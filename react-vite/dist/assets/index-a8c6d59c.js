function kT(R,O){for(var J=0;J<O.length;J++){const ue=O[J];if(typeof ue!="string"&&!Array.isArray(ue)){for(const Le in ue)if(Le!=="default"&&!(Le in R)){const Oe=Object.getOwnPropertyDescriptor(ue,Le);Oe&&Object.defineProperty(R,Le,Oe.get?Oe:{enumerable:!0,get:()=>ue[Le]})}}}return Object.freeze(Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}))}(function(){const O=document.createElement("link").relList;if(O&&O.supports&&O.supports("modulepreload"))return;for(const Le of document.querySelectorAll('link[rel="modulepreload"]'))ue(Le);new MutationObserver(Le=>{for(const Oe of Le)if(Oe.type==="childList")for(const H of Oe.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&ue(H)}).observe(document,{childList:!0,subtree:!0});function J(Le){const Oe={};return Le.integrity&&(Oe.integrity=Le.integrity),Le.referrerPolicy&&(Oe.referrerPolicy=Le.referrerPolicy),Le.crossOrigin==="use-credentials"?Oe.credentials="include":Le.crossOrigin==="anonymous"?Oe.credentials="omit":Oe.credentials="same-origin",Oe}function ue(Le){if(Le.ep)return;Le.ep=!0;const Oe=J(Le);fetch(Le.href,Oe)}})();var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dy(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}function PC(R){if(R.__esModule)return R;var O=R.default;if(typeof O=="function"){var J=function ue(){return this instanceof ue?Reflect.construct(O,arguments,this.constructor):O.apply(this,arguments)};J.prototype=O.prototype}else J={};return Object.defineProperty(J,"__esModule",{value:!0}),Object.keys(R).forEach(function(ue){var Le=Object.getOwnPropertyDescriptor(R,ue);Object.defineProperty(J,ue,Le.get?Le:{enumerable:!0,get:function(){return R[ue]}})}),J}var FT={exports:{}},py={},OT={exports:{}},di={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=Symbol.for("react.element"),RC=Symbol.for("react.portal"),DC=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),_C=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),FC=Symbol.for("react.context"),OC=Symbol.for("react.forward_ref"),zC=Symbol.for("react.suspense"),NC=Symbol.for("react.memo"),BC=Symbol.for("react.lazy"),$3=Symbol.iterator;function UC(R){return R===null||typeof R!="object"?null:(R=$3&&R[$3]||R["@@iterator"],typeof R=="function"?R:null)}var zT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NT=Object.assign,BT={};function _d(R,O,J){this.props=R,this.context=O,this.refs=BT,this.updater=J||zT}_d.prototype.isReactComponent={};_d.prototype.setState=function(R,O){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,O,"setState")};_d.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function UT(){}UT.prototype=_d.prototype;function l2(R,O,J){this.props=R,this.context=O,this.refs=BT,this.updater=J||zT}var u2=l2.prototype=new UT;u2.constructor=l2;NT(u2,_d.prototype);u2.isPureReactComponent=!0;var Q3=Array.isArray,VT=Object.prototype.hasOwnProperty,f2={current:null},jT={key:!0,ref:!0,__self:!0,__source:!0};function HT(R,O,J){var ue,Le={},Oe=null,H=null;if(O!=null)for(ue in O.ref!==void 0&&(H=O.ref),O.key!==void 0&&(Oe=""+O.key),O)VT.call(O,ue)&&!jT.hasOwnProperty(ue)&&(Le[ue]=O[ue]);var j=arguments.length-2;if(j===1)Le.children=J;else if(1<j){for(var e=Array(j),g=0;g<j;g++)e[g]=arguments[g+2];Le.children=e}if(R&&R.defaultProps)for(ue in j=R.defaultProps,j)Le[ue]===void 0&&(Le[ue]=j[ue]);return{$$typeof:i0,type:R,key:Oe,ref:H,props:Le,_owner:f2.current}}function VC(R,O){return{$$typeof:i0,type:R.type,key:O,ref:R.ref,props:R.props,_owner:R._owner}}function c2(R){return typeof R=="object"&&R!==null&&R.$$typeof===i0}function jC(R){var O={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(J){return O[J]})}var q3=/\/+/g;function jm(R,O){return typeof R=="object"&&R!==null&&R.key!=null?jC(""+R.key):O.toString(36)}function yg(R,O,J,ue,Le){var Oe=typeof R;(Oe==="undefined"||Oe==="boolean")&&(R=null);var H=!1;if(R===null)H=!0;else switch(Oe){case"string":case"number":H=!0;break;case"object":switch(R.$$typeof){case i0:case RC:H=!0}}if(H)return H=R,Le=Le(H),R=ue===""?"."+jm(H,0):ue,Q3(Le)?(J="",R!=null&&(J=R.replace(q3,"$&/")+"/"),yg(Le,O,J,"",function(g){return g})):Le!=null&&(c2(Le)&&(Le=VC(Le,J+(!Le.key||H&&H.key===Le.key?"":(""+Le.key).replace(q3,"$&/")+"/")+R)),O.push(Le)),1;if(H=0,ue=ue===""?".":ue+":",Q3(R))for(var j=0;j<R.length;j++){Oe=R[j];var e=ue+jm(Oe,j);H+=yg(Oe,O,J,e,Le)}else if(e=UC(R),typeof e=="function")for(R=e.call(R),j=0;!(Oe=R.next()).done;)Oe=Oe.value,e=ue+jm(Oe,j++),H+=yg(Oe,O,J,e,Le);else if(Oe==="object")throw O=String(R),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return H}function V0(R,O,J){if(R==null)return R;var ue=[],Le=0;return yg(R,ue,"","",function(Oe){return O.call(J,Oe,Le++)}),ue}function HC(R){if(R._status===-1){var O=R._result;O=O(),O.then(function(J){(R._status===0||R._status===-1)&&(R._status=1,R._result=J)},function(J){(R._status===0||R._status===-1)&&(R._status=2,R._result=J)}),R._status===-1&&(R._status=0,R._result=O)}if(R._status===1)return R._result.default;throw R._result}var $s={current:null},mg={transition:null},GC={ReactCurrentDispatcher:$s,ReactCurrentBatchConfig:mg,ReactCurrentOwner:f2};di.Children={map:V0,forEach:function(R,O,J){V0(R,function(){O.apply(this,arguments)},J)},count:function(R){var O=0;return V0(R,function(){O++}),O},toArray:function(R){return V0(R,function(O){return O})||[]},only:function(R){if(!c2(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};di.Component=_d;di.Fragment=DC;di.Profiler=_C;di.PureComponent=l2;di.StrictMode=IC;di.Suspense=zC;di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC;di.cloneElement=function(R,O,J){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ue=NT({},R.props),Le=R.key,Oe=R.ref,H=R._owner;if(O!=null){if(O.ref!==void 0&&(Oe=O.ref,H=f2.current),O.key!==void 0&&(Le=""+O.key),R.type&&R.type.defaultProps)var j=R.type.defaultProps;for(e in O)VT.call(O,e)&&!jT.hasOwnProperty(e)&&(ue[e]=O[e]===void 0&&j!==void 0?j[e]:O[e])}var e=arguments.length-2;if(e===1)ue.children=J;else if(1<e){j=Array(e);for(var g=0;g<e;g++)j[g]=arguments[g+2];ue.children=j}return{$$typeof:i0,type:R.type,key:Le,ref:Oe,props:ue,_owner:H}};di.createContext=function(R){return R={$$typeof:FC,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:kC,_context:R},R.Consumer=R};di.createElement=HT;di.createFactory=function(R){var O=HT.bind(null,R);return O.type=R,O};di.createRef=function(){return{current:null}};di.forwardRef=function(R){return{$$typeof:OC,render:R}};di.isValidElement=c2;di.lazy=function(R){return{$$typeof:BC,_payload:{_status:-1,_result:R},_init:HC}};di.memo=function(R,O){return{$$typeof:NC,type:R,compare:O===void 0?null:O}};di.startTransition=function(R){var O=mg.transition;mg.transition={};try{R()}finally{mg.transition=O}};di.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};di.useCallback=function(R,O){return $s.current.useCallback(R,O)};di.useContext=function(R){return $s.current.useContext(R)};di.useDebugValue=function(){};di.useDeferredValue=function(R){return $s.current.useDeferredValue(R)};di.useEffect=function(R,O){return $s.current.useEffect(R,O)};di.useId=function(){return $s.current.useId()};di.useImperativeHandle=function(R,O,J){return $s.current.useImperativeHandle(R,O,J)};di.useInsertionEffect=function(R,O){return $s.current.useInsertionEffect(R,O)};di.useLayoutEffect=function(R,O){return $s.current.useLayoutEffect(R,O)};di.useMemo=function(R,O){return $s.current.useMemo(R,O)};di.useReducer=function(R,O,J){return $s.current.useReducer(R,O,J)};di.useRef=function(R){return $s.current.useRef(R)};di.useState=function(R){return $s.current.useState(R)};di.useSyncExternalStore=function(R,O,J){return $s.current.useSyncExternalStore(R,O,J)};di.useTransition=function(){return $s.current.useTransition()};di.version="18.2.0";OT.exports=di;var pn=OT.exports;const fc=dy(pn),WC=kT({__proto__:null,default:fc},[pn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=pn,XC=Symbol.for("react.element"),ZC=Symbol.for("react.fragment"),KC=Object.prototype.hasOwnProperty,JC=YC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$C={key:!0,ref:!0,__self:!0,__source:!0};function GT(R,O,J){var ue,Le={},Oe=null,H=null;J!==void 0&&(Oe=""+J),O.key!==void 0&&(Oe=""+O.key),O.ref!==void 0&&(H=O.ref);for(ue in O)KC.call(O,ue)&&!$C.hasOwnProperty(ue)&&(Le[ue]=O[ue]);if(R&&R.defaultProps)for(ue in O=R.defaultProps,O)Le[ue]===void 0&&(Le[ue]=O[ue]);return{$$typeof:XC,type:R,key:Oe,ref:H,props:Le,_owner:JC.current}}py.Fragment=ZC;py.jsx=GT;py.jsxs=GT;FT.exports=py;var Ze=FT.exports,X1={},WT={exports:{}},Nl={},YT={exports:{}},XT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(R){function O(b,s){var L=b.length;b.push(s);e:for(;0<L;){var A=L-1>>>1,k=b[A];if(0<Le(k,s))b[A]=s,b[L]=k,L=A;else break e}}function J(b){return b.length===0?null:b[0]}function ue(b){if(b.length===0)return null;var s=b[0],L=b.pop();if(L!==s){b[0]=L;e:for(var A=0,k=b.length,_=k>>>1;A<_;){var U=2*(A+1)-1,F=b[U],z=U+1,B=b[z];if(0>Le(F,L))z<k&&0>Le(B,F)?(b[A]=B,b[z]=L,A=z):(b[A]=F,b[U]=L,A=U);else if(z<k&&0>Le(B,L))b[A]=B,b[z]=L,A=z;else break e}}return s}function Le(b,s){var L=b.sortIndex-s.sortIndex;return L!==0?L:b.id-s.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Oe=performance;R.unstable_now=function(){return Oe.now()}}else{var H=Date,j=H.now();R.unstable_now=function(){return H.now()-j}}var e=[],g=[],P=1,a=null,x=3,w=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,i=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(b){for(var s=J(g);s!==null;){if(s.callback===null)ue(g);else if(s.startTime<=b)ue(g),s.sortIndex=s.expirationTime,O(e,s);else break;s=J(g)}}function u(b){if(p=!1,n(b),!v)if(J(e)!==null)v=!0,m(f);else{var s=J(g);s!==null&&E(u,s.startTime-b)}}function f(b,s){v=!1,p&&(p=!1,t(h),h=-1),w=!0;var L=x;try{for(n(s),a=J(e);a!==null&&(!(a.expirationTime>s)||b&&!o());){var A=a.callback;if(typeof A=="function"){a.callback=null,x=a.priorityLevel;var k=A(a.expirationTime<=s);s=R.unstable_now(),typeof k=="function"?a.callback=k:a===J(e)&&ue(e),n(s)}else ue(e);a=J(e)}if(a!==null)var _=!0;else{var U=J(g);U!==null&&E(u,U.startTime-s),_=!1}return _}finally{a=null,x=L,w=!1}}var l=!1,y=null,h=-1,M=5,c=-1;function o(){return!(R.unstable_now()-c<M)}function d(){if(y!==null){var b=R.unstable_now();c=b;var s=!0;try{s=y(!0,b)}finally{s?T():(l=!1,y=null)}}else l=!1}var T;if(typeof i=="function")T=function(){i(d)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,C=S.port2;S.port1.onmessage=d,T=function(){C.postMessage(null)}}else T=function(){r(d,0)};function m(b){y=b,l||(l=!0,T())}function E(b,s){h=r(function(){b(R.unstable_now())},s)}R.unstable_IdlePriority=5,R.unstable_ImmediatePriority=1,R.unstable_LowPriority=4,R.unstable_NormalPriority=3,R.unstable_Profiling=null,R.unstable_UserBlockingPriority=2,R.unstable_cancelCallback=function(b){b.callback=null},R.unstable_continueExecution=function(){v||w||(v=!0,m(f))},R.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<b?Math.floor(1e3/b):5},R.unstable_getCurrentPriorityLevel=function(){return x},R.unstable_getFirstCallbackNode=function(){return J(e)},R.unstable_next=function(b){switch(x){case 1:case 2:case 3:var s=3;break;default:s=x}var L=x;x=s;try{return b()}finally{x=L}},R.unstable_pauseExecution=function(){},R.unstable_requestPaint=function(){},R.unstable_runWithPriority=function(b,s){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var L=x;x=b;try{return s()}finally{x=L}},R.unstable_scheduleCallback=function(b,s,L){var A=R.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?A+L:A):L=A,b){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=L+k,b={id:P++,callback:s,priorityLevel:b,startTime:L,expirationTime:k,sortIndex:-1},L>A?(b.sortIndex=L,O(g,b),J(e)===null&&b===J(g)&&(p?(t(h),h=-1):p=!0,E(u,L-A))):(b.sortIndex=k,O(e,b),v||w||(v=!0,m(f))),b},R.unstable_shouldYield=o,R.unstable_wrapCallback=function(b){var s=x;return function(){var L=x;x=s;try{return b.apply(this,arguments)}finally{x=L}}}})(XT);YT.exports=XT;var QC=YT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=pn,zl=QC;function xa(R){for(var O="https://reactjs.org/docs/error-decoder.html?invariant="+R,J=1;J<arguments.length;J++)O+="&args[]="+encodeURIComponent(arguments[J]);return"Minified React error #"+R+"; visit "+O+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KT=new Set,Bp={};function Sv(R,O){Sd(R,O),Sd(R+"Capture",O)}function Sd(R,O){for(Bp[R]=O,R=0;R<O.length;R++)KT.add(O[R])}var vc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z1=Object.prototype.hasOwnProperty,qC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ew={},tw={};function eL(R){return Z1.call(tw,R)?!0:Z1.call(ew,R)?!1:qC.test(R)?tw[R]=!0:(ew[R]=!0,!1)}function tL(R,O,J,ue){if(J!==null&&J.type===0)return!1;switch(typeof O){case"function":case"symbol":return!0;case"boolean":return ue?!1:J!==null?!J.acceptsBooleans:(R=R.toLowerCase().slice(0,5),R!=="data-"&&R!=="aria-");default:return!1}}function rL(R,O,J,ue){if(O===null||typeof O>"u"||tL(R,O,J,ue))return!0;if(ue)return!1;if(J!==null)switch(J.type){case 3:return!O;case 4:return O===!1;case 5:return isNaN(O);case 6:return isNaN(O)||1>O}return!1}function Qs(R,O,J,ue,Le,Oe,H){this.acceptsBooleans=O===2||O===3||O===4,this.attributeName=ue,this.attributeNamespace=Le,this.mustUseProperty=J,this.propertyName=R,this.type=O,this.sanitizeURL=Oe,this.removeEmptyString=H}var ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(R){ws[R]=new Qs(R,0,!1,R,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(R){var O=R[0];ws[O]=new Qs(O,1,!1,R[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(R){ws[R]=new Qs(R,2,!1,R.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(R){ws[R]=new Qs(R,2,!1,R,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(R){ws[R]=new Qs(R,3,!1,R.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(R){ws[R]=new Qs(R,3,!0,R,null,!1,!1)});["capture","download"].forEach(function(R){ws[R]=new Qs(R,4,!1,R,null,!1,!1)});["cols","rows","size","span"].forEach(function(R){ws[R]=new Qs(R,6,!1,R,null,!1,!1)});["rowSpan","start"].forEach(function(R){ws[R]=new Qs(R,5,!1,R.toLowerCase(),null,!1,!1)});var h2=/[\-:]([a-z])/g;function v2(R){return R[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(R){var O=R.replace(h2,v2);ws[O]=new Qs(O,1,!1,R,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(R){var O=R.replace(h2,v2);ws[O]=new Qs(O,1,!1,R,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(R){var O=R.replace(h2,v2);ws[O]=new Qs(O,1,!1,R,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(R){ws[R]=new Qs(R,1,!1,R.toLowerCase(),null,!1,!1)});ws.xlinkHref=new Qs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(R){ws[R]=new Qs(R,1,!1,R.toLowerCase(),null,!0,!0)});function d2(R,O,J,ue){var Le=ws.hasOwnProperty(O)?ws[O]:null;(Le!==null?Le.type!==0:ue||!(2<O.length)||O[0]!=="o"&&O[0]!=="O"||O[1]!=="n"&&O[1]!=="N")&&(rL(O,J,Le,ue)&&(J=null),ue||Le===null?eL(O)&&(J===null?R.removeAttribute(O):R.setAttribute(O,""+J)):Le.mustUseProperty?R[Le.propertyName]=J===null?Le.type===3?!1:"":J:(O=Le.attributeName,ue=Le.attributeNamespace,J===null?R.removeAttribute(O):(Le=Le.type,J=Le===3||Le===4&&J===!0?"":""+J,ue?R.setAttributeNS(ue,O,J):R.setAttribute(O,J))))}var yc=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j0=Symbol.for("react.element"),rd=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),p2=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),JT=Symbol.for("react.provider"),$T=Symbol.for("react.context"),g2=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),$1=Symbol.for("react.suspense_list"),y2=Symbol.for("react.memo"),sh=Symbol.for("react.lazy"),QT=Symbol.for("react.offscreen"),rw=Symbol.iterator;function ip(R){return R===null||typeof R!="object"?null:(R=rw&&R[rw]||R["@@iterator"],typeof R=="function"?R:null)}var yo=Object.assign,Hm;function Ap(R){if(Hm===void 0)try{throw Error()}catch(J){var O=J.stack.trim().match(/\n( *(at )?)/);Hm=O&&O[1]||""}return`
`+Hm+R}var Gm=!1;function Wm(R,O){if(!R||Gm)return"";Gm=!0;var J=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(O)if(O=function(){throw Error()},Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(g){var ue=g}Reflect.construct(R,[],O)}else{try{O.call()}catch(g){ue=g}R.call(O.prototype)}else{try{throw Error()}catch(g){ue=g}R()}}catch(g){if(g&&ue&&typeof g.stack=="string"){for(var Le=g.stack.split(`
`),Oe=ue.stack.split(`
`),H=Le.length-1,j=Oe.length-1;1<=H&&0<=j&&Le[H]!==Oe[j];)j--;for(;1<=H&&0<=j;H--,j--)if(Le[H]!==Oe[j]){if(H!==1||j!==1)do if(H--,j--,0>j||Le[H]!==Oe[j]){var e=`
`+Le[H].replace(" at new "," at ");return R.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",R.displayName)),e}while(1<=H&&0<=j);break}}}finally{Gm=!1,Error.prepareStackTrace=J}return(R=R?R.displayName||R.name:"")?Ap(R):""}function nL(R){switch(R.tag){case 5:return Ap(R.type);case 16:return Ap("Lazy");case 13:return Ap("Suspense");case 19:return Ap("SuspenseList");case 0:case 2:case 15:return R=Wm(R.type,!1),R;case 11:return R=Wm(R.type.render,!1),R;case 1:return R=Wm(R.type,!0),R;default:return""}}function Q1(R){if(R==null)return null;if(typeof R=="function")return R.displayName||R.name||null;if(typeof R=="string")return R;switch(R){case nd:return"Fragment";case rd:return"Portal";case K1:return"Profiler";case p2:return"StrictMode";case J1:return"Suspense";case $1:return"SuspenseList"}if(typeof R=="object")switch(R.$$typeof){case $T:return(R.displayName||"Context")+".Consumer";case JT:return(R._context.displayName||"Context")+".Provider";case g2:var O=R.render;return R=R.displayName,R||(R=O.displayName||O.name||"",R=R!==""?"ForwardRef("+R+")":"ForwardRef"),R;case y2:return O=R.displayName||null,O!==null?O:Q1(R.type)||"Memo";case sh:O=R._payload,R=R._init;try{return Q1(R(O))}catch{}}return null}function aL(R){var O=R.type;switch(R.tag){case 24:return"Cache";case 9:return(O.displayName||"Context")+".Consumer";case 10:return(O._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return R=O.render,R=R.displayName||R.name||"",O.displayName||(R!==""?"ForwardRef("+R+")":"ForwardRef");case 7:return"Fragment";case 5:return O;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q1(O);case 8:return O===p2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O}return null}function Th(R){switch(typeof R){case"boolean":case"number":case"string":case"undefined":return R;case"object":return R;default:return""}}function qT(R){var O=R.type;return(R=R.nodeName)&&R.toLowerCase()==="input"&&(O==="checkbox"||O==="radio")}function iL(R){var O=qT(R)?"checked":"value",J=Object.getOwnPropertyDescriptor(R.constructor.prototype,O),ue=""+R[O];if(!R.hasOwnProperty(O)&&typeof J<"u"&&typeof J.get=="function"&&typeof J.set=="function"){var Le=J.get,Oe=J.set;return Object.defineProperty(R,O,{configurable:!0,get:function(){return Le.call(this)},set:function(H){ue=""+H,Oe.call(this,H)}}),Object.defineProperty(R,O,{enumerable:J.enumerable}),{getValue:function(){return ue},setValue:function(H){ue=""+H},stopTracking:function(){R._valueTracker=null,delete R[O]}}}}function H0(R){R._valueTracker||(R._valueTracker=iL(R))}function e5(R){if(!R)return!1;var O=R._valueTracker;if(!O)return!0;var J=O.getValue(),ue="";return R&&(ue=qT(R)?R.checked?"true":"false":R.value),R=ue,R!==J?(O.setValue(R),!0):!1}function Ig(R){if(R=R||(typeof document<"u"?document:void 0),typeof R>"u")return null;try{return R.activeElement||R.body}catch{return R.body}}function q1(R,O){var J=O.checked;return yo({},O,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:J??R._wrapperState.initialChecked})}function nw(R,O){var J=O.defaultValue==null?"":O.defaultValue,ue=O.checked!=null?O.checked:O.defaultChecked;J=Th(O.value!=null?O.value:J),R._wrapperState={initialChecked:ue,initialValue:J,controlled:O.type==="checkbox"||O.type==="radio"?O.checked!=null:O.value!=null}}function t5(R,O){O=O.checked,O!=null&&d2(R,"checked",O,!1)}function ex(R,O){t5(R,O);var J=Th(O.value),ue=O.type;if(J!=null)ue==="number"?(J===0&&R.value===""||R.value!=J)&&(R.value=""+J):R.value!==""+J&&(R.value=""+J);else if(ue==="submit"||ue==="reset"){R.removeAttribute("value");return}O.hasOwnProperty("value")?tx(R,O.type,J):O.hasOwnProperty("defaultValue")&&tx(R,O.type,Th(O.defaultValue)),O.checked==null&&O.defaultChecked!=null&&(R.defaultChecked=!!O.defaultChecked)}function aw(R,O,J){if(O.hasOwnProperty("value")||O.hasOwnProperty("defaultValue")){var ue=O.type;if(!(ue!=="submit"&&ue!=="reset"||O.value!==void 0&&O.value!==null))return;O=""+R._wrapperState.initialValue,J||O===R.value||(R.value=O),R.defaultValue=O}J=R.name,J!==""&&(R.name=""),R.defaultChecked=!!R._wrapperState.initialChecked,J!==""&&(R.name=J)}function tx(R,O,J){(O!=="number"||Ig(R.ownerDocument)!==R)&&(J==null?R.defaultValue=""+R._wrapperState.initialValue:R.defaultValue!==""+J&&(R.defaultValue=""+J))}var Sp=Array.isArray;function gd(R,O,J,ue){if(R=R.options,O){O={};for(var Le=0;Le<J.length;Le++)O["$"+J[Le]]=!0;for(J=0;J<R.length;J++)Le=O.hasOwnProperty("$"+R[J].value),R[J].selected!==Le&&(R[J].selected=Le),Le&&ue&&(R[J].defaultSelected=!0)}else{for(J=""+Th(J),O=null,Le=0;Le<R.length;Le++){if(R[Le].value===J){R[Le].selected=!0,ue&&(R[Le].defaultSelected=!0);return}O!==null||R[Le].disabled||(O=R[Le])}O!==null&&(O.selected=!0)}}function rx(R,O){if(O.dangerouslySetInnerHTML!=null)throw Error(xa(91));return yo({},O,{value:void 0,defaultValue:void 0,children:""+R._wrapperState.initialValue})}function iw(R,O){var J=O.value;if(J==null){if(J=O.children,O=O.defaultValue,J!=null){if(O!=null)throw Error(xa(92));if(Sp(J)){if(1<J.length)throw Error(xa(93));J=J[0]}O=J}O==null&&(O=""),J=O}R._wrapperState={initialValue:Th(J)}}function r5(R,O){var J=Th(O.value),ue=Th(O.defaultValue);J!=null&&(J=""+J,J!==R.value&&(R.value=J),O.defaultValue==null&&R.defaultValue!==J&&(R.defaultValue=J)),ue!=null&&(R.defaultValue=""+ue)}function ow(R){var O=R.textContent;O===R._wrapperState.initialValue&&O!==""&&O!==null&&(R.value=O)}function n5(R){switch(R){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nx(R,O){return R==null||R==="http://www.w3.org/1999/xhtml"?n5(O):R==="http://www.w3.org/2000/svg"&&O==="foreignObject"?"http://www.w3.org/1999/xhtml":R}var G0,a5=function(R){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(O,J,ue,Le){MSApp.execUnsafeLocalFunction(function(){return R(O,J,ue,Le)})}:R}(function(R,O){if(R.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in R)R.innerHTML=O;else{for(G0=G0||document.createElement("div"),G0.innerHTML="<svg>"+O.valueOf().toString()+"</svg>",O=G0.firstChild;R.firstChild;)R.removeChild(R.firstChild);for(;O.firstChild;)R.appendChild(O.firstChild)}});function Up(R,O){if(O){var J=R.firstChild;if(J&&J===R.lastChild&&J.nodeType===3){J.nodeValue=O;return}}R.textContent=O}var Lp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oL=["Webkit","ms","Moz","O"];Object.keys(Lp).forEach(function(R){oL.forEach(function(O){O=O+R.charAt(0).toUpperCase()+R.substring(1),Lp[O]=Lp[R]})});function i5(R,O,J){return O==null||typeof O=="boolean"||O===""?"":J||typeof O!="number"||O===0||Lp.hasOwnProperty(R)&&Lp[R]?(""+O).trim():O+"px"}function o5(R,O){R=R.style;for(var J in O)if(O.hasOwnProperty(J)){var ue=J.indexOf("--")===0,Le=i5(J,O[J],ue);J==="float"&&(J="cssFloat"),ue?R.setProperty(J,Le):R[J]=Le}}var sL=yo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ax(R,O){if(O){if(sL[R]&&(O.children!=null||O.dangerouslySetInnerHTML!=null))throw Error(xa(137,R));if(O.dangerouslySetInnerHTML!=null){if(O.children!=null)throw Error(xa(60));if(typeof O.dangerouslySetInnerHTML!="object"||!("__html"in O.dangerouslySetInnerHTML))throw Error(xa(61))}if(O.style!=null&&typeof O.style!="object")throw Error(xa(62))}}function ix(R,O){if(R.indexOf("-")===-1)return typeof O.is=="string";switch(R){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ox=null;function m2(R){return R=R.target||R.srcElement||window,R.correspondingUseElement&&(R=R.correspondingUseElement),R.nodeType===3?R.parentNode:R}var sx=null,yd=null,md=null;function sw(R){if(R=l0(R)){if(typeof sx!="function")throw Error(xa(280));var O=R.stateNode;O&&(O=by(O),sx(R.stateNode,R.type,O))}}function s5(R){yd?md?md.push(R):md=[R]:yd=R}function l5(){if(yd){var R=yd,O=md;if(md=yd=null,sw(R),O)for(R=0;R<O.length;R++)sw(O[R])}}function u5(R,O){return R(O)}function f5(){}var Ym=!1;function c5(R,O,J){if(Ym)return R(O,J);Ym=!0;try{return u5(R,O,J)}finally{Ym=!1,(yd!==null||md!==null)&&(f5(),l5())}}function Vp(R,O){var J=R.stateNode;if(J===null)return null;var ue=by(J);if(ue===null)return null;J=ue[O];e:switch(O){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ue=!ue.disabled)||(R=R.type,ue=!(R==="button"||R==="input"||R==="select"||R==="textarea")),R=!ue;break e;default:R=!1}if(R)return null;if(J&&typeof J!="function")throw Error(xa(231,O,typeof J));return J}var lx=!1;if(vc)try{var op={};Object.defineProperty(op,"passive",{get:function(){lx=!0}}),window.addEventListener("test",op,op),window.removeEventListener("test",op,op)}catch{lx=!1}function lL(R,O,J,ue,Le,Oe,H,j,e){var g=Array.prototype.slice.call(arguments,3);try{O.apply(J,g)}catch(P){this.onError(P)}}var Pp=!1,_g=null,kg=!1,ux=null,uL={onError:function(R){Pp=!0,_g=R}};function fL(R,O,J,ue,Le,Oe,H,j,e){Pp=!1,_g=null,lL.apply(uL,arguments)}function cL(R,O,J,ue,Le,Oe,H,j,e){if(fL.apply(this,arguments),Pp){if(Pp){var g=_g;Pp=!1,_g=null}else throw Error(xa(198));kg||(kg=!0,ux=g)}}function Mv(R){var O=R,J=R;if(R.alternate)for(;O.return;)O=O.return;else{R=O;do O=R,O.flags&4098&&(J=O.return),R=O.return;while(R)}return O.tag===3?J:null}function h5(R){if(R.tag===13){var O=R.memoizedState;if(O===null&&(R=R.alternate,R!==null&&(O=R.memoizedState)),O!==null)return O.dehydrated}return null}function lw(R){if(Mv(R)!==R)throw Error(xa(188))}function hL(R){var O=R.alternate;if(!O){if(O=Mv(R),O===null)throw Error(xa(188));return O!==R?null:R}for(var J=R,ue=O;;){var Le=J.return;if(Le===null)break;var Oe=Le.alternate;if(Oe===null){if(ue=Le.return,ue!==null){J=ue;continue}break}if(Le.child===Oe.child){for(Oe=Le.child;Oe;){if(Oe===J)return lw(Le),R;if(Oe===ue)return lw(Le),O;Oe=Oe.sibling}throw Error(xa(188))}if(J.return!==ue.return)J=Le,ue=Oe;else{for(var H=!1,j=Le.child;j;){if(j===J){H=!0,J=Le,ue=Oe;break}if(j===ue){H=!0,ue=Le,J=Oe;break}j=j.sibling}if(!H){for(j=Oe.child;j;){if(j===J){H=!0,J=Oe,ue=Le;break}if(j===ue){H=!0,ue=Oe,J=Le;break}j=j.sibling}if(!H)throw Error(xa(189))}}if(J.alternate!==ue)throw Error(xa(190))}if(J.tag!==3)throw Error(xa(188));return J.stateNode.current===J?R:O}function v5(R){return R=hL(R),R!==null?d5(R):null}function d5(R){if(R.tag===5||R.tag===6)return R;for(R=R.child;R!==null;){var O=d5(R);if(O!==null)return O;R=R.sibling}return null}var p5=zl.unstable_scheduleCallback,uw=zl.unstable_cancelCallback,vL=zl.unstable_shouldYield,dL=zl.unstable_requestPaint,Fo=zl.unstable_now,pL=zl.unstable_getCurrentPriorityLevel,x2=zl.unstable_ImmediatePriority,g5=zl.unstable_UserBlockingPriority,Fg=zl.unstable_NormalPriority,gL=zl.unstable_LowPriority,y5=zl.unstable_IdlePriority,gy=null,Df=null;function yL(R){if(Df&&typeof Df.onCommitFiberRoot=="function")try{Df.onCommitFiberRoot(gy,R,void 0,(R.current.flags&128)===128)}catch{}}var ef=Math.clz32?Math.clz32:bL,mL=Math.log,xL=Math.LN2;function bL(R){return R>>>=0,R===0?32:31-(mL(R)/xL|0)|0}var W0=64,Y0=4194304;function Mp(R){switch(R&-R){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return R&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return R&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return R}}function Og(R,O){var J=R.pendingLanes;if(J===0)return 0;var ue=0,Le=R.suspendedLanes,Oe=R.pingedLanes,H=J&268435455;if(H!==0){var j=H&~Le;j!==0?ue=Mp(j):(Oe&=H,Oe!==0&&(ue=Mp(Oe)))}else H=J&~Le,H!==0?ue=Mp(H):Oe!==0&&(ue=Mp(Oe));if(ue===0)return 0;if(O!==0&&O!==ue&&!(O&Le)&&(Le=ue&-ue,Oe=O&-O,Le>=Oe||Le===16&&(Oe&4194240)!==0))return O;if(ue&4&&(ue|=J&16),O=R.entangledLanes,O!==0)for(R=R.entanglements,O&=ue;0<O;)J=31-ef(O),Le=1<<J,ue|=R[J],O&=~Le;return ue}function wL(R,O){switch(R){case 1:case 2:case 4:return O+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return O+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TL(R,O){for(var J=R.suspendedLanes,ue=R.pingedLanes,Le=R.expirationTimes,Oe=R.pendingLanes;0<Oe;){var H=31-ef(Oe),j=1<<H,e=Le[H];e===-1?(!(j&J)||j&ue)&&(Le[H]=wL(j,O)):e<=O&&(R.expiredLanes|=j),Oe&=~j}}function fx(R){return R=R.pendingLanes&-1073741825,R!==0?R:R&1073741824?1073741824:0}function m5(){var R=W0;return W0<<=1,!(W0&4194240)&&(W0=64),R}function Xm(R){for(var O=[],J=0;31>J;J++)O.push(R);return O}function o0(R,O,J){R.pendingLanes|=O,O!==536870912&&(R.suspendedLanes=0,R.pingedLanes=0),R=R.eventTimes,O=31-ef(O),R[O]=J}function AL(R,O){var J=R.pendingLanes&~O;R.pendingLanes=O,R.suspendedLanes=0,R.pingedLanes=0,R.expiredLanes&=O,R.mutableReadLanes&=O,R.entangledLanes&=O,O=R.entanglements;var ue=R.eventTimes;for(R=R.expirationTimes;0<J;){var Le=31-ef(J),Oe=1<<Le;O[Le]=0,ue[Le]=-1,R[Le]=-1,J&=~Oe}}function b2(R,O){var J=R.entangledLanes|=O;for(R=R.entanglements;J;){var ue=31-ef(J),Le=1<<ue;Le&O|R[ue]&O&&(R[ue]|=O),J&=~Le}}var Ii=0;function x5(R){return R&=-R,1<R?4<R?R&268435455?16:536870912:4:1}var b5,w2,w5,T5,A5,cx=!1,X0=[],dh=null,ph=null,gh=null,jp=new Map,Hp=new Map,uh=[],SL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(R,O){switch(R){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":gh=null;break;case"pointerover":case"pointerout":jp.delete(O.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hp.delete(O.pointerId)}}function sp(R,O,J,ue,Le,Oe){return R===null||R.nativeEvent!==Oe?(R={blockedOn:O,domEventName:J,eventSystemFlags:ue,nativeEvent:Oe,targetContainers:[Le]},O!==null&&(O=l0(O),O!==null&&w2(O)),R):(R.eventSystemFlags|=ue,O=R.targetContainers,Le!==null&&O.indexOf(Le)===-1&&O.push(Le),R)}function ML(R,O,J,ue,Le){switch(O){case"focusin":return dh=sp(dh,R,O,J,ue,Le),!0;case"dragenter":return ph=sp(ph,R,O,J,ue,Le),!0;case"mouseover":return gh=sp(gh,R,O,J,ue,Le),!0;case"pointerover":var Oe=Le.pointerId;return jp.set(Oe,sp(jp.get(Oe)||null,R,O,J,ue,Le)),!0;case"gotpointercapture":return Oe=Le.pointerId,Hp.set(Oe,sp(Hp.get(Oe)||null,R,O,J,ue,Le)),!0}return!1}function S5(R){var O=fv(R.target);if(O!==null){var J=Mv(O);if(J!==null){if(O=J.tag,O===13){if(O=h5(J),O!==null){R.blockedOn=O,A5(R.priority,function(){w5(J)});return}}else if(O===3&&J.stateNode.current.memoizedState.isDehydrated){R.blockedOn=J.tag===3?J.stateNode.containerInfo:null;return}}}R.blockedOn=null}function xg(R){if(R.blockedOn!==null)return!1;for(var O=R.targetContainers;0<O.length;){var J=hx(R.domEventName,R.eventSystemFlags,O[0],R.nativeEvent);if(J===null){J=R.nativeEvent;var ue=new J.constructor(J.type,J);ox=ue,J.target.dispatchEvent(ue),ox=null}else return O=l0(J),O!==null&&w2(O),R.blockedOn=J,!1;O.shift()}return!0}function cw(R,O,J){xg(R)&&J.delete(O)}function EL(){cx=!1,dh!==null&&xg(dh)&&(dh=null),ph!==null&&xg(ph)&&(ph=null),gh!==null&&xg(gh)&&(gh=null),jp.forEach(cw),Hp.forEach(cw)}function lp(R,O){R.blockedOn===O&&(R.blockedOn=null,cx||(cx=!0,zl.unstable_scheduleCallback(zl.unstable_NormalPriority,EL)))}function Gp(R){function O(Le){return lp(Le,R)}if(0<X0.length){lp(X0[0],R);for(var J=1;J<X0.length;J++){var ue=X0[J];ue.blockedOn===R&&(ue.blockedOn=null)}}for(dh!==null&&lp(dh,R),ph!==null&&lp(ph,R),gh!==null&&lp(gh,R),jp.forEach(O),Hp.forEach(O),J=0;J<uh.length;J++)ue=uh[J],ue.blockedOn===R&&(ue.blockedOn=null);for(;0<uh.length&&(J=uh[0],J.blockedOn===null);)S5(J),J.blockedOn===null&&uh.shift()}var xd=yc.ReactCurrentBatchConfig,zg=!0;function CL(R,O,J,ue){var Le=Ii,Oe=xd.transition;xd.transition=null;try{Ii=1,T2(R,O,J,ue)}finally{Ii=Le,xd.transition=Oe}}function LL(R,O,J,ue){var Le=Ii,Oe=xd.transition;xd.transition=null;try{Ii=4,T2(R,O,J,ue)}finally{Ii=Le,xd.transition=Oe}}function T2(R,O,J,ue){if(zg){var Le=hx(R,O,J,ue);if(Le===null)n1(R,O,ue,Ng,J),fw(R,ue);else if(ML(Le,R,O,J,ue))ue.stopPropagation();else if(fw(R,ue),O&4&&-1<SL.indexOf(R)){for(;Le!==null;){var Oe=l0(Le);if(Oe!==null&&b5(Oe),Oe=hx(R,O,J,ue),Oe===null&&n1(R,O,ue,Ng,J),Oe===Le)break;Le=Oe}Le!==null&&ue.stopPropagation()}else n1(R,O,ue,null,J)}}var Ng=null;function hx(R,O,J,ue){if(Ng=null,R=m2(ue),R=fv(R),R!==null)if(O=Mv(R),O===null)R=null;else if(J=O.tag,J===13){if(R=h5(O),R!==null)return R;R=null}else if(J===3){if(O.stateNode.current.memoizedState.isDehydrated)return O.tag===3?O.stateNode.containerInfo:null;R=null}else O!==R&&(R=null);return Ng=R,null}function M5(R){switch(R){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pL()){case x2:return 1;case g5:return 4;case Fg:case gL:return 16;case y5:return 536870912;default:return 16}default:return 16}}var hh=null,A2=null,bg=null;function E5(){if(bg)return bg;var R,O=A2,J=O.length,ue,Le="value"in hh?hh.value:hh.textContent,Oe=Le.length;for(R=0;R<J&&O[R]===Le[R];R++);var H=J-R;for(ue=1;ue<=H&&O[J-ue]===Le[Oe-ue];ue++);return bg=Le.slice(R,1<ue?1-ue:void 0)}function wg(R){var O=R.keyCode;return"charCode"in R?(R=R.charCode,R===0&&O===13&&(R=13)):R=O,R===10&&(R=13),32<=R||R===13?R:0}function Z0(){return!0}function hw(){return!1}function Bl(R){function O(J,ue,Le,Oe,H){this._reactName=J,this._targetInst=Le,this.type=ue,this.nativeEvent=Oe,this.target=H,this.currentTarget=null;for(var j in R)R.hasOwnProperty(j)&&(J=R[j],this[j]=J?J(Oe):Oe[j]);return this.isDefaultPrevented=(Oe.defaultPrevented!=null?Oe.defaultPrevented:Oe.returnValue===!1)?Z0:hw,this.isPropagationStopped=hw,this}return yo(O.prototype,{preventDefault:function(){this.defaultPrevented=!0;var J=this.nativeEvent;J&&(J.preventDefault?J.preventDefault():typeof J.returnValue!="unknown"&&(J.returnValue=!1),this.isDefaultPrevented=Z0)},stopPropagation:function(){var J=this.nativeEvent;J&&(J.stopPropagation?J.stopPropagation():typeof J.cancelBubble!="unknown"&&(J.cancelBubble=!0),this.isPropagationStopped=Z0)},persist:function(){},isPersistent:Z0}),O}var kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(R){return R.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S2=Bl(kd),s0=yo({},kd,{view:0,detail:0}),PL=Bl(s0),Zm,Km,up,yy=yo({},s0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M2,button:0,buttons:0,relatedTarget:function(R){return R.relatedTarget===void 0?R.fromElement===R.srcElement?R.toElement:R.fromElement:R.relatedTarget},movementX:function(R){return"movementX"in R?R.movementX:(R!==up&&(up&&R.type==="mousemove"?(Zm=R.screenX-up.screenX,Km=R.screenY-up.screenY):Km=Zm=0,up=R),Zm)},movementY:function(R){return"movementY"in R?R.movementY:Km}}),vw=Bl(yy),RL=yo({},yy,{dataTransfer:0}),DL=Bl(RL),IL=yo({},s0,{relatedTarget:0}),Jm=Bl(IL),_L=yo({},kd,{animationName:0,elapsedTime:0,pseudoElement:0}),kL=Bl(_L),FL=yo({},kd,{clipboardData:function(R){return"clipboardData"in R?R.clipboardData:window.clipboardData}}),OL=Bl(FL),zL=yo({},kd,{data:0}),dw=Bl(zL),NL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VL(R){var O=this.nativeEvent;return O.getModifierState?O.getModifierState(R):(R=UL[R])?!!O[R]:!1}function M2(){return VL}var jL=yo({},s0,{key:function(R){if(R.key){var O=NL[R.key]||R.key;if(O!=="Unidentified")return O}return R.type==="keypress"?(R=wg(R),R===13?"Enter":String.fromCharCode(R)):R.type==="keydown"||R.type==="keyup"?BL[R.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M2,charCode:function(R){return R.type==="keypress"?wg(R):0},keyCode:function(R){return R.type==="keydown"||R.type==="keyup"?R.keyCode:0},which:function(R){return R.type==="keypress"?wg(R):R.type==="keydown"||R.type==="keyup"?R.keyCode:0}}),HL=Bl(jL),GL=yo({},yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pw=Bl(GL),WL=yo({},s0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M2}),YL=Bl(WL),XL=yo({},kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZL=Bl(XL),KL=yo({},yy,{deltaX:function(R){return"deltaX"in R?R.deltaX:"wheelDeltaX"in R?-R.wheelDeltaX:0},deltaY:function(R){return"deltaY"in R?R.deltaY:"wheelDeltaY"in R?-R.wheelDeltaY:"wheelDelta"in R?-R.wheelDelta:0},deltaZ:0,deltaMode:0}),JL=Bl(KL),$L=[9,13,27,32],E2=vc&&"CompositionEvent"in window,Rp=null;vc&&"documentMode"in document&&(Rp=document.documentMode);var QL=vc&&"TextEvent"in window&&!Rp,C5=vc&&(!E2||Rp&&8<Rp&&11>=Rp),gw=String.fromCharCode(32),yw=!1;function L5(R,O){switch(R){case"keyup":return $L.indexOf(O.keyCode)!==-1;case"keydown":return O.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P5(R){return R=R.detail,typeof R=="object"&&"data"in R?R.data:null}var ad=!1;function qL(R,O){switch(R){case"compositionend":return P5(O);case"keypress":return O.which!==32?null:(yw=!0,gw);case"textInput":return R=O.data,R===gw&&yw?null:R;default:return null}}function eP(R,O){if(ad)return R==="compositionend"||!E2&&L5(R,O)?(R=E5(),bg=A2=hh=null,ad=!1,R):null;switch(R){case"paste":return null;case"keypress":if(!(O.ctrlKey||O.altKey||O.metaKey)||O.ctrlKey&&O.altKey){if(O.char&&1<O.char.length)return O.char;if(O.which)return String.fromCharCode(O.which)}return null;case"compositionend":return C5&&O.locale!=="ko"?null:O.data;default:return null}}var tP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mw(R){var O=R&&R.nodeName&&R.nodeName.toLowerCase();return O==="input"?!!tP[R.type]:O==="textarea"}function R5(R,O,J,ue){s5(ue),O=Bg(O,"onChange"),0<O.length&&(J=new S2("onChange","change",null,J,ue),R.push({event:J,listeners:O}))}var Dp=null,Wp=null;function rP(R){V5(R,0)}function my(R){var O=sd(R);if(e5(O))return R}function nP(R,O){if(R==="change")return O}var D5=!1;if(vc){var $m;if(vc){var Qm="oninput"in document;if(!Qm){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),Qm=typeof xw.oninput=="function"}$m=Qm}else $m=!1;D5=$m&&(!document.documentMode||9<document.documentMode)}function bw(){Dp&&(Dp.detachEvent("onpropertychange",I5),Wp=Dp=null)}function I5(R){if(R.propertyName==="value"&&my(Wp)){var O=[];R5(O,Wp,R,m2(R)),c5(rP,O)}}function aP(R,O,J){R==="focusin"?(bw(),Dp=O,Wp=J,Dp.attachEvent("onpropertychange",I5)):R==="focusout"&&bw()}function iP(R){if(R==="selectionchange"||R==="keyup"||R==="keydown")return my(Wp)}function oP(R,O){if(R==="click")return my(O)}function sP(R,O){if(R==="input"||R==="change")return my(O)}function lP(R,O){return R===O&&(R!==0||1/R===1/O)||R!==R&&O!==O}var rf=typeof Object.is=="function"?Object.is:lP;function Yp(R,O){if(rf(R,O))return!0;if(typeof R!="object"||R===null||typeof O!="object"||O===null)return!1;var J=Object.keys(R),ue=Object.keys(O);if(J.length!==ue.length)return!1;for(ue=0;ue<J.length;ue++){var Le=J[ue];if(!Z1.call(O,Le)||!rf(R[Le],O[Le]))return!1}return!0}function ww(R){for(;R&&R.firstChild;)R=R.firstChild;return R}function Tw(R,O){var J=ww(R);R=0;for(var ue;J;){if(J.nodeType===3){if(ue=R+J.textContent.length,R<=O&&ue>=O)return{node:J,offset:O-R};R=ue}e:{for(;J;){if(J.nextSibling){J=J.nextSibling;break e}J=J.parentNode}J=void 0}J=ww(J)}}function _5(R,O){return R&&O?R===O?!0:R&&R.nodeType===3?!1:O&&O.nodeType===3?_5(R,O.parentNode):"contains"in R?R.contains(O):R.compareDocumentPosition?!!(R.compareDocumentPosition(O)&16):!1:!1}function k5(){for(var R=window,O=Ig();O instanceof R.HTMLIFrameElement;){try{var J=typeof O.contentWindow.location.href=="string"}catch{J=!1}if(J)R=O.contentWindow;else break;O=Ig(R.document)}return O}function C2(R){var O=R&&R.nodeName&&R.nodeName.toLowerCase();return O&&(O==="input"&&(R.type==="text"||R.type==="search"||R.type==="tel"||R.type==="url"||R.type==="password")||O==="textarea"||R.contentEditable==="true")}function uP(R){var O=k5(),J=R.focusedElem,ue=R.selectionRange;if(O!==J&&J&&J.ownerDocument&&_5(J.ownerDocument.documentElement,J)){if(ue!==null&&C2(J)){if(O=ue.start,R=ue.end,R===void 0&&(R=O),"selectionStart"in J)J.selectionStart=O,J.selectionEnd=Math.min(R,J.value.length);else if(R=(O=J.ownerDocument||document)&&O.defaultView||window,R.getSelection){R=R.getSelection();var Le=J.textContent.length,Oe=Math.min(ue.start,Le);ue=ue.end===void 0?Oe:Math.min(ue.end,Le),!R.extend&&Oe>ue&&(Le=ue,ue=Oe,Oe=Le),Le=Tw(J,Oe);var H=Tw(J,ue);Le&&H&&(R.rangeCount!==1||R.anchorNode!==Le.node||R.anchorOffset!==Le.offset||R.focusNode!==H.node||R.focusOffset!==H.offset)&&(O=O.createRange(),O.setStart(Le.node,Le.offset),R.removeAllRanges(),Oe>ue?(R.addRange(O),R.extend(H.node,H.offset)):(O.setEnd(H.node,H.offset),R.addRange(O)))}}for(O=[],R=J;R=R.parentNode;)R.nodeType===1&&O.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<O.length;J++)R=O[J],R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}var fP=vc&&"documentMode"in document&&11>=document.documentMode,id=null,vx=null,Ip=null,dx=!1;function Aw(R,O,J){var ue=J.window===J?J.document:J.nodeType===9?J:J.ownerDocument;dx||id==null||id!==Ig(ue)||(ue=id,"selectionStart"in ue&&C2(ue)?ue={start:ue.selectionStart,end:ue.selectionEnd}:(ue=(ue.ownerDocument&&ue.ownerDocument.defaultView||window).getSelection(),ue={anchorNode:ue.anchorNode,anchorOffset:ue.anchorOffset,focusNode:ue.focusNode,focusOffset:ue.focusOffset}),Ip&&Yp(Ip,ue)||(Ip=ue,ue=Bg(vx,"onSelect"),0<ue.length&&(O=new S2("onSelect","select",null,O,J),R.push({event:O,listeners:ue}),O.target=id)))}function K0(R,O){var J={};return J[R.toLowerCase()]=O.toLowerCase(),J["Webkit"+R]="webkit"+O,J["Moz"+R]="moz"+O,J}var od={animationend:K0("Animation","AnimationEnd"),animationiteration:K0("Animation","AnimationIteration"),animationstart:K0("Animation","AnimationStart"),transitionend:K0("Transition","TransitionEnd")},qm={},F5={};vc&&(F5=document.createElement("div").style,"AnimationEvent"in window||(delete od.animationend.animation,delete od.animationiteration.animation,delete od.animationstart.animation),"TransitionEvent"in window||delete od.transitionend.transition);function xy(R){if(qm[R])return qm[R];if(!od[R])return R;var O=od[R],J;for(J in O)if(O.hasOwnProperty(J)&&J in F5)return qm[R]=O[J];return R}var O5=xy("animationend"),z5=xy("animationiteration"),N5=xy("animationstart"),B5=xy("transitionend"),U5=new Map,Sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lh(R,O){U5.set(R,O),Sv(O,[R])}for(var e1=0;e1<Sw.length;e1++){var t1=Sw[e1],cP=t1.toLowerCase(),hP=t1[0].toUpperCase()+t1.slice(1);Lh(cP,"on"+hP)}Lh(O5,"onAnimationEnd");Lh(z5,"onAnimationIteration");Lh(N5,"onAnimationStart");Lh("dblclick","onDoubleClick");Lh("focusin","onFocus");Lh("focusout","onBlur");Lh(B5,"onTransitionEnd");Sd("onMouseEnter",["mouseout","mouseover"]);Sd("onMouseLeave",["mouseout","mouseover"]);Sd("onPointerEnter",["pointerout","pointerover"]);Sd("onPointerLeave",["pointerout","pointerover"]);Sv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ep));function Mw(R,O,J){var ue=R.type||"unknown-event";R.currentTarget=J,cL(ue,O,void 0,R),R.currentTarget=null}function V5(R,O){O=(O&4)!==0;for(var J=0;J<R.length;J++){var ue=R[J],Le=ue.event;ue=ue.listeners;e:{var Oe=void 0;if(O)for(var H=ue.length-1;0<=H;H--){var j=ue[H],e=j.instance,g=j.currentTarget;if(j=j.listener,e!==Oe&&Le.isPropagationStopped())break e;Mw(Le,j,g),Oe=e}else for(H=0;H<ue.length;H++){if(j=ue[H],e=j.instance,g=j.currentTarget,j=j.listener,e!==Oe&&Le.isPropagationStopped())break e;Mw(Le,j,g),Oe=e}}}if(kg)throw R=ux,kg=!1,ux=null,R}function Ki(R,O){var J=O[xx];J===void 0&&(J=O[xx]=new Set);var ue=R+"__bubble";J.has(ue)||(j5(O,R,2,!1),J.add(ue))}function r1(R,O,J){var ue=0;O&&(ue|=4),j5(J,R,ue,O)}var J0="_reactListening"+Math.random().toString(36).slice(2);function Xp(R){if(!R[J0]){R[J0]=!0,KT.forEach(function(J){J!=="selectionchange"&&(vP.has(J)||r1(J,!1,R),r1(J,!0,R))});var O=R.nodeType===9?R:R.ownerDocument;O===null||O[J0]||(O[J0]=!0,r1("selectionchange",!1,O))}}function j5(R,O,J,ue){switch(M5(O)){case 1:var Le=CL;break;case 4:Le=LL;break;default:Le=T2}J=Le.bind(null,O,J,R),Le=void 0,!lx||O!=="touchstart"&&O!=="touchmove"&&O!=="wheel"||(Le=!0),ue?Le!==void 0?R.addEventListener(O,J,{capture:!0,passive:Le}):R.addEventListener(O,J,!0):Le!==void 0?R.addEventListener(O,J,{passive:Le}):R.addEventListener(O,J,!1)}function n1(R,O,J,ue,Le){var Oe=ue;if(!(O&1)&&!(O&2)&&ue!==null)e:for(;;){if(ue===null)return;var H=ue.tag;if(H===3||H===4){var j=ue.stateNode.containerInfo;if(j===Le||j.nodeType===8&&j.parentNode===Le)break;if(H===4)for(H=ue.return;H!==null;){var e=H.tag;if((e===3||e===4)&&(e=H.stateNode.containerInfo,e===Le||e.nodeType===8&&e.parentNode===Le))return;H=H.return}for(;j!==null;){if(H=fv(j),H===null)return;if(e=H.tag,e===5||e===6){ue=Oe=H;continue e}j=j.parentNode}}ue=ue.return}c5(function(){var g=Oe,P=m2(J),a=[];e:{var x=U5.get(R);if(x!==void 0){var w=S2,v=R;switch(R){case"keypress":if(wg(J)===0)break e;case"keydown":case"keyup":w=HL;break;case"focusin":v="focus",w=Jm;break;case"focusout":v="blur",w=Jm;break;case"beforeblur":case"afterblur":w=Jm;break;case"click":if(J.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=DL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=YL;break;case O5:case z5:case N5:w=kL;break;case B5:w=ZL;break;case"scroll":w=PL;break;case"wheel":w=JL;break;case"copy":case"cut":case"paste":w=OL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=pw}var p=(O&4)!==0,r=!p&&R==="scroll",t=p?x!==null?x+"Capture":null:x;p=[];for(var i=g,n;i!==null;){n=i;var u=n.stateNode;if(n.tag===5&&u!==null&&(n=u,t!==null&&(u=Vp(i,t),u!=null&&p.push(Zp(i,u,n)))),r)break;i=i.return}0<p.length&&(x=new w(x,v,null,J,P),a.push({event:x,listeners:p}))}}if(!(O&7)){e:{if(x=R==="mouseover"||R==="pointerover",w=R==="mouseout"||R==="pointerout",x&&J!==ox&&(v=J.relatedTarget||J.fromElement)&&(fv(v)||v[dc]))break e;if((w||x)&&(x=P.window===P?P:(x=P.ownerDocument)?x.defaultView||x.parentWindow:window,w?(v=J.relatedTarget||J.toElement,w=g,v=v?fv(v):null,v!==null&&(r=Mv(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=g),w!==v)){if(p=vw,u="onMouseLeave",t="onMouseEnter",i="mouse",(R==="pointerout"||R==="pointerover")&&(p=pw,u="onPointerLeave",t="onPointerEnter",i="pointer"),r=w==null?x:sd(w),n=v==null?x:sd(v),x=new p(u,i+"leave",w,J,P),x.target=r,x.relatedTarget=n,u=null,fv(P)===g&&(p=new p(t,i+"enter",v,J,P),p.target=n,p.relatedTarget=r,u=p),r=u,w&&v)t:{for(p=w,t=v,i=0,n=p;n;n=ed(n))i++;for(n=0,u=t;u;u=ed(u))n++;for(;0<i-n;)p=ed(p),i--;for(;0<n-i;)t=ed(t),n--;for(;i--;){if(p===t||t!==null&&p===t.alternate)break t;p=ed(p),t=ed(t)}p=null}else p=null;w!==null&&Ew(a,x,w,p,!1),v!==null&&r!==null&&Ew(a,r,v,p,!0)}}e:{if(x=g?sd(g):window,w=x.nodeName&&x.nodeName.toLowerCase(),w==="select"||w==="input"&&x.type==="file")var f=nP;else if(mw(x))if(D5)f=sP;else{f=iP;var l=aP}else(w=x.nodeName)&&w.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(f=oP);if(f&&(f=f(R,g))){R5(a,f,J,P);break e}l&&l(R,x,g),R==="focusout"&&(l=x._wrapperState)&&l.controlled&&x.type==="number"&&tx(x,"number",x.value)}switch(l=g?sd(g):window,R){case"focusin":(mw(l)||l.contentEditable==="true")&&(id=l,vx=g,Ip=null);break;case"focusout":Ip=vx=id=null;break;case"mousedown":dx=!0;break;case"contextmenu":case"mouseup":case"dragend":dx=!1,Aw(a,J,P);break;case"selectionchange":if(fP)break;case"keydown":case"keyup":Aw(a,J,P)}var y;if(E2)e:{switch(R){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else ad?L5(R,J)&&(h="onCompositionEnd"):R==="keydown"&&J.keyCode===229&&(h="onCompositionStart");h&&(C5&&J.locale!=="ko"&&(ad||h!=="onCompositionStart"?h==="onCompositionEnd"&&ad&&(y=E5()):(hh=P,A2="value"in hh?hh.value:hh.textContent,ad=!0)),l=Bg(g,h),0<l.length&&(h=new dw(h,R,null,J,P),a.push({event:h,listeners:l}),y?h.data=y:(y=P5(J),y!==null&&(h.data=y)))),(y=QL?qL(R,J):eP(R,J))&&(g=Bg(g,"onBeforeInput"),0<g.length&&(P=new dw("onBeforeInput","beforeinput",null,J,P),a.push({event:P,listeners:g}),P.data=y))}V5(a,O)})}function Zp(R,O,J){return{instance:R,listener:O,currentTarget:J}}function Bg(R,O){for(var J=O+"Capture",ue=[];R!==null;){var Le=R,Oe=Le.stateNode;Le.tag===5&&Oe!==null&&(Le=Oe,Oe=Vp(R,J),Oe!=null&&ue.unshift(Zp(R,Oe,Le)),Oe=Vp(R,O),Oe!=null&&ue.push(Zp(R,Oe,Le))),R=R.return}return ue}function ed(R){if(R===null)return null;do R=R.return;while(R&&R.tag!==5);return R||null}function Ew(R,O,J,ue,Le){for(var Oe=O._reactName,H=[];J!==null&&J!==ue;){var j=J,e=j.alternate,g=j.stateNode;if(e!==null&&e===ue)break;j.tag===5&&g!==null&&(j=g,Le?(e=Vp(J,Oe),e!=null&&H.unshift(Zp(J,e,j))):Le||(e=Vp(J,Oe),e!=null&&H.push(Zp(J,e,j)))),J=J.return}H.length!==0&&R.push({event:O,listeners:H})}var dP=/\r\n?/g,pP=/\u0000|\uFFFD/g;function Cw(R){return(typeof R=="string"?R:""+R).replace(dP,`
`).replace(pP,"")}function $0(R,O,J){if(O=Cw(O),Cw(R)!==O&&J)throw Error(xa(425))}function Ug(){}var px=null,gx=null;function yx(R,O){return R==="textarea"||R==="noscript"||typeof O.children=="string"||typeof O.children=="number"||typeof O.dangerouslySetInnerHTML=="object"&&O.dangerouslySetInnerHTML!==null&&O.dangerouslySetInnerHTML.__html!=null}var mx=typeof setTimeout=="function"?setTimeout:void 0,gP=typeof clearTimeout=="function"?clearTimeout:void 0,Lw=typeof Promise=="function"?Promise:void 0,yP=typeof queueMicrotask=="function"?queueMicrotask:typeof Lw<"u"?function(R){return Lw.resolve(null).then(R).catch(mP)}:mx;function mP(R){setTimeout(function(){throw R})}function a1(R,O){var J=O,ue=0;do{var Le=J.nextSibling;if(R.removeChild(J),Le&&Le.nodeType===8)if(J=Le.data,J==="/$"){if(ue===0){R.removeChild(Le),Gp(O);return}ue--}else J!=="$"&&J!=="$?"&&J!=="$!"||ue++;J=Le}while(J);Gp(O)}function yh(R){for(;R!=null;R=R.nextSibling){var O=R.nodeType;if(O===1||O===3)break;if(O===8){if(O=R.data,O==="$"||O==="$!"||O==="$?")break;if(O==="/$")return null}}return R}function Pw(R){R=R.previousSibling;for(var O=0;R;){if(R.nodeType===8){var J=R.data;if(J==="$"||J==="$!"||J==="$?"){if(O===0)return R;O--}else J==="/$"&&O++}R=R.previousSibling}return null}var Fd=Math.random().toString(36).slice(2),Rf="__reactFiber$"+Fd,Kp="__reactProps$"+Fd,dc="__reactContainer$"+Fd,xx="__reactEvents$"+Fd,xP="__reactListeners$"+Fd,bP="__reactHandles$"+Fd;function fv(R){var O=R[Rf];if(O)return O;for(var J=R.parentNode;J;){if(O=J[dc]||J[Rf]){if(J=O.alternate,O.child!==null||J!==null&&J.child!==null)for(R=Pw(R);R!==null;){if(J=R[Rf])return J;R=Pw(R)}return O}R=J,J=R.parentNode}return null}function l0(R){return R=R[Rf]||R[dc],!R||R.tag!==5&&R.tag!==6&&R.tag!==13&&R.tag!==3?null:R}function sd(R){if(R.tag===5||R.tag===6)return R.stateNode;throw Error(xa(33))}function by(R){return R[Kp]||null}var bx=[],ld=-1;function Ph(R){return{current:R}}function Ji(R){0>ld||(R.current=bx[ld],bx[ld]=null,ld--)}function Hi(R,O){ld++,bx[ld]=R.current,R.current=O}var Ah={},zs=Ph(Ah),pl=Ph(!1),gv=Ah;function Md(R,O){var J=R.type.contextTypes;if(!J)return Ah;var ue=R.stateNode;if(ue&&ue.__reactInternalMemoizedUnmaskedChildContext===O)return ue.__reactInternalMemoizedMaskedChildContext;var Le={},Oe;for(Oe in J)Le[Oe]=O[Oe];return ue&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=O,R.__reactInternalMemoizedMaskedChildContext=Le),Le}function yl(R){return R=R.childContextTypes,R!=null}function Vg(){Ji(pl),Ji(zs)}function Rw(R,O,J){if(zs.current!==Ah)throw Error(xa(168));Hi(zs,O),Hi(pl,J)}function H5(R,O,J){var ue=R.stateNode;if(O=O.childContextTypes,typeof ue.getChildContext!="function")return J;ue=ue.getChildContext();for(var Le in ue)if(!(Le in O))throw Error(xa(108,aL(R)||"Unknown",Le));return yo({},J,ue)}function jg(R){return R=(R=R.stateNode)&&R.__reactInternalMemoizedMergedChildContext||Ah,gv=zs.current,Hi(zs,R),Hi(pl,pl.current),!0}function Dw(R,O,J){var ue=R.stateNode;if(!ue)throw Error(xa(169));J?(R=H5(R,O,gv),ue.__reactInternalMemoizedMergedChildContext=R,Ji(pl),Ji(zs),Hi(zs,R)):Ji(pl),Hi(pl,J)}var sc=null,wy=!1,i1=!1;function G5(R){sc===null?sc=[R]:sc.push(R)}function wP(R){wy=!0,G5(R)}function Rh(){if(!i1&&sc!==null){i1=!0;var R=0,O=Ii;try{var J=sc;for(Ii=1;R<J.length;R++){var ue=J[R];do ue=ue(!0);while(ue!==null)}sc=null,wy=!1}catch(Le){throw sc!==null&&(sc=sc.slice(R+1)),p5(x2,Rh),Le}finally{Ii=O,i1=!1}}return null}var ud=[],fd=0,Hg=null,Gg=0,hu=[],vu=0,yv=null,lc=1,uc="";function lv(R,O){ud[fd++]=Gg,ud[fd++]=Hg,Hg=R,Gg=O}function W5(R,O,J){hu[vu++]=lc,hu[vu++]=uc,hu[vu++]=yv,yv=R;var ue=lc;R=uc;var Le=32-ef(ue)-1;ue&=~(1<<Le),J+=1;var Oe=32-ef(O)+Le;if(30<Oe){var H=Le-Le%5;Oe=(ue&(1<<H)-1).toString(32),ue>>=H,Le-=H,lc=1<<32-ef(O)+Le|J<<Le|ue,uc=Oe+R}else lc=1<<Oe|J<<Le|ue,uc=R}function L2(R){R.return!==null&&(lv(R,1),W5(R,1,0))}function P2(R){for(;R===Hg;)Hg=ud[--fd],ud[fd]=null,Gg=ud[--fd],ud[fd]=null;for(;R===yv;)yv=hu[--vu],hu[vu]=null,uc=hu[--vu],hu[vu]=null,lc=hu[--vu],hu[vu]=null}var Ol=null,Fl=null,ro=!1,Qu=null;function Y5(R,O){var J=du(5,null,null,0);J.elementType="DELETED",J.stateNode=O,J.return=R,O=R.deletions,O===null?(R.deletions=[J],R.flags|=16):O.push(J)}function Iw(R,O){switch(R.tag){case 5:var J=R.type;return O=O.nodeType!==1||J.toLowerCase()!==O.nodeName.toLowerCase()?null:O,O!==null?(R.stateNode=O,Ol=R,Fl=yh(O.firstChild),!0):!1;case 6:return O=R.pendingProps===""||O.nodeType!==3?null:O,O!==null?(R.stateNode=O,Ol=R,Fl=null,!0):!1;case 13:return O=O.nodeType!==8?null:O,O!==null?(J=yv!==null?{id:lc,overflow:uc}:null,R.memoizedState={dehydrated:O,treeContext:J,retryLane:1073741824},J=du(18,null,null,0),J.stateNode=O,J.return=R,R.child=J,Ol=R,Fl=null,!0):!1;default:return!1}}function wx(R){return(R.mode&1)!==0&&(R.flags&128)===0}function Tx(R){if(ro){var O=Fl;if(O){var J=O;if(!Iw(R,O)){if(wx(R))throw Error(xa(418));O=yh(J.nextSibling);var ue=Ol;O&&Iw(R,O)?Y5(ue,J):(R.flags=R.flags&-4097|2,ro=!1,Ol=R)}}else{if(wx(R))throw Error(xa(418));R.flags=R.flags&-4097|2,ro=!1,Ol=R}}}function _w(R){for(R=R.return;R!==null&&R.tag!==5&&R.tag!==3&&R.tag!==13;)R=R.return;Ol=R}function Q0(R){if(R!==Ol)return!1;if(!ro)return _w(R),ro=!0,!1;var O;if((O=R.tag!==3)&&!(O=R.tag!==5)&&(O=R.type,O=O!=="head"&&O!=="body"&&!yx(R.type,R.memoizedProps)),O&&(O=Fl)){if(wx(R))throw X5(),Error(xa(418));for(;O;)Y5(R,O),O=yh(O.nextSibling)}if(_w(R),R.tag===13){if(R=R.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(xa(317));e:{for(R=R.nextSibling,O=0;R;){if(R.nodeType===8){var J=R.data;if(J==="/$"){if(O===0){Fl=yh(R.nextSibling);break e}O--}else J!=="$"&&J!=="$!"&&J!=="$?"||O++}R=R.nextSibling}Fl=null}}else Fl=Ol?yh(R.stateNode.nextSibling):null;return!0}function X5(){for(var R=Fl;R;)R=yh(R.nextSibling)}function Ed(){Fl=Ol=null,ro=!1}function R2(R){Qu===null?Qu=[R]:Qu.push(R)}var TP=yc.ReactCurrentBatchConfig;function Ku(R,O){if(R&&R.defaultProps){O=yo({},O),R=R.defaultProps;for(var J in R)O[J]===void 0&&(O[J]=R[J]);return O}return O}var Wg=Ph(null),Yg=null,cd=null,D2=null;function I2(){D2=cd=Yg=null}function _2(R){var O=Wg.current;Ji(Wg),R._currentValue=O}function Ax(R,O,J){for(;R!==null;){var ue=R.alternate;if((R.childLanes&O)!==O?(R.childLanes|=O,ue!==null&&(ue.childLanes|=O)):ue!==null&&(ue.childLanes&O)!==O&&(ue.childLanes|=O),R===J)break;R=R.return}}function bd(R,O){Yg=R,D2=cd=null,R=R.dependencies,R!==null&&R.firstContext!==null&&(R.lanes&O&&(dl=!0),R.firstContext=null)}function gu(R){var O=R._currentValue;if(D2!==R)if(R={context:R,memoizedValue:O,next:null},cd===null){if(Yg===null)throw Error(xa(308));cd=R,Yg.dependencies={lanes:0,firstContext:R}}else cd=cd.next=R;return O}var cv=null;function k2(R){cv===null?cv=[R]:cv.push(R)}function Z5(R,O,J,ue){var Le=O.interleaved;return Le===null?(J.next=J,k2(O)):(J.next=Le.next,Le.next=J),O.interleaved=J,pc(R,ue)}function pc(R,O){R.lanes|=O;var J=R.alternate;for(J!==null&&(J.lanes|=O),J=R,R=R.return;R!==null;)R.childLanes|=O,J=R.alternate,J!==null&&(J.childLanes|=O),J=R,R=R.return;return J.tag===3?J.stateNode:null}var lh=!1;function F2(R){R.updateQueue={baseState:R.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K5(R,O){R=R.updateQueue,O.updateQueue===R&&(O.updateQueue={baseState:R.baseState,firstBaseUpdate:R.firstBaseUpdate,lastBaseUpdate:R.lastBaseUpdate,shared:R.shared,effects:R.effects})}function cc(R,O){return{eventTime:R,lane:O,tag:0,payload:null,callback:null,next:null}}function mh(R,O,J){var ue=R.updateQueue;if(ue===null)return null;if(ue=ue.shared,Ti&2){var Le=ue.pending;return Le===null?O.next=O:(O.next=Le.next,Le.next=O),ue.pending=O,pc(R,J)}return Le=ue.interleaved,Le===null?(O.next=O,k2(ue)):(O.next=Le.next,Le.next=O),ue.interleaved=O,pc(R,J)}function Tg(R,O,J){if(O=O.updateQueue,O!==null&&(O=O.shared,(J&4194240)!==0)){var ue=O.lanes;ue&=R.pendingLanes,J|=ue,O.lanes=J,b2(R,J)}}function kw(R,O){var J=R.updateQueue,ue=R.alternate;if(ue!==null&&(ue=ue.updateQueue,J===ue)){var Le=null,Oe=null;if(J=J.firstBaseUpdate,J!==null){do{var H={eventTime:J.eventTime,lane:J.lane,tag:J.tag,payload:J.payload,callback:J.callback,next:null};Oe===null?Le=Oe=H:Oe=Oe.next=H,J=J.next}while(J!==null);Oe===null?Le=Oe=O:Oe=Oe.next=O}else Le=Oe=O;J={baseState:ue.baseState,firstBaseUpdate:Le,lastBaseUpdate:Oe,shared:ue.shared,effects:ue.effects},R.updateQueue=J;return}R=J.lastBaseUpdate,R===null?J.firstBaseUpdate=O:R.next=O,J.lastBaseUpdate=O}function Xg(R,O,J,ue){var Le=R.updateQueue;lh=!1;var Oe=Le.firstBaseUpdate,H=Le.lastBaseUpdate,j=Le.shared.pending;if(j!==null){Le.shared.pending=null;var e=j,g=e.next;e.next=null,H===null?Oe=g:H.next=g,H=e;var P=R.alternate;P!==null&&(P=P.updateQueue,j=P.lastBaseUpdate,j!==H&&(j===null?P.firstBaseUpdate=g:j.next=g,P.lastBaseUpdate=e))}if(Oe!==null){var a=Le.baseState;H=0,P=g=e=null,j=Oe;do{var x=j.lane,w=j.eventTime;if((ue&x)===x){P!==null&&(P=P.next={eventTime:w,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var v=R,p=j;switch(x=O,w=J,p.tag){case 1:if(v=p.payload,typeof v=="function"){a=v.call(w,a,x);break e}a=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,x=typeof v=="function"?v.call(w,a,x):v,x==null)break e;a=yo({},a,x);break e;case 2:lh=!0}}j.callback!==null&&j.lane!==0&&(R.flags|=64,x=Le.effects,x===null?Le.effects=[j]:x.push(j))}else w={eventTime:w,lane:x,tag:j.tag,payload:j.payload,callback:j.callback,next:null},P===null?(g=P=w,e=a):P=P.next=w,H|=x;if(j=j.next,j===null){if(j=Le.shared.pending,j===null)break;x=j,j=x.next,x.next=null,Le.lastBaseUpdate=x,Le.shared.pending=null}}while(1);if(P===null&&(e=a),Le.baseState=e,Le.firstBaseUpdate=g,Le.lastBaseUpdate=P,O=Le.shared.interleaved,O!==null){Le=O;do H|=Le.lane,Le=Le.next;while(Le!==O)}else Oe===null&&(Le.shared.lanes=0);xv|=H,R.lanes=H,R.memoizedState=a}}function Fw(R,O,J){if(R=O.effects,O.effects=null,R!==null)for(O=0;O<R.length;O++){var ue=R[O],Le=ue.callback;if(Le!==null){if(ue.callback=null,ue=J,typeof Le!="function")throw Error(xa(191,Le));Le.call(ue)}}}var J5=new ZT.Component().refs;function Sx(R,O,J,ue){O=R.memoizedState,J=J(ue,O),J=J==null?O:yo({},O,J),R.memoizedState=J,R.lanes===0&&(R.updateQueue.baseState=J)}var Ty={isMounted:function(R){return(R=R._reactInternals)?Mv(R)===R:!1},enqueueSetState:function(R,O,J){R=R._reactInternals;var ue=Js(),Le=bh(R),Oe=cc(ue,Le);Oe.payload=O,J!=null&&(Oe.callback=J),O=mh(R,Oe,Le),O!==null&&(tf(O,R,Le,ue),Tg(O,R,Le))},enqueueReplaceState:function(R,O,J){R=R._reactInternals;var ue=Js(),Le=bh(R),Oe=cc(ue,Le);Oe.tag=1,Oe.payload=O,J!=null&&(Oe.callback=J),O=mh(R,Oe,Le),O!==null&&(tf(O,R,Le,ue),Tg(O,R,Le))},enqueueForceUpdate:function(R,O){R=R._reactInternals;var J=Js(),ue=bh(R),Le=cc(J,ue);Le.tag=2,O!=null&&(Le.callback=O),O=mh(R,Le,ue),O!==null&&(tf(O,R,ue,J),Tg(O,R,ue))}};function Ow(R,O,J,ue,Le,Oe,H){return R=R.stateNode,typeof R.shouldComponentUpdate=="function"?R.shouldComponentUpdate(ue,Oe,H):O.prototype&&O.prototype.isPureReactComponent?!Yp(J,ue)||!Yp(Le,Oe):!0}function $5(R,O,J){var ue=!1,Le=Ah,Oe=O.contextType;return typeof Oe=="object"&&Oe!==null?Oe=gu(Oe):(Le=yl(O)?gv:zs.current,ue=O.contextTypes,Oe=(ue=ue!=null)?Md(R,Le):Ah),O=new O(J,Oe),R.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Ty,R.stateNode=O,O._reactInternals=R,ue&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=Le,R.__reactInternalMemoizedMaskedChildContext=Oe),O}function zw(R,O,J,ue){R=O.state,typeof O.componentWillReceiveProps=="function"&&O.componentWillReceiveProps(J,ue),typeof O.UNSAFE_componentWillReceiveProps=="function"&&O.UNSAFE_componentWillReceiveProps(J,ue),O.state!==R&&Ty.enqueueReplaceState(O,O.state,null)}function Mx(R,O,J,ue){var Le=R.stateNode;Le.props=J,Le.state=R.memoizedState,Le.refs=J5,F2(R);var Oe=O.contextType;typeof Oe=="object"&&Oe!==null?Le.context=gu(Oe):(Oe=yl(O)?gv:zs.current,Le.context=Md(R,Oe)),Le.state=R.memoizedState,Oe=O.getDerivedStateFromProps,typeof Oe=="function"&&(Sx(R,O,Oe,J),Le.state=R.memoizedState),typeof O.getDerivedStateFromProps=="function"||typeof Le.getSnapshotBeforeUpdate=="function"||typeof Le.UNSAFE_componentWillMount!="function"&&typeof Le.componentWillMount!="function"||(O=Le.state,typeof Le.componentWillMount=="function"&&Le.componentWillMount(),typeof Le.UNSAFE_componentWillMount=="function"&&Le.UNSAFE_componentWillMount(),O!==Le.state&&Ty.enqueueReplaceState(Le,Le.state,null),Xg(R,J,Le,ue),Le.state=R.memoizedState),typeof Le.componentDidMount=="function"&&(R.flags|=4194308)}function fp(R,O,J){if(R=J.ref,R!==null&&typeof R!="function"&&typeof R!="object"){if(J._owner){if(J=J._owner,J){if(J.tag!==1)throw Error(xa(309));var ue=J.stateNode}if(!ue)throw Error(xa(147,R));var Le=ue,Oe=""+R;return O!==null&&O.ref!==null&&typeof O.ref=="function"&&O.ref._stringRef===Oe?O.ref:(O=function(H){var j=Le.refs;j===J5&&(j=Le.refs={}),H===null?delete j[Oe]:j[Oe]=H},O._stringRef=Oe,O)}if(typeof R!="string")throw Error(xa(284));if(!J._owner)throw Error(xa(290,R))}return R}function q0(R,O){throw R=Object.prototype.toString.call(O),Error(xa(31,R==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":R))}function Nw(R){var O=R._init;return O(R._payload)}function Q5(R){function O(t,i){if(R){var n=t.deletions;n===null?(t.deletions=[i],t.flags|=16):n.push(i)}}function J(t,i){if(!R)return null;for(;i!==null;)O(t,i),i=i.sibling;return null}function ue(t,i){for(t=new Map;i!==null;)i.key!==null?t.set(i.key,i):t.set(i.index,i),i=i.sibling;return t}function Le(t,i){return t=wh(t,i),t.index=0,t.sibling=null,t}function Oe(t,i,n){return t.index=n,R?(n=t.alternate,n!==null?(n=n.index,n<i?(t.flags|=2,i):n):(t.flags|=2,i)):(t.flags|=1048576,i)}function H(t){return R&&t.alternate===null&&(t.flags|=2),t}function j(t,i,n,u){return i===null||i.tag!==6?(i=h1(n,t.mode,u),i.return=t,i):(i=Le(i,n),i.return=t,i)}function e(t,i,n,u){var f=n.type;return f===nd?P(t,i,n.props.children,u,n.key):i!==null&&(i.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===sh&&Nw(f)===i.type)?(u=Le(i,n.props),u.ref=fp(t,i,n),u.return=t,u):(u=Lg(n.type,n.key,n.props,null,t.mode,u),u.ref=fp(t,i,n),u.return=t,u)}function g(t,i,n,u){return i===null||i.tag!==4||i.stateNode.containerInfo!==n.containerInfo||i.stateNode.implementation!==n.implementation?(i=v1(n,t.mode,u),i.return=t,i):(i=Le(i,n.children||[]),i.return=t,i)}function P(t,i,n,u,f){return i===null||i.tag!==7?(i=pv(n,t.mode,u,f),i.return=t,i):(i=Le(i,n),i.return=t,i)}function a(t,i,n){if(typeof i=="string"&&i!==""||typeof i=="number")return i=h1(""+i,t.mode,n),i.return=t,i;if(typeof i=="object"&&i!==null){switch(i.$$typeof){case j0:return n=Lg(i.type,i.key,i.props,null,t.mode,n),n.ref=fp(t,null,i),n.return=t,n;case rd:return i=v1(i,t.mode,n),i.return=t,i;case sh:var u=i._init;return a(t,u(i._payload),n)}if(Sp(i)||ip(i))return i=pv(i,t.mode,n,null),i.return=t,i;q0(t,i)}return null}function x(t,i,n,u){var f=i!==null?i.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return f!==null?null:j(t,i,""+n,u);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case j0:return n.key===f?e(t,i,n,u):null;case rd:return n.key===f?g(t,i,n,u):null;case sh:return f=n._init,x(t,i,f(n._payload),u)}if(Sp(n)||ip(n))return f!==null?null:P(t,i,n,u,null);q0(t,n)}return null}function w(t,i,n,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return t=t.get(n)||null,j(i,t,""+u,f);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case j0:return t=t.get(u.key===null?n:u.key)||null,e(i,t,u,f);case rd:return t=t.get(u.key===null?n:u.key)||null,g(i,t,u,f);case sh:var l=u._init;return w(t,i,n,l(u._payload),f)}if(Sp(u)||ip(u))return t=t.get(n)||null,P(i,t,u,f,null);q0(i,u)}return null}function v(t,i,n,u){for(var f=null,l=null,y=i,h=i=0,M=null;y!==null&&h<n.length;h++){y.index>h?(M=y,y=null):M=y.sibling;var c=x(t,y,n[h],u);if(c===null){y===null&&(y=M);break}R&&y&&c.alternate===null&&O(t,y),i=Oe(c,i,h),l===null?f=c:l.sibling=c,l=c,y=M}if(h===n.length)return J(t,y),ro&&lv(t,h),f;if(y===null){for(;h<n.length;h++)y=a(t,n[h],u),y!==null&&(i=Oe(y,i,h),l===null?f=y:l.sibling=y,l=y);return ro&&lv(t,h),f}for(y=ue(t,y);h<n.length;h++)M=w(y,t,h,n[h],u),M!==null&&(R&&M.alternate!==null&&y.delete(M.key===null?h:M.key),i=Oe(M,i,h),l===null?f=M:l.sibling=M,l=M);return R&&y.forEach(function(o){return O(t,o)}),ro&&lv(t,h),f}function p(t,i,n,u){var f=ip(n);if(typeof f!="function")throw Error(xa(150));if(n=f.call(n),n==null)throw Error(xa(151));for(var l=f=null,y=i,h=i=0,M=null,c=n.next();y!==null&&!c.done;h++,c=n.next()){y.index>h?(M=y,y=null):M=y.sibling;var o=x(t,y,c.value,u);if(o===null){y===null&&(y=M);break}R&&y&&o.alternate===null&&O(t,y),i=Oe(o,i,h),l===null?f=o:l.sibling=o,l=o,y=M}if(c.done)return J(t,y),ro&&lv(t,h),f;if(y===null){for(;!c.done;h++,c=n.next())c=a(t,c.value,u),c!==null&&(i=Oe(c,i,h),l===null?f=c:l.sibling=c,l=c);return ro&&lv(t,h),f}for(y=ue(t,y);!c.done;h++,c=n.next())c=w(y,t,h,c.value,u),c!==null&&(R&&c.alternate!==null&&y.delete(c.key===null?h:c.key),i=Oe(c,i,h),l===null?f=c:l.sibling=c,l=c);return R&&y.forEach(function(d){return O(t,d)}),ro&&lv(t,h),f}function r(t,i,n,u){if(typeof n=="object"&&n!==null&&n.type===nd&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case j0:e:{for(var f=n.key,l=i;l!==null;){if(l.key===f){if(f=n.type,f===nd){if(l.tag===7){J(t,l.sibling),i=Le(l,n.props.children),i.return=t,t=i;break e}}else if(l.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===sh&&Nw(f)===l.type){J(t,l.sibling),i=Le(l,n.props),i.ref=fp(t,l,n),i.return=t,t=i;break e}J(t,l);break}else O(t,l);l=l.sibling}n.type===nd?(i=pv(n.props.children,t.mode,u,n.key),i.return=t,t=i):(u=Lg(n.type,n.key,n.props,null,t.mode,u),u.ref=fp(t,i,n),u.return=t,t=u)}return H(t);case rd:e:{for(l=n.key;i!==null;){if(i.key===l)if(i.tag===4&&i.stateNode.containerInfo===n.containerInfo&&i.stateNode.implementation===n.implementation){J(t,i.sibling),i=Le(i,n.children||[]),i.return=t,t=i;break e}else{J(t,i);break}else O(t,i);i=i.sibling}i=v1(n,t.mode,u),i.return=t,t=i}return H(t);case sh:return l=n._init,r(t,i,l(n._payload),u)}if(Sp(n))return v(t,i,n,u);if(ip(n))return p(t,i,n,u);q0(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,i!==null&&i.tag===6?(J(t,i.sibling),i=Le(i,n),i.return=t,t=i):(J(t,i),i=h1(n,t.mode,u),i.return=t,t=i),H(t)):J(t,i)}return r}var Cd=Q5(!0),q5=Q5(!1),u0={},If=Ph(u0),Jp=Ph(u0),$p=Ph(u0);function hv(R){if(R===u0)throw Error(xa(174));return R}function O2(R,O){switch(Hi($p,O),Hi(Jp,R),Hi(If,u0),R=O.nodeType,R){case 9:case 11:O=(O=O.documentElement)?O.namespaceURI:nx(null,"");break;default:R=R===8?O.parentNode:O,O=R.namespaceURI||null,R=R.tagName,O=nx(O,R)}Ji(If),Hi(If,O)}function Ld(){Ji(If),Ji(Jp),Ji($p)}function eA(R){hv($p.current);var O=hv(If.current),J=nx(O,R.type);O!==J&&(Hi(Jp,R),Hi(If,J))}function z2(R){Jp.current===R&&(Ji(If),Ji(Jp))}var vo=Ph(0);function Zg(R){for(var O=R;O!==null;){if(O.tag===13){var J=O.memoizedState;if(J!==null&&(J=J.dehydrated,J===null||J.data==="$?"||J.data==="$!"))return O}else if(O.tag===19&&O.memoizedProps.revealOrder!==void 0){if(O.flags&128)return O}else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===R)break;for(;O.sibling===null;){if(O.return===null||O.return===R)return null;O=O.return}O.sibling.return=O.return,O=O.sibling}return null}var o1=[];function N2(){for(var R=0;R<o1.length;R++)o1[R]._workInProgressVersionPrimary=null;o1.length=0}var Ag=yc.ReactCurrentDispatcher,s1=yc.ReactCurrentBatchConfig,mv=0,go=null,Xo=null,ts=null,Kg=!1,_p=!1,Qp=0,AP=0;function Is(){throw Error(xa(321))}function B2(R,O){if(O===null)return!1;for(var J=0;J<O.length&&J<R.length;J++)if(!rf(R[J],O[J]))return!1;return!0}function U2(R,O,J,ue,Le,Oe){if(mv=Oe,go=O,O.memoizedState=null,O.updateQueue=null,O.lanes=0,Ag.current=R===null||R.memoizedState===null?CP:LP,R=J(ue,Le),_p){Oe=0;do{if(_p=!1,Qp=0,25<=Oe)throw Error(xa(301));Oe+=1,ts=Xo=null,O.updateQueue=null,Ag.current=PP,R=J(ue,Le)}while(_p)}if(Ag.current=Jg,O=Xo!==null&&Xo.next!==null,mv=0,ts=Xo=go=null,Kg=!1,O)throw Error(xa(300));return R}function V2(){var R=Qp!==0;return Qp=0,R}function Pf(){var R={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ts===null?go.memoizedState=ts=R:ts=ts.next=R,ts}function yu(){if(Xo===null){var R=go.alternate;R=R!==null?R.memoizedState:null}else R=Xo.next;var O=ts===null?go.memoizedState:ts.next;if(O!==null)ts=O,Xo=R;else{if(R===null)throw Error(xa(310));Xo=R,R={memoizedState:Xo.memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},ts===null?go.memoizedState=ts=R:ts=ts.next=R}return ts}function qp(R,O){return typeof O=="function"?O(R):O}function l1(R){var O=yu(),J=O.queue;if(J===null)throw Error(xa(311));J.lastRenderedReducer=R;var ue=Xo,Le=ue.baseQueue,Oe=J.pending;if(Oe!==null){if(Le!==null){var H=Le.next;Le.next=Oe.next,Oe.next=H}ue.baseQueue=Le=Oe,J.pending=null}if(Le!==null){Oe=Le.next,ue=ue.baseState;var j=H=null,e=null,g=Oe;do{var P=g.lane;if((mv&P)===P)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),ue=g.hasEagerState?g.eagerState:R(ue,g.action);else{var a={lane:P,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(j=e=a,H=ue):e=e.next=a,go.lanes|=P,xv|=P}g=g.next}while(g!==null&&g!==Oe);e===null?H=ue:e.next=j,rf(ue,O.memoizedState)||(dl=!0),O.memoizedState=ue,O.baseState=H,O.baseQueue=e,J.lastRenderedState=ue}if(R=J.interleaved,R!==null){Le=R;do Oe=Le.lane,go.lanes|=Oe,xv|=Oe,Le=Le.next;while(Le!==R)}else Le===null&&(J.lanes=0);return[O.memoizedState,J.dispatch]}function u1(R){var O=yu(),J=O.queue;if(J===null)throw Error(xa(311));J.lastRenderedReducer=R;var ue=J.dispatch,Le=J.pending,Oe=O.memoizedState;if(Le!==null){J.pending=null;var H=Le=Le.next;do Oe=R(Oe,H.action),H=H.next;while(H!==Le);rf(Oe,O.memoizedState)||(dl=!0),O.memoizedState=Oe,O.baseQueue===null&&(O.baseState=Oe),J.lastRenderedState=Oe}return[Oe,ue]}function tA(){}function rA(R,O){var J=go,ue=yu(),Le=O(),Oe=!rf(ue.memoizedState,Le);if(Oe&&(ue.memoizedState=Le,dl=!0),ue=ue.queue,j2(iA.bind(null,J,ue,R),[R]),ue.getSnapshot!==O||Oe||ts!==null&&ts.memoizedState.tag&1){if(J.flags|=2048,e0(9,aA.bind(null,J,ue,Le,O),void 0,null),rs===null)throw Error(xa(349));mv&30||nA(J,O,Le)}return Le}function nA(R,O,J){R.flags|=16384,R={getSnapshot:O,value:J},O=go.updateQueue,O===null?(O={lastEffect:null,stores:null},go.updateQueue=O,O.stores=[R]):(J=O.stores,J===null?O.stores=[R]:J.push(R))}function aA(R,O,J,ue){O.value=J,O.getSnapshot=ue,oA(O)&&sA(R)}function iA(R,O,J){return J(function(){oA(O)&&sA(R)})}function oA(R){var O=R.getSnapshot;R=R.value;try{var J=O();return!rf(R,J)}catch{return!0}}function sA(R){var O=pc(R,1);O!==null&&tf(O,R,1,-1)}function Bw(R){var O=Pf();return typeof R=="function"&&(R=R()),O.memoizedState=O.baseState=R,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:R},O.queue=R,R=R.dispatch=EP.bind(null,go,R),[O.memoizedState,R]}function e0(R,O,J,ue){return R={tag:R,create:O,destroy:J,deps:ue,next:null},O=go.updateQueue,O===null?(O={lastEffect:null,stores:null},go.updateQueue=O,O.lastEffect=R.next=R):(J=O.lastEffect,J===null?O.lastEffect=R.next=R:(ue=J.next,J.next=R,R.next=ue,O.lastEffect=R)),R}function lA(){return yu().memoizedState}function Sg(R,O,J,ue){var Le=Pf();go.flags|=R,Le.memoizedState=e0(1|O,J,void 0,ue===void 0?null:ue)}function Ay(R,O,J,ue){var Le=yu();ue=ue===void 0?null:ue;var Oe=void 0;if(Xo!==null){var H=Xo.memoizedState;if(Oe=H.destroy,ue!==null&&B2(ue,H.deps)){Le.memoizedState=e0(O,J,Oe,ue);return}}go.flags|=R,Le.memoizedState=e0(1|O,J,Oe,ue)}function Uw(R,O){return Sg(8390656,8,R,O)}function j2(R,O){return Ay(2048,8,R,O)}function uA(R,O){return Ay(4,2,R,O)}function fA(R,O){return Ay(4,4,R,O)}function cA(R,O){if(typeof O=="function")return R=R(),O(R),function(){O(null)};if(O!=null)return R=R(),O.current=R,function(){O.current=null}}function hA(R,O,J){return J=J!=null?J.concat([R]):null,Ay(4,4,cA.bind(null,O,R),J)}function H2(){}function vA(R,O){var J=yu();O=O===void 0?null:O;var ue=J.memoizedState;return ue!==null&&O!==null&&B2(O,ue[1])?ue[0]:(J.memoizedState=[R,O],R)}function dA(R,O){var J=yu();O=O===void 0?null:O;var ue=J.memoizedState;return ue!==null&&O!==null&&B2(O,ue[1])?ue[0]:(R=R(),J.memoizedState=[R,O],R)}function pA(R,O,J){return mv&21?(rf(J,O)||(J=m5(),go.lanes|=J,xv|=J,R.baseState=!0),O):(R.baseState&&(R.baseState=!1,dl=!0),R.memoizedState=J)}function SP(R,O){var J=Ii;Ii=J!==0&&4>J?J:4,R(!0);var ue=s1.transition;s1.transition={};try{R(!1),O()}finally{Ii=J,s1.transition=ue}}function gA(){return yu().memoizedState}function MP(R,O,J){var ue=bh(R);if(J={lane:ue,action:J,hasEagerState:!1,eagerState:null,next:null},yA(R))mA(O,J);else if(J=Z5(R,O,J,ue),J!==null){var Le=Js();tf(J,R,ue,Le),xA(J,O,ue)}}function EP(R,O,J){var ue=bh(R),Le={lane:ue,action:J,hasEagerState:!1,eagerState:null,next:null};if(yA(R))mA(O,Le);else{var Oe=R.alternate;if(R.lanes===0&&(Oe===null||Oe.lanes===0)&&(Oe=O.lastRenderedReducer,Oe!==null))try{var H=O.lastRenderedState,j=Oe(H,J);if(Le.hasEagerState=!0,Le.eagerState=j,rf(j,H)){var e=O.interleaved;e===null?(Le.next=Le,k2(O)):(Le.next=e.next,e.next=Le),O.interleaved=Le;return}}catch{}finally{}J=Z5(R,O,Le,ue),J!==null&&(Le=Js(),tf(J,R,ue,Le),xA(J,O,ue))}}function yA(R){var O=R.alternate;return R===go||O!==null&&O===go}function mA(R,O){_p=Kg=!0;var J=R.pending;J===null?O.next=O:(O.next=J.next,J.next=O),R.pending=O}function xA(R,O,J){if(J&4194240){var ue=O.lanes;ue&=R.pendingLanes,J|=ue,O.lanes=J,b2(R,J)}}var Jg={readContext:gu,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},CP={readContext:gu,useCallback:function(R,O){return Pf().memoizedState=[R,O===void 0?null:O],R},useContext:gu,useEffect:Uw,useImperativeHandle:function(R,O,J){return J=J!=null?J.concat([R]):null,Sg(4194308,4,cA.bind(null,O,R),J)},useLayoutEffect:function(R,O){return Sg(4194308,4,R,O)},useInsertionEffect:function(R,O){return Sg(4,2,R,O)},useMemo:function(R,O){var J=Pf();return O=O===void 0?null:O,R=R(),J.memoizedState=[R,O],R},useReducer:function(R,O,J){var ue=Pf();return O=J!==void 0?J(O):O,ue.memoizedState=ue.baseState=O,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R,lastRenderedState:O},ue.queue=R,R=R.dispatch=MP.bind(null,go,R),[ue.memoizedState,R]},useRef:function(R){var O=Pf();return R={current:R},O.memoizedState=R},useState:Bw,useDebugValue:H2,useDeferredValue:function(R){return Pf().memoizedState=R},useTransition:function(){var R=Bw(!1),O=R[0];return R=SP.bind(null,R[1]),Pf().memoizedState=R,[O,R]},useMutableSource:function(){},useSyncExternalStore:function(R,O,J){var ue=go,Le=Pf();if(ro){if(J===void 0)throw Error(xa(407));J=J()}else{if(J=O(),rs===null)throw Error(xa(349));mv&30||nA(ue,O,J)}Le.memoizedState=J;var Oe={value:J,getSnapshot:O};return Le.queue=Oe,Uw(iA.bind(null,ue,Oe,R),[R]),ue.flags|=2048,e0(9,aA.bind(null,ue,Oe,J,O),void 0,null),J},useId:function(){var R=Pf(),O=rs.identifierPrefix;if(ro){var J=uc,ue=lc;J=(ue&~(1<<32-ef(ue)-1)).toString(32)+J,O=":"+O+"R"+J,J=Qp++,0<J&&(O+="H"+J.toString(32)),O+=":"}else J=AP++,O=":"+O+"r"+J.toString(32)+":";return R.memoizedState=O},unstable_isNewReconciler:!1},LP={readContext:gu,useCallback:vA,useContext:gu,useEffect:j2,useImperativeHandle:hA,useInsertionEffect:uA,useLayoutEffect:fA,useMemo:dA,useReducer:l1,useRef:lA,useState:function(){return l1(qp)},useDebugValue:H2,useDeferredValue:function(R){var O=yu();return pA(O,Xo.memoizedState,R)},useTransition:function(){var R=l1(qp)[0],O=yu().memoizedState;return[R,O]},useMutableSource:tA,useSyncExternalStore:rA,useId:gA,unstable_isNewReconciler:!1},PP={readContext:gu,useCallback:vA,useContext:gu,useEffect:j2,useImperativeHandle:hA,useInsertionEffect:uA,useLayoutEffect:fA,useMemo:dA,useReducer:u1,useRef:lA,useState:function(){return u1(qp)},useDebugValue:H2,useDeferredValue:function(R){var O=yu();return Xo===null?O.memoizedState=R:pA(O,Xo.memoizedState,R)},useTransition:function(){var R=u1(qp)[0],O=yu().memoizedState;return[R,O]},useMutableSource:tA,useSyncExternalStore:rA,useId:gA,unstable_isNewReconciler:!1};function Pd(R,O){try{var J="",ue=O;do J+=nL(ue),ue=ue.return;while(ue);var Le=J}catch(Oe){Le=`
Error generating stack: `+Oe.message+`
`+Oe.stack}return{value:R,source:O,stack:Le,digest:null}}function f1(R,O,J){return{value:R,source:null,stack:J??null,digest:O??null}}function Ex(R,O){try{console.error(O.value)}catch(J){setTimeout(function(){throw J})}}var RP=typeof WeakMap=="function"?WeakMap:Map;function bA(R,O,J){J=cc(-1,J),J.tag=3,J.payload={element:null};var ue=O.value;return J.callback=function(){Qg||(Qg=!0,Ox=ue),Ex(R,O)},J}function wA(R,O,J){J=cc(-1,J),J.tag=3;var ue=R.type.getDerivedStateFromError;if(typeof ue=="function"){var Le=O.value;J.payload=function(){return ue(Le)},J.callback=function(){Ex(R,O)}}var Oe=R.stateNode;return Oe!==null&&typeof Oe.componentDidCatch=="function"&&(J.callback=function(){Ex(R,O),typeof ue!="function"&&(xh===null?xh=new Set([this]):xh.add(this));var H=O.stack;this.componentDidCatch(O.value,{componentStack:H!==null?H:""})}),J}function Vw(R,O,J){var ue=R.pingCache;if(ue===null){ue=R.pingCache=new RP;var Le=new Set;ue.set(O,Le)}else Le=ue.get(O),Le===void 0&&(Le=new Set,ue.set(O,Le));Le.has(J)||(Le.add(J),R=GP.bind(null,R,O,J),O.then(R,R))}function jw(R){do{var O;if((O=R.tag===13)&&(O=R.memoizedState,O=O!==null?O.dehydrated!==null:!0),O)return R;R=R.return}while(R!==null);return null}function Hw(R,O,J,ue,Le){return R.mode&1?(R.flags|=65536,R.lanes=Le,R):(R===O?R.flags|=65536:(R.flags|=128,J.flags|=131072,J.flags&=-52805,J.tag===1&&(J.alternate===null?J.tag=17:(O=cc(-1,1),O.tag=2,mh(J,O,1))),J.lanes|=1),R)}var DP=yc.ReactCurrentOwner,dl=!1;function Ks(R,O,J,ue){O.child=R===null?q5(O,null,J,ue):Cd(O,R.child,J,ue)}function Gw(R,O,J,ue,Le){J=J.render;var Oe=O.ref;return bd(O,Le),ue=U2(R,O,J,ue,Oe,Le),J=V2(),R!==null&&!dl?(O.updateQueue=R.updateQueue,O.flags&=-2053,R.lanes&=~Le,gc(R,O,Le)):(ro&&J&&L2(O),O.flags|=1,Ks(R,O,ue,Le),O.child)}function Ww(R,O,J,ue,Le){if(R===null){var Oe=J.type;return typeof Oe=="function"&&!$2(Oe)&&Oe.defaultProps===void 0&&J.compare===null&&J.defaultProps===void 0?(O.tag=15,O.type=Oe,TA(R,O,Oe,ue,Le)):(R=Lg(J.type,null,ue,O,O.mode,Le),R.ref=O.ref,R.return=O,O.child=R)}if(Oe=R.child,!(R.lanes&Le)){var H=Oe.memoizedProps;if(J=J.compare,J=J!==null?J:Yp,J(H,ue)&&R.ref===O.ref)return gc(R,O,Le)}return O.flags|=1,R=wh(Oe,ue),R.ref=O.ref,R.return=O,O.child=R}function TA(R,O,J,ue,Le){if(R!==null){var Oe=R.memoizedProps;if(Yp(Oe,ue)&&R.ref===O.ref)if(dl=!1,O.pendingProps=ue=Oe,(R.lanes&Le)!==0)R.flags&131072&&(dl=!0);else return O.lanes=R.lanes,gc(R,O,Le)}return Cx(R,O,J,ue,Le)}function AA(R,O,J){var ue=O.pendingProps,Le=ue.children,Oe=R!==null?R.memoizedState:null;if(ue.mode==="hidden")if(!(O.mode&1))O.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hi(vd,kl),kl|=J;else{if(!(J&1073741824))return R=Oe!==null?Oe.baseLanes|J:J,O.lanes=O.childLanes=1073741824,O.memoizedState={baseLanes:R,cachePool:null,transitions:null},O.updateQueue=null,Hi(vd,kl),kl|=R,null;O.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue=Oe!==null?Oe.baseLanes:J,Hi(vd,kl),kl|=ue}else Oe!==null?(ue=Oe.baseLanes|J,O.memoizedState=null):ue=J,Hi(vd,kl),kl|=ue;return Ks(R,O,Le,J),O.child}function SA(R,O){var J=O.ref;(R===null&&J!==null||R!==null&&R.ref!==J)&&(O.flags|=512,O.flags|=2097152)}function Cx(R,O,J,ue,Le){var Oe=yl(J)?gv:zs.current;return Oe=Md(O,Oe),bd(O,Le),J=U2(R,O,J,ue,Oe,Le),ue=V2(),R!==null&&!dl?(O.updateQueue=R.updateQueue,O.flags&=-2053,R.lanes&=~Le,gc(R,O,Le)):(ro&&ue&&L2(O),O.flags|=1,Ks(R,O,J,Le),O.child)}function Yw(R,O,J,ue,Le){if(yl(J)){var Oe=!0;jg(O)}else Oe=!1;if(bd(O,Le),O.stateNode===null)Mg(R,O),$5(O,J,ue),Mx(O,J,ue,Le),ue=!0;else if(R===null){var H=O.stateNode,j=O.memoizedProps;H.props=j;var e=H.context,g=J.contextType;typeof g=="object"&&g!==null?g=gu(g):(g=yl(J)?gv:zs.current,g=Md(O,g));var P=J.getDerivedStateFromProps,a=typeof P=="function"||typeof H.getSnapshotBeforeUpdate=="function";a||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(j!==ue||e!==g)&&zw(O,H,ue,g),lh=!1;var x=O.memoizedState;H.state=x,Xg(O,ue,H,Le),e=O.memoizedState,j!==ue||x!==e||pl.current||lh?(typeof P=="function"&&(Sx(O,J,P,ue),e=O.memoizedState),(j=lh||Ow(O,J,j,ue,x,e,g))?(a||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(O.flags|=4194308)):(typeof H.componentDidMount=="function"&&(O.flags|=4194308),O.memoizedProps=ue,O.memoizedState=e),H.props=ue,H.state=e,H.context=g,ue=j):(typeof H.componentDidMount=="function"&&(O.flags|=4194308),ue=!1)}else{H=O.stateNode,K5(R,O),j=O.memoizedProps,g=O.type===O.elementType?j:Ku(O.type,j),H.props=g,a=O.pendingProps,x=H.context,e=J.contextType,typeof e=="object"&&e!==null?e=gu(e):(e=yl(J)?gv:zs.current,e=Md(O,e));var w=J.getDerivedStateFromProps;(P=typeof w=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(j!==a||x!==e)&&zw(O,H,ue,e),lh=!1,x=O.memoizedState,H.state=x,Xg(O,ue,H,Le);var v=O.memoizedState;j!==a||x!==v||pl.current||lh?(typeof w=="function"&&(Sx(O,J,w,ue),v=O.memoizedState),(g=lh||Ow(O,J,g,ue,x,v,e)||!1)?(P||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(ue,v,e),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(ue,v,e)),typeof H.componentDidUpdate=="function"&&(O.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(O.flags|=1024)):(typeof H.componentDidUpdate!="function"||j===R.memoizedProps&&x===R.memoizedState||(O.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||j===R.memoizedProps&&x===R.memoizedState||(O.flags|=1024),O.memoizedProps=ue,O.memoizedState=v),H.props=ue,H.state=v,H.context=e,ue=g):(typeof H.componentDidUpdate!="function"||j===R.memoizedProps&&x===R.memoizedState||(O.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||j===R.memoizedProps&&x===R.memoizedState||(O.flags|=1024),ue=!1)}return Lx(R,O,J,ue,Oe,Le)}function Lx(R,O,J,ue,Le,Oe){SA(R,O);var H=(O.flags&128)!==0;if(!ue&&!H)return Le&&Dw(O,J,!1),gc(R,O,Oe);ue=O.stateNode,DP.current=O;var j=H&&typeof J.getDerivedStateFromError!="function"?null:ue.render();return O.flags|=1,R!==null&&H?(O.child=Cd(O,R.child,null,Oe),O.child=Cd(O,null,j,Oe)):Ks(R,O,j,Oe),O.memoizedState=ue.state,Le&&Dw(O,J,!0),O.child}function MA(R){var O=R.stateNode;O.pendingContext?Rw(R,O.pendingContext,O.pendingContext!==O.context):O.context&&Rw(R,O.context,!1),O2(R,O.containerInfo)}function Xw(R,O,J,ue,Le){return Ed(),R2(Le),O.flags|=256,Ks(R,O,J,ue),O.child}var Px={dehydrated:null,treeContext:null,retryLane:0};function Rx(R){return{baseLanes:R,cachePool:null,transitions:null}}function EA(R,O,J){var ue=O.pendingProps,Le=vo.current,Oe=!1,H=(O.flags&128)!==0,j;if((j=H)||(j=R!==null&&R.memoizedState===null?!1:(Le&2)!==0),j?(Oe=!0,O.flags&=-129):(R===null||R.memoizedState!==null)&&(Le|=1),Hi(vo,Le&1),R===null)return Tx(O),R=O.memoizedState,R!==null&&(R=R.dehydrated,R!==null)?(O.mode&1?R.data==="$!"?O.lanes=8:O.lanes=1073741824:O.lanes=1,null):(H=ue.children,R=ue.fallback,Oe?(ue=O.mode,Oe=O.child,H={mode:"hidden",children:H},!(ue&1)&&Oe!==null?(Oe.childLanes=0,Oe.pendingProps=H):Oe=Ey(H,ue,0,null),R=pv(R,ue,J,null),Oe.return=O,R.return=O,Oe.sibling=R,O.child=Oe,O.child.memoizedState=Rx(J),O.memoizedState=Px,R):G2(O,H));if(Le=R.memoizedState,Le!==null&&(j=Le.dehydrated,j!==null))return IP(R,O,H,ue,j,Le,J);if(Oe){Oe=ue.fallback,H=O.mode,Le=R.child,j=Le.sibling;var e={mode:"hidden",children:ue.children};return!(H&1)&&O.child!==Le?(ue=O.child,ue.childLanes=0,ue.pendingProps=e,O.deletions=null):(ue=wh(Le,e),ue.subtreeFlags=Le.subtreeFlags&14680064),j!==null?Oe=wh(j,Oe):(Oe=pv(Oe,H,J,null),Oe.flags|=2),Oe.return=O,ue.return=O,ue.sibling=Oe,O.child=ue,ue=Oe,Oe=O.child,H=R.child.memoizedState,H=H===null?Rx(J):{baseLanes:H.baseLanes|J,cachePool:null,transitions:H.transitions},Oe.memoizedState=H,Oe.childLanes=R.childLanes&~J,O.memoizedState=Px,ue}return Oe=R.child,R=Oe.sibling,ue=wh(Oe,{mode:"visible",children:ue.children}),!(O.mode&1)&&(ue.lanes=J),ue.return=O,ue.sibling=null,R!==null&&(J=O.deletions,J===null?(O.deletions=[R],O.flags|=16):J.push(R)),O.child=ue,O.memoizedState=null,ue}function G2(R,O){return O=Ey({mode:"visible",children:O},R.mode,0,null),O.return=R,R.child=O}function eg(R,O,J,ue){return ue!==null&&R2(ue),Cd(O,R.child,null,J),R=G2(O,O.pendingProps.children),R.flags|=2,O.memoizedState=null,R}function IP(R,O,J,ue,Le,Oe,H){if(J)return O.flags&256?(O.flags&=-257,ue=f1(Error(xa(422))),eg(R,O,H,ue)):O.memoizedState!==null?(O.child=R.child,O.flags|=128,null):(Oe=ue.fallback,Le=O.mode,ue=Ey({mode:"visible",children:ue.children},Le,0,null),Oe=pv(Oe,Le,H,null),Oe.flags|=2,ue.return=O,Oe.return=O,ue.sibling=Oe,O.child=ue,O.mode&1&&Cd(O,R.child,null,H),O.child.memoizedState=Rx(H),O.memoizedState=Px,Oe);if(!(O.mode&1))return eg(R,O,H,null);if(Le.data==="$!"){if(ue=Le.nextSibling&&Le.nextSibling.dataset,ue)var j=ue.dgst;return ue=j,Oe=Error(xa(419)),ue=f1(Oe,ue,void 0),eg(R,O,H,ue)}if(j=(H&R.childLanes)!==0,dl||j){if(ue=rs,ue!==null){switch(H&-H){case 4:Le=2;break;case 16:Le=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Le=32;break;case 536870912:Le=268435456;break;default:Le=0}Le=Le&(ue.suspendedLanes|H)?0:Le,Le!==0&&Le!==Oe.retryLane&&(Oe.retryLane=Le,pc(R,Le),tf(ue,R,Le,-1))}return J2(),ue=f1(Error(xa(421))),eg(R,O,H,ue)}return Le.data==="$?"?(O.flags|=128,O.child=R.child,O=WP.bind(null,R),Le._reactRetry=O,null):(R=Oe.treeContext,Fl=yh(Le.nextSibling),Ol=O,ro=!0,Qu=null,R!==null&&(hu[vu++]=lc,hu[vu++]=uc,hu[vu++]=yv,lc=R.id,uc=R.overflow,yv=O),O=G2(O,ue.children),O.flags|=4096,O)}function Zw(R,O,J){R.lanes|=O;var ue=R.alternate;ue!==null&&(ue.lanes|=O),Ax(R.return,O,J)}function c1(R,O,J,ue,Le){var Oe=R.memoizedState;Oe===null?R.memoizedState={isBackwards:O,rendering:null,renderingStartTime:0,last:ue,tail:J,tailMode:Le}:(Oe.isBackwards=O,Oe.rendering=null,Oe.renderingStartTime=0,Oe.last=ue,Oe.tail=J,Oe.tailMode=Le)}function CA(R,O,J){var ue=O.pendingProps,Le=ue.revealOrder,Oe=ue.tail;if(Ks(R,O,ue.children,J),ue=vo.current,ue&2)ue=ue&1|2,O.flags|=128;else{if(R!==null&&R.flags&128)e:for(R=O.child;R!==null;){if(R.tag===13)R.memoizedState!==null&&Zw(R,J,O);else if(R.tag===19)Zw(R,J,O);else if(R.child!==null){R.child.return=R,R=R.child;continue}if(R===O)break e;for(;R.sibling===null;){if(R.return===null||R.return===O)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}ue&=1}if(Hi(vo,ue),!(O.mode&1))O.memoizedState=null;else switch(Le){case"forwards":for(J=O.child,Le=null;J!==null;)R=J.alternate,R!==null&&Zg(R)===null&&(Le=J),J=J.sibling;J=Le,J===null?(Le=O.child,O.child=null):(Le=J.sibling,J.sibling=null),c1(O,!1,Le,J,Oe);break;case"backwards":for(J=null,Le=O.child,O.child=null;Le!==null;){if(R=Le.alternate,R!==null&&Zg(R)===null){O.child=Le;break}R=Le.sibling,Le.sibling=J,J=Le,Le=R}c1(O,!0,J,null,Oe);break;case"together":c1(O,!1,null,null,void 0);break;default:O.memoizedState=null}return O.child}function Mg(R,O){!(O.mode&1)&&R!==null&&(R.alternate=null,O.alternate=null,O.flags|=2)}function gc(R,O,J){if(R!==null&&(O.dependencies=R.dependencies),xv|=O.lanes,!(J&O.childLanes))return null;if(R!==null&&O.child!==R.child)throw Error(xa(153));if(O.child!==null){for(R=O.child,J=wh(R,R.pendingProps),O.child=J,J.return=O;R.sibling!==null;)R=R.sibling,J=J.sibling=wh(R,R.pendingProps),J.return=O;J.sibling=null}return O.child}function _P(R,O,J){switch(O.tag){case 3:MA(O),Ed();break;case 5:eA(O);break;case 1:yl(O.type)&&jg(O);break;case 4:O2(O,O.stateNode.containerInfo);break;case 10:var ue=O.type._context,Le=O.memoizedProps.value;Hi(Wg,ue._currentValue),ue._currentValue=Le;break;case 13:if(ue=O.memoizedState,ue!==null)return ue.dehydrated!==null?(Hi(vo,vo.current&1),O.flags|=128,null):J&O.child.childLanes?EA(R,O,J):(Hi(vo,vo.current&1),R=gc(R,O,J),R!==null?R.sibling:null);Hi(vo,vo.current&1);break;case 19:if(ue=(J&O.childLanes)!==0,R.flags&128){if(ue)return CA(R,O,J);O.flags|=128}if(Le=O.memoizedState,Le!==null&&(Le.rendering=null,Le.tail=null,Le.lastEffect=null),Hi(vo,vo.current),ue)break;return null;case 22:case 23:return O.lanes=0,AA(R,O,J)}return gc(R,O,J)}var LA,Dx,PA,RA;LA=function(R,O){for(var J=O.child;J!==null;){if(J.tag===5||J.tag===6)R.appendChild(J.stateNode);else if(J.tag!==4&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===O)break;for(;J.sibling===null;){if(J.return===null||J.return===O)return;J=J.return}J.sibling.return=J.return,J=J.sibling}};Dx=function(){};PA=function(R,O,J,ue){var Le=R.memoizedProps;if(Le!==ue){R=O.stateNode,hv(If.current);var Oe=null;switch(J){case"input":Le=q1(R,Le),ue=q1(R,ue),Oe=[];break;case"select":Le=yo({},Le,{value:void 0}),ue=yo({},ue,{value:void 0}),Oe=[];break;case"textarea":Le=rx(R,Le),ue=rx(R,ue),Oe=[];break;default:typeof Le.onClick!="function"&&typeof ue.onClick=="function"&&(R.onclick=Ug)}ax(J,ue);var H;J=null;for(g in Le)if(!ue.hasOwnProperty(g)&&Le.hasOwnProperty(g)&&Le[g]!=null)if(g==="style"){var j=Le[g];for(H in j)j.hasOwnProperty(H)&&(J||(J={}),J[H]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Bp.hasOwnProperty(g)?Oe||(Oe=[]):(Oe=Oe||[]).push(g,null));for(g in ue){var e=ue[g];if(j=Le!=null?Le[g]:void 0,ue.hasOwnProperty(g)&&e!==j&&(e!=null||j!=null))if(g==="style")if(j){for(H in j)!j.hasOwnProperty(H)||e&&e.hasOwnProperty(H)||(J||(J={}),J[H]="");for(H in e)e.hasOwnProperty(H)&&j[H]!==e[H]&&(J||(J={}),J[H]=e[H])}else J||(Oe||(Oe=[]),Oe.push(g,J)),J=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,j=j?j.__html:void 0,e!=null&&j!==e&&(Oe=Oe||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(Oe=Oe||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Bp.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&Ki("scroll",R),Oe||j===e||(Oe=[])):(Oe=Oe||[]).push(g,e))}J&&(Oe=Oe||[]).push("style",J);var g=Oe;(O.updateQueue=g)&&(O.flags|=4)}};RA=function(R,O,J,ue){J!==ue&&(O.flags|=4)};function cp(R,O){if(!ro)switch(R.tailMode){case"hidden":O=R.tail;for(var J=null;O!==null;)O.alternate!==null&&(J=O),O=O.sibling;J===null?R.tail=null:J.sibling=null;break;case"collapsed":J=R.tail;for(var ue=null;J!==null;)J.alternate!==null&&(ue=J),J=J.sibling;ue===null?O||R.tail===null?R.tail=null:R.tail.sibling=null:ue.sibling=null}}function _s(R){var O=R.alternate!==null&&R.alternate.child===R.child,J=0,ue=0;if(O)for(var Le=R.child;Le!==null;)J|=Le.lanes|Le.childLanes,ue|=Le.subtreeFlags&14680064,ue|=Le.flags&14680064,Le.return=R,Le=Le.sibling;else for(Le=R.child;Le!==null;)J|=Le.lanes|Le.childLanes,ue|=Le.subtreeFlags,ue|=Le.flags,Le.return=R,Le=Le.sibling;return R.subtreeFlags|=ue,R.childLanes=J,O}function kP(R,O,J){var ue=O.pendingProps;switch(P2(O),O.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _s(O),null;case 1:return yl(O.type)&&Vg(),_s(O),null;case 3:return ue=O.stateNode,Ld(),Ji(pl),Ji(zs),N2(),ue.pendingContext&&(ue.context=ue.pendingContext,ue.pendingContext=null),(R===null||R.child===null)&&(Q0(O)?O.flags|=4:R===null||R.memoizedState.isDehydrated&&!(O.flags&256)||(O.flags|=1024,Qu!==null&&(Bx(Qu),Qu=null))),Dx(R,O),_s(O),null;case 5:z2(O);var Le=hv($p.current);if(J=O.type,R!==null&&O.stateNode!=null)PA(R,O,J,ue,Le),R.ref!==O.ref&&(O.flags|=512,O.flags|=2097152);else{if(!ue){if(O.stateNode===null)throw Error(xa(166));return _s(O),null}if(R=hv(If.current),Q0(O)){ue=O.stateNode,J=O.type;var Oe=O.memoizedProps;switch(ue[Rf]=O,ue[Kp]=Oe,R=(O.mode&1)!==0,J){case"dialog":Ki("cancel",ue),Ki("close",ue);break;case"iframe":case"object":case"embed":Ki("load",ue);break;case"video":case"audio":for(Le=0;Le<Ep.length;Le++)Ki(Ep[Le],ue);break;case"source":Ki("error",ue);break;case"img":case"image":case"link":Ki("error",ue),Ki("load",ue);break;case"details":Ki("toggle",ue);break;case"input":nw(ue,Oe),Ki("invalid",ue);break;case"select":ue._wrapperState={wasMultiple:!!Oe.multiple},Ki("invalid",ue);break;case"textarea":iw(ue,Oe),Ki("invalid",ue)}ax(J,Oe),Le=null;for(var H in Oe)if(Oe.hasOwnProperty(H)){var j=Oe[H];H==="children"?typeof j=="string"?ue.textContent!==j&&(Oe.suppressHydrationWarning!==!0&&$0(ue.textContent,j,R),Le=["children",j]):typeof j=="number"&&ue.textContent!==""+j&&(Oe.suppressHydrationWarning!==!0&&$0(ue.textContent,j,R),Le=["children",""+j]):Bp.hasOwnProperty(H)&&j!=null&&H==="onScroll"&&Ki("scroll",ue)}switch(J){case"input":H0(ue),aw(ue,Oe,!0);break;case"textarea":H0(ue),ow(ue);break;case"select":case"option":break;default:typeof Oe.onClick=="function"&&(ue.onclick=Ug)}ue=Le,O.updateQueue=ue,ue!==null&&(O.flags|=4)}else{H=Le.nodeType===9?Le:Le.ownerDocument,R==="http://www.w3.org/1999/xhtml"&&(R=n5(J)),R==="http://www.w3.org/1999/xhtml"?J==="script"?(R=H.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild)):typeof ue.is=="string"?R=H.createElement(J,{is:ue.is}):(R=H.createElement(J),J==="select"&&(H=R,ue.multiple?H.multiple=!0:ue.size&&(H.size=ue.size))):R=H.createElementNS(R,J),R[Rf]=O,R[Kp]=ue,LA(R,O,!1,!1),O.stateNode=R;e:{switch(H=ix(J,ue),J){case"dialog":Ki("cancel",R),Ki("close",R),Le=ue;break;case"iframe":case"object":case"embed":Ki("load",R),Le=ue;break;case"video":case"audio":for(Le=0;Le<Ep.length;Le++)Ki(Ep[Le],R);Le=ue;break;case"source":Ki("error",R),Le=ue;break;case"img":case"image":case"link":Ki("error",R),Ki("load",R),Le=ue;break;case"details":Ki("toggle",R),Le=ue;break;case"input":nw(R,ue),Le=q1(R,ue),Ki("invalid",R);break;case"option":Le=ue;break;case"select":R._wrapperState={wasMultiple:!!ue.multiple},Le=yo({},ue,{value:void 0}),Ki("invalid",R);break;case"textarea":iw(R,ue),Le=rx(R,ue),Ki("invalid",R);break;default:Le=ue}ax(J,Le),j=Le;for(Oe in j)if(j.hasOwnProperty(Oe)){var e=j[Oe];Oe==="style"?o5(R,e):Oe==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&a5(R,e)):Oe==="children"?typeof e=="string"?(J!=="textarea"||e!=="")&&Up(R,e):typeof e=="number"&&Up(R,""+e):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(Bp.hasOwnProperty(Oe)?e!=null&&Oe==="onScroll"&&Ki("scroll",R):e!=null&&d2(R,Oe,e,H))}switch(J){case"input":H0(R),aw(R,ue,!1);break;case"textarea":H0(R),ow(R);break;case"option":ue.value!=null&&R.setAttribute("value",""+Th(ue.value));break;case"select":R.multiple=!!ue.multiple,Oe=ue.value,Oe!=null?gd(R,!!ue.multiple,Oe,!1):ue.defaultValue!=null&&gd(R,!!ue.multiple,ue.defaultValue,!0);break;default:typeof Le.onClick=="function"&&(R.onclick=Ug)}switch(J){case"button":case"input":case"select":case"textarea":ue=!!ue.autoFocus;break e;case"img":ue=!0;break e;default:ue=!1}}ue&&(O.flags|=4)}O.ref!==null&&(O.flags|=512,O.flags|=2097152)}return _s(O),null;case 6:if(R&&O.stateNode!=null)RA(R,O,R.memoizedProps,ue);else{if(typeof ue!="string"&&O.stateNode===null)throw Error(xa(166));if(J=hv($p.current),hv(If.current),Q0(O)){if(ue=O.stateNode,J=O.memoizedProps,ue[Rf]=O,(Oe=ue.nodeValue!==J)&&(R=Ol,R!==null))switch(R.tag){case 3:$0(ue.nodeValue,J,(R.mode&1)!==0);break;case 5:R.memoizedProps.suppressHydrationWarning!==!0&&$0(ue.nodeValue,J,(R.mode&1)!==0)}Oe&&(O.flags|=4)}else ue=(J.nodeType===9?J:J.ownerDocument).createTextNode(ue),ue[Rf]=O,O.stateNode=ue}return _s(O),null;case 13:if(Ji(vo),ue=O.memoizedState,R===null||R.memoizedState!==null&&R.memoizedState.dehydrated!==null){if(ro&&Fl!==null&&O.mode&1&&!(O.flags&128))X5(),Ed(),O.flags|=98560,Oe=!1;else if(Oe=Q0(O),ue!==null&&ue.dehydrated!==null){if(R===null){if(!Oe)throw Error(xa(318));if(Oe=O.memoizedState,Oe=Oe!==null?Oe.dehydrated:null,!Oe)throw Error(xa(317));Oe[Rf]=O}else Ed(),!(O.flags&128)&&(O.memoizedState=null),O.flags|=4;_s(O),Oe=!1}else Qu!==null&&(Bx(Qu),Qu=null),Oe=!0;if(!Oe)return O.flags&65536?O:null}return O.flags&128?(O.lanes=J,O):(ue=ue!==null,ue!==(R!==null&&R.memoizedState!==null)&&ue&&(O.child.flags|=8192,O.mode&1&&(R===null||vo.current&1?Zo===0&&(Zo=3):J2())),O.updateQueue!==null&&(O.flags|=4),_s(O),null);case 4:return Ld(),Dx(R,O),R===null&&Xp(O.stateNode.containerInfo),_s(O),null;case 10:return _2(O.type._context),_s(O),null;case 17:return yl(O.type)&&Vg(),_s(O),null;case 19:if(Ji(vo),Oe=O.memoizedState,Oe===null)return _s(O),null;if(ue=(O.flags&128)!==0,H=Oe.rendering,H===null)if(ue)cp(Oe,!1);else{if(Zo!==0||R!==null&&R.flags&128)for(R=O.child;R!==null;){if(H=Zg(R),H!==null){for(O.flags|=128,cp(Oe,!1),ue=H.updateQueue,ue!==null&&(O.updateQueue=ue,O.flags|=4),O.subtreeFlags=0,ue=J,J=O.child;J!==null;)Oe=J,R=ue,Oe.flags&=14680066,H=Oe.alternate,H===null?(Oe.childLanes=0,Oe.lanes=R,Oe.child=null,Oe.subtreeFlags=0,Oe.memoizedProps=null,Oe.memoizedState=null,Oe.updateQueue=null,Oe.dependencies=null,Oe.stateNode=null):(Oe.childLanes=H.childLanes,Oe.lanes=H.lanes,Oe.child=H.child,Oe.subtreeFlags=0,Oe.deletions=null,Oe.memoizedProps=H.memoizedProps,Oe.memoizedState=H.memoizedState,Oe.updateQueue=H.updateQueue,Oe.type=H.type,R=H.dependencies,Oe.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),J=J.sibling;return Hi(vo,vo.current&1|2),O.child}R=R.sibling}Oe.tail!==null&&Fo()>Rd&&(O.flags|=128,ue=!0,cp(Oe,!1),O.lanes=4194304)}else{if(!ue)if(R=Zg(H),R!==null){if(O.flags|=128,ue=!0,J=R.updateQueue,J!==null&&(O.updateQueue=J,O.flags|=4),cp(Oe,!0),Oe.tail===null&&Oe.tailMode==="hidden"&&!H.alternate&&!ro)return _s(O),null}else 2*Fo()-Oe.renderingStartTime>Rd&&J!==1073741824&&(O.flags|=128,ue=!0,cp(Oe,!1),O.lanes=4194304);Oe.isBackwards?(H.sibling=O.child,O.child=H):(J=Oe.last,J!==null?J.sibling=H:O.child=H,Oe.last=H)}return Oe.tail!==null?(O=Oe.tail,Oe.rendering=O,Oe.tail=O.sibling,Oe.renderingStartTime=Fo(),O.sibling=null,J=vo.current,Hi(vo,ue?J&1|2:J&1),O):(_s(O),null);case 22:case 23:return K2(),ue=O.memoizedState!==null,R!==null&&R.memoizedState!==null!==ue&&(O.flags|=8192),ue&&O.mode&1?kl&1073741824&&(_s(O),O.subtreeFlags&6&&(O.flags|=8192)):_s(O),null;case 24:return null;case 25:return null}throw Error(xa(156,O.tag))}function FP(R,O){switch(P2(O),O.tag){case 1:return yl(O.type)&&Vg(),R=O.flags,R&65536?(O.flags=R&-65537|128,O):null;case 3:return Ld(),Ji(pl),Ji(zs),N2(),R=O.flags,R&65536&&!(R&128)?(O.flags=R&-65537|128,O):null;case 5:return z2(O),null;case 13:if(Ji(vo),R=O.memoizedState,R!==null&&R.dehydrated!==null){if(O.alternate===null)throw Error(xa(340));Ed()}return R=O.flags,R&65536?(O.flags=R&-65537|128,O):null;case 19:return Ji(vo),null;case 4:return Ld(),null;case 10:return _2(O.type._context),null;case 22:case 23:return K2(),null;case 24:return null;default:return null}}var tg=!1,Os=!1,OP=typeof WeakSet=="function"?WeakSet:Set,ka=null;function hd(R,O){var J=R.ref;if(J!==null)if(typeof J=="function")try{J(null)}catch(ue){To(R,O,ue)}else J.current=null}function Ix(R,O,J){try{J()}catch(ue){To(R,O,ue)}}var Kw=!1;function zP(R,O){if(px=zg,R=k5(),C2(R)){if("selectionStart"in R)var J={start:R.selectionStart,end:R.selectionEnd};else e:{J=(J=R.ownerDocument)&&J.defaultView||window;var ue=J.getSelection&&J.getSelection();if(ue&&ue.rangeCount!==0){J=ue.anchorNode;var Le=ue.anchorOffset,Oe=ue.focusNode;ue=ue.focusOffset;try{J.nodeType,Oe.nodeType}catch{J=null;break e}var H=0,j=-1,e=-1,g=0,P=0,a=R,x=null;t:for(;;){for(var w;a!==J||Le!==0&&a.nodeType!==3||(j=H+Le),a!==Oe||ue!==0&&a.nodeType!==3||(e=H+ue),a.nodeType===3&&(H+=a.nodeValue.length),(w=a.firstChild)!==null;)x=a,a=w;for(;;){if(a===R)break t;if(x===J&&++g===Le&&(j=H),x===Oe&&++P===ue&&(e=H),(w=a.nextSibling)!==null)break;a=x,x=a.parentNode}a=w}J=j===-1||e===-1?null:{start:j,end:e}}else J=null}J=J||{start:0,end:0}}else J=null;for(gx={focusedElem:R,selectionRange:J},zg=!1,ka=O;ka!==null;)if(O=ka,R=O.child,(O.subtreeFlags&1028)!==0&&R!==null)R.return=O,ka=R;else for(;ka!==null;){O=ka;try{var v=O.alternate;if(O.flags&1024)switch(O.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=O.stateNode,i=t.getSnapshotBeforeUpdate(O.elementType===O.type?p:Ku(O.type,p),r);t.__reactInternalSnapshotBeforeUpdate=i}break;case 3:var n=O.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xa(163))}}catch(u){To(O,O.return,u)}if(R=O.sibling,R!==null){R.return=O.return,ka=R;break}ka=O.return}return v=Kw,Kw=!1,v}function kp(R,O,J){var ue=O.updateQueue;if(ue=ue!==null?ue.lastEffect:null,ue!==null){var Le=ue=ue.next;do{if((Le.tag&R)===R){var Oe=Le.destroy;Le.destroy=void 0,Oe!==void 0&&Ix(O,J,Oe)}Le=Le.next}while(Le!==ue)}}function Sy(R,O){if(O=O.updateQueue,O=O!==null?O.lastEffect:null,O!==null){var J=O=O.next;do{if((J.tag&R)===R){var ue=J.create;J.destroy=ue()}J=J.next}while(J!==O)}}function _x(R){var O=R.ref;if(O!==null){var J=R.stateNode;switch(R.tag){case 5:R=J;break;default:R=J}typeof O=="function"?O(R):O.current=R}}function DA(R){var O=R.alternate;O!==null&&(R.alternate=null,DA(O)),R.child=null,R.deletions=null,R.sibling=null,R.tag===5&&(O=R.stateNode,O!==null&&(delete O[Rf],delete O[Kp],delete O[xx],delete O[xP],delete O[bP])),R.stateNode=null,R.return=null,R.dependencies=null,R.memoizedProps=null,R.memoizedState=null,R.pendingProps=null,R.stateNode=null,R.updateQueue=null}function IA(R){return R.tag===5||R.tag===3||R.tag===4}function Jw(R){e:for(;;){for(;R.sibling===null;){if(R.return===null||IA(R.return))return null;R=R.return}for(R.sibling.return=R.return,R=R.sibling;R.tag!==5&&R.tag!==6&&R.tag!==18;){if(R.flags&2||R.child===null||R.tag===4)continue e;R.child.return=R,R=R.child}if(!(R.flags&2))return R.stateNode}}function kx(R,O,J){var ue=R.tag;if(ue===5||ue===6)R=R.stateNode,O?J.nodeType===8?J.parentNode.insertBefore(R,O):J.insertBefore(R,O):(J.nodeType===8?(O=J.parentNode,O.insertBefore(R,J)):(O=J,O.appendChild(R)),J=J._reactRootContainer,J!=null||O.onclick!==null||(O.onclick=Ug));else if(ue!==4&&(R=R.child,R!==null))for(kx(R,O,J),R=R.sibling;R!==null;)kx(R,O,J),R=R.sibling}function Fx(R,O,J){var ue=R.tag;if(ue===5||ue===6)R=R.stateNode,O?J.insertBefore(R,O):J.appendChild(R);else if(ue!==4&&(R=R.child,R!==null))for(Fx(R,O,J),R=R.sibling;R!==null;)Fx(R,O,J),R=R.sibling}var xs=null,Ju=!1;function ah(R,O,J){for(J=J.child;J!==null;)_A(R,O,J),J=J.sibling}function _A(R,O,J){if(Df&&typeof Df.onCommitFiberUnmount=="function")try{Df.onCommitFiberUnmount(gy,J)}catch{}switch(J.tag){case 5:Os||hd(J,O);case 6:var ue=xs,Le=Ju;xs=null,ah(R,O,J),xs=ue,Ju=Le,xs!==null&&(Ju?(R=xs,J=J.stateNode,R.nodeType===8?R.parentNode.removeChild(J):R.removeChild(J)):xs.removeChild(J.stateNode));break;case 18:xs!==null&&(Ju?(R=xs,J=J.stateNode,R.nodeType===8?a1(R.parentNode,J):R.nodeType===1&&a1(R,J),Gp(R)):a1(xs,J.stateNode));break;case 4:ue=xs,Le=Ju,xs=J.stateNode.containerInfo,Ju=!0,ah(R,O,J),xs=ue,Ju=Le;break;case 0:case 11:case 14:case 15:if(!Os&&(ue=J.updateQueue,ue!==null&&(ue=ue.lastEffect,ue!==null))){Le=ue=ue.next;do{var Oe=Le,H=Oe.destroy;Oe=Oe.tag,H!==void 0&&(Oe&2||Oe&4)&&Ix(J,O,H),Le=Le.next}while(Le!==ue)}ah(R,O,J);break;case 1:if(!Os&&(hd(J,O),ue=J.stateNode,typeof ue.componentWillUnmount=="function"))try{ue.props=J.memoizedProps,ue.state=J.memoizedState,ue.componentWillUnmount()}catch(j){To(J,O,j)}ah(R,O,J);break;case 21:ah(R,O,J);break;case 22:J.mode&1?(Os=(ue=Os)||J.memoizedState!==null,ah(R,O,J),Os=ue):ah(R,O,J);break;default:ah(R,O,J)}}function $w(R){var O=R.updateQueue;if(O!==null){R.updateQueue=null;var J=R.stateNode;J===null&&(J=R.stateNode=new OP),O.forEach(function(ue){var Le=YP.bind(null,R,ue);J.has(ue)||(J.add(ue),ue.then(Le,Le))})}}function Zu(R,O){var J=O.deletions;if(J!==null)for(var ue=0;ue<J.length;ue++){var Le=J[ue];try{var Oe=R,H=O,j=H;e:for(;j!==null;){switch(j.tag){case 5:xs=j.stateNode,Ju=!1;break e;case 3:xs=j.stateNode.containerInfo,Ju=!0;break e;case 4:xs=j.stateNode.containerInfo,Ju=!0;break e}j=j.return}if(xs===null)throw Error(xa(160));_A(Oe,H,Le),xs=null,Ju=!1;var e=Le.alternate;e!==null&&(e.return=null),Le.return=null}catch(g){To(Le,O,g)}}if(O.subtreeFlags&12854)for(O=O.child;O!==null;)kA(O,R),O=O.sibling}function kA(R,O){var J=R.alternate,ue=R.flags;switch(R.tag){case 0:case 11:case 14:case 15:if(Zu(O,R),Ef(R),ue&4){try{kp(3,R,R.return),Sy(3,R)}catch(p){To(R,R.return,p)}try{kp(5,R,R.return)}catch(p){To(R,R.return,p)}}break;case 1:Zu(O,R),Ef(R),ue&512&&J!==null&&hd(J,J.return);break;case 5:if(Zu(O,R),Ef(R),ue&512&&J!==null&&hd(J,J.return),R.flags&32){var Le=R.stateNode;try{Up(Le,"")}catch(p){To(R,R.return,p)}}if(ue&4&&(Le=R.stateNode,Le!=null)){var Oe=R.memoizedProps,H=J!==null?J.memoizedProps:Oe,j=R.type,e=R.updateQueue;if(R.updateQueue=null,e!==null)try{j==="input"&&Oe.type==="radio"&&Oe.name!=null&&t5(Le,Oe),ix(j,H);var g=ix(j,Oe);for(H=0;H<e.length;H+=2){var P=e[H],a=e[H+1];P==="style"?o5(Le,a):P==="dangerouslySetInnerHTML"?a5(Le,a):P==="children"?Up(Le,a):d2(Le,P,a,g)}switch(j){case"input":ex(Le,Oe);break;case"textarea":r5(Le,Oe);break;case"select":var x=Le._wrapperState.wasMultiple;Le._wrapperState.wasMultiple=!!Oe.multiple;var w=Oe.value;w!=null?gd(Le,!!Oe.multiple,w,!1):x!==!!Oe.multiple&&(Oe.defaultValue!=null?gd(Le,!!Oe.multiple,Oe.defaultValue,!0):gd(Le,!!Oe.multiple,Oe.multiple?[]:"",!1))}Le[Kp]=Oe}catch(p){To(R,R.return,p)}}break;case 6:if(Zu(O,R),Ef(R),ue&4){if(R.stateNode===null)throw Error(xa(162));Le=R.stateNode,Oe=R.memoizedProps;try{Le.nodeValue=Oe}catch(p){To(R,R.return,p)}}break;case 3:if(Zu(O,R),Ef(R),ue&4&&J!==null&&J.memoizedState.isDehydrated)try{Gp(O.containerInfo)}catch(p){To(R,R.return,p)}break;case 4:Zu(O,R),Ef(R);break;case 13:Zu(O,R),Ef(R),Le=R.child,Le.flags&8192&&(Oe=Le.memoizedState!==null,Le.stateNode.isHidden=Oe,!Oe||Le.alternate!==null&&Le.alternate.memoizedState!==null||(X2=Fo())),ue&4&&$w(R);break;case 22:if(P=J!==null&&J.memoizedState!==null,R.mode&1?(Os=(g=Os)||P,Zu(O,R),Os=g):Zu(O,R),Ef(R),ue&8192){if(g=R.memoizedState!==null,(R.stateNode.isHidden=g)&&!P&&R.mode&1)for(ka=R,P=R.child;P!==null;){for(a=ka=P;ka!==null;){switch(x=ka,w=x.child,x.tag){case 0:case 11:case 14:case 15:kp(4,x,x.return);break;case 1:hd(x,x.return);var v=x.stateNode;if(typeof v.componentWillUnmount=="function"){ue=x,J=x.return;try{O=ue,v.props=O.memoizedProps,v.state=O.memoizedState,v.componentWillUnmount()}catch(p){To(ue,J,p)}}break;case 5:hd(x,x.return);break;case 22:if(x.memoizedState!==null){qw(a);continue}}w!==null?(w.return=x,ka=w):qw(a)}P=P.sibling}e:for(P=null,a=R;;){if(a.tag===5){if(P===null){P=a;try{Le=a.stateNode,g?(Oe=Le.style,typeof Oe.setProperty=="function"?Oe.setProperty("display","none","important"):Oe.display="none"):(j=a.stateNode,e=a.memoizedProps.style,H=e!=null&&e.hasOwnProperty("display")?e.display:null,j.style.display=i5("display",H))}catch(p){To(R,R.return,p)}}}else if(a.tag===6){if(P===null)try{a.stateNode.nodeValue=g?"":a.memoizedProps}catch(p){To(R,R.return,p)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===R)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===R)break e;for(;a.sibling===null;){if(a.return===null||a.return===R)break e;P===a&&(P=null),a=a.return}P===a&&(P=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:Zu(O,R),Ef(R),ue&4&&$w(R);break;case 21:break;default:Zu(O,R),Ef(R)}}function Ef(R){var O=R.flags;if(O&2){try{e:{for(var J=R.return;J!==null;){if(IA(J)){var ue=J;break e}J=J.return}throw Error(xa(160))}switch(ue.tag){case 5:var Le=ue.stateNode;ue.flags&32&&(Up(Le,""),ue.flags&=-33);var Oe=Jw(R);Fx(R,Oe,Le);break;case 3:case 4:var H=ue.stateNode.containerInfo,j=Jw(R);kx(R,j,H);break;default:throw Error(xa(161))}}catch(e){To(R,R.return,e)}R.flags&=-3}O&4096&&(R.flags&=-4097)}function NP(R,O,J){ka=R,FA(R)}function FA(R,O,J){for(var ue=(R.mode&1)!==0;ka!==null;){var Le=ka,Oe=Le.child;if(Le.tag===22&&ue){var H=Le.memoizedState!==null||tg;if(!H){var j=Le.alternate,e=j!==null&&j.memoizedState!==null||Os;j=tg;var g=Os;if(tg=H,(Os=e)&&!g)for(ka=Le;ka!==null;)H=ka,e=H.child,H.tag===22&&H.memoizedState!==null?e4(Le):e!==null?(e.return=H,ka=e):e4(Le);for(;Oe!==null;)ka=Oe,FA(Oe),Oe=Oe.sibling;ka=Le,tg=j,Os=g}Qw(R)}else Le.subtreeFlags&8772&&Oe!==null?(Oe.return=Le,ka=Oe):Qw(R)}}function Qw(R){for(;ka!==null;){var O=ka;if(O.flags&8772){var J=O.alternate;try{if(O.flags&8772)switch(O.tag){case 0:case 11:case 15:Os||Sy(5,O);break;case 1:var ue=O.stateNode;if(O.flags&4&&!Os)if(J===null)ue.componentDidMount();else{var Le=O.elementType===O.type?J.memoizedProps:Ku(O.type,J.memoizedProps);ue.componentDidUpdate(Le,J.memoizedState,ue.__reactInternalSnapshotBeforeUpdate)}var Oe=O.updateQueue;Oe!==null&&Fw(O,Oe,ue);break;case 3:var H=O.updateQueue;if(H!==null){if(J=null,O.child!==null)switch(O.child.tag){case 5:J=O.child.stateNode;break;case 1:J=O.child.stateNode}Fw(O,H,J)}break;case 5:var j=O.stateNode;if(J===null&&O.flags&4){J=j;var e=O.memoizedProps;switch(O.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&J.focus();break;case"img":e.src&&(J.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(O.memoizedState===null){var g=O.alternate;if(g!==null){var P=g.memoizedState;if(P!==null){var a=P.dehydrated;a!==null&&Gp(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xa(163))}Os||O.flags&512&&_x(O)}catch(x){To(O,O.return,x)}}if(O===R){ka=null;break}if(J=O.sibling,J!==null){J.return=O.return,ka=J;break}ka=O.return}}function qw(R){for(;ka!==null;){var O=ka;if(O===R){ka=null;break}var J=O.sibling;if(J!==null){J.return=O.return,ka=J;break}ka=O.return}}function e4(R){for(;ka!==null;){var O=ka;try{switch(O.tag){case 0:case 11:case 15:var J=O.return;try{Sy(4,O)}catch(e){To(O,J,e)}break;case 1:var ue=O.stateNode;if(typeof ue.componentDidMount=="function"){var Le=O.return;try{ue.componentDidMount()}catch(e){To(O,Le,e)}}var Oe=O.return;try{_x(O)}catch(e){To(O,Oe,e)}break;case 5:var H=O.return;try{_x(O)}catch(e){To(O,H,e)}}}catch(e){To(O,O.return,e)}if(O===R){ka=null;break}var j=O.sibling;if(j!==null){j.return=O.return,ka=j;break}ka=O.return}}var BP=Math.ceil,$g=yc.ReactCurrentDispatcher,W2=yc.ReactCurrentOwner,pu=yc.ReactCurrentBatchConfig,Ti=0,rs=null,jo=null,bs=0,kl=0,vd=Ph(0),Zo=0,t0=null,xv=0,My=0,Y2=0,Fp=null,vl=null,X2=0,Rd=1/0,oc=null,Qg=!1,Ox=null,xh=null,rg=!1,vh=null,qg=0,Op=0,zx=null,Eg=-1,Cg=0;function Js(){return Ti&6?Fo():Eg!==-1?Eg:Eg=Fo()}function bh(R){return R.mode&1?Ti&2&&bs!==0?bs&-bs:TP.transition!==null?(Cg===0&&(Cg=m5()),Cg):(R=Ii,R!==0||(R=window.event,R=R===void 0?16:M5(R.type)),R):1}function tf(R,O,J,ue){if(50<Op)throw Op=0,zx=null,Error(xa(185));o0(R,J,ue),(!(Ti&2)||R!==rs)&&(R===rs&&(!(Ti&2)&&(My|=J),Zo===4&&fh(R,bs)),ml(R,ue),J===1&&Ti===0&&!(O.mode&1)&&(Rd=Fo()+500,wy&&Rh()))}function ml(R,O){var J=R.callbackNode;TL(R,O);var ue=Og(R,R===rs?bs:0);if(ue===0)J!==null&&uw(J),R.callbackNode=null,R.callbackPriority=0;else if(O=ue&-ue,R.callbackPriority!==O){if(J!=null&&uw(J),O===1)R.tag===0?wP(t4.bind(null,R)):G5(t4.bind(null,R)),yP(function(){!(Ti&6)&&Rh()}),J=null;else{switch(x5(ue)){case 1:J=x2;break;case 4:J=g5;break;case 16:J=Fg;break;case 536870912:J=y5;break;default:J=Fg}J=HA(J,OA.bind(null,R))}R.callbackPriority=O,R.callbackNode=J}}function OA(R,O){if(Eg=-1,Cg=0,Ti&6)throw Error(xa(327));var J=R.callbackNode;if(wd()&&R.callbackNode!==J)return null;var ue=Og(R,R===rs?bs:0);if(ue===0)return null;if(ue&30||ue&R.expiredLanes||O)O=ey(R,ue);else{O=ue;var Le=Ti;Ti|=2;var Oe=NA();(rs!==R||bs!==O)&&(oc=null,Rd=Fo()+500,dv(R,O));do try{jP();break}catch(j){zA(R,j)}while(1);I2(),$g.current=Oe,Ti=Le,jo!==null?O=0:(rs=null,bs=0,O=Zo)}if(O!==0){if(O===2&&(Le=fx(R),Le!==0&&(ue=Le,O=Nx(R,Le))),O===1)throw J=t0,dv(R,0),fh(R,ue),ml(R,Fo()),J;if(O===6)fh(R,ue);else{if(Le=R.current.alternate,!(ue&30)&&!UP(Le)&&(O=ey(R,ue),O===2&&(Oe=fx(R),Oe!==0&&(ue=Oe,O=Nx(R,Oe))),O===1))throw J=t0,dv(R,0),fh(R,ue),ml(R,Fo()),J;switch(R.finishedWork=Le,R.finishedLanes=ue,O){case 0:case 1:throw Error(xa(345));case 2:uv(R,vl,oc);break;case 3:if(fh(R,ue),(ue&130023424)===ue&&(O=X2+500-Fo(),10<O)){if(Og(R,0)!==0)break;if(Le=R.suspendedLanes,(Le&ue)!==ue){Js(),R.pingedLanes|=R.suspendedLanes&Le;break}R.timeoutHandle=mx(uv.bind(null,R,vl,oc),O);break}uv(R,vl,oc);break;case 4:if(fh(R,ue),(ue&4194240)===ue)break;for(O=R.eventTimes,Le=-1;0<ue;){var H=31-ef(ue);Oe=1<<H,H=O[H],H>Le&&(Le=H),ue&=~Oe}if(ue=Le,ue=Fo()-ue,ue=(120>ue?120:480>ue?480:1080>ue?1080:1920>ue?1920:3e3>ue?3e3:4320>ue?4320:1960*BP(ue/1960))-ue,10<ue){R.timeoutHandle=mx(uv.bind(null,R,vl,oc),ue);break}uv(R,vl,oc);break;case 5:uv(R,vl,oc);break;default:throw Error(xa(329))}}}return ml(R,Fo()),R.callbackNode===J?OA.bind(null,R):null}function Nx(R,O){var J=Fp;return R.current.memoizedState.isDehydrated&&(dv(R,O).flags|=256),R=ey(R,O),R!==2&&(O=vl,vl=J,O!==null&&Bx(O)),R}function Bx(R){vl===null?vl=R:vl.push.apply(vl,R)}function UP(R){for(var O=R;;){if(O.flags&16384){var J=O.updateQueue;if(J!==null&&(J=J.stores,J!==null))for(var ue=0;ue<J.length;ue++){var Le=J[ue],Oe=Le.getSnapshot;Le=Le.value;try{if(!rf(Oe(),Le))return!1}catch{return!1}}}if(J=O.child,O.subtreeFlags&16384&&J!==null)J.return=O,O=J;else{if(O===R)break;for(;O.sibling===null;){if(O.return===null||O.return===R)return!0;O=O.return}O.sibling.return=O.return,O=O.sibling}}return!0}function fh(R,O){for(O&=~Y2,O&=~My,R.suspendedLanes|=O,R.pingedLanes&=~O,R=R.expirationTimes;0<O;){var J=31-ef(O),ue=1<<J;R[J]=-1,O&=~ue}}function t4(R){if(Ti&6)throw Error(xa(327));wd();var O=Og(R,0);if(!(O&1))return ml(R,Fo()),null;var J=ey(R,O);if(R.tag!==0&&J===2){var ue=fx(R);ue!==0&&(O=ue,J=Nx(R,ue))}if(J===1)throw J=t0,dv(R,0),fh(R,O),ml(R,Fo()),J;if(J===6)throw Error(xa(345));return R.finishedWork=R.current.alternate,R.finishedLanes=O,uv(R,vl,oc),ml(R,Fo()),null}function Z2(R,O){var J=Ti;Ti|=1;try{return R(O)}finally{Ti=J,Ti===0&&(Rd=Fo()+500,wy&&Rh())}}function bv(R){vh!==null&&vh.tag===0&&!(Ti&6)&&wd();var O=Ti;Ti|=1;var J=pu.transition,ue=Ii;try{if(pu.transition=null,Ii=1,R)return R()}finally{Ii=ue,pu.transition=J,Ti=O,!(Ti&6)&&Rh()}}function K2(){kl=vd.current,Ji(vd)}function dv(R,O){R.finishedWork=null,R.finishedLanes=0;var J=R.timeoutHandle;if(J!==-1&&(R.timeoutHandle=-1,gP(J)),jo!==null)for(J=jo.return;J!==null;){var ue=J;switch(P2(ue),ue.tag){case 1:ue=ue.type.childContextTypes,ue!=null&&Vg();break;case 3:Ld(),Ji(pl),Ji(zs),N2();break;case 5:z2(ue);break;case 4:Ld();break;case 13:Ji(vo);break;case 19:Ji(vo);break;case 10:_2(ue.type._context);break;case 22:case 23:K2()}J=J.return}if(rs=R,jo=R=wh(R.current,null),bs=kl=O,Zo=0,t0=null,Y2=My=xv=0,vl=Fp=null,cv!==null){for(O=0;O<cv.length;O++)if(J=cv[O],ue=J.interleaved,ue!==null){J.interleaved=null;var Le=ue.next,Oe=J.pending;if(Oe!==null){var H=Oe.next;Oe.next=Le,ue.next=H}J.pending=ue}cv=null}return R}function zA(R,O){do{var J=jo;try{if(I2(),Ag.current=Jg,Kg){for(var ue=go.memoizedState;ue!==null;){var Le=ue.queue;Le!==null&&(Le.pending=null),ue=ue.next}Kg=!1}if(mv=0,ts=Xo=go=null,_p=!1,Qp=0,W2.current=null,J===null||J.return===null){Zo=1,t0=O,jo=null;break}e:{var Oe=R,H=J.return,j=J,e=O;if(O=bs,j.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,P=j,a=P.tag;if(!(P.mode&1)&&(a===0||a===11||a===15)){var x=P.alternate;x?(P.updateQueue=x.updateQueue,P.memoizedState=x.memoizedState,P.lanes=x.lanes):(P.updateQueue=null,P.memoizedState=null)}var w=jw(H);if(w!==null){w.flags&=-257,Hw(w,H,j,Oe,O),w.mode&1&&Vw(Oe,g,O),O=w,e=g;var v=O.updateQueue;if(v===null){var p=new Set;p.add(e),O.updateQueue=p}else v.add(e);break e}else{if(!(O&1)){Vw(Oe,g,O),J2();break e}e=Error(xa(426))}}else if(ro&&j.mode&1){var r=jw(H);if(r!==null){!(r.flags&65536)&&(r.flags|=256),Hw(r,H,j,Oe,O),R2(Pd(e,j));break e}}Oe=e=Pd(e,j),Zo!==4&&(Zo=2),Fp===null?Fp=[Oe]:Fp.push(Oe),Oe=H;do{switch(Oe.tag){case 3:Oe.flags|=65536,O&=-O,Oe.lanes|=O;var t=bA(Oe,e,O);kw(Oe,t);break e;case 1:j=e;var i=Oe.type,n=Oe.stateNode;if(!(Oe.flags&128)&&(typeof i.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(xh===null||!xh.has(n)))){Oe.flags|=65536,O&=-O,Oe.lanes|=O;var u=wA(Oe,j,O);kw(Oe,u);break e}}Oe=Oe.return}while(Oe!==null)}UA(J)}catch(f){O=f,jo===J&&J!==null&&(jo=J=J.return);continue}break}while(1)}function NA(){var R=$g.current;return $g.current=Jg,R===null?Jg:R}function J2(){(Zo===0||Zo===3||Zo===2)&&(Zo=4),rs===null||!(xv&268435455)&&!(My&268435455)||fh(rs,bs)}function ey(R,O){var J=Ti;Ti|=2;var ue=NA();(rs!==R||bs!==O)&&(oc=null,dv(R,O));do try{VP();break}catch(Le){zA(R,Le)}while(1);if(I2(),Ti=J,$g.current=ue,jo!==null)throw Error(xa(261));return rs=null,bs=0,Zo}function VP(){for(;jo!==null;)BA(jo)}function jP(){for(;jo!==null&&!vL();)BA(jo)}function BA(R){var O=jA(R.alternate,R,kl);R.memoizedProps=R.pendingProps,O===null?UA(R):jo=O,W2.current=null}function UA(R){var O=R;do{var J=O.alternate;if(R=O.return,O.flags&32768){if(J=FP(J,O),J!==null){J.flags&=32767,jo=J;return}if(R!==null)R.flags|=32768,R.subtreeFlags=0,R.deletions=null;else{Zo=6,jo=null;return}}else if(J=kP(J,O,kl),J!==null){jo=J;return}if(O=O.sibling,O!==null){jo=O;return}jo=O=R}while(O!==null);Zo===0&&(Zo=5)}function uv(R,O,J){var ue=Ii,Le=pu.transition;try{pu.transition=null,Ii=1,HP(R,O,J,ue)}finally{pu.transition=Le,Ii=ue}return null}function HP(R,O,J,ue){do wd();while(vh!==null);if(Ti&6)throw Error(xa(327));J=R.finishedWork;var Le=R.finishedLanes;if(J===null)return null;if(R.finishedWork=null,R.finishedLanes=0,J===R.current)throw Error(xa(177));R.callbackNode=null,R.callbackPriority=0;var Oe=J.lanes|J.childLanes;if(AL(R,Oe),R===rs&&(jo=rs=null,bs=0),!(J.subtreeFlags&2064)&&!(J.flags&2064)||rg||(rg=!0,HA(Fg,function(){return wd(),null})),Oe=(J.flags&15990)!==0,J.subtreeFlags&15990||Oe){Oe=pu.transition,pu.transition=null;var H=Ii;Ii=1;var j=Ti;Ti|=4,W2.current=null,zP(R,J),kA(J,R),uP(gx),zg=!!px,gx=px=null,R.current=J,NP(J),dL(),Ti=j,Ii=H,pu.transition=Oe}else R.current=J;if(rg&&(rg=!1,vh=R,qg=Le),Oe=R.pendingLanes,Oe===0&&(xh=null),yL(J.stateNode),ml(R,Fo()),O!==null)for(ue=R.onRecoverableError,J=0;J<O.length;J++)Le=O[J],ue(Le.value,{componentStack:Le.stack,digest:Le.digest});if(Qg)throw Qg=!1,R=Ox,Ox=null,R;return qg&1&&R.tag!==0&&wd(),Oe=R.pendingLanes,Oe&1?R===zx?Op++:(Op=0,zx=R):Op=0,Rh(),null}function wd(){if(vh!==null){var R=x5(qg),O=pu.transition,J=Ii;try{if(pu.transition=null,Ii=16>R?16:R,vh===null)var ue=!1;else{if(R=vh,vh=null,qg=0,Ti&6)throw Error(xa(331));var Le=Ti;for(Ti|=4,ka=R.current;ka!==null;){var Oe=ka,H=Oe.child;if(ka.flags&16){var j=Oe.deletions;if(j!==null){for(var e=0;e<j.length;e++){var g=j[e];for(ka=g;ka!==null;){var P=ka;switch(P.tag){case 0:case 11:case 15:kp(8,P,Oe)}var a=P.child;if(a!==null)a.return=P,ka=a;else for(;ka!==null;){P=ka;var x=P.sibling,w=P.return;if(DA(P),P===g){ka=null;break}if(x!==null){x.return=w,ka=x;break}ka=w}}}var v=Oe.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}ka=Oe}}if(Oe.subtreeFlags&2064&&H!==null)H.return=Oe,ka=H;else e:for(;ka!==null;){if(Oe=ka,Oe.flags&2048)switch(Oe.tag){case 0:case 11:case 15:kp(9,Oe,Oe.return)}var t=Oe.sibling;if(t!==null){t.return=Oe.return,ka=t;break e}ka=Oe.return}}var i=R.current;for(ka=i;ka!==null;){H=ka;var n=H.child;if(H.subtreeFlags&2064&&n!==null)n.return=H,ka=n;else e:for(H=i;ka!==null;){if(j=ka,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Sy(9,j)}}catch(f){To(j,j.return,f)}if(j===H){ka=null;break e}var u=j.sibling;if(u!==null){u.return=j.return,ka=u;break e}ka=j.return}}if(Ti=Le,Rh(),Df&&typeof Df.onPostCommitFiberRoot=="function")try{Df.onPostCommitFiberRoot(gy,R)}catch{}ue=!0}return ue}finally{Ii=J,pu.transition=O}}return!1}function r4(R,O,J){O=Pd(J,O),O=bA(R,O,1),R=mh(R,O,1),O=Js(),R!==null&&(o0(R,1,O),ml(R,O))}function To(R,O,J){if(R.tag===3)r4(R,R,J);else for(;O!==null;){if(O.tag===3){r4(O,R,J);break}else if(O.tag===1){var ue=O.stateNode;if(typeof O.type.getDerivedStateFromError=="function"||typeof ue.componentDidCatch=="function"&&(xh===null||!xh.has(ue))){R=Pd(J,R),R=wA(O,R,1),O=mh(O,R,1),R=Js(),O!==null&&(o0(O,1,R),ml(O,R));break}}O=O.return}}function GP(R,O,J){var ue=R.pingCache;ue!==null&&ue.delete(O),O=Js(),R.pingedLanes|=R.suspendedLanes&J,rs===R&&(bs&J)===J&&(Zo===4||Zo===3&&(bs&130023424)===bs&&500>Fo()-X2?dv(R,0):Y2|=J),ml(R,O)}function VA(R,O){O===0&&(R.mode&1?(O=Y0,Y0<<=1,!(Y0&130023424)&&(Y0=4194304)):O=1);var J=Js();R=pc(R,O),R!==null&&(o0(R,O,J),ml(R,J))}function WP(R){var O=R.memoizedState,J=0;O!==null&&(J=O.retryLane),VA(R,J)}function YP(R,O){var J=0;switch(R.tag){case 13:var ue=R.stateNode,Le=R.memoizedState;Le!==null&&(J=Le.retryLane);break;case 19:ue=R.stateNode;break;default:throw Error(xa(314))}ue!==null&&ue.delete(O),VA(R,J)}var jA;jA=function(R,O,J){if(R!==null)if(R.memoizedProps!==O.pendingProps||pl.current)dl=!0;else{if(!(R.lanes&J)&&!(O.flags&128))return dl=!1,_P(R,O,J);dl=!!(R.flags&131072)}else dl=!1,ro&&O.flags&1048576&&W5(O,Gg,O.index);switch(O.lanes=0,O.tag){case 2:var ue=O.type;Mg(R,O),R=O.pendingProps;var Le=Md(O,zs.current);bd(O,J),Le=U2(null,O,ue,R,Le,J);var Oe=V2();return O.flags|=1,typeof Le=="object"&&Le!==null&&typeof Le.render=="function"&&Le.$$typeof===void 0?(O.tag=1,O.memoizedState=null,O.updateQueue=null,yl(ue)?(Oe=!0,jg(O)):Oe=!1,O.memoizedState=Le.state!==null&&Le.state!==void 0?Le.state:null,F2(O),Le.updater=Ty,O.stateNode=Le,Le._reactInternals=O,Mx(O,ue,R,J),O=Lx(null,O,ue,!0,Oe,J)):(O.tag=0,ro&&Oe&&L2(O),Ks(null,O,Le,J),O=O.child),O;case 16:ue=O.elementType;e:{switch(Mg(R,O),R=O.pendingProps,Le=ue._init,ue=Le(ue._payload),O.type=ue,Le=O.tag=ZP(ue),R=Ku(ue,R),Le){case 0:O=Cx(null,O,ue,R,J);break e;case 1:O=Yw(null,O,ue,R,J);break e;case 11:O=Gw(null,O,ue,R,J);break e;case 14:O=Ww(null,O,ue,Ku(ue.type,R),J);break e}throw Error(xa(306,ue,""))}return O;case 0:return ue=O.type,Le=O.pendingProps,Le=O.elementType===ue?Le:Ku(ue,Le),Cx(R,O,ue,Le,J);case 1:return ue=O.type,Le=O.pendingProps,Le=O.elementType===ue?Le:Ku(ue,Le),Yw(R,O,ue,Le,J);case 3:e:{if(MA(O),R===null)throw Error(xa(387));ue=O.pendingProps,Oe=O.memoizedState,Le=Oe.element,K5(R,O),Xg(O,ue,null,J);var H=O.memoizedState;if(ue=H.element,Oe.isDehydrated)if(Oe={element:ue,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},O.updateQueue.baseState=Oe,O.memoizedState=Oe,O.flags&256){Le=Pd(Error(xa(423)),O),O=Xw(R,O,ue,J,Le);break e}else if(ue!==Le){Le=Pd(Error(xa(424)),O),O=Xw(R,O,ue,J,Le);break e}else for(Fl=yh(O.stateNode.containerInfo.firstChild),Ol=O,ro=!0,Qu=null,J=q5(O,null,ue,J),O.child=J;J;)J.flags=J.flags&-3|4096,J=J.sibling;else{if(Ed(),ue===Le){O=gc(R,O,J);break e}Ks(R,O,ue,J)}O=O.child}return O;case 5:return eA(O),R===null&&Tx(O),ue=O.type,Le=O.pendingProps,Oe=R!==null?R.memoizedProps:null,H=Le.children,yx(ue,Le)?H=null:Oe!==null&&yx(ue,Oe)&&(O.flags|=32),SA(R,O),Ks(R,O,H,J),O.child;case 6:return R===null&&Tx(O),null;case 13:return EA(R,O,J);case 4:return O2(O,O.stateNode.containerInfo),ue=O.pendingProps,R===null?O.child=Cd(O,null,ue,J):Ks(R,O,ue,J),O.child;case 11:return ue=O.type,Le=O.pendingProps,Le=O.elementType===ue?Le:Ku(ue,Le),Gw(R,O,ue,Le,J);case 7:return Ks(R,O,O.pendingProps,J),O.child;case 8:return Ks(R,O,O.pendingProps.children,J),O.child;case 12:return Ks(R,O,O.pendingProps.children,J),O.child;case 10:e:{if(ue=O.type._context,Le=O.pendingProps,Oe=O.memoizedProps,H=Le.value,Hi(Wg,ue._currentValue),ue._currentValue=H,Oe!==null)if(rf(Oe.value,H)){if(Oe.children===Le.children&&!pl.current){O=gc(R,O,J);break e}}else for(Oe=O.child,Oe!==null&&(Oe.return=O);Oe!==null;){var j=Oe.dependencies;if(j!==null){H=Oe.child;for(var e=j.firstContext;e!==null;){if(e.context===ue){if(Oe.tag===1){e=cc(-1,J&-J),e.tag=2;var g=Oe.updateQueue;if(g!==null){g=g.shared;var P=g.pending;P===null?e.next=e:(e.next=P.next,P.next=e),g.pending=e}}Oe.lanes|=J,e=Oe.alternate,e!==null&&(e.lanes|=J),Ax(Oe.return,J,O),j.lanes|=J;break}e=e.next}}else if(Oe.tag===10)H=Oe.type===O.type?null:Oe.child;else if(Oe.tag===18){if(H=Oe.return,H===null)throw Error(xa(341));H.lanes|=J,j=H.alternate,j!==null&&(j.lanes|=J),Ax(H,J,O),H=Oe.sibling}else H=Oe.child;if(H!==null)H.return=Oe;else for(H=Oe;H!==null;){if(H===O){H=null;break}if(Oe=H.sibling,Oe!==null){Oe.return=H.return,H=Oe;break}H=H.return}Oe=H}Ks(R,O,Le.children,J),O=O.child}return O;case 9:return Le=O.type,ue=O.pendingProps.children,bd(O,J),Le=gu(Le),ue=ue(Le),O.flags|=1,Ks(R,O,ue,J),O.child;case 14:return ue=O.type,Le=Ku(ue,O.pendingProps),Le=Ku(ue.type,Le),Ww(R,O,ue,Le,J);case 15:return TA(R,O,O.type,O.pendingProps,J);case 17:return ue=O.type,Le=O.pendingProps,Le=O.elementType===ue?Le:Ku(ue,Le),Mg(R,O),O.tag=1,yl(ue)?(R=!0,jg(O)):R=!1,bd(O,J),$5(O,ue,Le),Mx(O,ue,Le,J),Lx(null,O,ue,!0,R,J);case 19:return CA(R,O,J);case 22:return AA(R,O,J)}throw Error(xa(156,O.tag))};function HA(R,O){return p5(R,O)}function XP(R,O,J,ue){this.tag=R,this.key=J,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=O,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ue,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function du(R,O,J,ue){return new XP(R,O,J,ue)}function $2(R){return R=R.prototype,!(!R||!R.isReactComponent)}function ZP(R){if(typeof R=="function")return $2(R)?1:0;if(R!=null){if(R=R.$$typeof,R===g2)return 11;if(R===y2)return 14}return 2}function wh(R,O){var J=R.alternate;return J===null?(J=du(R.tag,O,R.key,R.mode),J.elementType=R.elementType,J.type=R.type,J.stateNode=R.stateNode,J.alternate=R,R.alternate=J):(J.pendingProps=O,J.type=R.type,J.flags=0,J.subtreeFlags=0,J.deletions=null),J.flags=R.flags&14680064,J.childLanes=R.childLanes,J.lanes=R.lanes,J.child=R.child,J.memoizedProps=R.memoizedProps,J.memoizedState=R.memoizedState,J.updateQueue=R.updateQueue,O=R.dependencies,J.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext},J.sibling=R.sibling,J.index=R.index,J.ref=R.ref,J}function Lg(R,O,J,ue,Le,Oe){var H=2;if(ue=R,typeof R=="function")$2(R)&&(H=1);else if(typeof R=="string")H=5;else e:switch(R){case nd:return pv(J.children,Le,Oe,O);case p2:H=8,Le|=8;break;case K1:return R=du(12,J,O,Le|2),R.elementType=K1,R.lanes=Oe,R;case J1:return R=du(13,J,O,Le),R.elementType=J1,R.lanes=Oe,R;case $1:return R=du(19,J,O,Le),R.elementType=$1,R.lanes=Oe,R;case QT:return Ey(J,Le,Oe,O);default:if(typeof R=="object"&&R!==null)switch(R.$$typeof){case JT:H=10;break e;case $T:H=9;break e;case g2:H=11;break e;case y2:H=14;break e;case sh:H=16,ue=null;break e}throw Error(xa(130,R==null?R:typeof R,""))}return O=du(H,J,O,Le),O.elementType=R,O.type=ue,O.lanes=Oe,O}function pv(R,O,J,ue){return R=du(7,R,ue,O),R.lanes=J,R}function Ey(R,O,J,ue){return R=du(22,R,ue,O),R.elementType=QT,R.lanes=J,R.stateNode={isHidden:!1},R}function h1(R,O,J){return R=du(6,R,null,O),R.lanes=J,R}function v1(R,O,J){return O=du(4,R.children!==null?R.children:[],R.key,O),O.lanes=J,O.stateNode={containerInfo:R.containerInfo,pendingChildren:null,implementation:R.implementation},O}function KP(R,O,J,ue,Le){this.tag=O,this.containerInfo=R,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xm(0),this.expirationTimes=Xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xm(0),this.identifierPrefix=ue,this.onRecoverableError=Le,this.mutableSourceEagerHydrationData=null}function Q2(R,O,J,ue,Le,Oe,H,j,e){return R=new KP(R,O,J,j,e),O===1?(O=1,Oe===!0&&(O|=8)):O=0,Oe=du(3,null,null,O),R.current=Oe,Oe.stateNode=R,Oe.memoizedState={element:ue,isDehydrated:J,cache:null,transitions:null,pendingSuspenseBoundaries:null},F2(Oe),R}function JP(R,O,J){var ue=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:ue==null?null:""+ue,children:R,containerInfo:O,implementation:J}}function GA(R){if(!R)return Ah;R=R._reactInternals;e:{if(Mv(R)!==R||R.tag!==1)throw Error(xa(170));var O=R;do{switch(O.tag){case 3:O=O.stateNode.context;break e;case 1:if(yl(O.type)){O=O.stateNode.__reactInternalMemoizedMergedChildContext;break e}}O=O.return}while(O!==null);throw Error(xa(171))}if(R.tag===1){var J=R.type;if(yl(J))return H5(R,J,O)}return O}function WA(R,O,J,ue,Le,Oe,H,j,e){return R=Q2(J,ue,!0,R,Le,Oe,H,j,e),R.context=GA(null),J=R.current,ue=Js(),Le=bh(J),Oe=cc(ue,Le),Oe.callback=O??null,mh(J,Oe,Le),R.current.lanes=Le,o0(R,Le,ue),ml(R,ue),R}function Cy(R,O,J,ue){var Le=O.current,Oe=Js(),H=bh(Le);return J=GA(J),O.context===null?O.context=J:O.pendingContext=J,O=cc(Oe,H),O.payload={element:R},ue=ue===void 0?null:ue,ue!==null&&(O.callback=ue),R=mh(Le,O,H),R!==null&&(tf(R,Le,H,Oe),Tg(R,Le,H)),H}function ty(R){if(R=R.current,!R.child)return null;switch(R.child.tag){case 5:return R.child.stateNode;default:return R.child.stateNode}}function n4(R,O){if(R=R.memoizedState,R!==null&&R.dehydrated!==null){var J=R.retryLane;R.retryLane=J!==0&&J<O?J:O}}function q2(R,O){n4(R,O),(R=R.alternate)&&n4(R,O)}function $P(){return null}var YA=typeof reportError=="function"?reportError:function(R){console.error(R)};function eb(R){this._internalRoot=R}Ly.prototype.render=eb.prototype.render=function(R){var O=this._internalRoot;if(O===null)throw Error(xa(409));Cy(R,O,null,null)};Ly.prototype.unmount=eb.prototype.unmount=function(){var R=this._internalRoot;if(R!==null){this._internalRoot=null;var O=R.containerInfo;bv(function(){Cy(null,R,null,null)}),O[dc]=null}};function Ly(R){this._internalRoot=R}Ly.prototype.unstable_scheduleHydration=function(R){if(R){var O=T5();R={blockedOn:null,target:R,priority:O};for(var J=0;J<uh.length&&O!==0&&O<uh[J].priority;J++);uh.splice(J,0,R),J===0&&S5(R)}};function tb(R){return!(!R||R.nodeType!==1&&R.nodeType!==9&&R.nodeType!==11)}function Py(R){return!(!R||R.nodeType!==1&&R.nodeType!==9&&R.nodeType!==11&&(R.nodeType!==8||R.nodeValue!==" react-mount-point-unstable "))}function a4(){}function QP(R,O,J,ue,Le){if(Le){if(typeof ue=="function"){var Oe=ue;ue=function(){var g=ty(H);Oe.call(g)}}var H=WA(O,ue,R,0,null,!1,!1,"",a4);return R._reactRootContainer=H,R[dc]=H.current,Xp(R.nodeType===8?R.parentNode:R),bv(),H}for(;Le=R.lastChild;)R.removeChild(Le);if(typeof ue=="function"){var j=ue;ue=function(){var g=ty(e);j.call(g)}}var e=Q2(R,0,!1,null,null,!1,!1,"",a4);return R._reactRootContainer=e,R[dc]=e.current,Xp(R.nodeType===8?R.parentNode:R),bv(function(){Cy(O,e,J,ue)}),e}function Ry(R,O,J,ue,Le){var Oe=J._reactRootContainer;if(Oe){var H=Oe;if(typeof Le=="function"){var j=Le;Le=function(){var e=ty(H);j.call(e)}}Cy(O,H,R,Le)}else H=QP(J,O,R,Le,ue);return ty(H)}b5=function(R){switch(R.tag){case 3:var O=R.stateNode;if(O.current.memoizedState.isDehydrated){var J=Mp(O.pendingLanes);J!==0&&(b2(O,J|1),ml(O,Fo()),!(Ti&6)&&(Rd=Fo()+500,Rh()))}break;case 13:bv(function(){var ue=pc(R,1);if(ue!==null){var Le=Js();tf(ue,R,1,Le)}}),q2(R,1)}};w2=function(R){if(R.tag===13){var O=pc(R,134217728);if(O!==null){var J=Js();tf(O,R,134217728,J)}q2(R,134217728)}};w5=function(R){if(R.tag===13){var O=bh(R),J=pc(R,O);if(J!==null){var ue=Js();tf(J,R,O,ue)}q2(R,O)}};T5=function(){return Ii};A5=function(R,O){var J=Ii;try{return Ii=R,O()}finally{Ii=J}};sx=function(R,O,J){switch(O){case"input":if(ex(R,J),O=J.name,J.type==="radio"&&O!=null){for(J=R;J.parentNode;)J=J.parentNode;for(J=J.querySelectorAll("input[name="+JSON.stringify(""+O)+'][type="radio"]'),O=0;O<J.length;O++){var ue=J[O];if(ue!==R&&ue.form===R.form){var Le=by(ue);if(!Le)throw Error(xa(90));e5(ue),ex(ue,Le)}}}break;case"textarea":r5(R,J);break;case"select":O=J.value,O!=null&&gd(R,!!J.multiple,O,!1)}};u5=Z2;f5=bv;var qP={usingClientEntryPoint:!1,Events:[l0,sd,by,s5,l5,Z2]},hp={findFiberByHostInstance:fv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},e7={bundleType:hp.bundleType,version:hp.version,rendererPackageName:hp.rendererPackageName,rendererConfig:hp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yc.ReactCurrentDispatcher,findHostInstanceByFiber:function(R){return R=v5(R),R===null?null:R.stateNode},findFiberByHostInstance:hp.findFiberByHostInstance||$P,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ng.isDisabled&&ng.supportsFiber)try{gy=ng.inject(e7),Df=ng}catch{}}Nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP;Nl.createPortal=function(R,O){var J=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tb(O))throw Error(xa(200));return JP(R,O,null,J)};Nl.createRoot=function(R,O){if(!tb(R))throw Error(xa(299));var J=!1,ue="",Le=YA;return O!=null&&(O.unstable_strictMode===!0&&(J=!0),O.identifierPrefix!==void 0&&(ue=O.identifierPrefix),O.onRecoverableError!==void 0&&(Le=O.onRecoverableError)),O=Q2(R,1,!1,null,null,J,!1,ue,Le),R[dc]=O.current,Xp(R.nodeType===8?R.parentNode:R),new eb(O)};Nl.findDOMNode=function(R){if(R==null)return null;if(R.nodeType===1)return R;var O=R._reactInternals;if(O===void 0)throw typeof R.render=="function"?Error(xa(188)):(R=Object.keys(R).join(","),Error(xa(268,R)));return R=v5(O),R=R===null?null:R.stateNode,R};Nl.flushSync=function(R){return bv(R)};Nl.hydrate=function(R,O,J){if(!Py(O))throw Error(xa(200));return Ry(null,R,O,!0,J)};Nl.hydrateRoot=function(R,O,J){if(!tb(R))throw Error(xa(405));var ue=J!=null&&J.hydratedSources||null,Le=!1,Oe="",H=YA;if(J!=null&&(J.unstable_strictMode===!0&&(Le=!0),J.identifierPrefix!==void 0&&(Oe=J.identifierPrefix),J.onRecoverableError!==void 0&&(H=J.onRecoverableError)),O=WA(O,null,R,1,J??null,Le,!1,Oe,H),R[dc]=O.current,Xp(R),ue)for(R=0;R<ue.length;R++)J=ue[R],Le=J._getVersion,Le=Le(J._source),O.mutableSourceEagerHydrationData==null?O.mutableSourceEagerHydrationData=[J,Le]:O.mutableSourceEagerHydrationData.push(J,Le);return new Ly(O)};Nl.render=function(R,O,J){if(!Py(O))throw Error(xa(200));return Ry(null,R,O,!1,J)};Nl.unmountComponentAtNode=function(R){if(!Py(R))throw Error(xa(40));return R._reactRootContainer?(bv(function(){Ry(null,null,R,!1,function(){R._reactRootContainer=null,R[dc]=null})}),!0):!1};Nl.unstable_batchedUpdates=Z2;Nl.unstable_renderSubtreeIntoContainer=function(R,O,J,ue){if(!Py(J))throw Error(xa(200));if(R==null||R._reactInternals===void 0)throw Error(xa(38));return Ry(R,O,J,!1,ue)};Nl.version="18.2.0-next-9e3b772b8-20220608";function XA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XA)}catch(R){console.error(R)}}XA(),WT.exports=Nl;var Dy=WT.exports;const ZA=dy(Dy),t7=kT({__proto__:null,default:ZA},[Dy]);var i4=Dy;X1.createRoot=i4.createRoot,X1.hydrateRoot=i4.hydrateRoot;var KA={exports:{}},JA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=pn;function r7(R,O){return R===O&&(R!==0||1/R===1/O)||R!==R&&O!==O}var n7=typeof Object.is=="function"?Object.is:r7,a7=Dd.useState,i7=Dd.useEffect,o7=Dd.useLayoutEffect,s7=Dd.useDebugValue;function l7(R,O){var J=O(),ue=a7({inst:{value:J,getSnapshot:O}}),Le=ue[0].inst,Oe=ue[1];return o7(function(){Le.value=J,Le.getSnapshot=O,d1(Le)&&Oe({inst:Le})},[R,J,O]),i7(function(){return d1(Le)&&Oe({inst:Le}),R(function(){d1(Le)&&Oe({inst:Le})})},[R]),s7(J),J}function d1(R){var O=R.getSnapshot;R=R.value;try{var J=O();return!n7(R,J)}catch{return!0}}function u7(R,O){return O()}var f7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u7:l7;JA.useSyncExternalStore=Dd.useSyncExternalStore!==void 0?Dd.useSyncExternalStore:f7;KA.exports=JA;var c7=KA.exports,$A={exports:{}},QA={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=pn,h7=c7;function v7(R,O){return R===O&&(R!==0||1/R===1/O)||R!==R&&O!==O}var d7=typeof Object.is=="function"?Object.is:v7,p7=h7.useSyncExternalStore,g7=Iy.useRef,y7=Iy.useEffect,m7=Iy.useMemo,x7=Iy.useDebugValue;QA.useSyncExternalStoreWithSelector=function(R,O,J,ue,Le){var Oe=g7(null);if(Oe.current===null){var H={hasValue:!1,value:null};Oe.current=H}else H=Oe.current;Oe=m7(function(){function e(w){if(!g){if(g=!0,P=w,w=ue(w),Le!==void 0&&H.hasValue){var v=H.value;if(Le(v,w))return a=v}return a=w}if(v=a,d7(P,w))return v;var p=ue(w);return Le!==void 0&&Le(v,p)?v:(P=w,a=p)}var g=!1,P,a,x=J===void 0?null:J;return[function(){return e(O())},x===null?void 0:function(){return e(x())}]},[O,J,ue,Le]);var j=p7(R,Oe[0],Oe[1]);return y7(function(){H.hasValue=!0,H.value=j},[j]),x7(j),j};$A.exports=QA;var b7=$A.exports;function w7(R){R()}let qA=w7;const T7=R=>qA=R,A7=()=>qA,o4=Symbol.for("react-redux-context"),s4=typeof globalThis<"u"?globalThis:{};function S7(){var R;if(!pn.createContext)return{};const O=(R=s4[o4])!=null?R:s4[o4]=new Map;let J=O.get(pn.createContext);return J||(J=pn.createContext(null),O.set(pn.createContext,J)),J}const Sh=S7();function rb(R=Sh){return function(){return pn.useContext(R)}}const e6=rb(),M7=()=>{throw new Error("uSES not initialized!")};let t6=M7;const E7=R=>{t6=R},C7=(R,O)=>R===O;function L7(R=Sh){const O=R===Sh?e6:rb(R);return function(ue,Le={}){const{equalityFn:Oe=C7,stabilityCheck:H=void 0,noopCheck:j=void 0}=typeof Le=="function"?{equalityFn:Le}:Le,{store:e,subscription:g,getServerState:P,stabilityCheck:a,noopCheck:x}=O();pn.useRef(!0);const w=pn.useCallback({[ue.name](p){return ue(p)}}[ue.name],[ue,a,H]),v=t6(g.addNestedSub,e.getState,P||e.getState,w,Oe);return pn.useDebugValue(v),v}}const Di=L7();var r6={exports:{}},_i={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=typeof Symbol=="function"&&Symbol.for,nb=ns?Symbol.for("react.element"):60103,ab=ns?Symbol.for("react.portal"):60106,_y=ns?Symbol.for("react.fragment"):60107,ky=ns?Symbol.for("react.strict_mode"):60108,Fy=ns?Symbol.for("react.profiler"):60114,Oy=ns?Symbol.for("react.provider"):60109,zy=ns?Symbol.for("react.context"):60110,ib=ns?Symbol.for("react.async_mode"):60111,Ny=ns?Symbol.for("react.concurrent_mode"):60111,By=ns?Symbol.for("react.forward_ref"):60112,Uy=ns?Symbol.for("react.suspense"):60113,P7=ns?Symbol.for("react.suspense_list"):60120,Vy=ns?Symbol.for("react.memo"):60115,jy=ns?Symbol.for("react.lazy"):60116,R7=ns?Symbol.for("react.block"):60121,D7=ns?Symbol.for("react.fundamental"):60117,I7=ns?Symbol.for("react.responder"):60118,_7=ns?Symbol.for("react.scope"):60119;function Ul(R){if(typeof R=="object"&&R!==null){var O=R.$$typeof;switch(O){case nb:switch(R=R.type,R){case ib:case Ny:case _y:case Fy:case ky:case Uy:return R;default:switch(R=R&&R.$$typeof,R){case zy:case By:case jy:case Vy:case Oy:return R;default:return O}}case ab:return O}}}function n6(R){return Ul(R)===Ny}_i.AsyncMode=ib;_i.ConcurrentMode=Ny;_i.ContextConsumer=zy;_i.ContextProvider=Oy;_i.Element=nb;_i.ForwardRef=By;_i.Fragment=_y;_i.Lazy=jy;_i.Memo=Vy;_i.Portal=ab;_i.Profiler=Fy;_i.StrictMode=ky;_i.Suspense=Uy;_i.isAsyncMode=function(R){return n6(R)||Ul(R)===ib};_i.isConcurrentMode=n6;_i.isContextConsumer=function(R){return Ul(R)===zy};_i.isContextProvider=function(R){return Ul(R)===Oy};_i.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===nb};_i.isForwardRef=function(R){return Ul(R)===By};_i.isFragment=function(R){return Ul(R)===_y};_i.isLazy=function(R){return Ul(R)===jy};_i.isMemo=function(R){return Ul(R)===Vy};_i.isPortal=function(R){return Ul(R)===ab};_i.isProfiler=function(R){return Ul(R)===Fy};_i.isStrictMode=function(R){return Ul(R)===ky};_i.isSuspense=function(R){return Ul(R)===Uy};_i.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===_y||R===Ny||R===Fy||R===ky||R===Uy||R===P7||typeof R=="object"&&R!==null&&(R.$$typeof===jy||R.$$typeof===Vy||R.$$typeof===Oy||R.$$typeof===zy||R.$$typeof===By||R.$$typeof===D7||R.$$typeof===I7||R.$$typeof===_7||R.$$typeof===R7)};_i.typeOf=Ul;r6.exports=_i;var k7=r6.exports,a6=k7,F7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},O7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i6={};i6[a6.ForwardRef]=F7;i6[a6.Memo]=O7;var zi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob=Symbol.for("react.element"),sb=Symbol.for("react.portal"),Hy=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),Wy=Symbol.for("react.profiler"),Yy=Symbol.for("react.provider"),Xy=Symbol.for("react.context"),z7=Symbol.for("react.server_context"),Zy=Symbol.for("react.forward_ref"),Ky=Symbol.for("react.suspense"),Jy=Symbol.for("react.suspense_list"),$y=Symbol.for("react.memo"),Qy=Symbol.for("react.lazy"),N7=Symbol.for("react.offscreen"),o6;o6=Symbol.for("react.module.reference");function mu(R){if(typeof R=="object"&&R!==null){var O=R.$$typeof;switch(O){case ob:switch(R=R.type,R){case Hy:case Wy:case Gy:case Ky:case Jy:return R;default:switch(R=R&&R.$$typeof,R){case z7:case Xy:case Zy:case Qy:case $y:case Yy:return R;default:return O}}case sb:return O}}}zi.ContextConsumer=Xy;zi.ContextProvider=Yy;zi.Element=ob;zi.ForwardRef=Zy;zi.Fragment=Hy;zi.Lazy=Qy;zi.Memo=$y;zi.Portal=sb;zi.Profiler=Wy;zi.StrictMode=Gy;zi.Suspense=Ky;zi.SuspenseList=Jy;zi.isAsyncMode=function(){return!1};zi.isConcurrentMode=function(){return!1};zi.isContextConsumer=function(R){return mu(R)===Xy};zi.isContextProvider=function(R){return mu(R)===Yy};zi.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===ob};zi.isForwardRef=function(R){return mu(R)===Zy};zi.isFragment=function(R){return mu(R)===Hy};zi.isLazy=function(R){return mu(R)===Qy};zi.isMemo=function(R){return mu(R)===$y};zi.isPortal=function(R){return mu(R)===sb};zi.isProfiler=function(R){return mu(R)===Wy};zi.isStrictMode=function(R){return mu(R)===Gy};zi.isSuspense=function(R){return mu(R)===Ky};zi.isSuspenseList=function(R){return mu(R)===Jy};zi.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===Hy||R===Wy||R===Gy||R===Ky||R===Jy||R===N7||typeof R=="object"&&R!==null&&(R.$$typeof===Qy||R.$$typeof===$y||R.$$typeof===Yy||R.$$typeof===Xy||R.$$typeof===Zy||R.$$typeof===o6||R.getModuleId!==void 0)};zi.typeOf=mu;function B7(){const R=A7();let O=null,J=null;return{clear(){O=null,J=null},notify(){R(()=>{let ue=O;for(;ue;)ue.callback(),ue=ue.next})},get(){let ue=[],Le=O;for(;Le;)ue.push(Le),Le=Le.next;return ue},subscribe(ue){let Le=!0,Oe=J={callback:ue,next:null,prev:J};return Oe.prev?Oe.prev.next=Oe:O=Oe,function(){!Le||O===null||(Le=!1,Oe.next?Oe.next.prev=Oe.prev:J=Oe.prev,Oe.prev?Oe.prev.next=Oe.next:O=Oe.next)}}}}const l4={notify(){},get:()=>[]};function U7(R,O){let J,ue=l4,Le=0,Oe=!1;function H(p){P();const r=ue.subscribe(p);let t=!1;return()=>{t||(t=!0,r(),a())}}function j(){ue.notify()}function e(){v.onStateChange&&v.onStateChange()}function g(){return Oe}function P(){Le++,J||(J=O?O.addNestedSub(e):R.subscribe(e),ue=B7())}function a(){Le--,J&&Le===0&&(J(),J=void 0,ue.clear(),ue=l4)}function x(){Oe||(Oe=!0,P())}function w(){Oe&&(Oe=!1,a())}const v={addNestedSub:H,notifyNestedSubs:j,handleChangeWrapper:e,isSubscribed:g,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>ue};return v}const V7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j7=V7?pn.useLayoutEffect:pn.useEffect;function H7({store:R,context:O,children:J,serverState:ue,stabilityCheck:Le="once",noopCheck:Oe="once"}){const H=pn.useMemo(()=>{const g=U7(R);return{store:R,subscription:g,getServerState:ue?()=>ue:void 0,stabilityCheck:Le,noopCheck:Oe}},[R,ue,Le,Oe]),j=pn.useMemo(()=>R.getState(),[R]);j7(()=>{const{subscription:g}=H;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),j!==R.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[H,j]);const e=O||Sh;return pn.createElement(e.Provider,{value:H},J)}function s6(R=Sh){const O=R===Sh?e6:rb(R);return function(){const{store:ue}=O();return ue}}const G7=s6();function W7(R=Sh){const O=R===Sh?G7:s6(R);return function(){return O().dispatch}}const Mo=W7();E7(b7.useSyncExternalStoreWithSelector);T7(Dy.unstable_batchedUpdates);/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ao(){return Ao=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var J=arguments[O];for(var ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&(R[ue]=J[ue])}return R},Ao.apply(this,arguments)}var _o;(function(R){R.Pop="POP",R.Push="PUSH",R.Replace="REPLACE"})(_o||(_o={}));const u4="popstate";function Y7(R){R===void 0&&(R={});function O(ue,Le){let{pathname:Oe,search:H,hash:j}=ue.location;return r0("",{pathname:Oe,search:H,hash:j},Le.state&&Le.state.usr||null,Le.state&&Le.state.key||"default")}function J(ue,Le){return typeof Le=="string"?Le:Tv(Le)}return Z7(O,J,null,R)}function fi(R,O){if(R===!1||R===null||typeof R>"u")throw new Error(O)}function wv(R,O){if(!R){typeof console<"u"&&console.warn(O);try{throw new Error(O)}catch{}}}function X7(){return Math.random().toString(36).substr(2,8)}function f4(R,O){return{usr:R.state,key:R.key,idx:O}}function r0(R,O,J,ue){return J===void 0&&(J=null),Ao({pathname:typeof R=="string"?R:R.pathname,search:"",hash:""},typeof O=="string"?mc(O):O,{state:J,key:O&&O.key||ue||X7()})}function Tv(R){let{pathname:O="/",search:J="",hash:ue=""}=R;return J&&J!=="?"&&(O+=J.charAt(0)==="?"?J:"?"+J),ue&&ue!=="#"&&(O+=ue.charAt(0)==="#"?ue:"#"+ue),O}function mc(R){let O={};if(R){let J=R.indexOf("#");J>=0&&(O.hash=R.substr(J),R=R.substr(0,J));let ue=R.indexOf("?");ue>=0&&(O.search=R.substr(ue),R=R.substr(0,ue)),R&&(O.pathname=R)}return O}function Z7(R,O,J,ue){ue===void 0&&(ue={});let{window:Le=document.defaultView,v5Compat:Oe=!1}=ue,H=Le.history,j=_o.Pop,e=null,g=P();g==null&&(g=0,H.replaceState(Ao({},H.state,{idx:g}),""));function P(){return(H.state||{idx:null}).idx}function a(){j=_o.Pop;let r=P(),t=r==null?null:r-g;g=r,e&&e({action:j,location:p.location,delta:t})}function x(r,t){j=_o.Push;let i=r0(p.location,r,t);J&&J(i,r),g=P()+1;let n=f4(i,g),u=p.createHref(i);try{H.pushState(n,"",u)}catch(f){if(f instanceof DOMException&&f.name==="DataCloneError")throw f;Le.location.assign(u)}Oe&&e&&e({action:j,location:p.location,delta:1})}function w(r,t){j=_o.Replace;let i=r0(p.location,r,t);J&&J(i,r),g=P();let n=f4(i,g),u=p.createHref(i);H.replaceState(n,"",u),Oe&&e&&e({action:j,location:p.location,delta:0})}function v(r){let t=Le.location.origin!=="null"?Le.location.origin:Le.location.href,i=typeof r=="string"?r:Tv(r);return fi(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}let p={get action(){return j},get location(){return R(Le,H)},listen(r){if(e)throw new Error("A history only accepts one active listener");return Le.addEventListener(u4,a),e=r,()=>{Le.removeEventListener(u4,a),e=null}},createHref(r){return O(Le,r)},createURL:v,encodeLocation(r){let t=v(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:x,replace:w,go(r){return H.go(r)}};return p}var ko;(function(R){R.data="data",R.deferred="deferred",R.redirect="redirect",R.error="error"})(ko||(ko={}));const K7=new Set(["lazy","caseSensitive","path","id","index","children"]);function J7(R){return R.index===!0}function Ux(R,O,J,ue){return J===void 0&&(J=[]),ue===void 0&&(ue={}),R.map((Le,Oe)=>{let H=[...J,Oe],j=typeof Le.id=="string"?Le.id:H.join("-");if(fi(Le.index!==!0||!Le.children,"Cannot specify children on an index route"),fi(!ue[j],'Found a route id collision on id "'+j+`".  Route id's must be globally unique within Data Router usages`),J7(Le)){let e=Ao({},Le,O(Le),{id:j});return ue[j]=e,e}else{let e=Ao({},Le,O(Le),{id:j,children:void 0});return ue[j]=e,Le.children&&(e.children=Ux(Le.children,O,H,ue)),e}})}function dd(R,O,J){J===void 0&&(J="/");let ue=typeof O=="string"?mc(O):O,Le=Mh(ue.pathname||"/",J);if(Le==null)return null;let Oe=l6(R);Q7(Oe);let H=null;for(let j=0;H==null&&j<Oe.length;++j)H=s9(Oe[j],u9(Le));return H}function $7(R,O){let{route:J,pathname:ue,params:Le}=R;return{id:J.id,pathname:ue,params:Le,data:O[J.id],handle:J.handle}}function l6(R,O,J,ue){O===void 0&&(O=[]),J===void 0&&(J=[]),ue===void 0&&(ue="");let Le=(Oe,H,j)=>{let e={relativePath:j===void 0?Oe.path||"":j,caseSensitive:Oe.caseSensitive===!0,childrenIndex:H,route:Oe};e.relativePath.startsWith("/")&&(fi(e.relativePath.startsWith(ue),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+ue+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(ue.length));let g=hc([ue,e.relativePath]),P=J.concat(e);Oe.children&&Oe.children.length>0&&(fi(Oe.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),l6(Oe.children,O,P,g)),!(Oe.path==null&&!Oe.index)&&O.push({path:g,score:i9(g,Oe.index),routesMeta:P})};return R.forEach((Oe,H)=>{var j;if(Oe.path===""||!((j=Oe.path)!=null&&j.includes("?")))Le(Oe,H);else for(let e of u6(Oe.path))Le(Oe,H,e)}),O}function u6(R){let O=R.split("/");if(O.length===0)return[];let[J,...ue]=O,Le=J.endsWith("?"),Oe=J.replace(/\?$/,"");if(ue.length===0)return Le?[Oe,""]:[Oe];let H=u6(ue.join("/")),j=[];return j.push(...H.map(e=>e===""?Oe:[Oe,e].join("/"))),Le&&j.push(...H),j.map(e=>R.startsWith("/")&&e===""?"/":e)}function Q7(R){R.sort((O,J)=>O.score!==J.score?J.score-O.score:o9(O.routesMeta.map(ue=>ue.childrenIndex),J.routesMeta.map(ue=>ue.childrenIndex)))}const q7=/^:\w+$/,e9=3,t9=2,r9=1,n9=10,a9=-2,c4=R=>R==="*";function i9(R,O){let J=R.split("/"),ue=J.length;return J.some(c4)&&(ue+=a9),O&&(ue+=t9),J.filter(Le=>!c4(Le)).reduce((Le,Oe)=>Le+(q7.test(Oe)?e9:Oe===""?r9:n9),ue)}function o9(R,O){return R.length===O.length&&R.slice(0,-1).every((ue,Le)=>ue===O[Le])?R[R.length-1]-O[O.length-1]:0}function s9(R,O){let{routesMeta:J}=R,ue={},Le="/",Oe=[];for(let H=0;H<J.length;++H){let j=J[H],e=H===J.length-1,g=Le==="/"?O:O.slice(Le.length)||"/",P=Vx({path:j.relativePath,caseSensitive:j.caseSensitive,end:e},g);if(!P)return null;Object.assign(ue,P.params);let a=j.route;Oe.push({params:ue,pathname:hc([Le,P.pathname]),pathnameBase:v9(hc([Le,P.pathnameBase])),route:a}),P.pathnameBase!=="/"&&(Le=hc([Le,P.pathnameBase]))}return Oe}function Vx(R,O){typeof R=="string"&&(R={path:R,caseSensitive:!1,end:!0});let[J,ue]=l9(R.path,R.caseSensitive,R.end),Le=O.match(J);if(!Le)return null;let Oe=Le[0],H=Oe.replace(/(.)\/+$/,"$1"),j=Le.slice(1);return{params:ue.reduce((g,P,a)=>{let{paramName:x,isOptional:w}=P;if(x==="*"){let p=j[a]||"";H=Oe.slice(0,Oe.length-p.length).replace(/(.)\/+$/,"$1")}const v=j[a];return w&&!v?g[x]=void 0:g[x]=f9(v||"",x),g},{}),pathname:Oe,pathnameBase:H,pattern:R}}function l9(R,O,J){O===void 0&&(O=!1),J===void 0&&(J=!0),wv(R==="*"||!R.endsWith("*")||R.endsWith("/*"),'Route path "'+R+'" will be treated as if it were '+('"'+R.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+R.replace(/\*$/,"/*")+'".'));let ue=[],Le="^"+R.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(H,j,e)=>(ue.push({paramName:j,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return R.endsWith("*")?(ue.push({paramName:"*"}),Le+=R==="*"||R==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):J?Le+="\\/*$":R!==""&&R!=="/"&&(Le+="(?:(?=\\/|$))"),[new RegExp(Le,O?void 0:"i"),ue]}function u9(R){try{return decodeURI(R)}catch(O){return wv(!1,'The URL path "'+R+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+O+").")),R}}function f9(R,O){try{return decodeURIComponent(R)}catch(J){return wv(!1,'The value for the URL param "'+O+'" will not be decoded because'+(' the string "'+R+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+J+").")),R}}function Mh(R,O){if(O==="/")return R;if(!R.toLowerCase().startsWith(O.toLowerCase()))return null;let J=O.endsWith("/")?O.length-1:O.length,ue=R.charAt(J);return ue&&ue!=="/"?null:R.slice(J)||"/"}function c9(R,O){O===void 0&&(O="/");let{pathname:J,search:ue="",hash:Le=""}=typeof R=="string"?mc(R):R;return{pathname:J?J.startsWith("/")?J:h9(J,O):O,search:d9(ue),hash:p9(Le)}}function h9(R,O){let J=O.replace(/\/+$/,"").split("/");return R.split("/").forEach(Le=>{Le===".."?J.length>1&&J.pop():Le!=="."&&J.push(Le)}),J.length>1?J.join("/"):"/"}function p1(R,O,J,ue){return"Cannot include a '"+R+"' character in a manually specified "+("`to."+O+"` field ["+JSON.stringify(ue)+"].  Please separate it out to the ")+("`to."+J+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f6(R){return R.filter((O,J)=>J===0||O.route.path&&O.route.path.length>0)}function qy(R){return f6(R).map((O,J)=>J===R.length-1?O.pathname:O.pathnameBase)}function em(R,O,J,ue){ue===void 0&&(ue=!1);let Le;typeof R=="string"?Le=mc(R):(Le=Ao({},R),fi(!Le.pathname||!Le.pathname.includes("?"),p1("?","pathname","search",Le)),fi(!Le.pathname||!Le.pathname.includes("#"),p1("#","pathname","hash",Le)),fi(!Le.search||!Le.search.includes("#"),p1("#","search","hash",Le)));let Oe=R===""||Le.pathname==="",H=Oe?"/":Le.pathname,j;if(H==null)j=J;else if(ue){let a=O[O.length-1].replace(/^\//,"").split("/");if(H.startsWith("..")){let x=H.split("/");for(;x[0]==="..";)x.shift(),a.pop();Le.pathname=x.join("/")}j="/"+a.join("/")}else{let a=O.length-1;if(H.startsWith("..")){let x=H.split("/");for(;x[0]==="..";)x.shift(),a-=1;Le.pathname=x.join("/")}j=a>=0?O[a]:"/"}let e=c9(Le,j),g=H&&H!=="/"&&H.endsWith("/"),P=(Oe||H===".")&&J.endsWith("/");return!e.pathname.endsWith("/")&&(g||P)&&(e.pathname+="/"),e}const hc=R=>R.join("/").replace(/\/\/+/g,"/"),v9=R=>R.replace(/\/+$/,"").replace(/^\/*/,"/"),d9=R=>!R||R==="?"?"":R.startsWith("?")?R:"?"+R,p9=R=>!R||R==="#"?"":R.startsWith("#")?R:"#"+R;class lb{constructor(O,J,ue,Le){Le===void 0&&(Le=!1),this.status=O,this.statusText=J||"",this.internal=Le,ue instanceof Error?(this.data=ue.toString(),this.error=ue):this.data=ue}}function c6(R){return R!=null&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.internal=="boolean"&&"data"in R}const h6=["post","put","patch","delete"],g9=new Set(h6),y9=["get",...h6],m9=new Set(y9),x9=new Set([301,302,303,307,308]),b9=new Set([307,308]),g1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},w9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},v6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T9=R=>({hasErrorBoundary:!!R.hasErrorBoundary}),d6="remix-router-transitions";function A9(R){const O=R.window?R.window:typeof window<"u"?window:void 0,J=typeof O<"u"&&typeof O.document<"u"&&typeof O.document.createElement<"u",ue=!J;fi(R.routes.length>0,"You must provide a non-empty routes array to createRouter");let Le;if(R.mapRouteProperties)Le=R.mapRouteProperties;else if(R.detectErrorBoundary){let We=R.detectErrorBoundary;Le=rt=>({hasErrorBoundary:We(rt)})}else Le=T9;let Oe={},H=Ux(R.routes,Le,void 0,Oe),j,e=R.basename||"/",g=Ao({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},R.future),P=null,a=new Set,x=null,w=null,v=null,p=R.hydrationData!=null,r=dd(H,R.history.location,e),t=null;if(r==null){let We=cu(404,{pathname:R.history.location.pathname}),{matches:rt,route:st}=x4(H);r=rt,t={[st.id]:We}}let i=!r.some(We=>We.route.lazy)&&(!r.some(We=>We.route.loader)||R.hydrationData!=null),n,u={historyAction:R.history.action,location:R.history.location,matches:r,initialized:i,navigation:g1,restoreScrollPosition:R.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:R.hydrationData&&R.hydrationData.loaderData||{},actionData:R.hydrationData&&R.hydrationData.actionData||null,errors:R.hydrationData&&R.hydrationData.errors||t,fetchers:new Map,blockers:new Map},f=_o.Pop,l=!1,y,h=!1,M=new Map,c=null,o=!1,d=!1,T=[],S=[],C=new Map,m=0,E=-1,b=new Map,s=new Set,L=new Map,A=new Map,k=new Set,_=new Map,U=new Map,F=!1;function z(){if(P=R.history.listen(We=>{let{action:rt,location:st,delta:ht}=We;if(F){F=!1;return}wv(U.size===0||ht!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let vt=Ve({currentLocation:u.location,nextLocation:st,historyAction:rt});if(vt&&ht!=null){F=!0,R.history.go(ht*-1),Re(vt,{state:"blocked",location:st,proceed(){Re(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:st}),R.history.go(ht)},reset(){let At=new Map(u.blockers);At.set(vt,vp),V({blockers:At})}});return}return ne(rt,st)}),J){k9(O,M);let We=()=>F9(O,M);O.addEventListener("pagehide",We),c=()=>O.removeEventListener("pagehide",We)}return u.initialized||ne(_o.Pop,u.location),n}function B(){P&&P(),c&&c(),a.clear(),y&&y.abort(),u.fetchers.forEach((We,rt)=>he(rt)),u.blockers.forEach((We,rt)=>xe(rt))}function N(We){return a.add(We),()=>a.delete(We)}function V(We,rt){rt===void 0&&(rt={}),u=Ao({},u,We);let st=[],ht=[];g.v7_fetcherPersist&&u.fetchers.forEach((vt,At)=>{vt.state==="idle"&&(k.has(At)?ht.push(At):st.push(At))}),[...a].forEach(vt=>vt(u,{deletedFetchers:ht,unstable_viewTransitionOpts:rt.viewTransitionOpts,unstable_flushSync:rt.flushSync===!0})),g.v7_fetcherPersist&&(st.forEach(vt=>u.fetchers.delete(vt)),ht.forEach(vt=>he(vt)))}function W(We,rt,st){var ht,vt;let{flushSync:At}=st===void 0?{}:st,tt=u.actionData!=null&&u.navigation.formMethod!=null&&$u(u.navigation.formMethod)&&u.navigation.state==="loading"&&((ht=We.state)==null?void 0:ht._isRedirect)!==!0,_e;rt.actionData?Object.keys(rt.actionData).length>0?_e=rt.actionData:_e=null:tt?_e=u.actionData:_e=null;let je=rt.loaderData?m4(u.loaderData,rt.loaderData,rt.matches||[],rt.errors):u.loaderData,Ke=u.blockers;Ke.size>0&&(Ke=new Map(Ke),Ke.forEach((be,me)=>Ke.set(me,vp)));let He=l===!0||u.navigation.formMethod!=null&&$u(u.navigation.formMethod)&&((vt=We.state)==null?void 0:vt._isRedirect)!==!0;j&&(H=j,j=void 0),o||f===_o.Pop||(f===_o.Push?R.history.push(We,We.state):f===_o.Replace&&R.history.replace(We,We.state));let Ie;if(f===_o.Pop){let be=M.get(u.location.pathname);be&&be.has(We.pathname)?Ie={currentLocation:u.location,nextLocation:We}:M.has(We.pathname)&&(Ie={currentLocation:We,nextLocation:u.location})}else if(h){let be=M.get(u.location.pathname);be?be.add(We.pathname):(be=new Set([We.pathname]),M.set(u.location.pathname,be)),Ie={currentLocation:u.location,nextLocation:We}}V(Ao({},rt,{actionData:_e,loaderData:je,historyAction:f,location:We,initialized:!0,navigation:g1,revalidation:"idle",restoreScrollPosition:dt(We,rt.matches||u.matches),preventScrollReset:He,blockers:Ke}),{viewTransitionOpts:Ie,flushSync:At===!0}),f=_o.Pop,l=!1,h=!1,o=!1,d=!1,T=[],S=[]}async function Q(We,rt){if(typeof We=="number"){R.history.go(We);return}let st=jx(u.location,u.matches,e,g.v7_prependBasename,We,rt==null?void 0:rt.fromRouteId,rt==null?void 0:rt.relative),{path:ht,submission:vt,error:At}=h4(g.v7_normalizeFormMethod,!1,st,rt),tt=u.location,_e=r0(u.location,ht,rt&&rt.state);_e=Ao({},_e,R.history.encodeLocation(_e));let je=rt&&rt.replace!=null?rt.replace:void 0,Ke=_o.Push;je===!0?Ke=_o.Replace:je===!1||vt!=null&&$u(vt.formMethod)&&vt.formAction===u.location.pathname+u.location.search&&(Ke=_o.Replace);let He=rt&&"preventScrollReset"in rt?rt.preventScrollReset===!0:void 0,Ie=(rt&&rt.unstable_flushSync)===!0,be=Ve({currentLocation:tt,nextLocation:_e,historyAction:Ke});if(be){Re(be,{state:"blocked",location:_e,proceed(){Re(be,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Q(We,rt)},reset(){let me=new Map(u.blockers);me.set(be,vp),V({blockers:me})}});return}return await ne(Ke,_e,{submission:vt,pendingError:At,preventScrollReset:He,replace:rt&&rt.replace,enableViewTransition:rt&&rt.unstable_viewTransition,flushSync:Ie})}function re(){if(q(),V({revalidation:"loading"}),u.navigation.state!=="submitting"){if(u.navigation.state==="idle"){ne(u.historyAction,u.location,{startUninterruptedRevalidation:!0});return}ne(f||u.historyAction,u.navigation.location,{overrideNavigation:u.navigation})}}async function ne(We,rt,st){y&&y.abort(),y=null,f=We,o=(st&&st.startUninterruptedRevalidation)===!0,ut(u.location,u.matches),l=(st&&st.preventScrollReset)===!0,h=(st&&st.enableViewTransition)===!0;let ht=j||H,vt=st&&st.overrideNavigation,At=dd(ht,rt,e),tt=(st&&st.flushSync)===!0;if(!At){let me=cu(404,{pathname:rt.pathname}),{matches:Me,route:Te}=x4(ht);Ue(),W(rt,{matches:Me,loaderData:{},errors:{[Te.id]:me}},{flushSync:tt});return}if(u.initialized&&!d&&L9(u.location,rt)&&!(st&&st.submission&&$u(st.submission.formMethod))){W(rt,{matches:At},{flushSync:tt});return}y=new AbortController;let _e=pp(R.history,rt,y.signal,st&&st.submission),je,Ke;if(st&&st.pendingError)Ke={[zp(At).route.id]:st.pendingError};else if(st&&st.submission&&$u(st.submission.formMethod)){let me=await fe(_e,rt,st.submission,At,{replace:st.replace,flushSync:tt});if(me.shortCircuited)return;je=me.pendingActionData,Ke=me.pendingActionError,vt=y1(rt,st.submission),tt=!1,_e=new Request(_e.url,{signal:_e.signal})}let{shortCircuited:He,loaderData:Ie,errors:be}=await $(_e,rt,At,vt,st&&st.submission,st&&st.fetcherSubmission,st&&st.replace,tt,je,Ke);He||(y=null,W(rt,Ao({matches:At},je?{actionData:je}:{},{loaderData:Ie,errors:be})))}async function fe(We,rt,st,ht,vt){vt===void 0&&(vt={}),q();let At=I9(rt,st);V({navigation:At},{flushSync:vt.flushSync===!0});let tt,_e=Gx(ht,rt);if(!_e.route.action&&!_e.route.lazy)tt={type:ko.error,error:cu(405,{method:We.method,pathname:rt.pathname,routeId:_e.route.id})};else if(tt=await dp("action",We,_e,ht,Oe,Le,e),We.signal.aborted)return{shortCircuited:!0};if(Td(tt)){let je;return vt&&vt.replace!=null?je=vt.replace:je=tt.location===u.location.pathname+u.location.search,await ee(u,tt,{submission:st,replace:je}),{shortCircuited:!0}}if(Np(tt)){let je=zp(ht,_e.route.id);return(vt&&vt.replace)!==!0&&(f=_o.Push),{pendingActionData:{},pendingActionError:{[je.route.id]:tt.error}}}if(vv(tt))throw cu(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:tt.data}}}async function $(We,rt,st,ht,vt,At,tt,_e,je,Ke){let He=ht||y1(rt,vt),Ie=vt||At||T4(He),be=j||H,[me,Me]=v4(R.history,u,st,Ie,rt,d,T,S,k,L,s,be,e,je,Ke);if(Ue(Kt=>!(st&&st.some(mr=>mr.route.id===Kt))||me&&me.some(mr=>mr.route.id===Kt)),E=++m,me.length===0&&Me.length===0){let Kt=ke();return W(rt,Ao({matches:st,loaderData:{},errors:Ke||null},je?{actionData:je}:{},Kt?{fetchers:new Map(u.fetchers)}:{}),{flushSync:_e}),{shortCircuited:!0}}if(!o){Me.forEach(mr=>{let mt=u.fetchers.get(mr.key),Zt=gp(void 0,mt?mt.data:void 0);u.fetchers.set(mr.key,Zt)});let Kt=je||u.actionData;V(Ao({navigation:He},Kt?Object.keys(Kt).length===0?{actionData:null}:{actionData:Kt}:{},Me.length>0?{fetchers:new Map(u.fetchers)}:{}),{flushSync:_e})}Me.forEach(Kt=>{C.has(Kt.key)&&Ce(Kt.key),Kt.controller&&C.set(Kt.key,Kt.controller)});let Te=()=>Me.forEach(Kt=>Ce(Kt.key));y&&y.signal.addEventListener("abort",Te);let{results:ze,loaderResults:Je,fetcherResults:nt}=await se(u.matches,st,me,Me,We);if(We.signal.aborted)return{shortCircuited:!0};y&&y.signal.removeEventListener("abort",Te),Me.forEach(Kt=>C.delete(Kt.key));let pt=b4(ze);if(pt){if(pt.idx>=me.length){let Kt=Me[pt.idx-me.length].key;s.add(Kt)}return await ee(u,pt.result,{replace:tt}),{shortCircuited:!0}}let{loaderData:yt,errors:Yt}=y4(u,st,me,Je,Ke,Me,nt,_);_.forEach((Kt,mr)=>{Kt.subscribe(mt=>{(mt||Kt.done)&&_.delete(mr)})});let Xt=ke(),St=we(E),kt=Xt||St||Me.length>0;return Ao({loaderData:yt,errors:Yt},kt?{fetchers:new Map(u.fetchers)}:{})}function X(We,rt,st,ht){if(ue)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(We)&&Ce(We);let vt=(ht&&ht.unstable_flushSync)===!0,At=j||H,tt=jx(u.location,u.matches,e,g.v7_prependBasename,st,rt,ht==null?void 0:ht.relative),_e=dd(At,tt,e);if(!_e){le(We,rt,cu(404,{pathname:tt}),{flushSync:vt});return}let{path:je,submission:Ke,error:He}=h4(g.v7_normalizeFormMethod,!0,tt,ht);if(He){le(We,rt,He,{flushSync:vt});return}let Ie=Gx(_e,je);if(l=(ht&&ht.preventScrollReset)===!0,Ke&&$u(Ke.formMethod)){oe(We,rt,je,Ie,_e,vt,Ke);return}L.set(We,{routeId:rt,path:je}),Y(We,rt,je,Ie,_e,vt,Ke)}async function oe(We,rt,st,ht,vt,At,tt){if(q(),L.delete(We),!ht.route.action&&!ht.route.lazy){let mt=cu(405,{method:tt.formMethod,pathname:st,routeId:rt});le(We,rt,mt,{flushSync:At});return}let _e=u.fetchers.get(We);K(We,_9(tt,_e),{flushSync:At});let je=new AbortController,Ke=pp(R.history,st,je.signal,tt);C.set(We,je);let He=m,Ie=await dp("action",Ke,ht,vt,Oe,Le,e);if(Ke.signal.aborted){C.get(We)===je&&C.delete(We);return}if(k.has(We)){K(We,oh(void 0));return}if(Td(Ie))if(C.delete(We),E>He){K(We,oh(void 0));return}else return s.add(We),K(We,gp(tt)),ee(u,Ie,{fetcherSubmission:tt});if(Np(Ie)){le(We,rt,Ie.error);return}if(vv(Ie))throw cu(400,{type:"defer-action"});let be=u.navigation.location||u.location,me=pp(R.history,be,je.signal),Me=j||H,Te=u.navigation.state!=="idle"?dd(Me,u.navigation.location,e):u.matches;fi(Te,"Didn't find any matches after fetcher action");let ze=++m;b.set(We,ze);let Je=gp(tt,Ie.data);u.fetchers.set(We,Je);let[nt,pt]=v4(R.history,u,Te,tt,be,d,T,S,k,L,s,Me,e,{[ht.route.id]:Ie.data},void 0);pt.filter(mt=>mt.key!==We).forEach(mt=>{let Zt=mt.key,Qt=u.fetchers.get(Zt),yr=gp(void 0,Qt?Qt.data:void 0);u.fetchers.set(Zt,yr),C.has(Zt)&&Ce(Zt),mt.controller&&C.set(Zt,mt.controller)}),V({fetchers:new Map(u.fetchers)});let yt=()=>pt.forEach(mt=>Ce(mt.key));je.signal.addEventListener("abort",yt);let{results:Yt,loaderResults:Xt,fetcherResults:St}=await se(u.matches,Te,nt,pt,me);if(je.signal.aborted)return;je.signal.removeEventListener("abort",yt),b.delete(We),C.delete(We),pt.forEach(mt=>C.delete(mt.key));let kt=b4(Yt);if(kt){if(kt.idx>=nt.length){let mt=pt[kt.idx-nt.length].key;s.add(mt)}return ee(u,kt.result)}let{loaderData:Kt,errors:mr}=y4(u,u.matches,nt,Xt,void 0,pt,St,_);if(u.fetchers.has(We)){let mt=oh(Ie.data);u.fetchers.set(We,mt)}we(ze),u.navigation.state==="loading"&&ze>E?(fi(f,"Expected pending action"),y&&y.abort(),W(u.navigation.location,{matches:Te,loaderData:Kt,errors:mr,fetchers:new Map(u.fetchers)})):(V({errors:mr,loaderData:m4(u.loaderData,Kt,Te,mr),fetchers:new Map(u.fetchers)}),d=!1)}async function Y(We,rt,st,ht,vt,At,tt){let _e=u.fetchers.get(We);K(We,gp(tt,_e?_e.data:void 0),{flushSync:At});let je=new AbortController,Ke=pp(R.history,st,je.signal);C.set(We,je);let He=m,Ie=await dp("loader",Ke,ht,vt,Oe,Le,e);if(vv(Ie)&&(Ie=await y6(Ie,Ke.signal,!0)||Ie),C.get(We)===je&&C.delete(We),!Ke.signal.aborted){if(k.has(We)){K(We,oh(void 0));return}if(Td(Ie))if(E>He){K(We,oh(void 0));return}else{s.add(We),await ee(u,Ie);return}if(Np(Ie)){le(We,rt,Ie.error);return}fi(!vv(Ie),"Unhandled fetcher deferred data"),K(We,oh(Ie.data))}}async function ee(We,rt,st){let{submission:ht,fetcherSubmission:vt,replace:At}=st===void 0?{}:st;rt.revalidate&&(d=!0);let tt=r0(We.location,rt.location,{_isRedirect:!0});if(fi(tt,"Expected a location on the redirect navigation"),J){let be=!1;if(rt.reloadDocument)be=!0;else if(v6.test(rt.location)){const me=R.history.createURL(rt.location);be=me.origin!==O.location.origin||Mh(me.pathname,e)==null}if(be){At?O.location.replace(rt.location):O.location.assign(rt.location);return}}y=null;let _e=At===!0?_o.Replace:_o.Push,{formMethod:je,formAction:Ke,formEncType:He}=We.navigation;!ht&&!vt&&je&&Ke&&He&&(ht=T4(We.navigation));let Ie=ht||vt;if(b9.has(rt.status)&&Ie&&$u(Ie.formMethod))await ne(_e,tt,{submission:Ao({},Ie,{formAction:rt.location}),preventScrollReset:l});else{let be=y1(tt,ht);await ne(_e,tt,{overrideNavigation:be,fetcherSubmission:vt,preventScrollReset:l})}}async function se(We,rt,st,ht,vt){let At=await Promise.all([...st.map(je=>dp("loader",vt,je,rt,Oe,Le,e)),...ht.map(je=>je.matches&&je.match&&je.controller?dp("loader",pp(R.history,je.path,je.controller.signal),je.match,je.matches,Oe,Le,e):{type:ko.error,error:cu(404,{pathname:je.path})})]),tt=At.slice(0,st.length),_e=At.slice(st.length);return await Promise.all([w4(We,st,tt,tt.map(()=>vt.signal),!1,u.loaderData),w4(We,ht.map(je=>je.match),_e,ht.map(je=>je.controller?je.controller.signal:null),!0)]),{results:At,loaderResults:tt,fetcherResults:_e}}function q(){d=!0,T.push(...Ue()),L.forEach((We,rt)=>{C.has(rt)&&(S.push(rt),Ce(rt))})}function K(We,rt,st){st===void 0&&(st={}),u.fetchers.set(We,rt),V({fetchers:new Map(u.fetchers)},{flushSync:(st&&st.flushSync)===!0})}function le(We,rt,st,ht){ht===void 0&&(ht={});let vt=zp(u.matches,rt);he(We),V({errors:{[vt.route.id]:st},fetchers:new Map(u.fetchers)},{flushSync:(ht&&ht.flushSync)===!0})}function ie(We){return g.v7_fetcherPersist&&(A.set(We,(A.get(We)||0)+1),k.has(We)&&k.delete(We)),u.fetchers.get(We)||w9}function he(We){let rt=u.fetchers.get(We);C.has(We)&&!(rt&&rt.state==="loading"&&b.has(We))&&Ce(We),L.delete(We),b.delete(We),s.delete(We),k.delete(We),u.fetchers.delete(We)}function ye(We){if(g.v7_fetcherPersist){let rt=(A.get(We)||0)-1;rt<=0?(A.delete(We),k.add(We)):A.set(We,rt)}else he(We);V({fetchers:new Map(u.fetchers)})}function Ce(We){let rt=C.get(We);fi(rt,"Expected fetch controller: "+We),rt.abort(),C.delete(We)}function Ae(We){for(let rt of We){let st=ie(rt),ht=oh(st.data);u.fetchers.set(rt,ht)}}function ke(){let We=[],rt=!1;for(let st of s){let ht=u.fetchers.get(st);fi(ht,"Expected fetcher: "+st),ht.state==="loading"&&(s.delete(st),We.push(st),rt=!0)}return Ae(We),rt}function we(We){let rt=[];for(let[st,ht]of b)if(ht<We){let vt=u.fetchers.get(st);fi(vt,"Expected fetcher: "+st),vt.state==="loading"&&(Ce(st),b.delete(st),rt.push(st))}return Ae(rt),rt.length>0}function Ee(We,rt){let st=u.blockers.get(We)||vp;return U.get(We)!==rt&&U.set(We,rt),st}function xe(We){u.blockers.delete(We),U.delete(We)}function Re(We,rt){let st=u.blockers.get(We)||vp;fi(st.state==="unblocked"&&rt.state==="blocked"||st.state==="blocked"&&rt.state==="blocked"||st.state==="blocked"&&rt.state==="proceeding"||st.state==="blocked"&&rt.state==="unblocked"||st.state==="proceeding"&&rt.state==="unblocked","Invalid blocker state transition: "+st.state+" -> "+rt.state);let ht=new Map(u.blockers);ht.set(We,rt),V({blockers:ht})}function Ve(We){let{currentLocation:rt,nextLocation:st,historyAction:ht}=We;if(U.size===0)return;U.size>1&&wv(!1,"A router only supports one blocker at a time");let vt=Array.from(U.entries()),[At,tt]=vt[vt.length-1],_e=u.blockers.get(At);if(!(_e&&_e.state==="proceeding")&&tt({currentLocation:rt,nextLocation:st,historyAction:ht}))return At}function Ue(We){let rt=[];return _.forEach((st,ht)=>{(!We||We(ht))&&(st.cancel(),rt.push(ht),_.delete(ht))}),rt}function Be(We,rt,st){if(x=We,v=rt,w=st||null,!p&&u.navigation===g1){p=!0;let ht=dt(u.location,u.matches);ht!=null&&V({restoreScrollPosition:ht})}return()=>{x=null,v=null,w=null}}function Xe(We,rt){return w&&w(We,rt.map(ht=>$7(ht,u.loaderData)))||We.key}function ut(We,rt){if(x&&v){let st=Xe(We,rt);x[st]=v()}}function dt(We,rt){if(x){let st=Xe(We,rt),ht=x[st];if(typeof ht=="number")return ht}return null}function at(We){Oe={},j=Ux(We,Le,void 0,Oe)}return n={get basename(){return e},get state(){return u},get routes(){return H},get window(){return O},initialize:z,subscribe:N,enableScrollRestoration:Be,navigate:Q,fetch:X,revalidate:re,createHref:We=>R.history.createHref(We),encodeLocation:We=>R.history.encodeLocation(We),getFetcher:ie,deleteFetcher:ye,dispose:B,getBlocker:Ee,deleteBlocker:xe,_internalFetchControllers:C,_internalActiveDeferreds:_,_internalSetRoutes:at},n}function S9(R){return R!=null&&("formData"in R&&R.formData!=null||"body"in R&&R.body!==void 0)}function jx(R,O,J,ue,Le,Oe,H){let j,e;if(Oe){j=[];for(let P of O)if(j.push(P),P.route.id===Oe){e=P;break}}else j=O,e=O[O.length-1];let g=em(Le||".",qy(j),Mh(R.pathname,J)||R.pathname,H==="path");return Le==null&&(g.search=R.search,g.hash=R.hash),(Le==null||Le===""||Le===".")&&e&&e.route.index&&!ub(g.search)&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),ue&&J!=="/"&&(g.pathname=g.pathname==="/"?J:hc([J,g.pathname])),Tv(g)}function h4(R,O,J,ue){if(!ue||!S9(ue))return{path:J};if(ue.formMethod&&!D9(ue.formMethod))return{path:J,error:cu(405,{method:ue.formMethod})};let Le=()=>({path:J,error:cu(400,{type:"invalid-body"})}),Oe=ue.formMethod||"get",H=R?Oe.toUpperCase():Oe.toLowerCase(),j=g6(J);if(ue.body!==void 0){if(ue.formEncType==="text/plain"){if(!$u(H))return Le();let x=typeof ue.body=="string"?ue.body:ue.body instanceof FormData||ue.body instanceof URLSearchParams?Array.from(ue.body.entries()).reduce((w,v)=>{let[p,r]=v;return""+w+p+"="+r+`
`},""):String(ue.body);return{path:J,submission:{formMethod:H,formAction:j,formEncType:ue.formEncType,formData:void 0,json:void 0,text:x}}}else if(ue.formEncType==="application/json"){if(!$u(H))return Le();try{let x=typeof ue.body=="string"?JSON.parse(ue.body):ue.body;return{path:J,submission:{formMethod:H,formAction:j,formEncType:ue.formEncType,formData:void 0,json:x,text:void 0}}}catch{return Le()}}}fi(typeof FormData=="function","FormData is not available in this environment");let e,g;if(ue.formData)e=Hx(ue.formData),g=ue.formData;else if(ue.body instanceof FormData)e=Hx(ue.body),g=ue.body;else if(ue.body instanceof URLSearchParams)e=ue.body,g=g4(e);else if(ue.body==null)e=new URLSearchParams,g=new FormData;else try{e=new URLSearchParams(ue.body),g=g4(e)}catch{return Le()}let P={formMethod:H,formAction:j,formEncType:ue&&ue.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if($u(P.formMethod))return{path:J,submission:P};let a=mc(J);return O&&a.search&&ub(a.search)&&e.append("index",""),a.search="?"+e,{path:Tv(a),submission:P}}function M9(R,O){let J=R;if(O){let ue=R.findIndex(Le=>Le.route.id===O);ue>=0&&(J=R.slice(0,ue))}return J}function v4(R,O,J,ue,Le,Oe,H,j,e,g,P,a,x,w,v){let p=v?Object.values(v)[0]:w?Object.values(w)[0]:void 0,r=R.createURL(O.location),t=R.createURL(Le),i=v?Object.keys(v)[0]:void 0,u=M9(J,i).filter((l,y)=>{if(l.route.lazy)return!0;if(l.route.loader==null)return!1;if(E9(O.loaderData,O.matches[y],l)||H.some(c=>c===l.route.id))return!0;let h=O.matches[y],M=l;return d4(l,Ao({currentUrl:r,currentParams:h.params,nextUrl:t,nextParams:M.params},ue,{actionResult:p,defaultShouldRevalidate:Oe||r.pathname+r.search===t.pathname+t.search||r.search!==t.search||p6(h,M)}))}),f=[];return g.forEach((l,y)=>{if(!J.some(d=>d.route.id===l.routeId)||e.has(y))return;let h=dd(a,l.path,x);if(!h){f.push({key:y,routeId:l.routeId,path:l.path,matches:null,match:null,controller:null});return}let M=O.fetchers.get(y),c=Gx(h,l.path),o=!1;P.has(y)?o=!1:j.includes(y)?o=!0:M&&M.state!=="idle"&&M.data===void 0?o=Oe:o=d4(c,Ao({currentUrl:r,currentParams:O.matches[O.matches.length-1].params,nextUrl:t,nextParams:J[J.length-1].params},ue,{actionResult:p,defaultShouldRevalidate:Oe})),o&&f.push({key:y,routeId:l.routeId,path:l.path,matches:h,match:c,controller:new AbortController})}),[u,f]}function E9(R,O,J){let ue=!O||J.route.id!==O.route.id,Le=R[J.route.id]===void 0;return ue||Le}function p6(R,O){let J=R.route.path;return R.pathname!==O.pathname||J!=null&&J.endsWith("*")&&R.params["*"]!==O.params["*"]}function d4(R,O){if(R.route.shouldRevalidate){let J=R.route.shouldRevalidate(O);if(typeof J=="boolean")return J}return O.defaultShouldRevalidate}async function p4(R,O,J){if(!R.lazy)return;let ue=await R.lazy();if(!R.lazy)return;let Le=J[R.id];fi(Le,"No route found in manifest");let Oe={};for(let H in ue){let e=Le[H]!==void 0&&H!=="hasErrorBoundary";wv(!e,'Route "'+Le.id+'" has a static property "'+H+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+H+'" will be ignored.')),!e&&!K7.has(H)&&(Oe[H]=ue[H])}Object.assign(Le,Oe),Object.assign(Le,Ao({},O(Le),{lazy:void 0}))}async function dp(R,O,J,ue,Le,Oe,H,j){j===void 0&&(j={});let e,g,P,a=v=>{let p,r=new Promise((t,i)=>p=i);return P=()=>p(),O.signal.addEventListener("abort",P),Promise.race([v({request:O,params:J.params,context:j.requestContext}),r])};try{let v=J.route[R];if(J.route.lazy)if(v){let p,r=await Promise.all([a(v).catch(t=>{p=t}),p4(J.route,Oe,Le)]);if(p)throw p;g=r[0]}else if(await p4(J.route,Oe,Le),v=J.route[R],v)g=await a(v);else if(R==="action"){let p=new URL(O.url),r=p.pathname+p.search;throw cu(405,{method:O.method,pathname:r,routeId:J.route.id})}else return{type:ko.data,data:void 0};else if(v)g=await a(v);else{let p=new URL(O.url),r=p.pathname+p.search;throw cu(404,{pathname:r})}fi(g!==void 0,"You defined "+(R==="action"?"an action":"a loader")+" for route "+('"'+J.route.id+"\" but didn't return anything from your `"+R+"` ")+"function. Please return a value or `null`.")}catch(v){e=ko.error,g=v}finally{P&&O.signal.removeEventListener("abort",P)}if(R9(g)){let v=g.status;if(x9.has(v)){let t=g.headers.get("Location");if(fi(t,"Redirects returned/thrown from loaders/actions must have a Location header"),!v6.test(t))t=jx(new URL(O.url),ue.slice(0,ue.indexOf(J)+1),H,!0,t);else if(!j.isStaticRequest){let i=new URL(O.url),n=t.startsWith("//")?new URL(i.protocol+t):new URL(t),u=Mh(n.pathname,H)!=null;n.origin===i.origin&&u&&(t=n.pathname+n.search+n.hash)}if(j.isStaticRequest)throw g.headers.set("Location",t),g;return{type:ko.redirect,status:v,location:t,revalidate:g.headers.get("X-Remix-Revalidate")!==null,reloadDocument:g.headers.get("X-Remix-Reload-Document")!==null}}if(j.isRouteRequest)throw{type:e===ko.error?ko.error:ko.data,response:g};let p,r=g.headers.get("Content-Type");return r&&/\bapplication\/json\b/.test(r)?p=await g.json():p=await g.text(),e===ko.error?{type:e,error:new lb(v,g.statusText,p),headers:g.headers}:{type:ko.data,data:p,statusCode:g.status,headers:g.headers}}if(e===ko.error)return{type:e,error:g};if(P9(g)){var x,w;return{type:ko.deferred,deferredData:g,statusCode:(x=g.init)==null?void 0:x.status,headers:((w=g.init)==null?void 0:w.headers)&&new Headers(g.init.headers)}}return{type:ko.data,data:g}}function pp(R,O,J,ue){let Le=R.createURL(g6(O)).toString(),Oe={signal:J};if(ue&&$u(ue.formMethod)){let{formMethod:H,formEncType:j}=ue;Oe.method=H.toUpperCase(),j==="application/json"?(Oe.headers=new Headers({"Content-Type":j}),Oe.body=JSON.stringify(ue.json)):j==="text/plain"?Oe.body=ue.text:j==="application/x-www-form-urlencoded"&&ue.formData?Oe.body=Hx(ue.formData):Oe.body=ue.formData}return new Request(Le,Oe)}function Hx(R){let O=new URLSearchParams;for(let[J,ue]of R.entries())O.append(J,typeof ue=="string"?ue:ue.name);return O}function g4(R){let O=new FormData;for(let[J,ue]of R.entries())O.append(J,ue);return O}function C9(R,O,J,ue,Le){let Oe={},H=null,j,e=!1,g={};return J.forEach((P,a)=>{let x=O[a].route.id;if(fi(!Td(P),"Cannot handle redirect results in processLoaderData"),Np(P)){let w=zp(R,x),v=P.error;ue&&(v=Object.values(ue)[0],ue=void 0),H=H||{},H[w.route.id]==null&&(H[w.route.id]=v),Oe[x]=void 0,e||(e=!0,j=c6(P.error)?P.error.status:500),P.headers&&(g[x]=P.headers)}else vv(P)?(Le.set(x,P.deferredData),Oe[x]=P.deferredData.data):Oe[x]=P.data,P.statusCode!=null&&P.statusCode!==200&&!e&&(j=P.statusCode),P.headers&&(g[x]=P.headers)}),ue&&(H=ue,Oe[Object.keys(ue)[0]]=void 0),{loaderData:Oe,errors:H,statusCode:j||200,loaderHeaders:g}}function y4(R,O,J,ue,Le,Oe,H,j){let{loaderData:e,errors:g}=C9(O,J,ue,Le,j);for(let P=0;P<Oe.length;P++){let{key:a,match:x,controller:w}=Oe[P];fi(H!==void 0&&H[P]!==void 0,"Did not find corresponding fetcher result");let v=H[P];if(!(w&&w.signal.aborted))if(Np(v)){let p=zp(R.matches,x==null?void 0:x.route.id);g&&g[p.route.id]||(g=Ao({},g,{[p.route.id]:v.error})),R.fetchers.delete(a)}else if(Td(v))fi(!1,"Unhandled fetcher revalidation redirect");else if(vv(v))fi(!1,"Unhandled fetcher deferred data");else{let p=oh(v.data);R.fetchers.set(a,p)}}return{loaderData:e,errors:g}}function m4(R,O,J,ue){let Le=Ao({},O);for(let Oe of J){let H=Oe.route.id;if(O.hasOwnProperty(H)?O[H]!==void 0&&(Le[H]=O[H]):R[H]!==void 0&&Oe.route.loader&&(Le[H]=R[H]),ue&&ue.hasOwnProperty(H))break}return Le}function zp(R,O){return(O?R.slice(0,R.findIndex(ue=>ue.route.id===O)+1):[...R]).reverse().find(ue=>ue.route.hasErrorBoundary===!0)||R[0]}function x4(R){let O=R.length===1?R[0]:R.find(J=>J.index||!J.path||J.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:O}],route:O}}function cu(R,O){let{pathname:J,routeId:ue,method:Le,type:Oe}=O===void 0?{}:O,H="Unknown Server Error",j="Unknown @remix-run/router error";return R===400?(H="Bad Request",Le&&J&&ue?j="You made a "+Le+' request to "'+J+'" but '+('did not provide a `loader` for route "'+ue+'", ')+"so there is no way to handle the request.":Oe==="defer-action"?j="defer() is not supported in actions":Oe==="invalid-body"&&(j="Unable to encode submission body")):R===403?(H="Forbidden",j='Route "'+ue+'" does not match URL "'+J+'"'):R===404?(H="Not Found",j='No route matches URL "'+J+'"'):R===405&&(H="Method Not Allowed",Le&&J&&ue?j="You made a "+Le.toUpperCase()+' request to "'+J+'" but '+('did not provide an `action` for route "'+ue+'", ')+"so there is no way to handle the request.":Le&&(j='Invalid request method "'+Le.toUpperCase()+'"')),new lb(R||500,H,new Error(j),!0)}function b4(R){for(let O=R.length-1;O>=0;O--){let J=R[O];if(Td(J))return{result:J,idx:O}}}function g6(R){let O=typeof R=="string"?mc(R):R;return Tv(Ao({},O,{hash:""}))}function L9(R,O){return R.pathname!==O.pathname||R.search!==O.search?!1:R.hash===""?O.hash!=="":R.hash===O.hash?!0:O.hash!==""}function vv(R){return R.type===ko.deferred}function Np(R){return R.type===ko.error}function Td(R){return(R&&R.type)===ko.redirect}function P9(R){let O=R;return O&&typeof O=="object"&&typeof O.data=="object"&&typeof O.subscribe=="function"&&typeof O.cancel=="function"&&typeof O.resolveData=="function"}function R9(R){return R!=null&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.headers=="object"&&typeof R.body<"u"}function D9(R){return m9.has(R.toLowerCase())}function $u(R){return g9.has(R.toLowerCase())}async function w4(R,O,J,ue,Le,Oe){for(let H=0;H<J.length;H++){let j=J[H],e=O[H];if(!e)continue;let g=R.find(a=>a.route.id===e.route.id),P=g!=null&&!p6(g,e)&&(Oe&&Oe[e.route.id])!==void 0;if(vv(j)&&(Le||P)){let a=ue[H];fi(a,"Expected an AbortSignal for revalidating fetcher deferred result"),await y6(j,a,Le).then(x=>{x&&(J[H]=x||J[H])})}}}async function y6(R,O,J){if(J===void 0&&(J=!1),!await R.deferredData.resolveData(O)){if(J)try{return{type:ko.data,data:R.deferredData.unwrappedData}}catch(Le){return{type:ko.error,error:Le}}return{type:ko.data,data:R.deferredData.data}}}function ub(R){return new URLSearchParams(R).getAll("index").some(O=>O==="")}function Gx(R,O){let J=typeof O=="string"?mc(O).search:O.search;if(R[R.length-1].route.index&&ub(J||""))return R[R.length-1];let ue=f6(R);return ue[ue.length-1]}function T4(R){let{formMethod:O,formAction:J,formEncType:ue,text:Le,formData:Oe,json:H}=R;if(!(!O||!J||!ue)){if(Le!=null)return{formMethod:O,formAction:J,formEncType:ue,formData:void 0,json:void 0,text:Le};if(Oe!=null)return{formMethod:O,formAction:J,formEncType:ue,formData:Oe,json:void 0,text:void 0};if(H!==void 0)return{formMethod:O,formAction:J,formEncType:ue,formData:void 0,json:H,text:void 0}}}function y1(R,O){return O?{state:"loading",location:R,formMethod:O.formMethod,formAction:O.formAction,formEncType:O.formEncType,formData:O.formData,json:O.json,text:O.text}:{state:"loading",location:R,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function I9(R,O){return{state:"submitting",location:R,formMethod:O.formMethod,formAction:O.formAction,formEncType:O.formEncType,formData:O.formData,json:O.json,text:O.text}}function gp(R,O){return R?{state:"loading",formMethod:R.formMethod,formAction:R.formAction,formEncType:R.formEncType,formData:R.formData,json:R.json,text:R.text,data:O}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:O}}function _9(R,O){return{state:"submitting",formMethod:R.formMethod,formAction:R.formAction,formEncType:R.formEncType,formData:R.formData,json:R.json,text:R.text,data:O?O.data:void 0}}function oh(R){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:R}}function k9(R,O){try{let J=R.sessionStorage.getItem(d6);if(J){let ue=JSON.parse(J);for(let[Le,Oe]of Object.entries(ue||{}))Oe&&Array.isArray(Oe)&&O.set(Le,new Set(Oe||[]))}}catch{}}function F9(R,O){if(O.size>0){let J={};for(let[ue,Le]of O)J[ue]=[...Le];try{R.sessionStorage.setItem(d6,JSON.stringify(J))}catch(ue){wv(!1,"Failed to save applied view transitions in sessionStorage ("+ue+").")}}}/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ry(){return ry=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var J=arguments[O];for(var ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&(R[ue]=J[ue])}return R},ry.apply(this,arguments)}const f0=pn.createContext(null),fb=pn.createContext(null),Ev=pn.createContext(null),tm=pn.createContext(null),_f=pn.createContext({outlet:null,matches:[],isDataRoute:!1}),m6=pn.createContext(null);function O9(R,O){let{relative:J}=O===void 0?{}:O;Od()||fi(!1);let{basename:ue,navigator:Le}=pn.useContext(Ev),{hash:Oe,pathname:H,search:j}=rm(R,{relative:J}),e=H;return ue!=="/"&&(e=H==="/"?ue:hc([ue,H])),Le.createHref({pathname:e,search:j,hash:Oe})}function Od(){return pn.useContext(tm)!=null}function Cv(){return Od()||fi(!1),pn.useContext(tm).location}function x6(R){pn.useContext(Ev).static||pn.useLayoutEffect(R)}function nf(){let{isDataRoute:R}=pn.useContext(_f);return R?J9():z9()}function z9(){Od()||fi(!1);let R=pn.useContext(f0),{basename:O,navigator:J}=pn.useContext(Ev),{matches:ue}=pn.useContext(_f),{pathname:Le}=Cv(),Oe=JSON.stringify(qy(ue)),H=pn.useRef(!1);return x6(()=>{H.current=!0}),pn.useCallback(function(e,g){if(g===void 0&&(g={}),!H.current)return;if(typeof e=="number"){J.go(e);return}let P=em(e,JSON.parse(Oe),Le,g.relative==="path");R==null&&O!=="/"&&(P.pathname=P.pathname==="/"?O:hc([O,P.pathname])),(g.replace?J.replace:J.push)(P,g.state,g)},[O,J,Oe,Le,R])}const N9=pn.createContext(null);function B9(R){let O=pn.useContext(_f).outlet;return O&&pn.createElement(N9.Provider,{value:R},O)}function b6(){let{matches:R}=pn.useContext(_f),O=R[R.length-1];return O?O.params:{}}function rm(R,O){let{relative:J}=O===void 0?{}:O,{matches:ue}=pn.useContext(_f),{pathname:Le}=Cv(),Oe=JSON.stringify(qy(ue));return pn.useMemo(()=>em(R,JSON.parse(Oe),Le,J==="path"),[R,Oe,Le,J])}function U9(R,O,J){Od()||fi(!1);let{navigator:ue}=pn.useContext(Ev),{matches:Le}=pn.useContext(_f),Oe=Le[Le.length-1],H=Oe?Oe.params:{};Oe&&Oe.pathname;let j=Oe?Oe.pathnameBase:"/";Oe&&Oe.route;let e=Cv(),g;if(O){var P;let p=typeof O=="string"?mc(O):O;j==="/"||(P=p.pathname)!=null&&P.startsWith(j)||fi(!1),g=p}else g=e;let a=g.pathname||"/",x=j==="/"?a:a.slice(j.length)||"/",w=dd(R,{pathname:x}),v=W9(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},H,p.params),pathname:hc([j,ue.encodeLocation?ue.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?j:hc([j,ue.encodeLocation?ue.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),Le,J);return O&&v?pn.createElement(tm.Provider,{value:{location:ry({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:_o.Pop}},v):v}function V9(){let R=K9(),O=c6(R)?R.status+" "+R.statusText:R instanceof Error?R.message:JSON.stringify(R),J=R instanceof Error?R.stack:null,Le={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},Oe=null;return pn.createElement(pn.Fragment,null,pn.createElement("h2",null,"Unexpected Application Error!"),pn.createElement("h3",{style:{fontStyle:"italic"}},O),J?pn.createElement("pre",{style:Le},J):null,Oe)}const j9=pn.createElement(V9,null);class H9 extends pn.Component{constructor(O){super(O),this.state={location:O.location,revalidation:O.revalidation,error:O.error}}static getDerivedStateFromError(O){return{error:O}}static getDerivedStateFromProps(O,J){return J.location!==O.location||J.revalidation!=="idle"&&O.revalidation==="idle"?{error:O.error,location:O.location,revalidation:O.revalidation}:{error:O.error||J.error,location:J.location,revalidation:O.revalidation||J.revalidation}}componentDidCatch(O,J){console.error("React Router caught the following error during render",O,J)}render(){return this.state.error?pn.createElement(_f.Provider,{value:this.props.routeContext},pn.createElement(m6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G9(R){let{routeContext:O,match:J,children:ue}=R,Le=pn.useContext(f0);return Le&&Le.static&&Le.staticContext&&(J.route.errorElement||J.route.ErrorBoundary)&&(Le.staticContext._deepestRenderedBoundaryId=J.route.id),pn.createElement(_f.Provider,{value:O},ue)}function W9(R,O,J){var ue;if(O===void 0&&(O=[]),J===void 0&&(J=null),R==null){var Le;if((Le=J)!=null&&Le.errors)R=J.matches;else return null}let Oe=R,H=(ue=J)==null?void 0:ue.errors;if(H!=null){let j=Oe.findIndex(e=>e.route.id&&(H==null?void 0:H[e.route.id]));j>=0||fi(!1),Oe=Oe.slice(0,Math.min(Oe.length,j+1))}return Oe.reduceRight((j,e,g)=>{let P=e.route.id?H==null?void 0:H[e.route.id]:null,a=null;J&&(a=e.route.errorElement||j9);let x=O.concat(Oe.slice(0,g+1)),w=()=>{let v;return P?v=a:e.route.Component?v=pn.createElement(e.route.Component,null):e.route.element?v=e.route.element:v=j,pn.createElement(G9,{match:e,routeContext:{outlet:j,matches:x,isDataRoute:J!=null},children:v})};return J&&(e.route.ErrorBoundary||e.route.errorElement||g===0)?pn.createElement(H9,{location:J.location,revalidation:J.revalidation,component:a,error:P,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var w6=function(R){return R.UseBlocker="useBlocker",R.UseRevalidator="useRevalidator",R.UseNavigateStable="useNavigate",R}(w6||{}),ny=function(R){return R.UseBlocker="useBlocker",R.UseLoaderData="useLoaderData",R.UseActionData="useActionData",R.UseRouteError="useRouteError",R.UseNavigation="useNavigation",R.UseRouteLoaderData="useRouteLoaderData",R.UseMatches="useMatches",R.UseRevalidator="useRevalidator",R.UseNavigateStable="useNavigate",R.UseRouteId="useRouteId",R}(ny||{});function Y9(R){let O=pn.useContext(f0);return O||fi(!1),O}function X9(R){let O=pn.useContext(fb);return O||fi(!1),O}function Z9(R){let O=pn.useContext(_f);return O||fi(!1),O}function T6(R){let O=Z9(),J=O.matches[O.matches.length-1];return J.route.id||fi(!1),J.route.id}function K9(){var R;let O=pn.useContext(m6),J=X9(ny.UseRouteError),ue=T6(ny.UseRouteError);return O||((R=J.errors)==null?void 0:R[ue])}function J9(){let{router:R}=Y9(w6.UseNavigateStable),O=T6(ny.UseNavigateStable),J=pn.useRef(!1);return x6(()=>{J.current=!0}),pn.useCallback(function(Le,Oe){Oe===void 0&&(Oe={}),J.current&&(typeof Le=="number"?R.navigate(Le):R.navigate(Le,ry({fromRouteId:O},Oe)))},[R,O])}function A6(R){let{to:O,replace:J,state:ue,relative:Le}=R;Od()||fi(!1);let{matches:Oe}=pn.useContext(_f),{pathname:H}=Cv(),j=nf(),e=em(O,qy(Oe),H,Le==="path"),g=JSON.stringify(e);return pn.useEffect(()=>j(JSON.parse(g),{replace:J,state:ue,relative:Le}),[j,g,Le,J,ue]),null}function S6(R){return B9(R.context)}function $9(R){let{basename:O="/",children:J=null,location:ue,navigationType:Le=_o.Pop,navigator:Oe,static:H=!1}=R;Od()&&fi(!1);let j=O.replace(/^\/*/,"/"),e=pn.useMemo(()=>({basename:j,navigator:Oe,static:H}),[j,Oe,H]);typeof ue=="string"&&(ue=mc(ue));let{pathname:g="/",search:P="",hash:a="",state:x=null,key:w="default"}=ue,v=pn.useMemo(()=>{let p=Mh(g,j);return p==null?null:{location:{pathname:p,search:P,hash:a,state:x,key:w},navigationType:Le}},[j,g,P,a,x,w,Le]);return v==null?null:pn.createElement(Ev.Provider,{value:e},pn.createElement(tm.Provider,{children:J,value:v}))}new Promise(()=>{});function Q9(R){let O={hasErrorBoundary:R.ErrorBoundary!=null||R.errorElement!=null};return R.Component&&Object.assign(O,{element:pn.createElement(R.Component),Component:void 0}),R.ErrorBoundary&&Object.assign(O,{errorElement:pn.createElement(R.ErrorBoundary),ErrorBoundary:void 0}),O}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var J=arguments[O];for(var ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&(R[ue]=J[ue])}return R},Id.apply(this,arguments)}function M6(R,O){if(R==null)return{};var J={},ue=Object.keys(R),Le,Oe;for(Oe=0;Oe<ue.length;Oe++)Le=ue[Oe],!(O.indexOf(Le)>=0)&&(J[Le]=R[Le]);return J}function q9(R){return!!(R.metaKey||R.altKey||R.ctrlKey||R.shiftKey)}function eR(R,O){return R.button===0&&(!O||O==="_self")&&!q9(R)}const tR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],rR=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function nR(R,O){return A9({basename:O==null?void 0:O.basename,future:Id({},O==null?void 0:O.future,{v7_prependBasename:!0}),history:Y7({window:O==null?void 0:O.window}),hydrationData:(O==null?void 0:O.hydrationData)||aR(),routes:R,mapRouteProperties:Q9,window:O==null?void 0:O.window}).initialize()}function aR(){var R;let O=(R=window)==null?void 0:R.__staticRouterHydrationData;return O&&O.errors&&(O=Id({},O,{errors:iR(O.errors)})),O}function iR(R){if(!R)return null;let O=Object.entries(R),J={};for(let[ue,Le]of O)if(Le&&Le.__type==="RouteErrorResponse")J[ue]=new lb(Le.status,Le.statusText,Le.data,Le.internal===!0);else if(Le&&Le.__type==="Error"){if(Le.__subType){let Oe=window[Le.__subType];if(typeof Oe=="function")try{let H=new Oe(Le.message);H.stack="",J[ue]=H}catch{}}if(J[ue]==null){let Oe=new Error(Le.message);Oe.stack="",J[ue]=Oe}}else J[ue]=Le;return J}const E6=pn.createContext({isTransitioning:!1}),oR=pn.createContext(new Map),sR="startTransition",A4=WC[sR],lR="flushSync",S4=t7[lR];function uR(R){A4?A4(R):R()}function yp(R){S4?S4(R):R()}class fR{constructor(){this.status="pending",this.promise=new Promise((O,J)=>{this.resolve=ue=>{this.status==="pending"&&(this.status="resolved",O(ue))},this.reject=ue=>{this.status==="pending"&&(this.status="rejected",J(ue))}})}}function cR(R){let{fallbackElement:O,router:J,future:ue}=R,[Le,Oe]=pn.useState(J.state),[H,j]=pn.useState(),[e,g]=pn.useState({isTransitioning:!1}),[P,a]=pn.useState(),[x,w]=pn.useState(),[v,p]=pn.useState(),r=pn.useRef(new Map),{v7_startTransition:t}=ue||{},i=pn.useCallback(y=>{t?uR(y):y()},[t]),n=pn.useCallback((y,h)=>{let{deletedFetchers:M,unstable_flushSync:c,unstable_viewTransitionOpts:o}=h;M.forEach(T=>r.current.delete(T)),y.fetchers.forEach((T,S)=>{T.data!==void 0&&r.current.set(S,T.data)});let d=J.window==null||typeof J.window.document.startViewTransition!="function";if(!o||d){c?yp(()=>Oe(y)):i(()=>Oe(y));return}if(c){yp(()=>{x&&(P&&P.resolve(),x.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})});let T=J.window.document.startViewTransition(()=>{yp(()=>Oe(y))});T.finished.finally(()=>{yp(()=>{a(void 0),w(void 0),j(void 0),g({isTransitioning:!1})})}),yp(()=>w(T));return}x?(P&&P.resolve(),x.skipTransition(),p({state:y,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(j(y),g({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))},[J.window,x,P,r,i]);pn.useLayoutEffect(()=>J.subscribe(n),[J,n]),pn.useEffect(()=>{e.isTransitioning&&!e.flushSync&&a(new fR)},[e]),pn.useEffect(()=>{if(P&&H&&J.window){let y=H,h=P.promise,M=J.window.document.startViewTransition(async()=>{i(()=>Oe(y)),await h});M.finished.finally(()=>{a(void 0),w(void 0),j(void 0),g({isTransitioning:!1})}),w(M)}},[i,H,P,J.window]),pn.useEffect(()=>{P&&H&&Le.location.key===H.location.key&&P.resolve()},[P,x,Le.location,H]),pn.useEffect(()=>{!e.isTransitioning&&v&&(j(v.state),g({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),p(void 0))},[e.isTransitioning,v]);let u=pn.useMemo(()=>({createHref:J.createHref,encodeLocation:J.encodeLocation,go:y=>J.navigate(y),push:(y,h,M)=>J.navigate(y,{state:h,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(y,h,M)=>J.navigate(y,{replace:!0,state:h,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[J]),f=J.basename||"/",l=pn.useMemo(()=>({router:J,navigator:u,static:!1,basename:f}),[J,u,f]);return pn.createElement(pn.Fragment,null,pn.createElement(f0.Provider,{value:l},pn.createElement(fb.Provider,{value:Le},pn.createElement(oR.Provider,{value:r.current},pn.createElement(E6.Provider,{value:e},pn.createElement($9,{basename:f,location:Le.location,navigationType:Le.historyAction,navigator:u},Le.initialized?pn.createElement(hR,{routes:J.routes,state:Le}):O))))),null)}function hR(R){let{routes:O,state:J}=R;return U9(O,void 0,J)}const vR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cb=pn.forwardRef(function(O,J){let{onClick:ue,relative:Le,reloadDocument:Oe,replace:H,state:j,target:e,to:g,preventScrollReset:P,unstable_viewTransition:a}=O,x=M6(O,tR),{basename:w}=pn.useContext(Ev),v,p=!1;if(typeof g=="string"&&dR.test(g)&&(v=g,vR))try{let n=new URL(window.location.href),u=g.startsWith("//")?new URL(n.protocol+g):new URL(g),f=Mh(u.pathname,w);u.origin===n.origin&&f!=null?g=f+u.search+u.hash:p=!0}catch{}let r=O9(g,{relative:Le}),t=gR(g,{replace:H,state:j,target:e,preventScrollReset:P,relative:Le,unstable_viewTransition:a});function i(n){ue&&ue(n),n.defaultPrevented||t(n)}return pn.createElement("a",Id({},x,{href:v||r,onClick:p||Oe?ue:i,ref:J,target:e}))}),So=pn.forwardRef(function(O,J){let{"aria-current":ue="page",caseSensitive:Le=!1,className:Oe="",end:H=!1,style:j,to:e,unstable_viewTransition:g,children:P}=O,a=M6(O,rR),x=rm(e,{relative:a.relative}),w=Cv(),v=pn.useContext(fb),{navigator:p}=pn.useContext(Ev),r=v!=null&&yR(x)&&g===!0,t=p.encodeLocation?p.encodeLocation(x).pathname:x.pathname,i=w.pathname,n=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;Le||(i=i.toLowerCase(),n=n?n.toLowerCase():null,t=t.toLowerCase());const u=t!=="/"&&t.endsWith("/")?t.length-1:t.length;let f=i===t||!H&&i.startsWith(t)&&i.charAt(u)==="/",l=n!=null&&(n===t||!H&&n.startsWith(t)&&n.charAt(t.length)==="/"),y={isActive:f,isPending:l,isTransitioning:r},h=f?ue:void 0,M;typeof Oe=="function"?M=Oe(y):M=[Oe,f?"active":null,l?"pending":null,r?"transitioning":null].filter(Boolean).join(" ");let c=typeof j=="function"?j(y):j;return pn.createElement(cb,Id({},a,{"aria-current":h,className:M,ref:J,style:c,to:e,unstable_viewTransition:g}),typeof P=="function"?P(y):P)});var Wx;(function(R){R.UseScrollRestoration="useScrollRestoration",R.UseSubmit="useSubmit",R.UseSubmitFetcher="useSubmitFetcher",R.UseFetcher="useFetcher",R.useViewTransitionState="useViewTransitionState"})(Wx||(Wx={}));var M4;(function(R){R.UseFetcher="useFetcher",R.UseFetchers="useFetchers",R.UseScrollRestoration="useScrollRestoration"})(M4||(M4={}));function pR(R){let O=pn.useContext(f0);return O||fi(!1),O}function gR(R,O){let{target:J,replace:ue,state:Le,preventScrollReset:Oe,relative:H,unstable_viewTransition:j}=O===void 0?{}:O,e=nf(),g=Cv(),P=rm(R,{relative:H});return pn.useCallback(a=>{if(eR(a,J)){a.preventDefault();let x=ue!==void 0?ue:Tv(g)===Tv(P);e(R,{replace:x,state:Le,preventScrollReset:Oe,relative:H,unstable_viewTransition:j})}},[g,e,P,ue,Le,J,R,Oe,H,j])}function yR(R,O){O===void 0&&(O={});let J=pn.useContext(E6);J==null&&fi(!1);let{basename:ue}=pR(Wx.useViewTransitionState),Le=rm(R,{relative:O.relative});if(!J.isTransitioning)return!1;let Oe=Mh(J.currentLocation.pathname,ue)||J.currentLocation.pathname,H=Mh(J.nextLocation.pathname,ue)||J.nextLocation.pathname;return Vx(Le.pathname,H)!=null||Vx(Le.pathname,Oe)!=null}function n0(R){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},n0(R)}function mR(R,O){if(n0(R)!=="object"||R===null)return R;var J=R[Symbol.toPrimitive];if(J!==void 0){var ue=J.call(R,O||"default");if(n0(ue)!=="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(R)}function xR(R){var O=mR(R,"string");return n0(O)==="symbol"?O:String(O)}function bR(R,O,J){return O=xR(O),O in R?Object.defineProperty(R,O,{value:J,enumerable:!0,configurable:!0,writable:!0}):R[O]=J,R}function E4(R,O){var J=Object.keys(R);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(R);O&&(ue=ue.filter(function(Le){return Object.getOwnPropertyDescriptor(R,Le).enumerable})),J.push.apply(J,ue)}return J}function C4(R){for(var O=1;O<arguments.length;O++){var J=arguments[O]!=null?arguments[O]:{};O%2?E4(Object(J),!0).forEach(function(ue){bR(R,ue,J[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(J)):E4(Object(J)).forEach(function(ue){Object.defineProperty(R,ue,Object.getOwnPropertyDescriptor(J,ue))})}return R}function Fs(R){return"Minified Redux error #"+R+"; visit https://redux.js.org/Errors?code="+R+" for the full message or use the non-minified dev environment for full errors. "}var L4=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),m1=function(){return Math.random().toString(36).substring(7).split("").join(".")},ay={INIT:"@@redux/INIT"+m1(),REPLACE:"@@redux/REPLACE"+m1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+m1()}};function wR(R){if(typeof R!="object"||R===null)return!1;for(var O=R;Object.getPrototypeOf(O)!==null;)O=Object.getPrototypeOf(O);return Object.getPrototypeOf(R)===O}function C6(R,O,J){var ue;if(typeof O=="function"&&typeof J=="function"||typeof J=="function"&&typeof arguments[3]=="function")throw new Error(Fs(0));if(typeof O=="function"&&typeof J>"u"&&(J=O,O=void 0),typeof J<"u"){if(typeof J!="function")throw new Error(Fs(1));return J(C6)(R,O)}if(typeof R!="function")throw new Error(Fs(2));var Le=R,Oe=O,H=[],j=H,e=!1;function g(){j===H&&(j=H.slice())}function P(){if(e)throw new Error(Fs(3));return Oe}function a(p){if(typeof p!="function")throw new Error(Fs(4));if(e)throw new Error(Fs(5));var r=!0;return g(),j.push(p),function(){if(r){if(e)throw new Error(Fs(6));r=!1,g();var i=j.indexOf(p);j.splice(i,1),H=null}}}function x(p){if(!wR(p))throw new Error(Fs(7));if(typeof p.type>"u")throw new Error(Fs(8));if(e)throw new Error(Fs(9));try{e=!0,Oe=Le(Oe,p)}finally{e=!1}for(var r=H=j,t=0;t<r.length;t++){var i=r[t];i()}return p}function w(p){if(typeof p!="function")throw new Error(Fs(10));Le=p,x({type:ay.REPLACE})}function v(){var p,r=a;return p={subscribe:function(i){if(typeof i!="object"||i===null)throw new Error(Fs(11));function n(){i.next&&i.next(P())}n();var u=r(n);return{unsubscribe:u}}},p[L4]=function(){return this},p}return x({type:ay.INIT}),ue={dispatch:x,subscribe:a,getState:P,replaceReducer:w},ue[L4]=v,ue}var TR=C6;function AR(R){Object.keys(R).forEach(function(O){var J=R[O],ue=J(void 0,{type:ay.INIT});if(typeof ue>"u")throw new Error(Fs(12));if(typeof J(void 0,{type:ay.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fs(13))})}function SR(R){for(var O=Object.keys(R),J={},ue=0;ue<O.length;ue++){var Le=O[ue];typeof R[Le]=="function"&&(J[Le]=R[Le])}var Oe=Object.keys(J),H;try{AR(J)}catch(j){H=j}return function(e,g){if(e===void 0&&(e={}),H)throw H;for(var P=!1,a={},x=0;x<Oe.length;x++){var w=Oe[x],v=J[w],p=e[w],r=v(p,g);if(typeof r>"u")throw g&&g.type,new Error(Fs(14));a[w]=r,P=P||r!==p}return P=P||Oe.length!==Object.keys(e).length,P?a:e}}function MR(){for(var R=arguments.length,O=new Array(R),J=0;J<R;J++)O[J]=arguments[J];return O.length===0?function(ue){return ue}:O.length===1?O[0]:O.reduce(function(ue,Le){return function(){return ue(Le.apply(void 0,arguments))}})}function ER(){for(var R=arguments.length,O=new Array(R),J=0;J<R;J++)O[J]=arguments[J];return function(ue){return function(){var Le=ue.apply(void 0,arguments),Oe=function(){throw new Error(Fs(15))},H={getState:Le.getState,dispatch:function(){return Oe.apply(void 0,arguments)}},j=O.map(function(e){return e(H)});return Oe=MR.apply(void 0,j)(Le.dispatch),C4(C4({},Le),{},{dispatch:Oe})}}}function L6(R){var O=function(ue){var Le=ue.dispatch,Oe=ue.getState;return function(H){return function(j){return typeof j=="function"?j(Le,Oe,R):H(j)}}};return O}var P6=L6();P6.withExtraArgument=L6;const CR=P6,R6="session/setUser",D6="session/removeUser",hb=R=>({type:R6,payload:R}),LR=()=>({type:D6}),PR=()=>async R=>{const O=await fetch("/api/auth/");if(O.ok){const J=await O.json();if(J.errors)return;R(hb(J))}},P4=R=>async O=>{const J=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(J.ok){const ue=await J.json();O(hb(ue))}else return J.status<500?await J.json():{server:"Something went wrong. Please try again"}},RR=R=>async O=>{const J=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(J.ok){const ue=await J.json();O(hb(ue))}else return J.status<500?await J.json():{server:"Something went wrong. Please try again"}},DR=()=>async R=>{await fetch("/api/auth/logout"),R(LR())},IR={user:null};function _R(R=IR,O){switch(O.type){case R6:return{...R,user:O.payload};case D6:return{...R,user:null};default:return R}}const I6="portfolio/load",_6="portfoliio/loadCash",kR="portfolio/loadValue",k6="portfolio/loadHistory",F6="portfolio/loadTransfers",O6="portfolio/clear",z6="portfolio/loadShares",FR=R=>({type:I6,payload:R}),N6=R=>({type:_6,payload:R}),OR=R=>({type:F6,payload:R}),zR=R=>({type:k6,payload:R}),NR=R=>({type:z6,payload:R}),BR=()=>({type:O6}),UR=()=>async R=>{const O=await fetch("/api/portfolios/current");if(O.ok){const J=await O.json();if(J.errors)return;R(FR(J))}},VR=()=>async R=>{const O=await fetch("/api/portfolios/current/history");if(O.ok){const J=await O.json();if(J.errors)return;R(zR(J))}},jR=()=>async R=>{const O=await fetch("/api/portfolios/current/transfers");if(O.ok){const J=await O.json();if(J.errors)return;R(OR(J))}},B6=()=>async R=>{const O=await fetch("/api/portfolios/current/cash");if(O.ok){const J=await O.json();if(J.errors)return;R(N6(J))}},HR=R=>async O=>{const J=await fetch(`/api/portfolios/current/${R}`);if(J.ok){const ue=await J.json();if(ue.errors)return;O(NR(ue))}},U6=R=>async O=>{const J=await fetch("/api/portfolios/current/transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:R})});if(J.ok){const ue=await J.json();O(N6(ue))}},GR={};function WR(R=GR,O){switch(O.type){case I6:return{...R,portfolio:O.payload};case k6:return{...R,history:JSON.parse(O.payload.history),purchasing_power:O.payload.cash,portfolio_value:O.payload.value,day_gl:O.payload.gl,day_ret:O.payload.ret};case _6:return{...R,purchasing_power:O.payload.purchasing_power};case F6:return{...R,transfers:O.payload.transfers};case kR:return{...R,portfolio_value:O.payload.portfolio_value};case z6:return{...R,...O.payload};case O6:return{};default:return R}}const V6="watchlists/load",j6="watchlists/edit",H6="watchlists/remove",G6="watchlists/clear",W6="watchlists/add",Y6="watchlists/addStock",X6="watchlists/removeStock",Z6="watchlists/loadWStocks",YR=R=>({type:V6,payload:R}),XR=R=>({type:Z6,payload:R}),ZR=()=>({type:G6}),K6=R=>({type:W6,payload:R}),KR=R=>({type:H6,list_number:R}),JR=R=>({type:Y6,payload:R}),$R=R=>({type:X6,payload:R}),QR=R=>({type:j6,payload:R}),vb=()=>async R=>{const O=await fetch("/api/watchlists/current");if(O.ok){const J=await O.json();if(J.errors)return;R(YR(J))}},qR=R=>async O=>{const J=await fetch(`/api/watchlists/current/${R}`);if(J.ok){const ue=await J.json();return ue.errors?void 0:(O(XR(ue)),ue)}},J6=R=>async O=>{const J=await fetch("/api/watchlists/new-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),ue=await J.json();return J.ok&&O(K6(ue)),ue},$6=R=>async O=>{const J=await fetch(`/api/watchlists/current/${R.list_number}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),ue=await J.json();return J.ok&&O(QR(ue)),ue},eD=R=>async O=>{const J=await fetch(`/api/watchlists/current/${R}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),ue=J.json();return J.ok&&O(KR(R)),ue},tD=R=>async O=>{const J=await fetch(`/api/watchlists/current/${R}`);if(J.ok){const ue=await J.json();if(ue.errors)return;O(K6(ue))}},R4=R=>async O=>{const J=await fetch("/api/watchlists/add-stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),ue=await J.json();return J.ok&&O(JR(ue)),ue},rD=R=>async O=>{const J=await fetch("/api/watchlists/remove-stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(await J.json(),J.ok){O($R(R));return}else return},D4={};function nD(R=D4,O){var J;switch(O.type){case V6:return{...R,...O.payload};case W6:return{...R,[O.payload.list_number]:O.payload};case Y6:{const ue={...R};return ue[O.payload.list_number].stocks.push(O.payload.stock),(J=ue.lists)==null||J.push(O.payload.list_number),ue}case X6:{const ue={...R},Le=ue[O.payload.list_number].stocks,Oe=Le.findIndex(j=>j.ticker==O.payload.stock_ticker);Le.splice(Oe,1),ue[O.payload.list_number].stocks=[...Le];const H=ue.lists;return H==null||H.splice(H==null?void 0:H.indexOf(O.payload.list_number)),ue.lists=[...H],ue}case j6:{const ue={...R};return ue[O.payload.list_number]=O.payload,ue}case H6:{const ue={...R};return delete ue[O.list_number],ue}case Z6:{const ue={...R};return ue.lists=[...O.payload],ue}case G6:return D4;default:return R}}const Q6="stocks/load",q6="stocks/loadData",eS="stocks/loadMovers",tS="stocks/loadAll",aD="stocks/clearAll",rS="stocks/loadSectors",iD=R=>({type:Q6,payload:R}),oD=(R,O)=>({type:q6,ticker:O,payload:R}),sD=R=>({type:tS,payload:R}),lD=R=>({type:eS,payload:R}),uD=R=>({type:rS,payload:R}),fD=()=>async R=>{const O=await fetch("/api/stocks/movers");if(O.ok){const J=await O.json();R(lD(J))}},cD=R=>async O=>{const J=await fetch(`/api/stocks/${R}`);if(J.ok){const ue=await J.json();if(ue.errors)return;O(iD(ue))}},hD=R=>async O=>{const J=await fetch(`/api/stocks/${R}/data`);if(J.ok){const ue=await J.json();O(oD(ue,R))}},nS=()=>async R=>{const O=await fetch("/api/stocks/all");if(O.ok){const J=await O.json();R(sD(J))}},vD=()=>async R=>{const O=await fetch("/api/stocks/sectors");if(O.ok){const J=await O.json();R(uD(J))}},dD={};function pD(R=dD,O){switch(O.type){case Q6:return{...R,[O.payload.ticker]:O.payload};case q6:const J={...R},ue=O.ticker;return J[ue]={...J[ue],...O.payload},J;case eS:return{...R,movers:O.payload};case tS:return{stocks:O.payload,...R};case rS:return{...R,sectors:O.payload};case aD:return{};default:return R}}const aS="orders/add",iS="orders/load",gD=R=>({type:iS,payload:R}),yD=R=>({type:aS,payload:R}),mD=R=>async O=>{const J=await fetch("/api/orders/current",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),ue=await J.json();return J.ok&&O(yD(ue)),ue},xD=()=>async R=>{const O=await fetch("/api/orders/current");if(O.ok){const J=await O.json();if(J.errors)return;R(gD(J))}},bD={};function wD(R=bD,O){switch(O.type){case iS:return{...R,orders:O.payload.orders};case aS:return{...R,[O.payload.order_number]:O.payload};default:return R}}const oS="screeners/load",sS="screeners/loadAll",lS="screeners/save",uS="screeners/clearAll",TD=(R,O)=>({type:oS,payload:{id:R,screener:O}}),AD=R=>({type:sS,payload:R}),SD=(R,O)=>({type:lS,payload:{id:R,screener:O}}),MD=()=>({type:uS}),ED=R=>async O=>{if(!R)return;const J=await fetch(`/api/screener/apply/${R}`);if(J.ok){const ue=await J.json();if(ue.errors)return;O(TD(R,ue))}},CD=()=>async R=>{const O=await fetch("/api/screener/current");if(O.ok){const J=await O.json();R(AD(J))}},LD=R=>async O=>{console.log(R);const J=await fetch("/api/screener/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),ue=await J.json();return J.ok&&O(SD(ue.id,ue)),ue},PD={};function RD(R=PD,O){switch(O.type){case oS:return{...R,[O.payload.id]:O.payload.screener};case lS:const J={...R};return J.screeners.push(O.payload.screener),J;case sS:return{screeners:O.payload,...R};case uS:return{};default:return R}}const fS="markets/loadAll",DD="markets/clearAll",cS="markets/loadNews",ID=R=>({type:fS,payload:R}),_D=R=>({type:cS,payload:R}),kD=()=>async R=>{const O=await fetch("/api/markets/all");if(O.ok){const J=await O.json();R(ID(J))}},FD=()=>async R=>{const O=await fetch("/api/markets/news");if(O.ok){const J=await O.json();R(_D(J))}},OD={};function zD(R=OD,O){switch(O.type){case fS:return{markets:O.payload,...R};case cS:return{...R,news:O.payload};case DD:return{};default:return R}}const ND=SR({session:_R,portfolio:WR,watchlists:nD,stocks:pD,orders:wD,screeners:RD,markets:zD});let hS;hS=ER(CR);const BD=R=>TR(ND,R,hS);function UD(){return Di(O=>O.session.user)?Ze.jsx(A6,{to:"/dashboard"}):Ze.jsxs("div",{className:"landing-page",children:[Ze.jsx("img",{src:"https://i.kym-cdn.com/entries/icons/original/000/029/959/Screen_Shot_2019-06-05_at_1.26.32_PM.jpg",alt:"stonks-logo"}),Ze.jsx("h1",{children:"Welcome to Stonk Trader 3000"}),Ze.jsx("p",{children:"Please Login or Sign up to get started!"}),Ze.jsx("p",{children:"Or check out what we offer!"})]})}const db=pn.createContext();function VD({children:R}){const O=pn.useRef(),[J,ue]=pn.useState(null),[Le,Oe]=pn.useState(null),j={modalRef:O,modalContent:J,setModalContent:ue,setOnModalClose:Oe,closeModal:()=>{ue(null),typeof Le=="function"&&(Oe(null),Le())}};return Ze.jsxs(Ze.Fragment,{children:[Ze.jsx(db.Provider,{value:j,children:R}),Ze.jsx("div",{ref:O})]})}function jD(){const{modalRef:R,modalContent:O,closeModal:J}=pn.useContext(db);return!R||!R.current||!O?null:ZA.createPortal(Ze.jsxs("div",{id:"modal",children:[Ze.jsx("div",{id:"modal-background",onClick:J}),Ze.jsx("div",{id:"modal-content",children:O})]}),R.current)}const xu=()=>pn.useContext(db),vS=pn.createContext(),dS=()=>pn.useContext(vS);function HD({children:R}){const O=Mo(),[J,ue]=pn.useState(!1),Le=async()=>{await O(VR()),await O(kD()),await O(FD()),await O(fD()),await O(nS()),ue(!0)};return Ze.jsx(vS.Provider,{value:{loaded:J,setLoaded:ue,loadData:Le},children:R})}var pS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},I4=fc.createContext&&fc.createContext(pS),GD=["attr","size","title"];function WD(R,O){if(R==null)return{};var J=YD(R,O),ue,Le;if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(R);for(Le=0;Le<Oe.length;Le++)ue=Oe[Le],!(O.indexOf(ue)>=0)&&Object.prototype.propertyIsEnumerable.call(R,ue)&&(J[ue]=R[ue])}return J}function YD(R,O){if(R==null)return{};var J={},ue=Object.keys(R),Le,Oe;for(Oe=0;Oe<ue.length;Oe++)Le=ue[Oe],!(O.indexOf(Le)>=0)&&(J[Le]=R[Le]);return J}function iy(){return iy=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var J=arguments[O];for(var ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&(R[ue]=J[ue])}return R},iy.apply(this,arguments)}function _4(R,O){var J=Object.keys(R);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(R);O&&(ue=ue.filter(function(Le){return Object.getOwnPropertyDescriptor(R,Le).enumerable})),J.push.apply(J,ue)}return J}function oy(R){for(var O=1;O<arguments.length;O++){var J=arguments[O]!=null?arguments[O]:{};O%2?_4(Object(J),!0).forEach(function(ue){XD(R,ue,J[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(J)):_4(Object(J)).forEach(function(ue){Object.defineProperty(R,ue,Object.getOwnPropertyDescriptor(J,ue))})}return R}function XD(R,O,J){return O=ZD(O),O in R?Object.defineProperty(R,O,{value:J,enumerable:!0,configurable:!0,writable:!0}):R[O]=J,R}function ZD(R){var O=KD(R,"string");return typeof O=="symbol"?O:String(O)}function KD(R,O){if(typeof R!="object"||R===null)return R;var J=R[Symbol.toPrimitive];if(J!==void 0){var ue=J.call(R,O||"default");if(typeof ue!="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(R)}function gS(R){return R&&R.map((O,J)=>fc.createElement(O.tag,oy({key:J},O.attr),gS(O.child)))}function Ns(R){return O=>fc.createElement(JD,iy({attr:oy({},R.attr)},O),gS(R.child))}function JD(R){var O=J=>{var{attr:ue,size:Le,title:Oe}=R,H=WD(R,GD),j=Le||J.size||"1em",e;return J.className&&(e=J.className),R.className&&(e=(e?e+" ":"")+R.className),fc.createElement("svg",iy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},J.attr,ue,H,{className:e,style:oy(oy({color:R.color||J.color},J.style),R.style),height:j,width:j,xmlns:"http://www.w3.org/2000/svg"}),Oe&&fc.createElement("title",null,Oe),R.children)};return I4!==void 0?fc.createElement(I4.Consumer,null,J=>O(J)):O(pS)}function $D(R){return Ns({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(R)}function QD(R){return Ns({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(R)}function pb(R){return Ns({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(R)}function gb(R){return Ns({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(R)}function qD(R){return Ns({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(R)}function yb(R){return Ns({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(R)}function eI(R){return Ns({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(R)}function nm(R){return Ns({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(R)}function tI(R){return Ns({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(R)}function rI(R){return Ns({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(R)}function nI(R){return Ns({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zM112 223.4c3.3-42.1 32.2-71.4 56-71.4s52.7 29.3 56 71.4c.7 8.6-10.8 11.9-14.9 4.5l-9.5-17c-7.7-13.7-19.2-21.6-31.5-21.6s-23.8 7.9-31.5 21.6l-9.5 17c-4.3 7.4-15.8 4-15.1-4.5zm250.8 122.8C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.5-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.6-16.2 38.1 4.3 24.6 20.5zm6.2-118.3l-9.5-17c-7.7-13.7-19.2-21.6-31.5-21.6s-23.8 7.9-31.5 21.6l-9.5 17c-4.1 7.3-15.6 4-14.9-4.5 3.3-42.1 32.2-71.4 56-71.4s52.7 29.3 56 71.4c.6 8.6-11 11.9-15.1 4.5z"},child:[]}]})(R)}function aI(){const R=pn.useRef();Mo();const O=Di(p=>p.stocks.stocks),J=Di(p=>p.screeners.screeners),[ue,Le]=pn.useState(!1),[Oe,H]=pn.useState(""),[j,e]=pn.useState([]),[g,P]=pn.useState([]);pn.useEffect(()=>{if(!ue)return;const p=r=>{R.current&&!R.current.contains(r.target)&&Le(!1)};return document.addEventListener("click",p),()=>document.removeEventListener("click",p)},[ue]);const a=p=>{const r=O==null?void 0:O.filter(t=>p&&t&&t.ticker.toLowerCase().startsWith(p.toLowerCase())).slice(0,5);e(r)},x=p=>{const r=O==null?void 0:O.filter(t=>p&&t&&t.name.toLowerCase().startsWith(p.toLowerCase())).slice(0,5);P(r)},w=p=>{H(p),a(p),x(p)},v=()=>{H(""),Le(!1)};return Ze.jsxs("div",{className:"search-container",children:[Ze.jsxs("div",{className:`search-bar ${ue&&"opened"}`,ref:R,children:[Ze.jsx(tI,{}),Ze.jsx("input",{onFocus:()=>Le(!0),placeholder:"Search Stocks",value:Oe,onChange:p=>w(p.target.value)})]}),Oe?ue&&Ze.jsxs("div",{className:"search-results",children:[Oe&&Ze.jsx("h2",{children:"Matched Tickers: "}),j==null?void 0:j.map((p,r)=>Ze.jsxs(So,{onClick:v,to:`/stocks/${p.ticker}`,children:[Ze.jsx("div",{children:p.ticker}),Ze.jsx("div",{children:p.name})]},r)),Oe&&Ze.jsx("h2",{children:"Matched Names: "}),g==null?void 0:g.map((p,r)=>Ze.jsxs(So,{onClick:v,to:`/stocks/${p.ticker}`,children:[Ze.jsx("div",{children:p.ticker}),Ze.jsx("div",{children:p.name})]},r))]}):ue&&Ze.jsxs("div",{className:"search-results",children:[Ze.jsx("h2",{children:"Stock Screeners"}),Ze.jsxs("div",{className:"results-container",children:[Ze.jsxs(So,{onClick:v,to:"/screener?id=0",children:[Ze.jsx(nm,{}),"Custom Screener"]}),J==null?void 0:J.map((p,r)=>Ze.jsx(So,{onClick:v,to:`/screener?id=${p.id}`,children:p.name},r))]})]})]})}function iI(R){return Ns({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.901 2.599c-1.463-1.597-3.565-2.599-5.901-2.599-4.418 0-8 3.582-8 8h1.5c0-3.59 2.91-6.5 6.5-6.5 1.922 0 3.649 0.835 4.839 2.161l-2.339 2.339h5.5v-5.5l-2.099 2.099z"},child:[]},{tag:"path",attr:{d:"M14.5 8c0 3.59-2.91 6.5-6.5 6.5-1.922 0-3.649-0.835-4.839-2.161l2.339-2.339h-5.5v5.5l2.099-2.099c1.463 1.597 3.565 2.599 5.901 2.599 4.418 0 8-3.582 8-8h-1.5z"},child:[]}]})(R)}function oI(){const{setLoaded:R}=dS(),O=Mo(),J=nf(),[ue,Le]=pn.useState(!1),Oe=Di(P=>P.session.user),H=pn.useRef(),j=P=>{P.stopPropagation(),Le(!ue)};pn.useEffect(()=>{if(!ue)return;const P=a=>{H.current&&!H.current.contains(a.target)&&Le(!1)};return document.addEventListener("click",P),()=>document.removeEventListener("click",P)},[ue]);const e=()=>Le(!1),g=async P=>{P.preventDefault(),await O(BR()),await O(MD()),await O(ZR()),await O(DR()),R(!1),J("/"),e()};return Ze.jsxs(Ze.Fragment,{children:[Ze.jsx("a",{onClick:j,className:"profile-button",children:"Account"}),ue&&Ze.jsx("ul",{className:"profile-dropdown",ref:H,children:Oe&&Ze.jsxs(Ze.Fragment,{children:[Ze.jsx("h2",{children:Oe.name}),"__________________________________________",Ze.jsx("li",{children:Ze.jsxs(So,{to:"/account/positions",onClick:e,children:[Ze.jsx(nI,{}),"Account"]})}),Ze.jsx("li",{children:Ze.jsxs(So,{to:"/account/transfers",onClick:e,children:[Ze.jsx(eI,{}),"Transfers"]})}),Ze.jsx("li",{children:Ze.jsxs(So,{to:"/account/strategies",onClick:e,children:[Ze.jsx(iI,{}),"Strategies"]})}),Ze.jsx("li",{children:Ze.jsxs(So,{to:"/account/history",onClick:e,children:[Ze.jsx(qD,{}),"History"]})}),"__________________________________________",Ze.jsx("li",{children:Ze.jsxs("a",{onClick:g,children:[Ze.jsx(rI,{}),"Log Out"]})})]})})]})}function k4({className:R}){nf();const[O,J]=pn.useState(!1),ue=pn.useRef(),Le=Oe=>{Oe.stopPropagation(),J(!O)};return pn.useEffect(()=>{if(!O)return;const Oe=H=>{ue.current&&!ue.current.contains(H.target)&&J(!1)};return document.addEventListener("click",Oe),()=>document.removeEventListener("click",Oe)},[O]),Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("a",{onClick:Le,className:"offerings-button",children:["What We Offer",O?Ze.jsx(gb,{}):Ze.jsx(pb,{})]}),O&&Ze.jsxs("ul",{className:R,ref:ue,children:[Ze.jsx(So,{to:"/about",children:"About Stonk Trader"}),Ze.jsx(So,{to:"/about/trading",children:"Mock Trading"}),Ze.jsx(So,{to:"/about/research",children:"Research"}),Ze.jsx(So,{to:"/about/future",children:"Coming Soon"})]})]})}function sy({className:R,modalComponent:O,itemText:J,onItemClick:ue,onModalClose:Le}){const{setModalContent:Oe,setOnModalClose:H}=xu(),j=()=>{Le&&H(Le),Oe(O),typeof ue=="function"&&ue()};return Ze.jsx("div",{onClick:j,className:R,children:J})}function sI(){const R=Mo(),O=nf(),[J,ue]=pn.useState(""),[Le,Oe]=pn.useState(""),[H,j]=pn.useState({}),{closeModal:e}=xu(),g=async a=>{a.preventDefault();const x=await R(P4({email:J,password:Le}));x?j(x):(O("/"),e())},P=a=>{a.preventDefault(),j({});const x={};return x.email="marnie@aa.io",x.password="password",R(P4(x)).then(O("/")).then(e).catch(async w=>{const v=await w.json();v&&v.errors&&j(v.errors)})};return Ze.jsxs("div",{className:"login-modal",children:[Ze.jsx("h1",{children:"Log In"}),Ze.jsxs("form",{onSubmit:g,children:[Ze.jsxs("label",{children:["Email",Ze.jsx("input",{type:"text",value:J,onChange:a=>ue(a.target.value),required:!0})]}),H.email&&Ze.jsx("p",{className:"errors",children:H.email}),Ze.jsxs("label",{children:["Password",Ze.jsx("input",{type:"password",value:Le,onChange:a=>Oe(a.target.value),required:!0})]}),H.password&&Ze.jsx("p",{className:"errors",children:H.password}),Ze.jsx("button",{type:"submit",children:"Log In"})]}),Ze.jsx("button",{className:"demo-user",onClick:P,children:"Demo User"})]})}function lI(){const R=Mo(),[O,J]=pn.useState(""),[ue,Le]=pn.useState(""),[Oe,H]=pn.useState(""),[j,e]=pn.useState(""),[g,P]=pn.useState({}),{closeModal:a}=xu(),x=async w=>{if(w.preventDefault(),Oe!==j)return P({confirmPassword:"Confirm Password field must be the same as the Password field"});const v=await R(RR({email:O,name:ue,password:Oe}));v?P(v):a()};return Ze.jsxs("div",{className:"login-modal",children:[Ze.jsx("h1",{children:"Sign Up"}),g.server&&Ze.jsx("p",{className:"errors",children:g.server}),Ze.jsxs("form",{onSubmit:x,children:[Ze.jsxs("label",{children:["What is your Email?",Ze.jsx("input",{type:"text",value:O,onChange:w=>J(w.target.value),required:!0})]}),g.email&&Ze.jsx("p",{className:"errors",children:g.email}),Ze.jsxs("label",{children:["What is your Name?",Ze.jsx("input",{type:"text",value:ue,onChange:w=>Le(w.target.value),required:!0})]}),g.name&&Ze.jsx("p",{className:"errors",children:g.name}),Ze.jsxs("label",{children:["Enter a Password",Ze.jsx("input",{type:"password",value:Oe,onChange:w=>H(w.target.value),required:!0})]}),g.password&&Ze.jsx("p",{className:"errors",children:g.password}),Ze.jsxs("label",{children:["Confirm Password",Ze.jsx("input",{type:"password",value:j,onChange:w=>e(w.target.value),required:!0})]}),g.confirmPassword&&Ze.jsx("p",{className:"errors",children:g.confirmPassword}),Ze.jsx("button",{type:"submit",children:"Sign Up"})]})]})}function uI(){const R=Di(O=>O.session.user);return Ze.jsx(Ze.Fragment,{children:R?Ze.jsxs("div",{className:"nav-bar",children:[Ze.jsx("div",{className:"nav-bar-left",children:Ze.jsx(So,{className:"landing-logo",to:"/",children:Ze.jsx("img",{src:"/stonks-logo.png",alt:"stonks-logo",width:"50px"})})}),Ze.jsx("div",{className:"nav-bar-middle",children:Ze.jsx(aI,{})}),Ze.jsxs("div",{className:"nav-bar-right",children:[Ze.jsx(k4,{className:"offerings-dropdown-logged-in"}),Ze.jsx(So,{to:"/dashboard",children:"Dashboard"}),Ze.jsx(So,{to:"/account/positions",children:"Positions"}),Ze.jsx(oI,{})]})]}):Ze.jsxs("div",{className:"nav-bar",children:[Ze.jsxs("div",{className:"nav-bar-left",children:[Ze.jsxs(So,{className:"landing-logo",to:"/",children:["Stonk Trader",Ze.jsx("img",{src:"/stonks-logo.png",alt:"stonks-logo",width:"50px"})]}),Ze.jsx(k4,{className:"offerings-dropdown"})]}),Ze.jsxs("div",{className:"logged-out",children:[Ze.jsx(sy,{className:"log-in",itemText:"Log In",modalComponent:Ze.jsx(sI,{})}),Ze.jsx(sy,{className:"log-out",itemText:"Sign Up",modalComponent:Ze.jsx(lI,{})})]})]})})}function fI(){return Ze.jsxs("div",{className:"footer",children:[Ze.jsx("div",{children:"Royce Jiang"}),Ze.jsxs("a",{href:"https://github.com/jiangroyce",target:"_blank",children:[Ze.jsx($D,{}),"Github"]}),Ze.jsxs("a",{href:"https://www.linkedin.com/in/jiangroyce/",target:"_blank",children:[Ze.jsx(QD,{}),"LinkedIn"]})]})}function cI(){const R=Mo(),[O,J]=pn.useState(!1);return pn.useEffect(()=>{R(PR()).then(()=>J(!0))},[R]),Ze.jsx(Ze.Fragment,{children:Ze.jsx(HD,{children:Ze.jsxs(VD,{children:[Ze.jsx(uI,{}),O&&Ze.jsx(S6,{}),Ze.jsx(jD,{}),Ze.jsx(fI,{})]})})})}function Eh({type:R,className:O,modalComponent:J,buttonText:ue,onButtonClick:Le,onModalClose:Oe}){const{setModalContent:H,setOnModalClose:j}=xu(),e=g=>{g.stopPropagation(),Oe&&j(Oe),H(J),typeof Le=="function"&&Le()};return Ze.jsx("button",{className:O,onClick:e,type:R,children:ue})}function hI(){const R=Mo(),[O,J]=pn.useState(""),[ue,Le]=pn.useState({}),{closeModal:Oe}=xu(),H=async j=>{j.preventDefault();const e=await R(J6({name:O}));e!=null&&e.errors?Le(e.errors):Oe()};return Ze.jsxs("div",{className:"login-modal",children:[Ze.jsx("h1",{children:"Create Watchlist"}),Ze.jsxs("form",{onSubmit:H,onReset:()=>Oe(),children:[Ze.jsxs("label",{children:["List name",Ze.jsx("input",{type:"text",value:O,onChange:j=>J(j.target.value),required:!0})]}),ue.name&&Ze.jsx("p",{children:ue.name}),Ze.jsxs("div",{className:"actions",children:[Ze.jsx("button",{type:"reset",children:"Cancel"}),Ze.jsx("button",{type:"submit",children:"Create List"})]})]})]})}function vI(R){return Ns({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Remove"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M9.525,13.765a.5.5,0,0,0,.71.71c.59-.59,1.175-1.18,1.765-1.76l1.765,1.76a.5.5,0,0,0,.71-.71c-.59-.58-1.18-1.175-1.76-1.765.41-.42.82-.825,1.23-1.235.18-.18.35-.36.53-.53a.5.5,0,0,0-.71-.71L12,11.293,10.235,9.525a.5.5,0,0,0-.71.71L11.293,12Z"},child:[]},{tag:"path",attr:{d:"M12,21.933A9.933,9.933,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.933ZM12,3.067A8.933,8.933,0,1,0,20.934,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(R)}function dI(R){return Ns({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Settings"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12.6,20.936H11.3a.883.883,0,0,1-.852-.654l-.774-2.833-2.5,1.435a.886.886,0,0,1-1.06-.138l-.925-.919a.884.884,0,0,1-.143-1.066l1.469-2.545L6.509,14.2l-2.787-.747a.882.882,0,0,1-.654-.851V11.3a.882.882,0,0,1,.652-.85l2.839-.777L5.12,7.171a.885.885,0,0,1,.141-1.062l.918-.918A.885.885,0,0,1,7.24,5.049L9.792,6.514l.012,0,.745-2.79a.881.881,0,0,1,.851-.655h1.3a.883.883,0,0,1,.852.655l.762,2.838,2.509-1.441a.885.885,0,0,1,1.059.138l.926.919a.882.882,0,0,1,.141,1.067L17.483,9.777l.008.022,2.786.746a.883.883,0,0,1,.653.851v1.3a.883.883,0,0,1-.654.852l-2.837.774,1.439,2.505a.881.881,0,0,1-.141,1.063l-.917.917a.888.888,0,0,1-1.063.141l-2.539-1.462L14.2,17.5l-.745,2.785A.885.885,0,0,1,12.6,20.936Zm-1.21-1h1.119l.738-2.756a.888.888,0,0,1,.528-.592l.134-.052a.873.873,0,0,1,.76.057l2.51,1.445.789-.789-1.423-2.478a.881.881,0,0,1-.048-.78l.052-.125a.875.875,0,0,1,.584-.51l2.8-.749v-1.12l-2.755-.737a.885.885,0,0,1-.592-.529l-.052-.132a.882.882,0,0,1,.057-.763L18.04,6.818l-.8-.79-2.48,1.425a.878.878,0,0,1-.772.052l-.115-.047a.888.888,0,0,1-.518-.588l-.748-2.806H11.492l-.738,2.762a.883.883,0,0,1-.539.6l-.12.045a.874.874,0,0,1-.751-.058L6.822,5.962l-.789.789L7.455,9.227a.886.886,0,0,1,.046.785l-.051.12a.876.876,0,0,1-.579.5l-2.8.758v1.121l2.757.738a.889.889,0,0,1,.591.525l.048.121a.874.874,0,0,1-.055.77L5.958,17.181l.8.791,2.47-1.419a.878.878,0,0,1,.787-.045l.106.044a.874.874,0,0,1,.526.591ZM9.75,17.482l.008,0ZM9.6,17.421l.007,0ZM6.487,14.147h0Zm.044-4.411h0Zm7.724-3.2Z"},child:[]},{tag:"path",attr:{d:"M12,15a3,3,0,1,1,3-3A3,3,0,0,1,12,15Zm0-5a2,2,0,1,0,2,2A2,2,0,0,0,12,10Z"},child:[]}]}]}]})(R)}function pI({watchlist:R}){const O=Mo(),[J,ue]=pn.useState(R.name),[Le,Oe]=pn.useState({}),{closeModal:H}=xu(),j=async e=>{e.preventDefault();const g=await O($6({name:J,list_number:R.list_number}));g!=null&&g.errors?Oe(g.errors):H()};return Ze.jsxs("div",{className:"login-modal",children:[Ze.jsx("h1",{children:"Edit Watchlist"}),Ze.jsxs("form",{onSubmit:j,onReset:()=>H(),children:[Ze.jsxs("label",{children:["List name",Ze.jsx("input",{type:"text",value:J,onChange:e=>ue(e.target.value),required:!0})]}),Le.name&&Ze.jsx("p",{children:Le.name}),Ze.jsxs("div",{className:"actions",children:[Ze.jsx("button",{type:"reset",children:"Cancel"}),Ze.jsx("button",{type:"submit",children:"Confirm"})]})]})]})}function gI({watchlist:R}){var H;const O=Mo(),[J,ue]=pn.useState({}),{closeModal:Le}=xu(),Oe=async j=>{j.preventDefault();const e=await O(eD(R.list_number));e!=null&&e.errors?ue(e.errors):Le()};return Ze.jsxs("div",{className:"delete-modal",children:[Ze.jsxs("h1",{children:['Are you sure you want to delete "',R==null?void 0:R.name,'"?']}),Ze.jsxs("h2",{children:["If you delete, this list and its ",(H=R==null?void 0:R.stocks)==null?void 0:H.length," items will be gone forever"]}),Ze.jsx("div",{className:"actions",children:Ze.jsxs("button",{onClick:Oe,children:["Delete ",R==null?void 0:R.name]})}),J&&J[404]&&Ze.jsx("p",{children:"Cannot create/edit/delete Default lists"})]})}var yS={},mS={},xS={exports:{}},yI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mI=yI,xI=mI;function bS(){}function wS(){}wS.resetWarningCache=bS;var bI=function(){function R(ue,Le,Oe,H,j,e){if(e!==xI){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}R.isRequired=R;function O(){return R}var J={array:R,bigint:R,bool:R,func:R,number:R,object:R,string:R,symbol:R,any:R,arrayOf:O,element:R,elementType:R,instanceOf:O,node:R,objectOf:O,oneOf:O,oneOfType:O,shape:O,exact:O,checkPropTypes:wS,resetWarningCache:bS};return J.PropTypes=J,J};xS.exports=bI();var wI=xS.exports;(function(R){function O(f){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},O(f)}Object.defineProperty(R,"__esModule",{value:!0}),R.default=u;var J=H(pn),ue=Le(wI);function Le(f){return f&&f.__esModule?f:{default:f}}function Oe(f){if(typeof WeakMap!="function")return null;var l=new WeakMap,y=new WeakMap;return(Oe=function(M){return M?y:l})(f)}function H(f,l){if(!l&&f&&f.__esModule)return f;if(f===null||O(f)!=="object"&&typeof f!="function")return{default:f};var y=Oe(l);if(y&&y.has(f))return y.get(f);var h={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in f)if(c!=="default"&&Object.prototype.hasOwnProperty.call(f,c)){var o=M?Object.getOwnPropertyDescriptor(f,c):null;o&&(o.get||o.set)?Object.defineProperty(h,c,o):h[c]=f[c]}return h.default=f,y&&y.set(f,h),h}function j(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function e(f,l){for(var y=0;y<l.length;y++){var h=l[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function g(f,l,y){return l&&e(f.prototype,l),y&&e(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function P(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),l&&a(f,l)}function a(f,l){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,M){return h.__proto__=M,h},a(f,l)}function x(f){var l=p();return function(){var h=r(f),M;if(l){var c=r(this).constructor;M=Reflect.construct(h,arguments,c)}else M=h.apply(this,arguments);return w(this,M)}}function w(f,l){if(l&&(O(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(f)}function v(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(f){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},r(f)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],i=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function u(f){var l=function(y){P(M,y);var h=x(M);function M(c){var o;return j(this,M),o=h.call(this,c),o.p=Promise.resolve(),o.resizeHandler=null,o.handlers={},o.syncWindowResize=o.syncWindowResize.bind(v(o)),o.syncEventHandlers=o.syncEventHandlers.bind(v(o)),o.attachUpdateEvents=o.attachUpdateEvents.bind(v(o)),o.getRef=o.getRef.bind(v(o)),o.handleUpdate=o.handleUpdate.bind(v(o)),o.figureCallback=o.figureCallback.bind(v(o)),o.updatePlotly=o.updatePlotly.bind(v(o)),o}return g(M,[{key:"updatePlotly",value:function(o,d,T){var S=this;this.p=this.p.then(function(){if(!S.unmounting){if(!S.el)throw new Error("Missing element reference");return f.react(S.el,{data:S.props.data,layout:S.props.layout,config:S.props.config,frames:S.props.frames})}}).then(function(){S.unmounting||(S.syncWindowResize(o),S.syncEventHandlers(),S.figureCallback(d),T&&S.attachUpdateEvents())}).catch(function(C){S.props.onError&&S.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(o){this.unmounting=!1;var d=o.frames&&o.frames.length?o.frames.length:0,T=this.props.frames&&this.props.frames.length?this.props.frames.length:0,S=!(o.layout===this.props.layout&&o.data===this.props.data&&o.config===this.props.config&&T===d),C=o.revision!==void 0,m=o.revision!==this.props.revision;!S&&(!C||C&&!m)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),f.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||i.forEach(function(d){o.el.on(d,o.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||i.forEach(function(d){o.el.removeListener(d,o.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(o){if(typeof o=="function"){var d=this.el,T=d.data,S=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,m={data:T,layout:S,frames:C};o(m,this.el)}}},{key:"syncWindowResize",value:function(o){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return f.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),o&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(o){this.el=o,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var o=this;t.forEach(function(d){var T=o.props["on"+d],S=o.handlers[d],C=!!S;T&&!C?o.addEventHandler(d,T):!T&&C?o.removeEventHandler(d):T&&C&&T!==S&&(o.removeEventHandler(d),o.addEventHandler(d,T))})}},{key:"addEventHandler",value:function(o,d){this.handlers[o]=d,this.el.on(this.getPlotlyEventName(o),this.handlers[o])}},{key:"removeEventHandler",value:function(o){this.el.removeListener(this.getPlotlyEventName(o),this.handlers[o]),delete this.handlers[o]}},{key:"getPlotlyEventName",value:function(o){return"plotly_"+o.toLowerCase()}},{key:"render",value:function(){return J.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),M}(J.Component);return l.propTypes={data:ue.default.arrayOf(ue.default.object),config:ue.default.object,layout:ue.default.object,frames:ue.default.arrayOf(ue.default.object),revision:ue.default.number,onInitialized:ue.default.func,onPurge:ue.default.func,onError:ue.default.func,onUpdate:ue.default.func,debug:ue.default.bool,style:ue.default.object,className:ue.default.string,useResizeHandler:ue.default.bool,divId:ue.default.string},t.forEach(function(y){l.propTypes["on"+y]=ue.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(mS);var TS={exports:{}};(function(R,O){(function(ue,Le){R.exports=Le()})(self,function(){return function(){var J={79288:function(H,j,e){var g=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in P){var x=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(x,P[a])}},86712:function(H,j,e){H.exports=e(84224)},37240:function(H,j,e){H.exports=e(51132)},29744:function(H,j,e){H.exports=e(94456)},29352:function(H,j,e){H.exports=e(67244)},96144:function(H,j,e){H.exports=e(97776)},53219:function(H,j,e){H.exports=e(61712)},4624:function(H,j,e){H.exports=e(95856)},54543:function(H,j,e){H.exports=e(54272)},45e3:function(H,j,e){H.exports=e(85404)},62300:function(H,j,e){H.exports=e(26048)},6920:function(H,j,e){H.exports=e(66240)},10264:function(H,j,e){H.exports=e(40448)},32016:function(H,j,e){H.exports=e(64884)},27528:function(H,j,e){H.exports=e(15088)},75556:function(H,j,e){H.exports=e(76744)},39204:function(H,j,e){H.exports=e(94704)},73996:function(H,j,e){H.exports=e(62396)},16489:function(H,j,e){H.exports=e(32028)},5e3:function(H,j,e){H.exports=e(81932)},77280:function(H,j,e){H.exports=e(45536)},33992:function(H,j,e){H.exports=e(42600)},17600:function(H,j,e){H.exports=e(21536)},49116:function(H,j,e){H.exports=e(65664)},46808:function(H,j,e){H.exports=e(29044)},36168:function(H,j,e){H.exports=e(48928)},13792:function(H,j,e){var g=e(32016);g.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),H.exports=g},3920:function(H,j,e){H.exports=e(43480)},25120:function(H,j,e){H.exports=e(6296)},4340:function(H,j,e){H.exports=e(7404)},86152:function(H,j,e){H.exports=e(65456)},56816:function(H,j,e){H.exports=e(22020)},89296:function(H,j,e){H.exports=e(29928)},20260:function(H,j,e){H.exports=e(75792)},32140:function(H,j,e){H.exports=e(156)},84764:function(H,j,e){H.exports=e(45499)},48824:function(H,j,e){H.exports=e(3296)},69967:function(H,j,e){H.exports=e(4184)},8363:function(H,j,e){H.exports=e(36952)},86636:function(H,j,e){H.exports=e(38983)},70192:function(H,j,e){H.exports=e(11572)},81604:function(H,j,e){H.exports=e(76924)},63796:function(H,j,e){H.exports=e(62944)},89336:function(H,j,e){H.exports=e(95443)},67484:function(H,j,e){H.exports=e(34864)},97312:function(H,j,e){H.exports=e(76272)},42192:function(H,j,e){H.exports=e(97924)},29800:function(H,j,e){H.exports=e(15436)},63560:function(H,j,e){H.exports=e(5621)},89904:function(H,j,e){H.exports=e(91304)},50248:function(H,j,e){H.exports=e(41724)},65832:function(H,j,e){H.exports=e(31991)},79440:function(H,j,e){H.exports=e(22869)},13752:function(H,j,e){H.exports=e(67776)},83096:function(H,j,e){H.exports=e(95952)},72196:function(H){H.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(H,j,e){var g=e(72196),P=e(25376),a=e(33816),x=e(31780).templatedArray;e(36208),H.exports=x("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(H,j,e){var g=e(3400),P=e(54460),a=e(23816).draw;H.exports=function(p){var r=p._fullLayout,t=g.filterVisible(r.annotations);if(t.length&&p._fullData.length)return g.syncOrAsync([a,x],p)};function x(v){var p=v._fullLayout;g.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),i=P.getFromId(v,r.yref),n=P.getRefType(r.xref),u=P.getRefType(r.yref);r._extremes={},n==="range"&&w(r,t),u==="range"&&w(r,i)})}function w(v,p){var r=p._id,t=r.charAt(0),i=v[t],n=v["a"+t],u=v[t+"ref"],f=v["a"+t+"ref"],l=v["_"+t+"padplus"],y=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],M=3*v.arrowsize*v.arrowwidth||0,c=M+h,o=M-h,d=3*v.startarrowsize*v.arrowwidth||0,T=d+h,S=d-h,C;if(f===u){var m=P.findExtremes(p,[p.r2c(i)],{ppadplus:c,ppadminus:o}),E=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(l,T),ppadminus:Math.max(y,S)});C={min:[m.min[0],E.min[0]],max:[m.max[0],E.max[0]]}}else T=n?T+n:T,S=n?S-n:S,C=P.findExtremes(p,[p.r2c(i)],{ppadplus:Math.max(l,c,T),ppadminus:Math.max(y,o,S)});v._extremes[r]=C}},42300:function(H,j,e){var g=e(3400),P=e(24040),a=e(31780).arrayEditor;H.exports={hasClickToShow:x,onClick:w};function x(r,t){var i=v(r,t);return i.on.length>0||i.explicitOff.length>0}function w(r,t){var i=v(r,t),n=i.on,u=i.off.concat(i.explicitOff),f={},l=r._fullLayout.annotations,y,h;if(n.length||u.length){for(y=0;y<n.length;y++)h=a(r.layout,"annotations",l[n[y]]),h.modifyItem("visible",!0),g.extendFlat(f,h.getUpdateObj());for(y=0;y<u.length;y++)h=a(r.layout,"annotations",l[u[y]]),h.modifyItem("visible",!1),g.extendFlat(f,h.getUpdateObj());return P.call("update",r,{},f)}}function v(r,t){var i=r._fullLayout.annotations,n=[],u=[],f=[],l=(t||[]).length,y,h,M,c,o,d,T,S;for(y=0;y<i.length;y++)if(M=i[y],c=M.clicktoshow,c){for(h=0;h<l;h++)if(o=t[h],d=o.xaxis,T=o.yaxis,d._id===M.xref&&T._id===M.yref&&d.d2r(o.x)===p(M._xclick,d)&&T.d2r(o.y)===p(M._yclick,T)){M.visible?c==="onout"?S=u:S=f:S=n,S.push(y);break}h===l&&M.visible&&c==="onout"&&u.push(y)}return{on:n,off:u,explicitOff:f}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(H,j,e){var g=e(3400),P=e(76308);H.exports=function(x,w,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),i=P.opacity(t);p("borderpad");var n=p("borderwidth"),u=p("showarrow");p("text",u?" ":v._dfltTitle.annotation),p("textangle"),g.coerceFont(p,"font",v.font),p("width"),p("align");var f=p("height");if(f&&p("valign"),u){var l=p("arrowside"),y,h;l.indexOf("end")!==-1&&(y=p("arrowhead"),h=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",y),p("startarrowsize",h)),p("arrowcolor",i?w.bordercolor:P.defaultLine),p("arrowwidth",(i&&n||1)*2),p("standoff"),p("startstandoff")}var M=p("hovertext"),c=v.hoverlabel||{};if(M){var o=p("hoverlabel.bgcolor",c.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",c.bordercolor||P.contrast(o));g.coerceFont(p,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||d})}p("captureevents",!!M)}},26828:function(H,j,e){var g=e(38248),P=e(36896);H.exports=function(x,w,v,p){w=w||{};var r=v==="log"&&w.type==="linear",t=v==="linear"&&w.type==="log";if(!(r||t))return;var i=x._fullLayout.annotations,n=w._id.charAt(0),u,f;function l(h){var M=u[h],c=null;r?c=P(M,w.range):c=Math.pow(10,M),g(c)||(c=null),p(f+h,c)}for(var y=0;y<i.length;y++)u=i[y],f="annotations["+y+"].",u[n+"ref"]===w._id&&l(n),u["a"+n+"ref"]===w._id&&l("a"+n)}},45216:function(H,j,e){var g=e(3400),P=e(54460),a=e(51272),x=e(87192),w=e(13916);H.exports=function(r,t){a(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function i(b,s){return g.coerce(p,r,w,b,s)}var n=i("visible"),u=i("clicktoshow");if(n||u){x(p,r,t,i);for(var f=r.showarrow,l=["x","y"],y=[-10,-30],h={_fullLayout:t},M=0;M<2;M++){var c=l[M],o=P.coerceRef(p,r,h,c,"","paper");if(o!=="paper"){var d=P.getFromId(h,o);d._annIndices.push(r._index)}if(P.coercePosition(r,h,i,o,c,.5),f){var T="a"+c,S=P.coerceRef(p,r,h,T,"pixel",["pixel","paper"]);S!=="pixel"&&S!==o&&(S=r[T]="pixel");var C=S==="pixel"?y[M]:.4;P.coercePosition(r,h,i,S,T,C)}i(c+"anchor"),i(c+"shift")}if(g.noneOrAll(p,r,["x","y"]),f&&g.noneOrAll(p,r,["ax","ay"]),u){var m=i("xclick"),E=i("yclick");r._xclick=m===void 0?r.x:P.cleanPosition(m,h,r.xref),r._yclick=E===void 0?r.y:P.cleanPosition(E,h,r.yref)}}}},23816:function(H,j,e){var g=e(33428),P=e(24040),a=e(7316),x=e(3400),w=x.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),i=e(72736),n=e(93972),u=e(86476),f=e(31780).arrayEditor,l=e(33652);H.exports={draw:y,drawOne:h,drawRaw:c};function y(o){var d=o._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var T=0;T<d.annotations.length;T++)d.annotations[T].visible&&h(o,T);return a.previousPromises(o)}function h(o,d){var T=o._fullLayout,S=T.annotations[d]||{},C=v.getFromId(o,S.xref),m=v.getFromId(o,S.yref);C&&C.setScale(),m&&m.setScale(),c(o,S,d,!1,C,m)}function M(o,d,T,S,C){var m=C[T],E=C[T+"ref"],b=T.indexOf("y")!==-1,s=v.getRefType(E)==="domain",L=b?S.h:S.w;return o?s?m+(b?-d:d)/o._length:o.p2r(o.r2p(m)+d):m+(b?-d:d)/L}function c(o,d,T,S,C,m){var E=o._fullLayout,b=o._fullLayout._size,s=o._context.edits,L,A;S?(L="annotation-"+S,A=S+".annotations"):(L="annotation",A="annotations");var k=f(o.layout,A,d),_=k.modifyBase,U=k.modifyItem,F=k.getUpdateObj;E._infolayer.selectAll("."+L+'[data-index="'+T+'"]').remove();var z="clip"+E._uid+"_ann"+T;if(!d._input||d.visible===!1){g.selectAll("#"+z).remove();return}var B={x:{},y:{}},N=+d.textangle||0,V=E._infolayer.append("g").classed(L,!0).attr("data-index",String(T)).style("opacity",d.opacity),W=V.append("g").classed("annotation-text-g",!0),Q=s[d.showarrow?"annotationTail":"annotationPosition"],re=d.captureevents||s.annotationText||Q;function ne(ye){var Ce={index:T,annotation:d._input,fullAnnotation:d,event:ye};return S&&(Ce.subplotId=S),Ce}var fe=W.append("g").style("pointer-events",re?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",ne(g.event))});d.hovertext&&fe.on("mouseover",function(){var ye=d.hoverlabel,Ce=ye.font,Ae=this.getBoundingClientRect(),ke=o.getBoundingClientRect();t.loneHover({x0:Ae.left-ke.left,x1:Ae.right-ke.left,y:(Ae.top+Ae.bottom)/2-ke.top,text:d.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:Ce.family,fontSize:Ce.size,fontColor:Ce.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:o})}).on("mouseout",function(){t.loneUnhover(E._hoverlayer.node())});var $=d.borderwidth,X=d.borderpad,oe=$+X,Y=fe.append("rect").attr("class","bg").style("stroke-width",$+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),ee=d.width||d.height,se=E._topclips.selectAll("#"+z).data(ee?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),se.exit().remove();var q=d.font,K=E._meta?x.templateString(d.text,E._meta):d.text,le=fe.append("text").classed("annotation-text",!0).text(K);function ie(ye){return ye.call(r.font,q).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),i.convertToTspans(ye,o,he),ye}function he(){var ye=le.selectAll("a");if(ye.size()===1&&ye.text()===le.text()){var Ce=fe.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"});Ce.node().appendChild(Y.node())}var Ae=fe.select(".annotation-text-math-group"),ke=!Ae.empty(),we=r.bBox((ke?Ae:le).node()),Ee=we.width,xe=we.height,Re=d.width||Ee,Ve=d.height||xe,Ue=Math.round(Re+2*oe),Be=Math.round(Ve+2*oe);function Xe(yr,sr){return sr==="auto"&&(yr<.3333333333333333?sr="left":yr>.6666666666666666?sr="right":sr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[sr]}for(var ut=!1,dt=["x","y"],at=0;at<dt.length;at++){var We=dt[at],rt=d[We+"ref"]||We,st=d["a"+We+"ref"],ht={x:C,y:m}[We],vt=(N+(We==="x"?0:-90))*Math.PI/180,At=Ue*Math.cos(vt),tt=Be*Math.sin(vt),_e=Math.abs(At)+Math.abs(tt),je=d[We+"anchor"],Ke=d[We+"shift"]*(We==="x"?1:-1),He=B[We],Ie,be,me,Me,Te,ze=v.getRefType(rt);if(ht&&ze!=="domain"){var Je=ht.r2fraction(d[We]);(Je<0||Je>1)&&(st===rt?(Je=ht.r2fraction(d["a"+We]),(Je<0||Je>1)&&(ut=!0)):ut=!0),Ie=ht._offset+ht.r2p(d[We]),Me=.5}else{var nt=ze==="domain";We==="x"?(me=d[We],Ie=nt?ht._offset+ht._length*me:Ie=b.l+b.w*me):(me=1-d[We],Ie=nt?ht._offset+ht._length*me:Ie=b.t+b.h*me),Me=d.showarrow?.5:me}if(d.showarrow){He.head=Ie;var pt=d["a"+We];if(Te=At*Xe(.5,d.xanchor)-tt*Xe(.5,d.yanchor),st===rt){var yt=v.getRefType(st);yt==="domain"?(We==="y"&&(pt=1-pt),He.tail=ht._offset+ht._length*pt):yt==="paper"?We==="y"?(pt=1-pt,He.tail=b.t+b.h*pt):He.tail=b.l+b.w*pt:He.tail=ht._offset+ht.r2p(pt),be=Te}else He.tail=Ie+pt,be=Te+pt;He.text=He.tail+Te;var Yt=E[We==="x"?"width":"height"];if(rt==="paper"&&(He.head=x.constrain(He.head,1,Yt-1)),st==="pixel"){var Xt=-Math.max(He.tail-3,He.text),St=Math.min(He.tail+3,He.text)-Yt;Xt>0?(He.tail+=Xt,He.text+=Xt):St>0&&(He.tail-=St,He.text-=St)}He.tail+=Ke,He.head+=Ke}else Te=_e*Xe(Me,je),be=Te,He.text=Ie+Te;He.text+=Ke,Te+=Ke,be+=Ke,d["_"+We+"padplus"]=_e/2+be,d["_"+We+"padminus"]=_e/2-be,d["_"+We+"size"]=_e,d["_"+We+"shift"]=Te}if(ut){fe.remove();return}var kt=0,Kt=0;if(d.align!=="left"&&(kt=(Re-Ee)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Kt=(Ve-xe)*(d.valign==="middle"?.5:1)),ke)Ae.select("svg").attr({x:oe+kt-1,y:oe+Kt}).call(r.setClipUrl,ee?z:null,o);else{var mr=oe+Kt-we.top,mt=oe+kt-we.left;le.call(i.positionText,mt,mr).call(r.setClipUrl,ee?z:null,o)}se.select("rect").call(r.setRect,oe,oe,Re,Ve),Y.call(r.setRect,$/2,$/2,Ue-$,Be-$),fe.call(r.setTranslate,Math.round(B.x.text-Ue/2),Math.round(B.y.text-Be/2)),W.attr({transform:"rotate("+N+","+B.x.text+","+B.y.text+")"});var Zt=function(yr,sr){V.selectAll(".annotation-arrow-g").remove();var bt=B.x.head,lt=B.y.head,Tt=B.x.tail+yr,Ct=B.y.tail+sr,It=B.x.text+yr,Dt=B.y.text+sr,Vt=x.rotationXYMatrix(N,It,Dt),Bt=x.apply2DTransform(Vt),$t=x.apply2DTransform2(Vt),fr=+Y.attr("width"),cr=+Y.attr("height"),dr=It-.5*fr,Ye=dr+fr,Ge=Dt-.5*cr,zt=Ge+cr,Ft=[[dr,Ge,dr,zt],[dr,zt,Ye,zt],[Ye,zt,Ye,Ge],[Ye,Ge,dr,Ge]].map($t);if(!Ft.reduce(function(_r,hn){return _r^!!x.segmentsIntersect(bt,lt,bt+1e6,lt+1e6,hn[0],hn[1],hn[2],hn[3])},!1)){Ft.forEach(function(_r){var hn=x.segmentsIntersect(Tt,Ct,bt,lt,_r[0],_r[1],_r[2],_r[3]);hn&&(Tt=hn.x,Ct=hn.y)});var Jt=d.arrowwidth,tr=d.arrowcolor,ur=d.arrowside,nr=V.append("g").style({opacity:p.opacity(tr)}).classed("annotation-arrow-g",!0),Nt=nr.append("path").attr("d","M"+Tt+","+Ct+"L"+bt+","+lt).style("stroke-width",Jt+"px").call(p.stroke,p.rgb(tr));if(l(Nt,ur,d),s.annotationPosition&&Nt.node().parentNode&&!S){var hr=bt,gr=lt;if(d.standoff){var br=Math.sqrt(Math.pow(bt-Tt,2)+Math.pow(lt-Ct,2));hr+=d.standoff*(Tt-bt)/br,gr+=d.standoff*(Ct-lt)/br}var vr=nr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Tt-hr)+","+(Ct-gr),transform:w(hr,gr)}).style("stroke-width",Jt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Gr,Dr;u.init({element:vr.node(),gd:o,prepFn:function(){var _r=r.getTranslate(fe);Gr=_r.x,Dr=_r.y,C&&C.autorange&&_(C._name+".autorange",!0),m&&m.autorange&&_(m._name+".autorange",!0)},moveFn:function(_r,hn){var nn=Bt(Gr,Dr),Pn=nn[0]+_r,Cn=nn[1]+hn;fe.call(r.setTranslate,Pn,Cn),U("x",M(C,_r,"x",b,d)),U("y",M(m,hn,"y",b,d)),d.axref===d.xref&&U("ax",M(C,_r,"ax",b,d)),d.ayref===d.yref&&U("ay",M(m,hn,"ay",b,d)),nr.attr("transform",w(_r,hn)),W.attr({transform:"rotate("+N+","+Pn+","+Cn+")"})},doneFn:function(){P.call("_guiRelayout",o,F());var _r=document.querySelector(".js-notes-box-panel");_r&&_r.redraw(_r.selectedObj)}})}}};if(d.showarrow&&Zt(0,0),Q){var Qt;u.init({element:fe.node(),gd:o,prepFn:function(){Qt=W.attr("transform")},moveFn:function(yr,sr){var bt="pointer";if(d.showarrow)d.axref===d.xref?U("ax",M(C,yr,"ax",b,d)):U("ax",d.ax+yr),d.ayref===d.yref?U("ay",M(m,sr,"ay",b.w,d)):U("ay",d.ay+sr),Zt(yr,sr);else{if(S)return;var lt,Tt;if(C)lt=M(C,yr,"x",b,d);else{var Ct=d._xsize/b.w,It=d.x+(d._xshift-d.xshift)/b.w-Ct/2;lt=u.align(It+yr/b.w,Ct,0,1,d.xanchor)}if(m)Tt=M(m,sr,"y",b,d);else{var Dt=d._ysize/b.h,Vt=d.y-(d._yshift+d.yshift)/b.h-Dt/2;Tt=u.align(Vt-sr/b.h,Dt,0,1,d.yanchor)}U("x",lt),U("y",Tt),(!C||!m)&&(bt=u.getCursor(C?.5:lt,m?.5:Tt,d.xanchor,d.yanchor))}W.attr({transform:w(yr,sr)+Qt}),n(fe,bt)},clickFn:function(yr,sr){d.captureevents&&o.emit("plotly_clickannotation",ne(sr))},doneFn:function(){n(fe),P.call("_guiRelayout",o,F());var yr=document.querySelector(".js-notes-box-panel");yr&&yr.redraw(yr.selectedObj)}})}}s.annotationText?le.call(i.makeEditable,{delegate:fe,gd:o}).call(ie).on("edit",function(ye){d.text=ye,this.call(ie),U("text",ye),C&&C.autorange&&_(C._name+".autorange",!0),m&&m.autorange&&_(m._name+".autorange",!0),P.call("_guiRelayout",o,F())}):le.call(ie)}},33652:function(H,j,e){var g=e(33428),P=e(76308),a=e(72196),x=e(3400),w=x.strScale,v=x.strRotate,p=x.strTranslate;H.exports=function(t,i,n){var u=t.node(),f=a[n.arrowhead||0],l=a[n.startarrowhead||0],y=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),M=i.indexOf("start")>=0,c=i.indexOf("end")>=0,o=f.backoff*y+n.standoff,d=l.backoff*h+n.startstandoff,T,S,C,m;if(u.nodeName==="line"){T={x:+t.attr("x1"),y:+t.attr("y1")},S={x:+t.attr("x2"),y:+t.attr("y2")};var E=T.x-S.x,b=T.y-S.y;if(C=Math.atan2(b,E),m=C+Math.PI,o&&d&&o+d>Math.sqrt(E*E+b*b)){W();return}if(o){if(o*o>E*E+b*b){W();return}var s=o*Math.cos(C),L=o*Math.sin(C);S.x+=s,S.y+=L,t.attr({x2:S.x,y2:S.y})}if(d){if(d*d>E*E+b*b){W();return}var A=d*Math.cos(C),k=d*Math.sin(C);T.x-=A,T.y-=k,t.attr({x1:T.x,y1:T.y})}}else if(u.nodeName==="path"){var _=u.getTotalLength(),U="";if(_<o+d){W();return}var F=u.getPointAtLength(0),z=u.getPointAtLength(.1);C=Math.atan2(F.y-z.y,F.x-z.x),T=u.getPointAtLength(Math.min(d,_)),U="0px,"+d+"px,";var B=u.getPointAtLength(_),N=u.getPointAtLength(_-.1);m=Math.atan2(B.y-N.y,B.x-N.x),S=u.getPointAtLength(Math.max(0,_-o));var V=U?d+o:o;U+=_-V+"px,"+_+"px",t.style("stroke-dasharray",U)}function W(){t.style("stroke-dasharray","0px,100px")}function Q(re,ne,fe,$){re.path&&(re.noRotate&&(fe=0),g.select(u.parentNode).append("path").attr({class:t.attr("class"),d:re.path,transform:p(ne.x,ne.y)+v(fe*180/Math.PI)+w($)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}M&&Q(l,T,C,h),c&&Q(f,S,m,y)}},79180:function(H,j,e){var g=e(23816),P=e(42300);H.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(H,j,e){var g=e(13916),P=e(67824).overrideAll,a=e(31780).templatedArray;H.exports=P(a("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},42456:function(H,j,e){var g=e(3400),P=e(54460);H.exports=function(w){for(var v=w.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)a(p[r],w);w.fullLayout._infolayer.selectAll(".annotation-"+w.id).remove()};function a(x,w){var v=w.fullSceneLayout,p=v.domain,r=w.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};x._xa={},g.extendFlat(x._xa,t),P.setConvert(x._xa),x._xa._offset=r.l+p.x[0]*r.w,x._xa.l2p=function(){return .5*(1+x._pdata[0]/x._pdata[3])*r.w*(p.x[1]-p.x[0])},x._ya={},g.extendFlat(x._ya,t),P.setConvert(x._ya),x._ya._offset=r.t+(1-p.y[1])*r.h,x._ya.l2p=function(){return .5*(1-x._pdata[1]/x._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(H,j,e){var g=e(3400),P=e(54460),a=e(51272),x=e(87192),w=e(45899);H.exports=function(r,t,i){a(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:i.fullLayout})};function v(p,r,t,i){function n(l,y){return g.coerce(p,r,w,l,y)}function u(l){var y=l+"axis",h={_fullLayout:{}};return h._fullLayout[y]=t[y],P.coercePosition(r,h,n,l,l,.5)}var f=n("visible");f&&(x(p,r,i.fullLayout,n),u("x"),u("y"),u("z"),g.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(p,r,["ax","ay"])))}},71836:function(H,j,e){var g=e(23816).drawRaw,P=e(94424),a=["x","y","z"];H.exports=function(w){for(var v=w.fullSceneLayout,p=w.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var i=r[t],n=!1,u=0;u<3;u++){var f=a[u],l=i[f],y=v[f+"axis"],h=y.r2fraction(l);if(h<0||h>1){n=!0;break}}n?w.fullLayout._infolayer.select(".annotation-"+w.id+'[data-index="'+t+'"]').remove():(i._pdata=P(w.glplot.cameraParams,[v.xaxis.r2l(i.x)*p[0],v.yaxis.r2l(i.y)*p[1],v.zaxis.r2l(i.z)*p[2]]),g(w.graphDiv,i,t,w.id,i._xa,i._ya))}}},56864:function(H,j,e){var g=e(24040),P=e(3400);H.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:a,convert:e(42456),draw:e(71836)};function a(x,w){var v=g.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(x),t=0;t<r.length;t++){var i=r[t];p.test(i)&&(x[i].annotations||[]).length&&(P.pushUnique(w._basePlotModules,v),P.pushUnique(w._subplots.gl3d,i))}}},54976:function(H,j,e){H.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(H,j,e){var g=e(54976),P=e(3400),a=e(39032),x=a.EPOCHJD,w=a.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},p=function(C,m,E,b){var s={};return s[E]=v,P.coerce(C,m,s,E,b)},r=function(C,m,E,b){for(var s=0;s<E.length;s++)p(C,m,E[s]+"calendar",b.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},i={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},u="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:u,w:u,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(C,m,E){for(var b=Math.floor((m+.05)/w)+x,s=h(E).fromJD(b),L=0,A,k,_,U,F;(L=C.indexOf("%",L))!==-1;)A=C.charAt(L+1),A==="0"||A==="-"||A==="_"?(_=3,k=C.charAt(L+2),A==="_"&&(A="-")):(k=A,A="0",_=2),U=f[k],U?(U===u?F=u:F=s.formatDate(U[A]),C=C.substr(0,L)+F+C.substr(L+_),L+=F.length):L+=_;return C}var y={};function h(C){var m=y[C];return m||(m=y[C]=g.instance(C),m)}function M(C){return P.extendFlat({},v,{description:C})}function c(C){return"Sets the calendar system to use with `"+C+"` date data."}var o={xcalendar:M(c("x"))},d=P.extendFlat({},o,{ycalendar:M(c("y"))}),T=P.extendFlat({},d,{zcalendar:M(c("z"))}),S=M(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));H.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:T,surface:T,mesh3d:T,scattergl:d,ohlc:o,candlestick:o},layout:{calendar:M(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:S},yaxis:{calendar:S},scene:{xaxis:{calendar:S},yaxis:{calendar:S},zaxis:{calendar:S}},polar:{radialaxis:{calendar:S}}},transforms:{filter:{valuecalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:i,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:l}},22548:function(H,j){j.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],j.defaultLine="#444",j.lightLine="#eee",j.background="#fff",j.borderLine="#BEC8D9",j.lightFraction=90.9090909090909},76308:function(H,j,e){var g=e(49760),P=e(38248),a=e(38116).isTypedArray,x=H.exports={},w=e(22548);x.defaults=w.defaults;var v=x.defaultLine=w.defaultLine;x.lightLine=w.lightLine;var p=x.background=w.background;x.tinyRGB=function(t){var i=t.toRgb();return"rgb("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+")"},x.rgb=function(t){return x.tinyRGB(g(t))},x.opacity=function(t){return t?g(t).getAlpha():0},x.addOpacity=function(t,i){var n=g(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+i+")"},x.combine=function(t,i){var n=g(t).toRgb();if(n.a===1)return g(t).toRgbString();var u=g(i||p).toRgb(),f=u.a===1?u:{r:255*(1-u.a)+u.r*u.a,g:255*(1-u.a)+u.g*u.a,b:255*(1-u.a)+u.b*u.a},l={r:f.r*(1-n.a)+n.r*n.a,g:f.g*(1-n.a)+n.g*n.a,b:f.b*(1-n.a)+n.b*n.a};return g(l).toRgbString()},x.interpolate=function(t,i,n){var u=g(t).toRgb(),f=g(i).toRgb(),l={r:n*u.r+(1-n)*f.r,g:n*u.g+(1-n)*f.g,b:n*u.b+(1-n)*f.b};return g(l).toRgbString()},x.contrast=function(t,i,n){var u=g(t);u.getAlpha()!==1&&(u=g(x.combine(t,p)));var f=u.isDark()?i?u.lighten(i):p:n?u.darken(n):v;return f.toString()},x.stroke=function(t,i){var n=g(i);t.style({stroke:x.tinyRGB(n),"stroke-opacity":n.getAlpha()})},x.fill=function(t,i){var n=g(i);t.style({fill:x.tinyRGB(n),"fill-opacity":n.getAlpha()})},x.clean=function(t){if(!(!t||typeof t!="object")){var i=Object.keys(t),n,u,f,l;for(n=0;n<i.length;n++)if(f=i[n],l=t[f],f.substr(f.length-5)==="color")if(Array.isArray(l))for(u=0;u<l.length;u++)l[u]=r(l[u]);else t[f]=r(l);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(l))for(u=0;u<l.length;u++)Array.isArray(l[u])&&(l[u][1]=r(l[u][1]));else if(Array.isArray(l)){var y=l[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(u=0;u<l.length;u++)x.clean(l[u])}else l&&typeof l=="object"&&!a(l)&&x.clean(l)}};function r(t){if(P(t)||typeof t!="string")return t;var i=t.trim();if(i.substr(0,3)!=="rgb")return t;var n=i.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var u=n[1].trim().split(/\s*[\s,]\s*/),f=i.charAt(3)==="a"&&u.length===4;if(!f&&u.length!==3)return t;for(var l=0;l<u.length;l++){if(!u[l].length||(u[l]=Number(u[l]),!(u[l]>=0)))return t;if(l===3)u[l]>1&&(u[l]=1);else if(u[l]>=1)return t}var y=Math.round(u[0]*255)+", "+Math.round(u[1]*255)+", "+Math.round(u[2]*255);return f?"rgba("+y+", "+u[3]+")":"rgb("+y+")"}},42996:function(H,j,e){var g=e(94724),P=e(25376),a=e(92880).extendFlat,x=e(67824).overrideAll;H.exports=x({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:a({},g.ticks,{dflt:""}),ticklabeloverflow:a({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:P({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(H){H.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(H,j,e){var g=e(3400),P=e(31780),a=e(26332),x=e(25404),w=e(95936),v=e(42568),p=e(42996);H.exports=function(t,i,n){var u=P.newContainer(i,"colorbar"),f=t.colorbar||{};function l(B,N){return g.coerce(f,u,p,B,N)}var y=n.margin||{t:0,b:0,l:0,r:0},h=n.width-y.l-y.r,M=n.height-y.t-y.b,c=l("orientation"),o=c==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(o?h:M):30);var T=l("lenmode");l("len",T==="fraction"?1:o?M:h);var S=l("yref"),C=l("xref"),m=S==="paper",E=C==="paper",b,s,L,A="left";o?(L="middle",A=E?"left":"right",b=E?1.02:1,s=.5):(L=m?"bottom":"top",A="center",b=.5,s=m?1.02:1),g.coerce(f,u,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:b}},"x"),g.coerce(f,u,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:s}},"y"),l("xanchor",A),l("xpad"),l("yanchor",L),l("ypad"),g.noneOrAll(f,u,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var k=g.coerce(f,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(f,u,l,"linear");var _=n.font,U={noAutotickangles:!0,outerTicks:!1,font:_};k.indexOf("inside")!==-1&&(U.bgColor="black"),v(f,u,l,"linear",U),w(f,u,l,"linear",U),x(f,u,l,"linear",U),l("title.text",n._dfltTitle.colorbar);var F=u.showticklabels?u.tickfont:_,z=g.extendFlat({},F,{color:_.color,size:g.bigFont(F.size)});g.coerceFont(l,"title.font",z),l("title.side",o?"top":"right")}},37848:function(H,j,e){var g=e(33428),P=e(49760),a=e(7316),x=e(24040),w=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,i=e(93972),n=e(43616),u=e(76308),f=e(81668),l=e(72736),y=e(94288).flipScale,h=e(28336),M=e(37668),c=e(94724),o=e(84284),d=o.LINE_SPACING,T=o.FROM_TL,S=o.FROM_BR,C=e(63964).cn;function m(k){var _=k._fullLayout,U=_._infolayer.selectAll("g."+C.colorbar).data(E(k),function(F){return F._id});U.enter().append("g").attr("class",function(F){return F._id}).classed(C.colorbar,!0),U.each(function(F){var z=g.select(this);p.ensureSingle(z,"rect",C.cbbg),p.ensureSingle(z,"g",C.cbfills),p.ensureSingle(z,"g",C.cblines),p.ensureSingle(z,"g",C.cbaxis,function(N){N.classed(C.crisp,!0)}),p.ensureSingle(z,"g",C.cbtitleunshift,function(N){N.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(z,"rect",C.cboutline);var B=b(z,F,k);B&&B.then&&(k._promises||[]).push(B),k._context.edits.colorbarPosition&&s(z,F,k)}),U.exit().each(function(F){a.autoMargin(k,F._id)}).remove(),U.order()}function E(k){var _=k._fullLayout,U=k.calcdata,F=[],z,B,N,V;function W(q){return t(q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Q(){typeof V.calc=="function"?V.calc(k,N,z):(z._fillgradient=B.reversescale?y(B.colorscale):B.colorscale,z._zrange=[B[V.min],B[V.max]])}for(var re=0;re<U.length;re++){var ne=U[re];if(N=ne[0].trace,!!N._module){var fe=N._module.colorbar;if(N.visible===!0&&fe)for(var $=Array.isArray(fe),X=$?fe:[fe],oe=0;oe<X.length;oe++){V=X[oe];var Y=V.container;B=Y?N[Y]:N,B&&B.showscale&&(z=W(B.colorbar),z._id="cb"+N.uid+($&&Y?"-"+Y:""),z._traceIndex=N.index,z._propPrefix=(Y?Y+".":"")+"colorbar.",z._meta=N._meta,Q(),F.push(z))}}}for(var ee in _._colorAxes)if(B=_[ee],B.showscale){var se=_._colorAxes[ee];z=W(B.colorbar),z._id="cb"+ee,z._propPrefix=ee+".colorbar.",z._meta=_._meta,V={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(N=se[1],V.calc=N._module.colorbar.calc),Q(),F.push(z)}return F}function b(k,_,U){var F=_.orientation==="v",z=_.len,B=_.lenmode,N=_.thickness,V=_.thicknessmode,W=_.outlinewidth,Q=_.borderwidth,re=_.bgcolor,ne=_.xanchor,fe=_.yanchor,$=_.xpad,X=_.ypad,oe=_.x,Y=F?_.y:1-_.y,ee=_.yref==="paper",se=_.xref==="paper",q=U._fullLayout,K=q._size,le=_._fillcolor,ie=_._line,he=_.title,ye=he.side,Ce=_._zrange||g.extent((typeof le=="function"?le:ie.color).domain()),Ae=typeof ie.color=="function"?ie.color:function(){return ie.color},ke=typeof le=="function"?le:function(){return le},we=_._levels,Ee=L(U,_,Ce),xe=Ee.fill,Re=Ee.line,Ve=Math.round(N*(V==="fraction"?F?K.w:K.h:1)),Ue=Ve/(F?K.w:K.h),Be=Math.round(z*(B==="fraction"?F?K.h:K.w:1)),Xe=Be/(F?K.h:K.w),ut=se?K.w:U._fullLayout.width,dt=ee?K.h:U._fullLayout.height,at=Math.round(F?oe*ut+$:Y*dt+X),We={center:.5,right:1}[ne]||0,rt={top:1,middle:.5}[fe]||0,st=F?oe-We*Ue:Y-rt*Ue,ht=F?Y-rt*Xe:oe-We*Xe,vt=Math.round(F?dt*(1-ht):ut*ht);_._lenFrac=Xe,_._thickFrac=Ue,_._uFrac=st,_._vFrac=ht;var At=_._axis=A(U,_,Ce);At.position=Ue+(F?oe+$/K.w:Y+X/K.h);var tt=["top","bottom"].indexOf(ye)!==-1;if(F&&tt&&(At.title.side=ye,At.titlex=oe+$/K.w,At.titley=ht+(he.side==="top"?Xe-X/K.h:X/K.h)),!F&&!tt&&(At.title.side=ye,At.titley=Y+X/K.h,At.titlex=ht+$/K.w),ie.color&&_.tickmode==="auto"){At.tickmode="linear",At.tick0=we.start;var _e=we.size,je=p.constrain(Be/50,4,15)+1,Ke=(Ce[1]-Ce[0])/((_.nticks||je)*_e);if(Ke>1){var He=Math.pow(10,Math.floor(Math.log(Ke)/Math.LN10));_e*=He*p.roundUp(Ke/He,[2,5,10]),(Math.abs(we.start)/we.size+1e-6)%1<2e-6&&(At.tick0=0)}At.dtick=_e}At.domain=F?[ht+X/K.h,ht+Xe-X/K.h]:[ht+$/K.w,ht+Xe-$/K.w],At.setScale(),k.attr("transform",r(Math.round(K.l),Math.round(K.t)));var Ie=k.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(K.l),-Math.round(K.t))),be=At.ticklabelposition,me=At.title.font.size,Me=k.select("."+C.cbaxis),Te,ze=0,Je=0;function nt(St,kt){var Kt={propContainer:At,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:q._dfltTitle.colorbar,containerGroup:k.select("."+C.cbtitle)},mr=St.charAt(0)==="h"?St.substr(1):"h"+St;k.selectAll("."+mr+",."+mr+"-math-group").remove(),f.draw(U,St,t(Kt,kt||{}))}function pt(){if(F&&tt||!F&&!tt){var St,kt;ye==="top"&&(St=$+K.l+ut*oe,kt=X+K.t+dt*(1-ht-Xe)+3+me*.75),ye==="bottom"&&(St=$+K.l+ut*oe,kt=X+K.t+dt*(1-ht)-3-me*.25),ye==="right"&&(kt=X+K.t+dt*Y+3+me*.75,St=$+K.l+ut*ht),nt(At._id+"title",{attributes:{x:St,y:kt,"text-anchor":F?"start":"middle"}})}}function yt(){if(F&&!tt||!F&&tt){var St=At.position||0,kt=At._offset+At._length/2,Kt,mr;if(ye==="right")mr=kt,Kt=K.l+ut*St+10+me*(At.showticklabels?1:.5);else if(Kt=kt,ye==="bottom"&&(mr=K.t+dt*St+10+(be.indexOf("inside")===-1?At.tickfont.size:0)+(At.ticks!=="intside"&&_.ticklen||0)),ye==="top"){var mt=he.text.split("<br>").length;mr=K.t+dt*St+10-Ve-d*me*mt}nt((F?"h":"v")+At._id+"title",{avoid:{selection:g.select(U).selectAll("g."+At._id+"tick"),side:ye,offsetTop:F?0:K.t,offsetLeft:F?K.l:0,maxShift:F?q.width:q.height},attributes:{x:Kt,y:mr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function Yt(){if(!F&&!tt||F&&tt){var St=k.select("."+C.cbtitle),kt=St.select("text"),Kt=[-W/2,W/2],mr=St.select(".h"+At._id+"title-math-group").node(),mt=15.6;kt.node()&&(mt=parseInt(kt.node().style.fontSize,10)*d);var Zt;if(mr?(Zt=n.bBox(mr),Je=Zt.width,ze=Zt.height,ze>mt&&(Kt[1]-=(ze-mt)/2)):kt.node()&&!kt.classed(C.jsPlaceholder)&&(Zt=n.bBox(kt.node()),Je=Zt.width,ze=Zt.height),F){if(ze){if(ze+=5,ye==="top")At.domain[1]-=ze/K.h,Kt[1]*=-1;else{At.domain[0]+=ze/K.h;var Qt=l.lineCount(kt);Kt[1]+=(1-Qt)*mt}St.attr("transform",r(Kt[0],Kt[1])),At.setScale()}}else Je&&(ye==="right"&&(At.domain[0]+=(Je+me/2)/K.w),St.attr("transform",r(Kt[0],Kt[1])),At.setScale())}k.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",F?r(0,Math.round(K.h*(1-At.domain[1]))):r(Math.round(K.w*At.domain[0]),0)),Me.attr("transform",F?r(0,Math.round(-K.t)):r(Math.round(-K.l),0));var yr=k.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(xe);yr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),yr.exit().remove();var sr=Ce.map(At.c2p).map(Math.round).sort(function(It,Dt){return It-Dt});yr.each(function(It,Dt){var Vt=[Dt===0?Ce[0]:(xe[Dt]+xe[Dt-1])/2,Dt===xe.length-1?Ce[1]:(xe[Dt]+xe[Dt+1])/2].map(At.c2p).map(Math.round);F&&(Vt[1]=p.constrain(Vt[1]+(Vt[1]>Vt[0])?1:-1,sr[0],sr[1]));var Bt=g.select(this).attr(F?"x":"y",at).attr(F?"y":"x",g.min(Vt)).attr(F?"width":"height",Math.max(Ve,2)).attr(F?"height":"width",Math.max(g.max(Vt)-g.min(Vt),2));if(_._fillgradient)n.gradient(Bt,U,_._id,F?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var $t=ke(It).replace("e-","");Bt.attr("fill",P($t).toHexString())}});var bt=k.select("."+C.cblines).selectAll("path."+C.cbline).data(ie.color&&ie.width?Re:[]);bt.enter().append("path").classed(C.cbline,!0),bt.exit().remove(),bt.each(function(It){var Dt=at,Vt=Math.round(At.c2p(It))+ie.width/2%1;g.select(this).attr("d","M"+(F?Dt+","+Vt:Vt+","+Dt)+(F?"h":"v")+Ve).call(n.lineGroupStyle,ie.width,Ae(It),ie.dash)}),Me.selectAll("g."+At._id+"tick,path").remove();var lt=at+Ve+(W||0)/2-(_.ticks==="outside"?1:0),Tt=w.calcTicks(At),Ct=w.getTickSigns(At)[2];return w.drawTicks(U,At,{vals:At.ticks==="inside"?w.clipEnds(At,Tt):Tt,layer:Me,path:w.makeTickPath(At,lt,Ct),transFn:w.makeTransTickFn(At)}),w.drawLabels(U,At,{vals:Tt,layer:Me,transFn:w.makeTransTickLabelFn(At),labelFns:w.makeLabelFns(At,lt)})}function Xt(){var St,kt=Ve+W/2;be.indexOf("inside")===-1&&(St=n.bBox(Me.node()),kt+=F?St.width:St.height),Te=Ie.select("text");var Kt=0,mr=F&&ye==="top",mt=!F&&ye==="right",Zt=0;if(Te.node()&&!Te.classed(C.jsPlaceholder)){var Qt,yr=Ie.select(".h"+At._id+"title-math-group").node();yr&&(F&&tt||!F&&!tt)?(St=n.bBox(yr),Kt=St.width,Qt=St.height):(St=n.bBox(Ie.node()),Kt=St.right-K.l-(F?at:vt),Qt=St.bottom-K.t-(F?vt:at),!F&&ye==="top"&&(kt+=St.height,Zt=St.height)),mt&&(Te.attr("transform",r(Kt/2+me/2,0)),Kt*=2),kt=Math.max(kt,F?Kt:Qt)}var sr=(F?$:X)*2+kt+Q+W/2,bt=0;!F&&he.text&&fe==="bottom"&&Y<=0&&(bt=sr/2,sr+=bt,Zt+=bt),q._hColorbarMoveTitle=bt,q._hColorbarMoveCBTitle=Zt;var lt=Q+W,Tt=(F?at:vt)-lt/2-(F?$:0),Ct=(F?vt:at)-(F?Be:X+Zt-bt);k.select("."+C.cbbg).attr("x",Tt).attr("y",Ct).attr(F?"width":"height",Math.max(sr-bt,2)).attr(F?"height":"width",Math.max(Be+lt,2)).call(u.fill,re).call(u.stroke,_.bordercolor).style("stroke-width",Q);var It=mt?Math.max(Kt-10,0):0;k.selectAll("."+C.cboutline).attr("x",(F?at:vt+$)+It).attr("y",(F?vt+X-Be:at)+(mr?ze:0)).attr(F?"width":"height",Math.max(Ve,2)).attr(F?"height":"width",Math.max(Be-(F?2*X+ze:2*$+It),2)).call(u.stroke,_.outlinecolor).style({fill:"none","stroke-width":W});var Dt=F?We*sr:0,Vt=F?0:(1-rt)*sr-Zt;if(Dt=se?K.l-Dt:-Dt,Vt=ee?K.t-Vt:-Vt,k.attr("transform",r(Dt,Vt)),!F&&(Q||P(re).getAlpha()&&!P.equals(q.paper_bgcolor,re))){var Bt=Me.selectAll("text"),$t=Bt[0].length,fr=k.select("."+C.cbbg).node(),cr=n.bBox(fr),dr=n.getTranslate(k),Ye=2;Bt.each(function(gr,br){var vr=0,Gr=$t-1;if(br===vr||br===Gr){var Dr=n.bBox(this),_r=n.getTranslate(this),hn;if(br===Gr){var nn=Dr.right+_r.x,Pn=cr.right+dr.x+vt-Q-Ye+oe;hn=Pn-nn,hn>0&&(hn=0)}else if(br===vr){var Cn=Dr.left+_r.x,Ar=cr.left+dr.x+vt+Q+Ye;hn=Ar-Cn,hn<0&&(hn=0)}hn&&($t<3?this.setAttribute("transform","translate("+hn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ge={},zt=T[ne],Ft=S[ne],Jt=T[fe],tr=S[fe],ur=sr-Ve;F?(B==="pixels"?(Ge.y=Y,Ge.t=Be*Jt,Ge.b=Be*tr):(Ge.t=Ge.b=0,Ge.yt=Y+z*Jt,Ge.yb=Y-z*tr),V==="pixels"?(Ge.x=oe,Ge.l=sr*zt,Ge.r=sr*Ft):(Ge.l=ur*zt,Ge.r=ur*Ft,Ge.xl=oe-N*zt,Ge.xr=oe+N*Ft)):(B==="pixels"?(Ge.x=oe,Ge.l=Be*zt,Ge.r=Be*Ft):(Ge.l=Ge.r=0,Ge.xl=oe+z*zt,Ge.xr=oe-z*Ft),V==="pixels"?(Ge.y=1-Y,Ge.t=sr*Jt,Ge.b=sr*tr):(Ge.t=ur*Jt,Ge.b=ur*tr,Ge.yt=Y-N*Jt,Ge.yb=Y+N*tr));var nr=_.y<.5?"b":"t",Nt=_.x<.5?"l":"r";U._fullLayout._reservedMargin[_._id]={};var hr={r:q.width-Tt-Dt,l:Tt+Ge.r,b:q.height-Ct-Vt,t:Ct+Ge.b};se&&ee?a.autoMargin(U,_._id,Ge):se?U._fullLayout._reservedMargin[_._id][nr]=hr[nr]:ee||F?U._fullLayout._reservedMargin[_._id][Nt]=hr[Nt]:U._fullLayout._reservedMargin[_._id][nr]=hr[nr]}return p.syncOrAsync([a.previousPromises,pt,Yt,yt,a.previousPromises,Xt],U)}function s(k,_,U){var F=_.orientation==="v",z=U._fullLayout,B=z._size,N,V,W;v.init({element:k.node(),gd:U,prepFn:function(){N=k.attr("transform"),i(k)},moveFn:function(Q,re){k.attr("transform",N+r(Q,re)),V=v.align((F?_._uFrac:_._vFrac)+Q/B.w,F?_._thickFrac:_._lenFrac,0,1,_.xanchor),W=v.align((F?_._vFrac:1-_._uFrac)-re/B.h,F?_._lenFrac:_._thickFrac,0,1,_.yanchor);var ne=v.getCursor(V,W,_.xanchor,_.yanchor);i(k,ne)},doneFn:function(){if(i(k),V!==void 0&&W!==void 0){var Q={};Q[_._propPrefix+"x"]=V,Q[_._propPrefix+"y"]=W,_._traceIndex!==void 0?x.call("_guiRestyle",U,Q,_._traceIndex):x.call("_guiRelayout",U,Q)}}})}function L(k,_,U){var F=_._levels,z=[],B=[],N,V,W=F.end+F.size/100,Q=F.size,re=1.001*U[0]-.001*U[1],ne=1.001*U[1]-.001*U[0];for(V=0;V<1e5&&(N=F.start+V*Q,!(Q>0?N>=W:N<=W));V++)N>re&&N<ne&&z.push(N);if(_._fillgradient)B=[0];else if(typeof _._fillcolor=="function"){var fe=_._filllevels;if(fe)for(W=fe.end+fe.size/100,Q=fe.size,V=0;V<1e5&&(N=fe.start+V*Q,!(Q>0?N>=W:N<=W));V++)N>U[0]&&N<U[1]&&B.push(N);else B=z.map(function($){return $-F.size/2}),B.push(B[B.length-1]+F.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(B=[0]);return F.size<0&&(z.reverse(),B.reverse()),{line:z,fill:B}}function A(k,_,U){var F=k._fullLayout,z=_.orientation==="v",B={type:"linear",range:U,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:z?"right":"bottom",position:1},N=z?"y":"x",V={type:"linear",_id:N+_._id},W={letter:N,font:F.font,noAutotickangles:N==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function Q(re,ne){return p.coerce(B,V,c,re,ne)}return h(B,V,Q,W,F),M(B,V,Q,W),V}H.exports={draw:m}},90553:function(H,j,e){var g=e(3400);H.exports=function(a){return g.isPlainObject(a.colorbar)}},55080:function(H,j,e){H.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(H,j,e){var g=e(42996),P=e(53756).counter,a=e(95376),x=e(88304).scales;a(x),H.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",i="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?x[p.colorscaleDflt]:null,u=p.editTypeOverride||"",f;"colorAttr"in p?(f=p.colorAttr,p.colorAttr):f={z:"z",c:"color"}[r];var l=r+"auto",y=r+"min",h=r+"max",M=r+"mid",c={};c[y]=c[h]=void 0;var o={};o[l]=!1;var d={};return f==="color"&&(d.color={valType:"color",arrayOk:!0,editType:u||"style"},p.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[y]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:o},d[h]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:o},d[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:i,editType:"calc"},d.colorbar=g),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(H,j,e){var g=e(38248),P=e(3400),a=e(94288).extractOpts;H.exports=function(w,v,p){var r=w._fullLayout,t=p.vals,i=p.containerStr,n=i?P.nestedProperty(v,i).get():v,u=a(n),f=u.auto!==!1,l=u.min,y=u.max,h=u.mid,M=function(){return P.aggNums(Math.min,null,t)},c=function(){return P.aggNums(Math.max,null,t)};if(l===void 0?l=M():f&&(n._colorAx&&g(l)?l=Math.min(l,M()):l=M()),y===void 0?y=c():f&&(n._colorAx&&g(y)?y=Math.max(y,c()):y=c()),f&&h!==void 0&&(y-h>h-l?l=h-(y-h):y-h<h-l&&(y=h+(h-l))),l===y&&(l-=.5,y+=.5),u._sync("min",l),u._sync("max",y),u.autocolorscale){var o;l*y<0?o=r.colorscale.diverging:l>=0?o=r.colorscale.sequential:o=r.colorscale.sequentialminus,u._sync("colorscale",o)}}},95504:function(H,j,e){var g=e(3400),P=e(94288).hasColorscale,a=e(94288).extractOpts;H.exports=function(w,v){function p(l,y){var h=l["_"+y];h!==void 0&&(l[y]=h)}function r(l,y){var h=y.container?g.nestedProperty(l,y.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var M=a(h),c=M.auto;(c||M.min===void 0)&&p(h,y.min),(c||M.max===void 0)&&p(h,y.max),M.autocolorscale&&p(h,"colorscale")}}for(var t=0;t<w.length;t++){var i=w[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var u=0;u<n.length;u++)r(i,n[u]);else r(i,n);P(i,"marker.line")&&r(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in v._colorAxes)r(v[f],{min:"cmin",max:"cmax"})}},27260:function(H,j,e){var g=e(38248),P=e(3400),a=e(90553),x=e(64013),w=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var i=t.slice(0,t.length-1);return t?P.nestedProperty(r,i).get()||{}:r}H.exports=function r(t,i,n,u,f){var l=f.prefix,y=f.cLetter,h="_module"in i,M=p(t,l),c=p(i,l),o=p(i._template||{},l)||{},d=function(){return delete t.coloraxis,delete i.coloraxis,r(t,i,n,u,f)};if(h){var T=n._colorAxes||{},S=u(l+"coloraxis");if(S){var C=v(i,"contour")&&P.nestedProperty(i,"contours.coloring").get()||"heatmap",m=T[S];m?(m[2].push(d),m[0]!==C&&(m[0]=!1,P.warn(["Ignoring coloraxis:",S,"setting","as it is linked to incompatible colorscales."].join(" ")))):T[S]=[C,i,[d]];return}}var E=M[y+"min"],b=M[y+"max"],s=g(E)&&g(b)&&E<b,L=u(l+y+"auto",!s);L?u(l+y+"mid"):(u(l+y+"min"),u(l+y+"max"));var A=M.colorscale,k=o.colorscale,_;if(A!==void 0&&(_=!w(A)),k!==void 0&&(_=!w(k)),u(l+"autocolorscale",_),u(l+"colorscale"),u(l+"reversescale"),l!=="marker.line."){var U;l&&h&&(U=a(M));var F=u(l+"showscale",U);F&&(l&&o&&(c._template=o),x(M,c,n))}}},94288:function(H,j,e){var g=e(33428),P=e(49760),a=e(38248),x=e(3400),w=e(76308),v=e(88304).isValid;function p(h,M,c){var o=M?x.nestedProperty(h,M).get()||{}:h,d=o[c||"color"];d&&d._inputArray&&(d=d._inputArray);var T=!1;if(x.isArrayOrTypedArray(d)){for(var S=0;S<d.length;S++)if(a(d[S])){T=!0;break}}return x.isPlainObject(o)&&(T||o.showscale===!0||a(o.cmin)&&a(o.cmax)||v(o.colorscale)||x.isPlainObject(o.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(h){var M=h._colorAx,c=M||h,o={},d,T,S;for(T=0;T<r.length;T++)S=r[T],o[S]=c[S];if(M)for(d="c",T=0;T<t.length;T++)S=t[T],o[S]=c["c"+S];else{var C;for(T=0;T<t.length;T++){if(S=t[T],C="c"+S,C in c){o[S]=c[C];continue}C="z"+S,C in c&&(o[S]=c[C])}d=C.charAt(0)}return o._sync=function(m,E){var b=t.indexOf(m)!==-1?d+m:m;c[b]=c["_"+b]=E},o}function n(h){for(var M=i(h),c=M.min,o=M.max,d=M.reversescale?u(M.colorscale):M.colorscale,T=d.length,S=new Array(T),C=new Array(T),m=0;m<T;m++){var E=d[m];S[m]=c+E[0]*(o-c),C[m]=E[1]}return{domain:S,range:C}}function u(h){for(var M=h.length,c=new Array(M),o=M-1,d=0;o>=0;o--,d++){var T=h[o];c[d]=[1-T[0],T[1]]}return c}function f(h,M){M=M||{};for(var c=h.domain,o=h.range,d=o.length,T=new Array(d),S=0;S<d;S++){var C=P(o[S]).toRgb();T[S]=[C.r,C.g,C.b,C.a]}var m=g.scale.linear().domain(c).range(T).clamp(!0),E=M.noNumericCheck,b=M.returnArray,s;return E&&b?s=m:E?s=function(L){return y(m(L))}:b?s=function(L){return a(L)?m(L):P(L).isValid()?L:w.defaultLine}:s=function(L){return a(L)?y(m(L)):P(L).isValid()?L:w.defaultLine},s.domain=m.domain,s.range=function(){return o},s}function l(h,M){return f(n(h),M)}function y(h){var M={r:h[0],g:h[1],b:h[2],a:h[3]};return P(M).toRgbString()}H.exports={hasColorscale:p,extractOpts:i,extractScale:n,flipScale:u,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:l}},8932:function(H,j,e){var g=e(88304),P=e(94288);H.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(H,j,e){var g=e(92880).extendFlat,P=e(49084),a=e(88304).scales;H.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(H,j,e){var g=e(3400),P=e(31780),a=e(92332),x=e(27260);H.exports=function(v,p){function r(h,M){return g.coerce(v,p,a,h,M)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,i,n;function u(h,M){return g.coerce(i,n,a.coloraxis,h,M)}for(var f in t){var l=t[f];if(l[0])i=v[f]||{},n=P.newContainer(p,f,"coloraxis"),n._name=f,x(i,n,p,u,{prefix:"",cLetter:"c"});else{for(var y=0;y<l[2].length;y++)l[2][y]();delete p._colorAxes[f]}}}},88304:function(H,j,e){var g=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=P.RdBu;function x(p,r){if(r||(r=a),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),w(p)?p:r}function w(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var i=p[t];if(i.length!==2||+i[0]<r||!g(i[1]).isValid())return!1;r=+i[0]}return!0}function v(p){return P[p]!==void 0?!0:w(p)}H.exports={scales:P,defaultScale:a,get:x,isValid:v}},78316:function(H){H.exports=function(e,g,P,a,x){var w=(e-P)/(a-P),v=w+g/(a-P),p=(w+v)/2;return x==="left"||x==="bottom"?w:x==="center"||x==="middle"?p:x==="right"||x==="top"?v:w<.6666666666666666-p?w:v>1.3333333333333333-p?v:p}},67416:function(H,j,e){var g=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];H.exports=function(x,w,v,p){return v==="left"?x=0:v==="center"?x=1:v==="right"?x=2:x=g.constrain(Math.floor(x*3),0,2),p==="bottom"?w=0:p==="middle"?w=1:p==="top"?w=2:w=g.constrain(Math.floor(w*3),0,2),P[w][x]}},72760:function(H,j){j.selectMode=function(e){return e==="lasso"||e==="select"},j.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},j.openMode=function(e){return e==="drawline"||e==="drawopenpath"},j.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},j.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},j.selectingOrDrawing=function(e){return j.freeMode(e)||j.rectMode(e)}},86476:function(H,j,e){var g=e(29128),P=e(52264),a=e(89184),x=e(3400).removeElement,w=e(33816),v=H.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var u=n.gd,f=1,l=u._context.doubleClickDelay,y=n.element,h,M,c,o,d,T,S,C;u._mouseDownTime||(u._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=b,a?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=b,y.addEventListener("touchstart",b,{passive:!1})):y.ontouchstart=b;function m(A,k,_){return Math.abs(A)<_&&(A=0),Math.abs(k)<_&&(k=0),[A,k]}var E=n.clampFn||m;function b(A){u._dragged=!1,u._dragging=!0;var k=t(A);h=k[0],M=k[1],S=A.target,T=A,C=A.buttons===2||A.ctrlKey,typeof A.clientX>"u"&&typeof A.clientY>"u"&&(A.clientX=h,A.clientY=M),c=new Date().getTime(),c-u._mouseDownTime<l?f+=1:(f=1,u._mouseDownTime=c),n.prepFn&&n.prepFn(A,h,M),P&&!C?(d=r(),d.style.cursor=window.getComputedStyle(y).cursor):P||(d=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",L),document.addEventListener("touchend",L),n.dragmode!==!1&&(A.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(A){A.preventDefault();var k=t(A),_=n.minDrag||w.MINDRAG,U=E(k[0]-h,k[1]-M,_),F=U[0],z=U[1];(F||z)&&(u._dragged=!0,v.unhover(u,A)),u._dragged&&n.moveFn&&!C&&(u._dragdata={element:y,dx:F,dy:z},n.moveFn(F,z))}function L(A){if(delete u._dragdata,n.dragmode!==!1&&(A.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",L),document.removeEventListener("touchend",L),P?x(d):o&&(d.documentElement.style.cursor=o,o=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>l&&(f=Math.max(f-1,1)),u._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(f,T),!C){var k;try{k=new MouseEvent("click",A)}catch{var _=t(A);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",A.bubbles,A.cancelable,A.view,A.detail,A.screenX,A.screenY,_[0],_[1],A.ctrlKey,A.altKey,A.shiftKey,A.metaKey,A.button,A.relatedTarget)}S.dispatchEvent(k)}u._dragging=!1,u._dragged=!1}};function r(){var i=document.createElement("div");i.className="dragcover";var n=i.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(i),i}v.coverSlip=r;function t(i){return g(i.changedTouches?i.changedTouches[0]:i,document.body)}},2616:function(H,j,e){var g=e(95924),P=e(91200),a=e(52200).getGraphDiv,x=e(92456),w=H.exports={};w.wrapped=function(v,p,r){v=a(v),v._fullLayout&&P.clear(v._fullLayout._uid+x.HOVERID),w.raw(v,p,r)},w.raw=function(p,r){var t=p._fullLayout,i=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&g.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&i&&p.emit("plotly_unhover",{event:r,points:i}))}},98192:function(H,j){j.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},j.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(H,j,e){var g=e(33428),P=e(3400),a=P.numberFormat,x=e(38248),w=e(49760),v=e(24040),p=e(76308),r=e(8932),t=P.strTranslate,i=e(72736),n=e(9616),u=e(84284),f=u.LINE_SPACING,l=e(13448).DESELECTDIM,y=e(43028),h=e(7152),M=e(10624).appendArrayPointValue,c=H.exports={};c.font=function(we,Ee,xe,Re){P.isPlainObject(Ee)&&(Re=Ee.color,xe=Ee.size,Ee=Ee.family),Ee&&we.style("font-family",Ee),xe+1&&we.style("font-size",xe+"px"),Re&&we.call(p.fill,Re)},c.setPosition=function(we,Ee,xe){we.attr("x",Ee).attr("y",xe)},c.setSize=function(we,Ee,xe){we.attr("width",Ee).attr("height",xe)},c.setRect=function(we,Ee,xe,Re,Ve){we.call(c.setPosition,Ee,xe).call(c.setSize,Re,Ve)},c.translatePoint=function(we,Ee,xe,Re){var Ve=xe.c2p(we.x),Ue=Re.c2p(we.y);if(x(Ve)&&x(Ue)&&Ee.node())Ee.node().nodeName==="text"?Ee.attr("x",Ve).attr("y",Ue):Ee.attr("transform",t(Ve,Ue));else return!1;return!0},c.translatePoints=function(we,Ee,xe){we.each(function(Re){var Ve=g.select(this);c.translatePoint(Re,Ve,Ee,xe)})},c.hideOutsideRangePoint=function(we,Ee,xe,Re,Ve,Ue){Ee.attr("display",xe.isPtWithinRange(we,Ve)&&Re.isPtWithinRange(we,Ue)?null:"none")},c.hideOutsideRangePoints=function(we,Ee){if(Ee._hasClipOnAxisFalse){var xe=Ee.xaxis,Re=Ee.yaxis;we.each(function(Ve){var Ue=Ve[0].trace,Be=Ue.xcalendar,Xe=Ue.ycalendar,ut=v.traceIs(Ue,"bar-like")?".bartext":".point,.textpoint";we.selectAll(ut).each(function(dt){c.hideOutsideRangePoint(dt,g.select(this),xe,Re,Be,Xe)})})}},c.crispRound=function(we,Ee,xe){return!Ee||!x(Ee)?xe||0:we._context.staticPlot?Ee:Ee<1?1:Math.round(Ee)},c.singleLineStyle=function(we,Ee,xe,Re,Ve){Ee.style("fill","none");var Ue=(((we||[])[0]||{}).trace||{}).line||{},Be=xe||Ue.width||0,Xe=Ve||Ue.dash||"";p.stroke(Ee,Re||Ue.color),c.dashLine(Ee,Xe,Be)},c.lineGroupStyle=function(we,Ee,xe,Re){we.style("fill","none").each(function(Ve){var Ue=(((Ve||[])[0]||{}).trace||{}).line||{},Be=Ee||Ue.width||0,Xe=Re||Ue.dash||"";g.select(this).call(p.stroke,xe||Ue.color).call(c.dashLine,Xe,Be)})},c.dashLine=function(we,Ee,xe){xe=+xe||0,Ee=c.dashStyle(Ee,xe),we.style({"stroke-dasharray":Ee,"stroke-width":xe+"px"})},c.dashStyle=function(we,Ee){Ee=+Ee||1;var xe=Math.max(Ee,3);return we==="solid"?we="":we==="dot"?we=xe+"px,"+xe+"px":we==="dash"?we=3*xe+"px,"+3*xe+"px":we==="longdash"?we=5*xe+"px,"+5*xe+"px":we==="dashdot"?we=3*xe+"px,"+xe+"px,"+xe+"px,"+xe+"px":we==="longdashdot"&&(we=5*xe+"px,"+2*xe+"px,"+xe+"px,"+2*xe+"px"),we};function o(we,Ee,xe,Re){var Ve=Ee.fillpattern,Ue=Ee.fillgradient,Be=Ve&&c.getPatternAttr(Ve.shape,0,"");if(Be){var Xe=c.getPatternAttr(Ve.bgcolor,0,null),ut=c.getPatternAttr(Ve.fgcolor,0,null),dt=Ve.fgopacity,at=c.getPatternAttr(Ve.size,0,8),We=c.getPatternAttr(Ve.solidity,0,.3),rt=Ee.uid;c.pattern(we,"point",xe,rt,Be,at,We,void 0,Ve.fillmode,Xe,ut,dt)}else if(Ue&&Ue.type!=="none"){var st=Ue.type,ht="scatterfill-"+Ee.uid;if(Re&&(ht="legendfill-"+Ee.uid),!Re&&(Ue.start!==void 0||Ue.stop!==void 0)){var vt,At;st==="horizontal"?(vt={x:Ue.start,y:0},At={x:Ue.stop,y:0}):st==="vertical"&&(vt={x:0,y:Ue.start},At={x:0,y:Ue.stop}),vt.x=Ee._xA.c2p(vt.x===void 0?Ee._extremes.x.min[0].val:vt.x,!0),vt.y=Ee._yA.c2p(vt.y===void 0?Ee._extremes.y.min[0].val:vt.y,!0),At.x=Ee._xA.c2p(At.x===void 0?Ee._extremes.x.max[0].val:At.x,!0),At.y=Ee._yA.c2p(At.y===void 0?Ee._extremes.y.max[0].val:At.y,!0),we.call(b,xe,ht,"linear",Ue.colorscale,"fill",vt,At,!0,!1)}else st==="horizontal"&&(st=st+"reversed"),we.call(c.gradient,xe,ht,st,Ue.colorscale,"fill")}else Ee.fillcolor&&we.call(p.fill,Ee.fillcolor)}c.singleFillStyle=function(we,Ee){var xe=g.select(we.node()),Re=xe.data(),Ve=((Re[0]||[])[0]||{}).trace||{};o(we,Ve,Ee,!1)},c.fillGroupStyle=function(we,Ee,xe){we.style("stroke-width",0).each(function(Re){var Ve=g.select(this);Re[0].trace&&o(Ve,Re[0].trace,Ee,xe)})};var d=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(d).forEach(function(we){var Ee=d[we],xe=Ee.n;c.symbolList.push(xe,String(xe),we,xe+100,String(xe+100),we+"-open"),c.symbolNames[xe]=we,c.symbolFuncs[xe]=Ee.f,c.symbolBackOffs[xe]=Ee.backoff||0,Ee.needLine&&(c.symbolNeedLines[xe]=!0),Ee.noDot?c.symbolNoDot[xe]=!0:c.symbolList.push(xe+200,String(xe+200),we+"-dot",xe+300,String(xe+300),we+"-open-dot"),Ee.noFill&&(c.symbolNoFill[xe]=!0)});var T=c.symbolNames.length,S="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(we){if(x(we))we=+we;else if(typeof we=="string"){var Ee=0;we.indexOf("-open")>0&&(Ee=100,we=we.replace("-open","")),we.indexOf("-dot")>0&&(Ee+=200,we=we.replace("-dot","")),we=c.symbolNames.indexOf(we),we>=0&&(we+=Ee)}return we%100>=T||we>=400?0:Math.floor(Math.max(we,0))};function C(we,Ee,xe,Re){var Ve=we%100;return c.symbolFuncs[Ve](Ee,xe,Re)+(we>=200?S:"")}var m=a("~f"),E={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(we,Ee,xe,Re,Ve,Ue){var Be=E[Re];return b(we,Ee,xe,Be.type,Ve,Ue,Be.start,Be.stop,!1,Be.reversed)};function b(we,Ee,xe,Re,Ve,Ue,Be,Xe,ut,dt){var at=Ve.length,We;Re==="linear"?We={node:"linearGradient",attrs:{x1:Be.x,y1:Be.y,x2:Xe.x,y2:Xe.y,gradientUnits:ut?"userSpaceOnUse":"objectBoundingBox"},reversed:dt}:Re==="radial"&&(We={node:"radialGradient",reversed:dt});for(var rt=new Array(at),st=0;st<at;st++)We.reversed?rt[at-1-st]=[m((1-Ve[st][0])*100),Ve[st][1]]:rt[st]=[m(Ve[st][0]*100),Ve[st][1]];var ht=Ee._fullLayout,vt="g"+ht._uid+"-"+xe,At=ht._defs.select(".gradients").selectAll("#"+vt).data([Re+rt.join(";")],P.identity);At.exit().remove(),At.enter().append(We.node).each(function(){var tt=g.select(this);We.attrs&&tt.attr(We.attrs),tt.attr("id",vt);var _e=tt.selectAll("stop").data(rt);_e.exit().remove(),_e.enter().append("stop"),_e.each(function(je){var Ke=w(je[1]);g.select(this).attr({offset:je[0]+"%","stop-color":p.tinyRGB(Ke),"stop-opacity":Ke.getAlpha()})})}),we.style(Ue,$(vt,Ee)).style(Ue+"-opacity",null),we.classed("gradient_filled",!0)}c.pattern=function(we,Ee,xe,Re,Ve,Ue,Be,Xe,ut,dt,at,We){var rt=Ee==="legend";Xe&&(ut==="overlay"?(dt=Xe,at=p.contrast(dt)):(dt=void 0,at=Xe));var st=xe._fullLayout,ht="p"+st._uid+"-"+Re,vt,At,tt=function(nt,pt,yt,Yt,Xt){return Yt+(Xt-Yt)*(nt-pt)/(yt-pt)},_e,je,Ke,He,Ie={},be=w(at),me=p.tinyRGB(be),Me=be.getAlpha(),Te=We*Me;switch(Ve){case"/":vt=Ue*Math.sqrt(2),At=Ue*Math.sqrt(2),_e="M-"+vt/4+","+At/4+"l"+vt/2+",-"+At/2+"M0,"+At+"L"+vt+",0M"+vt/4*3+","+At/4*5+"l"+vt/2+",-"+At/2,je=Be*Ue,He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":je+"px"};break;case"\\":vt=Ue*Math.sqrt(2),At=Ue*Math.sqrt(2),_e="M"+vt/4*3+",-"+At/4+"l"+vt/2+","+At/2+"M0,0L"+vt+","+At+"M-"+vt/4+","+At/4*3+"l"+vt/2+","+At/2,je=Be*Ue,He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":je+"px"};break;case"x":vt=Ue*Math.sqrt(2),At=Ue*Math.sqrt(2),_e="M-"+vt/4+","+At/4+"l"+vt/2+",-"+At/2+"M0,"+At+"L"+vt+",0M"+vt/4*3+","+At/4*5+"l"+vt/2+",-"+At/2+"M"+vt/4*3+",-"+At/4+"l"+vt/2+","+At/2+"M0,0L"+vt+","+At+"M-"+vt/4+","+At/4*3+"l"+vt/2+","+At/2,je=Ue-Ue*Math.sqrt(1-Be),He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":je+"px"};break;case"|":vt=Ue,At=Ue,He="path",_e="M"+vt/2+",0L"+vt/2+","+At,je=Be*Ue,He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":je+"px"};break;case"-":vt=Ue,At=Ue,He="path",_e="M0,"+At/2+"L"+vt+","+At/2,je=Be*Ue,He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":je+"px"};break;case"+":vt=Ue,At=Ue,He="path",_e="M"+vt/2+",0L"+vt/2+","+At+"M0,"+At/2+"L"+vt+","+At/2,je=Ue-Ue*Math.sqrt(1-Be),He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":je+"px"};break;case".":vt=Ue,At=Ue,Be<Math.PI/4?Ke=Math.sqrt(Be*Ue*Ue/Math.PI):Ke=tt(Be,Math.PI/4,1,Ue/2,Ue/Math.sqrt(2)),He="circle",Ie={cx:vt/2,cy:At/2,r:Ke,opacity:Te,fill:me};break}var ze=[Ve||"noSh",dt||"noBg",at||"noFg",Ue,Be].join(";"),Je=st._defs.select(".patterns").selectAll("#"+ht).data([ze],P.identity);Je.exit().remove(),Je.enter().append("pattern").each(function(){var nt=g.select(this);if(nt.attr({id:ht,width:vt+"px",height:At+"px",patternUnits:"userSpaceOnUse",patternTransform:rt?"scale(0.8)":""}),dt){var pt=w(dt),yt=p.tinyRGB(pt),Yt=pt.getAlpha(),Xt=nt.selectAll("rect").data([0]);Xt.exit().remove(),Xt.enter().append("rect").attr({width:vt+"px",height:At+"px",fill:yt,"fill-opacity":Yt})}var St=nt.selectAll(He).data([0]);St.exit().remove(),St.enter().append(He).attr(Ie)}),we.style("fill",$(ht,xe)).style("fill-opacity",null),we.classed("pattern_filled",!0)},c.initGradients=function(we){var Ee=we._fullLayout,xe=P.ensureSingle(Ee._defs,"g","gradients");xe.selectAll("linearGradient,radialGradient").remove(),g.select(we).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(we){var Ee=we._fullLayout,xe=P.ensureSingle(Ee._defs,"g","patterns");xe.selectAll("pattern").remove(),g.select(we).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(we,Ee,xe){return we&&P.isArrayOrTypedArray(we)?Ee<we.length?we[Ee]:xe:we},c.pointStyle=function(we,Ee,xe,Re){if(we.size()){var Ve=c.makePointStyleFns(Ee);we.each(function(Ue){c.singlePointStyle(Ue,g.select(this),Ee,Ve,xe,Re)})}},c.singlePointStyle=function(we,Ee,xe,Re,Ve,Ue){var Be=xe.marker,Xe=Be.line;if(Ue&&Ue.i>=0&&we.i===void 0&&(we.i=Ue.i),Ee.style("opacity",Re.selectedOpacityFn?Re.selectedOpacityFn(we):we.mo===void 0?Be.opacity:we.mo),Re.ms2mrc){var ut;we.ms==="various"||Be.size==="various"?ut=3:ut=Re.ms2mrc(we.ms),we.mrc=ut,Re.selectedSizeFn&&(ut=we.mrc=Re.selectedSizeFn(we));var dt=c.symbolNumber(we.mx||Be.symbol)||0;we.om=dt%200>=100;var at=ke(we,xe),We=Y(we,xe);Ee.attr("d",C(dt,ut,at,We))}var rt=!1,st,ht,vt;if(we.so)vt=Xe.outlierwidth,ht=Xe.outliercolor,st=Be.outliercolor;else{var At=(Xe||{}).width;vt=(we.mlw+1||At+1||(we.trace?(we.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in we?ht=we.mlcc=Re.lineScale(we.mlc):P.isArrayOrTypedArray(Xe.color)?ht=p.defaultLine:ht=Xe.color,P.isArrayOrTypedArray(Be.color)&&(st=p.defaultLine,rt=!0),"mc"in we?st=we.mcc=Re.markerScale(we.mc):st=Be.color||Be.colors||"rgba(0,0,0,0)",Re.selectedColorFn&&(st=Re.selectedColorFn(we))}if(we.om)Ee.call(p.stroke,st).style({"stroke-width":(vt||1)+"px",fill:"none"});else{Ee.style("stroke-width",(we.isBlank?0:vt)+"px");var tt=Be.gradient,_e=we.mgt;_e?rt=!0:_e=tt&&tt.type,P.isArrayOrTypedArray(_e)&&(_e=_e[0],E[_e]||(_e=0));var je=Be.pattern,Ke=je&&c.getPatternAttr(je.shape,we.i,"");if(_e&&_e!=="none"){var He=we.mgc;He?rt=!0:He=tt.color;var Ie=xe.uid;rt&&(Ie+="-"+we.i),c.gradient(Ee,Ve,Ie,_e,[[0,He],[1,st]],"fill")}else if(Ke){var be=!1,me=je.fgcolor;!me&&Ue&&Ue.color&&(me=Ue.color,be=!0);var Me=c.getPatternAttr(me,we.i,Ue&&Ue.color||null),Te=c.getPatternAttr(je.bgcolor,we.i,null),ze=je.fgopacity,Je=c.getPatternAttr(je.size,we.i,8),nt=c.getPatternAttr(je.solidity,we.i,.3);be=be||we.mcc||P.isArrayOrTypedArray(je.shape)||P.isArrayOrTypedArray(je.bgcolor)||P.isArrayOrTypedArray(je.fgcolor)||P.isArrayOrTypedArray(je.size)||P.isArrayOrTypedArray(je.solidity);var pt=xe.uid;be&&(pt+="-"+we.i),c.pattern(Ee,"point",Ve,pt,Ke,Je,nt,we.mcc,je.fillmode,Te,Me,ze)}else P.isArrayOrTypedArray(st)?p.fill(Ee,st[we.i]):p.fill(Ee,st);vt&&p.stroke(Ee,ht)}},c.makePointStyleFns=function(we){var Ee={},xe=we.marker;return Ee.markerScale=c.tryColorscale(xe,""),Ee.lineScale=c.tryColorscale(xe,"line"),v.traceIs(we,"symbols")&&(Ee.ms2mrc=y.isBubble(we)?h(we):function(){return(xe.size||6)/2}),we.selectedpoints&&P.extendFlat(Ee,c.makeSelectedPointStyleFns(we)),Ee},c.makeSelectedPointStyleFns=function(we){var Ee={},xe=we.selected||{},Re=we.unselected||{},Ve=we.marker||{},Ue=xe.marker||{},Be=Re.marker||{},Xe=Ve.opacity,ut=Ue.opacity,dt=Be.opacity,at=ut!==void 0,We=dt!==void 0;(P.isArrayOrTypedArray(Xe)||at||We)&&(Ee.selectedOpacityFn=function(Ke){var He=Ke.mo===void 0?Ve.opacity:Ke.mo;return Ke.selected?at?ut:He:We?dt:l*He});var rt=Ve.color,st=Ue.color,ht=Be.color;(st||ht)&&(Ee.selectedColorFn=function(Ke){var He=Ke.mcc||rt;return Ke.selected?st||He:ht||He});var vt=Ve.size,At=Ue.size,tt=Be.size,_e=At!==void 0,je=tt!==void 0;return v.traceIs(we,"symbols")&&(_e||je)&&(Ee.selectedSizeFn=function(Ke){var He=Ke.mrc||vt/2;return Ke.selected?_e?At/2:He:je?tt/2:He}),Ee},c.makeSelectedTextStyleFns=function(we){var Ee={},xe=we.selected||{},Re=we.unselected||{},Ve=we.textfont||{},Ue=xe.textfont||{},Be=Re.textfont||{},Xe=Ve.color,ut=Ue.color,dt=Be.color;return Ee.selectedTextColorFn=function(at){var We=at.tc||Xe;return at.selected?ut||We:dt||(ut?We:p.addOpacity(We,l))},Ee},c.selectedPointStyle=function(we,Ee){if(!(!we.size()||!Ee.selectedpoints)){var xe=c.makeSelectedPointStyleFns(Ee),Re=Ee.marker||{},Ve=[];xe.selectedOpacityFn&&Ve.push(function(Ue,Be){Ue.style("opacity",xe.selectedOpacityFn(Be))}),xe.selectedColorFn&&Ve.push(function(Ue,Be){p.fill(Ue,xe.selectedColorFn(Be))}),xe.selectedSizeFn&&Ve.push(function(Ue,Be){var Xe=Be.mx||Re.symbol||0,ut=xe.selectedSizeFn(Be);Ue.attr("d",C(c.symbolNumber(Xe),ut,ke(Be,Ee),Y(Be,Ee))),Be.mrc2=ut}),Ve.length&&we.each(function(Ue){for(var Be=g.select(this),Xe=0;Xe<Ve.length;Xe++)Ve[Xe](Be,Ue)})}},c.tryColorscale=function(we,Ee){var xe=Ee?P.nestedProperty(we,Ee).get():we;if(xe){var Re=xe.color;if((xe.colorscale||xe._colorAx)&&P.isArrayOrTypedArray(Re))return r.makeColorScaleFuncFromTrace(xe)}return P.identity};var s={start:1,end:-1,middle:0,bottom:1,top:-1};function L(we,Ee,xe,Re,Ve){var Ue=g.select(we.node().parentNode),Be=Ee.indexOf("top")!==-1?"top":Ee.indexOf("bottom")!==-1?"bottom":"middle",Xe=Ee.indexOf("left")!==-1?"end":Ee.indexOf("right")!==-1?"start":"middle",ut=Re?Re/.8+1:0,dt=(i.lineCount(we)-1)*f+1,at=s[Xe]*ut,We=xe*.75+s[Be]*ut+(s[Be]-1)*dt*xe/2;we.attr("text-anchor",Xe),Ve||Ue.attr("transform",t(at,We))}function A(we,Ee){var xe=we.ts||Ee.textfont.size;return x(xe)&&xe>0?xe:0}c.textPointStyle=function(we,Ee,xe){if(we.size()){var Re;if(Ee.selectedpoints){var Ve=c.makeSelectedTextStyleFns(Ee);Re=Ve.selectedTextColorFn}var Ue=Ee.texttemplate,Be=xe._fullLayout;we.each(function(Xe){var ut=g.select(this),dt=Ue?P.extractOption(Xe,Ee,"txt","texttemplate"):P.extractOption(Xe,Ee,"tx","text");if(!dt&&dt!==0){ut.remove();return}if(Ue){var at=Ee._module.formatLabels,We=at?at(Xe,Ee,Be):{},rt={};M(rt,Ee,Xe.i);var st=Ee._meta||{};dt=P.texttemplateString(dt,We,Be._d3locale,rt,Xe,st)}var ht=Xe.tp||Ee.textposition,vt=A(Xe,Ee),At=Re?Re(Xe):Xe.tc||Ee.textfont.color;ut.call(c.font,Xe.tf||Ee.textfont.family,vt,At).text(dt).call(i.convertToTspans,xe).call(L,ht,vt,Xe.mrc)})}},c.selectedTextStyle=function(we,Ee){if(!(!we.size()||!Ee.selectedpoints)){var xe=c.makeSelectedTextStyleFns(Ee);we.each(function(Re){var Ve=g.select(this),Ue=xe.selectedTextColorFn(Re),Be=Re.tp||Ee.textposition,Xe=A(Re,Ee);p.fill(Ve,Ue);var ut=v.traceIs(Ee,"bar-like");L(Ve,Be,Xe,Re.mrc2||Re.mrc,ut)})}};var k=.5;c.smoothopen=function(we,Ee){if(we.length<3)return"M"+we.join("L");var xe="M"+we[0],Re=[],Ve;for(Ve=1;Ve<we.length-1;Ve++)Re.push(N(we[Ve-1],we[Ve],we[Ve+1],Ee));for(xe+="Q"+Re[0][0]+" "+we[1],Ve=2;Ve<we.length-1;Ve++)xe+="C"+Re[Ve-2][1]+" "+Re[Ve-1][0]+" "+we[Ve];return xe+="Q"+Re[we.length-3][1]+" "+we[we.length-1],xe},c.smoothclosed=function(we,Ee){if(we.length<3)return"M"+we.join("L")+"Z";var xe="M"+we[0],Re=we.length-1,Ve=[N(we[Re],we[0],we[1],Ee)],Ue;for(Ue=1;Ue<Re;Ue++)Ve.push(N(we[Ue-1],we[Ue],we[Ue+1],Ee));for(Ve.push(N(we[Re-1],we[Re],we[0],Ee)),Ue=1;Ue<=Re;Ue++)xe+="C"+Ve[Ue-1][1]+" "+Ve[Ue][0]+" "+we[Ue];return xe+="C"+Ve[Re][1]+" "+Ve[0][0]+" "+we[0]+"Z",xe};var _,U;function F(we,Ee,xe){return xe&&(we=Q(we)),Ee?B(we[1]):z(we[0])}function z(we){var Ee=g.round(we,2);return _=Ee,Ee}function B(we){var Ee=g.round(we,2);return U=Ee,Ee}function N(we,Ee,xe,Re){var Ve=we[0]-Ee[0],Ue=we[1]-Ee[1],Be=xe[0]-Ee[0],Xe=xe[1]-Ee[1],ut=Math.pow(Ve*Ve+Ue*Ue,k/2),dt=Math.pow(Be*Be+Xe*Xe,k/2),at=(dt*dt*Ve-ut*ut*Be)*Re,We=(dt*dt*Ue-ut*ut*Xe)*Re,rt=3*dt*(ut+dt),st=3*ut*(ut+dt);return[[z(Ee[0]+(rt&&at/rt)),B(Ee[1]+(rt&&We/rt))],[z(Ee[0]-(st&&at/st)),B(Ee[1]-(st&&We/st))]]}var V={hv:function(we,Ee,xe){return"H"+z(Ee[0])+"V"+F(Ee,1,xe)},vh:function(we,Ee,xe){return"V"+B(Ee[1])+"H"+F(Ee,0,xe)},hvh:function(we,Ee,xe){return"H"+z((we[0]+Ee[0])/2)+"V"+B(Ee[1])+"H"+F(Ee,0,xe)},vhv:function(we,Ee,xe){return"V"+B((we[1]+Ee[1])/2)+"H"+z(Ee[0])+"V"+F(Ee,1,xe)}},W=function(we,Ee,xe){return"L"+F(Ee,0,xe)+","+F(Ee,1,xe)};c.steps=function(we){var Ee=V[we]||W;return function(xe){for(var Re="M"+z(xe[0][0])+","+B(xe[0][1]),Ve=xe.length,Ue=1;Ue<Ve;Ue++)Re+=Ee(xe[Ue-1],xe[Ue],Ue===Ve-1);return Re}};function Q(we,Ee){var xe=we.backoff,Re=we.trace,Ve=we.d,Ue=we.i;if(xe&&Re&&Re.marker&&Re.marker.angle%360===0&&Re.line&&Re.line.shape!=="spline"){var Be=P.isArrayOrTypedArray(xe),Xe=we,ut=Ee?Ee[0]:_||0,dt=Ee?Ee[1]:U||0,at=Xe[0],We=Xe[1],rt=at-ut,st=We-dt,ht=Math.atan2(st,rt),vt=Be?xe[Ue]:xe;if(vt==="auto"){var At=Xe.i;Re.type==="scatter"&&At--;var tt=Xe.marker,_e=tt.symbol;P.isArrayOrTypedArray(_e)&&(_e=_e[At]);var je=tt.size;P.isArrayOrTypedArray(je)&&(je=je[At]),vt=tt?c.symbolBackOffs[c.symbolNumber(_e)]*je:0,vt+=c.getMarkerStandoff(Ve[At],Re)||0}var Ke=at-vt*Math.cos(ht),He=We-vt*Math.sin(ht);(Ke<=at&&Ke>=ut||Ke>=at&&Ke<=ut)&&(He<=We&&He>=dt||He>=We&&He<=dt)&&(we=[Ke,He])}return we}c.applyBackoff=Q,c.makeTester=function(){var we=P.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(xe){xe.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ee=P.ensureSingle(we,"path","js-reference-point",function(xe){xe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=we,c.testref=Ee},c.savedBBoxes={};var re=0,ne=1e4;c.bBox=function(we,Ee,xe){xe||(xe=fe(we));var Re;if(xe){if(Re=c.savedBBoxes[xe],Re)return P.extendFlat({},Re)}else if(we.childNodes.length===1){var Ve=we.childNodes[0];if(xe=fe(Ve),xe){var Ue=+Ve.getAttribute("x")||0,Be=+Ve.getAttribute("y")||0,Xe=Ve.getAttribute("transform");if(!Xe){var ut=c.bBox(Ve,!1,xe);return Ue&&(ut.left+=Ue,ut.right+=Ue),Be&&(ut.top+=Be,ut.bottom+=Be),ut}if(xe+="~"+Ue+"~"+Be+"~"+Xe,Re=c.savedBBoxes[xe],Re)return P.extendFlat({},Re)}}var dt,at;Ee?dt=we:(at=c.tester.node(),dt=we.cloneNode(!0),at.appendChild(dt)),g.select(dt).attr("transform",null).call(i.positionText,0,0);var We=dt.getBoundingClientRect(),rt=c.testref.node().getBoundingClientRect();Ee||at.removeChild(dt);var st={height:We.height,width:We.width,left:We.left-rt.left,top:We.top-rt.top,right:We.right-rt.left,bottom:We.bottom-rt.top};return re>=ne&&(c.savedBBoxes={},re=0),xe&&(c.savedBBoxes[xe]=st),re++,P.extendFlat({},st)};function fe(we){var Ee=we.getAttribute("data-unformatted");if(Ee!==null)return Ee+we.getAttribute("data-math")+we.getAttribute("text-anchor")+we.getAttribute("style")}c.setClipUrl=function(we,Ee,xe){we.attr("clip-path",$(Ee,xe))};function $(we,Ee){if(!we)return null;var xe=Ee._context,Re=xe._exportedPlot?"":xe._baseUrl||"";return Re?"url('"+Re+"#"+we+"')":"url(#"+we+")"}c.getTranslate=function(we){var Ee=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,xe=we.attr?"attr":"getAttribute",Re=we[xe]("transform")||"",Ve=Re.replace(Ee,function(Ue,Be,Xe){return[Be,Xe].join(" ")}).split(" ");return{x:+Ve[0]||0,y:+Ve[1]||0}},c.setTranslate=function(we,Ee,xe){var Re=/(\btranslate\(.*?\);?)/,Ve=we.attr?"attr":"getAttribute",Ue=we.attr?"attr":"setAttribute",Be=we[Ve]("transform")||"";return Ee=Ee||0,xe=xe||0,Be=Be.replace(Re,"").trim(),Be+=t(Ee,xe),Be=Be.trim(),we[Ue]("transform",Be),Be},c.getScale=function(we){var Ee=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,xe=we.attr?"attr":"getAttribute",Re=we[xe]("transform")||"",Ve=Re.replace(Ee,function(Ue,Be,Xe){return[Be,Xe].join(" ")}).split(" ");return{x:+Ve[0]||1,y:+Ve[1]||1}},c.setScale=function(we,Ee,xe){var Re=/(\bscale\(.*?\);?)/,Ve=we.attr?"attr":"getAttribute",Ue=we.attr?"attr":"setAttribute",Be=we[Ve]("transform")||"";return Ee=Ee||1,xe=xe||1,Be=Be.replace(Re,"").trim(),Be+="scale("+Ee+","+xe+")",Be=Be.trim(),we[Ue]("transform",Be),Be};var X=/\s*sc.*/;c.setPointGroupScale=function(we,Ee,xe){if(Ee=Ee||1,xe=xe||1,!!we){var Re=Ee===1&&xe===1?"":"scale("+Ee+","+xe+")";we.each(function(){var Ve=(this.getAttribute("transform")||"").replace(X,"");Ve+=Re,Ve=Ve.trim(),this.setAttribute("transform",Ve)})}};var oe=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(we,Ee,xe){we&&we.each(function(){var Re,Ve=g.select(this),Ue=Ve.select("text");if(Ue.node()){var Be=parseFloat(Ue.attr("x")||0),Xe=parseFloat(Ue.attr("y")||0),ut=(Ve.attr("transform")||"").match(oe);Ee===1&&xe===1?Re=[]:Re=[t(Be,Xe),"scale("+Ee+","+xe+")",t(-Be,-Xe)],ut&&Re.push(ut),Ve.attr("transform",Re.join(""))}})};function Y(we,Ee){var xe;return we&&(xe=we.mf),xe===void 0&&(xe=Ee.marker&&Ee.marker.standoff||0),!Ee._geo&&!Ee._xA?-xe:xe}c.getMarkerStandoff=Y;var ee=Math.atan2,se=Math.cos,q=Math.sin;function K(we,Ee){var xe=Ee[0],Re=Ee[1];return[xe*se(we)-Re*q(we),xe*q(we)+Re*se(we)]}var le,ie,he,ye,Ce,Ae;function ke(we,Ee){var xe=we.ma;xe===void 0&&(xe=Ee.marker.angle,(!xe||P.isArrayOrTypedArray(xe))&&(xe=0));var Re,Ve,Ue=Ee.marker.angleref;if(Ue==="previous"||Ue==="north"){if(Ee._geo){var Be=Ee._geo.project(we.lonlat);Re=Be[0],Ve=Be[1]}else{var Xe=Ee._xA,ut=Ee._yA;if(Xe&&ut)Re=Xe.c2p(we.x),Ve=ut.c2p(we.y);else return 90}if(Ee._geo){var dt=we.lonlat[0],at=we.lonlat[1],We=Ee._geo.project([dt,at+1e-5]),rt=Ee._geo.project([dt+1e-5,at]),st=ee(rt[1]-Ve,rt[0]-Re),ht=ee(We[1]-Ve,We[0]-Re),vt;if(Ue==="north")vt=xe/180*Math.PI;else if(Ue==="previous"){var At=dt/180*Math.PI,tt=at/180*Math.PI,_e=le/180*Math.PI,je=ie/180*Math.PI,Ke=_e-At,He=se(je)*q(Ke),Ie=q(je)*se(tt)-se(je)*q(tt)*se(Ke);vt=-ee(He,Ie)-Math.PI,le=dt,ie=at}var be=K(st,[se(vt),0]),me=K(ht,[q(vt),0]);xe=ee(be[1]+me[1],be[0]+me[0])/Math.PI*180,Ue==="previous"&&!(Ae===Ee.uid&&we.i===Ce+1)&&(xe=null)}if(Ue==="previous"&&!Ee._geo)if(Ae===Ee.uid&&we.i===Ce+1&&x(Re)&&x(Ve)){var Me=Re-he,Te=Ve-ye,ze=Ee.line&&Ee.line.shape||"",Je=ze.slice(ze.length-1);Je==="h"&&(Te=0),Je==="v"&&(Me=0),xe+=ee(Te,Me)/Math.PI*180+90}else xe=null}return he=Re,ye=Ve,Ce=we.i,Ae=Ee.uid,xe}c.getMarkerAngle=ke},71984:function(H,j,e){var g=e(21984),P=e(33428).round,a="M0,0Z",x=Math.sqrt(2),w=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;H.exports={circle:{n:0,f:function(y,h,M){if(t(h))return a;var c=P(y,2),o="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return M?l(h,M,o):o}},square:{n:1,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(y,h,M){if(t(h))return a;var c=P(y*1.3,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(y,h,M){if(t(h))return a;var c=P(y*.4,2),o=P(y*1.2,2);return l(h,M,"M"+o+","+c+"H"+c+"V"+o+"H-"+c+"V"+c+"H-"+o+"V-"+c+"H-"+c+"V-"+o+"H"+c+"V-"+c+"H"+o+"Z")}},x:{n:4,f:function(y,h,M){if(t(h))return a;var c=P(y*.8/x,2),o="l"+c+","+c,d="l"+c+",-"+c,T="l-"+c+",-"+c,S="l-"+c+","+c;return l(h,M,"M0,"+c+o+d+T+d+T+S+T+S+o+S+o+"Z")}},"triangle-up":{n:5,f:function(y,h,M){if(t(h))return a;var c=P(y*2/w,2),o=P(y/2,2),d=P(y,2);return l(h,M,"M-"+c+","+o+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(y,h,M){if(t(h))return a;var c=P(y*2/w,2),o=P(y/2,2),d=P(y,2);return l(h,M,"M-"+c+",-"+o+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(y,h,M){if(t(h))return a;var c=P(y*2/w,2),o=P(y/2,2),d=P(y,2);return l(h,M,"M"+o+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(y,h,M){if(t(h))return a;var c=P(y*2/w,2),o=P(y/2,2),d=P(y,2);return l(h,M,"M-"+o+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(y,h,M){if(t(h))return a;var c=P(y*.6,2),o=P(y*1.2,2);return l(h,M,"M-"+o+",-"+c+"H"+c+"V"+o+"Z")}},"triangle-se":{n:10,f:function(y,h,M){if(t(h))return a;var c=P(y*.6,2),o=P(y*1.2,2);return l(h,M,"M"+c+",-"+o+"V"+c+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(y,h,M){if(t(h))return a;var c=P(y*.6,2),o=P(y*1.2,2);return l(h,M,"M"+o+","+c+"H-"+c+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(y,h,M){if(t(h))return a;var c=P(y*.6,2),o=P(y*1.2,2);return l(h,M,"M-"+c+","+o+"V-"+c+"H"+o+"Z")}},pentagon:{n:13,f:function(y,h,M){if(t(h))return a;var c=P(y*.951,2),o=P(y*.588,2),d=P(-y,2),T=P(y*-.309,2),S=P(y*.809,2);return l(h,M,"M"+c+","+T+"L"+o+","+S+"H-"+o+"L-"+c+","+T+"L0,"+d+"Z")}},hexagon:{n:14,f:function(y,h,M){if(t(h))return a;var c=P(y,2),o=P(y/2,2),d=P(y*w/2,2);return l(h,M,"M"+d+",-"+o+"V"+o+"L0,"+c+"L-"+d+","+o+"V-"+o+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(y,h,M){if(t(h))return a;var c=P(y,2),o=P(y/2,2),d=P(y*w/2,2);return l(h,M,"M-"+o+","+d+"H"+o+"L"+c+",0L"+o+",-"+d+"H-"+o+"L-"+c+",0Z")}},octagon:{n:16,f:function(y,h,M){if(t(h))return a;var c=P(y*.924,2),o=P(y*.383,2);return l(h,M,"M-"+o+",-"+c+"H"+o+"L"+c+",-"+o+"V"+o+"L"+o+","+c+"H-"+o+"L-"+c+","+o+"V-"+o+"Z")}},star:{n:17,f:function(y,h,M){if(t(h))return a;var c=y*1.4,o=P(c*.225,2),d=P(c*.951,2),T=P(c*.363,2),S=P(c*.588,2),C=P(-c,2),m=P(c*-.309,2),E=P(c*.118,2),b=P(c*.809,2),s=P(c*.382,2);return l(h,M,"M"+o+","+m+"H"+d+"L"+T+","+E+"L"+S+","+b+"L0,"+s+"L-"+S+","+b+"L-"+T+","+E+"L-"+d+","+m+"H-"+o+"L0,"+C+"Z")}},hexagram:{n:18,f:function(y,h,M){if(t(h))return a;var c=P(y*.66,2),o=P(y*.38,2),d=P(y*.76,2);return l(h,M,"M-"+d+",0l-"+o+",-"+c+"h"+d+"l"+o+",-"+c+"l"+o+","+c+"h"+d+"l-"+o+","+c+"l"+o+","+c+"h-"+d+"l-"+o+","+c+"l-"+o+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(y,h,M){if(t(h))return a;var c=P(y*w*.8,2),o=P(y*.8,2),d=P(y*1.6,2),T=P(y*4,2),S="A "+T+","+T+" 0 0 1 ";return l(h,M,"M-"+c+","+o+S+c+","+o+S+"0,-"+d+S+"-"+c+","+o+"Z")}},"star-triangle-down":{n:20,f:function(y,h,M){if(t(h))return a;var c=P(y*w*.8,2),o=P(y*.8,2),d=P(y*1.6,2),T=P(y*4,2),S="A "+T+","+T+" 0 0 1 ";return l(h,M,"M"+c+",-"+o+S+"-"+c+",-"+o+S+"0,"+d+S+c+",-"+o+"Z")}},"star-square":{n:21,f:function(y,h,M){if(t(h))return a;var c=P(y*1.1,2),o=P(y*2,2),d="A "+o+","+o+" 0 0 1 ";return l(h,M,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(y,h,M){if(t(h))return a;var c=P(y*1.4,2),o=P(y*1.9,2),d="A "+o+","+o+" 0 0 1 ";return l(h,M,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(y,h,M){if(t(h))return a;var c=P(y*.7,2),o=P(y*1.4,2);return l(h,M,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(y,h,M){if(t(h))return a;var c=P(y*1.4,2),o=P(y*.7,2);return l(h,M,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},hourglass:{n:25,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,h,M){if(t(h))return a;var c=P(y,2),o=P(y/x,2);return l(h,M,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,h,M){if(t(h))return a;var c=P(y*1.3,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,h,M){if(t(h))return a;var c=P(y*1.3,2),o=P(y*.65,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,h,M){if(t(h))return a;var c=P(y*1.4,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,h,M){if(t(h))return a;var c=P(y*1.2,2),o=P(y*.85,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,h,M){if(t(h))return a;var c=P(y/2,2),o=P(y,2);return l(h,M,"M"+c+","+o+"V-"+o+"M"+(c-o)+",-"+o+"V"+o+"M"+o+","+c+"H-"+o+"M-"+o+","+(c-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,h,M){if(t(h))return a;var c=P(y*1.2,2),o=P(y*1.6,2),d=P(y*.8,2);return l(h,M,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,h,M){if(t(h))return a;var c=P(y*1.2,2),o=P(y*1.6,2),d=P(y*.8,2);return l(h,M,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,h,M){if(t(h))return a;var c=P(y*1.2,2),o=P(y*1.6,2),d=P(y*.8,2);return l(h,M,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,h,M){if(t(h))return a;var c=P(y*1.2,2),o=P(y*1.6,2),d=P(y*.8,2);return l(h,M,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,h,M){if(t(h))return a;var c=P(y*1.4,2);return l(h,M,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,h,M){if(t(h))return a;var c=P(y*1.4,2);return l(h,M,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,h,M){if(t(h))return a;var c=P(y,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,h,M){if(t(h))return a;var c=P(y,2),o=P(y*2,2);return l(h,M,"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,h,M){if(t(h))return a;var c=P(y,2),o=P(y*2,2);return l(h,M,"M0,0L-"+c+",-"+o+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,h,M){if(t(h))return a;var c=P(y*2,2),o=P(y,2);return l(h,M,"M0,0L"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,h,M){if(t(h))return a;var c=P(y*2,2),o=P(y,2);return l(h,M,"M0,0L-"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,h,M){if(t(h))return a;var c=P(y,2),o=P(y*2,2);return l(h,M,"M-"+c+",0H"+c+"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,h,M){if(t(h))return a;var c=P(y,2),o=P(y*2,2);return l(h,M,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+o+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,h,M){if(t(h))return a;var c=P(y*2,2),o=P(y,2);return l(h,M,"M0,-"+o+"V"+o+"M0,0L"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,h,M){if(t(h))return a;var c=P(y*2,2),o=P(y,2);return l(h,M,"M0,-"+o+"V"+o+"M0,0L-"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,h,M){if(t(h))return a;var c=v/2.5,o=2*y*p(c),d=2*y*r(c);return l(h,M,"M0,0L"+-o+","+d+"L"+o+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,h,M){if(t(h))return a;var c=v/4,o=2*y*p(c),d=2*y*r(c);return l(h,M,"M0,0L"+-o+","+d+"A "+2*y+","+2*y+" 0 0 1 "+o+","+d+"Z")},backoff:.4,noDot:!0}};function t(y){return y===null}var i,n,u,f;function l(y,h,M){if((!y||y%360===0)&&!h)return M;if(u===y&&f===h&&i===M)return n;u=y,f=h,i=M;function c(_,U){var F=p(_),z=r(_),B=U[0],N=U[1]+(h||0);return[B*F-N*z,B*z+N*F]}for(var o=y/180*v,d=0,T=0,S=g(M),C="",m=0;m<S.length;m++){var E=S[m],b=E[0],s=d,L=T;if(b==="M"||b==="L")d=+E[1],T=+E[2];else if(b==="m"||b==="l")d+=+E[1],T+=+E[2];else if(b==="H")d=+E[1];else if(b==="h")d+=+E[1];else if(b==="V")T=+E[1];else if(b==="v")T+=+E[1];else if(b==="A"){d=+E[1],T=+E[2];var A=c(o,[+E[6],+E[7]]);E[6]=A[0],E[7]=A[1],E[3]=+E[3]+y}(b==="H"||b==="V")&&(b="L"),(b==="h"||b==="v")&&(b="l"),(b==="m"||b==="l")&&(d-=s,T-=L);var k=c(o,[d,T]);(b==="H"||b==="V")&&(b="L"),(b==="M"||b==="L"||b==="m"||b==="l")&&(E[1]=k[0],E[2]=k[1]),E[0]=b,C+=E[0]+E.slice(1).join(",")}return n=C,C}},97644:function(H){H.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(H,j,e){var g=e(38248),P=e(24040),a=e(54460),x=e(3400),w=e(93792);H.exports=function(r){for(var t=r.calcdata,i=0;i<t.length;i++){var n=t[i],u=n[0].trace;if(u.visible===!0&&P.traceIs(u,"errorBarsOK")){var f=a.getFromId(r,u.xaxis),l=a.getFromId(r,u.yaxis);v(n,u,f,"x"),v(n,u,l,"y")}}};function v(p,r,t,i){var n=r["error_"+i]||{},u=n.visible&&["linear","log"].indexOf(t.type)!==-1,f=[];if(u){for(var l=w(n),y=0;y<p.length;y++){var h=p[y],M=h.i;if(M===void 0)M=y;else if(M===null)continue;var c=h[i];if(g(t.c2l(c))){var o=l(c,M);if(g(o[0])&&g(o[1])){var d=h[i+"s"]=c-o[0],T=h[i+"h"]=c+o[1];f.push(d,T)}}}var S=t._id,C=r._extremes[S],m=a.findExtremes(t,f,x.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(m.min),C.max=C.max.concat(m.max)}}},93792:function(H){H.exports=function(g){var P=g.type,a=g.symmetric;if(P==="data"){var x=g.array||[];if(a)return function(t,i){var n=+x[i];return[n,n]};var w=g.arrayminus||[];return function(t,i){var n=+x[i],u=+w[i];return!isNaN(n)||!isNaN(u)?[u||0,n||0]:[NaN,NaN]}}else{var v=j(P,g.value),p=j(P,g.valueminus);return a||g.valueminus===void 0?function(t){var i=v(t);return[i,i]}:function(t){return[p(t),v(t)]}}};function j(e,g){if(e==="percent")return function(P){return Math.abs(P*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(H,j,e){var g=e(38248),P=e(24040),a=e(3400),x=e(31780),w=e(97644);H.exports=function(v,p,r,t){var i="error_"+t.axis,n=x.newContainer(p,i),u=v[i]||{};function f(d,T){return a.coerce(u,n,w,d,T)}var l=u.array!==void 0||u.value!==void 0||u.type==="sqrt",y=f("visible",l);if(y!==!1){var h=f("type","array"in u?"data":"percent"),M=!0;h!=="sqrt"&&(M=f("symmetric",!((h==="data"?"arrayminus":"valueminus")in u))),h==="data"?(f("array"),f("traceref"),M||(f("arrayminus"),f("tracerefminus"))):(h==="percent"||h==="constant")&&(f("value"),M||f("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var o=p["error_"+t.inherit];(o||{}).visible&&f(c,!(u.color||g(u.thickness)||g(u.width)))}(!t.inherit||!n[c])&&(f("color",r),f("thickness"),f("width",P.traceIs(p,"gl3d")?0:4))}}},64968:function(H,j,e){var g=e(3400),P=e(67824).overrideAll,a=e(97644),x={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a)};delete x.error_x.copy_zstyle,delete x.error_y.copy_zstyle,delete x.error_y.copy_ystyle;var w={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a),error_z:g.extendFlat({},a)};delete w.error_x.copy_ystyle,delete w.error_y.copy_ystyle,delete w.error_z.copy_ystyle,delete w.error_z.copy_zstyle,H.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:x,bar:x,histogram:x,scatter3d:P(w,"calc","nested"),scattergl:P(x,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(H,j,e){var g=e(33428),P=e(38248),a=e(43616),x=e(43028);H.exports=function(p,r,t,i){var n,u=t.xaxis,f=t.yaxis,l=i&&i.duration>0,y=p._context.staticPlot;r.each(function(h){var M=h[0].trace,c=M.error_x||{},o=M.error_y||{},d;M.ids&&(d=function(m){return m.id});var T=x.hasMarkers(M)&&M.marker.maxdisplayed>0;!o.visible&&!c.visible&&(h=[]);var S=g.select(this).selectAll("g.errorbar").data(h,d);if(S.exit().remove(),!!h.length){c.visible||S.selectAll("path.xerror").remove(),o.visible||S.selectAll("path.yerror").remove(),S.style("opacity",1);var C=S.enter().append("g").classed("errorbar",!0);l&&C.style("opacity",0).transition().duration(i.duration).style("opacity",1),a.setClipUrl(S,t.layerClipId,p),S.each(function(m){var E=g.select(this),b=w(m,u,f);if(!(T&&!m.vis)){var s,L=E.select("path.yerror");if(o.visible&&P(b.x)&&P(b.yh)&&P(b.ys)){var A=o.width;s="M"+(b.x-A)+","+b.yh+"h"+2*A+"m-"+A+",0V"+b.ys,b.noYS||(s+="m-"+A+",0h"+2*A),n=!L.size(),n?L=E.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):l&&(L=L.transition().duration(i.duration).ease(i.easing)),L.attr("d",s)}else L.remove();var k=E.select("path.xerror");if(c.visible&&P(b.y)&&P(b.xh)&&P(b.xs)){var _=(c.copy_ystyle?o:c).width;s="M"+b.xh+","+(b.y-_)+"v"+2*_+"m0,-"+_+"H"+b.xs,b.noXS||(s+="m0,-"+_+"v"+2*_),n=!k.size(),n?k=E.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):l&&(k=k.transition().duration(i.duration).ease(i.easing)),k.attr("d",s)}else k.remove()}})}})};function w(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(H,j,e){var g=e(33428),P=e(76308);H.exports=function(x){x.each(function(w){var v=w[0].trace,p=v.error_y||{},r=v.error_x||{},t=g.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(H,j,e){var g=e(25376),P=e(65460).hoverlabel,a=e(92880).extendFlat;H.exports={hoverlabel:{bgcolor:a({},P.bgcolor,{arrayOk:!0}),bordercolor:a({},P.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:a({},P.align,{arrayOk:!0}),namelength:a({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(H,j,e){var g=e(3400),P=e(24040);H.exports=function(w){var v=w.calcdata,p=w._fullLayout;function r(f){return function(l){return g.coerceHoverinfo({hoverinfo:l},{_module:f._module},p)}}for(var t=0;t<v.length;t++){var i=v[t],n=i[0].trace;if(!P.traceIs(n,"pie-like")){var u=P.traceIs(n,"2dMap")?a:g.fillArray;u(n.hoverinfo,i,"hi",r(n)),n.hovertemplate&&u(n.hovertemplate,i,"ht"),n.hoverlabel&&(u(n.hoverlabel.bgcolor,i,"hbg"),u(n.hoverlabel.bordercolor,i,"hbc"),u(n.hoverlabel.font.size,i,"hts"),u(n.hoverlabel.font.color,i,"htc"),u(n.hoverlabel.font.family,i,"htf"),u(n.hoverlabel.namelength,i,"hnl"),u(n.hoverlabel.align,i,"hta"))}}};function a(x,w,v,p){p=p||g.identity,Array.isArray(x)&&(w[0][v]=p(x))}},62376:function(H,j,e){var g=e(24040),P=e(83292).hover;H.exports=function(x,w,v){var p=g.getComponentMethod("annotations","onClick")(x,x._hoverdata);v!==void 0&&P(x,w,v,!0);function r(){x.emit("plotly_click",{points:x._hoverdata,event:w})}x._hoverdata&&w&&w.target&&(p&&p.then?p.then(r):r(),w.stopImmediatePropagation&&w.stopImmediatePropagation())}},92456:function(H){H.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(H,j,e){var g=e(3400),P=e(55756),a=e(16132);H.exports=function(w,v,p,r){function t(n,u){return g.coerce(w,v,P,n,u)}var i=g.extendFlat({},r.hoverlabel);v.hovertemplate&&(i.namelength=-1),a(w,v,t,i)}},10624:function(H,j,e){var g=e(3400);j.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},j.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],i=p.yaxes||[],n=0;n<t.length;n++)for(var u=0;u<i.length;u++)if(r.indexOf(t[n]+i[u])!==-1)return!0;return!1}return r.indexOf(j.getSubplot(p))!==-1},j.flat=function(p,r){for(var t=new Array(p.length),i=0;i<p.length;i++)t[i]=r;return t},j.p2c=function(p,r){for(var t=new Array(p.length),i=0;i<p.length;i++)t[i]=p[i].p2c(r);return t},j.getDistanceFunction=function(p,r,t,i){return p==="closest"?i||j.quadrature(r,t):p.charAt(0)==="x"?r:t},j.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var i=0;i<p.length;i++){var n=r(p[i]);n<=t.distance&&(t.index=i,t.distance=n)}return t},j.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},j.quadrature=function(p,r){return function(t){var i=p(t),n=r(t);return Math.sqrt(i*i+n*n)}},j.makeEventData=function(p,r,t){var i="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var u=r._indexToPoints[i];u.length===1?n.pointIndex=u[0]:n.pointIndices=u}else n.pointIndex=i;return r._module.eventData?n=r._module.eventData(n,p,r,t,i):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),j.appendArrayPointValue(n,r,i),n},j.appendArrayPointValue=function(p,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var u=i[n],f=a(u);if(p[f]===void 0){var l=g.nestedProperty(r,u).get(),y=x(l,t);y!==void 0&&(p[f]=y)}}},j.appendArrayMultiPointValues=function(p,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var u=i[n],f=a(u);if(p[f]===void 0){for(var l=g.nestedProperty(r,u).get(),y=new Array(t.length),h=0;h<t.length;h++)y[h]=x(l,t[h]);p[f]=y}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(p){return P[p]||p}function x(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var w={x:!0,y:!0},v={"x unified":!0,"y unified":!0};j.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},j.isXYhover=function(p){return typeof p!="string"?!1:!!w[p]}},83292:function(H,j,e){var g=e(33428),P=e(38248),a=e(49760),x=e(3400),w=x.strTranslate,v=x.strRotate,p=e(95924),r=e(72736),t=e(72213),i=e(43616),n=e(76308),u=e(86476),f=e(54460),l=e(24040),y=e(10624),h=e(92456),M=e(77864),c=e(31140),o=h.YANGLE,d=Math.PI*o/180,T=1/Math.sin(d),S=Math.cos(d),C=Math.sin(d),m=h.HOVERARROWSIZE,E=h.HOVERTEXTPAD,b={box:!0,ohlc:!0,violin:!0,candlestick:!0},s={scatter:!0,scattergl:!0,splom:!0};j.hover=function(se,q,K,le){se=x.getGraphDiv(se);var ie=q.target;x.throttle(se._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){L(se,q,K,le,ie)})},j.loneHover=function(se,q){var K=!0;Array.isArray(se)||(K=!1,se=[se]);var le=q.gd,ie=X(le),he=oe(le),ye=se.map(function(Ue){var Be=Ue._x0||Ue.x0||Ue.x||0,Xe=Ue._x1||Ue.x1||Ue.x||0,ut=Ue._y0||Ue.y0||Ue.y||0,dt=Ue._y1||Ue.y1||Ue.y||0,at=Ue.eventData;if(at){var We=Math.min(Be,Xe),rt=Math.max(Be,Xe),st=Math.min(ut,dt),ht=Math.max(ut,dt),vt=Ue.trace;if(l.traceIs(vt,"gl3d")){var At=le._fullLayout[vt.scene]._scene.container,tt=At.offsetLeft,_e=At.offsetTop;We+=tt,rt+=tt,st+=_e,ht+=_e}at.bbox={x0:We+he,x1:rt+he,y0:st+ie,y1:ht+ie},q.inOut_bbox&&q.inOut_bbox.push(at.bbox)}else at=!1;return{color:Ue.color||n.defaultLine,x0:Ue.x0||Ue.x||0,x1:Ue.x1||Ue.x||0,y0:Ue.y0||Ue.y||0,y1:Ue.y1||Ue.y||0,xLabel:Ue.xLabel,yLabel:Ue.yLabel,zLabel:Ue.zLabel,text:Ue.text,name:Ue.name,idealAlign:Ue.idealAlign,borderColor:Ue.borderColor,fontFamily:Ue.fontFamily,fontSize:Ue.fontSize,fontColor:Ue.fontColor,nameLength:Ue.nameLength,textAlign:Ue.textAlign,trace:Ue.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ue.hovertemplate||!1,hovertemplateLabels:Ue.hovertemplateLabels||!1,eventData:at}}),Ce=!1,Ae=_(ye,{gd:le,hovermode:"closest",rotateLabels:Ce,bgColor:q.bgColor||n.background,container:g.select(q.container),outerContainer:q.outerContainer||q.container}),ke=Ae.hoverLabels,we=5,Ee=0,xe=0;ke.sort(function(Ue,Be){return Ue.y0-Be.y0}).each(function(Ue,Be){var Xe=Ue.y0-Ue.by/2;Xe-we<Ee?Ue.offset=Ee-Xe+we:Ue.offset=0,Ee=Xe+Ue.by+Ue.offset,Be===q.anchorIndex&&(xe=Ue.offset)}).each(function(Ue){Ue.offset-=xe});var Re=le._fullLayout._invScaleX,Ve=le._fullLayout._invScaleY;return N(ke,Ce,Re,Ve),K?ke:ke.node()};function L(ee,se,q,K,le){q||(q="xy");var ie=Array.isArray(q)?q:[q],he=ee._fullLayout,ye=he._plots||[],Ce=ye[q],Ae=he._has("cartesian");if(Ce){var ke=Ce.overlays.map(function(Pr){return Pr.id});ie=ie.concat(ke)}for(var we=ie.length,Ee=new Array(we),xe=new Array(we),Re=!1,Ve=0;Ve<we;Ve++){var Ue=ie[Ve];if(ye[Ue])Re=!0,Ee[Ve]=ye[Ue].xaxis,xe[Ve]=ye[Ue].yaxis;else if(he[Ue]&&he[Ue]._subplot){var Be=he[Ue]._subplot;Ee[Ve]=Be.xaxis,xe[Ve]=Be.yaxis}else{x.warn("Unrecognized subplot: "+Ue);return}}var Xe=se.hovermode||he.hovermode;if(Xe&&!Re&&(Xe="closest"),["x","y","closest","x unified","y unified"].indexOf(Xe)===-1||!ee.calcdata||ee.querySelector(".zoombox")||ee._dragging)return u.unhoverRaw(ee,se);var ut=he.hoverdistance;ut===-1&&(ut=1/0);var dt=he.spikedistance;dt===-1&&(dt=1/0);var at=[],We=[],rt,st,ht,vt,At,tt,_e,je,Ke,He,Ie,be,me,Me={hLinePoint:null,vLinePoint:null},Te=!1;if(Array.isArray(se))for(Xe="array",ht=0;ht<se.length;ht++)At=ee.calcdata[se[ht].curveNumber||0],At&&(tt=At[0].trace,At[0].trace.hoverinfo!=="skip"&&(We.push(At),tt.orientation==="h"&&(Te=!0)));else{for(vt=0;vt<ee.calcdata.length;vt++)At=ee.calcdata[vt],tt=At[0].trace,tt.hoverinfo!=="skip"&&y.isTraceInSubplots(tt,ie)&&(We.push(At),tt.orientation==="h"&&(Te=!0));var ze=!le,Je,nt;if(ze)"xpx"in se?Je=se.xpx:Je=Ee[0]._length/2,"ypx"in se?nt=se.ypx:nt=xe[0]._length/2;else{if(p.triggerHandler(ee,"plotly_beforehover",se)===!1)return;var pt=le.getBoundingClientRect();Je=se.clientX-pt.left,nt=se.clientY-pt.top,he._calcInverseTransform(ee);var yt=x.apply3DTransform(he._invTransform)(Je,nt);if(Je=yt[0],nt=yt[1],Je<0||Je>Ee[0]._length||nt<0||nt>xe[0]._length)return u.unhoverRaw(ee,se)}if(se.pointerX=Je+Ee[0]._offset,se.pointerY=nt+xe[0]._offset,"xval"in se?rt=y.flat(ie,se.xval):rt=y.p2c(Ee,Je),"yval"in se?st=y.flat(ie,se.yval):st=y.p2c(xe,nt),!P(rt[0])||!P(st[0]))return x.warn("Fx.hover failed",se,ee),u.unhoverRaw(ee,se)}var Yt=1/0;function Xt(Pr,Wr){for(vt=0;vt<We.length;vt++)if(At=We[vt],!(!At||!At[0]||!At[0].trace)&&(tt=At[0].trace,!(tt.visible!==!0||tt._length===0)&&["carpet","contourcarpet"].indexOf(tt._module.name)===-1)){if(tt.type==="splom"?(je=0,_e=ie[je]):(_e=y.getSubplot(tt),je=ie.indexOf(_e)),Ke=Xe,y.isUnifiedHover(Ke)&&(Ke=Ke.charAt(0)),be={cd:At,trace:tt,xa:Ee[je],ya:xe[je],maxHoverDistance:ut,maxSpikeDistance:dt,index:!1,distance:Math.min(Yt,ut),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:tt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},he[_e]&&(be.subplot=he[_e]._subplot),he._splomScenes&&he._splomScenes[tt.uid]&&(be.scene=he._splomScenes[tt.uid]),me=at.length,Ke==="array"){var Vr=se[vt];"pointNumber"in Vr?(be.index=Vr.pointNumber,Ke="closest"):(Ke="","xval"in Vr&&(He=Vr.xval,Ke="x"),"yval"in Vr&&(Ie=Vr.yval,Ke=Ke?"closest":"y"))}else Pr!==void 0&&Wr!==void 0?(He=Pr,Ie=Wr):(He=rt[je],Ie=st[je]);if(ut!==0)if(tt._module&&tt._module.hoverPoints){var on=tt._module.hoverPoints(be,He,Ie,Ke,{finiteRange:!0,hoverLayer:he._hoverlayer});if(on)for(var yn,mn=0;mn<on.length;mn++)yn=on[mn],P(yn.x0)&&P(yn.y0)&&at.push(V(yn,Xe))}else x.log("Unrecognized trace type in hover:",tt);if(Xe==="closest"&&at.length>me&&(at.splice(0,me),Yt=at[0].distance),Ae&&dt!==0&&at.length===0){be.distance=dt,be.index=!1;var Ln=tt._module.hoverPoints(be,He,Ie,"closest",{hoverLayer:he._hoverlayer});if(Ln&&(Ln=Ln.filter(function(na){return na.spikeDistance<=dt})),Ln&&Ln.length){var zn,aa=Ln.filter(function(na){return na.xa.showspikes&&na.xa.spikesnap!=="hovered data"});if(aa.length){var ha=aa[0];P(ha.x0)&&P(ha.y0)&&(zn=kt(ha),(!Me.vLinePoint||Me.vLinePoint.spikeDistance>zn.spikeDistance)&&(Me.vLinePoint=zn))}var pa=Ln.filter(function(na){return na.ya.showspikes&&na.ya.spikesnap!=="hovered data"});if(pa.length){var ua=pa[0];P(ua.x0)&&P(ua.y0)&&(zn=kt(ua),(!Me.hLinePoint||Me.hLinePoint.spikeDistance>zn.spikeDistance)&&(Me.hLinePoint=zn))}}}}}Xt();function St(Pr,Wr,Vr){for(var on=null,yn=1/0,mn,Ln=0;Ln<Pr.length;Ln++)mn=Pr[Ln].spikeDistance,Vr&&Ln===0&&(mn=-1/0),mn<=yn&&mn<=Wr&&(on=Pr[Ln],yn=mn);return on}function kt(Pr){return Pr?{xa:Pr.xa,ya:Pr.ya,x:Pr.xSpike!==void 0?Pr.xSpike:(Pr.x0+Pr.x1)/2,y:Pr.ySpike!==void 0?Pr.ySpike:(Pr.y0+Pr.y1)/2,distance:Pr.distance,spikeDistance:Pr.spikeDistance,curveNumber:Pr.trace.index,color:Pr.color,pointNumber:Pr.index}:null}var Kt={fullLayout:he,container:he._hoverlayer,event:se},mr=ee._spikepoints,mt={vLinePoint:Me.vLinePoint,hLinePoint:Me.hLinePoint};ee._spikepoints=mt;var Zt=function(){at.sort(function(Pr,Wr){return Pr.distance-Wr.distance}),at=fe(at,Xe)};Zt();var Qt=Xe.charAt(0),yr=(Qt==="x"||Qt==="y")&&at[0]&&s[at[0].trace.type];if(Ae&&dt!==0&&at.length!==0){var sr=at.filter(function(Pr){return Pr.ya.showspikes}),bt=St(sr,dt,yr);Me.hLinePoint=kt(bt);var lt=at.filter(function(Pr){return Pr.xa.showspikes}),Tt=St(lt,dt,yr);Me.vLinePoint=kt(Tt)}if(at.length===0){var Ct=u.unhoverRaw(ee,se);return Ae&&(Me.hLinePoint!==null||Me.vLinePoint!==null)&&re(mr)&&W(ee,Me,Kt),Ct}if(Ae&&re(mr)&&W(ee,Me,Kt),y.isXYhover(Ke)&&at[0].length!==0&&at[0].trace.type!=="splom"){var It=at[0];b[It.trace.type]?at=at.filter(function(Pr){return Pr.trace.index===It.trace.index}):at=[It];var Dt=at.length,Vt=$("x",It,he),Bt=$("y",It,he);Xt(Vt,Bt);var $t=[],fr={},cr=0,dr=function(Pr){var Wr=b[Pr.trace.type]?A(Pr):Pr.trace.index;if(!fr[Wr])cr++,fr[Wr]=cr,$t.push(Pr);else{var Vr=fr[Wr]-1,on=$t[Vr];Vr>0&&Math.abs(Pr.distance)<Math.abs(on.distance)&&($t[Vr]=Pr)}},Ye;for(Ye=0;Ye<Dt;Ye++)dr(at[Ye]);for(Ye=at.length-1;Ye>Dt-1;Ye--)dr(at[Ye]);at=$t,Zt()}var Ge=ee._hoverdata,zt=[],Ft=X(ee),Jt=oe(ee);for(ht=0;ht<at.length;ht++){var tr=at[ht],ur=y.makeEventData(tr,tr.trace,tr.cd);if(tr.hovertemplate!==!1){var nr=!1;tr.cd[tr.index]&&tr.cd[tr.index].ht&&(nr=tr.cd[tr.index].ht),tr.hovertemplate=nr||tr.trace.hovertemplate||!1}if(tr.xa&&tr.ya){var Nt=tr.x0+tr.xa._offset,hr=tr.x1+tr.xa._offset,gr=tr.y0+tr.ya._offset,br=tr.y1+tr.ya._offset,vr=Math.min(Nt,hr),Gr=Math.max(Nt,hr),Dr=Math.min(gr,br),_r=Math.max(gr,br);ur.bbox={x0:vr+Jt,x1:Gr+Jt,y0:Dr+Ft,y1:_r+Ft}}tr.eventData=[ur],zt.push(ur)}ee._hoverdata=zt;var hn=Xe==="y"&&(We.length>1||at.length>1)||Xe==="closest"&&Te&&at.length>1,nn=n.combine(he.plot_bgcolor||n.background,he.paper_bgcolor),Pn=_(at,{gd:ee,hovermode:Xe,rotateLabels:hn,bgColor:nn,container:he._hoverlayer,outerContainer:he._paper.node(),commonLabelOpts:he.hoverlabel,hoverdistance:he.hoverdistance}),Cn=Pn.hoverLabels;if(y.isUnifiedHover(Xe)||(F(Cn,hn,he,Pn.commonLabelBoundingBox),N(Cn,hn,he._invScaleX,he._invScaleY)),le&&le.tagName){var Ar=l.getComponentMethod("annotations","hasClickToShow")(ee,zt);t(g.select(le),Ar?"pointer":"")}!le||K||!Q(ee,se,Ge)||(Ge&&ee.emit("plotly_unhover",{event:se,points:Ge}),ee.emit("plotly_hover",{event:se,points:ee._hoverdata,xaxes:Ee,yaxes:xe,xvals:rt,yvals:st}))}function A(ee){return[ee.trace.index,ee.index,ee.x0,ee.y0,ee.name,ee.attr,ee.xa?ee.xa._id:"",ee.ya?ee.ya._id:""].join(",")}var k=/<extra>([\s\S]*)<\/extra>/;function _(ee,se){var q=se.gd,K=q._fullLayout,le=se.hovermode,ie=se.rotateLabels,he=se.bgColor,ye=se.container,Ce=se.outerContainer,Ae=se.commonLabelOpts||{};if(ee.length===0)return[[]];var ke=se.fontFamily||h.HOVERFONT,we=se.fontSize||h.HOVERFONTSIZE,Ee=ee[0],xe=Ee.xa,Re=Ee.ya,Ve=le.charAt(0),Ue=Ve+"Label",Be=Ee[Ue];if(Be===void 0&&xe.type==="multicategory")for(var Xe=0;Xe<ee.length&&(Be=ee[Xe][Ue],Be===void 0);Xe++);var ut=Y(q,Ce),dt=ut.top,at=ut.width,We=ut.height,rt=Be!==void 0&&Ee.distance<=se.hoverdistance&&(le==="x"||le==="y");if(rt){var st=!0,ht,vt;for(ht=0;ht<ee.length;ht++)if(st&&ee[ht].zLabel===void 0&&(st=!1),vt=ee[ht].hoverinfo||ee[ht].trace.hoverinfo,vt){var At=Array.isArray(vt)?vt:vt.split("+");if(At.indexOf("all")===-1&&At.indexOf(le)===-1){rt=!1;break}}st&&(rt=!1)}var tt=ye.selectAll("g.axistext").data(rt?[0]:[]);tt.enter().append("g").classed("axistext",!0),tt.exit().remove();var _e={minX:0,maxX:0,minY:0,maxY:0};if(tt.each(function(){var Dt=g.select(this),Vt=x.ensureSingle(Dt,"path","",function(_r){_r.style({"stroke-width":"1px"})}),Bt=x.ensureSingle(Dt,"text","",function(_r){_r.attr("data-notex",1)}),$t=Ae.bgcolor||n.defaultLine,fr=Ae.bordercolor||n.contrast($t),cr=n.contrast($t),dr={family:Ae.font.family||ke,size:Ae.font.size||we,color:Ae.font.color||cr};Vt.style({fill:$t,stroke:fr}),Bt.text(Be).call(i.font,dr).call(r.positionText,0,0).call(r.convertToTspans,q),Dt.attr("transform","");var Ye=Y(q,Bt.node()),Ge,zt;if(le==="x"){var Ft=xe.side==="top"?"-":"";Bt.attr("text-anchor","middle").call(r.positionText,0,xe.side==="top"?dt-Ye.bottom-m-E:dt-Ye.top+m+E),Ge=xe._offset+(Ee.x0+Ee.x1)/2,zt=Re._offset+(xe.side==="top"?0:Re._length);var Jt=Ye.width/2+E,tr=Ge;Ge<Jt?tr=Jt:Ge>K.width-Jt&&(tr=K.width-Jt),Vt.attr("d","M"+(Ge-tr)+",0L"+(Ge-tr+m)+","+Ft+m+"H"+Jt+"v"+Ft+(E*2+Ye.height)+"H"+-Jt+"V"+Ft+m+"H"+(Ge-tr-m)+"Z"),Ge=tr,_e.minX=Ge-Jt,_e.maxX=Ge+Jt,xe.side==="top"?(_e.minY=zt-(E*2+Ye.height),_e.maxY=zt-E):(_e.minY=zt+E,_e.maxY=zt+(E*2+Ye.height))}else{var ur,nr,Nt;Re.side==="right"?(ur="start",nr=1,Nt="",Ge=xe._offset+xe._length):(ur="end",nr=-1,Nt="-",Ge=xe._offset),zt=Re._offset+(Ee.y0+Ee.y1)/2,Bt.attr("text-anchor",ur),Vt.attr("d","M0,0L"+Nt+m+","+m+"V"+(E+Ye.height/2)+"h"+Nt+(E*2+Ye.width)+"V-"+(E+Ye.height/2)+"H"+Nt+m+"V-"+m+"Z"),_e.minY=zt-(E+Ye.height/2),_e.maxY=zt+(E+Ye.height/2),Re.side==="right"?(_e.minX=Ge+m,_e.maxX=Ge+m+(E*2+Ye.width)):(_e.minX=Ge-m-(E*2+Ye.width),_e.maxX=Ge-m);var hr=Ye.height/2,gr=dt-Ye.top-hr,br="clip"+K._uid+"commonlabel"+Re._id,vr;if(Ge<Ye.width+2*E+m){vr="M-"+(m+E)+"-"+hr+"h-"+(Ye.width-E)+"V"+hr+"h"+(Ye.width-E)+"Z";var Gr=Ye.width-Ge+E;r.positionText(Bt,Gr,gr),ur==="end"&&Bt.selectAll("tspan").each(function(){var _r=g.select(this),hn=i.tester.append("text").text(_r.text()).call(i.font,dr),nn=Y(q,hn.node());Math.round(nn.width)<Math.round(Ye.width)&&_r.attr("x",Gr-nn.width),hn.remove()})}else r.positionText(Bt,nr*(E+m),gr),vr=null;var Dr=K._topclips.selectAll("#"+br).data(vr?[0]:[]);Dr.enter().append("clipPath").attr("id",br).append("path"),Dr.exit().remove(),Dr.select("path").attr("d",vr),i.setClipUrl(Bt,vr?br:null,q)}Dt.attr("transform",w(Ge,zt))}),y.isUnifiedHover(le)){ye.selectAll("g.hovertext").remove();var je=ee.filter(function(Dt){return Dt.hoverinfo!=="none"});if(je.length===0)return[];var Ke=K.hoverlabel,He=Ke.font,Ie={showlegend:!0,legend:{title:{text:Be,font:He},font:He,bgcolor:Ke.bgcolor,bordercolor:Ke.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:K.legend?K.legend.traceorder:void 0,orientation:"v"}},be={font:He};M(Ie,be,q._fullData);var me=be.legend;me.entries=[];for(var Me=0;Me<je.length;Me++){var Te=je[Me];if(Te.hoverinfo!=="none"){var ze=U(Te,!0,le,K,Be),Je=ze[0],nt=ze[1];Te.name=nt,nt!==""?Te.text=nt+" : "+Je:Te.text=Je;var pt=Te.cd[Te.index];pt&&(pt.mc&&(Te.mc=pt.mc),pt.mcc&&(Te.mc=pt.mcc),pt.mlc&&(Te.mlc=pt.mlc),pt.mlcc&&(Te.mlc=pt.mlcc),pt.mlw&&(Te.mlw=pt.mlw),pt.mrc&&(Te.mrc=pt.mrc),pt.dir&&(Te.dir=pt.dir)),Te._distinct=!0,me.entries.push([Te])}}me.entries.sort(function(Dt,Vt){return Dt[0].trace.index-Vt[0].trace.index}),me.layer=ye,me._inHover=!0,me._groupTitleFont=Ke.grouptitlefont,c(q,me);var yt=ye.select("g.legend"),Yt=Y(q,yt.node()),Xt=Yt.width+2*E,St=Yt.height+2*E,kt=je[0],Kt=(kt.x0+kt.x1)/2,mr=(kt.y0+kt.y1)/2,mt=!(l.traceIs(kt.trace,"bar-like")||l.traceIs(kt.trace,"box-violin")),Zt,Qt;Ve==="y"?mt?(Qt=mr-E,Zt=mr+E):(Qt=Math.min.apply(null,je.map(function(Dt){return Math.min(Dt.y0,Dt.y1)})),Zt=Math.max.apply(null,je.map(function(Dt){return Math.max(Dt.y0,Dt.y1)}))):Qt=Zt=x.mean(je.map(function(Dt){return(Dt.y0+Dt.y1)/2}))-St/2;var yr,sr;Ve==="x"?mt?(yr=Kt+E,sr=Kt-E):(yr=Math.max.apply(null,je.map(function(Dt){return Math.max(Dt.x0,Dt.x1)})),sr=Math.min.apply(null,je.map(function(Dt){return Math.min(Dt.x0,Dt.x1)}))):yr=sr=x.mean(je.map(function(Dt){return(Dt.x0+Dt.x1)/2}))-Xt/2;var bt=xe._offset,lt=Re._offset;Zt+=lt,yr+=bt,sr+=bt-Xt,Qt+=lt-St;var Tt,Ct;return yr+Xt<at&&yr>=0?Tt=yr:sr+Xt<at&&sr>=0?Tt=sr:bt+Xt<at?Tt=bt:yr-Kt<Kt-sr+Xt?Tt=at-Xt:Tt=0,Tt+=E,Zt+St<We&&Zt>=0?Ct=Zt:Qt+St<We&&Qt>=0?Ct=Qt:lt+St<We?Ct=lt:Zt-mr<mr-Qt+St?Ct=We-St:Ct=0,Ct+=E,yt.attr("transform",w(Tt-1,Ct-1)),yt}var It=ye.selectAll("g.hovertext").data(ee,function(Dt){return A(Dt)});return It.enter().append("g").classed("hovertext",!0).each(function(){var Dt=g.select(this);Dt.append("rect").call(n.fill,n.addOpacity(he,.8)),Dt.append("text").classed("name",!0),Dt.append("path").style("stroke-width","1px"),Dt.append("text").classed("nums",!0).call(i.font,ke,we)}),It.exit().remove(),It.each(function(Dt){var Vt=g.select(this).attr("transform",""),Bt=Dt.color;Array.isArray(Bt)&&(Bt=Bt[Dt.eventData[0].pointNumber]);var $t=Dt.bgcolor||Bt,fr=n.combine(n.opacity($t)?$t:n.defaultLine,he),cr=n.combine(n.opacity(Bt)?Bt:n.defaultLine,he),dr=Dt.borderColor||n.contrast(fr),Ye=U(Dt,rt,le,K,Be,Vt),Ge=Ye[0],zt=Ye[1],Ft=Vt.select("text.nums").call(i.font,Dt.fontFamily||ke,Dt.fontSize||we,Dt.fontColor||dr).text(Ge).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,q),Jt=Vt.select("text.name"),tr=0,ur=0;if(zt&&zt!==Ge){Jt.call(i.font,Dt.fontFamily||ke,Dt.fontSize||we,cr).text(zt).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,q);var nr=Y(q,Jt.node());tr=nr.width+2*E,ur=nr.height+2*E}else Jt.remove(),Vt.select("rect").remove();Vt.select("path").style({fill:fr,stroke:dr});var Nt=Dt.xa._offset+(Dt.x0+Dt.x1)/2,hr=Dt.ya._offset+(Dt.y0+Dt.y1)/2,gr=Math.abs(Dt.x1-Dt.x0),br=Math.abs(Dt.y1-Dt.y0),vr=Y(q,Ft.node()),Gr=vr.width/K._invScaleX,Dr=vr.height/K._invScaleY;Dt.ty0=(dt-vr.top)/K._invScaleY,Dt.bx=Gr+2*E,Dt.by=Math.max(Dr+2*E,ur),Dt.anchor="start",Dt.txwidth=Gr,Dt.tx2width=tr,Dt.offset=0;var _r=(Gr+m+E+tr)*K._invScaleX,hn,nn;if(ie)Dt.pos=Nt,hn=hr+br/2+_r<=We,nn=hr-br/2-_r>=0,(Dt.idealAlign==="top"||!hn)&&nn?(hr-=br/2,Dt.anchor="end"):hn?(hr+=br/2,Dt.anchor="start"):Dt.anchor="middle",Dt.crossPos=hr;else{if(Dt.pos=hr,hn=Nt+gr/2+_r<=at,nn=Nt-gr/2-_r>=0,(Dt.idealAlign==="left"||!hn)&&nn)Nt-=gr/2,Dt.anchor="end";else if(hn)Nt+=gr/2,Dt.anchor="start";else{Dt.anchor="middle";var Pn=_r/2,Cn=Nt+Pn-at,Ar=Nt-Pn;Cn>0&&(Nt-=Cn),Ar<0&&(Nt+=-Ar)}Dt.crossPos=Nt}Ft.attr("text-anchor",Dt.anchor),tr&&Jt.attr("text-anchor",Dt.anchor),Vt.attr("transform",w(Nt,hr)+(ie?v(o):""))}),{hoverLabels:It,commonLabelBoundingBox:_e}}function U(ee,se,q,K,le,ie){var he="",ye="";ee.nameOverride!==void 0&&(ee.name=ee.nameOverride),ee.name&&(ee.trace._meta&&(ee.name=x.templateString(ee.name,ee.trace._meta)),he=ne(ee.name,ee.nameLength));var Ce=q.charAt(0),Ae=Ce==="x"?"y":"x";ee.zLabel!==void 0?(ee.xLabel!==void 0&&(ye+="x: "+ee.xLabel+"<br>"),ee.yLabel!==void 0&&(ye+="y: "+ee.yLabel+"<br>"),ee.trace.type!=="choropleth"&&ee.trace.type!=="choroplethmapbox"&&(ye+=(ye?"z: ":"")+ee.zLabel)):se&&ee[Ce+"Label"]===le?ye=ee[Ae+"Label"]||"":ee.xLabel===void 0?ee.yLabel!==void 0&&ee.trace.type!=="scattercarpet"&&(ye=ee.yLabel):ee.yLabel===void 0?ye=ee.xLabel:ye="("+ee.xLabel+", "+ee.yLabel+")",(ee.text||ee.text===0)&&!Array.isArray(ee.text)&&(ye+=(ye?"<br>":"")+ee.text),ee.extraText!==void 0&&(ye+=(ye?"<br>":"")+ee.extraText),ie&&ye===""&&!ee.hovertemplate&&(he===""&&ie.remove(),ye=he);var ke=ee.hovertemplate||!1;if(ke){var we=ee.hovertemplateLabels||ee;ee[Ce+"Label"]!==le&&(we[Ce+"other"]=we[Ce+"Val"],we[Ce+"otherLabel"]=we[Ce+"Label"]),ye=x.hovertemplateString(ke,we,K._d3locale,ee.eventData[0]||{},ee.trace._meta),ye=ye.replace(k,function(Ee,xe){return he=ne(xe,ee.nameLength),""})}return[ye,he]}function F(ee,se,q,K){var le=se?"xa":"ya",ie=se?"ya":"xa",he=0,ye=1,Ce=ee.size(),Ae=new Array(Ce),ke=0,we=K.minX,Ee=K.maxX,xe=K.minY,Re=K.maxY,Ve=function(He){return He*q._invScaleX},Ue=function(He){return He*q._invScaleY};ee.each(function(He){var Ie=He[le],be=He[ie],me=Ie._id.charAt(0)==="x",Me=Ie.range;ke===0&&Me&&Me[0]>Me[1]!==me&&(ye=-1);var Te=0,ze=me?q.width:q.height;if(q.hovermode==="x"||q.hovermode==="y"){var Je=z(He,se),nt=He.anchor,pt=nt==="end"?-1:1,yt,Yt;if(nt==="middle")yt=He.crossPos+(me?Ue(Je.y-He.by/2):Ve(He.bx/2+He.tx2width/2)),Yt=yt+(me?Ue(He.by):Ve(He.bx));else if(me)yt=He.crossPos+Ue(m+Je.y)-Ue(He.by/2-m),Yt=yt+Ue(He.by);else{var Xt=Ve(pt*m+Je.x),St=Xt+Ve(pt*He.bx);yt=He.crossPos+Math.min(Xt,St),Yt=He.crossPos+Math.max(Xt,St)}me?xe!==void 0&&Re!==void 0&&Math.min(Yt,Re)-Math.max(yt,xe)>1&&(be.side==="left"?(Te=be._mainLinePosition,ze=q.width):ze=be._mainLinePosition):we!==void 0&&Ee!==void 0&&Math.min(Yt,Ee)-Math.max(yt,we)>1&&(be.side==="top"?(Te=be._mainLinePosition,ze=q.height):ze=be._mainLinePosition)}Ae[ke++]=[{datum:He,traceIndex:He.trace.index,dp:0,pos:He.pos,posref:He.posref,size:He.by*(me?T:1)/2,pmin:Te,pmax:ze}]}),Ae.sort(function(He,Ie){return He[0].posref-Ie[0].posref||ye*(Ie[0].traceIndex-He[0].traceIndex)});var Be,Xe,ut,dt,at,We,rt;function st(He){var Ie=He[0],be=He[He.length-1];if(Xe=Ie.pmin-Ie.pos-Ie.dp+Ie.size,ut=be.pos+be.dp+be.size-Ie.pmax,Xe>.01){for(at=He.length-1;at>=0;at--)He[at].dp+=Xe;Be=!1}if(!(ut<.01)){if(Xe<-.01){for(at=He.length-1;at>=0;at--)He[at].dp-=ut;Be=!1}if(Be){var me=0;for(dt=0;dt<He.length;dt++)We=He[dt],We.pos+We.dp+We.size>Ie.pmax&&me++;for(dt=He.length-1;dt>=0&&!(me<=0);dt--)We=He[dt],We.pos>Ie.pmax-1&&(We.del=!0,me--);for(dt=0;dt<He.length&&!(me<=0);dt++)if(We=He[dt],We.pos<Ie.pmin+1)for(We.del=!0,me--,ut=We.size*2,at=He.length-1;at>=0;at--)He[at].dp-=ut;for(dt=He.length-1;dt>=0&&!(me<=0);dt--)We=He[dt],We.pos+We.dp+We.size>Ie.pmax&&(We.del=!0,me--)}}}for(;!Be&&he<=Ce;){for(he++,Be=!0,dt=0;dt<Ae.length-1;){var ht=Ae[dt],vt=Ae[dt+1],At=ht[ht.length-1],tt=vt[0];if(Xe=At.pos+At.dp+At.size-tt.pos-tt.dp+tt.size,Xe>.01&&At.pmin===tt.pmin&&At.pmax===tt.pmax){for(at=vt.length-1;at>=0;at--)vt[at].dp+=Xe;for(ht.push.apply(ht,vt),Ae.splice(dt+1,1),rt=0,at=ht.length-1;at>=0;at--)rt+=ht[at].dp;for(ut=rt/ht.length,at=ht.length-1;at>=0;at--)ht[at].dp-=ut;Be=!1}else dt++}Ae.forEach(st)}for(dt=Ae.length-1;dt>=0;dt--){var _e=Ae[dt];for(at=_e.length-1;at>=0;at--){var je=_e[at],Ke=je.datum;Ke.offset=je.dp,Ke.del=je.del}}}function z(ee,se){var q=0,K=ee.offset;return se&&(K*=-C,q=ee.offset*S),{x:q,y:K}}function B(ee){var se={start:1,end:-1,middle:0}[ee.anchor],q=se*(m+E),K=q+se*(ee.txwidth+E),le=ee.anchor==="middle";return le&&(q-=ee.tx2width/2,K+=ee.txwidth/2+E),{alignShift:se,textShiftX:q,text2ShiftX:K}}function N(ee,se,q,K){var le=function(he){return he*q},ie=function(he){return he*K};ee.each(function(he){var ye=g.select(this);if(he.del)return ye.remove();var Ce=ye.select("text.nums"),Ae=he.anchor,ke=Ae==="end"?-1:1,we=B(he),Ee=z(he,se),xe=Ee.x,Re=Ee.y,Ve=Ae==="middle";ye.select("path").attr("d",Ve?"M-"+le(he.bx/2+he.tx2width/2)+","+ie(Re-he.by/2)+"h"+le(he.bx)+"v"+ie(he.by)+"h-"+le(he.bx)+"Z":"M0,0L"+le(ke*m+xe)+","+ie(m+Re)+"v"+ie(he.by/2-m)+"h"+le(ke*he.bx)+"v-"+ie(he.by)+"H"+le(ke*m+xe)+"V"+ie(Re-m)+"Z");var Ue=xe+we.textShiftX,Be=Re+he.ty0-he.by/2+E,Xe=he.textAlign||"auto";Xe!=="auto"&&(Xe==="left"&&Ae!=="start"?(Ce.attr("text-anchor","start"),Ue=Ve?-he.bx/2-he.tx2width/2+E:-he.bx-E):Xe==="right"&&Ae!=="end"&&(Ce.attr("text-anchor","end"),Ue=Ve?he.bx/2-he.tx2width/2-E:he.bx+E)),Ce.call(r.positionText,le(Ue),ie(Be)),he.tx2width&&(ye.select("text.name").call(r.positionText,le(we.text2ShiftX+we.alignShift*E+xe),ie(Re+he.ty0-he.by/2+E)),ye.select("rect").call(i.setRect,le(we.text2ShiftX+(we.alignShift-1)*he.tx2width/2+xe),ie(Re-he.by/2-1),le(he.tx2width),ie(he.by+2)))})}function V(ee,se){var q=ee.index,K=ee.trace||{},le=ee.cd[0],ie=ee.cd[q]||{};function he(Ee){return Ee||P(Ee)&&Ee===0}var ye=Array.isArray(q)?function(Ee,xe){var Re=x.castOption(le,q,Ee);return he(Re)?Re:x.extractOption({},K,"",xe)}:function(Ee,xe){return x.extractOption(ie,K,Ee,xe)};function Ce(Ee,xe,Re){var Ve=ye(xe,Re);he(Ve)&&(ee[Ee]=Ve)}if(Ce("hoverinfo","hi","hoverinfo"),Ce("bgcolor","hbg","hoverlabel.bgcolor"),Ce("borderColor","hbc","hoverlabel.bordercolor"),Ce("fontFamily","htf","hoverlabel.font.family"),Ce("fontSize","hts","hoverlabel.font.size"),Ce("fontColor","htc","hoverlabel.font.color"),Ce("nameLength","hnl","hoverlabel.namelength"),Ce("textAlign","hta","hoverlabel.align"),ee.posref=se==="y"||se==="closest"&&K.orientation==="h"?ee.xa._offset+(ee.x0+ee.x1)/2:ee.ya._offset+(ee.y0+ee.y1)/2,ee.x0=x.constrain(ee.x0,0,ee.xa._length),ee.x1=x.constrain(ee.x1,0,ee.xa._length),ee.y0=x.constrain(ee.y0,0,ee.ya._length),ee.y1=x.constrain(ee.y1,0,ee.ya._length),ee.xLabelVal!==void 0&&(ee.xLabel="xLabel"in ee?ee.xLabel:f.hoverLabelText(ee.xa,ee.xLabelVal,K.xhoverformat),ee.xVal=ee.xa.c2d(ee.xLabelVal)),ee.yLabelVal!==void 0&&(ee.yLabel="yLabel"in ee?ee.yLabel:f.hoverLabelText(ee.ya,ee.yLabelVal,K.yhoverformat),ee.yVal=ee.ya.c2d(ee.yLabelVal)),ee.zLabelVal!==void 0&&ee.zLabel===void 0&&(ee.zLabel=String(ee.zLabelVal)),!isNaN(ee.xerr)&&!(ee.xa.type==="log"&&ee.xerr<=0)){var Ae=f.tickText(ee.xa,ee.xa.c2l(ee.xerr),"hover").text;ee.xerrneg!==void 0?ee.xLabel+=" +"+Ae+" / -"+f.tickText(ee.xa,ee.xa.c2l(ee.xerrneg),"hover").text:ee.xLabel+=" ± "+Ae,se==="x"&&(ee.distance+=1)}if(!isNaN(ee.yerr)&&!(ee.ya.type==="log"&&ee.yerr<=0)){var ke=f.tickText(ee.ya,ee.ya.c2l(ee.yerr),"hover").text;ee.yerrneg!==void 0?ee.yLabel+=" +"+ke+" / -"+f.tickText(ee.ya,ee.ya.c2l(ee.yerrneg),"hover").text:ee.yLabel+=" ± "+ke,se==="y"&&(ee.distance+=1)}var we=ee.hoverinfo||ee.trace.hoverinfo;return we&&we!=="all"&&(we=Array.isArray(we)?we:we.split("+"),we.indexOf("x")===-1&&(ee.xLabel=void 0),we.indexOf("y")===-1&&(ee.yLabel=void 0),we.indexOf("z")===-1&&(ee.zLabel=void 0),we.indexOf("text")===-1&&(ee.text=void 0),we.indexOf("name")===-1&&(ee.name=void 0)),ee}function W(ee,se,q){var K=q.container,le=q.fullLayout,ie=le._size,he=q.event,ye=!!se.hLinePoint,Ce=!!se.vLinePoint,Ae,ke;if(K.selectAll(".spikeline").remove(),!!(Ce||ye)){var we=n.combine(le.plot_bgcolor,le.paper_bgcolor);if(ye){var Ee=se.hLinePoint,xe,Re;Ae=Ee&&Ee.xa,ke=Ee&&Ee.ya;var Ve=ke.spikesnap;Ve==="cursor"?(xe=he.pointerX,Re=he.pointerY):(xe=Ae._offset+Ee.x,Re=ke._offset+Ee.y);var Ue=a.readability(Ee.color,we)<1.5?n.contrast(we):Ee.color,Be=ke.spikemode,Xe=ke.spikethickness,ut=ke.spikecolor||Ue,dt=f.getPxPosition(ee,ke),at,We;if(Be.indexOf("toaxis")!==-1||Be.indexOf("across")!==-1){if(Be.indexOf("toaxis")!==-1&&(at=dt,We=xe),Be.indexOf("across")!==-1){var rt=ke._counterDomainMin,st=ke._counterDomainMax;ke.anchor==="free"&&(rt=Math.min(rt,ke.position),st=Math.max(st,ke.position)),at=ie.l+rt*ie.w,We=ie.l+st*ie.w}K.insert("line",":first-child").attr({x1:at,x2:We,y1:Re,y2:Re,"stroke-width":Xe,stroke:ut,"stroke-dasharray":i.dashStyle(ke.spikedash,Xe)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:at,x2:We,y1:Re,y2:Re,"stroke-width":Xe+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}Be.indexOf("marker")!==-1&&K.insert("circle",":first-child").attr({cx:dt+(ke.side!=="right"?Xe:-Xe),cy:Re,r:Xe,fill:ut}).classed("spikeline",!0)}if(Ce){var ht=se.vLinePoint,vt,At;Ae=ht&&ht.xa,ke=ht&&ht.ya;var tt=Ae.spikesnap;tt==="cursor"?(vt=he.pointerX,At=he.pointerY):(vt=Ae._offset+ht.x,At=ke._offset+ht.y);var _e=a.readability(ht.color,we)<1.5?n.contrast(we):ht.color,je=Ae.spikemode,Ke=Ae.spikethickness,He=Ae.spikecolor||_e,Ie=f.getPxPosition(ee,Ae),be,me;if(je.indexOf("toaxis")!==-1||je.indexOf("across")!==-1){if(je.indexOf("toaxis")!==-1&&(be=Ie,me=At),je.indexOf("across")!==-1){var Me=Ae._counterDomainMin,Te=Ae._counterDomainMax;Ae.anchor==="free"&&(Me=Math.min(Me,Ae.position),Te=Math.max(Te,Ae.position)),be=ie.t+(1-Te)*ie.h,me=ie.t+(1-Me)*ie.h}K.insert("line",":first-child").attr({x1:vt,x2:vt,y1:be,y2:me,"stroke-width":Ke,stroke:He,"stroke-dasharray":i.dashStyle(Ae.spikedash,Ke)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:vt,x2:vt,y1:be,y2:me,"stroke-width":Ke+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}je.indexOf("marker")!==-1&&K.insert("circle",":first-child").attr({cx:vt,cy:Ie-(Ae.side!=="top"?Ke:-Ke),r:Ke,fill:He}).classed("spikeline",!0)}}}function Q(ee,se,q){if(!q||q.length!==ee._hoverdata.length)return!0;for(var K=q.length-1;K>=0;K--){var le=q[K],ie=ee._hoverdata[K];if(le.curveNumber!==ie.curveNumber||String(le.pointNumber)!==String(ie.pointNumber)||String(le.pointNumbers)!==String(ie.pointNumbers))return!0}return!1}function re(ee,se){return!se||se.vLinePoint!==ee._spikepoints.vLinePoint||se.hLinePoint!==ee._spikepoints.hLinePoint}function ne(ee,se){return r.plainText(ee||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function fe(ee,se){for(var q=se.charAt(0),K=[],le=[],ie=[],he=0;he<ee.length;he++){var ye=ee[he];l.traceIs(ye.trace,"bar-like")||l.traceIs(ye.trace,"box-violin")?ie.push(ye):ye.trace[q+"period"]?le.push(ye):K.push(ye)}return K.concat(le).concat(ie)}function $(ee,se,q){var K=se[ee+"a"],le=se[ee+"Val"],ie=se.cd[0];if(K.type==="category"||K.type==="multicategory")le=K._categoriesMap[le];else if(K.type==="date"){var he=se.trace[ee+"periodalignment"];if(he){var ye=se.cd[se.index],Ce=ye[ee+"Start"];Ce===void 0&&(Ce=ye[ee]);var Ae=ye[ee+"End"];Ae===void 0&&(Ae=ye[ee]);var ke=Ae-Ce;he==="end"?le+=ke:he==="middle"&&(le+=ke/2)}le=K.d2c(le)}return ie&&ie.t&&ie.t.posLetter===K._id&&(q.boxmode==="group"||q.violinmode==="group")&&(le+=ie.t.dPos),le}function X(ee){return ee.offsetTop+ee.clientTop}function oe(ee){return ee.offsetLeft+ee.clientLeft}function Y(ee,se){var q=ee._fullLayout,K=se.getBoundingClientRect(),le=K.left,ie=K.top,he=le+K.width,ye=ie+K.height,Ce=x.apply3DTransform(q._invTransform)(le,ie),Ae=x.apply3DTransform(q._invTransform)(he,ye),ke=Ce[0],we=Ce[1],Ee=Ae[0],xe=Ae[1];return{x:ke,y:we,width:Ee-ke,height:xe-we,top:Math.min(we,xe),left:Math.min(ke,Ee),right:Math.max(ke,Ee),bottom:Math.max(we,xe)}}},16132:function(H,j,e){var g=e(3400),P=e(76308),a=e(10624).isUnifiedHover;H.exports=function(w,v,p,r){r=r||{};var t=v.legend;function i(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(r.font||(r.font={}),i("size"),i("family"),i("color"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),g.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(H,j,e){var g=e(3400),P=e(65460);H.exports=function(x,w){function v(p,r){return w[p]!==void 0?w[p]:g.coerce(x,w,P,p,r)}return v("clickmode"),v("hovermode")}},93024:function(H,j,e){var g=e(33428),P=e(3400),a=e(86476),x=e(10624),w=e(65460),v=e(83292);H.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:w},attributes:e(55756),layoutAttributes:w,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:x.getDistanceFunction,getClosest:x.getClosest,inbox:x.inbox,quadrature:x.quadrature,appendArrayPointValue:x.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(i){var n=P.isD3Selection(i)?i:g.select(i);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(i,n,u){return P.castOption(i,n,"hoverlabel."+u)}function t(i,n,u){function f(l){return P.coerceHoverinfo({hoverinfo:l},{_module:i._module},n)}return P.castOption(i,u,"hoverinfo",f)}},65460:function(H,j,e){var g=e(92456),P=e(25376),a=P({editType:"none"});a.family.dflt=g.HOVERFONT,a.size.dflt=g.HOVERFONTSIZE,H.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(H,j,e){var g=e(3400),P=e(65460),a=e(41008),x=e(16132);H.exports=function(v,p){function r(l,y){return g.coerce(v,p,P,l,y)}var t=a(v,p);t&&(r("hoverdistance"),r("spikedistance"));var i=r("dragmode");i==="select"&&r("selectdirection");var n=p._has("mapbox"),u=p._has("geo"),f=p._basePlotModules.length;p.dragmode==="zoom"&&((n||u)&&f===1||n&&u&&f===2)&&(p.dragmode="pan"),x(v,p,r),g.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(H,j,e){var g=e(3400),P=e(16132),a=e(65460);H.exports=function(w,v){function p(r,t){return g.coerce(w,v,a,r,t)}P(w,v,p)}},12704:function(H,j,e){var g=e(3400),P=e(53756).counter,a=e(86968).u,x=e(33816).idRegex,w=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[x.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[x.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(u,f,l){var y=f[l+"axes"],h=Object.keys((u._splomAxes||{})[l]||{});if(Array.isArray(y))return y;if(h.length)return h}function r(u,f){var l=u.grid||{},y=p(f,l,"x"),h=p(f,l,"y");if(!u.grid&&!y&&!h)return;var M=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(y),o=Array.isArray(h),d=c&&y!==l.xaxes&&o&&h!==l.yaxes,T,S;M?(T=l.subplots.length,S=l.subplots[0].length):(o&&(T=h.length),c&&(S=y.length));var C=w.newContainer(f,"grid");function m(z,B){return g.coerce(l,C,v,z,B)}var E=m("rows",T),b=m("columns",S);if(!(E*b>1)){delete f.grid;return}if(!M&&!c&&!o){var s=m("pattern")==="independent";s&&(M=!0)}C._hasSubplotGrid=M;var L=m("roworder"),A=L==="top to bottom",k=M?.2:.1,_=M?.3:.1,U,F;d&&f._splomGridDflt&&(U=f._splomGridDflt.xside,F=f._splomGridDflt.yside),C._domains={x:t("x",m,k,U,b),y:t("y",m,_,F,E,A)}}function t(u,f,l,y,h,M){var c=f(u+"gap",l),o=f("domain."+u);f(u+"side",y);for(var d=new Array(h),T=o[0],S=(o[1]-T)/(h-c),C=S*(1-c),m=0;m<h;m++){var E=T+S*m;d[M?h-1-m:m]=[E,E+C]}return d}function i(u,f){var l=f.grid;if(!(!l||!l._domains)){var y=u.grid||{},h=f._subplots,M=l._hasSubplotGrid,c=l.rows,o=l.columns,d=l.pattern==="independent",T,S,C,m,E,b,s,L=l._axisMap={};if(M){var A=y.subplots||[];b=l.subplots=new Array(c);var k=1;for(T=0;T<c;T++){var _=b[T]=new Array(o),U=A[T]||[];for(S=0;S<o;S++)if(d?(E=k===1?"xy":"x"+k+"y"+k,k++):E=U[S],_[S]="",h.cartesian.indexOf(E)!==-1){if(s=E.indexOf("y"),C=E.slice(0,s),m=E.slice(s),L[C]!==void 0&&L[C]!==S||L[m]!==void 0&&L[m]!==T)continue;_[S]=E,L[C]=S,L[m]=T}}}else{var F=p(f,y,"x"),z=p(f,y,"y");l.xaxes=n(F,h.xaxis,o,L,"x"),l.yaxes=n(z,h.yaxis,c,L,"y")}var B=l._anchors={},N=l.roworder==="top to bottom";for(var V in L){var W=V.charAt(0),Q=l[W+"side"],re,ne,fe;if(Q.length<8)B[V]="free";else if(W==="x"){if(Q.charAt(0)==="t"===N?(re=0,ne=1,fe=c):(re=c-1,ne=-1,fe=-1),M){var $=L[V];for(T=re;T!==fe;T+=ne)if(E=b[T][$],!!E&&(s=E.indexOf("y"),E.slice(0,s)===V)){B[V]=E.slice(s);break}}else for(T=re;T!==fe;T+=ne)if(m=l.yaxes[T],h.cartesian.indexOf(V+m)!==-1){B[V]=m;break}}else if(Q.charAt(0)==="l"?(re=0,ne=1,fe=o):(re=o-1,ne=-1,fe=-1),M){var X=L[V];for(T=re;T!==fe;T+=ne)if(E=b[X][T],!!E&&(s=E.indexOf("y"),E.slice(s)===V)){B[V]=E.slice(0,s);break}}else for(T=re;T!==fe;T+=ne)if(C=l.xaxes[T],h.cartesian.indexOf(C+V)!==-1){B[V]=C;break}}}}function n(u,f,l,y,h){var M=new Array(l),c;function o(d,T){f.indexOf(T)!==-1&&y[T]===void 0?(M[d]=T,y[T]=d):M[d]=""}if(Array.isArray(u))for(c=0;c<l;c++)o(c,u[c]);else for(o(0,h),c=1;c<l;c++)o(c,h+(c+1));return M}H.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:i}},65760:function(H,j,e){var g=e(33816),P=e(31780).templatedArray;e(36208),H.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(H,j,e){var g=e(38248),P=e(36896);H.exports=function(x,w,v,p){w=w||{};var r=v==="log"&&w.type==="linear",t=v==="linear"&&w.type==="log";if(r||t){for(var i=x._fullLayout.images,n=w._id.charAt(0),u,f,l=0;l<i.length;l++)if(u=i[l],f="images["+l+"].",u[n+"ref"]===w._id){var y=u[n],h=u["size"+n],M=null,c=null;if(r){M=P(y,w.range);var o=h/Math.pow(10,M)/2;c=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else M=Math.pow(10,y),c=M*(Math.pow(10,h/2)-Math.pow(10,-h/2));g(M)?g(c)||(c=null):(M=null,c=null),p(f+n,M),p(f+"size"+n,c)}}}},25024:function(H,j,e){var g=e(3400),P=e(54460),a=e(51272),x=e(65760),w="images";H.exports=function(r,t){var i={name:w,handleItemDefaults:v};a(r,t,i)};function v(p,r,t){function i(o,d){return g.coerce(p,r,x,o,d)}var n=i("source"),u=i("visible",!!n);if(!u)return r;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var f={_fullLayout:t},l=["x","y"],y=0;y<2;y++){var h=l[y],M=P.coerceRef(p,r,f,h,"paper",void 0);if(M!=="paper"){var c=P.getFromId(f,M);c._imgIndices.push(r._index)}P.coercePosition(r,f,i,M,h,0)}return r}},60963:function(H,j,e){var g=e(33428),P=e(43616),a=e(54460),x=e(79811),w=e(9616);H.exports=function(p){var r=p._fullLayout,t=[],i={},n=[],u,f;for(f=0;f<r.images.length;f++){var l=r.images[f];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){u=x.ref2id(l.xref)+x.ref2id(l.yref);var y=r._plots[u];if(!y){n.push(l);continue}y.mainplot&&(u=y.mainplot.id),i[u]||(i[u]=[]),i[u].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function M(m){var E=g.select(this);if(this._imgSrc!==m.source)if(E.attr("xmlns",w.svg),m.source&&m.source.slice(0,5)==="data:")E.attr("xlink:href",m.source),this._imgSrc=m.source;else{var b=new Promise((function(s){var L=new Image;this.img=L,L.setAttribute("crossOrigin","anonymous"),L.onerror=A,L.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var _=k.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var U=k.toDataURL("image/png");E.attr("xlink:href",U),s()},E.on("error",A),L.src=m.source,this._imgSrc=m.source;function A(){E.remove(),s()}}).bind(this));p._promises.push(b)}}function c(m){var E=g.select(this),b=a.getFromId(p,m.xref),s=a.getFromId(p,m.yref),L=a.getRefType(m.xref)==="domain",A=a.getRefType(m.yref)==="domain",k=r._size,_,U;b!==void 0?_=typeof m.xref=="string"&&L?b._length*m.sizex:Math.abs(b.l2p(m.sizex)-b.l2p(0)):_=m.sizex*k.w,s!==void 0?U=typeof m.yref=="string"&&A?s._length*m.sizey:Math.abs(s.l2p(m.sizey)-s.l2p(0)):U=m.sizey*k.h;var F=_*h.x[m.xanchor].offset,z=U*h.y[m.yanchor].offset,B=h.x[m.xanchor].sizing+h.y[m.yanchor].sizing,N,V;switch(b!==void 0?N=typeof m.xref=="string"&&L?b._length*m.x+b._offset:b.r2p(m.x)+b._offset:N=m.x*k.w+k.l,N+=F,s!==void 0?V=typeof m.yref=="string"&&A?s._length*(1-m.y)+s._offset:s.r2p(m.y)+s._offset:V=k.h-m.y*k.h+k.t,V+=z,m.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}E.attr({x:N,y:V,width:_,height:U,preserveAspectRatio:B,opacity:m.opacity});var W=b&&a.getRefType(m.xref)!=="domain"?b._id:"",Q=s&&a.getRefType(m.yref)!=="domain"?s._id:"",re=W+Q;P.setClipUrl(E,re?"clip"+r._uid+re:null,p)}var o=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);o.enter().append("image"),d.enter().append("image"),o.exit().remove(),d.exit().remove(),o.each(function(m){M.bind(this)(m),c.bind(this)(m)}),d.each(function(m){M.bind(this)(m),c.bind(this)(m)});var T=Object.keys(r._plots);for(f=0;f<T.length;f++){u=T[f];var S=r._plots[u];if(S.imagelayer){var C=S.imagelayer.selectAll("image").data(i[u]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(m){M.bind(this)(m),c.bind(this)(m)})}}}},7402:function(H,j,e){H.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(H,j,e){var g=e(25376),P=e(22548);H.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(H){H.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(H,j,e){var g=e(24040),P=e(3400),a=e(31780),x=e(45464),w=e(3800),v=e(64859),p=e(42451);function r(t,i,n,u){var f=i[t]||{},l=a.newContainer(n,t);function y(fe,$){return P.coerce(f,l,w,fe,$)}var h=P.coerceFont(y,"font",n.font);y("bgcolor",n.paper_bgcolor),y("bordercolor");var M=y("visible");if(M){for(var c,o=function(fe,$){var X=c._input,oe=c;return P.coerce(X,oe,x,fe,$)},d=n.font||{},T=P.coerceFont(y,"grouptitlefont",P.extendFlat({},d,{size:Math.round(d.size*1.1)})),S=0,C=!1,m="normal",E=(n.shapes||[]).filter(function(fe){return fe.showlegend}),b=u.concat(E).filter(function(fe){return t===(fe.legend||"legend")}),s=0;s<b.length;s++)if(c=b[s],!!c.visible){var L=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(S++,c.showlegend&&(C=!0,(!L&&g.traceIs(c,"pie-like")||c._input.showlegend===!0)&&S++),P.coerceFont(o,"legendgrouptitle.font",T)),(!L&&g.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(m=p.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(m=p.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var A=P.coerce(i,n,v,"showlegend",C&&S>(t==="legend"?1:0));if(A===!1&&(n[t]=void 0),!(A===!1&&!f.uirevision)&&(y("uirevision",n.uirevision),A!==!1)){y("borderwidth");var k=y("orientation"),_=y("yref"),U=y("xref"),F=k==="h",z=_==="paper",B=U==="paper",N,V,W,Q="left";F?(N=0,g.getComponentMethod("rangeslider","isVisible")(i.xaxis)?z?(V=1.1,W="bottom"):(V=1,W="top"):z?(V=-.1,W="top"):(V=0,W="bottom")):(V=1,W="auto",B?N=1.02:(N=1,Q="right")),P.coerce(f,l,{x:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:N}},"x"),P.coerce(f,l,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:V}},"y"),y("traceorder",m),p.isGrouped(n[t])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("indentation"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",Q),y("yanchor",W),y("valign"),P.noneOrAll(f,l,["x","y"]);var re=y("title.text");if(re){y("title.side",F?"left":"top");var ne=P.extendFlat({},h,{size:P.bigFont(h.size)});P.coerceFont(y,"title.font",ne)}}}}H.exports=function(i,n,u){var f,l=u.slice(),y=n.shapes;if(y)for(f=0;f<y.length;f++){var h=y[f];if(h.showlegend){var M={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(M)}}var c=["legend"];for(f=0;f<l.length;f++)P.pushUnique(c,l[f].legend);for(n._legends=[],f=0;f<c.length;f++){var o=c[f];r(o,i,n,l),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},31140:function(H,j,e){var g=e(33428),P=e(3400),a=e(7316),x=e(24040),w=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),i=e(33048),n=e(65196),u=e(84284),f=u.LINE_SPACING,l=u.FROM_TL,y=u.FROM_BR,h=e(35456),M=e(2012),c=e(42451),o=1,d=/^legend[0-9]*$/;H.exports=function(V,W){if(W)S(V,W);else{var Q=V._fullLayout,re=Q._legends,ne=Q._infolayer.selectAll('[class^="legend"]');ne.each(function(){var oe=g.select(this),Y=oe.attr("class"),ee=Y.split(" ")[0];ee.match(d)&&re.indexOf(ee)===-1&&oe.remove()});for(var fe=0;fe<re.length;fe++){var $=re[fe],X=V._fullLayout[$];S(V,X)}}};function T(N,V,W){if(!(V.title.side!=="top center"&&V.title.side!=="top right")){var Q=V.title.font,re=Q.size*f,ne=0,fe=N.node(),$=p.bBox(fe).width;V.title.side==="top center"?ne=.5*(V._width-2*W-2*n.titlePad-$):V.title.side==="top right"&&(ne=V._width-2*W-2*n.titlePad-$),t.positionText(N,W+n.titlePad+ne,W+re)}}function S(N,V){var W=V||{},Q=N._fullLayout,re=B(W),ne,fe,$=W._inHover;if($?(fe=W.layer,ne="hover"):(fe=Q._infolayer,ne=re),!!fe){ne+=Q._uid,N._legendMouseDownTime||(N._legendMouseDownTime=0);var X;if($){if(!W.entries)return;X=h(W.entries,W)}else{for(var oe=(N.calcdata||[]).slice(),Y=Q.shapes,ee=0;ee<Y.length;ee++){var se=Y[ee];if(se.showlegend){var q={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};oe.push([{trace:q}])}}X=Q.showlegend&&h(oe,W,Q._legends.length>1)}var K=Q.hiddenlabels||[];if(!$&&(!Q.showlegend||!X.length))return fe.selectAll("."+re).remove(),Q._topdefs.select("#"+ne).remove(),a.autoMargin(N,re);var le=P.ensureSingle(fe,"g",re,function(xe){$||xe.attr("pointer-events","all")}),ie=P.ensureSingleById(Q._topdefs,"clipPath",ne,function(xe){xe.append("rect")}),he=P.ensureSingle(le,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});he.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var ye=P.ensureSingle(le,"g","scrollbox"),Ce=W.title;W._titleWidth=0,W._titleHeight=0;var Ae;Ce.text?(Ae=P.ensureSingle(ye,"text",re+"titletext"),Ae.attr("text-anchor","start").call(p.font,Ce.font).text(Ce.text),L(Ae,ye,N,W,o)):ye.selectAll("."+re+"titletext").remove();var ke=P.ensureSingle(le,"rect","scrollbar",function(xe){xe.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),we=ye.selectAll("g.groups").data(X);we.enter().append("g").attr("class","groups"),we.exit().remove();var Ee=we.selectAll("g.traces").data(P.identity);Ee.enter().append("g").attr("class","traces"),Ee.exit().remove(),Ee.style("opacity",function(xe){var Re=xe[0].trace;return x.traceIs(Re,"pie-like")?K.indexOf(xe[0].label)!==-1?.5:1:Re.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(E,N,W)}).call(M,N,W).each(function(){$||g.select(this).call(s,N,re)}),P.syncOrAsync([a.previousPromises,function(){return _(N,we,Ee,W)},function(){var xe=Q._size,Re=W.borderwidth,Ve=W.xref==="paper",Ue=W.yref==="paper";if(Ce.text&&T(Ae,W,Re),!$){var Be,Xe;Ve?Be=xe.l+xe.w*W.x-l[F(W)]*W._width:Be=Q.width*W.x-l[F(W)]*W._width,Ue?Xe=xe.t+xe.h*(1-W.y)-l[z(W)]*W._effHeight:Xe=Q.height*(1-W.y)-l[z(W)]*W._effHeight;var ut=U(N,re,Be,Xe);if(ut)return;if(Q.margin.autoexpand){var dt=Be,at=Xe;Be=Ve?P.constrain(Be,0,Q.width-W._width):dt,Xe=Ue?P.constrain(Xe,0,Q.height-W._effHeight):at,Be!==dt&&P.log("Constrain "+re+".x to make legend fit inside graph"),Xe!==at&&P.log("Constrain "+re+".y to make legend fit inside graph")}p.setTranslate(le,Be,Xe)}if(ke.on(".drag",null),le.on("wheel",null),$||W._height<=W._maxHeight||N._context.staticPlot){var We=W._effHeight;$&&(We=W._height),he.attr({width:W._width-Re,height:We-Re,x:Re/2,y:Re/2}),p.setTranslate(ye,0,0),ie.select("rect").attr({width:W._width-2*Re,height:We-2*Re,x:Re,y:Re}),p.setClipUrl(ye,ne,N),p.setRect(ke,0,0,0,0),delete W._scrollY}else{var rt=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),st=W._effHeight-rt-2*n.scrollBarMargin,ht=W._height-W._effHeight,vt=st/ht,At=Math.min(W._scrollY||0,ht);he.attr({width:W._width-2*Re+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Re,x:Re/2,y:Re/2}),ie.select("rect").attr({width:W._width-2*Re+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Re,x:Re,y:Re+At}),p.setClipUrl(ye,ne,N),me(At,rt,vt),le.on("wheel",function(){At=P.constrain(W._scrollY+g.event.deltaY/st*ht,0,ht),me(At,rt,vt),At!==0&&At!==ht&&g.event.preventDefault()});var tt,_e,je,Ke=function(nt,pt,yt){var Yt=(yt-pt)/vt+nt;return P.constrain(Yt,0,ht)},He=function(nt,pt,yt){var Yt=(pt-yt)/vt+nt;return P.constrain(Yt,0,ht)},Ie=g.behavior.drag().on("dragstart",function(){var nt=g.event.sourceEvent;nt.type==="touchstart"?tt=nt.changedTouches[0].clientY:tt=nt.clientY,je=At}).on("drag",function(){var nt=g.event.sourceEvent;nt.buttons===2||nt.ctrlKey||(nt.type==="touchmove"?_e=nt.changedTouches[0].clientY:_e=nt.clientY,At=Ke(je,tt,_e),me(At,rt,vt))});ke.call(Ie);var be=g.behavior.drag().on("dragstart",function(){var nt=g.event.sourceEvent;nt.type==="touchstart"&&(tt=nt.changedTouches[0].clientY,je=At)}).on("drag",function(){var nt=g.event.sourceEvent;nt.type==="touchmove"&&(_e=nt.changedTouches[0].clientY,At=He(je,tt,_e),me(At,rt,vt))});ye.call(be)}function me(nt,pt,yt){W._scrollY=N._fullLayout[re]._scrollY=nt,p.setTranslate(ye,0,-nt),p.setRect(ke,W._width,n.scrollBarMargin+nt*yt,n.scrollBarWidth,pt),ie.select("rect").attr("y",Re+nt)}if(N._context.edits.legendPosition){var Me,Te,ze,Je;le.classed("cursor-move",!0),v.init({element:le.node(),gd:N,prepFn:function(){var nt=p.getTranslate(le);ze=nt.x,Je=nt.y},moveFn:function(nt,pt){var yt=ze+nt,Yt=Je+pt;p.setTranslate(le,yt,Yt),Me=v.align(yt,W._width,xe.l,xe.l+xe.w,W.xanchor),Te=v.align(Yt+W._height,-W._height,xe.t+xe.h,xe.t,W.yanchor)},doneFn:function(){if(Me!==void 0&&Te!==void 0){var nt={};nt[re+".x"]=Me,nt[re+".y"]=Te,x.call("_guiRelayout",N,nt)}},clickFn:function(nt,pt){var yt=fe.selectAll("g.traces").filter(function(){var Yt=this.getBoundingClientRect();return pt.clientX>=Yt.left&&pt.clientX<=Yt.right&&pt.clientY>=Yt.top&&pt.clientY<=Yt.bottom});yt.size()>0&&m(N,le,yt,nt,pt)}})}}],N)}}function C(N,V,W){var Q=N[0],re=Q.width,ne=V.entrywidthmode,fe=Q.trace.legendwidth||V.entrywidth;return ne==="fraction"?V._maxWidth*fe:W+(fe||re)}function m(N,V,W,Q,re){var ne=W.data()[0][0].trace,fe={event:re,node:W.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:N.data,layout:N.layout,frames:N._transitionData._frames,config:N._context,fullData:N._fullData,fullLayout:N._fullLayout};ne._group&&(fe.group=ne._group),x.traceIs(ne,"pie-like")&&(fe.label=W.datum()[0].label);var $=w.triggerHandler(N,"plotly_legendclick",fe);if(Q===1){if($===!1)return;V._clickTimeout=setTimeout(function(){N._fullLayout&&i(W,N,Q)},N._context.doubleClickDelay)}else if(Q===2){V._clickTimeout&&clearTimeout(V._clickTimeout),N._legendMouseDownTime=0;var X=w.triggerHandler(N,"plotly_legenddoubleclick",fe);X!==!1&&$!==!1&&i(W,N,Q)}}function E(N,V,W){var Q=B(W),re=N.data()[0][0],ne=re.trace,fe=x.traceIs(ne,"pie-like"),$=!W._inHover&&V._context.edits.legendText&&!fe,X=W._maxNameLength,oe,Y;re.groupTitle?(oe=re.groupTitle.text,Y=re.groupTitle.font):(Y=W.font,W.entries?oe=re.text:(oe=fe?re.label:ne.name,ne._meta&&(oe=P.templateString(oe,ne._meta))));var ee=P.ensureSingle(N,"text",Q+"text");ee.attr("text-anchor","start").call(p.font,Y).text($?b(oe,X):oe);var se=W.indentation+W.itemwidth+n.itemGap*2;t.positionText(ee,se,0),$?ee.call(t.makeEditable,{gd:V,text:oe}).call(L,N,V,W).on("edit",function(q){this.text(b(q,X)).call(L,N,V,W);var K=re.trace._fullInput||{},le={};if(x.hasTransform(K,"groupby")){var ie=x.getTransformIndices(K,"groupby"),he=ie[ie.length-1],ye=P.keyedContainer(K,"transforms["+he+"].styles","target","value.name");ye.set(re.trace._group,q),le=ye.constructUpdate()}else le.name=q;return K._isShape?x.call("_guiRelayout",V,"shapes["+ne.index+"].name",le.name):x.call("_guiRestyle",V,le,ne.index)}):L(ee,N,V,W)}function b(N,V){var W=Math.max(4,V);if(N&&N.trim().length>=W/2)return N;N=N||"";for(var Q=W-N.length;Q>0;Q--)N+=" ";return N}function s(N,V,W){var Q=V._context.doubleClickDelay,re,ne=1,fe=P.ensureSingle(N,"rect",W+"toggle",function($){V._context.staticPlot||$.style("cursor","pointer").attr("pointer-events","all"),$.call(r.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(fe.on("mousedown",function(){re=new Date().getTime(),re-V._legendMouseDownTime<Q?ne+=1:(ne=1,V._legendMouseDownTime=re)}),fe.on("mouseup",function(){if(!(V._dragged||V._editing)){var $=V._fullLayout[W];new Date().getTime()-V._legendMouseDownTime>Q&&(ne=Math.max(ne-1,1)),m(V,$,N,ne,g.event)}}))}function L(N,V,W,Q,re){Q._inHover&&N.attr("data-notex",!0),t.convertToTspans(N,W,function(){A(V,W,Q,re)})}function A(N,V,W,Q){var re=N.data()[0][0];if(!W._inHover&&re&&!re.trace.showlegend){N.remove();return}var ne=N.select("g[class*=math-group]"),fe=ne.node(),$=B(W);W||(W=V._fullLayout[$]);var X=W.borderwidth,oe;Q===o?oe=W.title.font:re.groupTitle?oe=re.groupTitle.font:oe=W.font;var Y=oe.size*f,ee,se;if(fe){var q=p.bBox(fe);ee=q.height,se=q.width,Q===o?p.setTranslate(ne,X,X+ee*.75):p.setTranslate(ne,0,ee*.25)}else{var K="."+$+(Q===o?"title":"")+"text",le=N.select(K),ie=t.lineCount(le),he=le.node();if(ee=Y*ie,se=he?p.bBox(he).width:0,Q===o)W.title.side==="left"&&(se+=n.itemGap*2),t.positionText(le,X+n.titlePad,X+Y);else{var ye=n.itemGap*2+W.indentation+W.itemwidth;re.groupTitle&&(ye=n.itemGap,se-=W.indentation+W.itemwidth),t.positionText(le,ye,-Y*((ie-1)/2-.3))}}Q===o?(W._titleWidth=se,W._titleHeight=ee):(re.lineHeight=Y,re.height=Math.max(ee,16)+3,re.width=se)}function k(N){var V=0,W=0,Q=N.title.side;return Q&&(Q.indexOf("left")!==-1&&(V=N._titleWidth),Q.indexOf("top")!==-1&&(W=N._titleHeight)),[V,W]}function _(N,V,W,Q){var re=N._fullLayout,ne=B(Q);Q||(Q=re[ne]);var fe=re._size,$=c.isVertical(Q),X=c.isGrouped(Q),oe=Q.entrywidthmode==="fraction",Y=Q.borderwidth,ee=2*Y,se=n.itemGap,q=Q.indentation+Q.itemwidth+se*2,K=2*(Y+se),le=z(Q),ie=Q.y<0||Q.y===0&&le==="top",he=Q.y>1||Q.y===1&&le==="bottom",ye=Q.tracegroupgap,Ce={};Q._maxHeight=Math.max(ie||he?re.height/2:fe.h,30);var Ae=0;Q._width=0,Q._height=0;var ke=k(Q);if($)W.each(function(je){var Ke=je[0].height;p.setTranslate(this,Y+ke[0],Y+ke[1]+Q._height+Ke/2+se),Q._height+=Ke,Q._width=Math.max(Q._width,je[0].width)}),Ae=q+Q._width,Q._width+=se+q+ee,Q._height+=K,X&&(V.each(function(je,Ke){p.setTranslate(this,0,Ke*Q.tracegroupgap)}),Q._height+=(Q._lgroupsLength-1)*Q.tracegroupgap);else{var we=F(Q),Ee=Q.x<0||Q.x===0&&we==="right",xe=Q.x>1||Q.x===1&&we==="left",Re=he||ie,Ve=re.width/2;Q._maxWidth=Math.max(Ee?Re&&we==="left"?fe.l+fe.w:Ve:xe?Re&&we==="right"?fe.r+fe.w:Ve:fe.w,2*q);var Ue=0,Be=0;W.each(function(je){var Ke=C(je,Q,q);Ue=Math.max(Ue,Ke),Be+=Ke}),Ae=null;var Xe=0;if(X){var ut=0,dt=0,at=0;V.each(function(){var je=0,Ke=0;g.select(this).selectAll("g.traces").each(function(Ie){var be=C(Ie,Q,q),me=Ie[0].height;p.setTranslate(this,ke[0],ke[1]+Y+se+me/2+Ke),Ke+=me,je=Math.max(je,be),Ce[Ie[0].trace.legendgroup]=je});var He=je+se;dt>0&&He+Y+dt>Q._maxWidth?(Xe=Math.max(Xe,dt),dt=0,at+=ut+ye,ut=Ke):ut=Math.max(ut,Ke),p.setTranslate(this,dt,at),dt+=He}),Q._width=Math.max(Xe,dt)+Y,Q._height=at+ut+K}else{var We=W.size(),rt=Be+ee+(We-1)*se<Q._maxWidth,st=0,ht=0,vt=0,At=0;W.each(function(je){var Ke=je[0].height,He=C(je,Q,q),Ie=rt?He:Ue;oe||(Ie+=se),Ie+Y+ht-se>=Q._maxWidth&&(Xe=Math.max(Xe,At),ht=0,vt+=st,Q._height+=st,st=0),p.setTranslate(this,ke[0]+Y+ht,ke[1]+Y+vt+Ke/2+se),At=ht+He+se,ht+=Ie,st=Math.max(st,Ke)}),rt?(Q._width=ht+ee,Q._height=st+K):(Q._width=Math.max(Xe,At)+ee,Q._height+=st+K)}}Q._width=Math.ceil(Math.max(Q._width+ke[0],Q._titleWidth+2*(Y+n.titlePad))),Q._height=Math.ceil(Math.max(Q._height+ke[1],Q._titleHeight+2*(Y+n.itemGap))),Q._effHeight=Math.min(Q._height,Q._maxHeight);var tt=N._context.edits,_e=tt.legendText||tt.legendPosition;W.each(function(je){var Ke=g.select(this).select("."+ne+"toggle"),He=je[0].height,Ie=je[0].trace.legendgroup,be=C(je,Q,q);X&&Ie!==""&&(be=Ce[Ie]);var me=_e?q:Ae||be;!$&&!oe&&(me+=se/2),p.setRect(Ke,0,-He/2,me,He)})}function U(N,V,W,Q){var re=N._fullLayout,ne=re[V],fe=F(ne),$=z(ne),X=ne.xref==="paper",oe=ne.yref==="paper";N._fullLayout._reservedMargin[V]={};var Y=ne.y<.5?"b":"t",ee=ne.x<.5?"l":"r",se={r:re.width-W,l:W+ne._width,b:re.height-Q,t:Q+ne._effHeight};if(X&&oe)return a.autoMargin(N,V,{x:ne.x,y:ne.y,l:ne._width*l[fe],r:ne._width*y[fe],b:ne._effHeight*y[$],t:ne._effHeight*l[$]});X?N._fullLayout._reservedMargin[V][Y]=se[Y]:oe||ne.orientation==="v"?N._fullLayout._reservedMargin[V][ee]=se[ee]:N._fullLayout._reservedMargin[V][Y]=se[Y]}function F(N){return P.isRightAnchor(N)?"right":P.isCenterAnchor(N)?"center":"left"}function z(N){return P.isBottomAnchor(N)?"bottom":P.isMiddleAnchor(N)?"middle":"top"}function B(N){return N._id||"legend"}},35456:function(H,j,e){var g=e(24040),P=e(42451);H.exports=function(x,w,v){var p=w._inHover,r=P.isGrouped(w),t=P.isReversed(w),i={},n=[],u=!1,f={},l=0,y=0,h,M;function c(N,V,W){if(w.visible!==!1&&!(v&&N!==w._id))if(V===""||!P.isGrouped(w)){var Q="~~i"+l;n.push(Q),i[Q]=[W],l++}else n.indexOf(V)===-1?(n.push(V),u=!0,i[V]=[W]):i[V].push(W)}for(h=0;h<x.length;h++){var o=x[h],d=o[0],T=d.trace,S=T.legend,C=T.legendgroup;if(!(!p&&(!T.visible||!T.showlegend)))if(g.traceIs(T,"pie-like"))for(f[C]||(f[C]={}),M=0;M<o.length;M++){var m=o[M].label;f[C][m]||(c(S,C,{label:m,color:o[M].color,i:o[M].i,trace:T,pts:o[M].pts}),f[C][m]=!0,y=Math.max(y,(m||"").length))}else c(S,C,d),y=Math.max(y,(T.name||"").length)}if(!n.length)return[];var E=!u||!r,b=[];for(h=0;h<n.length;h++){var s=i[n[h]];E?b.push(s[0]):b.push(s)}for(E&&(b=[b]),h=0;h<b.length;h++){var L=1/0;for(M=0;M<b[h].length;M++){var A=b[h][M].trace.legendrank;L>A&&(L=A)}b[h][0]._groupMinRank=L,b[h][0]._preGroupSort=h}var k=function(N,V){return N[0]._groupMinRank-V[0]._groupMinRank||N[0]._preGroupSort-V[0]._preGroupSort},_=function(N,V){return N.trace.legendrank-V.trace.legendrank||N._preSort-V._preSort};for(b.forEach(function(N,V){N[0]._preGroupSort=V}),b.sort(k),h=0;h<b.length;h++){b[h].forEach(function(N,V){N._preSort=V}),b[h].sort(_);var U=b[h][0].trace,F=null;for(M=0;M<b[h].length;M++){var z=b[h][M].trace.legendgrouptitle;if(z&&z.text){F=z,p&&(z.font=w._groupTitleFont);break}}if(t&&b[h].reverse(),F){var B=!1;for(M=0;M<b[h].length;M++)if(g.traceIs(b[h][M].trace,"pie-like")){B=!0;break}b[h].unshift({i:-1,groupTitle:F,noClick:B,trace:{showlegend:U.showlegend,legendgroup:U.legendgroup,visible:w.groupclick==="toggleitem"?!0:U.visible}})}for(M=0;M<b[h].length;M++)b[h][M]=[b[h][M]]}return w._lgroupsLength=b.length,w._maxNameLength=y,b}},33048:function(H,j,e){var g=e(24040),P=e(3400),a=P.pushUnique,x=!0;H.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var i=t.legend.itemclick,n=t.legend.itemdoubleclick,u=t.legend.groupclick;r===1&&i==="toggle"&&n==="toggleothers"&&x&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),x=!1;var f;if(r===1?f=i:r===2&&(f=n),!f)return;var l=u==="togglegroup",y=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var M=p._fullData,c=(t.shapes||[]).filter(function(Ve){return Ve.showlegend}),o=M.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var T=d.legendgroup,S,C,m,E,b,s,L={},A=[],k=[],_=[];function U(Ve,Ue){var Be=A.indexOf(Ve),Xe=L.visible;return Xe||(Xe=L.visible=[]),A.indexOf(Ve)===-1&&(A.push(Ve),Be=A.length-1),Xe[Be]=Ue,Be}var F=(t.shapes||[]).map(function(Ve){return Ve._input}),z=!1;function B(Ve,Ue){F[Ve].visible=Ue,z=!0}function N(Ve,Ue){if(!(h.groupTitle&&!l)){var Be=Ve._fullInput||Ve,Xe=Be._isShape,ut=Be.index;if(ut===void 0&&(ut=Be._index),g.hasTransform(Be,"groupby")){var dt=k[ut];if(!dt){var at=g.getTransformIndices(Be,"groupby"),We=at[at.length-1];dt=P.keyedContainer(Be,"transforms["+We+"].styles","target","value.visible"),k[ut]=dt}var rt=dt.get(Ve._group);rt===void 0&&(rt=!0),rt!==!1&&dt.set(Ve._group,Ue),_[ut]=U(ut,Be.visible!==!1)}else{var st=Be.visible===!1?!1:Ue;Xe?B(ut,st):U(ut,st)}}}var V=d.legend,W=d._fullInput,Q=W&&W._isShape;if(!Q&&g.traceIs(d,"pie-like")){var re=h.label,ne=y.indexOf(re);if(f==="toggle")ne===-1?y.push(re):y.splice(ne,1);else if(f==="toggleothers"){var fe=ne!==-1,$=[];for(S=0;S<p.calcdata.length;S++){var X=p.calcdata[S];for(C=0;C<X.length;C++){var oe=X[C],Y=oe.label;V===X[0].trace.legend&&re!==Y&&(y.indexOf(Y)===-1&&(fe=!0),a(y,Y),$.push(Y))}}if(!fe)for(var ee=0;ee<$.length;ee++){var se=y.indexOf($[ee]);se!==-1&&y.splice(se,1)}}g.call("_guiRelayout",p,"hiddenlabels",y)}else{var q=T&&T.length,K=[],le;if(q)for(S=0;S<o.length;S++)le=o[S],le.visible&&le.legendgroup===T&&K.push(S);if(f==="toggle"){var ie;switch(d.visible){case!0:ie="legendonly";break;case!1:ie=!1;break;case"legendonly":ie=!0;break}if(q)if(l)for(S=0;S<o.length;S++){var he=o[S];he.visible!==!1&&he.legendgroup===T&&N(he,ie)}else N(d,ie);else N(d,ie)}else if(f==="toggleothers"){var ye,Ce,Ae,ke,we,Ee=!0;for(S=0;S<o.length;S++)if(we=o[S],ye=we===d,Ae=we.showlegend!==!0,!(ye||Ae)&&(Ce=q&&we.legendgroup===T,!Ce&&we.legend===V&&we.visible===!0&&!g.traceIs(we,"notLegendIsolatable"))){Ee=!1;break}for(S=0;S<o.length;S++)if(we=o[S],!(we.visible===!1||we.legend!==V)&&!g.traceIs(we,"notLegendIsolatable"))switch(d.visible){case"legendonly":N(we,!0);break;case!0:ke=Ee?!0:"legendonly",ye=we===d,Ae=we.showlegend!==!0&&!we.legendgroup,Ce=ye||q&&we.legendgroup===T,N(we,Ce||Ae?!0:ke);break}}for(S=0;S<k.length;S++)if(m=k[S],!!m){var xe=m.constructUpdate(),Re=Object.keys(xe);for(C=0;C<Re.length;C++)E=Re[C],s=L[E]=L[E]||[],s[_[S]]=xe[E]}for(b=Object.keys(L),S=0;S<b.length;S++)for(E=b[S],C=0;C<A.length;C++)L[E].hasOwnProperty(C)||(L[E][C]=void 0);z?g.call("_guiUpdate",p,L,{shapes:F},A):g.call("_guiRestyle",p,L,A)}}},42451:function(H,j){j.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},j.isVertical=function(g){return g.orientation!=="h"},j.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2780:function(H,j,e){H.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(H,j,e){var g=e(33428),P=e(24040),a=e(3400),x=a.strTranslate,w=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),i=e(69656).castOption,n=e(65196),u=12,f=5,l=2,y=10,h=5;H.exports=function(T,S,C){var m=S._fullLayout;C||(C=m.legend);var E=C.itemsizing==="constant",b=C.itemwidth,s=(b+n.itemGap*2)/2,L=x(s,0),A=function($,X,oe,Y){var ee;if($+1)ee=$;else if(X&&X.width>0)ee=X.width;else return 0;return E?Y:Math.min(ee,oe)};T.each(function($){var X=g.select(this),oe=a.ensureSingle(X,"g","layers");oe.style("opacity",$[0].trace.opacity);var Y=C.indentation,ee=C.valign,se=$[0].lineHeight,q=$[0].height;if(ee==="middle"&&Y===0||!se||!q)oe.attr("transform",null);else{var K={top:1,bottom:-1}[ee],le=K*(.5*(se-q+3))||0,ie=C.indentation;oe.attr("transform",x(ie,le))}var he=oe.selectAll("g.legendfill").data([$]);he.enter().append("g").classed("legendfill",!0);var ye=oe.selectAll("g.legendlines").data([$]);ye.enter().append("g").classed("legendlines",!0);var Ce=oe.selectAll("g.legendsymbols").data([$]);Ce.enter().append("g").classed("legendsymbols",!0),Ce.selectAll("g.legendpoints").data([$]).enter().append("g").classed("legendpoints",!0)}).each(fe).each(U).each(z).each(F).each(N).each(re).each(Q).each(k).each(_).each(V).each(W);function k($){var X=c($),oe=X.showFill,Y=X.showLine,ee=X.showGradientLine,se=X.showGradientFill,q=X.anyFill,K=X.anyLine,le=$[0],ie=le.trace,he,ye,Ce=p(ie),Ae=Ce.colorscale,ke=Ce.reversescale,we=function(Xe){if(Xe.size())if(oe)w.fillGroupStyle(Xe,S,!0);else{var ut="legendfill-"+ie.uid;w.gradient(Xe,S,ut,M(ke),Ae,"fill")}},Ee=function(Xe){if(Xe.size()){var ut="legendline-"+ie.uid;w.lineGroupStyle(Xe),w.gradient(Xe,S,ut,M(ke),Ae,"stroke")}},xe=r.hasMarkers(ie)||!q?"M5,0":K?"M5,-2":"M5,-3",Re=g.select(this),Ve=Re.select(".legendfill").selectAll("path").data(oe||se?[$]:[]);if(Ve.enter().append("path").classed("js-fill",!0),Ve.exit().remove(),Ve.attr("d",xe+"h"+b+"v6h-"+b+"z").call(we),Y||ee){var Ue=A(void 0,ie.line,y,f);ye=a.minExtend(ie,{line:{width:Ue}}),he=[a.minExtend(le,{trace:ye})]}var Be=Re.select(".legendlines").selectAll("path").data(Y||ee?[he]:[]);Be.enter().append("path").classed("js-line",!0),Be.exit().remove(),Be.attr("d",xe+(ee?"l"+b+",0.0001":"h"+b)).call(Y?w.lineGroupStyle:Ee)}function _($){var X=c($),oe=X.anyFill,Y=X.anyLine,ee=X.showLine,se=X.showMarker,q=$[0],K=q.trace,le=!se&&!Y&&!oe&&r.hasText(K),ie,he;function ye(Ve,Ue,Be,Xe){var ut=a.nestedProperty(K,Ve).get(),dt=a.isArrayOrTypedArray(ut)&&Ue?Ue(ut):ut;if(E&&dt&&Xe!==void 0&&(dt=Xe),Be){if(dt<Be[0])return Be[0];if(dt>Be[1])return Be[1]}return dt}function Ce(Ve){return q._distinct&&q.index&&Ve[q.index]?Ve[q.index]:Ve[0]}if(se||le||ee){var Ae={},ke={};if(se){Ae.mc=ye("marker.color",Ce),Ae.mx=ye("marker.symbol",Ce),Ae.mo=ye("marker.opacity",a.mean,[.2,1]),Ae.mlc=ye("marker.line.color",Ce),Ae.mlw=ye("marker.line.width",a.mean,[0,5],l),ke.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var we=ye("marker.size",a.mean,[2,16],u);Ae.ms=we,ke.marker.size=we}ee&&(ke.line={width:ye("line.width",Ce,[0,10],f)}),le&&(Ae.tx="Aa",Ae.tp=ye("textposition",Ce),Ae.ts=10,Ae.tc=ye("textfont.color",Ce),Ae.tf=ye("textfont.family",Ce)),ie=[a.minExtend(q,Ae)],he=a.minExtend(K,ke),he.selectedpoints=null,he.texttemplate=null}var Ee=g.select(this).select("g.legendpoints"),xe=Ee.selectAll("path.scatterpts").data(se?ie:[]);xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),xe.exit().remove(),xe.call(w.pointStyle,he,S),se&&(ie[0].mrc=3);var Re=Ee.selectAll("g.pointtext").data(le?ie:[]);Re.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),Re.exit().remove(),Re.selectAll("text").call(w.textPointStyle,he,S)}function U($){var X=$[0].trace,oe=X.type==="waterfall";if($[0]._distinct&&oe){var Y=$[0].trace[$[0].dir].marker;return $[0].mc=Y.color,$[0].mlw=Y.line.width,$[0].mlc=Y.line.color,B($,this,"waterfall")}var ee=[];X.visible&&oe&&(ee=$[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(ee);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(q){var K=g.select(this),le=X[q[0]].marker,ie=A(void 0,le.line,h,l);K.attr("d",q[1]).style("stroke-width",ie+"px").call(v.fill,le.color),ie&&K.call(v.stroke,le.line.color)})}function F($){B($,this)}function z($){B($,this,"funnel")}function B($,X,oe){var Y=$[0].trace,ee=Y.marker||{},se=ee.line||{},q=ee.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",K=oe?Y.visible&&Y.type===oe:P.traceIs(Y,"bar"),le=g.select(X).select("g.legendpoints").selectAll("path.legend"+oe).data(K?[$]:[]);le.enter().append("path").classed("legend"+oe,!0).attr("d",q).attr("transform",L),le.exit().remove(),le.each(function(ie){var he=g.select(this),ye=ie[0],Ce=A(ye.mlw,ee.line,h,l);he.style("stroke-width",Ce+"px");var Ae=ye.mcc;if(!C._inHover&&"mc"in ye){var ke=p(ee),we=ke.mid;we===void 0&&(we=(ke.max+ke.min)/2),Ae=w.tryColorscale(ee,"")(we)}var Ee=Ae||ye.mc||ee.color,xe=ee.pattern,Re=xe&&w.getPatternAttr(xe.shape,0,"");if(Re){var Ve=w.getPatternAttr(xe.bgcolor,0,null),Ue=w.getPatternAttr(xe.fgcolor,0,null),Be=xe.fgopacity,Xe=o(xe.size,8,10),ut=o(xe.solidity,.5,1),dt="legend-"+Y.uid;he.call(w.pattern,"legend",S,dt,Re,Xe,ut,Ae,xe.fillmode,Ve,Ue,Be)}else he.call(v.fill,Ee);Ce&&v.stroke(he,ye.mlc||se.color)})}function N($){var X=$[0].trace,oe=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(X.visible&&P.traceIs(X,"box-violin")?[$]:[]);oe.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),oe.exit().remove(),oe.each(function(){var Y=g.select(this);if((X.boxpoints==="all"||X.points==="all")&&v.opacity(X.fillcolor)===0&&v.opacity((X.line||{}).color)===0){var ee=a.minExtend(X,{marker:{size:E?u:a.constrain(X.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});oe.call(w.pointStyle,ee,S)}else{var se=A(void 0,X.line,h,l);Y.style("stroke-width",se+"px").call(v.fill,X.fillcolor),se&&v.stroke(Y,X.line.color)}})}function V($){var X=$[0].trace,oe=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(X.visible&&X.type==="candlestick"?[$,$]:[]);oe.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,ee){return ee?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(Y,ee){var se=g.select(this),q=X[ee?"increasing":"decreasing"],K=A(void 0,q.line,h,l);se.style("stroke-width",K+"px").call(v.fill,q.fillcolor),K&&v.stroke(se,q.line.color)})}function W($){var X=$[0].trace,oe=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(X.visible&&X.type==="ohlc"?[$,$]:[]);oe.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,ee){return ee?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(Y,ee){var se=g.select(this),q=X[ee?"increasing":"decreasing"],K=A(void 0,q.line,h,l);se.style("fill","none").call(w.dashLine,q.line.dash,K),K&&v.stroke(se,q.line.color)})}function Q($){ne($,this,"pie")}function re($){ne($,this,"funnelarea")}function ne($,X,oe){var Y=$[0],ee=Y.trace,se=oe?ee.visible&&ee.type===oe:P.traceIs(ee,oe),q=g.select(X).select("g.legendpoints").selectAll("path.legend"+oe).data(se?[$]:[]);if(q.enter().append("path").classed("legend"+oe,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),q.exit().remove(),q.size()){var K=ee.marker||{},le=A(i(K.line.width,Y.pts),K.line,h,l),ie="pieLike",he=a.minExtend(ee,{marker:{line:{width:le}}},ie),ye=a.minExtend(Y,{trace:he},ie);t(q,ye,he,S)}}function fe($){var X=$[0].trace,oe,Y=[];if(X.visible)switch(X.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],oe=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],oe=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],oe="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],oe=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],oe=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],oe=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],oe=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],oe=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],oe=!1;break}var ee=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);ee.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(se,q){var K=g.select(this),le=p(X),ie=le.colorscale,he=le.reversescale,ye=function(we){if(we.size()){var Ee="legendfill-"+X.uid;w.gradient(we,S,Ee,M(he,oe==="radial"),ie,"fill")}},Ce;if(ie){if(!oe){var ke=ie.length;Ce=q===0?ie[he?ke-1:0][1]:q===1?ie[he?0:ke-1][1]:ie[Math.floor((ke-1)/2)][1]}}else{var Ae=X.vertexcolor||X.facecolor||X.color;Ce=a.isArrayOrTypedArray(Ae)?Ae[q]||Ae[0]:Ae}K.attr("d",se[0]),Ce?K.call(v.fill,Ce):K.call(ye)})}};function M(d,T){var S=T?"radial":"horizontal";return S+(d?"":"reversed")}function c(d){var T=d[0].trace,S=T.contours,C=r.hasLines(T),m=r.hasMarkers(T),E=T.visible&&T.fill&&T.fill!=="none",b=!1,s=!1;if(S){var L=S.coloring;L==="lines"?b=!0:C=L==="none"||L==="heatmap"||S.showlines,S.type==="constraint"?E=S._operation!=="=":(L==="fill"||L==="heatmap")&&(s=!0)}return{showMarker:m,showLine:C,showFill:E,showGradientLine:b,showGradientFill:s,anyLine:C||b,anyFill:E||s}}function o(d,T,S){return d&&a.isArrayOrTypedArray(d)?T:d>S?S:d}},66540:function(H,j,e){e(76052),H.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(H,j,e){var g=e(24040),P=e(7316),a=e(79811),x=e(9224),w=e(4016).eraseActiveShape,v=e(3400),p=v._,r=H.exports={};r.toImage={name:"toImage",title:function(d){var T=d._context.toImageButtonOptions||{},S=T.format||"png";return S==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:x.camera,click:function(d){var T=d._context.toImageButtonOptions,S={format:T.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),S.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),S.format="svg"),["filename","width","height","scale"].forEach(function(C){C in T&&(S[C]=T[C])}),g.call("downloadImage",d,S).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:x.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:x.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:x.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:x.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:x.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:x.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:x.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:x.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:x.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:x.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:x.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:x.eraseshape,click:w},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:x.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:x.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:x.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:x.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:x.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:x.tooltip_compare,gravity:"ne",click:t};function t(d,T){var S=T.currentTarget,C=S.getAttribute("data-attr"),m=S.getAttribute("data-val")||!0,E=d._fullLayout,b={},s=a.list(d,null,!0),L=E._cartesianSpikesEnabled,A,k;if(C==="zoom"){var _=m==="in"?.5:2,U=(1+_)/2,F=(1-_)/2,z;for(k=0;k<s.length;k++)if(A=s[k],!A.fixedrange)if(z=A._name,m==="auto")b[z+".autorange"]=!0;else if(m==="reset")A._rangeInitial0===void 0&&A._rangeInitial1===void 0?b[z+".autorange"]=!0:A._rangeInitial0===void 0?(b[z+".autorange"]=A._autorangeInitial,b[z+".range"]=[null,A._rangeInitial1]):A._rangeInitial1===void 0?(b[z+".range"]=[A._rangeInitial0,null],b[z+".autorange"]=A._autorangeInitial):b[z+".range"]=[A._rangeInitial0,A._rangeInitial1],A._showSpikeInitial!==void 0&&(b[z+".showspikes"]=A._showSpikeInitial,L==="on"&&!A._showSpikeInitial&&(L="off"));else{var B=[A.r2l(A.range[0]),A.r2l(A.range[1])],N=[U*B[0]+F*B[1],U*B[1]+F*B[0]];b[z+".range[0]"]=A.l2r(N[0]),b[z+".range[1]"]=A.l2r(N[1])}}else C==="hovermode"&&(m==="x"||m==="y")&&(m=E._isHoriz?"y":"x",S.setAttribute("data-val",m)),b[C]=m;E._cartesianSpikesEnabled=L,g.call("_guiRelayout",d,b)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:x.zoombox,click:i},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:x.pan,click:i},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:x["3d_rotate"],click:i},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:x["z-axis"],click:i};function i(d,T){for(var S=T.currentTarget,C=S.getAttribute("data-attr"),m=S.getAttribute("data-val")||!0,E=d._fullLayout._subplots.gl3d||[],b={},s=C.split("."),L=0;L<E.length;L++)b[E[L]+"."+s[1]]=m;var A=m==="pan"?m:"zoom";b.dragmode=A,g.call("_guiRelayout",d,b)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:x.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:x.movie,click:n};function n(d,T){for(var S=T.currentTarget,C=S.getAttribute("data-attr"),m=C==="resetLastSave",E=C==="resetDefault",b=d._fullLayout,s=b._subplots.gl3d||[],L={},A=0;A<s.length;A++){var k=s[A],_=k+".camera",U=k+".aspectratio",F=k+".aspectmode",z=b[k]._scene,B;m?(L[_+".up"]=z.viewInitial.up,L[_+".eye"]=z.viewInitial.eye,L[_+".center"]=z.viewInitial.center,B=!0):E&&(L[_+".up"]=null,L[_+".eye"]=null,L[_+".center"]=null,B=!0),B&&(L[U+".x"]=z.viewInitial.aspectratio.x,L[U+".y"]=z.viewInitial.aspectratio.y,L[U+".z"]=z.viewInitial.aspectratio.z,L[F]=z.viewInitial.aspectmode)}g.call("_guiRelayout",d,L)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:x.tooltip_basic,gravity:"ne",click:f};function u(d,T){var S=T.currentTarget,C=S._previousVal,m=d._fullLayout,E=m._subplots.gl3d||[],b=["xaxis","yaxis","zaxis"],s={},L={};if(C)L=C,S._previousVal=null;else{for(var A=0;A<E.length;A++){var k=E[A],_=m[k],U=k+".hovermode";s[U]=_.hovermode,L[U]=!1;for(var F=0;F<3;F++){var z=b[F],B=k+"."+z+".showspikes";L[B]=!1,s[B]=_[z].showspikes}}S._previousVal=s}return L}function f(d,T){var S=u(d,T);g.call("_guiRelayout",d,S)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:x.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:x.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:x.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:x.tooltip_basic,gravity:"ne",click:h};function l(d,T){for(var S=T.currentTarget,C=S.getAttribute("data-attr"),m=S.getAttribute("data-val")||!0,E=d._fullLayout,b=E._subplots.geo||[],s=0;s<b.length;s++){var L=b[s],A=E[L];if(C==="zoom"){var k=A.projection.scale,_=m==="in"?2*k:.5*k;g.call("_guiRelayout",d,L+".projection.scale",_)}}C==="reset"&&o(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:x.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:x.tooltip_basic,gravity:"ne",click:h};function y(d){var T=d._fullLayout;return T.hovermode?!1:T._has("cartesian")?T._isHoriz?"y":"x":"closest"}function h(d){var T=y(d);g.call("_guiRelayout",d,"hovermode",T)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:x.home,click:function(d){for(var T={"node.groups":[],"node.x":[],"node.y":[]},S=0;S<d._fullData.length;S++){var C=d._fullData[S]._viewInitial;T["node.groups"].push(C.node.groups.slice()),T["node.x"].push(C.node.x.slice()),T["node.y"].push(C.node.y.slice())}g.call("restyle",d,T)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:x.tooltip_basic,gravity:"ne",click:function(d,T){var S=u(d,T);S.hovermode=y(d),g.call("_guiRelayout",d,S)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:x.home,click:function(d,T){var S=T.currentTarget;S.setAttribute("data-attr","zoom"),S.setAttribute("data-val","reset"),t(d,T),S.setAttribute("data-attr","resetLastSave"),n(d,T),o(d,"geo"),o(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:x.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var T=d._fullLayout,S=T._cartesianSpikesEnabled;T._cartesianSpikesEnabled=S==="on"?"off":"on",g.call("_guiRelayout",d,M(d))}};function M(d){for(var T=d._fullLayout,S=T._cartesianSpikesEnabled==="on",C=a.list(d,null,!0),m={},E=0;E<C.length;E++){var b=C[E];m[b._name+".showspikes"]=S?!0:b._showSpikeInitial}return m}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:x.home,click:function(d){o(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:x.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:x.zoom_minus,click:c};function c(d,T){for(var S=T.currentTarget,C=S.getAttribute("data-val"),m=d._fullLayout,E=m._subplots.mapbox||[],b=1.05,s={},L=0;L<E.length;L++){var A=E[L],k=m[A].zoom,_=C==="in"?b*k:k/b;s[A+".zoom"]=_}g.call("_guiRelayout",d,s)}function o(d,T){for(var S=d._fullLayout,C=S._subplots[T]||[],m={},E=0;E<C.length;E++)for(var b=C[E],s=S[b]._subplot,L=s.viewInitial,A=Object.keys(L),k=0;k<A.length;k++){var _=A[k];m[b+"."+_]=L[_]}g.call("_guiRelayout",d,m)}},76052:function(H,j,e){var g=e(44248),P=Object.keys(g),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],x=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),w=[],v=function(p){if(x.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();w.indexOf(r)===-1&&w.push(r),w.indexOf(t)===-1&&w.push(t)}};P.forEach(function(p){v(g[p])}),w.sort(),H.exports={DRAW_MODES:a,backButtons:x,foreButtons:w}},90824:function(H,j,e){var g=e(3400),P=e(76308),a=e(31780),x=e(66540);H.exports=function(v,p){var r=v.modebar||{},t=a.newContainer(p,"modebar");function i(u,f){return g.coerce(r,t,x,u,f)}i("orientation"),i("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));i("color",P.addOpacity(n,.3)),i("activecolor",P.addOpacity(n,.7)),i("uirevision",p.uirevision),i("add"),i("remove")}},45460:function(H,j,e){H.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(H,j,e){var g=e(79811),P=e(43028),a=e(24040),x=e(10624).isUnifiedHover,w=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;H.exports=function(h){var M=h._fullLayout,c=h._context,o=M._modeBar;if(!c.displayModeBar&&!c.watermark){o&&(o.destroy(),delete M._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,T;Array.isArray(d)&&d.length?T=l(d):!c.displayModeBar&&c.watermark?T=[]:T=t(h),o?o.update(h,T):M._modeBar=w(h,T)};function t(y){var h=y._fullLayout,M=y._fullData,c=y._context;function o(q,K){if(typeof K=="string"){if(K.toLowerCase()===q.toLowerCase())return!0}else{var le=K.name,ie=K._cat||K.name;if(le===q||ie===q.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var T=h.modebar.remove;typeof T=="string"&&(T=[T]);var S=c.modeBarButtonsToAdd.concat(d.filter(function(q){for(var K=0;K<c.modeBarButtonsToRemove.length;K++)if(o(q,c.modeBarButtonsToRemove[K]))return!1;return!0})),C=c.modeBarButtonsToRemove.concat(T.filter(function(q){for(var K=0;K<c.modeBarButtonsToAdd.length;K++)if(o(q,c.modeBarButtonsToAdd[K]))return!1;return!0})),m=h._has("cartesian"),E=h._has("gl3d"),b=h._has("geo"),s=h._has("pie"),L=h._has("funnelarea"),A=h._has("gl2d"),k=h._has("ternary"),_=h._has("mapbox"),U=h._has("polar"),F=h._has("smith"),z=h._has("sankey"),B=i(h),N=x(h.hovermode),V=[];function W(q){if(q.length){for(var K=[],le=0;le<q.length;le++){for(var ie=q[le],he=v[ie],ye=he.name.toLowerCase(),Ce=(he._cat||he.name).toLowerCase(),Ae=!1,ke=0;ke<C.length;ke++){var we=C[ke].toLowerCase();if(we===ye||we===Ce){Ae=!0;break}}Ae||K.push(v[ie])}V.push(K)}}var Q=["toImage"];c.showEditInChartStudio?Q.push("editInChartStudio"):c.showSendToCloud&&Q.push("sendDataToCloud"),W(Q);var re=[],ne=[],fe=[],$=[];(m||A||s||L||k)+b+E+_+U+F>1?(ne=["toggleHover"],fe=["resetViews"]):b?(re=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],fe=["resetGeo"]):E?(ne=["hoverClosest3d"],fe=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(re=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],fe=["resetViewMapbox"]):A?ne=["hoverClosestGl2d"]:s?ne=["hoverClosestPie"]:z?(ne=["hoverClosestCartesian","hoverCompareCartesian"],fe=["resetViewSankey"]):ne=["toggleHover"],m&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(u(M)||N)&&(ne=[]),(m||A)&&!B&&(re=["zoomIn2d","zoomOut2d","autoScale2d"],fe[0]!=="resetViews"&&(fe=["resetScale2d"])),E?$=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||A)&&!B||k?$=["zoom2d","pan2d"]:_||b?$=["pan2d"]:U&&($=["zoom2d"]),n(M)&&$.push("select2d","lasso2d");var X=[],oe=function(q){X.indexOf(q)===-1&&ne.indexOf(q)!==-1&&X.push(q)};if(Array.isArray(S)){for(var Y=[],ee=0;ee<S.length;ee++){var se=S[ee];typeof se=="string"?(se=se.toLowerCase(),p.indexOf(se)!==-1?(h._has("mapbox")||h._has("cartesian"))&&$.push(se):se==="togglespikelines"?oe("toggleSpikelines"):se==="togglehover"?oe("toggleHover"):se==="hovercompare"?oe("hoverCompareCartesian"):se==="hoverclosest"?(oe("hoverClosestCartesian"),oe("hoverClosestGeo"),oe("hoverClosest3d"),oe("hoverClosestGl2d"),oe("hoverClosestPie")):se==="v1hovermode"&&(oe("toggleHover"),oe("hoverClosestCartesian"),oe("hoverCompareCartesian"),oe("hoverClosestGeo"),oe("hoverClosest3d"),oe("hoverClosestGl2d"),oe("hoverClosestPie"))):Y.push(se)}S=Y}return W($),W(re.concat(fe)),W(X),f(V,S)}function i(y){for(var h=g.list({_fullLayout:y},null,!0),M=0;M<h.length;M++)if(!h[M].fixedrange)return!1;return!0}function n(y){for(var h=!1,M=0;M<y.length&&!h;M++){var c=y[M];!c._module||!c._module.selectPoints||(a.traceIs(c,"scatter-like")?(P.hasMarkers(c)||P.hasText(c))&&(h=!0):a.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function u(y){for(var h=0;h<y.length;h++)if(!a.traceIs(y[h],"noHover"))return!1;return!0}function f(y,h){if(h.length)if(Array.isArray(h[0]))for(var M=0;M<h.length;M++)y.push(h[M]);else y.push(h);return y}function l(y){for(var h=r([],y),M=0;M<h.length;M++)for(var c=h[M],o=0;o<c.length;o++){var d=c[o];if(typeof d=="string")if(v[d]!==void 0)h[M][o]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(H,j,e){var g=e(33428),P=e(38248),a=e(3400),x=e(9224),w=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,u){this.graphInfo=n;var f=this.graphInfo._context,l=this.graphInfo._fullLayout,y="modebar-"+l._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var h=l.modebar,M=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(y),a.addRelatedStyleRule(y,M+"#"+y+" .modebar-group","background-color: "+h.bgcolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+h.color),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+h.activecolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(u),o=this.hasLogo!==f.displaylogo,d=this.locale!==f.locale;if(this.locale=f.locale,(c||o||d)&&(this.removeAllButtons(),this.updateButtons(u),f.watermark||f.displaylogo)){var T=this.getLogo();f.watermark&&(T.className=T.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(T,this.element.childNodes[0]):this.element.appendChild(T),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var u=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var l=u.createGroup();f.forEach(function(y){var h=y.name;if(!h)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");u.buttonsNames.push(h);var M=u.createButton(y);u.buttonElements.push(M),l.appendChild(M)}),u.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var u=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&f.setAttribute("data-title",l),n.attr!==void 0&&f.setAttribute("data-attr",n.attr);var y=n.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),f.setAttribute("data-val",y));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(c){n.click(u.graphInfo,c),u.updateActiveButton(c.currentTarget)}),f.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(f).classed("active",!0);var M=n.icon;return typeof M=="function"?f.appendChild(M()):f.appendChild(this.createIcon(M||x.question)),f.setAttribute("data-gravity",n.gravity||"n"),f},r.createIcon=function(n){var u=P(n.height)?Number(n.height):n.ascent-n.descent,f="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(f,"svg"),l.setAttribute("viewBox",[0,0,n.width,u].join(" ")),l.setAttribute("class","icon");var y=document.createElementNS(f,"path");y.setAttribute("d",n.path),n.transform?y.setAttribute("transform",n.transform):n.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(y)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var u=this.graphInfo._fullLayout,f=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var y=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),M=l.getAttribute("data-toggle")==="true",c=g.select(l);if(M)h===f&&c.classed("active",!c.classed("active"));else{var o=h===null?h:a.nestedProperty(u,h).get();c.classed("active",o===y)}})},r.hasButtons=function(n){var u=this.buttons;if(!u||n.length!==u.length)return!1;for(var f=0;f<n.length;++f){if(n[f].length!==u[f].length)return!1;for(var l=0;l<n[f].length;l++)if(n[f][l].name!==u[f][l].name)return!1}return!0};function t(n){return n+" (v"+w+")"}r.getLogo=function(){var n=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",t(a._(this.graphInfo,"Produced with Plotly.js"))),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(x.newplotlylogo)),n.appendChild(u),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function i(n,u){var f=n._fullLayout,l=new p({graphInfo:n,container:f._modebardiv.node(),buttons:u});return f._privateplot&&g.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}H.exports=i},26680:function(H,j,e){var g=e(25376),P=e(22548),a=e(31780).templatedArray,x=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});H.exports={visible:{valType:"boolean",editType:"plot"},buttons:x,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(H){H.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(H,j,e){var g=e(3400),P=e(76308),a=e(31780),x=e(51272),w=e(26680),v=e(85984);H.exports=function(i,n,u,f,l){var y=i.rangeselector||{},h=a.newContainer(n,"rangeselector");function M(S,C){return g.coerce(y,h,w,S,C)}var c=x(y,h,{name:"buttons",handleItemDefaults:p,calendar:l}),o=M("visible",c.length>0);if(o){var d=r(n,u,f);M("x",d[0]),M("y",d[1]),g.noneOrAll(i,n,["x","y"]),M("xanchor"),M("yanchor"),g.coerceFont(M,"font",u.font);var T=M("bgcolor");M("activecolor",P.contrast(T,v.lightAmount,v.darkAmount)),M("bordercolor"),M("borderwidth")}};function p(t,i,n,u){var f=u.calendar;function l(M,c){return g.coerce(t,i,w.buttons,M,c)}var y=l("visible");if(y){var h=l("step");h!=="all"&&(f&&f!=="gregorian"&&(h==="month"||h==="year")?i.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,i,n){for(var u=n.filter(function(h){return i[h].anchor===t._id}),f=0,l=0;l<u.length;l++){var y=i[u[l]].domain;y&&(f=Math.max(y[1],f))}return[t.domain[0],f+v.yPad]}},50216:function(H,j,e){var g=e(33428),P=e(24040),a=e(7316),x=e(76308),w=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),i=e(84284),n=i.LINE_SPACING,u=i.FROM_TL,f=i.FROM_BR,l=e(85984),y=e(48040);H.exports=function(E){var b=E._fullLayout,s=b._infolayer.selectAll(".rangeselector").data(h(E),M);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(L){var A=g.select(this),k=L,_=k.rangeselector,U=A.selectAll("g.button").data(v.filterVisible(_.buttons));U.enter().append("g").classed("button",!0),U.exit().remove(),U.each(function(F){var z=g.select(this),B=y(k,F);F._isActive=c(k,F,B),z.call(o,_,F),z.call(T,_,F,E),z.on("click",function(){E._dragged||P.call("_guiRelayout",E,B)}),z.on("mouseover",function(){F._isHovered=!0,z.call(o,_,F)}),z.on("mouseout",function(){F._isHovered=!1,z.call(o,_,F)})}),C(E,U,_,k._name,A)})};function h(m){for(var E=t.list(m,"x",!0),b=[],s=0;s<E.length;s++){var L=E[s];L.rangeselector&&L.rangeselector.visible&&b.push(L)}return b}function M(m){return m._id}function c(m,E,b){if(E.step==="all")return m.autorange===!0;var s=Object.keys(b);return m.range[0]===b[s[0]]&&m.range[1]===b[s[1]]}function o(m,E,b){var s=v.ensureSingle(m,"rect","selector-rect",function(L){L.attr("shape-rendering","crispEdges")});s.attr({rx:l.rx,ry:l.ry}),s.call(x.stroke,E.bordercolor).call(x.fill,d(E,b)).style("stroke-width",E.borderwidth+"px")}function d(m,E){return E._isActive||E._isHovered?m.activecolor:m.bgcolor}function T(m,E,b,s){function L(k){r.convertToTspans(k,s)}var A=v.ensureSingle(m,"text","selector-text",function(k){k.attr("text-anchor","middle")});A.call(w.font,E.font).text(S(b,s._fullLayout._meta)).call(L)}function S(m,E){return m.label?E?v.templateString(m.label,E):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function C(m,E,b,s,L){var A=0,k=0,_=b.borderwidth;E.each(function(){var V=g.select(this),W=V.select(".selector-text"),Q=b.font.size*n,re=Math.max(Q*r.lineCount(W),16)+3;k=Math.max(k,re)}),E.each(function(){var V=g.select(this),W=V.select(".selector-rect"),Q=V.select(".selector-text"),re=Q.node()&&w.bBox(Q.node()).width,ne=b.font.size*n,fe=r.lineCount(Q),$=Math.max(re+10,l.minButtonWidth);V.attr("transform",p(_+A,_)),W.attr({x:0,y:0,width:$,height:k}),r.positionText(Q,$/2,k/2-(fe-1)*ne/2+3),A+=$+5});var U=m._fullLayout._size,F=U.l+U.w*b.x,z=U.t+U.h*(1-b.y),B="left";v.isRightAnchor(b)&&(F-=A,B="right"),v.isCenterAnchor(b)&&(F-=A/2,B="center");var N="top";v.isBottomAnchor(b)&&(z-=k,N="bottom"),v.isMiddleAnchor(b)&&(z-=k/2,N="middle"),A=Math.ceil(A),k=Math.ceil(k),F=Math.round(F),z=Math.round(z),a.autoMargin(m,s+"-range-selector",{x:b.x,y:b.y,l:A*u[B],r:A*f[B],b:k*f[N],t:k*u[N]}),L.attr("transform",p(F,z))}},48040:function(H,j,e){var g=e(73220),P=e(3400).titleCase;H.exports=function(w,v){var p=w._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=a(w,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function a(x,w){var v=x.range,p=new Date(x.r2l(v[1])),r=w.step,t=g["utc"+P(r)],i=w.count,n;switch(w.stepmode){case"backward":n=x.l2r(+t.offset(p,-i));break;case"todate":var u=t.offset(p,-i);n=x.l2r(+t.ceil(u));break}var f=v[1];return[n,f]}},41152:function(H,j,e){H.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(H,j,e){var g=e(22548);H.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(H,j,e){var g=e(79811).list,P=e(19280).getAutoRange,a=e(74636);H.exports=function(w){for(var v=g(w,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(w,r))}}},74636:function(H){H.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(H,j,e){var g=e(3400),P=e(31780),a=e(79811),x=e(11200),w=e(10936);H.exports=function(p,r,t){var i=p[t],n=r[t];if(!(i.rangeslider||r._requestRangeslider[n._id]))return;g.isPlainObject(i.rangeslider)||(i.rangeslider={});var u=i.rangeslider,f=P.newContainer(n,"rangeslider");function l(s,L){return g.coerce(u,f,x,s,L)}var y,h;function M(s,L){return g.coerce(y,h,w,s,L)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(u.range)),l("range");var o=r._subplots;if(o)for(var d=o.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===a.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),T=g.simpleMap(d,a.id2name),S=0;S<T.length;S++){var C=T[S];y=u[C]||{},h=P.newContainer(f,C,"yaxis");var m=r[C],E;y.range&&m.isValidRange(y.range)&&(E="fixed");var b=M("rangemode",E);b!=="match"&&M("range",m.range.slice())}f._input=u}}},20060:function(H,j,e){var g=e(33428),P=e(24040),a=e(7316),x=e(3400),w=x.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),i=e(79811),n=e(86476),u=e(93972),f=e(74636);H.exports=function(E){for(var b=E._fullLayout,s=b._rangeSliderData,L=0;L<s.length;L++){var A=s[L][f.name];A._clipId=A._id+"-"+b._uid}function k(U){return U._name}var _=b._infolayer.selectAll("g."+f.containerClassName).data(s,k);_.exit().each(function(U){var F=U[f.name];b._topdefs.select("#"+F._clipId).remove()}).remove(),s.length!==0&&(_.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),_.each(function(U){var F=g.select(this),z=U[f.name],B=b[i.id2name(U.anchor)],N=z[i.id2name(U.anchor)];if(z.range){var V=x.simpleMap(z.range,U.r2l),W=x.simpleMap(U.range,U.r2l),Q;W[0]<W[1]?Q=[Math.min(V[0],W[0]),Math.max(V[1],W[1])]:Q=[Math.max(V[0],W[0]),Math.min(V[1],W[1])],z.range=z._input.range=x.simpleMap(Q,U.l2r)}U.cleanRange("rangeslider.range");var re=b._size,ne=U.domain;z._width=re.w*(ne[1]-ne[0]);var fe=Math.round(re.l+re.w*ne[0]),$=Math.round(re.t+re.h*(1-U._counterDomainMin)+(U.side==="bottom"?U._depth:0)+z._offsetShift+f.extraPad);F.attr("transform",w(fe,$)),z._rl=x.simpleMap(z.range,U.r2l);var X=z._rl[0],oe=z._rl[1],Y=oe-X;if(z.p2d=function(Ae){return Ae/z._width*Y+X},z.d2p=function(Ae){return(Ae-X)/Y*z._width},U.rangebreaks){var ee=U.locateBreaks(X,oe);if(ee.length){var se,q,K=0;for(se=0;se<ee.length;se++)q=ee[se],K+=q.max-q.min;var le=z._width/(oe-X-K),ie=[-le*X];for(se=0;se<ee.length;se++)q=ee[se],ie.push(ie[ie.length-1]-le*(q.max-q.min));for(z.d2p=function(Ae){for(var ke=ie[0],we=0;we<ee.length;we++){var Ee=ee[we];if(Ae>=Ee.max)ke=ie[we+1];else if(Ae<Ee.min)break}return ke+le*Ae},se=0;se<ee.length;se++)q=ee[se],q.pmin=z.d2p(q.min),q.pmax=z.d2p(q.max);z.p2d=function(Ae){for(var ke=ie[0],we=0;we<ee.length;we++){var Ee=ee[we];if(Ae>=Ee.pmax)ke=ie[we+1];else if(Ae<Ee.pmin)break}return(Ae-ke)/le}}}if(N.rangemode!=="match"){var he=B.r2l(N.range[0]),ye=B.r2l(N.range[1]),Ce=ye-he;z.d2pOppAxis=function(Ae){return(Ae-he)/Ce*z._height}}F.call(c,E,U,z).call(o,E,U,z).call(d,E,U,z).call(S,E,U,z,N).call(C,E,U,z).call(m,E,U,z),y(F,E,U,z),M(F,E,U,z,B,N),U.side==="bottom"&&r.draw(E,U._id+"title",{propContainer:U,propName:U._name+".title",placeholder:b._dfltTitle.x,attributes:{x:U._offset+U._length/2,y:$+z._height+z._offsetShift+10+1.5*U.title.font.size,"text-anchor":"middle"}})}))};function l(E){return typeof E.clientX=="number"?E.clientX:E.touches&&E.touches.length>0?E.touches[0].clientX:0}function y(E,b,s,L){if(b._context.staticPlot)return;var A=E.select("rect."+f.slideBoxClassName).node(),k=E.select("rect."+f.grabAreaMinClassName).node(),_=E.select("rect."+f.grabAreaMaxClassName).node();function U(){var F=g.event,z=F.target,B=l(F),N=B-E.node().getBoundingClientRect().left,V=L.d2p(s._rl[0]),W=L.d2p(s._rl[1]),Q=n.coverSlip();this.addEventListener("touchmove",re),this.addEventListener("touchend",ne),Q.addEventListener("mousemove",re),Q.addEventListener("mouseup",ne);function re(fe){var $=l(fe),X=+$-B,oe,Y,ee;switch(z){case A:if(ee="ew-resize",V+X>s._length||W+X<0)return;oe=V+X,Y=W+X;break;case k:if(ee="col-resize",V+X>s._length)return;oe=V+X,Y=W;break;case _:if(ee="col-resize",W+X<0)return;oe=V,Y=W+X;break;default:ee="ew-resize",oe=N,Y=N+X;break}if(Y<oe){var se=Y;Y=oe,oe=se}L._pixelMin=oe,L._pixelMax=Y,u(g.select(Q),ee),h(E,b,s,L)}function ne(){Q.removeEventListener("mousemove",re),Q.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",re),this.removeEventListener("touchend",ne),x.removeElement(Q)}}E.on("mousedown",U),E.on("touchstart",U)}function h(E,b,s,L){function A(U){return s.l2r(x.constrain(U,L._rl[0],L._rl[1]))}var k=A(L.p2d(L._pixelMin)),_=A(L.p2d(L._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",b,s._name+".range",[k,_])})}function M(E,b,s,L,A,k){var _=f.handleWidth/2;function U(fe){return x.constrain(fe,0,L._width)}function F(fe){return x.constrain(fe,0,L._height)}function z(fe){return x.constrain(fe,-_,L._width+_)}var B=U(L.d2p(s._rl[0])),N=U(L.d2p(s._rl[1]));if(E.select("rect."+f.slideBoxClassName).attr("x",B).attr("width",N-B),E.select("rect."+f.maskMinClassName).attr("width",B),E.select("rect."+f.maskMaxClassName).attr("x",N).attr("width",L._width-N),k.rangemode!=="match"){var V=L._height-F(L.d2pOppAxis(A._rl[1])),W=L._height-F(L.d2pOppAxis(A._rl[0]));E.select("rect."+f.maskMinOppAxisClassName).attr("x",B).attr("height",V).attr("width",N-B),E.select("rect."+f.maskMaxOppAxisClassName).attr("x",B).attr("y",W).attr("height",L._height-W).attr("width",N-B),E.select("rect."+f.slideBoxClassName).attr("y",V).attr("height",W-V)}var Q=.5,re=Math.round(z(B-_))-Q,ne=Math.round(z(N-_))+Q;E.select("g."+f.grabberMinClassName).attr("transform",w(re,Q)),E.select("g."+f.grabberMaxClassName).attr("transform",w(ne,Q))}function c(E,b,s,L){var A=x.ensureSingle(E,"rect",f.bgClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),k=L.borderwidth%2===0?L.borderwidth:L.borderwidth-1,_=-L._offsetShift,U=v.crispRound(b,L.borderwidth);A.attr({width:L._width+k,height:L._height+k,transform:w(_,_),"stroke-width":U}).call(p.stroke,L.bordercolor).call(p.fill,L.bgcolor)}function o(E,b,s,L){var A=b._fullLayout,k=x.ensureSingleById(A._topdefs,"clipPath",L._clipId,function(_){_.append("rect").attr({x:0,y:0})});k.select("rect").attr({width:L._width,height:L._height})}function d(E,b,s,L){var A=b.calcdata,k=E.selectAll("g."+f.rangePlotClassName).data(s._subplotsWith,x.identity);k.enter().append("g").attr("class",function(U){return f.rangePlotClassName+" "+U}).call(v.setClipUrl,L._clipId,b),k.order(),k.exit().remove();var _;k.each(function(U,F){var z=g.select(this),B=F===0,N=i.getFromId(b,U,"y"),V=N._name,W=L[V],Q={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:L.range.slice(),calendar:s.calendar},width:L._width,height:L._height,margin:{t:0,b:0,l:0,r:0}},_context:b._context};s.rangebreaks&&(Q.layout.xaxis.rangebreaks=s.rangebreaks),Q.layout[V]={type:N.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():N.range.slice(),calendar:N.calendar},N.rangebreaks&&(Q.layout[V].rangebreaks=N.rangebreaks),a.supplyDefaults(Q);var re=Q._fullLayout.xaxis,ne=Q._fullLayout[V];re.clearCalc(),re.setScale(),ne.clearCalc(),ne.setScale();var fe={id:U,plotgroup:z,xaxis:re,yaxis:ne,isRangePlot:!0};B?_=fe:(fe.mainplot="xy",fe.mainplotinfo=_),t.rangePlot(b,fe,T(A,U))})}function T(E,b){for(var s=[],L=0;L<E.length;L++){var A=E[L],k=A[0].trace;k.xaxis+k.yaxis===b&&s.push(A)}return s}function S(E,b,s,L,A){var k=x.ensureSingle(E,"rect",f.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});k.attr("height",L._height).call(p.fill,f.maskColor);var _=x.ensureSingle(E,"rect",f.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(_.attr("height",L._height).call(p.fill,f.maskColor),A.rangemode!=="match"){var U=x.ensureSingle(E,"rect",f.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",L._width).call(p.fill,f.maskOppAxisColor);var F=x.ensureSingle(E,"rect",f.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",L._width).style("border-top",f.maskOppBorder).call(p.fill,f.maskOppAxisColor)}}function C(E,b,s,L){if(!b._context.staticPlot){var A=x.ensureSingle(E,"rect",f.slideBoxClassName,function(k){k.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});A.attr({height:L._height,fill:f.slideBoxFill})}}function m(E,b,s,L){var A=x.ensureSingle(E,"g",f.grabberMinClassName),k=x.ensureSingle(E,"g",f.grabberMaxClassName),_={x:0,width:f.handleWidth,rx:f.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},U={y:Math.round(L._height/4),height:Math.round(L._height/2)},F=x.ensureSingle(A,"rect",f.handleMinClassName,function(W){W.attr(_)});F.attr(U);var z=x.ensureSingle(k,"rect",f.handleMaxClassName,function(W){W.attr(_)});z.attr(U);var B={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:b._context.staticPlot?void 0:f.grabAreaCursor},N=x.ensureSingle(A,"rect",f.grabAreaMinClassName,function(W){W.attr(B)});N.attr("height",L._height);var V=x.ensureSingle(k,"rect",f.grabAreaMaxClassName,function(W){W.attr(B)});V.attr("height",L._height)}},97944:function(H,j,e){var g=e(79811),P=e(72736),a=e(74636),x=e(84284).LINE_SPACING,w=a.name;function v(p){var r=p&&p[w];return r&&r.visible}j.isVisible=v,j.makeData=function(p){var r=g.list({_fullLayout:p},"x",!0),t=p.margin,i=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var u=r[n];if(v(u)){i.push(u);var f=u[w];f._id=w+u._id,f._height=(p.height-t.b-t.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}p._rangeSliderData=i},j.autoMarginOpts=function(p,r){var t=p._fullLayout,i=r[w],n=r._id.charAt(0),u=0,f=0;if(r.side==="bottom"&&(u=r._depth,r.title.text!==t._dfltTitle[n])){f=1.5*r.title.font.size+10+i._offsetShift;var l=(r.title.text.match(P.BR_TAG_ALL)||[]).length;f+=l*r.title.font.size*x}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:i._height+u+Math.max(t.margin.b,f),pad:a.extraPad+i._offsetShift*2}}},49692:function(H,j,e){var g=e(3400),P=e(11200),a=e(10936),x=e(97944);H.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},P,{yaxis:a})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:x.isVisible,makeData:x.makeData,autoMarginOpts:x.autoMarginOpts}},10936:function(H){H.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(H,j,e){var g=e(13916),P=e(52904).line,a=e(98192).u,x=e(92880).extendFlat,w=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),H.exports=w(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:x({},g.xref,{}),yref:x({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:x({},P.width,{min:1,dflt:1}),dash:x({},a,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(H){H.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(H,j,e){var g=e(3400),P=e(54460),a=e(51272),x=e(93956),w=e(65152);H.exports=function(r,t){a(r,t,{name:"selections",handleItemDefaults:v});for(var i=t.selections,n=0;n<i.length;n++){var u=i[n];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function i(A,k){return g.coerce(p,r,x,A,k)}var n=i("path"),u=n?"path":"rect",f=i("type",u),l=f!=="path";l&&delete r.path,i("opacity"),i("line.color"),i("line.width"),i("line.dash");for(var y=["x","y"],h=0;h<2;h++){var M=y[h],c={_fullLayout:t},o,d,T,S=P.coerceRef(p,r,c,M);if(o=P.getFromId(c,S),o._selectionIndices.push(r._index),T=w.rangeToShapePosition(o),d=w.shapePositionToRange(o),l){var C=M+"0",m=M+"1",E=p[C],b=p[m];p[C]=d(p[C],!0),p[m]=d(p[m],!0),P.coercePosition(r,c,i,S,C),P.coercePosition(r,c,i,S,m);var s=r[C],L=r[m];s!==void 0&&L!==void 0&&(r[C]=T(s),r[m]=T(L),p[C]=E,p[m]=b)}}l&&g.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(H,j,e){var g=e(9856).readPaths,P=e(55496),a=e(1936).clearOutlineControllers,x=e(76308),w=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;H.exports={draw:t,drawOne:n,activateLastSelection:l};function t(h){var M=h._fullLayout;a(h),M._selectionLayer.selectAll("path").remove();for(var c in M._plots){var o=M._plots[c].selectionLayer;o&&o.selectAll("path").remove()}for(var d=0;d<M.selections.length;d++)n(h,d)}function i(h){return h._context.editSelection}function n(h,M){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+M+'"]').remove();var c=p.makeSelectionsOptionsAndPlotinfo(h,M),o=c.options,d=c.plotinfo;if(!o._input)return;T(h._fullLayout._selectionLayer);function T(S){var C=r(h,o),m={"data-index":M,"fill-rule":"evenodd",d:C},E=o.opacity,b="rgba(0,0,0,0)",s=o.line.color||x.contrast(h._fullLayout.plot_bgcolor),L=o.line.width,A=o.line.dash;L||(L=5,A="solid");var k=i(h)&&h._fullLayout._activeSelectionIndex===M;k&&(b=h._fullLayout.activeselection.fillcolor,E=h._fullLayout.activeselection.opacity);for(var _=[],U=1;U>=0;U--){var F=S.append("path").attr(m).style("opacity",U?.1:E).call(x.stroke,s).call(x.fill,b).call(w.dashLine,U?"solid":A,U?4+L:L);if(u(F,h,o),k){var z=v(h.layout,"selections",o);F.style({cursor:"move"});var B={element:F.node(),plotinfo:d,gd:h,editHelpers:z,isActiveSelection:!0},N=g(C,h);P(N,F,B)}else F.style("pointer-events",U?"all":"none");_[U]=F}var V=_[0],W=_[1];W.node().addEventListener("click",function(){return f(h,V)})}}function u(h,M,c){var o=c.xref+c.yref;w.setClipUrl(h,"clip"+M._fullLayout._uid+o,M)}function f(h,M){if(i(h)){var c=M.node(),o=+c.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){y(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=y,t(h)}}}function l(h){if(i(h)){var M=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=M,h._fullLayout._deactivateSelection=y,t(h)}}function y(h){if(i(h)){var M=h._fullLayout._activeSelectionIndex;M>=0&&(a(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(H,j,e){var g=e(98192).u,P=e(92880).extendFlat;H.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(H){H.exports=function(e,g,P){P("newselection.mode");var a=P("newselection.line.width");a&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(H,j,e){var g=e(72760),P=g.selectMode,a=e(1936),x=a.clearOutline,w=e(9856),v=w.readPaths,p=w.writePaths,r=w.fixDatesForPaths;H.exports=function(i,n){if(i.length){var u=i[0][0];if(u){var f=u.getAttribute("d"),l=n.gd,y=l._fullLayout.newselection,h=n.plotinfo,M=h.xaxis,c=h.yaxis,o=n.isActiveSelection,d=n.dragmode,T=(l.layout||{}).selections||[];if(!P(d)&&o!==void 0){var S=l._fullLayout._activeSelectionIndex;if(S<T.length)switch(l._fullLayout.selections[S].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(f,l,h,o),m={xref:M._id,yref:c._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},E;C.length===1&&(E=C[0]),E&&E.length===5&&d==="select"?(m.type="rect",m.x0=E[0][1],m.y0=E[0][2],m.x1=E[2][1],m.y1=E[2][2]):(m.type="path",M&&c&&r(C,M,c),m.path=p(C),E=null),x(l);for(var b=n.editHelpers,s=(b||{}).modifyItem,L=[],A=0;A<T.length;A++){var k=l._fullLayout.selections[A];if(!k){L[A]=k;continue}if(L[A]=k._input,o!==void 0&&A===l._fullLayout._activeSelectionIndex){var _=m;switch(k.type){case"rect":s("x0",_.x0),s("x1",_.x1),s("y0",_.y0),s("y1",_.y1);break;case"path":s("path",_.path);break}}}return o===void 0?(L.push(m),L):b?b.getUpdateObj():{}}}}},5840:function(H,j,e){var g=e(3400).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function a(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function x(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function w(v){return g(v.xaxis._offset,v.yaxis._offset)}H.exports={p2r:P,r2p:a,axValue:x,getTransform:w}},22676:function(H,j,e){var g=e(23640),P=e(43156);H.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(H,j,e){var g=e(14756),P=e(61456),a=e(24040),x=e(43616).dashStyle,w=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,i=r.rectMode,n=r.drawMode,u=r.openMode,f=r.selectMode,l=e(65152),y=e(85448),h=e(55496),M=e(1936).clearOutline,c=e(9856),o=c.handleEllipse,d=c.readPaths,T=e(93940).newShapes,S=e(5968),C=e(23640).activateLastSelection,m=e(3400),E=m.sorterAsc,b=e(92065),s=e(91200),L=e(79811).getFromId,A=e(73696),k=e(39172).redrawReglTraces,_=e(83280),U=_.MINSELECT,F=b.filter,z=b.tester,B=e(5840),N=B.p2r,V=B.axValue,W=B.getTransform;function Q(He){return He.subplot!==void 0}function re(He,Ie,be,me,Me){var Te=!Q(me),ze=t(Me),Je=i(Me),nt=u(Me),pt=n(Me),yt=f(Me),Yt=Me==="drawline",Xt=Me==="drawcircle",St=Yt||Xt,kt=me.gd,Kt=kt._fullLayout,mr=yt&&Kt.newselection.mode==="immediate"&&Te,mt=Kt._zoomlayer,Zt=me.element.getBoundingClientRect(),Qt=me.plotinfo,yr=W(Qt),sr=Ie-Zt.left,bt=be-Zt.top;Kt._calcInverseTransform(kt);var lt=m.apply3DTransform(Kt._invTransform)(sr,bt);sr=lt[0],bt=lt[1];var Tt=Kt._invScaleX,Ct=Kt._invScaleY,It=sr,Dt=bt,Vt="M"+sr+","+bt,Bt=me.xaxes[0],$t=me.yaxes[0],fr=Bt._length,cr=$t._length,dr=He.altKey&&!(n(Me)&&nt),Ye,Ge,zt,Ft,Jt,tr,ur;Y(He,kt,me),ze&&(Ye=F([[sr,bt]],_.BENDPX));var nr=mt.selectAll("path.select-outline-"+Qt.id).data([1]),Nt=pt?Kt.newshape:Kt.newselection;pt&&(me.hasText=Nt.label.text||Nt.label.texttemplate);var hr=pt&&!nt?Nt.fillcolor:"rgba(0,0,0,0)",gr=Nt.line.color||(Te?w.contrast(kt._fullLayout.plot_bgcolor):"#7f7f7f");nr.enter().append("path").attr("class","select-outline select-outline-"+Qt.id).style({opacity:pt?Nt.opacity/2:1,"stroke-dasharray":x(Nt.line.dash,Nt.line.width),"stroke-width":Nt.line.width+"px","shape-rendering":"crispEdges"}).call(w.stroke,gr).call(w.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!pt).attr("transform",yr).attr("d",Vt+"Z");var br=mt.append("path").attr("class","zoombox-corners").style({fill:w.background,stroke:w.defaultLine,"stroke-width":1}).attr("transform",yr).attr("d","M0,0Z");if(pt&&me.hasText){var vr=mt.select(".label-temp");vr.empty()&&(vr=mt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Gr=Kt._uid+_.SELECTID,Dr=[],_r=le(kt,me.xaxes,me.yaxes,me.subplot);mr&&!He.shiftKey&&(me._clearSubplotSelections=function(){if(Te){var nn=Bt._id,Pn=$t._id;dt(kt,nn,Pn,_r);for(var Cn=(kt.layout||{}).selections||[],Ar=[],Pr=!1,Wr=0;Wr<Cn.length;Wr++){var Vr=Kt.selections[Wr];Vr.xref!==nn||Vr.yref!==Pn?Ar.push(Cn[Wr]):Pr=!0}Pr&&(kt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",kt,{selections:Ar}))}});var hn=tt(me);me.moveFn=function(nn,Pn){me._clearSubplotSelections&&(me._clearSubplotSelections(),me._clearSubplotSelections=void 0),It=Math.max(0,Math.min(fr,Tt*nn+sr)),Dt=Math.max(0,Math.min(cr,Ct*Pn+bt));var Cn=Math.abs(It-sr),Ar=Math.abs(Dt-bt);if(Je){var Pr,Wr,Vr;if(yt){var on=Kt.selectdirection;switch(on==="any"?Ar<Math.min(Cn*.6,U)?Pr="h":Cn<Math.min(Ar*.6,U)?Pr="v":Pr="d":Pr=on,Pr){case"h":Wr=Xt?cr/2:0,Vr=cr;break;case"v":Wr=Xt?fr/2:0,Vr=fr;break}}if(pt)switch(Kt.newshape.drawdirection){case"vertical":Pr="h",Wr=Xt?cr/2:0,Vr=cr;break;case"horizontal":Pr="v",Wr=Xt?fr/2:0,Vr=fr;break;case"ortho":Cn<Ar?(Pr="h",Wr=bt,Vr=Dt):(Pr="v",Wr=sr,Vr=It);break;default:Pr="d"}Pr==="h"?(Ft=St?o(Xt,[It,Wr],[It,Vr]):[[sr,Wr],[sr,Vr],[It,Vr],[It,Wr]],Ft.xmin=St?It:Math.min(sr,It),Ft.xmax=St?It:Math.max(sr,It),Ft.ymin=Math.min(Wr,Vr),Ft.ymax=Math.max(Wr,Vr),br.attr("d","M"+Ft.xmin+","+(bt-U)+"h-4v"+2*U+"h4ZM"+(Ft.xmax-1)+","+(bt-U)+"h4v"+2*U+"h-4Z")):Pr==="v"?(Ft=St?o(Xt,[Wr,Dt],[Vr,Dt]):[[Wr,bt],[Wr,Dt],[Vr,Dt],[Vr,bt]],Ft.xmin=Math.min(Wr,Vr),Ft.xmax=Math.max(Wr,Vr),Ft.ymin=St?Dt:Math.min(bt,Dt),Ft.ymax=St?Dt:Math.max(bt,Dt),br.attr("d","M"+(sr-U)+","+Ft.ymin+"v-4h"+2*U+"v4ZM"+(sr-U)+","+(Ft.ymax-1)+"v4h"+2*U+"v-4Z")):Pr==="d"&&(Ft=St?o(Xt,[sr,bt],[It,Dt]):[[sr,bt],[sr,Dt],[It,Dt],[It,bt]],Ft.xmin=Math.min(sr,It),Ft.xmax=Math.max(sr,It),Ft.ymin=Math.min(bt,Dt),Ft.ymax=Math.max(bt,Dt),br.attr("d","M0,0Z"))}else ze&&(Ye.addPt([It,Dt]),Ft=Ye.filtered);if(me.selectionDefs&&me.selectionDefs.length?(zt=xe(me.mergedPolygons,Ft,dr),Ft.subtract=dr,Ge=oe(me.selectionDefs.concat([Ft]))):(zt=[Ft],Ge=z(Ft)),h(Ve(zt,nt),nr,me),yt){var yn=Be(kt,!1),mn=yn.eventData?yn.eventData.points.slice():[];yn=Be(kt,!1,Ge,_r,me),Ge=yn.selectionTesters,ur=yn.eventData;var Ln;Ye?Ln=Ye.filtered:Ln=ht(zt),s.throttle(Gr,_.SELECTDELAY,function(){Dr=Ue(Ge,_r);for(var zn=Dr.slice(),aa=0;aa<mn.length;aa++){for(var ha=mn[aa],pa=!1,ua=0;ua<zn.length;ua++)if(zn[ua].curveNumber===ha.curveNumber&&zn[ua].pointNumber===ha.pointNumber){pa=!0;break}pa||zn.push(ha)}zn.length&&(ur||(ur={}),ur.points=zn),hn(ur,Ln),_e(kt,ur)})}},me.clickFn=function(nn,Pn){if(br.remove(),kt._fullLayout._activeShapeIndex>=0){kt._fullLayout._deactivateShape(kt);return}if(!pt){var Cn=Kt.clickmode;s.done(Gr).then(function(){if(s.clear(Gr),nn===2){for(nr.remove(),Jt=0;Jt<_r.length;Jt++)tr=_r[Jt],tr._module.selectPoints(tr,!1);if(we(kt,_r),q(me),Ke(kt),_r.length){var Ar=_r[0].xaxis,Pr=_r[0].yaxis;if(Ar&&Pr){for(var Wr=[],Vr=kt._fullLayout.selections,on=0;on<Vr.length;on++){var yn=Vr[on];yn&&(yn.xref!==Ar._id||yn.yref!==Pr._id)&&Wr.push(yn)}Wr.length<Vr.length&&(kt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",kt,{selections:Wr}))}}}else Cn.indexOf("select")>-1&&ne(Pn,kt,me.xaxes,me.yaxes,me.subplot,me,nr),Cn==="event"&&je(kt,void 0);v.click(kt,Pn,Qt.id)}).catch(m.error)}},me.doneFn=function(){br.remove(),s.done(Gr).then(function(){s.clear(Gr),!mr&&Ft&&me.selectionDefs&&(Ft.subtract=dr,me.selectionDefs.push(Ft),me.mergedPolygons.length=0,[].push.apply(me.mergedPolygons,zt)),(mr||pt)&&q(me,mr),me.doneFnCompleted&&me.doneFnCompleted(Dr),yt&&je(kt,ur)}).catch(m.error)}}function ne(He,Ie,be,me,Me,Te,ze){var Je=Ie._hoverdata,nt=Ie._fullLayout,pt=nt.clickmode,yt=pt.indexOf("event")>-1,Yt=[],Xt,St,kt,Kt,mr,mt,Zt,Qt,yr,sr;if(he(Je)){Y(He,Ie,Te),Xt=le(Ie,be,me,Me);var bt=ye(Je,Xt),lt=bt.pointNumbers.length>0;if(lt?Ae(Xt,bt):ke(Xt)&&(Zt=Ce(bt))){for(ze&&ze.remove(),sr=0;sr<Xt.length;sr++)St=Xt[sr],St._module.selectPoints(St,!1);we(Ie,Xt),q(Te),yt&&Ke(Ie)}else{Qt=He.shiftKey&&(Zt!==void 0?Zt:Ce(bt)),kt=fe(bt.pointNumber,bt.searchInfo,Qt);var Tt=Te.selectionDefs.concat([kt]);for(Kt=oe(Tt),sr=0;sr<Xt.length;sr++)if(mr=Xt[sr]._module.selectPoints(Xt[sr],Kt),mt=Re(mr,Xt[sr]),Yt.length)for(var Ct=0;Ct<mt.length;Ct++)Yt.push(mt[Ct]);else Yt=mt;if(yr={points:Yt},we(Ie,Xt,yr),kt&&Te&&Te.selectionDefs.push(kt),ze){var It=Te.mergedPolygons,Dt=u(Te.dragmode);h(Ve(It,Dt),ze,Te)}yt&&je(Ie,yr)}}}function fe(He,Ie,be){return{pointNumber:He,searchInfo:Ie,subtract:!!be}}function $(He){return"pointNumber"in He&&"searchInfo"in He}function X(He){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ie,be,me,Me){var Te=He.searchInfo.cd[0].trace._expandedIndex,ze=Me.cd[0].trace._expandedIndex;return ze===Te&&me===He.pointNumber},isRect:!1,degenerate:!1,subtract:!!He.subtract}}function oe(He){if(!He.length)return;for(var Ie=[],be=$(He[0])?0:He[0][0][0],me=be,Me=$(He[0])?0:He[0][0][1],Te=Me,ze=0;ze<He.length;ze++)if($(He[ze]))Ie.push(X(He[ze]));else{var Je=z(He[ze]);Je.subtract=!!He[ze].subtract,Ie.push(Je),be=Math.min(be,Je.xmin),me=Math.max(me,Je.xmax),Me=Math.min(Me,Je.ymin),Te=Math.max(Te,Je.ymax)}function nt(pt,yt,Yt,Xt){for(var St=!1,kt=0;kt<Ie.length;kt++)Ie[kt].contains(pt,yt,Yt,Xt)&&(St=!Ie[kt].subtract);return St}return{xmin:be,xmax:me,ymin:Me,ymax:Te,pts:[],contains:nt,isRect:!1,degenerate:!1}}function Y(He,Ie,be){var me=Ie._fullLayout,Me=be.plotinfo,Te=be.dragmode,ze=me._lastSelectedSubplot&&me._lastSelectedSubplot===Me.id,Je=(He.shiftKey||He.altKey)&&!(n(Te)&&u(Te));ze&&Je&&Me.selection&&Me.selection.selectionDefs&&!be.selectionDefs?(be.selectionDefs=Me.selection.selectionDefs,be.mergedPolygons=Me.selection.mergedPolygons):(!Je||!Me.selection)&&q(be),ze||(M(Ie),me._lastSelectedSubplot=Me.id)}function ee(He){return He._fullLayout._activeShapeIndex>=0}function se(He){return He._fullLayout._activeSelectionIndex>=0}function q(He,Ie){var be=He.dragmode,me=He.plotinfo,Me=He.gd;ee(Me)&&Me._fullLayout._deactivateShape(Me),se(Me)&&Me._fullLayout._deactivateSelection(Me);var Te=Me._fullLayout,ze=Te._zoomlayer,Je=n(be),nt=f(be);if(Je||nt){var pt=ze.selectAll(".select-outline-"+me.id);if(pt&&Me._fullLayout._outlining){var yt;Je&&(yt=T(pt,He)),yt&&a.call("_guiRelayout",Me,{shapes:yt});var Yt;nt&&!Q(He)&&(Yt=S(pt,He)),Yt&&(Me._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Me,{selections:Yt}).then(function(){Ie&&C(Me)})),Me._fullLayout._outlining=!1}}me.selection={},me.selection.selectionDefs=He.selectionDefs=[],me.selection.mergedPolygons=He.mergedPolygons=[]}function K(He){return He._id}function le(He,Ie,be,me){if(!He.calcdata)return[];var Me=[],Te=Ie.map(K),ze=be.map(K),Je,nt,pt;for(pt=0;pt<He.calcdata.length;pt++)if(Je=He.calcdata[pt],nt=Je[0].trace,!(nt.visible!==!0||!nt._module||!nt._module.selectPoints))if(Q({subplot:me})&&(nt.subplot===me||nt.geo===me))Me.push(ie(nt._module,Je,Ie[0],be[0]));else if(nt.type==="splom"){if(nt._xaxes[Te[0]]&&nt._yaxes[ze[0]]){var yt=ie(nt._module,Je,Ie[0],be[0]);yt.scene=He._fullLayout._splomScenes[nt.uid],Me.push(yt)}}else if(nt.type==="sankey"){var Yt=ie(nt._module,Je,Ie[0],be[0]);Me.push(Yt)}else{if(Te.indexOf(nt.xaxis)===-1&&(!nt._xA||!nt._xA.overlaying)||ze.indexOf(nt.yaxis)===-1&&(!nt._yA||!nt._yA.overlaying))continue;Me.push(ie(nt._module,Je,L(He,nt.xaxis),L(He,nt.yaxis)))}return Me}function ie(He,Ie,be,me){return{_module:He,cd:Ie,xaxis:be,yaxis:me}}function he(He){return He&&Array.isArray(He)&&He[0].hoverOnBox!==!0}function ye(He,Ie){var be=He[0],me=-1,Me=[],Te,ze;for(ze=0;ze<Ie.length;ze++)if(Te=Ie[ze],be.fullData._expandedIndex===Te.cd[0].trace._expandedIndex){if(be.hoverOnBox===!0)break;be.pointNumber!==void 0?me=be.pointNumber:be.binNumber!==void 0&&(me=be.binNumber,Me=be.pointNumbers);break}return{pointNumber:me,pointNumbers:Me,searchInfo:Te}}function Ce(He){var Ie=He.searchInfo.cd[0].trace,be=He.pointNumber,me=He.pointNumbers,Me=me.length>0,Te=Me?me[0]:be;return Ie.selectedpoints?Ie.selectedpoints.indexOf(Te)>-1:!1}function Ae(He,Ie){var be=[],me,Me,Te,ze;for(ze=0;ze<He.length;ze++)me=He[ze],me.cd[0].trace.selectedpoints&&me.cd[0].trace.selectedpoints.length>0&&be.push(me);if(be.length===1&&(Te=be[0]===Ie.searchInfo,Te&&(Me=Ie.searchInfo.cd[0].trace,Me.selectedpoints.length===Ie.pointNumbers.length))){for(ze=0;ze<Ie.pointNumbers.length;ze++)if(Me.selectedpoints.indexOf(Ie.pointNumbers[ze])<0)return!1;return!0}return!1}function ke(He){var Ie=0,be,me,Me;for(Me=0;Me<He.length;Me++)if(be=He[Me],me=be.cd[0].trace,me.selectedpoints&&(me.selectedpoints.length>1||(Ie+=me.selectedpoints.length,Ie>1)))return!1;return Ie===1}function we(He,Ie,be){var me;for(me=0;me<Ie.length;me++){var Me=Ie[me].cd[0].trace._fullInput,Te=He._fullLayout._tracePreGUI[Me.uid]||{};Te.selectedpoints===void 0&&(Te.selectedpoints=Me._input.selectedpoints||null)}var ze;if(be){var Je=be.points||[];for(me=0;me<Ie.length;me++)ze=Ie[me].cd[0].trace,ze._input.selectedpoints=ze._fullInput.selectedpoints=[],ze._fullInput!==ze&&(ze.selectedpoints=[]);for(var nt=0;nt<Je.length;nt++){var pt=Je[nt],yt=pt.data,Yt=pt.fullData,Xt=pt.pointIndex,St=pt.pointIndices;St?([].push.apply(yt.selectedpoints,St),ze._fullInput!==ze&&[].push.apply(Yt.selectedpoints,St)):(yt.selectedpoints.push(Xt),ze._fullInput!==ze&&Yt.selectedpoints.push(Xt))}}else for(me=0;me<Ie.length;me++)ze=Ie[me].cd[0].trace,delete ze.selectedpoints,delete ze._input.selectedpoints,ze._fullInput!==ze&&delete ze._fullInput.selectedpoints;Ee(He,Ie)}function Ee(He,Ie){for(var be=!1,me=0;me<Ie.length;me++){var Me=Ie[me],Te=Me.cd;a.traceIs(Te[0].trace,"regl")&&(be=!0);var ze=Me._module,Je=ze.styleOnSelect||ze.style;Je&&(Je(He,Te,Te[0].node3),Te[0].nodeRangePlot3&&Je(He,Te,Te[0].nodeRangePlot3))}be&&(A(He),k(He))}function xe(He,Ie,be){for(var me=be?g.difference:g.union,Me=me({regions:He},{regions:[Ie]}),Te=Me.regions.reverse(),ze=0;ze<Te.length;ze++){var Je=Te[ze];Je.subtract=rt(Je,Te.slice(0,ze))}return Te}function Re(He,Ie){if(Array.isArray(He))for(var be=Ie.cd,me=Ie.cd[0].trace,Me=0;Me<He.length;Me++)He[Me]=p(He[Me],me,be);return He}function Ve(He,Ie){for(var be=[],me=0;me<He.length;me++){be[me]=[];for(var Me=0;Me<He[me].length;Me++){be[me][Me]=[],be[me][Me][0]=Me?"L":"M";for(var Te=0;Te<He[me][Me].length;Te++)be[me][Me].push(He[me][Me][Te])}Ie||be[me].push(["Z",be[me][0][1],be[me][0][2]])}return be}function Ue(He,Ie){for(var be=[],me,Me,Te=0;Te<Ie.length;Te++){var ze=Ie[Te];Me=ze._module.selectPoints(ze,He),me=Re(Me,ze),be=be.concat(me)}return be}function Be(He,Ie,be,me,Me){var Te=!!me,ze,Je,nt;Me&&(ze=Me.plotinfo,Je=Me.xaxes[0]._id,nt=Me.yaxes[0]._id);var pt=[],yt=[],Yt=We(He),Xt=He._fullLayout;if(ze){var St=Xt._zoomlayer,kt=Xt.dragmode,Kt=n(kt),mr=f(kt);if(Kt||mr){var mt=L(He,Je,"x"),Zt=L(He,nt,"y");if(mt&&Zt){var Qt=St.selectAll(".select-outline-"+ze.id);if(Qt&&He._fullLayout._outlining&&Qt.length){for(var yr=Qt[0][0],sr=yr.getAttribute("d"),bt=d(sr,He,ze),lt=[],Tt=0;Tt<bt.length;Tt++){for(var Ct=bt[Tt],It=[],Dt=0;Dt<Ct.length;Dt++)It.push([st(mt,Ct[Dt][1]),st(Zt,Ct[Dt][2])]);It.xref=Je,It.yref=nt,It.subtract=rt(It,lt),lt.push(It)}Yt=Yt.concat(lt)}}}}var Vt=Je&&nt?[Je+nt]:Xt._subplots.cartesian;Xe(He);for(var Bt={},$t=0;$t<Vt.length;$t++){var fr=Vt[$t],cr=fr.indexOf("y"),dr=fr.slice(0,cr),Ye=fr.slice(cr),Ge=Je&&nt?be:void 0;if(Ge=at(Yt,dr,Ye,Ge),Ge){var zt=me;if(!Te){var Ft=L(He,dr,"x"),Jt=L(He,Ye,"y");zt=le(He,[Ft],[Jt],fr);for(var tr=0;tr<zt.length;tr++){var ur=zt[tr],nr=ur.cd[0],Nt=nr.trace;if(ur._module.name==="scattergl"&&!nr.t.xpx){var hr=Nt.x,gr=Nt.y,br=Nt._length;nr.t.xpx=[],nr.t.ypx=[];for(var vr=0;vr<br;vr++)nr.t.xpx[vr]=Ft.c2p(hr[vr]),nr.t.ypx[vr]=Jt.c2p(gr[vr])}ur._module.name==="splom"&&(Bt[Nt.uid]||(Bt[Nt.uid]=!0))}}var Gr=Ue(Ge,zt);pt=pt.concat(Gr),yt=yt.concat(zt)}}var Dr={points:pt};we(He,yt,Dr);var _r=Xt.clickmode,hn=_r.indexOf("event")>-1&&Ie;if(!ze&&Ie){var nn=We(He,!0);if(nn.length){var Pn=nn[0].xref,Cn=nn[0].yref;if(Pn&&Cn){var Ar=ht(nn),Pr=At([L(He,Pn,"x"),L(He,Cn,"y")]);Pr(Dr,Ar)}}He._fullLayout._noEmitSelectedAtStart?He._fullLayout._noEmitSelectedAtStart=!1:hn&&je(He,Dr),Xt._reselect=!1}if(!ze&&Xt._deselect){var Wr=Xt._deselect;Je=Wr.xref,nt=Wr.yref,ut(Je,nt,yt)||dt(He,Je,nt,me),hn&&(Dr.points.length?je(He,Dr):Ke(He)),Xt._deselect=!1}return{eventData:Dr,selectionTesters:be}}function Xe(He){var Ie=He.calcdata;if(Ie)for(var be=0;be<Ie.length;be++){var me=Ie[be][0],Me=me.trace,Te=He._fullLayout._splomScenes;if(Te){var ze=Te[Me.uid];ze&&(ze.selectBatch=[])}}}function ut(He,Ie,be){for(var me=0;me<be.length;me++){var Me=be[me];if(Me.xaxis&&Me.xaxis._id===He&&Me.yaxis&&Me.yaxis._id===Ie)return!0}return!1}function dt(He,Ie,be,me){me=le(He,[L(He,Ie,"x")],[L(He,be,"y")],Ie+be);for(var Me=0;Me<me.length;Me++){var Te=me[Me];Te._module.selectPoints(Te,!1)}we(He,me)}function at(He,Ie,be,me){for(var Me,Te=0;Te<He.length;Te++){var ze=He[Te];if(!(Ie!==ze.xref||be!==ze.yref))if(Me){var Je=!!ze.subtract;Me=xe(Me,ze,Je),me=oe(Me)}else Me=[ze],me=z(ze)}return me}function We(He,Ie){for(var be=[],me=He._fullLayout,Me=me.selections,Te=Me.length,ze=0;ze<Te;ze++)if(!(Ie&&ze!==me._activeSelectionIndex)){var Je=Me[ze];if(Je){var nt=Je.xref,pt=Je.yref,yt=L(He,nt,"x"),Yt=L(He,pt,"y"),Xt,St,kt,Kt,mr;if(Je.type==="rect"){mr=[];var mt=st(yt,Je.x0),Zt=st(yt,Je.x1),Qt=st(Yt,Je.y0),yr=st(Yt,Je.y1);mr=[[mt,Qt],[mt,yr],[Zt,yr],[Zt,Qt]],Xt=Math.min(mt,Zt),St=Math.max(mt,Zt),kt=Math.min(Qt,yr),Kt=Math.max(Qt,yr),mr.xmin=Xt,mr.xmax=St,mr.ymin=kt,mr.ymax=Kt,mr.xref=nt,mr.yref=pt,mr.subtract=!1,mr.isRect=!0,be.push(mr)}else if(Je.type==="path")for(var sr=Je.path.split("Z"),bt=[],lt=0;lt<sr.length;lt++){var Tt=sr[lt];if(Tt){Tt+="Z";var Ct=l.extractPathCoords(Tt,y.paramIsX,"raw"),It=l.extractPathCoords(Tt,y.paramIsY,"raw");Xt=1/0,St=-1/0,kt=1/0,Kt=-1/0,mr=[];for(var Dt=0;Dt<Ct.length;Dt++){var Vt=st(yt,Ct[Dt]),Bt=st(Yt,It[Dt]);mr.push([Vt,Bt]),Xt=Math.min(Vt,Xt),St=Math.max(Vt,St),kt=Math.min(Bt,kt),Kt=Math.max(Bt,Kt)}mr.xmin=Xt,mr.xmax=St,mr.ymin=kt,mr.ymax=Kt,mr.xref=nt,mr.yref=pt,mr.subtract=rt(mr,bt),bt.push(mr),be.push(mr)}}}}return be}function rt(He,Ie){for(var be=!1,me=0;me<Ie.length;me++)for(var Me=Ie[me],Te=0;Te<He.length;Te++)if(P(He[Te],Me)){be=!be;break}return be}function st(He,Ie){return He.type==="date"&&(Ie=Ie.replace("_"," ")),He.type==="log"?He.c2p(Ie):He.r2p(Ie,null,He.calendar)}function ht(He){for(var Ie=He.length,be=[],me=0;me<Ie;me++){var Me=He[me];be=be.concat(Me),be=be.concat([Me[0]])}return vt(be)}function vt(He){return He.isRect=He.length===5&&He[0][0]===He[4][0]&&He[0][1]===He[4][1]&&He[0][0]===He[1][0]&&He[2][0]===He[3][0]&&He[0][1]===He[3][1]&&He[1][1]===He[2][1]||He[0][1]===He[1][1]&&He[2][1]===He[3][1]&&He[0][0]===He[3][0]&&He[1][0]===He[2][0],He.isRect&&(He.xmin=Math.min(He[0][0],He[2][0]),He.xmax=Math.max(He[0][0],He[2][0]),He.ymin=Math.min(He[0][1],He[2][1]),He.ymax=Math.max(He[0][1],He[2][1])),He}function At(He){return function(Ie,be){for(var me,Me,Te=0;Te<He.length;Te++){var ze=He[Te],Je=ze._id,nt=Je.charAt(0);if(be.isRect){me||(me={});var pt=be[nt+"min"],yt=be[nt+"max"];pt!==void 0&&yt!==void 0&&(me[Je]=[N(ze,pt),N(ze,yt)].sort(E))}else Me||(Me={}),Me[Je]=be.map(V(ze))}me&&(Ie.range=me),Me&&(Ie.lassoPoints=Me)}}function tt(He){var Ie=He.plotinfo;return Ie.fillRangeItems||At(He.xaxes.concat(He.yaxes))}function _e(He,Ie){He.emit("plotly_selecting",Ie)}function je(He,Ie){Ie&&(Ie.selections=(He.layout||{}).selections||[]),He.emit("plotly_selected",Ie)}function Ke(He){He.emit("plotly_deselect",null)}H.exports={reselect:Be,prepSelect:re,clearOutline:M,clearSelectionsCache:q,selectOnClick:ne}},46056:function(H,j,e){var g=e(13916),P=e(25376),a=e(52904).line,x=e(98192).u,w=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);H.exports=v("shape",{visible:w({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:w({},p.legend,{editType:"calc+arraydraw"}),legendgroup:w({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:w({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:w({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:w({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:w({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:w({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:w({},a.color,{editType:"arraydraw"}),width:w({},a.width,{editType:"calc+arraydraw"}),dash:w({},x,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(H,j,e){var g=e(3400),P=e(54460),a=e(85448),x=e(65152);H.exports=function(i){var n=i._fullLayout,u=g.filterVisible(n.shapes);if(!(!u.length||!i._fullData.length))for(var f=0;f<u.length;f++){var l=u[f];l._extremes={};var y,h,M=P.getRefType(l.xref),c=P.getRefType(l.yref);if(l.xref!=="paper"&&M!=="domain"){var o=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;y=P.getFromId(i,l.xref),h=r(y,o,d,l.path,a.paramIsX),h&&(l._extremes[y._id]=P.findExtremes(y,h,w(l)))}if(l.yref!=="paper"&&c!=="domain"){var T=l.ysizemode==="pixel"?l.yanchor:l.y0,S=l.ysizemode==="pixel"?l.yanchor:l.y1;y=P.getFromId(i,l.yref),h=r(y,T,S,l.path,a.paramIsY),h&&(l._extremes[y._id]=P.findExtremes(y,h,v(l)))}}};function w(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,i,n,u,f,l){var y=t/2,h=l;if(i==="pixel"){var M=f?x.extractPathCoords(f,l?a.paramIsY:a.paramIsX):[n,u],c=g.aggNums(Math.max,null,M),o=g.aggNums(Math.min,null,M),d=o<0?Math.abs(o)+y:y,T=c>0?c+y:y;return{ppad:y,ppadplus:h?d:T,ppadminus:h?T:d}}else return{ppad:y}}function r(t,i,n,u,f){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(i!==void 0)return[l(i),l(n)];if(u){var y=1/0,h=-1/0,M=u.match(a.segmentRE),c,o,d,T,S;for(t.type==="date"&&(l=x.decodeDate(l)),c=0;c<M.length;c++)o=M[c],d=f[o.charAt(0)].drawn,d!==void 0&&(T=M[c].substr(1).match(a.paramRE),!(!T||T.length<d)&&(S=l(T[d]),S<y&&(y=S),S>h&&(h=S)));if(h>=y)return[y,h]}}},85448:function(H){H.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(H,j,e){var g=e(3400),P=e(54460),a=e(51272),x=e(46056),w=e(65152);H.exports=function(t,i){a(t,i,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,i){function n($,X){return g.coerce(r,t,x,$,X)}t._isShape=!0;var u=n("visible");if(u){var f=n("showlegend");f&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),y=l?"path":"rect",h=n("type",y),M=h!=="path";M&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),d=n("ysizemode"),T=["x","y"],S=0;S<2;S++){var C=T[S],m=C+"anchor",E=C==="x"?o:d,b={_fullLayout:i},s,L,A,k=P.coerceRef(r,t,b,C,void 0,"paper"),_=P.getRefType(k);if(_==="range"?(s=P.getFromId(b,k),s._shapeIndices.push(t._index),A=w.rangeToShapePosition(s),L=w.shapePositionToRange(s)):L=A=g.identity,M){var U=.25,F=.75,z=C+"0",B=C+"1",N=r[z],V=r[B];r[z]=L(r[z],!0),r[B]=L(r[B],!0),E==="pixel"?(n(z,0),n(B,10)):(P.coercePosition(t,b,n,k,z,U),P.coercePosition(t,b,n,k,B,F)),t[z]=A(t[z]),t[B]=A(t[B]),r[z]=N,r[B]=V}if(E==="pixel"){var W=r[m];r[m]=L(r[m],!0),P.coercePosition(t,b,n,k,m,.25),t[m]=A(t[m]),r[m]=W}}M&&g.noneOrAll(r,t,["x0","x1","y0","y1"]);var Q=h==="line",re,ne;if(M&&(re=n("label.texttemplate")),re||(ne=n("label.text")),ne||re){n("label.textangle");var fe=n("label.textposition",Q?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(Q,fe)),n("label.padding"),g.coerceFont(n,"label.font",i.font)}}}},60728:function(H,j,e){var g=e(3400),P=e(54460),a=e(72736),x=e(43616),w=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;H.exports=function(f,l,y,h){if(h.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var M;if(y.label.texttemplate){var c={};if(y.type!=="path"){var o=P.getFromId(f,y.xref),d=P.getFromId(f,y.yref);for(var T in r){var S=r[T](y,o,d);S!==void 0&&(c[T]=S)}}M=g.texttemplateStringForShapes(y.label.texttemplate,{},f._fullLayout._d3locale,c)}else M=y.label.text;var C={"data-index":l},m=y.label.font,E={"data-notex":1},b=h.append("g").attr(C).classed("shape-label",!0),s=b.append("text").attr(E).classed("shape-label-text",!0).text(M),L,A,k,_;if(y.path){var U=p(f,y),F=w(U,f);L=1/0,k=1/0,A=-1/0,_=-1/0;for(var z=0;z<F.length;z++)for(var B=0;B<F[z].length;B++)for(var N=F[z][B],V=1;V<N.length;V+=2){var W=N[V],Q=N[V+1];L=Math.min(L,W),A=Math.max(A,W),k=Math.min(k,Q),_=Math.max(_,Q)}}else{var re=P.getFromId(f,y.xref),ne=P.getRefType(y.xref),fe=P.getFromId(f,y.yref),$=P.getRefType(y.yref),X=v.getDataToPixel(f,re,!1,ne),oe=v.getDataToPixel(f,fe,!0,$);L=X(y.x0),A=X(y.x1),k=oe(y.y0),_=oe(y.y1)}var Y=y.label.textangle;Y==="auto"&&(y.type==="line"?Y=i(L,k,A,_):Y=0),s.call(function(ie){return ie.call(x.font,m).attr({}),a.convertToTspans(ie,f),ie});var ee=x.bBox(s.node()),se=n(L,k,A,_,y,Y,ee),q=se.textx,K=se.texty,le=se.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[le],y:K,x:q,transform:"rotate("+Y+","+q+","+K+")"}).call(a.positionText,q,K)}};function i(u,f,l,y){var h,M;return M=Math.abs(l-u),l>=u?h=f-y:h=y-f,-180/Math.PI*Math.atan2(h,M)}function n(u,f,l,y,h,M,c){var o=h.label.textposition,d=h.label.textangle,T=h.label.padding,S=h.type,C=Math.PI/180*M,m=Math.sin(C),E=Math.cos(C),b=h.label.xanchor,s=h.label.yanchor,L,A,k,_;if(S==="line"){o==="start"?(L=u,A=f):o==="end"?(L=l,A=y):(L=(u+l)/2,A=(f+y)/2),b==="auto"&&(o==="start"?d==="auto"?l>u?b="left":l<u?b="right":b="center":l>u?b="right":l<u?b="left":b="center":o==="end"?d==="auto"?l>u?b="right":l<u?b="left":b="center":l>u?b="left":l<u?b="right":b="center":b="center");var U={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(d==="auto"){var z=F[s];k=-T*m*z,_=T*E*z}else{var B=U[b],N=F[s];k=T*B,_=T*N}L=L+k,A=A+_}else k=T+3,o.indexOf("right")!==-1?(L=Math.max(u,l)-k,b==="auto"&&(b="right")):o.indexOf("left")!==-1?(L=Math.min(u,l)+k,b==="auto"&&(b="left")):(L=(u+l)/2,b==="auto"&&(b="center")),o.indexOf("top")!==-1?A=Math.min(f,y):o.indexOf("bottom")!==-1?A=Math.max(f,y):A=(f+y)/2,_=T,s==="bottom"?A=A-_:s==="top"&&(A=A+_);var V=t[s],W=h.label.font.size,Q=c.height,re=(Q*V-W)*m,ne=-(Q*V-W)*E;return{textx:L+re,texty:A+ne,xanchor:b}}},55496:function(H,j,e){var g=e(3400),P=g.strTranslate,a=e(86476),x=e(72760),w=x.drawMode,v=x.selectMode,p=e(24040),r=e(76308),t=e(7e3),i=t.i000,n=t.i090,u=t.i180,f=t.i270,l=e(1936),y=l.clearOutlineControllers,h=e(9856),M=h.pointsOnRectangle,c=h.pointsOnEllipse,o=h.writePaths,d=e(93940).newShapes,T=e(93940).createShapeObj,S=e(5968),C=e(60728);H.exports=function s(L,A,k,_){_||(_=0);var U=k.gd;function F(){s(L,A,k,_++),(c(L[0])||k.hasText)&&z({redrawing:!0})}function z(xe){var Re={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,Re=d(A,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,Re=S(A,k),U._fullLayout._reselect=!0),Object.keys(Re).length&&p.call((xe||{}).redrawing?"relayout":"_guiRelayout",U,Re)}var B=U._fullLayout,N=B._zoomlayer,V=k.dragmode,W=w(V),Q=v(V);(W||Q)&&(U._fullLayout._outlining=!0),y(U),A.attr("d",o(L));var re,ne,fe,$,X;if(!_&&(k.isActiveShape||k.isActiveSelection)){X=m([],L);var oe=N.append("g").attr("class","outline-controllers");he(oe),Ee()}if(W&&k.hasText){var Y=N.select(".label-temp"),ee=T(A,k,k.dragmode);C(U,"label-temp",ee,Y)}function se(xe){fe=+xe.srcElement.getAttribute("data-i"),$=+xe.srcElement.getAttribute("data-j"),re[fe][$].moveFn=q}function q(xe,Re){if(L.length){var Ve=X[fe][$][1],Ue=X[fe][$][2],Be=L[fe],Xe=Be.length;if(M(Be)){var ut=xe,dt=Re;if(k.isActiveSelection){var at=E(Be,$);at[1]===Be[$][1]?dt=0:ut=0}for(var We=0;We<Xe;We++)if(We!==$){var rt=Be[We];rt[1]===Be[$][1]&&(rt[1]=Ve+ut),rt[2]===Be[$][2]&&(rt[2]=Ue+dt)}if(Be[$][1]=Ve+ut,Be[$][2]=Ue+dt,!M(Be))for(var st=0;st<Xe;st++)for(var ht=0;ht<Be[st].length;ht++)Be[st][ht]=X[fe][st][ht]}else Be[$][1]=Ve+xe,Be[$][2]=Ue+Re;F()}}function K(){z()}function le(){if(L.length&&L[fe]&&L[fe].length){for(var xe=[],Re=0;Re<L[fe].length;Re++)Re!==$&&xe.push(L[fe][Re]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&($===0&&(xe[0][0]="M"),L[fe]=xe,F(),z())}}function ie(xe,Re){if(xe===2){fe=+Re.srcElement.getAttribute("data-i"),$=+Re.srcElement.getAttribute("data-j");var Ve=L[fe];!M(Ve)&&!c(Ve)&&le()}}function he(xe){re=[];for(var Re=0;Re<L.length;Re++){var Ve=L[Re],Ue=M(Ve),Be=!Ue&&c(Ve);re[Re]=[];for(var Xe=Ve.length,ut=0;ut<Xe;ut++)if(Ve[ut][0]!=="Z"&&!(Be&&ut!==i&&ut!==n&&ut!==u&&ut!==f)){var dt=Ue&&k.isActiveSelection,at;dt&&(at=E(Ve,ut));var We=Ve[ut][1],rt=Ve[ut][2],st=xe.append(dt?"rect":"circle").attr("data-i",Re).attr("data-j",ut).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(dt){var ht=at[1]-We,vt=at[2]-rt,At=vt?5:Math.max(Math.min(25,Math.abs(ht)-5),5),tt=ht?5:Math.max(Math.min(25,Math.abs(vt)-5),5);st.classed(vt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",At).attr("height",tt).attr("x",We-At/2).attr("y",rt-tt/2).attr("transform",P(ht/2,vt/2))}else st.classed("cursor-grab",!0).attr("r",5).attr("cx",We).attr("cy",rt);re[Re][ut]={element:st.node(),gd:U,prepFn:se,doneFn:K,clickFn:ie},a.init(re[Re][ut])}}}function ye(xe,Re){if(L.length)for(var Ve=0;Ve<L.length;Ve++)for(var Ue=0;Ue<L[Ve].length;Ue++)for(var Be=0;Be+2<L[Ve][Ue].length;Be+=2)L[Ve][Ue][Be+1]=X[Ve][Ue][Be+1]+xe,L[Ve][Ue][Be+2]=X[Ve][Ue][Be+2]+Re}function Ce(xe,Re){ye(xe,Re),F()}function Ae(xe){fe=+xe.srcElement.getAttribute("data-i"),fe||(fe=0),ne[fe].moveFn=Ce}function ke(){z()}function we(xe){xe===2&&b(U)}function Ee(){if(ne=[],!!L.length){var xe=0;ne[xe]={element:A[0][0],gd:U,prepFn:Ae,doneFn:ke,clickFn:we},a.init(ne[xe])}}};function m(s,L){for(var A=0;A<L.length;A++){var k=L[A];s[A]=[];for(var _=0;_<k.length;_++){s[A][_]=[];for(var U=0;U<k[_].length;U++)s[A][_][U]=k[_][U]}}return s}function E(s,L){var A=s[L][1],k=s[L][2],_=s.length,U,F,z;return U=(L+1)%_,F=s[U][1],z=s[U][2],F===A&&z===k&&(U=(L+2)%_,F=s[U][1],z=s[U][2]),[U,F,z]}function b(s){if(v(s._fullLayout.dragmode)){y(s);var L=s._fullLayout._activeSelectionIndex,A=(s.layout||{}).selections||[];if(L<A.length){for(var k=[],_=0;_<A.length;_++)_!==L&&k.push(A[_]);delete s._fullLayout._activeSelectionIndex;var U=s._fullLayout.selections[L];s._fullLayout._deselect={xref:U.xref,yref:U.yref},p.call("_guiRelayout",s,{selections:k})}}}},4016:function(H,j,e){var g=e(33428),P=e(24040),a=e(3400),x=e(54460),w=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),i=e(43616),n=e(31780).arrayEditor,u=e(86476),f=e(93972),l=e(85448),y=e(65152),h=y.getPathString;H.exports={draw:M,drawOne:d,eraseActiveShape:b,drawLabel:p};function M(s){var L=s._fullLayout;L._shapeUpperLayer.selectAll("path").remove(),L._shapeLowerLayer.selectAll("path").remove(),L._shapeUpperLayer.selectAll("text").remove(),L._shapeLowerLayer.selectAll("text").remove();for(var A in L._plots){var k=L._plots[A].shapelayer;k&&(k.selectAll("path").remove(),k.selectAll("text").remove())}for(var _=0;_<L.shapes.length;_++)L.shapes[_].visible===!0&&d(s,_)}function c(s){return!!s._fullLayout._outlining}function o(s){return!s._context.edits.shapePosition}function d(s,L){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+L+'"]').remove();var A=y.makeShapesOptionsAndPlotinfo(s,L),k=A.options,_=A.plotinfo;if(!k._input||k.visible!==!0)return;if(k.layer!=="below")F(s._fullLayout._shapeUpperLayer);else if(k.xref==="paper"||k.yref==="paper")F(s._fullLayout._shapeLowerLayer);else if(_._hadPlotinfo){var U=_.mainplotinfo||_;F(U.shapelayer)}else F(s._fullLayout._shapeLowerLayer);function F(z){var B=h(s,k),N={"data-index":L,"fill-rule":k.fillrule,d:B},V=k.opacity,W=k.fillcolor,Q=k.line.width?k.line.color:"rgba(0,0,0,0)",re=k.line.width,ne=k.line.dash;!re&&k.editable===!0&&(re=5,ne="solid");var fe=B[B.length-1]!=="Z",$=o(s)&&k.editable&&s._fullLayout._activeShapeIndex===L;$&&(W=fe?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,V=s._fullLayout.activeshape.opacity);var X=z.append("g").classed("shape-group",!0).attr({"data-index":L}),oe=X.append("path").attr(N).style("opacity",V).call(t.stroke,Q).call(t.fill,W).call(i.dashLine,ne,re);T(X,s,k),p(s,L,k,X);var Y;if(($||s._context.edits.shapePosition)&&(Y=n(s.layout,"shapes",k)),$){oe.style({cursor:"move"});var ee={element:oe.node(),plotinfo:_,gd:s,editHelpers:Y,hasText:k.label.text||k.label.texttemplate,isActiveShape:!0},se=w(B,s);v(se,oe,ee)}else s._context.edits.shapePosition?S(s,oe,k,L,z,Y):k.editable===!0&&oe.style("pointer-events",fe||t.opacity(W)*V<=.5?"stroke":"all");oe.node().addEventListener("click",function(){return m(s,oe)})}}function T(s,L,A){var k=(A.xref+A.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(s,k?"clip"+L._fullLayout._uid+k:null,L)}function S(s,L,A,k,_,U){var F=10,z=10,B=A.xsizemode==="pixel",N=A.ysizemode==="pixel",V=A.type==="line",W=A.type==="path",Q=U.modifyItem,re,ne,fe,$,X,oe,Y,ee,se,q,K,le,ie,he,ye,Ce=g.select(L.node().parentNode),Ae=x.getFromId(s,A.xref),ke=x.getRefType(A.xref),we=x.getFromId(s,A.yref),Ee=x.getRefType(A.yref),xe=y.getDataToPixel(s,Ae,!1,ke),Re=y.getDataToPixel(s,we,!0,Ee),Ve=y.getPixelToData(s,Ae,!1,ke),Ue=y.getPixelToData(s,we,!0,Ee),Be=dt(),Xe={element:Be.node(),gd:s,prepFn:rt,doneFn:st,clickFn:ht},ut;u.init(Xe),Be.node().onmousemove=We;function dt(){return V?at():L}function at(){var Ke=10,He=Math.max(A.line.width,Ke),Ie=_.append("g").attr("data-index",k).attr("drag-helper",!0);Ie.append("path").attr("d",L.attr("d")).style({cursor:"move","stroke-width":He,"stroke-opacity":"0"});var be={"fill-opacity":"0"},me=Math.max(He/2,Ke);return Ie.append("circle").attr({"data-line-point":"start-point",cx:B?xe(A.xanchor)+A.x0:xe(A.x0),cy:N?Re(A.yanchor)-A.y0:Re(A.y0),r:me}).style(be).classed("cursor-grab",!0),Ie.append("circle").attr({"data-line-point":"end-point",cx:B?xe(A.xanchor)+A.x1:xe(A.x1),cy:N?Re(A.yanchor)-A.y1:Re(A.y1),r:me}).style(be).classed("cursor-grab",!0),Ie}function We(Ke){if(c(s)){ut=null;return}if(V)Ke.target.tagName==="path"?ut="move":ut=Ke.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var He=Xe.element.getBoundingClientRect(),Ie=He.right-He.left,be=He.bottom-He.top,me=Ke.clientX-He.left,Me=Ke.clientY-He.top,Te=!W&&Ie>F&&be>z&&!Ke.shiftKey?u.getCursor(me/Ie,1-Me/be):"move";f(L,Te),ut=Te.split("-")[0]}}function rt(Ke){c(s)||(B&&(X=xe(A.xanchor)),N&&(oe=Re(A.yanchor)),A.type==="path"?ye=A.path:(re=B?A.x0:xe(A.x0),ne=N?A.y0:Re(A.y0),fe=B?A.x1:xe(A.x1),$=N?A.y1:Re(A.y1)),re<fe?(se=re,ie="x0",q=fe,he="x1"):(se=fe,ie="x1",q=re,he="x0"),!N&&ne<$||N&&ne>$?(Y=ne,K="y0",ee=$,le="y1"):(Y=$,K="y1",ee=ne,le="y0"),We(Ke),tt(_,A),je(L,A,s),Xe.moveFn=ut==="move"?vt:At,Xe.altKey=Ke.altKey)}function st(){c(s)||(f(L),_e(_),T(L,s,A),P.call("_guiRelayout",s,U.getUpdateObj()))}function ht(){c(s)||_e(_)}function vt(Ke,He){if(A.type==="path"){var Ie=function(Me){return Me},be=Ie,me=Ie;B?Q("xanchor",A.xanchor=Ve(X+Ke)):(be=function(Te){return Ve(xe(Te)+Ke)},Ae&&Ae.type==="date"&&(be=y.encodeDate(be))),N?Q("yanchor",A.yanchor=Ue(oe+He)):(me=function(Te){return Ue(Re(Te)+He)},we&&we.type==="date"&&(me=y.encodeDate(me))),Q("path",A.path=C(ye,be,me))}else B?Q("xanchor",A.xanchor=Ve(X+Ke)):(Q("x0",A.x0=Ve(re+Ke)),Q("x1",A.x1=Ve(fe+Ke))),N?Q("yanchor",A.yanchor=Ue(oe+He)):(Q("y0",A.y0=Ue(ne+He)),Q("y1",A.y1=Ue($+He)));L.attr("d",h(s,A)),tt(_,A),p(s,k,A,Ce)}function At(Ke,He){if(W){var Ie=function(mt){return mt},be=Ie,me=Ie;B?Q("xanchor",A.xanchor=Ve(X+Ke)):(be=function(Zt){return Ve(xe(Zt)+Ke)},Ae&&Ae.type==="date"&&(be=y.encodeDate(be))),N?Q("yanchor",A.yanchor=Ue(oe+He)):(me=function(Zt){return Ue(Re(Zt)+He)},we&&we.type==="date"&&(me=y.encodeDate(me))),Q("path",A.path=C(ye,be,me))}else if(V){if(ut==="resize-over-start-point"){var Me=re+Ke,Te=N?ne-He:ne+He;Q("x0",A.x0=B?Me:Ve(Me)),Q("y0",A.y0=N?Te:Ue(Te))}else if(ut==="resize-over-end-point"){var ze=fe+Ke,Je=N?$-He:$+He;Q("x1",A.x1=B?ze:Ve(ze)),Q("y1",A.y1=N?Je:Ue(Je))}}else{var nt=function(mt){return ut.indexOf(mt)!==-1},pt=nt("n"),yt=nt("s"),Yt=nt("w"),Xt=nt("e"),St=pt?Y+He:Y,kt=yt?ee+He:ee,Kt=Yt?se+Ke:se,mr=Xt?q+Ke:q;N&&(pt&&(St=Y-He),yt&&(kt=ee-He)),(!N&&kt-St>z||N&&St-kt>z)&&(Q(K,A[K]=N?St:Ue(St)),Q(le,A[le]=N?kt:Ue(kt))),mr-Kt>F&&(Q(ie,A[ie]=B?Kt:Ve(Kt)),Q(he,A[he]=B?mr:Ve(mr)))}L.attr("d",h(s,A)),tt(_,A),p(s,k,A,Ce)}function tt(Ke,He){(B||N)&&Ie();function Ie(){var be=He.type!=="path",me=Ke.selectAll(".visual-cue").data([0]),Me=1;me.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Me}).classed("visual-cue",!0);var Te=xe(B?He.xanchor:a.midRange(be?[He.x0,He.x1]:y.extractPathCoords(He.path,l.paramIsX))),ze=Re(N?He.yanchor:a.midRange(be?[He.y0,He.y1]:y.extractPathCoords(He.path,l.paramIsY)));if(Te=y.roundPositionForSharpStrokeRendering(Te,Me),ze=y.roundPositionForSharpStrokeRendering(ze,Me),B&&N){var Je="M"+(Te-1-Me)+","+(ze-1-Me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";me.attr("d",Je)}else if(B){var nt="M"+(Te-1-Me)+","+(ze-9-Me)+"v18 h2 v-18 Z";me.attr("d",nt)}else{var pt="M"+(Te-9-Me)+","+(ze-1-Me)+"h18 v2 h-18 Z";me.attr("d",pt)}}}function _e(Ke){Ke.selectAll(".visual-cue").remove()}function je(Ke,He,Ie){var be=He.xref,me=He.yref,Me=x.getFromId(Ie,be),Te=x.getFromId(Ie,me),ze="";be!=="paper"&&!Me.autorange&&(ze+=be),me!=="paper"&&!Te.autorange&&(ze+=me),i.setClipUrl(Ke,ze?"clip"+Ie._fullLayout._uid+ze:null,Ie)}}function C(s,L,A){return s.replace(l.segmentRE,function(k){var _=0,U=k.charAt(0),F=l.paramIsX[U],z=l.paramIsY[U],B=l.numParams[U],N=k.substr(1).replace(l.paramRE,function(V){return _>=B||(F[_]?V=L(V):z[_]&&(V=A(V)),_++),V});return U+N})}function m(s,L){if(o(s)){var A=L.node(),k=+A.getAttribute("data-index");if(k>=0){if(k===s._fullLayout._activeShapeIndex){E(s);return}s._fullLayout._activeShapeIndex=k,s._fullLayout._deactivateShape=E,M(s)}}}function E(s){if(o(s)){var L=s._fullLayout._activeShapeIndex;L>=0&&(r(s),delete s._fullLayout._activeShapeIndex,M(s))}}function b(s){if(o(s)){r(s);var L=s._fullLayout._activeShapeIndex,A=(s.layout||{}).shapes||[];if(L<A.length){for(var k=[],_=0;_<A.length;_++)_!==L&&k.push(A[_]);return delete s._fullLayout._activeShapeIndex,P.call("_guiRelayout",s,{shapes:k})}}}},92872:function(H,j,e){var g=e(67824).overrideAll,P=e(45464),a=e(25376),x=e(98192).u,w=e(92880).extendFlat,v=e(21776).ye,p=e(97728);H.exports=g({newshape:{visible:w({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:w({},P.legend,{}),legendgroup:w({},P.legendgroup,{}),legendgrouptitle:{text:w({},P.legendgrouptitle.text,{}),font:a({})},legendrank:w({},P.legendrank,{}),legendwidth:w({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:w({},x,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:w({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(H){var j=32;H.exports={CIRCLE_SIDES:j,i000:0,i090:j/4,i180:j/2,i270:j/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(H,j,e){var g=e(76308),P=e(3400);function a(x,w){return x?"bottom":w.indexOf("top")!==-1?"top":w.indexOf("bottom")!==-1?"bottom":"middle"}H.exports=function(w,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(w||{}).plot_bgcolor||"#FFF";p("newshape.line.color",g.contrast(t)),p("newshape.line.dash")}var i=w.dragmode==="drawline",n=p("newshape.label.text"),u=p("newshape.label.texttemplate");if(n||u){p("newshape.label.textangle");var f=p("newshape.label.textposition",i?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",a(i,f)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(H,j,e){var g=e(21984),P=e(7e3),a=P.CIRCLE_SIDES,x=P.SQRT2,w=e(5840),v=w.p2r,p=w.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];j.writePaths=function(u){var f=u.length;if(!f)return"M0,0Z";for(var l="",y=0;y<f;y++)for(var h=u[y].length,M=0;M<h;M++){var c=u[y][M][0];if(c==="Z")l+="Z";else for(var o=u[y][M].length,d=0;d<o;d++){var T=d;c==="Q"||c==="S"?T=t[d]:c==="C"&&(T=r[d]),l+=u[y][M][T],d>0&&d<o-1&&(l+=",")}}return l},j.readPaths=function(u,f,l,y){var h=g(u),M=[],c=-1,o=function(){c++,M[c]=[]},d,T=0,S=0,C,m,E=function(){C=T,m=S};E();for(var b=0;b<h.length;b++){var s=[],L,A,k,_,U=h[b][0],F=U;switch(U){case"M":o(),T=+h[b][1],S=+h[b][2],s.push([F,T,S]),E();break;case"Q":case"S":L=+h[b][1],k=+h[b][2],T=+h[b][3],S=+h[b][4],s.push([F,T,S,L,k]);break;case"C":L=+h[b][1],k=+h[b][2],A=+h[b][3],_=+h[b][4],T=+h[b][5],S=+h[b][6],s.push([F,T,S,L,k,A,_]);break;case"T":case"L":T=+h[b][1],S=+h[b][2],s.push([F,T,S]);break;case"H":F="L",T=+h[b][1],s.push([F,T,S]);break;case"V":F="L",S=+h[b][1],s.push([F,T,S]);break;case"A":F="L";var z=+h[b][1],B=+h[b][2];+h[b][4]||(z=-z,B=-B);var N=T-z,V=S;for(d=1;d<=a/2;d++){var W=2*Math.PI*d/a;s.push([F,N+z*Math.cos(W),V+B*Math.sin(W)])}break;case"Z":(T!==C||S!==m)&&(T=C,S=m,s.push([F,T,S]));break}for(var Q=(l||{}).domain,re=f._fullLayout._size,ne=l&&l.xsizemode==="pixel",fe=l&&l.ysizemode==="pixel",$=y===!1,X=0;X<s.length;X++){for(d=0;d+2<7;d+=2){var oe=s[X][d+1],Y=s[X][d+2];oe===void 0||Y===void 0||(T=oe,S=Y,l&&(l.xaxis&&l.xaxis.p2r?($&&(oe-=l.xaxis._offset),ne?oe=p(l.xaxis,l.xanchor)+oe:oe=v(l.xaxis,oe)):($&&(oe-=re.l),Q?oe=Q.x[0]+oe/re.w:oe=oe/re.w),l.yaxis&&l.yaxis.p2r?($&&(Y-=l.yaxis._offset),fe?Y=p(l.yaxis,l.yanchor)-Y:Y=v(l.yaxis,Y)):($&&(Y-=re.t),Q?Y=Q.y[1]-Y/re.h:Y=1-Y/re.h)),s[X][d+1]=oe,s[X][d+2]=Y)}M[c].push(s[X].slice())}}return M};function i(u,f){return Math.abs(u-f)<=1e-6}function n(u,f){var l=f[1]-u[1],y=f[2]-u[2];return Math.sqrt(l*l+y*y)}j.pointsOnRectangle=function(u){var f=u.length;if(f!==5)return!1;for(var l=1;l<3;l++){var y=u[0][l]-u[1][l],h=u[3][l]-u[2][l];if(!i(y,h))return!1;var M=u[0][l]-u[3][l],c=u[1][l]-u[2][l];if(!i(M,c))return!1}return!i(u[0][1],u[1][1])&&!i(u[0][1],u[3][1])?!1:!!(n(u[0],u[1])*n(u[0],u[3]))},j.pointsOnEllipse=function(u){var f=u.length;if(f!==a+1)return!1;f=a;for(var l=0;l<f;l++){var y=(f*2-l)%f,h=(f/2+y)%f,M=(f/2+l)%f;if(!i(n(u[l],u[M]),n(u[y],u[h])))return!1}return!0},j.handleEllipse=function(u,f,l){if(!u)return[f,l];var y=j.ellipseOver({x0:f[0],y0:f[1],x1:l[0],y1:l[1]}),h=(y.x1+y.x0)/2,M=(y.y1+y.y0)/2,c=(y.x1-y.x0)/2,o=(y.y1-y.y0)/2;c||(c=o=o/x),o||(o=c=c/x);for(var d=[],T=0;T<a;T++){var S=T*2*Math.PI/a;d.push([h+c*Math.cos(S),M+o*Math.sin(S)])}return d},j.ellipseOver=function(u){var f=u.x0,l=u.y0,y=u.x1,h=u.y1,M=y-f,c=h-l;f-=M,l-=c;var o=(f+y)/2,d=(l+h)/2,T=x;return M*=T,c*=T,{x0:o-M,y0:d-c,x1:o+M,y1:d+c}},j.fixDatesForPaths=function(u,f,l){var y=f.type==="date",h=l.type==="date";if(!y&&!h)return u;for(var M=0;M<u.length;M++)for(var c=0;c<u[M].length;c++)for(var o=0;o+2<u[M][c].length;o+=2)y&&(u[M][c][o+1]=u[M][c][o+1].replace(" ","_")),h&&(u[M][c][o+2]=u[M][c][o+2].replace(" ","_"));return u}},93940:function(H,j,e){var g=e(72760),P=g.drawMode,a=g.openMode,x=e(7e3),w=x.i000,v=x.i090,p=x.i180,r=x.i270,t=x.cos45,i=x.sin45,n=e(5840),u=n.p2r,f=n.r2p,l=e(1936),y=l.clearOutline,h=e(9856),M=h.readPaths,c=h.writePaths,o=h.ellipseOver,d=h.fixDatesForPaths;function T(C,m){if(C.length){var E=C[0][0];if(E){var b=m.gd,s=m.isActiveShape,L=m.dragmode,A=(b.layout||{}).shapes||[];if(!P(L)&&s!==void 0){var k=b._fullLayout._activeShapeIndex;if(k<A.length)switch(b._fullLayout.shapes[k].type){case"rect":L="drawrect";break;case"circle":L="drawcircle";break;case"line":L="drawline";break;case"path":var _=A[k].path||"";_[_.length-1]==="Z"?L="drawclosedpath":L="drawopenpath";break}}var U=S(C,m,L);y(b);for(var F=m.editHelpers,z=(F||{}).modifyItem,B=[],N=0;N<A.length;N++){var V=b._fullLayout.shapes[N];if(B[N]=V._input,s!==void 0&&N===b._fullLayout._activeShapeIndex){var W=U;switch(V.type){case"line":case"rect":case"circle":z("x0",W.x0),z("x1",W.x1),z("y0",W.y0),z("y1",W.y1);break;case"path":z("path",W.path);break}}}return s===void 0?(B.push(U),B):F?F.getUpdateObj():{}}}}function S(C,m,E){var b=C[0][0],s=m.gd,L=b.getAttribute("d"),A=s._fullLayout.newshape,k=m.plotinfo,_=m.isActiveShape,U=k.xaxis,F=k.yaxis,z=!!k.domain||!k.xaxis,B=!!k.domain||!k.yaxis,N=a(E),V=M(L,s,k,_),W={editable:!0,visible:A.visible,name:A.name,showlegend:A.showlegend,legend:A.legend,legendwidth:A.legendwidth,legendgroup:A.legendgroup,legendgrouptitle:{text:A.legendgrouptitle.text,font:A.legendgrouptitle.font},legendrank:A.legendrank,label:A.label,xref:z?"paper":U._id,yref:B?"paper":F._id,layer:A.layer,opacity:A.opacity,line:{color:A.line.color,width:A.line.width,dash:A.line.dash}};N||(W.fillcolor=A.fillcolor,W.fillrule=A.fillrule);var Q;if(V.length===1&&(Q=V[0]),Q&&Q.length===5&&E==="drawrect")W.type="rect",W.x0=Q[0][1],W.y0=Q[0][2],W.x1=Q[2][1],W.y1=Q[2][2];else if(Q&&E==="drawline")W.type="line",W.x0=Q[0][1],W.y0=Q[0][2],W.x1=Q[1][1],W.y1=Q[1][2];else if(Q&&E==="drawcircle"){W.type="circle";var re=Q[w][1],ne=Q[v][1],fe=Q[p][1],$=Q[r][1],X=Q[w][2],oe=Q[v][2],Y=Q[p][2],ee=Q[r][2],se=k.xaxis&&(k.xaxis.type==="date"||k.xaxis.type==="log"),q=k.yaxis&&(k.yaxis.type==="date"||k.yaxis.type==="log");se&&(re=f(k.xaxis,re),ne=f(k.xaxis,ne),fe=f(k.xaxis,fe),$=f(k.xaxis,$)),q&&(X=f(k.yaxis,X),oe=f(k.yaxis,oe),Y=f(k.yaxis,Y),ee=f(k.yaxis,ee));var K=(ne+$)/2,le=(X+Y)/2,ie=($-ne+fe-re)/2,he=(ee-oe+Y-X)/2,ye=o({x0:K,y0:le,x1:K+ie*t,y1:le+he*i});se&&(ye.x0=u(k.xaxis,ye.x0),ye.x1=u(k.xaxis,ye.x1)),q&&(ye.y0=u(k.yaxis,ye.y0),ye.y1=u(k.yaxis,ye.y1)),W.x0=ye.x0,W.y0=ye.y0,W.x1=ye.x1,W.y1=ye.y1}else W.type="path",U&&F&&d(V,U,F),W.path=c(V),Q=null;return W}H.exports={newShapes:T,createShapeObj:S}},1936:function(H){function j(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}H.exports={clearOutlineControllers:j,clearOutline:e}},65152:function(H,j,e){var g=e(85448),P=e(3400),a=e(54460);j.rangeToShapePosition=function(w){return w.type==="log"?w.r2d:function(v){return v}},j.shapePositionToRange=function(w){return w.type==="log"?w.d2r:function(v){return v}},j.decodeDate=function(w){return function(v){return v.replace&&(v=v.replace("_"," ")),w(v)}},j.encodeDate=function(w){return function(v){return w(v).replace(" ","_")}},j.extractPathCoords=function(w,v,p){var r=[],t=w.match(g.segmentRE);return t.forEach(function(i){var n=v[i.charAt(0)].drawn;if(n!==void 0){var u=i.substr(1).match(g.paramRE);if(!(!u||u.length<n)){var f=u[n],l=p?f:P.cleanNumber(f);r.push(l)}}}),r},j.getDataToPixel=function(w,v,p,r){var t=w._fullLayout._size,i;if(v)if(r==="domain")i=function(u){return v._length*(p?1-u:u)+v._offset};else{var n=j.shapePositionToRange(v);i=function(u){return v._offset+v.r2p(n(u,!0))},v.type==="date"&&(i=j.decodeDate(i))}else p?i=function(u){return t.t+t.h*(1-u)}:i=function(u){return t.l+t.w*u};return i},j.getPixelToData=function(w,v,p,r){var t=w._fullLayout._size,i;if(v)if(r==="domain")i=function(u){var f=(u-v._offset)/v._length;return p?1-f:f};else{var n=j.rangeToShapePosition(v);i=function(u){return n(v.p2r(u-v._offset))}}else p?i=function(u){return 1-(u-t.t)/t.h}:i=function(u){return(u-t.l)/t.w};return i},j.roundPositionForSharpStrokeRendering=function(w,v){var p=Math.round(v%2)===1,r=Math.round(w);return p?r+.5:r},j.makeShapesOptionsAndPlotinfo=function(w,v){var p=w._fullLayout.shapes[v]||{},r=w._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=w._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=w._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},j.makeSelectionsOptionsAndPlotinfo=function(w,v){var p=w._fullLayout.selections[v]||{},r=w._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=w._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=w._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},j.getPathString=function(w,v){var p=v.type,r=a.getRefType(v.xref),t=a.getRefType(v.yref),i=a.getFromId(w,v.xref),n=a.getFromId(w,v.yref),u=w._fullLayout._size,f,l,y,h,M,c,o,d;if(i?r==="domain"?l=function(k){return i._offset+i._length*k}:(f=j.shapePositionToRange(i),l=function(k){return i._offset+i.r2p(f(k,!0))}):l=function(k){return u.l+u.w*k},n?t==="domain"?h=function(k){return n._offset+n._length*(1-k)}:(y=j.shapePositionToRange(n),h=function(k){return n._offset+n.r2p(y(k,!0))}):h=function(k){return u.t+u.h*(1-k)},p==="path")return i&&i.type==="date"&&(l=j.decodeDate(l)),n&&n.type==="date"&&(h=j.decodeDate(h)),x(v,l,h);if(v.xsizemode==="pixel"){var T=l(v.xanchor);M=T+v.x0,c=T+v.x1}else M=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var S=h(v.yanchor);o=S-v.y0,d=S-v.y1}else o=h(v.y0),d=h(v.y1);if(p==="line")return"M"+M+","+o+"L"+c+","+d;if(p==="rect")return"M"+M+","+o+"H"+c+"V"+d+"H"+M+"Z";var C=(M+c)/2,m=(o+d)/2,E=Math.abs(C-M),b=Math.abs(m-o),s="A"+E+","+b,L=C+E+","+m,A=C+","+(m-b);return"M"+L+s+" 0 1,1 "+A+s+" 0 0,1 "+L+"Z"};function x(w,v,p){var r=w.path,t=w.xsizemode,i=w.ysizemode,n=w.xanchor,u=w.yanchor;return r.replace(g.segmentRE,function(f){var l=0,y=f.charAt(0),h=g.paramIsX[y],M=g.paramIsY[y],c=g.numParams[y],o=f.substr(1).replace(g.paramRE,function(d){return h[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):M[l]&&(i==="pixel"?d=p(u)-Number(d):d=p(d)),l++,l>c&&(d="X"),d});return l>c&&(o=o.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+f)),y+o})}},41592:function(H,j,e){var g=e(4016);H.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:g.draw,drawOne:g.drawOne}},97728:function(H){function j(f,l){return l?l.d2l(f):f}function e(f,l){return l?l.l2d(f):f}function g(f){return f.x0}function P(f){return f.x1}function a(f){return f.y0}function x(f){return f.y1}function w(f,l){return j(f.x1,l)-j(f.x0,l)}function v(f,l,y){return j(f.y1,y)-j(f.y0,y)}function p(f,l){return Math.abs(w(f,l))}function r(f,l,y){return Math.abs(v(f,l,y))}function t(f,l,y){return f.type!=="line"?void 0:Math.sqrt(Math.pow(w(f,l),2)+Math.pow(v(f,l,y),2))}function i(f,l){return e((j(f.x1,l)+j(f.x0,l))/2,l)}function n(f,l,y){return e((j(f.y1,y)+j(f.y0,y))/2,y)}function u(f,l,y){return f.type!=="line"?void 0:v(f,l,y)/w(f,l)}H.exports={x0:g,x1:P,y0:a,y1:x,slope:u,dx:w,dy:v,width:p,height:r,length:t,xcenter:i,ycenter:n}},89861:function(H,j,e){var g=e(25376),P=e(66741),a=e(92880).extendDeepAll,x=e(67824).overrideAll,w=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});H.exports=x(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:w.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(H){H.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(H,j,e){var g=e(3400),P=e(51272),a=e(89861),x=e(60876),w=x.name,v=a.steps;H.exports=function(i,n){P(i,n,{name:w,handleItemDefaults:p})};function p(t,i,n){function u(d,T){return g.coerce(t,i,a,d,T)}for(var f=P(t,i,{name:"steps",handleItemDefaults:r}),l=0,y=0;y<f.length;y++)f[y].visible&&l++;var h;if(l<2?h=i.visible=!1:h=u("visible"),!!h){i._stepCount=l;var M=i._visibleSteps=g.filterVisible(f),c=u("active");(f[c]||{}).visible||(i.active=M[0]._index),u("x"),u("y"),g.noneOrAll(t,i,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),g.coerceFont(u,"font",n.font);var o=u("currentvalue.visible");o&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),g.coerceFont(u,"currentvalue.font",i.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function r(t,i){function n(l,y){return g.coerce(t,i,v,l,y)}var u;if(t.method!=="skip"&&!Array.isArray(t.args)?u=i.visible=!1:u=n("visible"),u){n("method"),n("args");var f=n("label","step-"+i._index);n("value",f),n("execute")}}},79664:function(H,j,e){var g=e(33428),P=e(7316),a=e(76308),x=e(43616),w=e(3400),v=w.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),i=e(84284),n=i.LINE_SPACING,u=i.FROM_TL,f=i.FROM_BR;H.exports=function(z){var B=z._context.staticPlot,N=z._fullLayout,V=y(N,z),W=N._infolayer.selectAll("g."+t.containerClassName).data(V.length>0?[0]:[]);W.enter().append("g").classed(t.containerClassName,!0).style("cursor",B?null:"ew-resize");function Q($){$._commandObserver&&($._commandObserver.remove(),delete $._commandObserver),P.autoMargin(z,l($))}if(W.exit().each(function(){g.select(this).selectAll("g."+t.groupClassName).each(Q)}).remove(),V.length!==0){var re=W.selectAll("g."+t.groupClassName).data(V,h);re.enter().append("g").classed(t.groupClassName,!0),re.exit().each(Q).remove();for(var ne=0;ne<V.length;ne++){var fe=V[ne];M(z,fe)}re.each(function($){var X=g.select(this);s($),P.manageCommandObserver(z,$,$._visibleSteps,function(oe){var Y=X.data()[0];Y.active!==oe.index&&(Y._dragging||m(z,X,Y,oe.index,!1,!0))}),c(z,g.select(this),$)})}};function l(F){return t.autoMarginIdRoot+F._index}function y(F,z){for(var B=F[t.name],N=[],V=0;V<B.length;V++){var W=B[V];W.visible&&(W._gd=z,N.push(W))}return N}function h(F){return F._index}function M(F,z){var B=x.tester.selectAll("g."+t.labelGroupClass).data(z._visibleSteps);B.enter().append("g").classed(t.labelGroupClass,!0);var N=0,V=0;B.each(function(ee){var se=g.select(this),q=T(se,{step:ee},z),K=q.node();if(K){var le=x.bBox(K);V=Math.max(V,le.height),N=Math.max(N,le.width)}}),B.remove();var W=z._dims={};W.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var Q=F._fullLayout._size;W.lx=Q.l+Q.w*z.x,W.ly=Q.t+Q.h*(1-z.y),z.lenmode==="fraction"?W.outerLength=Math.round(Q.w*z.len):W.outerLength=z.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-z.pad.l-z.pad.r);var re=W.inputAreaLength-2*t.stepInset,ne=re/(z._stepCount-1),fe=N+t.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(fe/ne)),W.labelHeight=V,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,z.currentvalue.visible){var $=x.tester.append("g");B.each(function(ee){var se=o($,z,ee.label),q=se.node()&&x.bBox(se.node())||{width:0,height:0},K=p.lineCount(se);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(q.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(q.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,K)}),W.currentValueTotalHeight=W.currentValueHeight+z.currentvalue.offset,$.remove()}W.height=W.currentValueTotalHeight+t.tickOffset+z.ticklen+t.labelOffset+W.labelHeight+z.pad.t+z.pad.b;var X="left";w.isRightAnchor(z)&&(W.lx-=W.outerLength,X="right"),w.isCenterAnchor(z)&&(W.lx-=W.outerLength/2,X="center");var oe="top";w.isBottomAnchor(z)&&(W.ly-=W.height,oe="bottom"),w.isMiddleAnchor(z)&&(W.ly-=W.height/2,oe="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var Y={y:z.y,b:W.height*f[oe],t:W.height*u[oe]};z.lenmode==="fraction"?(Y.l=0,Y.xl=z.x-z.len*u[X],Y.r=0,Y.xr=z.x+z.len*f[X]):(Y.x=z.x,Y.l=W.outerLength*u[X],Y.r=W.outerLength*f[X]),P.autoMargin(F,l(z),Y)}function c(F,z,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),z.call(o,B).call(U,B).call(S,B).call(b,B).call(_,F,B).call(d,F,B);var N=B._dims;x.setTranslate(z,N.lx+B.pad.l,N.ly+B.pad.t),z.call(L,B,!1),z.call(o,B)}function o(F,z,B){if(z.currentvalue.visible){var N=z._dims,V,W;switch(z.currentvalue.xanchor){case"right":V=N.inputAreaLength-t.currentValueInset-N.currentValueMaxWidth,W="left";break;case"center":V=N.inputAreaLength*.5,W="middle";break;default:V=t.currentValueInset,W="left"}var Q=w.ensureSingle(F,"text",t.labelClass,function(oe){oe.attr({"text-anchor":W,"data-notex":1})}),re=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof B=="string")re+=B;else{var ne=z.steps[z.active].label,fe=z._gd._fullLayout._meta;fe&&(ne=w.templateString(ne,fe)),re+=ne}z.currentvalue.suffix&&(re+=z.currentvalue.suffix),Q.call(x.font,z.currentvalue.font).text(re).call(p.convertToTspans,z._gd);var $=p.lineCount(Q),X=(N.currentValueMaxLines+1-$)*z.currentvalue.font.size*n;return p.positionText(Q,V,X),Q}}function d(F,z,B){var N=w.ensureSingle(F,"rect",t.gripRectClass,function(V){V.call(E,z,F,B).style("pointer-events","all")});N.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(a.stroke,B.bordercolor).call(a.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function T(F,z,B){var N=w.ensureSingle(F,"text",t.labelClass,function(Q){Q.attr({"text-anchor":"middle","data-notex":1})}),V=z.step.label,W=B._gd._fullLayout._meta;return W&&(V=w.templateString(V,W)),N.call(x.font,B.font).text(V).call(p.convertToTspans,B._gd),N}function S(F,z){var B=w.ensureSingle(F,"g",t.labelsClass),N=z._dims,V=B.selectAll("g."+t.labelGroupClass).data(N.labelSteps);V.enter().append("g").classed(t.labelGroupClass,!0),V.exit().remove(),V.each(function(W){var Q=g.select(this);Q.call(T,W,z),x.setTranslate(Q,A(z,W.fraction),t.tickOffset+z.ticklen+z.font.size*n+t.labelOffset+N.currentValueTotalHeight)})}function C(F,z,B,N,V){var W=Math.round(N*(B._stepCount-1)),Q=B._visibleSteps[W]._index;Q!==B.active&&m(F,z,B,Q,!0,V)}function m(F,z,B,N,V,W){var Q=B.active;B.active=N,r(F.layout,t.name,B).applyUpdate("active",N);var re=B.steps[B.active];z.call(L,B,W),z.call(o,B),F.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:V,previousActive:Q}),re&&re.method&&V&&(z._nextMethod?(z._nextMethod.step=re,z._nextMethod.doCallback=V,z._nextMethod.doTransition=W):(z._nextMethod={step:re,doCallback:V,doTransition:W},z._nextMethodRaf=window.requestAnimationFrame(function(){var ne=z._nextMethod.step;ne.method&&(ne.execute&&P.executeAPICommand(F,ne.method,ne.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function E(F,z,B){if(z._context.staticPlot)return;var N=B.node(),V=g.select(z);function W(){return B.data()[0]}function Q(){var re=W();z.emit("plotly_sliderstart",{slider:re});var ne=B.select("."+t.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),ne.call(a.fill,re.activebgcolor);var fe=k(re,g.mouse(N)[0]);C(z,B,re,fe,!0),re._dragging=!0;function $(){var oe=W(),Y=k(oe,g.mouse(N)[0]);C(z,B,oe,Y,!1)}V.on("mousemove",$),V.on("touchmove",$);function X(){var oe=W();oe._dragging=!1,ne.call(a.fill,oe.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),z.emit("plotly_sliderend",{slider:oe,step:oe.steps[oe.active]})}V.on("mouseup",X),V.on("touchend",X)}F.on("mousedown",Q),F.on("touchstart",Q)}function b(F,z){var B=F.selectAll("rect."+t.tickRectClass).data(z._visibleSteps),N=z._dims;B.enter().append("rect").classed(t.tickRectClass,!0),B.exit().remove(),B.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(V,W){var Q=W%N.labelStride===0,re=g.select(this);re.attr({height:Q?z.ticklen:z.minorticklen}).call(a.fill,z.tickcolor),x.setTranslate(re,A(z,W/(z._stepCount-1))-.5*z.tickwidth,(Q?t.tickOffset:t.minorTickOffset)+N.currentValueTotalHeight)})}function s(F){var z=F._dims;z.labelSteps=[];for(var B=F._stepCount,N=0;N<B;N+=z.labelStride)z.labelSteps.push({fraction:N/(B-1),step:F._visibleSteps[N]})}function L(F,z,B){for(var N=F.select("rect."+t.gripRectClass),V=0,W=0;W<z._stepCount;W++)if(z._visibleSteps[W]._index===z.active){V=W;break}var Q=A(z,V/(z._stepCount-1));if(!z._invokingCommand){var re=N;B&&z.transition.duration>0&&(re=re.transition().duration(z.transition.duration).ease(z.transition.easing)),re.attr("transform",v(Q-t.gripWidth*.5,z._dims.currentValueTotalHeight))}}function A(F,z){var B=F._dims;return B.inputAreaStart+t.stepInset+(B.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,z))}function k(F,z){var B=F._dims;return Math.min(1,Math.max(0,(z-t.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*t.stepInset-2*B.inputAreaStart)))}function _(F,z,B){var N=B._dims,V=w.ensureSingle(F,"rect",t.railTouchRectClass,function(W){W.call(E,z,F,B).style("pointer-events","all")});V.attr({width:N.inputAreaLength,height:Math.max(N.inputAreaWidth,t.tickOffset+B.ticklen+N.labelHeight)}).call(a.fill,B.bgcolor).attr("opacity",0),x.setTranslate(V,0,N.currentValueTotalHeight)}function U(F,z){var B=z._dims,N=B.inputAreaLength-t.railInset*2,V=w.ensureSingle(F,"rect",t.railRectClass);V.attr({width:N,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),x.setTranslate(V,t.railInset,(B.inputAreaWidth-t.railWidth)*.5+B.currentValueTotalHeight)}},97544:function(H,j,e){var g=e(60876);H.exports={moduleType:"component",name:g.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(H,j,e){var g=e(33428),P=e(38248),a=e(7316),x=e(24040),w=e(3400),v=w.strTranslate,p=e(43616),r=e(76308),t=e(72736),i=e(13448),n=e(84284).OPPOSITE_SIDE,u=/ [XY][0-9]* /;function f(l,y,h){var M=h.propContainer,c=h.propName,o=h.placeholder,d=h.traceIndex,T=h.avoid||{},S=h.attributes,C=h.transform,m=h.containerGroup,E=l._fullLayout,b=1,s=!1,L=M.title,A=(L&&L.text?L.text:"").trim(),k=L&&L.font?L.font:{},_=k.family,U=k.size,F=k.color,z;c==="title.text"?z="titleText":c.indexOf("axis")!==-1?z="axisTitleText":c.indexOf("colorbar"!==-1)&&(z="colorbarTitleText");var B=l._context.edits[z];A===""?b=0:A.replace(u," % ")===o.replace(u," % ")&&(b=.2,s=!0,B||(A="")),h._meta?A=w.templateString(A,h._meta):E._meta&&(A=w.templateString(A,E._meta));var N=A||B,V;m||(m=w.ensureSingle(E._infolayer,"g","g-"+y),V=E._hColorbarMoveTitle);var W=m.selectAll("text").data(N?[0]:[]);if(W.enter().append("text"),W.text(A).attr("class",y),W.exit().remove(),!N)return m;function Q($){w.syncOrAsync([re,ne],$)}function re($){var X;return!C&&V&&(C={}),C?(X="",C.rotate&&(X+="rotate("+[C.rotate,S.x,S.y]+")"),(C.offset||V)&&(X+=v(0,(C.offset||0)-(V||0)))):X=null,$.attr("transform",X),$.style({"font-family":_,"font-size":g.round(U,2)+"px",fill:r.rgb(F),opacity:b*r.opacity(F),"font-weight":a.fontWeight}).attr(S).call(t.convertToTspans,l),a.previousPromises(l)}function ne($){var X=g.select($.node().parentNode);if(T&&T.selection&&T.side&&A){X.attr("transform",null);var oe=n[T.side],Y=T.side==="left"||T.side==="top"?-1:1,ee=P(T.pad)?T.pad:2,se=p.bBox(X.node()),q={t:0,b:0,l:0,r:0},K=l._fullLayout._reservedMargin;for(var le in K)for(var ie in K[le]){var he=K[le][ie];q[ie]=Math.max(q[ie],he)}var ye={left:q.l,top:q.t,right:E.width-q.r,bottom:E.height-q.b},Ce=T.maxShift||Y*(ye[T.side]-se[T.side]),Ae=0;if(Ce<0)Ae=Ce;else{var ke=T.offsetLeft||0,we=T.offsetTop||0;se.left-=ke,se.right-=ke,se.top-=we,se.bottom-=we,T.selection.each(function(){var xe=p.bBox(this);w.bBoxIntersect(se,xe,ee)&&(Ae=Math.max(Ae,Y*(xe[T.side]-se[oe])+ee))}),Ae=Math.min(Ce,Ae),M._titleScoot=Math.abs(Ae)}if(Ae>0||Ce<0){var Ee={left:[-Ae,0],right:[Ae,0],top:[0,-Ae],bottom:[0,Ae]}[T.side];X.attr("transform",v(Ee[0],Ee[1]))}}}W.call(Q);function fe(){b=0,s=!0,W.text(o).on("mouseover.opacity",function(){g.select(this).transition().duration(i.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(i.HIDE_PLACEHOLDER).style("opacity",0)})}return B&&(A?W.on(".opacity",null):fe(),W.call(t.makeEditable,{gd:l}).on("edit",function($){d!==void 0?x.call("_guiRestyle",l,c,$,d):x.call("_guiRelayout",l,c,$)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Q)}).on("input",function($){this.text($||" ").call(t.positionText,S.x,S.y)})),W.classed("js-placeholder",s),m}H.exports={draw:f}},88444:function(H,j,e){var g=e(25376),P=e(22548),a=e(92880).extendFlat,x=e(67824).overrideAll,w=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});H.exports=x(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(w({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(H){H.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(H,j,e){var g=e(3400),P=e(51272),a=e(88444),x=e(73712),w=x.name,v=a.buttons;H.exports=function(i,n){var u={name:w,handleItemDefaults:p};P(i,n,u)};function p(t,i,n){function u(y,h){return g.coerce(t,i,a,y,h)}var f=P(t,i,{name:"buttons",handleItemDefaults:r}),l=u("visible",f.length>0);l&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),g.noneOrAll(t,i,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),g.coerceFont(u,"font",n.font),u("bgcolor",n.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function r(t,i){function n(f,l){return g.coerce(t,i,v,f,l)}var u=n("visible",t.method==="skip"||Array.isArray(t.args));u&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(H,j,e){var g=e(33428),P=e(7316),a=e(76308),x=e(43616),w=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),i=e(37400);H.exports=function(k){var _=k._fullLayout,U=w.filterVisible(_[t.name]);function F(ne){P.autoMargin(k,b(ne))}var z=_._menulayer.selectAll("g."+t.containerClassName).data(U.length>0?[0]:[]);if(z.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),z.exit().each(function(){g.select(this).selectAll("g."+t.headerGroupClassName).each(F)}).remove(),U.length!==0){var B=z.selectAll("g."+t.headerGroupClassName).data(U,n);B.enter().append("g").classed(t.headerGroupClassName,!0);for(var N=w.ensureSingle(z,"g",t.dropdownButtonGroupClassName,function(ne){ne.style("pointer-events","all")}),V=0;V<U.length;V++){var W=U[V];E(k,W)}var Q="updatemenus"+_._uid,re=new i(k,N,Q);B.enter().size()&&(N.node().parentNode.appendChild(N.node()),N.call(L)),B.exit().each(function(ne){N.call(L),F(ne)}).remove(),B.each(function(ne){var fe=g.select(this),$=ne.type==="dropdown"?N:null;P.manageCommandObserver(k,ne,ne.buttons,function(X){l(k,ne,ne.buttons[X.index],fe,$,re,X.index,!0)}),ne.type==="dropdown"?(y(k,fe,N,re,ne),f(N,ne)&&h(k,fe,N,re,ne)):h(k,fe,null,null,ne)})}};function n(A){return A._index}function u(A){return+A.attr(t.menuIndexAttrName)==-1}function f(A,k){return+A.attr(t.menuIndexAttrName)===k._index}function l(A,k,_,U,F,z,B,N){k.active=B,p(A.layout,t.name,k).applyUpdate("active",B),k.type==="buttons"?h(A,U,null,null,k):k.type==="dropdown"&&(F.attr(t.menuIndexAttrName,"-1"),y(A,U,F,z,k),N||h(A,U,F,z,k))}function y(A,k,_,U,F){var z=w.ensureSingle(k,"g",t.headerClassName,function(ne){ne.style("pointer-events","all")}),B=F._dims,N=F.active,V=F.buttons[N]||t.blankHeaderOpts,W={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},Q={width:B.headerWidth,height:B.headerHeight};z.call(o,F,V,A).call(s,F,W,Q);var re=w.ensureSingle(k,"text",t.headerArrowClassName,function(ne){ne.attr("text-anchor","end").call(x.font,F.font).text(t.arrowSymbol[F.direction])});re.attr({x:B.headerWidth-t.arrowOffsetX+F.pad.l,y:B.headerHeight/2+t.textOffsetY+F.pad.t}),z.on("click",function(){_.call(L,String(f(_,F)?-1:F._index)),h(A,k,_,U,F)}),z.on("mouseover",function(){z.call(C)}),z.on("mouseout",function(){z.call(m,F)}),x.setTranslate(k,B.lx,B.ly)}function h(A,k,_,U,F){_||(_=k,_.attr("pointer-events","all"));var z=!u(_)||F.type==="buttons"?F.buttons:[],B=F.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,N=_.selectAll("g."+B).data(w.filterVisible(z)),V=N.enter().append("g").classed(B,!0),W=N.exit();F.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var Q=0,re=0,ne=F._dims,fe=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(fe?re=ne.headerHeight+t.gapButtonHeader:Q=ne.headerWidth+t.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(re=-t.gapButtonHeader+t.gapButton-ne.openHeight),F.type==="dropdown"&&F.direction==="left"&&(Q=-t.gapButtonHeader+t.gapButton-ne.openWidth);var $={x:ne.lx+Q+F.pad.l,y:ne.ly+re+F.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},X={l:$.x+F.borderwidth,t:$.y+F.borderwidth};N.each(function(oe,Y){var ee=g.select(this);ee.call(o,F,oe,A).call(s,F,$),ee.on("click",function(){g.event.defaultPrevented||(oe.execute&&(oe.args2&&F.active===Y?(l(A,F,oe,k,_,U,-1),P.executeAPICommand(A,oe.method,oe.args2)):(l(A,F,oe,k,_,U,Y),P.executeAPICommand(A,oe.method,oe.args))),A.emit("plotly_buttonclicked",{menu:F,button:oe,active:F.active}))}),ee.on("mouseover",function(){ee.call(C)}),ee.on("mouseout",function(){ee.call(m,F),N.call(S,F)})}),N.call(S,F),fe?(X.w=Math.max(ne.openWidth,ne.headerWidth),X.h=$.y-X.t):(X.w=$.x-X.l,X.h=Math.max(ne.openHeight,ne.headerHeight)),X.direction=F.direction,U&&(N.size()?M(A,k,_,U,F,X):c(U))}function M(A,k,_,U,F,z){var B=F.direction,N=B==="up"||B==="down",V=F._dims,W=F.active,Q,re,ne;if(N)for(re=0,ne=0;ne<W;ne++)re+=V.heights[ne]+t.gapButton;else for(Q=0,ne=0;ne<W;ne++)Q+=V.widths[ne]+t.gapButton;U.enable(z,Q,re),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(A){var k=!!A.hbar,_=!!A.vbar;k&&A.hbar.transition().attr("opacity","0").each("end",function(){k=!1,_||A.disable()}),_&&A.vbar.transition().attr("opacity","0").each("end",function(){_=!1,k||A.disable()})}function o(A,k,_,U){A.call(d,k).call(T,k,_,U)}function d(A,k){var _=w.ensureSingle(A,"rect",t.itemRectClassName,function(U){U.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});_.call(a.stroke,k.bordercolor).call(a.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function T(A,k,_,U){var F=w.ensureSingle(A,"text",t.itemTextClassName,function(N){N.attr({"text-anchor":"start","data-notex":1})}),z=_.label,B=U._fullLayout._meta;B&&(z=w.templateString(z,B)),F.call(x.font,k.font).text(z).call(v.convertToTspans,U)}function S(A,k){var _=k.active;A.each(function(U,F){var z=g.select(this);F===_&&k.showactive&&z.select("rect."+t.itemRectClassName).call(a.fill,t.activeColor)})}function C(A){A.select("rect."+t.itemRectClassName).call(a.fill,t.hoverColor)}function m(A,k){A.select("rect."+t.itemRectClassName).call(a.fill,k.bgcolor)}function E(A,k){var _=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=x.tester.selectAll("g."+t.dropdownButtonClassName).data(w.filterVisible(k.buttons));U.enter().append("g").classed(t.dropdownButtonClassName,!0);var F=["up","down"].indexOf(k.direction)!==-1;U.each(function(Q,re){var ne=g.select(this);ne.call(o,k,Q,A);var fe=ne.select("."+t.itemTextClassName),$=fe.node()&&x.bBox(fe.node()).width,X=Math.max($+t.textPadX,t.minWidth),oe=k.font.size*r,Y=v.lineCount(fe),ee=Math.max(oe*Y,t.minHeight)+t.textOffsetY;ee=Math.ceil(ee),X=Math.ceil(X),_.widths[re]=X,_.heights[re]=ee,_.height1=Math.max(_.height1,ee),_.width1=Math.max(_.width1,X),F?(_.totalWidth=Math.max(_.totalWidth,X),_.openWidth=_.totalWidth,_.totalHeight+=ee+t.gapButton,_.openHeight+=ee+t.gapButton):(_.totalWidth+=X+t.gapButton,_.openWidth+=X+t.gapButton,_.totalHeight=Math.max(_.totalHeight,ee),_.openHeight=_.totalHeight)}),F?_.totalHeight-=t.gapButton:_.totalWidth-=t.gapButton,_.headerWidth=_.width1+t.arrowPadX,_.headerHeight=_.height1,k.type==="dropdown"&&(F?(_.width1+=t.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=t.arrowPadX),U.remove();var z=_.totalWidth+k.pad.l+k.pad.r,B=_.totalHeight+k.pad.t+k.pad.b,N=A._fullLayout._size;_.lx=N.l+N.w*k.x,_.ly=N.t+N.h*(1-k.y);var V="left";w.isRightAnchor(k)&&(_.lx-=z,V="right"),w.isCenterAnchor(k)&&(_.lx-=z/2,V="center");var W="top";w.isBottomAnchor(k)&&(_.ly-=B,W="bottom"),w.isMiddleAnchor(k)&&(_.ly-=B/2,W="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),P.autoMargin(A,b(k),{x:k.x,y:k.y,l:z*({right:1,center:.5}[V]||0),r:z*({left:1,center:.5}[V]||0),b:B*({top:1,middle:.5}[W]||0),t:B*({bottom:1,middle:.5}[W]||0)})}function b(A){return t.autoMarginIdRoot+A._index}function s(A,k,_,U){U=U||{};var F=A.select("."+t.itemRectClassName),z=A.select("."+t.itemTextClassName),B=k.borderwidth,N=_.index,V=k._dims;x.setTranslate(A,B+_.x,B+_.y);var W=["up","down"].indexOf(k.direction)!==-1,Q=U.height||(W?V.heights[N]:V.height1);F.attr({x:0,y:0,width:U.width||(W?V.width1:V.widths[N]),height:Q});var re=k.font.size*r,ne=v.lineCount(z),fe=(ne-1)*re/2;v.positionText(z,t.textOffsetX,Q/2-fe+t.textOffsetY),W?_.y+=V.heights[N]+_.yPad:_.x+=V.widths[N]+_.xPad,_.index++}function L(A,k){A.attr(t.menuIndexAttrName,k||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(H,j,e){var g=e(73712);H.exports={moduleType:"component",name:g.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(H,j,e){H.exports=w;var g=e(33428),P=e(76308),a=e(43616),x=e(3400);function w(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}w.barWidth=2,w.barLength=20,w.barRadius=2,w.barPad=1,w.barColor="#808BA4",w.prototype.enable=function(p,r,t){var i=this.gd._fullLayout,n=i.width,u=i.height;this.position=p;var f=this.position.l,l=this.position.w,y=this.position.t,h=this.position.h,M=this.position.direction,c=M==="down",o=M==="left",d=M==="right",T=M==="up",S=l,C=h,m,E,b,s;!c&&!o&&!d&&!T&&(this.position.direction="down",c=!0);var L=c||T;L?(m=f,E=m+S,c?(b=y,s=Math.min(b+C,u),C=s-b):(s=y+C,b=Math.max(s-C,0),C=s-b)):(b=y,s=b+C,o?(E=f+S,m=Math.max(E-S,0),S=E-m):(m=f,E=Math.min(m+S,n),S=E-m)),this._box={l:m,t:b,w:S,h:C};var A=l>S,k=w.barLength+2*w.barPad,_=w.barWidth+2*w.barPad,U=f,F=y+h;F+_>u&&(F=u-_);var z=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,w.barColor),A?(this.hbar=z.attr({rx:w.barRadius,ry:w.barRadius,x:U,y:F,width:k,height:_}),this._hbarXMin=U+k/2,this._hbarTranslateMax=S-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=h>C,N=w.barWidth+2*w.barPad,V=w.barLength+2*w.barPad,W=f+l,Q=y;W+N>n&&(W=n-N);var re=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);re.exit().on(".drag",null).remove(),re.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,w.barColor),B?(this.vbar=re.attr({rx:w.barRadius,ry:w.barRadius,x:W,y:Q,width:N,height:V}),this._vbarYMin=Q+V/2,this._vbarTranslateMax=C-V):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ne=this.id,fe=m-.5,$=B?E+N+.5:E+.5,X=b-.5,oe=A?s+_+.5:s+.5,Y=i._topdefs.selectAll("#"+ne).data(A||B?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",ne).append("rect"),A||B?(this._clipRect=Y.select("rect").attr({x:Math.floor(fe),y:Math.floor(X),width:Math.ceil($)-Math.floor(fe),height:Math.ceil(oe)-Math.floor(X)}),this.container.call(a.setClipUrl,ne,this.gd),this.bg.attr({x:f,y,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),A||B){var ee=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ee);var se=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(se),B&&this.vbar.on(".drag",null).call(se)}this.setTranslate(r,t)},w.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},w.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=g.event.dx),this.vbar&&(r-=g.event.dy),this.setTranslate(p,r)},w.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=g.event.deltaY),this.vbar&&(r+=g.event.deltaY),this.setTranslate(p,r)},w.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,i=t+this._hbarTranslateMax,n=x.constrain(g.event.x,t,i),u=(n-t)/(i-t),f=this.position.w-this._box.w;p=u*f}if(this.vbar){var l=r+this._vbarYMin,y=l+this._vbarTranslateMax,h=x.constrain(g.event.y,l,y),M=(h-l)/(y-l),c=this.position.h-this._box.h;r=M*c}this.setTranslate(p,r)},w.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(p=x.constrain(p||0,0,t),r=x.constrain(r||0,0,i),this.translateX=p,this.translateY=r,this.container.call(a.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(a.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var u=r/i;this.vbar.call(a.setTranslate,p,r+u*this._vbarTranslateMax)}}},84284:function(H){H.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(H){H.exports={axisRefDescription:function(j,e,g){return["If set to a",j,"axis id (e.g. *"+j+"* or","*"+j+"2*), the `"+j+"` position refers to a",j,"coordinate. If set to *paper*, the `"+j+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",j,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+j+"2 domain* refers to the domain of the second",j," axis and a",j,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",j,"axis."].join(" ")}}},48164:function(H){H.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(H){H.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(H){H.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(H){H.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(H){H.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(H){H.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(H){H.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(H,j){j.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],j.STYLE=j.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(H,j){j.xmlns="http://www.w3.org/2000/xmlns/",j.svg="http://www.w3.org/2000/svg",j.xlink="http://www.w3.org/1999/xlink",j.svgAttrs={xmlns:j.svg,"xmlns:xlink":j.xlink}},64884:function(H,j,e){j.version=e(25788).version,e(88324),e(79288);for(var g=e(24040),P=j.register=g.register,a=e(22448),x=Object.keys(a),w=0;w<x.length;w++){var v=x[w];v.charAt(0)!=="_"&&(j[v]=a[v]),P({moduleType:"apiMethod",name:v,fn:a[v]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),j.Icons=e(9224);var p=e(93024),r=e(7316);j.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},j.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},j.Snapshot=e(78904),j.PlotSchema=e(73060)},9224:function(H){H.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(H,j){j.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},j.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},j.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},j.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},j.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},j.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},11864:function(H,j,e){var g=e(20435),P=g.mod,a=g.modHalf,x=Math.PI,w=2*x;function v(M){return M/180*x}function p(M){return M/x*180}function r(M){return Math.abs(M[1]-M[0])>w-1e-14}function t(M,c){return a(c-M,w)}function i(M,c){return Math.abs(t(M,c))}function n(M,c){if(r(c))return!0;var o,d;c[0]<c[1]?(o=c[0],d=c[1]):(o=c[1],d=c[0]),o=P(o,w),d=P(d,w),o>d&&(d+=w);var T=P(M,w),S=T+w;return T>=o&&T<=d||S>=o&&S<=d}function u(M,c,o,d){if(!n(c,d))return!1;var T,S;return o[0]<o[1]?(T=o[0],S=o[1]):(T=o[1],S=o[0]),M>=T&&M<=S}function f(M,c,o,d,T,S,C){T=T||0,S=S||0;var m=r([o,d]),E,b,s,L,A;m?(E=0,b=x,s=w):o<d?(E=o,s=d):(E=d,s=o),M<c?(L=M,A=c):(L=c,A=M);function k(z,B){return[z*Math.cos(B)+T,S-z*Math.sin(B)]}var _=Math.abs(s-E)<=x?0:1;function U(z,B,N){return"A"+[z,z]+" "+[0,_,N]+" "+k(z,B)}var F;return m?L===null?F="M"+k(A,E)+U(A,b,0)+U(A,s,0)+"Z":F="M"+k(L,E)+U(L,b,0)+U(L,s,0)+"ZM"+k(A,E)+U(A,b,1)+U(A,s,1)+"Z":L===null?(F="M"+k(A,E)+U(A,s,0),C&&(F+="L0,0Z")):F="M"+k(L,E)+"L"+k(A,E)+U(A,s,0)+"L"+k(L,s)+U(L,E,1)+"Z",F}function l(M,c,o,d,T){return f(null,M,c,o,d,T,0)}function y(M,c,o,d,T){return f(null,M,c,o,d,T,1)}function h(M,c,o,d,T,S){return f(M,c,o,d,T,S,1)}H.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:i,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:u,pathArc:l,pathSector:y,pathAnnulus:h}},38116:function(H,j,e){var g=e(83160).decode,P=e(63620),a=Array.isArray,x=ArrayBuffer,w=DataView;function v(f){return x.isView(f)&&!(f instanceof w)}j.isTypedArray=v;function p(f){return a(f)||v(f)}j.isArrayOrTypedArray=p;function r(f){return!p(f[0])}j.isArray1D=r,j.ensureArray=function(f,l){return a(f)||(f=[]),f.length=l,f};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function i(f){return f.constructor===ArrayBuffer}j.isArrayBuffer=i,j.decodeTypedArraySpec=function(f){var l=[],y=n(f),h=y.dtype,M=t[h];if(!M)throw new Error('Error in dtype: "'+h+'"');var c=M.BYTES_PER_ELEMENT,o=y.bdata;i(o)||(o=g(o));var d=y.shape===void 0?[o.byteLength/c]:(""+y.shape).split(",");d.reverse();var T=d.length,S,C,m=+d[0],E=c*m,b=0;if(T===1)l=new M(o);else if(T===2)for(S=+d[1],C=0;C<S;C++)l[C]=new M(o,b,m),b+=E;else if(T===3){S=+d[1];for(var s=+d[2],L=0;L<s;L++)for(l[L]=[],C=0;C<S;C++)l[L][C]=new M(o,b,m),b+=E}else throw new Error("ndim: "+T+'is not supported with the shape:"'+y.shape+'"');return l.bdata=y.bdata,l.dtype=y.dtype,l.shape=d.reverse().join(","),f._inputArray=l,l},j.isTypedArraySpec=function(f){return P(f)&&f.hasOwnProperty("dtype")&&typeof f.dtype=="string"&&f.hasOwnProperty("bdata")&&(typeof f.bdata=="string"||i(f.bdata))&&(f.shape===void 0||f.hasOwnProperty("shape")&&(typeof f.shape=="string"||typeof f.shape=="number"))};function n(f){return{bdata:f.bdata,dtype:f.dtype,shape:f.shape}}j.concat=function(){var f=[],l=!0,y=0,h,M,c,o,d,T,S,C;for(c=0;c<arguments.length;c++)o=arguments[c],T=o.length,T&&(M?f.push(o):(M=o,d=T),a(o)?h=!1:(l=!1,y?h!==o.constructor&&(h=!1):h=o.constructor),y+=T);if(!y)return[];if(!f.length)return M;if(l)return M.concat.apply(M,f);if(h){for(S=new h(y),S.set(M),c=0;c<f.length;c++)o=f[c],S.set(o,d),d+=o.length;return S}for(S=new Array(y),C=0;C<M.length;C++)S[C]=M[C];for(c=0;c<f.length;c++){for(o=f[c],C=0;C<o.length;C++)S[d+C]=o[C];d+=C}return S},j.maxRowLength=function(f){return u(f,Math.max,0)},j.minRowLength=function(f){return u(f,Math.min,1/0)};function u(f,l,y){if(p(f))if(p(f[0])){for(var h=y,M=0;M<f.length;M++)h=l(h,f[M].length);return h}else return f.length;return 0}},54037:function(H,j,e){var g=e(38248),P=e(39032).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;H.exports=function(w){return typeof w=="string"&&(w=w.replace(a,"")),g(w)?Number(w):P}},73696:function(H){H.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(H){H.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(H,j,e){var g=e(38248),P=e(49760),a=e(45464),x=e(88304),w=e(76308),v=e(13448).DESELECTDIM,p=e(22296),r=e(53756).counter,t=e(20435).modHalf,i=e(38116).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;j.valObjectMeta={data_array:{coerceFunction:function(l,y,h){y.set(i(l)?l:n(l)?u(l):h)}},enumerated:{coerceFunction:function(l,y,h,M){M.coerceNumber&&(l=+l),M.values.indexOf(l)===-1?y.set(h):y.set(l)},validateFunction:function(l,y){y.coerceNumber&&(l=+l);for(var h=y.values,M=0;M<h.length;M++){var c=String(h[M]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var o=new RegExp(c.substr(1,c.length-2));if(o.test(l))return!0}else if(l===h[M])return!0}return!1}},boolean:{coerceFunction:function(l,y,h){l===!0||l===!1?y.set(l):y.set(h)}},number:{coerceFunction:function(l,y,h,M){!g(l)||M.min!==void 0&&l<M.min||M.max!==void 0&&l>M.max?y.set(h):y.set(+l)}},integer:{coerceFunction:function(l,y,h,M){l%1||!g(l)||M.min!==void 0&&l<M.min||M.max!==void 0&&l>M.max?y.set(h):y.set(+l)}},string:{coerceFunction:function(l,y,h,M){if(typeof l!="string"){var c=typeof l=="number";M.strict===!0||!c?y.set(h):y.set(String(l))}else M.noBlank&&!l?y.set(h):y.set(l)}},color:{coerceFunction:function(l,y,h){P(l).isValid()?y.set(l):y.set(h)}},colorlist:{coerceFunction:function(l,y,h){function M(c){return P(c).isValid()}!Array.isArray(l)||!l.length?y.set(h):l.every(M)?y.set(l):y.set(h)}},colorscale:{coerceFunction:function(l,y,h){y.set(x.get(l,h))}},angle:{coerceFunction:function(l,y,h){l==="auto"?y.set("auto"):g(l)?y.set(t(+l,360)):y.set(h)}},subplotid:{coerceFunction:function(l,y,h,M){var c=M.regex||r(h);if(typeof l=="string"&&c.test(l)){y.set(l);return}y.set(h)},validateFunction:function(l,y){var h=y.dflt;return l===h?!0:typeof l!="string"?!1:!!r(h).test(l)}},flaglist:{coerceFunction:function(l,y,h,M){if((M.extras||[]).indexOf(l)!==-1){y.set(l);return}if(typeof l!="string"){y.set(h);return}for(var c=l.split("+"),o=0;o<c.length;){var d=c[o];M.flags.indexOf(d)===-1||c.indexOf(d)<o?c.splice(o,1):o++}c.length?y.set(c.join("+")):y.set(h)}},any:{coerceFunction:function(l,y,h){l===void 0?y.set(h):y.set(n(l)?u(l):l)}},info_array:{coerceFunction:function(l,y,h,M){function c(U,F,z){var B,N={set:function(V){B=V}};return z===void 0&&(z=F.dflt),j.valObjectMeta[F.valType].coerceFunction(U,N,z,F),B}if(n(l)&&(l=u(l)),!i(l)){y.set(h);return}var o=M.dimensions===2||M.dimensions==="1-2"&&Array.isArray(l)&&i(l[0]),d=M.items,T=[],S=Array.isArray(d),C=S&&o&&i(d[0]),m=o&&S&&!C,E=S&&!m?d.length:l.length,b,s,L,A,k,_;if(h=Array.isArray(h)?h:[],o)for(b=0;b<E;b++)for(T[b]=[],L=i(l[b])?l[b]:[],m?k=d.length:S?k=d[b].length:k=L.length,s=0;s<k;s++)m?A=d[s]:S?A=d[b][s]:A=d,_=c(L[s],A,(h[b]||[])[s]),_!==void 0&&(T[b][s]=_);else for(b=0;b<E;b++)_=c(l[b],S?d[b]:d,h[b]),_!==void 0&&(T[b]=_);y.set(T)},validateFunction:function(l,y){if(!i(l))return!1;var h=y.items,M=Array.isArray(h),c=y.dimensions===2;if(!y.freeLength&&l.length!==h.length)return!1;for(var o=0;o<l.length;o++)if(c){if(!i(l[o])||!y.freeLength&&l[o].length!==h[o].length)return!1;for(var d=0;d<l[o].length;d++)if(!f(l[o][d],M?h[o][d]:h))return!1}else if(!f(l[o],M?h[o]:h))return!1;return!0}}},j.coerce=function(l,y,h,M,c){var o=p(h,M).get(),d=p(l,M),T=p(y,M),S=d.get(),C=y._template;if(S===void 0&&C&&(S=p(C,M).get(),C=0),c===void 0&&(c=o.dflt),o.arrayOk){if(i(S))return T.set(S),S;if(n(S))return S=u(S),T.set(S),S}var m=j.valObjectMeta[o.valType].coerceFunction;m(S,T,c,o);var E=T.get();return C&&E===c&&!f(S,o)&&(S=p(C,M).get(),m(S,T,c,o),E=T.get()),E},j.coerce2=function(l,y,h,M,c){var o=p(l,M),d=j.coerce(l,y,h,M,c),T=o.get();return T!=null?d:!1},j.coerceFont=function(l,y,h){var M={};return h=h||{},M.family=l(y+".family",h.family),M.size=l(y+".size",h.size),M.color=l(y+".color",h.color),M},j.coercePattern=function(l,y,h,M){var c=l(y+".shape");if(c){l(y+".solidity"),l(y+".size");var o=l(y+".fillmode"),d=o==="overlay";if(!M){var T=l(y+".bgcolor",d?h:void 0);l(y+".fgcolor",d?w.contrast(T):h)}l(y+".fgopacity",d?.5:1)}},j.coerceHoverinfo=function(l,y,h){var M=y._module.attributes,c=M.hoverinfo?M:a,o=c.hoverinfo,d;if(h._dataLength===1){var T=o.dflt==="all"?o.flags.slice():o.dflt.split("+");T.splice(T.indexOf("name"),1),d=T.join("+")}return j.coerce(l,y,c,"hoverinfo",d)},j.coerceSelectionMarkerOpacity=function(l,y){if(l.marker){var h=l.marker.opacity;if(h!==void 0){var M,c;!i(h)&&!l.selected&&!l.unselected&&(M=h,c=v*h),y("selected.marker.opacity",M),y("unselected.marker.opacity",c)}}};function f(l,y){var h=j.valObjectMeta[y.valType];if(y.arrayOk&&i(l))return!0;if(h.validateFunction)return h.validateFunction(l,y);var M={},c=M,o={set:function(d){c=d}};return h.coerceFunction(l,o,M,y),c!==M}j.validate=f},67555:function(H,j,e){var g=e(94336).Yn,P=e(38248),a=e(24248),x=e(20435).mod,w=e(39032),v=w.BADNUM,p=w.ONEDAY,r=w.ONEHOUR,t=w.ONEMIN,i=w.ONESEC,n=w.EPOCHJD,u=e(24040),f=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function M(F){return F&&u.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}j.dateTick0=function(F,z){var B=c(F,!!z);if(z<2)return B;var N=j.dateTime2ms(B,F);return N+=p*(z-1),j.ms2DateTime(N,0,F)};function c(F,z){return M(F)?z?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:u.getComponentMethod("calendars","CANONICAL_TICK")[F]:z?"2000-01-02":"2000-01-01"}j.dfltRange=function(F){return M(F)?u.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},j.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var o,d;j.dateTime2ms=function(F,z){if(j.isJSDate(F)){var B=F.getTimezoneOffset()*t,N=(F.getUTCMinutes()-F.getMinutes())*t+(F.getUTCSeconds()-F.getSeconds())*i+(F.getUTCMilliseconds()-F.getMilliseconds());if(N){var V=3*t;B=B-V/2+x(N-B+V/2,V)}return F=Number(F)-B,F>=o&&F<=d?F:v}if(typeof F!="string"&&typeof F!="number")return v;F=String(F);var W=M(z),Q=F.charAt(0);W&&(Q==="G"||Q==="g")&&(F=F.substr(1),z="");var re=W&&z.substr(0,7)==="chinese",ne=F.match(re?y:l);if(!ne)return v;var fe=ne[1],$=ne[3]||"1",X=Number(ne[5]||1),oe=Number(ne[7]||0),Y=Number(ne[9]||0),ee=Number(ne[11]||0);if(W){if(fe.length===2)return v;fe=Number(fe);var se;try{var q=u.getComponentMethod("calendars","getCal")(z);if(re){var K=$.charAt($.length-1)==="i";$=parseInt($,10),se=q.newDate(fe,q.toMonthIndex(fe,$,K),X)}else se=q.newDate(fe,Number($),X)}catch{return v}return se?(se.toJD()-n)*p+oe*r+Y*t+ee*i:v}fe.length===2?fe=(Number(fe)+2e3-h)%100+h:fe=Number(fe),$-=1;var le=new Date(Date.UTC(2e3,$,X,oe,Y));return le.setUTCFullYear(fe),le.getUTCMonth()!==$||le.getUTCDate()!==X?v:le.getTime()+ee*i},o=j.MIN_MS=j.dateTime2ms("-9999"),d=j.MAX_MS=j.dateTime2ms("9999-12-31 23:59:59.9999"),j.isDateTime=function(F,z){return j.dateTime2ms(F,z)!==v};function T(F,z){return String(F+Math.pow(10,z)).substr(1)}var S=90*p,C=3*r,m=5*t;j.ms2DateTime=function(F,z,B){if(typeof F!="number"||!(F>=o&&F<=d))return v;z||(z=0);var N=Math.floor(x(F+.05,1)*10),V=Math.round(F-N/10),W,Q,re,ne,fe,$;if(M(B)){var X=Math.floor(V/p)+n,oe=Math.floor(x(F,p));try{W=u.getComponentMethod("calendars","getCal")(B).fromJD(X).formatDate("yyyy-mm-dd")}catch{W=f("G%Y-%m-%d")(new Date(V))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;Q=z<S?Math.floor(oe/r):0,re=z<S?Math.floor(oe%r/t):0,ne=z<C?Math.floor(oe%t/i):0,fe=z<m?oe%i*10+N:0}else $=new Date(V),W=f("%Y-%m-%d")($),Q=z<S?$.getUTCHours():0,re=z<S?$.getUTCMinutes():0,ne=z<C?$.getUTCSeconds():0,fe=z<m?$.getUTCMilliseconds()*10+N:0;return E(W,Q,re,ne,fe)},j.ms2DateTimeLocal=function(F){if(!(F>=o+p&&F<=d-p))return v;var z=Math.floor(x(F+.05,1)*10),B=new Date(Math.round(F-z/10)),N=g("%Y-%m-%d")(B),V=B.getHours(),W=B.getMinutes(),Q=B.getSeconds(),re=B.getUTCMilliseconds()*10+z;return E(N,V,W,Q,re)};function E(F,z,B,N,V){if((z||B||N||V)&&(F+=" "+T(z,2)+":"+T(B,2),(N||V)&&(F+=":"+T(N,2),V))){for(var W=4;V%10===0;)W-=1,V/=10;F+="."+T(V,W)}return F}j.cleanDate=function(F,z,B){if(F===v)return z;if(j.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(M(B))return a.error("JS Dates and milliseconds are incompatible with world calendars",F),z;if(F=j.ms2DateTimeLocal(+F),!F&&z!==void 0)return z}else if(!j.isDateTime(F,B))return a.error("unrecognized date",F),z;return F};var b=/%\d?f/g,s=/%h/g,L={1:"1",2:"1",3:"2",4:"2"};function A(F,z,B,N){F=F.replace(b,function(W){var Q=Math.min(+W.charAt(1)||6,6),re=(z/1e3%1+2).toFixed(Q).substr(2).replace(/0+$/,"")||"0";return re});var V=new Date(Math.floor(z+.05));if(F=F.replace(s,function(){return L[B("%q")(V)]}),M(N))try{F=u.getComponentMethod("calendars","worldCalFmt")(F,z,N)}catch{return"Invalid"}return B(F)(V)}var k=[59,59.9,59.99,59.999,59.9999];function _(F,z){var B=x(F+.05,p),N=T(Math.floor(B/r),2)+":"+T(x(Math.floor(B/t),60),2);if(z!=="M"){P(z)||(z=0);var V=Math.min(x(F/i,60),k[z]),W=(100+V).toFixed(z).substr(1);z>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),N+=":"+W}return N}j.formatDate=function(F,z,B,N,V,W){if(V=M(V)&&V,!z)if(B==="y")z=W.year;else if(B==="m")z=W.month;else if(B==="d")z=W.dayMonth+`
`+W.year;else return _(F,B)+`
`+A(W.dayMonthYear,F,N,V);return A(z,F,N,V)};var U=3*p;j.incrementMonth=function(F,z,B){B=M(B)&&B;var N=x(F,p);if(F=Math.round(F-N),B)try{var V=Math.round(F/p)+n,W=u.getComponentMethod("calendars","getCal")(B),Q=W.fromJD(V);return z%12?W.add(Q,z,"m"):W.add(Q,z/12,"y"),(Q.toJD()-n)*p+N}catch{a.error("invalid ms "+F+" in calendar "+B)}var re=new Date(F+U);return re.setUTCMonth(re.getUTCMonth()+z)+N-U},j.findExactDates=function(F,z){for(var B=0,N=0,V=0,W=0,Q,re,ne=M(z)&&u.getComponentMethod("calendars","getCal")(z),fe=0;fe<F.length;fe++){if(re=F[fe],!P(re)){W++;continue}if(!(re%p))if(ne)try{Q=ne.fromJD(re/p+n),Q.day()===1?Q.month()===1?B++:N++:V++}catch{}else Q=new Date(re),Q.getUTCDate()===1?Q.getUTCMonth()===0?B++:N++:V++}N+=B,V+=N;var $=F.length-W;return{exactYears:B/$,exactMonths:N/$,exactDays:V/$}}},52200:function(H,j,e){var g=e(33428),P=e(24248),a=e(52248),x=e(36524);function w(h){var M;if(typeof h=="string"){if(M=document.getElementById(h),M===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return M}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var M=g.select(h);return M.node()instanceof HTMLElement&&M.size()&&M.classed("js-plotly-plot")}function p(h){var M=h&&h.parentNode;M&&M.removeChild(h)}function r(h,M){t("global",h,M)}function t(h,M,c){var o="plotly.js-style-"+h,d=document.getElementById(o);d||(d=document.createElement("style"),d.setAttribute("id",o),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var T=d.sheet;T.insertRule?T.insertRule(M+"{"+c+"}",0):T.addRule?T.addRule(M,c,0):P.warn("addStyleRule failed")}function i(h){var M="plotly.js-style-"+h,c=document.getElementById(M);c&&p(c)}function n(h){var M=f(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.forEach(function(o){var d=u(o);if(d){var T=a.convertCssMatrix(d);c=x.multiply(c,c,T)}}),c}function u(h){var M=window.getComputedStyle(h,null),c=M.getPropertyValue("-webkit-transform")||M.getPropertyValue("-moz-transform")||M.getPropertyValue("-ms-transform")||M.getPropertyValue("-o-transform")||M.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function f(h){for(var M=[];l(h);)M.push(h),h=h.parentNode;return M}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function y(h,M){return h&&M&&h.top===M.top&&h.left===M.left&&h.right===M.right&&h.bottom===M.bottom}H.exports={getGraphDiv:w,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:i,getFullTransformMatrix:n,getElementTransformMatrix:u,getElementAndAncestors:f,equalDomRects:y}},95924:function(H,j,e){var g=e(61252).EventEmitter,P={init:function(a){if(a._ev instanceof g)return a;var x=new g,w=new g;return a._ev=x,a._internalEv=w,a.on=x.on.bind(x),a.once=x.once.bind(x),a.removeListener=x.removeListener.bind(x),a.removeAllListeners=x.removeAllListeners.bind(x),a._internalOn=w.on.bind(w),a._internalOnce=w.once.bind(w),a._removeInternalListener=w.removeListener.bind(w),a._removeAllInternalListeners=w.removeAllListeners.bind(w),a.emit=function(v,p){typeof jQuery<"u"&&jQuery(a).trigger(v,p),x.emit(v,p),w.emit(v,p)},a},triggerHandler:function(a,x,w){var v,p;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(x,w));var r=a._ev;if(!r)return v;var t=r._events[x];if(!t)return v;function i(u){if(u.listener){if(r.removeListener(x,u.listener),!u.fired)return u.fired=!0,u.listener.apply(r,[w])}else return u.apply(r,[w])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)i(t[n]);return p=i(t[n]),v!==void 0?v:p},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};H.exports=P},92880:function(H,j,e){var g=e(63620),P=Array.isArray;function a(w,v){var p,r;for(p=0;p<w.length;p++){if(r=w[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}j.extendFlat=function(){return x(arguments,!1,!1,!1)},j.extendDeep=function(){return x(arguments,!0,!1,!1)},j.extendDeepAll=function(){return x(arguments,!0,!0,!1)},j.extendDeepNoArrays=function(){return x(arguments,!0,!1,!0)};function x(w,v,p,r){var t=w[0],i=w.length,n,u,f,l,y,h,M;if(i===2&&P(t)&&P(w[1])&&t.length===0){if(M=a(w[1],t),M)return t;t.splice(0,t.length)}for(var c=1;c<i;c++){n=w[c];for(u in n)f=t[u],l=n[u],r&&P(l)?t[u]=l:v&&l&&(g(l)||(y=P(l)))?(y?(y=!1,h=f&&P(f)?f:[]):h=f&&g(f)?f:{},t[u]=x([h,l],v,p,r)):(typeof l<"u"||p)&&(t[u]=l)}return t}},68944:function(H){H.exports=function(e){for(var g={},P=[],a=0,x=0;x<e.length;x++){var w=e[x];g[w]!==1&&(g[w]=1,P[a++]=w)}return P}},43880:function(H){H.exports=function(a){for(var x=g(a)?e:j,w=[],v=0;v<a.length;v++){var p=a[v];x(p)&&w.push(p)}return w};function j(P){return P.visible===!0}function e(P){var a=P[0].trace;return a.visible===!0&&a._length!==0}function g(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(H,j,e){var g=e(33428),P=e(36116),a=e(40440),x=e(77844),w=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),i=e(92065),n=Object.keys(P),u={"ISO-3":v,"USA-states":v,"country names":f};function f(T){for(var S=0;S<n.length;S++){var C=n[S],m=new RegExp(P[C]);if(m.test(T.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+T+"."),!1}function l(T,S,C){if(!S||typeof S!="string")return!1;var m=u[T](S),E,b,s;if(m){if(T==="USA-states")for(E=[],s=0;s<C.length;s++)b=C[s],b.properties&&b.properties.gu&&b.properties.gu==="USA"&&E.push(b);else E=C;for(s=0;s<E.length;s++)if(b=E[s],b.id===m)return b;p.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function y(T){var S=T.geometry,C=S.coordinates,m=T.id,E=[],b,s,L,A;function k(_){for(var U=0;U<_.length-1;U++)if(_[U][0]>0&&_[U+1][0]<0)return U;return null}switch(m==="RUS"||m==="FJI"?b=function(_){var U;if(k(_)===null)U=_;else for(U=new Array(_.length),A=0;A<_.length;A++)U[A]=[_[A][0]<0?_[A][0]+360:_[A][0],_[A][1]];E.push(i.tester(U))}:m==="ATA"?b=function(_){var U=k(_);if(U===null)return E.push(i.tester(_));var F=new Array(_.length+1),z=0;for(A=0;A<_.length;A++)A>U?F[z++]=[_[A][0]+360,_[A][1]]:A===U?(F[z++]=_[A],F[z++]=[_[A][0],-90]):F[z++]=_[A];var B=i.tester(F);B.pts.pop(),E.push(B)}:b=function(_){E.push(i.tester(_))},S.type){case"MultiPolygon":for(s=0;s<C.length;s++)for(L=0;L<C[s].length;L++)b(C[s][L]);break;case"Polygon":for(s=0;s<C.length;s++)b(C[s]);break}return E}function h(T){var S=T.geojson,C=window.PlotlyGeoAssets||{},m=typeof S=="string"?C[S]:S;return r(m)?m:(p.error("Oops ... something went wrong when fetching "+S),!1)}function M(T){var S=T[0].trace,C=h(S);if(!C)return!1;var m={},E=[],b;for(b=0;b<S._length;b++){var s=T[b];(s.loc||s.loc===0)&&(m[s.loc]=s)}function L(_){var U=t(_,S.featureidkey||"id").get(),F=m[U];if(F){var z=_.geometry;if(z.type==="Polygon"||z.type==="MultiPolygon"){var B={type:"Feature",id:U,geometry:z,properties:{}};B.properties.ct=c(B),F.fIn=_,F.fOut=B,E.push(B)}else p.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[U]}switch(C.type){case"FeatureCollection":var A=C.features;for(b=0;b<A.length;b++)L(A[b]);break;case"Feature":L(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in m)p.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+S.featureidkey+"*."].join(" "));return E}function c(T){var S=T.geometry,C;if(S.type==="MultiPolygon")for(var m=S.coordinates,E=0,b=0;b<m.length;b++){var s={type:"Polygon",coordinates:m[b]},L=a.default(s);L>E&&(E=L,C=s)}else C=S;return x.default(C).geometry.coordinates}function o(T){var S=window.PlotlyGeoAssets||{},C=[];function m(A){return new Promise(function(k,_){g.json(A,function(U,F){if(U){delete S[A];var z=U.status===404?'GeoJSON at URL "'+A+'" does not exist.':"Unexpected error while fetching from "+A;return _(new Error(z))}return S[A]=F,k(F)})})}function E(A){return new Promise(function(k,_){var U=0,F=setInterval(function(){if(S[A]&&S[A]!=="pending")return clearInterval(F),k(S[A]);if(U>100)return clearInterval(F),_("Unexpected error while fetching from "+A);U++},50)})}for(var b=0;b<T.length;b++){var s=T[b][0].trace,L=s.geojson;typeof L=="string"&&(S[L]?S[L]==="pending"&&C.push(E(L)):(S[L]="pending",C.push(m(L))))}return C}function d(T){return w.default(T)}H.exports={locationToFeature:l,feature2polygons:y,getTraceGeojson:h,extractTraceFeature:M,fetchTraceGeoData:o,computeBbox:d}},44808:function(H,j,e){var g=e(39032).BADNUM;j.calcTraceToLineCoords=function(P){for(var a=P[0].trace,x=a.connectgaps,w=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==g?v.push(t):!x&&v.length>0&&(w.push(v),v=[])}return v.length>0&&w.push(v),w},j.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},j.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var a=new Array(P.length),x=0;x<P.length;x++)a[x]=[P[x]];return{type:"MultiPolygon",coordinates:a}},j.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(H,j,e){var g=e(20435).mod;j.segmentsIntersect=P;function P(p,r,t,i,n,u,f,l){var y=t-p,h=n-p,M=f-n,c=i-r,o=u-r,d=l-u,T=y*d-M*c;if(T===0)return null;var S=(h*d-M*o)/T,C=(h*c-y*o)/T;return C<0||C>1||S<0||S>1?null:{x:p+y*S,y:r+c*S}}j.segmentDistance=function(r,t,i,n,u,f,l,y){if(P(r,t,i,n,u,f,l,y))return 0;var h=i-r,M=n-t,c=l-u,o=y-f,d=h*h+M*M,T=c*c+o*o,S=Math.min(a(h,M,d,u-r,f-t),a(h,M,d,l-r,y-t),a(c,o,T,r-u,t-f),a(c,o,T,i-u,n-f));return Math.sqrt(S)};function a(p,r,t,i,n){var u=i*p+n*r;if(u<0)return i*i+n*n;if(u>t){var f=i-p,l=n-r;return f*f+l*l}else{var y=i*r-n*p;return y*y/t}}var x,w,v;j.getTextLocation=function(r,t,i,n){if((r!==w||n!==v)&&(x={},w=r,v=n),x[i])return x[i];var u=r.getPointAtLength(g(i-n/2,t)),f=r.getPointAtLength(g(i+n/2,t)),l=Math.atan((f.y-u.y)/(f.x-u.x)),y=r.getPointAtLength(g(i,t)),h=(y.x*4+u.x+f.x)/6,M=(y.y*4+u.y+f.y)/6,c={x:h,y:M,theta:l};return x[i]=c,c},j.clearLocationCache=function(){w=null},j.getVisibleSegment=function(r,t,i){var n=t.left,u=t.right,f=t.top,l=t.bottom,y=0,h=r.getTotalLength(),M=h,c,o;function d(S){var C=r.getPointAtLength(S);S===0?c=C:S===h&&(o=C);var m=C.x<n?n-C.x:C.x>u?C.x-u:0,E=C.y<f?f-C.y:C.y>l?C.y-l:0;return Math.sqrt(m*m+E*E)}for(var T=d(y);T;){if(y+=T+i,y>M)return;T=d(y)}for(T=d(M);T;){if(M-=T+i,y>M)return;T=d(M)}return{min:y,max:M,len:M-y,total:h,isClosed:y===0&&M===h&&Math.abs(c.x-o.x)<.1&&Math.abs(c.y-o.y)<.1}},j.findPointOnPath=function(r,t,i,n){n=n||{};for(var u=n.pathLength||r.getTotalLength(),f=n.tolerance||.001,l=n.iterationLimit||30,y=r.getPointAtLength(0)[i]>r.getPointAtLength(u)[i]?-1:1,h=0,M=0,c=u,o,d,T;h<l;){if(o=(M+c)/2,d=r.getPointAtLength(o),T=d[i]-t,Math.abs(T)<f)return d;y*T>0?c=o:M=o,h++}return d}},33040:function(H,j,e){var g=e(38248),P=e(49760),a=e(72160),x=e(8932),w=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=a(w),r=1;function t(l,y){var h=l;return h[3]*=y,h}function i(l){if(g(l))return p;var y=a(l);return y.length?y:p}function n(l){return g(l)?l:r}function u(l,y,h){var M=l.color;M&&M._inputArray&&(M=M._inputArray);var c=v(M),o=v(y),d=x.extractOpts(l),T=[],S,C,m,E,b;if(d.colorscale!==void 0?S=x.makeColorScaleFuncFromTrace(l):S=i,c?C=function(L,A){return L[A]===void 0?p:a(S(L[A]))}:C=i,o?m=function(L,A){return L[A]===void 0?r:n(L[A])}:m=n,c||o)for(var s=0;s<h;s++)E=C(M,s),b=m(y,s),T[s]=t(E,b);else T=t(a(M),y);return T}function f(l){var y=x.extractOpts(l),h=y.colorscale;return y.reversescale&&(h=x.flipScale(y.colorscale)),h.map(function(M){var c=M[0],o=P(M[1]),d=o.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}H.exports={formatColor:u,parseColorScale:f}},71688:function(H,j,e){var g=e(35536);function P(a){return[a]}H.exports={keyFun:function(a){return a.key},repeat:P,descend:g,wrap:P,unwrap:function(a){return a[0]}}},35536:function(H){H.exports=function(e){return e}},1396:function(H){H.exports=function(e,g){if(!g)return e;var P=1/Math.abs(g),a=P>1?(P*e+P*g)/P:e+g,x=String(a).length;if(x>16){var w=String(g).length,v=String(e).length;if(x>=v+w){var p=parseFloat(a).toPrecision(12);p.indexOf("e+")===-1&&(a=+p)}}return a}},3400:function(H,j,e){var g=e(33428),P=e(94336).E9,a=e(57624).E9,x=e(38248),w=e(39032),v=w.FP_SAFE,p=-v,r=w.BADNUM,t=H.exports={};t.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var i={};t.warnBadFormat=function(ee){var se=String(ee);i[se]||(i[se]=1,t.warn('encountered bad format: "'+se+'"'))},t.noFormat=function(ee){return String(ee)},t.numberFormat=function(ee){var se;try{se=a(t.adjustFormat(ee))}catch{return t.warnBadFormat(ee),t.noFormat}return se},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var u=e(20435);t.mod=u.mod,t.modHalf=u.modHalf;var f=e(63064);t.valObjectMeta=f.valObjectMeta,t.coerce=f.coerce,t.coerce2=f.coerce2,t.coerceFont=f.coerceFont,t.coercePattern=f.coercePattern,t.coerceHoverinfo=f.coerceHoverinfo,t.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,t.validate=f.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var y=e(14952);t.findBin=y.findBin,t.sorterAsc=y.sorterAsc,t.sorterDes=y.sorterDes,t.distinctVals=y.distinctVals,t.roundUp=y.roundUp,t.sort=y.sort,t.findIndexOfMin=y.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var M=e(52248);t.init2dArray=M.init2dArray,t.transposeRagged=M.transposeRagged,t.dot=M.dot,t.translationMatrix=M.translationMatrix,t.rotationMatrix=M.rotationMatrix,t.rotationXYMatrix=M.rotationXYMatrix,t.apply3DTransform=M.apply3DTransform,t.apply2DTransform=M.apply2DTransform,t.apply2DTransform2=M.apply2DTransform2,t.convertCssMatrix=M.convertCssMatrix,t.inverseTransformMatrix=M.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var o=e(98308);t.isLeftAnchor=o.isLeftAnchor,t.isCenterAnchor=o.isCenterAnchor,t.isRightAnchor=o.isRightAnchor,t.isTopAnchor=o.isTopAnchor,t.isMiddleAnchor=o.isMiddleAnchor,t.isBottomAnchor=o.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var T=e(92880);t.extendFlat=T.extendFlat,t.extendDeep=T.extendDeep,t.extendDeepAll=T.extendDeepAll,t.extendDeepNoArrays=T.extendDeepNoArrays;var S=e(24248);t.log=S.log,t.warn=S.warn,t.error=S.error;var C=e(53756);t.counterRegex=C.counter;var m=e(91200);t.throttle=m.throttle,t.throttleDone=m.done,t.clearThrottle=m.clear;var E=e(52200);t.getGraphDiv=E.getGraphDiv,t.isPlotDiv=E.isPlotDiv,t.removeElement=E.removeElement,t.addStyleRule=E.addStyleRule,t.addRelatedStyleRule=E.addRelatedStyleRule,t.deleteRelatedStyleRule=E.deleteRelatedStyleRule,t.getFullTransformMatrix=E.getFullTransformMatrix,t.getElementTransformMatrix=E.getElementTransformMatrix,t.getElementAndAncestors=E.getElementAndAncestors,t.equalDomRects=E.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(se){return x(se)?(se=Number(se),se>v||se<p?r:se):r},t.isIndex=function(ee,se){return se!==void 0&&ee>=se?!1:x(ee)&&ee>=0&&ee%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(ee,se){for(var q=new Array(se),K=0;K<se;K++)q[K]=ee;return q},t.swapAttrs=function(ee,se,q,K){q||(q="x"),K||(K="y");for(var le=0;le<se.length;le++){var ie=se[le],he=t.nestedProperty(ee,ie.replace("?",q)),ye=t.nestedProperty(ee,ie.replace("?",K)),Ce=he.get();he.set(ye.get()),ye.set(Ce)}},t.raiseToTop=function(se){se.parentNode.appendChild(se)},t.cancelTransition=function(ee){return ee.transition().duration(0)},t.constrain=function(ee,se,q){return se>q?Math.max(q,Math.min(se,ee)):Math.max(se,Math.min(q,ee))},t.bBoxIntersect=function(ee,se,q){return q=q||0,ee.left<=se.right+q&&se.left<=ee.right+q&&ee.top<=se.bottom+q&&se.top<=ee.bottom+q},t.simpleMap=function(ee,se,q,K,le){for(var ie=ee.length,he=new Array(ie),ye=0;ye<ie;ye++)he[ye]=se(ee[ye],q,K,le);return he},t.randstr=function ee(se,q,K,le){if(K||(K=16),q===void 0&&(q=24),q<=0)return"0";var ie=Math.log(Math.pow(2,q))/Math.log(K),he="",ye,Ce,Ae;for(ye=2;ie===1/0;ye*=2)ie=Math.log(Math.pow(2,q/ye))/Math.log(K)*ye;var ke=ie-Math.floor(ie);for(ye=0;ye<Math.floor(ie);ye++)Ae=Math.floor(Math.random()*K).toString(K),he=Ae+he;ke&&(Ce=Math.pow(K,ke),Ae=Math.floor(Math.random()*Ce).toString(K),he=Ae+he);var we=parseInt(he,K);return se&&se[he]||we!==1/0&&we>=Math.pow(2,q)?le>10?(t.warn("randstr failed uniqueness"),he):ee(se,q,K,(le||0)+1):he},t.OptionControl=function(ee,se){ee||(ee={}),se||(se="opt");var q={};return q.optionList=[],q._newoption=function(K){K[se]=ee,q[K.name]=K,q.optionList.push(K)},q["_"+se]=ee,q},t.smooth=function(ee,se){if(se=Math.round(se)||0,se<2)return ee;var q=ee.length,K=2*q,le=2*se-1,ie=new Array(le),he=new Array(q),ye,Ce,Ae,ke;for(ye=0;ye<le;ye++)ie[ye]=(1-Math.cos(Math.PI*(ye+1)/se))/(2*se);for(ye=0;ye<q;ye++){for(ke=0,Ce=0;Ce<le;Ce++)Ae=ye+Ce+1-se,Ae<-q?Ae-=K*Math.round(Ae/K):Ae>=K&&(Ae-=K*Math.floor(Ae/K)),Ae<0?Ae=-1-Ae:Ae>=q&&(Ae=K-1-Ae),ke+=ee[Ae]*ie[Ce];he[ye]=ke}return he},t.syncOrAsync=function(ee,se,q){var K,le;function ie(){return t.syncOrAsync(ee,se,q)}for(;ee.length;)if(le=ee.splice(0,1)[0],K=le(se),K&&K.then)return K.then(ie);return q&&q(se)},t.stripTrailingSlash=function(ee){return ee.substr(-1)==="/"?ee.substr(0,ee.length-1):ee},t.noneOrAll=function(ee,se,q){if(ee){var K=!1,le=!0,ie,he;for(ie=0;ie<q.length;ie++)he=ee[q[ie]],he!=null?K=!0:le=!1;if(K&&!le)for(ie=0;ie<q.length;ie++)ee[q[ie]]=se[q[ie]]}},t.mergeArray=function(ee,se,q,K){var le=typeof K=="function";if(t.isArrayOrTypedArray(ee))for(var ie=Math.min(ee.length,se.length),he=0;he<ie;he++){var ye=ee[he];se[he][q]=le?K(ye):ye}},t.mergeArrayCastPositive=function(ee,se,q){return t.mergeArray(ee,se,q,function(K){var le=+K;return isFinite(le)&&le>0?le:0})},t.fillArray=function(ee,se,q,K){if(K=K||t.identity,t.isArrayOrTypedArray(ee))for(var le=0;le<se.length;le++)se[le][q]=K(ee[le])},t.castOption=function(ee,se,q,K){K=K||t.identity;var le=t.nestedProperty(ee,q).get();return t.isArrayOrTypedArray(le)?Array.isArray(se)&&t.isArrayOrTypedArray(le[se[0]])?K(le[se[0]][se[1]]):K(le[se]):le},t.extractOption=function(ee,se,q,K){if(q in ee)return ee[q];var le=t.nestedProperty(se,K).get();if(!Array.isArray(le))return le};function b(ee){var se={};for(var q in ee)for(var K=ee[q],le=0;le<K.length;le++)se[K[le]]=+q;return se}t.tagSelected=function(ee,se,q){var K=se.selectedpoints,le=se._indexToPoints,ie;le&&(ie=b(le));function he(we){return we!==void 0&&we<ee.length}for(var ye=0;ye<K.length;ye++){var Ce=K[ye];if(t.isIndex(Ce)||t.isArrayOrTypedArray(Ce)&&t.isIndex(Ce[0])&&t.isIndex(Ce[1])){var Ae=ie?ie[Ce]:Ce,ke=q?q[Ae]:Ae;he(ke)&&(ee[ke].selected=1)}}},t.selIndices2selPoints=function(ee){var se=ee.selectedpoints,q=ee._indexToPoints;if(q){for(var K=b(q),le=[],ie=0;ie<se.length;ie++){var he=se[ie];if(t.isIndex(he)){var ye=K[he];t.isIndex(ye)&&le.push(ye)}}return le}else return se},t.getTargetArray=function(ee,se){var q=se.target;if(typeof q=="string"&&q){var K=t.nestedProperty(ee,q).get();return t.isArrayOrTypedArray(K)?K:!1}else if(t.isArrayOrTypedArray(q))return q;return!1};function s(ee,se,q){var K={};typeof se!="object"&&(se={});var le=q==="pieLike"?-1:3,ie=Object.keys(ee),he,ye,Ce;for(he=0;he<ie.length;he++)ye=ie[he],Ce=ee[ye],!(ye.charAt(0)==="_"||typeof Ce=="function")&&(ye==="module"?K[ye]=Ce:Array.isArray(Ce)?ye==="colorscale"||le===-1?K[ye]=Ce.slice():K[ye]=Ce.slice(0,le):t.isTypedArray(Ce)?le===-1?K[ye]=Ce.subarray():K[ye]=Ce.subarray(0,le):Ce&&typeof Ce=="object"?K[ye]=s(ee[ye],se[ye],q):K[ye]=Ce);for(ie=Object.keys(se),he=0;he<ie.length;he++)ye=ie[he],Ce=se[ye],(typeof Ce!="object"||!(ye in K)||typeof K[ye]!="object")&&(K[ye]=Ce);return K}t.minExtend=s,t.titleCase=function(ee){return ee.charAt(0).toUpperCase()+ee.substr(1)},t.containsAny=function(ee,se){for(var q=0;q<se.length;q++)if(ee.indexOf(se[q])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var L=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return L.test(window.navigator.userAgent)};var A=/iPad|iPhone|iPod/;t.isIOS=function(){return A.test(window.navigator.userAgent)};var k=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var ee=k.exec(window.navigator.userAgent);if(ee&&ee.length===2){var se=parseInt(ee[1]);if(!isNaN(se))return se}return null},t.isD3Selection=function(ee){return ee instanceof g.selection},t.ensureSingle=function(ee,se,q,K){var le=ee.select(se+(q?"."+q:""));if(le.size())return le;var ie=ee.append(se);return q&&ie.classed(q,!0),K&&ie.call(K),ie},t.ensureSingleById=function(ee,se,q,K){var le=ee.select(se+"#"+q);if(le.size())return le;var ie=ee.append(se).attr("id",q);return K&&ie.call(K),ie},t.objectFromPath=function(ee,se){for(var q=ee.split("."),K,le=K={},ie=0;ie<q.length;ie++){var he=q[ie],ye=null,Ce=q[ie].match(/(.*)\[([0-9]+)\]/);Ce?(he=Ce[1],ye=Ce[2],K=K[he]=[],ie===q.length-1?K[ye]=se:K[ye]={},K=K[ye]):(ie===q.length-1?K[he]=se:K[he]={},K=K[he])}return le};var _=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(ee){return ee.slice(0,2)==="__"}t.expandObjectPaths=function(ee){var se,q,K,le,ie,he,ye;if(typeof ee=="object"&&!Array.isArray(ee)){for(q in ee)if(ee.hasOwnProperty(q))if(se=q.match(_)){if(le=ee[q],K=se[1],F(K))continue;delete ee[q],ee[K]=t.extendDeepNoArrays(ee[K]||{},t.objectFromPath(q,t.expandObjectPaths(le))[K])}else if(se=q.match(U)){if(le=ee[q],K=se[1],F(K))continue;if(ie=parseInt(se[2]),delete ee[q],ee[K]=ee[K]||[],se[3]===".")ye=se[4],he=ee[K][ie]=ee[K][ie]||{},t.extendDeepNoArrays(he,t.objectFromPath(ye,t.expandObjectPaths(le)));else{if(F(K))continue;ee[K][ie]=t.expandObjectPaths(le)}}else{if(F(q))continue;ee[q]=t.expandObjectPaths(ee[q])}}return ee},t.numSeparate=function(ee,se,q){if(q||(q=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof ee=="number"&&(ee=String(ee));var K=/(\d+)(\d{3})/,le=se.charAt(0),ie=se.charAt(1),he=ee.split("."),ye=he[0],Ce=he.length>1?le+he[1]:"";if(ie&&(he.length>1||ye.length>4||q))for(;K.test(ye);)ye=ye.replace(K,"$1"+ie+"$2");return ye+Ce},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;t.templateString=function(ee,se){var q={};return ee.replace(t.TEMPLATE_STRING_REGEX,function(K,le){var ie;return z.test(le)?ie=se[le]:(q[le]=q[le]||t.nestedProperty(se,le).get,ie=q[le]()),t.isValidTextValue(ie)?ie:""})};var B={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ne.apply(B,arguments)};var N={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ne.apply(N,arguments)};var V=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W(ee){var se=ee.match(V);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:ee,op:null,number:null}}var Q={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ne.apply(Q,arguments)};var re=/^[:|\|]/;function ne(ee,se,q){var K=this,le=arguments;se||(se={});var ie={};return ee.replace(t.TEMPLATE_STRING_REGEX,function(he,ye,Ce){var Ae=ye==="xother"||ye==="yother",ke=ye==="_xother"||ye==="_yother",we=ye==="_xother_"||ye==="_yother_",Ee=ye==="xother_"||ye==="yother_",xe=Ae||ke||Ee||we,Re=ye;(ke||we)&&(Re=Re.substring(1)),(Ee||we)&&(Re=Re.substring(0,Re.length-1));var Ve=null,Ue=null;if(K.parseMultDiv){var Be=W(Re);Re=Be.key,Ve=Be.op,Ue=Be.number}var Xe;if(xe){if(Xe=se[Re],Xe===void 0)return""}else{var ut,dt;for(dt=3;dt<le.length;dt++)if(ut=le[dt],!!ut){if(ut.hasOwnProperty(Re)){Xe=ut[Re];break}if(z.test(Re)||(Xe=t.nestedProperty(ut,Re).get(),Xe=ie[Re]||t.nestedProperty(ut,Re).get(),Xe&&(ie[Re]=Xe)),Xe!==void 0)break}}if(Xe!==void 0&&(Ve==="*"&&(Xe*=Ue),Ve==="/"&&(Xe/=Ue)),Xe===void 0&&K)return K.count<K.max&&(t.warn("Variable '"+Re+"' in "+K.name+" could not be found!"),Xe=he),K.count===K.max&&t.warn("Too many "+K.name+" warnings - additional warnings will be suppressed"),K.count++,he;if(Ce){var at;if(Ce[0]===":"&&(at=q?q.numberFormat:t.numberFormat,Xe!==""&&(Xe=at(Ce.replace(re,""))(Xe))),Ce[0]==="|"){at=q?q.timeFormat:P;var We=t.dateTime2ms(Xe);Xe=t.formatDate(We,Ce.replace(re,""),!1,at)}}else{var rt=Re+"Label";se.hasOwnProperty(rt)&&(Xe=se[rt])}return xe&&(Xe="("+Xe+")",(ke||we)&&(Xe=" "+Xe),(Ee||we)&&(Xe=Xe+" ")),Xe})}var fe=48,$=57;t.subplotSort=function(ee,se){for(var q=Math.min(ee.length,se.length)+1,K=0,le=0,ie=0;ie<q;ie++){var he=ee.charCodeAt(ie)||0,ye=se.charCodeAt(ie)||0,Ce=he>=fe&&he<=$,Ae=ye>=fe&&ye<=$;if(Ce&&(K=10*K+he-fe),Ae&&(le=10*le+ye-fe),!Ce||!Ae){if(K!==le)return K-le;if(he!==ye)return he-ye}}return le-K};var X=2e9;t.seedPseudoRandom=function(){X=2e9},t.pseudoRandom=function(){var ee=X;return X=(69069*X+1)%4294967296,Math.abs(X-ee)<429496729?t.pseudoRandom():X/4294967296},t.fillText=function(ee,se,q){var K=Array.isArray(q)?function(he){q.push(he)}:function(he){q.text=he},le=t.extractOption(ee,se,"htx","hovertext");if(t.isValidTextValue(le))return K(le);var ie=t.extractOption(ee,se,"tx","text");if(t.isValidTextValue(ie))return K(ie)},t.isValidTextValue=function(ee){return ee||ee===0},t.formatPercent=function(ee,se){se=se||0;for(var q=(Math.round(100*ee*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",K=0;K<se;K++)q.indexOf(".")!==-1&&(q=q.replace("0%","%"),q=q.replace(".%","%"));return q},t.isHidden=function(ee){var se=window.getComputedStyle(ee).display;return!se||se==="none"},t.strTranslate=function(ee,se){return ee||se?"translate("+ee+","+se+")":""},t.strRotate=function(ee){return ee?"rotate("+ee+")":""},t.strScale=function(ee){return ee!==1?"scale("+ee+")":""},t.getTextTransform=function(ee){var se=ee.noCenter,q=ee.textX,K=ee.textY,le=ee.targetX,ie=ee.targetY,he=ee.anchorX||0,ye=ee.anchorY||0,Ce=ee.rotate,Ae=ee.scale;return Ae?Ae>1&&(Ae=1):Ae=0,t.strTranslate(le-Ae*(q+he),ie-Ae*(K+ye))+t.strScale(Ae)+(Ce?"rotate("+Ce+(se?"":" "+q+" "+K)+")":"")},t.setTransormAndDisplay=function(ee,se){ee.attr("transform",t.getTextTransform(se)),ee.style("display",se.scale?null:"none")},t.ensureUniformFontSize=function(ee,se){var q=t.extendFlat({},se);return q.size=Math.max(se.size,ee._fullLayout.uniformtext.minsize||0),q},t.join2=function(ee,se,q){var K=ee.length;return K>1?ee.slice(0,-1).join(se)+q+ee[K-1]:ee.join(se)},t.bigFont=function(ee){return Math.round(1.2*ee)};var oe=t.getFirefoxVersion(),Y=oe!==null&&oe<86;t.getPositionFromD3Event=function(){return Y?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},63620:function(H){H.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(H,j,e){var g=e(22296),P=/^\w*$/,a=0,x=1,w=2,v=3,p=4;H.exports=function(t,i,n,u){n=n||"name",u=u||"value";var f,l,y,h={};i&&i.length?(y=g(t,i),l=y.get()):l=t,i=i||"";var M={};if(l)for(f=0;f<l.length;f++)M[l[f][n]]=f;var c=P.test(u),o={set:function(d,T){var S=T===null?p:a;if(!l){if(!y||S===p)return;l=[],y.set(l)}var C=M[d];if(C===void 0){if(S===p)return;S=S|v,C=l.length,M[d]=C}else T!==(c?l[C][u]:g(l[C],u).get())&&(S=S|w);var m=l[C]=l[C]||{};return m[n]=d,c?m[u]=T:g(m,u).set(T),T!==null&&(S=S&~p),h[C]=h[C]|S,o},get:function(d){if(l){var T=M[d];if(T!==void 0)return c?l[T][u]:g(l[T],u).get()}},rename:function(d,T){var S=M[d];return S===void 0||(h[S]=h[S]|x,M[T]=S,delete M[d],l[S][n]=T),o},remove:function(d){var T=M[d];if(T===void 0)return o;var S=l[T];if(Object.keys(S).length>2)return h[T]=h[T]|w,o.set(d,null);if(c){for(f=T;f<l.length;f++)h[f]=h[f]|v;for(f=T;f<l.length;f++)M[l[f][n]]--;l.splice(T,1),delete M[d]}else g(S,u).set(null),h[T]=h[T]|w|p;return o},constructUpdate:function(){for(var d,T,S={},C=Object.keys(h),m=0;m<C.length;m++)T=C[m],d=i+"["+T+"]",l[T]?(h[T]&x&&(S[d+"."+n]=l[T][n]),h[T]&w&&(c?S[d+"."+u]=h[T]&p?null:l[T][u]:S[d+"."+u]=h[T]&p?null:g(l[T],u).get())):S[d]=null;return S}};return o}},98356:function(H,j,e){var g=e(24040);H.exports=function(a,x){for(var w=a._context.locale,v=0;v<2;v++){for(var p=a._context.locales,r=0;r<2;r++){var t=(p[w]||{}).dictionary;if(t){var i=t[x];if(i)return i}p=g.localeRegistry}var n=w.split("-")[0];if(n===w)break;w=n}return x}},24248:function(H,j,e){var g=e(20556).dfltConfig,P=e(41792),a=H.exports={};a.log=function(){var x;if(g.logging>1){var w=["LOG:"];for(x=0;x<arguments.length;x++)w.push(arguments[x]);console.trace.apply(console,w)}if(g.notifyOnLogging>1){var v=[];for(x=0;x<arguments.length;x++)v.push(arguments[x]);P(v.join("<br>"),"long")}},a.warn=function(){var x;if(g.logging>0){var w=["WARN:"];for(x=0;x<arguments.length;x++)w.push(arguments[x]);console.trace.apply(console,w)}if(g.notifyOnLogging>0){var v=[];for(x=0;x<arguments.length;x++)v.push(arguments[x]);P(v.join("<br>"),"stick")}},a.error=function(){var x;if(g.logging>0){var w=["ERROR:"];for(x=0;x<arguments.length;x++)w.push(arguments[x]);console.error.apply(console,w)}if(g.notifyOnLogging>0){var v=[];for(x=0;x<arguments.length;x++)v.push(arguments[x]);P(v.join("<br>"),"stick")}}},30988:function(H,j,e){var g=e(33428);H.exports=function(a,x,w){var v=a.selectAll("g."+w.replace(/\s/g,".")).data(x,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",w),v.order();var p=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=g.select(this)}),v}},52248:function(H,j,e){var g=e(36524);j.init2dArray=function(P,a){for(var x=new Array(P),w=0;w<P;w++)x[w]=new Array(a);return x},j.transposeRagged=function(P){var a=0,x=P.length,w,v;for(w=0;w<x;w++)a=Math.max(a,P[w].length);var p=new Array(a);for(w=0;w<a;w++)for(p[w]=new Array(x),v=0;v<x;v++)p[w][v]=P[v][w];return p},j.dot=function(P,a){if(!(P.length&&a.length)||P.length!==a.length)return null;var x=P.length,w,v;if(P[0].length)for(w=new Array(x),v=0;v<x;v++)w[v]=j.dot(P[v],a);else if(a[0].length){var p=j.transposeRagged(a);for(w=new Array(p.length),v=0;v<p.length;v++)w[v]=j.dot(P,p[v])}else for(w=0,v=0;v<x;v++)w+=P[v]*a[v];return w},j.translationMatrix=function(P,a){return[[1,0,P],[0,1,a],[0,0,1]]},j.rotationMatrix=function(P){var a=P*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},j.rotationXYMatrix=function(P,a,x){return j.dot(j.dot(j.translationMatrix(a,x),j.rotationMatrix(P)),j.translationMatrix(-a,-x))},j.apply3DTransform=function(P){return function(){var a=arguments,x=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return j.dot(P,[x[0],x[1],x[2],1]).slice(0,3)}},j.apply2DTransform=function(P){return function(){var a=arguments;a.length===3&&(a=a[0]);var x=arguments.length===1?a[0]:[a[0],a[1]];return j.dot(P,[x[0],x[1],1]).slice(0,2)}},j.apply2DTransform2=function(P){var a=j.apply2DTransform(P);return function(x){return a(x.slice(0,2)).concat(a(x.slice(2,4)))}},j.convertCssMatrix=function(P){if(P){var a=P.length;if(a===16)return P;if(a===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},j.inverseTransformMatrix=function(P){var a=[];return g.invert(a,P),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},20435:function(H){function j(g,P){var a=g%P;return a<0?a+P:a}function e(g,P){return Math.abs(g)>P/2?g-Math.round(g/P)*P:g}H.exports={mod:j,modHalf:e}},22296:function(H,j,e){var g=e(38248),P=e(38116).isArrayOrTypedArray;H.exports=function(u,f){if(g(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var l=f.split("."),y,h,M,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(y=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])l[c]=y[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=y[2].substr(1,y[2].length-2).split("]["),M=0;M<h.length;M++)c++,l.splice(c,0,Number(h[M]))}c++}return typeof u!="object"?i(u,f,l):{set:v(u,l,f),get:a(u,l),astr:f,parts:l,obj:u}};function a(n,u){return function(){var f=n,l,y,h,M,c;for(M=0;M<u.length-1;M++){if(l=u[M],l===-1){for(y=!0,h=[],c=0;c<f.length;c++)h[c]=a(f[c],u.slice(M+1))(),h[c]!==h[0]&&(y=!1);return y?h[0]:h}if(typeof l=="number"&&!P(f)||(f=f[l],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(h=f[u[M]],h!==null))return h}}var x=/(^|\.)args\[/;function w(n,u){return n===void 0||n===null&&!u.match(x)}function v(n,u,f){return function(l){var y=n,h="",M=w(l,f),c,o;for(o=0;o<u.length-1;o++){if(c=u[o],typeof c=="number"&&!P(y))throw"array index but container is not an array";if(c===-1){if(M=!r(y,u.slice(o+1),l,f),M)break;return}if(!t(y,c,u[o+1],M))break;if(y=y[c],typeof y!="object"||y===null)throw"container is not an object";h=p(h,c)}if(M){if(o===u.length-1&&(delete y[u[o]],Array.isArray(y)&&+u[o]===y.length-1))for(;y.length&&y[y.length-1]===void 0;)y.pop()}else y[u[o]]=l}}function p(n,u){var f=u;return g(u)?f="["+u+"]":n&&(f="."+u),n+f}function r(n,u,f,l){var y=P(f),h=!0,M=f,c=l.replace("-1",0),o=y?!1:w(f,c),d=u[0],T;for(T=0;T<n.length;T++)c=l.replace("-1",T),y&&(M=f[T%f.length],o=w(M,c)),o&&(h=!1),t(n,T,d,o)&&v(n[T],u,l.replace("-1",T))(M);return h}function t(n,u,f,l){if(n[u]===void 0){if(l)return!1;typeof f=="number"?n[u]=[]:n[u]={}}return!0}function i(n,u,f){return{set:function(){throw"bad container"},get:function(){},astr:u,parts:f,obj:n}}},16628:function(H){H.exports=function(){}},41792:function(H,j,e){var g=e(33428),P=e(38248),a=[];H.exports=function(x,w){if(a.indexOf(x)!==-1)return;a.push(x);var v=1e3;P(w)?v=w:w==="long"&&(v=3e3);var p=g.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(a);function t(i){i.duration(700).style("opacity",0).each("end",function(n){var u=a.indexOf(n);u!==-1&&a.splice(u,1),g.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var u=n.append("p"),f=i.split(/<br\s*\/?>/g),l=0;l<f.length;l++)l&&u.append("br"),u.append("span").text(f[l]);w==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(H,j,e){var g=e(93972),P="data-savedcursor",a="!!";H.exports=function(w,v){var p=w.attr(P);if(v){if(!p){for(var r=(w.attr("class")||"").split(" "),t=0;t<r.length;t++){var i=r[t];i.indexOf("cursor-")===0&&w.attr(P,i.substr(7)).classed(i,!1)}w.attr(P)||w.attr(P,a)}g(w,v)}else p&&(w.attr(P,null),p===a?g(w):g(w,p))}},92065:function(H,j,e){var g=e(52248).dot,P=e(39032).BADNUM,a=H.exports={};a.tester=function(w){var v=w.slice(),p=v[0][0],r=p,t=v[0][1],i=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),i=Math.max(i,v[n][1]);var u=!1,f;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(u=!0,f=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(u=!0,f=function(c){return c[1]===v[0][1]}));function l(c,o){var d=c[0],T=c[1];return!(d===P||d<p||d>r||T===P||T<t||T>i||o&&f(c))}function y(c,o){var d=c[0],T=c[1];if(d===P||d<p||d>r||T===P||T<t||T>i)return!1;var S=v.length,C=v[0][0],m=v[0][1],E=0,b,s,L,A,k;for(b=1;b<S;b++)if(s=C,L=m,C=v[b][0],m=v[b][1],A=Math.min(s,C),!(d<A||d>Math.max(s,C)||T>Math.max(L,m)))if(T<Math.min(L,m))d!==A&&E++;else{if(C===s?k=T:k=L+(d-s)*(m-L)/(C-s),T===k)return!(b===1&&o);T<=k&&d!==A&&E++}return E%2===1}var h=!0,M=v[0];for(n=1;n<v.length;n++)if(M[0]!==v[n][0]||M[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:i,pts:v,contains:u?l:y,isRect:u,degenerate:h}},a.isSegmentBent=function(w,v,p,r){var t=w[v],i=[w[p][0]-t[0],w[p][1]-t[1]],n=g(i,i),u=Math.sqrt(n),f=[-i[1]/u,i[0]/u],l,y,h;for(l=v+1;l<p;l++)if(y=[w[l][0]-t[0],w[l][1]-t[1]],h=g(y,i),h<0||h>n||Math.abs(g(y,f))>r)return!0;return!1},a.filter=function(w,v){var p=[w[0]],r=0,t=0;function i(u){w.push(u);var f=p.length,l=r;p.splice(t+1);for(var y=l+1;y<w.length;y++)(y===w.length-1||a.isSegmentBent(w,l,y+1,v))&&(p.push(w[y]),p.length<f-2&&(r=y,t=p.length-1),l=y)}if(w.length>1){var n=w.pop();i(n)}return{addPt:i,raw:w,filtered:p}}},5048:function(H,j,e){var g=e(16576),P=e(28624);H.exports=function(x,w,v){var p=x._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:x._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:w||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(i){x&&x.emit&&x.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),r||g({container:p._glcontainer.node()}),r}},34296:function(H,j,e){var g=e(38248),P=e(25928);H.exports=function(w){var v;if(w&&w.hasOwnProperty("userAgent")?v=w.userAgent:v=a(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var i=r[t];if(i.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var u=r[n];if(u.substr(0,8)==="Version/"){var f=u.substr(8).split(".")[0];if(g(f)&&(f=+f),f>=13)return!0}}}return p};function a(){var x;return typeof navigator<"u"&&(x=navigator.userAgent),x&&x.headers&&typeof x.headers["user-agent"]=="string"&&(x=x.headers["user-agent"]),x}},52416:function(H){H.exports=function(e,g){if(g instanceof RegExp){for(var P=g.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===P)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},94552:function(H,j,e){var g=e(3400),P=e(20556).dfltConfig;function a(w,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===w?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?g.extendDeep([],r):g.extendDeepAll({},r):p[t]=r;return p}var x={};x.add=function(w,v,p,r,t){var i,n;if(w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},n=w.undoQueue.index,w.autoplay){w.undoQueue.inSequence||(w.autoplay=!1);return}!w.undoQueue.sequence||w.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},w.undoQueue.queue.splice(n,w.undoQueue.queue.length-n,i),w.undoQueue.index+=1):i=w.undoQueue.queue[n-1],w.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(v),i.undo.args.unshift(p),i.redo.calls.push(r),i.redo.args.push(t)),w.undoQueue.queue.length>P.queueLength&&(w.undoQueue.queue.shift(),w.undoQueue.index--)},x.startSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!0,w.undoQueue.beginSequence=!0},x.stopSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!1,w.undoQueue.beginSequence=!1},x.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)x.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},x.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)x.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},x.plotDo=function(w,v,p){w.autoplay=!0,p=a(w,p),v.apply(null,p)},H.exports=x},53756:function(H,j){j.counter=function(e,g,P,a){var x=(g||"")+(P?"":"$"),w=a===!1?"":"^";return e==="xy"?new RegExp(w+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+x):new RegExp(w+e+"([2-9]|[1-9][0-9]+)?"+x)}},23193:function(H){var j=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;H.exports=function(g,P){for(;P;){var a=g.match(j);if(a)g=a[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return g&&P.charAt(0)!=="["?g+"."+P:g+P}},51528:function(H,j,e){var g=e(38116).isArrayOrTypedArray,P=e(63620);H.exports=function a(x,w){for(var v in w){var p=w[v],r=x[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in x)continue;x[v]=p}else if(g(p)&&g(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),i=0;i<t;i++)r[i]!==p[i]&&P(p[i])&&P(r[i])&&a(r[i],p[i])}else P(p)&&P(r)&&(a(r,p),Object.keys(r).length||delete x[v])}}},14952:function(H,j,e){var g=e(38248),P=e(24248),a=e(35536),x=e(39032).BADNUM,w=1e-9;j.findBin=function(i,n,u){if(g(n.start))return u?Math.ceil((i-n.start)/n.size-w)-1:Math.floor((i-n.start)/n.size+w);var f=0,l=n.length,y=0,h=l>1?(n[l-1]-n[0])/(l-1):1,M,c;for(h>=0?c=u?v:p:c=u?t:r,i+=h*w*(u?-1:1)*(h>=0?1:-1);f<l&&y++<100;)M=Math.floor((f+l)/2),c(n[M],i)?f=M+1:l=M;return y>90&&P.log("Long binary search..."),f-1};function v(i,n){return i<n}function p(i,n){return i<=n}function r(i,n){return i>n}function t(i,n){return i>=n}j.sorterAsc=function(i,n){return i-n},j.sorterDes=function(i,n){return n-i},j.distinctVals=function(i){var n=i.slice();n.sort(j.sorterAsc);var u;for(u=n.length-1;u>-1&&n[u]===x;u--);for(var f=n[u]-n[0]||1,l=f/(u||1)/1e4,y=[],h,M=0;M<=u;M++){var c=n[M],o=c-h;h===void 0?(y.push(c),h=c):o>l&&(f=Math.min(f,o),y.push(c),h=c)}return{vals:y,minDiff:f}},j.roundUp=function(i,n,u){for(var f=0,l=n.length-1,y,h=0,M=u?0:1,c=u?1:0,o=u?Math.ceil:Math.floor;f<l&&h++<100;)y=o((f+l)/2),n[y]<=i?f=y+M:l=y-c;return n[f]},j.sort=function(i,n){for(var u=0,f=0,l=1;l<i.length;l++){var y=n(i[l],i[l-1]);if(y<0?u=1:y>0&&(f=1),u&&f)return i.sort(n)}return f?i:i.reverse()},j.findIndexOfMin=function(i,n){n=n||a;for(var u=1/0,f,l=0;l<i.length;l++){var y=n(i[l]);y<u&&(u=y,f=l)}return f}},93972:function(H){H.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),g&&e.classed("cursor-"+g,!0)}},16576:function(H,j,e){var g=e(76308),P=function(){};H.exports=function(x){for(var w in x)typeof x[w]=="function"&&(x[w]=P);x.destroy=function(){x.container.parentNode.removeChild(x.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),x.container.appendChild(v),x.container.style.background="#FFFFFF",x.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(H){H.exports=function(e){return Object.keys(e).sort()}},63084:function(H,j,e){var g=e(38248),P=e(38116).isArrayOrTypedArray;j.aggNums=function(a,x,w,v){var p,r;if((!v||v>w.length)&&(v=w.length),g(x)||(x=!1),P(w[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=j.aggNums(a,x,w[p]);w=r}for(p=0;p<v;p++)g(x)?g(w[p])&&(x=a(+x,+w[p])):x=w[p];return x},j.len=function(a){return j.aggNums(function(x){return x+1},0,a)},j.mean=function(a,x){return x||(x=j.len(a)),j.aggNums(function(w,v){return w+v},0,a)/x},j.midRange=function(a){if(!(a===void 0||a.length===0))return(j.aggNums(Math.max,null,a)+j.aggNums(Math.min,null,a))/2},j.variance=function(a,x,w){return x||(x=j.len(a)),g(w)||(w=j.mean(a,x)),j.aggNums(function(v,p){return v+Math.pow(p-w,2)},0,a)/x},j.stdev=function(a,x,w){return Math.sqrt(j.variance(a,x,w))},j.median=function(a){var x=a.slice().sort();return j.interp(x,.5)},j.interp=function(a,x){if(!g(x))throw"n should be a finite number";if(x=x*a.length-.5,x<0)return a[0];if(x>a.length-1)return a[a.length-1];var w=x%1;return w*a[Math.ceil(x)]+(1-w)*a[Math.floor(x)]}},43080:function(H,j,e){var g=e(72160);function P(a){return a?g(a):[0,0,0,1]}H.exports=P},9188:function(H,j,e){var g=e(2264),P=e(43616),a=e(3400),x=null;function w(){if(x!==null)return x;x=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(g.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")x=p.some(function(u){return r.apply(null,u)});else{var t=P.tester.append("image").attr("style",g.STYLE),i=window.getComputedStyle(t.node()),n=i.imageRendering;x=p.some(function(u){var f=u[1];return n===f||n===f.toLowerCase()}),t.remove()}}return x}H.exports=w},72736:function(H,j,e){var g=e(33428),P=e(3400),a=P.strTranslate,x=e(9616),w=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;j.convertToTspans=function(B,N,V){var W=B.text(),Q=!B.attr("data-notex")&&N&&N._context.typesetMath&&typeof MathJax<"u"&&W.match(v),re=g.select(B.node().parentNode);if(re.empty())return;var ne=B.attr("class")?B.attr("class").split(" ")[0]:"text";ne+="-math",re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove(),B.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function fe(){re.empty()||(ne=B.attr("class")+"-math",re.select("svg."+ne).remove()),B.text("").style("white-space","pre");var $=_(B.node(),W);$&&B.style("pointer-events","all"),j.positionText(B),V&&V.call(B)}return Q?(N&&N._promises||[]).push(new Promise(function($){B.style("display","none");var X=parseInt(B.node().style.fontSize,10),oe={fontSize:X};n(Q[2],oe,function(Y,ee,se){re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove();var q=Y&&Y.select("svg");if(!q||!q.node()){fe(),$();return}var K=re.append("g").classed(ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});K.node().appendChild(q.node()),ee&&ee.node()&&q.node().insertBefore(ee.node().cloneNode(!0),q.node().firstChild);var le=se.width,ie=se.height;q.attr({class:ne,height:ie,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=B.node().style.fill||"black",ye=q.select("g");ye.attr({fill:he,stroke:he});var Ce=ye.node().getBoundingClientRect(),Ae=Ce.width,ke=Ce.height;(Ae>le||ke>ie)&&(q.style("overflow","hidden"),Ce=q.node().getBoundingClientRect(),Ae=Ce.width,ke=Ce.height);var we=+B.attr("x"),Ee=+B.attr("y"),xe=X||B.node().getBoundingClientRect().height,Re=-xe/4;if(ne[0]==="y")K.attr({transform:"rotate("+[-90,we,Ee]+")"+a(-Ae/2,Re-ke/2)});else if(ne[0]==="l")Ee=Re-ke/2;else if(ne[0]==="a"&&ne.indexOf("atitle")!==0)we=0,Ee=Re;else{var Ve=B.attr("text-anchor");we=we-Ae*(Ve==="middle"?.5:Ve==="end"?1:0),Ee=Ee+Re-ke/2}q.attr({x:we,y:Ee}),V&&V.call(B,K),$(K)})})):fe(),B};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(B){return B.replace(p,"\\lt ").replace(r,"\\gt ")}var i=[["$","$"],["\\(","\\)"]];function n(B,N,V){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){P.warn("No MathJax version:",MathJax.version);return}var Q,re,ne,fe,$=function(){return re=P.extendDeepAll({},MathJax.Hub.config),ne=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},X=function(){re=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i},oe=function(){if(Q=MathJax.Hub.config.menuSettings.renderer,Q!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){Q=MathJax.config.startup.output,Q!=="svg"&&(MathJax.config.startup.output="svg")},ee=function(){var he="math-output-"+P.randstr({},64);fe=g.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":N.fontSize+"px"}).text(t(B));var ye=fe.node();return W===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},se=function(){var he=fe.select(W===2?".MathJax_SVG":".MathJax"),ye=!he.empty()&&fe.select("svg").node();if(!ye)P.log("There was an error in the tex syntax.",B),V();else{var Ce=ye.getBoundingClientRect(),Ae;W===2?Ae=g.select("body").select("#MathJax_SVG_glyphs"):Ae=he.select("defs"),V(he,Ae,Ce)}fe.remove()},q=function(){if(Q!=="SVG")return MathJax.Hub.setRenderer(Q)},K=function(){Q!=="svg"&&(MathJax.config.startup.output=Q)},le=function(){return ne!==void 0&&(MathJax.Hub.processSectionDelay=ne),MathJax.Hub.Config(re)},ie=function(){MathJax.config=re};W===2?MathJax.Hub.Queue($,oe,ee,se,q,le):W===3&&(X(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ee(),se(),K(),ie()}))}var u={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},y="​",h=["http:","https:","mailto:","",void 0,":"],M=j.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;j.BR_TAG_ALL=/<br(\s+.*)?>/gi;var T=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,S=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(B,N){if(!B)return null;var V=B.match(N),W=V&&(V[3]||V[4]);return W&&A(W)}var b=/(^|;)\s*color:/;j.plainText=function(B,N){N=N||{};for(var V=N.len!==void 0&&N.len!==-1?N.len:1/0,W=N.allowedTags!==void 0?N.allowedTags:["br"],Q="...",re=Q.length,ne=B.split(c),fe=[],$="",X=0,oe=0;oe<ne.length;oe++){var Y=ne[oe],ee=Y.match(o),se=ee&&ee[2].toLowerCase();if(se)W.indexOf(se)!==-1&&(fe.push(Y),$=se);else{var q=Y.length;if(X+q<V)fe.push(Y),X+=q;else if(X<V){var K=V-X;$&&($!=="br"||K<=re||q<=re)&&fe.pop(),V>re?fe.push(Y.substr(0,K-re)+Q):fe.push(Y.substr(0,K));break}$=""}}return fe.join("")};var s={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},L=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function A(B){return B.replace(L,function(N,V){var W;return V.charAt(0)==="#"?W=k(V.charAt(1)==="x"?parseInt(V.substr(2),16):parseInt(V.substr(1),10)):W=s[V],W||N})}j.convertEntities=A;function k(B){if(!(B>1114111)){var N=String.fromCodePoint;if(N)return N(B);var V=String.fromCharCode;return B<=65535?V(B):V((B>>10)+55232,B%1024+56320)}}function _(B,N){N=N.replace(M," ");var V=!1,W=[],Q,re=-1;function ne(){re++;var ke=document.createElementNS(x.svg,"tspan");g.select(ke).attr({class:"line",dy:re*w+"em"}),B.appendChild(ke),Q=ke;var we=W;if(W=[{node:ke}],we.length>1)for(var Ee=1;Ee<we.length;Ee++)fe(we[Ee])}function fe(ke){var we=ke.type,Ee={},xe;if(we==="a"){xe="a";var Re=ke.target,Ve=ke.href,Ue=ke.popup;Ve&&(Ee={"xlink:xlink:show":Re==="_blank"||Re.charAt(0)!=="_"?"new":"replace",target:Re,"xlink:xlink:href":Ve},Ue&&(Ee.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ue+'");return false;'))}else xe="tspan";ke.style&&(Ee.style=ke.style);var Be=document.createElementNS(x.svg,xe);if(we==="sup"||we==="sub"){$(Q,y),Q.appendChild(Be);var Xe=document.createElementNS(x.svg,"tspan");$(Xe,y),g.select(Xe).attr("dy",l[we]),Ee.dy=f[we],Q.appendChild(Be),Q.appendChild(Xe)}else Q.appendChild(Be);g.select(Be).attr(Ee),Q=ke.node=Be,W.push(ke)}function $(ke,we){ke.appendChild(document.createTextNode(we))}function X(ke){if(W.length===1){P.log("Ignoring unexpected end tag </"+ke+">.",N);return}var we=W.pop();ke!==we.type&&P.log("Start tag <"+we.type+"> doesnt match end tag <"+ke+">. Pretending it did match.",N),Q=W[W.length-1].node}var oe=d.test(N);oe?ne():(Q=B,W=[{node:B}]);for(var Y=N.split(c),ee=0;ee<Y.length;ee++){var se=Y[ee],q=se.match(o),K=q&&q[2].toLowerCase(),le=u[K];if(K==="br")ne();else if(le===void 0)$(Q,A(se));else if(q[1])X(K);else{var ie=q[4],he={type:K},ye=E(ie,T);if(ye?(ye=ye.replace(b,"$1 fill:"),le&&(ye+=";"+le)):le&&(ye=le),ye&&(he.style=ye),K==="a"){V=!0;var Ce=E(ie,S);if(Ce){var Ae=U(Ce);Ae&&(he.href=Ae,he.target=E(ie,C)||"_blank",he.popup=E(ie,m))}}fe(he)}}return V}function U(B){var N=encodeURI(decodeURI(B)),V=document.createElement("a"),W=document.createElement("a");V.href=B,W.href=N;var Q=V.protocol,re=W.protocol;return h.indexOf(Q)!==-1&&h.indexOf(re)!==-1?N:""}j.sanitizeHTML=function(N){N=N.replace(M," ");for(var V=document.createElement("p"),W=V,Q=[],re=N.split(c),ne=0;ne<re.length;ne++){var fe=re[ne],$=fe.match(o),X=$&&$[2].toLowerCase();if(X in u)if($[1])Q.length&&(W=Q.pop());else{var oe=$[4],Y=E(oe,T),ee=Y?{style:Y}:{};if(X==="a"){var se=E(oe,S);if(se){var q=U(se);if(q){ee.href=q;var K=E(oe,C);K&&(ee.target=K)}}}var le=document.createElement(X);W.appendChild(le),g.select(le).attr(ee),W=le,Q.push(le)}else W.appendChild(document.createTextNode(A(fe)))}var ie="innerHTML";return V[ie]},j.lineCount=function(N){return N.selectAll("tspan.line").size()||1},j.positionText=function(N,V,W){return N.each(function(){var Q=g.select(this);function re($,X){return X===void 0?(X=Q.attr($),X===null&&(Q.attr($,0),X=0)):Q.attr($,X),X}var ne=re("x",V),fe=re("y",W);this.nodeName==="text"&&Q.selectAll("tspan.line").attr({x:ne,y:fe})})};function F(B,N,V){var W=V.horizontalAlign,Q=V.verticalAlign||"top",re=B.node().getBoundingClientRect(),ne=N.node().getBoundingClientRect(),fe,$,X;return Q==="bottom"?$=function(){return re.bottom-fe.height}:Q==="middle"?$=function(){return re.top+(re.height-fe.height)/2}:$=function(){return re.top},W==="right"?X=function(){return re.right-fe.width}:W==="center"?X=function(){return re.left+(re.width-fe.width)/2}:X=function(){return re.left},function(){fe=this.node().getBoundingClientRect();var oe=X()-ne.left,Y=$()-ne.top,ee=V.gd||{};if(V.gd){ee._fullLayout._calcInverseTransform(ee);var se=P.apply3DTransform(ee._fullLayout._invTransform)(oe,Y);oe=se[0],Y=se[1]}return this.style({top:Y+"px",left:oe+"px","z-index":1e3}),this}}var z="1px ";j.makeTextShadow=function(B){var N=z,V=z,W=z;return N+V+W+B+", -"+N+"-"+V+W+B+", "+N+"-"+V+W+B+", -"+N+V+W+B},j.makeEditable=function(B,N){var V=N.gd,W=N.delegate,Q=g.dispatch("edit","input","cancel"),re=W||B;if(B.style({"pointer-events":W?"none":"all"}),B.size()!==1)throw new Error("boo");function ne(){$(),B.style({opacity:0});var X=re.attr("class"),oe;X?oe="."+X.split(" ")[0]+"-math-group":oe="[class*=-math-group]",oe&&g.select(B.node().parentNode).select(oe).style({opacity:0})}function fe(X){var oe=X.node(),Y=document.createRange();Y.selectNodeContents(oe);var ee=window.getSelection();ee.removeAllRanges(),ee.addRange(Y),oe.focus()}function $(){var X=g.select(V),oe=X.select(".svg-container"),Y=oe.append("div"),ee=B.node().style,se=parseFloat(ee.fontSize||12),q=N.text;q===void 0&&(q=B.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ee.fontFamily||"Arial","font-size":se,color:N.fill||ee.fill||"black",opacity:1,"background-color":N.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(q).call(F(B,oe,N)).on("blur",function(){V._editing=!1,B.text(this.textContent).style({opacity:1});var K=g.select(this).attr("class"),le;K?le="."+K.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&g.select(B.node().parentNode).select(le).style({opacity:0});var ie=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),Q.edit.call(B,ie)}).on("focus",function(){var K=this;V._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===K)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){g.event.which===27?(V._editing=!1,B.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Q.cancel.call(B,this.textContent)):(Q.input.call(B,this.textContent),g.select(this).call(F(B,oe,N)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(fe)}return N.immediate?ne():re.on("click",ne),g.rebind(B,Q,"on")}},91200:function(H,j){var e={};j.throttle=function(a,x,w){var v=e[a],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[a]={ts:0,timer:null}}g(v);function t(){w(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+x){t();return}v.timer=setTimeout(function(){t(),v.timer=null},x)},j.done=function(P){var a=e[P];return!a||!a.timer?Promise.resolve():new Promise(function(x){var w=a.onDone;a.onDone=function(){w&&w(),x(),a.onDone=null}})},j.clear=function(P){if(P)g(e[P]),delete e[P];else for(var a in e)j.clear(a)};function g(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(H,j,e){var g=e(38248);H.exports=function(a,x){if(a>0)return Math.log(a)/Math.LN10;var w=Math.log(Math.min(x[0],x[1]))/Math.LN10;return g(w)||(w=Math.log(Math.max(x[0],x[1]))/Math.LN10-6),w}},59972:function(H,j,e){var g=H.exports={},P=e(79552).locationmodeToLayer,a=e(55712).NO;g.getTopojsonName=function(x){return[x.scope.replace(/ /g,"-"),"_",x.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(x,w){return x+w+".json"},g.getTopojsonFeatures=function(x,w){var v=P[x.locationmode],p=w.objects[v];return a(w,p).features}},11680:function(H){H.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(H){H.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(H,j,e){var g=e(24040);H.exports=function(a){for(var x=g.layoutArrayContainers,w=g.layoutArrayRegexes,v=a.split("[")[0],p,r,t=0;t<w.length;t++)if(r=a.match(w[t]),r&&r.index===0){p=r[0];break}if(p||(p=x[x.indexOf(v)]),!p)return!1;var i=a.substr(p.length);return i?(r=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(H,j,e){var g=e(92880).extendFlat,P=e(63620),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},x={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},w=a.flags.slice().concat(["fullReplot"]),v=x.flags.slice().concat("layoutReplot");H.exports={traces:a,layout:x,traceFlags:function(){return p(w)},layoutFlags:function(){return p(v)},update:function(i,n){var u=n.editType;if(u&&u!=="none")for(var f=u.split("+"),l=0;l<f.length;l++)i[f[l]]=!0},overrideAll:r};function p(i){for(var n={},u=0;u<i.length;u++)n[i[u]]=!1;return n}function r(i,n,u){var f=g({},i);for(var l in f){var y=f[l];P(y)&&(f[l]=t(y,n,u,l))}return u==="from-root"&&(f.editType=n),f}function t(i,n,u,f){if(i.valType){var l=g({},i);if(l.editType=n,Array.isArray(i.items)){l.items=new Array(i.items.length);for(var y=0;y<i.items.length;y++)l.items[y]=t(i.items[y],n)}return l}else return r(i,n,f.charAt(0)==="_"?"nested":"from-root")}},93404:function(H,j,e){var g=e(38248),P=e(61784),a=e(24040),x=e(3400),w=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,i=a.traceIs;j.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&x.log("Clearing previous rejected promises from queue."),d._promises=[]},j.cleanLayout=function(d){var T,S;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(w.subplotsRegistry.cartesian||{}).attrRegex,m=(w.subplotsRegistry.polar||{}).attrRegex,E=(w.subplotsRegistry.ternary||{}).attrRegex,b=(w.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(d);for(T=0;T<s.length;T++){var L=s[T];if(C&&C.test(L)){var A=d[L];A.anchor&&A.anchor!=="free"&&(A.anchor=r(A.anchor)),A.overlaying&&(A.overlaying=r(A.overlaying)),A.type||(A.isdate?A.type="date":A.islog?A.type="log":A.isdate===!1&&A.islog===!1&&(A.type="linear")),(A.autorange==="withzero"||A.autorange==="tozero")&&(A.autorange=!0,A.rangemode="tozero"),A.insiderange&&delete A.range,delete A.islog,delete A.isdate,delete A.categories,h(A,"domain")&&delete A.domain,A.autotick!==void 0&&(A.tickmode===void 0&&(A.tickmode=A.autotick?"auto":"linear"),delete A.autotick),u(A)}else if(m&&m.test(L)){var k=d[L];u(k.radialaxis)}else if(E&&E.test(L)){var _=d[L];u(_.aaxis),u(_.baxis),u(_.caxis)}else if(b&&b.test(L)){var U=d[L],F=U.cameraposition;if(Array.isArray(F)&&F[0].length===4){var z=F[0],B=F[1],N=F[2],V=P([],z),W=[];for(S=0;S<3;++S)W[S]=B[S]+N*V[2+4*S];U.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete U.cameraposition}u(U.xaxis),u(U.yaxis),u(U.zaxis)}}var Q=Array.isArray(d.annotations)?d.annotations.length:0;for(T=0;T<Q;T++){var re=d.annotations[T];x.isPlainObject(re)&&(re.ref&&(re.ref==="paper"?(re.xref="paper",re.yref="paper"):re.ref==="data"&&(re.xref="x",re.yref="y"),delete re.ref),n(re,"xref"),n(re,"yref"))}var ne=Array.isArray(d.shapes)?d.shapes.length:0;for(T=0;T<ne;T++){var fe=d.shapes[T];x.isPlainObject(fe)&&(n(fe,"xref"),n(fe,"yref"))}var $=Array.isArray(d.images)?d.images.length:0;for(T=0;T<$;T++){var X=d.images[T];x.isPlainObject(X)&&(n(X,"xref"),n(X,"yref"))}var oe=d.legend;return oe&&(oe.x>3?(oe.x=1.02,oe.xanchor="left"):oe.x<-2&&(oe.x=-.02,oe.xanchor="right"),oe.y>3?(oe.y=1.02,oe.yanchor="bottom"):oe.y<-2&&(oe.y=-.02,oe.yanchor="top")),u(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&j.cleanLayout(d.template.layout),d};function n(d,T){var S=d[T],C=T.charAt(0);S&&S!=="paper"&&(d[T]=r(S,C,!0))}function u(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),T("titlefont","font"),T("titleposition","position"),T("titleside","side"),T("titleoffset","offset"));function T(S,C){var m=d[S],E=d.title&&d.title[C];m&&!E&&(d.title||(d.title={}),d.title[C]=d[S],delete d[S])}}j.cleanData=function(d){for(var T=0;T<d.length;T++){var S=d[T],C;if(S.type==="histogramy"&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var m=p.defaults,E=S.error_y.color||(i(S,"bar")?p.defaultLine:m[T%m.length]);S.error_y.color=p.addOpacity(p.rgb(E),p.opacity(E)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&(S.bardir==="h"&&(i(S,"bar")||S.type.substr(0,9)==="histogram")&&(S.orientation="h",j.swapXYData(S)),delete S.bardir),S.type==="histogramy"&&j.swapXYData(S),(S.type==="histogramx"||S.type==="histogramy")&&(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=r(S.xaxis,"x")),S.yaxis&&(S.yaxis=r(S.yaxis,"y")),i(S,"gl3d")&&S.scene&&(S.scene=w.subplotsRegistry.gl3d.cleanId(S.scene)),!i(S,"pie-like")&&!i(S,"bar-like"))if(Array.isArray(S.textposition))for(C=0;C<S.textposition.length;C++)S.textposition[C]=y(S.textposition[C]);else S.textposition&&(S.textposition=y(S.textposition));var b=a.getModule(S);if(b&&b.colorbar){var s=b.colorbar.container,L=s?S[s]:S;L&&L.colorscale&&(L.colorscale==="YIGnBu"&&(L.colorscale="YlGnBu"),L.colorscale==="YIOrRd"&&(L.colorscale="YlOrRd"))}if(S.type==="surface"&&x.isPlainObject(S.contours)){var A=["x","y","z"];for(C=0;C<A.length;C++){var k=S.contours[A[C]];x.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(S.type==="candlestick"||S.type==="ohlc"){var _=(S.increasing||{}).showlegend!==!1,U=(S.decreasing||{}).showlegend!==!1,F=f(S.increasing),z=f(S.decreasing);if(F!==!1&&z!==!1){var B=l(F,z,_,U);B&&(S.name=B)}else(F||z)&&!S.name&&(S.name=F||z)}if(Array.isArray(S.transforms)){var N=S.transforms;for(C=0;C<N.length;C++){var V=N[C];if(x.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var W=V.styles,Q=Object.keys(W);V.styles=[];for(var re=0;re<Q.length;re++)V.styles.push({target:Q[re],value:W[Q[re]]})}break}}}h(S,"line")&&delete S.line,"marker"in S&&(h(S.marker,"line")&&delete S.marker.line,h(S,"marker")&&delete S.marker),p.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),u(S),S.colorbar&&u(S.colorbar),S.marker&&S.marker.colorbar&&u(S.marker.colorbar),S.line&&S.line.colorbar&&u(S.line.colorbar),S.aaxis&&u(S.aaxis),S.baxis&&u(S.baxis)}};function f(d){if(!x.isPlainObject(d))return!1;var T=d.name;return delete d.name,delete d.showlegend,(typeof T=="string"||typeof T=="number")&&String(T)}function l(d,T,S,C){if(S&&!C)return d;if(C&&!S||!d.trim())return T;if(!T.trim())return d;var m=Math.min(d.length,T.length),E;for(E=0;E<m&&d.charAt(E)===T.charAt(E);E++);var b=d.substr(0,E);return b.trim()}function y(d){var T="middle",S="center";return typeof d=="string"&&(d.indexOf("top")!==-1?T="top":d.indexOf("bottom")!==-1&&(T="bottom"),d.indexOf("left")!==-1?S="left":d.indexOf("right")!==-1&&(S="right")),T+" "+S}function h(d,T){return T in d&&typeof d[T]=="object"&&Object.keys(d[T]).length===0}j.swapXYData=function(d){var T;if(x.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var S=d.error_y,C="copy_ystyle"in S?S.copy_ystyle:!(S.color||S.thickness||S.width);x.swapAttrs(d,["error_?.copy_ystyle"]),C&&x.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var m=d.hoverinfo.split("+");for(T=0;T<m.length;T++)m[T]==="x"?m[T]="y":m[T]==="y"&&(m[T]="x");d.hoverinfo=m.join("+")}},j.coerceTraceIndices=function(d,T){if(g(T))return[T];if(!Array.isArray(T)||!T.length)return d.data.map(function(m,E){return E});if(Array.isArray(T)){for(var S=[],C=0;C<T.length;C++)x.isIndex(T[C],d.data.length)?S.push(T[C]):x.warn("trace index (",T[C],") is not a number or is out of bounds");return S}return T},j.manageArrayContainers=function(d,T,S){var C=d.obj,m=d.parts,E=m.length,b=m[E-1],s=g(b);if(s&&T===null){var L=m.slice(0,E-1).join("."),A=x.nestedProperty(C,L).get();A.splice(b,1)}else s&&d.get()===void 0&&d.get()===void 0&&(S[d.astr]=null),d.set(T)};var M=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var T=d.search(M);if(T>0)return d.substr(0,T)}j.hasParent=function(d,T){for(var S=c(T);S;){if(S in d)return!0;S=c(S)}return!1};var o=["x","y","z"];j.clearAxisTypes=function(d,T,S){for(var C=0;C<T.length;C++)for(var m=d._fullData[C],E=0;E<3;E++){var b=t(d,m,o[E]);if(b&&b.type!=="log"){var s=b._name,L=b._id.substr(1);if(L.substr(0,5)==="scene"){if(S[L]!==void 0)continue;s=L+"."+s}var A=s+".type";S[s]===void 0&&S[A]===void 0&&x.nestedProperty(d.layout,A).set(null)}}}},22448:function(H,j,e){var g=e(36424);j._doPlot=g._doPlot,j.newPlot=g.newPlot,j.restyle=g.restyle,j.relayout=g.relayout,j.redraw=g.redraw,j.update=g.update,j._guiRestyle=g._guiRestyle,j._guiRelayout=g._guiRelayout,j._guiUpdate=g._guiUpdate,j._storeDirectGUIEdit=g._storeDirectGUIEdit,j.react=g.react,j.extendTraces=g.extendTraces,j.prependTraces=g.prependTraces,j.addTraces=g.addTraces,j.deleteTraces=g.deleteTraces,j.moveTraces=g.moveTraces,j.purge=g.purge,j.addFrames=g.addFrames,j.deleteFrames=g.deleteFrames,j.animate=g.animate,j.setPlotConfig=g.setPlotConfig;var P=e(52200).getGraphDiv,a=e(4016).eraseActiveShape;j.deleteActiveShape=function(w){return a(P(w))},j.toImage=e(67024),j.validate=e(21480),j.downloadImage=e(39792);var x=e(94828);j.makeTemplate=x.makeTemplate,j.validateTemplate=x.validateTemplate},17680:function(H,j,e){var g=e(63620),P=e(16628),a=e(24248),x=e(14952).sorterAsc,w=e(24040);j.containerArrayMatch=e(69820);var v=j.isAddVal=function(t){return t==="add"||g(t)},p=j.isRemoveVal=function(t){return t===null||t==="remove"};j.applyContainerArrayChanges=function(t,i,n,u,f){var l=i.astr,y=w.getComponentMethod(l,"supplyLayoutDefaults"),h=w.getComponentMethod(l,"draw"),M=w.getComponentMethod(l,"drawOne"),c=u.replot||u.recalc||y===P||h===P,o=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",l);var T=n[""][""];if(p(T))i.set(null);else if(Array.isArray(T))i.set(T);else return a.warn("Unrecognized full array edit value",l,T),!0;return c?!1:(y(o,d),h(t),!0)}var S=Object.keys(n).map(Number).sort(x),C=i.get(),m=C||[],E=f(d,l).get(),b=[],s=-1,L=m.length,A,k,_,U,F,z,B,N;for(A=0;A<S.length;A++){if(_=S[A],U=n[_],F=Object.keys(U),z=U[""],B=v(z),_<0||_>m.length-(B?0:1)){a.warn("index out of range",l,_);continue}if(z!==void 0)F.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,_),p(z)?b.push(_):B?(z==="add"&&(z={}),m.splice(_,0,z),E&&E.splice(_,0,{})):a.warn("Unrecognized full object edit value",l,_,z),s===-1&&(s=_);else for(k=0;k<F.length;k++)N=l+"["+_+"].",f(m[_],F[k],N).set(U[F[k]])}for(A=b.length-1;A>=0;A--)m.splice(b[A],1),E&&E.splice(b[A],1);if(m.length?C||i.set(m):i.set(null),c)return!1;if(y(o,d),M!==P){var V;if(s===-1)V=S;else{for(L=Math.max(m.length,L),V=[],A=0;A<S.length&&(_=S[A],!(_>=s));A++)V.push(_);for(A=s;A<L;A++)V.push(A)}for(A=0;A<V.length;A++)M(t,V[A])}else h(t);return!0}},36424:function(H,j,e){var g=e(33428),P=e(38248),a=e(52264),x=e(3400),w=x.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),i=e(7316),n=e(54460),u=e(96312),f=e(94724),l=e(43616),y=e(76308),h=e(42464).initInteractions,M=e(9616),c=e(22676).clearOutline,o=e(20556).dfltConfig,d=e(17680),T=e(93404),S=e(39172),C=e(67824),m=e(33816).AX_NAME_PATTERN,E=0,b=5;function s(Te,ze,Je,nt){var pt;if(Te=x.getGraphDiv(Te),v.init(Te),x.isPlainObject(ze)){var yt=ze;ze=yt.data,Je=yt.layout,nt=yt.config,pt=yt.frames}var Yt=v.triggerHandler(Te,"plotly_beforeplot",[ze,Je,nt]);if(Yt===!1)return Promise.reject();!ze&&!Je&&!x.isPlotDiv(Te)&&x.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Te);function Xt(){if(pt)return j.addFrames(Te,pt)}U(Te,nt),Je||(Je={}),g.select(Te).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(Te._promises)||(Te._promises=[]);var St=(Te.data||[]).length===0&&Array.isArray(ze);Array.isArray(ze)&&(T.cleanData(ze),St?Te.data=ze:Te.data.push.apply(Te.data,ze),Te.empty=!1),(!Te.layout||St)&&(Te.layout=T.cleanLayout(Je)),i.supplyDefaults(Te);var kt=Te._fullLayout,Kt=kt._has("cartesian");kt._replotting=!0,(St||kt._shouldCreateBgLayer)&&(Me(Te),kt._shouldCreateBgLayer&&delete kt._shouldCreateBgLayer),l.initGradients(Te),l.initPatterns(Te),St&&n.saveShowSpikeInitial(Te);var mr=!Te.calcdata||Te.calcdata.length!==(Te._fullData||[]).length;mr&&i.doCalcdata(Te);for(var mt=0;mt<Te.calcdata.length;mt++)Te.calcdata[mt][0].trace=Te._fullData[mt];Te._context.responsive?Te._responsiveChartHandler||(Te._responsiveChartHandler=function(){x.isHidden(Te)||i.resize(Te)},window.addEventListener("resize",Te._responsiveChartHandler)):x.clearResponsive(Te);var Zt=x.extendFlat({},kt._size),Qt=0;function yr(){for(var Vt=kt._basePlotModules,Bt=0;Bt<Vt.length;Bt++)Vt[Bt].drawFramework&&Vt[Bt].drawFramework(Te);!kt._glcanvas&&kt._has("gl")&&(kt._glcanvas=kt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),kt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var $t=Te._context.plotGlPixelRatio;if(kt._glcanvas){kt._glcanvas.attr("width",kt.width*$t).attr("height",kt.height*$t).style("width",kt.width+"px").style("height",kt.height+"px");var fr=kt._glcanvas.data()[0].regl;if(fr&&(Math.floor(kt.width*$t)!==fr._gl.drawingBufferWidth||Math.floor(kt.height*$t)!==fr._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Qt)x.error(cr);else return x.log(cr+" Clearing graph and plotting again."),i.cleanPlot([],{},Te._fullData,kt),i.supplyDefaults(Te),kt=Te._fullLayout,i.doCalcdata(Te),Qt++,yr()}}return kt.modebar.orientation==="h"?kt._modebardiv.style("height",null).style("width","100%"):kt._modebardiv.style("width",null).style("height",kt.height+"px"),i.previousPromises(Te)}function sr(){if(i.clearAutoMarginIds(Te),S.drawMarginPushers(Te),n.allowAutoMargin(Te),Te._fullLayout.title.text&&Te._fullLayout.title.automargin&&i.allowAutoMargin(Te,"title.automargin"),kt._has("pie"))for(var Vt=Te._fullData,Bt=0;Bt<Vt.length;Bt++){var $t=Vt[Bt];$t.type==="pie"&&$t.automargin&&i.allowAutoMargin(Te,"pie."+$t.uid+".automargin")}return i.doAutoMargin(Te),i.previousPromises(Te)}function bt(){if(i.didMarginChange(Zt,kt._size))return x.syncOrAsync([sr,S.layoutStyles],Te)}function lt(){if(!mr){Tt();return}return x.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),Tt],Te)}function Tt(){Te._transitioning||(S.doAutoRangeAndConstraints(Te),St&&n.saveRangeInitial(Te),r.getComponentMethod("rangeslider","calcAutorange")(Te))}function Ct(){return n.draw(Te,St?"":"redraw")}var It=[i.previousPromises,Xt,yr,sr,bt];Kt&&It.push(lt),It.push(S.layoutStyles),Kt&&It.push(Ct,function(Bt){var $t=Bt._fullLayout._insideTickLabelsUpdaterange;if($t)return Bt._fullLayout._insideTickLabelsUpdaterange=void 0,Ce(Bt,$t).then(function(){n.saveRangeInitial(Bt,!0)})}),It.push(S.drawData,S.finalDraw,h,i.addLinks,i.rehover,i.redrag,i.reselect,i.doAutoMargin,i.previousPromises);var Dt=x.syncOrAsync(It,Te);return(!Dt||!Dt.then)&&(Dt=Promise.resolve()),Dt.then(function(){return L(Te),Te})}function L(Te){var ze=Te._fullLayout;ze._redrawFromAutoMarginCount?ze._redrawFromAutoMarginCount--:Te.emit("plotly_afterplot")}function A(Te){return x.extendFlat(o,Te)}function k(Te,ze){try{Te._fullLayout._paper.style("background",ze)}catch(Je){x.error(Je)}}function _(Te,ze){var Je=y.combine(ze,"white");k(Te,Je)}function U(Te,ze){if(!Te._context){Te._context=x.extendDeep({},o);var Je=g.select("base");Te._context._baseUrl=Je.size()&&Je.attr("href")?window.location.href.split("#")[0]:""}var nt=Te._context,pt,yt,Yt;if(ze){for(yt=Object.keys(ze),pt=0;pt<yt.length;pt++)Yt=yt[pt],!(Yt==="editable"||Yt==="edits")&&Yt in nt&&(Yt==="setBackground"&&ze[Yt]==="opaque"?nt[Yt]=_:nt[Yt]=ze[Yt]);ze.plot3dPixelRatio&&!nt.plotGlPixelRatio&&(nt.plotGlPixelRatio=nt.plot3dPixelRatio);var Xt=ze.editable;if(Xt!==void 0)for(nt.editable=Xt,yt=Object.keys(nt.edits),pt=0;pt<yt.length;pt++)nt.edits[yt[pt]]=Xt;if(ze.edits)for(yt=Object.keys(ze.edits),pt=0;pt<yt.length;pt++)Yt=yt[pt],Yt in nt.edits&&(nt.edits[Yt]=ze.edits[Yt]);nt._exportedPlot=ze._exportedPlot}nt.staticPlot&&(nt.editable=!1,nt.edits={},nt.autosizable=!1,nt.scrollZoom=!1,nt.doubleClick=!1,nt.showTips=!1,nt.showLink=!1,nt.displayModeBar=!1),nt.displayModeBar==="hover"&&!a&&(nt.displayModeBar=!0),(nt.setBackground==="transparent"||typeof nt.setBackground!="function")&&(nt.setBackground=k),nt._hasZeroHeight=nt._hasZeroHeight||Te.clientHeight===0,nt._hasZeroWidth=nt._hasZeroWidth||Te.clientWidth===0;var St=nt.scrollZoom,kt=nt._scrollZoom={};if(St===!0)kt.cartesian=1,kt.gl3d=1,kt.geo=1,kt.mapbox=1;else if(typeof St=="string"){var Kt=St.split("+");for(pt=0;pt<Kt.length;pt++)kt[Kt[pt]]=1}else St!==!1&&(kt.gl3d=1,kt.geo=1,kt.mapbox=1)}function F(Te){if(Te=x.getGraphDiv(Te),!x.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);return T.cleanData(Te.data),T.cleanLayout(Te.layout),Te.calcdata=void 0,j._doPlot(Te).then(function(){return Te.emit("plotly_redraw"),Te})}function z(Te,ze,Je,nt){return Te=x.getGraphDiv(Te),i.cleanPlot([],{},Te._fullData||[],Te._fullLayout||{}),i.purge(Te),j._doPlot(Te,ze,Je,nt)}function B(Te,ze){var Je=ze+1,nt=[],pt,yt;for(pt=0;pt<Te.length;pt++)yt=Te[pt],yt<0?nt.push(Je+yt):nt.push(yt);return nt}function N(Te,ze,Je){var nt,pt;for(nt=0;nt<ze.length;nt++){if(pt=ze[nt],pt!==parseInt(pt,10))throw new Error("all values in "+Je+" must be integers");if(pt>=Te.data.length||pt<-Te.data.length)throw new Error(Je+" must be valid indices for gd.data.");if(ze.indexOf(pt,nt+1)>-1||pt>=0&&ze.indexOf(-Te.data.length+pt)>-1||pt<0&&ze.indexOf(Te.data.length+pt)>-1)throw new Error("each index in "+Je+" must be unique.")}}function V(Te,ze,Je){if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(typeof ze>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ze)||(ze=[ze]),N(Te,ze,"currentIndices"),typeof Je<"u"&&!Array.isArray(Je)&&(Je=[Je]),typeof Je<"u"&&N(Te,Je,"newIndices"),typeof Je<"u"&&ze.length!==Je.length)throw new Error("current and new indices must be of equal length.")}function W(Te,ze,Je){var nt,pt;if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(typeof ze>"u")throw new Error("traces must be defined.");for(Array.isArray(ze)||(ze=[ze]),nt=0;nt<ze.length;nt++)if(pt=ze[nt],typeof pt!="object"||Array.isArray(pt)||pt===null)throw new Error("all values in traces array must be non-array objects");if(typeof Je<"u"&&!Array.isArray(Je)&&(Je=[Je]),typeof Je<"u"&&Je.length!==ze.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Q(Te,ze,Je,nt){var pt=x.isPlainObject(nt);if(!Array.isArray(Te.data))throw new Error("gd.data must be an array");if(!x.isPlainObject(ze))throw new Error("update must be a key:value object");if(typeof Je>"u")throw new Error("indices must be an integer or array of integers");N(Te,Je,"indices");for(var yt in ze){if(!Array.isArray(ze[yt])||ze[yt].length!==Je.length)throw new Error("attribute "+yt+" must be an array of length equal to indices array length");if(pt&&(!(yt in nt)||!Array.isArray(nt[yt])||nt[yt].length!==ze[yt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function re(Te,ze,Je,nt){var pt=x.isPlainObject(nt),yt=[],Yt,Xt,St,kt,Kt;Array.isArray(Je)||(Je=[Je]),Je=B(Je,Te.data.length-1);for(var mr in ze)for(var mt=0;mt<Je.length;mt++){if(Yt=Te.data[Je[mt]],St=w(Yt,mr),Xt=St.get(),kt=ze[mr][mt],!x.isArrayOrTypedArray(kt))throw new Error("attribute: "+mr+" index: "+mt+" must be an array");if(!x.isArrayOrTypedArray(Xt))throw new Error("cannot extend missing or non-array attribute: "+mr);if(Xt.constructor!==kt.constructor)throw new Error("cannot extend array with an array of a different type: "+mr);Kt=pt?nt[mr][mt]:nt,P(Kt)||(Kt=-1),yt.push({prop:St,target:Xt,insert:kt,maxp:Math.floor(Kt)})}return yt}function ne(Te,ze,Je,nt,pt){Q(Te,ze,Je,nt);for(var yt=re(Te,ze,Je,nt),Yt={},Xt={},St=0;St<yt.length;St++){var kt=yt[St].prop,Kt=yt[St].maxp,mr=pt(yt[St].target,yt[St].insert,Kt);kt.set(mr[0]),Array.isArray(Yt[kt.astr])||(Yt[kt.astr]=[]),Yt[kt.astr].push(mr[1]),Array.isArray(Xt[kt.astr])||(Xt[kt.astr]=[]),Xt[kt.astr].push(yt[St].target.length)}return{update:Yt,maxPoints:Xt}}function fe(Te,ze){var Je=new Te.constructor(Te.length+ze.length);return Je.set(Te),Je.set(ze,Te.length),Je}function $(Te,ze,Je,nt){Te=x.getGraphDiv(Te);function pt(St,kt,Kt){var mr,mt;if(x.isTypedArray(St))if(Kt<0){var Zt=new St.constructor(0),Qt=fe(St,kt);Kt<0?(mr=Qt,mt=Zt):(mr=Zt,mt=Qt)}else if(mr=new St.constructor(Kt),mt=new St.constructor(St.length+kt.length-Kt),Kt===kt.length)mr.set(kt),mt.set(St);else if(Kt<kt.length){var yr=kt.length-Kt;mr.set(kt.subarray(yr)),mt.set(St),mt.set(kt.subarray(0,yr),St.length)}else{var sr=Kt-kt.length,bt=St.length-sr;mr.set(St.subarray(bt)),mr.set(kt,sr),mt.set(St.subarray(0,bt))}else mr=St.concat(kt),mt=Kt>=0&&Kt<mr.length?mr.splice(0,mr.length-Kt):[];return[mr,mt]}var yt=ne(Te,ze,Je,nt,pt),Yt=j.redraw(Te),Xt=[Te,yt.update,Je,yt.maxPoints];return p.add(Te,j.prependTraces,Xt,$,arguments),Yt}function X(Te,ze,Je,nt){Te=x.getGraphDiv(Te);function pt(St,kt,Kt){var mr,mt;if(x.isTypedArray(St))if(Kt<=0){var Zt=new St.constructor(0),Qt=fe(kt,St);Kt<0?(mr=Qt,mt=Zt):(mr=Zt,mt=Qt)}else if(mr=new St.constructor(Kt),mt=new St.constructor(St.length+kt.length-Kt),Kt===kt.length)mr.set(kt),mt.set(St);else if(Kt<kt.length){var yr=kt.length-Kt;mr.set(kt.subarray(0,yr)),mt.set(kt.subarray(yr)),mt.set(St,yr)}else{var sr=Kt-kt.length;mr.set(kt),mr.set(St.subarray(0,sr),kt.length),mt.set(St.subarray(sr))}else mr=kt.concat(St),mt=Kt>=0&&Kt<mr.length?mr.splice(Kt,mr.length):[];return[mr,mt]}var yt=ne(Te,ze,Je,nt,pt),Yt=j.redraw(Te),Xt=[Te,yt.update,Je,yt.maxPoints];return p.add(Te,j.extendTraces,Xt,X,arguments),Yt}function oe(Te,ze,Je){Te=x.getGraphDiv(Te);var nt=[],pt=j.deleteTraces,yt=oe,Yt=[Te,nt],Xt=[Te,ze],St,kt;for(W(Te,ze,Je),Array.isArray(ze)||(ze=[ze]),ze=ze.map(function(Kt){return x.extendFlat({},Kt)}),T.cleanData(ze),St=0;St<ze.length;St++)Te.data.push(ze[St]);for(St=0;St<ze.length;St++)nt.push(-ze.length+St);if(typeof Je>"u")return kt=j.redraw(Te),p.add(Te,pt,Yt,yt,Xt),kt;Array.isArray(Je)||(Je=[Je]);try{V(Te,nt,Je)}catch(Kt){throw Te.data.splice(Te.data.length-ze.length,ze.length),Kt}return p.startSequence(Te),p.add(Te,pt,Yt,yt,Xt),kt=j.moveTraces(Te,nt,Je),p.stopSequence(Te),kt}function Y(Te,ze){Te=x.getGraphDiv(Te);var Je=[],nt=j.addTraces,pt=Y,yt=[Te,Je,ze],Yt=[Te,ze],Xt,St;if(typeof ze>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ze)||(ze=[ze]),N(Te,ze,"indices"),ze=B(ze,Te.data.length-1),ze.sort(x.sorterDes),Xt=0;Xt<ze.length;Xt+=1)St=Te.data.splice(ze[Xt],1)[0],Je.push(St);var kt=j.redraw(Te);return p.add(Te,nt,yt,pt,Yt),kt}function ee(Te,ze,Je){Te=x.getGraphDiv(Te);var nt=[],pt=[],yt=ee,Yt=ee,Xt=[Te,Je,ze],St=[Te,ze,Je],kt;if(V(Te,ze,Je),ze=Array.isArray(ze)?ze:[ze],typeof Je>"u")for(Je=[],kt=0;kt<ze.length;kt++)Je.push(-ze.length+kt);for(Je=Array.isArray(Je)?Je:[Je],ze=B(ze,Te.data.length-1),Je=B(Je,Te.data.length-1),kt=0;kt<Te.data.length;kt++)ze.indexOf(kt)===-1&&nt.push(Te.data[kt]);for(kt=0;kt<ze.length;kt++)pt.push({newIndex:Je[kt],trace:Te.data[ze[kt]]});for(pt.sort(function(mr,mt){return mr.newIndex-mt.newIndex}),kt=0;kt<pt.length;kt+=1)nt.splice(pt[kt].newIndex,0,pt[kt].trace);Te.data=nt;var Kt=j.redraw(Te);return p.add(Te,yt,Xt,Yt,St),Kt}function se(Te,ze,Je,nt){Te=x.getGraphDiv(Te),T.clearPromiseQueue(Te);var pt={};if(typeof ze=="string")pt[ze]=Je;else if(x.isPlainObject(ze))pt=x.extendFlat({},ze),nt===void 0&&(nt=Je);else return x.warn("Restyle fail.",ze,Je,nt),Promise.reject();Object.keys(pt).length&&(Te.changed=!0);var yt=T.coerceTraceIndices(Te,nt),Yt=he(Te,pt,yt),Xt=Yt.flags;Xt.calc&&(Te.calcdata=void 0),Xt.clearAxisTypes&&T.clearAxisTypes(Te,yt,{});var St=[];Xt.fullReplot?St.push(j._doPlot):(St.push(i.previousPromises),i.supplyDefaults(Te),Xt.markerSize&&(i.doCalcdata(Te),ke(St)),Xt.style&&St.push(S.doTraceStyle),Xt.colorbars&&St.push(S.doColorBars),St.push(L)),St.push(i.rehover,i.redrag,i.reselect),p.add(Te,se,[Te,Yt.undoit,Yt.traces],se,[Te,Yt.redoit,Yt.traces]);var kt=x.syncOrAsync(St,Te);return(!kt||!kt.then)&&(kt=Promise.resolve()),kt.then(function(){return Te.emit("plotly_restyle",Yt.eventData),Te})}function q(Te){return Te===void 0?null:Te}function K(Te,ze){return ze?function(Je,nt,pt){var yt=w(Je,nt),Yt=yt.set;return yt.set=function(Xt){var St=(pt||"")+nt;le(St,yt.get(),Xt,Te),Yt(Xt)},yt}:w}function le(Te,ze,Je,nt){if(Array.isArray(ze)||Array.isArray(Je))for(var pt=Array.isArray(ze)?ze:[],yt=Array.isArray(Je)?Je:[],Yt=Math.max(pt.length,yt.length),Xt=0;Xt<Yt;Xt++)le(Te+"["+Xt+"]",pt[Xt],yt[Xt],nt);else if(x.isPlainObject(ze)||x.isPlainObject(Je)){var St=x.isPlainObject(ze)?ze:{},kt=x.isPlainObject(Je)?Je:{},Kt=x.extendFlat({},St,kt);for(var mr in Kt)le(Te+"."+mr,St[mr],kt[mr],nt)}else nt[Te]===void 0&&(nt[Te]=q(ze))}function ie(Te,ze,Je){for(var nt in Je){var pt=w(Te,nt);le(nt,pt.get(),Je[nt],ze)}}function he(Te,ze,Je){var nt=Te._fullLayout,pt=Te._fullData,yt=Te.data,Yt=nt._guiEditing,Xt=K(nt._preGUI,Yt),St=x.extendDeepAll({},ze),kt;ye(ze);var Kt=C.traceFlags(),mr={},mt={},Zt;function Qt(){return Je.map(function(){})}function yr(Cn){var Ar=n.id2name(Cn);Zt.indexOf(Ar)===-1&&Zt.push(Ar)}function sr(Cn){return"LAYOUT"+Cn+".autorange"}function bt(Cn){return"LAYOUT"+Cn+".range"}function lt(Cn){for(var Ar=Cn;Ar<pt.length;Ar++)if(pt[Ar]._input===yt[Cn])return pt[Ar]}function Tt(Cn,Ar,Pr){if(Array.isArray(Cn)){Cn.forEach(function(yn){Tt(yn,Ar,Pr)});return}if(!(Cn in ze||T.hasParent(ze,Cn))){var Wr;if(Cn.substr(0,6)==="LAYOUT")Wr=Xt(Te.layout,Cn.replace("LAYOUT",""));else{var Vr=Je[Pr],on=nt._tracePreGUI[lt(Vr)._fullInput.uid];Wr=K(on,Yt)(yt[Vr],Cn)}Cn in mt||(mt[Cn]=Qt()),mt[Cn][Pr]===void 0&&(mt[Cn][Pr]=q(Wr.get())),Ar!==void 0&&Wr.set(Ar)}}function Ct(Cn){return function(Ar){return pt[Ar][Cn]}}function It(Cn){return function(Ar,Pr){return Ar===!1?pt[Je[Pr]][Cn]:null}}for(var Dt in ze){if(T.hasParent(ze,Dt))throw new Error("cannot set "+Dt+" and a parent attribute simultaneously");var Vt=ze[Dt],Bt,$t,fr,cr,dr,Ye;if((Dt==="autobinx"||Dt==="autobiny")&&(Dt=Dt.charAt(Dt.length-1)+"bins",Array.isArray(Vt)?Vt=Vt.map(It(Dt)):Vt===!1?Vt=Je.map(Ct(Dt)):Vt=null),mr[Dt]=Vt,Dt.substr(0,6)==="LAYOUT"){fr=Xt(Te.layout,Dt.replace("LAYOUT","")),mt[Dt]=[q(fr.get())],fr.set(Array.isArray(Vt)?Vt[0]:Vt),Kt.calc=!0;continue}for(mt[Dt]=Qt(),kt=0;kt<Je.length;kt++){Bt=yt[Je[kt]],$t=lt(Je[kt]);var Ge=nt._tracePreGUI[$t._fullInput.uid];if(fr=K(Ge,Yt)(Bt,Dt),cr=fr.get(),dr=Array.isArray(Vt)?Vt[kt%Vt.length]:Vt,dr!==void 0){var zt=fr.parts[fr.parts.length-1],Ft=Dt.substr(0,Dt.length-zt.length-1),Jt=Ft?Ft+".":"",tr=Ft?w($t,Ft).get():$t;if(Ye=t.getTraceValObject($t,fr.parts),Ye&&Ye.impliedEdits&&dr!==null)for(var ur in Ye.impliedEdits)Tt(x.relativeAttr(Dt,ur),Ye.impliedEdits[ur],kt);else if((zt==="thicknessmode"||zt==="lenmode")&&cr!==dr&&(dr==="fraction"||dr==="pixels")&&tr){var nr=nt._size,Nt=tr.orient,hr=Nt==="top"||Nt==="bottom";if(zt==="thicknessmode"){var gr=hr?nr.h:nr.w;Tt(Jt+"thickness",tr.thickness*(dr==="fraction"?1/gr:gr),kt)}else{var br=hr?nr.w:nr.h;Tt(Jt+"len",tr.len*(dr==="fraction"?1/br:br),kt)}}else if(Dt==="type"&&(dr==="pie"!=(cr==="pie")||dr==="funnelarea"!=(cr==="funnelarea"))){var vr="x",Gr="y";(dr==="bar"||cr==="bar")&&Bt.orientation==="h"&&(vr="y",Gr="x"),x.swapAttrs(Bt,["?","?src"],"labels",vr),x.swapAttrs(Bt,["d?","?0"],"label",vr),x.swapAttrs(Bt,["?","?src"],"values",Gr),cr==="pie"||cr==="funnelarea"?(w(Bt,"marker.color").set(w(Bt,"marker.colors").get()),nt._pielayer.selectAll("g.trace").remove()):r.traceIs(Bt,"cartesian")&&w(Bt,"marker.colors").set(w(Bt,"marker.color").get())}mt[Dt][kt]=q(cr);var Dr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Dr.indexOf(Dt)!==-1){if(Dt==="orientation"){fr.set(dr);var _r=Bt.x&&!Bt.y?"h":"v";if((fr.get()||_r)===$t.orientation)continue}else Dt==="orientationaxes"&&(Bt.orientation={v:"h",h:"v"}[$t.orientation]);T.swapXYData(Bt),Kt.calc=Kt.clearAxisTypes=!0}else i.dataArrayContainers.indexOf(fr.parts[0])!==-1?(T.manageArrayContainers(fr,dr,mt),Kt.calc=!0):(Ye?Ye.arrayOk&&!r.traceIs($t,"regl")&&(x.isArrayOrTypedArray(dr)||x.isArrayOrTypedArray(cr))?Kt.calc=!0:C.update(Kt,Ye):Kt.calc=!0,fr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Dt)!==-1&&n.swap(Te,Je),Dt==="orientationaxes"){var hn=w(Te.layout,"hovermode"),nn=hn.get();nn==="x"?hn.set("y"):nn==="y"?hn.set("x"):nn==="x unified"?hn.set("y unified"):nn==="y unified"&&hn.set("x unified")}if(["orientation","type"].indexOf(Dt)!==-1){for(Zt=[],kt=0;kt<Je.length;kt++){var Pn=yt[Je[kt]];r.traceIs(Pn,"cartesian")&&(yr(Pn.xaxis||"x"),yr(Pn.yaxis||"y"))}Tt(Zt.map(sr),!0,0),Tt(Zt.map(bt),[0,1],0)}}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),{flags:Kt,undoit:mt,redoit:mr,traces:Je,eventData:x.extendDeepNoArrays([],[St,Je])}}function ye(Te){var ze=x.counterRegex("axis",".title",!1,!1),Je=/colorbar\.title$/,nt=Object.keys(Te),pt,yt,Yt;for(pt=0;pt<nt.length;pt++)yt=nt[pt],Yt=Te[yt],(yt==="title"||ze.test(yt)||Je.test(yt))&&(typeof Yt=="string"||typeof Yt=="number")?Xt(yt,yt.replace("title","title.text")):yt.indexOf("titlefont")>-1&&yt.indexOf("grouptitlefont")===-1?Xt(yt,yt.replace("titlefont","title.font")):yt.indexOf("titleposition")>-1?Xt(yt,yt.replace("titleposition","title.position")):yt.indexOf("titleside")>-1?Xt(yt,yt.replace("titleside","title.side")):yt.indexOf("titleoffset")>-1&&Xt(yt,yt.replace("titleoffset","title.offset"));function Xt(St,kt){Te[kt]=Te[St],delete Te[St]}}function Ce(Te,ze,Je){Te=x.getGraphDiv(Te),T.clearPromiseQueue(Te);var nt={};if(typeof ze=="string")nt[ze]=Je;else if(x.isPlainObject(ze))nt=x.extendFlat({},ze);else return x.warn("Relayout fail.",ze,Je),Promise.reject();Object.keys(nt).length&&(Te.changed=!0);var pt=Re(Te,nt),yt=pt.flags;yt.calc&&(Te.calcdata=void 0);var Yt=[i.previousPromises];yt.layoutReplot?Yt.push(S.layoutReplot):Object.keys(nt).length&&(Ae(Te,yt,pt)||i.supplyDefaults(Te),yt.legend&&Yt.push(S.doLegend),yt.layoutstyle&&Yt.push(S.layoutStyles),yt.axrange&&ke(Yt,pt.rangesAltered),yt.ticks&&Yt.push(S.doTicksRelayout),yt.modebar&&Yt.push(S.doModeBar),yt.camera&&Yt.push(S.doCamera),yt.colorbars&&Yt.push(S.doColorBars),Yt.push(L)),Yt.push(i.rehover,i.redrag,i.reselect),p.add(Te,Ce,[Te,pt.undoit],Ce,[Te,pt.redoit]);var Xt=x.syncOrAsync(Yt,Te);return(!Xt||!Xt.then)&&(Xt=Promise.resolve(Te)),Xt.then(function(){return Te.emit("plotly_relayout",pt.eventData),Te})}function Ae(Te,ze,Je){var nt=Te._fullLayout;if(!ze.axrange)return!1;for(var pt in ze)if(pt!=="axrange"&&ze[pt])return!1;var yt,Yt,Xt=function(Zt,Qt){return x.coerce(yt,Yt,f,Zt,Qt)},St={};for(var kt in Je.rangesAltered){var Kt=n.id2name(kt);if(yt=Te.layout[Kt],Yt=nt[Kt],u(yt,Yt,Xt,St),Yt._matchGroup){for(var mr in Yt._matchGroup)if(mr!==kt){var mt=nt[n.id2name(mr)];mt.autorange=Yt.autorange,mt.range=Yt.range.slice(),mt._input.range=Yt.range.slice()}}}return!0}function ke(Te,ze){var Je=ze?function(nt){var pt=[],yt=!0;for(var Yt in ze){var Xt=n.getFromId(nt,Yt);if(pt.push(Yt),(Xt.ticklabelposition||"").indexOf("inside")!==-1&&Xt._anchorAxis&&pt.push(Xt._anchorAxis._id),Xt._matchGroup)for(var St in Xt._matchGroup)ze[St]||pt.push(St)}return n.draw(nt,pt,{skipTitle:yt})}:function(nt){return n.draw(nt,"redraw")};Te.push(c,S.doAutoRangeAndConstraints,Je,S.drawData,S.finalDraw)}var we=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ee=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Re(Te,ze){var Je=Te.layout,nt=Te._fullLayout,pt=nt._guiEditing,yt=K(nt._preGUI,pt),Yt=Object.keys(ze),Xt=n.list(Te),St=x.extendDeepAll({},ze),kt={},Kt,mr,mt;for(ye(ze),Yt=Object.keys(ze),mr=0;mr<Yt.length;mr++)if(Yt[mr].indexOf("allaxes")===0){for(mt=0;mt<Xt.length;mt++){var Zt=Xt[mt]._id.substr(1),Qt=Zt.indexOf("scene")!==-1?Zt+".":"",yr=Yt[mr].replace("allaxes",Qt+Xt[mt]._name);ze[yr]||(ze[yr]=ze[Yt[mr]])}delete ze[Yt[mr]]}var sr=C.layoutFlags(),bt={},lt={};function Tt(on,yn){if(Array.isArray(on)){on.forEach(function(Ln){Tt(Ln,yn)});return}if(!(on in ze||T.hasParent(ze,on))){var mn=yt(Je,on);on in lt||(lt[on]=q(mn.get())),yn!==void 0&&mn.set(yn)}}var Ct={},It;function Dt(on){var yn=n.name2id(on.split(".")[0]);return Ct[yn]=1,yn}for(var Vt in ze){if(T.hasParent(ze,Vt))throw new Error("cannot set "+Vt+" and a parent attribute simultaneously");for(var Bt=yt(Je,Vt),$t=ze[Vt],fr=Bt.parts.length,cr=fr-1;cr>0&&typeof Bt.parts[cr]!="string";)cr--;var dr=Bt.parts[cr],Ye=Bt.parts[cr-1]+"."+dr,Ge=Bt.parts.slice(0,cr).join("."),zt=w(Te.layout,Ge).get(),Ft=w(nt,Ge).get(),Jt=Bt.get();if($t!==void 0){bt[Vt]=$t,lt[Vt]=dr==="reverse"?$t:q(Jt);var tr=t.getLayoutValObject(nt,Bt.parts);if(tr&&tr.impliedEdits&&$t!==null)for(var ur in tr.impliedEdits)Tt(x.relativeAttr(Vt,ur),tr.impliedEdits[ur]);if(["width","height"].indexOf(Vt)!==-1)if($t){Tt("autosize",null);var nr=Vt==="height"?"width":"height";Tt(nr,nt[nr])}else nt[Vt]=Te._initialAutoSize[Vt];else if(Vt==="autosize")Tt("width",$t?null:nt.width),Tt("height",$t?null:nt.height);else if(Ye.match(we))Dt(Ye),w(nt,Ge+"._inputRange").set(null);else if(Ye.match(Ee)){Dt(Ye),w(nt,Ge+"._inputRange").set(null);var Nt=w(nt,Ge).get();Nt._inputDomain&&(Nt._input.domain=Nt._inputDomain.slice())}else Ye.match(xe)&&w(nt,Ge+"._inputDomain").set(null);if(dr==="type"){It=zt;var hr=Ft.type==="linear"&&$t==="log",gr=Ft.type==="log"&&$t==="linear";if(hr||gr){if(!It||!It.range)Tt(Ge+".autorange",!0);else if(Ft.autorange)hr&&(It.range=It.range[1]>It.range[0]?[1,2]:[2,1]);else{var br=It.range[0],vr=It.range[1];hr?(br<=0&&vr<=0&&Tt(Ge+".autorange",!0),br<=0?br=vr/1e6:vr<=0&&(vr=br/1e6),Tt(Ge+".range[0]",Math.log(br)/Math.LN10),Tt(Ge+".range[1]",Math.log(vr)/Math.LN10)):(Tt(Ge+".range[0]",Math.pow(10,br)),Tt(Ge+".range[1]",Math.pow(10,vr)))}Array.isArray(nt._subplots.polar)&&nt._subplots.polar.length&&nt[Bt.parts[0]]&&Bt.parts[1]==="radialaxis"&&delete nt[Bt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Te,Ft,$t,Tt),r.getComponentMethod("images","convertCoords")(Te,Ft,$t,Tt)}else Tt(Ge+".autorange",!0),Tt(Ge+".range",null);w(nt,Ge+"._inputRange").set(null)}else if(dr.match(m)){var Gr=w(nt,Vt).get(),Dr=($t||{}).type;(!Dr||Dr==="-")&&(Dr="linear"),r.getComponentMethod("annotations","convertCoords")(Te,Gr,Dr,Tt),r.getComponentMethod("images","convertCoords")(Te,Gr,Dr,Tt)}var _r=d.containerArrayMatch(Vt);if(_r){Kt=_r.array,mr=_r.index;var hn=_r.property,nn=tr||{editType:"calc"};mr!==""&&hn===""&&(d.isAddVal($t)?lt[Vt]=null:d.isRemoveVal($t)?lt[Vt]=(w(Je,Kt).get()||[])[mr]:x.warn("unrecognized full object value",ze)),C.update(sr,nn),kt[Kt]||(kt[Kt]={});var Pn=kt[Kt][mr];Pn||(Pn=kt[Kt][mr]={}),Pn[hn]=$t,delete ze[Vt]}else dr==="reverse"?(zt.range?zt.range.reverse():(Tt(Ge+".autorange",!0),zt.range=[1,0]),Ft.autorange?sr.calc=!0:sr.plot=!0):(Vt==="dragmode"&&($t===!1&&Jt!==!1||$t!==!1&&Jt===!1)||nt._has("scatter-like")&&nt._has("regl")&&Vt==="dragmode"&&($t==="lasso"||$t==="select")&&!(Jt==="lasso"||Jt==="select")||nt._has("gl2d")?sr.plot=!0:tr?C.update(sr,tr):sr.calc=!0,Bt.set($t))}}for(Kt in kt){var Cn=d.applyContainerArrayChanges(Te,yt(Je,Kt),kt[Kt],sr,yt);Cn||(sr.plot=!0)}for(var Ar in Ct){It=n.getFromId(Te,Ar);var Pr=It&&It._constraintGroup;if(Pr){sr.calc=!0;for(var Wr in Pr)Ct[Wr]||(n.getFromId(Te,Wr)._constraintShrinkable=!0)}}(Ve(Te)||ze.height||ze.width)&&(sr.plot=!0);var Vr=nt.shapes;for(mr=0;mr<Vr.length;mr++)if(Vr[mr].showlegend){sr.calc=!0;break}return(sr.plot||sr.calc)&&(sr.layoutReplot=!0),{flags:sr,rangesAltered:Ct,undoit:lt,redoit:bt,eventData:St}}function Ve(Te){var ze=Te._fullLayout,Je=ze.width,nt=ze.height;return Te.layout.autosize&&i.plotAutoSize(Te,Te.layout,ze),ze.width!==Je||ze.height!==nt}function Ue(Te,ze,Je,nt){Te=x.getGraphDiv(Te),T.clearPromiseQueue(Te),x.isPlainObject(ze)||(ze={}),x.isPlainObject(Je)||(Je={}),Object.keys(ze).length&&(Te.changed=!0),Object.keys(Je).length&&(Te.changed=!0);var pt=T.coerceTraceIndices(Te,nt),yt=he(Te,x.extendFlat({},ze),pt),Yt=yt.flags,Xt=Re(Te,x.extendFlat({},Je)),St=Xt.flags;(Yt.calc||St.calc)&&(Te.calcdata=void 0),Yt.clearAxisTypes&&T.clearAxisTypes(Te,pt,Je);var kt=[];St.layoutReplot?kt.push(S.layoutReplot):Yt.fullReplot?kt.push(j._doPlot):(kt.push(i.previousPromises),Ae(Te,St,Xt)||i.supplyDefaults(Te),Yt.style&&kt.push(S.doTraceStyle),(Yt.colorbars||St.colorbars)&&kt.push(S.doColorBars),St.legend&&kt.push(S.doLegend),St.layoutstyle&&kt.push(S.layoutStyles),St.axrange&&ke(kt,Xt.rangesAltered),St.ticks&&kt.push(S.doTicksRelayout),St.modebar&&kt.push(S.doModeBar),St.camera&&kt.push(S.doCamera),kt.push(L)),kt.push(i.rehover,i.redrag,i.reselect),p.add(Te,Ue,[Te,yt.undoit,Xt.undoit,yt.traces],Ue,[Te,yt.redoit,Xt.redoit,yt.traces]);var Kt=x.syncOrAsync(kt,Te);return(!Kt||!Kt.then)&&(Kt=Promise.resolve(Te)),Kt.then(function(){return Te.emit("plotly_update",{data:yt.eventData,layout:Xt.eventData}),Te})}function Be(Te){return function(Je){Je._fullLayout._guiEditing=!0;var nt=Te.apply(null,arguments);return Je._fullLayout._guiEditing=!1,nt}}var Xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ut=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function dt(Te,ze){for(var Je=0;Je<ze.length;Je++){var nt=ze[Je],pt=Te.match(nt.pattern);if(pt){var yt=pt[1]||"";return{head:yt,tail:Te.substr(yt.length+1),attr:nt.attr}}}}function at(Te,ze){var Je=w(ze,Te).get();if(Je!==void 0)return Je;var nt=Te.split(".");for(nt.pop();nt.length>1;)if(nt.pop(),Je=w(ze,nt.join(".")+".uirevision").get(),Je!==void 0)return Je;return ze.uirevision}function We(Te,ze){for(var Je=0;Je<ze.length;Je++)if(ze[Je]._fullInput.uid===Te)return Je;return-1}function rt(Te,ze,Je){for(var nt=0;nt<ze.length;nt++)if(ze[nt].uid===Te)return nt;return!ze[Je]||ze[Je].uid?-1:Je}function st(Te,ze){var Je=x.isPlainObject(Te),nt=Array.isArray(Te);return Je||nt?(Je&&x.isPlainObject(ze)||nt&&Array.isArray(ze))&&JSON.stringify(Te)===JSON.stringify(ze):Te===ze}function ht(Te,ze,Je,nt){var pt=nt._preGUI,yt,Yt,Xt,St,kt,Kt,mr,mt,Zt,Qt,yr=[],sr={},bt={};for(yt in pt){if(kt=dt(yt,Xe),kt){if(Zt=kt.head,Qt=kt.tail,Yt=kt.attr||Zt+".uirevision",Xt=w(nt,Yt).get(),St=Xt&&at(Yt,ze),St&&St===Xt){if(Kt=pt[yt],Kt===null&&(Kt=void 0),mr=w(ze,yt),mt=mr.get(),st(mt,Kt)){mt===void 0&&Qt==="autorange"&&yr.push(Zt),mr.set(q(w(nt,yt).get()));continue}else if(Qt==="autorange"||Qt.substr(0,6)==="range["){var lt=pt[Zt+".range[0]"],Tt=pt[Zt+".range[1]"],Ct=pt[Zt+".autorange"];if(Ct||Ct===null&&lt===null&&Tt===null){if(!(Zt in sr)){var It=w(ze,Zt).get();sr[Zt]=It&&(It.autorange||It.autorange!==!1&&(!It.range||It.range.length!==2))}if(sr[Zt]){mr.set(q(w(nt,yt).get()));continue}}}}}else x.warn("unrecognized GUI edit: "+yt);delete pt[yt],kt&&kt.tail.substr(0,6)==="range["&&(bt[kt.head]=1)}for(var Dt=0;Dt<yr.length;Dt++){var Vt=yr[Dt];if(bt[Vt]){var Bt=w(ze,Vt).get();Bt&&delete Bt.autorange}}var $t=nt._tracePreGUI;for(var fr in $t){var cr=$t[fr],dr=null,Ye;for(yt in cr){if(!dr){var Ge=We(fr,Je);if(Ge<0){delete $t[fr];break}var zt=Je[Ge];Ye=zt._fullInput;var Ft=rt(fr,Te,Ye.index);if(Ft<0){delete $t[fr];break}dr=Te[Ft]}if(kt=dt(yt,ut),kt){if(kt.attr?(Xt=w(nt,kt.attr).get(),St=Xt&&at(kt.attr,ze)):(Xt=Ye.uirevision,St=dr.uirevision,St===void 0&&(St=ze.uirevision)),St&&St===Xt&&(Kt=cr[yt],Kt===null&&(Kt=void 0),mr=w(dr,yt),mt=mr.get(),st(mt,Kt))){mr.set(q(w(Ye,yt).get()));continue}}else x.warn("unrecognized GUI edit: "+yt+" in trace uid "+fr);delete cr[yt]}}}function vt(Te,ze,Je,nt){var pt,yt;function Yt(){return j.addFrames(Te,pt)}Te=x.getGraphDiv(Te),T.clearPromiseQueue(Te);var Xt=Te._fullData,St=Te._fullLayout;if(!x.isPlotDiv(Te)||!Xt||!St)yt=j.newPlot(Te,ze,Je,nt);else{if(x.isPlainObject(ze)){var kt=ze;ze=kt.data,Je=kt.layout,nt=kt.config,pt=kt.frames}var Kt=!1;if(nt){var mr=x.extendDeep({},Te._context);Te._context=void 0,U(Te,nt),Kt=je(mr,Te._context)}Te.data=ze||[],T.cleanData(Te.data),Te.layout=Je||{},T.cleanLayout(Te.layout),ht(Te.data,Te.layout,Xt,St),i.supplyDefaults(Te,{skipUpdateCalc:!0});var mt=Te._fullData,Zt=Te._fullLayout,Qt=Zt.datarevision===void 0,yr=Zt.transition,sr=tt(Te,St,Zt,Qt,yr),bt=sr.newDataRevision,lt=At(Te,Xt,mt,Qt,yr,bt);if(Ve(Te)&&(sr.layoutReplot=!0),lt.calc||sr.calc){Te.calcdata=void 0;for(var Tt=Object.getOwnPropertyNames(Zt),Ct=0;Ct<Tt.length;Ct++){var It=Tt[Ct],Dt=It.substring(0,5);if(Dt==="xaxis"||Dt==="yaxis"){var Vt=Zt[It]._emptyCategories;Vt&&Vt()}}}else i.supplyDefaultsUpdateCalc(Te.calcdata,mt);var Bt=[];if(pt&&(Te._transitionData={},i.createTransitionData(Te),Bt.push(Yt)),Zt.transition&&!Kt&&(lt.anim||sr.anim))sr.ticks&&Bt.push(S.doTicksRelayout),i.doCalcdata(Te),S.doAutoRangeAndConstraints(Te),Bt.push(function(){return i.transitionFromReact(Te,lt,sr,St)});else if(lt.fullReplot||sr.layoutReplot||Kt)Te._fullLayout._skipDefaults=!0,Bt.push(j._doPlot);else{for(var $t in sr.arrays){var fr=sr.arrays[$t];if(fr.length){var cr=r.getComponentMethod($t,"drawOne");if(cr!==x.noop)for(var dr=0;dr<fr.length;dr++)cr(Te,fr[dr]);else{var Ye=r.getComponentMethod($t,"draw");if(Ye===x.noop)throw new Error("cannot draw components: "+$t);Ye(Te)}}}Bt.push(i.previousPromises),lt.style&&Bt.push(S.doTraceStyle),(lt.colorbars||sr.colorbars)&&Bt.push(S.doColorBars),sr.legend&&Bt.push(S.doLegend),sr.layoutstyle&&Bt.push(S.layoutStyles),sr.axrange&&ke(Bt),sr.ticks&&Bt.push(S.doTicksRelayout),sr.modebar&&Bt.push(S.doModeBar),sr.camera&&Bt.push(S.doCamera),Bt.push(L)}Bt.push(i.rehover,i.redrag,i.reselect),yt=x.syncOrAsync(Bt,Te),(!yt||!yt.then)&&(yt=Promise.resolve(Te))}return yt.then(function(){return Te.emit("plotly_react",{data:ze,layout:Je}),Te})}function At(Te,ze,Je,nt,pt,yt){var Yt=ze.length===Je.length;if(!pt&&!Yt)return{fullReplot:!0,calc:!0};var Xt=C.traceFlags();Xt.arrays={},Xt.nChanges=0,Xt.nChangesAnim=0;var St,kt;function Kt(Zt){var Qt=t.getTraceValObject(kt,Zt);return!kt._module.animatable&&Qt.anim&&(Qt.anim=!1),Qt}var mr={getValObject:Kt,flags:Xt,immutable:nt,transition:pt,newDataRevision:yt,gd:Te},mt={};for(St=0;St<ze.length;St++)if(Je[St]){if(kt=Je[St]._fullInput,i.hasMakesDataTransform(kt)&&(kt=Je[St]),mt[kt.uid])continue;mt[kt.uid]=1,_e(ze[St]._fullInput,kt,[],mr)}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),pt&&Xt.nChanges&&Xt.nChangesAnim&&(Xt.anim=Xt.nChanges===Xt.nChangesAnim&&Yt?"all":"some"),Xt}function tt(Te,ze,Je,nt,pt){var yt=C.layoutFlags();yt.arrays={},yt.rangesAltered={},yt.nChanges=0,yt.nChangesAnim=0;function Yt(St){return t.getLayoutValObject(Je,St)}var Xt={getValObject:Yt,flags:yt,immutable:nt,transition:pt,gd:Te};return _e(ze,Je,[],Xt),(yt.plot||yt.calc)&&(yt.layoutReplot=!0),pt&&yt.nChanges&&yt.nChangesAnim&&(yt.anim=yt.nChanges===yt.nChangesAnim?"all":"some"),yt}function _e(Te,ze,Je,nt){var pt,yt,Yt,Xt=nt.getValObject,St=nt.flags,kt=nt.immutable,Kt=nt.inArray,mr=nt.arrayIndex;function mt(){var Ge=pt.editType;if(Kt&&Ge.indexOf("arraydraw")!==-1){x.pushUnique(St.arrays[Kt],mr);return}C.update(St,pt),Ge!=="none"&&St.nChanges++,nt.transition&&pt.anim&&St.nChangesAnim++,(we.test(Yt)||Ee.test(Yt))&&(St.rangesAltered[Je[0]]=1),xe.test(Yt)&&w(ze,"_inputDomain").set(null),yt==="datarevision"&&(St.newDataRevision=1)}function Zt(Ge){return Ge.valType==="data_array"||Ge.arrayOk}for(yt in Te){if(St.calc&&!nt.transition)return;var Qt=Te[yt],yr=ze[yt],sr=Je.concat(yt);if(Yt=sr.join("."),!(yt.charAt(0)==="_"||typeof Qt=="function"||Qt===yr)){if((yt==="tick0"||yt==="dtick")&&Je[0]!=="geo"){var bt=ze.tickmode;if(bt==="auto"||bt==="array"||!bt)continue}if(!(yt==="range"&&ze.autorange)&&!((yt==="zmin"||yt==="zmax")&&ze.type==="contourcarpet")&&(pt=Xt(sr),!!pt&&!(pt._compareAsJSON&&JSON.stringify(Qt)===JSON.stringify(yr)))){var lt=pt.valType,Tt,Ct=Zt(pt),It=Array.isArray(Qt),Dt=Array.isArray(yr);if(It&&Dt){var Vt="_input_"+yt,Bt=Te[Vt],$t=ze[Vt];if(Array.isArray(Bt)&&Bt===$t)continue}if(yr===void 0)Ct&&It?St.calc=!0:mt();else if(pt._isLinkedToArray){var fr=[],cr=!1;Kt||(St.arrays[yt]=fr);var dr=Math.min(Qt.length,yr.length),Ye=Math.max(Qt.length,yr.length);if(dr!==Ye)if(pt.editType==="arraydraw")cr=!0;else{mt();continue}for(Tt=0;Tt<dr;Tt++)_e(Qt[Tt],yr[Tt],sr.concat(Tt),x.extendFlat({inArray:yt,arrayIndex:Tt},nt));if(cr)for(Tt=dr;Tt<Ye;Tt++)fr.push(Tt)}else!lt&&x.isPlainObject(Qt)?_e(Qt,yr,sr,nt):Ct?It&&Dt?(kt&&(St.calc=!0),(kt||nt.newDataRevision)&&mt()):It!==Dt?St.calc=!0:mt():It&&Dt?(Qt.length!==yr.length||String(Qt)!==String(yr))&&mt():mt()}}}for(yt in ze)if(!(yt in Te||yt.charAt(0)==="_"||typeof ze[yt]=="function"))if(pt=Xt(Je.concat(yt)),Zt(pt)&&Array.isArray(ze[yt])){St.calc=!0;return}else mt()}function je(Te,ze){var Je;for(Je in Te)if(Je.charAt(0)!=="_"){var nt=Te[Je],pt=ze[Je];if(nt!==pt)if(x.isPlainObject(nt)&&x.isPlainObject(pt)){if(je(nt,pt))return!0}else if(Array.isArray(nt)&&Array.isArray(pt)){if(nt.length!==pt.length)return!0;for(var yt=0;yt<nt.length;yt++)if(nt[yt]!==pt[yt])if(x.isPlainObject(nt[yt])&&x.isPlainObject(pt[yt])){if(je(nt[yt],pt[yt]))return!0}else return!0}else return!0}}function Ke(Te,ze,Je){if(Te=x.getGraphDiv(Te),!x.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var nt=Te._transitionData;nt._frameQueue||(nt._frameQueue=[]),Je=i.supplyAnimationDefaults(Je);var pt=Je.transition,yt=Je.frame;nt._frameWaitingCnt===void 0&&(nt._frameWaitingCnt=0);function Yt(kt){return Array.isArray(pt)?kt>=pt.length?pt[0]:pt[kt]:pt}function Xt(kt){return Array.isArray(yt)?kt>=yt.length?yt[0]:yt[kt]:yt}function St(kt,Kt){var mr=0;return function(){if(kt&&++mr===Kt)return kt()}}return new Promise(function(kt,Kt){function mr(){if(nt._frameQueue.length!==0){for(;nt._frameQueue.length;){var dr=nt._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}Te.emit("plotly_animationinterrupted",[])}}function mt(dr){if(dr.length!==0){for(var Ye=0;Ye<dr.length;Ye++){var Ge;dr[Ye].type==="byname"?Ge=i.computeFrame(Te,dr[Ye].name):Ge=dr[Ye].data;var zt=Xt(Ye),Ft=Yt(Ye);Ft.duration=Math.min(Ft.duration,zt.duration);var Jt={frame:Ge,name:dr[Ye].name,frameOpts:zt,transitionOpts:Ft};Ye===dr.length-1&&(Jt.onComplete=St(kt,2),Jt.onInterrupt=Kt),nt._frameQueue.push(Jt)}Je.mode==="immediate"&&(nt._lastFrameAt=-1/0),nt._animationRaf||yr()}}function Zt(){Te.emit("plotly_animated"),window.cancelAnimationFrame(nt._animationRaf),nt._animationRaf=null}function Qt(){nt._currentFrame&&nt._currentFrame.onComplete&&nt._currentFrame.onComplete();var dr=nt._currentFrame=nt._frameQueue.shift();if(dr){var Ye=dr.name?dr.name.toString():null;Te._fullLayout._currentFrame=Ye,nt._lastFrameAt=Date.now(),nt._timeToNext=dr.frameOpts.duration,i.transition(Te,dr.frame.data,dr.frame.layout,T.coerceTraceIndices(Te,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),Te.emit("plotly_animatingframe",{name:Ye,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Zt()}function yr(){Te.emit("plotly_animating"),nt._lastFrameAt=-1/0,nt._timeToNext=0,nt._runningTransitions=0,nt._currentFrame=null;var dr=function(){nt._animationRaf=window.requestAnimationFrame(dr),Date.now()-nt._lastFrameAt>nt._timeToNext&&Qt()};dr()}var sr=0;function bt(dr){return Array.isArray(pt)?sr>=pt.length?dr.transitionOpts=pt[sr]:dr.transitionOpts=pt[0]:dr.transitionOpts=pt,sr++,dr}var lt,Tt,Ct=[],It=ze==null,Dt=Array.isArray(ze),Vt=!It&&!Dt&&x.isPlainObject(ze);if(Vt)Ct.push({type:"object",data:bt(x.extendFlat({},ze))});else if(It||["string","number"].indexOf(typeof ze)!==-1)for(lt=0;lt<nt._frames.length;lt++)Tt=nt._frames[lt],Tt&&(It||String(Tt.group)===String(ze))&&Ct.push({type:"byname",name:String(Tt.name),data:bt({name:Tt.name})});else if(Dt)for(lt=0;lt<ze.length;lt++){var Bt=ze[lt];["number","string"].indexOf(typeof Bt)!==-1?(Bt=String(Bt),Ct.push({type:"byname",name:Bt,data:bt({name:Bt})})):x.isPlainObject(Bt)&&Ct.push({type:"object",data:bt(x.extendFlat({},Bt))})}for(lt=0;lt<Ct.length;lt++)if(Tt=Ct[lt],Tt.type==="byname"&&!nt._frameHash[Tt.data.name]){x.warn('animate failure: frame not found: "'+Tt.data.name+'"'),Kt();return}["next","immediate"].indexOf(Je.mode)!==-1&&mr(),Je.direction==="reverse"&&Ct.reverse();var $t=Te._fullLayout._currentFrame;if($t&&Je.fromcurrent){var fr=-1;for(lt=0;lt<Ct.length;lt++)if(Tt=Ct[lt],Tt.type==="byname"&&Tt.name===$t){fr=lt;break}if(fr>0&&fr<Ct.length-1){var cr=[];for(lt=0;lt<Ct.length;lt++)Tt=Ct[lt],(Ct[lt].type!=="byname"||lt>fr)&&cr.push(Tt);Ct=cr}}Ct.length>0?mt(Ct):(Te.emit("plotly_animated"),kt())})}function He(Te,ze,Je){if(Te=x.getGraphDiv(Te),ze==null)return Promise.resolve();if(!x.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var nt,pt,yt,Yt,Xt=Te._transitionData._frames,St=Te._transitionData._frameHash;if(!Array.isArray(ze))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ze);var kt=Xt.length+ze.length*2,Kt=[],mr={};for(nt=ze.length-1;nt>=0;nt--)if(x.isPlainObject(ze[nt])){var mt=ze[nt].name,Zt=(St[mt]||mr[mt]||{}).name,Qt=ze[nt].name,yr=St[Zt]||mr[Zt];Zt&&Qt&&typeof Qt=="number"&&yr&&E<b&&(E++,x.warn('addFrames: overwriting frame "'+(St[Zt]||mr[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===b&&x.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),mr[mt]={name:mt},Kt.push({frame:i.supplyFrameDefaults(ze[nt]),index:Je&&Je[nt]!==void 0&&Je[nt]!==null?Je[nt]:kt+nt})}Kt.sort(function(Vt,Bt){return Vt.index>Bt.index?-1:Vt.index<Bt.index?1:0});var sr=[],bt=[],lt=Xt.length;for(nt=Kt.length-1;nt>=0;nt--){if(pt=Kt[nt].frame,typeof pt.name=="number"&&x.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!pt.name)for(;St[pt.name="frame "+Te._transitionData._counter++];);if(St[pt.name]){for(yt=0;yt<Xt.length&&(Xt[yt]||{}).name!==pt.name;yt++);sr.push({type:"replace",index:yt,value:pt}),bt.unshift({type:"replace",index:yt,value:Xt[yt]})}else Yt=Math.max(0,Math.min(Kt[nt].index,lt)),sr.push({type:"insert",index:Yt,value:pt}),bt.unshift({type:"delete",index:Yt}),lt++}var Tt=i.modifyFrames,Ct=i.modifyFrames,It=[Te,bt],Dt=[Te,sr];return p&&p.add(Te,Tt,It,Ct,Dt),i.modifyFrames(Te,sr)}function Ie(Te,ze){if(Te=x.getGraphDiv(Te),!x.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);var Je,nt,pt=Te._transitionData._frames,yt=[],Yt=[];if(!ze)for(ze=[],Je=0;Je<pt.length;Je++)ze.push(Je);for(ze=ze.slice(),ze.sort(),Je=ze.length-1;Je>=0;Je--)nt=ze[Je],yt.push({type:"delete",index:nt}),Yt.unshift({type:"insert",index:nt,value:pt[nt]});var Xt=i.modifyFrames,St=i.modifyFrames,kt=[Te,Yt],Kt=[Te,yt];return p&&p.add(Te,Xt,kt,St,Kt),i.modifyFrames(Te,yt)}function be(Te){Te=x.getGraphDiv(Te);var ze=Te._fullLayout||{},Je=Te._fullData||[];return i.cleanPlot([],{},Je,ze),i.purge(Te),v.purge(Te),ze._container&&ze._container.remove(),delete Te._context,Te}function me(Te){var ze=Te._fullLayout,Je=Te.getBoundingClientRect();if(!x.equalDomRects(Je,ze._lastBBox)){var nt=ze._invTransform=x.inverseTransformMatrix(x.getFullTransformMatrix(Te));ze._invScaleX=Math.sqrt(nt[0][0]*nt[0][0]+nt[0][1]*nt[0][1]+nt[0][2]*nt[0][2]),ze._invScaleY=Math.sqrt(nt[1][0]*nt[1][0]+nt[1][1]*nt[1][1]+nt[1][2]*nt[1][2]),ze._lastBBox=Je}}function Me(Te){var ze=g.select(Te),Je=Te._fullLayout;if(Je._calcInverseTransform=me,Je._calcInverseTransform(Te),Je._container=ze.selectAll(".plot-container").data([0]),Je._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Je._paperdiv=Je._container.selectAll(".svg-container").data([0]),Je._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Je._glcontainer=Je._paperdiv.selectAll(".gl-container").data([{}]),Je._glcontainer.enter().append("div").classed("gl-container",!0),Je._paperdiv.selectAll(".main-svg").remove(),Je._paperdiv.select(".modebar-container").remove(),Je._paper=Je._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Je._toppaper=Je._paperdiv.append("svg").classed("main-svg",!0),Je._modebardiv=Je._paperdiv.append("div"),delete Je._modeBar,Je._hoverpaper=Je._paperdiv.append("svg").classed("main-svg",!0),!Je._uid){var nt={};g.selectAll("defs").each(function(){this.id&&(nt[this.id.split("-")[1]]=1)}),Je._uid=x.randstr(nt)}Je._paperdiv.selectAll(".main-svg").attr(M.svgAttrs),Je._defs=Je._paper.append("defs").attr("id","defs-"+Je._uid),Je._clips=Je._defs.append("g").classed("clips",!0),Je._topdefs=Je._toppaper.append("defs").attr("id","topdefs-"+Je._uid),Je._topclips=Je._topdefs.append("g").classed("clips",!0),Je._bgLayer=Je._paper.append("g").classed("bglayer",!0),Je._draggers=Je._paper.append("g").classed("draglayer",!0);var pt=Je._paper.append("g").classed("layer-below",!0);Je._imageLowerLayer=pt.append("g").classed("imagelayer",!0),Je._shapeLowerLayer=pt.append("g").classed("shapelayer",!0),Je._cartesianlayer=Je._paper.append("g").classed("cartesianlayer",!0),Je._polarlayer=Je._paper.append("g").classed("polarlayer",!0),Je._smithlayer=Je._paper.append("g").classed("smithlayer",!0),Je._ternarylayer=Je._paper.append("g").classed("ternarylayer",!0),Je._geolayer=Je._paper.append("g").classed("geolayer",!0),Je._funnelarealayer=Je._paper.append("g").classed("funnelarealayer",!0),Je._pielayer=Je._paper.append("g").classed("pielayer",!0),Je._iciclelayer=Je._paper.append("g").classed("iciclelayer",!0),Je._treemaplayer=Je._paper.append("g").classed("treemaplayer",!0),Je._sunburstlayer=Je._paper.append("g").classed("sunburstlayer",!0),Je._indicatorlayer=Je._toppaper.append("g").classed("indicatorlayer",!0),Je._glimages=Je._paper.append("g").classed("glimages",!0);var yt=Je._toppaper.append("g").classed("layer-above",!0);Je._imageUpperLayer=yt.append("g").classed("imagelayer",!0),Je._shapeUpperLayer=yt.append("g").classed("shapelayer",!0),Je._selectionLayer=Je._toppaper.append("g").classed("selectionlayer",!0),Je._infolayer=Je._toppaper.append("g").classed("infolayer",!0),Je._menulayer=Je._toppaper.append("g").classed("menulayer",!0),Je._zoomlayer=Je._toppaper.append("g").classed("zoomlayer",!0),Je._hoverlayer=Je._hoverpaper.append("g").classed("hoverlayer",!0),Je._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Te.emit("plotly_framework")}j.animate=Ke,j.addFrames=He,j.deleteFrames=Ie,j.addTraces=oe,j.deleteTraces=Y,j.extendTraces=$,j.moveTraces=ee,j.prependTraces=X,j.newPlot=z,j._doPlot=s,j.purge=be,j.react=vt,j.redraw=F,j.relayout=Ce,j.restyle=se,j.setPlotConfig=A,j.update=Ue,j._guiRelayout=Be(Ce),j._guiRestyle=Be(se),j._guiUpdate=Be(Ue),j._storeDirectGUIEdit=ie},20556:function(H){var j={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(P,a){for(var x in P){var w=P[x];w.valType?a[x]=w.dflt:(a[x]||(a[x]={}),g(w,a[x]))}}g(j,e),H.exports={configAttributes:j,dfltConfig:e}},73060:function(H,j,e){var g=e(24040),P=e(3400),a=e(45464),x=e(64859),w=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,i=P.isPlainObject,n=P.isArrayOrTypedArray,u=P.nestedProperty,f=P.valObjectMeta,l="_isSubplotObj",y="_isLinkedToArray",h="_arrayAttrRegexps",M="_deprecated",c=[l,y,h,M];j.IS_SUBPLOT_OBJ=l,j.IS_LINKED_TO_ARRAY=y,j.DEPRECATED=M,j.UNDERSCORE_ATTRS=c,j.get=function(){var U={};g.allTypes.forEach(function(z){U[z]=S(z)});var F={};return Object.keys(g.transformsRegistry).forEach(function(z){F[z]=m(z)}),{defs:{valObjects:f,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:U,layout:C(),transforms:F,frames:E(),animation:b(v),config:b(p)}},j.crawl=function(U,F,z,B){var N=z||0;B=B||"",Object.keys(U).forEach(function(V){var W=U[V];if(c.indexOf(V)===-1){var Q=(B?B+".":"")+V;F(W,V,U,N,Q),!j.isValObject(W)&&i(W)&&V!=="impliedEdits"&&j.crawl(W,F,N+1,Q)}})},j.isValObject=function(U){return U&&U.valType!==void 0},j.findArrayAttributes=function(U){var F=[],z=[],B=[],N,V;function W(X,oe,Y,ee){z=z.slice(0,ee).concat([oe]),B=B.slice(0,ee).concat([X&&X._isLinkedToArray]);var se=X&&(X.valType==="data_array"||X.arrayOk===!0)&&!(z[ee-1]==="colorbar"&&(oe==="ticktext"||oe==="tickvals"));se&&Q(N,0,"")}function Q(X,oe,Y){var ee=X[z[oe]],se=Y+z[oe];if(oe===z.length-1)n(ee)&&F.push(V+se);else if(B[oe]){if(Array.isArray(ee))for(var q=0;q<ee.length;q++)i(ee[q])&&Q(ee[q],oe+1,se+"["+q+"].")}else i(ee)&&Q(ee,oe+1,se+".")}N=U,V="",j.crawl(a,W),U._module&&U._module.attributes&&j.crawl(U._module.attributes,W);var re=U.transforms;if(re)for(var ne=0;ne<re.length;ne++){var fe=re[ne],$=fe._module;$&&(V="transforms["+ne+"].",N=fe,j.crawl($.attributes,W))}return F},j.getTraceValObject=function(U,F){var z=F[0],B=1,N,V;if(z==="transforms"){if(F.length===1)return a.transforms;var W=U.transforms;if(!Array.isArray(W)||!W.length)return!1;var Q=F[1];if(!T(Q)||Q>=W.length)return!1;N=(g.transformsRegistry[W[Q].type]||{}).attributes,V=N&&N[F[2]],B=3}else{var re=U._module;if(re||(re=(g.modules[U.type||a.type.dflt]||{})._module),!re)return!1;if(N=re.attributes,V=N&&N[z],!V){var ne=re.basePlotModule;ne&&ne.attributes&&(V=ne.attributes[z])}V||(V=a[z])}return d(V,F,B)},j.getLayoutValObject=function(U,F){var z=o(U,F[0]);return d(z,F,1)};function o(U,F){var z,B,N,V,W=U._basePlotModules;if(W){var Q;for(z=0;z<W.length;z++){if(N=W[z],N.attrRegex&&N.attrRegex.test(F)){if(N.layoutAttrOverrides)return N.layoutAttrOverrides;!Q&&N.layoutAttributes&&(Q=N.layoutAttributes)}var re=N.baseLayoutAttrOverrides;if(re&&F in re)return re[F]}if(Q)return Q}var ne=U._modules;if(ne){for(z=0;z<ne.length;z++)if(V=ne[z].layoutAttributes,V&&F in V)return V[F]}for(B in g.componentsRegistry){if(N=g.componentsRegistry[B],N.name==="colorscale"&&F.indexOf("coloraxis")===0)return N.layoutAttributes[F];if(!N.schema&&F===N.name)return N.layoutAttributes}return F in x?x[F]:!1}function d(U,F,z){if(!U)return!1;if(U._isLinkedToArray){if(T(F[z]))z++;else if(z<F.length)return!1}for(;z<F.length;z++){var B=U[F[z]];if(i(B))U=B;else break;if(z===F.length-1)break;if(U._isLinkedToArray){if(z++,!T(F[z]))return!1}else if(U.valType==="info_array"){z++;var N=F[z];if(!T(N))return!1;var V=U.items;if(Array.isArray(V)){if(N>=V.length)return!1;if(U.dimensions===2){if(z++,F.length===z)return U;var W=F[z];if(!T(W))return!1;U=V[N][W]}else U=V[N]}else U=V}}return U}function T(U){return U===Math.round(U)&&U>=0}function S(U){var F,z;F=g.modules[U]._module,z=F.basePlotModule;var B={};B.type=null;var N=t({},a),V=t({},F.attributes);j.crawl(V,function(re,ne,fe,$,X){u(N,X).set(void 0),re===void 0&&u(V,X).set(void 0)}),t(B,N),g.traceIs(U,"noOpacity")&&delete B.opacity,g.traceIs(U,"showLegend")||(delete B.showlegend,delete B.legendgroup),g.traceIs(U,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),F.selectPoints||delete B.selectedpoints,t(B,V),z.attributes&&t(B,z.attributes),B.type=U;var W={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:U,attributes:b(B)};if(F.layoutAttributes){var Q={};t(Q,F.layoutAttributes),W.layoutAttributes=b(Q)}return F.animatable||j.crawl(W,function(re){j.isValObject(re)&&"anim"in re&&delete re.anim}),W}function C(){var U={},F,z;t(U,x);for(F in g.subplotsRegistry)if(z=g.subplotsRegistry[F],!!z.layoutAttributes)if(Array.isArray(z.attr))for(var B=0;B<z.attr.length;B++)k(U,z,z.attr[B]);else{var N=z.attr==="subplot"?z.name:z.attr;k(U,z,N)}for(F in g.componentsRegistry){z=g.componentsRegistry[F];var V=z.schema;if(V&&(V.subplots||V.layout)){var W=V.subplots;if(W&&W.xaxis&&!W.yaxis)for(var Q in W.xaxis)delete U.yaxis[Q];delete U.xaxis.shift,delete U.xaxis.autoshift}else z.name==="colorscale"?t(U,z.layoutAttributes):z.layoutAttributes&&_(U,z.layoutAttributes,z.name)}return{layoutAttributes:b(U)}}function m(U){var F=g.transformsRegistry[U],z=t({},F.attributes);return Object.keys(g.componentsRegistry).forEach(function(B){var N=g.componentsRegistry[B];N.schema&&N.schema.transforms&&N.schema.transforms[U]&&Object.keys(N.schema.transforms[U]).forEach(function(V){_(z,N.schema.transforms[U][V],V)})}),{attributes:b(z)}}function E(){var U={frames:t({},w)};return b(U),U.frames}function b(U){return s(U),L(U),A(U),U}function s(U){function F(B){return{valType:"string",editType:"none"}}function z(B,N,V){j.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(V[N+"src"]=F()):i(B)&&(B.role="object")}j.crawl(U,z)}function L(U){function F(z,B,N){if(z){var V=z[y];V&&(delete z[y],N[B]={items:{}},N[B].items[V]=z,N[B].role="object")}}j.crawl(U,F)}function A(U){function F(z){for(var B in z)if(i(z[B]))F(z[B]);else if(Array.isArray(z[B]))for(var N=0;N<z[B].length;N++)F(z[B][N]);else z[B]instanceof RegExp&&(z[B]=z[B].toString())}F(U)}function k(U,F,z){var B=u(U,z),N=t({},F.layoutAttributes);N[l]=!0,B.set(N)}function _(U,F,z){var B=u(U,z);B.set(t(B.get()||{},F))}},31780:function(H,j,e){var g=e(3400),P=e(45464),a="templateitemname",x={name:{valType:"string",editType:"none"}};x[a]={valType:"string",editType:"calc"},j.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=x.name,r[a]=x[a],r},j.traceTemplater=function(p){var r={},t,i;for(t in p)i=p[t],Array.isArray(i)&&i.length&&(r[t]=0);function n(u){t=g.coerce(u,{},P,"type");var f={type:t,_template:null};if(t in r){i=p[t];var l=r[t]%i.length;r[t]++,f._template=i[l]}return f}return{newTrace:n}},j.newContainer=function(p,r,t){var i=p._template,n=i&&(i[r]||t&&i[t]);g.isPlainObject(n)||(n=null);var u=p[r]={_template:n};return u},j.arrayTemplater=function(p,r,t){var i=p._template,n=i&&i[v(r)],u=i&&i[r];(!Array.isArray(u)||!u.length)&&(u=[]);var f={};function l(h){var M={name:h.name,_input:h},c=M[a]=h[a];if(!w(c))return M._template=n,M;for(var o=0;o<u.length;o++){var d=u[o];if(d.name===c)return f[c]=1,M._template=d,M}return M[t]=h[t]||!1,M._template=!1,M}function y(){for(var h=[],M=0;M<u.length;M++){var c=u[M],o=c.name;if(w(o)&&!f[o]){var d={_template:c,name:o,_input:{_templateitemname:o}};d[a]=c[a],h.push(d),f[o]=1}}return h}return{newItem:l,defaultItems:y}};function w(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}j.arrayDefaultKey=v,j.arrayEditor=function(p,r,t){var i=(g.nestedProperty(p,r).get()||[]).length,n=t._index,u=n>=i&&(t._input||{})._templateitemname;u&&(n=i);var f=r+"["+n+"]",l;function y(){l={},u&&(l[f]={},l[f][a]=u)}y();function h(d,T){l[d]=T}function M(d,T){u?g.nestedProperty(l[f],d).set(T):l[f+"."+d]=T}function c(){var d=l;return y(),d}function o(d,T){d&&M(d,T);var S=c();for(var C in S)g.nestedProperty(p,C).set(S[C])}return{modifyBase:h,modifyItem:M,getUpdateObj:c,applyUpdate:o}}},39172:function(H,j,e){var g=e(33428),P=e(24040),a=e(7316),x=e(3400),w=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),i=e(45460),n=e(54460),u=e(84284),f=e(71888),l=f.enforce,y=f.clean,h=e(19280).doAutoRange,M="start",c="middle",o="end";j.layoutStyles=function(z){return x.syncOrAsync([a.doAutoMargin,T],z)};function d(z,B,N){for(var V=0;V<N.length;V++){var W=N[V][0],Q=N[V][1];if(!(W[0]>=z[1]||W[1]<=z[0])&&Q[0]<B[1]&&Q[1]>B[0])return!0}return!1}function T(z){var B=z._fullLayout,N=B._size,V=N.p,W=n.list(z,"",!0),Q,re,ne,fe,$,X;if(B._paperdiv.style({width:z._context.responsive&&B.autosize&&!z._context._hasZeroWidth&&!z.layout.width?"100%":B.width+"px",height:z._context.responsive&&B.autosize&&!z._context._hasZeroHeight&&!z.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(r.setSize,B.width,B.height),z._context.setBackground(z,B.paper_bgcolor),j.drawMainTitle(z),i.manage(z),!B._has("cartesian"))return a.previousPromises(z);function oe(be,me,Me){var Te=be._lw/2;if(be._id.charAt(0)==="x"){if(me){if(Me==="top")return me._offset-V-Te}else return N.t+N.h*(1-(be.position||0))+Te%1;return me._offset+me._length+V+Te}if(me){if(Me==="right")return me._offset+me._length+V+Te}else return N.l+N.w*(be.position||0)+Te%1;return me._offset-V-Te}for(Q=0;Q<W.length;Q++){fe=W[Q];var Y=fe._anchorAxis;fe._linepositions={},fe._lw=r.crispRound(z,fe.linewidth,1),fe._mainLinePosition=oe(fe,Y,fe.side),fe._mainMirrorPosition=fe.mirror&&Y?oe(fe,Y,u.OPPOSITE_SIDE[fe.side]):null}var ee=[],se=[],q=[],K=p.opacity(B.paper_bgcolor)===1&&p.opacity(B.plot_bgcolor)===1&&B.paper_bgcolor===B.plot_bgcolor;for(re in B._plots)if(ne=B._plots[re],ne.mainplot)ne.bg&&ne.bg.remove(),ne.bg=void 0;else{var le=ne.xaxis.domain,ie=ne.yaxis.domain,he=ne.plotgroup;if(d(le,ie,q)){var ye=he.node(),Ce=ne.bg=x.ensureSingle(he,"rect","bg");ye.insertBefore(Ce.node(),ye.childNodes[0]),se.push(re)}else he.select("rect.bg").remove(),q.push([le,ie]),K||(ee.push(re),se.push(re))}var Ae=B._bgLayer.selectAll(".bg").data(ee);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(be){B._plots[be].bg=g.select(this)}),Q=0;Q<se.length;Q++)ne=B._plots[se[Q]],$=ne.xaxis,X=ne.yaxis,ne.bg&&$._offset!==void 0&&X._offset!==void 0&&ne.bg.call(r.setRect,$._offset-V,X._offset-V,$._length+2*V,X._length+2*V).call(p.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(re in B._plots){ne=B._plots[re],$=ne.xaxis,X=ne.yaxis;var ke=ne.clipId="clip"+B._uid+re+"plot",we=x.ensureSingleById(B._clips,"clipPath",ke,function(be){be.classed("plotclip",!0).append("rect")});ne.clipRect=we.select("rect").attr({width:$._length,height:X._length}),r.setTranslate(ne.plot,$._offset,X._offset);var Ee,xe;ne._hasClipOnAxisFalse?(Ee=null,xe=ke):(Ee=ke,xe=null),r.setClipUrl(ne.plot,Ee,z),ne.layerClipId=xe}var Re,Ve,Ue,Be,Xe,ut,dt,at,We,rt,st,ht,vt;function At(be){return"M"+Re+","+be+"H"+Ve}function tt(be){return"M"+$._offset+","+be+"h"+$._length}function _e(be){return"M"+be+","+at+"V"+dt}function je(be){return X._shift!==void 0&&(be+=X._shift),"M"+be+","+X._offset+"v"+X._length}function Ke(be,me,Me){if(!be.showline||re!==be._mainSubplot)return"";if(!be._anchorAxis)return Me(be._mainLinePosition);var Te=me(be._mainLinePosition);return be.mirror&&(Te+=me(be._mainMirrorPosition)),Te}for(re in B._plots){ne=B._plots[re],$=ne.xaxis,X=ne.yaxis;var He="M0,0";S($,re)&&(Xe=m($,"left",X,W),Re=$._offset-(Xe?V+Xe:0),ut=m($,"right",X,W),Ve=$._offset+$._length+(ut?V+ut:0),Ue=oe($,X,"bottom"),Be=oe($,X,"top"),vt=!$._anchorAxis||re!==$._mainSubplot,vt&&($.mirror==="allticks"||$.mirror==="all")&&($._linepositions[re]=[Ue,Be]),He=Ke($,At,tt),vt&&$.showline&&($.mirror==="all"||$.mirror==="allticks")&&(He+=At(Ue)+At(Be)),ne.xlines.style("stroke-width",$._lw+"px").call(p.stroke,$.showline?$.linecolor:"rgba(0,0,0,0)")),ne.xlines.attr("d",He);var Ie="M0,0";S(X,re)&&(st=m(X,"bottom",$,W),dt=X._offset+X._length+(st?V:0),ht=m(X,"top",$,W),at=X._offset-(ht?V:0),We=oe(X,$,"left"),rt=oe(X,$,"right"),vt=!X._anchorAxis||re!==X._mainSubplot,vt&&(X.mirror==="allticks"||X.mirror==="all")&&(X._linepositions[re]=[We,rt]),Ie=Ke(X,_e,je),vt&&X.showline&&(X.mirror==="all"||X.mirror==="allticks")&&(Ie+=_e(We)+_e(rt)),ne.ylines.style("stroke-width",X._lw+"px").call(p.stroke,X.showline?X.linecolor:"rgba(0,0,0,0)")),ne.ylines.attr("d",Ie)}return n.makeClipPaths(z),a.previousPromises(z)}function S(z,B){return(z.ticks||z.showline)&&(B===z._mainSubplot||z.mirror==="all"||z.mirror==="allticks")}function C(z,B,N){if(!N.showline||!N._lw)return!1;if(N.mirror==="all"||N.mirror==="allticks")return!0;var V=N._anchorAxis;if(!V)return!1;var W=u.FROM_BL[B];return N.side===B?V.domain[W]===z.domain[W]:N.mirror&&V.domain[1-W]===z.domain[1-W]}function m(z,B,N,V){if(C(z,B,N))return N._lw;for(var W=0;W<V.length;W++){var Q=V[W];if(Q._mainAxis===N._mainAxis&&C(z,B,Q))return Q._lw}return 0}j.drawMainTitle=function(z){var B=z._fullLayout.title,N=z._fullLayout,V=U(N),W=F(N),Q=k(N,W),re=A(N,V);if(t.draw(z,"gtitle",{propContainer:N,propName:"title.text",placeholder:N._dfltTitle.plot,attributes:{x:re,y:Q,"text-anchor":V,dy:W}}),B.text&&B.automargin){var ne=g.selectAll(".gtitle"),fe=r.bBox(ne.node()).height,$=s(z,B,fe);if($>0){L(z,Q,$,fe),ne.attr({x:re,y:Q,"text-anchor":V,dy:_(B.yanchor)}).call(w.positionText,re,Q);var X=(B.text.match(w.BR_TAG_ALL)||[]).length;if(X){var oe=u.LINE_SPACING*X+u.MID_SHIFT;B.y===0&&(oe=-oe),ne.selectAll(".line").each(function(){var Y=+this.getAttribute("dy").slice(0,-2)-oe+"em";this.setAttribute("dy",Y)})}}}};function E(z,B,N,V,W){var Q=B.yref==="paper"?z._fullLayout._size.h:z._fullLayout.height,re=x.isTopAnchor(B)?V:V-W,ne=N==="b"?Q-re:re;return x.isTopAnchor(B)&&N==="t"||x.isBottomAnchor(B)&&N==="b"?!1:ne<W}function b(z,B,N,V,W){var Q=0;return N==="middle"&&(Q+=W/2),z==="t"?(N==="top"&&(Q+=W),Q+=V-B*V):(N==="bottom"&&(Q+=W),Q+=B*V),Q}function s(z,B,N){var V=B.y,W=B.yanchor,Q=V>.5?"t":"b",re=z._fullLayout.margin[Q],ne=0;return B.yref==="paper"?ne=N+B.pad.t+B.pad.b:B.yref==="container"&&(ne=b(Q,V,W,z._fullLayout.height,N)+B.pad.t+B.pad.b),ne>re?ne:0}function L(z,B,N,V){var W="title.automargin",Q=z._fullLayout.title,re=Q.y>.5?"t":"b",ne={x:Q.x,y:Q.y,t:0,b:0},fe={};Q.yref==="paper"&&E(z,Q,re,B,V)?ne[re]=N:Q.yref==="container"&&(fe[re]=N,z._fullLayout._reservedMargin[W]=fe),a.allowAutoMargin(z,W),a.autoMargin(z,W,ne)}function A(z,B){var N=z.title,V=z._size,W=0;switch(B===M?W=N.pad.l:B===o&&(W=-N.pad.r),N.xref){case"paper":return V.l+V.w*N.x+W;case"container":default:return z.width*N.x+W}}function k(z,B){var N=z.title,V=z._size,W=0;if(B==="0em"||!B?W=-N.pad.b:B===u.CAP_SHIFT+"em"&&(W=N.pad.t),N.y==="auto")return V.t/2;switch(N.yref){case"paper":return V.t+V.h-V.h*N.y+W;case"container":default:return z.height-z.height*N.y+W}}function _(z){return z==="top"?u.CAP_SHIFT+.3+"em":z==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function U(z){var B=z.title,N=c;return x.isRightAnchor(B)?N=o:x.isLeftAnchor(B)&&(N=M),N}function F(z){var B=z.title,N="0em";return x.isTopAnchor(B)?N=u.CAP_SHIFT+"em":x.isMiddleAnchor(B)&&(N=u.MID_SHIFT+"em"),N}j.doTraceStyle=function(z){var B=z.calcdata,N=[],V;for(V=0;V<B.length;V++){var W=B[V],Q=W[0]||{},re=Q.trace||{},ne=re._module||{},fe=ne.arraysToCalcdata;fe&&fe(W,re);var $=ne.editStyle;$&&N.push({fn:$,cd0:Q})}if(N.length){for(V=0;V<N.length;V++){var X=N[V];X.fn(z,X.cd0)}v(z),j.redrawReglTraces(z)}return a.style(z),P.getComponentMethod("legend","draw")(z),a.previousPromises(z)},j.doColorBars=function(z){return P.getComponentMethod("colorbar","draw")(z),a.previousPromises(z)},j.layoutReplot=function(z){var B=z.layout;return z.layout=void 0,P.call("_doPlot",z,"",B)},j.doLegend=function(z){return P.getComponentMethod("legend","draw")(z),a.previousPromises(z)},j.doTicksRelayout=function(z){return n.draw(z,"redraw"),z._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(z),v(z),j.redrawReglTraces(z)),j.drawMainTitle(z),a.previousPromises(z)},j.doModeBar=function(z){var B=z._fullLayout;i.manage(z);for(var N=0;N<B._basePlotModules.length;N++){var V=B._basePlotModules[N].updateFx;V&&V(z)}return a.previousPromises(z)},j.doCamera=function(z){for(var B=z._fullLayout,N=B._subplots.gl3d,V=0;V<N.length;V++){var W=B[N[V]],Q=W._scene;Q.setViewport(W)}},j.drawData=function(z){var B=z._fullLayout;v(z);for(var N=B._basePlotModules,V=0;V<N.length;V++)N[V].plot(z);return j.redrawReglTraces(z),a.style(z),P.getComponentMethod("selections","draw")(z),P.getComponentMethod("shapes","draw")(z),P.getComponentMethod("annotations","draw")(z),P.getComponentMethod("images","draw")(z),B._replotting=!1,a.previousPromises(z)},j.redrawReglTraces=function(z){var B=z._fullLayout;if(B._has("regl")){var N=z._fullData,V=[],W=[],Q,re;for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),Q=0;Q<N.length;Q++){var ne=N[Q];ne.visible===!0&&ne._length!==0&&(ne.type==="splom"?B._splomScenes[ne.uid].draw():ne.type==="scattergl"?x.pushUnique(V,ne.xaxis+ne.yaxis):ne.type==="scatterpolargl"&&x.pushUnique(W,ne.subplot))}for(Q=0;Q<V.length;Q++)re=B._plots[V[Q]],re._scene&&re._scene.draw();for(Q=0;Q<W.length;Q++)re=B[W[Q]]._subplot,re._scene&&re._scene.draw()}},j.doAutoRangeAndConstraints=function(z){for(var B=n.list(z,"",!0),N,V={},W=0;W<B.length;W++)if(N=B[W],!V[N._id]){V[N._id]=1,y(z,N),h(z,N);var Q=N._matchGroup;if(Q)for(var re in Q){var ne=n.getFromId(z,re);h(z,ne,N.range),V[re]=1}}l(z)},j.finalDraw=function(z){P.getComponentMethod("rangeslider","draw")(z),P.getComponentMethod("rangeselector","draw")(z)},j.drawMarginPushers=function(z){P.getComponentMethod("legend","draw")(z),P.getComponentMethod("rangeselector","draw")(z),P.getComponentMethod("sliders","draw")(z),P.getComponentMethod("updatemenus","draw")(z),P.getComponentMethod("colorbar","draw")(z)}},94828:function(H,j,e){var g=e(3400),P=g.isPlainObject,a=e(73060),x=e(7316),w=e(45464),v=e(31780),p=e(20556).dfltConfig;j.makeTemplate=function(h){h=g.isPlainObject(h)?h:g.getGraphDiv(h),h=g.extendDeep({_context:p},{data:h.data,layout:h.layout}),x.supplyDefaults(h);var M=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var o={data:{},layout:{}};M.forEach(function(A){var k={};i(A,k,u.bind(null,A));var _=g.coerce(A,{},w,"type"),U=o.data[_];U||(U=o.data[_]=[]),U.push(k)}),i(c,o.layout,n.bind(null,c)),delete o.layout.template;var d=c.template;if(P(d)){var T=d.layout,S,C,m,E,b,s;P(T)&&r(T,o.layout);var L=d.data;if(P(L)){for(C in o.data)if(m=L[C],Array.isArray(m)){for(b=o.data[C],s=b.length,E=m.length,S=0;S<s;S++)r(m[S%E],b[S]);for(S=s;S<E;S++)b.push(g.extendDeep({},m[S]))}for(C in L)C in o.data||(o.data[C]=g.extendDeep([],L[C]))}}return o};function r(h,M){h=g.extendDeep({},h);var c=Object.keys(h).sort(),o,d;function T(b,s,L){if(P(s)&&P(b))r(b,s);else if(Array.isArray(s)&&Array.isArray(b)){var A=v.arrayTemplater({_template:h},L);for(d=0;d<s.length;d++){var k=s[d],_=A.newItem(k)._template;_&&r(_,k)}var U=A.defaultItems();for(d=0;d<U.length;d++)s.push(U[d]._template);for(d=0;d<s.length;d++)delete s[d].templateitemname}}for(o=0;o<c.length;o++){var S=c[o],C=h[S];if(S in M?T(C,M[S],S):M[S]=C,t(S)===S)for(var m in M){var E=t(m);m!==E&&E===S&&!(m in h)&&T(C,M[m],S)}}}function t(h){return h.replace(/[0-9]+$/,"")}function i(h,M,c,o,d){var T=d&&c(d);for(var S in h){var C=h[S],m=f(h,S,o),E=f(h,S,d),b=c(E);if(!b){var s=t(S);s!==S&&(E=f(h,s,d),b=c(E))}if(!(T&&T===b)&&!(!b||b._noTemplating||b.valType==="data_array"||b.arrayOk&&Array.isArray(C)))if(!b.valType&&P(C))i(C,M,c,m,E);else if(b._isLinkedToArray&&Array.isArray(C))for(var L=!1,A=0,k={},_=0;_<C.length;_++){var U=C[_];if(P(U)){var F=U.name;if(F)k[F]||(i(U,M,c,f(C,A,m),f(C,A,E)),A++,k[F]=1);else if(!L){var z=v.arrayDefaultKey(S),B=f(h,z,o),N=f(C,A,m);i(U,M,c,N,f(C,A,E));var V=g.nestedProperty(M,N),W=g.nestedProperty(M,B);W.set(V.get()),V.set(null),L=!0}}}else{var Q=g.nestedProperty(M,m);Q.set(C)}}}function n(h,M){return a.getLayoutValObject(h,g.nestedProperty({},M).parts)}function u(h,M){return a.getTraceValObject(h,g.nestedProperty({},M).parts)}function f(h,M,c){var o;return c?Array.isArray(h)?o=c+"["+M+"]":o=c+"."+M:o=M,o}j.validateTemplate=function(h,M){var c=g.extendDeep({},{_context:p,data:h.data,layout:h.layout}),o=c.layout||{};P(M)||(M=o.template||{});var d=M.layout,T=M.data,S=[];c.layout=o,c.layout.template=M,x.supplyDefaults(c);var C=c._fullLayout,m=c._fullData,E={};function b(B,N){for(var V in B)if(V.charAt(0)!=="_"&&P(B[V])){var W=t(V),Q=[],re;for(re=0;re<N.length;re++)Q.push(f(B,V,N[re])),W!==V&&Q.push(f(B,W,N[re]));for(re=0;re<Q.length;re++)E[Q[re]]=1;b(B[V],Q)}}function s(B,N){for(var V in B)if(V.indexOf("defaults")===-1&&P(B[V])){var W=f(B,V,N);E[W]?s(B[V],W):S.push({code:"unused",path:W})}}if(P(d)?(b(C,["layout"]),s(d,"layout")):S.push({code:"layout"}),!P(T))S.push({code:"data"});else{for(var L={},A,k=0;k<m.length;k++){var _=m[k];A=_.type,L[A]=(L[A]||0)+1,_._fullInput._template||S.push({code:"missing",index:_._fullInput.index,traceType:A})}for(A in T){var U=T[A].length,F=L[A]||0;U>F?S.push({code:"unused",traceType:A,templateCount:U,dataCount:F}):F>U&&S.push({code:"reused",traceType:A,templateCount:U,dataCount:F})}}function z(B,N){for(var V in B)if(V.charAt(0)!=="_"){var W=B[V],Q=f(B,V,N);P(W)?(Array.isArray(B)&&W._template===!1&&W.templateitemname&&S.push({code:"missing",path:Q,templateitemname:W.templateitemname}),z(W,Q)):Array.isArray(W)&&l(W)&&z(W,Q)}}if(z({data:m,layout:C},""),S.length)return S.map(y)};function l(h){for(var M=0;M<h.length;M++)if(P(h[M]))return!0}function y(h){var M;switch(h.code){case"data":M="The template has no key data.";break;case"layout":M="The template has no key layout.";break;case"missing":h.path?M="There are no templates for item "+h.path+" with name "+h.templateitemname:M="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?M="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?M="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":M="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":M="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=M,h}},67024:function(H,j,e){var g=e(38248),P=e(36424),a=e(7316),x=e(3400),w=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function i(n,u){u=u||{};var f,l,y,h;x.isPlainObject(n)?(f=n.data||[],l=n.layout||{},y=n.config||{},h={}):(n=x.getGraphDiv(n),f=x.extendDeep([],n.data),l=x.extendDeep({},n.layout),y=n._context,h=n._fullLayout||{});function M(F){return!(F in u)||x.validate(u[F],t[F])}if(!M("width")&&u.width!==null||!M("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+x.join2(t.format.values,", "," or ")+".");var c={};function o(F,z){return x.coerce(u,c,t,F,z)}var d=o("format"),T=o("width"),S=o("height"),C=o("scale"),m=o("setBackground"),E=o("imageDataOnly"),b=document.createElement("div");b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);var s=x.extendFlat({},l);T?s.width=T:u.width===null&&g(h.width)&&(s.width=h.width),S?s.height=S:u.height===null&&g(h.height)&&(s.height=h.height);var L=x.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),A=w.getRedrawFunc(b);function k(){return new Promise(function(F){setTimeout(F,w.getDelay(b._fullLayout))})}function _(){return new Promise(function(F,z){var B=v(b,d,C),N=b._fullLayout.width,V=b._fullLayout.height;function W(){P.purge(b),document.body.removeChild(b)}if(d==="full-json"){var Q=a.graphJson(b,!1,"keepdata","object",!0,!0);return Q.version=r,Q=JSON.stringify(Q),W(),F(E?Q:w.encodeJSON(Q))}if(W(),d==="svg")return F(E?B:w.encodeSVG(B));var re=document.createElement("canvas");re.id=x.randstr(),p({format:d,width:N,height:V,scale:C,canvas:re,svg:B,promise:!0}).then(F).catch(z)})}function U(F){return E?F.replace(w.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,z){P.newPlot(b,f,s,L).then(A).then(k).then(_).then(function(B){F(U(B))}).catch(function(B){z(B)})})}H.exports=i},21480:function(H,j,e){var g=e(3400),P=e(7316),a=e(73060),x=e(20556).dfltConfig,w=g.isPlainObject,v=Array.isArray,p=g.isArrayOrTypedArray;H.exports=function(o,d){o===void 0&&(o=[]),d===void 0&&(d={});var T=a.get(),S=[],C={_context:g.extendFlat({},x)},m,E;v(o)?(C.data=g.extendDeep([],o),m=o):(C.data=[],m=[],S.push(u("array","data"))),w(d)?(C.layout=g.extendDeep({},d),E=d):(C.layout={},E={},arguments.length>1&&S.push(u("object","layout"))),P.supplyDefaults(C);for(var b=C._fullData,s=m.length,L=0;L<s;L++){var A=m[L],k=["data",L];if(!w(A)){S.push(u("object",k));continue}var _=b[L],U=_.type,F=T.traces[U].attributes;F.type={valType:"enumerated",values:[U]},_.visible===!1&&A.visible!==!1&&S.push(u("invisible",k)),r(A,_,F,S,k);var z=A.transforms,B=_.transforms;if(z){v(z)||S.push(u("array",k,["transforms"])),k.push("transforms");for(var N=0;N<z.length;N++){var V=["transforms",N],W=z[N].type;if(!w(z[N])){S.push(u("object",k,V));continue}var Q=T.transforms[W]?T.transforms[W].attributes:{};Q.type={valType:"enumerated",values:Object.keys(T.transforms)},r(z[N],B[N],Q,S,k,V)}}}var re=C._fullLayout,ne=t(T,b);return r(E,re,ne,S,"layout"),S.length===0?void 0:S};function r(c,o,d,T,S,C){C=C||[];for(var m=Object.keys(c),E=0;E<m.length;E++){var b=m[E];if(b!=="transforms"){var s=C.slice();s.push(b);var L=c[b],A=o[b],k=l(d,b),_=(k||{}).valType,U=_==="info_array",F=_==="colorscale",z=(k||{}).items;if(!f(d,b))T.push(u("schema",S,s));else if(w(L)&&w(A)&&_!=="any")r(L,A,k,T,S,s);else if(U&&v(L)){L.length>A.length&&T.push(u("unused",S,s.concat(A.length)));var B=A.length,N=Array.isArray(z);N&&(B=Math.min(B,z.length));var V,W,Q,re,ne;if(k.dimensions===2)for(W=0;W<B;W++)if(v(L[W])){L[W].length>A[W].length&&T.push(u("unused",S,s.concat(W,A[W].length)));var fe=A[W].length;for(V=0;V<(N?Math.min(fe,z[W].length):fe);V++)Q=N?z[W][V]:z,re=L[W][V],ne=A[W][V],g.validate(re,Q)?ne!==re&&ne!==+re&&T.push(u("dynamic",S,s.concat(W,V),re,ne)):T.push(u("value",S,s.concat(W,V),re))}else T.push(u("array",S,s.concat(W),L[W]));else for(W=0;W<B;W++)Q=N?z[W]:z,re=L[W],ne=A[W],g.validate(re,Q)?ne!==re&&ne!==+re&&T.push(u("dynamic",S,s.concat(W),re,ne)):T.push(u("value",S,s.concat(W),re))}else if(k.items&&!U&&v(L)){var $=z[Object.keys(z)[0]],X=[],oe,Y;for(oe=0;oe<A.length;oe++){var ee=A[oe]._index||oe;if(Y=s.slice(),Y.push(ee),w(L[ee])&&w(A[oe])){X.push(ee);var se=L[ee],q=A[oe];w(se)&&se.visible!==!1&&q.visible===!1?T.push(u("invisible",S,Y)):r(se,q,$,T,S,Y)}}for(oe=0;oe<L.length;oe++)Y=s.slice(),Y.push(oe),w(L[oe])?X.indexOf(oe)===-1&&T.push(u("unused",S,Y)):T.push(u("object",S,Y,L[oe]))}else!w(L)&&w(A)?T.push(u("object",S,s,L)):!p(L)&&p(A)&&!U&&!F?T.push(u("array",S,s,L)):b in o?g.validate(L,k)?k.valType==="enumerated"&&(k.coerceNumber&&L!==+A||L!==A)&&T.push(u("dynamic",S,s,L,A)):T.push(u("value",S,s,L)):T.push(u("unused",S,s,L))}}return T}function t(c,o){for(var d=c.layout.layoutAttributes,T=0;T<o.length;T++){var S=o[T],C=c.traces[S.type],m=C.layoutAttributes;m&&(S.subplot?g.extendFlat(d[C.attributes.subplot.dflt],m):g.extendFlat(d,m))}return d}var i={object:function(c,o){var d;return c==="layout"&&o===""?d="The layout argument":c[0]==="data"&&o===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+o,d+" must be linked to an object container"},array:function(c,o){var d;return c==="data"?d="The data argument":d=n(c)+"key "+o,d+" must be linked to an array container"},schema:function(c,o){return n(c)+"key "+o+" is not part of the schema"},unused:function(c,o,d){var T=w(d)?"container":"key";return n(c)+T+" "+o+" did not get coerced"},dynamic:function(c,o,d,T){return[n(c)+"key",o,"(set to '"+d+"')","got reset to","'"+T+"'","during defaults."].join(" ")},invisible:function(c,o){return(o?n(c)+"item "+o:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,o,d){return[n(c)+"key "+o,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function u(c,o,d,T,S){d=d||"";var C,m;v(o)?(C=o[0],m=o[1]):(C=o,m=null);var E=M(d),b=i[c](o,E,T,S);return g.log(b),{code:c,container:C,trace:m,path:d,astr:E,msg:b}}function f(c,o){var d=h(o),T=d.keyMinusId,S=d.id;return T in c&&c[T]._isSubplotObj&&S?!0:o in c}function l(c,o){if(o in c)return c[o];var d=h(o);return c[d.keyMinusId]}var y=g.counterRegex("([a-z]+)");function h(c){var o=c.match(y);return{keyMinusId:o&&o[1],id:o&&o[2]}}function M(c){if(!v(c))return String(c);for(var o="",d=0;d<c.length;d++){var T=c[d];typeof T=="number"?o=o.substr(0,o.length-1)+"["+T+"]":o+=T,d<c.length-1&&(o+=".")}return o}},85656:function(H){H.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(H,j,e){var g=e(3400),P=e(31780);H.exports=function(x,w,v){var p=v.name,r=v.inclusionAttr||"visible",t=w[p],i=g.isArrayOrTypedArray(x[p])?x[p]:[],n=w[p]=[],u=P.arrayTemplater(w,p,r),f,l;for(f=0;f<i.length;f++){var y=i[f];g.isPlainObject(y)?l=u.newItem(y):(l=u.newItem({}),l[r]=!1),l._index=f,l[r]!==!1&&v.handleItemDefaults(y,l,w,v),n.push(l)}var h=u.defaultItems();for(f=0;f<h.length;f++)l=h[f],l._index=n.length,v.handleItemDefaults({},l,w,v,{}),n.push(l);if(g.isArrayOrTypedArray(t)){var M=Math.min(t.length,n.length);for(f=0;f<M;f++)g.relinkPrivateKeys(n[f],t[f])}return n}},45464:function(H,j,e){var g=e(25376),P=e(55756);H.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(H,j,e){var g=e(38248),P=e(3400),a=P.dateTime2ms,x=P.incrementMonth,w=e(39032),v=w.ONEAVGMONTH;H.exports=function(r,t,i,n){if(t.type!=="date")return{vals:n};var u=r[i+"periodalignment"];if(!u)return{vals:n};var f=r[i+"period"],l;if(g(f)){if(f=+f,f<=0)return{vals:n}}else if(typeof f=="string"&&f.charAt(0)==="M"){var y=+f.substring(1);if(y>0&&Math.round(y)===y)l=y;else return{vals:n}}for(var h=t.calendar,M=u==="start",c=u==="end",o=r[i+"period0"],d=a(o,h)||0,T=[],S=[],C=[],m=n.length,E=0;E<m;E++){var b=n[E],s,L,A;if(l){for(s=Math.round((b-d)/(l*v)),A=x(d,l*s,h);A>b;)A=x(A,-l,h);for(;A<=b;)A=x(A,l,h);L=x(A,-l,h)}else{for(s=Math.round((b-d)/f),A=d+s*f;A>b;)A-=f;for(;A<=b;)A+=f;L=A-f}T[E]=M?L:c?A:(L+A)/2,S[E]=L,C[E]=A}return{vals:T,starts:S,ends:C}}},26720:function(H){H.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(H,j,e){var g=e(33428),P=e(38248),a=e(3400),x=e(39032).FP_SAFE,w=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;H.exports={applyAutorangeOptions:s,getAutoRange:i,makePadFn:u,doAutoRange:h,findExtremes:M,concatExtremes:y};function i(L,A){var k,_,U=[],F=L._fullLayout,z=u(F,A,0),B=u(F,A,1),N=y(L,A),V=N.min,W=N.max;if(V.length===0||W.length===0)return a.simpleMap(A.range,A.r2l);var Q=V[0].val,re=W[0].val;for(k=1;k<V.length&&Q===re;k++)Q=Math.min(Q,V[k].val);for(k=1;k<W.length&&Q===re;k++)re=Math.max(re,W[k].val);var ne=A.autorange,fe=ne==="reversed"||ne==="min reversed"||ne==="max reversed";if(!fe&&A.range){var $=a.simpleMap(A.range,A.r2l);fe=$[1]<$[0]}A.autorange==="reversed"&&(A.autorange=!0);var X=A.rangemode,oe=X==="tozero",Y=X==="nonnegative",ee=A._length,se=ee/10,q=0,K,le,ie,he,ye,Ce;for(k=0;k<V.length;k++)for(K=V[k],_=0;_<W.length;_++)le=W[_],Ce=le.val-K.val-n(A,K.val,le.val),Ce>0&&(ye=ee-z(K)-B(le),ye>se?Ce/ye>q&&(ie=K,he=le,q=Ce/ye):Ce/ee>q&&(ie={val:K.val,nopad:1},he={val:le.val,nopad:1},q=Ce/ee));function Ae(Re,Ve){return Math.max(Re,B(Ve))}if(Q===re){var ke=Q-1,we=Q+1;if(oe)if(Q===0)U=[0,1];else{var Ee=(Q>0?W:V).reduce(Ae,0),xe=Q/(1-Math.min(.5,Ee/ee));U=Q>0?[0,xe]:[xe,0]}else Y?U=[Math.max(0,ke),Math.max(1,we)]:U=[ke,we]}else oe?(ie.val>=0&&(ie={val:0,nopad:1}),he.val<=0&&(he={val:0,nopad:1})):Y&&(ie.val-q*z(ie)<0&&(ie={val:0,nopad:1}),he.val<=0&&(he={val:1,nopad:1})),q=(he.val-ie.val-n(A,K.val,le.val))/(ee-z(ie)-B(he)),U=[ie.val-q*z(ie),he.val+q*B(he)];return U=s(U,A),A.limitRange&&A.limitRange(),fe&&U.reverse(),a.simpleMap(U,A.l2r||Number)}function n(L,A,k){var _=0;if(L.rangebreaks)for(var U=L.locateBreaks(A,k),F=0;F<U.length;F++){var z=U[F];_+=z.max-z.min}return _}function u(L,A,k){var _=.05*A._length,U=A._anchorAxis||{};if((A.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var F=A.isReversed();if(!F){var z=a.simpleMap(A.range,A.r2l);F=z[1]<z[0]}F&&(k=!k)}var B=0;return t(L,A._id)||(B=l(L,A,k)),_=Math.max(B,_),A.constrain==="domain"&&A._inputDomain&&(_*=(A._inputDomain[1]-A._inputDomain[0])/(A.domain[1]-A.domain[0])),function(V){return V.nopad?0:V.pad+(V.extrapad?_:B)}}var f=3;function l(L,A,k){var _=0,U=A._id.charAt(0)==="x";for(var F in L._plots){var z=L._plots[F];if(!(A._id!==z.xaxis._id&&A._id!==z.yaxis._id)){var B=(U?z.yaxis:z.xaxis)||{};if((B.ticklabelposition||"").indexOf("inside")!==-1&&(!k&&(B.side==="left"||B.side==="bottom")||k&&(B.side==="top"||B.side==="right"))){if(B._vals){var N=a.deg2rad(B._tickAngles[B._id+"tick"]||0),V=Math.abs(Math.cos(N)),W=Math.abs(Math.sin(N));if(!B._vals[0].bb){var Q=B._id+"tick",re=B._selections[Q];re.each(function(Y){var ee=g.select(this),se=ee.select(".text-math-group");se.empty()&&(Y.bb=v.bBox(ee.node()))})}for(var ne=0;ne<B._vals.length;ne++){var fe=B._vals[ne],$=fe.bb;if($){var X=2*f+$.width,oe=2*f+$.height;_=Math.max(_,U?Math.max(X*V,oe*W):Math.max(oe*V,X*W))}}}B.ticks==="inside"&&B.ticklabelposition==="inside"&&(_+=B.ticklen||0)}}}return _}function y(L,A,k){var _=A._id,U=L._fullData,F=L._fullLayout,z=[],B=[],N,V,W;function Q(X,oe){for(N=0;N<oe.length;N++){var Y=X[oe[N]],ee=(Y._extremes||{})[_];if(Y.visible===!0&&ee){for(V=0;V<ee.min.length;V++)W=ee.min[V],c(z,W.val,W.pad,{extrapad:W.extrapad});for(V=0;V<ee.max.length;V++)W=ee.max[V],o(B,W.val,W.pad,{extrapad:W.extrapad})}}}if(Q(U,A._traceIndices),Q(F.annotations||[],A._annIndices||[]),Q(F.shapes||[],A._shapeIndices||[]),A._matchGroup&&!k){for(var re in A._matchGroup)if(re!==A._id){var ne=r(L,re),fe=y(L,ne,!0),$=A._length/ne._length;for(V=0;V<fe.min.length;V++)W=fe.min[V],c(z,W.val,W.pad*$,{extrapad:W.extrapad});for(V=0;V<fe.max.length;V++)W=fe.max[V],o(B,W.val,W.pad*$,{extrapad:W.extrapad})}}return{min:z,max:B}}function h(L,A,k){if(A.setScale(),A.autorange){A.range=k?k.slice():i(L,A),A._r=A.range.slice(),A._rl=a.simpleMap(A._r,A.r2l);var _=A._input,U={};U[A._attr+".range"]=A.range,U[A._attr+".autorange"]=A.autorange,w.call("_storeDirectGUIEdit",L.layout,L._fullLayout._preGUI,U),_.range=A.range.slice(),_.autorange=A.autorange}var F=A._anchorAxis;if(F&&F.rangeslider){var z=F.rangeslider[A._name];z&&z.rangemode==="auto"&&(z.range=i(L,A)),F._input.rangeslider[A._name]=a.extendFlat({},z)}}function M(L,A,k){k||(k={}),L._m||L.setScale();var _=[],U=[],F=A.length,z=k.padded||!1,B=k.tozero&&(L.type==="linear"||L.type==="-"),N=L.type==="log",V=!1,W=k.vpadLinearized||!1,Q,re,ne,fe,$,X,oe,Y,ee;function se(Ae){if(Array.isArray(Ae))return V=!0,function(we){return Math.max(Number(Ae[we]||0),0)};var ke=Math.max(Number(Ae||0),0);return function(){return ke}}var q=se((L._m>0?k.ppadplus:k.ppadminus)||k.ppad||0),K=se((L._m>0?k.ppadminus:k.ppadplus)||k.ppad||0),le=se(k.vpadplus||k.vpad),ie=se(k.vpadminus||k.vpad);if(!V){if(Y=1/0,ee=-1/0,N)for(Q=0;Q<F;Q++)re=A[Q],re<Y&&re>0&&(Y=re),re>ee&&re<x&&(ee=re);else for(Q=0;Q<F;Q++)re=A[Q],re<Y&&re>-x&&(Y=re),re>ee&&re<x&&(ee=re);A=[Y,ee],F=2}var he={tozero:B,extrapad:z};function ye(Ae){ne=A[Ae],P(ne)&&(X=q(Ae),oe=K(Ae),W?(fe=L.c2l(ne)-ie(Ae),$=L.c2l(ne)+le(Ae)):(Y=ne-ie(Ae),ee=ne+le(Ae),N&&Y<ee/10&&(Y=ee/10),fe=L.c2l(Y),$=L.c2l(ee)),B&&(fe=Math.min(0,fe),$=Math.max(0,$)),T(fe)&&c(_,fe,oe,he),T($)&&o(U,$,X,he))}var Ce=Math.min(6,F);for(Q=0;Q<Ce;Q++)ye(Q);for(Q=F-1;Q>=Ce;Q--)ye(Q);return{min:_,max:U,opts:k}}function c(L,A,k,_){d(L,A,k,_,S)}function o(L,A,k,_){d(L,A,k,_,C)}function d(L,A,k,_,U){for(var F=_.tozero,z=_.extrapad,B=!0,N=0;N<L.length&&B;N++){var V=L[N];if(U(V.val,A)&&V.pad>=k&&(V.extrapad||!z)){B=!1;break}else U(A,V.val)&&V.pad<=k&&(z||!V.extrapad)&&(L.splice(N,1),N--)}if(B){var W=F&&A===0;L.push({val:A,pad:W?0:k,extrapad:W?!1:z})}}function T(L){return P(L)&&Math.abs(L)<x}function S(L,A){return L<=A}function C(L,A){return L>=A}function m(L,A){var k=A.autorangeoptions;return k&&k.minallowed!==void 0&&b(A,k.minallowed,k.maxallowed)?k.minallowed:k&&k.clipmin!==void 0&&b(A,k.clipmin,k.clipmax)?Math.max(L,A.d2l(k.clipmin)):L}function E(L,A){var k=A.autorangeoptions;return k&&k.maxallowed!==void 0&&b(A,k.minallowed,k.maxallowed)?k.maxallowed:k&&k.clipmax!==void 0&&b(A,k.clipmin,k.clipmax)?Math.min(L,A.d2l(k.clipmax)):L}function b(L,A,k){return A!==void 0&&k!==void 0?(A=L.d2l(A),k=L.d2l(k),A<k):!0}function s(L,A){if(!A||!A.autorangeoptions)return L;var k=L[0],_=L[1],U=A.autorangeoptions.include;if(U!==void 0){var F=A.d2l(k),z=A.d2l(_);a.isArrayOrTypedArray(U)||(U=[U]);for(var B=0;B<U.length;B++){var N=A.d2l(U[B]);F>=N&&(F=N,k=N),z<=N&&(z=N,_=N)}}return k=m(k,A),_=E(_,A),[k,_]}},76808:function(H){H.exports=function(e,g,P){var a,x;if(P){var w=g==="reversed"||g==="min reversed"||g==="max reversed";a=P[w?1:0],x=P[w?0:1]}var v=e("autorangeoptions.minallowed",x===null?a:void 0),p=e("autorangeoptions.maxallowed",a===null?x:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(H,j,e){var g=e(33428),P=e(38248),a=e(7316),x=e(24040),w=e(3400),v=w.strTranslate,p=e(72736),r=e(81668),t=e(76308),i=e(43616),n=e(94724),u=e(98728),f=e(39032),l=f.ONEMAXYEAR,y=f.ONEAVGYEAR,h=f.ONEMINYEAR,M=f.ONEMAXQUARTER,c=f.ONEAVGQUARTER,o=f.ONEMINQUARTER,d=f.ONEMAXMONTH,T=f.ONEAVGMONTH,S=f.ONEMINMONTH,C=f.ONEWEEK,m=f.ONEDAY,E=m/2,b=f.ONEHOUR,s=f.ONEMIN,L=f.ONESEC,A=f.MINUS_SIGN,k=f.BADNUM,_={K:"zeroline"},U={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},B={K:"tick",L:"text"},N={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(84284),W=V.MID_SHIFT,Q=V.CAP_SHIFT,re=V.LINE_SPACING,ne=V.OPPOSITE_SIDE,fe=3,$=H.exports={};$.setConvert=e(78344);var X=e(52976),oe=e(79811),Y=oe.idSort,ee=oe.isLinked;$.id2name=oe.id2name,$.name2id=oe.name2id,$.cleanId=oe.cleanId,$.list=oe.list,$.listIds=oe.listIds,$.getFromId=oe.getFromId,$.getFromTrace=oe.getFromTrace;var se=e(19280);$.getAutoRange=se.getAutoRange,$.findExtremes=se.findExtremes;var q=1e-4;function K(Ye){var Ge=(Ye[1]-Ye[0])*q;return[Ye[0]-Ge,Ye[1]+Ge]}$.coerceRef=function(Ye,Ge,zt,Ft,Jt,tr){var ur=Ft.charAt(Ft.length-1),nr=zt._fullLayout._subplots[ur+"axis"],Nt=Ft+"ref",hr={};return Jt||(Jt=nr[0]||(typeof tr=="string"?tr:tr[0])),tr||(tr=Jt),nr=nr.concat(nr.map(function(gr){return gr+" domain"})),hr[Nt]={valType:"enumerated",values:nr.concat(tr?typeof tr=="string"?[tr]:tr:[]),dflt:Jt},w.coerce(Ye,Ge,hr,Nt)},$.getRefType=function(Ye){return Ye===void 0?Ye:Ye==="paper"?"paper":Ye==="pixel"?"pixel":/( domain)$/.test(Ye)?"domain":"range"},$.coercePosition=function(Ye,Ge,zt,Ft,Jt,tr){var ur,nr,Nt=$.getRefType(Ft);if(Nt!=="range")ur=w.ensureNumber,nr=zt(Jt,tr);else{var hr=$.getFromId(Ge,Ft);tr=hr.fraction2r(tr),nr=zt(Jt,tr),ur=hr.cleanPos}Ye[Jt]=ur(nr)},$.cleanPosition=function(Ye,Ge,zt){var Ft=zt==="paper"||zt==="pixel"?w.ensureNumber:$.getFromId(Ge,zt).cleanPos;return Ft(Ye)},$.redrawComponents=function(Ye,Ge){Ge=Ge||$.listIds(Ye);var zt=Ye._fullLayout;function Ft(Jt,tr,ur,nr){for(var Nt=x.getComponentMethod(Jt,tr),hr={},gr=0;gr<Ge.length;gr++)for(var br=zt[$.id2name(Ge[gr])],vr=br[ur],Gr=0;Gr<vr.length;Gr++){var Dr=vr[Gr];if(!hr[Dr]&&(Nt(Ye,Dr),hr[Dr]=1,nr))return}}Ft("annotations","drawOne","_annIndices"),Ft("shapes","drawOne","_shapeIndices"),Ft("images","draw","_imgIndices",!0),Ft("selections","drawOne","_selectionIndices")};var le=$.getDataConversions=function(Ye,Ge,zt,Ft){var Jt,tr=zt==="x"||zt==="y"||zt==="z"?zt:Ft;if(w.isArrayOrTypedArray(tr)){if(Jt={type:X(Ft,void 0,{autotypenumbers:Ye._fullLayout.autotypenumbers}),_categories:[]},$.setConvert(Jt),Jt.type==="category")for(var ur=0;ur<Ft.length;ur++)Jt.d2c(Ft[ur])}else Jt=$.getFromTrace(Ye,Ge,tr);return Jt?{d2c:Jt.d2c,c2d:Jt.c2d}:tr==="ids"?{d2c:he,c2d:he}:{d2c:ie,c2d:ie}};function ie(Ye){return+Ye}function he(Ye){return String(Ye)}$.getDataToCoordFunc=function(Ye,Ge,zt,Ft){return le(Ye,Ge,zt,Ft).d2c},$.counterLetter=function(Ye){var Ge=Ye.charAt(0);if(Ge==="x")return"y";if(Ge==="y")return"x"},$.minDtick=function(Ye,Ge,zt,Ft){["log","category","multicategory"].indexOf(Ye.type)!==-1||!Ft?Ye._minDtick=0:Ye._minDtick===void 0?(Ye._minDtick=Ge,Ye._forceTick0=zt):Ye._minDtick&&((Ye._minDtick/Ge+1e-6)%1<2e-6&&((zt-Ye._forceTick0)/Ge%1+1.000001)%1<2e-6?(Ye._minDtick=Ge,Ye._forceTick0=zt):((Ge/Ye._minDtick+1e-6)%1>2e-6||((zt-Ye._forceTick0)/Ye._minDtick%1+1.000001)%1>2e-6)&&(Ye._minDtick=0))},$.saveRangeInitial=function(Ye,Ge){for(var zt=$.list(Ye,"",!0),Ft=!1,Jt=0;Jt<zt.length;Jt++){var tr=zt[Jt],ur=tr._rangeInitial0===void 0&&tr._rangeInitial1===void 0,nr=ur||tr.range[0]!==tr._rangeInitial0||tr.range[1]!==tr._rangeInitial1,Nt=tr.autorange;(ur&&Nt!==!0||Ge&&nr)&&(tr._rangeInitial0=Nt==="min"||Nt==="max reversed"?void 0:tr.range[0],tr._rangeInitial1=Nt==="max"||Nt==="min reversed"?void 0:tr.range[1],tr._autorangeInitial=Nt,Ft=!0)}return Ft},$.saveShowSpikeInitial=function(Ye,Ge){for(var zt=$.list(Ye,"",!0),Ft=!1,Jt="on",tr=0;tr<zt.length;tr++){var ur=zt[tr],nr=ur._showSpikeInitial===void 0,Nt=nr||ur.showspikes!==ur._showspikes;(nr||Ge&&Nt)&&(ur._showSpikeInitial=ur.showspikes,Ft=!0),Jt==="on"&&!ur.showspikes&&(Jt="off")}return Ye._fullLayout._cartesianSpikesEnabled=Jt,Ft},$.autoBin=function(Ye,Ge,zt,Ft,Jt,tr){var ur=w.aggNums(Math.min,null,Ye),nr=w.aggNums(Math.max,null,Ye);if(Ge.type==="category"||Ge.type==="multicategory")return{start:ur-.5,end:nr+.5,size:Math.max(1,Math.round(tr)||1),_dataSpan:nr-ur};Jt||(Jt=Ge.calendar);var Nt;if(Ge.type==="log"?Nt={type:"linear",range:[ur,nr]}:Nt={type:Ge.type,range:w.simpleMap([ur,nr],Ge.c2r,0,Jt),calendar:Jt},$.setConvert(Nt),tr=tr&&u.dtick(tr,Nt.type),tr)Nt.dtick=tr,Nt.tick0=u.tick0(void 0,Nt.type,Jt);else{var hr;if(zt)hr=(nr-ur)/zt;else{var gr=w.distinctVals(Ye),br=Math.pow(10,Math.floor(Math.log(gr.minDiff)/Math.LN10)),vr=br*w.roundUp(gr.minDiff/br,[.9,1.9,4.9,9.9],!0);hr=Math.max(vr,2*w.stdev(Ye)/Math.pow(Ye.length,Ft?.25:.4)),P(hr)||(hr=1)}$.autoTicks(Nt,hr)}var Gr=Nt.dtick,Dr=$.tickIncrement($.tickFirst(Nt),Gr,"reverse",Jt),_r,hn;if(typeof Gr=="number")Dr=ye(Dr,Ye,Nt,ur,nr),hn=1+Math.floor((nr-Dr)/Gr),_r=Dr+hn*Gr;else for(Nt.dtick.charAt(0)==="M"&&(Dr=Ce(Dr,Ye,Gr,ur,Jt)),_r=Dr,hn=0;_r<=nr;)_r=$.tickIncrement(_r,Gr,!1,Jt),hn++;return{start:Ge.c2r(Dr,0,Jt),end:Ge.c2r(_r,0,Jt),size:Gr,_dataSpan:nr-ur}};function ye(Ye,Ge,zt,Ft,Jt){var tr=0,ur=0,nr=0,Nt=0;function hr(Gr){return(1+(Gr-Ye)*100/zt.dtick)%100<2}for(var gr=0;gr<Ge.length;gr++)Ge[gr]%1===0?nr++:P(Ge[gr])||Nt++,hr(Ge[gr])&&tr++,hr(Ge[gr]+zt.dtick/2)&&ur++;var br=Ge.length-Nt;if(nr===br&&zt.type!=="date")zt.dtick<1?Ye=Ft-.5*zt.dtick:(Ye-=.5,Ye+zt.dtick<Ft&&(Ye+=zt.dtick));else if(ur<br*.1&&(tr>br*.3||hr(Ft)||hr(Jt))){var vr=zt.dtick/2;Ye+=Ye+vr<Ft?vr:-vr}return Ye}function Ce(Ye,Ge,zt,Ft,Jt){var tr=w.findExactDates(Ge,Jt),ur=.8;if(tr.exactDays>ur){var nr=Number(zt.substr(1));tr.exactYears>ur&&nr%12===0?Ye=$.tickIncrement(Ye,"M6","reverse")+m*1.5:tr.exactMonths>ur?Ye=$.tickIncrement(Ye,"M1","reverse")+m*15.5:Ye-=E;var Nt=$.tickIncrement(Ye,zt);if(Nt<=Ft)return Nt}return Ye}$.prepMinorTicks=function(Ye,Ge,zt){if(!Ge.minor.dtick){delete Ye.dtick;var Ft=Ge.dtick&&P(Ge._tmin),Jt;if(Ft){var tr=$.tickIncrement(Ge._tmin,Ge.dtick,!0);Jt=[Ge._tmin,tr*.99+Ge._tmin*.01]}else{var ur=w.simpleMap(Ge.range,Ge.r2l);Jt=[ur[0],.8*ur[0]+.2*ur[1]]}if(Ye.range=w.simpleMap(Jt,Ge.l2r),Ye._isMinor=!0,$.prepTicks(Ye,zt),Ft){var nr=P(Ge.dtick),Nt=P(Ye.dtick),hr=nr?Ge.dtick:+Ge.dtick.substring(1),gr=Nt?Ye.dtick:+Ye.dtick.substring(1);nr&&Nt?Ae(hr,gr)?hr===2*C&&gr===2*m&&(Ye.dtick=C):hr===2*C&&gr===3*m?Ye.dtick=C:hr===C&&!(Ge._input.minor||{}).nticks?Ye.dtick=m:ke(hr/gr,2.5)?Ye.dtick=hr/2:Ye.dtick=hr:String(Ge.dtick).charAt(0)==="M"?Nt?Ye.dtick="M1":Ae(hr,gr)?hr>=12&&gr===2&&(Ye.dtick="M3"):Ye.dtick=Ge.dtick:String(Ye.dtick).charAt(0)==="L"?String(Ge.dtick).charAt(0)==="L"?Ae(hr,gr)||(Ye.dtick=ke(hr/gr,2.5)?Ge.dtick/2:Ge.dtick):Ye.dtick="D1":Ye.dtick==="D2"&&+Ge.dtick>1&&(Ye.dtick=1)}Ye.range=Ge.range}Ge.minor._tick0Init===void 0&&(Ye.tick0=Ge.tick0)};function Ae(Ye,Ge){return Math.abs((Ye/Ge+.5)%1-.5)<.001}function ke(Ye,Ge){return Math.abs(Ye/Ge-1)<.001}$.prepTicks=function(Ye,Ge){var zt=w.simpleMap(Ye.range,Ye.r2l,void 0,void 0,Ge);if(Ye.tickmode==="auto"||!Ye.dtick){var Ft=Ye.nticks,Jt;Ft||(Ye.type==="category"||Ye.type==="multicategory"?(Jt=Ye.tickfont?w.bigFont(Ye.tickfont.size||12):15,Ft=Ye._length/Jt):(Jt=Ye._id.charAt(0)==="y"?40:80,Ft=w.constrain(Ye._length/Jt,4,9)+1),Ye._name==="radialaxis"&&(Ft*=2)),Ye.minor&&Ye.minor.tickmode!=="array"||Ye.tickmode==="array"&&(Ft*=100),Ye._roughDTick=Math.abs(zt[1]-zt[0])/Ft,$.autoTicks(Ye,Ye._roughDTick),Ye._minDtick>0&&Ye.dtick<Ye._minDtick*2&&(Ye.dtick=Ye._minDtick,Ye.tick0=Ye.l2r(Ye._forceTick0))}Ye.ticklabelmode==="period"&&Ee(Ye),Ye.tick0||(Ye.tick0=Ye.type==="date"?"2000-01-01":0),Ye.type==="date"&&Ye.dtick<.1&&(Ye.dtick=.1),ht(Ye)};function we(Ye){return+Ye.substring(1)}function Ee(Ye){var Ge;function zt(){return!(P(Ye.dtick)||Ye.dtick.charAt(0)!=="M")}var Ft=zt(),Jt=$.getTickFormat(Ye);if(Jt){var tr=Ye._dtickInit!==Ye.dtick;/%[fLQsSMX]/.test(Jt)||(/%[HI]/.test(Jt)?(Ge=b,tr&&!Ft&&Ye.dtick<b&&(Ye.dtick=b)):/%p/.test(Jt)?(Ge=E,tr&&!Ft&&Ye.dtick<E&&(Ye.dtick=E)):/%[Aadejuwx]/.test(Jt)?(Ge=m,tr&&!Ft&&Ye.dtick<m&&(Ye.dtick=m)):/%[UVW]/.test(Jt)?(Ge=C,tr&&!Ft&&Ye.dtick<C&&(Ye.dtick=C)):/%[Bbm]/.test(Jt)?(Ge=T,tr&&(Ft?we(Ye.dtick)<1:Ye.dtick<S)&&(Ye.dtick="M1")):/%[q]/.test(Jt)?(Ge=c,tr&&(Ft?we(Ye.dtick)<3:Ye.dtick<o)&&(Ye.dtick="M3")):/%[Yy]/.test(Jt)&&(Ge=y,tr&&(Ft?we(Ye.dtick)<12:Ye.dtick<h)&&(Ye.dtick="M12")))}Ft=zt(),Ft&&Ye.tick0===Ye._dowTick0&&(Ye.tick0=Ye._rawTick0),Ye._definedDelta=Ge}function xe(Ye,Ge,zt){for(var Ft=0;Ft<Ye.length;Ft++){var Jt=Ye[Ft].value,tr=Ft,ur=Ft+1;Ft<Ye.length-1?(tr=Ft,ur=Ft+1):Ft>0?(tr=Ft-1,ur=Ft):(tr=Ft,ur=Ft);var nr=Ye[tr].value,Nt=Ye[ur].value,hr=Math.abs(Nt-nr),gr=zt||hr,br=0;gr>=h?hr>=h&&hr<=l?br=hr:br=y:zt===c&&gr>=o?hr>=o&&hr<=M?br=hr:br=c:gr>=S?hr>=S&&hr<=d?br=hr:br=T:zt===C&&gr>=C?br=C:gr>=m?br=m:zt===E&&gr>=E?br=E:zt===b&&gr>=b&&(br=b);var vr;br>=hr&&(br=hr,vr=!0);var Gr=Jt+br;if(Ge.rangebreaks&&br>0){for(var Dr=84,_r=0,hn=0;hn<Dr;hn++){var nn=(hn+.5)/Dr;Ge.maskBreaks(Jt*(1-nn)+nn*Gr)!==k&&_r++}br*=_r/Dr,br||(Ye[Ft].drop=!0),vr&&hr>C&&(br=hr)}(br>0||Ft===0)&&(Ye[Ft].periodX=Jt+br/2)}}$.calcTicks=function(Ge,zt){for(var Ft=Ge.type,Jt=Ge.calendar,tr=Ge.ticklabelstep,ur=Ge.ticklabelmode==="period",nr=w.simpleMap(Ge.range,Ge.r2l,void 0,void 0,zt),Nt=nr[1]<nr[0],hr=Math.min(nr[0],nr[1]),gr=Math.max(nr[0],nr[1]),br=Math.max(1e3,Ge._length||0),vr=[],Gr=[],Dr=[],_r=[],hn=Ge.minor&&(Ge.minor.ticks||Ge.minor.showgrid),nn=1;nn>=(hn?0:1);nn--){var Pn=!nn;nn?(Ge._dtickInit=Ge.dtick,Ge._tick0Init=Ge.tick0):(Ge.minor._dtickInit=Ge.minor.dtick,Ge.minor._tick0Init=Ge.minor.tick0);var Cn=nn?Ge:w.extendFlat({},Ge,Ge.minor);if(Pn?$.prepMinorTicks(Cn,Ge,zt):$.prepTicks(Cn,zt),Cn.tickmode==="array"){nn?(Dr=[],vr=Ue(Ge,!Pn)):(_r=[],Gr=Ue(Ge,!Pn));continue}if(Cn.tickmode==="sync"){Dr=[],vr=Ve(Ge);continue}var Ar=K(nr),Pr=Ar[0],Wr=Ar[1],Vr=P(Cn.dtick),on=Ft==="log"&&!(Vr||Cn.dtick.charAt(0)==="L"),yn=$.tickFirst(Cn,zt);if(nn){if(Ge._tmin=yn,yn<Pr!==Nt)break;(Ft==="category"||Ft==="multicategory")&&(Wr=Nt?Math.max(-.5,Wr):Math.min(Ge._categories.length-.5,Wr))}var mn=null,Ln=yn,zn;if(nn){var aa;Vr?aa=Ge.dtick:Ft==="date"?typeof Ge.dtick=="string"&&Ge.dtick.charAt(0)==="M"&&(aa=T*Ge.dtick.substring(1)):aa=Ge._roughDTick,zn=Math.round((Ge.r2l(Ln)-Ge.r2l(Ge.tick0))/aa)-1}var ha=Cn.dtick;for(Cn.rangebreaks&&Cn._tick0Init!==Cn.tick0&&(Ln=Bt(Ln,Ge),Nt||(Ln=$.tickIncrement(Ln,ha,!Nt,Jt))),nn&&ur&&(Ln=$.tickIncrement(Ln,ha,!Nt,Jt),zn--);Nt?Ln>=Wr:Ln<=Wr;Ln=$.tickIncrement(Ln,ha,Nt,Jt)){if(nn&&zn++,Cn.rangebreaks&&!Nt){if(Ln<Pr)continue;if(Cn.maskBreaks(Ln)===k&&Bt(Ln,Cn)>=gr)break}if(Dr.length>br||Ln===mn)break;mn=Ln;var pa={value:Ln};nn?(on&&Ln!==(Ln|0)&&(pa.simpleLabel=!0),tr>1&&zn%tr&&(pa.skipLabel=!0),Dr.push(pa)):(pa.minor=!0,_r.push(pa))}}if(hn){var ua=Ge.minor.ticks==="inside"&&Ge.ticks==="outside"||Ge.minor.ticks==="outside"&&Ge.ticks==="inside";if(!ua){for(var na=Dr.map(function(vn){return vn.value}),Tr=[],an=0;an<_r.length;an++){var qr=_r[an],gn=qr.value;if(na.indexOf(gn)===-1){for(var Hn=!1,An=0;!Hn&&An<Dr.length;An++)1e7+Dr[An].value===1e7+gn&&(Hn=!0);Hn||Tr.push(qr)}}_r=Tr}}ur&&xe(Dr,Ge,Ge._definedDelta);var Sn;if(Ge.rangebreaks){var Un=Ge._id.charAt(0)==="y",$n=1;Ge.tickmode==="auto"&&($n=Ge.tickfont?Ge.tickfont.size:12);var ya=NaN;for(Sn=Dr.length-1;Sn>-1;Sn--){if(Dr[Sn].drop){Dr.splice(Sn,1);continue}Dr[Sn].value=Bt(Dr[Sn].value,Ge);var _a=Ge.c2p(Dr[Sn].value);(Un?ya>_a-$n:ya<_a+$n)?Dr.splice(Nt?Sn+1:Sn,1):ya=_a}}Vt(Ge)&&Math.abs(nr[1]-nr[0])===360&&Dr.pop(),Ge._tmax=(Dr[Dr.length-1]||{}).value,Ge._prevDateHead="",Ge._inCalcTicks=!0;var Er,zr=function(vn){vn.text="",Ge._prevDateHead=Er};Dr=Dr.concat(_r);var Sr,Nr;for(Sn=0;Sn<Dr.length;Sn++){var wn=Dr[Sn].minor,kn=Dr[Sn].value;wn?Gr.push({x:kn,minor:!0}):(Er=Ge._prevDateHead,Sr=$.tickText(Ge,kn,!1,Dr[Sn].simpleLabel),Nr=Dr[Sn].periodX,Nr!==void 0&&(Sr.periodX=Nr,(Nr>gr||Nr<hr)&&(Nr>gr&&(Sr.periodX=gr),Nr<hr&&(Sr.periodX=hr),zr(Sr))),Dr[Sn].skipLabel&&zr(Sr),vr.push(Sr))}return vr=vr.concat(Gr),Ge._inCalcTicks=!1,ur&&vr.length&&(vr[0].noTick=!0),vr};function Re(Ye,Ge){return Ye.rangebreaks&&(Ge=Ge.filter(function(zt){return Ye.maskBreaks(zt.x)!==k})),Ge}function Ve(Ye){var Ge=Ye._mainAxis,zt=[];if(Ge._vals){for(var Ft=0;Ft<Ge._vals.length;Ft++)if(!Ge._vals[Ft].noTick){var Jt=Ge.l2p(Ge._vals[Ft].x),tr=Ye.p2l(Jt),ur=$.tickText(Ye,tr);Ge._vals[Ft].minor&&(ur.minor=!0,ur.text=""),zt.push(ur)}}return zt=Re(Ye,zt),zt}function Ue(Ye,Ge){var zt=w.simpleMap(Ye.range,Ye.r2l),Ft=K(zt),Jt=Math.min(Ft[0],Ft[1]),tr=Math.max(Ft[0],Ft[1]),ur=Ye.type==="category"?Ye.d2l_noadd:Ye.d2l;Ye.type==="log"&&String(Ye.dtick).charAt(0)!=="L"&&(Ye.dtick="L"+Math.pow(10,Math.floor(Math.min(Ye.range[0],Ye.range[1]))-1));for(var nr=[],Nt=0;Nt<=1;Nt++)if(!(Ge!==void 0&&(Ge&&Nt||Ge===!1&&!Nt))&&!(Nt&&!Ye.minor)){var hr=Nt?Ye.minor.tickvals:Ye.tickvals,gr=Nt?[]:Ye.ticktext;if(hr){w.isArrayOrTypedArray(gr)||(gr=[]);for(var br=0;br<hr.length;br++){var vr=ur(hr[br]);if(vr>Jt&&vr<tr){var Gr=$.tickText(Ye,vr,!1,String(gr[br]));Nt&&(Gr.minor=!0,Gr.text=""),nr.push(Gr)}}}}return nr=Re(Ye,nr),nr}var Be=[2,5,10],Xe=[1,2,3,6,12],ut=[1,2,5,10,15,30],dt=[1,2,3,7,14],at=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],We=[-.301,0,.301,.699,1],rt=[15,30,45,90,180];function st(Ye,Ge,zt){return Ge*w.roundUp(Ye/Ge,zt)}$.autoTicks=function(Ye,Ge,zt){var Ft;function Jt(br){return Math.pow(br,Math.floor(Math.log(Ge)/Math.LN10))}if(Ye.type==="date"){Ye.tick0=w.dateTick0(Ye.calendar,0);var tr=2*Ge;if(tr>y)Ge/=y,Ft=Jt(10),Ye.dtick="M"+12*st(Ge,Ft,Be);else if(tr>T)Ge/=T,Ye.dtick="M"+st(Ge,1,Xe);else if(tr>m){if(Ye.dtick=st(Ge,m,Ye._hasDayOfWeekBreaks?[1,2,7,14]:dt),!zt){var ur=$.getTickFormat(Ye),nr=Ye.ticklabelmode==="period";nr&&(Ye._rawTick0=Ye.tick0),/%[uVW]/.test(ur)?Ye.tick0=w.dateTick0(Ye.calendar,2):Ye.tick0=w.dateTick0(Ye.calendar,1),nr&&(Ye._dowTick0=Ye.tick0)}}else tr>b?Ye.dtick=st(Ge,b,Xe):tr>s?Ye.dtick=st(Ge,s,ut):tr>L?Ye.dtick=st(Ge,L,ut):(Ft=Jt(10),Ye.dtick=st(Ge,Ft,Be))}else if(Ye.type==="log"){Ye.tick0=0;var Nt=w.simpleMap(Ye.range,Ye.r2l);if(Ye._isMinor&&(Ge*=1.5),Ge>.7)Ye.dtick=Math.ceil(Ge);else if(Math.abs(Nt[1]-Nt[0])<1){var hr=1.5*Math.abs((Nt[1]-Nt[0])/Ge);Ge=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/hr,Ft=Jt(10),Ye.dtick="L"+st(Ge,Ft,Be)}else Ye.dtick=Ge>.3?"D2":"D1"}else Ye.type==="category"||Ye.type==="multicategory"?(Ye.tick0=0,Ye.dtick=Math.ceil(Math.max(Ge,1))):Vt(Ye)?(Ye.tick0=0,Ft=1,Ye.dtick=st(Ge,Ft,rt)):(Ye.tick0=0,Ft=Jt(10),Ye.dtick=st(Ge,Ft,Be));if(Ye.dtick===0&&(Ye.dtick=1),!P(Ye.dtick)&&typeof Ye.dtick!="string"){var gr=Ye.dtick;throw Ye.dtick=1,"ax.dtick error: "+String(gr)}};function ht(Ye){var Ge=Ye.dtick;if(Ye._tickexponent=0,!P(Ge)&&typeof Ge!="string"&&(Ge=1),(Ye.type==="category"||Ye.type==="multicategory")&&(Ye._tickround=null),Ye.type==="date"){var zt=Ye.r2l(Ye.tick0),Ft=Ye.l2r(zt).replace(/(^-|i)/g,""),Jt=Ft.length;if(String(Ge).charAt(0)==="M")Jt>10||Ft.substr(5)!=="01-01"?Ye._tickround="d":Ye._tickround=+Ge.substr(1)%12===0?"y":"m";else if(Ge>=m&&Jt<=10||Ge>=m*15)Ye._tickround="d";else if(Ge>=s&&Jt<=16||Ge>=b)Ye._tickround="M";else if(Ge>=L&&Jt<=19||Ge>=s)Ye._tickround="S";else{var tr=Ye.l2r(zt+Ge).replace(/^-/,"").length;Ye._tickround=Math.max(Jt,tr)-20,Ye._tickround<0&&(Ye._tickround=4)}}else if(P(Ge)||Ge.charAt(0)==="L"){var ur=Ye.range.map(Ye.r2d||Number);P(Ge)||(Ge=Number(Ge.substr(1))),Ye._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var nr=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),Nt=Math.floor(Math.log(nr)/Math.LN10+.01),hr=Ye.minexponent===void 0?3:Ye.minexponent;Math.abs(Nt)>hr&&(me(Ye.exponentformat)&&!Me(Nt)?Ye._tickexponent=3*Math.round((Nt-1)/3):Ye._tickexponent=Nt)}else Ye._tickround=null}$.tickIncrement=function(Ye,Ge,zt,Ft){var Jt=zt?-1:1;if(P(Ge))return w.increment(Ye,Jt*Ge);var tr=Ge.charAt(0),ur=Jt*Number(Ge.substr(1));if(tr==="M")return w.incrementMonth(Ye,ur,Ft);if(tr==="L")return Math.log(Math.pow(10,Ye)+ur)/Math.LN10;if(tr==="D"){var nr=Ge==="D2"?We:at,Nt=Ye+Jt*.01,hr=w.roundUp(w.mod(Nt,1),nr,zt);return Math.floor(Nt)+Math.log(g.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},$.tickFirst=function(Ye,Ge){var zt=Ye.r2l||Number,Ft=w.simpleMap(Ye.range,zt,void 0,void 0,Ge),Jt=Ft[1]<Ft[0],tr=Jt?Math.floor:Math.ceil,ur=K(Ft)[0],nr=Ye.dtick,Nt=zt(Ye.tick0);if(P(nr)){var hr=tr((ur-Nt)/nr)*nr+Nt;return(Ye.type==="category"||Ye.type==="multicategory")&&(hr=w.constrain(hr,0,Ye._categories.length-1)),hr}var gr=nr.charAt(0),br=Number(nr.substr(1));if(gr==="M"){for(var vr=0,Gr=Nt,Dr,_r,hn;vr<10;){if(Dr=$.tickIncrement(Gr,nr,Jt,Ye.calendar),(Dr-ur)*(Gr-ur)<=0)return Jt?Math.min(Gr,Dr):Math.max(Gr,Dr);_r=(ur-(Gr+Dr)/2)/(Dr-Gr),hn=gr+(Math.abs(Math.round(_r))||1)*br,Gr=$.tickIncrement(Gr,hn,_r<0?!Jt:Jt,Ye.calendar),vr++}return w.error("tickFirst did not converge",Ye),Gr}else{if(gr==="L")return Math.log(tr((Math.pow(10,ur)-Nt)/br)*br+Nt)/Math.LN10;if(gr==="D"){var nn=nr==="D2"?We:at,Pn=w.roundUp(w.mod(ur,1),nn,Jt);return Math.floor(ur)+Math.log(g.round(Math.pow(10,Pn),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},$.tickText=function(Ye,Ge,zt,Ft){var Jt=vt(Ye,Ge),tr=Ye.tickmode==="array",ur=zt||tr,nr=Ye.type,Nt=nr==="category"?Ye.d2l_noadd:Ye.d2l,hr,gr=function(hn){var nn=Ye.l2p(hn);return nn>=0&&nn<=Ye._length?hn:null};if(tr&&w.isArrayOrTypedArray(Ye.ticktext)){var br=w.simpleMap(Ye.range,Ye.r2l),vr=(Math.abs(br[1]-br[0])-(Ye._lBreaks||0))/1e4;for(hr=0;hr<Ye.ticktext.length&&!(Math.abs(Ge-Nt(Ye.tickvals[hr]))<vr);hr++);if(hr<Ye.ticktext.length)return Jt.text=String(Ye.ticktext[hr]),Jt.xbnd=[gr(Jt.x-.5),gr(Jt.x+Ye.dtick-.5)],Jt}function Gr(hn){if(hn===void 0)return!0;if(zt)return hn==="none";var nn={first:Ye._tmin,last:Ye._tmax}[hn];return hn!=="all"&&Ge!==nn}var Dr=zt?"never":Ye.exponentformat!=="none"&&Gr(Ye.showexponent)?"hide":"";if(nr==="date"?At(Ye,Jt,zt,ur):nr==="log"?tt(Ye,Jt,zt,ur,Dr):nr==="category"?_e(Ye,Jt):nr==="multicategory"?je(Ye,Jt,zt):Vt(Ye)?He(Ye,Jt,zt,ur,Dr):Ke(Ye,Jt,zt,ur,Dr),Ft||(Ye.tickprefix&&!Gr(Ye.showtickprefix)&&(Jt.text=Ye.tickprefix+Jt.text),Ye.ticksuffix&&!Gr(Ye.showticksuffix)&&(Jt.text+=Ye.ticksuffix)),Ye.labelalias&&Ye.labelalias.hasOwnProperty(Jt.text)){var _r=Ye.labelalias[Jt.text];typeof _r=="string"&&(Jt.text=_r)}return(Ye.tickson==="boundaries"||Ye.showdividers)&&(Jt.xbnd=[gr(Jt.x-.5),gr(Jt.x+Ye.dtick-.5)]),Jt},$.hoverLabelText=function(Ye,Ge,zt){zt&&(Ye=w.extendFlat({},Ye,{hoverformat:zt}));var Ft=w.isArrayOrTypedArray(Ge)?Ge[0]:Ge,Jt=w.isArrayOrTypedArray(Ge)?Ge[1]:void 0;if(Jt!==void 0&&Jt!==Ft)return $.hoverLabelText(Ye,Ft,zt)+" - "+$.hoverLabelText(Ye,Jt,zt);var tr=Ye.type==="log"&&Ft<=0,ur=$.tickText(Ye,Ye.c2l(tr?-Ft:Ft),"hover").text;return tr?Ft===0?"0":A+ur:ur};function vt(Ye,Ge,zt){var Ft=Ye.tickfont||{};return{x:Ge,dx:0,dy:0,text:zt||"",fontSize:Ft.size,font:Ft.family,fontColor:Ft.color}}function At(Ye,Ge,zt,Ft){var Jt=Ye._tickround,tr=zt&&Ye.hoverformat||$.getTickFormat(Ye);Ft=!tr&&Ft,Ft&&(P(Jt)?Jt=4:Jt={y:"m",m:"d",d:"M",M:"S",S:4}[Jt]);var ur=w.formatDate(Ge.x,tr,Jt,Ye._dateFormat,Ye.calendar,Ye._extraFormat),nr,Nt=ur.indexOf(`
`);if(Nt!==-1&&(nr=ur.substr(Nt+1),ur=ur.substr(0,Nt)),Ft&&(nr!==void 0&&(ur==="00:00:00"||ur==="00:00")?(ur=nr,nr=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),nr)if(zt)Jt==="d"?ur+=", "+nr:ur=nr+(ur?", "+ur:"");else if(!Ye._inCalcTicks||Ye._prevDateHead!==nr)Ye._prevDateHead=nr,ur+="<br>"+nr;else{var hr=$t(Ye),gr=Ye._trueSide||Ye.side;(!hr&&gr==="top"||hr&&gr==="bottom")&&(ur+="<br> ")}Ge.text=ur}function tt(Ye,Ge,zt,Ft,Jt){var tr=Ye.dtick,ur=Ge.x,nr=Ye.tickformat,Nt=typeof tr=="string"&&tr.charAt(0);if(Jt==="never"&&(Jt=""),Ft&&Nt!=="L"&&(tr="L3",Nt="L"),nr||Nt==="L")Ge.text=Te(Math.pow(10,ur),Ye,Jt,Ft);else if(P(tr)||Nt==="D"&&w.mod(ur+.01,1)<.1){var hr=Math.round(ur),gr=Math.abs(hr),br=Ye.exponentformat;br==="power"||me(br)&&Me(hr)?(hr===0?Ge.text=1:hr===1?Ge.text="10":Ge.text="10<sup>"+(hr>1?"":A)+gr+"</sup>",Ge.fontSize*=1.25):(br==="e"||br==="E")&&gr>2?Ge.text="1"+br+(hr>0?"+":A)+gr:(Ge.text=Te(Math.pow(10,ur),Ye,"","fakehover"),tr==="D1"&&Ye._id.charAt(0)==="y"&&(Ge.dy-=Ge.fontSize/6))}else if(Nt==="D")Ge.text=String(Math.round(Math.pow(10,w.mod(ur,1)))),Ge.fontSize*=.75;else throw"unrecognized dtick "+String(tr);if(Ye.dtick==="D1"){var vr=String(Ge.text).charAt(0);(vr==="0"||vr==="1")&&(Ye._id.charAt(0)==="y"?Ge.dx-=Ge.fontSize/4:(Ge.dy+=Ge.fontSize/2,Ge.dx+=(Ye.range[1]>Ye.range[0]?1:-1)*Ge.fontSize*(ur<0?.5:.25)))}}function _e(Ye,Ge){var zt=Ye._categories[Math.round(Ge.x)];zt===void 0&&(zt=""),Ge.text=String(zt)}function je(Ye,Ge,zt){var Ft=Math.round(Ge.x),Jt=Ye._categories[Ft]||[],tr=Jt[1]===void 0?"":String(Jt[1]),ur=Jt[0]===void 0?"":String(Jt[0]);zt?Ge.text=ur+" - "+tr:(Ge.text=tr,Ge.text2=ur)}function Ke(Ye,Ge,zt,Ft,Jt){Jt==="never"?Jt="":Ye.showexponent==="all"&&Math.abs(Ge.x/Ye.dtick)<1e-6&&(Jt="hide"),Ge.text=Te(Ge.x,Ye,Jt,Ft)}function He(Ye,Ge,zt,Ft,Jt){if(Ye.thetaunit==="radians"&&!zt){var tr=Ge.x/180;if(tr===0)Ge.text="0";else{var ur=Ie(tr);if(ur[1]>=100)Ge.text=Te(w.deg2rad(Ge.x),Ye,Jt,Ft);else{var nr=Ge.x<0;ur[1]===1?ur[0]===1?Ge.text="π":Ge.text=ur[0]+"π":Ge.text=["<sup>",ur[0],"</sup>","⁄","<sub>",ur[1],"</sub>","π"].join(""),nr&&(Ge.text=A+Ge.text)}}}else Ge.text=Te(Ge.x,Ye,Jt,Ft)}function Ie(Ye){function Ge(nr,Nt){return Math.abs(nr-Nt)<=1e-6}function zt(nr,Nt){return Ge(Nt,0)?nr:zt(Nt,nr%Nt)}function Ft(nr){for(var Nt=1;!Ge(Math.round(nr*Nt)/Nt,nr);)Nt*=10;return Nt}var Jt=Ft(Ye),tr=Ye*Jt,ur=Math.abs(zt(tr,Jt));return[Math.round(tr/ur),Math.round(Jt/ur)]}var be=["f","p","n","μ","m","","k","M","G","T"];function me(Ye){return Ye==="SI"||Ye==="B"}function Me(Ye){return Ye>14||Ye<-15}function Te(Ye,Ge,zt,Ft){var Jt=Ye<0,tr=Ge._tickround,ur=zt||Ge.exponentformat||"B",nr=Ge._tickexponent,Nt=$.getTickFormat(Ge),hr=Ge.separatethousands;if(Ft){var gr={exponentformat:ur,minexponent:Ge.minexponent,dtick:Ge.showexponent==="none"?Ge.dtick:P(Ye)&&Math.abs(Ye)||1,range:Ge.showexponent==="none"?Ge.range.map(Ge.r2d):[0,Ye||1]};ht(gr),tr=(Number(gr._tickround)||0)+4,nr=gr._tickexponent,Ge.hoverformat&&(Nt=Ge.hoverformat)}if(Nt)return Ge._numFormat(Nt)(Ye).replace(/-/g,A);var br=Math.pow(10,-tr)/2;if(ur==="none"&&(nr=0),Ye=Math.abs(Ye),Ye<br)Ye="0",Jt=!1;else{if(Ye+=br,nr&&(Ye*=Math.pow(10,-nr),tr+=nr),tr===0)Ye=String(Math.floor(Ye));else if(tr<0){Ye=String(Math.round(Ye)),Ye=Ye.substr(0,Ye.length+tr);for(var vr=tr;vr<0;vr++)Ye+="0"}else{Ye=String(Ye);var Gr=Ye.indexOf(".")+1;Gr&&(Ye=Ye.substr(0,Gr+tr).replace(/\.?0+$/,""))}Ye=w.numSeparate(Ye,Ge._separators,hr)}if(nr&&ur!=="hide"){me(ur)&&Me(nr)&&(ur="power");var Dr;nr<0?Dr=A+-nr:ur!=="power"?Dr="+"+nr:Dr=String(nr),ur==="e"||ur==="E"?Ye+=ur+Dr:ur==="power"?Ye+="×10<sup>"+Dr+"</sup>":ur==="B"&&nr===9?Ye+="B":me(ur)&&(Ye+=be[nr/3+5])}return Jt?A+Ye:Ye}$.getTickFormat=function(Ye){var Ge;function zt(Nt){return typeof Nt!="string"?Nt:Number(Nt.replace("M",""))*T}function Ft(Nt,hr){var gr=["L","D"];if(typeof Nt==typeof hr){if(typeof Nt=="number")return Nt-hr;var br=gr.indexOf(Nt.charAt(0)),vr=gr.indexOf(hr.charAt(0));return br===vr?Number(Nt.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):br-vr}else return typeof Nt=="number"?1:-1}function Jt(Nt,hr,gr){var br=gr||function(Dr){return Dr},vr=hr[0],Gr=hr[1];return(!vr&&typeof vr!="number"||br(vr)<=br(Nt))&&(!Gr&&typeof Gr!="number"||br(Gr)>=br(Nt))}function tr(Nt,hr){var gr=hr[0]===null,br=hr[1]===null,vr=Ft(Nt,hr[0])>=0,Gr=Ft(Nt,hr[1])<=0;return(gr||vr)&&(br||Gr)}var ur,nr;if(Ye.tickformatstops&&Ye.tickformatstops.length>0)switch(Ye.type){case"date":case"linear":{for(Ge=0;Ge<Ye.tickformatstops.length;Ge++)if(nr=Ye.tickformatstops[Ge],nr.enabled&&Jt(Ye.dtick,nr.dtickrange,zt)){ur=nr;break}break}case"log":{for(Ge=0;Ge<Ye.tickformatstops.length;Ge++)if(nr=Ye.tickformatstops[Ge],nr.enabled&&tr(Ye.dtick,nr.dtickrange)){ur=nr;break}break}}return ur?ur.value:Ye.tickformat},$.getSubplots=function(Ye,Ge){var zt=Ye._fullLayout._subplots,Ft=zt.cartesian.concat(zt.gl2d||[]),Jt=Ge?$.findSubplotsWithAxis(Ft,Ge):Ft;return Jt.sort(function(tr,ur){var nr=tr.substr(1).split("y"),Nt=ur.substr(1).split("y");return nr[0]===Nt[0]?+nr[1]-+Nt[1]:+nr[0]-+Nt[0]}),Jt},$.findSubplotsWithAxis=function(Ye,Ge){for(var zt=new RegExp(Ge._id.charAt(0)==="x"?"^"+Ge._id+"y":Ge._id+"$"),Ft=[],Jt=0;Jt<Ye.length;Jt++){var tr=Ye[Jt];zt.test(tr)&&Ft.push(tr)}return Ft},$.makeClipPaths=function(Ye){var Ge=Ye._fullLayout;if(!Ge._hasOnlyLargeSploms){var zt={_offset:0,_length:Ge.width,_id:""},Ft={_offset:0,_length:Ge.height,_id:""},Jt=$.list(Ye,"x",!0),tr=$.list(Ye,"y",!0),ur=[],nr,Nt;for(nr=0;nr<Jt.length;nr++)for(ur.push({x:Jt[nr],y:Ft}),Nt=0;Nt<tr.length;Nt++)nr===0&&ur.push({x:zt,y:tr[Nt]}),ur.push({x:Jt[nr],y:tr[Nt]});var hr=Ge._clips.selectAll(".axesclip").data(ur,function(gr){return gr.x._id+gr.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gr){return"clip"+Ge._uid+gr.x._id+gr.y._id}).append("rect"),hr.exit().remove(),hr.each(function(gr){g.select(this).select("rect").attr({x:gr.x._offset||0,y:gr.y._offset||0,width:gr.x._length||1,height:gr.y._length||1})})}},$.draw=function(Ye,Ge,zt){var Ft=Ye._fullLayout;Ge==="redraw"&&Ft._paper.selectAll("g.subplot").each(function(Nt){var hr=Nt[0],gr=Ft._plots[hr];if(gr){var br=gr.xaxis,vr=gr.yaxis;gr.xaxislayer.selectAll("."+br._id+"tick").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick").remove(),gr.xaxislayer.selectAll("."+br._id+"tick2").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick2").remove(),gr.xaxislayer.selectAll("."+br._id+"divider").remove(),gr.yaxislayer.selectAll("."+vr._id+"divider").remove(),gr.minorGridlayer&&gr.minorGridlayer.selectAll("path").remove(),gr.gridlayer&&gr.gridlayer.selectAll("path").remove(),gr.zerolinelayer&&gr.zerolinelayer.selectAll("path").remove(),Ft._infolayer.select(".g-"+br._id+"title").remove(),Ft._infolayer.select(".g-"+vr._id+"title").remove()}});var Jt=!Ge||Ge==="redraw"?$.listIds(Ye):Ge,tr=$.list(Ye),ur=tr.filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});Jt.map(function(Nt){var hr=$.getFromId(Ye,Nt);if(hr.tickmode==="sync"&&hr.overlaying){var gr=Jt.findIndex(function(br){return br===hr.overlaying});gr>=0&&Jt.unshift(Jt.splice(gr,1).shift())}});var nr={false:{left:0,right:0}};return w.syncOrAsync(Jt.map(function(Nt){return function(){if(Nt){var hr=$.getFromId(Ye,Nt);zt||(zt={}),zt.axShifts=nr,zt.overlayingShiftedAx=ur;var gr=$.drawOne(Ye,hr,zt);return hr._shiftPusher&&cr(hr,hr._fullDepth||0,nr,!0),hr._r=hr.range.slice(),hr._rl=w.simpleMap(hr._r,hr.r2l),gr}}}))},$.drawOne=function(Ye,Ge,zt){zt=zt||{};var Ft=zt.axShifts||{},Jt=zt.overlayingShiftedAx||[],tr,ur,nr;Ge.setScale();var Nt=Ye._fullLayout,hr=Ge._id,gr=hr.charAt(0),br=$.counterLetter(hr),vr=Nt._plots[Ge._mainSubplot];if(!vr)return;if(Ge._shiftPusher=Ge.autoshift||Jt.indexOf(Ge._id)!==-1||Jt.indexOf(Ge.overlaying)!==-1,Ge._shiftPusher&Ge.anchor==="free"){var Gr=Ge.linewidth/2||0;Ge.ticks==="inside"&&(Gr+=Ge.ticklen),cr(Ge,Gr,Ft,!0),cr(Ge,Ge.shift||0,Ft,!1)}(zt.skipTitle!==!0||Ge._shift===void 0)&&(Ge._shift=dr(Ge,Ft));var Dr=vr[gr+"axislayer"],_r=Ge._mainLinePosition,hn=_r+=Ge._shift,nn=Ge._mainMirrorPosition,Pn=Ge._vals=$.calcTicks(Ge),Cn=[Ge.mirror,hn,nn].join("_");for(tr=0;tr<Pn.length;tr++)Pn[tr].axInfo=Cn;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var Ar={};function Pr(jr){var Qr=hr+(jr||"tick");return Ar[Qr]||(Ar[Qr]=yt(Ge,Qr,hn)),Ar[Qr]}if(Ge.visible){var Wr=$.makeTransTickFn(Ge),Vr=$.makeTransTickLabelFn(Ge),on,yn,mn=Ge.ticks==="inside",Ln=Ge.ticks==="outside";if(Ge.tickson==="boundaries"){var zn=Je(Ge,Pn);yn=$.clipEnds(Ge,zn),on=mn?yn:zn}else yn=$.clipEnds(Ge,Pn),on=mn&&Ge.ticklabelmode!=="period"?yn:Pn;var aa=Ge._gridVals=yn,ha=pt(Ge,Pn);if(!Nt._hasOnlyLargeSploms){var pa=Ge._subplotsWith,ua={};for(tr=0;tr<pa.length;tr++){ur=pa[tr],nr=Nt._plots[ur];var na=nr[br+"axis"],Tr=na._mainAxis._id;if(!ua[Tr]){ua[Tr]=1;var an=gr==="x"?"M0,"+na._offset+"v"+na._length:"M"+na._offset+",0h"+na._length;$.drawGrid(Ye,Ge,{vals:aa,counterAxis:na,layer:nr.gridlayer.select("."+hr),minorLayer:nr.minorGridlayer.select("."+hr),path:an,transFn:Wr}),$.drawZeroLine(Ye,Ge,{counterAxis:na,layer:nr.zerolinelayer,path:an,transFn:Wr})}}}var qr,gn=$.getTickSigns(Ge),Hn=$.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var An=$.makeTickPath(Ge,hn,gn[2]),Sn=$.makeTickPath(Ge,hn,Hn[2],{minor:!0}),Un,$n,ya,_a;if(Ge._anchorAxis&&Ge.mirror&&Ge.mirror!==!0?(Un=$.makeTickPath(Ge,nn,gn[3]),$n=$.makeTickPath(Ge,nn,Hn[3],{minor:!0}),ya=An+Un,_a=Sn+$n):(Un="",$n="",ya=An,_a=Sn),Ge.showdividers&&Ln&&Ge.tickson==="boundaries"){var Er={};for(tr=0;tr<ha.length;tr++)Er[ha[tr].x]=1;qr=function(jr){return Er[jr.x]?Un:ya}}else qr=function(jr){return jr.minor?_a:ya}}if($.drawTicks(Ye,Ge,{vals:on,layer:Dr,path:qr,transFn:Wr}),Ge.mirror==="allticks"){var zr=Object.keys(Ge._linepositions||{});for(tr=0;tr<zr.length;tr++){ur=zr[tr],nr=Nt._plots[ur];var Sr=Ge._linepositions[ur]||[],Nr=Sr[0],wn=Sr[1],kn=Sr[2],vn=$.makeTickPath(Ge,Nr,kn?gn[0]:Hn[0],{minor:kn})+$.makeTickPath(Ge,wn,kn?gn[1]:Hn[1],{minor:kn});$.drawTicks(Ye,Ge,{vals:on,layer:nr[gr+"axislayer"],path:vn,transFn:Wr})}}var ln=[];if(ln.push(function(){return $.drawLabels(Ye,Ge,{vals:Pn,layer:Dr,plotinfo:nr,transFn:Vr,labelFns:$.makeLabelFns(Ge,hn)})}),Ge.type==="multicategory"){var Cr={x:2,y:10}[gr];ln.push(function(){var jr={x:"height",y:"width"}[gr],Qr=Pr()[jr]+Cr+(Ge._tickAngles[hr+"tick"]?Ge.tickfont.size*re:0);return $.drawLabels(Ye,Ge,{vals:nt(Ge,Pn),layer:Dr,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Wr,labelFns:$.makeLabelFns(Ge,hn+Qr*gn[4])})}),ln.push(function(){return Ge._depth=gn[4]*(Pr("tick2")[Ge.side]-hn),kt(Ye,Ge,{vals:ha,layer:Dr,path:$.makeTickPath(Ge,hn,gn[4],{len:Ge._depth}),transFn:Wr})})}else Ge.title.hasOwnProperty("standoff")&&ln.push(function(){Ge._depth=gn[4]*(Pr()[Ge.side]-hn)});var Zr=x.getComponentMethod("rangeslider","isVisible")(Ge);return!zt.skipTitle&&!(Zr&&Ge.side==="bottom")&&ln.push(function(){return mr(Ye,Ge)}),ln.push(function(){var jr=Ge.side.charAt(0),Qr=ne[Ge.side].charAt(0),Tn=$.getPxPosition(Ye,Ge),Rn=Ln?Ge.ticklen:0,Dn,Vn,Nn,ma;(Ge.automargin||Zr||Ge._shiftPusher)&&(Ge.type==="multicategory"?Dn=Pr("tick2"):(Dn=Pr(),gr==="x"&&jr==="b"&&(Ge._depth=Math.max(Dn.width>0?Dn.bottom-Tn:0,Rn))));var oa=0,ga=0;if(Ge._shiftPusher&&(oa=Math.max(Rn,Dn.height>0?jr==="l"?Tn-Dn.left:Dn.right-Tn:0),Ge.title.text!==Nt._dfltTitle[gr]&&(ga=(Ge._titleStandoff||0)+(Ge._titleScoot||0),jr==="l"&&(ga+=Kt(Ge))),Ge._fullDepth=Math.max(oa,ga)),Ge.automargin){Vn={x:0,y:0,r:0,l:0,t:0,b:0};var Pa=[0,1],pi=typeof Ge._shift=="number"?Ge._shift:0;if(gr==="x"){if(jr==="b"?Vn[jr]=Ge._depth:(Vn[jr]=Ge._depth=Math.max(Dn.width>0?Tn-Dn.top:0,Rn),Pa.reverse()),Dn.width>0){var ri=Dn.right-(Ge._offset+Ge._length);ri>0&&(Vn.xr=1,Vn.r=ri);var Ho=Ge._offset-Dn.left;Ho>0&&(Vn.xl=0,Vn.l=Ho)}}else if(jr==="l"?(Ge._depth=Math.max(Dn.height>0?Tn-Dn.left:0,Rn),Vn[jr]=Ge._depth-pi):(Ge._depth=Math.max(Dn.height>0?Dn.right-Tn:0,Rn),Vn[jr]=Ge._depth+pi,Pa.reverse()),Dn.height>0){var Oo=Dn.bottom-(Ge._offset+Ge._length);Oo>0&&(Vn.yb=0,Vn.b=Oo);var no=Ge._offset-Dn.top;no>0&&(Vn.yt=1,Vn.t=no)}Vn[br]=Ge.anchor==="free"?Ge.position:Ge._anchorAxis.domain[Pa[0]],Ge.title.text!==Nt._dfltTitle[gr]&&(Vn[jr]+=Kt(Ge)+(Ge.title.standoff||0)),Ge.mirror&&Ge.anchor!=="free"&&(Nn={x:0,y:0,r:0,l:0,t:0,b:0},Nn[Qr]=Ge.linewidth,Ge.mirror&&Ge.mirror!==!0&&(Nn[Qr]+=Rn),Ge.mirror===!0||Ge.mirror==="ticks"?Nn[br]=Ge._anchorAxis.domain[Pa[1]]:(Ge.mirror==="all"||Ge.mirror==="allticks")&&(Nn[br]=[Ge._counterDomainMin,Ge._counterDomainMax][Pa[1]]))}Zr&&(ma=x.getComponentMethod("rangeslider","autoMarginOpts")(Ye,Ge)),typeof Ge.automargin=="string"&&(ze(Vn,Ge.automargin),ze(Nn,Ge.automargin)),a.autoMargin(Ye,sr(Ge),Vn),a.autoMargin(Ye,bt(Ge),Nn),a.autoMargin(Ye,lt(Ge),ma)}),w.syncOrAsync(ln)}};function ze(Ye,Ge){if(Ye){var zt=Object.keys(N).reduce(function(Ft,Jt){return Ge.indexOf(Jt)!==-1&&N[Jt].forEach(function(tr){Ft[tr]=1}),Ft},{});Object.keys(Ye).forEach(function(Ft){zt[Ft]||(Ft.length===1?Ye[Ft]=0:delete Ye[Ft])})}}function Je(Ye,Ge){var zt=[],Ft,Jt=function(tr,ur){var nr=tr.xbnd[ur];nr!==null&&zt.push(w.extendFlat({},tr,{x:nr}))};if(Ge.length){for(Ft=0;Ft<Ge.length;Ft++)Jt(Ge[Ft],0);Jt(Ge[Ft-1],1)}return zt}function nt(Ye,Ge){for(var zt=[],Ft={},Jt=0;Jt<Ge.length;Jt++){var tr=Ge[Jt];Ft[tr.text2]?Ft[tr.text2].push(tr.x):Ft[tr.text2]=[tr.x]}for(var ur in Ft)zt.push(vt(Ye,w.interp(Ft[ur],.5),ur));return zt}function pt(Ye,Ge){var zt=[],Ft,Jt,tr=Ge.length&&Ge[Ge.length-1].x<Ge[0].x,ur=function(Nt,hr){var gr=Nt.xbnd[hr];gr!==null&&zt.push(w.extendFlat({},Nt,{x:gr}))};if(Ye.showdividers&&Ge.length){for(Ft=0;Ft<Ge.length;Ft++){var nr=Ge[Ft];nr.text2!==Jt&&ur(nr,tr?1:0),Jt=nr.text2}ur(Ge[Ft-1],tr?0:1)}return zt}function yt(Ye,Ge,zt){var Ft,Jt,tr,ur;if(Ye._selections[Ge].size())Ft=1/0,Jt=-1/0,tr=1/0,ur=-1/0,Ye._selections[Ge].each(function(){var Nt=yr(this),hr=i.bBox(Nt.node().parentNode);Ft=Math.min(Ft,hr.top),Jt=Math.max(Jt,hr.bottom),tr=Math.min(tr,hr.left),ur=Math.max(ur,hr.right)});else{var nr=$.makeLabelFns(Ye,zt);Ft=Jt=nr.yFn({dx:0,dy:0,fontSize:0}),tr=ur=nr.xFn({dx:0,dy:0,fontSize:0})}return{top:Ft,bottom:Jt,left:tr,right:ur,height:Jt-Ft,width:ur-tr}}$.getTickSigns=function(Ye,Ge){var zt=Ye._id.charAt(0),Ft={x:"top",y:"right"}[zt],Jt=Ye.side===Ft?1:-1,tr=[-1,1,Jt,-Jt],ur=Ge?(Ye.minor||{}).ticks:Ye.ticks;return ur!=="inside"==(zt==="x")&&(tr=tr.map(function(nr){return-nr})),Ye.side&&tr.push({l:-1,t:-1,r:1,b:1}[Ye.side.charAt(0)]),tr},$.makeTransTickFn=function(Ye){return Ye._id.charAt(0)==="x"?function(Ge){return v(Ye._offset+Ye.l2p(Ge.x),0)}:function(Ge){return v(0,Ye._offset+Ye.l2p(Ge.x))}},$.makeTransTickLabelFn=function(Ye){var Ge=Xt(Ye),zt=Ge[0],Ft=Ge[1];return Ye._id.charAt(0)==="x"?function(Jt){return v(zt+Ye._offset+Ye.l2p(Yt(Jt)),Ft)}:function(Jt){return v(Ft,zt+Ye._offset+Ye.l2p(Yt(Jt)))}};function Yt(Ye){return Ye.periodX!==void 0?Ye.periodX:Ye.x}function Xt(Ye){var Ge=Ye.ticklabelposition||"",zt=function(Gr){return Ge.indexOf(Gr)!==-1},Ft=zt("top"),Jt=zt("left"),tr=zt("right"),ur=zt("bottom"),nr=zt("inside"),Nt=ur||Jt||Ft||tr;if(!Nt&&!nr)return[0,0];var hr=Ye.side,gr=Nt?(Ye.tickwidth||0)/2:0,br=fe,vr=Ye.tickfont?Ye.tickfont.size:12;return(ur||Ft)&&(gr+=vr*Q,br+=(Ye.linewidth||0)/2),(Jt||tr)&&(gr+=(Ye.linewidth||0)/2,br+=fe),nr&&hr==="top"&&(br-=vr*(1-Q)),(Jt||Ft)&&(gr=-gr),(hr==="bottom"||hr==="right")&&(br=-br),[Nt?gr:0,nr?br:0]}$.makeTickPath=function(Ye,Ge,zt,Ft){Ft||(Ft={});var Jt=Ft.minor;if(Jt&&!Ye.minor)return"";var tr=Ft.len!==void 0?Ft.len:Jt?Ye.minor.ticklen:Ye.ticklen,ur=Ye._id.charAt(0),nr=(Ye.linewidth||1)/2;return ur==="x"?"M0,"+(Ge+nr*zt)+"v"+tr*zt:"M"+(Ge+nr*zt)+",0h"+tr*zt},$.makeLabelFns=function(Ye,Ge,zt){var Ft=Ye.ticklabelposition||"",Jt=function(zn){return Ft.indexOf(zn)!==-1},tr=Jt("top"),ur=Jt("left"),nr=Jt("right"),Nt=Jt("bottom"),hr=Nt||ur||tr||nr,gr=Jt("inside"),br=Ft==="inside"&&Ye.ticks==="inside"||!gr&&Ye.ticks==="outside"&&Ye.tickson!=="boundaries",vr=0,Gr=0,Dr=br?Ye.ticklen:0;if(gr?Dr*=-1:hr&&(Dr=0),br&&(vr+=Dr,zt)){var _r=w.deg2rad(zt);vr=Dr*Math.cos(_r)+1,Gr=Dr*Math.sin(_r)}Ye.showticklabels&&(br||Ye.showline)&&(vr+=.2*Ye.tickfont.size),vr+=(Ye.linewidth||1)/2*(gr?-1:1);var hn={labelStandoff:vr,labelShift:Gr},nn,Pn,Cn,Ar,Pr=0,Wr=Ye.side,Vr=Ye._id.charAt(0),on=Ye.tickangle,yn;if(Vr==="x")yn=!gr&&Wr==="bottom"||gr&&Wr==="top",Ar=yn?1:-1,gr&&(Ar*=-1),nn=Gr*Ar,Pn=Ge+vr*Ar,Cn=yn?1:-.2,Math.abs(on)===90&&(gr?Cn+=W:on===-90&&Wr==="bottom"?Cn=Q:on===90&&Wr==="top"?Cn=W:Cn=.5,Pr=W/2*(on/90)),hn.xFn=function(zn){return zn.dx+nn+Pr*zn.fontSize},hn.yFn=function(zn){return zn.dy+Pn+zn.fontSize*Cn},hn.anchorFn=function(zn,aa){if(hr){if(ur)return"end";if(nr)return"start"}return!P(aa)||aa===0||aa===180?"middle":aa*Ar<0!==gr?"end":"start"},hn.heightFn=function(zn,aa,ha){return aa<-60||aa>60?-.5*ha:Ye.side==="top"!==gr?-ha:0};else if(Vr==="y"){if(yn=!gr&&Wr==="left"||gr&&Wr==="right",Ar=yn?1:-1,gr&&(Ar*=-1),nn=vr,Pn=Gr*Ar,Cn=0,!gr&&Math.abs(on)===90&&(on===-90&&Wr==="left"||on===90&&Wr==="right"?Cn=Q:Cn=.5),gr){var mn=P(on)?+on:0;if(mn!==0){var Ln=w.deg2rad(mn);Pr=Math.abs(Math.sin(Ln))*Q*Ar,Cn=0}}hn.xFn=function(zn){return zn.dx+Ge-(nn+zn.fontSize*Cn)*Ar+Pr*zn.fontSize},hn.yFn=function(zn){return zn.dy+Pn+zn.fontSize*W},hn.anchorFn=function(zn,aa){return P(aa)&&Math.abs(aa)===90?"middle":yn?"end":"start"},hn.heightFn=function(zn,aa,ha){return Ye.side==="right"&&(aa*=-1),aa<-30?-ha:aa<30?-.5*ha:0}}return hn};function St(Ye){return[Ye.text,Ye.x,Ye.axInfo,Ye.font,Ye.fontSize,Ye.fontColor].join("_")}$.drawTicks=function(Ye,Ge,zt){zt=zt||{};var Ft=Ge._id+"tick",Jt=[].concat(Ge.minor&&Ge.minor.ticks?zt.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(Ge.ticks?zt.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),tr=zt.layer.selectAll("path."+Ft).data(Jt,St);tr.exit().remove(),tr.enter().append("path").classed(Ft,1).classed("ticks",1).classed("crisp",zt.crisp!==!1).each(function(ur){return t.stroke(g.select(this),ur.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(ur){return i.crispRound(Ye,ur.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",zt.path).style("display",null),fr(Ge,[z]),tr.attr("transform",zt.transFn)},$.drawGrid=function(Ye,Ge,zt){if(zt=zt||{},Ge.tickmode!=="sync"){var Ft=Ge._id+"grid",Jt=Ge.minor&&Ge.minor.showgrid,tr=Jt?zt.vals.filter(function(nn){return nn.minor}):[],ur=Ge.showgrid?zt.vals.filter(function(nn){return!nn.minor}):[],nr=zt.counterAxis;if(nr&&$.shouldShowZeroLine(Ye,Ge,nr))for(var Nt=Ge.tickmode==="array",hr=0;hr<ur.length;hr++){var gr=ur[hr].x;if(Nt?!gr:Math.abs(gr)<Ge.dtick/100)if(ur=ur.slice(0,hr).concat(ur.slice(hr+1)),Nt)hr--;else break}Ge._gw=i.crispRound(Ye,Ge.gridwidth,1);for(var br=Jt?i.crispRound(Ye,Ge.minor.gridwidth,1):0,vr=zt.layer,Gr=zt.minorLayer,Dr=1;Dr>=0;Dr--){var _r=Dr?vr:Gr;if(_r){var hn=_r.selectAll("path."+Ft).data(Dr?ur:tr,St);hn.exit().remove(),hn.enter().append("path").classed(Ft,1).classed("crisp",zt.crisp!==!1),hn.attr("transform",zt.transFn).attr("d",zt.path).each(function(nn){return t.stroke(g.select(this),nn.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(nn){return i.dashStyle(nn.minor?Ge.minor.griddash:Ge.griddash,nn.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(nn){return(nn.minor?br:Ge._gw)+"px"}).style("display",null),typeof zt.path=="function"&&hn.attr("d",zt.path)}}fr(Ge,[U,F])}},$.drawZeroLine=function(Ye,Ge,zt){zt=zt||zt;var Ft=Ge._id+"zl",Jt=$.shouldShowZeroLine(Ye,Ge,zt.counterAxis),tr=zt.layer.selectAll("path."+Ft).data(Jt?[{x:0,id:Ge._id}]:[]);tr.exit().remove(),tr.enter().append("path").classed(Ft,1).classed("zl",1).classed("crisp",zt.crisp!==!1).each(function(){zt.layer.selectAll("path").sort(function(ur,nr){return Y(ur.id,nr.id)})}),tr.attr("transform",zt.transFn).attr("d",zt.path).call(t.stroke,Ge.zerolinecolor||t.defaultLine).style("stroke-width",i.crispRound(Ye,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),fr(Ge,[_])},$.drawLabels=function(Ye,Ge,zt){zt=zt||{};var Ft=Ye._fullLayout,Jt=Ge._id,tr=zt.cls||Jt+"tick",ur=zt.vals.filter(function(Tr){return Tr.text}),nr=zt.labelFns,Nt=zt.secondary?0:Ge.tickangle,hr=(Ge._prevTickAngles||{})[tr],gr=zt.layer.selectAll("g."+tr).data(Ge.showticklabels?ur:[],St),br=[];gr.enter().append("g").classed(tr,1).append("text").attr("text-anchor","middle").each(function(Tr){var an=g.select(this),qr=Ye._promises.length;an.call(p.positionText,nr.xFn(Tr),nr.yFn(Tr)).call(i.font,Tr.font,Tr.fontSize,Tr.fontColor).text(Tr.text).call(p.convertToTspans,Ye),Ye._promises[qr]?br.push(Ye._promises.pop().then(function(){vr(an,Nt)})):vr(an,Nt)}),fr(Ge,[B]),gr.exit().remove(),zt.repositionOnUpdate&&gr.each(function(Tr){g.select(this).select("text").call(p.positionText,nr.xFn(Tr),nr.yFn(Tr))});function vr(Tr,an){Tr.each(function(qr){var gn=g.select(this),Hn=gn.select(".text-math-group"),An=nr.anchorFn(qr,an),Sn=zt.transFn.call(gn.node(),qr)+(P(an)&&+an!=0?" rotate("+an+","+nr.xFn(qr)+","+(nr.yFn(qr)-qr.fontSize/2)+")":""),Un=p.lineCount(gn),$n=re*qr.fontSize,ya=nr.heightFn(qr,P(an)?+an:0,(Un-1)*$n);if(ya&&(Sn+=v(0,ya)),Hn.empty()){var _a=gn.select("text");_a.attr({transform:Sn,"text-anchor":An}),_a.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var Er=i.bBox(Hn.node()).width,zr=Er*{end:-.5,start:.5}[An];Hn.attr("transform",Sn+v(zr,0))}})}Ge._adjustTickLabelsOverflow=function(){var Tr=Ge.ticklabeloverflow;if(!(!Tr||Tr==="allow")){var an=Tr.indexOf("hide")!==-1,qr=Ge._id.charAt(0)==="x",gn=0,Hn=qr?Ye._fullLayout.width:Ye._fullLayout.height;if(Tr.indexOf("domain")!==-1){var An=w.simpleMap(Ge.range,Ge.r2l);gn=Ge.l2p(An[0])+Ge._offset,Hn=Ge.l2p(An[1])+Ge._offset}var Sn=Math.min(gn,Hn),Un=Math.max(gn,Hn),$n=Ge.side,ya=1/0,_a=-1/0;gr.each(function(Nr){var wn=g.select(this),kn=wn.select(".text-math-group");if(kn.empty()){var vn=i.bBox(wn.node()),ln=0;qr?(vn.right>Un||vn.left<Sn)&&(ln=1):(vn.bottom>Un||vn.top+(Ge.tickangle?0:Nr.fontSize/4)<Sn)&&(ln=1);var Cr=wn.select("text");ln?an&&Cr.style("opacity",0):(Cr.style("opacity",1),$n==="bottom"||$n==="right"?ya=Math.min(ya,qr?vn.top:vn.left):ya=-1/0,$n==="top"||$n==="left"?_a=Math.max(_a,qr?vn.bottom:vn.right):_a=1/0)}});for(var Er in Ft._plots){var zr=Ft._plots[Er];if(!(Ge._id!==zr.xaxis._id&&Ge._id!==zr.yaxis._id)){var Sr=qr?zr.yaxis:zr.xaxis;Sr&&(Sr["_visibleLabelMin_"+Ge._id]=ya,Sr["_visibleLabelMax_"+Ge._id]=_a)}}}},Ge._hideCounterAxisInsideTickLabels=function(Tr){var an=Ge._id.charAt(0)==="x",qr=[];for(var gn in Ft._plots){var Hn=Ft._plots[gn];Ge._id!==Hn.xaxis._id&&Ge._id!==Hn.yaxis._id||qr.push(an?Hn.yaxis:Hn.xaxis)}qr.forEach(function(An,Sn){An&&$t(An)&&(Tr||[_,F,U,z,B]).forEach(function(Un){var $n=Un.K==="tick"&&Un.L==="text"&&Ge.ticklabelmode==="period",ya=Ft._plots[Ge._mainSubplot],_a;Un.K===_.K?_a=ya.zerolinelayer.selectAll("."+Ge._id+"zl"):Un.K===F.K?_a=ya.minorGridlayer.selectAll("."+Ge._id):Un.K===U.K?_a=ya.gridlayer.selectAll("."+Ge._id):_a=ya[Ge._id.charAt(0)+"axislayer"],_a.each(function(){var Er=g.select(this);Un.L&&(Er=Er.selectAll(Un.L)),Er.each(function(zr){var Sr=Ge.l2p($n?Yt(zr):zr.x)+Ge._offset,Nr=g.select(this);Sr<Ge["_visibleLabelMax_"+An._id]&&Sr>Ge["_visibleLabelMin_"+An._id]?Nr.style("display","none"):Un.K==="tick"&&!Sn&&Nr.style("display",null)})})})})},vr(gr,hr+1?hr:Nt);function Gr(){return br.length&&Promise.all(br)}var Dr=null;function _r(){if(vr(gr,Nt),ur.length&&Ge.autotickangles&&(Ge.type!=="log"||String(Ge.dtick).charAt(0)!=="D")){Dr=Ge.autotickangles[0];var Tr=0,an=[],qr,gn=1;if(gr.each(function(Rn){Tr=Math.max(Tr,Rn.fontSize);var Dn=Ge.l2p(Rn.x),Vn=yr(this),Nn=i.bBox(Vn.node());gn=Math.max(gn,p.lineCount(Vn)),an.push({top:0,bottom:10,height:10,left:Dn-Nn.width/2,right:Dn+Nn.width/2+2,width:Nn.width+2})}),(Ge.tickson==="boundaries"||Ge.showdividers)&&!zt.secondary){var Hn=2;for(Ge.ticks&&(Hn+=Ge.tickwidth/2),qr=0;qr<an.length;qr++){var An=ur[qr].xbnd,Sn=an[qr];if(An[0]!==null&&Sn.left-Ge.l2p(An[0])<Hn||An[1]!==null&&Ge.l2p(An[1])-Sn.right<Hn){Dr=90;break}}}else{var Un=ur.length,$n=Math.abs((ur[Un-1].x-ur[0].x)*Ge._m)/(Un-1),ya=Ge.ticklabelposition||"",_a=function(Rn){return ya.indexOf(Rn)!==-1},Er=_a("top"),zr=_a("left"),Sr=_a("right"),Nr=_a("bottom"),wn=Nr||zr||Er||Sr,kn=wn?(Ge.tickwidth||0)+2*fe:0,vn=$n,ln=Tr*1.25*gn,Cr=Math.sqrt(Math.pow(vn,2)+Math.pow(ln,2)),Zr=vn/Cr,jr=Ge.autotickangles.map(function(Rn){return Rn*Math.PI/180}),Qr=jr.find(function(Rn){return Math.abs(Math.cos(Rn))<=Zr});Qr===void 0&&(Qr=jr.reduce(function(Rn,Dn){return Math.abs(Math.cos(Rn))<Math.abs(Math.cos(Dn))?Rn:Dn},jr[0]));var Tn=Qr*(180/Math.PI);for(qr=0;qr<an.length-1;qr++)if(w.bBoxIntersect(an[qr],an[qr+1],kn)){Dr=Tn;break}}Dr&&vr(gr,Dr)}}Ge._selections&&(Ge._selections[tr]=gr);var hn=[Gr];Ge.automargin&&Ft._redrawFromAutoMarginCount&&hr===90?(Dr=hr,hn.push(function(){vr(gr,hr)})):hn.push(_r),Ge._tickAngles&&hn.push(function(){Ge._tickAngles[tr]=Dr===null?P(Nt)?Nt:0:Dr});var nn=function(){var Tr=0,an=0;return gr.each(function(qr,gn){var Hn=yr(this),An=Hn.select(".text-math-group");if(An.empty()){var Sn;Ge._vals[gn]&&(Sn=Ge._vals[gn].bb||i.bBox(Hn.node()),Ge._vals[gn].bb=Sn),Tr=Math.max(Tr,Sn.width),an=Math.max(an,Sn.height)}}),{labelsMaxW:Tr,labelsMaxH:an}},Pn=Ge._anchorAxis;if(Pn&&(Pn.autorange||Pn.insiderange)&&$t(Ge)&&!ee(Ft,Ge._id)&&(Ft._insideTickLabelsUpdaterange||(Ft._insideTickLabelsUpdaterange={}),Pn.autorange&&(Ft._insideTickLabelsUpdaterange[Pn._name+".autorange"]=Pn.autorange,hn.push(nn)),Pn.insiderange)){var Cn=nn(),Ar=Ge._id.charAt(0)==="y"?Cn.labelsMaxW:Cn.labelsMaxH;Ar+=2*fe,Ge.ticklabelposition==="inside"&&(Ar+=Ge.ticklen||0);var Pr=Ge.side==="right"||Ge.side==="top"?1:-1,Wr=Pr===1?1:0,Vr=Pr===1?0:1,on=[];on[Vr]=Pn.range[Vr];var yn=Pn.range,mn=Pn.r2p(yn[Wr]),Ln=Pn.r2p(yn[Vr]),zn=Ft._insideTickLabelsUpdaterange[Pn._name+".range"];if(zn){var aa=Pn.r2p(zn[Wr]),ha=Pn.r2p(zn[Vr]),pa=Pr*(Ge._id.charAt(0)==="y"?1:-1);pa*mn<pa*aa&&(mn=aa,on[Wr]=yn[Wr]=zn[Wr]),pa*Ln>pa*ha&&(Ln=ha,on[Vr]=yn[Vr]=zn[Vr])}var ua=Math.abs(Ln-mn);ua-Ar>0?(ua-=Ar,Ar*=1+Ar/ua):Ar=0,Ge._id.charAt(0)!=="y"&&(Ar=-Ar),on[Wr]=Pn.p2r(Pn.r2p(yn[Wr])+Pr*Ar),Pn.autorange==="min"||Pn.autorange==="max reversed"?(on[0]=null,Pn._rangeInitial0=void 0,Pn._rangeInitial1=void 0):(Pn.autorange==="max"||Pn.autorange==="min reversed")&&(on[1]=null,Pn._rangeInitial0=void 0,Pn._rangeInitial1=void 0),Ft._insideTickLabelsUpdaterange[Pn._name+".range"]=on}var na=w.syncOrAsync(hn);return na&&na.then&&Ye._promises.push(na),na};function kt(Ye,Ge,zt){var Ft=Ge._id+"divider",Jt=zt.vals,tr=zt.layer.selectAll("path."+Ft).data(Jt,St);tr.exit().remove(),tr.enter().insert("path",":first-child").classed(Ft,1).classed("crisp",1).call(t.stroke,Ge.dividercolor).style("stroke-width",i.crispRound(Ye,Ge.dividerwidth,1)+"px"),tr.attr("transform",zt.transFn).attr("d",zt.path)}$.getPxPosition=function(Ye,Ge){var zt=Ye._fullLayout._size,Ft=Ge._id.charAt(0),Jt=Ge.side,tr;if(Ge.anchor!=="free"?tr=Ge._anchorAxis:Ft==="x"?tr={_offset:zt.t+(1-(Ge.position||0))*zt.h,_length:0}:Ft==="y"&&(tr={_offset:zt.l+(Ge.position||0)*zt.w+Ge._shift,_length:0}),Jt==="top"||Jt==="left")return tr._offset;if(Jt==="bottom"||Jt==="right")return tr._offset+tr._length};function Kt(Ye){var Ge=Ye.title.font.size,zt=(Ye.title.text.match(p.BR_TAG_ALL)||[]).length;return Ye.title.hasOwnProperty("standoff")?zt?Ge*(Q+zt*re):Ge*Q:zt?Ge*(zt+1)*re:Ge}function mr(Ye,Ge){var zt=Ye._fullLayout,Ft=Ge._id,Jt=Ft.charAt(0),tr=Ge.title.font.size,ur;if(Ge.title.hasOwnProperty("standoff"))ur=Ge._depth+Ge.title.standoff+Kt(Ge);else{var nr=$t(Ge);if(Ge.type==="multicategory")ur=Ge._depth;else{var Nt=1.5*tr;nr&&(Nt=.5*tr,Ge.ticks==="outside"&&(Nt+=Ge.ticklen)),ur=10+Nt+(Ge.linewidth?Ge.linewidth-1:0)}nr||(Jt==="x"?ur+=Ge.side==="top"?tr*(Ge.showticklabels?1:0):tr*(Ge.showticklabels?1.5:.5):ur+=Ge.side==="right"?tr*(Ge.showticklabels?1:.5):tr*(Ge.showticklabels?.5:0))}var hr=$.getPxPosition(Ye,Ge),gr,br,vr;Jt==="x"?(br=Ge._offset+Ge._length/2,vr=Ge.side==="top"?hr-ur:hr+ur):(vr=Ge._offset+Ge._length/2,br=Ge.side==="right"?hr+ur:hr-ur,gr={rotate:"-90",offset:0});var Gr;if(Ge.type!=="multicategory"){var Dr=Ge._selections[Ge._id+"tick"];if(Gr={selection:Dr,side:Ge.side},Dr&&Dr.node()&&Dr.node().parentNode){var _r=i.getTranslate(Dr.node().parentNode);Gr.offsetLeft=_r.x,Gr.offsetTop=_r.y}Ge.title.hasOwnProperty("standoff")&&(Gr.pad=0)}return Ge._titleStandoff=ur,r.draw(Ye,Ft+"title",{propContainer:Ge,propName:Ge._name+".title.text",placeholder:zt._dfltTitle[Jt],avoid:Gr,transform:gr,attributes:{x:br,y:vr,"text-anchor":"middle"}})}$.shouldShowZeroLine=function(Ye,Ge,zt){var Ft=w.simpleMap(Ge.range,Ge.r2l);return Ft[0]*Ft[1]<=0&&Ge.zeroline&&(Ge.type==="linear"||Ge.type==="-")&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===k)&&(mt(Ge,0)||!Zt(Ye,Ge,zt,Ft)||Qt(Ye,Ge))},$.clipEnds=function(Ye,Ge){return Ge.filter(function(zt){return mt(Ye,zt.x)})};function mt(Ye,Ge){var zt=Ye.l2p(Ge);return zt>1&&zt<Ye._length-1}function Zt(Ye,Ge,zt,Ft){var Jt=zt._mainAxis;if(!Jt)return;var tr=Ye._fullLayout,ur=Ge._id.charAt(0),nr=$.counterLetter(Ge._id),Nt=Ge._offset+(Math.abs(Ft[0])<Math.abs(Ft[1])==(ur==="x")?0:Ge._length);function hr(Dr){if(!Dr.showline||!Dr.linewidth)return!1;var _r=Math.max((Dr.linewidth+Ge.zerolinewidth)/2,1);function hn(Cn){return typeof Cn=="number"&&Math.abs(Cn-Nt)<_r}if(hn(Dr._mainLinePosition)||hn(Dr._mainMirrorPosition))return!0;var nn=Dr._linepositions||{};for(var Pn in nn)if(hn(nn[Pn][0])||hn(nn[Pn][1]))return!0}var gr=tr._plots[zt._mainSubplot];if(!(gr.mainplotinfo||gr).overlays.length)return hr(zt);for(var br=$.list(Ye,nr),vr=0;vr<br.length;vr++){var Gr=br[vr];if(Gr._mainAxis===Jt&&hr(Gr))return!0}}function Qt(Ye,Ge){for(var zt=Ye._fullData,Ft=Ge._mainSubplot,Jt=Ge._id.charAt(0),tr=0;tr<zt.length;tr++){var ur=zt[tr];if(ur.visible===!0&&ur.xaxis+ur.yaxis===Ft&&(x.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Jt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Jt))return!0}return!1}function yr(Ye){var Ge=g.select(Ye),zt=Ge.select(".text-math-group");return zt.empty()?Ge.select("text"):zt}$.allowAutoMargin=function(Ye){for(var Ge=$.list(Ye,"",!0),zt=0;zt<Ge.length;zt++){var Ft=Ge[zt];Ft.automargin&&(a.allowAutoMargin(Ye,sr(Ft)),Ft.mirror&&a.allowAutoMargin(Ye,bt(Ft))),x.getComponentMethod("rangeslider","isVisible")(Ft)&&a.allowAutoMargin(Ye,lt(Ft))}};function sr(Ye){return Ye._id+".automargin"}function bt(Ye){return sr(Ye)+".mirror"}function lt(Ye){return Ye._id+".rangeslider"}$.swap=function(Ye,Ge){for(var zt=Tt(Ye,Ge),Ft=0;Ft<zt.length;Ft++)It(Ye,zt[Ft].x,zt[Ft].y)};function Tt(Ye,Ge){var zt=[],Ft,Jt;for(Ft=0;Ft<Ge.length;Ft++){var tr=[],ur=Ye._fullData[Ge[Ft]].xaxis,nr=Ye._fullData[Ge[Ft]].yaxis;if(!(!ur||!nr)){for(Jt=0;Jt<zt.length;Jt++)(zt[Jt].x.indexOf(ur)!==-1||zt[Jt].y.indexOf(nr)!==-1)&&tr.push(Jt);if(!tr.length){zt.push({x:[ur],y:[nr]});continue}var Nt=zt[tr[0]],hr;if(tr.length>1)for(Jt=1;Jt<tr.length;Jt++)hr=zt[tr[Jt]],Ct(Nt.x,hr.x),Ct(Nt.y,hr.y);Ct(Nt.x,[ur]),Ct(Nt.y,[nr])}}return zt}function Ct(Ye,Ge){for(var zt=0;zt<Ge.length;zt++)Ye.indexOf(Ge[zt])===-1&&Ye.push(Ge[zt])}function It(Ye,Ge,zt){var Ft=[],Jt=[],tr=Ye.layout,ur,nr;for(ur=0;ur<Ge.length;ur++)Ft.push($.getFromId(Ye,Ge[ur]));for(ur=0;ur<zt.length;ur++)Jt.push($.getFromId(Ye,zt[ur]));var Nt=Object.keys(n),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],gr=["linear","log"];for(ur=0;ur<Nt.length;ur++){var br=Nt[ur],vr=Ft[0][br],Gr=Jt[0][br],Dr=!0,_r=!1,hn=!1;if(!(br.charAt(0)==="_"||typeof vr=="function"||hr.indexOf(br)!==-1)){for(nr=1;nr<Ft.length&&Dr;nr++){var nn=Ft[nr][br];br==="type"&&gr.indexOf(vr)!==-1&&gr.indexOf(nn)!==-1&&vr!==nn?_r=!0:nn!==vr&&(Dr=!1)}for(nr=1;nr<Jt.length&&Dr;nr++){var Pn=Jt[nr][br];br==="type"&&gr.indexOf(Gr)!==-1&&gr.indexOf(Pn)!==-1&&Gr!==Pn?hn=!0:Jt[nr][br]!==Gr&&(Dr=!1)}Dr&&(_r&&(tr[Ft[0]._name].type="linear"),hn&&(tr[Jt[0]._name].type="linear"),Dt(tr,br,Ft,Jt,Ye._fullLayout._dfltTitle))}}for(ur=0;ur<Ye._fullLayout.annotations.length;ur++){var Cn=Ye._fullLayout.annotations[ur];Ge.indexOf(Cn.xref)!==-1&&zt.indexOf(Cn.yref)!==-1&&w.swapAttrs(tr.annotations[ur],["?"])}}function Dt(Ye,Ge,zt,Ft,Jt){var tr=w.nestedProperty,ur=tr(Ye[zt[0]._name],Ge).get(),nr=tr(Ye[Ft[0]._name],Ge).get(),Nt;for(Ge==="title"&&(ur&&ur.text===Jt.x&&(ur.text=Jt.y),nr&&nr.text===Jt.y&&(nr.text=Jt.x)),Nt=0;Nt<zt.length;Nt++)tr(Ye,zt[Nt]._name+"."+Ge).set(nr);for(Nt=0;Nt<Ft.length;Nt++)tr(Ye,Ft[Nt]._name+"."+Ge).set(ur)}function Vt(Ye){return Ye._id==="angularaxis"}function Bt(Ye,Ge){for(var zt=Ge._rangebreaks.length,Ft=0;Ft<zt;Ft++){var Jt=Ge._rangebreaks[Ft];if(Ye>=Jt.min&&Ye<Jt.max)return Jt.max}return Ye}function $t(Ye){return(Ye.ticklabelposition||"").indexOf("inside")!==-1}function fr(Ye,Ge){$t(Ye._anchorAxis||{})&&Ye._hideCounterAxisInsideTickLabels&&Ye._hideCounterAxisInsideTickLabels(Ge)}function cr(Ye,Ge,zt,Ft){var Jt=Ye.anchor!=="free"&&(Ye.overlaying===void 0||Ye.overlaying===!1)?Ye._id:Ye.overlaying,tr;Ft?tr=Ye.side==="right"?Ge:-Ge:tr=Ge,Jt in zt||(zt[Jt]={}),Ye.side in zt[Jt]||(zt[Jt][Ye.side]=0),zt[Jt][Ye.side]+=tr}function dr(Ye,Ge){return Ye.autoshift?Ge[Ye.overlaying][Ye.side]:Ye.shift||0}},52976:function(H,j,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM,x=P.isArrayOrTypedArray,w=P.isDateTime,v=P.cleanNumber,p=Math.round;H.exports=function(y,h,M){var c=y,o=M.noMultiCategory;if(x(c)&&!c.length)return"-";if(!o&&f(c))return"multicategory";if(o&&Array.isArray(c[0])){for(var d=[],T=0;T<c.length;T++)if(x(c[T]))for(var S=0;S<c[T].length;S++)d.push(c[T][S]);c=d}if(i(c,h))return"date";var C=M.autotypenumbers!=="strict";return u(c,C)?"category":t(c,C)?"linear":"-"};function r(l,y){return y?g(l):typeof l=="number"}function t(l,y){for(var h=l.length,M=0;M<h;M++)if(r(l[M],y))return!0;return!1}function i(l,y){for(var h=l.length,M=n(h),c=0,o=0,d={},T=0;T<h;T+=M){var S=p(T),C=l[S],m=String(C);d[m]||(d[m]=1,w(C,y)&&c++,g(C)&&o++)}return c>o*2}function n(l){return Math.max(1,(l-1)/1e3)}function u(l,y){for(var h=l.length,M=n(h),c=0,o=0,d={},T=0;T<h;T+=M){var S=p(T),C=l[S],m=String(C);if(!d[m]){d[m]=1;var E=typeof C;E==="boolean"?o++:(y?v(C)!==a:E==="number")?c++:E==="string"&&o++}}return o>c*2}function f(l){return x(l[0])&&x(l[1])}},28336:function(H,j,e){var g=e(38248),P=e(24040),a=e(3400),x=e(31780),w=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),i=e(42568),n=e(22416),u=e(42136),f=e(96312),l=e(78344),y=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;H.exports=function(T,S,C,m,E){var b=m.letter,s=m.font||{},L=m.splomStash||{},A=C("visible",!m.visibleDflt),k=S._template||{},_=S.type||k.type||"-",U;if(_==="date"){var F=P.getComponentMethod("calendars","handleDefaults");F(T,S,"calendar",m.calendar),m.noTicklabelmode||(U=C("ticklabelmode"))}var z="";(!m.noTicklabelposition||_==="multicategory")&&(z=a.coerce(T,S,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:U==="period"?["outside","inside"]:b==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),m.noTicklabeloverflow||C("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":_==="category"||_==="multicategory"?"allow":"hide past div"),l(S,E),f(T,S,C,m),n(T,S,C,m),_!=="category"&&!m.noHover&&C("hoverformat");var B=C("color"),N=B!==v.color.dflt?B:s.color,V=L.label||E._dfltTitle[b];if(i(T,S,C,_,m),!A)return S;C("title.text",V),a.coerceFont(C,"title.font",{family:s.family,size:a.bigFont(s.size),color:N}),p(T,S,C,_);var W=m.hasMinor;if(W&&(x.newContainer(S,"minor"),p(T,S,C,_,{isMinor:!0})),t(T,S,C,_,m),r(T,S,C,m),W){var Q=m.isMinor;m.isMinor=!0,r(T,S,C,m),m.isMinor=Q}u(T,S,C,{dfltColor:B,bgColor:m.bgColor,showGrid:m.showGrid,hasMinor:W,attributes:v}),W&&!S.minor.ticks&&!S.minor.showgrid&&delete S.minor,(S.showline||S.ticks)&&C("mirror");var re=_==="multicategory";if(!m.noTickson&&(_==="category"||re)&&(S.ticks||S.showgrid)){var ne;re&&(ne="boundaries");var fe=C("tickson",ne);fe==="boundaries"&&delete S.ticklabelposition}if(re){var $=C("showdividers");$&&(C("dividercolor"),C("dividerwidth"))}if(_==="date")if(w(T,S,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:M}),!S.rangebreaks.length)delete S.rangebreaks;else{for(var X=0;X<S.rangebreaks.length;X++)if(S.rangebreaks[X].pattern===y){S._hasDayOfWeekBreaks=!0;break}if(l(S,E),E._has("scattergl")||E._has("splom"))for(var oe=0;oe<m.data.length;oe++){var Y=m.data[oe];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,a.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return S};function M(d,T,S){function C(U,F){return a.coerce(d,T,v.rangebreaks,U,F)}var m=C("enabled");if(m){var E=C("bounds");if(E&&E.length>=2){var b="",s,L;if(E.length===2){for(s=0;s<2;s++)if(L=o(E[s]),L){b=y;break}}var A=C("pattern",b);if(A===y)for(s=0;s<2;s++)L=o(E[s]),L&&(T.bounds[s]=E[s]=L-1);if(A)for(s=0;s<2;s++)switch(L=E[s],A){case y:if(!g(L)){T.enabled=!1;return}if(L=+L,L!==Math.floor(L)||L<0||L>=7){T.enabled=!1;return}T.bounds[s]=E[s]=L;break;case h:if(!g(L)){T.enabled=!1;return}if(L=+L,L<0||L>24){T.enabled=!1;return}T.bounds[s]=E[s]=L;break}if(S.autorange===!1){var k=S.range;if(k[0]<k[1]){if(E[0]<k[0]&&E[1]>k[1]){T.enabled=!1;return}}else if(E[0]>k[0]&&E[1]<k[1]){T.enabled=!1;return}}}else{var _=C("values");if(_&&_.length)C("dvalue");else{T.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(H,j,e){var g=e(26880),P=g.FORMAT_LINK,a=g.DATE_FORMAT_LINK;function x(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?w:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function w(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return w(p,r)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}H.exports={axisHoverFormat:x,descriptionOnlyNumbers:w,descriptionWithDates:v}},79811:function(H,j,e){var g=e(24040),P=e(33816);j.id2name=function(w){if(!(typeof w!="string"||!w.match(P.AX_ID_PATTERN))){var v=w.split(" ")[0].substr(1);return v==="1"&&(v=""),w.charAt(0)+"axis"+v}},j.name2id=function(w){if(w.match(P.AX_NAME_PATTERN)){var v=w.substr(5);return v==="1"&&(v=""),w.charAt(0)+v}},j.cleanId=function(w,v,p){var r=/( domain)$/.test(w);if(!(typeof w!="string"||!w.match(P.AX_ID_PATTERN))&&!(v&&w.charAt(0)!==v)&&!(r&&!p)){var t=w.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),w.charAt(0)+t+(r&&p?" domain":"")}},j.list=function(x,w,v){var p=x._fullLayout;if(!p)return[];var r=j.listIds(x,w),t=new Array(r.length),i;for(i=0;i<r.length;i++){var n=r[i];t[i]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var u=p._subplots.gl3d||[];for(i=0;i<u.length;i++){var f=p[u[i]];w?t.push(f[w+"axis"]):t.push(f.xaxis,f.yaxis,f.zaxis)}}return t},j.listIds=function(x,w){var v=x._fullLayout;if(!v)return[];var p=v._subplots;return w?p[w+"axis"]:p.xaxis.concat(p.yaxis)},j.getFromId=function(x,w,v){var p=x._fullLayout;return w=w===void 0||typeof w!="string"?w:w.replace(" domain",""),v==="x"?w=w.replace(/y[0-9]*/,""):v==="y"&&(w=w.replace(/x[0-9]*/,"")),p[j.id2name(w)]},j.getFromTrace=function(x,w,v){var p=x._fullLayout,r=null;if(g.traceIs(w,"gl3d")){var t=w.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=j.getFromId(x,w[v+"axis"]||v);return r},j.idSort=function(x,w){var v=x.charAt(0),p=w.charAt(0);return v!==p?v>p?1:-1:+(x.substr(1)||1)-+(w.substr(1)||1)},j.ref2id=function(x){return/^[xyz]/.test(x)?x.split(" ")[0]:!1};function a(x,w){if(w&&w.length){for(var v=0;v<w.length;v++)if(w[v][x])return!0}return!1}j.isLinked=function(x,w){return a(w,x._axisMatchGroups)||a(w,x._axisConstraintGroups)}},22416:function(H,j,e){var g=e(38116).isTypedArraySpec;function P(a,x){var w=x.dataAttr||a._id.charAt(0),v={},p,r,t;if(x.axData)p=x.axData;else for(p=[],r=0;r<x.data.length;r++){var i=x.data[r];i[w+"axis"]===a._id&&p.push(i)}for(r=0;r<p.length;r++){var n=p[r][w];for(t=0;t<n.length;t++){var u=n[t];u!=null&&(v[u]=1)}}return Object.keys(v)}H.exports=function(x,w,v,p){if(w.type==="category"){var r=x.categoryarray,t=Array.isArray(r)&&r.length>0||g(r),i;t&&(i="array");var n=v("categoryorder",i),u;n==="array"&&(u=v("categoryarray")),!t&&n==="array"&&(n=w.categoryorder="trace"),n==="trace"?w._initialCategories=[]:n==="array"?w._initialCategories=u.slice():(u=P(w,p).sort(),n==="category ascending"?w._initialCategories=u:n==="category descending"&&(w._initialCategories=u.reverse()))}}},98728:function(H,j,e){var g=e(38248),P=e(3400),a=e(39032),x=a.ONEDAY,w=a.ONEWEEK;j.dtick=function(v,p){var r=p==="log",t=p==="date",i=p==="category",n=t?x:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:i?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var u=v.charAt(0),f=v.substr(1);return f=g(f)?Number(f):0,f<=0||!(t&&u==="M"&&f===Math.round(f)||r&&u==="L"||r&&u==="D"&&(f===1||f===2))?n:v},j.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%w===0?1:0));if(!(t==="D1"||t==="D2"))return g(v)?Number(v):0}},33816:function(H,j,e){var g=e(53756).counter;H.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(H,j,e){var g=e(3400),P=e(19280),a=e(79811).id2name,x=e(94724),w=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;j.handleDefaults=function(h,M,c){var o=c.axIds,d=c.axHasImage,T=M._axisConstraintGroups=[],S=M._axisMatchGroups=[],C,m,E,b,s,L,A,k;for(C=0;C<o.length;C++)b=a(o[C]),s=h[b],L=M[b],t(s,L,{axIds:o,layoutOut:M,hasImage:d[b]});function _(re,ne){for(C=0;C<re.length;C++){m=re[C];for(E in m)M[a(E)][ne]=m}}for(_(S,"_matchGroup"),C=0;C<T.length;C++){m=T[C];for(E in m)if(L=M[a(E)],L.fixedrange){for(var U in m){var F=a(U);(h[F]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),M[F].fixedrange=!0}break}}for(C=0;C<T.length;){m=T[C];for(E in m){L=M[a(E)],L._matchGroup&&Object.keys(L._matchGroup).length===Object.keys(m).length&&(T.splice(C,1),C--);break}C++}_(T,"_constraintGroup");var z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,N=!1;function V(){k=L[A],A==="rangebreaks"&&(N=L._hasDayOfWeekBreaks)}for(C=0;C<S.length;C++){m=S[C];for(var W=0;W<z.length;W++){A=z[W],k=null;var Q;for(E in m)if(b=a(E),s=h[b],L=M[b],A in L){if(!L.matches&&(Q=L,A in s)){V();break}k===null&&A in s&&V()}if(A==="range"&&k&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(B=!0),A==="autorange"&&k===null&&B&&(k=!1),k===null&&A in Q&&(k=Q[A]),k!==null)for(E in m)L=M[a(E)],L[A]=A==="range"?k.slice():k,A==="rangebreaks"&&(L._hasDayOfWeekBreaks=N,v(L,M))}}};function t(h,M,c){var o=c.axIds,d=c.layoutOut,T=c.hasImage,S=d._axisConstraintGroups,C=d._axisMatchGroups,m=M._id,E=m.charAt(0),b=((d._splomAxes||{})[E]||{})[m]||{},s=M._id,L=s.charAt(0)==="x";M._matchGroup=null,M._constraintGroup=null;function A(X,oe){return g.coerce(h,M,x,X,oe)}A("constrain",T?"domain":"range"),g.coerce(h,M,{constraintoward:{valType:"enumerated",values:L?["left","center","right"]:["bottom","middle","top"],dflt:L?"center":"middle"}},"constraintoward");var k=M.type,_,U,F=[];for(_=0;_<o.length;_++)if(U=o[_],U!==s){var z=d[a(U)];z.type===k&&F.push(U)}var B=n(S,s);if(B){var N=[];for(_=0;_<F.length;_++)U=F[_],B[U]||N.push(U);F=N}var V=F.length,W,Q;V&&(h.matches||b.matches)&&(W=g.coerce(h,M,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(b.matches)!==-1?b.matches:void 0}},"matches"));var re=T&&!L?M.anchor:void 0;if(V&&!W&&(h.scaleanchor||re)&&(Q=g.coerce(h,M,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",re)),W){M._matchGroup=u(C,s,W,1);var ne=d[a(W)],fe=i(d,M)/i(d,ne);L!==(W.charAt(0)==="x")&&(fe=(L?"x":"y")+fe),u(S,s,W,fe)}else h.matches&&o.indexOf(h.matches)!==-1&&g.warn("ignored "+M._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(Q){var $=A("scaleratio");$||($=M.scaleratio=1),u(S,s,Q,$)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&g.warn("ignored "+M._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function i(h,M){var c=M.domain;return c||(c=h[a(M.overlaying)].domain),c[1]-c[0]}function n(h,M){for(var c=0;c<h.length;c++)if(h[c][M])return h[c];return null}function u(h,M,c,o){var d,T,S,C,m,E=n(h,M);E===null?(E={},E[M]=1,m=h.length,h.push(E)):m=h.indexOf(E);var b=Object.keys(E);for(d=0;d<h.length;d++)if(S=h[d],d!==m&&S[c]){var s=S[c];for(T=0;T<b.length;T++)C=b[T],S[C]=f(s,f(o,E[C]));h.splice(m,1);return}if(o!==1)for(T=0;T<b.length;T++){var L=b[T];E[L]=f(o,E[L])}E[c]=1}function f(h,M){var c="",o="",d,T;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof M=="string"&&(o=M.match(/^[xy]*/)[0],T=o.length,M=+M.substr(T));var S=h*M;return!d&&!T?S:!d||!T||c.charAt(0)===o.charAt(0)?c+o+h*M:d===T?S:(d>T?c.substr(T):o.substr(d))+S}function l(h,M){for(var c=M._size,o=c.h/c.w,d={},T=Object.keys(h),S=0;S<T.length;S++){var C=T[S],m=h[C];if(typeof m=="string"){var E=m.match(/^[xy]*/)[0],b=E.length;m=+m.substr(b);for(var s=E.charAt(0)==="y"?o:1/o,L=0;L<b;L++)m*=s}d[C]=m}return d}j.enforce=function(M){var c=M._fullLayout,o=c._axisConstraintGroups||[],d,T,S,C,m,E,b,s;for(d=0;d<o.length;d++){S=l(o[d],c);var L=Object.keys(S),A=1/0,k=0,_=1/0,U={},F={},z=!1;for(T=0;T<L.length;T++)C=L[T],F[C]=m=c[a(C)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),U[C]=E=Math.abs(m._m)/S[C],A=Math.min(A,E),(m.constrain==="domain"||!m._constraintShrinkable)&&(_=Math.min(_,E)),delete m._constraintShrinkable,k=Math.max(k,E),m.constrain==="domain"&&(z=!0);if(!(A>p*k&&!z)){for(T=0;T<L.length;T++)if(C=L[T],E=U[C],m=F[C],b=m.constrain,E!==_||b==="domain")if(s=E/_,b==="range")w(m,s);else{var B=m._inputDomain,N=(m.domain[1]-m.domain[0])/(B[1]-B[0]),V=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(s/=N,s*V<1){m.domain=m._input.domain=B.slice(),w(m,s);continue}if(V<1&&(m.range=m._input.range=m._inputRange.slice(),s*=V),m.autorange){var W=m.r2l(m.range[0]),Q=m.r2l(m.range[1]),re=(W+Q)/2,ne=re,fe=re,$=Math.abs(Q-re),X=re-$*s*1.0001,oe=re+$*s*1.0001,Y=P.makePadFn(c,m,0),ee=P.makePadFn(c,m,1);y(m,s);var se=Math.abs(m._m),q=P.concatExtremes(M,m),K=q.min,le=q.max,ie,he;for(he=0;he<K.length;he++)ie=K[he].val-Y(K[he])/se,ie>X&&ie<ne&&(ne=ie);for(he=0;he<le.length;he++)ie=le[he].val+ee(le[he])/se,ie<oe&&ie>fe&&(fe=ie);var ye=(fe-ne)/(2*$);s/=ye,ne=m.l2r(ne),fe=m.l2r(fe),m.range=m._input.range=W<Q?[ne,fe]:[fe,ne]}y(m,s)}}}},j.getAxisGroup=function(M,c){for(var o=M._axisMatchGroups,d=0;d<o.length;d++){var T=o[d];if(T[c])return"g"+d}return c},j.clean=function(M,c){if(c._inputDomain){for(var o=!1,d=c._id,T=M._fullLayout._axisConstraintGroups,S=0;S<T.length;S++)if(T[S][d]){o=!0;break}(!o||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function y(h,M){var c=h._inputDomain,o=r[h.constraintoward],d=c[0]+(c[1]-c[0])*o;h.domain=h._input.domain=[d+(c[0]-d)/M,d+(c[1]-d)/M],h.setScale()}},51184:function(H,j,e){var g=e(33428),P=e(3400),a=P.numberFormat,x=e(49760),w=e(89184),v=e(24040),p=P.strTranslate,r=e(72736),t=e(76308),i=e(43616),n=e(93024),u=e(54460),f=e(93972),l=e(86476),y=e(72760),h=y.selectingOrDrawing,M=y.freeMode,c=e(84284).FROM_TL,o=e(73696),d=e(39172).redrawReglTraces,T=e(7316),S=e(79811).getFromId,C=e(22676).prepSelect,m=e(22676).clearOutline,E=e(22676).selectOnClick,b=e(21160),s=e(33816),L=s.MINDRAG,A=s.MINZOOM,k=!0;function _(ie,he,ye,Ce,Ae,ke,we,Ee){var xe=ie._fullLayout._zoomlayer,Re=we+Ee==="nsew",Ve=(we+Ee).length===1,Ue,Be,Xe,ut,dt,at,We,rt,st,ht,vt,At,tt,_e,je,Ke,He,Ie,be,me,Me,Te,ze;ye+=he.yaxis._shift;function Je(){if(Ue=he.xaxis,Be=he.yaxis,st=Ue._length,ht=Be._length,We=Ue._offset,rt=Be._offset,Xe={},Xe[Ue._id]=Ue,ut={},ut[Be._id]=Be,we&&Ee)for(var nr=he.overlays,Nt=0;Nt<nr.length;Nt++){var hr=nr[Nt].xaxis;Xe[hr._id]=hr;var gr=nr[Nt].yaxis;ut[gr._id]=gr}dt=le(Xe),at=le(ut),tt=z(dt,Ee),_e=z(at,we),je=!_e&&!tt,At=q(ie,ie._fullLayout._axisMatchGroups,Xe,ut),vt=q(ie,ie._fullLayout._axisConstraintGroups,Xe,ut,At);var br=vt.isSubplotConstrained||At.isSubplotConstrained;Ke=Ee||br,He=we||br;var vr=ie._fullLayout;Ie=vr._has("scattergl"),be=vr._has("splom"),me=vr._has("svg")}Je();var nt=Q(_e+tt,ie._fullLayout.dragmode,Re),pt=F(he,we+Ee+"drag",nt,ye,Ce,Ae,ke);if(je&&!Re)return pt.onmousedown=null,pt.style.pointerEvents="none",pt;var yt={element:pt,gd:ie,plotinfo:he};yt.prepFn=function(nr,Nt,hr){var gr=yt.dragmode,br=ie._fullLayout.dragmode;br!==gr&&(yt.dragmode=br),Je(),Te=ie._fullLayout._invScaleX,ze=ie._fullLayout._invScaleY,je||(Re?nr.shiftKey?br==="pan"?br="zoom":h(br)||(br="pan"):nr.ctrlKey&&(br="pan"):br="pan"),M(br)?yt.minDrag=1:yt.minDrag=void 0,h(br)?(yt.xaxes=dt,yt.yaxes=at,C(nr,Nt,hr,yt,br)):(yt.clickFn=Xt,h(gr)&&Yt(),je||(br==="zoom"?(yt.moveFn=Tt,yt.doneFn=It,yt.minDrag=1,lt(nr,Nt,hr)):br==="pan"&&(yt.moveFn=cr,yt.doneFn=zt))),ie._fullLayout._redrag=function(){var vr=ie._dragdata;if(vr&&vr.element===pt){var Gr=ie._fullLayout.dragmode;h(Gr)||(Je(),Ft([0,0,st,ht]),yt.moveFn(vr.dx,vr.dy))}}};function Yt(){yt.plotinfo.selection=!1,m(ie)}function Xt(nr,Nt){var hr=yt.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var gr=hr._fullLayout.clickmode;if(X(hr),nr===2&&!Ve&&Ge(),Re)gr.indexOf("select")>-1&&E(Nt,hr,dt,at,he.id,yt),gr.indexOf("event")>-1&&n.click(hr,Nt,he.id);else if(nr===1&&Ve){var br=we?Be:Ue,vr=we==="s"||Ee==="w"?0:1,Gr=br._name+".range["+vr+"]",Dr=B(br,vr),_r="left",hn="middle";if(br.fixedrange)return;we?(hn=we==="n"?"top":"bottom",br.side==="right"&&(_r="right")):Ee==="e"&&(_r="right"),hr._context.showAxisRangeEntryBoxes&&g.select(pt).call(r.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(Dr),fill:br.tickfont?br.tickfont.color:"#444",horizontalAlign:_r,verticalAlign:hn}).on("edit",function(nn){var Pn=br.d2r(nn);Pn!==void 0&&v.call("_guiRelayout",hr,Gr,Pn)})}}l.init(yt);var St,kt,Kt,mr,mt,Zt,Qt,yr,sr,bt;function lt(nr,Nt,hr){var gr=pt.getBoundingClientRect();St=Nt-gr.left,kt=hr-gr.top,ie._fullLayout._calcInverseTransform(ie);var br=P.apply3DTransform(ie._fullLayout._invTransform)(St,kt);St=br[0],kt=br[1],Kt={l:St,r:St,w:0,t:kt,b:kt,h:0},mr=ie._hmpixcount?ie._hmlumcount/ie._hmpixcount:x(ie._fullLayout.plot_bgcolor).getLuminance(),mt="M0,0H"+st+"V"+ht+"H0V0",Zt=!1,Qt="xy",bt=!1,yr=re(xe,mr,We,rt,mt),sr=ne(xe,We,rt)}function Tt(nr,Nt){if(ie._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(st,Te*nr+St)),gr=Math.max(0,Math.min(ht,ze*Nt+kt)),br=Math.abs(hr-St),vr=Math.abs(gr-kt);Kt.l=Math.min(St,hr),Kt.r=Math.max(St,hr),Kt.t=Math.min(kt,gr),Kt.b=Math.max(kt,gr);function Gr(){Qt="",Kt.r=Kt.l,Kt.t=Kt.b,sr.attr("d","M0,0Z")}if(vt.isSubplotConstrained)br>A||vr>A?(Qt="xy",br/st>vr/ht?(vr=br*ht/st,kt>gr?Kt.t=kt-vr:Kt.b=kt+vr):(br=vr*st/ht,St>hr?Kt.l=St-br:Kt.r=St+br),sr.attr("d",se(Kt))):Gr();else if(At.isSubplotConstrained)if(br>A||vr>A){Qt="xy";var Dr=Math.min(Kt.l/st,(ht-Kt.b)/ht),_r=Math.max(Kt.r/st,(ht-Kt.t)/ht);Kt.l=Dr*st,Kt.r=_r*st,Kt.b=(1-Dr)*ht,Kt.t=(1-_r)*ht,sr.attr("d",se(Kt))}else Gr();else!_e||vr<Math.min(Math.max(br*.6,L),A)?br<L||!tt?Gr():(Kt.t=0,Kt.b=ht,Qt="x",sr.attr("d",Y(Kt,kt))):!tt||br<Math.min(vr*.6,A)?(Kt.l=0,Kt.r=st,Qt="y",sr.attr("d",ee(Kt,St))):(Qt="xy",sr.attr("d",se(Kt)));Kt.w=Kt.r-Kt.l,Kt.h=Kt.b-Kt.t,Qt&&(bt=!0),ie._dragged=bt,fe(yr,sr,Kt,mt,Zt,mr),Ct(),ie.emit("plotly_relayouting",Me),Zt=!0}function Ct(){Me={},(Qt==="xy"||Qt==="x")&&(N(dt,Kt.l/st,Kt.r/st,Me,vt.xaxes),dr("x",Me)),(Qt==="xy"||Qt==="y")&&(N(at,(ht-Kt.b)/ht,(ht-Kt.t)/ht,Me,vt.yaxes),dr("y",Me))}function It(){Ct(),X(ie),zt(),oe(ie)}var Dt=[0,0,st,ht],Vt=null,Bt=s.REDRAWDELAY,$t=he.mainplot?ie._fullLayout._plots[he.mainplot]:he;function fr(nr){if(!ie._context._scrollZoom.cartesian&&!ie._fullLayout._enablescrollzoom)return;if(Yt(),ie._transitioningWithDuration){nr.preventDefault(),nr.stopPropagation();return}Je(),clearTimeout(Vt);var Nt=-nr.deltaY;if(isFinite(Nt)||(Nt=nr.wheelDelta/10),!isFinite(Nt)){P.log("Did not find wheel motion attributes: ",nr);return}var hr=Math.exp(-Math.min(Math.max(Nt,-20),20)/200),gr=$t.draglayer.select(".nsewdrag").node().getBoundingClientRect(),br=(nr.clientX-gr.left)/gr.width,vr=(gr.bottom-nr.clientY)/gr.height,Gr;function Dr(_r,hn,nn){if(_r.fixedrange)return;var Pn=P.simpleMap(_r.range,_r.r2l),Cn=Pn[0]+(Pn[1]-Pn[0])*hn;function Ar(Pr){return _r.l2r(Cn+(Pr-Cn)*nn)}_r.range=Pn.map(Ar)}if(Ke){for(Ee||(br=.5),Gr=0;Gr<dt.length;Gr++)Dr(dt[Gr],br,hr);dr("x"),Dt[2]*=hr,Dt[0]+=Dt[2]*br*(1/hr-1)}if(He){for(we||(vr=.5),Gr=0;Gr<at.length;Gr++)Dr(at[Gr],vr,hr);dr("y"),Dt[3]*=hr,Dt[1]+=Dt[3]*(1-vr)*(1/hr-1)}Ft(Dt),Ye(),ie.emit("plotly_relayouting",Me),Vt=setTimeout(function(){ie._fullLayout&&(Dt=[0,0,st,ht],zt())},Bt),nr.preventDefault()}we.length*Ee.length!==1&&K(pt,fr);function cr(nr,Nt){if(nr=nr*Te,Nt=Nt*ze,ie._transitioningWithDuration)return;if(ie._fullLayout._replotting=!0,tt==="ew"||_e==="ns"){var hr=tt?-nr:0,gr=_e?-Nt:0;if(At.isSubplotConstrained){if(tt&&_e){var br=(nr/st-Nt/ht)/2;nr=br*st,Nt=-br*ht,hr=-nr,gr=-Nt}_e?hr=-gr*st/ht:gr=-hr*ht/st}tt&&(V(dt,nr),dr("x")),_e&&(V(at,Nt),dr("y")),Ft([hr,gr,st,ht]),Ye(),ie.emit("plotly_relayouting",Me);return}function vr(Ar,Pr,Wr){for(var Vr=1-Pr,on,yn,mn=0;mn<Ar.length;mn++){var Ln=Ar[mn];if(!Ln.fixedrange){on=Ln,yn=Ln._rl[Vr]+(Ln._rl[Pr]-Ln._rl[Vr])/W(Wr/Ln._length);var zn=Ln.l2r(yn);zn!==!1&&zn!==void 0&&(Ln.range[Pr]=zn)}}return on._length*(on._rl[Pr]-yn)/(on._rl[Pr]-on._rl[Vr])}var Gr=tt==="w"==(_e==="n")?1:-1;if(tt&&_e&&(vt.isSubplotConstrained||At.isSubplotConstrained)){var Dr=(nr/st+Gr*Nt/ht)/2;nr=Dr*st,Nt=Gr*Dr*ht}var _r,hn;if(tt==="w"?nr=vr(dt,0,nr):tt==="e"?nr=vr(dt,1,-nr):tt||(nr=0),_e==="n"?Nt=vr(at,1,Nt):_e==="s"?Nt=vr(at,0,-Nt):_e||(Nt=0),_r=tt==="w"?nr:0,hn=_e==="n"?Nt:0,vt.isSubplotConstrained&&!At.isSubplotConstrained||At.isSubplotConstrained&&tt&&_e&&Gr>0){var nn;if(At.isSubplotConstrained||!tt&&_e.length===1){for(nn=0;nn<dt.length;nn++)dt[nn].range=dt[nn]._r.slice(),b(dt[nn],1-Nt/ht);nr=Nt*st/ht,_r=nr/2}if(At.isSubplotConstrained||!_e&&tt.length===1){for(nn=0;nn<at.length;nn++)at[nn].range=at[nn]._r.slice(),b(at[nn],1-nr/st);Nt=nr*ht/st,hn=Nt/2}}(!At.isSubplotConstrained||!_e)&&dr("x"),(!At.isSubplotConstrained||!tt)&&dr("y");var Pn=st-nr,Cn=ht-Nt;At.isSubplotConstrained&&!(tt&&_e)&&(tt?(hn=_r?0:nr*ht/st,Cn=Pn*ht/st):(_r=hn?0:Nt*st/ht,Pn=Cn*st/ht)),Ft([_r,hn,Pn,Cn]),Ye(),ie.emit("plotly_relayouting",Me)}function dr(nr,Nt){for(var hr=At.isSubplotConstrained?{x:at,y:dt}[nr]:At[nr+"axes"],gr=At.isSubplotConstrained?{x:dt,y:at}[nr]:[],br=0;br<hr.length;br++){var vr=hr[br],Gr=vr._id,Dr=At.xLinks[Gr]||At.yLinks[Gr],_r=gr[0]||Xe[Dr]||ut[Dr];_r&&(Nt?(Nt[vr._name+".range[0]"]=Nt[_r._name+".range[0]"],Nt[vr._name+".range[1]"]=Nt[_r._name+".range[1]"]):vr.range=_r.range.slice())}}function Ye(){var nr=[],Nt;function hr(Gr){for(Nt=0;Nt<Gr.length;Nt++)Gr[Nt].fixedrange||nr.push(Gr[Nt]._id)}function gr(Gr,Dr){for(Nt=0;Nt<Gr.length;Nt++){var _r=Gr[Nt],hn=_r[Dr];!_r.fixedrange&&hn.tickmode==="sync"&&nr.push(hn._id)}}for(Ke&&(hr(dt),hr(vt.xaxes),hr(At.xaxes),gr(he.overlays,"xaxis")),He&&(hr(at),hr(vt.yaxes),hr(At.yaxes),gr(he.overlays,"yaxis")),Me={},Nt=0;Nt<nr.length;Nt++){var br=nr[Nt],vr=S(ie,br);u.drawOne(ie,vr,{skipTitle:!0}),Me[vr._name+".range[0]"]=vr.range[0],Me[vr._name+".range[1]"]=vr.range[1]}u.redrawComponents(ie,nr)}function Ge(){if(!ie._transitioningWithDuration){var nr=ie._context.doubleClick,Nt=[];tt&&(Nt=Nt.concat(dt)),_e&&(Nt=Nt.concat(at)),At.xaxes&&(Nt=Nt.concat(At.xaxes)),At.yaxes&&(Nt=Nt.concat(At.yaxes));var hr={},gr,br;if(nr==="reset+autosize")for(nr="autosize",br=0;br<Nt.length;br++){gr=Nt[br];var vr=gr._rangeInitial0,Gr=gr._rangeInitial1,Dr=vr!==void 0||Gr!==void 0;if(Dr&&(vr!==void 0&&vr!==gr.range[0]||Gr!==void 0&&Gr!==gr.range[1])||!Dr&&gr.autorange!==!0){nr="reset";break}}if(nr==="autosize")for(br=0;br<Nt.length;br++)gr=Nt[br],gr.fixedrange||(hr[gr._name+".autorange"]=!0);else if(nr==="reset"){for((tt||vt.isSubplotConstrained)&&(Nt=Nt.concat(vt.xaxes)),_e&&!vt.isSubplotConstrained&&(Nt=Nt.concat(vt.yaxes)),vt.isSubplotConstrained&&(tt?_e||(Nt=Nt.concat(at)):Nt=Nt.concat(dt)),br=0;br<Nt.length;br++)if(gr=Nt[br],!gr.fixedrange){var _r=gr._name,hn=gr._autorangeInitial;gr._rangeInitial0===void 0&&gr._rangeInitial1===void 0?hr[_r+".autorange"]=!0:gr._rangeInitial0===void 0?(hr[_r+".autorange"]=hn,hr[_r+".range"]=[null,gr._rangeInitial1]):gr._rangeInitial1===void 0?(hr[_r+".range"]=[gr._rangeInitial0,null],hr[_r+".autorange"]=hn):hr[_r+".range"]=[gr._rangeInitial0,gr._rangeInitial1]}}ie.emit("plotly_doubleclick",null),v.call("_guiRelayout",ie,hr)}}function zt(){Ft([0,0,st,ht]),P.syncOrAsync([T.previousPromises,function(){ie._fullLayout._replotting=!1,v.call("_guiRelayout",ie,Me)}],ie)}function Ft(nr){var Nt=ie._fullLayout,hr=Nt._plots,gr=Nt._subplots.cartesian,br,vr,Gr,Dr;if(be&&v.subplotsRegistry.splom.drag(ie),Ie){for(br=0;br<gr.length;br++)if(vr=hr[gr[br]],Gr=vr.xaxis,Dr=vr.yaxis,vr._scene){var _r=P.simpleMap(Gr.range,Gr.r2l),hn=P.simpleMap(Dr.range,Dr.r2l);Gr.limitRange&&Gr.limitRange(),Dr.limitRange&&Dr.limitRange(),_r=Gr.range,hn=Dr.range,vr._scene.update({range:[_r[0],hn[0],_r[1],hn[1]]})}}if((be||Ie)&&(o(ie),d(ie)),me){var nn=nr[2]/Ue._length,Pn=nr[3]/Be._length;for(br=0;br<gr.length;br++){vr=hr[gr[br]],Gr=vr.xaxis,Dr=vr.yaxis;var Cn=(Ke||At.isSubplotConstrained)&&!Gr.fixedrange&&Xe[Gr._id],Ar=(He||At.isSubplotConstrained)&&!Dr.fixedrange&&ut[Dr._id],Pr,Wr,Vr,on;if(Cn?(Pr=nn,Vr=Ee||At.isSubplotConstrained?nr[0]:ur(Gr,Pr)):At.xaHash[Gr._id]?(Pr=nn,Vr=nr[0]*Gr._length/Ue._length):At.yaHash[Gr._id]?(Pr=Pn,Vr=_e==="ns"?-nr[1]*Gr._length/Be._length:ur(Gr,Pr,{n:"top",s:"bottom"}[_e])):(Pr=Jt(Gr,nn,Pn),Vr=tr(Gr,Pr)),Pr>1&&(Gr.maxallowed!==void 0&&Ke===(Gr.range[0]<Gr.range[1]?"e":"w")||Gr.minallowed!==void 0&&Ke===(Gr.range[0]<Gr.range[1]?"w":"e"))&&(Pr=1,Vr=0),Ar?(Wr=Pn,on=we||At.isSubplotConstrained?nr[1]:ur(Dr,Wr)):At.yaHash[Dr._id]?(Wr=Pn,on=nr[1]*Dr._length/Be._length):At.xaHash[Dr._id]?(Wr=nn,on=tt==="ew"?-nr[0]*Dr._length/Ue._length:ur(Dr,Wr,{e:"right",w:"left"}[tt])):(Wr=Jt(Dr,nn,Pn),on=tr(Dr,Wr)),Wr>1&&(Dr.maxallowed!==void 0&&He===(Dr.range[0]<Dr.range[1]?"n":"s")||Dr.minallowed!==void 0&&He===(Dr.range[0]<Dr.range[1]?"s":"n"))&&(Wr=1,on=0),!(!Pr&&!Wr)){Pr||(Pr=1),Wr||(Wr=1);var yn=Gr._offset-Vr/Pr,mn=Dr._offset-on/Wr;vr.clipRect.call(i.setTranslate,Vr,on).call(i.setScale,Pr,Wr),vr.plot.call(i.setTranslate,yn,mn).call(i.setScale,1/Pr,1/Wr),(Pr!==vr.xScaleFactor||Wr!==vr.yScaleFactor)&&(i.setPointGroupScale(vr.zoomScalePts,Pr,Wr),i.setTextPointsScale(vr.zoomScaleTxt,Pr,Wr)),i.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Pr,vr.yScaleFactor=Wr}}}}function Jt(nr,Nt,hr){return nr.fixedrange?0:Ke&&vt.xaHash[nr._id]?Nt:He&&(vt.isSubplotConstrained?vt.xaHash:vt.yaHash)[nr._id]?hr:0}function tr(nr,Nt){return Nt?(nr.range=nr._r.slice(),b(nr,Nt),ur(nr,Nt)):0}function ur(nr,Nt,hr){return nr._length*(1-Nt)*c[hr||nr.constraintoward||"middle"]}return pt}function U(ie,he,ye,Ce){var Ae=P.ensureSingle(ie.draglayer,he,ye,function(ke){ke.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ie.id)});return Ae.call(f,Ce),Ae.node()}function F(ie,he,ye,Ce,Ae,ke,we){var Ee=U(ie,"rect",he,ye);return g.select(Ee).call(i.setRect,Ce,Ae,ke,we),Ee}function z(ie,he){for(var ye=0;ye<ie.length;ye++)if(!ie[ye].fixedrange)return he;return""}function B(ie,he){var ye=ie.range[he],Ce=Math.abs(ye-ie.range[1-he]),Ae;return ie.type==="date"?ye:ie.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(Ce)/Math.LN10))+3,a("."+Ae+"g")(Math.pow(10,ye))):(Ae=Math.floor(Math.log(Math.abs(ye))/Math.LN10)-Math.floor(Math.log(Ce)/Math.LN10)+4,a("."+String(Ae)+"g")(ye))}function N(ie,he,ye,Ce,Ae){for(var ke=0;ke<ie.length;ke++){var we=ie[ke];if(!we.fixedrange)if(we.rangebreaks){var Ee=we._id.charAt(0)==="y",xe=Ee?1-he:he,Re=Ee?1-ye:ye;Ce[we._name+".range[0]"]=we.l2r(we.p2l(xe*we._length)),Ce[we._name+".range[1]"]=we.l2r(we.p2l(Re*we._length))}else{var Ve=we._rl[0],Ue=we._rl[1]-Ve;Ce[we._name+".range[0]"]=we.l2r(Ve+Ue*he),Ce[we._name+".range[1]"]=we.l2r(Ve+Ue*ye)}}if(Ae&&Ae.length){var Be=(he+(1-ye))/2;N(Ae,Be,1-Be,Ce,[])}}function V(ie,he){for(var ye=0;ye<ie.length;ye++){var Ce=ie[ye];if(!Ce.fixedrange){if(Ce.rangebreaks){var Ae=0,ke=Ce._length,we=Ce.p2l(Ae+he)-Ce.p2l(Ae),Ee=Ce.p2l(ke+he)-Ce.p2l(ke),xe=(we+Ee)/2;Ce.range=[Ce.l2r(Ce._rl[0]-xe),Ce.l2r(Ce._rl[1]-xe)]}else Ce.range=[Ce.l2r(Ce._rl[0]-he/Ce._m),Ce.l2r(Ce._rl[1]-he/Ce._m)];Ce.limitRange&&Ce.limitRange()}}}function W(ie){return 1-(ie>=0?Math.min(ie,.9):1/(1/Math.max(ie,-.3)+3.222))}function Q(ie,he,ye){return ie?ie==="nsew"?ye?"":he==="pan"?"move":"crosshair":ie.toLowerCase()+"-resize":"pointer"}function re(ie,he,ye,Ce,Ae){return ie.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ye,Ce)).attr("d",Ae+"Z")}function ne(ie,he,ye){return ie.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(he,ye)).attr("d","M0,0Z")}function fe(ie,he,ye,Ce,Ae,ke){ie.attr("d",Ce+"M"+ye.l+","+ye.t+"v"+ye.h+"h"+ye.w+"v-"+ye.h+"h-"+ye.w+"Z"),$(ie,he,Ae,ke)}function $(ie,he,ye,Ce){ye||(ie.transition().style("fill",Ce>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function X(ie){g.select(ie).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function oe(ie){k&&ie.data&&ie._context.showTips&&(P.notifier(P._(ie,"Double-click to zoom back out"),"long"),k=!1)}function Y(ie,he){return"M"+(ie.l-.5)+","+(he-A-.5)+"h-3v"+(2*A+1)+"h3ZM"+(ie.r+.5)+","+(he-A-.5)+"h3v"+(2*A+1)+"h-3Z"}function ee(ie,he){return"M"+(he-A-.5)+","+(ie.t-.5)+"v-3h"+(2*A+1)+"v3ZM"+(he-A-.5)+","+(ie.b+.5)+"v3h"+(2*A+1)+"v-3Z"}function se(ie){var he=Math.floor(Math.min(ie.b-ie.t,ie.r-ie.l,A)/2);return"M"+(ie.l-3.5)+","+(ie.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ie.r+3.5)+","+(ie.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ie.r+3.5)+","+(ie.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ie.l-3.5)+","+(ie.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function q(ie,he,ye,Ce,Ae){for(var ke=!1,we={},Ee={},xe,Re,Ve,Ue,Be=(Ae||{}).xaHash,Xe=(Ae||{}).yaHash,ut=0;ut<he.length;ut++){var dt=he[ut];for(xe in ye)if(dt[xe]){for(Ve in dt)!(Ae&&(Be[Ve]||Xe[Ve]))&&!(Ve.charAt(0)==="x"?ye:Ce)[Ve]&&(we[Ve]=xe);for(Re in Ce)!(Ae&&(Be[Re]||Xe[Re]))&&dt[Re]&&(ke=!0)}for(Re in Ce)if(dt[Re])for(Ue in dt)!(Ae&&(Be[Ue]||Xe[Ue]))&&!(Ue.charAt(0)==="x"?ye:Ce)[Ue]&&(Ee[Ue]=Re)}ke&&(P.extendFlat(we,Ee),Ee={});var at={},We=[];for(Ve in we){var rt=S(ie,Ve);We.push(rt),at[rt._id]=rt}var st={},ht=[];for(Ue in Ee){var vt=S(ie,Ue);ht.push(vt),st[vt._id]=vt}return{xaHash:at,yaHash:st,xaxes:We,yaxes:ht,xLinks:we,yLinks:Ee,isSubplotConstrained:ke}}function K(ie,he){if(!w)ie.onwheel!==void 0?ie.onwheel=he:ie.onmousewheel!==void 0?ie.onmousewheel=he:ie.isAddedWheelEvent||(ie.isAddedWheelEvent=!0,ie.addEventListener("wheel",he,{passive:!1}));else{var ye=ie.onwheel!==void 0?"wheel":"mousewheel";ie._onwheel&&ie.removeEventListener(ye,ie._onwheel),ie._onwheel=he,ie.addEventListener(ye,he,{passive:!1})}}function le(ie){var he=[];for(var ye in ie)he.push(ie[ye]);return he}H.exports={makeDragBox:_,makeDragger:U,makeRectDragger:F,makeZoombox:re,makeCorners:ne,updateZoombox:fe,xyCorners:se,transitionZoombox:$,removeZoombox:X,showDoubleClickNotifier:oe,attachWheelEventHandler:K}},42464:function(H,j,e){var g=e(33428),P=e(93024),a=e(86476),x=e(93972),w=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;j.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){g.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var i=Object.keys(t._plots||{}).sort(function(u,f){if((t._plots[u].mainplot&&!0)===(t._plots[f].mainplot&&!0)){var l=u.split("y"),y=f.split("y");return l[0]===y[0]?Number(l[1]||1)-Number(y[1]||1):Number(l[0]||1)-Number(y[0]||1)}return t._plots[u].mainplot?1:-1});i.forEach(function(u){var f=t._plots[u],l=f.xaxis,y=f.yaxis;if(!f.mainplot){var h=w(r,f,l._offset,y._offset,l._length,y._length,"ns","ew");h.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===u&&r._fullLayout._plots[u]&&P.hover(r,o,u)},P.hover(r,o,u),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=u},h.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,a.unhover(r,o))},r._context.showAxisDragHandles&&(w(r,f,l._offset-v,y._offset-v,v,v,"n","w"),w(r,f,l._offset+l._length,y._offset-v,v,v,"n","e"),w(r,f,l._offset-v,y._offset+y._length,v,v,"s","w"),w(r,f,l._offset+l._length,y._offset+y._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(u===l._mainSubplot){var M=l._mainLinePosition;l.side==="top"&&(M-=v),w(r,f,l._offset+l._length*.1,M,l._length*.8,v,"","ew"),w(r,f,l._offset,M,l._length*.1,v,"","w"),w(r,f,l._offset+l._length*.9,M,l._length*.1,v,"","e")}if(u===y._mainSubplot){var c=y._mainLinePosition;y.side!=="right"&&(c-=v),w(r,f,c,y._offset+y._length*.1,v,y._length*.8,"ns",""),w(r,f,c,y._offset+y._length*.9,v,y._length*.1,"s",""),w(r,f,c,y._offset,v,y._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(u){u.target=r._fullLayout._lasthover,P.hover(r,u,t._hoversubplot)},n.onclick=function(u){u.target=r._fullLayout._lasthover,P.click(r,u)},n.onmousedown=function(u){r._fullLayout._lasthover.onmousedown(u)},j.updateFx(r)}},j.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";x(r._draggers,t)}},36632:function(H,j,e){var g=e(24040),P=e(3400),a=e(79811);H.exports=function(w){return function(p,r){var t=p[w];if(Array.isArray(t))for(var i=g.subplotsRegistry.cartesian,n=i.idRegex,u=r._subplots,f=u.xaxis,l=u.yaxis,y=u.cartesian,h=r._has("cartesian")||r._has("gl2d"),M=0;M<t.length;M++){var c=t[M];if(P.isPlainObject(c)){var o=a.cleanId(c.xref,"x",!1),d=a.cleanId(c.yref,"y",!1),T=n.x.test(o),S=n.y.test(d);if(T||S){h||P.pushUnique(r._basePlotModules,i);var C=!1;T&&f.indexOf(o)===-1&&(f.push(o),C=!0),S&&l.indexOf(d)===-1&&(l.push(d),C=!0),C&&T&&S&&y.push(o+d)}}}}}},57952:function(H,j,e){var g=e(33428),P=e(24040),a=e(3400),x=e(7316),w=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),i=a.ensureSingle;function n(M,c,o){return a.ensureSingle(M,c,o,function(d){d.datum(o)})}j.name="cartesian",j.attr=["xaxis","yaxis"],j.idRoot=["x","y"],j.idRegex=r.idRegex,j.attrRegex=r.attrRegex,j.attributes=e(26720),j.layoutAttributes=e(94724),j.supplyLayoutDefaults=e(67352),j.transitionAxes=e(73736),j.finalizeSubplots=function(M,c){var o=c._subplots,d=o.xaxis,T=o.yaxis,S=o.cartesian,C=S.concat(o.gl2d||[]),m={},E={},b,s,L;for(b=0;b<C.length;b++){var A=C[b].split("y");m[A[0]]=1,E["y"+A[1]]=1}for(b=0;b<d.length;b++)s=d[b],m[s]||(L=(M[p.id2name(s)]||{}).anchor,r.idRegex.y.test(L)||(L="y"),S.push(s+L),C.push(s+L),E[L]||(E[L]=1,a.pushUnique(T,L)));for(b=0;b<T.length;b++)L=T[b],E[L]||(s=(M[p.id2name(L)]||{}).anchor,r.idRegex.x.test(s)||(s="x"),S.push(s+L),C.push(s+L),m[s]||(m[s]=1,a.pushUnique(d,s)));if(!C.length){s="",L="";for(var k in M)if(r.attrRegex.test(k)){var _=k.charAt(0);_==="x"?(!s||+k.substr(5)<+s.substr(5))&&(s=k):(!L||+k.substr(5)<+L.substr(5))&&(L=k)}s=s?p.name2id(s):"x",L=L?p.name2id(L):"y",d.push(s),T.push(L),S.push(s+L)}},j.plot=function(M,c,o,d){var T=M._fullLayout,S=T._subplots.cartesian,C=M.calcdata,m;if(!Array.isArray(c))for(c=[],m=0;m<C.length;m++)c.push(m);for(m=0;m<S.length;m++){for(var E=S[m],b=T._plots[E],s=[],L,A=0;A<C.length;A++){var k=C[A],_=k[0].trace;_.xaxis+_.yaxis===E&&((c.indexOf(_.index)!==-1||_.carpet)&&(L&&L[0].trace.xaxis+L[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&s.indexOf(L)===-1&&s.push(L),s.push(k)),L=k)}u(M,b,s,o,d)}};function u(M,c,o,d,T){for(var S=r.traceLayerClasses,C=M._fullLayout,m=C._modules,E,b,s,L=[],A=[],k=0;k<m.length;k++){E=m[k];var _=E.name,U=P.modules[_].categories;if(U.svg){var F=E.layerName||_+"layer",z=E.plot;b=v(o,z),s=b[0],o=b[1],s.length&&L.push({i:S.indexOf(F),className:F,plotMethod:z,cdModule:s}),U.zoomScale&&A.push("."+F)}}L.sort(function(V,W){return V.i-W.i});var B=c.plot.selectAll("g.mlayer").data(L,function(V){return V.className});if(B.enter().append("g").attr("class",function(V){return V.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),B.exit().remove(),B.order(),B.each(function(V){var W=g.select(this),Q=V.className;V.plotMethod(M,c,V.cdModule,W,d,T),r.clipOnAxisFalseQuery.indexOf("."+Q)===-1&&w.setClipUrl(W,c.layerClipId,M)}),C._has("scattergl")&&(E=P.getModule("scattergl"),s=v(o,E)[0],E.plot(M,c,s)),!M._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),A.length)){var N=c.plot.selectAll(A.join(",")).selectAll(".trace");c.zoomScalePts=N.selectAll("path.point"),c.zoomScaleTxt=N.selectAll(".textpoint")}}j.clean=function(M,c,o,d){var T=d._plots||{},S=c._plots||{},C=d._subplots||{},m,E,b;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(b in T)m=T[b],m.plotgroup&&m.plotgroup.remove();var s=d._has&&d._has("gl"),L=c._has&&c._has("gl");if(s&&!L)for(b in T)m=T[b],m._scene&&m._scene.destroy();if(C.xaxis&&C.yaxis){var A=p.listIds({_fullLayout:d});for(E=0;E<A.length;E++){var k=A[E];c[p.id2name(k)]||d._infolayer.selectAll(".g-"+k+"title").remove()}}var _=d._has&&d._has("cartesian"),U=c._has&&c._has("cartesian");if(_&&!U)y(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(E=0;E<C.cartesian.length;E++){var F=C.cartesian[E];if(!S[F]){var z="."+F+",."+F+"-x,."+F+"-y";d._cartesianlayer.selectAll(z).remove(),h(F,d)}}},j.drawFramework=function(M){var c=M._fullLayout,o=f(M),d=c._cartesianlayer.selectAll(".subplot").data(o,String);d.enter().append("g").attr("class",function(T){return"subplot "+T[0]}),d.order(),d.exit().call(y,c),d.each(function(T){var S=T[0],C=c._plots[S];C.plotgroup=g.select(this),l(M,C),C.draglayer=i(c._draggers,"g",S)})},j.rangePlot=function(M,c,o){l(M,c),u(M,c,o),x.style(M)};function f(M){var c=M._fullLayout,o=c._subplots.cartesian,d=o.length,T,S,C,m,E,b,s=[],L=[];for(T=0;T<d;T++){C=o[T],m=c._plots[C],E=m.xaxis,b=m.yaxis;var A=E._mainAxis,k=b._mainAxis,_=A._id+k._id,U=c._plots[_];m.overlays=[],_!==C&&U?(m.mainplot=_,m.mainplotinfo=U,L.push(C)):(m.mainplot=void 0,m.mainplotinfo=void 0,s.push(C))}for(T=0;T<L.length;T++)C=L[T],m=c._plots[C],m.mainplotinfo.overlays.push(m);var F=s.concat(L),z=new Array(d);for(T=0;T<d;T++){C=F[T],m=c._plots[C],E=m.xaxis,b=m.yaxis;var B=[C,E.layer,b.layer,E.overlaying||"",b.overlaying||""];for(S=0;S<m.overlays.length;S++)B.push(m.overlays[S].id);z[T]=B}return z}function l(M,c){var o=c.plotgroup,d=c.id,T=r.layerValue2layerClass[c.xaxis.layer],S=r.layerValue2layerClass[c.yaxis.layer],C=M._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var E=c.mainplotinfo,b=E.plotgroup,s=d+"-x",L=d+"-y";c.minorGridlayer=E.minorGridlayer,c.gridlayer=E.gridlayer,c.zerolinelayer=E.zerolinelayer,i(E.overlinesBelow,"path",s),i(E.overlinesBelow,"path",L),i(E.overaxesBelow,"g",s),i(E.overaxesBelow,"g",L),c.plot=i(E.overplot,"g",d),i(E.overlinesAbove,"path",s),i(E.overlinesAbove,"path",L),i(E.overaxesAbove,"g",s),i(E.overaxesAbove,"g",L),c.xlines=b.select(".overlines-"+T).select("."+s),c.ylines=b.select(".overlines-"+S).select("."+L),c.xaxislayer=b.select(".overaxes-"+T).select("."+s),c.yaxislayer=b.select(".overaxes-"+S).select("."+L)}else if(C)c.xlines=i(o,"path","xlines-above"),c.ylines=i(o,"path","ylines-above"),c.xaxislayer=i(o,"g","xaxislayer-above"),c.yaxislayer=i(o,"g","yaxislayer-above");else{var m=i(o,"g","layer-subplot");c.shapelayer=i(m,"g","shapelayer"),c.imagelayer=i(m,"g","imagelayer"),c.minorGridlayer=i(o,"g","minor-gridlayer"),c.gridlayer=i(o,"g","gridlayer"),c.zerolinelayer=i(o,"g","zerolinelayer"),i(o,"path","xlines-below"),i(o,"path","ylines-below"),c.overlinesBelow=i(o,"g","overlines-below"),i(o,"g","xaxislayer-below"),i(o,"g","yaxislayer-below"),c.overaxesBelow=i(o,"g","overaxes-below"),c.plot=i(o,"g","plot"),c.overplot=i(o,"g","overplot"),c.xlines=i(o,"path","xlines-above"),c.ylines=i(o,"path","ylines-above"),c.overlinesAbove=i(o,"g","overlines-above"),i(o,"g","xaxislayer-above"),i(o,"g","yaxislayer-above"),c.overaxesAbove=i(o,"g","overaxes-above"),c.xlines=o.select(".xlines-"+T),c.ylines=o.select(".ylines-"+S),c.xaxislayer=o.select(".xaxislayer-"+T),c.yaxislayer=o.select(".yaxislayer-"+S)}C||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(A){return A[0]}).sort(p.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(A){return A[0]}).sort(p.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function y(M,c){if(M){var o={};M.each(function(E){var b=E[0],s=g.select(this);s.remove(),h(b,c),o[b]=!0});for(var d in c._plots)for(var T=c._plots[d],S=T.overlays||[],C=0;C<S.length;C++){var m=S[C];o[m.id]&&m.plot.selectAll(".trace").remove()}}}function h(M,c){c._draggers.selectAll("g."+M).remove(),c._defs.select("#clip"+c._uid+M+"plot").remove()}j.toSVG=function(M){var c=M._fullLayout._glimages,o=g.select(M).selectAll(".svg-container"),d=o.filter(function(S,C){return C===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function T(){var S=this,C=S.toDataURL("image/png"),m=c.append("svg:image");m.attr({xmlns:t.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:S.style.width,height:S.style.height})}d.each(T)},j.updateFx=e(42464).updateFx},94724:function(H,j,e){var g=e(25376),P=e(22548),a=e(98192).u,x=e(92880).extendFlat,w=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,i=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},u=x({},n,{values:n.values.slice().concat(["sync"])});function f(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},M={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=5),b}function o(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=1),b}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},T={valType:"color",dflt:P.lightLine,editType:"ticks"};function S(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=1),b}var C=x({},a,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};H.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:w("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[i,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:u,nticks:f(),tick0:l,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:M,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:o(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:x({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:w("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:T,gridwidth:S(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:f("minor"),tick0:l,dtick:y,tickvals:h,ticks:M,ticklen:c("minor"),tickwidth:o("minor"),tickcolor:d,gridcolor:T,gridwidth:S("minor"),griddash:C,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},67352:function(H,j,e){var g=e(3400),P=e(76308),a=e(10624).isUnifiedHover,x=e(41008),w=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),i=e(71888),n=e(37668),u=e(79811),f=u.id2name,l=u.name2id,y=e(33816).AX_ID_PATTERN,h=e(24040),M=h.traceIs,c=h.getComponentMethod;function o(d,T,S){Array.isArray(d[T])?d[T].push(S):d[T]=[S]}H.exports=function(T,S,C){var m=S.autotypenumbers,E={},b={},s={},L={},A={},k={},_={},U={},F={},z={},B,N;for(B=0;B<C.length;B++){var V=C[B];if(!(!M(V,"cartesian")&&!M(V,"gl2d"))){var W;if(V.xaxis)W=f(V.xaxis),o(E,W,V);else if(V.xaxes)for(N=0;N<V.xaxes.length;N++)o(E,f(V.xaxes[N]),V);var Q;if(V.yaxis)Q=f(V.yaxis),o(E,Q,V);else if(V.yaxes)for(N=0;N<V.yaxes.length;N++)o(E,f(V.yaxes[N]),V);if(V.type==="funnel"?V.orientation==="h"?(W&&(b[W]=!0),Q&&(_[Q]=!0)):Q&&(s[Q]=!0):V.type==="image"?(Q&&(U[Q]=!0),W&&(U[W]=!0)):(Q&&(A[Q]=!0,k[Q]=!0),(!M(V,"carpet")||V.type==="carpet"&&!V._cheater)&&W&&(L[W]=!0)),V.type==="carpet"&&V._cheater&&W&&(b[W]=!0),M(V,"2dMap")&&(F[W]=!0,F[Q]=!0),M(V,"oriented")){var re=V.orientation==="h"?Q:W;z[re]=!0}}}var ne=S._subplots,fe=ne.xaxis,$=ne.yaxis,X=g.simpleMap(fe,f),oe=g.simpleMap($,f),Y=X.concat(oe),ee=P.background;fe.length&&$.length&&(ee=g.coerce(T,S,v,"plot_bgcolor"));var se=P.combine(ee,S.paper_bgcolor),q,K,le,ie,he;function ye(){var Te=E[q]||[];he._traceIndices=Te.map(function(ze){return ze._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=q,he._id=K}function Ce(Te,ze){return g.coerce(ie,he,p,Te,ze)}function Ae(Te,ze){return g.coerce2(ie,he,p,Te,ze)}function ke(Te){return Te==="x"?$:fe}function we(Te,ze){for(var Je=Te==="x"?X:oe,nt=[],pt=0;pt<Je.length;pt++){var yt=Je[pt];yt!==ze&&!(T[yt]||{}).overlaying&&nt.push(l(yt))}return nt}var Ee={x:ke("x"),y:ke("y")},xe=Ee.x.concat(Ee.y),Re={},Ve=[];function Ue(){var Te=ie.matches;y.test(Te)&&xe.indexOf(Te)===-1&&(Re[Te]=ie.type,Ve=Object.keys(Re))}var Be=x(T,S),Xe=a(Be);for(B=0;B<Y.length;B++){q=Y[B],K=l(q),le=q.charAt(0),g.isPlainObject(T[q])||(T[q]={}),ie=T[q],he=w.newContainer(S,q,le+"axis"),ye();var ut=le==="x"&&!L[q]&&b[q]||le==="y"&&!A[q]&&s[q],dt=le==="y"&&(!k[q]&&_[q]||U[q]),at={hasMinor:!0,letter:le,font:S.font,outerTicks:F[q],showGrid:!z[q],data:E[q]||[],bgColor:se,calendar:S.calendar,automargin:!0,visibleDflt:ut,reverseDflt:dt,autotypenumbersDflt:m,splomStash:((S._splomAxes||{})[le]||{})[K],noAutotickangles:le==="y"};Ce("uirevision",S.uirevision),r(ie,he,Ce,at),t(ie,he,Ce,at,S);var We=Xe&&le===Be.charAt(0),rt=Ae("spikecolor",Xe?he.color:void 0),st=Ae("spikethickness",Xe?1.5:void 0),ht=Ae("spikedash",Xe?"dot":void 0),vt=Ae("spikemode",Xe?"across":void 0),At=Ae("spikesnap"),tt=Ce("showspikes",!!We||!!rt||!!st||!!ht||!!vt||!!At);tt||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var _e=f(ie.overlaying),je=[0,1];if(S[_e]!==void 0){var Ke=f(S[_e].anchor);S[Ke]!==void 0&&(je=S[Ke].domain)}n(ie,he,Ce,{letter:le,counterAxes:Ee[le],overlayableAxes:we(le,q),grid:S.grid,overlayingDomain:je}),Ce("title.standoff"),Ue(),he._input=ie}for(B=0;B<Ve.length;){K=Ve[B++],q=f(K),le=q.charAt(0),g.isPlainObject(T[q])||(T[q]={}),ie=T[q],he=w.newContainer(S,q,le+"axis"),ye();var He={letter:le,font:S.font,outerTicks:F[q],showGrid:!z[q],data:[],bgColor:se,calendar:S.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((S._splomAxes||{})[le]||{})[K]};Ce("uirevision",S.uirevision),he.type=Re[K]||"linear",t(ie,he,Ce,He,S),n(ie,he,Ce,{letter:le,counterAxes:Ee[le],overlayableAxes:we(le,q),grid:S.grid}),Ce("fixedrange"),Ue(),he._input=ie}var Ie=c("rangeslider","handleDefaults"),be=c("rangeselector","handleDefaults");for(B=0;B<X.length;B++)q=X[B],ie=T[q],he=S[q],Ie(T,S,q),he.type==="date"&&be(ie,he,S,oe,he.calendar),Ce("fixedrange");for(B=0;B<oe.length;B++){q=oe[B],ie=T[q],he=S[q];var me=S[f(he.anchor)],Me=c("rangeslider","isVisible")(me);Ce("fixedrange",Me)}i.handleDefaults(T,S,{axIds:xe.concat(Ve).sort(u.idSort),axHasImage:U})}},42136:function(H,j,e){var g=e(49760).mix,P=e(22548),a=e(3400);H.exports=function(w,v,p,r){r=r||{};var t=r.dfltColor;function i(s,L){return a.coerce2(w,v,r.attributes,s,L)}var n=i("linecolor",t),u=i("linewidth"),f=p("showline",r.showLine||!!n||!!u);f||(delete v.linecolor,delete v.linewidth);var l=g(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),y=i("gridcolor",l),h=i("gridwidth"),M=i("griddash"),c=p("showgrid",r.showGrid||!!y||!!h||!!M);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var o=g(v.gridcolor,r.bgColor,67).toRgbString(),d=i("minor.gridcolor",o),T=i("minor.gridwidth",v.gridwidth||1),S=i("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!T||!!S);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var m=i("zerolinecolor",t),E=i("zerolinewidth"),b=p("zeroline",r.showGrid||!!m||!!E);b||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(H,j,e){var g=e(38248),P=e(3400);H.exports=function(x,w,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],i=p.letter,n=p.grid,u=p.overlayingDomain,f,l,y,h,M,c;n&&(l=n._domains[i][n._axisMap[w._id]],f=n._anchors[w._id],l&&(y=n[i+"side"].split(" ")[0],h=n.domain[i][y==="right"||y==="top"?1:0])),l=l||[0,1],f=f||(g(x.position)?"free":r[0]||"free"),y=y||(i==="x"?"bottom":"left"),h=h||0,M=0,c=!1;var o=P.coerce(x,w,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:f}},"anchor"),d=P.coerce(x,w,{side:{valType:"enumerated",values:i==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(o==="free"){if(i==="y"){var T=v("autoshift");T&&(h=d==="left"?u[0]:u[1],c=w.automargin?w.automargin:!0,M=d==="left"?-3:3),v("shift",M)}v("position",h)}v("automargin",c);var S=!1;if(t.length&&(S=P.coerce(x,w,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!S){var C=v("domain",l);C[0]>C[1]-.000244140625&&(w.domain=l),P.noneOrAll(x.domain,w.domain,l),w.tickmode==="sync"&&(w.tickmode="auto")}return v("layer"),w}},42568:function(H,j,e){var g=e(85024);H.exports=function(a,x,w,v,p){p||(p={});var r=p.tickSuffixDflt,t=g(a),i=w("tickprefix");i&&w("showtickprefix",t);var n=w("ticksuffix",r);n&&w("showticksuffix",t)}},96312:function(H,j,e){var g=e(76808);H.exports=function(a,x,w,v){var p=x._template||{},r=x.type||p.type||"-";w("minallowed"),w("maxallowed");var t=w("range");if(!t){var i;!v.noInsiderange&&r!=="log"&&(i=w("insiderange"),i&&(i[0]===null||i[1]===null)&&(x.insiderange=!1,i=void 0),i&&(t=w("range",i)))}var n=x.getAutorangeDflt(t,v),u=w("autorange",n),f;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(u==="reversed"||u===!0)||t[0]!==null&&(u==="min"||u==="max reversed")||t[1]!==null&&(u==="max"||u==="min reversed"))&&(t=void 0,delete x.range,x.autorange=!0,f=!0),f||(n=x.getAutorangeDflt(t,v),u=w("autorange",n)),u&&(g(w,u,t),(r==="linear"||r==="-")&&w("rangemode")),x.cleanRange()}},21160:function(H,j,e){var g=e(84284).FROM_BL;H.exports=function(a,x,w){w===void 0&&(w=g[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],p=v[0]+(v[1]-v[0])*w;a.range=a._input.range=[a.l2r(p+(v[0]-p)*x),a.l2r(p+(v[1]-p)*x)],a.setScale()}},78344:function(H,j,e){var g=e(33428),P=e(94336).E9,a=e(3400),x=a.numberFormat,w=e(38248),v=a.cleanNumber,p=a.ms2DateTime,r=a.dateTime2ms,t=a.ensureNumber,i=a.isArrayOrTypedArray,n=e(39032),u=n.FP_SAFE,f=n.BADNUM,l=n.LOG_CLIP,y=n.ONEWEEK,h=n.ONEDAY,M=n.ONEHOUR,c=n.ONEMIN,o=n.ONESEC,d=e(79811),T=e(33816),S=T.HOUR_PATTERN,C=T.WEEKDAY_PATTERN;function m(b){return Math.pow(10,b)}function E(b){return b!=null}H.exports=function(s,L){L=L||{};var A=s._id||"x",k=A.charAt(0);function _(Y,ee){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&ee&&s.range&&s.range.length===2){var se=s.range[0],q=s.range[1];return .5*(se+q-2*l*Math.abs(se-q))}else return f}function U(Y,ee,se,q){if((q||{}).msUTC&&w(Y))return+Y;var K=r(Y,se||s.calendar);if(K===f)if(w(Y)){Y=+Y;var le=Math.floor(a.mod(Y+.05,1)*10),ie=Math.round(Y-le/10);K=r(new Date(ie))+le/10}else return f;return K}function F(Y,ee,se){return p(Y,ee,se||s.calendar)}function z(Y){return s._categories[Math.round(Y)]}function B(Y){if(E(Y)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[Y]!==void 0)return s._categoriesMap[Y];s._categories.push(typeof Y=="number"?String(Y):Y);var ee=s._categories.length-1;return s._categoriesMap[Y]=ee,ee}return f}function N(Y,ee){for(var se=new Array(ee),q=0;q<ee;q++){var K=(Y[0]||[])[q],le=(Y[1]||[])[q];se[q]=V([K,le])}return se}function V(Y){if(s._categoriesMap)return s._categoriesMap[Y]}function W(Y){var ee=V(Y);if(ee!==void 0)return ee;if(w(Y))return+Y}function Q(Y){return w(Y)?+Y:V(Y)}function re(Y,ee,se){return g.round(se+ee*Y,2)}function ne(Y,ee,se){return(Y-se)/ee}var fe=function(ee){return w(ee)?re(ee,s._m,s._b):f},$=function(Y){return ne(Y,s._m,s._b)};if(s.rangebreaks){var X=k==="y";fe=function(Y){if(!w(Y))return f;var ee=s._rangebreaks.length;if(!ee)return re(Y,s._m,s._b);var se=X;s.range[0]>s.range[1]&&(se=!se);for(var q=se?-1:1,K=q*Y,le=0,ie=0;ie<ee;ie++){var he=q*s._rangebreaks[ie].min,ye=q*s._rangebreaks[ie].max;if(K<he)break;if(K>ye)le=ie+1;else{le=K<(he+ye)/2?ie:ie+1;break}}var Ce=s._B[le]||0;return isFinite(Ce)?re(Y,s._m2,Ce):0},$=function(Y){var ee=s._rangebreaks.length;if(!ee)return ne(Y,s._m,s._b);for(var se=0,q=0;q<ee&&!(Y<s._rangebreaks[q].pmin);q++)Y>s._rangebreaks[q].pmax&&(se=q+1);return ne(Y,s._m2,s._B[se])}}s.c2l=s.type==="log"?_:t,s.l2c=s.type==="log"?m:t,s.l2p=fe,s.p2l=$,s.c2p=s.type==="log"?function(Y,ee){return fe(_(Y,ee))}:fe,s.p2c=s.type==="log"?function(Y){return m($(Y))}:$,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(Y){return s.l2p(v(Y))},s.p2d=s.p2r=$,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(Y,ee){return _(v(Y),ee)},s.r2d=s.r2c=function(Y){return m(v(Y))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=_,s.l2d=m,s.d2p=function(Y,ee){return s.l2p(s.d2r(Y,ee))},s.p2d=function(Y){return m($(Y))},s.r2p=function(Y){return s.l2p(v(Y))},s.p2r=$,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=a.identity,s.d2c=s.r2c=s.d2l=s.r2l=U,s.c2d=s.c2r=s.l2d=s.l2r=F,s.d2p=s.r2p=function(Y,ee,se){return s.l2p(U(Y,0,se))},s.p2d=s.p2r=function(Y,ee,se){return F($(Y),ee,se)},s.cleanPos=function(Y){return a.cleanDate(Y,f,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=B,s.r2d=s.c2d=s.l2d=z,s.d2r=s.d2l_noadd=W,s.r2c=function(Y){var ee=Q(Y);return ee!==void 0?ee:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=Q,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return z($(Y))},s.r2p=s.d2p,s.p2r=$,s.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=z,s.d2r=s.d2l_noadd=W,s.r2c=function(Y){var ee=W(Y);return ee!==void 0?ee:s.fraction2r(.5)},s.r2c_just_indices=V,s.l2r=s.c2r=t,s.r2l=W,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return z($(Y))},s.r2p=s.d2p,s.p2r=$,s.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},s.setupMultiCategory=function(Y){var ee=s._traceIndices,se,q,K=s._matchGroup;if(K&&s._categories.length===0){for(var le in K)if(le!==A){var ie=L[d.id2name(le)];ee=ee.concat(ie._traceIndices)}}var he=[[0,{}],[0,{}]],ye=[];for(se=0;se<ee.length;se++){var Ce=Y[ee[se]];if(k in Ce){var Ae=Ce[k],ke=Ce._length||a.minRowLength(Ae);if(i(Ae[0])&&i(Ae[1]))for(q=0;q<ke;q++){var we=Ae[0][q],Ee=Ae[1][q];E(we)&&E(Ee)&&(ye.push([we,Ee]),we in he[0][1]||(he[0][1][we]=he[0][0]++),Ee in he[1][1]||(he[1][1][Ee]=he[1][0]++))}}}for(ye.sort(function(xe,Re){var Ve=he[0][1],Ue=Ve[xe[0]]-Ve[Re[0]];if(Ue)return Ue;var Be=he[1][1];return Be[xe[1]]-Be[Re[1]]}),se=0;se<ye.length;se++)B(ye[se])}),s.fraction2r=function(Y){var ee=s.r2l(s.range[0]),se=s.r2l(s.range[1]);return s.l2r(ee+Y*(se-ee))},s.r2fraction=function(Y){var ee=s.r2l(s.range[0]),se=s.r2l(s.range[1]);return(s.r2l(Y)-ee)/(se-ee)},s.limitRange=function(Y){var ee=s.minallowed,se=s.maxallowed;if(!(ee===void 0&&se===void 0)){Y||(Y="range");var q=a.nestedProperty(s,Y).get(),K=a.simpleMap(q,s.r2l),le=K[1]<K[0];le&&K.reverse();var ie=a.simpleMap([ee,se],s.r2l);if(ee!==void 0&&K[0]<ie[0]&&(q[le?1:0]=ee),se!==void 0&&K[1]>ie[1]&&(q[le?0:1]=se),q[0]===q[1]){var he=s.l2r(ee),ye=s.l2r(se);if(ee!==void 0){var Ce=he+1;se!==void 0&&(Ce=Math.min(Ce,ye)),q[le?1:0]=Ce}if(se!==void 0){var Ae=ye+1;ee!==void 0&&(Ae=Math.max(Ae,he)),q[le?0:1]=Ae}}}},s.cleanRange=function(Y,ee){s._cleanRange(Y,ee),s.limitRange(Y)},s._cleanRange=function(Y,ee){ee||(ee={}),Y||(Y="range");var se=a.nestedProperty(s,Y).get(),q,K;if(s.type==="date"?K=a.dfltRange(s.calendar):k==="y"?K=T.DFLTRANGEY:s._name==="realaxis"?K=[0,1]:K=ee.dfltRange||T.DFLTRANGEX,K=K.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&(K[0]=0),!se||se.length!==2){a.nestedProperty(s,Y).set(K);return}var le=se[0]===null,ie=se[1]===null;for(s.type==="date"&&!s.autorange&&(se[0]=a.cleanDate(se[0],f,s.calendar),se[1]=a.cleanDate(se[1],f,s.calendar)),q=0;q<2;q++)if(s.type==="date"){if(!a.isDateTime(se[q],s.calendar)){s[Y]=K;break}if(s.r2l(se[0])===s.r2l(se[1])){var he=a.constrain(s.r2l(se[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);se[0]=s.l2r(he-1e3),se[1]=s.l2r(he+1e3);break}}else{if(!w(se[q]))if(!(le||ie)&&w(se[1-q]))se[q]=se[1-q]*(q?10:.1);else{s[Y]=K;break}if(se[q]<-u?se[q]=-u:se[q]>u&&(se[q]=u),se[0]===se[1]){var ye=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=ye,se[1]+=ye}}},s.setScale=function(Y){var ee=L._size;if(s.overlaying){var se=d.getFromId({_fullLayout:L},s.overlaying);s.domain=se.domain}var q=Y&&s._r?"_r":"range",K=s.calendar;s.cleanRange(q);var le=s.r2l(s[q][0],K),ie=s.r2l(s[q][1],K),he=k==="y";if(he?(s._offset=ee.t+(1-s.domain[1])*ee.h,s._length=ee.h*(s.domain[1]-s.domain[0]),s._m=s._length/(le-ie),s._b=-s._m*ie):(s._offset=ee.l+s.domain[0]*ee.w,s._length=ee.w*(s.domain[1]-s.domain[0]),s._m=s._length/(ie-le),s._b=-s._m*le),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var ye,Ce;if(s._rangebreaks=s.locateBreaks(Math.min(le,ie),Math.max(le,ie)),s._rangebreaks.length){for(ye=0;ye<s._rangebreaks.length;ye++)Ce=s._rangebreaks[ye],s._lBreaks+=Math.abs(Ce.max-Ce.min);var Ae=he;le>ie&&(Ae=!Ae),Ae&&s._rangebreaks.reverse();var ke=Ae?-1:1;for(s._m2=ke*s._length/(Math.abs(ie-le)-s._lBreaks),s._B.push(-s._m2*(he?ie:le)),ye=0;ye<s._rangebreaks.length;ye++)Ce=s._rangebreaks[ye],s._B.push(s._B[s._B.length-1]-ke*s._m2*(Ce.max-Ce.min));for(ye=0;ye<s._rangebreaks.length;ye++)Ce=s._rangebreaks[ye],Ce.pmin=fe(Ce.min),Ce.pmax=fe(Ce.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw L._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(Y){var ee=s.rangebreaks||[],se,q,K,le,ie;ee._cachedPatterns||(ee._cachedPatterns=ee.map(function(Ve){return Ve.enabled&&Ve.bounds?a.simpleMap(Ve.bounds,Ve.pattern?v:s.d2c):null})),ee._cachedValues||(ee._cachedValues=ee.map(function(Ve){return Ve.enabled&&Ve.values?a.simpleMap(Ve.values,s.d2c).sort(a.sorterAsc):null}));for(var he=0;he<ee.length;he++){var ye=ee[he];if(ye.enabled){if(ye.bounds){var Ce=ye.pattern;switch(se=ee._cachedPatterns[he],q=se[0],K=se[1],Ce){case C:ie=new Date(Y),le=ie.getUTCDay(),q>K&&(K+=7,le<q&&(le+=7));break;case S:ie=new Date(Y);var Ae=ie.getUTCHours(),ke=ie.getUTCMinutes(),we=ie.getUTCSeconds(),Ee=ie.getUTCMilliseconds();le=Ae+(ke/60+we/3600+Ee/36e5),q>K&&(K+=24,le<q&&(le+=24));break;case"":le=Y;break}if(le>=q&&le<K)return f}else for(var xe=ee._cachedValues[he],Re=0;Re<xe.length;Re++)if(q=xe[Re],K=q+ye.dvalue,Y>=q&&Y<K)return f}}return Y},s.locateBreaks=function(Y,ee){var se,q,K,le,ie=[];if(!s.rangebreaks)return ie;var he=s.rangebreaks.slice().sort(function(Be,Xe){return Be.pattern===C&&Xe.pattern===S?-1:Xe.pattern===C&&Be.pattern===S?1:0}),ye=function(Be,Xe){if(Be=a.constrain(Be,Y,ee),Xe=a.constrain(Xe,Y,ee),Be!==Xe){for(var ut=!0,dt=0;dt<ie.length;dt++){var at=ie[dt];Be<at.max&&Xe>=at.min&&(Be<at.min&&(at.min=Be),Xe>at.max&&(at.max=Xe),ut=!1)}ut&&ie.push({min:Be,max:Xe})}};for(se=0;se<he.length;se++){var Ce=he[se];if(Ce.enabled)if(Ce.bounds){var Ae=Y,ke=ee;Ce.pattern&&(Ae=Math.floor(Ae)),q=a.simpleMap(Ce.bounds,Ce.pattern?v:s.r2l),K=q[0],le=q[1];var we=new Date(Ae),Ee,xe;switch(Ce.pattern){case C:xe=y,Ee=((le<K?7:0)+(le-K))*h,Ae+=K*h-(we.getUTCDay()*h+we.getUTCHours()*M+we.getUTCMinutes()*c+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;case S:xe=h,Ee=((le<K?24:0)+(le-K))*M,Ae+=K*M-(we.getUTCHours()*M+we.getUTCMinutes()*c+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;default:Ae=Math.min(q[0],q[1]),ke=Math.max(q[0],q[1]),xe=ke-Ae,Ee=xe}for(var Re=Ae;Re<ke;Re+=xe)ye(Re,Re+Ee)}else for(var Ve=a.simpleMap(Ce.values,s.d2c),Ue=0;Ue<Ve.length;Ue++)K=Ve[Ue],le=K+Ce.dvalue,ye(K,le)}return ie.sort(function(Be,Xe){return Be.min-Xe.min}),ie},s.makeCalcdata=function(Y,ee,se){var q,K,le,ie,he=s.type,ye=he==="date"&&Y[ee+"calendar"];if(ee in Y){if(q=Y[ee],ie=Y._length||a.minRowLength(q),a.isTypedArray(q)&&(he==="linear"||he==="log")){if(ie===q.length)return q;if(q.subarray)return q.subarray(0,ie)}if(he==="multicategory")return N(q,ie);for(K=new Array(ie),le=0;le<ie;le++)K[le]=s.d2c(q[le],0,ye,se)}else{var Ce=ee+"0"in Y?s.d2c(Y[ee+"0"],0,ye):0,Ae=Y["d"+ee]?Number(Y["d"+ee]):1;for(q=Y[{x:"y",y:"x"}[ee]],ie=Y._length||q.length,K=new Array(ie),le=0;le<ie;le++)K[le]=Ce+le*Ae}if(s.rangebreaks)for(le=0;le<ie;le++)K[le]=s.maskBreaks(K[le]);return K},s.isValidRange=function(Y,ee){return Array.isArray(Y)&&Y.length===2&&(ee&&Y[0]===null||w(s.r2l(Y[0])))&&(ee&&Y[1]===null||w(s.r2l(Y[1])))},s.getAutorangeDflt=function(Y,ee){var se=!s.isValidRange(Y,"nullOk");return se&&ee&&ee.reverseDflt?se="reversed":Y&&(Y[0]===null&&Y[1]===null?se=!0:Y[0]===null&&Y[1]!==null?se="min":Y[0]!==null&&Y[1]===null&&(se="max")),se},s.isReversed=function(){var Y=s.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},s.isPtWithinRange=function(Y,ee){var se=s.c2l(Y[k],null,ee),q=s.r2l(s.range[0]),K=s.r2l(s.range[1]);return q<K?q<=se&&se<=K:K<=se&&se<=q},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var Y=s._matchGroup;if(Y){var ee=null,se=null;for(var q in Y){var K=L[d.id2name(q)];if(K._categories){ee=K._categories,se=K._categoriesMap;break}}ee&&se?(s._categories=ee,s._categoriesMap=se):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var le=0;le<s._initialCategories.length;le++)B(s._initialCategories[le])},s.sortByInitialCategories=function(){var Y=[];if(s._emptyCategories(),s._initialCategories)for(var ee=0;ee<s._initialCategories.length;ee++)B(s._initialCategories[ee]);Y=Y.concat(s._traceIndices);var se=s._matchGroup;for(var q in se)if(A!==q){var K=L[d.id2name(q)];K._categories=s._categories,K._categoriesMap=s._categoriesMap,Y=Y.concat(K._traceIndices)}return Y};var oe=L._d3locale;s.type==="date"&&(s._dateFormat=oe?oe.timeFormat:P,s._extraFormat=L._extraFormat),s._separators=L.separators,s._numFormat=oe?oe.numberFormat:x,delete s._minDtick,delete s._forceTick0}},85024:function(H){H.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],P=g.filter(function(x){return e[x]!==void 0}),a=function(x){return e[x]===e[P[0]]};if(P.every(a)||P.length===1)return e[P[0]]}},95936:function(H,j,e){var g=e(3400),P=e(76308).contrast,a=e(94724),x=e(85024),w=e(51272);H.exports=function(r,t,i,n,u){u||(u={});var f=i("labelalias");g.isPlainObject(f)||delete t.labelalias;var l=x(r),y=i("showticklabels");if(y){var h=u.font||{},M=t.color,c=t.ticklabelposition||"",o=c.indexOf("inside")!==-1?P(u.bgColor):M&&M!==a.color.dflt?M:h.color;if(g.coerceFont(i,"tickfont",{family:h.family,size:h.size,color:o}),!u.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&i("ticklabelstep"),!u.noAng){var d=i("tickangle");!u.noAutotickangles&&d==="auto"&&i("autotickangles")}if(n!=="category"){var T=i("tickformat");w(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!u.noExp&&!T&&n!=="date"&&(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}};function v(p,r){function t(n,u){return g.coerce(p,r,a.tickformatstops,n,u)}var i=t("enabled");i&&(t("dtickrange"),t("value"))}},25404:function(H,j,e){var g=e(3400),P=e(94724);H.exports=function(x,w,v,p){var r=p.isMinor,t=r?x.minor||{}:x,i=r?w.minor:w,n=r?P.minor:P,u=r?"minor.":"",f=g.coerce2(t,i,n,"ticklen",r?(w.ticklen||5)*.6:void 0),l=g.coerce2(t,i,n,"tickwidth",r?w.tickwidth||1:void 0),y=g.coerce2(t,i,n,"tickcolor",(r?w.tickcolor:void 0)||i.color),h=v(u+"ticks",!r&&p.outerTicks||f||l||y?"outside":"");h||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(H,j,e){var g=e(98728),P=e(3400).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,x=e(38116).decodeTypedArraySpec;H.exports=function(v,p,r,t,i){i||(i={});var n=i.isMinor,u=n?v.minor||{}:v,f=n?p.minor:p,l=n?"minor.":"";function y(C){var m=u[C];return a(m)&&(m=x(m)),m!==void 0?m:(f._template||{})[C]}var h=y("tick0"),M=y("dtick"),c=y("tickvals"),o=P(c)?"array":M?"linear":"auto",d=r(l+"tickmode",o);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var T=f.dtick=g.dtick(M,t);f.tick0=g.tick0(h,t,p.calendar,T)}else if(t!=="multicategory"){var S=r(l+"tickvals");S===void 0?f.tickmode="auto":n||r("ticktext")}}},73736:function(H,j,e){var g=e(33428),P=e(24040),a=e(3400),x=e(43616),w=e(54460);H.exports=function(p,r,t,i){var n=p._fullLayout;if(r.length===0){w.redrawComponents(p);return}function u(S){var C=S.xaxis,m=S.yaxis;n._defs.select("#"+S.clipId+"> rect").call(x.setTranslate,0,0).call(x.setScale,1,1),S.plot.call(x.setTranslate,C._offset,m._offset).call(x.setScale,1,1);var E=S.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(x.setPointGroupScale,1,1),E.selectAll(".textpoint").call(x.setTextPointsScale,1,1),E.call(x.hideOutsideRangePoints,S)}function f(S,C){var m=S.plotinfo,E=m.xaxis,b=m.yaxis,s=E._length,L=b._length,A=!!S.xr1,k=!!S.yr1,_=[];if(A){var U=a.simpleMap(S.xr0,E.r2l),F=a.simpleMap(S.xr1,E.r2l),z=U[1]-U[0],B=F[1]-F[0];_[0]=(U[0]*(1-C)+C*F[0]-U[0])/(U[1]-U[0])*s,_[2]=s*(1-C+C*B/z),E.range[0]=E.l2r(U[0]*(1-C)+C*F[0]),E.range[1]=E.l2r(U[1]*(1-C)+C*F[1])}else _[0]=0,_[2]=s;if(k){var N=a.simpleMap(S.yr0,b.r2l),V=a.simpleMap(S.yr1,b.r2l),W=N[1]-N[0],Q=V[1]-V[0];_[1]=(N[1]*(1-C)+C*V[1]-N[1])/(N[0]-N[1])*L,_[3]=L*(1-C+C*Q/W),b.range[0]=E.l2r(N[0]*(1-C)+C*V[0]),b.range[1]=b.l2r(N[1]*(1-C)+C*V[1])}else _[1]=0,_[3]=L;w.drawOne(p,E,{skipTitle:!0}),w.drawOne(p,b,{skipTitle:!0}),w.redrawComponents(p,[E._id,b._id]);var re=A?s/_[2]:1,ne=k?L/_[3]:1,fe=A?_[0]:0,$=k?_[1]:0,X=A?_[0]/_[2]*s:0,oe=k?_[1]/_[3]*L:0,Y=E._offset-X,ee=b._offset-oe;m.clipRect.call(x.setTranslate,fe,$).call(x.setScale,1/re,1/ne),m.plot.call(x.setTranslate,Y,ee).call(x.setScale,re,ne),x.setPointGroupScale(m.zoomScalePts,1/re,1/ne),x.setTextPointsScale(m.zoomScaleTxt,1/re,1/ne)}var l;i&&(l=i());function y(){for(var S={},C=0;C<r.length;C++){var m=r[C],E=m.plotinfo.xaxis,b=m.plotinfo.yaxis;m.xr1&&(S[E._name+".range"]=m.xr1.slice()),m.yr1&&(S[b._name+".range"]=m.yr1.slice())}return l&&l(),P.call("relayout",p,S).then(function(){for(var s=0;s<r.length;s++)u(r[s].plotinfo)})}function h(){for(var S={},C=0;C<r.length;C++){var m=r[C],E=m.plotinfo.xaxis,b=m.plotinfo.yaxis;m.xr0&&(S[E._name+".range"]=m.xr0.slice()),m.yr0&&(S[b._name+".range"]=m.yr0.slice())}return P.call("relayout",p,S).then(function(){for(var s=0;s<r.length;s++)u(r[s].plotinfo)})}var M,c,o,d=g.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function T(){c=Date.now();for(var S=Math.min(1,(c-M)/t.duration),C=d(S),m=0;m<r.length;m++)f(r[m],C);c-M>t.duration?(y(),o=window.cancelAnimationFrame(T)):o=window.requestAnimationFrame(T)}return M=Date.now(),o=window.requestAnimationFrame(T),Promise.resolve()}},14944:function(H,j,e){var g=e(24040).traceIs,P=e(52976);H.exports=function(r,t,i,n){i("autotypenumbers",n.autotypenumbersDflt);var u=i("type",(n.splomStash||{}).type);u==="-"&&(a(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function a(p,r){if(p.type==="-"){var t=p._id,i=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=i);var u=x(r,t,i);if(u){if(u.type==="histogram"&&i==={v:"y",h:"x"}[u.orientation||"v"]){p.type="linear";return}var f=i+"calendar",l=u[f],y={noMultiCategory:!g(u,"cartesian")||g(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&i==={h:"x",v:"y"}[u.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=p.autotypenumbers,v(u,i)){var h=w(u),M=[];for(n=0;n<r.length;n++){var c=r[n];!g(c,"box-violin")||(c[i+"axis"]||i)!==t||(c[h]!==void 0?M.push(c[h][0]):c.name!==void 0?M.push(c.name):M.push("text"),c[f]!==l&&(l=void 0))}p.type=P(M,l,y)}else if(u.type==="splom"){var o=u.dimensions,d=o[u._axesDim[t]];d.visible&&(p.type=P(d.values,l,y))}else p.type=P(u[i]||[u[i+"0"]],l,y)}}}function x(p,r,t){for(var i=0;i<p.length;i++){var n=p[i];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function w(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=w(p),i=g(p,"box-violin"),n=g(p._fullInput||{},"candlestick");return i&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(H,j,e){var g=e(24040),P=e(3400);j.manageCommandObserver=function(r,t,i,n){var u={},f=!0;t&&t._commandObserver&&(u=t._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var l=j.hasSimpleAPICommandBindings(r,i,u.lookupTable);if(t&&t._commandObserver){if(l)return u;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,u}if(l){a(r,l,u.cache),u.check=function(){if(f){var c=a(r,l,u.cache);return c.changed&&n&&u.lookupTable[c.value]!==void 0&&(u.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:u.lookupTable[c.value]})).then(u.enable,u.enable)),c.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<y.length;h++)r._internalOn(y[h],u.check);u.remove=function(){for(var M=0;M<y.length;M++)r._removeInternalListener(y[M],u.check)}}else P.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){f=!1},u.enable=function(){f=!0},t&&(t._commandObserver=u),u},j.hasSimpleAPICommandBindings=function(r,t,i){var n,u=t.length,f;for(n=0;n<u;n++){var l,y=t[n],h=y.method,M=y.args;if(Array.isArray(M)||(M=[]),!h)return!1;var c=j.computeAPICommandBindings(r,h,M);if(c.length!==1)return!1;if(!f)f=c[0],Array.isArray(f.traces)&&f.traces.sort();else{if(l=c[0],l.type!==f.type||l.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var o=0;o<f.traces.length;o++)if(f.traces[o]!==l.traces[o])return!1}else return!1;else if(l.prop!==f.prop)return!1}l=c[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;i&&(i[d]=n)}return f};function a(r,t,i){var n,u,f,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return u=P.nestedProperty(n,t.prop).get(),f=i[t.type]=i[t.type]||{},f.hasOwnProperty(t.prop)&&f[t.prop]!==u&&(l=!0),f[t.prop]=u,{changed:l,value:u}}j.executeAPICommand=function(r,t,i){if(t==="skip")return Promise.resolve();var n=g.apiMethodRegistry[t],u=[r];Array.isArray(i)||(i=[]);for(var f=0;f<i.length;f++)u.push(i[f]);return n.apply(null,u).catch(function(l){return P.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},j.computeAPICommandBindings=function(r,t,i){var n;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=v(r,i);break;case"relayout":n=w(r,i);break;case"update":n=v(r,[i[0],i[2]]).concat(w(r,[i[1]]));break;case"animate":n=x(r,i);break;default:n=[]}return n};function x(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function w(r,t){var i=[],n=t[0],u={};if(typeof n=="string")u[n]=t[1];else if(P.isPlainObject(n))u=n;else return i;return p(u,function(f,l,y){i.push({type:"layout",prop:f,value:y})},"",0),i}function v(r,t){var i,n,u,f,l=[];if(n=t[0],u=t[1],i=t[2],f={},typeof n=="string")f[n]=u;else if(P.isPlainObject(n))f=n,i===void 0&&(i=u);else return l;return i===void 0&&(i=null),p(f,function(y,h,M){var c,o;if(Array.isArray(M)){o=M.slice();var d=Math.min(o.length,r.data.length);i&&(d=Math.min(d,i.length)),c=[];for(var T=0;T<d;T++)c[T]=i?i[T]:T}else o=M,c=i?i.slice():null;if(c===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(c)){if(!Array.isArray(o)){var S=o;o=[];for(var C=0;C<c.length;C++)o[C]=S}o.length=Math.min(c.length,o.length)}l.push({type:"data",prop:y,traces:c,value:o})},"",0),l}function p(r,t,i,n){Object.keys(r).forEach(function(u){var f=r[u];if(u[0]!=="_"){var l=i+(n>0?".":"")+u;P.isPlainObject(f)?p(f,t,l,n+1):t(l,u,f)}})}},86968:function(H,j,e){var g=e(92880).extendFlat;j.u=function(P,a){P=P||{},a=a||{};var x={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,a.description&&""+a.description;var w={x:g({},x,{}),y:g({},x,{}),editType:P.editType};return P.noGridCell||(w.row={valType:"integer",min:0,dflt:0,editType:P.editType},w.column={valType:"integer",min:0,dflt:0,editType:P.editType}),w},j.Q=function(P,a,x,w){var v=w&&w.x||[0,1],p=w&&w.y||[0,1],r=a.grid;if(r){var t=x("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var i=x("domain.row");i!==void 0&&(i<r.rows?p=r._domains.y[i]:delete P.domain.row)}var n=x("domain.x",v),u=x("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),u[0]<u[1]||(P.domain.y=p.slice())}},25376:function(H){H.exports=function(j){var e=j.editType,g=j.colorEditType;g===void 0&&(g=e);var P={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:g},editType:e};return j.autoSize&&(P.size.dflt="auto"),j.autoColor&&(P.color.dflt="auto"),j.arrayOk&&(P.family.arrayOk=!0,P.size.arrayOk=!0,P.color.arrayOk=!0),P}},16672:function(H){H.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(H,j){j.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},j.axesNames=["lonaxis","lataxis"],j.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},j.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},j.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},j.clipPad=.001,j.precision=.1,j.landColor="#F0DC82",j.waterColor="#3399FF",j.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},j.sphereSVG={type:"Sphere"},j.fillLayers={ocean:1,land:1,lakes:1},j.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},j.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],j.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],j.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(H,j,e){var g=e(33428),P=e(83356),a=P.geoPath,x=P.geoDistance,w=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),i=e(43616),n=e(93024),u=e(7316),f=e(54460),l=e(19280).getAutoRange,y=e(86476),h=e(22676).prepSelect,M=e(22676).clearOutline,c=e(22676).selectOnClick,o=e(79248),d=e(79552),T=e(27144),S=e(59972),C=e(55712).NO;function m(A){this.id=A.id,this.graphDiv=A.graphDiv,this.container=A.container,this.topojsonURL=A.topojsonURL,this.isStatic=A.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=m.prototype;H.exports=function(k){return new m(k)},E.plot=function(A,k,_,U){var F=this;if(U)return F.update(A,k,!0);F._geoCalcData=A,F._fullLayout=k;var z=k[this.id],B=[],N=!1;for(var V in d.layerNameToAdjective)if(V!=="frame"&&z["show"+V]){N=!0;break}for(var W=!1,Q=0;Q<A.length;Q++){var re=A[0][0].trace;re._geo=F,re.locationmode&&(N=!0);var ne=re.marker;if(ne){var fe=ne.angle,$=ne.angleref;(fe||$==="north"||$==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,N){var X=S.getTopojsonName(z);(F.topojson===null||X!==F.topojsonName)&&(F.topojsonName=X,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&B.push(F.fetchTopojson()))}B=B.concat(T.fetchTraceGeoData(A)),_.push(new Promise(function(oe,Y){Promise.all(B).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(A,k),oe()}).catch(Y)}))},E.fetchTopojson=function(){var A=this,k=S.getTopojsonPath(A.topojsonURL,A.topojsonName);return new Promise(function(_,U){g.json(k,function(F,z){if(F)return F.status===404?U(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):U(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[A.topojsonName]=z,_()})})},E.update=function(A,k,_){var U=k[this.id];this.hasChoropleth=!1;for(var F=0;F<A.length;F++){var z=A[F],B=z[0].trace;B.type==="choropleth"&&(this.hasChoropleth=!0),B.visible===!0&&B._length>0&&B._module.calcGeoJSON(z,k)}if(!_){var N=this.updateProjection(A,k);if(N)return;(!this.viewInitial||this.scope!==U.scope)&&this.saveViewInitial(U)}this.scope=U.scope,this.updateBaseLayers(k,U),this.updateDims(k,U),this.updateFx(k,U),u.generalUpdatePerTraceModule(this.graphDiv,this,A,U);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},E.updateProjection=function(A,k){var _=this.graphDiv,U=k[this.id],F=k._size,z=U.domain,B=U.projection,N=U.lonaxis,V=U.lataxis,W=N._ax,Q=V._ax,re=this.projection=b(U),ne=[[F.l+F.w*z.x[0],F.t+F.h*(1-z.y[1])],[F.l+F.w*z.x[1],F.t+F.h*(1-z.y[0])]],fe=U.center||{},$=B.rotation||{},X=N.range||[],oe=V.range||[];if(U.fitbounds){W._length=ne[1][0]-ne[0][0],Q._length=ne[1][1]-ne[0][1],W.range=l(_,W),Q.range=l(_,Q);var Y=(W.range[0]+W.range[1])/2,ee=(Q.range[0]+Q.range[1])/2;if(U._isScoped)fe={lon:Y,lat:ee};else if(U._isClipped){fe={lon:Y,lat:ee},$={lon:Y,lat:ee,roll:$.roll};var se=B.type,q=d.lonaxisSpan[se]/2||180,K=d.lataxisSpan[se]/2||90;X=[Y-q,Y+q],oe=[ee-K,ee+K]}else fe={lon:Y,lat:ee},$={lon:Y,lat:$.lat,roll:$.roll}}re.center([fe.lon-$.lon,fe.lat-$.lat]).rotate([-$.lon,-$.lat,$.roll]).parallels(B.parallels);var le=L(X,oe);re.fitExtent(ne,le);var ie=this.bounds=re.getBounds(le),he=this.fitScale=re.scale(),ye=re.translate();if(U.fitbounds){var Ce=re.getBounds(L(W.range,Q.range)),Ae=Math.min((ie[1][0]-ie[0][0])/(Ce[1][0]-Ce[0][0]),(ie[1][1]-ie[0][1])/(Ce[1][1]-Ce[0][1]));isFinite(Ae)?re.scale(Ae*he):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else re.scale(B.scale*he);var ke=this.midPt=[(ie[0][0]+ie[1][0])/2,(ie[0][1]+ie[1][1])/2];if(re.translate([ye[0]+(ke[0]-ye[0]),ye[1]+(ke[1]-ye[1])]).clipExtent(ie),U._isAlbersUsa){var we=re([fe.lon,fe.lat]),Ee=re.translate();re.translate([Ee[0]-(we[0]-Ee[0]),Ee[1]-(we[1]-Ee[1])])}},E.updateBaseLayers=function(A,k){var _=this,U=_.topojson,F=_.layers,z=_.basePaths;function B(ne){return ne==="lonaxis"||ne==="lataxis"}function N(ne){return!!d.lineLayers[ne]}function V(ne){return!!d.fillLayers[ne]}var W=this.hasChoropleth?d.layersForChoropleth:d.layers,Q=W.filter(function(ne){return N(ne)||V(ne)?k["show"+ne]:B(ne)?k[ne].showgrid:!0}),re=_.framework.selectAll(".layer").data(Q,String);re.exit().each(function(ne){delete F[ne],delete z[ne],g.select(this).remove()}),re.enter().append("g").attr("class",function(ne){return"layer "+ne}).each(function(ne){var fe=F[ne]=g.select(this);ne==="bg"?_.bgRect=fe.append("rect").style("pointer-events","all"):B(ne)?z[ne]=fe.append("path").style("fill","none"):ne==="backplot"?fe.append("g").classed("choroplethlayer",!0):ne==="frontplot"?fe.append("g").classed("scatterlayer",!0):N(ne)?z[ne]=fe.append("path").style("fill","none").style("stroke-miterlimit",2):V(ne)&&(z[ne]=fe.append("path").style("stroke","none"))}),re.order(),re.each(function(ne){var fe=z[ne],$=d.layerNameToAdjective[ne];ne==="frame"?fe.datum(d.sphereSVG):N(ne)||V(ne)?fe.datum(C(U,U.objects[ne])):B(ne)&&fe.datum(s(ne,k,A)).call(t.stroke,k[ne].gridcolor).call(i.dashLine,k[ne].griddash,k[ne].gridwidth),N(ne)?fe.call(t.stroke,k[$+"color"]).call(i.dashLine,"",k[$+"width"]):V(ne)&&fe.call(t.fill,k[$+"color"])})},E.updateDims=function(A,k){var _=this.bounds,U=(k.framewidth||0)/2,F=_[0][0]-U,z=_[0][1]-U,B=_[1][0]-F+U,N=_[1][1]-z+U;i.setRect(this.clipRect,F,z,B,N),this.bgRect.call(i.setRect,F,z,B,N).call(t.fill,k.bgcolor),this.xaxis._offset=F,this.xaxis._length=B,this.yaxis._offset=z,this.yaxis._length=N},E.updateFx=function(A,k){var _=this,U=_.graphDiv,F=_.bgRect,z=A.dragmode,B=A.clickmode;if(_.isStatic)return;function N(){var re=_.viewInitial,ne={};for(var fe in re)ne[_.id+"."+fe]=re[fe];v.call("_guiRelayout",U,ne),U.emit("plotly_doubleclick",null)}function V(re){return _.projection.invert([re[0]+_.xaxis._offset,re[1]+_.yaxis._offset])}var W=function(re,ne){if(ne.isRect){var fe=re.range={};fe[_.id]=[V([ne.xmin,ne.ymin]),V([ne.xmax,ne.ymax])]}else{var $=re.lassoPoints={};$[_.id]=ne.map(V)}},Q={element:_.bgRect.node(),gd:U,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:W},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(re){re===2&&M(U)}};z==="pan"?(F.node().onmousedown=null,F.call(o(_,k)),F.on("dblclick.zoom",N),U._context._scrollZoom.geo||F.on("wheel.zoom",null)):(z==="select"||z==="lasso")&&(F.on(".zoom",null),Q.prepFn=function(re,ne,fe){h(re,ne,fe,Q,z)},y.init(Q)),F.on("mousemove",function(){var re=_.projection.invert(p.getPositionFromD3Event());if(!re)return y.unhover(U,g.event);_.xaxis.p2c=function(){return re[0]},_.yaxis.p2c=function(){return re[1]},n.hover(U,g.event,_.id)}),F.on("mouseout",function(){U._dragging||y.unhover(U,g.event)}),F.on("click",function(){z!=="select"&&z!=="lasso"&&(B.indexOf("select")>-1&&c(g.event,U,[_.xaxis],[_.yaxis],_.id,Q),B.indexOf("event")>-1&&n.click(U,g.event))})},E.makeFramework=function(){var A=this,k=A.graphDiv,_=k._fullLayout,U="clip"+_._uid+A.id;A.clipDef=_._clips.append("clipPath").attr("id",U),A.clipRect=A.clipDef.append("rect"),A.framework=g.select(A.container).append("g").attr("class","geo "+A.id).call(i.setClipUrl,U,k),A.project=function(F){var z=A.projection(F);return z?[z[0]-A.xaxis._offset,z[1]-A.yaxis._offset]:[null,null]},A.xaxis={_id:"x",c2p:function(F){return A.project(F)[0]}},A.yaxis={_id:"y",c2p:function(F){return A.project(F)[1]}},A.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(A.mockAxis,_)},E.saveViewInitial=function(A){var k=A.center||{},_=A.projection,U=_.rotation||{};this.viewInitial={fitbounds:A.fitbounds,"projection.scale":_.scale};var F;A._isScoped?F={"center.lon":k.lon,"center.lat":k.lat}:A._isClipped?F={"projection.rotation.lon":U.lon,"projection.rotation.lat":U.lat}:F={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":U.lon},p.extendFlat(this.viewInitial,F)},E.render=function(A){this._hasMarkerAngles&&A?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var A=this.projection,k=A.getPath(),_;function U(z){var B=A(z.lonlat);return B?r(B[0],B[1]):null}function F(z){return A.isLonLatOverEdges(z.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",k);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(z){return k(z.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",F).attr("transform",U)};function b(A){var k=A.projection,_=k.type,U=d.projNames[_];U="geo"+p.titleCase(U);for(var F=P[U]||w[U],z=F(),B=A._isSatellite?Math.acos(1/k.distance)*180/Math.PI:A._isClipped?d.lonaxisSpan[_]/2:null,N=["center","rotate","parallels","clipExtent"],V=function(re){return re?z:[]},W=0;W<N.length;W++){var Q=N[W];typeof z[Q]!="function"&&(z[Q]=V)}return z.isLonLatOverEdges=function(re){if(z(re)===null)return!0;if(B){var ne=z.rotate(),fe=x(re,[-ne[0],-ne[1]]),$=B*Math.PI/180;return fe>$}else return!1},z.getPath=function(){return a().projection(z)},z.getBounds=function(re){return z.getPath().bounds(re)},z.precision(d.precision),A._isSatellite&&z.tilt(k.tilt).distance(k.distance),B&&z.clipAngle(B-d.clipPad),z}function s(A,k,_){var U=1e-6,F=2.5,z=k[A],B=d.scopeDefaults[k.scope],N,V,W;A==="lonaxis"?(N=B.lonaxisRange,V=B.lataxisRange,W=function(ee,se){return[ee,se]}):A==="lataxis"&&(N=B.lataxisRange,V=B.lonaxisRange,W=function(ee,se){return[se,ee]});var Q={type:"linear",range:[N[0],N[1]-U],tick0:z.tick0,dtick:z.dtick};f.setConvert(Q,_);var re=f.calcTicks(Q);!k.isScoped&&A==="lonaxis"&&re.pop();for(var ne=re.length,fe=new Array(ne),$=0;$<ne;$++)for(var X=re[$].x,oe=fe[$]=[],Y=V[0];Y<V[1]+F;Y+=F)oe.push(W(X,Y));return{type:"MultiLineString",coordinates:fe}}function L(A,k){var _=d.clipPad,U=A[0]+_,F=A[1]-_,z=k[0]+_,B=k[1]-_;U>0&&F<0&&(F+=360);var N=(F-U)/4;return{type:"Polygon",coordinates:[[[U,z],[U,B],[U+N,B],[U+2*N,B],[U+3*N,B],[F,B],[F,z],[F-N,z],[F-2*N,z],[F-3*N,z],[U,z]]]}}},10816:function(H,j,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(43520),x="geo",w=P(x),v={};v[x]={valType:"subplotid",dflt:x,editType:"calc"};function p(i){for(var n=i._fullLayout,u=i.calcdata,f=n._subplots[x],l=0;l<f.length;l++){var y=f[l],h=g(u,x,y),M=n[y],c=M._subplot;c||(c=a({id:y,graphDiv:i,container:n._geolayer.node(),topojsonURL:i._context.topojsonURL,staticPlot:i._context.staticPlot}),n[y]._subplot=c),c.plot(h,n,i._promises)}}function r(i,n,u,f){for(var l=f._subplots[x]||[],y=0;y<l.length;y++){var h=l[y],M=f[h]._subplot;!n[h]&&M&&(M.framework.remove(),M.clipDef.remove())}}function t(i){for(var n=i._fullLayout,u=n._subplots[x],f=0;f<u.length;f++){var l=n[u[f]],y=l._subplot;y.updateFx(n,l)}}H.exports={attr:x,name:x,idRoot:x,idRegex:w,attrRegex:w,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(H,j,e){var g=e(22548),P=e(86968).u,a=e(98192).u,x=e(79552),w=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},r=H.exports=w({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(x.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(x.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:x.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:x.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:x.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:x.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(H,j,e){var g=e(3400),P=e(168),a=e(84888).op,x=e(79552),w=e(40384),v=x.axesNames;H.exports=function(t,i,n){P(t,i,n,{type:"geo",attributes:w,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,i,n){var u=a(n.fullData,"geo",n.id),f=u.map(function(oe){return oe._expandedIndex}),l=i("resolution"),y=i("scope"),h=x.scopeDefaults[y],M=i("projection.type",h.projType),c=t._isAlbersUsa=M==="albers usa";c&&(y=t.scope="usa");var o=t._isScoped=y!=="world",d=t._isSatellite=M==="satellite",T=t._isConic=M.indexOf("conic")!==-1||M==="albers",S=t._isClipped=!!x.lonaxisSpan[M];if(r.visible===!1){var C=g.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var m=i("visible"),E,b=0;b<v.length;b++){var s=v[b],L=[30,10][b],A;if(o)A=h[s+"Range"];else{var k=x[s+"Span"],_=(k[M]||k["*"])/2,U=i("projection.rotation."+s.substr(0,3),h.projRotate[b]);A=[U-_,U+_]}var F=i(s+".range",A);i(s+".tick0"),i(s+".dtick",L),E=i(s+".showgrid",m?void 0:!1),E&&(i(s+".gridcolor"),i(s+".gridwidth"),i(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:f,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var z=t.lonaxis.range,B=t.lataxis.range,N=z[0],V=z[1];N>0&&V<0&&(V+=360);var W=(N+V)/2,Q;if(!c){var re=o?h.projRotate:[W,0,0];Q=i("projection.rotation.lon",re[0]),i("projection.rotation.lat",re[1]),i("projection.rotation.roll",re[2]),E=i("showcoastlines",!o&&m),E&&(i("coastlinecolor"),i("coastlinewidth")),E=i("showocean",m?void 0:!1),E&&i("oceancolor")}var ne,fe;if(c?(ne=-96.6,fe=38.7):(ne=o?W:Q,fe=(B[0]+B[1])/2),i("center.lon",ne),i("center.lat",fe),d&&(i("projection.tilt"),i("projection.distance")),T){var $=h.projParallels||[0,60];i("projection.parallels",$)}i("projection.scale"),E=i("showland",m?void 0:!1),E&&i("landcolor"),E=i("showlakes",m?void 0:!1),E&&i("lakecolor"),E=i("showrivers",m?void 0:!1),E&&(i("rivercolor"),i("riverwidth")),E=i("showcountries",o&&y!=="usa"&&m),E&&(i("countrycolor"),i("countrywidth")),(y==="usa"||y==="north america"&&l===50)&&(i("showsubunits",m),i("subunitcolor"),i("subunitwidth")),o||(E=i("showframe",m),E&&(i("framecolor"),i("framewidth"))),i("bgcolor");var X=i("fitbounds");X&&(delete t.projection.scale,o?(delete t.center.lon,delete t.center.lat):S?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(H,j,e){var g=e(33428),P=e(3400),a=e(24040),x=Math.PI/180,w=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(s,L){var A=s.projection,k;return L._isScoped?k=n:L._isClipped?k=f:k=u,k(s,A)}H.exports=r;function t(s,L){return g.behavior.zoom().translate(L.translate()).scale(L.scale())}function i(s,L,A){var k=s.id,_=s.graphDiv,U=_.layout,F=U[k],z=_._fullLayout,B=z[k],N={},V={};function W(Q,re){N[k+"."+Q]=P.nestedProperty(F,Q).get(),a.call("_storeDirectGUIEdit",U,z._preGUI,N);var ne=P.nestedProperty(B,Q);ne.get()!==re&&(ne.set(re),P.nestedProperty(F,Q).set(re),V[k+"."+Q]=re)}A(W),W("projection.scale",L.scale()/s.fitScale),W("fitbounds",!1),_.emit("plotly_relayout",V)}function n(s,L){var A=t(s,L);function k(){g.select(this).style(v)}function _(){L.scale(g.event.scale).translate(g.event.translate),s.render(!0);var z=L.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/s.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1]})}function U(z){var B=L.invert(s.midPt);z("center.lon",B[0]),z("center.lat",B[1])}function F(){g.select(this).style(p),i(s,L,U)}return A.on("zoomstart",k).on("zoom",_).on("zoomend",F),A}function u(s,L){var A=t(s,L),k=2,_,U,F,z,B,N,V,W,Q;function re(Y){return L.invert(Y)}function ne(Y){var ee=re(Y);if(!ee)return!0;var se=L(ee);return Math.abs(se[0]-Y[0])>k||Math.abs(se[1]-Y[1])>k}function fe(){g.select(this).style(v),_=g.mouse(this),U=L.rotate(),F=L.translate(),z=U,B=re(_)}function $(){if(N=g.mouse(this),ne(_)){A.scale(L.scale()),A.translate(L.translate());return}L.scale(g.event.scale),L.translate([F[0],g.event.translate[1]]),B?re(N)&&(W=re(N),V=[z[0]+(W[0]-B[0]),U[1],U[2]],L.rotate(V),z=V):(_=N,B=re(_)),Q=!0,s.render(!0);var Y=L.rotate(),ee=L.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/s.fitScale,"geo.center.lon":ee[0],"geo.center.lat":ee[1],"geo.projection.rotation.lon":-Y[0]})}function X(){g.select(this).style(p),Q&&i(s,L,oe)}function oe(Y){var ee=L.rotate(),se=L.invert(s.midPt);Y("projection.rotation.lon",-ee[0]),Y("center.lon",se[0]),Y("center.lat",se[1])}return A.on("zoomstart",fe).on("zoom",$).on("zoomend",X),A}function f(s,L){L.rotate(),L.scale();var A=t(s,L),k=b(A,"zoomstart","zoom","zoomend"),_=0,U=A.on,F;A.on("zoomstart",function(){g.select(this).style(v);var W=g.mouse(this),Q=L.rotate(),re=Q,ne=L.translate(),fe=y(Q);F=l(L,W),U.call(A,"zoom",function(){var $=g.mouse(this);if(L.scale(g.event.scale),!F)W=$,F=l(L,W);else if(l(L,$)){L.rotate(Q).translate(ne);var X=l(L,$),oe=M(F,X),Y=S(h(fe,oe)),ee=c(Y,F,re);(!isFinite(ee[0])||!isFinite(ee[1])||!isFinite(ee[2]))&&(ee=re),L.rotate(ee),re=ee}B(k.of(this,arguments))}),z(k.of(this,arguments))}).on("zoomend",function(){g.select(this).style(p),U.call(A,"zoom",null),N(k.of(this,arguments)),i(s,L,V)}).on("zoom.redraw",function(){s.render(!0);var W=L.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/s.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function z(W){_++||W({type:"zoomstart"})}function B(W){W({type:"zoom"})}function N(W){--_||W({type:"zoomend"})}function V(W){var Q=L.rotate();W("projection.rotation.lon",-Q[0]),W("projection.rotation.lat",-Q[1])}return g.rebind(A,k,"on")}function l(s,L){var A=s.invert(L);return A&&isFinite(A[0])&&isFinite(A[1])&&C(A)}function y(s){var L=.5*s[0]*x,A=.5*s[1]*x,k=.5*s[2]*x,_=Math.sin(L),U=Math.cos(L),F=Math.sin(A),z=Math.cos(A),B=Math.sin(k),N=Math.cos(k);return[U*z*N+_*F*B,_*z*N-U*F*B,U*F*N+_*z*B,U*z*B-_*F*N]}function h(s,L){var A=s[0],k=s[1],_=s[2],U=s[3],F=L[0],z=L[1],B=L[2],N=L[3];return[A*F-k*z-_*B-U*N,A*z+k*F+_*N-U*B,A*B-k*N+_*F+U*z,A*N+k*B-_*z+U*F]}function M(s,L){if(!(!s||!L)){var A=E(s,L),k=Math.sqrt(m(A,A)),_=.5*Math.acos(Math.max(-1,Math.min(1,m(s,L)))),U=Math.sin(_)/k;return k&&[Math.cos(_),A[2]*U,-A[1]*U,A[0]*U]}}function c(s,L,A){var k=T(L,2,s[0]);k=T(k,1,s[1]),k=T(k,0,s[2]-A[2]);var _=L[0],U=L[1],F=L[2],z=k[0],B=k[1],N=k[2],V=Math.atan2(U,_)*w,W=Math.sqrt(_*_+U*U),Q,re;Math.abs(B)>W?(re=(B>0?90:-90)-V,Q=0):(re=Math.asin(B/W)*w-V,Q=Math.sqrt(W*W-B*B));var ne=180-re-2*V,fe=(Math.atan2(N,z)-Math.atan2(F,Q))*w,$=(Math.atan2(N,z)-Math.atan2(F,-Q))*w,X=o(A[0],A[1],re,fe),oe=o(A[0],A[1],ne,$);return X<=oe?[re,fe,A[2]]:[ne,$,A[2]]}function o(s,L,A,k){var _=d(A-s),U=d(k-L);return Math.sqrt(_*_+U*U)}function d(s){return(s%360+540)%360-180}function T(s,L,A){var k=A*x,_=s.slice(),U=L===0?1:0,F=L===2?1:2,z=Math.cos(k),B=Math.sin(k);return _[U]=s[U]*z-s[F]*B,_[F]=s[F]*z+s[U]*B,_}function S(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*w,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*w,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*w]}function C(s){var L=s[0]*x,A=s[1]*x,k=Math.cos(A);return[k*Math.cos(L),k*Math.sin(L),Math.sin(A)]}function m(s,L){for(var A=0,k=0,_=s.length;k<_;++k)A+=s[k]*L[k];return A}function E(s,L){return[s[1]*L[2]-s[2]*L[1],s[2]*L[0]-s[0]*L[2],s[0]*L[1]-s[1]*L[0]]}function b(s){for(var L=0,A=arguments.length,k=[];++L<A;)k.push(arguments[L]);var _=g.dispatch.apply(null,k);return _.of=function(U,F){return function(z){var B;try{B=z.sourceEvent=g.event,z.target=s,g.event=z,_[z.type].apply(U,F)}finally{g.event=B}}},_}},84888:function(H,j,e){var g=e(24040),P=e(33816).SUBPLOT_PATTERN;j.KY=function(a,x,w){var v=g.subplotsRegistry[x];if(!v)return[];for(var p=v.attr,r=[],t=0;t<a.length;t++){var i=a[t],n=i[0].trace;n[p]===w&&r.push(i)}return r},j._M=function(a,x){var w=[],v=[],p;if(typeof x=="string"?p=g.getModule(x).plot:typeof x=="function"?p=x:p=x.plot,!p)return[w,a];for(var r=0;r<a.length;r++){var t=a[r],i=t[0].trace;i.visible!==!0||i._length===0||(i._module&&i._module.plot===p?w.push(t):v.push(t))}return[w,v]},j.op=function(x,w,v){if(!g.subplotsRegistry[w])return[];var p=g.subplotsRegistry[w].attr,r=[],t,i,n;if(w==="gl2d"){var u=v.match(P);i="x"+u[1],n="y"+u[2]}for(var f=0;f<x.length;f++)t=x[f],w==="gl2d"&&g.traceIs(t,"gl2d")?t[p[0]]===i&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(H,j,e){var g=e(62644),P=e(97264),a=e(29128),x=e(33816),w=e(89184);H.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,i=r.glplot,n=new v(t,i);function u(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function f(){for(var y=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,M=r.yaxis._id,c=0;c<y.length;c++)if(y[c][h]!==-1){if(y[c][M]!==-1)return!0;break}return!1}n.mouseListener=g(t,l),t.addEventListener("touchstart",function(y){var h=a(y.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),y.preventDefault()},w?{passive:!1}:!1),t.addEventListener("touchmove",function(y){y.preventDefault();var h=a(y.changedTouches[0],t);l(1,h[0],h[1]),y.preventDefault()},w?{passive:!1}:!1),t.addEventListener("touchend",function(y){l(0,n.lastPos[0],n.lastPos[1]),y.preventDefault()},w?{passive:!1}:!1);function l(y,h,M){var c=r.calcDataBox(),o=i.viewBox,d=n.lastPos[0],T=n.lastPos[1],S=x.MINDRAG*i.pixelRatio,C=x.MINZOOM*i.pixelRatio,m,E;h*=i.pixelRatio,M*=i.pixelRatio,M=o[3]-o[1]-M;function b(U,F,z){var B=Math.min(F,z),N=Math.max(F,z);B!==N?(c[U]=B,c[U+2]=N,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(y){var s=h/(o[2]-o[0])*(c[2]-c[0])+c[0],L=M/(o[3]-o[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=s,n.boxStart[1]=L,n.dragStart[0]=h,n.dragStart[1]=M),n.boxEnd[0]=s,n.boxEnd[1]=L,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var A=Math.abs(n.dragStart[0]-h)<C,k=Math.abs(n.dragStart[1]-M)<C;if(f()&&!(A&&k)){m=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var _=(c[3]-c[1])/(c[2]-c[0]);Math.abs(m*_)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(m)*_*(E>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(_)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(_))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/_*(m>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(_)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(_)))}else A&&(n.boxEnd[0]=n.boxStart[0]),k&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(m=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],m||E?(m&&(b(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),E&&(b(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,y?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=M),Math.abs(n.dragStart[0]-h)<S&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-M)<S&&(M=n.dragStart[1]),m=(d-h)*(c[2]-c[0])/(i.viewBox[2]-i.viewBox[0]),E=(T-M)*(c[3]-c[1])/(i.viewBox[3]-i.viewBox[1]),c[0]+=m,c[2]+=m,c[1]+=E,c[3]+=E,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=M}return n.wheelListener=P(t,function(y,h){if(!r.scrollZoom)return!1;var M=r.calcDataBox(),c=i.viewBox,o=n.lastPos[0],d=n.lastPos[1],T=Math.exp(5*h/(c[3]-c[1])),S=o/(c[2]-c[0])*(M[2]-M[0])+M[0],C=d/(c[3]-c[1])*(M[3]-M[1])+M[1];return M[0]=(M[0]-S)*T+S,M[2]=(M[2]-S)*T+S,M[1]=(M[1]-C)*T+C,M[3]=(M[3]-C)*T+C,r.setRanges(M),n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(H,j,e){var g=e(54460),P=e(43080);function a(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var x=a.prototype,w=["xaxis","yaxis"];x.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,i,n,u,f,l,y,h,M,c;for(M=0;M<2;++M){r=w[M];var o=r.charAt(0);for(t=p[this.scene[r]._name],i=t.title.text===this.scene.fullLayout._dfltTitle[o]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[M+c]=!1,this.labels[M+c]=i,this.labelColor[M+c]=P(t.title.font.color),this.labelFont[M+c]=t.title.font.family,this.labelSize[M+c]=t.title.font.size,this.labelPad[M+c]=this.getLabelPad(r,t),this.tickEnable[M+c]=!1,this.tickColor[M+c]=P((t.tickfont||{}).color),this.tickAngle[M+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[M+c]=this.getTickPad(t),this.tickMarkLength[M+c]=0,this.tickMarkWidth[M+c]=t.tickwidth||0,this.tickMarkColor[M+c]=P(t.tickcolor),this.borderLineEnable[M+c]=!1,this.borderLineColor[M+c]=P(t.linecolor),this.borderLineWidth[M+c]=t.linewidth||0;l=this.hasSharedAxis(t),u=this.hasAxisInDfltPos(r,t)&&!l,f=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,y=l?String(n).indexOf("all")!==-1:!!n,h=l?n==="allticks":String(n).indexOf("ticks")!==-1,u?this.labelEnable[M]=!0:f&&(this.labelEnable[M+2]=!0),u?this.tickEnable[M]=t.showticklabels:f&&(this.tickEnable[M+2]=t.showticklabels),(u||y)&&(this.borderLineEnable[M]=t.showline),(f||y)&&(this.borderLineEnable[M+2]=t.showline),(u||h)&&(this.tickMarkLength[M]=this.getTickMarkLength(t)),(f||h)&&(this.tickMarkLength[M+2]=this.getTickMarkLength(t)),this.gridLineEnable[M]=t.showgrid,this.gridLineColor[M]=P(t.gridcolor),this.gridLineWidth[M]=t.gridwidth,this.zeroLineEnable[M]=t.zeroline,this.zeroLineColor[M]=P(t.zerolinecolor),this.zeroLineWidth[M]=t.zerolinewidth}},x.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,i=g.findSubplotsWithAxis(t,p);return i.indexOf(r.id)!==0},x.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},x.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},x.getLabelPad=function(p,r){var t=1.5,i=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+i*(t+(n?1:0)):-10+i*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0))},x.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},x.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new a(p)}H.exports=v},39952:function(H,j,e){var g=e(67824).overrideAll,P=e(17188),a=e(64859),x=e(9616),w=e(33816),v=e(57952),p=e(65460),r=e(84888).op;j.name="gl2d",j.attr=["xaxis","yaxis"],j.idRoot=["x","y"],j.idRegex=w.idRegex,j.attrRegex=w.attrRegex,j.attributes=e(26720),j.supplyLayoutDefaults=function(t,i,n){i._has("cartesian")||v.supplyLayoutDefaults(t,i,n)},j.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),j.baseLayoutAttrOverrides=g({plot_bgcolor:a.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),j.plot=function(i){for(var n=i._fullLayout,u=i._fullData,f=n._subplots.gl2d,l=0;l<f.length;l++){var y=f[l],h=n._plots[y],M=r(u,"gl2d",y),c=h._scene2d;c===void 0&&(c=new P({id:y,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(M,i.calcdata,n,i.layout)}},j.clean=function(t,i,n,u){for(var f=u._subplots.gl2d||[],l=0;l<f.length;l++){var y=f[l],h=u._plots[y];if(h._scene2d){var M=r(t,"gl2d",y);M.length===0&&(h._scene2d.destroy(),delete u._plots[y])}}v.clean.apply(this,arguments)},j.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},j.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,u=0;u<n.length;u++){var f=i._plots[n[u]],l=f._scene2d,y=l.toImage("png"),h=i._glimages.append("svg:image");h.attr({xmlns:x.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},j.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,u=0;u<n.length;u++){var f=i._plots[n[u]]._scene2d;f.updateFx(i.dragmode)}}},17188:function(H,j,e){var g=e(24040),P=e(54460),a=e(93024),x=e(67792).gl_plot2d,w=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),i=e(16576),n=e(71888),u=n.enforce,f=n.clean,l=e(19280).doAutoRange,y=e(72760),h=y.drawMode,M=y.selectMode,c=["xaxis","yaxis"],o,d,T=e(33816).SUBPLOT_PATTERN;function S(E,b){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(b),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(b),this.glplot=x(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=w(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}H.exports=S;var C=S.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(o=document.createElement("canvas"),d=p({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=d}else{var E=this.container.querySelector(".gl-canvas-focus"),b=p({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!b){i(this),this.stopped=!0;return}this.canvas=E,this.gl=b}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var L=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",L.style["z-index"]=20,L.style["pointer-events"]="none";var A=this.mouseContainer=document.createElement("div");A.style.position="absolute",A.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(L),k.appendChild(A);var _=this;A.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),A.addEventListener("mouseover",function(){_.isMouseOver=!0})},C.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var b=this.glplot.gl,s=b.drawingBufferWidth,L=b.drawingBufferHeight;b.clearColor(1,1,1,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),b.bindFramebuffer(b.FRAMEBUFFER,null);var A=new Uint8Array(s*L*4);b.readPixels(0,0,s,L,b.RGBA,b.UNSIGNED_BYTE,A);for(var k=0,_=L-1;k<_;++k,--_)for(var U=0;U<s;++U)for(var F=0;F<4;++F){var z=A[4*(s*k+U)+F];A[4*(s*k+U)+F]=A[4*(s*_+U)+F],A[4*(s*_+U)+F]=z}var B=document.createElement("canvas");B.width=s,B.height=L;var N=B.getContext("2d",{willReadFrequently:!0}),V=N.createImageData(s,L);V.data.set(A),N.putImageData(V,0,0);var W;switch(E){case"jpeg":W=B.toDataURL("image/jpeg");break;case"webp":W=B.toDataURL("image/webp");break;default:W=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),W},C.updateSize=function(E){E||(E=this.canvas);var b=this.pixelRatio,s=this.fullLayout,L=s.width,A=s.height,k=Math.ceil(b*L)|0,_=Math.ceil(b*A)|0;return(E.width!==k||E.height!==_)&&(E.width=k,E.height=_),E},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],b=0;b<2;++b)for(var s=0;s<E[b].length;++s)E[b][s].text=E[b][s].text+"";return E};function m(E,b){for(var s=0;s<2;++s){var L=E[s],A=b[s];if(L.length!==A.length)return!0;for(var k=0;k<L.length;++k)if(L[k].x!==A[k].x)return!0}return!1}C.updateRefs=function(E){this.fullLayout=E;var b=this.id.match(T),s="xaxis"+b[1],L="yaxis"+b[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[L]},C.relayoutCallback=function(){var E=this.graphDiv,b=this.xaxis,s=this.yaxis,L=E.layout,A={},k=A[b._name+".range"]=b.range.slice(),_=A[s._name+".range"]=s.range.slice();A[b._name+".autorange"]=b.autorange,A[s._name+".autorange"]=s.autorange,g.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,A);var U=L[b._name];U.range=k,U.autorange=b.autorange;var F=L[s._name];F.range=_,F.autorange=s.autorange,A.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",A)},C.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var b=this.computeTickMarks(),s=this.glplotOptions.ticks;m(b,s)&&(this.glplotOptions.ticks=b,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var E=this.graphDiv,b=this.fullLayout.annotations,s=0;s<b.length;s++){var L=b[s];L.xref===this.xaxis._id&&L.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(E,s)}},C.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(b){E[b].dispose(),delete E[b]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(E,b,s){var L=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,b),this.updateFx(s.dragmode);var A=s.width,k=s.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(s),_.screenBox=[0,0,A,k];var U={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};f(U,this.xaxis),f(U,this.yaxis);var F=s._size,z=this.xaxis.domain,B=this.yaxis.domain;_.viewBox=[F.l+z[0]*F.w,F.b+B[0]*F.h,A-F.r-(1-z[1])*F.w,k-F.t-(1-B[1])*F.h],this.mouseContainer.style.width=F.w*(z[1]-z[0])+"px",this.mouseContainer.style.height=F.h*(B[1]-B[0])+"px",this.mouseContainer.height=F.h*(B[1]-B[0]),this.mouseContainer.style.left=F.l+z[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-B[1])*F.h+"px";var N,V;for(V=0;V<2;++V)N=this[c[V]],N._length=_.viewBox[V+2]-_.viewBox[V],l(this.graphDiv,N),N.setScale();u(U),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(s),L.update(_),this.glplot.draw()},C.calcDataBox=function(){var E=this.xaxis,b=this.yaxis,s=E.range,L=b.range,A=E.r2l,k=b.r2l;return[A(s[0]),k(L[0]),A(s[1]),k(L[1])]},C.setRanges=function(E){var b=this.xaxis,s=this.yaxis,L=b.l2r,A=s.l2r;b.range=[L(E[0]),L(E[2])],s.range=[A(E[1]),A(E[3])]},C.updateTraces=function(E,b){var s=Object.keys(this.traces),L,A,k;this.fullData=E;e:for(L=0;L<s.length;L++){var _=s[L],U=this.traces[_];for(A=0;A<E.length;A++)if(k=E[A],k.uid===_&&k.type===U.type)continue e;U.dispose(),delete this.traces[_]}for(L=0;L<E.length;L++){k=E[L];var F=b[L],z=this.traces[k.uid];z?z.update(k,F):(z=k._module.plot(this,k,F),this.traces[k.uid]=z)}this.glplot.objects.sort(function(B,N){return B._trace.index-N._trace.index})},C.updateFx=function(E){M(E)||h(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(E,b){for(var s=E.trace.uid,L=E.pointIndex,A,k=0;k<this.fullData.length;k++)this.fullData[k].uid===s&&(A=this.fullData[k]);var _={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:A.index,pointNumber:L,data:A._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(_,A,L),this.graphDiv.emit(b,{points:[_]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,b=this.camera,s=b.mouseListener,L=this.lastButtonState===1&&s.buttons===0,A=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var k=s.x*E.pixelRatio,_=this.canvas.height-E.pixelRatio*s.y,U;if(b.boxEnabled&&A.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(b.boxStart[0],b.boxEnd[0]),Math.min(b.boxStart[1],b.boxEnd[1]),Math.max(b.boxStart[0],b.boxEnd[0]),Math.max(b.boxStart[1],b.boxEnd[1])],z=0;z<2;z++)b.boxStart[z]===b.boxEnd[z]&&(F[z]=E.dataBox[z],F[z+2]=E.dataBox[z+2]);E.setDirty()}else if(!b.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=A._size,N=this.xaxis.domain,V=this.yaxis.domain;U=E.pick(k/E.pixelRatio+B.l+N[0]*B.w,_/E.pixelRatio-(B.t+(1-V[1])*B.h));var W=U&&U.object._trace.handlePick(U);if(W&&L&&this.emitPointAction(W,"plotly_click"),U&&U.object._trace.hoverinfo!=="skip"&&A.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var Q=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:U.dataCoord}),Q.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(U.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(U.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(W,"plotly_hover");var re=this.fullData[Q.trace.index]||{},ne=Q.pointIndex,fe=a.castHoverinfo(re,A,ne);if(fe&&fe!=="all"){var $=fe.split("+");$.indexOf("x")===-1&&(Q.traceCoord[0]=void 0),$.indexOf("y")===-1&&(Q.traceCoord[1]=void 0),$.indexOf("z")===-1&&(Q.traceCoord[2]=void 0),$.indexOf("text")===-1&&(Q.textLabel=void 0),$.indexOf("name")===-1&&(Q.name=void 0)}a.loneHover({x:Q.screenCoord[0],y:Q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Q.traceCoord[1]),zLabel:Q.traceCoord[2],text:Q.textLabel,name:Q.name,color:a.castHoverOption(re,ne,"bgcolor")||Q.color,borderColor:a.castHoverOption(re,ne,"bordercolor"),fontFamily:a.castHoverOption(re,ne,"font.family"),fontSize:a.castHoverOption(re,ne,"font.size"),fontColor:a.castHoverOption(re,ne,"font.color"),nameLength:a.castHoverOption(re,ne,"namelength"),textAlign:a.castHoverOption(re,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}U||this.unhover(),E.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},C.hoverFormatter=function(E,b){if(b!==void 0){var s=this[E];return P.tickText(s,s.c2l(b),"hover").text}}},12536:function(H,j,e){var g=e(67824).overrideAll,P=e(65460),a=e(98432),x=e(84888).op,w=e(3400),v=e(9616),p="gl3d",r="scene";j.name=p,j.attr=r,j.idRoot=r,j.idRegex=j.attrRegex=w.counterRegex("scene"),j.attributes=e(6636),j.layoutAttributes=e(346),j.baseLayoutAttrOverrides=g({hoverlabel:P.hoverlabel},"plot","nested"),j.supplyLayoutDefaults=e(5208),j.plot=function(i){for(var n=i._fullLayout,u=i._fullData,f=n._subplots[p],l=0;l<f.length;l++){var y=f[l],h=x(u,p,y),M=n[y],c=M.camera,o=M._scene;o||(o=new a({id:y,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:c},n),M._scene=o),o.viewInitial||(o.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),o.plot(h,n,i.layout)}},j.clean=function(t,i,n,u){for(var f=u._subplots[p]||[],l=0;l<f.length;l++){var y=f[l];!i[y]&&u[y]._scene&&(u[y]._scene.destroy(),u._infolayer&&u._infolayer.selectAll(".annotation-"+y).remove())}},j.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots[p],u=i._size,f=0;f<n.length;f++){var l=i[n[f]],y=l.domain,h=l._scene,M=h.toImage("png"),c=i._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":M,x:u.l+u.w*y.x[0],y:u.t+u.h*(1-y.y[1]),width:u.w*(y.x[1]-y.x[0]),height:u.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),h.destroy()}},j.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return n==="1"&&(n=""),r+n}},j.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots[p],u=0;u<n.length;u++){var f=i[n[u]]._scene;f.updateFx(i.dragmode,i.hovermode)}}},6636:function(H){H.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(H,j,e){var g=e(76308),P=e(94724),a=e(92880).extendFlat,x=e(67824).overrideAll;H.exports=x({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:a({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:a({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:a({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(H,j,e){var g=e(49760).mix,P=e(3400),a=e(31780),x=e(86140),w=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*(204-68)/(255-68);H.exports=function(i,n,u){var f,l;function y(c,o){return P.coerce(f,l,x,c,o)}for(var h=0;h<p.length;h++){var M=p[h];f=i[M]||{},l=a.newContainer(n,M),l._id=M[0]+u.scene,l._name=M,w(f,l,y,u),v(f,l,y,{font:u.font,letter:M[0],data:u.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:u.bgColor,calendar:u.calendar},u.fullLayout),y("gridcolor",g(l.color,u.bgColor,r).toRgbString()),y("title.text",M[0]),l.setScale=P.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",l.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},44728:function(H,j,e){var g=e(43080),P=e(3400),a=["xaxis","yaxis","zaxis"];function x(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var w=x.prototype;w.merge=function(p,r){for(var t=this,i=0;i<3;++i){var n=r[a[i]];if(!n.visible){t.tickEnable[i]=!1,t.labelEnable[i]=!1,t.lineEnable[i]=!1,t.lineTickEnable[i]=!1,t.gridEnable[i]=!1,t.zeroEnable[i]=!1,t.backgroundEnable[i]=!1;continue}t.labels[i]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[i]=g(n.title.font.color)),n.title.font.family&&(t.labelFont[i]=n.title.font.family),n.title.font.size&&(t.labelSize[i]=n.title.font.size)),"showline"in n&&(t.lineEnable[i]=n.showline),"linecolor"in n&&(t.lineColor[i]=g(n.linecolor)),"linewidth"in n&&(t.lineWidth[i]=n.linewidth),"showgrid"in n&&(t.gridEnable[i]=n.showgrid),"gridcolor"in n&&(t.gridColor[i]=g(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[i]=n.gridwidth),n.type==="log"?t.zeroEnable[i]=!1:"zeroline"in n&&(t.zeroEnable[i]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[i]=g(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[i]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[i]=!0:t.lineTickEnable[i]=!1,"ticklen"in n&&(t.lineTickLength[i]=t._defaultLineTickLength[i]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[i]=g(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[i]=n.tickwidth),"tickangle"in n&&(t.tickAngle[i]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[i]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[i]=g(n.tickfont.color)),n.tickfont.family&&(t.tickFont[i]=n.tickfont.family),n.tickfont.size&&(t.tickSize[i]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[i]=!0,t.lineMirror[i]=!0):n.mirror===!0?(t.lineTickMirror[i]=!1,t.lineMirror[i]=!0):(t.lineTickMirror[i]=!1,t.lineMirror[i]=!1):t.lineMirror[i]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[i]=!0,t.backgroundColor[i]=g(n.backgroundcolor)):t.backgroundEnable[i]=!1}};function v(p,r){var t=new x;return t.merge(p,r),t}H.exports=v},5208:function(H,j,e){var g=e(3400),P=e(76308),a=e(24040),x=e(168),w=e(64380),v=e(346),p=e(84888).op,r="gl3d";H.exports=function(n,u,f){var l=u._basePlotModules.length>1;function y(h){if(!l){var M=g.validate(n[h],v[h]);if(M)return n[h]}}x(n,u,f,{type:r,attributes:v,handleDefaults:t,fullLayout:u,font:u.font,fullData:f,getDfltFromLayout:y,autotypenumbersDflt:u.autotypenumbers,paper_bgcolor:u.paper_bgcolor,calendar:u.calendar})};function t(i,n,u,f){for(var l=u("bgcolor"),y=P.combine(l,f.paper_bgcolor),h=["up","center","eye"],M=0;M<h.length;M++)u("camera."+h[M]+".x"),u("camera."+h[M]+".y"),u("camera."+h[M]+".z");u("camera.projection.type");var c=!!u("aspectratio.x")&&!!u("aspectratio.y")&&!!u("aspectratio.z"),o=c?"manual":"auto",d=u("aspectmode",o);c||(i.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),i.aspectmode=n.aspectmode);var T=p(f.fullData,r,f.id);w(i,n,{font:f.font,scene:f.id,data:T,bgColor:y,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(i,n,f);var S=f.getDfltFromLayout("dragmode");if(S!==!1&&!S)if(S="orbit",i.camera&&i.camera.up){var C=i.camera.up.x,m=i.camera.up.y,E=i.camera.up.z;E!==0&&(!C||!m||!E||E/Math.sqrt(C*C+m*m+E*E)>.999)&&(S="turntable")}else S="turntable";u("dragmode",S),u("hovermode",f.getDfltFromLayout("hovermode"))}},346:function(H,j,e){var g=e(86140),P=e(86968).u,a=e(92880).extendFlat,x=e(3400).counterRegex;function w(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}H.exports={_arrayAttrRegexps:[x("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(w(0,0,1),{}),center:a(w(0,0,0),{}),eye:a(w(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(H,j,e){var g=e(43080),P=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var x=a.prototype;x.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=g(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function w(v){var p=new a;return p.merge(v),p}H.exports=w},87152:function(H,j,e){H.exports=w;var g=e(54460),P=e(3400),a=["xaxis","yaxis","zaxis"];function x(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],i=new Array(t.length),n=0;n<t.length;++n)i[n]=t[n].x;p[r]=i}return p}function w(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var u=t[a[n]];if(u._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(u._length)===1/0||isNaN(u._length))i[n]=[];else{u._input_range=u.range.slice(),u.range[0]=r[n].lo/v.dataScale[n],u.range[1]=r[n].hi/v.dataScale[n],u._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),u.range[0]===u.range[1]&&(u.range[0]-=1,u.range[1]+=1);var f=u.tickmode;if(u.tickmode==="auto"){u.tickmode="linear";var l=u.nticks||P.constrain(u._length/40,4,9);g.autoTicks(u,Math.abs(u.range[1]-u.range[0])/l)}for(var y=g.calcTicks(u,{msUTC:!0}),h=0;h<y.length;++h)y[h].x=y[h].x*v.dataScale[n],u.type==="date"&&(y[h].text=y[h].text.replace(/\<br\>/g," "));i[n]=y,u.tickmode=f}}p.ticks=i;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=x(i)}},94424:function(H){function j(g,P){var a=[0,0,0,0],x,w;for(x=0;x<4;++x)for(w=0;w<4;++w)a[w]+=g[4*x+w]*P[x];return a}function e(g,P){var a=j(g.projection,j(g.view,j(g.model,[P[0],P[1],P[2],1])));return a}H.exports=e},98432:function(H,j,e){var g=e(67792).gl_plot3d,P=g.createCamera,a=g.createScene,x=e(5408),w=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),i=e(93024),n=e(43080),u=e(16576),f=e(94424),l=e(44728),y=e(9020),h=e(87152),M=e(19280).applyAutorangeOptions,c,o,d=!1;function T(_,U){var F=document.createElement("div"),z=_.container;this.graphDiv=_.graphDiv;var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.style.position="absolute",B.style.top=B.style.left="0px",B.style.width=B.style.height="100%",B.style["z-index"]=20,B.style["pointer-events"]="none",F.appendChild(B),this.svgContainer=B,F.id=_.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",z.appendChild(F),this.fullLayout=U,this.id=_.id||"scene",this.fullSceneLayout=U[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(U,U[this.id]),this.spikeOptions=y(U[this.id]),this.container=F,this.staticMode=!!_.staticPlot,this.pixelRatio=this.pixelRatio||_.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var S=T.prototype;S.prepareOptions=function(){var _=this,U={canvas:_.canvas,gl:_.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:_.container,axes:_.axesOptions,spikes:_.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:_.camera,pixelRatio:_.pixelRatio};if(_.staticMode){if(!o&&(c=document.createElement("canvas"),o=x({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");U.gl=o,U.canvas=c}return U};var C=!0;S.tryCreatePlot=function(){var _=this,U=_.prepareOptions(),F=!0;try{_.glplot=a(U)}catch{if(_.staticMode||!C||r)F=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=U.glOptions.preserveDrawingBuffer=!0,_.glplot=a(U)}catch{r=U.glOptions.preserveDrawingBuffer=!1,F=!1}}}return C=!1,F},S.initializeGLCamera=function(){var _=this,U=_.fullSceneLayout.camera,F=U.projection.type==="orthographic";_.camera=P(_.container,{center:[U.center.x,U.center.y,U.center.z],eye:[U.eye.x,U.eye.y,U.eye.z],up:[U.up.x,U.up.y,U.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},S.initializeGLPlot=function(){var _=this;_.initializeGLCamera();var U=_.tryCreatePlot();if(!U)return u(_);_.traces={},_.make4thDimension();var F=_.graphDiv,z=F.layout,B=function(){var V={};return _.isCameraChanged(z)&&(V[_.id+".camera"]=_.getCamera()),_.isAspectChanged(z)&&(V[_.id+".aspectratio"]=_.glplot.getAspectratio(),z[_.id].aspectmode!=="manual"&&(_.fullSceneLayout.aspectmode=z[_.id].aspectmode=V[_.id+".aspectmode"]="manual")),V},N=function(V){if(V.fullSceneLayout.dragmode!==!1){var W=B();V.saveLayout(z),V.graphDiv.emit("plotly_relayout",W)}};return _.glplot.canvas&&(_.glplot.canvas.addEventListener("mouseup",function(){N(_)}),_.glplot.canvas.addEventListener("touchstart",function(){d=!0}),_.glplot.canvas.addEventListener("wheel",function(V){if(F._context._scrollZoom.gl3d){if(_.camera._ortho){var W=V.deltaX>V.deltaY?1.1:.9090909090909091,Q=_.glplot.getAspectratio();_.glplot.setAspectratio({x:W*Q.x,y:W*Q.y,z:W*Q.z})}N(_)}},w?{passive:!1}:!1),_.glplot.canvas.addEventListener("mousemove",function(){if(_.fullSceneLayout.dragmode!==!1&&_.camera.mouseListener.buttons!==0){var V=B();_.graphDiv.emit("plotly_relayouting",V)}}),_.staticMode||_.glplot.canvas.addEventListener("webglcontextlost",function(V){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:V,layer:_.id})},!1)),_.glplot.oncontextloss=function(){_.recoverContext()},_.glplot.onrender=function(){_.render()},!0},S.render=function(){var _=this,U=_.graphDiv,F,z=_.svgContainer,B=_.container.getBoundingClientRect();U._fullLayout._calcInverseTransform(U);var N=U._fullLayout._invScaleX,V=U._fullLayout._invScaleY,W=B.width*N,Q=B.height*V;z.setAttributeNS(null,"viewBox","0 0 "+W+" "+Q),z.setAttributeNS(null,"width",W),z.setAttributeNS(null,"height",Q),h(_),_.glplot.axes.update(_.axesOptions);for(var re=Object.keys(_.traces),ne=null,fe=_.glplot.selection,$=0;$<re.length;++$)F=_.traces[re[$]],F.data.hoverinfo!=="skip"&&F.handlePick(fe)&&(ne=F),F.setContourLevels&&F.setContourLevels();function X(ke,we,Ee){var xe=_.fullSceneLayout[ke+"axis"];return xe.type!=="log"&&(we=xe.d2l(we)),t.hoverLabelText(xe,we,Ee)}if(ne!==null){var oe=f(_.glplot.cameraParams,fe.dataCoordinate);F=ne.data;var Y=U._fullData[F.index],ee=fe.index,se={xLabel:X("x",fe.traceCoordinate[0],F.xhoverformat),yLabel:X("y",fe.traceCoordinate[1],F.yhoverformat),zLabel:X("z",fe.traceCoordinate[2],F.zhoverformat)},q=i.castHoverinfo(Y,_.fullLayout,ee),K=(q||"").split("+"),le=q&&q==="all";!Y.hovertemplate&&!le&&(K.indexOf("x")===-1&&(se.xLabel=void 0),K.indexOf("y")===-1&&(se.yLabel=void 0),K.indexOf("z")===-1&&(se.zLabel=void 0),K.indexOf("text")===-1&&(fe.textLabel=void 0),K.indexOf("name")===-1&&(ne.name=void 0));var ie,he=[];F.type==="cone"||F.type==="streamtube"?(se.uLabel=X("x",fe.traceCoordinate[3],F.uhoverformat),(le||K.indexOf("u")!==-1)&&he.push("u: "+se.uLabel),se.vLabel=X("y",fe.traceCoordinate[4],F.vhoverformat),(le||K.indexOf("v")!==-1)&&he.push("v: "+se.vLabel),se.wLabel=X("z",fe.traceCoordinate[5],F.whoverformat),(le||K.indexOf("w")!==-1)&&he.push("w: "+se.wLabel),se.normLabel=fe.traceCoordinate[6].toPrecision(3),(le||K.indexOf("norm")!==-1)&&he.push("norm: "+se.normLabel),F.type==="streamtube"&&(se.divergenceLabel=fe.traceCoordinate[7].toPrecision(3),(le||K.indexOf("divergence")!==-1)&&he.push("divergence: "+se.divergenceLabel)),fe.textLabel&&he.push(fe.textLabel),ie=he.join("<br>")):F.type==="isosurface"||F.type==="volume"?(se.valueLabel=t.hoverLabelText(_._mockAxis,_._mockAxis.d2l(fe.traceCoordinate[3]),F.valuehoverformat),he.push("value: "+se.valueLabel),fe.textLabel&&he.push(fe.textLabel),ie=he.join("<br>")):ie=fe.textLabel;var ye={x:fe.traceCoordinate[0],y:fe.traceCoordinate[1],z:fe.traceCoordinate[2],data:Y._input,fullData:Y,curveNumber:Y.index,pointNumber:ee};i.appendArrayPointValue(ye,Y,ee),F._module.eventData&&(ye=Y._module.eventData(ye,fe,Y,{},ee));var Ce={points:[ye]};if(_.fullSceneLayout.hovermode){var Ae=[];i.loneHover({trace:Y,x:(.5+.5*oe[0]/oe[3])*W,y:(.5-.5*oe[1]/oe[3])*Q,xLabel:se.xLabel,yLabel:se.yLabel,zLabel:se.zLabel,text:ie,name:ne.name,color:i.castHoverOption(Y,ee,"bgcolor")||ne.color,borderColor:i.castHoverOption(Y,ee,"bordercolor"),fontFamily:i.castHoverOption(Y,ee,"font.family"),fontSize:i.castHoverOption(Y,ee,"font.size"),fontColor:i.castHoverOption(Y,ee,"font.color"),nameLength:i.castHoverOption(Y,ee,"namelength"),textAlign:i.castHoverOption(Y,ee,"align"),hovertemplate:p.castOption(Y,ee,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ye,se),eventData:[ye]},{container:z,gd:U,inOut_bbox:Ae}),ye.bbox=Ae[0]}fe.distance<5&&(fe.buttons||d)?U.emit("plotly_click",Ce):U.emit("plotly_hover",Ce),this.oldEventData=Ce}else i.loneUnhover(z),this.oldEventData&&U.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;_.drawAnnotations(_)},S.recoverContext=function(){var _=this;_.glplot.dispose();var U=function(){if(_.glplot.gl.isContextLost()){requestAnimationFrame(U);return}if(!_.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}_.plot.apply(_,_.plotArgs)};requestAnimationFrame(U)};var m=["xaxis","yaxis","zaxis"];function E(_,U,F){for(var z=_.fullSceneLayout,B=0;B<3;B++){var N=m[B],V=N.charAt(0),W=z[N],Q=U[V],re=U[V+"calendar"],ne=U["_"+V+"length"];if(!p.isArrayOrTypedArray(Q))F[0][B]=Math.min(F[0][B],0),F[1][B]=Math.max(F[1][B],ne-1);else for(var fe,$=0;$<(ne||Q.length);$++)if(p.isArrayOrTypedArray(Q[$]))for(var X=0;X<Q[$].length;++X)fe=W.d2l(Q[$][X],0,re),!isNaN(fe)&&isFinite(fe)&&(F[0][B]=Math.min(F[0][B],fe),F[1][B]=Math.max(F[1][B],fe));else fe=W.d2l(Q[$],0,re),!isNaN(fe)&&isFinite(fe)&&(F[0][B]=Math.min(F[0][B],fe),F[1][B]=Math.max(F[1][B],fe))}}function b(_,U){for(var F=_.fullSceneLayout,z=F.annotations||[],B=0;B<3;B++)for(var N=m[B],V=N.charAt(0),W=F[N],Q=0;Q<z.length;Q++){var re=z[Q];if(re.visible){var ne=W.r2l(re[V]);!isNaN(ne)&&isFinite(ne)&&(U[0][B]=Math.min(U[0][B],ne),U[1][B]=Math.max(U[1][B],ne))}}}S.plot=function(_,U,F){var z=this;if(z.plotArgs=[_,U,F],!z.glplot.contextLost){var B,N,V,W,Q,re,ne=U[z.id],fe=F[z.id];z.fullLayout=U,z.fullSceneLayout=ne,z.axesOptions.merge(U,ne),z.spikeOptions.merge(ne),z.setViewport(ne),z.updateFx(ne.dragmode,ne.hovermode),z.camera.enableWheel=z.graphDiv._context._scrollZoom.gl3d,z.glplot.setClearColor(n(ne.bgcolor)),z.setConvert(Q),_?Array.isArray(_)||(_=[_]):_=[];var $=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(V=0;V<_.length;++V)B=_[V],!(B.visible!==!0||B._length===0)&&E(this,B,$);b(this,$);var X=[1,1,1];for(W=0;W<3;++W)$[1][W]===$[0][W]?X[W]=1:X[W]=1/($[1][W]-$[0][W]);for(z.dataScale=X,z.convertAnnotations(this),V=0;V<_.length;++V)B=_[V],!(B.visible!==!0||B._length===0)&&(N=z.traces[B.uid],N?N.data.type===B.type?N.update(B):(N.dispose(),N=B._module.plot(this,B),z.traces[B.uid]=N):(N=B._module.plot(this,B),z.traces[B.uid]=N),N.name=B.name);var oe=Object.keys(z.traces);e:for(V=0;V<oe.length;++V){for(W=0;W<_.length;++W)if(_[W].uid===oe[V]&&_[W].visible===!0&&_[W]._length!==0)continue e;N=z.traces[oe[V]],N.dispose(),delete z.traces[oe[V]]}z.glplot.objects.sort(function(dt,at){return dt._trace.data.index-at._trace.data.index});var Y=[[0,0,0],[0,0,0]],ee={};for(V=0;V<3;++V){Q=ne[m[V]],re=Q.type,re in ee?(ee[re].acc*=X[V],ee[re].count+=1):ee[re]={acc:X[V],count:1};var se;if(Q.autorange){Y[0][V]=1/0,Y[1][V]=-1/0;var q=z.glplot.objects,K=z.fullSceneLayout.annotations||[],le=Q._name.charAt(0);for(W=0;W<q.length;W++){var ie=q[W],he=ie.bounds,ye=ie._trace.data._pad||0;ie.constructor.name==="ErrorBars"&&Q._lowerLogErrorBound?Y[0][V]=Math.min(Y[0][V],Q._lowerLogErrorBound):Y[0][V]=Math.min(Y[0][V],he[0][V]/X[V]-ye),Y[1][V]=Math.max(Y[1][V],he[1][V]/X[V]+ye)}for(W=0;W<K.length;W++){var Ce=K[W];if(Ce.visible){var Ae=Q.r2l(Ce[le]);Y[0][V]=Math.min(Y[0][V],Ae),Y[1][V]=Math.max(Y[1][V],Ae)}}if("rangemode"in Q&&Q.rangemode==="tozero"&&(Y[0][V]=Math.min(Y[0][V],0),Y[1][V]=Math.max(Y[1][V],0)),Y[0][V]>Y[1][V])Y[0][V]=-1,Y[1][V]=1;else{var ke=Y[1][V]-Y[0][V];Y[0][V]-=ke/32,Y[1][V]+=ke/32}if(se=[Y[0][V],Y[1][V]],se=M(se,Q),Y[0][V]=se[0],Y[1][V]=se[1],Q.isReversed()){var we=Y[0][V];Y[0][V]=Y[1][V],Y[1][V]=we}}else se=Q.range,Y[0][V]=Q.r2l(se[0]),Y[1][V]=Q.r2l(se[1]);Y[0][V]===Y[1][V]&&(Y[0][V]-=1,Y[1][V]+=1),Q.range=[Y[0][V],Y[1][V]],Q.limitRange(),z.glplot.setBounds(V,{min:Q.range[0]*X[V],max:Q.range[1]*X[V]})}var Ee,xe=ne.aspectmode;if(xe==="cube")Ee=[1,1,1];else if(xe==="manual"){var Re=ne.aspectratio;Ee=[Re.x,Re.y,Re.z]}else if(xe==="auto"||xe==="data"){var Ve=[1,1,1];for(V=0;V<3;++V){Q=ne[m[V]],re=Q.type;var Ue=ee[re];Ve[V]=Math.pow(Ue.acc,1/Ue.count)/X[V]}xe==="data"||Math.max.apply(null,Ve)/Math.min.apply(null,Ve)<=4?Ee=Ve:Ee=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ne.aspectratio.x=fe.aspectratio.x=Ee[0],ne.aspectratio.y=fe.aspectratio.y=Ee[1],ne.aspectratio.z=fe.aspectratio.z=Ee[2],z.glplot.setAspectratio(ne.aspectratio),z.viewInitial.aspectratio||(z.viewInitial.aspectratio={x:ne.aspectratio.x,y:ne.aspectratio.y,z:ne.aspectratio.z}),z.viewInitial.aspectmode||(z.viewInitial.aspectmode=ne.aspectmode);var Be=ne.domain||null,Xe=U._size||null;if(Be&&Xe){var ut=z.container.style;ut.position="absolute",ut.left=Xe.l+Be.x[0]*Xe.w+"px",ut.top=Xe.t+(1-Be.y[1])*Xe.h+"px",ut.width=Xe.w*(Be.x[1]-Be.x[0])+"px",ut.height=Xe.h*(Be.y[1]-Be.y[0])+"px"}z.glplot.redraw()}},S.destroy=function(){var _=this;_.glplot&&(_.camera.mouseListener.enabled=!1,_.container.removeEventListener("wheel",_.camera.wheelListener),_.camera=null,_.glplot.dispose(),_.container.parentNode.removeChild(_.container),_.glplot=null)};function s(_){return[[_.eye.x,_.eye.y,_.eye.z],[_.center.x,_.center.y,_.center.z],[_.up.x,_.up.y,_.up.z]]}function L(_){return{up:{x:_.up[0],y:_.up[1],z:_.up[2]},center:{x:_.center[0],y:_.center[1],z:_.center[2]},eye:{x:_.eye[0],y:_.eye[1],z:_.eye[2]},projection:{type:_._ortho===!0?"orthographic":"perspective"}}}S.getCamera=function(){var _=this;return _.camera.view.recalcMatrix(_.camera.view.lastT()),L(_.camera)},S.setViewport=function(_){var U=this,F=_.camera;U.camera.lookAt.apply(this,s(F)),U.glplot.setAspectratio(_.aspectratio);var z=F.projection.type==="orthographic",B=U.camera._ortho;z!==B&&(U.glplot.redraw(),U.glplot.clearRGBA(),U.glplot.dispose(),U.initializeGLPlot())},S.isCameraChanged=function(_){var U=this,F=U.getCamera(),z=p.nestedProperty(_,U.id+".camera"),B=z.get();function N(re,ne,fe,$){var X=["up","center","eye"],oe=["x","y","z"];return ne[X[fe]]&&re[X[fe]][oe[$]]===ne[X[fe]][oe[$]]}var V=!1;if(B===void 0)V=!0;else{for(var W=0;W<3;W++)for(var Q=0;Q<3;Q++)if(!N(F,B,W,Q)){V=!0;break}(!B.projection||F.projection&&F.projection.type!==B.projection.type)&&(V=!0)}return V},S.isAspectChanged=function(_){var U=this,F=U.glplot.getAspectratio(),z=p.nestedProperty(_,U.id+".aspectratio"),B=z.get();return B===void 0||B.x!==F.x||B.y!==F.y||B.z!==F.z},S.saveLayout=function(_){var U=this,F=U.fullLayout,z,B,N,V,W,Q,re=U.isCameraChanged(_),ne=U.isAspectChanged(_),fe=re||ne;if(fe){var $={};if(re&&(z=U.getCamera(),B=p.nestedProperty(_,U.id+".camera"),N=B.get(),$[U.id+".camera"]=N),ne&&(V=U.glplot.getAspectratio(),W=p.nestedProperty(_,U.id+".aspectratio"),Q=W.get(),$[U.id+".aspectratio"]=Q),v.call("_storeDirectGUIEdit",_,F._preGUI,$),re){B.set(z);var X=p.nestedProperty(F,U.id+".camera");X.set(z)}if(ne){W.set(V);var oe=p.nestedProperty(F,U.id+".aspectratio");oe.set(V),U.glplot.redraw()}}return fe},S.updateFx=function(_,U){var F=this,z=F.camera;if(z)if(_==="orbit")z.mode="orbit",z.keyBindingMode="rotate";else if(_==="turntable"){z.up=[0,0,1],z.mode="turntable",z.keyBindingMode="rotate";var B=F.graphDiv,N=B._fullLayout,V=F.fullSceneLayout.camera,W=V.up.x,Q=V.up.y,re=V.up.z;if(re/Math.sqrt(W*W+Q*Q+re*re)<.999){var ne=F.id+".camera.up",fe={x:0,y:0,z:1},$={};$[ne]=fe;var X=B.layout;v.call("_storeDirectGUIEdit",X,N._preGUI,$),V.up=fe,p.nestedProperty(X,ne).set(fe)}}else z.keyBindingMode=_;F.fullSceneLayout.hovermode=U};function A(_,U,F){for(var z=0,B=F-1;z<B;++z,--B)for(var N=0;N<U;++N)for(var V=0;V<4;++V){var W=4*(U*z+N)+V,Q=4*(U*B+N)+V,re=_[W];_[W]=_[Q],_[Q]=re}}function k(_,U,F){for(var z=0;z<F;++z)for(var B=0;B<U;++B){var N=4*(U*z+B),V=_[N+3];if(V>0)for(var W=255/V,Q=0;Q<3;++Q)_[N+Q]=Math.min(W*_[N+Q],255)}}S.toImage=function(_){var U=this;_||(_="png"),U.staticMode&&U.container.appendChild(c),U.glplot.redraw();var F=U.glplot.gl,z=F.drawingBufferWidth,B=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var N=new Uint8Array(z*B*4);F.readPixels(0,0,z,B,F.RGBA,F.UNSIGNED_BYTE,N),A(N,z,B),k(N,z,B);var V=document.createElement("canvas");V.width=z,V.height=B;var W=V.getContext("2d",{willReadFrequently:!0}),Q=W.createImageData(z,B);Q.data.set(N),W.putImageData(Q,0,0);var re;switch(_){case"jpeg":re=V.toDataURL("image/jpeg");break;case"webp":re=V.toDataURL("image/webp");break;default:re=V.toDataURL("image/png")}return U.staticMode&&U.container.removeChild(c),re},S.setConvert=function(){for(var _=this,U=0;U<3;U++){var F=_.fullSceneLayout[m[U]];t.setConvert(F,_.fullLayout),F.setScale=p.noop}},S.make4thDimension=function(){var _=this,U=_.graphDiv,F=U._fullLayout;_._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(_._mockAxis,F)},H.exports=T},52094:function(H){H.exports=function(e,g,P,a){a=a||e.length;for(var x=new Array(a),w=0;w<a;w++)x[w]=[e[w],g[w],P[w]];return x}},64859:function(H,j,e){var g=e(25376),P=e(85656),a=e(22548),x=e(92872),w=e(34200),v=e(66741),p=e(92880).extendFlat,r=g({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=a.defaultLine,H.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:x.newshape,activeshape:x.activeshape,newselection:w.newselection,activeselection:w.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},47552:function(H,j,e){var g=e(95376),P="1.13.4",a='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',x=['© <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),w=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:x,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:x,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:w,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:w,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=g(p);H.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(H,j,e){var g=e(3400);H.exports=function(a,x){var w=a.split(" "),v=w[0],p=w[1],r=g.isArrayOrTypedArray(x)?g.mean(x):x,t=.5+r/100,i=1.5+r/100,n=["",""],u=[0,0];switch(v){case"top":n[0]="top",u[1]=-i;break;case"bottom":n[0]="bottom",u[1]=i;break}switch(p){case"left":n[1]="right",u[0]=-t;break;case"right":n[1]="left",u[0]=t;break}var f;return n[0]&&n[1]?f=n.join("-"):n[0]?f=n[0]:n[1]?f=n[1]:f="center",{anchor:f,offset:u}}},33688:function(H,j,e){var g=e(3480),P=e(3400),a=P.strTranslate,x=P.strScale,w=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),i=e(14440),n="mapbox",u=j.constants=e(47552);j.name=n,j.attr="subplot",j.idRoot=n,j.idRegex=j.attrRegex=P.counterRegex(n),j.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},j.layoutAttributes=e(5232),j.supplyLayoutDefaults=e(5976),j.plot=function(h){var M=h._fullLayout,c=h.calcdata,o=M._subplots[n];if(g.version!==u.requiredVersion)throw new Error(u.wrongVersionErrorMsg);var d=f(h,o);g.accessToken=d;for(var T=0;T<o.length;T++){var S=o[T],C=w(c,n,S),m=M[S],E=m._subplot;E||(E=new i(h,S),M[S]._subplot=E),E.viewInitial||(E.viewInitial={center:P.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),E.plot(C,M,h._promises)}},j.clean=function(y,h,M,c){for(var o=c._subplots[n]||[],d=0;d<o.length;d++){var T=o[d];!h[T]&&c[T]._subplot&&c[T]._subplot.destroy()}},j.toSVG=function(y){for(var h=y._fullLayout,M=h._subplots[n],c=h._size,o=0;o<M.length;o++){var d=h[M[o]],T=d.domain,S=d._subplot,C=S.toImage("png"),m=h._glimages.append("svg:image");m.attr({xmlns:v.svg,"xlink:href":C,x:c.l+c.w*T.x[0],y:c.t+c.h*(1-T.y[1]),width:c.w*(T.x[1]-T.x[0]),height:c.h*(T.y[1]-T.y[0]),preserveAspectRatio:"none"});var E=p.select(d._subplot.div),b=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!b){var s=h._glimages.append("g");s.attr("transform",a(c.l+c.w*T.x[0]+10,c.t+c.h*(1-T.y[0])-31)),s.append("path").attr("d",u.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",u.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",u.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",u.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var L=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),A=h._glimages.append("g"),k=A.append("text");k.text(L).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":L});var _=r.bBox(k.node()),U=c.w*(T.x[1]-T.x[0]);if(_.width>U/2){var F=L.split("|").join("<br>");k.text(F).attr("data-unformatted",F).call(t.convertToTspans,y),_=r.bBox(k.node())}k.attr("transform",a(-3,-_.height+8)),A.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var z=1;_.width+6>U&&(z=U/(_.width+6));var B=[c.l+c.w*T.x[1],c.t+c.h*(1-T.y[0])];A.attr("transform",a(B[0],B[1])+x(z))}};function f(y,h){var M=y._fullLayout,c=y._context;if(c.mapboxAccessToken==="")return"";for(var o=[],d=[],T=!1,S=!1,C=0;C<h.length;C++){var m=M[h[C]],E=m.accesstoken;l(m.style)&&(E?P.pushUnique(o,E):(l(m._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),T=!0),S=!0)),E&&P.pushUnique(d,E)}if(S){var b=T?u.noAccessTokenErrorMsg:u.missingStyleErrorMsg;throw P.error(b),new Error(b)}return o.length?(o.length>1&&P.warn(u.multipleTokensErrorMsg),o[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(y){return typeof y=="string"&&(u.styleValuesMapbox.indexOf(y)!==-1||y.indexOf("mapbox://")===0||y.indexOf("stamen")===0)}j.updateFx=function(y){for(var h=y._fullLayout,M=h._subplots[n],c=0;c<M.length;c++){var o=h[M[c]]._subplot;o.updateFx(h)}}},22360:function(H,j,e){var g=e(3400),P=e(72736).sanitizeHTML,a=e(89032),x=e(47552);function w(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=x.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=w.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(i){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},v.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},v.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(i){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var u=this.findFollowingMapboxLayerId(this.lookupBelow());u!==null&&this.subplot.map.moveLayer(this.idLayer,u)},v.updateSource=function(i){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,!!p(i)){var u=t(i);n.addSource(this.idSource,u)}},v.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var n=this.subplot.getMapLayers(),u=0;u<n.length;u++){var f=n[u].id;if(typeof f=="string"&&f.indexOf(x.traceLayerPrefix)===0){i=f;break}}return i},v.updateLayer=function(i){var n=this.subplot,u=r(i),f=this.lookupBelow(),l=this.findFollowingMapboxLayerId(f);this.removeLayer(),p(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:u.layout,paint:u.paint},l),this.layerType=i.type,this.below=f},v.updateStyle=function(i){if(p(i)){var n=r(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},v.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)};function p(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var u=0;u<n.length;u++)if(typeof n[u]!="string"||n[u].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(i){var n={},u={};switch(i.type){case"circle":g.extendFlat(u,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":g.extendFlat(u,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":g.extendFlat(u,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var f=i.symbol,l=a(f.textposition,f.iconsize);g.extendFlat(n,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":f.placement}),g.extendFlat(u,{"icon-color":i.color,"text-color":f.textfont.color,"text-opacity":i.opacity});break;case"raster":g.extendFlat(u,{"raster-fade-duration":0,"raster-opacity":i.opacity});break}return{layout:n,paint:u}}function t(i){var n=i.sourcetype,u=i.source,f={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof u=="string"?"url":"tiles":n==="raster"?(l="tiles",f.tileSize=256):n==="image"&&(l="url",f.coordinates=i.coordinates),f[l]=u,i.sourceattribution&&(f.attribution=P(i.sourceattribution)),f}H.exports=function(n,u,f){var l=new w(n,u);return l.update(f),l}},5232:function(H,j,e){var g=e(3400),P=e(76308).defaultLine,a=e(86968).u,x=e(25376),w=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=x({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var i=H.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:g.extendFlat({},w,{arrayOk:!1})}})},"plot","from-root");i.uirevision={valType:"any",editType:"none"}},5976:function(H,j,e){var g=e(3400),P=e(168),a=e(51272),x=e(5232);H.exports=function(r,t,i){P(r,t,i,{type:"mapbox",attributes:x,handleDefaults:w,partition:"y",accessToken:t._mapboxAccessToken})};function w(p,r,t,i){t("accesstoken",i.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),u=t("bounds.east"),f=t("bounds.south"),l=t("bounds.north");(n===void 0||u===void 0||f===void 0||l===void 0)&&delete r.bounds,a(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(y,h){return g.coerce(p,r,x.layers,y,h)}var i=t("visible");if(i){var n=t("sourcetype"),u=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var f;u&&(f="raster");var l=t("type",f);u&&l!=="raster"&&(l=r.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),g.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(H,j,e){var g=e(3480),P=e(3400),a=e(27144),x=e(24040),w=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,i=r.selectMode,n=e(22676).prepSelect,u=e(22676).clearOutline,f=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,y=e(47552),h=e(22360);function M(C,m){this.id=m,this.gd=C;var E=C._fullLayout,b=C._context;this.container=E._glcontainer.node(),this.isStatic=b.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=M.prototype;c.plot=function(C,m,E){var b=this,s=m[b.id];b.map&&s.accesstoken!==b.accessToken&&(b.map.remove(),b.map=null,b.styleObj=null,b.traceHash={},b.layerList=[]);var L;b.map?L=new Promise(function(A,k){b.updateMap(C,m,A,k)}):L=new Promise(function(A,k){b.createMap(C,m,A,k)}),E.push(L)},c.createMap=function(C,m,E,b){var s=this,L=m[s.id],A=s.styleObj=d(L.style,m);s.accessToken=L.accesstoken;var k=L.bounds,_=k?[[k.west,k.south],[k.east,k.north]]:null,U=s.map=new g.Map({container:s.div,style:A.style,center:S(L.center),zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,maxBounds:_,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",s.rejectOnError(b),s.isStatic||s.initFx(C,m);var F=[];F.push(new Promise(function(z){U.once("load",z)})),F=F.concat(a.fetchTraceGeoData(C)),Promise.all(F).then(function(){s.fillBelowLookup(C,m),s.updateData(C),s.updateLayout(m),s.resolveOnRender(E)}).catch(b)},c.updateMap=function(C,m,E,b){var s=this,L=s.map,A=m[this.id];s.rejectOnError(b);var k=[],_=d(A.style,m);JSON.stringify(s.styleObj)!==JSON.stringify(_)&&(s.styleObj=_,L.setStyle(_.style),s.traceHash={},k.push(new Promise(function(U){L.once("styledata",U)}))),k=k.concat(a.fetchTraceGeoData(C)),Promise.all(k).then(function(){s.fillBelowLookup(C,m),s.updateData(C),s.updateLayout(m),s.resolveOnRender(E)}).catch(b)},c.fillBelowLookup=function(C,m){var E=m[this.id],b=E.layers,s,L,A=this.belowLookup={},k=!1;for(s=0;s<C.length;s++){var _=C[s][0].trace,U=_._module;typeof _.below=="string"?L=_.below:U.getBelow&&(L=U.getBelow(_,this)),L===""&&(k=!0),A["trace-"+_.uid]=L||""}for(s=0;s<b.length;s++){var F=b[s];typeof F.below=="string"?L=F.below:k?L="traces":L="",A["layout-"+s]=L}var z={},B,N;for(B in A)L=A[B],z[L]?z[L].push(B):z[L]=[B];for(L in z){var V=z[L];if(V.length>1)for(s=0;s<V.length;s++)B=V[s],B.indexOf("trace-")===0?(N=B.split("trace-")[1],this.traceHash[N]&&(this.traceHash[N].below=null)):B.indexOf("layout-")===0&&(N=B.split("layout-")[1],this.layerList[N]&&(this.layerList[N].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(C){var m=this.traceHash,E,b,s,L,A=C.slice().sort(function(z,B){return o[z[0].trace.type]-o[B[0].trace.type]});for(s=0;s<A.length;s++){var k=A[s];b=k[0].trace,E=m[b.uid];var _=!1;E&&(E.type===b.type?(E.update(k),_=!0):E.dispose()),!_&&b._module&&(m[b.uid]=b._module.plot(this,k))}var U=Object.keys(m);e:for(s=0;s<U.length;s++){var F=U[s];for(L=0;L<C.length;L++)if(b=C[L][0].trace,F===b.uid)continue e;E=m[F],E.dispose(),delete m[F]}},c.updateLayout=function(C){var m=this.map,E=C[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(S(E.center)),m.setZoom(E.zoom),m.setBearing(E.bearing),m.setPitch(E.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},c.resolveOnRender=function(C){var m=this.map;m.on("render",function E(){m.loaded()&&(m.off("render",E),setTimeout(C,10))})},c.rejectOnError=function(C){var m=this.map;function E(){C(new Error(y.mapOnErrorMsg))}m.once("error",E),m.once("style.error",E),m.once("source.error",E),m.once("tile.error",E),m.once("layer.error",E)},c.createFramework=function(C){var m=this,E=m.div=document.createElement("div");E.id=m.uid,E.style.position="absolute",m.container.appendChild(E),m.xaxis={_id:"x",c2p:function(b){return m.project(b).x}},m.yaxis={_id:"y",c2p:function(b){return m.project(b).y}},m.updateFramework(C),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},w.setConvert(m.mockAxis,C)},c.initFx=function(C,m){var E=this,b=E.gd,s=E.map;s.on("moveend",function(k){if(E.map){var _=b._fullLayout;if(k.originalEvent||E.wheeling){var U=_[E.id];x.call("_storeDirectGUIEdit",b.layout,_._preGUI,E.getViewEdits(U));var F=E.getView();U._input.center=U.center=F.center,U._input.zoom=U.zoom=F.zoom,U._input.bearing=U.bearing=F.bearing,U._input.pitch=U.pitch=F.pitch,b.emit("plotly_relayout",E.getViewEditsWithDerived(F))}k.originalEvent&&k.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),_._rehover&&_._rehover()}}),s.on("wheel",function(){E.wheeling=!0}),s.on("mousemove",function(k){var _=E.div.getBoundingClientRect(),U=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return _},E.xaxis.p2c=function(){return s.unproject(U).lng},E.yaxis.p2c=function(){return s.unproject(U).lat},b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===E.id&&b._fullLayout[E.id]&&p.hover(b,k,E.id)},p.hover(b,k,E.id),b._fullLayout._hoversubplot=E.id});function L(){p.loneUnhover(m._hoverlayer)}s.on("dragstart",function(){E.dragging=!0,L()}),s.on("zoomstart",L),s.on("mouseout",function(){b._fullLayout._hoversubplot=null});function A(){var k=E.getView();b.emit("plotly_relayouting",E.getViewEditsWithDerived(k))}s.on("drag",A),s.on("zoom",A),s.on("dblclick",function(){var k=b._fullLayout[E.id];x.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,E.getViewEdits(k));var _=E.viewInitial;s.setCenter(S(_.center)),s.setZoom(_.zoom),s.setBearing(_.bearing),s.setPitch(_.pitch);var U=E.getView();k._input.center=k.center=U.center,k._input.zoom=k.zoom=U.zoom,k._input.bearing=k.bearing=U.bearing,k._input.pitch=k.pitch=U.pitch,b.emit("plotly_doubleclick",null),b.emit("plotly_relayout",E.getViewEditsWithDerived(U))}),E.clearOutline=function(){f(E.dragOptions),u(E.dragOptions.gd)},E.onClickInPanFn=function(k){return function(_){var U=b._fullLayout.clickmode;U.indexOf("select")>-1&&l(_.originalEvent,b,[E.xaxis],[E.yaxis],E.id,k),U.indexOf("event")>-1&&p.click(b,_.originalEvent)}}},c.updateFx=function(C){var m=this,E=m.map,b=m.gd;if(m.isStatic)return;function s(_){var U=m.map.unproject(_);return[U.lng,U.lat]}var L=C.dragmode,A;A=function(_,U){if(U.isRect){var F=_.range={};F[m.id]=[s([U.xmin,U.ymin]),s([U.xmax,U.ymax])]}else{var z=_.lassoPoints={};z[m.id]=U.map(s)}};var k=m.dragOptions;m.dragOptions=P.extendDeep(k||{},{dragmode:C.dragmode,element:m.div,gd:b,plotinfo:{id:m.id,domain:C[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:A},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),E.off("click",m.onClickInPanHandler),i(L)||t(L)?(E.dragPan.disable(),E.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(_,U,F){n(_,U,F,m.dragOptions,L)},v.init(m.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),E.on("click",m.onClickInPanHandler))},c.updateFramework=function(C){var m=C[this.id].domain,E=C._size,b=this.div.style;b.width=E.w*(m.x[1]-m.x[0])+"px",b.height=E.h*(m.y[1]-m.y[0])+"px",b.left=E.l+m.x[0]*E.w+"px",b.top=E.t+(1-m.y[1])*E.h+"px",this.xaxis._offset=E.l+m.x[0]*E.w,this.xaxis._length=E.w*(m.x[1]-m.x[0]),this.yaxis._offset=E.t+(1-m.y[1])*E.h,this.yaxis._length=E.h*(m.y[1]-m.y[0])},c.updateLayers=function(C){var m=C[this.id],E=m.layers,b=this.layerList,s;if(E.length!==b.length){for(s=0;s<b.length;s++)b[s].dispose();for(b=this.layerList=[],s=0;s<E.length;s++)b.push(h(this,s,E[s]))}else for(s=0;s<E.length;s++)b[s].update(E[s])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(C,m,E){for(var b in E)this.map[m](C,b,E[b])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(C,m){var E=this.map;if(typeof m=="string"){if(m===""){E.addLayer(C,m);return}for(var b=this.getMapLayers(),s=0;s<b.length;s++)if(m===b[s].id){E.addLayer(C,m);return}P.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(C)},c.project=function(C){return this.map.project(new g.LngLat(C[0],C[1]))},c.getView=function(){var C=this.map,m=C.getCenter(),E=m.lng,b=m.lat,s={lon:E,lat:b},L=C.getCanvas(),A=parseInt(L.style.width),k=parseInt(L.style.height);return{center:s,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([A,0]).toArray(),C.unproject([A,k]).toArray(),C.unproject([0,k]).toArray()]}}},c.getViewEdits=function(C){for(var m=this.id,E=["center","zoom","bearing","pitch"],b={},s=0;s<E.length;s++){var L=E[s];b[m+"."+L]=C[L]}return b},c.getViewEditsWithDerived=function(C){var m=this.id,E=this.getViewEdits(C);return E[m+"._derived"]=C._derived,E};function d(C,m){var E={};if(P.isPlainObject(C))E.id=C.id,E.style=C;else if(typeof C=="string")if(E.id=C,y.styleValuesMapbox.indexOf(C)!==-1)E.style=T(C);else if(y.stylesNonMapbox[C]){E.style=y.stylesNonMapbox[C];var b=E.style.sources["plotly-"+C],s=b?b.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=m._mapboxAccessToken)}else E.style=C;else E.id=y.styleValueDflt,E.style=T(y.styleValueDflt);return E.transition={duration:0,delay:0},E}function T(C){return y.styleUrlPrefix+C+"-"+y.styleUrlSuffix}function S(C){return[C.lon,C.lat]}H.exports=M},66741:function(H){H.exports=function(j){var e=j.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(H,j,e){var g=e(33428),P=e(94336).m_,a=e(57624).SO,x=e(38248),w=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),i=e(76308),n=e(39032).BADNUM,u=e(79811),f=e(1936).clearOutline,l=e(55308),y=e(85656),h=e(16672),M=e(84888)._M,c=t.relinkPrivateKeys,o=t._,d=H.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859),d.fontWeight="normal";var T=d.transformsRegistry,S=e(62460);d.executeAPICommand=S.executeAPICommand,d.computeAPICommandBindings=S.computeAPICommandBindings,d.manageCommandObserver=S.manageCommandObserver,d.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,d.redrawText=function(Y){return Y=t.getGraphDiv(Y),new Promise(function(ee){setTimeout(function(){Y._fullLayout&&(v.getComponentMethod("annotations","draw")(Y),v.getComponentMethod("legend","draw")(Y),v.getComponentMethod("colorbar","draw")(Y),ee(d.previousPromises(Y)))},300)})},d.resize=function(Y){Y=t.getGraphDiv(Y);var ee,se=new Promise(function(q,K){(!Y||t.isHidden(Y))&&K(new Error("Resize must be passed a displayed plot div element.")),Y._redrawTimer&&clearTimeout(Y._redrawTimer),Y._resolveResize&&(ee=Y._resolveResize),Y._resolveResize=q,Y._redrawTimer=setTimeout(function(){if(!Y.layout||Y.layout.width&&Y.layout.height||t.isHidden(Y)){q(Y);return}delete Y.layout.width,delete Y.layout.height;var le=Y.changed;Y.autoplay=!0,v.call("relayout",Y,{autosize:!0}).then(function(){Y.changed=le,Y._resolveResize===q&&(delete Y._resolveResize,q(Y))})},100)});return ee&&ee(se),se},d.previousPromises=function(Y){if((Y._promises||[]).length)return Promise.all(Y._promises).then(function(){Y._promises=[]})},d.addLinks=function(Y){if(!(!Y._context.showLink&&!Y._context.showSources)){var ee=Y._fullLayout,se=t.ensureSingle(ee._paper,"text","js-plot-link-container",function(ye){ye.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var Ce=g.select(this);Ce.append("tspan").classed("js-link-to-tool",!0),Ce.append("tspan").classed("js-link-spacer",!0),Ce.append("tspan").classed("js-sourcelinks",!0)})}),q=se.node(),K={y:ee._paper.attr("height")-9};document.body.contains(q)&&q.getComputedTextLength()>=ee.width-20?(K["text-anchor"]="start",K.x=5):(K["text-anchor"]="end",K.x=ee._paper.attr("width")-7),se.attr(K);var le=se.select(".js-link-to-tool"),ie=se.select(".js-link-spacer"),he=se.select(".js-sourcelinks");Y._context.showSources&&Y._context.showSources(Y),Y._context.showLink&&C(Y,le),ie.text(le.text()&&he.text()?" - ":"")}};function C(Y,ee){ee.text("");var se=ee.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Y._context.linkText+" "+String.fromCharCode(187));if(Y._context.sendData)se.on("click",function(){d.sendDataToCloud(Y)});else{var q=window.location.pathname.split("/"),K=window.location.search;se.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+q[2].split(".")[0]+"/"+q[1]+K})}}d.sendDataToCloud=function(Y){var ee=(window.PLOTLYENV||{}).BASE_URL||Y._context.plotlyServerURL;if(ee){Y.emit("plotly_beforeexport");var se=g.select(Y).append("div").attr("id","hiddenform").style("display","none"),q=se.append("form").attr({action:ee+"/external",method:"post",target:"_blank"}),K=q.append("input").attr({type:"text",name:"data"});return K.node().value=d.graphJson(Y,!1,"keepdata"),q.node().submit(),se.remove(),Y.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(Y,ee){var se=ee&&ee.skipUpdateCalc,q=Y._fullLayout||{};if(q._skipDefaults){delete q._skipDefaults;return}var K=Y._fullLayout={},le=Y.layout||{},ie=Y._fullData||[],he=Y._fullData=[],ye=Y.data||[],Ce=Y.calcdata||[],Ae=Y._context||{},ke;Y._transitionData||d.createTransitionData(Y),K._dfltTitle={plot:o(Y,"Click to enter Plot title"),x:o(Y,"Click to enter X axis title"),y:o(Y,"Click to enter Y axis title"),colorbar:o(Y,"Click to enter Colorscale title"),annotation:o(Y,"new text")},K._traceWord=o(Y,"trace");var we=L(Y,m);if(K._mapboxAccessToken=Ae.mapboxAccessToken,q._initialAutoSizeIsDone){var Ee=q.width,xe=q.height;d.supplyLayoutGlobalDefaults(le,K,we),le.width||(K.width=Ee),le.height||(K.height=xe),d.sanitizeMargins(K)}else{d.supplyLayoutGlobalDefaults(le,K,we);var Re=!le.width||!le.height,Ve=K.autosize,Ue=Ae.autosizable,Be=Re&&(Ve||Ue);Be?d.plotAutoSize(Y,le,K):Re&&d.sanitizeMargins(K),!Ve&&Re&&(le.width=K.width,le.height=K.height)}K._d3locale=A(we,K.separators),K._extraFormat=L(Y,E),K._initialAutoSizeIsDone=!0,K._dataLength=ye.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var Xe=K._subplots=s(),ut=K._splomAxes={x:{},y:{}},dt=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=b(ie,ye),K._globalTransforms=(Y._context||{}).globalTransforms,d.supplyDataDefaults(ye,he,le,K);var at=Object.keys(ut.x),We=Object.keys(ut.y);if(at.length>1&&We.length>1){for(v.getComponentMethod("grid","sizeDefaults")(le,K),ke=0;ke<at.length;ke++)t.pushUnique(Xe.xaxis,at[ke]);for(ke=0;ke<We.length;ke++)t.pushUnique(Xe.yaxis,We[ke]);for(var rt in dt)t.pushUnique(Xe.cartesian,rt)}if(K._has=d._hasPlotType.bind(K),ie.length===he.length)for(ke=0;ke<he.length;ke++)c(he[ke],ie[ke]);d.supplyLayoutModuleDefaults(le,K,he,Y._transitionData);var st=K._visibleModules,ht=[];for(ke=0;ke<st.length;ke++){var vt=st[ke].crossTraceDefaults;vt&&t.pushUnique(ht,vt)}for(ke=0;ke<ht.length;ke++)ht[ke](he,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&at.length>15&&We.length>15&&K.shapes.length===0&&K.images.length===0,d.linkSubplots(he,K,ie,q),d.cleanPlot(he,K,ie,q);var At=!!(q._has&&q._has("gl2d")),tt=!!(K._has&&K._has("gl2d")),_e=!!(q._has&&q._has("cartesian")),je=!!(K._has&&K._has("cartesian")),Ke=_e||At,He=je||tt;Ke&&!He?q._bgLayer.remove():He&&!Ke&&(K._shouldCreateBgLayer=!0),q._zoomlayer&&!Y._dragging&&f({_fullLayout:q}),k(he,K),c(K,q),v.getComponentMethod("colorscale","crossTraceDefaults")(he,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var Ie=K._tracePreGUI,be={},me;for(me in Ie)be[me]="old";for(ke=0;ke<he.length;ke++)me=he[ke]._fullInput.uid,be[me]||(Ie[me]={}),be[me]="new";for(me in be)be[me]==="old"&&delete Ie[me];B(K),v.getComponentMethod("rangeslider","makeData")(K),!se&&Ce.length===he.length&&d.supplyDefaultsUpdateCalc(Ce,he)},d.supplyDefaultsUpdateCalc=function(Y,ee){for(var se=0;se<ee.length;se++){var q=ee[se],K=(Y[se]||[])[0];if(K&&K.trace){var le=K.trace;if(le._hasCalcTransform){var ie=le._arrayAttrs,he,ye,Ce;for(he=0;he<ie.length;he++)ye=ie[he],Ce=t.nestedProperty(le,ye).get().slice(),t.nestedProperty(q,ye).set(Ce)}K.trace=q}}};function b(Y,ee){var se=ee.length,q=[],K,le;for(K=0;K<Y.length;K++){var ie=Y[K]._fullInput;ie!==le&&q.push(ie),le=ie}var he=q.length,ye=new Array(se),Ce={};function Ae(Ee,xe){ye[xe]=Ee,Ce[Ee]=1}function ke(Ee,xe){if(Ee&&typeof Ee=="string"&&!Ce[Ee])return Ae(Ee,xe),!0}for(K=0;K<se;K++){var we=ee[K].uid;typeof we=="number"&&(we=String(we)),!ke(we,K)&&(K<he&&ke(q[K].uid,K)||Ae(t.randstr(Ce),K))}return ye}function s(){var Y=v.collectableSubplotTypes,ee={},se,q;if(!Y){Y=[];var K=v.subplotsRegistry;for(var le in K){var ie=K[le],he=ie.attr;if(he&&(Y.push(le),Array.isArray(he)))for(q=0;q<he.length;q++)t.pushUnique(Y,he[q])}}for(se=0;se<Y.length;se++)ee[Y[se]]=[];return ee}function L(Y,ee){var se=Y._context.locale;se||(se="en-US");var q=!1,K={};function le(ke){for(var we=!0,Ee=0;Ee<ee.length;Ee++){var xe=ee[Ee];K[xe]||(ke[xe]?K[xe]=ke[xe]:we=!1)}we&&(q=!0)}for(var ie=0;ie<2;ie++){for(var he=Y._context.locales,ye=0;ye<2;ye++){var Ce=(he[se]||{}).format;if(Ce&&(le(Ce),q))break;he=v.localeRegistry}var Ae=se.split("-")[0];if(q||Ae===se)break;se=Ae}return q||le(v.localeRegistry.en.format),K}function A(Y,ee){return Y.decimal=ee.charAt(0),Y.thousands=ee.charAt(1),{numberFormat:function(se){try{se=a(Y).format(t.adjustFormat(se))}catch{return t.warnBadFormat(se),t.noFormat}return se},timeFormat:P(Y).utcFormat}}function k(Y,ee){var se,q=[];ee.meta&&(se=ee._meta={meta:ee.meta,layout:{meta:ee.meta}});for(var K=0;K<Y.length;K++){var le=Y[K];le.meta?q[le.index]=le._meta={meta:le.meta}:ee.meta&&(le._meta={meta:ee.meta}),ee.meta&&(le._meta.layout={meta:ee.meta})}q.length&&(se||(se=ee._meta={}),se.data=q)}d.createTransitionData=function(Y){Y._transitionData||(Y._transitionData={}),Y._transitionData._frames||(Y._transitionData._frames=[]),Y._transitionData._frameHash||(Y._transitionData._frameHash={}),Y._transitionData._counter||(Y._transitionData._counter=0),Y._transitionData._interruptCallbacks||(Y._transitionData._interruptCallbacks=[])},d._hasPlotType=function(Y){var ee,se=this._basePlotModules||[];for(ee=0;ee<se.length;ee++)if(se[ee].name===Y)return!0;var q=this._modules||[];for(ee=0;ee<q.length;ee++){var K=q[ee].name;if(K===Y)return!0;var le=v.modules[K];if(le&&le.categories[Y])return!0}return!1},d.cleanPlot=function(Y,ee,se,q){var K,le,ie=q._basePlotModules||[];for(K=0;K<ie.length;K++){var he=ie[K];he.clean&&he.clean(Y,ee,se,q)}var ye=q._has&&q._has("gl"),Ce=ee._has&&ee._has("gl");ye&&!Ce&&q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.selectAll(".no-webgl").remove(),q._glcanvas=null);var Ae=!!q._infolayer;e:for(K=0;K<se.length;K++){var ke=se[K],we=ke.uid;for(le=0;le<Y.length;le++){var Ee=Y[le];if(we===Ee.uid)continue e}Ae&&q._infolayer.select(".cb"+we).remove()}},d.linkSubplots=function(Y,ee,se,q){var K,le,ie=q._plots||{},he=ee._plots={},ye=ee._subplots,Ce={_fullData:Y,_fullLayout:ee},Ae=ye.cartesian.concat(ye.gl2d||[]);for(K=0;K<Ae.length;K++){var ke=Ae[K],we=ie[ke],Ee=u.getFromId(Ce,ke,"x"),xe=u.getFromId(Ce,ke,"y"),Re;for(we?Re=he[ke]=we:(Re=he[ke]={},Re.id=ke),Ee._counterAxes.push(xe._id),xe._counterAxes.push(Ee._id),Ee._subplotsWith.push(ke),xe._subplotsWith.push(ke),Re.xaxis=Ee,Re.yaxis=xe,Re._hasClipOnAxisFalse=!1,le=0;le<Y.length;le++){var Ve=Y[le];if(Ve.xaxis===Re.xaxis._id&&Ve.yaxis===Re.yaxis._id&&Ve.cliponaxis===!1){Re._hasClipOnAxisFalse=!0;break}}}var Ue=u.list(Ce,null,!0),Be;for(K=0;K<Ue.length;K++){Be=Ue[K];var Xe=null;Be.overlaying&&(Xe=u.getFromId(Ce,Be.overlaying),Xe&&Xe.overlaying&&(Be.overlaying=!1,Xe=null)),Be._mainAxis=Xe||Be,Xe&&(Be.domain=Xe.domain.slice()),Be._anchorAxis=Be.anchor==="free"?null:u.getFromId(Ce,Be.anchor)}for(K=0;K<Ue.length;K++)if(Be=Ue[K],Be._counterAxes.sort(u.idSort),Be._subplotsWith.sort(t.subplotSort),Be._mainSubplot=_(Be,ee),Be._counterAxes.length&&(Be.spikemode&&Be.spikemode.indexOf("across")!==-1||Be.automargin&&Be.mirror&&Be.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Be))){var ut=1,dt=0;for(le=0;le<Be._counterAxes.length;le++){var at=u.getFromId(Ce,Be._counterAxes[le]);ut=Math.min(ut,at.domain[0]),dt=Math.max(dt,at.domain[1])}ut<dt&&(Be._counterDomainMin=ut,Be._counterDomainMax=dt)}};function _(Y,ee){var se={_fullLayout:ee},q=Y._id.charAt(0)==="x",K=Y._mainAxis._anchorAxis,le="",ie="",he="";if(K&&(he=K._mainAxis._id,le=q?Y._id+he:he+Y._id),!le||!ee._plots[le]){le="";for(var ye=Y._counterAxes,Ce=0;Ce<ye.length;Ce++){var Ae=ye[Ce],ke=q?Y._id+Ae:Ae+Y._id;ie||(ie=ke);var we=u.getFromId(se,Ae);if(he&&we.overlaying===he){le=ke;break}}}return le||ie}d.clearExpandedTraceDefaultColors=function(Y){var ee,se,q;function K(ie,he,ye,Ce){se[Ce]=he,se.length=Ce+1,ie.valType==="color"&&ie.dflt===void 0&&ee.push(se.join("."))}for(se=[],ee=Y._module._colorAttrs,ee||(Y._module._colorAttrs=ee=[],p.crawl(Y._module.attributes,K)),q=0;q<ee.length;q++){var le=t.nestedProperty(Y,"_input."+ee[q]);le.get()||t.nestedProperty(Y,ee[q]).set(null)}},d.supplyDataDefaults=function(Y,ee,se,q){var K=q._modules,le=q._visibleModules,ie=q._basePlotModules,he=0,ye=0,Ce,Ae,ke;q._transformModules=[];function we(We){ee.push(We);var rt=We._module;rt&&(t.pushUnique(K,rt),We.visible===!0&&t.pushUnique(le,rt),t.pushUnique(ie,We._module.basePlotModule),he++,We._input.visible!==!1&&ye++)}var Ee={},xe=[],Re=(se.template||{}).data||{},Ve=r.traceTemplater(Re);for(Ce=0;Ce<Y.length;Ce++){if(ke=Y[Ce],Ae=Ve.newTrace(ke),Ae.uid=q._traceUids[Ce],d.supplyTraceDefaults(ke,Ae,ye,q,Ce),Ae.index=Ce,Ae._input=ke,Ae._expandedIndex=he,Ae.transforms&&Ae.transforms.length)for(var Ue=ke.visible!==!1&&Ae.visible===!1,Be=F(Ae,ee,se,q),Xe=0;Xe<Be.length;Xe++){var ut=Be[Xe],dt={_template:Ae._template,type:Ae.type,uid:Ae.uid+Xe};Ue&&ut.visible===!1&&delete ut.visible,d.supplyTraceDefaults(ut,dt,he,q,Ce),c(dt,ut),dt.index=Ce,dt._input=ke,dt._fullInput=Ae,dt._expandedIndex=he,dt._expandedInput=ut,we(dt)}else Ae._fullInput=Ae,Ae._expandedInput=Ae,we(Ae);v.traceIs(Ae,"carpetAxis")&&(Ee[Ae.carpet]=Ae),v.traceIs(Ae,"carpetDependent")&&xe.push(Ce)}for(Ce=0;Ce<xe.length;Ce++)if(Ae=ee[xe[Ce]],!!Ae.visible){var at=Ee[Ae.carpet];if(Ae._carpet=at,!at||!at.visible){Ae.visible=!1;continue}Ae.xaxis=at.xaxis,Ae.yaxis=at.yaxis}},d.supplyAnimationDefaults=function(Y){Y=Y||{};var ee,se={};function q(K,le){return t.coerce(Y||{},se,y,K,le)}if(q("mode"),q("direction"),q("fromcurrent"),Array.isArray(Y.frame))for(se.frame=[],ee=0;ee<Y.frame.length;ee++)se.frame[ee]=d.supplyAnimationFrameDefaults(Y.frame[ee]||{});else se.frame=d.supplyAnimationFrameDefaults(Y.frame||{});if(Array.isArray(Y.transition))for(se.transition=[],ee=0;ee<Y.transition.length;ee++)se.transition[ee]=d.supplyAnimationTransitionDefaults(Y.transition[ee]||{});else se.transition=d.supplyAnimationTransitionDefaults(Y.transition||{});return se},d.supplyAnimationFrameDefaults=function(Y){var ee={};function se(q,K){return t.coerce(Y||{},ee,y.frame,q,K)}return se("duration"),se("redraw"),ee},d.supplyAnimationTransitionDefaults=function(Y){var ee={};function se(q,K){return t.coerce(Y||{},ee,y.transition,q,K)}return se("duration"),se("easing"),ee},d.supplyFrameDefaults=function(Y){var ee={};function se(q,K){return t.coerce(Y,ee,h,q,K)}return se("group"),se("name"),se("traces"),se("baseframe"),se("data"),se("layout"),ee},d.supplyTraceDefaults=function(Y,ee,se,q,K){var le=q.colorway||i.defaults,ie=le[se%le.length],he;function ye(Xe,ut){return t.coerce(Y,ee,d.attributes,Xe,ut)}var Ce=ye("visible");ye("type"),ye("name",q._traceWord+" "+K),ye("uirevision",q.uirevision);var Ae=d.getModule(ee);if(ee._module=Ae,Ae){var ke=Ae.basePlotModule,we=ke.attr,Ee=ke.attributes;if(we&&Ee){var xe=q._subplots,Re="";if(Ce||ke.name!=="gl2d"){if(Array.isArray(we))for(he=0;he<we.length;he++){var Ve=we[he],Ue=t.coerce(Y,ee,Ee,Ve);xe[Ve]&&t.pushUnique(xe[Ve],Ue),Re+=Ue}else Re=t.coerce(Y,ee,Ee,we);xe[ke.name]&&t.pushUnique(xe[ke.name],Re)}}}if(Ce){if(ye("customdata"),ye("ids"),ye("meta"),v.traceIs(ee,"showLegend")?(t.coerce(Y,ee,Ae.attributes.showlegend?Ae.attributes:d.attributes,"showlegend"),ye("legend"),ye("legendwidth"),ye("legendgroup"),ye("legendgrouptitle.text"),ye("legendrank"),ee._dfltShowLegend=!0):ee._dfltShowLegend=!1,Ae&&Ae.supplyDefaults(Y,ee,ie,q),v.traceIs(ee,"noOpacity")||ye("opacity"),v.traceIs(ee,"notLegendIsolatable")&&(ee.visible=!!ee.visible),v.traceIs(ee,"noHover")||(ee.hovertemplate||t.coerceHoverinfo(Y,ee,q),ee.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(Y,ee,ie,q)),Ae&&Ae.selectPoints){var Be=ye("selectedpoints");t.isTypedArray(Be)&&(ee.selectedpoints=Array.from(Be))}d.supplyTransformDefaults(Y,ee,q)}return ee};function U(Y){var ee=Y.transforms;if(Array.isArray(ee)&&ee.length)for(var se=0;se<ee.length;se++){var q=ee[se],K=q._module||T[q.type];if(K&&K.makesData)return!0}return!1}d.hasMakesDataTransform=U,d.supplyTransformDefaults=function(Y,ee,se){if(ee._length||U(Y)){var q=se._globalTransforms||[],K=se._transformModules||[];if(!(!Array.isArray(Y.transforms)&&q.length===0))for(var le=Y.transforms||[],ie=q.concat(le),he=ee.transforms=[],ye=0;ye<ie.length;ye++){var Ce=ie[ye],Ae=Ce.type,ke=T[Ae],we,Ee=!(Ce._module&&Ce._module===ke),xe=ke&&typeof ke.transform=="function";ke||t.warn("Unrecognized transform type "+Ae+"."),ke&&ke.supplyDefaults&&(Ee||xe)?(we=ke.supplyDefaults(Ce,ee,se,Y),we.type=Ae,we._module=ke,t.pushUnique(K,ke)):we=t.extendFlat({},Ce),he.push(we)}}};function F(Y,ee,se,q){for(var K=Y.transforms,le=[Y],ie=0;ie<K.length;ie++){var he=K[ie],ye=T[he.type];ye&&ye.transform&&(le=ye.transform(le,{transform:he,fullTrace:Y,fullData:ee,layout:se,fullLayout:q,transformIndex:ie}))}return le}d.supplyLayoutGlobalDefaults=function(Y,ee,se){function q(ke,we){return t.coerce(Y,ee,d.layoutAttributes,ke,we)}var K=Y.template;t.isPlainObject(K)&&(ee.template=K,ee._template=K.layout,ee._dataTemplate=K.data),q("autotypenumbers");var le=t.coerceFont(q,"font"),ie=le.size;t.coerceFont(q,"title.font",t.extendFlat({},le,{size:Math.round(ie*1.4)})),q("title.text",ee._dfltTitle.plot),q("title.xref");var he=q("title.yref");q("title.pad.t"),q("title.pad.r"),q("title.pad.b"),q("title.pad.l");var ye=q("title.automargin");q("title.x"),q("title.xanchor"),q("title.y"),q("title.yanchor"),ye&&(he==="paper"&&(ee.title.y!==0&&(ee.title.y=1),ee.title.yanchor==="auto"&&(ee.title.yanchor=ee.title.y===0?"top":"bottom")),he==="container"&&(ee.title.y==="auto"&&(ee.title.y=1),ee.title.yanchor==="auto"&&(ee.title.yanchor=ee.title.y<.5?"bottom":"top")));var Ce=q("uniformtext.mode");Ce&&q("uniformtext.minsize"),q("autosize",!(Y.width&&Y.height)),q("width"),q("height"),q("minreducedwidth"),q("minreducedheight"),q("margin.l"),q("margin.r"),q("margin.t"),q("margin.b"),q("margin.pad"),q("margin.autoexpand"),Y.width&&Y.height&&d.sanitizeMargins(ee),v.getComponentMethod("grid","sizeDefaults")(Y,ee),q("paper_bgcolor"),q("separators",se.decimal+se.thousands),q("hidesources"),q("colorway"),q("datarevision");var Ae=q("uirevision");q("editrevision",Ae),q("selectionrevision",Ae),v.getComponentMethod("modebar","supplyLayoutDefaults")(Y,ee),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Y,ee,q),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Y,ee,q),q("meta"),t.isPlainObject(Y.transition)&&(q("transition.duration"),q("transition.easing"),q("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(Y,ee,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Y,ee,q),t.coerce(Y,ee,l,"scattermode")};function z(Y){return typeof Y=="string"&&Y.substr(Y.length-2)==="px"&&parseFloat(Y)}d.plotAutoSize=function(ee,se,q){var K=ee._context||{},le=K.frameMargins,ie,he,ye=t.isPlotDiv(ee);if(ye&&ee.emit("plotly_autosize"),K.fillFrame)ie=window.innerWidth,he=window.innerHeight,document.body.style.overflow="hidden";else{var Ce=ye?window.getComputedStyle(ee):{};if(ie=z(Ce.width)||z(Ce.maxWidth)||q.width,he=z(Ce.height)||z(Ce.maxHeight)||q.height,x(le)&&le>0){var Ae=1-2*le;ie=Math.round(Ae*ie),he=Math.round(Ae*he)}}var ke=d.layoutAttributes.width.min,we=d.layoutAttributes.height.min;ie<ke&&(ie=ke),he<we&&(he=we);var Ee=!se.width&&Math.abs(q.width-ie)>1,xe=!se.height&&Math.abs(q.height-he)>1;(xe||Ee)&&(Ee&&(q.width=ie),xe&&(q.height=he)),ee._initialAutoSize||(ee._initialAutoSize={width:ie,height:he}),d.sanitizeMargins(q)},d.supplyLayoutModuleDefaults=function(Y,ee,se,q){var K=v.componentsRegistry,le=ee._basePlotModules,ie,he,ye,Ce=v.subplotsRegistry.cartesian;for(ie in K)ye=K[ie],ye.includeBasePlot&&ye.includeBasePlot(Y,ee);le.length||le.push(Ce),ee._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(Y,ee),Ce.finalizeSubplots(Y,ee));for(var Ae in ee._subplots)ee._subplots[Ae].sort(t.subplotSort);for(he=0;he<le.length;he++)ye=le[he],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,ee,se);var ke=ee._modules;for(he=0;he<ke.length;he++)ye=ke[he],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,ee,se);var we=ee._transformModules;for(he=0;he<we.length;he++)ye=we[he],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,ee,se,q);for(ie in K)ye=K[ie],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,ee,se)},d.purge=function(Y){var ee=Y._fullLayout||{};ee._glcontainer!==void 0&&(ee._glcontainer.selectAll(".gl-canvas").remove(),ee._glcontainer.remove(),ee._glcanvas=null),ee._modeBar&&ee._modeBar.destroy(),Y._transitionData&&(Y._transitionData._interruptCallbacks&&(Y._transitionData._interruptCallbacks.length=0),Y._transitionData._animationRaf&&window.cancelAnimationFrame(Y._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Y),delete Y.data,delete Y.layout,delete Y._fullData,delete Y._fullLayout,delete Y.calcdata,delete Y.empty,delete Y.fid,delete Y.undoqueue,delete Y.undonum,delete Y.autoplay,delete Y.changed,delete Y._promises,delete Y._redrawTimer,delete Y._hmlumcount,delete Y._hmpixcount,delete Y._transitionData,delete Y._transitioning,delete Y._initialAutoSize,delete Y._transitioningWithDuration,delete Y._dragging,delete Y._dragged,delete Y._dragdata,delete Y._hoverdata,delete Y._snapshotInProgress,delete Y._editing,delete Y._mouseDownTime,delete Y._legendMouseDownTime,Y.removeAllListeners&&Y.removeAllListeners()},d.style=function(Y){var ee=Y._fullLayout._visibleModules,se=[],q;for(q=0;q<ee.length;q++){var K=ee[q];K.style&&t.pushUnique(se,K.style)}for(q=0;q<se.length;q++)se[q](Y)},d.sanitizeMargins=function(Y){if(!(!Y||!Y.margin)){var ee=Y.width,se=Y.height,q=Y.margin,K=ee-(q.l+q.r),le=se-(q.t+q.b),ie;K<0&&(ie=(ee-1)/(q.l+q.r),q.l=Math.floor(ie*q.l),q.r=Math.floor(ie*q.r)),le<0&&(ie=(se-1)/(q.t+q.b),q.t=Math.floor(ie*q.t),q.b=Math.floor(ie*q.b))}},d.clearAutoMarginIds=function(Y){Y._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(Y,ee){Y._fullLayout._pushmarginIds[ee]=1};function B(Y){var ee=Y.margin;if(!Y._size){var se=Y._size={l:Math.round(ee.l),r:Math.round(ee.r),t:Math.round(ee.t),b:Math.round(ee.b),p:Math.round(ee.pad)};se.w=Math.round(Y.width)-se.l-se.r,se.h=Math.round(Y.height)-se.t-se.b}Y._pushmargin||(Y._pushmargin={}),Y._pushmarginIds||(Y._pushmarginIds={}),Y._reservedMargin||(Y._reservedMargin={})}var N=2,V=2;d.autoMargin=function(Y,ee,se){var q=Y._fullLayout,K=q.width,le=q.height,ie=q.margin,he=q.minreducedwidth,ye=q.minreducedheight,Ce=t.constrain(K-ie.l-ie.r,N,he),Ae=t.constrain(le-ie.t-ie.b,V,ye),ke=Math.max(0,K-Ce),we=Math.max(0,le-Ae),Ee=q._pushmargin,xe=q._pushmarginIds;if(ie.autoexpand!==!1){if(!se)delete Ee[ee],delete xe[ee];else{var Re=se.pad;if(Re===void 0&&(Re=Math.min(12,ie.l,ie.r,ie.t,ie.b)),ke){var Ve=(se.l+se.r)/ke;Ve>1&&(se.l/=Ve,se.r/=Ve)}if(we){var Ue=(se.t+se.b)/we;Ue>1&&(se.t/=Ue,se.b/=Ue)}var Be=se.xl!==void 0?se.xl:se.x,Xe=se.xr!==void 0?se.xr:se.x,ut=se.yt!==void 0?se.yt:se.y,dt=se.yb!==void 0?se.yb:se.y;Ee[ee]={l:{val:Be,size:se.l+Re},r:{val:Xe,size:se.r+Re},b:{val:dt,size:se.b+Re},t:{val:ut,size:se.t+Re}},xe[ee]=1}if(!q._replotting)return d.doAutoMargin(Y)}};function W(Y){if("_redrawFromAutoMarginCount"in Y._fullLayout)return!1;var ee=u.list(Y,"",!0);for(var se in ee)if(ee[se].autoshift||ee[se].shift)return!0;return!1}d.doAutoMargin=function(Y){var ee=Y._fullLayout,se=ee.width,q=ee.height;ee._size||(ee._size={}),B(ee);var K=ee._size,le=ee.margin,ie={t:0,b:0,l:0,r:0},he=t.extendFlat({},K),ye=le.l,Ce=le.r,Ae=le.t,ke=le.b,we=ee._pushmargin,Ee=ee._pushmarginIds,xe=ee.minreducedwidth,Re=ee.minreducedheight;if(le.autoexpand!==!1){for(var Ve in we)Ee[Ve]||delete we[Ve];var Ue=Y._fullLayout._reservedMargin;for(var Be in Ue)for(var Xe in Ue[Be]){var ut=Ue[Be][Xe];ie[Xe]=Math.max(ie[Xe],ut)}we.base={l:{val:0,size:ye},r:{val:1,size:Ce},t:{val:1,size:Ae},b:{val:0,size:ke}};for(var dt in ie){var at=0;for(var We in we)We!=="base"&&x(we[We][dt].size)&&(at=we[We][dt].size>at?we[We][dt].size:at);var rt=Math.max(0,le[dt]-at);ie[dt]=Math.max(0,ie[dt]-rt)}for(var st in we){var ht=we[st].l||{},vt=we[st].b||{},At=ht.val,tt=ht.size,_e=vt.val,je=vt.size,Ke=se-ie.r-ie.l,He=q-ie.t-ie.b;for(var Ie in we){if(x(tt)&&we[Ie].r){var be=we[Ie].r.val,me=we[Ie].r.size;if(be>At){var Me=(tt*be+(me-Ke)*At)/(be-At),Te=(me*(1-At)+(tt-Ke)*(1-be))/(be-At);Me+Te>ye+Ce&&(ye=Me,Ce=Te)}}if(x(je)&&we[Ie].t){var ze=we[Ie].t.val,Je=we[Ie].t.size;if(ze>_e){var nt=(je*ze+(Je-He)*_e)/(ze-_e),pt=(Je*(1-_e)+(je-He)*(1-ze))/(ze-_e);nt+pt>ke+Ae&&(ke=nt,Ae=pt)}}}}}var yt=t.constrain(se-le.l-le.r,N,xe),Yt=t.constrain(q-le.t-le.b,V,Re),Xt=Math.max(0,se-yt),St=Math.max(0,q-Yt);if(Xt){var kt=(ye+Ce)/Xt;kt>1&&(ye/=kt,Ce/=kt)}if(St){var Kt=(ke+Ae)/St;Kt>1&&(ke/=Kt,Ae/=Kt)}if(K.l=Math.round(ye)+ie.l,K.r=Math.round(Ce)+ie.r,K.t=Math.round(Ae)+ie.t,K.b=Math.round(ke)+ie.b,K.p=Math.round(le.pad),K.w=Math.round(se)-K.l-K.r,K.h=Math.round(q)-K.t-K.b,!ee._replotting&&(d.didMarginChange(he,K)||W(Y))){"_redrawFromAutoMarginCount"in ee?ee._redrawFromAutoMarginCount++:ee._redrawFromAutoMarginCount=1;var mr=3*(1+Object.keys(Ee).length);if(ee._redrawFromAutoMarginCount<mr)return v.call("_doPlot",Y);ee._size=he,t.warn("Too many auto-margin redraws.")}Q(Y)};function Q(Y){var ee=u.list(Y,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(se){for(var q=0;q<ee.length;q++){var K=ee[q][se];K&&K()}})}var re=["l","r","t","b","p","w","h"];d.didMarginChange=function(Y,ee){for(var se=0;se<re.length;se++){var q=re[se],K=Y[q],le=ee[q];if(!x(K)||Math.abs(le-K)>1)return!0}return!1},d.graphJson=function(Y,ee,se,q,K,le){(K&&ee&&!Y._fullData||K&&!ee&&!Y._fullLayout)&&d.supplyDefaults(Y);var ie=K?Y._fullData:Y.data,he=K?Y._fullLayout:Y.layout,ye=(Y._transitionData||{})._frames;function Ce(we,Ee){if(typeof we=="function")return Ee?"_function_":null;if(t.isPlainObject(we)){var xe={},Re;return Object.keys(we).sort().forEach(function(Xe){if(["_","["].indexOf(Xe.charAt(0))===-1){if(typeof we[Xe]=="function"){Ee&&(xe[Xe]="_function");return}if(se==="keepdata"){if(Xe.substr(Xe.length-3)==="src")return}else if(se==="keepstream"){if(Re=we[Xe+"src"],typeof Re=="string"&&Re.indexOf(":")>0&&!t.isPlainObject(we.stream))return}else if(se!=="keepall"&&(Re=we[Xe+"src"],typeof Re=="string"&&Re.indexOf(":")>0))return;xe[Xe]=Ce(we[Xe],Ee)}}),xe}var Ve=Array.isArray(we),Ue=t.isTypedArray(we);if((Ve||Ue)&&we.dtype&&we.shape){var Be=we.bdata;return Ce({dtype:we.dtype,shape:we.shape,bdata:t.isArrayBuffer(Be)?w.encode(Be):Be},Ee)}return Ve?we.map(function(Xe){return Ce(Xe,Ee)}):Ue?t.simpleMap(we,t.identity):t.isJSDate(we)?t.ms2DateTimeLocal(+we):we}var Ae={data:(ie||[]).map(function(we){var Ee=Ce(we);return ee&&delete Ee.fit,Ee})};if(!ee&&(Ae.layout=Ce(he),K)){var ke=he._size;Ae.layout.computed={margin:{b:ke.b,l:ke.l,r:ke.r,t:ke.t}}}return ye&&(Ae.frames=Ce(ye)),le&&(Ae.config=Ce(Y._context,!0)),q==="object"?Ae:JSON.stringify(Ae)},d.modifyFrames=function(Y,ee){var se,q,K,le=Y._transitionData._frames,ie=Y._transitionData._frameHash;for(se=0;se<ee.length;se++)switch(q=ee[se],q.type){case"replace":K=q.value;var he=(le[q.index]||{}).name,ye=K.name;le[q.index]=ie[ye]=K,ye!==he&&(delete ie[he],ie[ye]=K);break;case"insert":K=q.value,ie[K.name]=K,le.splice(q.index,0,K);break;case"delete":K=le[q.index],delete ie[K.name],le.splice(q.index,1);break}return Promise.resolve()},d.computeFrame=function(Y,ee){var se=Y._transitionData._frameHash,q,K,le,ie;if(!ee)throw new Error("computeFrame must be given a string frame name");var he=se[ee.toString()];if(!he)return!1;for(var ye=[he],Ce=[he.name];he.baseframe&&(he=se[he.baseframe.toString()])&&Ce.indexOf(he.name)===-1;)ye.push(he),Ce.push(he.name);for(var Ae={};he=ye.pop();)if(he.layout&&(Ae.layout=d.extendLayout(Ae.layout,he.layout)),he.data){if(Ae.data||(Ae.data=[]),K=he.traces,!K)for(K=[],q=0;q<he.data.length;q++)K[q]=q;for(Ae.traces||(Ae.traces=[]),q=0;q<he.data.length;q++)le=K[q],le!=null&&(ie=Ae.traces.indexOf(le),ie===-1&&(ie=Ae.data.length,Ae.traces[ie]=le),Ae.data[ie]=d.extendTrace(Ae.data[ie],he.data[q]))}return Ae},d.recomputeFrameHash=function(Y){for(var ee=Y._transitionData._frameHash={},se=Y._transitionData._frames,q=0;q<se.length;q++){var K=se[q];K&&K.name&&(ee[K.name]=K)}},d.extendObjectWithContainers=function(Y,ee,se){var q,K,le,ie,he,ye,Ce,Ae,ke=t.extendDeepNoArrays({},ee||{}),we=t.expandObjectPaths(ke),Ee={};if(se&&se.length)for(le=0;le<se.length;le++)q=t.nestedProperty(we,se[le]),K=q.get(),K===void 0?t.nestedProperty(Ee,se[le]).set(null):(q.set(null),t.nestedProperty(Ee,se[le]).set(K));if(Y=t.extendDeepNoArrays(Y||{},we),se&&se.length){for(le=0;le<se.length;le++)if(he=t.nestedProperty(Ee,se[le]),Ce=he.get(),!!Ce){for(ye=t.nestedProperty(Y,se[le]),Ae=ye.get(),Array.isArray(Ae)||(Ae=[],ye.set(Ae)),ie=0;ie<Ce.length;ie++){var xe=Ce[ie];xe===null?Ae[ie]=null:Ae[ie]=d.extendObjectWithContainers(Ae[ie],xe)}ye.set(Ae)}}return Y},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(Y,ee){return d.extendObjectWithContainers(Y,ee,d.dataArrayContainers)},d.extendLayout=function(Y,ee){return d.extendObjectWithContainers(Y,ee,d.layoutArrayContainers)},d.transition=function(Y,ee,se,q,K,le){var ie={redraw:K.redraw},he={},ye=[];return ie.prepareFn=function(){for(var Ce=Array.isArray(ee)?ee.length:0,Ae=q.slice(0,Ce),ke=0;ke<Ae.length;ke++){var we=Ae[ke],Ee=Y._fullData[we],xe=Ee._module;if(xe){if(xe.animatable){var Re=xe.basePlotModule.name;he[Re]||(he[Re]=[]),he[Re].push(we)}Y.data[Ae[ke]]=d.extendTrace(Y.data[Ae[ke]],ee[ke])}}var Ve=t.expandObjectPaths(t.extendDeepNoArrays({},se)),Ue=/^[xy]axis[0-9]*$/;for(var Be in Ve)Ue.test(Be)&&delete Ve[Be].range;d.extendLayout(Y.layout,Ve),delete Y.calcdata,d.supplyDefaults(Y),d.doCalcdata(Y);var Xe=t.expandObjectPaths(se);if(Xe){var ut=Y._fullLayout._plots;for(var dt in ut){var at=ut[dt],We=at.xaxis,rt=at.yaxis,st=We.range.slice(),ht=rt.range.slice(),vt=null,At=null,tt=null,_e=null;Array.isArray(Xe[We._name+".range"])?vt=Xe[We._name+".range"].slice():Array.isArray((Xe[We._name]||{}).range)&&(vt=Xe[We._name].range.slice()),Array.isArray(Xe[rt._name+".range"])?At=Xe[rt._name+".range"].slice():Array.isArray((Xe[rt._name]||{}).range)&&(At=Xe[rt._name].range.slice()),st&&vt&&(We.r2l(st[0])!==We.r2l(vt[0])||We.r2l(st[1])!==We.r2l(vt[1]))&&(tt={xr0:st,xr1:vt}),ht&&At&&(rt.r2l(ht[0])!==rt.r2l(At[0])||rt.r2l(ht[1])!==rt.r2l(At[1]))&&(_e={yr0:ht,yr1:At}),(tt||_e)&&ye.push(t.extendFlat({plotinfo:at},tt,_e))}}return Promise.resolve()},ie.runFn=function(Ce){var Ae,ke=Y._fullLayout._basePlotModules,we=ye.length,Ee;if(se)for(Ee=0;Ee<ke.length;Ee++)ke[Ee].transitionAxes&&ke[Ee].transitionAxes(Y,ye,le,Ce);we?(Ae=t.extendFlat({},le),Ae.duration=0,delete he.cartesian):Ae=le;for(var xe in he){var Re=he[xe],Ve=Y._fullData[Re[0]]._module;Ve.basePlotModule.plot(Y,Re,Ae,Ce)}},ne(Y,le,ie)},d.transitionFromReact=function(Y,ee,se,q){var K=Y._fullLayout,le=K.transition,ie={},he=[];return ie.prepareFn=function(){var ye=K._plots;ie.redraw=!1,ee.anim==="some"&&(ie.redraw=!0),se.anim==="some"&&(ie.redraw=!0);for(var Ce in ye){var Ae=ye[Ce],ke=Ae.xaxis,we=Ae.yaxis,Ee=q[ke._name].range.slice(),xe=q[we._name].range.slice(),Re=ke.range.slice(),Ve=we.range.slice();ke.setScale(),we.setScale();var Ue=null,Be=null;(ke.r2l(Ee[0])!==ke.r2l(Re[0])||ke.r2l(Ee[1])!==ke.r2l(Re[1]))&&(Ue={xr0:Ee,xr1:Re}),(we.r2l(xe[0])!==we.r2l(Ve[0])||we.r2l(xe[1])!==we.r2l(Ve[1]))&&(Be={yr0:xe,yr1:Ve}),(Ue||Be)&&he.push(t.extendFlat({plotinfo:Ae},Ue,Be))}return Promise.resolve()},ie.runFn=function(ye){for(var Ce=Y._fullData,Ae=Y._fullLayout,ke=Ae._basePlotModules,we,Ee,xe,Re=[],Ve=0;Ve<Ce.length;Ve++)Re.push(Ve);function Ue(){if(Y._fullLayout)for(var Xe=0;Xe<ke.length;Xe++)ke[Xe].transitionAxes&&ke[Xe].transitionAxes(Y,he,we,ye)}function Be(){if(Y._fullLayout)for(var Xe=0;Xe<ke.length;Xe++)ke[Xe].plot(Y,xe,Ee,ye)}he.length&&ee.anim?le.ordering==="traces first"?(we=t.extendFlat({},le,{duration:0}),xe=Re,Ee=le,setTimeout(Ue,le.duration),Be()):(we=le,xe=null,Ee=t.extendFlat({},le,{duration:0}),setTimeout(Be,we.duration),Ue()):he.length?(we=le,Ue()):ee.anim&&(xe=Re,Ee=le,Be())},ne(Y,le,ie)};function ne(Y,ee,se){var q=!1;function K(ke){var we=Promise.resolve();if(!ke)return we;for(;ke.length;)we=we.then(ke.shift());return we}function le(ke){if(ke)for(;ke.length;)ke.shift()}function ie(){return Y.emit("plotly_transitioning",[]),new Promise(function(ke){Y._transitioning=!0,ee.duration>0&&(Y._transitioningWithDuration=!0),Y._transitionData._interruptCallbacks.push(function(){q=!0}),se.redraw&&Y._transitionData._interruptCallbacks.push(function(){return v.call("redraw",Y)}),Y._transitionData._interruptCallbacks.push(function(){Y.emit("plotly_transitioninterrupted",[])});var we=0,Ee=0;function xe(){return we++,function(){Ee++,!q&&Ee===we&&he(ke)}}se.runFn(xe),setTimeout(xe())})}function he(ke){if(Y._transitionData)return le(Y._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(se.redraw)return v.call("redraw",Y)}).then(function(){Y._transitioning=!1,Y._transitioningWithDuration=!1,Y.emit("plotly_transitioned",[])}).then(ke)}function ye(){if(Y._transitionData)return Y._transitioning=!1,K(Y._transitionData._interruptCallbacks)}var Ce=[d.previousPromises,ye,se.prepareFn,d.rehover,d.reselect,ie],Ae=t.syncOrAsync(Ce,Y);return(!Ae||!Ae.then)&&(Ae=Promise.resolve()),Ae.then(function(){return Y})}d.doCalcdata=function(Y,ee){var se=u.list(Y),q=Y._fullData,K=Y._fullLayout,le,ie,he,ye,Ce=new Array(q.length),Ae=(Y.calcdata||[]).slice();for(Y.calcdata=Ce,K._numBoxes=0,K._numViolins=0,K._violinScaleGroupStats={},Y._hmpixcount=0,Y._hmlumcount=0,K._piecolormap={},K._sunburstcolormap={},K._treemapcolormap={},K._iciclecolormap={},K._funnelareacolormap={},he=0;he<q.length;he++)if(Array.isArray(ee)&&ee.indexOf(he)===-1){Ce[he]=Ae[he];continue}for(he=0;he<q.length;he++)le=q[he],le._arrayAttrs=p.findArrayAttributes(le),le._extremes={};var ke=K._subplots.polar||[];for(he=0;he<ke.length;he++)se.push(K[ke[he]].radialaxis,K[ke[he]].angularaxis);for(var we in K._colorAxes){var Ee=K[we];Ee.cauto!==!1&&(delete Ee.cmin,delete Ee.cmax)}var xe=!1;function Re(Be){if(le=q[Be],ie=le._module,le.visible===!0&&le.transforms){if(ie&&ie.calc){var Xe=ie.calc(Y,le);Xe[0]&&Xe[0].t&&Xe[0].t._scene&&delete Xe[0].t._scene.dirty}for(ye=0;ye<le.transforms.length;ye++){var ut=le.transforms[ye];ie=T[ut.type],ie&&ie.calcTransform&&(le._hasCalcTransform=!0,xe=!0,ie.calcTransform(Y,le,ut))}}}function Ve(Be,Xe){if(le=q[Be],ie=le._module,!!ie.isContainer===Xe){var ut=[];if(le.visible===!0&&le._length!==0){delete le._indexToPoints;var dt=le.transforms||[];for(ye=dt.length-1;ye>=0;ye--)if(dt[ye].enabled){le._indexToPoints=dt[ye]._indexToPoints;break}ie&&ie.calc&&(ut=ie.calc(Y,le))}(!Array.isArray(ut)||!ut[0])&&(ut=[{x:n,y:n}]),ut[0].t||(ut[0].t={}),ut[0].trace=le,Ce[Be]=ut}}for(X(se,q,K),he=0;he<q.length;he++)Ve(he,!0);for(he=0;he<q.length;he++)Re(he);for(xe&&X(se,q,K),he=0;he<q.length;he++)Ve(he,!0);for(he=0;he<q.length;he++)Ve(he,!1);oe(Y);var Ue=$(se,Y);if(Ue.length){for(K._numBoxes=0,K._numViolins=0,he=0;he<Ue.length;he++)Ve(Ue[he],!0);for(he=0;he<Ue.length;he++)Ve(Ue[he],!1);oe(Y)}v.getComponentMethod("fx","calc")(Y),v.getComponentMethod("errorbars","calc")(Y)};var fe=/(total|sum|min|max|mean|median) (ascending|descending)/;function $(Y,ee){var se=[],q,K,le,ie,he;function ye(Ie,be,me){var Me=be._id.charAt(0);if(Ie==="histogram2dcontour"){var Te=be._counterAxes[0],ze=u.getFromId(ee,Te),Je=Me==="x"||Te==="x"&&ze.type==="category",nt=Me==="y"||Te==="y"&&ze.type==="category";return function(pt,yt){return pt===0||yt===0||Je&&pt===me[yt].length-1||nt&&yt===me.length-1?-1:(Me==="y"?yt:pt)-1}}else return function(pt,yt){return Me==="y"?yt:pt}}var Ce={min:function(Ie){return t.aggNums(Math.min,null,Ie)},max:function(Ie){return t.aggNums(Math.max,null,Ie)},sum:function(Ie){return t.aggNums(function(be,me){return be+me},null,Ie)},total:function(Ie){return t.aggNums(function(be,me){return be+me},null,Ie)},mean:function(Ie){return t.mean(Ie)},median:function(Ie){return t.median(Ie)}};function Ae(Ie,be){return Ie[1]-be[1]}function ke(Ie,be){return be[1]-Ie[1]}for(q=0;q<Y.length;q++){var we=Y[q];if(we.type==="category"){var Ee=we.categoryorder.match(fe);if(Ee){var xe=Ee[1],Re=Ee[2],Ve=we._id.charAt(0),Ue=Ve==="x",Be=[];for(K=0;K<we._categories.length;K++)Be.push([we._categories[K],[]]);for(K=0;K<we._traceIndices.length;K++){var Xe=we._traceIndices[K],ut=ee._fullData[Xe];if(ut.visible===!0){var dt=ut.type;v.traceIs(ut,"histogram")&&(delete ut._xautoBinFinished,delete ut._yautoBinFinished);var at=dt==="splom",We=dt==="scattergl",rt=ee.calcdata[Xe];for(le=0;le<rt.length;le++){var st=rt[le],ht,vt;if(at){var At=ut._axesDim[we._id];if(!Ue){var tt=ut._diag[At][0];tt&&(we=ee._fullLayout[u.id2name(tt)])}var _e=st.trace.dimensions[At].values;for(ie=0;ie<_e.length;ie++)for(ht=we._categoriesMap[_e[ie]],he=0;he<st.trace.dimensions.length;he++)if(he!==At){var je=st.trace.dimensions[he];Be[ht][1].push(je.values[ie])}}else if(We){for(ie=0;ie<st.t.x.length;ie++)Ue?(ht=st.t.x[ie],vt=st.t.y[ie]):(ht=st.t.y[ie],vt=st.t.x[ie]),Be[ht][1].push(vt);st.t&&st.t._scene&&delete st.t._scene.dirty}else if(st.hasOwnProperty("z")){vt=st.z;var Ke=ye(ut.type,we,vt);for(ie=0;ie<vt.length;ie++)for(he=0;he<vt[ie].length;he++)ht=Ke(he,ie),ht+1&&Be[ht][1].push(vt[ie][he])}else for(ht=st.p,ht===void 0&&(ht=st[Ve]),vt=st.s,vt===void 0&&(vt=st.v),vt===void 0&&(vt=Ue?st.y:st.x),Array.isArray(vt)||(vt===void 0?vt=[]:vt=[vt]),ie=0;ie<vt.length;ie++)Be[ht][1].push(vt[ie])}}}we._categoriesValue=Be;var He=[];for(K=0;K<Be.length;K++)He.push([Be[K][0],Ce[xe](Be[K][1])]);He.sort(Re==="descending"?ke:Ae),we._categoriesAggregatedValue=He,we._initialCategories=He.map(function(Ie){return Ie[0]}),se=se.concat(we.sortByInitialCategories())}}}return se}function X(Y,ee,se){var q={};function K(ye){ye.clearCalc(),ye.type==="multicategory"&&ye.setupMultiCategory(ee),q[ye._id]=1}t.simpleMap(Y,K);for(var le=se._axisMatchGroups||[],ie=0;ie<le.length;ie++)for(var he in le[ie])q[he]||K(se[u.id2name(he)])}function oe(Y){var ee=Y._fullLayout,se=ee._visibleModules,q={},K,le,ie;for(le=0;le<se.length;le++){var he=se[le],ye=he.crossTraceCalc;if(ye){var Ce=he.basePlotModule.name;q[Ce]?t.pushUnique(q[Ce],ye):q[Ce]=[ye]}}for(ie in q){var Ae=q[ie],ke=ee._subplots[ie];if(Array.isArray(ke))for(K=0;K<ke.length;K++){var we=ke[K],Ee=ie==="cartesian"?ee._plots[we]:ee[we];for(le=0;le<Ae.length;le++)Ae[le](Y,Ee,we)}else for(le=0;le<Ae.length;le++)Ae[le](Y)}}d.rehover=function(Y){Y._fullLayout._rehover&&Y._fullLayout._rehover()},d.redrag=function(Y){Y._fullLayout._redrag&&Y._fullLayout._redrag()},d.reselect=function(Y){var ee=Y._fullLayout,se=(Y.layout||{}).selections,q=ee._previousSelections;ee._previousSelections=se;var K=ee._reselect||JSON.stringify(se)!==JSON.stringify(q);v.getComponentMethod("selections","reselect")(Y,K)},d.generalUpdatePerTraceModule=function(Y,ee,se,q){var K=ee.traceHash,le={},ie;for(ie=0;ie<se.length;ie++){var he=se[ie],ye=he[0].trace;ye.visible&&(le[ye.type]=le[ye.type]||[],le[ye.type].push(he))}for(var Ce in K)if(!le[Ce]){var Ae=K[Ce][0],ke=Ae[0].trace;ke.visible=!1,le[Ce]=[Ae]}for(var we in le){var Ee=le[we],xe=Ee[0][0].trace._module;xe.plot(Y,ee,t.filterVisible(Ee),q)}ee.traceHash=le},d.plotBasePlot=function(Y,ee,se,q,K){var le=v.getModule(Y),ie=M(ee.calcdata,le)[0];le.plot(ee,ie,q,K)},d.cleanBasePlot=function(Y,ee,se,q,K){var le=K._has&&K._has(Y),ie=se._has&&se._has(Y);le&&!ie&&K["_"+Y+"layer"].selectAll("g.trace").remove()}},39360:function(H){H.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(H,j,e){var g=e(3400),P=e(92065).tester,a=g.findIndexOfMin,x=g.isAngleInsideSector,w=g.angleDelta,v=g.angleDist;function p(o,d,T,S,C){if(!x(d,S))return!1;var m,E;T[0]<T[1]?(m=T[0],E=T[1]):(m=T[1],E=T[0]);var b=P(u(m,S[0],S[1],C)),s=P(u(E,S[0],S[1],C)),L=[o*Math.cos(d),o*Math.sin(d)];return s.contains(L)&&!b.contains(L)}function r(o,d,T,S){var C,m,E=S[0],b=S[1],s=y(Math.sin(d)-Math.sin(o)),L=y(Math.cos(d)-Math.cos(o)),A=Math.tan(T),k=y(1/A),_=s/L,U=b-_*E;return k?s&&L?(C=U/(A-_),m=A*C):L?(C=b*k,m=b):(C=E,m=E*A):s&&L?(C=0,m=U):L?(C=0,m=b):C=m=NaN,[C,m]}function t(o,d,T,S){var C=-d*T,m=d*d+1,E=2*(d*C-T),b=C*C+T*T-o*o,s=Math.sqrt(E*E-4*m*b),L=(-E+s)/(2*m),A=(-E-s)/(2*m);return[[L,d*L+C+S],[A,d*A+C+S]]}function i(o,d){var T=d.length,S=new Array(T+1),C;for(C=0;C<T;C++){var m=d[C];S[C]=[o*Math.cos(m),o*Math.sin(m)]}return S[C]=S[0].slice(),S}function n(o,d,T,S){var C=S.length,m=[],E,b;function s(N){return[o*Math.cos(N),o*Math.sin(N)]}function L(N,V,W){return r(N,V,W,s(N))}function A(N){return g.mod(N,C)}function k(N){return x(N,[d,T])}var _=a(S,function(N){return k(N)?v(N,d):1/0}),U=L(S[_],S[A(_-1)],d);for(m.push(U),E=_,b=0;b<C;E++,b++){var F=S[A(E)];if(!k(F))break;m.push(s(F))}var z=a(S,function(N){return k(N)?v(N,T):1/0}),B=L(S[z],S[A(z+1)],T);return m.push(B),m.push([0,0]),m.push(m[0].slice()),m}function u(o,d,T,S){return g.isFullCircle([d,T])?i(o,S):n(o,d,T,S)}function f(o,d,T,S){for(var C=1/0,m=1/0,E=u(o,d,T,S),b=0;b<E.length;b++){var s=E[b];C=Math.min(C,s[0]),m=Math.min(m,-s[1])}return[C,m]}function l(o,d){var T=function(m){var E=w(m,o);return E>0?E:1/0},S=a(d,T),C=g.mod(S+1,d.length);return[d[S],d[C]]}function y(o){return Math.abs(o)>1e-10?o:0}function h(o,d,T){d=d||0,T=T||0;for(var S=o.length,C=new Array(S),m=0;m<S;m++){var E=o[m];C[m]=[d+E[0],T-E[1]]}return C}function M(o,d,T,S,C,m){var E=u(o,d,T,S);return"M"+h(E,C,m).join("L")}function c(o,d,T,S,C,m,E){var b,s;o<d?(b=o,s=d):(b=d,s=o);var L=h(u(b,T,S,C),m,E),A=h(u(s,T,S,C),m,E);return"M"+A.reverse().join("L")+"M"+L.join("L")}H.exports={isPtInsidePolygon:p,findPolygonOffset:f,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:y,pathPolygon:M,pathPolygonAnnulus:c}},40872:function(H,j,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(62400),x=e(39360),w=x.attr,v=x.name,p=P(v),r={};r[w]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var u=n._fullLayout,f=n.calcdata,l=u._subplots[v],y=0;y<l.length;y++){var h=l[y],M=g(f,v,h),c=u[h]._subplot;c||(c=a(n,h),u[h]._subplot=c),c.plot(M,u,n._promises)}}function i(n,u,f,l){for(var y=l._subplots[v]||[],h=l._has&&l._has("gl"),M=u._has&&u._has("gl"),c=h&&!M,o=0;o<y.length;o++){var d=y[o],T=l[d]._subplot;if(!u[d]&&T){T.framework.remove(),T.layers["radial-axis-title"].remove();for(var S in T.clipPaths)T.clipPaths[S].remove()}c&&T._scene&&(T._scene.destroy(),T._scene=null)}}H.exports={attr:w,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:i,toSVG:e(57952).toSVG}},95300:function(H,j,e){var g=e(22548),P=e(94724),a=e(86968).u,x=e(3400).extendFlat,w=e(67824).overrideAll,v=w({color:P.color,showline:x({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:x({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=w({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:x({},P.visible,{dflt:!0}),type:x({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:x({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:x({},P.minallowed,{editType:"plot"}),maxallowed:x({},P.maxallowed,{editType:"plot"}),range:x({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:x({},P.title.text,{editType:"plot",dflt:""}),font:x({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};x(r,v,p);var t={visible:x({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};x(t,v,p),H.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(H,j,e){var g=e(3400),P=e(76308),a=e(31780),x=e(168),w=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),i=e(22416),n=e(42136),u=e(76808),f=e(52976),l=e(95300),y=e(57696),h=e(39360),M=h.axisNames;function c(d,T,S,C){var m=S("bgcolor");C.bgColor=P.combine(m,C.paper_bgcolor);var E=S("sector");S("hole");var b=w(C.fullData,h.name,C.id),s=C.layoutOut,L;function A(ee,se){return S(L+"."+ee,se)}for(var k=0;k<M.length;k++){L=M[k],g.isPlainObject(d[L])||(d[L]={});var _=d[L],U=a.newContainer(T,L);U._id=U._name=L,U._attr=C.id+"."+L,U._traceIndices=b.map(function(ee){return ee._expandedIndex});var F=h.axisName2dataArray[L],z=o(_,U,A,b,F,C);i(_,U,A,{axData:b,dataAttr:F});var B=A("visible");switch(y(U,T,s),A("uirevision",T.uirevision),U._m=1,L){case"radialaxis":A("minallowed"),A("maxallowed");var N=A("range"),V=U.getAutorangeDflt(N),W=A("autorange",V),Q;N&&(N[0]===null&&N[1]===null||(N[0]===null||N[1]===null)&&(W==="reversed"||W===!0)||N[0]!==null&&(W==="min"||W==="max reversed")||N[1]!==null&&(W==="max"||W==="min reversed"))&&(N=void 0,delete U.range,U.autorange=!0,Q=!0),Q||(V=U.getAutorangeDflt(N),W=A("autorange",V)),_.autorange=W,W&&(u(A,W,N),(z==="linear"||z==="-")&&A("rangemode"),U.isReversed()&&(U._m=-1)),U.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(z==="date"){g.log("Polar plots do not support date angular axes yet.");for(var re=0;re<b.length;re++)b[re].visible=!1;z=_.type=U.type="linear"}A(z==="linear"?"thetaunit":"period");var ne=A("direction");A("rotation",{counterclockwise:0,clockwise:90}[ne]);break}if(t(_,U,A,U.type,{tickSuffixDflt:U.thetaunit==="degrees"?"°":void 0}),B){var fe,$,X,oe,Y=C.font||{};fe=A("color"),$=fe===_.color?fe:Y.color,X=Y.size,oe=Y.family,v(_,U,A,U.type),r(_,U,A,U.type,{font:{color:$,size:X,family:oe},noAutotickangles:L==="angularaxis"}),p(_,U,A,{outerTicks:!0}),n(_,U,A,{dfltColor:fe,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[L]}),A("layer"),L==="radialaxis"&&(A("side"),A("angle",E[0]),A("title.text"),g.coerceFont(A,"title.font",{color:$,size:g.bigFont(X),family:oe}))}z!=="category"&&A("hoverformat"),U._input=_}T.angularaxis.type==="category"&&S("gridshape")}function o(d,T,S,C,m,E){var b=S("autotypenumbers",E.autotypenumbersDflt),s=S("type");if(s==="-"){for(var L,A=0;A<C.length;A++)if(C[A].visible){L=C[A];break}L&&L[m]&&(T.type=f(L[m],"gregorian",{noMultiCategory:!0,autotypenumbers:b})),T.type==="-"?T.type="linear":d.type=T.type}return T.type}H.exports=function(T,S,C){x(T,S,C,{type:h.name,attributes:l,handleDefaults:c,font:S.font,autotypenumbersDflt:S.autotypenumbers,paper_bgcolor:S.paper_bgcolor,fullData:C,layoutOut:S})}},62400:function(H,j,e){var g=e(33428),P=e(49760),a=e(24040),x=e(3400),w=x.strRotate,v=x.strTranslate,p=e(76308),r=e(43616),t=e(7316),i=e(54460),n=e(78344),u=e(57696),f=e(19280).doAutoRange,l=e(51184),y=e(86476),h=e(93024),M=e(81668),c=e(22676).prepSelect,o=e(22676).selectOnClick,d=e(22676).clearOutline,T=e(93972),S=e(73696),C=e(39172).redrawReglTraces,m=e(84284).MID_SHIFT,E=e(39360),b=e(57384),s=e(36416),L=s.smith,A=s.reactanceArc,k=s.resistanceArc,_=s.smithTransform,U=x._,F=x.mod,z=x.deg2rad,B=x.rad2deg;function N(fe,$,X){this.isSmith=X||!1,this.id=$,this.gd=fe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var oe=fe._fullLayout,Y="clip"+oe._uid+$;this.clipIds.forTraces=Y+"-for-traces",this.clipPaths.forTraces=oe._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=oe["_"+(X?"smith":"polar")+"layer"].append("g").attr("class",$),this.getHole=function(ee){return this.isSmith?0:ee.hole},this.getSector=function(ee){return this.isSmith?[0,360]:ee.sector},this.getRadial=function(ee){return this.isSmith?ee.realaxis:ee.radialaxis},this.getAngular=function(ee){return this.isSmith?ee.imaginaryaxis:ee.angularaxis},X||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=N.prototype;H.exports=function($,X,oe){return new N($,X,oe)},V.plot=function(fe,$){for(var X=this,oe=$[X.id],Y=!1,ee=0;ee<fe.length;ee++){var se=fe[ee][0].trace;if(se.cliponaxis===!1){Y=!0;break}}X._hasClipOnAxisFalse=Y,X.updateLayers($,oe),X.updateLayout($,oe),t.generalUpdatePerTraceModule(X.gd,X,fe,oe),X.updateFx($,oe),X.isSmith&&(delete oe.realaxis.range,delete oe.imaginaryaxis.range)},V.updateLayers=function(fe,$){var X=this,oe=X.isSmith,Y=X.layers,ee=X.getRadial($),se=X.getAngular($),q=E.layerNames,K=q.indexOf("frontplot"),le=q.slice(0,K),ie=se.layer==="below traces",he=ee.layer==="below traces";ie&&le.push("angular-line"),he&&le.push("radial-line"),ie&&le.push("angular-axis"),he&&le.push("radial-axis"),le.push("frontplot"),ie||le.push("angular-line"),he||le.push("radial-line"),ie||le.push("angular-axis"),he||le.push("radial-axis");var ye=(oe?"smith":"polar")+"sublayer",Ce=X.framework.selectAll("."+ye).data(le,String);Ce.enter().append("g").attr("class",function(Ae){return ye+" "+Ae}).each(function(Ae){var ke=Y[Ae]=g.select(this);switch(Ae){case"frontplot":oe||ke.append("g").classed("barlayer",!0),ke.append("g").classed("scatterlayer",!0);break;case"backplot":ke.append("g").classed("maplayer",!0);break;case"plotbg":Y.bg=ke.append("path");break;case"radial-grid":ke.style("fill","none");break;case"angular-grid":ke.style("fill","none");break;case"radial-line":ke.append("line").style("fill","none");break;case"angular-line":ke.append("path").style("fill","none");break}}),Ce.order()},V.updateLayout=function(fe,$){var X=this,oe=X.layers,Y=fe._size,ee=X.getRadial($),se=X.getAngular($),q=$.domain.x,K=$.domain.y;X.xOffset=Y.l+Y.w*q[0],X.yOffset=Y.t+Y.h*(1-K[1]);var le=X.xLength=Y.w*(q[1]-q[0]),ie=X.yLength=Y.h*(K[1]-K[0]),he=X.getSector($);X.sectorInRad=he.map(z);var ye=X.sectorBBox=Q(he),Ce=ye[2]-ye[0],Ae=ye[3]-ye[1],ke=ie/le,we=Math.abs(Ae/Ce),Ee,xe,Re,Ve,Ue;ke>we?(Ee=le,xe=le*we,Ue=(ie-xe)/Y.h/2,Re=[q[0],q[1]],Ve=[K[0]+Ue,K[1]-Ue]):(Ee=ie/we,xe=ie,Ue=(le-Ee)/Y.w/2,Re=[q[0]+Ue,q[1]-Ue],Ve=[K[0],K[1]]),X.xLength2=Ee,X.yLength2=xe,X.xDomain2=Re,X.yDomain2=Ve;var Be=X.xOffset2=Y.l+Y.w*Re[0],Xe=X.yOffset2=Y.t+Y.h*(1-Ve[1]),ut=X.radius=Ee/Ce,dt=X.innerRadius=X.getHole($)*ut,at=X.cx=Be-ut*ye[0],We=X.cy=Xe+ut*ye[3],rt=X.cxx=at-Be,st=X.cyy=We-Xe,ht=ee.side,vt;ht==="counterclockwise"?(vt=ht,ht="top"):ht==="clockwise"&&(vt=ht,ht="bottom"),X.radialAxis=X.mockAxis(fe,$,ee,{_id:"x",side:ht,_trueSide:vt,domain:[dt/Y.w,ut/Y.w]}),X.angularAxis=X.mockAxis(fe,$,se,{side:"right",domain:[0,Math.PI],autorange:!1}),X.doAutoRange(fe,$),X.updateAngularAxis(fe,$),X.updateRadialAxis(fe,$),X.updateRadialAxisTitle(fe,$),X.xaxis=X.mockCartesianAxis(fe,$,{_id:"x",domain:Re}),X.yaxis=X.mockCartesianAxis(fe,$,{_id:"y",domain:Ve});var At=X.pathSubplot();X.clipPaths.forTraces.select("path").attr("d",At).attr("transform",v(rt,st)),oe.frontplot.attr("transform",v(Be,Xe)).call(r.setClipUrl,X._hasClipOnAxisFalse?null:X.clipIds.forTraces,X.gd),oe.bg.attr("d",At).attr("transform",v(at,We)).call(p.fill,$.bgcolor)},V.mockAxis=function(fe,$,X,oe){var Y=x.extendFlat({},X,oe);return u(Y,$,fe),Y},V.mockCartesianAxis=function(fe,$,X){var oe=this,Y=oe.isSmith,ee=X._id,se=x.extendFlat({type:"linear"},X);n(se,fe);var q={x:[0,2],y:[1,3]};return se.setRange=function(){var K=oe.sectorBBox,le=q[ee],ie=oe.radialAxis._rl,he=(ie[1]-ie[0])/(1-oe.getHole($));se.range=[K[le[0]]*he,K[le[1]]*he]},se.isPtWithinRange=ee==="x"&&!Y?function(K){return oe.isPtInside(K)}:function(){return!0},se.setRange(),se.setScale(),se},V.doAutoRange=function(fe,$){var X=this,oe=X.gd,Y=X.radialAxis,ee=X.getRadial($);f(oe,Y);var se=Y.range;if(ee.range=se.slice(),ee._input.range=se.slice(),Y._rl=[Y.r2l(se[0],null,"gregorian"),Y.r2l(se[1],null,"gregorian")],Y.minallowed!==void 0){var q=Y.r2l(Y.minallowed);Y._rl[0]>Y._rl[1]?Y._rl[1]=Math.max(Y._rl[1],q):Y._rl[0]=Math.max(Y._rl[0],q)}if(Y.maxallowed!==void 0){var K=Y.r2l(Y.maxallowed);Y._rl[0]<Y._rl[1]?Y._rl[1]=Math.min(Y._rl[1],K):Y._rl[0]=Math.min(Y._rl[0],K)}},V.updateRadialAxis=function(fe,$){var X=this,oe=X.gd,Y=X.layers,ee=X.radius,se=X.innerRadius,q=X.cx,K=X.cy,le=X.getRadial($),ie=F(X.getSector($)[0],360),he=X.radialAxis,ye=se<ee,Ce=X.isSmith;Ce||(X.fillViewInitialKey("radialaxis.angle",le.angle),X.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&ie>90&&ie<=270&&(he.tickangle=180);var Ae=Ce?function(ut){var dt=_(X,L([ut.x,0]));return v(dt[0]-q,dt[1]-K)}:function(ut){return v(he.l2p(ut.x)+se,0)},ke=Ce?function(ut){return k(X,ut.x,-1/0,1/0)}:function(ut){return X.pathArc(he.r2p(ut.x)+se)},we=W(le);if(X.radialTickLayout!==we&&(Y["radial-axis"].selectAll(".xtick").remove(),X.radialTickLayout=we),ye){he.setScale();var Ee=0,xe=Ce?(he.tickvals||[]).filter(function(ut){return ut>=0}).map(function(ut){return i.tickText(he,ut,!0,!1)}):i.calcTicks(he),Re=Ce?xe:i.clipEnds(he,xe),Ve=i.getTickSigns(he)[2];Ce&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(Ve=-Ve),he.ticks==="top"&&he.side==="top"&&(Ee=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Ee=he.ticklen)),i.drawTicks(oe,he,{vals:xe,layer:Y["radial-axis"],path:i.makeTickPath(he,0,Ve),transFn:Ae,crisp:!1}),i.drawGrid(oe,he,{vals:Re,layer:Y["radial-grid"],path:ke,transFn:x.noop,crisp:!1}),i.drawLabels(oe,he,{vals:xe,layer:Y["radial-axis"],transFn:Ae,labelFns:i.makeLabelFns(he,Ee)})}var Ue=X.radialAxisAngle=X.vangles?B(re(z(le.angle),X.vangles)):le.angle,Be=v(q,K),Xe=Be+w(-Ue);ne(Y["radial-axis"],ye&&(le.showticklabels||le.ticks),{transform:Xe}),ne(Y["radial-grid"],ye&&le.showgrid,{transform:Ce?"":Be}),ne(Y["radial-line"].select("line"),ye&&le.showline,{x1:Ce?-ee:se,y1:0,x2:ee,y2:0,transform:Xe}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},V.updateRadialAxisTitle=function(fe,$,X){if(!this.isSmith){var oe=this,Y=oe.gd,ee=oe.radius,se=oe.cx,q=oe.cy,K=oe.getRadial($),le=oe.id+"title",ie=0;if(K.title){var he=r.bBox(oe.layers["radial-axis"].node()).height,ye=K.title.font.size,Ce=K.side;ie=Ce==="top"?ye:Ce==="counterclockwise"?-(he+ye*.4):he+ye*.8}var Ae=X!==void 0?X:oe.radialAxisAngle,ke=z(Ae),we=Math.cos(ke),Ee=Math.sin(ke),xe=se+ee/2*we+ie*Ee,Re=q-ee/2*Ee+ie*we;oe.layers["radial-axis-title"]=M.draw(Y,le,{propContainer:K,propName:oe.id+".radialaxis.title",placeholder:U(Y,"Click to enter radial axis title"),attributes:{x:xe,y:Re,"text-anchor":"middle"},transform:{rotate:-Ae}})}},V.updateAngularAxis=function(fe,$){var X=this,oe=X.gd,Y=X.layers,ee=X.radius,se=X.innerRadius,q=X.cx,K=X.cy,le=X.getAngular($),ie=X.angularAxis,he=X.isSmith;he||(X.fillViewInitialKey("angularaxis.rotation",le.rotation),ie.setGeometry(),ie.setScale());var ye=he?function(dt){var at=_(X,L([0,dt.x]));return Math.atan2(at[0]-q,at[1]-K)-Math.PI/2}:function(dt){return ie.t2g(dt.x)};ie.type==="linear"&&ie.thetaunit==="radians"&&(ie.tick0=B(ie.tick0),ie.dtick=B(ie.dtick));var Ce=function(dt){return v(q+ee*Math.cos(dt),K-ee*Math.sin(dt))},Ae=he?function(dt){var at=_(X,L([0,dt.x]));return v(at[0],at[1])}:function(dt){return Ce(ye(dt))},ke=he?function(dt){var at=_(X,L([0,dt.x])),We=Math.atan2(at[0]-q,at[1]-K)-Math.PI/2;return v(at[0],at[1])+w(-B(We))}:function(dt){var at=ye(dt);return Ce(at)+w(-B(at))},we=he?function(dt){return A(X,dt.x,0,1/0)}:function(dt){var at=ye(dt),We=Math.cos(at),rt=Math.sin(at);return"M"+[q+se*We,K-se*rt]+"L"+[q+ee*We,K-ee*rt]},Ee=i.makeLabelFns(ie,0),xe=Ee.labelStandoff,Re={};Re.xFn=function(dt){var at=ye(dt);return Math.cos(at)*xe},Re.yFn=function(dt){var at=ye(dt),We=Math.sin(at)>0?.2:1;return-Math.sin(at)*(xe+dt.fontSize*We)+Math.abs(Math.cos(at))*(dt.fontSize*m)},Re.anchorFn=function(dt){var at=ye(dt),We=Math.cos(at);return Math.abs(We)<.1?"middle":We>0?"start":"end"},Re.heightFn=function(dt,at,We){var rt=ye(dt);return-.5*(1+Math.sin(rt))*We};var Ve=W(le);X.angularTickLayout!==Ve&&(Y["angular-axis"].selectAll("."+ie._id+"tick").remove(),X.angularTickLayout=Ve);var Ue=he?[1/0].concat(ie.tickvals||[]).map(function(dt){return i.tickText(ie,dt,!0,!1)}):i.calcTicks(ie);he&&(Ue[0].text="∞",Ue[0].fontSize*=1.75);var Be;if($.gridshape==="linear"?(Be=Ue.map(ye),x.angleDelta(Be[0],Be[1])<0&&(Be=Be.slice().reverse())):Be=null,X.vangles=Be,ie.type==="category"&&(Ue=Ue.filter(function(dt){return x.isAngleInsideSector(ye(dt),X.sectorInRad)})),ie.visible){var Xe=ie.ticks==="inside"?-1:1,ut=(ie.linewidth||1)/2;i.drawTicks(oe,ie,{vals:Ue,layer:Y["angular-axis"],path:"M"+Xe*ut+",0h"+Xe*ie.ticklen,transFn:ke,crisp:!1}),i.drawGrid(oe,ie,{vals:Ue,layer:Y["angular-grid"],path:we,transFn:x.noop,crisp:!1}),i.drawLabels(oe,ie,{vals:Ue,layer:Y["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Re})}ne(Y["angular-line"].select("path"),le.showline,{d:X.pathSubplot(),transform:v(q,K)}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},V.updateFx=function(fe,$){if(!this.gd._context.staticPlot){var X=!this.isSmith;X&&(this.updateAngularDrag(fe),this.updateRadialDrag(fe,$,0),this.updateRadialDrag(fe,$,1)),this.updateHoverAndMainDrag(fe)}},V.updateHoverAndMainDrag=function(fe){var $=this,X=$.isSmith,oe=$.gd,Y=$.layers,ee=fe._zoomlayer,se=E.MINZOOM,q=E.OFFEDGE,K=$.radius,le=$.innerRadius,ie=$.cx,he=$.cy,ye=$.cxx,Ce=$.cyy,Ae=$.sectorInRad,ke=$.vangles,we=$.radialAxis,Ee=b.clampTiny,xe=b.findXYatLength,Re=b.findEnclosingVertexAngles,Ve=E.cornerHalfWidth,Ue=E.cornerLen/2,Be,Xe,ut=l.makeDragger(Y,"path","maindrag",fe.dragmode===!1?"none":"crosshair");g.select(ut).attr("d",$.pathSubplot()).attr("transform",v(ie,he)),ut.onmousemove=function(St){h.hover(oe,St,$.id),oe._fullLayout._lasthover=ut,oe._fullLayout._hoversubplot=$.id},ut.onmouseout=function(St){oe._dragging||y.unhover(oe,St)};var dt={element:ut,gd:oe,subplot:$.id,plotinfo:{id:$.id,xaxis:$.xaxis,yaxis:$.yaxis},xaxes:[$.xaxis],yaxes:[$.yaxis]},at,We,rt,st,ht,vt,At,tt,_e;function je(St,kt){return Math.sqrt(St*St+kt*kt)}function Ke(St,kt){return je(St-ye,kt-Ce)}function He(St,kt){return Math.atan2(Ce-kt,St-ye)}function Ie(St,kt){return[St*Math.cos(kt),St*Math.sin(-kt)]}function be(St,kt){if(St===0)return $.pathSector(2*Ve);var Kt=Ue/St,mr=kt-Kt,mt=kt+Kt,Zt=Math.max(0,Math.min(St,K)),Qt=Zt-Ve,yr=Zt+Ve;return"M"+Ie(Qt,mr)+"A"+[Qt,Qt]+" 0,0,0 "+Ie(Qt,mt)+"L"+Ie(yr,mt)+"A"+[yr,yr]+" 0,0,1 "+Ie(yr,mr)+"Z"}function me(St,kt,Kt){if(St===0)return $.pathSector(2*Ve);var mr=Ie(St,kt),mt=Ie(St,Kt),Zt=Ee((mr[0]+mt[0])/2),Qt=Ee((mr[1]+mt[1])/2),yr,sr;if(Zt&&Qt){var bt=Qt/Zt,lt=-1/bt,Tt=xe(Ve,bt,Zt,Qt);yr=xe(Ue,lt,Tt[0][0],Tt[0][1]),sr=xe(Ue,lt,Tt[1][0],Tt[1][1])}else{var Ct,It;Qt?(Ct=Ue,It=Ve):(Ct=Ve,It=Ue),yr=[[Zt-Ct,Qt-It],[Zt+Ct,Qt-It]],sr=[[Zt-Ct,Qt+It],[Zt+Ct,Qt+It]]}return"M"+yr.join("L")+"L"+sr.reverse().join("L")+"Z"}function Me(){rt=null,st=null,ht=$.pathSubplot(),vt=!1;var St=oe._fullLayout[$.id];At=P(St.bgcolor).getLuminance(),tt=l.makeZoombox(ee,At,ie,he,ht),tt.attr("fill-rule","evenodd"),_e=l.makeCorners(ee,ie,he),d(oe)}function Te(St,kt){return kt=Math.max(Math.min(kt,K),le),St<q?St=0:K-St<q?St=K:kt<q?kt=0:K-kt<q&&(kt=K),Math.abs(kt-St)>se?(St<kt?(rt=St,st=kt):(rt=kt,st=St),!0):(rt=null,st=null,!1)}function ze(St,kt){St=St||ht,kt=kt||"M0,0Z",tt.attr("d",St),_e.attr("d",kt),l.transitionZoombox(tt,_e,vt,At),vt=!0;var Kt={};Yt(Kt),oe.emit("plotly_relayouting",Kt)}function Je(St,kt){St=St*Be,kt=kt*Xe;var Kt=at+St,mr=We+kt,mt=Ke(at,We),Zt=Math.min(Ke(Kt,mr),K),Qt=He(at,We),yr,sr;Te(mt,Zt)&&(yr=ht+$.pathSector(st),rt&&(yr+=$.pathSector(rt)),sr=be(rt,Qt)+be(st,Qt)),ze(yr,sr)}function nt(St,kt,Kt,mr){var mt=b.findIntersectionXY(Kt,mr,Kt,[St-ye,Ce-kt]);return je(mt[0],mt[1])}function pt(St,kt){var Kt=at+St,mr=We+kt,mt=He(at,We),Zt=He(Kt,mr),Qt=Re(mt,ke),yr=Re(Zt,ke),sr=nt(at,We,Qt[0],Qt[1]),bt=Math.min(nt(Kt,mr,yr[0],yr[1]),K),lt,Tt;Te(sr,bt)&&(lt=ht+$.pathSector(st),rt&&(lt+=$.pathSector(rt)),Tt=[me(rt,Qt[0],Qt[1]),me(st,Qt[0],Qt[1])].join(" ")),ze(lt,Tt)}function yt(){if(l.removeZoombox(oe),!(rt===null||st===null)){var St={};Yt(St),l.showDoubleClickNotifier(oe),a.call("_guiRelayout",oe,St)}}function Yt(St){var kt=we._rl,Kt=(kt[1]-kt[0])/(1-le/K)/K,mr=[kt[0]+(rt-le)*Kt,kt[0]+(st-le)*Kt];St[$.id+".radialaxis.range"]=mr}function Xt(St,kt){var Kt=oe._fullLayout.clickmode;if(l.removeZoombox(oe),St===2){var mr={};for(var mt in $.viewInitial)mr[$.id+"."+mt]=$.viewInitial[mt];oe.emit("plotly_doubleclick",null),a.call("_guiRelayout",oe,mr)}Kt.indexOf("select")>-1&&St===1&&o(kt,oe,[$.xaxis],[$.yaxis],$.id,dt),Kt.indexOf("event")>-1&&h.click(oe,kt,$.id)}dt.prepFn=function(St,kt,Kt){var mr=oe._fullLayout.dragmode,mt=ut.getBoundingClientRect();oe._fullLayout._calcInverseTransform(oe);var Zt=oe._fullLayout._invTransform;Be=oe._fullLayout._invScaleX,Xe=oe._fullLayout._invScaleY;var Qt=x.apply3DTransform(Zt)(kt-mt.left,Kt-mt.top);if(at=Qt[0],We=Qt[1],ke){var yr=b.findPolygonOffset(K,Ae[0],Ae[1],ke);at+=ye+yr[0],We+=Ce+yr[1]}switch(mr){case"zoom":dt.clickFn=Xt,X||(ke?dt.moveFn=pt:dt.moveFn=Je,dt.doneFn=yt,Me());break;case"select":case"lasso":c(St,kt,Kt,dt,mr);break}},y.init(dt)},V.updateRadialDrag=function(fe,$,X){var oe=this,Y=oe.gd,ee=oe.layers,se=oe.radius,q=oe.innerRadius,K=oe.cx,le=oe.cy,ie=oe.radialAxis,he=E.radialDragBoxSize,ye=he/2;if(!ie.visible)return;var Ce=z(oe.radialAxisAngle),Ae=ie._rl,ke=Ae[0],we=Ae[1],Ee=Ae[X],xe=.75*(Ae[1]-Ae[0])/(1-oe.getHole($))/se,Re,Ve,Ue;X?(Re=K+(se+ye)*Math.cos(Ce),Ve=le-(se+ye)*Math.sin(Ce),Ue="radialdrag"):(Re=K+(q-ye)*Math.cos(Ce),Ve=le-(q-ye)*Math.sin(Ce),Ue="radialdrag-inner");var Be=l.makeRectDragger(ee,Ue,"crosshair",-ye,-ye,he,he),Xe={element:Be,gd:Y};fe.dragmode===!1&&(Xe.dragmode=!1),ne(g.select(Be),ie.visible&&q<se,{transform:v(Re,Ve)});var ut,dt,at;function We(At,tt){if(ut)ut(At,tt);else{var _e=[At,-tt],je=[Math.cos(Ce),Math.sin(Ce)],Ke=Math.abs(x.dot(_e,je)/Math.sqrt(x.dot(_e,_e)));isNaN(Ke)||(ut=Ke<.5?ht:vt)}var He={};rt(He),Y.emit("plotly_relayouting",He)}function rt(At){dt!==null?At[oe.id+".radialaxis.angle"]=dt:at!==null&&(At[oe.id+".radialaxis.range["+X+"]"]=at)}function st(){dt!==null?a.call("_guiRelayout",Y,oe.id+".radialaxis.angle",dt):at!==null&&a.call("_guiRelayout",Y,oe.id+".radialaxis.range["+X+"]",at)}function ht(At,tt){if(X!==0){var _e=Re+At,je=Ve+tt;dt=Math.atan2(le-je,_e-K),oe.vangles&&(dt=re(dt,oe.vangles)),dt=B(dt);var Ke=v(K,le)+w(-dt);ee["radial-axis"].attr("transform",Ke),ee["radial-line"].select("line").attr("transform",Ke);var He=oe.gd._fullLayout,Ie=He[oe.id];oe.updateRadialAxisTitle(He,Ie,dt)}}function vt(At,tt){var _e=x.dot([At,-tt],[Math.cos(Ce),Math.sin(Ce)]);if(at=Ee-xe*_e,xe>0!=(X?at>ke:at<we)){at=null;return}var je=Y._fullLayout,Ke=je[oe.id];ie.range[X]=at,ie._rl[X]=at,oe.updateRadialAxis(je,Ke),oe.xaxis.setRange(),oe.xaxis.setScale(),oe.yaxis.setRange(),oe.yaxis.setScale();var He=!1;for(var Ie in oe.traceHash){var be=oe.traceHash[Ie],me=x.filterVisible(be),Me=be[0][0].trace._module;Me.plot(Y,oe,me,Ke),a.traceIs(Ie,"gl")&&me.length&&(He=!0)}He&&(S(Y),C(Y))}Xe.prepFn=function(){ut=null,dt=null,at=null,Xe.moveFn=We,Xe.doneFn=st,d(Y)},Xe.clampFn=function(At,tt){return Math.sqrt(At*At+tt*tt)<E.MINDRAG&&(At=0,tt=0),[At,tt]},y.init(Xe)},V.updateAngularDrag=function(fe){var $=this,X=$.gd,oe=$.layers,Y=$.radius,ee=$.angularAxis,se=$.cx,q=$.cy,K=$.cxx,le=$.cyy,ie=E.angularDragBoxSize,he=l.makeDragger(oe,"path","angulardrag",fe.dragmode===!1?"none":"move"),ye={element:he,gd:X};fe.dragmode===!1?ye.dragmode=!1:g.select(he).attr("d",$.pathAnnulus(Y,Y+ie)).attr("transform",v(se,q)).call(T,"move");function Ce(at,We){return Math.atan2(le+ie-We,at-K-ie)}var Ae=oe.frontplot.select(".scatterlayer").selectAll(".trace"),ke=Ae.selectAll(".point"),we=Ae.selectAll(".textpoint"),Ee,xe,Re,Ve,Ue,Be;function Xe(at,We){var rt=$.gd._fullLayout,st=rt[$.id],ht=Ee+at*fe._invScaleX,vt=xe+We*fe._invScaleY,At=Ce(ht,vt),tt=B(At-Be);if(Ve=Re+tt,oe.frontplot.attr("transform",v($.xOffset2,$.yOffset2)+w([-tt,K,le])),$.vangles){Ue=$.radialAxisAngle+tt;var _e=v(se,q)+w(-tt),je=v(se,q)+w(-Ue);oe.bg.attr("transform",_e),oe["radial-grid"].attr("transform",_e),oe["radial-axis"].attr("transform",je),oe["radial-line"].select("line").attr("transform",je),$.updateRadialAxisTitle(rt,st,Ue)}else $.clipPaths.forTraces.select("path").attr("transform",v(K,le)+w(tt));ke.each(function(){var Te=g.select(this),ze=r.getTranslate(Te);Te.attr("transform",v(ze.x,ze.y)+w([tt]))}),we.each(function(){var Te=g.select(this),ze=Te.select("text"),Je=r.getTranslate(Te);Te.attr("transform",w([tt,ze.attr("x"),ze.attr("y")])+v(Je.x,Je.y))}),ee.rotation=x.modHalf(Ve,360),$.updateAngularAxis(rt,st),$._hasClipOnAxisFalse&&!x.isFullCircle($.sectorInRad)&&Ae.call(r.hideOutsideRangePoints,$);var Ke=!1;for(var He in $.traceHash)if(a.traceIs(He,"gl")){var Ie=$.traceHash[He],be=x.filterVisible(Ie),me=Ie[0][0].trace._module;me.plot(X,$,be,st),be.length&&(Ke=!0)}Ke&&(S(X),C(X));var Me={};ut(Me),X.emit("plotly_relayouting",Me)}function ut(at){at[$.id+".angularaxis.rotation"]=Ve,$.vangles&&(at[$.id+".radialaxis.angle"]=Ue)}function dt(){we.select("text").attr("transform",null);var at={};ut(at),a.call("_guiRelayout",X,at)}ye.prepFn=function(at,We,rt){var st=fe[$.id];Re=st.angularaxis.rotation;var ht=he.getBoundingClientRect();Ee=We-ht.left,xe=rt-ht.top,X._fullLayout._calcInverseTransform(X);var vt=x.apply3DTransform(fe._invTransform)(Ee,xe);Ee=vt[0],xe=vt[1],Be=Ce(Ee,xe),ye.moveFn=Xe,ye.doneFn=dt,d(X)},$.vangles&&!x.isFullCircle($.sectorInRad)&&(ye.prepFn=x.noop,T(g.select(he),null)),y.init(ye)},V.isPtInside=function(fe){if(this.isSmith)return!0;var $=this.sectorInRad,X=this.vangles,oe=this.angularAxis.c2g(fe.theta),Y=this.radialAxis,ee=Y.c2l(fe.r),se=Y._rl,q=X?b.isPtInsidePolygon:x.isPtInsideSector;return q(ee,oe,se,$,X)},V.pathArc=function(fe){var $=this.sectorInRad,X=this.vangles,oe=X?b.pathPolygon:x.pathArc;return oe(fe,$[0],$[1],X)},V.pathSector=function(fe){var $=this.sectorInRad,X=this.vangles,oe=X?b.pathPolygon:x.pathSector;return oe(fe,$[0],$[1],X)},V.pathAnnulus=function(fe,$){var X=this.sectorInRad,oe=this.vangles,Y=oe?b.pathPolygonAnnulus:x.pathAnnulus;return Y(fe,$,X[0],X[1],oe)},V.pathSubplot=function(){var fe=this.innerRadius,$=this.radius;return fe?this.pathAnnulus(fe,$):this.pathSector($)},V.fillViewInitialKey=function(fe,$){fe in this.viewInitial||(this.viewInitial[fe]=$)};function W(fe){var $=fe.ticks+String(fe.ticklen)+String(fe.showticklabels);return"side"in fe&&($+=fe.side),$}function Q(fe){var $=fe[0],X=fe[1],oe=X-$,Y=F($,360),ee=Y+oe,se=Math.cos(z(Y)),q=Math.sin(z(Y)),K=Math.cos(z(ee)),le=Math.sin(z(ee)),ie,he,ye,Ce;return Y<=90&&ee>=90||Y>90&&ee>=450?Ce=1:q<=0&&le<=0?Ce=0:Ce=Math.max(q,le),Y<=180&&ee>=180||Y>180&&ee>=540?ie=-1:se>=0&&K>=0?ie=0:ie=Math.min(se,K),Y<=270&&ee>=270||Y>270&&ee>=630?he=-1:q>=0&&le>=0?he=0:he=Math.min(q,le),ee>=360?ye=1:se<=0&&K<=0?ye=0:ye=Math.max(se,K),[ie,he,ye,Ce]}function re(fe,$){var X=function(Y){return x.angleDist(fe,Y)},oe=x.findIndexOfMin($,X);return $[oe]}function ne(fe,$,X){return $?(fe.attr("display",null),fe.attr(X)):fe&&fe.attr("display","none"),fe}},57696:function(H,j,e){var g=e(3400),P=e(78344),a=g.deg2rad,x=g.rad2deg;H.exports=function(i,n,u){switch(P(i,u),i._id){case"x":case"radialaxis":w(i,n);break;case"angularaxis":r(i,n);break}};function w(t,i){var n=i._subplot;t.setGeometry=function(){var u=t._rl[0],f=t._rl[1],l=n.innerRadius,y=(n.radius-l)/(f-u),h=l/y,M=u>f?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var o=t.c2l(c)-u;return(M(o)?o:0)+h},t.g2c=function(c){return t.l2c(c+u-h)},t.g2p=function(c){return c*y},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,i){return i==="degrees"?a(t):t}function p(t,i){return i==="degrees"?x(t):t}function r(t,i){var n=t.type;if(n==="linear"){var u=t.d2c,f=t.c2d;t.d2c=function(l,y){return v(u(l),y)},t.c2d=function(l,y){return f(p(l,y))}}t.makeCalcdata=function(l,y){var h=l[y],M=l._length,c,o,d=function(E){return t.d2c(E,l.thetaunit)};if(h)for(c=new Array(M),o=0;o<M;o++)c[o]=d(h[o]);else{var T=y+"0",S="d"+y,C=T in l?d(l[T]):0,m=l[S]?d(l[S]):(t.period||2*Math.PI)/M;for(c=new Array(M),o=0;o<M;o++)c[o]=C+o*m}return c},t.setGeometry=function(){var l=i.sector,y=l.map(a),h={clockwise:-1,counterclockwise:1}[t.direction],M=a(t.rotation),c=function(b){return h*b+M},o=function(b){return(b-M)/h},d,T,S,C;switch(n){case"linear":T=d=g.identity,C=a,S=x,t.range=g.isFullCircle(y)?[l[0],l[0]+360]:y.map(o).map(x);break;case"category":var m=t._categories.length,E=t.period?Math.max(t.period,m):m;E===0&&(E=1),T=C=function(b){return b*2*Math.PI/E},d=S=function(b){return b*E/Math.PI/2},t.range=[0,E];break}t.c2g=function(b){return c(T(b))},t.g2c=function(b){return d(o(b))},t.t2g=function(b){return c(C(b))},t.g2t=function(b){return S(o(b))}}}},55012:function(H){H.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(H){function j(w){return w<0?-1:w>0?1:0}function e(w){var v=w[0],p=w[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function g(w,v){var p=v[0],r=v[1];return[p*w.radius+w.cx,-r*w.radius+w.cy]}function P(w,v){return v*w.radius}function a(w,v,p,r){var t=g(w,e([p,v])),i=t[0],n=t[1],u=g(w,e([r,v])),f=u[0],l=u[1];if(v===0)return["M"+i+","+n,"L"+f+","+l].join(" ");var y=P(w,1/Math.abs(v));return["M"+i+","+n,"A"+y+","+y+" 0 0,"+(v<0?1:0)+" "+f+","+l].join(" ")}function x(w,v,p,r){var t=P(w,1/(v+1)),i=g(w,e([v,p])),n=i[0],u=i[1],f=g(w,e([v,r])),l=f[0],y=f[1];if(j(p)!==j(r)){var h=g(w,e([v,0])),M=h[0],c=h[1];return["M"+n+","+u,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+M+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+y].join(" ")}return["M"+n+","+u,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+y].join(" ")}H.exports={smith:e,reactanceArc:a,resistanceArc:x,smithTransform:g}},47788:function(H,j,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(62400),x=e(55012),w=x.attr,v=x.name,p=P(v),r={};r[w]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var u=n._fullLayout,f=n.calcdata,l=u._subplots[v],y=0;y<l.length;y++){var h=l[y],M=g(f,v,h),c=u[h]._subplot;c||(c=a(n,h,!0),u[h]._subplot=c),c.plot(M,u,n._promises)}}function i(n,u,f,l){for(var y=l._subplots[v]||[],h=0;h<y.length;h++){var M=y[h],c=l[M]._subplot;if(!u[M]&&c){c.framework.remove();for(var o in c.clipPaths)c.clipPaths[o].remove()}}}H.exports={attr:w,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:i,toSVG:e(57952).toSVG}},6183:function(H,j,e){var g=e(22548),P=e(94724),a=e(86968).u,x=e(3400).extendFlat,w=e(67824).overrideAll,v=w({color:P.color,showline:x({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:x({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=w({ticklen:P.ticklen,tickwidth:x({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=x({visible:x({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:x({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=x({visible:x({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);H.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(H,j,e){var g=e(3400),P=e(76308),a=e(31780),x=e(168),w=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),i=e(6183),n=e(55012),u=n.axisNames,f=y(function(h){return g.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(M){return-M}).concat([0]).concat(h)},String);function l(h,M,c,o){var d=c("bgcolor");o.bgColor=P.combine(d,o.paper_bgcolor);var T=w(o.fullData,n.name,o.id),S=o.layoutOut,C;function m(V,W){return c(C+"."+V,W)}for(var E=0;E<u.length;E++){C=u[E],g.isPlainObject(h[C])||(h[C]={});var b=h[C],s=a.newContainer(M,C);s._id=s._name=C,s._attr=o.id+"."+C,s._traceIndices=T.map(function(V){return V._expandedIndex});var L=m("visible");if(s.type="linear",t(s,S),v(b,s,m,s.type),L){var A=C==="realaxis";if(A&&m("side"),A)m("tickvals");else{var k=f(M.realaxis.tickvals||i.realaxis.tickvals.dflt);m("tickvals",k)}g.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var _,U,F,z,B=o.font||{};L&&(_=m("color"),U=_===b.color?_:B.color,F=B.size,z=B.family),p(b,s,m,s.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!A,noExp:!0,font:{color:U,size:F,family:z}}),g.coerce2(h,M,i,C+".ticklen"),g.coerce2(h,M,i,C+".tickwidth"),g.coerce2(h,M,i,C+".tickcolor",M.color);var N=m("ticks");N||(delete M[C].ticklen,delete M[C].tickwidth,delete M[C].tickcolor),r(b,s,m,{dfltColor:_,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[C]}),m("layer")}m("hoverformat"),delete s.type,s._input=b}}H.exports=function(M,c,o){x(M,c,o,{noUirevision:!0,type:n.name,attributes:i,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:o,layoutOut:c})};function y(h,M){var c={};return function(o){var d=M?M(o):o;if(d in c)return c[d];var T=h(o);return c[d]=T,T}}},168:function(H,j,e){var g=e(3400),P=e(31780),a=e(86968).Q;H.exports=function(w,v,p,r){var t=r.type,i=r.attributes,n=r.handleDefaults,u=r.partition||"x",f=v._subplots[t],l=f.length,y=l&&f[0].replace(/\d+$/,""),h,M;function c(S,C){return g.coerce(h,M,i,S,C)}for(var o=0;o<l;o++){var d=f[o];w[d]?h=w[d]:h=w[d]={},M=P.newContainer(v,d,y),r.noUirevision||c("uirevision",v.uirevision);var T={};T[u]=[o/l,(o+1)/l],a(M,v,c,T),r.id=d,n(h,M,c,r)}}},21776:function(H,j,e){var g=e(26880);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function P(a){var x=a.description?" "+a.description:"",w=a.keys||[];if(w.length>0){for(var v=[],p=0;p<w.length;p++)v[p]="`"+w[p]+"`";x=x+"Finally, the template string has access to ",w.length===1?x=x+"variable "+v[0]:x=x+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return x}j.Ks=function(a,x){a=a||{},x=x||{},P(x);var w={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(w.arrayOk=!0),w},j.Gw=function(a,x){a=a||{},x=x||{},P(x);var w={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(w.arrayOk=!0),w},j.ye=function(a,x){a=a||{},x=x||{},a.newshape,P(x);var w={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return w}},19352:function(H,j,e){var g=e(24696),P=e(84888).KY,a=e(3400).counterRegex,x="ternary";j.name=x;var w=j.attr="subplot";j.idRoot=x,j.idRegex=j.attrRegex=a(x);var v=j.attributes={};v[w]={valType:"subplotid",dflt:"ternary",editType:"calc"},j.layoutAttributes=e(86379),j.supplyLayoutDefaults=e(38536),j.plot=function(r){for(var t=r._fullLayout,i=r.calcdata,n=t._subplots[x],u=0;u<n.length;u++){var f=n[u],l=P(i,x,f),y=t[f]._subplot;y||(y=new g({id:f,graphDiv:r,container:t._ternarylayer.node()},t),t[f]._subplot=y),y.plot(l,t,r._promises)}},j.clean=function(p,r,t,i){for(var n=i._subplots[x]||[],u=0;u<n.length;u++){var f=n[u],l=i[f]._subplot;!r[f]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(H,j,e){var g=e(22548),P=e(86968).u,a=e(94724),x=e(67824).overrideAll,w=e(92880).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:w({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:w({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:w({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},p=H.exports=x({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(H,j,e){var g=e(76308),P=e(31780),a=e(3400),x=e(168),w=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),i=e(86379),n=["aaxis","baxis","caxis"];H.exports=function(y,h,M){x(y,h,M,{type:"ternary",attributes:i,handleDefaults:u,font:h.font,paper_bgcolor:h.paper_bgcolor})};function u(l,y,h,M){var c=h("bgcolor"),o=h("sum");M.bgColor=g.combine(c,M.paper_bgcolor);for(var d,T,S,C=0;C<n.length;C++)d=n[C],T=l[d]||{},S=P.newContainer(y,d),S._name=d,f(T,S,M,y);var m=y.aaxis,E=y.baxis,b=y.caxis;m.min+E.min+b.min>=o&&(m.min=0,E.min=0,b.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function f(l,y,h,M){var c=i[y._name];function o(s,L){return a.coerce(l,y,c,s,L)}o("uirevision",M.uirevision),y.type="linear";var d=o("color"),T=d!==c.color.dflt?d:h.font.color,S=y._name,C=S.charAt(0).toUpperCase(),m="Component "+C,E=o("title.text",m);y._hovertitle=E===m?E:C,a.coerceFont(o,"title.font",{family:h.font.family,size:a.bigFont(h.font.size),color:T}),o("min"),r(l,y,o,"linear"),v(l,y,o,"linear"),w(l,y,o,"linear",{noAutotickangles:!0}),p(l,y,o,{outerTicks:!0});var b=o("showticklabels");b&&(a.coerceFont(o,"tickfont",{family:h.font.family,size:h.font.size,color:T}),o("tickangle"),o("tickformat")),t(l,y,o,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),o("hoverformat"),o("layer")}},24696:function(H,j,e){var g=e(33428),P=e(49760),a=e(24040),x=e(3400),w=x.strTranslate,v=x._,p=e(76308),r=e(43616),t=e(78344),i=e(92880).extendFlat,n=e(7316),u=e(54460),f=e(86476),l=e(93024),y=e(72760),h=y.freeMode,M=y.rectMode,c=e(81668),o=e(22676).prepSelect,d=e(22676).selectOnClick,T=e(22676).clearOutline,S=e(22676).clearSelectionsCache,C=e(33816);function m(B,N){this.id=B.id,this.graphDiv=B.graphDiv,this.init(N),this.makeFramework(N),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}H.exports=m;var E=m.prototype;E.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},E.plot=function(B,N){var V=this,W=N[V.id],Q=N._size;V._hasClipOnAxisFalse=!1;for(var re=0;re<B.length;re++){var ne=B[re][0].trace;if(ne.cliponaxis===!1){V._hasClipOnAxisFalse=!0;break}}V.updateLayers(W),V.adjustLayout(W,Q),n.generalUpdatePerTraceModule(V.graphDiv,V,B,W),V.layers.plotbg.select("path").call(p.fill,W.bgcolor)},E.makeFramework=function(B){var N=this,V=N.graphDiv,W=B[N.id],Q=N.clipId="clip"+N.layoutId+N.id,re=N.clipIdRelative="clip-relative"+N.layoutId+N.id;N.clipDef=x.ensureSingleById(B._clips,"clipPath",Q,function(ne){ne.append("path").attr("d","M0,0Z")}),N.clipDefRelative=x.ensureSingleById(B._clips,"clipPath",re,function(ne){ne.append("path").attr("d","M0,0Z")}),N.plotContainer=x.ensureSingle(N.container,"g",N.id),N.updateLayers(W),r.setClipUrl(N.layers.backplot,Q,V),r.setClipUrl(N.layers.grids,Q,V)},E.updateLayers=function(B){var N=this,V=N.layers,W=["draglayer","plotbg","backplot","grids"];B.aaxis.layer==="below traces"&&W.push("aaxis","aline"),B.baxis.layer==="below traces"&&W.push("baxis","bline"),B.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),B.aaxis.layer==="above traces"&&W.push("aaxis","aline"),B.baxis.layer==="above traces"&&W.push("baxis","bline"),B.caxis.layer==="above traces"&&W.push("caxis","cline");var Q=N.plotContainer.selectAll("g.toplevel").data(W,String),re=["agrid","bgrid","cgrid"];Q.enter().append("g").attr("class",function(ne){return"toplevel "+ne}).each(function(ne){var fe=g.select(this);V[ne]=fe,ne==="frontplot"?fe.append("g").classed("scatterlayer",!0):ne==="backplot"?fe.append("g").classed("maplayer",!0):ne==="plotbg"?fe.append("path").attr("d","M0,0Z"):ne==="aline"||ne==="bline"||ne==="cline"?fe.append("path"):ne==="grids"&&re.forEach(function($){V[$]=fe.append("g").classed("grid "+$,!0)})}),Q.order()};var b=Math.sqrt(4/3);E.adjustLayout=function(B,N){var V=this,W=B.domain,Q=(W.x[0]+W.x[1])/2,re=(W.y[0]+W.y[1])/2,ne=W.x[1]-W.x[0],fe=W.y[1]-W.y[0],$=ne*N.w,X=fe*N.h,oe=B.sum,Y=B.aaxis.min,ee=B.baxis.min,se=B.caxis.min,q,K,le,ie,he,ye;$>b*X?(ie=X,le=ie*b):(le=$,ie=le/b),he=ne*le/$,ye=fe*ie/X,q=N.l+N.w*Q-le/2,K=N.t+N.h*(1-re)-ie/2,V.x0=q,V.y0=K,V.w=le,V.h=ie,V.sum=oe,V.xaxis={type:"linear",range:[Y+2*se-oe,oe-Y-2*ee],domain:[Q-he/2,Q+he/2],_id:"x"},t(V.xaxis,V.graphDiv._fullLayout),V.xaxis.setScale(),V.xaxis.isPtWithinRange=function(Xe){return Xe.a>=V.aaxis.range[0]&&Xe.a<=V.aaxis.range[1]&&Xe.b>=V.baxis.range[1]&&Xe.b<=V.baxis.range[0]&&Xe.c>=V.caxis.range[1]&&Xe.c<=V.caxis.range[0]},V.yaxis={type:"linear",range:[Y,oe-ee-se],domain:[re-ye/2,re+ye/2],_id:"y"},t(V.yaxis,V.graphDiv._fullLayout),V.yaxis.setScale(),V.yaxis.isPtWithinRange=function(){return!0};var Ce=V.yaxis.domain[0],Ae=V.aaxis=i({},B.aaxis,{range:[Y,oe-ee-se],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[Ce,Ce+ye*b],anchor:"free",position:0,_id:"y",_length:le});t(Ae,V.graphDiv._fullLayout),Ae.setScale();var ke=V.baxis=i({},B.baxis,{range:[oe-Y-se,ee],side:"bottom",domain:V.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});t(ke,V.graphDiv._fullLayout),ke.setScale();var we=V.caxis=i({},B.caxis,{range:[oe-Y-ee,se],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[Ce,Ce+ye*b],anchor:"free",position:0,_id:"y",_length:le});t(we,V.graphDiv._fullLayout),we.setScale();var Ee="M"+q+","+(K+ie)+"h"+le+"l-"+le/2+",-"+ie+"Z";V.clipDef.select("path").attr("d",Ee),V.layers.plotbg.select("path").attr("d",Ee);var xe="M0,"+ie+"h"+le+"l-"+le/2+",-"+ie+"Z";V.clipDefRelative.select("path").attr("d",xe);var Re=w(q,K);V.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Re),V.clipDefRelative.select("path").attr("transform",null);var Ve=w(q-ke._offset,K+ie);V.layers.baxis.attr("transform",Ve),V.layers.bgrid.attr("transform",Ve);var Ue=w(q+le/2,K)+"rotate(30)"+w(0,-Ae._offset);V.layers.aaxis.attr("transform",Ue),V.layers.agrid.attr("transform",Ue);var Be=w(q+le/2,K)+"rotate(-30)"+w(0,-we._offset);V.layers.caxis.attr("transform",Be),V.layers.cgrid.attr("transform",Be),V.drawAxes(!0),V.layers.aline.select("path").attr("d",Ae.showline?"M"+q+","+(K+ie)+"l"+le/2+",-"+ie:"M0,0").call(p.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),V.layers.bline.select("path").attr("d",ke.showline?"M"+q+","+(K+ie)+"h"+le:"M0,0").call(p.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),V.layers.cline.select("path").attr("d",we.showline?"M"+(q+le/2)+","+K+"l"+le/2+","+ie:"M0,0").call(p.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),V.graphDiv._context.staticPlot||V.initInteractions(),r.setClipUrl(V.layers.frontplot,V._hasClipOnAxisFalse?null:V.clipId,V.graphDiv)},E.drawAxes=function(B){var N=this,V=N.graphDiv,W=N.id.substr(7)+"title",Q=N.layers,re=N.aaxis,ne=N.baxis,fe=N.caxis;if(N.drawAx(re),N.drawAx(ne),N.drawAx(fe),B){var $=Math.max(re.showticklabels?re.tickfont.size/2:0,(fe.showticklabels?fe.tickfont.size*.75:0)+(fe.ticks==="outside"?fe.ticklen*.87:0)),X=(ne.showticklabels?ne.tickfont.size:0)+(ne.ticks==="outside"?ne.ticklen:0)+3;Q["a-title"]=c.draw(V,"a"+W,{propContainer:re,propName:N.id+".aaxis.title",placeholder:v(V,"Click to enter Component A title"),attributes:{x:N.x0+N.w/2,y:N.y0-re.title.font.size/3-$,"text-anchor":"middle"}}),Q["b-title"]=c.draw(V,"b"+W,{propContainer:ne,propName:N.id+".baxis.title",placeholder:v(V,"Click to enter Component B title"),attributes:{x:N.x0-X,y:N.y0+N.h+ne.title.font.size*.83+X,"text-anchor":"middle"}}),Q["c-title"]=c.draw(V,"c"+W,{propContainer:fe,propName:N.id+".caxis.title",placeholder:v(V,"Click to enter Component C title"),attributes:{x:N.x0+N.w+X,y:N.y0+N.h+fe.title.font.size*.83+X,"text-anchor":"middle"}})}},E.drawAx=function(B){var N=this,V=N.graphDiv,W=B._name,Q=W.charAt(0),re=B._id,ne=N.layers[W],fe=30,$=Q+"tickLayout",X=s(B);N[$]!==X&&(ne.selectAll("."+re+"tick").remove(),N[$]=X),B.setScale();var oe=u.calcTicks(B),Y=u.clipEnds(B,oe),ee=u.makeTransTickFn(B),se=u.getTickSigns(B)[2],q=x.deg2rad(fe),K=se*(B.linewidth||1)/2,le=se*B.ticklen,ie=N.w,he=N.h,ye=Q==="b"?"M0,"+K+"l"+Math.sin(q)*le+","+Math.cos(q)*le:"M"+K+",0l"+Math.cos(q)*le+","+-Math.sin(q)*le,Ce={a:"M0,0l"+he+",-"+ie/2,b:"M0,0l-"+ie/2+",-"+he,c:"M0,0l-"+he+","+ie/2}[Q];u.drawTicks(V,B,{vals:B.ticks==="inside"?Y:oe,layer:ne,path:ye,transFn:ee,crisp:!1}),u.drawGrid(V,B,{vals:Y,layer:N.layers[Q+"grid"],path:Ce,transFn:ee,crisp:!1}),u.drawLabels(V,B,{vals:oe,layer:ne,transFn:ee,labelFns:u.makeLabelFns(B,0,fe)})};function s(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}var L=C.MINZOOM/2+.87,A="m-0.87,.5h"+L+"v3h-"+(L+5.2)+"l"+(L/2+2.6)+",-"+(L*.87+4.5)+"l2.6,1.5l-"+L/2+","+L*.87+"Z",k="m0.87,.5h-"+L+"v3h"+(L+5.2)+"l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-2.6,1.5l"+L/2+","+L*.87+"Z",_="m0,1l"+L/2+","+L*.87+"l2.6,-1.5l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-"+(L/2+2.6)+","+(L*.87+4.5)+"l2.6,1.5l"+L/2+",-"+L*.87+"Z",U="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;E.clearOutline=function(){S(this.dragOptions),T(this.dragOptions.gd)},E.initInteractions=function(){var B=this,N=B.layers.plotbg.select("path").node(),V=B.graphDiv,W=V._fullLayout._zoomlayer,Q,re;this.dragOptions={element:N,gd:V,plotinfo:{id:B.id,domain:V._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(Ve,Ue,Be){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],Q=V._fullLayout._invScaleX,re=V._fullLayout._invScaleY;var Xe=B.dragOptions.dragmode=V._fullLayout.dragmode;h(Xe)?B.dragOptions.minDrag=1:B.dragOptions.minDrag=void 0,Xe==="zoom"?(B.dragOptions.moveFn=ke,B.dragOptions.clickFn=ie,B.dragOptions.doneFn=we,he(Ve,Ue,Be)):Xe==="pan"?(B.dragOptions.moveFn=xe,B.dragOptions.clickFn=ie,B.dragOptions.doneFn=Re,Ee(),B.clearOutline(V)):(M(Xe)||h(Xe))&&o(Ve,Ue,Be,B.dragOptions,Xe)}};var ne,fe,$,X,oe,Y,ee,se,q,K;function le(Ve){var Ue={};return Ue[B.id+".aaxis.min"]=Ve.a,Ue[B.id+".baxis.min"]=Ve.b,Ue[B.id+".caxis.min"]=Ve.c,Ue}function ie(Ve,Ue){var Be=V._fullLayout.clickmode;z(V),Ve===2&&(V.emit("plotly_doubleclick",null),a.call("_guiRelayout",V,le({a:0,b:0,c:0}))),Be.indexOf("select")>-1&&Ve===1&&d(Ue,V,[B.xaxis],[B.yaxis],B.id,B.dragOptions),Be.indexOf("event")>-1&&l.click(V,Ue,B.id)}function he(Ve,Ue,Be){var Xe=N.getBoundingClientRect();ne=Ue-Xe.left,fe=Be-Xe.top,V._fullLayout._calcInverseTransform(V);var ut=V._fullLayout._invTransform,dt=x.apply3DTransform(ut)(ne,fe);ne=dt[0],fe=dt[1],$={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},oe=$,X=B.aaxis.range[1]-$.a,Y=P(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),ee="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",se=!1,q=W.append("path").attr("class","zoombox").attr("transform",w(B.x0,B.y0)).style({fill:Y>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ee),K=W.append("path").attr("class","zoombox-corners").attr("transform",w(B.x0,B.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(V)}function ye(Ve,Ue){return 1-Ue/B.h}function Ce(Ve,Ue){return 1-(Ve+(B.h-Ue)/Math.sqrt(3))/B.w}function Ae(Ve,Ue){return(Ve-(B.h-Ue)/Math.sqrt(3))/B.w}function ke(Ve,Ue){var Be=ne+Ve*Q,Xe=fe+Ue*re,ut=Math.max(0,Math.min(1,ye(ne,fe),ye(Be,Xe))),dt=Math.max(0,Math.min(1,Ce(ne,fe),Ce(Be,Xe))),at=Math.max(0,Math.min(1,Ae(ne,fe),Ae(Be,Xe))),We=(ut/2+at)*B.w,rt=(1-ut/2-dt)*B.w,st=(We+rt)/2,ht=rt-We,vt=(1-ut)*B.h,At=vt-ht/b;ht<C.MINZOOM?(oe=$,q.attr("d",ee),K.attr("d","M0,0Z")):(oe={a:$.a+ut*X,b:$.b+dt*X,c:$.c+at*X},q.attr("d",ee+"M"+We+","+vt+"H"+rt+"L"+st+","+At+"L"+We+","+vt+"Z"),K.attr("d","M"+ne+","+fe+U+"M"+We+","+vt+A+"M"+rt+","+vt+k+"M"+st+","+At+_)),se||(q.transition().style("fill",Y>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200),se=!0),V.emit("plotly_relayouting",le(oe))}function we(){z(V),oe!==$&&(a.call("_guiRelayout",V,le(oe)),F&&V.data&&V._context.showTips&&(x.notifier(v(V,"Double-click to zoom back out"),"long"),F=!1))}function Ee(){$={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},oe=$}function xe(Ve,Ue){var Be=Ve/B.xaxis._m,Xe=Ue/B.yaxis._m;oe={a:$.a-Xe,b:$.b+(Be+Xe)/2,c:$.c-(Be-Xe)/2};var ut=[oe.a,oe.b,oe.c].sort(x.sorterAsc),dt={a:ut.indexOf(oe.a),b:ut.indexOf(oe.b),c:ut.indexOf(oe.c)};ut[0]<0&&(ut[1]+ut[0]/2<0?(ut[2]+=ut[0]+ut[1],ut[0]=ut[1]=0):(ut[2]+=ut[0]/2,ut[1]+=ut[0]/2,ut[0]=0),oe={a:ut[dt.a],b:ut[dt.b],c:ut[dt.c]},Ue=($.a-oe.a)*B.yaxis._m,Ve=($.c-oe.c-$.b+oe.b)*B.xaxis._m);var at=w(B.x0+Ve,B.y0+Ue);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",at);var We=w(-Ve,-Ue);B.clipDefRelative.select("path").attr("transform",We),B.aaxis.range=[oe.a,B.sum-oe.b-oe.c],B.baxis.range=[B.sum-oe.a-oe.c,oe.b],B.caxis.range=[B.sum-oe.a-oe.b,oe.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,B),V.emit("plotly_relayouting",le(oe))}function Re(){a.call("_guiRelayout",V,le(oe))}N.onmousemove=function(Ve){l.hover(V,Ve,B.id),V._fullLayout._lasthover=N,V._fullLayout._hoversubplot=B.id},N.onmouseout=function(Ve){V._dragging||f.unhover(V,Ve)},f.init(this.dragOptions)};function z(B){g.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(H,j,e){var g=e(24248),P=e(16628),a=e(52416),x=e(63620),w=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,i=v.extendDeepAll;j.modules={},j.allCategories={},j.allTypes=[],j.subplotsRegistry={},j.transformsRegistry={},j.componentsRegistry={},j.layoutArrayContainers=[],j.layoutArrayRegexes=[],j.traceLayoutAttributes={},j.localeRegistry={},j.apiMethodRegistry={},j.collectableSubplotTypes=null,j.register=function(S){if(j.collectableSubplotTypes=null,S)S&&!Array.isArray(S)&&(S=[S]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<S.length;C++){var m=S[C];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":l(m);break;case"component":f(m);break;case"locale":y(m);break;case"apiMethod":var E=m.name;j.apiMethodRegistry[E]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},j.getModule=function(T){var S=j.modules[d(T)];return S?S._module:!1},j.traceIs=function(T,S){if(T=d(T),T==="various")return!1;var C=j.modules[T];return C||(T&&g.log("Unrecognized trace type "+T+"."),C=j.modules[p.type.dflt]),!!C.categories[S]},j.getTransformIndices=function(T,S){for(var C=[],m=T.transforms||[],E=0;E<m.length;E++)m[E].type===S&&C.push(E);return C},j.hasTransform=function(T,S){for(var C=T.transforms||[],m=0;m<C.length;m++)if(C[m].type===S)return!0;return!1},j.getComponentMethod=function(T,S){var C=j.componentsRegistry[T];return C&&C[S]||P},j.call=function(){var T=arguments[0],S=[].slice.call(arguments,1);return j.apiMethodRegistry[T].apply(null,S)};function n(T){var S=T.name,C=T.categories,m=T.meta;if(j.modules[S]){g.log("Type "+S+" already registered");return}j.subplotsRegistry[T.basePlotModule.name]||u(T.basePlotModule);for(var E={},b=0;b<C.length;b++)E[C[b]]=!0,j.allCategories[C[b]]=!0;j.modules[S]={_module:T,categories:E},m&&Object.keys(m).length&&(j.modules[S].meta=m),j.allTypes.push(S);for(var s in j.componentsRegistry)M(s,S);T.layoutAttributes&&t(j.traceLayoutAttributes,T.layoutAttributes);var L=T.basePlotModule,A=L.name;if(A==="mapbox"){var k=L.constants.styleRules;for(var _ in k)w(".js-plotly-plot .plotly .mapboxgl-"+_,k[_])}(A==="geo"||A==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(T){var S=T.name;if(j.subplotsRegistry[S]){g.log("Plot type "+S+" already registered.");return}h(T),j.subplotsRegistry[S]=T;for(var C in j.componentsRegistry)o(C,T.name)}function f(T){if(typeof T.name!="string")throw new Error("Component module *name* must be a string.");var S=T.name;j.componentsRegistry[S]=T,T.layoutAttributes&&(T.layoutAttributes._isLinkedToArray&&a(j.layoutArrayContainers,S),h(T));for(var C in j.modules)M(S,C);for(var m in j.subplotsRegistry)o(S,m);for(var E in j.transformsRegistry)c(S,E);T.schema&&T.schema.layout&&i(r,T.schema.layout)}function l(T){if(typeof T.name!="string")throw new Error("Transform module *name* must be a string.");var S="Transform module "+T.name,C=typeof T.transform=="function",m=typeof T.calcTransform=="function";if(!C&&!m)throw new Error(S+" is missing a *transform* or *calcTransform* method.");C&&m&&g.log([S+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),x(T.attributes)||g.log(S+" registered without an *attributes* object."),typeof T.supplyDefaults!="function"&&g.log(S+" registered without a *supplyDefaults* method."),j.transformsRegistry[T.name]=T;for(var E in j.componentsRegistry)c(E,T.name)}function y(T){var S=T.name,C=S.split("-")[0],m=T.dictionary,E=T.format,b=m&&Object.keys(m).length,s=E&&Object.keys(E).length,L=j.localeRegistry,A=L[S];if(A||(L[S]=A={}),C!==S){var k=L[C];k||(L[C]=k={}),b&&k.dictionary===A.dictionary&&(k.dictionary=m),s&&k.format===A.format&&(k.format=E)}b&&(A.dictionary=m),s&&(A.format=E)}function h(T){if(T.layoutAttributes){var S=T.layoutAttributes._arrayAttrRegexps;if(S)for(var C=0;C<S.length;C++)a(j.layoutArrayRegexes,S[C])}}function M(T,S){var C=j.componentsRegistry[T].schema;if(!(!C||!C.traces)){var m=C.traces[S];m&&i(j.modules[S]._module.attributes,m)}}function c(T,S){var C=j.componentsRegistry[T].schema;if(!(!C||!C.transforms)){var m=C.transforms[S];m&&i(j.transformsRegistry[S].attributes,m)}}function o(T,S){var C=j.componentsRegistry[T].schema;if(!(!C||!C.subplots)){var m=j.subplotsRegistry[S],E=m.layoutAttributes,b=m.attr==="subplot"?m.name:m.attr;Array.isArray(b)&&(b=b[0]);var s=C.subplots[b];E&&s&&i(E,s)}}function d(T){return typeof T=="object"&&(T=T.type),T}},91536:function(H,j,e){var g=e(24040),P=e(3400),a=P.extendFlat,x=P.extendDeep;function w(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}H.exports=function(r,t){var i,n=r.data,u=r.layout,f=x([],n),l=x({},u,w(t.tileClass)),y=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(i=0;i<h.length;i++)v(h[i])&&(l[h[i]].title={text:""});for(i=0;i<f.length;i++){var M=f[i];M.showscale=!1,M.marker&&(M.marker.showscale=!1),g.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(t.annotations))for(i=0;i<t.annotations.length;i++)l.annotations.push(t.annotations[i]);var c=Object.keys(l).filter(function(C){return C.match(/^scene\d*$/)});if(c.length){var o={};for(t.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<c.length;i++){var d=l[c[i]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,o),a(d.yaxis,o),a(d.zaxis,o),d._scene=null}}var T=document.createElement("div");t.tileClass&&(T.className=t.tileClass);var S={gd:T,td:T,layout:l,data:f,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return t.setBackground!=="transparent"&&(S.config.setBackground=t.setBackground||"opaque"),S.gd.defaultLayout=w(t.tileClass),S}},39792:function(H,j,e){var g=e(3400),P=e(67024),a=e(48616),x=e(81792);function w(v,p){var r;return g.isPlainObject(v)||(r=g.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),g.isIE()&&p.format!=="svg"&&i(new Error(x.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),u=p.filename||v.fn||"newplot";u+="."+p.format.replace("-","."),n.then(function(f){return r&&(r._snapshotInProgress=!1),a(f,u,p.format)}).then(function(f){t(f)}).catch(function(f){r&&(r._snapshotInProgress=!1),i(f)})})}H.exports=w},48616:function(H,j,e){var g=e(3400),P=e(81792);function a(x,w,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(i,n){var u,f;if(g.isIE())return u=P.createBlob(x,"svg"),window.navigator.msSaveBlob(u,w),u=null,i(w);if(r)return u=P.createBlob(x,v),f=P.createObjectURL(u),p.href=f,p.download=w,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(f),u=null,i(w);if(g.isSafari()){var l=v==="svg"?",":";base64,";return P.octetStream(l+encodeURIComponent(x)),i(w)}n(new Error("download error"))});return t}H.exports=a},81792:function(H,j,e){var g=e(24040);j.getDelay=function(x){return x._has&&(x._has("gl3d")||x._has("gl2d")||x._has("mapbox"))?500:0},j.getRedrawFunc=function(x){return function(){g.getComponentMethod("colorbar","draw")(x)}},j.encodeSVG=function(x){return"data:image/svg+xml,"+encodeURIComponent(x)},j.encodeJSON=function(x){return"data:application/json,"+encodeURIComponent(x)};var P=window.URL||window.webkitURL;j.createObjectURL=function(x){return P.createObjectURL(x)},j.revokeObjectURL=function(x){return P.revokeObjectURL(x)},j.createBlob=function(x,w){if(w==="svg")return new window.Blob([x],{type:"image/svg+xml;charset=utf-8"});if(w==="full-json")return new window.Blob([x],{type:"application/json;charset=utf-8"});var v=a(window.atob(x));return new window.Blob([v],{type:"image/"+w})},j.octetStream=function(x){document.location.href="data:application/octet-stream"+x};function a(x){for(var w=x.length,v=new ArrayBuffer(w),p=new Uint8Array(v),r=0;r<w;r++)p[r]=x.charCodeAt(r);return v}j.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,j.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(H,j,e){var g=e(81792),P={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};H.exports=P},63268:function(H,j,e){var g=e(3400),P=e(61252).EventEmitter,a=e(81792);function x(w){var v=w.emitter||new P,p=new Promise(function(r,t){var i=window.Image,n=w.svg,u=w.format||"png";if(g.isIE()&&u!=="svg"){var f=new Error(a.MSG_IE_BAD_FORMAT);return t(f),w.promise?p:v.emit("error",f)}var l=w.canvas,y=w.scale||1,h=w.width||300,M=w.height||150,c=y*h,o=y*M,d=l.getContext("2d",{willReadFrequently:!0}),T=new i,S,C;u==="svg"||g.isSafari()?C=a.encodeSVG(n):(S=a.createBlob(n,"svg"),C=a.createObjectURL(S)),l.width=c,l.height=o,T.onload=function(){var m;switch(S=null,a.revokeObjectURL(C),u!=="svg"&&d.drawImage(T,0,0,c,o),u){case"jpeg":m=l.toDataURL("image/jpeg");break;case"png":m=l.toDataURL("image/png");break;case"webp":m=l.toDataURL("image/webp");break;case"svg":m=C;break;default:var E="Image format is not jpeg, png, svg or webp.";if(t(new Error(E)),!w.promise)return v.emit("error",E)}r(m),w.promise||v.emit("success",m)},T.onerror=function(m){if(S=null,a.revokeObjectURL(C),t(m),!w.promise)return v.emit("error",m)},T.src=C});return w.promise?p:v}H.exports=x},61808:function(H,j,e){var g=e(61252).EventEmitter,P=e(24040),a=e(3400),x=e(81792),w=e(91536),v=e(37164),p=e(63268);function r(t,i){var n=new g,u=w(t,{format:"png"}),f=u.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function l(){var h=x.getDelay(f._fullLayout);setTimeout(function(){var M=v(f),c=document.createElement("canvas");c.id=a.randstr(),n=p({format:i.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:c,emitter:n,svg:M}),n.clean=function(){f&&document.body.removeChild(f)}},h)}var y=x.getRedrawFunc(f);return P.call("_doPlot",f,u.data,u.layout,u.config).then(y).then(l).catch(function(h){n.emit("error",h)}),n}H.exports=r},37164:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=e(76308),w=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var u=g.select("body").append("div").style({display:"none"}).html(""),f=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":u.html(l).text()});return u.remove(),f}function i(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}H.exports=function(u,f,l){var y=u._fullLayout,h=y._paper,M=y._toppaper,c=y.width,o=y.height,d;h.insert("rect",":first-child").call(a.setRect,0,0,c,o).call(x.fill,y.paper_bgcolor);var T=y._basePlotModules||[];for(d=0;d<T.length;d++){var S=T[d];S.toSVG&&S.toSVG(u)}if(M){var C=M.node().childNodes,m=Array.prototype.slice.call(C);for(d=0;d<m.length;d++){var E=m[d];E.childNodes.length&&h.node().appendChild(E)}}y._draggers&&y._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var L=this.style.fontFamily;L&&L.indexOf('"')!==-1&&s.style("font-family",L.replace(v,p))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=g.select(this),L=this.style.fill;L&&L.indexOf("url(")!==-1&&s.style("fill",L.replace(v,p));var A=this.style.stroke;A&&A.indexOf("url(")!==-1&&s.style("stroke",A.replace(v,p))}),(f==="pdf"||f==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(w.xmlns,"xmlns",w.svg),h.node().setAttributeNS(w.xmlns,"xmlns:xlink",w.xlink),f==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*o),h.attr("viewBox","0 0 "+c+" "+o));var b=new window.XMLSerializer().serializeToString(h.node());return b=t(b),b=i(b),b=b.replace(r,"'"),P.isIE()&&(b=b.replace(/"/gi,"'"),b=b.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),b=b.replace(/(\\')/gi,'"')),b}},84664:function(H,j,e){var g=e(3400);H.exports=function(a,x){for(var w=0;w<a.length;w++)a[w].i=w;g.mergeArray(x.text,a,"tx"),g.mergeArray(x.hovertext,a,"htx");var v=x.marker;if(v){g.mergeArray(v.opacity,a,"mo",!0),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},20832:function(H,j,e){var g=e(52904),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(21776).Gw,w=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,i=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,u=n.line,f=t({},u.width,{dflt:0}),l=t({width:f,editType:"calc"},w("marker.line")),y=t({line:l,editType:"calc"},w("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});H.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:g.text,texttemplate:x({editType:"plot"},{keys:p.eventDataKeys}),hovertext:g.hovertext,hovertemplate:a({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},i,{}),insidetextfont:t({},i,{}),outsidetextfont:t({},i,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(H,j,e){var g=e(54460),P=e(1220),a=e(94288).hasColorscale,x=e(47128),w=e(84664),v=e(4500);H.exports=function(r,t){var i=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),u,f,l,y,h,M,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(u=i.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),y=P(t,n,"y",l),h=!!t.yperiodalignment,M="y"):(u=n.makeCalcdata(t,"y",c),l=i.makeCalcdata(t,"x"),y=P(t,i,"x",l),h=!!t.xperiodalignment,M="x"),f=y.vals;for(var o=Math.min(f.length,u.length),d=new Array(o),T=0;T<o;T++)d[T]={p:f[T],s:u[T]},h&&(d[T].orig_p=l[T],d[T][M+"End"]=y.ends[T],d[T][M+"Start"]=y.starts[T]),t.ids&&(d[T].id=String(t.ids[T]));return a(t,"marker")&&x(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&x(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),w(d,t),v(d,t),d}},78048:function(H){H.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(H,j,e){var g=e(38248),P=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,x=e(24040),w=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(A,k){for(var _=k.xaxis,U=k.yaxis,F=A._fullLayout,z=A._fullData,B=A.calcdata,N=[],V=[],W=0;W<z.length;W++){var Q=z[W];if(Q.visible===!0&&x.traceIs(Q,"bar")&&Q.xaxis===_._id&&Q.yaxis===U._id&&(Q.orientation==="h"?N.push(B[W]):V.push(B[W]),Q._computePh))for(var re=A.calcdata[W],ne=0;ne<re.length;ne++)typeof re[ne].ph0=="function"&&(re[ne].ph0=re[ne].ph0()),typeof re[ne].ph1=="function"&&(re[ne].ph1=re[ne].ph1())}var fe={xCat:_.type==="category"||_.type==="multicategory",yCat:U.type==="category"||U.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};t(A,_,U,V,fe),t(A,U,_,N,fe)}function t(A,k,_,U,F){if(U.length){var z,B,N,V,W;switch(u(_,U),F.mode){case"overlay":f(k,_,U,F);break;case"group":for(z=[],B=[],N=0;N<U.length;N++)V=U[N],W=V[0].trace,W.offset===void 0?B.push(V):z.push(V);B.length&&l(A,k,_,B,F),z.length&&f(k,_,z,F);break;case"stack":case"relative":for(z=[],B=[],N=0;N<U.length;N++)V=U[N],W=V[0].trace,W.base===void 0?B.push(V):z.push(V);n(B),B.length&&y(A,k,_,B,F),z.length&&f(k,_,z,F);break}i(U),s(U,k)}}function i(A){var k,_,U,F,z,B,N;for(k=0;k<A.length;k++)_=A[k],U=_[0].trace,F=_[0].t,F.cornerradiusvalue===void 0&&(z=U.marker?U.marker.cornerradius:void 0,z!==void 0&&(B=g(z)?+z:+z.slice(0,-1),N=g(z)?"px":"%",F.cornerradiusvalue=B,F.cornerradiusform=N))}function n(A){if(!(A.length<2)){var k,_,U,F,z,B,N;for(k=0;k<A.length&&(_=A[k],U=_[0].trace,z=U.marker?U.marker.cornerradius:void 0,z===void 0);k++);if(z!==void 0)for(B=g(z)?+z:+z.slice(0,-1),N=g(z)?"px":"%",k=0;k<A.length;k++)_=A[k],F=_[0].t,F.cornerradiusvalue=B,F.cornerradiusform=N}}function u(A,k){var _,U;for(_=0;_<k.length;_++){var F=k[_],z=F[0].trace,B=z.type==="funnel"?z._base:z.base,N,V=z.orientation==="h"?z.xcalendar:z.ycalendar,W=A.type==="category"||A.type==="multicategory"?function(){return null}:A.d2c;if(P(B)){for(U=0;U<Math.min(B.length,F.length);U++)N=W(B[U],0,V),g(N)?(F[U].b=+N,F[U].hasB=1):F[U].b=0;for(;U<F.length;U++)F[U].b=0}else{N=W(B,0,V);var Q=g(N);for(N=Q?N:0,U=0;U<F.length;U++)F[U].b=N,Q&&(F[U].hasB=1)}}}function f(A,k,_,U){for(var F=0;F<_.length;F++){var z=_[F],B=new p([z],{posAxis:A,sepNegVal:!1,overlapNoMerge:!U.norm});h(A,B,U),U.norm?(C(B),E(k,B,U)):T(k,B)}}function l(A,k,_,U,F){var z=new p(U,{posAxis:k,sepNegVal:!1,overlapNoMerge:!F.norm});M(A,k,z,F),m(z,k),F.norm?(C(z),E(_,z,F)):T(_,z)}function y(A,k,_,U,F){var z=new p(U,{posAxis:k,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});h(k,z,F),S(_,z,F);for(var B=0;B<U.length;B++)for(var N=U[B],V=0;V<N.length;V++){var W=N[V];if(W.s!==a){var Q=W.b+W.s===z.get(W.p,W.s);Q&&(W._outmost=!0)}}F.norm&&E(_,z,F)}function h(A,k,_){for(var U=k.minDiff,F=k.traces,z=U*(1-_.gap),B=z,N=B*(1-(_.groupgap||0)),V=-N/2,W=0;W<F.length;W++){var Q=F[W],re=Q[0].t;re.barwidth=N,re.poffset=V,re.bargroupwidth=z,re.bardelta=U}k.binWidth=F[0][0].t.barwidth/100,c(k),o(A,k),d(A,k)}function M(A,k,_,U){for(var F=A._fullLayout,z=_.positions,B=_.distinctPositions,N=_.minDiff,V=_.traces,W=V.length,Q=z.length!==B.length,re=N*(1-U.gap),ne=v(F,k._id)+V[0][0].trace.orientation,fe=F._alignmentOpts[ne]||{},$=0;$<W;$++){var X=V[$],oe=X[0].trace,Y=fe[oe.alignmentgroup]||{},ee=Object.keys(Y.offsetGroups||{}).length,se;ee?se=re/ee:se=Q?re/W:re;var q=se*(1-(U.groupgap||0)),K;ee?K=((2*oe._offsetIndex+1-ee)*se-q)/2:K=Q?((2*$+1-W)*se-q)/2:-q/2;var le=X[0].t;le.barwidth=q,le.poffset=K,le.bargroupwidth=re,le.bardelta=N}_.binWidth=V[0][0].t.barwidth/100,c(_),o(k,_),d(k,_,Q)}function c(A){var k=A.traces,_,U;for(_=0;_<k.length;_++){var F=k[_],z=F[0],B=z.trace,N=z.t,V=B._offset||B.offset,W=N.poffset,Q;if(P(V)){for(Q=Array.prototype.slice.call(V,0,F.length),U=0;U<Q.length;U++)g(Q[U])||(Q[U]=W);for(U=Q.length;U<F.length;U++)Q.push(W);N.poffset=Q}else V!==void 0&&(N.poffset=V);var re=B._width||B.width,ne=N.barwidth;if(P(re)){var fe=Array.prototype.slice.call(re,0,F.length);for(U=0;U<fe.length;U++)g(fe[U])||(fe[U]=ne);for(U=fe.length;U<F.length;U++)fe.push(ne);if(N.barwidth=fe,V===void 0){for(Q=[],U=0;U<F.length;U++)Q.push(W+(ne-fe[U])/2);N.poffset=Q}}else re!==void 0&&(N.barwidth=re,V===void 0&&(N.poffset=W+(ne-re)/2))}}function o(A,k){for(var _=k.traces,U=L(A),F=0;F<_.length;F++)for(var z=_[F],B=z[0].t,N=B.poffset,V=P(N),W=B.barwidth,Q=P(W),re=0;re<z.length;re++){var ne=z[re],fe=ne.w=Q?W[re]:W;ne.p===void 0&&(ne.p=ne[U],ne["orig_"+U]=ne[U]);var $=(V?N[re]:N)+fe/2;ne[U]=ne.p+$}}function d(A,k,_){var U=k.traces,F=k.minDiff,z=F/2;w.minDtick(A,k.minDiff,k.distinctPositions[0],_);for(var B=0;B<U.length;B++){var N=U[B],V=N[0],W=V.trace,Q=[],re,ne,fe,$;for($=0;$<N.length;$++)re=N[$],ne=re.p-z,fe=re.p+z,Q.push(ne,fe);if(W.width||W.offset){var X=V.t,oe=X.poffset,Y=X.barwidth,ee=P(oe),se=P(Y);for($=0;$<N.length;$++){re=N[$];var q=ee?oe[$]:oe,K=se?Y[$]:Y;ne=re.p+q,fe=ne+K,Q.push(ne,fe)}}W._extremes[A._id]=w.findExtremes(A,Q,{padded:!1})}}function T(A,k){for(var _=k.traces,U=L(A),F=0;F<_.length;F++){for(var z=_[F],B=z[0].trace,N=B.type==="scatter",V=B.orientation==="v",W=[],Q=!1,re=0;re<z.length;re++){var ne=z[re],fe=N?0:ne.b,$=N?V?ne.y:ne.x:fe+ne.s;ne[U]=$,W.push($),ne.hasB&&W.push(fe),(!ne.hasB||!ne.b)&&(Q=!0)}B._extremes[A._id]=w.findExtremes(A,W,{tozero:Q,padded:!0})}}function S(A,k,_){var U=L(A),F=k.traces,z,B,N,V,W,Q;for(V=0;V<F.length;V++)if(z=F[V],B=z[0].trace,B.type==="funnel")for(W=0;W<z.length;W++)Q=z[W],Q.s!==a&&k.put(Q.p,-.5*Q.s);for(V=0;V<F.length;V++){z=F[V],B=z[0].trace,N=B.type==="funnel";var re=[];for(W=0;W<z.length;W++)if(Q=z[W],Q.s!==a){var ne;N?ne=Q.s:ne=Q.s+Q.b;var fe=k.put(Q.p,ne),$=fe+ne;Q.b=fe,Q[U]=$,_.norm||(re.push($),Q.hasB&&re.push(fe))}_.norm||(B._extremes[A._id]=w.findExtremes(A,re,{tozero:!0,padded:!0}))}}function C(A){for(var k=A.traces,_=0;_<k.length;_++)for(var U=k[_],F=0;F<U.length;F++){var z=U[F];z.s!==a&&A.put(z.p,z.b+z.s)}}function m(A,k){for(var _=A.traces,U=0;U<_.length;U++){var F=_[U],z=F[0].trace;if(z.base===void 0)for(var B=new p([F],{posAxis:k,sepNegVal:!0,overlapNoMerge:!0}),N=0;N<F.length;N++){var V=F[N];if(V.p!==a){var W=B.put(V.p,V.b+V.s);W&&(V.b=W)}}}}function E(A,k,_){var U=k.traces,F=L(A),z=_.norm==="fraction"?1:100,B=z/1e9,N=A.l2c(A.c2l(0)),V=_.mode==="stack"?z:N;function W(K){return g(A.c2l(K))&&(K<N-B||K>V+B||!g(N))}for(var Q=0;Q<U.length;Q++){for(var re=U[Q],ne=re[0].trace,fe=[],$=!1,X=!1,oe=0;oe<re.length;oe++){var Y=re[oe];if(Y.s!==a){var ee=Math.abs(z/k.get(Y.p,Y.s));Y.b*=ee,Y.s*=ee;var se=Y.b,q=se+Y.s;Y[F]=q,fe.push(q),X=X||W(q),Y.hasB&&(fe.push(se),X=X||W(se)),(!Y.hasB||!Y.b)&&($=!0)}}ne._extremes[A._id]=w.findExtremes(A,fe,{tozero:$,padded:X})}}function b(A,k,_,U){for(var F=L(U),z=0;z<A.length;z++)for(var B=A[z],N=0;N<B.length;N++){var V=B[N],W=V[F];V._sMin=k[W],V._sMax=_[W]}}function s(A,k){var _=L(k),U={},F,z,B,N=1/0,V=-1/0;for(F=0;F<A.length;F++)for(B=A[F],z=0;z<B.length;z++){var W=B[z].p;g(W)&&(N=Math.min(N,W),V=Math.max(V,W))}var Q=1e4/(V-N),re=U.round=function(he){return String(Math.round(Q*(he-N)))},ne={},fe={},$=A.some(function(he){var ye=he[0].trace;return"marker"in ye&&ye.marker.cornerradius});for(F=0;F<A.length;F++){B=A[F],B[0].t.extents=U;var X=B[0].t.poffset,oe=P(X);for(z=0;z<B.length;z++){var Y=B[z],ee=Y[_]-Y.w/2;if(g(ee)){var se=Y[_]+Y.w/2,q=re(Y.p);U[q]?U[q]=[Math.min(ee,U[q][0]),Math.max(se,U[q][1])]:U[q]=[ee,se]}if(Y.p0=Y.p+(oe?X[z]:X),Y.p1=Y.p0+Y.w,Y.s0=Y.b,Y.s1=Y.s0+Y.s,$){var K=Math.min(Y.s0,Y.s1)||0,le=Math.max(Y.s0,Y.s1)||0,ie=Y[_];ne[ie]=ie in ne?Math.min(ne[ie],K):K,fe[ie]=ie in fe?Math.max(fe[ie],le):le}}}$&&b(A,ne,fe,k)}function L(A){return A._id.charAt(0)}H.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(H,j,e){var g=e(38248),P=e(3400),a=e(76308),x=e(24040),w=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),i=P.coerceFont;function n(y,h,M,c){function o(m,E){return P.coerce(y,h,t,m,E)}var d=w(y,h,c,o);if(!d){h.visible=!1;return}v(y,h,c,o),o("xhoverformat"),o("yhoverformat"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var T=o("textposition");l(y,h,c,o,T,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(y,h,o,M,c);var S=(h.marker.line||{}).color,C=x.getComponentMethod("errorbars","supplyDefaults");C(y,h,S||a.defaultLine,{axis:"y"}),C(y,h,S||a.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(h,o)}function u(y,h){var M,c;function o(S,C){return P.coerce(c._input,c,t,S,C)}for(var d=0;d<y.length;d++)if(c=y[d],c.type==="bar"){M=c._input;var T=o("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=f(T)),h.barmode==="group"&&r(M,c,h,o)}}function f(y){if(g(y)){if(y=+y,y>=0)return y}else if(typeof y=="string"&&(y=y.trim(),y.slice(-1)==="%"&&g(y.slice(0,-1))&&(y=+y.slice(0,-1),y>=0)))return y+"%"}function l(y,h,M,c,o,d){d=d||{};var T=d.moduleHasSelected!==!1,S=d.moduleHasUnselected!==!1,C=d.moduleHasConstrain!==!1,m=d.moduleHasCliponaxis!==!1,E=d.moduleHasTextangle!==!1,b=d.moduleHasInsideanchor!==!1,s=!!d.hasPathbar,L=Array.isArray(o)||o==="auto",A=L||o==="inside",k=L||o==="outside";if(A||k){var _=i(c,"textfont",M.font),U=P.extendFlat({},_),F=y.textfont&&y.textfont.color,z=!F;if(z&&delete U.color,i(c,"insidetextfont",U),s){var B=P.extendFlat({},_);z&&delete B.color,i(c,"pathbar.textfont",B)}k&&i(c,"outsidetextfont",_),T&&c("selected.textfont.color"),S&&c("unselected.textfont.color"),C&&c("constraintext"),m&&c("cliponaxis"),E&&c("textangle"),c("texttemplate")}A&&b&&c("insidetextanchor")}H.exports={supplyDefaults:n,crossTraceDefaults:u,handleText:l,validateCornerradius:f}},52160:function(H){H.exports=function(e,g,P){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(H,j,e){var g=e(38248),P=e(49760),a=e(3400).isArrayOrTypedArray;j.coerceString=function(x,w,v){if(typeof w=="string"){if(w||!x.noBlank)return w}else if((typeof w=="number"||w===!0)&&!x.strict)return String(w);return v!==void 0?v:x.dflt},j.coerceNumber=function(x,w,v){if(g(w)){w=+w;var p=x.min,r=x.max,t=p!==void 0&&w<p||r!==void 0&&w>r;if(!t)return w}return v!==void 0?v:x.dflt},j.coerceColor=function(x,w,v){return P(w).isValid()?w:v!==void 0?v:x.dflt},j.coerceEnumerated=function(x,w,v){return x.coerceNumber&&(w=+w),x.values.indexOf(w)!==-1?w:v!==void 0?v:x.dflt},j.getValue=function(x,w){var v;return a(x)?w<x.length&&(v=x[w]):v=x,v},j.getLineWidth=function(x,w){var v=0<w.mlw?w.mlw:a(x.marker.line.width)?0:x.marker.line.width;return v}},63400:function(H,j,e){var g=e(93024),P=e(24040),a=e(76308),x=e(3400).fillText,w=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,u,f,l,y){var h=t(n,u,f,l,y);if(h){var M=h.cd,c=M[0].trace,o=M[h.index];return h.color=i(c,o),P.getComponentMethod("errorbars","hoverInfo")(o,c,h),[h]}}function t(n,u,f,l,y){var h=n.cd,M=h[0].trace,c=h[0].t,o=l==="closest",d=M.type==="waterfall",T=n.maxHoverDistance,S=n.maxSpikeDistance,C,m,E,b,s,L,A;M.orientation==="h"?(C=f,m=u,E="y",b="x",s=fe,L=Q):(C=u,m=f,E="x",b="y",L=fe,s=Q);var k=M[E+"period"],_=o||k;function U(he){return z(he,-1)}function F(he){return z(he,1)}function z(he,ye){var Ce=he.w;return he[E]+ye*Ce/2}function B(he){return he[E+"End"]-he[E+"Start"]}var N=o?U:k?function(he){return he.p-B(he)/2}:function(he){return Math.min(U(he),he.p-c.bardelta/2)},V=o?F:k?function(he){return he.p+B(he)/2}:function(he){return Math.max(F(he),he.p+c.bardelta/2)};function W(he,ye,Ce){return y.finiteRange&&(Ce=0),g.inbox(he-C,ye-C,Ce+Math.min(1,Math.abs(ye-he)/A)-1)}function Q(he){return W(N(he),V(he),T)}function re(he){return W(U(he),F(he),S)}function ne(he){var ye=he[b];if(d){var Ce=Math.abs(he.rawS)||0;m>0?ye+=Ce:m<0&&(ye-=Ce)}return ye}function fe(he){var ye=m,Ce=he.b,Ae=ne(he);return g.inbox(Ce-ye,Ae-ye,T+(Ae-ye)/(Ae-Ce)-1)}function $(he){var ye=m,Ce=he.b,Ae=ne(he);return g.inbox(Ce-ye,Ae-ye,S+(Ae-ye)/(Ae-Ce)-1)}var X=n[E+"a"],oe=n[b+"a"];A=Math.abs(X.r2c(X.range[1])-X.r2c(X.range[0]));function Y(he){return(s(he)+L(he))/2}var ee=g.getDistanceFunction(l,s,L,Y);if(g.getClosest(h,ee,n),n.index!==!1&&h[n.index].p!==p){_||(N=function(he){return Math.min(U(he),he.p-c.bargroupwidth/2)},V=function(he){return Math.max(F(he),he.p+c.bargroupwidth/2)});var se=n.index,q=h[se],K=M.base?q.b+q.s:q.s;n[b+"0"]=n[b+"1"]=oe.c2p(q[b],!0),n[b+"LabelVal"]=K;var le=c.extents[c.extents.round(q.p)];n[E+"0"]=X.c2p(o?N(q):le[0],!0),n[E+"1"]=X.c2p(o?V(q):le[1],!0);var ie=q.orig_p!==void 0;return n[E+"LabelVal"]=ie?q.orig_p:q.p,n.labelLabel=v(X,n[E+"LabelVal"],M[E+"hoverformat"]),n.valueLabel=v(oe,n[b+"LabelVal"],M[b+"hoverformat"]),n.baseLabel=v(oe,q.b,M[b+"hoverformat"]),n.spikeDistance=($(q)+re(q))/2,n[E+"Spike"]=X.c2p(q.p,!0),x(q,M,n),n.hovertemplate=M.hovertemplate,n}}function i(n,u){var f=u.mcc||n.marker.color,l=u.mlcc||n.marker.line.color,y=w(n,u);if(a.opacity(f))return f;if(a.opacity(l)&&y)return l}H.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:i}},51132:function(H,j,e){H.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(H,j,e){var g=e(24040),P=e(54460),a=e(3400),x=e(39324),w=e(31508).validateCornerradius;H.exports=function(v,p,r){function t(d,T){return a.coerce(v,p,x,d,T)}for(var i=!1,n=!1,u=!1,f={},l=t("barmode"),y=0;y<r.length;y++){var h=r[y];if(g.traceIs(h,"bar")&&h.visible)i=!0;else continue;if(l==="group"){var M=h.xaxis+h.yaxis;f[M]&&(u=!0),f[M]=!0}if(h.visible&&h.type==="histogram"){var c=P.getFromId({_fullLayout:p},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!i){delete p.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!u?0:.2),t("bargroupgap");var o=t("barcornerradius");p.barcornerradius=w(o)}},98184:function(H,j,e){var g=e(33428),P=e(38248),a=e(3400),x=e(72736),w=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,u=e(60100),f=e(60444),l=e(78048),y=e(20832),h=y.text,M=y.textposition,c=e(10624).appendArrayPointValue,o=l.TEXTPAD;function d(Q){return Q.id}function T(Q){if(Q.ids)return d}function S(Q){return(Q>0)-(Q<0)}function C(Q,re){return Q<re?1:-1}function m(Q,re,ne,fe){var $=[],X=[],oe=fe?re:ne,Y=fe?ne:re;return $[0]=oe.c2p(Q.s0,!0),X[0]=Y.c2p(Q.p0,!0),$[1]=oe.c2p(Q.s1,!0),X[1]=Y.c2p(Q.p1,!0),fe?[$,X]:[X,$]}function E(Q,re,ne,fe){if(!re.uniformtext.mode&&b(ne)){var $;return fe&&($=fe()),Q.transition().duration(ne.duration).ease(ne.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()})}else return Q}function b(Q){return Q&&Q.duration>0}function s(Q,re,ne,fe,$,X){var oe=re.xaxis,Y=re.yaxis,ee=Q._fullLayout,se=Q._context.staticPlot;$||($={mode:ee.barmode,norm:ee.barmode,gap:ee.bargap,groupgap:ee.bargroupgap},n("bar",ee));var q=a.makeTraceGroups(fe,ne,"trace bars").each(function(K){var le=g.select(this),ie=K[0].trace,he=K[0].t,ye=ie.type==="waterfall",Ce=ie.type==="funnel",Ae=ie.type==="histogram",ke=ie.type==="bar",we=ke||Ce,Ee=0;ye&&ie.connector.visible&&ie.connector.mode==="between"&&(Ee=ie.connector.line.width/2);var xe=ie.orientation==="h",Re=b($),Ve=a.ensureSingle(le,"g","points"),Ue=T(ie),Be=Ve.selectAll("g.point").data(a.identity,Ue);Be.enter().append("g").classed("point",!0),Be.exit().remove(),Be.each(function(ut,dt){var at=g.select(this),We=m(ut,oe,Y,xe),rt=We[0][0],st=We[0][1],ht=We[1][0],vt=We[1][1],At=(xe?st-rt:vt-ht)===0;At&&we&&f.getLineWidth(ie,ut)&&(At=!1),At||(At=!P(rt)||!P(st)||!P(ht)||!P(vt)),ut.isBlank=At,At&&(xe?st=rt:vt=ht),Ee&&!At&&(xe?(rt-=C(rt,st)*Ee,st+=C(rt,st)*Ee):(ht-=C(ht,vt)*Ee,vt+=C(ht,vt)*Ee));var tt,_e;if(ie.type==="waterfall"){if(!At){var je=ie[ut.dir].marker;tt=je.line.width,_e=je.color}}else tt=f.getLineWidth(ie,ut),_e=ut.mc||ie.marker.color;function Ke(lt){var Tt=g.round(tt/2%1,2);return $.gap===0&&$.groupgap===0?g.round(Math.round(lt)-Tt,2):lt}function He(lt,Tt,Ct){return Ct&&lt===Tt?lt:Math.abs(lt-Tt)>=2?Ke(lt):lt>Tt?Math.ceil(lt):Math.floor(lt)}var Ie=w.opacity(_e),be=Ie<1||tt>.01?Ke:He;Q._context.staticPlot||(rt=be(rt,st,xe),st=be(st,rt,xe),ht=be(ht,vt,!xe),vt=be(vt,ht,!xe));var me=xe?oe.c2p:Y.c2p,Me;ut.s0>0?Me=ut._sMax:ut.s0<0?Me=ut._sMin:Me=ut.s1>0?ut._sMax:ut._sMin;function Te(lt,Tt){if(!lt)return 0;var Ct=Math.abs(xe?vt-ht:st-rt),It=Math.abs(xe?st-rt:vt-ht),Dt=be(Math.abs(me(Me,!0)-me(0,!0))),Vt=ut.hasB?Math.min(Ct/2,It/2):Math.min(Ct/2,Dt),Bt;if(Tt==="%"){var $t=Math.min(50,lt);Bt=Ct*($t/100)}else Bt=lt;return be(Math.max(Math.min(Bt,Vt),0))}var ze=ke||Ae?Te(he.cornerradiusvalue,he.cornerradiusform):0,Je,nt,pt="M"+rt+","+ht+"V"+vt+"H"+st+"V"+ht+"Z",yt=0;if(ze&&ut.s){var Yt=S(ut.s0)===0||S(ut.s)===S(ut.s0)?ut.s1:ut.s0;if(yt=be(ut.hasB?0:Math.abs(me(Me,!0)-me(Yt,!0))),yt<ze){var Xt=C(rt,st),St=C(ht,vt),kt=Xt===-St?1:0;if(xe)if(ut.hasB)Je="M"+(rt+ze*Xt)+","+ht+"A "+ze+","+ze+" 0 0 "+kt+" "+rt+","+(ht+ze*St)+"V"+(vt-ze*St)+"A "+ze+","+ze+" 0 0 "+kt+" "+(rt+ze*Xt)+","+vt+"H"+(st-ze*Xt)+"A "+ze+","+ze+" 0 0 "+kt+" "+st+","+(vt-ze*St)+"V"+(ht+ze*St)+"A "+ze+","+ze+" 0 0 "+kt+" "+(st-ze*Xt)+","+ht+"Z";else{nt=Math.abs(st-rt)+yt;var Kt=nt<ze?ze-Math.sqrt(nt*(2*ze-nt)):0,mr=yt>0?Math.sqrt(yt*(2*ze-yt)):0,mt=Xt>0?Math.max:Math.min;Je="M"+rt+","+ht+"V"+(vt-Kt*St)+"H"+mt(st-(ze-yt)*Xt,rt)+"A "+ze+","+ze+" 0 0 "+kt+" "+st+","+(vt-ze*St-mr)+"V"+(ht+ze*St+mr)+"A "+ze+","+ze+" 0 0 "+kt+" "+mt(st-(ze-yt)*Xt,rt)+","+(ht+Kt*St)+"Z"}else if(ut.hasB)Je="M"+(rt+ze*Xt)+","+ht+"A "+ze+","+ze+" 0 0 "+kt+" "+rt+","+(ht+ze*St)+"V"+(vt-ze*St)+"A "+ze+","+ze+" 0 0 "+kt+" "+(rt+ze*Xt)+","+vt+"H"+(st-ze*Xt)+"A "+ze+","+ze+" 0 0 "+kt+" "+st+","+(vt-ze*St)+"V"+(ht+ze*St)+"A "+ze+","+ze+" 0 0 "+kt+" "+(st-ze*Xt)+","+ht+"Z";else{nt=Math.abs(vt-ht)+yt;var Zt=nt<ze?ze-Math.sqrt(nt*(2*ze-nt)):0,Qt=yt>0?Math.sqrt(yt*(2*ze-yt)):0,yr=St>0?Math.max:Math.min;Je="M"+(rt+Zt*Xt)+","+ht+"V"+yr(vt-(ze-yt)*St,ht)+"A "+ze+","+ze+" 0 0 "+kt+" "+(rt+ze*Xt-Qt)+","+vt+"H"+(st-ze*Xt+Qt)+"A "+ze+","+ze+" 0 0 "+kt+" "+(st-Zt*Xt)+","+yr(vt-(ze-yt)*St,ht)+"V"+ht+"Z"}}else Je=pt}else Je=pt;var sr=E(a.ensureSingle(at,"path"),ee,$,X);if(sr.style("vector-effect",se?"none":"non-scaling-stroke").attr("d",isNaN((st-rt)*(vt-ht))||At&&Q._context.staticPlot?"M0,0Z":Je).call(v.setClipUrl,re.layerClipId,Q),!ee.uniformtext.mode&&Re){var bt=v.makePointStyleFns(ie);v.singlePointStyle(ut,sr,ie,bt,Q)}L(Q,re,at,K,dt,rt,st,ht,vt,ze,yt,$,X),re.layerClipId&&v.hideOutsideRangePoint(ut,at.select("text"),oe,Y,ie.xcalendar,ie.ycalendar)});var Xe=ie.cliponaxis===!1;v.setClipUrl(le,Xe?null:re.layerClipId,Q)});p.getComponentMethod("errorbars","plot")(Q,q,re,$)}function L(Q,re,ne,fe,$,X,oe,Y,ee,se,q,K,le){var ie=re.xaxis,he=re.yaxis,ye=Q._fullLayout,Ce;function Ae(nt,pt,yt){var Yt=a.ensureSingle(nt,"text").text(pt).attr({class:"bartext bartext-"+Ce,"text-anchor":"middle","data-notex":1}).call(v.font,yt).call(x.convertToTspans,Q);return Yt}var ke=fe[0].trace,we=ke.orientation==="h",Ee=B(ye,fe,$,ie,he);Ce=N(ke,$);var xe=K.mode==="stack"||K.mode==="relative",Re=fe[$],Ve=!xe||Re._outmost,Ue=Re.hasB,Be=se&&se-q>o;if(!Ee||Ce==="none"||(Re.isBlank||X===oe||Y===ee)&&(Ce==="auto"||Ce==="inside")){ne.select("text").remove();return}var Xe=ye.font,ut=u.getBarColor(fe[$],ke),dt=u.getInsideTextFont(ke,$,Xe,ut),at=u.getOutsideTextFont(ke,$,Xe),We=ke.insidetextanchor||"end",rt=ne.datum();we?ie.type==="log"&&rt.s0<=0&&(ie.range[0]<ie.range[1]?X=0:X=ie._length):he.type==="log"&&rt.s0<=0&&(he.range[0]<he.range[1]?Y=he._length:Y=0);var st=Math.abs(oe-X),ht=Math.abs(ee-Y),vt=st-2*o,At=ht-2*o,tt,_e,je,Ke,He;if(Ce==="outside"&&!Ve&&!Re.hasB&&(Ce="inside"),Ce==="auto")if(Ve){Ce="inside",He=a.ensureUniformFontSize(Q,dt),tt=Ae(ne,Ee,He),_e=v.bBox(tt.node()),je=_e.width,Ke=_e.height;var Ie=je>0&&Ke>0,be;Be?Ue?be=A(vt-2*se,At,je,Ke,we)||A(vt,At-2*se,je,Ke,we):we?be=A(vt-(se-q),At,je,Ke,we)||A(vt,At-2*(se-q),je,Ke,we):be=A(vt,At-(se-q),je,Ke,we)||A(vt-2*(se-q),At,je,Ke,we):be=A(vt,At,je,Ke,we),Ie&&be?Ce="inside":(Ce="outside",tt.remove(),tt=null)}else Ce="inside";if(!tt){He=a.ensureUniformFontSize(Q,Ce==="outside"?at:dt),tt=Ae(ne,Ee,He);var me=tt.attr("transform");if(tt.attr("transform",""),_e=v.bBox(tt.node()),je=_e.width,Ke=_e.height,tt.attr("transform",me),je<=0||Ke<=0){tt.remove();return}}var Me=ke.textangle,Te,ze;Ce==="outside"?(ze=ke.constraintext==="both"||ke.constraintext==="outside",Te=z(X,oe,Y,ee,_e,{isHorizontal:we,constrained:ze,angle:Me})):(ze=ke.constraintext==="both"||ke.constraintext==="inside",Te=U(X,oe,Y,ee,_e,{isHorizontal:we,constrained:ze,angle:Me,anchor:We,hasB:Ue,r:se,overhead:q})),Te.fontSize=He.size,i(ke.type==="histogram"?"bar":ke.type,Te,ye),Re.transform=Te;var Je=E(tt,ye,K,le);a.setTransormAndDisplay(Je,Te)}function A(Q,re,ne,fe,$){if(Q<0||re<0)return!1;var X=ne<=Q&&fe<=re,oe=ne<=re&&fe<=Q,Y=$?Q>=ne*(re/fe):re>=fe*(Q/ne);return X||oe||Y}function k(Q){return Q==="auto"?0:Q}function _(Q,re){var ne=Math.PI/180*re,fe=Math.abs(Math.sin(ne)),$=Math.abs(Math.cos(ne));return{x:Q.width*$+Q.height*fe,y:Q.width*fe+Q.height*$}}function U(Q,re,ne,fe,$,X){var oe=!!X.isHorizontal,Y=!!X.constrained,ee=X.angle||0,se=X.anchor,q=se==="end",K=se==="start",le=X.leftToRight||0,ie=(le+1)/2,he=1-ie,ye=X.hasB,Ce=X.r,Ae=X.overhead,ke=$.width,we=$.height,Ee=Math.abs(re-Q),xe=Math.abs(fe-ne),Re=Ee>2*o&&xe>2*o?o:0;Ee-=2*Re,xe-=2*Re;var Ve=k(ee);ee==="auto"&&!(ke<=Ee&&we<=xe)&&(ke>Ee||we>xe)&&(!(ke>xe||we>Ee)||ke<we!=Ee<xe)&&(Ve+=90);var Ue=_($,Ve),Be,Xe;if(Ce&&Ce-Ae>o){var ut=F(Q,re,ne,fe,Ue,Ce,Ae,oe,ye);Be=ut.scale,Xe=ut.pad}else Be=1,Y&&(Be=Math.min(1,Ee/Ue.x,xe/Ue.y)),Xe=0;var dt=$.left*he+$.right*ie,at=($.top+$.bottom)/2,We=(Q+o)*he+(re-o)*ie,rt=(ne+fe)/2,st=0,ht=0;if(K||q){var vt=(oe?Ue.x:Ue.y)/2;Ce&&(q||ye)&&(Re+=Xe);var At=oe?C(Q,re):C(ne,fe);oe?K?(We=Q+At*Re,st=-At*vt):(We=re-At*Re,st=At*vt):K?(rt=ne+At*Re,ht=-At*vt):(rt=fe-At*Re,ht=At*vt)}return{textX:dt,textY:at,targetX:We,targetY:rt,anchorX:st,anchorY:ht,scale:Be,rotate:Ve}}function F(Q,re,ne,fe,$,X,oe,Y,ee){var se=Math.max(0,Math.abs(re-Q)-2*o),q=Math.max(0,Math.abs(fe-ne)-2*o),K=X-o,le=oe?K-Math.sqrt(K*K-(K-oe)*(K-oe)):K,ie=ee?K*2:Y?K-oe:2*le,he=ee?K*2:Y?2*le:K-oe,ye,Ce,Ae,ke,we;return $.y/$.x>=q/(se-ie)?ke=q/$.y:$.y/$.x<=(q-he)/se?ke=se/$.x:!ee&&Y?(ye=$.x*$.x+$.y*$.y/4,Ce=-2*$.x*(se-K)-$.y*(q/2-K),Ae=(se-K)*(se-K)+(q/2-K)*(q/2-K)-K*K,ke=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)):ee?(ye=($.x*$.x+$.y*$.y)/4,Ce=-$.x*(se/2-K)-$.y*(q/2-K),Ae=(se/2-K)*(se/2-K)+(q/2-K)*(q/2-K)-K*K,ke=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)):(ye=$.x*$.x/4+$.y*$.y,Ce=-$.x*(se/2-K)-2*$.y*(q-K),Ae=(se/2-K)*(se/2-K)+(q-K)*(q-K)-K*K,ke=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)),ke=Math.min(1,ke),Y?we=Math.max(0,K-Math.sqrt(Math.max(0,K*K-(K-(q-$.y*ke)/2)*(K-(q-$.y*ke)/2)))-oe):we=Math.max(0,K-Math.sqrt(Math.max(0,K*K-(K-(se-$.x*ke)/2)*(K-(se-$.x*ke)/2)))-oe),{scale:ke,pad:we}}function z(Q,re,ne,fe,$,X){var oe=!!X.isHorizontal,Y=!!X.constrained,ee=X.angle||0,se=$.width,q=$.height,K=Math.abs(re-Q),le=Math.abs(fe-ne),ie;oe?ie=le>2*o?o:0:ie=K>2*o?o:0;var he=1;Y&&(he=oe?Math.min(1,le/q):Math.min(1,K/se));var ye=k(ee),Ce=_($,ye),Ae=(oe?Ce.x:Ce.y)/2,ke=($.left+$.right)/2,we=($.top+$.bottom)/2,Ee=(Q+re)/2,xe=(ne+fe)/2,Re=0,Ve=0,Ue=oe?C(re,Q):C(ne,fe);return oe?(Ee=re-Ue*ie,Re=Ue*Ae):(xe=fe+Ue*ie,Ve=-Ue*Ae),{textX:ke,textY:we,targetX:Ee,targetY:xe,anchorX:Re,anchorY:Ve,scale:he,rotate:ye}}function B(Q,re,ne,fe,$){var X=re[0].trace,oe=X.texttemplate,Y;return oe?Y=V(Q,re,ne,fe,$):X.textinfo?Y=W(re,ne,fe,$):Y=f.getValue(X.text,ne),f.coerceString(h,Y)}function N(Q,re){var ne=f.getValue(Q.textposition,re);return f.coerceEnumerated(M,ne)}function V(Q,re,ne,fe,$){var X=re[0].trace,oe=a.castOption(X,ne,"texttemplate");if(!oe)return"";var Y=X.type==="histogram",ee=X.type==="waterfall",se=X.type==="funnel",q=X.orientation==="h",K,le,ie,he;q?(K="y",le=$,ie="x",he=fe):(K="x",le=fe,ie="y",he=$);function ye(Re){return r(le,le.c2l(Re),!0).text}function Ce(Re){return r(he,he.c2l(Re),!0).text}var Ae=re[ne],ke={};ke.label=Ae.p,ke.labelLabel=ke[K+"Label"]=ye(Ae.p);var we=a.castOption(X,Ae.i,"text");(we===0||we)&&(ke.text=we),ke.value=Ae.s,ke.valueLabel=ke[ie+"Label"]=Ce(Ae.s);var Ee={};c(Ee,X,Ae.i),(Y||Ee.x===void 0)&&(Ee.x=q?ke.value:ke.label),(Y||Ee.y===void 0)&&(Ee.y=q?ke.label:ke.value),(Y||Ee.xLabel===void 0)&&(Ee.xLabel=q?ke.valueLabel:ke.labelLabel),(Y||Ee.yLabel===void 0)&&(Ee.yLabel=q?ke.labelLabel:ke.valueLabel),ee&&(ke.delta=+Ae.rawS||Ae.s,ke.deltaLabel=Ce(ke.delta),ke.final=Ae.v,ke.finalLabel=Ce(ke.final),ke.initial=ke.final-ke.delta,ke.initialLabel=Ce(ke.initial)),se&&(ke.value=Ae.s,ke.valueLabel=Ce(ke.value),ke.percentInitial=Ae.begR,ke.percentInitialLabel=a.formatPercent(Ae.begR),ke.percentPrevious=Ae.difR,ke.percentPreviousLabel=a.formatPercent(Ae.difR),ke.percentTotal=Ae.sumR,ke.percenTotalLabel=a.formatPercent(Ae.sumR));var xe=a.castOption(X,Ae.i,"customdata");return xe&&(ke.customdata=xe),a.texttemplateString(oe,ke,Q._d3locale,Ee,ke,X._meta||{})}function W(Q,re,ne,fe){var $=Q[0].trace,X=$.orientation==="h",oe=$.type==="waterfall",Y=$.type==="funnel";function ee(xe){var Re=X?fe:ne;return r(Re,xe,!0).text}function se(xe){var Re=X?ne:fe;return r(Re,+xe,!0).text}var q=$.textinfo,K=Q[re],le=q.split("+"),ie=[],he,ye=function(xe){return le.indexOf(xe)!==-1};if(ye("label")&&ie.push(ee(Q[re].p)),ye("text")&&(he=a.castOption($,K.i,"text"),(he===0||he)&&ie.push(he)),oe){var Ce=+K.rawS||K.s,Ae=K.v,ke=Ae-Ce;ye("initial")&&ie.push(se(ke)),ye("delta")&&ie.push(se(Ce)),ye("final")&&ie.push(se(Ae))}if(Y){ye("value")&&ie.push(se(K.s));var we=0;ye("percent initial")&&we++,ye("percent previous")&&we++,ye("percent total")&&we++;var Ee=we>1;ye("percent initial")&&(he=a.formatPercent(K.begR),Ee&&(he+=" of initial"),ie.push(he)),ye("percent previous")&&(he=a.formatPercent(K.difR),Ee&&(he+=" of previous"),ie.push(he)),ye("percent total")&&(he=a.formatPercent(K.sumR),Ee&&(he+=" of total"),ie.push(he))}return ie.join("<br>")}H.exports={plot:s,toMoveInsideBar:U}},45784:function(H){H.exports=function(g,P){var a=g.cd,x=g.xaxis,w=g.yaxis,v=a[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],i;if(P===!1)for(i=0;i<a.length;i++)a[i].selected=0;else for(i=0;i<a.length;i++){var n=a[i],u="ct"in n?n.ct:j(n,x,w,r,p);P.contains(u,!1,i,g)?(t.push({pointNumber:i,x:x.c2d(n.x),y:w.c2d(n.y)}),n.selected=1):n.selected=0}return t};function j(e,g,P,a,x){var w=g.c2p(a?e.s0:e.p0,!0),v=g.c2p(a?e.s1:e.p1,!0),p=P.c2p(a?e.p0:e.s0,!0),r=P.c2p(a?e.p1:e.s1,!0);return x?[(w+v)/2,(p+r)/2]:a?[v,(p+r)/2]:[(w+v)/2,r]}},72592:function(H,j,e){H.exports=P;var g=e(3400).distinctVals;function P(a,x){this.traces=a,this.sepNegVal=x.sepNegVal,this.overlapNoMerge=x.overlapNoMerge;for(var w=1/0,v=x.posAxis._id.charAt(0),p=[],r=0;r<a.length;r++){for(var t=a[r],i=0;i<t.length;i++){var n=t[i],u=n.p;u===void 0&&(u=n[v]),u!==void 0&&p.push(u)}t[0]&&t[0].width1&&(w=Math.min(t[0].width1,w))}this.positions=p;var f=g(p);this.distinctPositions=f.vals,f.vals.length===1&&w!==1/0?this.minDiff=w:this.minDiff=Math.min(f.minDiff,w);var l=(x.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(x,w){var v=this.getLabel(x,w),p=this.bins[v]||0;return this.bins[v]=p+w,p},P.prototype.get=function(x,w){var v=this.getLabel(x,w);return this.bins[v]||0},P.prototype.getLabel=function(x,w){var v=w<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?x:Math.round(x/this.binWidth);return v+p}},60100:function(H,j,e){var g=e(33428),P=e(76308),a=e(43616),x=e(3400),w=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,i=p.outsidetextfont,n=e(60444);function u(m){var E=g.select(m).selectAll("g.barlayer").selectAll("g.trace");v(m,E,"bar");var b=E.size(),s=m._fullLayout;E.style("opacity",function(L){return L[0].trace.opacity}).each(function(L){(s.barmode==="stack"&&b>1||s.bargap===0&&s.bargroupgap===0&&!L[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(L){var A=g.select(this),k=L[0].trace;f(A,k,m)}),w.getComponentMethod("errorbars","style")(E)}function f(m,E,b){a.pointStyle(m.selectAll("path"),E,b),l(m,E,b)}function l(m,E,b){m.selectAll("text").each(function(s){var L=g.select(this),A=x.ensureUniformFontSize(b,c(L,s,E,b));a.font(L,A)})}function y(m,E,b){var s=E[0].trace;s.selectedpoints?h(b,s,m):(f(b,s,m),w.getComponentMethod("errorbars","style")(b))}function h(m,E,b){a.selectedPointStyle(m.selectAll("path"),E),M(m.selectAll("text"),E,b)}function M(m,E,b){m.each(function(s){var L=g.select(this),A;if(s.selected){A=x.ensureUniformFontSize(b,c(L,s,E,b));var k=E.selected.textfont&&E.selected.textfont.color;k&&(A.color=k),a.font(L,A)}else a.selectedTextStyle(L,E)})}function c(m,E,b,s){var L=s._fullLayout.font,A=b.textfont;if(m.classed("bartext-inside")){var k=C(E,b);A=d(b,E.i,L,k)}else m.classed("bartext-outside")&&(A=T(b,E.i,L));return A}function o(m,E,b){return S(r,m.textfont,E,b)}function d(m,E,b,s){var L=o(m,E,b),A=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[E]===void 0;return A&&(L={color:P.contrast(s),family:L.family,size:L.size}),S(t,m.insidetextfont,E,L)}function T(m,E,b){var s=o(m,E,b);return S(i,m.outsidetextfont,E,s)}function S(m,E,b,s){E=E||{};var L=n.getValue(E.family,b),A=n.getValue(E.size,b),k=n.getValue(E.color,b);return{family:n.coerceString(m.family,L,s.family),size:n.coerceNumber(m.size,A,s.size),color:n.coerceColor(m.color,k,s.color)}}function C(m,E){return E.type==="waterfall"?E[m.dir].marker.color:m.mcc||m.mc||E.marker.color}H.exports={style:u,styleTextPoints:l,styleOnSelect:y,getInsideTextFont:d,getOutsideTextFont:T,getBarColor:C,resizeText:v}},55592:function(H,j,e){var g=e(76308),P=e(94288).hasColorscale,a=e(27260),x=e(3400).coercePattern;H.exports=function(v,p,r,t,i){var n=r("marker.color",t),u=P(v,"marker");u&&a(v,p,i,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",g.defaultLine),P(v,"marker.line")&&a(v,p,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),x(r,"marker.pattern",n,u),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(H,j,e){var g=e(33428),P=e(3400);function a(p,r,t){var i=p._fullLayout,n=i["_"+t+"Text_minsize"];if(n){var u=i.uniformtext.mode==="hide",f;switch(t){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}r.selectAll(f).each(function(l){var y=l.transform;if(y){y.scale=u&&y.hide?0:n/y.fontSize;var h=g.select(this).select("text");P.setTransormAndDisplay(h,y)}})}}function x(p,r,t){if(t.uniformtext.mode){var i=v(p),n=t.uniformtext.minsize,u=r.scale*r.fontSize;r.hide=u<n,t[i]=t[i]||1/0,r.hide||(t[i]=Math.min(t[i],Math.max(u,n)))}}function w(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}H.exports={recordMinTextSize:x,clearMinTextSize:w,resizeText:a}},78100:function(H,j,e){var g=e(21776).Ks,P=e(92880).extendFlat,a=e(8319),x=e(20832);H.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:P({},x.base,{}),offset:P({},x.offset,{}),width:P({},x.width,{}),text:P({},x.text,{}),hovertext:P({},x.hovertext,{}),marker:w(),hoverinfo:a.hoverinfo,hovertemplate:g(),selected:x.selected,unselected:x.unselected};function w(){var v=P({},x.marker);return delete v.cornerradius,v}},47056:function(H,j,e){var g=e(94288).hasColorscale,P=e(47128),a=e(3400).isArrayOrTypedArray,x=e(84664),w=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,u){for(var f=n._fullLayout,l=u.subplot,y=f[l].radialaxis,h=f[l].angularaxis,M=y.makeCalcdata(u,"r"),c=h.makeCalcdata(u,"theta"),o=u._length,d=new Array(o),T=M,S=c,C=0;C<o;C++)d[C]={p:S[C],s:T[C]};function m(E){var b=u[E];b!==void 0&&(u["_"+E]=a(b)?h.makeCalcdata(u,E):h.d2c(b,u.thetaunit))}return h.type==="linear"&&(m("width"),m("offset")),g(u,"marker")&&P(n,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),g(u,"marker.line")&&P(n,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}),x(d,u),v(d,u),d}function i(n,u,f){for(var l=n.calcdata,y=[],h=0;h<l.length;h++){var M=l[h],c=M[0].trace;c.visible===!0&&p(c,"bar")&&c.subplot===f&&y.push(M)}var o=r({},u.radialaxis,{_id:"x"}),d=u.angularaxis;w(n,d,o,y,{mode:u.barmode,norm:u.barnorm,gap:u.bargap,groupgap:u.bargroupgap})}H.exports={calc:t,crossTraceCalc:i}},70384:function(H,j,e){var g=e(3400),P=e(85968).handleRThetaDefaults,a=e(55592),x=e(78100);H.exports=function(v,p,r,t){function i(u,f){return g.coerce(v,p,x,u,f)}var n=P(v,p,t,i);if(!n){p.visible=!1;return}i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(v,p,i,r,t),g.coerceSelectionMarkerOpacity(p,i)}},68896:function(H,j,e){var g=e(93024),P=e(3400),a=e(63400).getTraceColor,x=P.fillText,w=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;H.exports=function(r,t,i){var n=r.cd,u=n[0].trace,f=r.subplot,l=f.radialAxis,y=f.angularAxis,h=f.vangles,M=h?v:P.isPtInsideSector,c=r.maxHoverDistance,o=y._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),T=Math.atan2(i,t);l.range[0]>l.range[1]&&(T+=Math.PI);var S=function(b){return M(d,T,[b.rp0,b.rp1],[b.thetag0,b.thetag1],h)?c+Math.min(1,Math.abs(b.thetag1-b.thetag0)/o)-1+(b.rp1-d)/(b.rp1-b.rp0)-1:1/0};if(g.getClosest(n,S,r),r.index!==!1){var C=r.index,m=n[C];r.x0=r.x1=m.ct[0],r.y0=r.y1=m.ct[1];var E=P.extendFlat({},m,{r:m.s,theta:m.p});return x(m,u,r),w(E,u,f,r),r.hovertemplate=u.hovertemplate,r.color=a(u,m),r.xLabelVal=r.yLabelVal=void 0,m.s<0&&(r.idealAlign="left"),[r]}}},94456:function(H,j,e){H.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(H,j,e){var g=e(3400),P=e(9320);H.exports=function(a,x,w){var v={},p;function r(n,u){return g.coerce(a[p]||{},x[p],P,n,u)}for(var t=0;t<w.length;t++){var i=w[t];i.type==="barpolar"&&i.visible===!0&&(p=i.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(H,j,e){var g=e(33428),P=e(38248),a=e(3400),x=e(43616),w=e(57384);H.exports=function(r,t,i){var n=r._context.staticPlot,u=t.xaxis,f=t.yaxis,l=t.radialAxis,y=t.angularAxis,h=v(t),M=t.layers.frontplot.select("g.barlayer");a.makeTraceGroups(M,i,"trace bars").each(function(){var c=g.select(this),o=a.ensureSingle(c,"g","points"),d=o.selectAll("g.point").data(a.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(T){var S=g.select(this),C=T.rp0=l.c2p(T.s0),m=T.rp1=l.c2p(T.s1),E=T.thetag0=y.c2g(T.p0),b=T.thetag1=y.c2g(T.p1),s;if(!P(C)||!P(m)||!P(E)||!P(b)||C===m||E===b)s="M0,0Z";else{var L=l.c2g(T.s1),A=(E+b)/2;T.ct=[u.c2p(L*Math.cos(A)),f.c2p(L*Math.sin(A))],s=h(C,m,E,b)}a.ensureSingle(S,"path").attr("d",s)}),x.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(i,n,u,f){var l,y;a.angleDelta(u,f)>0?(l=u,y=f):(l=f,y=u);var h=w.findEnclosingVertexAngles(l,p.vangles)[0],M=w.findEnclosingVertexAngles(y,p.vangles)[1],c=[h,(l+y)/2,M];return w.pathPolygonAnnulus(i,n,l,y,c,r,t)}:function(i,n,u,f){return a.pathAnnulus(i,n,u,f,r,t)}}},63188:function(H,j,e){var g=e(98304),P=e(52904),a=e(20832),x=e(22548),w=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=P.marker,t=r.line;H.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:x.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:p({},P.text,{}),hovertext:p({},P.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(H,j,e){var g=e(38248),P=e(54460),a=e(1220),x=e(3400),w=e(39032).BADNUM,v=x._;H.exports=function(T,S){var C=T._fullLayout,m=P.getFromId(T,S.xaxis||"x"),E=P.getFromId(T,S.yaxis||"y"),b=[],s=S.type==="violin"?"_numViolins":"_numBoxes",L,A,k,_,U,F,z;S.orientation==="h"?(k=m,_="x",U=E,F="y",z=!!S.yperiodalignment):(k=E,_="y",U=m,F="x",z=!!S.xperiodalignment);var B=p(S,F,U,C[s]),N=B[0],V=B[1],W=x.distinctVals(N,U),Q=W.vals,re=W.minDiff/2,ne,fe,$,X,oe,Y,ee=(S.boxpoints||S.points)==="all"?x.identity:function(At){return At.v<ne.lf||At.v>ne.uf};if(S._hasPreCompStats){var se=S[_],q=function(At){return k.d2c((S[At]||[])[L])},K=1/0,le=-1/0;for(L=0;L<S._length;L++){var ie=N[L];if(g(ie)){if(ne={},ne.pos=ne[F]=ie,z&&V&&(ne.orig_p=V[L]),ne.q1=q("q1"),ne.med=q("median"),ne.q3=q("q3"),fe=[],se&&x.isArrayOrTypedArray(se[L]))for(A=0;A<se[L].length;A++)Y=k.d2c(se[L][A]),Y!==w&&(oe={v:Y,i:[L,A]},n(oe,S,[L,A]),fe.push(oe));if(ne.pts=fe.sort(f),$=ne[_]=fe.map(l),X=$.length,ne.med!==w&&ne.q1!==w&&ne.q3!==w&&ne.med>=ne.q1&&ne.q3>=ne.med){var he=q("lowerfence");ne.lf=he!==w&&he<=ne.q1?he:y(ne,$,X);var ye=q("upperfence");ne.uf=ye!==w&&ye>=ne.q3?ye:h(ne,$,X);var Ce=q("mean");ne.mean=Ce!==w?Ce:X?x.mean($,X):(ne.q1+ne.q3)/2;var Ae=q("sd");ne.sd=Ce!==w&&Ae>=0?Ae:X?x.stdev($,X,ne.mean):ne.q3-ne.q1,ne.lo=M(ne),ne.uo=c(ne);var ke=q("notchspan");ke=ke!==w&&ke>0?ke:o(ne,X),ne.ln=ne.med-ke,ne.un=ne.med+ke;var we=ne.lf,Ee=ne.uf;S.boxpoints&&$.length&&(we=Math.min(we,$[0]),Ee=Math.max(Ee,$[X-1])),S.notched&&(we=Math.min(we,ne.ln),Ee=Math.max(Ee,ne.un)),ne.min=we,ne.max=Ee}else{x.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ne.q1,"median = "+ne.med,"q3 = "+ne.q3].join(`
`));var xe;ne.med!==w?xe=ne.med:ne.q1!==w?ne.q3!==w?xe=(ne.q1+ne.q3)/2:xe=ne.q1:ne.q3!==w?xe=ne.q3:xe=0,ne.med=xe,ne.q1=ne.q3=xe,ne.lf=ne.uf=xe,ne.mean=ne.sd=xe,ne.ln=ne.un=xe,ne.min=ne.max=xe}K=Math.min(K,ne.min),le=Math.max(le,ne.max),ne.pts2=fe.filter(ee),b.push(ne)}}S._extremes[k._id]=P.findExtremes(k,[K,le],{padded:!0})}else{var Re=k.makeCalcdata(S,_),Ve=r(Q,re),Ue=Q.length,Be=t(Ue);for(L=0;L<S._length;L++)if(Y=Re[L],!!g(Y)){var Xe=x.findBin(N[L],Ve);Xe>=0&&Xe<Ue&&(oe={v:Y,i:L},n(oe,S,L),Be[Xe].push(oe))}var ut=1/0,dt=-1/0,at=S.quartilemethod,We=at==="exclusive",rt=at==="inclusive";for(L=0;L<Ue;L++)if(Be[L].length>0){if(ne={},ne.pos=ne[F]=Q[L],fe=ne.pts=Be[L].sort(f),$=ne[_]=fe.map(l),X=$.length,ne.min=$[0],ne.max=$[X-1],ne.mean=x.mean($,X),ne.sd=x.stdev($,X,ne.mean)*S.sdmultiple,ne.med=x.interp($,.5),X%2&&(We||rt)){var st,ht;We?(st=$.slice(0,X/2),ht=$.slice(X/2+1)):rt&&(st=$.slice(0,X/2+1),ht=$.slice(X/2)),ne.q1=x.interp(st,.5),ne.q3=x.interp(ht,.5)}else ne.q1=x.interp($,.25),ne.q3=x.interp($,.75);ne.lf=y(ne,$,X),ne.uf=h(ne,$,X),ne.lo=M(ne),ne.uo=c(ne);var vt=o(ne,X);ne.ln=ne.med-vt,ne.un=ne.med+vt,ut=Math.min(ut,ne.ln),dt=Math.max(dt,ne.un),ne.pts2=fe.filter(ee),b.push(ne)}S.notched&&x.isTypedArray(Re)&&(Re=Array.from(Re)),S._extremes[k._id]=P.findExtremes(k,S.notched?Re.concat([ut,dt]):Re,{padded:!0})}return u(b,S),b.length>0?(b[0].t={num:C[s],dPos:re,posLetter:F,valLetter:_,labels:{med:v(T,"median:"),min:v(T,"min:"),q1:v(T,"q1:"),q3:v(T,"q3:"),max:v(T,"max:"),mean:S.boxmean==="sd"||S.sizemode==="sd"?v(T,"mean ± σ:").replace("σ",S.sdmultiple===1?"σ":S.sdmultiple+"σ"):v(T,"mean:"),lf:v(T,"lower fence:"),uf:v(T,"upper fence:")}},C[s]++,b):[{t:{empty:!0}}]};function p(d,T,S,C){var m=T in d,E=T+"0"in d,b="d"+T in d;if(m||E&&b){var s=S.makeCalcdata(d,T),L=a(d,S,T,s).vals;return[L,s]}var A;E?A=d[T+"0"]:"name"in d&&(S.type==="category"||g(d.name)&&["linear","log"].indexOf(S.type)!==-1||x.isDateTime(d.name)&&S.type==="date")?A=d.name:A=C;for(var k=S.type==="multicategory"?S.r2c_just_indices(A):S.d2c(A,0,d[T+"calendar"]),_=d._length,U=new Array(_),F=0;F<_;F++)U[F]=k;return[U]}function r(d,T){for(var S=d.length,C=new Array(S+1),m=0;m<S;m++)C[m]=d[m]-T;return C[S]=d[S-1]+T,C}function t(d){for(var T=new Array(d),S=0;S<d;S++)T[S]=[];return T}var i={text:"tx",hovertext:"htx"};function n(d,T,S){for(var C in i)x.isArrayOrTypedArray(T[C])&&(Array.isArray(S)?x.isArrayOrTypedArray(T[C][S[0]])&&(d[i[C]]=T[C][S[0]][S[1]]):d[i[C]]=T[C][S])}function u(d,T){if(x.isArrayOrTypedArray(T.selectedpoints))for(var S=0;S<d.length;S++){for(var C=d[S].pts||[],m={},E=0;E<C.length;E++)m[C[E].i]=E;x.tagSelected(C,T,m)}}function f(d,T){return d.v-T.v}function l(d){return d.v}function y(d,T,S){return S===0?d.q1:Math.min(d.q1,T[Math.min(x.findBin(2.5*d.q1-1.5*d.q3,T,!0)+1,S-1)])}function h(d,T,S){return S===0?d.q3:Math.max(d.q3,T[Math.max(x.findBin(2.5*d.q3-1.5*d.q1,T),0)])}function M(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function o(d,T){return T===0?0:1.57*(d.q3-d.q1)/Math.sqrt(T)}},96404:function(H,j,e){var g=e(54460),P=e(3400),a=e(71888).getAxisGroup,x=["v","h"];function w(p,r){for(var t=p.calcdata,i=r.xaxis,n=r.yaxis,u=0;u<x.length;u++){for(var f=x[u],l=f==="h"?n:i,y=[],h=0;h<t.length;h++){var M=t[h],c=M[0].t,o=M[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!c.empty&&(o.orientation||"v")===f&&o.xaxis===i._id&&o.yaxis===n._id&&y.push(h)}v("box",p,y,l)}}function v(p,r,t,i){var n=r.calcdata,u=r._fullLayout,f=i._id,l=f.charAt(0),y,h,M,c=[],o=0;for(y=0;y<t.length;y++)for(M=n[t[y]],h=0;h<M.length;h++)c.push(i.c2l(M[h].pos,!0)),o+=(M[h].pts2||[]).length;if(c.length){var d=P.distinctVals(c);(i.type==="category"||i.type==="multicategory")&&(d.minDiff=1);var T=d.minDiff/2;g.minDtick(i,d.minDiff,d.vals[0],!0);var S=p==="violin"?"_numViolins":"_numBoxes",C=u[S],m=u[p+"mode"]==="group"&&C>1,E=1-u[p+"gap"],b=1-u[p+"groupgap"];for(y=0;y<t.length;y++){M=n[t[y]];var s=M[0].trace,L=M[0].t,A=s.width,k=s.side,_,U,F,z;if(A)_=U=z=A/2,F=0;else if(_=T,m){var B=a(u,i._id)+s.orientation,N=u._alignmentOpts[B]||{},V=N[s.alignmentgroup]||{},W=Object.keys(V.offsetGroups||{}).length,Q=W||C,re=W?s._offsetIndex:L.num;U=_*E*b/Q,F=2*_*(-.5+(re+.5)/Q)*E,z=_*E/Q}else U=_*E*b,F=0,z=_;L.dPos=_,L.bPos=F,L.bdPos=U,L.wHover=z;var ne,fe,$=F+U,X,oe,Y,ee,se,q,K=!!A,le=(s.boxpoints||s.points)&&o>0;if(k==="positive"?(ne=_*(A?1:.5),X=$,fe=X=F):k==="negative"?(ne=X=F,fe=_*(A?1:.5),oe=$):(ne=fe=_,X=oe=$),le){var ie=s.pointpos,he=s.jitter,ye=s.marker.size/2,Ce=0;ie+he>=0&&(Ce=$*(ie+he),Ce>ne?(K=!0,se=ye,Y=Ce):Ce>X&&(se=ye,Y=ne)),Ce<=ne&&(Y=ne);var Ae=0;ie-he<=0&&(Ae=-$*(ie-he),Ae>fe?(K=!0,q=ye,ee=Ae):Ae>oe&&(q=ye,ee=fe)),Ae<=fe&&(ee=fe)}else Y=ne,ee=fe;var ke=new Array(M.length);for(h=0;h<M.length;h++)ke[h]=M[h].pos;s._extremes[f]=g.findExtremes(i,ke,{padded:K,vpadminus:ee,vpadplus:Y,vpadLinearized:!0,ppadminus:{x:q,y:se}[l],ppadplus:{x:se,y:q}[l]})}}}H.exports={crossTraceCalc:w,setPositionOffset:v}},90624:function(H,j,e){var g=e(3400),P=e(24040),a=e(76308),x=e(31147),w=e(20011),v=e(52976),p=e(63188);function r(u,f,l,y){function h(b,s){return g.coerce(u,f,p,b,s)}if(t(u,f,h,y),f.visible!==!1){x(u,f,y,h),h("xhoverformat"),h("yhoverformat");var M=f._hasPreCompStats;M&&(h("lowerfence"),h("upperfence")),h("line.color",(u.marker||{}).color||l),h("line.width"),h("fillcolor",a.addOpacity(f.line.color,.5));var c=!1;if(M){var o=h("mean"),d=h("sd");o&&o.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var T=h("sizemode"),S;T==="quartiles"&&(S=h("boxmean",c)),h("showwhiskers",T==="quartiles"),(T==="sd"||S==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var C=!1;if(M){var m=h("notchspan");m&&m.length&&(C=!0)}else g.validate(u.notchwidth,p.notchwidth)&&(C=!0);var E=h("notched",C);E&&h("notchwidth"),i(u,f,h,{prefix:"box"})}}function t(u,f,l,y){function h(W){var Q=0;return W&&W.length&&(Q+=1,g.isArrayOrTypedArray(W[0])&&W[0].length&&(Q+=1)),Q}function M(W){return g.validate(u[W],p[W])}var c=l("y"),o=l("x"),d;if(f.type==="box"){var T=l("q1"),S=l("median"),C=l("q3");f._hasPreCompStats=T&&T.length&&S&&S.length&&C&&C.length,d=Math.min(g.minRowLength(T),g.minRowLength(S),g.minRowLength(C))}var m=h(c),E=h(o),b=m&&g.minRowLength(c),s=E&&g.minRowLength(o),L=y.calendar,A={autotypenumbers:y.autotypenumbers},k,_;if(f._hasPreCompStats)switch(String(E)+String(m)){case"00":var U=M("x0")||M("dx"),F=M("y0")||M("dy");F&&!U?k="h":k="v",_=d;break;case"10":k="v",_=Math.min(d,s);break;case"20":k="h",_=Math.min(d,o.length);break;case"01":k="h",_=Math.min(d,b);break;case"02":k="v",_=Math.min(d,c.length);break;case"12":k="v",_=Math.min(d,s,c.length);break;case"21":k="h",_=Math.min(d,o.length,b);break;case"11":_=0;break;case"22":var z=!1,B;for(B=0;B<o.length;B++)if(v(o[B],L,A)==="category"){z=!0;break}if(z)k="v",_=Math.min(d,s,c.length);else{for(B=0;B<c.length;B++)if(v(c[B],L,A)==="category"){z=!0;break}z?(k="h",_=Math.min(d,o.length,b)):(k="v",_=Math.min(d,s,c.length))}break}else m>0?(k="v",E>0?_=Math.min(s,b):_=Math.min(b)):E>0?(k="h",_=Math.min(s)):_=0;if(!_){f.visible=!1;return}f._length=_;var N=l("orientation",k);f._hasPreCompStats?N==="v"&&E===0?(l("x0",0),l("dx",1)):N==="h"&&m===0&&(l("y0",0),l("dy",1)):N==="v"&&E===0?l("x0"):N==="h"&&m===0&&l("y0");var V=P.getComponentMethod("calendars","handleTraceDefaults");V(u,f,["x","y"],y)}function i(u,f,l,y){var h=y.prefix,M=g.coerce2(u,f,p,"marker.outliercolor"),c=l("marker.line.outliercolor"),o="outliers";f._hasPreCompStats?o="all":(M||c)&&(o="suspectedoutliers");var d=l(h+"points",o);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",f.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",f.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete f.marker;var T=l("hoveron");(T==="all"||T.indexOf("points")!==-1)&&l("hovertemplate"),g.coerceSelectionMarkerOpacity(f,l)}function n(u,f){var l,y;function h(o){return g.coerce(y._input,y,p,o)}for(var M=0;M<u.length;M++){y=u[M];var c=y.type;(c==="box"||c==="violin")&&(l=y._input,f[c+"mode"]==="group"&&w(l,y,f,h))}}H.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(H){H.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},27576:function(H,j,e){var g=e(54460),P=e(3400),a=e(93024),x=e(76308),w=P.fillText;function v(t,i,n,u){var f=t.cd,l=f[0].trace,y=l.hoveron,h=[],M;return y.indexOf("boxes")!==-1&&(h=h.concat(p(t,i,n,u))),y.indexOf("points")!==-1&&(M=r(t,i,n)),u==="closest"?M?[M]:h:(M&&h.push(M),h)}function p(t,i,n,u){var f=t.cd,l=t.xa,y=t.ya,h=f[0].trace,M=f[0].t,c=h.type==="violin",o,d,T,S,C,m,E,b,s,L,A,k=M.bdPos,_,U,F=M.wHover,z=function(Ae){return T.c2l(Ae.pos)+M.bPos-T.c2l(m)};c&&h.side!=="both"?(h.side==="positive"&&(s=function(Ae){var ke=z(Ae);return a.inbox(ke,ke+F,L)},_=k,U=0),h.side==="negative"&&(s=function(Ae){var ke=z(Ae);return a.inbox(ke-F,ke,L)},_=0,U=k)):(s=function(Ae){var ke=z(Ae);return a.inbox(ke-F,ke+F,L)},_=U=k);var B;c?B=function(Ae){return a.inbox(Ae.span[0]-C,Ae.span[1]-C,L)}:B=function(Ae){return a.inbox(Ae.min-C,Ae.max-C,L)},h.orientation==="h"?(C=i,m=n,E=B,b=s,o="y",T=y,d="x",S=l):(C=n,m=i,E=s,b=B,o="x",T=l,d="y",S=y);var N=Math.min(1,k/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));L=t.maxHoverDistance-N,A=t.maxSpikeDistance-N;function V(Ae){return(E(Ae)+b(Ae))/2}var W=a.getDistanceFunction(u,E,b,V);if(a.getClosest(f,W,t),t.index===!1)return[];var Q=f[t.index],re=h.line.color,ne=(h.marker||{}).color;x.opacity(re)&&h.line.width?t.color=re:x.opacity(ne)&&h.boxpoints?t.color=ne:t.color=h.fillcolor,t[o+"0"]=T.c2p(Q.pos+M.bPos-U,!0),t[o+"1"]=T.c2p(Q.pos+M.bPos+_,!0),t[o+"LabelVal"]=Q.orig_p!==void 0?Q.orig_p:Q.pos;var fe=o+"Spike";t.spikeDistance=V(Q)*A/L,t[fe]=T.c2p(Q.pos,!0);var $=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,X=h.boxpoints||h.points,oe=X&&$?["max","uf","q3","med","mean","q1","lf","min"]:X&&!$?["max","uf","q3","med","q1","lf","min"]:!X&&$?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Y=S.range[1]<S.range[0];h.orientation===(Y?"v":"h")&&oe.reverse();for(var ee=t.spikeDistance,se=t[fe],q=[],K=0;K<oe.length;K++){var le=oe[K];if(le in Q){var ie=Q[le],he=S.c2p(ie,!0),ye=P.extendFlat({},t);ye.attr=le,ye[d+"0"]=ye[d+"1"]=he,ye[d+"LabelVal"]=ie,ye[d+"Label"]=(M.labels?M.labels[le]+" ":"")+g.hoverLabelText(S,ie,h[d+"hoverformat"]),ye.hoverOnBox=!0,le==="mean"&&"sd"in Q&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ye[d+"err"]=Q.sd),ye.hovertemplate=!1,q.push(ye)}}t.name="",t.spikeDistance=void 0,t[fe]=void 0;for(var Ce=0;Ce<q.length;Ce++)q[Ce].attr!=="med"?(q[Ce].name="",q[Ce].spikeDistance=void 0,q[Ce][fe]=void 0):(q[Ce].spikeDistance=ee,q[Ce][fe]=se);return q}function r(t,i,n){for(var u=t.cd,f=t.xa,l=t.ya,y=u[0].trace,h=f.c2p(i),M=l.c2p(n),c,o=function(B){var N=Math.max(3,B.mrc||0);return Math.max(Math.abs(f.c2p(B.x)-h)-N,1-3/N)},d=function(B){var N=Math.max(3,B.mrc||0);return Math.max(Math.abs(l.c2p(B.y)-M)-N,1-3/N)},T=a.quadrature(o,d),S=!1,C,m,E=0;E<u.length;E++){C=u[E];for(var b=0;b<(C.pts||[]).length;b++){m=C.pts[b];var s=T(m);s<=t.distance&&(t.distance=s,S=[E,b])}}if(!S)return!1;C=u[S[0]],m=C.pts[S[1]];var L=f.c2p(m.x,!0),A=l.c2p(m.y,!0),k=m.mrc||1;c=P.extendFlat({},t,{index:m.i,color:(y.marker||{}).color,name:y.name,x0:L-k,x1:L+k,y0:A-k,y1:A+k,spikeDistance:t.distance,hovertemplate:y.hovertemplate});var _=C.orig_p,U=_!==void 0?_:C.pos,F;y.orientation==="h"?(F=l,c.xLabelVal=m.x,c.yLabelVal=U):(F=f,c.xLabelVal=U,c.yLabelVal=m.y);var z=F._id.charAt(0);return c[z+"Spike"]=F.c2p(C.pos,!0),w(m,y,c),c}H.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(H,j,e){H.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(H){H.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(H,j,e){var g=e(24040),P=e(3400),a=e(16560);function x(v,p,r,t,i){for(var n=i+"Layout",u=!1,f=0;f<r.length;f++){var l=r[f];if(g.traceIs(l,n)){u=!0;break}}u&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}function w(v,p,r){function t(i,n){return P.coerce(v,p,a,i,n)}x(v,p,r,t,"box")}H.exports={supplyLayoutDefaults:w,_supply:x}},18728:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=5,w=.01;function v(i,n,u,f){var l=i._context.staticPlot,y=n.xaxis,h=n.yaxis;P.makeTraceGroups(f,u,"trace boxes").each(function(M){var c=g.select(this),o=M[0],d=o.t,T=o.trace;if(d.wdPos=d.bdPos*T.whiskerwidth,T.visible!==!0||d.empty){c.remove();return}var S,C;T.orientation==="h"?(S=h,C=y):(S=y,C=h),p(c,{pos:S,val:C},T,d,l),r(c,{x:y,y:h},T,d),t(c,{pos:S,val:C},T,d)})}function p(i,n,u,f,l){var y=u.orientation==="h",h=n.val,M=n.pos,c=!!M.rangebreaks,o=f.bPos,d=f.wdPos||0,T=f.bPosPxOffset||0,S=u.whiskerwidth||0,C=u.showwhiskers!==!1,m=u.notched||!1,E=m?1-2*u.notchwidth:1,b,s;Array.isArray(f.bdPos)?(b=f.bdPos[0],s=f.bdPos[1]):(b=f.bdPos,s=f.bdPos);var L=i.selectAll("path.box").data(u.type!=="violin"||u.box.visible?P.identity:[]);L.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),L.exit().remove(),L.each(function(A){if(A.empty)return g.select(this).attr("d","M0,0Z");var k=M.c2l(A.pos+o,!0),_=M.l2p(k-b)+T,U=M.l2p(k+s)+T,F=c?(_+U)/2:M.l2p(k)+T,z=u.whiskerwidth,B=c?_*z+(1-z)*F:M.l2p(k-d)+T,N=c?U*z+(1-z)*F:M.l2p(k+d)+T,V=M.l2p(k-b*E)+T,W=M.l2p(k+s*E)+T,Q=u.sizemode==="sd",re=h.c2p(Q?A.mean-A.sd:A.q1,!0),ne=Q?h.c2p(A.mean+A.sd,!0):h.c2p(A.q3,!0),fe=P.constrain(Q?h.c2p(A.mean,!0):h.c2p(A.med,!0),Math.min(re,ne)+1,Math.max(re,ne)-1),$=A.lf===void 0||u.boxpoints===!1||Q,X=h.c2p($?A.min:A.lf,!0),oe=h.c2p($?A.max:A.uf,!0),Y=h.c2p(A.ln,!0),ee=h.c2p(A.un,!0);y?g.select(this).attr("d","M"+fe+","+V+"V"+W+"M"+re+","+_+"V"+U+(m?"H"+Y+"L"+fe+","+W+"L"+ee+","+U:"")+"H"+ne+"V"+_+(m?"H"+ee+"L"+fe+","+V+"L"+Y+","+_:"")+"Z"+(C?"M"+re+","+F+"H"+X+"M"+ne+","+F+"H"+oe+(S===0?"":"M"+X+","+B+"V"+N+"M"+oe+","+B+"V"+N):"")):g.select(this).attr("d","M"+V+","+fe+"H"+W+"M"+_+","+re+"H"+U+(m?"V"+Y+"L"+W+","+fe+"L"+U+","+ee:"")+"V"+ne+"H"+_+(m?"V"+ee+"L"+V+","+fe+"L"+_+","+Y:"")+"Z"+(C?"M"+F+","+re+"V"+X+"M"+F+","+ne+"V"+oe+(S===0?"":"M"+B+","+X+"H"+N+"M"+B+","+oe+"H"+N):""))})}function r(i,n,u,f){var l=n.x,y=n.y,h=f.bdPos,M=f.bPos,c=u.boxpoints||u.points;P.seedPseudoRandom();var o=function(S){return S.forEach(function(C){C.t=f,C.trace=u}),S},d=i.selectAll("g.points").data(c?o:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var T=d.selectAll("path").data(function(S){var C,m=S.pts2,E=Math.max((S.max-S.min)/10,S.q3-S.q1),b=E*1e-9,s=E*w,L=[],A=0,k;if(u.jitter){if(E===0)for(A=1,L=new Array(m.length),C=0;C<m.length;C++)L[C]=1;else for(C=0;C<m.length;C++){var _=Math.max(0,C-x),U=m[_].v,F=Math.min(m.length-1,C+x),z=m[F].v;c!=="all"&&(m[C].v<S.lf?z=Math.min(z,S.lf):U=Math.max(U,S.uf));var B=Math.sqrt(s*(F-_)/(z-U+b))||0;B=P.constrain(Math.abs(B),0,1),L.push(B),A=Math.max(B,A)}k=u.jitter*2/(A||1)}for(C=0;C<m.length;C++){var N=m[C],V=N.v,W=u.jitter?k*L[C]*(P.pseudoRandom()-.5):0,Q=S.pos+M+h*(u.pointpos+W);u.orientation==="h"?(N.y=Q,N.x=V):(N.x=Q,N.y=V),c==="suspectedoutliers"&&V<S.uo&&V>S.lo&&(N.so=!0)}return m});T.enter().append("path").classed("point",!0),T.exit().remove(),T.call(a.translatePoints,l,y)}function t(i,n,u,f){var l=n.val,y=n.pos,h=!!y.rangebreaks,M=f.bPos,c=f.bPosPxOffset||0,o=u.boxmean||(u.meanline||{}).visible,d,T;Array.isArray(f.bdPos)?(d=f.bdPos[0],T=f.bdPos[1]):(d=f.bdPos,T=f.bdPos);var S=i.selectAll("path.mean").data(u.type==="box"&&u.boxmean||u.type==="violin"&&u.box.visible&&u.meanline.visible?P.identity:[]);S.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),S.exit().remove(),S.each(function(C){var m=y.c2l(C.pos+M,!0),E=y.l2p(m-d)+c,b=y.l2p(m+T)+c,s=h?(E+b)/2:y.l2p(m)+c,L=l.c2p(C.mean,!0),A=l.c2p(C.mean-C.sd,!0),k=l.c2p(C.mean+C.sd,!0);u.orientation==="h"?g.select(this).attr("d","M"+L+","+E+"V"+b+(o==="sd"?"m0,0L"+A+","+s+"L"+L+","+E+"L"+k+","+s+"Z":"")):g.select(this).attr("d","M"+E+","+L+"H"+b+(o==="sd"?"m0,0L"+s+","+A+"L"+E+","+L+"L"+s+","+k+"Z":""))})}H.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(H){H.exports=function(e,g){var P=e.cd,a=e.xaxis,x=e.yaxis,w=[],v,p;if(g===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=a.c2p(r.x),i=x.c2p(r.y);g.contains([t,i],null,r.i,e)?(w.push({pointNumber:r.i,x:a.c2d(r.x),y:x.c2d(r.y)}),r.selected=1):r.selected=0}return w}},25776:function(H,j,e){var g=e(33428),P=e(76308),a=e(43616);function x(v,p,r){var t=r||g.select(v).selectAll("g.trace.boxes");t.style("opacity",function(i){return i[0].trace.opacity}),t.each(function(i){var n=g.select(this),u=i[0].trace,f=u.line.width;function l(M,c,o,d){M.style("stroke-width",c+"px").call(P.stroke,o).call(P.fill,d)}var y=n.selectAll("path.box");if(u.type==="candlestick")y.each(function(M){if(!M.empty){var c=g.select(this),o=u[M.dir];l(c,o.line.width,o.line.color,o.fillcolor),c.style("opacity",u.selectedpoints&&!M.selected?.3:1)}});else{l(y,f,u.line.color,u.fillcolor),n.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(P.stroke,u.line.color);var h=n.selectAll("path.point");a.pointStyle(h,u,v)}})}function w(v,p,r){var t=p[0].trace,i=r.selectAll("path.point");t.selectedpoints?a.selectedPointStyle(i,t):a.pointStyle(i,t,v)}H.exports={style:x,styleOnSelect:w}},64216:function(H,j,e){var g=e(3400).extendFlat,P=e(29736).axisHoverFormat,a=e(20279),x=e(63188);function w(v){return{line:{color:g({},x.line.color,{dflt:v}),width:x.line.width,editType:"style"},fillcolor:x.fillcolor,editType:"style"}}H.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:g({},x.line.width,{}),editType:"style"},increasing:w(a.increasing.line.color.dflt),decreasing:w(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:g({},x.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},46283:function(H,j,e){var g=e(3400),P=e(54460),a=e(1220),x=e(42812).calcCommon;H.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),i=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),u=a(p,t,"x",n).vals,f=x(v,p,n,u,i,w);return f.length?(g.extendFlat(f[0].t,{num:r._numBoxes,dPos:g.distinctVals(u).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,f):[{t:{empty:!0}}]};function w(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(H,j,e){var g=e(3400),P=e(76308),a=e(52744),x=e(31147),w=e(64216);H.exports=function(r,t,i,n){function u(l,y){return g.coerce(r,t,w,l,y)}var f=a(r,t,u,n);if(!f){t.visible=!1;return}x(r,t,n,u,{x:!0}),u("xhoverformat"),u("yhoverformat"),u("line.width"),v(r,t,u,"increasing"),v(r,t,u,"decreasing"),u("text"),u("hovertext"),u("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0};function v(p,r,t,i){var n=t(i+".line.color");t(i+".line.width",r.line.width),t(i+".fillcolor",P.addOpacity(n,.5))}},61712:function(H,j,e){H.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(H,j,e){var g=e(63856),P=e(31780);H.exports=function(w,v,p,r,t){var i=r("a");i||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),a(w,v,p,t)};function a(x,w,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var i=t.charAt(0),n=x[t]||{},u=P.newContainer(w,t),f={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:i+"axis",letter:i,font:w.font,name:t,data:x[i],calendar:w.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,u,f),u._categories=u._categories||[],!x[t]&&n.type!=="-"&&(x[t]={type:n.type})})}},51676:function(H,j,e){var g=e(3400).isArrayOrTypedArray;H.exports=function(a){return P(a,0)};function P(a,x){if(!g(a)||x>=10)return null;for(var w=1/0,v=-1/0,p=a.length,r=0;r<p;r++){var t=a[r];if(g(t)){var i=P(t,x+1);i&&(w=Math.min(i[0],w),v=Math.max(i[1],v))}else w=Math.min(t,w),v=Math.max(t,v)}return[w,v]}},85720:function(H,j,e){var g=e(25376),P=e(98692),a=e(22548),x=g({editType:"calc"});x.family.dflt='"Open Sans", verdana, arial, sans-serif',x.size.dflt=12,x.color.dflt=a.defaultLine,H.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:x,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},77712:function(H,j,e){var g=e(3400).isArrayOrTypedArray;H.exports=function(P,a,x,w){var v,p,r,t,i,n,u,f,l,y,h,M,c,o=g(x)?"a":"b",d=o==="a"?P.aaxis:P.baxis,T=d.smoothing,S=o==="a"?P.a2i:P.b2j,C=o==="a"?x:w,m=o==="a"?w:x,E=o==="a"?a.a.length:a.b.length,b=o==="a"?a.b.length:a.a.length,s=Math.floor(o==="a"?P.b2j(m):P.a2i(m)),L=o==="a"?function(re){return P.evalxy([],re,s)}:function(re){return P.evalxy([],s,re)};T&&(r=Math.max(0,Math.min(b-2,s)),t=s-r,p=o==="a"?function(re,ne){return P.dxydi([],re,r,ne,t)}:function(re,ne){return P.dxydj([],r,re,t,ne)});var A=S(C[0]),k=S(C[1]),_=A<k?1:-1,U=(k-A)*1e-8,F=_>0?Math.floor:Math.ceil,z=_>0?Math.ceil:Math.floor,B=_>0?Math.min:Math.max,N=_>0?Math.max:Math.min,V=F(A+U),W=z(k-U);u=L(A);var Q=[[u]];for(v=V;v*_<W*_;v+=_)i=[],h=N(A,v),M=B(k,v+_),c=M-h,n=Math.max(0,Math.min(E-2,Math.floor(.5*(h+M)))),f=L(M),T&&(l=p(n,h-n),y=p(n,M-n),i.push([u[0]+l[0]/3*c,u[1]+l[1]/3*c]),i.push([f[0]-y[0]/3*c,f[1]-y[1]/3*c])),i.push(f),Q.push(i),u=f;return Q}},98692:function(H,j,e){var g=e(25376),P=e(22548),a=e(94724),x=e(29736).descriptionWithDates,w=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;H.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},a.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:x("tick label")},tickformatstops:w(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(H,j,e){var g=e(85720),P=e(76308).addOpacity,a=e(24040),x=e(3400),w=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),i=e(52976);H.exports=function(f,l,y){var h=y.letter,M=y.font||{},c=g[h+"axis"];function o(V,W){return x.coerce(f,l,c,V,W)}function d(V,W){return x.coerce2(f,l,c,V,W)}y.name&&(l._name=y.name,l._id=y.name),o("autotypenumbers",y.autotypenumbersDflt);var T=o("type");if(T==="-"&&(y.data&&n(l,y.data),l.type==="-"?l.type="linear":T=f.type=l.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),l.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),l._hovertitle=h,T==="date"){var S=a.getComponentMethod("calendars","handleDefaults");S(f,l,"calendar",y.calendar)}t(l,y.fullLayout),l.c2p=x.identity;var C=o("color",y.dfltColor),m=C===f.color?C:M.color,E=o("title.text");E&&(x.coerceFont(o,"title.font",{family:M.family,size:x.bigFont(M.size),color:m}),o("title.offset")),o("tickangle");var b=o("autorange",!l.isValidRange(f.range));b&&o("rangemode"),o("range"),l.cleanRange(),o("fixedrange"),w(f,l,o,T),p(f,l,o,T,y),v(f,l,o,T,y),r(f,l,o,{data:y.data,dataAttr:h});var s=d("gridcolor",P(C,.3)),L=d("gridwidth"),A=d("griddash"),k=o("showgrid");k||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var _=d("startlinecolor",C),U=d("startlinewidth",L),F=o("startline",l.showgrid||!!_||!!U);F||(delete l.startlinecolor,delete l.startlinewidth);var z=d("endlinecolor",C),B=d("endlinewidth",L),N=o("endline",l.showgrid||!!z||!!B);return N||(delete l.endlinecolor,delete l.endlinewidth),k?(o("minorgridcount"),o("minorgridwidth",L),o("minorgriddash",A),o("minorgridcolor",P(s,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,o("tickmode"),l};function n(u,f){if(u.type==="-"){var l=u._id,y=l.charAt(0),h=y+"calendar",M=u[h];u.type=i(f,M,{autotypenumbers:u.autotypenumbers})}}},58744:function(H,j,e){var g=e(54460),P=e(3400).isArray1D,a=e(60776),x=e(51676),w=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),i=e(2872),n=e(81e3);H.exports=function(f,l){var y=g.getFromId(f,l.xaxis),h=g.getFromId(f,l.yaxis),M=l.aaxis,c=l.baxis,o=l.x,d=l.y,T=[];o&&P(o)&&T.push("x"),d&&P(d)&&T.push("y"),T.length&&i(l,M,c,"a","b",T);var S=l._a=l._a||l.a,C=l._b=l._b||l.b;o=l._x||l.x,d=l._y||l.y;var m={};if(l._cheater){var E=M.cheatertype==="index"?S.length:S,b=c.cheatertype==="index"?C.length:C;o=a(E,b,l.cheaterslope)}l._x=o=r(o),l._y=d=r(d),t(o,S,C),t(d,S,C),n(l),l.setScale();var s=x(o),L=x(d),A=.5*(s[1]-s[0]),k=.5*(s[1]+s[0]),_=.5*(L[1]-L[0]),U=.5*(L[1]+L[0]),F=1.3;return s=[k-A*F,k+A*F],L=[U-_*F,U+_*F],l._extremes[y._id]=g.findExtremes(y,s,{padded:!0}),l._extremes[h._id]=g.findExtremes(h,L,{padded:!0}),w(l,"a","b"),w(l,"b","a"),v(l,M),v(l,c),m.clipsegments=p(l._xctrl,l._yctrl,M,c),m.x=o,m.y=d,m.a=S,m.b=C,[m]}},24944:function(H){H.exports=function(e,g,P,a){var x,w,v,p=[],r=!!P.smoothing,t=!!a.smoothing,i=e[0].length-1,n=e.length-1;for(x=0,w=[],v=[];x<=i;x++)w[x]=e[0][x],v[x]=g[0][x];for(p.push({x:w,y:v,bicubic:r}),x=0,w=[],v=[];x<=n;x++)w[x]=e[x][i],v[x]=g[x][i];for(p.push({x:w,y:v,bicubic:t}),x=i,w=[],v=[];x>=0;x--)w[i-x]=e[n][x],v[i-x]=g[n][x];for(p.push({x:w,y:v,bicubic:r}),x=n,w=[],v=[];x>=0;x--)w[n-x]=e[x][0],v[n-x]=g[x][0];return p.push({x:w,y:v,bicubic:t}),p}},19216:function(H,j,e){var g=e(54460),P=e(92880).extendFlat;H.exports=function(x,w,v){var p,r,t,i,n,u,f,l,y,h,M,c,o,d,T=x["_"+w],S=x[w+"axis"],C=S._gridlines=[],m=S._minorgridlines=[],E=S._boundarylines=[],b=x["_"+v],s=x[v+"axis"];S.tickmode==="array"&&(S.tickvals=T.slice());var L=x._xctrl,A=x._yctrl,k=L[0].length,_=L.length,U=x._a.length,F=x._b.length;g.prepTicks(S),S.tickmode==="array"&&delete S.tickvals;var z=S.smoothing?3:1;function B(V){var W,Q,re,ne,fe,$,X,oe,Y,ee,se,q,K=[],le=[],ie={};if(w==="b")for(Q=x.b2j(V),re=Math.floor(Math.max(0,Math.min(F-2,Q))),ne=Q-re,ie.length=F,ie.crossLength=U,ie.xy=function(he){return x.evalxy([],he,Q)},ie.dxy=function(he,ye){return x.dxydi([],he,re,ye,ne)},W=0;W<U;W++)$=Math.min(U-2,W),X=W-$,oe=x.evalxy([],W,Q),s.smoothing&&W>0&&(Y=x.dxydi([],W-1,re,0,ne),K.push(fe[0]+Y[0]/3),le.push(fe[1]+Y[1]/3),ee=x.dxydi([],W-1,re,1,ne),K.push(oe[0]-ee[0]/3),le.push(oe[1]-ee[1]/3)),K.push(oe[0]),le.push(oe[1]),fe=oe;else for(W=x.a2i(V),$=Math.floor(Math.max(0,Math.min(U-2,W))),X=W-$,ie.length=U,ie.crossLength=F,ie.xy=function(he){return x.evalxy([],W,he)},ie.dxy=function(he,ye){return x.dxydj([],$,he,X,ye)},Q=0;Q<F;Q++)re=Math.min(F-2,Q),ne=Q-re,oe=x.evalxy([],W,Q),s.smoothing&&Q>0&&(se=x.dxydj([],$,Q-1,X,0),K.push(fe[0]+se[0]/3),le.push(fe[1]+se[1]/3),q=x.dxydj([],$,Q-1,X,1),K.push(oe[0]-q[0]/3),le.push(oe[1]-q[1]/3)),K.push(oe[0]),le.push(oe[1]),fe=oe;return ie.axisLetter=w,ie.axis=S,ie.crossAxis=s,ie.value=V,ie.constvar=v,ie.index=l,ie.x=K,ie.y=le,ie.smoothing=s.smoothing,ie}function N(V){var W,Q,re,ne,fe,$=[],X=[],oe={};if(oe.length=T.length,oe.crossLength=b.length,w==="b")for(re=Math.max(0,Math.min(F-2,V)),fe=Math.min(1,Math.max(0,V-re)),oe.xy=function(Y){return x.evalxy([],Y,V)},oe.dxy=function(Y,ee){return x.dxydi([],Y,re,ee,fe)},W=0;W<k;W++)$[W]=L[V*z][W],X[W]=A[V*z][W];else for(Q=Math.max(0,Math.min(U-2,V)),ne=Math.min(1,Math.max(0,V-Q)),oe.xy=function(Y){return x.evalxy([],V,Y)},oe.dxy=function(Y,ee){return x.dxydj([],Q,Y,ne,ee)},W=0;W<_;W++)$[W]=L[W][V*z],X[W]=A[W][V*z];return oe.axisLetter=w,oe.axis=S,oe.crossAxis=s,oe.value=T[V],oe.constvar=v,oe.index=V,oe.x=$,oe.y=X,oe.smoothing=s.smoothing,oe}if(S.tickmode==="array"){for(i=5e-15,n=[Math.floor((T.length-1-S.arraytick0)/S.arraydtick*(1+i)),Math.ceil(-S.arraytick0/S.arraydtick/(1+i))].sort(function(V,W){return V-W}),u=n[0]-1,f=n[1]+1,l=u;l<f;l++)r=S.arraytick0+S.arraydtick*l,!(r<0||r>T.length-1)&&C.push(P(N(r),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(l=u;l<f;l++)if(t=S.arraytick0+S.arraydtick*l,M=Math.min(t+S.arraydtick,T.length-1),!(t<0||t>T.length-1)&&!(M<0||M>T.length-1))for(c=T[t],o=T[M],p=0;p<S.minorgridcount;p++)d=M-t,!(d<=0)&&(h=c+(o-c)*(p+1)/(S.minorgridcount+1)*(S.arraydtick/d),!(h<T[0]||h>T[T.length-1])&&m.push(P(B(h),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash})));S.startline&&E.push(P(N(0),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&E.push(P(N(T.length-1),{color:S.endlinecolor,width:S.endlinewidth}))}else{for(i=5e-15,n=[Math.floor((T[T.length-1]-S.tick0)/S.dtick*(1+i)),Math.ceil((T[0]-S.tick0)/S.dtick/(1+i))].sort(function(V,W){return V-W}),u=n[0],f=n[1],l=u;l<=f;l++)y=S.tick0+S.dtick*l,C.push(P(B(y),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(l=u-1;l<f+1;l++)for(y=S.tick0+S.dtick*l,p=0;p<S.minorgridcount;p++)h=y+S.dtick*(p+1)/(S.minorgridcount+1),!(h<T[0]||h>T[T.length-1])&&m.push(P(B(h),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash}));S.startline&&E.push(P(B(T[0]),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&E.push(P(B(T[T.length-1]),{color:S.endlinecolor,width:S.endlinewidth}))}}},14724:function(H,j,e){var g=e(54460),P=e(92880).extendFlat;H.exports=function(x,w){var v,p,r,t,i,n=w._labels=[],u=w._gridlines;for(v=0;v<u.length;v++)i=u[v],["start","both"].indexOf(w.showticklabels)!==-1&&(p=g.tickText(w,i.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:i.xy(0),dxy:i.dxy(0,0),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),n.push(p)),["end","both"].indexOf(w.showticklabels)!==-1&&(p=g.tickText(w,i.value),P(p,{endAnchor:!1,xy:i.xy(i.crossLength-1),dxy:i.dxy(i.crossLength-2,1),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),n.push(p))}},62284:function(H){var j=.5;H.exports=function(g,P,a,x){var w=g[0]-P[0],v=g[1]-P[1],p=a[0]-P[0],r=a[1]-P[1],t=Math.pow(w*w+v*v,j/2),i=Math.pow(p*p+r*r,j/2),n=(i*i*w-t*t*p)*x,u=(i*i*v-t*t*r)*x,f=i*(t+i)*3,l=t*(t+i)*3;return[[P[0]+(f&&n/f),P[1]+(f&&u/f)],[P[0]-(l&&n/l),P[1]-(l&&u/l)]]}},60776:function(H,j,e){var g=e(3400).isArrayOrTypedArray;H.exports=function(P,a,x){var w,v,p,r,t,i,n=[],u=g(P)?P.length:P,f=g(a)?a.length:a,l=g(P)?P:null,y=g(a)?a:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(u-1)),y&&(r=(y.length-1)/(y[y.length-1]-y[0])/(f-1));var h,M=1/0,c=-1/0;for(v=0;v<f;v++)for(n[v]=[],i=y?(y[v]-y[0])*r:v/(f-1),w=0;w<u;w++)t=l?(l[w]-l[0])*p:w/(u-1),h=t-i*x,M=Math.min(h,M),c=Math.max(h,c),n[v][w]=h;var o=1/(c-M),d=-M*o;for(v=0;v<f;v++)for(w=0;w<u;w++)n[v][w]=o*n[v][w]+d;return n}},30180:function(H,j,e){var g=e(62284),P=e(3400).ensureArray;function a(x,w,v){var p=-.5*v[0]+1.5*w[0],r=-.5*v[1]+1.5*w[1];return[(2*p+x[0])/3,(2*r+x[1])/3]}H.exports=function(w,v,p,r,t,i){var n,u,f,l,y,h,M,c,o,d,T=p[0].length,S=p.length,C=t?3*T-2:T,m=i?3*S-2:S;for(w=P(w,m),v=P(v,m),f=0;f<m;f++)w[f]=P(w[f],C),v[f]=P(v[f],C);for(u=0,l=0;u<S;u++,l+=i?3:1)for(y=w[l],h=v[l],M=p[u],c=r[u],n=0,f=0;n<T;n++,f+=t?3:1)y[f]=M[n],h[f]=c[n];if(t)for(u=0,l=0;u<S;u++,l+=i?3:1){for(n=1,f=3;n<T-1;n++,f+=3)o=g([p[u][n-1],r[u][n-1]],[p[u][n],r[u][n]],[p[u][n+1],r[u][n+1]],t),w[l][f-1]=o[0][0],v[l][f-1]=o[0][1],w[l][f+1]=o[1][0],v[l][f+1]=o[1][1];d=a([w[l][0],v[l][0]],[w[l][2],v[l][2]],[w[l][3],v[l][3]]),w[l][1]=d[0],v[l][1]=d[1],d=a([w[l][C-1],v[l][C-1]],[w[l][C-3],v[l][C-3]],[w[l][C-4],v[l][C-4]]),w[l][C-2]=d[0],v[l][C-2]=d[1]}if(i)for(f=0;f<C;f++){for(l=3;l<m-3;l+=3)o=g([w[l-3][f],v[l-3][f]],[w[l][f],v[l][f]],[w[l+3][f],v[l+3][f]],i),w[l-1][f]=o[0][0],v[l-1][f]=o[0][1],w[l+1][f]=o[1][0],v[l+1][f]=o[1][1];d=a([w[0][f],v[0][f]],[w[2][f],v[2][f]],[w[3][f],v[3][f]]),w[1][f]=d[0],v[1][f]=d[1],d=a([w[m-1][f],v[m-1][f]],[w[m-3][f],v[m-3][f]],[w[m-4][f],v[m-4][f]]),w[m-2][f]=d[0],v[m-2][f]=d[1]}if(t&&i)for(l=1;l<m;l+=(l+1)%3===0?2:1){for(f=3;f<C-3;f+=3)o=g([w[l][f-3],v[l][f-3]],[w[l][f],v[l][f]],[w[l][f+3],v[l][f+3]],t),w[l][f-1]=.5*(w[l][f-1]+o[0][0]),v[l][f-1]=.5*(v[l][f-1]+o[0][1]),w[l][f+1]=.5*(w[l][f+1]+o[1][0]),v[l][f+1]=.5*(v[l][f+1]+o[1][1]);d=a([w[l][0],v[l][0]],[w[l][2],v[l][2]],[w[l][3],v[l][3]]),w[l][1]=.5*(w[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=a([w[l][C-1],v[l][C-1]],[w[l][C-3],v[l][C-3]],[w[l][C-4],v[l][C-4]]),w[l][C-2]=.5*(w[l][C-2]+d[0]),v[l][C-2]=.5*(v[l][C-2]+d[1])}return[w,v]}},24588:function(H){H.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(H){H.exports=function(j,e,g){return e&&g?function(P,a,x,w,v){P||(P=[]);var p,r,t,i,n,u;a*=3,x*=3;var f=w*w,l=1-w,y=l*l,h=l*w*2,M=-3*y,c=3*(y-h),o=3*(h-f),d=3*f,T=v*v,S=T*v,C=1-v,m=C*C,E=m*C;for(u=0;u<j.length;u++)n=j[u],p=M*n[x][a]+c*n[x][a+1]+o*n[x][a+2]+d*n[x][a+3],r=M*n[x+1][a]+c*n[x+1][a+1]+o*n[x+1][a+2]+d*n[x+1][a+3],t=M*n[x+2][a]+c*n[x+2][a+1]+o*n[x+2][a+2]+d*n[x+2][a+3],i=M*n[x+3][a]+c*n[x+3][a+1]+o*n[x+3][a+2]+d*n[x+3][a+3],P[u]=E*p+3*(m*v*r+C*T*t)+S*i;return P}:e?function(P,a,x,w,v){P||(P=[]);var p,r,t,i;a*=3;var n=w*w,u=1-w,f=u*u,l=u*w*2,y=-3*f,h=3*(f-l),M=3*(l-n),c=3*n,o=1-v;for(t=0;t<j.length;t++)i=j[t],p=y*i[x][a]+h*i[x][a+1]+M*i[x][a+2]+c*i[x][a+3],r=y*i[x+1][a]+h*i[x+1][a+1]+M*i[x+1][a+2]+c*i[x+1][a+3],P[t]=o*p+v*r;return P}:g?function(P,a,x,w,v){P||(P=[]);var p,r,t,i,n,u;x*=3;var f=v*v,l=f*v,y=1-v,h=y*y,M=h*y;for(n=0;n<j.length;n++)u=j[n],p=u[x][a+1]-u[x][a],r=u[x+1][a+1]-u[x+1][a],t=u[x+2][a+1]-u[x+2][a],i=u[x+3][a+1]-u[x+3][a],P[n]=M*p+3*(h*v*r+y*f*t)+l*i;return P}:function(P,a,x,w,v){P||(P=[]);var p,r,t,i,n=1-v;for(t=0;t<j.length;t++)i=j[t],p=i[x][a+1]-i[x][a],r=i[x+1][a+1]-i[x+1][a],P[t]=n*p+v*r;return P}}},24464:function(H){H.exports=function(j,e,g){return e&&g?function(P,a,x,w,v){P||(P=[]);var p,r,t,i,n,u;a*=3,x*=3;var f=w*w,l=f*w,y=1-w,h=y*y,M=h*y,c=v*v,o=1-v,d=o*o,T=o*v*2,S=-3*d,C=3*(d-T),m=3*(T-c),E=3*c;for(u=0;u<j.length;u++)n=j[u],p=S*n[x][a]+C*n[x+1][a]+m*n[x+2][a]+E*n[x+3][a],r=S*n[x][a+1]+C*n[x+1][a+1]+m*n[x+2][a+1]+E*n[x+3][a+1],t=S*n[x][a+2]+C*n[x+1][a+2]+m*n[x+2][a+2]+E*n[x+3][a+2],i=S*n[x][a+3]+C*n[x+1][a+3]+m*n[x+2][a+3]+E*n[x+3][a+3],P[u]=M*p+3*(h*w*r+y*f*t)+l*i;return P}:e?function(P,a,x,w,v){P||(P=[]);var p,r,t,i,n,u;a*=3;var f=v*v,l=f*v,y=1-v,h=y*y,M=h*y;for(n=0;n<j.length;n++)u=j[n],p=u[x+1][a]-u[x][a],r=u[x+1][a+1]-u[x][a+1],t=u[x+1][a+2]-u[x][a+2],i=u[x+1][a+3]-u[x][a+3],P[n]=M*p+3*(h*v*r+y*f*t)+l*i;return P}:g?function(P,a,x,w,v){P||(P=[]);var p,r,t,i;x*=3;var n=1-w,u=v*v,f=1-v,l=f*f,y=f*v*2,h=-3*l,M=3*(l-y),c=3*(y-u),o=3*u;for(t=0;t<j.length;t++)i=j[t],p=h*i[x][a]+M*i[x+1][a]+c*i[x+2][a]+o*i[x+3][a],r=h*i[x][a+1]+M*i[x+1][a+1]+c*i[x+2][a+1]+o*i[x+3][a+1],P[t]=n*p+w*r;return P}:function(P,a,x,w,v){P||(P=[]);var p,r,t,i,n=1-w;for(t=0;t<j.length;t++)i=j[t],p=i[x+1][a]-i[x][a],r=i[x+1][a+1]-i[x][a+1],P[t]=n*p+w*r;return P}}},29056:function(H){H.exports=function(j,e,g,P,a){var x=e-2,w=g-2;return P&&a?function(v,p,r){v||(v=[]);var t,i,n,u,f,l,y=Math.max(0,Math.min(Math.floor(p),x)),h=Math.max(0,Math.min(Math.floor(r),w)),M=Math.max(0,Math.min(1,p-y)),c=Math.max(0,Math.min(1,r-h));y*=3,h*=3;var o=M*M,d=o*M,T=1-M,S=T*T,C=S*T,m=c*c,E=m*c,b=1-c,s=b*b,L=s*b;for(l=0;l<j.length;l++)f=j[l],t=C*f[h][y]+3*(S*M*f[h][y+1]+T*o*f[h][y+2])+d*f[h][y+3],i=C*f[h+1][y]+3*(S*M*f[h+1][y+1]+T*o*f[h+1][y+2])+d*f[h+1][y+3],n=C*f[h+2][y]+3*(S*M*f[h+2][y+1]+T*o*f[h+2][y+2])+d*f[h+2][y+3],u=C*f[h+3][y]+3*(S*M*f[h+3][y+1]+T*o*f[h+3][y+2])+d*f[h+3][y+3],v[l]=L*t+3*(s*c*i+b*m*n)+E*u;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),x)),i=Math.max(0,Math.min(Math.floor(r),w)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-i)),f,l,y,h,M,c;t*=3;var o=n*n,d=o*n,T=1-n,S=T*T,C=S*T,m=1-u;for(M=0;M<j.length;M++)c=j[M],f=m*c[i][t]+u*c[i+1][t],l=m*c[i][t+1]+u*c[i+1][t+1],y=m*c[i][t+2]+u*c[i+1][t+1],h=m*c[i][t+3]+u*c[i+1][t+1],v[M]=C*f+3*(S*n*l+T*o*y)+d*h;return v}:a?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),x)),i=Math.max(0,Math.min(Math.floor(r),w)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-i)),f,l,y,h,M,c;i*=3;var o=u*u,d=o*u,T=1-u,S=T*T,C=S*T,m=1-n;for(M=0;M<j.length;M++)c=j[M],f=m*c[i][t]+n*c[i][t+1],l=m*c[i+1][t]+n*c[i+1][t+1],y=m*c[i+2][t]+n*c[i+2][t+1],h=m*c[i+3][t]+n*c[i+3][t+1],v[M]=C*f+3*(S*u*l+T*o*y)+d*h;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),x)),i=Math.max(0,Math.min(Math.floor(r),w)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-i)),f,l,y,h,M=1-u,c=1-n;for(y=0;y<j.length;y++)h=j[y],f=c*h[i][t]+n*h[i][t+1],l=c*h[i+1][t]+n*h[i+1][t+1],v[y]=M*f+u*l;return v}}},38356:function(H,j,e){var g=e(3400),P=e(86411),a=e(93504),x=e(85720),w=e(22548);H.exports=function(p,r,t,i){function n(l,y){return g.coerce(p,r,x,l,y)}r._clipPathId="clip"+r.uid+"carpet";var u=n("color",w.defaultLine);if(g.coerceFont(n,"font"),n("carpet"),a(p,r,i,n,u),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var f=P(p,r,n);f||(r.visible=!1),r._cheater&&n("cheaterslope")}},95856:function(H,j,e){H.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(H){H.exports=function(j,e){for(var g=j._fullData.length,P,a=0;a<g;a++){var x=j._fullData[a];if(x.index!==e.index&&x.type==="carpet"&&(P||(P=x),x.carpet===e.carpet))return x}return P}},53416:function(H){H.exports=function(e,g,P){if(e.length===0)return"";var a,x=[],w=P?3:1;for(a=0;a<e.length;a+=w)x.push(e[a]+","+g[a]),P&&a<e.length-w&&(x.push("C"),x.push([e[a+1]+","+g[a+1],e[a+2]+","+g[a+2]+" "].join(" ")));return x.join(P?"":"L")}},87072:function(H,j,e){var g=e(3400).isArrayOrTypedArray;H.exports=function(a,x,w){var v;for(g(a)?a.length>x.length&&(a=a.slice(0,x.length)):a=[],v=0;v<x.length;v++)a[v]=w(x[v]);return a}},15584:function(H){H.exports=function(e,g,P,a,x,w){var v=x[0]*e.dpdx(g),p=x[1]*e.dpdy(P),r=1,t=1;if(w){var i=Math.sqrt(x[0]*x[0]+x[1]*x[1]),n=Math.sqrt(w[0]*w[0]+w[1]*w[1]),u=(x[0]*w[0]+x[1]*w[1])/i/n;t=Math.max(0,u)}var f=Math.atan2(p,v)*180/Math.PI;return f<-90?(f+=180,r=-r):f>90&&(f-=180,r=-r),{angle:f,flip:r,p:e.c2p(a,g,P),offsetMultplier:t}}},164:function(H,j,e){var g=e(33428),P=e(43616),a=e(87072),x=e(53416),w=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,i=e(84284);H.exports=function(o,d,T,S){var C=o._context.staticPlot,m=d.xaxis,E=d.yaxis,b=o._fullLayout,s=b._clips;p.makeTraceGroups(S,T,"trace").each(function(L){var A=g.select(this),k=L[0],_=k.trace,U=_.aaxis,F=_.baxis,z=p.ensureSingle(A,"g","minorlayer"),B=p.ensureSingle(A,"g","majorlayer"),N=p.ensureSingle(A,"g","boundarylayer"),V=p.ensureSingle(A,"g","labellayer");A.style("opacity",_.opacity),u(m,E,B,U,"a",U._gridlines,!0),u(m,E,B,F,"b",F._gridlines,!0),u(m,E,z,U,"a",U._minorgridlines,!0),u(m,E,z,F,"b",F._minorgridlines,!0),u(m,E,N,U,"a-boundary",U._boundarylines,C),u(m,E,N,F,"b-boundary",F._boundarylines,C);var W=f(o,m,E,_,k,V,U._labels,"a-label"),Q=f(o,m,E,_,k,V,F._labels,"b-label");l(o,V,_,k,m,E,W,Q),n(_,k,s,m,E)})};function n(c,o,d,T,S){var C,m,E,b,s=d.select("#"+c._clipPathId);s.size()||(s=d.append("clipPath").classed("carpetclip",!0));var L=p.ensureSingle(s,"path","carpetboundary"),A=o.clipsegments,k=[];for(b=0;b<A.length;b++)C=A[b],m=a([],C.x,T.c2p),E=a([],C.y,S.c2p),k.push(x(m,E,C.bicubic));var _="M"+k.join("L")+"Z";s.attr("id",c._clipPathId),L.attr("d",_)}function u(c,o,d,T,S,C,m){var E="const-"+S+"-lines",b=d.selectAll("."+E).data(C);b.enter().append("path").classed(E,!0).style("vector-effect",m?"none":"non-scaling-stroke"),b.each(function(s){var L=s,A=L.x,k=L.y,_=a([],A,c.c2p),U=a([],k,o.c2p),F="M"+x(_,U,L.smoothing),z=g.select(this);z.attr("d",F).style("stroke-width",L.width).style("stroke",L.color).style("stroke-dasharray",P.dashStyle(L.dash,L.width)).style("fill","none")}),b.exit().remove()}function f(c,o,d,T,S,C,m,E){var b=C.selectAll("text."+E).data(m);b.enter().append("text").classed(E,!0);var s=0,L={};return b.each(function(A,k){var _;if(A.axis.tickangle==="auto")_=w(T,o,d,A.xy,A.dxy);else{var U=(A.axis.tickangle+180)*Math.PI/180;_=w(T,o,d,A.xy,[Math.cos(U),Math.sin(U)])}k||(L={angle:_.angle,flip:_.flip});var F=(A.endAnchor?-1:1)*_.flip,z=g.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(P.font,A.font).text(A.text).call(v.convertToTspans,c),B=P.bBox(this);z.attr("transform",t(_.p[0],_.p[1])+r(_.angle)+t(A.axis.labelpadding*F,B.height*.3)),s=Math.max(s,B.width+A.axis.labelpadding)}),b.exit().remove(),L.maxExtent=s,L}function l(c,o,d,T,S,C,m,E){var b,s,L,A,k=p.aggNums(Math.min,null,d.a),_=p.aggNums(Math.max,null,d.a),U=p.aggNums(Math.min,null,d.b),F=p.aggNums(Math.max,null,d.b);b=.5*(k+_),s=U,L=d.ab2xy(b,s,!0),A=d.dxyda_rough(b,s),m.angle===void 0&&p.extendFlat(m,w(d,S,C,L,d.dxydb_rough(b,s))),M(c,o,d,T,L,A,d.aaxis,S,C,m,"a-title"),b=k,s=.5*(U+F),L=d.ab2xy(b,s,!0),A=d.dxydb_rough(b,s),E.angle===void 0&&p.extendFlat(E,w(d,S,C,L,d.dxyda_rough(b,s))),M(c,o,d,T,L,A,d.baxis,S,C,E,"b-title")}var y=i.LINE_SPACING,h=(1-i.MID_SHIFT)/y+1;function M(c,o,d,T,S,C,m,E,b,s,L){var A=[];m.title.text&&A.push(m.title.text);var k=o.selectAll("text."+L).data(A),_=s.maxExtent;k.enter().append("text").classed(L,!0),k.each(function(){var U=w(d,E,b,S,C);["start","both"].indexOf(m.showticklabels)===-1&&(_=0);var F=m.title.font.size;_+=F+m.title.offset;var z=s.angle+(s.flip<0?180:0),B=(z-U.angle+450)%360,N=B>90&&B<270,V=g.select(this);V.text(m.title.text).call(v.convertToTspans,c),N&&(_=(-v.lineCount(V)+h)*y*F-_),V.attr("transform",t(U.p[0],U.p[1])+r(U.angle)+t(0,_)).attr("text-anchor","middle").call(P.font,m.title.font)}),k.exit().remove()}},81e3:function(H,j,e){var g=e(24588),P=e(14952).findBin,a=e(30180),x=e(29056),w=e(26435),v=e(24464);H.exports=function(r){var t=r._a,i=r._b,n=t.length,u=i.length,f=r.aaxis,l=r.baxis,y=t[0],h=t[n-1],M=i[0],c=i[u-1],o=t[t.length-1]-t[0],d=i[i.length-1]-i[0],T=o*g.RELATIVE_CULL_TOLERANCE,S=d*g.RELATIVE_CULL_TOLERANCE;y-=T,h+=T,M-=S,c+=S,r.isVisible=function(C,m){return C>y&&C<h&&m>M&&m<c},r.isOccluded=function(C,m){return C<y||C>h||m<M||m>c},r.setScale=function(){var C=r._x,m=r._y,E=a(r._xctrl,r._yctrl,C,m,f.smoothing,l.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=x([r._xctrl,r._yctrl],n,u,f.smoothing,l.smoothing),r.dxydi=w([r._xctrl,r._yctrl],f.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],f.smoothing,l.smoothing)},r.i2a=function(C){var m=Math.max(0,Math.floor(C[0]),n-2),E=C[0]-m;return(1-E)*t[m]+E*t[m+1]},r.j2b=function(C){var m=Math.max(0,Math.floor(C[1]),n-2),E=C[1]-m;return(1-E)*i[m]+E*i[m+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var m=Math.max(0,Math.min(P(C,t),n-2)),E=t[m],b=t[m+1];return Math.max(0,Math.min(n-1,m+(C-E)/(b-E)))},r.b2j=function(C){var m=Math.max(0,Math.min(P(C,i),u-2)),E=i[m],b=i[m+1];return Math.max(0,Math.min(u-1,m+(C-E)/(b-E)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,m){return r.evalxy([],C,m)},r.ab2xy=function(C,m,E){if(!E&&(C<t[0]||C>t[n-1]|m<i[0]||m>i[u-1]))return[!1,!1];var b=r.a2i(C),s=r.b2j(m),L=r.evalxy([],b,s);if(E){var A=0,k=0,_=[],U,F,z,B;C<t[0]?(U=0,F=0,A=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(U=n-2,F=1,A=(C-t[n-1])/(t[n-1]-t[n-2])):(U=Math.max(0,Math.min(n-2,Math.floor(b))),F=b-U),m<i[0]?(z=0,B=0,k=(m-i[0])/(i[1]-i[0])):m>i[u-1]?(z=u-2,B=1,k=(m-i[u-1])/(i[u-1]-i[u-2])):(z=Math.max(0,Math.min(u-2,Math.floor(s))),B=s-z),A&&(r.dxydi(_,U,z,F,B),L[0]+=_[0]*A,L[1]+=_[1]*A),k&&(r.dxydj(_,U,z,F,B),L[0]+=_[0]*k,L[1]+=_[1]*k)}return L},r.c2p=function(C,m,E){return[m.c2p(C[0]),E.c2p(C[1])]},r.p2x=function(C,m,E){return[m.p2c(C[0]),E.p2c(C[1])]},r.dadi=function(C){var m=Math.max(0,Math.min(t.length-2,C));return t[m+1]-t[m]},r.dbdj=function(C){var m=Math.max(0,Math.min(i.length-2,C));return i[m+1]-i[m]},r.dxyda=function(C,m,E,b){var s=r.dxydi(null,C,m,E,b),L=r.dadi(C,E);return[s[0]/L,s[1]/L]},r.dxydb=function(C,m,E,b){var s=r.dxydj(null,C,m,E,b),L=r.dbdj(m,b);return[s[0]/L,s[1]/L]},r.dxyda_rough=function(C,m,E){var b=o*(E||.1),s=r.ab2xy(C+b,m,!0),L=r.ab2xy(C-b,m,!0);return[(s[0]-L[0])*.5/b,(s[1]-L[1])*.5/b]},r.dxydb_rough=function(C,m,E){var b=d*(E||.1),s=r.ab2xy(C,m+b,!0),L=r.ab2xy(C,m-b,!0);return[(s[0]-L[0])*.5/b,(s[1]-L[1])*.5/b]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},51512:function(H,j,e){var g=e(3400);H.exports=function(a,x,w){var v,p,r,t=[],i=[],n=a[0].length,u=a.length;function f(Q,re){var ne=0,fe,$=0;return Q>0&&(fe=a[re][Q-1])!==void 0&&($++,ne+=fe),Q<n-1&&(fe=a[re][Q+1])!==void 0&&($++,ne+=fe),re>0&&(fe=a[re-1][Q])!==void 0&&($++,ne+=fe),re<u-1&&(fe=a[re+1][Q])!==void 0&&($++,ne+=fe),ne/Math.max(1,$)}var l=0;for(v=0;v<n;v++)for(p=0;p<u;p++)a[p][v]===void 0&&(t.push(v),i.push(p),a[p][v]=f(v,p)),l=Math.max(l,Math.abs(a[p][v]));if(!t.length)return a;var y,h,M,c,o,d,T,S,C,m,E,b=1e-5,s=0,L=100,A=0,k=t.length;do{for(s=0,r=0;r<k;r++){v=t[r],p=i[r];var _=0,U=0,F,z,B,N,V,W;v===0?(V=Math.min(n-1,2),B=x[V],N=x[1],F=a[p][V],z=a[p][1],U+=z+(z-F)*(x[0]-N)/(N-B),_++):v===n-1&&(V=Math.max(0,n-3),B=x[V],N=x[n-2],F=a[p][V],z=a[p][n-2],U+=z+(z-F)*(x[n-1]-N)/(N-B),_++),(v===0||v===n-1)&&p>0&&p<u-1&&(y=w[p+1]-w[p],h=w[p]-w[p-1],U+=(h*a[p+1][v]+y*a[p-1][v])/(h+y),_++),p===0?(W=Math.min(u-1,2),B=w[W],N=w[1],F=a[W][v],z=a[1][v],U+=z+(z-F)*(w[0]-N)/(N-B),_++):p===u-1&&(W=Math.max(0,u-3),B=w[W],N=w[u-2],F=a[W][v],z=a[u-2][v],U+=z+(z-F)*(w[u-1]-N)/(N-B),_++),(p===0||p===u-1)&&v>0&&v<n-1&&(y=x[v+1]-x[v],h=x[v]-x[v-1],U+=(h*a[p][v+1]+y*a[p][v-1])/(h+y),_++),_?U/=_:(M=x[v+1]-x[v],c=x[v]-x[v-1],o=w[p+1]-w[p],d=w[p]-w[p-1],T=M*c*(M+c),S=o*d*(o+d),U=(T*(d*a[p+1][v]+o*a[p-1][v])+S*(c*a[p][v+1]+M*a[p][v-1]))/(S*(c+M)+T*(d+o))),C=U-a[p][v],m=C/l,s+=m*m,E=_?0:.85,a[p][v]+=C*(1+E)}s=Math.sqrt(s)}while(A++<L&&s>b);return g.log("Smoother converged to",s,"after",A,"iterations"),a}},86411:function(H,j,e){var g=e(3400).isArray1D;H.exports=function(a,x,w){var v=w("x"),p=v&&v.length,r=w("y"),t=r&&r.length;if(!p&&!t)return!1;if(x._cheater=!v,(!p||g(v))&&(!t||g(r))){var i=p?v.length:1/0;t&&(i=Math.min(i,r.length)),x.a&&x.a.length&&(i=Math.min(i,x.a.length)),x.b&&x.b.length&&(i=Math.min(i,x.b.length)),x._length=i}else x._length=null;return!0}},83372:function(H,j,e){var g=e(21776).Ks,P=e(6096),a=e(49084),x=e(45464),w=e(22548).defaultLine,v=e(92880).extendFlat,p=P.marker.line;H.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:w}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},x.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},x.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(H,j,e){var g=e(38248),P=e(39032).BADNUM,a=e(47128),x=e(20148),w=e(4500);function v(p){return p&&typeof p=="string"}H.exports=function(r,t){var i=t._length,n=new Array(i),u;t.geojson?u=function(M){return v(M)||g(M)}:u=v;for(var f=0;f<i;f++){var l=n[f]={},y=t.locations[f],h=t.z[f];u(y)&&g(h)?(l.loc=y,l.z=h):(l.loc=null,l.z=P),l.index=f}return x(n,t),a(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),w(n,t),n}},30972:function(H,j,e){var g=e(3400),P=e(27260),a=e(83372);H.exports=function(w,v,p,r){function t(h,M){return g.coerce(w,v,a,h,M)}var i=t("locations"),n=t("z");if(!(i&&i.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(i.length,n.length);var u=t("geojson"),f;(typeof u=="string"&&u!==""||g.isPlainObject(u))&&(f="geojson-id");var l=t("locationmode",f);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var y=t("marker.line.width");y&&t("marker.line.color"),t("marker.opacity"),P(w,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},52428:function(H){H.exports=function(e,g,P,a,x){e.location=g.location,e.z=g.z;var w=a[x];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e.ct=w.ct,e}},69224:function(H,j,e){var g=e(54460),P=e(83372),a=e(3400).fillText;H.exports=function(v,p,r){var t=v.cd,i=t[0].trace,n=v.subplot,u,f,l,y,h=[p,r],M=[p+360,r];for(f=0;f<t.length;f++)if(u=t[f],y=!1,u._polygons){for(l=0;l<u._polygons.length;l++)u._polygons[l].contains(h)&&(y=!y),u._polygons[l].contains(M)&&(y=!y);if(y)break}if(!(!y||!u))return v.x0=v.x1=v.xa.c2p(u.ct),v.y0=v.y1=v.ya.c2p(u.ct),v.index=u.index,v.location=u.loc,v.z=u.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(u.z),"hover").text,v.hovertemplate=u.hovertemplate,x(v,i,u),[v]};function x(w,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),i=r==="all"?P.hoverinfo.flags:r.split("+"),n=i.indexOf("name")!==-1,u=i.indexOf("location")!==-1,f=i.indexOf("z")!==-1,l=i.indexOf("text")!==-1,y=!n&&u,h=[];y?w.nameOverride=t:(n&&(w.nameOverride=v.name),u&&h.push(t)),f&&h.push(w.zLabel),l&&a(p,v,h),w.extraText=h.join("<br>")}}},54272:function(H,j,e){H.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(H,j,e){var g=e(33428),P=e(3400),a=e(27144),x=e(59972).getTopojsonFeatures,w=e(19280).findExtremes,v=e(7947).style;function p(t,i,n){var u=i.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(u,n,"trace choropleth").each(function(f){var l=g.select(this),y=l.selectAll("path.choroplethlocation").data(P.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),v(t,f)})}function r(t,i){for(var n=t[0].trace,u=i[n.geo],f=u._subplot,l=n.locationmode,y=n._length,h=l==="geojson-id"?a.extractTraceFeature(t):x(n,f.topojson),M=[],c=[],o=0;o<y;o++){var d=t[o],T=l==="geojson-id"?d.fOut:a.locationToFeature(l,d.loc,h);if(T){d.geojson=T,d.ct=T.properties.ct,d._polygons=a.feature2polygons(T);var S=a.computeBbox(T);M.push(S[0],S[2]),c.push(S[1],S[3])}else d.geojson=null}if(u.fitbounds==="geojson"&&l==="geojson-id"){var C=a.computeBbox(a.getTraceGeojson(n));M=[C[0],C[2]],c=[C[1],C[3]]}var m={padded:!0};n._extremes.lon=w(u.lonaxis._ax,M,m),n._extremes.lat=w(u.lataxis._ax,c,m)}H.exports={calcGeoJSON:r,plot:p}},17328:function(H){H.exports=function(e,g){var P=e.cd,a=e.xaxis,x=e.yaxis,w=[],v,p,r,t,i;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=a.c2p(r),i=x.c2p(r),g.contains([t,i],null,v,e)?(w.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return w}},7947:function(H,j,e){var g=e(33428),P=e(76308),a=e(43616),x=e(8932);function w(r,t){t&&v(r,t)}function v(r,t){var i=t[0].trace,n=t[0].node3,u=n.selectAll(".choroplethlocation"),f=i.marker||{},l=f.line||{},y=x.makeColorScaleFuncFromTrace(i);u.each(function(h){g.select(this).attr("fill",y(h.z)).call(P.stroke,h.mlc||l.color).call(a.dashLine,"",h.mlw||l.width||0).style("opacity",f.opacity)}),a.selectedPointStyle(u,i)}function p(r,t){var i=t[0].node3,n=t[0].trace;n.selectedpoints?a.selectedPointStyle(i.selectAll(".choroplethlocation"),n):v(r,t)}H.exports={style:w,styleOnSelect:p}},45608:function(H,j,e){var g=e(83372),P=e(49084),a=e(21776).Ks,x=e(45464),w=e(92880).extendFlat;H.exports=w({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:w({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:w({},g.marker.line.color,{editType:"plot"}),width:w({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:w({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:w({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:w({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:w({},x.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(H,j,e){var g=e(38248),P=e(3400),a=e(8932),x=e(43616),w=e(44808).makeBlank,v=e(27144);function p(t){var i=t[0].trace,n=i.visible===!0&&i._length!==0,u={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},l=i._opts={fill:u,line:f,geojson:w()};if(!n)return l;var y=v.extractTraceFeature(t);if(!y)return l;var h=a.makeColorScaleFuncFromTrace(i),M=i.marker,c=M.line||{},o;P.isArrayOrTypedArray(M.opacity)&&(o=function(s){var L=s.mo;return g(L)?+P.constrain(L,0,1):0});var d;P.isArrayOrTypedArray(c.color)&&(d=function(s){return s.mlc});var T;P.isArrayOrTypedArray(c.width)&&(T=function(s){return s.mlw});for(var S=0;S<t.length;S++){var C=t[S],m=C.fOut;if(m){var E=m.properties;E.fc=h(C.z),o&&(E.mo=o(C)),d&&(E.mlc=d(C)),T&&(E.mlw=T(C)),C.ct=E.ct,C._polygons=v.feature2polygons(m)}}var b=o?{type:"identity",property:"mo"}:M.opacity;return P.extendFlat(u.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":b}),P.extendFlat(f.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":T?{type:"identity",property:"mlw"}:c.width,"line-opacity":b}),u.layout.visibility="visible",f.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:y},r(t),l}function r(t){var i=t[0].trace,n=i._opts,u;if(i.selectedpoints){for(var f=x.makeSelectedPointStyleFns(i),l=0;l<t.length;l++){var y=t[l];y.fOut&&(y.fOut.properties.mo2=f.selectedOpacityFn(y))}u={type:"identity",property:"mo2"}}else u=P.isArrayOrTypedArray(i.marker.opacity)?{type:"identity",property:"mo"}:i.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":u}),P.extendFlat(n.line.paint,{"line-opacity":u}),n}H.exports={convert:p,convertOnSelect:r}},9352:function(H,j,e){var g=e(3400),P=e(27260),a=e(45608);H.exports=function(w,v,p,r){function t(l,y){return g.coerce(w,v,a,l,y)}var i=t("locations"),n=t("z"),u=t("geojson");if(!g.isArrayOrTypedArray(i)||!i.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof u=="string"&&u!==""||g.isPlainObject(u))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var f=t("marker.line.width");f&&t("marker.line.color"),t("marker.opacity"),P(w,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},85404:function(H,j,e){H.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(g,P){if(P){var a=P[0].trace;a._glTrace.updateOnSelect(P)}},getBelow:function(g,P){for(var a=P.getMapLayers(),x=a.length-2;x>=0;x--){var w=a[x].id;if(typeof w=="string"&&w.indexOf("water")===0){for(var v=x+1;v<a.length;v++)if(w=a[v].id,typeof w=="string"&&w.indexOf("plotly-")===-1)return w}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(H,j,e){var g=e(13504).convert,P=e(13504).convertOnSelect,a=e(47552).traceLayerPrefix;function x(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",a+p+"-fill"],["line",a+p+"-line"]],this.below=null}var w=x.prototype;w.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},w.updateOnSelect=function(v){this._update(P(v))},w._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var i=0;i<r.length;i++){var n=r[i],u=n[0],f=n[1],l=v[u];p.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(f,"setPaintProperty",l.paint)}},w._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var u=t[n],f=u[0],l=v[f];r.addLayer({type:f,id:u[1],source:i,layout:l.layout,paint:l.paint},p)}},w._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},w.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},H.exports=function(p,r){var t=r[0].trace,i=new x(p,t.uid),n=i.sourceId,u=g(r),f=i.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:u.geojson}),i._addLayers(u,f),r[0].trace._glTrace=i,i}},86040:function(H,j,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(52948),w=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},w.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=x[t]}),p.hoverinfo=v({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,H.exports=p},83344:function(H,j,e){var g=e(47128);H.exports=function(a,x){for(var w=x.u,v=x.v,p=x.w,r=Math.min(x.x.length,x.y.length,x.z.length,w.length,v.length,p.length),t=-1/0,i=1/0,n=0;n<r;n++){var u=w[n],f=v[n],l=p[n],y=Math.sqrt(u*u+f*f+l*l);t=Math.max(t,y),i=Math.min(i,y)}x._len=r,x._normMax=t,g(a,x,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(H,j,e){var g=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,a=e(3400).simpleMap,x=e(33040).parseColorScale,w=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(y,h){this.scene=y,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(y){if(y.object===this.mesh){var h=y.index=y.data.index,M=this.data.x[h],c=this.data.y[h],o=this.data.z[h],d=this.data.u[h],T=this.data.v[h],S=this.data.w[h];y.traceCoordinate=[M,c,o,d,T,S,Math.sqrt(d*d+T*T+S*S)];var C=this.data.hovertext||this.data.text;return v(C)&&C[h]!==void 0?y.textLabel=C[h]:C&&(y.textLabel=C),!0}};var i={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},u={tip:1,tail:1,cm:.75,center:.5};function f(y,h){var M=y.fullSceneLayout,c=y.dataScale,o={};function d(m,E){var b=M[E],s=c[i[E]];return a(m,function(L){return b.d2l(L)*s})}o.vectors=p(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),o.positions=p(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var T=w(h);o.colormap=x(h),o.vertexIntensityBounds=[T.min/h._normMax,T.max/h._normMax],o.coneOffset=n[h.anchor],h.sizemode==="scaled"?o.coneSize=h.sizeref||.5:o.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5;var S=g(o),C=h.lightposition;return S.lightPosition=[C.x,C.y,C.z],S.ambient=h.lighting.ambient,S.diffuse=h.lighting.diffuse,S.specular=h.lighting.specular,S.roughness=h.lighting.roughness,S.fresnel=h.lighting.fresnel,S.opacity=h.opacity,h._pad=u[h.anchor]*S.vectorScale*S.coneScale*h._normMax,S}t.update=function(y){this.data=y;var h=f(this.scene,y);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(y,h){var M=y.glplot.gl,c=f(y,h),o=P(M,c),d=new r(y,h.uid);return d.mesh=o,d.data=h,o._trace=d,y.glplot.add(o),d}H.exports=l},86096:function(H,j,e){var g=e(3400),P=e(27260),a=e(86040);H.exports=function(w,v,p,r){function t(h,M){return g.coerce(w,v,a,h,M)}var i=t("u"),n=t("v"),u=t("w"),f=t("x"),l=t("y"),y=t("z");if(!i||!i.length||!n||!n.length||!u||!u.length||!f||!f.length||!l||!l.length||!y||!y.length){v.visible=!1;return}t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(w,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(H,j,e){H.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(g,P){return g.norm=P.traceCoordinate[6],g},meta:{}}},67104:function(H,j,e){var g=e(83328),P=e(52904),a=e(29736),x=a.axisHoverFormat,w=a.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,i=e(69104),n=i.COMPARISON_OPS2,u=i.INTERVAL_OPS,f=P.line;H.exports=t({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z",1),hovertemplate:g.hovertemplate,texttemplate:t({},g.texttemplate,{}),textfont:t({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:t({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:w("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},f.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(H,j,e){var g=e(8932),P=e(19512),a=e(54444),x=e(46960);H.exports=function(v,p){var r=P(v,p),t=r[0].z;a(p,t);var i=p.contours,n=g.extractOpts(p),u;if(i.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var f=i.start,l=x(i),y=i.size||1,h=Math.floor((l-f)/y)+1;isFinite(y)||(y=1,h=1);var M=f-y/2,c=M+h*y;u=[M,c]}else u=t;return g.calc(v,p,{vals:u,cLetter:"z"}),r}},56008:function(H){H.exports=function(j,e){var g=j[0],P=g.z,a;switch(e.type){case"levels":var x=Math.min(P[0][0],P[0][1]);for(a=0;a<j.length;a++){var w=j[a];w.prefixBoundary=!w.edgepaths.length&&(x>w.level||w.starts.length&&x===w.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,p=g.y.length,r=-1/0,t=1/0;for(a=0;a<p;a++)t=Math.min(t,P[a][0]),t=Math.min(t,P[a][v-1]),r=Math.max(r,P[a][0]),r=Math.max(r,P[a][v-1]);for(a=1;a<v-1;a++)t=Math.min(t,P[0][a]),t=Math.min(t,P[p-1][a]),r=Math.max(r,P[0][a]),r=Math.max(r,P[p-1][a]);var i=e.value,n,u;switch(e._operation){case">":i>r&&(g.prefixBoundary=!0);break;case"<":(i<t||g.starts.length&&i===t)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]),(u<t||n>r||g.starts.length&&u===t)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]),n<t&&u>r&&(g.prefixBoundary=!0);break}break}}},55296:function(H,j,e){var g=e(8932),P=e(41076),a=e(46960);function x(w,v,p){var r=v.contours,t=v.line,i=r.size||1,n=r.coloring,u=P(v,{isColorbar:!0});if(n==="heatmap"){var f=g.extractOpts(v);p._fillgradient=f.reversescale?g.flipScale(f.colorscale):f.colorscale,p._zrange=[f.min,f.max]}else n==="fill"&&(p._fillcolor=u);p._line={color:n==="lines"?u:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:a(r),size:i}}H.exports={min:"zmin",max:"zmax",calc:x}},93252:function(H){H.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(H,j,e){var g=e(38248),P=e(17428),a=e(76308),x=a.addOpacity,w=a.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;H.exports=function(u,f,l,y,h,M){var c=f.contours,o,d,T,S=l("contours.operation");if(c._operation=r[S],i(l,c),S==="="?o=c.showlines=!0:(o=l("contours.showlines"),T=l("fillcolor",x((u.line||{}).color||h,.5))),o){var C=T&&w(T)?x(f.fillcolor,1):h;d=l("line.color",C),l("line.width",2),l("line.dash")}l("line.smoothing"),P(l,y,d,M)};function i(n,u){var f;t.indexOf(u.operation)===-1?(n("contours.value",[0,1]),p(u.value)?u.value.length>2?u.value=u.value.slice(2):u.length===0?u.value=[0,1]:u.length<2?(f=parseFloat(u.value[0]),u.value=[f,f+1]):u.value=[parseFloat(u.value[0]),parseFloat(u.value[1])]:g(u.value)&&(f=parseFloat(u.value),u.value=[f,f+1])):(n("contours.value",0),g(u.value)||(p(u.value)?u.value=parseFloat(u.value[0]):u.value=0))}},3212:function(H,j,e){var g=e(69104),P=e(38248);H.exports={"[]":x("[]"),"][":x("]["),">":w(">"),"<":w("<"),"=":w("=")};function a(v,p){var r=Array.isArray(p),t;function i(n){return P(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?t=i(r?p[0]:p):g.INTERVAL_OPS.indexOf(v)!==-1?t=r?[i(p[0]),i(p[1])]:[i(p),i(p)]:g.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(i):[i(p)]),t}function x(v){return function(p){p=a(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function w(v){return function(p){return p=a(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(H){H.exports=function(e,g,P,a){var x=a("contours.start"),w=a("contours.end"),v=x===!1||w===!1,p=P("contours.size"),r;v?r=g.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},82172:function(H,j,e){var g=e(3400);H.exports=function(a,x){var w,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(x){case"=":case"<":return a;case">":for(a.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=a[0],w=0;w<v.edgepaths.length;w++)v.edgepaths[w]=r(v.edgepaths[w]);for(w=0;w<v.paths.length;w++)v.paths[w]=r(v.paths[w]);for(w=0;w<v.starts.length;w++)v.starts[w]=r(v.starts[w]);return a;case"][":var i=r;r=t,t=i;case"[]":for(a.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=P(a[0]),p=P(a[1]),w=0;w<v.edgepaths.length;w++)v.edgepaths[w]=r(v.edgepaths[w]);for(w=0;w<v.paths.length;w++)v.paths[w]=r(v.paths[w]);for(w=0;w<v.starts.length;w++)v.starts[w]=r(v.starts[w]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(a){return g.extendFlat({},a,{edgepaths:g.extendDeep([],a.edgepaths),paths:g.extendDeep([],a.paths),starts:g.extendDeep([],a.starts)})}},57004:function(H,j,e){var g=e(3400),P=e(51264),a=e(31147),x=e(95536),w=e(84952),v=e(97680),p=e(39096),r=e(67104);H.exports=function(i,n,u,f){function l(c,o){return g.coerce(i,n,r,c,o)}function y(c){return g.coerce2(i,n,r,c)}var h=P(i,n,l,f);if(!h){n.visible=!1;return}a(i,n,f,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var M=l("contours.type")==="constraint";l("connectgaps",g.isArray1D(n.z)),M?x(i,n,l,f,u):(w(i,n,l,y),v(i,n,l,f)),n.contours&&n.contours.coloring==="heatmap"&&p(l,f)}},61512:function(H,j,e){var g=e(3400),P=e(3212),a=e(46960);H.exports=function(w,v,p){for(var r=w.type==="constraint"?P[w._operation](w.value):w,t=r.size,i=[],n=a(r),u=p.trace._carpetTrace,f=u?{xaxis:u.aaxis,yaxis:u.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<n;l+=t)if(i.push(g.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},f)),i.length>1e3){g.warn("Too many contours, clipping at 1000",w);break}return i}},46960:function(H){H.exports=function(e){return e.end+e.size/1e6}},88748:function(H,j,e){var g=e(3400),P=e(93252);H.exports=function(t,i,n){var u,f,l,y,h;for(i=i||.01,n=n||.01,l=0;l<t.length;l++){for(y=t[l],h=0;h<y.starts.length;h++)f=y.starts[h],w(y,f,"edge",i,n);for(u=0;Object.keys(y.crossings).length&&u<1e4;)u++,f=Object.keys(y.crossings)[0].split(",").map(Number),w(y,f,void 0,i,n);u===1e4&&g.log("Infinite loop in contour?")}};function a(r,t,i,n){return Math.abs(r[0]-t[0])<i&&Math.abs(r[1]-t[1])<n}function x(r,t){var i=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(i*i+n*n)}function w(r,t,i,n,u){var f=t.join(","),l=r.crossings[f],y=v(l,i,t),h=[p(r,t,[-y[0],-y[1]])],M=r.z.length,c=r.z[0].length,o=t.slice(),d=y.slice(),T;for(T=0;T<1e4;T++){if(l>20?(l=P.CHOOSESADDLE[l][(y[0]||y[1])<0?0:1],r.crossings[f]=P.SADDLEREMAINDER[l]):delete r.crossings[f],y=P.NEWDELTA[l],!y){g.log("Found bad marching index:",l,t,r.level);break}h.push(p(r,t,y)),t[0]+=y[0],t[1]+=y[1],f=t.join(","),a(h[h.length-1],h[h.length-2],n,u)&&h.pop();var S=y[0]&&(t[0]<0||t[0]>c-2)||y[1]&&(t[1]<0||t[1]>M-2),C=t[0]===o[0]&&t[1]===o[1]&&y[0]===d[0]&&y[1]===d[1];if(C||i&&S)break;l=r.crossings[f]}T===1e4&&g.log("Infinite loop in contour?");var m=a(h[0],h[h.length-1],n,u),E=0,b=.2*r.smoothing,s=[],L=0,A,k,_,U,F,z,B,N,V,W,Q;for(T=1;T<h.length;T++)B=x(h[T],h[T-1]),E+=B,s.push(B);var re=E/s.length*b;function ne(X){return h[X%h.length]}for(T=h.length-2;T>=L;T--)if(A=s[T],A<re){for(_=0,k=T-1;k>=L&&A+s[k]<re;k--)A+=s[k];if(m&&T===h.length-2)for(_=0;_<k&&A+s[_]<re;_++)A+=s[_];F=T-k+_+1,z=Math.floor((T+k+_+2)/2),!m&&T===h.length-2?U=h[h.length-1]:!m&&k===-1?U=h[0]:F%2?U=ne(z):U=[(ne(z)[0]+ne(z+1)[0])/2,(ne(z)[1]+ne(z+1)[1])/2],h.splice(k+1,T-k+1,U),T=k+1,_&&(L=_),m&&(T===h.length-2?h[_]=h[h.length-1]:T===0&&(h[h.length-1]=h[0]))}for(h.splice(0,L),T=0;T<h.length;T++)h[T].length=2;if(!(h.length<2))if(m)h.pop(),r.paths.push(h);else{i||g.log("Unclosed interior contour?",r.level,o.join(","),h.join("L"));var fe=!1;for(N=0;N<r.edgepaths.length;N++)if(W=r.edgepaths[N],!fe&&a(W[0],h[h.length-1],n,u)){h.pop(),fe=!0;var $=!1;for(V=0;V<r.edgepaths.length;V++)if(Q=r.edgepaths[V],a(Q[Q.length-1],h[0],n,u)){$=!0,h.shift(),r.edgepaths.splice(N,1),V===N?r.paths.push(h.concat(Q)):(V>N&&V--,r.edgepaths[V]=Q.concat(h,W));break}$||(r.edgepaths[N]=h.concat(W))}for(N=0;N<r.edgepaths.length&&!fe;N++)W=r.edgepaths[N],a(W[W.length-1],h[0],n,u)&&(h.shift(),r.edgepaths[N]=W.concat(h),fe=!0);fe||r.edgepaths.push(h)}}function v(r,t,i){var n=0,u=0;return r>20&&t?r===208||r===1114?n=i[0]===0?1:-1:u=i[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?u=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?u=-1:n=-1,[n,u]}function p(r,t,i){var n=t[0]+Math.max(i[0],0),u=t[1]+Math.max(i[1],0),f=r.z[u][n],l=r.xaxis,y=r.yaxis;if(i[1]){var h=(r.level-f)/(r.z[u][n+1]-f),M=(h!==1?(1-h)*l.c2l(r.x[n]):0)+(h!==0?h*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(M),!0),y.c2p(r.y[u],!0),n+h,u]}else{var c=(r.level-f)/(r.z[u+1][n]-f),o=(c!==1?(1-c)*y.c2l(r.y[u]):0)+(c!==0?c*y.c2l(r.y[u+1]):0);return[l.c2p(r.x[n],!0),y.c2p(y.l2c(o),!0),n,u+c]}}},38200:function(H,j,e){var g=e(76308),P=e(55512);H.exports=function(x,w,v,p,r){r||(r={}),r.isContour=!0;var t=P(x,w,v,p,r);return t&&t.forEach(function(i){var n=i.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?i.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(i.color=g.addOpacity(n.line.color,1)))}),t}},66240:function(H,j,e){H.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(H,j,e){var g=e(3400);H.exports=function(a,x,w,v){v||(v={});var p=a("contours.showlabels");if(p){var r=x.font;g.coerceFont(a,"contours.labelfont",{family:r.family,size:r.size,color:w}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},41076:function(H,j,e){var g=e(33428),P=e(8932),a=e(46960);H.exports=function(w){var v=w.contours,p=v.start,r=a(v),t=v.size||1,i=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,u=P.extractOpts(w);isFinite(t)||(t=1,i=1);var f=u.reversescale?P.flipScale(u.colorscale):u.colorscale,l=f.length,y=new Array(l),h=new Array(l),M,c,o=u.min,d=u.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)M=f[c],y[c]=M[0]*(d-o)+o,h[c]=M[1];var T=g.extent([o,d,v.start,v.start+t*(i-1)]),S=T[o<d?0:1],C=T[o<d?1:0];S!==o&&(y.splice(0,0,S),h.splice(0,0,h[0])),C!==d&&(y.push(C),h.push(h[h.length-1]))}else{var m=w._input&&typeof w._input.zmin=="number"&&typeof w._input.zmax=="number";for(m&&(p<=o||r>=d)&&(p<=o&&(p=o),r>=d&&(r=d),i=Math.floor((r-p)/t)+1,n=0),c=0;c<l;c++)M=f[c],y[c]=(M[0]*(i+n-1)-n/2)*t+p,h[c]=M[1];(m||w.autocontour)&&(y[0]>o&&(y.unshift(o),h.unshift(h[0])),y[y.length-1]<d&&(y.push(d),h.push(h[h.length-1])))}return P.makeColorScaleFunc({domain:y,range:h},{noNumericCheck:!0})}},72424:function(H,j,e){var g=e(93252);H.exports=function(x){var w=x[0].z,v=w.length,p=w[0].length,r=v===2||p===2,t,i,n,u,f,l,y,h,M;for(i=0;i<v-1;i++)for(u=[],i===0&&(u=u.concat(g.BOTTOMSTART)),i===v-2&&(u=u.concat(g.TOPSTART)),t=0;t<p-1;t++)for(n=u.slice(),t===0&&(n=n.concat(g.LEFTSTART)),t===p-2&&(n=n.concat(g.RIGHTSTART)),f=t+","+i,l=[[w[i][t],w[i][t+1]],[w[i+1][t],w[i+1][t+1]]],M=0;M<x.length;M++)h=x[M],y=P(h.level,l),y&&(h.crossings[f]=y,n.indexOf(y)!==-1&&(h.starts.push([t,i]),r&&n.indexOf(y,n.indexOf(y)+1)!==-1&&h.starts.push([t,i])))};function P(a,x){var w=(x[0][0]>a?0:1)+(x[0][1]>a?0:2)+(x[1][1]>a?0:4)+(x[1][0]>a?0:8);if(w===5||w===10){var v=(x[0][0]+x[0][1]+x[1][0]+x[1][1])/4;return a>v?w===5?713:1114:w===5?104:208}return w===15?0:w}},23676:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=e(8932),w=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),i=e(88748),n=e(61512),u=e(82172),f=e(56008),l=e(93252),y=l.LABELOPTIMIZER;j.plot=function(m,E,b,s){var L=E.xaxis,A=E.yaxis;P.makeTraceGroups(s,b,"contour").each(function(k){var _=g.select(this),U=k[0],F=U.trace,z=U.x,B=U.y,N=F.contours,V=n(N,E,U),W=P.ensureSingle(_,"g","heatmapcoloring"),Q=[];N.coloring==="heatmap"&&(Q=[k]),r(m,E,Q,W),t(V),i(V);var re=L.c2p(z[0],!0),ne=L.c2p(z[z.length-1],!0),fe=A.c2p(B[0],!0),$=A.c2p(B[B.length-1],!0),X=[[re,$],[ne,$],[ne,fe],[re,fe]],oe=V;N.type==="constraint"&&(oe=u(V,N._operation)),h(_,X,N),M(_,oe,X,N),o(_,V,m,U,N),T(_,E,m,U,X)})};function h(C,m,E){var b=P.ensureSingle(C,"g","contourbg"),s=b.selectAll("path").data(E.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function M(C,m,E,b){var s=b.coloring==="fill"||b.type==="constraint"&&b._operation!=="=",L="M"+E.join("L")+"Z";s&&f(m,b);var A=P.ensureSingle(C,"g","contourfill"),k=A.selectAll("path").data(s?m:[]);k.enter().append("path"),k.exit().remove(),k.each(function(_){var U=(_.prefixBoundary?L:"")+c(_,E);U?g.select(this).attr("d",U).style("stroke","none"):g.select(this).remove()})}function c(C,m){var E="",b=0,s=C.edgepaths.map(function(re,ne){return ne}),L=!0,A,k,_,U,F,z;function B(re){return Math.abs(re[1]-m[0][1])<.01}function N(re){return Math.abs(re[1]-m[2][1])<.01}function V(re){return Math.abs(re[0]-m[0][0])<.01}function W(re){return Math.abs(re[0]-m[2][0])<.01}for(;s.length;){for(z=a.smoothopen(C.edgepaths[b],C.smoothing),E+=L?z:z.replace(/^M/,"L"),s.splice(s.indexOf(b),1),A=C.edgepaths[b][C.edgepaths[b].length-1],U=-1,_=0;_<4;_++){if(!A){P.log("Missing end?",b,C);break}for(B(A)&&!W(A)?k=m[1]:V(A)?k=m[0]:N(A)?k=m[3]:W(A)&&(k=m[2]),F=0;F<C.edgepaths.length;F++){var Q=C.edgepaths[F][0];Math.abs(A[0]-k[0])<.01?Math.abs(A[0]-Q[0])<.01&&(Q[1]-A[1])*(k[1]-Q[1])>=0&&(k=Q,U=F):Math.abs(A[1]-k[1])<.01?Math.abs(A[1]-Q[1])<.01&&(Q[0]-A[0])*(k[0]-Q[0])>=0&&(k=Q,U=F):P.log("endpt to newendpt is not vert. or horz.",A,k,Q)}if(A=k,U>=0)break;E+="L"+k}if(U===C.edgepaths.length){P.log("unclosed perimeter path");break}b=U,L=s.indexOf(b)===-1,L&&(b=s[0],E+="Z")}for(b=0;b<C.paths.length;b++)E+=a.smoothclosed(C.paths[b],C.smoothing);return E}function o(C,m,E,b,s){var L=E._context.staticPlot,A=P.ensureSingle(C,"g","contourlines"),k=s.showlines!==!1,_=s.showlabels,U=k&&_,F=j.createLines(A,k||_,m,L),z=j.createLineClip(A,U,E,b.trace.uid),B=C.selectAll("g.contourlabels").data(_?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),_){var N=[],V=[];P.clearLocationCache();var W=j.labelFormatter(E,b),Q=a.tester.append("text").attr("data-notex",1).call(a.font,s.labelfont),re=m[0].xaxis,ne=m[0].yaxis,fe=re._length,$=ne._length,X=re.range,oe=ne.range,Y=P.aggNums(Math.min,null,b.x),ee=P.aggNums(Math.max,null,b.x),se=P.aggNums(Math.min,null,b.y),q=P.aggNums(Math.max,null,b.y),K=Math.max(re.c2p(Y,!0),0),le=Math.min(re.c2p(ee,!0),fe),ie=Math.max(ne.c2p(q,!0),0),he=Math.min(ne.c2p(se,!0),$),ye={};X[0]<X[1]?(ye.left=K,ye.right=le):(ye.left=le,ye.right=K),oe[0]<oe[1]?(ye.top=ie,ye.bottom=he):(ye.top=he,ye.bottom=ie),ye.middle=(ye.top+ye.bottom)/2,ye.center=(ye.left+ye.right)/2,N.push([[ye.left,ye.top],[ye.right,ye.top],[ye.right,ye.bottom],[ye.left,ye.bottom]]);var Ce=Math.sqrt(fe*fe+$*$),Ae=l.LABELDISTANCE*Ce/Math.max(1,m.length/l.LABELINCREASE);F.each(function(ke){var we=j.calcTextOpts(ke.level,W,Q,E);g.select(this).selectAll("path").each(function(){var Ee=this,xe=P.getVisibleSegment(Ee,ye,we.height/2);if(xe&&!(xe.len<(we.width+we.height)*l.LABELMIN))for(var Re=Math.min(Math.ceil(xe.len/Ae),l.LABELMAX),Ve=0;Ve<Re;Ve++){var Ue=j.findBestTextLocation(Ee,xe,we,V,ye);if(!Ue)break;j.addLabelData(Ue,we,V,N)}})}),Q.remove(),j.drawLabels(B,V,E,z,U?N:null)}_&&!k&&F.remove()}j.createLines=function(C,m,E,b){var s=E[0].smoothing,L=C.selectAll("g.contourlevel").data(m?E:[]);if(L.exit().remove(),L.enter().append("g").classed("contourlevel",!0),m){var A=L.selectAll("path.openline").data(function(_){return _.pedgepaths||_.edgepaths});A.exit().remove(),A.enter().append("path").classed("openline",!0),A.attr("d",function(_){return a.smoothopen(_,s)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var k=L.selectAll("path.closedline").data(function(_){return _.ppaths||_.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(_){return a.smoothclosed(_,s)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return L},j.createLineClip=function(C,m,E,b){var s=E._fullLayout._clips,L=m?"clipline"+b:null,A=s.selectAll("#"+L).data(m?[0]:[]);return A.exit().remove(),A.enter().append("clipPath").classed("contourlineclip",!0).attr("id",L),a.setClipUrl(C,L,E),A},j.labelFormatter=function(C,m){var E=C._fullLayout,b=m.trace,s=b.contours,L={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)L.tickformat=s.labelformat,p(L,E);else{var A=x.extractOpts(b);if(A&&A.colorbar&&A.colorbar._axis)L=A.colorbar._axis;else{if(s.type==="constraint"){var k=s.value;P.isArrayOrTypedArray(k)?L.range=[k[0],k[k.length-1]]:L.range=[k,k]}else L.range=[s.start,s.end],L.nticks=(s.end-s.start)/s.size;L.range[0]===L.range[1]&&(L.range[1]+=L.range[0]||1),L.nticks||(L.nticks=1e3),p(L,E),v.prepTicks(L),L._tmin=null,L._tmax=null}}return function(_){return v.tickText(L,_).text}},j.calcTextOpts=function(C,m,E,b){var s=m(C);E.text(s).call(w.convertToTspans,b);var L=E.node(),A=a.bBox(L,!0);return{text:s,width:A.width,height:A.height,fontSize:+L.style["font-size"].replace("px",""),level:C,dy:(A.top+A.bottom)/2}},j.findBestTextLocation=function(C,m,E,b,s){var L=E.width,A,k,_,U,F;m.isClosed?(k=m.len/y.INITIALSEARCHPOINTS,A=m.min+k/2,_=m.max):(k=(m.len-L)/(y.INITIALSEARCHPOINTS+1),A=m.min+k+L/2,_=m.max-(k+L)/2);for(var z=1/0,B=0;B<y.ITERATIONS;B++){for(var N=A;N<_;N+=k){var V=P.getTextLocation(C,m.total,N,L),W=d(V,E,b,s);W<z&&(z=W,F=V,U=N)}if(z>y.MAXCOST*2)break;B&&(k/=2),A=U-k/2,_=A+k*1.5}if(z<=y.MAXCOST)return F};function d(C,m,E,b){var s=m.width/2,L=m.height/2,A=C.x,k=C.y,_=C.theta,U=Math.cos(_)*s,F=Math.sin(_)*s,z=(A>b.center?b.right-A:A-b.left)/(U+Math.abs(Math.sin(_)*L)),B=(k>b.middle?b.bottom-k:k-b.top)/(Math.abs(F)+Math.cos(_)*L);if(z<1||B<1)return 1/0;var N=y.EDGECOST*(1/(z-1)+1/(B-1));N+=y.ANGLECOST*_*_;for(var V=A-U,W=k-F,Q=A+U,re=k+F,ne=0;ne<E.length;ne++){var fe=E[ne],$=Math.cos(fe.theta)*fe.width/2,X=Math.sin(fe.theta)*fe.width/2,oe=P.segmentDistance(V,W,Q,re,fe.x-$,fe.y-X,fe.x+$,fe.y+X)*2/(m.height+fe.height),Y=fe.level===m.level,ee=Y?y.SAMELEVELDISTANCE:1;if(oe<=ee)return 1/0;var se=y.NEIGHBORCOST*(Y?y.SAMELEVELFACTOR:1);N+=se/(oe-ee)}return N}j.addLabelData=function(C,m,E,b){var s=m.fontSize,L=m.width+s/3,A=Math.max(0,m.height-s/3),k=C.x,_=C.y,U=C.theta,F=Math.sin(U),z=Math.cos(U),B=function(V,W){return[k+V*z-W*F,_+V*F+W*z]},N=[B(-L/2,-A/2),B(-L/2,A/2),B(L/2,A/2),B(L/2,-A/2)];E.push({text:m.text,x:k,y:_,dy:m.dy,theta:U,level:m.level,width:L,height:A}),b.push(N)},j.drawLabels=function(C,m,E,b,s){var L=C.selectAll("text").data(m,function(U){return U.text+","+U.x+","+U.y+","+U.theta});if(L.exit().remove(),L.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(U){var F=U.x+Math.sin(U.theta)*U.dy,z=U.y-Math.cos(U.theta)*U.dy;g.select(this).text(U.text).attr({x:F,y:z,transform:"rotate("+180*U.theta/Math.PI+" "+F+" "+z+")"}).call(w.convertToTspans,E)}),s){for(var A="",k=0;k<s.length;k++)A+="M"+s[k].join("L")+"Z";var _=P.ensureSingle(b,"path","");_.attr("d",A)}};function T(C,m,E,b,s){var L=b.trace,A=E._fullLayout._clips,k="clip"+L.uid,_=A.selectAll("#"+k).data(L.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",k),_.exit().remove(),L.connectgaps===!1){var U={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:b.x,y:b.y,z:S(b),smoothing:0};t([U]),i([U]),f([U],{type:"levels"});var F=P.ensureSingle(_,"path","");F.attr("d",(U.prefixBoundary?"M"+s.join("L")+"Z":"")+c(U,s))}else k=null;a.setClipUrl(C,k,E)}function S(C){var m=C.trace._emptypoints,E=[],b=C.z.length,s=C.z[0].length,L,A=[],k;for(L=0;L<s;L++)A.push(1);for(L=0;L<b;L++)E.push(A.slice());for(L=0;L<m.length;L++)k=m[L],E[k[0]][k[1]]=0;return C.zmask=E,E}},54444:function(H,j,e){var g=e(54460),P=e(3400);H.exports=function(w,v){var p=w.contours;if(w.autocontour){var r=w.zmin,t=w.zmax;(w.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(w.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var i=a(r,t,w.ncontours);p.size=i.dtick,p.start=g.tickFirst(i),i.range.reverse(),p.end=g.tickFirst(i),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),w._input.contours||(w._input.contours={}),P.extendFlat(w._input.contours,{start:p.start,end:p.end,size:p.size}),w._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,u=p.end,f=w._input.contours;if(n>u&&(p.start=f.start=u,u=p.end=f.end=n,n=p.start),!(p.size>0)){var l;n===u?l=1:l=a(n,u,w.ncontours).dtick,f.size=p.size=l}}};function a(x,w,v){var p={type:"linear",range:[x,w]};return g.autoTicks(p,(w-x)/(v||15)),p}},52440:function(H,j,e){var g=e(33428),P=e(43616),a=e(41648),x=e(41076);H.exports=function(v){var p=g.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=g.select(this),i=r[0].trace,n=i.contours,u=i.line,f=n.size||1,l=n.start,y=n.type==="constraint",h=!y&&n.coloring==="lines",M=!y&&n.coloring==="fill",c=h||M?x(i):null;t.selectAll("g.contourlevel").each(function(T){g.select(this).selectAll("path").call(P.lineGroupStyle,u.width,h?c(T.level):u.color,u.dash)});var o=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(T){P.font(g.select(this),{family:o.family,size:o.size,color:o.color||(h?c(T.level):u.color)})}),y)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(M){var d;t.selectAll("g.contourfill path").style("fill",function(T){return d===void 0&&(d=T.level),c(T.level+.5*f)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",c(d-.5*f))}}),a(v)}},97680:function(H,j,e){var g=e(27260),P=e(17428);H.exports=function(x,w,v,p,r){var t=v("contours.coloring"),i,n="";t==="fill"&&(i=v("contours.showlines")),i!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(x.showlegend!==!0&&(w.showlegend=!1),w._dfltShowLegend=!1,g(x,w,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},37960:function(H,j,e){var g=e(83328),P=e(67104),a=e(49084),x=e(92880).extendFlat,w=P.contours;H.exports=x({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:w.type,start:w.start,end:w.end,size:w.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:w.showlines,showlabels:w.showlabels,labelfont:w.labelfont,labelformat:w.labelformat,operation:w.operation,value:w.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},30572:function(H,j,e){var g=e(47128),P=e(3400),a=e(2872),x=e(26136),w=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),i=e(54444);H.exports=function(f,l){var y=l._carpetTrace=t(f,l);if(!(!y||!y.visible||y.visible==="legendonly")){if(!l.a||!l.b){var h=f.data[y.index],M=f.data[l.index];M.a||(M.a=h.a),M.b||(M.b=h.b),r(M,l,l._defaultColor,f._fullLayout)}var c=n(f,l);return i(l,l._z),c}};function n(u,f){var l=f._carpetTrace,y=l.aaxis,h=l.baxis,M,c,o,d,T,S,C;y._minDtick=0,h._minDtick=0,P.isArray1D(f.z)&&a(f,y,h,"a","b",["z"]),M=f._a=f._a||f.a,d=f._b=f._b||f.b,M=M?y.makeCalcdata(f,"_a"):[],d=d?h.makeCalcdata(f,"_b"):[],c=f.a0||0,o=f.da||1,T=f.b0||0,S=f.db||1,C=f._z=x(f._z||f.z,f.transpose),f._emptypoints=v(C),w(C,f._emptypoints);var m=P.maxRowLength(C),E=f.xtype==="scaled"?"":M,b=p(f,E,c,o,m,y),s=f.ytype==="scaled"?"":d,L=p(f,s,T,S,C.length,h),A={a:b,b:L,z:C};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&g(u,f,{vals:C,containerStr:"",cLetter:"z"}),[A]}},3252:function(H,j,e){var g=e(3400),P=e(51264),a=e(37960),x=e(95536),w=e(84952),v=e(97680);H.exports=function(r,t,i,n){function u(h,M){return g.coerce(r,t,a,h,M)}function f(h){return g.coerce2(r,t,a,h)}if(u("carpet"),r.a&&r.b){var l=P(r,t,u,n,"a","b");if(!l){t.visible=!1;return}u("text");var y=u("contours.type")==="constraint";y?x(r,t,u,n,i,{hasHover:!1}):(w(r,t,u,f),v(r,t,u,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},40448:function(H,j,e){H.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(H,j,e){var g=e(33428),P=e(87072),a=e(53416),x=e(43616),w=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),i=e(82172),n=e(61512),u=e(56008),f=e(50948),l=e(77712);H.exports=function(E,b,s,L){var A=b.xaxis,k=b.yaxis;w.makeTraceGroups(L,s,"contour").each(function(_){var U=g.select(this),F=_[0],z=F.trace,B=z._carpetTrace=f(E,z),N=E.calcdata[B.index][0];if(!B.visible||B.visible==="legendonly")return;var V=F.a,W=F.b,Q=z.contours,re=n(Q,b,F),ne=Q.type==="constraint",fe=Q._operation,$=ne?fe==="="?"lines":"fill":Q.coloring;function X(Ce){var Ae=B.ab2xy(Ce[0],Ce[1],!0);return[A.c2p(Ae[0]),k.c2p(Ae[1])]}var oe=[[V[0],W[W.length-1]],[V[V.length-1],W[W.length-1]],[V[V.length-1],W[0]],[V[0],W[0]]];v(re);var Y=(V[V.length-1]-V[0])*1e-8,ee=(W[W.length-1]-W[0])*1e-8;p(re,Y,ee);var se=re;Q.type==="constraint"&&(se=i(re,fe)),y(re,X);var q,K,le,ie,he=[];for(ie=N.clipsegments.length-1;ie>=0;ie--)q=N.clipsegments[ie],K=P([],q.x,A.c2p),le=P([],q.y,k.c2p),K.reverse(),le.reverse(),he.push(a(K,le,q.bicubic));var ye="M"+he.join("L")+"Z";T(U,N.clipsegments,A,k,ne,$),S(z,U,A,k,se,oe,X,B,N,$,ye),h(U,re,E,F,Q,b,B),x.setClipUrl(U,B._clipPathId,E)})};function y(m,E){var b,s,L,A,k,_,U,F,z;for(b=0;b<m.length;b++){for(A=m[b],k=A.pedgepaths=[],_=A.ppaths=[],s=0;s<A.edgepaths.length;s++){for(z=A.edgepaths[s],U=[],L=0;L<z.length;L++)U[L]=E(z[L]);k.push(U)}for(s=0;s<A.paths.length;s++){for(z=A.paths[s],F=[],L=0;L<z.length;L++)F[L]=E(z[L]);_.push(F)}}}function h(m,E,b,s,L,A,k){var _=b._context.staticPlot,U=w.ensureSingle(m,"g","contourlines"),F=L.showlines!==!1,z=L.showlabels,B=F&&z,N=r.createLines(U,F||z,E,_),V=r.createLineClip(U,B,b,s.trace.uid),W=m.selectAll("g.contourlabels").data(z?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),z){var Q=A.xaxis,re=A.yaxis,ne=Q._length,fe=re._length,$=[[[0,0],[ne,0],[ne,fe],[0,fe]]],X=[];w.clearLocationCache();var oe=r.labelFormatter(b,s),Y=x.tester.append("text").attr("data-notex",1).call(x.font,L.labelfont),ee={left:0,right:ne,center:ne/2,top:0,bottom:fe,middle:fe/2},se=Math.sqrt(ne*ne+fe*fe),q=t.LABELDISTANCE*se/Math.max(1,E.length/t.LABELINCREASE);N.each(function(K){var le=r.calcTextOpts(K.level,oe,Y,b);g.select(this).selectAll("path").each(function(ie){var he=this,ye=w.getVisibleSegment(he,ee,le.height/2);if(ye&&(M(he,ie,K,ye,k,le.height),!(ye.len<(le.width+le.height)*t.LABELMIN)))for(var Ce=Math.min(Math.ceil(ye.len/q),t.LABELMAX),Ae=0;Ae<Ce;Ae++){var ke=r.findBestTextLocation(he,ye,le,X,ee);if(!ke)break;r.addLabelData(ke,le,X,$)}})}),Y.remove(),r.drawLabels(W,X,b,V,B?$:null)}z&&!F&&N.remove()}function M(m,E,b,s,L,A){for(var k,_=0;_<b.pedgepaths.length;_++)E===b.pedgepaths[_]&&(k=b.edgepaths[_]);if(!k)return;var U=L.a[0],F=L.a[L.a.length-1],z=L.b[0],B=L.b[L.b.length-1];function N(ne,fe){var $=0,X,oe=.1;return(Math.abs(ne[0]-U)<oe||Math.abs(ne[0]-F)<oe)&&(X=o(L.dxydb_rough(ne[0],ne[1],oe)),$=Math.max($,A*d(fe,X)/2)),(Math.abs(ne[1]-z)<oe||Math.abs(ne[1]-B)<oe)&&(X=o(L.dxyda_rough(ne[0],ne[1],oe)),$=Math.max($,A*d(fe,X)/2)),$}var V=c(m,0,1),W=c(m,s.total,s.total-1),Q=N(k[0],V),re=s.total-N(k[k.length-1],W);s.min<Q&&(s.min=Q),s.max>re&&(s.max=re),s.len=s.max-s.min}function c(m,E,b){var s=m.getPointAtLength(E),L=m.getPointAtLength(b),A=L.x-s.x,k=L.y-s.y,_=Math.sqrt(A*A+k*k);return[A/_,k/_]}function o(m){var E=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/E,m[1]/E]}function d(m,E){var b=Math.abs(m[0]*E[0]+m[1]*E[1]),s=Math.sqrt(1-b*b);return s/b}function T(m,E,b,s,L,A){var k,_,U,F,z=w.ensureSingle(m,"g","contourbg"),B=z.selectAll("path").data(A==="fill"&&!L?[0]:[]);B.enter().append("path"),B.exit().remove();var N=[];for(F=0;F<E.length;F++)k=E[F],_=P([],k.x,b.c2p),U=P([],k.y,s.c2p),N.push(a(_,U,k.bicubic));B.attr("d","M"+N.join("L")+"Z").style("stroke","none")}function S(m,E,b,s,L,A,k,_,U,F,z){var B=F==="fill";B&&u(L,m.contours);var N=w.ensureSingle(E,"g","contourfill"),V=N.selectAll("path").data(B?L:[]);V.enter().append("path"),V.exit().remove(),V.each(function(W){var Q=(W.prefixBoundary?z:"")+C(m,W,A,k,_,U,b,s);Q?g.select(this).attr("d",Q).style("stroke","none"):g.select(this).remove()})}function C(m,E,b,s,L,A,k,_){var U,F="",z=E.edgepaths.map(function(le,ie){return ie}),B=!0,N,V,W,Q,re,ne,fe=Math.abs(b[0][0]-b[2][0])*1e-4,$=Math.abs(b[0][1]-b[2][1])*1e-4;function X(le){return Math.abs(le[1]-b[0][1])<$}function oe(le){return Math.abs(le[1]-b[2][1])<$}function Y(le){return Math.abs(le[0]-b[0][0])<fe}function ee(le){return Math.abs(le[0]-b[2][0])<fe}function se(le,ie){var he,ye,Ce,Ae,ke="";for(X(le)&&!ee(le)||oe(le)&&!Y(le)?(Ae=L.aaxis,Ce=l(L,A,[le[0],ie[0]],.5*(le[1]+ie[1]))):(Ae=L.baxis,Ce=l(L,A,.5*(le[0]+ie[0]),[le[1],ie[1]])),he=1;he<Ce.length;he++)for(ke+=Ae.smoothing?"C":"L",ye=0;ye<Ce[he].length;ye++){var we=Ce[he][ye];ke+=[k.c2p(we[0]),_.c2p(we[1])]+" "}return ke}for(U=0,N=null;z.length;){var q=E.edgepaths[U][0];for(N&&(F+=se(N,q)),ne=x.smoothopen(E.edgepaths[U].map(s),E.smoothing),F+=B?ne:ne.replace(/^M/,"L"),z.splice(z.indexOf(U),1),N=E.edgepaths[U][E.edgepaths[U].length-1],Q=-1,W=0;W<4;W++){if(!N){w.log("Missing end?",U,E);break}for(X(N)&&!ee(N)?V=b[1]:Y(N)?V=b[0]:oe(N)?V=b[3]:ee(N)&&(V=b[2]),re=0;re<E.edgepaths.length;re++){var K=E.edgepaths[re][0];Math.abs(N[0]-V[0])<fe?Math.abs(N[0]-K[0])<fe&&(K[1]-N[1])*(V[1]-K[1])>=0&&(V=K,Q=re):Math.abs(N[1]-V[1])<$?Math.abs(N[1]-K[1])<$&&(K[0]-N[0])*(V[0]-K[0])>=0&&(V=K,Q=re):w.log("endpt to newendpt is not vert. or horz.",N,V,K)}if(Q>=0)break;F+=se(N,V),N=V}if(Q===E.edgepaths.length){w.log("unclosed perimeter path");break}U=Q,B=z.indexOf(U)===-1,B&&(U=z[0],F+=se(N,V)+"Z",N=null)}for(U=0;U<E.paths.length;U++)F+=x.smoothclosed(E.paths[U].map(s),E.smoothing);return F}},33928:function(H,j,e){var g=e(49084),P=e(21776).Ks,a=e(45464),x=e(31512),w=e(92880).extendFlat;H.exports=w({lon:x.lon,lat:x.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:x.text,hovertext:x.hovertext,hoverinfo:w({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:w({},a.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(H,j,e){var g=e(38248),P=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,x=e(47128),w=e(3400)._;H.exports=function(p,r){for(var t=r._length,i=new Array(t),n=r.z,u=P(n)&&n.length,f=0;f<t;f++){var l=i[f]={},y=r.lon[f],h=r.lat[f];if(l.lonlat=g(y)&&g(h)?[+y,+h]:[a,a],u){var M=n[f];l.z=g(M)?M:a}}return x(p,r,{vals:u?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:w(p,"lat:")+" ",lon:w(p,"lon:")+" "}}),i}},4629:function(H,j,e){var g=e(38248),P=e(3400),a=e(76308),x=e(8932),w=e(39032).BADNUM,v=e(44808).makeBlank;H.exports=function(r){var t=r[0].trace,i=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},u=t._opts={heatmap:n,geojson:v()};if(!i)return u;var f=[],l,y=t.z,h=t.radius,M=P.isArrayOrTypedArray(y)&&y.length,c=P.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var o=r[l],d=o.lonlat;if(d[0]!==w){var T={};if(M){var S=o.z;T.z=S!==w?S:0}c&&(T.r=g(h[l])&&h[l]>0?+h[l]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:T})}}var C=x.extractOpts(t),m=C.reversescale?x.flipScale(C.colorscale):C.colorscale,E=m[0][1],b=a.opacity(E)<1?E:a.addOpacity(E,0),s=["interpolate",["linear"],["heatmap-density"],0,b];for(l=1;l<m.length;l++)s.push(m[l][0],m[l][1]);var L=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return P.extendFlat(u.heatmap.paint,{"heatmap-weight":M?L:1/(C.max-C.min),"heatmap-color":s,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),u.geojson={type:"FeatureCollection",features:f},u.heatmap.layout.visibility="visible",u}},97664:function(H,j,e){var g=e(3400),P=e(27260),a=e(33928);H.exports=function(w,v,p,r){function t(f,l){return g.coerce(w,v,a,f,l)}var i=t("lon")||[],n=t("lat")||[],u=Math.min(i.length,n.length);if(!u){v.visible=!1;return}v._length=u,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(w,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(H){H.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},25336:function(H,j,e){var g=e(54460),P=e(63312).hoverPoints,a=e(63312).getExtraText;H.exports=function(w,v,p){var r=P(w,v,p);if(r){var t=r[0],i=t.cd,n=i[0].trace,u=i[t.index];if(delete t.color,"z"in u){var f=t.subplot.mockAxis;t.z=u.z,t.zLabel=g.tickText(f,f.c2l(u.z),"hover").text}return t.extraText=a(n,u,i[0].t.labels),[t]}}},15088:function(H,j,e){H.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(g,P){for(var a=P.getMapLayers(),x=0;x<a.length;x++){var w=a[x],v=w.id;if(w.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(H,j,e){var g=e(4629),P=e(47552).traceLayerPrefix;function a(w,v){this.type="densitymapbox",this.subplot=w,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var x=a.prototype;x.update=function(w){var v=this.subplot,p=this.layerList,r=g(w),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var i=0;i<p.length;i++){var n=p[i],u=n[0],f=n[1],l=r[u];v.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(f,"setPaintProperty",l.paint)}},x._addLayers=function(w,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,i=0;i<r.length;i++){var n=r[i],u=n[0],f=w[u];p.addLayer({type:u,id:n[1],source:t,layout:f.layout,paint:f.paint},v)}},x._removeLayers=function(){for(var w=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)w.removeLayer(v[p][1])},x.dispose=function(){var w=this.subplot.map;this._removeLayers(),w.removeSource(this.sourceId)},H.exports=function(v,p){var r=p[0].trace,t=new a(v,r.uid),i=t.sourceId,n=g(p),u=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,u),t}},74248:function(H,j,e){var g=e(3400);H.exports=function(a,x){for(var w=0;w<a.length;w++)a[w].i=w;g.mergeArray(x.text,a,"tx"),g.mergeArray(x.hovertext,a,"htx");var v=x.marker;if(v){g.mergeArray(v.opacity,a,"mo"),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},20088:function(H,j,e){var g=e(20832),P=e(52904).line,a=e(45464),x=e(29736).axisHoverFormat,w=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);H.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),hovertext:g.hovertext,hovertemplate:w({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:r({},g.insidetextanchor,{dflt:"middle"}),textangle:r({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:r({},g.orientation,{}),offset:r({},g.offset,{arrayOk:!1}),width:r({},g.width,{arrayOk:!1}),marker:i(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup};function i(){var n=r({},g.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(H,j,e){var g=e(54460),P=e(1220),a=e(74248),x=e(4500),w=e(39032).BADNUM;H.exports=function(r,t){var i=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),u,f,l,y,h,M,c,o;t.orientation==="h"?(u=i.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),y=P(t,n,"y",l),h=!!t.yperiodalignment,M="y"):(u=n.makeCalcdata(t,"y"),l=i.makeCalcdata(t,"x"),y=P(t,i,"x",l),h=!!t.xperiodalignment,M="x"),f=y.vals;var d=Math.min(f.length,u.length),T=new Array(d);for(t._base=[],c=0;c<d;c++){u[c]<0&&(u[c]=w);var S=!1;u[c]!==w&&c+1<d&&u[c+1]!==w&&(S=!0),o=T[c]={p:f[c],s:u[c],cNext:S},t._base[c]=-.5*o.s,h&&(T[c].orig_p=l[c],T[c][M+"End"]=y.ends[c],T[c][M+"Start"]=y.starts[c]),t.ids&&(o.id=String(t.ids[c])),c===0&&(T[0].vTotal=0),T[0].vTotal+=v(o.s),o.begR=v(o.s)/v(T[0].s)}var C;for(c=0;c<d;c++)o=T[c],o.s!==w&&(o.sumR=o.s/T[0].vTotal,o.difR=C!==void 0?o.s/C:1,C=o.s);return a(T,t),x(T,t),T};function v(p){return p===w?0:p}},74732:function(H){H.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(H,j,e){var g=e(96376).setGroupPositions;H.exports=function(a,x){var w=a._fullLayout,v=a._fullData,p=a.calcdata,r=x.xaxis,t=x.yaxis,i=[],n=[],u=[],f,l;for(l=0;l<v.length;l++){var y=v[l],h=y.orientation==="h";y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="funnel"&&(f=p[l],h?u.push(f):n.push(f),i.push(f))}var M={mode:w.funnelmode,norm:w.funnelnorm,gap:w.funnelgap,groupgap:w.funnelgroupgap};for(g(a,r,t,n,M),g(a,t,r,u,M),l=0;l<i.length;l++){f=i[l];for(var c=0;c<f.length;c++)c+1<f.length&&(f[c].nextP0=f[c+1].p0,f[c].nextS0=f[c+1].s0,f[c].nextP1=f[c+1].p1,f[c].nextS1=f[c+1].s1)}}},45432:function(H,j,e){var g=e(3400),P=e(20011),a=e(31508).handleText,x=e(43980),w=e(31147),v=e(20088),p=e(76308);function r(n,u,f,l){function y(S,C){return g.coerce(n,u,v,S,C)}var h=x(n,u,l,y);if(!h){u.visible=!1;return}w(n,u,l,y),y("xhoverformat"),y("yhoverformat"),y("orientation",u.y&&!u.x?"v":"h"),y("offset"),y("width");var M=y("text");y("hovertext"),y("hovertemplate");var c=y("textposition");a(n,u,l,y,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u.textposition!=="none"&&!u.texttemplate&&y("textinfo",g.isArrayOrTypedArray(M)?"text+value":"value");var o=y("marker.color",f);y("marker.line.color",p.defaultLine),y("marker.line.width");var d=y("connector.visible");if(d){y("connector.fillcolor",t(o));var T=y("connector.line.width");T&&(y("connector.line.color"),y("connector.line.dash"))}}function t(n){var u=g.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(u,.5*p.opacity(u))}function i(n,u){var f,l;function y(M){return g.coerce(l._input,l,v,M)}if(u.funnelmode==="group")for(var h=0;h<n.length;h++)l=n[h],f=l._input,P(f,l,u,y)}H.exports={supplyDefaults:r,crossTraceDefaults:i}},34580:function(H){H.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},31488:function(H,j,e){var g=e(76308).opacity,P=e(63400).hoverOnBars,a=e(3400).formatPercent;H.exports=function(v,p,r,t,i){var n=P(v,p,r,t,i);if(n){var u=n.cd,f=u[0].trace,l=f.orientation==="h",y=n.index,h=u[y],M=l?"x":"y";n[M+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=a(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=a(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=a(h.sumR,1);var c=h.hi||f.hoverinfo,o=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",T=c.split("+"),S=function(C){return d||T.indexOf(C)!==-1};S("percent initial")&&o.push(n.percentInitialLabel+" of initial"),S("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),S("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=x(f,h),[n]}};function x(w,v){var p=w.marker,r=v.mc||p.color,t=v.mlc||p.line.color,i=v.mlw||p.line.width;if(g(r))return r;if(g(t)&&i)return t}},94704:function(H,j,e){H.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(H){H.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(H,j,e){var g=e(3400),P=e(7076);H.exports=function(a,x,w){var v=!1;function p(i,n){return g.coerce(a,x,P,i,n)}for(var r=0;r<w.length;r++){var t=w[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=e(39032).BADNUM,w=e(98184),v=e(82744).clearMinTextSize;H.exports=function(n,u,f,l){var y=n._fullLayout;v("funnel",y),p(n,u,f,l),r(n,u,f,l),w.plot(n,u,f,l,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})};function p(i,n,u,f){var l=n.xaxis,y=n.yaxis;P.makeTraceGroups(f,u,"trace bars").each(function(h){var M=g.select(this),c=h[0].trace,o=P.ensureSingle(M,"g","regions");if(!c.connector||!c.connector.visible){o.remove();return}var d=c.orientation==="h",T=o.selectAll("g.region").data(P.identity);T.enter().append("g").classed("region",!0),T.exit().remove();var S=T.size();T.each(function(C,m){if(!(m!==S-1&&!C.cNext)){var E=t(C,l,y,d),b=E[0],s=E[1],L="";b[0]!==x&&s[0]!==x&&b[1]!==x&&s[1]!==x&&b[2]!==x&&s[2]!==x&&b[3]!==x&&s[3]!==x&&(d?L+="M"+b[0]+","+s[1]+"L"+b[2]+","+s[2]+"H"+b[3]+"L"+b[1]+","+s[1]+"Z":L+="M"+b[1]+","+s[1]+"L"+b[2]+","+s[3]+"V"+s[2]+"L"+b[1]+","+s[0]+"Z"),L===""&&(L="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,n.layerClipId,i)}})})}function r(i,n,u,f){var l=n.xaxis,y=n.yaxis;P.makeTraceGroups(f,u,"trace bars").each(function(h){var M=g.select(this),c=h[0].trace,o=P.ensureSingle(M,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){o.remove();return}var d=c.orientation==="h",T=o.selectAll("g.line").data(P.identity);T.enter().append("g").classed("line",!0),T.exit().remove();var S=T.size();T.each(function(C,m){if(!(m!==S-1&&!C.cNext)){var E=t(C,l,y,d),b=E[0],s=E[1],L="";b[3]!==void 0&&s[3]!==void 0&&(d?(L+="M"+b[0]+","+s[1]+"L"+b[2]+","+s[2],L+="M"+b[1]+","+s[1]+"L"+b[3]+","+s[2]):(L+="M"+b[1]+","+s[1]+"L"+b[2]+","+s[3],L+="M"+b[1]+","+s[0]+"L"+b[2]+","+s[2])),L===""&&(L="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,n.layerClipId,i)}})})}function t(i,n,u,f){var l=[],y=[],h=f?n:u,M=f?u:n;return l[0]=h.c2p(i.s0,!0),y[0]=M.c2p(i.p0,!0),l[1]=h.c2p(i.s1,!0),y[1]=M.c2p(i.p1,!0),l[2]=h.c2p(i.nextS0,!0),y[2]=M.c2p(i.nextP0,!0),l[3]=h.c2p(i.nextS1,!0),y[3]=M.c2p(i.nextP1,!0),f?[l,y]:[y,l]}},44544:function(H,j,e){var g=e(33428),P=e(43616),a=e(76308),x=e(13448).DESELECTDIM,w=e(60100),v=e(82744).resizeText,p=w.styleTextPoints;function r(t,i,n){var u=n||g.select(t).selectAll("g.funnellayer").selectAll("g.trace");v(t,u,"funnel"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var l=g.select(this),y=f[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var M=y.marker;g.select(this).call(a.fill,h.mc||M.color).call(a.stroke,h.mlc||M.line.color).call(P.dashLine,M.line.dash,h.mlw||M.line.width).style("opacity",y.selectedpoints&&!h.selected?x:1)}}),p(l,y,t),l.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(a.fill,y.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=y.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}H.exports={style:r}},22332:function(H,j,e){var g=e(74996),P=e(45464),a=e(86968).u,x=e(21776).Ks,w=e(21776).Gw,v=e(92880).extendFlat;H.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:w({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:x({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(H,j,e){var g=e(7316);j.name="funnelarea",j.plot=function(P,a,x,w){g.plotBasePlot(j.name,P,a,x,w)},j.clean=function(P,a,x,w){g.cleanBasePlot(j.name,P,a,x,w)}},54e3:function(H,j,e){var g=e(45768);function P(x,w){return g.calc(x,w)}function a(x){g.crossTraceCalc(x,{type:"funnelarea"})}H.exports={calc:P,crossTraceCalc:a}},92688:function(H,j,e){var g=e(3400),P=e(22332),a=e(86968).Q,x=e(31508).handleText,w=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;H.exports=function(r,t,i,n){function u(S,C){return g.coerce(r,t,P,S,C)}var f=u("labels"),l=u("values"),y=w(f,l),h=y.len;if(t._hasLabels=y.hasLabels,t._hasValues=y.hasValues,!t._hasLabels&&t._hasValues&&(u("label0"),u("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,u),u("scalegroup");var M=u("text"),c=u("texttemplate"),o;if(c||(o=u("textinfo",Array.isArray(M)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),c||o&&o!=="none"){var d=u("textposition");x(r,t,n,u,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else o==="none"&&u("textposition","none");a(t,n,u);var T=u("title.text");T&&(u("title.position"),g.coerceFont(u,"title.font",n.font)),u("aspectratio"),u("baseratio")}},62396:function(H,j,e){H.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(H,j,e){var g=e(85204).hiddenlabels;H.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(H,j,e){var g=e(3400),P=e(61280);H.exports=function(x,w){function v(p,r){return g.coerce(x,w,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",w.colorway),v("extendfunnelareacolors")}},39472:function(H,j,e){var g=e(33428),P=e(43616),a=e(3400),x=a.strScale,w=a.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,u=e(69656),f=e(37820),l=f.attachFxHandlers,y=f.determineInsideTextFont,h=f.layoutAreas,M=f.prerenderTitles,c=f.positionTitleOutside,o=f.formatSliceLabel;H.exports=function(m,E){var b=m._context.staticPlot,s=m._fullLayout;n("funnelarea",s),M(E,m),h(E,s._size),a.makeTraceGroups(s._funnelarealayer,E,"trace").each(function(L){var A=g.select(this),k=L[0],_=k.trace;S(L),A.each(function(){var U=g.select(this).selectAll("g.slice").data(L);U.enter().append("g").classed("slice",!0),U.exit().remove(),U.each(function(z,B){if(z.hidden){g.select(this).selectAll("path,g").remove();return}z.pointNumber=z.i,z.curveNumber=_.index;var N=k.cx,V=k.cy,W=g.select(this),Q=W.selectAll("path.surface").data([z]);Q.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),W.call(l,m,L);var re="M"+(N+z.TR[0])+","+(V+z.TR[1])+d(z.TR,z.BR)+d(z.BR,z.BL)+d(z.BL,z.TL)+"Z";Q.attr("d",re),o(m,z,k);var ne=u.castOption(_.textposition,z.pts),fe=W.selectAll("g.slicetext").data(z.text&&ne!=="none"?[0]:[]);fe.enter().append("g").classed("slicetext",!0),fe.exit().remove(),fe.each(function(){var $=a.ensureSingle(g.select(this),"text","",function(le){le.attr("data-notex",1)}),X=a.ensureUniformFontSize(m,y(_,z,s.font));$.text(z.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,X).call(v.convertToTspans,m);var oe=P.bBox($.node()),Y,ee,se,q=Math.min(z.BL[1],z.BR[1])+V,K=Math.max(z.TL[1],z.TR[1])+V;ee=Math.max(z.TL[0],z.BL[0])+N,se=Math.min(z.TR[0],z.BR[0])+N,Y=r(ee,se,q,K,oe,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Y.fontSize=X.size,i(_.type,Y,s),L[B].transform=Y,a.setTransormAndDisplay($,Y)})});var F=g.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var z=a.ensureSingle(g.select(this),"text","",function(V){V.attr("data-notex",1)}),B=_.title.text;_._meta&&(B=a.templateString(B,_._meta)),z.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,_.title.font).call(v.convertToTspans,m);var N=c(k,s._size);z.attr("transform",w(N.x,N.y)+x(Math.min(1,N.scale))+w(N.tx,N.ty))})})})};function d(C,m){var E=m[0]-C[0],b=m[1]-C[1];return"l"+E+","+b}function T(C,m){return[.5*(C[0]+m[0]),.5*(C[1]+m[1])]}function S(C){if(!C.length)return;var m=C[0],E=m.trace,b=E.aspectratio,s=E.baseratio;s>.999&&(s=.999);var L=Math.pow(s,2),A=m.vTotal,k=A*L/(1-L),_=A,U=k/A;function F(){var ie=Math.sqrt(U);return{x:ie,y:-ie}}function z(){var ie=F();return[ie.x,ie.y]}var B,N=[];N.push(z());var V,W;for(V=C.length-1;V>-1;V--)if(W=C[V],!W.hidden){var Q=W.v/_;U+=Q,N.push(z())}var re=1/0,ne=-1/0;for(V=0;V<N.length;V++)B=N[V],re=Math.min(re,B[1]),ne=Math.max(ne,B[1]);for(V=0;V<N.length;V++)N[V][1]-=(ne+re)/2;var fe=N[N.length-1][0],$=m.r,X=(ne-re)/2,oe=$/fe,Y=$/X*b;for(m.r=Y*X,V=0;V<N.length;V++)N[V][0]*=oe,N[V][1]*=Y;B=N[0];var ee=[-B[0],B[1]],se=[B[0],B[1]],q=0;for(V=C.length-1;V>-1;V--)if(W=C[V],!W.hidden){q+=1;var K=N[q][0],le=N[q][1];W.TL=[-K,le],W.TR=[K,le],W.BL=ee,W.BR=se,W.pxmid=T(W.TR,W.BR),ee=W.TL,se=W.TR}}},62096:function(H,j,e){var g=e(33428),P=e(10528),a=e(82744).resizeText;H.exports=function(w){var v=w._fullLayout._funnelarealayer.selectAll(".trace");a(w,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,i=g.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){g.select(this).call(P,n,t,w)})})}},83328:function(H,j,e){var g=e(52904),P=e(45464),a=e(25376),x=e(29736).axisHoverFormat,w=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;H.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},g.x,{impliedEdits:{xtype:"array"}}),x0:r({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},g.y,{impliedEdits:{ytype:"array"}}),y0:r({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z",1),hovertemplate:w(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(H,j,e){var g=e(24040),P=e(3400),a=e(54460),x=e(1220),w=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),i=e(11240),n=e(35744),u=e(39032).BADNUM;H.exports=function(h,M){var c=a.getFromId(h,M.xaxis||"x"),o=a.getFromId(h,M.yaxis||"y"),d=g.traceIs(M,"contour"),T=g.traceIs(M,"histogram"),S=g.traceIs(M,"gl2d"),C=d?"best":M.zsmooth,m,E,b,s,L,A,k,_,U,F,z;if(c._minDtick=0,o._minDtick=0,T)z=w(h,M),s=z.orig_x,m=z.x,E=z.x0,b=z.dx,_=z.orig_y,L=z.y,A=z.y0,k=z.dy,U=z.z;else{var B=M.z;P.isArray1D(B)?(p(M,c,o,"x","y",["z"]),m=M._x,L=M._y,B=M._z):(s=M.x?c.makeCalcdata(M,"x"):[],_=M.y?o.makeCalcdata(M,"y"):[],m=x(M,c,"x",s).vals,L=x(M,o,"y",_).vals,M._x=m,M._y=L),E=M.x0,b=M.dx,A=M.y0,k=M.dy,U=r(B,M,c,o)}(c.rangebreaks||o.rangebreaks)&&(U=l(m,L,U),T||(m=f(m),L=f(L),M._x=m,M._y=L)),!T&&(d||M.connectgaps)&&(M._emptypoints=i(U),t(U,M._emptypoints));function N(oe){C=M._input.zsmooth=M.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+oe)}function V(oe){if(oe.length>1){var Y=(oe[oe.length-1]-oe[0])/(oe.length-1),ee=Math.abs(Y/100);for(F=0;F<oe.length-1;F++)if(Math.abs(oe[F+1]-oe[F]-Y)>ee)return!1}return!0}M._islinear=!1,c.type==="log"||o.type==="log"?C==="fast"&&N("log axis found"):V(m)?V(L)?M._islinear=!0:C==="fast"&&N("y scale is not linear"):C==="fast"&&N("x scale is not linear");var W=P.maxRowLength(U),Q=M.xtype==="scaled"?"":m,re=n(M,Q,E,b,W,c),ne=M.ytype==="scaled"?"":L,fe=n(M,ne,A,k,U.length,o);S||(M._extremes[c._id]=a.findExtremes(c,re),M._extremes[o._id]=a.findExtremes(o,fe));var $={x:re,y:fe,z:U,text:M._text||M.text,hovertext:M._hovertext||M.hovertext};if(M.xperiodalignment&&s&&($.orig_x=s),M.yperiodalignment&&_&&($.orig_y=_),Q&&Q.length===re.length-1&&($.xCenter=Q),ne&&ne.length===fe.length-1&&($.yCenter=ne),T&&($.xRanges=z.xRanges,$.yRanges=z.yRanges,$.pts=z.pts),d||v(h,M,{vals:U,cLetter:"z"}),d&&M.contours&&M.contours.coloring==="heatmap"){var X={type:M.type==="contour"?"heatmap":"histogram2d",xcalendar:M.xcalendar,ycalendar:M.ycalendar};$.xfill=n(X,Q,E,b,W,c),$.yfill=n(X,ne,A,k,U.length,o)}return[$]};function f(y){for(var h=[],M=y.length,c=0;c<M;c++){var o=y[c];o!==u&&h.push(o)}return h}function l(y,h,M){for(var c=[],o=-1,d=0;d<M.length;d++)if(h[d]!==u){o++,c[o]=[];for(var T=0;T<M[d].length;T++)y[T]!==u&&c[o].push(M[d][T])}return c}},26136:function(H,j,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM;H.exports=function(w,v,p,r){var t,i,n,u,f,l;function y(T){if(g(T))return+T}if(v&&v.transpose){for(t=0,f=0;f<w.length;f++)t=Math.max(t,w[f].length);if(t===0)return!1;n=function(T){return T.length},u=function(T,S,C){return(T[C]||[])[S]}}else t=w.length,n=function(T,S){return T[S].length},u=function(T,S,C){return(T[S]||[])[C]};var h=function(T,S,C){return S===a||C===a?a:u(T,S,C)};function M(T){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&T&&T.type==="category"&&v["_"+T._id.charAt(0)].length){var S=T._id.charAt(0),C={},m=v["_"+S+"CategoryMap"]||v[S];for(f=0;f<m.length;f++)C[m[f]]=f;return function(E){var b=C[T._categories[E]];return b+1?b:a}}else return P.identity}var c=M(p),o=M(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(f=0;f<t;f++)for(p&&p.type==="category"?i=p._categories.length:i=n(w,f),d[f]=new Array(i),l=0;l<i;l++)d[f][l]=y(h(w,o(f),c(l)));return d}},96288:function(H){H.exports={min:"zmin",max:"zmax"}},2872:function(H,j,e){var g=e(3400),P=e(39032).BADNUM,a=e(1220);H.exports=function(w,v,p,r,t,i){var n=w._length,u=v.makeCalcdata(w,r),f=p.makeCalcdata(w,t);u=a(w,v,r,u).vals,f=a(w,p,t,f).vals;var l=w.text,y=l!==void 0&&g.isArray1D(l),h=w.hovertext,M=h!==void 0&&g.isArray1D(h),c,o,d=g.distinctVals(u),T=d.vals,S=g.distinctVals(f),C=S.vals,m=[],E,b,s=C.length,L=T.length;for(c=0;c<i.length;c++)m[c]=g.init2dArray(s,L);y&&(E=g.init2dArray(s,L)),M&&(b=g.init2dArray(s,L));var A=g.init2dArray(s,L);for(c=0;c<n;c++)if(u[c]!==P&&f[c]!==P){var k=g.findBin(u[c]+d.minDiff/2,T),_=g.findBin(f[c]+S.minDiff/2,C);for(o=0;o<i.length;o++){var U=i[o],F=w[U],z=m[o];z[_][k]=F[c],A[_][k]=c}y&&(E[_][k]=l[c]),M&&(b[_][k]=h[c])}for(w["_"+r]=T,w["_"+t]=C,o=0;o<i.length;o++)w["_"+i[o]]=m[o];y&&(w._text=E),M&&(w._hovertext=b),v&&v.type==="category"&&(w["_"+r+"CategoryMap"]=T.map(function(B){return v._categories[B]})),p&&p.type==="category"&&(w["_"+t+"CategoryMap"]=C.map(function(B){return p._categories[B]})),w._after2before=A}},24480:function(H,j,e){var g=e(3400),P=e(51264),a=e(39096),x=e(31147),w=e(82748),v=e(27260),p=e(83328);H.exports=function(t,i,n,u){function f(y,h){return g.coerce(t,i,p,y,h)}var l=P(t,i,f,u);if(!l){i.visible=!1;return}x(t,i,u,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),a(f,u),w(t,i,f,u),f("hoverongaps"),f("connectgaps",g.isArray1D(i.z)&&i.zsmooth!==!1),v(t,i,u,f,{prefix:"",cLetter:"z"})}},11240:function(H,j,e){var g=e(3400).maxRowLength;H.exports=function(a){var x=[],w={},v=[],p=a[0],r=[],t=[0,0,0],i=g(a),n,u,f,l,y,h,M,c;for(u=0;u<a.length;u++)for(n=r,r=p,p=a[u+1]||[],f=0;f<i;f++)r[f]===void 0&&(h=(r[f-1]!==void 0?1:0)+(r[f+1]!==void 0?1:0)+(n[f]!==void 0?1:0)+(p[f]!==void 0?1:0),h?(u===0&&h++,f===0&&h++,u===a.length-1&&h++,f===r.length-1&&h++,h<4&&(w[[u,f]]=[u,f,h]),x.push([u,f,h])):v.push([u,f]));for(;v.length;){for(M={},c=!1,y=v.length-1;y>=0;y--)l=v[y],u=l[0],f=l[1],h=((w[[u-1,f]]||t)[2]+(w[[u+1,f]]||t)[2]+(w[[u,f-1]]||t)[2]+(w[[u,f+1]]||t)[2])/20,h&&(M[l]=[u,f,h],v.splice(y,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in M)w[l]=M[l],x.push(M[l])}return x.sort(function(o,d){return d[2]-o[2]})}},55512:function(H,j,e){var g=e(93024),P=e(3400),a=P.isArrayOrTypedArray,x=e(54460),w=e(8932).extractOpts;H.exports=function(p,r,t,i,n){n||(n={});var u=n.isContour,f=p.cd[0],l=f.trace,y=p.xa,h=p.ya,M=f.x,c=f.y,o=f.z,d=f.xCenter,T=f.yCenter,S=f.zmask,C=l.zhoverformat,m=M,E=c,b,s,L,A;if(p.index!==!1){try{L=Math.round(p.index[1]),A=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(L<0||L>=o[0].length||A<0||A>o.length)return}else{if(g.inbox(r-M[0],r-M[M.length-1],0)>0||g.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(u){var k;for(m=[2*M[0]-M[1]],k=1;k<M.length;k++)m.push((M[k]+M[k-1])/2);for(m.push([2*M[M.length-1]-M[M.length-2]]),E=[2*c[0]-c[1]],k=1;k<c.length;k++)E.push((c[k]+c[k-1])/2);E.push([2*c[c.length-1]-c[c.length-2]])}L=Math.max(0,Math.min(m.length-2,P.findBin(r,m))),A=Math.max(0,Math.min(E.length-2,P.findBin(t,E)))}var _=y.c2p(M[L]),U=y.c2p(M[L+1]),F=h.c2p(c[A]),z=h.c2p(c[A+1]),B,N;u?(B=f.orig_x||M,N=f.orig_y||c,U=_,b=B[L],z=F,s=N[A]):(B=f.orig_x||d||M,N=f.orig_y||T||c,b=d?B[L]:(B[L]+B[L+1])/2,s=T?N[A]:(N[A]+N[A+1])/2,y&&y.type==="category"&&(b=M[L]),h&&h.type==="category"&&(s=c[A]),l.zsmooth&&(_=U=y.c2p(b),F=z=h.c2p(s)));var V=o[A][L];if(S&&!S[A][L]&&(V=void 0),!(V===void 0&&!l.hoverongaps)){var W;a(f.hovertext)&&a(f.hovertext[A])?W=f.hovertext[A][L]:a(f.text)&&a(f.text[A])&&(W=f.text[A][L]);var Q=w(l),re={type:"linear",range:[Q.min,Q.max],hoverformat:C,_separators:y._separators,_numFormat:y._numFormat},ne=x.tickText(re,V,"hover").text;return[P.extendFlat(p,{index:l._after2before?l._after2before[A][L]:[A,L],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:_,x1:U,y0:F,y1:z,xLabelVal:b,yLabelVal:s,zLabelVal:V,zLabel:ne,text:W})]}}},81932:function(H,j,e){H.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(H,j,e){var g=e(3400),P=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function x(v){return .5-.25*Math.min(1,v*.5)}H.exports=function(p,r){var t=1,i;for(w(p,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&t>P;i++)t=w(p,r,x(t));return t>P&&g.log("interp2d didn't converge quickly",t),p};function w(v,p,r){var t=0,i,n,u,f,l,y,h,M,c,o,d,T,S;for(f=0;f<p.length;f++){for(i=p[f],n=i[0],u=i[1],d=v[n][u],o=0,c=0,l=0;l<4;l++)y=a[l],h=v[n+y[0]],h&&(M=h[u+y[1]],M!==void 0&&(o===0?T=S=M:(T=Math.min(T,M),S=Math.max(S,M)),c++,o+=M));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][u]=o/c,d===void 0?c<4&&(t=1):(v[n][u]=(1+r)*v[n][u]-r*d,S>T&&(t=Math.max(t,Math.abs(v[n][u]-d)/(S-T))))}return t}},39096:function(H,j,e){var g=e(3400);H.exports=function(a,x){a("texttemplate");var w=g.extendFlat({},x.font,{color:"auto",size:"auto"});g.coerceFont(a,"textfont",w)}},35744:function(H,j,e){var g=e(24040),P=e(3400).isArrayOrTypedArray;H.exports=function(x,w,v,p,r,t){var i=[],n=g.traceIs(x,"contour"),u=g.traceIs(x,"histogram"),f=g.traceIs(x,"gl2d"),l,y,h,M=P(w)&&w.length>1;if(M&&!u&&t.type!=="category"){var c=w.length;if(c<=r){if(n||f)i=Array.from(w).slice(0,r);else if(r===1)t.type==="log"?i=[.5*w[0],2*w[0]]:i=[w[0]-.5,w[0]+.5];else if(t.type==="log"){for(i=[Math.pow(w[0],1.5)/Math.pow(w[1],.5)],h=1;h<c;h++)i.push(Math.sqrt(w[h-1]*w[h]));i.push(Math.pow(w[c-1],1.5)/Math.pow(w[c-2],.5))}else{for(i=[1.5*w[0]-.5*w[1]],h=1;h<c;h++)i.push((w[h-1]+w[h])*.5);i.push(1.5*w[c-1]-.5*w[c-2])}if(c<r){var o=i[i.length-1],d;if(t.type==="log")for(d=o/i[i.length-2],h=c;h<r;h++)o*=d,i.push(o);else for(d=o-i[i.length-2],h=c;h<r;h++)o+=d,i.push(o)}}else return n?w.slice(0,r):w.slice(0,r+1)}else{var T=x[t._id.charAt(0)+"calendar"];if(u)l=t.r2c(v,0,T);else if(P(w)&&w.length===1)l=w[0];else if(v===void 0)l=0;else{var S=t.type==="log"?t.d2c:t.r2c;l=S(v,0,T)}for(y=p||1,h=n||f?0:-.5;h<r;h++)i.push(l+y*h)}return i}},41420:function(H,j,e){var g=e(33428),P=e(49760),a=e(24040),x=e(43616),w=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),i=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,u=e(9616),f=e(84284),l=f.LINE_SPACING,y=e(9188),h=e(2264).STYLE,M="heatmap-label";function c(C){return C.selectAll("g."+M)}function o(C){c(C).remove()}H.exports=function(C,m,E,b){var s=m.xaxis,L=m.yaxis;v.makeTraceGroups(b,E,"hm").each(function(A){var k=g.select(this),_=A[0],U=_.trace,F=U.xgap||0,z=U.ygap||0,B=_.z,N=_.x,V=_.y,W=_.xCenter,Q=_.yCenter,re=a.traceIs(U,"contour"),ne=re?"best":U.zsmooth,fe=B.length,$=v.maxRowLength(B),X=!1,oe=!1,Y,ee,se,q,K,le,ie,he;for(le=0;Y===void 0&&le<N.length-1;)Y=s.c2p(N[le]),le++;for(le=N.length-1;ee===void 0&&le>0;)ee=s.c2p(N[le]),le--;for(ee<Y&&(se=ee,ee=Y,Y=se,X=!0),le=0;q===void 0&&le<V.length-1;)q=L.c2p(V[le]),le++;for(le=V.length-1;K===void 0&&le>0;)K=L.c2p(V[le]),le--;K<q&&(se=q,q=K,K=se,oe=!0),re&&(W=N,Q=V,N=_.xfill,V=_.yfill);var ye="default";if(ne?ye=ne==="best"?"smooth":"fast":U._islinear&&F===0&&z===0&&y()&&(ye="fast"),ye!=="fast"){var Ce=ne==="best"?0:.5;Y=Math.max(-Ce*s._length,Y),ee=Math.min((1+Ce)*s._length,ee),q=Math.max(-Ce*L._length,q),K=Math.min((1+Ce)*L._length,K)}var Ae=Math.round(ee-Y),ke=Math.round(K-q),we=Y>=s._length||ee<=0||q>=L._length||K<=0;if(we){var Ee=k.selectAll("image").data([]);Ee.exit().remove(),o(k);return}var xe,Re;ye==="fast"?(xe=$,Re=fe):(xe=Ae,Re=ke);var Ve=document.createElement("canvas");Ve.width=xe,Ve.height=Re;var Ue=Ve.getContext("2d",{willReadFrequently:!0}),Be=n(U,{noNumericCheck:!0,returnArray:!0}),Xe,ut;ye==="fast"?(Xe=X?function(on){return $-1-on}:v.identity,ut=oe?function(on){return fe-1-on}:v.identity):(Xe=function(on){return v.constrain(Math.round(s.c2p(N[on])-Y),0,Ae)},ut=function(on){return v.constrain(Math.round(L.c2p(V[on])-q),0,ke)});var dt=ut(0),at=[dt,dt],We=X?0:1,rt=oe?0:1,st=0,ht=0,vt=0,At=0,tt,_e,je,Ke,He;function Ie(on,yn){if(on!==void 0){var mn=Be(on);return mn[0]=Math.round(mn[0]),mn[1]=Math.round(mn[1]),mn[2]=Math.round(mn[2]),st+=yn,ht+=mn[0]*yn,vt+=mn[1]*yn,At+=mn[2]*yn,mn}return[0,0,0,0]}function be(on,yn,mn,Ln){var zn=on[mn.bin0];if(zn===void 0)return Ie(void 0,1);var aa=on[mn.bin1],ha=yn[mn.bin0],pa=yn[mn.bin1],ua=aa-zn||0,na=ha-zn||0,Tr;return aa===void 0?pa===void 0?Tr=0:ha===void 0?Tr=2*(pa-zn):Tr=(2*pa-ha-zn)*2/3:pa===void 0?ha===void 0?Tr=0:Tr=(2*zn-aa-ha)*2/3:ha===void 0?Tr=(2*pa-aa-zn)*2/3:Tr=pa+zn-aa-ha,Ie(zn+mn.frac*ua+Ln.frac*(na+mn.frac*Tr))}if(ye!=="default"){var me=0,Me;try{Me=new Uint8Array(xe*Re*4)}catch{Me=new Array(xe*Re*4)}if(ye==="smooth"){var Te=W||N,ze=Q||V,Je=new Array(Te.length),nt=new Array(ze.length),pt=new Array(Ae),yt=W?T:d,Yt=Q?T:d,Xt,St,kt;for(le=0;le<Te.length;le++)Je[le]=Math.round(s.c2p(Te[le])-Y);for(le=0;le<ze.length;le++)nt[le]=Math.round(L.c2p(ze[le])-q);for(le=0;le<Ae;le++)pt[le]=yt(le,Je);for(ie=0;ie<ke;ie++)for(Xt=Yt(ie,nt),St=B[Xt.bin0],kt=B[Xt.bin1],le=0;le<Ae;le++,me+=4)He=be(St,kt,pt[le],Xt),S(Me,me,He)}else for(ie=0;ie<fe;ie++)for(Ke=B[ie],at=ut(ie),le=0;le<$;le++)He=Ie(Ke[le],1),me=(at*$+Xe(le))*4,S(Me,me,He);var Kt=Ue.createImageData(xe,Re);try{Kt.data.set(Me)}catch{var mr=Kt.data,mt=mr.length;for(ie=0;ie<mt;ie++)mr[ie]=Me[ie]}Ue.putImageData(Kt,0,0)}else{var Zt=Math.floor(F/2),Qt=Math.floor(z/2);for(ie=0;ie<fe;ie++)if(Ke=B[ie],at.reverse(),at[rt]=ut(ie+1),!(at[0]===at[1]||at[0]===void 0||at[1]===void 0))for(_e=Xe(0),tt=[_e,_e],le=0;le<$;le++)tt.reverse(),tt[We]=Xe(le+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0)&&(je=Ke[le],He=Ie(je,(tt[1]-tt[0])*(at[1]-at[0])),Ue.fillStyle="rgba("+He.join(",")+")",Ue.fillRect(tt[0]+Zt,at[0]+Qt,tt[1]-tt[0]-F,at[1]-at[0]-z))}ht=Math.round(ht/st),vt=Math.round(vt/st),At=Math.round(At/st);var yr=P("rgb("+ht+","+vt+","+At+")");C._hmpixcount=(C._hmpixcount||0)+st,C._hmlumcount=(C._hmlumcount||0)+st*yr.getLuminance();var sr=k.selectAll("image").data(A);sr.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),sr.attr({height:ke,width:Ae,x:Y,y:q,"xlink:href":Ve.toDataURL("image/png")}),ye==="fast"&&!ne&&sr.attr("style",h),o(k);var bt=U.texttemplate;if(bt){var lt=i(U),Tt={type:"linear",range:[lt.min,lt.max],_separators:s._separators,_numFormat:s._numFormat},Ct=U.type==="histogram2dcontour",It=U.type==="contour",Dt=It?1:0,Vt=It?fe-1:fe,Bt=It?1:0,$t=It?$-1:$,fr=[];for(le=Dt;le<Vt;le++){var cr;if(It)cr=_.y[le];else if(Ct){if(le===0||le===fe-1)continue;cr=_.y[le]}else if(_.yCenter)cr=_.yCenter[le];else{if(le+1===fe&&_.y[le+1]===void 0)continue;cr=(_.y[le]+_.y[le+1])/2}var dr=Math.round(L.c2p(cr));if(!(0>dr||dr>L._length))for(ie=Bt;ie<$t;ie++){var Ye;if(It)Ye=_.x[ie];else if(Ct){if(ie===0||ie===$-1)continue;Ye=_.x[ie]}else if(_.xCenter)Ye=_.xCenter[ie];else{if(ie+1===$&&_.x[ie+1]===void 0)continue;Ye=(_.x[ie]+_.x[ie+1])/2}var Ge=Math.round(s.c2p(Ye));if(!(0>Ge||Ge>s._length)){var zt=r({x:Ye,y:cr},U,C._fullLayout);zt.x=Ye,zt.y=cr;var Ft=_.z[le][ie];Ft===void 0?(zt.z="",zt.zLabel=""):(zt.z=Ft,zt.zLabel=w.tickText(Tt,Ft,"hover").text);var Jt=_.text&&_.text[le]&&_.text[le][ie];(Jt===void 0||Jt===!1)&&(Jt=""),zt.text=Jt;var tr=v.texttemplateString(bt,zt,C._fullLayout._d3locale,zt,U._meta||{});if(tr){var ur=tr.split("<br>"),nr=ur.length,Nt=0;for(he=0;he<nr;he++)Nt=Math.max(Nt,ur[he].length);fr.push({l:nr,c:Nt,t:tr,x:Ge,y:dr,z:Ft})}}}}var hr=U.textfont,gr=hr.family,br=hr.size,vr=C._fullLayout.font.size;if(!br||br==="auto"){var Gr=1/0,Dr=1/0,_r=0,hn=0;for(he=0;he<fr.length;he++){var nn=fr[he];if(_r=Math.max(_r,nn.l),hn=Math.max(hn,nn.c),he<fr.length-1){var Pn=fr[he+1],Cn=Math.abs(Pn.x-nn.x),Ar=Math.abs(Pn.y-nn.y);Cn&&(Gr=Math.min(Gr,Cn)),Ar&&(Dr=Math.min(Dr,Ar))}}!isFinite(Gr)||!isFinite(Dr)?br=vr:(Gr-=F,Dr-=z,Gr/=hn,Dr/=_r,Gr/=l/2,Dr/=l,br=Math.min(Math.floor(Gr),Math.floor(Dr),vr))}if(br<=0||!isFinite(br))return;var Pr=function(on){return on.x},Wr=function(on){return on.y-br*(on.l*l/2-1)},Vr=c(k).data(fr);Vr.enter().append("g").classed(M,1).append("text").attr("text-anchor","middle").each(function(on){var yn=g.select(this),mn=hr.color;(!mn||mn==="auto")&&(mn=t.contrast(on.z===void 0?C._fullLayout.plot_bgcolor:"rgba("+Be(on.z).join()+")")),yn.attr("data-notex",1).call(p.positionText,Pr(on),Wr(on)).call(x.font,gr,br,mn).text(on.t).call(p.convertToTspans,C)})}})};function d(C,m){var E=m.length-2,b=v.constrain(v.findBin(C,m),0,E),s=m[b],L=m[b+1],A=v.constrain(b+(C-s)/(L-s)-.5,0,E),k=Math.round(A),_=Math.abs(A-k);return!A||A===E||!_?{bin0:k,bin1:k,frac:0}:{bin0:k,frac:_,bin1:Math.round(k+_/(A-k))}}function T(C,m){var E=m.length-1,b=v.constrain(v.findBin(C,m),0,E),s=m[b],L=m[b+1],A=(C-s)/(L-s)||0;return A<=0?{bin0:b,bin1:b,frac:0}:A<.5?{bin0:b,bin1:b+1,frac:A}:{bin0:b+1,bin1:b,frac:1-A}}function S(C,m,E){C[m]=E[0],C[m+1]=E[1],C[m+2]=E[2],C[m+3]=Math.round(E[3]*255)}},41648:function(H,j,e){var g=e(33428);H.exports=function(a){g.select(a).selectAll(".hm image").style("opacity",function(x){return x.trace.opacity})}},82748:function(H){H.exports=function(e,g,P){var a=P("zsmooth");a===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(H,j,e){var g=e(38248),P=e(3400),a=e(24040);H.exports=function(p,r,t,i,n,u){var f=t("z");n=n||"x",u=u||"y";var l,y;if(f===void 0||!f.length)return 0;if(P.isArray1D(f)){l=t(n),y=t(u);var h=P.minRowLength(l),M=P.minRowLength(y);if(h===0||M===0)return 0;r._length=Math.min(h,M,f.length)}else{if(l=x(n,t),y=x(u,t),!w(f))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var c=a.getComponentMethod("calendars","handleTraceDefaults");return c(p,r,[n,u],i),!0};function x(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function w(v){for(var p=!0,r=!1,t=!1,i,n=0;n<v.length;n++){if(i=v[n],!P.isArrayOrTypedArray(i)){p=!1;break}i.length>0&&(r=!0);for(var u=0;u<i.length;u++)if(g(i[u])){t=!0;break}}return p&&r&&t}},74512:function(H,j,e){for(var g=e(83328),P=e(49084),a=e(92880).extendFlat,x=e(67824).overrideAll,w=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<w.length;p++){var r=w[p];v[r]=g[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,P("",{cLetter:"z",autoColorDflt:!1})),H.exports=x(v,"calc","nested")},84656:function(H,j,e){var g=e(67792).gl_heatmap2d,P=e(54460),a=e(43080);function x(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(r.glplot,this.options),this.heatmap._trace=this}var w=x.prototype;w.handlePick=function(r){var t=this.options,i=t.shape,n=r.pointId,u=n%i[0],f=Math.floor(n/i[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[u],t.y[f],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[f,u],hoverinfo:this.hoverinfo}},w.update=function(r,t){var i=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=i.z;this.options.z=[].concat.apply([],n);var u=n[0].length,f=n.length;this.options.shape=[u,f],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var y=this.scene.xaxis,h=this.scene.yaxis,M,c;r.zsmooth===!1&&(M={ppad:i.x[1]-i.x[0]},c={ppad:i.y[1]-i.y[0]}),r._extremes[y._id]=P.findExtremes(y,i.x,M),r._extremes[h._id]=P.findExtremes(h,i.y,c)},w.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,i=r.zmin,n=r.zmax,u=t.length,f=new Array(u),l=new Array(4*u),y=0;y<u;y++){var h=t[y],M=a(h[1]);f[y]=i+h[0]*(n-i);for(var c=0;c<4;c++)l[4*y+c]=M[c]}return{colorLevels:f,colorValues:l}}function p(r,t,i){var n=new x(r,t.uid);return n.update(t,i),n}H.exports=p},86464:function(H,j,e){var g=e(3400),P=e(51264),a=e(27260),x=e(74512);H.exports=function(v,p,r,t){function i(u,f){return g.coerce(v,p,x,u,f)}var n=P(v,p,i,t);if(!n){p.visible=!1;return}i("text"),i("zsmooth"),a(v,p,t,i,{prefix:"",cLetter:"z"})}},45536:function(H,j,e){H.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(H,j,e){var g=e(20832),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(21776).Gw,w=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},g.text,{}),hovertext:r({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:p.eventDataKeys}),texttemplate:x({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},g.textposition,{arrayOk:!1}),textfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir}}},2e3:function(H){H.exports=function(e,g){for(var P=e.length,a=0,x=0;x<P;x++)g[x]?(e[x]/=g[x],a+=e[x]):e[x]=null;return a}},11120:function(H){H.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(H,j,e){var g=e(38248);H.exports={count:function(P,a,x){return x[P]++,1},sum:function(P,a,x,w){var v=w[a];return g(v)?(v=Number(v),x[P]+=v,v):0},avg:function(P,a,x,w,v){var p=w[a];return g(p)&&(p=Number(p),x[P]+=p,v[P]++),0},min:function(P,a,x,w){var v=w[a];if(g(v))if(v=Number(v),g(x[P])){if(x[P]>v){var p=v-x[P];return x[P]=v,p}}else return x[P]=v,v;return 0},max:function(P,a,x,w){var v=w[a];if(g(v))if(v=Number(v),g(x[P])){if(x[P]<v){var p=v-x[P];return x[P]=v,p}}else return x[P]=v,v;return 0}}},67712:function(H,j,e){var g=e(39032),P=g.ONEAVGYEAR,a=g.ONEAVGMONTH,x=g.ONEDAY,w=g.ONEHOUR,v=g.ONEMIN,p=g.ONESEC,r=e(54460).tickIncrement;H.exports=function(l,y,h,M,c){var o=-1.1*y,d=-.1*y,T=l-d,S=h[0],C=h[1],m=Math.min(t(S+d,S+T,M,c),t(C+d,C+T,M,c)),E=Math.min(t(S+o,S+d,M,c),t(C+o,C+d,M,c)),b,s;if(m>E&&E<Math.abs(C-S)/4e3?(b=m,s=!1):(b=Math.min(m,E),s=!0),M.type==="date"&&b>x){var L=b===P?1:6,A=b===P?"M12":"M1";return function(k,_){var U=M.c2d(k,P,c),F=U.indexOf("-",L);F>0&&(U=U.substr(0,F));var z=M.d2c(U,0,c);if(z<k){var B=r(z,A,!1,c);(z+B)/2<k+l&&(z=B)}return _&&s?r(z,A,!0,c):z}}return function(k,_){var U=b*Math.round(k/b);return U+b/10<k&&U+b*.9<k+l&&(U+=b),_&&s&&(U-=b),U}};function t(f,l,y,h){if(f*l<=0)return 1/0;for(var M=Math.abs(l-f),c=y.type==="date",o=i(M,c),d=0;d<10;d++){var T=i(o*80,c);if(o===T)break;if(n(T,f,l,c,y,h))o=T;else break}return o}function i(f,l){return l&&f>p?f>x?f>P*1.1?P:f>a*1.1?a:x:f>w?w:f>v?v:p:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function n(f,l,y,h,M,c){if(h&&f>x){var o=u(l,M,c),d=u(y,M,c),T=f===P?0:1;return o[T]!==d[T]}return Math.floor(y/f)-Math.floor(l/f)>.1}function u(f,l,y){var h=l.c2d(f,P,y).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(H,j,e){var g=e(38248),P=e(3400),a=e(24040),x=e(54460),w=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function i(y,h){var M=[],c=[],o=h.orientation==="h",d=x.getFromId(y,o?h.yaxis:h.xaxis),T=o?"y":"x",S={x:"y",y:"x"}[T],C=h[T+"calendar"],m=h.cumulative,E,b=n(y,h,d,T),s=b[0],L=b[1],A=typeof s.size=="string",k=[],_=A?k:s,U=[],F=[],z=[],B=0,N=h.histnorm,V=h.histfunc,W=N.indexOf("density")!==-1,Q,re,ne;m.enabled&&W&&(N=N.replace(/ ?density$/,""),W=!1);var fe=V==="max"||V==="min",$=fe?null:0,X=v.count,oe=p[N],Y=!1,ee=function(Ue){return d.r2c(Ue,0,C)},se;for(P.isArrayOrTypedArray(h[S])&&V!=="count"&&(se=h[S],Y=V==="avg",X=v[V]),E=ee(s.start),re=ee(s.end)+(E-x.tickIncrement(E,s.size,!1,C))/1e6;E<re&&M.length<1e6&&(Q=x.tickIncrement(E,s.size,!1,C),M.push((E+Q)/2),c.push($),z.push([]),k.push(E),W&&U.push(1/(Q-E)),Y&&F.push(0),!(Q<=E));)E=Q;k.push(E),!A&&d.type==="date"&&(_={start:ee(_.start),end:ee(_.end),size:_.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var q=h["_"+T+"bingroup"],K={leftGap:1/0,rightGap:1/0};q&&(y._fullLayout._roundFnOpts[q]||(y._fullLayout._roundFnOpts[q]=K),K=y._fullLayout._roundFnOpts[q]);var le=c.length,ie=!0,he=K.leftGap,ye=K.rightGap,Ce={};for(E=0;E<L.length;E++){var Ae=L[E];ne=P.findBin(Ae,_),ne>=0&&ne<le&&(B+=X(ne,E,c,se,F),ie&&z[ne].length&&Ae!==L[z[ne][0]]&&(ie=!1),z[ne].push(E),Ce[E]=ne,he=Math.min(he,Ae-k[ne]),ye=Math.min(ye,k[ne+1]-Ae))}K.leftGap=he,K.rightGap=ye;var ke;ie||(ke=function(Ue,Be){return function(){var Xe=y._fullLayout._roundFnOpts[q];return t(Xe.leftGap,Xe.rightGap,k,d,C)(Ue,Be)}}),Y&&(B=r(c,F)),oe&&oe(c,B,U),m.enabled&&l(c,m.direction,m.currentbin);var we=Math.min(M.length,c.length),Ee=[],xe=0,Re=we-1;for(E=0;E<we;E++)if(c[E]){xe=E;break}for(E=we-1;E>=xe;E--)if(c[E]){Re=E;break}for(E=xe;E<=Re;E++)if(g(M[E])&&g(c[E])){var Ve={p:M[E],s:c[E],b:0};m.enabled||(Ve.pts=z[E],ie?Ve.ph0=Ve.ph1=z[E].length?L[z[E][0]]:M[E]:(h._computePh=!0,Ve.ph0=ke(k[E]),Ve.ph1=ke(k[E+1],!0))),Ee.push(Ve)}return Ee.length===1&&(Ee[0].width1=x.tickIncrement(Ee[0].p,s.size,!1,C)-Ee[0].p),w(Ee,h),P.isArrayOrTypedArray(h.selectedpoints)&&P.tagSelected(Ee,h,Ce),Ee}function n(y,h,M,c,o){var d=c+"bins",T=y._fullLayout,S=h["_"+c+"bingroup"],C=T._histogramBinOpts[S],m=T.barmode==="overlay",E,b,s,L,A,k,_,U=function(Ae){return M.r2c(Ae,0,L)},F=function(Ae){return M.c2r(Ae,0,L)},z=M.type==="date"?function(Ae){return Ae||Ae===0?P.cleanDate(Ae,null,L):null}:function(Ae){return g(Ae)?Number(Ae):null};function B(Ae,ke,we){ke[Ae+"Found"]?(ke[Ae]=z(ke[Ae]),ke[Ae]===null&&(ke[Ae]=we[Ae])):(k[Ae]=ke[Ae]=we[Ae],P.nestedProperty(b[0],d+"."+Ae).set(we[Ae]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{b=C.traces;var N=[],V=!0,W=!1,Q=!1;for(E=0;E<b.length;E++)if(s=b[E],s.visible){var re=C.dirs[E];A=s["_"+re+"pos0"]=M.makeCalcdata(s,re),N=P.concat(N,A),delete s["_"+c+"autoBinFinished"],h.visible===!0&&(V?V=!1:(delete s._autoBin,s["_"+c+"autoBinFinished"]=1),a.traceIs(s,"2dMap")&&(W=!0),s.type==="histogram2dcontour"&&(Q=!0))}L=b[0][c+"calendar"];var ne=x.autoBin(N,M,C.nbins,W,L,C.sizeFound&&C.size),fe=b[0]._autoBin={};if(k=fe[C.dirs[0]]={},Q&&(C.size||(ne.start=F(x.tickIncrement(U(ne.start),ne.size,!0,L))),C.end===void 0&&(ne.end=F(x.tickIncrement(U(ne.end),ne.size,!1,L)))),m&&!a.traceIs(h,"2dMap")&&ne._dataSpan===0&&M.type!=="category"&&M.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(o)return[ne,A,!0];ne=u(y,h,M,c,d)}_=s.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?ne.start=F(x.tickIncrement(U(ne.start),ne.size,!0,L)):ne.end=F(x.tickIncrement(U(ne.end),ne.size,!1,L))),C.size=ne.size,C.sizeFound||(k.size=ne.size,P.nestedProperty(b[0],d+".size").set(ne.size)),B("start",C,ne),B("end",C,ne)}A=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var $=h._input[d]||{},X=P.extendFlat({},C),oe=C.start,Y=M.r2l($.start),ee=Y!==void 0;if((C.startFound||ee)&&Y!==M.r2l(oe)){var se=ee?Y:P.aggNums(Math.min,null,A),q={type:M.type==="category"||M.type==="multicategory"?"linear":M.type,r2l:M.r2l,dtick:C.size,tick0:oe,calendar:L,range:[se,x.tickIncrement(se,C.size,!1,L)].map(M.l2r)},K=x.tickFirst(q);K>M.r2l(se)&&(K=x.tickIncrement(K,C.size,!0,L)),X.start=M.l2r(K),ee||P.nestedProperty(h,d+".start").set(X.start)}var le=C.end,ie=M.r2l($.end),he=ie!==void 0;if((C.endFound||he)&&ie!==M.r2l(le)){var ye=he?ie:P.aggNums(Math.max,null,A);X.end=M.l2r(ye),he||P.nestedProperty(h,d+".start").set(X.end)}var Ce="autobin"+c;return h._input[Ce]===!1&&(h._input[d]=P.extendFlat({},h[d]||{}),delete h._input[Ce],delete h[Ce]),[X,A]}function u(y,h,M,c,o){var d=y._fullLayout,T=f(y,h),S=!1,C=1/0,m=[h],E,b,s;for(E=0;E<T.length;E++)if(b=T[E],b===h)S=!0;else if(!S)s=d._histogramBinOpts[b["_"+c+"bingroup"]],C=Math.min(C,s.size||b[o].size);else{var L=n(y,b,M,c,!0),A=L[0],k=L[2];b["_"+c+"autoBinFinished"]=1,b["_"+c+"pos0"]=L[1],k?m.push(b):C=Math.min(C,A.size)}var _=new Array(m.length);for(E=0;E<m.length;E++)for(var U=m[E]["_"+c+"pos0"],F=0;F<U.length;F++)if(U[F]!==void 0){_[E]=U[F];break}for(isFinite(C)||(C=P.distinctVals(_).minDiff),E=0;E<m.length;E++){b=m[E];var z=b[c+"calendar"],B={start:M.c2r(_[E]-C/2,0,z),end:M.c2r(_[E]+C/2,0,z),size:C};b._input[o]=b[o]=B,s=d._histogramBinOpts[b["_"+c+"bingroup"]],s&&P.extendFlat(s,B)}return h[o]}function f(y,h){for(var M=h.xaxis,c=h.yaxis,o=h.orientation,d=[],T=y._fullData,S=0;S<T.length;S++){var C=T[S];C.type==="histogram"&&C.visible===!0&&C.orientation===o&&C.xaxis===M&&C.yaxis===c&&d.push(C)}return d}function l(y,h,M){var c,o,d;function T(C){d=y[C],y[C]/=2}function S(C){o=y[C],y[C]=d+o/2,d+=o}if(M==="half")if(h==="increasing")for(T(0),c=1;c<y.length;c++)S(c);else for(T(y.length-1),c=y.length-2;c>=0;c--)S(c);else if(h==="increasing"){for(c=1;c<y.length;c++)y[c]+=y[c-1];M==="exclude"&&(y.unshift(0),y.pop())}else{for(c=y.length-2;c>=0;c--)y[c]+=y[c+1];M==="exclude"&&(y.push(0),y.shift())}}H.exports={calc:i,calcAllAutoBins:n}},73316:function(H){H.exports={eventDataKeys:["binNumber"]}},80536:function(H,j,e){var g=e(3400),P=e(79811),a=e(24040).traceIs,x=e(20011),w=e(31508).validateCornerradius,v=g.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];H.exports=function(n,u){var f=u._histogramBinOpts={},l=[],y={},h=[],M,c,o,d,T,S,C;function m(ne,fe){return g.coerce(M._input,M,M._module.attributes,ne,fe)}function E(ne){return ne.orientation==="v"?"x":"y"}function b(ne,fe){var $=P.getFromTrace({_fullLayout:u},ne,fe);return $.type}function s(ne,fe,$){var X=ne.uid+"__"+$;fe||(fe=X);var oe=b(ne,$),Y=ne[$+"calendar"]||"",ee=f[fe],se=!0;ee&&(oe===ee.axType&&Y===ee.calendar?(se=!1,ee.traces.push(ne),ee.dirs.push($)):(fe=X,oe!==ee.axType&&g.warn(["Attempted to group the bins of trace",ne.index,"set on a","type:"+oe,"axis","with bins on","type:"+ee.axType,"axis."].join(" ")),Y!==ee.calendar&&g.warn(["Attempted to group the bins of trace",ne.index,"set with a",Y,"calendar","with bins",ee.calendar?"on a "+ee.calendar+" calendar":"w/o a set calendar"].join(" ")))),se&&(f[fe]={traces:[ne],dirs:[$],axType:oe,calendar:ne[$+"calendar"]||""}),ne["_"+$+"bingroup"]=fe}for(T=0;T<n.length;T++)if(M=n[T],a(M,"histogram")){if(l.push(M),delete M._xautoBinFinished,delete M._yautoBinFinished,M.type==="histogram"){var L=m("marker.cornerradius",u.barcornerradius);M.marker&&(M.marker.cornerradius=w(L))}a(M,"2dMap")||x(M._input,M,u,m)}var A=u._alignmentOpts||{};for(T=0;T<l.length;T++){if(M=l[T],o="",!a(M,"2dMap")){if(d=E(M),u.barmode==="group"&&M.alignmentgroup){var k=M[d+"axis"],_=p(u,k)+M.orientation;(A[_]||{})[M.alignmentgroup]&&(o=_)}!o&&u.barmode!=="overlay"&&(o=p(u,M.xaxis)+p(u,M.yaxis)+E(M))}o?(y[o]||(y[o]=[]),y[o].push(M)):h.push(M)}for(o in y){if(c=y[o],c.length===1){h.push(c[0]);continue}var U=!1;for(c.length&&(M=c[0],U=m("bingroup")),o=U||o,T=0;T<c.length;T++){M=c[T];var F=M._input.bingroup;F&&F!==o&&g.warn(["Trace",M.index,"must match","within bingroup",o+".","Ignoring its bingroup:",F,"setting."].join(" ")),M.bingroup=o,s(M,o,E(M))}}for(T=0;T<h.length;T++){M=h[T];var z=m("bingroup");if(a(M,"2dMap"))for(C=0;C<2;C++){d=t[C];var B=m(d+"bingroup",z?z+"__"+d:null);s(M,B,d)}else s(M,z,E(M))}for(o in f){var N=f[o];for(c=N.traces,S=0;S<r.length;S++){var V=r[S],W=V.name,Q,re;if(!(W==="nbins"&&N.sizeFound)){for(T=0;T<c.length;T++){if(M=c[T],d=N.dirs[T],Q=V.aStr[d],v(M._input,Q).get()!==void 0){N[W]=m(Q),N[W+"Found"]=!0;break}re=(M._autoBin||{})[d]||{},re[W]&&v(M,Q).set(re[W])}if(W==="start"||W==="end")for(;T<c.length;T++)M=c[T],M["_"+d+"bingroup"]&&(re=(M._autoBin||{})[d]||{},m(Q,re[W]));W==="nbins"&&!N.sizeFound&&!N.nbinsFound&&(M=c[0],N[W]=m(Q))}}}}},6616:function(H,j,e){var g=e(24040),P=e(3400),a=e(76308),x=e(31508).handleText,w=e(55592),v=e(40196);H.exports=function(r,t,i,n){function u(E,b){return P.coerce(r,t,v,E,b)}var f=u("x"),l=u("y"),y=u("cumulative.enabled");y&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text");var h=u("textposition");x(r,t,n,u,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat");var M=u("orientation",l&&!f?"h":"v"),c=M==="v"?"x":"y",o=M==="v"?"y":"x",d=f&&l?Math.min(P.minRowLength(f)&&P.minRowLength(l)):P.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var T=g.getComponentMethod("calendars","handleTraceDefaults");T(r,t,["x","y"],n);var S=t[o];S&&u("histfunc"),u("histnorm"),u("autobin"+c),w(r,t,u,i,n),P.coerceSelectionMarkerOpacity(t,u);var C=(t.marker.line||{}).color,m=g.getComponentMethod("errorbars","supplyDefaults");m(r,t,C||a.defaultLine,{axis:"y"}),m(r,t,C||a.defaultLine,{axis:"x",inherit:"y"})}},84980:function(H){H.exports=function(e,g,P,a,x){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(P.cumulative||{}).enabled){var w=Array.isArray(x)?a[0].pts[x[0]][x[1]]:a[x].pts;e.pointNumbers=w,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<w.length;p++)v=v.concat(P._indexToPoints[w[p]])}else v=w;e.pointIndices=v}return e}},43339:function(H,j,e){var g=e(63400).hoverPoints,P=e(54460).hoverLabelText;H.exports=function(x,w,v,p,r){var t=g(x,w,v,p,r);if(t){x=t[0];var i=x.cd[x.index],n=x.cd[0].trace;if(!n.cumulative.enabled){var u=n.orientation==="h"?"y":"x";x[u+"Label"]=P(x[u+"a"],[i.ph0,i.ph1],n[u+"hoverformat"])}return t}}},42600:function(H,j,e){H.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(H){H.exports={percent:function(j,e){for(var g=j.length,P=100/e,a=0;a<g;a++)j[a]*=P},probability:function(j,e){for(var g=j.length,P=0;P<g;P++)j[P]/=e},density:function(j,e,g,P){var a=j.length;P=P||1;for(var x=0;x<a;x++)j[x]*=g[x]*P},"probability density":function(j,e,g,P){var a=j.length;P&&(e/=P);for(var x=0;x<a;x++)j[x]*=g[x]/e}}},37008:function(H,j,e){var g=e(40196),P=e(11120),a=e(83328),x=e(45464),w=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;H.exports=t({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:P("x"),nbinsy:g.nbinsy,ybins:P("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:t({},g.bingroup,{}),xbingroup:t({},g.bingroup,{}),ybingroup:t({},g.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:t({},x.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(H,j,e){var g=e(3400),P=e(54460),a=e(16964),x=e(10648),w=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;H.exports=function(u,f){var l=P.getFromId(u,f.xaxis),y=P.getFromId(u,f.yaxis),h=f.xcalendar,M=f.ycalendar,c=function(He){return l.r2c(He,0,h)},o=function(He){return y.r2c(He,0,M)},d=function(He){return l.c2r(He,0,h)},T=function(He){return y.c2r(He,0,M)},S,C,m,E,b=p(u,f,l,"x"),s=b[0],L=b[1],A=p(u,f,y,"y"),k=A[0],_=A[1],U=f._length;L.length>U&&L.splice(U,L.length-U),_.length>U&&_.splice(U,_.length-U);var F=[],z=[],B=[],N=typeof s.size=="string",V=typeof k.size=="string",W=[],Q=[],re=N?W:s,ne=V?Q:k,fe=0,$=[],X=[],oe=f.histnorm,Y=f.histfunc,ee=oe.indexOf("density")!==-1,se=Y==="max"||Y==="min",q=se?null:0,K=a.count,le=x[oe],ie=!1,he=[],ye=[],Ce="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";Ce&&Y!=="count"&&(ie=Y==="avg",K=a[Y]);var Ae=s.size,ke=c(s.start),we=c(s.end)+(ke-P.tickIncrement(ke,Ae,!1,h))/1e6;for(S=ke;S<we;S=P.tickIncrement(S,Ae,!1,h))z.push(q),W.push(S),ie&&B.push(0);W.push(S);var Ee=z.length,xe=(S-ke)/Ee,Re=d(ke+xe/2),Ve=k.size,Ue=o(k.start),Be=o(k.end)+(Ue-P.tickIncrement(Ue,Ve,!1,M))/1e6;for(S=Ue;S<Be;S=P.tickIncrement(S,Ve,!1,M)){F.push(z.slice()),Q.push(S);var Xe=new Array(Ee);for(C=0;C<Ee;C++)Xe[C]=[];X.push(Xe),ie&&$.push(B.slice())}Q.push(S);var ut=F.length,dt=(S-Ue)/ut,at=T(Ue+dt/2);ee&&(he=r(z.length,re,xe,N),ye=r(F.length,ne,dt,V)),!N&&l.type==="date"&&(re=t(c,re)),!V&&y.type==="date"&&(ne=t(o,ne));var We=!0,rt=!0,st=new Array(Ee),ht=new Array(ut),vt=1/0,At=1/0,tt=1/0,_e=1/0;for(S=0;S<U;S++){var je=L[S],Ke=_[S];m=g.findBin(je,re),E=g.findBin(Ke,ne),m>=0&&m<Ee&&E>=0&&E<ut&&(fe+=K(m,S,F[E],Ce,$[E]),X[E][m].push(S),We&&(st[m]===void 0?st[m]=je:st[m]!==je&&(We=!1)),rt&&(ht[E]===void 0?ht[E]=Ke:ht[E]!==Ke&&(rt=!1)),vt=Math.min(vt,je-W[m]),At=Math.min(At,W[m+1]-je),tt=Math.min(tt,Ke-Q[E]),_e=Math.min(_e,Q[E+1]-Ke))}if(ie)for(E=0;E<ut;E++)fe+=w(F[E],$[E]);if(le)for(E=0;E<ut;E++)le(F[E],fe,he,ye[E]);return{x:L,xRanges:i(W,We&&st,vt,At,l,h),x0:Re,dx:xe,y:_,yRanges:i(Q,rt&&ht,tt,_e,y,M),y0:at,dy:dt,z:F,pts:X}};function r(n,u,f,l){var y=new Array(n),h;if(l)for(h=0;h<n;h++)y[h]=1/(u[h+1]-u[h]);else{var M=1/f;for(h=0;h<n;h++)y[h]=M}return y}function t(n,u){return{start:n(u.start),end:n(u.end),size:u.size}}function i(n,u,f,l,y,h){var M,c=n.length-1,o=new Array(c),d=v(f,l,n,y,h);for(M=0;M<c;M++){var T=(u||[])[M];o[M]=T===void 0?[d(n[M]),d(n[M+1],!0)]:[T,T]}return o}},99784:function(H,j,e){var g=e(3400),P=e(56408),a=e(82748),x=e(27260),w=e(39096),v=e(37008);H.exports=function(r,t,i,n){function u(f,l){return g.coerce(r,t,v,f,l)}P(r,t,u,n),t.visible!==!1&&(a(r,t,u,n),x(r,t,n,u,{prefix:"",cLetter:"z"}),u("hovertemplate"),w(u,n),u("xhoverformat"),u("yhoverformat"))}},59576:function(H,j,e){var g=e(55512),P=e(54460).hoverLabelText;H.exports=function(x,w,v,p,r){var t=g(x,w,v,p,r);if(t){x=t[0];var i=x.index,n=i[0],u=i[1],f=x.cd[0],l=f.trace,y=f.xRanges[u],h=f.yRanges[n];return x.xLabel=P(x.xa,[y[0],y[1]],l.xhoverformat),x.yLabel=P(x.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(H,j,e){H.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(H,j,e){var g=e(24040),P=e(3400);H.exports=function(x,w,v,p){var r=v("x"),t=v("y"),i=P.minRowLength(r),n=P.minRowLength(t);if(!i||!n){w.visible=!1;return}w._length=Math.min(i,n);var u=g.getComponentMethod("calendars","handleTraceDefaults");u(x,w,["x","y"],p);var f=v("z")||v("marker.color");f&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(H,j,e){var g=e(37008),P=e(67104),a=e(49084),x=e(29736).axisHoverFormat,w=e(92880).extendFlat;H.exports=w({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:w({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z",1),hovertemplate:g.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(H,j,e){var g=e(3400),P=e(56408),a=e(84952),x=e(97680),w=e(39096),v=e(81220);H.exports=function(r,t,i,n){function u(l,y){return g.coerce(r,t,v,l,y)}function f(l){return g.coerce2(r,t,v,l)}P(r,t,u,n),t.visible!==!1&&(a(r,t,u,f),x(r,t,u,n),u("xhoverformat"),u("yhoverformat"),u("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&w(u,n))}},65664:function(H,j,e){H.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(H,j,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(49084),x=e(86968).u,w=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,i=e(98192).c;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:i,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:w.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:r.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:w.sort,root:v.root,domain:x({name:"icicle",trace:!0,editType:"calc"})}},59564:function(H,j,e){var g=e(7316);j.name="icicle",j.plot=function(P,a,x,w){g.plotBasePlot(j.name,P,a,x,w)},j.clean=function(P,a,x,w){g.cleanBasePlot(j.name,P,a,x,w)}},73876:function(H,j,e){var g=e(3776);j.r=function(P,a){return g.calc(P,a)},j.q=function(P){return g._runCrossTraceCalc("icicle",P)}},7045:function(H,j,e){var g=e(3400),P=e(97376),a=e(76308),x=e(86968).Q,w=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;H.exports=function(u,f,l,y){function h(m,E){return g.coerce(u,f,P,m,E)}var M=h("labels"),c=h("parents");if(!M||!M.length||!c||!c.length){f.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),f.texttemplate||h("textinfo",g.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var T=h("pathbar.visible"),S="auto";w(u,f,y,h,S,{hasPathbar:T,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(u,f,y,h);var C=f._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;C&&i(u,f,y,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",C?1:.7),f._hovered={marker:{line:{width:2,color:a.contrast(y.paper_bgcolor)}}},T&&(h("pathbar.thickness",f.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),x(f,y,h),f._length=null}},67880:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=e(72736),w=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,n=!1;H.exports=function(f,l,y,h,M){var c=M.width,o=M.height,d=M.viewX,T=M.viewY,S=M.pathSlice,C=M.toMoveInsideSlice,m=M.strTransform,E=M.hasTransition,b=M.handleSlicesExit,s=M.makeUpdateSliceInterpolator,L=M.makeUpdateTextInterpolator,A=M.prevEntry,k={},_=f._context.staticPlot,U=f._fullLayout,F=l[0],z=F.trace,B=z.textposition.indexOf("left")!==-1,N=z.textposition.indexOf("right")!==-1,V=z.textposition.indexOf("bottom")!==-1,W=w(y,[c,o],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}),Q=W.descendants(),re=1/0,ne=-1/0;Q.forEach(function(Y){var ee=Y.depth;ee>=z._maxDepth?(Y.x0=Y.x1=(Y.x0+Y.x1)/2,Y.y0=Y.y1=(Y.y0+Y.y1)/2):(re=Math.min(re,ee),ne=Math.max(ne,ee))}),h=h.data(Q,r.getPtId),z._maxVisibleLayers=isFinite(ne)?ne-re+1:0,h.enter().append("g").classed("slice",!0),b(h,n,k,[c,o],S),h.order();var fe=null;if(E&&A){var $=r.getPtId(A);h.each(function(Y){fe===null&&r.getPtId(Y)===$&&(fe={x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1})})}var X=function(){return fe||{x0:0,x1:c,y0:0,y1:o}},oe=h;return E&&(oe=oe.transition().each("end",function(){var Y=g.select(this);r.setSliceCursor(Y,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),oe.each(function(Y){Y._x0=d(Y.x0),Y._x1=d(Y.x1),Y._y0=T(Y.y0),Y._y1=T(Y.y1),Y._hoverX=d(Y.x1-z.tiling.pad),Y._hoverY=T(V?Y.y1-z.tiling.pad/2:Y.y0+z.tiling.pad/2);var ee=g.select(this),se=P.ensureSingle(ee,"path","surface",function(ie){ie.style("pointer-events",_?"none":"all")});E?se.transition().attrTween("d",function(ie){var he=s(ie,n,X(),[c,o],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(ye){return S(he(ye))}}):se.attr("d",S),ee.call(t,y,f,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),se.call(v,Y,z,f,{hovered:!1}),Y.x0===Y.x1||Y.y0===Y.y1?Y._text="":Y._text=i(Y,y,z,l,U)||"";var q=P.ensureSingle(ee,"g","slicetext"),K=P.ensureSingle(q,"text","",function(ie){ie.attr("data-notex",1)}),le=P.ensureUniformFontSize(f,r.determineTextFont(z,Y,U.font));K.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor",N?"end":B?"start":"middle").call(a.font,le).call(x.convertToTspans,f),Y.textBB=a.bBox(K.node()),Y.transform=C(Y,{fontSize:le.size}),Y.transform.fontSize=le.size,E?K.transition().attrTween("transform",function(ie){var he=L(ie,n,X(),[c,o]);return function(ye){return m(he(ye))}}):K.attr("transform",m(Y))}),fe}},29044:function(H,j,e){H.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(H){H.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(H,j,e){var g=e(3400),P=e(90676);H.exports=function(x,w){function v(p,r){return g.coerce(x,w,P,p,r)}v("iciclecolorway",w.colorway),v("extendiciclecolors")}},25132:function(H,j,e){var g=e(74148),P=e(83024);H.exports=function(x,w,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",i=v.maxDepth,n=w[0],u=w[1];i&&(n=(x.height+1)*w[0]/Math.min(x.height+1,i),u=(x.height+1)*w[1]/Math.min(x.height+1,i));var f=g.partition().padding(v.pad.inner).size(t?[w[1],n]:[w[0],u])(x);return(t||p||r)&&P(f,w,{swapXY:t,flipX:p,flipY:r}),f}},38364:function(H,j,e){var g=e(95808),P=e(67880);H.exports=function(x,w,v,p){return g(x,w,v,p,{type:"icicle",drawDescendants:P})}},47192:function(H,j,e){var g=e(33428),P=e(76308),a=e(3400),x=e(82744).resizeText,w=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");x(r,t,"icicle"),t.each(function(i){var n=g.select(this),u=i[0],f=u.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(p,l,f,r)})})}function p(r,t,i,n){var u=t.data.data,f=!t.children,l=u.i,y=a.castOption(i,l,"marker.line.color")||P.defaultLine,h=a.castOption(i,l,"marker.line.width")||0;r.call(w,t,i,n).style("stroke-width",h).call(P.stroke,y).style("opacity",f?i.leaf.opacity:null)}H.exports={style:v,styleOne:p}},95188:function(H,j,e){for(var g=e(45464),P=e(21776).Ks,a=e(92880).extendFlat,x=e(47797).colormodel,w=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],r=0;r<w.length;r++){var t=x[w[r]];v.push("For the `"+w[r]+"` colormodel, it is ["+(t.zminDflt||t.min).join(", ")+"]."),p.push("For the `"+w[r]+"` colormodel, it is ["+(t.zmaxDflt||t.max).join(", ")+"].")}H.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:w,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:P({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(H,j,e){var g=e(3400),P=e(47797),a=e(38248),x=e(54460),w=e(3400).maxRowLength,v=e(18712).i;H.exports=function(n,u){var f,l;if(u._hasZ)f=u.z.length,l=w(u.z);else if(u._hasSource){var y=v(u.source);f=y.height,l=y.width}var h=x.getFromId(n,u.xaxis||"x"),M=x.getFromId(n,u.yaxis||"y"),c=h.d2c(u.x0)-u.dx/2,o=M.d2c(u.y0)-u.dy/2,d,T=[c,c+l*u.dx],S=[o,o+f*u.dy];if(h&&h.type==="log")for(d=0;d<l;d++)T.push(c+d*u.dx);if(M&&M.type==="log")for(d=0;d<f;d++)S.push(o+d*u.dy);u._extremes[h._id]=x.findExtremes(h,T),u._extremes[M._id]=x.findExtremes(M,S),u._scaler=t(u);var C={x0:c,y0:o,z:u.z,w:l,h:f};return[C]};function p(i,n,u,f){return function(l){return g.constrain((l-i)*n,u,f)}}function r(i,n){return function(u){return g.constrain(u,i,n)}}function t(i){var n=P.colormodel[i.colormodel],u=n.colormodel||i.colormodel,f=u.length;i._sArray=[];for(var l=0;l<f;l++)n.min[l]!==i.zmin[l]||n.max[l]!==i.zmax[l]?i._sArray.push(p(i.zmin[l],(n.max[l]-n.min[l])/(i.zmax[l]-i.zmin[l]),n.min[l],n.max[l])):i._sArray.push(r(n.min[l],n.max[l]));return function(y){for(var h=y.slice(0,f),M=0;M<f;M++){var c=h[M];if(!a(c))return!1;h[M]=i._sArray[M](c)}return h}}},47797:function(H){H.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(j){return j.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(j){return j.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(j){return j.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(j){var e=j.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(j){var e=j.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(H,j,e){var g=e(3400),P=e(95188),a=e(47797),x=e(81792).IMAGE_URL_PREFIX;H.exports=function(v,p){function r(n,u){return g.coerce(v,p,P,n,u)}r("source"),p.source&&!p.source.match(x)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var i;p._hasZ?(r("colormodel","rgb"),i=a.colormodel[p.colormodel],r("zmin",i.zminDflt||i.min),r("zmax",i.zmaxDflt||i.max)):p._hasSource&&(p.colormodel="rgba256",i=a.colormodel[p.colormodel],p.zmin=i.zminDflt,p.zmax=i.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null}},79972:function(H){H.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},18712:function(H,j,e){var g=e(19480),P=e(81792).IMAGE_URL_PREFIX,a=e(33576).Buffer;j.i=function(x){var w=x.replace(P,""),v=new a(w,"base64");return g(v)}},24892:function(H,j,e){var g=e(93024),P=e(3400),a=P.isArrayOrTypedArray,x=e(47797);H.exports=function(v,p,r){var t=v.cd[0],i=t.trace,n=v.xa,u=v.ya;if(!(g.inbox(p-t.x0,p-(t.x0+t.w*i.dx),0)>0||g.inbox(r-t.y0,r-(t.y0+t.h*i.dy),0)>0)){var f=Math.floor((p-t.x0)/i.dx),l=Math.floor(Math.abs(r-t.y0)/i.dy),y;if(i._hasZ?y=t.z[l][f]:i._hasSource&&(y=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(f,l,1,1).data),!!y){var h=t.hi||i.hoverinfo,M;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(M=!0)}var o=x.colormodel[i.colormodel],d=o.colormodel||i.colormodel,T=d.length,S=i._scaler(y),C=o.suffix,m=[];(i.hovertemplate||M)&&(m.push("["+[S[0]+C[0],S[1]+C[1],S[2]+C[2]].join(", ")),T===4&&m.push(", "+S[3]+C[3]),m.push("]"),m=m.join(""),v.extraText=d.toUpperCase()+": "+m);var E;a(i.hovertext)&&a(i.hovertext[l])?E=i.hovertext[l][f]:a(i.text)&&a(i.text[l])&&(E=i.text[l][f]);var b=u.c2p(t.y0+(l+.5)*i.dy),s=t.x0+(f+.5)*i.dx,L=t.y0+(l+.5)*i.dy,A="["+y.slice(0,i.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[l,f],x0:n.c2p(t.x0+f*i.dx),x1:n.c2p(t.x0+(f+1)*i.dx),y0:b,y1:b,color:S,xVal:s,xLabelVal:s,yVal:L,yLabelVal:L,zLabelVal:A,text:E,hovertemplateLabels:{zLabel:A,colorLabel:m,"color[0]Label":S[0]+C[0],"color[1]Label":S[1]+C[1],"color[2]Label":S[2]+C[2],"color[3]Label":S[3]+C[3]}})]}}}},48928:function(H,j,e){H.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(H,j,e){var g=e(33428),P=e(3400),a=P.strTranslate,x=e(9616),w=e(47797),v=e(9188),p=e(2264).STYLE;H.exports=function(t,i,n,u){var f=i.xaxis,l=i.yaxis,y=!t._context._exportedPlot&&v();P.makeTraceGroups(u,n,"im").each(function(h){var M=g.select(this),c=h[0],o=c.trace,d=(o.zsmooth==="fast"||o.zsmooth===!1&&y)&&!o._hasZ&&o._hasSource&&f.type==="linear"&&l.type==="linear";o._realImage=d;var T=c.z,S=c.x0,C=c.y0,m=c.w,E=c.h,b=o.dx,s=o.dy,L,A,k,_,U,F;for(F=0;L===void 0&&F<m;)L=f.c2p(S+F*b),F++;for(F=m;A===void 0&&F>0;)A=f.c2p(S+F*b),F--;for(F=0;_===void 0&&F<E;)_=l.c2p(C+F*s),F++;for(F=E;U===void 0&&F>0;)U=l.c2p(C+F*s),F--;if(A<L&&(k=A,A=L,L=k),U<_&&(k=_,_=U,U=k),!d){var z=.5;L=Math.max(-z*f._length,L),A=Math.min((1+z)*f._length,A),_=Math.max(-z*l._length,_),U=Math.min((1+z)*l._length,U)}var B=Math.round(A-L),N=Math.round(U-_),V=B<=0||N<=0;if(V){var W=M.selectAll("image").data([]);W.exit().remove();return}function Q(q){var K=document.createElement("canvas");K.width=B,K.height=N;var le=K.getContext("2d",{willReadFrequently:!0}),ie=function(Ue){return P.constrain(Math.round(f.c2p(S+Ue*b)-L),0,B)},he=function(Ue){return P.constrain(Math.round(l.c2p(C+Ue*s)-_),0,N)},ye=w.colormodel[o.colormodel],Ce=ye.colormodel||o.colormodel,Ae=ye.fmt,ke;for(F=0;F<c.w;F++){var we=ie(F),Ee=ie(F+1);if(!(Ee===we||isNaN(Ee)||isNaN(we)))for(var xe=0;xe<c.h;xe++){var Re=he(xe),Ve=he(xe+1);Ve===Re||isNaN(Ve)||isNaN(Re)||!q(F,xe)||(ke=o._scaler(q(F,xe)),ke?le.fillStyle=Ce+"("+Ae(ke).join(",")+")":le.fillStyle="rgba(0,0,0,0)",le.fillRect(we,Re,Ee-we,Ve-Re))}}return K}var re=M.selectAll("image").data([h]);re.enter().append("svg:image").attr({xmlns:x.svg,preserveAspectRatio:"none"}),re.exit().remove();var ne=o.zsmooth===!1?p:"";if(d){var fe=P.simpleMap(f.range,f.r2l),$=P.simpleMap(l.range,l.r2l),X=fe[1]<fe[0],oe=$[1]>$[0];if(X||oe){var Y=L+B/2,ee=_+N/2;ne+="transform:"+a(Y+"px",ee+"px")+"scale("+(X?-1:1)+","+(oe?-1:1)+")"+a(-Y+"px",-ee+"px")+";"}}re.attr("style",ne);var se=new Promise(function(q){if(o._hasZ)q();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===m&&o._canvas.el.height===E&&o._canvas.source===o.source)q();else{var K=document.createElement("canvas");K.width=m,K.height=E;var le=K.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ie=o._image;ie.onload=function(){le.drawImage(ie,0,0),o._canvas={el:K,source:o.source},q()},ie.setAttribute("src",o.source)}}).then(function(){var q,K;if(o._hasZ)K=Q(function(he,ye){var Ce=T[ye][he];return P.isTypedArray(Ce)&&(Ce=Array.from(Ce)),Ce}),q=K.toDataURL("image/png");else if(o._hasSource)if(d)q=o.source;else{var le=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ie=le.getImageData(0,0,m,E).data;K=Q(function(he,ye){var Ce=4*(ye*m+he);return[ie[Ce],ie[Ce+1],ie[Ce+2],ie[Ce+3]]}),q=K.toDataURL("image/png")}re.attr({"xlink:href":q,height:N,width:B,x:L,y:_})});t._promises.push(se)})}},28576:function(H,j,e){var g=e(33428);H.exports=function(a){g.select(a).selectAll(".im image").style("opacity",function(x){return x[0].trace.opacity})}},89864:function(H,j,e){var g=e(92880).extendFlat,P=e(92880).extendDeep,a=e(67824).overrideAll,x=e(25376),w=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),i=e(29736).descriptionOnlyNumbers,n=x({editType:"plot",colorEditType:"plot"}),u={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:w.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",P({},u,{range:f}));H.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:i("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:i("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},u,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:f,visible:g({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:g({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:x({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:g({},u.line.color,{}),width:g({},u.line.width,{dflt:1}),editType:"plot"},thickness:g({},u.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(H,j,e){var g=e(7316);j.name="indicator",j.plot=function(P,a,x,w){g.plotBasePlot(j.name,P,a,x,w)},j.clean=function(P,a,x,w){g.cleanBasePlot(j.name,P,a,x,w)}},79136:function(H){function j(e,g){var P=[],a=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var x=g._lastValue,w=x;return g._hasDelta&&typeof g.delta.reference=="number"&&(w=g.delta.reference),P[0]={y:a,lastY:x,delta:a-w,relativeDelta:(a-w)/w},P}H.exports={calc:j}},12096:function(H){H.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(H,j,e){var g=e(3400),P=e(89864),a=e(86968).Q,x=e(31780),w=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),i=e(42568);function n(f,l,y,h){function M(U,F){return g.coerce(f,l,P,U,F)}a(l,h,M),M("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=M("value");l._range=[0,typeof c=="number"?1.5*c:1];var o=new Array(2),d;l._hasNumber&&(M("number.valueformat"),M("number.font.color",h.font.color),M("number.font.family",h.font.family),M("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,o[0]=!0),M("number.prefix"),M("number.suffix"),d=l.number.font.size);var T;l._hasDelta&&(M("delta.font.color",h.font.color),M("delta.font.family",h.font.family),M("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),o[1]=!0),M("delta.reference",l.value),M("delta.relative"),M("delta.valueformat",l.delta.relative?"2%":""),M("delta.increasing.symbol"),M("delta.increasing.color"),M("delta.decreasing.symbol"),M("delta.decreasing.color"),M("delta.position"),M("delta.prefix"),M("delta.suffix"),T=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||o[0])&&(!l._hasDelta||o[1])||!1,M("title.font.color",h.font.color),M("title.font.family",h.font.family),M("title.font.size",.25*(d||T||v.defaultNumberFontSize)),M("title.text");var S,C,m,E;function b(U,F){return g.coerce(S,C,P.gauge,U,F)}function s(U,F){return g.coerce(m,E,P.gauge.axis,U,F)}if(l._hasGauge){S=f.gauge,S||(S={}),C=x.newContainer(l,"gauge"),b("shape");var L=l._isBullet=l.gauge.shape==="bullet";L||M("title.align","center");var A=l._isAngular=l.gauge.shape==="angular";A||M("align","center"),b("bgcolor",h.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var k=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);b("bar.thickness",k),w(S,C,{name:"steps",handleItemDefaults:u}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),m={},S&&(m=S.axis||{}),E=x.newContainer(C,"axis"),s("visible"),l._range=s("range",l._range);var _={noAutotickangles:!0,outerTicks:!0};p(m,E,s,"linear"),i(m,E,s,"linear",_),t(m,E,s,"linear",_),r(m,E,s,_)}else M("title.align","center"),M("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function u(f,l){function y(h,M){return g.coerce(f,l,P.gauge.steps,h,M)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}H.exports={supplyDefaults:n}},43480:function(H,j,e){H.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(H,j,e){var g=e(33428),P=e(67756).qy,a=e(67756).Gz,x=e(3400),w=x.strScale,v=x.strTranslate,p=x.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),i=e(12096),n=e(72736),u=e(54460),f=e(28336),l=e(37668),y=e(94724),h=e(76308),M={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},o=/[yzafpnµmkMGTPEZY]/;function d(_){return _&&_.duration>0}H.exports=function(U,F,z,B){var N=U._fullLayout,V;d(z)&&B&&(V=B()),x.makeTraceGroups(N._indicatorlayer,F,"trace").each(function(W){var Q=W[0],re=Q.trace,ne=g.select(this),fe=re._hasGauge,$=re._isAngular,X=re._isBullet,oe=re.domain,Y={w:N._size.w*(oe.x[1]-oe.x[0]),h:N._size.h*(oe.y[1]-oe.y[0]),l:N._size.l+N._size.w*oe.x[0],r:N._size.r+N._size.w*(1-oe.x[1]),t:N._size.t+N._size.h*(1-oe.y[1]),b:N._size.b+N._size.h*oe.y[0]},ee=Y.l+Y.w/2,se=Y.t+Y.h/2,q=Math.min(Y.w/2,Y.h),K=i.innerRadius*q,le,ie,he,ye=re.align||"center";if(ie=se,!fe)le=Y.l+c[ye]*Y.w,he=function(Be){return s(Be,Y.w,Y.h)};else if($&&(le=ee,ie=se+q/2,he=function(Be){return L(Be,.9*K)}),X){var Ce=i.bulletPadding,Ae=1-i.bulletNumberDomainSize+Ce;le=Y.l+(Ae+(1-Ae)*c[ye])*Y.w,he=function(Be){return s(Be,(i.bulletNumberDomainSize-Ce)*Y.w,Y.h)}}C(U,ne,W,{numbersX:le,numbersY:ie,numbersScaler:he,transitionOpts:z,onComplete:V});var ke,we;fe&&(ke={range:re.gauge.axis.range,color:re.gauge.bgcolor,line:{color:re.gauge.bordercolor,width:0},thickness:1},we={range:re.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:re.gauge.bordercolor,width:re.gauge.borderwidth},thickness:1});var Ee=ne.selectAll("g.angular").data($?W:[]);Ee.exit().remove();var xe=ne.selectAll("g.angularaxis").data($?W:[]);xe.exit().remove(),$&&S(U,ne,W,{radius:q,innerRadius:K,gauge:Ee,layer:xe,size:Y,gaugeBg:ke,gaugeOutline:we,transitionOpts:z,onComplete:V});var Re=ne.selectAll("g.bullet").data(X?W:[]);Re.exit().remove();var Ve=ne.selectAll("g.bulletaxis").data(X?W:[]);Ve.exit().remove(),X&&T(U,ne,W,{gauge:Re,layer:Ve,size:Y,gaugeBg:ke,gaugeOutline:we,transitionOpts:z,onComplete:V});var Ue=ne.selectAll("text.title").data(W);Ue.exit().remove(),Ue.enter().append("text").classed("title",!0),Ue.attr("text-anchor",function(){return X?M.right:M[re.title.align]}).text(re.title.text).call(t.font,re.title.font).call(n.convertToTspans,U),Ue.attr("transform",function(){var Be=Y.l+Y.w*c[re.title.align],Xe,ut=i.titlePadding,dt=t.bBox(Ue.node());if(fe){if($)if(re.gauge.axis.visible){var at=t.bBox(xe.node());Xe=at.top-ut-dt.bottom}else Xe=Y.t+Y.h/2-q/2-dt.bottom-ut;X&&(Xe=ie-(dt.top+dt.bottom)/2,Be=Y.l-i.bulletPadding*Y.w)}else Xe=re._numbersTop-ut-dt.bottom;return v(Be,Xe)})})};function T(_,U,F,z){var B=F[0].trace,N=z.gauge,V=z.layer,W=z.gaugeBg,Q=z.gaugeOutline,re=z.size,ne=B.domain,fe=z.transitionOpts,$=z.onComplete,X,oe,Y,ee,se;N.enter().append("g").classed("bullet",!0),N.attr("transform",v(re.l,re.t)),V.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),V.selectAll("g.xbulletaxistick,path,text").remove();var q=re.h,K=B.gauge.bar.thickness*q,le=ne.x[0],ie=ne.x[0]+(ne.x[1]-ne.x[0])*(B._hasNumber||B._hasDelta?1-i.bulletNumberDomainSize:1);X=b(_,B.gauge.axis),X._id="xbulletaxis",X.domain=[le,ie],X.setScale(),oe=u.calcTicks(X),Y=u.makeTransTickFn(X),ee=u.getTickSigns(X)[2],se=re.t+re.h,X.visible&&(u.drawTicks(_,X,{vals:X.ticks==="inside"?u.clipEnds(X,oe):oe,layer:V,path:u.makeTickPath(X,se,ee),transFn:Y}),u.drawLabels(_,X,{vals:oe,layer:V,transFn:Y,labelFns:u.makeLabelFns(X,se)}));function he(xe){xe.attr("width",function(Re){return Math.max(0,X.c2p(Re.range[1])-X.c2p(Re.range[0]))}).attr("x",function(Re){return X.c2p(Re.range[0])}).attr("y",function(Re){return .5*(1-Re.thickness)*q}).attr("height",function(Re){return Re.thickness*q})}var ye=[W].concat(B.gauge.steps),Ce=N.selectAll("g.bg-bullet").data(ye);Ce.enter().append("g").classed("bg-bullet",!0).append("rect"),Ce.select("rect").call(he).call(m),Ce.exit().remove();var Ae=N.selectAll("g.value-bullet").data([B.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",K).attr("y",(q-K)/2).call(m),d(fe)?Ae.select("rect").transition().duration(fe.duration).ease(fe.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()}).attr("width",Math.max(0,X.c2p(Math.min(B.gauge.axis.range[1],F[0].y)))):Ae.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,X.c2p(Math.min(B.gauge.axis.range[1],F[0].y))):0),Ae.exit().remove();var ke=F.filter(function(){return B.gauge.threshold.value||B.gauge.threshold.value===0}),we=N.selectAll("g.threshold-bullet").data(ke);we.enter().append("g").classed("threshold-bullet",!0).append("line"),we.select("line").attr("x1",X.c2p(B.gauge.threshold.value)).attr("x2",X.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*q).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*q).call(h.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),we.exit().remove();var Ee=N.selectAll("g.gauge-outline").data([Q]);Ee.enter().append("g").classed("gauge-outline",!0).append("rect"),Ee.select("rect").call(he).call(m),Ee.exit().remove()}function S(_,U,F,z){var B=F[0].trace,N=z.size,V=z.radius,W=z.innerRadius,Q=z.gaugeBg,re=z.gaugeOutline,ne=[N.l+N.w/2,N.t+N.h/2+V/2],fe=z.gauge,$=z.layer,X=z.transitionOpts,oe=z.onComplete,Y=Math.PI/2;function ee(We){var rt=B.gauge.axis.range[0],st=B.gauge.axis.range[1],ht=(We-rt)/(st-rt)*Math.PI-Y;return ht<-Y?-Y:ht>Y?Y:ht}function se(We){return g.svg.arc().innerRadius((W+V)/2-We/2*(V-W)).outerRadius((W+V)/2+We/2*(V-W)).startAngle(-Y)}function q(We){We.attr("d",function(rt){return se(rt.thickness).startAngle(ee(rt.range[0])).endAngle(ee(rt.range[1]))()})}var K,le,ie,he;fe.enter().append("g").classed("angular",!0),fe.attr("transform",v(ne[0],ne[1])),$.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),$.selectAll("g.xangularaxistick,path,text").remove(),K=b(_,B.gauge.axis),K.type="linear",K.range=B.gauge.axis.range,K._id="xangularaxis",K.ticklabeloverflow="allow",K.setScale();var ye=function(We){return(K.range[0]-We.x)/(K.range[1]-K.range[0])*Math.PI+Math.PI},Ce={},Ae=u.makeLabelFns(K,0),ke=Ae.labelStandoff;Ce.xFn=function(We){var rt=ye(We);return Math.cos(rt)*ke},Ce.yFn=function(We){var rt=ye(We),st=Math.sin(rt)>0?.2:1;return-Math.sin(rt)*(ke+We.fontSize*st)+Math.abs(Math.cos(rt))*(We.fontSize*r)},Ce.anchorFn=function(We){var rt=ye(We),st=Math.cos(rt);return Math.abs(st)<.1?"middle":st>0?"start":"end"},Ce.heightFn=function(We,rt,st){var ht=ye(We);return-.5*(1+Math.sin(ht))*st};var we=function(We){return v(ne[0]+V*Math.cos(We),ne[1]-V*Math.sin(We))};ie=function(We){return we(ye(We))};var Ee=function(We){var rt=ye(We);return we(rt)+"rotate("+-p(rt)+")"};if(le=u.calcTicks(K),he=u.getTickSigns(K)[2],K.visible){he=K.ticks==="inside"?-1:1;var xe=(K.linewidth||1)/2;u.drawTicks(_,K,{vals:le,layer:$,path:"M"+he*xe+",0h"+he*K.ticklen,transFn:Ee}),u.drawLabels(_,K,{vals:le,layer:$,transFn:ie,labelFns:Ce})}var Re=[Q].concat(B.gauge.steps),Ve=fe.selectAll("g.bg-arc").data(Re);Ve.enter().append("g").classed("bg-arc",!0).append("path"),Ve.select("path").call(q).call(m),Ve.exit().remove();var Ue=se(B.gauge.bar.thickness),Be=fe.selectAll("g.value-arc").data([B.gauge.bar]);Be.enter().append("g").classed("value-arc",!0).append("path");var Xe=Be.select("path");d(X)?(Xe.transition().duration(X.duration).ease(X.easing).each("end",function(){oe&&oe()}).each("interrupt",function(){oe&&oe()}).attrTween("d",E(Ue,ee(F[0].lastY),ee(F[0].y))),B._lastValue=F[0].y):Xe.attr("d",typeof F[0].y=="number"?Ue.endAngle(ee(F[0].y)):"M0,0Z"),Xe.call(m),Be.exit().remove(),Re=[];var ut=B.gauge.threshold.value;(ut||ut===0)&&Re.push({range:[ut,ut],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var dt=fe.selectAll("g.threshold-arc").data(Re);dt.enter().append("g").classed("threshold-arc",!0).append("path"),dt.select("path").call(q).call(m),dt.exit().remove();var at=fe.selectAll("g.gauge-outline").data([re]);at.enter().append("g").classed("gauge-outline",!0).append("path"),at.select("path").call(q).call(m),at.exit().remove()}function C(_,U,F,z){var B=F[0].trace,N=z.numbersX,V=z.numbersY,W=B.align||"center",Q=M[W],re=z.transitionOpts,ne=z.onComplete,fe=x.ensureSingle(U,"g","numbers"),$,X,oe,Y=[];B._hasNumber&&Y.push("number"),B._hasDelta&&(Y.push("delta"),B.delta.position==="left"&&Y.reverse());var ee=fe.selectAll("text").data(Y);ee.enter().append("text"),ee.attr("text-anchor",function(){return Q}).attr("class",function(we){return we}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),ee.exit().remove();function se(we,Ee,xe,Re){if(we.match("s")&&xe>=0!=Re>=0&&!Ee(xe).slice(-1).match(o)&&!Ee(Re).slice(-1).match(o)){var Ve=we.slice().replace("s","f").replace(/\d+/,function(Be){return parseInt(Be)-1}),Ue=b(_,{tickformat:Ve});return function(Be){return Math.abs(Be)<1?u.tickText(Ue,Be).text:Ee(Be)}}else return Ee}function q(){var we=b(_,{tickformat:B.number.valueformat},B._range);we.setScale(),u.prepTicks(we);var Ee=function(Be){return u.tickText(we,Be).text},xe=B.number.suffix,Re=B.number.prefix,Ve=fe.select("text.number");function Ue(){var Be=typeof F[0].y=="number"?Re+Ee(F[0].y)+xe:"-";Ve.text(Be).call(t.font,B.number.font).call(n.convertToTspans,_)}return d(re)?Ve.transition().duration(re.duration).ease(re.easing).each("end",function(){Ue(),ne&&ne()}).each("interrupt",function(){Ue(),ne&&ne()}).attrTween("text",function(){var Be=g.select(this),Xe=a(F[0].lastY,F[0].y);B._lastValue=F[0].y;var ut=se(B.number.valueformat,Ee,F[0].lastY,F[0].y);return function(dt){Be.text(Re+ut(Xe(dt))+xe)}}):Ue(),$=A(Re+Ee(F[0].y)+xe,B.number.font,Q,_),Ve}function K(){var we=b(_,{tickformat:B.delta.valueformat},B._range);we.setScale(),u.prepTicks(we);var Ee=function(dt){return u.tickText(we,dt).text},xe=B.delta.suffix,Re=B.delta.prefix,Ve=function(dt){var at=B.delta.relative?dt.relativeDelta:dt.delta;return at},Ue=function(dt,at){return dt===0||typeof dt!="number"||isNaN(dt)?"-":(dt>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+Re+at(dt)+xe},Be=function(dt){return dt.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};B._deltaLastValue===void 0&&(B._deltaLastValue=Ve(F[0]));var Xe=fe.select("text.delta");Xe.call(t.font,B.delta.font).call(h.fill,Be({delta:B._deltaLastValue}));function ut(){Xe.text(Ue(Ve(F[0]),Ee)).call(h.fill,Be(F[0])).call(n.convertToTspans,_)}return d(re)?Xe.transition().duration(re.duration).ease(re.easing).tween("text",function(){var dt=g.select(this),at=Ve(F[0]),We=B._deltaLastValue,rt=se(B.delta.valueformat,Ee,We,at),st=a(We,at);return B._deltaLastValue=at,function(ht){dt.text(Ue(st(ht),rt)),dt.call(h.fill,Be({delta:st(ht)}))}}).each("end",function(){ut(),ne&&ne()}).each("interrupt",function(){ut(),ne&&ne()}):ut(),X=A(Ue(Ve(F[0]),Ee),B.delta.font,Q,_),Xe}var le=B.mode+B.align,ie;if(B._hasDelta&&(ie=K(),le+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,le+=B.delta.increasing.symbol+B.delta.decreasing.symbol,oe=X),B._hasNumber&&(q(),le+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,oe=$),B._hasDelta&&B._hasNumber){var he=[($.left+$.right)/2,($.top+$.bottom)/2],ye=[(X.left+X.right)/2,(X.top+X.bottom)/2],Ce,Ae,ke=.75*B.delta.font.size;B.delta.position==="left"&&(Ce=k(B,"deltaPos",0,-1*($.width*c[B.align]+X.width*(1-c[B.align])+ke),le,Math.min),Ae=he[1]-ye[1],oe={width:$.width+X.width+ke,height:Math.max($.height,X.height),left:X.left+Ce,right:$.right,top:Math.min($.top,X.top+Ae),bottom:Math.max($.bottom,X.bottom+Ae)}),B.delta.position==="right"&&(Ce=k(B,"deltaPos",0,$.width*(1-c[B.align])+X.width*c[B.align]+ke,le,Math.max),Ae=he[1]-ye[1],oe={width:$.width+X.width+ke,height:Math.max($.height,X.height),left:$.left,right:X.right+Ce,top:Math.min($.top,X.top+Ae),bottom:Math.max($.bottom,X.bottom+Ae)}),B.delta.position==="bottom"&&(Ce=null,Ae=X.height,oe={width:Math.max($.width,X.width),height:$.height+X.height,left:Math.min($.left,X.left),right:Math.max($.right,X.right),top:$.bottom-$.height,bottom:$.bottom+X.height}),B.delta.position==="top"&&(Ce=null,Ae=$.top,oe={width:Math.max($.width,X.width),height:$.height+X.height,left:Math.min($.left,X.left),right:Math.max($.right,X.right),top:$.bottom-$.height-X.height,bottom:$.bottom}),ie.attr({dx:Ce,dy:Ae})}(B._hasNumber||B._hasDelta)&&fe.attr("transform",function(){var we=z.numbersScaler(oe);le+=we[2];var Ee=k(B,"numbersScale",1,we[0],le,Math.min),xe;B._scaleNumbers||(Ee=1),B._isAngular?xe=V-Ee*oe.bottom:xe=V-Ee*(oe.top+oe.bottom)/2,B._numbersTop=Ee*oe.top+xe;var Re=oe[W];W==="center"&&(Re=(oe.left+oe.right)/2);var Ve=N-Ee*Re;return Ve=k(B,"numbersTranslate",0,Ve,le,Math.max),v(Ve,xe)+w(Ee)})}function m(_){_.each(function(U){h.stroke(g.select(this),U.line.color)}).each(function(U){h.fill(g.select(this),U.color)}).style("stroke-width",function(U){return U.line.width})}function E(_,U,F){return function(){var z=P(U,F);return function(B){return _.endAngle(z(B))()}}}function b(_,U,F){var z=_._fullLayout,B=x.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},U),N={type:"linear",_id:"x"+U._id},V={letter:"x",font:z.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function W(Q,re){return x.coerce(B,N,y,Q,re)}return f(B,N,W,V,z),l(B,N,W,V),N}function s(_,U,F){var z=Math.min(U/_.width,F/_.height);return[z,_,U+"x"+F]}function L(_,U){var F=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),z=U/F;return[z,_,U]}function A(_,U,F,z){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),N=g.select(B);return N.text(_).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",_).call(n.convertToTspans,z).call(t.font,U),t.bBox(N.node())}function k(_,U,F,z,B,N){var V="_cache"+U;_[V]&&_[V].key===B||(_[V]={key:B,value:F});var W=x.aggNums(N,null,[_[V].value,z],2);return _[V].value=W,W}},50048:function(H,j,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(52948),w=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var i=H.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},w.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:x.opacity,lightposition:x.lightposition,lighting:x.lighting,flatshading:x.flatshading,contour:x.contour,hoverinfo:v({},w.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},62624:function(H,j,e){var g=e(47128),P=e(3832).processGrid,a=e(3832).filter;H.exports=function(w,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,i=0;i<v._len;i++){var n=v._value[i];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,g(w,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(H,j,e){var g=e(67792).gl_mesh3d,P=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,x=e(43080),w=e(8932).extractOpts,v=e(52094),p=function(f,l){for(var y=l.length-1;y>0;y--){var h=Math.min(l[y],l[y-1]),M=Math.max(l[y],l[y-1]);if(M>h&&h<f&&f<=M)return{id:y,distRatio:(M-f)/(M-h)}}return{id:0,distRatio:0}};function r(f,l,y){this.scene=f,this.uid=y,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(f){if(f.object===this.mesh){var l=f.data.index,y=this.data._meshX[l],h=this.data._meshY[l],M=this.data._meshZ[l],c=this.data._Ys.length,o=this.data._Zs.length,d=p(y,this.data._Xs).id,T=p(h,this.data._Ys).id,S=p(M,this.data._Zs).id,C=f.index=S+o*T+o*c*d;f.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var m=this.data.hovertext||this.data.text;return a(m)&&m[C]!==void 0?f.textLabel=m[C]:m&&(f.textLabel=m),!0}},t.update=function(f){var l=this.scene,y=l.fullSceneLayout;this.data=n(f);function h(T,S,C,m){return S.map(function(E){return T.d2l(E,0,m)*C})}var M=v(h(y.xaxis,f._meshX,l.dataScale[0],f.xcalendar),h(y.yaxis,f._meshY,l.dataScale[1],f.ycalendar),h(y.zaxis,f._meshZ,l.dataScale[2],f.zcalendar)),c=v(f._meshI,f._meshJ,f._meshK),o={positions:M,cells:c,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:x(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},d=w(f);o.vertexIntensity=f._meshIntensity,o.vertexIntensityBounds=[d.min,d.max],o.colormap=P(f),this.mesh.update(o)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(f){f._meshI=[],f._meshJ=[],f._meshK=[];var l=f.surface.show,y=f.spaceframe.show,h=f.surface.fill,M=f.spaceframe.fill,c=!1,o=!1,d=0,T,S,C=f._Xs,m=f._Ys,E=f._Zs,b=C.length,s=m.length,L=E.length,A=i.indexOf(f._gridFill.replace(/-/g,"").replace(/\+/g,"")),k=function(Ke,He,Ie){switch(A){case 5:return Ie+L*He+L*s*Ke;case 4:return Ie+L*Ke+L*b*He;case 3:return He+s*Ie+s*L*Ke;case 2:return He+s*Ke+s*b*Ie;case 1:return Ke+b*Ie+b*L*He;default:return Ke+b*He+b*s*Ie}},_=f._minValues,U=f._maxValues,F=f._vMin,z=f._vMax,B,N,V,W;function Q(Ke,He,Ie){for(var be=W.length,me=S;me<be;me++)if(Ke===B[me]&&He===N[me]&&Ie===V[me])return me;return-1}function re(){S=T}function ne(){B=[],N=[],V=[],W=[],T=0,re()}function fe(Ke,He,Ie,be){return B.push(Ke),N.push(He),V.push(Ie),W.push(be),T++,T-1}function $(Ke,He,Ie){return f._meshI.push(Ke),f._meshJ.push(He),f._meshK.push(Ie),d++,d-1}function X(Ke,He,Ie){for(var be=[],me=0;me<Ke.length;me++)be[me]=(Ke[me]+He[me]+Ie[me])/3;return be}function oe(Ke,He,Ie){for(var be=[],me=0;me<Ke.length;me++)be[me]=Ke[me]*(1-Ie)+Ie*He[me];return be}var Y;function ee(Ke){Y=Ke}function se(Ke,He){var Ie=Ke[0],be=Ke[1],me=Ke[2],Me=X(Ie,be,me),Te=Math.sqrt(1-Y),ze=oe(Me,Ie,Te),Je=oe(Me,be,Te),nt=oe(Me,me,Te),pt=He[0],yt=He[1],Yt=He[2];return{xyzv:[[Ie,be,Je],[Je,ze,Ie],[be,me,nt],[nt,Je,be],[me,Ie,ze],[ze,nt,me]],abc:[[pt,yt,-1],[-1,-1,pt],[yt,Yt,-1],[-1,-1,yt],[Yt,pt,-1],[-1,-1,Yt]]}}function q(Ke,He){return Ke==="all"||Ke===null?!0:Ke.indexOf(He)>-1}function K(Ke,He){return Ke===null?He:Ke}function le(Ke,He,Ie){re();var be=[He],me=[Ie];if(Y>=1)be=[He],me=[Ie];else if(Y>0){var Me=se(He,Ie);be=Me.xyzv,me=Me.abc}for(var Te=0;Te<be.length;Te++){He=be[Te],Ie=me[Te];for(var ze=[],Je=0;Je<3;Je++){var nt=He[Je][0],pt=He[Je][1],yt=He[Je][2],Yt=He[Je][3],Xt=Ie[Je]>-1?Ie[Je]:Q(nt,pt,yt);Xt>-1?ze[Je]=Xt:ze[Je]=fe(nt,pt,yt,K(Ke,Yt))}$(ze[0],ze[1],ze[2])}}function ie(Ke,He,Ie){var be=function(me,Me,Te){le(Ke,[He[me],He[Me],He[Te]],[Ie[me],Ie[Me],Ie[Te]])};be(0,1,2),be(2,3,0)}function he(Ke,He,Ie){var be=function(me,Me,Te){le(Ke,[He[me],He[Me],He[Te]],[Ie[me],Ie[Me],Ie[Te]])};be(0,1,2),be(3,0,1),be(2,3,0),be(1,2,3)}function ye(Ke,He,Ie,be){var me=Ke[3];me<Ie&&(me=Ie),me>be&&(me=be);for(var Me=(Ke[3]-me)/(Ke[3]-He[3]+1e-9),Te=[],ze=0;ze<4;ze++)Te[ze]=(1-Me)*Ke[ze]+Me*He[ze];return Te}function Ce(Ke,He,Ie){return Ke>=He&&Ke<=Ie}function Ae(Ke){var He=.001*(z-F);return Ke>=F-He&&Ke<=z+He}function ke(Ke){for(var He=[],Ie=0;Ie<4;Ie++){var be=Ke[Ie];He.push([f._x[be],f._y[be],f._z[be],f._value[be]])}return He}var we=3;function Ee(Ke,He,Ie,be,me,Me){Me||(Me=1),Ie=[-1,-1,-1];var Te=!1,ze=[Ce(He[0][3],be,me),Ce(He[1][3],be,me),Ce(He[2][3],be,me)];if(!ze[0]&&!ze[1]&&!ze[2])return!1;var Je=function(pt,yt,Yt){return Ae(yt[0][3])&&Ae(yt[1][3])&&Ae(yt[2][3])?(le(pt,yt,Yt),!0):Me<we?Ee(pt,yt,Yt,F,z,++Me):!1};if(ze[0]&&ze[1]&&ze[2])return Je(Ke,He,Ie)||Te;var nt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(pt){if(ze[pt[0]]&&ze[pt[1]]&&!ze[pt[2]]){var yt=He[pt[0]],Yt=He[pt[1]],Xt=He[pt[2]],St=ye(Xt,yt,be,me),kt=ye(Xt,Yt,be,me);Te=Je(Ke,[kt,St,yt],[-1,-1,Ie[pt[0]]])||Te,Te=Je(Ke,[yt,Yt,kt],[Ie[pt[0]],Ie[pt[1]],-1])||Te,nt=!0}}),nt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(pt){if(ze[pt[0]]&&!ze[pt[1]]&&!ze[pt[2]]){var yt=He[pt[0]],Yt=He[pt[1]],Xt=He[pt[2]],St=ye(Yt,yt,be,me),kt=ye(Xt,yt,be,me);Te=Je(Ke,[kt,St,yt],[-1,-1,Ie[pt[0]]])||Te,nt=!0}}),Te}function xe(Ke,He,Ie,be){var me=!1,Me=ke(He),Te=[Ce(Me[0][3],Ie,be),Ce(Me[1][3],Ie,be),Ce(Me[2][3],Ie,be),Ce(Me[3][3],Ie,be)];if(!Te[0]&&!Te[1]&&!Te[2]&&!Te[3])return me;if(Te[0]&&Te[1]&&Te[2]&&Te[3])return o&&(me=he(Ke,Me,He)||me),me;var ze=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Je){if(Te[Je[0]]&&Te[Je[1]]&&Te[Je[2]]&&!Te[Je[3]]){var nt=Me[Je[0]],pt=Me[Je[1]],yt=Me[Je[2]],Yt=Me[Je[3]];if(o)me=le(Ke,[nt,pt,yt],[He[Je[0]],He[Je[1]],He[Je[2]]])||me;else{var Xt=ye(Yt,nt,Ie,be),St=ye(Yt,pt,Ie,be),kt=ye(Yt,yt,Ie,be);me=le(null,[Xt,St,kt],[-1,-1,-1])||me}ze=!0}}),ze||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Je){if(Te[Je[0]]&&Te[Je[1]]&&!Te[Je[2]]&&!Te[Je[3]]){var nt=Me[Je[0]],pt=Me[Je[1]],yt=Me[Je[2]],Yt=Me[Je[3]],Xt=ye(yt,nt,Ie,be),St=ye(yt,pt,Ie,be),kt=ye(Yt,pt,Ie,be),Kt=ye(Yt,nt,Ie,be);o?(me=le(Ke,[nt,Kt,Xt],[He[Je[0]],-1,-1])||me,me=le(Ke,[pt,St,kt],[He[Je[1]],-1,-1])||me):me=ie(null,[Xt,St,kt,Kt],[-1,-1,-1,-1])||me,ze=!0}}),ze)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Je){if(Te[Je[0]]&&!Te[Je[1]]&&!Te[Je[2]]&&!Te[Je[3]]){var nt=Me[Je[0]],pt=Me[Je[1]],yt=Me[Je[2]],Yt=Me[Je[3]],Xt=ye(pt,nt,Ie,be),St=ye(yt,nt,Ie,be),kt=ye(Yt,nt,Ie,be);o?(me=le(Ke,[nt,Xt,St],[He[Je[0]],-1,-1])||me,me=le(Ke,[nt,St,kt],[He[Je[0]],-1,-1])||me,me=le(Ke,[nt,kt,Xt],[He[Je[0]],-1,-1])||me):me=le(null,[Xt,St,kt],[-1,-1,-1])||me,ze=!0}}),me}function Re(Ke,He,Ie,be,me,Me,Te,ze,Je,nt,pt){var yt=!1;return c&&(q(Ke,"A")&&(yt=xe(null,[He,Ie,be,Me],nt,pt)||yt),q(Ke,"B")&&(yt=xe(null,[Ie,be,me,Je],nt,pt)||yt),q(Ke,"C")&&(yt=xe(null,[Ie,Me,Te,Je],nt,pt)||yt),q(Ke,"D")&&(yt=xe(null,[be,Me,ze,Je],nt,pt)||yt),q(Ke,"E")&&(yt=xe(null,[Ie,be,Me,Je],nt,pt)||yt)),o&&(yt=xe(Ke,[Ie,be,Me,Je],nt,pt)||yt),yt}function Ve(Ke,He,Ie,be,me,Me,Te,ze){return[ze[0]===!0?!0:Ee(Ke,ke([He,Ie,be]),[He,Ie,be],Me,Te),ze[1]===!0?!0:Ee(Ke,ke([be,me,He]),[be,me,He],Me,Te)]}function Ue(Ke,He,Ie,be,me,Me,Te,ze,Je){return ze?Ve(Ke,He,Ie,me,be,Me,Te,Je):Ve(Ke,Ie,me,be,He,Me,Te,Je)}function Be(Ke,He,Ie,be,me,Me,Te){var ze=!1,Je,nt,pt,yt,Yt=function(){ze=Ee(Ke,[Je,nt,pt],[-1,-1,-1],me,Me)||ze,ze=Ee(Ke,[pt,yt,Je],[-1,-1,-1],me,Me)||ze},Xt=Te[0],St=Te[1],kt=Te[2];return Xt&&(Je=oe(ke([k(He,Ie-0,be-0)])[0],ke([k(He-1,Ie-0,be-0)])[0],Xt),nt=oe(ke([k(He,Ie-0,be-1)])[0],ke([k(He-1,Ie-0,be-1)])[0],Xt),pt=oe(ke([k(He,Ie-1,be-1)])[0],ke([k(He-1,Ie-1,be-1)])[0],Xt),yt=oe(ke([k(He,Ie-1,be-0)])[0],ke([k(He-1,Ie-1,be-0)])[0],Xt),Yt()),St&&(Je=oe(ke([k(He-0,Ie,be-0)])[0],ke([k(He-0,Ie-1,be-0)])[0],St),nt=oe(ke([k(He-0,Ie,be-1)])[0],ke([k(He-0,Ie-1,be-1)])[0],St),pt=oe(ke([k(He-1,Ie,be-1)])[0],ke([k(He-1,Ie-1,be-1)])[0],St),yt=oe(ke([k(He-1,Ie,be-0)])[0],ke([k(He-1,Ie-1,be-0)])[0],St),Yt()),kt&&(Je=oe(ke([k(He-0,Ie-0,be)])[0],ke([k(He-0,Ie-0,be-1)])[0],kt),nt=oe(ke([k(He-0,Ie-1,be)])[0],ke([k(He-0,Ie-1,be-1)])[0],kt),pt=oe(ke([k(He-1,Ie-1,be)])[0],ke([k(He-1,Ie-1,be-1)])[0],kt),yt=oe(ke([k(He-1,Ie-0,be)])[0],ke([k(He-1,Ie-0,be-1)])[0],kt),Yt()),ze}function Xe(Ke,He,Ie,be,me,Me,Te,ze,Je,nt,pt,yt){var Yt=Ke;return yt?(c&&Ke==="even"&&(Yt=null),Re(Yt,He,Ie,be,me,Me,Te,ze,Je,nt,pt)):(c&&Ke==="odd"&&(Yt=null),Re(Yt,Je,ze,Te,Me,me,be,Ie,He,nt,pt))}function ut(Ke,He,Ie,be,me){for(var Me=[],Te=0,ze=0;ze<He.length;ze++)for(var Je=He[ze],nt=1;nt<L;nt++)for(var pt=1;pt<s;pt++)Me.push(Ue(Ke,k(Je,pt-1,nt-1),k(Je,pt-1,nt),k(Je,pt,nt-1),k(Je,pt,nt),Ie,be,(Je+pt+nt)%2,me&&me[Te]?me[Te]:[])),Te++;return Me}function dt(Ke,He,Ie,be,me){for(var Me=[],Te=0,ze=0;ze<He.length;ze++)for(var Je=He[ze],nt=1;nt<b;nt++)for(var pt=1;pt<L;pt++)Me.push(Ue(Ke,k(nt-1,Je,pt-1),k(nt,Je,pt-1),k(nt-1,Je,pt),k(nt,Je,pt),Ie,be,(nt+Je+pt)%2,me&&me[Te]?me[Te]:[])),Te++;return Me}function at(Ke,He,Ie,be,me){for(var Me=[],Te=0,ze=0;ze<He.length;ze++)for(var Je=He[ze],nt=1;nt<s;nt++)for(var pt=1;pt<b;pt++)Me.push(Ue(Ke,k(pt-1,nt-1,Je),k(pt-1,nt,Je),k(pt,nt-1,Je),k(pt,nt,Je),Ie,be,(pt+nt+Je)%2,me&&me[Te]?me[Te]:[])),Te++;return Me}function We(Ke,He,Ie){for(var be=1;be<L;be++)for(var me=1;me<s;me++)for(var Me=1;Me<b;Me++)Xe(Ke,k(Me-1,me-1,be-1),k(Me-1,me-1,be),k(Me-1,me,be-1),k(Me-1,me,be),k(Me,me-1,be-1),k(Me,me-1,be),k(Me,me,be-1),k(Me,me,be),He,Ie,(Me+me+be)%2)}function rt(Ke,He,Ie){o=!0,We(Ke,He,Ie),o=!1}function st(Ke,He,Ie){c=!0,We(Ke,He,Ie),c=!1}function ht(Ke,He,Ie,be,me,Me){for(var Te=[],ze=0,Je=0;Je<He.length;Je++)for(var nt=He[Je],pt=1;pt<L;pt++)for(var yt=1;yt<s;yt++)Te.push(Be(Ke,nt,yt,pt,Ie,be,me[Je],Me&&Me[ze]?Me[ze]:[])),ze++;return Te}function vt(Ke,He,Ie,be,me,Me){for(var Te=[],ze=0,Je=0;Je<He.length;Je++)for(var nt=He[Je],pt=1;pt<b;pt++)for(var yt=1;yt<L;yt++)Te.push(Be(Ke,pt,nt,yt,Ie,be,me[Je],Me&&Me[ze]?Me[ze]:[])),ze++;return Te}function At(Ke,He,Ie,be,me,Me){for(var Te=[],ze=0,Je=0;Je<He.length;Je++)for(var nt=He[Je],pt=1;pt<s;pt++)for(var yt=1;yt<b;yt++)Te.push(Be(Ke,yt,pt,nt,Ie,be,me[Je],Me&&Me[ze]?Me[ze]:[])),ze++;return Te}function tt(Ke,He){for(var Ie=[],be=Ke;be<He;be++)Ie.push(be);return Ie}function _e(){for(var Ke=0;Ke<b;Ke++)for(var He=0;He<s;He++)for(var Ie=0;Ie<L;Ie++){var be=k(Ke,He,Ie);fe(f._x[be],f._y[be],f._z[be],f._value[be])}}function je(){ne(),_e();var Ke=null;if(y&&M&&(ee(M),rt(Ke,F,z)),l&&h){ee(h);for(var He=f.surface.pattern,Ie=f.surface.count,be=0;be<Ie;be++){var me=Ie===1?.5:be/(Ie-1),Me=(1-me)*F+me*z,Te=Math.abs(Me-_),ze=Math.abs(Me-U),Je=Te>ze?[_,Me]:[Me,U];st(He,Je[0],Je[1])}}var nt=[[Math.min(F,U),Math.max(F,U)],[Math.min(_,z),Math.max(_,z)]];["x","y","z"].forEach(function(pt){for(var yt=[],Yt=0;Yt<nt.length;Yt++){var Xt=0,St=nt[Yt][0],kt=nt[Yt][1],Kt=f.slices[pt];if(Kt.show&&Kt.fill){ee(Kt.fill);var mr=[],mt=[],Zt=[];if(Kt.locations.length)for(var Qt=0;Qt<Kt.locations.length;Qt++){var yr=p(Kt.locations[Qt],pt==="x"?C:pt==="y"?m:E);yr.distRatio===0?mr.push(yr.id):yr.id>0&&(mt.push(yr.id),pt==="x"?Zt.push([yr.distRatio,0,0]):pt==="y"?Zt.push([0,yr.distRatio,0]):Zt.push([0,0,yr.distRatio]))}else pt==="x"?mr=tt(1,b-1):pt==="y"?mr=tt(1,s-1):mr=tt(1,L-1);mt.length>0&&(pt==="x"?yt[Xt]=ht(Ke,mt,St,kt,Zt,yt[Xt]):pt==="y"?yt[Xt]=vt(Ke,mt,St,kt,Zt,yt[Xt]):yt[Xt]=At(Ke,mt,St,kt,Zt,yt[Xt]),Xt++),mr.length>0&&(pt==="x"?yt[Xt]=ut(Ke,mr,St,kt,yt[Xt]):pt==="y"?yt[Xt]=dt(Ke,mr,St,kt,yt[Xt]):yt[Xt]=at(Ke,mr,St,kt,yt[Xt]),Xt++)}var sr=f.caps[pt];sr.show&&sr.fill&&(ee(sr.fill),pt==="x"?yt[Xt]=ut(Ke,[0,b-1],St,kt,yt[Xt]):pt==="y"?yt[Xt]=dt(Ke,[0,s-1],St,kt,yt[Xt]):yt[Xt]=at(Ke,[0,L-1],St,kt,yt[Xt]),Xt++)}}),d===0&&ne(),f._meshX=B,f._meshY=N,f._meshZ=V,f._meshIntensity=W,f._Xs=C,f._Ys=m,f._Zs=E}return je(),f}function u(f,l){var y=f.glplot.gl,h=g({gl:y}),M=new r(f,h,l.uid);return h._trace=M,M.update(l),f.glplot.add(h),M}H.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:u}},70548:function(H,j,e){var g=e(3400),P=e(24040),a=e(50048),x=e(27260);function w(p,r,t,i){function n(u,f){return g.coerce(p,r,a,u,f)}v(p,r,t,i,n)}function v(p,r,t,i,n){var u=n("isomin"),f=n("isomax");f!=null&&u!==void 0&&u!==null&&u>f&&(r.isomin=null,r.isomax=null);var l=n("x"),y=n("y"),h=n("z"),M=n("value");if(!l||!l.length||!y||!y.length||!h||!h.length||!M||!M.length){r.visible=!1;return}var c=P.getComponentMethod("calendars","handleTraceDefaults");c(p,r,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(S){n(S+"hoverformat");var C="caps."+S,m=n(C+".show");m&&n(C+".fill");var E="slices."+S,b=n(E+".show");b&&(n(E+".fill"),n(E+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var T=n("contour.show");T&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(S){n(S)}),x(p,r,i,n,{prefix:"",cLetter:"c"}),r._length=null}H.exports={supplyDefaults:w,supplyIsoDefaults:v}},6296:function(H,j,e){H.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(H,j,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(16716),w=e(45464),v=e(92880).extendFlat;H.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:x.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},x.contours.x.show,{}),color:x.contours.x.color,width:x.contours.x.width,editType:"calc"},lightposition:{x:v({},x.lightposition.x,{dflt:1e5}),y:v({},x.lightposition.y,{dflt:1e5}),z:v({},x.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},x.lighting),hoverinfo:v({},w.hoverinfo,{editType:"calc"}),showlegend:v({},w.showlegend,{dflt:!1})})},1876:function(H,j,e){var g=e(47128);H.exports=function(a,x){x.intensity&&g(a,x,{vals:x.intensity,containerStr:"",cLetter:"c"})}},576:function(H,j,e){var g=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,a=e(67792).alpha_shape,x=e(67792).convex_hull,w=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function i(c,o,d){this.scene=c,this.uid=d,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(c){if(c.object===this.mesh){var o=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[o],this.data.y[o],this.data.z[o]];var d=this.data.hovertext||this.data.text;return v(d)&&d[o]!==void 0?c.textLabel=d[o]:d&&(c.textLabel=d),!0}};function u(c){for(var o=[],d=c.length,T=0;T<d;T++)o[T]=p(c[T]);return o}function f(c,o,d,T){for(var S=[],C=o.length,m=0;m<C;m++)S[m]=c.d2l(o[m],0,T)*d;return S}function l(c){for(var o=[],d=c.length,T=0;T<d;T++)o[T]=Math.round(c[T]);return o}function y(c,o){for(var d=["x","y","z"].indexOf(c),T=[],S=o.length,C=0;C<S;C++)T[C]=[o[C][(d+1)%3],o[C][(d+2)%3]];return P(T)}function h(c,o){for(var d=c.length,T=0;T<d;T++)if(c[T]<=-.5||c[T]>=o-.5)return!1;return!0}n.update=function(c){var o=this.scene,d=o.fullSceneLayout;this.data=c;var T=c.x.length,S=t(f(d.xaxis,c.x,o.dataScale[0],c.xcalendar),f(d.yaxis,c.y,o.dataScale[1],c.ycalendar),f(d.zaxis,c.z,o.dataScale[2],c.zcalendar)),C;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,T)||!h(c.j,T)||!h(c.k,T))return;C=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?C=x(S):c.alphahull>0?C=a(c.alphahull,S):C=y(c.delaunayaxis,S);var m={positions:S,cells:C,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:p(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var E=r(c);this.color="#fff";var b=c.intensitymode;m[b+"Intensity"]=c.intensity,m[b+"IntensityBounds"]=[E.min,E.max],m.colormap=w(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],m.vertexColors=u(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],m.cellColors=u(c.facecolor)):(this.color=c.color,m.meshColor=p(c.color));this.mesh.update(m)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function M(c,o){var d=c.glplot.gl,T=g({gl:d}),S=new i(c,T,o.uid);return T._trace=S,S.update(o),c.glplot.add(T),S}H.exports=M},74212:function(H,j,e){var g=e(24040),P=e(3400),a=e(27260),x=e(52948);H.exports=function(v,p,r,t){function i(y,h){return P.coerce(v,p,x,y,h)}function n(y){var h=y.map(function(M){var c=i(M);return c&&P.isArrayOrTypedArray(c)?c:null});return h.every(function(M){return M&&M.length===h[0].length})&&h}var u=n(["x","y","z"]);if(!u){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var f=g.getComponentMethod("calendars","handleTraceDefaults");f(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){i(y)});var l=i("contour.show");l&&(i("contour.color"),i("contour.width")),"intensity"in v?(i("intensity"),i("intensitymode"),a(v,p,t,i,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?i("facecolor"):"vertexcolor"in v?i("vertexcolor"):i("color",r)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),p._length=null}},7404:function(H,j,e){H.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(H,j,e){var g=e(3400).extendFlat,P=e(52904),a=e(29736).axisHoverFormat,x=e(98192).u,w=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function i(n){return{line:{color:g({},t.color,{dflt:n}),width:t.width,dash:x,editType:"style"},editType:"style"}}H.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},t.width,{}),dash:g({},x,{}),editType:"style"},increasing:i(p),decreasing:i(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},w.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(H,j,e){var g=e(3400),P=g._,a=e(54460),x=e(1220),w=e(39032).BADNUM;function v(i,n){var u=a.getFromId(i,n.xaxis),f=a.getFromId(i,n.yaxis),l=t(i,u,n),y=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var M=n._xcalc;n._xcalc=null;var c=r(i,n,h,M,f,p);return n._extremes[u._id]=a.findExtremes(u,M,{vpad:y/2}),c.length?(g.extendFlat(c[0].t,{wHover:y/2,tickLen:l}),c):[{t:{empty:!0}}]}function p(i,n,u,f){return{o:i,h:n,l:u,c:f}}function r(i,n,u,f,l,y){for(var h=l.makeCalcdata(n,"open"),M=l.makeCalcdata(n,"high"),c=l.makeCalcdata(n,"low"),o=l.makeCalcdata(n,"close"),d=g.isArrayOrTypedArray(n.text),T=g.isArrayOrTypedArray(n.hovertext),S=!0,C=null,m=!!n.xperiodalignment,E=[],b=0;b<f.length;b++){var s=f[b],L=h[b],A=M[b],k=c[b],_=o[b];if(s!==w&&L!==w&&A!==w&&k!==w&&_!==w){_===L?C!==null&&_!==C&&(S=_>C):S=_>L,C=_;var U=y(L,A,k,_);U.pos=s,U.yc=(L+_)/2,U.i=b,U.dir=S?"increasing":"decreasing",U.x=U.pos,U.y=[k,A],m&&(U.orig_p=u[b]),d&&(U.tx=n.text[b]),T&&(U.htx=n.hovertext[b]),E.push(U)}else E.push({pos:s,empty:!0})}return n._extremes[l._id]=a.findExtremes(l,g.concat(c,M),{padded:!0}),E.length&&(E[0].t={labels:{open:P(i,"open:")+" ",high:P(i,"high:")+" ",low:P(i,"low:")+" ",close:P(i,"close:")+" "}}),E}function t(i,n,u){var f=u._minDiff;if(!f){var l=i._fullData,y=[];f=1/0;var h;for(h=0;h<l.length;h++){var M=l[h];if(M.type==="ohlc"&&M.visible===!0&&M.xaxis===n._id){y.push(M);var c=n.makeCalcdata(M,"x");M._origX=c;var o=x(u,n,"x",c).vals;M._xcalc=o;var d=g.distinctVals(o).minDiff;d&&isFinite(d)&&(f=Math.min(f,d))}}for(f===1/0&&(f=1),h=0;h<y.length;h++)y[h]._minDiff=f}return f*u.tickwidth}H.exports={calc:v,calcCommon:r}},23860:function(H,j,e){var g=e(3400),P=e(52744),a=e(31147),x=e(20279);H.exports=function(p,r,t,i){function n(f,l){return g.coerce(p,r,x,f,l)}var u=P(p,r,n,i);if(!u){r.visible=!1;return}a(p,r,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),w(p,r,n,"increasing"),w(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[r.xaxis]=!0};function w(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(H,j,e){var g=e(54460),P=e(3400),a=e(93024),x=e(76308),w=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(u,f,l,y){var h=u.cd,M=h[0].trace;return M.hoverlabel.split?i(u,f,l,y):n(u,f,l,y)}function t(u,f,l,y){var h=u.cd,M=u.xa,c=h[0].trace,o=h[0].t,d=c.type,T=d==="ohlc"?"l":"min",S=d==="ohlc"?"h":"max",C,m,E=o.bPos||0,b=function(W){return W.pos+E-f},s=o.bdPos||o.tickLen,L=o.wHover,A=Math.min(1,s/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));C=u.maxHoverDistance-A,m=u.maxSpikeDistance-A;function k(W){var Q=b(W);return a.inbox(Q-L,Q+L,C)}function _(W){var Q=W[T],re=W[S];return Q===re||a.inbox(Q-l,re-l,C)}function U(W){return(k(W)+_(W))/2}var F=a.getDistanceFunction(y,k,_,U);if(a.getClosest(h,F,u),u.index===!1)return null;var z=h[u.index];if(z.empty)return null;var B=z.dir,N=c[B],V=N.line.color;return x.opacity(V)&&N.line.width?u.color=V:u.color=N.fillcolor,u.x0=M.c2p(z.pos+E-s,!0),u.x1=M.c2p(z.pos+E+s,!0),u.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,u.spikeDistance=U(z)*m/C,u.xSpike=M.c2p(z.pos,!0),u}function i(u,f,l,y){var h=u.cd,M=u.ya,c=h[0].trace,o=h[0].t,d=[],T=t(u,f,l,y);if(!T)return[];var S=T.index,C=h[S],m=C.hi||c.hoverinfo,E=m.split("+"),b=m==="all",s=b||E.indexOf("y")!==-1;if(!s)return[];for(var L=["high","open","close","low"],A={},k=0;k<L.length;k++){var _=L[k],U=c[_][T.index],F=M.c2p(U,!0),z;U in A?(z=A[U],z.yLabel+="<br>"+o.labels[_]+g.hoverLabelText(M,U,c.yhoverformat)):(z=P.extendFlat({},T),z.y0=z.y1=F,z.yLabelVal=U,z.yLabel=o.labels[_]+g.hoverLabelText(M,U,c.yhoverformat),z.name="",d.push(z),A[U]=z)}return d}function n(u,f,l,y){var h=u.cd,M=u.ya,c=h[0].trace,o=h[0].t,d=t(u,f,l,y);if(!d)return[];var T=d.index,S=h[T],C=d.index=S.i,m=S.dir;function E(U){return o.labels[U]+g.hoverLabelText(M,c[U][C],c.yhoverformat)}var b=S.hi||c.hoverinfo,s=b.split("+"),L=b==="all",A=L||s.indexOf("y")!==-1,k=L||s.indexOf("text")!==-1,_=A?[E("open"),E("high"),E("low"),E("close")+"  "+p[m]]:[];return k&&w(S,c,_),d.extraText=_.join("<br>"),d.y0=d.y1=M.c2p(S.yc,!0),[d]}H.exports={hoverPoints:r,hoverSplit:i,hoverOnPoints:n}},65456:function(H,j,e){H.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(H,j,e){var g=e(24040),P=e(3400);H.exports=function(x,w,v,p){var r=v("x"),t=v("open"),i=v("high"),n=v("low"),u=v("close");v("hoverlabel.split");var f=g.getComponentMethod("calendars","handleTraceDefaults");if(f(x,w,["x"],p),!!(t&&i&&n&&u)){var l=Math.min(t.length,i.length,n.length,u.length);return r&&(l=Math.min(l,P.minRowLength(r))),w._length=l,l}}},36664:function(H,j,e){var g=e(33428),P=e(3400);H.exports=function(x,w,v,p){var r=w.yaxis,t=w.xaxis,i=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var u=g.select(this),f=n[0],l=f.t,y=f.trace;if(y.visible!==!0||l.empty){u.remove();return}var h=l.tickLen,M=u.selectAll("path").data(P.identity);M.enter().append("path"),M.exit().remove(),M.attr("d",function(c){if(c.empty)return"M0,0Z";var o=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),T=i?(o+d)/2:t.c2p(c.pos,!0),S=r.c2p(c.o,!0),C=r.c2p(c.h,!0),m=r.c2p(c.l,!0),E=r.c2p(c.c,!0);return"M"+o+","+S+"H"+T+"M"+T+","+C+"V"+m+"M"+d+","+E+"H"+T})})}},97384:function(H){H.exports=function(e,g){var P=e.cd,a=e.xaxis,x=e.yaxis,w=[],v,p=P[0].t.bPos||0;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];g.contains([a.c2p(r.pos+p),x.c2p(r.yc)],null,r.i,e)?(w.push({pointNumber:r.i,x:a.c2d(r.pos),y:x.c2d(r.yc)}),r.selected=1):r.selected=0}return w}},14008:function(H,j,e){var g=e(33428),P=e(43616),a=e(76308);H.exports=function(w,v,p){var r=p||g.select(w).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var i=t[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var u=i[n.dir].line;g.select(this).style("fill","none").call(a.stroke,u.color).call(P.dashLine,u.dash,u.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(H,j,e){var g=e(92880).extendFlat,P=e(45464),a=e(25376),x=e(49084),w=e(21776).Ks,v=e(86968).u,p=g({editType:"calc"},x("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});H.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(H,j,e){var g=e(84888)._M,P=e(60268),a="parcats";j.name=a,j.plot=function(x,w,v,p){var r=g(x.calcdata,a);if(r.length){var t=r[0];P(x,t,v,p)}},j.clean=function(x,w,v,p){var r=p._has&&p._has("parcats"),t=w._has&&w._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(H,j,e){var g=e(71688).wrap,P=e(94288).hasColorscale,a=e(47128),x=e(68944),w=e(43616),v=e(3400),p=e(38248);H.exports=function(o,d){var T=v.filterVisible(d.dimensions);if(T.length===0)return[];var S=T.map(function($){var X;if($.categoryorder==="trace")X=null;else if($.categoryorder==="array")X=$.categoryarray;else{X=x($.values);for(var oe=!0,Y=0;Y<X.length;Y++)if(!p(X[Y])){oe=!1;break}X.sort(oe?v.sorterAsc:void 0),$.categoryorder==="category descending"&&(X=X.reverse())}return l($.values,X)}),C,m,E;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],y(T),T.forEach(function($,X){h($,S[X])});var b=d.line,s;b?(P(d,"line")&&a(o,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),s=w.tryColorscale(b)):s=v.identity;function L($){var X,oe;return v.isArrayOrTypedArray(b.color)?(X=b.color[$%b.color.length],oe=X):X=b.color,{color:s(X),rawColor:oe}}var A=T[0].values.length,k={},_=S.map(function($){return $.inds});E=0;var U,F;for(U=0;U<A;U++){var z=[];for(F=0;F<_.length;F++)z.push(_[F][U]);m=C[U%C.length],E+=m;var B=L(U),N=z+"-"+B.rawColor;k[N]===void 0&&(k[N]=u(z,B.color,B.rawColor)),f(k[N],U,m)}var V=T.map(function($,X){return t(X,$._index,$._displayindex,$.label,E)});for(U=0;U<A;U++)for(m=C[U%C.length],F=0;F<V.length;F++){var W=V[F].containerInd,Q=S[F].inds[U],re=V[F].categories;if(re[Q]===void 0){var ne=d.dimensions[W]._categoryarray[Q],fe=d.dimensions[W]._ticktext[Q];re[Q]=i(F,Q,ne,fe)}n(re[Q],U,m)}return g(r(V,k,E))};function r(c,o,d){var T=c.map(function(S){return S.categories.length}).reduce(function(S,C){return Math.max(S,C)});return{dimensions:c,paths:o,trace:void 0,maxCats:T,count:d}}function t(c,o,d,T,S){return{dimensionInd:c,containerInd:o,displayInd:d,dimensionLabel:T,count:S,categories:[],dragX:null}}function i(c,o,d,T){return{dimensionInd:c,categoryInd:o,categoryValue:d,displayInd:o,categoryLabel:T,valueInds:[],count:0,dragY:null}}function n(c,o,d){c.valueInds.push(o),c.count+=d}function u(c,o,d){return{categoryInds:c,color:o,rawColor:d,valueInds:[],count:0}}function f(c,o,d){c.valueInds.push(o),c.count+=d}function l(c,o){o==null?o=[]:o=o.map(function(s){return s});var d={},T={},S=[];o.forEach(function(s,L){d[s]=0,T[s]=L});for(var C=0;C<c.length;C++){var m=c[C],E;d[m]===void 0?(d[m]=1,E=o.push(m)-1,T[m]=E):(d[m]++,E=T[m]),S.push(E)}var b=o.map(function(s){return d[s]});return{uniqueValues:o,uniqueCounts:b,inds:S}}function y(c){var o=c.map(function(T){return T.displayindex}),d;if(M(o))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,o){c._categoryarray=o.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<o.uniqueValues.length;d++)c._ticktext.push(o.uniqueValues[d])}function M(c){for(var o=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||o[c[d]]!==void 0)return!1;o[c[d]]=!0}return!0}},76671:function(H,j,e){var g=e(3400),P=e(94288).hasColorscale,a=e(27260),x=e(86968).Q,w=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,u,f,l,y){y("line.shape"),y("line.hovertemplate");var h=y("line.color",l.colorway[0]);if(P(n,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return y("line.colorscale"),a(n,u,l,y,{prefix:"line.",cLetter:"c"}),h.length;u.line.color=f}return 1/0}function i(n,u){function f(d,T){return g.coerce(n,u,v.dimensions,d,T)}var l=f("values"),y=f("visible");if(l&&l.length||(y=u.visible=!1),y){f("label"),f("displayindex",u._index);var h=n.categoryarray,M=g.isArrayOrTypedArray(h)&&h.length>0||r(h),c;M&&(c="array");var o=f("categoryorder",c);o==="array"?(f("categoryarray"),f("ticktext")):(delete n.categoryarray,delete n.ticktext),!M&&o==="array"&&(u.categoryorder="trace")}}H.exports=function(u,f,l,y){function h(T,S){return g.coerce(u,f,v,T,S)}var M=w(u,f,{name:"dimensions",handleItemDefaults:i}),c=t(u,f,l,y,h);x(f,y,h),(!Array.isArray(M)||!M.length)&&(f.visible=!1),p(f,M,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var o={family:y.font.family,size:Math.round(y.font.size),color:y.font.color};g.coerceFont(h,"labelfont",o);var d={family:y.font.family,size:Math.round(y.font.size/1.2),color:y.font.color};g.coerceFont(h,"tickfont",d)}},22020:function(H,j,e){H.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(H,j,e){var g=e(33428),P=e(67756).Gz,a=e(36424),x=e(93024),w=e(3400),v=w.strTranslate,p=e(43616),r=e(49760),t=e(72736);function i(Y,ee,se,q){var K=ee._context.staticPlot,le=Y.map(ne.bind(0,ee,se)),ie=q.selectAll("g.parcatslayer").data([null]);ie.enter().append("g").attr("class","parcatslayer").style("pointer-events",K?"none":"all");var he=ie.selectAll("g.trace.parcats").data(le,n),ye=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(Xe){return v(Xe.x,Xe.y)}),ye.append("g").attr("class","paths");var Ce=he.select("g.paths"),Ae=Ce.selectAll("path.path").data(function(Xe){return Xe.paths},n);Ae.attr("fill",function(Xe){return Xe.model.color});var ke=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Xe){return Xe.model.color}).attr("fill-opacity",0);o(ke),Ae.attr("d",function(Xe){return Xe.svgD}),ke.empty()||Ae.sort(f),Ae.exit().remove(),Ae.on("mouseover",l).on("mouseout",y).on("click",c),ye.append("g").attr("class","dimensions");var we=he.select("g.dimensions"),Ee=we.selectAll("g.dimension").data(function(Xe){return Xe.dimensions},n);Ee.enter().append("g").attr("class","dimension"),Ee.attr("transform",function(Xe){return v(Xe.x,0)}),Ee.exit().remove();var xe=Ee.selectAll("g.category").data(function(Xe){return Xe.categories},n),Re=xe.enter().append("g").attr("class","category");xe.attr("transform",function(Xe){return v(0,Xe.y)}),Re.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(Xe){return Xe.width}).attr("height",function(Xe){return Xe.height}),S(Re);var Ve=xe.selectAll("rect.bandrect").data(function(Xe){return Xe.bands},n);Ve.each(function(){w.raiseToTop(this)}),Ve.attr("fill",function(Xe){return Xe.color});var Ue=Ve.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Xe){return Xe.color}).attr("fill-opacity",0);Ve.attr("fill",function(Xe){return Xe.color}).attr("width",function(Xe){return Xe.width}).attr("height",function(Xe){return Xe.height}).attr("y",function(Xe){return Xe.y}).attr("cursor",function(Xe){return Xe.parcatsViewModel.arrangement==="fixed"?"default":Xe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Ue),Ve.exit().remove(),Re.append("text").attr("class","catlabel").attr("pointer-events","none");var Be=ee._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(Xe){return u(Xe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(Be)).style("fill","rgb(0, 0, 0)").attr("x",function(Xe){return u(Xe)?Xe.width+5:-5}).attr("y",function(Xe){return Xe.height/2}).text(function(Xe){return Xe.model.categoryLabel}).each(function(Xe){p.font(g.select(this),Xe.parcatsViewModel.categorylabelfont),t.convertToTspans(g.select(this),ee)}),Re.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Xe){return Xe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Xe){return Xe.width/2}).attr("y",-5).text(function(Xe,ut){return ut===0?Xe.parcatsViewModel.model.dimensions[Xe.model.dimensionInd].dimensionLabel:null}).each(function(Xe){p.font(g.select(this),Xe.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",z),xe.exit().remove(),Ee.call(g.behavior.drag().origin(function(Xe){return{x:Xe.x,y:0}}).on("dragstart",B).on("drag",N).on("dragend",V)),he.each(function(Xe){Xe.traceSelection=g.select(this),Xe.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),Xe.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}H.exports=function(Y,ee,se,q){i(se,Y,q,ee)};function n(Y){return Y.key}function u(Y){var ee=Y.parcatsViewModel.dimensions.length,se=Y.parcatsViewModel.dimensions[ee-1].model.dimensionInd;return Y.model.dimensionInd===se}function f(Y,ee){return Y.model.rawColor>ee.model.rawColor?1:Y.model.rawColor<ee.model.rawColor?-1:0}function l(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){w.raiseToTop(this),d(g.select(this));var ee=h(Y),se=M(Y);if(Y.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ee,event:g.event,constraints:se}),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var q=g.mouse(this)[0],K=Y.parcatsViewModel.graphDiv,le=Y.parcatsViewModel.trace,ie=K._fullLayout,he=ie._paperdiv.node().getBoundingClientRect(),ye=Y.parcatsViewModel.graphDiv.getBoundingClientRect(),Ce,Ae,ke;for(ke=0;ke<Y.leftXs.length-1;ke++)if(Y.leftXs[ke]+Y.dimWidths[ke]-2<=q&&q<=Y.leftXs[ke+1]+2){var we=Y.parcatsViewModel.dimensions[ke],Ee=Y.parcatsViewModel.dimensions[ke+1];Ce=(we.x+we.width+Ee.x)/2,Ae=(Y.topYs[ke]+Y.topYs[ke+1]+Y.height)/2;break}var xe=Y.parcatsViewModel.x+Ce,Re=Y.parcatsViewModel.y+Ae,Ve=r.mostReadable(Y.model.color,["black","white"]),Ue=Y.model.count,Be=Ue/Y.parcatsViewModel.model.count,Xe={countLabel:Ue,probabilityLabel:Be.toFixed(3)},ut=[];Y.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ut.push(["Count:",Xe.countLabel].join(" ")),Y.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ut.push(["P:",Xe.probabilityLabel].join(" "));var dt=ut.join("<br>"),at=g.mouse(K)[0];x.loneHover({trace:le,x:xe-he.left+ye.left,y:Re-he.top+ye.top,text:dt,color:Y.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ve,idealAlign:at<xe?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:Xe,eventData:[{data:le._input,fullData:le,count:Ue,probability:Be}]},{container:ie._hoverlayer.node(),outerContainer:ie._paper.node(),gd:K})}}}function y(Y){if(!Y.parcatsViewModel.dragDimension&&(o(g.select(this)),x.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Y.parcatsViewModel.pathSelection.sort(f),Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var ee=h(Y),se=M(Y);Y.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ee,event:g.event,constraints:se})}}function h(Y){for(var ee=[],se=W(Y.parcatsViewModel),q=0;q<Y.model.valueInds.length;q++){var K=Y.model.valueInds[q];ee.push({curveNumber:se,pointNumber:K})}return ee}function M(Y){for(var ee={},se=Y.parcatsViewModel.model.dimensions,q=0;q<se.length;q++){var K=se[q],le=K.categories[Y.model.categoryInds[q]];ee[K.containerInd]=le.categoryValue}return Y.model.rawColor!==void 0&&(ee.color=Y.model.rawColor),ee}function c(Y){if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ee=h(Y),se=M(Y);Y.parcatsViewModel.graphDiv.emit("plotly_click",{points:ee,event:g.event,constraints:se})}}function o(Y){Y.attr("fill",function(ee){return ee.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(Y){Y.attr("fill-opacity",.8).attr("stroke",function(ee){return r.mostReadable(ee.model.color,["black","white"])}).attr("stroke-width",.3)}function T(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function S(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(Y){Y.attr("stroke","black").attr("stroke-width",1.5)}function m(Y){Y.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(Y){var ee=Y.parcatsViewModel.pathSelection,se=Y.categoryViewModel.model.dimensionInd,q=Y.categoryViewModel.model.categoryInd;return ee.filter(function(K){return K.model.categoryInds[se]===q&&K.model.color===Y.color})}function b(Y){var ee=g.select(Y.parentNode).selectAll("rect.bandrect");ee.each(function(se){var q=E(se);d(q),q.each(function(){w.raiseToTop(this)})}),T(g.select(Y.parentNode))}function s(Y){var ee=g.select(Y).datum(),se=E(ee);d(se),se.each(function(){w.raiseToTop(this)}),g.select(Y.parentNode).selectAll("rect.bandrect").filter(function(q){return q.color===ee.color}).each(function(){w.raiseToTop(this),C(g.select(this))})}function L(Y,ee,se){var q=g.select(Y).datum(),K=q.categoryViewModel.model,le=q.parcatsViewModel.graphDiv,ie=g.select(Y.parentNode).selectAll("rect.bandrect"),he=[];ie.each(function(Ce){var Ae=E(Ce);Ae.each(function(ke){Array.prototype.push.apply(he,h(ke))})});var ye={};ye[K.dimensionInd]=K.categoryValue,le.emit(ee,{points:he,event:se,constraints:ye})}function A(Y,ee,se){var q=g.select(Y).datum(),K=q.categoryViewModel.model,le=q.parcatsViewModel.graphDiv,ie=E(q),he=[];ie.each(function(Ce){Array.prototype.push.apply(he,h(Ce))});var ye={};ye[K.dimensionInd]=K.categoryValue,q.rawColor!==void 0&&(ye.color=q.rawColor),le.emit(ee,{points:he,event:se,constraints:ye})}function k(Y,ee,se){Y._fullLayout._calcInverseTransform(Y);var q=Y._fullLayout._invScaleX,K=Y._fullLayout._invScaleY,le=g.select(se.parentNode).select("rect.catrect"),ie=le.node().getBoundingClientRect(),he=le.datum(),ye=he.parcatsViewModel,Ce=ye.model.dimensions[he.model.dimensionInd],Ae=ye.trace,ke=ie.top+ie.height/2,we,Ee;ye.dimensions.length>1&&Ce.displayInd===ye.dimensions.length-1?(we=ie.left,Ee="left"):(we=ie.left+ie.width,Ee="right");var xe=he.model.count,Re=he.model.categoryLabel,Ve=xe/he.parcatsViewModel.model.count,Ue={countLabel:xe,categoryLabel:Re,probabilityLabel:Ve.toFixed(3)},Be=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Be.push(["Count:",Ue.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Be.push(["P("+Ue.categoryLabel+"):",Ue.probabilityLabel].join(" "));var Xe=Be.join("<br>");return{trace:Ae,x:q*(we-ee.left),y:K*(ke-ee.top),text:Xe,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ee,hovertemplate:Ae.hovertemplate,hovertemplateLabels:Ue,eventData:[{data:Ae._input,fullData:Ae,count:xe,category:Re,probability:Ve}]}}function _(Y,ee,se){var q=[];return g.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var K=this;q.push(k(Y,ee,K))}),q}function U(Y,ee,se){Y._fullLayout._calcInverseTransform(Y);var q=Y._fullLayout._invScaleX,K=Y._fullLayout._invScaleY,le=se.getBoundingClientRect(),ie=g.select(se).datum(),he=ie.categoryViewModel,ye=he.parcatsViewModel,Ce=ye.model.dimensions[he.model.dimensionInd],Ae=ye.trace,ke=le.y+le.height/2,we,Ee;ye.dimensions.length>1&&Ce.displayInd===ye.dimensions.length-1?(we=le.left,Ee="left"):(we=le.left+le.width,Ee="right");var xe=he.model.categoryLabel,Re=ie.parcatsViewModel.model.count,Ve=0;ie.categoryViewModel.bands.forEach(function(ht){ht.color===ie.color&&(Ve+=ht.count)});var Ue=he.model.count,Be=0;ye.pathSelection.each(function(ht){ht.model.color===ie.color&&(Be+=ht.model.count)});var Xe=Ve/Re,ut=Ve/Be,dt=Ve/Ue,at={countLabel:Re,categoryLabel:xe,probabilityLabel:Xe.toFixed(3)},We=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&We.push(["Count:",at.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(We.push("P(color ∩ "+xe+"): "+at.probabilityLabel),We.push("P("+xe+" | color): "+ut.toFixed(3)),We.push("P(color | "+xe+"): "+dt.toFixed(3)));var rt=We.join("<br>"),st=r.mostReadable(ie.color,["black","white"]);return{trace:Ae,x:q*(we-ee.left),y:K*(ke-ee.top),text:rt,color:ie.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:st,fontSize:10,idealAlign:Ee,hovertemplate:Ae.hovertemplate,hovertemplateLabels:at,eventData:[{data:Ae._input,fullData:Ae,category:xe,count:Re,probability:Xe,categorycount:Ue,colorcount:Be,bandcolorcount:Ve}]}}function F(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ee=g.mouse(this)[1];if(ee<-1)return;var se=Y.parcatsViewModel.graphDiv,q=se._fullLayout,K=q._paperdiv.node().getBoundingClientRect(),le=Y.parcatsViewModel.hoveron,ie=this;if(le==="color"?(s(ie),A(ie,"plotly_hover",g.event)):(b(ie),L(ie,"plotly_hover",g.event)),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;le==="category"?he=k(se,K,ie):le==="color"?he=U(se,K,ie):le==="dimension"&&(he=_(se,K,ie)),he&&x.loneHover(he,{container:q._hoverlayer.node(),outerContainer:q._paper.node(),gd:se})}}}function z(Y){var ee=Y.parcatsViewModel;if(!ee.dragDimension&&(o(ee.pathSelection),S(ee.dimensionSelection.selectAll("g.category")),m(ee.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),x.loneUnhover(ee.graphDiv._fullLayout._hoverlayer.node()),ee.pathSelection.sort(f),ee.hoverinfoItems.indexOf("skip")===-1)){var se=Y.parcatsViewModel.hoveron,q=this;se==="color"?A(q,"plotly_unhover",g.event):L(q,"plotly_unhover",g.event)}}function B(Y){Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragDimensionDisplayInd=Y.model.displayInd,Y.initialDragDimensionDisplayInds=Y.parcatsViewModel.model.dimensions.map(function(ee){return ee.displayInd}),Y.dragHasMoved=!1,Y.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(ee){var se=g.mouse(this)[0],q=g.mouse(this)[1];-2<=se&&se<=ee.width+2&&-2<=q&&q<=ee.height+2&&(Y.dragCategoryDisplayInd=ee.model.displayInd,Y.initialDragCategoryDisplayInds=Y.model.categories.map(function(K){return K.displayInd}),ee.model.dragY=ee.y,w.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function(K){K.y<q&&q<=K.y+K.height&&(Y.potentialClickBand=this)}))}),Y.parcatsViewModel.dragDimension=Y,x.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function N(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragHasMoved=!0,Y.dragDimensionDisplayInd!==null)){var ee=Y.dragDimensionDisplayInd,se=ee-1,q=ee+1,K=Y.parcatsViewModel.dimensions[ee];if(Y.dragCategoryDisplayInd!==null){var le=K.categories[Y.dragCategoryDisplayInd];le.model.dragY+=g.event.dy;var ie=le.model.dragY,he=le.model.displayInd,ye=K.categories,Ce=ye[he-1],Ae=ye[he+1];Ce!==void 0&&ie<Ce.y+Ce.height/2&&(le.model.displayInd=Ce.model.displayInd,Ce.model.displayInd=he),Ae!==void 0&&ie+le.height>Ae.y+Ae.height/2&&(le.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=he),Y.dragCategoryDisplayInd=le.model.displayInd}if(Y.dragCategoryDisplayInd===null||Y.parcatsViewModel.arrangement==="freeform"){K.model.dragX=g.event.x;var ke=Y.parcatsViewModel.dimensions[se],we=Y.parcatsViewModel.dimensions[q];ke!==void 0&&K.model.dragX<ke.x+ke.width&&(K.model.displayInd=ke.model.displayInd,ke.model.displayInd=ee),we!==void 0&&K.model.dragX+K.width>we.x&&(K.model.displayInd=we.model.displayInd,we.model.displayInd=Y.dragDimensionDisplayInd),Y.dragDimensionDisplayInd=K.model.displayInd}X(Y.parcatsViewModel),$(Y.parcatsViewModel),re(Y.parcatsViewModel),Q(Y.parcatsViewModel)}}function V(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&Y.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var ee={},se=W(Y.parcatsViewModel),q=Y.parcatsViewModel.model.dimensions.map(function(we){return we.displayInd}),K=Y.initialDragDimensionDisplayInds.some(function(we,Ee){return we!==q[Ee]});K&&q.forEach(function(we,Ee){var xe=Y.parcatsViewModel.model.dimensions[Ee].containerInd;ee["dimensions["+xe+"].displayindex"]=we});var le=!1;if(Y.dragCategoryDisplayInd!==null){var ie=Y.model.categories.map(function(we){return we.displayInd});if(le=Y.initialDragCategoryDisplayInds.some(function(we,Ee){return we!==ie[Ee]}),le){var he=Y.model.categories.slice().sort(function(we,Ee){return we.displayInd-Ee.displayInd}),ye=he.map(function(we){return we.categoryValue}),Ce=he.map(function(we){return we.categoryLabel});ee["dimensions["+Y.model.containerInd+"].categoryarray"]=[ye],ee["dimensions["+Y.model.containerInd+"].ticktext"]=[Ce],ee["dimensions["+Y.model.containerInd+"].categoryorder"]="array"}}if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Y.dragHasMoved&&Y.potentialClickBand&&(Y.parcatsViewModel.hoveron==="color"?A(Y.potentialClickBand,"plotly_click",g.event.sourceEvent):L(Y.potentialClickBand,"plotly_click",g.event.sourceEvent)),Y.model.dragX=null,Y.dragCategoryDisplayInd!==null){var Ae=Y.parcatsViewModel.dimensions[Y.dragDimensionDisplayInd].categories[Y.dragCategoryDisplayInd];Ae.model.dragY=null,Y.dragCategoryDisplayInd=null}Y.dragDimensionDisplayInd=null,Y.parcatsViewModel.dragDimension=null,Y.dragHasMoved=null,Y.potentialClickBand=null,X(Y.parcatsViewModel),$(Y.parcatsViewModel);var ke=g.transition().duration(300).ease("cubic-in-out");ke.each(function(){re(Y.parcatsViewModel,!0),Q(Y.parcatsViewModel,!0)}).each("end",function(){(K||le)&&a.restyle(Y.parcatsViewModel.graphDiv,ee,[se])})}}function W(Y){for(var ee,se=Y.graphDiv._fullData,q=0;q<se.length;q++)if(Y.key===se[q].uid){ee=q;break}return ee}function Q(Y,ee){ee===void 0&&(ee=!1);function se(q){return ee?q.transition():q}Y.pathSelection.data(function(q){return q.paths},n),se(Y.pathSelection).attr("d",function(q){return q.svgD})}function re(Y,ee){ee===void 0&&(ee=!1);function se(ye){return ee?ye.transition():ye}Y.dimensionSelection.data(function(ye){return ye.dimensions},n);var q=Y.dimensionSelection.selectAll("g.category").data(function(ye){return ye.categories},n);se(Y.dimensionSelection).attr("transform",function(ye){return v(ye.x,0)}),se(q).attr("transform",function(ye){return v(0,ye.y)});var K=q.select(".dimlabel");K.text(function(ye,Ce){return Ce===0?ye.parcatsViewModel.model.dimensions[ye.model.dimensionInd].dimensionLabel:null});var le=q.select(".catlabel");le.attr("text-anchor",function(ye){return u(ye)?"start":"end"}).attr("x",function(ye){return u(ye)?ye.width+5:-5}).each(function(ye){var Ce,Ae;u(ye)?(Ce=ye.width+5,Ae="start"):(Ce=-5,Ae="end"),g.select(this).selectAll("tspan").attr("x",Ce).attr("text-anchor",Ae)});var ie=q.selectAll("rect.bandrect").data(function(ye){return ye.bands},n),he=ie.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ye){return ye.color}).attr("fill-opacity",0);ie.attr("fill",function(ye){return ye.color}).attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}).attr("y",function(ye){return ye.y}),m(he),ie.each(function(){w.raiseToTop(this)}),ie.exit().remove()}function ne(Y,ee,se){var q=se[0],K=ee.margin||{l:80,r:80,t:100,b:80},le=q.trace,ie=le.domain,he=ee.width,ye=ee.height,Ce=Math.floor(he*(ie.x[1]-ie.x[0])),Ae=Math.floor(ye*(ie.y[1]-ie.y[0])),ke=ie.x[0]*he+K.l,we=ee.height-ie.y[1]*ee.height+K.t,Ee=le.line.shape,xe;le.hoverinfo==="all"?xe=["count","probability"]:xe=(le.hoverinfo||"").split("+");var Re={trace:le,key:le.uid,model:q,x:ke,y:we,width:Ce,height:Ae,hoveron:le.hoveron,hoverinfoItems:xe,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Ee,dragDimension:null,margin:K,paths:[],dimensions:[],graphDiv:Y,traceSelection:null,pathSelection:null,dimensionSelection:null};return q.dimensions&&(X(Re),$(Re)),Re}function fe(Y,ee,se,q,K){var le=[],ie=[],he,ye;for(ye=0;ye<se.length-1;ye++)he=P(se[ye]+Y[ye],Y[ye+1]),le.push(he(K)),ie.push(he(1-K));var Ce="M "+Y[0]+","+ee[0];for(Ce+="l"+se[0]+",0 ",ye=1;ye<se.length;ye++)Ce+="C"+le[ye-1]+","+ee[ye-1]+" "+ie[ye-1]+","+ee[ye]+" "+Y[ye]+","+ee[ye],Ce+="l"+se[ye]+",0 ";for(Ce+="l0,"+q+" ",Ce+="l -"+se[se.length-1]+",0 ",ye=se.length-2;ye>=0;ye--)Ce+="C"+ie[ye]+","+(ee[ye+1]+q)+" "+le[ye]+","+(ee[ye]+q)+" "+(Y[ye]+se[ye])+","+(ee[ye]+q),Ce+="l-"+se[ye]+",0 ";return Ce+="Z",Ce}function $(Y){var ee=Y.dimensions,se=Y.model,q=ee.map(function(tt){return tt.categories.map(function(_e){return _e.y})}),K=Y.model.dimensions.map(function(tt){return tt.categories.map(function(_e){return _e.displayInd})}),le=Y.model.dimensions.map(function(tt){return tt.displayInd}),ie=Y.dimensions.map(function(tt){return tt.model.dimensionInd}),he=ee.map(function(tt){return tt.x}),ye=ee.map(function(tt){return tt.width}),Ce=[];for(var Ae in se.paths)se.paths.hasOwnProperty(Ae)&&Ce.push(se.paths[Ae]);function ke(tt){var _e=tt.categoryInds.map(function(Ke,He){return K[He][Ke]}),je=ie.map(function(Ke){return _e[Ke]});return je}Ce.sort(function(tt,_e){var je=ke(tt),Ke=ke(_e);return Y.sortpaths==="backward"&&(je.reverse(),Ke.reverse()),je.push(tt.valueInds[0]),Ke.push(_e.valueInds[0]),Y.bundlecolors&&(je.unshift(tt.rawColor),Ke.unshift(_e.rawColor)),je<Ke?-1:je>Ke?1:0});for(var we=new Array(Ce.length),Ee=ee[0].model.count,xe=ee[0].categories.map(function(tt){return tt.height}).reduce(function(tt,_e){return tt+_e}),Re=0;Re<Ce.length;Re++){var Ve=Ce[Re],Ue;Ee>0?Ue=xe*(Ve.count/Ee):Ue=0;for(var Be=new Array(q.length),Xe=0;Xe<Ve.categoryInds.length;Xe++){var ut=Ve.categoryInds[Xe],dt=K[Xe][ut],at=le[Xe];Be[at]=q[at][dt],q[at][dt]+=Ue;var We=Y.dimensions[at].categories[dt],rt=We.bands.length,st=We.bands[rt-1];if(st===void 0||Ve.rawColor!==st.rawColor){var ht=st===void 0?0:st.y+st.height;We.bands.push({key:ht,color:Ve.color,rawColor:Ve.rawColor,height:Ue,width:We.width,count:Ve.count,y:ht,categoryViewModel:We,parcatsViewModel:Y})}else{var vt=We.bands[rt-1];vt.height+=Ue,vt.count+=Ve.count}}var At;Y.pathShape==="hspline"?At=fe(he,Be,ye,Ue,.5):At=fe(he,Be,ye,Ue,0),we[Re]={key:Ve.valueInds[0],model:Ve,height:Ue,leftXs:he,topYs:Be,dimWidths:ye,svgD:At,parcatsViewModel:Y}}Y.paths=we}function X(Y){var ee=Y.model.dimensions.map(function(ie){return{displayInd:ie.displayInd,dimensionInd:ie.dimensionInd}});ee.sort(function(ie,he){return ie.displayInd-he.displayInd});var se=[];for(var q in ee){var K=ee[q].dimensionInd,le=Y.model.dimensions[K];se.push(oe(Y,le))}Y.dimensions=se}function oe(Y,ee){var se=40,q=16,K=Y.model.dimensions.length,le=ee.displayInd,ie,he,ye;K>1?ie=(Y.width-2*se-q)/(K-1):ie=0,he=se,ye=he+ie*le;var Ce=[],Ae=Y.model.maxCats,ke=ee.categories.length,we=8,Ee=ee.count,xe=Y.height-we*(Ae-1),Re,Ve,Ue,Be,Xe,ut=(Ae-ke)*we/2,dt=ee.categories.map(function(at){return{displayInd:at.displayInd,categoryInd:at.categoryInd}});for(dt.sort(function(at,We){return at.displayInd-We.displayInd}),Xe=0;Xe<ke;Xe++)Be=dt[Xe].categoryInd,Ve=ee.categories[Be],Ee>0?Re=Ve.count/Ee*xe:Re=0,Ue={key:Ve.valueInds[0],model:Ve,width:q,height:Re,y:Ve.dragY!==null?Ve.dragY:ut,bands:[],parcatsViewModel:Y},ut=ut+Re+we,Ce.push(Ue);return{key:ee.dimensionInd,x:ee.dragX!==null?ee.dragX:ye,y:0,width:q,model:ee,categories:Ce,parcatsViewModel:Y,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(H,j,e){var g=e(51036);H.exports=function(a,x,w,v){var p=a._fullLayout,r=p._paper,t=p._size;g(a,r,x,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},w,v)}},82296:function(H,j,e){var g=e(49084),P=e(94724),a=e(25376),x=e(86968).u,w=e(92880).extendFlat,v=e(31780).templatedArray;H.exports={domain:x({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:w({},P.tickvals,{editType:"plot"}),ticktext:w({},P.ticktext,{editType:"plot"}),tickformat:w({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:w({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(H,j,e){var g=e(30140),P=e(33428),a=e(71688).keyFun,x=e(71688).repeat,w=e(3400).sorterAsc,v=e(3400).strTranslate,p=g.bar.snapRatio;function r(V,W){return V*(1-p)+W*p}var t=g.bar.snapClose;function i(V,W){return V*(1-t)+W*t}function n(V,W,Q,re){if(u(Q,re))return Q;var ne=V?-1:1,fe=0,$=W.length-1;if(ne<0){var X=fe;fe=$,$=X}for(var oe=W[fe],Y=oe,ee=fe;ne*ee<ne*$;ee+=ne){var se=ee+ne,q=W[se];if(ne*Q<ne*i(oe,q))return r(oe,Y);if(ne*Q<ne*q||se===$)return r(q,oe);Y=oe,oe=q}}function u(V,W){for(var Q=0;Q<W.length;Q++)if(V>=W[Q][0]&&V<=W[Q][1])return!0;return!1}function f(V){V.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function l(V){V.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(V){if(!V.brush.filterSpecified)return"0,"+V.height;for(var W=h(V.brush.filter.getConsolidated(),V.height),Q=[0],re,ne,fe,$=W.length?W[0][0]:null,X=0;X<W.length;X++)re=W[X],ne=re[1]-re[0],Q.push($),Q.push(ne),fe=X+1,fe<W.length&&($=W[fe][0]-re[1]);return Q.push(V.height),Q}function h(V,W){return V.map(function(Q){return Q.map(function(re){return Math.max(0,re*W)}).sort(w)})}function M(V,W){var Q=g.bar.handleHeight;if(!(W>V[1]+Q||W<V[0]-Q))return W>=.9*V[1]+.1*V[0]?"n":W<=.9*V[0]+.1*V[1]?"s":"ns"}function c(){P.select(document.body).style("cursor",null)}function o(V){V.attr("stroke-dasharray",y)}function d(V,W){var Q=P.select(V).selectAll(".highlight, .highlight-shadow"),re=W?Q.transition().duration(g.bar.snapDuration).each("end",W):Q;o(re)}function T(V,W){var Q=V.brush,re=Q.filterSpecified,ne=NaN,fe={},$;if(re){var X=V.height,oe=Q.filter.getConsolidated(),Y=h(oe,X),ee=NaN,se=NaN,q=NaN;for($=0;$<=Y.length;$++){var K=Y[$];if(K&&K[0]<=W&&W<=K[1]){ee=$;break}else if(se=$?$-1:NaN,K&&K[0]>W){q=$;break}}if(ne=ee,isNaN(ne)&&(isNaN(se)||isNaN(q)?ne=isNaN(se)?q:se:ne=W-Y[se][1]<Y[q][0]-W?se:q),!isNaN(ne)){var le=Y[ne],ie=M(le,W);ie&&(fe.interval=oe[ne],fe.intervalPix=le,fe.region=ie)}}if(V.ordinal&&!fe.region){var he=V.unitTickvals,ye=V.unitToPaddedPx.invert(W);for($=0;$<he.length;$++){var Ce=[he[Math.max($-1,0)]*.25+he[$]*.75,he[Math.min($+1,he.length-1)]*.25+he[$]*.75];if(ye>=Ce[0]&&ye<=Ce[1]){fe.clickableOrdinalRange=Ce;break}}}return fe}function S(V,W){P.event.sourceEvent.stopPropagation();var Q=W.height-P.mouse(V)[1]-2*g.verticalPadding,re=W.unitToPaddedPx.invert(Q),ne=W.brush,fe=T(W,Q),$=fe.interval,X=ne.svgBrush;if(X.wasDragged=!1,X.grabbingBar=fe.region==="ns",X.grabbingBar){var oe=$.map(W.unitToPaddedPx);X.grabPoint=Q-oe[0]-g.verticalPadding,X.barLength=oe[1]-oe[0]}X.clickableOrdinalRange=fe.clickableOrdinalRange,X.stayingIntervals=W.multiselect&&ne.filterSpecified?ne.filter.getConsolidated():[],$&&(X.stayingIntervals=X.stayingIntervals.filter(function(Y){return Y[0]!==$[0]&&Y[1]!==$[1]})),X.startExtent=fe.region?$[fe.region==="s"?1:0]:re,W.parent.inBrushDrag=!0,X.brushStartCallback()}function C(V,W){P.event.sourceEvent.stopPropagation();var Q=W.height-P.mouse(V)[1]-2*g.verticalPadding,re=W.brush.svgBrush;re.wasDragged=!0,re._dragging=!0,re.grabbingBar?re.newExtent=[Q-re.grabPoint,Q+re.barLength-re.grabPoint].map(W.unitToPaddedPx.invert):re.newExtent=[re.startExtent,W.unitToPaddedPx.invert(Q)].sort(w),W.brush.filterSpecified=!0,re.extent=re.stayingIntervals.concat([re.newExtent]),re.brushCallback(W),d(V.parentNode)}function m(V,W){var Q=W.brush,re=Q.filter,ne=Q.svgBrush;ne._dragging||(E(V,W),C(V,W),W.brush.svgBrush.wasDragged=!1),ne._dragging=!1;var fe=P.event;fe.sourceEvent.stopPropagation();var $=ne.grabbingBar;if(ne.grabbingBar=!1,ne.grabLocation=void 0,W.parent.inBrushDrag=!1,c(),!ne.wasDragged){ne.wasDragged=void 0,ne.clickableOrdinalRange?Q.filterSpecified&&W.multiselect?ne.extent.push(ne.clickableOrdinalRange):(ne.extent=[ne.clickableOrdinalRange],Q.filterSpecified=!0):$?(ne.extent=ne.stayingIntervals,ne.extent.length===0&&_(Q)):_(Q),ne.brushCallback(W),d(V.parentNode),ne.brushEndCallback(Q.filterSpecified?re.getConsolidated():[]);return}var X=function(){re.set(re.getConsolidated())};if(W.ordinal){var oe=W.unitTickvals;oe[oe.length-1]<oe[0]&&oe.reverse(),ne.newExtent=[n(0,oe,ne.newExtent[0],ne.stayingIntervals),n(1,oe,ne.newExtent[1],ne.stayingIntervals)];var Y=ne.newExtent[1]>ne.newExtent[0];ne.extent=ne.stayingIntervals.concat(Y?[ne.newExtent]:[]),ne.extent.length||_(Q),ne.brushCallback(W),Y?d(V.parentNode,X):(X(),d(V.parentNode))}else X();ne.brushEndCallback(Q.filterSpecified?re.getConsolidated():[])}function E(V,W){var Q=W.height-P.mouse(V)[1]-2*g.verticalPadding,re=T(W,Q),ne="crosshair";re.clickableOrdinalRange?ne="pointer":re.region&&(ne=re.region+"-resize"),P.select(document.body).style("cursor",ne)}function b(V){V.on("mousemove",function(W){P.event.preventDefault(),W.parent.inBrushDrag||E(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||c()}).call(P.behavior.drag().on("dragstart",function(W){S(this,W)}).on("drag",function(W){C(this,W)}).on("dragend",function(W){m(this,W)}))}function s(V,W){return V[0]-W[0]}function L(V,W,Q){var re=Q._context.staticPlot,ne=V.selectAll(".background").data(x);ne.enter().append("rect").classed("background",!0).call(f).call(l).style("pointer-events",re?"none":"auto").attr("transform",v(0,g.verticalPadding)),ne.call(b).attr("height",function(X){return X.height-g.verticalPadding});var fe=V.selectAll(".highlight-shadow").data(x);fe.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",W).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),fe.attr("y1",function(X){return X.height}).call(o);var $=V.selectAll(".highlight").data(x);$.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),$.attr("y1",function(X){return X.height}).call(o)}function A(V,W,Q){var re=V.selectAll("."+g.cn.axisBrush).data(x,a);re.enter().append("g").classed(g.cn.axisBrush,!0),L(re,W,Q)}function k(V){return V.svgBrush.extent.map(function(W){return W.slice()})}function _(V){V.filterSpecified=!1,V.svgBrush.extent=[[-1/0,1/0]]}function U(V){return function(Q){var re=Q.brush,ne=k(re),fe=ne.slice();re.filter.set(fe),V()}}function F(V){for(var W=V.slice(),Q=[],re,ne=W.shift();ne;){for(re=ne.slice();(ne=W.shift())&&ne[0]<=re[1];)re[1]=Math.max(re[1],ne[1]);Q.push(re)}return Q.length===1&&Q[0][0]>Q[0][1]&&(Q=[]),Q}function z(){var V=[],W,Q;return{set:function(re){V=re.map(function(ne){return ne.slice().sort(w)}).sort(s),V.length===1&&V[0][0]===-1/0&&V[0][1]===1/0&&(V=[[0,-1]]),W=F(V),Q=V.reduce(function(ne,fe){return[Math.min(ne[0],fe[0]),Math.max(ne[1],fe[1])]},[1/0,-1/0])},get:function(){return V.slice()},getConsolidated:function(){return W},getBounds:function(){return Q}}}function B(V,W,Q,re,ne,fe){var $=z();return $.set(Q),{filter:$,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:re,brushCallback:U(ne),brushEndCallback:fe}}}function N(V,W){if(Array.isArray(V[0])?(V=V.map(function(re){return re.sort(w)}),W.multiselect?V=F(V.sort(s)):V=[V[0]]):V=[V.sort(w)],W.tickvals){var Q=W.tickvals.slice().sort(w);if(V=V.map(function(re){var ne=[n(0,Q,re[0],[]),n(1,Q,re[1],[])];if(ne[1]>ne[0])return ne}).filter(function(re){return re}),!V.length)return}return V.length>1?V:V[0]}H.exports={makeBrush:B,ensureAxisBrush:A,cleanRanges:N}},61664:function(H,j,e){H.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(H,j,e){var g=e(33428),P=e(84888)._M,a=e(24196),x=e(9616);j.name="parcoords",j.plot=function(w){var v=P(w.calcdata,"parcoords")[0];v.length&&a(w,v)},j.clean=function(w,v,p,r){var t=r._has&&r._has("parcoords"),i=v._has&&v._has("parcoords");t&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},j.toSVG=function(w){var v=w._fullLayout._glimages,p=g.select(w).selectAll(".svg-container"),r=p.filter(function(i,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var i=this,n=i.toDataURL("image/png"),u=v.append("svg:image");u.attr({xmlns:x.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}r.each(t),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(H,j,e){var g=e(3400).isArrayOrTypedArray,P=e(8932),a=e(71688).wrap;H.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&g(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=x(p._length),t=[[0,p.line.color],[1,p.line.color]]),a({lineColor:r,cscale:t})};function x(w){for(var v=new Array(w),p=0;p<w;p++)v[p]=.5;return v}},30140:function(H){H.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(H,j,e){var g=e(3400),P=e(94288).hasColorscale,a=e(27260),x=e(86968).Q,w=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,i=e(26284);function n(f,l,y,h,M){var c=M("line.color",y);if(P(f,"line")&&g.isArrayOrTypedArray(c)){if(c.length)return M("line.colorscale"),a(f,l,h,M,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=y}return 1/0}function u(f,l,y,h){function M(S,C){return g.coerce(f,l,p.dimensions,S,C)}var c=M("values"),o=M("visible");if(c&&c.length||(o=l.visible=!1),o){M("label"),M("tickvals"),M("ticktext"),M("tickformat");var d=M("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,h.layout),M("multiselect");var T=M("constraintrange");T&&(l.constraintrange=r.cleanRanges(T,l))}}H.exports=function(l,y,h,M){function c(C,m){return g.coerce(l,y,p,C,m)}var o=l.dimensions;Array.isArray(o)&&o.length>t&&(g.log("parcoords traces support up to "+t+" dimensions at the moment"),o.splice(t));var d=w(l,y,{name:"dimensions",layout:M,handleItemDefaults:u}),T=n(l,y,h,M,c);x(y,M,c),(!Array.isArray(d)||!d.length)&&(y.visible=!1),i(y,d,"values",T);var S={family:M.font.family,size:Math.round(M.font.size/1.2),color:M.font.color};g.coerceFont(c,"labelfont",S),g.coerceFont(c,"tickfont",S),g.coerceFont(c,"rangefont",S),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(H,j,e){var g=e(3400).isTypedArray;j.convertTypedArray=function(P){return g(P)?Array.prototype.slice.call(P):P},j.isOrdinal=function(P){return!!P.tickvals},j.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(H,j,e){var g=e(61664);g.plot=e(24196),H.exports=g},51352:function(H,j,e){var g=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),a=e(30140).maxDimensionCount,x=e(3400),w=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(m){m.read({x:0,y:0,width:1,height:1,data:p})}function n(m,E,b,s,L){var A=m._gl;A.enable(A.SCISSOR_TEST),A.scissor(E,b,s,L),m.clear({color:[0,0,0,0],depth:1})}function u(m,E,b,s,L,A){var k=A.key;function _(U){var F=Math.min(s,L-U*s);U===0&&(window.cancelAnimationFrame(b.currentRafs[k]),delete b.currentRafs[k],n(m,A.scissorX,A.scissorY,A.scissorWidth,A.viewBoxSize[1])),!b.clearOnly&&(A.count=2*F,A.offset=2*U*s,E(A),U*s+F<L&&(b.currentRafs[k]=window.requestAnimationFrame(function(){_(U+1)})),b.drawCompleted=!1)}b.drawCompleted||(i(m),b.drawCompleted=!0),_(0)}function f(m){return Math.max(w,Math.min(1-w,m))}function l(m,E){for(var b=new Array(256),s=0;s<256;s++)b[s]=m(s/255).concat(E);return b}function y(m,E){return(m>>>8*E)%256/255}function h(m,E,b){for(var s=new Array(m*(a+4)),L=0,A=0;A<m;A++){for(var k=0;k<a;k++)s[L++]=k<E.length?E[k].paddedUnitValues[A]:.5;s[L++]=y(A,2),s[L++]=y(A,1),s[L++]=y(A,0),s[L++]=f(b[A])}return s}function M(m,E,b){for(var s=new Array(E*8),L=0,A=0;A<E;A++)for(var k=0;k<2;k++)for(var _=0;_<4;_++){var U=m*4+_,F=b[A*64+U];U===63&&k===0&&(F*=-1),s[L++]=F}return s}function c(m){var E="0"+m;return E.substr(E.length-2)}function o(m){return m<a?"p"+c(m+1)+"_"+c(m+4):"colors"}function d(m,E,b){for(var s=0;s<=a;s+=4)m[o(s)](M(s/4,E,b))}function T(m){for(var E={},b=0;b<=a;b+=4)E[o(b)]=m.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return E}function S(m,E,b,s,L,A,k,_,U,F,z,B,N,V){for(var W=[[],[]],Q=0;Q<64;Q++)W[0][Q]=Q===L?1:0,W[1][Q]=Q===A?1:0;k*=V,_*=V,U*=V,F*=V;var re=m.lines.canvasOverdrag*V,ne=m.domain,fe=m.canvasWidth*V,$=m.canvasHeight*V,X=m.pad.l*V,oe=m.pad.b*V,Y=m.layoutHeight*V,ee=m.layoutWidth*V,se=m.deselectedLines.color,q=m.deselectedLines.opacity,K=x.extendFlat({key:z,resolution:[fe,$],viewBoxPos:[k+re,_],viewBoxSize:[U,F],i0:L,i1:A,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:B,contextColor:[se[0]/255,se[1]/255,se[2]/255,q!=="auto"?se[3]*q:Math.max(1/255,Math.pow(1/m.lines.color.length,1/3))],scissorX:(s===E?0:k+re)+(X-re)+ee*ne.x[0],scissorWidth:(s===b?fe-k+re:U+.5)+(s===E?k+re:0),scissorY:_+oe+Y*ne.y[0],scissorHeight:F,viewportX:X-re+ee*ne.x[0],viewportY:oe+Y*ne.y[0],viewportWidth:fe,viewportHeight:$},N);return K}function C(m){var E=v-1,b=Math.max(0,Math.floor(m[0]*E),0),s=Math.min(E,Math.ceil(m[1]*E),E);return[Math.min(b,s),Math.max(b,s)]}H.exports=function(m,E){var b=E.context,s=E.pick,L=E.regl,A=L._gl,k=A.getParameter(A.ALIASED_LINE_WIDTH_RANGE),_=Math.max(k[0],Math.min(k[1],E.viewModel.plotGlPixelRatio)),U={currentRafs:{},drawCompleted:!0,clearOnly:!1},F,z,B,N,V=T(L),W,Q=L.texture(t),re=[];fe(E);var ne=L({profile:!1,blend:{enable:b,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!b,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:L.prop("scissorX"),y:L.prop("scissorY"),width:L.prop("scissorWidth"),height:L.prop("scissorHeight")}},viewport:{x:L.prop("viewportX"),y:L.prop("viewportY"),width:L.prop("viewportWidth"),height:L.prop("viewportHeight")},dither:!1,vert:g,frag:P,primitive:"lines",lineWidth:_,attributes:V,uniforms:{resolution:L.prop("resolution"),viewBoxPos:L.prop("viewBoxPos"),viewBoxSize:L.prop("viewBoxSize"),dim0A:L.prop("dim0A"),dim1A:L.prop("dim1A"),dim0B:L.prop("dim0B"),dim1B:L.prop("dim1B"),dim0C:L.prop("dim0C"),dim1C:L.prop("dim1C"),dim0D:L.prop("dim0D"),dim1D:L.prop("dim1D"),loA:L.prop("loA"),hiA:L.prop("hiA"),loB:L.prop("loB"),hiB:L.prop("hiB"),loC:L.prop("loC"),hiC:L.prop("hiC"),loD:L.prop("loD"),hiD:L.prop("hiD"),palette:Q,contextColor:L.prop("contextColor"),maskTexture:L.prop("maskTexture"),drwLayer:L.prop("drwLayer"),maskHeight:L.prop("maskHeight")},offset:L.prop("offset"),count:L.prop("count")});function fe(se){F=se.model,z=se.viewModel,B=z.dimensions.slice(),N=B[0]?B[0].values.length:0;var q=F.lines,K=s?q.color.map(function(ie,he){return he/q.color.length}):q.color,le=h(N,B,K);d(V,N,le),!b&&!s&&(Q=L.texture(x.extendFlat({data:l(F.unitToColor,255)},t)))}function $(se){var q,K,le,ie=[[],[]];for(le=0;le<64;le++){var he=!se&&le<B.length?B[le].brush.filter.getBounds():[-1/0,1/0];ie[0][le]=he[0],ie[1][le]=he[1]}var ye=v*8,Ce=new Array(ye);for(q=0;q<ye;q++)Ce[q]=255;if(!se)for(q=0;q<B.length;q++){var Ae=q%8,ke=(q-Ae)/8,we=Math.pow(2,Ae),Ee=B[q],xe=Ee.brush.filter.get();if(!(xe.length<2)){var Re=C(xe[0])[1];for(K=1;K<xe.length;K++){var Ve=C(xe[K]);for(le=Re+1;le<Ve[0];le++)Ce[le*8+ke]&=~we;Re=Math.max(Re,Ve[1])}}}var Ue={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ce};return W?W(Ue):W=L.texture(Ue),{maskTexture:W,maskHeight:v,loA:ie[0].slice(0,16),loB:ie[0].slice(16,32),loC:ie[0].slice(32,48),loD:ie[0].slice(48,64),hiA:ie[1].slice(0,16),hiB:ie[1].slice(16,32),hiC:ie[1].slice(32,48),hiD:ie[1].slice(48,64)}}function X(se,q,K){var le=se.length,ie,he,ye,Ce=1/0,Ae=-1/0;for(ie=0;ie<le;ie++)se[ie].dim0.canvasX<Ce&&(Ce=se[ie].dim0.canvasX,he=ie),se[ie].dim1.canvasX>Ae&&(Ae=se[ie].dim1.canvasX,ye=ie);le===0&&n(L,0,0,F.canvasWidth,F.canvasHeight);var ke=$(b);for(ie=0;ie<le;ie++){var we=se[ie],Ee=we.dim0.crossfilterDimensionIndex,xe=we.dim1.crossfilterDimensionIndex,Re=we.canvasX,Ve=we.canvasY,Ue=Re+we.panelSizeX,Be=we.plotGlPixelRatio;if(q||!re[Ee]||re[Ee][0]!==Re||re[Ee][1]!==Ue){re[Ee]=[Re,Ue];var Xe=S(F,he,ye,ie,Ee,xe,Re,Ve,we.panelSizeX,we.panelSizeY,we.dim0.crossfilterDimensionIndex,b?0:s?2:1,ke,Be);U.clearOnly=K;var ut=q?F.lines.blockLineCount:N;u(L,ne,U,ut,N,Xe)}}}function oe(se,q){return L.read({x:se,y:q,width:1,height:1,data:r}),r}function Y(se,q,K,le){var ie=new Uint8Array(4*K*le);return L.read({x:se,y:q,width:K,height:le,data:ie}),ie}function ee(){m.style["pointer-events"]="none",Q.destroy(),W&&W.destroy();for(var se in V)V[se].destroy()}return{render:X,readPixel:oe,readPixels:Y,destroy:ee,update:fe}}},26284:function(H){H.exports=function(j,e,g,P){P||(P=1/0);var a,x;for(a=0;a<e.length;a++)x=e[a],x.visible&&(P=Math.min(P,x[g].length));for(P===1/0&&(P=0),j._length=P,a=0;a<e.length;a++)x=e[a],x.visible&&(x._length=P);return P}},36336:function(H,j,e){var g=e(33428),P=e(3400),a=P.isArrayOrTypedArray,x=P.numberFormat,w=e(96824),v=e(54460),p=P.strRotate,r=P.strTranslate,t=e(72736),i=e(43616),n=e(8932),u=e(71688),f=u.keyFun,l=u.repeat,y=u.unwrap,h=e(95724),M=e(30140),c=e(71864),o=e(51352);function d(re,ne,fe){return P.aggNums(re,null,ne,fe)}function T(re,ne){return C(d(Math.min,re,ne),d(Math.max,re,ne))}function S(re){var ne=re.range;return ne?C(ne[0],ne[1]):T(re.values,re._length)}function C(re,ne){return(isNaN(re)||!isFinite(re))&&(re=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),re===ne&&(re===0?(re-=1,ne+=1):(re*=.9,ne*=1.1)),[re,ne]}function m(re,ne){return ne?function(fe,$){var X=ne[$];return X??re(fe)}:re}function E(re,ne,fe,$,X){var oe=S(fe);return $?g.scale.ordinal().domain($.map(m(x(fe.tickformat),X))).range($.map(function(Y){var ee=(Y-oe[0])/(oe[1]-oe[0]);return re-ne+ee*(2*ne-re)})):g.scale.linear().domain(oe).range([re-ne,ne])}function b(re,ne){return g.scale.linear().range([ne,re-ne])}function s(re,ne){return g.scale.linear().domain(S(re)).range([ne,1-ne])}function L(re){if(re.tickvals){var ne=S(re);return g.scale.ordinal().domain(re.tickvals).range(re.tickvals.map(function(fe){return(fe-ne[0])/(ne[1]-ne[0])}))}}function A(re){var ne=re.map(function(oe){return oe[0]}),fe=re.map(function(oe){var Y=w(oe[1]);return g.rgb("rgb("+Y[0]+","+Y[1]+","+Y[2]+")")}),$=function(oe){return function(Y){return Y[oe]}},X="rgb".split("").map(function(oe){return g.scale.linear().clamp(!0).domain(ne).range(fe.map($(oe)))});return function(oe){return X.map(function(Y){return Y(oe)})}}function k(re){return re.dimensions.some(function(ne){return ne.brush.filterSpecified})}function _(re,ne,fe){var $=y(ne),X=$.trace,oe=h.convertTypedArray($.lineColor),Y=X.line,ee={color:w(X.unselected.line.color),opacity:X.unselected.line.opacity},se=n.extractOpts(Y),q=se.reversescale?n.flipScale($.cscale):$.cscale,K=X.domain,le=X.dimensions,ie=re.width,he=X.labelangle,ye=X.labelside,Ce=X.labelfont,Ae=X.tickfont,ke=X.rangefont,we=P.extendDeepNoArrays({},Y,{color:oe.map(g.scale.linear().domain(S({values:oe,range:[se.min,se.max],_length:X._length}))),blockLineCount:M.blockLineCount,canvasOverdrag:M.overdrag*M.canvasPixelRatio}),Ee=Math.floor(ie*(K.x[1]-K.x[0])),xe=Math.floor(re.height*(K.y[1]-K.y[0])),Re=re.margin||{l:80,r:80,t:100,b:80},Ve=Ee,Ue=xe;return{key:fe,colCount:le.filter(h.isVisible).length,dimensions:le,tickDistance:M.tickDistance,unitToColor:A(q),lines:we,deselectedLines:ee,labelAngle:he,labelSide:ye,labelFont:Ce,tickFont:Ae,rangeFont:ke,layoutWidth:ie,layoutHeight:re.height,domain:K,translateX:K.x[0]*ie,translateY:re.height-K.y[1]*re.height,pad:Re,canvasWidth:Ve*M.canvasPixelRatio+2*we.canvasOverdrag,canvasHeight:Ue*M.canvasPixelRatio,width:Ve,height:Ue,canvasPixelRatio:M.canvasPixelRatio}}function U(re,ne,fe){var $=fe.width,X=fe.height,oe=fe.dimensions,Y=fe.canvasPixelRatio,ee=function(ie){return $*ie/Math.max(1,fe.colCount-1)},se=M.verticalPadding/X,q=b(X,M.verticalPadding),K={key:fe.key,xScale:ee,model:fe,inBrushDrag:!1},le={};return K.dimensions=oe.filter(h.isVisible).map(function(ie,he){var ye=s(ie,se),Ce=le[ie.label];le[ie.label]=(Ce||0)+1;var Ae=ie.label+(Ce?"__"+Ce:""),ke=ie.constraintrange,we=ke&&ke.length;we&&!a(ke[0])&&(ke=[ke]);var Ee=we?ke.map(function(We){return We.map(ye)}):[[-1/0,1/0]],xe=function(){var We=K;We.focusLayer&&We.focusLayer.render(We.panels,!0);var rt=k(We);!re.contextShown()&&rt?(We.contextLayer&&We.contextLayer.render(We.panels,!0),re.contextShown(!0)):re.contextShown()&&!rt&&(We.contextLayer&&We.contextLayer.render(We.panels,!0,!0),re.contextShown(!1))},Re=ie.values;Re.length>ie._length&&(Re=Re.slice(0,ie._length));var Ve=ie.tickvals,Ue;function Be(We,rt){return{val:We,text:Ue[rt]}}function Xe(We,rt){return We.val-rt.val}if(a(Ve)&&Ve.length){P.isTypedArray(Ve)&&(Ve=Array.from(Ve)),Ue=ie.ticktext,!a(Ue)||!Ue.length?Ue=Ve.map(x(ie.tickformat)):Ue.length>Ve.length?Ue=Ue.slice(0,Ve.length):Ve.length>Ue.length&&(Ve=Ve.slice(0,Ue.length));for(var ut=1;ut<Ve.length;ut++)if(Ve[ut]<Ve[ut-1]){for(var dt=Ve.map(Be).sort(Xe),at=0;at<Ve.length;at++)Ve[at]=dt[at].val,Ue[at]=dt[at].text;break}}else Ve=void 0;return Re=h.convertTypedArray(Re),{key:Ae,label:ie.label,tickFormat:ie.tickformat,tickvals:Ve,ticktext:Ue,ordinal:h.isOrdinal(ie),multiselect:ie.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:ie._index,height:X,values:Re,paddedUnitValues:Re.map(ye),unitTickvals:Ve&&Ve.map(ye),xScale:ee,x:ee(he),canvasX:ee(he)*Y,unitToPaddedPx:q,domainScale:E(X,M.verticalPadding,ie,Ve,Ue),ordinalScale:L(ie),parent:K,model:fe,brush:c.makeBrush(re,we,Ee,function(){re.linePickActive(!1)},xe,function(We){if(K.focusLayer.render(K.panels,!0),K.pickLayer&&K.pickLayer.render(K.panels,!0),re.linePickActive(!0),ne&&ne.filterChanged){var rt=ye.invert,st=We.map(function(ht){return ht.map(rt).sort(P.sorterAsc)}).sort(function(ht,vt){return ht[0]-vt[0]});ne.filterChanged(K.key,ie._index,st)}})}}),K}function F(re){re.classed(M.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(){var re=!0,ne=!1;return{linePickActive:function(fe){return arguments.length?re=!!fe:re},contextShown:function(fe){return arguments.length?ne=!!fe:ne}}}function B(re,ne){var fe=ne==="top"?1:-1,$=re*Math.PI/180,X=Math.sin($),oe=Math.cos($);return{dir:fe,dx:X,dy:oe,degrees:re}}function N(re,ne,fe){for(var $=ne.panels||(ne.panels=[]),X=re.data(),oe=0;oe<X.length-1;oe++){var Y=$[oe]||($[oe]={}),ee=X[oe],se=X[oe+1];Y.dim0=ee,Y.dim1=se,Y.canvasX=ee.canvasX,Y.panelSizeX=se.canvasX-ee.canvasX,Y.panelSizeY=ne.model.canvasHeight,Y.y=0,Y.canvasY=0,Y.plotGlPixelRatio=fe}}function V(re){for(var ne=0;ne<re.length;ne++)for(var fe=0;fe<re[ne].length;fe++)for(var $=re[ne][fe].trace,X=$.dimensions,oe=0;oe<X.length;oe++){var Y=X[oe].values,ee=X[oe]._ax;ee&&(ee.range?ee.range=C(ee.range[0],ee.range[1]):ee.range=T(Y,$._length),ee.dtick||(ee.dtick=.01*(Math.abs(ee.range[1]-ee.range[0])||1)),ee.tickformat=X[oe].tickformat,v.calcTicks(ee),ee.cleanRange())}}function W(re,ne){return v.tickText(re._ax,ne,!1).text}function Q(re,ne){if(re.ordinal)return"";var fe=re.domainScale.domain(),$=fe[ne?fe.length-1:0];return W(re.model.dimensions[re.visibleIndex],$)}H.exports=function(ne,fe,$,X){var oe=ne._context.staticPlot,Y=ne._fullLayout,ee=Y._toppaper,se=Y._glcontainer,q=ne._context.plotGlPixelRatio,K=ne._fullLayout.paper_bgcolor;V(fe);var le=z(),ie=fe.filter(function(at){return y(at).trace.visible}).map(_.bind(0,$)).map(U.bind(0,le,X));se.each(function(at,We){return P.extendFlat(at,ie[We])});var he=se.selectAll(".gl-canvas").each(function(at){at.viewModel=ie[0],at.viewModel.plotGlPixelRatio=q,at.viewModel.paperColor=K,at.model=at.viewModel?at.viewModel.model:null}),ye=null,Ce=he.filter(function(at){return at.pick});Ce.style("pointer-events",oe?"none":"auto").on("mousemove",function(at){if(le.linePickActive()&&at.lineLayer&&X&&X.hover){var We=g.event,rt=this.width,st=this.height,ht=g.mouse(this),vt=ht[0],At=ht[1];if(vt<0||At<0||vt>=rt||At>=st)return;var tt=at.lineLayer.readPixel(vt,st-1-At),_e=tt[3]!==0,je=_e?tt[2]+256*(tt[1]+256*tt[0]):null,Ke={x:vt,y:At,clientX:We.clientX,clientY:We.clientY,dataIndex:at.model.key,curveNumber:je};je!==ye&&(_e?X.hover(Ke):X.unhover&&X.unhover(Ke),ye=je)}}),he.style("opacity",function(at){return at.pick?0:1}),ee.style("background","rgba(255, 255, 255, 0)");var Ae=ee.selectAll("."+M.cn.parcoords).data(ie,f);Ae.exit().remove(),Ae.enter().append("g").classed(M.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(at){return r(at.model.translateX,at.model.translateY)});var ke=Ae.selectAll("."+M.cn.parcoordsControlView).data(l,f);ke.enter().append("g").classed(M.cn.parcoordsControlView,!0),ke.attr("transform",function(at){return r(at.model.pad.l,at.model.pad.t)});var we=ke.selectAll("."+M.cn.yAxis).data(function(at){return at.dimensions},f);we.enter().append("g").classed(M.cn.yAxis,!0),ke.each(function(at){N(we,at,q)}),he.each(function(at){if(at.viewModel){!at.lineLayer||X?at.lineLayer=o(this,at):at.lineLayer.update(at),(at.key||at.key===0)&&(at.viewModel[at.key]=at.lineLayer);var We=!at.context||X;at.lineLayer.render(at.viewModel.panels,We)}}),we.attr("transform",function(at){return r(at.xScale(at.xIndex),0)}),we.call(g.behavior.drag().origin(function(at){return at}).on("drag",function(at){var We=at.parent;le.linePickActive(!1),at.x=Math.max(-M.overdrag,Math.min(at.model.width+M.overdrag,g.event.x)),at.canvasX=at.x*at.model.canvasPixelRatio,we.sort(function(rt,st){return rt.x-st.x}).each(function(rt,st){rt.xIndex=st,rt.x=at===rt?rt.x:rt.xScale(rt.xIndex),rt.canvasX=rt.x*rt.model.canvasPixelRatio}),N(we,We,q),we.filter(function(rt){return Math.abs(at.xIndex-rt.xIndex)!==0}).attr("transform",function(rt){return r(rt.xScale(rt.xIndex),0)}),g.select(this).attr("transform",r(at.x,0)),we.each(function(rt,st,ht){ht===at.parent.key&&(We.dimensions[st]=rt)}),We.contextLayer&&We.contextLayer.render(We.panels,!1,!k(We)),We.focusLayer.render&&We.focusLayer.render(We.panels)}).on("dragend",function(at){var We=at.parent;at.x=at.xScale(at.xIndex),at.canvasX=at.x*at.model.canvasPixelRatio,N(we,We,q),g.select(this).attr("transform",function(rt){return r(rt.x,0)}),We.contextLayer&&We.contextLayer.render(We.panels,!1,!k(We)),We.focusLayer&&We.focusLayer.render(We.panels),We.pickLayer&&We.pickLayer.render(We.panels,!0),le.linePickActive(!0),X&&X.axesMoved&&X.axesMoved(We.key,We.dimensions.map(function(rt){return rt.crossfilterDimensionIndex}))})),we.exit().remove();var Ee=we.selectAll("."+M.cn.axisOverlays).data(l,f);Ee.enter().append("g").classed(M.cn.axisOverlays,!0),Ee.selectAll("."+M.cn.axis).remove();var xe=Ee.selectAll("."+M.cn.axis).data(l,f);xe.enter().append("g").classed(M.cn.axis,!0),xe.each(function(at){var We=at.model.height/at.model.tickDistance,rt=at.domainScale,st=rt.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(We,at.tickFormat).tickValues(at.ordinal?st:null).tickFormat(function(ht){return h.isOrdinal(at)?ht:W(at.model.dimensions[at.visibleIndex],ht)}).scale(rt)),i.font(xe.selectAll("text"),at.model.tickFont)}),xe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),xe.selectAll("text").style("text-shadow",t.makeTextShadow(K)).style("cursor","default");var Re=Ee.selectAll("."+M.cn.axisHeading).data(l,f);Re.enter().append("g").classed(M.cn.axisHeading,!0);var Ve=Re.selectAll("."+M.cn.axisTitle).data(l,f);Ve.enter().append("text").classed(M.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",oe?"none":"auto"),Ve.text(function(at){return at.label}).each(function(at){var We=g.select(this);i.font(We,at.model.labelFont),t.convertToTspans(We,ne)}).attr("transform",function(at){var We=B(at.model.labelAngle,at.model.labelSide),rt=M.axisTitleOffset;return(We.dir>0?"":r(0,2*rt+at.model.height))+p(We.degrees)+r(-rt*We.dx,-rt*We.dy)}).attr("text-anchor",function(at){var We=B(at.model.labelAngle,at.model.labelSide),rt=Math.abs(We.dx),st=Math.abs(We.dy);return 2*rt>st?We.dir*We.dx<0?"start":"end":"middle"});var Ue=Ee.selectAll("."+M.cn.axisExtent).data(l,f);Ue.enter().append("g").classed(M.cn.axisExtent,!0);var Be=Ue.selectAll("."+M.cn.axisExtentTop).data(l,f);Be.enter().append("g").classed(M.cn.axisExtentTop,!0),Be.attr("transform",r(0,-M.axisExtentOffset));var Xe=Be.selectAll("."+M.cn.axisExtentTopText).data(l,f);Xe.enter().append("text").classed(M.cn.axisExtentTopText,!0).call(F),Xe.text(function(at){return Q(at,!0)}).each(function(at){i.font(g.select(this),at.model.rangeFont)});var ut=Ue.selectAll("."+M.cn.axisExtentBottom).data(l,f);ut.enter().append("g").classed(M.cn.axisExtentBottom,!0),ut.attr("transform",function(at){return r(0,at.model.height+M.axisExtentOffset)});var dt=ut.selectAll("."+M.cn.axisExtentBottomText).data(l,f);dt.enter().append("text").classed(M.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(F),dt.text(function(at){return Q(at,!1)}).each(function(at){i.font(g.select(this),at.model.rangeFont)}),c.ensureAxisBrush(Ee,K,ne)}},24196:function(H,j,e){var g=e(36336),P=e(5048),a=e(95724).isVisible,x={};function w(r,t,i){var n=t.indexOf(i),u=r.indexOf(n);return u===-1&&(u+=t.length),u}function v(r,t){return function(n,u){return w(r,t,n)-w(r,t,u)}}var p=H.exports=function(t,i){var n=t._fullLayout,u=P(t,[],x);if(u){var f={},l={},y={},h={},M=n._size;i.forEach(function(S,C){var m=S[0].trace;y[C]=m.index;var E=h[C]=m._fullInput.index;f[C]=t.data[E].dimensions,l[C]=t.data[E].dimensions.slice()});var c=function(S,C,m){var E=l[S][C],b=m.map(function(U){return U.slice()}),s="dimensions["+C+"].constraintrange",L=n._tracePreGUI[t._fullData[y[S]]._fullInput.uid];if(L[s]===void 0){var A=E.constraintrange;L[s]=A||null}var k=t._fullData[y[S]].dimensions[C];b.length?(b.length===1&&(b=b[0]),E.constraintrange=b,k.constraintrange=b.slice(),b=[b]):(delete E.constraintrange,delete k.constraintrange,b=null);var _={};_[s]=b,t.emit("plotly_restyle",[_,[h[S]]])},o=function(S){t.emit("plotly_hover",S)},d=function(S){t.emit("plotly_unhover",S)},T=function(S,C){var m=v(C,l[S].filter(a));f[S].sort(m),l[S].filter(function(E){return!a(E)}).sort(function(E){return l[S].indexOf(E)}).forEach(function(E){f[S].splice(f[S].indexOf(E),1),f[S].splice(l[S].indexOf(E),0,E)}),t.emit("plotly_restyle",[{dimensions:[f[S]]},[h[S]]])};g(t,i,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{filterChanged:c,hover:o,unhover:d,axesMoved:T})}};p.reglPrecompiled=x},74996:function(H,j,e){var g=e(45464),P=e(86968).u,a=e(25376),x=e(22548),w=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});H.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:x.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:w({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(H,j,e){var g=e(7316);j.name="pie",j.plot=function(P,a,x,w){g.plotBasePlot(j.name,P,a,x,w)},j.clean=function(P,a,x,w){g.cleanBasePlot(j.name,P,a,x,w)}},45768:function(H,j,e){var g=e(38248),P=e(49760),a=e(76308),x={};function w(t,i){var n=[],u=t._fullLayout,f=u.hiddenlabels||[],l=i.labels,y=i.marker.colors||[],h=i.values,M=i._length,c=i._hasValues&&M,o,d;if(i.dlabel)for(l=new Array(M),o=0;o<M;o++)l[o]=String(i.label0+o*i.dlabel);var T={},S=v(u["_"+i.type+"colormap"]),C=0,m=!1;for(o=0;o<M;o++){var E,b,s;if(c){if(E=h[o],!g(E))continue;E=+E}else E=1;b=l[o],(b===void 0||b==="")&&(b=o),b=String(b);var L=T[b];L===void 0?(T[b]=n.length,s=f.indexOf(b)!==-1,s||(C+=E),n.push({v:E,label:b,color:S(y[o],b),i:o,pts:[o],hidden:s})):(m=!0,d=n[L],d.v+=E,d.pts.push(o),d.hidden||(C+=E),d.color===!1&&y[o]&&(d.color=S(y[o],b)))}n=n.filter(function(k){return k.v>=0});var A=i.type==="funnelarea"?m:i.sort;return A&&n.sort(function(k,_){return _.v-k.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,u){return!n||(n=P(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),t[u]||(t[u]=n),n)}}function p(t,i){var n=(i||{}).type;n||(n="pie");var u=t._fullLayout,f=t.calcdata,l=u[n+"colorway"],y=u["_"+n+"colormap"];u["extend"+n+"colors"]&&(l=r(l,x));for(var h=0,M=0;M<f.length;M++){var c=f[M],o=c[0].trace.type;if(o===n)for(var d=0;d<c.length;d++){var T=c[d];T.color===!1&&(y[T.label]?T.color=y[T.label]:(y[T.label]=T.color=l[h%l.length],h++))}}}function r(t,i){var n,u=JSON.stringify(t),f=i[u];if(!f){for(f=t.slice(),n=0;n<t.length;n++)f.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)f.push(P(t[n]).darken(20).toHexString());i[u]=f}return f}H.exports={calc:w,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(H,j,e){var g=e(38248),P=e(3400),a=e(74996),x=e(86968).Q,w=e(31508).handleText,v=e(3400).coercePattern;function p(i,n){var u=P.isArrayOrTypedArray(i),f=P.isArrayOrTypedArray(n),l=Math.min(u?i.length:1/0,f?n.length:1/0);if(isFinite(l)||(l=0),l&&f){for(var y,h=0;h<l;h++){var M=n[h];if(g(M)&&M>0){y=!0;break}}y||(l=0)}return{hasLabels:u,hasValues:f,len:l}}function r(i,n,u,f,l){var y=f("marker.line.width");y&&f("marker.line.color",l?void 0:u.paper_bgcolor);var h=f("marker.colors");v(f,"marker.pattern",h),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=u.paper_bgcolor)}function t(i,n,u,f){function l(L,A){return P.coerce(i,n,a,L,A)}var y=l("labels"),h=l("values"),M=p(y,h),c=M.len;if(n._hasLabels=M.hasLabels,n._hasValues=M.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!c){n.visible=!1;return}n._length=c,r(i,n,f,l,!0),l("scalegroup");var o=l("text"),d=l("texttemplate"),T;if(d||(T=l("textinfo",P.isArrayOrTypedArray(o)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||T&&T!=="none"){var S=l("textposition");w(i,n,f,l,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(S)||S==="auto",m=C||S==="outside";m&&l("automargin"),(S==="inside"||S==="auto"||Array.isArray(S))&&l("insidetextorientation")}else T==="none"&&l("textposition","none");x(n,f,l);var E=l("hole"),b=l("title.text");if(b){var s=l("title.position",E?"middle center":"top center");!E&&s==="middle center"&&(n.title.position="top center"),P.coerceFont(l,"title.font",f.font)}l("sort"),l("direction"),l("rotation"),l("pull")}H.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(H,j,e){var g=e(10624).appendArrayMultiPointValues;H.exports=function(a,x){var w={curveNumber:x.index,pointNumbers:a.pts,data:x._input,fullData:x,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(w.pointNumber=w.i=a.pts[0]),g(w,x,a.pts),x.type==="funnelarea"&&(delete w.v,delete w.i),w}},21552:function(H,j,e){var g=e(43616),P=e(76308);H.exports=function(x,w,v,p){var r=v.marker.pattern;r&&r.shape?g.pointStyle(x,v,p,w):P.fill(x,w.color)}},69656:function(H,j,e){var g=e(3400);function P(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}j.formatPiePercent=function(x,w){var v=P((x*100).toPrecision(3));return g.numSeparate(v,w)+"%"},j.formatPieValue=function(x,w){var v=P(x.toPrecision(10));return g.numSeparate(v,w)},j.getFirstFilled=function(x,w){if(g.isArrayOrTypedArray(x))for(var v=0;v<w.length;v++){var p=x[w[v]];if(p||p===0||p==="")return p}},j.castOption=function(x,w){if(g.isArrayOrTypedArray(x))return j.getFirstFilled(x,w);if(x)return x},j.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},75792:function(H,j,e){H.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(H){H.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(H,j,e){var g=e(3400),P=e(85204);H.exports=function(x,w){function v(p,r){return g.coerce(x,w,P,p,r)}v("hiddenlabels"),v("piecolorway",w.colorway),v("extendpiecolors")}},37820:function(H,j,e){var g=e(33428),P=e(7316),a=e(93024),x=e(76308),w=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),i=e(82744),n=i.recordMinTextSize,u=i.clearMinTextSize,f=e(78048).TEXTPAD,l=e(69656),y=e(53644),h=e(3400).isValidTextValue;function M(X,oe){var Y=X._context.staticPlot,ee=X._fullLayout,se=ee._size;u("pie",ee),S(oe,X),W(oe,se);var q=v.makeTraceGroups(ee._pielayer,oe,"trace").each(function(K){var le=g.select(this),ie=K[0],he=ie.trace;re(K),le.attr("stroke-linejoin","round"),le.each(function(){var ye=g.select(this).selectAll("g.slice").data(K);ye.enter().append("g").classed("slice",!0),ye.exit().remove();var Ce=[[[],[]],[[],[]]],Ae=!1;ye.each(function(Be,Xe){if(Be.hidden){g.select(this).selectAll("path,g").remove();return}Be.pointNumber=Be.i,Be.curveNumber=he.index,Ce[Be.pxmid[1]<0?0:1][Be.pxmid[0]<0?0:1].push(Be);var ut=ie.cx,dt=ie.cy,at=g.select(this),We=at.selectAll("path.surface").data([Be]);if(We.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),at.call(o,X,K),he.pull){var rt=+l.castOption(he.pull,Be.pts)||0;rt>0&&(ut+=rt*Be.pxmid[0],dt+=rt*Be.pxmid[1])}Be.cxFinal=ut,Be.cyFinal=dt;function st(Ke,He,Ie,be){var me=be*(He[0]-Ke[0]),Me=be*(He[1]-Ke[1]);return"a"+be*ie.r+","+be*ie.r+" 0 "+Be.largeArc+(Ie?" 1 ":" 0 ")+me+","+Me}var ht=he.hole;if(Be.v===ie.vTotal){var vt="M"+(ut+Be.px0[0])+","+(dt+Be.px0[1])+st(Be.px0,Be.pxmid,!0,1)+st(Be.pxmid,Be.px0,!0,1)+"Z";ht?We.attr("d","M"+(ut+ht*Be.px0[0])+","+(dt+ht*Be.px0[1])+st(Be.px0,Be.pxmid,!1,ht)+st(Be.pxmid,Be.px0,!1,ht)+"Z"+vt):We.attr("d",vt)}else{var At=st(Be.px0,Be.px1,!0,1);if(ht){var tt=1-ht;We.attr("d","M"+(ut+ht*Be.px1[0])+","+(dt+ht*Be.px1[1])+st(Be.px1,Be.px0,!1,ht)+"l"+tt*Be.px0[0]+","+tt*Be.px0[1]+At+"Z")}else We.attr("d","M"+ut+","+dt+"l"+Be.px0[0]+","+Be.px0[1]+At+"Z")}fe(X,Be,ie);var _e=l.castOption(he.textposition,Be.pts),je=at.selectAll("g.slicetext").data(Be.text&&_e!=="none"?[0]:[]);je.enter().append("g").classed("slicetext",!0),je.exit().remove(),je.each(function(){var Ke=v.ensureSingle(g.select(this),"text","",function(Je){Je.attr("data-notex",1)}),He=v.ensureUniformFontSize(X,_e==="outside"?d(he,Be,ee.font):T(he,Be,ee.font));Ke.text(Be.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(w.font,He).call(t.convertToTspans,X);var Ie=w.bBox(Ke.node()),be;if(_e==="outside")be=_(Ie,Be);else if(be=C(Ie,Be,ie),_e==="auto"&&be.scale<1){var me=v.ensureUniformFontSize(X,he.outsidetextfont);Ke.call(w.font,me),Ie=w.bBox(Ke.node()),be=_(Ie,Be)}var Me=be.textPosAngle,Te=Me===void 0?Be.pxmid:ne(ie.r,Me);if(be.targetX=ut+Te[0]*be.rCenter+(be.x||0),be.targetY=dt+Te[1]*be.rCenter+(be.y||0),$(be,Ie),be.outside){var ze=be.targetY;Be.yLabelMin=ze-Ie.height/2,Be.yLabelMid=ze,Be.yLabelMax=ze+Ie.height/2,Be.labelExtraX=0,Be.labelExtraY=0,Ae=!0}be.fontSize=He.size,n(he.type,be,ee),K[Xe].transform=be,v.setTransormAndDisplay(Ke,be)})});var ke=g.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(ke.enter().append("g").classed("titletext",!0),ke.exit().remove(),ke.each(function(){var Be=v.ensureSingle(g.select(this),"text","",function(dt){dt.attr("data-notex",1)}),Xe=he.title.text;he._meta&&(Xe=v.templateString(Xe,he._meta)),Be.text(Xe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(w.font,he.title.font).call(t.convertToTspans,X);var ut;he.title.position==="middle center"?ut=U(ie):ut=F(ie,se),Be.attr("transform",r(ut.x,ut.y)+p(Math.min(1,ut.scale))+r(ut.tx,ut.ty))}),Ae&&V(Ce,he),c(ye,he),Ae&&he.automargin){var we=w.bBox(le.node()),Ee=he.domain,xe=se.w*(Ee.x[1]-Ee.x[0]),Re=se.h*(Ee.y[1]-Ee.y[0]),Ve=(.5*xe-ie.r)/se.w,Ue=(.5*Re-ie.r)/se.h;P.autoMargin(X,"pie."+he.uid+".automargin",{xl:Ee.x[0]-Ve,xr:Ee.x[1]+Ve,yb:Ee.y[0]-Ue,yt:Ee.y[1]+Ue,l:Math.max(ie.cx-ie.r-we.left,0),r:Math.max(we.right-(ie.cx+ie.r),0),b:Math.max(we.bottom-(ie.cy+ie.r),0),t:Math.max(ie.cy-ie.r-we.top,0),pad:5})}})});setTimeout(function(){q.selectAll("tspan").each(function(){var K=g.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)}function c(X,oe){X.each(function(Y){var ee=g.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){ee.select("path.textline").remove();return}var se=ee.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,v.setTransormAndDisplay(se,Y.transform);var q=Y.cxFinal+Y.pxmid[0],K=Y.cyFinal+Y.pxmid[1],le="M"+q+","+K,ie=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var he=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],ye=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(he)>Math.abs(ye)?le+="l"+ye*Y.pxmid[0]/Y.pxmid[1]+","+ye+"H"+(q+Y.labelExtraX+ie):le+="l"+Y.labelExtraX+","+he+"v"+(ye-he)+"h"+ie}else le+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+ie;v.ensureSingle(ee,"path","textline").call(x.stroke,oe.outsidetextfont.color).attr({"stroke-width":Math.min(2,oe.outsidetextfont.size/8),d:le,fill:"none"})})}function o(X,oe,Y){var ee=Y[0],se=ee.cx,q=ee.cy,K=ee.trace,le=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),X.on("mouseover",function(ie){var he=oe._fullLayout,ye=oe._fullData[K.index];if(!(oe._dragging||he.hovermode===!1)){var Ce=ye.hoverinfo;if(Array.isArray(Ce)&&(Ce=a.castHoverinfo({hoverinfo:[l.castOption(Ce,ie.pts)],_module:K._module},he,0)),Ce==="all"&&(Ce="label+text+value+percent+name"),ye.hovertemplate||Ce!=="none"&&Ce!=="skip"&&Ce){var Ae=ie.rInscribed||0,ke=se+ie.pxmid[0]*(1-Ae),we=q+ie.pxmid[1]*(1-Ae),Ee=he.separators,xe=[];if(Ce&&Ce.indexOf("label")!==-1&&xe.push(ie.label),ie.text=l.castOption(ye.hovertext||ye.text,ie.pts),Ce&&Ce.indexOf("text")!==-1){var Re=ie.text;v.isValidTextValue(Re)&&xe.push(Re)}ie.value=ie.v,ie.valueLabel=l.formatPieValue(ie.v,Ee),Ce&&Ce.indexOf("value")!==-1&&xe.push(ie.valueLabel),ie.percent=ie.v/ee.vTotal,ie.percentLabel=l.formatPiePercent(ie.percent,Ee),Ce&&Ce.indexOf("percent")!==-1&&xe.push(ie.percentLabel);var Ve=ye.hoverlabel,Ue=Ve.font,Be=[];a.loneHover({trace:K,x0:ke-Ae*ee.r,x1:ke+Ae*ee.r,y:we,_x0:le?se+ie.TL[0]:ke-Ae*ee.r,_x1:le?se+ie.TR[0]:ke+Ae*ee.r,_y0:le?q+ie.TL[1]:we-Ae*ee.r,_y1:le?q+ie.BL[1]:we+Ae*ee.r,text:xe.join("<br>"),name:ye.hovertemplate||Ce.indexOf("name")!==-1?ye.name:void 0,idealAlign:ie.pxmid[0]<0?"left":"right",color:l.castOption(Ve.bgcolor,ie.pts)||ie.color,borderColor:l.castOption(Ve.bordercolor,ie.pts),fontFamily:l.castOption(Ue.family,ie.pts),fontSize:l.castOption(Ue.size,ie.pts),fontColor:l.castOption(Ue.color,ie.pts),nameLength:l.castOption(Ve.namelength,ie.pts),textAlign:l.castOption(Ve.align,ie.pts),hovertemplate:l.castOption(ye.hovertemplate,ie.pts),hovertemplateLabels:ie,eventData:[y(ie,ye)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:oe,inOut_bbox:Be}),ie.bbox=Be[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,oe.emit("plotly_hover",{points:[y(ie,ye)],event:g.event})}}),X.on("mouseout",function(ie){var he=oe._fullLayout,ye=oe._fullData[K.index],Ce=g.select(this).datum();K._hasHoverEvent&&(ie.originalEvent=g.event,oe.emit("plotly_unhover",{points:[y(Ce,ye)],event:g.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(a.loneUnhover(he._hoverlayer.node()),K._hasHoverLabel=!1)}),X.on("click",function(ie){var he=oe._fullLayout,ye=oe._fullData[K.index];oe._dragging||he.hovermode===!1||(oe._hoverdata=[y(ie,ye)],a.click(oe,g.event))})}function d(X,oe,Y){var ee=l.castOption(X.outsidetextfont.color,oe.pts)||l.castOption(X.textfont.color,oe.pts)||Y.color,se=l.castOption(X.outsidetextfont.family,oe.pts)||l.castOption(X.textfont.family,oe.pts)||Y.family,q=l.castOption(X.outsidetextfont.size,oe.pts)||l.castOption(X.textfont.size,oe.pts)||Y.size;return{color:ee,family:se,size:q}}function T(X,oe,Y){var ee=l.castOption(X.insidetextfont.color,oe.pts);!ee&&X._input.textfont&&(ee=l.castOption(X._input.textfont.color,oe.pts));var se=l.castOption(X.insidetextfont.family,oe.pts)||l.castOption(X.textfont.family,oe.pts)||Y.family,q=l.castOption(X.insidetextfont.size,oe.pts)||l.castOption(X.textfont.size,oe.pts)||Y.size;return{color:ee||x.contrast(oe.color),family:se,size:q}}function S(X,oe){for(var Y,ee,se=0;se<X.length;se++)if(Y=X[se][0],ee=Y.trace,ee.title.text){var q=ee.title.text;ee._meta&&(q=v.templateString(q,ee._meta));var K=w.tester.append("text").attr("data-notex",1).text(q).call(w.font,ee.title.font).call(t.convertToTspans,oe),le=w.bBox(K.node(),!0);Y.titleBox={width:le.width,height:le.height},K.remove()}}function C(X,oe,Y){var ee=Y.r||oe.rpx1,se=oe.rInscribed,q=oe.startangle===oe.stopangle;if(q)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var K=oe.ring,le=K===1&&Math.abs(oe.startangle-oe.stopangle)===Math.PI*2,ie=oe.halfangle,he=oe.midangle,ye=Y.trace.insidetextorientation,Ce=ye==="horizontal",Ae=ye==="tangential",ke=ye==="radial",we=ye==="auto",Ee=[],xe;if(!we){var Re=function(at,We){if(m(oe,at)){var rt=Math.abs(at-oe.startangle),st=Math.abs(at-oe.stopangle),ht=rt<st?rt:st;We==="tan"?xe=b(X,ee,K,ht,0):xe=E(X,ee,K,ht,Math.PI/2),xe.textPosAngle=at,Ee.push(xe)}},Ve;if(Ce||Ae){for(Ve=4;Ve>=-4;Ve-=2)Re(Math.PI*Ve,"tan");for(Ve=4;Ve>=-4;Ve-=2)Re(Math.PI*(Ve+1),"tan")}if(Ce||ke){for(Ve=4;Ve>=-4;Ve-=2)Re(Math.PI*(Ve+1.5),"rad");for(Ve=4;Ve>=-4;Ve-=2)Re(Math.PI*(Ve+.5),"rad")}}if(le||we||Ce){var Ue=Math.sqrt(X.width*X.width+X.height*X.height);if(xe={scale:se*ee*2/Ue,rCenter:1-se,rotate:0},xe.textPosAngle=(oe.startangle+oe.stopangle)/2,xe.scale>=1)return xe;Ee.push(xe)}(we||ke)&&(xe=E(X,ee,K,ie,he),xe.textPosAngle=(oe.startangle+oe.stopangle)/2,Ee.push(xe)),(we||Ae)&&(xe=b(X,ee,K,ie,he),xe.textPosAngle=(oe.startangle+oe.stopangle)/2,Ee.push(xe));for(var Be=0,Xe=0,ut=0;ut<Ee.length;ut++){var dt=Ee[ut].scale;if(Xe<dt&&(Xe=dt,Be=ut),!we&&Xe>=1)break}return Ee[Be]}function m(X,oe){var Y=X.startangle,ee=X.stopangle;return Y>oe&&oe>ee||Y<oe&&oe<ee}function E(X,oe,Y,ee,se){oe=Math.max(0,oe-2*f);var q=X.width/X.height,K=A(q,ee,oe,Y);return{scale:K*2/X.height,rCenter:s(q,K/oe),rotate:L(se)}}function b(X,oe,Y,ee,se){oe=Math.max(0,oe-2*f);var q=X.height/X.width,K=A(q,ee,oe,Y);return{scale:K*2/X.width,rCenter:s(q,K/oe),rotate:L(se+Math.PI/2)}}function s(X,oe){return Math.cos(oe)-X*oe}function L(X){return(180/Math.PI*X+720)%180-90}function A(X,oe,Y,ee){var se=X+1/(2*Math.tan(oe));return Y*Math.min(1/(Math.sqrt(se*se+.5)+se),ee/(Math.sqrt(X*X+ee/2)+X))}function k(X,oe){return X.v===oe.vTotal&&!oe.trace.hole?1:Math.min(1/(1+1/Math.sin(X.halfangle)),X.ring/2)}function _(X,oe){var Y=oe.pxmid[0],ee=oe.pxmid[1],se=X.width/2,q=X.height/2;return Y<0&&(se*=-1),ee<0&&(q*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(q)*(se>0?1:-1)/2,y:q/(1+Y*Y/(ee*ee)),outside:!0}}function U(X){var oe=Math.sqrt(X.titleBox.width*X.titleBox.width+X.titleBox.height*X.titleBox.height);return{x:X.cx,y:X.cy,scale:X.trace.hole*X.r*2/oe,tx:0,ty:-X.titleBox.height/2+X.trace.title.font.size}}function F(X,oe){var Y=1,ee=1,se,q=X.trace,K={x:X.cx,y:X.cy},le={tx:0,ty:0};le.ty+=q.title.font.size,se=N(q),q.title.position.indexOf("top")!==-1?(K.y-=(1+se)*X.r,le.ty-=X.titleBox.height):q.title.position.indexOf("bottom")!==-1&&(K.y+=(1+se)*X.r);var ie=z(X.r,X.trace.aspectratio),he=oe.w*(q.domain.x[1]-q.domain.x[0])/2;return q.title.position.indexOf("left")!==-1?(he=he+ie,K.x-=(1+se)*ie,le.tx+=X.titleBox.width/2):q.title.position.indexOf("center")!==-1?he*=2:q.title.position.indexOf("right")!==-1&&(he=he+ie,K.x+=(1+se)*ie,le.tx-=X.titleBox.width/2),Y=he/X.titleBox.width,ee=B(X,oe)/X.titleBox.height,{x:K.x,y:K.y,scale:Math.min(Y,ee),tx:le.tx,ty:le.ty}}function z(X,oe){return X/(oe===void 0?1:oe)}function B(X,oe){var Y=X.trace,ee=oe.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(X.titleBox.height,ee/2)}function N(X){var oe=X.pull;if(!oe)return 0;var Y;if(v.isArrayOrTypedArray(oe))for(oe=0,Y=0;Y<X.pull.length;Y++)X.pull[Y]>oe&&(oe=X.pull[Y]);return oe}function V(X,oe){var Y,ee,se,q,K,le,ie,he,ye,Ce,Ae,ke,we;function Ee(Ue,Be){return Ue.pxmid[1]-Be.pxmid[1]}function xe(Ue,Be){return Be.pxmid[1]-Ue.pxmid[1]}function Re(Ue,Be){Be||(Be={});var Xe=Be.labelExtraY+(ee?Be.yLabelMax:Be.yLabelMin),ut=ee?Ue.yLabelMin:Ue.yLabelMax,dt=ee?Ue.yLabelMax:Ue.yLabelMin,at=Ue.cyFinal+K(Ue.px0[1],Ue.px1[1]),We=Xe-ut,rt,st,ht,vt,At,tt;if(We*ie>0&&(Ue.labelExtraY=We),!!v.isArrayOrTypedArray(oe.pull))for(st=0;st<Ce.length;st++)ht=Ce[st],!(ht===Ue||(l.castOption(oe.pull,Ue.pts)||0)>=(l.castOption(oe.pull,ht.pts)||0))&&((Ue.pxmid[1]-ht.pxmid[1])*ie>0?(vt=ht.cyFinal+K(ht.px0[1],ht.px1[1]),We=vt-ut-Ue.labelExtraY,We*ie>0&&(Ue.labelExtraY+=We)):(dt+Ue.labelExtraY-at)*ie>0&&(rt=3*le*Math.abs(st-Ce.indexOf(Ue)),At=ht.cxFinal+q(ht.px0[0],ht.px1[0]),tt=At+rt-(Ue.cxFinal+Ue.pxmid[0])-Ue.labelExtraX,tt*le>0&&(Ue.labelExtraX+=tt)))}for(ee=0;ee<2;ee++)for(se=ee?Ee:xe,K=ee?Math.max:Math.min,ie=ee?1:-1,Y=0;Y<2;Y++){for(q=Y?Math.max:Math.min,le=Y?1:-1,he=X[ee][Y],he.sort(se),ye=X[1-ee][Y],Ce=ye.concat(he),ke=[],Ae=0;Ae<he.length;Ae++)he[Ae].yLabelMid!==void 0&&ke.push(he[Ae]);for(we=!1,Ae=0;ee&&Ae<ye.length;Ae++)if(ye[Ae].yLabelMid!==void 0){we=ye[Ae];break}for(Ae=0;Ae<ke.length;Ae++){var Ve=Ae&&ke[Ae-1];we&&!Ae&&(Ve=we),Re(ke[Ae],Ve)}}}function W(X,oe){for(var Y=[],ee=0;ee<X.length;ee++){var se=X[ee][0],q=se.trace,K=q.domain,le=oe.w*(K.x[1]-K.x[0]),ie=oe.h*(K.y[1]-K.y[0]);q.title.text&&q.title.position!=="middle center"&&(ie-=B(se,oe));var he=le/2,ye=ie/2;q.type==="funnelarea"&&!q.scalegroup&&(ye/=q.aspectratio),se.r=Math.min(he,ye)/(1+N(q)),se.cx=oe.l+oe.w*(q.domain.x[1]+q.domain.x[0])/2,se.cy=oe.t+oe.h*(1-q.domain.y[0])-ie/2,q.title.text&&q.title.position.indexOf("bottom")!==-1&&(se.cy-=B(se,oe)),q.scalegroup&&Y.indexOf(q.scalegroup)===-1&&Y.push(q.scalegroup)}Q(X,Y)}function Q(X,oe){for(var Y,ee,se,q=0;q<oe.length;q++){var K=1/0,le=oe[q];for(ee=0;ee<X.length;ee++)if(Y=X[ee][0],se=Y.trace,se.scalegroup===le){var ie;if(se.type==="pie")ie=Y.r*Y.r;else if(se.type==="funnelarea"){var he,ye;se.aspectratio>1?(he=Y.r,ye=he/se.aspectratio):(ye=Y.r,he=ye*se.aspectratio),he*=(1+se.baseratio)/2,ie=he*ye}K=Math.min(K,ie/Y.vTotal)}for(ee=0;ee<X.length;ee++)if(Y=X[ee][0],se=Y.trace,se.scalegroup===le){var Ce=K*Y.vTotal;se.type==="funnelarea"&&(Ce/=(1+se.baseratio)/2,Ce/=se.aspectratio),Y.r=Math.sqrt(Ce)}}}function re(X){var oe=X[0],Y=oe.r,ee=oe.trace,se=l.getRotationAngle(ee.rotation),q=2*Math.PI/oe.vTotal,K="px0",le="px1",ie,he,ye;if(ee.direction==="counterclockwise"){for(ie=0;ie<X.length&&X[ie].hidden;ie++);if(ie===X.length)return;se+=q*X[ie].v,q*=-1,K="px1",le="px0"}for(ye=ne(Y,se),ie=0;ie<X.length;ie++)he=X[ie],!he.hidden&&(he[K]=ye,he.startangle=se,se+=q*he.v/2,he.pxmid=ne(Y,se),he.midangle=se,se+=q*he.v/2,ye=ne(Y,se),he.stopangle=se,he[le]=ye,he.largeArc=he.v>oe.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/oe.vTotal,.5),he.ring=1-ee.hole,he.rInscribed=k(he,oe))}function ne(X,oe){return[X*Math.sin(oe),-X*Math.cos(oe)]}function fe(X,oe,Y){var ee=X._fullLayout,se=Y.trace,q=se.texttemplate,K=se.textinfo;if(!q&&K&&K!=="none"){var le=K.split("+"),ie=function(Be){return le.indexOf(Be)!==-1},he=ie("label"),ye=ie("text"),Ce=ie("value"),Ae=ie("percent"),ke=ee.separators,we;if(we=he?[oe.label]:[],ye){var Ee=l.getFirstFilled(se.text,oe.pts);h(Ee)&&we.push(Ee)}Ce&&we.push(l.formatPieValue(oe.v,ke)),Ae&&we.push(l.formatPiePercent(oe.v/Y.vTotal,ke)),oe.text=we.join("<br>")}function xe(Be){return{label:Be.label,value:Be.v,valueLabel:l.formatPieValue(Be.v,ee.separators),percent:Be.v/Y.vTotal,percentLabel:l.formatPiePercent(Be.v/Y.vTotal,ee.separators),color:Be.color,text:Be.text,customdata:v.castOption(se,Be.i,"customdata")}}if(q){var Re=v.castOption(se,oe.i,"texttemplate");if(!Re)oe.text="";else{var Ve=xe(oe),Ue=l.getFirstFilled(se.text,oe.pts);(h(Ue)||Ue==="")&&(Ve.text=Ue),oe.text=v.texttemplateString(Re,Ve,X._fullLayout._d3locale,Ve,se._meta||{})}}}function $(X,oe){var Y=X.rotate*Math.PI/180,ee=Math.cos(Y),se=Math.sin(Y),q=(oe.left+oe.right)/2,K=(oe.top+oe.bottom)/2;X.textX=q*ee-K*se,X.textY=q*se+K*ee,X.noCenter=!0}H.exports={plot:M,formatSliceLabel:fe,transformInsideText:C,determineInsideTextFont:T,positionTitleOutside:F,prerenderTitles:S,layoutAreas:W,attachFxHandlers:o,computeTransform:$}},22152:function(H,j,e){var g=e(33428),P=e(10528),a=e(82744).resizeText;H.exports=function(w){var v=w._fullLayout._pielayer.selectAll(".trace");a(w,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,i=g.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){g.select(this).call(P,n,t,w)})})}},10528:function(H,j,e){var g=e(76308),P=e(69656).castOption,a=e(21552);H.exports=function(w,v,p,r){var t=p.marker.line,i=P(t.color,v.pts)||g.defaultLine,n=P(t.width,v.pts)||0;w.call(a,v,p,r).style("stroke-width",n).call(g.stroke,i)}},35484:function(H,j,e){var g=e(52904);H.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(H,j,e){var g=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,a=e(43080),x=e(19280).findExtremes,w=e(44928);function v(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[i*2],this.pickXYData[i*2+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:P(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=w(t,{})},p.updateFast=function(t){var i=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,u=this.pickXYData=t.xy,f=t.xbounds&&t.ybounds,l=t.indices,y,h,M,c=this.bounds,o,d,T;if(u){if(M=u,y=u.length>>>1,f)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(T=0;T<y;T++)o=M[T*2],d=M[T*2+1],o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(l)h=l;else for(h=new Int32Array(y),T=0;T<y;T++)h[T]=T}else for(y=i.length,M=new Float32Array(2*y),h=new Int32Array(y),T=0;T<y;T++)o=i[T],d=n[T],h[T]=T,M[T*2]=o,M[T*2+1]=d,o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=M;var S=a(t.marker.color),C=a(t.marker.border.color),m=t.opacity*t.marker.opacity;S[3]*=m,this.pointcloudOptions.color=S;var E=t.marker.blend;if(E===null){var b=100;E=i.length<b||n.length<b}this.pointcloudOptions.blend=E,C[3]*=m,this.pointcloudOptions.borderColor=C;var s=t.marker.sizemin,L=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=L,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var A=this.scene.xaxis,k=this.scene.yaxis,_=L/2||.5;t._extremes[A._id]=x(A,[c[0],c[2]],{ppad:_}),t._extremes[k._id]=x(k,[c[1],c[3]],{ppad:_})},p.dispose=function(){this.pointcloud.dispose()};function r(t,i){var n=new v(t,i.uid);return n.update(i),n}H.exports=r},41904:function(H,j,e){var g=e(3400),P=e(35484);H.exports=function(x,w,v){function p(r,t){return g.coerce(x,w,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),x.xy&&x.xy instanceof Float32Array&&(w.xy=x.xy),x.indices&&x.indices instanceof Int32Array&&(w.indices=x.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),w._length=null}},156:function(H,j,e){H.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(H,j,e){var g=e(25376),P=e(45464),a=e(22548),x=e(55756),w=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,i=e(92880).extendFlat,n=e(67824).overrideAll,u=H.exports=n({hoverinfo:i({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:x.hoverlabel,domain:w({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:x.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:x.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:i(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");u.transforms=void 0},10760:function(H,j,e){var g=e(67824).overrideAll,P=e(84888)._M,a=e(59596),x=e(65460),w=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),i="sankey";j.name=i,j.baseLayoutAttrOverrides=g({hoverlabel:x.hoverlabel},"plot","nested"),j.plot=function(u){var f=P(u.calcdata,i)[0];a(u,f),j.updateFx(u)},j.clean=function(u,f,l,y){var h=y._has&&y._has(i),M=f._has&&f._has(i);h&&!M&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},j.updateFx=function(u){for(var f=0;f<u._fullData.length;f++)n(u,f)};function n(u,f){var l=u._fullData[f],y=u._fullLayout,h=y.dragmode,M=y.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){w(c,M);var o={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},T={gd:u,element:c.node(),plotinfo:{id:f,xaxis:o,yaxis:d,fillRangeItems:r.noop},subplot:f,xaxes:[o],yaxes:[d],doneFnCompleted:function(S){var C=u._fullData[f],m,E=C.node.groups.slice(),b=[];function s(_){for(var U=C._sankey.graph.nodes,F=0;F<U.length;F++)if(U[F].pointNumber===_)return U[F]}for(var L=0;L<S.length;L++){var A=s(S[L].pointNumber);if(A)if(A.group){for(var k=0;k<A.childrenNodes.length;k++)b.push(A.childrenNodes[k].pointNumber);E[A.pointNumber-C.node._count]=!1}else b.push(A.pointNumber)}m=E.filter(Boolean).concat([b]),t.call("_guiRestyle",u,{"node.groups":[m]},f)}};T.prepFn=function(S,C,m){p(S,C,m,T,h)},v.init(T)}}},48068:function(H,j,e){var g=e(78484),P=e(3400),a=e(71688).wrap,x=P.isArrayOrTypedArray,w=P.isIndex,v=e(8932);function p(t){var i=t.node,n=t.link,u=[],f=x(n.color),l=x(n.hovercolor),y=x(n.customdata),h={},M={},c=n.colorscales.length,o;for(o=0;o<c;o++){var d=n.colorscales[o],T=v.extractScale(d,{cLetter:"c"}),S=v.makeColorScaleFunc(T);M[d.label]=S}var C=0;for(o=0;o<n.value.length;o++)n.source[o]>C&&(C=n.source[o]),n.target[o]>C&&(C=n.target[o]);var m=C+1;t.node._count=m;var E,b=t.node.groups,s={};for(o=0;o<b.length;o++){var L=b[o];for(E=0;E<L.length;E++){var A=L[E],k=m+o;s.hasOwnProperty(A)?P.warn("Node "+A+" is already part of a group."):s[A]=k}}var _={source:[],target:[]};for(o=0;o<n.value.length;o++){var U=n.value[o],F=n.source[o],z=n.target[o];if(U>0&&w(F,m)&&w(z,m)&&!(s.hasOwnProperty(F)&&s.hasOwnProperty(z)&&s[F]===s[z])){s.hasOwnProperty(z)&&(z=s[z]),s.hasOwnProperty(F)&&(F=s[F]),F=+F,z=+z,h[F]=h[z]=!0;var B="";n.label&&n.label[o]&&(B=n.label[o]);var N=null;B&&M.hasOwnProperty(B)&&(N=M[B]),u.push({pointNumber:o,label:B,color:f?n.color[o]:n.color,hovercolor:l?n.hovercolor[o]:n.hovercolor,customdata:y?n.customdata[o]:n.customdata,concentrationscale:N,source:F,target:z,value:+U}),_.source.push(F),_.target.push(z)}}var V=m+b.length,W=x(i.color),Q=x(i.customdata),re=[];for(o=0;o<V;o++)if(h[o]){var ne=i.label[o];re.push({group:o>m-1,childrenNodes:[],pointNumber:o,label:ne,color:W?i.color[o]:i.color,customdata:Q?i.customdata[o]:i.customdata})}var fe=!1;return r(V,_.source,_.target)&&(fe=!0),{circular:fe,links:u,nodes:re,groups:b,groupLookup:s}}function r(t,i,n){for(var u=P.init2dArray(t,0),f=0;f<Math.min(i.length,n.length);f++)if(P.isIndex(i[f],t)&&P.isIndex(n[f],t)){if(i[f]===n[f])return!0;u[i[f]].push(n[f])}var l=g(u);return l.components.some(function(y){return y.length>1})}H.exports=function(i,n){var u=p(n);return a({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},11820:function(H){H.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(H,j,e){var g=e(3400),P=e(41440),a=e(76308),x=e(49760),w=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);H.exports=function(n,u,f,l){function y(k,_){return g.coerce(n,u,P,k,_)}var h=g.extendDeep(l.hoverlabel,n.hoverlabel),M=n.node,c=p.newContainer(u,"node");function o(k,_){return g.coerce(M,c,P.node,k,_)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(M,c,o,h),o("hovertemplate"),o("align");var d=l.colorway,T=function(k){return d[k%d.length]};o("color",c.label.map(function(k,_){return a.addOpacity(T(_),.8)})),o("customdata");var S=n.link||{},C=p.newContainer(u,"link");function m(k,_){return g.coerce(S,C,P.link,k,_)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),v(S,C,m,h),m("hovertemplate");var E=x(l.paper_bgcolor).getLuminance()<.333,b=E?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=m("color",b);function L(k){var _=x(k);if(!_.isValid())return k;var U=_.getAlpha();return U<=.8?_.setAlpha(U+.2):_=E?_.brighten():_.darken(),_.toRgbString()}m("hovercolor",Array.isArray(s)?s.map(L):L(s)),m("customdata"),r(S,C,{name:"colorscales",handleItemDefaults:t}),w(u,l,y),y("orientation"),y("valueformat"),y("valuesuffix");var A;c.x.length&&c.y.length&&(A="freeform"),y("arrangement",A),g.coerceFont(y,"textfont",g.extendFlat({},l.font)),u._length=null};function t(i,n){function u(f,l){return g.coerce(i,n,P.link.colorscales,f,l)}u("label"),u("cmin"),u("cmax"),u("colorscale")}},45499:function(H,j,e){H.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(H,j,e){var g=e(33428),P=e(3400),a=P.numberFormat,x=e(83248),w=e(93024),v=e(76308),p=e(11820).cn,r=P._;function t(d){return d!==""}function i(d,T){return d.filter(function(S){return S.key===T.traceId})}function n(d,T){g.select(d).select("path").style("fill-opacity",T),g.select(d).select("rect").style("fill-opacity",T)}function u(d){g.select(d).select("text.name").style("fill","black")}function f(d){return function(T){return d.node.sourceLinks.indexOf(T.link)!==-1||d.node.targetLinks.indexOf(T.link)!==-1}}function l(d){return function(T){return T.node.sourceLinks.indexOf(d.link)!==-1||T.node.targetLinks.indexOf(d.link)!==-1}}function y(d,T,S){T&&S&&i(S,T).selectAll("."+p.sankeyLink).filter(f(T)).call(M.bind(0,T,S,!1))}function h(d,T,S){T&&S&&i(S,T).selectAll("."+p.sankeyLink).filter(f(T)).call(c.bind(0,T,S,!1))}function M(d,T,S,C){C.style("fill",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverHue}).style("fill-opacity",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverAlpha}),C.each(function(m){var E=m.link.label;E!==""&&i(T,d).selectAll("."+p.sankeyLink).filter(function(b){return b.link.label===E}).style("fill",function(b){if(!b.link.concentrationscale)return b.tinyColorHoverHue}).style("fill-opacity",function(b){if(!b.link.concentrationscale)return b.tinyColorHoverAlpha})}),S&&i(T,d).selectAll("."+p.sankeyNode).filter(l(d)).call(y)}function c(d,T,S,C){C.style("fill",function(m){return m.tinyColorHue}).style("fill-opacity",function(m){return m.tinyColorAlpha}),C.each(function(m){var E=m.link.label;E!==""&&i(T,d).selectAll("."+p.sankeyLink).filter(function(b){return b.link.label===E}).style("fill",function(b){return b.tinyColorHue}).style("fill-opacity",function(b){return b.tinyColorAlpha})}),S&&i(T,d).selectAll(p.sankeyNode).filter(l(d)).call(h)}function o(d,T){var S=d.hoverlabel||{},C=P.nestedProperty(S,T).get();return Array.isArray(C)?!1:C}H.exports=function(T,S){for(var C=T._fullLayout,m=C._paper,E=C._size,b=0;b<T._fullData.length;b++)if(T._fullData[b].visible&&T._fullData[b].type===p.sankey&&!T._fullData[b]._viewInitial){var s=T._fullData[b].node;T._fullData[b]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var L=function(ne,fe){var $=fe.link;$.originalEvent=g.event,T._hoverdata=[$],w.click(T,{target:!0})},A=function(ne,fe,$){T._fullLayout.hovermode!==!1&&(g.select(ne).call(M.bind(0,fe,$,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,T.emit("plotly_hover",{event:g.event,points:[fe.link]})))},k=r(T,"source:")+" ",_=r(T,"target:")+" ",U=r(T,"concentration:")+" ",F=r(T,"incoming flow count:")+" ",z=r(T,"outgoing flow count:")+" ",B=function(ne,fe){if(T._fullLayout.hovermode===!1)return;var $=fe.link.trace.link;if($.hoverinfo==="none"||$.hoverinfo==="skip")return;var X=[];function oe(ie){var he,ye;ie.circular?(he=(ie.circularPathData.leftInnerExtent+ie.circularPathData.rightInnerExtent)/2,ye=ie.circularPathData.verticalFullExtent):(he=(ie.source.x1+ie.target.x0)/2,ye=(ie.y0+ie.y1)/2);var Ce=[he,ye];return ie.trace.orientation==="v"&&Ce.reverse(),Ce[0]+=fe.parent.translateX,Ce[1]+=fe.parent.translateY,Ce}for(var Y=0,ee=0;ee<fe.flow.links.length;ee++){var se=fe.flow.links[ee];if(!(T._fullLayout.hovermode==="closest"&&fe.link.pointNumber!==se.pointNumber)){fe.link.pointNumber===se.pointNumber&&(Y=ee),se.fullData=se.trace,$=fe.link.trace.link;var q=oe(se),K={valueLabel:a(fe.valueFormat)(se.value)+fe.valueSuffix};X.push({x:q[0],y:q[1],name:K.valueLabel,text:[se.label||"",k+se.source.label,_+se.target.label,se.concentrationscale?U+a("%0.2f")(se.flow.labelConcentration):""].filter(t).join("<br>"),color:o($,"bgcolor")||v.addOpacity(se.color,1),borderColor:o($,"bordercolor"),fontFamily:o($,"font.family"),fontSize:o($,"font.size"),fontColor:o($,"font.color"),nameLength:o($,"namelength"),textAlign:o($,"align"),idealAlign:g.event.x<q[0]?"right":"left",hovertemplate:$.hovertemplate,hovertemplateLabels:K,eventData:[se]})}}var le=w.loneHover(X,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:T,anchorIndex:Y});le.each(function(){var ie=this;fe.link.concentrationscale||n(ie,.65),u(ie)})},N=function(ne,fe,$){T._fullLayout.hovermode!==!1&&(g.select(ne).call(c.bind(0,fe,$,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,T.emit("plotly_unhover",{event:g.event,points:[fe.link]})),w.loneUnhover(C._hoverlayer.node()))},V=function(ne,fe,$){var X=fe.node;X.originalEvent=g.event,T._hoverdata=[X],g.select(ne).call(h,fe,$),w.click(T,{target:!0})},W=function(ne,fe,$){T._fullLayout.hovermode!==!1&&(g.select(ne).call(y,fe,$),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,T.emit("plotly_hover",{event:g.event,points:[fe.node]})))},Q=function(ne,fe){if(T._fullLayout.hovermode!==!1){var $=fe.node.trace.node;if(!($.hoverinfo==="none"||$.hoverinfo==="skip")){var X=g.select(ne).select("."+p.nodeRect),oe=T._fullLayout._paperdiv.node().getBoundingClientRect(),Y=X.node().getBoundingClientRect(),ee=Y.left-2-oe.left,se=Y.right+2-oe.left,q=Y.top+Y.height/4-oe.top,K={valueLabel:a(fe.valueFormat)(fe.node.value)+fe.valueSuffix};fe.node.fullData=fe.node.trace,T._fullLayout._calcInverseTransform(T);var le=T._fullLayout._invScaleX,ie=T._fullLayout._invScaleY,he=w.loneHover({x0:le*ee,x1:le*se,y:ie*q,name:a(fe.valueFormat)(fe.node.value)+fe.valueSuffix,text:[fe.node.label,F+fe.node.targetLinks.length,z+fe.node.sourceLinks.length].filter(t).join("<br>"),color:o($,"bgcolor")||fe.tinyColorHue,borderColor:o($,"bordercolor"),fontFamily:o($,"font.family"),fontSize:o($,"font.size"),fontColor:o($,"font.color"),nameLength:o($,"namelength"),textAlign:o($,"align"),idealAlign:"left",hovertemplate:$.hovertemplate,hovertemplateLabels:K,eventData:[fe.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:T});n(he,.85),u(he)}}},re=function(ne,fe,$){T._fullLayout.hovermode!==!1&&(g.select(ne).call(h,fe,$),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,T.emit("plotly_unhover",{event:g.event,points:[fe.node]})),w.loneUnhover(C._hoverlayer.node()))};x(T,m,S,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:A,follow:B,unhover:N,select:L},nodeEvents:{hover:W,follow:Q,unhover:re,select:V}})}},83248:function(H,j,e){var g=e(49812),P=e(67756).Gz,a=e(33428),x=e(26800),w=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),i=e(3400),n=i.strTranslate,u=i.strRotate,f=e(71688),l=f.keyFun,y=f.repeat,h=f.unwrap,M=e(72736),c=e(24040),o=e(84284),d=o.CAP_SHIFT,T=o.LINE_SPACING,S=3;function C(oe,Y,ee){var se=h(Y),q=se.trace,K=q.domain,le=q.orientation==="h",ie=q.node.pad,he=q.node.thickness,ye={justify:x.sankeyJustify,left:x.sankeyLeft,right:x.sankeyRight,center:x.sankeyCenter}[q.node.align],Ce=oe.width*(K.x[1]-K.x[0]),Ae=oe.height*(K.y[1]-K.y[0]),ke=se._nodes,we=se._links,Ee=se.circular,xe;Ee?xe=w.sankeyCircular().circularLinkGap(0):xe=x.sankey(),xe.iterations(v.sankeyIterations).size(le?[Ce,Ae]:[Ae,Ce]).nodeWidth(he).nodePadding(ie).nodeId(function(tt){return tt.pointNumber}).nodeAlign(ye).nodes(ke).links(we);var Re=xe();xe.nodePadding()<ie&&i.warn("node.pad was reduced to ",xe.nodePadding()," to fit within the figure.");var Ve,Ue,Be;for(var Xe in se._groupLookup){var ut=parseInt(se._groupLookup[Xe]),dt;for(Ve=0;Ve<Re.nodes.length;Ve++)if(Re.nodes[Ve].pointNumber===ut){dt=Re.nodes[Ve];break}if(dt){var at={pointNumber:parseInt(Xe),x0:dt.x0,x1:dt.x1,y0:dt.y0,y1:dt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Re.nodes.unshift(at),dt.childrenNodes.unshift(at)}}function We(){for(Ve=0;Ve<Re.nodes.length;Ve++){var tt=Re.nodes[Ve],_e={},je,Ke;for(Ue=0;Ue<tt.targetLinks.length;Ue++)Ke=tt.targetLinks[Ue],je=Ke.source.pointNumber+":"+Ke.target.pointNumber,_e.hasOwnProperty(je)||(_e[je]=[]),_e[je].push(Ke);var He=Object.keys(_e);for(Ue=0;Ue<He.length;Ue++){je=He[Ue];var Ie=_e[je],be=0,me={};for(Be=0;Be<Ie.length;Be++)Ke=Ie[Be],me[Ke.label]||(me[Ke.label]=0),me[Ke.label]+=Ke.value,be+=Ke.value;for(Be=0;Be<Ie.length;Be++)Ke=Ie[Be],Ke.flow={value:be,labelConcentration:me[Ke.label]/be,concentration:Ke.value/be,links:Ie},Ke.concentrationscale&&(Ke.color=p(Ke.concentrationscale(Ke.flow.labelConcentration)))}var Me=0;for(Ue=0;Ue<tt.sourceLinks.length;Ue++)Me+=tt.sourceLinks[Ue].value;for(Ue=0;Ue<tt.sourceLinks.length;Ue++)Ke=tt.sourceLinks[Ue],Ke.concentrationOut=Ke.value/Me;var Te=0;for(Ue=0;Ue<tt.targetLinks.length;Ue++)Te+=tt.targetLinks[Ue].value;for(Ue=0;Ue<tt.targetLinks.length;Ue++)Ke=tt.targetLinks[Ue],Ke.concenrationIn=Ke.value/Te}}We();function rt(tt){tt.forEach(function(_e){var je,Ke,He=0,Ie=_e.length,be;for(_e.sort(function(me,Me){return me.y0-Me.y0}),be=0;be<Ie;++be)je=_e[be],je.y0>=He||(Ke=He-je.y0,Ke>1e-6&&(je.y0+=Ke,je.y1+=Ke)),He=je.y1+ie})}function st(tt){var _e=tt.map(function(Me,Te){return{x0:Me.x0,index:Te}}).sort(function(Me,Te){return Me.x0-Te.x0}),je=[],Ke=-1,He,Ie=-1/0,be;for(Ve=0;Ve<_e.length;Ve++){var me=tt[_e[Ve].index];me.x0>Ie+he&&(Ke+=1,He=me.x0),Ie=me.x0,je[Ke]||(je[Ke]=[]),je[Ke].push(me),be=He-me.x0,me.x0+=be,me.x1+=be}return je}if(q.node.x.length&&q.node.y.length){for(Ve=0;Ve<Math.min(q.node.x.length,q.node.y.length,Re.nodes.length);Ve++)if(q.node.x[Ve]&&q.node.y[Ve]){var ht=[q.node.x[Ve]*Ce,q.node.y[Ve]*Ae];Re.nodes[Ve].x0=ht[0]-he/2,Re.nodes[Ve].x1=ht[0]+he/2;var vt=Re.nodes[Ve].y1-Re.nodes[Ve].y0;Re.nodes[Ve].y0=ht[1]-vt/2,Re.nodes[Ve].y1=ht[1]+vt/2}if(q.arrangement==="snap"){ke=Re.nodes;var At=st(ke);rt(At)}xe.update(Re)}return{circular:Ee,key:ee,trace:q,guid:i.randstr(),horizontal:le,width:Ce,height:Ae,nodePad:q.node.pad,nodeLineColor:q.node.line.color,nodeLineWidth:q.node.line.width,linkLineColor:q.link.line.color,linkLineWidth:q.link.line.width,linkArrowLength:q.link.arrowlen,valueFormat:q.valueformat,valueSuffix:q.valuesuffix,textFont:q.textfont,translateX:K.x[0]*oe.width+oe.margin.l,translateY:oe.height-K.y[1]*oe.height+oe.margin.t,dragParallel:le?Ae:Ce,dragPerpendicular:le?Ce:Ae,arrangement:q.arrangement,sankey:xe,graph:Re,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(oe,Y,ee){var se=p(Y.color),q=p(Y.hovercolor),K=Y.source.label+"|"+Y.target.label,le=K+"__"+ee;return Y.trace=oe.trace,Y.curveNumber=oe.trace.index,{circular:oe.circular,key:le,traceId:oe.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:r.tinyRGB(se),tinyColorAlpha:se.getAlpha(),tinyColorHoverHue:r.tinyRGB(q),tinyColorHoverAlpha:q.getAlpha(),linkPath:b,linkLineColor:oe.linkLineColor,linkLineWidth:oe.linkLineWidth,linkArrowLength:oe.linkArrowLength,valueFormat:oe.valueFormat,valueSuffix:oe.valueSuffix,sankey:oe.sankey,parent:oe,interactionState:oe.interactionState,flow:Y.flow}}function E(oe,Y){var ee="",se=oe.width/2,q=oe.circularPathData;return oe.circularLinkType==="top"?ee="M "+(q.targetX-Y)+" "+(q.targetY+se)+" L"+(q.rightInnerExtent-Y)+" "+(q.targetY+se)+"A"+(q.rightLargeArcRadius+se)+" "+(q.rightSmallArcRadius+se)+" 0 0 1 "+(q.rightFullExtent-se-Y)+" "+(q.targetY-q.rightSmallArcRadius)+"L"+(q.rightFullExtent-se-Y)+" "+q.verticalRightInnerExtent+"A"+(q.rightLargeArcRadius+se)+" "+(q.rightLargeArcRadius+se)+" 0 0 1 "+(q.rightInnerExtent-Y)+" "+(q.verticalFullExtent-se)+"L"+q.leftInnerExtent+" "+(q.verticalFullExtent-se)+"A"+(q.leftLargeArcRadius+se)+" "+(q.leftLargeArcRadius+se)+" 0 0 1 "+(q.leftFullExtent+se)+" "+q.verticalLeftInnerExtent+"L"+(q.leftFullExtent+se)+" "+(q.sourceY-q.leftSmallArcRadius)+"A"+(q.leftLargeArcRadius+se)+" "+(q.leftSmallArcRadius+se)+" 0 0 1 "+q.leftInnerExtent+" "+(q.sourceY+se)+"L"+q.sourceX+" "+(q.sourceY+se)+"L"+q.sourceX+" "+(q.sourceY-se)+"L"+q.leftInnerExtent+" "+(q.sourceY-se)+"A"+(q.leftLargeArcRadius-se)+" "+(q.leftSmallArcRadius-se)+" 0 0 0 "+(q.leftFullExtent-se)+" "+(q.sourceY-q.leftSmallArcRadius)+"L"+(q.leftFullExtent-se)+" "+q.verticalLeftInnerExtent+"A"+(q.leftLargeArcRadius-se)+" "+(q.leftLargeArcRadius-se)+" 0 0 0 "+q.leftInnerExtent+" "+(q.verticalFullExtent+se)+"L"+(q.rightInnerExtent-Y)+" "+(q.verticalFullExtent+se)+"A"+(q.rightLargeArcRadius-se)+" "+(q.rightLargeArcRadius-se)+" 0 0 0 "+(q.rightFullExtent+se-Y)+" "+q.verticalRightInnerExtent+"L"+(q.rightFullExtent+se-Y)+" "+(q.targetY-q.rightSmallArcRadius)+"A"+(q.rightLargeArcRadius-se)+" "+(q.rightSmallArcRadius-se)+" 0 0 0 "+(q.rightInnerExtent-Y)+" "+(q.targetY-se)+"L"+(q.targetX-Y)+" "+(q.targetY-se)+(Y>0?"L"+q.targetX+" "+q.targetY:"")+"Z":ee="M "+(q.targetX-Y)+" "+(q.targetY-se)+" L"+(q.rightInnerExtent-Y)+" "+(q.targetY-se)+"A"+(q.rightLargeArcRadius+se)+" "+(q.rightSmallArcRadius+se)+" 0 0 0 "+(q.rightFullExtent-se-Y)+" "+(q.targetY+q.rightSmallArcRadius)+"L"+(q.rightFullExtent-se-Y)+" "+q.verticalRightInnerExtent+"A"+(q.rightLargeArcRadius+se)+" "+(q.rightLargeArcRadius+se)+" 0 0 0 "+(q.rightInnerExtent-Y)+" "+(q.verticalFullExtent+se)+"L"+q.leftInnerExtent+" "+(q.verticalFullExtent+se)+"A"+(q.leftLargeArcRadius+se)+" "+(q.leftLargeArcRadius+se)+" 0 0 0 "+(q.leftFullExtent+se)+" "+q.verticalLeftInnerExtent+"L"+(q.leftFullExtent+se)+" "+(q.sourceY+q.leftSmallArcRadius)+"A"+(q.leftLargeArcRadius+se)+" "+(q.leftSmallArcRadius+se)+" 0 0 0 "+q.leftInnerExtent+" "+(q.sourceY-se)+"L"+q.sourceX+" "+(q.sourceY-se)+"L"+q.sourceX+" "+(q.sourceY+se)+"L"+q.leftInnerExtent+" "+(q.sourceY+se)+"A"+(q.leftLargeArcRadius-se)+" "+(q.leftSmallArcRadius-se)+" 0 0 1 "+(q.leftFullExtent-se)+" "+(q.sourceY+q.leftSmallArcRadius)+"L"+(q.leftFullExtent-se)+" "+q.verticalLeftInnerExtent+"A"+(q.leftLargeArcRadius-se)+" "+(q.leftLargeArcRadius-se)+" 0 0 1 "+q.leftInnerExtent+" "+(q.verticalFullExtent-se)+"L"+(q.rightInnerExtent-Y)+" "+(q.verticalFullExtent-se)+"A"+(q.rightLargeArcRadius-se)+" "+(q.rightLargeArcRadius-se)+" 0 0 1 "+(q.rightFullExtent+se-Y)+" "+q.verticalRightInnerExtent+"L"+(q.rightFullExtent+se-Y)+" "+(q.targetY+q.rightSmallArcRadius)+"A"+(q.rightLargeArcRadius-se)+" "+(q.rightSmallArcRadius-se)+" 0 0 1 "+(q.rightInnerExtent-Y)+" "+(q.targetY+se)+"L"+(q.targetX-Y)+" "+(q.targetY+se)+(Y>0?"L"+q.targetX+" "+q.targetY:"")+"Z",ee}function b(){var oe=.5;function Y(ee){var se=ee.linkArrowLength;if(ee.link.circular)return E(ee.link,se);var q=Math.abs((ee.link.target.x0-ee.link.source.x1)/2);se>q&&(se=q);var K=ee.link.source.x1,le=ee.link.target.x0-se,ie=P(K,le),he=ie(oe),ye=ie(1-oe),Ce=ee.link.y0-ee.link.width/2,Ae=ee.link.y0+ee.link.width/2,ke=ee.link.y1-ee.link.width/2,we=ee.link.y1+ee.link.width/2,Ee="M"+K+","+Ce,xe="C"+he+","+Ce+" "+ye+","+ke+" "+le+","+ke,Re="C"+ye+","+we+" "+he+","+Ae+" "+K+","+Ae,Ve=se>0?"L"+(le+se)+","+(ke+ee.link.width/2):"";return Ve+="L"+le+","+we,Ee+xe+Ve+Re+"Z"}return Y}function s(oe,Y){var ee=p(Y.color),se=v.nodePadAcross,q=oe.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var K=Y.dx,le=Math.max(.5,Y.dy),ie="node_"+Y.pointNumber;return Y.group&&(ie=i.randstr()),Y.trace=oe.trace,Y.curveNumber=oe.trace.index,{index:Y.pointNumber,key:ie,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:oe.key,trace:oe.trace,node:Y,nodePad:oe.nodePad,nodeLineColor:oe.nodeLineColor,nodeLineWidth:oe.nodeLineWidth,textFont:oe.textFont,size:oe.horizontal?oe.height:oe.width,visibleWidth:Math.ceil(K),visibleHeight:le,zoneX:-se,zoneY:-q,zoneWidth:K+2*se,zoneHeight:le+2*q,labelY:oe.horizontal?Y.dy/2+1:Y.dx/2+1,left:Y.originalLayer===1,sizeAcross:oe.width,forceLayouts:oe.forceLayouts,horizontal:oe.horizontal,darkBackground:ee.getBrightness()<=128,tinyColorHue:r.tinyRGB(ee),tinyColorAlpha:ee.getAlpha(),valueFormat:oe.valueFormat,valueSuffix:oe.valueSuffix,sankey:oe.sankey,graph:oe.graph,arrangement:oe.arrangement,uniqueNodeLabelPathId:[oe.guid,oe.key,ie].join("_"),interactionState:oe.interactionState,figure:oe}}function L(oe){oe.attr("transform",function(Y){return n(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function A(oe){oe.call(L)}function k(oe,Y){oe.call(A),Y.attr("d",b())}function _(oe){oe.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function U(oe){return oe.link.width>1||oe.linkLineWidth>0}function F(oe){var Y=n(oe.translateX,oe.translateY);return Y+(oe.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function z(oe,Y,ee){oe.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(ee.hover(this,se,Y),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(ee.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(ee.unhover(this,se,Y),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(ee.unhover(this,se,Y),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&ee.select(this,se,Y)})}function B(oe,Y,ee,se){var q=a.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if(K.arrangement!=="fixed"&&(i.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(ie){se._fullLayout._dragCover=ie}),i.raiseToTop(this),K.interactionState.dragInProgress=K.node,ne(K.node),K.interactionState.hovered&&(ee.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),K.arrangement==="snap")){var le=K.traceId+"|"+K.key;K.forceLayouts[le]?K.forceLayouts[le].alpha(1):N(oe,le,K),V(oe,Y,K,le,se)}}).on("drag",function(K){if(K.arrangement!=="fixed"){var le=a.event.x,ie=a.event.y;K.arrangement==="snap"?(K.node.x0=le-K.visibleWidth/2,K.node.x1=le+K.visibleWidth/2,K.node.y0=ie-K.visibleHeight/2,K.node.y1=ie+K.visibleHeight/2):(K.arrangement==="freeform"&&(K.node.x0=le-K.visibleWidth/2,K.node.x1=le+K.visibleWidth/2),ie=Math.max(0,Math.min(K.size-K.visibleHeight/2,ie)),K.node.y0=ie-K.visibleHeight/2,K.node.y1=ie+K.visibleHeight/2),ne(K.node),K.arrangement!=="snap"&&(K.sankey.update(K.graph),k(oe.filter(fe(K)),Y))}}).on("dragend",function(K){if(K.arrangement!=="fixed"){K.interactionState.dragInProgress=!1;for(var le=0;le<K.node.childrenNodes.length;le++)K.node.childrenNodes[le].x=K.node.x,K.node.childrenNodes[le].y=K.node.y;K.arrangement!=="snap"&&Q(K,se)}});oe.on(".drag",null).call(q)}function N(oe,Y,ee,se){$(ee.graph.nodes);var q=ee.graph.nodes.filter(function(K){return K.originalX===ee.node.originalX}).filter(function(K){return!K.partOfGroup});ee.forceLayouts[Y]=g.forceSimulation(q).alphaDecay(0).force("collide",g.forceCollide().radius(function(K){return K.dy/2+ee.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",W(oe,Y,q,ee)).stop()}function V(oe,Y,ee,se,q){window.requestAnimationFrame(function K(){var le;for(le=0;le<v.forceTicksPerFrame;le++)ee.forceLayouts[se].tick();var ie=ee.graph.nodes;if(X(ie),ee.sankey.update(ee.graph),k(oe.filter(fe(ee)),Y),ee.forceLayouts[se].alpha()>0)window.requestAnimationFrame(K);else{var he=ee.node.originalX;ee.node.x0=he-ee.visibleWidth/2,ee.node.x1=he+ee.visibleWidth/2,Q(ee,q)}})}function W(oe,Y,ee,se){return function(){for(var K=0,le=0;le<ee.length;le++){var ie=ee[le];ie===se.interactionState.dragInProgress?(ie.x=ie.lastDraggedX,ie.y=ie.lastDraggedY):(ie.vx=(ie.originalX-ie.x)/v.forceTicksPerFrame,ie.y=Math.min(se.size-ie.dy/2,Math.max(ie.dy/2,ie.y))),K=Math.max(K,Math.abs(ie.vx),Math.abs(ie.vy))}!se.interactionState.dragInProgress&&K<.1&&se.forceLayouts[Y].alpha()>0&&se.forceLayouts[Y].alpha(0)}}function Q(oe,Y){for(var ee=[],se=[],q=0;q<oe.graph.nodes.length;q++){var K=(oe.graph.nodes[q].x0+oe.graph.nodes[q].x1)/2,le=(oe.graph.nodes[q].y0+oe.graph.nodes[q].y1)/2;ee.push(K/oe.figure.width),se.push(le/oe.figure.height)}c.call("_guiRestyle",Y,{"node.x":[ee],"node.y":[se]},oe.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function re(oe){var Y=[],ee;for(ee=0;ee<oe.length;ee++)oe[ee].originalX=(oe[ee].x0+oe[ee].x1)/2,oe[ee].originalY=(oe[ee].y0+oe[ee].y1)/2,Y.indexOf(oe[ee].originalX)===-1&&Y.push(oe[ee].originalX);for(Y.sort(function(se,q){return se-q}),ee=0;ee<oe.length;ee++)oe[ee].originalLayerIndex=Y.indexOf(oe[ee].originalX),oe[ee].originalLayer=oe[ee].originalLayerIndex/(Y.length-1)}function ne(oe){oe.lastDraggedX=oe.x0+oe.dx/2,oe.lastDraggedY=oe.y0+oe.dy/2}function fe(oe){return function(Y){return Y.node.originalX===oe.node.originalX}}function $(oe){for(var Y=0;Y<oe.length;Y++)oe[Y].y=(oe[Y].y0+oe[Y].y1)/2,oe[Y].x=(oe[Y].x0+oe[Y].x1)/2}function X(oe){for(var Y=0;Y<oe.length;Y++)oe[Y].y0=oe[Y].y-oe[Y].dy/2,oe[Y].y1=oe[Y].y0+oe[Y].dy,oe[Y].x0=oe[Y].x-oe[Y].dx/2,oe[Y].x1=oe[Y].x0+oe[Y].dx}H.exports=function(oe,Y,ee,se,q){var K=oe._context.staticPlot,le=!1;i.ensureSingle(oe._fullLayout._infolayer,"g","first-render",function(){le=!0});var ie=oe._fullLayout._dragCover,he=ee.filter(function(Re){return h(Re).trace.visible}).map(C.bind(null,se)),ye=Y.selectAll("."+v.cn.sankey).data(he,l);ye.exit().remove(),ye.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",F),ye.each(function(Re,Ve){oe._fullData[Ve]._sankey=Re;var Ue="bgsankey-"+Re.trace.uid+"-"+Ve;i.ensureSingle(oe._fullLayout._draggers,"rect",Ue),oe._fullData[Ve]._bgRect=a.select("."+Ue),oe._fullData[Ve]._bgRect.style("pointer-events",K?"none":"all").attr("width",Re.width).attr("height",Re.height).attr("x",Re.translateX).attr("y",Re.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ye.transition().ease(v.ease).duration(v.duration).attr("transform",F);var Ce=ye.selectAll("."+v.cn.sankeyLinks).data(y,l);Ce.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Ae=Ce.selectAll("."+v.cn.sankeyLink).data(function(Re){var Ve=Re.graph.links;return Ve.filter(function(Ue){return Ue.value}).map(m.bind(null,Re))},l);Ae.enter().append("path").classed(v.cn.sankeyLink,!0).call(z,ye,q.linkEvents),Ae.style("stroke",function(Re){return U(Re)?r.tinyRGB(p(Re.linkLineColor)):Re.tinyColorHue}).style("stroke-opacity",function(Re){return U(Re)?r.opacity(Re.linkLineColor):Re.tinyColorAlpha}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}).style("stroke-width",function(Re){return U(Re)?Re.linkLineWidth:1}).attr("d",b()),Ae.style("opacity",function(){return oe._context.staticPlot||le||ie?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Ae.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var ke=ye.selectAll("."+v.cn.sankeyNodeSet).data(y,l);ke.enter().append("g").classed(v.cn.sankeyNodeSet,!0),ke.style("cursor",function(Re){switch(Re.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var we=ke.selectAll("."+v.cn.sankeyNode).data(function(Re){var Ve=Re.graph.nodes;return re(Ve),Ve.map(s.bind(null,Re))},l);we.enter().append("g").classed(v.cn.sankeyNode,!0).call(L).style("opacity",function(Re){return(oe._context.staticPlot||le)&&!Re.partOfGroup?1:0}),we.call(z,ye,q.nodeEvents).call(B,Ae,q,oe),we.transition().ease(v.ease).duration(v.duration).call(L).style("opacity",function(Re){return Re.partOfGroup?0:1}),we.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ee=we.selectAll("."+v.cn.nodeRect).data(y);Ee.enter().append("rect").classed(v.cn.nodeRect,!0).call(_),Ee.style("stroke-width",function(Re){return Re.nodeLineWidth}).style("stroke",function(Re){return r.tinyRGB(p(Re.nodeLineColor))}).style("stroke-opacity",function(Re){return r.opacity(Re.nodeLineColor)}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}),Ee.transition().ease(v.ease).duration(v.duration).call(_);var xe=we.selectAll("."+v.cn.nodeLabel).data(y);xe.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(Re){return Re.node.label}).each(function(Re){var Ve=a.select(this);t.font(Ve,Re.textFont),M.convertToTspans(Ve,oe)}).style("text-shadow",M.makeTextShadow(oe._fullLayout.paper_bgcolor)).attr("text-anchor",function(Re){return Re.horizontal&&Re.left?"end":"start"}).attr("transform",function(Re){var Ve=a.select(this),Ue=M.lineCount(Ve),Be=Re.textFont.size*((Ue-1)*T-d),Xe=Re.nodeLineWidth/2+S,ut=((Re.horizontal?Re.visibleHeight:Re.visibleWidth)-Be)/2;Re.horizontal&&(Re.left?Xe=-Xe:Xe+=Re.visibleWidth);var dt=Re.horizontal?"":"scale(-1,1)"+u(90);return n(Re.horizontal?Xe:ut,Re.horizontal?ut:Xe)+dt}),xe.transition().ease(v.ease).duration(v.duration)}},81128:function(H){H.exports=function(e,g){for(var P=e.cd,a=[],x=P[0].trace,w=x._sankey.graph.nodes,v=0;v<w.length;v++){var p=w[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];x.orientation==="v"&&r.reverse(),g&&g.contains(r,!1,v,e)&&a.push({pointNumber:p.pointNumber})}}return a}},20148:function(H,j,e){var g=e(3400);H.exports=function(a,x){for(var w=0;w<a.length;w++)a[w].i=w;g.mergeArray(x.text,a,"tx"),g.mergeArray(x.texttemplate,a,"txt"),g.mergeArray(x.hovertext,a,"htx"),g.mergeArray(x.customdata,a,"data"),g.mergeArray(x.textposition,a,"tp"),x.textfont&&(g.mergeArrayCastPositive(x.textfont.size,a,"ts"),g.mergeArray(x.textfont.color,a,"tc"),g.mergeArray(x.textfont.family,a,"tf"));var v=x.marker;if(v){g.mergeArrayCastPositive(v.size,a,"ms"),g.mergeArrayCastPositive(v.opacity,a,"mo"),g.mergeArray(v.symbol,a,"mx"),g.mergeArray(v.angle,a,"ma"),g.mergeArray(v.standoff,a,"mf"),g.mergeArray(v.color,a,"mc");var p=v.line;v.line&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(g.mergeArray(r.type,a,"mgt"),g.mergeArray(r.color,a,"mgc"))}}},52904:function(H,j,e){var g=e(29736).axisHoverFormat,P=e(21776).Gw,a=e(21776).Ks,x=e(49084),w=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),i=e(92880).extendFlat,n=e(98304);function u(y){return{valType:"any",dflt:0,editType:"calc"}}function f(y){return{valType:"any",editType:"calc"}}function l(y){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:u(),yperiod:u(),xperiod0:f(),yperiod0:f(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:i({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:i({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:i({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:i({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},x("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},x("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:w({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(H,j,e){var g=e(38248),P=e(3400),a=e(54460),x=e(1220),w=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function i(h,M){var c=h._fullLayout,o=M._xA=a.getFromId(h,M.xaxis||"x","x"),d=M._yA=a.getFromId(h,M.yaxis||"y","y"),T=o.makeCalcdata(M,"x"),S=d.makeCalcdata(M,"y"),C=x(M,o,"x",T),m=x(M,d,"y",S),E=C.vals,b=m.vals,s=M._length,L=new Array(s),A=M.ids,k=y(M,c,o,d),_=!1,U,F,z,B,N,V;f(c,M);var W="x",Q="y",re;if(k)P.pushUnique(k.traceIndices,M._expandedIndex),U=k.orientation==="v",U?(Q="s",re="x"):(W="s",re="y"),N=k.stackgaps==="interpolate";else{var ne=u(M,s);n(h,M,o,d,E,b,ne)}var fe=!!M.xperiodalignment,$=!!M.yperiodalignment;for(F=0;F<s;F++){var X=L[F]={},oe=g(E[F]),Y=g(b[F]);oe&&Y?(X[W]=E[F],X[Q]=b[F],fe&&(X.orig_x=T[F],X.xEnd=C.ends[F],X.xStart=C.starts[F]),$&&(X.orig_y=S[F],X.yEnd=m.ends[F],X.yStart=m.starts[F])):k&&(U?oe:Y)?(X[re]=U?E[F]:b[F],X.gap=!0,N?(X.s=w,_=!0):X.s=0):X[W]=X[Q]=w,A&&(X.id=String(A[F]))}if(r(L,M),p(h,M),t(L,M),k){for(F=0;F<L.length;)L[F][re]===w?L.splice(F,1):F++;if(P.sort(L,function(K,le){return K[re]-le[re]||K.i-le.i}),_){for(F=0;F<L.length-1&&L[F].gap;)F++;for(V=L[F].s,V||(V=L[F].s=0),z=0;z<F;z++)L[z].s=V;for(B=L.length-1;B>F&&L[B].gap;)B--;for(V=L[B].s,z=L.length-1;z>B;z--)L[z].s=V;for(;F<B;)if(F++,L[F].gap){for(z=F+1;L[z].gap;)z++;for(var ee=L[F-1][re],se=L[F-1].s,q=(L[z].s-se)/(L[z][re]-ee);F<z;)L[F].s=se+(L[F][re]-ee)*q,F++}}}return L}function n(h,M,c,o,d,T,S){var C=M._length,m=h._fullLayout,E=c._id,b=o._id,s=m._firstScatter[l(M)]===M.uid,L=(y(M,m,c,o)||{}).orientation,A=M.fill;c._minDtick=0,o._minDtick=0;var k={padded:!0},_={padded:!0};S&&(k.ppad=_.ppad=S);var U=C<2||d[0]!==d[C-1]||T[0]!==T[C-1];U&&(A==="tozerox"||A==="tonextx"&&(s||L==="h"))?k.tozero=!0:!(M.error_y||{}).visible&&(A==="tonexty"||A==="tozeroy"||!v.hasMarkers(M)&&!v.hasText(M))&&(k.padded=!1,k.ppad=0),U&&(A==="tozeroy"||A==="tonexty"&&(s||L==="v"))?_.tozero=!0:(A==="tonextx"||A==="tozerox")&&(_.padded=!1),E&&(M._extremes[E]=a.findExtremes(c,d,k)),b&&(M._extremes[b]=a.findExtremes(o,T,_))}function u(h,M){if(v.hasMarkers(h)){var c=h.marker,o=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(E){return Math.max(Math.sqrt((E||0)/o),3)}:d=function(E){return Math.max((E||0)/o,3)},P.isArrayOrTypedArray(c.size)){var T={type:"linear"};a.setConvert(T);for(var S=T.makeCalcdata(h.marker,"size"),C=new Array(M),m=0;m<M;m++)C[m]=d(S[m]);return C}else return d(c.size)}}function f(h,M){var c=l(M),o=h._firstScatter;o[c]||(o[c]=M.uid)}function l(h){var M=h.stackgroup;return h.xaxis+h.yaxis+h.type+(M?"-"+M:"")}function y(h,M,c,o){var d=h.stackgroup;if(d){var T=M._scatterStackOpts[c._id+o._id][d],S=T.orientation==="v"?o:c;if(S.type==="linear"||S.type==="log")return T}}H.exports={calc:i,calcMarkerSize:u,calcAxisExpansion:n,setFirstScatter:f,getStackOpts:y}},4500:function(H,j,e){var g=e(3400);H.exports=function(a,x){g.isArrayOrTypedArray(x.selectedpoints)&&g.tagSelected(a,x)}},90136:function(H,j,e){var g=e(94288).hasColorscale,P=e(47128),a=e(43028);H.exports=function(w,v){a.hasLines(v)&&g(v,"line")&&P(w,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(g(v,"marker")&&P(w,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&P(w,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(H){H.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(H,j,e){var g=e(16356),P=e(96376).setGroupPositions;function a(v,p){for(var r=p.xaxis,t=p.yaxis,i=v._fullLayout,n=v._fullData,u=v.calcdata,f=[],l=[],y=0;y<n.length;y++){var h=n[y];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?f.push(u[y]):h.orientation==="v"&&l.push(u[y]))}var M={mode:i.scattermode,gap:i.scattergap};P(v,r,t,l,M),P(v,t,r,f,M)}H.exports=function(p,r){p._fullLayout.scattermode==="group"&&a(p,r);var t=r.xaxis,i=r.yaxis,n=t._id+i._id,u=p._fullLayout._scatterStackOpts[n];if(u){var f=p.calcdata,l,y,h,M,c,o,d,T,S,C,m,E,b,s,L;for(var A in u){C=u[A];var k=C.traceIndices;if(k.length){for(m=C.stackgaps==="interpolate",E=C.groupnorm,C.orientation==="v"?(b="x",s="y"):(b="y",s="x"),L=new Array(k.length),l=0;l<L.length;l++)L[l]=!1;o=f[k[0]];var _=new Array(o.length);for(l=0;l<o.length;l++)_[l]=o[l][b];for(l=1;l<k.length;l++){for(c=f[k[l]],y=h=0;y<c.length;y++){for(d=c[y][b];d>_[h]&&h<_.length;h++)x(c,y,_[h],l,L,m,b),y++;if(d!==_[h]){for(M=0;M<l;M++)x(f[k[M]],h,d,M,L,m,b);_.splice(h,0,d)}h++}for(;h<_.length;h++)x(c,y,_[h],l,L,m,b),y++}var U=_.length;for(y=0;y<o.length;y++){for(T=o[y][s]=o[y].s,l=1;l<k.length;l++)c=f[k[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=U,T+=c[y].s,c[y][s]=T;if(E)for(S=(E==="fraction"?T:T/100)||1,l=0;l<k.length;l++){var F=f[k[l]][y];F[s]/=S,F.sNorm=F.s/S}}for(l=0;l<k.length;l++){c=f[k[l]];var z=c[0].trace,B=g.calcMarkerSize(z,z._rawLength),N=Array.isArray(B);if(B&&L[l]||N){var V=B;for(B=new Array(U),y=0;y<U;y++)B[y]=c[y].gap?0:N?V[c[y].i]:V}var W=new Array(U),Q=new Array(U);for(y=0;y<U;y++)W[y]=c[y].x,Q[y]=c[y].y;g.calcAxisExpansion(p,z,t,i,W,Q,B),c[0].t.orientation=C.orientation}}}}};function x(v,p,r,t,i,n,u){i[t]=!0;var f={i:null,gap:!0,s:0};if(f[u]=r,v.splice(p,0,f),p&&r===v[p-1][u]){var l=v[p-1];f.s=l.s,f.i=l.i,f.gap=l.gap}else n&&(f.s=w(v,p,r,u));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function w(v,p,r,t){var i=v[p-1],n=v[p+1];return n?i?i.s+(n.s-i.s)*(r-i[t])/(n[t]-i[t]):n.s:i.s}},35036:function(H,j,e){var g=e(3400),P=e(20011),a=e(52904);H.exports=function(w,v){var p,r,t;function i(y){return g.coerce(r._input,r,a,y)}if(v.scattermode==="group")for(t=0;t<w.length;t++)r=w[t],r.type==="scatter"&&(p=r._input,P(p,r,v,i));for(t=0;t<w.length;t++){var n=w[t];if(n.type==="scatter"){var u=n.fill;if(!(u==="none"||u==="toself")&&(n.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var f=t-1;f>=0;f--){var l=w[f];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(H,j,e){var g=e(3400),P=e(24040),a=e(52904),x=e(88200),w=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),i=e(66828),n=e(11731),u=e(124),f=e(70840),l=e(3400).coercePattern;H.exports=function(h,M,c,o){function d(L,A){return g.coerce(h,M,a,L,A)}var T=v(h,M,o,d);if(T||(M.visible=!1),!!M.visible){p(h,M,o,d),d("xhoverformat"),d("yhoverformat");var S=r(h,M,o,d);o.scattermode==="group"&&M.orientation===void 0&&d("orientation","v");var C=!S&&T<x.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),w.hasMarkers(M)&&t(h,M,c,o,d,{gradient:!0}),w.hasLines(M)&&(i(h,M,c,o,d,{backoff:!0}),n(h,M,d),d("connectgaps"),d("line.simplify")),w.hasText(M)&&(d("texttemplate"),u(h,M,o,d));var m=[];(w.hasMarkers(M)||w.hasText(M))&&(d("cliponaxis"),d("marker.maxdisplayed"),m.push("points")),d("fill",S?S.fillDflt:"none"),M.fill!=="none"&&(f(h,M,c,d,{moduleHasFillgradient:!0}),w.hasLines(M)||n(h,M,d),l(d,"fillpattern",M.fillcolor,!1));var E=(M.line||{}).color,b=(M.marker||{}).color;(M.fill==="tonext"||M.fill==="toself")&&m.push("fills"),d("hoveron",m.join("+")||"points"),M.hoveron!=="fills"&&d("hovertemplate");var s=P.getComponentMethod("errorbars","supplyDefaults");s(h,M,E||b||c,{axis:"y"}),s(h,M,E||b||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(M,d)}}},98304:function(H){H.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(H,j,e){var g=e(76308),P=e(3400).isArrayOrTypedArray;function a(x){for(var w=g.interpolate(x[0][1],x[1][1],.5),v=2;v<x.length;v++){var p=g.interpolate(x[v-1][1],x[v][1],.5);w=g.interpolate(w,p,x[v-1][0]/x[v][0])}return w}H.exports=function(w,v,p,r,t){t||(t={});var i=!1;if(v.marker){var n=v.marker.color,u=(v.marker.line||{}).color;n&&!P(n)?i=n:u&&!P(u)&&(i=u)}var f;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var y=r("fillgradient.colorscale");y&&(f=a(y))}}r("fillcolor",g.addOpacity((v.line||{}).color||i||f||p,.5))}},76688:function(H,j,e){var g=e(54460);H.exports=function(a,x,w){var v={},p={_fullLayout:w},r=g.getFromTrace(p,x,"x"),t=g.getFromTrace(p,x,"y"),i=a.orig_x;i===void 0&&(i=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=g.tickText(r,r.c2l(i),!0).text,v.yLabel=g.tickText(t,t.c2l(n),!0).text,v}},44928:function(H,j,e){var g=e(76308),P=e(43028);H.exports=function(x,w){var v,p;if(x.mode==="lines")return v=x.line.color,v&&g.opacity(v)?v:x.fillcolor;if(x.mode==="none")return x.fill?x.fillcolor:"";var r=w.mcc||(x.marker||{}).color,t=w.mlcc||((x.marker||{}).line||{}).color;return p=r&&g.opacity(r)?r:t&&g.opacity(t)&&(w.mlw||((x.marker||{}).line||{}).width)?t:"",p?g.opacity(p)<.3?g.addOpacity(p,.3):p:(v=(x.line||{}).color,v&&g.opacity(v)&&P.hasLines(x)&&x.line.width?v:x.fillcolor)}},20011:function(H,j,e){var g=e(71888).getAxisGroup;H.exports=function(a,x,w,v){var p=x.orientation,r=x[{v:"x",h:"y"}[p]+"axis"],t=g(w,r)+p,i=w._alignmentOpts||{},n=v("alignmentgroup"),u=i[t];u||(u=i[t]={});var f=u[n];f?f.traces.push(x):f=u[n]={traces:[x],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var l=v("offsetgroup"),y=f.offsetGroups,h=y[l];l&&(h||(h=y[l]={offsetIndex:Object.keys(y).length}),x._offsetIndex=h.offsetIndex)}},98723:function(H,j,e){var g=e(3400),P=e(93024),a=e(24040),x=e(44928),w=e(76308),v=g.fillText;H.exports=function(r,t,i,n){var u=r.cd,f=u[0].trace,l=r.xa,y=r.ya,h=l.c2p(t),M=y.c2p(i),c=[h,M],o=f.hoveron||"",d=f.mode.indexOf("markers")!==-1?3:.5,T=!!f.xperiodalignment,S=!!f.yperiodalignment;if(o.indexOf("points")!==-1){var C=function(re){if(T){var ne=l.c2p(re.xStart),fe=l.c2p(re.xEnd);return h>=Math.min(ne,fe)&&h<=Math.max(ne,fe)?0:1/0}var $=Math.max(3,re.mrc||0),X=1-1/$,oe=Math.abs(l.c2p(re.x)-h);return oe<$?X*oe/$:oe-$+X},m=function(re){if(S){var ne=y.c2p(re.yStart),fe=y.c2p(re.yEnd);return M>=Math.min(ne,fe)&&M<=Math.max(ne,fe)?0:1/0}var $=Math.max(3,re.mrc||0),X=1-1/$,oe=Math.abs(y.c2p(re.y)-M);return oe<$?X*oe/$:oe-$+X},E=function(re){var ne=Math.max(d,re.mrc||0),fe=l.c2p(re.x)-h,$=y.c2p(re.y)-M;return Math.max(Math.sqrt(fe*fe+$*$)-ne,1-d/ne)},b=P.getDistanceFunction(n,C,m,E);if(P.getClosest(u,b,r),r.index!==!1){var s=u[r.index],L=l.c2p(s.x,!0),A=y.c2p(s.y,!0),k=s.mrc||1;r.index=s.i;var _=u[0].t.orientation,U=_&&(s.sNorm||s.s),F=_==="h"?U:s.orig_x!==void 0?s.orig_x:s.x,z=_==="v"?U:s.orig_y!==void 0?s.orig_y:s.y;return g.extendFlat(r,{color:x(f,s),x0:L-k,x1:L+k,xLabelVal:F,y0:A-k,y1:A+k,yLabelVal:z,spikeDistance:E(s),hovertemplate:f.hovertemplate}),v(s,f,r),a.getComponentMethod("errorbars","hoverInfo")(s,f,r),[r]}}function B(re){if(!re)return!1;var ne=re.node();try{var fe=new DOMPoint(c[0],c[1]);return ne.isPointInFill(fe)}catch{var $=ne.ownerSVGElement.createSVGPoint();return $.x=c[0],$.y=c[1],ne.isPointInFill($)}}function N(re){var ne,fe=[],$=1/0,X=-1/0,oe=1/0,Y=-1/0,ee;for(ne=0;ne<re.length;ne++){var se=re[ne];se.contains(c)&&(fe.push(se),oe=Math.min(oe,se.ymin),Y=Math.max(Y,se.ymax))}if(fe.length===0)return null;oe=Math.max(oe,0),Y=Math.min(Y,y._length),ee=(oe+Y)/2;var q,K,le,ie,he,ye,Ce;for(ne=0;ne<fe.length;ne++)for(K=fe[ne].pts,q=1;q<K.length;q++)ye=K[q-1][1],Ce=K[q][1],ye>ee!=Ce>=ee&&(ie=K[q-1][0],he=K[q][0],Ce-ye&&(le=ie+(he-ie)*(ee-ye)/(Ce-ye),$=Math.min($,le),X=Math.max(X,le)));return $=Math.max($,0),X=Math.min(X,l._length),{x0:$,x1:X,y0:ee,y1:ee}}if(o.indexOf("fills")!==-1&&f._fillElement){var V=B(f._fillElement)&&!B(f._fillExclusionElement);if(V){var W=N(f._polygons);W===null&&(W={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var Q=w.defaultLine;return w.opacity(f.fillcolor)?Q=f.fillcolor:w.opacity((f.line||{}).color)&&(Q=f.line.color),g.extendFlat(r,{distance:r.maxHoverDistance,x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1,color:Q,hovertemplate:!1}),delete r.index,f.text&&!g.isArrayOrTypedArray(f.text)?r.text=String(f.text):r.text=f.name,[r]}}}},65875:function(H,j,e){var g=e(43028);H.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(H){H.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(H,j,e){var g=e(3400),P=e(55308);H.exports=function(a,x){function w(p,r){return g.coerce(a,x,P,p,r)}var v=x.barmode==="group";x.scattermode==="group"&&w("scattergap",v?x.bargap:.2)}},66828:function(H,j,e){var g=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,a=e(27260);H.exports=function(w,v,p,r,t,i){i||(i={});var n=(w.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(w,"line"))a(w,v,r,t,{prefix:"line.",cLetter:"c"});else{var u=(g(n)?!1:n)||p;t("line.color",u)}t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(H,j,e){var g=e(43616),P=e(39032),a=P.BADNUM,x=P.LOG_CLIP,w=x+.5,v=x-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,i=e(88200);H.exports=function(u,f){var l=f.trace||{},y=f.xaxis,h=f.yaxis,M=y.type==="log",c=h.type==="log",o=y._length,d=h._length,T=f.backoff,S=l.marker,C=f.connectGaps,m=f.baseTolerance,E=f.shape,b=E==="linear",s=l.fill&&l.fill!=="none",L=[],A=i.minTolerance,k=u.length,_=new Array(k),U=0,F,z,B,N,V,W,Q,re,ne,fe,$,X,oe,Y,ee,se;function q(pt){var yt=u[pt];if(!yt)return!1;var Yt=f.linearized?y.l2p(yt.x):y.c2p(yt.x),Xt=f.linearized?h.l2p(yt.y):h.c2p(yt.y);if(Yt===a){if(M&&(Yt=y.c2p(yt.x,!0)),Yt===a)return!1;c&&Xt===a&&(Yt*=Math.abs(y._m*d*(y._m>0?w:v)/(h._m*o*(h._m>0?w:v)))),Yt*=1e3}if(Xt===a){if(c&&(Xt=h.c2p(yt.y,!0)),Xt===a)return!1;Xt*=1e3}return[Yt,Xt]}function K(pt,yt,Yt,Xt){var St=Yt-pt,kt=Xt-yt,Kt=.5-pt,mr=.5-yt,mt=St*St+kt*kt,Zt=St*Kt+kt*mr;if(Zt>0&&Zt<mt){var Qt=Kt*kt-mr*St;if(Qt*Qt<mt)return!0}}var le,ie;function he(pt,yt){var Yt=pt[0]/o,Xt=pt[1]/d,St=Math.max(0,-Yt,Yt-1,-Xt,Xt-1);return St&&le!==void 0&&K(Yt,Xt,le,ie)&&(St=0),St&&yt&&K(Yt,Xt,yt[0]/o,yt[1]/d)&&(St=0),(1+i.toleranceGrowth*St)*m}function ye(pt,yt){var Yt=pt[0]-yt[0],Xt=pt[1]-yt[1];return Math.sqrt(Yt*Yt+Xt*Xt)}var Ce=i.maxScreensAway,Ae=-o*Ce,ke=o*(1+Ce),we=-d*Ce,Ee=d*(1+Ce),xe=[[Ae,we,ke,we],[ke,we,ke,Ee],[ke,Ee,Ae,Ee],[Ae,Ee,Ae,we]],Re,Ve,Ue,Be,Xe,ut;function dt(pt,yt){for(var Yt=[],Xt=0,St=0;St<4;St++){var kt=xe[St],Kt=r(pt[0],pt[1],yt[0],yt[1],kt[0],kt[1],kt[2],kt[3]);Kt&&(!Xt||Math.abs(Kt.x-Yt[0][0])>1||Math.abs(Kt.y-Yt[0][1])>1)&&(Kt=[Kt.x,Kt.y],Xt&&ye(Kt,pt)<ye(Yt[0],pt)?Yt.unshift(Kt):Yt.push(Kt),Xt++)}return Yt}function at(pt){if(pt[0]<Ae||pt[0]>ke||pt[1]<we||pt[1]>Ee)return[t(pt[0],Ae,ke),t(pt[1],we,Ee)]}function We(pt,yt){if(pt[0]===yt[0]&&(pt[0]===Ae||pt[0]===ke)||pt[1]===yt[1]&&(pt[1]===we||pt[1]===Ee))return!0}function rt(pt,yt){var Yt=[],Xt=at(pt),St=at(yt);return Xt&&St&&We(Xt,St)||(Xt&&Yt.push(Xt),St&&Yt.push(St)),Yt}function st(pt,yt,Yt){return function(Xt,St){var kt=at(Xt),Kt=at(St),mr=[];if(kt&&Kt&&We(kt,Kt))return mr;kt&&mr.push(kt),Kt&&mr.push(Kt);var mt=2*p.constrain((Xt[pt]+St[pt])/2,yt,Yt)-((kt||Xt)[pt]+(Kt||St)[pt]);if(mt){var Zt;kt&&Kt?Zt=mt>0==kt[pt]>Kt[pt]?kt:Kt:Zt=kt||Kt,Zt[pt]+=mt}return mr}}var ht;E==="linear"||E==="spline"?ht=dt:E==="hv"||E==="vh"?ht=rt:E==="hvh"?ht=st(0,Ae,ke):E==="vhv"&&(ht=st(1,we,Ee));function vt(pt,yt){var Yt=yt[0]-pt[0],Xt=(yt[1]-pt[1])/Yt,St=(pt[1]*yt[0]-yt[1]*pt[0])/Yt;return St>0?[Xt>0?Ae:ke,Ee]:[Xt>0?ke:Ae,we]}function At(pt){var yt=pt[0],Yt=pt[1],Xt=yt===_[U-1][0],St=Yt===_[U-1][1];if(!(Xt&&St))if(U>1){var kt=yt===_[U-2][0],Kt=Yt===_[U-2][1];Xt&&(yt===Ae||yt===ke)&&kt?Kt?U--:_[U-1]=pt:St&&(Yt===we||Yt===Ee)&&Kt?kt?U--:_[U-1]=pt:_[U++]=pt}else _[U++]=pt}function tt(pt){_[U-1][0]!==pt[0]&&_[U-1][1]!==pt[1]&&At([Ue,Be]),At(pt),Xe=null,Ue=Be=0}var _e=p.isArrayOrTypedArray(S);function je(pt){if(pt&&T&&(pt.i=F,pt.d=u,pt.trace=l,pt.marker=_e?S[pt.i]:S,pt.backoff=T),le=pt[0]/o,ie=pt[1]/d,Re=pt[0]<Ae?Ae:pt[0]>ke?ke:0,Ve=pt[1]<we?we:pt[1]>Ee?Ee:0,Re||Ve){if(!U)_[U++]=[Re||pt[0],Ve||pt[1]];else if(Xe){var yt=ht(Xe,pt);yt.length>1&&(tt(yt[0]),_[U++]=yt[1])}else ut=ht(_[U-1],pt)[0],_[U++]=ut;var Yt=_[U-1];Re&&Ve&&(Yt[0]!==Re||Yt[1]!==Ve)?(Xe&&(Ue!==Re&&Be!==Ve?At(Ue&&Be?vt(Xe,pt):[Ue||Re,Be||Ve]):Ue&&Be&&At([Ue,Be])),At([Re,Ve])):Ue-Re&&Be-Ve&&At([Re||Ue,Ve||Be]),Xe=pt,Ue=Re,Be=Ve}else Xe&&tt(ht(Xe,pt)[0]),_[U++]=pt}for(F=0;F<k;F++)if(z=q(F),!!z){for(U=0,Xe=null,je(z),F++;F<k;F++){if(N=q(F),!N){if(C)continue;break}if(!b||!f.simplify){je(N);continue}var Ke=q(F+1);if(fe=ye(N,z),!(!(s&&(U===0||U===k-1))&&fe<he(N,Ke)*A)){for(re=[(N[0]-z[0])/fe,(N[1]-z[1])/fe],V=z,$=fe,X=Y=ee=0,Q=!1,B=N,F++;F<u.length;F++){if(W=Ke,Ke=q(F+1),!W){if(C)continue;break}if(ne=[W[0]-z[0],W[1]-z[1]],se=ne[0]*re[1]-ne[1]*re[0],Y=Math.min(Y,se),ee=Math.max(ee,se),ee-Y>he(W,Ke))break;B=W,oe=ne[0]*re[0]+ne[1]*re[1],oe>$?($=oe,N=W,Q=!1):oe<X&&(X=oe,V=W,Q=!0)}if(Q?(je(N),B!==V&&je(V)):(V!==z&&je(V),B!==N&&je(N)),je(B),F>=u.length||!W)break;je(W),z=W}}Xe&&At([Ue||Xe[0],Be||Xe[1]]),L.push(_.slice(0,U))}var He=E.slice(E.length-1);if(T&&He!=="h"&&He!=="v"){for(var Ie=!1,be=-1,me=[],Me=0;Me<L.length;Me++)for(var Te=0;Te<L[Me].length-1;Te++){var ze=L[Me][Te],Je=L[Me][Te+1],nt=g.applyBackoff(Je,ze);(nt[0]!==Je[0]||nt[1]!==Je[1])&&(Ie=!0),me[be+1]||(be++,me[be]=[ze,[nt[0],nt[1]]])}return Ie?me:L}return L}},11731:function(H){H.exports=function(e,g,P){var a=P("line.shape");a==="spline"&&P("line.smoothing")}},14328:function(H){var j={tonextx:1,tonexty:1,tonext:1};H.exports=function(g,P,a){var x,w,v,p,r,t={},i=!1,n=-1,u=0,f=-1;for(w=0;w<a.length;w++)x=a[w][0].trace,v=x.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=u,u++):x.fill in j&&f>=0?r=f:(r=f=u,u++),r<n&&(i=!0),x._groupIndex=n=r;var l=a.slice();i&&l.sort(function(h,M){var c=h[0].trace,o=M[0].trace;return c._groupIndex-o._groupIndex||c.index-o.index});var y={};for(w=0;w<l.length;w++)x=l[w][0].trace,v=x.stackgroup||"",x.visible===!0?(x._nexttrace=null,x.fill in j&&(p=y[v],x._prevtrace=p||null,p&&(p._nexttrace=x)),x._ownfill=x.fill&&(x.fill.substr(0,6)==="tozero"||x.fill==="toself"||x.fill.substr(0,2)==="to"&&!x._prevtrace),y[v]=x):x._prevtrace=x._nexttrace=x._ownfill=null;return l}},7152:function(H,j,e){var g=e(38248);H.exports=function(a,x){x||(x=2);var w=a.marker,v=w.sizeref||1,p=w.sizemin||0,r=w.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var i=r(t/x);return g(i)&&i>0?Math.max(i,p):0}}},5528:function(H){H.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(H,j,e){var g=e(76308),P=e(94288).hasColorscale,a=e(27260),x=e(43028);H.exports=function(v,p,r,t,i,n){var u=x.isBubble(v),f=(v.line||{}).color,l;if(n=n||{},f&&(r=f),i("marker.symbol"),i("marker.opacity",u?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",r),P(v,"marker")&&a(v,p,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(f&&!Array.isArray(f)&&p.marker.color!==f?l=f:u?l=g.background:l=g.defaultLine,i("marker.line.color",l),P(v,"marker.line")&&a(v,p,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",u?1:0)),u&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient){var y=i("marker.gradient.type");y!=="none"&&i("marker.gradient.color")}}},31147:function(H,j,e){var g=e(3400).dateTick0,P=e(39032),a=P.ONEWEEK;function x(w,v){return w%a===0?g(v,1):g(v,0)}H.exports=function(v,p,r,t,i){if(i||(i={x:!0,y:!0}),i.x){var n=t("xperiod");n&&(t("xperiod0",x(n,p.xcalendar)),t("xperiodalignment"))}if(i.y){var u=t("yperiod");u&&(t("yperiod0",x(u,p.ycalendar)),t("yperiodalignment"))}}},96504:function(H,j,e){var g=e(33428),P=e(24040),a=e(3400),x=a.ensureSingle,w=a.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),i=e(92065).tester;H.exports=function(y,h,M,c,o,d){var T,S,C=!o,m=!!o&&o.duration>0,E=t(y,h,M);if(T=c.selectAll("g.trace").data(E,function(s){return s[0].trace.uid}),T.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),T.order(),n(y,T,h),m){d&&(S=d());var b=g.transition().duration(o.duration).ease(o.easing).each("end",function(){S&&S()}).each("interrupt",function(){S&&S()});b.each(function(){c.selectAll("g.trace").each(function(s,L){u(y,L,h,s,E,this,o)})})}else T.each(function(s,L){u(y,L,h,s,E,this,o)});C&&T.exit().remove(),c.selectAll("path:not([d])").remove()};function n(l,y,h){y.each(function(M){var c=x(g.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var o=M[0].trace,d=[];o._ownfill&&d.push("_ownFill"),o._nexttrace&&d.push("_nextFill");var T=c.selectAll("g").data(d,w);T.enter().append("g"),T.exit().each(function(S){o[S]=null}).remove(),T.order().each(function(S){o[S]=x(g.select(this),"path","js-fill")})})}function u(l,y,h,M,c,o,d){var T=l._context.staticPlot,S;f(l,y,h,M,c);var C=!!d&&d.duration>0;function m(At){return C?At.transition():At}var E=h.xaxis,b=h.yaxis,s=M[0].trace,L=s.line,A=g.select(o),k=x(A,"g","errorbars"),_=x(A,"g","lines"),U=x(A,"g","points"),F=x(A,"g","text");if(P.getComponentMethod("errorbars","plot")(l,k,h,d),s.visible!==!0)return;m(A).style("opacity",s.opacity);var z,B,N=s.fill.charAt(s.fill.length-1);N!=="x"&&N!=="y"&&(N="");var V,W;N==="y"?(V=1,W=b.c2p(0,!0)):N==="x"&&(V=0,W=E.c2p(0,!0)),M[0][h.isRangePlot?"nodeRangePlot3":"node3"]=A;var Q="",re=[],ne=s._prevtrace,fe=null,$=null;ne&&(Q=ne._prevRevpath||"",B=ne._nextFill,re=ne._ownPolygons,fe=ne._fillsegments,$=ne._fillElement);var X,oe,Y="",ee="",se,q,K,le,ie,he,ye=[];s._polygons=[];var Ce=[],Ae=[],ke=a.noop;if(z=s._ownFill,p.hasLines(s)||s.fill!=="none"){B&&B.datum(M),["hv","vh","hvh","vhv"].indexOf(L.shape)!==-1?(se=v.steps(L.shape),q=v.steps(L.shape.split("").reverse().join(""))):L.shape==="spline"?se=q=function(At){var tt=At[At.length-1];return At.length>1&&At[0][0]===tt[0]&&At[0][1]===tt[1]?v.smoothclosed(At.slice(1),L.smoothing):v.smoothopen(At,L.smoothing)}:se=q=function(At){return"M"+At.join("L")},K=function(At){return q(At.reverse())},Ae=r(M,{xaxis:E,yaxis:b,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(L.width||1,3)/4,shape:L.shape,backoff:L.backoff,simplify:L.simplify,fill:s.fill}),Ce=new Array(Ae.length);var we=0;for(S=0;S<Ae.length;S++){var Ee,xe=Ae[S];!Ee||!N?(Ee=xe.slice(),Ce[we]=Ee,we++):Ee.push.apply(Ee,xe)}s._fillElement=null,s._fillExclusionElement=$,s._fillsegments=Ce.slice(0,we),Ce=s._fillsegments,Ae.length&&(le=Ae[0][0].slice(),ie=Ae[Ae.length-1],he=ie[ie.length-1].slice()),ke=function(At){return function(tt){if(X=se(tt),oe=K(tt),Y?N?(Y+="L"+X.substr(1),ee=oe+("L"+ee.substr(1))):(Y+="Z"+X,ee=oe+"Z"+ee):(Y=X,ee=oe),p.hasLines(s)){var _e=g.select(this);if(_e.datum(M),At)m(_e.style("opacity",0).attr("d",X).call(v.lineGroupStyle)).style("opacity",1);else{var je=m(_e);je.attr("d",X),v.singleLineStyle(M,je)}}}}}var Re=_.selectAll(".js-line").data(Ae);m(Re.exit()).style("opacity",0).remove(),Re.each(ke(!1)),Re.enter().append("path").classed("js-line",!0).style("vector-effect",T?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ke(!0)),v.setClipUrl(Re,h.layerClipId,l);function Ve(At){m(At).attr("d","M0,0Z")}var Ue=function(){var At=new Array(Ce.length);for(S=0;S<Ce.length;S++)At[S]=i(Ce[S]);return At},Be=function(At){var tt,_e;if(!At||At.length===0)for(tt=new Array(Ce.length),_e=0;_e<Ce.length;_e++){var je=Ce[_e][0].slice(),Ke=Ce[_e][Ce[_e].length-1].slice();je[V]=Ke[V]=W;var He=[Ke,je],Ie=He.concat(Ce[_e]);tt[_e]=i(Ie)}else{for(tt=new Array(At.length-1+Ce.length),_e=0;_e<At.length-1;_e++)tt[_e]=i(At[_e]);var be=At[At.length-1].slice();for(be.reverse(),_e=0;_e<Ce.length;_e++)tt[At.length-1+_e]=i(Ce[_e].concat(be))}return tt};Ae.length?(z?(z.datum(M),le&&he&&(N?(le[V]=he[V]=W,m(z).attr("d","M"+he+"L"+le+"L"+Y.substr(1)).call(v.singleFillStyle,l),ye=Be(null)):(m(z).attr("d",Y+"Z").call(v.singleFillStyle,l),ye=Ue())),s._polygons=ye,s._fillElement=z):B&&(s.fill.substr(0,6)==="tonext"&&Y&&Q?(s.fill==="tonext"?(m(B).attr("d",Y+"Z"+Q+"Z").call(v.singleFillStyle,l),ye=Ue(),s._polygons=ye.concat(re)):(m(B).attr("d",Y+"L"+Q.substr(1)+"Z").call(v.singleFillStyle,l),ye=Be(fe),s._polygons=ye),s._fillElement=B):Ve(B)),s._prevRevpath=ee):(z?Ve(z):B&&Ve(B),s._prevRevpath=null),s._ownPolygons=ye;function Xe(At){return At.filter(function(tt){return!tt.gap&&tt.vis})}function ut(At){return At.filter(function(tt){return tt.vis})}function dt(At){return At.filter(function(tt){return!tt.gap})}function at(At){return At.id}function We(At){if(At.ids)return at}function rt(){return!1}function st(At,tt,_e){var je,Ke,He,Ie=_e[0].trace,be=p.hasMarkers(Ie),me=p.hasText(Ie),Me=We(Ie),Te=rt,ze=rt;if(be||me){var Je=w,nt=Ie.stackgroup,pt=nt&&l._fullLayout._scatterStackOpts[E._id+b._id][nt].stackgaps==="infer zero";Ie.marker.maxdisplayed||Ie._needsCull?Je=pt?ut:Xe:nt&&!pt&&(Je=dt),be&&(Te=Je),me&&(ze=Je)}Ke=At.selectAll("path.point"),je=Ke.data(Te,Me);var yt=je.enter().append("path").classed("point",!0);C&&yt.call(v.pointStyle,Ie,l).call(v.translatePoints,E,b).style("opacity",0).transition().style("opacity",1),je.order();var Yt;be&&(Yt=v.makePointStyleFns(Ie)),je.each(function(Xt){var St=g.select(this),kt=m(St);He=v.translatePoint(Xt,kt,E,b),He?(v.singlePointStyle(Xt,kt,Ie,Yt,l),h.layerClipId&&v.hideOutsideRangePoint(Xt,kt,E,b,Ie.xcalendar,Ie.ycalendar),Ie.customdata&&St.classed("plotly-customdata",Xt.data!==null&&Xt.data!==void 0)):kt.remove()}),C?je.exit().transition().style("opacity",0).remove():je.exit().remove(),Ke=tt.selectAll("g"),je=Ke.data(ze,Me),je.enter().append("g").classed("textpoint",!0).append("text"),je.order(),je.each(function(Xt){var St=g.select(this),kt=m(St.select("text"));He=v.translatePoint(Xt,kt,E,b),He?h.layerClipId&&v.hideOutsideRangePoint(Xt,St,E,b,Ie.xcalendar,Ie.ycalendar):St.remove()}),je.selectAll("text").call(v.textPointStyle,Ie,l).each(function(Xt){var St=E.c2p(Xt.x),kt=b.c2p(Xt.y);g.select(this).selectAll("tspan.line").each(function(){m(g.select(this)).attr({x:St,y:kt})})}),je.exit().remove()}U.datum(M),F.datum(M),st(U,F,M);var ht=s.cliponaxis===!1,vt=ht?null:h.layerClipId;v.setClipUrl(U,vt,l),v.setClipUrl(F,vt,l)}function f(l,y,h,M,c){var o=h.xaxis,d=h.yaxis,T=g.extent(a.simpleMap(o.range,o.r2c)),S=g.extent(a.simpleMap(d.range,d.r2c)),C=M[0].trace;if(p.hasMarkers(C)){var m=C.marker.maxdisplayed;if(m!==0){var E=M.filter(function(A){return A.x>=T[0]&&A.x<=T[1]&&A.y>=S[0]&&A.y<=S[1]}),b=Math.ceil(E.length/m),s=0;c.forEach(function(A,k){var _=A[0].trace;p.hasMarkers(_)&&_.marker.maxdisplayed>0&&k<y&&s++});var L=Math.round(s*b/3+Math.floor(s/3)*b/7.1);M.forEach(function(A){delete A.vis}),E.forEach(function(A,k){Math.round((k+L)%b)===0&&(A.vis=!0)})}}}},91560:function(H,j,e){var g=e(43028);H.exports=function(a,x){var w=a.cd,v=a.xaxis,p=a.yaxis,r=[],t=w[0].trace,i,n,u,f,l=!g.hasMarkers(t)&&!g.hasText(t);if(l)return[];if(x===!1)for(i=0;i<w.length;i++)w[i].selected=0;else for(i=0;i<w.length;i++)n=w[i],u=v.c2p(n.x),f=p.c2p(n.y),n.i!==null&&x.contains([u,f],!1,i,a)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(H){var j=["orientation","groupnorm","stackgaps"];H.exports=function(g,P,a,x){var w=a._scatterStackOpts,v=x("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=w[p];r||(r=w[p]={});var t=r[v],i=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},i=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},u=0;u<j.length;u++){var f=j[u],l=f+"Found";if(!t[l]){var y=g[f]!==void 0,h=f==="orientation";if((y||i)&&(t[f]=x(f,n[f]),h&&(t.fillDflt=t[f]==="h"?"tonextx":"tonexty"),y&&(t[l]=!0,!i&&(delete t.traces[0][f],h))))for(var M=0;M<t.traces.length-1;M++){var c=t.traces[M];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(H,j,e){var g=e(33428),P=e(43616),a=e(24040);function x(r){var t=g.select(r).selectAll("g.trace.scatter");t.style("opacity",function(i){return i[0].trace.opacity}),t.selectAll("g.points").each(function(i){var n=g.select(this),u=i.trace||i[0].trace;w(n,u,r)}),t.selectAll("g.text").each(function(i){var n=g.select(this),u=i.trace||i[0].trace;v(n,u,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),a.getComponentMethod("errorbars","style")(t)}function w(r,t,i){P.pointStyle(r.selectAll("path.point"),t,i)}function v(r,t,i){P.textPointStyle(r.selectAll("text"),t,i)}function p(r,t,i){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(i.selectAll("path.point"),n),P.selectedTextStyle(i.selectAll("text"),n)):(w(i,n,r),v(i,n,r))}H.exports={style:x,stylePoints:w,styleText:v,styleOnSelect:p}},43028:function(H,j,e){var g=e(3400),P=e(38116).isTypedArraySpec;H.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var x=a.marker;return g.isPlainObject(x)&&(g.isArrayOrTypedArray(x.size)||P(x.size))}}},124:function(H,j,e){var g=e(3400);H.exports=function(P,a,x,w,v){v=v||{},w("textposition"),g.coerceFont(w,"textfont",v.font||x.font),v.noSelect||(w("selected.textfont.color"),w("unselected.textfont.color"))}},43980:function(H,j,e){var g=e(3400),P=e(24040);H.exports=function(x,w,v,p){var r=p("x"),t=p("y"),i,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(x,w,["x","y"],v),r){var u=g.minRowLength(r);t?i=Math.min(u,g.minRowLength(t)):(i=u,p("y0"),p("dy"))}else{if(!t)return 0;i=g.minRowLength(t),p("x0"),p("dx")}return w._length=i,i}},91592:function(H,j,e){var g=e(52904),P=e(49084),a=e(29736).axisHoverFormat,x=e(21776).Ks,w=e(21776).Gw,v=e(45464),p=e(99168),r=e(87792),t=e(92880).extendFlat,i=e(67824).overrideAll,n=e(95376),u=g.line,f=g.marker,l=f.line,y=t({width:u.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},P("line"));function h(c){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var M=H.exports=i({x:g.x,y:g.y,z:{valType:"data_array"},text:t({},g.text,{}),texttemplate:w({},{}),hovertext:t({},g.hovertext,{}),hovertemplate:x(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:t({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h(),y:h(),z:h()},connectgaps:g.connectgaps,line:y,marker:t({symbol:{valType:"enumerated",values:n(r),dflt:"circle",arrayOk:!0},size:t({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:t({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:t({width:t({},l.width,{arrayOk:!1})},P("marker.line"))},P("marker")),textposition:t({},g.textposition,{dflt:"top center"}),textfont:{color:g.textfont.color,size:g.textfont.size,family:t({},g.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:t({},v.hoverinfo)},"calc","nested");M.x.editType=M.y.editType=M.z.editType="calc+clearAxisTypes"},41484:function(H,j,e){var g=e(20148),P=e(90136);H.exports=function(x,w){var v=[{x:!1,y:!1,trace:w,t:{}}];return g(v,w),P(x,w),v}},45156:function(H,j,e){var g=e(24040);function P(w,v,p,r){if(!v||!v.visible)return null;for(var t=g.getComponentMethod("errorbars","makeComputeError")(v),i=new Array(w.length),n=0;n<w.length;n++){var u=t(+w[n],n);if(r.type==="log"){var f=r.c2l(w[n]),l=w[n]-u[0],y=w[n]+u[1];if(i[n]=[(r.c2l(l,!0)-f)*p,(r.c2l(y,!0)-f)*p],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else i[n]=[-u[0]*p,u[1]*p]}return i}function a(w){for(var v=0;v<w.length;v++)if(w[v])return w[v].length;return 0}function x(w,v,p){var r=[P(w.x,w.error_x,v[0],p.xaxis),P(w.y,w.error_y,v[1],p.yaxis),P(w.z,w.error_z,v[2],p.zaxis)],t=a(r);if(t===0)return null;for(var i=new Array(t),n=0;n<t;n++){for(var u=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(r[f])for(var l=0;l<2;l++)u[l][f]=r[f][n][l];i[n]=u}return i}H.exports=x},41064:function(H,j,e){var g=e(67792).gl_line3d,P=e(67792).gl_scatter3d,a=e(67792).gl_error3d,x=e(67792).gl_mesh3d,w=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),i=e(99168),n=e(87792),u=e(54460),f=e(10624).appendArrayPointValue,l=e(45156);function y(A,k){this.scene=A,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=y.prototype;h.handlePick=function(A){if(A.object&&(A.object===this.linePlot||A.object===this.delaunayMesh||A.object===this.textMarkers||A.object===this.scatterPlot)){var k=A.index=A.data.index;return A.object.highlight&&A.object.highlight(null),this.scatterPlot&&(A.object=this.scatterPlot,this.scatterPlot.highlight(A.data)),A.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(A.textLabel=this.textLabels[k]):A.textLabel=this.textLabels),A.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function M(A,k,_){var U=(_+1)%3,F=(_+2)%3,z=[],B=[],N;for(N=0;N<A.length;++N){var V=A[N];isNaN(V[U])||!isFinite(V[U])||isNaN(V[F])||!isFinite(V[F])||(z.push([V[U],V[F]]),B.push(N))}var W=w(z);for(N=0;N<W.length;++N)for(var Q=W[N],re=0;re<Q.length;++re)Q[re]=B[Q[re]];return{positions:A,cells:W,meshColor:k}}function c(A){for(var k=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],U=[1,1,1],F=0;F<3;F++){var z=A[F];z&&z.copy_zstyle!==!1&&A[2].visible!==!1&&(z=A[2]),!(!z||!z.visible)&&(k[F]=z.width/2,_[F]=p(z.color),U[F]=z.thickness)}return{capSize:k,color:_,lineWidth:U}}function o(A){return A==null?0:A.indexOf("left")>-1?-1:A.indexOf("right")>-1?1:0}function d(A){return A==null?0:A.indexOf("top")>-1?-1:A.indexOf("bottom")>-1?1:0}function T(A){var k=0,_=0,U=[k,_];if(Array.isArray(A))for(var F=0;F<A.length;F++)U[F]=[k,_],A[F]&&(U[F][0]=o(A[F]),U[F][1]=d(A[F]));else U[0]=o(A),U[1]=d(A);return U}function S(A,k){return k(A*4)}function C(A){return n[A]}function m(A,k,_,U,F){var z=null;if(v.isArrayOrTypedArray(A)){z=[];for(var B=0;B<k;B++)A[B]===void 0?z[B]=U:z[B]=_(A[B],F)}else z=_(A,v.identity);return z}function E(A,k){var _=[],U=A.fullSceneLayout,F=A.dataScale,z=U.xaxis,B=U.yaxis,N=U.zaxis,V=k.marker,W=k.line,Q=k.x||[],re=k.y||[],ne=k.z||[],fe=Q.length,$=k.xcalendar,X=k.ycalendar,oe=k.zcalendar,Y,ee,se,q,K,le;for(K=0;K<fe;K++)Y=z.d2l(Q[K],0,$)*F[0],ee=B.d2l(re[K],0,X)*F[1],se=N.d2l(ne[K],0,oe)*F[2],_[K]=[Y,ee,se];if(Array.isArray(k.text))le=k.text;else if(v.isTypedArray(k.text))le=Array.from(k.text);else if(k.text!==void 0)for(le=new Array(fe),K=0;K<fe;K++)le[K]=k.text;function ie(dt,at){var We=U[dt];return u.tickText(We,We.d2l(at),!0).text}var he=k.texttemplate;if(he){var ye=A.fullLayout,Ce=ye._d3locale,Ae=Array.isArray(he),ke=Ae?Math.min(he.length,fe):fe,we=Ae?function(dt){return he[dt]}:function(){return he};for(le=new Array(ke),K=0;K<ke;K++){var Ee={x:Q[K],y:re[K],z:ne[K]},xe={xLabel:ie("xaxis",Q[K]),yLabel:ie("yaxis",re[K]),zLabel:ie("zaxis",ne[K])},Re={};f(Re,k,K);var Ve=k._meta||{};le[K]=v.texttemplateString(we(K),xe,Ce,Re,Ee,Ve)}}if(q={position:_,mode:k.mode,text:le},"line"in k&&(q.lineColor=r(W,1,fe),q.lineWidth=W.width,q.lineDashes=W.dash),"marker"in k){var Ue=t(k);q.scatterColor=r(V,1,fe),q.scatterSize=m(V.size,fe,S,20,Ue),q.scatterMarker=m(V.symbol,fe,C,"●"),q.scatterLineWidth=V.line.width,q.scatterLineColor=r(V.line,1,fe),q.scatterAngle=0}"textposition"in k&&(q.textOffset=T(k.textposition),q.textColor=r(k.textfont,1,fe),q.textSize=m(k.textfont.size,fe,v.identity,12),q.textFont=k.textfont.family,q.textAngle=0);var Be=["x","y","z"];for(q.project=[!1,!1,!1],q.projectScale=[1,1,1],q.projectOpacity=[1,1,1],K=0;K<3;++K){var Xe=k.projection[Be[K]];(q.project[K]=Xe.show)&&(q.projectOpacity[K]=Xe.opacity,q.projectScale[K]=Xe.scale)}q.errorBounds=l(k,F,U);var ut=c([k.error_x,k.error_y,k.error_z]);return q.errorColor=ut.color,q.errorLineWidth=ut.lineWidth,q.errorCapSize=ut.capSize,q.delaunayAxis=k.surfaceaxis,q.delaunayColor=p(k.surfacecolor),q}function b(A){if(v.isArrayOrTypedArray(A)){var k=A[0];return v.isArrayOrTypedArray(k)&&(A=k),"rgb("+A.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function s(A){return v.isArrayOrTypedArray(A)?A.length===4&&typeof A[0]=="number"?b(A):A.map(b):null}h.update=function(A){var k=this.scene.glplot.gl,_,U,F,z,B=i.solid;this.data=A;var N=E(this.scene,A);"mode"in N&&(this.mode=N.mode),"lineDashes"in N&&N.lineDashes in i&&(B=i[N.lineDashes]),this.color=s(N.scatterColor)||s(N.lineColor),this.dataPoints=N.position,_={gl:this.scene.glplot.gl,position:N.position,color:N.lineColor,lineWidth:N.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:A.opacity,connectGaps:A.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=g(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=A.opacity;if(A.marker&&A.marker.opacity!==void 0&&(V*=A.marker.opacity),U={gl:this.scene.glplot.gl,position:N.position,color:N.scatterColor,size:N.scatterSize,glyph:N.scatterMarker,opacity:V,orthographic:!0,lineWidth:N.scatterLineWidth,lineColor:N.scatterLineColor,project:N.project,projectScale:N.projectScale,projectOpacity:N.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(U):(this.scatterPlot=P(U),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),z={gl:this.scene.glplot.gl,position:N.position,glyph:N.text,color:N.textColor,size:N.textSize,angle:N.textAngle,alignment:N.textOffset,font:N.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:A.opacity},this.textLabels=A.hovertext||A.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(z):(this.textMarkers=P(z),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:N.position,color:N.errorColor,error:N.errorBounds,lineWidth:N.errorLineWidth,capSize:N.errorCapSize,opacity:A.opacity},this.errorBars?N.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):N.errorBounds&&(this.errorBars=a(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),N.delaunayAxis>=0){var W=M(N.position,N.delaunayColor,N.delaunayAxis);W.opacity=A.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=k,this.delaunayMesh=x(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function L(A,k){var _=new y(A,k.uid);return _.update(k),_}H.exports=L},83484:function(H,j,e){var g=e(24040),P=e(3400),a=e(43028),x=e(74428),w=e(66828),v=e(124),p=e(91592);H.exports=function(i,n,u,f){function l(S,C){return P.coerce(i,n,p,S,C)}var y=r(i,n,l,f);if(!y){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),a.hasMarkers(n)&&x(i,n,u,f,l,{noSelect:!0,noAngle:!0}),a.hasLines(n)&&(l("connectgaps"),w(i,n,u,f,l)),a.hasText(n)&&(l("texttemplate"),v(i,n,f,l,{noSelect:!0}));var h=(n.line||{}).color,M=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||M);for(var c=["x","y","z"],o=0;o<3;++o){var d="projection."+c[o];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var T=g.getComponentMethod("errorbars","supplyDefaults");T(i,n,h||M||u,{axis:"z"}),T(i,n,h||M||u,{axis:"y",inherit:"z"}),T(i,n,h||M||u,{axis:"x",inherit:"z"})};function r(t,i,n,u){var f=0,l=n("x"),y=n("y"),h=n("z"),M=g.getComponentMethod("calendars","handleTraceDefaults");return M(t,i,["x","y","z"],u),l&&y&&h&&(f=Math.min(l.length,y.length,h.length),i._length=i._xlength=i._ylength=i._zlength=f),f}},3296:function(H,j,e){H.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(H,j,e){var g=e(98304),P=e(52904),a=e(45464),x=e(21776).Ks,w=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=P.marker,t=P.line,i=r.line;H.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},P.mode,{dflt:"markers"}),text:p({},P.text,{}),texttemplate:w({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:p({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:i.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:p({},a.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:x()}},48228:function(H,j,e){var g=e(38248),P=e(90136),a=e(20148),x=e(4500),w=e(16356).calcMarkerSize,v=e(50948);H.exports=function(r,t){var i=t._carpetTrace=v(r,t);if(!(!i||!i.visible||i.visible==="legendonly")){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var u=t._length,f=new Array(u),l,y,h=!1;for(n=0;n<u;n++)if(l=t.a[n],y=t.b[n],g(l)&&g(y)){var M=i.ab2xy(+l,+y,!0),c=i.isVisible(+l,+y);c||(h=!0),f[n]={x:M[0],y:M[1],a:l,b:y,vis:c}}else f[n]={x:!1,y:!1};return t._needsCull=h,f[0].carpet=i,f[0].trace=t,w(t,u),P(r,t),a(f,t),x(f,t),f}}},6176:function(H,j,e){var g=e(3400),P=e(88200),a=e(43028),x=e(74428),w=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);H.exports=function(n,u,f,l){function y(S,C){return g.coerce(n,u,t,S,C)}y("carpet"),u.xaxis="x",u.yaxis="y";var h=y("a"),M=y("b"),c=Math.min(h.length,M.length);if(!c){u.visible=!1;return}u._length=c,y("text"),y("texttemplate"),y("hovertext");var o=c<P.PTS_LINESONLY?"lines+markers":"lines";y("mode",o),a.hasMarkers(u)&&x(n,u,f,l,y,{gradient:!0}),a.hasLines(u)&&(w(n,u,f,l,y,{backoff:!0}),v(n,u,y),y("connectgaps")),a.hasText(u)&&p(n,u,l,y);var d=[];(a.hasMarkers(u)||a.hasText(u))&&(y("marker.maxdisplayed"),d.push("points")),y("fill"),u.fill!=="none"&&(r(n,u,f,y),a.hasLines(u)||v(n,u,y)),(u.fill==="tonext"||u.fill==="toself")&&d.push("fills");var T=y("hoveron",d.join("+")||"points");T!=="fills"&&y("hovertemplate"),g.coerceSelectionMarkerOpacity(u,y)}},89307:function(H){H.exports=function(e,g,P,a,x){var w=a[x];return e.a=w.a,e.b=w.b,e.y=w.y,e}},52364:function(H){H.exports=function(e,g){var P={},a=g._carpet,x=a.ab2ij([e.a,e.b]),w=Math.floor(x[0]),v=x[0]-w,p=Math.floor(x[1]),r=x[1]-p,t=a.evalxy([],w,p,v,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(H,j,e){var g=e(98723),P=e(3400).fillText;H.exports=function(x,w,v,p){var r=g(x,w,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var i=1-t.y0/x.ya._length,n=x.xa._length,u=n*i/2,f=n-u;return t.x0=Math.max(Math.min(t.x0,f),u),t.x1=Math.max(Math.min(t.x1,f),u),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var y=t.trace,h=y._carpet,M=y._module.formatLabels(l,y);t.yLabel=M.yLabel,delete t.text;var c=[];function o(S,C){var m;S.labelprefix&&S.labelprefix.length>0?m=S.labelprefix.replace(/ = $/,""):m=S._hovertitle,c.push(m+": "+C.toFixed(3)+S.labelsuffix)}if(!y.hovertemplate){var d=l.hi||y.hoverinfo,T=d.split("+");T.indexOf("all")!==-1&&(T=["a","b","text"]),T.indexOf("a")!==-1&&o(h.aaxis,l.a),T.indexOf("b")!==-1&&o(h.baxis,l.b),c.push("y: "+t.yLabel),T.indexOf("text")!==-1&&P(l,y,c),t.extraText=c.join("<br>")}return r}},4184:function(H,j,e){H.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(H,j,e){var g=e(96504),P=e(54460),a=e(43616);H.exports=function(w,v,p,r){var t,i,n,u=p[0][0].carpet,f=P.getFromId(w,u.xaxis||"x"),l=P.getFromId(w,u.yaxis||"y"),y={xaxis:f,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)i=p[t][0].trace,i._xA=f,i._yA=l;for(g(w,y,p,r),t=0;t<p.length;t++)i=p[t][0].trace,n=r.selectAll("g.trace"+i.uid+" .js-line"),a.setClipUrl(n,p[t][0].carpet._clipPathId,w)}},6096:function(H,j,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),x=e(52904),w=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,i=x.marker,n=x.line,u=i.line;H.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},x.mode,{dflt:"markers"}),text:r({},x.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},x.hovertext,{}),textfont:x.textfont,textposition:x.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:x.connectgaps,marker:r({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:r({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:r({width:u.width},v("marker.line")),gradient:i.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a(),selected:x.selected,unselected:x.unselected,hoverinfo:r({},w.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},25212:function(H,j,e){var g=e(38248),P=e(39032).BADNUM,a=e(90136),x=e(20148),w=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}H.exports=function(i,n){var u=v(n.locations),f=u?n.locations.length:n._length,l=new Array(f),y;n.geojson?y=function(T){return r(T)||g(T)}:y=r;for(var h=0;h<f;h++){var M=l[h]={};if(u){var c=n.locations[h];M.loc=y(c)?c:null}else{var o=n.lon[h],d=n.lat[h];g(o)&&g(d)?M.lonlat=[+o,+d]:M.lonlat=[P,P]}}return x(l,n),a(i,n),w(l,n),f&&(l[0].t={labels:{lat:p(i,"lat:")+" ",lon:p(i,"lon:")+" "}}),l}},86188:function(H,j,e){var g=e(3400),P=e(43028),a=e(74428),x=e(66828),w=e(124),v=e(70840),p=e(6096);H.exports=function(t,i,n,u){function f(T,S){return g.coerce(t,i,p,T,S)}var l=f("locations"),y;if(l&&l.length){var h=f("geojson"),M;(typeof h=="string"&&h!==""||g.isPlainObject(h))&&(M="geojson-id");var c=f("locationmode",M);c==="geojson-id"&&f("featureidkey"),y=l.length}else{var o=f("lon")||[],d=f("lat")||[];y=Math.min(o.length,d.length)}if(!y){i.visible=!1;return}i._length=y,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),P.hasMarkers(i)&&a(t,i,n,u,f,{gradient:!0}),P.hasLines(i)&&(x(t,i,n,u,f),f("connectgaps")),P.hasText(i)&&(f("texttemplate"),w(t,i,u,f)),f("fill"),i.fill!=="none"&&v(t,i,n,f),g.coerceSelectionMarkerOpacity(i,f)}},58544:function(H){H.exports=function(e,g,P,a,x){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var w=a[x];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e}},56696:function(H,j,e){var g=e(54460);H.exports=function(a,x,w){var v={},p=w[x.geo]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(H,j,e){var g=e(93024),P=e(39032).BADNUM,a=e(44928),x=e(3400).fillText,w=e(6096);H.exports=function(r,t,i){var n=r.cd,u=n[0].trace,f=r.xa,l=r.ya,y=r.subplot,h=y.projection.isLonLatOverEdges,M=y.project;function c(E){var b=E.lonlat;if(b[0]===P||h(b))return 1/0;var s=M(b),L=M([t,i]),A=Math.abs(s[0]-L[0]),k=Math.abs(s[1]-L[1]),_=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(A*A+k*k)-_,1-3/_)}if(g.getClosest(n,c,r),r.index!==!1){var o=n[r.index],d=o.lonlat,T=[f.c2p(d),l.c2p(d)],S=o.mrc||1;r.x0=T[0]-S,r.x1=T[0]+S,r.y0=T[1]-S,r.y1=T[1]+S,r.loc=o.loc,r.lon=d[0],r.lat=d[1];var C={};C[u.geo]={_subplot:y};var m=u._module.formatLabels(o,u,C);return r.lonLabel=m.lonLabel,r.latLabel=m.latLabel,r.color=a(u,o),r.extraText=v(u,o,r,n[0].t.labels),r.hovertemplate=u.hovertemplate,[r]}};function v(p,r,t,i){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,u=n==="all"?w.hoverinfo.flags:n.split("+"),f=u.indexOf("location")!==-1&&Array.isArray(p.locations),l=u.indexOf("lon")!==-1,y=u.indexOf("lat")!==-1,h=u.indexOf("text")!==-1,M=[];function c(o){return o+"°"}return f?M.push(r.loc):l&&y?M.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?M.push(i.lon+c(t.lonLabel)):y&&M.push(i.lat+c(t.latLabel)),h&&x(r,p,M),M.join("<br>")}},36952:function(H,j,e){H.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(H,j,e){var g=e(33428),P=e(3400),a=e(59972).getTopojsonFeatures,x=e(44808),w=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),i=e(25064);function n(f,l,y){var h=l.layers.frontplot.select(".scatterlayer"),M=P.makeTraceGroups(h,y,"trace scattergeo");function c(o,d){o.lonlat[0]===p&&g.select(d).remove()}M.selectAll("*").remove(),M.each(function(o){var d=g.select(this),T=o[0].trace;if(t.hasLines(T)||T.fill!=="none"){var S=x.calcTraceToLineCoords(o),C=T.fill!=="none"?x.makePolygon(S):x.makeLine(S);d.selectAll("path.js-line").data([{geojson:C,trace:T}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(T)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),t.hasText(T)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(m){c(m,this)}),i(f,o)})}function u(f,l){var y=f[0].trace,h=l[y.geo],M=h._subplot,c=y._length,o,d;if(P.isArrayOrTypedArray(y.locations)){var T=y.locationmode,S=T==="geojson-id"?w.extractTraceFeature(f):a(y,M.topojson);for(o=0;o<c;o++){d=f[o];var C=T==="geojson-id"?d.fOut:w.locationToFeature(T,d.loc,S);d.lonlat=C?C.properties.ct:[p,p]}}var m={padded:!0},E,b;if(h.fitbounds==="geojson"&&y.locationmode==="geojson-id"){var s=w.computeBbox(w.getTraceGeojson(y));E=[s[0],s[2]],b=[s[1],s[3]]}else{for(E=new Array(c),b=new Array(c),o=0;o<c;o++)d=f[o],E[o]=d.lonlat[0],b[o]=d.lonlat[1];m.ppad=r(y,c)}y._extremes.lon=v(h.lonaxis._ax,E,m),y._extremes.lat=v(h.lataxis._ax,b,m)}H.exports={calcGeoJSON:u,plot:n}},8796:function(H,j,e){var g=e(43028),P=e(39032).BADNUM;H.exports=function(x,w){var v=x.cd,p=x.xaxis,r=x.yaxis,t=[],i=v[0].trace,n,u,f,l,y,h=!g.hasMarkers(i)&&!g.hasText(i);if(h)return[];if(w===!1)for(y=0;y<v.length;y++)v[y].selected=0;else for(y=0;y<v.length;y++)n=v[y],u=n.lonlat,u[0]!==P&&(f=p.c2p(u),l=r.c2p(u),w.contains([f,l],null,y,x)?(t.push({pointNumber:y,lon:u[0],lat:u[1]}),n.selected=1):n.selected=0);return t}},25064:function(H,j,e){var g=e(33428),P=e(43616),a=e(76308),x=e(49224),w=x.stylePoints,v=x.styleText;H.exports=function(t,i){i&&p(t,i)};function p(r,t){var i=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),w(n,i,r),v(n,i,r),n.selectAll("path.js-line").style("fill","none").each(function(u){var f=g.select(this),l=u.trace,y=l.line||{};f.call(a.stroke,y.color).call(P.dashLine,y.dash||"",y.width||0),l.fill!=="none"&&f.call(a.fill,l.fillcolor)})}},2876:function(H,j,e){var g=e(45464),P=e(98304),a=e(52904),x=e(29736).axisHoverFormat,w=e(49084),v=e(95376),p=e(92880).extendFlat,r=e(67824).overrideAll,t=e(67072).DASHES,i=a.line,n=a.marker,u=n.line,f=H.exports=r({x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),text:a.text,hovertext:a.hovertext,textposition:a.textposition,textfont:a.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:v(t),dflt:"solid"}},marker:p({},w("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:p({},w("marker.line"),{width:u.width})}),connectgaps:a.connectgaps,fill:p({},a.fill,{dflt:"none"}),fillcolor:P(),selected:{marker:a.selected.marker,textfont:a.selected.textfont},unselected:{marker:a.unselected.marker,textfont:a.unselected.textfont},opacity:g.opacity},"calc","nested");f.x.editType=f.y.editType=f.x0.editType=f.y0.editType="calc+clearAxisTypes",f.hovertemplate=a.hovertemplate,f.texttemplate=a.texttemplate},64628:function(H,j,e){var g=e(41272);H.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:g.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(H,j,e){var g=e(3108),P=e(3400),a=e(79811),x=e(19280).findExtremes,w=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,i=e(90136),n=e(84236),u=e(74588),f=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;H.exports=function(c,o){var d=c._fullLayout,T=o._xA=a.getFromId(c,o.xaxis,"x"),S=o._yA=a.getFromId(c,o.yaxis,"y"),C=d._plots[o.xaxis+o.yaxis],m=o._length,E=m>=l,b=m*2,s={},L,A=T.makeCalcdata(o,"x"),k=S.makeCalcdata(o,"y"),_=w(o,T,"x",A),U=w(o,S,"y",k),F=_.vals,z=U.vals;o._x=F,o._y=z,o.xperiodalignment&&(o._origX=A,o._xStarts=_.starts,o._xEnds=_.ends),o.yperiodalignment&&(o._origY=k,o._yStarts=U.starts,o._yEnds=U.ends);var B=new Array(b),N=new Array(m);for(L=0;L<m;L++)B[L*2]=F[L]===f?NaN:F[L],B[L*2+1]=z[L]===f?NaN:z[L],N[L]=L;if(T.type==="log")for(L=0;L<b;L+=2)B[L]=T.c2l(B[L]);if(S.type==="log")for(L=1;L<b;L+=2)B[L]=S.c2l(B[L]);E&&T.type!=="log"&&S.type!=="log"?s.tree=g(B):s.ids=N,i(c,o);var V=h(c,C,o,B,F,z),W=u(c,C);t(d,o);var Q;return E?V.marker&&(Q=V.marker.sizeAvg||Math.max(V.marker.size,3)):Q=p(o,m),r(c,o,T,S,F,z,Q),V.errorX&&y(o,T,V.errorX),V.errorY&&y(o,S,V.errorY),V.fill&&!W.fill2d&&(W.fill2d=!0),V.marker&&!W.scatter2d&&(W.scatter2d=!0),V.line&&!W.line2d&&(W.line2d=!0),(V.errorX||V.errorY)&&!W.error2d&&(W.error2d=!0),V.text&&!W.glText&&(W.glText=!0),V.marker&&(V.marker.snap=m),W.lineOptions.push(V.line),W.errorXOptions.push(V.errorX),W.errorYOptions.push(V.errorY),W.fillOptions.push(V.fill),W.markerOptions.push(V.marker),W.markerSelectedOptions.push(V.markerSel),W.markerUnselectedOptions.push(V.markerUnsel),W.textOptions.push(V.text),W.textSelectedOptions.push(V.textSel),W.textUnselectedOptions.push(V.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),s._scene=W,s.index=W.count,s.x=F,s.y=z,s.positions=B,W.count++,[{x:!1,y:!1,t:s,trace:o}]};function y(M,c,o){var d=M._extremes[c._id],T=x(c,o._bnds,{padded:!0});d.min=d.min.concat(T.min),d.max=d.max.concat(T.max)}function h(M,c,o,d,T,S){var C=n.style(M,o);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&P.extendFlat(C.line,n.linePositions(M,o,d)),C.errorX||C.errorY){var m=n.errorBarPositions(M,o,d,T,S);C.errorX&&P.extendFlat(C.errorX,m.x),C.errorY&&P.extendFlat(C.errorY,m.y)}return C.text&&(P.extendFlat(C.text,{positions:d},n.textPosition(M,o,C.text,C.marker)),P.extendFlat(C.textSel,{positions:d},n.textPosition(M,o,C.text,C.markerSel)),P.extendFlat(C.textUnsel,{positions:d},n.textPosition(M,o,C.text,C.markerUnsel))),C}},67072:function(H){var j=20;H.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:j,SYMBOL_STROKE:j/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(H,j,e){var g=e(38248),P=e(20472),a=e(72160),x=e(24040),w=e(3400),v=w.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,i=e(43028),n=e(7152),u=e(80088),f=e(67072),l=e(13448).DESELECTDIM,y={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function M(U,F){var z,B={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},N=U._context.plotGlPixelRatio;if(F.visible!==!0)return B;if(i.hasText(F)&&(B.text=c(U,F),B.textSel=T(U,F,F.selected),B.textUnsel=T(U,F,F.unselected)),i.hasMarkers(F)&&(B.marker=o(U,F),B.markerSel=d(U,F,F.selected),B.markerUnsel=d(U,F,F.unselected),!F.unselected&&v(F.marker.opacity))){var V=F.marker.opacity;for(B.markerUnsel.opacity=new Array(V.length),z=0;z<V.length;z++)B.markerUnsel.opacity[z]=l*V[z]}if(i.hasLines(F)){B.line={overlay:!0,thickness:F.line.width*N,color:F.line.color,opacity:F.opacity};var W=(f.DASHES[F.line.dash]||[1]).slice();for(z=0;z<W.length;++z)W[z]*=F.line.width*N;B.line.dashes=W}return F.error_x&&F.error_x.visible&&(B.errorX=S(F,F.error_x,N)),F.error_y&&F.error_y.visible&&(B.errorY=S(F,F.error_y,N)),F.fill&&F.fill!=="none"&&(B.fill={closed:!0,fill:F.fillcolor,thickness:0}),B}function c(U,F){var z=U._fullLayout,B=F._length,N=F.textfont,V=F.textposition,W=v(V)?V:[V],Q=N.color,re=N.size,ne=N.family,fe={},$,X=U._context.plotGlPixelRatio,oe=F.texttemplate;if(oe){fe.text=[];var Y=z._d3locale,ee=Array.isArray(oe),se=ee?Math.min(oe.length,B):B,q=ee?function(Ae){return oe[Ae]}:function(){return oe};for($=0;$<se;$++){var K={i:$},le=F._module.formatLabels(K,F,z),ie={};h(ie,F,$);var he=F._meta||{};fe.text.push(w.texttemplateString(q($),le,Y,ie,K,he))}}else v(F.text)&&F.text.length<B?fe.text=F.text.slice():fe.text=F.text;if(v(fe.text))for($=fe.text.length;$<B;$++)fe.text[$]="";for(fe.opacity=F.opacity,fe.font={},fe.align=[],fe.baseline=[],$=0;$<W.length;$++){var ye=W[$].split(/\s+/);switch(ye[1]){case"left":fe.align.push("right");break;case"right":fe.align.push("left");break;default:fe.align.push(ye[1])}switch(ye[0]){case"top":fe.baseline.push("bottom");break;case"bottom":fe.baseline.push("top");break;default:fe.baseline.push(ye[0])}}if(v(Q))for(fe.color=new Array(B),$=0;$<B;$++)fe.color[$]=Q[$];else fe.color=Q;if(v(re)||v(ne))for(fe.font=new Array(B),$=0;$<B;$++){var Ce=fe.font[$]={};Ce.size=(w.isTypedArray(re)?re[$]:v(re)?g(re[$])?re[$]:0:re)*X,Ce.family=v(ne)?ne[$]:ne}else fe.font={size:re*X,family:ne};return fe}function o(U,F){var z=F._length,B=F.marker,N={},V,W=v(B.symbol),Q=v(B.angle),re=v(B.color),ne=v(B.line.color),fe=v(B.opacity),$=v(B.size),X=v(B.line.width),oe;if(W||(oe=u.isOpenSymbol(B.symbol)),W||re||ne||fe||Q){N.symbols=new Array(z),N.angles=new Array(z),N.colors=new Array(z),N.borderColors=new Array(z);var Y=B.symbol,ee=B.angle,se=t(B,B.opacity,z),q=t(B.line,B.opacity,z);if(!v(q[0])){var K=q;for(q=Array(z),V=0;V<z;V++)q[V]=K}if(!v(se[0])){var le=se;for(se=Array(z),V=0;V<z;V++)se[V]=le}if(!v(Y)){var ie=Y;for(Y=Array(z),V=0;V<z;V++)Y[V]=ie}if(!v(ee)){var he=ee;for(ee=Array(z),V=0;V<z;V++)ee[V]=he}for(N.symbols=Y,N.angles=ee,N.colors=se,N.borderColors=q,V=0;V<z;V++)W&&(oe=u.isOpenSymbol(B.symbol[V])),oe&&(q[V]=se[V].slice(),se[V]=se[V].slice(),se[V][3]=0);for(N.opacity=F.opacity,N.markers=new Array(z),V=0;V<z;V++)N.markers[V]=L({mx:N.symbols[V],ma:N.angles[V]},F)}else oe?(N.color=a(B.color,"uint8"),N.color[3]=0,N.borderColor=a(B.color,"uint8")):(N.color=a(B.color,"uint8"),N.borderColor=a(B.line.color,"uint8")),N.opacity=F.opacity*B.opacity,N.marker=L({mx:B.symbol,ma:B.angle},F);var ye=1,Ce=n(F,ye),Ae;if($||X){var ke=N.sizes=new Array(z),we=N.borderSizes=new Array(z),Ee=0,xe;if($){for(V=0;V<z;V++)ke[V]=Ce(B.size[V]),Ee+=ke[V];xe=Ee/z}else for(Ae=Ce(B.size),V=0;V<z;V++)ke[V]=Ae;if(X)for(V=0;V<z;V++)we[V]=B.line.width[V];else for(Ae=B.line.width,V=0;V<z;V++)we[V]=Ae;N.sizeAvg=xe}else N.size=Ce(B&&B.size||10),N.borderSizes=Ce(B.line.width);return N}function d(U,F,z){var B=F.marker,N={};return z&&(z.marker&&z.marker.symbol?N=o(U,w.extendFlat({},B,z.marker)):z.marker&&(z.marker.size&&(N.size=z.marker.size),z.marker.color&&(N.colors=z.marker.color),z.marker.opacity!==void 0&&(N.opacity=z.marker.opacity))),N}function T(U,F,z){var B={};if(!z)return B;if(z.textfont){var N={opacity:1,text:F.text,texttemplate:F.texttemplate,textposition:F.textposition,textfont:w.extendFlat({},F.textfont)};z.textfont&&w.extendFlat(N.textfont,z.textfont),B=c(U,N)}return B}function S(U,F,z){var B={capSize:F.width*2*z,lineWidth:F.thickness*z,color:F.color};return F.copy_ystyle&&(B=U.error_y),B}var C=f.SYMBOL_SDF_SIZE,m=f.SYMBOL_SIZE,E=f.SYMBOL_STROKE,b={},s=p.symbolFuncs[0](m*.05);function L(U,F){var z=U.mx;if(z==="circle")return null;var B,N,V=p.symbolNumber(z),W=p.symbolFuncs[V%100],Q=!!p.symbolNoDot[V%100],re=!!p.symbolNoFill[V%100],ne=u.isDotSymbol(z);if(U.ma&&(z+="_"+U.ma),b[z])return b[z];var fe=p.getMarkerAngle(U,F);return ne&&!Q?B=W(m*1.1,fe)+s:B=W(m,fe),N=P(B,{w:C,h:C,viewBox:[-m,-m,m,m],stroke:re?E:-E}),b[z]=N,N||null}function A(U,F,z){var B=z.length,N=B/2,V,W;if(i.hasLines(F)&&N)if(F.line.shape==="hv"){for(V=[],W=0;W<N-1;W++)isNaN(z[W*2])||isNaN(z[W*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(z[W*2],z[W*2+1]),!isNaN(z[W*2+2])&&!isNaN(z[W*2+3])?V.push(z[W*2+2],z[W*2+1]):V.push(NaN,NaN));V.push(z[B-2],z[B-1])}else if(F.line.shape==="hvh"){for(V=[],W=0;W<N-1;W++)if(isNaN(z[W*2])||isNaN(z[W*2+1])||isNaN(z[W*2+2])||isNaN(z[W*2+3]))!isNaN(z[W*2])&&!isNaN(z[W*2+1])?V.push(z[W*2],z[W*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var Q=(z[W*2]+z[W*2+2])/2;V.push(z[W*2],z[W*2+1],Q,z[W*2+1],Q,z[W*2+3])}V.push(z[B-2],z[B-1])}else if(F.line.shape==="vhv"){for(V=[],W=0;W<N-1;W++)if(isNaN(z[W*2])||isNaN(z[W*2+1])||isNaN(z[W*2+2])||isNaN(z[W*2+3]))!isNaN(z[W*2])&&!isNaN(z[W*2+1])?V.push(z[W*2],z[W*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var re=(z[W*2+1]+z[W*2+3])/2;V.push(z[W*2],z[W*2+1],z[W*2],re,z[W*2+2],re)}V.push(z[B-2],z[B-1])}else if(F.line.shape==="vh"){for(V=[],W=0;W<N-1;W++)isNaN(z[W*2])||isNaN(z[W*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(z[W*2],z[W*2+1]),!isNaN(z[W*2+2])&&!isNaN(z[W*2+3])?V.push(z[W*2],z[W*2+3]):V.push(NaN,NaN));V.push(z[B-2],z[B-1])}else V=z;var ne=!1;for(W=0;W<V.length;W++)if(isNaN(V[W])){ne=!0;break}var fe=ne||V.length>f.TOO_MANY_POINTS||i.hasMarkers(F)?"rect":"round";if(ne&&F.connectgaps){var $=V[0],X=V[1];for(W=0;W<V.length;W+=2)isNaN(V[W])||isNaN(V[W+1])?(V[W]=$,V[W+1]=X):($=V[W],X=V[W+1])}return{join:fe,positions:V}}function k(U,F,z,B,N){var V=x.getComponentMethod("errorbars","makeComputeError"),W=r.getFromId(U,F.xaxis,"x"),Q=r.getFromId(U,F.yaxis,"y"),re=z.length/2,ne={};function fe($,X){var oe=X._id.charAt(0),Y=F["error_"+oe];if(Y&&Y.visible&&(X.type==="linear"||X.type==="log")){for(var ee=V(Y),se={x:0,y:1}[oe],q={x:[0,1,2,3],y:[2,3,0,1]}[oe],K=new Float64Array(4*re),le=1/0,ie=-1/0,he=0,ye=0;he<re;he++,ye+=4){var Ce=$[he];if(g(Ce)){var Ae=z[he*2+se],ke=ee(Ce,he),we=ke[0],Ee=ke[1];if(g(we)&&g(Ee)){var xe=Ce-we,Re=Ce+Ee;K[ye+q[0]]=Ae-X.c2l(xe),K[ye+q[1]]=X.c2l(Re)-Ae,K[ye+q[2]]=0,K[ye+q[3]]=0,le=Math.min(le,Ce-we),ie=Math.max(ie,Ce+Ee)}}}ne[oe]={positions:z,errors:K,_bnds:[le,ie]}}}return fe(B,W),fe(N,Q),ne}function _(U,F,z,B){var N=F._length,V={},W;if(i.hasMarkers(F)){var Q=z.font,re=z.align,ne=z.baseline;for(V.offset=new Array(N),W=0;W<N;W++){var fe=B.sizes?B.sizes[W]:B.size,$=v(Q)?Q[W].size:Q.size,X=v(re)?re.length>1?re[W]:re[0]:re,oe=v(ne)?ne.length>1?ne[W]:ne[0]:ne,Y=y[X],ee=y[oe],se=fe?fe/.8+1:0,q=-ee*se-ee*.5;V.offset[W]=[Y*se/$,q/$]}}return V}H.exports={style:M,markerStyle:o,markerSelection:d,linePositions:A,errorBarPositions:k,textPosition:_}},80220:function(H,j,e){var g=e(3400),P=e(24040),a=e(80088),x=e(2876),w=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),i=e(66828),n=e(70840),u=e(124);H.exports=function(l,y,h,M){function c(b,s){return g.coerce(l,y,x,b,s)}var o=l.marker?a.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),T=p(l,y,M,c);if(!T){y.visible=!1;return}r(l,y,M,c),c("xhoverformat"),c("yhoverformat");var S=T<w.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",S),v.hasMarkers(y)&&(t(l,y,h,M,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",o||d?1:0)),v.hasLines(y)&&(c("connectgaps"),i(l,y,h,M,c),c("line.shape")),v.hasText(y)&&(c("texttemplate"),u(l,y,M,c));var C=(y.line||{}).color,m=(y.marker||{}).color;c("fill"),y.fill!=="none"&&n(l,y,h,c);var E=P.getComponentMethod("errorbars","supplyDefaults");E(l,y,C||m||h,{axis:"y"}),E(l,y,C||m||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(y,c)}},26768:function(H,j,e){var g=e(3400),P=e(76308),a=e(13448).DESELECTDIM;function x(w){var v=w[0],p=v.trace,r=v.t,t=r._scene,i=r.index,n=t.selectBatch[i],u=t.unselectBatch[i],f=t.textOptions[i],l=t.textSelectedOptions[i]||{},y=t.textUnselectedOptions[i]||{},h=g.extendFlat({},f),M,c;if(n.length||u.length){var o=l.color,d=y.color,T=f.color,S=g.isArrayOrTypedArray(T);for(h.color=new Array(p._length),M=0;M<n.length;M++)c=n[M],h.color[c]=o||(S?T[c]:T);for(M=0;M<u.length;M++){c=u[M];var C=S?T[c]:T;h.color[c]=d||(o?C:P.addOpacity(C,a))}}t.glText[i].update(h)}H.exports={styleTextSelection:x}},99396:function(H,j,e){var g=e(76688);H.exports=function(a,x,w){var v=a.i;return"x"in a||(a.x=x._x[v]),"y"in a||(a.y=x._y[v]),g(a,x,w)}},80088:function(H,j,e){var g=e(67072);j.isOpenSymbol=function(P){return typeof P=="string"?g.OPEN_RE.test(P):P%200>100},j.isDotSymbol=function(P){return typeof P=="string"?g.DOT_RE.test(P):P>200}},41272:function(H,j,e){var g=e(24040),P=e(3400),a=e(44928);function x(v,p,r,t){var i=v.cd,n=i[0].t,u=i[0].trace,f=v.xa,l=v.ya,y=n.x,h=n.y,M=f.c2p(p),c=l.c2p(r),o=v.distance,d;if(n.tree){var T=f.p2c(M-o),S=f.p2c(M+o),C=l.p2c(c-o),m=l.p2c(c+o);t==="x"?d=n.tree.range(Math.min(T,S),Math.min(l._rl[0],l._rl[1]),Math.max(T,S),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(T,S),Math.min(C,m),Math.max(T,S),Math.max(C,m))}else d=n.ids;var E,b,s,L,A,k,_,U,F,z=o;if(t==="x"){var B=!!u.xperiodalignment,N=!!u.yperiodalignment;for(A=0;A<d.length;A++){if(E=d[A],s=y[E],k=Math.abs(f.c2p(s)-M),B){var V=f.c2p(u._xStarts[E]),W=f.c2p(u._xEnds[E]);k=M>=Math.min(V,W)&&M<=Math.max(V,W)?0:1/0}if(k<z){if(z=k,L=h[E],_=l.c2p(L)-c,N){var Q=l.c2p(u._yStarts[E]),re=l.c2p(u._yEnds[E]);_=c>=Math.min(Q,re)&&c<=Math.max(Q,re)?0:1/0}F=Math.sqrt(k*k+_*_),b=d[A]}}}else for(A=d.length-1;A>-1;A--)E=d[A],s=y[E],L=h[E],k=f.c2p(s)-M,_=l.c2p(L)-c,U=Math.sqrt(k*k+_*_),U<z&&(z=F=U,b=E);return v.index=b,v.distance=z,v.dxy=F,b===void 0?[v]:[w(v,y,h,u)]}function w(v,p,r,t){var i=v.xa,n=v.ya,u=v.distance,f=v.dxy,l=v.index,y={pointNumber:l,x:p[l],y:r[l]};y.tx=P.isArrayOrTypedArray(t.text)?t.text[l]:t.text,y.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,y.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,y.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(y.ts=P.isArrayOrTypedArray(h.size)?h.size[l]:h.size,y.tc=Array.isArray(h.color)?h.color[l]:h.color,y.tf=Array.isArray(h.family)?h.family[l]:h.family);var M=t.marker;M&&(y.ms=P.isArrayOrTypedArray(M.size)?M.size[l]:M.size,y.mo=P.isArrayOrTypedArray(M.opacity)?M.opacity[l]:M.opacity,y.mx=P.isArrayOrTypedArray(M.symbol)?M.symbol[l]:M.symbol,y.ma=P.isArrayOrTypedArray(M.angle)?M.angle[l]:M.angle,y.mc=P.isArrayOrTypedArray(M.color)?M.color[l]:M.color);var c=M&&M.line;c&&(y.mlc=Array.isArray(c.color)?c.color[l]:c.color,y.mlw=P.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var o=M&&M.gradient;o&&o.type!=="none"&&(y.mgt=Array.isArray(o.type)?o.type[l]:o.type,y.mgc=Array.isArray(o.color)?o.color[l]:o.color);var d=i.c2p(y.x,!0),T=n.c2p(y.y,!0),S=y.mrc||1,C=t.hoverlabel;C&&(y.hbg=Array.isArray(C.bgcolor)?C.bgcolor[l]:C.bgcolor,y.hbc=Array.isArray(C.bordercolor)?C.bordercolor[l]:C.bordercolor,y.hts=P.isArrayOrTypedArray(C.font.size)?C.font.size[l]:C.font.size,y.htc=Array.isArray(C.font.color)?C.font.color[l]:C.font.color,y.htf=Array.isArray(C.font.family)?C.font.family[l]:C.font.family,y.hnl=P.isArrayOrTypedArray(C.namelength)?C.namelength[l]:C.namelength);var m=t.hoverinfo;m&&(y.hi=Array.isArray(m)?m[l]:m);var E=t.hovertemplate;E&&(y.ht=Array.isArray(E)?E[l]:E);var b={};b[v.index]=y;var s=t._origX,L=t._origY,A=P.extendFlat({},v,{color:a(t,y),x0:d-S,x1:d+S,xLabelVal:s?s[l]:y.x,y0:T-S,y1:T+S,yLabelVal:L?L[l]:y.y,cd:b,distance:u,spikeDistance:f,hovertemplate:y.ht});return y.htx?A.text=y.htx:y.tx?A.text=y.tx:t.text&&(A.text=t.text),P.fillText(y,t,A),g.getComponentMethod("errorbars","hoverInfo")(y,t,A),A}H.exports={hoverPoints:x,calcHover:w}},38983:function(H,j,e){var g=e(64628);g.plot=e(89876),H.exports=g},89876:function(H,j,e){var g=e(38540),P=e(13472),a=e(24544),x=e(23352),w=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),i=e(26768).styleTextSelection,n={};function u(l,y,h,M){var c=l._size,o=l.width*M,d=l.height*M,T=c.l*M,S=c.b*M,C=c.r*M,m=c.t*M,E=c.w*M,b=c.h*M;return[T+y.domain[0]*E,S+h.domain[0]*b,o-C-(1-y.domain[1])*E,d-m-(1-h.domain[1])*b]}var f=H.exports=function(y,h,M){if(M.length){var c=y._fullLayout,o=h._scene,d=h.xaxis,T=h.yaxis,S,C;if(o){var m=p(y,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!m){o.init();return}var E=o.count,b=c._glcanvas.data()[0].regl;if(t(y,h,M),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&b.clear({}),o.error2d===!0&&(o.error2d=a(b)),o.line2d===!0&&(o.line2d=P(b)),o.scatter2d===!0&&(o.scatter2d=g(b)),o.fill2d===!0&&(o.fill2d=P(b)),o.glText===!0)for(o.glText=new Array(E),S=0;S<E;S++)o.glText[S]=new x(b);if(o.glText){if(E>o.glText.length){var s=E-o.glText.length;for(S=0;S<s;S++)o.glText.push(new x(b))}else if(E<o.glText.length){var L=o.glText.length-E,A=o.glText.splice(E,L);A.forEach(function(q){q.destroy()})}for(S=0;S<E;S++)o.glText[S].update(o.textOptions[S])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(q){if(q&&q.positions){for(var K=q.positions,le=0;le<K.length&&(isNaN(K[le])||isNaN(K[le+1]));)le+=2;for(var ie=K.length-2;ie>le&&(isNaN(K[ie])||isNaN(K[ie+1]));)ie-=2;q.positions=K.slice(le,ie+2)}return q}),o.line2d.update(o.lineOptions)),o.error2d){var k=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(k)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=w.repeat(null,E),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(q,K){var le=M[K];if(!(!q||!le||!le[0]||!le[0].trace)){var ie=le[0],he=ie.trace,ye=ie.t,Ce=o.lineOptions[K],Ae,ke,we=[];he._ownfill&&we.push(K),he._nexttrace&&we.push(K+1),we.length&&(o.fillOrder[K]=we);var Ee=[],xe=Ce&&Ce.positions||ye.positions,Re,Ve;if(he.fill==="tozeroy"){for(Re=0;Re<xe.length&&isNaN(xe[Re+1]);)Re+=2;for(Ve=xe.length-2;Ve>Re&&isNaN(xe[Ve+1]);)Ve-=2;xe[Re+1]!==0&&(Ee=[xe[Re],0]),Ee=Ee.concat(xe.slice(Re,Ve+2)),xe[Ve+1]!==0&&(Ee=Ee.concat([xe[Ve],0]))}else if(he.fill==="tozerox"){for(Re=0;Re<xe.length&&isNaN(xe[Re]);)Re+=2;for(Ve=xe.length-2;Ve>Re&&isNaN(xe[Ve]);)Ve-=2;xe[Re]!==0&&(Ee=[0,xe[Re+1]]),Ee=Ee.concat(xe.slice(Re,Ve+2)),xe[Ve]!==0&&(Ee=Ee.concat([0,xe[Ve+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Ee=[],Ae=0,q.splitNull=!0,ke=0;ke<xe.length;ke+=2)(isNaN(xe[ke])||isNaN(xe[ke+1]))&&(Ee=Ee.concat(xe.slice(Ae,ke)),Ee.push(xe[Ae],xe[Ae+1]),Ee.push(null,null),Ae=ke+2);Ee=Ee.concat(xe.slice(Ae)),Ae&&Ee.push(xe[Ae],xe[Ae+1])}else{var Ue=he._nexttrace;if(Ue){var Be=o.lineOptions[K+1];if(Be){var Xe=Be.positions;if(he.fill==="tonexty"){for(Ee=xe.slice(),K=Math.floor(Xe.length/2);K--;){var ut=Xe[K*2],dt=Xe[K*2+1];isNaN(ut)||isNaN(dt)||Ee.push(ut,dt)}q.fill=Ue.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var at=o.lineOptions[K-1].positions,We=Ee.length/2;Ae=We;var rt=[Ae];for(ke=0;ke<at.length;ke+=2)(isNaN(at[ke])||isNaN(at[ke+1]))&&(rt.push(ke/2+We+1),Ae=ke+2);Ee=Ee.concat(at),q.hole=rt}return q.fillmode=he.fill,q.opacity=he.opacity,q.positions=Ee,q}}),o.fill2d.update(o.fillOptions))}var _=c.dragmode,U=v(_),F=c.clickmode.indexOf("select")>-1;for(S=0;S<E;S++){var z=M[S][0],B=z.trace,N=z.t,V=N.index,W=B._length,Q=N.x,re=N.y;if(B.selectedpoints||U||F){if(U||(U=!0),B.selectedpoints){var ne=o.selectBatch[V]=w.selIndices2selPoints(B),fe={};for(C=0;C<ne.length;C++)fe[ne[C]]=1;var $=[];for(C=0;C<W;C++)fe[C]||$.push(C);o.unselectBatch[V]=$}var X=N.xpx=new Array(W),oe=N.ypx=new Array(W);for(C=0;C<W;C++)X[C]=d.c2p(Q[C]),oe[C]=T.c2p(re[C])}else N.xpx=N.ypx=null}if(U){if(o.select2d||(o.select2d=g(c._glcanvas.data()[1].regl)),o.scatter2d){var Y=new Array(E);for(S=0;S<E;S++)Y[S]=o.selectBatch[S].length||o.unselectBatch[S].length?o.markerUnselectedOptions[S]:{};o.scatter2d.update(Y)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&M.forEach(function(q){var K=((q||[])[0]||{}).trace||{};r.hasText(K)&&i(q)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var ee={viewport:u(c,d,T,y._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(T._rl||T.range)[0],(d._rl||d.range)[1],(T._rl||T.range)[1]]},se=w.repeat(ee,o.count);o.fill2d&&o.fill2d.update(se),o.line2d&&o.line2d.update(se),o.error2d&&o.error2d.update(se.concat(se)),o.scatter2d&&o.scatter2d.update(se),o.select2d&&o.select2d.update(se),o.glText&&o.glText.forEach(function(q){q.update(ee)})}}};f.reglPrecompiled=n},74588:function(H,j,e){var g=e(3400);H.exports=function(a,x){var w=x._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return x._scene||(w=x._scene={},w.init=function(){g.extendFlat(w,p,v)},w.init(),w.update=function(t){var i=g.repeat(t,w.count);if(w.fill2d&&w.fill2d.update(i),w.scatter2d&&w.scatter2d.update(i),w.line2d&&w.line2d.update(i),w.error2d&&w.error2d.update(i.concat(i)),w.select2d&&w.select2d.update(i),w.glText)for(var n=0;n<w.count;n++)w.glText[n].update(t)},w.draw=function(){for(var t=w.count,i=w.fill2d,n=w.error2d,u=w.line2d,f=w.scatter2d,l=w.glText,y=w.select2d,h=w.selectBatch,M=w.unselectBatch,c=0;c<t;c++){if(i&&w.fillOrder[c]&&i.draw(w.fillOrder[c]),u&&w.lineOptions[c]&&u.draw(c),n&&(w.errorXOptions[c]&&n.draw(c),w.errorYOptions[c]&&n.draw(c+t)),f&&w.markerOptions[c])if(M[c].length){var o=g.repeat([],w.count);o[c]=M[c],f.draw(o)}else h[c].length||f.draw(c);l[c]&&w.textOptions[c]&&l[c].render()}y&&y.draw(h),w.dirty=!1},w.destroy=function(){w.fill2d&&w.fill2d.destroy&&w.fill2d.destroy(),w.scatter2d&&w.scatter2d.destroy&&w.scatter2d.destroy(),w.error2d&&w.error2d.destroy&&w.error2d.destroy(),w.line2d&&w.line2d.destroy&&w.line2d.destroy(),w.select2d&&w.select2d.destroy&&w.select2d.destroy(),w.glText&&w.glText.forEach(function(t){t.destroy&&t.destroy()}),w.lineOptions=null,w.fillOptions=null,w.markerOptions=null,w.markerSelectedOptions=null,w.markerUnselectedOptions=null,w.errorXOptions=null,w.errorYOptions=null,w.textOptions=null,w.textSelectedOptions=null,w.textUnselectedOptions=null,w.selectBatch=null,w.unselectBatch=null,x._scene=null}),w.dirty||g.extendFlat(w,v),w}},73224:function(H,j,e){var g=e(43028),P=e(26768).styleTextSelection;H.exports=function(x,w){var v=x.cd,p=x.xaxis,r=x.yaxis,t=[],i=v[0].trace,n=v[0].t,u=i._length,f=n.x,l=n.y,y=n._scene,h=n.index;if(!y)return t;var M=g.hasText(i),c=g.hasMarkers(i),o=!c&&!M;if(i.visible!==!0||o)return t;var d=[],T=[];if(w!==!1&&!w.degenerate)for(var S=0;S<u;S++)w.contains([n.xpx[S],n.ypx[S]],!1,S,x)?(d.push(S),t.push({pointNumber:S,x:p.c2d(f[S]),y:r.c2d(l[S])})):T.push(S);if(c){var C=y.scatter2d;if(!d.length&&!T.length){var m=new Array(y.count);m[h]=y.markerOptions[h],C.update.apply(C,m)}else if(!y.selectBatch[h].length&&!y.unselectBatch[h].length){var E=new Array(y.count);E[h]=y.markerUnselectedOptions[h],C.update.apply(C,E)}}return y.selectBatch[h]=d,y.unselectBatch[h]=T,M&&P(v),t}},31512:function(H,j,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),x=e(6096),w=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,i=e(67824).overrideAll,n=e(5232),u=x.line,f=x.marker;H.exports=i({lon:x.lon,lat:x.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},f.opacity,{dflt:1})},mode:t({},w.mode,{dflt:"markers"}),text:t({},w.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},w.hovertext,{}),line:{color:u.color,width:u.width},connectgaps:w.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:f.opacity,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode},r("marker")),fill:x.fill,fillcolor:a(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:w.selected.marker},unselected:{marker:w.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},59392:function(H,j,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM,x=e(44808),w=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(89032),i=e(10624).appendArrayPointValue,n=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;H.exports=function(T,S){var C=S[0].trace,m=C.visible===!0&&C._length!==0,E=C.fill!=="none",b=r.hasLines(C),s=r.hasMarkers(C),L=r.hasText(C),A=s&&C.marker.symbol==="circle",k=s&&C.marker.symbol!=="circle",_=C.cluster&&C.cluster.enabled,U=f("fill"),F=f("line"),z=f("circle"),B=f("symbol"),N={fill:U,line:F,circle:z,symbol:B};if(!m)return N;var V;if((E||b)&&(V=x.calcTraceToLineCoords(S)),E&&(U.geojson=x.makePolygon(V),U.layout.visibility="visible",P.extendFlat(U.paint,{"fill-color":C.fillcolor})),b&&(F.geojson=x.makeLine(V),F.layout.visibility="visible",P.extendFlat(F.paint,{"line-width":C.line.width,"line-color":C.line.color,"line-opacity":C.opacity})),A){var W=l(S);z.geojson=W.geojson,z.layout.visibility="visible",_&&(z.filter=["!",["has","point_count"]],N.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(C.cluster.color,C.cluster.step),"circle-radius":o(C.cluster.size,C.cluster.step),"circle-opacity":o(C.cluster.opacity,C.cluster.step)}},N.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),P.extendFlat(z.paint,{"circle-color":W.mcc,"circle-radius":W.mrc,"circle-opacity":W.mo})}if(A&&_&&(z.filter=["!",["has","point_count"]]),(k||L)&&(B.geojson=y(S,T),P.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),k&&(P.extendFlat(B.layout,{"icon-size":C.marker.size/10}),"angle"in C.marker&&C.marker.angle!=="auto"&&P.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=C.marker.allowoverlap,P.extendFlat(B.paint,{"icon-opacity":C.opacity*C.marker.opacity,"icon-color":C.marker.color})),L)){var Q=(C.marker||{}).size,re=t(C.textposition,Q);P.extendFlat(B.layout,{"text-size":C.textfont.size,"text-anchor":re.anchor,"text-offset":re.offset,"text-font":C.textfont.family.split(", ")}),P.extendFlat(B.paint,{"text-color":C.textfont.color,"text-opacity":C.opacity})}return N};function f(d){return{type:d,geojson:x.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(d){var T=d[0].trace,S=T.marker,C=T.selectedpoints,m=P.isArrayOrTypedArray(S.color),E=P.isArrayOrTypedArray(S.size),b=P.isArrayOrTypedArray(S.opacity),s;function L(Q){return T.opacity*Q}function A(Q){return Q/2}var k;m&&(w.hasColorscale(T,"marker")?k=w.makeColorScaleFuncFromTrace(S):k=P.identity);var _;E&&(_=p(T));var U;b&&(U=function(Q){var re=g(Q)?+P.constrain(Q,0,1):0;return L(re)});var F=[];for(s=0;s<d.length;s++){var z=d[s],B=z.lonlat;if(!c(B)){var N={};k&&(N.mcc=z.mcc=k(z.mc)),_&&(N.mrc=z.mrc=_(z.ms)),U&&(N.mo=U(z.mo)),C&&(N.selected=z.selected||0),F.push({type:"Feature",id:s+1,geometry:{type:"Point",coordinates:B},properties:N})}}var V;if(C)for(V=v.makeSelectedPointStyleFns(T),s=0;s<F.length;s++){var W=F[s].properties;V.selectedOpacityFn&&(W.mo=L(V.selectedOpacityFn(W))),V.selectedColorFn&&(W.mcc=V.selectedColorFn(W)),V.selectedSizeFn&&(W.mrc=V.selectedSizeFn(W))}return{geojson:{type:"FeatureCollection",features:F},mcc:m||V&&V.selectedColorFn?{type:"identity",property:"mcc"}:S.color,mrc:E||V&&V.selectedSizeFn?{type:"identity",property:"mrc"}:A(S.size),mo:b||V&&V.selectedOpacityFn?{type:"identity",property:"mo"}:L(S.opacity)}}function y(d,T){for(var S=T._fullLayout,C=d[0].trace,m=C.marker||{},E=m.symbol,b=m.angle,s=E!=="circle"?h(E):M,L=b!=="auto"?h(b,!0):M,A=r.hasText(C)?h(C.text):M,k=[],_=0;_<d.length;_++){var U=d[_];if(!c(U.lonlat)){var F=C.texttemplate,z;if(F){var B=Array.isArray(F)?F[_]||"":F,N=C._module.formatLabels(U,C,S),V={};i(V,C,U.i);var W=C._meta||{};z=P.texttemplateString(B,N,S._d3locale,V,U,W)}else z=A(_);z&&(z=z.replace(n,"").replace(u,`
`)),k.push({type:"Feature",geometry:{type:"Point",coordinates:U.lonlat},properties:{symbol:s(_),angle:L(_),text:z}})}}return{type:"FeatureCollection",features:k}}function h(d,T){return P.isArrayOrTypedArray(d)?T?function(S){return g(d[S])?+d[S]:0}:function(S){return d[S]}:d?function(){return d}:M}function M(){return""}function c(d){return d[0]===a}function o(d,T){var S;if(P.isArrayOrTypedArray(d)&&P.isArrayOrTypedArray(T)){S=["step",["get","point_count"],d[0]];for(var C=1;C<d.length;C++)S.push(T[C-1],d[C])}else S=d;return S}},15752:function(H,j,e){var g=e(3400),P=e(43028),a=e(74428),x=e(66828),w=e(124),v=e(70840),p=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];H.exports=function(n,u,f,l){function y(E,b){return g.coerce(n,u,p,E,b)}function h(E,b){return g.coerce2(n,u,p,E,b)}var M=t(n,u,y);if(!M){u.visible=!1;return}if(y("text"),y("texttemplate"),y("hovertext"),y("hovertemplate"),y("mode"),y("below"),P.hasMarkers(u)){a(n,u,f,l,y,{noLine:!0,noAngle:!0}),y("marker.allowoverlap"),y("marker.angle");var c=u.marker;c.symbol!=="circle"&&(g.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),g.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}P.hasLines(u)&&(x(n,u,f,l,y,{noDash:!0}),y("connectgaps"));var o=h("cluster.maxzoom"),d=h("cluster.step"),T=h("cluster.color",u.marker&&u.marker.color||f),S=h("cluster.size"),C=h("cluster.opacity"),m=o!==!1||d!==!1||T!==!1||S!==!1||C!==!1;y("cluster.enabled",m),P.hasText(u)&&w(n,u,l,y,{noSelect:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),y("fill"),u.fill!=="none"&&v(n,u,f,y),g.coerceSelectionMarkerOpacity(u,y)};function t(i,n,u){var f=u("lon")||[],l=u("lat")||[],y=Math.min(f.length,l.length);return n._length=y,y}},37920:function(H){H.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},11960:function(H,j,e){var g=e(54460);H.exports=function(a,x,w){var v={},p=w[x.subplot]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(H,j,e){var g=e(93024),P=e(3400),a=e(44928),x=P.fillText,w=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,i,n){var u=t.cd,f=u[0].trace,l=t.xa,y=t.ya,h=t.subplot,M=[],c=v+f.uid+"-circle",o=f.cluster&&f.cluster.enabled;if(o){var d=h.map.queryRenderedFeatures(null,{layers:[c]});M=d.map(function(F){return F.id})}var T=i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360),S=T*360,C=i-S;function m(F){var z=F.lonlat;if(z[0]===w||o&&M.indexOf(F.i+1)===-1)return 1/0;var B=P.modHalf(z[0],360),N=z[1],V=h.project([B,N]),W=V.x-l.c2p([C,N]),Q=V.y-y.c2p([B,n]),re=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(W*W+Q*Q)-re,1-3/re)}if(g.getClosest(u,m,t),t.index!==!1){var E=u[t.index],b=E.lonlat,s=[P.modHalf(b[0],360)+S,b[1]],L=l.c2p(s),A=y.c2p(s),k=E.mrc||1;t.x0=L-k,t.x1=L+k,t.y0=A-k,t.y1=A+k;var _={};_[f.subplot]={_subplot:h};var U=f._module.formatLabels(E,f,_);return t.lonLabel=U.lonLabel,t.latLabel=U.latLabel,t.color=a(f,E),t.extraText=r(f,E,u[0].t.labels),t.hovertemplate=f.hovertemplate,[t]}}function r(t,i,n){if(t.hovertemplate)return;var u=i.hi||t.hoverinfo,f=u.split("+"),l=f.indexOf("all")!==-1,y=f.indexOf("lon")!==-1,h=f.indexOf("lat")!==-1,M=i.lonlat,c=[];function o(d){return d+"°"}return l||y&&h?c.push("("+o(M[1])+", "+o(M[0])+")"):y?c.push(n.lon+o(M[0])):h&&c.push(n.lat+o(M[1])),(l||f.indexOf("text")!==-1)&&x(i,t,c),c.join("<br>")}H.exports={hoverPoints:p,getExtraText:r}},11572:function(H,j,e){H.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(g,P){if(P){var a=P[0].trace;a._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(H,j,e){var g=e(3400),P=e(59392),a=e(47552).traceLayerPrefix,x={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function w(p,r,t,i){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=i,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:a+r+"-fill",line:a+r+"-line",circle:a+r+"-circle",symbol:a+r+"-symbol",cluster:a+r+"-cluster",clusterCount:a+r+"-cluster-count"},this.below=null}var v=w.prototype;v.addSource=function(p,r,t){var i={type:"geojson",data:r.geojson};t&&t.enabled&&g.extendFlat(i,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],i)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var i={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(i.filter=r.filter);for(var n=this.layerIds[p],u,f=this.subplot.getMapLayers(),l=0;l<f.length;l++)if(f[l].id===n){u=!0;break}u?(this.subplot.setOptions(n,"setLayoutProperty",i.layout),i.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",i.paint)):this.subplot.addLayer(i,t)},v.update=function(r){var t=r[0].trace,i=this.subplot,n=i.map,u=P(i.gd,r),f=i.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),y=!!this.clusterEnabled,h=this;function M(b){b||h.addSource("circle",u.circle,t.cluster);for(var s=x.cluster,L=0;L<s.length;L++){var A=s[L],k=u[A];h.addLayer(A,k,f)}}function c(b){for(var s=x.cluster,L=s.length-1;L>=0;L--){var A=s[L];n.removeLayer(h.layerIds[A])}b||n.removeSource(h.sourceIds.circle)}function o(b){for(var s=x.nonCluster,L=0;L<s.length;L++){var A=s[L],k=u[A];b||h.addSource(A,k),h.addLayer(A,k,f)}}function d(b){for(var s=x.nonCluster,L=s.length-1;L>=0;L--){var A=s[L];n.removeLayer(h.layerIds[A]),b||n.removeSource(h.sourceIds[A])}}function T(b){y?c(b):d(b)}function S(b){l?M(b):o(b)}function C(){for(var b=l?x.cluster:x.nonCluster,s=0;s<b.length;s++){var L=b[s],A=u[L];A&&(i.setOptions(h.layerIds[L],"setLayoutProperty",A.layout),A.layout.visibility==="visible"&&(L!=="cluster"&&h.setSourceData(L,A),i.setOptions(h.layerIds[L],"setPaintProperty",A.paint)))}}var m=this.isHidden,E=t.visible!==!0;E?m||T():m?E||S():y!==l?(T(),S()):(this.below!==f&&(T(!0),S(!0)),C()),this.clusterEnabled=l,this.isHidden=E,this.below=f,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?x.cluster:x.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},H.exports=function(r,t){var i=t[0].trace,n=i.cluster&&i.cluster.enabled,u=i.visible!==!0,f=new w(r,i.uid,n,u),l=P(r.gd,t),y=f.below=r.belowLookup["trace-"+i.uid],h,M,c;if(n)for(f.addSource("circle",l.circle,i.cluster),h=0;h<x.cluster.length;h++)M=x.cluster[h],c=l[M],f.addLayer(M,c,y);else for(h=0;h<x.nonCluster.length;h++)M=x.nonCluster[h],c=l[M],f.addSource(M,c,i.cluster),f.addLayer(M,c,y);return t[0].trace._glTrace=f,f}},404:function(H,j,e){var g=e(3400),P=e(43028),a=e(39032).BADNUM;H.exports=function(w,v){var p=w.cd,r=w.xaxis,t=w.yaxis,i=[],n=p[0].trace,u;if(!P.hasMarkers(n))return[];if(v===!1)for(u=0;u<p.length;u++)p[u].selected=0;else for(u=0;u<p.length;u++){var f=p[u],l=f.lonlat;if(l[0]!==a){var y=[g.modHalf(l[0],360),l[1]],h=[r.c2p(y),t.c2p(y)];v.contains(h,null,u,w)?(i.push({pointNumber:u,lon:l[0],lat:l[1]}),f.selected=1):f.selected=0}}return i}},8319:function(H,j,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(92880).extendFlat,x=e(98304),w=e(52904),v=e(45464),p=w.line;H.exports={mode:w.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:w.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:w.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:w.connectgaps,marker:w.marker,cliponaxis:a({},w.cliponaxis,{dflt:!1}),textposition:w.textposition,textfont:w.textfont,fill:a({},w.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:x(),hoverinfo:a({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:w.hoveron,hovertemplate:g(),selected:w.selected,unselected:w.unselected}},58320:function(H,j,e){var g=e(38248),P=e(39032).BADNUM,a=e(54460),x=e(90136),w=e(20148),v=e(4500),p=e(16356).calcMarkerSize;H.exports=function(t,i){for(var n=t._fullLayout,u=i.subplot,f=n[u].radialaxis,l=n[u].angularaxis,y=f.makeCalcdata(i,"r"),h=l.makeCalcdata(i,"theta"),M=i._length,c=new Array(M),o=0;o<M;o++){var d=y[o],T=h[o],S=c[o]={};g(d)&&g(T)?(S.r=d,S.theta=T):S.r=P}var C=p(i,M);return i._extremes.x=a.findExtremes(f,y,{ppad:C}),x(t,i),w(c,i),v(c,i),c}},85968:function(H,j,e){var g=e(3400),P=e(43028),a=e(74428),x=e(66828),w=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function i(u,f,l,y){function h(o,d){return g.coerce(u,f,t,o,d)}var M=n(u,f,y,h);if(!M){f.visible=!1;return}h("thetaunit"),h("mode",M<r?"lines+markers":"lines"),h("text"),h("hovertext"),f.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(f)&&a(u,f,l,y,h,{gradient:!0}),P.hasLines(f)&&(x(u,f,l,y,h,{backoff:!0}),w(u,f,h),h("connectgaps")),P.hasText(f)&&(h("texttemplate"),v(u,f,y,h));var c=[];(P.hasMarkers(f)||P.hasText(f))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),f.fill!=="none"&&(p(u,f,l,h),P.hasLines(f)||w(u,f,h)),(f.fill==="tonext"||f.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,h)}function n(u,f,l,y){var h=y("r"),M=y("theta");g.isTypedArray(h)&&(f.r=h=Array.from(h)),g.isTypedArray(M)&&(f.theta=M=Array.from(M));var c;if(h)M?c=Math.min(h.length,M.length):(c=h.length,y("theta0"),y("dtheta"));else{if(!M)return 0;c=f.theta.length,y("r0"),y("dr")}return f._length=c,c}H.exports={handleRThetaDefaults:n,supplyDefaults:i}},22852:function(H,j,e){var g=e(3400),P=e(54460);H.exports=function(x,w,v){var p={},r=v[w.subplot]._subplot,t,i;r?(t=r.radialAxis,i=r.angularAxis):(r=v[w.subplot],t=r.radialaxis,i=r.angularaxis);var n=t.c2l(x.r);p.rLabel=P.tickText(t,n,!0).text;var u=i.thetaunit==="degrees"?g.rad2deg(x.theta):x.theta;return p.thetaLabel=P.tickText(i,u,!0).text,p}},8504:function(H,j,e){var g=e(98723);function P(x,w,v,p){var r=g(x,w,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=x.subplot,n=t.cd[t.index],u=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,u,i,t),t.hovertemplate=u.hovertemplate,r}}function a(x,w,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="θ";var i={};i[w.subplot]={_subplot:v};var n=w._module.formatLabels(x,w,i);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var u=x.hi||w.hoverinfo,f=[];function l(h,M){f.push(h._hovertitle+": "+M)}if(!w.hovertemplate){var y=u.split("+");y.indexOf("all")!==-1&&(y=["r","theta","text"]),y.indexOf("r")!==-1&&l(r,p.rLabel),y.indexOf("theta")!==-1&&l(t,p.thetaLabel),y.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}H.exports={hoverPoints:P,makeHoverPointText:a}},76924:function(H,j,e){H.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(H,j,e){var g=e(96504),P=e(39032).BADNUM;H.exports=function(x,w,v){for(var p=w.layers.frontplot.select("g.scatterlayer"),r=w.xaxis,t=w.yaxis,i={xaxis:r,yaxis:t,plot:w.framework,layerClipId:w._hasClipOnAxisFalse?w.clipIds.forTraces:null},n=w.radialAxis,u=w.angularAxis,f=0;f<v.length;f++)for(var l=v[f],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[y],M=h.r;if(M===P)h.x=h.y=P;else{var c=n.c2g(M),o=u.c2g(h.theta);h.x=c*Math.cos(o),h.y=c*Math.sin(o)}}g(x,i,v,p)}},24396:function(H,j,e){var g=e(8319),P=e(2876),a=e(21776).Gw;H.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},27160:function(H,j,e){H.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(H,j,e){var g=e(90136),P=e(16356).calcMarkerSize,a=e(84236),x=e(54460),w=e(67072).TOO_MANY_POINTS;H.exports=function(p,r){var t=p._fullLayout,i=r.subplot,n=t[i].radialaxis,u=t[i].angularaxis,f=r._r=n.makeCalcdata(r,"r"),l=r._theta=u.makeCalcdata(r,"theta"),y=r._length,h={};y<f.length&&(f=f.slice(0,y)),y<l.length&&(l=l.slice(0,y)),h.r=f,h.theta=l,g(p,r);var M=h.opts=a.style(p,r),c;return y<w?c=P(r,y):M.marker&&(c=2*(M.marker.sizeAvg||Math.max(M.marker.size,3))),r._extremes.x=x.findExtremes(n,f,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(H,j,e){var g=e(3400),P=e(43028),a=e(85968).handleRThetaDefaults,x=e(74428),w=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);H.exports=function(n,u,f,l){function y(M,c){return g.coerce(n,u,t,M,c)}var h=a(n,u,l,y);if(!h){u.visible=!1;return}y("thetaunit"),y("mode",h<r?"lines+markers":"lines"),y("text"),y("hovertext"),u.hoveron!=="fills"&&y("hovertemplate"),P.hasMarkers(u)&&x(n,u,f,l,y,{noAngleRef:!0,noStandOff:!0}),P.hasLines(u)&&(w(n,u,f,l,y),y("connectgaps")),P.hasText(u)&&(y("texttemplate"),v(n,u,l,y)),y("fill"),u.fill!=="none"&&p(n,u,f,y),g.coerceSelectionMarkerOpacity(u,y)}},94120:function(H,j,e){var g=e(22852);H.exports=function(a,x,w){var v=a.i;return"r"in a||(a.r=x._r[v]),"theta"in a||(a.theta=x._theta[v]),g(a,x,w)}},1600:function(H,j,e){var g=e(41272),P=e(8504).makeHoverPointText;function a(x,w,v,p){var r=x.cd,t=r[0].t,i=t.r,n=t.theta,u=g.hoverPoints(x,w,v,p);if(!(!u||u[0].index===!1)){var f=u[0];if(f.index===void 0)return u;var l=x.subplot,y=f.cd[f.index],h=f.trace;if(y.r=i[f.index],y.theta=n[f.index],!!l.isPtInside(y))return f.xLabelVal=void 0,f.yLabelVal=void 0,P(y,h,l,f),u}}H.exports={hoverPoints:a}},62944:function(H,j,e){var g=e(27160);g.plot=e(56512),H.exports=g},56512:function(H,j,e){var g=e(3108),P=e(38248),a=e(89876),x=e(74588),w=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};H.exports=function(i,n,u){if(u.length){var f=n.radialAxis,l=n.angularAxis,y=x(i,n);return u.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var M=h[0],c=M.trace,o=M.t,d=c._length,T=o.r,S=o.theta,C=o.opts,m,E=T.slice(),b=S.slice();for(m=0;m<T.length;m++)n.isPtInside({r:T[m],theta:S[m]})||(E[m]=NaN,b[m]=NaN);var s=new Array(d*2),L=Array(d),A=Array(d);for(m=0;m<d;m++){var k=E[m],_,U;if(P(k)){var F=f.c2g(k),z=l.c2g(b[m],c.thetaunit);_=F*Math.cos(z),U=F*Math.sin(z)}else _=U=NaN;L[m]=s[m*2]=_,A[m]=s[m*2+1]=U}o.tree=g(s),C.marker&&d>=p&&(C.marker.cluster=o.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=s),C.line&&s.length>1&&v.extendFlat(C.line,w.linePositions(i,c,s)),C.text&&(v.extendFlat(C.text,{positions:s},w.textPosition(i,c,C.text,C.marker)),v.extendFlat(C.textSel,{positions:s},w.textPosition(i,c,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:s},w.textPosition(i,c,C.text,C.markerUnsel))),C.fill&&!y.fill2d&&(y.fill2d=!0),C.marker&&!y.scatter2d&&(y.scatter2d=!0),C.line&&!y.line2d&&(y.line2d=!0),C.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(C.line),y.fillOptions.push(C.fill),y.markerOptions.push(C.marker),y.markerSelectedOptions.push(C.markerSel),y.markerUnselectedOptions.push(C.markerUnsel),y.textOptions.push(C.text),y.textSelectedOptions.push(C.textSel),y.textUnselectedOptions.push(C.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),o.x=L,o.y=A,o.rawx=L,o.rawy=A,o.r=T,o.theta=S,o.positions=s,o._scene=y,o.index=y.count,y.count++}}),a(i,n,u)}},H.exports.reglPrecompiled=r},69496:function(H,j,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(92880).extendFlat,x=e(98304),w=e(52904),v=e(45464),p=w.line;H.exports={mode:w.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:w.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:w.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:w.connectgaps,marker:w.marker,cliponaxis:a({},w.cliponaxis,{dflt:!1}),textposition:w.textposition,textfont:w.textfont,fill:a({},w.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:x(),hoverinfo:a({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:w.hoveron,hovertemplate:g(),selected:w.selected,unselected:w.unselected}},47507:function(H,j,e){var g=e(38248),P=e(39032).BADNUM,a=e(90136),x=e(20148),w=e(4500),v=e(16356).calcMarkerSize;H.exports=function(r,t){for(var i=r._fullLayout,n=t.subplot,u=i[n].realaxis,f=i[n].imaginaryaxis,l=u.makeCalcdata(t,"real"),y=f.makeCalcdata(t,"imag"),h=t._length,M=new Array(h),c=0;c<h;c++){var o=l[c],d=y[c],T=M[c]={};g(o)&&g(d)?(T.real=o,T.imag=d):T.real=P}return v(t,h),a(r,t),x(M,t),w(M,t),M}},76716:function(H,j,e){var g=e(3400),P=e(43028),a=e(74428),x=e(66828),w=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);H.exports=function(u,f,l,y){function h(o,d){return g.coerce(u,f,t,o,d)}var M=i(u,f,y,h);if(!M){f.visible=!1;return}h("mode",M<r?"lines+markers":"lines"),h("text"),h("hovertext"),f.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(f)&&a(u,f,l,y,h,{gradient:!0}),P.hasLines(f)&&(x(u,f,l,y,h,{backoff:!0}),w(u,f,h),h("connectgaps")),P.hasText(f)&&(h("texttemplate"),v(u,f,y,h));var c=[];(P.hasMarkers(f)||P.hasText(f))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),f.fill!=="none"&&(p(u,f,l,h),P.hasLines(f)||w(u,f,h)),(f.fill==="tonext"||f.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,h)};function i(n,u,f,l){var y=l("real"),h=l("imag"),M;return y&&h&&(M=Math.min(y.length,h.length)),g.isTypedArray(y)&&(u.real=y=Array.from(y)),g.isTypedArray(h)&&(u.imag=h=Array.from(h)),u._length=M,M}},49504:function(H,j,e){var g=e(54460);H.exports=function(a,x,w){var v={},p=w[x.subplot]._subplot;return v.realLabel=g.tickText(p.radialAxis,a.real,!0).text,v.imagLabel=g.tickText(p.angularAxis,a.imag,!0).text,v}},25292:function(H,j,e){var g=e(98723);function P(x,w,v,p){var r=g(x,w,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=x.subplot,n=t.cd[t.index],u=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,u,i,t),t.hovertemplate=u.hovertemplate,r}}function a(x,w,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var i={};i[w.subplot]={_subplot:v};var n=w._module.formatLabels(x,w,i);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var u=x.hi||w.hoverinfo,f=[];function l(h,M){f.push(h._hovertitle+": "+M)}if(!w.hovertemplate){var y=u.split("+");y.indexOf("all")!==-1&&(y=["real","imag","text"]),y.indexOf("real")!==-1&&l(r,p.realLabel),y.indexOf("imag")!==-1&&l(t,p.imagLabel),y.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}H.exports={hoverPoints:P,makeHoverPointText:a}},95443:function(H,j,e){H.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(H,j,e){var g=e(96504),P=e(39032).BADNUM,a=e(36416),x=a.smith;H.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),i=p.xaxis,n=p.yaxis,u={xaxis:i,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},f=0;f<r.length;f++)for(var l=r[f],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=i,l[0].trace._yA=n);var h=l[y],M=h.real;if(M===P)h.x=h.y=P;else{var c=x([M,h.imag]);h.x=c[0],h.y=c[1]}}g(v,u,r,t)}},5896:function(H,j,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),x=e(52904),w=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=x.marker,i=x.line,n=t.line;H.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},x.mode,{dflt:"markers"}),text:r({},x.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},x.hovertext,{}),line:{color:i.color,width:i.width,dash:p,backoff:i.backoff,shape:r({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:x.connectgaps,cliponaxis:x.cliponaxis,fill:r({},x.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:x.textfont,textposition:x.textposition,selected:x.selected,unselected:x.unselected,hoverinfo:r({},w.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:x.hoveron,hovertemplate:g()}},34335:function(H,j,e){var g=e(38248),P=e(90136),a=e(20148),x=e(4500),w=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};H.exports=function(t,i){var n=t._fullLayout[i.subplot],u=n.sum,f=i.sum||u,l={a:i.a,b:i.b,c:i.c},y,h,M,c,o,d;for(y=0;y<v.length;y++)if(M=v[y],!l[M]){for(o=l[p[M][0]],d=l[p[M][1]],c=new Array(o.length),h=0;h<o.length;h++)c[h]=f-o[h]-d[h];l[M]=c}var T=i._length,S=new Array(T),C,m,E,b,s,L;for(y=0;y<T;y++)C=l.a[y],m=l.b[y],E=l.c[y],g(C)&&g(m)&&g(E)?(C=+C,m=+m,E=+E,b=u/(C+m+E),b!==1&&(C*=b,m*=b,E*=b),L=C,s=E-m,S[y]={x:s,y:L,a:C,b:m,c:E}):S[y]={x:!1,y:!1};return w(i,T),P(t,i),a(S,i),x(S,i),S}},84256:function(H,j,e){var g=e(3400),P=e(88200),a=e(43028),x=e(74428),w=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);H.exports=function(n,u,f,l){function y(S,C){return g.coerce(n,u,t,S,C)}var h=y("a"),M=y("b"),c=y("c"),o;if(h?(o=h.length,M?(o=Math.min(o,M.length),c&&(o=Math.min(o,c.length))):c?o=Math.min(o,c.length):o=0):M&&c&&(o=Math.min(M.length,c.length)),!o){u.visible=!1;return}u._length=o,y("sum"),y("text"),y("hovertext"),u.hoveron!=="fills"&&y("hovertemplate");var d=o<P.PTS_LINESONLY?"lines+markers":"lines";y("mode",d),a.hasMarkers(u)&&x(n,u,f,l,y,{gradient:!0}),a.hasLines(u)&&(w(n,u,f,l,y,{backoff:!0}),v(n,u,y),y("connectgaps")),a.hasText(u)&&(y("texttemplate"),p(n,u,l,y));var T=[];(a.hasMarkers(u)||a.hasText(u))&&(y("cliponaxis"),y("marker.maxdisplayed"),T.push("points")),y("fill"),u.fill!=="none"&&(r(n,u,f,y),a.hasLines(u)||v(n,u,y)),(u.fill==="tonext"||u.fill==="toself")&&T.push("fills"),y("hoveron",T.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,y)}},97476:function(H){H.exports=function(e,g,P,a,x){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),a[x]){var w=a[x];e.a=w.a,e.b=w.b,e.c=w.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},90404:function(H,j,e){var g=e(54460);H.exports=function(a,x,w){var v={},p=w[x.subplot]._subplot;return v.aLabel=g.tickText(p.aaxis,a.a,!0).text,v.bLabel=g.tickText(p.baxis,a.b,!0).text,v.cLabel=g.tickText(p.caxis,a.c,!0).text,v}},26596:function(H,j,e){var g=e(98723);H.exports=function(a,x,w,v){var p=g(a,x,w,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/a.ya._length,i=a.xa._length,n=i*t/2,u=i-n;return r.x0=Math.max(Math.min(r.x0,u),n),r.x1=Math.max(Math.min(r.x1,u),n),p}var f=r.cd[r.index],l=r.trace,y=r.subplot;r.a=f.a,r.b=f.b,r.c=f.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:y};var M=l._module.formatLabels(f,l,h);r.aLabel=M.aLabel,r.bLabel=M.bLabel,r.cLabel=M.cLabel;var c=f.hi||l.hoverinfo,o=[];function d(S,C){o.push(S._hovertitle+": "+C)}if(!l.hovertemplate){var T=c.split("+");T.indexOf("all")!==-1&&(T=["a","b","c"]),T.indexOf("a")!==-1&&d(y.aaxis,r.aLabel),T.indexOf("b")!==-1&&d(y.baxis,r.bLabel),T.indexOf("c")!==-1&&d(y.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=l.hovertemplate,p}},34864:function(H,j,e){H.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(H,j,e){var g=e(96504);H.exports=function(a,x,w){var v=x.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=x.xaxis,r=x.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:x._hasClipOnAxisFalse?x.clipIdRelative:null},i=x.layers.frontplot.select("g.scatterlayer"),n=0;n<w.length;n++){var u=w[n];u.length&&(u[0].trace._xA=p,u[0].trace._yA=r)}g(a,t,w,i)}},44524:function(H,j,e){var g=e(52904),P=e(49084),a=e(29736).axisHoverFormat,x=e(21776).Ks,w=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=g.marker,i=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},i.width,{editType:"calc"}),editType:"calc"}),u=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});u.color.editType=u.cmin.editType=u.cmax.editType="style";function f(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}H.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},w.text,{}),hovertext:r({},w.hovertext,{}),hovertemplate:x(),xhoverformat:a("x"),yhoverformat:a("y"),marker:u,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:w.selected.marker,editType:"calc"},unselected:{marker:w.unselected.marker,editType:"calc"},opacity:w.opacity}},28888:function(H,j,e){var g=e(24040),P=e(12704);H.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},g.register(P)},99332:function(H,j,e){var g=e(13472),P=e(24040),a=e(5048),x=e(84888)._M,w=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function i(h){var M=h._fullLayout,c=P.getModule(r),o=x(h.calcdata,c)[0],d=a(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(M._hasOnlyLargeSploms&&f(h),c.plot(h,{},o))}function n(h){var M=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&f(h);for(var o=0;o<M.length;o++){var d=M[o][0],T=d.trace,S=c._splomScenes[T.uid];T.type==="splom"&&S&&S.matrix&&u(h,T,S)}}function u(h,M,c){for(var o=c.matrixOptions.data.length,d=M._visibleDims,T=c.viewOpts.ranges=new Array(o),S=0;S<d.length;S++){var C=d[S],m=T[S]=new Array(4),E=v(h,M._diag[C][0]);E&&(m[0]=E.r2l(E.range[0]),m[2]=E.r2l(E.range[1]));var b=v(h,M._diag[C][1]);b&&(m[1]=b.r2l(b.range[0]),m[3]=b.r2l(b.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:T},{ranges:T}):c.matrix.update({ranges:T})}function f(h){var M=h._fullLayout,c=M._glcanvas.data()[0].regl,o=M._splomGrid;o||(o=M._splomGrid=g(c)),o.update(l(h))}function l(h){var M=h._context.plotGlPixelRatio,c=h._fullLayout,o=c._size,d=[0,0,c.width*M,c.height*M],T={},S;function C(W,Q,re,ne,fe,$){re*=M,ne*=M,fe*=M,$*=M;var X=Q[W+"color"],oe=Q[W+"width"],Y=String(X+oe);Y in T?T[Y].data.push(NaN,NaN,re,ne,fe,$):T[Y]={data:[re,ne,fe,$],join:"rect",thickness:oe*M,color:X,viewport:d,range:d,overlay:!1}}for(S in c._splomSubplots){var m=c._plots[S],E=m.xaxis,b=m.yaxis,s=E._gridVals,L=b._gridVals,A=E._offset,k=E._length,_=b._length,U=o.b+b.domain[0]*o.h,F=-b._m,z=-F*b.r2l(b.range[0],b.calendar),B,N;if(E.showgrid)for(S=0;S<s.length;S++)B=A+E.l2p(s[S].x),C("grid",E,B,U,B,U+_);if(b.showgrid)for(S=0;S<L.length;S++)N=U+z+F*L[S].x,C("grid",b,A,N,A+k,N);p(h,E,b)&&(B=A+E.l2p(0),C("zeroline",E,B,U,B,U+_)),p(h,b,E)&&(N=U+z+0,C("zeroline",b,A,N,A+k,N))}var V=[];for(S in T)V.push(T[S]);return V}function y(h,M,c,o){var d={},T;if(o._splomScenes){for(T=0;T<h.length;T++){var S=h[T];S.type==="splom"&&(d[S.uid]=1)}for(T=0;T<c.length;T++){var C=c[T];if(!d[C.uid]){var m=o._splomScenes[C.uid];m&&m.destroy&&m.destroy(),o._splomScenes[C.uid]=null,delete o._splomScenes[C.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!M._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),w.clean(h,M,c,o)}H.exports={name:r,attr:w.attr,attrRegex:w.attrRegex,layoutAttributes:w.layoutAttributes,supplyLayoutDefaults:w.supplyLayoutDefaults,drawFramework:w.drawFramework,plot:i,drag:n,updateGrid:f,clean:y,updateFx:w.updateFx,toSVG:w.toSVG,reglPrecompiled:t}},66821:function(H,j,e){var g=e(3400),P=e(79811),a=e(16356).calcMarkerSize,x=e(16356).calcAxisExpansion,w=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,i=e(67072).TOO_MANY_POINTS;H.exports=function(u,f){var l=f.dimensions,y=f._length,h={},M=h.cdata=[],c=h.data=[],o=f._visibleDims=[],d,T,S,C,m;function E(k,_){for(var U=k.makeCalcdata({v:_.values,vcalendar:f.calendar},"v"),F=0;F<U.length;F++)U[F]=U[F]===t?NaN:U[F];M.push(U),c.push(k.type==="log"?g.simpleMap(U,k.c2l):U)}for(d=0;d<l.length;d++)if(S=l[d],S.visible){if(C=P.getFromId(u,f._diag[d][0]),m=P.getFromId(u,f._diag[d][1]),C&&m&&C.type!==m.type){g.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(E(C,S),m&&m.type==="category"&&(m._categories=C._categories.slice())):E(m,S),o.push(d)}w(u,f),g.extendFlat(h,p(u,f));var b=M.length,s=b*y>i,L;for(s?L=h.sizeAvg||Math.max(h.size,3):L=a(f,y),T=0;T<o.length;T++)d=o[T],S=l[d],C=P.getFromId(u,f._diag[d][0])||{},m=P.getFromId(u,f._diag[d][1])||{},x(u,f,C,m,M[T],M[T],L);var A=r(u,f);return A.matrix||(A.matrix=!0),A.matrixOptions=h,A.selectedOptions=v(u,f,f.selected),A.unselectedOptions=v(u,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},69544:function(H,j,e){var g=e(3400),P=e(51272),a=e(44524),x=e(43028),w=e(74428),v=e(26284),p=e(80088).isOpenSymbol;H.exports=function(n,u,f,l){function y(C,m){return g.coerce(n,u,a,C,m)}var h=P(n,u,{name:"dimensions",handleItemDefaults:r}),M=y("diagonal.visible"),c=y("showupperhalf"),o=y("showlowerhalf"),d=v(u,h,"values");if(!d||!M&&!c&&!o){u.visible=!1;return}y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),w(n,u,f,l,y,{noAngleRef:!0,noStandOff:!0});var T=p(u.marker.symbol),S=x.isBubble(u);y("marker.line.width",T||S?1:0),t(n,u,l,y),g.coerceSelectionMarkerOpacity(u,y)};function r(i,n){function u(l,y){return g.coerce(i,n,a.dimensions,l,y)}u("label");var f=u("values");f&&f.length?u("visible"):n.visible=!1,u("axis.type"),u("axis.matches")}function t(i,n,u,f){var l=n.dimensions,y=l.length,h=n.showupperhalf,M=n.showlowerhalf,c=n.diagonal.visible,o,d,T=new Array(y),S=new Array(y);for(o=0;o<y;o++){var C=o?o+1:"";T[o]="x"+C,S[o]="y"+C}var m=f("xaxes",T),E=f("yaxes",S),b=n._diag=new Array(y);n._xaxes={},n._yaxes={};var s=[],L=[];function A(W,Q,re,ne){if(W){var fe=W.charAt(0),$=u._splomAxes[fe];if(n["_"+fe+"axes"][W]=1,ne.push(W),!(W in $)){var X=$[W]={};re&&(X.label=re.label||"",re.visible&&re.axis&&(re.axis.type&&(X.type=re.axis.type),re.axis.matches&&(X.matches=Q)))}}}var k=!c&&!M,_=!c&&!h;for(n._axesDim={},o=0;o<y;o++){var U=l[o],F=o===0,z=o===y-1,B=F&&k||z&&_?void 0:m[o],N=F&&_||z&&k?void 0:E[o];A(B,N,U,s),A(N,B,U,L),b[o]=[B,N],n._axesDim[B]=o,n._axesDim[N]=o}for(o=0;o<s.length;o++)for(d=0;d<L.length;d++){var V=s[o]+L[d];(o>d&&h||o<d&&M||o===d&&(c||!M||!h))&&(u._splomSubplots[V]=1)}(!M||!c&&h&&M)&&(u._splomGridDflt.xside="bottom",u._splomGridDflt.yside="left")}},83156:function(H,j,e){var g=e(3400),P=e(90136),a=e(84236).markerStyle;H.exports=function(w,v){var p=v.trace,r=w._fullLayout._splomScenes[p.uid];if(r){P(w,p),g.extendFlat(r.matrixOptions,a(w,p));var t=g.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(H,j){j.getDimIndex=function(g,P){for(var a=P._id,x=a.charAt(0),w={x:0,y:1}[x],v=g._visibleDims,p=0;p<v.length;p++){var r=v[p];if(g._diag[r][w]===a)return p}return!1}},72248:function(H,j,e){var g=e(50328),P=e(41272).calcHover;function a(x,w,v){var p=x.cd,r=p[0].trace,t=x.scene,i=t.matrixOptions.cdata,n=x.xa,u=x.ya,f=n.c2p(w),l=u.c2p(v),y=x.distance,h=g.getDimIndex(r,n),M=g.getDimIndex(r,u);if(h===!1||M===!1)return[x];for(var c=i[h],o=i[M],d,T,S=y,C=0;C<c.length;C++){var m=c[C],E=o[C],b=n.c2p(m)-f,s=u.c2p(E)-l,L=Math.sqrt(b*b+s*s);L<S&&(S=T=L,d=C)}return x.index=d,x.distance=S,x.dxy=T,d===void 0?[x]:[P(x,c,o,r)]}H.exports={hoverPoints:a}},97924:function(H,j,e){var g=e(28888);g.basePlotModule=e(99332),H.exports=g},54840:function(H,j,e){var g=e(55795),P=e(3400),a=e(79811),x=e(72760).selectMode;H.exports=function(p,r,t){if(t.length)for(var i=0;i<t.length;i++)w(p,t[i][0])};function w(v,p){var r=v._fullLayout,t=r._size,i=p.trace,n=p.t,u=r._splomScenes[i.uid],f=u.matrixOptions,l=f.cdata,y=r._glcanvas.data()[0].regl,h=r.dragmode,M,c,o,d,T;if(l.length!==0){f.lower=i.showupperhalf,f.upper=i.showlowerhalf,f.diagonal=i.diagonal.visible;var S=i._visibleDims,C=l.length,m=u.viewOpts={};for(m.ranges=new Array(C),m.domains=new Array(C),T=0;T<S.length;T++){o=S[T];var E=m.ranges[T]=new Array(4),b=m.domains[T]=new Array(4);M=a.getFromId(v,i._diag[o][0]),M&&(E[0]=M._rl[0],E[2]=M._rl[1],b[0]=M.domain[0],b[2]=M.domain[1]),c=a.getFromId(v,i._diag[o][1]),c&&(E[1]=c._rl[0],E[3]=c._rl[1],b[1]=c.domain[0],b[3]=c.domain[1])}var s=v._context.plotGlPixelRatio,L=t.l*s,A=t.b*s,k=t.w*s,_=t.h*s;m.viewport=[L,A,k+L,_+A],u.matrix===!0&&(u.matrix=g(y));var U=r.clickmode.indexOf("select")>-1,F=x(h)||!!i.selectedpoints||U,z=!0;if(F){var B=i._length;if(i.selectedpoints){u.selectBatch=i.selectedpoints;var N=i.selectedpoints,V={};for(o=0;o<N.length;o++)V[N[o]]=!0;var W=[];for(o=0;o<B;o++)V[o]||W.push(o);u.unselectBatch=W}var Q=n.xpx=new Array(C),re=n.ypx=new Array(C);for(T=0;T<S.length;T++){if(o=S[T],M=a.getFromId(v,i._diag[o][0]),M)for(Q[T]=new Array(B),d=0;d<B;d++)Q[T][d]=M.c2p(l[T][d]);if(c=a.getFromId(v,i._diag[o][1]),c)for(re[T]=new Array(B),d=0;d<B;d++)re[T][d]=c.c2p(l[T][d])}if(u.selectBatch.length||u.unselectBatch.length){var ne=P.extendFlat({},f,u.unselectedOptions,m),fe=P.extendFlat({},f,u.selectedOptions,m);u.matrix.update(ne,fe),z=!1}}else n.xpx=n.ypx=null;if(z){var $=P.extendFlat({},f,m);u.matrix.update($,null)}}}},72308:function(H,j,e){var g=e(3400);H.exports=function(a,x){var w=a._fullLayout,v=x.uid,p=w._splomScenes;p||(p=w._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},i=p[x.uid];return i||(i=p[v]=g.extendFlat({},r,t),i.draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||g.extendFlat(i,r),i}},62500:function(H,j,e){var g=e(3400),P=g.pushUnique,a=e(43028),x=e(50328);H.exports=function(v,p){var r=v.cd,t=r[0].trace,i=r[0].t,n=v.scene,u=n.matrixOptions.cdata,f=v.xaxis,l=v.yaxis,y=[];if(!n)return y;var h=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||h)return y;var M=x.getDimIndex(t,f),c=x.getDimIndex(t,l);if(M===!1||c===!1)return y;var o=i.xpx[M],d=i.ypx[c],T=u[M],S=u[c],C=(v.scene.selectBatch||[]).slice(),m=[];if(p!==!1&&!p.degenerate)for(var E=0;E<T.length;E++)p.contains([o[E],d[E]],null,E,v)?(y.push({pointNumber:E,x:T[E],y:S[E]}),P(C,E)):C.indexOf(E)!==-1?P(C,E):m.push(E);var b=n.matrixOptions;return!C.length&&!m.length?n.matrix.update(b,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},b,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=m,y}},90167:function(H,j,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(52948),w=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},w.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=x[t]}),p.hoverinfo=v({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,H.exports=p},3832:function(H,j,e){var g=e(3400),P=e(47128);function a(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=x(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var i=0,n,u,f;r.starts&&(n=v(r.starts.x||[]),u=v(r.starts.y||[]),f=v(r.starts.z||[]),i=Math.min(n.length,u.length,f.length)),r._startsX=n||[],r._startsY=u||[],r._startsZ=f||[];var l=0,y=1/0,h;for(h=0;h<r._len;h++){var M=r._u[h],c=r._v[h],o=r._w[h],d=Math.sqrt(M*M+c*c+o*o);l=Math.max(l,d),y=Math.min(y,d)}for(P(p,r,{vals:[y,l],containerStr:"",cLetter:"c"}),h=0;h<i;h++){var T=n[h];t.xMax=Math.max(t.xMax,T),t.xMin=Math.min(t.xMin,T);var S=u[h];t.yMax=Math.max(t.yMax,S),t.yMin=Math.min(t.yMin,S);var C=f[h];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=i,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function x(p){var r=p._x,t=p._y,i=p._z,n=p._len,u,f,l,y=-1/0,h=1/0,M=-1/0,c=1/0,o=-1/0,d=1/0,T="",S,C,m,E,b,s,L,A,k;for(n&&(E=r[0],s=t[0],A=i[0]),n>1&&(b=r[n-1],L=t[n-1],k=i[n-1]),u=0;u<n;u++)y=Math.max(y,r[u]),h=Math.min(h,r[u]),M=Math.max(M,t[u]),c=Math.min(c,t[u]),o=Math.max(o,i[u]),d=Math.min(d,i[u]),!S&&r[u]!==E&&(S=!0,T+="x"),!C&&t[u]!==s&&(C=!0,T+="y"),!m&&i[u]!==A&&(m=!0,T+="z");S||(T+="x"),C||(T+="y"),m||(T+="z");var _=w(p._x),U=w(p._y),F=w(p._z);T=T.replace("x",(E>b?"-":"+")+"x"),T=T.replace("y",(s>L?"-":"+")+"y"),T=T.replace("z",(A>k?"-":"+")+"z");var z=function(){n=0,_=[],U=[],F=[]};(!n||n<_.length*U.length*F.length)&&z();var B=function(he){return he==="x"?r:he==="y"?t:i},N=function(he){return he==="x"?_:he==="y"?U:F},V=function(he){return he[n-1]<he[0]?-1:1},W=B(T[1]),Q=B(T[3]),re=B(T[5]),ne=N(T[1]).length,fe=N(T[3]).length,$=N(T[5]).length,X=!1,oe=function(he,ye,Ce){return ne*(fe*he+ye)+Ce},Y=V(B(T[1])),ee=V(B(T[3])),se=V(B(T[5]));for(u=0;u<$-1;u++){for(f=0;f<fe-1;f++){for(l=0;l<ne-1;l++){var q=oe(u,f,l),K=oe(u,f,l+1),le=oe(u,f+1,l),ie=oe(u+1,f,l);if((!(W[q]*Y<W[K]*Y)||!(Q[q]*ee<Q[le]*ee)||!(re[q]*se<re[ie]*se))&&(X=!0),X)break}if(X)break}if(X)break}return X&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:h,yMin:c,zMin:d,xMax:y,yMax:M,zMax:o,Xs:_,Ys:U,Zs:F,len:n,fill:T}}function w(p){return g.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),g.isTypedArray(p))return p.subarray(0,r);for(var t=[],i=0;i<r;i++)t[i]=+p[i];return t}H.exports={calc:a,filter:v,processGrid:x}},25668:function(H,j,e){var g=e(67792).gl_streamtube3d,P=g.createTubeMesh,a=e(3400),x=e(33040).parseColorScale,w=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(l,y){this.scene=l,this.uid=y,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var y=this.scene.fullSceneLayout,h=this.scene.dataScale;function M(d,T){var S=y[T],C=h[p[T]];return S.l2c(d)/C}if(l.object===this.mesh){var c=l.data.position,o=l.data.velocity;return l.traceCoordinate=[M(c[0],"xaxis"),M(c[1],"yaxis"),M(c[2],"zaxis"),M(o[0],"xaxis"),M(o[1],"yaxis"),M(o[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function i(l){var y=l.length,h;return y>2?h=l.slice(1,y-1):y===2?h=[(l[0]+l[1])/2]:h=l,h}function n(l){var y=l.length;return y===1?[.5,.5]:[l[1]-l[0],l[y-1]-l[y-2]]}function u(l,y){var h=l.fullSceneLayout,M=l.dataScale,c=y._len,o={};function d(fe,$){var X=h[$],oe=M[p[$]];return a.simpleMap(fe,function(Y){return X.d2l(Y)*oe})}if(o.vectors=v(d(y._u,"xaxis"),d(y._v,"yaxis"),d(y._w,"zaxis"),c),!c)return{positions:[],cells:[]};var T=d(y._Xs,"xaxis"),S=d(y._Ys,"yaxis"),C=d(y._Zs,"zaxis");o.meshgrid=[T,S,C],o.gridFill=y._gridFill;var m=y._slen;if(m)o.startingPositions=v(d(y._startsX,"xaxis"),d(y._startsY,"yaxis"),d(y._startsZ,"zaxis"));else{for(var E=S[0],b=i(T),s=i(C),L=new Array(b.length*s.length),A=0,k=0;k<b.length;k++)for(var _=0;_<s.length;_++)L[A++]=[b[k],E,s[_]];o.startingPositions=L}o.colormap=x(y),o.tubeSize=y.sizeref,o.maxLength=y.maxdisplayed;var U=d(y._xbnds,"xaxis"),F=d(y._ybnds,"yaxis"),z=d(y._zbnds,"zaxis"),B=n(T),N=n(S),V=n(C),W=[[U[0]-B[0],F[0]-N[0],z[0]-V[0]],[U[1]+B[1],F[1]+N[1],z[1]+V[1]]],Q=g(o,W),re=w(y);Q.vertexIntensityBounds=[re.min/y._normMax,re.max/y._normMax];var ne=y.lightposition;return Q.lightPosition=[ne.x,ne.y,ne.z],Q.ambient=y.lighting.ambient,Q.diffuse=y.lighting.diffuse,Q.specular=y.lighting.specular,Q.roughness=y.lighting.roughness,Q.fresnel=y.lighting.fresnel,Q.opacity=y.opacity,y._pad=Q.tubeScale*y.sizeref*2,Q}t.update=function(l){this.data=l;var y=u(this.scene,l);this.mesh.update(y)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(l,y){var h=l.glplot.gl,M=u(l,y),c=P(h,M),o=new r(l,y.uid);return o.mesh=c,o.data=y,c._trace=o,l.glplot.add(c),o}H.exports=f},54304:function(H,j,e){var g=e(3400),P=e(27260),a=e(90167);H.exports=function(w,v,p,r){function t(h,M){return g.coerce(w,v,a,h,M)}var i=t("u"),n=t("v"),u=t("w"),f=t("x"),l=t("y"),y=t("z");if(!i||!i.length||!n||!n.length||!u||!u.length||!f||!f.length||!l||!l.length||!y||!y.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(w,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(H,j,e){H.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(g,P){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=P.traceCoordinate[3],g.tubev=P.traceCoordinate[4],g.tubew=P.traceCoordinate[5],g.norm=P.traceCoordinate[6],g.divergence=P.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},424:function(H,j,e){var g=e(45464),P=e(21776).Ks,a=e(21776).Gw,x=e(49084),w=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;H.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},x("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:w({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(H,j,e){var g=e(7316);j.name="sunburst",j.plot=function(P,a,x,w){g.plotBasePlot(j.name,P,a,x,w)},j.clean=function(P,a,x,w){g.cleanBasePlot(j.name,P,a,x,w)}},3776:function(H,j,e){var g=e(74148),P=e(38248),a=e(3400),x=e(8932).makeColorScaleFuncFromTrace,w=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},i={},n={};j.calc=function(f,l){var y=f._fullLayout,h=l.ids,M=a.isArrayOrTypedArray(h),c=l.labels,o=l.parents,d=l.values,T=a.isArrayOrTypedArray(d),S=[],C={},m={},E=function(Y,ee){C[Y]?C[Y].push(ee):C[Y]=[ee],m[ee]=1},b=function(Y){return Y||typeof Y=="number"},s=function(Y){return!T||P(d[Y])&&d[Y]>=0},L,A,k;M?(L=Math.min(h.length,o.length),A=function(Y){return b(h[Y])&&s(Y)},k=function(Y){return String(h[Y])}):(L=Math.min(c.length,o.length),A=function(Y){return b(c[Y])&&s(Y)},k=function(Y){return String(c[Y])}),T&&(L=Math.min(L,d.length));for(var _=0;_<L;_++)if(A(_)){var U=k(_),F=b(o[_])?String(o[_]):"",z={i:_,id:U,pid:F,label:b(c[_])?String(c[_]):""};T&&(z.v=+d[_]),S.push(z),E(F,U)}if(C[""]){if(C[""].length>1){for(var V=a.randstr(),W=0;W<S.length;W++)S[W].pid===""&&(S[W].pid=V);S.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var B=[],N;for(N in C)m[N]||B.push(N);if(B.length===1)N=B[0],S.unshift({hasImpliedRoot:!0,id:N,pid:"",label:N});else return a.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",B.join(", ")].join(" "))}var Q;try{Q=g.stratify().id(function(Y){return Y.id}).parentId(function(Y){return Y.pid})(S)}catch(Y){return a.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",Y.message].join(" "))}var re=g.hierarchy(Q),ne=!1;if(T)switch(l.branchvalues){case"remainder":re.sum(function(Y){return Y.data.v});break;case"total":re.each(function(Y){var ee=Y.data.data,se=ee.v;if(Y.children){var q=Y.children.reduce(function(K,le){return K+le.data.data.v},0);if((ee.hasImpliedRoot||ee.hasMultipleRoots)&&(se=q),se<q*r)return ne=!0,a.warn(["Total value for node",Y.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,q].join(" "))}Y.value=se});break}else u(re,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ne){l.sort&&re.sort(function(Y,ee){return ee.value-Y.value});var fe,$,X=l.marker.colors||[],oe=!!X.length;return l._hasColorscale?(oe||(X=T?l.values:l._values),p(f,l,{vals:X,containerStr:"marker",cLetter:"c"}),$=x(l.marker)):fe=w(y["_"+l.type+"colormap"]),re.each(function(Y){var ee=Y.data.data;ee.color=l._hasColorscale?$(X[ee.i]):fe(X[ee.i],ee.id)}),S[0].hierarchy=re,S}},j._runCrossTraceCalc=function(f,l){var y=l._fullLayout,h=l.calcdata,M=y[f+"colorway"],c=y["_"+f+"colormap"];y["extend"+f+"colors"]&&(M=v(M,f==="icicle"?n:f==="treemap"?i:t));var o=0,d;function T(E){var b=E.data.data,s=b.id;b.color===!1&&(c[s]?b.color=c[s]:E.parent?E.parent.parent?b.color=E.parent.data.data.color:(c[s]=b.color=M[o%M.length],o++):b.color=d)}for(var S=0;S<h.length;S++){var C=h[S],m=C[0];m.trace.type===f&&m.hierarchy&&(d=m.trace.root.color,m.hierarchy.each(T))}},j.crossTraceCalc=function(f){return j._runCrossTraceCalc("sunburst",f)};function u(f,l,y){var h=0,M=f.children;if(M){for(var c=M.length,o=0;o<c;o++)h+=u(M[o],l,y);y.branches&&h++}else y.leaves&&h++;return f.value=f.data.data.value=h,l._values||(l._values=[]),l._values[f.data.data.i]=h,h}},27328:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(H,j,e){var g=e(3400),P=e(424),a=e(86968).Q,x=e(31508).handleText,w=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;H.exports=function(i,n,u,f){function l(T,S){return g.coerce(i,n,P,T,S)}var y=l("labels"),h=l("parents");if(!y||!y.length||!h||!h.length){n.visible=!1;return}var M=l("values");M&&M.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),w(i,n,f,l);var c=n._hasColorscale=p(i,"marker","colors")||(i.marker||{}).coloraxis;c&&r(i,n,f,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var o=l("text");l("texttemplate"),n.texttemplate||l("textinfo",g.isArrayOrTypedArray(o)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";x(i,n,f,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(n,f,l),n._length=null}},60404:function(H,j,e){var g=e(43616),P=e(76308);H.exports=function(x,w,v,p,r){var t=w.data.data,i=t.i,n=r||t.color;if(i>=0){w.i=t.i;var u=v.marker;u.pattern?(!u.colors||!u.pattern.shape)&&(u.color=n,w.color=n):(u.color=n,w.color=n),g.pointStyle(x,v,p,w)}else P.fill(x,n)}},45716:function(H,j,e){var g=e(33428),P=e(24040),a=e(10624).appendArrayPointValue,x=e(93024),w=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;H.exports=function(u,f,l,y,h){var M=y[0],c=M.trace,o=M.hierarchy,d=c.type==="sunburst",T=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var S=function(E){var b=l._fullLayout;if(!(l._dragging||b.hovermode===!1)){var s=l._fullData[c.index],L=E.data.data,A=L.i,k=p.isHierarchyRoot(E),_=p.getParent(o,E),U=p.getValue(E),F=function(K){return w.castOption(s,A,K)},z=F("hovertemplate"),B=x.castHoverinfo(s,b,A),N=b.separators,V;if(z||B&&B!=="none"&&B!=="skip"){var W,Q;d&&(W=M.cx+E.pxmid[0]*(1-E.rInscribed),Q=M.cy+E.pxmid[1]*(1-E.rInscribed)),T&&(W=E._hoverX,Q=E._hoverY);var re={},ne=[],fe=[],$=function(K){return ne.indexOf(K)!==-1};B&&(ne=B==="all"?s._module.attributes.hoverinfo.flags:B.split("+")),re.label=L.label,$("label")&&re.label&&fe.push(re.label),L.hasOwnProperty("v")&&(re.value=L.v,re.valueLabel=t(re.value,N),$("value")&&fe.push(re.valueLabel)),re.currentPath=E.currentPath=p.getPath(E.data),$("current path")&&!k&&fe.push(re.currentPath);var X,oe=[],Y=function(){oe.indexOf(X)===-1&&(fe.push(X),oe.push(X))};re.percentParent=E.percentParent=U/p.getValue(_),re.parent=E.parentString=p.getPtLabel(_),$("percent parent")&&(X=p.formatPercent(re.percentParent,N)+" of "+re.parent,Y()),re.percentEntry=E.percentEntry=U/p.getValue(f),re.entry=E.entry=p.getPtLabel(f),$("percent entry")&&!k&&!E.onPathbar&&(X=p.formatPercent(re.percentEntry,N)+" of "+re.entry,Y()),re.percentRoot=E.percentRoot=U/p.getValue(o),re.root=E.root=p.getPtLabel(o),$("percent root")&&!k&&(X=p.formatPercent(re.percentRoot,N)+" of "+re.root,Y()),re.text=F("hovertext")||F("text"),$("text")&&(X=re.text,w.isValidTextValue(X)&&fe.push(X)),V=[i(E,s,h.eventDataKeys)];var ee={trace:s,y:Q,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:fe.join("<br>"),name:z||$("name")?s.name:void 0,color:F("hoverlabel.bgcolor")||L.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:z,hovertemplateLabels:re,eventData:V};d&&(ee.x0=W-E.rInscribed*E.rpx1,ee.x1=W+E.rInscribed*E.rpx1,ee.idealAlign=E.pxmid[0]<0?"left":"right"),T&&(ee.x=W,ee.idealAlign=W<0?"left":"right");var se=[];x.loneHover(ee,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:l,inOut_bbox:se}),V[0].bbox=se[0],c._hasHoverLabel=!0}if(T){var q=u.select("path.surface");h.styleOne(q,E,s,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:V||[i(E,s,h.eventDataKeys)],event:g.event})}},C=function(E){var b=l._fullLayout,s=l._fullData[c.index],L=g.select(this).datum();if(c._hasHoverEvent&&(E.originalEvent=g.event,l.emit("plotly_unhover",{points:[i(L,s,h.eventDataKeys)],event:g.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(x.loneUnhover(b._hoverlayer.node()),c._hasHoverLabel=!1),T){var A=u.select("path.surface");h.styleOne(A,L,s,l,{hovered:!1})}},m=function(E){var b=l._fullLayout,s=l._fullData[c.index],L=d&&(p.isHierarchyRoot(E)||p.isLeaf(E)),A=p.getPtId(E),k=p.isEntry(E)?p.findEntryWithChild(o,A):p.findEntryWithLevel(o,A),_=p.getPtId(k),U={points:[i(E,s,h.eventDataKeys)],event:g.event};L||(U.nextLevel=_);var F=v.triggerHandler(l,"plotly_"+c.type+"click",U);if(F!==!1&&b.hovermode&&(l._hoverdata=[i(E,s,h.eventDataKeys)],x.click(l,g.event)),!L&&F!==!1&&!l._dragging&&!l._transitioning){P.call("_storeDirectGUIEdit",s,b._tracePreGUI[s.uid],{level:s.level});var z={data:[{level:_}],traces:[c.index]},B={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};x.loneUnhover(b._hoverlayer.node()),P.call("animate",l,z,B)}};u.on("mouseover",S),u.on("mouseout",C),u.on("click",m)};function i(n,u,f){for(var l=n.data.data,y={curveNumber:u.index,pointNumber:l.i,data:u._input,fullData:u},h=0;h<f.length;h++){var M=f[h];M in n&&(y[M]=n[M])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(y.parent=n.parentString),a(y,u,l.i),y}},78176:function(H,j,e){var g=e(3400),P=e(76308),a=e(93972),x=e(69656);j.findEntryWithLevel=function(r,t){var i;return t&&r.eachAfter(function(n){if(j.getPtId(n)===t)return i=n.copy()}),i||r},j.findEntryWithChild=function(r,t){var i;return r.eachAfter(function(n){for(var u=n.children||[],f=0;f<u.length;f++){var l=u[f];if(j.getPtId(l)===t)return i=n.copy()}}),i||r},j.isEntry=function(r){return!r.parent},j.isLeaf=function(r){return!r.children},j.getPtId=function(r){return r.data.data.id},j.getPtLabel=function(r){return r.data.data.label},j.getValue=function(r){return r.value},j.isHierarchyRoot=function(r){return p(r)===""},j.setSliceCursor=function(r,t,i){var n=i.isTransitioning;if(!n){var u=r.datum();n=i.hideOnRoot&&j.isHierarchyRoot(u)||i.hideOnLeaves&&j.isLeaf(u)}a(r,n?null:"pointer")};function w(r,t,i){return{color:j.getOutsideTextFontKey("color",r,t,i),family:j.getOutsideTextFontKey("family",r,t,i),size:j.getOutsideTextFontKey("size",r,t,i)}}function v(r,t,i,n){var u=(n||{}).onPathbar,f=t.data.data,l=f.i,y=g.castOption(r,l,(u?"pathbar.textfont":"insidetextfont")+".color");return!y&&r._input.textfont&&(y=g.castOption(r._input,l,"textfont.color")),{color:y||P.contrast(f.color),family:j.getInsideTextFontKey("family",r,t,i,n),size:j.getInsideTextFontKey("size",r,t,i,n)}}j.getInsideTextFontKey=function(r,t,i,n,u){var f=(u||{}).onPathbar,l=f?"pathbar.textfont":"insidetextfont",y=i.data.data.i;return g.castOption(t,y,l+"."+r)||g.castOption(t,y,"textfont."+r)||n.size},j.getOutsideTextFontKey=function(r,t,i,n){var u=i.data.data.i;return g.castOption(t,u,"outsidetextfont."+r)||g.castOption(t,u,"textfont."+r)||n.size},j.isOutsideText=function(r,t){return!r._hasColorscale&&j.isHierarchyRoot(t)},j.determineTextFont=function(r,t,i,n){return j.isOutsideText(r,t)?w(r,t,i):v(r,t,i,n)},j.hasTransition=function(r){return!!(r&&r.duration>0)},j.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},j.isHeader=function(r,t){return!(j.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}j.getParent=function(r,t){return j.findEntryWithLevel(r,p(t))},j.listPath=function(r,t){var i=r.parent;if(!i)return[];var n=t?[i.data[t]]:[i];return j.listPath(i,t).concat(n)},j.getPath=function(r){return j.listPath(r,"label").join("/")+"/"},j.formatValue=x.formatPieValue,j.formatPercent=function(r,t){var i=g.formatPercent(r,0);return i==="0%"&&(i=x.formatPiePercent(r,t)),i}},5621:function(H,j,e){H.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(H){H.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(H,j,e){var g=e(3400),P=e(84920);H.exports=function(x,w){function v(p,r){return g.coerce(x,w,P,p,r)}v("sunburstcolorway",w.colorway),v("extendsunburstcolors")}},96488:function(H,j,e){var g=e(33428),P=e(74148),a=e(67756).qy,x=e(43616),w=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,i=e(37820),n=e(69656).getRotationAngle,u=i.computeTransform,f=i.transformInsideText,l=e(85676).styleOne,y=e(60100).resizeText,h=e(45716),M=e(27328),c=e(78176);j.plot=function(m,E,b,s){var L=m._fullLayout,A=L._sunburstlayer,k,_,U=!b,F=!L.uniformtext.mode&&c.hasTransition(b);if(t("sunburst",L),k=A.selectAll("g.trace.sunburst").data(E,function(B){return B[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),F){s&&(_=s());var z=g.transition().duration(b.duration).ease(b.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});z.each(function(){A.selectAll("g.trace").each(function(B){o(m,B,this,b)})})}else k.each(function(B){o(m,B,this,b)}),L.uniformtext.mode&&y(m,L._sunburstlayer.selectAll(".trace"),"sunburst");U&&k.exit().remove()};function o(m,E,b,s){var L=m._context.staticPlot,A=m._fullLayout,k=!A.uniformtext.mode&&c.hasTransition(s),_=g.select(b),U=_.selectAll("g.slice"),F=E[0],z=F.trace,B=F.hierarchy,N=c.findEntryWithLevel(B,z.level),V=c.getMaxDepth(z),W=A._size,Q=z.domain,re=W.w*(Q.x[1]-Q.x[0]),ne=W.h*(Q.y[1]-Q.y[0]),fe=.5*Math.min(re,ne),$=F.cx=W.l+W.w*(Q.x[1]+Q.x[0])/2,X=F.cy=W.t+W.h*(1-Q.y[0])-ne/2;if(!N)return U.remove();var oe=null,Y={};k&&U.each(function(Xe){Y[c.getPtId(Xe)]={rpx0:Xe.rpx0,rpx1:Xe.rpx1,x0:Xe.x0,x1:Xe.x1,transform:Xe.transform},!oe&&c.isEntry(Xe)&&(oe=Xe)});var ee=d(N).descendants(),se=N.height+1,q=0,K=V;F.hasMultipleRoots&&c.isHierarchyRoot(N)&&(ee=ee.slice(1),se-=1,q=1,K+=1),ee=ee.filter(function(Xe){return Xe.y1<=K});var le=n(z.rotation);le&&ee.forEach(function(Xe){Xe.x0+=le,Xe.x1+=le});var ie=Math.min(se,V),he=function(Xe){return(Xe-q)/ie*fe},ye=function(Xe,ut){return[Xe*Math.cos(ut),-Xe*Math.sin(ut)]},Ce=function(Xe){return w.pathAnnulus(Xe.rpx0,Xe.rpx1,Xe.x0,Xe.x1,$,X)},Ae=function(Xe){return $+S(Xe)[0]*(Xe.transform.rCenter||0)+(Xe.transform.x||0)},ke=function(Xe){return X+S(Xe)[1]*(Xe.transform.rCenter||0)+(Xe.transform.y||0)};U=U.data(ee,c.getPtId),U.enter().append("g").classed("slice",!0),k?U.exit().transition().each(function(){var Xe=g.select(this),ut=Xe.select("path.surface");ut.transition().attrTween("d",function(at){var We=Re(at);return function(rt){return Ce(We(rt))}});var dt=Xe.select("g.slicetext");dt.attr("opacity",0)}).remove():U.exit().remove(),U.order();var we=null;if(k&&oe){var Ee=c.getPtId(oe);U.each(function(Xe){we===null&&c.getPtId(Xe)===Ee&&(we=Xe.x1)})}var xe=U;k&&(xe=xe.transition().each("end",function(){var Xe=g.select(this);c.setSliceCursor(Xe,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(Xe){var ut=g.select(this),dt=w.ensureSingle(ut,"path","surface",function(vt){vt.style("pointer-events",L?"none":"all")});Xe.rpx0=he(Xe.y0),Xe.rpx1=he(Xe.y1),Xe.xmid=(Xe.x0+Xe.x1)/2,Xe.pxmid=ye(Xe.rpx1,Xe.xmid),Xe.midangle=-(Xe.xmid-Math.PI/2),Xe.startangle=-(Xe.x0-Math.PI/2),Xe.stopangle=-(Xe.x1-Math.PI/2),Xe.halfangle=.5*Math.min(w.angleDelta(Xe.x0,Xe.x1)||Math.PI,Math.PI),Xe.ring=1-Xe.rpx0/Xe.rpx1,Xe.rInscribed=T(Xe),k?dt.transition().attrTween("d",function(vt){var At=Ve(vt);return function(tt){return Ce(At(tt))}}):dt.attr("d",Ce),ut.call(h,N,m,E,{eventDataKeys:M.eventDataKeys,transitionTime:M.CLICK_TRANSITION_TIME,transitionEasing:M.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),dt.call(l,Xe,z,m);var at=w.ensureSingle(ut,"g","slicetext"),We=w.ensureSingle(at,"text","",function(vt){vt.attr("data-notex",1)}),rt=w.ensureUniformFontSize(m,c.determineTextFont(z,Xe,A.font));We.text(j.formatSliceLabel(Xe,N,z,E,A)).classed("slicetext",!0).attr("text-anchor","middle").call(x.font,rt).call(v.convertToTspans,m);var st=x.bBox(We.node());Xe.transform=f(st,Xe,F),Xe.transform.targetX=Ae(Xe),Xe.transform.targetY=ke(Xe);var ht=function(vt,At){var tt=vt.transform;return u(tt,At),tt.fontSize=rt.size,r(z.type,tt,A),w.getTextTransform(tt)};k?We.transition().attrTween("transform",function(vt){var At=Ue(vt);return function(tt){return ht(At(tt),st)}}):We.attr("transform",ht(Xe,st))});function Re(Xe){var ut=c.getPtId(Xe),dt=Y[ut],at=Y[c.getPtId(N)],We;if(at){var rt=(Xe.x1>at.x1?2*Math.PI:0)+le;We=Xe.rpx1<at.rpx1?{x0:Xe.x0,x1:Xe.x1,rpx0:0,rpx1:0}:{x0:rt,x1:rt,rpx0:Xe.rpx0,rpx1:Xe.rpx1}}else{var st,ht=c.getPtId(Xe.parent);U.each(function(je){if(c.getPtId(je)===ht)return st=je});var vt=st.children,At;vt.forEach(function(je,Ke){if(c.getPtId(je)===ut)return At=Ke});var tt=vt.length,_e=a(st.x0,st.x1);We={rpx0:fe,rpx1:fe,x0:_e(At/tt),x1:_e((At+1)/tt)}}return a(dt,We)}function Ve(Xe){var ut=Y[c.getPtId(Xe)],dt,at={x0:Xe.x0,x1:Xe.x1,rpx0:Xe.rpx0,rpx1:Xe.rpx1};if(ut)dt=ut;else if(oe)if(Xe.parent)if(we){var We=(Xe.x1>we?2*Math.PI:0)+le;dt={x0:We,x1:We}}else dt={rpx0:fe,rpx1:fe},w.extendFlat(dt,Be(Xe));else dt={rpx0:0,rpx1:0};else dt={x0:le,x1:le};return a(dt,at)}function Ue(Xe){var ut=Y[c.getPtId(Xe)],dt,at=Xe.transform;if(ut)dt=ut;else if(dt={rpx1:Xe.rpx1,transform:{textPosAngle:at.textPosAngle,scale:0,rotate:at.rotate,rCenter:at.rCenter,x:at.x,y:at.y}},oe)if(Xe.parent)if(we){var We=Xe.x1>we?2*Math.PI:0;dt.x0=dt.x1=We}else w.extendFlat(dt,Be(Xe));else dt.x0=dt.x1=le;else dt.x0=dt.x1=le;var rt=a(dt.transform.textPosAngle,Xe.transform.textPosAngle),st=a(dt.rpx1,Xe.rpx1),ht=a(dt.x0,Xe.x0),vt=a(dt.x1,Xe.x1),At=a(dt.transform.scale,at.scale),tt=a(dt.transform.rotate,at.rotate),_e=at.rCenter===0?3:dt.transform.rCenter===0?1/3:1,je=a(dt.transform.rCenter,at.rCenter),Ke=function(He){return je(Math.pow(He,_e))};return function(He){var Ie=st(He),be=ht(He),me=vt(He),Me=Ke(He),Te=ye(Ie,(be+me)/2),ze=rt(He),Je={pxmid:Te,rpx1:Ie,transform:{textPosAngle:ze,rCenter:Me,x:at.x,y:at.y}};return r(z.type,at,A),{transform:{targetX:Ae(Je),targetY:ke(Je),scale:At(He),rotate:tt(He),rCenter:Me}}}}function Be(Xe){var ut=Xe.parent,dt=Y[c.getPtId(ut)],at={};if(dt){var We=ut.children,rt=We.indexOf(Xe),st=We.length,ht=a(dt.x0,dt.x1);at.x0=ht(rt/st),at.x1=ht(rt/st)}else at.x0=at.x1=0;return at}}function d(m){return P.partition().size([2*Math.PI,m.height+1])(m)}j.formatSliceLabel=function(m,E,b,s,L){var A=b.texttemplate,k=b.textinfo;if(!A&&(!k||k==="none"))return"";var _=L.separators,U=s[0],F=m.data.data,z=U.hierarchy,B=c.isHierarchyRoot(m),N=c.getParent(z,m),V=c.getValue(m);if(!A){var W=k.split("+"),Q=function(q){return W.indexOf(q)!==-1},re=[],ne;if(Q("label")&&F.label&&re.push(F.label),F.hasOwnProperty("v")&&Q("value")&&re.push(c.formatValue(F.v,_)),!B){Q("current path")&&re.push(c.getPath(m.data));var fe=0;Q("percent parent")&&fe++,Q("percent entry")&&fe++,Q("percent root")&&fe++;var $=fe>1;if(fe){var X,oe=function(q){ne=c.formatPercent(X,_),$&&(ne+=" of "+q),re.push(ne)};Q("percent parent")&&!B&&(X=V/c.getValue(N),oe("parent")),Q("percent entry")&&(X=V/c.getValue(E),oe("entry")),Q("percent root")&&(X=V/c.getValue(z),oe("root"))}}return Q("text")&&(ne=w.castOption(b,F.i,"text"),w.isValidTextValue(ne)&&re.push(ne)),re.join("<br>")}var Y=w.castOption(b,F.i,"texttemplate");if(!Y)return"";var ee={};F.label&&(ee.label=F.label),F.hasOwnProperty("v")&&(ee.value=F.v,ee.valueLabel=c.formatValue(F.v,_)),ee.currentPath=c.getPath(m.data),B||(ee.percentParent=V/c.getValue(N),ee.percentParentLabel=c.formatPercent(ee.percentParent,_),ee.parent=c.getPtLabel(N)),ee.percentEntry=V/c.getValue(E),ee.percentEntryLabel=c.formatPercent(ee.percentEntry,_),ee.entry=c.getPtLabel(E),ee.percentRoot=V/c.getValue(z),ee.percentRootLabel=c.formatPercent(ee.percentRoot,_),ee.root=c.getPtLabel(z),F.hasOwnProperty("color")&&(ee.color=F.color);var se=w.castOption(b,F.i,"text");return(w.isValidTextValue(se)||se==="")&&(ee.text=se),ee.customdata=w.castOption(b,F.i,"customdata"),w.texttemplateString(Y,ee,L._d3locale,ee,b._meta||{})};function T(m){return m.rpx0===0&&w.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function S(m){return C(m.rpx1,m.transform.textPosAngle)}function C(m,E){return[m*Math.sin(E),-m*Math.cos(E)]}},85676:function(H,j,e){var g=e(33428),P=e(76308),a=e(3400),x=e(82744).resizeText,w=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");x(r,t,"sunburst"),t.each(function(i){var n=g.select(this),u=i[0],f=u.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(p,l,f,r)})})}function p(r,t,i,n){var u=t.data.data,f=!t.children,l=u.i,y=a.castOption(i,l,"marker.line.color")||P.defaultLine,h=a.castOption(i,l,"marker.line.width")||0;r.call(w,t,i,n).style("stroke-width",h).call(P.stroke,y).style("opacity",f?i.leaf.opacity:null)}H.exports={style:v,styleOne:p}},16716:function(H,j,e){var g=e(76308),P=e(49084),a=e(29736).axisHoverFormat,x=e(21776).Ks,w=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=H.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:x(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},w.hoverinfo),showlegend:v({},w.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(H,j,e){var g=e(47128);H.exports=function(a,x){x.surfacecolor?g(a,x,{vals:x.surfacecolor,containerStr:"",cLetter:"c"}):g(a,x,{vals:x.z,containerStr:"",cLetter:"c"})}},79164:function(H,j,e){var g=e(67792).gl_surface3d,P=e(67792).ndarray,a=e(67792).ndarray_linear_interpolate.d2,x=e(70448),w=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function i(s,L,A){this.scene=s,this.uid=A,this.surface=L,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=i.prototype;n.getXat=function(s,L,A,k){var _=v(this.data.x)?v(this.data.x[0])?this.data.x[L][s]:this.data.x[s]:s;return A===void 0?_:k.d2l(_,0,A)},n.getYat=function(s,L,A,k){var _=v(this.data.y)?v(this.data.y[0])?this.data.y[L][s]:this.data.y[L]:L;return A===void 0?_:k.d2l(_,0,A)},n.getZat=function(s,L,A,k){var _=this.data.z[L][s];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[L][s]),A===void 0?_:k.d2l(_,0,A)},n.handlePick=function(s){if(s.object===this.surface){var L=(s.data.index[0]-1)/this.dataScaleX-1,A=(s.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(L),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(A),this.data._ylength-1),0);s.index=[k,_],s.traceCoordinate=[this.getXat(k,_),this.getYat(k,_),this.getZat(k,_)],s.dataCoordinate=[this.getXat(k,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var U=0;U<3;U++){var F=s.dataCoordinate[U];F!=null&&(s.dataCoordinate[U]*=this.scene.dataScale[U])}var z=this.data.hovertext||this.data.text;return v(z)&&z[_]&&z[_][k]!==void 0?s.textLabel=z[_][k]:z?s.textLabel=z:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function u(s){var L=s[0].rgb,A=s[s.length-1].rgb;return L[0]===A[0]&&L[1]===A[1]&&L[2]===A[2]&&L[3]===A[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(s,L){if(s<L)return 0;for(var A=0;Math.floor(s%L)===0;)s/=L,A++;return A}function y(s){for(var L=[],A=0;A<f.length;A++){var k=f[A];L.push(l(s,k))}return L}function h(s){for(var L=y(s),A=s,k=0;k<f.length;k++)if(L[k]>0){A=f[k];break}return A}function M(s,L){if(!(s<1||L<1)){for(var A=y(s),k=y(L),_=1,U=0;U<f.length;U++)_*=Math.pow(f[U],Math.max(A[U],k[U]));return _}}function c(s){if(s.length!==0){for(var L=1,A=0;A<s.length;A++)L=M(L,s[A]);return L}}n.calcXnums=function(s){var L,A=[];for(L=1;L<s;L++){var k=this.getXat(L-1,0),_=this.getXat(L,0);_!==k&&k!==void 0&&k!==null&&_!==void 0&&_!==null?A[L-1]=Math.abs(_-k):A[L-1]=0}var U=0;for(L=1;L<s;L++)U+=A[L-1];for(L=1;L<s;L++)A[L-1]===0?A[L-1]=1:A[L-1]=Math.round(U/A[L-1]);return A},n.calcYnums=function(s){var L,A=[];for(L=1;L<s;L++){var k=this.getYat(0,L-1),_=this.getYat(0,L);_!==k&&k!==void 0&&k!==null&&_!==void 0&&_!==null?A[L-1]=Math.abs(_-k):A[L-1]=0}var U=0;for(L=1;L<s;L++)U+=A[L-1];for(L=1;L<s;L++)A[L-1]===0?A[L-1]=1:A[L-1]=Math.round(U/A[L-1]);return A};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=o[9],T=o[13];n.estimateScale=function(s,L){for(var A=L===0?this.calcXnums(s):this.calcYnums(s),k=1+c(A);k<d;)k*=2;for(;k>T;)k--,k/=h(k),k++,k<d&&(k=T);var _=Math.round(k/s);return _>1?_:1};function S(s,L,A){var k=A[8]+A[2]*L[0]+A[5]*L[1];return s[0]=(A[6]+A[0]*L[0]+A[3]*L[1])/k,s[1]=(A[7]+A[1]*L[0]+A[4]*L[1])/k,s}function C(s,L,A){return m(s,L,S,A),s}function m(s,L,A,k){for(var _=[0,0],U=s.shape[0],F=s.shape[1],z=0;z<U;z++)for(var B=0;B<F;B++)A(_,[z,B],k),s.set(z,B,a(L,_[0],_[1]));return s}n.refineCoords=function(s){for(var L=this.dataScaleX,A=this.dataScaleY,k=s[0].shape[0],_=s[0].shape[1],U=Math.floor(s[0].shape[0]*L+1)|0,F=Math.floor(s[0].shape[1]*A+1)|0,z=1+k+1,B=1+_+1,N=P(new Float32Array(z*B),[z,B]),V=[1/L,0,0,0,1/A,0,0,0,1],W=0;W<s.length;++W){this.surface.padField(N,s[W]);var Q=P(new Float32Array(U*F),[U,F]);C(Q,N,V),s[W]=Q}};function E(s,L){for(var A=!1,k=0;k<s.length;k++)if(L===s[k]){A=!0;break}A===!1&&s.push(L)}n.setContourLevels=function(){var s=[[],[],[]],L=[!1,!1,!1],A=!1,k,_,U;for(k=0;k<3;++k)if(this.showContour[k]&&(A=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(L[k]=!0,_=this.contourStart[k];_<this.contourEnd[k];_+=this.contourSize[k])U=_*this.scene.dataScale[k],E(s[k],U);if(A){var F=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(F[k]=L[k]?s[k]:this.scene.contourLevels[k]);this.surface.update({levels:F})}},n.update=function(s){var L=this.scene,A=L.fullSceneLayout,k=this.surface,_=p(s),U=L.dataScale,F=s.z[0].length,z=s._ylength,B=L.contourLevels;this.data=s;var N,V,W,Q,re=[];for(N=0;N<3;N++)for(re[N]=[],V=0;V<F;V++)re[N][V]=[];for(V=0;V<F;V++)for(W=0;W<z;W++)re[0][V][W]=this.getXat(V,W,s.xcalendar,A.xaxis),re[1][V][W]=this.getYat(V,W,s.ycalendar,A.yaxis),re[2][V][W]=this.getZat(V,W,s.zcalendar,A.zaxis);if(s.connectgaps)for(s._emptypoints=w(re[2]),x(re[2],s._emptypoints),s._interpolatedZ=[],V=0;V<F;V++)for(s._interpolatedZ[V]=[],W=0;W<z;W++)s._interpolatedZ[V][W]=re[2][V][W];for(N=0;N<3;N++)for(V=0;V<F;V++)for(W=0;W<z;W++)Q=re[N][V][W],Q==null?re[N][V][W]=NaN:Q=re[N][V][W]*=U[N];for(N=0;N<3;N++)for(V=0;V<F;V++)for(W=0;W<z;W++)Q=re[N][V][W],Q!=null&&(this.minValues[N]>Q&&(this.minValues[N]=Q),this.maxValues[N]<Q&&(this.maxValues[N]=Q));for(N=0;N<3;N++)this.objectOffset[N]=.5*(this.minValues[N]+this.maxValues[N]);for(N=0;N<3;N++)for(V=0;V<F;V++)for(W=0;W<z;W++)Q=re[N][V][W],Q!=null&&(re[N][V][W]-=this.objectOffset[N]);var ne=[P(new Float32Array(F*z),[F,z]),P(new Float32Array(F*z),[F,z]),P(new Float32Array(F*z),[F,z])];for(N=0;N<3;N++)for(V=0;V<F;V++)for(W=0;W<z;W++)ne[N].set(V,W,re[N][V][W]);re=[];var fe={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},$=t(s);if(fe.intensityBounds=[$.min,$.max],s.surfacecolor){var X=P(new Float32Array(F*z),[F,z]);for(V=0;V<F;V++)for(W=0;W<z;W++)X.set(V,W,s.surfacecolor[W][V]);ne.push(X)}else fe.intensityBounds[0]*=U[2],fe.intensityBounds[1]*=U[2];(T<ne[0].shape[0]||T<ne[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ne[0].shape[0],0),this.dataScaleY=this.estimateScale(ne[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ne)),s.surfacecolor&&(fe.intensity=ne.pop());var oe=[!0,!0,!0],Y=["x","y","z"];for(N=0;N<3;++N){var ee=s.contours[Y[N]];oe[N]=ee.highlight,fe.showContour[N]=ee.show||ee.highlight,fe.showContour[N]&&(fe.contourProject[N]=[ee.project.x,ee.project.y,ee.project.z],ee.show?(this.showContour[N]=!0,fe.levels[N]=B[N],k.highlightColor[N]=fe.contourColor[N]=r(ee.color),ee.usecolormap?k.highlightTint[N]=fe.contourTint[N]=0:k.highlightTint[N]=fe.contourTint[N]=1,fe.contourWidth[N]=ee.width,this.contourStart[N]=ee.start,this.contourEnd[N]=ee.end,this.contourSize[N]=ee.size):(this.showContour[N]=!1,this.contourStart[N]=null,this.contourEnd[N]=null,this.contourSize[N]=0),ee.highlight&&(fe.dynamicColor[N]=r(ee.highlightcolor),fe.dynamicWidth[N]=ee.highlightwidth))}u(_)&&(fe.vertexColor=!0),fe.objectOffset=this.objectOffset,fe.coords=ne,k.update(fe),k.visible=s.visible,k.enableDynamic=oe,k.enableHighlight=oe,k.snapToData=!0,"lighting"in s&&(k.ambientLight=s.lighting.ambient,k.diffuseLight=s.lighting.diffuse,k.specularLight=s.lighting.specular,k.roughness=s.lighting.roughness,k.fresnel=s.lighting.fresnel),"lightposition"in s&&(k.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function b(s,L){var A=s.glplot.gl,k=g({gl:A}),_=new i(s,k,L.uid);return k._trace=_,_.update(L),s.glplot.add(k),_}H.exports=b},60192:function(H,j,e){var g=e(24040),P=e(3400),a=e(27260),x=e(16716),w=.1;function v(n,u){for(var f=[],l=32,y=0;y<l;y++){var h=y/(l-1),M=u+(1-u)*(1-Math.pow(Math.sin(n*h*Math.PI),2));f.push([h,Math.max(0,Math.min(1,M))])}return f}function p(n){var u=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var f=0;f<n.length;f++){var l=n[f];if(l.length!==2||+l[0]<u)return!1;u=+l[0]}return!0}function r(n,u,f,l){var y,h;function M(s,L){return P.coerce(n,u,x,s,L)}var c=M("x"),o=M("y"),d=M("z");if(!d||!d.length||c&&c.length<1||o&&o.length<1){u.visible=!1;return}u._xlength=Array.isArray(c)&&P.isArrayOrTypedArray(c[0])?d.length:d[0].length,u._ylength=d.length;var T=g.getComponentMethod("calendars","handleTraceDefaults");T(n,u,["x","y","z"],l),M("text"),M("hovertext"),M("hovertemplate"),M("xhoverformat"),M("yhoverformat"),M("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){M(s)});var S=M("surfacecolor"),C=["x","y","z"];for(y=0;y<3;++y){var m="contours."+C[y],E=M(m+".show"),b=M(m+".highlight");if(E||b)for(h=0;h<3;++h)M(m+".project."+C[h]);E&&(M(m+".color"),M(m+".width"),M(m+".usecolormap")),b&&(M(m+".highlightcolor"),M(m+".highlightwidth")),M(m+".start"),M(m+".end"),M(m+".size")}S||(i(n,"zmin","cmin"),i(n,"zmax","cmax"),i(n,"zauto","cauto")),a(n,u,l,M,{prefix:"",cLetter:"c"}),t(n,u,l,M),u._length=null}function t(n,u,f,l){var y=l("opacityscale");y==="max"?u.opacityscale=[[0,w],[1,1]]:y==="min"?u.opacityscale=[[0,1],[1,w]]:y==="extremes"?u.opacityscale=v(1,w):p(y)||(u.opacityscale=void 0)}function i(n,u,f){u in n&&!(f in n)&&(n[f]=n[u])}H.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(H,j,e){H.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(H,j,e){var g=e(13916),P=e(92880).extendFlat,a=e(67824).overrideAll,x=e(25376),w=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=H.exports=a({domain:w({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},x({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},x({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(H,j,e){var g=e(84888)._M,P=e(24752),a="table";j.name=a,j.plot=function(x){var w=g(x.calcdata,a)[0];w.length&&P(x,w)},j.clean=function(x,w,v,p){var r=p._has&&p._has(a),t=w._has&&w._has(a);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(H,j,e){var g=e(71688).wrap;H.exports=function(){return g({})}},23536:function(H){H.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(H,j,e){var g=e(23536),P=e(92880).extendFlat,a=e(38248),x=e(38116).isTypedArray,w=e(38116).isArrayOrTypedArray;H.exports=function(y,h){var M=r(h.cells.values),c=function(Q){return Q.slice(h.header.values.length,Q.length)},o=r(h.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var d=o.concat(c(M).map(function(){return t((o[0]||[""]).length)})),T=h.domain,S=Math.floor(y._fullLayout._size.w*(T.x[1]-T.x[0])),C=Math.floor(y._fullLayout._size.h*(T.y[1]-T.y[0])),m=h.header.values.length?d[0].map(function(){return h.header.height}):[g.emptyHeaderHeight],E=M.length?M[0].map(function(){return h.cells.height}):[],b=m.reduce(p,0),s=C-b,L=s+g.uplift,A=u(E,L),k=u(m,b),_=n(k,[]),U=n(A,_),F={},z=h._fullInput.columnorder;w(z)&&(z=Array.from(z)),z=z.concat(c(M.map(function(Q,re){return re})));var B=d.map(function(Q,re){var ne=w(h.columnwidth)?h.columnwidth[Math.min(re,h.columnwidth.length-1)]:h.columnwidth;return a(ne)?Number(ne):1}),N=B.reduce(p,0);B=B.map(function(Q){return Q/N*S});var V=Math.max(v(h.header.line.width),v(h.cells.line.width)),W={key:h.uid+y._context.staticPlot,translateX:T.x[0]*y._fullLayout._size.w,translateY:y._fullLayout._size.h*(1-T.y[1]),size:y._fullLayout._size,width:S,maxLineWidth:V,height:C,columnOrder:z,groupHeight:C,rowBlocks:U,headerRowBlocks:_,scrollY:0,cells:P({},h.cells,{values:M}),headerCells:P({},h.header,{values:d}),gdColumns:d.map(function(Q){return Q[0]}),gdColumnsOriginalOrder:d.map(function(Q){return Q[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(Q,re){var ne=F[Q];F[Q]=(ne||0)+1;var fe=Q+"__"+F[Q];return{key:fe,label:Q,specIndex:re,xIndex:z[re],xScale:i,x:void 0,calcdata:void 0,columnWidth:B[re]}})};return W.columns.forEach(function(Q){Q.calcdata=W,Q.x=i(Q)}),W};function v(l){if(w(l)){for(var y=0,h=0;h<l.length;h++)y=Math.max(y,v(l[h]));return y}return l}function p(l,y){return l+y}function r(l){var y=l.slice(),h=1/0,M=0,c;for(c=0;c<y.length;c++)x(y[c])?y[c]=Array.from(y[c]):w(y[c])||(y[c]=[y[c]]),h=Math.min(h,y[c].length),M=Math.max(M,y[c].length);if(h!==M)for(c=0;c<y.length;c++){var o=M-y[c].length;o&&(y[c]=y[c].concat(t(o)))}return y}function t(l){for(var y=new Array(l),h=0;h<l;h++)y[h]="";return y}function i(l){return l.calcdata.columns.reduce(function(y,h){return h.xIndex<l.xIndex?y+h.columnWidth:y},0)}function n(l,y){var h=Object.keys(l);return h.map(function(M){return P({},l[M],{auxiliaryBlocks:y})})}function u(l,y){for(var h={},M,c=0,o=0,d=f(),T=0,S=0,C=0;C<l.length;C++)M=l[C],d.rows.push({rowIndex:C,rowHeight:M}),o+=M,(o>=y||C===l.length-1)&&(h[c]=d,d.key=S++,d.firstRowIndex=T,d.lastRowIndex=C,d=f(),c+=o,T=C+1,o=0);return h}function f(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(H,j,e){var g=e(92880).extendFlat;j.splitToPanels=function(a){var x=[0,0],w=g({},a,{key:"header",type:"header",page:0,prevPages:x,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:g({},a.calcdata,{cells:a.calcdata.headerCells})}),v=g({},a,{key:"cells1",type:"cells",page:0,prevPages:x,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),p=g({},a,{key:"cells2",type:"cells",page:1,prevPages:x,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,p,w]},j.splitToCells=function(a){var x=P(a);return(a.values||[]).slice(x[0],x[1]).map(function(w,v){var p=typeof w=="string"&&w.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:x[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:w}})};function P(a){var x=a.rowBlocks[a.page],w=x?x.rows[0].rowIndex:0,v=x?w+x.rows.length:0;return[w,v]}},53212:function(H,j,e){var g=e(3400),P=e(60520),a=e(86968).Q;function x(w,v){for(var p=w.columnorder||[],r=w.header.values.length,t=p.slice(0,r),i=t.slice().sort(function(f,l){return f-l}),n=t.map(function(f){return i.indexOf(f)}),u=n.length;u<r;u++)n.push(u);v("columnorder",n)}H.exports=function(v,p,r,t){function i(n,u){return g.coerce(v,p,P,n,u)}a(p,t,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),g.coerceFont(i,"header.font",g.extendFlat({},t.font)),x(p,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),g.coerceFont(i,"cells.font",g.extendFlat({},t.font)),p._length=null}},41724:function(H,j,e){H.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(H,j,e){var g=e(23536),P=e(33428),a=e(3400),x=a.numberFormat,w=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,i=e(3400).cancelTransition,n=e(55992),u=e(53056),f=e(76308);H.exports=function(le,ie){var he=!le._context.staticPlot,ye=le._fullLayout._paper.selectAll("."+g.cn.table).data(ie.map(function(at){var We=w.unwrap(at),rt=We.trace;return n(le,rt)}),w.keyFun);ye.exit().remove(),ye.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ye.attr("width",function(at){return at.width+at.size.l+at.size.r}).attr("height",function(at){return at.height+at.size.t+at.size.b}).attr("transform",function(at){return t(at.translateX,at.translateY)});var Ce=ye.selectAll("."+g.cn.tableControlView).data(w.repeat,w.keyFun),Ae=Ce.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var ke="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(at){Ce.filter(function(We){return at===We}).call(c,le)}).on(ke,function(at){if(!at.scrollbarState.wheeling){at.scrollbarState.wheeling=!0;var We=at.scrollY+P.event.deltaY,rt=Q(le,Ce,null,We)(at);rt||(P.event.stopPropagation(),P.event.preventDefault()),at.scrollbarState.wheeling=!1}}).call(c,le,!0)}Ce.attr("transform",function(at){return t(at.size.l,at.size.t)});var we=Ce.selectAll("."+g.cn.scrollBackground).data(w.repeat,w.keyFun);we.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),we.attr("width",function(at){return at.width}).attr("height",function(at){return at.height}),Ce.each(function(at){v.setClipUrl(P.select(this),y(le,at),le)});var Ee=Ce.selectAll("."+g.cn.yColumn).data(function(at){return at.columns},w.keyFun);Ee.enter().append("g").classed(g.cn.yColumn,!0),Ee.exit().remove(),Ee.attr("transform",function(at){return t(at.x,0)}),he&&Ee.call(P.behavior.drag().origin(function(at){var We=P.select(this);return F(We,at,-g.uplift),r(this),at.calcdata.columnDragInProgress=!0,c(Ce.filter(function(rt){return at.calcdata.key===rt.key}),le),at}).on("drag",function(at){var We=P.select(this),rt=function(vt){return(at===vt?P.event.x:vt.x)+vt.columnWidth/2};at.x=Math.max(-g.overdrag,Math.min(at.calcdata.width+g.overdrag-at.columnWidth,P.event.x));var st=M(Ee).filter(function(vt){return vt.calcdata.key===at.calcdata.key}),ht=st.sort(function(vt,At){return rt(vt)-rt(At)});ht.forEach(function(vt,At){vt.xIndex=At,vt.x=at===vt?vt.x:vt.xScale(vt)}),Ee.filter(function(vt){return at!==vt}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(vt){return t(vt.x,0)}),We.call(i).attr("transform",t(at.x,-g.uplift))}).on("dragend",function(at){var We=P.select(this),rt=at.calcdata;at.x=at.xScale(at),at.calcdata.columnDragInProgress=!1,F(We,at,0),_(le,rt,rt.columns.map(function(st){return st.xIndex}))})),Ee.each(function(at){v.setClipUrl(P.select(this),h(le,at),le)});var xe=Ee.selectAll("."+g.cn.columnBlock).data(u.splitToPanels,w.keyFun);xe.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(at){return at.key}),xe.style("cursor",function(at){return at.dragHandle?"ew-resize":at.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Re=xe.filter(B),Ve=xe.filter(z);he&&Ve.call(P.behavior.drag().origin(function(at){return P.event.stopPropagation(),at}).on("drag",Q(le,Ce,-1)).on("dragend",function(){})),o(le,Ce,Re,xe),o(le,Ce,Ve,xe);var Ue=Ce.selectAll("."+g.cn.scrollAreaClip).data(w.repeat,w.keyFun);Ue.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(at){return y(le,at)});var Be=Ue.selectAll("."+g.cn.scrollAreaClipRect).data(w.repeat,w.keyFun);Be.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),Be.attr("width",function(at){return at.width+2*g.overdrag}).attr("height",function(at){return at.height+g.uplift});var Xe=Ee.selectAll("."+g.cn.columnBoundary).data(w.repeat,w.keyFun);Xe.enter().append("g").classed(g.cn.columnBoundary,!0);var ut=Ee.selectAll("."+g.cn.columnBoundaryClippath).data(w.repeat,w.keyFun);ut.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),ut.attr("id",function(at){return h(le,at)});var dt=ut.selectAll("."+g.cn.columnBoundaryRect).data(w.repeat,w.keyFun);dt.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),dt.attr("width",function(at){return at.columnWidth+2*l(at)}).attr("height",function(at){return at.calcdata.height+2*l(at)+g.uplift}).attr("x",function(at){return-l(at)}).attr("y",function(at){return-l(at)}),W(null,Ve,Ce)};function l(K){return Math.ceil(K.calcdata.maxLineWidth/2)}function y(K,le){return"clip"+K._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function h(K,le){return"clip"+K._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function M(K){return[].concat.apply([],K.map(function(le){return le})).map(function(le){return le.__data__})}function c(K,le,ie){function he(Ee){var xe=Ee.rowBlocks;return oe(xe,xe.length-1)+(xe.length?Y(xe[xe.length-1],1/0):1)}var ye=K.selectAll("."+g.cn.scrollbarKit).data(w.repeat,w.keyFun);ye.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ye.each(function(Ee){var xe=Ee.scrollbarState;xe.totalHeight=he(Ee),xe.scrollableAreaHeight=Ee.groupHeight-N(Ee),xe.currentlyVisibleHeight=Math.min(xe.totalHeight,xe.scrollableAreaHeight),xe.ratio=xe.currentlyVisibleHeight/xe.totalHeight,xe.barLength=Math.max(xe.ratio*xe.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),xe.barWiggleRoom=xe.currentlyVisibleHeight-xe.barLength,xe.wiggleRoom=Math.max(0,xe.totalHeight-xe.scrollableAreaHeight),xe.topY=xe.barWiggleRoom===0?0:Ee.scrollY/xe.wiggleRoom*xe.barWiggleRoom,xe.bottomY=xe.topY+xe.barLength,xe.dragMultiplier=xe.wiggleRoom/xe.barWiggleRoom}).attr("transform",function(Ee){var xe=Ee.width+g.scrollbarWidth/2+g.scrollbarOffset;return t(xe,N(Ee))});var Ce=ye.selectAll("."+g.cn.scrollbar).data(w.repeat,w.keyFun);Ce.enter().append("g").classed(g.cn.scrollbar,!0);var Ae=Ce.selectAll("."+g.cn.scrollbarSlider).data(w.repeat,w.keyFun);Ae.enter().append("g").classed(g.cn.scrollbarSlider,!0),Ae.attr("transform",function(Ee){return t(0,Ee.scrollbarState.topY||0)});var ke=Ae.selectAll("."+g.cn.scrollbarGlyph).data(w.repeat,w.keyFun);ke.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),ke.attr("y2",function(Ee){return Ee.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||ie?0:.4}),ke.transition().delay(0).duration(0),ke.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var we=Ce.selectAll("."+g.cn.scrollbarCaptureZone).data(w.repeat,w.keyFun);we.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ee){var xe=P.event.y,Re=this.getBoundingClientRect(),Ve=Ee.scrollbarState,Ue=xe-Re.top,Be=P.scale.linear().domain([0,Ve.scrollableAreaHeight]).range([0,Ve.totalHeight]).clamp(!0);Ve.topY<=Ue&&Ue<=Ve.bottomY||Q(le,K,null,Be(Ue-Ve.barLength/2))(Ee)}).call(P.behavior.drag().origin(function(Ee){return P.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee}).on("drag",Q(le,K)).on("dragend",function(){})),we.attr("y2",function(Ee){return Ee.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(ke.remove(),we.remove())}function o(K,le,ie,he){var ye=d(ie),Ce=T(ye);E(Ce);var Ae=S(Ce);s(Ae);var ke=m(Ce),we=C(ke);b(we),L(we,le,he,K),X(Ce)}function d(K){var le=K.selectAll("."+g.cn.columnCells).data(w.repeat,w.keyFun);return le.enter().append("g").classed(g.cn.columnCells,!0),le.exit().remove(),le}function T(K){var le=K.selectAll("."+g.cn.columnCell).data(u.splitToCells,function(ie){return ie.keyWithinBlock});return le.enter().append("g").classed(g.cn.columnCell,!0),le.exit().remove(),le}function S(K){var le=K.selectAll("."+g.cn.cellRect).data(w.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("rect").classed(g.cn.cellRect,!0),le}function C(K){var le=K.selectAll("."+g.cn.cellText).data(w.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),le}function m(K){var le=K.selectAll("."+g.cn.cellTextHolder).data(w.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}function E(K){K.each(function(le,ie){var he=le.calcdata.cells.font,ye=le.column.specIndex,Ce={size:U(he.size,ye,ie),color:U(he.color,ye,ie),family:U(he.family,ye,ie)};le.rowNumber=le.key,le.align=U(le.calcdata.cells.align,ye,ie),le.cellBorderWidth=U(le.calcdata.cells.line.width,ye,ie),le.font=Ce})}function b(K){K.each(function(le){v.font(P.select(this),le.font)})}function s(K){K.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var ie=P.select(this);f.stroke(ie,U(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),f.fill(ie,U(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}function L(K,le,ie,he){K.text(function(ye){var Ce=ye.column.specIndex,Ae=ye.rowNumber,ke=ye.value,we=typeof ke=="string",Ee=we&&ke.match(/<br>/i),xe=!we||Ee;ye.mayHaveMarkup=we&&ke.match(/[<&>]/);var Re=A(ke);ye.latex=Re;var Ve=Re?"":U(ye.calcdata.cells.prefix,Ce,Ae)||"",Ue=Re?"":U(ye.calcdata.cells.suffix,Ce,Ae)||"",Be=Re?null:U(ye.calcdata.cells.format,Ce,Ae)||null,Xe=Ve+(Be?x(Be)(ye.value):ye.value)+Ue,ut;ye.wrappingNeeded=!ye.wrapped&&!xe&&!Re&&(ut=k(Xe)),ye.cellHeightMayIncrease=Ee||Re||ye.mayHaveMarkup||(ut===void 0?k(Xe):ut),ye.needsConvertToTspans=ye.mayHaveMarkup||ye.wrappingNeeded||ye.latex;var dt;if(ye.wrappingNeeded){var at=g.wrapSplitCharacter===" "?Xe.replace(/<a href=/ig,"<a_href="):Xe,We=at.split(g.wrapSplitCharacter),rt=g.wrapSplitCharacter===" "?We.map(function(st){return st.replace(/<a_href=/ig,"<a href=")}):We;ye.fragments=rt.map(function(st){return{text:st,width:null}}),ye.fragments.push({fragment:g.wrapSpacer,width:null}),dt=rt.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete ye.fragments,dt=Xe;return dt}).attr("dy",function(ye){return ye.needsConvertToTspans?0:"0.75em"}).each(function(ye){var Ce=this,Ae=P.select(Ce),ke=ye.wrappingNeeded?ne:fe;ye.needsConvertToTspans?p.convertToTspans(Ae,he,ke(ie,Ce,le,he,ye)):P.select(Ce.parentNode).attr("transform",function(we){return t($(we),g.cellPad)}).attr("text-anchor",function(we){return{left:"start",center:"middle",right:"end"}[we.align]})})}function A(K){return typeof K=="string"&&K.match(g.latexCheck)}function k(K){return K.indexOf(g.wrapSplitCharacter)!==-1}function _(K,le,ie){var he=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(ye,Ce){return ie[he.indexOf(ye)]-ie[he.indexOf(Ce)]}),le.columnorder=ie,K.emit("plotly_restyle")}function U(K,le,ie){if(a.isArrayOrTypedArray(K)){var he=K[Math.min(le,K.length-1)];return a.isArrayOrTypedArray(he)?he[Math.min(ie,he.length-1)]:he}else return K}function F(K,le,ie){K.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",t(le.x,ie))}function z(K){return K.type==="cells"}function B(K){return K.type==="header"}function N(K){var le=K.rowBlocks.length?K.rowBlocks[0].auxiliaryBlocks:[];return le.reduce(function(ie,he){return ie+Y(he,1/0)},0)}function V(K,le,ie){for(var he=[],ye=0,Ce=0;Ce<K.length;Ce++){for(var Ae=K[Ce],ke=Ae.rows,we=0,Ee=0;Ee<ke.length;Ee++)we+=ke[Ee].rowHeight;Ae.allRowsHeight=we;var xe=ye+we,Re=le,Ve=Re+ie;Re<xe&&Ve>ye&&he.push(Ce),ye+=we}return he}function W(K,le,ie){var he=M(le)[0];if(he!==void 0){var ye=he.rowBlocks,Ce=he.calcdata,Ae=oe(ye,ye.length),ke=he.calcdata.groupHeight-N(he),we=Ce.scrollY=Math.max(0,Math.min(Ae-ke,Ce.scrollY)),Ee=V(ye,we,ke);Ee.length===1&&(Ee[0]===ye.length-1?Ee.unshift(Ee[0]-1):Ee.push(Ee[0]+1)),Ee[0]%2&&Ee.reverse(),le.each(function(xe,Re){xe.page=Ee[Re],xe.scrollY=we}),le.attr("transform",function(xe){var Re=oe(xe.rowBlocks,xe.page)-xe.scrollY;return t(0,Re)}),K&&(re(K,ie,le,Ee,he.prevPages,he,0),re(K,ie,le,Ee,he.prevPages,he,1),c(ie,K))}}function Q(K,le,ie,he){return function(Ce){var Ae=Ce.calcdata?Ce.calcdata:Ce,ke=le.filter(function(Re){return Ae.key===Re.key}),we=ie||Ae.scrollbarState.dragMultiplier,Ee=Ae.scrollY;Ae.scrollY=he===void 0?Ae.scrollY+we*P.event.dy:he;var xe=ke.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(z);return W(K,xe,ke),Ae.scrollY===Ee}}function re(K,le,ie,he,ye,Ce,Ae){var ke=he[Ae]!==ye[Ae];ke&&(clearTimeout(Ce.currentRepaint[Ae]),Ce.currentRepaint[Ae]=setTimeout(function(){var we=ie.filter(function(Ee,xe){return xe===Ae&&he[xe]!==ye[xe]});o(K,le,we,ie),ye[Ae]=he[Ae]}))}function ne(K,le,ie,he){return function(){var Ce=P.select(le.parentNode);Ce.each(function(Ae){var ke=Ae.fragments;Ce.selectAll("tspan.line").each(function(Xe,ut){ke[ut].width=this.getComputedTextLength()});var we=ke[ke.length-1].width,Ee=ke.slice(0,-1),xe=[],Re,Ve,Ue=0,Be=Ae.column.columnWidth-2*g.cellPad;for(Ae.value="";Ee.length;)Re=Ee.shift(),Ve=Re.width+we,Ue+Ve>Be&&(Ae.value+=xe.join(g.wrapSpacer)+g.lineBreaker,xe=[],Ue=0),xe.push(Re.text),Ue+=Ve;Ue&&(Ae.value+=xe.join(g.wrapSpacer)),Ae.wrapped=!0}),Ce.selectAll("tspan.line").remove(),L(Ce.select("."+g.cn.cellText),ie,K,he),P.select(le.parentNode.parentNode).call(X)}}function fe(K,le,ie,he,ye){return function(){if(!ye.settledY){var Ae=P.select(le.parentNode),ke=se(ye),we=ye.key-ke.firstRowIndex,Ee=ke.rows[we].rowHeight,xe=ye.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*g.cellPad:Ee,Re=Math.max(xe,Ee),Ve=Re-ke.rows[we].rowHeight;Ve&&(ke.rows[we].rowHeight=Re,K.selectAll("."+g.cn.columnCell).call(X),W(null,K.filter(z),0),c(ie,he,!0)),Ae.attr("transform",function(){var Ue=this,Be=Ue.parentNode,Xe=Be.getBoundingClientRect(),ut=P.select(Ue.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),dt=Ue.transform.baseVal.consolidate(),at=ut.top-Xe.top+(dt?dt.matrix.f:g.cellPad);return t($(ye,P.select(Ue.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),at)}),ye.settledY=!0}}}function $(K,le){switch(K.align){case"left":return g.cellPad;case"right":return K.column.columnWidth-(le||0)-g.cellPad;case"center":return(K.column.columnWidth-(le||0))/2;default:return g.cellPad}}function X(K){K.attr("transform",function(le){var ie=le.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,ke){return Ae+Y(ke,1/0)},0),he=se(le),ye=Y(he,le.key),Ce=ye+ie;return t(0,Ce)}).selectAll("."+g.cn.cellRect).attr("height",function(le){return q(se(le),le.key).rowHeight})}function oe(K,le){for(var ie=0,he=le-1;he>=0;he--)ie+=ee(K[he]);return ie}function Y(K,le){for(var ie=0,he=0;he<K.rows.length&&K.rows[he].rowIndex<le;he++)ie+=K.rows[he].rowHeight;return ie}function ee(K){var le=K.allRowsHeight;if(le!==void 0)return le;for(var ie=0,he=0;he<K.rows.length;he++)ie+=K.rows[he].rowHeight;return K.allRowsHeight=ie,ie}function se(K){return K.rowBlocks[K.page]}function q(K,le){return K.rows[le-K.firstRowIndex]}},40516:function(H,j,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(49084),x=e(86968).u,w=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},w.textfont,{}),editType:"calc"},text:w.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:p.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:r({},w.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:w.sort,root:v.root,domain:x({name:"treemap",trace:!0,editType:"calc"})}},79516:function(H,j,e){var g=e(7316);j.name="treemap",j.plot=function(P,a,x,w){g.plotBasePlot(j.name,P,a,x,w)},j.clean=function(P,a,x,w){g.cleanBasePlot(j.name,P,a,x,w)}},97840:function(H,j,e){var g=e(3776);j.r=function(P,a){return g.calc(P,a)},j.q=function(P){return g._runCrossTraceCalc("treemap",P)}},32984:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(H,j,e){var g=e(3400),P=e(40516),a=e(76308),x=e(86968).Q,w=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;H.exports=function(u,f,l,y){function h(s,L){return g.coerce(u,f,P,s,L)}var M=h("labels"),c=h("parents");if(!M||!M.length||!c||!c.length){f.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var T=h("text");h("texttemplate"),f.texttemplate||h("textinfo",g.isArrayOrTypedArray(T)?"text+label":"label"),h("hovertext"),h("hovertemplate");var S=h("pathbar.visible"),C="auto";w(u,f,y,h,C,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var m=f.textposition.indexOf("bottom")!==-1;p(u,f,y,h);var E=f._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;E?i(u,f,y,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(f.marker.colors||[]).length);var b=f.textfont.size*2;h("marker.pad.t",m?b/4:b),h("marker.pad.l",b/4),h("marker.pad.r",b/4),h("marker.pad.b",m?b:b/4),h("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:a.contrast(y.paper_bgcolor)}}},S&&(h("pathbar.thickness",f.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),x(f,y,h),f._length=null}},95808:function(H,j,e){var g=e(33428),P=e(78176),a=e(82744),x=a.clearMinTextSize,w=e(60100).resizeText,v=e(52960);H.exports=function(r,t,i,n,u){var f=u.type,l=u.drawDescendants,y=r._fullLayout,h=y["_"+f+"layer"],M,c,o=!i;if(x(f,y),M=h.selectAll("g.trace."+f).data(t,function(T){return T[0].trace.uid}),M.enter().append("g").classed("trace",!0).classed(f,!0),M.order(),!y.uniformtext.mode&&P.hasTransition(i)){n&&(c=n());var d=g.transition().duration(i.duration).ease(i.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(T){v(r,T,this,i,l)})})}else M.each(function(T){v(r,T,this,i,l)}),y.uniformtext.mode&&w(r,h.selectAll(".trace"),f);o&&M.exit().remove()}},27336:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=e(72736),w=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=!0;H.exports=function(u,f,l,y,h){var M=h.barDifY,c=h.width,o=h.height,d=h.viewX,T=h.viewY,S=h.pathSlice,C=h.toMoveInsideSlice,m=h.strTransform,E=h.hasTransition,b=h.handleSlicesExit,s=h.makeUpdateSliceInterpolator,L=h.makeUpdateTextInterpolator,A={},k=u._context.staticPlot,_=u._fullLayout,U=f[0],F=U.trace,z=U.hierarchy,B=c/F._entryDepth,N=r.listPath(l.data,"id"),V=w(z.copy(),[c,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();V=V.filter(function(Q){var re=N.indexOf(Q.data.id);return re===-1?!1:(Q.x0=B*re,Q.x1=B*(re+1),Q.y0=M,Q.y1=M+o,Q.onPathbar=!0,!0)}),V.reverse(),y=y.data(V,r.getPtId),y.enter().append("g").classed("pathbar",!0),b(y,i,A,[c,o],S),y.order();var W=y;E&&(W=W.transition().each("end",function(){var Q=g.select(this);r.setSliceCursor(Q,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(Q){Q._x0=d(Q.x0),Q._x1=d(Q.x1),Q._y0=T(Q.y0),Q._y1=T(Q.y1),Q._hoverX=d(Q.x1-Math.min(c,o)/2),Q._hoverY=T(Q.y1-o/2);var re=g.select(this),ne=P.ensureSingle(re,"path","surface",function(oe){oe.style("pointer-events",k?"none":"all")});E?ne.transition().attrTween("d",function(oe){var Y=s(oe,i,A,[c,o]);return function(ee){return S(Y(ee))}}):ne.attr("d",S),re.call(t,l,u,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:u._transitioning}),ne.call(v,Q,F,u,{hovered:!1}),Q._text=(r.getPtLabel(Q)||"").split("<br>").join(" ")||"";var fe=P.ensureSingle(re,"g","slicetext"),$=P.ensureSingle(fe,"text","",function(oe){oe.attr("data-notex",1)}),X=P.ensureUniformFontSize(u,r.determineTextFont(F,Q,_.font,{onPathbar:!0}));$.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,X).call(x.convertToTspans,u),Q.textBB=a.bBox($.node()),Q.transform=C(Q,{fontSize:X.size,onPathbar:!0}),Q.transform.fontSize=X.size,E?$.transition().attrTween("transform",function(oe){var Y=L(oe,i,A,[c,o]);return function(ee){return m(Y(ee))}}):$.attr("transform",m(Q))})}},76477:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=e(72736),w=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,n=!1;H.exports=function(f,l,y,h,M){var c=M.width,o=M.height,d=M.viewX,T=M.viewY,S=M.pathSlice,C=M.toMoveInsideSlice,m=M.strTransform,E=M.hasTransition,b=M.handleSlicesExit,s=M.makeUpdateSliceInterpolator,L=M.makeUpdateTextInterpolator,A=M.prevEntry,k={},_=f._context.staticPlot,U=f._fullLayout,F=l[0],z=F.trace,B=z.textposition.indexOf("left")!==-1,N=z.textposition.indexOf("right")!==-1,V=z.textposition.indexOf("bottom")!==-1,W=!V&&!z.marker.pad.t||V&&!z.marker.pad.b,Q=w(y,[c,o],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}),re=Q.descendants(),ne=1/0,fe=-1/0;re.forEach(function(ee){var se=ee.depth;se>=z._maxDepth?(ee.x0=ee.x1=(ee.x0+ee.x1)/2,ee.y0=ee.y1=(ee.y0+ee.y1)/2):(ne=Math.min(ne,se),fe=Math.max(fe,se))}),h=h.data(re,r.getPtId),z._maxVisibleLayers=isFinite(fe)?fe-ne+1:0,h.enter().append("g").classed("slice",!0),b(h,n,k,[c,o],S),h.order();var $=null;if(E&&A){var X=r.getPtId(A);h.each(function(ee){$===null&&r.getPtId(ee)===X&&($={x0:ee.x0,x1:ee.x1,y0:ee.y0,y1:ee.y1})})}var oe=function(){return $||{x0:0,x1:c,y0:0,y1:o}},Y=h;return E&&(Y=Y.transition().each("end",function(){var ee=g.select(this);r.setSliceCursor(ee,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(ee){var se=r.isHeader(ee,z);ee._x0=d(ee.x0),ee._x1=d(ee.x1),ee._y0=T(ee.y0),ee._y1=T(ee.y1),ee._hoverX=d(ee.x1-z.marker.pad.r),ee._hoverY=T(V?ee.y1-z.marker.pad.b/2:ee.y0+z.marker.pad.t/2);var q=g.select(this),K=P.ensureSingle(q,"path","surface",function(Ae){Ae.style("pointer-events",_?"none":"all")});E?K.transition().attrTween("d",function(Ae){var ke=s(Ae,n,oe(),[c,o]);return function(we){return S(ke(we))}}):K.attr("d",S),q.call(t,y,f,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),K.call(v,ee,z,f,{hovered:!1}),ee.x0===ee.x1||ee.y0===ee.y1?ee._text="":se?ee._text=W?"":r.getPtLabel(ee)||"":ee._text=i(ee,y,z,l,U)||"";var le=P.ensureSingle(q,"g","slicetext"),ie=P.ensureSingle(le,"text","",function(Ae){Ae.attr("data-notex",1)}),he=P.ensureUniformFontSize(f,r.determineTextFont(z,ee,U.font)),ye=ee._text||" ",Ce=se&&ye.indexOf("<br>")===-1;ie.text(ye).classed("slicetext",!0).attr("text-anchor",N?"end":B||Ce?"start":"middle").call(a.font,he).call(x.convertToTspans,f),ee.textBB=a.bBox(ie.node()),ee.transform=C(ee,{fontSize:he.size,isHeader:se}),ee.transform.fontSize=he.size,E?ie.transition().attrTween("transform",function(Ae){var ke=L(Ae,n,oe(),[c,o]);return function(we){return m(ke(we))}}):ie.attr("transform",m(ee))}),$}},83024:function(H){H.exports=function j(e,g,P){var a;P.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),P.flipX&&(a=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-a),P.flipY&&(a=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-a);var x=e.children;if(x)for(var w=0;w<x.length;w++)j(x[w],g,P)}},31991:function(H,j,e){H.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(H){H.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(H,j,e){var g=e(3400),P=e(45392);H.exports=function(x,w){function v(p,r){return g.coerce(x,w,P,p,r)}v("treemapcolorway",w.colorway),v("extendtreemapcolors")}},13832:function(H,j,e){var g=e(74148),P=e(83024);H.exports=function(w,v,p){var r=p.flipX,t=p.flipY,i=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],u=p.pad[r?"right":"left"],f=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],y;i&&(y=u,u=n,n=y,y=f,f=l,l=y);var h=g.treemap().tile(a(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(u).paddingRight(f).paddingTop(n).paddingBottom(l).size(i?[v[1],v[0]]:v)(w);return(i||r||t)&&P(h,v,{swapXY:i,flipX:r,flipY:t}),h};function a(x,w){switch(x){case"squarify":return g.treemapSquarify.ratio(w);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},53264:function(H,j,e){var g=e(95808),P=e(76477);H.exports=function(x,w,v,p){return g(x,w,v,p,{type:"treemap",drawDescendants:P})}},52960:function(H,j,e){var g=e(33428),P=e(67756).qy,a=e(78176),x=e(3400),w=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,i=e(32984),n=e(27336);function u(f){return a.isHierarchyRoot(f)?"":a.getPtId(f)}H.exports=function(l,y,h,M,c){var o=l._fullLayout,d=y[0],T=d.trace,S=T.type,C=S==="icicle",m=d.hierarchy,E=a.findEntryWithLevel(m,T.level),b=g.select(h),s=b.selectAll("g.pathbar"),L=b.selectAll("g.slice");if(!E){s.remove(),L.remove();return}var A=a.isHierarchyRoot(E),k=!o.uniformtext.mode&&a.hasTransition(M),_=a.getMaxDepth(T),U=function(_e){return _e.data.depth-E.data.depth<_},F=o._size,z=T.domain,B=F.w*(z.x[1]-z.x[0]),N=F.h*(z.y[1]-z.y[0]),V=B,W=T.pathbar.thickness,Q=T.marker.line.width+i.gapWithPathbar,re=T.pathbar.visible?T.pathbar.side.indexOf("bottom")>-1?N+Q:-(W+Q):0,ne={x0:V,x1:V,y0:re,y1:re+W},fe=function(_e,je,Ke){var He=T.tiling.pad,Ie=function(Te){return Te-He<=je.x0},be=function(Te){return Te+He>=je.x1},me=function(Te){return Te-He<=je.y0},Me=function(Te){return Te+He>=je.y1};return _e.x0===je.x0&&_e.x1===je.x1&&_e.y0===je.y0&&_e.y1===je.y1?{x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1}:{x0:Ie(_e.x0-He)?0:be(_e.x0-He)?Ke[0]:_e.x0,x1:Ie(_e.x1+He)?0:be(_e.x1+He)?Ke[0]:_e.x1,y0:me(_e.y0-He)?0:Me(_e.y0-He)?Ke[1]:_e.y0,y1:me(_e.y1+He)?0:Me(_e.y1+He)?Ke[1]:_e.y1}},$=null,X={},oe={},Y=null,ee=function(_e,je){return je?X[u(_e)]:oe[u(_e)]},se=function(_e,je,Ke,He){if(je)return X[u(m)]||ne;var Ie=oe[T.level]||Ke;return U(_e)?fe(_e,Ie,He):{}};d.hasMultipleRoots&&A&&_++,T._maxDepth=_,T._backgroundColor=o.paper_bgcolor,T._entryDepth=E.data.depth,T._atRootLevel=A;var q=-B/2+F.l+F.w*(z.x[1]+z.x[0])/2,K=-N/2+F.t+F.h*(1-(z.y[1]+z.y[0])/2),le=function(_e){return q+_e},ie=function(_e){return K+_e},he=ie(0),ye=le(0),Ce=function(_e){return ye+_e},Ae=function(_e){return he+_e};function ke(_e,je){return _e+","+je}var we=Ce(0),Ee=function(_e){_e.x=Math.max(we,_e.x)},xe=T.pathbar.edgeshape,Re=function(_e){var je=Ce(Math.max(Math.min(_e.x0,_e.x0),0)),Ke=Ce(Math.min(Math.max(_e.x1,_e.x1),V)),He=Ae(_e.y0),Ie=Ae(_e.y1),be=W/2,me={},Me={};me.x=je,Me.x=Ke,me.y=Me.y=(He+Ie)/2;var Te={x:je,y:He},ze={x:Ke,y:He},Je={x:Ke,y:Ie},nt={x:je,y:Ie};return xe===">"?(Te.x-=be,ze.x-=be,Je.x-=be,nt.x-=be):xe==="/"?(Je.x-=be,nt.x-=be,me.x-=be/2,Me.x-=be/2):xe==="\\"?(Te.x-=be,ze.x-=be,me.x-=be/2,Me.x-=be/2):xe==="<"&&(me.x-=be,Me.x-=be),Ee(Te),Ee(nt),Ee(me),Ee(ze),Ee(Je),Ee(Me),"M"+ke(Te.x,Te.y)+"L"+ke(ze.x,ze.y)+"L"+ke(Me.x,Me.y)+"L"+ke(Je.x,Je.y)+"L"+ke(nt.x,nt.y)+"L"+ke(me.x,me.y)+"Z"},Ve=T[C?"tiling":"marker"].pad,Ue=function(_e){return T.textposition.indexOf(_e)!==-1},Be=Ue("top"),Xe=Ue("left"),ut=Ue("right"),dt=Ue("bottom"),at=function(_e){var je=le(_e.x0),Ke=le(_e.x1),He=ie(_e.y0),Ie=ie(_e.y1),be=Ke-je,me=Ie-He;if(!be||!me)return"";var Me=T.marker.cornerradius||0,Te=Math.min(Me,be/2,me/2);Te&&_e.data&&_e.data.data&&_e.data.data.label&&(Be&&(Te=Math.min(Te,Ve.t)),Xe&&(Te=Math.min(Te,Ve.l)),ut&&(Te=Math.min(Te,Ve.r)),dt&&(Te=Math.min(Te,Ve.b)));var ze=function(Je,nt){return Te?"a"+ke(Te,Te)+" 0 0 1 "+ke(Je,nt):""};return"M"+ke(je,He+Te)+ze(Te,-Te)+"L"+ke(Ke-Te,He)+ze(Te,Te)+"L"+ke(Ke,Ie-Te)+ze(-Te,Te)+"L"+ke(je+Te,Ie)+ze(-Te,-Te)+"Z"},We=function(_e,je){var Ke=_e.x0,He=_e.x1,Ie=_e.y0,be=_e.y1,me=_e.textBB,Me=Be||je.isHeader&&!dt,Te=Me?"start":dt?"end":"middle",ze=Ue("right"),Je=Ue("left")||je.onPathbar,nt=Je?-1:ze?1:0;if(je.isHeader){if(Ke+=(C?Ve:Ve.l)-w,He-=(C?Ve:Ve.r)-w,Ke>=He){var pt=(Ke+He)/2;Ke=pt,He=pt}var yt;dt?(yt=be-(C?Ve:Ve.b),Ie<yt&&yt<be&&(Ie=yt)):(yt=Ie+(C?Ve:Ve.t),Ie<yt&&yt<be&&(be=yt))}var Yt=p(Ke,He,Ie,be,me,{isHorizontal:!1,constrained:!0,angle:0,anchor:Te,leftToRight:nt});return Yt.fontSize=je.fontSize,Yt.targetX=le(Yt.targetX),Yt.targetY=ie(Yt.targetY),isNaN(Yt.targetX)||isNaN(Yt.targetY)?{}:(Ke!==He&&Ie!==be&&t(T.type,Yt,o),{scale:Yt.scale,rotate:Yt.rotate,textX:Yt.textX,textY:Yt.textY,anchorX:Yt.anchorX,anchorY:Yt.anchorY,targetX:Yt.targetX,targetY:Yt.targetY})},rt=function(_e,je){for(var Ke,He=0,Ie=_e;!Ke&&He<_;)He++,Ie=Ie.parent,Ie?Ke=ee(Ie,je):He=_;return Ke||{}},st=function(_e,je,Ke,He){var Ie=ee(_e,je),be;if(je)be=ne;else{var me=ee(E,je);me?be=fe(_e,me,He):be={}}return P(Ie,be)},ht=function(_e,je,Ke,He,Ie){var be=ee(_e,je),me;if(be)me=be;else if(je)me=ne;else if($)if(_e.parent){var Me=Y||Ke;Me&&!je?me=fe(_e,Me,He):(me={},x.extendFlat(me,rt(_e,je)))}else me=x.extendFlat({},_e),C&&(Ie.orientation==="h"?Ie.flipX?me.x0=_e.x1:me.x1=0:Ie.flipY?me.y0=_e.y1:me.y1=0);else me={};return P(me,{x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1})},vt=function(_e,je,Ke,He){var Ie=ee(_e,je),be={},me=se(_e,je,Ke,He);x.extendFlat(be,{transform:We({x0:me.x0,x1:me.x1,y0:me.y0,y1:me.y1,textBB:_e.textBB,_text:_e._text},{isHeader:a.isHeader(_e,T)})}),Ie?be=Ie:_e.parent&&x.extendFlat(be,rt(_e,je));var Me=_e.transform;return _e.x0!==_e.x1&&_e.y0!==_e.y1&&t(T.type,Me,o),P(be,{transform:{scale:Me.scale,rotate:Me.rotate,textX:Me.textX,textY:Me.textY,anchorX:Me.anchorX,anchorY:Me.anchorY,targetX:Me.targetX,targetY:Me.targetY}})},At=function(_e,je,Ke,He,Ie){var be=He[0],me=He[1];k?_e.exit().transition().each(function(){var Me=g.select(this),Te=Me.select("path.surface");Te.transition().attrTween("d",function(Je){var nt=st(Je,je,Ke,[be,me]);return function(pt){return Ie(nt(pt))}});var ze=Me.select("g.slicetext");ze.attr("opacity",0)}).remove():_e.exit().remove()},tt=function(_e){var je=_e.transform;return _e.x0!==_e.x1&&_e.y0!==_e.y1&&t(T.type,je,o),x.getTextTransform({textX:je.textX,textY:je.textY,anchorX:je.anchorX,anchorY:je.anchorY,targetX:je.targetX,targetY:je.targetY,scale:je.scale,rotate:je.rotate})};k&&(s.each(function(_e){X[u(_e)]={x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1},_e.transform&&(X[u(_e)].transform={textX:_e.transform.textX,textY:_e.transform.textY,anchorX:_e.transform.anchorX,anchorY:_e.transform.anchorY,targetX:_e.transform.targetX,targetY:_e.transform.targetY,scale:_e.transform.scale,rotate:_e.transform.rotate})}),L.each(function(_e){oe[u(_e)]={x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1},_e.transform&&(oe[u(_e)].transform={textX:_e.transform.textX,textY:_e.transform.textY,anchorX:_e.transform.anchorX,anchorY:_e.transform.anchorY,targetX:_e.transform.targetX,targetY:_e.transform.targetY,scale:_e.transform.scale,rotate:_e.transform.rotate}),!$&&a.isEntry(_e)&&($=_e)})),Y=c(l,y,E,L,{width:B,height:N,viewX:le,viewY:ie,pathSlice:at,toMoveInsideSlice:We,prevEntry:$,makeUpdateSliceInterpolator:ht,makeUpdateTextInterpolator:vt,handleSlicesExit:At,hasTransition:k,strTransform:tt}),T.pathbar.visible?n(l,y,E,s,{barDifY:re,width:V,height:W,viewX:Ce,viewY:Ae,pathSlice:Re,toMoveInsideSlice:We,makeUpdateSliceInterpolator:ht,makeUpdateTextInterpolator:vt,handleSlicesExit:At,hasTransition:k,strTransform:tt}):s.remove()}},66192:function(H,j,e){var g=e(33428),P=e(76308),a=e(3400),x=e(78176),w=e(82744).resizeText,v=e(60404);function p(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");w(t,i,"treemap"),i.each(function(n){var u=g.select(this),f=n[0],l=f.trace;u.style("opacity",l.opacity),u.selectAll("path.surface").each(function(y){g.select(this).call(r,y,l,t,{hovered:!1})})})}function r(t,i,n,u,f){var l=(f||{}).hovered,y=i.data.data,h=y.i,M,c,o=y.color,d=x.isHierarchyRoot(i),T=1;if(l)M=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&o===n.root.color)T=100,M="rgba(0,0,0,0)",c=0;else if(M=a.castOption(n,h,"marker.line.color")||P.defaultLine,c=a.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var S=n.marker.depthfade;if(S){var C=P.combine(P.addOpacity(n._backgroundColor,.75),o),m;if(S===!0){var E=x.getMaxDepth(n);isFinite(E)?x.isLeaf(i)?m=0:m=n._maxVisibleLayers-(i.data.depth-n._entryDepth):m=i.data.height+1}else m=i.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var b=0;b<m;b++){var s=.5*b/m;o=P.combine(P.addOpacity(C,s),o)}}}t.call(v,i,n,u,o).style("stroke-width",c).call(P.stroke,M).style("opacity",T)}H.exports={style:p,styleOne:r}},13988:function(H,j,e){var g=e(63188),P=e(92880).extendFlat,a=e(29736).axisHoverFormat;H.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:P({},g.name,{}),orientation:P({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:P({},g.boxpoints,{}),jitter:P({},g.jitter,{}),pointpos:P({},g.pointpos,{}),width:P({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(H,j,e){var g=e(3400),P=e(54460),a=e(62555),x=e(63800),w=e(39032).BADNUM;H.exports=function(i,n){var u=a(i,n);if(u[0].t.empty)return u;for(var f=i._fullLayout,l=P.getFromId(i,n[n.orientation==="h"?"xaxis":"yaxis"]),y=1/0,h=-1/0,M=0,c=0,o=0;o<u.length;o++){var d=u[o],T=d.pts.map(x.extractVal),S=d.bandwidth=p(n,d,T),C=d.span=r(n,d,l,S);if(d.min===d.max&&S===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=S,M=Math.max(M,1);else{var m=C[1]-C[0],E=Math.ceil(m/(S/3)),b=m/E;if(!isFinite(b)||!isFinite(E))return g.error("Something went wrong with computing the violin span"),u[0].t.empty=!0,u;var s=x.makeKDE(d,n,T);d.density=new Array(E);for(var L=0,A=C[0];A<C[1]+b/2;L++,A+=b){var k=s(A);d.density[L]={v:k,t:A},M=Math.max(M,k)}}c=Math.max(c,T.length),y=Math.min(y,C[0]),h=Math.max(h,C[1])}var _=P.findExtremes(l,[y,h],{padded:!0});if(n._extremes[l._id]=_,n.width)u[0].t.maxKDE=M;else{var U=f._violinScaleGroupStats,F=n.scalegroup,z=U[F];z?(z.maxKDE=Math.max(z.maxKDE,M),z.maxCount=Math.max(z.maxCount,c)):U[F]={maxKDE:M,maxCount:c}}return u[0].t.labels.kde=g._(i,"kde:"),u};function v(t,i,n){var u=Math.min(i,n/1.349);return 1.059*u*Math.pow(t,-.2)}function p(t,i,n){var u=i.max-i.min;if(!u)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,u/1e4);var f=n.length,l=g.stdev(n,f-1,i.mean);return Math.max(v(f,l,i.q3-i.q1),u/100)}function r(t,i,n,u){var f=t.spanmode,l=t.span||[],y=[i.min,i.max],h=[i.min-2*u,i.max+2*u],M;function c(d){var T=l[d],S=n.type==="multicategory"?n.r2c(T):n.d2c(T,0,t[i.valLetter+"calendar"]);return S===w?h[d]:S}f==="soft"?M=h:f==="hard"?M=y:M=[c(0),c(1)];var o={type:"linear",range:M};return P.setConvert(o),o.cleanRange(),M}},14348:function(H,j,e){var g=e(96404).setPositionOffset,P=["v","h"];H.exports=function(x,w){for(var v=x.calcdata,p=w.xaxis,r=w.yaxis,t=0;t<P.length;t++){for(var i=P[t],n=i==="h"?r:p,u=[],f=0;f<v.length;f++){var l=v[f],y=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!y.empty&&h.orientation===i&&h.xaxis===p._id&&h.yaxis===r._id&&u.push(f)}g("violin",x,u,n)}}},36240:function(H,j,e){var g=e(3400),P=e(76308),a=e(90624),x=e(13988);H.exports=function(v,p,r,t){function i(b,s){return g.coerce(v,p,x,b,s)}function n(b,s){return g.coerce2(v,p,x,b,s)}if(a.handleSampleDefaults(v,p,i,t),p.visible!==!1){i("bandwidth"),i("side");var u=i("width");u||(i("scalegroup",p.name),i("scalemode"));var f=i("span"),l;Array.isArray(f)&&(l="manual"),i("spanmode",l);var y=i("line.color",(v.marker||{}).color||r),h=i("line.width"),M=i("fillcolor",P.addOpacity(p.line.color,.5));a.handlePointsDefaults(v,p,i,{prefix:""});var c=n("box.width"),o=n("box.fillcolor",M),d=n("box.line.color",y),T=n("box.line.width",h),S=i("box.visible",!!(c||o||d||T));S||(p.box={visible:!1});var C=n("meanline.color",y),m=n("meanline.width",h),E=i("meanline.visible",!!(C||m));E||(p.meanline={visible:!1}),i("quartilemethod")}}},63800:function(H,j,e){var g=e(3400),P={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};j.makeKDE=function(a,x,w){var v=w.length,p=P.gaussian,r=a.bandwidth,t=1/(v*r);return function(i){for(var n=0,u=0;u<v;u++)n+=p((i-w[u])/r);return t*n}},j.getPositionOnKdePath=function(a,x,w){var v,p;x.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=g.findPointOnPath(a.path,w,p,{pathLength:a.pathLength}),t=a.posCenterPx,i=r[v],n=x.side==="both"?2*t-i:t;return[i,n]},j.getKdeValue=function(a,x,w){var v=a.pts.map(j.extractVal),p=j.makeKDE(a,x,v);return p(w)/a.posDensityScale},j.extractVal=function(a){return a.v}},78e3:function(H,j,e){var g=e(76308),P=e(3400),a=e(54460),x=e(27576),w=e(63800);H.exports=function(p,r,t,i,n){n||(n={});var u=n.hoverLayer,f=p.cd,l=f[0].trace,y=l.hoveron,h=y.indexOf("violins")!==-1,M=y.indexOf("kde")!==-1,c=[],o,d;if(h||M){var T=x.hoverOnBoxes(p,r,t,i);if(M&&T.length>0){var S=p.xa,C=p.ya,m,E,b,s,L;l.orientation==="h"?(L=r,m="y",b=C,E="x",s=S):(L=t,m="x",b=S,E="y",s=C);var A=f[p.index];if(L>=A.span[0]&&L<=A.span[1]){var k=P.extendFlat({},p),_=s.c2p(L,!0),U=w.getKdeValue(A,l,L),F=w.getPositionOnKdePath(A,l,_),z=b._offset,B=b._length;k[m+"0"]=F[0],k[m+"1"]=F[1],k[E+"0"]=k[E+"1"]=_,k[E+"Label"]=E+": "+a.hoverLabelText(s,L,l[E+"hoverformat"])+", "+f[0].t.labels.kde+" "+U.toFixed(3);for(var N=0,V=0;V<T.length;V++)if(T[V].attr==="med"){N=V;break}k.spikeDistance=T[N].spikeDistance;var W=m+"Spike";k[W]=T[N][W],T[N].spikeDistance=void 0,T[N][W]=void 0,k.hovertemplate=!1,c.push(k),d={},d[m+"1"]=P.constrain(z+F[0],z,z+B),d[m+"2"]=P.constrain(z+F[1],z,z+B),d[E+"1"]=d[E+"2"]=s._offset+_}}h&&(c=c.concat(T))}y.indexOf("points")!==-1&&(o=x.hoverOnPoints(p,r,t));var Q=u.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return Q.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),Q.exit().remove(),Q.attr(d).call(g.stroke,p.color),i==="closest"?o?[o]:c:(o&&c.push(o),c)}},22869:function(H,j,e){H.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(H,j,e){var g=e(16560),P=e(3400).extendFlat;H.exports={violinmode:P({},g.boxmode,{}),violingap:P({},g.boxgap,{}),violingroupgap:P({},g.boxgroupgap,{})}},8939:function(H,j,e){var g=e(3400),P=e(98228),a=e(68832);H.exports=function(w,v,p){function r(t,i){return g.coerce(w,v,P,t,i)}a._supply(w,v,p,r,"violin")}},5140:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=e(18728),w=e(52340),v=e(63800);H.exports=function(r,t,i,n){var u=r._context.staticPlot,f=r._fullLayout,l=t.xaxis,y=t.yaxis;function h(M,c){var o=w(M,{xaxis:l,yaxis:y,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(o[0],1)}P.makeTraceGroups(n,i,"trace violins").each(function(M){var c=g.select(this),o=M[0],d=o.t,T=o.trace;if(T.visible!==!0||d.empty){c.remove();return}var S=d.bPos,C=d.bdPos,m=t[d.valLetter+"axis"],E=t[d.posLetter+"axis"],b=T.side==="both",s=b||T.side==="positive",L=b||T.side==="negative",A=c.selectAll("path.violin").data(P.identity);A.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","violin"),A.exit().remove(),A.each(function(V){var W=g.select(this),Q=V.density,re=Q.length,ne=E.c2l(V.pos+S,!0),fe=E.l2p(ne),$;if(T.width)$=d.maxKDE/C;else{var X=f._violinScaleGroupStats[T.scalegroup];$=T.scalemode==="count"?X.maxKDE/C*(X.maxCount/V.pts.length):X.maxKDE/C}var oe,Y,ee,se,q,K,le;if(s){for(K=new Array(re),se=0;se<re;se++)le=K[se]={},le[d.posLetter]=ne+Q[se].v/$,le[d.valLetter]=m.c2l(Q[se].t,!0);oe=h(K,T)}if(L){for(K=new Array(re),q=0,se=re-1;q<re;q++,se--)le=K[q]={},le[d.posLetter]=ne-Q[se].v/$,le[d.valLetter]=m.c2l(Q[se].t,!0);Y=h(K,T)}if(b)ee=oe+"L"+Y.substr(1)+"Z";else{var ie=[fe,m.c2p(Q[0].t)],he=[fe,m.c2p(Q[re-1].t)];T.orientation==="h"&&(ie.reverse(),he.reverse()),s?ee="M"+ie+"L"+oe.substr(1)+"L"+he:ee="M"+he+"L"+Y.substr(1)+"L"+ie}W.attr("d",ee),V.posCenterPx=fe,V.posDensityScale=$*C,V.path=W.node(),V.pathLength=V.path.getTotalLength()/(b?2:1)});var k=T.box,_=k.width,U=(k.line||{}).width,F,z;b?(F=C*_,z=0):s?(F=[0,C*_/2],z=U*{x:1,y:-1}[d.posLetter]):(F=[C*_/2,0],z=U*{x:-1,y:1}[d.posLetter]),x.plotBoxAndWhiskers(c,{pos:E,val:m},T,{bPos:S,bdPos:F,bPosPxOffset:z}),x.plotBoxMean(c,{pos:E,val:m},T,{bPos:S,bdPos:F,bPosPxOffset:z});var B;!T.box.visible&&T.meanline.visible&&(B=P.identity);var N=c.selectAll("path.meanline").data(B||[]);N.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",u?"none":"non-scaling-stroke"),N.exit().remove(),N.each(function(V){var W=m.c2p(V.mean,!0),Q=v.getPositionOnKdePath(V,T,W);g.select(this).attr("d",T.orientation==="h"?"M"+W+","+Q[0]+"V"+Q[1]:"M"+Q[0]+","+W+"H"+Q[1])}),x.plotPoints(c,{x:l,y},T,d)})}},95908:function(H,j,e){var g=e(33428),P=e(76308),a=e(49224).stylePoints;H.exports=function(w){var v=g.select(w).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=g.select(this),i=r.box||{},n=i.line||{},u=r.meanline||{},f=u.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,i.fillcolor);var l={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};t.selectAll("path.mean").style(l).call(P.stroke,u.color),t.selectAll("path.meanline").style(l).call(P.stroke,u.color),a(t,r,w)})}},58168:function(H,j,e){var g=e(49084),P=e(50048),a=e(16716),x=e(45464),w=e(92880).extendFlat,v=e(67824).overrideAll,p=H.exports=v(w({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:a.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:w({},x.hoverinfo),showlegend:w({},x.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(H,j,e){var g=e(67792).gl_mesh3d,P=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,x=e(43080),w=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(u,f,l){this.scene=u,this.uid=l,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(u){if(u.object===this.mesh){var f=u.data.index,l=this.data._meshX[f],y=this.data._meshY[f],h=this.data._meshZ[f],M=this.data._Ys.length,c=this.data._Zs.length,o=p(l,this.data._Xs).id,d=p(y,this.data._Ys).id,T=p(h,this.data._Zs).id,S=u.index=T+c*d+c*M*o;u.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var C=this.data.hovertext||this.data.text;return a(C)&&C[S]!==void 0?u.textLabel=C[S]:C&&(u.textLabel=C),!0}},i.update=function(u){var f=this.scene,l=f.fullSceneLayout;this.data=r(u);function y(d,T,S,C){return T.map(function(m){return d.d2l(m,0,C)*S})}var h=v(y(l.xaxis,u._meshX,f.dataScale[0],u.xcalendar),y(l.yaxis,u._meshY,f.dataScale[1],u.ycalendar),y(l.zaxis,u._meshZ,f.dataScale[2],u.zcalendar)),M=v(u._meshI,u._meshJ,u._meshK),c={positions:h,cells:M,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,opacityscale:u.opacityscale,contourEnable:u.contour.show,contourColor:x(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},o=w(u);c.vertexIntensity=u._meshIntensity,c.vertexIntensityBounds=[o.min,o.max],c.colormap=P(u),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(u,f){var l=u.glplot.gl,y=g({gl:l}),h=new t(u,y,f.uid);return y._trace=h,h.update(f),u.glplot.add(y),h}H.exports=n},12448:function(H,j,e){var g=e(3400),P=e(58168),a=e(70548).supplyIsoDefaults,x=e(60192).opacityscaleDefaults;H.exports=function(v,p,r,t){function i(n,u){return g.coerce(v,p,P,n,u)}a(v,p,r,t,i),x(v,p,t,i)}},67776:function(H,j,e){H.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(H,j,e){var g=e(20832),P=e(52904).line,a=e(45464),x=e(29736).axisHoverFormat,w=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function i(n){return{marker:{color:r({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}H.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),hovertext:g.hovertext,hovertemplate:w({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:i(),decreasing:i(),totals:i(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup}},73540:function(H,j,e){var g=e(54460),P=e(1220),a=e(3400).mergeArray,x=e(4500),w=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}H.exports=function(t,i){var n=g.getFromId(t,i.xaxis||"x"),u=g.getFromId(t,i.yaxis||"y"),f,l,y,h,M,c;i.orientation==="h"?(f=n.makeCalcdata(i,"x"),y=u.makeCalcdata(i,"y"),h=P(i,u,"y",y),M=!!i.yperiodalignment,c="y"):(f=u.makeCalcdata(i,"y"),y=n.makeCalcdata(i,"x"),h=P(i,n,"x",y),M=!!i.xperiodalignment,c="x"),l=h.vals;for(var o=Math.min(l.length,f.length),d=new Array(o),T=0,S,C=!1,m=0;m<o;m++){var E=f[m]||0,b=!1;(f[m]!==w||p(i.measure[m])||v(i.measure[m]))&&m+1<o&&(f[m+1]!==w||p(i.measure[m+1])||v(i.measure[m+1]))&&(b=!0);var s=d[m]={i:m,p:l[m],s:E,rawS:E,cNext:b};v(i.measure[m])?(T=s.s,s.isSum=!0,s.dir="totals",s.s=T):p(i.measure[m])?(s.isSum=!0,s.dir="totals",s.s=T):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",S=s.s,s.s=T+S,T+=S),s.dir==="totals"&&(C=!0),M&&(d[m].orig_p=y[m],d[m][c+"End"]=h.ends[m],d[m][c+"Start"]=h.starts[m]),i.ids&&(s.id=String(i.ids[m])),s.v=(i.base||0)+T}return d.length&&(d[0].hasTotals=C),a(i.text,d,"tx"),a(i.hovertext,d,"htx"),x(d,i),d}},10213:function(H){H.exports={eventDataKeys:["initial","delta","final"]}},50152:function(H,j,e){var g=e(96376).setGroupPositions;H.exports=function(a,x){var w=a._fullLayout,v=a._fullData,p=a.calcdata,r=x.xaxis,t=x.yaxis,i=[],n=[],u=[],f,l;for(l=0;l<v.length;l++){var y=v[l];y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="waterfall"&&(f=p[l],y.orientation==="h"?u.push(f):n.push(f),i.push(f))}var h={mode:w.waterfallmode,norm:w.waterfallnorm,gap:w.waterfallgap,groupgap:w.waterfallgroupgap};for(g(a,r,t,n,h),g(a,t,r,u,h),l=0;l<i.length;l++){f=i[l];for(var M=0;M<f.length;M++){var c=f[M];c.isSum===!1&&(c.s0+=M===0?0:f[M-1].s),M+1<f.length&&(f[M].nextP0=f[M+1].p0,f[M].nextS0=f[M+1].s0)}}}},24224:function(H,j,e){var g=e(3400),P=e(20011),a=e(31508).handleText,x=e(43980),w=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,i=r.DECREASING.COLOR,n="#4499FF";function u(y,h,M){y(h+".marker.color",M),y(h+".marker.line.color",p.defaultLine),y(h+".marker.line.width")}function f(y,h,M,c){function o(m,E){return g.coerce(y,h,v,m,E)}var d=x(y,h,c,o);if(!d){h.visible=!1;return}w(y,h,c,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var T=o("textposition");a(y,h,c,o,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),u(o,"increasing",t),u(o,"decreasing",i),u(o,"totals",n);var S=o("connector.visible");if(S){o("connector.mode");var C=o("connector.line.width");C&&(o("connector.line.color"),o("connector.line.dash"))}}function l(y,h){var M,c;function o(T){return g.coerce(c._input,c,v,T)}if(h.waterfallmode==="group")for(var d=0;d<y.length;d++)c=y[d],M=c._input,P(M,c,h,o)}H.exports={supplyDefaults:f,crossTraceDefaults:l}},53256:function(H){H.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},94196:function(H,j,e){var g=e(54460).hoverLabelText,P=e(76308).opacity,a=e(63400).hoverOnBars,x=e(48164),w={increasing:x.INCREASING.SYMBOL,decreasing:x.DECREASING.SYMBOL};H.exports=function(r,t,i,n,u){var f=a(r,t,i,n,u);if(!f)return;var l=f.cd,y=l[0].trace,h=y.orientation==="h",M=h?"x":"y",c=h?r.xa:r.ya;function o(A){return g(c,A,y[M+"hoverformat"])}var d=f.index,T=l[d],S=T.isSum?T.b+T.s:T.rawS;f.initial=T.b+T.s-S,f.delta=S,f.final=f.initial+f.delta;var C=o(Math.abs(f.delta));f.deltaLabel=S<0?"("+C+")":C,f.finalLabel=o(f.final),f.initialLabel=o(f.initial);var m=T.hi||y.hoverinfo,E=[];if(m&&m!=="none"&&m!=="skip"){var b=m==="all",s=m.split("+"),L=function(A){return b||s.indexOf(A)!==-1};T.isSum||(L("final")&&(h?!L("x"):!L("y"))&&E.push(f.finalLabel),L("delta")&&(S<0?E.push(f.deltaLabel+" "+w.decreasing):E.push(f.deltaLabel+" "+w.increasing)),L("initial")&&E.push("Initial: "+f.initialLabel))}return E.length&&(f.extraText=E.join("<br>")),f.color=v(y,T),[f]};function v(p,r){var t=p[r.dir].marker,i=t.color,n=t.line.color,u=t.line.width;if(P(i))return i;if(P(n)&&u)return n}},95952:function(H,j,e){H.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(H){H.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(H,j,e){var g=e(3400),P=e(91352);H.exports=function(a,x,w){var v=!1;function p(i,n){return g.coerce(a,x,P,i,n)}for(var r=0;r<w.length;r++){var t=w[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(H,j,e){var g=e(33428),P=e(3400),a=e(43616),x=e(39032).BADNUM,w=e(98184),v=e(82744).clearMinTextSize;H.exports=function(i,n,u,f){var l=i._fullLayout;v("waterfall",l),w.plot(i,n,u,f,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(i,n,u,f)};function p(t,i,n,u){var f=i.xaxis,l=i.yaxis;P.makeTraceGroups(u,n,"trace bars").each(function(y){var h=g.select(this),M=y[0].trace,c=P.ensureSingle(h,"g","lines");if(!M.connector||!M.connector.visible){c.remove();return}var o=M.orientation==="h",d=M.connector.mode,T=c.selectAll("g.line").data(P.identity);T.enter().append("g").classed("line",!0),T.exit().remove();var S=T.size();T.each(function(C,m){if(!(m!==S-1&&!C.cNext)){var E=r(C,f,l,o),b=E[0],s=E[1],L="";b[0]!==x&&s[0]!==x&&b[1]!==x&&s[1]!==x&&(d==="spanning"&&!C.isSum&&m>0&&(o?L+="M"+b[0]+","+s[1]+"V"+s[0]:L+="M"+b[1]+","+s[0]+"H"+b[0]),d!=="between"&&(C.isSum||m<S-1)&&(o?L+="M"+b[1]+","+s[0]+"V"+s[1]:L+="M"+b[0]+","+s[1]+"H"+b[1]),b[2]!==x&&s[2]!==x&&(o?L+="M"+b[1]+","+s[1]+"V"+s[2]:L+="M"+b[1]+","+s[1]+"H"+b[2])),L===""&&(L="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,i.layerClipId,t)}})})}function r(t,i,n,u){var f=[],l=[],y=u?i:n,h=u?n:i;return f[0]=y.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),f[1]=y.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),f[2]=y.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),u?[f,l]:[l,f]}},12252:function(H,j,e){var g=e(33428),P=e(43616),a=e(76308),x=e(13448).DESELECTDIM,w=e(60100),v=e(82744).resizeText,p=w.styleTextPoints;function r(t,i,n){var u=n||g.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");v(t,u,"waterfall"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var l=g.select(this),y=f[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var M=y[h.dir].marker;g.select(this).call(a.fill,M.color).call(a.stroke,M.line.color).call(P.dashLine,M.line.dash,M.line.width).style("opacity",y.selectedpoints&&!h.selected?x:1)}}),p(l,y,t),l.selectAll(".lines").each(function(){var h=y.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}H.exports={style:r}},84224:function(H,j,e){var g=e(54460),P=e(3400),a=e(73060),x=e(60468).W,w=e(39032).BADNUM;j.moduleType="transform",j.name="aggregate";var v=j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;j.supplyDefaults=function(f,l){var y={},h;function M(A,k){return P.coerce(f,y,v,A,k)}var c=M("enabled");if(!c)return y;var o=a.findArrayAttributes(l),d={};for(h=0;h<o.length;h++)d[o[h]]=1;var T=M("groups");if(!Array.isArray(T)){if(!d[T])return y.enabled=!1,y;d[T]=0}var S=f.aggregations||[],C=y.aggregations=new Array(S.length),m;function E(A,k){return P.coerce(S[h],m,p,A,k)}for(h=0;h<S.length;h++){m={_index:h};var b=E("target"),s=E("func"),L=E("enabled");L&&b&&(d[b]||s==="count"&&d[b]===void 0)?(s==="stddev"&&E("funcmode"),d[b]=0,C[h]=m):C[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)d[o[h]]&&C.push({target:o[h],func:p.func.dflt,enabled:!0,_index:-1});return y},j.calcTransform=function(f,l,y){if(y.enabled){var h=y.groups,M=P.getTargetArray(l,{target:h});if(M){var c,o,d,T,S={},C={},m=[],E=x(l.transforms,y),b=M.length;for(l._length&&(b=Math.min(b,l._length)),c=0;c<b;c++)o=M[c],d=S[o],d===void 0?(S[o]=m.length,T=[c],m.push(T),C[S[o]]=E(c)):(m[d].push(c),C[S[o]]=(C[S[o]]||[]).concat(E(c)));y._indexToPoints=C;var s=y.aggregations;for(c=0;c<s.length;c++)r(f,l,m,s[c]);typeof h=="string"&&r(f,l,m,{target:h,func:"first",enabled:!0}),l._length=m.length}}};function r(f,l,y,h){if(h.enabled){for(var M=h.target,c=P.nestedProperty(l,M),o=c.get(),d=g.getDataConversions(f,l,M,o),T=t(h,d),S=new Array(y.length),C=0;C<y.length;C++)S[C]=T(o,y[C]);c.set(S),h.func==="count"&&P.pushUnique(l._arrayAttrs,M)}}function t(f,l){var y=f.func,h=l.d2c,M=l.c2d;switch(y){case"count":return i;case"first":return n;case"last":return u;case"sum":return function(c,o){for(var d=0,T=0;T<o.length;T++){var S=h(c[o[T]]);S!==w&&(d+=S)}return M(d)};case"avg":return function(c,o){for(var d=0,T=0,S=0;S<o.length;S++){var C=h(c[o[S]]);C!==w&&(d+=C,T++)}return T?M(d/T):w};case"min":return function(c,o){for(var d=1/0,T=0;T<o.length;T++){var S=h(c[o[T]]);S!==w&&(d=Math.min(d,S))}return d===1/0?w:M(d)};case"max":return function(c,o){for(var d=-1/0,T=0;T<o.length;T++){var S=h(c[o[T]]);S!==w&&(d=Math.max(d,S))}return d===-1/0?w:M(d)};case"range":return function(c,o){for(var d=1/0,T=-1/0,S=0;S<o.length;S++){var C=h(c[o[S]]);C!==w&&(d=Math.min(d,C),T=Math.max(T,C))}return T===-1/0||d===1/0?w:M(T-d)};case"change":return function(c,o){var d=h(c[o[0]]),T=h(c[o[o.length-1]]);return d===w||T===w?w:M(T-d)};case"median":return function(c,o){for(var d=[],T=0;T<o.length;T++){var S=h(c[o[T]]);S!==w&&d.push(S)}if(!d.length)return w;d.sort(P.sorterAsc);var C=(d.length-1)/2;return M((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(c,o){for(var d={},T=0,S=w,C=0;C<o.length;C++){var m=h(c[o[C]]);if(m!==w){var E=d[m]=(d[m]||0)+1;E>T&&(T=E,S=m)}}return T?M(S):w};case"rms":return function(c,o){for(var d=0,T=0,S=0;S<o.length;S++){var C=h(c[o[S]]);C!==w&&(d+=C*C,T++)}return T?M(Math.sqrt(d/T)):w};case"stddev":return function(c,o){var d=0,T=0,S=1,C=w,m;for(m=0;m<o.length&&C===w;m++)C=h(c[o[m]]);if(C===w)return w;for(;m<o.length;m++){var E=h(c[o[m]]);if(E!==w){var b=E-C;d+=b,T+=b*b,S++}}var s=f.funcmode==="sample"?S-1:S;return s?Math.sqrt((T-d*d/S)/s):0}}}function i(f,l){return l.length}function n(f,l){return f[l[0]]}function u(f,l){return f[l[l.length-1]]}},76744:function(H,j,e){var g=e(3400),P=e(24040),a=e(54460),x=e(60468).W,w=e(69104),v=w.COMPARISON_OPS,p=w.INTERVAL_OPS,r=w.SET_OPS;j.moduleType="transform",j.name="filter",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},j.supplyDefaults=function(i){var n={};function u(h,M){return g.coerce(i,n,j.attributes,h,M)}var f=u("enabled");if(f){var l=u("target");if(g.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;u("preservegaps"),u("operation"),u("value");var y=P.getComponentMethod("calendars","handleDefaults");y(i,n,"valuecalendar",null),y(i,n,"targetcalendar",null)}return n},j.calcTransform=function(i,n,u){if(!u.enabled)return;var f=g.getTargetArray(n,u);if(!f)return;var l=u.target,y=f.length;n._length&&(y=Math.min(y,n._length));var h=u.targetcalendar,M=n._arrayAttrs,c=u.preservegaps;if(typeof l=="string"){var o=g.nestedProperty(n,l+"calendar").get();o&&(h=o)}var d=a.getDataToCoordFunc(i,n,l,f),T=t(u,d,h),S={},C={},m=0;function E(_,U){for(var F=0;F<M.length;F++){var z=g.nestedProperty(n,M[F]);_(z,U)}}var b,s;c?(b=function(_){S[_.astr]=g.extendDeep([],_.get()),_.set(new Array(y))},s=function(_,U){var F=S[_.astr][U];_.get()[U]=F}):(b=function(_){S[_.astr]=g.extendDeep([],_.get()),_.set([])},s=function(_,U){var F=S[_.astr][U];_.get().push(F)}),E(b);for(var L=x(n.transforms,u),A=0;A<y;A++){var k=T(f[A]);k?(E(s,A),C[m++]=L(A)):c&&m++}u._indexToPoints=C,n._length=m};function t(i,n,u){var f=i.operation,l=i.value,y=g.isArrayOrTypedArray(l);function h(d){return d.indexOf(f)!==-1}var M=function(d){return n(d,0,i.valuecalendar)},c=function(d){return n(d,0,u)},o;switch(h(v)?o=M(y?l[0]:l):h(p)?o=y?[M(l[0]),M(l[1])]:[M(l),M(l)]:h(r)&&(o=y?l.map(M):[M(l)]),f){case"=":return function(d){return c(d)===o};case"!=":return function(d){return c(d)!==o};case"<":return function(d){return c(d)<o};case"<=":return function(d){return c(d)<=o};case">":return function(d){return c(d)>o};case">=":return function(d){return c(d)>=o};case"[]":return function(d){var T=c(d);return T>=o[0]&&T<=o[1]};case"()":return function(d){var T=c(d);return T>o[0]&&T<o[1]};case"[)":return function(d){var T=c(d);return T>=o[0]&&T<o[1]};case"(]":return function(d){var T=c(d);return T>o[0]&&T<=o[1]};case"][":return function(d){var T=c(d);return T<=o[0]||T>=o[1]};case")(":return function(d){var T=c(d);return T<o[0]||T>o[1]};case"](":return function(d){var T=c(d);return T<=o[0]||T>o[1]};case")[":return function(d){var T=c(d);return T<o[0]||T>=o[1]};case"{}":return function(d){return o.indexOf(c(d))!==-1};case"}{":return function(d){return o.indexOf(c(d))===-1}}}},32028:function(H,j,e){var g=e(3400),P=e(73060),a=e(7316),x=e(60468).W;j.moduleType="transform",j.name="groupby",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},j.supplyDefaults=function(v,p,r){var t,i={};function n(M,c){return g.coerce(v,i,j.attributes,M,c)}var u=n("enabled");if(!u)return i;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var f=v.styles,l=i.styles=[];if(f)for(t=0;t<f.length;t++){var y=l[t]={};g.coerce(f[t],l[t],j.attributes.styles,"target");var h=g.coerce(f[t],l[t],j.attributes.styles,"value");g.isPlainObject(h)?y.value=g.extendDeep({},h):h&&delete y.value}return i},j.transform=function(v,p){var r,t,i,n=[];for(t=0;t<v.length;t++)for(r=w(v[t],p),i=0;i<r.length;i++)n.push(r[i]);return n};function w(v,p){var r,t,i,n,u,f,l,y,h,M,c=p.transform,o=p.transformIndex,d=v.transforms[o].groups,T=x(v.transforms,c);if(!g.isArrayOrTypedArray(d)||d.length===0)return[v];var S=g.filterUnique(d),C=new Array(S.length),m=d.length,E=P.findArrayAttributes(v),b=c.styles||[],s={};for(r=0;r<b.length;r++)s[b[r].target]=b[r].value;c.styles&&(M=g.keyedContainer(c,"styles","target","value.name"));var L={},A={};for(r=0;r<S.length;r++){f=S[r],L[f]=r,A[f]=0,l=C[r]=g.extendDeepNoArrays({},v),l._group=f,l.transforms[o]._indexToPoints={};var k=null;for(M&&(k=M.get(f)),k||k===""?l.name=k:l.name=g.templateString(c.nameformat,{trace:v.name,group:f}),y=l.transforms,l.transforms=[],t=0;t<y.length;t++)l.transforms[t]=g.extendDeepNoArrays({},y[t]);for(t=0;t<E.length;t++)g.nestedProperty(l,E[t]).set([])}for(i=0;i<E.length;i++){for(n=E[i],t=0,h=[];t<S.length;t++)h[t]=g.nestedProperty(C[t],n).get();for(u=g.nestedProperty(v,n).get(),t=0;t<m;t++)h[L[d[t]]].push(u[t])}for(t=0;t<m;t++){l=C[L[d[t]]];var _=l.transforms[o]._indexToPoints;_[A[d[t]]]=T(t),A[d[t]]++}for(r=0;r<S.length;r++)f=S[r],l=C[r],a.clearExpandedTraceDefaultColors(l),l=g.extendDeepNoArrays(l,s[f]||{});return C}},60468:function(H,j){j.W=function(e,g){for(var P,a,x=0;x<e.length&&(P=e[x],P!==g);x++)!P._indexToPoints||P.enabled===!1||(a=P._indexToPoints);var w=a?function(v){return a[v]}:function(v){return[v]};return w}},76272:function(H,j,e){var g=e(3400),P=e(54460),a=e(60468).W,x=e(39032).BADNUM;j.moduleType="transform",j.name="sort",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},j.supplyDefaults=function(p){var r={};function t(n,u){return g.coerce(p,r,j.attributes,n,u)}var i=t("enabled");return i&&(t("target"),t("order")),r},j.calcTransform=function(p,r,t){if(t.enabled){var i=g.getTargetArray(r,t);if(i){var n=t.target,u=i.length;r._length&&(u=Math.min(u,r._length));var f=r._arrayAttrs,l=P.getDataToCoordFunc(p,r,n,i),y=w(t,i,l,u),h=a(r.transforms,t),M={},c,o;for(c=0;c<f.length;c++){var d=g.nestedProperty(r,f[c]),T=d.get(),S=new Array(u);for(o=0;o<u;o++)S[o]=T[y[o]];d.set(S)}for(o=0;o<u;o++)M[o]=h(y[o]);t._indexToPoints=M,r._length=u}}};function w(p,r,t,i){var n=new Array(i),u=new Array(i),f;for(f=0;f<i;f++)n[f]={v:r[f],i:f};for(n.sort(v(p,t)),f=0;f<i;f++)u[f]=n[f].i;return u}function v(p,r){switch(p.order){case"ascending":return function(t,i){var n=r(t.v),u=r(i.v);return n===x?1:u===x?-1:n-u};case"descending":return function(t,i){var n=r(t.v),u=r(i.v);return n===x?1:u===x?-1:u-n}}}},25788:function(H,j){j.version="2.30.1"},67792:function(H,j,e){var g=e(4168);(function(a,x){H.exports=x()})(self,function(){return function(){var P={7386:function(v,p,r){v.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(be,me){if(!(be instanceof me))throw new TypeError("Cannot call a class as a function")}function i(be,me){for(var Me=0;Me<me.length;Me++){var Te=me[Me];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(be,Te.key,Te)}}function n(be,me,Me){return me&&i(be.prototype,me),Me&&i(be,Me),Object.defineProperty(be,"prototype",{writable:!1}),be}function u(be,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(me&&me.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),me&&f(be,me)}function f(be,me){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,ze){return Te.__proto__=ze,Te},f(be,me)}function l(be){var me=M();return function(){var Te=c(be),ze;if(me){var Je=c(this).constructor;ze=Reflect.construct(Te,arguments,Je)}else ze=Te.apply(this,arguments);return y(this,ze)}}function y(be,me){if(me&&(o(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(be)}function h(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(be){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},c(be)}function o(be){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},o(be)}var d=r(3910),T=r(3187),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=b,p.h2=50;var C=2147483647;b.TYPED_ARRAY_SUPPORT=m(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{var be=new Uint8Array(1),me={foo:function(){return 42}};return Object.setPrototypeOf(me,Uint8Array.prototype),Object.setPrototypeOf(be,me),be.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function E(be){if(be>C)throw new RangeError('The value "'+be+'" is invalid for option "size"');var me=new Uint8Array(be);return Object.setPrototypeOf(me,b.prototype),me}function b(be,me,Me){if(typeof be=="number"){if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(be)}return s(be,me,Me)}b.poolSize=8192;function s(be,me,Me){if(typeof be=="string")return _(be,me);if(ArrayBuffer.isView(be))return F(be);if(be==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(be));if(_e(be,ArrayBuffer)||be&&_e(be.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(be,SharedArrayBuffer)||be&&_e(be.buffer,SharedArrayBuffer)))return z(be,me,Me);if(typeof be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Te=be.valueOf&&be.valueOf();if(Te!=null&&Te!==be)return b.from(Te,me,Me);var ze=B(be);if(ze)return ze;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof be[Symbol.toPrimitive]=="function")return b.from(be[Symbol.toPrimitive]("string"),me,Me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(be))}b.from=function(be,me,Me){return s(be,me,Me)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function L(be){if(typeof be!="number")throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function A(be,me,Me){return L(be),be<=0?E(be):me!==void 0?typeof Me=="string"?E(be).fill(me,Me):E(be).fill(me):E(be)}b.alloc=function(be,me,Me){return A(be,me,Me)};function k(be){return L(be),E(be<0?0:N(be)|0)}b.allocUnsafe=function(be){return k(be)},b.allocUnsafeSlow=function(be){return k(be)};function _(be,me){if((typeof me!="string"||me==="")&&(me="utf8"),!b.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Me=V(be,me)|0,Te=E(Me),ze=Te.write(be,me);return ze!==Me&&(Te=Te.slice(0,ze)),Te}function U(be){for(var me=be.length<0?0:N(be.length)|0,Me=E(me),Te=0;Te<me;Te+=1)Me[Te]=be[Te]&255;return Me}function F(be){if(_e(be,Uint8Array)){var me=new Uint8Array(be);return z(me.buffer,me.byteOffset,me.byteLength)}return U(be)}function z(be,me,Me){if(me<0||be.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<me+(Me||0))throw new RangeError('"length" is outside of buffer bounds');var Te;return me===void 0&&Me===void 0?Te=new Uint8Array(be):Me===void 0?Te=new Uint8Array(be,me):Te=new Uint8Array(be,me,Me),Object.setPrototypeOf(Te,b.prototype),Te}function B(be){if(b.isBuffer(be)){var me=N(be.length)|0,Me=E(me);return Me.length===0||be.copy(Me,0,0,me),Me}if(be.length!==void 0)return typeof be.length!="number"||je(be.length)?E(0):U(be);if(be.type==="Buffer"&&Array.isArray(be.data))return U(be.data)}function N(be){if(be>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return be|0}b.isBuffer=function(me){return me!=null&&me._isBuffer===!0&&me!==b.prototype},b.compare=function(me,Me){if(_e(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),_e(Me,Uint8Array)&&(Me=b.from(Me,Me.offset,Me.byteLength)),!b.isBuffer(me)||!b.isBuffer(Me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===Me)return 0;for(var Te=me.length,ze=Me.length,Je=0,nt=Math.min(Te,ze);Je<nt;++Je)if(me[Je]!==Me[Je]){Te=me[Je],ze=Me[Je];break}return Te<ze?-1:ze<Te?1:0},b.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(me,Me){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(me.length===0)return b.alloc(0);var Te;if(Me===void 0)for(Me=0,Te=0;Te<me.length;++Te)Me+=me[Te].length;var ze=b.allocUnsafe(Me),Je=0;for(Te=0;Te<me.length;++Te){var nt=me[Te];if(_e(nt,Uint8Array))Je+nt.length>ze.length?(b.isBuffer(nt)||(nt=b.from(nt)),nt.copy(ze,Je)):Uint8Array.prototype.set.call(ze,nt,Je);else if(b.isBuffer(nt))nt.copy(ze,Je);else throw new TypeError('"list" argument must be an Array of Buffers');Je+=nt.length}return ze};function V(be,me){if(b.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||_e(be,ArrayBuffer))return be.byteLength;if(typeof be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(be));var Me=be.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&Me===0)return 0;for(var ze=!1;;)switch(me){case"ascii":case"latin1":case"binary":return Me;case"utf8":case"utf-8":return st(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me*2;case"hex":return Me>>>1;case"base64":return At(be).length;default:if(ze)return Te?-1:st(be).length;me=(""+me).toLowerCase(),ze=!0}}b.byteLength=V;function W(be,me,Me){var Te=!1;if((me===void 0||me<0)&&(me=0),me>this.length||((Me===void 0||Me>this.length)&&(Me=this.length),Me<=0)||(Me>>>=0,me>>>=0,Me<=me))return"";for(be||(be="utf8");;)switch(be){case"hex":return he(this,me,Me);case"utf8":case"utf-8":return se(this,me,Me);case"ascii":return le(this,me,Me);case"latin1":case"binary":return ie(this,me,Me);case"base64":return ee(this,me,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,me,Me);default:if(Te)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),Te=!0}}b.prototype._isBuffer=!0;function Q(be,me,Me){var Te=be[me];be[me]=be[Me],be[Me]=Te}b.prototype.swap16=function(){var me=this.length;if(me%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Me=0;Me<me;Me+=2)Q(this,Me,Me+1);return this},b.prototype.swap32=function(){var me=this.length;if(me%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Me=0;Me<me;Me+=4)Q(this,Me,Me+3),Q(this,Me+1,Me+2);return this},b.prototype.swap64=function(){var me=this.length;if(me%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Me=0;Me<me;Me+=8)Q(this,Me,Me+7),Q(this,Me+1,Me+6),Q(this,Me+2,Me+5),Q(this,Me+3,Me+4);return this},b.prototype.toString=function(){var me=this.length;return me===0?"":arguments.length===0?se(this,0,me):W.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(me){if(!b.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me?!0:b.compare(this,me)===0},b.prototype.inspect=function(){var me="",Me=p.h2;return me=this.toString("hex",0,Me).replace(/(.{2})/g,"$1 ").trim(),this.length>Me&&(me+=" ... "),"<Buffer "+me+">"},S&&(b.prototype[S]=b.prototype.inspect),b.prototype.compare=function(me,Me,Te,ze,Je){if(_e(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),!b.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(me));if(Me===void 0&&(Me=0),Te===void 0&&(Te=me?me.length:0),ze===void 0&&(ze=0),Je===void 0&&(Je=this.length),Me<0||Te>me.length||ze<0||Je>this.length)throw new RangeError("out of range index");if(ze>=Je&&Me>=Te)return 0;if(ze>=Je)return-1;if(Me>=Te)return 1;if(Me>>>=0,Te>>>=0,ze>>>=0,Je>>>=0,this===me)return 0;for(var nt=Je-ze,pt=Te-Me,yt=Math.min(nt,pt),Yt=this.slice(ze,Je),Xt=me.slice(Me,Te),St=0;St<yt;++St)if(Yt[St]!==Xt[St]){nt=Yt[St],pt=Xt[St];break}return nt<pt?-1:pt<nt?1:0};function re(be,me,Me,Te,ze){if(be.length===0)return-1;if(typeof Me=="string"?(Te=Me,Me=0):Me>2147483647?Me=2147483647:Me<-2147483648&&(Me=-2147483648),Me=+Me,je(Me)&&(Me=ze?0:be.length-1),Me<0&&(Me=be.length+Me),Me>=be.length){if(ze)return-1;Me=be.length-1}else if(Me<0)if(ze)Me=0;else return-1;if(typeof me=="string"&&(me=b.from(me,Te)),b.isBuffer(me))return me.length===0?-1:ne(be,me,Me,Te,ze);if(typeof me=="number")return me=me&255,typeof Uint8Array.prototype.indexOf=="function"?ze?Uint8Array.prototype.indexOf.call(be,me,Me):Uint8Array.prototype.lastIndexOf.call(be,me,Me):ne(be,[me],Me,Te,ze);throw new TypeError("val must be string, number or Buffer")}function ne(be,me,Me,Te,ze){var Je=1,nt=be.length,pt=me.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(be.length<2||me.length<2)return-1;Je=2,nt/=2,pt/=2,Me/=2}function yt(Kt,mr){return Je===1?Kt[mr]:Kt.readUInt16BE(mr*Je)}var Yt;if(ze){var Xt=-1;for(Yt=Me;Yt<nt;Yt++)if(yt(be,Yt)===yt(me,Xt===-1?0:Yt-Xt)){if(Xt===-1&&(Xt=Yt),Yt-Xt+1===pt)return Xt*Je}else Xt!==-1&&(Yt-=Yt-Xt),Xt=-1}else for(Me+pt>nt&&(Me=nt-pt),Yt=Me;Yt>=0;Yt--){for(var St=!0,kt=0;kt<pt;kt++)if(yt(be,Yt+kt)!==yt(me,kt)){St=!1;break}if(St)return Yt}return-1}b.prototype.includes=function(me,Me,Te){return this.indexOf(me,Me,Te)!==-1},b.prototype.indexOf=function(me,Me,Te){return re(this,me,Me,Te,!0)},b.prototype.lastIndexOf=function(me,Me,Te){return re(this,me,Me,Te,!1)};function fe(be,me,Me,Te){Me=Number(Me)||0;var ze=be.length-Me;Te?(Te=Number(Te),Te>ze&&(Te=ze)):Te=ze;var Je=me.length;Te>Je/2&&(Te=Je/2);var nt;for(nt=0;nt<Te;++nt){var pt=parseInt(me.substr(nt*2,2),16);if(je(pt))return nt;be[Me+nt]=pt}return nt}function $(be,me,Me,Te){return tt(st(me,be.length-Me),be,Me,Te)}function X(be,me,Me,Te){return tt(ht(me),be,Me,Te)}function oe(be,me,Me,Te){return tt(At(me),be,Me,Te)}function Y(be,me,Me,Te){return tt(vt(me,be.length-Me),be,Me,Te)}b.prototype.write=function(me,Me,Te,ze){if(Me===void 0)ze="utf8",Te=this.length,Me=0;else if(Te===void 0&&typeof Me=="string")ze=Me,Te=this.length,Me=0;else if(isFinite(Me))Me=Me>>>0,isFinite(Te)?(Te=Te>>>0,ze===void 0&&(ze="utf8")):(ze=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Je=this.length-Me;if((Te===void 0||Te>Je)&&(Te=Je),me.length>0&&(Te<0||Me<0)||Me>this.length)throw new RangeError("Attempt to write outside buffer bounds");ze||(ze="utf8");for(var nt=!1;;)switch(ze){case"hex":return fe(this,me,Me,Te);case"utf8":case"utf-8":return $(this,me,Me,Te);case"ascii":case"latin1":case"binary":return X(this,me,Me,Te);case"base64":return oe(this,me,Me,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,me,Me,Te);default:if(nt)throw new TypeError("Unknown encoding: "+ze);ze=(""+ze).toLowerCase(),nt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(be,me,Me){return me===0&&Me===be.length?d.fromByteArray(be):d.fromByteArray(be.slice(me,Me))}function se(be,me,Me){Me=Math.min(be.length,Me);for(var Te=[],ze=me;ze<Me;){var Je=be[ze],nt=null,pt=Je>239?4:Je>223?3:Je>191?2:1;if(ze+pt<=Me){var yt=void 0,Yt=void 0,Xt=void 0,St=void 0;switch(pt){case 1:Je<128&&(nt=Je);break;case 2:yt=be[ze+1],(yt&192)===128&&(St=(Je&31)<<6|yt&63,St>127&&(nt=St));break;case 3:yt=be[ze+1],Yt=be[ze+2],(yt&192)===128&&(Yt&192)===128&&(St=(Je&15)<<12|(yt&63)<<6|Yt&63,St>2047&&(St<55296||St>57343)&&(nt=St));break;case 4:yt=be[ze+1],Yt=be[ze+2],Xt=be[ze+3],(yt&192)===128&&(Yt&192)===128&&(Xt&192)===128&&(St=(Je&15)<<18|(yt&63)<<12|(Yt&63)<<6|Xt&63,St>65535&&St<1114112&&(nt=St))}}nt===null?(nt=65533,pt=1):nt>65535&&(nt-=65536,Te.push(nt>>>10&1023|55296),nt=56320|nt&1023),Te.push(nt),ze+=pt}return K(Te)}var q=4096;function K(be){var me=be.length;if(me<=q)return String.fromCharCode.apply(String,be);for(var Me="",Te=0;Te<me;)Me+=String.fromCharCode.apply(String,be.slice(Te,Te+=q));return Me}function le(be,me,Me){var Te="";Me=Math.min(be.length,Me);for(var ze=me;ze<Me;++ze)Te+=String.fromCharCode(be[ze]&127);return Te}function ie(be,me,Me){var Te="";Me=Math.min(be.length,Me);for(var ze=me;ze<Me;++ze)Te+=String.fromCharCode(be[ze]);return Te}function he(be,me,Me){var Te=be.length;(!me||me<0)&&(me=0),(!Me||Me<0||Me>Te)&&(Me=Te);for(var ze="",Je=me;Je<Me;++Je)ze+=Ke[be[Je]];return ze}function ye(be,me,Me){for(var Te=be.slice(me,Me),ze="",Je=0;Je<Te.length-1;Je+=2)ze+=String.fromCharCode(Te[Je]+Te[Je+1]*256);return ze}b.prototype.slice=function(me,Me){var Te=this.length;me=~~me,Me=Me===void 0?Te:~~Me,me<0?(me+=Te,me<0&&(me=0)):me>Te&&(me=Te),Me<0?(Me+=Te,Me<0&&(Me=0)):Me>Te&&(Me=Te),Me<me&&(Me=me);var ze=this.subarray(me,Me);return Object.setPrototypeOf(ze,b.prototype),ze};function Ce(be,me,Me){if(be%1!==0||be<0)throw new RangeError("offset is not uint");if(be+me>Me)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(me,Me,Te){me=me>>>0,Me=Me>>>0,Te||Ce(me,Me,this.length);for(var ze=this[me],Je=1,nt=0;++nt<Me&&(Je*=256);)ze+=this[me+nt]*Je;return ze},b.prototype.readUintBE=b.prototype.readUIntBE=function(me,Me,Te){me=me>>>0,Me=Me>>>0,Te||Ce(me,Me,this.length);for(var ze=this[me+--Me],Je=1;Me>0&&(Je*=256);)ze+=this[me+--Me]*Je;return ze},b.prototype.readUint8=b.prototype.readUInt8=function(me,Me){return me=me>>>0,Me||Ce(me,1,this.length),this[me]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(me,Me){return me=me>>>0,Me||Ce(me,2,this.length),this[me]|this[me+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(me,Me){return me=me>>>0,Me||Ce(me,2,this.length),this[me]<<8|this[me+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+this[me+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),this[me]*16777216+(this[me+1]<<16|this[me+2]<<8|this[me+3])},b.prototype.readBigUInt64LE=He(function(me){me=me>>>0,dt(me,"offset");var Me=this[me],Te=this[me+7];(Me===void 0||Te===void 0)&&at(me,this.length-8);var ze=Me+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24),Je=this[++me]+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+Te*Math.pow(2,24);return BigInt(ze)+(BigInt(Je)<<BigInt(32))}),b.prototype.readBigUInt64BE=He(function(me){me=me>>>0,dt(me,"offset");var Me=this[me],Te=this[me+7];(Me===void 0||Te===void 0)&&at(me,this.length-8);var ze=Me*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me],Je=this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Te;return(BigInt(ze)<<BigInt(32))+BigInt(Je)}),b.prototype.readIntLE=function(me,Me,Te){me=me>>>0,Me=Me>>>0,Te||Ce(me,Me,this.length);for(var ze=this[me],Je=1,nt=0;++nt<Me&&(Je*=256);)ze+=this[me+nt]*Je;return Je*=128,ze>=Je&&(ze-=Math.pow(2,8*Me)),ze},b.prototype.readIntBE=function(me,Me,Te){me=me>>>0,Me=Me>>>0,Te||Ce(me,Me,this.length);for(var ze=Me,Je=1,nt=this[me+--ze];ze>0&&(Je*=256);)nt+=this[me+--ze]*Je;return Je*=128,nt>=Je&&(nt-=Math.pow(2,8*Me)),nt},b.prototype.readInt8=function(me,Me){return me=me>>>0,Me||Ce(me,1,this.length),this[me]&128?(255-this[me]+1)*-1:this[me]},b.prototype.readInt16LE=function(me,Me){me=me>>>0,Me||Ce(me,2,this.length);var Te=this[me]|this[me+1]<<8;return Te&32768?Te|4294901760:Te},b.prototype.readInt16BE=function(me,Me){me=me>>>0,Me||Ce(me,2,this.length);var Te=this[me+1]|this[me]<<8;return Te&32768?Te|4294901760:Te},b.prototype.readInt32LE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},b.prototype.readInt32BE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},b.prototype.readBigInt64LE=He(function(me){me=me>>>0,dt(me,"offset");var Me=this[me],Te=this[me+7];(Me===void 0||Te===void 0)&&at(me,this.length-8);var ze=this[me+4]+this[me+5]*Math.pow(2,8)+this[me+6]*Math.pow(2,16)+(Te<<24);return(BigInt(ze)<<BigInt(32))+BigInt(Me+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24))}),b.prototype.readBigInt64BE=He(function(me){me=me>>>0,dt(me,"offset");var Me=this[me],Te=this[me+7];(Me===void 0||Te===void 0)&&at(me,this.length-8);var ze=(Me<<24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me];return(BigInt(ze)<<BigInt(32))+BigInt(this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Te)}),b.prototype.readFloatLE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),T.read(this,me,!0,23,4)},b.prototype.readFloatBE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),T.read(this,me,!1,23,4)},b.prototype.readDoubleLE=function(me,Me){return me=me>>>0,Me||Ce(me,8,this.length),T.read(this,me,!0,52,8)},b.prototype.readDoubleBE=function(me,Me){return me=me>>>0,Me||Ce(me,8,this.length),T.read(this,me,!1,52,8)};function Ae(be,me,Me,Te,ze,Je){if(!b.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(me>ze||me<Je)throw new RangeError('"value" argument is out of bounds');if(Me+Te>be.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(me,Me,Te,ze){if(me=+me,Me=Me>>>0,Te=Te>>>0,!ze){var Je=Math.pow(2,8*Te)-1;Ae(this,me,Me,Te,Je,0)}var nt=1,pt=0;for(this[Me]=me&255;++pt<Te&&(nt*=256);)this[Me+pt]=me/nt&255;return Me+Te},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(me,Me,Te,ze){if(me=+me,Me=Me>>>0,Te=Te>>>0,!ze){var Je=Math.pow(2,8*Te)-1;Ae(this,me,Me,Te,Je,0)}var nt=Te-1,pt=1;for(this[Me+nt]=me&255;--nt>=0&&(pt*=256);)this[Me+nt]=me/pt&255;return Me+Te},b.prototype.writeUint8=b.prototype.writeUInt8=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,1,255,0),this[Me]=me&255,Me+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,2,65535,0),this[Me]=me&255,this[Me+1]=me>>>8,Me+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,2,65535,0),this[Me]=me>>>8,this[Me+1]=me&255,Me+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,4,4294967295,0),this[Me+3]=me>>>24,this[Me+2]=me>>>16,this[Me+1]=me>>>8,this[Me]=me&255,Me+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,4,4294967295,0),this[Me]=me>>>24,this[Me+1]=me>>>16,this[Me+2]=me>>>8,this[Me+3]=me&255,Me+4};function ke(be,me,Me,Te,ze){ut(me,Te,ze,be,Me,7);var Je=Number(me&BigInt(4294967295));be[Me++]=Je,Je=Je>>8,be[Me++]=Je,Je=Je>>8,be[Me++]=Je,Je=Je>>8,be[Me++]=Je;var nt=Number(me>>BigInt(32)&BigInt(4294967295));return be[Me++]=nt,nt=nt>>8,be[Me++]=nt,nt=nt>>8,be[Me++]=nt,nt=nt>>8,be[Me++]=nt,Me}function we(be,me,Me,Te,ze){ut(me,Te,ze,be,Me,7);var Je=Number(me&BigInt(4294967295));be[Me+7]=Je,Je=Je>>8,be[Me+6]=Je,Je=Je>>8,be[Me+5]=Je,Je=Je>>8,be[Me+4]=Je;var nt=Number(me>>BigInt(32)&BigInt(4294967295));return be[Me+3]=nt,nt=nt>>8,be[Me+2]=nt,nt=nt>>8,be[Me+1]=nt,nt=nt>>8,be[Me]=nt,Me+8}b.prototype.writeBigUInt64LE=He(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,me,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=He(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return we(this,me,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(me,Me,Te,ze){if(me=+me,Me=Me>>>0,!ze){var Je=Math.pow(2,8*Te-1);Ae(this,me,Me,Te,Je-1,-Je)}var nt=0,pt=1,yt=0;for(this[Me]=me&255;++nt<Te&&(pt*=256);)me<0&&yt===0&&this[Me+nt-1]!==0&&(yt=1),this[Me+nt]=(me/pt>>0)-yt&255;return Me+Te},b.prototype.writeIntBE=function(me,Me,Te,ze){if(me=+me,Me=Me>>>0,!ze){var Je=Math.pow(2,8*Te-1);Ae(this,me,Me,Te,Je-1,-Je)}var nt=Te-1,pt=1,yt=0;for(this[Me+nt]=me&255;--nt>=0&&(pt*=256);)me<0&&yt===0&&this[Me+nt+1]!==0&&(yt=1),this[Me+nt]=(me/pt>>0)-yt&255;return Me+Te},b.prototype.writeInt8=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,1,127,-128),me<0&&(me=255+me+1),this[Me]=me&255,Me+1},b.prototype.writeInt16LE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,2,32767,-32768),this[Me]=me&255,this[Me+1]=me>>>8,Me+2},b.prototype.writeInt16BE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,2,32767,-32768),this[Me]=me>>>8,this[Me+1]=me&255,Me+2},b.prototype.writeInt32LE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,4,2147483647,-2147483648),this[Me]=me&255,this[Me+1]=me>>>8,this[Me+2]=me>>>16,this[Me+3]=me>>>24,Me+4},b.prototype.writeInt32BE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[Me]=me>>>24,this[Me+1]=me>>>16,this[Me+2]=me>>>8,this[Me+3]=me&255,Me+4},b.prototype.writeBigInt64LE=He(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,me,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=He(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return we(this,me,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(be,me,Me,Te,ze,Je){if(Me+Te>be.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("Index out of range")}function xe(be,me,Me,Te,ze){return me=+me,Me=Me>>>0,ze||Ee(be,me,Me,4),T.write(be,me,Me,Te,23,4),Me+4}b.prototype.writeFloatLE=function(me,Me,Te){return xe(this,me,Me,!0,Te)},b.prototype.writeFloatBE=function(me,Me,Te){return xe(this,me,Me,!1,Te)};function Re(be,me,Me,Te,ze){return me=+me,Me=Me>>>0,ze||Ee(be,me,Me,8),T.write(be,me,Me,Te,52,8),Me+8}b.prototype.writeDoubleLE=function(me,Me,Te){return Re(this,me,Me,!0,Te)},b.prototype.writeDoubleBE=function(me,Me,Te){return Re(this,me,Me,!1,Te)},b.prototype.copy=function(me,Me,Te,ze){if(!b.isBuffer(me))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!ze&&ze!==0&&(ze=this.length),Me>=me.length&&(Me=me.length),Me||(Me=0),ze>0&&ze<Te&&(ze=Te),ze===Te||me.length===0||this.length===0)return 0;if(Me<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(ze<0)throw new RangeError("sourceEnd out of bounds");ze>this.length&&(ze=this.length),me.length-Me<ze-Te&&(ze=me.length-Me+Te);var Je=ze-Te;return this===me&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Me,Te,ze):Uint8Array.prototype.set.call(me,this.subarray(Te,ze),Me),Je},b.prototype.fill=function(me,Me,Te,ze){if(typeof me=="string"){if(typeof Me=="string"?(ze=Me,Me=0,Te=this.length):typeof Te=="string"&&(ze=Te,Te=this.length),ze!==void 0&&typeof ze!="string")throw new TypeError("encoding must be a string");if(typeof ze=="string"&&!b.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);if(me.length===1){var Je=me.charCodeAt(0);(ze==="utf8"&&Je<128||ze==="latin1")&&(me=Je)}}else typeof me=="number"?me=me&255:typeof me=="boolean"&&(me=Number(me));if(Me<0||this.length<Me||this.length<Te)throw new RangeError("Out of range index");if(Te<=Me)return this;Me=Me>>>0,Te=Te===void 0?this.length:Te>>>0,me||(me=0);var nt;if(typeof me=="number")for(nt=Me;nt<Te;++nt)this[nt]=me;else{var pt=b.isBuffer(me)?me:b.from(me,ze),yt=pt.length;if(yt===0)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(nt=0;nt<Te-Me;++nt)this[nt+Me]=pt[nt%yt]}return this};var Ve={};function Ue(be,me,Me){Ve[be]=function(Te){u(Je,Te);var ze=l(Je);function Je(){var nt;return t(this,Je),nt=ze.call(this),Object.defineProperty(h(nt),"message",{value:me.apply(h(nt),arguments),writable:!0,configurable:!0}),nt.name="".concat(nt.name," [").concat(be,"]"),nt.stack,delete nt.name,nt}return n(Je,[{key:"code",get:function(){return be},set:function(pt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(be,"]: ").concat(this.message)}}]),Je}(Me)}Ue("ERR_BUFFER_OUT_OF_BOUNDS",function(be){return be?"".concat(be," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ue("ERR_INVALID_ARG_TYPE",function(be,me){return'The "'.concat(be,'" argument must be of type number. Received type ').concat(o(me))},TypeError),Ue("ERR_OUT_OF_RANGE",function(be,me,Me){var Te='The value of "'.concat(be,'" is out of range.'),ze=Me;return Number.isInteger(Me)&&Math.abs(Me)>Math.pow(2,32)?ze=Be(String(Me)):typeof Me=="bigint"&&(ze=String(Me),(Me>Math.pow(BigInt(2),BigInt(32))||Me<-Math.pow(BigInt(2),BigInt(32)))&&(ze=Be(ze)),ze+="n"),Te+=" It must be ".concat(me,". Received ").concat(ze),Te},RangeError);function Be(be){for(var me="",Me=be.length,Te=be[0]==="-"?1:0;Me>=Te+4;Me-=3)me="_".concat(be.slice(Me-3,Me)).concat(me);return"".concat(be.slice(0,Me)).concat(me)}function Xe(be,me,Me){dt(me,"offset"),(be[me]===void 0||be[me+Me]===void 0)&&at(me,be.length-(Me+1))}function ut(be,me,Me,Te,ze,Je){if(be>Me||be<me){var nt=typeof me=="bigint"?"n":"",pt;throw Je>3?me===0||me===BigInt(0)?pt=">= 0".concat(nt," and < 2").concat(nt," ** ").concat((Je+1)*8).concat(nt):pt=">= -(2".concat(nt," ** ").concat((Je+1)*8-1).concat(nt,") and < 2 ** ")+"".concat((Je+1)*8-1).concat(nt):pt=">= ".concat(me).concat(nt," and <= ").concat(Me).concat(nt),new Ve.ERR_OUT_OF_RANGE("value",pt,be)}Xe(Te,ze,Je)}function dt(be,me){if(typeof be!="number")throw new Ve.ERR_INVALID_ARG_TYPE(me,"number",be)}function at(be,me,Me){throw Math.floor(be)!==be?(dt(be,Me),new Ve.ERR_OUT_OF_RANGE(Me||"offset","an integer",be)):me<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(Me||"offset",">= ".concat(Me?1:0," and <= ").concat(me),be)}var We=/[^+/0-9A-Za-z-_]/g;function rt(be){if(be=be.split("=")[0],be=be.trim().replace(We,""),be.length<2)return"";for(;be.length%4!==0;)be=be+"=";return be}function st(be,me){me=me||1/0;for(var Me,Te=be.length,ze=null,Je=[],nt=0;nt<Te;++nt){if(Me=be.charCodeAt(nt),Me>55295&&Me<57344){if(!ze){if(Me>56319){(me-=3)>-1&&Je.push(239,191,189);continue}else if(nt+1===Te){(me-=3)>-1&&Je.push(239,191,189);continue}ze=Me;continue}if(Me<56320){(me-=3)>-1&&Je.push(239,191,189),ze=Me;continue}Me=(ze-55296<<10|Me-56320)+65536}else ze&&(me-=3)>-1&&Je.push(239,191,189);if(ze=null,Me<128){if((me-=1)<0)break;Je.push(Me)}else if(Me<2048){if((me-=2)<0)break;Je.push(Me>>6|192,Me&63|128)}else if(Me<65536){if((me-=3)<0)break;Je.push(Me>>12|224,Me>>6&63|128,Me&63|128)}else if(Me<1114112){if((me-=4)<0)break;Je.push(Me>>18|240,Me>>12&63|128,Me>>6&63|128,Me&63|128)}else throw new Error("Invalid code point")}return Je}function ht(be){for(var me=[],Me=0;Me<be.length;++Me)me.push(be.charCodeAt(Me)&255);return me}function vt(be,me){for(var Me,Te,ze,Je=[],nt=0;nt<be.length&&!((me-=2)<0);++nt)Me=be.charCodeAt(nt),Te=Me>>8,ze=Me%256,Je.push(ze),Je.push(Te);return Je}function At(be){return d.toByteArray(rt(be))}function tt(be,me,Me,Te){var ze;for(ze=0;ze<Te&&!(ze+Me>=me.length||ze>=be.length);++ze)me[ze+Me]=be[ze];return ze}function _e(be,me){return be instanceof me||be!=null&&be.constructor!=null&&be.constructor.name!=null&&be.constructor.name===me.name}function je(be){return be!==be}var Ke=function(){for(var be="0123456789abcdef",me=new Array(256),Me=0;Me<16;++Me)for(var Te=Me*16,ze=0;ze<16;++ze)me[Te+ze]=be[Me]+be[ze];return me}();function He(be){return typeof BigInt>"u"?Ie:be}function Ie(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=i,v.exports.isMobile=i,v.exports.default=i;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function i(n){n||(n={});var u=n.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var f=p.test(u)&&!r.test(u)||!!n.tablet&&t.test(u);return!f&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(f=!0),f}},3910:function(v,p){p.byteLength=y,p.toByteArray=M,p.fromByteArray=d;for(var r=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=n.length;u<f;++u)r[u]=n[u],t[n.charCodeAt(u)]=u;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function l(T){var S=T.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=T.indexOf("=");C===-1&&(C=S);var m=C===S?0:4-C%4;return[C,m]}function y(T){var S=l(T),C=S[0],m=S[1];return(C+m)*3/4-m}function h(T,S,C){return(S+C)*3/4-C}function M(T){var S,C=l(T),m=C[0],E=C[1],b=new i(h(T,m,E)),s=0,L=E>0?m-4:m,A;for(A=0;A<L;A+=4)S=t[T.charCodeAt(A)]<<18|t[T.charCodeAt(A+1)]<<12|t[T.charCodeAt(A+2)]<<6|t[T.charCodeAt(A+3)],b[s++]=S>>16&255,b[s++]=S>>8&255,b[s++]=S&255;return E===2&&(S=t[T.charCodeAt(A)]<<2|t[T.charCodeAt(A+1)]>>4,b[s++]=S&255),E===1&&(S=t[T.charCodeAt(A)]<<10|t[T.charCodeAt(A+1)]<<4|t[T.charCodeAt(A+2)]>>2,b[s++]=S>>8&255,b[s++]=S&255),b}function c(T){return r[T>>18&63]+r[T>>12&63]+r[T>>6&63]+r[T&63]}function o(T,S,C){for(var m,E=[],b=S;b<C;b+=3)m=(T[b]<<16&16711680)+(T[b+1]<<8&65280)+(T[b+2]&255),E.push(c(m));return E.join("")}function d(T){for(var S,C=T.length,m=C%3,E=[],b=16383,s=0,L=C-m;s<L;s+=b)E.push(o(T,s,s+b>L?L:s+b));return m===1?(S=T[C-1],E.push(r[S>>2]+r[S<<4&63]+"==")):m===2&&(S=(T[C-2]<<8)+T[C-1],E.push(r[S>>10]+r[S>>4&63]+r[S<<2&63]+"=")),E.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,i,n,u){var f,l,y=u*8-n-1,h=(1<<y)-1,M=h>>1,c=-7,o=i?u-1:0,d=i?-1:1,T=r[t+o];for(o+=d,f=T&(1<<-c)-1,T>>=-c,c+=y;c>0;f=f*256+r[t+o],o+=d,c-=8);for(l=f&(1<<-c)-1,f>>=-c,c+=n;c>0;l=l*256+r[t+o],o+=d,c-=8);if(f===0)f=1-M;else{if(f===h)return l?NaN:(T?-1:1)*(1/0);l=l+Math.pow(2,n),f=f-M}return(T?-1:1)*l*Math.pow(2,f-n)},p.write=function(r,t,i,n,u,f){var l,y,h,M=f*8-u-1,c=(1<<M)-1,o=c>>1,d=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=n?0:f-1,S=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(y=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+o>=1?t+=d/h:t+=d*Math.pow(2,1-o),t*h>=2&&(l++,h/=2),l+o>=c?(y=0,l=c):l+o>=1?(y=(t*h-1)*Math.pow(2,u),l=l+o):(y=t*Math.pow(2,o-1)*Math.pow(2,u),l=0));u>=8;r[i+T]=y&255,T+=S,y/=256,u-=8);for(l=l<<u|y,M+=u;M>0;r[i+T]=l&255,T+=S,l/=256,M-=8);r[i+T-S]|=C*128}},1152:function(v,p,r){v.exports=l;var t=r(3440),i=r(7774),n=r(9298);function u(y,h){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(M){return y[M]}),this._mode=h,this._active=y[h],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=u.prototype;f.flush=function(y){for(var h=this._controllerList,M=0;M<h.length;++M)h[M].flush(y)},f.idle=function(y){for(var h=this._controllerList,M=0;M<h.length;++M)h[M].idle(y)},f.lookAt=function(y,h,M,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].lookAt(y,h,M,c)},f.rotate=function(y,h,M,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].rotate(y,h,M,c)},f.pan=function(y,h,M,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].pan(y,h,M,c)},f.translate=function(y,h,M,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].translate(y,h,M,c)},f.setMatrix=function(y,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setMatrix(y,h)},f.setDistanceLimits=function(y,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setDistanceLimits(y,h)},f.setDistance=function(y,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setDistance(y,h)},f.recalcMatrix=function(y){this._active.recalcMatrix(y)},f.getDistance=function(y){return this._active.getDistance(y)},f.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},f.lastT=function(){return this._active.lastT()},f.setMode=function(y){if(y!==this._mode){var h=this._controllerNames.indexOf(y);if(!(h<0)){var M=this._active,c=this._controllerList[h],o=Math.max(M.lastT(),c.lastT());M.recalcMatrix(o),c.setMatrix(o,M.computedMatrix),this._active=c,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function l(y){y=y||{};var h=y.eye||[0,0,1],M=y.center||[0,0,0],c=y.up||[0,1,0],o=y.distanceLimits||[0,1/0],d=y.mode||"turntable",T=t(),S=i(),C=n();return T.setDistanceLimits(o[0],o[1]),T.lookAt(0,h,M,c),S.setDistanceLimits(o[0],o[1]),S.lookAt(0,h,M,c),C.setDistanceLimits(o[0],o[1]),C.lookAt(0,h,M,c),new u({turntable:T,orbit:S,matrix:C},d)}},8126:function(v,p,r){var t=typeof WeakMap>"u"?r(5346):WeakMap,i=r(5827),n=r(2944),u=new t;function f(l){var y=u.get(l),h=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var M=i(l,new Float32Array([-1,-1,-1,4,4,-1]));y=n(l,[{buffer:M,type:l.FLOAT,size:2}]),y._triangleBuffer=M,u.set(l,y)}y.bind(),l.drawArrays(l.TRIANGLES,0,3),y.unbind()}v.exports=f},8008:function(v,p,r){var t=r(4930);v.exports=i;function i(n,u,f){u=typeof u=="number"?u:1,f=f||": ";var l=n.split(/\r?\n/),y=String(l.length+u-1).length;return l.map(function(h,M){var c=M+u,o=String(c).length,d=t(c,y-o);return d+f+h}).join(`
`)}},2153:function(v,p,r){v.exports=n;var t=r(417);function i(u,f){for(var l=new Array(f+1),y=0;y<u.length;++y)l[y]=u[y];for(var y=0;y<=u.length;++y){for(var h=u.length;h<=f;++h){for(var M=new Array(f),c=0;c<f;++c)M[c]=Math.pow(h+1-y,c);l[h]=M}var o=t.apply(void 0,l);if(o)return!0}return!1}function n(u){var f=u.length;if(f===0)return[];if(f===1)return[0];for(var l=u[0].length,y=[u[0]],h=[0],M=1;M<f;++M){if(y.push(u[M]),!i(y,l)){y.pop();continue}if(h.push(M),h.length===l+1)return h}return h}},4653:function(v,p,r){v.exports=n;var t=r(4419),i=r(1778);function n(u,f){return t(f).filter(function(l){for(var y=new Array(l.length),h=0;h<l.length;++h)y[h]=f[l[h]];return i(y)*u<1})}},2350:function(v,p,r){v.exports=n;var t=r(4653),i=r(8691);function n(u,f){return i(t(u,f))}},7896:function(v){v.exports=function(r){return atob(r)}},957:function(v,p,r){v.exports=n;var t=r(6606);function i(u){for(var f=0,l=0;l<u.length;++l)f+=u[l];return f}function n(u,f){for(var l=f.length,y=new Array(l+1),h=0;h<l;++h){for(var M=new Array(l+1),c=0;c<=l;++c)M[c]=u[c][h];y[h]=M}y[l]=new Array(l+1);for(var h=0;h<=l;++h)y[l][h]=1;for(var o=new Array(l+1),h=0;h<l;++h)o[h]=f[h];o[l]=1;var d=t(y,o),T=i(d[l+1]);T===0&&(T=1);for(var S=new Array(l+1),h=0;h<=l;++h)S[h]=i(d[h])/T;return S}},1539:function(v,p,r){var t=r(8524);v.exports=i;function i(n,u){return t(n[0].mul(u[1]).add(u[0].mul(n[1])),n[1].mul(u[1]))}},8846:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},9189:function(v,p,r){var t=r(8524);v.exports=i;function i(n,u){return t(n[0].mul(u[1]),n[1].mul(u[0]))}},5125:function(v,p,r){var t=r(234),i=r(3218),n=r(5514),u=r(2813),f=r(8524),l=r(9189);v.exports=y;function y(h,M){if(t(h))return M?l(h,y(M)):[h[0].clone(),h[1].clone()];var c=0,o,d;if(i(h))o=h.clone();else if(typeof h=="string")o=u(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))o=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;o=n(h)}}if(t(M))o.mul(M[1]),d=M[0].clone();else if(i(M))d=M.clone();else if(typeof M=="string")d=u(M);else if(!M)d=n(1);else if(M===Math.floor(M))d=n(M);else{for(;M!==Math.floor(M);)M=M*Math.pow(2,256),c+=256;d=n(M)}return c>0?o=o.ushln(c):c<0&&(d=d.ushln(-c)),f(o,d)}},234:function(v,p,r){var t=r(3218);v.exports=i;function i(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},4275:function(v,p,r){var t=r(1928);v.exports=i;function i(n){return n.cmp(new t(0))}},9958:function(v,p,r){var t=r(4275);v.exports=i;function i(n){var u=n.length,f=n.words,l=0;if(u===1)l=f[0];else if(u===2)l=f[0]+f[1]*67108864;else for(var y=0;y<u;y++){var h=f[y];l+=h*Math.pow(67108864,y)}return t(n)*l}},1112:function(v,p,r){var t=r(8362),i=r(2288).countTrailingZeros;v.exports=n;function n(u){var f=i(t.lo(u));if(f<32)return f;var l=i(t.hi(u));return l>20?52:l+32}},3218:function(v,p,r){r(1928),v.exports=t;function t(i){return i&&typeof i=="object"&&!!i.words}},5514:function(v,p,r){var t=r(1928),i=r(8362);v.exports=n;function n(u){var f=i.exponent(u);return f<52?new t(u):new t(u*Math.pow(2,52-f)).ushln(f-52)}},8524:function(v,p,r){var t=r(5514),i=r(4275);v.exports=n;function n(u,f){var l=i(u),y=i(f);if(l===0)return[t(0),t(1)];if(y===0)return[t(0),t(0)];y<0&&(u=u.neg(),f=f.neg());var h=u.gcd(f);return h.cmpn(1)?[u.div(h),f.div(h)]:[u,f]}},2813:function(v,p,r){var t=r(1928);v.exports=i;function i(n){return new t(n)}},3962:function(v,p,r){var t=r(8524);v.exports=i;function i(n,u){return t(n[0].mul(u[0]),n[1].mul(u[1]))}},4951:function(v,p,r){var t=r(4275);v.exports=i;function i(n){return t(n[0])*t(n[1])}},4354:function(v,p,r){var t=r(8524);v.exports=i;function i(n,u){return t(n[0].mul(u[1]).sub(n[1].mul(u[0])),n[1].mul(u[1]))}},7999:function(v,p,r){var t=r(9958),i=r(1112);v.exports=n;function n(u){var f=u[0],l=u[1];if(f.cmpn(0)===0)return 0;var y=f.abs().divmod(l.abs()),h=y.div,M=t(h),c=y.mod,o=f.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return o*M;if(M){var d=i(M)+4,T=t(c.ushln(d).divRound(l));return o*(M+T*Math.pow(2,-d))}else{var S=l.bitLength()-c.bitLength()+53,T=t(c.ushln(S).divRound(l));return S<1023?o*T*Math.pow(2,-S):(T*=Math.pow(2,-1023),o*T*Math.pow(2,1023-S))}}},5070:function(v){function p(f,l,y,h,M){for(var c=M+1;h<=M;){var o=h+M>>>1,d=f[o],T=y!==void 0?y(d,l):d-l;T>=0?(c=o,M=o-1):h=o+1}return c}function r(f,l,y,h,M){for(var c=M+1;h<=M;){var o=h+M>>>1,d=f[o],T=y!==void 0?y(d,l):d-l;T>0?(c=o,M=o-1):h=o+1}return c}function t(f,l,y,h,M){for(var c=h-1;h<=M;){var o=h+M>>>1,d=f[o],T=y!==void 0?y(d,l):d-l;T<0?(c=o,h=o+1):M=o-1}return c}function i(f,l,y,h,M){for(var c=h-1;h<=M;){var o=h+M>>>1,d=f[o],T=y!==void 0?y(d,l):d-l;T<=0?(c=o,h=o+1):M=o-1}return c}function n(f,l,y,h,M){for(;h<=M;){var c=h+M>>>1,o=f[c],d=y!==void 0?y(o,l):o-l;if(d===0)return c;d<=0?h=c+1:M=c-1}return-1}function u(f,l,y,h,M,c){return typeof y=="function"?c(f,l,y,h===void 0?0:h|0,M===void 0?f.length-1:M|0):c(f,l,void 0,y===void 0?0:y|0,h===void 0?f.length-1:h|0)}v.exports={ge:function(f,l,y,h,M){return u(f,l,y,h,M,p)},gt:function(f,l,y,h,M){return u(f,l,y,h,M,r)},lt:function(f,l,y,h,M){return u(f,l,y,h,M,t)},le:function(f,l,y,h,M){return u(f,l,y,h,M,i)},eq:function(f,l,y,h,M){return u(f,l,y,h,M,n)}}},2288:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var u=n>>r-1;return(n^u)-u},p.min=function(n,u){return u^(n^u)&-(n<u)},p.max=function(n,u){return n^(n^u)&-(n<u)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var u,f;return u=(n>65535)<<4,n>>>=u,f=(n>255)<<3,n>>>=f,u|=f,f=(n>15)<<2,n>>>=f,u|=f,f=(n>3)<<1,n>>>=f,u|=f,u|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var u=0;u<256;++u){var f=u,l=u,y=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--y;n[u]=l<<y&255}})(i),p.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},p.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},p.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,u,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},p.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>t(n)+1}},1928:function(v,p,r){v=r.nmd(v),function(t,i){function n(B,N){if(!B)throw new Error(N||"Assertion failed")}function u(B,N){B.super_=N;var V=function(){};V.prototype=N.prototype,B.prototype=new V,B.prototype.constructor=B}function f(B,N,V){if(f.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((N==="le"||N==="be")&&(V=N,N=10),this._init(B||0,N||10,V||"be"))}typeof t=="object"?t.exports=f:i.BN=f,f.BN=f,f.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(6601).Buffer}catch{}f.isBN=function(N){return N instanceof f?!0:N!==null&&typeof N=="object"&&N.constructor.wordSize===f.wordSize&&Array.isArray(N.words)},f.max=function(N,V){return N.cmp(V)>0?N:V},f.min=function(N,V){return N.cmp(V)<0?N:V},f.prototype._init=function(N,V,W){if(typeof N=="number")return this._initNumber(N,V,W);if(typeof N=="object")return this._initArray(N,V,W);V==="hex"&&(V=16),n(V===(V|0)&&V>=2&&V<=36),N=N.toString().replace(/\s+/g,"");var Q=0;N[0]==="-"&&(Q++,this.negative=1),Q<N.length&&(V===16?this._parseHex(N,Q,W):(this._parseBase(N,V,Q),W==="le"&&this._initArray(this.toArray(),V,W)))},f.prototype._initNumber=function(N,V,W){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[N&67108863],this.length=1):N<4503599627370496?(this.words=[N&67108863,N/67108864&67108863],this.length=2):(n(N<9007199254740992),this.words=[N&67108863,N/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),V,W)},f.prototype._initArray=function(N,V,W){if(n(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var re,ne,fe=0;if(W==="be")for(Q=N.length-1,re=0;Q>=0;Q-=3)ne=N[Q]|N[Q-1]<<8|N[Q-2]<<16,this.words[re]|=ne<<fe&67108863,this.words[re+1]=ne>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,re++);else if(W==="le")for(Q=0,re=0;Q<N.length;Q+=3)ne=N[Q]|N[Q+1]<<8|N[Q+2]<<16,this.words[re]|=ne<<fe&67108863,this.words[re+1]=ne>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,re++);return this.strip()};function y(B,N){var V=B.charCodeAt(N);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function h(B,N,V){var W=y(B,V);return V-1>=N&&(W|=y(B,V-1)<<4),W}f.prototype._parseHex=function(N,V,W){this.length=Math.ceil((N.length-V)/6),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var re=0,ne=0,fe;if(W==="be")for(Q=N.length-1;Q>=V;Q-=2)fe=h(N,V,Q)<<re,this.words[ne]|=fe&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=fe>>>26):re+=8;else{var $=N.length-V;for(Q=$%2===0?V+1:V;Q<N.length;Q+=2)fe=h(N,V,Q)<<re,this.words[ne]|=fe&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=fe>>>26):re+=8}this.strip()};function M(B,N,V,W){for(var Q=0,re=Math.min(B.length,V),ne=N;ne<re;ne++){var fe=B.charCodeAt(ne)-48;Q*=W,fe>=49?Q+=fe-49+10:fe>=17?Q+=fe-17+10:Q+=fe}return Q}f.prototype._parseBase=function(N,V,W){this.words=[0],this.length=1;for(var Q=0,re=1;re<=67108863;re*=V)Q++;Q--,re=re/V|0;for(var ne=N.length-W,fe=ne%Q,$=Math.min(ne,ne-fe)+W,X=0,oe=W;oe<$;oe+=Q)X=M(N,oe,oe+Q,V),this.imuln(re),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(fe!==0){var Y=1;for(X=M(N,oe,N.length,V),oe=0;oe<fe;oe++)Y*=V;this.imuln(Y),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this.strip()},f.prototype.copy=function(N){N.words=new Array(this.length);for(var V=0;V<this.length;V++)N.words[V]=this.words[V];N.length=this.length,N.negative=this.negative,N.red=this.red},f.prototype.clone=function(){var N=new f(null);return this.copy(N),N},f.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(N,V){N=N||10,V=V|0||1;var W;if(N===16||N==="hex"){W="";for(var Q=0,re=0,ne=0;ne<this.length;ne++){var fe=this.words[ne],$=((fe<<Q|re)&16777215).toString(16);re=fe>>>24-Q&16777215,re!==0||ne!==this.length-1?W=c[6-$.length]+$+W:W=$+W,Q+=2,Q>=26&&(Q-=26,ne--)}for(re!==0&&(W=re.toString(16)+W);W.length%V!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(N===(N|0)&&N>=2&&N<=36){var X=o[N],oe=d[N];W="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var ee=Y.modn(oe).toString(N);Y=Y.idivn(oe),Y.isZero()?W=ee+W:W=c[X-ee.length]+ee+W}for(this.isZero()&&(W="0"+W);W.length%V!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}n(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=this.words[1]*67108864:this.length===3&&this.words[2]===1?N+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(N,V){return n(typeof l<"u"),this.toArrayLike(l,N,V)},f.prototype.toArray=function(N,V){return this.toArrayLike(Array,N,V)},f.prototype.toArrayLike=function(N,V,W){var Q=this.byteLength(),re=W||Math.max(1,Q);n(Q<=re,"byte array longer than desired length"),n(re>0,"Requested array length <= 0"),this.strip();var ne=V==="le",fe=new N(re),$,X,oe=this.clone();if(ne){for(X=0;!oe.isZero();X++)$=oe.andln(255),oe.iushrn(8),fe[X]=$;for(;X<re;X++)fe[X]=0}else{for(X=0;X<re-Q;X++)fe[X]=0;for(X=0;!oe.isZero();X++)$=oe.andln(255),oe.iushrn(8),fe[re-X-1]=$}return fe},Math.clz32?f.prototype._countBits=function(N){return 32-Math.clz32(N)}:f.prototype._countBits=function(N){var V=N,W=0;return V>=4096&&(W+=13,V>>>=13),V>=64&&(W+=7,V>>>=7),V>=8&&(W+=4,V>>>=4),V>=2&&(W+=2,V>>>=2),W+V},f.prototype._zeroBits=function(N){if(N===0)return 26;var V=N,W=0;return V&8191||(W+=13,V>>>=13),V&127||(W+=7,V>>>=7),V&15||(W+=4,V>>>=4),V&3||(W+=2,V>>>=2),V&1||W++,W},f.prototype.bitLength=function(){var N=this.words[this.length-1],V=this._countBits(N);return(this.length-1)*26+V};function T(B){for(var N=new Array(B.bitLength()),V=0;V<N.length;V++){var W=V/26|0,Q=V%26;N[V]=(B.words[W]&1<<Q)>>>Q}return N}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,V=0;V<this.length;V++){var W=this._zeroBits(this.words[V]);if(N+=W,W!==26)break}return N},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},f.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var V=0;V<N.length;V++)this.words[V]=this.words[V]|N.words[V];return this.strip()},f.prototype.ior=function(N){return n((this.negative|N.negative)===0),this.iuor(N)},f.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},f.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},f.prototype.iuand=function(N){var V;this.length>N.length?V=N:V=this;for(var W=0;W<V.length;W++)this.words[W]=this.words[W]&N.words[W];return this.length=V.length,this.strip()},f.prototype.iand=function(N){return n((this.negative|N.negative)===0),this.iuand(N)},f.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},f.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},f.prototype.iuxor=function(N){var V,W;this.length>N.length?(V=this,W=N):(V=N,W=this);for(var Q=0;Q<W.length;Q++)this.words[Q]=V.words[Q]^W.words[Q];if(this!==V)for(;Q<V.length;Q++)this.words[Q]=V.words[Q];return this.length=V.length,this.strip()},f.prototype.ixor=function(N){return n((this.negative|N.negative)===0),this.iuxor(N)},f.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},f.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},f.prototype.inotn=function(N){n(typeof N=="number"&&N>=0);var V=Math.ceil(N/26)|0,W=N%26;this._expand(V),W>0&&V--;for(var Q=0;Q<V;Q++)this.words[Q]=~this.words[Q]&67108863;return W>0&&(this.words[Q]=~this.words[Q]&67108863>>26-W),this.strip()},f.prototype.notn=function(N){return this.clone().inotn(N)},f.prototype.setn=function(N,V){n(typeof N=="number"&&N>=0);var W=N/26|0,Q=N%26;return this._expand(W+1),V?this.words[W]=this.words[W]|1<<Q:this.words[W]=this.words[W]&~(1<<Q),this.strip()},f.prototype.iadd=function(N){var V;if(this.negative!==0&&N.negative===0)return this.negative=0,V=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,V=this.isub(N),N.negative=1,V._normSign();var W,Q;this.length>N.length?(W=this,Q=N):(W=N,Q=this);for(var re=0,ne=0;ne<Q.length;ne++)V=(W.words[ne]|0)+(Q.words[ne]|0)+re,this.words[ne]=V&67108863,re=V>>>26;for(;re!==0&&ne<W.length;ne++)V=(W.words[ne]|0)+re,this.words[ne]=V&67108863,re=V>>>26;if(this.length=W.length,re!==0)this.words[this.length]=re,this.length++;else if(W!==this)for(;ne<W.length;ne++)this.words[ne]=W.words[ne];return this},f.prototype.add=function(N){var V;return N.negative!==0&&this.negative===0?(N.negative=0,V=this.sub(N),N.negative^=1,V):N.negative===0&&this.negative!==0?(this.negative=0,V=N.sub(this),this.negative=1,V):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},f.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var V=this.iadd(N);return N.negative=1,V._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var W=this.cmp(N);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Q,re;W>0?(Q=this,re=N):(Q=N,re=this);for(var ne=0,fe=0;fe<re.length;fe++)V=(Q.words[fe]|0)-(re.words[fe]|0)+ne,ne=V>>26,this.words[fe]=V&67108863;for(;ne!==0&&fe<Q.length;fe++)V=(Q.words[fe]|0)+ne,ne=V>>26,this.words[fe]=V&67108863;if(ne===0&&fe<Q.length&&Q!==this)for(;fe<Q.length;fe++)this.words[fe]=Q.words[fe];return this.length=Math.max(this.length,fe),Q!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(N){return this.clone().isub(N)};function S(B,N,V){V.negative=N.negative^B.negative;var W=B.length+N.length|0;V.length=W,W=W-1|0;var Q=B.words[0]|0,re=N.words[0]|0,ne=Q*re,fe=ne&67108863,$=ne/67108864|0;V.words[0]=fe;for(var X=1;X<W;X++){for(var oe=$>>>26,Y=$&67108863,ee=Math.min(X,N.length-1),se=Math.max(0,X-B.length+1);se<=ee;se++){var q=X-se|0;Q=B.words[q]|0,re=N.words[se]|0,ne=Q*re+Y,oe+=ne/67108864|0,Y=ne&67108863}V.words[X]=Y|0,$=oe|0}return $!==0?V.words[X]=$|0:V.length--,V.strip()}var C=function(N,V,W){var Q=N.words,re=V.words,ne=W.words,fe=0,$,X,oe,Y=Q[0]|0,ee=Y&8191,se=Y>>>13,q=Q[1]|0,K=q&8191,le=q>>>13,ie=Q[2]|0,he=ie&8191,ye=ie>>>13,Ce=Q[3]|0,Ae=Ce&8191,ke=Ce>>>13,we=Q[4]|0,Ee=we&8191,xe=we>>>13,Re=Q[5]|0,Ve=Re&8191,Ue=Re>>>13,Be=Q[6]|0,Xe=Be&8191,ut=Be>>>13,dt=Q[7]|0,at=dt&8191,We=dt>>>13,rt=Q[8]|0,st=rt&8191,ht=rt>>>13,vt=Q[9]|0,At=vt&8191,tt=vt>>>13,_e=re[0]|0,je=_e&8191,Ke=_e>>>13,He=re[1]|0,Ie=He&8191,be=He>>>13,me=re[2]|0,Me=me&8191,Te=me>>>13,ze=re[3]|0,Je=ze&8191,nt=ze>>>13,pt=re[4]|0,yt=pt&8191,Yt=pt>>>13,Xt=re[5]|0,St=Xt&8191,kt=Xt>>>13,Kt=re[6]|0,mr=Kt&8191,mt=Kt>>>13,Zt=re[7]|0,Qt=Zt&8191,yr=Zt>>>13,sr=re[8]|0,bt=sr&8191,lt=sr>>>13,Tt=re[9]|0,Ct=Tt&8191,It=Tt>>>13;W.negative=N.negative^V.negative,W.length=19,$=Math.imul(ee,je),X=Math.imul(ee,Ke),X=X+Math.imul(se,je)|0,oe=Math.imul(se,Ke);var Dt=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,$=Math.imul(K,je),X=Math.imul(K,Ke),X=X+Math.imul(le,je)|0,oe=Math.imul(le,Ke),$=$+Math.imul(ee,Ie)|0,X=X+Math.imul(ee,be)|0,X=X+Math.imul(se,Ie)|0,oe=oe+Math.imul(se,be)|0;var Vt=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,$=Math.imul(he,je),X=Math.imul(he,Ke),X=X+Math.imul(ye,je)|0,oe=Math.imul(ye,Ke),$=$+Math.imul(K,Ie)|0,X=X+Math.imul(K,be)|0,X=X+Math.imul(le,Ie)|0,oe=oe+Math.imul(le,be)|0,$=$+Math.imul(ee,Me)|0,X=X+Math.imul(ee,Te)|0,X=X+Math.imul(se,Me)|0,oe=oe+Math.imul(se,Te)|0;var Bt=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,$=Math.imul(Ae,je),X=Math.imul(Ae,Ke),X=X+Math.imul(ke,je)|0,oe=Math.imul(ke,Ke),$=$+Math.imul(he,Ie)|0,X=X+Math.imul(he,be)|0,X=X+Math.imul(ye,Ie)|0,oe=oe+Math.imul(ye,be)|0,$=$+Math.imul(K,Me)|0,X=X+Math.imul(K,Te)|0,X=X+Math.imul(le,Me)|0,oe=oe+Math.imul(le,Te)|0,$=$+Math.imul(ee,Je)|0,X=X+Math.imul(ee,nt)|0,X=X+Math.imul(se,Je)|0,oe=oe+Math.imul(se,nt)|0;var $t=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+($t>>>26)|0,$t&=67108863,$=Math.imul(Ee,je),X=Math.imul(Ee,Ke),X=X+Math.imul(xe,je)|0,oe=Math.imul(xe,Ke),$=$+Math.imul(Ae,Ie)|0,X=X+Math.imul(Ae,be)|0,X=X+Math.imul(ke,Ie)|0,oe=oe+Math.imul(ke,be)|0,$=$+Math.imul(he,Me)|0,X=X+Math.imul(he,Te)|0,X=X+Math.imul(ye,Me)|0,oe=oe+Math.imul(ye,Te)|0,$=$+Math.imul(K,Je)|0,X=X+Math.imul(K,nt)|0,X=X+Math.imul(le,Je)|0,oe=oe+Math.imul(le,nt)|0,$=$+Math.imul(ee,yt)|0,X=X+Math.imul(ee,Yt)|0,X=X+Math.imul(se,yt)|0,oe=oe+Math.imul(se,Yt)|0;var fr=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(fr>>>26)|0,fr&=67108863,$=Math.imul(Ve,je),X=Math.imul(Ve,Ke),X=X+Math.imul(Ue,je)|0,oe=Math.imul(Ue,Ke),$=$+Math.imul(Ee,Ie)|0,X=X+Math.imul(Ee,be)|0,X=X+Math.imul(xe,Ie)|0,oe=oe+Math.imul(xe,be)|0,$=$+Math.imul(Ae,Me)|0,X=X+Math.imul(Ae,Te)|0,X=X+Math.imul(ke,Me)|0,oe=oe+Math.imul(ke,Te)|0,$=$+Math.imul(he,Je)|0,X=X+Math.imul(he,nt)|0,X=X+Math.imul(ye,Je)|0,oe=oe+Math.imul(ye,nt)|0,$=$+Math.imul(K,yt)|0,X=X+Math.imul(K,Yt)|0,X=X+Math.imul(le,yt)|0,oe=oe+Math.imul(le,Yt)|0,$=$+Math.imul(ee,St)|0,X=X+Math.imul(ee,kt)|0,X=X+Math.imul(se,St)|0,oe=oe+Math.imul(se,kt)|0;var cr=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(cr>>>26)|0,cr&=67108863,$=Math.imul(Xe,je),X=Math.imul(Xe,Ke),X=X+Math.imul(ut,je)|0,oe=Math.imul(ut,Ke),$=$+Math.imul(Ve,Ie)|0,X=X+Math.imul(Ve,be)|0,X=X+Math.imul(Ue,Ie)|0,oe=oe+Math.imul(Ue,be)|0,$=$+Math.imul(Ee,Me)|0,X=X+Math.imul(Ee,Te)|0,X=X+Math.imul(xe,Me)|0,oe=oe+Math.imul(xe,Te)|0,$=$+Math.imul(Ae,Je)|0,X=X+Math.imul(Ae,nt)|0,X=X+Math.imul(ke,Je)|0,oe=oe+Math.imul(ke,nt)|0,$=$+Math.imul(he,yt)|0,X=X+Math.imul(he,Yt)|0,X=X+Math.imul(ye,yt)|0,oe=oe+Math.imul(ye,Yt)|0,$=$+Math.imul(K,St)|0,X=X+Math.imul(K,kt)|0,X=X+Math.imul(le,St)|0,oe=oe+Math.imul(le,kt)|0,$=$+Math.imul(ee,mr)|0,X=X+Math.imul(ee,mt)|0,X=X+Math.imul(se,mr)|0,oe=oe+Math.imul(se,mt)|0;var dr=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(dr>>>26)|0,dr&=67108863,$=Math.imul(at,je),X=Math.imul(at,Ke),X=X+Math.imul(We,je)|0,oe=Math.imul(We,Ke),$=$+Math.imul(Xe,Ie)|0,X=X+Math.imul(Xe,be)|0,X=X+Math.imul(ut,Ie)|0,oe=oe+Math.imul(ut,be)|0,$=$+Math.imul(Ve,Me)|0,X=X+Math.imul(Ve,Te)|0,X=X+Math.imul(Ue,Me)|0,oe=oe+Math.imul(Ue,Te)|0,$=$+Math.imul(Ee,Je)|0,X=X+Math.imul(Ee,nt)|0,X=X+Math.imul(xe,Je)|0,oe=oe+Math.imul(xe,nt)|0,$=$+Math.imul(Ae,yt)|0,X=X+Math.imul(Ae,Yt)|0,X=X+Math.imul(ke,yt)|0,oe=oe+Math.imul(ke,Yt)|0,$=$+Math.imul(he,St)|0,X=X+Math.imul(he,kt)|0,X=X+Math.imul(ye,St)|0,oe=oe+Math.imul(ye,kt)|0,$=$+Math.imul(K,mr)|0,X=X+Math.imul(K,mt)|0,X=X+Math.imul(le,mr)|0,oe=oe+Math.imul(le,mt)|0,$=$+Math.imul(ee,Qt)|0,X=X+Math.imul(ee,yr)|0,X=X+Math.imul(se,Qt)|0,oe=oe+Math.imul(se,yr)|0;var Ye=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,$=Math.imul(st,je),X=Math.imul(st,Ke),X=X+Math.imul(ht,je)|0,oe=Math.imul(ht,Ke),$=$+Math.imul(at,Ie)|0,X=X+Math.imul(at,be)|0,X=X+Math.imul(We,Ie)|0,oe=oe+Math.imul(We,be)|0,$=$+Math.imul(Xe,Me)|0,X=X+Math.imul(Xe,Te)|0,X=X+Math.imul(ut,Me)|0,oe=oe+Math.imul(ut,Te)|0,$=$+Math.imul(Ve,Je)|0,X=X+Math.imul(Ve,nt)|0,X=X+Math.imul(Ue,Je)|0,oe=oe+Math.imul(Ue,nt)|0,$=$+Math.imul(Ee,yt)|0,X=X+Math.imul(Ee,Yt)|0,X=X+Math.imul(xe,yt)|0,oe=oe+Math.imul(xe,Yt)|0,$=$+Math.imul(Ae,St)|0,X=X+Math.imul(Ae,kt)|0,X=X+Math.imul(ke,St)|0,oe=oe+Math.imul(ke,kt)|0,$=$+Math.imul(he,mr)|0,X=X+Math.imul(he,mt)|0,X=X+Math.imul(ye,mr)|0,oe=oe+Math.imul(ye,mt)|0,$=$+Math.imul(K,Qt)|0,X=X+Math.imul(K,yr)|0,X=X+Math.imul(le,Qt)|0,oe=oe+Math.imul(le,yr)|0,$=$+Math.imul(ee,bt)|0,X=X+Math.imul(ee,lt)|0,X=X+Math.imul(se,bt)|0,oe=oe+Math.imul(se,lt)|0;var Ge=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,$=Math.imul(At,je),X=Math.imul(At,Ke),X=X+Math.imul(tt,je)|0,oe=Math.imul(tt,Ke),$=$+Math.imul(st,Ie)|0,X=X+Math.imul(st,be)|0,X=X+Math.imul(ht,Ie)|0,oe=oe+Math.imul(ht,be)|0,$=$+Math.imul(at,Me)|0,X=X+Math.imul(at,Te)|0,X=X+Math.imul(We,Me)|0,oe=oe+Math.imul(We,Te)|0,$=$+Math.imul(Xe,Je)|0,X=X+Math.imul(Xe,nt)|0,X=X+Math.imul(ut,Je)|0,oe=oe+Math.imul(ut,nt)|0,$=$+Math.imul(Ve,yt)|0,X=X+Math.imul(Ve,Yt)|0,X=X+Math.imul(Ue,yt)|0,oe=oe+Math.imul(Ue,Yt)|0,$=$+Math.imul(Ee,St)|0,X=X+Math.imul(Ee,kt)|0,X=X+Math.imul(xe,St)|0,oe=oe+Math.imul(xe,kt)|0,$=$+Math.imul(Ae,mr)|0,X=X+Math.imul(Ae,mt)|0,X=X+Math.imul(ke,mr)|0,oe=oe+Math.imul(ke,mt)|0,$=$+Math.imul(he,Qt)|0,X=X+Math.imul(he,yr)|0,X=X+Math.imul(ye,Qt)|0,oe=oe+Math.imul(ye,yr)|0,$=$+Math.imul(K,bt)|0,X=X+Math.imul(K,lt)|0,X=X+Math.imul(le,bt)|0,oe=oe+Math.imul(le,lt)|0,$=$+Math.imul(ee,Ct)|0,X=X+Math.imul(ee,It)|0,X=X+Math.imul(se,Ct)|0,oe=oe+Math.imul(se,It)|0;var zt=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(zt>>>26)|0,zt&=67108863,$=Math.imul(At,Ie),X=Math.imul(At,be),X=X+Math.imul(tt,Ie)|0,oe=Math.imul(tt,be),$=$+Math.imul(st,Me)|0,X=X+Math.imul(st,Te)|0,X=X+Math.imul(ht,Me)|0,oe=oe+Math.imul(ht,Te)|0,$=$+Math.imul(at,Je)|0,X=X+Math.imul(at,nt)|0,X=X+Math.imul(We,Je)|0,oe=oe+Math.imul(We,nt)|0,$=$+Math.imul(Xe,yt)|0,X=X+Math.imul(Xe,Yt)|0,X=X+Math.imul(ut,yt)|0,oe=oe+Math.imul(ut,Yt)|0,$=$+Math.imul(Ve,St)|0,X=X+Math.imul(Ve,kt)|0,X=X+Math.imul(Ue,St)|0,oe=oe+Math.imul(Ue,kt)|0,$=$+Math.imul(Ee,mr)|0,X=X+Math.imul(Ee,mt)|0,X=X+Math.imul(xe,mr)|0,oe=oe+Math.imul(xe,mt)|0,$=$+Math.imul(Ae,Qt)|0,X=X+Math.imul(Ae,yr)|0,X=X+Math.imul(ke,Qt)|0,oe=oe+Math.imul(ke,yr)|0,$=$+Math.imul(he,bt)|0,X=X+Math.imul(he,lt)|0,X=X+Math.imul(ye,bt)|0,oe=oe+Math.imul(ye,lt)|0,$=$+Math.imul(K,Ct)|0,X=X+Math.imul(K,It)|0,X=X+Math.imul(le,Ct)|0,oe=oe+Math.imul(le,It)|0;var Ft=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,$=Math.imul(At,Me),X=Math.imul(At,Te),X=X+Math.imul(tt,Me)|0,oe=Math.imul(tt,Te),$=$+Math.imul(st,Je)|0,X=X+Math.imul(st,nt)|0,X=X+Math.imul(ht,Je)|0,oe=oe+Math.imul(ht,nt)|0,$=$+Math.imul(at,yt)|0,X=X+Math.imul(at,Yt)|0,X=X+Math.imul(We,yt)|0,oe=oe+Math.imul(We,Yt)|0,$=$+Math.imul(Xe,St)|0,X=X+Math.imul(Xe,kt)|0,X=X+Math.imul(ut,St)|0,oe=oe+Math.imul(ut,kt)|0,$=$+Math.imul(Ve,mr)|0,X=X+Math.imul(Ve,mt)|0,X=X+Math.imul(Ue,mr)|0,oe=oe+Math.imul(Ue,mt)|0,$=$+Math.imul(Ee,Qt)|0,X=X+Math.imul(Ee,yr)|0,X=X+Math.imul(xe,Qt)|0,oe=oe+Math.imul(xe,yr)|0,$=$+Math.imul(Ae,bt)|0,X=X+Math.imul(Ae,lt)|0,X=X+Math.imul(ke,bt)|0,oe=oe+Math.imul(ke,lt)|0,$=$+Math.imul(he,Ct)|0,X=X+Math.imul(he,It)|0,X=X+Math.imul(ye,Ct)|0,oe=oe+Math.imul(ye,It)|0;var Jt=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,$=Math.imul(At,Je),X=Math.imul(At,nt),X=X+Math.imul(tt,Je)|0,oe=Math.imul(tt,nt),$=$+Math.imul(st,yt)|0,X=X+Math.imul(st,Yt)|0,X=X+Math.imul(ht,yt)|0,oe=oe+Math.imul(ht,Yt)|0,$=$+Math.imul(at,St)|0,X=X+Math.imul(at,kt)|0,X=X+Math.imul(We,St)|0,oe=oe+Math.imul(We,kt)|0,$=$+Math.imul(Xe,mr)|0,X=X+Math.imul(Xe,mt)|0,X=X+Math.imul(ut,mr)|0,oe=oe+Math.imul(ut,mt)|0,$=$+Math.imul(Ve,Qt)|0,X=X+Math.imul(Ve,yr)|0,X=X+Math.imul(Ue,Qt)|0,oe=oe+Math.imul(Ue,yr)|0,$=$+Math.imul(Ee,bt)|0,X=X+Math.imul(Ee,lt)|0,X=X+Math.imul(xe,bt)|0,oe=oe+Math.imul(xe,lt)|0,$=$+Math.imul(Ae,Ct)|0,X=X+Math.imul(Ae,It)|0,X=X+Math.imul(ke,Ct)|0,oe=oe+Math.imul(ke,It)|0;var tr=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(tr>>>26)|0,tr&=67108863,$=Math.imul(At,yt),X=Math.imul(At,Yt),X=X+Math.imul(tt,yt)|0,oe=Math.imul(tt,Yt),$=$+Math.imul(st,St)|0,X=X+Math.imul(st,kt)|0,X=X+Math.imul(ht,St)|0,oe=oe+Math.imul(ht,kt)|0,$=$+Math.imul(at,mr)|0,X=X+Math.imul(at,mt)|0,X=X+Math.imul(We,mr)|0,oe=oe+Math.imul(We,mt)|0,$=$+Math.imul(Xe,Qt)|0,X=X+Math.imul(Xe,yr)|0,X=X+Math.imul(ut,Qt)|0,oe=oe+Math.imul(ut,yr)|0,$=$+Math.imul(Ve,bt)|0,X=X+Math.imul(Ve,lt)|0,X=X+Math.imul(Ue,bt)|0,oe=oe+Math.imul(Ue,lt)|0,$=$+Math.imul(Ee,Ct)|0,X=X+Math.imul(Ee,It)|0,X=X+Math.imul(xe,Ct)|0,oe=oe+Math.imul(xe,It)|0;var ur=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(ur>>>26)|0,ur&=67108863,$=Math.imul(At,St),X=Math.imul(At,kt),X=X+Math.imul(tt,St)|0,oe=Math.imul(tt,kt),$=$+Math.imul(st,mr)|0,X=X+Math.imul(st,mt)|0,X=X+Math.imul(ht,mr)|0,oe=oe+Math.imul(ht,mt)|0,$=$+Math.imul(at,Qt)|0,X=X+Math.imul(at,yr)|0,X=X+Math.imul(We,Qt)|0,oe=oe+Math.imul(We,yr)|0,$=$+Math.imul(Xe,bt)|0,X=X+Math.imul(Xe,lt)|0,X=X+Math.imul(ut,bt)|0,oe=oe+Math.imul(ut,lt)|0,$=$+Math.imul(Ve,Ct)|0,X=X+Math.imul(Ve,It)|0,X=X+Math.imul(Ue,Ct)|0,oe=oe+Math.imul(Ue,It)|0;var nr=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(nr>>>26)|0,nr&=67108863,$=Math.imul(At,mr),X=Math.imul(At,mt),X=X+Math.imul(tt,mr)|0,oe=Math.imul(tt,mt),$=$+Math.imul(st,Qt)|0,X=X+Math.imul(st,yr)|0,X=X+Math.imul(ht,Qt)|0,oe=oe+Math.imul(ht,yr)|0,$=$+Math.imul(at,bt)|0,X=X+Math.imul(at,lt)|0,X=X+Math.imul(We,bt)|0,oe=oe+Math.imul(We,lt)|0,$=$+Math.imul(Xe,Ct)|0,X=X+Math.imul(Xe,It)|0,X=X+Math.imul(ut,Ct)|0,oe=oe+Math.imul(ut,It)|0;var Nt=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,$=Math.imul(At,Qt),X=Math.imul(At,yr),X=X+Math.imul(tt,Qt)|0,oe=Math.imul(tt,yr),$=$+Math.imul(st,bt)|0,X=X+Math.imul(st,lt)|0,X=X+Math.imul(ht,bt)|0,oe=oe+Math.imul(ht,lt)|0,$=$+Math.imul(at,Ct)|0,X=X+Math.imul(at,It)|0,X=X+Math.imul(We,Ct)|0,oe=oe+Math.imul(We,It)|0;var hr=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(hr>>>26)|0,hr&=67108863,$=Math.imul(At,bt),X=Math.imul(At,lt),X=X+Math.imul(tt,bt)|0,oe=Math.imul(tt,lt),$=$+Math.imul(st,Ct)|0,X=X+Math.imul(st,It)|0,X=X+Math.imul(ht,Ct)|0,oe=oe+Math.imul(ht,It)|0;var gr=(fe+$|0)+((X&8191)<<13)|0;fe=(oe+(X>>>13)|0)+(gr>>>26)|0,gr&=67108863,$=Math.imul(At,Ct),X=Math.imul(At,It),X=X+Math.imul(tt,Ct)|0,oe=Math.imul(tt,It);var br=(fe+$|0)+((X&8191)<<13)|0;return fe=(oe+(X>>>13)|0)+(br>>>26)|0,br&=67108863,ne[0]=Dt,ne[1]=Vt,ne[2]=Bt,ne[3]=$t,ne[4]=fr,ne[5]=cr,ne[6]=dr,ne[7]=Ye,ne[8]=Ge,ne[9]=zt,ne[10]=Ft,ne[11]=Jt,ne[12]=tr,ne[13]=ur,ne[14]=nr,ne[15]=Nt,ne[16]=hr,ne[17]=gr,ne[18]=br,fe!==0&&(ne[19]=fe,W.length++),W};Math.imul||(C=S);function m(B,N,V){V.negative=N.negative^B.negative,V.length=B.length+N.length;for(var W=0,Q=0,re=0;re<V.length-1;re++){var ne=Q;Q=0;for(var fe=W&67108863,$=Math.min(re,N.length-1),X=Math.max(0,re-B.length+1);X<=$;X++){var oe=re-X,Y=B.words[oe]|0,ee=N.words[X]|0,se=Y*ee,q=se&67108863;ne=ne+(se/67108864|0)|0,q=q+fe|0,fe=q&67108863,ne=ne+(q>>>26)|0,Q+=ne>>>26,ne&=67108863}V.words[re]=fe,W=ne,ne=Q}return W!==0?V.words[re]=W:V.length--,V.strip()}function E(B,N,V){var W=new b;return W.mulp(B,N,V)}f.prototype.mulTo=function(N,V){var W,Q=this.length+N.length;return this.length===10&&N.length===10?W=C(this,N,V):Q<63?W=S(this,N,V):Q<1024?W=m(this,N,V):W=E(this,N,V),W};function b(B,N){this.x=B,this.y=N}b.prototype.makeRBT=function(N){for(var V=new Array(N),W=f.prototype._countBits(N)-1,Q=0;Q<N;Q++)V[Q]=this.revBin(Q,W,N);return V},b.prototype.revBin=function(N,V,W){if(N===0||N===W-1)return N;for(var Q=0,re=0;re<V;re++)Q|=(N&1)<<V-re-1,N>>=1;return Q},b.prototype.permute=function(N,V,W,Q,re,ne){for(var fe=0;fe<ne;fe++)Q[fe]=V[N[fe]],re[fe]=W[N[fe]]},b.prototype.transform=function(N,V,W,Q,re,ne){this.permute(ne,N,V,W,Q,re);for(var fe=1;fe<re;fe<<=1)for(var $=fe<<1,X=Math.cos(2*Math.PI/$),oe=Math.sin(2*Math.PI/$),Y=0;Y<re;Y+=$)for(var ee=X,se=oe,q=0;q<fe;q++){var K=W[Y+q],le=Q[Y+q],ie=W[Y+q+fe],he=Q[Y+q+fe],ye=ee*ie-se*he;he=ee*he+se*ie,ie=ye,W[Y+q]=K+ie,Q[Y+q]=le+he,W[Y+q+fe]=K-ie,Q[Y+q+fe]=le-he,q!==$&&(ye=X*ee-oe*se,se=X*se+oe*ee,ee=ye)}},b.prototype.guessLen13b=function(N,V){var W=Math.max(V,N)|1,Q=W&1,re=0;for(W=W/2|0;W;W=W>>>1)re++;return 1<<re+1+Q},b.prototype.conjugate=function(N,V,W){if(!(W<=1))for(var Q=0;Q<W/2;Q++){var re=N[Q];N[Q]=N[W-Q-1],N[W-Q-1]=re,re=V[Q],V[Q]=-V[W-Q-1],V[W-Q-1]=-re}},b.prototype.normalize13b=function(N,V){for(var W=0,Q=0;Q<V/2;Q++){var re=Math.round(N[2*Q+1]/V)*8192+Math.round(N[2*Q]/V)+W;N[Q]=re&67108863,re<67108864?W=0:W=re/67108864|0}return N},b.prototype.convert13b=function(N,V,W,Q){for(var re=0,ne=0;ne<V;ne++)re=re+(N[ne]|0),W[2*ne]=re&8191,re=re>>>13,W[2*ne+1]=re&8191,re=re>>>13;for(ne=2*V;ne<Q;++ne)W[ne]=0;n(re===0),n((re&-8192)===0)},b.prototype.stub=function(N){for(var V=new Array(N),W=0;W<N;W++)V[W]=0;return V},b.prototype.mulp=function(N,V,W){var Q=2*this.guessLen13b(N.length,V.length),re=this.makeRBT(Q),ne=this.stub(Q),fe=new Array(Q),$=new Array(Q),X=new Array(Q),oe=new Array(Q),Y=new Array(Q),ee=new Array(Q),se=W.words;se.length=Q,this.convert13b(N.words,N.length,fe,Q),this.convert13b(V.words,V.length,oe,Q),this.transform(fe,ne,$,X,Q,re),this.transform(oe,ne,Y,ee,Q,re);for(var q=0;q<Q;q++){var K=$[q]*Y[q]-X[q]*ee[q];X[q]=$[q]*ee[q]+X[q]*Y[q],$[q]=K}return this.conjugate($,X,Q),this.transform($,X,se,ne,Q,re),this.conjugate(se,ne,Q),this.normalize13b(se,Q),W.negative=N.negative^V.negative,W.length=N.length+V.length,W.strip()},f.prototype.mul=function(N){var V=new f(null);return V.words=new Array(this.length+N.length),this.mulTo(N,V)},f.prototype.mulf=function(N){var V=new f(null);return V.words=new Array(this.length+N.length),E(this,N,V)},f.prototype.imul=function(N){return this.clone().mulTo(N,this)},f.prototype.imuln=function(N){n(typeof N=="number"),n(N<67108864);for(var V=0,W=0;W<this.length;W++){var Q=(this.words[W]|0)*N,re=(Q&67108863)+(V&67108863);V>>=26,V+=Q/67108864|0,V+=re>>>26,this.words[W]=re&67108863}return V!==0&&(this.words[W]=V,this.length++),this},f.prototype.muln=function(N){return this.clone().imuln(N)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(N){var V=T(N);if(V.length===0)return new f(1);for(var W=this,Q=0;Q<V.length&&V[Q]===0;Q++,W=W.sqr());if(++Q<V.length)for(var re=W.sqr();Q<V.length;Q++,re=re.sqr())V[Q]!==0&&(W=W.mul(re));return W},f.prototype.iushln=function(N){n(typeof N=="number"&&N>=0);var V=N%26,W=(N-V)/26,Q=67108863>>>26-V<<26-V,re;if(V!==0){var ne=0;for(re=0;re<this.length;re++){var fe=this.words[re]&Q,$=(this.words[re]|0)-fe<<V;this.words[re]=$|ne,ne=fe>>>26-V}ne&&(this.words[re]=ne,this.length++)}if(W!==0){for(re=this.length-1;re>=0;re--)this.words[re+W]=this.words[re];for(re=0;re<W;re++)this.words[re]=0;this.length+=W}return this.strip()},f.prototype.ishln=function(N){return n(this.negative===0),this.iushln(N)},f.prototype.iushrn=function(N,V,W){n(typeof N=="number"&&N>=0);var Q;V?Q=(V-V%26)/26:Q=0;var re=N%26,ne=Math.min((N-re)/26,this.length),fe=67108863^67108863>>>re<<re,$=W;if(Q-=ne,Q=Math.max(0,Q),$){for(var X=0;X<ne;X++)$.words[X]=this.words[X];$.length=ne}if(ne!==0)if(this.length>ne)for(this.length-=ne,X=0;X<this.length;X++)this.words[X]=this.words[X+ne];else this.words[0]=0,this.length=1;var oe=0;for(X=this.length-1;X>=0&&(oe!==0||X>=Q);X--){var Y=this.words[X]|0;this.words[X]=oe<<26-re|Y>>>re,oe=Y&fe}return $&&oe!==0&&($.words[$.length++]=oe),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(N,V,W){return n(this.negative===0),this.iushrn(N,V,W)},f.prototype.shln=function(N){return this.clone().ishln(N)},f.prototype.ushln=function(N){return this.clone().iushln(N)},f.prototype.shrn=function(N){return this.clone().ishrn(N)},f.prototype.ushrn=function(N){return this.clone().iushrn(N)},f.prototype.testn=function(N){n(typeof N=="number"&&N>=0);var V=N%26,W=(N-V)/26,Q=1<<V;if(this.length<=W)return!1;var re=this.words[W];return!!(re&Q)},f.prototype.imaskn=function(N){n(typeof N=="number"&&N>=0);var V=N%26,W=(N-V)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(V!==0&&W++,this.length=Math.min(W,this.length),V!==0){var Q=67108863^67108863>>>V<<V;this.words[this.length-1]&=Q}return this.strip()},f.prototype.maskn=function(N){return this.clone().imaskn(N)},f.prototype.iaddn=function(N){return n(typeof N=="number"),n(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(this.words[0]|0)<N?(this.words[0]=N-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},f.prototype._iaddn=function(N){this.words[0]+=N;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},f.prototype.isubn=function(N){if(n(typeof N=="number"),n(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},f.prototype.addn=function(N){return this.clone().iaddn(N)},f.prototype.subn=function(N){return this.clone().isubn(N)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(N,V,W){var Q=N.length+W,re;this._expand(Q);var ne,fe=0;for(re=0;re<N.length;re++){ne=(this.words[re+W]|0)+fe;var $=(N.words[re]|0)*V;ne-=$&67108863,fe=(ne>>26)-($/67108864|0),this.words[re+W]=ne&67108863}for(;re<this.length-W;re++)ne=(this.words[re+W]|0)+fe,fe=ne>>26,this.words[re+W]=ne&67108863;if(fe===0)return this.strip();for(n(fe===-1),fe=0,re=0;re<this.length;re++)ne=-(this.words[re]|0)+fe,fe=ne>>26,this.words[re]=ne&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(N,V){var W=this.length-N.length,Q=this.clone(),re=N,ne=re.words[re.length-1]|0,fe=this._countBits(ne);W=26-fe,W!==0&&(re=re.ushln(W),Q.iushln(W),ne=re.words[re.length-1]|0);var $=Q.length-re.length,X;if(V!=="mod"){X=new f(null),X.length=$+1,X.words=new Array(X.length);for(var oe=0;oe<X.length;oe++)X.words[oe]=0}var Y=Q.clone()._ishlnsubmul(re,1,$);Y.negative===0&&(Q=Y,X&&(X.words[$]=1));for(var ee=$-1;ee>=0;ee--){var se=(Q.words[re.length+ee]|0)*67108864+(Q.words[re.length+ee-1]|0);for(se=Math.min(se/ne|0,67108863),Q._ishlnsubmul(re,se,ee);Q.negative!==0;)se--,Q.negative=0,Q._ishlnsubmul(re,1,ee),Q.isZero()||(Q.negative^=1);X&&(X.words[ee]=se)}return X&&X.strip(),Q.strip(),V!=="div"&&W!==0&&Q.iushrn(W),{div:X||null,mod:Q}},f.prototype.divmod=function(N,V,W){if(n(!N.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var Q,re,ne;return this.negative!==0&&N.negative===0?(ne=this.neg().divmod(N,V),V!=="mod"&&(Q=ne.div.neg()),V!=="div"&&(re=ne.mod.neg(),W&&re.negative!==0&&re.iadd(N)),{div:Q,mod:re}):this.negative===0&&N.negative!==0?(ne=this.divmod(N.neg(),V),V!=="mod"&&(Q=ne.div.neg()),{div:Q,mod:ne.mod}):this.negative&N.negative?(ne=this.neg().divmod(N.neg(),V),V!=="div"&&(re=ne.mod.neg(),W&&re.negative!==0&&re.isub(N)),{div:ne.div,mod:re}):N.length>this.length||this.cmp(N)<0?{div:new f(0),mod:this}:N.length===1?V==="div"?{div:this.divn(N.words[0]),mod:null}:V==="mod"?{div:null,mod:new f(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new f(this.modn(N.words[0]))}:this._wordDiv(N,V)},f.prototype.div=function(N){return this.divmod(N,"div",!1).div},f.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},f.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},f.prototype.divRound=function(N){var V=this.divmod(N);if(V.mod.isZero())return V.div;var W=V.div.negative!==0?V.mod.isub(N):V.mod,Q=N.ushrn(1),re=N.andln(1),ne=W.cmp(Q);return ne<0||re===1&&ne===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},f.prototype.modn=function(N){n(N<=67108863);for(var V=(1<<26)%N,W=0,Q=this.length-1;Q>=0;Q--)W=(V*W+(this.words[Q]|0))%N;return W},f.prototype.idivn=function(N){n(N<=67108863);for(var V=0,W=this.length-1;W>=0;W--){var Q=(this.words[W]|0)+V*67108864;this.words[W]=Q/N|0,V=Q%N}return this.strip()},f.prototype.divn=function(N){return this.clone().idivn(N)},f.prototype.egcd=function(N){n(N.negative===0),n(!N.isZero());var V=this,W=N.clone();V.negative!==0?V=V.umod(N):V=V.clone();for(var Q=new f(1),re=new f(0),ne=new f(0),fe=new f(1),$=0;V.isEven()&&W.isEven();)V.iushrn(1),W.iushrn(1),++$;for(var X=W.clone(),oe=V.clone();!V.isZero();){for(var Y=0,ee=1;!(V.words[0]&ee)&&Y<26;++Y,ee<<=1);if(Y>0)for(V.iushrn(Y);Y-- >0;)(Q.isOdd()||re.isOdd())&&(Q.iadd(X),re.isub(oe)),Q.iushrn(1),re.iushrn(1);for(var se=0,q=1;!(W.words[0]&q)&&se<26;++se,q<<=1);if(se>0)for(W.iushrn(se);se-- >0;)(ne.isOdd()||fe.isOdd())&&(ne.iadd(X),fe.isub(oe)),ne.iushrn(1),fe.iushrn(1);V.cmp(W)>=0?(V.isub(W),Q.isub(ne),re.isub(fe)):(W.isub(V),ne.isub(Q),fe.isub(re))}return{a:ne,b:fe,gcd:W.iushln($)}},f.prototype._invmp=function(N){n(N.negative===0),n(!N.isZero());var V=this,W=N.clone();V.negative!==0?V=V.umod(N):V=V.clone();for(var Q=new f(1),re=new f(0),ne=W.clone();V.cmpn(1)>0&&W.cmpn(1)>0;){for(var fe=0,$=1;!(V.words[0]&$)&&fe<26;++fe,$<<=1);if(fe>0)for(V.iushrn(fe);fe-- >0;)Q.isOdd()&&Q.iadd(ne),Q.iushrn(1);for(var X=0,oe=1;!(W.words[0]&oe)&&X<26;++X,oe<<=1);if(X>0)for(W.iushrn(X);X-- >0;)re.isOdd()&&re.iadd(ne),re.iushrn(1);V.cmp(W)>=0?(V.isub(W),Q.isub(re)):(W.isub(V),re.isub(Q))}var Y;return V.cmpn(1)===0?Y=Q:Y=re,Y.cmpn(0)<0&&Y.iadd(N),Y},f.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var V=this.clone(),W=N.clone();V.negative=0,W.negative=0;for(var Q=0;V.isEven()&&W.isEven();Q++)V.iushrn(1),W.iushrn(1);do{for(;V.isEven();)V.iushrn(1);for(;W.isEven();)W.iushrn(1);var re=V.cmp(W);if(re<0){var ne=V;V=W,W=ne}else if(re===0||W.cmpn(1)===0)break;V.isub(W)}while(!0);return W.iushln(Q)},f.prototype.invm=function(N){return this.egcd(N).a.umod(N)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(N){return this.words[0]&N},f.prototype.bincn=function(N){n(typeof N=="number");var V=N%26,W=(N-V)/26,Q=1<<V;if(this.length<=W)return this._expand(W+1),this.words[W]|=Q,this;for(var re=Q,ne=W;re!==0&&ne<this.length;ne++){var fe=this.words[ne]|0;fe+=re,re=fe>>>26,fe&=67108863,this.words[ne]=fe}return re!==0&&(this.words[ne]=re,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(N){var V=N<0;if(this.negative!==0&&!V)return-1;if(this.negative===0&&V)return 1;this.strip();var W;if(this.length>1)W=1;else{V&&(N=-N),n(N<=67108863,"Number is too big");var Q=this.words[0]|0;W=Q===N?0:Q<N?-1:1}return this.negative!==0?-W|0:W},f.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var V=this.ucmp(N);return this.negative!==0?-V|0:V},f.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var V=0,W=this.length-1;W>=0;W--){var Q=this.words[W]|0,re=N.words[W]|0;if(Q!==re){Q<re?V=-1:Q>re&&(V=1);break}}return V},f.prototype.gtn=function(N){return this.cmpn(N)===1},f.prototype.gt=function(N){return this.cmp(N)===1},f.prototype.gten=function(N){return this.cmpn(N)>=0},f.prototype.gte=function(N){return this.cmp(N)>=0},f.prototype.ltn=function(N){return this.cmpn(N)===-1},f.prototype.lt=function(N){return this.cmp(N)===-1},f.prototype.lten=function(N){return this.cmpn(N)<=0},f.prototype.lte=function(N){return this.cmp(N)<=0},f.prototype.eqn=function(N){return this.cmpn(N)===0},f.prototype.eq=function(N){return this.cmp(N)===0},f.red=function(N){return new F(N)},f.prototype.toRed=function(N){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},f.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(N){return this.red=N,this},f.prototype.forceRed=function(N){return n(!this.red,"Already a number in reduction context"),this._forceRed(N)},f.prototype.redAdd=function(N){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},f.prototype.redIAdd=function(N){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},f.prototype.redSub=function(N){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},f.prototype.redISub=function(N){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},f.prototype.redShl=function(N){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},f.prototype.redMul=function(N){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},f.prototype.redIMul=function(N){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},f.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(N){return n(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var s={k256:null,p224:null,p192:null,p25519:null};function L(B,N){this.name=B,this.p=new f(N,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var N=new f(null);return N.words=new Array(Math.ceil(this.n/13)),N},L.prototype.ireduce=function(N){var V=N,W;do this.split(V,this.tmp),V=this.imulK(V),V=V.iadd(this.tmp),W=V.bitLength();while(W>this.n);var Q=W<this.n?-1:V.ucmp(this.p);return Q===0?(V.words[0]=0,V.length=1):Q>0?V.isub(this.p):V.strip!==void 0?V.strip():V._strip(),V},L.prototype.split=function(N,V){N.iushrn(this.n,0,V)},L.prototype.imulK=function(N){return N.imul(this.k)};function A(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(A,L),A.prototype.split=function(N,V){for(var W=4194303,Q=Math.min(N.length,9),re=0;re<Q;re++)V.words[re]=N.words[re];if(V.length=Q,N.length<=9){N.words[0]=0,N.length=1;return}var ne=N.words[9];for(V.words[V.length++]=ne&W,re=10;re<N.length;re++){var fe=N.words[re]|0;N.words[re-10]=(fe&W)<<4|ne>>>22,ne=fe}ne>>>=22,N.words[re-10]=ne,ne===0&&N.length>10?N.length-=10:N.length-=9},A.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var V=0,W=0;W<N.length;W++){var Q=N.words[W]|0;V+=Q*977,N.words[W]=V&67108863,V=Q*64+(V/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N};function k(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(k,L);function _(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(_,L);function U(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(U,L),U.prototype.imulK=function(N){for(var V=0,W=0;W<N.length;W++){var Q=(N.words[W]|0)*19+V,re=Q&67108863;Q>>>=26,N.words[W]=re,V=Q}return V!==0&&(N.words[N.length++]=V),N},f._prime=function(N){if(s[N])return s[N];var V;if(N==="k256")V=new A;else if(N==="p224")V=new k;else if(N==="p192")V=new _;else if(N==="p25519")V=new U;else throw new Error("Unknown prime "+N);return s[N]=V,V};function F(B){if(typeof B=="string"){var N=f._prime(B);this.m=N.p,this.prime=N}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}F.prototype._verify1=function(N){n(N.negative===0,"red works only with positives"),n(N.red,"red works only with red numbers")},F.prototype._verify2=function(N,V){n((N.negative|V.negative)===0,"red works only with positives"),n(N.red&&N.red===V.red,"red works only with red numbers")},F.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},F.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},F.prototype.add=function(N,V){this._verify2(N,V);var W=N.add(V);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},F.prototype.iadd=function(N,V){this._verify2(N,V);var W=N.iadd(V);return W.cmp(this.m)>=0&&W.isub(this.m),W},F.prototype.sub=function(N,V){this._verify2(N,V);var W=N.sub(V);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},F.prototype.isub=function(N,V){this._verify2(N,V);var W=N.isub(V);return W.cmpn(0)<0&&W.iadd(this.m),W},F.prototype.shl=function(N,V){return this._verify1(N),this.imod(N.ushln(V))},F.prototype.imul=function(N,V){return this._verify2(N,V),this.imod(N.imul(V))},F.prototype.mul=function(N,V){return this._verify2(N,V),this.imod(N.mul(V))},F.prototype.isqr=function(N){return this.imul(N,N.clone())},F.prototype.sqr=function(N){return this.mul(N,N)},F.prototype.sqrt=function(N){if(N.isZero())return N.clone();var V=this.m.andln(3);if(n(V%2===1),V===3){var W=this.m.add(new f(1)).iushrn(2);return this.pow(N,W)}for(var Q=this.m.subn(1),re=0;!Q.isZero()&&Q.andln(1)===0;)re++,Q.iushrn(1);n(!Q.isZero());var ne=new f(1).toRed(this),fe=ne.redNeg(),$=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new f(2*X*X).toRed(this);this.pow(X,$).cmp(fe)!==0;)X.redIAdd(fe);for(var oe=this.pow(X,Q),Y=this.pow(N,Q.addn(1).iushrn(1)),ee=this.pow(N,Q),se=re;ee.cmp(ne)!==0;){for(var q=ee,K=0;q.cmp(ne)!==0;K++)q=q.redSqr();n(K<se);var le=this.pow(oe,new f(1).iushln(se-K-1));Y=Y.redMul(le),oe=le.redSqr(),ee=ee.redMul(oe),se=K}return Y},F.prototype.invm=function(N){var V=N._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},F.prototype.pow=function(N,V){if(V.isZero())return new f(1).toRed(this);if(V.cmpn(1)===0)return N.clone();var W=4,Q=new Array(1<<W);Q[0]=new f(1).toRed(this),Q[1]=N;for(var re=2;re<Q.length;re++)Q[re]=this.mul(Q[re-1],N);var ne=Q[0],fe=0,$=0,X=V.bitLength()%26;for(X===0&&(X=26),re=V.length-1;re>=0;re--){for(var oe=V.words[re],Y=X-1;Y>=0;Y--){var ee=oe>>Y&1;if(ne!==Q[0]&&(ne=this.sqr(ne)),ee===0&&fe===0){$=0;continue}fe<<=1,fe|=ee,$++,!($!==W&&(re!==0||Y!==0))&&(ne=this.mul(ne,Q[fe]),$=0,fe=0)}X=26}return ne},F.prototype.convertTo=function(N){var V=N.umod(this.m);return V===N?V.clone():V},F.prototype.convertFrom=function(N){var V=N.clone();return V.red=null,V},f.mont=function(N){return new z(N)};function z(B){F.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(z,F),z.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},z.prototype.convertFrom=function(N){var V=this.imod(N.mul(this.rinv));return V.red=null,V},z.prototype.imul=function(N,V){if(N.isZero()||V.isZero())return N.words[0]=0,N.length=1,N;var W=N.imul(V),Q=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=W.isub(Q).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},z.prototype.mul=function(N,V){if(N.isZero()||V.isZero())return new f(0)._forceRed(this);var W=N.mul(V),Q=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=W.isub(Q).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},z.prototype.invm=function(N){var V=this.imod(N._invmp(this.m).mul(this.r2));return V._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(r){var t,i,n,u=r.length,f=0;for(t=0;t<u;++t)f+=r[t].length;var l=new Array(f),y=0;for(t=0;t<u;++t){var h=r[t],M=h.length;for(i=0;i<M;++i){var c=l[y++]=new Array(M-1),o=0;for(n=0;n<M;++n)n!==i&&(c[o++]=h[n]);if(i&1){var d=c[1];c[1]=c[0],c[0]=d}}}return l}},2569:function(v,p,r){v.exports=o;var t=r(5306),i=r(1390),n=r(2337);function u(d,T){for(var S=0;S<d;++S)if(!(T[S]<=T[S+d]))return!0;return!1}function f(d,T,S,C){for(var m=0,E=0,b=0,s=d.length;b<s;++b){var L=d[b];if(!u(T,L)){for(var A=0;A<2*T;++A)S[m++]=L[A];C[E++]=b}}return E}function l(d,T,S,C){var m=d.length,E=T.length;if(!(m<=0||E<=0)){var b=d[0].length>>>1;if(!(b<=0)){var s,L=t.mallocDouble(2*b*m),A=t.mallocInt32(m);if(m=f(d,b,L,A),m>0){if(b===1&&C)i.init(m),s=i.sweepComplete(b,S,0,m,L,A,0,m,L,A);else{var k=t.mallocDouble(2*b*E),_=t.mallocInt32(E);E=f(T,b,k,_),E>0&&(i.init(m+E),b===1?s=i.sweepBipartite(b,S,0,m,L,A,0,E,k,_):s=n(b,S,C,m,L,A,E,k,_),t.free(k),t.free(_))}t.free(L),t.free(A)}return s}}}var y;function h(d,T){y.push([d,T])}function M(d){return y=[],l(d,d,h,!0),y}function c(d,T){return y=[],l(d,T,h,!1),y}function o(d,T,S){switch(arguments.length){case 1:return M(d);case 2:return typeof T=="function"?l(d,d,T,!0):c(d,T);case 3:return l(d,T,S,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function r(){function n(l,y,h,M,c,o,d,T,S,C,m){for(var E=2*l,b=M,s=E*M;b<c;++b,s+=E){var L=o[y+s],A=o[y+s+l],k=d[b];e:for(var _=T,U=E*T;_<S;++_,U+=E){var F=C[y+U],z=C[y+U+l],B=m[_];if(!(z<L||A<F)){for(var N=y+1;N<l;++N){var V=o[N+s],W=o[N+l+s],Q=C[N+U],re=C[N+l+U];if(W<Q||re<V)continue e}var ne=h(k,B);if(ne!==void 0)return ne}}}}function u(l,y,h,M,c,o,d,T,S,C,m){for(var E=2*l,b=T,s=E*T;b<S;++b,s+=E){var L=C[y+s],A=C[y+s+l],k=m[b];e:for(var _=M,U=E*M;_<c;++_,U+=E){var F=o[y+U],z=o[y+U+l],B=d[_];if(!(A<F||z<L)){for(var N=y+1;N<l;++N){var V=o[N+U],W=o[N+l+U],Q=C[N+s],re=C[N+l+s];if(W<Q||re<V)continue e}var ne=h(B,k);if(ne!==void 0)return ne}}}}function f(l,y,h,M,c,o,d,T,S,C,m){return c-M>S-T?n(l,y,h,M,c,o,d,T,S,C,m):u(l,y,h,M,c,o,d,T,S,C,m)}return f}function t(){function n(h,M,c,o,d,T,S,C,m,E,b){for(var s=2*h,L=o,A=s*o;L<d;++L,A+=s){var k=T[M+A],_=T[M+A+h],U=S[L];e:for(var F=C,z=s*C;F<m;++F,z+=s){var B=E[M+z],N=b[F];if(!(B<=k||_<B)){for(var V=M+1;V<h;++V){var W=T[V+A],Q=T[V+h+A],re=E[V+z],ne=E[V+h+z];if(Q<re||ne<W)continue e}var fe=c(N,U);if(fe!==void 0)return fe}}}}function u(h,M,c,o,d,T,S,C,m,E,b){for(var s=2*h,L=o,A=s*o;L<d;++L,A+=s){var k=T[M+A],_=T[M+A+h],U=S[L];e:for(var F=C,z=s*C;F<m;++F,z+=s){var B=E[M+z],N=b[F];if(!(B<k||_<B)){for(var V=M+1;V<h;++V){var W=T[V+A],Q=T[V+h+A],re=E[V+z],ne=E[V+h+z];if(Q<re||ne<W)continue e}var fe=c(U,N);if(fe!==void 0)return fe}}}}function f(h,M,c,o,d,T,S,C,m,E,b){for(var s=2*h,L=C,A=s*C;L<m;++L,A+=s){var k=E[M+A],_=b[L];e:for(var U=o,F=s*o;U<d;++U,F+=s){var z=T[M+F],B=T[M+F+h],N=S[U];if(!(k<=z||B<k)){for(var V=M+1;V<h;++V){var W=T[V+F],Q=T[V+h+F],re=E[V+A],ne=E[V+h+A];if(Q<re||ne<W)continue e}var fe=c(_,N);if(fe!==void 0)return fe}}}}function l(h,M,c,o,d,T,S,C,m,E,b){for(var s=2*h,L=C,A=s*C;L<m;++L,A+=s){var k=E[M+A],_=b[L];e:for(var U=o,F=s*o;U<d;++U,F+=s){var z=T[M+F],B=T[M+F+h],N=S[U];if(!(k<z||B<k)){for(var V=M+1;V<h;++V){var W=T[V+F],Q=T[V+h+F],re=E[V+A],ne=E[V+h+A];if(Q<re||ne<W)continue e}var fe=c(N,_);if(fe!==void 0)return fe}}}}function y(h,M,c,o,d,T,S,C,m,E,b,s){return T-d>E-m?o?n(h,M,c,d,T,S,C,m,E,b,s):u(h,M,c,d,T,S,C,m,E,b,s):o?f(h,M,c,d,T,S,C,m,E,b,s):l(h,M,c,d,T,S,C,m,E,b,s)}return y}function i(n){return n?r():t()}p.partial=i(!1),p.full=i(!0)},2337:function(v,p,r){v.exports=B;var t=r(5306),i=r(2288),n=r(7333),u=n.partial,f=n.full,l=r(1390),y=r(2464),h=r(122),M=128,c=1<<22,o=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),T=h("lo===p0"),S=h("lo<p0"),C=h("hi<=p0"),m=h("lo<=p0&&p0<=hi"),E=h("lo<p0&&p0<=hi"),b=6,s=2,L=1024,A=t.mallocInt32(L),k=t.mallocDouble(L);function _(N,V){var W=8*i.log2(V+1)*(N+1)|0,Q=i.nextPow2(b*W);A.length<Q&&(t.free(A),A=t.mallocInt32(Q));var re=i.nextPow2(s*W);k.length<re&&(t.free(k),k=t.mallocDouble(re))}function U(N,V,W,Q,re,ne,fe,$,X){var oe=b*N;A[oe]=V,A[oe+1]=W,A[oe+2]=Q,A[oe+3]=re,A[oe+4]=ne,A[oe+5]=fe;var Y=s*N;k[Y]=$,k[Y+1]=X}function F(N,V,W,Q,re,ne,fe,$,X,oe,Y){var ee=2*N,se=X*ee,q=oe[se+V];e:for(var K=re,le=re*ee;K<ne;++K,le+=ee){var ie=fe[le+V],he=fe[le+V+N];if(!(q<ie||he<q)&&!(Q&&q===ie)){for(var ye=$[K],Ce=V+1;Ce<N;++Ce){var ie=fe[le+Ce],he=fe[le+Ce+N],Ae=oe[se+Ce],ke=oe[se+Ce+N];if(he<Ae||ke<ie)continue e}var we;if(Q?we=W(Y,ye):we=W(ye,Y),we!==void 0)return we}}}function z(N,V,W,Q,re,ne,fe,$,X,oe){var Y=2*N,ee=$*Y,se=X[ee+V];e:for(var q=Q,K=Q*Y;q<re;++q,K+=Y){var le=fe[q];if(le!==oe){var ie=ne[K+V],he=ne[K+V+N];if(!(se<ie||he<se)){for(var ye=V+1;ye<N;++ye){var ie=ne[K+ye],he=ne[K+ye+N],Ce=X[ee+ye],Ae=X[ee+ye+N];if(he<Ce||Ae<ie)continue e}var ke=W(le,oe);if(ke!==void 0)return ke}}}}function B(N,V,W,Q,re,ne,fe,$,X){_(N,Q+fe);var oe=0,Y=2*N,ee;for(U(oe++,0,0,Q,0,fe,W?16:0,-1/0,1/0),W||U(oe++,0,0,fe,0,Q,1,-1/0,1/0);oe>0;){oe-=1;var se=oe*b,q=A[se],K=A[se+1],le=A[se+2],ie=A[se+3],he=A[se+4],ye=A[se+5],Ce=oe*s,Ae=k[Ce],ke=k[Ce+1],we=ye&1,Ee=!!(ye&16),xe=re,Re=ne,Ve=$,Ue=X;if(we&&(xe=$,Re=X,Ve=re,Ue=ne),!(ye&2&&(le=S(N,q,K,le,xe,Re,ke),K>=le))&&!(ye&4&&(K=C(N,q,K,le,xe,Re,Ae),K>=le))){var Be=le-K,Xe=he-ie;if(Ee){if(N*Be*(Be+Xe)<o){if(ee=l.scanComplete(N,q,V,K,le,xe,Re,ie,he,Ve,Ue),ee!==void 0)return ee;continue}}else if(N*Math.min(Be,Xe)<M){if(ee=u(N,q,V,we,K,le,xe,Re,ie,he,Ve,Ue),ee!==void 0)return ee;continue}else if(N*Be*Xe<c){if(ee=l.scanBipartite(N,q,V,we,K,le,xe,Re,ie,he,Ve,Ue),ee!==void 0)return ee;continue}var ut=d(N,q,K,le,xe,Re,Ae,ke);if(K<ut)if(N*(ut-K)<M){if(ee=f(N,q+1,V,K,ut,xe,Re,ie,he,Ve,Ue),ee!==void 0)return ee}else if(q===N-2){if(we?ee=l.sweepBipartite(N,V,ie,he,Ve,Ue,K,ut,xe,Re):ee=l.sweepBipartite(N,V,K,ut,xe,Re,ie,he,Ve,Ue),ee!==void 0)return ee}else U(oe++,q+1,K,ut,ie,he,we,-1/0,1/0),U(oe++,q+1,ie,he,K,ut,we^1,-1/0,1/0);if(ut<le){var dt=y(N,q,ie,he,Ve,Ue),at=Ve[Y*dt+q],We=T(N,q,dt,he,Ve,Ue,at);if(We<he&&U(oe++,q,ut,le,We,he,(we|4)+(Ee?16:0),at,ke),ie<dt&&U(oe++,q,ut,le,ie,dt,(we|2)+(Ee?16:0),Ae,at),dt+1===We){if(Ee?ee=z(N,q,V,ut,le,xe,Re,dt,Ve,Ue[dt]):ee=F(N,q,V,we,ut,le,xe,Re,dt,Ve,Ue[dt]),ee!==void 0)return ee}else if(dt<We){var rt;if(Ee){if(rt=m(N,q,ut,le,xe,Re,at),ut<rt){var st=T(N,q,ut,rt,xe,Re,at);if(q===N-2){if(ut<st&&(ee=l.sweepComplete(N,V,ut,st,xe,Re,dt,We,Ve,Ue),ee!==void 0)||st<rt&&(ee=l.sweepBipartite(N,V,st,rt,xe,Re,dt,We,Ve,Ue),ee!==void 0))return ee}else ut<st&&U(oe++,q+1,ut,st,dt,We,16,-1/0,1/0),st<rt&&(U(oe++,q+1,st,rt,dt,We,0,-1/0,1/0),U(oe++,q+1,dt,We,st,rt,1,-1/0,1/0))}}else we?rt=E(N,q,ut,le,xe,Re,at):rt=m(N,q,ut,le,xe,Re,at),ut<rt&&(q===N-2?we?ee=l.sweepBipartite(N,V,dt,We,Ve,Ue,ut,rt,xe,Re):ee=l.sweepBipartite(N,V,ut,rt,xe,Re,dt,We,Ve,Ue):(U(oe++,q+1,ut,rt,dt,We,we,-1/0,1/0),U(oe++,q+1,dt,We,ut,rt,we^1,-1/0,1/0)))}}}}}},2464:function(v,p,r){v.exports=f;var t=r(122),i=t("lo<p0"),n=8;function u(l,y,h,M,c,o){for(var d=2*l,T=d*(h+1)+y,S=h+1;S<M;++S,T+=d)for(var C=c[T],m=S,E=d*(S-1);m>h&&c[E+y]>C;--m,E-=d){for(var b=E,s=E+d,L=0;L<d;++L,++b,++s){var A=c[b];c[b]=c[s],c[s]=A}var k=o[m];o[m]=o[m-1],o[m-1]=k}}function f(l,y,h,M,c,o){if(M<=h+1)return h;for(var d=h,T=M,S=M+h>>>1,C=2*l,m=S,E=c[C*S+y];d<T;){if(T-d<n){u(l,y,d,T,c,o),E=c[C*S+y];break}var b=T-d,s=Math.random()*b+d|0,L=c[C*s+y],A=Math.random()*b+d|0,k=c[C*A+y],_=Math.random()*b+d|0,U=c[C*_+y];L<=k?U>=k?(m=A,E=k):L>=U?(m=s,E=L):(m=_,E=U):k>=U?(m=A,E=k):U>=L?(m=s,E=L):(m=_,E=U);for(var B=C*(T-1),N=C*m,F=0;F<C;++F,++B,++N){var z=c[B];c[B]=c[N],c[N]=z}var V=o[T-1];o[T-1]=o[m],o[m]=V,m=i(l,y,d,T-1,c,o,E);for(var B=C*(T-1),N=C*m,F=0;F<C;++F,++B,++N){var z=c[B];c[B]=c[N],c[N]=z}var V=o[T-1];if(o[T-1]=o[m],o[m]=V,S<m){for(T=m-1;d<T&&c[C*(T-1)+y]===E;)T-=1;T+=1}else if(m<S)for(d=m+1;d<T&&c[C*d+y]===E;)d+=1;else break}return i(l,y,h,S,c,o,c[C*S+y])}},122:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":i,"lo<=p0":n,"hi<=p0":u,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":y};function r(h){return p[h]}function t(h,M,c,o,d,T,S){for(var C=2*h,m=C*c,E=m,b=c,s=M,L=h+M,A=c;o>A;++A,m+=C){var k=d[m+s];if(k===S)if(b===A)b+=1,E+=C;else{for(var _=0;C>_;++_){var U=d[m+_];d[m+_]=d[E],d[E++]=U}var F=T[A];T[A]=T[b],T[b++]=F}}return b}function i(h,M,c,o,d,T,S){for(var C=2*h,m=C*c,E=m,b=c,s=M,L=h+M,A=c;o>A;++A,m+=C){var k=d[m+s];if(k<S)if(b===A)b+=1,E+=C;else{for(var _=0;C>_;++_){var U=d[m+_];d[m+_]=d[E],d[E++]=U}var F=T[A];T[A]=T[b],T[b++]=F}}return b}function n(h,M,c,o,d,T,S){for(var C=2*h,m=C*c,E=m,b=c,s=M,L=h+M,A=c;o>A;++A,m+=C){var k=d[m+L];if(k<=S)if(b===A)b+=1,E+=C;else{for(var _=0;C>_;++_){var U=d[m+_];d[m+_]=d[E],d[E++]=U}var F=T[A];T[A]=T[b],T[b++]=F}}return b}function u(h,M,c,o,d,T,S){for(var C=2*h,m=C*c,E=m,b=c,s=M,L=h+M,A=c;o>A;++A,m+=C){var k=d[m+L];if(k<=S)if(b===A)b+=1,E+=C;else{for(var _=0;C>_;++_){var U=d[m+_];d[m+_]=d[E],d[E++]=U}var F=T[A];T[A]=T[b],T[b++]=F}}return b}function f(h,M,c,o,d,T,S){for(var C=2*h,m=C*c,E=m,b=c,s=M,L=h+M,A=c;o>A;++A,m+=C){var k=d[m+s],_=d[m+L];if(k<=S&&S<=_)if(b===A)b+=1,E+=C;else{for(var U=0;C>U;++U){var F=d[m+U];d[m+U]=d[E],d[E++]=F}var z=T[A];T[A]=T[b],T[b++]=z}}return b}function l(h,M,c,o,d,T,S){for(var C=2*h,m=C*c,E=m,b=c,s=M,L=h+M,A=c;o>A;++A,m+=C){var k=d[m+s],_=d[m+L];if(k<S&&S<=_)if(b===A)b+=1,E+=C;else{for(var U=0;C>U;++U){var F=d[m+U];d[m+U]=d[E],d[E++]=F}var z=T[A];T[A]=T[b],T[b++]=z}}return b}function y(h,M,c,o,d,T,S,C){for(var m=2*h,E=m*c,b=E,s=c,L=M,A=h+M,k=c;o>k;++k,E+=m){var _=d[E+L],U=d[E+A];if(!(_>=S)&&!(C>=U))if(s===k)s+=1,b+=m;else{for(var F=0;m>F;++F){var z=d[E+F];d[E+F]=d[b],d[b++]=z}var B=T[k];T[k]=T[s],T[s++]=B}}return s}},309:function(v){v.exports=r;var p=32;function r(M,c){c<=4*p?t(0,c-1,M):h(0,c-1,M)}function t(M,c,o){for(var d=2*(M+1),T=M+1;T<=c;++T){for(var S=o[d++],C=o[d++],m=T,E=d-2;m-- >M;){var b=o[E-2],s=o[E-1];if(b<S)break;if(b===S&&s<C)break;o[E]=b,o[E+1]=s,E-=2}o[E]=S,o[E+1]=C}}function i(M,c,o){M*=2,c*=2;var d=o[M],T=o[M+1];o[M]=o[c],o[M+1]=o[c+1],o[c]=d,o[c+1]=T}function n(M,c,o){M*=2,c*=2,o[M]=o[c],o[M+1]=o[c+1]}function u(M,c,o,d){M*=2,c*=2,o*=2;var T=d[M],S=d[M+1];d[M]=d[c],d[M+1]=d[c+1],d[c]=d[o],d[c+1]=d[o+1],d[o]=T,d[o+1]=S}function f(M,c,o,d,T){M*=2,c*=2,T[M]=T[c],T[c]=o,T[M+1]=T[c+1],T[c+1]=d}function l(M,c,o){M*=2,c*=2;var d=o[M],T=o[c];return d<T?!1:d===T?o[M+1]>o[c+1]:!0}function y(M,c,o,d){M*=2;var T=d[M];return T<c?!0:T===c?d[M+1]<o:!1}function h(M,c,o){var d=(c-M+1)/6|0,T=M+d,S=c-d,C=M+c>>1,m=C-d,E=C+d,b=T,s=m,L=C,A=E,k=S,_=M+1,U=c-1,F=0;l(b,s,o)&&(F=b,b=s,s=F),l(A,k,o)&&(F=A,A=k,k=F),l(b,L,o)&&(F=b,b=L,L=F),l(s,L,o)&&(F=s,s=L,L=F),l(b,A,o)&&(F=b,b=A,A=F),l(L,A,o)&&(F=L,L=A,A=F),l(s,k,o)&&(F=s,s=k,k=F),l(s,L,o)&&(F=s,s=L,L=F),l(A,k,o)&&(F=A,A=k,k=F);for(var z=o[2*s],B=o[2*s+1],N=o[2*A],V=o[2*A+1],W=2*b,Q=2*L,re=2*k,ne=2*T,fe=2*C,$=2*S,X=0;X<2;++X){var oe=o[W+X],Y=o[Q+X],ee=o[re+X];o[ne+X]=oe,o[fe+X]=Y,o[$+X]=ee}n(m,M,o),n(E,c,o);for(var se=_;se<=U;++se)if(y(se,z,B,o))se!==_&&i(se,_,o),++_;else if(!y(se,N,V,o))for(;;)if(y(U,N,V,o)){y(U,z,B,o)?(u(se,_,U,o),++_,--U):(i(se,U,o),--U);break}else{if(--U<se)break;continue}f(M,_-1,z,B,o),f(c,U+1,N,V,o),_-2-M<=p?t(M,_-2,o):h(M,_-2,o),c-(U+2)<=p?t(U+2,c,o):h(U+2,c,o),U-_<=p?t(_,U,o):h(_,U,o)}},1390:function(v,p,r){v.exports={init:T,sweepBipartite:m,sweepComplete:E,scanBipartite:b,scanComplete:s};var t=r(5306),i=r(2288),n=r(309),u=1<<28,f=1024,l=t.mallocInt32(f),y=t.mallocInt32(f),h=t.mallocInt32(f),M=t.mallocInt32(f),c=t.mallocInt32(f),o=t.mallocInt32(f),d=t.mallocDouble(f*8);function T(L){var A=i.nextPow2(L);l.length<A&&(t.free(l),l=t.mallocInt32(A)),y.length<A&&(t.free(y),y=t.mallocInt32(A)),h.length<A&&(t.free(h),h=t.mallocInt32(A)),M.length<A&&(t.free(M),M=t.mallocInt32(A)),c.length<A&&(t.free(c),c=t.mallocInt32(A)),o.length<A&&(t.free(o),o=t.mallocInt32(A));var k=8*A;d.length<k&&(t.free(d),d=t.mallocDouble(k))}function S(L,A,k,_){var U=A[_],F=L[k-1];L[U]=F,A[F]=U}function C(L,A,k,_){L[k]=_,A[_]=k}function m(L,A,k,_,U,F,z,B,N,V){for(var W=0,Q=2*L,re=L-1,ne=Q-1,fe=k;fe<_;++fe){var $=F[fe],X=Q*fe;d[W++]=U[X+re],d[W++]=-($+1),d[W++]=U[X+ne],d[W++]=$}for(var fe=z;fe<B;++fe){var $=V[fe]+u,oe=Q*fe;d[W++]=N[oe+re],d[W++]=-$,d[W++]=N[oe+ne],d[W++]=$}var Y=W>>>1;n(d,Y);for(var ee=0,se=0,fe=0;fe<Y;++fe){var q=d[2*fe+1]|0;if(q>=u)q=q-u|0,S(h,M,se--,q);else if(q>=0)S(l,y,ee--,q);else if(q<=-u){q=-q-u|0;for(var K=0;K<ee;++K){var le=A(l[K],q);if(le!==void 0)return le}C(h,M,se++,q)}else{q=-q-1|0;for(var K=0;K<se;++K){var le=A(q,h[K]);if(le!==void 0)return le}C(l,y,ee++,q)}}}function E(L,A,k,_,U,F,z,B,N,V){for(var W=0,Q=2*L,re=L-1,ne=Q-1,fe=k;fe<_;++fe){var $=F[fe]+1<<1,X=Q*fe;d[W++]=U[X+re],d[W++]=-$,d[W++]=U[X+ne],d[W++]=$}for(var fe=z;fe<B;++fe){var $=V[fe]+1<<1,oe=Q*fe;d[W++]=N[oe+re],d[W++]=-$|1,d[W++]=N[oe+ne],d[W++]=$|1}var Y=W>>>1;n(d,Y);for(var ee=0,se=0,q=0,fe=0;fe<Y;++fe){var K=d[2*fe+1]|0,le=K&1;if(fe<Y-1&&K>>1===d[2*fe+3]>>1&&(le=2,fe+=1),K<0){for(var ie=-(K>>1)-1,he=0;he<q;++he){var ye=A(c[he],ie);if(ye!==void 0)return ye}if(le!==0)for(var he=0;he<ee;++he){var ye=A(l[he],ie);if(ye!==void 0)return ye}if(le!==1)for(var he=0;he<se;++he){var ye=A(h[he],ie);if(ye!==void 0)return ye}le===0?C(l,y,ee++,ie):le===1?C(h,M,se++,ie):le===2&&C(c,o,q++,ie)}else{var ie=(K>>1)-1;le===0?S(l,y,ee--,ie):le===1?S(h,M,se--,ie):le===2&&S(c,o,q--,ie)}}}function b(L,A,k,_,U,F,z,B,N,V,W,Q){var re=0,ne=2*L,fe=A,$=A+L,X=1,oe=1;_?oe=u:X=u;for(var Y=U;Y<F;++Y){var ee=Y+X,se=ne*Y;d[re++]=z[se+fe],d[re++]=-ee,d[re++]=z[se+$],d[re++]=ee}for(var Y=N;Y<V;++Y){var ee=Y+oe,q=ne*Y;d[re++]=W[q+fe],d[re++]=-ee}var K=re>>>1;n(d,K);for(var le=0,Y=0;Y<K;++Y){var ie=d[2*Y+1]|0;if(ie<0){var ee=-ie,he=!1;if(ee>=u?(he=!_,ee-=u):(he=!!_,ee-=1),he)C(l,y,le++,ee);else{var ye=Q[ee],Ce=ne*ee,Ae=W[Ce+A+1],ke=W[Ce+A+1+L];e:for(var we=0;we<le;++we){var Ee=l[we],xe=ne*Ee;if(!(ke<z[xe+A+1]||z[xe+A+1+L]<Ae)){for(var Re=A+2;Re<L;++Re)if(W[Ce+Re+L]<z[xe+Re]||z[xe+Re+L]<W[Ce+Re])continue e;var Ve=B[Ee],Ue;if(_?Ue=k(ye,Ve):Ue=k(Ve,ye),Ue!==void 0)return Ue}}}}else S(l,y,le--,ie-X)}}function s(L,A,k,_,U,F,z,B,N,V,W){for(var Q=0,re=2*L,ne=A,fe=A+L,$=_;$<U;++$){var X=$+u,oe=re*$;d[Q++]=F[oe+ne],d[Q++]=-X,d[Q++]=F[oe+fe],d[Q++]=X}for(var $=B;$<N;++$){var X=$+1,Y=re*$;d[Q++]=V[Y+ne],d[Q++]=-X}var ee=Q>>>1;n(d,ee);for(var se=0,$=0;$<ee;++$){var q=d[2*$+1]|0;if(q<0){var X=-q;if(X>=u)l[se++]=X-u;else{X-=1;var K=W[X],le=re*X,ie=V[le+A+1],he=V[le+A+1+L];e:for(var ye=0;ye<se;++ye){var Ce=l[ye],Ae=z[Ce];if(Ae===K)break;var ke=re*Ce;if(!(he<F[ke+A+1]||F[ke+A+1+L]<ie)){for(var we=A+2;we<L;++we)if(V[le+we+L]<F[ke+we]||F[ke+we+L]<V[le+we])continue e;var Ee=k(Ae,K);if(Ee!==void 0)return Ee}}}}else{for(var X=q-u,ye=se-1;ye>=0;--ye)if(l[ye]===X){for(var we=ye+1;we<se;++we)l[we-1]=l[we];break}--se}}}},7761:function(v,p,r){var t=r(9971),i=r(743),n=r(2161),u=r(7098);v.exports=M;function f(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,o){return c[0]-o[0]||c[1]-o[1]}function y(c){return c.map(f).sort(l)}function h(c,o,d){return o in c?c[o]:d}function M(c,o,d){Array.isArray(o)?(d=d||{},o=o||[]):(d=o||{},o=[]);var T=!!h(d,"delaunay",!0),S=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),m=!!h(d,"infinity",!1);if(!S&&!C||c.length===0)return[];var E=t(c,o);if(T||S!==C||m){for(var b=i(c.length,y(o)),s=0;s<E.length;++s){var L=E[s];b.addTriangle(L[0],L[1],L[2])}return T&&n(c,b),C?S?m?u(b,0,m):b.cells():u(b,1,m):u(b,-1)}else return E}},2161:function(v,p,r){var t=r(2227)[4];r(5070),v.exports=n;function i(u,f,l,y,h,M){var c=f.opposite(y,h);if(!(c<0)){if(h<y){var o=y;y=h,h=o,o=M,M=c,c=o}f.isConstraint(y,h)||t(u[y],u[h],u[M],u[c])<0&&l.push(y,h)}}function n(u,f){for(var l=[],y=u.length,h=f.stars,M=0;M<y;++M)for(var c=h[M],o=1;o<c.length;o+=2){var d=c[o];if(!(d<M)&&!f.isConstraint(M,d)){for(var T=c[o-1],S=-1,C=1;C<c.length;C+=2)if(c[C-1]===d){S=c[C];break}S<0||t(u[M],u[d],u[T],u[S])<0&&l.push(M,d)}}for(;l.length>0;){for(var d=l.pop(),M=l.pop(),T=-1,S=-1,c=h[M],m=1;m<c.length;m+=2){var E=c[m-1],b=c[m];E===d?S=b:b===d&&(T=E)}T<0||S<0||t(u[M],u[d],u[T],u[S])>=0||(f.flip(M,d),i(u,f,l,T,M,S),i(u,f,l,M,S,T),i(u,f,l,S,d,T),i(u,f,l,d,T,S))}}},7098:function(v,p,r){var t=r(5070);v.exports=y;function i(h,M,c,o,d,T,S){this.cells=h,this.neighbor=M,this.flags=o,this.constraint=c,this.active=d,this.next=T,this.boundary=S}var n=i.prototype;function u(h,M){return h[0]-M[0]||h[1]-M[1]||h[2]-M[2]}n.locate=function(){var h=[0,0,0];return function(M,c,o){var d=M,T=c,S=o;return c<o?c<M&&(d=c,T=o,S=M):o<M&&(d=o,T=M,S=c),d<0?-1:(h[0]=d,h[1]=T,h[2]=S,t.eq(this.cells,h,u))}}();function f(h,M){for(var c=h.cells(),o=c.length,d=0;d<o;++d){var T=c[d],S=T[0],C=T[1],m=T[2];C<m?C<S&&(T[0]=C,T[1]=m,T[2]=S):m<S&&(T[0]=m,T[1]=S,T[2]=C)}c.sort(u);for(var E=new Array(o),d=0;d<E.length;++d)E[d]=0;var b=[],s=[],L=new Array(3*o),A=new Array(3*o),k=null;M&&(k=[]);for(var _=new i(c,L,A,E,b,s,k),d=0;d<o;++d)for(var T=c[d],U=0;U<3;++U){var S=T[U],C=T[(U+1)%3],F=L[3*d+U]=_.locate(C,S,h.opposite(C,S)),z=A[3*d+U]=h.isConstraint(S,C);F<0&&(z?s.push(d):(b.push(d),E[d]=1),M&&k.push([C,S,-1]))}return _}function l(h,M,c){for(var o=0,d=0;d<h.length;++d)M[d]===c&&(h[o++]=h[d]);return h.length=o,h}function y(h,M,c){var o=f(h,c);if(M===0)return c?o.cells.concat(o.boundary):o.cells;for(var d=1,T=o.active,S=o.next,C=o.flags,m=o.cells,E=o.constraint,b=o.neighbor;T.length>0||S.length>0;){for(;T.length>0;){var s=T.pop();if(C[s]!==-d){C[s]=d,m[s];for(var L=0;L<3;++L){var A=b[3*s+L];A>=0&&C[A]===0&&(E[3*s+L]?S.push(A):(T.push(A),C[A]=d))}}}var k=S;S=T,T=k,S.length=0,d=-d}var _=l(m,C,M);return c?_.concat(o.boundary):_}},9971:function(v,p,r){var t=r(5070),i=r(417)[3],n=0,u=1,f=2;v.exports=S;function l(C,m,E,b,s){this.a=C,this.b=m,this.idx=E,this.lowerIds=b,this.upperIds=s}function y(C,m,E,b){this.a=C,this.b=m,this.type=E,this.idx=b}function h(C,m){var E=C.a[0]-m.a[0]||C.a[1]-m.a[1]||C.type-m.type;return E||C.type!==n&&(E=i(C.a,C.b,m.b),E)?E:C.idx-m.idx}function M(C,m){return i(C.a,C.b,m)}function c(C,m,E,b,s){for(var L=t.lt(m,b,M),A=t.gt(m,b,M),k=L;k<A;++k){for(var _=m[k],U=_.lowerIds,z=U.length;z>1&&i(E[U[z-2]],E[U[z-1]],b)>0;)C.push([U[z-1],U[z-2],s]),z-=1;U.length=z,U.push(s);for(var F=_.upperIds,z=F.length;z>1&&i(E[F[z-2]],E[F[z-1]],b)<0;)C.push([F[z-2],F[z-1],s]),z-=1;F.length=z,F.push(s)}}function o(C,m){var E;return C.a[0]<m.a[0]?E=i(C.a,C.b,m.a):E=i(m.b,m.a,C.a),E||(m.b[0]<C.b[0]?E=i(C.a,C.b,m.b):E=i(m.b,m.a,C.b),E||C.idx-m.idx)}function d(C,m,E){var b=t.le(C,E,o),s=C[b],L=s.upperIds,A=L[L.length-1];s.upperIds=[A],C.splice(b+1,0,new l(E.a,E.b,E.idx,[A],L))}function T(C,m,E){var b=E.a;E.a=E.b,E.b=b;var s=t.eq(C,E,o),L=C[s],A=C[s-1];A.upperIds=L.upperIds,C.splice(s,1)}function S(C,m){for(var E=C.length,b=m.length,s=[],L=0;L<E;++L)s.push(new y(C[L],null,n,L));for(var L=0;L<b;++L){var A=m[L],k=C[A[0]],_=C[A[1]];k[0]<_[0]?s.push(new y(k,_,f,L),new y(_,k,u,L)):k[0]>_[0]&&s.push(new y(_,k,f,L),new y(k,_,u,L))}s.sort(h);for(var U=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),F=[new l([U,1],[U,0],-1,[],[])],z=[],L=0,B=s.length;L<B;++L){var N=s[L],V=N.type;V===n?c(z,F,C,N.a,N.idx):V===f?d(F,C,N):T(F,C,N)}return z}},743:function(v,p,r){var t=r(5070);v.exports=f;function i(l,y){this.stars=l,this.edges=y}var n=i.prototype;function u(l,y,h){for(var M=1,c=l.length;M<c;M+=2)if(l[M-1]===y&&l[M]===h){l[M-1]=l[c-2],l[M]=l[c-1],l.length=c-2;return}}n.isConstraint=function(){var l=[0,0];function y(h,M){return h[0]-M[0]||h[1]-M[1]}return function(h,M){return l[0]=Math.min(h,M),l[1]=Math.max(h,M),t.eq(this.edges,l,y)>=0}}(),n.removeTriangle=function(l,y,h){var M=this.stars;u(M[l],y,h),u(M[y],h,l),u(M[h],l,y)},n.addTriangle=function(l,y,h){var M=this.stars;M[l].push(y,h),M[y].push(h,l),M[h].push(l,y)},n.opposite=function(l,y){for(var h=this.stars[y],M=1,c=h.length;M<c;M+=2)if(h[M]===l)return h[M-1];return-1},n.flip=function(l,y){var h=this.opposite(l,y),M=this.opposite(y,l);this.removeTriangle(l,y,h),this.removeTriangle(y,l,M),this.addTriangle(l,M,h),this.addTriangle(y,h,M)},n.edges=function(){for(var l=this.stars,y=[],h=0,M=l.length;h<M;++h)for(var c=l[h],o=0,d=c.length;o<d;o+=2)y.push([c[o],c[o+1]]);return y},n.cells=function(){for(var l=this.stars,y=[],h=0,M=l.length;h<M;++h)for(var c=l[h],o=0,d=c.length;o<d;o+=2){var T=c[o],S=c[o+1];h<Math.min(T,S)&&y.push([h,T,S])}return y};function f(l,y){for(var h=new Array(l),M=0;M<l;++M)h[M]=[];return new i(h,y)}},9887:function(v){v.exports=p;function p(r){for(var t=1,i=1;i<r.length;++i)for(var n=0;n<i;++n)if(r[i]<r[n])t=-t;else if(r[n]===r[i])return 0;return t}},9243:function(v,p,r){var t=r(3094),i=r(6606);function n(l,y){for(var h=0,M=l.length,c=0;c<M;++c)h+=l[c]*y[c];return h}function u(l){var y=l.length;if(y===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),M=t([l.length+1],1);h[y][y]=0;for(var c=0;c<y;++c){for(var o=0;o<=c;++o)h[o][c]=h[c][o]=2*n(l[c],l[o]);M[c]=n(l[c],l[c])}for(var d=i(h,M),T=0,S=d[y+1],c=0;c<S.length;++c)T+=S[c];for(var C=new Array(y),c=0;c<y;++c){for(var S=d[c],m=0,o=0;o<S.length;++o)m+=S[o];C[c]=m/T}return C}function f(l){if(l.length===0)return[];for(var y=l[0].length,h=t([y]),M=u(l),c=0;c<l.length;++c)for(var o=0;o<y;++o)h[o]+=l[c][o]*M[c];return h}f.barycenetric=u,v.exports=f},1778:function(v,p,r){v.exports=i;var t=r(9243);function i(n){for(var u=t(n),f=0,l=0;l<n.length;++l)for(var y=n[l],h=0;h<u.length;++h)f+=Math.pow(y[h]-u[h],2);return Math.sqrt(f/n.length)}},197:function(v,p,r){v.exports=k;var t=r(1731),i=r(2569),n=r(4434),u=r(5125),f=r(8846),l=r(7999),y=r(2826),h=r(8551),M=r(5528);function c(_){var U=l(_);return[h(U,-1/0),h(U,1/0)]}function o(_,U){for(var F=new Array(U.length),z=0;z<U.length;++z){var B=U[z],N=_[B[0]],V=_[B[1]];F[z]=[h(Math.min(N[0],V[0]),-1/0),h(Math.min(N[1],V[1]),-1/0),h(Math.max(N[0],V[0]),1/0),h(Math.max(N[1],V[1]),1/0)]}return F}function d(_){for(var U=new Array(_.length),F=0;F<_.length;++F){var z=_[F];U[F]=[h(z[0],-1/0),h(z[1],-1/0),h(z[0],1/0),h(z[1],1/0)]}return U}function T(_,U,F){var z=[];return i(F,function(B,N){var V=U[B],W=U[N];if(!(V[0]===W[0]||V[0]===W[1]||V[1]===W[0]||V[1]===W[1])){var Q=_[V[0]],re=_[V[1]],ne=_[W[0]],fe=_[W[1]];n(Q,re,ne,fe)&&z.push([B,N])}}),z}function S(_,U,F,z){var B=[];return i(F,z,function(N,V){var W=U[N];if(!(W[0]===V||W[1]===V)){var Q=_[V],re=_[W[0]],ne=_[W[1]];n(re,ne,Q,Q)&&B.push([N,V])}}),B}function C(_,U,F,z,B){var N,V,W=_.map(function(Ce){return[u(Ce[0]),u(Ce[1])]});for(N=0;N<F.length;++N){var Q=F[N];V=Q[0];var re=Q[1],ne=U[V],fe=U[re],$=M(y(_[ne[0]]),y(_[ne[1]]),y(_[fe[0]]),y(_[fe[1]]));if($){var X=_.length;_.push([l($[0]),l($[1])]),W.push($),z.push([V,X],[re,X])}}for(z.sort(function(Ce,Ae){if(Ce[0]!==Ae[0])return Ce[0]-Ae[0];var ke=W[Ce[1]],we=W[Ae[1]];return f(ke[0],we[0])||f(ke[1],we[1])}),N=z.length-1;N>=0;--N){var oe=z[N];V=oe[0];var Y=U[V],ee=Y[0],se=Y[1],q=_[ee],K=_[se];if((q[0]-K[0]||q[1]-K[1])<0){var le=ee;ee=se,se=le}Y[0]=ee;var ie=Y[1]=oe[1],he;for(B&&(he=Y[2]);N>0&&z[N-1][0]===V;){var oe=z[--N],ye=oe[1];B?U.push([ie,ye,he]):U.push([ie,ye]),ie=ye}B?U.push([ie,se,he]):U.push([ie,se])}return W}function m(_,U,F){for(var z=U.length,B=new t(z),N=[],V=0;V<U.length;++V){var W=U[V],Q=c(W[0]),re=c(W[1]);N.push([h(Q[0],-1/0),h(re[0],-1/0),h(Q[1],1/0),h(re[1],1/0)])}i(N,function(oe,Y){B.link(oe,Y)});for(var ne=!0,fe=new Array(z),V=0;V<z;++V){var $=B.find(V);$!==V&&(ne=!1,_[$]=[Math.min(_[V][0],_[$][0]),Math.min(_[V][1],_[$][1])])}if(ne)return null;for(var X=0,V=0;V<z;++V){var $=B.find(V);$===V?(fe[V]=X,_[X++]=_[V]):fe[V]=-1}_.length=X;for(var V=0;V<z;++V)fe[V]<0&&(fe[V]=fe[B.find(V)]);return fe}function E(_,U){return _[0]-U[0]||_[1]-U[1]}function b(_,U){var F=_[0]-U[0]||_[1]-U[1];return F||(_[2]<U[2]?-1:_[2]>U[2]?1:0)}function s(_,U,F){if(_.length!==0){if(U)for(var z=0;z<_.length;++z){var B=_[z],N=U[B[0]],V=U[B[1]];B[0]=Math.min(N,V),B[1]=Math.max(N,V)}else for(var z=0;z<_.length;++z){var B=_[z],N=B[0],V=B[1];B[0]=Math.min(N,V),B[1]=Math.max(N,V)}F?_.sort(b):_.sort(E);for(var W=1,z=1;z<_.length;++z){var Q=_[z-1],re=_[z];re[0]===Q[0]&&re[1]===Q[1]&&(!F||re[2]===Q[2])||(_[W++]=re)}_.length=W}}function L(_,U,F){var z=m(_,[],d(_));return s(U,z,F),!!z}function A(_,U,F){var z=o(_,U),B=T(_,U,z),N=d(_),V=S(_,U,z,N),W=C(_,U,B,V,F),Q=m(_,W);return s(U,Q,F),Q?!0:B.length>0||V.length>0}function k(_,U,F){var z;if(F){z=U;for(var B=new Array(U.length),N=0;N<U.length;++N){var V=U[N];B[N]=[V[0],V[1],F[N]]}U=B}for(var W=L(_,U,!!F);A(_,U,!!F);)W=!0;if(F&&W){z.length=0,F.length=0;for(var N=0;N<U.length;++N){var V=U[N];z.push([V[0],V[1]]),F.push(V[2])}}return W}},5528:function(v,p,r){v.exports=M;var t=r(3962),i=r(9189),n=r(4354),u=r(4951),f=r(6695),l=r(7584),y=r(4469);function h(c,o){return n(t(c[0],o[1]),t(c[1],o[0]))}function M(c,o,d,T){var S=f(o,c),C=f(T,d),m=h(S,C);if(u(m)===0)return null;var E=f(c,d),b=h(C,E),s=i(b,m),L=y(S,s),A=l(c,L);return A}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,r){var t=r(5692),i=r(3578);v.exports=n;function n(y){var h,M,c,o,d,T,S,C,s,m,E;if(y||(y={}),C=(y.nshades||72)-1,S=y.format||"hex",T=y.colormap,T||(T="jet"),typeof T=="string"){if(T=T.toLowerCase(),!t[T])throw Error(T+" not a supported colorscale");d=t[T]}else if(Array.isArray(T))d=T.slice();else throw Error("unsupported colormap option",T);if(d.length>C+1)throw new Error(T+" map requires nshades to be at least size "+d.length);Array.isArray(y.alpha)?y.alpha.length!==2?m=[1,1]:m=y.alpha.slice():typeof y.alpha=="number"?m=[y.alpha,y.alpha]:m=[1,1],h=d.map(function(k){return Math.round(k.index*C)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var b=d.map(function(k,_){var U=d[_].index,F=d[_].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=m[0]+(m[1]-m[0])*U),F}),s=[];for(E=0;E<h.length-1;++E){o=h[E+1]-h[E],M=b[E],c=b[E+1];for(var L=0;L<o;L++){var A=L/o;s.push([Math.round(i(M[0],c[0],A)),Math.round(i(M[1],c[1],A)),Math.round(i(M[2],c[2],A)),i(M[3],c[3],A)])}}return s.push(d[d.length-1].rgb.concat(m[1])),S==="hex"?s=s.map(f):S==="rgbaString"?s=s.map(l):S==="float"&&(s=s.map(u)),s}function u(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function f(y){for(var h,M="#",c=0;c<3;++c)h=y[c],h=h.toString(16),M+=("00"+h).substr(h.length);return M}function l(y){return"rgba("+y.join(",")+")"}},9398:function(v,p,r){v.exports=y;var t=r(417),i=r(7538),n=r(87),u=r(2019),f=r(9662);function l(h,M,c){var o=n(h[0],-M[0]),d=n(h[1],-M[1]),T=n(c[0],-M[0]),S=n(c[1],-M[1]),C=f(u(o,T),u(d,S));return C[C.length-1]>=0}function y(h,M,c,o){var d=t(M,c,o);if(d===0){var T=i(t(h,M,c)),S=i(t(h,M,o));if(T===S){if(T===0){var C=l(h,M,c),m=l(h,M,o);return C===m?0:C?1:-1}return 0}else{if(S===0)return T>0||l(h,M,o)?-1:1;if(T===0)return S>0||l(h,M,c)?1:-1}return i(S-T)}var E=t(h,M,c);if(E>0)return d>0&&t(h,M,o)>0?1:-1;if(E<0)return d>0||t(h,M,o)>0?1:-1;var b=t(h,M,o);return b>0||l(h,M,c)?1:-1}},7538:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(v){v.exports=t;var p=Math.min;function r(i,n){return i-n}function t(i,n){var u=i.length,f=i.length-n.length;if(f)return f;switch(u){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||p(i[0],i[1])-p(n[0],n[1]);case 3:var l=i[0]+i[1],y=n[0]+n[1];if(f=l+i[2]-(y+n[2]),f)return f;var h=p(i[0],i[1]),M=p(n[0],n[1]);return p(h,i[2])-p(M,n[2])||p(h+i[2],l)-p(M+n[2],y);case 4:var c=i[0],o=i[1],d=i[2],T=i[3],S=n[0],C=n[1],m=n[2],E=n[3];return c+o+d+T-(S+C+m+E)||p(c,o,d,T)-p(S,C,m,E,S)||p(c+o,c+d,c+T,o+d,o+T,d+T)-p(S+C,S+m,S+E,C+m,C+E,m+E)||p(c+o+d,c+o+T,c+d+T,o+d+T)-p(S+C+m,S+C+E,S+m+E,C+m+E);default:for(var b=i.slice().sort(r),s=n.slice().sort(r),L=0;L<u;++L)if(f=b[L]-s[L],f)return f;return 0}}},1284:function(v,p,r){var t=r(9209),i=r(9887);v.exports=n;function n(u,f){return t(u,f)||i(u)-i(f)}},5537:function(v,p,r){var t=r(8950),i=r(8722),n=r(3332);v.exports=u;function u(f){var l=f.length;if(l===0)return[];if(l===1)return[[0]];var y=f[0].length;return y===0?[]:y===1?t(f):y===2?i(f):n(f,y)}},8950:function(v){v.exports=p;function p(r){for(var t=0,i=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(v,p,r){v.exports=i;var t=r(3266);function i(n){var u=t(n),f=u.length;if(f<=2)return[];for(var l=new Array(f),y=u[f-1],h=0;h<f;++h){var M=u[h];l[h]=[y,M],y=M}return l}},3332:function(v,p,r){v.exports=f;var t=r(2183),i=r(2153);function n(l,y){for(var h=l.length,M=new Array(h),c=0;c<y.length;++c)M[c]=l[y[c]];for(var o=y.length,c=0;c<h;++c)y.indexOf(c)<0&&(M[o++]=l[c]);return M}function u(l,y){for(var h=l.length,M=y.length,c=0;c<h;++c)for(var o=l[c],d=0;d<o.length;++d){var T=o[d];if(T<M)o[d]=y[T];else{T=T-M;for(var S=0;S<M;++S)T>=y[S]&&(T+=1);o[d]=T}}return l}function f(l,y){try{return t(l,!0)}catch{var h=i(l);if(h.length<=y)return[];var M=n(l,h),c=t(M,!0);return u(c,h)}}},9680:function(v){function p(t,i,n,u,f,l){var y=6*f*f-6*f,h=3*f*f-4*f+1,M=-6*f*f+6*f,c=3*f*f-2*f;if(t.length){l||(l=new Array(t.length));for(var o=t.length-1;o>=0;--o)l[o]=y*t[o]+h*i[o]+M*n[o]+c*u[o];return l}return y*t+h*i+M*n[o]+c*u}function r(t,i,n,u,f,l){var y=f-1,h=f*f,M=y*y,c=(1+2*f)*M,o=f*M,d=h*(3-2*f),T=h*y;if(t.length){l||(l=new Array(t.length));for(var S=t.length-1;S>=0;--S)l[S]=c*t[S]+o*i[S]+d*n[S]+T*u[S];return l}return c*t+o*i+d*n+T*u}v.exports=r,v.exports.derivative=p},4419:function(v,p,r){var t=r(2183),i=r(1215);v.exports=l;function n(y,h){this.point=y,this.index=h}function u(y,h){for(var M=y.point,c=h.point,o=M.length,d=0;d<o;++d){var T=c[d]-M[d];if(T)return T}return 0}function f(y,h,M){if(y===1)return M?[[-1,0]]:[];var c=h.map(function(C,m){return[C[0],m]});c.sort(function(C,m){return C[0]-m[0]});for(var o=new Array(y-1),d=1;d<y;++d){var T=c[d-1],S=c[d];o[d-1]=[T[1],S[1]]}return M&&o.push([-1,o[0][1]],[o[y-1][1],-1]),o}function l(y,h){var M=y.length;if(M===0)return[];var c=y[0].length;if(c<1)return[];if(c===1)return f(M,y,h);for(var o=new Array(M),d=1,T=0;T<M;++T){for(var S=y[T],C=new Array(c+1),m=0,E=0;E<c;++E){var b=S[E];C[E]=b,m+=b*b}C[c]=m,o[T]=new n(C,T),d=Math.max(m,d)}i(o,u),M=o.length;for(var s=new Array(M+c+1),L=new Array(M+c+1),A=(c+1)*(c+1)*d,k=new Array(c+1),T=0;T<=c;++T)k[T]=0;k[c]=A,s[0]=k.slice(),L[0]=-1;for(var T=0;T<=c;++T){var C=k.slice();C[T]=1,s[T+1]=C,L[T+1]=-1}for(var T=0;T<M;++T){var _=o[T];s[T+c+1]=_.point,L[T+c+1]=_.index}var U=t(s,!1);if(h?U=U.filter(function(F){for(var z=0,B=0;B<=c;++B){var N=L[F[B]];if(N<0&&++z>=2)return!1;F[B]=N}return!0}):U=U.filter(function(F){for(var z=0;z<=c;++z){var B=L[F[z]];if(B<0)return!1;F[z]=B}return!0}),c&1)for(var T=0;T<U.length;++T){var _=U[T],C=_[0];_[0]=_[1],_[1]=C}return U}},8362:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let d=function(C,m){return t[0]=C,t[1]=m,r[0]},T=function(C){return r[0]=C,t[0]},S=function(C){return r[0]=C,t[1]};var n=d,u=T,f=S;v.exports=function(m){return r[0]=m,[t[0],t[1]]},v.exports.pack=d,v.exports.lo=T,v.exports.hi=S}else if(t[0]===1072693248){let d=function(C,m){return t[1]=C,t[0]=m,r[0]},T=function(C){return r[0]=C,t[1]},S=function(C){return r[0]=C,t[0]};var l=d,y=T,h=S;v.exports=function(m){return r[0]=m,[t[1],t[0]]},v.exports.pack=d,v.exports.lo=T,v.exports.hi=S}else p=!1}if(!p){let d=function(C,m){return i.writeUInt32LE(C,0,!0),i.writeUInt32LE(m,4,!0),i.readDoubleLE(0,!0)},T=function(C){return i.writeDoubleLE(C,0,!0),i.readUInt32LE(0,!0)},S=function(C){return i.writeDoubleLE(C,0,!0),i.readUInt32LE(4,!0)};var M=d,c=T,o=S,i=new Buffer(8);v.exports=function(m){return i.writeDoubleLE(m,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},v.exports.pack=d,v.exports.lo=T,v.exports.hi=S}v.exports.sign=function(d){return v.exports.hi(d)>>>31},v.exports.exponent=function(d){var T=v.exports.hi(d);return(T<<1>>>21)-1023},v.exports.fraction=function(d){var T=v.exports.lo(d),S=v.exports.hi(d),C=S&(1<<20)-1;return S&2146435072&&(C+=1048576),[T,C]},v.exports.denormalized=function(d){var T=v.exports.hi(d);return!(T&2146435072)}},3094:function(v){function p(i,n,u){var f=i[u]|0;if(f<=0)return[];var l=new Array(f),y;if(u===i.length-1)for(y=0;y<f;++y)l[y]=n;else for(y=0;y<f;++y)l[y]=p(i,n,u+1);return l}function r(i,n){var u,f;for(u=new Array(i),f=0;f<i;++f)u[f]=n;return u}function t(i,n){switch(typeof n>"u"&&(n=0),typeof i){case"number":if(i>0)return r(i|0,n);break;case"object":if(typeof i.length=="number")return p(i,n,0);break}return[]}v.exports=t},8348:function(v,p,r){v.exports=i;var t=r(1215);function i(n,u){var f=n.length;if(typeof u!="number"){u=0;for(var l=0;l<f;++l){var y=n[l];u=Math.max(u,y[0],y[1])}u=(u|0)+1}u=u|0;for(var h=new Array(u),l=0;l<u;++l)h[l]=[];for(var l=0;l<f;++l){var y=n[l];h[y[0]].push(y[1]),h[y[1]].push(y[0])}for(var M=0;M<u;++M)t(h[M],function(c,o){return c-o});return h}},5795:function(v){v.exports=p;function p(r,t,i){var n=t||0,u=i||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[u*r[12]-r[8],u*r[13]-r[9],u*r[14]-r[10],u*r[15]-r[11]]]}},8444:function(v,p,r){v.exports=y;var t=r(9680),i=r(5070);function n(h,M,c){return Math.min(M,Math.max(h,c))}function u(h,M,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=M.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var f=u.prototype;f.flush=function(h){var M=i.gt(this._time,h)-1;M<=0||(this._time.splice(0,M),this._state.splice(0,M*this.dimension),this._velocity.splice(0,M*this.dimension))},f.curve=function(h){var M=this._time,c=M.length,o=i.le(M,h),d=this._scratch[0],T=this._state,S=this._velocity,C=this.dimension,m=this.bounds;if(o<0)for(var E=C-1,b=0;b<C;++b,--E)d[b]=T[E];else if(o>=c-1)for(var E=T.length-1,s=h-M[c-1],b=0;b<C;++b,--E)d[b]=T[E]+s*S[E];else{for(var E=C*(o+1)-1,L=M[o],A=M[o+1],k=A-L||1,_=this._scratch[1],U=this._scratch[2],F=this._scratch[3],z=this._scratch[4],B=!0,b=0;b<C;++b,--E)_[b]=T[E],F[b]=S[E]*k,U[b]=T[E+C],z[b]=S[E+C]*k,B=B&&_[b]===U[b]&&F[b]===z[b]&&F[b]===0;if(B)for(var b=0;b<C;++b)d[b]=_[b];else t(_,F,U,z,(h-L)/k,d)}for(var N=m[0],V=m[1],b=0;b<C;++b)d[b]=n(N[b],V[b],d[b]);return d},f.dcurve=function(h){var M=this._time,c=M.length,o=i.le(M,h),d=this._scratch[0],T=this._state,S=this._velocity,C=this.dimension;if(o>=c-1){var m=T.length-1;h-M[c-1];for(var E=0;E<C;++E,--m)d[E]=S[m]}else{for(var m=C*(o+1)-1,b=M[o],s=M[o+1],L=s-b||1,A=this._scratch[1],k=this._scratch[2],_=this._scratch[3],U=this._scratch[4],F=!0,E=0;E<C;++E,--m)A[E]=T[m],_[E]=S[m]*L,k[E]=T[m+C],U[E]=S[m+C]*L,F=F&&A[E]===k[E]&&_[E]===U[E]&&_[E]===0;if(F)for(var E=0;E<C;++E)d[E]=0;else{t.derivative(A,_,k,U,(h-b)/L,d);for(var E=0;E<C;++E)d[E]/=L}}return d},f.lastT=function(){var h=this._time;return h[h.length-1]},f.stable=function(){for(var h=this._velocity,M=h.length,c=this.dimension-1;c>=0;--c)if(h[--M])return!1;return!0},f.jump=function(h){var M=this.lastT(),c=this.dimension;if(!(h<M||arguments.length!==c+1)){var o=this._state,d=this._velocity,T=o.length-this.dimension,S=this.bounds,C=S[0],m=S[1];this._time.push(M,h);for(var E=0;E<2;++E)for(var b=0;b<c;++b)o.push(o[T++]),d.push(0);this._time.push(h);for(var b=c;b>0;--b)o.push(n(C[b-1],m[b-1],arguments[b])),d.push(0)}},f.push=function(h){var M=this.lastT(),c=this.dimension;if(!(h<M||arguments.length!==c+1)){var o=this._state,d=this._velocity,T=o.length-this.dimension,S=h-M,C=this.bounds,m=C[0],E=C[1],b=S>1e-6?1/S:0;this._time.push(h);for(var s=c;s>0;--s){var L=n(m[s-1],E[s-1],arguments[s]);o.push(L),d.push((L-o[T++])*b)}}},f.set=function(h){var M=this.dimension;if(!(h<this.lastT()||arguments.length!==M+1)){var c=this._state,o=this._velocity,d=this.bounds,T=d[0],S=d[1];this._time.push(h);for(var C=M;C>0;--C)c.push(n(T[C-1],S[C-1],arguments[C])),o.push(0)}},f.move=function(h){var M=this.lastT(),c=this.dimension;if(!(h<=M||arguments.length!==c+1)){var o=this._state,d=this._velocity,T=o.length-this.dimension,S=this.bounds,C=S[0],m=S[1],E=h-M,b=E>1e-6?1/E:0;this._time.push(h);for(var s=c;s>0;--s){var L=arguments[s];o.push(n(C[s-1],m[s-1],o[T++]+L)),d.push(L*b)}}},f.idle=function(h){var M=this.lastT();if(!(h<M)){var c=this.dimension,o=this._state,d=this._velocity,T=o.length-c,S=this.bounds,C=S[0],m=S[1],E=h-M;this._time.push(h);for(var b=c-1;b>=0;--b)o.push(n(C[b],m[b],o[T]+E*d[T])),d.push(0),T+=1}};function l(h){for(var M=new Array(h),c=0;c<h;++c)M[c]=0;return M}function y(h,M,c){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof h=="number"){var o=l(h);return new u(o,o,0)}else return new u(h,l(h.length),0);case 2:if(typeof M=="number"){var o=l(h.length);return new u(h,o,+M)}else c=0;case 3:if(h.length!==M.length)throw new Error("state and velocity lengths must match");return new u(h,M,c)}}},7080:function(v){v.exports=C;var p=0,r=1;function t(m,E,b,s,L,A){this._color=m,this.key=E,this.value=b,this.left=s,this.right=L,this._count=A}function i(m){return new t(m._color,m.key,m.value,m.left,m.right,m._count)}function n(m,E){return new t(m,E.key,E.value,E.left,E.right,E._count)}function u(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function f(m,E){this._compare=m,this.root=E}var l=f.prototype;Object.defineProperty(l,"keys",{get:function(){var m=[];return this.forEach(function(E,b){m.push(E)}),m}}),Object.defineProperty(l,"values",{get:function(){var m=[];return this.forEach(function(E,b){m.push(b)}),m}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(m,E){for(var b=this._compare,s=this.root,L=[],A=[];s;){var k=b(m,s.key);L.push(s),A.push(k),k<=0?s=s.left:s=s.right}L.push(new t(p,m,E,null,null,1));for(var _=L.length-2;_>=0;--_){var s=L[_];A[_]<=0?L[_]=new t(s._color,s.key,s.value,L[_+1],s.right,s._count+1):L[_]=new t(s._color,s.key,s.value,s.left,L[_+1],s._count+1)}for(var _=L.length-1;_>1;--_){var U=L[_-1],s=L[_];if(U._color===r||s._color===r)break;var F=L[_-2];if(F.left===U)if(U.left===s){var z=F.right;if(z&&z._color===p)U._color=r,F.right=n(r,z),F._color=p,_-=1;else{if(F._color=p,F.left=U.right,U._color=r,U.right=F,L[_-2]=U,L[_-1]=s,u(F),u(U),_>=3){var B=L[_-3];B.left===F?B.left=U:B.right=U}break}}else{var z=F.right;if(z&&z._color===p)U._color=r,F.right=n(r,z),F._color=p,_-=1;else{if(U.right=s.left,F._color=p,F.left=s.right,s._color=r,s.left=U,s.right=F,L[_-2]=s,L[_-1]=U,u(F),u(U),u(s),_>=3){var B=L[_-3];B.left===F?B.left=s:B.right=s}break}}else if(U.right===s){var z=F.left;if(z&&z._color===p)U._color=r,F.left=n(r,z),F._color=p,_-=1;else{if(F._color=p,F.right=U.left,U._color=r,U.left=F,L[_-2]=U,L[_-1]=s,u(F),u(U),_>=3){var B=L[_-3];B.right===F?B.right=U:B.left=U}break}}else{var z=F.left;if(z&&z._color===p)U._color=r,F.left=n(r,z),F._color=p,_-=1;else{if(U.left=s.right,F._color=p,F.right=s.left,s._color=r,s.right=U,s.left=F,L[_-2]=s,L[_-1]=U,u(F),u(U),u(s),_>=3){var B=L[_-3];B.right===F?B.right=s:B.left=s}break}}}return L[0]._color=r,new f(b,L[0])};function y(m,E){if(E.left){var b=y(m,E.left);if(b)return b}var b=m(E.key,E.value);if(b)return b;if(E.right)return y(m,E.right)}function h(m,E,b,s){var L=E(m,s.key);if(L<=0){if(s.left){var A=h(m,E,b,s.left);if(A)return A}var A=b(s.key,s.value);if(A)return A}if(s.right)return h(m,E,b,s.right)}function M(m,E,b,s,L){var A=b(m,L.key),k=b(E,L.key),_;if(A<=0&&(L.left&&(_=M(m,E,b,s,L.left),_)||k>0&&(_=s(L.key,L.value),_)))return _;if(k>0&&L.right)return M(m,E,b,s,L.right)}l.forEach=function(E,b,s){if(this.root)switch(arguments.length){case 1:return y(E,this.root);case 2:return h(b,this._compare,E,this.root);case 3:return this._compare(b,s)>=0?void 0:M(b,s,this._compare,E,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var m=[],E=this.root;E;)m.push(E),E=E.left;return new c(this,m)}}),Object.defineProperty(l,"end",{get:function(){for(var m=[],E=this.root;E;)m.push(E),E=E.right;return new c(this,m)}}),l.at=function(m){if(m<0)return new c(this,[]);for(var E=this.root,b=[];;){if(b.push(E),E.left){if(m<E.left._count){E=E.left;continue}m-=E.left._count}if(!m)return new c(this,b);if(m-=1,E.right){if(m>=E.right._count)break;E=E.right}else break}return new c(this,[])},l.ge=function(m){for(var E=this._compare,b=this.root,s=[],L=0;b;){var A=E(m,b.key);s.push(b),A<=0&&(L=s.length),A<=0?b=b.left:b=b.right}return s.length=L,new c(this,s)},l.gt=function(m){for(var E=this._compare,b=this.root,s=[],L=0;b;){var A=E(m,b.key);s.push(b),A<0&&(L=s.length),A<0?b=b.left:b=b.right}return s.length=L,new c(this,s)},l.lt=function(m){for(var E=this._compare,b=this.root,s=[],L=0;b;){var A=E(m,b.key);s.push(b),A>0&&(L=s.length),A<=0?b=b.left:b=b.right}return s.length=L,new c(this,s)},l.le=function(m){for(var E=this._compare,b=this.root,s=[],L=0;b;){var A=E(m,b.key);s.push(b),A>=0&&(L=s.length),A<0?b=b.left:b=b.right}return s.length=L,new c(this,s)},l.find=function(m){for(var E=this._compare,b=this.root,s=[];b;){var L=E(m,b.key);if(s.push(b),L===0)return new c(this,s);L<=0?b=b.left:b=b.right}return new c(this,[])},l.remove=function(m){var E=this.find(m);return E?E.remove():this},l.get=function(m){for(var E=this._compare,b=this.root;b;){var s=E(m,b.key);if(s===0)return b.value;s<=0?b=b.left:b=b.right}};function c(m,E){this.tree=m,this._stack=E}var o=c.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new c(this.tree,this._stack.slice())};function d(m,E){m.key=E.key,m.value=E.value,m.left=E.left,m.right=E.right,m._color=E._color,m._count=E._count}function T(m){for(var E,b,s,L,A=m.length-1;A>=0;--A){if(E=m[A],A===0){E._color=r;return}if(b=m[A-1],b.left===E){if(s=b.right,s.right&&s.right._color===p){if(s=b.right=i(s),L=s.right=i(s.right),b.right=s.left,s.left=b,s.right=L,s._color=b._color,E._color=r,b._color=r,L._color=r,u(b),u(s),A>1){var k=m[A-2];k.left===b?k.left=s:k.right=s}m[A-1]=s;return}else if(s.left&&s.left._color===p){if(s=b.right=i(s),L=s.left=i(s.left),b.right=L.left,s.left=L.right,L.left=b,L.right=s,L._color=b._color,b._color=r,s._color=r,E._color=r,u(b),u(s),u(L),A>1){var k=m[A-2];k.left===b?k.left=L:k.right=L}m[A-1]=L;return}if(s._color===r)if(b._color===p){b._color=r,b.right=n(p,s);return}else{b.right=n(p,s);continue}else{if(s=i(s),b.right=s.left,s.left=b,s._color=b._color,b._color=p,u(b),u(s),A>1){var k=m[A-2];k.left===b?k.left=s:k.right=s}m[A-1]=s,m[A]=b,A+1<m.length?m[A+1]=E:m.push(E),A=A+2}}else{if(s=b.left,s.left&&s.left._color===p){if(s=b.left=i(s),L=s.left=i(s.left),b.left=s.right,s.right=b,s.left=L,s._color=b._color,E._color=r,b._color=r,L._color=r,u(b),u(s),A>1){var k=m[A-2];k.right===b?k.right=s:k.left=s}m[A-1]=s;return}else if(s.right&&s.right._color===p){if(s=b.left=i(s),L=s.right=i(s.right),b.left=L.right,s.right=L.left,L.right=b,L.left=s,L._color=b._color,b._color=r,s._color=r,E._color=r,u(b),u(s),u(L),A>1){var k=m[A-2];k.right===b?k.right=L:k.left=L}m[A-1]=L;return}if(s._color===r)if(b._color===p){b._color=r,b.left=n(p,s);return}else{b.left=n(p,s);continue}else{if(s=i(s),b.left=s.right,s.right=b,s._color=b._color,b._color=p,u(b),u(s),A>1){var k=m[A-2];k.right===b?k.right=s:k.left=s}m[A-1]=s,m[A]=b,A+1<m.length?m[A+1]=E:m.push(E),A=A+2}}}}o.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var E=new Array(m.length),b=m[m.length-1];E[E.length-1]=new t(b._color,b.key,b.value,b.left,b.right,b._count);for(var s=m.length-2;s>=0;--s){var b=m[s];b.left===m[s+1]?E[s]=new t(b._color,b.key,b.value,E[s+1],b.right,b._count):E[s]=new t(b._color,b.key,b.value,b.left,E[s+1],b._count)}if(b=E[E.length-1],b.left&&b.right){var L=E.length;for(b=b.left;b.right;)E.push(b),b=b.right;var A=E[L-1];E.push(new t(b._color,A.key,A.value,b.left,b.right,b._count)),E[L-1].key=b.key,E[L-1].value=b.value;for(var s=E.length-2;s>=L;--s)b=E[s],E[s]=new t(b._color,b.key,b.value,b.left,E[s+1],b._count);E[L-1].left=E[L]}if(b=E[E.length-1],b._color===p){var k=E[E.length-2];k.left===b?k.left=null:k.right===b&&(k.right=null),E.pop();for(var s=0;s<E.length;++s)E[s]._count--;return new f(this.tree._compare,E[0])}else if(b.left||b.right){b.left?d(b,b.left):b.right&&d(b,b.right),b._color=r;for(var s=0;s<E.length-1;++s)E[s]._count--;return new f(this.tree._compare,E[0])}else{if(E.length===1)return new f(this.tree._compare,null);for(var s=0;s<E.length;++s)E[s]._count--;var _=E[E.length-2];T(E),_.left===b?_.left=null:_.right=null}return new f(this.tree._compare,E[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var m=0,E=this._stack;if(E.length===0){var b=this.tree.root;return b?b._count:0}else E[E.length-1].left&&(m=E[E.length-1].left._count);for(var s=E.length-2;s>=0;--s)E[s+1]===E[s].right&&(++m,E[s].left&&(m+=E[s].left._count));return m},enumerable:!0}),o.next=function(){var m=this._stack;if(m.length!==0){var E=m[m.length-1];if(E.right)for(E=E.right;E;)m.push(E),E=E.left;else for(m.pop();m.length>0&&m[m.length-1].right===E;)E=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var E=m.length-1;E>0;--E)if(m[E-1].left===m[E])return!0;return!1}}),o.update=function(m){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var b=new Array(E.length),s=E[E.length-1];b[b.length-1]=new t(s._color,s.key,m,s.left,s.right,s._count);for(var L=E.length-2;L>=0;--L)s=E[L],s.left===E[L+1]?b[L]=new t(s._color,s.key,s.value,b[L+1],s.right,s._count):b[L]=new t(s._color,s.key,s.value,s.left,b[L+1],s._count);return new f(this.tree._compare,b[0])},o.prev=function(){var m=this._stack;if(m.length!==0){var E=m[m.length-1];if(E.left)for(E=E.left;E;)m.push(E),E=E.right;else for(m.pop();m.length>0&&m[m.length-1].left===E;)E=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var E=m.length-1;E>0;--E)if(m[E-1].right===m[E])return!0;return!1}});function S(m,E){return m<E?-1:m>E?1:0}function C(m){return new f(m||S,null)}},7453:function(v,p,r){v.exports=s;var t=r(9557),i=r(1681),n=r(1011),u=r(2864),f=r(8468),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function y(L,A){return L[0]=A[0],L[1]=A[1],L[2]=A[2],L}function h(L){this.gl=L,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(L)}var M=h.prototype;M.update=function(L){L=L||{};function A(ne,fe,$){if($ in L){var X=L[$],oe=this[$],Y;(ne?Array.isArray(X)&&Array.isArray(X[0]):Array.isArray(X))?this[$]=Y=[fe(X[0]),fe(X[1]),fe(X[2])]:this[$]=Y=[fe(X),fe(X),fe(X)];for(var ee=0;ee<3;++ee)if(Y[ee]!==oe[ee])return!0}return!1}var k=A.bind(this,!1,Number),_=A.bind(this,!1,Boolean),U=A.bind(this,!1,String),F=A.bind(this,!0,function(ne){if(Array.isArray(ne)){if(ne.length===3)return[+ne[0],+ne[1],+ne[2],1];if(ne.length===4)return[+ne[0],+ne[1],+ne[2],+ne[3]]}return[0,0,0,1]}),z,B=!1,N=!1;if("bounds"in L)for(var V=L.bounds,W=0;W<2;++W)for(var Q=0;Q<3;++Q)V[W][Q]!==this.bounds[W][Q]&&(N=!0),this.bounds[W][Q]=V[W][Q];if("ticks"in L){z=L.ticks,B=!0,this.autoTicks=!1;for(var W=0;W<3;++W)this.tickSpacing[W]=0}else k("tickSpacing")&&(this.autoTicks=!0,N=!0);if(this._firstInit&&("ticks"in L||"tickSpacing"in L||(this.autoTicks=!0),N=!0,B=!0,this._firstInit=!1),N&&this.autoTicks&&(z=f.create(this.bounds,this.tickSpacing),B=!0),B){for(var W=0;W<3;++W)z[W].sort(function(fe,$){return fe.x-$.x});f.equal(z,this.ticks)?B=!1:this.ticks=z}_("tickEnable"),U("tickFont")&&(B=!0),k("tickSize"),k("tickAngle"),k("tickPad"),F("tickColor");var re=U("labels");U("labelFont")&&(re=!0),_("labelEnable"),k("labelSize"),k("labelPad"),F("labelColor"),_("lineEnable"),_("lineMirror"),k("lineWidth"),F("lineColor"),_("lineTickEnable"),_("lineTickMirror"),k("lineTickLength"),k("lineTickWidth"),F("lineTickColor"),_("gridEnable"),k("gridWidth"),F("gridColor"),_("zeroEnable"),F("zeroLineColor"),k("zeroLineWidth"),_("backgroundEnable"),F("backgroundColor"),this._text?this._text&&(re||B)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&B&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};function c(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new c,new c,new c];function d(L,A,k,_,U){for(var F=L.primalOffset,z=L.primalMinor,B=L.mirrorOffset,N=L.mirrorMinor,V=_[A],W=0;W<3;++W)if(A!==W){var Q=F,re=B,ne=z,fe=N;V&1<<W&&(Q=B,re=F,ne=N,fe=z),Q[W]=k[0][W],re[W]=k[1][W],U[W]>0?(ne[W]=-1,fe[W]=0):(ne[W]=0,fe[W]=1)}}var T=[0,0,0],S={model:l,view:l,projection:l,_ortho:!1};M.isOpaque=function(){return!0},M.isTransparent=function(){return!1},M.drawTransparent=function(L){};var C=0,m=[0,0,0],E=[0,0,0],b=[0,0,0];M.draw=function(L){L=L||S;for(var oe=this.gl,A=L.model||l,k=L.view||l,_=L.projection||l,U=this.bounds,F=L._ortho||!1,z=u(A,k,_,U,F),B=z.cubeEdges,N=z.axis,V=k[12],W=k[13],Q=k[14],re=k[15],ne=F?2:1,fe=ne*this.pixelRatio*(_[3]*V+_[7]*W+_[11]*Q+_[15]*re)/oe.drawingBufferHeight,$=0;$<3;++$)this.lastCubeProps.cubeEdges[$]=B[$],this.lastCubeProps.axis[$]=N[$];for(var X=o,$=0;$<3;++$)d(o[$],$,this.bounds,B,N);for(var oe=this.gl,Y=T,$=0;$<3;++$)this.backgroundEnable[$]?Y[$]=N[$]:Y[$]=0;this._background.draw(A,k,_,U,Y,this.backgroundColor),this._lines.bind(A,k,_,this);for(var $=0;$<3;++$){var ee=[0,0,0];N[$]>0?ee[$]=U[1][$]:ee[$]=U[0][$];for(var se=0;se<2;++se){var q=($+1+se)%3,K=($+1+(se^1))%3;this.gridEnable[q]&&this._lines.drawGrid(q,K,this.bounds,ee,this.gridColor[q],this.gridWidth[q]*this.pixelRatio)}for(var se=0;se<2;++se){var q=($+1+se)%3,K=($+1+(se^1))%3;this.zeroEnable[K]&&Math.min(U[0][K],U[1][K])<=0&&Math.max(U[0][K],U[1][K])>=0&&this._lines.drawZero(q,K,this.bounds,ee,this.zeroLineColor[K],this.zeroLineWidth[K]*this.pixelRatio)}}for(var $=0;$<3;++$){this.lineEnable[$]&&this._lines.drawAxisLine($,this.bounds,X[$].primalOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio),this.lineMirror[$]&&this._lines.drawAxisLine($,this.bounds,X[$].mirrorOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio);for(var le=y(m,X[$].primalMinor),ie=y(E,X[$].mirrorMinor),he=this.lineTickLength,se=0;se<3;++se){var ye=fe/A[5*se];le[se]*=he[se]*ye,ie[se]*=he[se]*ye}this.lineTickEnable[$]&&this._lines.drawAxisTicks($,X[$].primalOffset,le,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio),this.lineTickMirror[$]&&this._lines.drawAxisTicks($,X[$].mirrorOffset,ie,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio)}this._lines.unbind(),this._text.bind(A,k,_,this.pixelRatio);var Ce,Ae=.5,ke,we;function Ee(Xe){we=[0,0,0],we[Xe]=1}function xe(Xe,ut,dt){var at=(Xe+1)%3,We=(Xe+2)%3,rt=ut[at],st=ut[We],ht=dt[at],vt=dt[We];if(rt>0&&vt>0){Ee(at);return}else if(rt>0&&vt<0){Ee(at);return}else if(rt<0&&vt>0){Ee(at);return}else if(rt<0&&vt<0){Ee(at);return}else if(st>0&&ht>0){Ee(We);return}else if(st>0&&ht<0){Ee(We);return}else if(st<0&&ht>0){Ee(We);return}else if(st<0&&ht<0){Ee(We);return}}for(var $=0;$<3;++$){for(var Re=X[$].primalMinor,Ve=X[$].mirrorMinor,Ue=y(b,X[$].primalOffset),se=0;se<3;++se)this.lineTickEnable[$]&&(Ue[se]+=fe*Re[se]*Math.max(this.lineTickLength[se],0)/A[5*se]);var Be=[0,0,0];if(Be[$]=1,this.tickEnable[$]){this.tickAngle[$]===-3600?(this.tickAngle[$]=0,this.tickAlign[$]="auto"):this.tickAlign[$]=-1,ke=1,Ce=[this.tickAlign[$],Ae,ke],Ce[0]==="auto"?Ce[0]=C:Ce[0]=parseInt(""+Ce[0]),we=[0,0,0],xe($,Re,Ve);for(var se=0;se<3;++se)Ue[se]+=fe*Re[se]*this.tickPad[se]/A[5*se];this._text.drawTicks($,this.tickSize[$],this.tickAngle[$],Ue,this.tickColor[$],Be,we,Ce)}if(this.labelEnable[$]){ke=0,we=[0,0,0],this.labels[$].length>4&&(Ee($),ke=1),Ce=[this.labelAlign[$],Ae,ke],Ce[0]==="auto"?Ce[0]=C:Ce[0]=parseInt(""+Ce[0]);for(var se=0;se<3;++se)Ue[se]+=fe*Re[se]*this.labelPad[se]/A[5*se];Ue[$]+=.5*(U[0][$]+U[1][$]),this._text.drawLabel($,this.labelSize[$],this.labelAngle[$],Ue,this.labelColor[$],[0,0,0],we,Ce)}}this._text.unbind()},M.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function s(L,A){var k=new h(L);return k.update(A),k}},1011:function(v,p,r){v.exports=l;var t=r(5827),i=r(2944),n=r(1943).bg;function u(y,h,M,c){this.gl=y,this.buffer=h,this.vao=M,this.shader=c}var f=u.prototype;f.draw=function(y,h,M,c,o,d){for(var T=!1,S=0;S<3;++S)T=T||o[S];if(T){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:h,projection:M,bounds:c,enable:o,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(y){for(var h=[],M=[],c=0,o=0;o<3;++o)for(var d=(o+1)%3,T=(o+2)%3,S=[0,0,0],C=[0,0,0],m=-1;m<=1;m+=2){M.push(c,c+2,c+1,c+1,c+2,c+3),S[o]=m,C[o]=m;for(var E=-1;E<=1;E+=2){S[d]=E;for(var b=-1;b<=1;b+=2)S[T]=b,h.push(S[0],S[1],S[2],C[0],C[1],C[2]),c+=1}var s=d;d=T,T=s}var L=t(y,new Float32Array(h)),A=t(y,new Uint16Array(M),y.ELEMENT_ARRAY_BUFFER),k=i(y,[{buffer:L,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:L,type:y.FLOAT,size:3,offset:12,stride:24}],A),_=n(y);return _.attributes.position.location=0,_.attributes.normal.location=1,new u(y,L,k,_)}},2864:function(v,p,r){v.exports=m;var t=r(2288),i=r(104),n=r(4670),u=r(417),f=new Array(16),l=new Array(8),y=new Array(8),h=new Array(3),M=[0,0,0];(function(){for(var E=0;E<8;++E)l[E]=[1,1,1,1],y[E]=[1,1,1]})();function c(E,b,s){for(var L=0;L<4;++L){E[L]=s[12+L];for(var A=0;A<3;++A)E[L]+=b[A]*s[4*A+L]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(E){for(var b=0;b<o.length;++b)if(E=n.positive(E,o[b]),E.length<3)return 0;for(var s=E[0],L=s[0]/s[3],A=s[1]/s[3],k=0,b=1;b+1<E.length;++b){var _=E[b],U=E[b+1],F=_[0]/_[3],z=_[1]/_[3],B=U[0]/U[3],N=U[1]/U[3],V=F-L,W=z-A,Q=B-L,re=N-A;k+=Math.abs(V*re-W*Q)}return k}var T=[1,1,1],S=[0,0,0],C={cubeEdges:T,axis:S};function m(E,b,s,L,A){i(f,b,E),i(f,s,f);for(var k=0,_=0;_<2;++_){h[2]=L[_][2];for(var U=0;U<2;++U){h[1]=L[U][1];for(var F=0;F<2;++F)h[0]=L[F][0],c(l[k],h,f),k+=1}}for(var z=-1,_=0;_<8;++_){for(var B=l[_][3],N=0;N<3;++N)y[_][N]=l[_][N]/B;A&&(y[_][2]*=-1),B<0&&(z<0||y[_][2]<y[z][2])&&(z=_)}if(z<0){z=0;for(var V=0;V<3;++V){for(var W=(V+2)%3,Q=(V+1)%3,re=-1,ne=-1,fe=0;fe<2;++fe){var $=fe<<V,X=$+(fe<<W)+(1-fe<<Q),oe=$+(1-fe<<W)+(fe<<Q);u(y[$],y[X],y[oe],M)<0||(fe?re=1:ne=1)}if(re<0||ne<0){ne>re&&(z|=1<<V);continue}for(var fe=0;fe<2;++fe){var $=fe<<V,X=$+(fe<<W)+(1-fe<<Q),oe=$+(1-fe<<W)+(fe<<Q),Y=d([l[$],l[X],l[oe],l[$+(1<<W)+(1<<Q)]]);fe?re=Y:ne=Y}if(ne>re){z|=1<<V;continue}}}for(var ee=7^z,se=-1,_=0;_<8;++_)_===z||_===ee||(se<0||y[se][1]>y[_][1])&&(se=_);for(var q=-1,_=0;_<3;++_){var K=se^1<<_;if(!(K===z||K===ee)){q<0&&(q=K);var Q=y[K];Q[0]<y[q][0]&&(q=K)}}for(var le=-1,_=0;_<3;++_){var K=se^1<<_;if(!(K===z||K===ee||K===q)){le<0&&(le=K);var Q=y[K];Q[0]>y[le][0]&&(le=K)}}var ie=T;ie[0]=ie[1]=ie[2]=0,ie[t.log2(q^se)]=se&q,ie[t.log2(se^le)]=se&le;var he=le^7;he===z||he===ee?(he=q^7,ie[t.log2(le^he)]=he&le):ie[t.log2(q^he)]=he&q;for(var ye=S,Ce=z,V=0;V<3;++V)Ce&1<<V?ye[V]=-1:ye[V]=1;return C}},1681:function(v,p,r){v.exports=T;var t=r(5827),i=r(2944),n=r(1943).j,u=[0,0,0],f=[0,0,0],l=[0,0,0],y=[0,0,0],h=[1,1];function M(S){return S[0]=S[1]=S[2]=0,S}function c(S,C){return S[0]=C[0],S[1]=C[1],S[2]=C[2],S}function o(S,C,m,E,b,s,L,A){this.gl=S,this.vertBuffer=C,this.vao=m,this.shader=E,this.tickCount=b,this.tickOffset=s,this.gridCount=L,this.gridOffset=A}var d=o.prototype;d.bind=function(S,C,m){this.shader.bind(),this.shader.uniforms.model=S,this.shader.uniforms.view=C,this.shader.uniforms.projection=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(S,C,m,E,b){var s=M(f);this.shader.uniforms.majorAxis=f,s[S]=C[1][S]-C[0][S],this.shader.uniforms.minorAxis=s;var L=c(y,m);L[S]+=C[0][S],this.shader.uniforms.offset=L,this.shader.uniforms.lineWidth=b,this.shader.uniforms.color=E;var A=M(l);A[(S+2)%3]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,6);var A=M(l);A[(S+1)%3]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(S,C,m,E,b){if(this.tickCount[S]){var s=M(u);s[S]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=b;var L=M(l);L[S]=1,this.shader.uniforms.screenAxis=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S])}},d.drawGrid=function(S,C,m,E,b,s){if(this.gridCount[S]){var L=M(f);L[C]=m[1][C]-m[0][C],this.shader.uniforms.minorAxis=L;var A=c(y,E);A[C]+=m[0][C],this.shader.uniforms.offset=A;var k=M(u);k[S]=1,this.shader.uniforms.majorAxis=k;var _=M(l);_[S]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,this.gridCount[S],this.gridOffset[S])}},d.drawZero=function(S,C,m,E,b,s){var L=M(f);this.shader.uniforms.majorAxis=L,L[S]=m[1][S]-m[0][S],this.shader.uniforms.minorAxis=L;var A=c(y,E);A[S]+=m[0][S],this.shader.uniforms.offset=A;var k=M(l);k[C]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function T(S,C,m){var E=[],b=[0,0,0],s=[0,0,0],L=[0,0,0],A=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var F=E.length/3|0,_=0;_<m[k].length;++_){var U=+m[k][_].x;E.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=E.length/3|0;b[k]=F,s[k]=B-F;for(var F=E.length/3|0,z=0;z<m[k].length;++z){var U=+m[k][z].x;E.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=E.length/3|0;L[k]=F,A[k]=B-F}var N=t(S,new Float32Array(E)),V=i(S,[{buffer:N,type:S.FLOAT,size:3,stride:0,offset:0}]),W=n(S);return W.attributes.position.location=0,new o(S,N,V,W,s,b,A,L)}},1943:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(M){return i(M,n,u,null,[{name:"position",type:"vec3"}])};var f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(M){return i(M,f,l,null,[{name:"position",type:"vec3"}])};var y=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(M){return i(M,y,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,r){v.exports=d;var t=r(5827),i=r(2944),n=r(875),u=r(1943).f,f=window||g.global||{},l=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var y=3;function h(T,S,C,m){this.gl=T,this.shader=S,this.buffer=C,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var M=h.prototype,c=[0,0];M.bind=function(T,S,C,m){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=T,E.view=S,E.projection=C,E.pixelScale=m,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},M.unbind=function(){this.vao.unbind()},M.update=function(T,S,C,m,E){var b=[];function s(N,V,W,Q,re,ne){var fe=l[W];fe||(fe=l[W]={});var $=fe[V];$||($=fe[V]=o(V,{triangles:!0,font:W,textAlign:"center",textBaseline:"middle",lineSpacing:re,styletags:ne}));for(var X=(Q||12)/12,oe=$.positions,Y=$.cells,ee=0,se=Y.length;ee<se;++ee)for(var q=Y[ee],K=2;K>=0;--K){var le=oe[q[K]];b.push(X*le[0],-X*le[1],N)}}for(var L=[0,0,0],A=[0,0,0],k=[0,0,0],_=[0,0,0],U=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},z=0;z<3;++z){k[z]=b.length/y|0,s(.5*(T[0][z]+T[1][z]),S[z],C[z],12,U,F),_[z]=(b.length/y|0)-k[z],L[z]=b.length/y|0;for(var B=0;B<m[z].length;++B)m[z][B].text&&s(m[z][B].x,m[z][B].text,m[z][B].font||E,m[z][B].fontSize||12,U,F);A[z]=(b.length/y|0)-L[z]}this.buffer.update(b),this.tickOffset=L,this.tickCount=A,this.labelOffset=k,this.labelCount=_},M.drawTicks=function(T,S,C,m,E,b,s,L){this.tickCount[T]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=E,this.shader.uniforms.angle=C,this.shader.uniforms.scale=S,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[T],this.tickOffset[T]))},M.drawLabel=function(T,S,C,m,E,b,s,L){this.labelCount[T]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=E,this.shader.uniforms.angle=C,this.shader.uniforms.scale=S,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.labelCount[T],this.labelOffset[T]))},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(T,S){try{return n(T,S)}catch(C){return console.warn('error vectorizing text:"'+T+'" error:',C),{cells:[],positions:[]}}}function d(T,S,C,m,E,b){var s=t(T),L=i(T,[{buffer:s,size:3}]),A=u(T);A.attributes.position.location=0;var k=new h(T,A,s,L);return k.update(S,C,m,E,b),k}},8468:function(v,p){p.create=t,p.equal=i;function r(n,u){var f=n+"",l=f.indexOf("."),y=0;l>=0&&(y=f.length-l-1);var h=Math.pow(10,y),M=Math.round(n*u*h),c=M+"";if(c.indexOf("e")>=0)return c;var o=M/h,d=M%h;M<0?(o=-Math.ceil(o)|0,d=-d|0):(o=Math.floor(o)|0,d=d|0);var T=""+o;if(M<0&&(T="-"+T),y){for(var S=""+d;S.length<y;)S="0"+S;return T+"."+S}else return T}function t(n,u){for(var f=[],l=0;l<3;++l){var y=[];.5*(n[0][l]+n[1][l]);for(var h=0;h*u[l]<=n[1][l];++h)y.push({x:h*u[l],text:r(u[l],h)});for(var h=-1;h*u[l]>=n[0][l];--h)y.push({x:h*u[l],text:r(u[l],h)});f.push(y)}return f}function i(n,u){for(var f=0;f<3;++f){if(n[f].length!==u[f].length)return!1;for(var l=0;l<n[f].length;++l){var y=n[f][l],h=u[f][l];if(y.x!==h.x||y.text!==h.text||y.font!==h.font||y.fontColor!==h.fontColor||y.fontSize!==h.fontSize||y.dx!==h.dx||y.dy!==h.dy)return!1}}return!0}},2771:function(v,p,r){v.exports=C;var t=r(5795),i=r(4670),n=r(2864),u=r(104),f=r(2142),l=r(6342),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function M(m,E,b){this.lo=m,this.hi=E,this.pixelsPerDataUnit=b}var c=[0,0,0,1],o=[0,0,0,1];function d(m,E,b,s,L){for(var A=0;A<3;++A){for(var k=c,_=o,U=0;U<3;++U)_[U]=k[U]=b[U];_[3]=k[3]=1,_[A]+=1,l(_,_,E),_[3]<0&&(m[A]=1/0),k[A]-=1,l(k,k,E),k[3]<0&&(m[A]=1/0);var F=(k[0]/k[3]-_[0]/_[3])*s,z=(k[1]/k[3]-_[1]/_[3])*L;m[A]=.25*Math.sqrt(F*F+z*z)}return m}var T=[new M(1/0,-1/0,1/0),new M(1/0,-1/0,1/0),new M(1/0,-1/0,1/0)],S=[0,0,0];function C(m,E,b,s,z){var A=E.model||y,k=E.view||y,_=E.projection||y,U=E._ortho||!1,F=m.bounds,z=z||n(A,k,_,F,U),B=z.axis;u(h,k,A),u(h,_,h);for(var N=T,V=0;V<3;++V)N[V].lo=1/0,N[V].hi=-1/0,N[V].pixelsPerDataUnit=1/0;var W=t(f(h,h));f(h,h);for(var Q=0;Q<3;++Q){var re=(Q+1)%3,ne=(Q+2)%3,fe=S;e:for(var V=0;V<2;++V){var $=[];if(B[Q]<0!=!!V){fe[Q]=F[V][Q];for(var X=0;X<2;++X){fe[re]=F[X^V][re];for(var oe=0;oe<2;++oe)fe[ne]=F[oe^X^V][ne],$.push(fe.slice())}for(var Y=U?5:4,X=Y;X===Y;++X){if($.length===0)continue e;$=i.positive($,W[X])}for(var X=0;X<$.length;++X)for(var ne=$[X],ee=d(S,h,ne,b,s),oe=0;oe<3;++oe)N[oe].lo=Math.min(N[oe].lo,ne[oe]),N[oe].hi=Math.max(N[oe].hi,ne[oe]),oe!==Q&&(N[oe].pixelsPerDataUnit=Math.min(N[oe].pixelsPerDataUnit,Math.abs(ee[oe])))}}}return N}},5827:function(v,p,r){var t=r(5306),i=r(7498),n=r(5050),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(o,d,T,S,C){this.gl=o,this.type=d,this.handle=T,this.length=S,this.usage=C}var l=f.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function y(o,d,T,S,C,m){var E=C.length*C.BYTES_PER_ELEMENT;if(m<0)return o.bufferData(d,C,S),E;if(E+m>T)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(d,m,C),T}function h(o,d){for(var T=t.malloc(o.length,d),S=o.length,C=0;C<S;++C)T[C]=o[C];return T}function M(o,d){for(var T=1,S=d.length-1;S>=0;--S){if(d[S]!==T)return!1;T*=o[S]}return!0}l.update=function(o,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var T=o.dtype;if(u.indexOf(T)<0&&(T="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var S=gl.getExtension("OES_element_index_uint");S&&T!=="uint16"?T="uint32":T="uint16"}if(T===o.dtype&&M(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=y(this.gl,this.type,this.length,this.usage,o.data,d):this.length=y(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),d);else{var C=t.malloc(o.size,T),m=n(C,o.shape);i.assign(m,o),d<0?this.length=y(this.gl,this.type,this.length,this.usage,C,d):this.length=y(this.gl,this.type,this.length,this.usage,C.subarray(0,o.size),d),t.free(C)}}else if(Array.isArray(o)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=h(o,"uint16"):E=h(o,"float32"),d<0?this.length=y(this.gl,this.type,this.length,this.usage,E,d):this.length=y(this.gl,this.type,this.length,this.usage,E.subarray(0,o.length),d),t.free(E)}else if(typeof o=="object"&&typeof o.length=="number")this.length=y(this.gl,this.type,this.length,this.usage,o,d);else if(typeof o=="number"||o===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function c(o,d,T,S){if(T=T||o.ARRAY_BUFFER,S=S||o.DYNAMIC_DRAW,T!==o.ARRAY_BUFFER&&T!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(S!==o.DYNAMIC_DRAW&&S!==o.STATIC_DRAW&&S!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=o.createBuffer(),m=new f(o,T,C,0,S);return m.update(d),m}v.exports=c},1140:function(v,p,r){var t=r(2858);v.exports=function(n,u){var f=n.positions,l=n.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),y;for(var h=0,M=1/0,c=-1/0,o=1/0,d=-1/0,T=1/0,S=-1/0,C=null,m=null,E=[],b=1/0,s=!1,L=0;L<f.length;L++){var A=f[L];M=Math.min(A[0],M),c=Math.max(A[0],c),o=Math.min(A[1],o),d=Math.max(A[1],d),T=Math.min(A[2],T),S=Math.max(A[2],S);var k=l[L];if(t.length(k)>h&&(h=t.length(k)),L){var _=2*t.distance(C,A)/(t.length(m)+t.length(k));_?(b=Math.min(b,_),s=!1):s=!0}s||(C=A,m=k),E.push(k)}var U=[M,o,T],F=[c,d,S];u&&(u[0]=U,u[1]=F),h===0&&(h=1);var z=1/h;isFinite(b)||(b=1),y.vectorScale=b;var B=n.coneSize||.5;n.absoluteConeSize&&(B=n.absoluteConeSize*z),y.coneScale=B;for(var L=0,N=0;L<f.length;L++)for(var A=f[L],V=A[0],W=A[1],Q=A[2],re=E[L],ne=t.length(re)*z,fe=0,$=8;fe<$;fe++){y.positions.push([V,W,Q,N++]),y.positions.push([V,W,Q,N++]),y.positions.push([V,W,Q,N++]),y.positions.push([V,W,Q,N++]),y.positions.push([V,W,Q,N++]),y.positions.push([V,W,Q,N++]),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vertexIntensity.push(ne,ne,ne),y.vertexIntensity.push(ne,ne,ne);var X=y.positions.length;y.cells.push([X-6,X-5,X-4],[X-3,X-2,X-1])}return y};var i=r(7234);v.exports.createMesh=r(5028),v.exports.createConeMesh=function(n,u){return v.exports.createMesh(n,u,{shaders:i,traceType:"cone"})}},5028:function(v,p,r){var t=r(5158),i=r(5827),n=r(2944),u=r(8931),f=r(104),l=r(7437),y=r(5050),h=r(9156),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(E,b,s,L,A,k,_,U,F,z,B){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=b,this.dirty=!0,this.triShader=s,this.pickShader=L,this.trianglePositions=A,this.triangleVectors=k,this.triangleColors=U,this.triangleUVs=F,this.triangleIds=_,this.triangleVAO=z,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=M,this._view=M,this._projection=M,this._resolution=[1,1]}var o=c.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(E){this.pickId=E};function d(E){for(var b=h({colormap:E,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),L=0;L<256;++L){for(var A=b[L],k=0;k<3;++k)s[4*L+k]=A[k];s[4*L+3]=A[3]*255}return y(s,[256,256,4],[4,0,1])}function T(E){for(var b=E.length,s=new Array(b),L=0;L<b;++L)s[L]=E[L][2];return s}o.update=function(E){E=E||{};var b=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=b.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=b.LINEAR,this.texture.setPixels(d(E.colormap)),this.texture.generateMipmap());var s=E.cells,L=E.positions,A=E.vectors;if(!(!L||!s||!A)){var k=[],_=[],U=[],F=[],z=[];this.cells=s,this.positions=L,this.vectors=A;var B=E.meshColor||[1,1,1,1],N=E.vertexIntensity,V=1/0,W=-1/0;if(N)if(E.vertexIntensityBounds)V=+E.vertexIntensityBounds[0],W=+E.vertexIntensityBounds[1];else for(var Q=0;Q<N.length;++Q){var re=N[Q];V=Math.min(V,re),W=Math.max(W,re)}else for(var Q=0;Q<L.length;++Q){var re=L[Q][2];V=Math.min(V,re),W=Math.max(W,re)}N?this.intensity=N:this.intensity=T(L),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Q=0;Q<L.length;++Q)for(var ne=L[Q],fe=0;fe<3;++fe)isNaN(ne[fe])||!isFinite(ne[fe])||(this.bounds[0][fe]=Math.min(this.bounds[0][fe],ne[fe]),this.bounds[1][fe]=Math.max(this.bounds[1][fe],ne[fe]));var $=0;e:for(var Q=0;Q<s.length;++Q){var X=s[Q];switch(X.length){case 3:for(var fe=0;fe<3;++fe)for(var oe=X[fe],ne=L[oe],Y=0;Y<3;++Y)if(isNaN(ne[Y])||!isFinite(ne[Y]))continue e;for(var fe=0;fe<3;++fe){var oe=X[2-fe],ne=L[oe];k.push(ne[0],ne[1],ne[2],ne[3]);var ee=A[oe];_.push(ee[0],ee[1],ee[2],ee[3]||0);var se=B;se.length===3?U.push(se[0],se[1],se[2],1):U.push(se[0],se[1],se[2],se[3]);var q;N?q=[(N[oe]-V)/(W-V),0]:q=[(ne[2]-V)/(W-V),0],F.push(q[0],q[1]),z.push(Q)}$+=1;break}}this.triangleCount=$,this.trianglePositions.update(k),this.triangleVectors.update(_),this.triangleColors.update(U),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(z))}},o.drawTransparent=o.draw=function(E){E=E||{};for(var b=this.gl,s=E.model||M,L=E.view||M,A=E.projection||M,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)k[0][_]=Math.max(k[0][_],this.clipBounds[0][_]),k[1][_]=Math.min(k[1][_],this.clipBounds[1][_]);var U={model:s,view:L,projection:A,inverseModel:M.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};U.inverseModel=l(U.inverseModel,U.model),b.disable(b.CULL_FACE),this.texture.bind(0);var F=new Array(16);f(F,U.view,U.model),f(F,U.projection,F),l(F,F);for(var _=0;_<3;++_)U.eyePosition[_]=F[12+_]/F[15];for(var z=F[15],_=0;_<3;++_)z+=this.lightPosition[_]*F[4*_+3];for(var _=0;_<3;++_){for(var B=F[12+_],N=0;N<3;++N)B+=F[4*N+_]*this.lightPosition[N];U.lightPosition[_]=B/z}if(this.triangleCount>0){var V=this.triShader;V.bind(),V.uniforms=U,this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(E){E=E||{};for(var b=this.gl,s=E.model||M,L=E.view||M,A=E.projection||M,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)k[0][_]=Math.max(k[0][_],this.clipBounds[0][_]),k[1][_]=Math.min(k[1][_],this.clipBounds[1][_]);this._model=[].slice.call(s),this._view=[].slice.call(L),this._projection=[].slice.call(A),this._resolution=[b.drawingBufferWidth,b.drawingBufferHeight];var U={model:s,view:L,projection:A,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=U,this.triangleCount>0&&(this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(E){if(!E||E.id!==this.pickId)return null;var b=E.value[0]+256*E.value[1]+65536*E.value[2],s=this.cells[b],L=this.positions[s[1]].slice(0,3),A={position:L,dataCoordinate:L,index:Math.floor(s[1]/48)};return this.traceType==="cone"?A.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(A.intensity=this.intensity[s[1]],A.velocity=this.vectors[s[1]].slice(0,3),A.divergence=this.vectors[s[1]][3],A.index=b),A},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function S(E,b){var s=t(E,b.meshShader.vertex,b.meshShader.fragment,null,b.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function C(E,b){var s=t(E,b.pickShader.vertex,b.pickShader.fragment,null,b.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function m(E,b,s){var L=s.shaders;arguments.length===1&&(b=E,E=b.gl);var A=S(E,L),k=C(E,L),_=u(E,y(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=E.LINEAR_MIPMAP_LINEAR,_.magFilter=E.LINEAR;var U=i(E),F=i(E),z=i(E),B=i(E),N=i(E),V=n(E,[{buffer:U,type:E.FLOAT,size:4},{buffer:N,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:z,type:E.FLOAT,size:4},{buffer:B,type:E.FLOAT,size:2},{buffer:F,type:E.FLOAT,size:4}]),W=new c(E,_,A,k,U,F,N,z,B,V,s.traceType||"cone");return W.update(b),W}v.exports=m},7234:function(v,p,r){var t=r(6832),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,r){var t=r(1950);v.exports=function(n){return t[n]}},3110:function(v,p,r){v.exports=c;var t=r(5827),i=r(2944),n=r(7667),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,d,T,S){this.gl=o,this.shader=S,this.buffer=d,this.vao=T,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=f.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(o){var d=this.gl,T=this.shader.uniforms;this.shader.bind();var S=T.view=o.view||u,C=T.projection=o.projection||u;T.model=o.model||u,T.clipBounds=this.clipBounds,T.opacity=this.opacity;var m=S[12],E=S[13],b=S[14],s=S[15],L=o._ortho||!1,A=L?2:1,k=A*this.pixelRatio*(C[3]*m+C[7]*E+C[11]*b+C[15]*s)/d.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)d.lineWidth(this.lineWidth[_]*this.pixelRatio),T.capSize=this.capSize[_]*k,this.lineCount[_]&&d.drawArrays(d.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function y(o,d){for(var T=0;T<3;++T)o[0][T]=Math.min(o[0][T],d[T]),o[1][T]=Math.max(o[1][T],d[T])}var h=function(){for(var o=new Array(3),d=0;d<3;++d){for(var T=[],S=1;S<=2;++S)for(var C=-1;C<=1;C+=2){var m=(S+d)%3,E=[0,0,0];E[m]=C,T.push(E)}o[d]=T}return o}();function M(o,d,T,S){for(var C=h[S],m=0;m<C.length;++m){var E=C[m];o.push(d[0],d[1],d[2],T[0],T[1],T[2],T[3],E[0],E[1],E[2])}return C.length}l.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=o.color||[[0,0,0],[0,0,0],[0,0,0]],T=o.position,S=o.error;if(Array.isArray(d[0])||(d=[d,d,d]),T&&S){var C=[],m=T.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var b=0;b<3;++b){this.lineOffset[b]=E;e:for(var s=0;s<m;++s){for(var L=T[s],A=0;A<3;++A)if(isNaN(L[A])||!isFinite(L[A]))continue e;var k=S[s],_=d[b];if(Array.isArray(_[0])&&(_=d[s]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][b])||isNaN(k[1][b]))){if(k[0][b]<0){var U=L.slice();U[b]+=k[0][b],C.push(L[0],L[1],L[2],_[0],_[1],_[2],_[3],0,0,0,U[0],U[1],U[2],_[0],_[1],_[2],_[3],0,0,0),y(this.bounds,U),E+=2+M(C,U,_,b)}if(k[1][b]>0){var U=L.slice();U[b]+=k[1][b],C.push(L[0],L[1],L[2],_[0],_[1],_[2],_[3],0,0,0,U[0],U[1],U[2],_[0],_[1],_[2],_[3],0,0,0),y(this.bounds,U),E+=2+M(C,U,_,b)}}}this.lineCount[b]=E-this.lineOffset[b]}this.buffer.update(C)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(o){var d=o.gl,T=t(d),S=i(d,[{buffer:T,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:T,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:T,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var m=new f(d,T,S,C);return m.update(o),m}},7667:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(f){return i(f,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,r){var t=r(8931);v.exports=E;var i=null,n,u,f,l;function y(b){var s=b.getParameter(b.FRAMEBUFFER_BINDING),L=b.getParameter(b.RENDERBUFFER_BINDING),A=b.getParameter(b.TEXTURE_BINDING_2D);return[s,L,A]}function h(b,s){b.bindFramebuffer(b.FRAMEBUFFER,s[0]),b.bindRenderbuffer(b.RENDERBUFFER,s[1]),b.bindTexture(b.TEXTURE_2D,s[2])}function M(b,s){var L=b.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);i=new Array(L+1);for(var A=0;A<=L;++A){for(var k=new Array(L),_=0;_<A;++_)k[_]=b.COLOR_ATTACHMENT0+_;for(var _=A;_<L;++_)k[_]=b.NONE;i[A]=k}}function c(b){switch(b){case n:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(b,s,L,A,k,_){if(!A)return null;var U=t(b,s,L,k,A);return U.magFilter=b.NEAREST,U.minFilter=b.NEAREST,U.mipSamples=1,U.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,_,b.TEXTURE_2D,U.handle,0),U}function d(b,s,L,A,k){var _=b.createRenderbuffer();return b.bindRenderbuffer(b.RENDERBUFFER,_),b.renderbufferStorage(b.RENDERBUFFER,A,s,L),b.framebufferRenderbuffer(b.FRAMEBUFFER,k,b.RENDERBUFFER,_),_}function T(b){var s=y(b.gl),L=b.gl,A=b.handle=L.createFramebuffer(),k=b._shape[0],_=b._shape[1],U=b.color.length,F=b._ext,z=b._useStencil,B=b._useDepth,N=b._colorType;L.bindFramebuffer(L.FRAMEBUFFER,A);for(var V=0;V<U;++V)b.color[V]=o(L,k,_,N,L.RGBA,L.COLOR_ATTACHMENT0+V);U===0?(b._color_rb=d(L,k,_,L.RGBA4,L.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(i[0])):U>1&&F.drawBuffersWEBGL(i[U]);var W=L.getExtension("WEBGL_depth_texture");W?z?b.depth=o(L,k,_,W.UNSIGNED_INT_24_8_WEBGL,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):B&&(b.depth=o(L,k,_,L.UNSIGNED_SHORT,L.DEPTH_COMPONENT,L.DEPTH_ATTACHMENT)):B&&z?b._depth_rb=d(L,k,_,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):B?b._depth_rb=d(L,k,_,L.DEPTH_COMPONENT16,L.DEPTH_ATTACHMENT):z&&(b._depth_rb=d(L,k,_,L.STENCIL_INDEX,L.STENCIL_ATTACHMENT));var Q=L.checkFramebufferStatus(L.FRAMEBUFFER);if(Q!==L.FRAMEBUFFER_COMPLETE){b._destroyed=!0,L.bindFramebuffer(L.FRAMEBUFFER,null),L.deleteFramebuffer(b.handle),b.handle=null,b.depth&&(b.depth.dispose(),b.depth=null),b._depth_rb&&(L.deleteRenderbuffer(b._depth_rb),b._depth_rb=null);for(var V=0;V<b.color.length;++V)b.color[V].dispose(),b.color[V]=null;b._color_rb&&(L.deleteRenderbuffer(b._color_rb),b._color_rb=null),h(L,s),c(Q)}h(L,s)}function S(b,s,L,A,k,_,U,F){this.gl=b,this._shape=[s|0,L|0],this._destroyed=!1,this._ext=F,this.color=new Array(k);for(var z=0;z<k;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=A,this._useDepth=_,this._useStencil=U;var B=this,N=[s|0,L|0];Object.defineProperties(N,{0:{get:function(){return B._shape[0]},set:function(V){return B.width=V}},1:{get:function(){return B._shape[1]},set:function(V){return B.height=V}}}),this._shapeVector=N,T(this)}var C=S.prototype;function m(b,s,L){if(b._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(b._shape[0]===s&&b._shape[1]===L)){var A=b.gl,k=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(s<0||s>k||L<0||L>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");b._shape[0]=s,b._shape[1]=L;for(var _=y(A),U=0;U<b.color.length;++U)b.color[U].shape=b._shape;b._color_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,b._color_rb),A.renderbufferStorage(A.RENDERBUFFER,A.RGBA4,b._shape[0],b._shape[1])),b.depth&&(b.depth.shape=b._shape),b._depth_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,b._depth_rb),b._useDepth&&b._useStencil?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,b._shape[0],b._shape[1]):b._useDepth?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_COMPONENT16,b._shape[0],b._shape[1]):b._useStencil&&A.renderbufferStorage(A.RENDERBUFFER,A.STENCIL_INDEX,b._shape[0],b._shape[1])),A.bindFramebuffer(A.FRAMEBUFFER,b.handle);var F=A.checkFramebufferStatus(A.FRAMEBUFFER);F!==A.FRAMEBUFFER_COMPLETE&&(b.dispose(),h(A,_),c(F)),h(A,_)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(b){if(Array.isArray(b)||(b=[b|0,b|0]),b.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=b[0]|0,L=b[1]|0;return m(this,s,L),[s,L]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(b){return b=b|0,m(this,b,this._shape[1]),b},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(b){return b=b|0,m(this,this._shape[0],b),b},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,this.handle),b.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var b=this.gl;b.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(b.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(b.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(b,s,L,A){n||(n=b.FRAMEBUFFER_UNSUPPORTED,u=b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=b.getExtension("WEBGL_draw_buffers");if(!i&&k&&M(b,k),Array.isArray(s)&&(A=L,L=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var _=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(s<0||s>_||L<0||L>_)throw new Error("gl-fbo: Parameters are too large for FBO");A=A||{};var U=1;if("color"in A){if(U=Math.max(A.color|0,0),U<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(U>1)if(k){if(U>b.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+U+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=b.UNSIGNED_BYTE,z=b.getExtension("OES_texture_float");if(A.float&&U>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");F=b.FLOAT}else A.preferFloat&&U>0&&z&&(F=b.FLOAT);var B=!0;"depth"in A&&(B=!!A.depth);var N=!1;return"stencil"in A&&(N=!!A.stencil),new S(b,s,L,F,U,B,N,k)}},3530:function(v,p,r){var t=r(8974).sprintf,i=r(6603),n=r(9365),u=r(8008);v.exports=f;function f(l,y,h){var M=n(y)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===i.FRAGMENT_SHADER?"fragment":"vertex");for(var o=t(`Error compiling %s shader %s:
`,c,M),d=t("%s%s",o,l),T=l.split(`
`),S={},C=0;C<T.length;C++){var m=T[C];if(!(m===""||m==="\0")){var E=parseInt(m.split(":")[2]);if(isNaN(E))throw new Error(t("Could not parse error: %s",m));S[E]=m}}for(var b=u(y).split(`
`),C=0;C<b.length;C++)if(!(!S[C+3]&&!S[C+2]&&!S[C+1])){var s=b[C];if(o+=s+`
`,S[C+1]){var L=S[C+1];L=L.substr(L.split(":",3).join(":").length+1).trim(),o+=t(`^^^ %s

`,L)}}return{long:o.trim(),short:d.trim()}}},6386:function(v,p,r){v.exports=c;var t=r(5070),i=r(9560),n=r(5306),u=r(5158),f=r(5827),l=r(1292);function y(o,d,T,S,C,m,E){this.plot=o,this.shader=d,this.pickShader=T,this.positionBuffer=S,this.weightBuffer=C,this.colorBuffer=m,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=y.prototype,M=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,T=this.shader,S=this.bounds,C=this.numVertices;if(!(C<=0)){var m=d.gl,E=d.dataBox,b=S[2]-S[0],s=S[3]-S[1],L=E[2]-E[0],A=E[3]-E[1];o[0]=2*b/L,o[4]=2*s/A,o[6]=2*(S[0]-E[0])/L-1,o[7]=2*(S[1]-E[1])/A-1,T.bind();var k=T.uniforms;k.viewTransform=o,k.shape=this.shape;var _=T.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,C)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(T){var S=this.plot,C=this.pickShader,m=this.bounds,E=this.numVertices;if(!(E<=0)){var b=S.gl,s=S.dataBox,L=m[2]-m[0],A=m[3]-m[1],k=s[2]-s[0],_=s[3]-s[1];o[0]=2*L/k,o[4]=2*A/_,o[6]=2*(m[0]-s[0])/k-1,o[7]=2*(m[1]-s[1])/_-1;for(var U=0;U<4;++U)d[U]=T>>U*8&255;this.pickOffset=T,C.bind();var F=C.uniforms;F.viewTransform=o,F.pickOffset=d,F.shape=this.shape;var z=C.attributes;return this.positionBuffer.bind(),z.position.pointer(),this.weightBuffer.bind(),z.weight.pointer(b.UNSIGNED_BYTE,!1),this.idBuffer.bind(),z.pickId.pointer(b.UNSIGNED_BYTE,!1),b.drawArrays(b.TRIANGLES,0,E),T+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,d,T){var S=this.pickOffset,C=this.shape[0]*this.shape[1];if(T<S||T>=S+C)return null;var m=T-S,E=this.xData,b=this.yData;return{object:this,pointId:m,dataCoord:[E[m%this.shape[0]],b[m/this.shape[0]|0]]}},h.update=function(o){o=o||{};var d=o.shape||[0,0],T=o.x||i(d[0]),S=o.y||i(d[1]),C=o.z||new Float32Array(d[0]*d[1]),m=o.zsmooth!==!1;this.xData=T,this.yData=S;var E=o.colorLevels||[0],b=o.colorValues||[0,0,0,1],s=E.length,L=this.bounds,A,k,_,U;m?(A=L[0]=T[0],k=L[1]=S[0],_=L[2]=T[T.length-1],U=L[3]=S[S.length-1]):(A=L[0]=T[0]+(T[1]-T[0])/2,k=L[1]=S[0]+(S[1]-S[0])/2,_=L[2]=T[T.length-1]+(T[T.length-1]-T[T.length-2])/2,U=L[3]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2);var F=1/(_-A),z=1/(U-k),B=d[0],N=d[1];this.shape=[B,N];var V=(m?(B-1)*(N-1):B*N)*(M.length>>>1);this.numVertices=V;for(var W=n.mallocUint8(V*4),Q=n.mallocFloat32(V*2),re=n.mallocUint8(V*2),ne=n.mallocUint32(V),fe=0,$=m?B-1:B,X=m?N-1:N,oe=0;oe<X;++oe){var Y,ee;m?(Y=z*(S[oe]-k),ee=z*(S[oe+1]-k)):(Y=oe<N-1?z*(S[oe]-(S[oe+1]-S[oe])/2-k):z*(S[oe]-(S[oe]-S[oe-1])/2-k),ee=oe<N-1?z*(S[oe]+(S[oe+1]-S[oe])/2-k):z*(S[oe]+(S[oe]-S[oe-1])/2-k));for(var se=0;se<$;++se){var q,K;m?(q=F*(T[se]-A),K=F*(T[se+1]-A)):(q=se<B-1?F*(T[se]-(T[se+1]-T[se])/2-A):F*(T[se]-(T[se]-T[se-1])/2-A),K=se<B-1?F*(T[se]+(T[se+1]-T[se])/2-A):F*(T[se]+(T[se]-T[se-1])/2-A));for(var le=0;le<M.length;le+=2){var ie=M[le],he=M[le+1],ye=m?(oe+he)*B+(se+ie):oe*B+se,Ce=C[ye],Ae=t.le(E,Ce),ke,we,Ee,xe;if(Ae<0)ke=b[0],we=b[1],Ee=b[2],xe=b[3];else if(Ae===s-1)ke=b[4*s-4],we=b[4*s-3],Ee=b[4*s-2],xe=b[4*s-1];else{var Re=(Ce-E[Ae])/(E[Ae+1]-E[Ae]),Ve=1-Re,Ue=4*Ae,Be=4*(Ae+1);ke=Ve*b[Ue]+Re*b[Be],we=Ve*b[Ue+1]+Re*b[Be+1],Ee=Ve*b[Ue+2]+Re*b[Be+2],xe=Ve*b[Ue+3]+Re*b[Be+3]}W[4*fe]=255*ke,W[4*fe+1]=255*we,W[4*fe+2]=255*Ee,W[4*fe+3]=255*xe,Q[2*fe]=q*.5+K*.5,Q[2*fe+1]=Y*.5+ee*.5,re[2*fe]=ie,re[2*fe+1]=he,ne[fe]=oe*B+se,fe+=1}}}this.positionBuffer.update(Q),this.weightBuffer.update(re),this.colorBuffer.update(W),this.idBuffer.update(ne),n.free(Q),n.free(W),n.free(re),n.free(ne)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(o,d){var T=o.gl,S=u(T,l.vertex,l.fragment),C=u(T,l.pickVertex,l.pickFragment),m=f(T),E=f(T),b=f(T),s=f(T),L=new y(o,S,C,m,E,b,s);return L.update(d),o.addObject(L),L}},1292:function(v,p,r){var t=r(6832);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(y){return i(y,n,u,null,l)},p.createPickShader=function(y){return i(y,n,f,null,l)}},6086:function(v,p,r){v.exports=b;var t=r(5827),i=r(2944),n=r(8931),u=new Uint8Array(4),f=new Float32Array(u.buffer);function l(s,L,A,k){return u[0]=k,u[1]=A,u[2]=L,u[3]=s,f[0]}var y=r(5070),h=r(5050),M=r(248),c=M.createShader,o=M.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function T(s,L){for(var A=0,k=0;k<3;++k){var _=s[k]-L[k];A+=_*_}return Math.sqrt(A)}function S(s){for(var L=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],A=0;A<3;++A)L[0][A]=Math.max(s[0][A],L[0][A]),L[1][A]=Math.min(s[1][A],L[1][A]);return L}function C(s,L,A,k){this.arcLength=s,this.position=L,this.index=A,this.dataCoordinate=k}function m(s,L,A,k,_,U){this.gl=s,this.shader=L,this.pickShader=A,this.buffer=k,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=U,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=m.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(s){this.pickId=s},E.drawTransparent=E.draw=function(s){if(this.vertexCount){var L=this.gl,A=this.shader,k=this.vao;A.bind(),A.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,clipBounds:S(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(L.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},E.drawPick=function(s){if(this.vertexCount){var L=this.gl,A=this.pickShader,k=this.vao;A.bind(),A.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,pickId:this.pickId,clipBounds:S(this.clipBounds),screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(L.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},E.update=function(s){var L,A;this.dirty=!0;var k=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],U=[],F=[],z=0,B=0,N=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=s.position||s.positions;if(V){var W=s.color||s.colors||[0,0,0,1],Q=s.lineWidth||1,re=!1;e:for(L=1;L<V.length;++L){var ne=V[L-1],fe=V[L];for(U.push(z),F.push(ne.slice()),A=0;A<3;++A){if(isNaN(ne[A])||isNaN(fe[A])||!isFinite(ne[A])||!isFinite(fe[A])){if(!k&&_.length>0){for(var $=0;$<24;++$)_.push(_[_.length-12]);B+=2,re=!0}continue e}N[0][A]=Math.min(N[0][A],ne[A],fe[A]),N[1][A]=Math.max(N[1][A],ne[A],fe[A])}var X,oe;Array.isArray(W[0])?(X=W.length>L-1?W[L-1]:W.length>0?W[W.length-1]:[0,0,0,1],oe=W.length>L?W[L]:W.length>0?W[W.length-1]:[0,0,0,1]):X=oe=W,X.length===3&&(X=[X[0],X[1],X[2],1]),oe.length===3&&(oe=[oe[0],oe[1],oe[2],1]),!this.hasAlpha&&X[3]<1&&(this.hasAlpha=!0);var Y;Array.isArray(Q)?Y=Q.length>L-1?Q[L-1]:Q.length>0?Q[Q.length-1]:[0,0,0,1]:Y=Q;var ee=z;if(z+=T(ne,fe),re){for(A=0;A<2;++A)_.push(ne[0],ne[1],ne[2],fe[0],fe[1],fe[2],ee,Y,X[0],X[1],X[2],X[3]);B+=2,re=!1}_.push(ne[0],ne[1],ne[2],fe[0],fe[1],fe[2],ee,Y,X[0],X[1],X[2],X[3],ne[0],ne[1],ne[2],fe[0],fe[1],fe[2],ee,-Y,X[0],X[1],X[2],X[3],fe[0],fe[1],fe[2],ne[0],ne[1],ne[2],z,-Y,oe[0],oe[1],oe[2],oe[3],fe[0],fe[1],fe[2],ne[0],ne[1],ne[2],z,Y,oe[0],oe[1],oe[2],oe[3]),B+=4}}if(this.buffer.update(_),U.push(z),F.push(V[V.length-1].slice()),this.bounds=N,this.vertexCount=B,this.points=F,this.arcLength=U,"dashes"in s){var se=s.dashes,q=se.slice();for(q.unshift(0),L=1;L<q.length;++L)q[L]=q[L-1]+q[L];var K=h(new Array(256*4),[256,1,4]);for(L=0;L<256;++L){for(A=0;A<4;++A)K.set(L,0,A,0);y.le(q,q[q.length-1]*L/255)&1?K.set(L,0,0,0):K.set(L,0,0,255)}this.texture.setPixels(K)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(s){if(!s||s.id!==this.pickId)return null;var L=l(s.value[0],s.value[1],s.value[2],0),A=y.le(this.arcLength,L);if(A<0)return null;if(A===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),A);for(var k=this.points[A],_=this.points[Math.min(A+1,this.points.length-1)],U=(L-this.arcLength[A])/(this.arcLength[A+1]-this.arcLength[A]),F=1-U,z=[0,0,0],B=0;B<3;++B)z[B]=F*k[B]+U*_[B];var N=Math.min(U<.5?A:A+1,this.points.length-1);return new C(L,z,N,this.points[N])};function b(s){var L=s.gl||s.scene&&s.scene.gl,A=c(L);A.attributes.position.location=0,A.attributes.nextPosition.location=1,A.attributes.arcLength.location=2,A.attributes.lineWidth.location=3,A.attributes.color.location=4;var k=o(L);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var _=t(L),U=i(L,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),F=h(new Array(256*4),[256,1,4]),z=0;z<1024;++z)F.data[z]=255;var B=n(L,F);B.wrap=L.REPEAT;var N=new m(L,A,k,_,U,B);return N.update(s),N}},7332:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},9823:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],u=r[3],f=r[4],l=r[5],y=r[6],h=r[7],M=r[8],c=r[9],o=r[10],d=r[11],T=r[12],S=r[13],C=r[14],m=r[15],E=t*l-i*f,b=t*y-n*f,s=t*h-u*f,L=i*y-n*l,A=i*h-u*l,k=n*h-u*y,_=M*S-c*T,U=M*C-o*T,F=M*m-d*T,z=c*C-o*S,B=c*m-d*S,N=o*m-d*C;return E*N-b*B+s*z+L*F-A*U+k*_}},5950:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],u=t[2],f=t[3],l=i+i,y=n+n,h=u+u,M=i*l,c=n*l,o=n*y,d=u*l,T=u*y,S=u*h,C=f*l,m=f*y,E=f*h;return r[0]=1-o-S,r[1]=c+E,r[2]=d-m,r[3]=0,r[4]=c-E,r[5]=1-M-S,r[6]=T+C,r[7]=0,r[8]=d+m,r[9]=T-C,r[10]=1-M-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=t[3],y=n+n,h=u+u,M=f+f,c=n*y,o=n*h,d=n*M,T=u*h,S=u*M,C=f*M,m=l*y,E=l*h,b=l*M;return r[0]=1-(T+C),r[1]=o+b,r[2]=d-E,r[3]=0,r[4]=o-b,r[5]=1-(c+C),r[6]=S+m,r[7]=0,r[8]=d+E,r[9]=S-m,r[10]=1-(c+T),r[11]=0,r[12]=i[0],r[13]=i[1],r[14]=i[2],r[15]=1,r}},9947:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],u=t[2],f=t[3],l=t[4],y=t[5],h=t[6],M=t[7],c=t[8],o=t[9],d=t[10],T=t[11],S=t[12],C=t[13],m=t[14],E=t[15],b=i*y-n*l,s=i*h-u*l,L=i*M-f*l,A=n*h-u*y,k=n*M-f*y,_=u*M-f*h,U=c*C-o*S,F=c*m-d*S,z=c*E-T*S,B=o*m-d*C,N=o*E-T*C,V=d*E-T*m,W=b*V-s*N+L*B+A*z-k*F+_*U;return W?(W=1/W,r[0]=(y*V-h*N+M*B)*W,r[1]=(u*N-n*V-f*B)*W,r[2]=(C*_-m*k+E*A)*W,r[3]=(d*k-o*_-T*A)*W,r[4]=(h*z-l*V-M*F)*W,r[5]=(i*V-u*z+f*F)*W,r[6]=(m*L-S*_-E*s)*W,r[7]=(c*_-d*L+T*s)*W,r[8]=(l*N-y*z+M*U)*W,r[9]=(n*z-i*N-f*U)*W,r[10]=(S*k-C*L+E*b)*W,r[11]=(o*L-c*k-T*b)*W,r[12]=(y*F-l*B-h*U)*W,r[13]=(i*B-n*F+u*U)*W,r[14]=(C*s-S*A-m*b)*W,r[15]=(c*A-o*s+d*b)*W,r):null}},3012:function(v,p,r){var t=r(9947);v.exports=i;function i(n,u,f,l){var y,h,M,c,o,d,T,S,C,m,E=u[0],b=u[1],s=u[2],L=l[0],A=l[1],k=l[2],_=f[0],U=f[1],F=f[2];return Math.abs(E-_)<1e-6&&Math.abs(b-U)<1e-6&&Math.abs(s-F)<1e-6?t(n):(T=E-_,S=b-U,C=s-F,m=1/Math.sqrt(T*T+S*S+C*C),T*=m,S*=m,C*=m,y=A*C-k*S,h=k*T-L*C,M=L*S-A*T,m=Math.sqrt(y*y+h*h+M*M),m?(m=1/m,y*=m,h*=m,M*=m):(y=0,h=0,M=0),c=S*M-C*h,o=C*y-T*M,d=T*h-S*y,m=Math.sqrt(c*c+o*o+d*d),m?(m=1/m,c*=m,o*=m,d*=m):(c=0,o=0,d=0),n[0]=y,n[1]=c,n[2]=T,n[3]=0,n[4]=h,n[5]=o,n[6]=S,n[7]=0,n[8]=M,n[9]=d,n[10]=C,n[11]=0,n[12]=-(y*E+h*b+M*s),n[13]=-(c*E+o*b+d*s),n[14]=-(T*E+S*b+C*s),n[15]=1,n)}},104:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=t[3],y=t[4],h=t[5],M=t[6],c=t[7],o=t[8],d=t[9],T=t[10],S=t[11],C=t[12],m=t[13],E=t[14],b=t[15],s=i[0],L=i[1],A=i[2],k=i[3];return r[0]=s*n+L*y+A*o+k*C,r[1]=s*u+L*h+A*d+k*m,r[2]=s*f+L*M+A*T+k*E,r[3]=s*l+L*c+A*S+k*b,s=i[4],L=i[5],A=i[6],k=i[7],r[4]=s*n+L*y+A*o+k*C,r[5]=s*u+L*h+A*d+k*m,r[6]=s*f+L*M+A*T+k*E,r[7]=s*l+L*c+A*S+k*b,s=i[8],L=i[9],A=i[10],k=i[11],r[8]=s*n+L*y+A*o+k*C,r[9]=s*u+L*h+A*d+k*m,r[10]=s*f+L*M+A*T+k*E,r[11]=s*l+L*c+A*S+k*b,s=i[12],L=i[13],A=i[14],k=i[15],r[12]=s*n+L*y+A*o+k*C,r[13]=s*u+L*h+A*d+k*m,r[14]=s*f+L*M+A*T+k*E,r[15]=s*l+L*c+A*S+k*b,r}},5268:function(v){v.exports=p;function p(r,t,i,n,u,f,l){var y=1/(t-i),h=1/(n-u),M=1/(f-l);return r[0]=-2*y,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*M,r[11]=0,r[12]=(t+i)*y,r[13]=(u+n)*h,r[14]=(l+f)*M,r[15]=1,r}},1120:function(v){v.exports=p;function p(r,t,i,n,u){var f=1/Math.tan(t/2),l=1/(n-u);return r[0]=f/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(u+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*u*n*l,r[15]=0,r}},4422:function(v){v.exports=p;function p(r,t,i,n){var u=n[0],f=n[1],l=n[2],y=Math.sqrt(u*u+f*f+l*l),h,M,c,o,d,T,S,C,m,E,b,s,L,A,k,_,U,F,z,B,N,V,W,Q;return Math.abs(y)<1e-6?null:(y=1/y,u*=y,f*=y,l*=y,h=Math.sin(i),M=Math.cos(i),c=1-M,o=t[0],d=t[1],T=t[2],S=t[3],C=t[4],m=t[5],E=t[6],b=t[7],s=t[8],L=t[9],A=t[10],k=t[11],_=u*u*c+M,U=f*u*c+l*h,F=l*u*c-f*h,z=u*f*c-l*h,B=f*f*c+M,N=l*f*c+u*h,V=u*l*c+f*h,W=f*l*c-u*h,Q=l*l*c+M,r[0]=o*_+C*U+s*F,r[1]=d*_+m*U+L*F,r[2]=T*_+E*U+A*F,r[3]=S*_+b*U+k*F,r[4]=o*z+C*B+s*N,r[5]=d*z+m*B+L*N,r[6]=T*z+E*B+A*N,r[7]=S*z+b*B+k*N,r[8]=o*V+C*W+s*Q,r[9]=d*V+m*W+L*Q,r[10]=T*V+E*W+A*Q,r[11]=S*V+b*W+k*Q,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},6109:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),u=Math.cos(i),f=t[4],l=t[5],y=t[6],h=t[7],M=t[8],c=t[9],o=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=f*u+M*n,r[5]=l*u+c*n,r[6]=y*u+o*n,r[7]=h*u+d*n,r[8]=M*u-f*n,r[9]=c*u-l*n,r[10]=o*u-y*n,r[11]=d*u-h*n,r}},7115:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),u=Math.cos(i),f=t[0],l=t[1],y=t[2],h=t[3],M=t[8],c=t[9],o=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=f*u-M*n,r[1]=l*u-c*n,r[2]=y*u-o*n,r[3]=h*u-d*n,r[8]=f*n+M*u,r[9]=l*n+c*u,r[10]=y*n+o*u,r[11]=h*n+d*u,r}},5240:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),u=Math.cos(i),f=t[0],l=t[1],y=t[2],h=t[3],M=t[4],c=t[5],o=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=f*u+M*n,r[1]=l*u+c*n,r[2]=y*u+o*n,r[3]=h*u+d*n,r[4]=M*u-f*n,r[5]=c*u-l*n,r[6]=o*u-y*n,r[7]=d*u-h*n,r}},3668:function(v){v.exports=p;function p(r,t,i){var n=i[0],u=i[1],f=i[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*u,r[5]=t[5]*u,r[6]=t[6]*u,r[7]=t[7]*u,r[8]=t[8]*f,r[9]=t[9]*f,r[10]=t[10]*f,r[11]=t[11]*f,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},998:function(v){v.exports=p;function p(r,t,i){var n=i[0],u=i[1],f=i[2],l,y,h,M,c,o,d,T,S,C,m,E;return t===r?(r[12]=t[0]*n+t[4]*u+t[8]*f+t[12],r[13]=t[1]*n+t[5]*u+t[9]*f+t[13],r[14]=t[2]*n+t[6]*u+t[10]*f+t[14],r[15]=t[3]*n+t[7]*u+t[11]*f+t[15]):(l=t[0],y=t[1],h=t[2],M=t[3],c=t[4],o=t[5],d=t[6],T=t[7],S=t[8],C=t[9],m=t[10],E=t[11],r[0]=l,r[1]=y,r[2]=h,r[3]=M,r[4]=c,r[5]=o,r[6]=d,r[7]=T,r[8]=S,r[9]=C,r[10]=m,r[11]=E,r[12]=l*n+c*u+S*f+t[12],r[13]=y*n+o*u+C*f+t[13],r[14]=h*n+d*u+m*f+t[14],r[15]=M*n+T*u+E*f+t[15]),r}},2142:function(v){v.exports=p;function p(r,t){if(r===t){var i=t[1],n=t[2],u=t[3],f=t[6],l=t[7],y=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=i,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=f,r[11]=t[14],r[12]=u,r[13]=l,r[14]=y}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},4340:function(v,p,r){var t=r(957),i=r(7309);v.exports=y;function n(h,M){for(var c=[0,0,0,0],o=0;o<4;++o)for(var d=0;d<4;++d)c[d]+=h[4*o+d]*M[o];return c}function u(h,M,c,o,d){for(var T=n(o,n(c,n(M,[h[0],h[1],h[2],1]))),S=0;S<3;++S)T[S]/=T[3];return[.5*d[0]*(1+T[0]),.5*d[1]*(1-T[1])]}function f(h,M){if(h.length===2){for(var c=0,o=0,d=0;d<2;++d)c+=Math.pow(M[d]-h[0][d],2),o+=Math.pow(M[d]-h[1][d],2);return c=Math.sqrt(c),o=Math.sqrt(o),c+o<1e-6?[1,0]:[o/(c+o),c/(o+c)]}else if(h.length===3){var T=[0,0];return i(h[0],h[1],h[2],M,T),t(h,T)}return[]}function l(h,M){for(var c=[0,0,0],o=0;o<h.length;++o)for(var d=h[o],T=M[o],S=0;S<3;++S)c[S]+=T*d[S];return c}function y(h,M,c,o,d,T){if(h.length===1)return[0,h[0].slice()];for(var S=new Array(h.length),C=0;C<h.length;++C)S[C]=u(h[C],c,o,d,T);for(var m=0,E=1/0,C=0;C<S.length;++C){for(var b=0,s=0;s<2;++s)b+=Math.pow(S[C][s]-M[s],2);b<E&&(E=b,m=C)}for(var L=f(S,M),A=0,C=0;C<3;++C){if(L[C]<-.001||L[C]>1.0001)return null;A+=L[C]}return Math.abs(A-1)>.001?null:[m,l(h,L),L]}},2056:function(v,p,r){var t=r(6832),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),y=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),M=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:M,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:c,fragment:M,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:o,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,r){var t=1e-6,i=1e-6,n=r(5158),u=r(5827),f=r(2944),l=r(8931),y=r(115),h=r(104),M=r(7437),c=r(5050),o=r(9156),d=r(7212),T=r(5306),S=r(2056),C=r(4340),m=S.meshShader,E=S.wireShader,b=S.pointShader,s=S.pickShader,L=S.pointPickShader,A=S.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _($,X,oe,Y,ee,se,q,K,le,ie,he,ye,Ce,Ae,ke,we,Ee,xe,Re,Ve,Ue,Be,Xe,ut,dt,at,We){this.gl=$,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=X,this.dirty=!0,this.triShader=oe,this.lineShader=Y,this.pointShader=ee,this.pickShader=se,this.pointPickShader=q,this.contourShader=K,this.trianglePositions=le,this.triangleColors=he,this.triangleNormals=Ce,this.triangleUVs=ye,this.triangleIds=ie,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ke,this.edgeColors=Ee,this.edgeUVs=xe,this.edgeIds=we,this.edgeVAO=Re,this.edgeCount=0,this.pointPositions=Ve,this.pointColors=Be,this.pointUVs=Xe,this.pointSizes=ut,this.pointIds=Ue,this.pointVAO=dt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=at,this.contourVAO=We,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var U=_.prototype;U.isOpaque=function(){return!this.hasAlpha},U.isTransparent=function(){return this.hasAlpha},U.pickSlots=1,U.setPickBase=function($){this.pickId=$};function F($,X){if(!X||!X.length)return 1;for(var oe=0;oe<X.length;++oe){if(X.length<2)return 1;if(X[oe][0]===$)return X[oe][1];if(X[oe][0]>$&&oe>0){var Y=(X[oe][0]-$)/(X[oe][0]-X[oe-1][0]);return X[oe][1]*(1-Y)+Y*X[oe-1][1]}}return 1}function z($,X){for(var oe=o({colormap:$,nshades:256,format:"rgba"}),Y=new Uint8Array(256*4),ee=0;ee<256;++ee){for(var se=oe[ee],q=0;q<3;++q)Y[4*ee+q]=se[q];X?Y[4*ee+3]=255*F(ee/255,X):Y[4*ee+3]=255*se[3]}return c(Y,[256,256,4],[4,0,1])}function B($){for(var X=$.length,oe=new Array(X),Y=0;Y<X;++Y)oe[Y]=$[Y][2];return oe}U.highlight=function($){if(!$||!this.contourEnable){this.contourCount=0;return}for(var X=d(this.cells,this.intensity,$.intensity),oe=X.cells,Y=X.vertexIds,ee=X.vertexWeights,se=oe.length,q=T.mallocFloat32(2*3*se),K=0,le=0;le<se;++le)for(var ie=oe[le],he=0;he<2;++he){var ye=ie[0];ie.length===2&&(ye=ie[he]);for(var Ce=Y[ye][0],Ae=Y[ye][1],ke=ee[ye],we=1-ke,Ee=this.positions[Ce],xe=this.positions[Ae],Re=0;Re<3;++Re)q[K++]=ke*Ee[Re]+we*xe[Re]}this.contourCount=K/3|0,this.contourPositions.update(q.subarray(0,K)),T.free(q)},U.update=function($){$=$||{};var X=this.gl;this.dirty=!0,"contourEnable"in $&&(this.contourEnable=$.contourEnable),"contourColor"in $&&(this.contourColor=$.contourColor),"lineWidth"in $&&(this.lineWidth=$.lineWidth),"lightPosition"in $&&(this.lightPosition=$.lightPosition),this.hasAlpha=!1,"opacity"in $&&(this.opacity=$.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in $&&(this.opacityscale=$.opacityscale,this.hasAlpha=!0),"ambient"in $&&(this.ambientLight=$.ambient),"diffuse"in $&&(this.diffuseLight=$.diffuse),"specular"in $&&(this.specularLight=$.specular),"roughness"in $&&(this.roughness=$.roughness),"fresnel"in $&&(this.fresnel=$.fresnel),$.texture?(this.texture.dispose(),this.texture=l(X,$.texture)):$.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=X.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=X.LINEAR,this.texture.setPixels(z($.colormap,this.opacityscale)),this.texture.generateMipmap());var oe=$.cells,Y=$.positions;if(!(!Y||!oe)){var ee=[],se=[],q=[],K=[],le=[],ie=[],he=[],ye=[],Ce=[],Ae=[],ke=[],we=[],Ee=[],xe=[];this.cells=oe,this.positions=Y;var Re=$.vertexNormals,Ve=$.cellNormals,Ue=$.vertexNormalsEpsilon===void 0?t:$.vertexNormalsEpsilon,Be=$.faceNormalsEpsilon===void 0?i:$.faceNormalsEpsilon;$.useFacetNormals&&!Ve&&(Ve=y.faceNormals(oe,Y,Be)),!Ve&&!Re&&(Re=y.vertexNormals(oe,Y,Ue));var Xe=$.vertexColors,ut=$.cellColors,dt=$.meshColor||[1,1,1,1],at=$.vertexUVs,We=$.vertexIntensity,rt=$.cellUVs,st=$.cellIntensity,ht=1/0,vt=-1/0;if(!at&&!rt)if(We)if($.vertexIntensityBounds)ht=+$.vertexIntensityBounds[0],vt=+$.vertexIntensityBounds[1];else for(var At=0;At<We.length;++At){var tt=We[At];ht=Math.min(ht,tt),vt=Math.max(vt,tt)}else if(st)if($.cellIntensityBounds)ht=+$.cellIntensityBounds[0],vt=+$.cellIntensityBounds[1];else for(var At=0;At<st.length;++At){var tt=st[At];ht=Math.min(ht,tt),vt=Math.max(vt,tt)}else for(var At=0;At<Y.length;++At){var tt=Y[At][2];ht=Math.min(ht,tt),vt=Math.max(vt,tt)}We?this.intensity=We:st?this.intensity=st:this.intensity=B(Y),this.pickVertex=!(st||ut);var _e=$.pointSizes,je=$.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var At=0;At<Y.length;++At)for(var Ke=Y[At],He=0;He<3;++He)isNaN(Ke[He])||!isFinite(Ke[He])||(this.bounds[0][He]=Math.min(this.bounds[0][He],Ke[He]),this.bounds[1][He]=Math.max(this.bounds[1][He],Ke[He]));var Ie=0,be=0,me=0;e:for(var At=0;At<oe.length;++At){var Me=oe[At];switch(Me.length){case 1:for(var Te=Me[0],Ke=Y[Te],He=0;He<3;++He)if(isNaN(Ke[He])||!isFinite(Ke[He]))continue e;Ae.push(Ke[0],Ke[1],Ke[2]);var ze;Xe?ze=Xe[Te]:ut?ze=ut[At]:ze=dt,this.opacityscale&&We?se.push(ze[0],ze[1],ze[2],this.opacity*F((We[Te]-ht)/(vt-ht),this.opacityscale)):ze.length===3?ke.push(ze[0],ze[1],ze[2],this.opacity):(ke.push(ze[0],ze[1],ze[2],ze[3]*this.opacity),ze[3]<1&&(this.hasAlpha=!0));var Je;at?Je=at[Te]:We?Je=[(We[Te]-ht)/(vt-ht),0]:rt?Je=rt[At]:st?Je=[(st[At]-ht)/(vt-ht),0]:Je=[(Ke[2]-ht)/(vt-ht),0],we.push(Je[0],Je[1]),_e?Ee.push(_e[Te]):Ee.push(je),xe.push(At),me+=1;break;case 2:for(var He=0;He<2;++He)for(var Te=Me[He],Ke=Y[Te],nt=0;nt<3;++nt)if(isNaN(Ke[nt])||!isFinite(Ke[nt]))continue e;for(var He=0;He<2;++He){var Te=Me[He],Ke=Y[Te];ie.push(Ke[0],Ke[1],Ke[2]);var ze;Xe?ze=Xe[Te]:ut?ze=ut[At]:ze=dt,this.opacityscale&&We?se.push(ze[0],ze[1],ze[2],this.opacity*F((We[Te]-ht)/(vt-ht),this.opacityscale)):ze.length===3?he.push(ze[0],ze[1],ze[2],this.opacity):(he.push(ze[0],ze[1],ze[2],ze[3]*this.opacity),ze[3]<1&&(this.hasAlpha=!0));var Je;at?Je=at[Te]:We?Je=[(We[Te]-ht)/(vt-ht),0]:rt?Je=rt[At]:st?Je=[(st[At]-ht)/(vt-ht),0]:Je=[(Ke[2]-ht)/(vt-ht),0],ye.push(Je[0],Je[1]),Ce.push(At)}be+=1;break;case 3:for(var He=0;He<3;++He)for(var Te=Me[He],Ke=Y[Te],nt=0;nt<3;++nt)if(isNaN(Ke[nt])||!isFinite(Ke[nt]))continue e;for(var He=0;He<3;++He){var Te=Me[2-He],Ke=Y[Te];ee.push(Ke[0],Ke[1],Ke[2]);var ze;Xe?ze=Xe[Te]:ut?ze=ut[At]:ze=dt,ze?this.opacityscale&&We?se.push(ze[0],ze[1],ze[2],this.opacity*F((We[Te]-ht)/(vt-ht),this.opacityscale)):ze.length===3?se.push(ze[0],ze[1],ze[2],this.opacity):(se.push(ze[0],ze[1],ze[2],ze[3]*this.opacity),ze[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var Je;at?Je=at[Te]:We?Je=[(We[Te]-ht)/(vt-ht),0]:rt?Je=rt[At]:st?Je=[(st[At]-ht)/(vt-ht),0]:Je=[(Ke[2]-ht)/(vt-ht),0],K.push(Je[0],Je[1]);var pt;Re?pt=Re[Te]:pt=Ve[At],q.push(pt[0],pt[1],pt[2]),le.push(At)}Ie+=1;break}}this.pointCount=me,this.edgeCount=be,this.triangleCount=Ie,this.pointPositions.update(Ae),this.pointColors.update(ke),this.pointUVs.update(we),this.pointSizes.update(Ee),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(ie),this.edgeColors.update(he),this.edgeUVs.update(ye),this.edgeIds.update(new Uint32Array(Ce)),this.trianglePositions.update(ee),this.triangleColors.update(se),this.triangleUVs.update(K),this.triangleNormals.update(q),this.triangleIds.update(new Uint32Array(le))}},U.drawTransparent=U.draw=function($){$=$||{};for(var X=this.gl,oe=$.model||k,Y=$.view||k,ee=$.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],q=0;q<3;++q)se[0][q]=Math.max(se[0][q],this.clipBounds[0][q]),se[1][q]=Math.min(se[1][q],this.clipBounds[1][q]);var K={model:oe,view:Y,projection:ee,inverseModel:k.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};K.inverseModel=M(K.inverseModel,K.model),X.disable(X.CULL_FACE),this.texture.bind(0);var le=new Array(16);h(le,K.view,K.model),h(le,K.projection,le),M(le,le);for(var q=0;q<3;++q)K.eyePosition[q]=le[12+q]/le[15];for(var ie=le[15],q=0;q<3;++q)ie+=this.lightPosition[q]*le[4*q+3];for(var q=0;q<3;++q){for(var he=le[12+q],ye=0;ye<3;++ye)he+=le[4*ye+q]*this.lightPosition[ye];K.lightPosition[q]=he/ie}if(this.triangleCount>0){var Ce=this.triShader;Ce.bind(),Ce.uniforms=K,this.triangleVAO.bind(),X.drawArrays(X.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ce=this.lineShader;Ce.bind(),Ce.uniforms=K,this.edgeVAO.bind(),X.lineWidth(this.lineWidth*this.pixelRatio),X.drawArrays(X.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ce=this.pointShader;Ce.bind(),Ce.uniforms=K,this.pointVAO.bind(),X.drawArrays(X.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ce=this.contourShader;Ce.bind(),Ce.uniforms=K,this.contourVAO.bind(),X.drawArrays(X.LINES,0,this.contourCount),this.contourVAO.unbind()}},U.drawPick=function($){$=$||{};for(var X=this.gl,oe=$.model||k,Y=$.view||k,ee=$.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],q=0;q<3;++q)se[0][q]=Math.max(se[0][q],this.clipBounds[0][q]),se[1][q]=Math.min(se[1][q],this.clipBounds[1][q]);this._model=[].slice.call(oe),this._view=[].slice.call(Y),this._projection=[].slice.call(ee),this._resolution=[X.drawingBufferWidth,X.drawingBufferHeight];var K={model:oe,view:Y,projection:ee,clipBounds:se,pickId:this.pickId/255},le=this.pickShader;if(le.bind(),le.uniforms=K,this.triangleCount>0&&(this.triangleVAO.bind(),X.drawArrays(X.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),X.lineWidth(this.lineWidth*this.pixelRatio),X.drawArrays(X.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var le=this.pointPickShader;le.bind(),le.uniforms=K,this.pointVAO.bind(),X.drawArrays(X.POINTS,0,this.pointCount),this.pointVAO.unbind()}},U.pick=function($){if(!$||$.id!==this.pickId)return null;for(var X=$.value[0]+256*$.value[1]+65536*$.value[2],oe=this.cells[X],Y=this.positions,ee=new Array(oe.length),se=0;se<oe.length;++se)ee[se]=Y[oe[se]];var q=$.coord[0],K=$.coord[1];if(!this.pickVertex){var le=this.positions[oe[0]],ie=this.positions[oe[1]],he=this.positions[oe[2]],ye=[(le[0]+ie[0]+he[0])/3,(le[1]+ie[1]+he[1])/3,(le[2]+ie[2]+he[2])/3];return{_cellCenter:!0,position:[q,K],index:X,cell:oe,cellId:X,intensity:this.intensity[X],dataCoordinate:ye}}var Ce=C(ee,[q*this.pixelRatio,this._resolution[1]-K*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ce)return null;for(var Ae=Ce[2],ke=0,se=0;se<oe.length;++se)ke+=Ae[se]*this.intensity[oe[se]];return{position:Ce[1],index:oe[Ce[0]],cell:oe,cellId:X,intensity:ke,dataCoordinate:this.positions[oe[Ce[0]]]}},U.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function N($){var X=n($,m.vertex,m.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.normal.location=4,X}function V($){var X=n($,E.vertex,E.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X}function W($){var X=n($,b.vertex,b.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.pointSize.location=4,X}function Q($){var X=n($,s.vertex,s.fragment);return X.attributes.position.location=0,X.attributes.id.location=1,X}function re($){var X=n($,L.vertex,L.fragment);return X.attributes.position.location=0,X.attributes.id.location=1,X.attributes.pointSize.location=4,X}function ne($){var X=n($,A.vertex,A.fragment);return X.attributes.position.location=0,X}function fe($,X){arguments.length===1&&(X=$,$=X.gl);var oe=$.getExtension("OES_standard_derivatives")||$.getExtension("MOZ_OES_standard_derivatives")||$.getExtension("WEBKIT_OES_standard_derivatives");if(!oe)throw new Error("derivatives not supported");var Y=N($),ee=V($),se=W($),q=Q($),K=re($),le=ne($),ie=l($,c(new Uint8Array([255,255,255,255]),[1,1,4]));ie.generateMipmap(),ie.minFilter=$.LINEAR_MIPMAP_LINEAR,ie.magFilter=$.LINEAR;var he=u($),ye=u($),Ce=u($),Ae=u($),ke=u($),we=f($,[{buffer:he,type:$.FLOAT,size:3},{buffer:ke,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:$.FLOAT,size:4},{buffer:Ce,type:$.FLOAT,size:2},{buffer:Ae,type:$.FLOAT,size:3}]),Ee=u($),xe=u($),Re=u($),Ve=u($),Ue=f($,[{buffer:Ee,type:$.FLOAT,size:3},{buffer:Ve,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:$.FLOAT,size:4},{buffer:Re,type:$.FLOAT,size:2}]),Be=u($),Xe=u($),ut=u($),dt=u($),at=u($),We=f($,[{buffer:Be,type:$.FLOAT,size:3},{buffer:at,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Xe,type:$.FLOAT,size:4},{buffer:ut,type:$.FLOAT,size:2},{buffer:dt,type:$.FLOAT,size:1}]),rt=u($),st=f($,[{buffer:rt,type:$.FLOAT,size:3}]),ht=new _($,ie,Y,ee,se,q,K,le,he,ke,ye,Ce,Ae,we,Ee,Ve,xe,Re,Ue,Be,at,Xe,ut,dt,We,rt,st);return ht.update(X),ht}v.exports=fe},4554:function(v,p,r){v.exports=l;var t=r(5827),i=r(5158),n=r(2709);function u(y,h,M){this.plot=y,this.vbo=h,this.shader=M}var f=u.prototype;f.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var y=[0,0],h=[0,0];return function(M,c,o,d,T){var S=this.plot,C=this.shader,m=S.gl;y[0]=M,y[1]=c,h[0]=o,h[1]=d,C.uniforms.lo=y,C.uniforms.hi=h,C.uniforms.color=T,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var h=y.gl,M=t(h,[0,0,0,1,1,0,1,1]),c=i(h,n.boxVert,n.lineFrag);return new u(y,M,c)}},3016:function(v,p,r){v.exports=h;var t=r(5827),i=r(5158),n=r(5070),u=r(2709);function f(M,c,o,d){this.plot=M,this.vbo=c,this.shader=o,this.tickShader=d,this.ticks=[[],[]]}function l(M,c){return M-c}var y=f.prototype;y.draw=function(){var M=[0,0],c=[0,0],o=[0,0];return function(){for(var d=this.plot,T=this.vbo,S=this.shader,C=this.ticks,m=d.gl,E=d._tickBounds,b=d.dataBox,s=d.viewBox,L=d.gridLineWidth,A=d.gridLineColor,k=d.gridLineEnable,_=d.pixelRatio,U=0;U<2;++U){var F=E[U],z=E[U+2],B=z-F,N=.5*(b[U+2]+b[U]),V=b[U+2]-b[U];c[U]=2*B/V,M[U]=2*(F-N)/V}S.bind(),T.bind(),S.attributes.dataCoord.pointer(),S.uniforms.dataShift=M,S.uniforms.dataScale=c;for(var W=0,U=0;U<2;++U){o[0]=o[1]=0,o[U]=1,S.uniforms.dataAxis=o,S.uniforms.lineWidth=L[U]/(s[U+2]-s[U])*_,S.uniforms.color=A[U];var Q=C[U].length*6;k[U]&&Q&&m.drawArrays(m.TRIANGLES,W,Q),W+=Q}}}(),y.drawTickMarks=function(){var M=[0,0],c=[0,0],o=[1,0],d=[0,1],T=[0,0],S=[0,0];return function(){for(var C=this.plot,m=this.vbo,E=this.tickShader,b=this.ticks,s=C.gl,L=C._tickBounds,A=C.dataBox,k=C.viewBox,_=C.pixelRatio,U=C.screenBox,F=U[2]-U[0],z=U[3]-U[1],B=k[2]-k[0],N=k[3]-k[1],V=0;V<2;++V){var W=L[V],Q=L[V+2],re=Q-W,ne=.5*(A[V+2]+A[V]),fe=A[V+2]-A[V];c[V]=2*re/fe,M[V]=2*(W-ne)/fe}c[0]*=B/F,M[0]*=B/F,c[1]*=N/z,M[1]*=N/z,E.bind(),m.bind(),E.attributes.dataCoord.pointer();var $=E.uniforms;$.dataShift=M,$.dataScale=c;var X=C.tickMarkLength,oe=C.tickMarkWidth,Y=C.tickMarkColor,ee=0,se=b[0].length*6,q=Math.min(n.ge(b[0],(A[0]-L[0])/(L[2]-L[0]),l),b[0].length),K=Math.min(n.gt(b[0],(A[2]-L[0])/(L[2]-L[0]),l),b[0].length),le=ee+6*q,ie=6*Math.max(0,K-q),he=Math.min(n.ge(b[1],(A[1]-L[1])/(L[3]-L[1]),l),b[1].length),ye=Math.min(n.gt(b[1],(A[3]-L[1])/(L[3]-L[1]),l),b[1].length),Ce=se+6*he,Ae=6*Math.max(0,ye-he);T[0]=2*(k[0]-X[1])/F-1,T[1]=(k[3]+k[1])/z-1,S[0]=X[1]*_/F,S[1]=oe[1]*_/z,Ae&&($.color=Y[1],$.tickScale=S,$.dataAxis=d,$.screenOffset=T,s.drawArrays(s.TRIANGLES,Ce,Ae)),T[0]=(k[2]+k[0])/F-1,T[1]=2*(k[1]-X[0])/z-1,S[0]=oe[0]*_/F,S[1]=X[0]*_/z,ie&&($.color=Y[0],$.tickScale=S,$.dataAxis=o,$.screenOffset=T,s.drawArrays(s.TRIANGLES,le,ie)),T[0]=2*(k[2]+X[3])/F-1,T[1]=(k[3]+k[1])/z-1,S[0]=X[3]*_/F,S[1]=oe[3]*_/z,Ae&&($.color=Y[3],$.tickScale=S,$.dataAxis=d,$.screenOffset=T,s.drawArrays(s.TRIANGLES,Ce,Ae)),T[0]=(k[2]+k[0])/F-1,T[1]=2*(k[3]+X[2])/z-1,S[0]=oe[2]*_/F,S[1]=X[2]*_/z,ie&&($.color=Y[2],$.tickScale=S,$.dataAxis=o,$.screenOffset=T,s.drawArrays(s.TRIANGLES,le,ie))}}(),y.update=function(){var M=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(o){var d=o.ticks,T=o.bounds,S=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,m=[[],[]],E=0;E<2;++E)for(var b=m[E],s=d[E],L=T[E],A=T[E+2],k=0;k<s.length;++k){var _=(s[k].x-L)/(A-L);b.push(_);for(var U=0;U<6;++U)S[C++]=_,S[C++]=M[U],S[C++]=c[U]}this.ticks=m,this.vbo.update(S)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(M){var c=M.gl,o=t(c),d=i(c,u.gridVert,u.gridFrag),T=i(c,u.tickVert,u.gridFrag),S=new f(M,o,d,T);return S}},1154:function(v,p,r){v.exports=l;var t=r(5827),i=r(5158),n=r(2709);function u(y,h,M){this.plot=y,this.vbo=h,this.shader=M}var f=u.prototype;f.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var y=[0,0],h=[0,0];return function(M,c,o,d,T,S){var C=this.plot,m=this.shader,E=C.gl;y[0]=M,y[1]=c,h[0]=o,h[1]=d,m.uniforms.start=y,m.uniforms.end=h,m.uniforms.width=T*C.pixelRatio,m.uniforms.color=S,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var h=y.gl,M=t(h,[-1,-1,-1,1,1,-1,1,1]),c=i(h,n.lineVert,n.lineFrag),o=new u(y,M,c);return o}},2709:function(v,p,r){var t=r(6832),i=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,r){v.exports=h;var t=r(5827),i=r(5158),n=r(6946),u=r(5070),f=r(2709);function l(M,c,o){this.plot=M,this.vbo=c,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var y=l.prototype;y.drawTicks=function(){var M=[0,0],c=[0,0],o=[0,0];return function(d){var T=this.plot,S=this.shader,C=this.tickX[d],m=this.tickOffset[d],E=T.gl,b=T.viewBox,s=T.dataBox,L=T.screenBox,A=T.pixelRatio,k=T.tickEnable,_=T.tickPad,U=T.tickColor,F=T.tickAngle,z=T.labelEnable,B=T.labelPad,N=T.labelColor,V=T.labelAngle,W=this.labelOffset[d],Q=this.labelCount[d],re=u.lt(C,s[d]),ne=u.le(C,s[d+2]);M[0]=M[1]=0,M[d]=1,c[d]=(b[2+d]+b[d])/(L[2+d]-L[d])-1;var fe=2/L[2+(d^1)]-L[d^1];c[d^1]=fe*b[d^1]-1,k[d]&&(c[d^1]-=fe*A*_[d],re<ne&&m[ne]>m[re]&&(S.uniforms.dataAxis=M,S.uniforms.screenOffset=c,S.uniforms.color=U[d],S.uniforms.angle=F[d],E.drawArrays(E.TRIANGLES,m[re],m[ne]-m[re]))),z[d]&&Q&&(c[d^1]-=fe*A*B[d],S.uniforms.dataAxis=o,S.uniforms.screenOffset=c,S.uniforms.color=N[d],S.uniforms.angle=V[d],E.drawArrays(E.TRIANGLES,W,Q)),c[d^1]=fe*b[2+(d^1)]-1,k[d+2]&&(c[d^1]+=fe*A*_[d+2],re<ne&&m[ne]>m[re]&&(S.uniforms.dataAxis=M,S.uniforms.screenOffset=c,S.uniforms.color=U[d+2],S.uniforms.angle=F[d+2],E.drawArrays(E.TRIANGLES,m[re],m[ne]-m[re]))),z[d+2]&&Q&&(c[d^1]+=fe*A*B[d+2],S.uniforms.dataAxis=o,S.uniforms.screenOffset=c,S.uniforms.color=N[d+2],S.uniforms.angle=V[d+2],E.drawArrays(E.TRIANGLES,W,Q))}}(),y.drawTitle=function(){var M=[0,0],c=[0,0];return function(){var o=this.plot,d=this.shader,T=o.gl,S=o.screenBox,C=o.titleCenter,m=o.titleAngle,E=o.titleColor,b=o.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)c[s]=2*(C[s]*b-S[s])/(S[2+s]-S[s])-1;d.bind(),d.uniforms.dataAxis=M,d.uniforms.screenOffset=c,d.uniforms.angle=m,d.uniforms.color=E,T.drawArrays(T.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var M=[0,0],c=[0,0],o=[0,0];return function(){var d=this.plot,T=this.shader,S=d._tickBounds,C=d.dataBox,m=d.screenBox,E=d.viewBox;T.bind();for(var b=0;b<2;++b){var s=S[b],L=S[b+2],A=L-s,k=.5*(C[b+2]+C[b]),_=C[b+2]-C[b],U=E[b],F=E[b+2],z=F-U,B=m[b],N=m[b+2],V=N-B;c[b]=2*A/_*z/V,M[b]=2*(s-k)/_*z/V}o[1]=2*d.pixelRatio/(m[3]-m[1]),o[0]=o[1]*(m[3]-m[1])/(m[2]-m[0]),T.uniforms.dataScale=c,T.uniforms.dataShift=M,T.uniforms.textScale=o,this.vbo.bind(),T.attributes.textCoordinate.pointer()}}(),y.update=function(M){var c=[],o=M.ticks,d=M.bounds,T,S,C,m,E;for(E=0;E<2;++E){var b=[Math.floor(c.length/3)],s=[-1/0],L=o[E];for(T=0;T<L.length;++T){var A=L[T],k=A.x,_=A.text,U=A.font||"sans-serif";m=A.fontSize||12;for(var F=1/(d[E+2]-d[E]),z=d[E],B=_.split(`
`),N=0;N<B.length;N++)for(C=n(U,B[N]).data,S=0;S<C.length;S+=2)c.push(C[S]*m,-C[S+1]*m-N*m*1.2,(k-z)*F);b.push(Math.floor(c.length/3)),s.push(k)}this.tickOffset[E]=b,this.tickX[E]=s}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(c.length/3),C=n(M.labelFont[E],M.labels[E],{textAlign:"center"}).data,m=M.labelSize[E],T=0;T<C.length;T+=2)c.push(C[T]*m,-C[T+1]*m,0);this.labelCount[E]=Math.floor(c.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(c.length/3),C=n(M.titleFont,M.title).data,m=M.titleSize,T=0;T<C.length;T+=2)c.push(C[T]*m,-C[T+1]*m,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(M){var c=M.gl,o=t(c),d=i(c,f.textVert,f.textFrag),T=new l(M,o,d);return T}},2117:function(v,p,r){v.exports=c;var t=r(2611),i=r(3016),n=r(5613),u=r(1154),f=r(4554);function l(o,d){this.gl=o,this.pickBuffer=d,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=l.prototype;y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){return function(){var o=this.gl,d=this.screenBox,T=this.viewBox,S=this.dataBox,C=this.pixelRatio,m=this.grid,E=this.line,b=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var L=this.borderColor;o.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(T[0],T[1],T[2]-T[0],T[3]-T[1]),o.viewport(T[0],T[1],T[2]-T[0],T[3]-T[1]);var A=this.backgroundColor;o.clearColor(A[0]*A[3],A[1]*A[3],A[2]*A[3],A[3]),o.clear(o.COLOR_BUFFER_BIT),m.draw();var k=this.zeroLineEnable,_=this.zeroLineColor,U=this.zeroLineWidth;if(k[0]||k[1]){E.bind();for(var F=0;F<2;++F)if(!(!k[F]||!(S[F]<=0&&S[F+2]>=0))){var z=d[F]-S[F]*(d[F+2]-d[F])/(S[F+2]-S[F]);F===0?E.drawLine(z,d[1],z,d[3],U[F],_[F]):E.drawLine(d[0],z,d[2],z,U[F],_[F])}}for(var F=0;F<s.length;++F)s[F].draw();o.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),E.bind();var B=this.borderLineEnable,N=this.borderLineWidth,V=this.borderLineColor;B[1]&&E.drawLine(T[0],T[1]-.5*N[1]*C,T[0],T[3]+.5*N[3]*C,N[1],V[1]),B[0]&&E.drawLine(T[0]-.5*N[0]*C,T[1],T[2]+.5*N[2]*C,T[1],N[0],V[0]),B[3]&&E.drawLine(T[2],T[1]-.5*N[1]*C,T[2],T[3]+.5*N[3]*C,N[3],V[3]),B[2]&&E.drawLine(T[0]-.5*N[0]*C,T[3],T[2]+.5*N[2]*C,T[3],N[2],V[2]),b.bind();for(var F=0;F<2;++F)b.drawTicks(F);this.titleEnable&&b.drawTitle();for(var W=this.overlays,F=0;F<W.length;++F)W[F].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),y.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var d=1,T=this.objects,S=0;S<T.length;++S)d=T[S].drawPick(d);o.end()}}}(),y.pick=function(){return function(o,d){if(!this.static){var T=this.pixelRatio,S=this.pickPixelRatio,C=this.viewBox,m=Math.round((o-C[0]/T)*S)|0,E=Math.round((d-C[1]/T)*S)|0,b=this.pickBuffer.query(m,E,this.pickRadius);if(!b)return null;for(var s=b.id+(b.value[0]<<8)+(b.value[1]<<16)+(b.value[2]<<24),L=this.objects,A=0;A<L.length;++A){var k=L[A].pick(m,E,s);if(k)return k}return null}}}();function h(o){for(var d=o.slice(),T=0;T<d.length;++T)d[T]=d[T].slice();return d}function M(o,d){return o.x-d.x}y.setScreenBox=function(o){var d=this.screenBox,T=this.pixelRatio;d[0]=Math.round(o[0]*T)|0,d[1]=Math.round(o[1]*T)|0,d[2]=Math.round(o[2]*T)|0,d[3]=Math.round(o[3]*T)|0,this.setDirty()},y.setDataBox=function(o){var d=this.dataBox,T=d[0]!==o[0]||d[1]!==o[1]||d[2]!==o[2]||d[3]!==o[3];T&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],this.setDirty())},y.setViewBox=function(o){var d=this.pixelRatio,T=this.viewBox;T[0]=Math.round(o[0]*d)|0,T[1]=Math.round(o[1]*d)|0,T[2]=Math.round(o[2]*d)|0,T[3]=Math.round(o[3]*d)|0;var S=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*S)|0,Math.round((o[3]-o[1])*S)|0],this.setDirty()},y.update=function(o){o=o||{};var d=this.gl;this.pixelRatio=o.pixelRatio||1;var T=this.pixelRatio;this.pickPixelRatio=Math.max(T,1),this.setScreenBox(o.screenBox||[0,0,d.drawingBufferWidth/T,d.drawingBufferHeight/T]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/T,.125*(this.screenBox[3]-this.screenBox[1])/T,.875*(this.screenBox[2]-this.screenBox[0])/T,.875*(this.screenBox[3]-this.screenBox[1])/T]);var S=this.viewBox,C=(S[2]-S[0])/(S[3]-S[1]);this.setDataBox(o.dataBox||[-10,-10/C,10,10/C]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(S[0]+S[2])/T,(S[3]+120)/T]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var m=o.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var b=0;b<2;++b){var s=m[b].slice(0);s.length!==0&&(s.sort(M),E[b]=Math.min(E[b],s[0].x),E[b+2]=Math.max(E[b+2],s[s.length-1].x))}this.grid.update({bounds:E,ticks:m}),this.text.update({bounds:E,ticks:m,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif"}),this.static=!!o.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},y.removeObject=function(o){for(var d=this.objects,T=0;T<d.length;++T)if(d[T]===o){d.splice(T,1),this.setDirty();break}},y.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},y.removeOverlay=function(o){for(var d=this.overlays,T=0;T<d.length;++T)if(d[T]===o){d.splice(T,1),this.setOverlayDirty();break}};function c(o){var d=o.gl,T=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),S=new l(d,T);return S.grid=i(S),S.text=n(S),S.line=u(S),S.box=f(S),S.update(o),S}},4296:function(v,p,r){v.exports=y;var t=r(8161),i=r(1152),n=r(6145),u=r(6475),f=r(2565),l=r(5233);function y(h,M){h=h||document.body,M=M||{};var c=[.01,1/0];"distanceLimits"in M&&(c[0]=M.distanceLimits[0],c[1]=M.distanceLimits[1]),"zoomMin"in M&&(c[0]=M.zoomMin),"zoomMax"in M&&(c[1]=M.zoomMax);var o=i({center:M.center||[0,0,0],up:M.up||[0,1,0],eye:M.eye||[0,0,10],mode:M.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0,S=h.clientWidth,C=h.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:M.delay||16,rotateSpeed:M.rotateSpeed||1,zoomSpeed:M.zoomSpeed||1,translateSpeed:M.translateSpeed||1,flipX:!!M.flipX,flipY:!!M.flipY,modes:o.modes,_ortho:M._ortho||M.projection&&M.projection.type==="orthographic"||!1,tick:function(){var E=t(),b=this.delay,s=E-2*b;o.idle(E-b),o.recalcMatrix(s),o.flush(E-(100+b*2));for(var L=!0,A=o.computedMatrix,k=0;k<16;++k)L=L&&d[k]===A[k],d[k]=A[k];var _=h.clientWidth===S&&h.clientHeight===C;return S=h.clientWidth,C=h.clientHeight,L?!_:(T=Math.exp(o.computedRadius[0]),!0)},lookAt:function(E,b,s){o.lookAt(o.lastT(),E,b,s)},rotate:function(E,b,s){o.rotate(o.lastT(),E,b,s)},pan:function(E,b,s){o.pan(o.lastT(),E,b,s)},translate:function(E,b,s){o.translate(o.lastT(),E,b,s)}};return Object.defineProperties(m,{matrix:{get:function(){return o.computedMatrix},set:function(E){return o.setMatrix(o.lastT(),E),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(E){var b=o.computedUp.slice(),s=o.computedEye.slice(),L=o.computedCenter.slice();if(o.setMode(E),E==="turntable"){var A=t();o._active.lookAt(A,s,L,b),o._active.lookAt(A+500,s,L,[0,0,1]),o._active.flush(A)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(E){return o.lookAt(o.lastT(),null,E),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(E){return o.lookAt(o.lastT(),E),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(E){return o.lookAt(o.lastT(),null,null,E),o.computedUp},enumerable:!0},distance:{get:function(){return T},set:function(E){return o.setDistance(o.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(c)},set:function(E){return o.setDistanceLimits(E),E},enumerable:!0}}),h.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=n(h,E),h.addEventListener("touchstart",function(b){var s=f(b.changedTouches[0],h);E(0,s[0],s[1],m._lastMods),E(1,s[0],s[1],m._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(b){var s=f(b.changedTouches[0],h);E(1,s[0],s[1],m._lastMods),b.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(b){E(0,m._lastX,m._lastY,m._lastMods)},l?{passive:!0}:!1);function E(b,s,L,A){var k=m.keyBindingMode;if(k!==!1){var _=k==="rotate",U=k==="pan",F=k==="zoom",z=!!A.control,B=!!A.alt,N=!!A.shift,V=!!(b&1),W=!!(b&2),Q=!!(b&4),re=1/h.clientHeight,ne=re*(s-m._lastX),fe=re*(L-m._lastY),$=m.flipX?1:-1,X=m.flipY?1:-1,oe=Math.PI*m.rotateSpeed,Y=t();if(m._lastX!==-1&&m._lastY!==-1&&((_&&V&&!z&&!B&&!N||V&&!z&&!B&&N)&&o.rotate(Y,$*oe*ne,-X*oe*fe,0),(U&&V&&!z&&!B&&!N||W||V&&z&&!B&&!N)&&o.pan(Y,-m.translateSpeed*ne*T,m.translateSpeed*fe*T,0),F&&V&&!z&&!B&&!N||Q||V&&!z&&B&&!N)){var ee=-m.zoomSpeed*fe/window.innerHeight*(Y-o.lastT())*100;o.pan(Y,0,0,T*(Math.exp(ee)-1))}return m._lastX=s,m._lastY=L,m._lastMods=A,!0}}m.wheelListener=u(h,function(b,s){if(m.keyBindingMode!==!1&&m.enableWheel){var L=m.flipX?1:-1,A=m.flipY?1:-1,k=t();if(Math.abs(b)>Math.abs(s))o.rotate(k,0,0,-b*L*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var _=-m.zoomSpeed*A*s/window.innerHeight*(k-o.lastT())/20;o.pan(k,0,0,T*(Math.exp(_)-1))}}},!0)},m.enableMouseListeners(),m}},8245:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(f){return i(f,n,u,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,r){var t=r(4296),i=r(7453),n=r(2771),u=r(6496),f=r(2611),l=r(4234),y=r(8126),h=r(6145),M=r(1120),c=r(5268),o=r(8245),d=r(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:E,createCamera:t};function T(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function S(s,L){var A=null;try{A=s.getContext("webgl",L),A||(A=s.getContext("experimental-webgl",L))}catch{return null}return A}function C(s){var L=Math.round(Math.log(Math.abs(s))/Math.log(10));if(L<0){var A=Math.round(Math.pow(10,-L));return Math.ceil(s*A)/A}else if(L>0){var A=Math.round(Math.pow(10,L));return Math.ceil(s/A)*A}return Math.ceil(s)}function m(s){return typeof s=="boolean"?s:!0}function E(s){s=s||{},s.camera=s.camera||{};var L=s.canvas;if(!L)if(L=document.createElement("canvas"),s.container){var A=s.container;A.appendChild(L)}else document.body.appendChild(L);var k=s.gl;if(k||(s.glOptions&&(d=!!s.glOptions.preserveDrawingBuffer),k=S(L,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!k)throw new Error("webgl not supported");var _=s.bounds||[[-10,-10,-10],[10,10,10]],U=new T,F=l(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!d}),z=o(k),B=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,N={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:B},V=s.axes||{},W=i(k,V);W.enable=!V.disable;var Q=s.spikes||{},re=u(k,Q),ne=[],fe=[],$=[],X=[],oe=!0,q=!0,Y=new Array(16),ee=new Array(16),se={view:null,projection:Y,model:ee,_ortho:!1},q=!0,K=[k.drawingBufferWidth,k.drawingBufferHeight],le=s.cameraObject||t(L,N),ie={gl:k,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:L,selection:U,camera:le,axes:W,axesPixels:null,spikes:re,bounds:_,objects:ne,shape:K,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:m(s.autoResize),autoBounds:m(s.autoBounds),autoScale:!!s.autoScale,autoCenter:m(s.autoCenter),clipToBounds:m(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ve){this.aspect[0]=Ve.x,this.aspect[1]=Ve.y,this.aspect[2]=Ve.z,q=!0},setBounds:function(Ve,Ue){this.bounds[0][Ve]=Ue.min,this.bounds[1][Ve]=Ue.max},setClearColor:function(Ve){this.clearColor=Ve},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[k.drawingBufferWidth/ie.pixelRatio|0,k.drawingBufferHeight/ie.pixelRatio|0];function ye(){if(!ie._stopped&&ie.autoResize){var Ve=L.parentNode,Ue=1,Be=1;Ve&&Ve!==document.body?(Ue=Ve.clientWidth,Be=Ve.clientHeight):(Ue=window.innerWidth,Be=window.innerHeight);var Xe=Math.ceil(Ue*ie.pixelRatio)|0,ut=Math.ceil(Be*ie.pixelRatio)|0;if(Xe!==L.width||ut!==L.height){L.width=Xe,L.height=ut;var dt=L.style;dt.position=dt.position||"absolute",dt.left="0px",dt.top="0px",dt.width=Ue+"px",dt.height=Be+"px",oe=!0}}}ie.autoResize&&ye(),window.addEventListener("resize",ye);function Ce(){for(var Ve=ne.length,Ue=X.length,Be=0;Be<Ue;++Be)$[Be]=0;e:for(var Be=0;Be<Ve;++Be){var Xe=ne[Be],ut=Xe.pickSlots;if(!ut){fe[Be]=-1;continue}for(var dt=0;dt<Ue;++dt)if($[dt]+ut<255){fe[Be]=dt,Xe.setPickBase($[dt]+1),$[dt]+=ut;continue e}var at=f(k,K);fe[Be]=Ue,X.push(at),$.push(ut),Xe.setPickBase(1),Ue+=1}for(;Ue>0&&$[Ue-1]===0;)$.pop(),X.pop().dispose()}ie.update=function(Ve){ie._stopped||(oe=!0,q=!0)},ie.add=function(Ve){ie._stopped||(Ve.axes=W,ne.push(Ve),fe.push(-1),oe=!0,q=!0,Ce())},ie.remove=function(Ve){if(!ie._stopped){var Ue=ne.indexOf(Ve);Ue<0||(ne.splice(Ue,1),fe.pop(),oe=!0,q=!0,Ce())}},ie.dispose=function(){if(!ie._stopped&&(ie._stopped=!0,window.removeEventListener("resize",ye),L.removeEventListener("webglcontextlost",Ae),ie.mouseListener.enabled=!1,!ie.contextLost)){W.dispose(),re.dispose();for(var Ve=0;Ve<ne.length;++Ve)ne[Ve].dispose();F.dispose();for(var Ve=0;Ve<X.length;++Ve)X[Ve].dispose();z.dispose(),k=null,W=null,re=null,ne=[]}},ie._mouseRotating=!1,ie._prevButtons=0,ie.enableMouseListeners=function(){ie.mouseListener=h(L,function(Ve,Ue,Be){if(!ie._stopped){var Xe=X.length,ut=ne.length,dt=U.object;U.distance=1/0,U.mouse[0]=Ue,U.mouse[1]=Be,U.object=null,U.screen=null,U.dataCoordinate=U.dataPosition=null;var at=!1;if(Ve&&ie._prevButtons)ie._mouseRotating=!0;else{ie._mouseRotating&&(q=!0),ie._mouseRotating=!1;for(var We=0;We<Xe;++We){var rt=X[We].query(Ue,he[1]-Be-1,ie.pickRadius);if(rt){if(rt.distance>U.distance)continue;for(var st=0;st<ut;++st){var ht=ne[st];if(fe[st]===We){var vt=ht.pick(rt);vt&&(U.buttons=Ve,U.screen=rt.coord,U.distance=rt.distance,U.object=ht,U.index=vt.distance,U.dataPosition=vt.position,U.dataCoordinate=vt.dataCoordinate,U.data=vt,at=!0)}}}}}dt&&dt!==U.object&&(dt.highlight&&dt.highlight(null),oe=!0),U.object&&(U.object.highlight&&U.object.highlight(U.data),oe=!0),at=at||U.object!==dt,at&&ie.onselect&&ie.onselect(U),Ve&1&&!(ie._prevButtons&1)&&ie.onclick&&ie.onclick(U),ie._prevButtons=Ve}})};function Ae(){if(ie.contextLost)return!0;k.isContextLost()&&(ie.contextLost=!0,ie.mouseListener.enabled=!1,ie.selection.object=null,ie.oncontextloss&&ie.oncontextloss())}L.addEventListener("webglcontextlost",Ae);function ke(){if(!Ae()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Ve=ne.length,Ue=X.length,Be=0;Be<Ue;++Be){var Xe=X[Be];Xe.shape=he,Xe.begin();for(var ut=0;ut<Ve;++ut)if(fe[ut]===Be){var dt=ne[ut];dt.drawPick&&(dt.pixelRatio=1,dt.drawPick(se))}Xe.end()}}}var we=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=[we[0].slice(),we[1].slice()];function xe(){if(!Ae()){ye();var Ve=ie.camera.tick();se.view=ie.camera.matrix,oe=oe||Ve,q=q||Ve,W.pixelRatio=ie.pixelRatio,re.pixelRatio=ie.pixelRatio;var Ue=ne.length,Be=we[0],Xe=we[1];Be[0]=Be[1]=Be[2]=1/0,Xe[0]=Xe[1]=Xe[2]=-1/0;for(var ut=0;ut<Ue;++ut){var dt=ne[ut];dt.pixelRatio=ie.pixelRatio,dt.axes=ie.axes,oe=oe||!!dt.dirty,q=q||!!dt.dirty;var at=dt.bounds;if(at)for(var We=at[0],rt=at[1],st=0;st<3;++st)Be[st]=Math.min(Be[st],We[st]),Xe[st]=Math.max(Xe[st],rt[st])}var ht=ie.bounds;if(ie.autoBounds)for(var st=0;st<3;++st){if(Xe[st]<Be[st])Be[st]=-1,Xe[st]=1;else{Be[st]===Xe[st]&&(Be[st]-=1,Xe[st]+=1);var vt=.05*(Xe[st]-Be[st]);Be[st]=Be[st]-vt,Xe[st]=Xe[st]+vt}ht[0][st]=Be[st],ht[1][st]=Xe[st]}for(var At=!1,st=0;st<3;++st)At=At||Ee[0][st]!==ht[0][st]||Ee[1][st]!==ht[1][st],Ee[0][st]=ht[0][st],Ee[1][st]=ht[1][st];if(q=q||At,oe=oe||At,!!oe){if(At){for(var tt=[0,0,0],ut=0;ut<3;++ut)tt[ut]=C((ht[1][ut]-ht[0][ut])/10);W.autoTicks?W.update({bounds:ht,tickSpacing:tt}):W.update({bounds:ht})}var _e=k.drawingBufferWidth,je=k.drawingBufferHeight;K[0]=_e,K[1]=je,he[0]=Math.max(_e/ie.pixelRatio,1)|0,he[1]=Math.max(je/ie.pixelRatio,1)|0,b(ie,B);for(var ut=0;ut<Ue;++ut){var dt=ne[ut];dt.axesBounds=ht,ie.clipToBounds&&(dt.clipBounds=ht)}U.object&&(ie.snapToData?re.position=U.dataCoordinate:re.position=U.dataPosition,re.bounds=ht),q&&(q=!1,ke()),ie.axesPixels=n(ie.axes,se,_e,je),ie.onrender&&ie.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,_e,je),ie.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Ke=!1;W.enable&&(Ke=Ke||W.isTransparent(),W.draw(se)),re.axes=W,U.object&&re.draw(se),k.disable(k.CULL_FACE);for(var ut=0;ut<Ue;++ut){var dt=ne[ut];dt.axes=W,dt.pixelRatio=ie.pixelRatio,dt.isOpaque&&dt.isOpaque()&&dt.draw(se),dt.isTransparent&&dt.isTransparent()&&(Ke=!0)}if(Ke){F.shape=K,F.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(se);for(var ut=0;ut<Ue;++ut){var dt=ne[ut];dt.isOpaque&&dt.isOpaque()&&dt.draw(se)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(se);for(var ut=0;ut<Ue;++ut){var dt=ne[ut];dt.isTransparent&&dt.isTransparent()&&dt.drawTransparent(se)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),z.bind(),F.color[0].bind(0),z.uniforms.accumBuffer=0,y(k),k.disable(k.BLEND)}oe=!1;for(var ut=0;ut<Ue;++ut)ne[ut].dirty=!1}}}function Re(){ie._stopped||ie.contextLost||(xe(),requestAnimationFrame(Re))}return ie.enableMouseListeners(),Re(),ie.redraw=function(){ie._stopped||(oe=!0,xe())},ie}function b(s,L){var A=s.bounds,k=s.cameraParams,_=k.projection,U=k.model,F=s.gl.drawingBufferWidth,z=s.gl.drawingBufferHeight,B=s.zNear,N=s.zFar,V=s.fovy,W=F/z;L?(c(_,-W,W,-1,1,B,N),k._ortho=!0):(M(_,V,W,B,N),k._ortho=!1);for(var Q=0;Q<16;++Q)U[Q]=0;U[15]=1;for(var re=0,Q=0;Q<3;++Q)re=Math.max(re,A[1][Q]-A[0][Q]);for(var Q=0;Q<3;++Q)s.autoScale?U[5*Q]=s.aspect[Q]/(A[1][Q]-A[0][Q]):U[5*Q]=1/re,s.autoCenter&&(U[12+Q]=-U[5*Q]*.5*(A[0][Q]+A[1][Q]))}},8023:function(v,p,r){var t=r(6832);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,r){var t=r(5158),i=r(5827),n=r(5306),u=r(8023);v.exports=h;function f(M,c,o,d,T){this.plot=M,this.offsetBuffer=c,this.pickBuffer=o,this.shader=d,this.pickShader=T,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=f.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(M){var c;M=M||{};function o(b,s){return b in M?M[b]:s}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var d=M.positions.length>>>1,T=M.positions instanceof Float32Array,S=M.idToIndex instanceof Int32Array&&M.idToIndex.length>=d,C=M.positions,m=T?C:n.mallocFloat32(C.length),E=S?M.idToIndex:n.mallocInt32(d);if(T||m.set(C),!S)for(m.set(C),c=0;c<d;c++)E[c]=c;this.points=C,this.offsetBuffer.update(m),this.pickBuffer.update(E),T||n.free(m),S||n.free(E),this.pointCount=d,this.pickOffset=0};function y(M,c){var o=0,d=M.length>>>1,T;for(T=0;T<d;T++){var S=M[T*2],C=M[T*2+1];S>=c[0]&&S<=c[2]&&C>=c[1]&&C<=c[3]&&o++}return o}l.unifiedDraw=function(){var M=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(o){var d=o!==void 0,T=d?this.pickShader:this.shader,S=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return o;var m=C[2]-C[0],E=C[3]-C[1],b=y(this.points,C),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(b,.33333)));M[0]=2/m,M[4]=2/E,M[6]=-2*C[0]/m-1,M[7]=-2*C[1]/E-1,this.offsetBuffer.bind(),T.bind(),T.attributes.position.pointer(),T.uniforms.matrix=M,T.uniforms.color=this.color,T.uniforms.borderColor=this.borderColor,T.uniforms.pointCloud=s<5,T.uniforms.pointSize=s,T.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=o&255,c[1]=o>>8&255,c[2]=o>>16&255,c[3]=o>>24&255,this.pickBuffer.bind(),T.attributes.pickId.pointer(S.UNSIGNED_BYTE),T.uniforms.pickOffset=c,this.pickOffset=o);var L=S.getParameter(S.BLEND),A=S.getParameter(S.DITHER);return L&&!this.blend&&S.disable(S.BLEND),A&&S.disable(S.DITHER),S.drawArrays(S.POINTS,0,this.pointCount),L&&!this.blend&&S.enable(S.BLEND),A&&S.enable(S.DITHER),o+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(M,c,o){var d=this.pickOffset,T=this.pointCount;if(o<d||o>=d+T)return null;var S=o-d,C=this.points;return{object:this,pointId:S,dataCoord:[C[2*S],C[2*S+1]]}};function h(M,c){var o=M.gl,d=i(o),T=i(o),S=t(o,u.pointVertex,u.pointFragment),C=t(o,u.pickVertex,u.pickFragment),m=new f(M,d,T,S,C);return m.update(c),M.addObject(m),m}},6093:function(v){v.exports=p;function p(r,t,i,n){var u=t[0],f=t[1],l=t[2],y=t[3],h=i[0],M=i[1],c=i[2],o=i[3],d,T,S,C,m;return T=u*h+f*M+l*c+y*o,T<0&&(T=-T,h=-h,M=-M,c=-c,o=-o),1-T>1e-6?(d=Math.acos(T),S=Math.sin(d),C=Math.sin((1-n)*d)/S,m=Math.sin(n*d)/S):(C=1-n,m=n),r[0]=C*u+m*h,r[1]=C*f+m*M,r[2]=C*l+m*c,r[3]=C*y+m*o,r}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,r){var t=r(875);v.exports=n;var i={};function n(u,f,l){var y=i[f];if(y||(y=i[f]={}),u in y)return y[u];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var M=t(u,h);h.triangles=!1;var c=t(u,h),o,d;if(l&&l!==1){for(o=0;o<M.positions.length;++o)for(d=0;d<M.positions[o].length;++d)M.positions[o][d]/=l;for(o=0;o<c.positions.length;++o)for(d=0;d<c.positions[o].length;++d)c.positions[o][d]/=l}var T=[[1/0,1/0],[-1/0,-1/0]],S=c.positions.length;for(o=0;o<S;++o){var C=c.positions[o];for(d=0;d<2;++d)T[0][d]=Math.min(T[0][d],C[d]),T[1][d]=Math.max(T[1][d],C[d])}return y[u]=[M,c,T]}},9282:function(v,p,r){var t=r(5158),i=r(6832),n=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),y=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],M={vertex:n,fragment:l,attributes:h},c={vertex:u,fragment:l,attributes:h},o={vertex:f,fragment:l,attributes:h},d={vertex:n,fragment:y,attributes:h},T={vertex:u,fragment:y,attributes:h},S={vertex:f,fragment:y,attributes:h};function C(m,E){var b=t(m,E),s=b.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,b}p.createPerspective=function(m){return C(m,M)},p.createOrtho=function(m){return C(m,c)},p.createProject=function(m){return C(m,o)},p.createPickPerspective=function(m){return C(m,d)},p.createPickOrtho=function(m){return C(m,T)},p.createPickProject=function(m){return C(m,S)}},2182:function(v,p,r){var t=r(3596),i=r(5827),n=r(2944),u=r(5306),f=r(104),l=r(9282),y=r(4123),h=r(8240),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=fe;function c($,X){var oe=$[0],Y=$[1],ee=$[2],se=$[3];return $[0]=X[0]*oe+X[4]*Y+X[8]*ee+X[12]*se,$[1]=X[1]*oe+X[5]*Y+X[9]*ee+X[13]*se,$[2]=X[2]*oe+X[6]*Y+X[10]*ee+X[14]*se,$[3]=X[3]*oe+X[7]*Y+X[11]*ee+X[15]*se,$}function o($,X,oe,Y){return c(Y,Y),c(Y,Y),c(Y,Y)}function d($,X){this.index=$,this.dataCoordinate=this.position=X}function T($){return $===!0||$>1?1:$}function S($,X,oe,Y,ee,se,q,K,le,ie,he,ye){this.gl=$,this.pixelRatio=1,this.shader=X,this.orthoShader=oe,this.projectShader=Y,this.pointBuffer=ee,this.colorBuffer=se,this.glyphBuffer=q,this.idBuffer=K,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ie,this.pickOrthoShader=he,this.pickProjectShader=ye,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var C=S.prototype;C.pickSlots=1,C.setPickBase=function($){this.pickId=$},C.isTransparent=function(){if(this.hasAlpha)return!0;for(var $=0;$<3;++$)if(this.axesProject[$]&&this.projectHasAlpha)return!0;return!1},C.isOpaque=function(){if(!this.hasAlpha)return!0;for(var $=0;$<3;++$)if(this.axesProject[$]&&!this.projectHasAlpha)return!0;return!1};var m=[0,0],E=[0,0,0],b=[0,0,0],s=[0,0,0,1],L=[0,0,0,1],A=M.slice(),k=[0,0,0],_=[[0,0,0],[0,0,0]];function U($){return $[0]=$[1]=$[2]=0,$}function F($,X){return $[0]=X[0],$[1]=X[1],$[2]=X[2],$[3]=1,$}function z($,X,oe,Y){return $[0]=X[0],$[1]=X[1],$[2]=X[2],$[oe]=Y,$}function B($){for(var X=_,oe=0;oe<2;++oe)for(var Y=0;Y<3;++Y)X[oe][Y]=Math.max(Math.min($[oe][Y],1e8),-1e8);return X}function N($,X,oe,Y){var ee=X.axesProject,se=X.gl,q=$.uniforms,K=oe.model||M,le=oe.view||M,ie=oe.projection||M,he=X.axesBounds,ye=B(X.clipBounds),Ce;X.axes&&X.axes.lastCubeProps?Ce=X.axes.lastCubeProps.axis:Ce=[1,1,1],m[0]=2/se.drawingBufferWidth,m[1]=2/se.drawingBufferHeight,$.bind(),q.view=le,q.projection=ie,q.screenSize=m,q.highlightId=X.highlightId,q.highlightScale=X.highlightScale,q.clipBounds=ye,q.pickGroup=X.pickId/255,q.pixelRatio=Y;for(var Ae=0;Ae<3;++Ae)if(ee[Ae]){q.scale=X.projectScale[Ae],q.opacity=X.projectOpacity[Ae];for(var ke=A,we=0;we<16;++we)ke[we]=0;for(var we=0;we<4;++we)ke[5*we]=1;ke[5*Ae]=0,Ce[Ae]<0?ke[12+Ae]=he[0][Ae]:ke[12+Ae]=he[1][Ae],f(ke,K,ke),q.model=ke;var Ee=(Ae+1)%3,xe=(Ae+2)%3,Re=U(E),Ve=U(b);Re[Ee]=1,Ve[xe]=1;var Ue=o(ie,le,K,F(s,Re)),Be=o(ie,le,K,F(L,Ve));if(Math.abs(Ue[1])>Math.abs(Be[1])){var Xe=Ue;Ue=Be,Be=Xe,Xe=Re,Re=Ve,Ve=Xe;var ut=Ee;Ee=xe,xe=ut}Ue[0]<0&&(Re[Ee]=-1),Be[1]>0&&(Ve[xe]=-1);for(var dt=0,at=0,we=0;we<4;++we)dt+=Math.pow(K[4*Ee+we],2),at+=Math.pow(K[4*xe+we],2);Re[Ee]/=Math.sqrt(dt),Ve[xe]/=Math.sqrt(at),q.axes[0]=Re,q.axes[1]=Ve,q.fragClipBounds[0]=z(k,ye[0],Ae,-1e8),q.fragClipBounds[1]=z(k,ye[1],Ae,1e8),X.vao.bind(),X.vao.draw(se.TRIANGLES,X.vertexCount),X.lineWidth>0&&(se.lineWidth(X.lineWidth*Y),X.vao.draw(se.LINES,X.lineVertexCount,X.vertexCount)),X.vao.unbind()}}var V=[-1e8,-1e8,-1e8],W=[1e8,1e8,1e8],Q=[V,W];function re($,X,oe,Y,ee,se,q){var K=oe.gl;if((se===oe.projectHasAlpha||q)&&N(X,oe,Y,ee),se===oe.hasAlpha||q){$.bind();var le=$.uniforms;le.model=Y.model||M,le.view=Y.view||M,le.projection=Y.projection||M,m[0]=2/K.drawingBufferWidth,m[1]=2/K.drawingBufferHeight,le.screenSize=m,le.highlightId=oe.highlightId,le.highlightScale=oe.highlightScale,le.fragClipBounds=Q,le.clipBounds=oe.axes.bounds,le.opacity=oe.opacity,le.pickGroup=oe.pickId/255,le.pixelRatio=ee,oe.vao.bind(),oe.vao.draw(K.TRIANGLES,oe.vertexCount),oe.lineWidth>0&&(K.lineWidth(oe.lineWidth*ee),oe.vao.draw(K.LINES,oe.lineVertexCount,oe.vertexCount)),oe.vao.unbind()}}C.draw=function($){var X=this.useOrtho?this.orthoShader:this.shader;re(X,this.projectShader,this,$,this.pixelRatio,!1,!1)},C.drawTransparent=function($){var X=this.useOrtho?this.orthoShader:this.shader;re(X,this.projectShader,this,$,this.pixelRatio,!0,!1)},C.drawPick=function($){var X=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;re(X,this.pickProjectShader,this,$,1,!0,!0)},C.pick=function($){if(!$||$.id!==this.pickId)return null;var X=$.value[2]+($.value[1]<<8)+($.value[0]<<16);if(X>=this.pointCount||X<0)return null;var oe=this.points[X],Y=this._selectResult;Y.index=X;for(var ee=0;ee<3;++ee)Y.position[ee]=Y.dataCoordinate[ee]=oe[ee];return Y},C.highlight=function($){if(!$)this.highlightId=[1,1,1,1];else{var X=$.index,oe=X&255,Y=X>>8&255,ee=X>>16&255;this.highlightId=[oe/255,Y/255,ee/255,0]}};function ne($,X,oe,Y){var ee;Array.isArray($)?X<$.length?ee=$[X]:ee=void 0:ee=$,ee=h(ee);var se=!0;t(ee)&&(ee="▼",se=!1);var q=y(ee,oe,Y);return{mesh:q[0],lines:q[1],bounds:q[2],visible:se}}C.update=function($){if($=$||{},"perspective"in $&&(this.useOrtho=!$.perspective),"orthographic"in $&&(this.useOrtho=!!$.orthographic),"lineWidth"in $&&(this.lineWidth=$.lineWidth),"project"in $)if(Array.isArray($.project))this.axesProject=$.project;else{var X=!!$.project;this.axesProject=[X,X,X]}if("projectScale"in $)if(Array.isArray($.projectScale))this.projectScale=$.projectScale.slice();else{var oe=+$.projectScale;this.projectScale=[oe,oe,oe]}if(this.projectHasAlpha=!1,"projectOpacity"in $){if(Array.isArray($.projectOpacity))this.projectOpacity=$.projectOpacity.slice();else{var oe=+$.projectOpacity;this.projectOpacity=[oe,oe,oe]}for(var Y=0;Y<3;++Y)this.projectOpacity[Y]=T(this.projectOpacity[Y]),this.projectOpacity[Y]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in $&&(this.opacity=T($.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ee=$.position,se=$.font||"normal",q=$.alignment||[0,0],K,le;if(q.length===2)K=q[0],le=q[1];else{K=[],le=[];for(var Y=0;Y<q.length;++Y)K[Y]=q[Y][0],le[Y]=q[Y][1]}var ie=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],ye=$.glyph,Ce=$.color,Ae=$.size,ke=$.angle,we=$.lineColor,Ee=-1,xe=0,Re=0,Ve=0;if(ee.length){Ve=ee.length;e:for(var Y=0;Y<Ve;++Y){for(var Ue=ee[Y],Be=0;Be<3;++Be)if(isNaN(Ue[Be])||!isFinite(Ue[Be]))continue e;var Xe=ne(ye,Y,se,this.pixelRatio),ut=Xe.mesh,dt=Xe.lines,at=Xe.bounds;xe+=ut.cells.length*3,Re+=dt.edges.length*2}}var We=xe+Re,rt=u.mallocFloat(3*We),st=u.mallocFloat(4*We),ht=u.mallocFloat(2*We),vt=u.mallocUint32(We);if(We>0){var At=0,tt=xe,_e=[0,0,0,1],je=[0,0,0,1],Ke=Array.isArray(Ce)&&Array.isArray(Ce[0]),He=Array.isArray(we)&&Array.isArray(we[0]);e:for(var Y=0;Y<Ve;++Y){Ee+=1;for(var Ue=ee[Y],Be=0;Be<3;++Be){if(isNaN(Ue[Be])||!isFinite(Ue[Be]))continue e;he[Be]=Math.max(he[Be],Ue[Be]),ie[Be]=Math.min(ie[Be],Ue[Be])}var Xe=ne(ye,Y,se,this.pixelRatio),ut=Xe.mesh,dt=Xe.lines,at=Xe.bounds,Ie=Xe.visible;if(!Ie)_e=[1,1,1,0];else if(Array.isArray(Ce)){var be;if(Ke?Y<Ce.length?be=Ce[Y]:be=[0,0,0,0]:be=Ce,be.length===3){for(var Be=0;Be<3;++Be)_e[Be]=be[Be];_e[3]=1}else if(be.length===4){for(var Be=0;Be<4;++Be)_e[Be]=be[Be];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else _e[0]=_e[1]=_e[2]=0,_e[3]=1;if(!Ie)je=[1,1,1,0];else if(Array.isArray(we)){var be;if(He?Y<we.length?be=we[Y]:be=[0,0,0,0]:be=we,be.length===3){for(var Be=0;Be<3;++Be)je[Be]=be[Be];je[Be]=1}else if(be.length===4){for(var Be=0;Be<4;++Be)je[Be]=be[Be];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else je[0]=je[1]=je[2]=0,je[3]=1;var me=.5;Ie?Array.isArray(Ae)?Y<Ae.length?me=+Ae[Y]:me=12:Ae?me=+Ae:this.useOrtho&&(me=12):me=0;var Me=0;Array.isArray(ke)?Y<ke.length?Me=+ke[Y]:Me=0:ke&&(Me=+ke);for(var Te=Math.cos(Me),ze=Math.sin(Me),Ue=ee[Y],Be=0;Be<3;++Be)he[Be]=Math.max(he[Be],Ue[Be]),ie[Be]=Math.min(ie[Be],Ue[Be]);var Je=K,nt=le,Je=0;Array.isArray(K)?Y<K.length?Je=K[Y]:Je=0:K&&(Je=K);var nt=0;Array.isArray(le)?Y<le.length?nt=le[Y]:nt=0:le&&(nt=le),Je*=Je>0?1-at[0][0]:Je<0?1+at[1][0]:1,nt*=nt>0?1-at[0][1]:nt<0?1+at[1][1]:1;for(var pt=[Je,nt],kt=ut.cells||[],Kt=ut.positions||[],Be=0;Be<kt.length;++Be)for(var yt=kt[Be],Yt=0;Yt<3;++Yt){for(var Xt=0;Xt<3;++Xt)rt[3*At+Xt]=Ue[Xt];for(var Xt=0;Xt<4;++Xt)st[4*At+Xt]=_e[Xt];vt[At]=Ee;var St=Kt[yt[Yt]];ht[2*At]=me*(Te*St[0]-ze*St[1]+pt[0]),ht[2*At+1]=me*(ze*St[0]+Te*St[1]+pt[1]),At+=1}for(var kt=dt.edges,Kt=dt.positions,Be=0;Be<kt.length;++Be)for(var yt=kt[Be],Yt=0;Yt<2;++Yt){for(var Xt=0;Xt<3;++Xt)rt[3*tt+Xt]=Ue[Xt];for(var Xt=0;Xt<4;++Xt)st[4*tt+Xt]=je[Xt];vt[tt]=Ee;var St=Kt[yt[Yt]];ht[2*tt]=me*(Te*St[0]-ze*St[1]+pt[0]),ht[2*tt+1]=me*(ze*St[0]+Te*St[1]+pt[1]),tt+=1}}}this.bounds=[ie,he],this.points=ee,this.pointCount=ee.length,this.vertexCount=xe,this.lineVertexCount=Re,this.pointBuffer.update(rt),this.colorBuffer.update(st),this.glyphBuffer.update(ht),this.idBuffer.update(vt),u.free(rt),u.free(st),u.free(ht),u.free(vt)},C.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function fe($){var X=$.gl,oe=l.createPerspective(X),Y=l.createOrtho(X),ee=l.createProject(X),se=l.createPickPerspective(X),q=l.createPickOrtho(X),K=l.createPickProject(X),le=i(X),ie=i(X),he=i(X),ye=i(X),Ce=n(X,[{buffer:le,size:3,type:X.FLOAT},{buffer:ie,size:4,type:X.FLOAT},{buffer:he,size:2,type:X.FLOAT},{buffer:ye,size:4,type:X.UNSIGNED_BYTE,normalized:!0}]),Ae=new S(X,oe,Y,ee,le,ie,he,ye,Ce,se,q,K);return Ae.update($),Ae}},1884:function(v,p,r){var t=r(6832);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,r){var t=r(5158),i=r(5827),n=r(1884);v.exports=l;function u(y,h,M){this.plot=y,this.boxBuffer=h,this.boxShader=M,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=u.prototype;f.draw=function(){if(this.enabled){var y=this.plot,h=this.selectBox,M=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var o=this.outerColor,d=this.borderColor,T=y.box,S=y.screenBox,C=y.dataBox,m=y.viewBox,E=y.pixelRatio,b=(h[0]-C[0])*(m[2]-m[0])/(C[2]-C[0])+m[0],s=(h[1]-C[1])*(m[3]-m[1])/(C[3]-C[1])+m[1],L=(h[2]-C[0])*(m[2]-m[0])/(C[2]-C[0])+m[0],A=(h[3]-C[1])*(m[3]-m[1])/(C[3]-C[1])+m[1];if(b=Math.max(b,m[0]),s=Math.max(s,m[1]),L=Math.min(L,m[2]),A=Math.min(A,m[3]),!(L<b||A<s)){T.bind();var k=S[2]-S[0],_=S[3]-S[1];if(this.outerFill&&(T.drawBox(0,0,k,s,o),T.drawBox(0,s,b,A,o),T.drawBox(0,A,k,_,o),T.drawBox(L,s,k,A,o)),this.innerFill&&T.drawBox(b,s,L,A,c),M>0){var U=M*E;T.drawBox(b-U,s-U,L+U,s+U,d),T.drawBox(b-U,A-U,L+U,A+U,d),T.drawBox(b-U,s-U,b+U,A+U,d),T.drawBox(L-U,s-U,L+U,A+U,d)}}}},f.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(y,h){var M=y.gl,c=i(M,[0,0,0,1,1,0,1,1]),o=t(M,n.boxVertex,n.boxFragment),d=new u(y,c,o);return d.update(h),y.addOverlay(d),d}},2611:function(v,p,r){v.exports=M;var t=r(4234),i=r(5306),n=r(5050),u=r(2288).nextPow2,f=function(c,o,d){for(var T=1e8,S=-1,C=-1,m=c.shape[0],E=c.shape[1],b=0;b<m;b++)for(var s=0;s<E;s++){var L=c.get(b,s,0),A=c.get(b,s,1),k=c.get(b,s,2),_=c.get(b,s,3);if(L<255||A<255||k<255||_<255){var U=o-b,F=d-s,z=U*U+F*F;z<T&&(T=z,S=b,C=s)}}return[S,C,T]};function l(c,o,d,T,S){this.coord=[c,o],this.id=d,this.value=T,this.distance=S}function y(c,o,d){this.gl=c,this.fbo=o,this.buffer=d,this._readTimeout=null;var T=this;this._readCallback=function(){T.gl&&(o.bind(),c.readPixels(0,0,o.shape[0],o.shape[1],c.RGBA,c.UNSIGNED_BYTE,T.buffer),T._readTimeout=null)}}var h=y.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var o=this.fbo.shape[0],d=this.fbo.shape[1];if(d*o*4>this.buffer.length){i.free(this.buffer);for(var T=this.buffer=i.mallocUint8(u(d*o*4)),S=0;S<d*o*4;++S)T[S]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,o,d){if(!this.gl)return null;var T=this.fbo.shape.slice();c=c|0,o=o|0,typeof d!="number"&&(d=1);var S=Math.min(Math.max(c-d,0),T[0])|0,C=Math.min(Math.max(c+d,0),T[0])|0,m=Math.min(Math.max(o-d,0),T[1])|0,E=Math.min(Math.max(o+d,0),T[1])|0;if(C<=S||E<=m)return null;var b=[C-S,E-m],s=n(this.buffer,[b[0],b[1],4],[4,T[0]*4,1],4*(S+T[0]*m)),L=f(s.hi(b[0],b[1],1),d,d),A=L[0],k=L[1];if(A<0||Math.pow(this.radius,2)<L[2])return null;var _=s.get(A,k,0),U=s.get(A,k,1),F=s.get(A,k,2),z=s.get(A,k,3);return new l(A+S|0,k+m|0,_,[U,F,z],Math.sqrt(L[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function M(c,o){var d=o[0],T=o[1],S={},C=t(c,d,T,S),m=i.mallocUint8(d*T*4);return new y(c,C,m)}},5158:function(v,p,r){var t=r(9016),i=r(4280),n=r(3984),u=r(1628),f=r(2631),l=r(9068);function y(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=y.prototype;h.bind=function(){this.program||this._relink();var o,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),T=this.gl.lastAttribCount;if(d>T)for(o=T;o<d;o++)this.gl.enableVertexAttribArray(o);else if(T>d)for(o=d;o<T;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,d=0;d<o;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function M(o,d){return o.name<d.name?-1:1}h.update=function(o,d,T,S){if(!d||arguments.length===1){var C=o;o=C.vertex,d=C.fragment,T=C.uniforms,S=C.attributes}var m=this,E=m.gl,b=m._vref;m._vref=u.shader(E,E.VERTEX_SHADER,o),b&&b.dispose(),m.vertShader=m._vref.shader;var s=this._fref;if(m._fref=u.shader(E,E.FRAGMENT_SHADER,d),s&&s.dispose(),m.fragShader=m._fref.shader,!T||!S){var L=E.createProgram();if(E.attachShader(L,m.fragShader),E.attachShader(L,m.vertShader),E.linkProgram(L),!E.getProgramParameter(L,E.LINK_STATUS)){var A=E.getProgramInfoLog(L);throw new l(A,"Error linking program:"+A)}T=T||f.uniforms(E,L),S=S||f.attributes(E,L),E.deleteProgram(L)}S=S.slice(),S.sort(M);var k=[],_=[],U=[],F;for(F=0;F<S.length;++F){var z=S[F];if(z.type.indexOf("mat")>=0){for(var B=z.type.charAt(z.type.length-1)|0,N=new Array(B),V=0;V<B;++V)N[V]=U.length,_.push(z.name+"["+V+"]"),typeof z.location=="number"?U.push(z.location+V):Array.isArray(z.location)&&z.location.length===B&&typeof z.location[V]=="number"?U.push(z.location[V]|0):U.push(-1);k.push({name:z.name,type:z.type,locations:N})}else k.push({name:z.name,type:z.type,locations:[U.length]}),_.push(z.name),typeof z.location=="number"?U.push(z.location|0):U.push(-1)}var W=0;for(F=0;F<U.length;++F)if(U[F]<0){for(;U.indexOf(W)>=0;)W+=1;U[F]=W}var Q=new Array(T.length);function re(){m.program=u.program(E,m._vref,m._fref,_,U);for(var ne=0;ne<T.length;++ne)Q[ne]=E.getUniformLocation(m.program,T[ne].name)}re(),m._relink=re,m.types={uniforms:n(T),attributes:n(S)},m.attributes=i(E,m,k,U),Object.defineProperty(m,"uniforms",t(E,m,T,Q))};function c(o,d,T,S,C){var m=new y(o);return m.update(d,T,S,C),m}v.exports=c},9068:function(v){function p(r,t,i){this.shortMessage=t||"",this.longMessage=i||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(i?`
`+i:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,r){v.exports=y;var t=r(9068);function i(h,M,c,o,d,T){this._gl=h,this._wrapper=M,this._index=c,this._locations=o,this._dimension=d,this._constFunc=T}var n=i.prototype;n.pointer=function(M,c,o,d){var T=this,S=T._gl,C=T._locations[T._index];S.vertexAttribPointer(C,T._dimension,M||S.FLOAT,!!c,o||0,d||0),S.enableVertexAttribArray(C)},n.set=function(h,M,c,o){return this._constFunc(this._locations[this._index],h,M,c,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var u=[function(h,M,c){return c.length===void 0?h.vertexAttrib1f(M,c):h.vertexAttrib1fv(M,c)},function(h,M,c,o){return c.length===void 0?h.vertexAttrib2f(M,c,o):h.vertexAttrib2fv(M,c)},function(h,M,c,o,d){return c.length===void 0?h.vertexAttrib3f(M,c,o,d):h.vertexAttrib3fv(M,c)},function(h,M,c,o,d,T){return c.length===void 0?h.vertexAttrib4f(M,c,o,d,T):h.vertexAttrib4fv(M,c)}];function f(h,M,c,o,d,T,S){var C=u[d],m=new i(h,M,c,o,d,C);Object.defineProperty(T,S,{set:function(E){return h.disableVertexAttribArray(o[c]),C(h,o[c],E),E},get:function(){return m},enumerable:!0})}function l(h,M,c,o,d,T,S){for(var C=new Array(d),m=new Array(d),E=0;E<d;++E)f(h,M,c[E],o,d,C,E),m[E]=C[E];Object.defineProperty(C,"location",{set:function(L){if(Array.isArray(L))for(var A=0;A<d;++A)m[A].location=L[A];else for(var A=0;A<d;++A)m[A].location=L+A;return L},get:function(){for(var L=new Array(d),A=0;A<d;++A)L[A]=o[c[A]];return L},enumerable:!0}),C.pointer=function(L,A,k,_){L=L||h.FLOAT,A=!!A,k=k||d*d,_=_||0;for(var U=0;U<d;++U){var F=o[c[U]];h.vertexAttribPointer(F,d,L,A,k,_+U*d),h.enableVertexAttribArray(F)}};var b=new Array(d),s=h["vertexAttrib"+d+"fv"];Object.defineProperty(T,S,{set:function(L){for(var A=0;A<d;++A){var k=o[c[A]];if(h.disableVertexAttribArray(k),Array.isArray(L[0]))s.call(h,k,L[A]);else{for(var _=0;_<d;++_)b[_]=L[d*A+_];s.call(h,k,b)}}return L},get:function(){return C},enumerable:!0})}function y(h,M,c,o){for(var d={},T=0,S=c.length;T<S;++T){var C=c[T],m=C.name,E=C.type,b=C.locations;switch(E){case"bool":case"int":case"float":f(h,M,b[0],o,1,d,m);break;default:if(E.indexOf("vec")>=0){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+E);f(h,M,b[0],o,s,d,m)}else if(E.indexOf("mat")>=0){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+E);l(h,M,b,o,s,d,m)}else throw new t("","Unknown data type for attribute "+m+": "+E);break}}return d}},9016:function(v,p,r){var t=r(3984),i=r(9068);v.exports=f;function n(l){return function(){return l}}function u(l,y){for(var h=new Array(l),M=0;M<l;++M)h[M]=y;return h}function f(l,y,h,M){function c(E){return function(b,s,L){return b.getUniform(s.program,L[E])}}function o(E){return function(s){for(var L=d("",E),A=0;A<L.length;++A){var k=L[A],_=k[0],U=k[1];if(M[U]){var F=s;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var z=_;if(_.indexOf(".")===0&&(z=_.slice(1)),z.indexOf("]")===z.length-1){var B=z.indexOf("["),N=z.slice(0,B),V=z.slice(B+1,z.length-1);F=N?s[N][V]:s[V]}else F=s[z]}var W=h[U].type,Q;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(M[U],F);break;case"float":l.uniform1f(M[U],F);break;default:var re=W.indexOf("vec");if(0<=re&&re<=1&&W.length===4+re){if(Q=W.charCodeAt(W.length-1)-48,Q<2||Q>4)throw new i("","Invalid data type");switch(W.charAt(0)){case"b":case"i":l["uniform"+Q+"iv"](M[U],F);break;case"v":l["uniform"+Q+"fv"](M[U],F);break;default:throw new i("","Unrecognized data type for vector "+name+": "+W)}}else if(W.indexOf("mat")===0&&W.length===4){if(Q=W.charCodeAt(W.length-1)-48,Q<2||Q>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+W);l["uniformMatrix"+Q+"fv"](M[U],!1,F);break}else throw new i("","Unknown uniform data type for "+name+": "+W)}}}}}function d(E,b){if(typeof b!="object")return[[E,b]];var s=[];for(var L in b){var A=b[L],k=E;parseInt(L)+""===L?k+="["+L+"]":k+="."+L,typeof A=="object"?s.push.apply(s,d(k,A)):s.push([k,A])}return s}function T(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var b=E.indexOf("vec");if(0<=b&&b<=1&&E.length===4+b){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new i("","Invalid data type");return E.charAt(0)==="b"?u(s,!1):u(s,0)}else if(E.indexOf("mat")===0&&E.length===4){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+E);return u(s*s,0)}else throw new i("","Unknown uniform data type for "+name+": "+E)}}function S(E,b,s){if(typeof s=="object"){var L=C(s);Object.defineProperty(E,b,{get:n(L),set:o(s),enumerable:!0,configurable:!1})}else M[s]?Object.defineProperty(E,b,{get:c(s),set:o(s),enumerable:!0,configurable:!1}):E[b]=T(h[s].type)}function C(E){var b;if(Array.isArray(E)){b=new Array(E.length);for(var s=0;s<E.length;++s)S(b,s,E[s])}else{b={};for(var L in E)S(b,L,E[L])}return b}var m=t(h,!0);return{get:n(C(m)),set:o(m),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(r,t){for(var i={},n=0;n<r.length;++n)for(var u=r[n].name,f=u.split("."),l=i,y=0;y<f.length;++y){var h=f[y].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var M=1;M<h.length;++M){var c=parseInt(h[M]);M<h.length-1||y<f.length-1?(c in l||(M<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=n:l[c]=r[n].type}}else y<f.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=n:l[h[0]]=r[n].type}return i}},2631:function(v,p){p.uniforms=n,p.attributes=u;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function i(f,l){if(!t){var y=Object.keys(r);t={};for(var h=0;h<y.length;++h){var M=y[h];t[f[M]]=r[M]}}return t[l]}function n(f,l){for(var y=f.getProgramParameter(l,f.ACTIVE_UNIFORMS),h=[],M=0;M<y;++M){var c=f.getActiveUniform(l,M);if(c){var o=i(f,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:o});else h.push({name:c.name,type:o})}}return h}function u(f,l){for(var y=f.getProgramParameter(l,f.ACTIVE_ATTRIBUTES),h=[],M=0;M<y;++M){var c=f.getActiveAttrib(l,M);c&&h.push({name:c.name,type:i(f,c.type)})}return h}},1628:function(v,p,r){p.shader=d,p.program=T;var t=r(9068),i=r(3530),n=typeof WeakMap>"u"?r(4037):WeakMap,u=new n,f=0;function l(S,C,m,E,b,s,L){this.id=S,this.src=C,this.type=m,this.shader=E,this.count=s,this.programs=[],this.cache=L}l.prototype.dispose=function(){if(--this.count===0){for(var S=this.cache,C=S.gl,m=this.programs,E=0,b=m.length;E<b;++E){var s=S.programs[m[E]];s&&(delete S.programs[E],C.deleteProgram(s))}C.deleteShader(this.shader),delete S.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function y(S){this.gl=S,this.shaders=[{},{}],this.programs={}}var h=y.prototype;function M(S,C,m){var E=S.createShader(C);if(S.shaderSource(E,m),S.compileShader(E),!S.getShaderParameter(E,S.COMPILE_STATUS)){var b=S.getShaderInfoLog(E);try{var s=i(b,m,C)}catch(L){throw console.warn("Failed to format compiler error: "+L),new t(b,`Error compiling shader:
`+b)}throw new t(b,s.short,s.long)}return E}h.getShaderReference=function(S,C){var m=this.gl,E=this.shaders[S===m.FRAGMENT_SHADER|0],b=E[C];if(!b||!m.isShader(b.shader)){var s=M(m,S,C);b=E[C]=new l(f++,C,S,s,[],1,this)}else b.count+=1;return b};function c(S,C,m,E,b){var s=S.createProgram();S.attachShader(s,C),S.attachShader(s,m);for(var L=0;L<E.length;++L)S.bindAttribLocation(s,b[L],E[L]);if(S.linkProgram(s),!S.getProgramParameter(s,S.LINK_STATUS)){var A=S.getProgramInfoLog(s);throw new t(A,"Error linking program: "+A)}return s}h.getProgram=function(S,C,m,E){var b=[S.id,C.id,m.join(":"),E.join(":")].join("@"),s=this.programs[b];return(!s||!this.gl.isProgram(s))&&(this.programs[b]=s=c(this.gl,S.shader,C.shader,m,E),S.programs.push(b),C.programs.push(b)),s};function o(S){var C=u.get(S);return C||(C=new y(S),u.set(S,C)),C}function d(S,C,m){return o(S).getShaderReference(C,m)}function T(S,C,m,E,b){return o(S).getProgram(C,m,E,b)}},3050:function(v){v.exports=t;function p(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var i=this.enable,n=this.width,u=this.color,f=this.center,l=this.plot,y=l.line,h=l.dataBox,M=l.viewBox;if(y.bind(),h[0]<=f[0]&&f[0]<=h[2]&&h[1]<=f[1]&&f[1]<=h[3]){var c=M[0]+(f[0]-h[0])/(h[2]-h[0])*(M[2]-M[0]),o=M[1]+(f[1]-h[1])/(h[3]-h[1])*(M[3]-M[1]);i[0]&&y.drawLine(c,o,M[0],o,n[0],u[0]),i[1]&&y.drawLine(c,o,c,M[1],n[1],u[1]),i[2]&&y.drawLine(c,o,M[2],o,n[2],u[2]),i[3]&&y.drawLine(c,o,c,M[3],n[3],u[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(i,n){var u=new p(i);return u.update(n),i.addOverlay(u),u}},3540:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(f){return i(f,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,r){var t=r(5827),i=r(2944),n=r(3540);v.exports=c;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,d,T,S){this.gl=o,this.buffer=d,this.vao=T,this.shader=S,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=f.prototype,y=[0,0,0],h=[0,0,0],M=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(o){},l.draw=function(o){var d=this.gl,T=this.vao,S=this.shader;T.bind(),S.bind();var C=o.model||u,m=o.view||u,E=o.projection||u,b;this.axes&&(b=this.axes.lastCubeProps.axis);for(var s=y,L=h,A=0;A<3;++A)b&&b[A]<0?(s[A]=this.bounds[0][A],L[A]=this.bounds[1][A]):(s[A]=this.bounds[1][A],L[A]=this.bounds[0][A]);M[0]=d.drawingBufferWidth,M[1]=d.drawingBufferHeight,S.uniforms.model=C,S.uniforms.view=m,S.uniforms.projection=E,S.uniforms.coordinates=[this.position,s,L],S.uniforms.colors=this.colors,S.uniforms.screenShape=M;for(var A=0;A<3;++A)S.uniforms.lineWidth=this.lineWidth[A]*this.pixelRatio,this.enabled[A]&&(T.draw(d.TRIANGLES,6,6*A),this.drawSides[A]&&T.draw(d.TRIANGLES,12,18+12*A));T.unbind()},l.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(o,d){var T=[];function S(s,L,A,k,_,U){var F=[s,L,A,0,0,0,1];F[k+3]=1,F[k]=_,T.push.apply(T,F),F[6]=-1,T.push.apply(T,F),F[k]=U,T.push.apply(T,F),T.push.apply(T,F),F[6]=1,T.push.apply(T,F),F[k]=_,T.push.apply(T,F)}S(0,0,0,0,0,1),S(0,0,0,1,0,1),S(0,0,0,2,0,1),S(1,0,0,1,-1,1),S(1,0,0,2,-1,1),S(0,1,0,0,-1,1),S(0,1,0,2,-1,1),S(0,0,1,0,-1,1),S(0,0,1,1,-1,1);var C=t(o,T),m=i(o,[{type:o.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:C,size:1,offset:24,stride:28}]),E=n(o);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var b=new f(o,C,m,E);return b.update(d),b}},9578:function(v,p,r){var t=r(6832),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,r){var t=r(2858),i=r(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(T,S,C,m){for(var E=T.points,b=T.velocities,s=T.divergences,L=[],A=[],k=[],_=[],U=[],F=[],z=0,B=0,N=i.create(),V=i.create(),W=8,Q=0;Q<E.length;Q++){var re=E[Q],ne=b[Q],fe=s[Q];S===0&&(fe=C*.05),B=t.length(ne)/m,N=i.create(),t.copy(N,ne),N[3]=fe;for(var $=0;$<W;$++)U[$]=[re[0],re[1],re[2],$];if(_.length>0)for(var $=0;$<W;$++){var X=($+1)%W;L.push(_[$],U[$],U[X],U[X],_[X],_[$]),k.push(V,N,N,N,V,V),F.push(z,B,B,B,z,z);var oe=L.length;A.push([oe-6,oe-5,oe-4],[oe-3,oe-2,oe-1])}var Y=_;_=U,U=Y;var ee=V;V=N,N=ee;var se=z;z=B,B=se}return{positions:L,cells:A,vectors:k,vertexIntensity:F}},f=function(T,S,C,m){for(var E=0,b=0;b<T.length;b++)for(var s=T[b].velocities,L=0;L<s.length;L++)E=Math.max(E,t.length(s[L]));for(var A=T.map(function(Q){return u(Q,C,m,E)}),k=[],_=[],U=[],F=[],b=0;b<A.length;b++){var z=A[b],B=k.length;k=k.concat(z.positions),U=U.concat(z.vectors),F=F.concat(z.vertexIntensity);for(var L=0;L<z.cells.length;L++){var N=z.cells[L],V=[];_.push(V);for(var W=0;W<N.length;W++)V.push(N[W]+B)}}return{positions:k,cells:_,vectors:U,vertexIntensity:F,colormap:S}},l=function(T,S){var C=T.length,m;for(m=0;m<C;m++){var E=T[m];if(E===S)return m;if(E>S)return m-1}return m},y=function(T,S,C){return T<S?S:T>C?C:T},h=function(T,S,C){var m=S.vectors,E=S.meshgrid,b=T[0],s=T[1],L=T[2],A=E[0].length,k=E[1].length,_=E[2].length,U=l(E[0],b),F=l(E[1],s),z=l(E[2],L),B=U+1,N=F+1,V=z+1;if(U=y(U,0,A-1),B=y(B,0,A-1),F=y(F,0,k-1),N=y(N,0,k-1),z=y(z,0,_-1),V=y(V,0,_-1),U<0||F<0||z<0||B>A-1||N>k-1||V>_-1)return t.create();var W=E[0][U],Q=E[0][B],re=E[1][F],ne=E[1][N],fe=E[2][z],$=E[2][V],X=(b-W)/(Q-W),oe=(s-re)/(ne-re),Y=(L-fe)/($-fe);isFinite(X)||(X=.5),isFinite(oe)||(oe=.5),isFinite(Y)||(Y=.5);var ee,se,q,K,le,ie;switch(C.reversedX&&(U=A-1-U,B=A-1-B),C.reversedY&&(F=k-1-F,N=k-1-N),C.reversedZ&&(z=_-1-z,V=_-1-V),C.filled){case 5:le=z,ie=V,q=F*_,K=N*_,ee=U*_*k,se=B*_*k;break;case 4:le=z,ie=V,ee=U*_,se=B*_,q=F*_*A,K=N*_*A;break;case 3:q=F,K=N,le=z*k,ie=V*k,ee=U*k*_,se=B*k*_;break;case 2:q=F,K=N,ee=U*k,se=B*k,le=z*k*A,ie=V*k*A;break;case 1:ee=U,se=B,le=z*A,ie=V*A,q=F*A*_,K=N*A*_;break;default:ee=U,se=B,q=F*A,K=N*A,le=z*A*k,ie=V*A*k;break}var he=m[ee+q+le],ye=m[ee+q+ie],Ce=m[ee+K+le],Ae=m[ee+K+ie],ke=m[se+q+le],we=m[se+q+ie],Ee=m[se+K+le],xe=m[se+K+ie],Re=t.create(),Ve=t.create(),Ue=t.create(),Be=t.create();t.lerp(Re,he,ke,X),t.lerp(Ve,ye,we,X),t.lerp(Ue,Ce,Ee,X),t.lerp(Be,Ae,xe,X);var Xe=t.create(),ut=t.create();t.lerp(Xe,Re,Ue,oe),t.lerp(ut,Ve,Be,oe);var dt=t.create();return t.lerp(dt,Xe,ut,Y),dt},M=function(T){var S=1/0;T.sort(function(b,s){return b-s});for(var C=T.length,m=1;m<C;m++){var E=Math.abs(T[m]-T[m-1]);E<S&&(S=E)}return S},c=function(T){for(var S=[],C=[],m=[],E={},b={},s={},L=T.length,A=0;A<L;A++){var k=T[A],_=k[0],U=k[1],F=k[2];E[_]||(S.push(_),E[_]=!0),b[U]||(C.push(U),b[U]=!0),s[F]||(m.push(F),s[F]=!0)}var z=M(S),B=M(C),N=M(m),V=Math.min(z,B,N);return isFinite(V)?V:1};v.exports=function(T,S){var C=T.startingPositions,m=T.maxLength||1e3,E=T.tubeSize||1,b=T.absoluteTubeSize,s=T.gridFill||"+x+y+z",L={};s.indexOf("-x")!==-1&&(L.reversedX=!0),s.indexOf("-y")!==-1&&(L.reversedY=!0),s.indexOf("-z")!==-1&&(L.reversedZ=!0),L.filled=n.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var A=T.getVelocity||function(we){return h(we,T,L)},k=T.getDivergence||function(we,Ee){var xe=t.create(),Re=1e-4;t.add(xe,we,[Re,0,0]);var Ve=A(xe);t.subtract(Ve,Ve,Ee),t.scale(Ve,Ve,1/Re),t.add(xe,we,[0,Re,0]);var Ue=A(xe);t.subtract(Ue,Ue,Ee),t.scale(Ue,Ue,1/Re),t.add(xe,we,[0,0,Re]);var Be=A(xe);return t.subtract(Be,Be,Ee),t.scale(Be,Be,1/Re),t.add(xe,Ve,Ue),t.add(xe,xe,Be),xe},_=[],U=S[0][0],F=S[0][1],z=S[0][2],B=S[1][0],N=S[1][1],V=S[1][2],W=function(we){var Ee=we[0],xe=we[1],Re=we[2];return!(Ee<U||Ee>B||xe<F||xe>N||Re<z||Re>V)},Q=t.distance(S[0],S[1]),re=10*Q/m,ne=re*re,fe=1,$=0,X=C.length;X>1&&(fe=c(C));for(var oe=0;oe<X;oe++){var Y=t.create();t.copy(Y,C[oe]);var ee=[Y],se=[],q=A(Y),K=Y;se.push(q);var le=[],ie=k(Y,q),he=t.length(ie);isFinite(he)&&he>$&&($=he),le.push(he),_.push({points:ee,velocities:se,divergences:le});for(var ye=0;ye<m*100&&ee.length<m&&W(Y);){ye++;var Ce=t.clone(q),Ae=t.squaredLength(Ce);if(Ae===0)break;if(Ae>ne&&t.scale(Ce,Ce,re/Math.sqrt(Ae)),t.add(Ce,Ce,Y),q=A(Ce),t.squaredDistance(K,Ce)-ne>-1e-4*ne){ee.push(Ce),K=Ce,se.push(q);var ie=k(Ce,q),he=t.length(ie);isFinite(he)&&he>$&&($=he),le.push(he)}Y=Ce}}var ke=f(_,T.colormap,$,fe);return b?ke.tubeScale=b:($===0&&($=1),ke.tubeScale=E*.5*fe/$),ke};var o=r(9578),d=r(1140).createMesh;v.exports.createTubeMesh=function(T,S){return d(T,S,{shaders:o,traceType:"streamtube"})}},9054:function(v,p,r){var t=r(5158),i=r(6832),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(y){var h=t(y,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(y){var h=t(y,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(y){var h=t(y,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(y){var h=t(y,f,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,p,r){v.exports=se;var t=r(2288),i=r(5827),n=r(2944),u=r(8931),f=r(5306),l=r(9156),y=r(7498),h=r(7382),M=r(5050),c=r(4162),o=r(104),d=r(7437),T=r(5070),S=r(9144),C=r(9054),m=C.createShader,E=C.createContourShader,b=C.createPickShader,s=C.createPickContourShader,L=4*(4+3+3),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var q=0;q<3;++q){var K=_[q],le=(q+1)%3,ie=(q+2)%3;K[le+0]=1,K[ie+3]=1,K[q+6]=1}})();function U(q,K,le,ie,he){this.position=q,this.index=K,this.uv=le,this.level=ie,this.dataCoordinate=he}var F=256;function z(q,K,le,ie,he,ye,Ce,Ae,ke,we,Ee,xe,Re,Ve,Ue){this.gl=q,this.shape=K,this.bounds=le,this.objectOffset=Ue,this.intensityBounds=[],this._shader=ie,this._pickShader=he,this._coordinateBuffer=ye,this._vao=Ce,this._colorMap=Ae,this._contourShader=ke,this._contourPickShader=we,this._contourBuffer=Ee,this._contourVAO=xe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Re,this._dynamicVAO=Ve,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[M(f.mallocFloat(1024),[0,0]),M(f.mallocFloat(1024),[0,0]),M(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=z.prototype;B.genColormap=function(q,K){var le=!1,ie=h([l({colormap:q,nshades:F,format:"rgba"}).map(function(he,ye){var Ce=K?N(ye/255,K):he[3];return Ce<1&&(le=!0),[he[0],he[1],he[2],255*Ce]})]);return y.divseq(ie,255),this.hasAlphaScale=le,ie},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function(q){this.pickId=q};function N(q,K){if(!K||!K.length)return 1;for(var le=0;le<K.length;++le){if(K.length<2)return 1;if(K[le][0]===q)return K[le][1];if(K[le][0]>q&&le>0){var ie=(K[le][0]-q)/(K[le][0]-K[le-1][0]);return K[le][1]*(1-ie)+ie*K[le-1][1]}}return 1}var V=[0,0,0],W={showSurface:!1,showContour:!1,projections:[A.slice(),A.slice(),A.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Q(q,K){var le,ie,he,ye=K.axes&&K.axes.lastCubeProps.axis||V,Ce=K.showSurface,Ae=K.showContour;for(le=0;le<3;++le)for(Ce=Ce||K.surfaceProject[le],ie=0;ie<3;++ie)Ae=Ae||K.contourProject[le][ie];for(le=0;le<3;++le){var ke=W.projections[le];for(ie=0;ie<16;++ie)ke[ie]=0;for(ie=0;ie<4;++ie)ke[5*ie]=1;ke[5*le]=0,ke[12+le]=K.axesBounds[+(ye[le]>0)][le],o(ke,q.model,ke);var we=W.clipBounds[le];for(he=0;he<2;++he)for(ie=0;ie<3;++ie)we[he][ie]=q.clipBounds[he][ie];we[0][le]=-1e8,we[1][le]=1e8}return W.showSurface=Ce,W.showContour=Ae,W}var re={model:A,view:A,projection:A,inverseModel:A.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=A.slice(),fe=[1,0,0,0,1,0,0,0,1];function $(q,K){q=q||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var ie=re;ie.model=q.model||A,ie.view=q.view||A,ie.projection=q.projection||A,ie.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ie.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ie.objectOffset=this.objectOffset,ie.contourColor=this.contourColor[0],ie.inverseModel=d(ie.inverseModel,ie.model);for(var he=0;he<2;++he)for(var ye=ie.clipBounds[he],Ce=0;Ce<3;++Ce)ye[Ce]=Math.min(Math.max(this.clipBounds[he][Ce],-1e8),1e8);ie.kambient=this.ambientLight,ie.kdiffuse=this.diffuseLight,ie.kspecular=this.specularLight,ie.roughness=this.roughness,ie.fresnel=this.fresnel,ie.opacity=this.opacity,ie.height=0,ie.permutation=fe,ie.vertexColor=this.vertexColor;var Ae=ne;for(o(Ae,ie.view,ie.model),o(Ae,ie.projection,Ae),d(Ae,Ae),he=0;he<3;++he)ie.eyePosition[he]=Ae[12+he]/Ae[15];var ke=Ae[15];for(he=0;he<3;++he)ke+=this.lightPosition[he]*Ae[4*he+3];for(he=0;he<3;++he){var we=Ae[12+he];for(Ce=0;Ce<3;++Ce)we+=Ae[4*Ce+he]*this.lightPosition[Ce];ie.lightPosition[he]=we/ke}var Ee=Q(ie,this);if(Ee.showSurface){for(this._shader.bind(),this._shader.uniforms=ie,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Ee.projections[he],this._shader.uniforms.clipBounds=Ee.clipBounds[he],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var xe=this._contourShader;ie.kambient=1,ie.kdiffuse=0,ie.kspecular=0,ie.opacity=1,xe.bind(),xe.uniforms=ie;var Re=this._contourVAO;for(Re.bind(),he=0;he<3;++he)for(xe.uniforms.permutation=_[he],le.lineWidth(this.contourWidth[he]*this.pixelRatio),Ce=0;Ce<this.contourLevels[he].length;++Ce)Ce===this.highlightLevel[he]?(xe.uniforms.contourColor=this.highlightColor[he],xe.uniforms.contourTint=this.highlightTint[he]):(Ce===0||Ce-1===this.highlightLevel[he])&&(xe.uniforms.contourColor=this.contourColor[he],xe.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Ce]&&(xe.uniforms.height=this.contourLevels[he][Ce],Re.draw(le.LINES,this._contourCounts[he][Ce],this._contourOffsets[he][Ce]));for(he=0;he<3;++he)for(xe.uniforms.model=Ee.projections[he],xe.uniforms.clipBounds=Ee.clipBounds[he],Ce=0;Ce<3;++Ce)if(this.contourProject[he][Ce]){xe.uniforms.permutation=_[Ce],le.lineWidth(this.contourWidth[Ce]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[Ce].length;++Ve)Ve===this.highlightLevel[Ce]?(xe.uniforms.contourColor=this.highlightColor[Ce],xe.uniforms.contourTint=this.highlightTint[Ce]):(Ve===0||Ve-1===this.highlightLevel[Ce])&&(xe.uniforms.contourColor=this.contourColor[Ce],xe.uniforms.contourTint=this.contourTint[Ce]),this._contourCounts[Ce][Ve]&&(xe.uniforms.height=this.contourLevels[Ce][Ve],Re.draw(le.LINES,this._contourCounts[Ce][Ve],this._contourOffsets[Ce][Ve]))}for(Re.unbind(),Re=this._dynamicVAO,Re.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(xe.uniforms.model=ie.model,xe.uniforms.clipBounds=ie.clipBounds,xe.uniforms.permutation=_[he],le.lineWidth(this.dynamicWidth[he]*this.pixelRatio),xe.uniforms.contourColor=this.dynamicColor[he],xe.uniforms.contourTint=this.dynamicTint[he],xe.uniforms.height=this.dynamicLevel[he],Re.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Ce=0;Ce<3;++Ce)this.contourProject[Ce][he]&&(xe.uniforms.model=Ee.projections[Ce],xe.uniforms.clipBounds=Ee.clipBounds[Ce],Re.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));Re.unbind()}}B.draw=function(q){return $.call(this,q,!1)},B.drawTransparent=function(q){return $.call(this,q,!0)};var X={model:A,view:A,projection:A,inverseModel:A,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};B.drawPick=function(q){q=q||{};var K=this.gl;K.disable(K.CULL_FACE);var le=X;le.model=q.model||A,le.view=q.view||A,le.projection=q.projection||A,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=fe;for(var ie=0;ie<2;++ie)for(var he=le.clipBounds[ie],ye=0;ye<3;++ye)he[ye]=Math.min(Math.max(this.clipBounds[ie][ye],-1e8),1e8);var Ce=Q(le,this);if(Ce.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw(K.TRIANGLES,this._vertexCount),ie=0;ie<3;++ie)this.surfaceProject[ie]&&(this._pickShader.uniforms.model=Ce.projections[ie],this._pickShader.uniforms.clipBounds=Ce.clipBounds[ie],this._vao.draw(K.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=le;var ke=this._contourVAO;for(ke.bind(),ye=0;ye<3;++ye)for(K.lineWidth(this.contourWidth[ye]*this.pixelRatio),Ae.uniforms.permutation=_[ye],ie=0;ie<this.contourLevels[ye].length;++ie)this._contourCounts[ye][ie]&&(Ae.uniforms.height=this.contourLevels[ye][ie],ke.draw(K.LINES,this._contourCounts[ye][ie],this._contourOffsets[ye][ie]));for(ie=0;ie<3;++ie)for(Ae.uniforms.model=Ce.projections[ie],Ae.uniforms.clipBounds=Ce.clipBounds[ie],ye=0;ye<3;++ye)if(this.contourProject[ie][ye]){Ae.uniforms.permutation=_[ye],K.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var we=0;we<this.contourLevels[ye].length;++we)this._contourCounts[ye][we]&&(Ae.uniforms.height=this.contourLevels[ye][we],ke.draw(K.LINES,this._contourCounts[ye][we],this._contourOffsets[ye][we]))}ke.unbind()}},B.pick=function(q){if(!q||q.id!==this.pickId)return null;var K=this._field[2].shape,le=this._pickResult,ie=K[0]*(q.value[0]+(q.value[2]>>4)/16)/255,he=Math.floor(ie),ye=ie-he,Ce=K[1]*(q.value[1]+(q.value[2]&15)/16)/255,Ae=Math.floor(Ce),ke=Ce-Ae;he+=1,Ae+=1;var we=le.position;we[0]=we[1]=we[2]=0;for(var Ee=0;Ee<2;++Ee)for(var xe=Ee?ye:1-ye,Re=0;Re<2;++Re)for(var Ve=Re?ke:1-ke,Ue=he+Ee,Be=Ae+Re,Xe=xe*Ve,ut=0;ut<3;++ut)we[ut]+=this._field[ut].get(Ue,Be)*Xe;for(var dt=this._pickResult.level,at=0;at<3;++at)if(dt[at]=T.le(this.contourLevels[at],we[at]),dt[at]<0)this.contourLevels[at].length>0&&(dt[at]=0);else if(dt[at]<this.contourLevels[at].length-1){var We=this.contourLevels[at][dt[at]],rt=this.contourLevels[at][dt[at]+1];Math.abs(We-we[at])>Math.abs(rt-we[at])&&(dt[at]+=1)}for(le.index[0]=ye<.5?he:he+1,le.index[1]=ke<.5?Ae:Ae+1,le.uv[0]=ie/K[0],le.uv[1]=Ce/K[1],ut=0;ut<3;++ut)le.dataCoordinate[ut]=this._field[ut].get(le.index[0],le.index[1]);return le},B.padField=function(q,K){var le=K.shape.slice(),ie=q.shape.slice();y.assign(q.lo(1,1).hi(le[0],le[1]),K),y.assign(q.lo(1).hi(le[0],1),K.hi(le[0],1)),y.assign(q.lo(1,ie[1]-1).hi(le[0],1),K.lo(0,le[1]-1).hi(le[0],1)),y.assign(q.lo(0,1).hi(1,le[1]),K.hi(1)),y.assign(q.lo(ie[0]-1,1).hi(1,le[1]),K.lo(le[0]-1)),q.set(0,0,K.get(0,0)),q.set(0,ie[1]-1,K.get(0,le[1]-1)),q.set(ie[0]-1,0,K.get(le[0]-1,0)),q.set(ie[0]-1,ie[1]-1,K.get(le[0]-1,le[1]-1))};function oe(q,K){return Array.isArray(q)?[K(q[0]),K(q[1]),K(q[2])]:[K(q),K(q),K(q)]}function Y(q){return Array.isArray(q)?q.length===3?[q[0],q[1],q[2],1]:[q[0],q[1],q[2],q[3]]:[0,0,0,1]}function ee(q){if(Array.isArray(q)){if(Array.isArray(q))return[Y(q[0]),Y(q[1]),Y(q[2])];var K=Y(q);return[K.slice(),K.slice(),K.slice()]}}B.update=function(q){q=q||{},this.objectOffset=q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in q&&(this.contourWidth=oe(q.contourWidth,Number)),"showContour"in q&&(this.showContour=oe(q.showContour,Boolean)),"showSurface"in q&&(this.showSurface=!!q.showSurface),"contourTint"in q&&(this.contourTint=oe(q.contourTint,Boolean)),"contourColor"in q&&(this.contourColor=ee(q.contourColor)),"contourProject"in q&&(this.contourProject=oe(q.contourProject,function(Ft){return oe(Ft,Boolean)})),"surfaceProject"in q&&(this.surfaceProject=q.surfaceProject),"dynamicColor"in q&&(this.dynamicColor=ee(q.dynamicColor)),"dynamicTint"in q&&(this.dynamicTint=oe(q.dynamicTint,Number)),"dynamicWidth"in q&&(this.dynamicWidth=oe(q.dynamicWidth,Number)),"opacity"in q&&(this.opacity=q.opacity),"opacityscale"in q&&(this.opacityscale=q.opacityscale),"colorBounds"in q&&(this.colorBounds=q.colorBounds),"vertexColor"in q&&(this.vertexColor=q.vertexColor?1:0),"colormap"in q&&this._colorMap.setPixels(this.genColormap(q.colormap,this.opacityscale));var K=q.field||q.coords&&q.coords[2]||null,le=!1;if(K||(this._field[2].shape[0]||this._field[2].shape[2]?K=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):K=this._field[2].hi(0,0)),"field"in q||"coords"in q){var ie=(K.shape[0]+2)*(K.shape[1]+2);ie>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(t.nextPow2(ie))),this._field[2]=M(this._field[2].data,[K.shape[0]+2,K.shape[1]+2]),this.padField(this._field[2],K),this.shape=K.shape.slice();for(var he=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(f.freeFloat(this._field[ye].data),this._field[ye].data=f.mallocFloat(this._field[2].size)),this._field[ye]=M(this._field[ye].data,[he[0]+2,he[1]+2]);if(q.coords){var Ce=q.coords;if(!Array.isArray(Ce)||Ce.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var Ae=Ce[ye];for(Re=0;Re<2;++Re)if(Ae.shape[Re]!==he[Re])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],Ae)}}else if(q.ticks){var ke=q.ticks;if(!Array.isArray(ke)||ke.length!==2)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var we=ke[ye];if((Array.isArray(we)||we.length)&&(we=M(we)),we.shape[0]!==he[ye])throw new Error("gl-surface: invalid tick length");var Ee=M(we.data,he);Ee.stride[ye]=we.stride[0],Ee.stride[ye^1]=0,this.padField(this._field[ye],Ee)}}else{for(ye=0;ye<2;++ye){var xe=[0,0];xe[ye]=1,this._field[ye]=M(this._field[ye].data,[he[0]+2,he[1]+2],xe,0)}this._field[0].set(0,0,0);for(var Re=0;Re<he[0];++Re)this._field[0].set(Re+1,0,Re);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),Re=0;Re<he[1];++Re)this._field[1].set(0,Re+1,Re);this._field[1].set(0,he[1]+1,he[1]-1)}var Ve=this._field,Ue=M(f.mallocFloat(Ve[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(ye=0;ye<3;++ye)S(Ue.pick(ye),Ve[ye],"mirror");var Be=M(f.mallocFloat(Ve[2].size*3),[he[0]+2,he[1]+2,3]);for(ye=0;ye<he[0]+2;++ye)for(Re=0;Re<he[1]+2;++Re){var Xe=Ue.get(0,ye,Re,0),ut=Ue.get(0,ye,Re,1),dt=Ue.get(1,ye,Re,0),at=Ue.get(1,ye,Re,1),We=Ue.get(2,ye,Re,0),rt=Ue.get(2,ye,Re,1),st=dt*rt-at*We,ht=We*ut-rt*Xe,vt=Xe*at-ut*dt,At=Math.sqrt(st*st+ht*ht+vt*vt);At<1e-8?(At=Math.max(Math.abs(st),Math.abs(ht),Math.abs(vt)),At<1e-8?(vt=1,ht=st=0,At=1):At=1/At):At=1/Math.sqrt(At),Be.set(ye,Re,0,st*At),Be.set(ye,Re,1,ht*At),Be.set(ye,Re,2,vt*At)}f.free(Ue.data);var tt=[1/0,1/0,1/0],_e=[-1/0,-1/0,-1/0],je=1/0,Ke=-1/0,He=(he[0]-1)*(he[1]-1)*6,Ie=f.mallocFloat(t.nextPow2(10*He)),be=0,me=0;for(ye=0;ye<he[0]-1;++ye)e:for(Re=0;Re<he[1]-1;++Re){for(var Me=0;Me<2;++Me)for(var Te=0;Te<2;++Te)for(var ze=0;ze<3;++ze){var Je=this._field[ze].get(1+ye+Me,1+Re+Te);if(isNaN(Je)||!isFinite(Je))continue e}for(ze=0;ze<6;++ze){var nt=ye+k[ze][0],pt=Re+k[ze][1],yt=this._field[0].get(nt+1,pt+1),Yt=this._field[1].get(nt+1,pt+1);Je=this._field[2].get(nt+1,pt+1),st=Be.get(nt+1,pt+1,0),ht=Be.get(nt+1,pt+1,1),vt=Be.get(nt+1,pt+1,2),q.intensity&&(Xt=q.intensity.get(nt,pt));var Xt=q.intensity?q.intensity.get(nt,pt):Je+this.objectOffset[2];Ie[be++]=nt,Ie[be++]=pt,Ie[be++]=yt,Ie[be++]=Yt,Ie[be++]=Je,Ie[be++]=0,Ie[be++]=Xt,Ie[be++]=st,Ie[be++]=ht,Ie[be++]=vt,tt[0]=Math.min(tt[0],yt+this.objectOffset[0]),tt[1]=Math.min(tt[1],Yt+this.objectOffset[1]),tt[2]=Math.min(tt[2],Je+this.objectOffset[2]),je=Math.min(je,Xt),_e[0]=Math.max(_e[0],yt+this.objectOffset[0]),_e[1]=Math.max(_e[1],Yt+this.objectOffset[1]),_e[2]=Math.max(_e[2],Je+this.objectOffset[2]),Ke=Math.max(Ke,Xt),me+=1}}for(q.intensityBounds&&(je=+q.intensityBounds[0],Ke=+q.intensityBounds[1]),ye=6;ye<be;ye+=10)Ie[ye]=(Ie[ye]-je)/(Ke-je);this._vertexCount=me,this._coordinateBuffer.update(Ie.subarray(0,be)),f.freeFloat(Ie),f.free(Be.data),this.bounds=[tt,_e],this.intensity=q.intensity||this._field[2],(this.intensityBounds[0]!==je||this.intensityBounds[1]!==Ke)&&(le=!0),this.intensityBounds=[je,Ke]}if("levels"in q){var St=q.levels;for(Array.isArray(St[0])?St=St.slice():St=[[],[],St],ye=0;ye<3;++ye)St[ye]=St[ye].slice(),St[ye].sort(function(Ft,Jt){return Ft-Jt});for(ye=0;ye<3;++ye)for(Re=0;Re<St[ye].length;++Re)St[ye][Re]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(St[ye].length!==this.contourLevels[ye].length){le=!0;break}for(Re=0;Re<St[ye].length;++Re)if(St[ye][Re]!==this.contourLevels[ye][Re]){le=!0;break e}}this.contourLevels=St}if(le){Ve=this._field,he=this.shape;for(var kt=[],Kt=0;Kt<3;++Kt){var mr=this.contourLevels[Kt],mt=[],Zt=[],Qt=[0,0,0];for(ye=0;ye<mr.length;++ye){var yr=c(this._field[Kt],mr[ye]);mt.push(kt.length/5|0),me=0;e:for(Re=0;Re<yr.cells.length;++Re){var sr=yr.cells[Re];for(ze=0;ze<2;++ze){var bt=yr.positions[sr[ze]],lt=bt[0],Tt=Math.floor(lt)|0,Ct=lt-Tt,It=bt[1],Dt=Math.floor(It)|0,Vt=It-Dt,Bt=!1;t:for(var $t=0;$t<3;++$t){Qt[$t]=0;var fr=(Kt+$t+1)%3;for(Me=0;Me<2;++Me){var cr=Me?Ct:1-Ct;for(nt=Math.min(Math.max(Tt+Me,0),he[0])|0,Te=0;Te<2;++Te){var dr=Te?Vt:1-Vt;if(pt=Math.min(Math.max(Dt+Te,0),he[1])|0,$t<2?Je=this._field[fr].get(nt,pt):Je=(this.intensity.get(nt,pt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Je)||isNaN(Je)){Bt=!0;break t}var Ye=cr*dr;Qt[$t]+=Ye*Je}}}if(!Bt)kt.push(Qt[0],Qt[1],bt[0],bt[1],Qt[2]),me+=1;else{if(ze>0){for(var Ge=0;Ge<5;++Ge)kt.pop();me-=1}continue e}}}Zt.push(me)}this._contourOffsets[Kt]=mt,this._contourCounts[Kt]=Zt}var zt=f.mallocFloat(kt.length);for(ye=0;ye<kt.length;++ye)zt[ye]=kt[ye];this._contourBuffer.update(zt),f.freeFloat(zt)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var q=0;q<3;++q)f.freeFloat(this._field[q].data)},B.highlight=function(q){var K;if(!q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(K=0;K<3;++K)this.enableHighlight[K]?this.highlightLevel[K]=q.level[K]:this.highlightLevel[K]=-1;var le;for(this.snapToData?le=q.dataCoordinate:le=q.position,K=0;K<3;++K)le[K]-=this.objectOffset[K];if(!((!this.enableDynamic[0]||le[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||le[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||le[2]===this.dynamicLevel[2]))){for(var ie=0,he=this.shape,ye=f.mallocFloat(12*he[0]*he[1]),Ce=0;Ce<3;++Ce){if(!this.enableDynamic[Ce]){this.dynamicLevel[Ce]=NaN,this._dynamicCounts[Ce]=0;continue}this.dynamicLevel[Ce]=le[Ce];var Ae=(Ce+1)%3,ke=(Ce+2)%3,we=this._field[Ce],Ee=this._field[Ae],xe=this._field[ke],Re=c(we,le[Ce]),Ve=Re.cells,Ue=Re.positions;for(this._dynamicOffsets[Ce]=ie,K=0;K<Ve.length;++K)for(var Be=Ve[K],Xe=0;Xe<2;++Xe){var ut=Ue[Be[Xe]],dt=+ut[0],at=dt|0,We=Math.min(at+1,he[0])|0,rt=dt-at,st=1-rt,ht=+ut[1],vt=ht|0,At=Math.min(vt+1,he[1])|0,tt=ht-vt,_e=1-tt,je=st*_e,Ke=st*tt,He=rt*_e,Ie=rt*tt,be=je*Ee.get(at,vt)+Ke*Ee.get(at,At)+He*Ee.get(We,vt)+Ie*Ee.get(We,At),me=je*xe.get(at,vt)+Ke*xe.get(at,At)+He*xe.get(We,vt)+Ie*xe.get(We,At);if(isNaN(be)||isNaN(me)){Xe&&(ie-=1);break}ye[2*ie+0]=be,ye[2*ie+1]=me,ie+=1}this._dynamicCounts[Ce]=ie-this._dynamicOffsets[Ce]}this._dynamicBuffer.update(ye.subarray(0,2*ie)),f.freeFloat(ye)}};function se(q){var K=q.gl,le=m(K),ie=b(K),he=E(K),ye=s(K),Ce=i(K),Ae=n(K,[{buffer:Ce,size:4,stride:L,offset:0},{buffer:Ce,size:3,stride:L,offset:16},{buffer:Ce,size:3,stride:L,offset:28}]),ke=i(K),we=n(K,[{buffer:ke,size:4,stride:20,offset:0},{buffer:ke,size:1,stride:20,offset:16}]),Ee=i(K),xe=n(K,[{buffer:Ee,size:2,type:K.FLOAT}]),Re=u(K,1,F,K.RGBA,K.UNSIGNED_BYTE);Re.minFilter=K.LINEAR,Re.magFilter=K.LINEAR;var Ve=new z(K,[0,0],[[0,0,0],[0,0,0]],le,ie,Ce,Ae,Re,he,ye,ke,we,Ee,xe,[0,0,0]),Ue={levels:[[],[],[]]};for(var Be in q)Ue[Be]=q[Be];return Ue.colormap=Ue.colormap||"jet",Ve.update(Ue),Ve}},8931:function(v,p,r){var t=r(5050),i=r(7498),n=r(5306);v.exports=s;var u=null,f=null,l=null;function y(L){u=[L.LINEAR,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_NEAREST],f=[L.NEAREST,L.LINEAR,L.NEAREST_MIPMAP_NEAREST,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_LINEAR],l=[L.REPEAT,L.CLAMP_TO_EDGE,L.MIRRORED_REPEAT]}function h(L){return typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&L instanceof HTMLVideoElement||typeof ImageData<"u"&&L instanceof ImageData}var M=function(L,A){i.muls(L,A,255)};function c(L,A,k){var _=L.gl,U=_.getParameter(_.MAX_TEXTURE_SIZE);if(A<0||A>U||k<0||k>U)throw new Error("gl-texture2d: Invalid texture size");return L._shape=[A,k],L.bind(),_.texImage2D(_.TEXTURE_2D,0,L.format,A,k,0,L.format,L.type,null),L._mipLevels=[0],L}function o(L,A,k,_,U,F){this.gl=L,this.handle=A,this.format=U,this.type=F,this._shape=[k,_],this._mipLevels=[0],this._magFilter=L.NEAREST,this._minFilter=L.NEAREST,this._wrapS=L.CLAMP_TO_EDGE,this._wrapT=L.CLAMP_TO_EDGE,this._anisoSamples=1;var z=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return z._wrapS},set:function(V){return z.wrapS=V}},{get:function(){return z._wrapT},set:function(V){return z.wrapT=V}}]),this._wrapVector=B;var N=[this._shape[0],this._shape[1]];Object.defineProperties(N,[{get:function(){return z._shape[0]},set:function(V){return z.width=V}},{get:function(){return z._shape[1]},set:function(V){return z.height=V}}]),this._shapeVector=N}var d=o.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(L){this.bind();var A=this.gl;if(this.type===A.FLOAT&&u.indexOf(L)>=0&&(A.getExtension("OES_texture_float_linear")||(L=A.NEAREST)),f.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,L),this._minFilter=L}},magFilter:{get:function(){return this._magFilter},set:function(L){this.bind();var A=this.gl;if(this.type===A.FLOAT&&u.indexOf(L)>=0&&(A.getExtension("OES_texture_float_linear")||(L=A.NEAREST)),f.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,L),this._magFilter=L}},mipSamples:{get:function(){return this._anisoSamples},set:function(L){var A=this._anisoSamples;if(this._anisoSamples=Math.max(L,1)|0,A!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(L){if(this.bind(),l.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,L),this._wrapS=L}},wrapT:{get:function(){return this._wrapT},set:function(L){if(this.bind(),l.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,L),this._wrapT=L}},wrap:{get:function(){return this._wrapVector},set:function(L){if(Array.isArray(L)||(L=[L,L]),L.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var A=0;A<2;++A)if(l.indexOf(L[A])<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);this._wrapS=L[0],this._wrapT=L[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),L}},shape:{get:function(){return this._shapeVector},set:function(L){if(!Array.isArray(L))L=[L|0,L|0];else if(L.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,L[0]|0,L[1]|0),[L[0]|0,L[1]|0]}},width:{get:function(){return this._shape[0]},set:function(L){return L=L|0,c(this,L,this._shape[1]),L}},height:{get:function(){return this._shape[1]},set:function(L){return L=L|0,c(this,this._shape[0],L),L}}}),d.bind=function(L){var A=this.gl;return L!==void 0&&A.activeTexture(A.TEXTURE0+(L|0)),A.bindTexture(A.TEXTURE_2D,this.handle),L!==void 0?L|0:A.getParameter(A.ACTIVE_TEXTURE)-A.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var L=Math.min(this._shape[0],this._shape[1]),A=0;L>0;++A,L>>>=1)this._mipLevels.indexOf(A)<0&&this._mipLevels.push(A)},d.setPixels=function(L,A,k,_){var U=this.gl;this.bind(),Array.isArray(A)?(_=k,k=A[1]|0,A=A[0]|0):(A=A||0,k=k||0),_=_||0;var F=h(L)?L:L.raw;if(F){var z=this._mipLevels.indexOf(_)<0;z?(U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(_)):U.texSubImage2D(U.TEXTURE_2D,_,A,k,this.format,this.type,F)}else if(L.shape&&L.stride&&L.data){if(L.shape.length<2||A+L.shape[1]>this._shape[1]>>>_||k+L.shape[0]>this._shape[0]>>>_||A<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");S(U,A,k,_,this.format,this.type,this._mipLevels,L)}else throw new Error("gl-texture2d: Unsupported data type")};function T(L,A){return L.length===3?A[2]===1&&A[1]===L[0]*L[2]&&A[0]===L[2]:A[0]===1&&A[1]===L[0]}function S(L,A,k,_,U,F,z,B){var N=B.dtype,V=B.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,Q=0,re=T(V,B.stride.slice());if(N==="float32"?W=L.FLOAT:N==="float64"?(W=L.FLOAT,re=!1,N="float32"):N==="uint8"?W=L.UNSIGNED_BYTE:(W=L.UNSIGNED_BYTE,re=!1,N="uint8"),V.length===2)Q=L.LUMINANCE,V=[V[0],V[1],1],B=t(B.data,V,[B.stride[0],B.stride[1],1],B.offset);else if(V.length===3){if(V[2]===1)Q=L.ALPHA;else if(V[2]===2)Q=L.LUMINANCE_ALPHA;else if(V[2]===3)Q=L.RGB;else if(V[2]===4)Q=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");V[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((Q===L.LUMINANCE||Q===L.ALPHA)&&(U===L.LUMINANCE||U===L.ALPHA)&&(Q=U),Q!==U)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ne=B.size,fe=z.indexOf(_)<0;if(fe&&z.push(_),W===F&&re)B.offset===0&&B.data.length===ne?fe?L.texImage2D(L.TEXTURE_2D,_,U,V[0],V[1],0,U,F,B.data):L.texSubImage2D(L.TEXTURE_2D,_,A,k,V[0],V[1],U,F,B.data):fe?L.texImage2D(L.TEXTURE_2D,_,U,V[0],V[1],0,U,F,B.data.subarray(B.offset,B.offset+ne)):L.texSubImage2D(L.TEXTURE_2D,_,A,k,V[0],V[1],U,F,B.data.subarray(B.offset,B.offset+ne));else{var $;F===L.FLOAT?$=n.mallocFloat32(ne):$=n.mallocUint8(ne);var X=t($,V,[V[2],V[2]*V[0],1]);W===L.FLOAT&&F===L.UNSIGNED_BYTE?M(X,B):i.assign(X,B),fe?L.texImage2D(L.TEXTURE_2D,_,U,V[0],V[1],0,U,F,$.subarray(0,ne)):L.texSubImage2D(L.TEXTURE_2D,_,A,k,V[0],V[1],U,F,$.subarray(0,ne)),F===L.FLOAT?n.freeFloat32($):n.freeUint8($)}}function C(L){var A=L.createTexture();return L.bindTexture(L.TEXTURE_2D,A),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),A}function m(L,A,k,_,U){var F=L.getParameter(L.MAX_TEXTURE_SIZE);if(A<0||A>F||k<0||k>F)throw new Error("gl-texture2d: Invalid texture shape");if(U===L.FLOAT&&!L.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var z=C(L);return L.texImage2D(L.TEXTURE_2D,0,_,A,k,0,_,U,null),new o(L,z,A,k,_,U)}function E(L,A,k,_,U,F){var z=C(L);return L.texImage2D(L.TEXTURE_2D,0,U,U,F,A),new o(L,z,k,_,U,F)}function b(L,A){var k=A.dtype,_=A.shape.slice(),U=L.getParameter(L.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>U||_[1]<0||_[1]>U)throw new Error("gl-texture2d: Invalid texture size");var F=T(_,A.stride.slice()),z=0;k==="float32"?z=L.FLOAT:k==="float64"?(z=L.FLOAT,F=!1,k="float32"):k==="uint8"?z=L.UNSIGNED_BYTE:(z=L.UNSIGNED_BYTE,F=!1,k="uint8");var B=0;if(_.length===2)B=L.LUMINANCE,_=[_[0],_[1],1],A=t(A.data,_,[A.stride[0],A.stride[1],1],A.offset);else if(_.length===3)if(_[2]===1)B=L.ALPHA;else if(_[2]===2)B=L.LUMINANCE_ALPHA;else if(_[2]===3)B=L.RGB;else if(_[2]===4)B=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");z===L.FLOAT&&!L.getExtension("OES_texture_float")&&(z=L.UNSIGNED_BYTE,F=!1);var N,V,W=A.size;if(F)A.offset===0&&A.data.length===W?N=A.data:N=A.data.subarray(A.offset,A.offset+W);else{var Q=[_[2],_[2]*_[0],1];V=n.malloc(W,k);var re=t(V,_,Q,0);(k==="float32"||k==="float64")&&z===L.UNSIGNED_BYTE?M(re,A):i.assign(re,A),N=V.subarray(0,W)}var ne=C(L);return L.texImage2D(L.TEXTURE_2D,0,B,_[0],_[1],0,B,z,N),F||n.free(V),new o(L,ne,_[0],_[1],B,z)}function s(L){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||y(L),typeof arguments[1]=="number")return m(L,arguments[1],arguments[2],arguments[3]||L.RGBA,arguments[4]||L.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(L,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var A=arguments[1],k=h(A)?A:A.raw;if(k)return E(L,k,A.width|0,A.height|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(A.shape&&A.data&&A.stride)return b(L,A)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(r,t,i){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<i.length;++u){var f=i[u];if(f.buffer){var l=f.buffer,y=f.size||4,h=f.type||r.FLOAT,M=!!f.normalized,c=f.stride||0,o=f.offset||0;l.bind(),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,y,h,M,c,o)}else{if(typeof f=="number")r.vertexAttrib1f(u,f);else if(f.length===1)r.vertexAttrib1f(u,f[0]);else if(f.length===2)r.vertexAttrib2f(u,f[0],f[1]);else if(f.length===3)r.vertexAttrib3f(u,f[0],f[1],f[2]);else if(f.length===4)r.vertexAttrib4f(u,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(u)}}for(;u<n;++u)r.disableVertexAttribArray(u)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var u=0;u<n;++u)r.disableVertexAttribArray(u)}}v.exports=p},7220:function(v,p,r){var t=r(3056);function i(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}i.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},i.prototype.update=function(u,f,l){this._elements=f,this._attributes=u,this._elementsType=l||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(u,f,l){l=l||0;var y=this.gl;this._elements?y.drawElements(u,f,this._elementsType,l):y.drawArrays(u,l,f)};function n(u){return new i(u)}v.exports=n},3778:function(v,p,r){var t=r(3056);function i(f,l,y,h,M,c){this.location=f,this.dimension=l,this.a=y,this.b=h,this.c=M,this.d=c}i.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(f,l,y){this.gl=f,this._ext=l,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(f,l,y){if(this.bind(),t(this.gl,l,f),this.unbind(),this._attribs.length=0,f)for(var h=0;h<f.length;++h){var M=f[h];typeof M=="number"?this._attribs.push(new i(h,1,M)):Array.isArray(M)&&this._attribs.push(new i(h,M.length,M[0],M[1],M[2],M[3]))}this._useElements=!!l,this._elementsType=y||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(f,l,y){y=y||0;var h=this.gl;this._useElements?h.drawElements(f,l,this._elementsType,y):h.drawArrays(f,y,l)};function u(f,l){return new n(f,l,l.createVertexArrayOES())}v.exports=u},2944:function(v,p,r){var t=r(3778),i=r(7220);function n(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function u(f,l,y,h){var M=f.createVertexArray?new n(f):f.getExtension("OES_vertex_array_object"),c;return M?c=t(f,M):c=i(f),c.update(l,y,h),c}v.exports=u},2598:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}},5879:function(v,p,r){v.exports=u;var t=r(5415),i=r(899),n=r(9305);function u(f,l){var y=t(f[0],f[1],f[2]),h=t(l[0],l[1],l[2]);i(y,y),i(h,h);var M=n(y,h);return M>1?0:Math.acos(M)}},8827:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},7622:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8782:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8501:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=i[0],y=i[1],h=i[2];return r[0]=u*h-f*y,r[1]=f*l-n*h,r[2]=n*y-u*l,r}},5981:function(v,p,r){v.exports=r(8288)},8288:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2];return Math.sqrt(i*i+n*n+u*u)}},8629:function(v,p,r){v.exports=r(7979)},7979:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}},9305:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,r){v.exports=i;var t=r(154);function i(n,u){var f=n[0],l=n[1],y=n[2],h=u[0],M=u[1],c=u[2];return Math.abs(f-h)<=t*Math.max(1,Math.abs(f),Math.abs(h))&&Math.abs(l-M)<=t*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(y-c)<=t*Math.max(1,Math.abs(y),Math.abs(c))}},5777:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},3306:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},7447:function(v,p,r){v.exports=i;var t=r(8501)();function i(n,u,f,l,y,h){var M,c;for(u||(u=3),f||(f=0),l?c=Math.min(l*u+f,n.length):c=n.length,M=f;M<c;M+=u)t[0]=n[M],t[1]=n[M+1],t[2]=n[M+2],y(t,t,h),n[M]=t[0],n[M+1]=t[1],n[M+2]=t[2];return n}},5415:function(v){v.exports=p;function p(r,t,i){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=i,n}},2858:function(v,p,r){v.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},1468:function(v,p,r){v.exports=r(4693)},4693:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2];return Math.sqrt(t*t+i*i+n*n)}},1868:function(v){v.exports=p;function p(r,t,i,n){var u=t[0],f=t[1],l=t[2];return r[0]=u+n*(i[0]-u),r[1]=f+n*(i[1]-f),r[2]=l+n*(i[2]-l),r}},1716:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r}},3605:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r}},5733:function(v,p,r){v.exports=r(105)},105:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}},435:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},899:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],u=t[2],f=i*i+n*n+u*u;return f>0&&(f=1/Math.sqrt(f),r[0]=t[0]*f,r[1]=t[1]*f,r[2]=t[2]*f),r}},6660:function(v){v.exports=p;function p(r,t){t=t||1;var i=Math.random()*2*Math.PI,n=Math.random()*2-1,u=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(i)*u,r[1]=Math.sin(i)*u,r[2]=n*t,r}},392:function(v){v.exports=p;function p(r,t,i,n){var u=i[1],f=i[2],l=t[1]-u,y=t[2]-f,h=Math.sin(n),M=Math.cos(n);return r[0]=t[0],r[1]=u+l*M-y*h,r[2]=f+l*h+y*M,r}},3222:function(v){v.exports=p;function p(r,t,i,n){var u=i[0],f=i[2],l=t[0]-u,y=t[2]-f,h=Math.sin(n),M=Math.cos(n);return r[0]=u+y*h+l*M,r[1]=t[1],r[2]=f+y*M-l*h,r}},3388:function(v){v.exports=p;function p(r,t,i,n){var u=i[0],f=i[1],l=t[0]-u,y=t[1]-f,h=Math.sin(n),M=Math.cos(n);return r[0]=u+l*M-y*h,r[1]=f+l*h+y*M,r[2]=t[2],r}},1624:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},5685:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}},6722:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r}},831:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t,r[1]=i,r[2]=n,r}},5294:function(v,p,r){v.exports=r(6403)},3303:function(v,p,r){v.exports=r(4337)},6403:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2];return i*i+n*n+u*u}},4337:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2];return t*t+i*i+n*n}},8921:function(v,p,r){v.exports=r(911)},911:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}},9908:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2];return r[0]=n*i[0]+u*i[3]+f*i[6],r[1]=n*i[1]+u*i[4]+f*i[7],r[2]=n*i[2]+u*i[5]+f*i[8],r}},3255:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=i[3]*n+i[7]*u+i[11]*f+i[15];return l=l||1,r[0]=(i[0]*n+i[4]*u+i[8]*f+i[12])/l,r[1]=(i[1]*n+i[5]*u+i[9]*f+i[13])/l,r[2]=(i[2]*n+i[6]*u+i[10]*f+i[14])/l,r}},6568:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=i[0],y=i[1],h=i[2],M=i[3],c=M*n+y*f-h*u,o=M*u+h*n-l*f,d=M*f+l*u-y*n,T=-l*n-y*u-h*f;return r[0]=c*M+T*-l+o*-h-d*-y,r[1]=o*M+T*-y+d*-l-c*-h,r[2]=d*M+T*-h+c*-y-o*-l,r}},3433:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r[3]=t[3]+i[3],r}},1413:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},3470:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},5313:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2],f=t[3]-r[3];return Math.sqrt(i*i+n*n+u*u+f*f)}},205:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r[3]=t[3]/i[3],r}},4242:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},5680:function(v){v.exports=p;function p(r,t,i,n){var u=new Float32Array(4);return u[0]=r,u[1]=t,u[2]=i,u[3]=n,u}},4020:function(v,p,r){v.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},8177:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],u=r[3];return Math.sqrt(t*t+i*i+n*n+u*u)}},8746:function(v){v.exports=p;function p(r,t,i,n){var u=t[0],f=t[1],l=t[2],y=t[3];return r[0]=u+n*(i[0]-u),r[1]=f+n*(i[1]-f),r[2]=l+n*(i[2]-l),r[3]=y+n*(i[3]-y),r}},3030:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r[3]=Math.max(t[3],i[3]),r}},2170:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r[3]=Math.min(t[3],i[3]),r}},746:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r[3]=t[3]*i[3],r}},6459:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},381:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],u=t[2],f=t[3],l=i*i+n*n+u*u+f*f;return l>0&&(l=1/Math.sqrt(l),r[0]=i*l,r[1]=n*l,r[2]=u*l,r[3]=f*l),r}},3770:function(v,p,r){var t=r(381),i=r(5510);v.exports=n;function n(u,f){return f=f||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),t(u,u),i(u,u,f),u}},5510:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r}},4224:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r[3]=t[3]+i[3]*n,r}},6453:function(v){v.exports=p;function p(r,t,i,n,u){return r[0]=t,r[1]=i,r[2]=n,r[3]=u,r}},1542:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2],f=t[3]-r[3];return i*i+n*n+u*u+f*f}},9037:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],u=r[3];return t*t+i*i+n*n+u*u}},2705:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r[3]=t[3]-i[3],r}},6342:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=t[3];return r[0]=i[0]*n+i[4]*u+i[8]*f+i[12]*l,r[1]=i[1]*n+i[5]*u+i[9]*f+i[13]*l,r[2]=i[2]*n+i[6]*u+i[10]*f+i[14]*l,r[3]=i[3]*n+i[7]*u+i[11]*f+i[15]*l,r}},5022:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=i[0],y=i[1],h=i[2],M=i[3],c=M*n+y*f-h*u,o=M*u+h*n-l*f,d=M*f+l*u-y*n,T=-l*n-y*u-h*f;return r[0]=c*M+T*-l+o*-h-d*-y,r[1]=o*M+T*-y+d*-l-c*-h,r[2]=d*M+T*-h+c*-y-o*-l,r[3]=t[3],r}},9365:function(v,p,r){var t=r(8096),i=r(7896);v.exports=n;function n(u){for(var f=Array.isArray(u)?u:t(u),l=0;l<f.length;l++){var y=f[l];if(y.type==="preprocessor"){var h=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var M=h[1],c=h[2];return(M?i(c):c).trim()}}}}},3193:function(v,p,r){v.exports=A;var t=r(399),i=r(9746),n=r(9525),u=r(9458),f=r(3585),l=999,y=9999,h=0,M=1,c=2,o=3,d=4,T=5,S=6,C=7,m=8,E=9,b=10,s=11,L=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function A(k){var _=0,U=0,F=l,z,B,N=[],V=[],W=1,Q=0,re=0,ne=!1,fe=!1,$="",X;k=k||{};var oe=n,Y=t;k.version==="300 es"&&(oe=f,Y=u);for(var ee={},se={},_=0;_<oe.length;_++)ee[oe[_]]=!0;for(var _=0;_<Y.length;_++)se[Y[_]]=!0;return function(Ue){return V=[],Ue!==null?K(Ue):le()};function q(Ue){Ue.length&&V.push({type:L[F],data:Ue,position:re,line:W,column:Q})}function K(Ue){_=0,Ue.toString&&(Ue=Ue.toString()),$+=Ue.replace(/\r\n/g,`
`),X=$.length;for(var Be;z=$[_],_<X;){switch(Be=_,F){case h:_=Ae();break;case M:_=Ce();break;case c:_=ye();break;case o:_=ke();break;case d:_=xe();break;case s:_=Ee();break;case T:_=Re();break;case y:_=Ve();break;case E:_=he();break;case l:_=ie();break}if(Be!==_)switch($[Be]){case`
`:Q=0,++W;break;default:++Q;break}}return U+=_,$=$.slice(_),V}function le(Ue){return N.length&&q(N.join("")),F=b,q("(eof)"),V}function ie(){return N=N.length?[]:N,B==="/"&&z==="*"?(re=U+_-1,F=h,B=z,_+1):B==="/"&&z==="/"?(re=U+_-1,F=M,B=z,_+1):z==="#"?(F=c,re=U+_,_):/\s/.test(z)?(F=E,re=U+_,_):(ne=/\d/.test(z),fe=/[^\w_]/.test(z),re=U+_,F=ne?d:fe?o:y,_)}function he(){return/[^\s]/g.test(z)?(q(N.join("")),F=l,_):(N.push(z),B=z,_+1)}function ye(){return(z==="\r"||z===`
`)&&B!=="\\"?(q(N.join("")),F=l,_):(N.push(z),B=z,_+1)}function Ce(){return ye()}function Ae(){return z==="/"&&B==="*"?(N.push(z),q(N.join("")),F=l,_+1):(N.push(z),B=z,_+1)}function ke(){if(B==="."&&/\d/.test(z))return F=T,_;if(B==="/"&&z==="*")return F=h,_;if(B==="/"&&z==="/")return F=M,_;if(z==="."&&N.length){for(;we(N););return F=T,_}if(z===";"||z===")"||z==="("){if(N.length)for(;we(N););return q(z),F=l,_+1}var Ue=N.length===2&&z!=="=";if(/[\w_\d\s]/.test(z)||Ue){for(;we(N););return F=l,_}return N.push(z),B=z,_+1}function we(Ue){var Be=0,Xe,ut;do{if(Xe=i.indexOf(Ue.slice(0,Ue.length+Be).join("")),ut=i[Xe],Xe===-1){if(Be--+Ue.length>0)continue;ut=Ue.slice(0,1).join("")}return q(ut),re+=ut.length,N=N.slice(ut.length),N.length}while(1)}function Ee(){return/[^a-fA-F0-9]/.test(z)?(q(N.join("")),F=l,_):(N.push(z),B=z,_+1)}function xe(){return z==="."||/[eE]/.test(z)?(N.push(z),F=T,B=z,_+1):z==="x"&&N.length===1&&N[0]==="0"?(F=s,N.push(z),B=z,_+1):/[^\d]/.test(z)?(q(N.join("")),F=l,_):(N.push(z),B=z,_+1)}function Re(){return z==="f"&&(N.push(z),B=z,_+=1),/[eE]/.test(z)||(z==="-"||z==="+")&&/[eE]/.test(B)?(N.push(z),B=z,_+1):/[^\d]/.test(z)?(q(N.join("")),F=l,_):(N.push(z),B=z,_+1)}function Ve(){if(/[^\d\w_]/.test(z)){var Ue=N.join("");return se[Ue]?F=m:ee[Ue]?F=C:F=S,q(N.join("")),F=l,_}return N.push(z),B=z,_+1}}},3585:function(v,p,r){var t=r(9525);t=t.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,r){var t=r(399);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,r){var t=r(3193);v.exports=i;function i(n,u){var f=t(u),l=[];return l=l.concat(f(n)),l=l.concat(f(null)),l}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],i=0;i<p.length-1;i++)t.push(p[i],r[i]||"");return t.push(p[i]),t.join("")}},5233:function(v,p,r){var t=r(4846);function i(){var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{n=!1}return n}v.exports=t&&i()},2183:function(v,p,r){v.exports=o;var t=r(417),i=r(8211).H;function n(d,T,S){this.vertices=d,this.adjacent=T,this.boundary=S,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var T=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=T};function u(d,T,S){this.vertices=d,this.cell=T,this.index=S}function f(d,T){return i(d.vertices,T.vertices)}function l(d){return function(){var T=this.tuple;return d.apply(this,T)}}function y(d){var T=t[d+1];return T||(T=t),l(T)}var h=[];function M(d,T,S){this.dimension=d,this.vertices=T,this.simplices=S,this.interior=S.filter(function(E){return!E.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var m=h[d];m||(m=h[d]=y(d)),this.orient=m}var c=M.prototype;c.handleBoundaryDegeneracy=function(d,T){var S=this.dimension,C=this.vertices.length-1,m=this.tuple,E=this.vertices,b=[d];for(d.lastVisited=-C;b.length>0;){d=b.pop();for(var s=d.adjacent,L=0;L<=S;++L){var A=s[L];if(!(!A.boundary||A.lastVisited<=-C)){for(var k=A.vertices,_=0;_<=S;++_){var U=k[_];U<0?m[_]=T:m[_]=E[U]}var F=this.orient();if(F>0)return A;A.lastVisited=-C,F===0&&b.push(A)}}}return null},c.walk=function(d,T){var S=this.vertices.length-1,C=this.dimension,m=this.vertices,E=this.tuple,b=T?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[b];e:for(;!s.boundary;){for(var L=s.vertices,A=s.adjacent,k=0;k<=C;++k)E[k]=m[L[k]];s.lastVisited=S;for(var k=0;k<=C;++k){var _=A[k];if(!(_.lastVisited>=S)){var U=E[k];E[k]=d;var F=this.orient();if(E[k]=U,F<0){s=_;continue e}else _.boundary?_.lastVisited=-S:_.lastVisited=S}}return}return s},c.addPeaks=function(d,T){var S=this.vertices.length-1,C=this.dimension,m=this.vertices,E=this.tuple,b=this.interior,s=this.simplices,L=[T];T.lastVisited=S,T.vertices[T.vertices.indexOf(-1)]=S,T.boundary=!1,b.push(T);for(var A=[];L.length>0;){var T=L.pop(),k=T.vertices,_=T.adjacent,U=k.indexOf(S);if(!(U<0)){for(var F=0;F<=C;++F)if(F!==U){var z=_[F];if(!(!z.boundary||z.lastVisited>=S)){var B=z.vertices;if(z.lastVisited!==-S){for(var N=0,V=0;V<=C;++V)B[V]<0?(N=V,E[V]=d):E[V]=m[B[V]];var W=this.orient();if(W>0){B[N]=S,z.boundary=!1,b.push(z),L.push(z),z.lastVisited=S;continue}else z.lastVisited=-S}var Q=z.adjacent,re=k.slice(),ne=_.slice(),fe=new n(re,ne,!0);s.push(fe);var $=Q.indexOf(T);if(!($<0)){Q[$]=fe,ne[U]=z,re[F]=-1,ne[F]=T,_[F]=fe,fe.flip();for(var V=0;V<=C;++V){var X=re[V];if(!(X<0||X===S)){for(var oe=new Array(C-1),Y=0,ee=0;ee<=C;++ee){var se=re[ee];se<0||ee===V||(oe[Y++]=se)}A.push(new u(oe,fe,V))}}}}}}}A.sort(f);for(var F=0;F+1<A.length;F+=2){var q=A[F],K=A[F+1],le=q.index,ie=K.index;le<0||ie<0||(q.cell.adjacent[q.index]=K.cell,K.cell.adjacent[K.index]=q.cell)}},c.insert=function(d,T){var S=this.vertices;S.push(d);var C=this.walk(d,T);if(C){for(var m=this.dimension,E=this.tuple,b=0;b<=m;++b){var s=C.vertices[b];s<0?E[b]=d:E[b]=S[s]}var L=this.orient(E);L<0||L===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},c.boundary=function(){for(var d=this.dimension,T=[],S=this.simplices,C=S.length,m=0;m<C;++m){var E=S[m];if(E.boundary){for(var b=new Array(d),s=E.vertices,L=0,A=0,k=0;k<=d;++k)s[k]>=0?b[L++]=s[k]:A=k&1;if(A===(d&1)){var _=b[0];b[0]=b[1],b[1]=_}T.push(b)}}return T};function o(d,T){var S=d.length;if(S===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(S<=C)throw new Error("Must input at least d+1 points");var m=d.slice(0,C+1),E=t.apply(void 0,m);if(E===0)throw new Error("Input not in general position");for(var b=new Array(C+1),s=0;s<=C;++s)b[s]=s;E<0&&(b[0]=1,b[1]=0);for(var L=new n(b,new Array(C+1),!1),A=L.adjacent,k=new Array(C+2),s=0;s<=C;++s){for(var _=b.slice(),U=0;U<=C;++U)U===s&&(_[U]=-1);var F=_[0];_[0]=_[1],_[1]=F;var z=new n(_,new Array(C+1),!0);A[s]=z,k[s]=z}k[C+1]=L;for(var s=0;s<=C;++s)for(var _=A[s].vertices,B=A[s].adjacent,U=0;U<=C;++U){var N=_[U];if(N<0){B[U]=L;continue}for(var V=0;V<=C;++V)A[V].vertices.indexOf(N)<0&&(B[U]=A[V])}for(var W=new M(C,m,k),Q=!!T,s=C+1;s<S;++s)W.insert(d[s],Q);return W.boundary()}},9014:function(v,p,r){var t=r(5070),i=0,n=1,u=2;v.exports=L;function f(A,k,_,U,F){this.mid=A,this.left=k,this.right=_,this.leftPoints=U,this.rightPoints=F,this.count=(k?k.count:0)+(_?_.count:0)+U.length}var l=f.prototype;function y(A,k){A.mid=k.mid,A.left=k.left,A.right=k.right,A.leftPoints=k.leftPoints,A.rightPoints=k.rightPoints,A.count=k.count}function h(A,k){var _=E(k);A.mid=_.mid,A.left=_.left,A.right=_.right,A.leftPoints=_.leftPoints,A.rightPoints=_.rightPoints,A.count=_.count}function M(A,k){var _=A.intervals([]);_.push(k),h(A,_)}function c(A,k){var _=A.intervals([]),U=_.indexOf(k);return U<0?i:(_.splice(U,1),h(A,_),n)}l.intervals=function(A){return A.push.apply(A,this.leftPoints),this.left&&this.left.intervals(A),this.right&&this.right.intervals(A),A},l.insert=function(A){var k=this.count-this.leftPoints.length;if(this.count+=1,A[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?M(this,A):this.left.insert(A):this.left=E([A]);else if(A[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?M(this,A):this.right.insert(A):this.right=E([A]);else{var _=t.ge(this.leftPoints,A,C),U=t.ge(this.rightPoints,A,m);this.leftPoints.splice(_,0,A),this.rightPoints.splice(U,0,A)}},l.remove=function(A){var k=this.count-this.leftPoints;if(A[1]<this.mid){if(!this.left)return i;var _=this.right?this.right.count:0;if(4*_>3*(k-1))return c(this,A);var U=this.left.remove(A);return U===u?(this.left=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else if(A[0]>this.mid){if(!this.right)return i;var F=this.left?this.left.count:0;if(4*F>3*(k-1))return c(this,A);var U=this.right.remove(A);return U===u?(this.right=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else{if(this.count===1)return this.leftPoints[0]===A?u:i;if(this.leftPoints.length===1&&this.leftPoints[0]===A){if(this.left&&this.right){for(var z=this,B=this.left;B.right;)z=B,B=B.right;if(z===this)B.right=this.right;else{var N=this.left,U=this.right;z.count-=B.count,z.right=B.left,B.left=N,B.right=U}y(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?y(this,this.left):y(this,this.right);return n}for(var N=t.ge(this.leftPoints,A,C);N<this.leftPoints.length&&this.leftPoints[N][0]===A[0];++N)if(this.leftPoints[N]===A){this.count-=1,this.leftPoints.splice(N,1);for(var U=t.ge(this.rightPoints,A,m);U<this.rightPoints.length&&this.rightPoints[U][1]===A[1];++U)if(this.rightPoints[U]===A)return this.rightPoints.splice(U,1),n}return i}};function o(A,k,_){for(var U=0;U<A.length&&A[U][0]<=k;++U){var F=_(A[U]);if(F)return F}}function d(A,k,_){for(var U=A.length-1;U>=0&&A[U][1]>=k;--U){var F=_(A[U]);if(F)return F}}function T(A,k){for(var _=0;_<A.length;++_){var U=k(A[_]);if(U)return U}}l.queryPoint=function(A,k){if(A<this.mid){if(this.left){var _=this.left.queryPoint(A,k);if(_)return _}return o(this.leftPoints,A,k)}else if(A>this.mid){if(this.right){var _=this.right.queryPoint(A,k);if(_)return _}return d(this.rightPoints,A,k)}else return T(this.leftPoints,k)},l.queryInterval=function(A,k,_){if(A<this.mid&&this.left){var U=this.left.queryInterval(A,k,_);if(U)return U}if(k>this.mid&&this.right){var U=this.right.queryInterval(A,k,_);if(U)return U}return k<this.mid?o(this.leftPoints,k,_):A>this.mid?d(this.rightPoints,A,_):T(this.leftPoints,_)};function S(A,k){return A-k}function C(A,k){var _=A[0]-k[0];return _||A[1]-k[1]}function m(A,k){var _=A[1]-k[1];return _||A[0]-k[0]}function E(A){if(A.length===0)return null;for(var k=[],_=0;_<A.length;++_)k.push(A[_][0],A[_][1]);k.sort(S);for(var U=k[k.length>>1],F=[],z=[],B=[],_=0;_<A.length;++_){var N=A[_];N[1]<U?F.push(N):U<N[0]?z.push(N):B.push(N)}var V=B,W=B.slice();return V.sort(C),W.sort(m),new f(U,E(F),E(z),V,W)}function b(A){this.root=A}var s=b.prototype;s.insert=function(A){this.root?this.root.insert(A):this.root=new f(A[0],null,null,[A],[A])},s.remove=function(A){if(this.root){var k=this.root.remove(A);return k===u&&(this.root=null),k!==i}return!1},s.queryPoint=function(A,k){if(this.root)return this.root.queryPoint(A,k)},s.queryInterval=function(A,k,_){if(A<=k&&this.root)return this.root.queryInterval(A,k,_)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function L(A){return!A||A.length===0?new b(null):new b(E(A))}},9560:function(v){function p(r){for(var t=new Array(r),i=0;i<r;++i)t[i]=i;return t}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},3596:function(v){v.exports=function(p){for(var r=p.length,t,i=0;i<r;i++)if(t=p.charCodeAt(i),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(v){function p(r,t,i){return r*(1-i)+t*i}v.exports=p},7191:function(v,p,r){var t=r(4690),i=r(9823),n=r(7332),u=r(7787),f=r(7437),l=r(2142),y={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},h=i(),M=i(),c=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(E,b,s,L,A,k){if(b||(b=[0,0,0]),s||(s=[0,0,0]),L||(L=[0,0,0]),A||(A=[0,0,0,1]),k||(k=[0,0,0,1]),!t(h,E)||(n(M,h),M[3]=0,M[7]=0,M[11]=0,M[15]=1,Math.abs(u(M)<1e-8)))return!1;var _=h[3],U=h[7],F=h[11],z=h[12],B=h[13],N=h[14],V=h[15];if(_!==0||U!==0||F!==0){c[0]=_,c[1]=U,c[2]=F,c[3]=V;var W=f(M,M);if(!W)return!1;l(M,M),T(A,c,M)}else A[0]=A[1]=A[2]=0,A[3]=1;if(b[0]=z,b[1]=B,b[2]=N,S(o,h),s[0]=y.length(o[0]),y.normalize(o[0],o[0]),L[0]=y.dot(o[0],o[1]),C(o[1],o[1],o[0],1,-L[0]),s[1]=y.length(o[1]),y.normalize(o[1],o[1]),L[0]/=s[1],L[1]=y.dot(o[0],o[2]),C(o[2],o[2],o[0],1,-L[1]),L[2]=y.dot(o[1],o[2]),C(o[2],o[2],o[1],1,-L[2]),s[2]=y.length(o[2]),y.normalize(o[2],o[2]),L[1]/=s[2],L[2]/=s[2],y.cross(d,o[1],o[2]),y.dot(o[0],d)<0)for(var Q=0;Q<3;Q++)s[Q]*=-1,o[Q][0]*=-1,o[Q][1]*=-1,o[Q][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(k[0]=-k[0]),o[0][2]>o[2][0]&&(k[1]=-k[1]),o[1][0]>o[0][1]&&(k[2]=-k[2]),!0};function T(m,E,b){var s=E[0],L=E[1],A=E[2],k=E[3];return m[0]=b[0]*s+b[4]*L+b[8]*A+b[12]*k,m[1]=b[1]*s+b[5]*L+b[9]*A+b[13]*k,m[2]=b[2]*s+b[6]*L+b[10]*A+b[14]*k,m[3]=b[3]*s+b[7]*L+b[11]*A+b[15]*k,m}function S(m,E){m[0][0]=E[0],m[0][1]=E[1],m[0][2]=E[2],m[1][0]=E[4],m[1][1]=E[5],m[1][2]=E[6],m[2][0]=E[8],m[2][1]=E[9],m[2][2]=E[10]}function C(m,E,b,s,L){m[0]=E[0]*s+b[0]*L,m[1]=E[1]*s+b[1]*L,m[2]=E[2]*s+b[2]*L}},4690:function(v){v.exports=function(r,t){var i=t[15];if(i===0)return!1;for(var n=1/i,u=0;u<16;u++)r[u]=t[u]*n;return!0}},7649:function(v,p,r){var t=r(1868),i=r(1102),n=r(7191),u=r(7787),f=r(1116),l=c(),y=c(),h=c();v.exports=M;function M(T,S,C,m){if(u(S)===0||u(C)===0)return!1;var E=n(S,l.translate,l.scale,l.skew,l.perspective,l.quaternion),b=n(C,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!E||!b?!1:(t(h.translate,l.translate,y.translate,m),t(h.skew,l.skew,y.skew,m),t(h.scale,l.scale,y.scale,m),t(h.perspective,l.perspective,y.perspective,m),f(h.quaternion,l.quaternion,y.quaternion,m),i(T,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:o(),scale:o(1),skew:o(),perspective:d(),quaternion:d()}}function o(T){return[T||0,T||0,T||0]}function d(){return[0,0,0,1]}},1102:function(v,p,r){var t={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};t.create();var i=t.create();v.exports=function(u,f,l,y,h,M){return t.identity(u),t.fromRotationTranslation(u,M,f),u[3]=h[0],u[7]=h[1],u[11]=h[2],u[15]=h[3],t.identity(i),y[2]!==0&&(i[9]=y[2],t.multiply(u,u,i)),y[1]!==0&&(i[9]=0,i[8]=y[1],t.multiply(u,u,i)),y[0]!==0&&(i[8]=0,i[4]=y[0],t.multiply(u,u,i)),t.scale(u,u,l),u}},9298:function(v,p,r){var t=r(5070),i=r(7649),n=r(7437),u=r(6109),f=r(7115),l=r(5240),y=r(3012),h=r(998);r(3668);var M=r(899),c=[0,0,0];v.exports=S;function o(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=o.prototype;d.recalcMatrix=function(C){var m=this._time,E=t.le(m,C),b=this.computedMatrix;if(!(E<0)){var s=this._components;if(E===m.length-1)for(var L=16*E,A=0;A<16;++A)b[A]=s[L++];else{for(var k=m[E+1]-m[E],L=16*E,_=this.prevMatrix,U=!0,A=0;A<16;++A)_[A]=s[L++];for(var F=this.nextMatrix,A=0;A<16;++A)F[A]=s[L++],U=U&&_[A]===F[A];if(k<1e-6||U)for(var A=0;A<16;++A)b[A]=_[A];else i(b,_,F,(C-m[E])/k)}var z=this.computedUp;z[0]=b[1],z[1]=b[5],z[2]=b[9],M(z,z);var B=this.computedInverse;n(B,b);var N=this.computedEye,V=B[15];N[0]=B[12]/V,N[1]=B[13]/V,N[2]=B[14]/V;for(var W=this.computedCenter,Q=Math.exp(this.computedRadius[0]),A=0;A<3;++A)W[A]=N[A]-b[2+4*A]*Q}},d.idle=function(C){if(!(C<this.lastT())){for(var m=this._components,E=m.length-16,b=0;b<16;++b)m.push(m[E++]);this._time.push(C)}},d.flush=function(C){var m=t.gt(this._time,C)-2;m<0||(this._time.splice(0,m),this._components.splice(0,16*m))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,m,E,b){this.recalcMatrix(C),m=m||this.computedEye,E=E||c,b=b||this.computedUp,this.setMatrix(C,y(this.computedMatrix,m,E,b));for(var s=0,L=0;L<3;++L)s+=Math.pow(E[L]-m[L],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},d.rotate=function(C,m,E,b){this.recalcMatrix(C);var s=this.computedInverse;m&&f(s,s,m),E&&u(s,s,E),b&&l(s,s,b),this.setMatrix(C,n(this.computedMatrix,s))};var T=[0,0,0];d.pan=function(C,m,E,b){T[0]=-(m||0),T[1]=-(E||0),T[2]=-(b||0),this.recalcMatrix(C);var s=this.computedInverse;h(s,s,T),this.setMatrix(C,n(s,s))},d.translate=function(C,m,E,b){T[0]=m||0,T[1]=E||0,T[2]=b||0,this.recalcMatrix(C);var s=this.computedMatrix;h(s,s,T),this.setMatrix(C,s)},d.setMatrix=function(C,m){if(!(C<this.lastT())){this._time.push(C);for(var E=0;E<16;++E)this._components.push(m[E])}},d.setDistance=function(C,m){this.computedRadius[0]=m},d.setDistanceLimits=function(C,m){var E=this._limits;E[0]=C,E[1]=m},d.getDistanceLimits=function(C){var m=this._limits;return C?(C[0]=m[0],C[1]=m[1],C):m};function S(C){C=C||{};var m=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(m)}},3266:function(v,p,r){v.exports=i;var t=r(417)[3];function i(n){var u=n.length;if(u<3){for(var d=new Array(u),f=0;f<u;++f)d[f]=f;return u===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(u),f=0;f<u;++f)l[f]=f;l.sort(function(m,E){var b=n[m][0]-n[E][0];return b||n[m][1]-n[E][1]});for(var y=[l[0],l[1]],h=[l[0],l[1]],f=2;f<u;++f){for(var M=l[f],c=n[M],o=y.length;o>1&&t(n[y[o-2]],n[y[o-1]],c)<=0;)o-=1,y.pop();for(y.push(M),o=h.length;o>1&&t(n[h[o-2]],n[h[o-1]],c)>=0;)o-=1,h.pop();h.push(M)}for(var d=new Array(h.length+y.length-2),T=0,f=0,S=y.length;f<S;++f)d[T++]=y[f];for(var C=h.length-2;C>0;--C)d[T++]=h[C];return d}},6145:function(v,p,r){v.exports=i;var t=r(4110);function i(n,u){u||(u=n,n=window);var f=0,l=0,y=0,h={shift:!1,alt:!1,control:!1,meta:!1},M=!1;function c(A){var k=!1;return"altKey"in A&&(k=k||A.altKey!==h.alt,h.alt=!!A.altKey),"shiftKey"in A&&(k=k||A.shiftKey!==h.shift,h.shift=!!A.shiftKey),"ctrlKey"in A&&(k=k||A.ctrlKey!==h.control,h.control=!!A.ctrlKey),"metaKey"in A&&(k=k||A.metaKey!==h.meta,h.meta=!!A.metaKey),k}function o(A,k){var _=t.x(k),U=t.y(k);"buttons"in k&&(A=k.buttons|0),(A!==f||_!==l||U!==y||c(k))&&(f=A|0,l=_||0,y=U||0,u&&u(f,l,y,h))}function d(A){o(0,A)}function T(){(f||l||y||h.shift||h.alt||h.meta||h.control)&&(l=y=0,f=0,h.shift=h.alt=h.control=h.meta=!1,u&&u(0,0,0,h))}function S(A){c(A)&&u&&u(f,l,y,h)}function C(A){t.buttons(A)===0?o(0,A):o(f,A)}function m(A){o(f|t.buttons(A),A)}function E(A){o(f&~t.buttons(A),A)}function b(){M||(M=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",m),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",T),n.addEventListener("keyup",S),n.addEventListener("keydown",S),n.addEventListener("keypress",S),n!==window&&(window.addEventListener("blur",T),window.addEventListener("keyup",S),window.addEventListener("keydown",S),window.addEventListener("keypress",S)))}function s(){M&&(M=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",m),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",T),n.removeEventListener("keyup",S),n.removeEventListener("keydown",S),n.removeEventListener("keypress",S),n!==window&&(window.removeEventListener("blur",T),window.removeEventListener("keyup",S),window.removeEventListener("keydown",S),window.removeEventListener("keypress",S)))}b();var L={element:n};return Object.defineProperties(L,{enabled:{get:function(){return M},set:function(A){A?b():s()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),L}},2565:function(v){var p={left:0,top:0};v.exports=r;function r(i,n,u){n=n||i.currentTarget||i.srcElement,Array.isArray(u)||(u=[0,0]);var f=i.clientX||0,l=i.clientY||0,y=t(n);return u[0]=f-y.left,u[1]=l-y.top,u}function t(i){return i===window||i===document||i===document.body?p:i.getBoundingClientRect()}},4110:function(v,p){function r(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var f=u.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in u){var f=u.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}p.buttons=r;function t(u){return u.target||u.srcElement||window}p.element=t;function i(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var f=t(u),l=f.getBoundingClientRect();return u.clientX-l.left}return 0}p.x=i;function n(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var f=t(u),l=f.getBoundingClientRect();return u.clientY-l.top}return 0}p.y=n},6475:function(v,p,r){var t=r(14);v.exports=i;function i(n,u,f){typeof n=="function"&&(f=!!u,u=n,n=window);var l=t("ex",n),y=function(h){f&&h.preventDefault();var M=h.deltaX||0,c=h.deltaY||0,o=h.deltaZ||0,d=h.deltaMode,T=1;switch(d){case 1:T=l;break;case 2:T=window.innerHeight;break}if(M*=T,c*=T,o*=T,M||c||o)return u(M,c,o,h)};return n.addEventListener("wheel",y),y}},9284:function(v,p,r){var t=r(5306);v.exports=u;var i={"false,0,1":function(l,y,h,M,c){return function(d,T,S,C){var m=d.shape[0]|0,E=d.shape[1]|0,b=d.data,s=d.offset|0,L=d.stride[0]|0,A=d.stride[1]|0,k=s,_,U=-L|0,F=0,z=-A|0,B=0,N=-L-A|0,V=0,W=L|0,Q=A-L*m|0,re=0,ne=0,fe=0,$=2*m|0,X=M($),oe=M($),Y=0,ee=0,se=-1,q=-1,K=0,le=-m|0,ie=m|0,he=0,ye=-m-1|0,Ce=m-1|0,Ae=0,ke=0,we=0;for(re=0;re<m;++re)X[Y++]=h(b[k],T,S,C),k+=W;if(k+=Q,E>0){if(ne=1,X[Y++]=h(b[k],T,S,C),k+=W,m>0)for(re=1,_=b[k],ee=X[Y]=h(_,T,S,C),K=X[Y+se],he=X[Y+le],Ae=X[Y+ye],(ee!==K||ee!==he||ee!==Ae)&&(F=b[k+U],B=b[k+z],V=b[k+N],l(re,ne,_,F,B,V,ee,K,he,Ae,T,S,C),ke=oe[Y]=fe++),Y+=1,k+=W,re=2;re<m;++re)_=b[k],ee=X[Y]=h(_,T,S,C),K=X[Y+se],he=X[Y+le],Ae=X[Y+ye],(ee!==K||ee!==he||ee!==Ae)&&(F=b[k+U],B=b[k+z],V=b[k+N],l(re,ne,_,F,B,V,ee,K,he,Ae,T,S,C),ke=oe[Y]=fe++,Ae!==K&&y(oe[Y+se],ke,V,F,Ae,K,T,S,C)),Y+=1,k+=W;for(k+=Q,Y=0,we=se,se=q,q=we,we=le,le=ie,ie=we,we=ye,ye=Ce,Ce=we,ne=2;ne<E;++ne){if(X[Y++]=h(b[k],T,S,C),k+=W,m>0)for(re=1,_=b[k],ee=X[Y]=h(_,T,S,C),K=X[Y+se],he=X[Y+le],Ae=X[Y+ye],(ee!==K||ee!==he||ee!==Ae)&&(F=b[k+U],B=b[k+z],V=b[k+N],l(re,ne,_,F,B,V,ee,K,he,Ae,T,S,C),ke=oe[Y]=fe++,Ae!==he&&y(oe[Y+le],ke,B,V,he,Ae,T,S,C)),Y+=1,k+=W,re=2;re<m;++re)_=b[k],ee=X[Y]=h(_,T,S,C),K=X[Y+se],he=X[Y+le],Ae=X[Y+ye],(ee!==K||ee!==he||ee!==Ae)&&(F=b[k+U],B=b[k+z],V=b[k+N],l(re,ne,_,F,B,V,ee,K,he,Ae,T,S,C),ke=oe[Y]=fe++,Ae!==he&&y(oe[Y+le],ke,B,V,he,Ae,T,S,C),Ae!==K&&y(oe[Y+se],ke,V,F,Ae,K,T,S,C)),Y+=1,k+=W;ne&1&&(Y=0),we=se,se=q,q=we,we=le,le=ie,ie=we,we=ye,ye=Ce,Ce=we,k+=Q}}c(oe),c(X)}},"false,1,0":function(l,y,h,M,c){return function(d,T,S,C){var m=d.shape[0]|0,E=d.shape[1]|0,b=d.data,s=d.offset|0,L=d.stride[0]|0,A=d.stride[1]|0,k=s,_,U=-L|0,F=0,z=-A|0,B=0,N=-L-A|0,V=0,W=A|0,Q=L-A*E|0,re=0,ne=0,fe=0,$=2*E|0,X=M($),oe=M($),Y=0,ee=0,se=-1,q=-1,K=0,le=-E|0,ie=E|0,he=0,ye=-E-1|0,Ce=E-1|0,Ae=0,ke=0,we=0;for(ne=0;ne<E;++ne)X[Y++]=h(b[k],T,S,C),k+=W;if(k+=Q,m>0){if(re=1,X[Y++]=h(b[k],T,S,C),k+=W,E>0)for(ne=1,_=b[k],ee=X[Y]=h(_,T,S,C),he=X[Y+le],K=X[Y+se],Ae=X[Y+ye],(ee!==he||ee!==K||ee!==Ae)&&(F=b[k+U],B=b[k+z],V=b[k+N],l(re,ne,_,F,B,V,ee,he,K,Ae,T,S,C),ke=oe[Y]=fe++),Y+=1,k+=W,ne=2;ne<E;++ne)_=b[k],ee=X[Y]=h(_,T,S,C),he=X[Y+le],K=X[Y+se],Ae=X[Y+ye],(ee!==he||ee!==K||ee!==Ae)&&(F=b[k+U],B=b[k+z],V=b[k+N],l(re,ne,_,F,B,V,ee,he,K,Ae,T,S,C),ke=oe[Y]=fe++,Ae!==K&&y(oe[Y+se],ke,B,V,K,Ae,T,S,C)),Y+=1,k+=W;for(k+=Q,Y=0,we=le,le=ie,ie=we,we=se,se=q,q=we,we=ye,ye=Ce,Ce=we,re=2;re<m;++re){if(X[Y++]=h(b[k],T,S,C),k+=W,E>0)for(ne=1,_=b[k],ee=X[Y]=h(_,T,S,C),he=X[Y+le],K=X[Y+se],Ae=X[Y+ye],(ee!==he||ee!==K||ee!==Ae)&&(F=b[k+U],B=b[k+z],V=b[k+N],l(re,ne,_,F,B,V,ee,he,K,Ae,T,S,C),ke=oe[Y]=fe++,Ae!==he&&y(oe[Y+le],ke,V,F,Ae,he,T,S,C)),Y+=1,k+=W,ne=2;ne<E;++ne)_=b[k],ee=X[Y]=h(_,T,S,C),he=X[Y+le],K=X[Y+se],Ae=X[Y+ye],(ee!==he||ee!==K||ee!==Ae)&&(F=b[k+U],B=b[k+z],V=b[k+N],l(re,ne,_,F,B,V,ee,he,K,Ae,T,S,C),ke=oe[Y]=fe++,Ae!==K&&y(oe[Y+se],ke,B,V,K,Ae,T,S,C),Ae!==he&&y(oe[Y+le],ke,V,F,Ae,he,T,S,C)),Y+=1,k+=W;re&1&&(Y=0),we=le,le=ie,ie=we,we=se,se=q,q=we,we=ye,ye=Ce,Ce=we,k+=Q}}c(oe),c(X)}}};function n(f,l,y,h,M,c){var o=[c,M].join(","),d=i[o];return d(f,l,y,t.mallocUint32,t.freeUint32)}function u(f){function l(T){throw new Error("ndarray-extract-contour: "+T)}typeof f!="object"&&l("Must specify arguments");var y=f.order;Array.isArray(y)||l("Must specify order");var h=f.arrayArguments||1;h<1&&l("Must have at least one array argument");var M=f.scalarArguments||0;M<0&&l("Scalar arg count must be > 0"),typeof f.vertex!="function"&&l("Must specify vertex creation function"),typeof f.cell!="function"&&l("Must specify cell creation function"),typeof f.phase!="function"&&l("Must specify phase function");for(var c=f.getters||[],o=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?o[d]=!0:o[d]=!1;return n(f.vertex,f.cell,f.phase,M,y,o)}},9144:function(v,p,r){var t=r(3094),i={zero:function(S,C,m,E){var b=S[0],s=m[0];E|=0;var L=0,A=s;for(L=0;L<b;++L)C[E]=0,E+=A},fdTemplate1:function(S,C,m,E,b,s,L){var A=S[0],k=m[0],_=s[0],U=-1*k,F=k;E|=0,L|=0;var z=0,B=k,N=_;for(z=0;z<A;++z)b[L]=.5*(C[E+U]-C[E+F]),E+=B,L+=N},fdTemplate2:function(S,C,m,E,b,s,L,A,k,_){var U=S[0],F=S[1],z=m[0],B=m[1],N=s[0],V=s[1],W=k[0],Q=k[1],re=-1*z,ne=z,fe=-1*B,$=B;E|=0,L|=0,_|=0;var X=0,oe=0,Y=B,ee=z-F*B,se=V,q=N-F*V,K=Q,le=W-F*Q;for(oe=0;oe<U;++oe){for(X=0;X<F;++X)b[L]=.5*(C[E+re]-C[E+ne]),A[_]=.5*(C[E+fe]-C[E+$]),E+=Y,L+=se,_+=K;E+=ee,L+=q,_+=le}}},n={cdiff:function(S){var C={};return function(E,b,s){var L=E.dtype,A=E.order,k=b.dtype,_=b.order,U=s.dtype,F=s.order,z=[L,A.join(),k,_.join(),U,F.join()].join(),B=C[z];return B||(C[z]=B=S([L,A,k,_,U,F])),B(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0,s.data,s.stride,s.offset|0)}},zero:function(S){var C={};return function(E){var b=E.dtype,s=E.order,L=[b,s.join()].join(),A=C[L];return A||(C[L]=A=S([b,s])),A(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(S){var C={};return function(E,b){var s=E.dtype,L=E.order,A=b.dtype,k=b.order,_=[s,L.join(),A,k.join()].join(),U=C[_];return U||(C[_]=U=S([s,L,A,k])),U(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0)}},fdTemplate2:function(S){var C={};return function(E,b,s){var L=E.dtype,A=E.order,k=b.dtype,_=b.order,U=s.dtype,F=s.order,z=[L,A.join(),k,_.join(),U,F.join()].join(),B=C[z];return B||(C[z]=B=S([L,A,k,_,U,F])),B(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0,s.data,s.stride,s.offset|0)}}};function u(S){var C=n[S.funcName];return C(f.bind(void 0,S))}function f(S){return i[S.funcName]}function l(S){return u({funcName:S.funcName})}var y={},h={},M=l({funcName:"cdiff"}),c=l({funcName:"zero"});function o(S){return S in y?y[S]:y[S]=l({funcName:"fdTemplate"+S})}function d(S,C,m,E){return function(b,s){var L=s.shape.slice();return L[0]>2&&L[1]>2&&E(s.pick(-1,-1).lo(1,1).hi(L[0]-2,L[1]-2),b.pick(-1,-1,0).lo(1,1).hi(L[0]-2,L[1]-2),b.pick(-1,-1,1).lo(1,1).hi(L[0]-2,L[1]-2)),L[1]>2&&(m(s.pick(0,-1).lo(1).hi(L[1]-2),b.pick(0,-1,1).lo(1).hi(L[1]-2)),C(b.pick(0,-1,0).lo(1).hi(L[1]-2))),L[1]>2&&(m(s.pick(L[0]-1,-1).lo(1).hi(L[1]-2),b.pick(L[0]-1,-1,1).lo(1).hi(L[1]-2)),C(b.pick(L[0]-1,-1,0).lo(1).hi(L[1]-2))),L[0]>2&&(m(s.pick(-1,0).lo(1).hi(L[0]-2),b.pick(-1,0,0).lo(1).hi(L[0]-2)),C(b.pick(-1,0,1).lo(1).hi(L[0]-2))),L[0]>2&&(m(s.pick(-1,L[1]-1).lo(1).hi(L[0]-2),b.pick(-1,L[1]-1,0).lo(1).hi(L[0]-2)),C(b.pick(-1,L[1]-1,1).lo(1).hi(L[0]-2))),b.set(0,0,0,0),b.set(0,0,1,0),b.set(L[0]-1,0,0,0),b.set(L[0]-1,0,1,0),b.set(0,L[1]-1,0,0),b.set(0,L[1]-1,1,0),b.set(L[0]-1,L[1]-1,0,0),b.set(L[0]-1,L[1]-1,1,0),b}}function T(S){var C=S.join(),L=h[C];if(L)return L;for(var m=S.length,E=[M,c],b=1;b<=m;++b)E.push(o(b));var s=d,L=s.apply(void 0,E);return h[C]=L,L}v.exports=function(C,m,E){if(Array.isArray(E)||(typeof E=="string"?E=t(m.dimension,E):E=t(m.dimension,"clamp")),m.size===0)return C;if(m.dimension===0)return C.set(0),C;var b=T(E);return b(C,m)}},3581:function(v){function p(u,f){var l=Math.floor(f),y=f-l,h=0<=l&&l<u.shape[0],M=0<=l+1&&l+1<u.shape[0],c=h?+u.get(l):0,o=M?+u.get(l+1):0;return(1-y)*c+y*o}function r(u,f,l){var y=Math.floor(f),h=f-y,M=0<=y&&y<u.shape[0],c=0<=y+1&&y+1<u.shape[0],o=Math.floor(l),d=l-o,T=0<=o&&o<u.shape[1],S=0<=o+1&&o+1<u.shape[1],C=M&&T?u.get(y,o):0,m=M&&S?u.get(y,o+1):0,E=c&&T?u.get(y+1,o):0,b=c&&S?u.get(y+1,o+1):0;return(1-d)*((1-h)*C+h*E)+d*((1-h)*m+h*b)}function t(u,f,l,y){var h=Math.floor(f),M=f-h,c=0<=h&&h<u.shape[0],o=0<=h+1&&h+1<u.shape[0],d=Math.floor(l),T=l-d,S=0<=d&&d<u.shape[1],C=0<=d+1&&d+1<u.shape[1],m=Math.floor(y),E=y-m,b=0<=m&&m<u.shape[2],s=0<=m+1&&m+1<u.shape[2],L=c&&S&&b?u.get(h,d,m):0,A=c&&C&&b?u.get(h,d+1,m):0,k=o&&S&&b?u.get(h+1,d,m):0,_=o&&C&&b?u.get(h+1,d+1,m):0,U=c&&S&&s?u.get(h,d,m+1):0,F=c&&C&&s?u.get(h,d+1,m+1):0,z=o&&S&&s?u.get(h+1,d,m+1):0,B=o&&C&&s?u.get(h+1,d+1,m+1):0;return(1-E)*((1-T)*((1-M)*L+M*k)+T*((1-M)*A+M*_))+E*((1-T)*((1-M)*U+M*z)+T*((1-M)*F+M*B))}function i(u){var f=u.shape.length|0,l=new Array(f),y=new Array(f),h=new Array(f),M=new Array(f),c,o;for(c=0;c<f;++c)o=+arguments[c+1],l[c]=Math.floor(o),y[c]=o-l[c],h[c]=0<=l[c]&&l[c]<u.shape[c],M[c]=0<=l[c]+1&&l[c]+1<u.shape[c];var d=0,T,S,C;e:for(c=0;c<1<<f;++c){for(S=1,C=u.offset,T=0;T<f;++T)if(c&1<<T){if(!M[T])continue e;S*=y[T],C+=u.stride[T]*(l[T]+1)}else{if(!h[T])continue e;S*=1-y[T],C+=u.stride[T]*l[T]}d+=S*u.data[C]}return d}function n(u,f,l,y){switch(u.shape.length){case 0:return 0;case 1:return p(u,f);case 2:return r(u,f,l);case 3:return t(u,f,l,y);default:return i.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},7498:function(v,p){var r={"float64,2,1,0":function(){return function(h,M,c,o,d){var T=h[0],S=h[1],C=h[2],m=c[0],E=c[1],b=c[2];o|=0;var s=0,L=0,A=0,k=b,_=E-C*b,U=m-S*E;for(A=0;A<T;++A){for(L=0;L<S;++L){for(s=0;s<C;++s)M[o]/=d,o+=k;o+=_}o+=U}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,M,c,o,d,T,S,C){var m=h[0],E=h[1],b=h[2],s=c[0],L=c[1],A=c[2],k=T[0],_=T[1],U=T[2];o|=0,S|=0;for(var F=o,z=S,B=h[0]|0;B>0;){B<64?(m=B,B=0):(m=64,B-=64);for(var N=h[1]|0;N>0;){N<64?(E=N,N=0):(E=64,N-=64),o=F+B*s+N*L,S=z+B*k+N*_;var V=0,W=0,Q=0,re=A,ne=s-b*A,fe=L-m*s,$=U,X=k-b*U,oe=_-m*k;for(Q=0;Q<E;++Q){for(W=0;W<m;++W){for(V=0;V<b;++V)M[o]=d[S]*C,o+=re,S+=$;o+=ne,S+=X}o+=fe,S+=oe}}}}},"float32,1,0,float32,1,0":function(){return function(h,M,c,o,d,T,S){var C=h[0],m=h[1],E=c[0],b=c[1],s=T[0],L=T[1];o|=0,S|=0;var A=0,k=0,_=b,U=E-m*b,F=L,z=s-m*L;for(k=0;k<C;++k){for(A=0;A<m;++A)M[o]=d[S],o+=_,S+=F;o+=U,S+=z}}},"float32,1,0,float32,0,1":function(){return function(h,M,c,o,d,T,S){var C=h[0],m=h[1],E=c[0],b=c[1],s=T[0],L=T[1];o|=0,S|=0;for(var A=o,k=S,_=h[1]|0;_>0;){_<64?(m=_,_=0):(m=64,_-=64);for(var U=h[0]|0;U>0;){U<64?(C=U,U=0):(C=64,U-=64),o=A+_*b+U*E,S=k+_*L+U*s;var F=0,z=0,B=b,N=E-m*b,V=L,W=s-m*L;for(z=0;z<C;++z){for(F=0;F<m;++F)M[o]=d[S],o+=B,S+=V;o+=N,S+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,M,c,o,d,T,S){var C=h[0],m=h[1],E=h[2],b=c[0],s=c[1],L=c[2],A=T[0],k=T[1],_=T[2];o|=0,S|=0;for(var U=o,F=S,z=h[2]|0;z>0;){z<64?(E=z,z=0):(E=64,z-=64);for(var B=h[0]|0;B>0;){B<64?(C=B,B=0):(C=64,B-=64);for(var N=h[1]|0;N>0;){N<64?(m=N,N=0):(m=64,N-=64),o=U+z*L+B*b+N*s,S=F+z*_+B*A+N*k;var V=0,W=0,Q=0,re=L,ne=b-E*L,fe=s-C*b,$=_,X=A-E*_,oe=k-C*A;for(Q=0;Q<m;++Q){for(W=0;W<C;++W){for(V=0;V<E;++V)M[o]=d[S],o+=re,S+=$;o+=ne,S+=X}o+=fe,S+=oe}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,M,c,o,d,T,S){var C=h[0],m=h[1],E=h[2],b=c[0],s=c[1],L=c[2],A=T[0],k=T[1],_=T[2];o|=0,S|=0;var U=0,F=0,z=0,B=L,N=b-E*L,V=s-C*b,W=_,Q=A-E*_,re=k-C*A;for(z=0;z<m;++z){for(F=0;F<C;++F){for(U=0;U<E;++U)M[o]=d[S],o+=B,S+=W;o+=N,S+=Q}o+=V,S+=re}}}};function t(y,h){var M=h.join(","),c=r[M];return c()}var i=t,n={mul:function(y){var h={};return function(c,o,d){var T=c.dtype,S=c.order,C=o.dtype,m=o.order,E=d.dtype,b=d.order,s=[T,S.join(),C,m.join(),E,b.join()].join(),L=h[s];return L||(h[s]=L=y([T,S,C,m,E,b])),L(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},muls:function(y){var h={};return function(c,o,d){var T=c.dtype,S=c.order,C=o.dtype,m=o.order,E=[T,S.join(),C,m.join()].join(),b=h[E];return b||(h[E]=b=y([T,S,C,m])),b(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d)}},mulseq:function(y){var h={};return function(c,o){var d=c.dtype,T=c.order,S=[d,T.join()].join(),C=h[S];return C||(h[S]=C=y([d,T])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},div:function(y){var h={};return function(c,o,d){var T=c.dtype,S=c.order,C=o.dtype,m=o.order,E=d.dtype,b=d.order,s=[T,S.join(),C,m.join(),E,b.join()].join(),L=h[s];return L||(h[s]=L=y([T,S,C,m,E,b])),L(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},divs:function(y){var h={};return function(c,o,d){var T=c.dtype,S=c.order,C=o.dtype,m=o.order,E=[T,S.join(),C,m.join()].join(),b=h[E];return b||(h[E]=b=y([T,S,C,m])),b(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d)}},divseq:function(y){var h={};return function(c,o){var d=c.dtype,T=c.order,S=[d,T.join()].join(),C=h[S];return C||(h[S]=C=y([d,T])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},assign:function(y){var h={};return function(c,o){var d=c.dtype,T=c.order,S=o.dtype,C=o.order,m=[d,T.join(),S,C.join()].join(),E=h[m];return E||(h[m]=E=y([d,T,S,C])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0)}}};function u(y){var h=n[y.funcName];return h(i.bind(void 0,y))}function f(y){return u({funcName:y.funcName})}var l={mul:"*",div:"/"};(function(){for(var y in l)p[y]=f({funcName:y}),p[y+"s"]=f({funcName:y+"s"}),p[y+"seq"]=f({funcName:y+"seq"})})(),p.assign=f({funcName:"assign"})},7382:function(v,p,r){var t=r(5050),i=r(9262);v.exports=function(u,f){for(var l=[],y=u,h=1;Array.isArray(y);)l.push(y.length),h*=y.length,y=y[0];return l.length===0?t():(f||(f=t(new Float64Array(h),l)),i(f,u),f)}},9262:function(v){function p(){return function(f,l,y,h,M){var c=f[0],o=f[1],d=f[2],T=y[0],S=y[1],C=y[2],m=[0,0,0];h|=0;var E=0,b=0,s=0,L=C,A=S-d*C,k=T-o*S;for(s=0;s<c;++s){for(b=0;b<o;++b){for(E=0;E<d;++E){{var _=M,U;for(U=0;U<m.length-1;++U)_=_[m[U]];l[h]=_[m[m.length-1]]}h+=L,++m[2]}h+=A,m[2]-=d,++m[1]}h+=k,m[1]-=o,++m[0]}}}function r(){return p()}var t=r;function i(f){var l={};return function(h,M){var c=h.dtype,o=h.order,d=[c,o.join()].join(),T=l[d];return T||(l[d]=T=f([c,o])),T(h.shape.slice(0),h.data,h.stride,h.offset|0,M)}}function n(f){return i(t.bind(void 0,f))}function u(f){return n({funcName:f.funcName})}v.exports=u({funcName:"convert"})},8139:function(v,p,r){var t=r(5306);function i(M){switch(M){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(M,c){return function(d,T,S,C,m,E,b,s,L,A,k){var _,U,F,z=d*m+C,B,N=M(s),V,W,Q,re;for(_=d+1;_<=T;++_){for(U=_,z+=m,F=z,V=0,W=z,B=0;B<s;++B)N[V++]=S[W],W+=L;e:for(;U-- >d;){V=0,W=F-m;t:for(B=0;B<s;++B){if(Q=S[W],re=N[V],Q<re)break e;if(Q>re)break t;W+=A,V+=k}for(V=F,W=F-m,B=0;B<s;++B)S[V]=S[W],V+=L,W+=L;F-=m}for(V=F,W=0,B=0;B<s;++B)S[V]=N[W++],V+=L}c(N)}}};function u(M,c){var o=i(c),d=[c,M].join(","),T=n[d];return o?T(o[0],o[1]):T()}var f={"uint32,1,0":function(M,c,o){return function d(T,S,C,m,E,b,s,L,A,k,_){var U=(S-T+1)/6|0,F=T+U,z=S-U,B=T+S>>1,N=B-U,V=B+U,W=F,Q=N,re=B,ne=V,fe=z,$=T+1,X=S-1,oe=!0,Y,ee,se,q,K,le,ie,he,ye,Ce=0,Ae=0,ke=0,we,Ee,xe,Re,Ve,Ue,Be,Xe,ut,dt,at,We,rt,st,ht,vt,At=L,tt=c(At),_e=c(At);Ee=E*W,xe=E*Q,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=W,W=Q,Q=ee;break e}if(ke<0)break e;vt+=k}Ee=E*ne,xe=E*fe,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=ne,ne=fe,fe=ee;break e}if(ke<0)break e;vt+=k}Ee=E*W,xe=E*re,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=W,W=re,re=ee;break e}if(ke<0)break e;vt+=k}Ee=E*Q,xe=E*re,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=Q,Q=re,re=ee;break e}if(ke<0)break e;vt+=k}Ee=E*W,xe=E*ne,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=W,W=ne,ne=ee;break e}if(ke<0)break e;vt+=k}Ee=E*re,xe=E*ne,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=re,re=ne,ne=ee;break e}if(ke<0)break e;vt+=k}Ee=E*Q,xe=E*fe,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=Q,Q=fe,fe=ee;break e}if(ke<0)break e;vt+=k}Ee=E*Q,xe=E*re,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=Q,Q=re,re=ee;break e}if(ke<0)break e;vt+=k}Ee=E*ne,xe=E*fe,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,he=xe+vt,ke=C[ie]-C[he],ke>0){ee=ne,ne=fe,fe=ee;break e}if(ke<0)break e;vt+=k}for(Ee=E*W,xe=E*Q,Re=E*re,Ve=E*ne,Ue=E*fe,Be=E*F,Xe=E*B,ut=E*z,ht=0,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,ye=Re+vt,dt=Ve+vt,at=Ue+vt,We=Be+vt,rt=Xe+vt,st=ut+vt,tt[ht]=C[he],_e[ht]=C[dt],oe=oe&&tt[ht]===_e[ht],se=C[ie],q=C[ye],K=C[at],C[We]=se,C[rt]=q,C[st]=K,++ht,vt+=A;for(Ee=E*N,xe=E*T,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,C[ie]=C[he],vt+=A;for(Ee=E*V,xe=E*S,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,C[ie]=C[he],vt+=A;if(oe)for(le=$;le<=X;++le){ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-tt[ht],ke!==0)break e;ht+=_,ie+=k}if(ke!==0)if(ke<0){if(le!==$)for(Ee=E*le,xe=E*$,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,Y=C[ie],C[ie]=C[he],C[he]=Y,vt+=A;++$}else for(;;){ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-tt[ht],ke!==0)break e;ht+=_,ie+=k}if(ke>0)X--;else if(ke<0){for(Ee=E*le,xe=E*$,Re=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,ye=Re+vt,Y=C[ie],C[ie]=C[he],C[he]=C[ye],C[ye]=Y,vt+=A;++$,--X;break}else{for(Ee=E*le,xe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,Y=C[ie],C[ie]=C[he],C[he]=Y,vt+=A;--X;break}}}else for(le=$;le<=X;++le){ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(Ce=C[ie]-tt[ht],Ce!==0)break e;ht+=_,ie+=k}if(Ce<0){if(le!==$)for(Ee=E*le,xe=E*$,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,Y=C[ie],C[ie]=C[he],C[he]=Y,vt+=A;++$}else{ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(Ae=C[ie]-_e[ht],Ae!==0)break e;ht+=_,ie+=k}if(Ae>0)for(;;){ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-_e[ht],ke!==0)break e;ht+=_,ie+=k}if(ke>0){if(--X<le)break;continue}else{ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-tt[ht],ke!==0)break e;ht+=_,ie+=k}if(ke<0){for(Ee=E*le,xe=E*$,Re=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,ye=Re+vt,Y=C[ie],C[ie]=C[he],C[he]=C[ye],C[ye]=Y,vt+=A;++$,--X}else{for(Ee=E*le,xe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,Y=C[ie],C[ie]=C[he],C[he]=Y,vt+=A;--X}break}}}}for(Ee=E*T,xe=E*($-1),ht=0,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,C[ie]=C[he],C[he]=tt[ht],++ht,vt+=A;for(Ee=E*S,xe=E*(X+1),ht=0,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,C[ie]=C[he],C[he]=_e[ht],++ht,vt+=A;if($-2-T<=32?M(T,$-2,C,m,E,b,s,L,A,k,_):d(T,$-2,C,m,E,b,s,L,A,k,_),S-(X+2)<=32?M(X+2,S,C,m,E,b,s,L,A,k,_):d(X+2,S,C,m,E,b,s,L,A,k,_),oe){o(tt),o(_e);return}if($<F&&X>z){e:for(;;){for(ie=m+$*E,ht=0,vt=m,we=0;we<L;++we){if(C[ie]!==tt[ht])break e;++ht,ie+=A}++$}e:for(;;){for(ie=m+X*E,ht=0,vt=m,we=0;we<L;++we){if(C[ie]!==_e[ht])break e;++ht,ie+=A}--X}for(le=$;le<=X;++le){ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(Ce=C[ie]-tt[ht],Ce!==0)break e;ht+=_,ie+=k}if(Ce===0){if(le!==$)for(Ee=E*le,xe=E*$,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,Y=C[ie],C[ie]=C[he],C[he]=Y,vt+=A;++$}else{ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(Ae=C[ie]-_e[ht],Ae!==0)break e;ht+=_,ie+=k}if(Ae===0)for(;;){ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-_e[ht],ke!==0)break e;ht+=_,ie+=k}if(ke===0){if(--X<le)break;continue}else{ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-tt[ht],ke!==0)break e;ht+=_,ie+=k}if(ke<0){for(Ee=E*le,xe=E*$,Re=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,ye=Re+vt,Y=C[ie],C[ie]=C[he],C[he]=C[ye],C[ye]=Y,vt+=A;++$,--X}else{for(Ee=E*le,xe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,he=xe+vt,Y=C[ie],C[ie]=C[he],C[he]=Y,vt+=A;--X}break}}}}}o(tt),o(_e),X-$<=32?M($,X,C,m,E,b,s,L,A,k,_):d($,X,C,m,E,b,s,L,A,k,_)}}};function l(M,c,o){var d=i(c),T=[c,M].join(","),S=f[T];return M.length>1&&d?S(o,d[0],d[1]):S(o)}var y={"uint32,1,0":function(M,c){return function(o){var d=o.data,T=o.offset|0,S=o.shape,C=o.stride,m=C[0]|0,E=S[0]|0,b=C[1]|0,s=S[1]|0,L=b,A=b,k=1;E<=32?M(0,E-1,d,T,m,b,E,s,L,A,k):c(0,E-1,d,T,m,b,E,s,L,A,k)}}};function h(M,c){var o=[c,M].join(","),d=y[o],T=u(M,c),S=l(M,c,T);return d(T,S)}v.exports=h},8729:function(v,p,r){var t=r(8139),i={};function n(u){var f=u.order,l=u.dtype,y=[f,l],h=y.join(":"),M=i[h];return M||(i[h]=M=t(f,l)),M(u),u}v.exports=n},5050:function(v,p,r){var t=r(4780),i=typeof Float64Array<"u";function n(c,o){return c[0]-o[0]}function u(){var c=this.stride,o=new Array(c.length),d;for(d=0;d<o.length;++d)o[d]=[Math.abs(c[d]),d];o.sort(n);var T=new Array(o.length);for(d=0;d<T.length;++d)T[d]=o[d][1];return T}var f={T:function(c){function o(T){this.data=T}var d=o.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new o(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(S){return new o(S)}},0:function(c,o){function d(S,C){this.data=S,this.offset=C}var T=d.prototype;return T.dtype=c,T.index=function(){return this.offset},T.dimension=0,T.size=1,T.shape=T.stride=T.order=[],T.lo=T.hi=T.transpose=T.step=function(){return new d(this.data,this.offset)},T.pick=function(){return o(this.data)},T.valueOf=T.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},T.set=function(C){return c==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,m,E,b){return new d(C,b)}},1:function(c,o,d){function T(C,m,E,b){this.data=C,this.shape=[m],this.stride=[E],this.offset=b|0}var S=T.prototype;return S.dtype=c,S.dimension=1,Object.defineProperty(S,"size",{get:function(){return this.shape[0]}}),S.order=[0],S.set=function(m,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*m,E):this.data[this.offset+this.stride[0]*m]=E},S.get=function(m){return c==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},S.index=function(m){return this.offset+this.stride[0]*m},S.hi=function(m){return new T(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},S.lo=function(m){var E=this.offset,b=0,s=this.shape[0],L=this.stride[0];return typeof m=="number"&&m>=0&&(b=m|0,E+=L*b,s-=b),new T(this.data,s,L,E)},S.step=function(m){var E=this.shape[0],b=this.stride[0],s=this.offset,L=0,A=Math.ceil;return typeof m=="number"&&(L=m|0,L<0?(s+=b*(E-1),E=A(-E/L)):E=A(E/L),b*=L),new T(this.data,E,b,s)},S.transpose=function(m){m=m===void 0?0:m|0;var E=this.shape,b=this.stride;return new T(this.data,E[m],b[m],this.offset)},S.pick=function(m){var E=[],b=[],s=this.offset;typeof m=="number"&&m>=0?s=s+this.stride[0]*m|0:(E.push(this.shape[0]),b.push(this.stride[0]));var L=o[E.length+1];return L(this.data,E,b,s)},function(m,E,b,s){return new T(m,E[0],b[0],s)}},2:function(c,o,d){function T(C,m,E,b,s,L){this.data=C,this.shape=[m,E],this.stride=[b,s],this.offset=L|0}var S=T.prototype;return S.dtype=c,S.dimension=2,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(S,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),S.set=function(m,E,b){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E,b):this.data[this.offset+this.stride[0]*m+this.stride[1]*E]=b},S.get=function(m,E){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E):this.data[this.offset+this.stride[0]*m+this.stride[1]*E]},S.index=function(m,E){return this.offset+this.stride[0]*m+this.stride[1]*E},S.hi=function(m,E){return new T(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},S.lo=function(m,E){var b=this.offset,s=0,L=this.shape[0],A=this.shape[1],k=this.stride[0],_=this.stride[1];return typeof m=="number"&&m>=0&&(s=m|0,b+=k*s,L-=s),typeof E=="number"&&E>=0&&(s=E|0,b+=_*s,A-=s),new T(this.data,L,A,k,_,b)},S.step=function(m,E){var b=this.shape[0],s=this.shape[1],L=this.stride[0],A=this.stride[1],k=this.offset,_=0,U=Math.ceil;return typeof m=="number"&&(_=m|0,_<0?(k+=L*(b-1),b=U(-b/_)):b=U(b/_),L*=_),typeof E=="number"&&(_=E|0,_<0?(k+=A*(s-1),s=U(-s/_)):s=U(s/_),A*=_),new T(this.data,b,s,L,A,k)},S.transpose=function(m,E){m=m===void 0?0:m|0,E=E===void 0?1:E|0;var b=this.shape,s=this.stride;return new T(this.data,b[m],b[E],s[m],s[E],this.offset)},S.pick=function(m,E){var b=[],s=[],L=this.offset;typeof m=="number"&&m>=0?L=L+this.stride[0]*m|0:(b.push(this.shape[0]),s.push(this.stride[0])),typeof E=="number"&&E>=0?L=L+this.stride[1]*E|0:(b.push(this.shape[1]),s.push(this.stride[1]));var A=o[b.length+1];return A(this.data,b,s,L)},function(m,E,b,s){return new T(m,E[0],E[1],b[0],b[1],s)}},3:function(c,o,d){function T(C,m,E,b,s,L,A,k){this.data=C,this.shape=[m,E,b],this.stride=[s,L,A],this.offset=k|0}var S=T.prototype;return S.dtype=c,S.dimension=3,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(S,"order",{get:function(){var m=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),b=Math.abs(this.stride[2]);return m>E?E>b?[2,1,0]:m>b?[1,2,0]:[1,0,2]:m>b?[2,0,1]:b>E?[0,1,2]:[0,2,1]}}),S.set=function(m,E,b,s){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b,s):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b]=s},S.get=function(m,E,b){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b]},S.index=function(m,E,b){return this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b},S.hi=function(m,E,b){return new T(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof b!="number"||b<0?this.shape[2]:b|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},S.lo=function(m,E,b){var s=this.offset,L=0,A=this.shape[0],k=this.shape[1],_=this.shape[2],U=this.stride[0],F=this.stride[1],z=this.stride[2];return typeof m=="number"&&m>=0&&(L=m|0,s+=U*L,A-=L),typeof E=="number"&&E>=0&&(L=E|0,s+=F*L,k-=L),typeof b=="number"&&b>=0&&(L=b|0,s+=z*L,_-=L),new T(this.data,A,k,_,U,F,z,s)},S.step=function(m,E,b){var s=this.shape[0],L=this.shape[1],A=this.shape[2],k=this.stride[0],_=this.stride[1],U=this.stride[2],F=this.offset,z=0,B=Math.ceil;return typeof m=="number"&&(z=m|0,z<0?(F+=k*(s-1),s=B(-s/z)):s=B(s/z),k*=z),typeof E=="number"&&(z=E|0,z<0?(F+=_*(L-1),L=B(-L/z)):L=B(L/z),_*=z),typeof b=="number"&&(z=b|0,z<0?(F+=U*(A-1),A=B(-A/z)):A=B(A/z),U*=z),new T(this.data,s,L,A,k,_,U,F)},S.transpose=function(m,E,b){m=m===void 0?0:m|0,E=E===void 0?1:E|0,b=b===void 0?2:b|0;var s=this.shape,L=this.stride;return new T(this.data,s[m],s[E],s[b],L[m],L[E],L[b],this.offset)},S.pick=function(m,E,b){var s=[],L=[],A=this.offset;typeof m=="number"&&m>=0?A=A+this.stride[0]*m|0:(s.push(this.shape[0]),L.push(this.stride[0])),typeof E=="number"&&E>=0?A=A+this.stride[1]*E|0:(s.push(this.shape[1]),L.push(this.stride[1])),typeof b=="number"&&b>=0?A=A+this.stride[2]*b|0:(s.push(this.shape[2]),L.push(this.stride[2]));var k=o[s.length+1];return k(this.data,s,L,A)},function(m,E,b,s){return new T(m,E[0],E[1],E[2],b[0],b[1],b[2],s)}},4:function(c,o,d){function T(C,m,E,b,s,L,A,k,_,U){this.data=C,this.shape=[m,E,b,s],this.stride=[L,A,k,_],this.offset=U|0}var S=T.prototype;return S.dtype=c,S.dimension=4,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(S,"order",{get:d}),S.set=function(m,E,b,s,L){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s,L):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s]=L},S.get=function(m,E,b,s){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s]},S.index=function(m,E,b,s){return this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s},S.hi=function(m,E,b,s){return new T(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof b!="number"||b<0?this.shape[2]:b|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},S.lo=function(m,E,b,s){var L=this.offset,A=0,k=this.shape[0],_=this.shape[1],U=this.shape[2],F=this.shape[3],z=this.stride[0],B=this.stride[1],N=this.stride[2],V=this.stride[3];return typeof m=="number"&&m>=0&&(A=m|0,L+=z*A,k-=A),typeof E=="number"&&E>=0&&(A=E|0,L+=B*A,_-=A),typeof b=="number"&&b>=0&&(A=b|0,L+=N*A,U-=A),typeof s=="number"&&s>=0&&(A=s|0,L+=V*A,F-=A),new T(this.data,k,_,U,F,z,B,N,V,L)},S.step=function(m,E,b,s){var L=this.shape[0],A=this.shape[1],k=this.shape[2],_=this.shape[3],U=this.stride[0],F=this.stride[1],z=this.stride[2],B=this.stride[3],N=this.offset,V=0,W=Math.ceil;return typeof m=="number"&&(V=m|0,V<0?(N+=U*(L-1),L=W(-L/V)):L=W(L/V),U*=V),typeof E=="number"&&(V=E|0,V<0?(N+=F*(A-1),A=W(-A/V)):A=W(A/V),F*=V),typeof b=="number"&&(V=b|0,V<0?(N+=z*(k-1),k=W(-k/V)):k=W(k/V),z*=V),typeof s=="number"&&(V=s|0,V<0?(N+=B*(_-1),_=W(-_/V)):_=W(_/V),B*=V),new T(this.data,L,A,k,_,U,F,z,B,N)},S.transpose=function(m,E,b,s){m=m===void 0?0:m|0,E=E===void 0?1:E|0,b=b===void 0?2:b|0,s=s===void 0?3:s|0;var L=this.shape,A=this.stride;return new T(this.data,L[m],L[E],L[b],L[s],A[m],A[E],A[b],A[s],this.offset)},S.pick=function(m,E,b,s){var L=[],A=[],k=this.offset;typeof m=="number"&&m>=0?k=k+this.stride[0]*m|0:(L.push(this.shape[0]),A.push(this.stride[0])),typeof E=="number"&&E>=0?k=k+this.stride[1]*E|0:(L.push(this.shape[1]),A.push(this.stride[1])),typeof b=="number"&&b>=0?k=k+this.stride[2]*b|0:(L.push(this.shape[2]),A.push(this.stride[2])),typeof s=="number"&&s>=0?k=k+this.stride[3]*s|0:(L.push(this.shape[3]),A.push(this.stride[3]));var _=o[L.length+1];return _(this.data,L,A,k)},function(m,E,b,s){return new T(m,E[0],E[1],E[2],E[3],b[0],b[1],b[2],b[3],s)}},5:function(o,d,T){function S(m,E,b,s,L,A,k,_,U,F,z,B){this.data=m,this.shape=[E,b,s,L,A],this.stride=[k,_,U,F,z],this.offset=B|0}var C=S.prototype;return C.dtype=o,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:T}),C.set=function(E,b,s,L,A,k){return o==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*A,k):this.data[this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*A]=k},C.get=function(E,b,s,L,A){return o==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*A):this.data[this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*A]},C.index=function(E,b,s,L,A){return this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*A},C.hi=function(E,b,s,L,A){return new S(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof b!="number"||b<0?this.shape[1]:b|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof L!="number"||L<0?this.shape[3]:L|0,typeof A!="number"||A<0?this.shape[4]:A|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(E,b,s,L,A){var k=this.offset,_=0,U=this.shape[0],F=this.shape[1],z=this.shape[2],B=this.shape[3],N=this.shape[4],V=this.stride[0],W=this.stride[1],Q=this.stride[2],re=this.stride[3],ne=this.stride[4];return typeof E=="number"&&E>=0&&(_=E|0,k+=V*_,U-=_),typeof b=="number"&&b>=0&&(_=b|0,k+=W*_,F-=_),typeof s=="number"&&s>=0&&(_=s|0,k+=Q*_,z-=_),typeof L=="number"&&L>=0&&(_=L|0,k+=re*_,B-=_),typeof A=="number"&&A>=0&&(_=A|0,k+=ne*_,N-=_),new S(this.data,U,F,z,B,N,V,W,Q,re,ne,k)},C.step=function(E,b,s,L,A){var k=this.shape[0],_=this.shape[1],U=this.shape[2],F=this.shape[3],z=this.shape[4],B=this.stride[0],N=this.stride[1],V=this.stride[2],W=this.stride[3],Q=this.stride[4],re=this.offset,ne=0,fe=Math.ceil;return typeof E=="number"&&(ne=E|0,ne<0?(re+=B*(k-1),k=fe(-k/ne)):k=fe(k/ne),B*=ne),typeof b=="number"&&(ne=b|0,ne<0?(re+=N*(_-1),_=fe(-_/ne)):_=fe(_/ne),N*=ne),typeof s=="number"&&(ne=s|0,ne<0?(re+=V*(U-1),U=fe(-U/ne)):U=fe(U/ne),V*=ne),typeof L=="number"&&(ne=L|0,ne<0?(re+=W*(F-1),F=fe(-F/ne)):F=fe(F/ne),W*=ne),typeof A=="number"&&(ne=A|0,ne<0?(re+=Q*(z-1),z=fe(-z/ne)):z=fe(z/ne),Q*=ne),new S(this.data,k,_,U,F,z,B,N,V,W,Q,re)},C.transpose=function(E,b,s,L,A){E=E===void 0?0:E|0,b=b===void 0?1:b|0,s=s===void 0?2:s|0,L=L===void 0?3:L|0,A=A===void 0?4:A|0;var k=this.shape,_=this.stride;return new S(this.data,k[E],k[b],k[s],k[L],k[A],_[E],_[b],_[s],_[L],_[A],this.offset)},C.pick=function(E,b,s,L,A){var k=[],_=[],U=this.offset;typeof E=="number"&&E>=0?U=U+this.stride[0]*E|0:(k.push(this.shape[0]),_.push(this.stride[0])),typeof b=="number"&&b>=0?U=U+this.stride[1]*b|0:(k.push(this.shape[1]),_.push(this.stride[1])),typeof s=="number"&&s>=0?U=U+this.stride[2]*s|0:(k.push(this.shape[2]),_.push(this.stride[2])),typeof L=="number"&&L>=0?U=U+this.stride[3]*L|0:(k.push(this.shape[3]),_.push(this.stride[3])),typeof A=="number"&&A>=0?U=U+this.stride[4]*A|0:(k.push(this.shape[4]),_.push(this.stride[4]));var F=d[k.length+1];return F(this.data,k,_,U)},function(E,b,s,L){return new S(E,b[0],b[1],b[2],b[3],b[4],s[0],s[1],s[2],s[3],s[4],L)}}};function l(c,o){var d=o===-1?"T":String(o),T=f[d];return o===-1?T(c):o===0?T(c,h[c][0]):T(c,h[c],u)}function y(c){if(t(c))return"buffer";if(i)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function M(c,o,d,T){if(c===void 0){var s=h.array[0];return s([])}else typeof c=="number"&&(c=[c]);o===void 0&&(o=[c.length]);var S=o.length;if(d===void 0){d=new Array(S);for(var C=S-1,m=1;C>=0;--C)d[C]=m,m*=o[C]}if(T===void 0){T=0;for(var C=0;C<S;++C)d[C]<0&&(T-=(o[C]-1)*d[C])}for(var E=y(c),b=h[E];b.length<=S+1;)b.push(l(E,b.length-1));var s=b[S+1];return s(c,o,d,T)}v.exports=M},8551:function(v,p,r){var t=r(8362),i=Math.pow(2,-1074),n=-1>>>0;v.exports=u;function u(f,l){if(isNaN(f)||isNaN(l))return NaN;if(f===l)return f;if(f===0)return l<0?-i:i;var y=t.hi(f),h=t.lo(f);return l>f==f>0?h===n?(y+=1,h=0):h+=1:h===0?(h=n,y-=1):h-=1,t.pack(h,y)}},115:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(i,n,u){for(var f=n.length,l=new Array(f),y=u===void 0?r:u,h=0;h<f;++h)l[h]=[0,0,0];for(var h=0;h<i.length;++h)for(var M=i[h],c=0,o=M[M.length-1],d=M[0],T=0;T<M.length;++T){c=o,o=d,d=M[(T+1)%M.length];for(var S=n[c],C=n[o],m=n[d],E=new Array(3),b=0,s=new Array(3),L=0,A=0;A<3;++A)E[A]=S[A]-C[A],b+=E[A]*E[A],s[A]=m[A]-C[A],L+=s[A]*s[A];if(b*L>y)for(var k=l[o],_=1/Math.sqrt(b*L),A=0;A<3;++A){var U=(A+1)%3,F=(A+2)%3;k[A]+=_*(s[U]*E[F]-s[F]*E[U])}}for(var h=0;h<f;++h){for(var k=l[h],z=0,A=0;A<3;++A)z+=k[A]*k[A];if(z>y)for(var _=1/Math.sqrt(z),A=0;A<3;++A)k[A]*=_;else for(var A=0;A<3;++A)k[A]=0}return l},p.faceNormals=function(i,n,u){for(var f=i.length,l=new Array(f),y=u===void 0?t:u,h=0;h<f;++h){for(var M=i[h],c=new Array(3),o=0;o<3;++o)c[o]=n[M[o]];for(var d=new Array(3),T=new Array(3),o=0;o<3;++o)d[o]=c[1][o]-c[0][o],T[o]=c[2][o]-c[0][o];for(var S=new Array(3),C=0,o=0;o<3;++o){var m=(o+1)%3,E=(o+2)%3;S[o]=d[m]*T[E]-d[E]*T[m],C+=S[o]*S[o]}C>y?C=1/Math.sqrt(C):C=0;for(var o=0;o<3;++o)S[o]*=C;l[h]=S}return l}},567:function(v){v.exports=p;function p(r,t,i,n,u,f,l,y,h,M){var c=t+f+M;if(o>0){var o=Math.sqrt(c+1);r[0]=.5*(l-h)/o,r[1]=.5*(y-n)/o,r[2]=.5*(i-f)/o,r[3]=.5*o}else{var d=Math.max(t,f,M),o=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*o,r[1]=.5*(u+i)/o,r[2]=.5*(y+n)/o,r[3]=.5*(l-h)/o):f>=d?(r[0]=.5*(i+u)/o,r[1]=.5*o,r[2]=.5*(h+l)/o,r[3]=.5*(y-n)/o):(r[0]=.5*(n+y)/o,r[1]=.5*(l+h)/o,r[2]=.5*o,r[3]=.5*(i-u)/o)}return r}},7774:function(v,p,r){v.exports=o;var t=r(8444),i=r(3012),n=r(5950),u=r(7437),f=r(567);function l(d,T,S){return Math.sqrt(Math.pow(d,2)+Math.pow(T,2)+Math.pow(S,2))}function y(d,T,S,C){return Math.sqrt(Math.pow(d,2)+Math.pow(T,2)+Math.pow(S,2)+Math.pow(C,2))}function h(d,T){var S=T[0],C=T[1],m=T[2],E=T[3],b=y(S,C,m,E);b>1e-6?(d[0]=S/b,d[1]=C/b,d[2]=m/b,d[3]=E/b):(d[0]=d[1]=d[2]=0,d[3]=1)}function M(d,T,S){this.radius=t([S]),this.center=t(T),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=M.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var T=this.computedRotation;h(T,T);var S=this.computedMatrix;n(S,T);var C=this.computedCenter,m=this.computedEye,E=this.computedUp,b=Math.exp(this.computedRadius[0]);m[0]=C[0]+b*S[2],m[1]=C[1]+b*S[6],m[2]=C[2]+b*S[10],E[0]=S[1],E[1]=S[5],E[2]=S[9];for(var s=0;s<3;++s){for(var L=0,A=0;A<3;++A)L+=S[s+4*A]*m[A];S[12+s]=-L}},c.getMatrix=function(d,T){this.recalcMatrix(d);var S=this.computedMatrix;if(T){for(var C=0;C<16;++C)T[C]=S[C];return T}return S},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,T,S,C){T=T||0,S=S||0,C=C||0,this.recalcMatrix(d);var m=this.computedMatrix,E=m[1],b=m[5],s=m[9],L=l(E,b,s);E/=L,b/=L,s/=L;var A=m[0],k=m[4],_=m[8],U=A*E+k*b+_*s;A-=E*U,k-=b*U,_-=s*U;var F=l(A,k,_);A/=F,k/=F,_/=F,m[2],m[6],m[10];var z=A*T+E*S,B=k*T+b*S,N=_*T+s*S;this.center.move(d,z,B,N);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+C),this.radius.set(d,Math.log(V))},c.rotate=function(d,T,S,C){this.recalcMatrix(d),T=T||0,S=S||0;var m=this.computedMatrix,E=m[0],b=m[4],s=m[8],L=m[1],A=m[5],k=m[9],_=m[2],U=m[6],F=m[10],z=T*E+S*L,B=T*b+S*A,N=T*s+S*k,V=-(U*N-F*B),W=-(F*z-_*N),Q=-(_*B-U*z),re=Math.sqrt(Math.max(0,1-Math.pow(V,2)-Math.pow(W,2)-Math.pow(Q,2))),ne=y(V,W,Q,re);ne>1e-6?(V/=ne,W/=ne,Q/=ne,re/=ne):(V=W=Q=0,re=1);var fe=this.computedRotation,$=fe[0],X=fe[1],oe=fe[2],Y=fe[3],ee=$*re+Y*V+X*Q-oe*W,se=X*re+Y*W+oe*V-$*Q,q=oe*re+Y*Q+$*W-X*V,K=Y*re-$*V-X*W-oe*Q;if(C){V=_,W=U,Q=F;var le=Math.sin(C)/l(V,W,Q);V*=le,W*=le,Q*=le,re=Math.cos(T),ee=ee*re+K*V+se*Q-q*W,se=se*re+K*W+q*V-ee*Q,q=q*re+K*Q+ee*W-se*V,K=K*re-ee*V-se*W-q*Q}var ie=y(ee,se,q,K);ie>1e-6?(ee/=ie,se/=ie,q/=ie,K/=ie):(ee=se=q=0,K=1),this.rotation.set(d,ee,se,q,K)},c.lookAt=function(d,T,S,C){this.recalcMatrix(d),S=S||this.computedCenter,T=T||this.computedEye,C=C||this.computedUp;var m=this.computedMatrix;i(m,T,S,C);var E=this.computedRotation;f(E,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),h(E,E),this.rotation.set(d,E[0],E[1],E[2],E[3]);for(var b=0,s=0;s<3;++s)b+=Math.pow(S[s]-T[s],2);this.radius.set(d,.5*Math.log(Math.max(b,1e-6))),this.center.set(d,S[0],S[1],S[2])},c.translate=function(d,T,S,C){this.center.move(d,T||0,S||0,C||0)},c.setMatrix=function(d,T){var S=this.computedRotation;f(S,T[0],T[1],T[2],T[4],T[5],T[6],T[8],T[9],T[10]),h(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);var C=this.computedMatrix;u(C,T);var m=C[15];if(Math.abs(m)>1e-6){var E=C[12]/m,b=C[13]/m,s=C[14]/m;this.recalcMatrix(d);var L=Math.exp(this.computedRadius[0]);this.center.set(d,E-C[2]*L,b-C[6]*L,s-C[10]*L),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,T){T>0&&this.radius.set(d,Math.log(T))},c.setDistanceLimits=function(d,T){d>0?d=Math.log(d):d=-1/0,T>0?T=Math.log(T):T=1/0,T=Math.max(T,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=T},c.getDistanceLimits=function(d){var T=this.radius.bounds;return d?(d[0]=Math.exp(T[0][0]),d[1]=Math.exp(T[1][0]),d):[Math.exp(T[0][0]),Math.exp(T[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var T=this.lastT(),S=d.center;S&&this.center.set(T,S[0],S[1],S[2]);var C=d.rotation;C&&this.rotation.set(T,C[0],C[1],C[2],C[3]);var m=d.distance;m&&m>0&&this.radius.set(T,Math.log(m)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function o(d){d=d||{};var T=d.center||[0,0,0],S=d.rotation||[0,0,0,1],C=d.radius||1;T=[].slice.call(T,0,3),S=[].slice.call(S,0,4),h(S,S);var m=new M(S,T,Math.log(C));return m.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&m.lookAt(0,d.eye,d.center,d.up),m}},4930:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(6184);v.exports=function(n,u,f){return f=typeof f<"u"?f+"":" ",t(f,u)+n}},4405:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var i=parseFloat(r,10);return t[0]=i,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(v,p,r){v.exports=i;var t=r(9398);function i(n,u){for(var f=u.length|0,l=n.length,y=[new Array(f),new Array(f)],h=0;h<f;++h)y[0][h]=[],y[1][h]=[];for(var h=0;h<l;++h){var M=n[h];y[0][M[0]].push(M),y[1][M[1]].push(M)}for(var c=[],h=0;h<f;++h)y[0][h].length+y[1][h].length===0&&c.push([h]);function o(b,s){var L=y[s][b[s]];L.splice(L.indexOf(b),1)}function d(b,s,L){for(var A,k,_,U=0;U<2;++U)if(y[U][s].length>0){A=y[U][s][0],_=U;break}k=A[_^1];for(var F=0;F<2;++F)for(var z=y[F][s],B=0;B<z.length;++B){var N=z[B],V=N[F^1],W=t(u[b],u[s],u[k],u[V]);W>0&&(A=N,k=V,_=F)}return L||A&&o(A,_),k}function T(b,s){var L=y[s][b][0],A=[b];o(L,s);for(var k=L[s^1];;){for(;k!==b;)A.push(k),k=d(A[A.length-2],k,!1);if(y[0][b].length+y[1][b].length===0)break;var _=A[A.length-1],U=b,F=A[1],z=d(_,U,!0);if(t(u[_],u[U],u[F],u[z])<0)break;A.push(b),k=d(_,U)}return A}function S(b,s){return s[1]===s[s.length-1]}for(var h=0;h<f;++h)for(var C=0;C<2;++C){for(var m=[];y[C][h].length>0;){y[0][h].length;var E=T(h,C);S(m,E)?m.push.apply(m,E):(m.length>0&&c.push(m),m=E)}m.length>0&&c.push(m)}return c}},3959:function(v,p,r){v.exports=i;var t=r(8348);function i(n,u){for(var f=t(n,u.length),l=new Array(u.length),y=new Array(u.length),h=[],M=0;M<u.length;++M){var c=f[M].length;y[M]=c,l[M]=!0,c<=1&&h.push(M)}for(;h.length>0;){var o=h.pop();l[o]=!1;for(var d=f[o],M=0;M<d.length;++M){var T=d[M];--y[T]===0&&h.push(T)}}for(var S=new Array(u.length),C=[],M=0;M<u.length;++M)if(l[M]){var o=C.length;S[M]=o,C.push(u[M])}else S[M]=-1;for(var m=[],M=0;M<n.length;++M){var E=n[M];l[E[0]]&&l[E[1]]&&m.push([S[E[0]],S[E[1]]])}return[m,C]}},8040:function(v,p,r){v.exports=c;var t=r(8348),i=r(4166),n=r(211),u=r(9660),f=r(9662),l=r(1215),y=r(3959);function h(o,d){for(var T=new Array(o),S=0;S<o;++S)T[S]=d;return T}function M(o){for(var d=new Array(o),T=0;T<o;++T)d[T]=[];return d}function c(o,d){var K=y(o,d);o=K[0],d=K[1];var T=d.length;o.length;for(var S=t(o,d.length),C=0;C<T;++C)if(S[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var m=i(o,d);function E(ke){for(var we=ke.length,Ee=[0],xe=0;xe<we;++xe){var Re=d[ke[xe]],Ve=d[ke[(xe+1)%we]],Ue=u(-Re[0],Re[1]),Be=u(-Re[0],Ve[1]),Xe=u(Ve[0],Re[1]),ut=u(Ve[0],Ve[1]);Ee=f(Ee,f(f(Ue,Be),f(Xe,ut)))}return Ee[Ee.length-1]>0}m=m.filter(E);for(var b=m.length,s=new Array(b),L=new Array(b),C=0;C<b;++C){s[C]=C;var A=new Array(b),k=m[C].map(function(we){return d[we]}),_=n([k]),U=0;e:for(var F=0;F<b;++F)if(A[F]=0,C!==F){for(var z=m[F],B=z.length,N=0;N<B;++N){var V=_(d[z[N]]);if(V!==0){V<0&&(A[F]=1,U+=1);continue e}}A[F]=1,U+=1}L[C]=[U,C,A]}L.sort(function(ke,we){return we[0]-ke[0]});for(var C=0;C<b;++C)for(var A=L[C],W=A[1],Q=A[2],F=0;F<b;++F)Q[F]&&(s[F]=W);for(var re=M(b),C=0;C<b;++C)re[C].push(s[C]),re[s[C]].push(C);for(var ne={},fe=h(T,!1),C=0;C<b;++C)for(var z=m[C],B=z.length,F=0;F<B;++F){var $=z[F],X=z[(F+1)%B],oe=Math.min($,X)+":"+Math.max($,X);if(oe in ne){var Y=ne[oe];re[Y].push(C),re[C].push(Y),fe[$]=fe[X]=!0}else ne[oe]=C}function ee(ke){for(var we=ke.length,Ee=0;Ee<we;++Ee)if(!fe[ke[Ee]])return!1;return!0}for(var se=[],q=h(b,-1),C=0;C<b;++C)s[C]===C&&!ee(m[C])?(se.push(C),q[C]=0):q[C]=-1;for(var K=[];se.length>0;){var le=se.pop(),ie=re[le];l(ie,function(ke,we){return ke-we});var he=ie.length,ye=q[le],Ce;if(ye===0){var z=m[le];Ce=[z]}for(var C=0;C<he;++C){var Ae=ie[C];if(!(q[Ae]>=0)&&(q[Ae]=ye^1,se.push(Ae),ye===0)){var z=m[Ae];ee(z)||(z.reverse(),Ce.push(z))}}ye===0&&K.push(Ce)}return K}},211:function(v,p,r){v.exports=d;var t=r(417)[3],i=r(4385),n=r(9014),u=r(5070);function f(){return!0}function l(T){return function(S,C){var m=T[S];return m?!!m.queryPoint(C,f):!1}}function y(T){for(var S={},C=0;C<T.length;++C){var m=T[C],E=m[0][0],b=m[0][1],s=m[1][1],L=[Math.min(b,s),Math.max(b,s)];E in S?S[E].push(L):S[E]=[L]}for(var A={},k=Object.keys(S),C=0;C<k.length;++C){var _=S[k[C]];A[k[C]]=n(_)}return l(A)}function h(T,S){return function(C){var m=u.le(S,C[0]);if(m<0)return 1;var E=T[m];if(!E)if(m>0&&S[m]===C[0])E=T[m-1];else return 1;for(var b=1;E;){var s=E.key,L=t(C,s[0],s[1]);if(s[0][0]<s[1][0])if(L<0)E=E.left;else if(L>0)b=-1,E=E.right;else return 0;else if(L>0)E=E.left;else if(L<0)b=1,E=E.right;else return 0}return b}}function M(T){return 1}function c(T){return function(C){return T(C[0],C[1])?0:1}}function o(T,S){return function(m){return T(m[0],m[1])?0:S(m)}}function d(T){for(var S=T.length,C=[],m=[],E=0;E<S;++E)for(var b=T[E],s=b.length,L=s-1,A=0;A<s;L=A++){var k=b[L],_=b[A];k[0]===_[0]?m.push([k,_]):C.push([k,_])}if(C.length===0)return m.length===0?M:c(y(m));var U=i(C),F=h(U.slabs,U.coordinates);return m.length===0?F:o(y(m),F)}},7309:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function i(n,u,f,l,y){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)p[h]=n[h]-l[h],r[h]=u[h]-n[h],t[h]=f[h]-n[h];for(var M=0,c=0,o=0,d=0,T=0,S=0,h=0;h<l.length;++h){var C=r[h],m=t[h],E=p[h];M+=C*C,c+=C*m,o+=m*m,d+=E*C,T+=E*m,S+=E*E}var b=Math.abs(M*o-c*c),s=c*T-o*d,L=c*d-M*T,A;if(s+L<=b)if(s<0)L<0&&d<0?(L=0,-d>=M?(s=1,A=M+2*d+S):(s=-d/M,A=d*s+S)):(s=0,T>=0?(L=0,A=S):-T>=o?(L=1,A=o+2*T+S):(L=-T/o,A=T*L+S));else if(L<0)L=0,d>=0?(s=0,A=S):-d>=M?(s=1,A=M+2*d+S):(s=-d/M,A=d*s+S);else{var k=1/b;s*=k,L*=k,A=s*(M*s+c*L+2*d)+L*(c*s+o*L+2*T)+S}else{var _,U,F,z;s<0?(_=c+d,U=o+T,U>_?(F=U-_,z=M-2*c+o,F>=z?(s=1,L=0,A=M+2*d+S):(s=F/z,L=1-s,A=s*(M*s+c*L+2*d)+L*(c*s+o*L+2*T)+S)):(s=0,U<=0?(L=1,A=o+2*T+S):T>=0?(L=0,A=S):(L=-T/o,A=T*L+S))):L<0?(_=c+T,U=M+d,U>_?(F=U-_,z=M-2*c+o,F>=z?(L=1,s=0,A=o+2*T+S):(L=F/z,s=1-L,A=s*(M*s+c*L+2*d)+L*(c*s+o*L+2*T)+S)):(L=0,U<=0?(s=1,A=M+2*d+S):d>=0?(s=0,A=S):(s=-d/M,A=d*s+S))):(F=o+T-c-d,F<=0?(s=0,L=1,A=o+2*T+S):(z=M-2*c+o,F>=z?(s=1,L=0,A=M+2*d+S):(s=F/z,L=1-s,A=s*(M*s+c*L+2*d)+L*(c*s+o*L+2*T)+S)))}for(var B=1-s-L,h=0;h<l.length;++h)y[h]=B*n[h]+s*u[h]+L*f[h];return A<0?0:A}v.exports=i},1116:function(v,p,r){v.exports=r(6093)},7584:function(v,p,r){var t=r(1539);v.exports=i;function i(n,u){for(var f=n.length,l=new Array(f),y=0;y<f;++y)l[y]=t(n[y],u[y]);return l}},2826:function(v,p,r){v.exports=i;var t=r(5125);function i(n){for(var u=new Array(n.length),f=0;f<n.length;++f)u[f]=t(n[f]);return u}},4469:function(v,p,r){var t=r(5125),i=r(3962);v.exports=n;function n(u,f){for(var l=t(f),y=u.length,h=new Array(y),M=0;M<y;++M)h[M]=i(u[M],l);return h}},6695:function(v,p,r){var t=r(4354);v.exports=i;function i(n,u){for(var f=n.length,l=new Array(f),y=0;y<f;++y)l[y]=t(n[y],u[y]);return l}},7037:function(v,p,r){var t=r(9209),i=r(1284),n=r(9887);v.exports=u;function u(f){f.sort(i);for(var l=f.length,y=0,h=0;h<l;++h){var M=f[h],c=n(M);if(c!==0){if(y>0){var o=f[y-1];if(t(M,o)===0&&n(o)!==c){y-=1;continue}}f[y++]=M}}return f.length=y,f}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(i,n){if(typeof i!="string")throw new TypeError("expected a string");if(n===1)return i;if(n===2)return i+i;var u=i.length*n;if(r!==i||typeof r>"u")r=i,p="";else if(p.length>=u)return p.substr(0,u);for(;u>p.length&&n>1;)n&1&&(p+=i),n>>=1,i+=i;return p+=i,p=p.substr(0,u),p}},8161:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(r){for(var t=r.length,i=r[r.length-1],n=t,u=t-2;u>=0;--u){var f=i,l=r[u];i=f+l;var y=i-f,h=l-y;h&&(r[--n]=i,i=h)}for(var M=0,u=n;u<t;++u){var f=r[u],l=i;i=f+l;var y=i-f,h=l-y;h&&(r[M++]=h)}return r[M++]=i,r.length=M,r}},8167:function(v,p,r){var t=r(9660),i=r(9662),n=r(8289),u=r(402),f=6;function l(S,C,m,E){return function(s){return E(S(m(s[0][0],s[1][1]),m(-s[0][1],s[1][0])))}}function y(S,C,m,E){return function(s){return E(S(C(S(m(s[1][1],s[2][2]),m(-s[1][2],s[2][1])),s[0][0]),S(C(S(m(s[1][0],s[2][2]),m(-s[1][2],s[2][0])),-s[0][1]),C(S(m(s[1][0],s[2][1]),m(-s[1][1],s[2][0])),s[0][2]))))}}function h(S,C,m,E){return function(s){return E(S(S(C(S(C(S(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][1]),S(C(S(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),-s[1][2]),C(S(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),C(S(C(S(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][0]),S(C(S(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][2]),C(S(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),S(C(S(C(S(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),s[1][0]),S(C(S(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][1]),C(S(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),C(S(C(S(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][0]),S(C(S(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),-s[1][1]),C(S(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function M(S,C,m,E){return function(s){return E(S(S(C(S(S(C(S(C(S(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),S(C(S(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),C(S(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),C(S(C(S(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),S(C(S(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),C(S(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),S(C(S(C(S(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),S(C(S(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),C(S(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),C(S(C(S(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),S(C(S(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),C(S(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),C(S(S(C(S(C(S(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),S(C(S(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),C(S(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),C(S(C(S(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),S(C(S(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),C(S(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),S(C(S(C(S(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),S(C(S(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),C(S(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),C(S(C(S(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),S(C(S(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),C(S(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),S(C(S(S(C(S(C(S(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),S(C(S(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),C(S(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),C(S(C(S(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),S(C(S(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),C(S(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),S(C(S(C(S(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),S(C(S(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),C(S(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),C(S(C(S(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),S(C(S(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),C(S(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),S(C(S(S(C(S(C(S(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),S(C(S(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),C(S(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),C(S(C(S(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),S(C(S(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),C(S(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),S(C(S(C(S(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),S(C(S(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),C(S(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),C(S(C(S(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),S(C(S(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),C(S(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),C(S(S(C(S(C(S(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),S(C(S(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),C(S(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),C(S(C(S(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),S(C(S(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),C(S(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),S(C(S(C(S(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),S(C(S(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),C(S(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),C(S(C(S(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),S(C(S(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),C(S(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function c(S){var C=S===2?l:S===3?y:S===4?h:S===5?M:void 0;return C(i,n,t,u)}var o=[function(){return[0]},function(C){return[C[0][0]]}];function d(S,C,m,E,b,s,L,A){return function(_){switch(_.length){case 0:return S(_);case 1:return C(_);case 2:return m(_);case 3:return E(_);case 4:return b(_);case 5:return s(_)}var U=L[_.length];return U||(U=L[_.length]=A(_.length)),U(_)}}function T(){for(;o.length<f;)o.push(c(o.length));v.exports=d.apply(void 0,o.concat([o,c]));for(var S=0;S<o.length;++S)v.exports[S]=o[S]}T()},9130:function(v,p,r){var t=r(9660),i=r(9662);v.exports=n;function n(u,f){for(var l=t(u[0],f[0]),y=1;y<u.length;++y)l=i(l,t(u[y],f[y]));return l}},2227:function(v,p,r){var t=r(9660),i=r(9662),n=r(4078),u=r(8289),f=6;function l(b){var s=b===3?c:b===4?o:b===5?d:T;return s(i,n,t,u)}function y(){return 0}function h(){return 0}function M(){return 0}function c(b,s,L,A){function k(_,U,F){var z=L(_[0],_[0]),B=A(z,U[0]),N=A(z,F[0]),V=L(U[0],U[0]),W=A(V,_[0]),Q=A(V,F[0]),re=L(F[0],F[0]),ne=A(re,_[0]),fe=A(re,U[0]),$=b(s(fe,Q),s(W,B)),X=s(ne,N),oe=s($,X);return oe[oe.length-1]}return k}function o(b,s,L,A){function k(_,U,F,z){var B=b(L(_[0],_[0]),L(_[1],_[1])),N=A(B,U[0]),V=A(B,F[0]),W=A(B,z[0]),Q=b(L(U[0],U[0]),L(U[1],U[1])),re=A(Q,_[0]),ne=A(Q,F[0]),fe=A(Q,z[0]),$=b(L(F[0],F[0]),L(F[1],F[1])),X=A($,_[0]),oe=A($,U[0]),Y=A($,z[0]),ee=b(L(z[0],z[0]),L(z[1],z[1])),se=A(ee,_[0]),q=A(ee,U[0]),K=A(ee,F[0]),le=b(b(A(s(K,Y),U[1]),b(A(s(q,fe),-F[1]),A(s(oe,ne),z[1]))),b(A(s(q,fe),_[1]),b(A(s(se,W),-U[1]),A(s(re,N),z[1])))),ie=b(b(A(s(K,Y),_[1]),b(A(s(se,W),-F[1]),A(s(X,V),z[1]))),b(A(s(oe,ne),_[1]),b(A(s(X,V),-U[1]),A(s(re,N),F[1])))),he=s(le,ie);return he[he.length-1]}return k}function d(b,s,L,A){function k(_,U,F,z,B){var N=b(L(_[0],_[0]),b(L(_[1],_[1]),L(_[2],_[2]))),V=A(N,U[0]),W=A(N,F[0]),Q=A(N,z[0]),re=A(N,B[0]),ne=b(L(U[0],U[0]),b(L(U[1],U[1]),L(U[2],U[2]))),fe=A(ne,_[0]),$=A(ne,F[0]),X=A(ne,z[0]),oe=A(ne,B[0]),Y=b(L(F[0],F[0]),b(L(F[1],F[1]),L(F[2],F[2]))),ee=A(Y,_[0]),se=A(Y,U[0]),q=A(Y,z[0]),K=A(Y,B[0]),le=b(L(z[0],z[0]),b(L(z[1],z[1]),L(z[2],z[2]))),ie=A(le,_[0]),he=A(le,U[0]),ye=A(le,F[0]),Ce=A(le,B[0]),Ae=b(L(B[0],B[0]),b(L(B[1],B[1]),L(B[2],B[2]))),ke=A(Ae,_[0]),we=A(Ae,U[0]),Ee=A(Ae,F[0]),xe=A(Ae,z[0]),Re=b(b(b(A(b(A(s(xe,Ce),F[1]),b(A(s(Ee,K),-z[1]),A(s(ye,q),B[1]))),U[2]),b(A(b(A(s(xe,Ce),U[1]),b(A(s(we,oe),-z[1]),A(s(he,X),B[1]))),-F[2]),A(b(A(s(Ee,K),U[1]),b(A(s(we,oe),-F[1]),A(s(se,$),B[1]))),z[2]))),b(A(b(A(s(ye,q),U[1]),b(A(s(he,X),-F[1]),A(s(se,$),z[1]))),-B[2]),b(A(b(A(s(xe,Ce),U[1]),b(A(s(we,oe),-z[1]),A(s(he,X),B[1]))),_[2]),A(b(A(s(xe,Ce),_[1]),b(A(s(ke,re),-z[1]),A(s(ie,Q),B[1]))),-U[2])))),b(b(A(b(A(s(we,oe),_[1]),b(A(s(ke,re),-U[1]),A(s(fe,V),B[1]))),z[2]),b(A(b(A(s(he,X),_[1]),b(A(s(ie,Q),-U[1]),A(s(fe,V),z[1]))),-B[2]),A(b(A(s(ye,q),U[1]),b(A(s(he,X),-F[1]),A(s(se,$),z[1]))),_[2]))),b(A(b(A(s(ye,q),_[1]),b(A(s(ie,Q),-F[1]),A(s(ee,W),z[1]))),-U[2]),b(A(b(A(s(he,X),_[1]),b(A(s(ie,Q),-U[1]),A(s(fe,V),z[1]))),F[2]),A(b(A(s(se,$),_[1]),b(A(s(ee,W),-U[1]),A(s(fe,V),F[1]))),-z[2]))))),Ve=b(b(b(A(b(A(s(xe,Ce),F[1]),b(A(s(Ee,K),-z[1]),A(s(ye,q),B[1]))),_[2]),A(b(A(s(xe,Ce),_[1]),b(A(s(ke,re),-z[1]),A(s(ie,Q),B[1]))),-F[2])),b(A(b(A(s(Ee,K),_[1]),b(A(s(ke,re),-F[1]),A(s(ee,W),B[1]))),z[2]),A(b(A(s(ye,q),_[1]),b(A(s(ie,Q),-F[1]),A(s(ee,W),z[1]))),-B[2]))),b(b(A(b(A(s(Ee,K),U[1]),b(A(s(we,oe),-F[1]),A(s(se,$),B[1]))),_[2]),A(b(A(s(Ee,K),_[1]),b(A(s(ke,re),-F[1]),A(s(ee,W),B[1]))),-U[2])),b(A(b(A(s(we,oe),_[1]),b(A(s(ke,re),-U[1]),A(s(fe,V),B[1]))),F[2]),A(b(A(s(se,$),_[1]),b(A(s(ee,W),-U[1]),A(s(fe,V),F[1]))),-B[2])))),Ue=s(Re,Ve);return Ue[Ue.length-1]}return k}function T(b,s,L,A){function k(_,U,F,z,B,N){var V=b(b(L(_[0],_[0]),L(_[1],_[1])),b(L(_[2],_[2]),L(_[3],_[3]))),W=A(V,U[0]),Q=A(V,F[0]),re=A(V,z[0]),ne=A(V,B[0]),fe=A(V,N[0]),$=b(b(L(U[0],U[0]),L(U[1],U[1])),b(L(U[2],U[2]),L(U[3],U[3]))),X=A($,_[0]),oe=A($,F[0]),Y=A($,z[0]),ee=A($,B[0]),se=A($,N[0]),q=b(b(L(F[0],F[0]),L(F[1],F[1])),b(L(F[2],F[2]),L(F[3],F[3]))),K=A(q,_[0]),le=A(q,U[0]),ie=A(q,z[0]),he=A(q,B[0]),ye=A(q,N[0]),Ce=b(b(L(z[0],z[0]),L(z[1],z[1])),b(L(z[2],z[2]),L(z[3],z[3]))),Ae=A(Ce,_[0]),ke=A(Ce,U[0]),we=A(Ce,F[0]),Ee=A(Ce,B[0]),xe=A(Ce,N[0]),Re=b(b(L(B[0],B[0]),L(B[1],B[1])),b(L(B[2],B[2]),L(B[3],B[3]))),Ve=A(Re,_[0]),Ue=A(Re,U[0]),Be=A(Re,F[0]),Xe=A(Re,z[0]),ut=A(Re,N[0]),dt=b(b(L(N[0],N[0]),L(N[1],N[1])),b(L(N[2],N[2]),L(N[3],N[3]))),at=A(dt,_[0]),We=A(dt,U[0]),rt=A(dt,F[0]),st=A(dt,z[0]),ht=A(dt,B[0]),vt=b(b(b(A(b(b(A(b(A(s(ht,ut),z[1]),b(A(s(st,xe),-B[1]),A(s(Xe,Ee),N[1]))),F[2]),A(b(A(s(ht,ut),F[1]),b(A(s(rt,ye),-B[1]),A(s(Be,he),N[1]))),-z[2])),b(A(b(A(s(st,xe),F[1]),b(A(s(rt,ye),-z[1]),A(s(we,ie),N[1]))),B[2]),A(b(A(s(Xe,Ee),F[1]),b(A(s(Be,he),-z[1]),A(s(we,ie),B[1]))),-N[2]))),U[3]),b(A(b(b(A(b(A(s(ht,ut),z[1]),b(A(s(st,xe),-B[1]),A(s(Xe,Ee),N[1]))),U[2]),A(b(A(s(ht,ut),U[1]),b(A(s(We,se),-B[1]),A(s(Ue,ee),N[1]))),-z[2])),b(A(b(A(s(st,xe),U[1]),b(A(s(We,se),-z[1]),A(s(ke,Y),N[1]))),B[2]),A(b(A(s(Xe,Ee),U[1]),b(A(s(Ue,ee),-z[1]),A(s(ke,Y),B[1]))),-N[2]))),-F[3]),A(b(b(A(b(A(s(ht,ut),F[1]),b(A(s(rt,ye),-B[1]),A(s(Be,he),N[1]))),U[2]),A(b(A(s(ht,ut),U[1]),b(A(s(We,se),-B[1]),A(s(Ue,ee),N[1]))),-F[2])),b(A(b(A(s(rt,ye),U[1]),b(A(s(We,se),-F[1]),A(s(le,oe),N[1]))),B[2]),A(b(A(s(Be,he),U[1]),b(A(s(Ue,ee),-F[1]),A(s(le,oe),B[1]))),-N[2]))),z[3]))),b(b(A(b(b(A(b(A(s(st,xe),F[1]),b(A(s(rt,ye),-z[1]),A(s(we,ie),N[1]))),U[2]),A(b(A(s(st,xe),U[1]),b(A(s(We,se),-z[1]),A(s(ke,Y),N[1]))),-F[2])),b(A(b(A(s(rt,ye),U[1]),b(A(s(We,se),-F[1]),A(s(le,oe),N[1]))),z[2]),A(b(A(s(we,ie),U[1]),b(A(s(ke,Y),-F[1]),A(s(le,oe),z[1]))),-N[2]))),-B[3]),A(b(b(A(b(A(s(Xe,Ee),F[1]),b(A(s(Be,he),-z[1]),A(s(we,ie),B[1]))),U[2]),A(b(A(s(Xe,Ee),U[1]),b(A(s(Ue,ee),-z[1]),A(s(ke,Y),B[1]))),-F[2])),b(A(b(A(s(Be,he),U[1]),b(A(s(Ue,ee),-F[1]),A(s(le,oe),B[1]))),z[2]),A(b(A(s(we,ie),U[1]),b(A(s(ke,Y),-F[1]),A(s(le,oe),z[1]))),-B[2]))),N[3])),b(A(b(b(A(b(A(s(ht,ut),z[1]),b(A(s(st,xe),-B[1]),A(s(Xe,Ee),N[1]))),U[2]),A(b(A(s(ht,ut),U[1]),b(A(s(We,se),-B[1]),A(s(Ue,ee),N[1]))),-z[2])),b(A(b(A(s(st,xe),U[1]),b(A(s(We,se),-z[1]),A(s(ke,Y),N[1]))),B[2]),A(b(A(s(Xe,Ee),U[1]),b(A(s(Ue,ee),-z[1]),A(s(ke,Y),B[1]))),-N[2]))),_[3]),A(b(b(A(b(A(s(ht,ut),z[1]),b(A(s(st,xe),-B[1]),A(s(Xe,Ee),N[1]))),_[2]),A(b(A(s(ht,ut),_[1]),b(A(s(at,fe),-B[1]),A(s(Ve,ne),N[1]))),-z[2])),b(A(b(A(s(st,xe),_[1]),b(A(s(at,fe),-z[1]),A(s(Ae,re),N[1]))),B[2]),A(b(A(s(Xe,Ee),_[1]),b(A(s(Ve,ne),-z[1]),A(s(Ae,re),B[1]))),-N[2]))),-U[3])))),b(b(b(A(b(b(A(b(A(s(ht,ut),U[1]),b(A(s(We,se),-B[1]),A(s(Ue,ee),N[1]))),_[2]),A(b(A(s(ht,ut),_[1]),b(A(s(at,fe),-B[1]),A(s(Ve,ne),N[1]))),-U[2])),b(A(b(A(s(We,se),_[1]),b(A(s(at,fe),-U[1]),A(s(X,W),N[1]))),B[2]),A(b(A(s(Ue,ee),_[1]),b(A(s(Ve,ne),-U[1]),A(s(X,W),B[1]))),-N[2]))),z[3]),A(b(b(A(b(A(s(st,xe),U[1]),b(A(s(We,se),-z[1]),A(s(ke,Y),N[1]))),_[2]),A(b(A(s(st,xe),_[1]),b(A(s(at,fe),-z[1]),A(s(Ae,re),N[1]))),-U[2])),b(A(b(A(s(We,se),_[1]),b(A(s(at,fe),-U[1]),A(s(X,W),N[1]))),z[2]),A(b(A(s(ke,Y),_[1]),b(A(s(Ae,re),-U[1]),A(s(X,W),z[1]))),-N[2]))),-B[3])),b(A(b(b(A(b(A(s(Xe,Ee),U[1]),b(A(s(Ue,ee),-z[1]),A(s(ke,Y),B[1]))),_[2]),A(b(A(s(Xe,Ee),_[1]),b(A(s(Ve,ne),-z[1]),A(s(Ae,re),B[1]))),-U[2])),b(A(b(A(s(Ue,ee),_[1]),b(A(s(Ve,ne),-U[1]),A(s(X,W),B[1]))),z[2]),A(b(A(s(ke,Y),_[1]),b(A(s(Ae,re),-U[1]),A(s(X,W),z[1]))),-B[2]))),N[3]),A(b(b(A(b(A(s(st,xe),F[1]),b(A(s(rt,ye),-z[1]),A(s(we,ie),N[1]))),U[2]),A(b(A(s(st,xe),U[1]),b(A(s(We,se),-z[1]),A(s(ke,Y),N[1]))),-F[2])),b(A(b(A(s(rt,ye),U[1]),b(A(s(We,se),-F[1]),A(s(le,oe),N[1]))),z[2]),A(b(A(s(we,ie),U[1]),b(A(s(ke,Y),-F[1]),A(s(le,oe),z[1]))),-N[2]))),_[3]))),b(b(A(b(b(A(b(A(s(st,xe),F[1]),b(A(s(rt,ye),-z[1]),A(s(we,ie),N[1]))),_[2]),A(b(A(s(st,xe),_[1]),b(A(s(at,fe),-z[1]),A(s(Ae,re),N[1]))),-F[2])),b(A(b(A(s(rt,ye),_[1]),b(A(s(at,fe),-F[1]),A(s(K,Q),N[1]))),z[2]),A(b(A(s(we,ie),_[1]),b(A(s(Ae,re),-F[1]),A(s(K,Q),z[1]))),-N[2]))),-U[3]),A(b(b(A(b(A(s(st,xe),U[1]),b(A(s(We,se),-z[1]),A(s(ke,Y),N[1]))),_[2]),A(b(A(s(st,xe),_[1]),b(A(s(at,fe),-z[1]),A(s(Ae,re),N[1]))),-U[2])),b(A(b(A(s(We,se),_[1]),b(A(s(at,fe),-U[1]),A(s(X,W),N[1]))),z[2]),A(b(A(s(ke,Y),_[1]),b(A(s(Ae,re),-U[1]),A(s(X,W),z[1]))),-N[2]))),F[3])),b(A(b(b(A(b(A(s(rt,ye),U[1]),b(A(s(We,se),-F[1]),A(s(le,oe),N[1]))),_[2]),A(b(A(s(rt,ye),_[1]),b(A(s(at,fe),-F[1]),A(s(K,Q),N[1]))),-U[2])),b(A(b(A(s(We,se),_[1]),b(A(s(at,fe),-U[1]),A(s(X,W),N[1]))),F[2]),A(b(A(s(le,oe),_[1]),b(A(s(K,Q),-U[1]),A(s(X,W),F[1]))),-N[2]))),-z[3]),A(b(b(A(b(A(s(we,ie),U[1]),b(A(s(ke,Y),-F[1]),A(s(le,oe),z[1]))),_[2]),A(b(A(s(we,ie),_[1]),b(A(s(Ae,re),-F[1]),A(s(K,Q),z[1]))),-U[2])),b(A(b(A(s(ke,Y),_[1]),b(A(s(Ae,re),-U[1]),A(s(X,W),z[1]))),F[2]),A(b(A(s(le,oe),_[1]),b(A(s(K,Q),-U[1]),A(s(X,W),F[1]))),-z[2]))),N[3]))))),At=b(b(b(A(b(b(A(b(A(s(ht,ut),z[1]),b(A(s(st,xe),-B[1]),A(s(Xe,Ee),N[1]))),F[2]),A(b(A(s(ht,ut),F[1]),b(A(s(rt,ye),-B[1]),A(s(Be,he),N[1]))),-z[2])),b(A(b(A(s(st,xe),F[1]),b(A(s(rt,ye),-z[1]),A(s(we,ie),N[1]))),B[2]),A(b(A(s(Xe,Ee),F[1]),b(A(s(Be,he),-z[1]),A(s(we,ie),B[1]))),-N[2]))),_[3]),b(A(b(b(A(b(A(s(ht,ut),z[1]),b(A(s(st,xe),-B[1]),A(s(Xe,Ee),N[1]))),_[2]),A(b(A(s(ht,ut),_[1]),b(A(s(at,fe),-B[1]),A(s(Ve,ne),N[1]))),-z[2])),b(A(b(A(s(st,xe),_[1]),b(A(s(at,fe),-z[1]),A(s(Ae,re),N[1]))),B[2]),A(b(A(s(Xe,Ee),_[1]),b(A(s(Ve,ne),-z[1]),A(s(Ae,re),B[1]))),-N[2]))),-F[3]),A(b(b(A(b(A(s(ht,ut),F[1]),b(A(s(rt,ye),-B[1]),A(s(Be,he),N[1]))),_[2]),A(b(A(s(ht,ut),_[1]),b(A(s(at,fe),-B[1]),A(s(Ve,ne),N[1]))),-F[2])),b(A(b(A(s(rt,ye),_[1]),b(A(s(at,fe),-F[1]),A(s(K,Q),N[1]))),B[2]),A(b(A(s(Be,he),_[1]),b(A(s(Ve,ne),-F[1]),A(s(K,Q),B[1]))),-N[2]))),z[3]))),b(b(A(b(b(A(b(A(s(st,xe),F[1]),b(A(s(rt,ye),-z[1]),A(s(we,ie),N[1]))),_[2]),A(b(A(s(st,xe),_[1]),b(A(s(at,fe),-z[1]),A(s(Ae,re),N[1]))),-F[2])),b(A(b(A(s(rt,ye),_[1]),b(A(s(at,fe),-F[1]),A(s(K,Q),N[1]))),z[2]),A(b(A(s(we,ie),_[1]),b(A(s(Ae,re),-F[1]),A(s(K,Q),z[1]))),-N[2]))),-B[3]),A(b(b(A(b(A(s(Xe,Ee),F[1]),b(A(s(Be,he),-z[1]),A(s(we,ie),B[1]))),_[2]),A(b(A(s(Xe,Ee),_[1]),b(A(s(Ve,ne),-z[1]),A(s(Ae,re),B[1]))),-F[2])),b(A(b(A(s(Be,he),_[1]),b(A(s(Ve,ne),-F[1]),A(s(K,Q),B[1]))),z[2]),A(b(A(s(we,ie),_[1]),b(A(s(Ae,re),-F[1]),A(s(K,Q),z[1]))),-B[2]))),N[3])),b(A(b(b(A(b(A(s(ht,ut),F[1]),b(A(s(rt,ye),-B[1]),A(s(Be,he),N[1]))),U[2]),A(b(A(s(ht,ut),U[1]),b(A(s(We,se),-B[1]),A(s(Ue,ee),N[1]))),-F[2])),b(A(b(A(s(rt,ye),U[1]),b(A(s(We,se),-F[1]),A(s(le,oe),N[1]))),B[2]),A(b(A(s(Be,he),U[1]),b(A(s(Ue,ee),-F[1]),A(s(le,oe),B[1]))),-N[2]))),_[3]),A(b(b(A(b(A(s(ht,ut),F[1]),b(A(s(rt,ye),-B[1]),A(s(Be,he),N[1]))),_[2]),A(b(A(s(ht,ut),_[1]),b(A(s(at,fe),-B[1]),A(s(Ve,ne),N[1]))),-F[2])),b(A(b(A(s(rt,ye),_[1]),b(A(s(at,fe),-F[1]),A(s(K,Q),N[1]))),B[2]),A(b(A(s(Be,he),_[1]),b(A(s(Ve,ne),-F[1]),A(s(K,Q),B[1]))),-N[2]))),-U[3])))),b(b(b(A(b(b(A(b(A(s(ht,ut),U[1]),b(A(s(We,se),-B[1]),A(s(Ue,ee),N[1]))),_[2]),A(b(A(s(ht,ut),_[1]),b(A(s(at,fe),-B[1]),A(s(Ve,ne),N[1]))),-U[2])),b(A(b(A(s(We,se),_[1]),b(A(s(at,fe),-U[1]),A(s(X,W),N[1]))),B[2]),A(b(A(s(Ue,ee),_[1]),b(A(s(Ve,ne),-U[1]),A(s(X,W),B[1]))),-N[2]))),F[3]),A(b(b(A(b(A(s(rt,ye),U[1]),b(A(s(We,se),-F[1]),A(s(le,oe),N[1]))),_[2]),A(b(A(s(rt,ye),_[1]),b(A(s(at,fe),-F[1]),A(s(K,Q),N[1]))),-U[2])),b(A(b(A(s(We,se),_[1]),b(A(s(at,fe),-U[1]),A(s(X,W),N[1]))),F[2]),A(b(A(s(le,oe),_[1]),b(A(s(K,Q),-U[1]),A(s(X,W),F[1]))),-N[2]))),-B[3])),b(A(b(b(A(b(A(s(Be,he),U[1]),b(A(s(Ue,ee),-F[1]),A(s(le,oe),B[1]))),_[2]),A(b(A(s(Be,he),_[1]),b(A(s(Ve,ne),-F[1]),A(s(K,Q),B[1]))),-U[2])),b(A(b(A(s(Ue,ee),_[1]),b(A(s(Ve,ne),-U[1]),A(s(X,W),B[1]))),F[2]),A(b(A(s(le,oe),_[1]),b(A(s(K,Q),-U[1]),A(s(X,W),F[1]))),-B[2]))),N[3]),A(b(b(A(b(A(s(Xe,Ee),F[1]),b(A(s(Be,he),-z[1]),A(s(we,ie),B[1]))),U[2]),A(b(A(s(Xe,Ee),U[1]),b(A(s(Ue,ee),-z[1]),A(s(ke,Y),B[1]))),-F[2])),b(A(b(A(s(Be,he),U[1]),b(A(s(Ue,ee),-F[1]),A(s(le,oe),B[1]))),z[2]),A(b(A(s(we,ie),U[1]),b(A(s(ke,Y),-F[1]),A(s(le,oe),z[1]))),-B[2]))),_[3]))),b(b(A(b(b(A(b(A(s(Xe,Ee),F[1]),b(A(s(Be,he),-z[1]),A(s(we,ie),B[1]))),_[2]),A(b(A(s(Xe,Ee),_[1]),b(A(s(Ve,ne),-z[1]),A(s(Ae,re),B[1]))),-F[2])),b(A(b(A(s(Be,he),_[1]),b(A(s(Ve,ne),-F[1]),A(s(K,Q),B[1]))),z[2]),A(b(A(s(we,ie),_[1]),b(A(s(Ae,re),-F[1]),A(s(K,Q),z[1]))),-B[2]))),-U[3]),A(b(b(A(b(A(s(Xe,Ee),U[1]),b(A(s(Ue,ee),-z[1]),A(s(ke,Y),B[1]))),_[2]),A(b(A(s(Xe,Ee),_[1]),b(A(s(Ve,ne),-z[1]),A(s(Ae,re),B[1]))),-U[2])),b(A(b(A(s(Ue,ee),_[1]),b(A(s(Ve,ne),-U[1]),A(s(X,W),B[1]))),z[2]),A(b(A(s(ke,Y),_[1]),b(A(s(Ae,re),-U[1]),A(s(X,W),z[1]))),-B[2]))),F[3])),b(A(b(b(A(b(A(s(Be,he),U[1]),b(A(s(Ue,ee),-F[1]),A(s(le,oe),B[1]))),_[2]),A(b(A(s(Be,he),_[1]),b(A(s(Ve,ne),-F[1]),A(s(K,Q),B[1]))),-U[2])),b(A(b(A(s(Ue,ee),_[1]),b(A(s(Ve,ne),-U[1]),A(s(X,W),B[1]))),F[2]),A(b(A(s(le,oe),_[1]),b(A(s(K,Q),-U[1]),A(s(X,W),F[1]))),-B[2]))),-z[3]),A(b(b(A(b(A(s(we,ie),U[1]),b(A(s(ke,Y),-F[1]),A(s(le,oe),z[1]))),_[2]),A(b(A(s(we,ie),_[1]),b(A(s(Ae,re),-F[1]),A(s(K,Q),z[1]))),-U[2])),b(A(b(A(s(ke,Y),_[1]),b(A(s(Ae,re),-U[1]),A(s(X,W),z[1]))),F[2]),A(b(A(s(le,oe),_[1]),b(A(s(K,Q),-U[1]),A(s(X,W),F[1]))),-z[2]))),B[3]))))),tt=s(vt,At);return tt[tt.length-1]}return k}var S=[y,h,M];function C(b){var s=S[b.length];return s||(s=S[b.length]=l(b.length)),s.apply(void 0,b)}function m(b,s,L,A,k,_,U,F){function z(B,N,V,W,Q,re){switch(arguments.length){case 0:case 1:return 0;case 2:return A(B,N);case 3:return k(B,N,V);case 4:return _(B,N,V,W);case 5:return U(B,N,V,W,Q);case 6:return F(B,N,V,W,Q,re)}for(var ne=new Array(arguments.length),fe=0;fe<arguments.length;++fe)ne[fe]=arguments[fe];return b(ne)}return z}function E(){for(;S.length<=f;)S.push(l(S.length));v.exports=m.apply(void 0,[C].concat(S));for(var b=0;b<=f;++b)v.exports[b]=S[b]}E()},6606:function(v,p,r){var t=r(8167),i=6;function n(S){var C=S===2?l:S===3?y:S===4?h:S===5?M:c;return S<6?C(t[S]):C(t)}function u(){return[[0]]}function f(S,C){return[[C[0]],[S[0][0]]]}function l(S){return function(m,E){return[S([[+E[0],+m[0][1]],[+E[1],+m[1][1]]]),S([[+m[0][0],+E[0]],[+m[1][0],+E[1]]]),S(m)]}}function y(S){return function(m,E){return[S([[+E[0],+m[0][1],+m[0][2]],[+E[1],+m[1][1],+m[1][2]],[+E[2],+m[2][1],+m[2][2]]]),S([[+m[0][0],+E[0],+m[0][2]],[+m[1][0],+E[1],+m[1][2]],[+m[2][0],+E[2],+m[2][2]]]),S([[+m[0][0],+m[0][1],+E[0]],[+m[1][0],+m[1][1],+E[1]],[+m[2][0],+m[2][1],+E[2]]]),S(m)]}}function h(S){return function(m,E){return[S([[+E[0],+m[0][1],+m[0][2],+m[0][3]],[+E[1],+m[1][1],+m[1][2],+m[1][3]],[+E[2],+m[2][1],+m[2][2],+m[2][3]],[+E[3],+m[3][1],+m[3][2],+m[3][3]]]),S([[+m[0][0],+E[0],+m[0][2],+m[0][3]],[+m[1][0],+E[1],+m[1][2],+m[1][3]],[+m[2][0],+E[2],+m[2][2],+m[2][3]],[+m[3][0],+E[3],+m[3][2],+m[3][3]]]),S([[+m[0][0],+m[0][1],+E[0],+m[0][3]],[+m[1][0],+m[1][1],+E[1],+m[1][3]],[+m[2][0],+m[2][1],+E[2],+m[2][3]],[+m[3][0],+m[3][1],+E[3],+m[3][3]]]),S([[+m[0][0],+m[0][1],+m[0][2],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+E[3]]]),S(m)]}}function M(S){return function(m,E){return[S([[+E[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+E[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+E[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+E[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+E[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),S([[+m[0][0],+E[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+E[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+E[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+E[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+E[4],+m[4][2],+m[4][3],+m[4][4]]]),S([[+m[0][0],+m[0][1],+E[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+E[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+E[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+E[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+E[4],+m[4][3],+m[4][4]]]),S([[+m[0][0],+m[0][1],+m[0][2],+E[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+E[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+E[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+E[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+E[4],+m[4][4]]]),S([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+E[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+E[4]]]),S(m)]}}function c(S){return function(m,E){return[S([[+E[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+E[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+E[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+E[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+E[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+E[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),S([[+m[0][0],+E[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+E[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+E[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+E[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+E[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+E[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),S([[+m[0][0],+m[0][1],+E[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+E[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+E[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+E[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+E[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+E[5],+m[5][3],+m[5][4],+m[5][5]]]),S([[+m[0][0],+m[0][1],+m[0][2],+E[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+E[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+E[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+E[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+E[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+E[5],+m[5][4],+m[5][5]]]),S([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+E[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+E[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+E[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+E[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+E[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+E[5],+m[5][5]]]),S([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+E[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+E[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+E[5]]]),S(m)]}}var o=[u,f];function d(S,C,m,E,b,s,L,A){return function(_,U){switch(_.length){case 0:return S(_,U);case 1:return C(_,U);case 2:return m(_,U);case 3:return E(_,U);case 4:return b(_,U);case 5:return s(_,U)}var F=L[_.length];return F||(F=L[_.length]=A(_.length)),F(_,U)}}function T(){for(;o.length<i;)o.push(n(o.length));v.exports=d.apply(void 0,o.concat([o,n]));for(var S=0;S<i;++S)v.exports[S]=o[S]}T()},417:function(v,p,r){var t=r(9660),i=r(9662),n=r(8289),u=r(4078),f=5,l=11102230246251565e-32,y=(3+16*l)*l,h=(7+56*l)*l;function M(s,L,A,k){return function(U,F,z){var B=s(s(L(F[1],z[0]),L(-z[1],F[0])),s(L(U[1],F[0]),L(-F[1],U[0]))),N=s(L(U[1],z[0]),L(-z[1],U[0])),V=k(B,N);return V[V.length-1]}}function c(s,L,A,k){return function(U,F,z,B){var N=s(s(A(s(L(z[1],B[0]),L(-B[1],z[0])),F[2]),s(A(s(L(F[1],B[0]),L(-B[1],F[0])),-z[2]),A(s(L(F[1],z[0]),L(-z[1],F[0])),B[2]))),s(A(s(L(F[1],B[0]),L(-B[1],F[0])),U[2]),s(A(s(L(U[1],B[0]),L(-B[1],U[0])),-F[2]),A(s(L(U[1],F[0]),L(-F[1],U[0])),B[2])))),V=s(s(A(s(L(z[1],B[0]),L(-B[1],z[0])),U[2]),s(A(s(L(U[1],B[0]),L(-B[1],U[0])),-z[2]),A(s(L(U[1],z[0]),L(-z[1],U[0])),B[2]))),s(A(s(L(F[1],z[0]),L(-z[1],F[0])),U[2]),s(A(s(L(U[1],z[0]),L(-z[1],U[0])),-F[2]),A(s(L(U[1],F[0]),L(-F[1],U[0])),z[2])))),W=k(N,V);return W[W.length-1]}}function o(s,L,A,k){return function(U,F,z,B,N){var V=s(s(s(A(s(A(s(L(B[1],N[0]),L(-N[1],B[0])),z[2]),s(A(s(L(z[1],N[0]),L(-N[1],z[0])),-B[2]),A(s(L(z[1],B[0]),L(-B[1],z[0])),N[2]))),F[3]),s(A(s(A(s(L(B[1],N[0]),L(-N[1],B[0])),F[2]),s(A(s(L(F[1],N[0]),L(-N[1],F[0])),-B[2]),A(s(L(F[1],B[0]),L(-B[1],F[0])),N[2]))),-z[3]),A(s(A(s(L(z[1],N[0]),L(-N[1],z[0])),F[2]),s(A(s(L(F[1],N[0]),L(-N[1],F[0])),-z[2]),A(s(L(F[1],z[0]),L(-z[1],F[0])),N[2]))),B[3]))),s(A(s(A(s(L(z[1],B[0]),L(-B[1],z[0])),F[2]),s(A(s(L(F[1],B[0]),L(-B[1],F[0])),-z[2]),A(s(L(F[1],z[0]),L(-z[1],F[0])),B[2]))),-N[3]),s(A(s(A(s(L(B[1],N[0]),L(-N[1],B[0])),F[2]),s(A(s(L(F[1],N[0]),L(-N[1],F[0])),-B[2]),A(s(L(F[1],B[0]),L(-B[1],F[0])),N[2]))),U[3]),A(s(A(s(L(B[1],N[0]),L(-N[1],B[0])),U[2]),s(A(s(L(U[1],N[0]),L(-N[1],U[0])),-B[2]),A(s(L(U[1],B[0]),L(-B[1],U[0])),N[2]))),-F[3])))),s(s(A(s(A(s(L(F[1],N[0]),L(-N[1],F[0])),U[2]),s(A(s(L(U[1],N[0]),L(-N[1],U[0])),-F[2]),A(s(L(U[1],F[0]),L(-F[1],U[0])),N[2]))),B[3]),s(A(s(A(s(L(F[1],B[0]),L(-B[1],F[0])),U[2]),s(A(s(L(U[1],B[0]),L(-B[1],U[0])),-F[2]),A(s(L(U[1],F[0]),L(-F[1],U[0])),B[2]))),-N[3]),A(s(A(s(L(z[1],B[0]),L(-B[1],z[0])),F[2]),s(A(s(L(F[1],B[0]),L(-B[1],F[0])),-z[2]),A(s(L(F[1],z[0]),L(-z[1],F[0])),B[2]))),U[3]))),s(A(s(A(s(L(z[1],B[0]),L(-B[1],z[0])),U[2]),s(A(s(L(U[1],B[0]),L(-B[1],U[0])),-z[2]),A(s(L(U[1],z[0]),L(-z[1],U[0])),B[2]))),-F[3]),s(A(s(A(s(L(F[1],B[0]),L(-B[1],F[0])),U[2]),s(A(s(L(U[1],B[0]),L(-B[1],U[0])),-F[2]),A(s(L(U[1],F[0]),L(-F[1],U[0])),B[2]))),z[3]),A(s(A(s(L(F[1],z[0]),L(-z[1],F[0])),U[2]),s(A(s(L(U[1],z[0]),L(-z[1],U[0])),-F[2]),A(s(L(U[1],F[0]),L(-F[1],U[0])),z[2]))),-B[3]))))),W=s(s(s(A(s(A(s(L(B[1],N[0]),L(-N[1],B[0])),z[2]),s(A(s(L(z[1],N[0]),L(-N[1],z[0])),-B[2]),A(s(L(z[1],B[0]),L(-B[1],z[0])),N[2]))),U[3]),A(s(A(s(L(B[1],N[0]),L(-N[1],B[0])),U[2]),s(A(s(L(U[1],N[0]),L(-N[1],U[0])),-B[2]),A(s(L(U[1],B[0]),L(-B[1],U[0])),N[2]))),-z[3])),s(A(s(A(s(L(z[1],N[0]),L(-N[1],z[0])),U[2]),s(A(s(L(U[1],N[0]),L(-N[1],U[0])),-z[2]),A(s(L(U[1],z[0]),L(-z[1],U[0])),N[2]))),B[3]),A(s(A(s(L(z[1],B[0]),L(-B[1],z[0])),U[2]),s(A(s(L(U[1],B[0]),L(-B[1],U[0])),-z[2]),A(s(L(U[1],z[0]),L(-z[1],U[0])),B[2]))),-N[3]))),s(s(A(s(A(s(L(z[1],N[0]),L(-N[1],z[0])),F[2]),s(A(s(L(F[1],N[0]),L(-N[1],F[0])),-z[2]),A(s(L(F[1],z[0]),L(-z[1],F[0])),N[2]))),U[3]),A(s(A(s(L(z[1],N[0]),L(-N[1],z[0])),U[2]),s(A(s(L(U[1],N[0]),L(-N[1],U[0])),-z[2]),A(s(L(U[1],z[0]),L(-z[1],U[0])),N[2]))),-F[3])),s(A(s(A(s(L(F[1],N[0]),L(-N[1],F[0])),U[2]),s(A(s(L(U[1],N[0]),L(-N[1],U[0])),-F[2]),A(s(L(U[1],F[0]),L(-F[1],U[0])),N[2]))),z[3]),A(s(A(s(L(F[1],z[0]),L(-z[1],F[0])),U[2]),s(A(s(L(U[1],z[0]),L(-z[1],U[0])),-F[2]),A(s(L(U[1],F[0]),L(-F[1],U[0])),z[2]))),-N[3])))),Q=k(V,W);return Q[Q.length-1]}}function d(s){var L=s===3?M:s===4?c:o;return L(i,t,n,u)}var T=d(3),S=d(4),C=[function(){return 0},function(){return 0},function(L,A){return A[0]-L[0]},function(L,A,k){var _=(L[1]-k[1])*(A[0]-k[0]),U=(L[0]-k[0])*(A[1]-k[1]),F=_-U,z;if(_>0){if(U<=0)return F;z=_+U}else if(_<0){if(U>=0)return F;z=-(_+U)}else return F;var B=y*z;return F>=B||F<=-B?F:T(L,A,k)},function(L,A,k,_){var U=L[0]-_[0],F=A[0]-_[0],z=k[0]-_[0],B=L[1]-_[1],N=A[1]-_[1],V=k[1]-_[1],W=L[2]-_[2],Q=A[2]-_[2],re=k[2]-_[2],ne=F*V,fe=z*N,$=z*B,X=U*V,oe=U*N,Y=F*B,ee=W*(ne-fe)+Q*($-X)+re*(oe-Y),se=(Math.abs(ne)+Math.abs(fe))*Math.abs(W)+(Math.abs($)+Math.abs(X))*Math.abs(Q)+(Math.abs(oe)+Math.abs(Y))*Math.abs(re),q=h*se;return ee>q||-ee>q?ee:S(L,A,k,_)}];function m(s){var L=C[s.length];return L||(L=C[s.length]=d(s.length)),L.apply(void 0,s)}function E(s,L,A,k,_,U,F){return function(B,N,V,W,Q){switch(arguments.length){case 0:case 1:return 0;case 2:return k(B,N);case 3:return _(B,N,V);case 4:return U(B,N,V,W);case 5:return F(B,N,V,W,Q)}for(var re=new Array(arguments.length),ne=0;ne<arguments.length;++ne)re[ne]=arguments[ne];return s(re)}}function b(){for(;C.length<=f;)C.push(d(C.length));v.exports=E.apply(void 0,[m].concat(C));for(var s=0;s<=f;++s)v.exports[s]=C[s]}b()},2019:function(v,p,r){var t=r(9662),i=r(8289);v.exports=n;function n(u,f){if(u.length===1)return i(f,u[0]);if(f.length===1)return i(u,f[0]);if(u.length===0||f.length===0)return[0];var l=[0];if(u.length<f.length)for(var y=0;y<u.length;++y)l=t(l,i(f,u[y]));else for(var y=0;y<f.length;++y)l=t(l,i(u,f[y]));return l}},8289:function(v,p,r){var t=r(9660),i=r(87);v.exports=n;function n(u,f){var l=u.length;if(l===1){var y=t(u[0],f);return y[0]?y:[y[1]]}var h=new Array(2*l),M=[.1,.1],c=[.1,.1],o=0;t(u[0],f,M),M[0]&&(h[o++]=M[0]);for(var d=1;d<l;++d){t(u[d],f,c);var T=M[1];i(T,c[0],M),M[0]&&(h[o++]=M[0]);var S=c[1],C=M[1],m=S+C,E=m-S,b=C-E;M[1]=m,b&&(h[o++]=b)}return M[1]&&(h[o++]=M[1]),o===0&&(h[o++]=0),h.length=o,h}},4434:function(v,p,r){v.exports=n;var t=r(417)[3];function i(u,f,l,y){for(var h=0;h<2;++h){var M=u[h],c=f[h],o=Math.min(M,c),d=Math.max(M,c),T=l[h],S=y[h],C=Math.min(T,S),m=Math.max(T,S);if(m<o||d<C)return!1}return!0}function n(u,f,l,y){var h=t(u,l,y),M=t(f,l,y);if(h>0&&M>0||h<0&&M<0)return!1;var c=t(l,u,f),o=t(y,u,f);return c>0&&o>0||c<0&&o<0?!1:h===0&&M===0&&c===0&&o===0?i(u,f,l,y):!0}},4078:function(v){v.exports=r;function p(t,i){var n=t+i,u=n-t,f=n-u,l=i-u,y=t-f,h=y+l;return h?[h,n]:[n]}function r(t,i){var n=t.length|0,u=i.length|0;if(n===1&&u===1)return p(t[0],-i[0]);var f=n+u,l=new Array(f),y=0,h=0,M=0,c=Math.abs,o=t[h],d=c(o),T=-i[M],S=c(T),C,m;d<S?(m=o,h+=1,h<n&&(o=t[h],d=c(o))):(m=T,M+=1,M<u&&(T=-i[M],S=c(T))),h<n&&d<S||M>=u?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=T,M+=1,M<u&&(T=-i[M],S=c(T)));for(var E=C+m,b=E-C,s=m-b,L=s,A=E,k,_,U,F,z;h<n&&M<u;)d<S?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=T,M+=1,M<u&&(T=-i[M],S=c(T))),m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=A+E,_=k-A,U=k-_,F=E-_,z=A-U,L=z+F,A=k;for(;h<n;)C=o,m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=A+E,_=k-A,U=k-_,F=E-_,z=A-U,L=z+F,A=k,h+=1,h<n&&(o=t[h]);for(;M<u;)C=T,m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=A+E,_=k-A,U=k-_,F=E-_,z=A-U,L=z+F,A=k,M+=1,M<u&&(T=-i[M]);return L&&(l[y++]=L),A&&(l[y++]=A),y||(l[y++]=0),l.length=y,l}},9662:function(v){v.exports=r;function p(t,i){var n=t+i,u=n-t,f=n-u,l=i-u,y=t-f,h=y+l;return h?[h,n]:[n]}function r(t,i){var n=t.length|0,u=i.length|0;if(n===1&&u===1)return p(t[0],i[0]);var f=n+u,l=new Array(f),y=0,h=0,M=0,c=Math.abs,o=t[h],d=c(o),T=i[M],S=c(T),C,m;d<S?(m=o,h+=1,h<n&&(o=t[h],d=c(o))):(m=T,M+=1,M<u&&(T=i[M],S=c(T))),h<n&&d<S||M>=u?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=T,M+=1,M<u&&(T=i[M],S=c(T)));for(var E=C+m,b=E-C,s=m-b,L=s,A=E,k,_,U,F,z;h<n&&M<u;)d<S?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=T,M+=1,M<u&&(T=i[M],S=c(T))),m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=A+E,_=k-A,U=k-_,F=E-_,z=A-U,L=z+F,A=k;for(;h<n;)C=o,m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=A+E,_=k-A,U=k-_,F=E-_,z=A-U,L=z+F,A=k,h+=1,h<n&&(o=t[h]);for(;M<u;)C=T,m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=A+E,_=k-A,U=k-_,F=E-_,z=A-U,L=z+F,A=k,M+=1,M<u&&(T=i[M]);return L&&(l[y++]=L),A&&(l[y++]=A),y||(l[y++]=0),l.length=y,l}},8691:function(v,p,r){v.exports=n;var t=r(2692),i=r(7037);function n(u){return i(t(u))}},7212:function(v,p,r){v.exports=o;var t=r(5050),i=r(5306),n=r(8729),u=r(1168);function f(d){for(var T=d.length,S=0,C=0;C<T;++C)S=Math.max(S,d[C].length)|0;return S-1}function l(d,T){for(var S=d.length,C=i.mallocUint8(S),m=0;m<S;++m)C[m]=d[m]<T|0;return C}function y(d,T){for(var S=d.length,C=T*(T+1)/2*S|0,m=i.mallocUint32(C*2),E=0,b=0;b<S;++b)for(var s=d[b],T=s.length,L=0;L<T;++L)for(var A=0;A<L;++A){var k=s[A],_=s[L];m[E++]=Math.min(k,_)|0,m[E++]=Math.max(k,_)|0}var U=E/2|0;n(t(m,[U,2]));for(var F=2,b=2;b<E;b+=2)m[b-2]===m[b]&&m[b-1]===m[b+1]||(m[F++]=m[b],m[F++]=m[b+1]);return t(m,[F/2|0,2])}function h(d,T,S,C){for(var m=d.data,E=d.shape[0],b=i.mallocDouble(E),s=0,L=0;L<E;++L){var A=m[2*L],k=m[2*L+1];if(S[A]!==S[k]){var _=T[A],U=T[k];m[2*s]=A,m[2*s+1]=k,b[s++]=(U-C)/(U-_)}}return d.shape[0]=s,t(b,[s])}function M(d,T){var S=i.mallocInt32(T*2),C=d.shape[0],m=d.data;S[0]=0;for(var E=0,b=0;b<C;++b){var s=m[2*b];if(s!==E){for(S[2*E+1]=b;++E<s;)S[2*E]=b,S[2*E+1]=b;S[2*E]=b}}for(S[2*E+1]=C;++E<T;)S[2*E]=S[2*E+1]=C;return S}function c(d){for(var T=d.shape[0]|0,S=d.data,C=new Array(T),m=0;m<T;++m)C[m]=[S[2*m],S[2*m+1]];return C}function o(d,T,S,C){S=S||0,typeof C>"u"&&(C=f(d));var m=d.length;if(m===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=l(T,+S),b=y(d,C),s=h(b,T,E,+S),L=M(b,T.length|0),A=u(C)(d,b.data,L,E),k=c(b),_=[].slice.call(s.data,0,s.shape[0]);return i.free(E),i.free(b.data),i.free(s.data),i.free(L),{cells:A,vertexIds:k,vertexWeights:_}}},1168:function(v){v.exports=r;var p=[function(){function i(n,u,f,l){for(var y=n.length,h=[],M=0;M<y;++M){var c=n[M];c.length}return h}return i},function(){function i(u,f,l,y){for(var h=Math.min(l,y)|0,M=Math.max(l,y)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,T=f[2*d+1];if(T===M)return d;M<T?o=d:c=d+1}return c}function n(u,f,l,y){for(var h=u.length,M=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===2){var T=(y[o[0]]<<0)+(y[o[1]]<<1);if(T===0||T===3)continue;switch(T){case 0:break;case 1:M.push([i(l,f,o[0],o[1])]);break;case 2:M.push([i(l,f,o[1],o[0])]);break}}}return M}return n},function(){function i(u,f,l,y){for(var h=Math.min(l,y)|0,M=Math.max(l,y)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,T=f[2*d+1];if(T===M)return d;M<T?o=d:c=d+1}return c}function n(u,f,l,y){for(var h=u.length,M=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===3){var T=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2);if(T===0||T===7)continue;switch(T){case 0:break;case 1:M.push([i(l,f,o[0],o[2]),i(l,f,o[0],o[1])]);break;case 2:M.push([i(l,f,o[1],o[0]),i(l,f,o[1],o[2])]);break;case 3:M.push([i(l,f,o[0],o[2]),i(l,f,o[1],o[2])]);break;case 4:M.push([i(l,f,o[2],o[1]),i(l,f,o[2],o[0])]);break;case 5:M.push([i(l,f,o[2],o[1]),i(l,f,o[0],o[1])]);break;case 6:M.push([i(l,f,o[1],o[0]),i(l,f,o[2],o[0])]);break}}else if(d===2){var T=(y[o[0]]<<0)+(y[o[1]]<<1);if(T===0||T===3)continue;switch(T){case 0:break;case 1:M.push([i(l,f,o[0],o[1])]);break;case 2:M.push([i(l,f,o[1],o[0])]);break}}}return M}return n},function(){function i(u,f,l,y){for(var h=Math.min(l,y)|0,M=Math.max(l,y)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,T=f[2*d+1];if(T===M)return d;M<T?o=d:c=d+1}return c}function n(u,f,l,y){for(var h=u.length,M=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===4){var T=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2)+(y[o[3]]<<3);if(T===0||T===15)continue;switch(T){case 0:break;case 1:M.push([i(l,f,o[0],o[1]),i(l,f,o[0],o[2]),i(l,f,o[0],o[3])]);break;case 2:M.push([i(l,f,o[1],o[2]),i(l,f,o[1],o[0]),i(l,f,o[1],o[3])]);break;case 3:M.push([i(l,f,o[1],o[2]),i(l,f,o[0],o[2]),i(l,f,o[0],o[3])],[i(l,f,o[1],o[3]),i(l,f,o[1],o[2]),i(l,f,o[0],o[3])]);break;case 4:M.push([i(l,f,o[2],o[0]),i(l,f,o[2],o[1]),i(l,f,o[2],o[3])]);break;case 5:M.push([i(l,f,o[0],o[1]),i(l,f,o[2],o[1]),i(l,f,o[0],o[3])],[i(l,f,o[2],o[1]),i(l,f,o[2],o[3]),i(l,f,o[0],o[3])]);break;case 6:M.push([i(l,f,o[2],o[0]),i(l,f,o[1],o[0]),i(l,f,o[1],o[3])],[i(l,f,o[2],o[3]),i(l,f,o[2],o[0]),i(l,f,o[1],o[3])]);break;case 7:M.push([i(l,f,o[0],o[3]),i(l,f,o[1],o[3]),i(l,f,o[2],o[3])]);break;case 8:M.push([i(l,f,o[3],o[1]),i(l,f,o[3],o[0]),i(l,f,o[3],o[2])]);break;case 9:M.push([i(l,f,o[3],o[1]),i(l,f,o[0],o[1]),i(l,f,o[0],o[2])],[i(l,f,o[3],o[2]),i(l,f,o[3],o[1]),i(l,f,o[0],o[2])]);break;case 10:M.push([i(l,f,o[1],o[0]),i(l,f,o[3],o[0]),i(l,f,o[1],o[2])],[i(l,f,o[3],o[0]),i(l,f,o[3],o[2]),i(l,f,o[1],o[2])]);break;case 11:M.push([i(l,f,o[1],o[2]),i(l,f,o[0],o[2]),i(l,f,o[3],o[2])]);break;case 12:M.push([i(l,f,o[3],o[0]),i(l,f,o[2],o[0]),i(l,f,o[2],o[1])],[i(l,f,o[3],o[1]),i(l,f,o[3],o[0]),i(l,f,o[2],o[1])]);break;case 13:M.push([i(l,f,o[0],o[1]),i(l,f,o[2],o[1]),i(l,f,o[3],o[1])]);break;case 14:M.push([i(l,f,o[2],o[0]),i(l,f,o[1],o[0]),i(l,f,o[3],o[0])]);break}}else if(d===3){var T=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2);if(T===0||T===7)continue;switch(T){case 0:break;case 1:M.push([i(l,f,o[0],o[2]),i(l,f,o[0],o[1])]);break;case 2:M.push([i(l,f,o[1],o[0]),i(l,f,o[1],o[2])]);break;case 3:M.push([i(l,f,o[0],o[2]),i(l,f,o[1],o[2])]);break;case 4:M.push([i(l,f,o[2],o[1]),i(l,f,o[2],o[0])]);break;case 5:M.push([i(l,f,o[2],o[1]),i(l,f,o[0],o[1])]);break;case 6:M.push([i(l,f,o[1],o[0]),i(l,f,o[2],o[0])]);break}}else if(d===2){var T=(y[o[0]]<<0)+(y[o[1]]<<1);if(T===0||T===3)continue;switch(T){case 0:break;case 1:M.push([i(l,f,o[0],o[1])]);break;case 2:M.push([i(l,f,o[1],o[0])]);break}}}return M}return n}];function r(t){return p[t]()}},8211:function(v,p,r){r(2288),r(1731);function t(i,n){var u=i.length,f=i.length-n.length,l=Math.min;if(f)return f;switch(u){case 0:return 0;case 1:return i[0]-n[0];case 2:var o=i[0]+i[1]-n[0]-n[1];return o||l(i[0],i[1])-l(n[0],n[1]);case 3:var y=i[0]+i[1],h=n[0]+n[1];if(o=y+i[2]-(h+n[2]),o)return o;var M=l(i[0],i[1]),c=l(n[0],n[1]),o=l(M,i[2])-l(c,n[2]);return o||l(M+i[2],y)-l(c+n[2],h);default:var d=i.slice(0);d.sort();var T=n.slice(0);T.sort();for(var S=0;S<u;++S)if(f=d[S]-T[S],f)return f;return 0}}p.H=t},9392:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var u=n>>r-1;return(n^u)-u},p.min=function(n,u){return u^(n^u)&-(n<u)},p.max=function(n,u){return n^(n^u)&-(n<u)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var u,f;return u=(n>65535)<<4,n>>>=u,f=(n>255)<<3,n>>>=f,u|=f,f=(n>15)<<2,n>>>=f,u|=f,f=(n>3)<<1,n>>>=f,u|=f,u|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var u=0;u<256;++u){var f=u,l=u,y=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--y;n[u]=l<<y&255}})(i),p.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},p.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},p.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,u,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},p.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>t(n)+1}},6656:function(v,p,r){"use restrict";var t=r(9392),i=r(9521);function n(s){for(var L=0,A=Math.max,k=0,_=s.length;k<_;++k)L=A(L,s[k].length);return L-1}p.dimension=n;function u(s){for(var L=-1,A=Math.max,k=0,_=s.length;k<_;++k)for(var U=s[k],F=0,z=U.length;F<z;++F)L=A(L,U[F]);return L+1}p.countVertices=u;function f(s){for(var L=new Array(s.length),A=0,k=s.length;A<k;++A)L[A]=s[A].slice(0);return L}p.cloneCells=f;function l(s,L){var A=s.length,k=s.length-L.length,_=Math.min;if(k)return k;switch(A){case 0:return 0;case 1:return s[0]-L[0];case 2:var N=s[0]+s[1]-L[0]-L[1];return N||_(s[0],s[1])-_(L[0],L[1]);case 3:var U=s[0]+s[1],F=L[0]+L[1];if(N=U+s[2]-(F+L[2]),N)return N;var z=_(s[0],s[1]),B=_(L[0],L[1]),N=_(z,s[2])-_(B,L[2]);return N||_(z+s[2],U)-_(B+L[2],F);default:var V=s.slice(0);V.sort();var W=L.slice(0);W.sort();for(var Q=0;Q<A;++Q)if(k=V[Q]-W[Q],k)return k;return 0}}p.compareCells=l;function y(s,L){return l(s[0],L[0])}function h(s,L){if(L){for(var A=s.length,k=new Array(A),_=0;_<A;++_)k[_]=[s[_],L[_]];k.sort(y);for(var _=0;_<A;++_)s[_]=k[_][0],L[_]=k[_][1];return s}else return s.sort(l),s}p.normalize=h;function M(s){if(s.length===0)return[];for(var L=1,A=s.length,k=1;k<A;++k){var _=s[k];if(l(_,s[k-1])){if(k===L){L++;continue}s[L++]=_}}return s.length=L,s}p.unique=M;function c(s,L){for(var A=0,k=s.length-1,_=-1;A<=k;){var U=A+k>>1,F=l(s[U],L);F<=0?(F===0&&(_=U),A=U+1):F>0&&(k=U-1)}return _}p.findCell=c;function o(s,L){for(var A=new Array(s.length),k=0,_=A.length;k<_;++k)A[k]=[];for(var U=[],k=0,F=L.length;k<F;++k)for(var z=L[k],B=z.length,N=1,V=1<<B;N<V;++N){U.length=t.popCount(N);for(var W=0,Q=0;Q<B;++Q)N&1<<Q&&(U[W++]=z[Q]);var re=c(s,U);if(!(re<0))for(;A[re++].push(k),!(re>=s.length||l(s[re],U)!==0););}return A}p.incidence=o;function d(s,L){if(!L)return o(M(S(s,0)),s);for(var A=new Array(L),k=0;k<L;++k)A[k]=[];for(var k=0,_=s.length;k<_;++k)for(var U=s[k],F=0,z=U.length;F<z;++F)A[U[F]].push(k);return A}p.dual=d;function T(s){for(var L=[],A=0,k=s.length;A<k;++A)for(var _=s[A],U=_.length|0,F=1,z=1<<U;F<z;++F){for(var B=[],N=0;N<U;++N)F>>>N&1&&B.push(_[N]);L.push(B)}return h(L)}p.explode=T;function S(s,L){if(L<0)return[];for(var A=[],k=(1<<L+1)-1,_=0;_<s.length;++_)for(var U=s[_],F=k;F<1<<U.length;F=t.nextCombination(F)){for(var z=new Array(L+1),B=0,N=0;N<U.length;++N)F&1<<N&&(z[B++]=U[N]);A.push(z)}return h(A)}p.skeleton=S;function C(s){for(var L=[],A=0,k=s.length;A<k;++A)for(var _=s[A],U=0,F=_.length;U<F;++U){for(var z=new Array(_.length-1),B=0,N=0;B<F;++B)B!==U&&(z[N++]=_[B]);L.push(z)}return h(L)}p.boundary=C;function m(s,L){for(var A=new i(L),k=0;k<s.length;++k)for(var _=s[k],U=0;U<_.length;++U)for(var F=U+1;F<_.length;++F)A.link(_[U],_[F]);for(var z=[],B=A.ranks,k=0;k<B.length;++k)B[k]=-1;for(var k=0;k<s.length;++k){var N=A.find(s[k][0]);B[N]<0?(B[N]=z.length,z.push([s[k].slice(0)])):z[B[N]].push(s[k].slice(0))}return z}function E(s){for(var L=M(h(S(s,0))),A=new i(L.length),k=0;k<s.length;++k)for(var _=s[k],U=0;U<_.length;++U)for(var F=c(L,[_[U]]),z=U+1;z<_.length;++z)A.link(F,c(L,[_[z]]));for(var B=[],N=A.ranks,k=0;k<N.length;++k)N[k]=-1;for(var k=0;k<s.length;++k){var V=A.find(c(L,[s[k][0]]));N[V]<0?(N[V]=B.length,B.push([s[k].slice(0)])):B[N[V]].push(s[k].slice(0))}return B}function b(s,L){return L?m(s,L):E(s)}p.connectedComponents=b},9521:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var i=t[r];t[r]=t[i],r=i}return r},p.prototype.link=function(r,t){var i=this.find(r),n=this.find(t);if(i!==n){var u=this.ranks,f=this.roots,l=u[i],y=u[n];l<y?f[i]=n:y<l?f[n]=i:(f[n]=i,++u[i])}}},8243:function(v,p,r){v.exports=u;var t=r(417),i=r(6656);function n(f,l,y){var h=Math.abs(t(f,l,y)),M=Math.sqrt(Math.pow(l[0]-y[0],2)+Math.pow(l[1]-y[1],2));return h/M}function u(f,l,y){for(var h=l.length,M=f.length,c=new Array(h),o=new Array(h),d=new Array(h),T=new Array(h),S=0;S<h;++S)c[S]=o[S]=-1,d[S]=1/0,T[S]=!1;for(var S=0;S<M;++S){var C=f[S];if(C.length!==2)throw new Error("Input must be a graph");var m=C[1],E=C[0];o[E]!==-1?o[E]=-2:o[E]=m,c[m]!==-1?c[m]=-2:c[m]=E}function b($){if(T[$])return 1/0;var X=c[$],oe=o[$];return X<0||oe<0?1/0:n(l[$],l[X],l[oe])}function s($,X){var oe=B[$],Y=B[X];B[$]=Y,B[X]=oe,N[oe]=X,N[Y]=$}function L($){return d[B[$]]}function A($){return $&1?$-1>>1:($>>1)-1}function k($){for(var X=L($);;){var oe=X,Y=2*$+1,ee=2*($+1),se=$;if(Y<W){var q=L(Y);q<oe&&(se=Y,oe=q)}if(ee<W){var K=L(ee);K<oe&&(se=ee)}if(se===$)return $;s($,se),$=se}}function _($){for(var X=L($);$>0;){var oe=A($);if(oe>=0){var Y=L(oe);if(X<Y){s($,oe),$=oe;continue}}return $}}function U(){if(W>0){var $=B[0];return s(0,W-1),W-=1,k(0),$}return-1}function F($,X){var oe=B[$];return d[oe]===X?$:(d[oe]=-1/0,_($),U(),d[oe]=X,W+=1,_(W-1))}function z($){if(!T[$]){T[$]=!0;var X=c[$],oe=o[$];c[oe]>=0&&(c[oe]=X),o[X]>=0&&(o[X]=oe),N[X]>=0&&F(N[X],b(X)),N[oe]>=0&&F(N[oe],b(oe))}}for(var B=[],N=new Array(h),S=0;S<h;++S){var V=d[S]=b(S);V<1/0?(N[S]=B.length,B.push(S)):N[S]=-1}for(var W=B.length,S=W>>1;S>=0;--S)k(S);for(;;){var Q=U();if(Q<0||d[Q]>y)break;z(Q)}for(var re=[],S=0;S<h;++S)T[S]||(N[S]=re.length,re.push(l[S].slice()));re.length;function ne($,X){if($[X]<0)return X;var oe=X,Y=X;do{var ee=$[Y];if(!T[Y]||ee<0||ee===Y||(Y=ee,ee=$[Y],!T[Y]||ee<0||ee===Y))break;Y=ee,oe=$[oe]}while(oe!==Y);for(var se=X;se!==Y;se=$[se])$[se]=Y;return Y}var fe=[];return f.forEach(function($){var X=ne(c,$[0]),oe=ne(o,$[1]);if(X>=0&&oe>=0&&X!==oe){var Y=N[X],ee=N[oe];Y!==ee&&fe.push([Y,ee])}}),i.unique(i.normalize(fe)),{positions:re,edges:fe}}},6638:function(v,p,r){v.exports=n;var t=r(417);function i(u,f){var l,y;if(f[0][0]<f[1][0])l=f[0],y=f[1];else if(f[0][0]>f[1][0])l=f[1],y=f[0];else{var h=Math.min(u[0][1],u[1][1]),M=Math.max(u[0][1],u[1][1]),c=Math.min(f[0][1],f[1][1]),o=Math.max(f[0][1],f[1][1]);return M<c?M-c:h>o?h-o:M-o}var d,T;u[0][1]<u[1][1]?(d=u[0],T=u[1]):(d=u[1],T=u[0]);var S=t(y,l,d);return S||(S=t(y,l,T),S)?S:T-y}function n(u,f){var l,y;if(f[0][0]<f[1][0])l=f[0],y=f[1];else if(f[0][0]>f[1][0])l=f[1],y=f[0];else return i(f,u);var h,M;if(u[0][0]<u[1][0])h=u[0],M=u[1];else if(u[0][0]>u[1][0])h=u[1],M=u[0];else return-i(u,f);var c=t(l,y,M),o=t(l,y,h);if(c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;if(c=t(M,h,y),o=t(M,h,l),c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;return y[0]-M[0]}},4385:function(v,p,r){v.exports=o;var t=r(5070),i=r(7080),n=r(417),u=r(6638);function f(d,T,S){this.slabs=d,this.coordinates=T,this.horizontal=S}var l=f.prototype;function y(d,T){return d.y-T}function h(d,T){for(var S=null;d;){var C=d.key,m,E;C[0][0]<C[1][0]?(m=C[0],E=C[1]):(m=C[1],E=C[0]);var b=n(m,E,T);if(b<0)d=d.left;else if(b>0)if(T[0]!==C[1][0])S=d,d=d.right;else{var s=h(d.right,T);if(s)return s;d=d.left}else{if(T[0]!==C[1][0])return d;var s=h(d.right,T);if(s)return s;d=d.left}}return S}l.castUp=function(d){var T=t.le(this.coordinates,d[0]);if(T<0)return-1;this.slabs[T];var S=h(this.slabs[T],d),C=-1;if(S&&(C=S.value),this.coordinates[T]===d[0]){var m=null;if(S&&(m=S.key),T>0){var E=h(this.slabs[T-1],d);E&&(m?u(E.key,m)>0&&(m=E.key,C=E.value):(C=E.value,m=E.key))}var b=this.horizontal[T];if(b.length>0){var s=t.ge(b,d[1],y);if(s<b.length){var L=b[s];if(d[1]===L.y){if(L.closed)return L.index;for(;s<b.length-1&&b[s+1].y===d[1];)if(s=s+1,L=b[s],L.closed)return L.index;if(L.y===d[1]&&!L.start){if(s=s+1,s>=b.length)return C;L=b[s]}}if(L.start)if(m){var A=n(m[0],m[1],[d[0],L.y]);m[0][0]>m[1][0]&&(A=-A),A>0&&(C=L.index)}else C=L.index;else L.y!==d[1]&&(C=L.index)}}}return C};function M(d,T,S,C){this.y=d,this.index=T,this.start=S,this.closed=C}function c(d,T,S,C){this.x=d,this.segment=T,this.create=S,this.index=C}function o(d){for(var T=d.length,S=2*T,C=new Array(S),m=0;m<T;++m){var E=d[m],b=E[0][0]<E[1][0];C[2*m]=new c(E[0][0],E,b,m),C[2*m+1]=new c(E[1][0],E,!b,m)}C.sort(function(z,B){var N=z.x-B.x;return N||(N=z.create-B.create,N)?N:Math.min(z.segment[0][1],z.segment[1][1])-Math.min(B.segment[0][1],B.segment[1][1])});for(var s=i(u),L=[],A=[],k=[],m=0;m<S;){for(var _=C[m].x,U=[];m<S;){var F=C[m];if(F.x!==_)break;m+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(U.push(new M(F.segment[0][1],F.index,!0,!0)),U.push(new M(F.segment[1][1],F.index,!1,!1))):(U.push(new M(F.segment[1][1],F.index,!0,!1)),U.push(new M(F.segment[0][1],F.index,!1,!0)))):F.create?s=s.insert(F.segment,F.index):s=s.remove(F.segment)}L.push(s.root),A.push(_),k.push(U)}return new f(L,A,k)}},4670:function(v,p,r){var t=r(9130),i=r(9662);v.exports=f,v.exports.positive=l,v.exports.negative=y;function n(h,M){var c=i(t(h,M),[M[M.length-1]]);return c[c.length-1]}function u(h,M,c,o){var d=o-M,T=-M/d;T<0?T=0:T>1&&(T=1);for(var S=1-T,C=h.length,m=new Array(C),E=0;E<C;++E)m[E]=T*h[E]+S*c[E];return m}function f(h,M){for(var c=[],o=[],d=n(h[h.length-1],M),T=h[h.length-1],S=h[0],C=0;C<h.length;++C,T=S){S=h[C];var m=n(S,M);if(d<0&&m>0||d>0&&m<0){var E=u(T,m,S,d);c.push(E),o.push(E.slice())}m<0?o.push(S.slice()):m>0?c.push(S.slice()):(c.push(S.slice()),o.push(S.slice())),d=m}return{positive:c,negative:o}}function l(h,M){for(var c=[],o=n(h[h.length-1],M),d=h[h.length-1],T=h[0],S=0;S<h.length;++S,d=T){T=h[S];var C=n(T,M);(o<0&&C>0||o>0&&C<0)&&c.push(u(d,C,T,o)),C>=0&&c.push(T.slice()),o=C}return c}function y(h,M){for(var c=[],o=n(h[h.length-1],M),d=h[h.length-1],T=h[0],S=0;S<h.length;++S,d=T){T=h[S];var C=n(T,M);(o<0&&C>0||o>0&&C<0)&&c.push(u(d,C,T,o)),C<=0&&c.push(T.slice()),o=C}return c}},8974:function(v,p,r){var t;(function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return f(y(h),arguments)}function u(h,M){return n.apply(null,[h].concat(M||[]))}function f(h,M){var c=1,o=h.length,d,T="",S,C,m,E,b,s,L,A;for(S=0;S<o;S++)if(typeof h[S]=="string")T+=h[S];else if(typeof h[S]=="object"){if(m=h[S],m.keys)for(d=M[c],C=0;C<m.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[C],m.keys[C-1]));d=d[m.keys[C]]}else m.param_no?d=M[m.param_no]:d=M[c++];if(i.not_type.test(m.type)&&i.not_primitive.test(m.type)&&d instanceof Function&&(d=d()),i.numeric_arg.test(m.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(i.number.test(m.type)&&(L=d>=0),m.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,m.width?parseInt(m.width):0);break;case"e":d=m.precision?parseFloat(d).toExponential(m.precision):parseFloat(d).toExponential();break;case"f":d=m.precision?parseFloat(d).toFixed(m.precision):parseFloat(d);break;case"g":d=m.precision?String(Number(d.toPrecision(m.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=m.precision?d.substring(0,m.precision):d;break;case"t":d=String(!!d),d=m.precision?d.substring(0,m.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=m.precision?d.substring(0,m.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=m.precision?d.substring(0,m.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}i.json.test(m.type)?T+=d:(i.number.test(m.type)&&(!L||m.sign)?(A=L?"+":"-",d=d.toString().replace(i.sign,"")):A="",b=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",s=m.width-(A+d).length,E=m.width&&s>0?b.repeat(s):"",T+=m.align?A+d+E:b==="0"?A+E+d:E+A+d)}return T}var l=Object.create(null);function y(h){if(l[h])return l[h];for(var M=h,c,o=[],d=0;M;){if((c=i.text.exec(M))!==null)o.push(c[0]);else if((c=i.modulo.exec(M))!==null)o.push("%");else if((c=i.placeholder.exec(M))!==null){if(c[2]){d|=1;var T=[],S=c[2],C=[];if((C=i.key.exec(S))!==null)for(T.push(C[1]);(S=S.substring(C[0].length))!=="";)if((C=i.key_access.exec(S))!==null)T.push(C[1]);else if((C=i.index_access.exec(S))!==null)T.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=T}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");M=M.substring(c[0].length)}return l[h]=o}p.sprintf=n,p.vsprintf=u,typeof window<"u"&&(window.sprintf=n,window.vsprintf=u,t=(function(){return{sprintf:n,vsprintf:u}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},4162:function(v,p,r){v.exports=y;var t=r(9284),i=r(9584),n={"2d":function(h,M,c){var o=h({order:M,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(T,S,C,m){return T>m|0},vertex:function(T,S,C,m,E,b,s,L,A,k,_,U,F){var z=(s<<0)+(L<<1)+(A<<2)+(k<<3)|0;if(!(z===0||z===15))switch(z){case 0:_.push([T-.5,S-.5]);break;case 1:_.push([T-.25-.25*(m+C-2*F)/(C-m),S-.25-.25*(E+C-2*F)/(C-E)]);break;case 2:_.push([T-.75-.25*(-m-C+2*F)/(m-C),S-.25-.25*(b+m-2*F)/(m-b)]);break;case 3:_.push([T-.5,S-.5-.5*(E+C+b+m-4*F)/(C-E+m-b)]);break;case 4:_.push([T-.25-.25*(b+E-2*F)/(E-b),S-.75-.25*(-E-C+2*F)/(E-C)]);break;case 5:_.push([T-.5-.5*(m+C+b+E-4*F)/(C-m+E-b),S-.5]);break;case 6:_.push([T-.5-.25*(-m-C+b+E)/(m-C+E-b),S-.5-.25*(-E-C+b+m)/(E-C+m-b)]);break;case 7:_.push([T-.75-.25*(b+E-2*F)/(E-b),S-.75-.25*(b+m-2*F)/(m-b)]);break;case 8:_.push([T-.75-.25*(-b-E+2*F)/(b-E),S-.75-.25*(-b-m+2*F)/(b-m)]);break;case 9:_.push([T-.5-.25*(m+C+-b-E)/(C-m+b-E),S-.5-.25*(E+C+-b-m)/(C-E+b-m)]);break;case 10:_.push([T-.5-.5*(-m-C+-b-E+4*F)/(m-C+b-E),S-.5]);break;case 11:_.push([T-.25-.25*(-b-E+2*F)/(b-E),S-.75-.25*(E+C-2*F)/(C-E)]);break;case 12:_.push([T-.5,S-.5-.5*(-E-C+-b-m+4*F)/(E-C+b-m)]);break;case 13:_.push([T-.75-.25*(m+C-2*F)/(C-m),S-.25-.25*(-b-m+2*F)/(b-m)]);break;case 14:_.push([T-.25-.25*(-m-C+2*F)/(m-C),S-.25-.25*(-E-C+2*F)/(E-C)]);break;case 15:_.push([T-.5,S-.5]);break}},cell:function(T,S,C,m,E,b,s,L,A){E?L.push([T,S]):L.push([S,T])}});return function(d,T){var S=[],C=[];return o(d,S,C,T),{positions:S,cells:C}}}};function u(h,M){var c=h.length+"d",o=n[c];if(o)return o(t,h,M)}function f(h,M){for(var c=i(h,M),o=c.length,d=new Array(o),T=new Array(o),S=0;S<o;++S)d[S]=[c[S]],T[S]=[S];return{positions:d,cells:T}}var l={};function y(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return f(h,d);var c=h.order.join()+"-"+h.dtype,o=l[c],d=+d||0;return o||(o=l[c]=u(h.order,h.dtype)),o(h,d)}},6946:function(v,p,r){v.exports=f;var t=r(875),i=window||g.global||{},n=i.__TEXT_CACHE||{};i.__TEXT_CACHE={};function u(l){for(var y=l.cells,h=l.positions,M=new Float32Array(y.length*6),c=0,o=0,d=0;d<y.length;++d)for(var T=y[d],S=0;S<3;++S){var C=h[T[S]];M[c++]=C[0],M[c++]=C[1]+1.4,o=Math.max(C[0],o)}return{data:M,shape:o}}function f(l,y,M){var M=M||{},c=n[l];c||(c=n[l]={" ":{data:new Float32Array(0),shape:.2}});var o=c[y];if(!o)if(y.length<=1||!/\d/.test(y))o=c[y]=u(t(y,{triangles:!0,font:l,textAlign:M.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=y.split(/(\d|\s)/),T=new Array(d.length),S=0,C=0,m=0;m<d.length;++m)T[m]=f(l,d[m]),S+=T[m].data.length,C+=T[m].shape,m>0&&(C+=.02);for(var E=new Float32Array(S),b=0,s=-.5*C,m=0;m<T.length;++m){for(var L=T[m].data,A=0;A<L.length;A+=2)E[b++]=L[A]+s,E[b++]=L[A+1];s+=T[m].shape+.02}o=c[y]={data:E,shape:C}}return o}},14:function(v,p,r){var t=r(4405);v.exports=f;var i=96;function n(l,y){var h=t(getComputedStyle(l).getPropertyValue(y));return h[0]*f(h[1],l)}function u(l,y){var h=document.createElement("div");h.style["font-size"]="128"+l,y.appendChild(h);var M=n(h,"font-size")/128;return y.removeChild(h),M}function f(l,y){switch(y=y||document.body,l=(l||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),l){case"%":return y.clientHeight/100;case"ch":case"ex":return u(l,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},3440:function(v,p,r){v.exports=T;var t=r(8444),i=r(7437),n=r(4422),u=r(903),f=r(899),l=r(9305);function y(S,C,m){return Math.sqrt(Math.pow(S,2)+Math.pow(C,2)+Math.pow(m,2))}function h(S){return Math.min(1,Math.max(-1,S))}function M(S){var C=Math.abs(S[0]),m=Math.abs(S[1]),E=Math.abs(S[2]),b=[0,0,0];C>Math.max(m,E)?b[2]=1:m>Math.max(C,E)?b[0]=1:b[1]=1;for(var s=0,L=0,A=0;A<3;++A)s+=S[A]*S[A],L+=b[A]*S[A];for(var A=0;A<3;++A)b[A]-=L/s*S[A];return f(b,b),b}function c(S,C,m,E,b,s,L,A){this.center=t(m),this.up=t(E),this.right=t(b),this.radius=t([s]),this.angle=t([L,A]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(S,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var o=c.prototype;o.setDistanceLimits=function(S,C){S>0?S=Math.log(S):S=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,S),this.radius.bounds[0][0]=S,this.radius.bounds[1][0]=C},o.getDistanceLimits=function(S){var C=this.radius.bounds[0];return S?(S[0]=Math.exp(C[0][0]),S[1]=Math.exp(C[1][0]),S):[Math.exp(C[0][0]),Math.exp(C[1][0])]},o.recalcMatrix=function(S){this.center.curve(S),this.up.curve(S),this.right.curve(S),this.radius.curve(S),this.angle.curve(S);for(var C=this.computedUp,m=this.computedRight,E=0,b=0,s=0;s<3;++s)b+=C[s]*m[s],E+=C[s]*C[s];for(var L=Math.sqrt(E),A=0,s=0;s<3;++s)m[s]-=C[s]*b/E,A+=m[s]*m[s],C[s]/=L;for(var k=Math.sqrt(A),s=0;s<3;++s)m[s]/=k;var _=this.computedToward;u(_,C,m),f(_,_);for(var U=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],z=this.computedAngle[1],B=Math.cos(F),N=Math.sin(F),V=Math.cos(z),W=Math.sin(z),Q=this.computedCenter,re=B*V,ne=N*V,fe=W,$=-B*W,X=-N*W,oe=V,Y=this.computedEye,ee=this.computedMatrix,s=0;s<3;++s){var se=re*m[s]+ne*_[s]+fe*C[s];ee[4*s+1]=$*m[s]+X*_[s]+oe*C[s],ee[4*s+2]=se,ee[4*s+3]=0}var q=ee[1],K=ee[5],le=ee[9],ie=ee[2],he=ee[6],ye=ee[10],Ce=K*ye-le*he,Ae=le*ie-q*ye,ke=q*he-K*ie,we=y(Ce,Ae,ke);Ce/=we,Ae/=we,ke/=we,ee[0]=Ce,ee[4]=Ae,ee[8]=ke;for(var s=0;s<3;++s)Y[s]=Q[s]+ee[2+4*s]*U;for(var s=0;s<3;++s){for(var A=0,Ee=0;Ee<3;++Ee)A+=ee[s+4*Ee]*Y[Ee];ee[12+s]=-A}ee[15]=1},o.getMatrix=function(S,C){this.recalcMatrix(S);var m=this.computedMatrix;if(C){for(var E=0;E<16;++E)C[E]=m[E];return C}return m};var d=[0,0,0];o.rotate=function(S,C,m,E){if(this.angle.move(S,C,m),E){this.recalcMatrix(S);var b=this.computedMatrix;d[0]=b[2],d[1]=b[6],d[2]=b[10];for(var s=this.computedUp,L=this.computedRight,A=this.computedToward,k=0;k<3;++k)b[4*k]=s[k],b[4*k+1]=L[k],b[4*k+2]=A[k];n(b,b,E,d);for(var k=0;k<3;++k)s[k]=b[4*k],L[k]=b[4*k+1];this.up.set(S,s[0],s[1],s[2]),this.right.set(S,L[0],L[1],L[2])}},o.pan=function(S,C,m,E){C=C||0,m=m||0,E=E||0,this.recalcMatrix(S);var b=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=b[1],L=b[5],A=b[9],k=y(s,L,A);s/=k,L/=k,A/=k;var _=b[0],U=b[4],F=b[8],z=_*s+U*L+F*A;_-=s*z,U-=L*z,F-=A*z;var B=y(_,U,F);_/=B,U/=B,F/=B;var N=_*C+s*m,V=U*C+L*m,W=F*C+A*m;this.center.move(S,N,V,W);var Q=Math.exp(this.computedRadius[0]);Q=Math.max(1e-4,Q+E),this.radius.set(S,Math.log(Q))},o.translate=function(S,C,m,E){this.center.move(S,C||0,m||0,E||0)},o.setMatrix=function(S,C,m,E){var b=1;typeof m=="number"&&(b=m|0),(b<0||b>3)&&(b=1);var s=(b+2)%3;C||(this.recalcMatrix(S),C=this.computedMatrix);var L=C[b],A=C[b+4],k=C[b+8];if(E){var U=Math.abs(L),F=Math.abs(A),z=Math.abs(k),B=Math.max(U,F,z);U===B?(L=L<0?-1:1,A=k=0):z===B?(k=k<0?-1:1,L=A=0):(A=A<0?-1:1,L=k=0)}else{var _=y(L,A,k);L/=_,A/=_,k/=_}var N=C[s],V=C[s+4],W=C[s+8],Q=N*L+V*A+W*k;N-=L*Q,V-=A*Q,W-=k*Q;var re=y(N,V,W);N/=re,V/=re,W/=re;var ne=A*W-k*V,fe=k*N-L*W,$=L*V-A*N,X=y(ne,fe,$);ne/=X,fe/=X,$/=X,this.center.jump(S,Ue,Be,Xe),this.radius.idle(S),this.up.jump(S,L,A,k),this.right.jump(S,N,V,W);var oe,Y;if(b===2){var ee=C[1],se=C[5],q=C[9],K=ee*N+se*V+q*W,le=ee*ne+se*fe+q*$;Ce<0?oe=-Math.PI/2:oe=Math.PI/2,Y=Math.atan2(le,K)}else{var ie=C[2],he=C[6],ye=C[10],Ce=ie*L+he*A+ye*k,Ae=ie*N+he*V+ye*W,ke=ie*ne+he*fe+ye*$;oe=Math.asin(h(Ce)),Y=Math.atan2(ke,Ae)}this.angle.jump(S,Y,oe),this.recalcMatrix(S);var we=C[2],Ee=C[6],xe=C[10],Re=this.computedMatrix;i(Re,C);var Ve=Re[15],Ue=Re[12]/Ve,Be=Re[13]/Ve,Xe=Re[14]/Ve,ut=Math.exp(this.computedRadius[0]);this.center.jump(S,Ue-we*ut,Be-Ee*ut,Xe-xe*ut)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(S){this.center.idle(S),this.up.idle(S),this.right.idle(S),this.radius.idle(S),this.angle.idle(S)},o.flush=function(S){this.center.flush(S),this.up.flush(S),this.right.flush(S),this.radius.flush(S),this.angle.flush(S)},o.setDistance=function(S,C){C>0&&this.radius.set(S,Math.log(C))},o.lookAt=function(S,C,m,E){this.recalcMatrix(S),C=C||this.computedEye,m=m||this.computedCenter,E=E||this.computedUp;var b=E[0],s=E[1],L=E[2],A=y(b,s,L);if(!(A<1e-6)){b/=A,s/=A,L/=A;var k=C[0]-m[0],_=C[1]-m[1],U=C[2]-m[2],F=y(k,_,U);if(!(F<1e-6)){k/=F,_/=F,U/=F;var z=this.computedRight,B=z[0],N=z[1],V=z[2],W=b*B+s*N+L*V;B-=W*b,N-=W*s,V-=W*L;var Q=y(B,N,V);if(!(Q<.01&&(B=s*U-L*_,N=L*k-b*U,V=b*_-s*k,Q=y(B,N,V),Q<1e-6))){B/=Q,N/=Q,V/=Q,this.up.set(S,b,s,L),this.right.set(S,B,N,V),this.center.set(S,m[0],m[1],m[2]),this.radius.set(S,Math.log(F));var re=s*V-L*N,ne=L*B-b*V,fe=b*N-s*B,$=y(re,ne,fe);re/=$,ne/=$,fe/=$;var X=b*k+s*_+L*U,oe=B*k+N*_+V*U,Y=re*k+ne*_+fe*U,ee=Math.asin(h(X)),se=Math.atan2(Y,oe),q=this.angle._state,K=q[q.length-1],le=q[q.length-2];K=K%(2*Math.PI);var ie=Math.abs(K+2*Math.PI-se),he=Math.abs(K-se),ye=Math.abs(K-2*Math.PI-se);ie<he&&(K+=2*Math.PI),ye<he&&(K-=2*Math.PI),this.angle.jump(this.angle.lastT(),K,le),this.angle.set(S,se,ee)}}}};function T(S){S=S||{};var C=S.center||[0,0,0],m=S.up||[0,1,0],E=S.right||M(m),b=S.radius||1,s=S.theta||0,L=S.phi||0;if(C=[].slice.call(C,0,3),m=[].slice.call(m,0,3),f(m,m),E=[].slice.call(E,0,3),f(E,E),"eye"in S){var A=S.eye,k=[A[0]-C[0],A[1]-C[1],A[2]-C[2]];u(E,k,m),y(E[0],E[1],E[2])<1e-6?E=M(m):f(E,E),b=y(k[0],k[1],k[2]);var _=l(m,k)/b,U=l(E,k)/b;L=Math.acos(_),s=Math.acos(U)}return b=Math.log(b),new c(S.zoomMin,S.zoomMax,C,m,E,b,s,L)}},9660:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,i,n){var u=t*i,f=p*t,l=f-t,y=f-l,h=t-y,M=p*i,c=M-i,o=M-c,d=i-o,T=u-y*o,S=T-h*o,C=S-y*d,m=h*d-C;return n?(n[0]=m,n[1]=u,n):[m,u]}},87:function(v){v.exports=p;function p(r,t,i){var n=r+t,u=n-r,f=n-u,l=t-u,y=r-f;return i?(i[0]=y+l,i[1]=n,i):[y+l,n]}},5306:function(v,p,r){var t=r(2288),i=r(3094),n=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var u=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",y=r.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=i([32,0])),y.BIGUINT64||(y.BIGUINT64=i([32,0])),y.BIGINT64||(y.BIGINT64=i([32,0])),y.BUFFER||(y.BUFFER=i([32,0]));var h=y.DATA,M=y.BUFFER;p.free=function(B){if(n.isBuffer(B))M[t.log2(B.length)].push(B);else{if(Object.prototype.toString.call(B)!=="[object ArrayBuffer]"&&(B=B.buffer),!B)return;var N=B.length||B.byteLength,V=t.log2(N)|0;h[V].push(B)}};function c(z){if(z){var B=z.length||z.byteLength,N=t.log2(B);h[N].push(z)}}function o(z){c(z.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=o,p.freeArrayBuffer=c,p.freeBuffer=function(B){M[t.log2(B.length)].push(B)},p.malloc=function(B,N){if(N===void 0||N==="arraybuffer")return d(B);switch(N){case"uint8":return T(B);case"uint16":return S(B);case"uint32":return C(B);case"int8":return m(B);case"int16":return E(B);case"int32":return b(B);case"float":case"float32":return s(B);case"double":case"float64":return L(B);case"uint8_clamped":return A(B);case"bigint64":return _(B);case"biguint64":return k(B);case"buffer":return F(B);case"data":case"dataview":return U(B);default:return null}return null};function d(B){var B=t.nextPow2(B),N=t.log2(B),V=h[N];return V.length>0?V.pop():new ArrayBuffer(B)}p.mallocArrayBuffer=d;function T(z){return new Uint8Array(d(z),0,z)}p.mallocUint8=T;function S(z){return new Uint16Array(d(2*z),0,z)}p.mallocUint16=S;function C(z){return new Uint32Array(d(4*z),0,z)}p.mallocUint32=C;function m(z){return new Int8Array(d(z),0,z)}p.mallocInt8=m;function E(z){return new Int16Array(d(2*z),0,z)}p.mallocInt16=E;function b(z){return new Int32Array(d(4*z),0,z)}p.mallocInt32=b;function s(z){return new Float32Array(d(4*z),0,z)}p.mallocFloat32=p.mallocFloat=s;function L(z){return new Float64Array(d(8*z),0,z)}p.mallocFloat64=p.mallocDouble=L;function A(z){return u?new Uint8ClampedArray(d(z),0,z):T(z)}p.mallocUint8Clamped=A;function k(z){return f?new BigUint64Array(d(8*z),0,z):null}p.mallocBigUint64=k;function _(z){return l?new BigInt64Array(d(8*z),0,z):null}p.mallocBigInt64=_;function U(z){return new DataView(d(z),0,z)}p.mallocDataView=U;function F(z){z=t.nextPow2(z);var B=t.log2(z),N=M[B];return N.length>0?N.pop():new n(z)}p.mallocBuffer=F,p.clearCache=function(){for(var B=0;B<32;++B)y.UINT8[B].length=0,y.UINT16[B].length=0,y.UINT32[B].length=0,y.INT8[B].length=0,y.INT16[B].length=0,y.INT32[B].length=0,y.FLOAT[B].length=0,y.DOUBLE[B].length=0,y.BIGUINT64[B].length=0,y.BIGINT64[B].length=0,y.UINT8C[B].length=0,h[B].length=0,M[B].length=0}},1731:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var i=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[i]!==t;){var u=n[i];n[i]=t,i=u}return t},r.link=function(t,i){var n=this.find(t),u=this.find(i);if(n!==u){var f=this.ranks,l=this.roots,y=f[n],h=f[u];y<h?l[n]=u:h<y?l[u]=n:(l[u]=n,++f[n])}}},1215:function(v){function p(i,n){for(var u=1,f=i.length,l=i[0],y=i[0],h=1;h<f;++h)if(y=l,l=i[h],n(l,y)){if(h===u){u++;continue}i[u++]=l}return i.length=u,i}function r(i){for(var n=1,u=i.length,f=i[0],l=i[0],y=1;y<u;++y,l=f)if(l=f,f=i[y],f!==l){if(y===n){n++;continue}i[n++]=f}return i.length=n,i}function t(i,n,u){return i.length===0?i:n?(u||i.sort(n),p(i,n)):(u||i.sort(),r(i))}v.exports=t},875:function(v,p,r){v.exports=u;var t=r(712),i=null,n=null;typeof document<"u"&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,n=i.getContext("2d"));function u(f,l){return(typeof l!="object"||l===null)&&(l={}),t(f,l.canvas||i,l.context||n,l)}},712:function(v,p,r){v.exports=_,v.exports.processPixels=k;var t=r(4162),i=r(5050),n=r(8243),u=r(197),f=r(7761),l=r(8040),y="b",h="b|",M="i",c="i|",o="sup",d="+",T="+1",S="sub",C="-",m="-1";function E(U,F,z,B){for(var N="<"+U+">",V="</"+U+">",W=N.length,Q=V.length,re=F[0]===d||F[0]===C,ne=0,fe=-Q;ne>-1&&(ne=z.indexOf(N,ne),!(ne===-1||(fe=z.indexOf(V,ne+W),fe===-1)||fe<=ne));){for(var $=ne;$<fe+Q;++$)if($<ne+W||$>=fe)B[$]=null,z=z.substr(0,$)+" "+z.substr($+1);else if(B[$]!==null){var X=B[$].indexOf(F[0]);X===-1?B[$]+=F:re&&(B[$]=B[$].substr(0,X+1)+(1+parseInt(B[$][X+1]))+B[$].substr(X+2))}var oe=ne+W,Y=z.substr(oe,fe-oe),ee=Y.indexOf(N);ee!==-1?ne=ee:ne=fe+Q}return B}function b(U,F,z){for(var B=F.textAlign||"start",N=F.textBaseline||"alphabetic",V=[1<<30,1<<30],W=[0,0],Q=U.length,re=0;re<Q;++re)for(var ne=U[re],fe=0;fe<2;++fe)V[fe]=Math.min(V[fe],ne[fe])|0,W[fe]=Math.max(W[fe],ne[fe])|0;var $=0;switch(B){case"center":$=-.5*(V[0]+W[0]);break;case"right":case"end":$=-W[0];break;case"left":case"start":$=-V[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var X=0;switch(N){case"hanging":case"top":X=-V[1];break;case"middle":X=-.5*(V[1]+W[1]);break;case"alphabetic":case"ideographic":X=-3*z;break;case"bottom":X=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+N+"'")}var oe=1/z;return"lineHeight"in F?oe*=+F.lineHeight:"width"in F?oe=F.width/(W[0]-V[0]):"height"in F&&(oe=F.height/(W[1]-V[1])),U.map(function(Y){return[oe*(Y[0]+$),oe*(Y[1]+X)]})}function s(U,F,z,B,N,V){z=z.replace(/\n/g,""),V.breaklines===!0?z=z.replace(/\<br\>/g,`
`):z=z.replace(/\<br\>/g," ");var W="",Q=[];for(K=0;K<z.length;++K)Q[K]=W;V.bolds===!0&&(Q=E(y,h,z,Q)),V.italics===!0&&(Q=E(M,c,z,Q)),V.superscripts===!0&&(Q=E(o,T,z,Q)),V.subscripts===!0&&(Q=E(S,m,z,Q));var re=[],ne="";for(K=0;K<z.length;++K)Q[K]!==null&&(ne+=z[K],re.push(Q[K]));var fe=ne.split(`
`),$=fe.length,X=Math.round(N*B),oe=B,Y=B*2,ee=0,se=$*X+Y;U.height<se&&(U.height=se),F.fillStyle="#000",F.fillRect(0,0,U.width,U.height),F.fillStyle="#fff";var q,K,le,ie,he,ye=0,Ce="";function Ae(){if(Ce!==""){var Xe=F.measureText(Ce).width;F.fillText(Ce,oe+le,Y+ie),le+=Xe}}function ke(){return""+Math.round(he)+"px "}function we(Xe,ut){var dt=""+F.font;if(V.subscripts===!0){var at=Xe.indexOf(C),We=ut.indexOf(C),rt=at>-1?parseInt(Xe[1+at]):0,st=We>-1?parseInt(ut[1+We]):0;rt!==st&&(dt=dt.replace(ke(),"?px "),he*=Math.pow(.75,st-rt),dt=dt.replace("?px ",ke())),ie+=.25*X*(st-rt)}if(V.superscripts===!0){var ht=Xe.indexOf(d),vt=ut.indexOf(d),At=ht>-1?parseInt(Xe[1+ht]):0,tt=vt>-1?parseInt(ut[1+vt]):0;At!==tt&&(dt=dt.replace(ke(),"?px "),he*=Math.pow(.75,tt-At),dt=dt.replace("?px ",ke())),ie-=.25*X*(tt-At)}if(V.bolds===!0){var _e=Xe.indexOf(h)>-1,je=ut.indexOf(h)>-1;!_e&&je&&(Ke?dt=dt.replace("italic ","italic bold "):dt="bold "+dt),_e&&!je&&(dt=dt.replace("bold ",""))}if(V.italics===!0){var Ke=Xe.indexOf(c)>-1,He=ut.indexOf(c)>-1;!Ke&&He&&(dt="italic "+dt),Ke&&!He&&(dt=dt.replace("italic ",""))}F.font=dt}for(q=0;q<$;++q){var Ee=fe[q]+`
`;for(le=0,ie=q*X,he=B,Ce="",K=0;K<Ee.length;++K){var xe=K+ye<re.length?re[K+ye]:re[re.length-1];W===xe?Ce+=Ee[K]:(Ae(),Ce=Ee[K],xe!==void 0&&(we(W,xe),W=xe))}Ae(),ye+=Ee.length;var Re=Math.round(le+2*oe)|0;ee<Re&&(ee=Re)}var Ve=ee,Ue=Y+X*$,Be=i(F.getImageData(0,0,Ve,Ue).data,[Ue,Ve,4]);return Be.pick(-1,-1,0).transpose(1,0)}function L(U,F){var z=t(U,128);return F?n(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}function A(U,F,z,B){var N=L(U,B),V=b(N.positions,F,z),W=N.edges,Q=F.orientation==="ccw";if(u(V,W),F.polygons||F.polygon||F.polyline){for(var re=l(W,V),ne=new Array(re.length),fe=0;fe<re.length;++fe){for(var $=re[fe],X=new Array($.length),oe=0;oe<$.length;++oe){for(var Y=$[oe],ee=new Array(Y.length),se=0;se<Y.length;++se)ee[se]=V[Y[se]].slice();Q&&ee.reverse(),X[oe]=ee}ne[fe]=X}return ne}else return F.triangles||F.triangulate||F.triangle?{cells:f(V,W,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:W,positions:V}}function k(U,F,z){try{return A(U,F,z,!0)}catch{}try{return A(U,F,z,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(U,F,z,B){var N=64,V=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};B&&(B.size&&B.size>0&&(N=B.size),B.lineSpacing&&B.lineSpacing>0&&(V=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(W.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(W.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(W.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(W.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(W.superscripts=!!B.styletags.superscripts)),z.font=[B.fontStyle,B.fontVariant,B.fontWeight,N+"px",B.font].filter(function(re){return re}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr";var Q=s(F,z,U,N,V,W);return k(Q,B,N)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(L){L.permitHostObjects___&&L.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new i,u=Object.freeze({});if(n.set(u,1),n.get(u)!==1)t=!0;else{v.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,l=Object.defineProperty,y=Object.isExtensible,h="weakmap:",M=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),o=new Uint8Array(c);crypto.getRandomValues(o),M=h+"rand:"+Array.prototype.map.call(o,function(L){return(L%36).toString(36)}).join("")+"___"}function d(L){return!(L.substr(0,h.length)==h&&L.substr(L.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(A){return f(A).filter(d)}}),"getPropertyNames"in Object){var T=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(A){return T(A).filter(d)}})}function S(L){if(L!==Object(L))throw new TypeError("Not an object: "+L);var A=L[M];if(A&&A.key===L)return A;if(y(L)){A={key:L};try{return l(L,M,{value:A,writable:!1,enumerable:!1,configurable:!1}),A}catch{return}}}(function(){var L=Object.freeze;l(Object,"freeze",{value:function(U){return S(U),L(U)}});var A=Object.seal;l(Object,"seal",{value:function(U){return S(U),A(U)}});var k=Object.preventExtensions;l(Object,"preventExtensions",{value:function(U){return S(U),k(U)}})})();function C(L){return L.prototype=null,Object.freeze(L)}var m=!1;function E(){!m&&typeof console<"u"&&(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var b=0,s=function(){this instanceof s||E();var L=[],A=[],k=b++;function _(B,N){var V,W=S(B);return W?k in W?W[k]:N:(V=L.indexOf(B),V>=0?A[V]:N)}function U(B){var N=S(B);return N?k in N:L.indexOf(B)>=0}function F(B,N){var V,W=S(B);return W?W[k]=N:(V=L.indexOf(B),V>=0?A[V]=N:(V=L.length,A[V]=N,L[V]=B)),this}function z(B){var N=S(B),V,W;return N?k in N&&delete N[k]:(V=L.indexOf(B),V<0?!1:(W=L.length-1,L[V]=void 0,A[V]=A[W],L[V]=L[W],L.length=W,A.length=W,!0))}return Object.create(s.prototype,{get___:{value:C(_)},has___:{value:C(U)},set___:{value:C(F)},delete___:{value:C(z)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(A,k){return this.get___(A,k)},writable:!0,configurable:!0},has:{value:function(A){return this.has___(A)},writable:!0,configurable:!0},set:{value:function(A,k){return this.set___(A,k)},writable:!0,configurable:!0},delete:{value:function(A){return this.delete___(A)},writable:!0,configurable:!0}}),typeof i=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function L(){this instanceof s||E();var A=new i,k=void 0,_=!1;function U(N,V){return k?A.has(N)?A.get(N):k.get___(N,V):A.get(N,V)}function F(N){return A.has(N)||(k?k.has___(N):!1)}var z;t?z=function(N,V){return A.set(N,V),A.has(N)||(k||(k=new s),k.set(N,V)),this}:z=function(N,V){if(_)try{A.set(N,V)}catch{k||(k=new s),k.set___(N,V)}else A.set(N,V);return this};function B(N){var V=!!A.delete(N);return k&&k.delete___(N)||V}return Object.create(s.prototype,{get___:{value:C(U)},has___:{value:C(F)},set___:{value:C(z)},delete___:{value:C(B)},permitHostObjects___:{value:C(function(N){if(N===r)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}L.prototype=s.prototype,v.exports=L,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},9222:function(v,p,r){var t=r(7178);v.exports=i;function i(){var n={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var f=u.valueOf(n);return f&&f.identity===n?f:t(u,n)}}},7178:function(v){v.exports=p;function p(r,t){var i={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(u){return u!==t?n.apply(this,arguments):i},writable:!0}),i}},4037:function(v,p,r){var t=r(9222);v.exports=i;function i(){var n=t();return{get:function(u,f){var l=n(u);return l.hasOwnProperty("value")?l.value:f},set:function(u,f){return n(u).value=f,this},has:function(u){return"value"in n(u)},delete:function(u){return delete n(u).value}}}},6183:function(v){function p(){return function(f,l,y,h,M,c){var o=f[0],d=y[0],T=[0],S=d;h|=0;var C=0,m=d;for(C=0;C<o;++C){{var E=l[h]-c,b=l[h+S]-c;E>=0!=b>=0&&M.push(T[0]+.5+.5*(E+b)/(E-b))}h+=m,++T[0]}}}function r(){return p()}var t=r;function i(f){var l={};return function(h,M,c){var o=h.dtype,d=h.order,T=[o,d.join()].join(),S=l[T];return S||(l[T]=S=f([o,d])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,M,c)}}function n(f){return i(t.bind(void 0,f))}function u(f){return n({funcName:f.funcName})}v.exports=u({funcName:"zeroCrossings"})},9584:function(v,p,r){v.exports=i;var t=r(6183);function i(n,u){var f=[];return u=+u||0,t(n.hi(n.shape[0]-1),f,u),f}},6601:function(){}},a={};function x(v){var p=a[v];if(p!==void 0)return p.exports;var r=a[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,x),r.loaded=!0,r.exports}(function(){x.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){x.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var w=x(7386);return w}()})},33576:function(H,j,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(tt,_e){if(!(tt instanceof _e))throw new TypeError("Cannot call a class as a function")}function P(tt,_e){for(var je=0;je<_e.length;je++){var Ke=_e[je];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty(tt,x(Ke.key),Ke)}}function a(tt,_e,je){return _e&&P(tt.prototype,_e),je&&P(tt,je),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function x(tt){var _e=w(tt,"string");return u(_e)==="symbol"?_e:String(_e)}function w(tt,_e){if(u(tt)!=="object"||tt===null)return tt;var je=tt[Symbol.toPrimitive];if(je!==void 0){var Ke=je.call(tt,_e||"default");if(u(Ke)!=="object")return Ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(tt)}function v(tt,_e,je){function Ke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return _e=r(_e),p(tt,Ke()?Reflect.construct(_e,je||[],r(tt).constructor):_e.apply(tt,je))}function p(tt,_e){if(_e&&(u(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(tt)}function r(tt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(je){return je.__proto__||Object.getPrototypeOf(je)},r(tt)}function t(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function i(tt,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(_e&&_e.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),_e&&n(tt,_e)}function n(tt,_e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ke,He){return Ke.__proto__=He,Ke},n(tt,_e)}function u(tt){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},u(tt)}var f=e(59968),l=e(35984),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=o,j.SlowBuffer=k,j.INSPECT_MAX_BYTES=50;var h=2147483647;j.kMaxLength=h,o.TYPED_ARRAY_SUPPORT=M(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{var tt=new Uint8Array(1),_e={foo:function(){return 42}};return Object.setPrototypeOf(_e,Uint8Array.prototype),Object.setPrototypeOf(tt,_e),tt.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function c(tt){if(tt>h)throw new RangeError('The value "'+tt+'" is invalid for option "size"');var _e=new Uint8Array(tt);return Object.setPrototypeOf(_e,o.prototype),_e}function o(tt,_e,je){if(typeof tt=="number"){if(typeof _e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(tt)}return d(tt,_e,je)}o.poolSize=8192;function d(tt,_e,je){if(typeof tt=="string")return m(tt,_e);if(ArrayBuffer.isView(tt))return b(tt);if(tt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(tt));if(rt(tt,ArrayBuffer)||tt&&rt(tt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rt(tt,SharedArrayBuffer)||tt&&rt(tt.buffer,SharedArrayBuffer)))return s(tt,_e,je);if(typeof tt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ke=tt.valueOf&&tt.valueOf();if(Ke!=null&&Ke!==tt)return o.from(Ke,_e,je);var He=L(tt);if(He)return He;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof tt[Symbol.toPrimitive]=="function")return o.from(tt[Symbol.toPrimitive]("string"),_e,je);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(tt))}o.from=function(tt,_e,je){return d(tt,_e,je)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function T(tt){if(typeof tt!="number")throw new TypeError('"size" argument must be of type number');if(tt<0)throw new RangeError('The value "'+tt+'" is invalid for option "size"')}function S(tt,_e,je){return T(tt),tt<=0?c(tt):_e!==void 0?typeof je=="string"?c(tt).fill(_e,je):c(tt).fill(_e):c(tt)}o.alloc=function(tt,_e,je){return S(tt,_e,je)};function C(tt){return T(tt),c(tt<0?0:A(tt)|0)}o.allocUnsafe=function(tt){return C(tt)},o.allocUnsafeSlow=function(tt){return C(tt)};function m(tt,_e){if((typeof _e!="string"||_e==="")&&(_e="utf8"),!o.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);var je=_(tt,_e)|0,Ke=c(je),He=Ke.write(tt,_e);return He!==je&&(Ke=Ke.slice(0,He)),Ke}function E(tt){for(var _e=tt.length<0?0:A(tt.length)|0,je=c(_e),Ke=0;Ke<_e;Ke+=1)je[Ke]=tt[Ke]&255;return je}function b(tt){if(rt(tt,Uint8Array)){var _e=new Uint8Array(tt);return s(_e.buffer,_e.byteOffset,_e.byteLength)}return E(tt)}function s(tt,_e,je){if(_e<0||tt.byteLength<_e)throw new RangeError('"offset" is outside of buffer bounds');if(tt.byteLength<_e+(je||0))throw new RangeError('"length" is outside of buffer bounds');var Ke;return _e===void 0&&je===void 0?Ke=new Uint8Array(tt):je===void 0?Ke=new Uint8Array(tt,_e):Ke=new Uint8Array(tt,_e,je),Object.setPrototypeOf(Ke,o.prototype),Ke}function L(tt){if(o.isBuffer(tt)){var _e=A(tt.length)|0,je=c(_e);return je.length===0||tt.copy(je,0,0,_e),je}if(tt.length!==void 0)return typeof tt.length!="number"||st(tt.length)?c(0):E(tt);if(tt.type==="Buffer"&&Array.isArray(tt.data))return E(tt.data)}function A(tt){if(tt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return tt|0}function k(tt){return+tt!=tt&&(tt=0),o.alloc(+tt)}o.isBuffer=function(_e){return _e!=null&&_e._isBuffer===!0&&_e!==o.prototype},o.compare=function(_e,je){if(rt(_e,Uint8Array)&&(_e=o.from(_e,_e.offset,_e.byteLength)),rt(je,Uint8Array)&&(je=o.from(je,je.offset,je.byteLength)),!o.isBuffer(_e)||!o.isBuffer(je))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_e===je)return 0;for(var Ke=_e.length,He=je.length,Ie=0,be=Math.min(Ke,He);Ie<be;++Ie)if(_e[Ie]!==je[Ie]){Ke=_e[Ie],He=je[Ie];break}return Ke<He?-1:He<Ke?1:0},o.isEncoding=function(_e){switch(String(_e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(_e,je){if(!Array.isArray(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return o.alloc(0);var Ke;if(je===void 0)for(je=0,Ke=0;Ke<_e.length;++Ke)je+=_e[Ke].length;var He=o.allocUnsafe(je),Ie=0;for(Ke=0;Ke<_e.length;++Ke){var be=_e[Ke];if(rt(be,Uint8Array))Ie+be.length>He.length?(o.isBuffer(be)||(be=o.from(be)),be.copy(He,Ie)):Uint8Array.prototype.set.call(He,be,Ie);else if(o.isBuffer(be))be.copy(He,Ie);else throw new TypeError('"list" argument must be an Array of Buffers');Ie+=be.length}return He};function _(tt,_e){if(o.isBuffer(tt))return tt.length;if(ArrayBuffer.isView(tt)||rt(tt,ArrayBuffer))return tt.byteLength;if(typeof tt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(tt));var je=tt.length,Ke=arguments.length>2&&arguments[2]===!0;if(!Ke&&je===0)return 0;for(var He=!1;;)switch(_e){case"ascii":case"latin1":case"binary":return je;case"utf8":case"utf-8":return Xe(tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je*2;case"hex":return je>>>1;case"base64":return at(tt).length;default:if(He)return Ke?-1:Xe(tt).length;_e=(""+_e).toLowerCase(),He=!0}}o.byteLength=_;function U(tt,_e,je){var Ke=!1;if((_e===void 0||_e<0)&&(_e=0),_e>this.length||((je===void 0||je>this.length)&&(je=this.length),je<=0)||(je>>>=0,_e>>>=0,je<=_e))return"";for(tt||(tt="utf8");;)switch(tt){case"hex":return ee(this,_e,je);case"utf8":case"utf-8":return fe(this,_e,je);case"ascii":return oe(this,_e,je);case"latin1":case"binary":return Y(this,_e,je);case"base64":return ne(this,_e,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,_e,je);default:if(Ke)throw new TypeError("Unknown encoding: "+tt);tt=(tt+"").toLowerCase(),Ke=!0}}o.prototype._isBuffer=!0;function F(tt,_e,je){var Ke=tt[_e];tt[_e]=tt[je],tt[je]=Ke}o.prototype.swap16=function(){var _e=this.length;if(_e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var je=0;je<_e;je+=2)F(this,je,je+1);return this},o.prototype.swap32=function(){var _e=this.length;if(_e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var je=0;je<_e;je+=4)F(this,je,je+3),F(this,je+1,je+2);return this},o.prototype.swap64=function(){var _e=this.length;if(_e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var je=0;je<_e;je+=8)F(this,je,je+7),F(this,je+1,je+6),F(this,je+2,je+5),F(this,je+3,je+4);return this},o.prototype.toString=function(){var _e=this.length;return _e===0?"":arguments.length===0?fe(this,0,_e):U.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(_e){if(!o.isBuffer(_e))throw new TypeError("Argument must be a Buffer");return this===_e?!0:o.compare(this,_e)===0},o.prototype.inspect=function(){var _e="",je=j.INSPECT_MAX_BYTES;return _e=this.toString("hex",0,je).replace(/(.{2})/g,"$1 ").trim(),this.length>je&&(_e+=" ... "),"<Buffer "+_e+">"},y&&(o.prototype[y]=o.prototype.inspect),o.prototype.compare=function(_e,je,Ke,He,Ie){if(rt(_e,Uint8Array)&&(_e=o.from(_e,_e.offset,_e.byteLength)),!o.isBuffer(_e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(_e));if(je===void 0&&(je=0),Ke===void 0&&(Ke=_e?_e.length:0),He===void 0&&(He=0),Ie===void 0&&(Ie=this.length),je<0||Ke>_e.length||He<0||Ie>this.length)throw new RangeError("out of range index");if(He>=Ie&&je>=Ke)return 0;if(He>=Ie)return-1;if(je>=Ke)return 1;if(je>>>=0,Ke>>>=0,He>>>=0,Ie>>>=0,this===_e)return 0;for(var be=Ie-He,me=Ke-je,Me=Math.min(be,me),Te=this.slice(He,Ie),ze=_e.slice(je,Ke),Je=0;Je<Me;++Je)if(Te[Je]!==ze[Je]){be=Te[Je],me=ze[Je];break}return be<me?-1:me<be?1:0};function z(tt,_e,je,Ke,He){if(tt.length===0)return-1;if(typeof je=="string"?(Ke=je,je=0):je>2147483647?je=2147483647:je<-2147483648&&(je=-2147483648),je=+je,st(je)&&(je=He?0:tt.length-1),je<0&&(je=tt.length+je),je>=tt.length){if(He)return-1;je=tt.length-1}else if(je<0)if(He)je=0;else return-1;if(typeof _e=="string"&&(_e=o.from(_e,Ke)),o.isBuffer(_e))return _e.length===0?-1:B(tt,_e,je,Ke,He);if(typeof _e=="number")return _e=_e&255,typeof Uint8Array.prototype.indexOf=="function"?He?Uint8Array.prototype.indexOf.call(tt,_e,je):Uint8Array.prototype.lastIndexOf.call(tt,_e,je):B(tt,[_e],je,Ke,He);throw new TypeError("val must be string, number or Buffer")}function B(tt,_e,je,Ke,He){var Ie=1,be=tt.length,me=_e.length;if(Ke!==void 0&&(Ke=String(Ke).toLowerCase(),Ke==="ucs2"||Ke==="ucs-2"||Ke==="utf16le"||Ke==="utf-16le")){if(tt.length<2||_e.length<2)return-1;Ie=2,be/=2,me/=2,je/=2}function Me(pt,yt){return Ie===1?pt[yt]:pt.readUInt16BE(yt*Ie)}var Te;if(He){var ze=-1;for(Te=je;Te<be;Te++)if(Me(tt,Te)===Me(_e,ze===-1?0:Te-ze)){if(ze===-1&&(ze=Te),Te-ze+1===me)return ze*Ie}else ze!==-1&&(Te-=Te-ze),ze=-1}else for(je+me>be&&(je=be-me),Te=je;Te>=0;Te--){for(var Je=!0,nt=0;nt<me;nt++)if(Me(tt,Te+nt)!==Me(_e,nt)){Je=!1;break}if(Je)return Te}return-1}o.prototype.includes=function(_e,je,Ke){return this.indexOf(_e,je,Ke)!==-1},o.prototype.indexOf=function(_e,je,Ke){return z(this,_e,je,Ke,!0)},o.prototype.lastIndexOf=function(_e,je,Ke){return z(this,_e,je,Ke,!1)};function N(tt,_e,je,Ke){je=Number(je)||0;var He=tt.length-je;Ke?(Ke=Number(Ke),Ke>He&&(Ke=He)):Ke=He;var Ie=_e.length;Ke>Ie/2&&(Ke=Ie/2);var be;for(be=0;be<Ke;++be){var me=parseInt(_e.substr(be*2,2),16);if(st(me))return be;tt[je+be]=me}return be}function V(tt,_e,je,Ke){return We(Xe(_e,tt.length-je),tt,je,Ke)}function W(tt,_e,je,Ke){return We(ut(_e),tt,je,Ke)}function Q(tt,_e,je,Ke){return We(at(_e),tt,je,Ke)}function re(tt,_e,je,Ke){return We(dt(_e,tt.length-je),tt,je,Ke)}o.prototype.write=function(_e,je,Ke,He){if(je===void 0)He="utf8",Ke=this.length,je=0;else if(Ke===void 0&&typeof je=="string")He=je,Ke=this.length,je=0;else if(isFinite(je))je=je>>>0,isFinite(Ke)?(Ke=Ke>>>0,He===void 0&&(He="utf8")):(He=Ke,Ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ie=this.length-je;if((Ke===void 0||Ke>Ie)&&(Ke=Ie),_e.length>0&&(Ke<0||je<0)||je>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var be=!1;;)switch(He){case"hex":return N(this,_e,je,Ke);case"utf8":case"utf-8":return V(this,_e,je,Ke);case"ascii":case"latin1":case"binary":return W(this,_e,je,Ke);case"base64":return Q(this,_e,je,Ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,_e,je,Ke);default:if(be)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),be=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(tt,_e,je){return _e===0&&je===tt.length?f.fromByteArray(tt):f.fromByteArray(tt.slice(_e,je))}function fe(tt,_e,je){je=Math.min(tt.length,je);for(var Ke=[],He=_e;He<je;){var Ie=tt[He],be=null,me=Ie>239?4:Ie>223?3:Ie>191?2:1;if(He+me<=je){var Me=void 0,Te=void 0,ze=void 0,Je=void 0;switch(me){case 1:Ie<128&&(be=Ie);break;case 2:Me=tt[He+1],(Me&192)===128&&(Je=(Ie&31)<<6|Me&63,Je>127&&(be=Je));break;case 3:Me=tt[He+1],Te=tt[He+2],(Me&192)===128&&(Te&192)===128&&(Je=(Ie&15)<<12|(Me&63)<<6|Te&63,Je>2047&&(Je<55296||Je>57343)&&(be=Je));break;case 4:Me=tt[He+1],Te=tt[He+2],ze=tt[He+3],(Me&192)===128&&(Te&192)===128&&(ze&192)===128&&(Je=(Ie&15)<<18|(Me&63)<<12|(Te&63)<<6|ze&63,Je>65535&&Je<1114112&&(be=Je))}}be===null?(be=65533,me=1):be>65535&&(be-=65536,Ke.push(be>>>10&1023|55296),be=56320|be&1023),Ke.push(be),He+=me}return X(Ke)}var $=4096;function X(tt){var _e=tt.length;if(_e<=$)return String.fromCharCode.apply(String,tt);for(var je="",Ke=0;Ke<_e;)je+=String.fromCharCode.apply(String,tt.slice(Ke,Ke+=$));return je}function oe(tt,_e,je){var Ke="";je=Math.min(tt.length,je);for(var He=_e;He<je;++He)Ke+=String.fromCharCode(tt[He]&127);return Ke}function Y(tt,_e,je){var Ke="";je=Math.min(tt.length,je);for(var He=_e;He<je;++He)Ke+=String.fromCharCode(tt[He]);return Ke}function ee(tt,_e,je){var Ke=tt.length;(!_e||_e<0)&&(_e=0),(!je||je<0||je>Ke)&&(je=Ke);for(var He="",Ie=_e;Ie<je;++Ie)He+=ht[tt[Ie]];return He}function se(tt,_e,je){for(var Ke=tt.slice(_e,je),He="",Ie=0;Ie<Ke.length-1;Ie+=2)He+=String.fromCharCode(Ke[Ie]+Ke[Ie+1]*256);return He}o.prototype.slice=function(_e,je){var Ke=this.length;_e=~~_e,je=je===void 0?Ke:~~je,_e<0?(_e+=Ke,_e<0&&(_e=0)):_e>Ke&&(_e=Ke),je<0?(je+=Ke,je<0&&(je=0)):je>Ke&&(je=Ke),je<_e&&(je=_e);var He=this.subarray(_e,je);return Object.setPrototypeOf(He,o.prototype),He};function q(tt,_e,je){if(tt%1!==0||tt<0)throw new RangeError("offset is not uint");if(tt+_e>je)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(_e,je,Ke){_e=_e>>>0,je=je>>>0,Ke||q(_e,je,this.length);for(var He=this[_e],Ie=1,be=0;++be<je&&(Ie*=256);)He+=this[_e+be]*Ie;return He},o.prototype.readUintBE=o.prototype.readUIntBE=function(_e,je,Ke){_e=_e>>>0,je=je>>>0,Ke||q(_e,je,this.length);for(var He=this[_e+--je],Ie=1;je>0&&(Ie*=256);)He+=this[_e+--je]*Ie;return He},o.prototype.readUint8=o.prototype.readUInt8=function(_e,je){return _e=_e>>>0,je||q(_e,1,this.length),this[_e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(_e,je){return _e=_e>>>0,je||q(_e,2,this.length),this[_e]|this[_e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(_e,je){return _e=_e>>>0,je||q(_e,2,this.length),this[_e]<<8|this[_e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(_e,je){return _e=_e>>>0,je||q(_e,4,this.length),(this[_e]|this[_e+1]<<8|this[_e+2]<<16)+this[_e+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(_e,je){return _e=_e>>>0,je||q(_e,4,this.length),this[_e]*16777216+(this[_e+1]<<16|this[_e+2]<<8|this[_e+3])},o.prototype.readBigUInt64LE=vt(function(_e){_e=_e>>>0,Re(_e,"offset");var je=this[_e],Ke=this[_e+7];(je===void 0||Ke===void 0)&&Ve(_e,this.length-8);var He=je+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24),Ie=this[++_e]+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+Ke*Math.pow(2,24);return BigInt(He)+(BigInt(Ie)<<BigInt(32))}),o.prototype.readBigUInt64BE=vt(function(_e){_e=_e>>>0,Re(_e,"offset");var je=this[_e],Ke=this[_e+7];(je===void 0||Ke===void 0)&&Ve(_e,this.length-8);var He=je*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e],Ie=this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Ke;return(BigInt(He)<<BigInt(32))+BigInt(Ie)}),o.prototype.readIntLE=function(_e,je,Ke){_e=_e>>>0,je=je>>>0,Ke||q(_e,je,this.length);for(var He=this[_e],Ie=1,be=0;++be<je&&(Ie*=256);)He+=this[_e+be]*Ie;return Ie*=128,He>=Ie&&(He-=Math.pow(2,8*je)),He},o.prototype.readIntBE=function(_e,je,Ke){_e=_e>>>0,je=je>>>0,Ke||q(_e,je,this.length);for(var He=je,Ie=1,be=this[_e+--He];He>0&&(Ie*=256);)be+=this[_e+--He]*Ie;return Ie*=128,be>=Ie&&(be-=Math.pow(2,8*je)),be},o.prototype.readInt8=function(_e,je){return _e=_e>>>0,je||q(_e,1,this.length),this[_e]&128?(255-this[_e]+1)*-1:this[_e]},o.prototype.readInt16LE=function(_e,je){_e=_e>>>0,je||q(_e,2,this.length);var Ke=this[_e]|this[_e+1]<<8;return Ke&32768?Ke|4294901760:Ke},o.prototype.readInt16BE=function(_e,je){_e=_e>>>0,je||q(_e,2,this.length);var Ke=this[_e+1]|this[_e]<<8;return Ke&32768?Ke|4294901760:Ke},o.prototype.readInt32LE=function(_e,je){return _e=_e>>>0,je||q(_e,4,this.length),this[_e]|this[_e+1]<<8|this[_e+2]<<16|this[_e+3]<<24},o.prototype.readInt32BE=function(_e,je){return _e=_e>>>0,je||q(_e,4,this.length),this[_e]<<24|this[_e+1]<<16|this[_e+2]<<8|this[_e+3]},o.prototype.readBigInt64LE=vt(function(_e){_e=_e>>>0,Re(_e,"offset");var je=this[_e],Ke=this[_e+7];(je===void 0||Ke===void 0)&&Ve(_e,this.length-8);var He=this[_e+4]+this[_e+5]*Math.pow(2,8)+this[_e+6]*Math.pow(2,16)+(Ke<<24);return(BigInt(He)<<BigInt(32))+BigInt(je+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24))}),o.prototype.readBigInt64BE=vt(function(_e){_e=_e>>>0,Re(_e,"offset");var je=this[_e],Ke=this[_e+7];(je===void 0||Ke===void 0)&&Ve(_e,this.length-8);var He=(je<<24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e];return(BigInt(He)<<BigInt(32))+BigInt(this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Ke)}),o.prototype.readFloatLE=function(_e,je){return _e=_e>>>0,je||q(_e,4,this.length),l.read(this,_e,!0,23,4)},o.prototype.readFloatBE=function(_e,je){return _e=_e>>>0,je||q(_e,4,this.length),l.read(this,_e,!1,23,4)},o.prototype.readDoubleLE=function(_e,je){return _e=_e>>>0,je||q(_e,8,this.length),l.read(this,_e,!0,52,8)},o.prototype.readDoubleBE=function(_e,je){return _e=_e>>>0,je||q(_e,8,this.length),l.read(this,_e,!1,52,8)};function K(tt,_e,je,Ke,He,Ie){if(!o.isBuffer(tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(_e>He||_e<Ie)throw new RangeError('"value" argument is out of bounds');if(je+Ke>tt.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(_e,je,Ke,He){if(_e=+_e,je=je>>>0,Ke=Ke>>>0,!He){var Ie=Math.pow(2,8*Ke)-1;K(this,_e,je,Ke,Ie,0)}var be=1,me=0;for(this[je]=_e&255;++me<Ke&&(be*=256);)this[je+me]=_e/be&255;return je+Ke},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(_e,je,Ke,He){if(_e=+_e,je=je>>>0,Ke=Ke>>>0,!He){var Ie=Math.pow(2,8*Ke)-1;K(this,_e,je,Ke,Ie,0)}var be=Ke-1,me=1;for(this[je+be]=_e&255;--be>=0&&(me*=256);)this[je+be]=_e/me&255;return je+Ke},o.prototype.writeUint8=o.prototype.writeUInt8=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,1,255,0),this[je]=_e&255,je+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,2,65535,0),this[je]=_e&255,this[je+1]=_e>>>8,je+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,2,65535,0),this[je]=_e>>>8,this[je+1]=_e&255,je+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,4,4294967295,0),this[je+3]=_e>>>24,this[je+2]=_e>>>16,this[je+1]=_e>>>8,this[je]=_e&255,je+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,4,4294967295,0),this[je]=_e>>>24,this[je+1]=_e>>>16,this[je+2]=_e>>>8,this[je+3]=_e&255,je+4};function le(tt,_e,je,Ke,He){xe(_e,Ke,He,tt,je,7);var Ie=Number(_e&BigInt(4294967295));tt[je++]=Ie,Ie=Ie>>8,tt[je++]=Ie,Ie=Ie>>8,tt[je++]=Ie,Ie=Ie>>8,tt[je++]=Ie;var be=Number(_e>>BigInt(32)&BigInt(4294967295));return tt[je++]=be,be=be>>8,tt[je++]=be,be=be>>8,tt[je++]=be,be=be>>8,tt[je++]=be,je}function ie(tt,_e,je,Ke,He){xe(_e,Ke,He,tt,je,7);var Ie=Number(_e&BigInt(4294967295));tt[je+7]=Ie,Ie=Ie>>8,tt[je+6]=Ie,Ie=Ie>>8,tt[je+5]=Ie,Ie=Ie>>8,tt[je+4]=Ie;var be=Number(_e>>BigInt(32)&BigInt(4294967295));return tt[je+3]=be,be=be>>8,tt[je+2]=be,be=be>>8,tt[je+1]=be,be=be>>8,tt[je]=be,je+8}o.prototype.writeBigUInt64LE=vt(function(_e){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,_e,je,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=vt(function(_e){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,_e,je,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(_e,je,Ke,He){if(_e=+_e,je=je>>>0,!He){var Ie=Math.pow(2,8*Ke-1);K(this,_e,je,Ke,Ie-1,-Ie)}var be=0,me=1,Me=0;for(this[je]=_e&255;++be<Ke&&(me*=256);)_e<0&&Me===0&&this[je+be-1]!==0&&(Me=1),this[je+be]=(_e/me>>0)-Me&255;return je+Ke},o.prototype.writeIntBE=function(_e,je,Ke,He){if(_e=+_e,je=je>>>0,!He){var Ie=Math.pow(2,8*Ke-1);K(this,_e,je,Ke,Ie-1,-Ie)}var be=Ke-1,me=1,Me=0;for(this[je+be]=_e&255;--be>=0&&(me*=256);)_e<0&&Me===0&&this[je+be+1]!==0&&(Me=1),this[je+be]=(_e/me>>0)-Me&255;return je+Ke},o.prototype.writeInt8=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,1,127,-128),_e<0&&(_e=255+_e+1),this[je]=_e&255,je+1},o.prototype.writeInt16LE=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,2,32767,-32768),this[je]=_e&255,this[je+1]=_e>>>8,je+2},o.prototype.writeInt16BE=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,2,32767,-32768),this[je]=_e>>>8,this[je+1]=_e&255,je+2},o.prototype.writeInt32LE=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,4,2147483647,-2147483648),this[je]=_e&255,this[je+1]=_e>>>8,this[je+2]=_e>>>16,this[je+3]=_e>>>24,je+4},o.prototype.writeInt32BE=function(_e,je,Ke){return _e=+_e,je=je>>>0,Ke||K(this,_e,je,4,2147483647,-2147483648),_e<0&&(_e=4294967295+_e+1),this[je]=_e>>>24,this[je+1]=_e>>>16,this[je+2]=_e>>>8,this[je+3]=_e&255,je+4},o.prototype.writeBigInt64LE=vt(function(_e){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,_e,je,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=vt(function(_e){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,_e,je,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(tt,_e,je,Ke,He,Ie){if(je+Ke>tt.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("Index out of range")}function ye(tt,_e,je,Ke,He){return _e=+_e,je=je>>>0,He||he(tt,_e,je,4),l.write(tt,_e,je,Ke,23,4),je+4}o.prototype.writeFloatLE=function(_e,je,Ke){return ye(this,_e,je,!0,Ke)},o.prototype.writeFloatBE=function(_e,je,Ke){return ye(this,_e,je,!1,Ke)};function Ce(tt,_e,je,Ke,He){return _e=+_e,je=je>>>0,He||he(tt,_e,je,8),l.write(tt,_e,je,Ke,52,8),je+8}o.prototype.writeDoubleLE=function(_e,je,Ke){return Ce(this,_e,je,!0,Ke)},o.prototype.writeDoubleBE=function(_e,je,Ke){return Ce(this,_e,je,!1,Ke)},o.prototype.copy=function(_e,je,Ke,He){if(!o.isBuffer(_e))throw new TypeError("argument should be a Buffer");if(Ke||(Ke=0),!He&&He!==0&&(He=this.length),je>=_e.length&&(je=_e.length),je||(je=0),He>0&&He<Ke&&(He=Ke),He===Ke||_e.length===0||this.length===0)return 0;if(je<0)throw new RangeError("targetStart out of bounds");if(Ke<0||Ke>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),_e.length-je<He-Ke&&(He=_e.length-je+Ke);var Ie=He-Ke;return this===_e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(je,Ke,He):Uint8Array.prototype.set.call(_e,this.subarray(Ke,He),je),Ie},o.prototype.fill=function(_e,je,Ke,He){if(typeof _e=="string"){if(typeof je=="string"?(He=je,je=0,Ke=this.length):typeof Ke=="string"&&(He=Ke,Ke=this.length),He!==void 0&&typeof He!="string")throw new TypeError("encoding must be a string");if(typeof He=="string"&&!o.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(_e.length===1){var Ie=_e.charCodeAt(0);(He==="utf8"&&Ie<128||He==="latin1")&&(_e=Ie)}}else typeof _e=="number"?_e=_e&255:typeof _e=="boolean"&&(_e=Number(_e));if(je<0||this.length<je||this.length<Ke)throw new RangeError("Out of range index");if(Ke<=je)return this;je=je>>>0,Ke=Ke===void 0?this.length:Ke>>>0,_e||(_e=0);var be;if(typeof _e=="number")for(be=je;be<Ke;++be)this[be]=_e;else{var me=o.isBuffer(_e)?_e:o.from(_e,He),Me=me.length;if(Me===0)throw new TypeError('The value "'+_e+'" is invalid for argument "value"');for(be=0;be<Ke-je;++be)this[be+je]=me[be%Me]}return this};var Ae={};function ke(tt,_e,je){Ae[tt]=function(Ke){i(He,Ke);function He(){var Ie;return g(this,He),Ie=v(this,He),Object.defineProperty(t(Ie),"message",{value:_e.apply(t(Ie),arguments),writable:!0,configurable:!0}),Ie.name="".concat(Ie.name," [").concat(tt,"]"),Ie.stack,delete Ie.name,Ie}return a(He,[{key:"code",get:function(){return tt},set:function(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(tt,"]: ").concat(this.message)}}]),He}(je)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(tt){return tt?"".concat(tt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(tt,_e){return'The "'.concat(tt,'" argument must be of type number. Received type ').concat(u(_e))},TypeError),ke("ERR_OUT_OF_RANGE",function(tt,_e,je){var Ke='The value of "'.concat(tt,'" is out of range.'),He=je;return Number.isInteger(je)&&Math.abs(je)>Math.pow(2,32)?He=we(String(je)):typeof je=="bigint"&&(He=String(je),(je>Math.pow(BigInt(2),BigInt(32))||je<-Math.pow(BigInt(2),BigInt(32)))&&(He=we(He)),He+="n"),Ke+=" It must be ".concat(_e,". Received ").concat(He),Ke},RangeError);function we(tt){for(var _e="",je=tt.length,Ke=tt[0]==="-"?1:0;je>=Ke+4;je-=3)_e="_".concat(tt.slice(je-3,je)).concat(_e);return"".concat(tt.slice(0,je)).concat(_e)}function Ee(tt,_e,je){Re(_e,"offset"),(tt[_e]===void 0||tt[_e+je]===void 0)&&Ve(_e,tt.length-(je+1))}function xe(tt,_e,je,Ke,He,Ie){if(tt>je||tt<_e){var be=typeof _e=="bigint"?"n":"",me;throw Ie>3?_e===0||_e===BigInt(0)?me=">= 0".concat(be," and < 2").concat(be," ** ").concat((Ie+1)*8).concat(be):me=">= -(2".concat(be," ** ").concat((Ie+1)*8-1).concat(be,") and < 2 ** ")+"".concat((Ie+1)*8-1).concat(be):me=">= ".concat(_e).concat(be," and <= ").concat(je).concat(be),new Ae.ERR_OUT_OF_RANGE("value",me,tt)}Ee(Ke,He,Ie)}function Re(tt,_e){if(typeof tt!="number")throw new Ae.ERR_INVALID_ARG_TYPE(_e,"number",tt)}function Ve(tt,_e,je){throw Math.floor(tt)!==tt?(Re(tt,je),new Ae.ERR_OUT_OF_RANGE(je||"offset","an integer",tt)):_e<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(je||"offset",">= ".concat(je?1:0," and <= ").concat(_e),tt)}var Ue=/[^+/0-9A-Za-z-_]/g;function Be(tt){if(tt=tt.split("=")[0],tt=tt.trim().replace(Ue,""),tt.length<2)return"";for(;tt.length%4!==0;)tt=tt+"=";return tt}function Xe(tt,_e){_e=_e||1/0;for(var je,Ke=tt.length,He=null,Ie=[],be=0;be<Ke;++be){if(je=tt.charCodeAt(be),je>55295&&je<57344){if(!He){if(je>56319){(_e-=3)>-1&&Ie.push(239,191,189);continue}else if(be+1===Ke){(_e-=3)>-1&&Ie.push(239,191,189);continue}He=je;continue}if(je<56320){(_e-=3)>-1&&Ie.push(239,191,189),He=je;continue}je=(He-55296<<10|je-56320)+65536}else He&&(_e-=3)>-1&&Ie.push(239,191,189);if(He=null,je<128){if((_e-=1)<0)break;Ie.push(je)}else if(je<2048){if((_e-=2)<0)break;Ie.push(je>>6|192,je&63|128)}else if(je<65536){if((_e-=3)<0)break;Ie.push(je>>12|224,je>>6&63|128,je&63|128)}else if(je<1114112){if((_e-=4)<0)break;Ie.push(je>>18|240,je>>12&63|128,je>>6&63|128,je&63|128)}else throw new Error("Invalid code point")}return Ie}function ut(tt){for(var _e=[],je=0;je<tt.length;++je)_e.push(tt.charCodeAt(je)&255);return _e}function dt(tt,_e){for(var je,Ke,He,Ie=[],be=0;be<tt.length&&!((_e-=2)<0);++be)je=tt.charCodeAt(be),Ke=je>>8,He=je%256,Ie.push(He),Ie.push(Ke);return Ie}function at(tt){return f.toByteArray(Be(tt))}function We(tt,_e,je,Ke){var He;for(He=0;He<Ke&&!(He+je>=_e.length||He>=tt.length);++He)_e[He+je]=tt[He];return He}function rt(tt,_e){return tt instanceof _e||tt!=null&&tt.constructor!=null&&tt.constructor.name!=null&&tt.constructor.name===_e.name}function st(tt){return tt!==tt}var ht=function(){for(var tt="0123456789abcdef",_e=new Array(256),je=0;je<16;++je)for(var Ke=je*16,He=0;He<16;++He)_e[Ke+He]=tt[je]+tt[He];return _e}();function vt(tt){return typeof BigInt>"u"?At:tt}function At(){throw new Error("BigInt not supported")}},25928:function(H){H.exports=P,H.exports.isMobile=P,H.exports.default=P;var j=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function P(a){a||(a={});var x=a.ua;if(!x&&typeof navigator<"u"&&(x=navigator.userAgent),x&&x.headers&&typeof x.headers["user-agent"]=="string"&&(x=x.headers["user-agent"]),typeof x!="string")return!1;var w=j.test(x)&&!e.test(x)||!!a.tablet&&g.test(x);return!w&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&x.indexOf("Macintosh")!==-1&&x.indexOf("Safari")!==-1&&(w=!0),w}},48932:function(H,j,e){e.r(j),e.d(j,{sankeyCenter:function(){return i},sankeyCircular:function(){return L},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var g=e(84706),P=e(34712),a=e(10132),x=e(6688),w=e.n(x);function v(Ae){return Ae.target.depth}function p(Ae){return Ae.depth}function r(Ae,ke){return ke-1-Ae.height}function t(Ae,ke){return Ae.sourceLinks.length?Ae.depth:ke-1}function i(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,g.SY)(Ae.sourceLinks,v)-1:0}function n(Ae){return function(){return Ae}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function f(Ae,ke){return y(Ae.source,ke.source)||Ae.index-ke.index}function l(Ae,ke){return y(Ae.target,ke.target)||Ae.index-ke.index}function y(Ae,ke){return Ae.partOfCycle===ke.partOfCycle?Ae.y0-ke.y0:Ae.circularLinkType==="top"||ke.circularLinkType==="bottom"?-1:1}function h(Ae){return Ae.value}function M(Ae){return(Ae.y0+Ae.y1)/2}function c(Ae){return M(Ae.source)}function o(Ae){return M(Ae.target)}function d(Ae){return Ae.index}function T(Ae){return Ae.nodes}function S(Ae){return Ae.links}function C(Ae,ke){var we=Ae.get(ke);if(!we)throw new Error("missing: "+ke);return we}function m(Ae,ke){return ke(Ae)}var E=25,b=10,s=.3;function L(){var Ae=0,ke=0,we=1,Ee=1,xe=24,Re,Ve=d,Ue=t,Be=T,Xe=S,ut=32,dt=2,at,We=null;function rt(){var Ke={nodes:Be.apply(null,arguments),links:Xe.apply(null,arguments)};st(Ke),A(Ke,Ve,We),ht(Ke),tt(Ke),k(Ke,Ve),_e(Ke,ut,Ve),je(Ke);for(var He=4,Ie=0;Ie<He;Ie++)K(Ke,Ee,Ve),le(Ke,Ee,Ve),ee(Ke,ke,Ee,Ve),K(Ke,Ee,Ve),le(Ke,Ee,Ve);return Ce(Ke,ke,Ee),N(Ke,dt,Ee,Ve),Ke}rt.nodeId=function(Ke){return arguments.length?(Ve=typeof Ke=="function"?Ke:n(Ke),rt):Ve},rt.nodeAlign=function(Ke){return arguments.length?(Ue=typeof Ke=="function"?Ke:n(Ke),rt):Ue},rt.nodeWidth=function(Ke){return arguments.length?(xe=+Ke,rt):xe},rt.nodePadding=function(Ke){return arguments.length?(Re=+Ke,rt):Re},rt.nodes=function(Ke){return arguments.length?(Be=typeof Ke=="function"?Ke:n(Ke),rt):Be},rt.links=function(Ke){return arguments.length?(Xe=typeof Ke=="function"?Ke:n(Ke),rt):Xe},rt.size=function(Ke){return arguments.length?(Ae=ke=0,we=+Ke[0],Ee=+Ke[1],rt):[we-Ae,Ee-ke]},rt.extent=function(Ke){return arguments.length?(Ae=+Ke[0][0],we=+Ke[1][0],ke=+Ke[0][1],Ee=+Ke[1][1],rt):[[Ae,ke],[we,Ee]]},rt.iterations=function(Ke){return arguments.length?(ut=+Ke,rt):ut},rt.circularLinkGap=function(Ke){return arguments.length?(dt=+Ke,rt):dt},rt.nodePaddingRatio=function(Ke){return arguments.length?(at=+Ke,rt):at},rt.sortNodes=function(Ke){return arguments.length?(We=Ke,rt):We},rt.update=function(Ke){return k(Ke,Ve),je(Ke),Ke.links.forEach(function(He){He.circular&&(He.circularLinkType=He.y0+He.y1<Ee?"top":"bottom",He.source.circularLinkType=He.circularLinkType,He.target.circularLinkType=He.circularLinkType)}),K(Ke,Ee,Ve,!1),le(Ke,Ee,Ve),N(Ke,dt,Ee,Ve),Ke};function st(Ke){Ke.nodes.forEach(function(Ie,be){Ie.index=be,Ie.sourceLinks=[],Ie.targetLinks=[]});var He=(0,P.kH)(Ke.nodes,Ve);return Ke.links.forEach(function(Ie,be){Ie.index=be;var me=Ie.source,Me=Ie.target;(typeof me>"u"?"undefined":u(me))!=="object"&&(me=Ie.source=C(He,me)),(typeof Me>"u"?"undefined":u(Me))!=="object"&&(Me=Ie.target=C(He,Me)),me.sourceLinks.push(Ie),Me.targetLinks.push(Ie)}),Ke}function ht(Ke){Ke.nodes.forEach(function(He){He.partOfCycle=!1,He.value=Math.max((0,g.oh)(He.sourceLinks,h),(0,g.oh)(He.targetLinks,h)),He.sourceLinks.forEach(function(Ie){Ie.circular&&(He.partOfCycle=!0,He.circularLinkType=Ie.circularLinkType)}),He.targetLinks.forEach(function(Ie){Ie.circular&&(He.partOfCycle=!0,He.circularLinkType=Ie.circularLinkType)})})}function vt(Ke){var He=0,Ie=0,be=0,me=0,Me=(0,g.kv)(Ke.nodes,function(Te){return Te.column});return Ke.links.forEach(function(Te){Te.circular&&(Te.circularLinkType=="top"?He=He+Te.width:Ie=Ie+Te.width,Te.target.column==0&&(me=me+Te.width),Te.source.column==Me&&(be=be+Te.width))}),He=He>0?He+E+b:He,Ie=Ie>0?Ie+E+b:Ie,be=be>0?be+E+b:be,me=me>0?me+E+b:me,{top:He,bottom:Ie,left:me,right:be}}function At(Ke,He){var Ie=(0,g.kv)(Ke.nodes,function(nt){return nt.column}),be=we-Ae,me=Ee-ke,Me=be+He.right+He.left,Te=me+He.top+He.bottom,ze=be/Me,Je=me/Te;return Ae=Ae*ze+He.left,we=He.right==0?we:we*ze,ke=ke*Je+He.top,Ee=Ee*Je,Ke.nodes.forEach(function(nt){nt.x0=Ae+nt.column*((we-Ae-xe)/Ie),nt.x1=nt.x0+xe}),Je}function tt(Ke){var He,Ie,be;for(He=Ke.nodes,Ie=[],be=0;He.length;++be,He=Ie,Ie=[])He.forEach(function(me){me.depth=be,me.sourceLinks.forEach(function(Me){Ie.indexOf(Me.target)<0&&!Me.circular&&Ie.push(Me.target)})});for(He=Ke.nodes,Ie=[],be=0;He.length;++be,He=Ie,Ie=[])He.forEach(function(me){me.height=be,me.targetLinks.forEach(function(Me){Ie.indexOf(Me.source)<0&&!Me.circular&&Ie.push(Me.source)})});Ke.nodes.forEach(function(me){me.column=Math.floor(Ue.call(null,me,be))})}function _e(Ke,He,Ie){var be=(0,P.UJ)().key(function(nt){return nt.column}).sortKeys(g.XE).entries(Ke.nodes).map(function(nt){return nt.values});Te(Ie),Je();for(var me=1,Me=He;Me>0;--Me)ze(me*=.99,Ie),Je();function Te(nt){if(at){var pt=1/0;be.forEach(function(St){var kt=Ee*at/(St.length+1);pt=kt<pt?kt:pt}),Re=pt}var yt=(0,g.SY)(be,function(St){return(Ee-ke-(St.length-1)*Re)/(0,g.oh)(St,h)});yt=yt*s,Ke.links.forEach(function(St){St.width=St.value*yt});var Yt=vt(Ke),Xt=At(Ke,Yt);yt=yt*Xt,Ke.links.forEach(function(St){St.width=St.value*yt}),be.forEach(function(St){var kt=St.length;St.forEach(function(Kt,mr){Kt.depth==be.length-1&&kt==1||Kt.depth==0&&kt==1?(Kt.y0=Ee/2-Kt.value*yt,Kt.y1=Kt.y0+Kt.value*yt):Kt.partOfCycle?F(Kt,nt)==0?(Kt.y0=Ee/2+mr,Kt.y1=Kt.y0+Kt.value*yt):Kt.circularLinkType=="top"?(Kt.y0=ke+mr,Kt.y1=Kt.y0+Kt.value*yt):(Kt.y0=Ee-Kt.value*yt-mr,Kt.y1=Kt.y0+Kt.value*yt):Yt.top==0||Yt.bottom==0?(Kt.y0=(Ee-ke)/kt*mr,Kt.y1=Kt.y0+Kt.value*yt):(Kt.y0=(Ee-ke)/2-kt/2+mr,Kt.y1=Kt.y0+Kt.value*yt)})})}function ze(nt,pt){var yt=be.length;be.forEach(function(Yt){var Xt=Yt.length,St=Yt[0].depth;Yt.forEach(function(kt){var Kt;if((kt.sourceLinks.length||kt.targetLinks.length)&&!(kt.partOfCycle&&F(kt,pt)>0))if(St==0&&Xt==1)Kt=kt.y1-kt.y0,kt.y0=Ee/2-Kt/2,kt.y1=Ee/2+Kt/2;else if(St==yt-1&&Xt==1)Kt=kt.y1-kt.y0,kt.y0=Ee/2-Kt/2,kt.y1=Ee/2+Kt/2;else{var mr=0,mt=(0,g.mo)(kt.sourceLinks,o),Zt=(0,g.mo)(kt.targetLinks,c);mt&&Zt?mr=(mt+Zt)/2:mr=mt||Zt;var Qt=(mr-M(kt))*nt;kt.y0+=Qt,kt.y1+=Qt}})})}function Je(){be.forEach(function(nt){var pt,yt,Yt=ke,Xt=nt.length,St;for(nt.sort(y),St=0;St<Xt;++St)pt=nt[St],yt=Yt-pt.y0,yt>0&&(pt.y0+=yt,pt.y1+=yt),Yt=pt.y1+Re;if(yt=Yt-Re-Ee,yt>0)for(Yt=pt.y0-=yt,pt.y1-=yt,St=Xt-2;St>=0;--St)pt=nt[St],yt=pt.y1+Re-Yt,yt>0&&(pt.y0-=yt,pt.y1-=yt),Yt=pt.y0})}}function je(Ke){Ke.nodes.forEach(function(He){He.sourceLinks.sort(l),He.targetLinks.sort(f)}),Ke.nodes.forEach(function(He){var Ie=He.y0,be=Ie,me=He.y1,Me=me;He.sourceLinks.forEach(function(Te){Te.circular?(Te.y0=me-Te.width/2,me=me-Te.width):(Te.y0=Ie+Te.width/2,Ie+=Te.width)}),He.targetLinks.forEach(function(Te){Te.circular?(Te.y1=Me-Te.width/2,Me=Me-Te.width):(Te.y1=be+Te.width/2,be+=Te.width)})})}return rt}function A(Ae,ke,we){var Ee=0;if(we===null){for(var xe=[],Re=0;Re<Ae.links.length;Re++){var Ve=Ae.links[Re],Ue=Ve.source.index,Be=Ve.target.index;xe[Ue]||(xe[Ue]=[]),xe[Be]||(xe[Be]=[]),xe[Ue].indexOf(Be)===-1&&xe[Ue].push(Be)}var Xe=w()(xe);Xe.sort(function(We,rt){return We.length-rt.length});var ut={};for(Re=0;Re<Xe.length;Re++){var dt=Xe[Re],at=dt.slice(-2);ut[at[0]]||(ut[at[0]]={}),ut[at[0]][at[1]]=!0}Ae.links.forEach(function(We){var rt=We.target.index,st=We.source.index;rt===st||ut[st]&&ut[st][rt]?(We.circular=!0,We.circularLinkID=Ee,Ee=Ee+1):We.circular=!1})}else Ae.links.forEach(function(We){We.source[we]<We.target[we]?We.circular=!1:(We.circular=!0,We.circularLinkID=Ee,Ee=Ee+1)})}function k(Ae,ke){var we=0,Ee=0;Ae.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType||xe.target.circularLinkType?xe.circularLinkType=xe.source.circularLinkType?xe.source.circularLinkType:xe.target.circularLinkType:xe.circularLinkType=we<Ee?"top":"bottom",xe.circularLinkType=="top"?we=we+1:Ee=Ee+1,Ae.nodes.forEach(function(Re){(m(Re,ke)==m(xe.source,ke)||m(Re,ke)==m(xe.target,ke))&&(Re.circularLinkType=xe.circularLinkType)}))}),Ae.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType==xe.target.circularLinkType&&(xe.circularLinkType=xe.source.circularLinkType),ye(xe,ke)&&(xe.circularLinkType=xe.source.circularLinkType))})}function _(Ae){var ke=Math.abs(Ae.y1-Ae.y0),we=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(we/ke)}function U(Ae,ke){return Ae.source.column<ke.target.column?!1:!(Ae.target.column>ke.source.column)}function F(Ae,ke){var we=0;Ae.sourceLinks.forEach(function(xe){we=xe.circular&&!ye(xe,ke)?we+1:we});var Ee=0;return Ae.targetLinks.forEach(function(xe){Ee=xe.circular&&!ye(xe,ke)?Ee+1:Ee}),we+Ee}function z(Ae){var ke=Ae.source.sourceLinks,we=0;ke.forEach(function(Re){we=Re.circular?we+1:we});var Ee=Ae.target.targetLinks,xe=0;return Ee.forEach(function(Re){xe=Re.circular?xe+1:xe}),!(we>1||xe>1)}function B(Ae,ke,we){return Ae.sort(W),Ae.forEach(function(Ee,xe){var Re=0;if(ye(Ee,we)&&z(Ee))Ee.circularPathData.verticalBuffer=Re+Ee.width/2;else{var Ve=0;for(Ve;Ve<xe;Ve++)if(U(Ae[xe],Ae[Ve])){var Ue=Ae[Ve].circularPathData.verticalBuffer+Ae[Ve].width/2+ke;Re=Ue>Re?Ue:Re}Ee.circularPathData.verticalBuffer=Re+Ee.width/2}}),Ae}function N(Ae,ke,we,Ee){var xe=5,Re=(0,g.SY)(Ae.links,function(Be){return Be.source.y0});Ae.links.forEach(function(Be){Be.circular&&(Be.circularPathData={})});var Ve=Ae.links.filter(function(Be){return Be.circularLinkType=="top"});B(Ve,ke,Ee);var Ue=Ae.links.filter(function(Be){return Be.circularLinkType=="bottom"});B(Ue,ke,Ee),Ae.links.forEach(function(Be){if(Be.circular){if(Be.circularPathData.arcRadius=Be.width+b,Be.circularPathData.leftNodeBuffer=xe,Be.circularPathData.rightNodeBuffer=xe,Be.circularPathData.sourceWidth=Be.source.x1-Be.source.x0,Be.circularPathData.sourceX=Be.source.x0+Be.circularPathData.sourceWidth,Be.circularPathData.targetX=Be.target.x0,Be.circularPathData.sourceY=Be.y0,Be.circularPathData.targetY=Be.y1,ye(Be,Ee)&&z(Be))Be.circularPathData.leftSmallArcRadius=b+Be.width/2,Be.circularPathData.leftLargeArcRadius=b+Be.width/2,Be.circularPathData.rightSmallArcRadius=b+Be.width/2,Be.circularPathData.rightLargeArcRadius=b+Be.width/2,Be.circularLinkType=="bottom"?(Be.circularPathData.verticalFullExtent=Be.source.y1+E+Be.circularPathData.verticalBuffer,Be.circularPathData.verticalLeftInnerExtent=Be.circularPathData.verticalFullExtent-Be.circularPathData.leftLargeArcRadius,Be.circularPathData.verticalRightInnerExtent=Be.circularPathData.verticalFullExtent-Be.circularPathData.rightLargeArcRadius):(Be.circularPathData.verticalFullExtent=Be.source.y0-E-Be.circularPathData.verticalBuffer,Be.circularPathData.verticalLeftInnerExtent=Be.circularPathData.verticalFullExtent+Be.circularPathData.leftLargeArcRadius,Be.circularPathData.verticalRightInnerExtent=Be.circularPathData.verticalFullExtent+Be.circularPathData.rightLargeArcRadius);else{var Xe=Be.source.column,ut=Be.circularLinkType,dt=Ae.links.filter(function(rt){return rt.source.column==Xe&&rt.circularLinkType==ut});Be.circularLinkType=="bottom"?dt.sort(re):dt.sort(Q);var at=0;dt.forEach(function(rt,st){rt.circularLinkID==Be.circularLinkID&&(Be.circularPathData.leftSmallArcRadius=b+Be.width/2+at,Be.circularPathData.leftLargeArcRadius=b+Be.width/2+st*ke+at),at=at+rt.width}),Xe=Be.target.column,dt=Ae.links.filter(function(rt){return rt.target.column==Xe&&rt.circularLinkType==ut}),Be.circularLinkType=="bottom"?dt.sort(fe):dt.sort(ne),at=0,dt.forEach(function(rt,st){rt.circularLinkID==Be.circularLinkID&&(Be.circularPathData.rightSmallArcRadius=b+Be.width/2+at,Be.circularPathData.rightLargeArcRadius=b+Be.width/2+st*ke+at),at=at+rt.width}),Be.circularLinkType=="bottom"?(Be.circularPathData.verticalFullExtent=Math.max(we,Be.source.y1,Be.target.y1)+E+Be.circularPathData.verticalBuffer,Be.circularPathData.verticalLeftInnerExtent=Be.circularPathData.verticalFullExtent-Be.circularPathData.leftLargeArcRadius,Be.circularPathData.verticalRightInnerExtent=Be.circularPathData.verticalFullExtent-Be.circularPathData.rightLargeArcRadius):(Be.circularPathData.verticalFullExtent=Re-E-Be.circularPathData.verticalBuffer,Be.circularPathData.verticalLeftInnerExtent=Be.circularPathData.verticalFullExtent+Be.circularPathData.leftLargeArcRadius,Be.circularPathData.verticalRightInnerExtent=Be.circularPathData.verticalFullExtent+Be.circularPathData.rightLargeArcRadius)}Be.circularPathData.leftInnerExtent=Be.circularPathData.sourceX+Be.circularPathData.leftNodeBuffer,Be.circularPathData.rightInnerExtent=Be.circularPathData.targetX-Be.circularPathData.rightNodeBuffer,Be.circularPathData.leftFullExtent=Be.circularPathData.sourceX+Be.circularPathData.leftLargeArcRadius+Be.circularPathData.leftNodeBuffer,Be.circularPathData.rightFullExtent=Be.circularPathData.targetX-Be.circularPathData.rightLargeArcRadius-Be.circularPathData.rightNodeBuffer}if(Be.circular)Be.path=V(Be);else{var We=(0,a.ak)().source(function(rt){var st=rt.source.x0+(rt.source.x1-rt.source.x0),ht=rt.y0;return[st,ht]}).target(function(rt){var st=rt.target.x0,ht=rt.y1;return[st,ht]});Be.path=We(Be)}})}function V(Ae){var ke="";return Ae.circularLinkType=="top"?ke="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:ke="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,ke}function W(Ae,ke){return $(Ae)==$(ke)?Ae.circularLinkType=="bottom"?re(Ae,ke):Q(Ae,ke):$(ke)-$(Ae)}function Q(Ae,ke){return Ae.y0-ke.y0}function re(Ae,ke){return ke.y0-Ae.y0}function ne(Ae,ke){return Ae.y1-ke.y1}function fe(Ae,ke){return ke.y1-Ae.y1}function $(Ae){return Ae.target.column-Ae.source.column}function X(Ae){return Ae.target.x0-Ae.source.x1}function oe(Ae,ke){var we=_(Ae),Ee=X(ke)/Math.tan(we),xe=he(Ae)=="up"?Ae.y1+Ee:Ae.y1-Ee;return xe}function Y(Ae,ke){var we=_(Ae),Ee=X(ke)/Math.tan(we),xe=he(Ae)=="up"?Ae.y1-Ee:Ae.y1+Ee;return xe}function ee(Ae,ke,we,Ee){Ae.links.forEach(function(xe){if(!xe.circular&&xe.target.column-xe.source.column>1){var Re=xe.source.column+1,Ve=xe.target.column-1,Ue=1,Be=Ve-Re+1;for(Ue=1;Re<=Ve;Re++,Ue++)Ae.nodes.forEach(function(Xe){if(Xe.column==Re){var ut=Ue/(Be+1),dt=Math.pow(1-ut,3),at=3*ut*Math.pow(1-ut,2),We=3*Math.pow(ut,2)*(1-ut),rt=Math.pow(ut,3),st=dt*xe.y0+at*xe.y0+We*xe.y1+rt*xe.y1,ht=st-xe.width/2,vt=st+xe.width/2,At;ht>Xe.y0&&ht<Xe.y1?(At=Xe.y1-ht+10,At=Xe.circularLinkType=="bottom"?At:-At,Xe=q(Xe,At,ke,we),Ae.nodes.forEach(function(tt){m(tt,Ee)==m(Xe,Ee)||tt.column!=Xe.column||se(Xe,tt)&&q(tt,At,ke,we)})):vt>Xe.y0&&vt<Xe.y1?(At=vt-Xe.y0+10,Xe=q(Xe,At,ke,we),Ae.nodes.forEach(function(tt){m(tt,Ee)==m(Xe,Ee)||tt.column!=Xe.column||tt.y0<Xe.y1&&tt.y1>Xe.y1&&q(tt,At,ke,we)})):ht<Xe.y0&&vt>Xe.y1&&(At=vt-Xe.y0+10,Xe=q(Xe,At,ke,we),Ae.nodes.forEach(function(tt){m(tt,Ee)==m(Xe,Ee)||tt.column!=Xe.column||tt.y0<Xe.y1&&tt.y1>Xe.y1&&q(tt,At,ke,we)}))}})}})}function se(Ae,ke){return Ae.y0>ke.y0&&Ae.y0<ke.y1||Ae.y1>ke.y0&&Ae.y1<ke.y1?!0:Ae.y0<ke.y0&&Ae.y1>ke.y1}function q(Ae,ke,we,Ee){return Ae.y0+ke>=we&&Ae.y1+ke<=Ee&&(Ae.y0=Ae.y0+ke,Ae.y1=Ae.y1+ke,Ae.targetLinks.forEach(function(xe){xe.y1=xe.y1+ke}),Ae.sourceLinks.forEach(function(xe){xe.y0=xe.y0+ke})),Ae}function K(Ae,ke,we,Ee){Ae.nodes.forEach(function(xe){Ee&&xe.y+(xe.y1-xe.y0)>ke&&(xe.y=xe.y-(xe.y+(xe.y1-xe.y0)-ke));var Re=Ae.links.filter(function(Be){return m(Be.source,we)==m(xe,we)}),Ve=Re.length;Ve>1&&Re.sort(function(Be,Xe){if(!Be.circular&&!Xe.circular){if(Be.target.column==Xe.target.column)return Be.y1-Xe.y1;if(ie(Be,Xe)){if(Be.target.column>Xe.target.column){var ut=Y(Xe,Be);return Be.y1-ut}if(Xe.target.column>Be.target.column){var dt=Y(Be,Xe);return dt-Xe.y1}}else return Be.y1-Xe.y1}if(Be.circular&&!Xe.circular)return Be.circularLinkType=="top"?-1:1;if(Xe.circular&&!Be.circular)return Xe.circularLinkType=="top"?1:-1;if(Be.circular&&Xe.circular)return Be.circularLinkType===Xe.circularLinkType&&Be.circularLinkType=="top"?Be.target.column===Xe.target.column?Be.target.y1-Xe.target.y1:Xe.target.column-Be.target.column:Be.circularLinkType===Xe.circularLinkType&&Be.circularLinkType=="bottom"?Be.target.column===Xe.target.column?Xe.target.y1-Be.target.y1:Be.target.column-Xe.target.column:Be.circularLinkType=="top"?-1:1});var Ue=xe.y0;Re.forEach(function(Be){Be.y0=Ue+Be.width/2,Ue=Ue+Be.width}),Re.forEach(function(Be,Xe){if(Be.circularLinkType=="bottom"){var ut=Xe+1,dt=0;for(ut;ut<Ve;ut++)dt=dt+Re[ut].width;Be.y0=xe.y1-dt-Be.width/2}})})}function le(Ae,ke,we){Ae.nodes.forEach(function(Ee){var xe=Ae.links.filter(function(Ue){return m(Ue.target,we)==m(Ee,we)}),Re=xe.length;Re>1&&xe.sort(function(Ue,Be){if(!Ue.circular&&!Be.circular){if(Ue.source.column==Be.source.column)return Ue.y0-Be.y0;if(ie(Ue,Be)){if(Be.source.column<Ue.source.column){var Xe=oe(Be,Ue);return Ue.y0-Xe}if(Ue.source.column<Be.source.column){var ut=oe(Ue,Be);return ut-Be.y0}}else return Ue.y0-Be.y0}if(Ue.circular&&!Be.circular)return Ue.circularLinkType=="top"?-1:1;if(Be.circular&&!Ue.circular)return Be.circularLinkType=="top"?1:-1;if(Ue.circular&&Be.circular)return Ue.circularLinkType===Be.circularLinkType&&Ue.circularLinkType=="top"?Ue.source.column===Be.source.column?Ue.source.y1-Be.source.y1:Ue.source.column-Be.source.column:Ue.circularLinkType===Be.circularLinkType&&Ue.circularLinkType=="bottom"?Ue.source.column===Be.source.column?Ue.source.y1-Be.source.y1:Be.source.column-Ue.source.column:Ue.circularLinkType=="top"?-1:1});var Ve=Ee.y0;xe.forEach(function(Ue){Ue.y1=Ve+Ue.width/2,Ve=Ve+Ue.width}),xe.forEach(function(Ue,Be){if(Ue.circularLinkType=="bottom"){var Xe=Be+1,ut=0;for(Xe;Xe<Re;Xe++)ut=ut+xe[Xe].width;Ue.y1=Ee.y1-ut-Ue.width/2}})})}function ie(Ae,ke){return he(Ae)==he(ke)}function he(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function ye(Ae,ke){return m(Ae.source,ke)==m(Ae.target,ke)}function Ce(Ae,ke,we){var Ee=Ae.nodes,xe=Ae.links,Re=!1,Ve=!1;if(xe.forEach(function(at){at.circularLinkType=="top"?Re=!0:at.circularLinkType=="bottom"&&(Ve=!0)}),Re==!1||Ve==!1){var Ue=(0,g.SY)(Ee,function(at){return at.y0}),Be=(0,g.kv)(Ee,function(at){return at.y1}),Xe=Be-Ue,ut=we-ke,dt=ut/Xe;Ee.forEach(function(at){var We=(at.y1-at.y0)*dt;at.y0=(at.y0-Ue)*dt,at.y1=at.y0+We}),xe.forEach(function(at){at.y0=(at.y0-Ue)*dt,at.y1=(at.y1-Ue)*dt,at.width=at.width*dt})}}},26800:function(H,j,e){e.r(j),e.d(j,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return x},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return w}});var g=e(84706),P=e(34712);function a(E){return E.target.depth}function x(E){return E.depth}function w(E,b){return b-1-E.height}function v(E,b){return E.sourceLinks.length?E.depth:b-1}function p(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,g.SY)(E.sourceLinks,a)-1:0}function r(E){return function(){return E}}function t(E,b){return n(E.source,b.source)||E.index-b.index}function i(E,b){return n(E.target,b.target)||E.index-b.index}function n(E,b){return E.y0-b.y0}function u(E){return E.value}function f(E){return(E.y0+E.y1)/2}function l(E){return f(E.source)*E.value}function y(E){return f(E.target)*E.value}function h(E){return E.index}function M(E){return E.nodes}function c(E){return E.links}function o(E,b){var s=E.get(b);if(!s)throw new Error("missing: "+b);return s}function d(){var E=0,b=0,s=1,L=1,A=24,k=8,_=h,U=v,F=M,z=c,B=32,N=2/3;function V(){var $={nodes:F.apply(null,arguments),links:z.apply(null,arguments)};return W($),Q($),re($),ne($),fe($),$}V.update=function($){return fe($),$},V.nodeId=function($){return arguments.length?(_=typeof $=="function"?$:r($),V):_},V.nodeAlign=function($){return arguments.length?(U=typeof $=="function"?$:r($),V):U},V.nodeWidth=function($){return arguments.length?(A=+$,V):A},V.nodePadding=function($){return arguments.length?(k=+$,V):k},V.nodes=function($){return arguments.length?(F=typeof $=="function"?$:r($),V):F},V.links=function($){return arguments.length?(z=typeof $=="function"?$:r($),V):z},V.size=function($){return arguments.length?(E=b=0,s=+$[0],L=+$[1],V):[s-E,L-b]},V.extent=function($){return arguments.length?(E=+$[0][0],s=+$[1][0],b=+$[0][1],L=+$[1][1],V):[[E,b],[s,L]]},V.iterations=function($){return arguments.length?(B=+$,V):B};function W($){$.nodes.forEach(function(oe,Y){oe.index=Y,oe.sourceLinks=[],oe.targetLinks=[]});var X=(0,P.kH)($.nodes,_);$.links.forEach(function(oe,Y){oe.index=Y;var ee=oe.source,se=oe.target;typeof ee!="object"&&(ee=oe.source=o(X,ee)),typeof se!="object"&&(se=oe.target=o(X,se)),ee.sourceLinks.push(oe),se.targetLinks.push(oe)})}function Q($){$.nodes.forEach(function(X){X.value=Math.max((0,g.oh)(X.sourceLinks,u),(0,g.oh)(X.targetLinks,u))})}function re($){var X,oe,Y;for(X=$.nodes,oe=[],Y=0;X.length;++Y,X=oe,oe=[])X.forEach(function(se){se.depth=Y,se.sourceLinks.forEach(function(q){oe.indexOf(q.target)<0&&oe.push(q.target)})});for(X=$.nodes,oe=[],Y=0;X.length;++Y,X=oe,oe=[])X.forEach(function(se){se.height=Y,se.targetLinks.forEach(function(q){oe.indexOf(q.source)<0&&oe.push(q.source)})});var ee=(s-E-A)/(Y-1);$.nodes.forEach(function(se){se.x1=(se.x0=E+Math.max(0,Math.min(Y-1,Math.floor(U.call(null,se,Y))))*ee)+A})}function ne($){var X=(0,P.UJ)().key(function(le){return le.x0}).sortKeys(g.XE).entries($.nodes).map(function(le){return le.values});ee(),K();for(var oe=1,Y=B;Y>0;--Y)q(oe*=.99),K(),se(oe),K();function ee(){var le=(0,g.kv)(X,function(ye){return ye.length}),ie=N*(L-b)/(le-1);k>ie&&(k=ie);var he=(0,g.SY)(X,function(ye){return(L-b-(ye.length-1)*k)/(0,g.oh)(ye,u)});X.forEach(function(ye){ye.forEach(function(Ce,Ae){Ce.y1=(Ce.y0=Ae)+Ce.value*he})}),$.links.forEach(function(ye){ye.width=ye.value*he})}function se(le){X.forEach(function(ie){ie.forEach(function(he){if(he.targetLinks.length){var ye=((0,g.oh)(he.targetLinks,l)/(0,g.oh)(he.targetLinks,u)-f(he))*le;he.y0+=ye,he.y1+=ye}})})}function q(le){X.slice().reverse().forEach(function(ie){ie.forEach(function(he){if(he.sourceLinks.length){var ye=((0,g.oh)(he.sourceLinks,y)/(0,g.oh)(he.sourceLinks,u)-f(he))*le;he.y0+=ye,he.y1+=ye}})})}function K(){X.forEach(function(le){var ie,he,ye=b,Ce=le.length,Ae;for(le.sort(n),Ae=0;Ae<Ce;++Ae)ie=le[Ae],he=ye-ie.y0,he>0&&(ie.y0+=he,ie.y1+=he),ye=ie.y1+k;if(he=ye-k-L,he>0)for(ye=ie.y0-=he,ie.y1-=he,Ae=Ce-2;Ae>=0;--Ae)ie=le[Ae],he=ie.y1+k-ye,he>0&&(ie.y0-=he,ie.y1-=he),ye=ie.y0})}}function fe($){$.nodes.forEach(function(X){X.sourceLinks.sort(i),X.targetLinks.sort(t)}),$.nodes.forEach(function(X){var oe=X.y0,Y=oe;X.sourceLinks.forEach(function(ee){ee.y0=oe+ee.width/2,oe+=ee.width}),X.targetLinks.forEach(function(ee){ee.y1=Y+ee.width/2,Y+=ee.width})})}return V}var T=e(10132);function S(E){return[E.source.x1,E.y0]}function C(E){return[E.target.x0,E.y1]}function m(){return(0,T.ak)().source(S).target(C)}},33428:function(H,j,e){var g,P;(function(){var a={version:"3.8.0"},x=[].slice,w=function(ce){return x.call(ce)},v=self.document;function p(ce){return ce&&(ce.ownerDocument||ce.document||ce).documentElement}function r(ce){return ce&&(ce.ownerDocument&&ce.ownerDocument.defaultView||ce.document&&ce||ce.defaultView)}if(v)try{w(v.documentElement.childNodes)[0].nodeType}catch{w=function(Pe){for(var Ne=Pe.length,et=new Array(Ne);Ne--;)et[Ne]=Pe[Ne];return et}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,i=t.setAttribute,n=t.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;t.setAttribute=function(Pe,Ne){i.call(this,Pe,Ne+"")},t.setAttributeNS=function(Pe,Ne,et){n.call(this,Pe,Ne,et+"")},u.setProperty=function(Pe,Ne,et){f.call(this,Pe,Ne+"",et)}}a.ascending=l;function l(ce,Pe){return ce<Pe?-1:ce>Pe?1:ce>=Pe?0:NaN}a.descending=function(ce,Pe){return Pe<ce?-1:Pe>ce?1:Pe>=ce?0:NaN},a.min=function(ce,Pe){var Ne=-1,et=ce.length,it,ct;if(arguments.length===1){for(;++Ne<et;)if((ct=ce[Ne])!=null&&ct>=ct){it=ct;break}for(;++Ne<et;)(ct=ce[Ne])!=null&&it>ct&&(it=ct)}else{for(;++Ne<et;)if((ct=Pe.call(ce,ce[Ne],Ne))!=null&&ct>=ct){it=ct;break}for(;++Ne<et;)(ct=Pe.call(ce,ce[Ne],Ne))!=null&&it>ct&&(it=ct)}return it},a.max=function(ce,Pe){var Ne=-1,et=ce.length,it,ct;if(arguments.length===1){for(;++Ne<et;)if((ct=ce[Ne])!=null&&ct>=ct){it=ct;break}for(;++Ne<et;)(ct=ce[Ne])!=null&&ct>it&&(it=ct)}else{for(;++Ne<et;)if((ct=Pe.call(ce,ce[Ne],Ne))!=null&&ct>=ct){it=ct;break}for(;++Ne<et;)(ct=Pe.call(ce,ce[Ne],Ne))!=null&&ct>it&&(it=ct)}return it},a.extent=function(ce,Pe){var Ne=-1,et=ce.length,it,ct,Pt;if(arguments.length===1){for(;++Ne<et;)if((ct=ce[Ne])!=null&&ct>=ct){it=Pt=ct;break}for(;++Ne<et;)(ct=ce[Ne])!=null&&(it>ct&&(it=ct),Pt<ct&&(Pt=ct))}else{for(;++Ne<et;)if((ct=Pe.call(ce,ce[Ne],Ne))!=null&&ct>=ct){it=Pt=ct;break}for(;++Ne<et;)(ct=Pe.call(ce,ce[Ne],Ne))!=null&&(it>ct&&(it=ct),Pt<ct&&(Pt=ct))}return[it,Pt]};function y(ce){return ce===null?NaN:+ce}function h(ce){return!isNaN(ce)}a.sum=function(ce,Pe){var Ne=0,et=ce.length,it,ct=-1;if(arguments.length===1)for(;++ct<et;)h(it=+ce[ct])&&(Ne+=it);else for(;++ct<et;)h(it=+Pe.call(ce,ce[ct],ct))&&(Ne+=it);return Ne},a.mean=function(ce,Pe){var Ne=0,et=ce.length,it,ct=-1,Pt=et;if(arguments.length===1)for(;++ct<et;)h(it=y(ce[ct]))?Ne+=it:--Pt;else for(;++ct<et;)h(it=y(Pe.call(ce,ce[ct],ct)))?Ne+=it:--Pt;if(Pt)return Ne/Pt},a.quantile=function(ce,Pe){var Ne=(ce.length-1)*Pe+1,et=Math.floor(Ne),it=+ce[et-1],ct=Ne-et;return ct?it+ct*(ce[et]-it):it},a.median=function(ce,Pe){var Ne=[],et=ce.length,it,ct=-1;if(arguments.length===1)for(;++ct<et;)h(it=y(ce[ct]))&&Ne.push(it);else for(;++ct<et;)h(it=y(Pe.call(ce,ce[ct],ct)))&&Ne.push(it);if(Ne.length)return a.quantile(Ne.sort(l),.5)},a.variance=function(ce,Pe){var Ne=ce.length,et=0,it,ct,Pt=0,Mt=-1,Ht=0;if(arguments.length===1)for(;++Mt<Ne;)h(it=y(ce[Mt]))&&(ct=it-et,et+=ct/++Ht,Pt+=ct*(it-et));else for(;++Mt<Ne;)h(it=y(Pe.call(ce,ce[Mt],Mt)))&&(ct=it-et,et+=ct/++Ht,Pt+=ct*(it-et));if(Ht>1)return Pt/(Ht-1)},a.deviation=function(){var ce=a.variance.apply(this,arguments);return ce&&Math.sqrt(ce)};function M(ce){return{left:function(Pe,Ne,et,it){for(arguments.length<3&&(et=0),arguments.length<4&&(it=Pe.length);et<it;){var ct=et+it>>>1;ce(Pe[ct],Ne)<0?et=ct+1:it=ct}return et},right:function(Pe,Ne,et,it){for(arguments.length<3&&(et=0),arguments.length<4&&(it=Pe.length);et<it;){var ct=et+it>>>1;ce(Pe[ct],Ne)>0?it=ct:et=ct+1}return et}}}var c=M(l);a.bisectLeft=c.left,a.bisect=a.bisectRight=c.right,a.bisector=function(ce){return M(ce.length===1?function(Pe,Ne){return l(ce(Pe),Ne)}:ce)},a.shuffle=function(ce,Pe,Ne){(et=arguments.length)<3&&(Ne=ce.length,et<2&&(Pe=0));for(var et=Ne-Pe,it,ct;et;)ct=Math.random()*et--|0,it=ce[et+Pe],ce[et+Pe]=ce[ct+Pe],ce[ct+Pe]=it;return ce},a.permute=function(ce,Pe){for(var Ne=Pe.length,et=new Array(Ne);Ne--;)et[Ne]=ce[Pe[Ne]];return et},a.pairs=function(ce){for(var Pe=0,Ne=ce.length-1,et=ce[0],it=new Array(Ne<0?0:Ne);Pe<Ne;)it[Pe]=[et,et=ce[++Pe]];return it},a.transpose=function(ce){if(!(ct=ce.length))return[];for(var Pe=-1,Ne=a.min(ce,o),et=new Array(Ne);++Pe<Ne;)for(var it=-1,ct,Pt=et[Pe]=new Array(ct);++it<ct;)Pt[it]=ce[it][Pe];return et};function o(ce){return ce.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(ce){var Pe=[];for(var Ne in ce)Pe.push(Ne);return Pe},a.values=function(ce){var Pe=[];for(var Ne in ce)Pe.push(ce[Ne]);return Pe},a.entries=function(ce){var Pe=[];for(var Ne in ce)Pe.push({key:Ne,value:ce[Ne]});return Pe},a.merge=function(ce){for(var Pe=ce.length,Ne,et=-1,it=0,ct,Pt;++et<Pe;)it+=ce[et].length;for(ct=new Array(it);--Pe>=0;)for(Pt=ce[Pe],Ne=Pt.length;--Ne>=0;)ct[--it]=Pt[Ne];return ct};var d=Math.abs;a.range=function(ce,Pe,Ne){if(arguments.length<3&&(Ne=1,arguments.length<2&&(Pe=ce,ce=0)),(Pe-ce)/Ne===1/0)throw new Error("infinite range");var et=[],it=T(d(Ne)),ct=-1,Pt;if(ce*=it,Pe*=it,Ne*=it,Ne<0)for(;(Pt=ce+Ne*++ct)>Pe;)et.push(Pt/it);else for(;(Pt=ce+Ne*++ct)<Pe;)et.push(Pt/it);return et};function T(ce){for(var Pe=1;ce*Pe%1;)Pe*=10;return Pe}function S(ce,Pe){for(var Ne in Pe)Object.defineProperty(ce.prototype,Ne,{value:Pe[Ne],enumerable:!1})}a.map=function(ce,Pe){var Ne=new C;if(ce instanceof C)ce.forEach(function(Mt,Ht){Ne.set(Mt,Ht)});else if(Array.isArray(ce)){var et=-1,it=ce.length,ct;if(arguments.length===1)for(;++et<it;)Ne.set(et,ce[et]);else for(;++et<it;)Ne.set(Pe.call(ce,ct=ce[et],et),ct)}else for(var Pt in ce)Ne.set(Pt,ce[Pt]);return Ne};function C(){this._=Object.create(null)}var m="__proto__",E="\0";S(C,{has:L,get:function(ce){return this._[b(ce)]},set:function(ce,Pe){return this._[b(ce)]=Pe},remove:A,keys:k,values:function(){var ce=[];for(var Pe in this._)ce.push(this._[Pe]);return ce},entries:function(){var ce=[];for(var Pe in this._)ce.push({key:s(Pe),value:this._[Pe]});return ce},size:_,empty:U,forEach:function(ce){for(var Pe in this._)ce.call(this,s(Pe),this._[Pe])}});function b(ce){return(ce+="")===m||ce[0]===E?E+ce:ce}function s(ce){return(ce+="")[0]===E?ce.slice(1):ce}function L(ce){return b(ce)in this._}function A(ce){return(ce=b(ce))in this._&&delete this._[ce]}function k(){var ce=[];for(var Pe in this._)ce.push(s(Pe));return ce}function _(){var ce=0;for(var Pe in this._)++ce;return ce}function U(){for(var ce in this._)return!1;return!0}a.nest=function(){var ce={},Pe=[],Ne=[],et,it;function ct(Mt,Ht,Gt){if(Gt>=Pe.length)return it?it.call(ce,Ht):et?Ht.sort(et):Ht;for(var rr=-1,Lr=Ht.length,Rr=Pe[Gt++],$r,sn,Ir,Ur=new C,Kr;++rr<Lr;)(Kr=Ur.get($r=Rr(sn=Ht[rr])))?Kr.push(sn):Ur.set($r,[sn]);return Mt?(sn=Mt(),Ir=function(fn,dn){sn.set(fn,ct(Mt,dn,Gt))}):(sn={},Ir=function(fn,dn){sn[fn]=ct(Mt,dn,Gt)}),Ur.forEach(Ir),sn}function Pt(Mt,Ht){if(Ht>=Pe.length)return Mt;var Gt=[],rr=Ne[Ht++];return Mt.forEach(function(Lr,Rr){Gt.push({key:Lr,values:Pt(Rr,Ht)})}),rr?Gt.sort(function(Lr,Rr){return rr(Lr.key,Rr.key)}):Gt}return ce.map=function(Mt,Ht){return ct(Ht,Mt,0)},ce.entries=function(Mt){return Pt(ct(a.map,Mt,0),0)},ce.key=function(Mt){return Pe.push(Mt),ce},ce.sortKeys=function(Mt){return Ne[Pe.length-1]=Mt,ce},ce.sortValues=function(Mt){return et=Mt,ce},ce.rollup=function(Mt){return it=Mt,ce},ce},a.set=function(ce){var Pe=new F;if(ce)for(var Ne=0,et=ce.length;Ne<et;++Ne)Pe.add(ce[Ne]);return Pe};function F(){this._=Object.create(null)}S(F,{has:L,add:function(ce){return this._[b(ce+="")]=!0,ce},remove:A,values:k,size:_,empty:U,forEach:function(ce){for(var Pe in this._)ce.call(this,s(Pe))}}),a.behavior={};function z(ce){return ce}a.rebind=function(ce,Pe){for(var Ne=1,et=arguments.length,it;++Ne<et;)ce[it=arguments[Ne]]=B(ce,Pe,Pe[it]);return ce};function B(ce,Pe,Ne){return function(){var et=Ne.apply(Pe,arguments);return et===Pe?ce:et}}function N(ce,Pe){if(Pe in ce)return Pe;Pe=Pe.charAt(0).toUpperCase()+Pe.slice(1);for(var Ne=0,et=V.length;Ne<et;++Ne){var it=V[Ne]+Pe;if(it in ce)return it}}var V=["webkit","ms","moz","Moz","o","O"];function W(){}a.dispatch=function(){for(var ce=new Q,Pe=-1,Ne=arguments.length;++Pe<Ne;)ce[arguments[Pe]]=re(ce);return ce};function Q(){}Q.prototype.on=function(ce,Pe){var Ne=ce.indexOf("."),et="";if(Ne>=0&&(et=ce.slice(Ne+1),ce=ce.slice(0,Ne)),ce)return arguments.length<2?this[ce].on(et):this[ce].on(et,Pe);if(arguments.length===2){if(Pe==null)for(ce in this)this.hasOwnProperty(ce)&&this[ce].on(et,null);return this}};function re(ce){var Pe=[],Ne=new C;function et(){for(var it=Pe,ct=-1,Pt=it.length,Mt;++ct<Pt;)(Mt=it[ct].on)&&Mt.apply(this,arguments);return ce}return et.on=function(it,ct){var Pt=Ne.get(it),Mt;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Pe=Pe.slice(0,Mt=Pe.indexOf(Pt)).concat(Pe.slice(Mt+1)),Ne.remove(it)),ct&&Pe.push(Ne.set(it,{on:ct})),ce)},et}a.event=null;function ne(){a.event.preventDefault()}function fe(){for(var ce=a.event,Pe;Pe=ce.sourceEvent;)ce=Pe;return ce}function $(ce){for(var Pe=new Q,Ne=0,et=arguments.length;++Ne<et;)Pe[arguments[Ne]]=re(Pe);return Pe.of=function(it,ct){return function(Pt){try{var Mt=Pt.sourceEvent=a.event;Pt.target=ce,a.event=Pt,Pe[Pt.type].apply(it,ct)}finally{a.event=Mt}}},Pe}a.requote=function(ce){return ce.replace(X,"\\$&")};var X=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,oe={}.__proto__?function(ce,Pe){ce.__proto__=Pe}:function(ce,Pe){for(var Ne in Pe)ce[Ne]=Pe[Ne]};function Y(ce){return oe(ce,K),ce}var ee=function(ce,Pe){return Pe.querySelector(ce)},se=function(ce,Pe){return Pe.querySelectorAll(ce)},q=function(ce,Pe){var Ne=ce.matches||ce[N(ce,"matchesSelector")];return q=function(et,it){return Ne.call(et,it)},q(ce,Pe)};typeof Sizzle=="function"&&(ee=function(ce,Pe){return Sizzle(ce,Pe)[0]||null},se=Sizzle,q=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var K=a.selection.prototype=[];K.select=function(ce){var Pe=[],Ne,et,it,ct;ce=le(ce);for(var Pt=-1,Mt=this.length;++Pt<Mt;){Pe.push(Ne=[]),Ne.parentNode=(it=this[Pt]).parentNode;for(var Ht=-1,Gt=it.length;++Ht<Gt;)(ct=it[Ht])?(Ne.push(et=ce.call(ct,ct.__data__,Ht,Pt)),et&&"__data__"in ct&&(et.__data__=ct.__data__)):Ne.push(null)}return Y(Pe)};function le(ce){return typeof ce=="function"?ce:function(){return ee(ce,this)}}K.selectAll=function(ce){var Pe=[],Ne,et;ce=ie(ce);for(var it=-1,ct=this.length;++it<ct;)for(var Pt=this[it],Mt=-1,Ht=Pt.length;++Mt<Ht;)(et=Pt[Mt])&&(Pe.push(Ne=w(ce.call(et,et.__data__,Mt,it))),Ne.parentNode=et);return Y(Pe)};function ie(ce){return typeof ce=="function"?ce:function(){return se(ce,this)}}var he="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:ye,qualify:function(ce){var Pe=ce.indexOf(":"),Ne=ce;return Pe>=0&&(Ne=ce.slice(0,Pe))!=="xmlns"&&(ce=ce.slice(Pe+1)),ye.hasOwnProperty(Ne)?{space:ye[Ne],local:ce}:ce}},K.attr=function(ce,Pe){if(arguments.length<2){if(typeof ce=="string"){var Ne=this.node();return ce=a.ns.qualify(ce),ce.local?Ne.getAttributeNS(ce.space,ce.local):Ne.getAttribute(ce)}for(Pe in ce)this.each(Ce(Pe,ce[Pe]));return this}return this.each(Ce(ce,Pe))};function Ce(ce,Pe){ce=a.ns.qualify(ce);function Ne(){this.removeAttribute(ce)}function et(){this.removeAttributeNS(ce.space,ce.local)}function it(){this.setAttribute(ce,Pe)}function ct(){this.setAttributeNS(ce.space,ce.local,Pe)}function Pt(){var Ht=Pe.apply(this,arguments);Ht==null?this.removeAttribute(ce):this.setAttribute(ce,Ht)}function Mt(){var Ht=Pe.apply(this,arguments);Ht==null?this.removeAttributeNS(ce.space,ce.local):this.setAttributeNS(ce.space,ce.local,Ht)}return Pe==null?ce.local?et:Ne:typeof Pe=="function"?ce.local?Mt:Pt:ce.local?ct:it}function Ae(ce){return ce.trim().replace(/\s+/g," ")}K.classed=function(ce,Pe){if(arguments.length<2){if(typeof ce=="string"){var Ne=this.node(),et=(ce=we(ce)).length,it=-1;if(Pe=Ne.classList){for(;++it<et;)if(!Pe.contains(ce[it]))return!1}else for(Pe=Ne.getAttribute("class");++it<et;)if(!ke(ce[it]).test(Pe))return!1;return!0}for(Pe in ce)this.each(Ee(Pe,ce[Pe]));return this}return this.each(Ee(ce,Pe))};function ke(ce){return new RegExp("(?:^|\\s+)"+a.requote(ce)+"(?:\\s+|$)","g")}function we(ce){return(ce+"").trim().split(/^|\s+/)}function Ee(ce,Pe){ce=we(ce).map(xe);var Ne=ce.length;function et(){for(var ct=-1;++ct<Ne;)ce[ct](this,Pe)}function it(){for(var ct=-1,Pt=Pe.apply(this,arguments);++ct<Ne;)ce[ct](this,Pt)}return typeof Pe=="function"?it:et}function xe(ce){var Pe=ke(ce);return function(Ne,et){if(it=Ne.classList)return et?it.add(ce):it.remove(ce);var it=Ne.getAttribute("class")||"";et?(Pe.lastIndex=0,Pe.test(it)||Ne.setAttribute("class",Ae(it+" "+ce))):Ne.setAttribute("class",Ae(it.replace(Pe," ")))}}K.style=function(ce,Pe,Ne){var et=arguments.length;if(et<3){if(typeof ce!="string"){et<2&&(Pe="");for(Ne in ce)this.each(Re(Ne,ce[Ne],Pe));return this}if(et<2){var it=this.node();return r(it).getComputedStyle(it,null).getPropertyValue(ce)}Ne=""}return this.each(Re(ce,Pe,Ne))};function Re(ce,Pe,Ne){function et(){this.style.removeProperty(ce)}function it(){this.style.setProperty(ce,Pe,Ne)}function ct(){var Pt=Pe.apply(this,arguments);Pt==null?this.style.removeProperty(ce):this.style.setProperty(ce,Pt,Ne)}return Pe==null?et:typeof Pe=="function"?ct:it}K.property=function(ce,Pe){if(arguments.length<2){if(typeof ce=="string")return this.node()[ce];for(Pe in ce)this.each(Ve(Pe,ce[Pe]));return this}return this.each(Ve(ce,Pe))};function Ve(ce,Pe){function Ne(){delete this[ce]}function et(){this[ce]=Pe}function it(){var ct=Pe.apply(this,arguments);ct==null?delete this[ce]:this[ce]=ct}return Pe==null?Ne:typeof Pe=="function"?it:et}K.text=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var Pe=ce.apply(this,arguments);this.textContent=Pe??""}:ce==null?function(){this.textContent=""}:function(){this.textContent=ce}):this.node().textContent},K.html=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var Pe=ce.apply(this,arguments);this.innerHTML=Pe??""}:ce==null?function(){this.innerHTML=""}:function(){this.innerHTML=ce}):this.node().innerHTML},K.append=function(ce){return ce=Ue(ce),this.select(function(){return this.appendChild(ce.apply(this,arguments))})};function Ue(ce){function Pe(){var et=this.ownerDocument,it=this.namespaceURI;return it===he&&et.documentElement.namespaceURI===he?et.createElement(ce):et.createElementNS(it,ce)}function Ne(){return this.ownerDocument.createElementNS(ce.space,ce.local)}return typeof ce=="function"?ce:(ce=a.ns.qualify(ce)).local?Ne:Pe}K.insert=function(ce,Pe){return ce=Ue(ce),Pe=le(Pe),this.select(function(){return this.insertBefore(ce.apply(this,arguments),Pe.apply(this,arguments)||null)})},K.remove=function(){return this.each(Be)};function Be(){var ce=this.parentNode;ce&&ce.removeChild(this)}K.data=function(ce,Pe){var Ne=-1,et=this.length,it,ct;if(!arguments.length){for(ce=new Array(et=(it=this[0]).length);++Ne<et;)(ct=it[Ne])&&(ce[Ne]=ct.__data__);return ce}function Pt(rr,Lr){var Rr,$r=rr.length,sn=Lr.length,Ir=Math.min($r,sn),Ur=new Array(sn),Kr=new Array(sn),fn=new Array($r),dn,en;if(Pe){var jn=new C,ea=new Array($r),fa;for(Rr=-1;++Rr<$r;)(dn=rr[Rr])&&(jn.has(fa=Pe.call(dn,dn.__data__,Rr))?fn[Rr]=dn:jn.set(fa,dn),ea[Rr]=fa);for(Rr=-1;++Rr<sn;)(dn=jn.get(fa=Pe.call(Lr,en=Lr[Rr],Rr)))?dn!==!0&&(Ur[Rr]=dn,dn.__data__=en):Kr[Rr]=Xe(en),jn.set(fa,!0);for(Rr=-1;++Rr<$r;)Rr in ea&&jn.get(ea[Rr])!==!0&&(fn[Rr]=rr[Rr])}else{for(Rr=-1;++Rr<Ir;)dn=rr[Rr],en=Lr[Rr],dn?(dn.__data__=en,Ur[Rr]=dn):Kr[Rr]=Xe(en);for(;Rr<sn;++Rr)Kr[Rr]=Xe(Lr[Rr]);for(;Rr<$r;++Rr)fn[Rr]=rr[Rr]}Kr.update=Ur,Kr.parentNode=Ur.parentNode=fn.parentNode=rr.parentNode,Mt.push(Kr),Ht.push(Ur),Gt.push(fn)}var Mt=We([]),Ht=Y([]),Gt=Y([]);if(typeof ce=="function")for(;++Ne<et;)Pt(it=this[Ne],ce.call(it,it.parentNode.__data__,Ne));else for(;++Ne<et;)Pt(it=this[Ne],ce);return Ht.enter=function(){return Mt},Ht.exit=function(){return Gt},Ht};function Xe(ce){return{__data__:ce}}K.datum=function(ce){return arguments.length?this.property("__data__",ce):this.property("__data__")},K.filter=function(ce){var Pe=[],Ne,et,it;typeof ce!="function"&&(ce=ut(ce));for(var ct=0,Pt=this.length;ct<Pt;ct++){Pe.push(Ne=[]),Ne.parentNode=(et=this[ct]).parentNode;for(var Mt=0,Ht=et.length;Mt<Ht;Mt++)(it=et[Mt])&&ce.call(it,it.__data__,Mt,ct)&&Ne.push(it)}return Y(Pe)};function ut(ce){return function(){return q(this,ce)}}K.order=function(){for(var ce=-1,Pe=this.length;++ce<Pe;)for(var Ne=this[ce],et=Ne.length-1,it=Ne[et],ct;--et>=0;)(ct=Ne[et])&&(it&&it!==ct.nextSibling&&it.parentNode.insertBefore(ct,it),it=ct);return this},K.sort=function(ce){ce=dt.apply(this,arguments);for(var Pe=-1,Ne=this.length;++Pe<Ne;)this[Pe].sort(ce);return this.order()};function dt(ce){return arguments.length||(ce=l),function(Pe,Ne){return Pe&&Ne?ce(Pe.__data__,Ne.__data__):!Pe-!Ne}}K.each=function(ce){return at(this,function(Pe,Ne,et){ce.call(Pe,Pe.__data__,Ne,et)})};function at(ce,Pe){for(var Ne=0,et=ce.length;Ne<et;Ne++)for(var it=ce[Ne],ct=0,Pt=it.length,Mt;ct<Pt;ct++)(Mt=it[ct])&&Pe(Mt,ct,Ne);return ce}K.call=function(ce){var Pe=w(arguments);return ce.apply(Pe[0]=this,Pe),this},K.empty=function(){return!this.node()},K.node=function(){for(var ce=0,Pe=this.length;ce<Pe;ce++)for(var Ne=this[ce],et=0,it=Ne.length;et<it;et++){var ct=Ne[et];if(ct)return ct}return null},K.size=function(){var ce=0;return at(this,function(){++ce}),ce};function We(ce){return oe(ce,rt),ce}var rt=[];a.selection.enter=We,a.selection.enter.prototype=rt,rt.append=K.append,rt.empty=K.empty,rt.node=K.node,rt.call=K.call,rt.size=K.size,rt.select=function(ce){for(var Pe=[],Ne,et,it,ct,Pt,Mt=-1,Ht=this.length;++Mt<Ht;){it=(ct=this[Mt]).update,Pe.push(Ne=[]),Ne.parentNode=ct.parentNode;for(var Gt=-1,rr=ct.length;++Gt<rr;)(Pt=ct[Gt])?(Ne.push(it[Gt]=et=ce.call(ct.parentNode,Pt.__data__,Gt,Mt)),et.__data__=Pt.__data__):Ne.push(null)}return Y(Pe)},rt.insert=function(ce,Pe){return arguments.length<2&&(Pe=st(this)),K.insert.call(this,ce,Pe)};function st(ce){var Pe,Ne;return function(et,it,ct){var Pt=ce[ct].update,Mt=Pt.length,Ht;for(ct!=Ne&&(Ne=ct,Pe=0),it>=Pe&&(Pe=it+1);!(Ht=Pt[Pe])&&++Pe<Mt;);return Ht}}a.select=function(ce){var Pe;return typeof ce=="string"?(Pe=[ee(ce,v)],Pe.parentNode=v.documentElement):(Pe=[ce],Pe.parentNode=p(ce)),Y([Pe])},a.selectAll=function(ce){var Pe;return typeof ce=="string"?(Pe=w(se(ce,v)),Pe.parentNode=v.documentElement):(Pe=w(ce),Pe.parentNode=null),Y([Pe])},K.on=function(ce,Pe,Ne){var et=arguments.length;if(et<3){if(typeof ce!="string"){et<2&&(Pe=!1);for(Ne in ce)this.each(ht(Ne,ce[Ne],Pe));return this}if(et<2)return(et=this.node()["__on"+ce])&&et._;Ne=!1}return this.each(ht(ce,Pe,Ne))};function ht(ce,Pe,Ne){var et="__on"+ce,it=ce.indexOf("."),ct=At;it>0&&(ce=ce.slice(0,it));var Pt=vt.get(ce);Pt&&(ce=Pt,ct=tt);function Mt(){var rr=this[et];rr&&(this.removeEventListener(ce,rr,rr.$),delete this[et])}function Ht(){var rr=ct(Pe,w(arguments));Mt.call(this),this.addEventListener(ce,this[et]=rr,rr.$=Ne),rr._=Pe}function Gt(){var rr=new RegExp("^__on([^.]+)"+a.requote(ce)+"$"),Lr;for(var Rr in this)if(Lr=Rr.match(rr)){var $r=this[Rr];this.removeEventListener(Lr[1],$r,$r.$),delete this[Rr]}}return it?Pe?Ht:Mt:Pe?W:Gt}var vt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&vt.forEach(function(ce){"on"+ce in v&&vt.remove(ce)});function At(ce,Pe){return function(Ne){var et=a.event;a.event=Ne,Pe[0]=this.__data__;try{ce.apply(this,Pe)}finally{a.event=et}}}function tt(ce,Pe){var Ne=At(ce,Pe);return function(et){var it=this,ct=et.relatedTarget;(!ct||ct!==it&&!(ct.compareDocumentPosition(it)&8))&&Ne.call(it,et)}}var _e,je=0;function Ke(ce){var Pe=".dragsuppress-"+ ++je,Ne="click"+Pe,et=a.select(r(ce)).on("touchmove"+Pe,ne).on("dragstart"+Pe,ne).on("selectstart"+Pe,ne);if(_e==null&&(_e="onselectstart"in ce?!1:N(ce.style,"userSelect")),_e){var it=p(ce).style,ct=it[_e];it[_e]="none"}return function(Pt){if(et.on(Pe,null),_e&&(it[_e]=ct),Pt){var Mt=function(){et.on(Ne,null)};et.on(Ne,function(){ne(),Mt()},!0),setTimeout(Mt,0)}}}a.mouse=function(ce){return Ie(ce,fe())};var He=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ie(ce,Pe){Pe.changedTouches&&(Pe=Pe.changedTouches[0]);var Ne=ce.ownerSVGElement||ce;if(Ne.createSVGPoint){var et=Ne.createSVGPoint();if(He<0){var it=r(ce);if(it.scrollX||it.scrollY){Ne=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ct=Ne[0][0].getScreenCTM();He=!(ct.f||ct.e),Ne.remove()}}return He?(et.x=Pe.pageX,et.y=Pe.pageY):(et.x=Pe.clientX,et.y=Pe.clientY),et=et.matrixTransform(ce.getScreenCTM().inverse()),[et.x,et.y]}var Pt=ce.getBoundingClientRect();return[Pe.clientX-Pt.left-ce.clientLeft,Pe.clientY-Pt.top-ce.clientTop]}a.touch=function(ce,Pe,Ne){if(arguments.length<3&&(Ne=Pe,Pe=fe().changedTouches),Pe){for(var et=0,it=Pe.length,ct;et<it;++et)if((ct=Pe[et]).identifier===Ne)return Ie(ce,ct)}},a.behavior.drag=function(){var ce=$(it,"drag","dragstart","dragend"),Pe=null,Ne=ct(W,a.mouse,r,"mousemove","mouseup"),et=ct(be,a.touch,z,"touchmove","touchend");function it(){this.on("mousedown.drag",Ne).on("touchstart.drag",et)}function ct(Pt,Mt,Ht,Gt,rr){return function(){var Lr=this,Rr=a.event.target.correspondingElement||a.event.target,$r=Lr.parentNode,sn=ce.of(Lr,arguments),Ir=0,Ur=Pt(),Kr=".drag"+(Ur==null?"":"-"+Ur),fn,dn=a.select(Ht(Rr)).on(Gt+Kr,ea).on(rr+Kr,fa),en=Ke(Rr),jn=Mt($r,Ur);Pe?(fn=Pe.apply(Lr,arguments),fn=[fn.x-jn[0],fn.y-jn[1]]):fn=[0,0],sn({type:"dragstart"});function ea(){var Qn=Mt($r,Ur),ia,ca;Qn&&(ia=Qn[0]-jn[0],ca=Qn[1]-jn[1],Ir|=ia|ca,jn=Qn,sn({type:"drag",x:Qn[0]+fn[0],y:Qn[1]+fn[1],dx:ia,dy:ca}))}function fa(){Mt($r,Ur)&&(dn.on(Gt+Kr,null).on(rr+Kr,null),en(Ir),sn({type:"dragend"}))}}}return it.origin=function(Pt){return arguments.length?(Pe=Pt,it):Pe},a.rebind(it,ce,"on")};function be(){return a.event.changedTouches[0].identifier}a.touches=function(ce,Pe){return arguments.length<2&&(Pe=fe().touches),Pe?w(Pe).map(function(Ne){var et=Ie(ce,Ne);return et.identifier=Ne.identifier,et}):[]};var me=1e-6,Me=me*me,Te=Math.PI,ze=2*Te,Je=ze-me,nt=Te/2,pt=Te/180,yt=180/Te;function Yt(ce,Pe,Ne){return(Pe[0]-ce[0])*(Ne[1]-ce[1])-(Pe[1]-ce[1])*(Ne[0]-ce[0])}function Xt(ce){return ce>1?nt:ce<-1?-nt:Math.asin(ce)}function St(ce){return((ce=Math.exp(ce))-1/ce)/2}function kt(ce){return((ce=Math.exp(ce))+1/ce)/2}function Kt(ce){return((ce=Math.exp(2*ce))-1)/(ce+1)}var mr=Math.SQRT2,mt=2,Zt=4;a.interpolateZoom=function(ce,Pe){var Ne=ce[0],et=ce[1],it=ce[2],ct=Pe[0],Pt=Pe[1],Mt=Pe[2],Ht=ct-Ne,Gt=Pt-et,rr=Ht*Ht+Gt*Gt,Lr,Rr;if(rr<Me)Rr=Math.log(Mt/it)/mr,Lr=function(fn){return[Ne+fn*Ht,et+fn*Gt,it*Math.exp(mr*fn*Rr)]};else{var $r=Math.sqrt(rr),sn=(Mt*Mt-it*it+Zt*rr)/(2*it*mt*$r),Ir=(Mt*Mt-it*it-Zt*rr)/(2*Mt*mt*$r),Ur=Math.log(Math.sqrt(sn*sn+1)-sn),Kr=Math.log(Math.sqrt(Ir*Ir+1)-Ir);Rr=(Kr-Ur)/mr,Lr=function(fn){var dn=fn*Rr,en=kt(Ur),jn=it/(mt*$r)*(en*Kt(mr*dn+Ur)-St(Ur));return[Ne+jn*Ht,et+jn*Gt,it*en/kt(mr*dn+Ur)]}}return Lr.duration=Rr*1e3,Lr},a.behavior.zoom=function(){var ce={x:0,y:0,k:1},Pe,Ne,et,it=[960,500],ct=Qt,Pt=250,Mt=0,Ht="mousedown.zoom",Gt="mousemove.zoom",rr="mouseup.zoom",Lr,Rr="touchstart.zoom",$r,sn=$(dn,"zoomstart","zoom","zoomend"),Ir,Ur,Kr,fn;sr||(sr="onwheel"in v?(yr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(yr=function(){return a.event.wheelDelta},"mousewheel"):(yr=function(){return-a.event.detail},"MozMousePixelScroll"));function dn(Jn){Jn.on(Ht,Fa).on(sr+".zoom",Bi).on("dblclick.zoom",ui).on(Rr,ni)}dn.event=function(Jn){Jn.each(function(){var Va=sn.of(this,arguments),Sa=ce;kr?a.select(this).transition().each("start.zoom",function(){ce=this.__chart__||{x:0,y:0,k:1},ca(Va)}).tween("zoom:zoom",function(){var Za=it[0],bi=it[1],ai=Ne?Ne[0]:Za/2,eo=Ne?Ne[1]:bi/2,to=a.interpolateZoom([(ai-ce.x)/ce.k,(eo-ce.y)/ce.k,Za/ce.k],[(ai-Sa.x)/Sa.k,(eo-Sa.y)/Sa.k,Za/Sa.k]);return function(oo){var wi=to(oo),xo=Za/wi[2];this.__chart__=ce={x:ai-wi[0]*xo,y:eo-wi[1]*xo,k:xo},Ba(Va)}}).each("interrupt.zoom",function(){Ea(Va)}).each("end.zoom",function(){Ea(Va)}):(this.__chart__=ce,ca(Va),Ba(Va),Ea(Va))})},dn.translate=function(Jn){return arguments.length?(ce={x:+Jn[0],y:+Jn[1],k:ce.k},ia(),dn):[ce.x,ce.y]},dn.scale=function(Jn){return arguments.length?(ce={x:ce.x,y:ce.y,k:null},ea(+Jn),ia(),dn):ce.k},dn.scaleExtent=function(Jn){return arguments.length?(ct=Jn==null?Qt:[+Jn[0],+Jn[1]],dn):ct},dn.center=function(Jn){return arguments.length?(et=Jn&&[+Jn[0],+Jn[1]],dn):et},dn.size=function(Jn){return arguments.length?(it=Jn&&[+Jn[0],+Jn[1]],dn):it},dn.duration=function(Jn){return arguments.length?(Pt=+Jn,dn):Pt},dn.x=function(Jn){return arguments.length?(Ur=Jn,Ir=Jn.copy(),ce={x:0,y:0,k:1},dn):Ur},dn.y=function(Jn){return arguments.length?(fn=Jn,Kr=Jn.copy(),ce={x:0,y:0,k:1},dn):fn};function en(Jn){return[(Jn[0]-ce.x)/ce.k,(Jn[1]-ce.y)/ce.k]}function jn(Jn){return[Jn[0]*ce.k+ce.x,Jn[1]*ce.k+ce.y]}function ea(Jn){ce.k=Math.max(ct[0],Math.min(ct[1],Jn))}function fa(Jn,Va){Va=jn(Va),ce.x+=Jn[0]-Va[0],ce.y+=Jn[1]-Va[1]}function Qn(Jn,Va,Sa,Za){Jn.__chart__={x:ce.x,y:ce.y,k:ce.k},ea(Math.pow(2,Za)),fa(Ne=Va,Sa),Jn=a.select(Jn),Pt>0&&(Jn=Jn.transition().duration(Pt)),Jn.call(dn.event)}function ia(){Ur&&Ur.domain(Ir.range().map(function(Jn){return(Jn-ce.x)/ce.k}).map(Ir.invert)),fn&&fn.domain(Kr.range().map(function(Jn){return(Jn-ce.y)/ce.k}).map(Kr.invert))}function ca(Jn){Mt++||Jn({type:"zoomstart"})}function Ba(Jn){ia(),Jn({type:"zoom",scale:ce.k,translate:[ce.x,ce.y]})}function Ea(Jn){--Mt||(Jn({type:"zoomend"}),Ne=null)}function Fa(){var Jn=this,Va=sn.of(Jn,arguments),Sa=0,Za=a.select(r(Jn)).on(Gt,eo).on(rr,to),bi=en(a.mouse(Jn)),ai=Ke(Jn);Ut.call(Jn),ca(Va);function eo(){Sa=1,fa(a.mouse(Jn),bi),Ba(Va)}function to(){Za.on(Gt,null).on(rr,null),ai(Sa),Ea(Va)}}function ni(){var Jn=this,Va=sn.of(Jn,arguments),Sa={},Za=0,bi,ai=".zoom-"+a.event.changedTouches[0].identifier,eo="touchmove"+ai,to="touchend"+ai,oo=[],wi=a.select(Jn),xo=Ke(Jn);La(),ca(Va),wi.on(Ht,null).on(Rr,La);function sa(){var so=a.touches(Jn);return bi=ce.k,so.forEach(function(ci){ci.identifier in Sa&&(Sa[ci.identifier]=en(ci))}),so}function La(){var so=a.event.target;a.select(so).on(eo,Uo).on(to,Yo),oo.push(so);for(var ci=a.event.changedTouches,Yi=0,Ui=ci.length;Yi<Ui;++Yi)Sa[ci[Yi].identifier]=null;var Es=sa(),Ys=Date.now();if(Es.length===1){if(Ys-$r<500){var Ci=Es[0];Qn(Jn,Ci,Sa[Ci.identifier],Math.floor(Math.log(ce.k)/Math.LN2)+1),ne()}$r=Ys}else if(Es.length>1){var Ci=Es[0],ou=Es[1],Ka=Ci[0]-ou[0],Li=Ci[1]-ou[1];Za=Ka*Ka+Li*Li}}function Uo(){var so=a.touches(Jn),ci,Yi,Ui,Es;Ut.call(Jn);for(var Ys=0,Ci=so.length;Ys<Ci;++Ys,Es=null)if(Ui=so[Ys],Es=Sa[Ui.identifier]){if(Yi)break;ci=Ui,Yi=Es}if(Es){var ou=(ou=Ui[0]-ci[0])*ou+(ou=Ui[1]-ci[1])*ou,Ka=Za&&Math.sqrt(ou/Za);ci=[(ci[0]+Ui[0])/2,(ci[1]+Ui[1])/2],Yi=[(Yi[0]+Es[0])/2,(Yi[1]+Es[1])/2],ea(Ka*bi)}$r=null,fa(ci,Yi),Ba(Va)}function Yo(){if(a.event.touches.length){for(var so=a.event.changedTouches,ci=0,Yi=so.length;ci<Yi;++ci)delete Sa[so[ci].identifier];for(var Ui in Sa)return void sa()}a.selectAll(oo).on(ai,null),wi.on(Ht,Fa).on(Rr,ni),xo(),Ea(Va)}}function Bi(){var Jn=sn.of(this,arguments);Lr?clearTimeout(Lr):(Ut.call(this),Pe=en(Ne=et||a.mouse(this)),ca(Jn)),Lr=setTimeout(function(){Lr=null,Ea(Jn)},50),ne(),ea(Math.pow(2,yr()*.002)*ce.k),fa(Ne,Pe),Ba(Jn)}function ui(){var Jn=a.mouse(this),Va=Math.log(ce.k)/Math.LN2;Qn(this,Jn,en(Jn),a.event.shiftKey?Math.ceil(Va)-1:Math.floor(Va)+1)}return a.rebind(dn,sn,"on")};var Qt=[0,1/0],yr,sr;a.color=bt;function bt(){}bt.prototype.toString=function(){return this.rgb()+""},a.hsl=lt;function lt(ce,Pe,Ne){return this instanceof lt?(this.h=+ce,this.s=+Pe,void(this.l=+Ne)):arguments.length<2?ce instanceof lt?new lt(ce.h,ce.s,ce.l):br(""+ce,vr,lt):new lt(ce,Pe,Ne)}var Tt=lt.prototype=new bt;Tt.brighter=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new lt(this.h,this.s,this.l/ce)},Tt.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new lt(this.h,this.s,ce*this.l)},Tt.rgb=function(){return Ct(this.h,this.s,this.l)};function Ct(ce,Pe,Ne){var et,it;ce=isNaN(ce)?0:(ce%=360)<0?ce+360:ce,Pe=isNaN(Pe)||Pe<0?0:Pe>1?1:Pe,Ne=Ne<0?0:Ne>1?1:Ne,it=Ne<=.5?Ne*(1+Pe):Ne+Pe-Ne*Pe,et=2*Ne-it;function ct(Mt){return Mt>360?Mt-=360:Mt<0&&(Mt+=360),Mt<60?et+(it-et)*Mt/60:Mt<180?it:Mt<240?et+(it-et)*(240-Mt)/60:et}function Pt(Mt){return Math.round(ct(Mt)*255)}return new ur(Pt(ce+120),Pt(ce),Pt(ce-120))}a.hcl=It;function It(ce,Pe,Ne){return this instanceof It?(this.h=+ce,this.c=+Pe,void(this.l=+Ne)):arguments.length<2?ce instanceof It?new It(ce.h,ce.c,ce.l):ce instanceof Bt?zt(ce.l,ce.a,ce.b):zt((ce=Gr((ce=a.rgb(ce)).r,ce.g,ce.b)).l,ce.a,ce.b):new It(ce,Pe,Ne)}var Dt=It.prototype=new bt;Dt.brighter=function(ce){return new It(this.h,this.c,Math.min(100,this.l+$t*(arguments.length?ce:1)))},Dt.darker=function(ce){return new It(this.h,this.c,Math.max(0,this.l-$t*(arguments.length?ce:1)))},Dt.rgb=function(){return Vt(this.h,this.c,this.l).rgb()};function Vt(ce,Pe,Ne){return isNaN(ce)&&(ce=0),isNaN(Pe)&&(Pe=0),new Bt(Ne,Math.cos(ce*=pt)*Pe,Math.sin(ce)*Pe)}a.lab=Bt;function Bt(ce,Pe,Ne){return this instanceof Bt?(this.l=+ce,this.a=+Pe,void(this.b=+Ne)):arguments.length<2?ce instanceof Bt?new Bt(ce.l,ce.a,ce.b):ce instanceof It?Vt(ce.h,ce.c,ce.l):Gr((ce=ur(ce)).r,ce.g,ce.b):new Bt(ce,Pe,Ne)}var $t=18,fr=.95047,cr=1,dr=1.08883,Ye=Bt.prototype=new bt;Ye.brighter=function(ce){return new Bt(Math.min(100,this.l+$t*(arguments.length?ce:1)),this.a,this.b)},Ye.darker=function(ce){return new Bt(Math.max(0,this.l-$t*(arguments.length?ce:1)),this.a,this.b)},Ye.rgb=function(){return Ge(this.l,this.a,this.b)};function Ge(ce,Pe,Ne){var et=(ce+16)/116,it=et+Pe/500,ct=et-Ne/200;return it=Ft(it)*fr,et=Ft(et)*cr,ct=Ft(ct)*dr,new ur(tr(3.2404542*it-1.5371385*et-.4985314*ct),tr(-.969266*it+1.8760108*et+.041556*ct),tr(.0556434*it-.2040259*et+1.0572252*ct))}function zt(ce,Pe,Ne){return ce>0?new It(Math.atan2(Ne,Pe)*yt,Math.sqrt(Pe*Pe+Ne*Ne),ce):new It(NaN,NaN,ce)}function Ft(ce){return ce>.206893034?ce*ce*ce:(ce-.13793103448275862)/7.787037}function Jt(ce){return ce>.008856?Math.pow(ce,.3333333333333333):7.787037*ce+.13793103448275862}function tr(ce){return Math.round(255*(ce<=.00304?12.92*ce:1.055*Math.pow(ce,.4166666666666667)-.055))}a.rgb=ur;function ur(ce,Pe,Ne){return this instanceof ur?(this.r=~~ce,this.g=~~Pe,void(this.b=~~Ne)):arguments.length<2?ce instanceof ur?new ur(ce.r,ce.g,ce.b):br(""+ce,ur,Ct):new ur(ce,Pe,Ne)}function nr(ce){return new ur(ce>>16,ce>>8&255,ce&255)}function Nt(ce){return nr(ce)+""}var hr=ur.prototype=new bt;hr.brighter=function(ce){ce=Math.pow(.7,arguments.length?ce:1);var Pe=this.r,Ne=this.g,et=this.b,it=30;return!Pe&&!Ne&&!et?new ur(it,it,it):(Pe&&Pe<it&&(Pe=it),Ne&&Ne<it&&(Ne=it),et&&et<it&&(et=it),new ur(Math.min(255,Pe/ce),Math.min(255,Ne/ce),Math.min(255,et/ce)))},hr.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new ur(ce*this.r,ce*this.g,ce*this.b)},hr.hsl=function(){return vr(this.r,this.g,this.b)},hr.toString=function(){return"#"+gr(this.r)+gr(this.g)+gr(this.b)};function gr(ce){return ce<16?"0"+Math.max(0,ce).toString(16):Math.min(255,ce).toString(16)}function br(ce,Pe,Ne){var et=0,it=0,ct=0,Pt,Mt,Ht;if(Pt=/([a-z]+)\((.*)\)/.exec(ce=ce.toLowerCase()),Pt)switch(Mt=Pt[2].split(","),Pt[1]){case"hsl":return Ne(parseFloat(Mt[0]),parseFloat(Mt[1])/100,parseFloat(Mt[2])/100);case"rgb":return Pe(_r(Mt[0]),_r(Mt[1]),_r(Mt[2]))}return(Ht=hn.get(ce))?Pe(Ht.r,Ht.g,Ht.b):(ce!=null&&ce.charAt(0)==="#"&&!isNaN(Ht=parseInt(ce.slice(1),16))&&(ce.length===4?(et=(Ht&3840)>>4,et=et>>4|et,it=Ht&240,it=it>>4|it,ct=Ht&15,ct=ct<<4|ct):ce.length===7&&(et=(Ht&16711680)>>16,it=(Ht&65280)>>8,ct=Ht&255)),Pe(et,it,ct))}function vr(ce,Pe,Ne){var et=Math.min(ce/=255,Pe/=255,Ne/=255),it=Math.max(ce,Pe,Ne),ct=it-et,Pt,Mt,Ht=(it+et)/2;return ct?(Mt=Ht<.5?ct/(it+et):ct/(2-it-et),ce==it?Pt=(Pe-Ne)/ct+(Pe<Ne?6:0):Pe==it?Pt=(Ne-ce)/ct+2:Pt=(ce-Pe)/ct+4,Pt*=60):(Pt=NaN,Mt=Ht>0&&Ht<1?0:Pt),new lt(Pt,Mt,Ht)}function Gr(ce,Pe,Ne){ce=Dr(ce),Pe=Dr(Pe),Ne=Dr(Ne);var et=Jt((.4124564*ce+.3575761*Pe+.1804375*Ne)/fr),it=Jt((.2126729*ce+.7151522*Pe+.072175*Ne)/cr),ct=Jt((.0193339*ce+.119192*Pe+.9503041*Ne)/dr);return Bt(116*it-16,500*(et-it),200*(it-ct))}function Dr(ce){return(ce/=255)<=.04045?ce/12.92:Math.pow((ce+.055)/1.055,2.4)}function _r(ce){var Pe=parseFloat(ce);return ce.charAt(ce.length-1)==="%"?Math.round(Pe*2.55):Pe}var hn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});hn.forEach(function(ce,Pe){hn.set(ce,nr(Pe))});function nn(ce){return typeof ce=="function"?ce:function(){return ce}}a.functor=nn,a.xhr=Pn(z);function Pn(ce){return function(Pe,Ne,et){return arguments.length===2&&typeof Ne=="function"&&(et=Ne,Ne=null),Cn(Pe,Ne,ce,et)}}function Cn(ce,Pe,Ne,et){var it={},ct=a.dispatch("beforesend","progress","load","error"),Pt={},Mt=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in Mt)&&/^(http(s)?:)?\/\//.test(ce)&&(Mt=new XDomainRequest),"onload"in Mt?Mt.onload=Mt.onerror=Gt:Mt.onreadystatechange=function(){Mt.readyState>3&&Gt()};function Gt(){var rr=Mt.status,Lr;if(!rr&&Pr(Mt)||rr>=200&&rr<300||rr===304){try{Lr=Ne.call(it,Mt)}catch(Rr){ct.error.call(it,Rr);return}ct.load.call(it,Lr)}else ct.error.call(it,Mt)}return Mt.onprogress=function(rr){var Lr=a.event;a.event=rr;try{ct.progress.call(it,Mt)}finally{a.event=Lr}},it.header=function(rr,Lr){return rr=(rr+"").toLowerCase(),arguments.length<2?Pt[rr]:(Lr==null?delete Pt[rr]:Pt[rr]=Lr+"",it)},it.mimeType=function(rr){return arguments.length?(Pe=rr==null?null:rr+"",it):Pe},it.responseType=function(rr){return arguments.length?(Ht=rr,it):Ht},it.response=function(rr){return Ne=rr,it},["get","post"].forEach(function(rr){it[rr]=function(){return it.send.apply(it,[rr].concat(w(arguments)))}}),it.send=function(rr,Lr,Rr){if(arguments.length===2&&typeof Lr=="function"&&(Rr=Lr,Lr=null),Mt.open(rr,ce,!0),Pe!=null&&!("accept"in Pt)&&(Pt.accept=Pe+",*/*"),Mt.setRequestHeader)for(var $r in Pt)Mt.setRequestHeader($r,Pt[$r]);return Pe!=null&&Mt.overrideMimeType&&Mt.overrideMimeType(Pe),Ht!=null&&(Mt.responseType=Ht),Rr!=null&&it.on("error",Rr).on("load",function(sn){Rr(null,sn)}),ct.beforesend.call(it,Mt),Mt.send(Lr??null),it},it.abort=function(){return Mt.abort(),it},a.rebind(it,ct,"on"),et==null?it:it.get(Ar(et))}function Ar(ce){return ce.length===1?function(Pe,Ne){ce(Pe==null?Ne:null)}:ce}function Pr(ce){var Pe=ce.responseType;return Pe&&Pe!=="text"?ce.response:ce.responseText}a.dsv=function(ce,Pe){var Ne=new RegExp('["'+ce+`
]`),et=ce.charCodeAt(0);function it(Gt,rr,Lr){arguments.length<3&&(Lr=rr,rr=null);var Rr=Cn(Gt,Pe,rr==null?ct:Pt(rr),Lr);return Rr.row=function($r){return arguments.length?Rr.response((rr=$r)==null?ct:Pt($r)):rr},Rr}function ct(Gt){return it.parse(Gt.responseText)}function Pt(Gt){return function(rr){return it.parse(rr.responseText,Gt)}}it.parse=function(Gt,rr){var Lr;return it.parseRows(Gt,function(Rr,$r){if(Lr)return Lr(Rr,$r-1);var sn=function(Ir){for(var Ur={},Kr=Rr.length,fn=0;fn<Kr;++fn)Ur[Rr[fn]]=Ir[fn];return Ur};Lr=rr?function(Ir,Ur){return rr(sn(Ir),Ur)}:sn})},it.parseRows=function(Gt,rr){var Lr={},Rr={},$r=[],sn=Gt.length,Ir=0,Ur=0,Kr,fn;function dn(){if(Ir>=sn)return Rr;if(fn)return fn=!1,Lr;var jn=Ir;if(Gt.charCodeAt(jn)===34){for(var ea=jn;ea++<sn;)if(Gt.charCodeAt(ea)===34){if(Gt.charCodeAt(ea+1)!==34)break;++ea}Ir=ea+2;var fa=Gt.charCodeAt(ea+1);return fa===13?(fn=!0,Gt.charCodeAt(ea+2)===10&&++Ir):fa===10&&(fn=!0),Gt.slice(jn+1,ea).replace(/""/g,'"')}for(;Ir<sn;){var fa=Gt.charCodeAt(Ir++),Qn=1;if(fa===10)fn=!0;else if(fa===13)fn=!0,Gt.charCodeAt(Ir)===10&&(++Ir,++Qn);else if(fa!==et)continue;return Gt.slice(jn,Ir-Qn)}return Gt.slice(jn)}for(;(Kr=dn())!==Rr;){for(var en=[];Kr!==Lr&&Kr!==Rr;)en.push(Kr),Kr=dn();rr&&(en=rr(en,Ur++))==null||$r.push(en)}return $r},it.format=function(Gt){if(Array.isArray(Gt[0]))return it.formatRows(Gt);var rr=new F,Lr=[];return Gt.forEach(function(Rr){for(var $r in Rr)rr.has($r)||Lr.push(rr.add($r))}),[Lr.map(Ht).join(ce)].concat(Gt.map(function(Rr){return Lr.map(function($r){return Ht(Rr[$r])}).join(ce)})).join(`
`)},it.formatRows=function(Gt){return Gt.map(Mt).join(`
`)};function Mt(Gt){return Gt.map(Ht).join(ce)}function Ht(Gt){return Ne.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return it},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Wr,Vr,on,yn,mn=this[N(this,"requestAnimationFrame")]||function(ce){setTimeout(ce,17)};a.timer=function(){Ln.apply(this,arguments)};function Ln(ce,Pe,Ne){var et=arguments.length;et<2&&(Pe=0),et<3&&(Ne=Date.now());var it=Ne+Pe,ct={c:ce,t:it,n:null};return Vr?Vr.n=ct:Wr=ct,Vr=ct,on||(yn=clearTimeout(yn),on=1,mn(zn)),ct}function zn(){var ce=aa(),Pe=ha()-ce;Pe>24?(isFinite(Pe)&&(clearTimeout(yn),yn=setTimeout(zn,Pe)),on=0):(on=1,mn(zn))}a.timer.flush=function(){aa(),ha()};function aa(){for(var ce=Date.now(),Pe=Wr;Pe;)ce>=Pe.t&&Pe.c(ce-Pe.t)&&(Pe.c=null),Pe=Pe.n;return ce}function ha(){for(var ce,Pe=Wr,Ne=1/0;Pe;)Pe.c?(Pe.t<Ne&&(Ne=Pe.t),Pe=(ce=Pe).n):Pe=ce?ce.n=Pe.n:Wr=Pe.n;return Vr=ce,Ne}a.round=function(ce,Pe){return Pe?Math.round(ce*(Pe=Math.pow(10,Pe)))/Pe:Math.round(ce)},a.geom={};function pa(ce){return ce[0]}function ua(ce){return ce[1]}a.geom.hull=function(ce){var Pe=pa,Ne=ua;if(arguments.length)return et(ce);function et(it){if(it.length<3)return[];var ct=nn(Pe),Pt=nn(Ne),Mt,Ht=it.length,Gt=[],rr=[];for(Mt=0;Mt<Ht;Mt++)Gt.push([+ct.call(this,it[Mt],Mt),+Pt.call(this,it[Mt],Mt),Mt]);for(Gt.sort(Tr),Mt=0;Mt<Ht;Mt++)rr.push([Gt[Mt][0],-Gt[Mt][1]]);var Lr=na(Gt),Rr=na(rr),$r=Rr[0]===Lr[0],sn=Rr[Rr.length-1]===Lr[Lr.length-1],Ir=[];for(Mt=Lr.length-1;Mt>=0;--Mt)Ir.push(it[Gt[Lr[Mt]][2]]);for(Mt=+$r;Mt<Rr.length-sn;++Mt)Ir.push(it[Gt[Rr[Mt]][2]]);return Ir}return et.x=function(it){return arguments.length?(Pe=it,et):Pe},et.y=function(it){return arguments.length?(Ne=it,et):Ne},et};function na(ce){for(var Pe=ce.length,Ne=[0,1],et=2,it=2;it<Pe;it++){for(;et>1&&Yt(ce[Ne[et-2]],ce[Ne[et-1]],ce[it])<=0;)--et;Ne[et++]=it}return Ne.slice(0,et)}function Tr(ce,Pe){return ce[0]-Pe[0]||ce[1]-Pe[1]}a.geom.polygon=function(ce){return oe(ce,an),ce};var an=a.geom.polygon.prototype=[];an.area=function(){for(var ce=-1,Pe=this.length,Ne,et=this[Pe-1],it=0;++ce<Pe;)Ne=et,et=this[ce],it+=Ne[1]*et[0]-Ne[0]*et[1];return it*.5},an.centroid=function(ce){var Pe=-1,Ne=this.length,et=0,it=0,ct,Pt=this[Ne-1],Mt;for(arguments.length||(ce=-1/(6*this.area()));++Pe<Ne;)ct=Pt,Pt=this[Pe],Mt=ct[0]*Pt[1]-Pt[0]*ct[1],et+=(ct[0]+Pt[0])*Mt,it+=(ct[1]+Pt[1])*Mt;return[et*ce,it*ce]},an.clip=function(ce){for(var Pe,Ne=Hn(ce),et=-1,it=this.length-Hn(this),ct,Pt,Mt=this[it-1],Ht,Gt,rr;++et<it;){for(Pe=ce.slice(),ce.length=0,Ht=this[et],Gt=Pe[(Pt=Pe.length-Ne)-1],ct=-1;++ct<Pt;)rr=Pe[ct],qr(rr,Mt,Ht)?(qr(Gt,Mt,Ht)||ce.push(gn(Gt,rr,Mt,Ht)),ce.push(rr)):qr(Gt,Mt,Ht)&&ce.push(gn(Gt,rr,Mt,Ht)),Gt=rr;Ne&&ce.push(ce[0]),Mt=Ht}return ce};function qr(ce,Pe,Ne){return(Ne[0]-Pe[0])*(ce[1]-Pe[1])<(Ne[1]-Pe[1])*(ce[0]-Pe[0])}function gn(ce,Pe,Ne,et){var it=ce[0],ct=Ne[0],Pt=Pe[0]-it,Mt=et[0]-ct,Ht=ce[1],Gt=Ne[1],rr=Pe[1]-Ht,Lr=et[1]-Gt,Rr=(Mt*(Ht-Gt)-Lr*(it-ct))/(Lr*Pt-Mt*rr);return[it+Rr*Pt,Ht+Rr*rr]}function Hn(ce){var Pe=ce[0],Ne=ce[ce.length-1];return!(Pe[0]-Ne[0]||Pe[1]-Ne[1])}var An,Sn,Un,$n=[],ya,_a,Er=[];function zr(){Ho(this),this.edge=this.site=this.circle=null}function Sr(ce){var Pe=$n.pop()||new zr;return Pe.site=ce,Pe}function Nr(ce){Rn(ce),Un.remove(ce),$n.push(ce),Ho(ce)}function wn(ce){var Pe=ce.circle,Ne=Pe.x,et=Pe.cy,it={x:Ne,y:et},ct=ce.P,Pt=ce.N,Mt=[ce];Nr(ce);for(var Ht=ct;Ht.circle&&d(Ne-Ht.circle.x)<me&&d(et-Ht.circle.cy)<me;)ct=Ht.P,Mt.unshift(Ht),Nr(Ht),Ht=ct;Mt.unshift(Ht),Rn(Ht);for(var Gt=Pt;Gt.circle&&d(Ne-Gt.circle.x)<me&&d(et-Gt.circle.cy)<me;)Pt=Gt.N,Mt.push(Gt),Nr(Gt),Gt=Pt;Mt.push(Gt),Rn(Gt);var rr=Mt.length,Lr;for(Lr=1;Lr<rr;++Lr)Gt=Mt[Lr],Ht=Mt[Lr-1],Pa(Gt.edge,Ht.site,Gt.site,it);Ht=Mt[0],Gt=Mt[rr-1],Gt.edge=oa(Ht.site,Gt.site,null,it),Tn(Ht),Tn(Gt)}function kn(ce){for(var Pe=ce.x,Ne=ce.y,et,it,ct,Pt,Mt=Un._;Mt;)if(ct=vn(Mt,Ne)-Pe,ct>me)Mt=Mt.L;else if(Pt=Pe-ln(Mt,Ne),Pt>me){if(!Mt.R){et=Mt;break}Mt=Mt.R}else{ct>-me?(et=Mt.P,it=Mt):Pt>-me?(et=Mt,it=Mt.N):et=it=Mt;break}var Ht=Sr(ce);if(Un.insert(et,Ht),!(!et&&!it)){if(et===it){Rn(et),it=Sr(et.site),Un.insert(Ht,it),Ht.edge=it.edge=oa(et.site,Ht.site),Tn(et),Tn(it);return}if(!it){Ht.edge=oa(et.site,Ht.site);return}Rn(et),Rn(it);var Gt=et.site,rr=Gt.x,Lr=Gt.y,Rr=ce.x-rr,$r=ce.y-Lr,sn=it.site,Ir=sn.x-rr,Ur=sn.y-Lr,Kr=2*(Rr*Ur-$r*Ir),fn=Rr*Rr+$r*$r,dn=Ir*Ir+Ur*Ur,en={x:(Ur*fn-$r*dn)/Kr+rr,y:(Rr*dn-Ir*fn)/Kr+Lr};Pa(it.edge,Gt,sn,en),Ht.edge=oa(Gt,ce,null,en),it.edge=oa(ce,sn,null,en),Tn(et),Tn(it)}}function vn(ce,Pe){var Ne=ce.site,et=Ne.x,it=Ne.y,ct=it-Pe;if(!ct)return et;var Pt=ce.P;if(!Pt)return-1/0;Ne=Pt.site;var Mt=Ne.x,Ht=Ne.y,Gt=Ht-Pe;if(!Gt)return Mt;var rr=Mt-et,Lr=1/ct-1/Gt,Rr=rr/Gt;return Lr?(-Rr+Math.sqrt(Rr*Rr-2*Lr*(rr*rr/(-2*Gt)-Ht+Gt/2+it-ct/2)))/Lr+et:(et+Mt)/2}function ln(ce,Pe){var Ne=ce.N;if(Ne)return vn(Ne,Pe);var et=ce.site;return et.y===Pe?et.x:1/0}function Cr(ce){this.site=ce,this.edges=[]}Cr.prototype.prepare=function(){for(var ce=this.edges,Pe=ce.length,Ne;Pe--;)Ne=ce[Pe].edge,(!Ne.b||!Ne.a)&&ce.splice(Pe,1);return ce.sort(jr),ce.length};function Zr(ce){for(var Pe=ce[0][0],Ne=ce[1][0],et=ce[0][1],it=ce[1][1],ct,Pt,Mt,Ht,Gt=Sn,rr=Gt.length,Lr,Rr,$r,sn,Ir,Ur;rr--;)if(Lr=Gt[rr],!(!Lr||!Lr.prepare()))for($r=Lr.edges,sn=$r.length,Rr=0;Rr<sn;)Ur=$r[Rr].end(),Mt=Ur.x,Ht=Ur.y,Ir=$r[++Rr%sn].start(),ct=Ir.x,Pt=Ir.y,(d(Mt-ct)>me||d(Ht-Pt)>me)&&($r.splice(Rr,0,new pi(ga(Lr.site,Ur,d(Mt-Pe)<me&&it-Ht>me?{x:Pe,y:d(ct-Pe)<me?Pt:it}:d(Ht-it)<me&&Ne-Mt>me?{x:d(Pt-it)<me?ct:Ne,y:it}:d(Mt-Ne)<me&&Ht-et>me?{x:Ne,y:d(ct-Ne)<me?Pt:et}:d(Ht-et)<me&&Mt-Pe>me?{x:d(Pt-et)<me?ct:Pe,y:et}:null),Lr.site,null)),++sn)}function jr(ce,Pe){return Pe.angle-ce.angle}function Qr(){Ho(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tn(ce){var Pe=ce.P,Ne=ce.N;if(!(!Pe||!Ne)){var et=Pe.site,it=ce.site,ct=Ne.site;if(et!==ct){var Pt=it.x,Mt=it.y,Ht=et.x-Pt,Gt=et.y-Mt,rr=ct.x-Pt,Ur=ct.y-Mt,Lr=2*(Ht*Ur-Gt*rr);if(!(Lr>=-Me)){var Rr=Ht*Ht+Gt*Gt,$r=rr*rr+Ur*Ur,sn=(Ur*Rr-Gt*$r)/Lr,Ir=(Ht*$r-rr*Rr)/Lr,Ur=Ir+Mt,Kr=Er.pop()||new Qr;Kr.arc=ce,Kr.site=it,Kr.x=sn+Pt,Kr.y=Ur+Math.sqrt(sn*sn+Ir*Ir),Kr.cy=Ur,ce.circle=Kr;for(var fn=null,dn=_a._;dn;)if(Kr.y<dn.y||Kr.y===dn.y&&Kr.x<=dn.x)if(dn.L)dn=dn.L;else{fn=dn.P;break}else if(dn.R)dn=dn.R;else{fn=dn;break}_a.insert(fn,Kr),fn||(ya=Kr)}}}}function Rn(ce){var Pe=ce.circle;Pe&&(Pe.P||(ya=Pe.N),_a.remove(Pe),Er.push(Pe),Ho(Pe),ce.circle=null)}function Dn(ce,Pe,Ne,et){return function(it){var ct=it.a,Pt=it.b,Mt=ct.x,Ht=ct.y,Gt=Pt.x,rr=Pt.y,Lr=0,Rr=1,$r=Gt-Mt,sn=rr-Ht,Ir;if(Ir=ce-Mt,!(!$r&&Ir>0)){if(Ir/=$r,$r<0){if(Ir<Lr)return;Ir<Rr&&(Rr=Ir)}else if($r>0){if(Ir>Rr)return;Ir>Lr&&(Lr=Ir)}if(Ir=Ne-Mt,!(!$r&&Ir<0)){if(Ir/=$r,$r<0){if(Ir>Rr)return;Ir>Lr&&(Lr=Ir)}else if($r>0){if(Ir<Lr)return;Ir<Rr&&(Rr=Ir)}if(Ir=Pe-Ht,!(!sn&&Ir>0)){if(Ir/=sn,sn<0){if(Ir<Lr)return;Ir<Rr&&(Rr=Ir)}else if(sn>0){if(Ir>Rr)return;Ir>Lr&&(Lr=Ir)}if(Ir=et-Ht,!(!sn&&Ir<0)){if(Ir/=sn,sn<0){if(Ir>Rr)return;Ir>Lr&&(Lr=Ir)}else if(sn>0){if(Ir<Lr)return;Ir<Rr&&(Rr=Ir)}return Lr>0&&(it.a={x:Mt+Lr*$r,y:Ht+Lr*sn}),Rr<1&&(it.b={x:Mt+Rr*$r,y:Ht+Rr*sn}),it}}}}}}function Vn(ce){for(var Pe=An,Ne=Dn(ce[0][0],ce[0][1],ce[1][0],ce[1][1]),et=Pe.length,it;et--;)it=Pe[et],(!Nn(it,ce)||!Ne(it)||d(it.a.x-it.b.x)<me&&d(it.a.y-it.b.y)<me)&&(it.a=it.b=null,Pe.splice(et,1))}function Nn(ce,Pe){var Ne=ce.b;if(Ne)return!0;var et=ce.a,it=Pe[0][0],ct=Pe[1][0],Pt=Pe[0][1],Mt=Pe[1][1],Ht=ce.l,Gt=ce.r,rr=Ht.x,Lr=Ht.y,Rr=Gt.x,$r=Gt.y,sn=(rr+Rr)/2,Ir=(Lr+$r)/2,Ur,Kr;if($r===Lr){if(sn<it||sn>=ct)return;if(rr>Rr){if(!et)et={x:sn,y:Pt};else if(et.y>=Mt)return;Ne={x:sn,y:Mt}}else{if(!et)et={x:sn,y:Mt};else if(et.y<Pt)return;Ne={x:sn,y:Pt}}}else if(Ur=(rr-Rr)/($r-Lr),Kr=Ir-Ur*sn,Ur<-1||Ur>1)if(rr>Rr){if(!et)et={x:(Pt-Kr)/Ur,y:Pt};else if(et.y>=Mt)return;Ne={x:(Mt-Kr)/Ur,y:Mt}}else{if(!et)et={x:(Mt-Kr)/Ur,y:Mt};else if(et.y<Pt)return;Ne={x:(Pt-Kr)/Ur,y:Pt}}else if(Lr<$r){if(!et)et={x:it,y:Ur*it+Kr};else if(et.x>=ct)return;Ne={x:ct,y:Ur*ct+Kr}}else{if(!et)et={x:ct,y:Ur*ct+Kr};else if(et.x<it)return;Ne={x:it,y:Ur*it+Kr}}return ce.a=et,ce.b=Ne,!0}function ma(ce,Pe){this.l=ce,this.r=Pe,this.a=this.b=null}function oa(ce,Pe,Ne,et){var it=new ma(ce,Pe);return An.push(it),Ne&&Pa(it,ce,Pe,Ne),et&&Pa(it,Pe,ce,et),Sn[ce.i].edges.push(new pi(it,ce,Pe)),Sn[Pe.i].edges.push(new pi(it,Pe,ce)),it}function ga(ce,Pe,Ne){var et=new ma(ce,null);return et.a=Pe,et.b=Ne,An.push(et),et}function Pa(ce,Pe,Ne,et){!ce.a&&!ce.b?(ce.a=et,ce.l=Pe,ce.r=Ne):ce.l===Ne?ce.b=et:ce.a=et}function pi(ce,Pe,Ne){var et=ce.a,it=ce.b;this.edge=ce,this.site=Pe,this.angle=Ne?Math.atan2(Ne.y-Pe.y,Ne.x-Pe.x):ce.l===Pe?Math.atan2(it.x-et.x,et.y-it.y):Math.atan2(et.x-it.x,it.y-et.y)}pi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ri(){this._=null}function Ho(ce){ce.U=ce.C=ce.L=ce.R=ce.P=ce.N=null}ri.prototype={insert:function(ce,Pe){var Ne,et,it;if(ce){if(Pe.P=ce,Pe.N=ce.N,ce.N&&(ce.N.P=Pe),ce.N=Pe,ce.R){for(ce=ce.R;ce.L;)ce=ce.L;ce.L=Pe}else ce.R=Pe;Ne=ce}else this._?(ce=Vl(this._),Pe.P=null,Pe.N=ce,ce.P=ce.L=Pe,Ne=ce):(Pe.P=Pe.N=null,this._=Pe,Ne=null);for(Pe.L=Pe.R=null,Pe.U=Ne,Pe.C=!0,ce=Pe;Ne&&Ne.C;)et=Ne.U,Ne===et.L?(it=et.R,it&&it.C?(Ne.C=it.C=!1,et.C=!0,ce=et):(ce===Ne.R&&(Oo(this,Ne),ce=Ne,Ne=ce.U),Ne.C=!1,et.C=!0,no(this,et))):(it=et.L,it&&it.C?(Ne.C=it.C=!1,et.C=!0,ce=et):(ce===Ne.L&&(no(this,Ne),ce=Ne,Ne=ce.U),Ne.C=!1,et.C=!0,Oo(this,et))),Ne=ce.U;this._.C=!1},remove:function(ce){ce.N&&(ce.N.P=ce.P),ce.P&&(ce.P.N=ce.N),ce.N=ce.P=null;var Pe=ce.U,Ne,et=ce.L,it=ce.R,ct,Pt;if(et?it?ct=Vl(it):ct=et:ct=it,Pe?Pe.L===ce?Pe.L=ct:Pe.R=ct:this._=ct,et&&it?(Pt=ct.C,ct.C=ce.C,ct.L=et,et.U=ct,ct!==it?(Pe=ct.U,ct.U=ce.U,ce=ct.R,Pe.L=ce,ct.R=it,it.U=ct):(ct.U=Pe,Pe=ct,ce=ct.R)):(Pt=ce.C,ce=ct),ce&&(ce.U=Pe),!Pt){if(ce&&ce.C){ce.C=!1;return}do{if(ce===this._)break;if(ce===Pe.L){if(Ne=Pe.R,Ne.C&&(Ne.C=!1,Pe.C=!0,Oo(this,Pe),Ne=Pe.R),Ne.L&&Ne.L.C||Ne.R&&Ne.R.C){(!Ne.R||!Ne.R.C)&&(Ne.L.C=!1,Ne.C=!0,no(this,Ne),Ne=Pe.R),Ne.C=Pe.C,Pe.C=Ne.R.C=!1,Oo(this,Pe),ce=this._;break}}else if(Ne=Pe.L,Ne.C&&(Ne.C=!1,Pe.C=!0,no(this,Pe),Ne=Pe.L),Ne.L&&Ne.L.C||Ne.R&&Ne.R.C){(!Ne.L||!Ne.L.C)&&(Ne.R.C=!1,Ne.C=!0,Oo(this,Ne),Ne=Pe.L),Ne.C=Pe.C,Pe.C=Ne.L.C=!1,no(this,Pe),ce=this._;break}Ne.C=!0,ce=Pe,Pe=Pe.U}while(!ce.C);ce&&(ce.C=!1)}}};function Oo(ce,Pe){var Ne=Pe,et=Pe.R,it=Ne.U;it?it.L===Ne?it.L=et:it.R=et:ce._=et,et.U=it,Ne.U=et,Ne.R=et.L,Ne.R&&(Ne.R.U=Ne),et.L=Ne}function no(ce,Pe){var Ne=Pe,et=Pe.L,it=Ne.U;it?it.L===Ne?it.L=et:it.R=et:ce._=et,et.U=it,Ne.U=et,Ne.L=et.R,Ne.L&&(Ne.L.U=Ne),et.R=Ne}function Vl(ce){for(;ce.L;)ce=ce.L;return ce}function kf(ce,Pe){var Ne=ce.sort(wc).pop(),et,it,ct;for(An=[],Sn=new Array(ce.length),Un=new ri,_a=new ri;;)if(ct=ya,Ne&&(!ct||Ne.y<ct.y||Ne.y===ct.y&&Ne.x<ct.x))(Ne.x!==et||Ne.y!==it)&&(Sn[Ne.i]=new Cr(Ne),kn(Ne),et=Ne.x,it=Ne.y),Ne=ce.pop();else if(ct)wn(ct.arc);else break;Pe&&(Vn(Pe),Zr(Pe));var Pt={cells:Sn,edges:An};return Un=_a=An=Sn=null,Pt}function wc(ce,Pe){return Pe.y-ce.y||Pe.x-ce.x}a.geom.voronoi=function(ce){var Pe=pa,Ne=ua,et=Pe,it=Ne,ct=qa;if(ce)return Pt(ce);function Pt(Ht){var Gt=new Array(Ht.length),rr=ct[0][0],Lr=ct[0][1],Rr=ct[1][0],$r=ct[1][1];return kf(Mt(Ht),ct).cells.forEach(function(sn,Ir){var Ur=sn.edges,Kr=sn.site,fn=Gt[Ir]=Ur.length?Ur.map(function(dn){var en=dn.start();return[en.x,en.y]}):Kr.x>=rr&&Kr.x<=Rr&&Kr.y>=Lr&&Kr.y<=$r?[[rr,$r],[Rr,$r],[Rr,Lr],[rr,Lr]]:[];fn.point=Ht[Ir]}),Gt}function Mt(Ht){return Ht.map(function(Gt,rr){return{x:Math.round(et(Gt,rr)/me)*me,y:Math.round(it(Gt,rr)/me)*me,i:rr}})}return Pt.links=function(Ht){return kf(Mt(Ht)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:Ht[Gt.l.i],target:Ht[Gt.r.i]}})},Pt.triangles=function(Ht){var Gt=[];return kf(Mt(Ht)).cells.forEach(function(rr,Lr){for(var Rr=rr.site,$r=rr.edges.sort(jr),sn=-1,Ir=$r.length,Ur,Kr=$r[Ir-1].edge,fn=Kr.l===Rr?Kr.r:Kr.l;++sn<Ir;)Ur=fn,Kr=$r[sn].edge,fn=Kr.l===Rr?Kr.r:Kr.l,Lr<Ur.i&&Lr<fn.i&&Tu(Rr,Ur,fn)<0&&Gt.push([Ht[Lr],Ht[Ur.i],Ht[fn.i]])}),Gt},Pt.x=function(Ht){return arguments.length?(et=nn(Pe=Ht),Pt):Pe},Pt.y=function(Ht){return arguments.length?(it=nn(Ne=Ht),Pt):Ne},Pt.clipExtent=function(Ht){return arguments.length?(ct=Ht??qa,Pt):ct===qa?null:ct},Pt.size=function(Ht){return arguments.length?Pt.clipExtent(Ht&&[[0,0],Ht]):ct===qa?null:ct&&ct[1]},Pt};var qa=[[-1e6,-1e6],[1e6,1e6]];function Tu(ce,Pe,Ne){return(ce.x-Ne.x)*(Pe.y-ce.y)-(ce.x-Pe.x)*(Ne.y-ce.y)}a.geom.delaunay=function(ce){return a.geom.voronoi().triangles(ce)},a.geom.quadtree=function(ce,Pe,Ne,et,it){var ct=pa,Pt=ua,Mt;if(Mt=arguments.length)return ct=Ff,Pt=$i,Mt===3&&(it=Ne,et=Pe,Ne=Pe=0),Ht(ce);function Ht(Gt){var rr,Lr=nn(ct),Rr=nn(Pt),$r,sn,Ir,Ur,Kr,fn,dn,en;if(Pe!=null)Kr=Pe,fn=Ne,dn=et,en=it;else if(dn=en=-(Kr=fn=1/0),$r=[],sn=[],Ur=Gt.length,Mt)for(Ir=0;Ir<Ur;++Ir)rr=Gt[Ir],rr.x<Kr&&(Kr=rr.x),rr.y<fn&&(fn=rr.y),rr.x>dn&&(dn=rr.x),rr.y>en&&(en=rr.y),$r.push(rr.x),sn.push(rr.y);else for(Ir=0;Ir<Ur;++Ir){var jn=+Lr(rr=Gt[Ir],Ir),ea=+Rr(rr,Ir);jn<Kr&&(Kr=jn),ea<fn&&(fn=ea),jn>dn&&(dn=jn),ea>en&&(en=ea),$r.push(jn),sn.push(ea)}var fa=dn-Kr,Qn=en-fn;fa>Qn?en=fn+fa:dn=Kr+Qn;function ia(Ea,Fa,ni,Bi,ui,Jn,Va,Sa){if(!(isNaN(ni)||isNaN(Bi)))if(Ea.leaf){var Za=Ea.x,bi=Ea.y;if(Za!=null)if(d(Za-ni)+d(bi-Bi)<.01)ca(Ea,Fa,ni,Bi,ui,Jn,Va,Sa);else{var ai=Ea.point;Ea.x=Ea.y=Ea.point=null,ca(Ea,ai,Za,bi,ui,Jn,Va,Sa),ca(Ea,Fa,ni,Bi,ui,Jn,Va,Sa)}else Ea.x=ni,Ea.y=Bi,Ea.point=Fa}else ca(Ea,Fa,ni,Bi,ui,Jn,Va,Sa)}function ca(Ea,Fa,ni,Bi,ui,Jn,Va,Sa){var Za=(ui+Va)*.5,bi=(Jn+Sa)*.5,ai=ni>=Za,eo=Bi>=bi,to=eo<<1|ai;Ea.leaf=!1,Ea=Ea.nodes[to]||(Ea.nodes[to]=Eo()),ai?ui=Za:Va=Za,eo?Jn=bi:Sa=bi,ia(Ea,Fa,ni,Bi,ui,Jn,Va,Sa)}var Ba=Eo();if(Ba.add=function(Ea){ia(Ba,Ea,+Lr(Ea,++Ir),+Rr(Ea,Ir),Kr,fn,dn,en)},Ba.visit=function(Ea){jl(Ea,Ba,Kr,fn,dn,en)},Ba.find=function(Ea){return of(Ba,Ea[0],Ea[1],Kr,fn,dn,en)},Ir=-1,Pe==null){for(;++Ir<Ur;)ia(Ba,Gt[Ir],$r[Ir],sn[Ir],Kr,fn,dn,en);--Ir}else Gt.forEach(Ba.add);return $r=sn=Gt=rr=null,Ba}return Ht.x=function(Gt){return arguments.length?(ct=Gt,Ht):ct},Ht.y=function(Gt){return arguments.length?(Pt=Gt,Ht):Pt},Ht.extent=function(Gt){return arguments.length?(Gt==null?Pe=Ne=et=it=null:(Pe=+Gt[0][0],Ne=+Gt[0][1],et=+Gt[1][0],it=+Gt[1][1]),Ht):Pe==null?null:[[Pe,Ne],[et,it]]},Ht.size=function(Gt){return arguments.length?(Gt==null?Pe=Ne=et=it=null:(Pe=Ne=0,et=+Gt[0],it=+Gt[1]),Ht):Pe==null?null:[et-Pe,it-Ne]},Ht};function Ff(ce){return ce.x}function $i(ce){return ce.y}function Eo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function jl(ce,Pe,Ne,et,it,ct){if(!ce(Pe,Ne,et,it,ct)){var Pt=(Ne+it)*.5,Mt=(et+ct)*.5,Ht=Pe.nodes;Ht[0]&&jl(ce,Ht[0],Ne,et,Pt,Mt),Ht[1]&&jl(ce,Ht[1],Pt,et,it,Mt),Ht[2]&&jl(ce,Ht[2],Ne,Mt,Pt,ct),Ht[3]&&jl(ce,Ht[3],Pt,Mt,it,ct)}}function of(ce,Pe,Ne,et,it,ct,Pt){var Mt=1/0,Ht;return function Gt(rr,Lr,Rr,$r,sn){if(!(Lr>ct||Rr>Pt||$r<et||sn<it)){if(Ir=rr.point){var Ir,Ur=Pe-rr.x,Kr=Ne-rr.y,fn=Ur*Ur+Kr*Kr;if(fn<Mt){var dn=Math.sqrt(Mt=fn);et=Pe-dn,it=Ne-dn,ct=Pe+dn,Pt=Ne+dn,Ht=Ir}}for(var en=rr.nodes,jn=(Lr+$r)*.5,ea=(Rr+sn)*.5,fa=Pe>=jn,Qn=Ne>=ea,ia=Qn<<1|fa,ca=ia+4;ia<ca;++ia)if(rr=en[ia&3])switch(ia&3){case 0:Gt(rr,Lr,Rr,jn,ea);break;case 1:Gt(rr,jn,Rr,$r,ea);break;case 2:Gt(rr,Lr,ea,jn,sn);break;case 3:Gt(rr,jn,ea,$r,sn);break}}}(ce,et,it,ct,Pt),Ht}a.interpolateRgb=ki;function ki(ce,Pe){ce=a.rgb(ce),Pe=a.rgb(Pe);var Ne=ce.r,et=ce.g,it=ce.b,ct=Pe.r-Ne,Pt=Pe.g-et,Mt=Pe.b-it;return function(Ht){return"#"+gr(Math.round(Ne+ct*Ht))+gr(Math.round(et+Pt*Ht))+gr(Math.round(it+Mt*Ht))}}a.interpolateObject=Hl;function Hl(ce,Pe){var Ne={},et={},it;for(it in ce)it in Pe?Ne[it]=io(ce[it],Pe[it]):et[it]=ce[it];for(it in Pe)it in ce||(et[it]=Pe[it]);return function(ct){for(it in Ne)et[it]=Ne[it](ct);return et}}a.interpolateNumber=Ni;function Ni(ce,Pe){return ce=+ce,Pe=+Pe,function(Ne){return ce*(1-Ne)+Pe*Ne}}a.interpolateString=Gi;function Gi(ce,Pe){var Ne=Gl.lastIndex=ao.lastIndex=0,et,it,ct,Pt=-1,Mt=[],Ht=[];for(ce=ce+"",Pe=Pe+"";(et=Gl.exec(ce))&&(it=ao.exec(Pe));)(ct=it.index)>Ne&&(ct=Pe.slice(Ne,ct),Mt[Pt]?Mt[Pt]+=ct:Mt[++Pt]=ct),(et=et[0])===(it=it[0])?Mt[Pt]?Mt[Pt]+=it:Mt[++Pt]=it:(Mt[++Pt]=null,Ht.push({i:Pt,x:Ni(et,it)})),Ne=ao.lastIndex;return Ne<Pe.length&&(ct=Pe.slice(Ne),Mt[Pt]?Mt[Pt]+=ct:Mt[++Pt]=ct),Mt.length<2?Ht[0]?(Pe=Ht[0].x,function(Gt){return Pe(Gt)+""}):function(){return Pe}:(Pe=Ht.length,function(Gt){for(var rr=0,Lr;rr<Pe;++rr)Mt[(Lr=Ht[rr]).i]=Lr.x(Gt);return Mt.join("")})}var Gl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ao=new RegExp(Gl.source,"g");a.interpolate=io;function io(ce,Pe){for(var Ne=a.interpolators.length,et;--Ne>=0&&!(et=a.interpolators[Ne](ce,Pe)););return et}a.interpolators=[function(ce,Pe){var Ne=typeof Pe;return(Ne==="string"?hn.has(Pe.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Pe)?ki:Gi:Pe instanceof bt?ki:Array.isArray(Pe)?Go:Ne==="object"&&isNaN(Pe)?Hl:Ni)(ce,Pe)}],a.interpolateArray=Go;function Go(ce,Pe){var Ne=[],et=[],it=ce.length,ct=Pe.length,Pt=Math.min(ce.length,Pe.length),Mt;for(Mt=0;Mt<Pt;++Mt)Ne.push(io(ce[Mt],Pe[Mt]));for(;Mt<it;++Mt)et[Mt]=ce[Mt];for(;Mt<ct;++Mt)et[Mt]=Pe[Mt];return function(Ht){for(Mt=0;Mt<Pt;++Mt)et[Mt]=Ne[Mt](Ht);return et}}var Tc=function(){return z},zo=a.map({linear:Tc,poly:Ac,quad:function(){return qs},cubic:function(){return As},sin:function(){return Fh},exp:function(){return sf},circle:function(){return Oh},elastic:zh,back:Nh,bounce:function(){return Nf}}),kh=a.map({in:z,out:Qi,"in-out":Of,"out-in":function(ce){return Of(Qi(ce))}});a.ease=function(ce){var Pe=ce.indexOf("-"),Ne=Pe>=0?ce.slice(0,Pe):ce,et=Pe>=0?ce.slice(Pe+1):"in";return Ne=zo.get(Ne)||Tc,et=kh.get(et)||z,Ts(et(Ne.apply(null,x.call(arguments,1))))};function Ts(ce){return function(Pe){return Pe<=0?0:Pe>=1?1:ce(Pe)}}function Qi(ce){return function(Pe){return 1-ce(1-Pe)}}function Of(ce){return function(Pe){return .5*(Pe<.5?ce(2*Pe):2-ce(2-2*Pe))}}function qs(ce){return ce*ce}function As(ce){return ce*ce*ce}function zf(ce){if(ce<=0)return 0;if(ce>=1)return 1;var Pe=ce*ce,Ne=Pe*ce;return 4*(ce<.5?Ne:3*(ce-Pe)+Ne-.75)}function Ac(ce){return function(Pe){return Math.pow(Pe,ce)}}function Fh(ce){return 1-Math.cos(ce*nt)}function sf(ce){return Math.pow(2,10*(ce-1))}function Oh(ce){return 1-Math.sqrt(1-ce*ce)}function zh(ce,Pe){var Ne;return arguments.length<2&&(Pe=.45),arguments.length?Ne=Pe/ze*Math.asin(1/ce):(ce=1,Ne=Pe/4),function(et){return 1+ce*Math.pow(2,-10*et)*Math.sin((et-Ne)*ze/Pe)}}function Nh(ce){return ce||(ce=1.70158),function(Pe){return Pe*Pe*((ce+1)*Pe-ce)}}function Nf(ce){return ce<.36363636363636365?7.5625*ce*ce:ce<.7272727272727273?7.5625*(ce-=.5454545454545454)*ce+.75:ce<.9090909090909091?7.5625*(ce-=.8181818181818182)*ce+.9375:7.5625*(ce-=.9545454545454546)*ce+.984375}a.interpolateHcl=Bh;function Bh(ce,Pe){ce=a.hcl(ce),Pe=a.hcl(Pe);var Ne=ce.h,et=ce.c,it=ce.l,ct=Pe.h-Ne,Pt=Pe.c-et,Mt=Pe.l-it;return isNaN(Pt)&&(Pt=0,et=isNaN(et)?Pe.c:et),isNaN(ct)?(ct=0,Ne=isNaN(Ne)?Pe.h:Ne):ct>180?ct-=360:ct<-180&&(ct+=360),function(Ht){return Vt(Ne+ct*Ht,et+Pt*Ht,it+Mt*Ht)+""}}a.interpolateHsl=Uh;function Uh(ce,Pe){ce=a.hsl(ce),Pe=a.hsl(Pe);var Ne=ce.h,et=ce.s,it=ce.l,ct=Pe.h-Ne,Pt=Pe.s-et,Mt=Pe.l-it;return isNaN(Pt)&&(Pt=0,et=isNaN(et)?Pe.s:et),isNaN(ct)?(ct=0,Ne=isNaN(Ne)?Pe.h:Ne):ct>180?ct-=360:ct<-180&&(ct+=360),function(Ht){return Ct(Ne+ct*Ht,et+Pt*Ht,it+Mt*Ht)+""}}a.interpolateLab=Sc;function Sc(ce,Pe){ce=a.lab(ce),Pe=a.lab(Pe);var Ne=ce.l,et=ce.a,it=ce.b,ct=Pe.l-Ne,Pt=Pe.a-et,Mt=Pe.b-it;return function(Ht){return Ge(Ne+ct*Ht,et+Pt*Ht,it+Mt*Ht)+""}}a.interpolateRound=Mc;function Mc(ce,Pe){return Pe-=ce,function(Ne){return Math.round(ce+Pe*Ne)}}a.transform=function(ce){var Pe=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Ne){if(Ne!=null){Pe.setAttribute("transform",Ne);var et=Pe.transform.baseVal.consolidate()}return new bl(et?et.matrix:Ec)})(ce)};function bl(ce){var Pe=[ce.a,ce.b],Ne=[ce.c,ce.d],et=Au(Pe),it=Wl(Pe,Ne),ct=Au(Su(Ne,Pe,-it))||0;Pe[0]*Ne[1]<Ne[0]*Pe[1]&&(Pe[0]*=-1,Pe[1]*=-1,et*=-1,it*=-1),this.rotate=(et?Math.atan2(Pe[1],Pe[0]):Math.atan2(-Ne[0],Ne[1]))*yt,this.translate=[ce.e,ce.f],this.scale=[et,ct],this.skew=ct?Math.atan2(it,ct)*yt:0}bl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Wl(ce,Pe){return ce[0]*Pe[0]+ce[1]*Pe[1]}function Au(ce){var Pe=Math.sqrt(Wl(ce,ce));return Pe&&(ce[0]/=Pe,ce[1]/=Pe),Pe}function Su(ce,Pe,Ne){return ce[0]+=Ne*Pe[0],ce[1]+=Ne*Pe[1],ce}var Ec={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=uf;function Bs(ce){return ce.length?ce.pop()+",":""}function Vh(ce,Pe,Ne,et){if(ce[0]!==Pe[0]||ce[1]!==Pe[1]){var it=Ne.push("translate(",null,",",null,")");et.push({i:it-4,x:Ni(ce[0],Pe[0])},{i:it-2,x:Ni(ce[1],Pe[1])})}else(Pe[0]||Pe[1])&&Ne.push("translate("+Pe+")")}function lf(ce,Pe,Ne,et){ce!==Pe?(ce-Pe>180?Pe+=360:Pe-ce>180&&(ce+=360),et.push({i:Ne.push(Bs(Ne)+"rotate(",null,")")-2,x:Ni(ce,Pe)})):Pe&&Ne.push(Bs(Ne)+"rotate("+Pe+")")}function Cc(ce,Pe,Ne,et){ce!==Pe?et.push({i:Ne.push(Bs(Ne)+"skewX(",null,")")-2,x:Ni(ce,Pe)}):Pe&&Ne.push(Bs(Ne)+"skewX("+Pe+")")}function Lc(ce,Pe,Ne,et){if(ce[0]!==Pe[0]||ce[1]!==Pe[1]){var it=Ne.push(Bs(Ne)+"scale(",null,",",null,")");et.push({i:it-4,x:Ni(ce[0],Pe[0])},{i:it-2,x:Ni(ce[1],Pe[1])})}else(Pe[0]!==1||Pe[1]!==1)&&Ne.push(Bs(Ne)+"scale("+Pe+")")}function uf(ce,Pe){var Ne=[],et=[];return ce=a.transform(ce),Pe=a.transform(Pe),Vh(ce.translate,Pe.translate,Ne,et),lf(ce.rotate,Pe.rotate,Ne,et),Cc(ce.skew,Pe.skew,Ne,et),Lc(ce.scale,Pe.scale,Ne,et),ce=Pe=null,function(it){for(var ct=-1,Pt=et.length,Mt;++ct<Pt;)Ne[(Mt=et[ct]).i]=Mt.x(it);return Ne.join("")}}function as(ce,Pe){return Pe=(Pe-=ce=+ce)||1/Pe,function(Ne){return(Ne-ce)/Pe}}function Yl(ce,Pe){return Pe=(Pe-=ce=+ce)||1/Pe,function(Ne){return Math.max(0,Math.min(1,(Ne-ce)/Pe))}}a.layout={},a.layout.bundle=function(){return function(ce){for(var Pe=[],Ne=-1,et=ce.length;++Ne<et;)Pe.push(wl(ce[Ne]));return Pe}};function wl(ce){for(var Pe=ce.source,Ne=ce.target,et=el(Pe,Ne),it=[Pe];Pe!==et;)Pe=Pe.parent,it.push(Pe);for(var ct=it.length;Ne!==et;)it.splice(ct,0,Ne),Ne=Ne.parent;return it}function Mu(ce){for(var Pe=[],Ne=ce.parent;Ne!=null;)Pe.push(ce),ce=Ne,Ne=Ne.parent;return Pe.push(ce),Pe}function el(ce,Pe){if(ce===Pe)return ce;for(var Ne=Mu(ce),et=Mu(Pe),it=Ne.pop(),ct=et.pop(),Pt=null;it===ct;)Pt=it,it=Ne.pop(),ct=et.pop();return Pt}a.layout.chord=function(){var ce={},Pe,Ne,et,it,ct=0,Pt,Mt,Ht;function Gt(){var Lr={},Rr=[],$r=a.range(it),sn=[],Ir,Ur,Kr,fn,dn;for(Pe=[],Ne=[],Ir=0,fn=-1;++fn<it;){for(Ur=0,dn=-1;++dn<it;)Ur+=et[fn][dn];Rr.push(Ur),sn.push(a.range(it)),Ir+=Ur}for(Pt&&$r.sort(function(Ba,Ea){return Pt(Rr[Ba],Rr[Ea])}),Mt&&sn.forEach(function(Ba,Ea){Ba.sort(function(Fa,ni){return Mt(et[Ea][Fa],et[Ea][ni])})}),Ir=(ze-ct*it)/Ir,Ur=0,fn=-1;++fn<it;){for(Kr=Ur,dn=-1;++dn<it;){var en=$r[fn],jn=sn[en][dn],ea=et[en][jn],fa=Ur,Qn=Ur+=ea*Ir;Lr[en+"-"+jn]={index:en,subindex:jn,startAngle:fa,endAngle:Qn,value:ea}}Ne[en]={index:en,startAngle:Kr,endAngle:Ur,value:Rr[en]},Ur+=ct}for(fn=-1;++fn<it;)for(dn=fn-1;++dn<it;){var ia=Lr[fn+"-"+dn],ca=Lr[dn+"-"+fn];(ia.value||ca.value)&&Pe.push(ia.value<ca.value?{source:ca,target:ia}:{source:ia,target:ca})}Ht&&rr()}function rr(){Pe.sort(function(Lr,Rr){return Ht((Lr.source.value+Lr.target.value)/2,(Rr.source.value+Rr.target.value)/2)})}return ce.matrix=function(Lr){return arguments.length?(it=(et=Lr)&&et.length,Pe=Ne=null,ce):et},ce.padding=function(Lr){return arguments.length?(ct=Lr,Pe=Ne=null,ce):ct},ce.sortGroups=function(Lr){return arguments.length?(Pt=Lr,Pe=Ne=null,ce):Pt},ce.sortSubgroups=function(Lr){return arguments.length?(Mt=Lr,Pe=null,ce):Mt},ce.sortChords=function(Lr){return arguments.length?(Ht=Lr,Pe&&rr(),ce):Ht},ce.chords=function(){return Pe||Gt(),Pe},ce.groups=function(){return Ne||Gt(),Ne},ce},a.layout.force=function(){var ce={},Pe=a.dispatch("start","tick","end"),Ne,et=[1,1],it,ct,Pt=.9,Mt=Uf,Ht=jh,Gt=-30,rr=ff,Lr=.1,Rr=.64,$r=[],sn=[],Ir,Ur,Kr;function fn(en){return function(jn,ea,fa,Qn){if(jn.point!==en){var ia=jn.cx-en.x,ca=jn.cy-en.y,Ba=Qn-ea,Ea=ia*ia+ca*ca;if(Ba*Ba/Rr<Ea){if(Ea<rr){var Fa=jn.charge/Ea;en.px-=ia*Fa,en.py-=ca*Fa}return!0}if(jn.point&&Ea&&Ea<rr){var Fa=jn.pointCharge/Ea;en.px-=ia*Fa,en.py-=ca*Fa}}return!jn.charge}}ce.tick=function(){if((ct*=.99)<.005)return Ne=null,Pe.end({type:"end",alpha:ct=0}),!0;var en=$r.length,jn=sn.length,ea,fa,Qn,ia,ca,Ba,Ea,Fa,ni;for(fa=0;fa<jn;++fa)Qn=sn[fa],ia=Qn.source,ca=Qn.target,Fa=ca.x-ia.x,ni=ca.y-ia.y,(Ba=Fa*Fa+ni*ni)&&(Ba=ct*Ur[fa]*((Ba=Math.sqrt(Ba))-Ir[fa])/Ba,Fa*=Ba,ni*=Ba,ca.x-=Fa*(Ea=ia.weight+ca.weight?ia.weight/(ia.weight+ca.weight):.5),ca.y-=ni*Ea,ia.x+=Fa*(Ea=1-Ea),ia.y+=ni*Ea);if((Ea=ct*Lr)&&(Fa=et[0]/2,ni=et[1]/2,fa=-1,Ea))for(;++fa<en;)Qn=$r[fa],Qn.x+=(Fa-Qn.x)*Ea,Qn.y+=(ni-Qn.y)*Ea;if(Gt)for(Pi(ea=a.geom.quadtree($r),ct,Kr),fa=-1;++fa<en;)(Qn=$r[fa]).fixed||ea.visit(fn(Qn));for(fa=-1;++fa<en;)Qn=$r[fa],Qn.fixed?(Qn.x=Qn.px,Qn.y=Qn.py):(Qn.x-=(Qn.px-(Qn.px=Qn.x))*Pt,Qn.y-=(Qn.py-(Qn.py=Qn.y))*Pt);Pe.tick({type:"tick",alpha:ct})},ce.nodes=function(en){return arguments.length?($r=en,ce):$r},ce.links=function(en){return arguments.length?(sn=en,ce):sn},ce.size=function(en){return arguments.length?(et=en,ce):et},ce.linkDistance=function(en){return arguments.length?(Mt=typeof en=="function"?en:+en,ce):Mt},ce.distance=ce.linkDistance,ce.linkStrength=function(en){return arguments.length?(Ht=typeof en=="function"?en:+en,ce):Ht},ce.friction=function(en){return arguments.length?(Pt=+en,ce):Pt},ce.charge=function(en){return arguments.length?(Gt=typeof en=="function"?en:+en,ce):Gt},ce.chargeDistance=function(en){return arguments.length?(rr=en*en,ce):Math.sqrt(rr)},ce.gravity=function(en){return arguments.length?(Lr=+en,ce):Lr},ce.theta=function(en){return arguments.length?(Rr=en*en,ce):Math.sqrt(Rr)},ce.alpha=function(en){return arguments.length?(en=+en,ct?en>0?ct=en:(Ne.c=null,Ne.t=NaN,Ne=null,Pe.end({type:"end",alpha:ct=0})):en>0&&(Pe.start({type:"start",alpha:ct=en}),Ne=Ln(ce.tick)),ce):ct},ce.start=function(){var en,jn=$r.length,ea=sn.length,fa=et[0],Qn=et[1],ia,ca;for(en=0;en<jn;++en)(ca=$r[en]).index=en,ca.weight=0;for(en=0;en<ea;++en)ca=sn[en],typeof ca.source=="number"&&(ca.source=$r[ca.source]),typeof ca.target=="number"&&(ca.target=$r[ca.target]),++ca.source.weight,++ca.target.weight;for(en=0;en<jn;++en)ca=$r[en],isNaN(ca.x)&&(ca.x=Ba("x",fa)),isNaN(ca.y)&&(ca.y=Ba("y",Qn)),isNaN(ca.px)&&(ca.px=ca.x),isNaN(ca.py)&&(ca.py=ca.y);if(Ir=[],typeof Mt=="function")for(en=0;en<ea;++en)Ir[en]=+Mt.call(this,sn[en],en);else for(en=0;en<ea;++en)Ir[en]=Mt;if(Ur=[],typeof Ht=="function")for(en=0;en<ea;++en)Ur[en]=+Ht.call(this,sn[en],en);else for(en=0;en<ea;++en)Ur[en]=Ht;if(Kr=[],typeof Gt=="function")for(en=0;en<jn;++en)Kr[en]=+Gt.call(this,$r[en],en);else for(en=0;en<jn;++en)Kr[en]=Gt;function Ba(Ea,Fa){if(!ia){for(ia=new Array(jn),ui=0;ui<jn;++ui)ia[ui]=[];for(ui=0;ui<ea;++ui){var ni=sn[ui];ia[ni.source.index].push(ni.target),ia[ni.target.index].push(ni.source)}}for(var Bi=ia[en],ui=-1,Jn=Bi.length,Va;++ui<Jn;)if(!isNaN(Va=Bi[ui][Ea]))return Va;return Math.random()*Fa}return ce.resume()},ce.resume=function(){return ce.alpha(.1)},ce.stop=function(){return ce.alpha(0)},ce.drag=function(){if(it||(it=a.behavior.drag().origin(z).on("dragstart.force",Ss).on("drag.force",dn).on("dragend.force",Bf)),!arguments.length)return it;this.on("mouseover.force",Xl).on("mouseout.force",is).call(it)};function dn(en){en.px=a.event.x,en.py=a.event.y,ce.resume()}return a.rebind(ce,Pe,"on")};function Ss(ce){ce.fixed|=2}function Bf(ce){ce.fixed&=-7}function Xl(ce){ce.fixed|=4,ce.px=ce.x,ce.py=ce.y}function is(ce){ce.fixed&=-5}function Pi(ce,Pe,Ne){var et=0,it=0;if(ce.charge=0,!ce.leaf)for(var ct=ce.nodes,Pt=ct.length,Mt=-1,Ht;++Mt<Pt;)Ht=ct[Mt],Ht!=null&&(Pi(Ht,Pe,Ne),ce.charge+=Ht.charge,et+=Ht.charge*Ht.cx,it+=Ht.charge*Ht.cy);if(ce.point){ce.leaf||(ce.point.x+=Math.random()-.5,ce.point.y+=Math.random()-.5);var Gt=Pe*Ne[ce.point.index];ce.charge+=ce.pointCharge=Gt,et+=Gt*ce.point.x,it+=Gt*ce.point.y}ce.cx=et/ce.charge,ce.cy=it/ce.charge}var Uf=20,jh=1,ff=1/0;a.layout.hierarchy=function(){var ce=hf,Pe=cf,Ne=Jl;function et(it){var ct=[it],Pt=[],Mt;for(it.depth=0;(Mt=ct.pop())!=null;)if(Pt.push(Mt),(Gt=Pe.call(et,Mt,Mt.depth))&&(Ht=Gt.length)){for(var Ht,Gt,rr;--Ht>=0;)ct.push(rr=Gt[Ht]),rr.parent=Mt,rr.depth=Mt.depth+1;Ne&&(Mt.value=0),Mt.children=Gt}else Ne&&(Mt.value=+Ne.call(et,Mt,Mt.depth)||0),delete Mt.children;return No(it,function(Lr){var Rr,$r;ce&&(Rr=Lr.children)&&Rr.sort(ce),Ne&&($r=Lr.parent)&&($r.value+=Lr.value)}),Pt}return et.sort=function(it){return arguments.length?(ce=it,et):ce},et.children=function(it){return arguments.length?(Pe=it,et):Pe},et.value=function(it){return arguments.length?(Ne=it,et):Ne},et.revalue=function(it){return Ne&&(Kl(it,function(ct){ct.children&&(ct.value=0)}),No(it,function(ct){var Pt;ct.children||(ct.value=+Ne.call(et,ct,ct.depth)||0),(Pt=ct.parent)&&(Pt.value+=ct.value)})),it},et};function Zl(ce,Pe){return a.rebind(ce,Pe,"sort","children","value"),ce.nodes=ce,ce.links=Hh,ce}function Kl(ce,Pe){for(var Ne=[ce];(ce=Ne.pop())!=null;)if(Pe(ce),(it=ce.children)&&(et=it.length))for(var et,it;--et>=0;)Ne.push(it[et])}function No(ce,Pe){for(var Ne=[ce],et=[];(ce=Ne.pop())!=null;)if(et.push(ce),(Pt=ce.children)&&(ct=Pt.length))for(var it=-1,ct,Pt;++it<ct;)Ne.push(Pt[it]);for(;(ce=et.pop())!=null;)Pe(ce)}function cf(ce){return ce.children}function Jl(ce){return ce.value}function hf(ce,Pe){return Pe.value-ce.value}function Hh(ce){return a.merge(ce.map(function(Pe){return(Pe.children||[]).map(function(Ne){return{source:Pe,target:Ne}})}))}a.layout.partition=function(){var ce=a.layout.hierarchy(),Pe=[1,1];function Ne(ct,Pt,Mt,Ht){var Gt=ct.children;if(ct.x=Pt,ct.y=ct.depth*Ht,ct.dx=Mt,ct.dy=Ht,Gt&&(Lr=Gt.length)){var rr=-1,Lr,Rr,$r;for(Mt=ct.value?Mt/ct.value:0;++rr<Lr;)Ne(Rr=Gt[rr],Pt,$r=Rr.value*Mt,Ht),Pt+=$r}}function et(ct){var Pt=ct.children,Mt=0;if(Pt&&(Gt=Pt.length))for(var Ht=-1,Gt;++Ht<Gt;)Mt=Math.max(Mt,et(Pt[Ht]));return 1+Mt}function it(ct,Pt){var Mt=ce.call(this,ct,Pt);return Ne(Mt[0],0,Pe[0],Pe[1]/et(Mt[0])),Mt}return it.size=function(ct){return arguments.length?(Pe=ct,it):Pe},Zl(it,ce)},a.layout.pie=function(){var ce=Number,Pe=Pc,Ne=0,et=ze,it=0;function ct(Pt){var Mt=Pt.length,Ht=Pt.map(function(fn,dn){return+ce.call(ct,fn,dn)}),Gt=+(typeof Ne=="function"?Ne.apply(this,arguments):Ne),rr=(typeof et=="function"?et.apply(this,arguments):et)-Gt,Lr=Math.min(Math.abs(rr)/Mt,+(typeof it=="function"?it.apply(this,arguments):it)),Rr=Lr*(rr<0?-1:1),$r=a.sum(Ht),sn=$r?(rr-Mt*Rr)/$r:0,Ir=a.range(Mt),Ur=[],Kr;return Pe!=null&&Ir.sort(Pe===Pc?function(fn,dn){return Ht[dn]-Ht[fn]}:function(fn,dn){return Pe(Pt[fn],Pt[dn])}),Ir.forEach(function(fn){Ur[fn]={data:Pt[fn],value:Kr=Ht[fn],startAngle:Gt,endAngle:Gt+=Kr*sn+Rr,padAngle:Lr}}),Ur}return ct.value=function(Pt){return arguments.length?(ce=Pt,ct):ce},ct.sort=function(Pt){return arguments.length?(Pe=Pt,ct):Pe},ct.startAngle=function(Pt){return arguments.length?(Ne=Pt,ct):Ne},ct.endAngle=function(Pt){return arguments.length?(et=Pt,ct):et},ct.padAngle=function(Pt){return arguments.length?(it=Pt,ct):it},ct};var Pc={};a.layout.stack=function(){var ce=z,Pe=Eu,Ne=df,et=Hf,it=Vf,ct=jf;function Pt(Mt,Ht){if(!(sn=Mt.length))return Mt;var Gt=Mt.map(function(fn,dn){return ce.call(Pt,fn,dn)}),rr=Gt.map(function(fn){return fn.map(function(dn,en){return[it.call(Pt,dn,en),ct.call(Pt,dn,en)]})}),Lr=Pe.call(Pt,rr,Ht);Gt=a.permute(Gt,Lr),rr=a.permute(rr,Lr);var Rr=Ne.call(Pt,rr,Ht),$r=Gt[0].length,sn,Ir,Ur,Kr;for(Ur=0;Ur<$r;++Ur)for(et.call(Pt,Gt[0][Ur],Kr=Rr[Ur],rr[0][Ur][1]),Ir=1;Ir<sn;++Ir)et.call(Pt,Gt[Ir][Ur],Kr+=rr[Ir-1][Ur][1],rr[Ir][Ur][1]);return Mt}return Pt.values=function(Mt){return arguments.length?(ce=Mt,Pt):ce},Pt.order=function(Mt){return arguments.length?(Pe=typeof Mt=="function"?Mt:$l.get(Mt)||Eu,Pt):Pe},Pt.offset=function(Mt){return arguments.length?(Ne=typeof Mt=="function"?Mt:vf.get(Mt)||df,Pt):Ne},Pt.x=function(Mt){return arguments.length?(it=Mt,Pt):it},Pt.y=function(Mt){return arguments.length?(ct=Mt,Pt):ct},Pt.out=function(Mt){return arguments.length?(et=Mt,Pt):et},Pt};function Vf(ce){return ce.x}function jf(ce){return ce.y}function Hf(ce,Pe,Ne){ce.y0=Pe,ce.y=Ne}var $l=a.map({"inside-out":function(ce){var Pe=ce.length,Ne,et,it=ce.map(gi),ct=ce.map(Rc),Pt=a.range(Pe).sort(function(Lr,Rr){return it[Lr]-it[Rr]}),Mt=0,Ht=0,Gt=[],rr=[];for(Ne=0;Ne<Pe;++Ne)et=Pt[Ne],Mt<Ht?(Mt+=ct[et],Gt.push(et)):(Ht+=ct[et],rr.push(et));return rr.reverse().concat(Gt)},reverse:function(ce){return a.range(ce.length).reverse()},default:Eu}),vf=a.map({silhouette:function(ce){var Pe=ce.length,Ne=ce[0].length,et=[],it=0,ct,Pt,Mt,Ht=[];for(Pt=0;Pt<Ne;++Pt){for(ct=0,Mt=0;ct<Pe;ct++)Mt+=ce[ct][Pt][1];Mt>it&&(it=Mt),et.push(Mt)}for(Pt=0;Pt<Ne;++Pt)Ht[Pt]=(it-et[Pt])/2;return Ht},wiggle:function(ce){var Pe=ce.length,Ne=ce[0],et=Ne.length,it,ct,Pt,Mt,Ht,Gt,rr,Lr,Rr,$r=[];for($r[0]=Lr=Rr=0,ct=1;ct<et;++ct){for(it=0,Mt=0;it<Pe;++it)Mt+=ce[it][ct][1];for(it=0,Ht=0,rr=Ne[ct][0]-Ne[ct-1][0];it<Pe;++it){for(Pt=0,Gt=(ce[it][ct][1]-ce[it][ct-1][1])/(2*rr);Pt<it;++Pt)Gt+=(ce[Pt][ct][1]-ce[Pt][ct-1][1])/rr;Ht+=Gt*ce[it][ct][1]}$r[ct]=Lr-=Mt?Ht/Mt*rr:0,Lr<Rr&&(Rr=Lr)}for(ct=0;ct<et;++ct)$r[ct]-=Rr;return $r},expand:function(ce){var Pe=ce.length,Ne=ce[0].length,et=1/Pe,it,ct,Pt,Mt=[];for(ct=0;ct<Ne;++ct){for(it=0,Pt=0;it<Pe;it++)Pt+=ce[it][ct][1];if(Pt)for(it=0;it<Pe;it++)ce[it][ct][1]/=Pt;else for(it=0;it<Pe;it++)ce[it][ct][1]=et}for(ct=0;ct<Ne;++ct)Mt[ct]=0;return Mt},zero:df});function Eu(ce){return a.range(ce.length)}function df(ce){for(var Pe=-1,Ne=ce[0].length,et=[];++Pe<Ne;)et[Pe]=0;return et}function gi(ce){for(var Pe=1,Ne=0,et=ce[0][1],it,ct=ce.length;Pe<ct;++Pe)(it=ce[Pe][1])>et&&(Ne=Pe,et=it);return Ne}function Rc(ce){return ce.reduce(os,0)}function os(ce,Pe){return ce+Pe[1]}a.layout.histogram=function(){var ce=!0,Pe=Number,Ne=Tl,et=Dc;function it(ct,Rr){for(var Mt=[],Ht=ct.map(Pe,this),Gt=Ne.call(this,Ht,Rr),rr=et.call(this,Gt,Ht,Rr),Lr,Rr=-1,$r=Ht.length,sn=rr.length-1,Ir=ce?1:1/$r,Ur;++Rr<sn;)Lr=Mt[Rr]=[],Lr.dx=rr[Rr+1]-(Lr.x=rr[Rr]),Lr.y=0;if(sn>0)for(Rr=-1;++Rr<$r;)Ur=Ht[Rr],Ur>=Gt[0]&&Ur<=Gt[1]&&(Lr=Mt[a.bisect(rr,Ur,1,sn)-1],Lr.y+=Ir,Lr.push(ct[Rr]));return Mt}return it.value=function(ct){return arguments.length?(Pe=ct,it):Pe},it.range=function(ct){return arguments.length?(Ne=nn(ct),it):Ne},it.bins=function(ct){return arguments.length?(et=typeof ct=="number"?function(Pt){return Gf(Pt,ct)}:nn(ct),it):et},it.frequency=function(ct){return arguments.length?(ce=!!ct,it):ce},it};function Dc(ce,Pe){return Gf(ce,Math.ceil(Math.log(Pe.length)/Math.LN2+1))}function Gf(ce,Pe){for(var Ne=-1,et=+ce[0],it=(ce[1]-et)/Pe,ct=[];++Ne<=Pe;)ct[Ne]=it*Ne+et;return ct}function Tl(ce){return[a.min(ce),a.max(ce)]}a.layout.pack=function(){var ce=a.layout.hierarchy().sort(tl),Pe=0,Ne=[1,1],et;function it(ct,Pt){var Mt=ce.call(this,ct,Pt),Ht=Mt[0],Gt=Ne[0],rr=Ne[1],Lr=et==null?Math.sqrt:typeof et=="function"?et:function(){return et};if(Ht.x=Ht.y=0,No(Ht,function($r){$r.r=+Lr($r.value)}),No(Ht,ss),Pe){var Rr=Pe*(et?1:Math.max(2*Ht.r/Gt,2*Ht.r/rr))/2;No(Ht,function($r){$r.r+=Rr}),No(Ht,ss),No(Ht,function($r){$r.r-=Rr})}return rl(Ht,Gt/2,rr/2,et?1:1/Math.max(2*Ht.r/Gt,2*Ht.r/rr)),Mt}return it.size=function(ct){return arguments.length?(Ne=ct,it):Ne},it.radius=function(ct){return arguments.length?(et=ct==null||typeof ct=="function"?ct:+ct,it):et},it.padding=function(ct){return arguments.length?(Pe=+ct,it):Pe},Zl(it,ce)};function tl(ce,Pe){return ce.value-Pe.value}function pf(ce,Pe){var Ne=ce._pack_next;ce._pack_next=Pe,Pe._pack_prev=ce,Pe._pack_next=Ne,Ne._pack_prev=Pe}function Fi(ce,Pe){ce._pack_next=Pe,Pe._pack_prev=ce}function Cu(ce,Pe){var Ne=Pe.x-ce.x,et=Pe.y-ce.y,it=ce.r+Pe.r;return .999*it*it>Ne*Ne+et*et}function ss(ce){if(!(Pe=ce.children)||!(Rr=Pe.length))return;var Pe,Ne=1/0,et=-1/0,it=1/0,ct=-1/0,Pt,Mt,Ht,Gt,rr,Lr,Rr;function $r(en){Ne=Math.min(en.x-en.r,Ne),et=Math.max(en.x+en.r,et),it=Math.min(en.y-en.r,it),ct=Math.max(en.y+en.r,ct)}if(Pe.forEach(Us),Pt=Pe[0],Pt.x=-Pt.r,Pt.y=0,$r(Pt),Rr>1&&(Mt=Pe[1],Mt.x=Mt.r,Mt.y=0,$r(Mt),Rr>2))for(Ht=Pe[2],ls(Pt,Mt,Ht),$r(Ht),pf(Pt,Ht),Pt._pack_prev=Ht,pf(Ht,Mt),Mt=Pt._pack_next,Gt=3;Gt<Rr;Gt++){ls(Pt,Mt,Ht=Pe[Gt]);var sn=0,Ir=1,Ur=1;for(rr=Mt._pack_next;rr!==Mt;rr=rr._pack_next,Ir++)if(Cu(rr,Ht)){sn=1;break}if(sn==1)for(Lr=Pt._pack_prev;Lr!==rr._pack_prev&&!Cu(Lr,Ht);Lr=Lr._pack_prev,Ur++);sn?(Ir<Ur||Ir==Ur&&Mt.r<Pt.r?Fi(Pt,Mt=rr):Fi(Pt=Lr,Mt),Gt--):(pf(Pt,Ht),Mt=Ht,$r(Ht))}var Kr=(Ne+et)/2,fn=(it+ct)/2,dn=0;for(Gt=0;Gt<Rr;Gt++)Ht=Pe[Gt],Ht.x-=Kr,Ht.y-=fn,dn=Math.max(dn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));ce.r=dn,Pe.forEach(Al)}function Us(ce){ce._pack_next=ce._pack_prev=ce}function Al(ce){delete ce._pack_next,delete ce._pack_prev}function rl(ce,Pe,Ne,et){var it=ce.children;if(ce.x=Pe+=et*ce.x,ce.y=Ne+=et*ce.y,ce.r*=et,it)for(var ct=-1,Pt=it.length;++ct<Pt;)rl(it[ct],Pe,Ne,et)}function ls(ce,Pe,Ne){var et=ce.r+Ne.r,it=Pe.x-ce.x,ct=Pe.y-ce.y;if(et&&(it||ct)){var Pt=Pe.r+Ne.r,Mt=it*it+ct*ct;Pt*=Pt,et*=et;var Ht=.5+(et-Pt)/(2*Mt),Gt=Math.sqrt(Math.max(0,2*Pt*(et+Mt)-(et-=Mt)*et-Pt*Pt))/(2*Mt);Ne.x=ce.x+Ht*it+Gt*ct,Ne.y=ce.y+Ht*ct-Gt*it}else Ne.x=ce.x+et,Ne.y=ce.y}a.layout.tree=function(){var ce=a.layout.hierarchy().sort(null).value(null),Pe=Vs,Ne=[1,1],et=null;function it(rr,Lr){var Rr=ce.call(this,rr,Lr),$r=Rr[0],sn=ct($r);if(No(sn,Pt),sn.parent.m=-sn.z,Kl(sn,Mt),et)Kl($r,Gt);else{var Ir=$r,Ur=$r,Kr=$r;Kl($r,function(jn){jn.x<Ir.x&&(Ir=jn),jn.x>Ur.x&&(Ur=jn),jn.depth>Kr.depth&&(Kr=jn)});var fn=Pe(Ir,Ur)/2-Ir.x,dn=Ne[0]/(Ur.x+Pe(Ur,Ir)/2+fn),en=Ne[1]/(Kr.depth||1);Kl($r,function(jn){jn.x=(jn.x+fn)*dn,jn.y=jn.depth*en})}return Rr}function ct(rr){for(var Lr={A:null,children:[rr]},Rr=[Lr],$r;($r=Rr.pop())!=null;)for(var sn=$r.children,Ir,Ur=0,Kr=sn.length;Ur<Kr;++Ur)Rr.push((sn[Ur]=Ir={_:sn[Ur],parent:$r,children:(Ir=sn[Ur].children)&&Ir.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ur}).a=Ir);return Lr.children[0]}function Pt(rr){var Lr=rr.children,Rr=rr.parent.children,$r=rr.i?Rr[rr.i-1]:null;if(Lr.length){Gh(rr);var sn=(Lr[0].z+Lr[Lr.length-1].z)/2;$r?(rr.z=$r.z+Pe(rr._,$r._),rr.m=rr.z-sn):rr.z=sn}else $r&&(rr.z=$r.z+Pe(rr._,$r._));rr.parent.A=Ht(rr,$r,rr.parent.A||Rr[0])}function Mt(rr){rr._.x=rr.z+rr.parent.m,rr.m+=rr.parent.m}function Ht(rr,Lr,Rr){if(Lr){for(var $r=rr,sn=rr,Ir=Lr,Ur=$r.parent.children[0],Kr=$r.m,fn=sn.m,dn=Ir.m,en=Ur.m,jn;Ir=Ko(Ir),$r=us($r),Ir&&$r;)Ur=us(Ur),sn=Ko(sn),sn.a=rr,jn=Ir.z+dn-$r.z-Kr+Pe(Ir._,$r._),jn>0&&(Lu(Wh(Ir,rr,Rr),rr,jn),Kr+=jn,fn+=jn),dn+=Ir.m,Kr+=$r.m,en+=Ur.m,fn+=sn.m;Ir&&!Ko(sn)&&(sn.t=Ir,sn.m+=dn-fn),$r&&!us(Ur)&&(Ur.t=$r,Ur.m+=Kr-en,Rr=rr)}return Rr}function Gt(rr){rr.x*=Ne[0],rr.y=rr.depth*Ne[1]}return it.separation=function(rr){return arguments.length?(Pe=rr,it):Pe},it.size=function(rr){return arguments.length?(et=(Ne=rr)==null?Gt:null,it):et?null:Ne},it.nodeSize=function(rr){return arguments.length?(et=(Ne=rr)==null?null:Gt,it):et?Ne:null},Zl(it,ce)};function Vs(ce,Pe){return ce.parent==Pe.parent?1:2}function us(ce){var Pe=ce.children;return Pe.length?Pe[0]:ce.t}function Ko(ce){var Pe=ce.children,Ne;return(Ne=Pe.length)?Pe[Ne-1]:ce.t}function Lu(ce,Pe,Ne){var et=Ne/(Pe.i-ce.i);Pe.c-=et,Pe.s+=Ne,ce.c+=et,Pe.z+=Ne,Pe.m+=Ne}function Gh(ce){for(var Pe=0,Ne=0,et=ce.children,it=et.length,ct;--it>=0;)ct=et[it],ct.z+=Pe,ct.m+=Pe,Pe+=ct.s+(Ne+=ct.c)}function Wh(ce,Pe,Ne){return ce.a.parent===Pe.parent?ce.a:Ne}a.layout.cluster=function(){var ce=a.layout.hierarchy().sort(null).value(null),Pe=Vs,Ne=[1,1],et=!1;function it(ct,Pt){var Mt=ce.call(this,ct,Pt),Ht=Mt[0],Gt,rr=0;No(Ht,function(Ir){var Ur=Ir.children;Ur&&Ur.length?(Ir.x=Xh(Ur),Ir.y=Yh(Ur)):(Ir.x=Gt?rr+=Pe(Ir,Gt):0,Ir.y=0,Gt=Ir)});var Lr=Wf(Ht),Rr=Ic(Ht),$r=Lr.x-Pe(Lr,Rr)/2,sn=Rr.x+Pe(Rr,Lr)/2;return No(Ht,et?function(Ir){Ir.x=(Ir.x-Ht.x)*Ne[0],Ir.y=(Ht.y-Ir.y)*Ne[1]}:function(Ir){Ir.x=(Ir.x-$r)/(sn-$r)*Ne[0],Ir.y=(1-(Ht.y?Ir.y/Ht.y:1))*Ne[1]}),Mt}return it.separation=function(ct){return arguments.length?(Pe=ct,it):Pe},it.size=function(ct){return arguments.length?(et=(Ne=ct)==null,it):et?null:Ne},it.nodeSize=function(ct){return arguments.length?(et=(Ne=ct)!=null,it):et?Ne:null},Zl(it,ce)};function Yh(ce){return 1+a.max(ce,function(Pe){return Pe.y})}function Xh(ce){return ce.reduce(function(Pe,Ne){return Pe+Ne.x},0)/ce.length}function Wf(ce){var Pe=ce.children;return Pe&&Pe.length?Wf(Pe[0]):ce}function Ic(ce){var Pe=ce.children,Ne;return Pe&&(Ne=Pe.length)?Ic(Pe[Ne-1]):ce}a.layout.treemap=function(){var ce=a.layout.hierarchy(),Pe=Math.round,Ne=[1,1],et=null,it=Ql,ct=!1,Pt,Mt="squarify",Ht=.5*(1+Math.sqrt(5));function Gt(Ir,Ur){for(var Kr=-1,fn=Ir.length,dn,en;++Kr<fn;)en=(dn=Ir[Kr]).value*(Ur<0?0:Ur),dn.area=isNaN(en)||en<=0?0:en}function rr(Ir){var Ur=Ir.children;if(Ur&&Ur.length){var Kr=it(Ir),fn=[],dn=Ur.slice(),en,jn=1/0,ea,fa=Mt==="slice"?Kr.dx:Mt==="dice"?Kr.dy:Mt==="slice-dice"?Ir.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),Qn;for(Gt(dn,Kr.dx*Kr.dy/Ir.value),fn.area=0;(Qn=dn.length)>0;)fn.push(en=dn[Qn-1]),fn.area+=en.area,Mt!=="squarify"||(ea=Rr(fn,fa))<=jn?(dn.pop(),jn=ea):(fn.area-=fn.pop().area,$r(fn,fa,Kr,!1),fa=Math.min(Kr.dx,Kr.dy),fn.length=fn.area=0,jn=1/0);fn.length&&($r(fn,fa,Kr,!0),fn.length=fn.area=0),Ur.forEach(rr)}}function Lr(Ir){var Ur=Ir.children;if(Ur&&Ur.length){var Kr=it(Ir),fn=Ur.slice(),dn,en=[];for(Gt(fn,Kr.dx*Kr.dy/Ir.value),en.area=0;dn=fn.pop();)en.push(dn),en.area+=dn.area,dn.z!=null&&($r(en,dn.z?Kr.dx:Kr.dy,Kr,!fn.length),en.length=en.area=0);Ur.forEach(Lr)}}function Rr(Ir,Ur){for(var Kr=Ir.area,fn,dn=0,en=1/0,jn=-1,ea=Ir.length;++jn<ea;)(fn=Ir[jn].area)&&(fn<en&&(en=fn),fn>dn&&(dn=fn));return Kr*=Kr,Ur*=Ur,Kr?Math.max(Ur*dn*Ht/Kr,Kr/(Ur*en*Ht)):1/0}function $r(Ir,Ur,Kr,fn){var dn=-1,en=Ir.length,jn=Kr.x,ea=Kr.y,fa=Ur?Pe(Ir.area/Ur):0,Qn;if(Ur==Kr.dx){for((fn||fa>Kr.dy)&&(fa=Kr.dy);++dn<en;)Qn=Ir[dn],Qn.x=jn,Qn.y=ea,Qn.dy=fa,jn+=Qn.dx=Math.min(Kr.x+Kr.dx-jn,fa?Pe(Qn.area/fa):0);Qn.z=!0,Qn.dx+=Kr.x+Kr.dx-jn,Kr.y+=fa,Kr.dy-=fa}else{for((fn||fa>Kr.dx)&&(fa=Kr.dx);++dn<en;)Qn=Ir[dn],Qn.x=jn,Qn.y=ea,Qn.dx=fa,ea+=Qn.dy=Math.min(Kr.y+Kr.dy-ea,fa?Pe(Qn.area/fa):0);Qn.z=!1,Qn.dy+=Kr.y+Kr.dy-ea,Kr.x+=fa,Kr.dx-=fa}}function sn(Ir){var Ur=Pt||ce(Ir),Kr=Ur[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Ne[0],Kr.dy=Ne[1]):Kr.dx=Kr.dy=0,Pt&&ce.revalue(Kr),Gt([Kr],Kr.dx*Kr.dy/Kr.value),(Pt?Lr:rr)(Kr),ct&&(Pt=Ur),Ur}return sn.size=function(Ir){return arguments.length?(Ne=Ir,sn):Ne},sn.padding=function(Ir){if(!arguments.length)return et;function Ur(dn){var en=Ir.call(sn,dn,dn.depth);return en==null?Ql(dn):qi(dn,typeof en=="number"?[en,en,en,en]:en)}function Kr(dn){return qi(dn,Ir)}var fn;return it=(et=Ir)==null?Ql:(fn=typeof Ir)=="function"?Ur:(fn==="number"&&(Ir=[Ir,Ir,Ir,Ir]),Kr),sn},sn.round=function(Ir){return arguments.length?(Pe=Ir?Math.round:Number,sn):Pe!=Number},sn.sticky=function(Ir){return arguments.length?(ct=Ir,Pt=null,sn):ct},sn.ratio=function(Ir){return arguments.length?(Ht=Ir,sn):Ht},sn.mode=function(Ir){return arguments.length?(Mt=Ir+"",sn):Mt},Zl(sn,ce)};function Ql(ce){return{x:ce.x,y:ce.y,dx:ce.dx,dy:ce.dy}}function qi(ce,Pe){var Ne=ce.x+Pe[3],et=ce.y+Pe[0],it=ce.dx-Pe[1]-Pe[3],ct=ce.dy-Pe[0]-Pe[2];return it<0&&(Ne+=it/2,it=0),ct<0&&(et+=ct/2,ct=0),{x:Ne,y:et,dx:it,dy:ct}}a.random={normal:function(ce,Pe){var Ne=arguments.length;return Ne<2&&(Pe=1),Ne<1&&(ce=0),function(){var et,it,ct;do et=Math.random()*2-1,it=Math.random()*2-1,ct=et*et+it*it;while(!ct||ct>1);return ce+Pe*et*Math.sqrt(-2*Math.log(ct)/ct)}},logNormal:function(){var ce=a.random.normal.apply(a,arguments);return function(){return Math.exp(ce())}},bates:function(ce){var Pe=a.random.irwinHall(ce);return function(){return Pe()/ce}},irwinHall:function(ce){return function(){for(var Pe=0,Ne=0;Ne<ce;Ne++)Pe+=Math.random();return Pe}}},a.scale={};function Wo(ce){var Pe=ce[0],Ne=ce[ce.length-1];return Pe<Ne?[Pe,Ne]:[Ne,Pe]}function ql(ce){return ce.rangeExtent?ce.rangeExtent():Wo(ce.range())}function _c(ce,Pe,Ne,et){var it=Ne(ce[0],ce[1]),ct=et(Pe[0],Pe[1]);return function(Pt){return ct(it(Pt))}}function Pu(ce,Pe){var Ne=0,et=ce.length-1,it=ce[Ne],ct=ce[et],Pt;return ct<it&&(Pt=Ne,Ne=et,et=Pt,Pt=it,it=ct,ct=Pt),ce[Ne]=Pe.floor(it),ce[et]=Pe.ceil(ct),ce}function js(ce){return ce?{floor:function(Pe){return Math.floor(Pe/ce)*ce},ceil:function(Pe){return Math.ceil(Pe/ce)*ce}}:Zh}var Zh={floor:z,ceil:z};function kc(ce,Pe,Ne,et){var it=[],ct=[],Pt=0,Mt=Math.min(ce.length,Pe.length)-1;for(ce[Mt]<ce[0]&&(ce=ce.slice().reverse(),Pe=Pe.slice().reverse());++Pt<=Mt;)it.push(Ne(ce[Pt-1],ce[Pt])),ct.push(et(Pe[Pt-1],Pe[Pt]));return function(Ht){var Gt=a.bisect(ce,Ht,1,Mt)-1;return ct[Gt](it[Gt](Ht))}}a.scale.linear=function(){return Fc([0,1],[0,1],io,!1)};function Fc(ce,Pe,Ne,et){var it,ct;function Pt(){var Ht=Math.min(ce.length,Pe.length)>2?kc:_c,Gt=et?Yl:as;return it=Ht(ce,Pe,Gt,Ne),ct=Ht(Pe,ce,Gt,io),Mt}function Mt(Ht){return it(Ht)}return Mt.invert=function(Ht){return ct(Ht)},Mt.domain=function(Ht){return arguments.length?(ce=Ht.map(Number),Pt()):ce},Mt.range=function(Ht){return arguments.length?(Pe=Ht,Pt()):Pe},Mt.rangeRound=function(Ht){return Mt.range(Ht).interpolate(Mc)},Mt.clamp=function(Ht){return arguments.length?(et=Ht,Pt()):et},Mt.interpolate=function(Ht){return arguments.length?(Ne=Ht,Pt()):Ne},Mt.ticks=function(Ht){return fs(ce,Ht)},Mt.tickFormat=function(Ht,Gt){return d3_scale_linearTickFormat(ce,Ht,Gt)},Mt.nice=function(Ht){return Oc(ce,Ht),Pt()},Mt.copy=function(){return Fc(ce,Pe,Ne,et)},Pt()}function Yf(ce,Pe){return a.rebind(ce,Pe,"range","rangeRound","interpolate","clamp")}function Oc(ce,Pe){return Pu(ce,js(Co(ce,Pe)[2])),Pu(ce,js(Co(ce,Pe)[2])),ce}function Co(ce,Pe){Pe==null&&(Pe=10);var Ne=Wo(ce),et=Ne[1]-Ne[0],it=Math.pow(10,Math.floor(Math.log(et/Pe)/Math.LN10)),ct=Pe/et*it;return ct<=.15?it*=10:ct<=.35?it*=5:ct<=.75&&(it*=2),Ne[0]=Math.ceil(Ne[0]/it)*it,Ne[1]=Math.floor(Ne[1]/it)*it+it*.5,Ne[2]=it,Ne}function fs(ce,Pe){return a.range.apply(a,Co(ce,Pe))}a.scale.log=function(){return nl(a.scale.linear().domain([0,1]),10,!0,[1,10])};function nl(ce,Pe,Ne,et){function it(Mt){return(Ne?Math.log(Mt<0?0:Mt):-Math.log(Mt>0?0:-Mt))/Math.log(Pe)}function ct(Mt){return Ne?Math.pow(Pe,Mt):-Math.pow(Pe,-Mt)}function Pt(Mt){return ce(it(Mt))}return Pt.invert=function(Mt){return ct(ce.invert(Mt))},Pt.domain=function(Mt){return arguments.length?(Ne=Mt[0]>=0,ce.domain((et=Mt.map(Number)).map(it)),Pt):et},Pt.base=function(Mt){return arguments.length?(Pe=+Mt,ce.domain(et.map(it)),Pt):Pe},Pt.nice=function(){var Mt=Pu(et.map(it),Ne?Math:eu);return ce.domain(Mt),et=Mt.map(ct),Pt},Pt.ticks=function(){var Mt=Wo(et),Ht=[],Gt=Mt[0],rr=Mt[1],Lr=Math.floor(it(Gt)),Rr=Math.ceil(it(rr)),$r=Pe%1?2:Pe;if(isFinite(Rr-Lr)){if(Ne){for(;Lr<Rr;Lr++)for(var sn=1;sn<$r;sn++)Ht.push(ct(Lr)*sn);Ht.push(ct(Lr))}else for(Ht.push(ct(Lr));Lr++<Rr;)for(var sn=$r-1;sn>0;sn--)Ht.push(ct(Lr)*sn);for(Lr=0;Ht[Lr]<Gt;Lr++);for(Rr=Ht.length;Ht[Rr-1]>rr;Rr--);Ht=Ht.slice(Lr,Rr)}return Ht},Pt.copy=function(){return nl(ce.copy(),Pe,Ne,et)},Yf(Pt,ce)}var eu={floor:function(ce){return-Math.ceil(-ce)},ceil:function(ce){return-Math.floor(-ce)}};a.scale.pow=function(){return gf(a.scale.linear(),1,[0,1])};function gf(ce,Pe,Ne){var et=Sl(Pe),it=Sl(1/Pe);function ct(Pt){return ce(et(Pt))}return ct.invert=function(Pt){return it(ce.invert(Pt))},ct.domain=function(Pt){return arguments.length?(ce.domain((Ne=Pt.map(Number)).map(et)),ct):Ne},ct.ticks=function(Pt){return fs(Ne,Pt)},ct.tickFormat=function(Pt,Mt){return d3_scale_linearTickFormat(Ne,Pt,Mt)},ct.nice=function(Pt){return ct.domain(Oc(Ne,Pt))},ct.exponent=function(Pt){return arguments.length?(et=Sl(Pe=Pt),it=Sl(1/Pe),ce.domain(Ne.map(et)),ct):Pe},ct.copy=function(){return gf(ce.copy(),Pe,Ne)},Yf(ct,ce)}function Sl(ce){return function(Pe){return Pe<0?-Math.pow(-Pe,ce):Math.pow(Pe,ce)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Ml([],{t:"range",a:[[]]})};function Ml(ce,Pe){var Ne,et,it;function ct(Mt){return et[((Ne.get(Mt)||(Pe.t==="range"?Ne.set(Mt,ce.push(Mt)):NaN))-1)%et.length]}function Pt(Mt,Ht){return a.range(ce.length).map(function(Gt){return Mt+Ht*Gt})}return ct.domain=function(Mt){if(!arguments.length)return ce;ce=[],Ne=new C;for(var Ht=-1,Gt=Mt.length,rr;++Ht<Gt;)Ne.has(rr=Mt[Ht])||Ne.set(rr,ce.push(rr));return ct[Pe.t].apply(ct,Pe.a)},ct.range=function(Mt){return arguments.length?(et=Mt,it=0,Pe={t:"range",a:arguments},ct):et},ct.rangePoints=function(Mt,Ht){arguments.length<2&&(Ht=0);var Gt=Mt[0],rr=Mt[1],Lr=ce.length<2?(Gt=(Gt+rr)/2,0):(rr-Gt)/(ce.length-1+Ht);return et=Pt(Gt+Lr*Ht/2,Lr),it=0,Pe={t:"rangePoints",a:arguments},ct},ct.rangeRoundPoints=function(Mt,Ht){arguments.length<2&&(Ht=0);var Gt=Mt[0],rr=Mt[1],Lr=ce.length<2?(Gt=rr=Math.round((Gt+rr)/2),0):(rr-Gt)/(ce.length-1+Ht)|0;return et=Pt(Gt+Math.round(Lr*Ht/2+(rr-Gt-(ce.length-1+Ht)*Lr)/2),Lr),it=0,Pe={t:"rangeRoundPoints",a:arguments},ct},ct.rangeBands=function(Mt,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var rr=Mt[1]<Mt[0],Lr=Mt[rr-0],Rr=Mt[1-rr],$r=(Rr-Lr)/(ce.length-Ht+2*Gt);return et=Pt(Lr+$r*Gt,$r),rr&&et.reverse(),it=$r*(1-Ht),Pe={t:"rangeBands",a:arguments},ct},ct.rangeRoundBands=function(Mt,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var rr=Mt[1]<Mt[0],Lr=Mt[rr-0],Rr=Mt[1-rr],$r=Math.floor((Rr-Lr)/(ce.length-Ht+2*Gt));return et=Pt(Lr+Math.round((Rr-Lr-(ce.length-Ht)*$r)/2),$r),rr&&et.reverse(),it=Math.round($r*(1-Ht)),Pe={t:"rangeRoundBands",a:arguments},ct},ct.rangeBand=function(){return it},ct.rangeExtent=function(){return Wo(Pe.a[0])},ct.copy=function(){return Ml(ce,Pe)},ct.domain(ce)}a.scale.category10=function(){return a.scale.ordinal().range(zc)},a.scale.category20=function(){return a.scale.ordinal().range(Hs)},a.scale.category20b=function(){return a.scale.ordinal().range(tu)},a.scale.category20c=function(){return a.scale.ordinal().range(al)};var zc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Nt),Hs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Nt),tu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Nt),al=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Nt);a.scale.quantile=function(){return Gs([],[])};function Gs(ce,Pe){var Ne;function et(){var ct=0,Pt=Pe.length;for(Ne=[];++ct<Pt;)Ne[ct-1]=a.quantile(ce,ct/Pt);return it}function it(ct){if(!isNaN(ct=+ct))return Pe[a.bisect(Ne,ct)]}return it.domain=function(ct){return arguments.length?(ce=ct.map(y).filter(h).sort(l),et()):ce},it.range=function(ct){return arguments.length?(Pe=ct,et()):Pe},it.quantiles=function(){return Ne},it.invertExtent=function(ct){return ct=Pe.indexOf(ct),ct<0?[NaN,NaN]:[ct>0?Ne[ct-1]:ce[0],ct<Ne.length?Ne[ct]:ce[ce.length-1]]},it.copy=function(){return Gs(ce,Pe)},et()}a.scale.quantize=function(){return Ru(0,1,[0,1])};function Ru(ce,Pe,Ne){var et,it;function ct(Mt){return Ne[Math.max(0,Math.min(it,Math.floor(et*(Mt-ce))))]}function Pt(){return et=Ne.length/(Pe-ce),it=Ne.length-1,ct}return ct.domain=function(Mt){return arguments.length?(ce=+Mt[0],Pe=+Mt[Mt.length-1],Pt()):[ce,Pe]},ct.range=function(Mt){return arguments.length?(Ne=Mt,Pt()):Ne},ct.invertExtent=function(Mt){return Mt=Ne.indexOf(Mt),Mt=Mt<0?NaN:Mt/et+ce,[Mt,Mt+1/et]},ct.copy=function(){return Ru(ce,Pe,Ne)},Pt()}a.scale.threshold=function(){return ru([.5],[0,1])};function ru(ce,Pe){function Ne(et){if(et<=et)return Pe[a.bisect(ce,et)]}return Ne.domain=function(et){return arguments.length?(ce=et,Ne):ce},Ne.range=function(et){return arguments.length?(Pe=et,Ne):Pe},Ne.invertExtent=function(et){return et=Pe.indexOf(et),[ce[et-1],ce[et]]},Ne.copy=function(){return ru(ce,Pe)},Ne}a.scale.identity=function(){return hi([0,1])};function hi(ce){function Pe(Ne){return+Ne}return Pe.invert=Pe,Pe.domain=Pe.range=function(Ne){return arguments.length?(ce=Ne.map(Pe),Pe):ce},Pe.ticks=function(Ne){return fs(ce,Ne)},Pe.tickFormat=function(Ne,et){return d3_scale_linearTickFormat(ce,Ne,et)},Pe.copy=function(){return hi(ce)},Pe}a.svg={};function nu(){return 0}a.svg.arc=function(){var ce=Nc,Pe=au,Ne=nu,et=yf,it=Du,ct=mf,Pt=Xf;function Mt(){var Gt=Math.max(0,+ce.apply(this,arguments)),rr=Math.max(0,+Pe.apply(this,arguments)),Lr=it.apply(this,arguments)-nt,Rr=ct.apply(this,arguments)-nt,$r=Math.abs(Rr-Lr),sn=Lr>Rr?0:1;if(rr<Gt&&(Ir=rr,rr=Gt,Gt=Ir),$r>=Je)return Ht(rr,sn)+(Gt?Ht(Gt,1-sn):"")+"Z";var Ir,Ur,Kr,fn,dn=0,en=0,jn,ea,fa,Qn,ia,ca,Ba,Ea,Fa=[];if((fn=(+Pt.apply(this,arguments)||0)/2)&&(Kr=et===yf?Math.sqrt(Gt*Gt+rr*rr):+et.apply(this,arguments),sn||(en*=-1),rr&&(en=Xt(Kr/rr*Math.sin(fn))),Gt&&(dn=Xt(Kr/Gt*Math.sin(fn)))),rr){jn=rr*Math.cos(Lr+en),ea=rr*Math.sin(Lr+en),fa=rr*Math.cos(Rr-en),Qn=rr*Math.sin(Rr-en);var ni=Math.abs(Rr-Lr-2*en)<=Te?0:1;if(en&&Iu(jn,ea,fa,Qn)===sn^ni){var Bi=(Lr+Rr)/2;jn=rr*Math.cos(Bi),ea=rr*Math.sin(Bi),fa=Qn=null}}else jn=ea=0;if(Gt){ia=Gt*Math.cos(Rr-dn),ca=Gt*Math.sin(Rr-dn),Ba=Gt*Math.cos(Lr+dn),Ea=Gt*Math.sin(Lr+dn);var ui=Math.abs(Lr-Rr+2*dn)<=Te?0:1;if(dn&&Iu(ia,ca,Ba,Ea)===1-sn^ui){var Jn=(Lr+Rr)/2;ia=Gt*Math.cos(Jn),ca=Gt*Math.sin(Jn),Ba=Ea=null}}else ia=ca=0;if($r>me&&(Ir=Math.min(Math.abs(rr-Gt)/2,+Ne.apply(this,arguments)))>.001){Ur=Gt<rr^sn?0:1;var Va=Ir,Sa=Ir;if($r<Te){var Za=Ba==null?[ia,ca]:fa==null?[jn,ea]:gn([jn,ea],[Ba,Ea],[fa,Qn],[ia,ca]),bi=jn-Za[0],ai=ea-Za[1],eo=fa-Za[0],to=Qn-Za[1],oo=1/Math.sin(Math.acos((bi*eo+ai*to)/(Math.sqrt(bi*bi+ai*ai)*Math.sqrt(eo*eo+to*to)))/2),wi=Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1]);Sa=Math.min(Ir,(Gt-wi)/(oo-1)),Va=Math.min(Ir,(rr-wi)/(oo+1))}if(fa!=null){var xo=_u(Ba==null?[ia,ca]:[Ba,Ea],[jn,ea],rr,Va,sn),sa=_u([fa,Qn],[ia,ca],rr,Va,sn);Ir===Va?Fa.push("M",xo[0],"A",Va,",",Va," 0 0,",Ur," ",xo[1],"A",rr,",",rr," 0 ",1-sn^Iu(xo[1][0],xo[1][1],sa[1][0],sa[1][1]),",",sn," ",sa[1],"A",Va,",",Va," 0 0,",Ur," ",sa[0]):Fa.push("M",xo[0],"A",Va,",",Va," 0 1,",Ur," ",sa[0])}else Fa.push("M",jn,",",ea);if(Ba!=null){var La=_u([jn,ea],[Ba,Ea],Gt,-Sa,sn),Uo=_u([ia,ca],fa==null?[jn,ea]:[fa,Qn],Gt,-Sa,sn);Ir===Sa?Fa.push("L",Uo[0],"A",Sa,",",Sa," 0 0,",Ur," ",Uo[1],"A",Gt,",",Gt," 0 ",sn^Iu(Uo[1][0],Uo[1][1],La[1][0],La[1][1]),",",1-sn," ",La[1],"A",Sa,",",Sa," 0 0,",Ur," ",La[0]):Fa.push("L",Uo[0],"A",Sa,",",Sa," 0 0,",Ur," ",La[0])}else Fa.push("L",ia,",",ca)}else Fa.push("M",jn,",",ea),fa!=null&&Fa.push("A",rr,",",rr," 0 ",ni,",",sn," ",fa,",",Qn),Fa.push("L",ia,",",ca),Ba!=null&&Fa.push("A",Gt,",",Gt," 0 ",ui,",",1-sn," ",Ba,",",Ea);return Fa.push("Z"),Fa.join("")}function Ht(Gt,rr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+rr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+rr+" 0,"+Gt}return Mt.innerRadius=function(Gt){return arguments.length?(ce=nn(Gt),Mt):ce},Mt.outerRadius=function(Gt){return arguments.length?(Pe=nn(Gt),Mt):Pe},Mt.cornerRadius=function(Gt){return arguments.length?(Ne=nn(Gt),Mt):Ne},Mt.padRadius=function(Gt){return arguments.length?(et=Gt==yf?yf:nn(Gt),Mt):et},Mt.startAngle=function(Gt){return arguments.length?(it=nn(Gt),Mt):it},Mt.endAngle=function(Gt){return arguments.length?(ct=nn(Gt),Mt):ct},Mt.padAngle=function(Gt){return arguments.length?(Pt=nn(Gt),Mt):Pt},Mt.centroid=function(){var Gt=(+ce.apply(this,arguments)+ +Pe.apply(this,arguments))/2,rr=(+it.apply(this,arguments)+ +ct.apply(this,arguments))/2-nt;return[Math.cos(rr)*Gt,Math.sin(rr)*Gt]},Mt};var yf="auto";function Nc(ce){return ce.innerRadius}function au(ce){return ce.outerRadius}function Du(ce){return ce.startAngle}function mf(ce){return ce.endAngle}function Xf(ce){return ce&&ce.padAngle}function Iu(ce,Pe,Ne,et){return(ce-Ne)*Pe-(Pe-et)*ce>0?0:1}function _u(ce,Pe,Ne,et,it){var ct=ce[0]-Pe[0],Pt=ce[1]-Pe[1],Mt=(it?et:-et)/Math.sqrt(ct*ct+Pt*Pt),Ht=Mt*Pt,Gt=-Mt*ct,rr=ce[0]+Ht,Lr=ce[1]+Gt,Rr=Pe[0]+Ht,$r=Pe[1]+Gt,sn=(rr+Rr)/2,Ir=(Lr+$r)/2,Ur=Rr-rr,Kr=$r-Lr,fn=Ur*Ur+Kr*Kr,dn=Ne-et,en=rr*$r-Rr*Lr,jn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,dn*dn*fn-en*en)),ea=(en*Kr-Ur*jn)/fn,fa=(-en*Ur-Kr*jn)/fn,Qn=(en*Kr+Ur*jn)/fn,ia=(-en*Ur+Kr*jn)/fn,ca=ea-sn,Ba=fa-Ir,Ea=Qn-sn,Fa=ia-Ir;return ca*ca+Ba*Ba>Ea*Ea+Fa*Fa&&(ea=Qn,fa=ia),[[ea-Ht,fa-Gt],[ea*Ne/dn,fa*Ne/dn]]}function il(){return!0}function ku(ce){var Pe=pa,Ne=ua,et=il,it=Wi,ct=it.key,Pt=.7;function Mt(Ht){var Gt=[],rr=[],Lr=-1,Rr=Ht.length,$r,sn=nn(Pe),Ir=nn(Ne);function Ur(){Gt.push("M",it(ce(rr),Pt))}for(;++Lr<Rr;)et.call(this,$r=Ht[Lr],Lr)?rr.push([+sn.call(this,$r,Lr),+Ir.call(this,$r,Lr)]):rr.length&&(Ur(),rr=[]);return rr.length&&Ur(),Gt.length?Gt.join(""):null}return Mt.x=function(Ht){return arguments.length?(Pe=Ht,Mt):Pe},Mt.y=function(Ht){return arguments.length?(Ne=Ht,Mt):Ne},Mt.defined=function(Ht){return arguments.length?(et=Ht,Mt):et},Mt.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?ct=it=Ht:ct=(it=ol.get(Ht)||Wi).key,Mt):ct},Mt.tension=function(Ht){return arguments.length?(Pt=Ht,Mt):Pt},Mt}a.svg.line=function(){return ku(z)};var ol=a.map({linear:Wi,"linear-closed":Ms,step:Zf,"step-before":El,"step-after":xf,basis:iu,"basis-open":Uc,"basis-closed":sl,bundle:Jh,cardinal:Bc,"cardinal-open":Fu,"cardinal-closed":Kh,monotone:wf});ol.forEach(function(ce,Pe){Pe.key=ce,Pe.closed=/-closed$/.test(ce)});function Wi(ce){return ce.length>1?ce.join("L"):ce+"Z"}function Ms(ce){return ce.join("L")+"Z"}function Zf(ce){for(var Pe=0,Ne=ce.length,et=ce[0],it=[et[0],",",et[1]];++Pe<Ne;)it.push("H",(et[0]+(et=ce[Pe])[0])/2,"V",et[1]);return Ne>1&&it.push("H",et[0]),it.join("")}function El(ce){for(var Pe=0,Ne=ce.length,et=ce[0],it=[et[0],",",et[1]];++Pe<Ne;)it.push("V",(et=ce[Pe])[1],"H",et[0]);return it.join("")}function xf(ce){for(var Pe=0,Ne=ce.length,et=ce[0],it=[et[0],",",et[1]];++Pe<Ne;)it.push("H",(et=ce[Pe])[0],"V",et[1]);return it.join("")}function Fu(ce,Pe){return ce.length<4?Wi(ce):ce[1]+mo(ce.slice(1,-1),Ou(ce,Pe))}function Kh(ce,Pe){return ce.length<3?Ms(ce):ce[0]+mo((ce.push(ce[0]),ce),Ou([ce[ce.length-2]].concat(ce,[ce[1]]),Pe))}function Bc(ce,Pe){return ce.length<3?Wi(ce):ce[0]+mo(ce,Ou(ce,Pe))}function mo(ce,Pe){if(Pe.length<1||ce.length!=Pe.length&&ce.length!=Pe.length+2)return Wi(ce);var Ne=ce.length!=Pe.length,et="",it=ce[0],ct=ce[1],Pt=Pe[0],Mt=Pt,Ht=1;if(Ne&&(et+="Q"+(ct[0]-Pt[0]*2/3)+","+(ct[1]-Pt[1]*2/3)+","+ct[0]+","+ct[1],it=ce[1],Ht=2),Pe.length>1){Mt=Pe[1],ct=ce[Ht],Ht++,et+="C"+(it[0]+Pt[0])+","+(it[1]+Pt[1])+","+(ct[0]-Mt[0])+","+(ct[1]-Mt[1])+","+ct[0]+","+ct[1];for(var Gt=2;Gt<Pe.length;Gt++,Ht++)ct=ce[Ht],Mt=Pe[Gt],et+="S"+(ct[0]-Mt[0])+","+(ct[1]-Mt[1])+","+ct[0]+","+ct[1]}if(Ne){var rr=ce[Ht];et+="Q"+(ct[0]+Mt[0]*2/3)+","+(ct[1]+Mt[1]*2/3)+","+rr[0]+","+rr[1]}return et}function Ou(ce,Pe){for(var Ne=[],et=(1-Pe)/2,it,ct=ce[0],Pt=ce[1],Mt=1,Ht=ce.length;++Mt<Ht;)it=ct,ct=Pt,Pt=ce[Mt],Ne.push([et*(Pt[0]-it[0]),et*(Pt[1]-it[1])]);return Ne}function iu(ce){if(ce.length<3)return Wi(ce);var Pe=1,Ne=ce.length,et=ce[0],it=et[0],ct=et[1],Pt=[it,it,it,(et=ce[1])[0]],Mt=[ct,ct,ct,et[1]],Ht=[it,",",ct,"L",Bo(Ws,Pt),",",Bo(Ws,Mt)];for(ce.push(ce[Ne-1]);++Pe<=Ne;)et=ce[Pe],Pt.shift(),Pt.push(et[0]),Mt.shift(),Mt.push(et[1]),ll(Ht,Pt,Mt);return ce.pop(),Ht.push("L",et),Ht.join("")}function Uc(ce){if(ce.length<4)return Wi(ce);for(var Pe=[],Ne=-1,et=ce.length,it,ct=[0],Pt=[0];++Ne<3;)it=ce[Ne],ct.push(it[0]),Pt.push(it[1]);for(Pe.push(Bo(Ws,ct)+","+Bo(Ws,Pt)),--Ne;++Ne<et;)it=ce[Ne],ct.shift(),ct.push(it[0]),Pt.shift(),Pt.push(it[1]),ll(Pe,ct,Pt);return Pe.join("")}function sl(ce){for(var Pe,Ne=-1,et=ce.length,it=et+4,ct,Pt=[],Mt=[];++Ne<4;)ct=ce[Ne%et],Pt.push(ct[0]),Mt.push(ct[1]);for(Pe=[Bo(Ws,Pt),",",Bo(Ws,Mt)],--Ne;++Ne<it;)ct=ce[Ne%et],Pt.shift(),Pt.push(ct[0]),Mt.shift(),Mt.push(ct[1]),ll(Pe,Pt,Mt);return Pe.join("")}function Jh(ce,Pe){var Ne=ce.length-1;if(Ne)for(var et=ce[0][0],it=ce[0][1],ct=ce[Ne][0]-et,Pt=ce[Ne][1]-it,Mt=-1,Ht,Gt;++Mt<=Ne;)Ht=ce[Mt],Gt=Mt/Ne,Ht[0]=Pe*Ht[0]+(1-Pe)*(et+Gt*ct),Ht[1]=Pe*Ht[1]+(1-Pe)*(it+Gt*Pt);return iu(ce)}function Bo(ce,Pe){return ce[0]*Pe[0]+ce[1]*Pe[1]+ce[2]*Pe[2]+ce[3]*Pe[3]}var zu=[0,2/3,1/3,0],bf=[0,1/3,2/3,0],Ws=[0,1/6,2/3,1/6];function ll(ce,Pe,Ne){ce.push("C",Bo(zu,Pe),",",Bo(zu,Ne),",",Bo(bf,Pe),",",Bo(bf,Ne),",",Bo(Ws,Pe),",",Bo(Ws,Ne))}function Kf(ce,Pe){return(Pe[1]-ce[1])/(Pe[0]-ce[0])}function Nu(ce){for(var Pe=0,Ne=ce.length-1,et=[],it=ce[0],ct=ce[1],Pt=et[0]=Kf(it,ct);++Pe<Ne;)et[Pe]=(Pt+(Pt=Kf(it=ct,ct=ce[Pe+1])))/2;return et[Pe]=Pt,et}function Bu(ce){for(var Pe=[],Ne,et,it,ct,Pt=Nu(ce),Mt=-1,Ht=ce.length-1;++Mt<Ht;)Ne=Kf(ce[Mt],ce[Mt+1]),d(Ne)<me?Pt[Mt]=Pt[Mt+1]=0:(et=Pt[Mt]/Ne,it=Pt[Mt+1]/Ne,ct=et*et+it*it,ct>9&&(ct=Ne*3/Math.sqrt(ct),Pt[Mt]=ct*et,Pt[Mt+1]=ct*it));for(Mt=-1;++Mt<=Ht;)ct=(ce[Math.min(Ht,Mt+1)][0]-ce[Math.max(0,Mt-1)][0])/(6*(1+Pt[Mt]*Pt[Mt])),Pe.push([ct||0,Pt[Mt]*ct||0]);return Pe}function wf(ce){return ce.length<3?Wi(ce):ce[0]+mo(ce,Bu(ce))}a.svg.line.radial=function(){var ce=ku(Vc);return ce.radius=ce.x,delete ce.x,ce.angle=ce.y,delete ce.y,ce};function Vc(ce){for(var Pe,Ne=-1,et=ce.length,it,ct;++Ne<et;)Pe=ce[Ne],it=Pe[0],ct=Pe[1]-nt,Pe[0]=it*Math.cos(ct),Pe[1]=it*Math.sin(ct);return ce}function Uu(ce){var Pe=pa,Ne=pa,et=0,it=ua,ct=il,Pt=Wi,Mt=Pt.key,Ht=Pt,Gt="L",rr=.7;function Lr(Rr){var $r=[],sn=[],Ir=[],Ur=-1,Kr=Rr.length,fn,dn=nn(Pe),en=nn(et),jn=Pe===Ne?function(){return fa}:nn(Ne),ea=et===it?function(){return Qn}:nn(it),fa,Qn;function ia(){$r.push("M",Pt(ce(Ir),rr),Gt,Ht(ce(sn.reverse()),rr),"Z")}for(;++Ur<Kr;)ct.call(this,fn=Rr[Ur],Ur)?(sn.push([fa=+dn.call(this,fn,Ur),Qn=+en.call(this,fn,Ur)]),Ir.push([+jn.call(this,fn,Ur),+ea.call(this,fn,Ur)])):sn.length&&(ia(),sn=[],Ir=[]);return sn.length&&ia(),$r.length?$r.join(""):null}return Lr.x=function(Rr){return arguments.length?(Pe=Ne=Rr,Lr):Ne},Lr.x0=function(Rr){return arguments.length?(Pe=Rr,Lr):Pe},Lr.x1=function(Rr){return arguments.length?(Ne=Rr,Lr):Ne},Lr.y=function(Rr){return arguments.length?(et=it=Rr,Lr):it},Lr.y0=function(Rr){return arguments.length?(et=Rr,Lr):et},Lr.y1=function(Rr){return arguments.length?(it=Rr,Lr):it},Lr.defined=function(Rr){return arguments.length?(ct=Rr,Lr):ct},Lr.interpolate=function(Rr){return arguments.length?(typeof Rr=="function"?Mt=Pt=Rr:Mt=(Pt=ol.get(Rr)||Wi).key,Ht=Pt.reverse||Pt,Gt=Pt.closed?"M":"L",Lr):Mt},Lr.tension=function(Rr){return arguments.length?(rr=Rr,Lr):rr},Lr}El.reverse=xf,xf.reverse=El,a.svg.area=function(){return Uu(z)},a.svg.area.radial=function(){var ce=Uu(Vc);return ce.radius=ce.x,delete ce.x,ce.innerRadius=ce.x0,delete ce.x0,ce.outerRadius=ce.x1,delete ce.x1,ce.angle=ce.y,delete ce.y,ce.startAngle=ce.y0,delete ce.y0,ce.endAngle=ce.y1,delete ce.y1,ce};function Jf(ce){return ce.source}function Cl(ce){return ce.target}a.svg.chord=function(){var ce=Jf,Pe=Cl,Ne=$f,et=Du,it=mf;function ct(rr,Lr){var Rr=Pt(this,ce,rr,Lr),$r=Pt(this,Pe,rr,Lr);return"M"+Rr.p0+Ht(Rr.r,Rr.p1,Rr.a1-Rr.a0)+(Mt(Rr,$r)?Gt(Rr.r,Rr.p1,Rr.r,Rr.p0):Gt(Rr.r,Rr.p1,$r.r,$r.p0)+Ht($r.r,$r.p1,$r.a1-$r.a0)+Gt($r.r,$r.p1,Rr.r,Rr.p0))+"Z"}function Pt(rr,Lr,Rr,$r){var sn=Lr.call(rr,Rr,$r),Ir=Ne.call(rr,sn,$r),Ur=et.call(rr,sn,$r)-nt,Kr=it.call(rr,sn,$r)-nt;return{r:Ir,a0:Ur,a1:Kr,p0:[Ir*Math.cos(Ur),Ir*Math.sin(Ur)],p1:[Ir*Math.cos(Kr),Ir*Math.sin(Kr)]}}function Mt(rr,Lr){return rr.a0==Lr.a0&&rr.a1==Lr.a1}function Ht(rr,Lr,Rr){return"A"+rr+","+rr+" 0 "+ +(Rr>Te)+",1 "+Lr}function Gt(rr,Lr,Rr,$r){return"Q 0,0 "+$r}return ct.radius=function(rr){return arguments.length?(Ne=nn(rr),ct):Ne},ct.source=function(rr){return arguments.length?(ce=nn(rr),ct):ce},ct.target=function(rr){return arguments.length?(Pe=nn(rr),ct):Pe},ct.startAngle=function(rr){return arguments.length?(et=nn(rr),ct):et},ct.endAngle=function(rr){return arguments.length?(it=nn(rr),ct):it},ct};function $f(ce){return ce.radius}a.svg.diagonal=function(){var ce=Jf,Pe=Cl,Ne=Vu;function et(it,ct){var Pt=ce.call(this,it,ct),Mt=Pe.call(this,it,ct),Ht=(Pt.y+Mt.y)/2,Gt=[Pt,{x:Pt.x,y:Ht},{x:Mt.x,y:Ht},Mt];return Gt=Gt.map(Ne),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return et.source=function(it){return arguments.length?(ce=nn(it),et):ce},et.target=function(it){return arguments.length?(Pe=nn(it),et):Pe},et.projection=function(it){return arguments.length?(Ne=it,et):Ne},et};function Vu(ce){return[ce.x,ce.y]}a.svg.diagonal.radial=function(){var ce=a.svg.diagonal(),Pe=Vu,Ne=ce.projection;return ce.projection=function(et){return arguments.length?Ne(jc(Pe=et)):Pe},ce};function jc(ce){return function(){var Pe=ce.apply(this,arguments),Ne=Pe[0],et=Pe[1]-nt;return[Ne*Math.cos(et),Ne*Math.sin(et)]}}a.svg.symbol=function(){var ce=ot,Pe=Qe;function Ne(et,it){return(wt.get(ce.call(this,et,it))||xt)(Pe.call(this,et,it))}return Ne.type=function(et){return arguments.length?(ce=nn(et),Ne):ce},Ne.size=function(et){return arguments.length?(Pe=nn(et),Ne):Pe},Ne};function Qe(){return 64}function ot(){return"circle"}function xt(ce){var Pe=Math.sqrt(ce/Te);return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+Pe+"Z"}var wt=a.map({circle:xt,cross:function(ce){var Pe=Math.sqrt(ce/5)/2;return"M"+-3*Pe+","+-Pe+"H"+-Pe+"V"+-3*Pe+"H"+Pe+"V"+-Pe+"H"+3*Pe+"V"+Pe+"H"+Pe+"V"+3*Pe+"H"+-Pe+"V"+Pe+"H"+-3*Pe+"Z"},diamond:function(ce){var Pe=Math.sqrt(ce/(2*_t)),Ne=Pe*_t;return"M0,"+-Pe+"L"+Ne+",0 0,"+Pe+" "+-Ne+",0Z"},square:function(ce){var Pe=Math.sqrt(ce)/2;return"M"+-Pe+","+-Pe+"L"+Pe+","+-Pe+" "+Pe+","+Pe+" "+-Pe+","+Pe+"Z"},"triangle-down":function(ce){var Pe=Math.sqrt(ce/Ot),Ne=Pe*Ot/2;return"M0,"+Ne+"L"+Pe+","+-Ne+" "+-Pe+","+-Ne+"Z"},"triangle-up":function(ce){var Pe=Math.sqrt(ce/Ot),Ne=Pe*Ot/2;return"M0,"+-Ne+"L"+Pe+","+Ne+" "+-Pe+","+Ne+"Z"}});a.svg.symbolTypes=wt.keys();var Ot=Math.sqrt(3),_t=Math.tan(30*pt);K.transition=function(ce){for(var Pe=kr||++Mr,Ne=In(ce),et=[],it,ct,Pt=Br||{time:Date.now(),ease:zf,delay:0,duration:250},Mt=-1,Ht=this.length;++Mt<Ht;){et.push(it=[]);for(var Gt=this[Mt],rr=-1,Lr=Gt.length;++rr<Lr;)(ct=Gt[rr])&&_n(ct,rr,Ne,Pe,Pt),it.push(ct)}return wr(et,Ne,Pe)},K.interrupt=function(ce){return this.each(ce==null?Ut:pr(In(ce)))};var Ut=pr(In());function pr(ce){return function(){var Pe,Ne,et;(Pe=this[ce])&&(et=Pe[Ne=Pe.active])&&(et.timer.c=null,et.timer.t=NaN,--Pe.count?delete Pe[Ne]:delete this[ce],Pe.active+=.5,et.event&&et.event.interrupt.call(this,this.__data__,et.index))}}function wr(ce,Pe,Ne){return oe(ce,ir),ce.namespace=Pe,ce.id=Ne,ce}var ir=[],Mr=0,kr,Br;ir.call=K.call,ir.empty=K.empty,ir.node=K.node,ir.size=K.size,a.transition=function(ce,Pe){return ce&&ce.transition?kr?ce.transition(Pe):ce:a.selection().transition(ce)},a.transition.prototype=ir,ir.select=function(ce){var Pe=this.id,Ne=this.namespace,et=[],it,ct,Pt;ce=le(ce);for(var Mt=-1,Ht=this.length;++Mt<Ht;){et.push(it=[]);for(var Gt=this[Mt],rr=-1,Lr=Gt.length;++rr<Lr;)(Pt=Gt[rr])&&(ct=ce.call(Pt,Pt.__data__,rr,Mt))?("__data__"in Pt&&(ct.__data__=Pt.__data__),_n(ct,rr,Ne,Pe,Pt[Ne][Pe]),it.push(ct)):it.push(null)}return wr(et,Ne,Pe)},ir.selectAll=function(ce){var Pe=this.id,Ne=this.namespace,et=[],it,ct,Pt,Mt,Ht;ce=ie(ce);for(var Gt=-1,rr=this.length;++Gt<rr;)for(var Lr=this[Gt],Rr=-1,$r=Lr.length;++Rr<$r;)if(Pt=Lr[Rr]){Ht=Pt[Ne][Pe],ct=ce.call(Pt,Pt.__data__,Rr,Gt),et.push(it=[]);for(var sn=-1,Ir=ct.length;++sn<Ir;)(Mt=ct[sn])&&_n(Mt,sn,Ne,Pe,Ht),it.push(Mt)}return wr(et,Ne,Pe)},ir.filter=function(ce){var Pe=[],Ne,et,it;typeof ce!="function"&&(ce=ut(ce));for(var ct=0,Pt=this.length;ct<Pt;ct++){Pe.push(Ne=[]);for(var et=this[ct],Mt=0,Ht=et.length;Mt<Ht;Mt++)(it=et[Mt])&&ce.call(it,it.__data__,Mt,ct)&&Ne.push(it)}return wr(Pe,this.namespace,this.id)},ir.tween=function(ce,Pe){var Ne=this.id,et=this.namespace;return arguments.length<2?this.node()[et][Ne].tween.get(ce):at(this,Pe==null?function(it){it[et][Ne].tween.remove(ce)}:function(it){it[et][Ne].tween.set(ce,Pe)})};function rn(ce,Pe,Ne,et){var it=ce.id,ct=ce.namespace;return at(ce,typeof Ne=="function"?function(Pt,Mt,Ht){Pt[ct][it].tween.set(Pe,et(Ne.call(Pt,Pt.__data__,Mt,Ht)))}:(Ne=et(Ne),function(Pt){Pt[ct][it].tween.set(Pe,Ne)}))}ir.attr=function(ce,Pe){if(arguments.length<2){for(Pe in ce)this.attr(Pe,ce[Pe]);return this}var Ne=ce=="transform"?uf:io,et=a.ns.qualify(ce);function it(){this.removeAttribute(et)}function ct(){this.removeAttributeNS(et.space,et.local)}function Pt(Ht){return Ht==null?it:(Ht+="",function(){var Gt=this.getAttribute(et),rr;return Gt!==Ht&&(rr=Ne(Gt,Ht),function(Lr){this.setAttribute(et,rr(Lr))})})}function Mt(Ht){return Ht==null?ct:(Ht+="",function(){var Gt=this.getAttributeNS(et.space,et.local),rr;return Gt!==Ht&&(rr=Ne(Gt,Ht),function(Lr){this.setAttributeNS(et.space,et.local,rr(Lr))})})}return rn(this,"attr."+ce,Pe,et.local?Mt:Pt)},ir.attrTween=function(ce,Pe){var Ne=a.ns.qualify(ce);function et(ct,Pt){var Mt=Pe.call(this,ct,Pt,this.getAttribute(Ne));return Mt&&function(Ht){this.setAttribute(Ne,Mt(Ht))}}function it(ct,Pt){var Mt=Pe.call(this,ct,Pt,this.getAttributeNS(Ne.space,Ne.local));return Mt&&function(Ht){this.setAttributeNS(Ne.space,Ne.local,Mt(Ht))}}return this.tween("attr."+ce,Ne.local?it:et)},ir.style=function(ce,Pe,Ne){var et=arguments.length;if(et<3){if(typeof ce!="string"){et<2&&(Pe="");for(Ne in ce)this.style(Ne,ce[Ne],Pe);return this}Ne=""}function it(){this.style.removeProperty(ce)}function ct(Pt){return Pt==null?it:(Pt+="",function(){var Mt=r(this).getComputedStyle(this,null).getPropertyValue(ce),Ht;return Mt!==Pt&&(Ht=io(Mt,Pt),function(Gt){this.style.setProperty(ce,Ht(Gt),Ne)})})}return rn(this,"style."+ce,Pe,ct)},ir.styleTween=function(ce,Pe,Ne){arguments.length<3&&(Ne="");function et(it,ct){var Pt=Pe.call(this,it,ct,r(this).getComputedStyle(this,null).getPropertyValue(ce));return Pt&&function(Mt){this.style.setProperty(ce,Pt(Mt),Ne)}}return this.tween("style."+ce,et)},ir.text=function(ce){return rn(this,"text",ce,bn)};function bn(ce){return ce==null&&(ce=""),function(){this.textContent=ce}}ir.remove=function(){var ce=this.namespace;return this.each("end.transition",function(){var Pe;this[ce].count<2&&(Pe=this.parentNode)&&Pe.removeChild(this)})},ir.ease=function(ce){var Pe=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Pe].ease:(typeof ce!="function"&&(ce=a.ease.apply(a,arguments)),at(this,function(et){et[Ne][Pe].ease=ce}))},ir.delay=function(ce){var Pe=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Pe].delay:at(this,typeof ce=="function"?function(et,it,ct){et[Ne][Pe].delay=+ce.call(et,et.__data__,it,ct)}:(ce=+ce,function(et){et[Ne][Pe].delay=ce}))},ir.duration=function(ce){var Pe=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Pe].duration:at(this,typeof ce=="function"?function(et,it,ct){et[Ne][Pe].duration=Math.max(1,ce.call(et,et.__data__,it,ct))}:(ce=Math.max(1,ce),function(et){et[Ne][Pe].duration=ce}))},ir.each=function(ce,Pe){var Ne=this.id,et=this.namespace;if(arguments.length<2){var it=Br,ct=kr;try{kr=Ne,at(this,function(Pt,Mt,Ht){Br=Pt[et][Ne],ce.call(Pt,Pt.__data__,Mt,Ht)})}finally{Br=it,kr=ct}}else at(this,function(Pt){var Mt=Pt[et][Ne];(Mt.event||(Mt.event=a.dispatch("start","end","interrupt"))).on(ce,Pe)});return this},ir.transition=function(){for(var ce=this.id,Pe=++Mr,Ne=this.namespace,et=[],it,ct,Pt,Mt,Ht=0,Gt=this.length;Ht<Gt;Ht++){et.push(it=[]);for(var ct=this[Ht],rr=0,Lr=ct.length;rr<Lr;rr++)(Pt=ct[rr])&&(Mt=Pt[Ne][ce],_n(Pt,rr,Ne,Pe,{time:Mt.time,ease:Mt.ease,delay:Mt.delay+Mt.duration,duration:Mt.duration})),it.push(Pt)}return wr(et,Ne,Pe)};function In(ce){return ce==null?"__transition__":"__transition_"+ce+"__"}function _n(ce,Pe,Ne,et,it){var ct=ce[Ne]||(ce[Ne]={active:0,count:0}),Pt=ct[et],Mt,Ht,Gt,rr,Lr;function Rr(Ir){var Ur=Pt.delay;if(Ht.t=Ur+Mt,Ur<=Ir)return $r(Ir-Ur);Ht.c=$r}function $r(Ir){var Ur=ct.active,Kr=ct[Ur];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ct.count,delete ct[Ur],Kr.event&&Kr.event.interrupt.call(ce,ce.__data__,Kr.index));for(var fn in ct)if(+fn<et){var dn=ct[fn];dn.timer.c=null,dn.timer.t=NaN,--ct.count,delete ct[fn]}Ht.c=sn,Ln(function(){return Ht.c&&sn(Ir||1)&&(Ht.c=null,Ht.t=NaN),1},0,Mt),ct.active=et,Pt.event&&Pt.event.start.call(ce,ce.__data__,Pe),Lr=[],Pt.tween.forEach(function(en,jn){(jn=jn.call(ce,ce.__data__,Pe))&&Lr.push(jn)}),rr=Pt.ease,Gt=Pt.duration}function sn(Ir){for(var Ur=Ir/Gt,Kr=rr(Ur),fn=Lr.length;fn>0;)Lr[--fn].call(ce,Kr);if(Ur>=1)return Pt.event&&Pt.event.end.call(ce,ce.__data__,Pe),--ct.count?delete ct[et]:delete ce[Ne],1}Pt||(Mt=it.time,Ht=Ln(Rr,0,Mt),Pt=ct[et]={tween:new C,time:Mt,timer:Ht,delay:it.delay,duration:it.duration,ease:it.ease,index:Pe},it=null,++ct.count)}a.svg.axis=function(){var ce=a.scale.linear(),Pe=Zn,Ne=6,et=6,it=3,ct=[10],Pt=null,Mt;function Ht(Gt){Gt.each(function(){var rr=a.select(this),Lr=this.__chart__||ce,Rr=this.__chart__=ce.copy(),$r=Pt??(Rr.ticks?Rr.ticks.apply(Rr,ct):Rr.domain()),sn=Mt??(Rr.tickFormat?Rr.tickFormat.apply(Rr,ct):z),Ir=rr.selectAll(".tick").data($r,Rr),Ur=Ir.enter().insert("g",".domain").attr("class","tick").style("opacity",me),Kr=a.transition(Ir.exit()).style("opacity",me).remove(),fn=a.transition(Ir.order()).style("opacity",1),dn=Math.max(Ne,0)+it,en,jn=ql(Rr),ea=rr.selectAll(".domain").data([0]),fa=(ea.enter().append("path").attr("class","domain"),a.transition(ea));Ur.append("line"),Ur.append("text");var Qn=Ur.select("line"),ia=fn.select("line"),ca=Ir.select("text").text(sn),Ba=Ur.select("text"),Ea=fn.select("text"),Fa=Pe==="top"||Pe==="left"?-1:1,ni,Bi,ui,Jn;if(Pe==="bottom"||Pe==="top"?(en=Da,ni="x",ui="y",Bi="x2",Jn="y2",ca.attr("dy",Fa<0?"0em":".71em").style("text-anchor","middle"),fa.attr("d","M"+jn[0]+","+Fa*et+"V0H"+jn[1]+"V"+Fa*et)):(en=Ia,ni="y",ui="x",Bi="y2",Jn="x2",ca.attr("dy",".32em").style("text-anchor",Fa<0?"end":"start"),fa.attr("d","M"+Fa*et+","+jn[0]+"H0V"+jn[1]+"H"+Fa*et)),Qn.attr(Jn,Fa*Ne),Ba.attr(ui,Fa*dn),ia.attr(Bi,0).attr(Jn,Fa*Ne),Ea.attr(ni,0).attr(ui,Fa*dn),Rr.rangeBand){var Va=Rr,Sa=Va.rangeBand()/2;Lr=Rr=function(Za){return Va(Za)+Sa}}else Lr.rangeBand?Lr=Rr:Kr.call(en,Rr,Lr);Ur.call(en,Lr,Rr),fn.call(en,Rr,Rr)})}return Ht.scale=function(Gt){return arguments.length?(ce=Gt,Ht):ce},Ht.orient=function(Gt){return arguments.length?(Pe=Gt in Ra?Gt+"":Zn,Ht):Pe},Ht.ticks=function(){return arguments.length?(ct=w(arguments),Ht):ct},Ht.tickValues=function(Gt){return arguments.length?(Pt=Gt,Ht):Pt},Ht.tickFormat=function(Gt){return arguments.length?(Mt=Gt,Ht):Mt},Ht.tickSize=function(Gt){var rr=arguments.length;return rr?(Ne=+Gt,et=+arguments[rr-1],Ht):Ne},Ht.innerTickSize=function(Gt){return arguments.length?(Ne=+Gt,Ht):Ne},Ht.outerTickSize=function(Gt){return arguments.length?(et=+Gt,Ht):et},Ht.tickPadding=function(Gt){return arguments.length?(it=+Gt,Ht):it},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var Zn="bottom",Ra={top:1,right:1,bottom:1,left:1};function Da(ce,Pe,Ne){ce.attr("transform",function(et){var it=Pe(et);return"translate("+(isFinite(it)?it:Ne(et))+",0)"})}function Ia(ce,Pe,Ne){ce.attr("transform",function(et){var it=Pe(et);return"translate(0,"+(isFinite(it)?it:Ne(et))+")"})}a.svg.brush=function(){var ce=$(rr,"brushstart","brush","brushend"),Pe=null,Ne=null,et=[0,0],it=[0,0],ct,Pt,Mt=!0,Ht=!0,Gt=Xa[0];function rr(Ir){Ir.each(function(){var Ur=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",sn).on("touchstart.brush",sn),Kr=Ur.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ur.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var fn=Ur.selectAll(".resize").data(Gt,z);fn.exit().remove(),fn.enter().append("g").attr("class",function(ea){return"resize "+ea}).style("cursor",function(ea){return za[ea]}).append("rect").attr("x",function(ea){return/[ew]$/.test(ea)?-3:null}).attr("y",function(ea){return/^[ns]/.test(ea)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),fn.style("display",rr.empty()?"none":null);var dn=a.transition(Ur),en=a.transition(Kr),jn;Pe&&(jn=ql(Pe),en.attr("x",jn[0]).attr("width",jn[1]-jn[0]),Rr(dn)),Ne&&(jn=ql(Ne),en.attr("y",jn[0]).attr("height",jn[1]-jn[0]),$r(dn)),Lr(dn)})}rr.event=function(Ir){Ir.each(function(){var Ur=ce.of(this,arguments),Kr={x:et,y:it,i:ct,j:Pt},fn=this.__chart__||Kr;this.__chart__=Kr,kr?a.select(this).transition().each("start.brush",function(){ct=fn.i,Pt=fn.j,et=fn.x,it=fn.y,Ur({type:"brushstart"})}).tween("brush:brush",function(){var dn=Go(et,Kr.x),en=Go(it,Kr.y);return ct=Pt=null,function(jn){et=Kr.x=dn(jn),it=Kr.y=en(jn),Ur({type:"brush",mode:"resize"})}}).each("end.brush",function(){ct=Kr.i,Pt=Kr.j,Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"})}):(Ur({type:"brushstart"}),Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"}))})};function Lr(Ir){Ir.selectAll(".resize").attr("transform",function(Ur){return"translate("+et[+/e$/.test(Ur)]+","+it[+/^s/.test(Ur)]+")"})}function Rr(Ir){Ir.select(".extent").attr("x",et[0]),Ir.selectAll(".extent,.n>rect,.s>rect").attr("width",et[1]-et[0])}function $r(Ir){Ir.select(".extent").attr("y",it[0]),Ir.selectAll(".extent,.e>rect,.w>rect").attr("height",it[1]-it[0])}function sn(){var Ir=this,Ur=a.select(a.event.target),Kr=ce.of(Ir,arguments),fn=a.select(Ir),dn=Ur.datum(),en=!/^(n|s)$/.test(dn)&&Pe,jn=!/^(e|w)$/.test(dn)&&Ne,ea=Ur.classed("extent"),fa=Ke(Ir),Qn,ia=a.mouse(Ir),ca,Ba=a.select(r(Ir)).on("keydown.brush",ni).on("keyup.brush",Bi);if(a.event.changedTouches?Ba.on("touchmove.brush",ui).on("touchend.brush",Va):Ba.on("mousemove.brush",ui).on("mouseup.brush",Va),fn.interrupt().selectAll("*").interrupt(),ea)ia[0]=et[0]-ia[0],ia[1]=it[0]-ia[1];else if(dn){var Ea=+/w$/.test(dn),Fa=+/^n/.test(dn);ca=[et[1-Ea]-ia[0],it[1-Fa]-ia[1]],ia[0]=et[Ea],ia[1]=it[Fa]}else a.event.altKey&&(Qn=ia.slice());fn.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Ur.style("cursor")),Kr({type:"brushstart"}),ui();function ni(){a.event.keyCode==32&&(ea||(Qn=null,ia[0]-=et[1],ia[1]-=it[1],ea=2),ne())}function Bi(){a.event.keyCode==32&&ea==2&&(ia[0]+=et[1],ia[1]+=it[1],ea=0,ne())}function ui(){var Sa=a.mouse(Ir),Za=!1;ca&&(Sa[0]+=ca[0],Sa[1]+=ca[1]),ea||(a.event.altKey?(Qn||(Qn=[(et[0]+et[1])/2,(it[0]+it[1])/2]),ia[0]=et[+(Sa[0]<Qn[0])],ia[1]=it[+(Sa[1]<Qn[1])]):Qn=null),en&&Jn(Sa,Pe,0)&&(Rr(fn),Za=!0),jn&&Jn(Sa,Ne,1)&&($r(fn),Za=!0),Za&&(Lr(fn),Kr({type:"brush",mode:ea?"move":"resize"}))}function Jn(Sa,Za,bi){var ai=ql(Za),eo=ai[0],to=ai[1],oo=ia[bi],wi=bi?it:et,xo=wi[1]-wi[0],sa,La;if(ea&&(eo-=oo,to-=xo+oo),sa=(bi?Ht:Mt)?Math.max(eo,Math.min(to,Sa[bi])):Sa[bi],ea?La=(sa+=oo)+xo:(Qn&&(oo=Math.max(eo,Math.min(to,2*Qn[bi]-sa))),oo<sa?(La=sa,sa=oo):La=oo),wi[0]!=sa||wi[1]!=La)return bi?Pt=null:ct=null,wi[0]=sa,wi[1]=La,!0}function Va(){ui(),fn.style("pointer-events","all").selectAll(".resize").style("display",rr.empty()?"none":null),a.select("body").style("cursor",null),Ba.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),fa(),Kr({type:"brushend"})}}return rr.x=function(Ir){return arguments.length?(Pe=Ir,Gt=Xa[!Pe<<1|!Ne],rr):Pe},rr.y=function(Ir){return arguments.length?(Ne=Ir,Gt=Xa[!Pe<<1|!Ne],rr):Ne},rr.clamp=function(Ir){return arguments.length?(Pe&&Ne?(Mt=!!Ir[0],Ht=!!Ir[1]):Pe?Mt=!!Ir:Ne&&(Ht=!!Ir),rr):Pe&&Ne?[Mt,Ht]:Pe?Mt:Ne?Ht:null},rr.extent=function(Ir){var Ur,Kr,fn,dn,en;return arguments.length?(Pe&&(Ur=Ir[0],Kr=Ir[1],Ne&&(Ur=Ur[0],Kr=Kr[0]),ct=[Ur,Kr],Pe.invert&&(Ur=Pe(Ur),Kr=Pe(Kr)),Kr<Ur&&(en=Ur,Ur=Kr,Kr=en),(Ur!=et[0]||Kr!=et[1])&&(et=[Ur,Kr])),Ne&&(fn=Ir[0],dn=Ir[1],Pe&&(fn=fn[1],dn=dn[1]),Pt=[fn,dn],Ne.invert&&(fn=Ne(fn),dn=Ne(dn)),dn<fn&&(en=fn,fn=dn,dn=en),(fn!=it[0]||dn!=it[1])&&(it=[fn,dn])),rr):(Pe&&(ct?(Ur=ct[0],Kr=ct[1]):(Ur=et[0],Kr=et[1],Pe.invert&&(Ur=Pe.invert(Ur),Kr=Pe.invert(Kr)),Kr<Ur&&(en=Ur,Ur=Kr,Kr=en))),Ne&&(Pt?(fn=Pt[0],dn=Pt[1]):(fn=it[0],dn=it[1],Ne.invert&&(fn=Ne.invert(fn),dn=Ne.invert(dn)),dn<fn&&(en=fn,fn=dn,dn=en))),Pe&&Ne?[[Ur,fn],[Kr,dn]]:Pe?[Ur,Kr]:Ne&&[fn,dn])},rr.clear=function(){return rr.empty()||(et=[0,0],it=[0,0],ct=Pt=null),rr},rr.empty=function(){return!!Pe&&et[0]==et[1]||!!Ne&&it[0]==it[1]},a.rebind(rr,ce,"on")};var za={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Pn(function(ce){return ce.responseText}),a.json=function(ce,Pe){return Cn(ce,"application/json",vi,Pe)};function vi(ce){return JSON.parse(ce.responseText)}a.html=function(ce,Pe){return Cn(ce,"text/html",Oi,Pe)};function Oi(ce){var Pe=v.createRange();return Pe.selectNode(v.body),Pe.createContextualFragment(ce.responseText)}a.xml=Pn(function(ce){return ce.responseXML}),g=a,P=typeof g=="function"?g.call(j,e,j,H):g,P!==void 0&&(H.exports=P)}).apply(self)},3480:function(H){(function(j,e){H.exports=e()})(this,function(){var j,e,g;function P(a,x){if(!j)j=x;else if(!e)e=x;else{var w="var sharedChunk = {}; ("+j+")(sharedChunk); ("+e+")(sharedChunk);",v={};j(v),g=x(v),typeof window<"u"&&(g.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"})))}}return P(["exports"],function(a){function x(D,I){return I={exports:{}},D(I,I.exports),I.exports}var w="1.13.4",v=p;function p(D,I,G,ae){this.cx=3*D,this.bx=3*(G-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(ae-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ae,this.p2x=G,this.p2y=ae}p.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},p.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},p.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},p.prototype.solveCurveX=function(D,I){typeof I>"u"&&(I=1e-6);var G,ae,de,Se,De;for(de=D,De=0;De<8;De++){if(Se=this.sampleCurveX(de)-D,Math.abs(Se)<I)return de;var qe=this.sampleCurveDerivativeX(de);if(Math.abs(qe)<1e-6)break;de=de-Se/qe}if(G=0,ae=1,de=D,de<G)return G;if(de>ae)return ae;for(;G<ae;){if(Se=this.sampleCurveX(de),Math.abs(Se-D)<I)return de;D>Se?G=de:ae=de,de=(ae-G)*.5+G}return de},p.prototype.solve=function(D,I){return this.sampleCurveY(this.solveCurveX(D,I))};var r=t;function t(D,I){this.x=D,this.y=I}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,I){return this.clone()._rotateAround(D,I)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var I=D.x-this.x,G=D.y-this.y;return I*I+G*G},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,I){return Math.atan2(this.x*I-this.y*D,this.x*D+this.y*I)},_matMult:function(D){var I=D[0]*this.x+D[1]*this.y,G=D[2]*this.x+D[3]*this.y;return this.x=I,this.y=G,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var I=Math.cos(D),G=Math.sin(D),ae=I*this.x-G*this.y,de=G*this.x+I*this.y;return this.x=ae,this.y=de,this},_rotateAround:function(D,I){var G=Math.cos(D),ae=Math.sin(D),de=I.x+G*(this.x-I.x)-ae*(this.y-I.y),Se=I.y+ae*(this.x-I.x)+G*(this.y-I.y);return this.x=de,this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(D){return D instanceof t?D:Array.isArray(D)?new t(D[0],D[1]):D};var i=typeof self<"u"?self:{};function n(D,I){if(Array.isArray(D)){if(!Array.isArray(I)||D.length!==I.length)return!1;for(var G=0;G<D.length;G++)if(!n(D[G],I[G]))return!1;return!0}if(typeof D=="object"&&D!==null&&I!==null){if(typeof I!="object")return!1;var ae=Object.keys(D);if(ae.length!==Object.keys(I).length)return!1;for(var de in D)if(!n(D[de],I[de]))return!1;return!0}return D===I}var u=Math.pow(2,53)-1;function f(D){if(D<=0)return 0;if(D>=1)return 1;var I=D*D,G=I*D;return 4*(D<.5?G:3*(D-I)+G-.75)}function l(D,I,G,ae){var de=new v(D,I,G,ae);return function(Se){return de.solve(Se)}}var y=l(.25,.1,.25,1);function h(D,I,G){return Math.min(G,Math.max(I,D))}function M(D,I,G){var ae=G-I,de=((D-I)%ae+ae)%ae+I;return de===I?G:de}function c(D,I,G){if(!D.length)return G(null,[]);var ae=D.length,de=new Array(D.length),Se=null;D.forEach(function(De,qe){I(De,function(gt,Et){gt&&(Se=gt),de[qe]=Et,--ae===0&&G(Se,de)})})}function o(D){var I=[];for(var G in D)I.push(D[G]);return I}function d(D,I){var G=[];for(var ae in D)ae in I||G.push(ae);return G}function T(D){for(var I=[],G=arguments.length-1;G-- >0;)I[G]=arguments[G+1];for(var ae=0,de=I;ae<de.length;ae+=1){var Se=de[ae];for(var De in Se)D[De]=Se[De]}return D}function S(D,I){for(var G={},ae=0;ae<I.length;ae++){var de=I[ae];de in D&&(G[de]=D[de])}return G}var C=1;function m(){return C++}function E(){function D(I){return I?(I^Math.random()*16>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function b(D){return D<=1?1:Math.pow(2,Math.ceil(Math.log(D)/Math.LN2))}function s(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function L(D,I){D.forEach(function(G){I[G]&&(I[G]=I[G].bind(I))})}function A(D,I){return D.indexOf(I,D.length-I.length)!==-1}function k(D,I,G){var ae={};for(var de in D)ae[de]=I.call(G||this,D[de],de,D);return ae}function _(D,I,G){var ae={};for(var de in D)I.call(G||this,D[de],de,D)&&(ae[de]=D[de]);return ae}function U(D){return Array.isArray(D)?D.map(U):typeof D=="object"&&D?k(D,U):D}function F(D,I){for(var G=0;G<D.length;G++)if(I.indexOf(D[G])>=0)return!0;return!1}var z={};function B(D){z[D]||(typeof console<"u"&&console.warn(D),z[D]=!0)}function N(D,I,G){return(G.y-D.y)*(I.x-D.x)>(I.y-D.y)*(G.x-D.x)}function V(D){for(var I=0,G=0,ae=D.length,de=ae-1,Se=void 0,De=void 0;G<ae;de=G++)Se=D[G],De=D[de],I+=(De.x-Se.x)*(Se.y+De.y);return I}function W(D){var I=D[0],G=D[1],ae=D[2];return G+=90,G*=Math.PI/180,ae*=Math.PI/180,{x:I*Math.cos(G)*Math.sin(ae),y:I*Math.sin(G)*Math.sin(ae),z:I*Math.cos(ae)}}function Q(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function re(D){var I=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,G={};if(D.replace(I,function(de,Se,De,qe){var gt=De||qe;return G[Se]=gt?gt.toLowerCase():!0,""}),G["max-age"]){var ae=parseInt(G["max-age"],10);isNaN(ae)?delete G["max-age"]:G["max-age"]=ae}return G}var ne=null;function fe(D){if(ne==null){var I=D.navigator?D.navigator.userAgent:null;ne=!!D.safari||!!(I&&(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return ne}function $(D){try{var I=i[D];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}function X(D){return i.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(I,G){return String.fromCharCode(+("0x"+G))}))}function oe(D){return decodeURIComponent(i.atob(D).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date),ee=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame,se=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame,q,K,le={now:Y,frame:function(I){var G=ee(I);return{cancel:function(){return se(G)}}},getImageData:function(I,G){G===void 0&&(G=0);var ae=i.document.createElement("canvas"),de=ae.getContext("2d");if(!de)throw new Error("failed to create canvas 2d context");return ae.width=I.width,ae.height=I.height,de.drawImage(I,0,0,I.width,I.height),de.getImageData(-G,-G,I.width+2*G,I.height+2*G)},resolveURL:function(I){return q||(q=i.document.createElement("a")),q.href=I,q.href},hardwareConcurrency:i.navigator&&i.navigator.hardwareConcurrency||4,get devicePixelRatio(){return i.devicePixelRatio},get prefersReducedMotion(){return i.matchMedia?(K==null&&(K=i.matchMedia("(prefers-reduced-motion: reduce)")),K.matches):!1}},ie={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},he={supported:!1,testSupport:we},ye,Ce=!1,Ae,ke=!1;i.document&&(Ae=i.document.createElement("img"),Ae.onload=function(){ye&&Ee(ye),ye=null,ke=!0},Ae.onerror=function(){Ce=!0,ye=null},Ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function we(D){Ce||!Ae||(ke?Ee(D):ye=D)}function Ee(D){var I=D.createTexture();D.bindTexture(D.TEXTURE_2D,I);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,Ae),D.isContextLost())return;he.supported=!0}catch{}D.deleteTexture(I),Ce=!0}var xe="01";function Re(){for(var D="1",I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",G="",ae=0;ae<10;ae++)G+=I[Math.floor(Math.random()*62)];var de=12*60*60*1e3,Se=[D,xe,G].join(""),De=Date.now()+de;return{token:Se,tokenExpiresAt:De}}var Ve=function(I,G){this._transformRequestFn=I,this._customAccessToken=G,this._createSkuToken()};Ve.prototype._createSkuToken=function(){var I=Re();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Ve.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ve.prototype.transformRequest=function(I,G){return this._transformRequestFn?this._transformRequestFn(I,G)||{url:I}:{url:I}},Ve.prototype.normalizeStyleURL=function(I,G){if(!Ue(I))return I;var ae=We(I);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||G)},Ve.prototype.normalizeGlyphsURL=function(I,G){if(!Ue(I))return I;var ae=We(I);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||G)},Ve.prototype.normalizeSourceURL=function(I,G){if(!Ue(I))return I;var ae=We(I);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||G)},Ve.prototype.normalizeSpriteURL=function(I,G,ae,de){var Se=We(I);return Ue(I)?(Se.path="/styles/v1"+Se.path+"/sprite"+G+ae,this._makeAPIURL(Se,this._customAccessToken||de)):(Se.path+=""+G+ae,rt(Se))},Ve.prototype.normalizeTileURL=function(I,G){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!Ue(I))return I;var ae=We(I),de=/(\.(png|jpg)\d*)(?=$)/,Se=/^.+\/v4\//,De=le.devicePixelRatio>=2||G===512?"@2x":"",qe=he.supported?".webp":"$1";ae.path=ae.path.replace(de,""+De+qe),ae.path=ae.path.replace(Se,"/"),ae.path="/v4"+ae.path;var gt=this._customAccessToken||dt(ae.params)||ie.ACCESS_TOKEN;return ie.REQUIRE_ACCESS_TOKEN&&gt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,gt)},Ve.prototype.canonicalizeTileURL=function(I,G){var ae="/v4/",de=/\.[\w]+$/,Se=We(I);if(!Se.path.match(/(^\/v4\/)/)||!Se.path.match(de))return I;var De="mapbox://tiles/";De+=Se.path.replace(ae,"");var qe=Se.params;return G&&(qe=qe.filter(function(gt){return!gt.match(/^access_token=/)})),qe.length&&(De+="?"+qe.join("&")),De},Ve.prototype.canonicalizeTileset=function(I,G){for(var ae=G?Ue(G):!1,de=[],Se=0,De=I.tiles||[];Se<De.length;Se+=1){var qe=De[Se];Xe(qe)?de.push(this.canonicalizeTileURL(qe,ae)):de.push(qe)}return de},Ve.prototype._makeAPIURL=function(I,G){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",de=We(ie.API_URL);if(I.protocol=de.protocol,I.authority=de.authority,I.protocol==="http"){var Se=I.params.indexOf("secure");Se>=0&&I.params.splice(Se,1)}if(de.path!=="/"&&(I.path=""+de.path+I.path),!ie.REQUIRE_ACCESS_TOKEN)return rt(I);if(G=G||ie.ACCESS_TOKEN,!G)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(G[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return I.params=I.params.filter(function(De){return De.indexOf("access_token")===-1}),I.params.push("access_token="+G),rt(I)};function Ue(D){return D.indexOf("mapbox:")===0}var Be=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Xe(D){return Be.test(D)}function ut(D){return D.indexOf("sku=")>0&&Xe(D)}function dt(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I],de=ae.match(/^access_token=(.*)$/);if(de)return de[1]}return null}var at=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function We(D){var I=D.match(at);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function rt(D){var I=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+I}var st="mapbox.eventData";function ht(D){if(!D)return null;var I=D.split(".");if(!I||I.length!==3)return null;try{var G=JSON.parse(oe(I[1]));return G}catch{return null}}var vt=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};vt.prototype.getStorageKey=function(I){var G=ht(ie.ACCESS_TOKEN),ae="";return G&&G.u?ae=X(G.u):ae=ie.ACCESS_TOKEN||"",I?st+"."+I+":"+ae:st+":"+ae},vt.prototype.fetchEventData=function(){var I=$("localStorage"),G=this.getStorageKey(),ae=this.getStorageKey("uuid");if(I)try{var de=i.localStorage.getItem(G);de&&(this.eventData=JSON.parse(de));var Se=i.localStorage.getItem(ae);Se&&(this.anonId=Se)}catch{B("Unable to read from LocalStorage")}},vt.prototype.saveEventData=function(){var I=$("localStorage"),G=this.getStorageKey(),ae=this.getStorageKey("uuid");if(I)try{i.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&i.localStorage.setItem(G,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},vt.prototype.processRequests=function(I){},vt.prototype.postEvent=function(I,G,ae,de){var Se=this;if(ie.EVENTS_URL){var De=We(ie.EVENTS_URL);De.params.push("access_token="+(de||ie.ACCESS_TOKEN||""));var qe={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:w,skuId:xe,userId:this.anonId},gt=G?T(qe,G):qe,Et={url:rt(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([gt])};this.pendingRequest=Bt(Et,function(Rt){Se.pendingRequest=null,ae(Rt),Se.saveEventData(),Se.processRequests(de)})}},vt.prototype.queueRequest=function(I,G){this.queue.push(I),this.processRequests(G)};var At=function(D){function I(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(ae,de,Se,De){this.skuToken=Se,(ie.EVENTS_URL&&De||ie.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(qe){return Ue(qe)||Xe(qe)}))&&this.queueRequest({id:de,timestamp:Date.now()},De)},I.prototype.processRequests=function(ae){var de=this;if(!(this.pendingRequest||this.queue.length===0)){var Se=this.queue.shift(),De=Se.id,qe=Se.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=E()),this.postEvent(qe,{skuToken:this.skuToken},function(gt){gt||De&&(de.success[De]=!0)},ae))}},I}(vt),tt=function(D){function I(G){D.call(this,"appUserTurnstile"),this._customAccessToken=G}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(ae,de){ie.EVENTS_URL&&ie.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Se){return Ue(Se)||Xe(Se)})&&this.queueRequest(Date.now(),de)},I.prototype.processRequests=function(ae){var de=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Se=ht(ie.ACCESS_TOKEN),De=Se?Se.u:ie.ACCESS_TOKEN,qe=De!==this.eventData.tokenU;s(this.anonId)||(this.anonId=E(),qe=!0);var gt=this.queue.shift();if(this.eventData.lastSuccess){var Et=new Date(this.eventData.lastSuccess),Rt=new Date(gt),Wt=(gt-this.eventData.lastSuccess)/(24*60*60*1e3);qe=qe||Wt>=1||Wt<-1||Et.getDate()!==Rt.getDate()}else qe=!0;if(!qe)return this.processRequests();this.postEvent(gt,{"enabled.telemetry":!1},function(ar){ar||(de.eventData.lastSuccess=gt,de.eventData.tokenU=De)},ae)}},I}(vt),_e=new tt,je=_e.postTurnstileEvent.bind(_e),Ke=new At,He=Ke.postMapLoadEvent.bind(Ke),Ie="mapbox-tiles",be=500,me=50,Me=1e3*60*7,Te;function ze(){i.caches&&!Te&&(Te=i.caches.open(Ie))}var Je;function nt(D,I){if(Je===void 0)try{new Response(new ReadableStream),Je=!0}catch{Je=!1}Je?I(D.body):D.blob().then(I)}function pt(D,I,G){if(ze(),!!Te){var ae={status:I.status,statusText:I.statusText,headers:new i.Headers};I.headers.forEach(function(De,qe){return ae.headers.set(qe,De)});var de=re(I.headers.get("Cache-Control")||"");if(!de["no-store"]){de["max-age"]&&ae.headers.set("Expires",new Date(G+de["max-age"]*1e3).toUTCString());var Se=new Date(ae.headers.get("Expires")).getTime()-G;Se<Me||nt(I,function(De){var qe=new i.Response(De,ae);ze(),Te&&Te.then(function(gt){return gt.put(yt(D.url),qe)}).catch(function(gt){return B(gt.message)})})}}}function yt(D){var I=D.indexOf("?");return I<0?D:D.slice(0,I)}function Yt(D,I){if(ze(),!Te)return I(null);var G=yt(D.url);Te.then(function(ae){ae.match(G).then(function(de){var Se=Xt(de);ae.delete(G),Se&&ae.put(G,de.clone()),I(null,de,Se)}).catch(I)}).catch(I)}function Xt(D){if(!D)return!1;var I=new Date(D.headers.get("Expires")||0),G=re(D.headers.get("Cache-Control")||"");return I>Date.now()&&!G["no-cache"]}var St=1/0;function kt(D){St++,St>me&&(D.getActor().send("enforceCacheSizeLimit",be),St=0)}function Kt(D){ze(),Te&&Te.then(function(I){I.keys().then(function(G){for(var ae=0;ae<G.length-D;ae++)I.delete(G[ae])})})}function mr(D){var I=i.caches.delete(Ie);D&&I.catch(D).then(function(){return D()})}function mt(D,I){be=D,me=I}var Zt;function Qt(){return Zt==null&&(Zt=i.OffscreenCanvas&&new i.OffscreenCanvas(1,1).getContext("2d")&&typeof i.createImageBitmap=="function"),Zt}var yr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yr);var sr=function(D){function I(G,ae,de){ae===401&&Xe(de)&&(G+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,G),this.status=ae,this.url=de,this.name=this.constructor.name,this.message=G}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),bt=Q()?function(){return self.worker&&self.worker.referrer}:function(){return(i.location.protocol==="blob:"?i.parent:i).location.href},lt=function(D){return/^file:/.test(D)||/^file:/.test(bt())&&!/^\w+:/.test(D)};function Tt(D,I){var G=new i.AbortController,ae=new i.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:bt(),signal:G.signal}),de=!1,Se=!1,De=ut(ae.url);D.type==="json"&&ae.headers.set("Accept","application/json");var qe=function(Et,Rt,Wt){if(!Se){if(Et&&Et.message!=="SecurityError"&&B(Et),Rt&&Wt)return gt(Rt);var ar=Date.now();i.fetch(ae).then(function(er){if(er.ok){var xr=De?er.clone():null;return gt(er,xr,ar)}else return I(new sr(er.statusText,er.status,D.url))}).catch(function(er){er.code!==20&&I(new Error(er.message))})}},gt=function(Et,Rt,Wt){(D.type==="arrayBuffer"?Et.arrayBuffer():D.type==="json"?Et.json():Et.text()).then(function(ar){Se||(Rt&&Wt&&pt(ae,Rt,Wt),de=!0,I(null,ar,Et.headers.get("Cache-Control"),Et.headers.get("Expires")))}).catch(function(ar){Se||I(new Error(ar.message))})};return De?Yt(ae,qe):qe(null,null),{cancel:function(){Se=!0,de||G.abort()}}}function Ct(D,I){var G=new i.XMLHttpRequest;G.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(G.responseType="arraybuffer");for(var ae in D.headers)G.setRequestHeader(ae,D.headers[ae]);return D.type==="json"&&(G.responseType="text",G.setRequestHeader("Accept","application/json")),G.withCredentials=D.credentials==="include",G.onerror=function(){I(new Error(G.statusText))},G.onload=function(){if((G.status>=200&&G.status<300||G.status===0)&&G.response!==null){var de=G.response;if(D.type==="json")try{de=JSON.parse(G.response)}catch(Se){return I(Se)}I(null,de,G.getResponseHeader("Cache-Control"),G.getResponseHeader("Expires"))}else I(new sr(G.statusText,G.status,D.url))},G.send(D.body),{cancel:function(){return G.abort()}}}var It=function(D,I){if(!lt(D.url)){if(i.fetch&&i.Request&&i.AbortController&&i.Request.prototype.hasOwnProperty("signal"))return Tt(D,I);if(Q()&&self.worker&&self.worker.actor){var G=!0;return self.worker.actor.send("getResource",D,I,void 0,G)}}return Ct(D,I)},Dt=function(D,I){return It(T(D,{type:"json"}),I)},Vt=function(D,I){return It(T(D,{type:"arrayBuffer"}),I)},Bt=function(D,I){return It(T(D,{method:"POST"}),I)};function $t(D){var I=i.document.createElement("a");return I.href=D,I.protocol===i.document.location.protocol&&I.host===i.document.location.host}var fr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function cr(D,I,G,ae){var de=new i.Image,Se=i.URL;de.onload=function(){I(null,de),Se.revokeObjectURL(de.src),de.onload=null,i.requestAnimationFrame(function(){de.src=fr})},de.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var De=new i.Blob([new Uint8Array(D)],{type:"image/png"});de.cacheControl=G,de.expires=ae,de.src=D.byteLength?Se.createObjectURL(De):fr}function dr(D,I){var G=new i.Blob([new Uint8Array(D)],{type:"image/png"});i.createImageBitmap(G).then(function(ae){I(null,ae)}).catch(function(ae){I(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ye,Ge,zt=function(){Ye=[],Ge=0};zt();var Ft=function(D,I){if(he.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),Ge>=ie.MAX_PARALLEL_IMAGE_REQUESTS){var G={requestParameters:D,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ye.push(G),G}Ge++;var ae=!1,de=function(){if(!ae)for(ae=!0,Ge--;Ye.length&&Ge<ie.MAX_PARALLEL_IMAGE_REQUESTS;){var De=Ye.shift(),qe=De.requestParameters,gt=De.callback,Et=De.cancelled;Et||(De.cancel=Ft(qe,gt).cancel)}},Se=Vt(D,function(De,qe,gt,Et){de(),De?I(De):qe&&(Qt()?dr(qe,I):cr(qe,I,gt,Et))});return{cancel:function(){Se.cancel(),de()}}},Jt=function(D,I){var G=i.document.createElement("video");G.muted=!0,G.onloadstart=function(){I(null,G)};for(var ae=0;ae<D.length;ae++){var de=i.document.createElement("source");$t(D[ae])||(G.crossOrigin="Anonymous"),de.src=D[ae],G.appendChild(de)}return{cancel:function(){}}};function tr(D,I,G){var ae=G[D]&&G[D].indexOf(I)!==-1;ae||(G[D]=G[D]||[],G[D].push(I))}function ur(D,I,G){if(G&&G[D]){var ae=G[D].indexOf(I);ae!==-1&&G[D].splice(ae,1)}}var nr=function(I,G){G===void 0&&(G={}),T(this,G),this.type=I},Nt=function(D){function I(G,ae){ae===void 0&&(ae={}),D.call(this,"error",T({error:G},ae))}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(nr),hr=function(){};hr.prototype.on=function(I,G){return this._listeners=this._listeners||{},tr(I,G,this._listeners),this},hr.prototype.off=function(I,G){return ur(I,G,this._listeners),ur(I,G,this._oneTimeListeners),this},hr.prototype.once=function(I,G){return this._oneTimeListeners=this._oneTimeListeners||{},tr(I,G,this._oneTimeListeners),this},hr.prototype.fire=function(I,G){typeof I=="string"&&(I=new nr(I,G||{}));var ae=I.type;if(this.listens(ae)){I.target=this;for(var de=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],Se=0,De=de;Se<De.length;Se+=1){var qe=De[Se];qe.call(this,I)}for(var gt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],Et=0,Rt=gt;Et<Rt.length;Et+=1){var Wt=Rt[Et];ur(ae,Wt,this._oneTimeListeners),Wt.call(this,I)}var ar=this._eventedParent;ar&&(T(I,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ar.fire(I))}else I instanceof Nt&&console.error(I.error);return this},hr.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},hr.prototype.setEventedParent=function(I,G){return this._eventedParent=I,this._eventedParentData=G,this};var gr=8,br={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},vr={"*":{type:"source"}},Gr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Dr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},_r={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},hn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},nn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Pn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Cn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Ar={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Pr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Wr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Vr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},on={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},yn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},mn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ln={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},aa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ha={type:"array",value:"*"},pa={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ua={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},na={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Tr={type:"array",value:"*",minimum:1},an={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},qr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],gn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Hn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},An={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Sn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Un={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},$n={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ya={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},_a={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Er={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},zr={"*":{type:"string"}},Sr={$version:gr,$root:br,sources:vr,source:Gr,source_vector:Dr,source_raster:_r,source_raster_dem:hn,source_geojson:nn,source_video:Pn,source_image:Cn,layer:Ar,layout:Pr,layout_background:Wr,layout_fill:Vr,layout_circle:on,layout_heatmap:yn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:mn,layout_symbol:Ln,layout_raster:zn,layout_hillshade:aa,filter:ha,filter_operator:pa,geometry_type:ua,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:na,expression:Tr,light:an,paint:qr,paint_fill:gn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Hn,paint_circle:An,paint_heatmap:Sn,paint_symbol:Un,paint_raster:$n,paint_hillshade:ya,paint_background:_a,transition:Er,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:zr},Nr=function(I,G,ae,de){this.message=(I?I+": ":"")+ae,de&&(this.identifier=de),G!=null&&G.__line__&&(this.line=G.__line__)};function wn(D){var I=D.key,G=D.value;return G?[new Nr(I,G,"constants have been deprecated as of v8")]:[]}function kn(D){for(var I=[],G=arguments.length-1;G-- >0;)I[G]=arguments[G+1];for(var ae=0,de=I;ae<de.length;ae+=1){var Se=de[ae];for(var De in Se)D[De]=Se[De]}return D}function vn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function ln(D){if(Array.isArray(D))return D.map(ln);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var I={};for(var G in D)I[G]=ln(D[G]);return I}return vn(D)}var Cr=function(D){function I(G,ae){D.call(this,ae),this.message=ae,this.key=G}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Error),Zr=function(I,G){G===void 0&&(G=[]),this.parent=I,this.bindings={};for(var ae=0,de=G;ae<de.length;ae+=1){var Se=de[ae],De=Se[0],qe=Se[1];this.bindings[De]=qe}};Zr.prototype.concat=function(I){return new Zr(this,I)},Zr.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},Zr.prototype.has=function(I){return this.bindings[I]?!0:this.parent?this.parent.has(I):!1};var jr={kind:"null"},Qr={kind:"number"},Tn={kind:"string"},Rn={kind:"boolean"},Dn={kind:"color"},Vn={kind:"object"},Nn={kind:"value"},ma={kind:"error"},oa={kind:"collator"},ga={kind:"formatted"},Pa={kind:"resolvedImage"};function pi(D,I){return{kind:"array",itemType:D,N:I}}function ri(D){if(D.kind==="array"){var I=ri(D.itemType);return typeof D.N=="number"?"array<"+I+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+I+">"}else return D.kind}var Ho=[jr,Qr,Tn,Rn,Dn,ga,Vn,pi(Nn),Pa];function Oo(D,I){if(I.kind==="error")return null;if(D.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!Oo(D.itemType,I.itemType))&&(typeof D.N!="number"||D.N===I.N))return null}else{if(D.kind===I.kind)return null;if(D.kind==="value")for(var G=0,ae=Ho;G<ae.length;G+=1){var de=ae[G];if(!Oo(de,I))return null}}return"Expected "+ri(D)+" but found "+ri(I)+" instead."}function no(D,I){return I.some(function(G){return G.kind===D.kind})}function Vl(D,I){return I.some(function(G){return G==="null"?D===null:G==="array"?Array.isArray(D):G==="object"?D&&!Array.isArray(D)&&typeof D=="object":G===typeof D})}var kf=x(function(D,I){var G={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(Et){return Et=Math.round(Et),Et<0?0:Et>255?255:Et}function de(Et){return Et<0?0:Et>1?1:Et}function Se(Et){return Et[Et.length-1]==="%"?ae(parseFloat(Et)/100*255):ae(parseInt(Et))}function De(Et){return Et[Et.length-1]==="%"?de(parseFloat(Et)/100):de(parseFloat(Et))}function qe(Et,Rt,Wt){return Wt<0?Wt+=1:Wt>1&&(Wt-=1),Wt*6<1?Et+(Rt-Et)*Wt*6:Wt*2<1?Rt:Wt*3<2?Et+(Rt-Et)*(2/3-Wt)*6:Et}function gt(Et){var Rt=Et.replace(/ /g,"").toLowerCase();if(Rt in G)return G[Rt].slice();if(Rt[0]==="#"){if(Rt.length===4){var Wt=parseInt(Rt.substr(1),16);return Wt>=0&&Wt<=4095?[(Wt&3840)>>4|(Wt&3840)>>8,Wt&240|(Wt&240)>>4,Wt&15|(Wt&15)<<4,1]:null}else if(Rt.length===7){var Wt=parseInt(Rt.substr(1),16);return Wt>=0&&Wt<=16777215?[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255,1]:null}return null}var ar=Rt.indexOf("("),er=Rt.indexOf(")");if(ar!==-1&&er+1===Rt.length){var xr=Rt.substr(0,ar),Or=Rt.substr(ar+1,er-(ar+1)).split(","),un=1;switch(xr){case"rgba":if(Or.length!==4)return null;un=De(Or.pop());case"rgb":return Or.length!==3?null:[Se(Or[0]),Se(Or[1]),Se(Or[2]),un];case"hsla":if(Or.length!==4)return null;un=De(Or.pop());case"hsl":if(Or.length!==3)return null;var tn=(parseFloat(Or[0])%360+360)%360/360,En=De(Or[1]),xn=De(Or[2]),Mn=xn<=.5?xn*(En+1):xn+En-xn*En,On=xn*2-Mn;return[ae(qe(On,Mn,tn+1/3)*255),ae(qe(On,Mn,tn)*255),ae(qe(On,Mn,tn-1/3)*255),un];default:return null}}return null}try{I.parseCSSColor=gt}catch{}}),wc=kf.parseCSSColor,qa=function(I,G,ae,de){de===void 0&&(de=1),this.r=I,this.g=G,this.b=ae,this.a=de};qa.parse=function(I){if(I){if(I instanceof qa)return I;if(typeof I=="string"){var G=wc(I);if(G)return new qa(G[0]/255*G[3],G[1]/255*G[3],G[2]/255*G[3],G[3])}}},qa.prototype.toString=function(){var I=this.toArray(),G=I[0],ae=I[1],de=I[2],Se=I[3];return"rgba("+Math.round(G)+","+Math.round(ae)+","+Math.round(de)+","+Se+")"},qa.prototype.toArray=function(){var I=this,G=I.r,ae=I.g,de=I.b,Se=I.a;return Se===0?[0,0,0,0]:[G*255/Se,ae*255/Se,de*255/Se,Se]},qa.black=new qa(0,0,0,1),qa.white=new qa(1,1,1,1),qa.transparent=new qa(0,0,0,0),qa.red=new qa(1,0,0,1);var Tu=function(I,G,ae){I?this.sensitivity=G?"variant":"case":this.sensitivity=G?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Tu.prototype.compare=function(I,G){return this.collator.compare(I,G)},Tu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Ff=function(I,G,ae,de,Se){this.text=I,this.image=G,this.scale=ae,this.fontStack=de,this.textColor=Se},$i=function(I){this.sections=I};$i.fromString=function(I){return new $i([new Ff(I,null,null,null,null)])},$i.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(I){return I.text.length!==0||I.image&&I.image.name.length!==0})},$i.factory=function(I){return I instanceof $i?I:$i.fromString(I)},$i.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(I){return I.text}).join("")},$i.prototype.serialize=function(){for(var I=["format"],G=0,ae=this.sections;G<ae.length;G+=1){var de=ae[G];if(de.image){I.push(["image",de.image.name]);continue}I.push(de.text);var Se={};de.fontStack&&(Se["text-font"]=["literal",de.fontStack.split(",")]),de.scale&&(Se["font-scale"]=de.scale),de.textColor&&(Se["text-color"]=["rgba"].concat(de.textColor.toArray())),I.push(Se)}return I};var Eo=function(I){this.name=I.name,this.available=I.available};Eo.prototype.toString=function(){return this.name},Eo.fromString=function(I){return I?new Eo({name:I,available:!1}):null},Eo.prototype.serialize=function(){return["image",this.name]};function jl(D,I,G,ae){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof G=="number"&&G>=0&&G<=255)){var de=typeof ae=="number"?[D,I,G,ae]:[D,I,G];return"Invalid rgba value ["+de.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[D,I,G,ae].join(", ")+"]: 'a' must be between 0 and 1."}function of(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof qa)return!0;if(D instanceof Tu)return!0;if(D instanceof $i)return!0;if(D instanceof Eo)return!0;if(Array.isArray(D)){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(!of(ae))return!1}return!0}else if(typeof D=="object"){for(var de in D)if(!of(D[de]))return!1;return!0}else return!1}function ki(D){if(D===null)return jr;if(typeof D=="string")return Tn;if(typeof D=="boolean")return Rn;if(typeof D=="number")return Qr;if(D instanceof qa)return Dn;if(D instanceof Tu)return oa;if(D instanceof $i)return ga;if(D instanceof Eo)return Pa;if(Array.isArray(D)){for(var I=D.length,G,ae=0,de=D;ae<de.length;ae+=1){var Se=de[ae],De=ki(Se);if(!G)G=De;else{if(G===De)continue;G=Nn;break}}return pi(G||Nn,I)}else return Vn}function Hl(D){var I=typeof D;return D===null?"":I==="string"||I==="number"||I==="boolean"?String(D):D instanceof qa||D instanceof $i||D instanceof Eo?D.toString():JSON.stringify(D)}var Ni=function(I,G){this.type=I,this.value=G};Ni.parse=function(I,G){if(I.length!==2)return G.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!of(I[1]))return G.error("invalid value");var ae=I[1],de=ki(ae),Se=G.expectedType;return de.kind==="array"&&de.N===0&&Se&&Se.kind==="array"&&(typeof Se.N!="number"||Se.N===0)&&(de=Se),new Ni(de,ae)},Ni.prototype.evaluate=function(){return this.value},Ni.prototype.eachChild=function(){},Ni.prototype.outputDefined=function(){return!0},Ni.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof qa?["rgba"].concat(this.value.toArray()):this.value instanceof $i?this.value.serialize():this.value};var Gi=function(I){this.name="ExpressionEvaluationError",this.message=I};Gi.prototype.toJSON=function(){return this.message};var Gl={string:Tn,number:Qr,boolean:Rn,object:Vn},ao=function(I,G){this.type=I,this.args=G};ao.parse=function(I,G){if(I.length<2)return G.error("Expected at least one argument.");var ae=1,de,Se=I[0];if(Se==="array"){var De;if(I.length>2){var qe=I[1];if(typeof qe!="string"||!(qe in Gl)||qe==="object")return G.error('The item type argument of "array" must be one of string, number, boolean',1);De=Gl[qe],ae++}else De=Nn;var gt;if(I.length>3){if(I[2]!==null&&(typeof I[2]!="number"||I[2]<0||I[2]!==Math.floor(I[2])))return G.error('The length argument to "array" must be a positive integer literal',2);gt=I[2],ae++}de=pi(De,gt)}else de=Gl[Se];for(var Et=[];ae<I.length;ae++){var Rt=G.parse(I[ae],ae,Nn);if(!Rt)return null;Et.push(Rt)}return new ao(de,Et)},ao.prototype.evaluate=function(I){for(var G=0;G<this.args.length;G++){var ae=this.args[G].evaluate(I),de=Oo(this.type,ki(ae));if(de){if(G===this.args.length-1)throw new Gi("Expected value to be of type "+ri(this.type)+", but found "+ri(ki(ae))+" instead.")}else return ae}return null},ao.prototype.eachChild=function(I){this.args.forEach(I)},ao.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},ao.prototype.serialize=function(){var I=this.type,G=[I.kind];if(I.kind==="array"){var ae=I.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){G.push(ae.kind);var de=I.N;(typeof de=="number"||this.args.length>1)&&G.push(de)}}return G.concat(this.args.map(function(Se){return Se.serialize()}))};var io=function(I){this.type=ga,this.sections=I};io.parse=function(I,G){if(I.length<2)return G.error("Expected at least one argument.");var ae=I[1];if(!Array.isArray(ae)&&typeof ae=="object")return G.error("First argument must be an image or text section.");for(var de=[],Se=!1,De=1;De<=I.length-1;++De){var qe=I[De];if(Se&&typeof qe=="object"&&!Array.isArray(qe)){Se=!1;var gt=null;if(qe["font-scale"]&&(gt=G.parse(qe["font-scale"],1,Qr),!gt))return null;var Et=null;if(qe["text-font"]&&(Et=G.parse(qe["text-font"],1,pi(Tn)),!Et))return null;var Rt=null;if(qe["text-color"]&&(Rt=G.parse(qe["text-color"],1,Dn),!Rt))return null;var Wt=de[de.length-1];Wt.scale=gt,Wt.font=Et,Wt.textColor=Rt}else{var ar=G.parse(I[De],1,Nn);if(!ar)return null;var er=ar.type.kind;if(er!=="string"&&er!=="value"&&er!=="null"&&er!=="resolvedImage")return G.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,de.push({content:ar,scale:null,font:null,textColor:null})}}return new io(de)},io.prototype.evaluate=function(I){var G=function(ae){var de=ae.content.evaluate(I);return ki(de)===Pa?new Ff("",de,null,null,null):new Ff(Hl(de),null,ae.scale?ae.scale.evaluate(I):null,ae.font?ae.font.evaluate(I).join(","):null,ae.textColor?ae.textColor.evaluate(I):null)};return new $i(this.sections.map(G))},io.prototype.eachChild=function(I){for(var G=0,ae=this.sections;G<ae.length;G+=1){var de=ae[G];I(de.content),de.scale&&I(de.scale),de.font&&I(de.font),de.textColor&&I(de.textColor)}},io.prototype.outputDefined=function(){return!1},io.prototype.serialize=function(){for(var I=["format"],G=0,ae=this.sections;G<ae.length;G+=1){var de=ae[G];I.push(de.content.serialize());var Se={};de.scale&&(Se["font-scale"]=de.scale.serialize()),de.font&&(Se["text-font"]=de.font.serialize()),de.textColor&&(Se["text-color"]=de.textColor.serialize()),I.push(Se)}return I};var Go=function(I){this.type=Pa,this.input=I};Go.parse=function(I,G){if(I.length!==2)return G.error("Expected two arguments.");var ae=G.parse(I[1],1,Tn);return ae?new Go(ae):G.error("No image name provided.")},Go.prototype.evaluate=function(I){var G=this.input.evaluate(I),ae=Eo.fromString(G);return ae&&I.availableImages&&(ae.available=I.availableImages.indexOf(G)>-1),ae},Go.prototype.eachChild=function(I){I(this.input)},Go.prototype.outputDefined=function(){return!1},Go.prototype.serialize=function(){return["image",this.input.serialize()]};var Tc={"to-boolean":Rn,"to-color":Dn,"to-number":Qr,"to-string":Tn},zo=function(I,G){this.type=I,this.args=G};zo.parse=function(I,G){if(I.length<2)return G.error("Expected at least one argument.");var ae=I[0];if((ae==="to-boolean"||ae==="to-string")&&I.length!==2)return G.error("Expected one argument.");for(var de=Tc[ae],Se=[],De=1;De<I.length;De++){var qe=G.parse(I[De],De,Nn);if(!qe)return null;Se.push(qe)}return new zo(de,Se)},zo.prototype.evaluate=function(I){if(this.type.kind==="boolean")return!!this.args[0].evaluate(I);if(this.type.kind==="color"){for(var G,ae,de=0,Se=this.args;de<Se.length;de+=1){var De=Se[de];if(G=De.evaluate(I),ae=null,G instanceof qa)return G;if(typeof G=="string"){var qe=I.parseColor(G);if(qe)return qe}else if(Array.isArray(G)&&(G.length<3||G.length>4?ae="Invalid rbga value "+JSON.stringify(G)+": expected an array containing either three or four numeric values.":ae=jl(G[0],G[1],G[2],G[3]),!ae))return new qa(G[0]/255,G[1]/255,G[2]/255,G[3])}throw new Gi(ae||"Could not parse color from value '"+(typeof G=="string"?G:String(JSON.stringify(G)))+"'")}else if(this.type.kind==="number"){for(var gt=null,Et=0,Rt=this.args;Et<Rt.length;Et+=1){var Wt=Rt[Et];if(gt=Wt.evaluate(I),gt===null)return 0;var ar=Number(gt);if(!isNaN(ar))return ar}throw new Gi("Could not convert "+JSON.stringify(gt)+" to number.")}else return this.type.kind==="formatted"?$i.fromString(Hl(this.args[0].evaluate(I))):this.type.kind==="resolvedImage"?Eo.fromString(Hl(this.args[0].evaluate(I))):Hl(this.args[0].evaluate(I))},zo.prototype.eachChild=function(I){this.args.forEach(I)},zo.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},zo.prototype.serialize=function(){if(this.type.kind==="formatted")return new io([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Go(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(G){I.push(G.serialize())}),I};var kh=["Unknown","Point","LineString","Polygon"],Ts=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ts.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ts.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?kh[this.feature.type]:this.feature.type:null},Ts.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ts.prototype.canonicalID=function(){return this.canonical},Ts.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ts.prototype.parseColor=function(I){var G=this._parseColorCache[I];return G||(G=this._parseColorCache[I]=qa.parse(I)),G};var Qi=function(I,G,ae,de){this.name=I,this.type=G,this._evaluate=ae,this.args=de};Qi.prototype.evaluate=function(I){return this._evaluate(I,this.args)},Qi.prototype.eachChild=function(I){this.args.forEach(I)},Qi.prototype.outputDefined=function(){return!1},Qi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},Qi.parse=function(I,G){var ae,de=I[0],Se=Qi.definitions[de];if(!Se)return G.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Se)?Se[0]:Se.type,qe=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,gt=qe.filter(function(Aa){var Ca=Aa[0];return!Array.isArray(Ca)||Ca.length===I.length-1}),Et=null,Rt=0,Wt=gt;Rt<Wt.length;Rt+=1){var ar=Wt[Rt],er=ar[0],xr=ar[1];Et=new Ss(G.registry,G.path,null,G.scope);for(var Or=[],un=!1,tn=1;tn<I.length;tn++){var En=I[tn],xn=Array.isArray(er)?er[tn-1]:er.type,Mn=Et.parse(En,1+Or.length,xn);if(!Mn){un=!0;break}Or.push(Mn)}if(!un){if(Array.isArray(er)&&er.length!==Or.length){Et.error("Expected "+er.length+" arguments, but found "+Or.length+" instead.");continue}for(var On=0;On<Or.length;On++){var Wn=Array.isArray(er)?er[On]:er.type,ra=Or[On];Et.concat(On+1).checkSubtype(Wn,ra.type)}if(Et.errors.length===0)return new Qi(de,De,xr,Or)}}if(gt.length===1)(ae=G.errors).push.apply(ae,Et.errors);else{for(var qn=gt.length?gt:qe,Ta=qn.map(function(Aa){var Ca=Aa[0];return Of(Ca)}).join(" | "),da=[],wa=1;wa<I.length;wa++){var Ua=G.parse(I[wa],1+da.length);if(!Ua)return null;da.push(ri(Ua.type))}G.error("Expected arguments of type "+Ta+", but found ("+da.join(", ")+") instead.")}return null},Qi.register=function(I,G){Qi.definitions=G;for(var ae in G)I[ae]=Qi};function Of(D){return Array.isArray(D)?"("+D.map(ri).join(", ")+")":"("+ri(D.type)+"...)"}var qs=function(I,G,ae){this.type=oa,this.locale=ae,this.caseSensitive=I,this.diacriticSensitive=G};qs.parse=function(I,G){if(I.length!==2)return G.error("Expected one argument.");var ae=I[1];if(typeof ae!="object"||Array.isArray(ae))return G.error("Collator options argument must be an object.");var de=G.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,Rn);if(!de)return null;var Se=G.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,Rn);if(!Se)return null;var De=null;return ae.locale&&(De=G.parse(ae.locale,1,Tn),!De)?null:new qs(de,Se,De)},qs.prototype.evaluate=function(I){return new Tu(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},qs.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},qs.prototype.outputDefined=function(){return!1},qs.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var As=8192;function zf(D,I){D[0]=Math.min(D[0],I[0]),D[1]=Math.min(D[1],I[1]),D[2]=Math.max(D[2],I[0]),D[3]=Math.max(D[3],I[1])}function Ac(D){return(180+D)/360}function Fh(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function sf(D,I){return!(D[0]<=I[0]||D[2]>=I[2]||D[1]<=I[1]||D[3]>=I[3])}function Oh(D,I){var G=Ac(D[0]),ae=Fh(D[1]),de=Math.pow(2,I.z);return[Math.round(G*de*As),Math.round(ae*de*As)]}function zh(D,I,G){var ae=D[0]-I[0],de=D[1]-I[1],Se=D[0]-G[0],De=D[1]-G[1];return ae*De-Se*de===0&&ae*Se<=0&&de*De<=0}function Nh(D,I,G){return I[1]>D[1]!=G[1]>D[1]&&D[0]<(G[0]-I[0])*(D[1]-I[1])/(G[1]-I[1])+I[0]}function Nf(D,I){for(var G=!1,ae=0,de=I.length;ae<de;ae++)for(var Se=I[ae],De=0,qe=Se.length;De<qe-1;De++){if(zh(D,Se[De],Se[De+1]))return!1;Nh(D,Se[De],Se[De+1])&&(G=!G)}return G}function Bh(D,I){for(var G=0;G<I.length;G++)if(Nf(D,I[G]))return!0;return!1}function Uh(D,I){return D[0]*I[1]-D[1]*I[0]}function Sc(D,I,G,ae){var de=D[0]-G[0],Se=D[1]-G[1],De=I[0]-G[0],qe=I[1]-G[1],gt=ae[0]-G[0],Et=ae[1]-G[1],Rt=de*Et-gt*Se,Wt=De*Et-gt*qe;return Rt>0&&Wt<0||Rt<0&&Wt>0}function Mc(D,I,G,ae){var de=[I[0]-D[0],I[1]-D[1]],Se=[ae[0]-G[0],ae[1]-G[1]];return Uh(Se,de)===0?!1:!!(Sc(D,I,G,ae)&&Sc(G,ae,D,I))}function bl(D,I,G){for(var ae=0,de=G;ae<de.length;ae+=1)for(var Se=de[ae],De=0;De<Se.length-1;++De)if(Mc(D,I,Se[De],Se[De+1]))return!0;return!1}function Wl(D,I){for(var G=0;G<D.length;++G)if(!Nf(D[G],I))return!1;for(var ae=0;ae<D.length-1;++ae)if(bl(D[ae],D[ae+1],I))return!1;return!0}function Au(D,I){for(var G=0;G<I.length;G++)if(Wl(D,I[G]))return!0;return!1}function Su(D,I,G){for(var ae=[],de=0;de<D.length;de++){for(var Se=[],De=0;De<D[de].length;De++){var qe=Oh(D[de][De],G);zf(I,qe),Se.push(qe)}ae.push(Se)}return ae}function Ec(D,I,G){for(var ae=[],de=0;de<D.length;de++){var Se=Su(D[de],I,G);ae.push(Se)}return ae}function Bs(D,I,G,ae){if(D[0]<G[0]||D[0]>G[2]){var de=ae*.5,Se=D[0]-G[0]>de?-ae:G[0]-D[0]>de?ae:0;Se===0&&(Se=D[0]-G[2]>de?-ae:G[2]-D[0]>de?ae:0),D[0]+=Se}zf(I,D)}function Vh(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function lf(D,I,G,ae){for(var de=Math.pow(2,ae.z)*As,Se=[ae.x*As,ae.y*As],De=[],qe=0,gt=D;qe<gt.length;qe+=1)for(var Et=gt[qe],Rt=0,Wt=Et;Rt<Wt.length;Rt+=1){var ar=Wt[Rt],er=[ar.x+Se[0],ar.y+Se[1]];Bs(er,I,G,de),De.push(er)}return De}function Cc(D,I,G,ae){for(var de=Math.pow(2,ae.z)*As,Se=[ae.x*As,ae.y*As],De=[],qe=0,gt=D;qe<gt.length;qe+=1){for(var Et=gt[qe],Rt=[],Wt=0,ar=Et;Wt<ar.length;Wt+=1){var er=ar[Wt],xr=[er.x+Se[0],er.y+Se[1]];zf(I,xr),Rt.push(xr)}De.push(Rt)}if(I[2]-I[0]<=de/2){Vh(I);for(var Or=0,un=De;Or<un.length;Or+=1)for(var tn=un[Or],En=0,xn=tn;En<xn.length;En+=1){var Mn=xn[En];Bs(Mn,I,G,de)}}return De}function Lc(D,I){var G=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],de=D.canonicalID();if(I.type==="Polygon"){var Se=Su(I.coordinates,ae,de),De=lf(D.geometry(),G,ae,de);if(!sf(G,ae))return!1;for(var qe=0,gt=De;qe<gt.length;qe+=1){var Et=gt[qe];if(!Nf(Et,Se))return!1}}if(I.type==="MultiPolygon"){var Rt=Ec(I.coordinates,ae,de),Wt=lf(D.geometry(),G,ae,de);if(!sf(G,ae))return!1;for(var ar=0,er=Wt;ar<er.length;ar+=1){var xr=er[ar];if(!Bh(xr,Rt))return!1}}return!0}function uf(D,I){var G=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],de=D.canonicalID();if(I.type==="Polygon"){var Se=Su(I.coordinates,ae,de),De=Cc(D.geometry(),G,ae,de);if(!sf(G,ae))return!1;for(var qe=0,gt=De;qe<gt.length;qe+=1){var Et=gt[qe];if(!Wl(Et,Se))return!1}}if(I.type==="MultiPolygon"){var Rt=Ec(I.coordinates,ae,de),Wt=Cc(D.geometry(),G,ae,de);if(!sf(G,ae))return!1;for(var ar=0,er=Wt;ar<er.length;ar+=1){var xr=er[ar];if(!Au(xr,Rt))return!1}}return!0}var as=function(I,G){this.type=Rn,this.geojson=I,this.geometries=G};as.parse=function(I,G){if(I.length!==2)return G.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(of(I[1])){var ae=I[1];if(ae.type==="FeatureCollection")for(var de=0;de<ae.features.length;++de){var Se=ae.features[de].geometry.type;if(Se==="Polygon"||Se==="MultiPolygon")return new as(ae,ae.features[de].geometry)}else if(ae.type==="Feature"){var De=ae.geometry.type;if(De==="Polygon"||De==="MultiPolygon")return new as(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new as(ae,ae)}return G.error("'within' expression requires valid geojson object that contains polygon geometry type.")},as.prototype.evaluate=function(I){if(I.geometry()!=null&&I.canonicalID()!=null){if(I.geometryType()==="Point")return Lc(I,this.geometries);if(I.geometryType()==="LineString")return uf(I,this.geometries)}return!1},as.prototype.eachChild=function(){},as.prototype.outputDefined=function(){return!0},as.prototype.serialize=function(){return["within",this.geojson]};function Yl(D){if(D instanceof Qi){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof as)return!1;var I=!0;return D.eachChild(function(G){I&&!Yl(G)&&(I=!1)}),I}function wl(D){if(D instanceof Qi&&D.name==="feature-state")return!1;var I=!0;return D.eachChild(function(G){I&&!wl(G)&&(I=!1)}),I}function Mu(D,I){if(D instanceof Qi&&I.indexOf(D.name)>=0)return!1;var G=!0;return D.eachChild(function(ae){G&&!Mu(ae,I)&&(G=!1)}),G}var el=function(I,G){this.type=G.type,this.name=I,this.boundExpression=G};el.parse=function(I,G){if(I.length!==2||typeof I[1]!="string")return G.error("'var' expression requires exactly one string literal argument.");var ae=I[1];return G.scope.has(ae)?new el(ae,G.scope.get(ae)):G.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},el.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},el.prototype.eachChild=function(){},el.prototype.outputDefined=function(){return!1},el.prototype.serialize=function(){return["var",this.name]};var Ss=function(I,G,ae,de,Se){G===void 0&&(G=[]),de===void 0&&(de=new Zr),Se===void 0&&(Se=[]),this.registry=I,this.path=G,this.key=G.map(function(De){return"["+De+"]"}).join(""),this.scope=de,this.errors=Se,this.expectedType=ae};Ss.prototype.parse=function(I,G,ae,de,Se){return Se===void 0&&(Se={}),G?this.concat(G,ae,de)._parse(I,Se):this._parse(I,Se)},Ss.prototype._parse=function(I,G){(I===null||typeof I=="string"||typeof I=="boolean"||typeof I=="number")&&(I=["literal",I]);function ae(Rt,Wt,ar){return ar==="assert"?new ao(Wt,[Rt]):ar==="coerce"?new zo(Wt,[Rt]):Rt}if(Array.isArray(I)){if(I.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var de=I[0];if(typeof de!="string")return this.error("Expression name must be a string, but found "+typeof de+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[de];if(Se){var De=Se.parse(I,this);if(!De)return null;if(this.expectedType){var qe=this.expectedType,gt=De.type;if((qe.kind==="string"||qe.kind==="number"||qe.kind==="boolean"||qe.kind==="object"||qe.kind==="array")&&gt.kind==="value")De=ae(De,qe,G.typeAnnotation||"assert");else if((qe.kind==="color"||qe.kind==="formatted"||qe.kind==="resolvedImage")&&(gt.kind==="value"||gt.kind==="string"))De=ae(De,qe,G.typeAnnotation||"coerce");else if(this.checkSubtype(qe,gt))return null}if(!(De instanceof Ni)&&De.type.kind!=="resolvedImage"&&Bf(De)){var Et=new Ts;try{De=new Ni(De.type,De.evaluate(Et))}catch(Rt){return this.error(Rt.message),null}}return De}return this.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof I>"u"?this.error("'undefined' value invalid. Use null instead."):typeof I=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof I+" instead.")},Ss.prototype.concat=function(I,G,ae){var de=typeof I=="number"?this.path.concat(I):this.path,Se=ae?this.scope.concat(ae):this.scope;return new Ss(this.registry,de,G||null,Se,this.errors)},Ss.prototype.error=function(I){for(var G=[],ae=arguments.length-1;ae-- >0;)G[ae]=arguments[ae+1];var de=""+this.key+G.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new Cr(de,I))},Ss.prototype.checkSubtype=function(I,G){var ae=Oo(I,G);return ae&&this.error(ae),ae};function Bf(D){if(D instanceof el)return Bf(D.boundExpression);if(D instanceof Qi&&D.name==="error")return!1;if(D instanceof qs)return!1;if(D instanceof as)return!1;var I=D instanceof zo||D instanceof ao,G=!0;return D.eachChild(function(ae){I?G=G&&Bf(ae):G=G&&ae instanceof Ni}),G?Yl(D)&&Mu(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Xl(D,I){for(var G=D.length-1,ae=0,de=G,Se=0,De,qe;ae<=de;)if(Se=Math.floor((ae+de)/2),De=D[Se],qe=D[Se+1],De<=I){if(Se===G||I<qe)return Se;ae=Se+1}else if(De>I)de=Se-1;else throw new Gi("Input is not a number.");return 0}var is=function(I,G,ae){this.type=I,this.input=G,this.labels=[],this.outputs=[];for(var de=0,Se=ae;de<Se.length;de+=1){var De=Se[de],qe=De[0],gt=De[1];this.labels.push(qe),this.outputs.push(gt)}};is.parse=function(I,G){if(I.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return G.error("Expected an even number of arguments.");var ae=G.parse(I[1],1,Qr);if(!ae)return null;var de=[],Se=null;G.expectedType&&G.expectedType.kind!=="value"&&(Se=G.expectedType);for(var De=1;De<I.length;De+=2){var qe=De===1?-1/0:I[De],gt=I[De+1],Et=De,Rt=De+1;if(typeof qe!="number")return G.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Et);if(de.length&&de[de.length-1][0]>=qe)return G.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Et);var Wt=G.parse(gt,Rt,Se);if(!Wt)return null;Se=Se||Wt.type,de.push([qe,Wt])}return new is(Se,ae,de)},is.prototype.evaluate=function(I){var G=this.labels,ae=this.outputs;if(G.length===1)return ae[0].evaluate(I);var de=this.input.evaluate(I);if(de<=G[0])return ae[0].evaluate(I);var Se=G.length;if(de>=G[Se-1])return ae[Se-1].evaluate(I);var De=Xl(G,de);return ae[De].evaluate(I)},is.prototype.eachChild=function(I){I(this.input);for(var G=0,ae=this.outputs;G<ae.length;G+=1){var de=ae[G];I(de)}},is.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},is.prototype.serialize=function(){for(var I=["step",this.input.serialize()],G=0;G<this.labels.length;G++)G>0&&I.push(this.labels[G]),I.push(this.outputs[G].serialize());return I};function Pi(D,I,G){return D*(1-G)+I*G}function Uf(D,I,G){return new qa(Pi(D.r,I.r,G),Pi(D.g,I.g,G),Pi(D.b,I.b,G),Pi(D.a,I.a,G))}function jh(D,I,G){return D.map(function(ae,de){return Pi(ae,I[de],G)})}var ff=Object.freeze({__proto__:null,number:Pi,color:Uf,array:jh}),Zl=.95047,Kl=1,No=1.08883,cf=4/29,Jl=6/29,hf=3*Jl*Jl,Hh=Jl*Jl*Jl,Pc=Math.PI/180,Vf=180/Math.PI;function jf(D){return D>Hh?Math.pow(D,.3333333333333333):D/hf+cf}function Hf(D){return D>Jl?D*D*D:hf*(D-cf)}function $l(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function vf(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function Eu(D){var I=vf(D.r),G=vf(D.g),ae=vf(D.b),de=jf((.4124564*I+.3575761*G+.1804375*ae)/Zl),Se=jf((.2126729*I+.7151522*G+.072175*ae)/Kl),De=jf((.0193339*I+.119192*G+.9503041*ae)/No);return{l:116*Se-16,a:500*(de-Se),b:200*(Se-De),alpha:D.a}}function df(D){var I=(D.l+16)/116,G=isNaN(D.a)?I:I+D.a/500,ae=isNaN(D.b)?I:I-D.b/200;return I=Kl*Hf(I),G=Zl*Hf(G),ae=No*Hf(ae),new qa($l(3.2404542*G-1.5371385*I-.4985314*ae),$l(-.969266*G+1.8760108*I+.041556*ae),$l(.0556434*G-.2040259*I+1.0572252*ae),D.alpha)}function gi(D,I,G){return{l:Pi(D.l,I.l,G),a:Pi(D.a,I.a,G),b:Pi(D.b,I.b,G),alpha:Pi(D.alpha,I.alpha,G)}}function Rc(D){var I=Eu(D),G=I.l,ae=I.a,de=I.b,Se=Math.atan2(de,ae)*Vf;return{h:Se<0?Se+360:Se,c:Math.sqrt(ae*ae+de*de),l:G,alpha:D.a}}function os(D){var I=D.h*Pc,G=D.c,ae=D.l;return df({l:ae,a:Math.cos(I)*G,b:Math.sin(I)*G,alpha:D.alpha})}function Dc(D,I,G){var ae=I-D;return D+G*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function Gf(D,I,G){return{h:Dc(D.h,I.h,G),c:Pi(D.c,I.c,G),l:Pi(D.l,I.l,G),alpha:Pi(D.alpha,I.alpha,G)}}var Tl={forward:Eu,reverse:df,interpolate:gi},tl={forward:Rc,reverse:os,interpolate:Gf},pf=Object.freeze({__proto__:null,lab:Tl,hcl:tl}),Fi=function(I,G,ae,de,Se){this.type=I,this.operator=G,this.interpolation=ae,this.input=de,this.labels=[],this.outputs=[];for(var De=0,qe=Se;De<qe.length;De+=1){var gt=qe[De],Et=gt[0],Rt=gt[1];this.labels.push(Et),this.outputs.push(Rt)}};Fi.interpolationFactor=function(I,G,ae,de){var Se=0;if(I.name==="exponential")Se=Cu(G,I.base,ae,de);else if(I.name==="linear")Se=Cu(G,1,ae,de);else if(I.name==="cubic-bezier"){var De=I.controlPoints,qe=new v(De[0],De[1],De[2],De[3]);Se=qe.solve(Cu(G,1,ae,de))}return Se},Fi.parse=function(I,G){var ae=I[0],de=I[1],Se=I[2],De=I.slice(3);if(!Array.isArray(de)||de.length===0)return G.error("Expected an interpolation type expression.",1);if(de[0]==="linear")de={name:"linear"};else if(de[0]==="exponential"){var qe=de[1];if(typeof qe!="number")return G.error("Exponential interpolation requires a numeric base.",1,1);de={name:"exponential",base:qe}}else if(de[0]==="cubic-bezier"){var gt=de.slice(1);if(gt.length!==4||gt.some(function(tn){return typeof tn!="number"||tn<0||tn>1}))return G.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);de={name:"cubic-bezier",controlPoints:gt}}else return G.error("Unknown interpolation type "+String(de[0]),1,0);if(I.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return G.error("Expected an even number of arguments.");if(Se=G.parse(Se,2,Qr),!Se)return null;var Et=[],Rt=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Rt=Dn:G.expectedType&&G.expectedType.kind!=="value"&&(Rt=G.expectedType);for(var Wt=0;Wt<De.length;Wt+=2){var ar=De[Wt],er=De[Wt+1],xr=Wt+3,Or=Wt+4;if(typeof ar!="number")return G.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(Et.length&&Et[Et.length-1][0]>=ar)return G.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var un=G.parse(er,Or,Rt);if(!un)return null;Rt=Rt||un.type,Et.push([ar,un])}return Rt.kind!=="number"&&Rt.kind!=="color"&&!(Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number")?G.error("Type "+ri(Rt)+" is not interpolatable."):new Fi(Rt,ae,de,Se,Et)},Fi.prototype.evaluate=function(I){var G=this.labels,ae=this.outputs;if(G.length===1)return ae[0].evaluate(I);var de=this.input.evaluate(I);if(de<=G[0])return ae[0].evaluate(I);var Se=G.length;if(de>=G[Se-1])return ae[Se-1].evaluate(I);var De=Xl(G,de),qe=G[De],gt=G[De+1],Et=Fi.interpolationFactor(this.interpolation,de,qe,gt),Rt=ae[De].evaluate(I),Wt=ae[De+1].evaluate(I);return this.operator==="interpolate"?ff[this.type.kind.toLowerCase()](Rt,Wt,Et):this.operator==="interpolate-hcl"?tl.reverse(tl.interpolate(tl.forward(Rt),tl.forward(Wt),Et)):Tl.reverse(Tl.interpolate(Tl.forward(Rt),Tl.forward(Wt),Et))},Fi.prototype.eachChild=function(I){I(this.input);for(var G=0,ae=this.outputs;G<ae.length;G+=1){var de=ae[G];I(de)}},Fi.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},Fi.prototype.serialize=function(){var I;this.interpolation.name==="linear"?I=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?I=["linear"]:I=["exponential",this.interpolation.base]:I=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var G=[this.operator,I,this.input.serialize()],ae=0;ae<this.labels.length;ae++)G.push(this.labels[ae],this.outputs[ae].serialize());return G};function Cu(D,I,G,ae){var de=ae-G,Se=D-G;return de===0?0:I===1?Se/de:(Math.pow(I,Se)-1)/(Math.pow(I,de)-1)}var ss=function(I,G){this.type=I,this.args=G};ss.parse=function(I,G){if(I.length<2)return G.error("Expectected at least one argument.");var ae=null,de=G.expectedType;de&&de.kind!=="value"&&(ae=de);for(var Se=[],De=0,qe=I.slice(1);De<qe.length;De+=1){var gt=qe[De],Et=G.parse(gt,1+Se.length,ae,void 0,{typeAnnotation:"omit"});if(!Et)return null;ae=ae||Et.type,Se.push(Et)}var Rt=de&&Se.some(function(Wt){return Oo(de,Wt.type)});return Rt?new ss(Nn,Se):new ss(ae,Se)},ss.prototype.evaluate=function(I){for(var G=null,ae=0,de,Se=0,De=this.args;Se<De.length;Se+=1){var qe=De[Se];if(ae++,G=qe.evaluate(I),G&&G instanceof Eo&&!G.available&&(de||(de=G.name),G=null,ae===this.args.length&&(G=de)),G!==null)break}return G},ss.prototype.eachChild=function(I){this.args.forEach(I)},ss.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},ss.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(G){I.push(G.serialize())}),I};var Us=function(I,G){this.type=G.type,this.bindings=[].concat(I),this.result=G};Us.prototype.evaluate=function(I){return this.result.evaluate(I)},Us.prototype.eachChild=function(I){for(var G=0,ae=this.bindings;G<ae.length;G+=1){var de=ae[G];I(de[1])}I(this.result)},Us.parse=function(I,G){if(I.length<4)return G.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var ae=[],de=1;de<I.length-1;de+=2){var Se=I[de];if(typeof Se!="string")return G.error("Expected string, but found "+typeof Se+" instead.",de);if(/[^a-zA-Z0-9_]/.test(Se))return G.error("Variable names must contain only alphanumeric characters or '_'.",de);var De=G.parse(I[de+1],de+1);if(!De)return null;ae.push([Se,De])}var qe=G.parse(I[I.length-1],I.length-1,G.expectedType,ae);return qe?new Us(ae,qe):null},Us.prototype.outputDefined=function(){return this.result.outputDefined()},Us.prototype.serialize=function(){for(var I=["let"],G=0,ae=this.bindings;G<ae.length;G+=1){var de=ae[G],Se=de[0],De=de[1];I.push(Se,De.serialize())}return I.push(this.result.serialize()),I};var Al=function(I,G,ae){this.type=I,this.index=G,this.input=ae};Al.parse=function(I,G){if(I.length!==3)return G.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1,Qr),de=G.parse(I[2],2,pi(G.expectedType||Nn));if(!ae||!de)return null;var Se=de.type;return new Al(Se.itemType,ae,de)},Al.prototype.evaluate=function(I){var G=this.index.evaluate(I),ae=this.input.evaluate(I);if(G<0)throw new Gi("Array index out of bounds: "+G+" < 0.");if(G>=ae.length)throw new Gi("Array index out of bounds: "+G+" > "+(ae.length-1)+".");if(G!==Math.floor(G))throw new Gi("Array index must be an integer, but found "+G+" instead.");return ae[G]},Al.prototype.eachChild=function(I){I(this.index),I(this.input)},Al.prototype.outputDefined=function(){return!1},Al.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var rl=function(I,G){this.type=Rn,this.needle=I,this.haystack=G};rl.parse=function(I,G){if(I.length!==3)return G.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1,Nn),de=G.parse(I[2],2,Nn);return!ae||!de?null:no(ae.type,[Rn,Tn,Qr,jr,Nn])?new rl(ae,de):G.error("Expected first argument to be of type boolean, string, number or null, but found "+ri(ae.type)+" instead")},rl.prototype.evaluate=function(I){var G=this.needle.evaluate(I),ae=this.haystack.evaluate(I);if(!ae)return!1;if(!Vl(G,["boolean","string","number","null"]))throw new Gi("Expected first argument to be of type boolean, string, number or null, but found "+ri(ki(G))+" instead.");if(!Vl(ae,["string","array"]))throw new Gi("Expected second argument to be of type array or string, but found "+ri(ki(ae))+" instead.");return ae.indexOf(G)>=0},rl.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},rl.prototype.outputDefined=function(){return!0},rl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ls=function(I,G,ae){this.type=Qr,this.needle=I,this.haystack=G,this.fromIndex=ae};ls.parse=function(I,G){if(I.length<=2||I.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1,Nn),de=G.parse(I[2],2,Nn);if(!ae||!de)return null;if(!no(ae.type,[Rn,Tn,Qr,jr,Nn]))return G.error("Expected first argument to be of type boolean, string, number or null, but found "+ri(ae.type)+" instead");if(I.length===4){var Se=G.parse(I[3],3,Qr);return Se?new ls(ae,de,Se):null}else return new ls(ae,de)},ls.prototype.evaluate=function(I){var G=this.needle.evaluate(I),ae=this.haystack.evaluate(I);if(!Vl(G,["boolean","string","number","null"]))throw new Gi("Expected first argument to be of type boolean, string, number or null, but found "+ri(ki(G))+" instead.");if(!Vl(ae,["string","array"]))throw new Gi("Expected second argument to be of type array or string, but found "+ri(ki(ae))+" instead.");if(this.fromIndex){var de=this.fromIndex.evaluate(I);return ae.indexOf(G,de)}return ae.indexOf(G)},ls.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},ls.prototype.outputDefined=function(){return!1},ls.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Vs=function(I,G,ae,de,Se,De){this.inputType=I,this.type=G,this.input=ae,this.cases=de,this.outputs=Se,this.otherwise=De};Vs.parse=function(I,G){if(I.length<5)return G.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!==1)return G.error("Expected an even number of arguments.");var ae,de;G.expectedType&&G.expectedType.kind!=="value"&&(de=G.expectedType);for(var Se={},De=[],qe=2;qe<I.length-1;qe+=2){var gt=I[qe],Et=I[qe+1];Array.isArray(gt)||(gt=[gt]);var Rt=G.concat(qe);if(gt.length===0)return Rt.error("Expected at least one branch label.");for(var Wt=0,ar=gt;Wt<ar.length;Wt+=1){var er=ar[Wt];if(typeof er!="number"&&typeof er!="string")return Rt.error("Branch labels must be numbers or strings.");if(typeof er=="number"&&Math.abs(er)>Number.MAX_SAFE_INTEGER)return Rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof er=="number"&&Math.floor(er)!==er)return Rt.error("Numeric branch labels must be integer values.");if(!ae)ae=ki(er);else if(Rt.checkSubtype(ae,ki(er)))return null;if(typeof Se[String(er)]<"u")return Rt.error("Branch labels must be unique.");Se[String(er)]=De.length}var xr=G.parse(Et,qe,de);if(!xr)return null;de=de||xr.type,De.push(xr)}var Or=G.parse(I[1],1,Nn);if(!Or)return null;var un=G.parse(I[I.length-1],I.length-1,de);return!un||Or.type.kind!=="value"&&G.concat(1).checkSubtype(ae,Or.type)?null:new Vs(ae,de,Or,Se,De,un)},Vs.prototype.evaluate=function(I){var G=this.input.evaluate(I),ae=ki(G)===this.inputType&&this.outputs[this.cases[G]]||this.otherwise;return ae.evaluate(I)},Vs.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},Vs.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},Vs.prototype.serialize=function(){for(var I=this,G=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),de=[],Se={},De=0,qe=ae;De<qe.length;De+=1){var gt=qe[De],Et=Se[this.cases[gt]];Et===void 0?(Se[this.cases[gt]]=de.length,de.push([this.cases[gt],[gt]])):de[Et][1].push(gt)}for(var Rt=function(Or){return I.inputType.kind==="number"?Number(Or):Or},Wt=0,ar=de;Wt<ar.length;Wt+=1){var er=ar[Wt],Et=er[0],xr=er[1];xr.length===1?G.push(Rt(xr[0])):G.push(xr.map(Rt)),G.push(this.outputs[outputIndex$1].serialize())}return G.push(this.otherwise.serialize()),G};var us=function(I,G,ae){this.type=I,this.branches=G,this.otherwise=ae};us.parse=function(I,G){if(I.length<4)return G.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!==0)return G.error("Expected an odd number of arguments.");var ae;G.expectedType&&G.expectedType.kind!=="value"&&(ae=G.expectedType);for(var de=[],Se=1;Se<I.length-1;Se+=2){var De=G.parse(I[Se],Se,Rn);if(!De)return null;var qe=G.parse(I[Se+1],Se+1,ae);if(!qe)return null;de.push([De,qe]),ae=ae||qe.type}var gt=G.parse(I[I.length-1],I.length-1,ae);return gt?new us(ae,de,gt):null},us.prototype.evaluate=function(I){for(var G=0,ae=this.branches;G<ae.length;G+=1){var de=ae[G],Se=de[0],De=de[1];if(Se.evaluate(I))return De.evaluate(I)}return this.otherwise.evaluate(I)},us.prototype.eachChild=function(I){for(var G=0,ae=this.branches;G<ae.length;G+=1){var de=ae[G],Se=de[0],De=de[1];I(Se),I(De)}I(this.otherwise)},us.prototype.outputDefined=function(){return this.branches.every(function(I){I[0];var G=I[1];return G.outputDefined()})&&this.otherwise.outputDefined()},us.prototype.serialize=function(){var I=["case"];return this.eachChild(function(G){I.push(G.serialize())}),I};var Ko=function(I,G,ae,de){this.type=I,this.input=G,this.beginIndex=ae,this.endIndex=de};Ko.parse=function(I,G){if(I.length<=2||I.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1,Nn),de=G.parse(I[2],2,Qr);if(!ae||!de)return null;if(!no(ae.type,[pi(Nn),Tn,Nn]))return G.error("Expected first argument to be of type array or string, but found "+ri(ae.type)+" instead");if(I.length===4){var Se=G.parse(I[3],3,Qr);return Se?new Ko(ae.type,ae,de,Se):null}else return new Ko(ae.type,ae,de)},Ko.prototype.evaluate=function(I){var G=this.input.evaluate(I),ae=this.beginIndex.evaluate(I);if(!Vl(G,["string","array"]))throw new Gi("Expected first argument to be of type array or string, but found "+ri(ki(G))+" instead.");if(this.endIndex){var de=this.endIndex.evaluate(I);return G.slice(ae,de)}return G.slice(ae)},Ko.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},Ko.prototype.outputDefined=function(){return!1},Ko.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Lu(D,I){return D==="=="||D==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function Gh(D,I,G){return I===G}function Wh(D,I,G){return I!==G}function Yh(D,I,G){return I<G}function Xh(D,I,G){return I>G}function Wf(D,I,G){return I<=G}function Ic(D,I,G){return I>=G}function Ql(D,I,G,ae){return ae.compare(I,G)===0}function qi(D,I,G,ae){return!Ql(D,I,G,ae)}function Wo(D,I,G,ae){return ae.compare(I,G)<0}function ql(D,I,G,ae){return ae.compare(I,G)>0}function _c(D,I,G,ae){return ae.compare(I,G)<=0}function Pu(D,I,G,ae){return ae.compare(I,G)>=0}function js(D,I,G){var ae=D!=="=="&&D!=="!=";return function(){function de(Se,De,qe){this.type=Rn,this.lhs=Se,this.rhs=De,this.collator=qe,this.hasUntypedArgument=Se.type.kind==="value"||De.type.kind==="value"}return de.parse=function(De,qe){if(De.length!==3&&De.length!==4)return qe.error("Expected two or three arguments.");var gt=De[0],Et=qe.parse(De[1],1,Nn);if(!Et)return null;if(!Lu(gt,Et.type))return qe.concat(1).error('"'+gt+`" comparisons are not supported for type '`+ri(Et.type)+"'.");var Rt=qe.parse(De[2],2,Nn);if(!Rt)return null;if(!Lu(gt,Rt.type))return qe.concat(2).error('"'+gt+`" comparisons are not supported for type '`+ri(Rt.type)+"'.");if(Et.type.kind!==Rt.type.kind&&Et.type.kind!=="value"&&Rt.type.kind!=="value")return qe.error("Cannot compare types '"+ri(Et.type)+"' and '"+ri(Rt.type)+"'.");ae&&(Et.type.kind==="value"&&Rt.type.kind!=="value"?Et=new ao(Rt.type,[Et]):Et.type.kind!=="value"&&Rt.type.kind==="value"&&(Rt=new ao(Et.type,[Rt])));var Wt=null;if(De.length===4){if(Et.type.kind!=="string"&&Rt.type.kind!=="string"&&Et.type.kind!=="value"&&Rt.type.kind!=="value")return qe.error("Cannot use collator to compare non-string types.");if(Wt=qe.parse(De[3],3,oa),!Wt)return null}return new de(Et,Rt,Wt)},de.prototype.evaluate=function(De){var qe=this.lhs.evaluate(De),gt=this.rhs.evaluate(De);if(ae&&this.hasUntypedArgument){var Et=ki(qe),Rt=ki(gt);if(Et.kind!==Rt.kind||!(Et.kind==="string"||Et.kind==="number"))throw new Gi('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+Et.kind+", "+Rt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Wt=ki(qe),ar=ki(gt);if(Wt.kind!=="string"||ar.kind!=="string")return I(De,qe,gt)}return this.collator?G(De,qe,gt,this.collator.evaluate(De)):I(De,qe,gt)},de.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},de.prototype.outputDefined=function(){return!0},de.prototype.serialize=function(){var De=[D];return this.eachChild(function(qe){De.push(qe.serialize())}),De},de}()}var Zh=js("==",Gh,Ql),kc=js("!=",Wh,qi),Fc=js("<",Yh,Wo),Yf=js(">",Xh,ql),Oc=js("<=",Wf,_c),Co=js(">=",Ic,Pu),fs=function(I,G,ae,de,Se){this.type=Tn,this.number=I,this.locale=G,this.currency=ae,this.minFractionDigits=de,this.maxFractionDigits=Se};fs.parse=function(I,G){if(I.length!==3)return G.error("Expected two arguments.");var ae=G.parse(I[1],1,Qr);if(!ae)return null;var de=I[2];if(typeof de!="object"||Array.isArray(de))return G.error("NumberFormat options argument must be an object.");var Se=null;if(de.locale&&(Se=G.parse(de.locale,1,Tn),!Se))return null;var De=null;if(de.currency&&(De=G.parse(de.currency,1,Tn),!De))return null;var qe=null;if(de["min-fraction-digits"]&&(qe=G.parse(de["min-fraction-digits"],1,Qr),!qe))return null;var gt=null;return de["max-fraction-digits"]&&(gt=G.parse(de["max-fraction-digits"],1,Qr),!gt)?null:new fs(ae,Se,De,qe,gt)},fs.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},fs.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},fs.prototype.outputDefined=function(){return!1},fs.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var nl=function(I){this.type=Qr,this.input=I};nl.parse=function(I,G){if(I.length!==2)return G.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?G.error("Expected argument of type string or array, but found "+ri(ae.type)+" instead."):new nl(ae):null},nl.prototype.evaluate=function(I){var G=this.input.evaluate(I);if(typeof G=="string")return G.length;if(Array.isArray(G))return G.length;throw new Gi("Expected value to be of type string or array, but found "+ri(ki(G))+" instead.")},nl.prototype.eachChild=function(I){I(this.input)},nl.prototype.outputDefined=function(){return!1},nl.prototype.serialize=function(){var I=["length"];return this.eachChild(function(G){I.push(G.serialize())}),I};var eu={"==":Zh,"!=":kc,">":Yf,"<":Fc,">=":Co,"<=":Oc,array:ao,at:Al,boolean:ao,case:us,coalesce:ss,collator:qs,format:io,image:Go,in:rl,"index-of":ls,interpolate:Fi,"interpolate-hcl":Fi,"interpolate-lab":Fi,length:nl,let:Us,literal:Ni,match:Vs,number:ao,"number-format":fs,object:ao,slice:Ko,step:is,string:ao,"to-boolean":zo,"to-color":zo,"to-number":zo,"to-string":zo,var:el,within:as};function gf(D,I){var G=I[0],ae=I[1],de=I[2],Se=I[3];G=G.evaluate(D),ae=ae.evaluate(D),de=de.evaluate(D);var De=Se?Se.evaluate(D):1,qe=jl(G,ae,de,De);if(qe)throw new Gi(qe);return new qa(G/255*De,ae/255*De,de/255*De,De)}function Sl(D,I){return D in I}function Ml(D,I){var G=I[D];return typeof G>"u"?null:G}function zc(D,I,G,ae){for(;G<=ae;){var de=G+ae>>1;if(I[de]===D)return!0;I[de]>D?ae=de-1:G=de+1}return!1}function Hs(D){return{type:D}}Qi.register(eu,{error:[ma,[Tn],function(D,I){var G=I[0];throw new Gi(G.evaluate(D))}],typeof:[Tn,[Nn],function(D,I){var G=I[0];return ri(ki(G.evaluate(D)))}],"to-rgba":[pi(Qr,4),[Dn],function(D,I){var G=I[0];return G.evaluate(D).toArray()}],rgb:[Dn,[Qr,Qr,Qr],gf],rgba:[Dn,[Qr,Qr,Qr,Qr],gf],has:{type:Rn,overloads:[[[Tn],function(D,I){var G=I[0];return Sl(G.evaluate(D),D.properties())}],[[Tn,Vn],function(D,I){var G=I[0],ae=I[1];return Sl(G.evaluate(D),ae.evaluate(D))}]]},get:{type:Nn,overloads:[[[Tn],function(D,I){var G=I[0];return Ml(G.evaluate(D),D.properties())}],[[Tn,Vn],function(D,I){var G=I[0],ae=I[1];return Ml(G.evaluate(D),ae.evaluate(D))}]]},"feature-state":[Nn,[Tn],function(D,I){var G=I[0];return Ml(G.evaluate(D),D.featureState||{})}],properties:[Vn,[],function(D){return D.properties()}],"geometry-type":[Tn,[],function(D){return D.geometryType()}],id:[Nn,[],function(D){return D.id()}],zoom:[Qr,[],function(D){return D.globals.zoom}],"heatmap-density":[Qr,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[Qr,[],function(D){return D.globals.lineProgress||0}],accumulated:[Nn,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[Qr,Hs(Qr),function(D,I){for(var G=0,ae=0,de=I;ae<de.length;ae+=1){var Se=de[ae];G+=Se.evaluate(D)}return G}],"*":[Qr,Hs(Qr),function(D,I){for(var G=1,ae=0,de=I;ae<de.length;ae+=1){var Se=de[ae];G*=Se.evaluate(D)}return G}],"-":{type:Qr,overloads:[[[Qr,Qr],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)-ae.evaluate(D)}],[[Qr],function(D,I){var G=I[0];return-G.evaluate(D)}]]},"/":[Qr,[Qr,Qr],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)/ae.evaluate(D)}],"%":[Qr,[Qr,Qr],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)%ae.evaluate(D)}],ln2:[Qr,[],function(){return Math.LN2}],pi:[Qr,[],function(){return Math.PI}],e:[Qr,[],function(){return Math.E}],"^":[Qr,[Qr,Qr],function(D,I){var G=I[0],ae=I[1];return Math.pow(G.evaluate(D),ae.evaluate(D))}],sqrt:[Qr,[Qr],function(D,I){var G=I[0];return Math.sqrt(G.evaluate(D))}],log10:[Qr,[Qr],function(D,I){var G=I[0];return Math.log(G.evaluate(D))/Math.LN10}],ln:[Qr,[Qr],function(D,I){var G=I[0];return Math.log(G.evaluate(D))}],log2:[Qr,[Qr],function(D,I){var G=I[0];return Math.log(G.evaluate(D))/Math.LN2}],sin:[Qr,[Qr],function(D,I){var G=I[0];return Math.sin(G.evaluate(D))}],cos:[Qr,[Qr],function(D,I){var G=I[0];return Math.cos(G.evaluate(D))}],tan:[Qr,[Qr],function(D,I){var G=I[0];return Math.tan(G.evaluate(D))}],asin:[Qr,[Qr],function(D,I){var G=I[0];return Math.asin(G.evaluate(D))}],acos:[Qr,[Qr],function(D,I){var G=I[0];return Math.acos(G.evaluate(D))}],atan:[Qr,[Qr],function(D,I){var G=I[0];return Math.atan(G.evaluate(D))}],min:[Qr,Hs(Qr),function(D,I){return Math.min.apply(Math,I.map(function(G){return G.evaluate(D)}))}],max:[Qr,Hs(Qr),function(D,I){return Math.max.apply(Math,I.map(function(G){return G.evaluate(D)}))}],abs:[Qr,[Qr],function(D,I){var G=I[0];return Math.abs(G.evaluate(D))}],round:[Qr,[Qr],function(D,I){var G=I[0],ae=G.evaluate(D);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[Qr,[Qr],function(D,I){var G=I[0];return Math.floor(G.evaluate(D))}],ceil:[Qr,[Qr],function(D,I){var G=I[0];return Math.ceil(G.evaluate(D))}],"filter-==":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1];return D.properties()[G.value]===ae.value}],"filter-id-==":[Rn,[Nn],function(D,I){var G=I[0];return D.id()===G.value}],"filter-type-==":[Rn,[Tn],function(D,I){var G=I[0];return D.geometryType()===G.value}],"filter-<":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1],de=D.properties()[G.value],Se=ae.value;return typeof de==typeof Se&&de<Se}],"filter-id-<":[Rn,[Nn],function(D,I){var G=I[0],ae=D.id(),de=G.value;return typeof ae==typeof de&&ae<de}],"filter->":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1],de=D.properties()[G.value],Se=ae.value;return typeof de==typeof Se&&de>Se}],"filter-id->":[Rn,[Nn],function(D,I){var G=I[0],ae=D.id(),de=G.value;return typeof ae==typeof de&&ae>de}],"filter-<=":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1],de=D.properties()[G.value],Se=ae.value;return typeof de==typeof Se&&de<=Se}],"filter-id-<=":[Rn,[Nn],function(D,I){var G=I[0],ae=D.id(),de=G.value;return typeof ae==typeof de&&ae<=de}],"filter->=":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1],de=D.properties()[G.value],Se=ae.value;return typeof de==typeof Se&&de>=Se}],"filter-id->=":[Rn,[Nn],function(D,I){var G=I[0],ae=D.id(),de=G.value;return typeof ae==typeof de&&ae>=de}],"filter-has":[Rn,[Nn],function(D,I){var G=I[0];return G.value in D.properties()}],"filter-has-id":[Rn,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[Rn,[pi(Tn)],function(D,I){var G=I[0];return G.value.indexOf(D.geometryType())>=0}],"filter-id-in":[Rn,[pi(Nn)],function(D,I){var G=I[0];return G.value.indexOf(D.id())>=0}],"filter-in-small":[Rn,[Tn,pi(Nn)],function(D,I){var G=I[0],ae=I[1];return ae.value.indexOf(D.properties()[G.value])>=0}],"filter-in-large":[Rn,[Tn,pi(Nn)],function(D,I){var G=I[0],ae=I[1];return zc(D.properties()[G.value],ae.value,0,ae.value.length-1)}],all:{type:Rn,overloads:[[[Rn,Rn],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)&&ae.evaluate(D)}],[Hs(Rn),function(D,I){for(var G=0,ae=I;G<ae.length;G+=1){var de=ae[G];if(!de.evaluate(D))return!1}return!0}]]},any:{type:Rn,overloads:[[[Rn,Rn],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)||ae.evaluate(D)}],[Hs(Rn),function(D,I){for(var G=0,ae=I;G<ae.length;G+=1){var de=ae[G];if(de.evaluate(D))return!0}return!1}]]},"!":[Rn,[Rn],function(D,I){var G=I[0];return!G.evaluate(D)}],"is-supported-script":[Rn,[Tn],function(D,I){var G=I[0],ae=D.globals&&D.globals.isSupportedScript;return ae?ae(G.evaluate(D)):!0}],upcase:[Tn,[Tn],function(D,I){var G=I[0];return G.evaluate(D).toUpperCase()}],downcase:[Tn,[Tn],function(D,I){var G=I[0];return G.evaluate(D).toLowerCase()}],concat:[Tn,Hs(Nn),function(D,I){return I.map(function(G){return Hl(G.evaluate(D))}).join("")}],"resolved-locale":[Tn,[oa],function(D,I){var G=I[0];return G.evaluate(D).resolvedLocale()}]});function tu(D){return{result:"success",value:D}}function al(D){return{result:"error",value:D}}function Gs(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function Ru(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function ru(D){return!!D.expression&&D.expression.interpolated}function hi(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function nu(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function yf(D){return D}function Nc(D,I){var G=I.type==="color",ae=D.stops&&typeof D.stops[0][0]=="object",de=ae||D.property!==void 0,Se=ae||!de,De=D.type||(ru(I)?"exponential":"interval");if(G&&(D=kn({},D),D.stops&&(D.stops=D.stops.map(function(qn){return[qn[0],qa.parse(qn[1])]})),D.default?D.default=qa.parse(D.default):D.default=qa.parse(I.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!pf[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var qe,gt,Et;if(De==="exponential")qe=Xf;else if(De==="interval")qe=mf;else if(De==="categorical"){qe=Du,gt=Object.create(null);for(var Rt=0,Wt=D.stops;Rt<Wt.length;Rt+=1){var ar=Wt[Rt];gt[ar[0]]=ar[1]}Et=typeof D.stops[0][0]}else if(De==="identity")qe=Iu;else throw new Error('Unknown function type "'+De+'"');if(ae){for(var er={},xr=[],Or=0;Or<D.stops.length;Or++){var un=D.stops[Or],tn=un[0].zoom;er[tn]===void 0&&(er[tn]={zoom:tn,type:D.type,property:D.property,default:D.default,stops:[]},xr.push(tn)),er[tn].stops.push([un[0].value,un[1]])}for(var En=[],xn=0,Mn=xr;xn<Mn.length;xn+=1){var On=Mn[xn];En.push([er[On].zoom,Nc(er[On],I)])}var Wn={name:"linear"};return{kind:"composite",interpolationType:Wn,interpolationFactor:Fi.interpolationFactor.bind(void 0,Wn),zoomStops:En.map(function(qn){return qn[0]}),evaluate:function(Ta,da){var wa=Ta.zoom;return Xf({stops:En,base:D.base},I,wa).evaluate(wa,da)}}}else if(Se){var ra=De==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:ra,interpolationFactor:Fi.interpolationFactor.bind(void 0,ra),zoomStops:D.stops.map(function(qn){return qn[0]}),evaluate:function(qn){var Ta=qn.zoom;return qe(D,I,Ta,gt,Et)}}}else return{kind:"source",evaluate:function(Ta,da){var wa=da&&da.properties?da.properties[D.property]:void 0;return wa===void 0?au(D.default,I.default):qe(D,I,wa,gt,Et)}}}function au(D,I,G){if(D!==void 0)return D;if(I!==void 0)return I;if(G!==void 0)return G}function Du(D,I,G,ae,de){var Se=typeof G===de?ae[G]:void 0;return au(Se,D.default,I.default)}function mf(D,I,G){if(hi(G)!=="number")return au(D.default,I.default);var ae=D.stops.length;if(ae===1||G<=D.stops[0][0])return D.stops[0][1];if(G>=D.stops[ae-1][0])return D.stops[ae-1][1];var de=Xl(D.stops.map(function(Se){return Se[0]}),G);return D.stops[de][1]}function Xf(D,I,G){var ae=D.base!==void 0?D.base:1;if(hi(G)!=="number")return au(D.default,I.default);var de=D.stops.length;if(de===1||G<=D.stops[0][0])return D.stops[0][1];if(G>=D.stops[de-1][0])return D.stops[de-1][1];var Se=Xl(D.stops.map(function(Wt){return Wt[0]}),G),De=_u(G,ae,D.stops[Se][0],D.stops[Se+1][0]),qe=D.stops[Se][1],gt=D.stops[Se+1][1],Et=ff[I.type]||yf;if(D.colorSpace&&D.colorSpace!=="rgb"){var Rt=pf[D.colorSpace];Et=function(Wt,ar){return Rt.reverse(Rt.interpolate(Rt.forward(Wt),Rt.forward(ar),De))}}return typeof qe.evaluate=="function"?{evaluate:function(){for(var ar=[],er=arguments.length;er--;)ar[er]=arguments[er];var xr=qe.evaluate.apply(void 0,ar),Or=gt.evaluate.apply(void 0,ar);if(!(xr===void 0||Or===void 0))return Et(xr,Or,De)}}:Et(qe,gt,De)}function Iu(D,I,G){return I.type==="color"?G=qa.parse(G):I.type==="formatted"?G=$i.fromString(G.toString()):I.type==="resolvedImage"?G=Eo.fromString(G.toString()):hi(G)!==I.type&&(I.type!=="enum"||!I.values[G])&&(G=void 0),au(G,D.default,I.default)}function _u(D,I,G,ae){var de=ae-G,Se=D-G;return de===0?0:I===1?Se/de:(Math.pow(I,Se)-1)/(Math.pow(I,de)-1)}var il=function(I,G){this.expression=I,this._warningHistory={},this._evaluator=new Ts,this._defaultValue=G?Bc(G):null,this._enumValues=G&&G.type==="enum"?G.values:null};il.prototype.evaluateWithoutErrorHandling=function(I,G,ae,de,Se,De){return this._evaluator.globals=I,this._evaluator.feature=G,this._evaluator.featureState=ae,this._evaluator.canonical=de,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},il.prototype.evaluate=function(I,G,ae,de,Se,De){this._evaluator.globals=I,this._evaluator.feature=G||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=de,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De||null;try{var qe=this.expression.evaluate(this._evaluator);if(qe==null||typeof qe=="number"&&qe!==qe)return this._defaultValue;if(this._enumValues&&!(qe in this._enumValues))throw new Gi("Expected value to be one of "+Object.keys(this._enumValues).map(function(gt){return JSON.stringify(gt)}).join(", ")+", but found "+JSON.stringify(qe)+" instead.");return qe}catch(gt){return this._warningHistory[gt.message]||(this._warningHistory[gt.message]=!0,typeof console<"u"&&console.warn(gt.message)),this._defaultValue}};function ku(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in eu}function ol(D,I){var G=new Ss(eu,[],I?Kh(I):void 0),ae=G.parse(D,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?tu(new il(ae,I)):al(G.errors)}var Wi=function(I,G){this.kind=I,this._styleExpression=G,this.isStateDependent=I!=="constant"&&!wl(G.expression)};Wi.prototype.evaluateWithoutErrorHandling=function(I,G,ae,de,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(I,G,ae,de,Se,De)},Wi.prototype.evaluate=function(I,G,ae,de,Se,De){return this._styleExpression.evaluate(I,G,ae,de,Se,De)};var Ms=function(I,G,ae,de){this.kind=I,this.zoomStops=ae,this._styleExpression=G,this.isStateDependent=I!=="camera"&&!wl(G.expression),this.interpolationType=de};Ms.prototype.evaluateWithoutErrorHandling=function(I,G,ae,de,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(I,G,ae,de,Se,De)},Ms.prototype.evaluate=function(I,G,ae,de,Se,De){return this._styleExpression.evaluate(I,G,ae,de,Se,De)},Ms.prototype.interpolationFactor=function(I,G,ae){return this.interpolationType?Fi.interpolationFactor(this.interpolationType,I,G,ae):0};function Zf(D,I){if(D=ol(D,I),D.result==="error")return D;var G=D.value.expression,ae=Yl(G);if(!ae&&!Gs(I))return al([new Cr("","data expressions not supported")]);var de=Mu(G,["zoom"]);if(!de&&!Ru(I))return al([new Cr("","zoom expressions not supported")]);var Se=Fu(G);if(!Se&&!de)return al([new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Se instanceof Cr)return al([Se]);if(Se instanceof Fi&&!ru(I))return al([new Cr("",'"interpolate" expressions cannot be used with this property')]);if(!Se)return tu(ae?new Wi("constant",D.value):new Wi("source",D.value));var De=Se instanceof Fi?Se.interpolation:void 0;return tu(ae?new Ms("camera",D.value,Se.labels,De):new Ms("composite",D.value,Se.labels,De))}var El=function(I,G){this._parameters=I,this._specification=G,kn(this,Nc(this._parameters,this._specification))};El.deserialize=function(I){return new El(I._parameters,I._specification)},El.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};function xf(D,I){if(nu(D))return new El(D,I);if(ku(D)){var G=Zf(D,I);if(G.result==="error")throw new Error(G.value.map(function(de){return de.key+": "+de.message}).join(", "));return G.value}else{var ae=D;return typeof D=="string"&&I.type==="color"&&(ae=qa.parse(D)),{kind:"constant",evaluate:function(){return ae}}}}function Fu(D){var I=null;if(D instanceof Us)I=Fu(D.result);else if(D instanceof ss)for(var G=0,ae=D.args;G<ae.length;G+=1){var de=ae[G];if(I=Fu(de),I)break}else(D instanceof is||D instanceof Fi)&&D.input instanceof Qi&&D.input.name==="zoom"&&(I=D);return I instanceof Cr||D.eachChild(function(Se){var De=Fu(Se);De instanceof Cr?I=De:!I&&De?I=new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&De&&I!==De&&(I=new Cr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function Kh(D){var I={color:Dn,string:Tn,number:Qr,enum:Tn,boolean:Rn,formatted:ga,resolvedImage:Pa};return D.type==="array"?pi(I[D.value]||Nn,D.length):I[D.type]}function Bc(D){return D.type==="color"&&nu(D.default)?new qa(0,0,0,0):D.type==="color"?qa.parse(D.default)||null:D.default===void 0?null:D.default}function mo(D){var I=D.key,G=D.value,ae=D.valueSpec||{},de=D.objectElementValidators||{},Se=D.style,De=D.styleSpec,qe=[],gt=hi(G);if(gt!=="object")return[new Nr(I,G,"object expected, "+gt+" found")];for(var Et in G){var Rt=Et.split(".")[0],Wt=ae[Rt]||ae["*"],ar=void 0;if(de[Rt])ar=de[Rt];else if(ae[Rt])ar=kr;else if(de["*"])ar=de["*"];else if(ae["*"])ar=kr;else{qe.push(new Nr(I,G[Et],'unknown property "'+Et+'"'));continue}qe=qe.concat(ar({key:(I&&I+".")+Et,value:G[Et],valueSpec:Wt,style:Se,styleSpec:De,object:G,objectKey:Et},G))}for(var er in ae)de[er]||ae[er].required&&ae[er].default===void 0&&G[er]===void 0&&qe.push(new Nr(I,G,'missing required property "'+er+'"'));return qe}function Ou(D){var I=D.value,G=D.valueSpec,ae=D.style,de=D.styleSpec,Se=D.key,De=D.arrayElementValidator||kr;if(hi(I)!=="array")return[new Nr(Se,I,"array expected, "+hi(I)+" found")];if(G.length&&I.length!==G.length)return[new Nr(Se,I,"array length "+G.length+" expected, length "+I.length+" found")];if(G["min-length"]&&I.length<G["min-length"])return[new Nr(Se,I,"array length at least "+G["min-length"]+" expected, length "+I.length+" found")];var qe={type:G.value,values:G.values};de.$version<7&&(qe.function=G.function),hi(G.value)==="object"&&(qe=G.value);for(var gt=[],Et=0;Et<I.length;Et++)gt=gt.concat(De({array:I,arrayIndex:Et,value:I[Et],valueSpec:qe,style:ae,styleSpec:de,key:Se+"["+Et+"]"}));return gt}function iu(D){var I=D.key,G=D.value,ae=D.valueSpec,de=hi(G);return de==="number"&&G!==G&&(de="NaN"),de!=="number"?[new Nr(I,G,"number expected, "+de+" found")]:"minimum"in ae&&G<ae.minimum?[new Nr(I,G,G+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&G>ae.maximum?[new Nr(I,G,G+" is greater than the maximum value "+ae.maximum)]:[]}function Uc(D){var I=D.valueSpec,G=vn(D.value.type),ae,de={},Se,De,qe=G!=="categorical"&&D.value.property===void 0,gt=!qe,Et=hi(D.value.stops)==="array"&&hi(D.value.stops[0])==="array"&&hi(D.value.stops[0][0])==="object",Rt=mo({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:Wt,default:xr}});return G==="identity"&&qe&&Rt.push(new Nr(D.key,D.value,'missing required property "property"')),G!=="identity"&&!D.value.stops&&Rt.push(new Nr(D.key,D.value,'missing required property "stops"')),G==="exponential"&&D.valueSpec.expression&&!ru(D.valueSpec)&&Rt.push(new Nr(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(gt&&!Gs(D.valueSpec)?Rt.push(new Nr(D.key,D.value,"property functions not supported")):qe&&!Ru(D.valueSpec)&&Rt.push(new Nr(D.key,D.value,"zoom functions not supported"))),(G==="categorical"||Et)&&D.value.property===void 0&&Rt.push(new Nr(D.key,D.value,'"property" property is required')),Rt;function Wt(Or){if(G==="identity")return[new Nr(Or.key,Or.value,'identity function may not have a "stops" property')];var un=[],tn=Or.value;return un=un.concat(Ou({key:Or.key,value:tn,valueSpec:Or.valueSpec,style:Or.style,styleSpec:Or.styleSpec,arrayElementValidator:ar})),hi(tn)==="array"&&tn.length===0&&un.push(new Nr(Or.key,tn,"array must have at least one stop")),un}function ar(Or){var un=[],tn=Or.value,En=Or.key;if(hi(tn)!=="array")return[new Nr(En,tn,"array expected, "+hi(tn)+" found")];if(tn.length!==2)return[new Nr(En,tn,"array length 2 expected, length "+tn.length+" found")];if(Et){if(hi(tn[0])!=="object")return[new Nr(En,tn,"object expected, "+hi(tn[0])+" found")];if(tn[0].zoom===void 0)return[new Nr(En,tn,"object stop key must have zoom")];if(tn[0].value===void 0)return[new Nr(En,tn,"object stop key must have value")];if(De&&De>vn(tn[0].zoom))return[new Nr(En,tn[0].zoom,"stop zoom values must appear in ascending order")];vn(tn[0].zoom)!==De&&(De=vn(tn[0].zoom),Se=void 0,de={}),un=un.concat(mo({key:En+"[0]",value:tn[0],valueSpec:{zoom:{}},style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{zoom:iu,value:er}}))}else un=un.concat(er({key:En+"[0]",value:tn[0],valueSpec:{},style:Or.style,styleSpec:Or.styleSpec},tn));return ku(ln(tn[1]))?un.concat([new Nr(En+"[1]",tn[1],"expressions are not allowed in function stops.")]):un.concat(kr({key:En+"[1]",value:tn[1],valueSpec:I,style:Or.style,styleSpec:Or.styleSpec}))}function er(Or,un){var tn=hi(Or.value),En=vn(Or.value),xn=Or.value!==null?Or.value:un;if(!ae)ae=tn;else if(tn!==ae)return[new Nr(Or.key,xn,tn+" stop domain type must match previous stop domain type "+ae)];if(tn!=="number"&&tn!=="string"&&tn!=="boolean")return[new Nr(Or.key,xn,"stop domain value must be a number, string, or boolean")];if(tn!=="number"&&G!=="categorical"){var Mn="number expected, "+tn+" found";return Gs(I)&&G===void 0&&(Mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nr(Or.key,xn,Mn)]}return G==="categorical"&&tn==="number"&&(!isFinite(En)||Math.floor(En)!==En)?[new Nr(Or.key,xn,"integer expected, found "+En)]:G!=="categorical"&&tn==="number"&&Se!==void 0&&En<Se?[new Nr(Or.key,xn,"stop domain values must appear in ascending order")]:(Se=En,G==="categorical"&&En in de?[new Nr(Or.key,xn,"stop domain values must be unique")]:(de[En]=!0,[]))}function xr(Or){return kr({key:Or.key,value:Or.value,valueSpec:I,style:Or.style,styleSpec:Or.styleSpec})}}function sl(D){var I=(D.expressionContext==="property"?Zf:ol)(ln(D.value),D.valueSpec);if(I.result==="error")return I.value.map(function(ae){return new Nr(""+D.key+ae.key,D.value,ae.message)});var G=I.value.expression||I.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!G.outputDefined())return[new Nr(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!wl(G))return[new Nr(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!wl(G))return[new Nr(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!Mu(G,["zoom","feature-state"]))return[new Nr(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!Yl(G))return[new Nr(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Jh(D){var I=D.value,G=D.key,ae=hi(I);return ae!=="boolean"?[new Nr(G,I,"boolean expected, "+ae+" found")]:[]}function Bo(D){var I=D.key,G=D.value,ae=hi(G);return ae!=="string"?[new Nr(I,G,"color expected, "+ae+" found")]:wc(G)===null?[new Nr(I,G,'color expected, "'+G+'" found')]:[]}function zu(D){var I=D.key,G=D.value,ae=D.valueSpec,de=[];return Array.isArray(ae.values)?ae.values.indexOf(vn(G))===-1&&de.push(new Nr(I,G,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(G)+" found")):Object.keys(ae.values).indexOf(vn(G))===-1&&de.push(new Nr(I,G,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(G)+" found")),de}function bf(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var I=0,G=D.slice(1);I<G.length;I+=1){var ae=G[I];if(!bf(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var Ws={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ll(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};bf(D)||(D=Bu(D));var I=ol(D,Ws);if(I.result==="error")throw new Error(I.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var G=Nu(D);return{filter:function(ae,de,Se){return I.value.evaluate(ae,de,{},Se)},needGeometry:G}}function Kf(D,I){return D<I?-1:D>I?1:0}function Nu(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var I=1;I<D.length;I++)if(Nu(D[I]))return!0;return!1}function Bu(D){if(!D)return!0;var I=D[0];if(D.length<=1)return I!=="any";var G=I==="=="?wf(D[1],D[2],"=="):I==="!="?Cl(wf(D[1],D[2],"==")):I==="<"||I===">"||I==="<="||I===">="?wf(D[1],D[2],I):I==="any"?Vc(D.slice(1)):I==="all"?["all"].concat(D.slice(1).map(Bu)):I==="none"?["all"].concat(D.slice(1).map(Bu).map(Cl)):I==="in"?Uu(D[1],D.slice(2)):I==="!in"?Cl(Uu(D[1],D.slice(2))):I==="has"?Jf(D[1]):I==="!has"?Cl(Jf(D[1])):I==="within"?D:!0;return G}function wf(D,I,G){switch(D){case"$type":return["filter-type-"+G,I];case"$id":return["filter-id-"+G,I];default:return["filter-"+G,D,I]}}function Vc(D){return["any"].concat(D.map(Bu))}function Uu(D,I){if(I.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(G){return typeof G!=typeof I[0]})?["filter-in-large",D,["literal",I.sort(Kf)]]:["filter-in-small",D,["literal",I]]}}function Jf(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function Cl(D){return["!",D]}function $f(D){return bf(ln(D.value))?sl(kn({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Vu(D)}function Vu(D){var I=D.value,G=D.key;if(hi(I)!=="array")return[new Nr(G,I,"array expected, "+hi(I)+" found")];var ae=D.styleSpec,de,Se=[];if(I.length<1)return[new Nr(G,I,"filter array must have at least 1 element")];switch(Se=Se.concat(zu({key:G+"[0]",value:I[0],valueSpec:ae.filter_operator,style:D.style,styleSpec:D.styleSpec})),vn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&vn(I[1])==="$type"&&Se.push(new Nr(G,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&Se.push(new Nr(G,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(de=hi(I[1]),de!=="string"&&Se.push(new Nr(G+"[1]",I[1],"string expected, "+de+" found")));for(var De=2;De<I.length;De++)de=hi(I[De]),vn(I[1])==="$type"?Se=Se.concat(zu({key:G+"["+De+"]",value:I[De],valueSpec:ae.geometry_type,style:D.style,styleSpec:D.styleSpec})):de!=="string"&&de!=="number"&&de!=="boolean"&&Se.push(new Nr(G+"["+De+"]",I[De],"string, number, or boolean expected, "+de+" found"));break;case"any":case"all":case"none":for(var qe=1;qe<I.length;qe++)Se=Se.concat(Vu({key:G+"["+qe+"]",value:I[qe],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":de=hi(I[1]),I.length!==2?Se.push(new Nr(G,I,'filter array for "'+I[0]+'" operator must have 2 elements')):de!=="string"&&Se.push(new Nr(G+"[1]",I[1],"string expected, "+de+" found"));break;case"within":de=hi(I[1]),I.length!==2?Se.push(new Nr(G,I,'filter array for "'+I[0]+'" operator must have 2 elements')):de!=="object"&&Se.push(new Nr(G+"[1]",I[1],"object expected, "+de+" found"));break}return Se}function jc(D,I){var G=D.key,ae=D.style,de=D.styleSpec,Se=D.value,De=D.objectKey,qe=de[I+"_"+D.layerType];if(!qe)return[];var gt=De.match(/^(.*)-transition$/);if(I==="paint"&&gt&&qe[gt[1]]&&qe[gt[1]].transition)return kr({key:G,value:Se,valueSpec:de.transition,style:ae,styleSpec:de});var Et=D.valueSpec||qe[De];if(!Et)return[new Nr(G,Se,'unknown property "'+De+'"')];var Rt;if(hi(Se)==="string"&&Gs(Et)&&!Et.tokens&&(Rt=/^{([^}]+)}$/.exec(Se)))return[new Nr(G,Se,'"'+De+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Rt[1])+" }`.")];var Wt=[];return D.layerType==="symbol"&&(De==="text-field"&&ae&&!ae.glyphs&&Wt.push(new Nr(G,Se,'use of "text-field" requires a style "glyphs" property')),De==="text-font"&&nu(ln(Se))&&vn(Se.type)==="identity"&&Wt.push(new Nr(G,Se,'"text-font" does not support identity functions'))),Wt.concat(kr({key:D.key,value:Se,valueSpec:Et,style:ae,styleSpec:de,expressionContext:"property",propertyType:I,propertyKey:De}))}function Qe(D){return jc(D,"paint")}function ot(D){return jc(D,"layout")}function xt(D){var I=[],G=D.value,ae=D.key,de=D.style,Se=D.styleSpec;!G.type&&!G.ref&&I.push(new Nr(ae,G,'either "type" or "ref" is required'));var De=vn(G.type),qe=vn(G.ref);if(G.id)for(var gt=vn(G.id),Et=0;Et<D.arrayIndex;Et++){var Rt=de.layers[Et];vn(Rt.id)===gt&&I.push(new Nr(ae,G.id,'duplicate layer id "'+G.id+'", previously used at line '+Rt.id.__line__))}if("ref"in G){["type","source","source-layer","filter","layout"].forEach(function(xr){xr in G&&I.push(new Nr(ae,G[xr],'"'+xr+'" is prohibited for ref layers'))});var Wt;de.layers.forEach(function(xr){vn(xr.id)===qe&&(Wt=xr)}),Wt?Wt.ref?I.push(new Nr(ae,G.ref,"ref cannot reference another ref layer")):De=vn(Wt.type):I.push(new Nr(ae,G.ref,'ref layer "'+qe+'" not found'))}else if(De!=="background")if(!G.source)I.push(new Nr(ae,G,'missing required property "source"'));else{var ar=de.sources&&de.sources[G.source],er=ar&&vn(ar.type);ar?er==="vector"&&De==="raster"?I.push(new Nr(ae,G.source,'layer "'+G.id+'" requires a raster source')):er==="raster"&&De!=="raster"?I.push(new Nr(ae,G.source,'layer "'+G.id+'" requires a vector source')):er==="vector"&&!G["source-layer"]?I.push(new Nr(ae,G,'layer "'+G.id+'" must specify a "source-layer"')):er==="raster-dem"&&De!=="hillshade"?I.push(new Nr(ae,G.source,"raster-dem source can only be used with layer type 'hillshade'.")):De==="line"&&G.paint&&G.paint["line-gradient"]&&(er!=="geojson"||!ar.lineMetrics)&&I.push(new Nr(ae,G,'layer "'+G.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Nr(ae,G.source,'source "'+G.source+'" not found'))}return I=I.concat(mo({key:ae,value:G,valueSpec:Se.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return kr({key:ae+".type",value:G.type,valueSpec:Se.layer.type,style:D.style,styleSpec:D.styleSpec,object:G,objectKey:"type"})},filter:$f,layout:function(Or){return mo({layer:G,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function(tn){return ot(kn({layerType:De},tn))}}})},paint:function(Or){return mo({layer:G,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function(tn){return Qe(kn({layerType:De},tn))}}})}}})),I}function wt(D){var I=D.value,G=D.key,ae=hi(I);return ae!=="string"?[new Nr(G,I,"string expected, "+ae+" found")]:[]}var Ot={promoteId:Ut};function _t(D){var I=D.value,G=D.key,ae=D.styleSpec,de=D.style;if(!I.type)return[new Nr(G,I,'"type" is required')];var Se=vn(I.type),De;switch(Se){case"vector":case"raster":case"raster-dem":return De=mo({key:G,value:I,valueSpec:ae["source_"+Se.replace("-","_")],style:D.style,styleSpec:ae,objectElementValidators:Ot}),De;case"geojson":if(De=mo({key:G,value:I,valueSpec:ae.source_geojson,style:de,styleSpec:ae,objectElementValidators:Ot}),I.cluster)for(var qe in I.clusterProperties){var gt=I.clusterProperties[qe],Et=gt[0],Rt=gt[1],Wt=typeof Et=="string"?[Et,["accumulated"],["get",qe]]:Et;De.push.apply(De,sl({key:G+"."+qe+".map",value:Rt,expressionContext:"cluster-map"})),De.push.apply(De,sl({key:G+"."+qe+".reduce",value:Wt,expressionContext:"cluster-reduce"}))}return De;case"video":return mo({key:G,value:I,valueSpec:ae.source_video,style:de,styleSpec:ae});case"image":return mo({key:G,value:I,valueSpec:ae.source_image,style:de,styleSpec:ae});case"canvas":return[new Nr(G,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return zu({key:G+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:de,styleSpec:ae})}}function Ut(D){var I=D.key,G=D.value;if(hi(G)==="string")return wt({key:I,value:G});var ae=[];for(var de in G)ae.push.apply(ae,wt({key:I+"."+de,value:G[de]}));return ae}function pr(D){var I=D.value,G=D.styleSpec,ae=G.light,de=D.style,Se=[],De=hi(I);if(I===void 0)return Se;if(De!=="object")return Se=Se.concat([new Nr("light",I,"object expected, "+De+" found")]),Se;for(var qe in I){var gt=qe.match(/^(.*)-transition$/);gt&&ae[gt[1]]&&ae[gt[1]].transition?Se=Se.concat(kr({key:qe,value:I[qe],valueSpec:G.transition,style:de,styleSpec:G})):ae[qe]?Se=Se.concat(kr({key:qe,value:I[qe],valueSpec:ae[qe],style:de,styleSpec:G})):Se=Se.concat([new Nr(qe,I[qe],'unknown property "'+qe+'"')])}return Se}function wr(D){return wt(D).length===0?[]:sl(D)}function ir(D){return wt(D).length===0?[]:sl(D)}var Mr={"*":function(){return[]},array:Ou,boolean:Jh,number:iu,color:Bo,constants:wn,enum:zu,filter:$f,function:Uc,layer:xt,object:mo,source:_t,light:pr,string:wt,formatted:wr,resolvedImage:ir};function kr(D){var I=D.value,G=D.valueSpec,ae=D.styleSpec;if(G.expression&&nu(vn(I)))return Uc(D);if(G.expression&&ku(ln(I)))return sl(D);if(G.type&&Mr[G.type])return Mr[G.type](D);var de=mo(kn({},D,{valueSpec:G.type?ae[G.type]:G}));return de}function Br(D){var I=D.value,G=D.key,ae=wt(D);return ae.length||(I.indexOf("{fontstack}")===-1&&ae.push(new Nr(G,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&ae.push(new Nr(G,I,'"glyphs" url must include a "{range}" token'))),ae}function rn(D,I){I===void 0&&(I=Sr);var G=[];return G=G.concat(kr({key:"",value:D,valueSpec:I.$root,styleSpec:I,style:D,objectElementValidators:{glyphs:Br,"*":function(){return[]}}})),D.constants&&(G=G.concat(wn({key:"constants",value:D.constants,style:D,styleSpec:I}))),bn(G)}rn.source=In(_t),rn.light=In(pr),rn.layer=In(xt),rn.filter=In($f),rn.paintProperty=In(Qe),rn.layoutProperty=In(ot);function bn(D){return[].concat(D).sort(function(I,G){return I.line-G.line})}function In(D){return function(){for(var I=[],G=arguments.length;G--;)I[G]=arguments[G];return bn(D.apply(this,I))}}var _n=rn,Zn=_n.light,Ra=_n.paintProperty,Da=_n.layoutProperty;function Ia(D,I){var G=!1;if(I&&I.length)for(var ae=0,de=I;ae<de.length;ae+=1){var Se=de[ae];D.fire(new Nt(new Error(Se.message))),G=!0}return G}var za=vi,Xa=3;function vi(D,I,G){var ae=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var de=new Int32Array(this.arrayBuffer);D=de[0],I=de[1],G=de[2],this.d=I+2*G;for(var Se=0;Se<this.d*this.d;Se++){var De=de[Xa+Se],qe=de[Xa+Se+1];ae.push(De===qe?null:de.subarray(De,qe))}var gt=de[Xa+ae.length],Et=de[Xa+ae.length+1];this.keys=de.subarray(gt,Et),this.bboxes=de.subarray(Et),this.insert=this._insertReadonly}else{this.d=I+2*G;for(var Rt=0;Rt<this.d*this.d;Rt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=D,this.padding=G,this.scale=I/D,this.uid=0;var Wt=G/I*D;this.min=-Wt,this.max=D+Wt}vi.prototype.insert=function(D,I,G,ae,de){this._forEachCell(I,G,ae,de,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(I),this.bboxes.push(G),this.bboxes.push(ae),this.bboxes.push(de)},vi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},vi.prototype._insertCell=function(D,I,G,ae,de,Se){this.cells[de].push(Se)},vi.prototype.query=function(D,I,G,ae,de){var Se=this.min,De=this.max;if(D<=Se&&I<=Se&&De<=G&&De<=ae&&!de)return Array.prototype.slice.call(this.keys);var qe=[],gt={};return this._forEachCell(D,I,G,ae,this._queryCell,qe,gt,de),qe},vi.prototype._queryCell=function(D,I,G,ae,de,Se,De,qe){var gt=this.cells[de];if(gt!==null)for(var Et=this.keys,Rt=this.bboxes,Wt=0;Wt<gt.length;Wt++){var ar=gt[Wt];if(De[ar]===void 0){var er=ar*4;(qe?qe(Rt[er+0],Rt[er+1],Rt[er+2],Rt[er+3]):D<=Rt[er+2]&&I<=Rt[er+3]&&G>=Rt[er+0]&&ae>=Rt[er+1])?(De[ar]=!0,Se.push(Et[ar])):De[ar]=!1}}},vi.prototype._forEachCell=function(D,I,G,ae,de,Se,De,qe){for(var gt=this._convertToCellCoord(D),Et=this._convertToCellCoord(I),Rt=this._convertToCellCoord(G),Wt=this._convertToCellCoord(ae),ar=gt;ar<=Rt;ar++)for(var er=Et;er<=Wt;er++){var xr=this.d*er+ar;if(!(qe&&!qe(this._convertFromCellCoord(ar),this._convertFromCellCoord(er),this._convertFromCellCoord(ar+1),this._convertFromCellCoord(er+1)))&&de.call(this,D,I,G,ae,xr,Se,De,qe))return}},vi.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},vi.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},vi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,I=Xa+this.cells.length+1+1,G=0,ae=0;ae<this.cells.length;ae++)G+=this.cells[ae].length;var de=new Int32Array(I+G+this.keys.length+this.bboxes.length);de[0]=this.extent,de[1]=this.n,de[2]=this.padding;for(var Se=I,De=0;De<D.length;De++){var qe=D[De];de[Xa+De]=Se,de.set(qe,Se),Se+=qe.length}return de[Xa+D.length]=Se,de.set(this.keys,Se),Se+=this.keys.length,de[Xa+D.length+1]=Se,de.set(this.bboxes,Se),Se+=this.bboxes.length,de.buffer};var Oi=i.ImageData,ce=i.ImageBitmap,Pe={};function Ne(D,I,G){G===void 0&&(G={}),Object.defineProperty(I,"_classRegistryKey",{value:D,writeable:!1}),Pe[D]={klass:I,omit:G.omit||[],shallow:G.shallow||[]}}Ne("Object",Object),za.serialize=function(I,G){var ae=I.toArrayBuffer();return G&&G.push(ae),{buffer:ae}},za.deserialize=function(I){return new za(I.buffer)},Ne("Grid",za),Ne("Color",qa),Ne("Error",Error),Ne("ResolvedImage",Eo),Ne("StylePropertyFunction",El),Ne("StyleExpression",il,{omit:["_evaluator"]}),Ne("ZoomDependentExpression",Ms),Ne("ZoomConstantExpression",Wi),Ne("CompoundExpression",Qi,{omit:["_evaluate"]});for(var et in eu)eu[et]._classRegistryKey||Ne("Expression_"+et,eu[et]);function it(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function ct(D){return ce&&D instanceof ce}function Pt(D,I){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(it(D)||ct(D))return I&&I.push(D),D;if(ArrayBuffer.isView(D)){var G=D;return I&&I.push(G.buffer),G}if(D instanceof Oi)return I&&I.push(D.data.buffer),D;if(Array.isArray(D)){for(var ae=[],de=0,Se=D;de<Se.length;de+=1){var De=Se[de];ae.push(Pt(De,I))}return ae}if(typeof D=="object"){var qe=D.constructor,gt=qe._classRegistryKey;if(!gt)throw new Error("can't serialize object of unregistered class");var Et=qe.serialize?qe.serialize(D,I):{};if(!qe.serialize){for(var Rt in D)if(D.hasOwnProperty(Rt)&&!(Pe[gt].omit.indexOf(Rt)>=0)){var Wt=D[Rt];Et[Rt]=Pe[gt].shallow.indexOf(Rt)>=0?Wt:Pt(Wt,I)}D instanceof Error&&(Et.message=D.message)}if(Et.$name)throw new Error("$name property is reserved for worker serialization logic.");return gt!=="Object"&&(Et.$name=gt),Et}throw new Error("can't serialize object of type "+typeof D)}function Mt(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||it(D)||ct(D)||ArrayBuffer.isView(D)||D instanceof Oi)return D;if(Array.isArray(D))return D.map(Mt);if(typeof D=="object"){var I=D.$name||"Object",G=Pe[I],ae=G.klass;if(!ae)throw new Error("can't deserialize unregistered class "+I);if(ae.deserialize)return ae.deserialize(D);for(var de=Object.create(ae.prototype),Se=0,De=Object.keys(D);Se<De.length;Se+=1){var qe=De[Se];if(qe!=="$name"){var gt=D[qe];de[qe]=Pe[I].shallow.indexOf(qe)>=0?gt:Mt(gt)}}return de}throw new Error("can't deserialize object of type "+typeof D)}var Ht=function(){this.first=!0};Ht.prototype.update=function(I,G){var ae=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=G):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=G),I!==this.lastZoom?(this.lastZoom=I,this.lastFloorZoom=ae,!0):!1)};var Gt={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function rr(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(sn(ae.charCodeAt(0)))return!0}return!1}function Lr(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(!Rr(ae.charCodeAt(0)))return!1}return!0}function Rr(D){return!(Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D))}function $r(D){return D<11904?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)||Gt["Vertical Forms"](D)||Gt["Yi Radicals"](D)||Gt["Yi Syllables"](D))}function sn(D){return D===746||D===747?!0:D<4352?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Hangul Compatibility Jamo"](D)||Gt["Hangul Jamo Extended-A"](D)||Gt["Hangul Jamo Extended-B"](D)||Gt["Hangul Jamo"](D)||Gt["Hangul Syllables"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt.Kanbun(D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)&&D!==12540||Gt["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||Gt["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](D)||Gt["Unified Canadian Aboriginal Syllabics Extended"](D)||Gt["Vertical Forms"](D)||Gt["Yijing Hexagram Symbols"](D)||Gt["Yi Syllables"](D)||Gt["Yi Radicals"](D))}function Ir(D){return!!(Gt["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Gt["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Gt["Letterlike Symbols"](D)||Gt["Number Forms"](D)||Gt["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Gt["Control Pictures"](D)&&D!==9251||Gt["Optical Character Recognition"](D)||Gt["Enclosed Alphanumerics"](D)||Gt["Geometric Shapes"](D)||Gt["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Gt["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Gt["CJK Symbols and Punctuation"](D)||Gt.Katakana(D)||Gt["Private Use Area"](D)||Gt["CJK Compatibility Forms"](D)||Gt["Small Form Variants"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function Ur(D){return!(sn(D)||Ir(D))}function Kr(D){return Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function fn(D){return D>=1424&&D<=2303||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function dn(D,I){return!(!I&&fn(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Gt.Khmer(D))}function en(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(fn(ae.charCodeAt(0)))return!0}return!1}function jn(D,I){for(var G=0,ae=D;G<ae.length;G+=1){var de=ae[G];if(!dn(de.charCodeAt(0),I))return!1}return!0}var ea={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},fa=null,Qn=ea.unavailable,ia=null,ca=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(Qn=ea.error),fa&&fa(D)};function Ba(){Ea.fire(new nr("pluginStateChange",{pluginStatus:Qn,pluginURL:ia}))}var Ea=new hr,Fa=function(){return Qn},ni=function(D){return D({pluginStatus:Qn,pluginURL:ia}),Ea.on("pluginStateChange",D),D},Bi=function(D,I,G){if(G===void 0&&(G=!1),Qn===ea.deferred||Qn===ea.loading||Qn===ea.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ia=le.resolveURL(D),Qn=ea.deferred,fa=I,Ba(),G||ui()},ui=function(){if(Qn!==ea.deferred||!ia)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qn=ea.loading,Ba(),ia&&Vt({url:ia},function(D){D?ca(D):(Qn=ea.loaded,Ba())})},Jn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Qn===ea.loaded||Jn.applyArabicShaping!=null},isLoading:function(){return Qn===ea.loading},setState:function(I){Qn=I.pluginStatus,ia=I.pluginURL},isParsed:function(){return Jn.applyArabicShaping!=null&&Jn.processBidirectionalText!=null&&Jn.processStyledBidirectionalText!=null},getPluginURL:function(){return ia}},Va=function(){!Jn.isLoading()&&!Jn.isLoaded()&&Fa()==="deferred"&&ui()},Sa=function(I,G){this.zoom=I,G?(this.now=G.now,this.fadeDuration=G.fadeDuration,this.zoomHistory=G.zoomHistory,this.transition=G.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ht,this.transition={})};Sa.prototype.isSupportedScript=function(I){return jn(I,Jn.isLoaded())},Sa.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Sa.prototype.getCrossfadeParameters=function(){var I=this.zoom,G=I-Math.floor(I),ae=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:G+(1-G)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*G}};var Za=function(I,G){this.property=I,this.value=G,this.expression=xf(G===void 0?I.specification.default:G,I.specification)};Za.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Za.prototype.possiblyEvaluate=function(I,G,ae){return this.property.possiblyEvaluate(this,I,G,ae)};var bi=function(I){this.property=I,this.value=new Za(I,void 0)};bi.prototype.transitioned=function(I,G){return new eo(this.property,this.value,G,T({},I.transition,this.transition),I.now)},bi.prototype.untransitioned=function(){return new eo(this.property,this.value,null,{},0)};var ai=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};ai.prototype.getValue=function(I){return U(this._values[I].value.value)},ai.prototype.setValue=function(I,G){this._values.hasOwnProperty(I)||(this._values[I]=new bi(this._values[I].property)),this._values[I].value=new Za(this._values[I].property,G===null?void 0:U(G))},ai.prototype.getTransition=function(I){return U(this._values[I].transition)},ai.prototype.setTransition=function(I,G){this._values.hasOwnProperty(I)||(this._values[I]=new bi(this._values[I].property)),this._values[I].transition=U(G)||void 0},ai.prototype.serialize=function(){for(var I={},G=0,ae=Object.keys(this._values);G<ae.length;G+=1){var de=ae[G],Se=this.getValue(de);Se!==void 0&&(I[de]=Se);var De=this.getTransition(de);De!==void 0&&(I[de+"-transition"]=De)}return I},ai.prototype.transitioned=function(I,G){for(var ae=new to(this._properties),de=0,Se=Object.keys(this._values);de<Se.length;de+=1){var De=Se[de];ae._values[De]=this._values[De].transitioned(I,G._values[De])}return ae},ai.prototype.untransitioned=function(){for(var I=new to(this._properties),G=0,ae=Object.keys(this._values);G<ae.length;G+=1){var de=ae[G];I._values[de]=this._values[de].untransitioned()}return I};var eo=function(I,G,ae,de,Se){this.property=I,this.value=G,this.begin=Se+de.delay||0,this.end=this.begin+de.duration||0,I.specification.transition&&(de.delay||de.duration)&&(this.prior=ae)};eo.prototype.possiblyEvaluate=function(I,G,ae){var de=I.now||0,Se=this.value.possiblyEvaluate(I,G,ae),De=this.prior;if(De){if(de>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(de<this.begin)return De.possiblyEvaluate(I,G,ae);var qe=(de-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(I,G,ae),Se,f(qe))}else return Se};var to=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};to.prototype.possiblyEvaluate=function(I,G,ae){for(var de=new xo(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var qe=De[Se];de._values[qe]=this._values[qe].possiblyEvaluate(I,G,ae)}return de},to.prototype.hasTransition=function(){for(var I=0,G=Object.keys(this._values);I<G.length;I+=1){var ae=G[I];if(this._values[ae].prior)return!0}return!1};var oo=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};oo.prototype.getValue=function(I){return U(this._values[I].value)},oo.prototype.setValue=function(I,G){this._values[I]=new Za(this._values[I].property,G===null?void 0:U(G))},oo.prototype.serialize=function(){for(var I={},G=0,ae=Object.keys(this._values);G<ae.length;G+=1){var de=ae[G],Se=this.getValue(de);Se!==void 0&&(I[de]=Se)}return I},oo.prototype.possiblyEvaluate=function(I,G,ae){for(var de=new xo(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var qe=De[Se];de._values[qe]=this._values[qe].possiblyEvaluate(I,G,ae)}return de};var wi=function(I,G,ae){this.property=I,this.value=G,this.parameters=ae};wi.prototype.isConstant=function(){return this.value.kind==="constant"},wi.prototype.constantOr=function(I){return this.value.kind==="constant"?this.value.value:I},wi.prototype.evaluate=function(I,G,ae,de){return this.property.evaluate(this.value,this.parameters,I,G,ae,de)};var xo=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};xo.prototype.get=function(I){return this._values[I]};var sa=function(I){this.specification=I};sa.prototype.possiblyEvaluate=function(I,G){return I.expression.evaluate(G)},sa.prototype.interpolate=function(I,G,ae){var de=ff[this.specification.type];return de?de(I,G,ae):I};var La=function(I,G){this.specification=I,this.overrides=G};La.prototype.possiblyEvaluate=function(I,G,ae,de){return I.expression.kind==="constant"||I.expression.kind==="camera"?new wi(this,{kind:"constant",value:I.expression.evaluate(G,null,{},ae,de)},G):new wi(this,I.expression,G)},La.prototype.interpolate=function(I,G,ae){if(I.value.kind!=="constant"||G.value.kind!=="constant")return I;if(I.value.value===void 0||G.value.value===void 0)return new wi(this,{kind:"constant",value:void 0},I.parameters);var de=ff[this.specification.type];return de?new wi(this,{kind:"constant",value:de(I.value.value,G.value.value,ae)},I.parameters):I},La.prototype.evaluate=function(I,G,ae,de,Se,De){return I.kind==="constant"?I.value:I.evaluate(G,ae,de,Se,De)};var Uo=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ae,de,Se,De){if(ae.value===void 0)return new wi(this,{kind:"constant",value:void 0},de);if(ae.expression.kind==="constant"){var qe=ae.expression.evaluate(de,null,{},Se,De),gt=ae.property.specification.type==="resolvedImage",Et=gt&&typeof qe!="string"?qe.name:qe,Rt=this._calculate(Et,Et,Et,de);return new wi(this,{kind:"constant",value:Rt},de)}else if(ae.expression.kind==="camera"){var Wt=this._calculate(ae.expression.evaluate({zoom:de.zoom-1}),ae.expression.evaluate({zoom:de.zoom}),ae.expression.evaluate({zoom:de.zoom+1}),de);return new wi(this,{kind:"constant",value:Wt},de)}else return new wi(this,ae.expression,de)},I.prototype.evaluate=function(ae,de,Se,De,qe,gt){if(ae.kind==="source"){var Et=ae.evaluate(de,Se,De,qe,gt);return this._calculate(Et,Et,Et,de)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(de.zoom)-1},Se,De),ae.evaluate({zoom:Math.floor(de.zoom)},Se,De),ae.evaluate({zoom:Math.floor(de.zoom)+1},Se,De),de):ae.value},I.prototype._calculate=function(ae,de,Se,De){var qe=De.zoom;return qe>De.zoomHistory.lastIntegerZoom?{from:ae,to:de}:{from:Se,to:de}},I.prototype.interpolate=function(ae){return ae},I}(La),Yo=function(I){this.specification=I};Yo.prototype.possiblyEvaluate=function(I,G,ae,de){if(I.value!==void 0)if(I.expression.kind==="constant"){var Se=I.expression.evaluate(G,null,{},ae,de);return this._calculate(Se,Se,Se,G)}else return this._calculate(I.expression.evaluate(new Sa(Math.floor(G.zoom-1),G)),I.expression.evaluate(new Sa(Math.floor(G.zoom),G)),I.expression.evaluate(new Sa(Math.floor(G.zoom+1),G)),G)},Yo.prototype._calculate=function(I,G,ae,de){var Se=de.zoom;return Se>de.zoomHistory.lastIntegerZoom?{from:I,to:G}:{from:ae,to:G}},Yo.prototype.interpolate=function(I){return I};var so=function(I){this.specification=I};so.prototype.possiblyEvaluate=function(I,G,ae,de){return!!I.expression.evaluate(G,null,{},ae,de)},so.prototype.interpolate=function(){return!1};var ci=function(I){this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var G in I){var ae=I[G];ae.specification.overridable&&this.overridableProperties.push(G);var de=this.defaultPropertyValues[G]=new Za(ae,void 0),Se=this.defaultTransitionablePropertyValues[G]=new bi(ae);this.defaultTransitioningPropertyValues[G]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[G]=de.possiblyEvaluate({})}};Ne("DataDrivenProperty",La),Ne("DataConstantProperty",sa),Ne("CrossFadedDataDrivenProperty",Uo),Ne("CrossFadedProperty",Yo),Ne("ColorRampProperty",so);var Yi="-transition",Ui=function(D){function I(G,ae){if(D.call(this),this.id=G.id,this.type=G.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},G.type!=="custom"&&(G=G,this.metadata=G.metadata,this.minzoom=G.minzoom,this.maxzoom=G.maxzoom,G.type!=="background"&&(this.source=G.source,this.sourceLayer=G["source-layer"],this.filter=G.filter),ae.layout&&(this._unevaluatedLayout=new oo(ae.layout)),ae.paint)){this._transitionablePaint=new ai(ae.paint);for(var de in G.paint)this.setPaintProperty(de,G.paint[de],{validate:!1});for(var Se in G.layout)this.setLayoutProperty(Se,G.layout[Se],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new xo(ae.paint)}}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},I.prototype.setLayoutProperty=function(ae,de,Se){if(Se===void 0&&(Se={}),de!=null){var De="layers."+this.id+".layout."+ae;if(this._validate(Da,De,ae,de,Se))return}if(ae==="visibility"){this.visibility=de;return}this._unevaluatedLayout.setValue(ae,de)},I.prototype.getPaintProperty=function(ae){return A(ae,Yi)?this._transitionablePaint.getTransition(ae.slice(0,-Yi.length)):this._transitionablePaint.getValue(ae)},I.prototype.setPaintProperty=function(ae,de,Se){if(Se===void 0&&(Se={}),de!=null){var De="layers."+this.id+".paint."+ae;if(this._validate(Ra,De,ae,de,Se))return!1}if(A(ae,Yi))return this._transitionablePaint.setTransition(ae.slice(0,-Yi.length),de||void 0),!1;var qe=this._transitionablePaint._values[ae],gt=qe.property.specification["property-type"]==="cross-faded-data-driven",Et=qe.value.isDataDriven(),Rt=qe.value;this._transitionablePaint.setValue(ae,de),this._handleSpecialPaintPropertyUpdate(ae);var Wt=this._transitionablePaint._values[ae].value,ar=Wt.isDataDriven();return ar||Et||gt||this._handleOverridablePaintPropertyUpdate(ae,Rt,Wt)},I.prototype._handleSpecialPaintPropertyUpdate=function(ae){},I.prototype._handleOverridablePaintPropertyUpdate=function(ae,de,Se){return!1},I.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},I.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(ae,de){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,de)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,de)},I.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),_(ae,function(de,Se){return de!==void 0&&!(Se==="layout"&&!Object.keys(de).length)&&!(Se==="paint"&&!Object.keys(de).length)})},I.prototype._validate=function(ae,de,Se,De,qe){return qe===void 0&&(qe={}),qe&&qe.validate===!1?!1:Ia(this,ae.call(_n,{key:de,layerType:this.type,objectKey:Se,value:De,styleSpec:Sr,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var ae in this.paint._values){var de=this.paint.get(ae);if(!(!(de instanceof wi)||!Gs(de.property.specification))&&(de.value.kind==="source"||de.value.kind==="composite")&&de.value.isStateDependent)return!0}return!1},I}(hr),Es={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ys=function(I,G){this._structArray=I,this._pos1=G*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ci=128,ou=5,Ka=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ka.serialize=function(I,G){return I._trim(),G&&(I.isTransferred=!0,G.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},Ka.deserialize=function(I){var G=Object.create(this.prototype);return G.arrayBuffer=I.arrayBuffer,G.length=I.length,G.capacity=I.arrayBuffer.byteLength/G.bytesPerElement,G._refreshViews(),G},Ka.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ka.prototype.clear=function(){this.length=0},Ka.prototype.resize=function(I){this.reserve(I),this.length=I},Ka.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(this.capacity*ou),Ci),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var G=this.uint8;this._refreshViews(),G&&this.uint8.set(G)}},Ka.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Li(D,I){I===void 0&&(I=1);var G=0,ae=0,de=D.map(function(De){var qe=$h(De.type),gt=G=v0(G,Math.max(I,qe)),Et=De.components||1;return ae=Math.max(ae,qe),G+=qe*Et,{name:De.name,type:De.type,components:Et,offset:gt}}),Se=v0(G,Math.max(ae,I));return{members:de,size:Se,alignment:I}}function $h(D){return Es[D].BYTES_PER_ELEMENT}function v0(D,I){return Math.ceil(D/I)*I}var Qf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,de)},I.prototype.emplace=function(ae,de,Se){var De=ae*2;return this.int16[De+0]=de,this.int16[De+1]=Se,ae},I}(Ka);Qf.prototype.bytesPerElement=4,Ne("StructArrayLayout2i4",Qf);var zd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ae,de,Se,De)},I.prototype.emplace=function(ae,de,Se,De,qe){var gt=ae*4;return this.int16[gt+0]=de,this.int16[gt+1]=Se,this.int16[gt+2]=De,this.int16[gt+3]=qe,ae},I}(Ka);zd.prototype.bytesPerElement=8,Ne("StructArrayLayout4i8",zd);var Tf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,de,Se,De,qe,gt)},I.prototype.emplace=function(ae,de,Se,De,qe,gt,Et){var Rt=ae*6;return this.int16[Rt+0]=de,this.int16[Rt+1]=Se,this.int16[Rt+2]=De,this.int16[Rt+3]=qe,this.int16[Rt+4]=gt,this.int16[Rt+5]=Et,ae},I}(Ka);Tf.prototype.bytesPerElement=12,Ne("StructArrayLayout2i4i12",Tf);var Hc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,de,Se,De,qe,gt)},I.prototype.emplace=function(ae,de,Se,De,qe,gt,Et){var Rt=ae*4,Wt=ae*8;return this.int16[Rt+0]=de,this.int16[Rt+1]=Se,this.uint8[Wt+4]=De,this.uint8[Wt+5]=qe,this.uint8[Wt+6]=gt,this.uint8[Wt+7]=Et,ae},I}(Ka);Hc.prototype.bytesPerElement=8,Ne("StructArrayLayout2i4ub8",Hc);var Gc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,de)},I.prototype.emplace=function(ae,de,Se){var De=ae*2;return this.float32[De+0]=de,this.float32[De+1]=Se,ae},I}(Ka);Gc.prototype.bytesPerElement=8,Ne("StructArrayLayout2f8",Gc);var cs=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar){var er=this.length;return this.resize(er+1),this.emplace(er,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar)},I.prototype.emplace=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er){var xr=ae*10;return this.uint16[xr+0]=de,this.uint16[xr+1]=Se,this.uint16[xr+2]=De,this.uint16[xr+3]=qe,this.uint16[xr+4]=gt,this.uint16[xr+5]=Et,this.uint16[xr+6]=Rt,this.uint16[xr+7]=Wt,this.uint16[xr+8]=ar,this.uint16[xr+9]=er,ae},I}(Ka);cs.prototype.bytesPerElement=20,Ne("StructArrayLayout10ui20",cs);var Af=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr){var Or=this.length;return this.resize(Or+1),this.emplace(Or,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr)},I.prototype.emplace=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or){var un=ae*12;return this.int16[un+0]=de,this.int16[un+1]=Se,this.int16[un+2]=De,this.int16[un+3]=qe,this.uint16[un+4]=gt,this.uint16[un+5]=Et,this.uint16[un+6]=Rt,this.uint16[un+7]=Wt,this.int16[un+8]=ar,this.int16[un+9]=er,this.int16[un+10]=xr,this.int16[un+11]=Or,ae},I}(Ka);Af.prototype.bytesPerElement=24,Ne("StructArrayLayout4i4ui4i24",Af);var Nd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ae,de,Se)},I.prototype.emplace=function(ae,de,Se,De){var qe=ae*3;return this.float32[qe+0]=de,this.float32[qe+1]=Se,this.float32[qe+2]=De,ae},I}(Ka);Nd.prototype.bytesPerElement=12,Ne("StructArrayLayout3f12",Nd);var Bd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},I.prototype.emplace=function(ae,de){var Se=ae*1;return this.uint32[Se+0]=de,ae},I}(Ka);Bd.prototype.bytesPerElement=4,Ne("StructArrayLayout1ul4",Bd);var Qh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe,gt,Et,Rt,Wt){var ar=this.length;return this.resize(ar+1),this.emplace(ar,ae,de,Se,De,qe,gt,Et,Rt,Wt)},I.prototype.emplace=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar){var er=ae*10,xr=ae*5;return this.int16[er+0]=de,this.int16[er+1]=Se,this.int16[er+2]=De,this.int16[er+3]=qe,this.int16[er+4]=gt,this.int16[er+5]=Et,this.uint32[xr+3]=Rt,this.uint16[er+8]=Wt,this.uint16[er+9]=ar,ae},I}(Ka);Qh.prototype.bytesPerElement=20,Ne("StructArrayLayout6i1ul2ui20",Qh);var Lv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,de,Se,De,qe,gt)},I.prototype.emplace=function(ae,de,Se,De,qe,gt,Et){var Rt=ae*6;return this.int16[Rt+0]=de,this.int16[Rt+1]=Se,this.int16[Rt+2]=De,this.int16[Rt+3]=qe,this.int16[Rt+4]=gt,this.int16[Rt+5]=Et,ae},I}(Ka);Lv.prototype.bytesPerElement=12,Ne("StructArrayLayout2i2i2i12",Lv);var ju=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe){var gt=this.length;return this.resize(gt+1),this.emplace(gt,ae,de,Se,De,qe)},I.prototype.emplace=function(ae,de,Se,De,qe,gt){var Et=ae*4,Rt=ae*8;return this.float32[Et+0]=de,this.float32[Et+1]=Se,this.float32[Et+2]=De,this.int16[Rt+6]=qe,this.int16[Rt+7]=gt,ae},I}(Ka);ju.prototype.bytesPerElement=16,Ne("StructArrayLayout2f1f2i16",ju);var Cs=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ae,de,Se,De)},I.prototype.emplace=function(ae,de,Se,De,qe){var gt=ae*12,Et=ae*3;return this.uint8[gt+0]=de,this.uint8[gt+1]=Se,this.float32[Et+1]=De,this.float32[Et+2]=qe,ae},I}(Ka);Cs.prototype.bytesPerElement=12,Ne("StructArrayLayout2ub2f12",Cs);var Hu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ae,de,Se)},I.prototype.emplace=function(ae,de,Se,De){var qe=ae*3;return this.uint16[qe+0]=de,this.uint16[qe+1]=Se,this.uint16[qe+2]=De,ae},I}(Ka);Hu.prototype.bytesPerElement=6,Ne("StructArrayLayout3ui6",Hu);var qh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn)},I.prototype.emplace=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn){var On=ae*24,Wn=ae*12,ra=ae*48;return this.int16[On+0]=de,this.int16[On+1]=Se,this.uint16[On+2]=De,this.uint16[On+3]=qe,this.uint32[Wn+2]=gt,this.uint32[Wn+3]=Et,this.uint32[Wn+4]=Rt,this.uint16[On+10]=Wt,this.uint16[On+11]=ar,this.uint16[On+12]=er,this.float32[Wn+7]=xr,this.float32[Wn+8]=Or,this.uint8[ra+36]=un,this.uint8[ra+37]=tn,this.uint8[ra+38]=En,this.uint32[Wn+10]=xn,this.int16[On+22]=Mn,ae},I}(Ka);qh.prototype.bytesPerElement=48,Ne("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",qh);var Pv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn,On,Wn,ra,qn,Ta,da,wa,Ua,Aa,Ca){var Ga=this.length;return this.resize(Ga+1),this.emplace(Ga,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn,On,Wn,ra,qn,Ta,da,wa,Ua,Aa,Ca)},I.prototype.emplace=function(ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn,On,Wn,ra,qn,Ta,da,wa,Ua,Aa,Ca,Ga){var Na=ae*34,oi=ae*17;return this.int16[Na+0]=de,this.int16[Na+1]=Se,this.int16[Na+2]=De,this.int16[Na+3]=qe,this.int16[Na+4]=gt,this.int16[Na+5]=Et,this.int16[Na+6]=Rt,this.int16[Na+7]=Wt,this.uint16[Na+8]=ar,this.uint16[Na+9]=er,this.uint16[Na+10]=xr,this.uint16[Na+11]=Or,this.uint16[Na+12]=un,this.uint16[Na+13]=tn,this.uint16[Na+14]=En,this.uint16[Na+15]=xn,this.uint16[Na+16]=Mn,this.uint16[Na+17]=On,this.uint16[Na+18]=Wn,this.uint16[Na+19]=ra,this.uint16[Na+20]=qn,this.uint16[Na+21]=Ta,this.uint16[Na+22]=da,this.uint32[oi+12]=wa,this.float32[oi+13]=Ua,this.float32[oi+14]=Aa,this.float32[oi+15]=Ca,this.float32[oi+16]=Ga,ae},I}(Ka);Pv.prototype.bytesPerElement=68,Ne("StructArrayLayout8i15ui1ul4f68",Pv);var Wc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},I.prototype.emplace=function(ae,de){var Se=ae*1;return this.float32[Se+0]=de,ae},I}(Ka);Wc.prototype.bytesPerElement=4,Ne("StructArrayLayout1f4",Wc);var Ud=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ae,de,Se)},I.prototype.emplace=function(ae,de,Se,De){var qe=ae*3;return this.int16[qe+0]=de,this.int16[qe+1]=Se,this.int16[qe+2]=De,ae},I}(Ka);Ud.prototype.bytesPerElement=6,Ne("StructArrayLayout3i6",Ud);var Sf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ae,de,Se)},I.prototype.emplace=function(ae,de,Se,De){var qe=ae*2,gt=ae*4;return this.uint32[qe+0]=de,this.uint16[gt+2]=Se,this.uint16[gt+3]=De,ae},I}(Ka);Sf.prototype.bytesPerElement=8,Ne("StructArrayLayout1ul2ui8",Sf);var ev=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,de)},I.prototype.emplace=function(ae,de,Se){var De=ae*2;return this.uint16[De+0]=de,this.uint16[De+1]=Se,ae},I}(Ka);ev.prototype.bytesPerElement=4,Ne("StructArrayLayout2ui4",ev);var Yc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},I.prototype.emplace=function(ae,de){var Se=ae*1;return this.uint16[Se+0]=de,ae},I}(Ka);Yc.prototype.bytesPerElement=2,Ne("StructArrayLayout1ui2",Yc);var qf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Se,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ae,de,Se,De)},I.prototype.emplace=function(ae,de,Se,De,qe){var gt=ae*4;return this.float32[gt+0]=de,this.float32[gt+1]=Se,this.float32[gt+2]=De,this.float32[gt+3]=qe,ae},I}(Ka);qf.prototype.bytesPerElement=16,Ne("StructArrayLayout4f16",qf);var d0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var G={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return G.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},G.x1.get=function(){return this._structArray.int16[this._pos2+2]},G.y1.get=function(){return this._structArray.int16[this._pos2+3]},G.x2.get=function(){return this._structArray.int16[this._pos2+4]},G.y2.get=function(){return this._structArray.int16[this._pos2+5]},G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,G),I}(Ys);d0.prototype.size=20;var Vd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new d0(this,ae)},I}(Qh);Ne("CollisionBoxArray",Vd);var ec=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},G.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},G.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},G.segment.get=function(){return this._structArray.uint16[this._pos2+10]},G.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},G.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},G.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},G.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},G.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},G.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},G.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},G.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},G.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},G.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},G.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,G),I}(Ys);ec.prototype.size=48;var jd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new ec(this,ae)},I}(qh);Ne("PlacedSymbolArray",jd);var Xc=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},G.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},G.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},G.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},G.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},G.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},G.key.get=function(){return this._structArray.uint16[this._pos2+8]},G.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},G.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},G.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},G.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},G.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},G.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},G.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},G.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},G.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},G.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},G.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},G.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},G.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},G.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},G.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},G.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},G.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},G.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,G),I}(Ys);Xc.prototype.size=68;var p0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new Xc(this,ae)},I}(Pv);Ne("SymbolInstanceArray",p0);var g0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},I}(Wc);Ne("GlyphOffsetArray",g0);var Ll=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getx=function(ae){return this.int16[ae*3+0]},I.prototype.gety=function(ae){return this.int16[ae*3+1]},I.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},I}(Ud);Ne("SymbolLineVertexArray",Ll);var y0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var G={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,G),I}(Ys);y0.prototype.size=8;var m0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new y0(this,ae)},I}(Sf);Ne("FeatureIndexArray",m0);var hm=Li([{name:"a_pos",components:2,type:"Int16"}],4),x0=hm.members,lo=function(I){I===void 0&&(I=[]),this.segments=I};lo.prototype.prepareSegment=function(I,G,ae,de){var Se=this.segments[this.segments.length-1];return I>lo.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+lo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!Se||Se.vertexLength+I>lo.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==de)&&(Se={vertexOffset:G.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},de!==void 0&&(Se.sortKey=de),this.segments.push(Se)),Se},lo.prototype.get=function(){return this.segments},lo.prototype.destroy=function(){for(var I=0,G=this.segments;I<G.length;I+=1){var ae=G[I];for(var de in ae.vaos)ae.vaos[de].destroy()}},lo.simpleSegment=function(I,G,ae,de){return new lo([{vertexOffset:I,primitiveOffset:G,vertexLength:ae,primitiveLength:de,vaos:{},sortKey:0}])},lo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ne("SegmentVector",lo);function ve(D,I){return D=h(Math.floor(D),0,255),I=h(Math.floor(I),0,255),256*D+I}var Z=Li([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),pe=x(function(D){function I(G,ae){var de,Se,De,qe,gt,Et,Rt,Wt;for(de=G.length&3,Se=G.length-de,De=ae,gt=3432918353,Et=461845907,Wt=0;Wt<Se;)Rt=G.charCodeAt(Wt)&255|(G.charCodeAt(++Wt)&255)<<8|(G.charCodeAt(++Wt)&255)<<16|(G.charCodeAt(++Wt)&255)<<24,++Wt,Rt=(Rt&65535)*gt+(((Rt>>>16)*gt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*Et+(((Rt>>>16)*Et&65535)<<16)&4294967295,De^=Rt,De=De<<13|De>>>19,qe=(De&65535)*5+(((De>>>16)*5&65535)<<16)&4294967295,De=(qe&65535)+27492+(((qe>>>16)+58964&65535)<<16);switch(Rt=0,de){case 3:Rt^=(G.charCodeAt(Wt+2)&255)<<16;case 2:Rt^=(G.charCodeAt(Wt+1)&255)<<8;case 1:Rt^=G.charCodeAt(Wt)&255,Rt=(Rt&65535)*gt+(((Rt>>>16)*gt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*Et+(((Rt>>>16)*Et&65535)<<16)&4294967295,De^=Rt}return De^=G.length,De^=De>>>16,De=(De&65535)*2246822507+(((De>>>16)*2246822507&65535)<<16)&4294967295,De^=De>>>13,De=(De&65535)*3266489909+(((De>>>16)*3266489909&65535)<<16)&4294967295,De^=De>>>16,De>>>0}D.exports=I}),te=x(function(D){function I(G,ae){for(var de=G.length,Se=ae^de,De=0,qe;de>=4;)qe=G.charCodeAt(De)&255|(G.charCodeAt(++De)&255)<<8|(G.charCodeAt(++De)&255)<<16|(G.charCodeAt(++De)&255)<<24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),qe^=qe>>>24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)^qe,de-=4,++De;switch(de){case 3:Se^=(G.charCodeAt(De+2)&255)<<16;case 2:Se^=(G.charCodeAt(De+1)&255)<<8;case 1:Se^=G.charCodeAt(De)&255,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)}return Se^=Se>>>13,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16),Se^=Se>>>15,Se>>>0}D.exports=I}),ge=pe,Fe=pe,$e=te;ge.murmur3=Fe,ge.murmur2=$e;var ft=function(){this.ids=[],this.positions=[],this.indexed=!1};ft.prototype.add=function(I,G,ae,de){this.ids.push(jt(I)),this.positions.push(G,ae,de)},ft.prototype.getPositions=function(I){for(var G=jt(I),ae=0,de=this.ids.length-1;ae<de;){var Se=ae+de>>1;this.ids[Se]>=G?de=Se:ae=Se+1}for(var De=[];this.ids[ae]===G;){var qe=this.positions[3*ae],gt=this.positions[3*ae+1],Et=this.positions[3*ae+2];De.push({index:qe,start:gt,end:Et}),ae++}return De},ft.serialize=function(I,G){var ae=new Float64Array(I.ids),de=new Uint32Array(I.positions);return qt(ae,de,0,ae.length-1),G&&G.push(ae.buffer,de.buffer),{ids:ae,positions:de}},ft.deserialize=function(I){var G=new ft;return G.ids=I.ids,G.positions=I.positions,G.indexed=!0,G};var Lt=Math.pow(2,53)-1;function jt(D){var I=+D;return!isNaN(I)&&I<=Lt?I:ge(String(D))}function qt(D,I,G,ae){for(;G<ae;){for(var de=D[G+ae>>1],Se=G-1,De=ae+1;;){do Se++;while(D[Se]<de);do De--;while(D[De]>de);if(Se>=De)break;lr(D,Se,De),lr(I,3*Se,3*De),lr(I,3*Se+1,3*De+1),lr(I,3*Se+2,3*De+2)}De-G<ae-De?(qt(D,I,G,De),G=De+1):(qt(D,I,De+1,ae),ae=De)}}function lr(D,I,G){var ae=D[I];D[I]=D[G],D[G]=ae}Ne("FeaturePositionMap",ft);var or=function(I,G){this.gl=I.gl,this.location=G},Fr=function(D){function I(G,ae){D.call(this,G,ae),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},I}(or),Xr=function(D){function I(G,ae){D.call(this,G,ae),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},I}(or),Yr=function(D){function I(G,ae){D.call(this,G,ae),this.current=[0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},I}(or),Hr=function(D){function I(G,ae){D.call(this,G,ae),this.current=[0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},I}(or),Jr=function(D){function I(G,ae){D.call(this,G,ae),this.current=[0,0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},I}(or),cn=function(D){function I(G,ae){D.call(this,G,ae),this.current=qa.transparent}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},I}(or),Fn=new Float32Array(16),Bn=function(D){function I(G,ae){D.call(this,G,ae),this.current=Fn}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var de=1;de<16;de++)if(ae[de]!==this.current[de]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},I}(or);function Yn(D){return[ve(255*D.r,255*D.g),ve(255*D.b,255*D.a)]}var Xn=function(I,G,ae){this.value=I,this.uniformNames=G.map(function(de){return"u_"+de}),this.type=ae};Xn.prototype.setUniform=function(I,G,ae){I.set(ae.constantOr(this.value))},Xn.prototype.getBinding=function(I,G,ae){return this.type==="color"?new cn(I,G):new Xr(I,G)};var Gn=function(I,G){this.uniformNames=G.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Gn.prototype.setConstantPatternPositions=function(I,G){this.pixelRatioFrom=G.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=G.tlbr,this.patternTo=I.tlbr},Gn.prototype.setUniform=function(I,G,ae,de){var Se=de==="u_pattern_to"?this.patternTo:de==="u_pattern_from"?this.patternFrom:de==="u_pixel_ratio_to"?this.pixelRatioTo:de==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Se&&I.set(Se)},Gn.prototype.getBinding=function(I,G,ae){return ae.substr(0,9)==="u_pattern"?new Jr(I,G):new Xr(I,G)};var Kn=function(I,G,ae,de){this.expression=I,this.type=ae,this.maxValue=0,this.paintVertexAttributes=G.map(function(Se){return{name:"a_"+Se,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new de};Kn.prototype.populatePaintArray=function(I,G,ae,de,Se){var De=this.paintVertexArray.length,qe=this.expression.evaluate(new Sa(0),G,{},de,[],Se);this.paintVertexArray.resize(I),this._setPaintValue(De,I,qe)},Kn.prototype.updatePaintArray=function(I,G,ae,de){var Se=this.expression.evaluate({zoom:0},ae,de);this._setPaintValue(I,G,Se)},Kn.prototype._setPaintValue=function(I,G,ae){if(this.type==="color")for(var de=Yn(ae),Se=I;Se<G;Se++)this.paintVertexArray.emplace(Se,de[0],de[1]);else{for(var De=I;De<G;De++)this.paintVertexArray.emplace(De,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},Kn.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Kn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ta=function(I,G,ae,de,Se,De){this.expression=I,this.uniformNames=G.map(function(qe){return"u_"+qe+"_t"}),this.type=ae,this.useIntegerZoom=de,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=G.map(function(qe){return{name:"a_"+qe,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new De};ta.prototype.populatePaintArray=function(I,G,ae,de,Se){var De=this.expression.evaluate(new Sa(this.zoom),G,{},de,[],Se),qe=this.expression.evaluate(new Sa(this.zoom+1),G,{},de,[],Se),gt=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(gt,I,De,qe)},ta.prototype.updatePaintArray=function(I,G,ae,de){var Se=this.expression.evaluate({zoom:this.zoom},ae,de),De=this.expression.evaluate({zoom:this.zoom+1},ae,de);this._setPaintValue(I,G,Se,De)},ta.prototype._setPaintValue=function(I,G,ae,de){if(this.type==="color")for(var Se=Yn(ae),De=Yn(de),qe=I;qe<G;qe++)this.paintVertexArray.emplace(qe,Se[0],Se[1],De[0],De[1]);else{for(var gt=I;gt<G;gt++)this.paintVertexArray.emplace(gt,ae,de);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(de))}},ta.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ta.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ta.prototype.setUniform=function(I,G){var ae=this.useIntegerZoom?Math.floor(G.zoom):G.zoom,de=h(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);I.set(de)},ta.prototype.getBinding=function(I,G,ae){return new Xr(I,G)};var la=function(I,G,ae,de,Se,De){this.expression=I,this.type=G,this.useIntegerZoom=ae,this.zoom=de,this.layerId=De,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};la.prototype.populatePaintArray=function(I,G,ae){var de=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(de,I,G.patterns&&G.patterns[this.layerId],ae)},la.prototype.updatePaintArray=function(I,G,ae,de,Se){this._setPaintValues(I,G,ae.patterns&&ae.patterns[this.layerId],Se)},la.prototype._setPaintValues=function(I,G,ae,de){if(!(!de||!ae)){var Se=ae.min,De=ae.mid,qe=ae.max,gt=de[Se],Et=de[De],Rt=de[qe];if(!(!gt||!Et||!Rt))for(var Wt=I;Wt<G;Wt++)this.zoomInPaintVertexArray.emplace(Wt,Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],gt.tl[0],gt.tl[1],gt.br[0],gt.br[1],Et.pixelRatio,gt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Wt,Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],Rt.tl[0],Rt.tl[1],Rt.br[0],Rt.br[1],Et.pixelRatio,Rt.pixelRatio)}},la.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,Z.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,Z.members,this.expression.isStateDependent))},la.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ba=function(I,G,ae){this.binders={},this._buffers=[];var de=[];for(var Se in I.paint._values)if(ae(Se)){var De=I.paint.get(Se);if(!(!(De instanceof wi)||!Gs(De.property.specification))){var qe=Oa(Se,I.type),gt=De.value,Et=De.property.specification.type,Rt=De.property.useIntegerZoom,Wt=De.property.specification["property-type"],ar=Wt==="cross-faded"||Wt==="cross-faded-data-driven";if(gt.kind==="constant")this.binders[Se]=ar?new Gn(gt.value,qe):new Xn(gt.value,qe,Et),de.push("/u_"+Se);else if(gt.kind==="source"||ar){var er=Wa(Se,Et,"source");this.binders[Se]=ar?new la(gt,Et,Rt,G,er,I.id):new Kn(gt,qe,Et,er),de.push("/a_"+Se)}else{var xr=Wa(Se,Et,"composite");this.binders[Se]=new ta(gt,qe,Et,Rt,G,xr),de.push("/z_"+Se)}}}this.cacheKey=de.sort().join("")};ba.prototype.getMaxValue=function(I){var G=this.binders[I];return G instanceof Kn||G instanceof ta?G.maxValue:0},ba.prototype.populatePaintArrays=function(I,G,ae,de,Se){for(var De in this.binders){var qe=this.binders[De];(qe instanceof Kn||qe instanceof ta||qe instanceof la)&&qe.populatePaintArray(I,G,ae,de,Se)}},ba.prototype.setConstantPatternPositions=function(I,G){for(var ae in this.binders){var de=this.binders[ae];de instanceof Gn&&de.setConstantPatternPositions(I,G)}},ba.prototype.updatePaintArrays=function(I,G,ae,de,Se){var De=!1;for(var qe in I)for(var gt=G.getPositions(qe),Et=0,Rt=gt;Et<Rt.length;Et+=1){var Wt=Rt[Et],ar=ae.feature(Wt.index);for(var er in this.binders){var xr=this.binders[er];if((xr instanceof Kn||xr instanceof ta||xr instanceof la)&&xr.expression.isStateDependent===!0){var Or=de.paint.get(er);xr.expression=Or.value,xr.updatePaintArray(Wt.start,Wt.end,ar,I[qe],Se),De=!0}}}return De},ba.prototype.defines=function(){var I=[];for(var G in this.binders){var ae=this.binders[G];(ae instanceof Xn||ae instanceof Gn)&&I.push.apply(I,ae.uniformNames.map(function(de){return"#define HAS_UNIFORM_"+de}))}return I},ba.prototype.getBinderAttributes=function(){var I=[];for(var G in this.binders){var ae=this.binders[G];if(ae instanceof Kn||ae instanceof ta)for(var de=0;de<ae.paintVertexAttributes.length;de++)I.push(ae.paintVertexAttributes[de].name);else if(ae instanceof la)for(var Se=0;Se<Z.members.length;Se++)I.push(Z.members[Se].name)}return I},ba.prototype.getBinderUniforms=function(){var I=[];for(var G in this.binders){var ae=this.binders[G];if(ae instanceof Xn||ae instanceof Gn||ae instanceof ta)for(var de=0,Se=ae.uniformNames;de<Se.length;de+=1){var De=Se[de];I.push(De)}}return I},ba.prototype.getPaintVertexBuffers=function(){return this._buffers},ba.prototype.getUniforms=function(I,G){var ae=[];for(var de in this.binders){var Se=this.binders[de];if(Se instanceof Xn||Se instanceof Gn||Se instanceof ta)for(var De=0,qe=Se.uniformNames;De<qe.length;De+=1){var gt=qe[De];if(G[gt]){var Et=Se.getBinding(I,G[gt],gt);ae.push({name:gt,property:de,binding:Et})}}}return ae},ba.prototype.setUniforms=function(I,G,ae,de){for(var Se=0,De=G;Se<De.length;Se+=1){var qe=De[Se],gt=qe.name,Et=qe.property,Rt=qe.binding;this.binders[Et].setUniform(Rt,de,ae.get(Et),gt)}},ba.prototype.updatePaintBuffers=function(I){this._buffers=[];for(var G in this.binders){var ae=this.binders[G];if(I&&ae instanceof la){var de=I.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;de&&this._buffers.push(de)}else(ae instanceof Kn||ae instanceof ta)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},ba.prototype.upload=function(I){for(var G in this.binders){var ae=this.binders[G];(ae instanceof Kn||ae instanceof ta||ae instanceof la)&&ae.upload(I)}this.updatePaintBuffers()},ba.prototype.destroy=function(){for(var I in this.binders){var G=this.binders[I];(G instanceof Kn||G instanceof ta||G instanceof la)&&G.destroy()}};var va=function(I,G,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var de=0,Se=I;de<Se.length;de+=1){var De=Se[de];this.programConfigurations[De.id]=new ba(De,G,ae)}this.needsUpload=!1,this._featureMap=new ft,this._bufferOffset=0};va.prototype.populatePaintArrays=function(I,G,ae,de,Se,De){for(var qe in this.programConfigurations)this.programConfigurations[qe].populatePaintArrays(I,G,de,Se,De);G.id!==void 0&&this._featureMap.add(G.id,ae,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},va.prototype.updatePaintArrays=function(I,G,ae,de){for(var Se=0,De=ae;Se<De.length;Se+=1){var qe=De[Se];this.needsUpload=this.programConfigurations[qe.id].updatePaintArrays(I,this._featureMap,G,qe,de)||this.needsUpload}},va.prototype.get=function(I){return this.programConfigurations[I]},va.prototype.upload=function(I){if(this.needsUpload){for(var G in this.programConfigurations)this.programConfigurations[G].upload(I);this.needsUpload=!1}},va.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()};function Oa(D,I){var G={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return G[D]||[D.replace(I+"-","").replace(/-/g,"_")]}function $a(D){var I={"line-pattern":{source:cs,composite:cs},"fill-pattern":{source:cs,composite:cs},"fill-extrusion-pattern":{source:cs,composite:cs}};return I[D]}function Wa(D,I,G){var ae={color:{source:Gc,composite:qf},number:{source:Wc,composite:Gc}},de=$a(D);return de&&de[G]||ae[I][G]}Ne("ConstantBinder",Xn),Ne("CrossFadedConstantBinder",Gn),Ne("SourceExpressionBinder",Kn),Ne("CrossFadedCompositeBinder",la),Ne("CompositeExpressionBinder",ta),Ne("ProgramConfiguration",ba,{omit:["_buffers"]}),Ne("ProgramConfigurationSet",va);var Ma=8192,Ya=15,ja=Math.pow(2,Ya-1)-1,ii=-ja-1;function ei(D){for(var I=Ma/D.extent,G=D.loadGeometry(),ae=0;ae<G.length;ae++)for(var de=G[ae],Se=0;Se<de.length;Se++){var De=de[Se],qe=Math.round(De.x*I),gt=Math.round(De.y*I);De.x=h(qe,ii,ja),De.y=h(gt,ii,ja),(qe<De.x||qe>De.x+1||gt<De.y||gt>De.y+1)&&B("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return G}function Ai(D,I){return{type:D.type,id:D.id,properties:D.properties,geometry:I?ei(D):[]}}function Ja(D,I,G,ae,de){D.emplaceBack(I*2+(ae+1)/2,G*2+(de+1)/2)}var yi=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Qf,this.indexArray=new Hu,this.segments=new lo,this.programConfigurations=new va(I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};yi.prototype.populate=function(I,G,ae){var de=this.layers[0],Se=[],De=null;de.type==="circle"&&(De=de.layout.get("circle-sort-key"));for(var qe=0,gt=I;qe<gt.length;qe+=1){var Et=gt[qe],Rt=Et.feature,Wt=Et.id,ar=Et.index,er=Et.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,Or=Ai(Rt,xr);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),Or,ae)){var un=De?De.evaluate(Or,{},ae):void 0,tn={id:Wt,properties:Rt.properties,type:Rt.type,sourceLayerIndex:er,index:ar,geometry:xr?Or.geometry:ei(Rt),patterns:{},sortKey:un};Se.push(tn)}}De&&Se.sort(function(da,wa){return da.sortKey-wa.sortKey});for(var En=0,xn=Se;En<xn.length;En+=1){var Mn=xn[En],On=Mn,Wn=On.geometry,ra=On.index,qn=On.sourceLayerIndex,Ta=I[ra].feature;this.addFeature(Mn,Wn,ra,ae),G.featureIndex.insert(Ta,Wn,ra,qn,this.index)}},yi.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,G,this.stateDependentLayers,ae)},yi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},yi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},yi.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,x0),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},yi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},yi.prototype.addFeature=function(I,G,ae,de){for(var Se=0,De=G;Se<De.length;Se+=1)for(var qe=De[Se],gt=0,Et=qe;gt<Et.length;gt+=1){var Rt=Et[gt],Wt=Rt.x,ar=Rt.y;if(!(Wt<0||Wt>=Ma||ar<0||ar>=Ma)){var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),xr=er.vertexLength;Ja(this.layoutVertexArray,Wt,ar,-1,-1),Ja(this.layoutVertexArray,Wt,ar,1,-1),Ja(this.layoutVertexArray,Wt,ar,1,1),Ja(this.layoutVertexArray,Wt,ar,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),er.vertexLength+=4,er.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,{},de)},Ne("CircleBucket",yi,{omit:["layers"]});function Ha(D,I){for(var G=0;G<D.length;G++)if(hs(I,D[G]))return!0;for(var ae=0;ae<I.length;ae++)if(hs(D,I[ae]))return!0;return!!fl(D,I)}function Qa(D,I,G){return!!(hs(D,I)||su(I,D,G))}function Vi(D,I){if(D.length===1)return lu(I,D[0]);for(var G=0;G<I.length;G++)for(var ae=I[G],de=0;de<ae.length;de++)if(hs(D,ae[de]))return!0;for(var Se=0;Se<D.length;Se++)if(lu(I,D[Se]))return!0;for(var De=0;De<I.length;De++)if(fl(D,I[De]))return!0;return!1}function bo(D,I,G){for(var ae=0;ae<I.length;ae++){var de=I[ae];if(D.length>=3){for(var Se=0;Se<de.length;Se++)if(hs(D,de[Se]))return!0}if(ul(D,de,G))return!0}return!1}function ul(D,I,G){if(D.length>1){if(fl(D,I))return!0;for(var ae=0;ae<I.length;ae++)if(su(I[ae],D,G))return!0}for(var de=0;de<D.length;de++)if(su(D[de],I,G))return!0;return!1}function fl(D,I){if(D.length===0||I.length===0)return!1;for(var G=0;G<D.length-1;G++)for(var ae=D[G],de=D[G+1],Se=0;Se<I.length-1;Se++){var De=I[Se],qe=I[Se+1];if(Pl(ae,de,De,qe))return!0}return!1}function Pl(D,I,G,ae){return N(D,G,ae)!==N(I,G,ae)&&N(D,I,G)!==N(D,I,ae)}function su(D,I,G){var ae=G*G;if(I.length===1)return D.distSqr(I[0])<ae;for(var de=1;de<I.length;de++){var Se=I[de-1],De=I[de];if(tc(D,Se,De)<ae)return!0}return!1}function tc(D,I,G){var ae=I.distSqr(G);if(ae===0)return D.distSqr(I);var de=((D.x-I.x)*(G.x-I.x)+(D.y-I.y)*(G.y-I.y))/ae;return de<0?D.distSqr(I):de>1?D.distSqr(G):D.distSqr(G.sub(I)._mult(de)._add(I))}function lu(D,I){for(var G=!1,ae,de,Se,De=0;De<D.length;De++){ae=D[De];for(var qe=0,gt=ae.length-1;qe<ae.length;gt=qe++)de=ae[qe],Se=ae[gt],de.y>I.y!=Se.y>I.y&&I.x<(Se.x-de.x)*(I.y-de.y)/(Se.y-de.y)+de.x&&(G=!G)}return G}function hs(D,I){for(var G=!1,ae=0,de=D.length-1;ae<D.length;de=ae++){var Se=D[ae],De=D[de];Se.y>I.y!=De.y>I.y&&I.x<(De.x-Se.x)*(I.y-Se.y)/(De.y-Se.y)+Se.x&&(G=!G)}return G}function uu(D,I,G,ae,de){for(var Se=0,De=D;Se<De.length;Se+=1){var qe=De[Se];if(I<=qe.x&&G<=qe.y&&ae>=qe.x&&de>=qe.y)return!0}var gt=[new r(I,G),new r(I,de),new r(ae,de),new r(ae,G)];if(D.length>2)for(var Et=0,Rt=gt;Et<Rt.length;Et+=1){var Wt=Rt[Et];if(hs(D,Wt))return!0}for(var ar=0;ar<D.length-1;ar++){var er=D[ar],xr=D[ar+1];if(Ls(er,xr,gt))return!0}return!1}function Ls(D,I,G){var ae=G[0],de=G[2];if(D.x<ae.x&&I.x<ae.x||D.x>de.x&&I.x>de.x||D.y<ae.y&&I.y<ae.y||D.y>de.y&&I.y>de.y)return!1;var Se=N(D,I,G[0]);return Se!==N(D,I,G[1])||Se!==N(D,I,G[2])||Se!==N(D,I,G[3])}function vs(D,I,G){var ae=I.paint.get(D).value;return ae.kind==="constant"?ae.value:G.programConfigurations.get(I.id).getMaxValue(D)}function Rl(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function Gu(D,I,G,ae,de){if(!I[0]&&!I[1])return D;var Se=r.convert(I)._mult(de);G==="viewport"&&Se._rotate(-ae);for(var De=[],qe=0;qe<D.length;qe++){var gt=D[qe];De.push(gt.sub(Se))}return De}var Dl=new ci({"circle-sort-key":new La(Sr.layout_circle["circle-sort-key"])}),Rv=new ci({"circle-radius":new La(Sr.paint_circle["circle-radius"]),"circle-color":new La(Sr.paint_circle["circle-color"]),"circle-blur":new La(Sr.paint_circle["circle-blur"]),"circle-opacity":new La(Sr.paint_circle["circle-opacity"]),"circle-translate":new sa(Sr.paint_circle["circle-translate"]),"circle-translate-anchor":new sa(Sr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new sa(Sr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new sa(Sr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new La(Sr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new La(Sr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new La(Sr.paint_circle["circle-stroke-opacity"])}),Zc={paint:Rv,layout:Dl},Lo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,I=0,G=arguments.length;G--;)I+=D[G]*D[G];return Math.sqrt(I)});function Dv(){var D=new Lo(4);return Lo!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function tv(D,I,G){var ae=I[0],de=I[1],Se=I[2],De=I[3],qe=Math.sin(G),gt=Math.cos(G);return D[0]=ae*gt+Se*qe,D[1]=de*gt+De*qe,D[2]=ae*-qe+Se*gt,D[3]=de*-qe+De*gt,D}function Jo(){var D=new Lo(9);return Lo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function Kc(D,I){var G=Math.sin(I),ae=Math.cos(I);return D[0]=ae,D[1]=G,D[2]=0,D[3]=-G,D[4]=ae,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function Iv(){var D=new Lo(16);return Lo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function _v(D){var I=new Lo(16);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I[3]=D[3],I[4]=D[4],I[5]=D[5],I[6]=D[6],I[7]=D[7],I[8]=D[8],I[9]=D[9],I[10]=D[10],I[11]=D[11],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15],I}function kv(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function Jc(D,I){var G=I[0],ae=I[1],de=I[2],Se=I[3],De=I[4],qe=I[5],gt=I[6],Et=I[7],Rt=I[8],Wt=I[9],ar=I[10],er=I[11],xr=I[12],Or=I[13],un=I[14],tn=I[15],En=G*qe-ae*De,xn=G*gt-de*De,Mn=G*Et-Se*De,On=ae*gt-de*qe,Wn=ae*Et-Se*qe,ra=de*Et-Se*gt,qn=Rt*Or-Wt*xr,Ta=Rt*un-ar*xr,da=Rt*tn-er*xr,wa=Wt*un-ar*Or,Ua=Wt*tn-er*Or,Aa=ar*tn-er*un,Ca=En*Aa-xn*Ua+Mn*wa+On*da-Wn*Ta+ra*qn;return Ca?(Ca=1/Ca,D[0]=(qe*Aa-gt*Ua+Et*wa)*Ca,D[1]=(de*Ua-ae*Aa-Se*wa)*Ca,D[2]=(Or*ra-un*Wn+tn*On)*Ca,D[3]=(ar*Wn-Wt*ra-er*On)*Ca,D[4]=(gt*da-De*Aa-Et*Ta)*Ca,D[5]=(G*Aa-de*da+Se*Ta)*Ca,D[6]=(un*Mn-xr*ra-tn*xn)*Ca,D[7]=(Rt*ra-ar*Mn+er*xn)*Ca,D[8]=(De*Ua-qe*da+Et*qn)*Ca,D[9]=(ae*da-G*Ua-Se*qn)*Ca,D[10]=(xr*Wn-Or*Mn+tn*En)*Ca,D[11]=(Wt*Mn-Rt*Wn-er*En)*Ca,D[12]=(qe*Ta-De*wa-gt*qn)*Ca,D[13]=(G*wa-ae*Ta+de*qn)*Ca,D[14]=(Or*xn-xr*On-un*En)*Ca,D[15]=(Rt*On-Wt*xn+ar*En)*Ca,D):null}function $c(D,I,G){var ae=I[0],de=I[1],Se=I[2],De=I[3],qe=I[4],gt=I[5],Et=I[6],Rt=I[7],Wt=I[8],ar=I[9],er=I[10],xr=I[11],Or=I[12],un=I[13],tn=I[14],En=I[15],xn=G[0],Mn=G[1],On=G[2],Wn=G[3];return D[0]=xn*ae+Mn*qe+On*Wt+Wn*Or,D[1]=xn*de+Mn*gt+On*ar+Wn*un,D[2]=xn*Se+Mn*Et+On*er+Wn*tn,D[3]=xn*De+Mn*Rt+On*xr+Wn*En,xn=G[4],Mn=G[5],On=G[6],Wn=G[7],D[4]=xn*ae+Mn*qe+On*Wt+Wn*Or,D[5]=xn*de+Mn*gt+On*ar+Wn*un,D[6]=xn*Se+Mn*Et+On*er+Wn*tn,D[7]=xn*De+Mn*Rt+On*xr+Wn*En,xn=G[8],Mn=G[9],On=G[10],Wn=G[11],D[8]=xn*ae+Mn*qe+On*Wt+Wn*Or,D[9]=xn*de+Mn*gt+On*ar+Wn*un,D[10]=xn*Se+Mn*Et+On*er+Wn*tn,D[11]=xn*De+Mn*Rt+On*xr+Wn*En,xn=G[12],Mn=G[13],On=G[14],Wn=G[15],D[12]=xn*ae+Mn*qe+On*Wt+Wn*Or,D[13]=xn*de+Mn*gt+On*ar+Wn*un,D[14]=xn*Se+Mn*Et+On*er+Wn*tn,D[15]=xn*De+Mn*Rt+On*xr+Wn*En,D}function Xi(D,I,G){var ae=G[0],de=G[1],Se=G[2],De,qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn;return I===D?(D[12]=I[0]*ae+I[4]*de+I[8]*Se+I[12],D[13]=I[1]*ae+I[5]*de+I[9]*Se+I[13],D[14]=I[2]*ae+I[6]*de+I[10]*Se+I[14],D[15]=I[3]*ae+I[7]*de+I[11]*Se+I[15]):(De=I[0],qe=I[1],gt=I[2],Et=I[3],Rt=I[4],Wt=I[5],ar=I[6],er=I[7],xr=I[8],Or=I[9],un=I[10],tn=I[11],D[0]=De,D[1]=qe,D[2]=gt,D[3]=Et,D[4]=Rt,D[5]=Wt,D[6]=ar,D[7]=er,D[8]=xr,D[9]=Or,D[10]=un,D[11]=tn,D[12]=De*ae+Rt*de+xr*Se+I[12],D[13]=qe*ae+Wt*de+Or*Se+I[13],D[14]=gt*ae+ar*de+un*Se+I[14],D[15]=Et*ae+er*de+tn*Se+I[15]),D}function Ps(D,I,G){var ae=G[0],de=G[1],Se=G[2];return D[0]=I[0]*ae,D[1]=I[1]*ae,D[2]=I[2]*ae,D[3]=I[3]*ae,D[4]=I[4]*de,D[5]=I[5]*de,D[6]=I[6]*de,D[7]=I[7]*de,D[8]=I[8]*Se,D[9]=I[9]*Se,D[10]=I[10]*Se,D[11]=I[11]*Se,D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15],D}function Rs(D,I,G){var ae=Math.sin(G),de=Math.cos(G),Se=I[4],De=I[5],qe=I[6],gt=I[7],Et=I[8],Rt=I[9],Wt=I[10],ar=I[11];return I!==D&&(D[0]=I[0],D[1]=I[1],D[2]=I[2],D[3]=I[3],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[4]=Se*de+Et*ae,D[5]=De*de+Rt*ae,D[6]=qe*de+Wt*ae,D[7]=gt*de+ar*ae,D[8]=Et*de-Se*ae,D[9]=Rt*de-De*ae,D[10]=Wt*de-qe*ae,D[11]=ar*de-gt*ae,D}function Fv(D,I,G){var ae=Math.sin(G),de=Math.cos(G),Se=I[0],De=I[1],qe=I[2],gt=I[3],Et=I[4],Rt=I[5],Wt=I[6],ar=I[7];return I!==D&&(D[8]=I[8],D[9]=I[9],D[10]=I[10],D[11]=I[11],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[0]=Se*de+Et*ae,D[1]=De*de+Rt*ae,D[2]=qe*de+Wt*ae,D[3]=gt*de+ar*ae,D[4]=Et*de-Se*ae,D[5]=Rt*de-De*ae,D[6]=Wt*de-qe*ae,D[7]=ar*de-gt*ae,D}function Hd(D,I,G,ae,de){var Se=1/Math.tan(I/2),De;return D[0]=Se/G,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Se,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,de!=null&&de!==1/0?(De=1/(ae-de),D[10]=(de+ae)*De,D[14]=2*de*ae*De):(D[10]=-1,D[14]=-2*ae),D}function vm(D,I,G,ae,de,Se,De){var qe=1/(I-G),gt=1/(ae-de),Et=1/(Se-De);return D[0]=-2*qe,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*gt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*Et,D[11]=0,D[12]=(I+G)*qe,D[13]=(de+ae)*gt,D[14]=(De+Se)*Et,D[15]=1,D}var dm=$c;function rv(){var D=new Lo(3);return Lo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function pm(D){var I=new Lo(3);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I}function Ov(D,I,G){return D[0]=I[0]+G[0],D[1]=I[1]+G[1],D[2]=I[2]+G[2],D}function gm(D,I,G){return D[0]=I[0]-G[0],D[1]=I[1]-G[1],D[2]=I[2]-G[2],D}function ym(D,I,G){return D[0]=I[0]*G,D[1]=I[1]*G,D[2]=I[2]*G,D}function Gd(D,I){var G=I[0],ae=I[1],de=I[2],Se=G*G+ae*ae+de*de;return Se>0&&(Se=1/Math.sqrt(Se)),D[0]=I[0]*Se,D[1]=I[1]*Se,D[2]=I[2]*Se,D}function DM(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]}function IM(D,I,G){var ae=I[0],de=I[1],Se=I[2],De=G[0],qe=G[1],gt=G[2];return D[0]=de*gt-Se*qe,D[1]=Se*De-ae*gt,D[2]=ae*qe-de*De,D}function _M(D,I,G){var ae=I[0],de=I[1],Se=I[2];return D[0]=ae*G[0]+de*G[3]+Se*G[6],D[1]=ae*G[1]+de*G[4]+Se*G[7],D[2]=ae*G[2]+de*G[5]+Se*G[8],D}var kM=gm;(function(){var D=rv();return function(I,G,ae,de,Se,De){var qe,gt;for(G||(G=3),ae||(ae=0),de?gt=Math.min(de*G+ae,I.length):gt=I.length,qe=ae;qe<gt;qe+=G)D[0]=I[qe],D[1]=I[qe+1],D[2]=I[qe+2],Se(D,D,De),I[qe]=D[0],I[qe+1]=D[1],I[qe+2]=D[2];return I}})();function FM(){var D=new Lo(4);return Lo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function OM(D,I,G){return D[0]=I[0]*G,D[1]=I[1]*G,D[2]=I[2]*G,D[3]=I[3]*G,D}function zM(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3]}function b0(D,I,G){var ae=I[0],de=I[1],Se=I[2],De=I[3];return D[0]=G[0]*ae+G[4]*de+G[8]*Se+G[12]*De,D[1]=G[1]*ae+G[5]*de+G[9]*Se+G[13]*De,D[2]=G[2]*ae+G[6]*de+G[10]*Se+G[14]*De,D[3]=G[3]*ae+G[7]*de+G[11]*Se+G[15]*De,D}(function(){var D=FM();return function(I,G,ae,de,Se,De){var qe,gt;for(G||(G=4),ae||(ae=0),de?gt=Math.min(de*G+ae,I.length):gt=I.length,qe=ae;qe<gt;qe+=G)D[0]=I[qe],D[1]=I[qe+1],D[2]=I[qe+2],D[3]=I[qe+3],Se(D,D,De),I[qe]=D[0],I[qe+1]=D[1],I[qe+2]=D[2],I[qe+3]=D[3];return I}})();function NM(){var D=new Lo(2);return Lo!=Float32Array&&(D[0]=0,D[1]=0),D}function BM(D){var I=D[0],G=D[1];return I*I+G*G}var UM=BM;(function(){var D=NM();return function(I,G,ae,de,Se,De){var qe,gt;for(G||(G=2),ae||(ae=0),de?gt=Math.min(de*G+ae,I.length):gt=I.length,qe=ae;qe<gt;qe+=G)D[0]=I[qe],D[1]=I[qe+1],Se(D,D,De),I[qe]=D[0],I[qe+1]=D[1];return I}})();var VM=function(D){function I(G){D.call(this,G,Zc)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new yi(ae)},I.prototype.queryRadius=function(ae){var de=ae;return vs("circle-radius",this,de)+vs("circle-stroke-width",this,de)+Rl(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(ae,de,Se,De,qe,gt,Et,Rt){for(var Wt=Gu(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),gt.angle,Et),ar=this.paint.get("circle-radius").evaluate(de,Se),er=this.paint.get("circle-stroke-width").evaluate(de,Se),xr=ar+er,Or=this.paint.get("circle-pitch-alignment")==="map",un=Or?Wt:jM(Wt,Rt),tn=Or?xr*Et:xr,En=0,xn=De;En<xn.length;En+=1)for(var Mn=xn[En],On=0,Wn=Mn;On<Wn.length;On+=1){var ra=Wn[On],qn=Or?ra:Hb(ra,Rt),Ta=tn,da=b0([],[ra.x,ra.y,0,1],Rt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ta*=da[3]/gt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ta*=gt.cameraToCenterDistance/da[3]),Qa(un,qn,Ta))return!0}return!1},I}(Ui);function Hb(D,I){var G=b0([],[D.x,D.y,0,1],I);return new r(G[0]/G[3],G[1]/G[3])}function jM(D,I){return D.map(function(G){return Hb(G,I)})}var Gb=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(yi);Ne("HeatmapBucket",Gb,{omit:["layers"]});function mm(D,I,G,ae){var de=I.width,Se=I.height;if(!ae)ae=new Uint8Array(de*Se*G);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==de*Se*G)throw new RangeError("mismatched image size");return D.width=de,D.height=Se,D.data=ae,D}function Wb(D,I,G){var ae=I.width,de=I.height;if(!(ae===D.width&&de===D.height)){var Se=mm({},{width:ae,height:de},G);xm(D,Se,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ae),height:Math.min(D.height,de)},G),D.width=ae,D.height=de,D.data=Se.data}}function xm(D,I,G,ae,de,Se){if(de.width===0||de.height===0)return I;if(de.width>D.width||de.height>D.height||G.x>D.width-de.width||G.y>D.height-de.height)throw new RangeError("out of range source coordinates for image copy");if(de.width>I.width||de.height>I.height||ae.x>I.width-de.width||ae.y>I.height-de.height)throw new RangeError("out of range destination coordinates for image copy");for(var De=D.data,qe=I.data,gt=0;gt<de.height;gt++)for(var Et=((G.y+gt)*D.width+G.x)*Se,Rt=((ae.y+gt)*I.width+ae.x)*Se,Wt=0;Wt<de.width*Se;Wt++)qe[Rt+Wt]=De[Et+Wt];return I}var nv=function(I,G){mm(this,I,1,G)};nv.prototype.resize=function(I){Wb(this,I,1)},nv.prototype.clone=function(){return new nv({width:this.width,height:this.height},new Uint8Array(this.data))},nv.copy=function(I,G,ae,de,Se){xm(I,G,ae,de,Se,1)};var Ds=function(I,G){mm(this,I,4,G)};Ds.prototype.resize=function(I){Wb(this,I,4)},Ds.prototype.replace=function(I,G){G?this.data.set(I):I instanceof Uint8ClampedArray?this.data=new Uint8Array(I.buffer):this.data=I},Ds.prototype.clone=function(){return new Ds({width:this.width,height:this.height},new Uint8Array(this.data))},Ds.copy=function(I,G,ae,de,Se){xm(I,G,ae,de,Se,4)},Ne("AlphaImage",nv),Ne("RGBAImage",Ds);var HM=new ci({"heatmap-radius":new La(Sr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new La(Sr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new sa(Sr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new so(Sr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new sa(Sr.paint_heatmap["heatmap-opacity"])}),GM={paint:HM};function Yb(D){var I={},G=D.resolution||256,ae=D.clips?D.clips.length:1,de=D.image||new Ds({width:G,height:ae}),Se=function(En,xn,Mn){I[D.evaluationKey]=Mn;var On=D.expression.evaluate(I);de.data[En+xn+0]=Math.floor(On.r*255/On.a),de.data[En+xn+1]=Math.floor(On.g*255/On.a),de.data[En+xn+2]=Math.floor(On.b*255/On.a),de.data[En+xn+3]=Math.floor(On.a*255)};if(D.clips)for(var Et=0,Rt=0;Et<ae;++Et,Rt+=G*4)for(var Wt=0,ar=0;Wt<G;Wt++,ar+=4){var er=Wt/(G-1),xr=D.clips[Et],Or=xr.start,un=xr.end,tn=Or*(1-er)+un*er;Se(Rt,ar,tn)}else for(var De=0,qe=0;De<G;De++,qe+=4){var gt=De/(G-1);Se(0,qe,gt)}return de}var WM=function(D){function I(G){D.call(this,G,GM),this._updateColorRamp()}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new Gb(ae)},I.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Yb({expression:ae,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}(Ui),YM=new ci({"hillshade-illumination-direction":new sa(Sr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new sa(Sr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new sa(Sr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new sa(Sr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new sa(Sr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new sa(Sr.paint_hillshade["hillshade-accent-color"])}),XM={paint:YM},ZM=function(D){function I(G){D.call(this,G,XM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}(Ui),KM=Li([{name:"a_pos",components:2,type:"Int16"}],4),JM=KM.members,bm=w0,$M=w0;function w0(D,I,G){G=G||2;var ae=I&&I.length,de=ae?I[0]*G:D.length,Se=Xb(D,0,de,G,!0),De=[];if(!Se||Se.next===Se.prev)return De;var qe,gt,Et,Rt,Wt,ar,er;if(ae&&(Se=r8(D,I,Se,G)),D.length>80*G){qe=Et=D[0],gt=Rt=D[1];for(var xr=G;xr<de;xr+=G)Wt=D[xr],ar=D[xr+1],Wt<qe&&(qe=Wt),ar<gt&&(gt=ar),Wt>Et&&(Et=Wt),ar>Rt&&(Rt=ar);er=Math.max(Et-qe,Rt-gt),er=er!==0?1/er:0}return Wd(Se,De,G,qe,gt,er),De}function Xb(D,I,G,ae,de){var Se,De;if(de===Am(D,I,G,ae)>0)for(Se=I;Se<G;Se+=ae)De=Jb(Se,D[Se],D[Se+1],De);else for(Se=G-ae;Se>=I;Se-=ae)De=Jb(Se,D[Se],D[Se+1],De);return De&&T0(De,De.next)&&(Xd(De),De=De.next),De}function Qc(D,I){if(!D)return D;I||(I=D);var G=D,ae;do if(ae=!1,!G.steiner&&(T0(G,G.next)||uo(G.prev,G,G.next)===0)){if(Xd(G),G=I=G.prev,G===G.next)break;ae=!0}else G=G.next;while(ae||G!==I);return I}function Wd(D,I,G,ae,de,Se,De){if(D){!De&&Se&&s8(D,ae,de,Se);for(var qe=D,gt,Et;D.prev!==D.next;){if(gt=D.prev,Et=D.next,Se?qM(D,ae,de,Se):QM(D)){I.push(gt.i/G),I.push(D.i/G),I.push(Et.i/G),Xd(D),D=Et.next,qe=Et.next;continue}if(D=Et,D===qe){De?De===1?(D=e8(Qc(D),I,G),Wd(D,I,G,ae,de,Se,2)):De===2&&t8(D,I,G,ae,de,Se):Wd(Qc(D),I,G,ae,de,Se,1);break}}}}function QM(D){var I=D.prev,G=D,ae=D.next;if(uo(I,G,ae)>=0)return!1;for(var de=D.next.next;de!==D.prev;){if(zv(I.x,I.y,G.x,G.y,ae.x,ae.y,de.x,de.y)&&uo(de.prev,de,de.next)>=0)return!1;de=de.next}return!0}function qM(D,I,G,ae){var de=D.prev,Se=D,De=D.next;if(uo(de,Se,De)>=0)return!1;for(var qe=de.x<Se.x?de.x<De.x?de.x:De.x:Se.x<De.x?Se.x:De.x,gt=de.y<Se.y?de.y<De.y?de.y:De.y:Se.y<De.y?Se.y:De.y,Et=de.x>Se.x?de.x>De.x?de.x:De.x:Se.x>De.x?Se.x:De.x,Rt=de.y>Se.y?de.y>De.y?de.y:De.y:Se.y>De.y?Se.y:De.y,Wt=wm(qe,gt,I,G,ae),ar=wm(Et,Rt,I,G,ae),er=D.prevZ,xr=D.nextZ;er&&er.z>=Wt&&xr&&xr.z<=ar;){if(er!==D.prev&&er!==D.next&&zv(de.x,de.y,Se.x,Se.y,De.x,De.y,er.x,er.y)&&uo(er.prev,er,er.next)>=0||(er=er.prevZ,xr!==D.prev&&xr!==D.next&&zv(de.x,de.y,Se.x,Se.y,De.x,De.y,xr.x,xr.y)&&uo(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;er&&er.z>=Wt;){if(er!==D.prev&&er!==D.next&&zv(de.x,de.y,Se.x,Se.y,De.x,De.y,er.x,er.y)&&uo(er.prev,er,er.next)>=0)return!1;er=er.prevZ}for(;xr&&xr.z<=ar;){if(xr!==D.prev&&xr!==D.next&&zv(de.x,de.y,Se.x,Se.y,De.x,De.y,xr.x,xr.y)&&uo(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function e8(D,I,G){var ae=D;do{var de=ae.prev,Se=ae.next.next;!T0(de,Se)&&Zb(de,ae,ae.next,Se)&&Yd(de,Se)&&Yd(Se,de)&&(I.push(de.i/G),I.push(ae.i/G),I.push(Se.i/G),Xd(ae),Xd(ae.next),ae=D=Se),ae=ae.next}while(ae!==D);return Qc(ae)}function t8(D,I,G,ae,de,Se){var De=D;do{for(var qe=De.next.next;qe!==De.prev;){if(De.i!==qe.i&&f8(De,qe)){var gt=Kb(De,qe);De=Qc(De,De.next),gt=Qc(gt,gt.next),Wd(De,I,G,ae,de,Se),Wd(gt,I,G,ae,de,Se);return}qe=qe.next}De=De.next}while(De!==D)}function r8(D,I,G,ae){var de=[],Se,De,qe,gt,Et;for(Se=0,De=I.length;Se<De;Se++)qe=I[Se]*ae,gt=Se<De-1?I[Se+1]*ae:D.length,Et=Xb(D,qe,gt,ae,!1),Et===Et.next&&(Et.steiner=!0),de.push(u8(Et));for(de.sort(n8),Se=0;Se<de.length;Se++)a8(de[Se],G),G=Qc(G,G.next);return G}function n8(D,I){return D.x-I.x}function a8(D,I){if(I=i8(D,I),I){var G=Kb(I,D);Qc(I,I.next),Qc(G,G.next)}}function i8(D,I){var G=I,ae=D.x,de=D.y,Se=-1/0,De;do{if(de<=G.y&&de>=G.next.y&&G.next.y!==G.y){var qe=G.x+(de-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(qe<=ae&&qe>Se){if(Se=qe,qe===ae){if(de===G.y)return G;if(de===G.next.y)return G.next}De=G.x<G.next.x?G:G.next}}G=G.next}while(G!==I);if(!De)return null;if(ae===Se)return De;var gt=De,Et=De.x,Rt=De.y,Wt=1/0,ar;G=De;do ae>=G.x&&G.x>=Et&&ae!==G.x&&zv(de<Rt?ae:Se,de,Et,Rt,de<Rt?Se:ae,de,G.x,G.y)&&(ar=Math.abs(de-G.y)/(ae-G.x),Yd(G,D)&&(ar<Wt||ar===Wt&&(G.x>De.x||G.x===De.x&&o8(De,G)))&&(De=G,Wt=ar)),G=G.next;while(G!==gt);return De}function o8(D,I){return uo(D.prev,D,I.prev)<0&&uo(I.next,D,D.next)<0}function s8(D,I,G,ae){var de=D;do de.z===null&&(de.z=wm(de.x,de.y,I,G,ae)),de.prevZ=de.prev,de.nextZ=de.next,de=de.next;while(de!==D);de.prevZ.nextZ=null,de.prevZ=null,l8(de)}function l8(D){var I,G,ae,de,Se,De,qe,gt,Et=1;do{for(G=D,D=null,Se=null,De=0;G;){for(De++,ae=G,qe=0,I=0;I<Et&&(qe++,ae=ae.nextZ,!!ae);I++);for(gt=Et;qe>0||gt>0&&ae;)qe!==0&&(gt===0||!ae||G.z<=ae.z)?(de=G,G=G.nextZ,qe--):(de=ae,ae=ae.nextZ,gt--),Se?Se.nextZ=de:D=de,de.prevZ=Se,Se=de;G=ae}Se.nextZ=null,Et*=2}while(De>1);return D}function wm(D,I,G,ae,de){return D=32767*(D-G)*de,I=32767*(I-ae)*de,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,D|I<<1}function u8(D){var I=D,G=D;do(I.x<G.x||I.x===G.x&&I.y<G.y)&&(G=I),I=I.next;while(I!==D);return G}function zv(D,I,G,ae,de,Se,De,qe){return(de-De)*(I-qe)-(D-De)*(Se-qe)>=0&&(D-De)*(ae-qe)-(G-De)*(I-qe)>=0&&(G-De)*(Se-qe)-(de-De)*(ae-qe)>=0}function f8(D,I){return D.next.i!==I.i&&D.prev.i!==I.i&&!c8(D,I)&&(Yd(D,I)&&Yd(I,D)&&h8(D,I)&&(uo(D.prev,D,I.prev)||uo(D,I.prev,I))||T0(D,I)&&uo(D.prev,D,D.next)>0&&uo(I.prev,I,I.next)>0)}function uo(D,I,G){return(I.y-D.y)*(G.x-I.x)-(I.x-D.x)*(G.y-I.y)}function T0(D,I){return D.x===I.x&&D.y===I.y}function Zb(D,I,G,ae){var de=S0(uo(D,I,G)),Se=S0(uo(D,I,ae)),De=S0(uo(G,ae,D)),qe=S0(uo(G,ae,I));return!!(de!==Se&&De!==qe||de===0&&A0(D,G,I)||Se===0&&A0(D,ae,I)||De===0&&A0(G,D,ae)||qe===0&&A0(G,I,ae))}function A0(D,I,G){return I.x<=Math.max(D.x,G.x)&&I.x>=Math.min(D.x,G.x)&&I.y<=Math.max(D.y,G.y)&&I.y>=Math.min(D.y,G.y)}function S0(D){return D>0?1:D<0?-1:0}function c8(D,I){var G=D;do{if(G.i!==D.i&&G.next.i!==D.i&&G.i!==I.i&&G.next.i!==I.i&&Zb(G,G.next,D,I))return!0;G=G.next}while(G!==D);return!1}function Yd(D,I){return uo(D.prev,D,D.next)<0?uo(D,I,D.next)>=0&&uo(D,D.prev,I)>=0:uo(D,I,D.prev)<0||uo(D,D.next,I)<0}function h8(D,I){var G=D,ae=!1,de=(D.x+I.x)/2,Se=(D.y+I.y)/2;do G.y>Se!=G.next.y>Se&&G.next.y!==G.y&&de<(G.next.x-G.x)*(Se-G.y)/(G.next.y-G.y)+G.x&&(ae=!ae),G=G.next;while(G!==D);return ae}function Kb(D,I){var G=new Tm(D.i,D.x,D.y),ae=new Tm(I.i,I.x,I.y),de=D.next,Se=I.prev;return D.next=I,I.prev=D,G.next=de,de.prev=G,ae.next=G,G.prev=ae,Se.next=ae,ae.prev=Se,ae}function Jb(D,I,G,ae){var de=new Tm(D,I,G);return ae?(de.next=ae.next,de.prev=ae,ae.next.prev=de,ae.next=de):(de.prev=de,de.next=de),de}function Xd(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function Tm(D,I,G){this.i=D,this.x=I,this.y=G,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}w0.deviation=function(D,I,G,ae){var de=I&&I.length,Se=de?I[0]*G:D.length,De=Math.abs(Am(D,0,Se,G));if(de)for(var qe=0,gt=I.length;qe<gt;qe++){var Et=I[qe]*G,Rt=qe<gt-1?I[qe+1]*G:D.length;De-=Math.abs(Am(D,Et,Rt,G))}var Wt=0;for(qe=0;qe<ae.length;qe+=3){var ar=ae[qe]*G,er=ae[qe+1]*G,xr=ae[qe+2]*G;Wt+=Math.abs((D[ar]-D[xr])*(D[er+1]-D[ar+1])-(D[ar]-D[er])*(D[xr+1]-D[ar+1]))}return De===0&&Wt===0?0:Math.abs((Wt-De)/De)};function Am(D,I,G,ae){for(var de=0,Se=I,De=G-ae;Se<G;Se+=ae)de+=(D[De]-D[Se])*(D[Se+1]+D[De+1]),De=Se;return de}w0.flatten=function(D){for(var I=D[0][0].length,G={vertices:[],holes:[],dimensions:I},ae=0,de=0;de<D.length;de++){for(var Se=0;Se<D[de].length;Se++)for(var De=0;De<I;De++)G.vertices.push(D[de][Se][De]);de>0&&(ae+=D[de-1].length,G.holes.push(ae))}return G},bm.default=$M;function v8(D,I,G,ae,de){$b(D,I,G||0,ae||D.length-1,de||d8)}function $b(D,I,G,ae,de){for(;ae>G;){if(ae-G>600){var Se=ae-G+1,De=I-G+1,qe=Math.log(Se),gt=.5*Math.exp(2*qe/3),Et=.5*Math.sqrt(qe*gt*(Se-gt)/Se)*(De-Se/2<0?-1:1),Rt=Math.max(G,Math.floor(I-De*gt/Se+Et)),Wt=Math.min(ae,Math.floor(I+(Se-De)*gt/Se+Et));$b(D,I,Rt,Wt,de)}var ar=D[I],er=G,xr=ae;for(Zd(D,G,I),de(D[ae],ar)>0&&Zd(D,G,ae);er<xr;){for(Zd(D,er,xr),er++,xr--;de(D[er],ar)<0;)er++;for(;de(D[xr],ar)>0;)xr--}de(D[G],ar)===0?Zd(D,G,xr):(xr++,Zd(D,xr,ae)),xr<=I&&(G=xr+1),I<=xr&&(ae=xr-1)}}function Zd(D,I,G){var ae=D[I];D[I]=D[G],D[G]=ae}function d8(D,I){return D<I?-1:D>I?1:0}function Sm(D,I){var G=D.length;if(G<=1)return[D];for(var ae=[],de,Se,De=0;De<G;De++){var qe=V(D[De]);qe!==0&&(D[De].area=Math.abs(qe),Se===void 0&&(Se=qe<0),Se===qe<0?(de&&ae.push(de),de=[D[De]]):de.push(D[De]))}if(de&&ae.push(de),I>1)for(var gt=0;gt<ae.length;gt++)ae[gt].length<=I||(v8(ae[gt],I,1,ae[gt].length-1,p8),ae[gt]=ae[gt].slice(0,I));return ae}function p8(D,I){return I.area-D.area}function Mm(D,I,G){for(var ae=G.patternDependencies,de=!1,Se=0,De=I;Se<De.length;Se+=1){var qe=De[Se],gt=qe.paint.get(D+"-pattern");gt.isConstant()||(de=!0);var Et=gt.constantOr(null);Et&&(de=!0,ae[Et.to]=!0,ae[Et.from]=!0)}return de}function Em(D,I,G,ae,de){for(var Se=de.patternDependencies,De=0,qe=I;De<qe.length;De+=1){var gt=qe[De],Et=gt.paint.get(D+"-pattern"),Rt=Et.value;if(Rt.kind!=="constant"){var Wt=Rt.evaluate({zoom:ae-1},G,{},de.availableImages),ar=Rt.evaluate({zoom:ae},G,{},de.availableImages),er=Rt.evaluate({zoom:ae+1},G,{},de.availableImages);Wt=Wt&&Wt.name?Wt.name:Wt,ar=ar&&ar.name?ar.name:ar,er=er&&er.name?er.name:er,Se[Wt]=!0,Se[ar]=!0,Se[er]=!0,G.patterns[gt.id]={min:Wt,mid:ar,max:er}}}return G}var g8=500,Wu=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Qf,this.indexArray=new Hu,this.indexArray2=new ev,this.programConfigurations=new va(I.layers,I.zoom),this.segments=new lo,this.segments2=new lo,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Wu.prototype.populate=function(I,G,ae){this.hasPattern=Mm("fill",this.layers,G);for(var de=this.layers[0].layout.get("fill-sort-key"),Se=[],De=0,qe=I;De<qe.length;De+=1){var gt=qe[De],Et=gt.feature,Rt=gt.id,Wt=gt.index,ar=gt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,xr=Ai(Et,er);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),xr,ae)){var Or=de?de.evaluate(xr,{},ae,G.availableImages):void 0,un={id:Rt,properties:Et.properties,type:Et.type,sourceLayerIndex:ar,index:Wt,geometry:er?xr.geometry:ei(Et),patterns:{},sortKey:Or};Se.push(un)}}de&&Se.sort(function(da,wa){return da.sortKey-wa.sortKey});for(var tn=0,En=Se;tn<En.length;tn+=1){var xn=En[tn],Mn=xn,On=Mn.geometry,Wn=Mn.index,ra=Mn.sourceLayerIndex;if(this.hasPattern){var qn=Em("fill",this.layers,xn,this.zoom,G);this.patternFeatures.push(qn)}else this.addFeature(xn,On,Wn,ae,{});var Ta=I[Wn].feature;G.featureIndex.insert(Ta,On,Wn,ra,this.index)}},Wu.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,G,this.stateDependentLayers,ae)},Wu.prototype.addFeatures=function(I,G,ae){for(var de=0,Se=this.patternFeatures;de<Se.length;de+=1){var De=Se[de];this.addFeature(De,De.geometry,De.index,G,ae)}},Wu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Wu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wu.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,JM),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},Wu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Wu.prototype.addFeature=function(I,G,ae,de,Se){for(var De=0,qe=Sm(G,g8);De<qe.length;De+=1){for(var gt=qe[De],Et=0,Rt=0,Wt=gt;Rt<Wt.length;Rt+=1){var ar=Wt[Rt];Et+=ar.length}for(var er=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray),xr=er.vertexLength,Or=[],un=[],tn=0,En=gt;tn<En.length;tn+=1){var xn=En[tn];if(xn.length!==0){xn!==gt[0]&&un.push(Or.length/2);var Mn=this.segments2.prepareSegment(xn.length,this.layoutVertexArray,this.indexArray2),On=Mn.vertexLength;this.layoutVertexArray.emplaceBack(xn[0].x,xn[0].y),this.indexArray2.emplaceBack(On+xn.length-1,On),Or.push(xn[0].x),Or.push(xn[0].y);for(var Wn=1;Wn<xn.length;Wn++)this.layoutVertexArray.emplaceBack(xn[Wn].x,xn[Wn].y),this.indexArray2.emplaceBack(On+Wn-1,On+Wn),Or.push(xn[Wn].x),Or.push(xn[Wn].y);Mn.vertexLength+=xn.length,Mn.primitiveLength+=xn.length}}for(var ra=bm(Or,un),qn=0;qn<ra.length;qn+=3)this.indexArray.emplaceBack(xr+ra[qn],xr+ra[qn+1],xr+ra[qn+2]);er.vertexLength+=Et,er.primitiveLength+=ra.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Se,de)},Ne("FillBucket",Wu,{omit:["layers","patternFeatures"]});var y8=new ci({"fill-sort-key":new La(Sr.layout_fill["fill-sort-key"])}),m8=new ci({"fill-antialias":new sa(Sr.paint_fill["fill-antialias"]),"fill-opacity":new La(Sr.paint_fill["fill-opacity"]),"fill-color":new La(Sr.paint_fill["fill-color"]),"fill-outline-color":new La(Sr.paint_fill["fill-outline-color"]),"fill-translate":new sa(Sr.paint_fill["fill-translate"]),"fill-translate-anchor":new sa(Sr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Uo(Sr.paint_fill["fill-pattern"])}),x8={paint:m8,layout:y8},b8=function(D){function I(G){D.call(this,G,x8)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ae,de){D.prototype.recalculate.call(this,ae,de);var Se=this.paint._values["fill-outline-color"];Se.value.kind==="constant"&&Se.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(ae){return new Wu(ae)},I.prototype.queryRadius=function(){return Rl(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(ae,de,Se,De,qe,gt,Et){var Rt=Gu(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),gt.angle,Et);return Vi(Rt,De)},I.prototype.isTileClipped=function(){return!0},I}(Ui),w8=Li([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),T8=w8.members,Qb=Nv;function Nv(D,I,G,ae,de){this.properties={},this.extent=G,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ae,this._values=de,D.readFields(A8,this,I)}function A8(D,I,G){D==1?I.id=G.readVarint():D==2?S8(G,I):D==3?I.type=G.readVarint():D==4&&(I._geometry=G.pos)}function S8(D,I){for(var G=D.readVarint()+D.pos;D.pos<G;){var ae=I._keys[D.readVarint()],de=I._values[D.readVarint()];I.properties[ae]=de}}Nv.types=["Unknown","Point","LineString","Polygon"],Nv.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,G=1,ae=0,de=0,Se=0,De=[],qe;D.pos<I;){if(ae<=0){var gt=D.readVarint();G=gt&7,ae=gt>>3}if(ae--,G===1||G===2)de+=D.readSVarint(),Se+=D.readSVarint(),G===1&&(qe&&De.push(qe),qe=[]),qe.push(new r(de,Se));else if(G===7)qe&&qe.push(qe[0].clone());else throw new Error("unknown command "+G)}return qe&&De.push(qe),De},Nv.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,G=1,ae=0,de=0,Se=0,De=1/0,qe=-1/0,gt=1/0,Et=-1/0;D.pos<I;){if(ae<=0){var Rt=D.readVarint();G=Rt&7,ae=Rt>>3}if(ae--,G===1||G===2)de+=D.readSVarint(),Se+=D.readSVarint(),de<De&&(De=de),de>qe&&(qe=de),Se<gt&&(gt=Se),Se>Et&&(Et=Se);else if(G!==7)throw new Error("unknown command "+G)}return[De,gt,qe,Et]},Nv.prototype.toGeoJSON=function(D,I,G){var ae=this.extent*Math.pow(2,G),de=this.extent*D,Se=this.extent*I,De=this.loadGeometry(),qe=Nv.types[this.type],gt,Et;function Rt(er){for(var xr=0;xr<er.length;xr++){var Or=er[xr],un=180-(Or.y+Se)*360/ae;er[xr]=[(Or.x+de)*360/ae-180,360/Math.PI*Math.atan(Math.exp(un*Math.PI/180))-90]}}switch(this.type){case 1:var Wt=[];for(gt=0;gt<De.length;gt++)Wt[gt]=De[gt][0];De=Wt,Rt(De);break;case 2:for(gt=0;gt<De.length;gt++)Rt(De[gt]);break;case 3:for(De=M8(De),gt=0;gt<De.length;gt++)for(Et=0;Et<De[gt].length;Et++)Rt(De[gt][Et]);break}De.length===1?De=De[0]:qe="Multi"+qe;var ar={type:"Feature",geometry:{type:qe,coordinates:De},properties:this.properties};return"id"in this&&(ar.id=this.id),ar};function M8(D){var I=D.length;if(I<=1)return[D];for(var G=[],ae,de,Se=0;Se<I;Se++){var De=E8(D[Se]);De!==0&&(de===void 0&&(de=De<0),de===De<0?(ae&&G.push(ae),ae=[D[Se]]):ae.push(D[Se]))}return ae&&G.push(ae),G}function E8(D){for(var I=0,G=0,ae=D.length,de=ae-1,Se,De;G<ae;de=G++)Se=D[G],De=D[de],I+=(De.x-Se.x)*(Se.y+De.y);return I}var qb=e3;function e3(D,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(C8,this,I),this.length=this._features.length}function C8(D,I,G){D===15?I.version=G.readVarint():D===1?I.name=G.readString():D===5?I.extent=G.readVarint():D===2?I._features.push(G.pos):D===3?I._keys.push(G.readString()):D===4&&I._values.push(L8(G))}function L8(D){for(var I=null,G=D.readVarint()+D.pos;D.pos<G;){var ae=D.readVarint()>>3;I=ae===1?D.readString():ae===2?D.readFloat():ae===3?D.readDouble():ae===4?D.readVarint64():ae===5?D.readVarint():ae===6?D.readSVarint():ae===7?D.readBoolean():null}return I}e3.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var I=this._pbf.readVarint()+this._pbf.pos;return new Qb(this._pbf,I,this.extent,this._keys,this._values)};var P8=R8;function R8(D,I){this.layers=D.readFields(D8,{},I)}function D8(D,I,G){if(D===3){var ae=new qb(G,G.readVarint()+G.pos);ae.length&&(I[ae.name]=ae)}}var I8=P8,_8=Qb,k8=qb,Bv={VectorTile:I8,VectorTileFeature:_8,VectorTileLayer:k8},F8=Bv.VectorTileFeature.types,O8=500,Cm=Math.pow(2,13);function Kd(D,I,G,ae,de,Se,De,qe){D.emplaceBack(I,G,Math.floor(ae*Cm)*2+De,de*Cm*2,Se*Cm*2,Math.round(qe))}var Yu=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Tf,this.indexArray=new Hu,this.programConfigurations=new va(I.layers,I.zoom),this.segments=new lo,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Yu.prototype.populate=function(I,G,ae){this.features=[],this.hasPattern=Mm("fill-extrusion",this.layers,G);for(var de=0,Se=I;de<Se.length;de+=1){var De=Se[de],qe=De.feature,gt=De.id,Et=De.index,Rt=De.sourceLayerIndex,Wt=this.layers[0]._featureFilter.needGeometry,ar=Ai(qe,Wt);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),ar,ae)){var er={id:gt,sourceLayerIndex:Rt,index:Et,geometry:Wt?ar.geometry:ei(qe),properties:qe.properties,type:qe.type,patterns:{}};this.hasPattern?this.features.push(Em("fill-extrusion",this.layers,er,this.zoom,G)):this.addFeature(er,er.geometry,Et,ae,{}),G.featureIndex.insert(qe,er.geometry,Et,Rt,this.index,!0)}}},Yu.prototype.addFeatures=function(I,G,ae){for(var de=0,Se=this.features;de<Se.length;de+=1){var De=Se[de],qe=De.geometry;this.addFeature(De,qe,De.index,G,ae)}},Yu.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,G,this.stateDependentLayers,ae)},Yu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Yu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Yu.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,T8),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Yu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Yu.prototype.addFeature=function(I,G,ae,de,Se){for(var De=0,qe=Sm(G,O8);De<qe.length;De+=1){for(var gt=qe[De],Et=0,Rt=0,Wt=gt;Rt<Wt.length;Rt+=1){var ar=Wt[Rt];Et+=ar.length}for(var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,Or=gt;xr<Or.length;xr+=1){var un=Or[xr];if(un.length!==0&&!N8(un))for(var tn=0,En=0;En<un.length;En++){var xn=un[En];if(En>=1){var Mn=un[En-1];if(!z8(xn,Mn)){er.vertexLength+4>lo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var On=xn.sub(Mn)._perp()._unit(),Wn=Mn.dist(xn);tn+Wn>32768&&(tn=0),Kd(this.layoutVertexArray,xn.x,xn.y,On.x,On.y,0,0,tn),Kd(this.layoutVertexArray,xn.x,xn.y,On.x,On.y,0,1,tn),tn+=Wn,Kd(this.layoutVertexArray,Mn.x,Mn.y,On.x,On.y,0,0,tn),Kd(this.layoutVertexArray,Mn.x,Mn.y,On.x,On.y,0,1,tn);var ra=er.vertexLength;this.indexArray.emplaceBack(ra,ra+2,ra+1),this.indexArray.emplaceBack(ra+1,ra+2,ra+3),er.vertexLength+=4,er.primitiveLength+=2}}}}if(er.vertexLength+Et>lo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray)),F8[I.type]==="Polygon"){for(var qn=[],Ta=[],da=er.vertexLength,wa=0,Ua=gt;wa<Ua.length;wa+=1){var Aa=Ua[wa];if(Aa.length!==0){Aa!==gt[0]&&Ta.push(qn.length/2);for(var Ca=0;Ca<Aa.length;Ca++){var Ga=Aa[Ca];Kd(this.layoutVertexArray,Ga.x,Ga.y,0,0,1,1,0),qn.push(Ga.x),qn.push(Ga.y)}}}for(var Na=bm(qn,Ta),oi=0;oi<Na.length;oi+=3)this.indexArray.emplaceBack(da+Na[oi],da+Na[oi+2],da+Na[oi+1]);er.primitiveLength+=Na.length/3,er.vertexLength+=Et}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Se,de)},Ne("FillExtrusionBucket",Yu,{omit:["layers","features"]});function z8(D,I){return D.x===I.x&&(D.x<0||D.x>Ma)||D.y===I.y&&(D.y<0||D.y>Ma)}function N8(D){return D.every(function(I){return I.x<0})||D.every(function(I){return I.x>Ma})||D.every(function(I){return I.y<0})||D.every(function(I){return I.y>Ma})}var B8=new ci({"fill-extrusion-opacity":new sa(Sr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new La(Sr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new sa(Sr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new sa(Sr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Uo(Sr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new La(Sr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new La(Sr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new sa(Sr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),U8={paint:B8},V8=function(D){function I(G){D.call(this,G,U8)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new Yu(ae)},I.prototype.queryRadius=function(){return Rl(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(ae,de,Se,De,qe,gt,Et,Rt){var Wt=Gu(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),gt.angle,Et),ar=this.paint.get("fill-extrusion-height").evaluate(de,Se),er=this.paint.get("fill-extrusion-base").evaluate(de,Se),xr=G8(Wt,Rt,gt,0),Or=H8(De,er,ar,Rt),un=Or[0],tn=Or[1];return j8(un,tn,xr)},I}(Ui);function Jd(D,I){return D.x*I.x+D.y*I.y}function t3(D,I){if(D.length===1){for(var G=0,ae=I[G++],de;!de||ae.equals(de);)if(de=I[G++],!de)return 1/0;for(;G<I.length;G++){var Se=I[G],De=D[0],qe=de.sub(ae),gt=Se.sub(ae),Et=De.sub(ae),Rt=Jd(qe,qe),Wt=Jd(qe,gt),ar=Jd(gt,gt),er=Jd(Et,qe),xr=Jd(Et,gt),Or=Rt*ar-Wt*Wt,un=(ar*er-Wt*xr)/Or,tn=(Rt*xr-Wt*er)/Or,En=1-un-tn,xn=ae.z*En+de.z*un+Se.z*tn;if(isFinite(xn))return xn}return 1/0}else{for(var Mn=1/0,On=0,Wn=I;On<Wn.length;On+=1){var ra=Wn[On];Mn=Math.min(Mn,ra.z)}return Mn}}function j8(D,I,G){var ae=1/0;Vi(G,I)&&(ae=t3(G,I[0]));for(var de=0;de<I.length;de++)for(var Se=I[de],De=D[de],qe=0;qe<Se.length-1;qe++){var gt=Se[qe],Et=Se[qe+1],Rt=De[qe],Wt=De[qe+1],ar=[gt,Et,Wt,Rt,gt];Ha(G,ar)&&(ae=Math.min(ae,t3(G,ar)))}return ae===1/0?!1:ae}function H8(D,I,G,ae){for(var de=[],Se=[],De=ae[8]*I,qe=ae[9]*I,gt=ae[10]*I,Et=ae[11]*I,Rt=ae[8]*G,Wt=ae[9]*G,ar=ae[10]*G,er=ae[11]*G,xr=0,Or=D;xr<Or.length;xr+=1){for(var un=Or[xr],tn=[],En=[],xn=0,Mn=un;xn<Mn.length;xn+=1){var On=Mn[xn],Wn=On.x,ra=On.y,qn=ae[0]*Wn+ae[4]*ra+ae[12],Ta=ae[1]*Wn+ae[5]*ra+ae[13],da=ae[2]*Wn+ae[6]*ra+ae[14],wa=ae[3]*Wn+ae[7]*ra+ae[15],Ua=qn+De,Aa=Ta+qe,Ca=da+gt,Ga=wa+Et,Na=qn+Rt,oi=Ta+Wt,xi=da+ar,si=wa+er,li=new r(Ua/Ga,Aa/Ga);li.z=Ca/Ga,tn.push(li);var ti=new r(Na/si,oi/si);ti.z=xi/si,En.push(ti)}de.push(tn),Se.push(En)}return[de,Se]}function G8(D,I,G,ae){for(var de=[],Se=0,De=D;Se<De.length;Se+=1){var qe=De[Se],gt=[qe.x,qe.y,ae,1];b0(gt,gt,I),de.push(new r(gt[0]/gt[3],gt[1]/gt[3]))}return de}var W8=Li([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),Y8=W8.members,X8=Li([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),Z8=X8.members,K8=Bv.VectorTileFeature.types,r3=63,J8=Math.cos(75/2*(Math.PI/180)),$8=15,Q8=20,q8=15,n3=1/2,a3=Math.pow(2,q8-1)/n3,ds=function(I){var G=this;this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ae){return ae.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ae){G.gradients[ae.id]={}}),this.layoutVertexArray=new Hc,this.layoutVertexArray2=new Gc,this.indexArray=new Hu,this.programConfigurations=new va(I.layers,I.zoom),this.segments=new lo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ae){return ae.isStateDependent()}).map(function(ae){return ae.id})};ds.prototype.populate=function(I,G,ae){this.hasPattern=Mm("line",this.layers,G);for(var de=this.layers[0].layout.get("line-sort-key"),Se=[],De=0,qe=I;De<qe.length;De+=1){var gt=qe[De],Et=gt.feature,Rt=gt.id,Wt=gt.index,ar=gt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,xr=Ai(Et,er);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),xr,ae)){var Or=de?de.evaluate(xr,{},ae):void 0,un={id:Rt,properties:Et.properties,type:Et.type,sourceLayerIndex:ar,index:Wt,geometry:er?xr.geometry:ei(Et),patterns:{},sortKey:Or};Se.push(un)}}de&&Se.sort(function(da,wa){return da.sortKey-wa.sortKey});for(var tn=0,En=Se;tn<En.length;tn+=1){var xn=En[tn],Mn=xn,On=Mn.geometry,Wn=Mn.index,ra=Mn.sourceLayerIndex;if(this.hasPattern){var qn=Em("line",this.layers,xn,this.zoom,G);this.patternFeatures.push(qn)}else this.addFeature(xn,On,Wn,ae,{});var Ta=I[Wn].feature;G.featureIndex.insert(Ta,On,Wn,ra,this.index)}},ds.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,G,this.stateDependentLayers,ae)},ds.prototype.addFeatures=function(I,G,ae){for(var de=0,Se=this.patternFeatures;de<Se.length;de+=1){var De=Se[de];this.addFeature(De,De.geometry,De.index,G,ae)}},ds.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ds.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ds.prototype.upload=function(I){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=I.createVertexBuffer(this.layoutVertexArray2,Z8)),this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,Y8),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},ds.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ds.prototype.lineFeatureClips=function(I){if(I.properties&&I.properties.hasOwnProperty("mapbox_clip_start")&&I.properties.hasOwnProperty("mapbox_clip_end")){var G=+I.properties.mapbox_clip_start,ae=+I.properties.mapbox_clip_end;return{start:G,end:ae}}},ds.prototype.addFeature=function(I,G,ae,de,Se){var De=this.layers[0].layout,qe=De.get("line-join").evaluate(I,{}),gt=De.get("line-cap"),Et=De.get("line-miter-limit"),Rt=De.get("line-round-limit");this.lineClips=this.lineFeatureClips(I);for(var Wt=0,ar=G;Wt<ar.length;Wt+=1){var er=ar[Wt];this.addLine(er,I,qe,gt,Et,Rt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Se,de)},ds.prototype.addLine=function(I,G,ae,de,Se,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var qe=0;qe<I.length-1;qe++)this.totalDistance+=I[qe].dist(I[qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var gt=K8[G.type]==="Polygon",Et=I.length;Et>=2&&I[Et-1].equals(I[Et-2]);)Et--;for(var Rt=0;Rt<Et-1&&I[Rt].equals(I[Rt+1]);)Rt++;if(!(Et<(gt?3:2))){ae==="bevel"&&(Se=1.05);var Wt=this.overscaling<=16?$8*Ma/(512*this.overscaling):0,ar=this.segments.prepareSegment(Et*10,this.layoutVertexArray,this.indexArray),er,xr=void 0,Or=void 0,un=void 0,tn=void 0;this.e1=this.e2=-1,gt&&(er=I[Et-2],tn=I[Rt].sub(er)._unit()._perp());for(var En=Rt;En<Et;En++)if(Or=En===Et-1?gt?I[Rt+1]:void 0:I[En+1],!(Or&&I[En].equals(Or))){tn&&(un=tn),er&&(xr=er),er=I[En],tn=Or?Or.sub(er)._unit()._perp():un,un=un||tn;var xn=un.add(tn);(xn.x!==0||xn.y!==0)&&xn._unit();var Mn=un.x*tn.x+un.y*tn.y,On=xn.x*tn.x+xn.y*tn.y,Wn=On!==0?1/On:1/0,ra=2*Math.sqrt(2-2*On),qn=On<J8&&xr&&Or,Ta=un.x*tn.y-un.y*tn.x>0;if(qn&&En>Rt){var da=er.dist(xr);if(da>2*Wt){var wa=er.sub(er.sub(xr)._mult(Wt/da)._round());this.updateDistance(xr,wa),this.addCurrentVertex(wa,un,0,0,ar),xr=wa}}var Ua=xr&&Or,Aa=Ua?ae:gt?"butt":de;if(Ua&&Aa==="round"&&(Wn<De?Aa="miter":Wn<=2&&(Aa="fakeround")),Aa==="miter"&&Wn>Se&&(Aa="bevel"),Aa==="bevel"&&(Wn>2&&(Aa="flipbevel"),Wn<Se&&(Aa="miter")),xr&&this.updateDistance(xr,er),Aa==="miter")xn._mult(Wn),this.addCurrentVertex(er,xn,0,0,ar);else if(Aa==="flipbevel"){if(Wn>100)xn=tn.mult(-1);else{var Ca=Wn*un.add(tn).mag()/un.sub(tn).mag();xn._perp()._mult(Ca*(Ta?-1:1))}this.addCurrentVertex(er,xn,0,0,ar),this.addCurrentVertex(er,xn.mult(-1),0,0,ar)}else if(Aa==="bevel"||Aa==="fakeround"){var Ga=-Math.sqrt(Wn*Wn-1),Na=Ta?Ga:0,oi=Ta?0:Ga;if(xr&&this.addCurrentVertex(er,un,Na,oi,ar),Aa==="fakeround")for(var xi=Math.round(ra*180/Math.PI/Q8),si=1;si<xi;si++){var li=si/xi;if(li!==.5){var ti=li-.5,Si=1.0904+Mn*(-3.2452+Mn*(3.55645-Mn*1.43519)),Ei=.848013+Mn*(-1.06021+Mn*.215638);li=li+li*ti*(li-1)*(Si*ti*ti+Ei)}var ji=tn.sub(un)._mult(li)._add(un)._unit()._mult(Ta?-1:1);this.addHalfVertex(er,ji.x,ji.y,!1,Ta,0,ar)}Or&&this.addCurrentVertex(er,tn,-Na,-oi,ar)}else if(Aa==="butt")this.addCurrentVertex(er,xn,0,0,ar);else if(Aa==="square"){var Zi=xr?1:-1;this.addCurrentVertex(er,xn,Zi,Zi,ar)}else Aa==="round"&&(xr&&(this.addCurrentVertex(er,un,0,0,ar),this.addCurrentVertex(er,un,1,1,ar,!0)),Or&&(this.addCurrentVertex(er,tn,-1,-1,ar,!0),this.addCurrentVertex(er,tn,0,0,ar)));if(qn&&En<Et-1){var Ro=er.dist(Or);if(Ro>2*Wt){var ho=er.add(Or.sub(er)._mult(Wt/Ro)._round());this.updateDistance(er,ho),this.addCurrentVertex(ho,tn,0,0,ar),er=ho}}}}},ds.prototype.addCurrentVertex=function(I,G,ae,de,Se,De){De===void 0&&(De=!1);var qe=G.x+G.y*ae,gt=G.y-G.x*ae,Et=-G.x+G.y*de,Rt=-G.y-G.x*de;this.addHalfVertex(I,qe,gt,De,!1,ae,Se),this.addHalfVertex(I,Et,Rt,De,!0,-de,Se),this.distance>a3/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(I,G,ae,de,Se,De))},ds.prototype.addHalfVertex=function(I,G,ae,de,Se,De,qe){var gt=I.x,Et=I.y,Rt=this.lineClips?this.scaledDistance*(a3-1):this.scaledDistance,Wt=Rt*n3;if(this.layoutVertexArray.emplaceBack((gt<<1)+(de?1:0),(Et<<1)+(Se?1:0),Math.round(r3*G)+128,Math.round(r3*ae)+128,(De===0?0:De<0?-1:1)+1|(Wt&63)<<2,Wt>>6),this.lineClips){var ar=this.scaledDistance-this.lineClips.start,er=this.lineClips.end-this.lineClips.start,xr=ar/er;this.layoutVertexArray2.emplaceBack(xr,this.lineClipsArray.length)}var Or=qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Or),qe.primitiveLength++),Se?this.e2=Or:this.e1=Or},ds.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ds.prototype.updateDistance=function(I,G){this.distance+=I.dist(G),this.updateScaledDistance()},Ne("LineBucket",ds,{omit:["layers","patternFeatures"]});var eE=new ci({"line-cap":new sa(Sr.layout_line["line-cap"]),"line-join":new La(Sr.layout_line["line-join"]),"line-miter-limit":new sa(Sr.layout_line["line-miter-limit"]),"line-round-limit":new sa(Sr.layout_line["line-round-limit"]),"line-sort-key":new La(Sr.layout_line["line-sort-key"])}),tE=new ci({"line-opacity":new La(Sr.paint_line["line-opacity"]),"line-color":new La(Sr.paint_line["line-color"]),"line-translate":new sa(Sr.paint_line["line-translate"]),"line-translate-anchor":new sa(Sr.paint_line["line-translate-anchor"]),"line-width":new La(Sr.paint_line["line-width"]),"line-gap-width":new La(Sr.paint_line["line-gap-width"]),"line-offset":new La(Sr.paint_line["line-offset"]),"line-blur":new La(Sr.paint_line["line-blur"]),"line-dasharray":new Yo(Sr.paint_line["line-dasharray"]),"line-pattern":new Uo(Sr.paint_line["line-pattern"]),"line-gradient":new so(Sr.paint_line["line-gradient"])}),i3={paint:tE,layout:eE},rE=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ae,de){return de=new Sa(Math.floor(de.zoom),{now:de.now,fadeDuration:de.fadeDuration,zoomHistory:de.zoomHistory,transition:de.transition}),D.prototype.possiblyEvaluate.call(this,ae,de)},I.prototype.evaluate=function(ae,de,Se,De){return de=T({},de,{zoom:Math.floor(de.zoom)}),D.prototype.evaluate.call(this,ae,de,Se,De)},I}(La),o3=new rE(i3.paint.properties["line-width"].specification);o3.useIntegerZoom=!0;var nE=function(D){function I(G){D.call(this,G,i3),this.gradientVersion=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(ae){if(ae==="line-gradient"){var de=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=de._styleExpression.expression instanceof is,this.gradientVersion=(this.gradientVersion+1)%u}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(ae,de){D.prototype.recalculate.call(this,ae,de),this.paint._values["line-floorwidth"]=o3.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},I.prototype.createBucket=function(ae){return new ds(ae)},I.prototype.queryRadius=function(ae){var de=ae,Se=s3(vs("line-width",this,de),vs("line-gap-width",this,de)),De=vs("line-offset",this,de);return Se/2+Math.abs(De)+Rl(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(ae,de,Se,De,qe,gt,Et){var Rt=Gu(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),gt.angle,Et),Wt=Et/2*s3(this.paint.get("line-width").evaluate(de,Se),this.paint.get("line-gap-width").evaluate(de,Se)),ar=this.paint.get("line-offset").evaluate(de,Se);return ar&&(De=aE(De,ar*Et)),bo(Rt,De,Wt)},I.prototype.isTileClipped=function(){return!0},I}(Ui);function s3(D,I){return I>0?I+2*D:D}function aE(D,I){for(var G=[],ae=new r(0,0),de=0;de<D.length;de++){for(var Se=D[de],De=[],qe=0;qe<Se.length;qe++){var gt=Se[qe-1],Et=Se[qe],Rt=Se[qe+1],Wt=qe===0?ae:Et.sub(gt)._unit()._perp(),ar=qe===Se.length-1?ae:Rt.sub(Et)._unit()._perp(),er=Wt._add(ar)._unit(),xr=er.x*ar.x+er.y*ar.y;er._mult(1/xr),De.push(er._mult(I)._add(Et))}G.push(De)}return G}var iE=Li([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),oE=Li([{name:"a_projected_pos",components:3,type:"Float32"}],4);Li([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var sE=Li([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Li([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var l3=Li([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),lE=Li([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Li([{name:"triangle",components:3,type:"Uint16"}]),Li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Li([{type:"Float32",name:"offsetX"}]),Li([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function uE(D,I,G){var ae=I.layout.get("text-transform").evaluate(G,{});return ae==="uppercase"?D=D.toLocaleUpperCase():ae==="lowercase"&&(D=D.toLocaleLowerCase()),Jn.applyArabicShaping&&(D=Jn.applyArabicShaping(D)),D}function fE(D,I,G){return D.sections.forEach(function(ae){ae.text=uE(ae.text,I,G)}),D}function cE(D){var I={},G={},ae=[],de=0;function Se(tn){ae.push(D[tn]),de++}function De(tn,En,xn){var Mn=G[tn];return delete G[tn],G[En]=Mn,ae[Mn].geometry[0].pop(),ae[Mn].geometry[0]=ae[Mn].geometry[0].concat(xn[0]),Mn}function qe(tn,En,xn){var Mn=I[En];return delete I[En],I[tn]=Mn,ae[Mn].geometry[0].shift(),ae[Mn].geometry[0]=xn[0].concat(ae[Mn].geometry[0]),Mn}function gt(tn,En,xn){var Mn=xn?En[0][En[0].length-1]:En[0][0];return tn+":"+Mn.x+":"+Mn.y}for(var Et=0;Et<D.length;Et++){var Rt=D[Et],Wt=Rt.geometry,ar=Rt.text?Rt.text.toString():null;if(!ar){Se(Et);continue}var er=gt(ar,Wt),xr=gt(ar,Wt,!0);if(er in G&&xr in I&&G[er]!==I[xr]){var Or=qe(er,xr,Wt),un=De(er,xr,ae[Or].geometry);delete I[er],delete G[xr],G[gt(ar,ae[un].geometry,!0)]=un,ae[Or].geometry=null}else er in G?De(er,xr,Wt):xr in I?qe(er,xr,Wt):(Se(Et),I[er]=de-1,G[xr]=de-1)}return ae.filter(function(tn){return tn.geometry})}var $d={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function hE(D){for(var I="",G=0;G<D.length;G++){var ae=D.charCodeAt(G+1)||null,de=D.charCodeAt(G-1)||null,Se=(!ae||!Ur(ae)||$d[D[G+1]])&&(!de||!Ur(de)||$d[D[G-1]]);Se&&$d[D[G]]?I+=$d[D[G]]:I+=D[G]}return I}var Vo=24,vE=function(D,I,G,ae,de){var Se,De,qe=de*8-ae-1,gt=(1<<qe)-1,Et=gt>>1,Rt=-7,Wt=G?de-1:0,ar=G?-1:1,er=D[I+Wt];for(Wt+=ar,Se=er&(1<<-Rt)-1,er>>=-Rt,Rt+=qe;Rt>0;Se=Se*256+D[I+Wt],Wt+=ar,Rt-=8);for(De=Se&(1<<-Rt)-1,Se>>=-Rt,Rt+=ae;Rt>0;De=De*256+D[I+Wt],Wt+=ar,Rt-=8);if(Se===0)Se=1-Et;else{if(Se===gt)return De?NaN:(er?-1:1)*(1/0);De=De+Math.pow(2,ae),Se=Se-Et}return(er?-1:1)*De*Math.pow(2,Se-ae)},dE=function(D,I,G,ae,de,Se){var De,qe,gt,Et=Se*8-de-1,Rt=(1<<Et)-1,Wt=Rt>>1,ar=de===23?Math.pow(2,-24)-Math.pow(2,-77):0,er=ae?0:Se-1,xr=ae?1:-1,Or=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(qe=isNaN(I)?1:0,De=Rt):(De=Math.floor(Math.log(I)/Math.LN2),I*(gt=Math.pow(2,-De))<1&&(De--,gt*=2),De+Wt>=1?I+=ar/gt:I+=ar*Math.pow(2,1-Wt),I*gt>=2&&(De++,gt/=2),De+Wt>=Rt?(qe=0,De=Rt):De+Wt>=1?(qe=(I*gt-1)*Math.pow(2,de),De=De+Wt):(qe=I*Math.pow(2,Wt-1)*Math.pow(2,de),De=0));de>=8;D[G+er]=qe&255,er+=xr,qe/=256,de-=8);for(De=De<<de|qe,Et+=de;Et>0;D[G+er]=De&255,er+=xr,De/=256,Et-=8);D[G+er-xr]|=Or*128},M0={read:vE,write:dE},E0=Mi;function Mi(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Mi.Varint=0,Mi.Fixed64=1,Mi.Bytes=2,Mi.Fixed32=5;var Lm=65536*65536,u3=1/Lm,pE=12,f3=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Mi.prototype={destroy:function(){this.buf=null},readFields:function(D,I,G){for(G=G||this.length;this.pos<G;){var ae=this.readVarint(),de=ae>>3,Se=this.pos;this.type=ae&7,D(de,I,this),this.pos===Se&&this.skip(ae)}return I},readMessage:function(D,I){return this.readFields(D,I,this.readVarint()+this.pos)},readFixed32:function(){var D=C0(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=h3(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=C0(this.buf,this.pos)+C0(this.buf,this.pos+4)*Lm;return this.pos+=8,D},readSFixed64:function(){var D=C0(this.buf,this.pos)+h3(this.buf,this.pos+4)*Lm;return this.pos+=8,D},readFloat:function(){var D=M0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=M0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var I=this.buf,G,ae;return ae=I[this.pos++],G=ae&127,ae<128||(ae=I[this.pos++],G|=(ae&127)<<7,ae<128)||(ae=I[this.pos++],G|=(ae&127)<<14,ae<128)||(ae=I[this.pos++],G|=(ae&127)<<21,ae<128)?G:(ae=I[this.pos],G|=(ae&15)<<28,gE(G,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,I=this.pos;return this.pos=D,D-I>=pE&&f3?RE(this.buf,I,D):PE(this.buf,I,D)},readBytes:function(){var D=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,D);return this.pos=D,I},readPackedVarint:function(D,I){if(this.type!==Mi.Bytes)return D.push(this.readVarint(I));var G=rc(this);for(D=D||[];this.pos<G;)D.push(this.readVarint(I));return D},readPackedSVarint:function(D){if(this.type!==Mi.Bytes)return D.push(this.readSVarint());var I=rc(this);for(D=D||[];this.pos<I;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Mi.Bytes)return D.push(this.readBoolean());var I=rc(this);for(D=D||[];this.pos<I;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Mi.Bytes)return D.push(this.readFloat());var I=rc(this);for(D=D||[];this.pos<I;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Mi.Bytes)return D.push(this.readDouble());var I=rc(this);for(D=D||[];this.pos<I;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Mi.Bytes)return D.push(this.readFixed32());var I=rc(this);for(D=D||[];this.pos<I;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Mi.Bytes)return D.push(this.readSFixed32());var I=rc(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Mi.Bytes)return D.push(this.readFixed64());var I=rc(this);for(D=D||[];this.pos<I;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Mi.Bytes)return D.push(this.readSFixed64());var I=rc(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed64());return D},skip:function(D){var I=D&7;if(I===Mi.Varint)for(;this.buf[this.pos++]>127;);else if(I===Mi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===Mi.Fixed32)this.pos+=4;else if(I===Mi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+I)},writeTag:function(D,I){this.writeVarint(D<<3|I)},realloc:function(D){for(var I=this.length||16;I<this.pos+D;)I*=2;if(I!==this.length){var G=new Uint8Array(I);G.set(this.buf),this.buf=G,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),Vv(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),Vv(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),Vv(this.buf,D&-1,this.pos),Vv(this.buf,Math.floor(D*u3),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),Vv(this.buf,D&-1,this.pos),Vv(this.buf,Math.floor(D*u3),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){yE(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var I=this.pos;this.pos=DE(this.buf,D,this.pos);var G=this.pos-I;G>=128&&c3(I,G,this),this.pos=I-1,this.writeVarint(G),this.pos+=G},writeFloat:function(D){this.realloc(4),M0.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),M0.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var I=D.length;this.writeVarint(I),this.realloc(I);for(var G=0;G<I;G++)this.buf[this.pos++]=D[G]},writeRawMessage:function(D,I){this.pos++;var G=this.pos;D(I,this);var ae=this.pos-G;ae>=128&&c3(G,ae,this),this.pos=G-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(D,I,G){this.writeTag(D,Mi.Bytes),this.writeRawMessage(I,G)},writePackedVarint:function(D,I){I.length&&this.writeMessage(D,bE,I)},writePackedSVarint:function(D,I){I.length&&this.writeMessage(D,wE,I)},writePackedBoolean:function(D,I){I.length&&this.writeMessage(D,SE,I)},writePackedFloat:function(D,I){I.length&&this.writeMessage(D,TE,I)},writePackedDouble:function(D,I){I.length&&this.writeMessage(D,AE,I)},writePackedFixed32:function(D,I){I.length&&this.writeMessage(D,ME,I)},writePackedSFixed32:function(D,I){I.length&&this.writeMessage(D,EE,I)},writePackedFixed64:function(D,I){I.length&&this.writeMessage(D,CE,I)},writePackedSFixed64:function(D,I){I.length&&this.writeMessage(D,LE,I)},writeBytesField:function(D,I){this.writeTag(D,Mi.Bytes),this.writeBytes(I)},writeFixed32Field:function(D,I){this.writeTag(D,Mi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(D,I){this.writeTag(D,Mi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(D,I){this.writeTag(D,Mi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(D,I){this.writeTag(D,Mi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(D,I){this.writeTag(D,Mi.Varint),this.writeVarint(I)},writeSVarintField:function(D,I){this.writeTag(D,Mi.Varint),this.writeSVarint(I)},writeStringField:function(D,I){this.writeTag(D,Mi.Bytes),this.writeString(I)},writeFloatField:function(D,I){this.writeTag(D,Mi.Fixed32),this.writeFloat(I)},writeDoubleField:function(D,I){this.writeTag(D,Mi.Fixed64),this.writeDouble(I)},writeBooleanField:function(D,I){this.writeVarintField(D,!!I)}};function gE(D,I,G){var ae=G.buf,de,Se;if(Se=ae[G.pos++],de=(Se&112)>>4,Se<128||(Se=ae[G.pos++],de|=(Se&127)<<3,Se<128)||(Se=ae[G.pos++],de|=(Se&127)<<10,Se<128)||(Se=ae[G.pos++],de|=(Se&127)<<17,Se<128)||(Se=ae[G.pos++],de|=(Se&127)<<24,Se<128)||(Se=ae[G.pos++],de|=(Se&1)<<31,Se<128))return Uv(D,de,I);throw new Error("Expected varint not more than 10 bytes")}function rc(D){return D.type===Mi.Bytes?D.readVarint()+D.pos:D.pos+1}function Uv(D,I,G){return G?I*4294967296+(D>>>0):(I>>>0)*4294967296+(D>>>0)}function yE(D,I){var G,ae;if(D>=0?(G=D%4294967296|0,ae=D/4294967296|0):(G=~(-D%4294967296),ae=~(-D/4294967296),G^4294967295?G=G+1|0:(G=0,ae=ae+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),mE(G,ae,I),xE(ae,I)}function mE(D,I,G){G.buf[G.pos++]=D&127|128,D>>>=7,G.buf[G.pos++]=D&127|128,D>>>=7,G.buf[G.pos++]=D&127|128,D>>>=7,G.buf[G.pos++]=D&127|128,D>>>=7,G.buf[G.pos]=D&127}function xE(D,I){var G=(D&7)<<4;I.buf[I.pos++]|=G|((D>>>=3)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127)))))}function c3(D,I,G){var ae=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(Math.LN2*7));G.realloc(ae);for(var de=G.pos-1;de>=D;de--)G.buf[de+ae]=G.buf[de]}function bE(D,I){for(var G=0;G<D.length;G++)I.writeVarint(D[G])}function wE(D,I){for(var G=0;G<D.length;G++)I.writeSVarint(D[G])}function TE(D,I){for(var G=0;G<D.length;G++)I.writeFloat(D[G])}function AE(D,I){for(var G=0;G<D.length;G++)I.writeDouble(D[G])}function SE(D,I){for(var G=0;G<D.length;G++)I.writeBoolean(D[G])}function ME(D,I){for(var G=0;G<D.length;G++)I.writeFixed32(D[G])}function EE(D,I){for(var G=0;G<D.length;G++)I.writeSFixed32(D[G])}function CE(D,I){for(var G=0;G<D.length;G++)I.writeFixed64(D[G])}function LE(D,I){for(var G=0;G<D.length;G++)I.writeSFixed64(D[G])}function C0(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+D[I+3]*16777216}function Vv(D,I,G){D[G]=I,D[G+1]=I>>>8,D[G+2]=I>>>16,D[G+3]=I>>>24}function h3(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+(D[I+3]<<24)}function PE(D,I,G){for(var ae="",de=I;de<G;){var Se=D[de],De=null,qe=Se>239?4:Se>223?3:Se>191?2:1;if(de+qe>G)break;var gt,Et,Rt;qe===1?Se<128&&(De=Se):qe===2?(gt=D[de+1],(gt&192)===128&&(De=(Se&31)<<6|gt&63,De<=127&&(De=null))):qe===3?(gt=D[de+1],Et=D[de+2],(gt&192)===128&&(Et&192)===128&&(De=(Se&15)<<12|(gt&63)<<6|Et&63,(De<=2047||De>=55296&&De<=57343)&&(De=null))):qe===4&&(gt=D[de+1],Et=D[de+2],Rt=D[de+3],(gt&192)===128&&(Et&192)===128&&(Rt&192)===128&&(De=(Se&15)<<18|(gt&63)<<12|(Et&63)<<6|Rt&63,(De<=65535||De>=1114112)&&(De=null))),De===null?(De=65533,qe=1):De>65535&&(De-=65536,ae+=String.fromCharCode(De>>>10&1023|55296),De=56320|De&1023),ae+=String.fromCharCode(De),de+=qe}return ae}function RE(D,I,G){return f3.decode(D.subarray(I,G))}function DE(D,I,G){for(var ae=0,de,Se;ae<I.length;ae++){if(de=I.charCodeAt(ae),de>55295&&de<57344)if(Se)if(de<56320){D[G++]=239,D[G++]=191,D[G++]=189,Se=de;continue}else de=Se-55296<<10|de-56320|65536,Se=null;else{de>56319||ae+1===I.length?(D[G++]=239,D[G++]=191,D[G++]=189):Se=de;continue}else Se&&(D[G++]=239,D[G++]=191,D[G++]=189,Se=null);de<128?D[G++]=de:(de<2048?D[G++]=de>>6|192:(de<65536?D[G++]=de>>12|224:(D[G++]=de>>18|240,D[G++]=de>>12&63|128),D[G++]=de>>6&63|128),D[G++]=de&63|128)}return G}var Pm=3;function IE(D,I,G){D===1&&G.readMessage(_E,I)}function _E(D,I,G){if(D===3){var ae=G.readMessage(kE,{}),de=ae.id,Se=ae.bitmap,De=ae.width,qe=ae.height,gt=ae.left,Et=ae.top,Rt=ae.advance;I.push({id:de,bitmap:new nv({width:De+2*Pm,height:qe+2*Pm},Se),metrics:{width:De,height:qe,left:gt,top:Et,advance:Rt}})}}function kE(D,I,G){D===1?I.id=G.readVarint():D===2?I.bitmap=G.readBytes():D===3?I.width=G.readVarint():D===4?I.height=G.readVarint():D===5?I.left=G.readSVarint():D===6?I.top=G.readSVarint():D===7&&(I.advance=G.readVarint())}function FE(D){return new E0(D).readFields(IE,[])}var v3=Pm;function d3(D){for(var I=0,G=0,ae=0,de=D;ae<de.length;ae+=1){var Se=de[ae];I+=Se.w*Se.h,G=Math.max(G,Se.w)}D.sort(function(un,tn){return tn.h-un.h});for(var De=Math.max(Math.ceil(Math.sqrt(I/.95)),G),qe=[{x:0,y:0,w:De,h:1/0}],gt=0,Et=0,Rt=0,Wt=D;Rt<Wt.length;Rt+=1)for(var ar=Wt[Rt],er=qe.length-1;er>=0;er--){var xr=qe[er];if(!(ar.w>xr.w||ar.h>xr.h)){if(ar.x=xr.x,ar.y=xr.y,Et=Math.max(Et,ar.y+ar.h),gt=Math.max(gt,ar.x+ar.w),ar.w===xr.w&&ar.h===xr.h){var Or=qe.pop();er<qe.length&&(qe[er]=Or)}else ar.h===xr.h?(xr.x+=ar.w,xr.w-=ar.w):ar.w===xr.w?(xr.y+=ar.h,xr.h-=ar.h):(qe.push({x:xr.x+ar.w,y:xr.y,w:xr.w-ar.w,h:ar.h}),xr.y+=ar.h,xr.h-=ar.h);break}}return{w:gt,h:Et,fill:I/(gt*Et)||0}}var Xs=1,L0=function(I,G){var ae=G.pixelRatio,de=G.version,Se=G.stretchX,De=G.stretchY,qe=G.content;this.paddedRect=I,this.pixelRatio=ae,this.stretchX=Se,this.stretchY=De,this.content=qe,this.version=de},Qd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Qd.tl.get=function(){return[this.paddedRect.x+Xs,this.paddedRect.y+Xs]},Qd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Xs,this.paddedRect.y+this.paddedRect.h-Xs]},Qd.tlbr.get=function(){return this.tl.concat(this.br)},Qd.displaySize.get=function(){return[(this.paddedRect.w-Xs*2)/this.pixelRatio,(this.paddedRect.h-Xs*2)/this.pixelRatio]},Object.defineProperties(L0.prototype,Qd);var qd=function(I,G){var ae={},de={};this.haveRenderCallbacks=[];var Se=[];this.addImages(I,ae,Se),this.addImages(G,de,Se);var De=d3(Se),qe=De.w,gt=De.h,Et=new Ds({width:qe||1,height:gt||1});for(var Rt in I){var Wt=I[Rt],ar=ae[Rt].paddedRect;Ds.copy(Wt.data,Et,{x:0,y:0},{x:ar.x+Xs,y:ar.y+Xs},Wt.data)}for(var er in G){var xr=G[er],Or=de[er].paddedRect,un=Or.x+Xs,tn=Or.y+Xs,En=xr.data.width,xn=xr.data.height;Ds.copy(xr.data,Et,{x:0,y:0},{x:un,y:tn},xr.data),Ds.copy(xr.data,Et,{x:0,y:xn-1},{x:un,y:tn-1},{width:En,height:1}),Ds.copy(xr.data,Et,{x:0,y:0},{x:un,y:tn+xn},{width:En,height:1}),Ds.copy(xr.data,Et,{x:En-1,y:0},{x:un-1,y:tn},{width:1,height:xn}),Ds.copy(xr.data,Et,{x:0,y:0},{x:un+En,y:tn},{width:1,height:xn})}this.image=Et,this.iconPositions=ae,this.patternPositions=de};qd.prototype.addImages=function(I,G,ae){for(var de in I){var Se=I[de],De={x:0,y:0,w:Se.data.width+2*Xs,h:Se.data.height+2*Xs};ae.push(De),G[de]=new L0(De,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(de)}},qd.prototype.patchUpdatedImages=function(I,G){I.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in I.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],I.getImage(ae),G),this.patchUpdatedImage(this.patternPositions[ae],I.getImage(ae),G)},qd.prototype.patchUpdatedImage=function(I,G,ae){if(!(!I||!G)&&I.version!==G.version){I.version=G.version;var de=I.tl,Se=de[0],De=de[1];ae.update(G.data,void 0,{x:Se,y:De})}},Ne("ImagePosition",L0),Ne("ImageAtlas",qd);var cl={horizontal:1,vertical:2,horizontalOnly:3},ep=-17;function OE(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(ae.positionedGlyphs.length!==0)return!1}return!0}var p3=57344,g3=63743,jv=function(){this.scale=1,this.fontStack="",this.imageName=null};jv.forText=function(I,G){var ae=new jv;return ae.scale=I||1,ae.fontStack=G,ae},jv.forImage=function(I){var G=new jv;return G.imageName=I,G};var $o=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};$o.fromFeature=function(I,G){for(var ae=new $o,de=0;de<I.sections.length;de++){var Se=I.sections[de];Se.image?ae.addImageSection(Se):ae.addTextSection(Se,G)}return ae},$o.prototype.length=function(){return this.text.length},$o.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},$o.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},$o.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},$o.prototype.verticalizePunctuation=function(){this.text=hE(this.text)},$o.prototype.trim=function(){for(var I=0,G=0;G<this.text.length&&Mf[this.text.charCodeAt(G)];G++)I++;for(var ae=this.text.length,de=this.text.length-1;de>=0&&de>=I&&Mf[this.text.charCodeAt(de)];de--)ae--;this.text=this.text.substring(I,ae),this.sectionIndex=this.sectionIndex.slice(I,ae)},$o.prototype.substring=function(I,G){var ae=new $o;return ae.text=this.text.substring(I,G),ae.sectionIndex=this.sectionIndex.slice(I,G),ae.sections=this.sections,ae},$o.prototype.toString=function(){return this.text},$o.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(G,ae){return Math.max(G,I.sections[ae].scale)},0)},$o.prototype.addTextSection=function(I,G){this.text+=I.text,this.sections.push(jv.forText(I.scale,I.fontStack||G));for(var ae=this.sections.length-1,de=0;de<I.text.length;++de)this.sectionIndex.push(ae)},$o.prototype.addImageSection=function(I){var G=I.image?I.image.name:"";if(G.length===0){B("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){B("Reached maximum number of images "+(g3-p3+2));return}this.text+=String.fromCharCode(ae),this.sections.push(jv.forImage(G)),this.sectionIndex.push(this.sections.length-1)},$o.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=g3?null:++this.imageSectionID:(this.imageSectionID=p3,this.imageSectionID)};function zE(D,I){for(var G=[],ae=D.text,de=0,Se=0,De=I;Se<De.length;Se+=1){var qe=De[Se];G.push(D.substring(de,qe)),de=qe}return de<ae.length&&G.push(D.substring(de,ae.length)),G}function P0(D,I,G,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or){var un=$o.fromFeature(D,de);Wt===cl.vertical&&un.verticalizePunctuation();var tn,En=Jn.processBidirectionalText,xn=Jn.processStyledBidirectionalText;if(En&&un.sections.length===1){tn=[];for(var Mn=En(un.toString(),Rm(un,Et,Se,I,ae,er,xr)),On=0,Wn=Mn;On<Wn.length;On+=1){var ra=Wn[On],qn=new $o;qn.text=ra,qn.sections=un.sections;for(var Ta=0;Ta<ra.length;Ta++)qn.sectionIndex.push(0);tn.push(qn)}}else if(xn){tn=[];for(var da=xn(un.text,un.sectionIndex,Rm(un,Et,Se,I,ae,er,xr)),wa=0,Ua=da;wa<Ua.length;wa+=1){var Aa=Ua[wa],Ca=new $o;Ca.text=Aa[0],Ca.sectionIndex=Aa[1],Ca.sections=un.sections,tn.push(Ca)}}else tn=zE(un,Rm(un,Et,Se,I,ae,er,xr));var Ga=[],Na={positionedLines:Ga,text:un.toString(),top:Rt[1],bottom:Rt[1],left:Rt[0],right:Rt[0],writingMode:Wt,iconsInText:!1,verticalizable:!1};return UE(Na,I,G,ae,tn,De,qe,gt,Wt,Et,ar,Or),OE(Ga)?!1:Na}var Mf={};Mf[9]=!0,Mf[10]=!0,Mf[11]=!0,Mf[12]=!0,Mf[13]=!0,Mf[32]=!0;var Zs={};Zs[10]=!0,Zs[32]=!0,Zs[38]=!0,Zs[40]=!0,Zs[41]=!0,Zs[43]=!0,Zs[45]=!0,Zs[47]=!0,Zs[173]=!0,Zs[183]=!0,Zs[8203]=!0,Zs[8208]=!0,Zs[8211]=!0,Zs[8231]=!0;function y3(D,I,G,ae,de,Se){if(I.imageName){var gt=ae[I.imageName];return gt?gt.displaySize[0]*I.scale*Vo/Se+de:0}else{var De=G[I.fontStack],qe=De&&De[D];return qe?qe.metrics.advance*I.scale+de:0}}function NE(D,I,G,ae,de,Se){for(var De=0,qe=0;qe<D.length();qe++){var gt=D.getSection(qe);De+=y3(D.getCharCode(qe),gt,ae,de,I,Se)}var Et=Math.max(1,Math.ceil(De/G));return De/Et}function m3(D,I,G,ae){var de=Math.pow(D-I,2);return ae?D<I?de/2:de*2:de+Math.abs(G)*G}function BE(D,I,G){var ae=0;return D===10&&(ae-=1e4),G&&(ae+=150),(D===40||D===65288)&&(ae+=50),(I===41||I===65289)&&(ae+=50),ae}function x3(D,I,G,ae,de,Se){for(var De=null,qe=m3(I,G,de,Se),gt=0,Et=ae;gt<Et.length;gt+=1){var Rt=Et[gt],Wt=I-Rt.x,ar=m3(Wt,G,de,Se)+Rt.badness;ar<=qe&&(De=Rt,qe=ar)}return{index:D,x:I,priorBreak:De,badness:qe}}function b3(D){return D?b3(D.priorBreak).concat(D.index):[]}function Rm(D,I,G,ae,de,Se,De){if(Se!=="point")return[];if(!D)return[];for(var qe=[],gt=NE(D,I,G,ae,de,De),Et=D.text.indexOf("​")>=0,Rt=0,Wt=0;Wt<D.length();Wt++){var ar=D.getSection(Wt),er=D.getCharCode(Wt);if(Mf[er]||(Rt+=y3(er,ar,ae,de,I,De)),Wt<D.length()-1){var xr=$r(er);(Zs[er]||xr||ar.imageName)&&qe.push(x3(Wt+1,Rt,gt,qe,BE(er,D.getCharCode(Wt+1),xr&&Et),!1))}}return b3(x3(D.length(),Rt,gt,qe,0,!0))}function Dm(D){var I=.5,G=.5;switch(D){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":G=1;break;case"top":case"top-right":case"top-left":G=0;break}return{horizontalAlign:I,verticalAlign:G}}function UE(D,I,G,ae,de,Se,De,qe,gt,Et,Rt,Wt){for(var ar=0,er=ep,xr=0,Or=0,un=qe==="right"?1:qe==="left"?0:.5,tn=0,En=0,xn=de;En<xn.length;En+=1){var Mn=xn[En];Mn.trim();var On=Mn.getMaxScale(),Wn=(On-1)*Vo,ra={positionedGlyphs:[],lineOffset:0};D.positionedLines[tn]=ra;var qn=ra.positionedGlyphs,Ta=0;if(!Mn.length()){er+=Se,++tn;continue}for(var da=0;da<Mn.length();da++){var wa=Mn.getSection(da),Ua=Mn.getSectionIndex(da),Aa=Mn.getCharCode(da),Ca=0,Ga=null,Na=null,oi=null,xi=Vo,si=!(gt===cl.horizontal||!Rt&&!sn(Aa)||Rt&&(Mf[Aa]||Kr(Aa)));if(wa.imageName){var ji=ae[wa.imageName];if(!ji)continue;oi=wa.imageName,D.iconsInText=D.iconsInText||!0,Na=ji.paddedRect;var Zi=ji.displaySize;wa.scale=wa.scale*Vo/Wt,Ga={width:Zi[0],height:Zi[1],left:Xs,top:-v3,advance:si?Zi[1]:Zi[0]};var Ro=Vo-Zi[1]*wa.scale;Ca=Wn+Ro,xi=Ga.advance;var ho=si?Zi[0]*wa.scale-Vo*On:Zi[1]*wa.scale-Vo*On;ho>0&&ho>Ta&&(Ta=ho)}else{var li=G[wa.fontStack],ti=li&&li[Aa];if(ti&&ti.rect)Na=ti.rect,Ga=ti.metrics;else{var Si=I[wa.fontStack],Ei=Si&&Si[Aa];if(!Ei)continue;Ga=Ei.metrics}Ca=(On-wa.scale)*Vo}si?(D.verticalizable=!0,qn.push({glyph:Aa,imageName:oi,x:ar,y:er+Ca,vertical:si,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Ua,metrics:Ga,rect:Na}),ar+=xi*wa.scale+Et):(qn.push({glyph:Aa,imageName:oi,x:ar,y:er+Ca,vertical:si,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Ua,metrics:Ga,rect:Na}),ar+=Ga.advance*wa.scale+Et)}if(qn.length!==0){var Qo=ar-Et;xr=Math.max(Qo,xr),VE(qn,0,qn.length-1,un,Ta)}ar=0;var qo=Se*On+Ta;ra.lineOffset=Math.max(Ta,Wn),er+=qo,Or=Math.max(qo,Or),++tn}var Do=er-ep,ps=Dm(De),gs=ps.horizontalAlign,wo=ps.verticalAlign;jE(D.positionedLines,un,gs,wo,xr,Or,Se,Do,de.length),D.top+=-wo*Do,D.bottom=D.top+Do,D.left+=-gs*xr,D.right=D.left+xr}function VE(D,I,G,ae,de){if(!(!ae&&!de))for(var Se=D[G],De=Se.metrics.advance*Se.scale,qe=(D[G].x+De)*ae,gt=I;gt<=G;gt++)D[gt].x-=qe,D[gt].y+=de}function jE(D,I,G,ae,de,Se,De,qe,gt){var Et=(I-G)*de,Rt=0;Se!==De?Rt=-qe*ae-ep:Rt=(-ae*gt+.5)*De;for(var Wt=0,ar=D;Wt<ar.length;Wt+=1)for(var er=ar[Wt],xr=0,Or=er.positionedGlyphs;xr<Or.length;xr+=1){var un=Or[xr];un.x+=Et,un.y+=Rt}}function HE(D,I,G){var ae=Dm(G),de=ae.horizontalAlign,Se=ae.verticalAlign,De=I[0],qe=I[1],gt=De-D.displaySize[0]*de,Et=gt+D.displaySize[0],Rt=qe-D.displaySize[1]*Se,Wt=Rt+D.displaySize[1];return{image:D,top:Rt,bottom:Wt,left:gt,right:Et}}function w3(D,I,G,ae,de,Se){var De=D.image,qe;if(De.content){var gt=De.content,Et=De.pixelRatio||1;qe=[gt[0]/Et,gt[1]/Et,De.displaySize[0]-gt[2]/Et,De.displaySize[1]-gt[3]/Et]}var Rt=I.left*Se,Wt=I.right*Se,ar,er,xr,Or;G==="width"||G==="both"?(Or=de[0]+Rt-ae[3],er=de[0]+Wt+ae[1]):(Or=de[0]+(Rt+Wt-De.displaySize[0])/2,er=Or+De.displaySize[0]);var un=I.top*Se,tn=I.bottom*Se;return G==="height"||G==="both"?(ar=de[1]+un-ae[0],xr=de[1]+tn+ae[2]):(ar=de[1]+(un+tn-De.displaySize[1])/2,xr=ar+De.displaySize[1]),{image:De,top:ar,right:er,bottom:xr,left:Or,collisionPadding:qe}}var Hv=function(D){function I(G,ae,de,Se){D.call(this,G,ae),this.angle=de,Se!==void 0&&(this.segment=Se)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(r);Ne("Anchor",Hv);var Xu=128;function Im(D,I){var G=I.expression;if(G.kind==="constant"){var ae=G.evaluate(new Sa(D+1));return{kind:"constant",layoutSize:ae}}else{if(G.kind==="source")return{kind:"source"};for(var de=G.zoomStops,Se=G.interpolationType,De=0;De<de.length&&de[De]<=D;)De++;De=Math.max(0,De-1);for(var qe=De;qe<de.length&&de[qe]<D+1;)qe++;qe=Math.min(de.length-1,qe);var gt=de[De],Et=de[qe];if(G.kind==="composite")return{kind:"composite",minZoom:gt,maxZoom:Et,interpolationType:Se};var Rt=G.evaluate(new Sa(gt)),Wt=G.evaluate(new Sa(Et));return{kind:"camera",minZoom:gt,maxZoom:Et,minSize:Rt,maxSize:Wt,interpolationType:Se}}}function T3(D,I,G){var ae=I.uSize,de=I.uSizeT,Se=G.lowerSize,De=G.upperSize;return D.kind==="source"?Se/Xu:D.kind==="composite"?Pi(Se/Xu,De/Xu,de):ae}function A3(D,I){var G=0,ae=0;if(D.kind==="constant")ae=D.layoutSize;else if(D.kind!=="source"){var de=D.interpolationType,Se=D.minZoom,De=D.maxZoom,qe=de?h(Fi.interpolationFactor(de,I,Se,De),0,1):0;D.kind==="camera"?ae=Pi(D.minSize,D.maxSize,qe):G=qe}return{uSizeT:G,uSize:ae}}var GE=Object.freeze({__proto__:null,getSizeData:Im,evaluateSizeForFeature:T3,evaluateSizeForZoom:A3,SIZE_PACK_FACTOR:Xu});function S3(D,I,G,ae,de){if(I.segment===void 0)return!0;for(var Se=I,De=I.segment+1,qe=0;qe>-G/2;){if(De--,De<0)return!1;qe-=D[De].dist(Se),Se=D[De]}qe+=D[De].dist(D[De+1]),De++;for(var gt=[],Et=0;qe<G/2;){var Rt=D[De-1],Wt=D[De],ar=D[De+1];if(!ar)return!1;var er=Rt.angleTo(Wt)-Wt.angleTo(ar);for(er=Math.abs((er+3*Math.PI)%(Math.PI*2)-Math.PI),gt.push({distance:qe,angleDelta:er}),Et+=er;qe-gt[0].distance>ae;)Et-=gt.shift().angleDelta;if(Et>de)return!1;De++,qe+=Wt.dist(ar)}return!0}function M3(D){for(var I=0,G=0;G<D.length-1;G++)I+=D[G].dist(D[G+1]);return I}function E3(D,I,G){return D?.6*I*G:0}function C3(D,I){return Math.max(D?D.right-D.left:0,I?I.right-I.left:0)}function WE(D,I,G,ae,de,Se){for(var De=E3(G,de,Se),qe=C3(G,ae)*Se,gt=0,Et=M3(D)/2,Rt=0;Rt<D.length-1;Rt++){var Wt=D[Rt],ar=D[Rt+1],er=Wt.dist(ar);if(gt+er>Et){var xr=(Et-gt)/er,Or=Pi(Wt.x,ar.x,xr),un=Pi(Wt.y,ar.y,xr),tn=new Hv(Or,un,ar.angleTo(Wt),Rt);return tn._round(),!De||S3(D,tn,qe,De,I)?tn:void 0}gt+=er}}function YE(D,I,G,ae,de,Se,De,qe,gt){var Et=E3(ae,Se,De),Rt=C3(ae,de),Wt=Rt*De,ar=D[0].x===0||D[0].x===gt||D[0].y===0||D[0].y===gt;I-Wt<I/4&&(I=Wt+I/4);var er=Se*2,xr=ar?I/2*qe%I:(Rt/2+er)*De*qe%I;return L3(D,xr,I,Et,G,Wt,ar,!1,gt)}function L3(D,I,G,ae,de,Se,De,qe,gt){for(var Et=Se/2,Rt=M3(D),Wt=0,ar=I-G,er=[],xr=0;xr<D.length-1;xr++){for(var Or=D[xr],un=D[xr+1],tn=Or.dist(un),En=un.angleTo(Or);ar+G<Wt+tn;){ar+=G;var xn=(ar-Wt)/tn,Mn=Pi(Or.x,un.x,xn),On=Pi(Or.y,un.y,xn);if(Mn>=0&&Mn<gt&&On>=0&&On<gt&&ar-Et>=0&&ar+Et<=Rt){var Wn=new Hv(Mn,On,En,xr);Wn._round(),(!ae||S3(D,Wn,Se,ae,de))&&er.push(Wn)}}Wt+=tn}return!qe&&!er.length&&!De&&(er=L3(D,Wt/2,G,ae,de,Se,De,!0,gt)),er}function P3(D,I,G,ae,de){for(var Se=[],De=0;De<D.length;De++)for(var qe=D[De],gt=void 0,Et=0;Et<qe.length-1;Et++){var Rt=qe[Et],Wt=qe[Et+1];Rt.x<I&&Wt.x<I||(Rt.x<I?Rt=new r(I,Rt.y+(Wt.y-Rt.y)*((I-Rt.x)/(Wt.x-Rt.x)))._round():Wt.x<I&&(Wt=new r(I,Rt.y+(Wt.y-Rt.y)*((I-Rt.x)/(Wt.x-Rt.x)))._round()),!(Rt.y<G&&Wt.y<G)&&(Rt.y<G?Rt=new r(Rt.x+(Wt.x-Rt.x)*((G-Rt.y)/(Wt.y-Rt.y)),G)._round():Wt.y<G&&(Wt=new r(Rt.x+(Wt.x-Rt.x)*((G-Rt.y)/(Wt.y-Rt.y)),G)._round()),!(Rt.x>=ae&&Wt.x>=ae)&&(Rt.x>=ae?Rt=new r(ae,Rt.y+(Wt.y-Rt.y)*((ae-Rt.x)/(Wt.x-Rt.x)))._round():Wt.x>=ae&&(Wt=new r(ae,Rt.y+(Wt.y-Rt.y)*((ae-Rt.x)/(Wt.x-Rt.x)))._round()),!(Rt.y>=de&&Wt.y>=de)&&(Rt.y>=de?Rt=new r(Rt.x+(Wt.x-Rt.x)*((de-Rt.y)/(Wt.y-Rt.y)),de)._round():Wt.y>=de&&(Wt=new r(Rt.x+(Wt.x-Rt.x)*((de-Rt.y)/(Wt.y-Rt.y)),de)._round()),(!gt||!Rt.equals(gt[gt.length-1]))&&(gt=[Rt],Se.push(gt)),gt.push(Wt)))))}return Se}var Gv=Xs;function R3(D,I,G,ae){var de=[],Se=D.image,De=Se.pixelRatio,qe=Se.paddedRect.w-2*Gv,gt=Se.paddedRect.h-2*Gv,Et=D.right-D.left,Rt=D.bottom-D.top,Wt=Se.stretchX||[[0,qe]],ar=Se.stretchY||[[0,gt]],er=function(li,ti){return li+ti[1]-ti[0]},xr=Wt.reduce(er,0),Or=ar.reduce(er,0),un=qe-xr,tn=gt-Or,En=0,xn=xr,Mn=0,On=Or,Wn=0,ra=un,qn=0,Ta=tn;if(Se.content&&ae){var da=Se.content;En=R0(Wt,0,da[0]),Mn=R0(ar,0,da[1]),xn=R0(Wt,da[0],da[2]),On=R0(ar,da[1],da[3]),Wn=da[0]-En,qn=da[1]-Mn,ra=da[2]-da[0]-xn,Ta=da[3]-da[1]-On}var wa=function(li,ti,Si,Ei){var ji=D0(li.stretch-En,xn,Et,D.left),Zi=I0(li.fixed-Wn,ra,li.stretch,xr),Ro=D0(ti.stretch-Mn,On,Rt,D.top),ho=I0(ti.fixed-qn,Ta,ti.stretch,Or),Qo=D0(Si.stretch-En,xn,Et,D.left),qo=I0(Si.fixed-Wn,ra,Si.stretch,xr),Do=D0(Ei.stretch-Mn,On,Rt,D.top),ps=I0(Ei.fixed-qn,Ta,Ei.stretch,Or),gs=new r(ji,Ro),wo=new r(Qo,Ro),ys=new r(Qo,Do),hl=new r(ji,Do),ic=new r(Zi/De,ho/De),th=new r(qo/De,ps/De),rh=I*Math.PI/180;if(rh){var nh=Math.sin(rh),Qv=Math.cos(rh),fu=[Qv,-nh,nh,Qv];gs._matMult(fu),wo._matMult(fu),hl._matMult(fu),ys._matMult(fu)}var N0=li.stretch+li.fixed,Um=Si.stretch+Si.fixed,B0=ti.stretch+ti.fixed,Vm=Ei.stretch+Ei.fixed,Il={x:Se.paddedRect.x+Gv+N0,y:Se.paddedRect.y+Gv+B0,w:Um-N0,h:Vm-B0},qv=ra/De/Et,U0=Ta/De/Rt;return{tl:gs,tr:wo,bl:hl,br:ys,tex:Il,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ic,pixelOffsetBR:th,minFontScaleX:qv,minFontScaleY:U0,isSDF:G}};if(!ae||!Se.stretchX&&!Se.stretchY)de.push(wa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:qe+1},{fixed:0,stretch:gt+1}));else for(var Ua=D3(Wt,un,xr),Aa=D3(ar,tn,Or),Ca=0;Ca<Ua.length-1;Ca++)for(var Ga=Ua[Ca],Na=Ua[Ca+1],oi=0;oi<Aa.length-1;oi++){var xi=Aa[oi],si=Aa[oi+1];de.push(wa(Ga,xi,Na,si))}return de}function R0(D,I,G){for(var ae=0,de=0,Se=D;de<Se.length;de+=1){var De=Se[de];ae+=Math.max(I,Math.min(G,De[1]))-Math.max(I,Math.min(G,De[0]))}return ae}function D3(D,I,G){for(var ae=[{fixed:-Gv,stretch:0}],de=0,Se=D;de<Se.length;de+=1){var De=Se[de],qe=De[0],gt=De[1],Et=ae[ae.length-1];ae.push({fixed:qe-Et.stretch,stretch:Et.stretch}),ae.push({fixed:qe-Et.stretch,stretch:Et.stretch+(gt-qe)})}return ae.push({fixed:I+Gv,stretch:G}),ae}function D0(D,I,G,ae){return D/I*G+ae}function I0(D,I,G,ae){return D-I*G/ae}function XE(D,I,G,ae,de,Se,De,qe){for(var gt=ae.layout.get("text-rotate").evaluate(Se,{})*Math.PI/180,Et=[],Rt=0,Wt=I.positionedLines;Rt<Wt.length;Rt+=1)for(var ar=Wt[Rt],er=0,xr=ar.positionedGlyphs;er<xr.length;er+=1){var Or=xr[er];if(Or.rect){var un=Or.rect||{},tn=1,En=v3+tn,xn=!0,Mn=1,On=0,Wn=(de||qe)&&Or.vertical,ra=Or.metrics.advance*Or.scale/2;if(qe&&I.verticalizable){var qn=(Or.scale-1)*Vo,Ta=(Vo-Or.metrics.width*Or.scale)/2;On=ar.lineOffset/2-(Or.imageName?-Ta:qn)}if(Or.imageName){var da=De[Or.imageName];xn=da.sdf,Mn=da.pixelRatio,En=Xs/Mn}var wa=de?[Or.x+ra,Or.y]:[0,0],Ua=de?[0,0]:[Or.x+ra+G[0],Or.y+G[1]-On],Aa=[0,0];Wn&&(Aa=Ua,Ua=[0,0]);var Ca=(Or.metrics.left-En)*Or.scale-ra+Ua[0],Ga=(-Or.metrics.top-En)*Or.scale+Ua[1],Na=Ca+un.w*Or.scale/Mn,oi=Ga+un.h*Or.scale/Mn,xi=new r(Ca,Ga),si=new r(Na,Ga),li=new r(Ca,oi),ti=new r(Na,oi);if(Wn){var Si=new r(-ra,ra-ep),Ei=-Math.PI/2,ji=Vo/2-ra,Zi=Or.imageName?ji:0,Ro=new r(5-ep-ji,-Zi),ho=new(Function.prototype.bind.apply(r,[null].concat(Aa)));xi._rotateAround(Ei,Si)._add(Ro)._add(ho),si._rotateAround(Ei,Si)._add(Ro)._add(ho),li._rotateAround(Ei,Si)._add(Ro)._add(ho),ti._rotateAround(Ei,Si)._add(Ro)._add(ho)}if(gt){var Qo=Math.sin(gt),qo=Math.cos(gt),Do=[qo,-Qo,Qo,qo];xi._matMult(Do),si._matMult(Do),li._matMult(Do),ti._matMult(Do)}var ps=new r(0,0),gs=new r(0,0),wo=0,ys=0;Et.push({tl:xi,tr:si,bl:li,br:ti,tex:un,writingMode:I.writingMode,glyphOffset:wa,sectionIndex:Or.sectionIndex,isSDF:xn,pixelOffsetTL:ps,pixelOffsetBR:gs,minFontScaleX:wo,minFontScaleY:ys})}}return Et}var _0=function(I,G,ae,de,Se,De,qe,gt,Et,Rt){if(this.boxStartIndex=I.length,Et){var Wt=De.top,ar=De.bottom,er=De.collisionPadding;er&&(Wt-=er[1],ar+=er[3]);var xr=ar-Wt;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var Or=De.top*qe-gt,un=De.bottom*qe+gt,tn=De.left*qe-gt,En=De.right*qe+gt,xn=De.collisionPadding;if(xn&&(tn-=xn[0]*qe,Or-=xn[1]*qe,En+=xn[2]*qe,un+=xn[3]*qe),Rt){var Mn=new r(tn,Or),On=new r(En,Or),Wn=new r(tn,un),ra=new r(En,un),qn=Rt*Math.PI/180;Mn._rotate(qn),On._rotate(qn),Wn._rotate(qn),ra._rotate(qn),tn=Math.min(Mn.x,On.x,Wn.x,ra.x),En=Math.max(Mn.x,On.x,Wn.x,ra.x),Or=Math.min(Mn.y,On.y,Wn.y,ra.y),un=Math.max(Mn.y,On.y,Wn.y,ra.y)}I.emplaceBack(G.x,G.y,tn,Or,En,un,ae,de,Se)}this.boxEndIndex=I.length},Wv=function(I,G){if(I===void 0&&(I=[]),G===void 0&&(G=ZE),this.data=I,this.length=this.data.length,this.compare=G,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};Wv.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},Wv.prototype.pop=function(){if(this.length!==0){var I=this.data[0],G=this.data.pop();return this.length--,this.length>0&&(this.data[0]=G,this._down(0)),I}},Wv.prototype.peek=function(){return this.data[0]},Wv.prototype._up=function(I){for(var G=this,ae=G.data,de=G.compare,Se=ae[I];I>0;){var De=I-1>>1,qe=ae[De];if(de(Se,qe)>=0)break;ae[I]=qe,I=De}ae[I]=Se},Wv.prototype._down=function(I){for(var G=this,ae=G.data,de=G.compare,Se=this.length>>1,De=ae[I];I<Se;){var qe=(I<<1)+1,gt=ae[qe],Et=qe+1;if(Et<this.length&&de(ae[Et],gt)<0&&(qe=Et,gt=ae[Et]),de(gt,De)>=0)break;ae[I]=gt,I=qe}ae[I]=De};function ZE(D,I){return D<I?-1:D>I?1:0}function KE(D,I,G){I===void 0&&(I=1),G===void 0&&(G=!1);for(var ae=1/0,de=1/0,Se=-1/0,De=-1/0,qe=D[0],gt=0;gt<qe.length;gt++){var Et=qe[gt];(!gt||Et.x<ae)&&(ae=Et.x),(!gt||Et.y<de)&&(de=Et.y),(!gt||Et.x>Se)&&(Se=Et.x),(!gt||Et.y>De)&&(De=Et.y)}var Rt=Se-ae,Wt=De-de,ar=Math.min(Rt,Wt),er=ar/2,xr=new Wv([],JE);if(ar===0)return new r(ae,de);for(var Or=ae;Or<Se;Or+=ar)for(var un=de;un<De;un+=ar)xr.push(new Yv(Or+er,un+er,er,D));for(var tn=QE(D),En=xr.length;xr.length;){var xn=xr.pop();(xn.d>tn.d||!tn.d)&&(tn=xn,G&&console.log("found best %d after %d probes",Math.round(1e4*xn.d)/1e4,En)),!(xn.max-tn.d<=I)&&(er=xn.h/2,xr.push(new Yv(xn.p.x-er,xn.p.y-er,er,D)),xr.push(new Yv(xn.p.x+er,xn.p.y-er,er,D)),xr.push(new Yv(xn.p.x-er,xn.p.y+er,er,D)),xr.push(new Yv(xn.p.x+er,xn.p.y+er,er,D)),En+=4)}return G&&(console.log("num probes: "+En),console.log("best distance: "+tn.d)),tn.p}function JE(D,I){return I.max-D.max}function Yv(D,I,G,ae){this.p=new r(D,I),this.h=G,this.d=$E(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function $E(D,I){for(var G=!1,ae=1/0,de=0;de<I.length;de++)for(var Se=I[de],De=0,qe=Se.length,gt=qe-1;De<qe;gt=De++){var Et=Se[De],Rt=Se[gt];Et.y>D.y!=Rt.y>D.y&&D.x<(Rt.x-Et.x)*(D.y-Et.y)/(Rt.y-Et.y)+Et.x&&(G=!G),ae=Math.min(ae,tc(D,Et,Rt))}return(G?1:-1)*Math.sqrt(ae)}function QE(D){for(var I=0,G=0,ae=0,de=D[0],Se=0,De=de.length,qe=De-1;Se<De;qe=Se++){var gt=de[Se],Et=de[qe],Rt=gt.x*Et.y-Et.x*gt.y;G+=(gt.x+Et.x)*Rt,ae+=(gt.y+Et.y)*Rt,I+=Rt*3}return new Yv(G/I,ae/I,0,D)}var Xv=7,_m=Number.POSITIVE_INFINITY;function I3(D,I){function G(de,Se){var De=0,qe=0;Se<0&&(Se=0);var gt=Se/Math.sqrt(2);switch(de){case"top-right":case"top-left":qe=gt-Xv;break;case"bottom-right":case"bottom-left":qe=-gt+Xv;break;case"bottom":qe=-Se+Xv;break;case"top":qe=Se-Xv;break}switch(de){case"top-right":case"bottom-right":De=-gt;break;case"top-left":case"bottom-left":De=gt;break;case"left":De=Se;break;case"right":De=-Se;break}return[De,qe]}function ae(de,Se,De){var qe=0,gt=0;switch(Se=Math.abs(Se),De=Math.abs(De),de){case"top-right":case"top-left":case"top":gt=De-Xv;break;case"bottom-right":case"bottom-left":case"bottom":gt=-De+Xv;break}switch(de){case"top-right":case"bottom-right":case"right":qe=-Se;break;case"top-left":case"bottom-left":case"left":qe=Se;break}return[qe,gt]}return I[1]!==_m?ae(D,I[0],I[1]):G(D,I[0])}function qE(D,I,G,ae,de,Se,De){D.createArrays();var qe=512*D.overscaling;D.tilePixelRatio=Ma/qe,D.compareText={},D.iconsNeedLinear=!1;var gt=D.layers[0].layout,Et=D.layers[0]._unevaluatedLayout._values,Rt={};if(D.textSizeData.kind==="composite"){var Wt=D.textSizeData,ar=Wt.minZoom,er=Wt.maxZoom;Rt.compositeTextSizes=[Et["text-size"].possiblyEvaluate(new Sa(ar),De),Et["text-size"].possiblyEvaluate(new Sa(er),De)]}if(D.iconSizeData.kind==="composite"){var xr=D.iconSizeData,Or=xr.minZoom,un=xr.maxZoom;Rt.compositeIconSizes=[Et["icon-size"].possiblyEvaluate(new Sa(Or),De),Et["icon-size"].possiblyEvaluate(new Sa(un),De)]}Rt.layoutTextSize=Et["text-size"].possiblyEvaluate(new Sa(D.zoom+1),De),Rt.layoutIconSize=Et["icon-size"].possiblyEvaluate(new Sa(D.zoom+1),De),Rt.textMaxSize=Et["text-size"].possiblyEvaluate(new Sa(18));for(var tn=gt.get("text-line-height")*Vo,En=gt.get("text-rotation-alignment")==="map"&&gt.get("symbol-placement")!=="point",xn=gt.get("text-keep-upright"),Mn=gt.get("text-size"),On=function(){var qn=ra[Wn],Ta=gt.get("text-font").evaluate(qn,{},De).join(","),da=Mn.evaluate(qn,{},De),wa=Rt.layoutTextSize.evaluate(qn,{},De),Ua=Rt.layoutIconSize.evaluate(qn,{},De),Aa={horizontal:{},vertical:void 0},Ca=qn.text,Ga=[0,0];if(Ca){var Na=Ca.toString(),oi=gt.get("text-letter-spacing").evaluate(qn,{},De)*Vo,xi=Lr(Na)?oi:0,si=gt.get("text-anchor").evaluate(qn,{},De),li=gt.get("text-variable-anchor");if(!li){var ti=gt.get("text-radial-offset").evaluate(qn,{},De);ti?Ga=I3(si,[ti*Vo,_m]):Ga=gt.get("text-offset").evaluate(qn,{},De).map(function(ic){return ic*Vo})}var Si=En?"center":gt.get("text-justify").evaluate(qn,{},De),Ei=gt.get("symbol-placement"),ji=Ei==="point"?gt.get("text-max-width").evaluate(qn,{},De)*Vo:0,Zi=function(){D.allowVerticalPlacement&&rr(Na)&&(Aa.vertical=P0(Ca,I,G,de,Ta,ji,tn,si,"left",xi,Ga,cl.vertical,!0,Ei,wa,da))};if(!En&&li){for(var Ro=Si==="auto"?li.map(function(ic){return km(ic)}):[Si],ho=!1,Qo=0;Qo<Ro.length;Qo++){var qo=Ro[Qo];if(!Aa.horizontal[qo])if(ho)Aa.horizontal[qo]=Aa.horizontal[0];else{var Do=P0(Ca,I,G,de,Ta,ji,tn,"center",qo,xi,Ga,cl.horizontal,!1,Ei,wa,da);Do&&(Aa.horizontal[qo]=Do,ho=Do.positionedLines.length===1)}}Zi()}else{Si==="auto"&&(Si=km(si));var ps=P0(Ca,I,G,de,Ta,ji,tn,si,Si,xi,Ga,cl.horizontal,!1,Ei,wa,da);ps&&(Aa.horizontal[Si]=ps),Zi(),rr(Na)&&En&&xn&&(Aa.vertical=P0(Ca,I,G,de,Ta,ji,tn,si,Si,xi,Ga,cl.vertical,!1,Ei,wa,da))}}var gs=void 0,wo=!1;if(qn.icon&&qn.icon.name){var ys=ae[qn.icon.name];ys&&(gs=HE(de[qn.icon.name],gt.get("icon-offset").evaluate(qn,{},De),gt.get("icon-anchor").evaluate(qn,{},De)),wo=ys.sdf,D.sdfIcons===void 0?D.sdfIcons=ys.sdf:D.sdfIcons!==ys.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ys.pixelRatio!==D.pixelRatio||gt.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var hl=k3(Aa.horizontal)||Aa.vertical;D.iconsInText=hl?hl.iconsInText:!1,(hl||gs)&&eC(D,qn,Aa,gs,ae,Rt,wa,Ua,Ga,wo,De)},Wn=0,ra=D.features;Wn<ra.length;Wn+=1)On();Se&&D.generateCollisionDebugBuffers()}function km(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function eC(D,I,G,ae,de,Se,De,qe,gt,Et,Rt){var Wt=Se.textMaxSize.evaluate(I,{});Wt===void 0&&(Wt=De);var ar=D.layers[0].layout,er=ar.get("icon-offset").evaluate(I,{},Rt),xr=k3(G.horizontal),Or=24,un=De/Or,tn=D.tilePixelRatio*un,En=D.tilePixelRatio*Wt/Or,xn=D.tilePixelRatio*qe,Mn=D.tilePixelRatio*ar.get("symbol-spacing"),On=ar.get("text-padding")*D.tilePixelRatio,Wn=ar.get("icon-padding")*D.tilePixelRatio,ra=ar.get("text-max-angle")/180*Math.PI,qn=ar.get("text-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",Ta=ar.get("icon-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",da=ar.get("symbol-placement"),wa=Mn/2,Ua=ar.get("icon-text-fit"),Aa;ae&&Ua!=="none"&&(D.allowVerticalPlacement&&G.vertical&&(Aa=w3(ae,G.vertical,Ua,ar.get("icon-text-fit-padding"),er,un)),xr&&(ae=w3(ae,xr,Ua,ar.get("icon-text-fit-padding"),er,un)));var Ca=function(Qv,fu){fu.x<0||fu.x>=Ma||fu.y<0||fu.y>=Ma||tC(D,fu,Qv,G,ae,de,Aa,D.layers[0],D.collisionBoxArray,I.index,I.sourceLayerIndex,D.index,tn,On,qn,gt,xn,Wn,Ta,er,I,Se,Et,Rt,De)};if(da==="line")for(var Ga=0,Na=P3(I.geometry,0,0,Ma,Ma);Ga<Na.length;Ga+=1)for(var oi=Na[Ga],xi=YE(oi,Mn,ra,G.vertical||xr,ae,Or,En,D.overscaling,Ma),si=0,li=xi;si<li.length;si+=1){var ti=li[si],Si=xr;(!Si||!rC(D,Si.text,wa,ti))&&Ca(oi,ti)}else if(da==="line-center")for(var Ei=0,ji=I.geometry;Ei<ji.length;Ei+=1){var Zi=ji[Ei];if(Zi.length>1){var Ro=WE(Zi,ra,G.vertical||xr,ae,Or,En);Ro&&Ca(Zi,Ro)}}else if(I.type==="Polygon")for(var ho=0,Qo=Sm(I.geometry,0);ho<Qo.length;ho+=1){var qo=Qo[ho],Do=KE(qo,16);Ca(qo[0],new Hv(Do.x,Do.y,0))}else if(I.type==="LineString")for(var ps=0,gs=I.geometry;ps<gs.length;ps+=1){var wo=gs[ps];Ca(wo,new Hv(wo[0].x,wo[0].y,0))}else if(I.type==="Point")for(var ys=0,hl=I.geometry;ys<hl.length;ys+=1)for(var ic=hl[ys],th=0,rh=ic;th<rh.length;th+=1){var nh=rh[th];Ca([nh],new Hv(nh.x,nh.y,0))}}var tp=255,qc=tp*Xu;function _3(D,I,G,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr){var Or=XE(I,G,qe,de,Se,De,ae,D.allowVerticalPlacement),un=D.textSizeData,tn=null;un.kind==="source"?(tn=[Xu*de.layout.get("text-size").evaluate(De,{})],tn[0]>qc&&B(D.layerIds[0]+': Value for "text-size" is >= '+tp+'. Reduce your "text-size".')):un.kind==="composite"&&(tn=[Xu*er.compositeTextSizes[0].evaluate(De,{},xr),Xu*er.compositeTextSizes[1].evaluate(De,{},xr)],(tn[0]>qc||tn[1]>qc)&&B(D.layerIds[0]+': Value for "text-size" is >= '+tp+'. Reduce your "text-size".')),D.addSymbols(D.text,Or,tn,qe,Se,De,Et,I,gt.lineStartIndex,gt.lineLength,ar,xr);for(var En=0,xn=Rt;En<xn.length;En+=1){var Mn=xn[En];Wt[Mn]=D.text.placedSymbolArray.length-1}return Or.length*4}function k3(D){for(var I in D)return D[I];return null}function tC(D,I,G,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn,On,Wn,ra,qn){var Ta,da=D.addToLineVertexArray(I,G),wa,Ua,Aa,Ca,Ga=0,Na=0,oi=0,xi=0,si=-1,li=-1,ti={},Si=ge(""),Ei=0,ji=0;if(qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ta=qe.layout.get("text-offset").evaluate(Mn,{},ra).map(function(ap){return ap*Vo}),Ei=Ta[0],ji=Ta[1]):(Ei=qe.layout.get("text-radial-offset").evaluate(Mn,{},ra)*Vo,ji=_m),D.allowVerticalPlacement&&ae.vertical){var Zi=qe.layout.get("text-rotate").evaluate(Mn,{},ra),Ro=Zi+90,ho=ae.vertical;Aa=new _0(gt,I,Et,Rt,Wt,ho,ar,er,xr,Ro),De&&(Ca=new _0(gt,I,Et,Rt,Wt,De,un,tn,xr,Ro))}if(de){var Qo=qe.layout.get("icon-rotate").evaluate(Mn,{}),qo=qe.layout.get("icon-text-fit")!=="none",Do=R3(de,Qo,Wn,qo),ps=De?R3(De,Qo,Wn,qo):void 0;Ua=new _0(gt,I,Et,Rt,Wt,de,un,tn,!1,Qo),Ga=Do.length*4;var gs=D.iconSizeData,wo=null;gs.kind==="source"?(wo=[Xu*qe.layout.get("icon-size").evaluate(Mn,{})],wo[0]>qc&&B(D.layerIds[0]+': Value for "icon-size" is >= '+tp+'. Reduce your "icon-size".')):gs.kind==="composite"&&(wo=[Xu*On.compositeIconSizes[0].evaluate(Mn,{},ra),Xu*On.compositeIconSizes[1].evaluate(Mn,{},ra)],(wo[0]>qc||wo[1]>qc)&&B(D.layerIds[0]+': Value for "icon-size" is >= '+tp+'. Reduce your "icon-size".')),D.addSymbols(D.icon,Do,wo,xn,En,Mn,!1,I,da.lineStartIndex,da.lineLength,-1,ra),si=D.icon.placedSymbolArray.length-1,ps&&(Na=ps.length*4,D.addSymbols(D.icon,ps,wo,xn,En,Mn,cl.vertical,I,da.lineStartIndex,da.lineLength,-1,ra),li=D.icon.placedSymbolArray.length-1)}for(var ys in ae.horizontal){var hl=ae.horizontal[ys];if(!wa){Si=ge(hl.text);var ic=qe.layout.get("text-rotate").evaluate(Mn,{},ra);wa=new _0(gt,I,Et,Rt,Wt,hl,ar,er,xr,ic)}var th=hl.positionedLines.length===1;if(oi+=_3(D,I,hl,Se,qe,xr,Mn,Or,da,ae.vertical?cl.horizontal:cl.horizontalOnly,th?Object.keys(ae.horizontal):[ys],ti,si,On,ra),th)break}ae.vertical&&(xi+=_3(D,I,ae.vertical,Se,qe,xr,Mn,Or,da,cl.vertical,["vertical"],ti,li,On,ra));var rh=wa?wa.boxStartIndex:D.collisionBoxArray.length,nh=wa?wa.boxEndIndex:D.collisionBoxArray.length,Qv=Aa?Aa.boxStartIndex:D.collisionBoxArray.length,fu=Aa?Aa.boxEndIndex:D.collisionBoxArray.length,N0=Ua?Ua.boxStartIndex:D.collisionBoxArray.length,Um=Ua?Ua.boxEndIndex:D.collisionBoxArray.length,B0=Ca?Ca.boxStartIndex:D.collisionBoxArray.length,Vm=Ca?Ca.boxEndIndex:D.collisionBoxArray.length,Il=-1,qv=function(ap,J3){return ap&&ap.circleDiameter?Math.max(ap.circleDiameter,J3):J3};Il=qv(wa,Il),Il=qv(Aa,Il),Il=qv(Ua,Il),Il=qv(Ca,Il);var U0=Il>-1?1:0;U0&&(Il*=qn/Vo),D.glyphOffsetArray.length>=mi.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,Mn.sortKey),D.symbolInstances.emplaceBack(I.x,I.y,ti.right>=0?ti.right:-1,ti.center>=0?ti.center:-1,ti.left>=0?ti.left:-1,ti.vertical||-1,si,li,Si,rh,nh,Qv,fu,N0,Um,B0,Vm,Et,oi,xi,Ga,Na,U0,0,ar,Ei,ji,Il)}function rC(D,I,G,ae){var de=D.compareText;if(!(I in de))de[I]=[];else for(var Se=de[I],De=Se.length-1;De>=0;De--)if(ae.dist(Se[De])<G)return!0;return de[I].push(ae),!1}var nC=Bv.VectorTileFeature.types,aC=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function k0(D,I,G,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar){var er=qe?Math.min(qc,Math.round(qe[0])):0,xr=qe?Math.min(qc,Math.round(qe[1])):0;D.emplaceBack(I,G,Math.round(ae*32),Math.round(de*32),Se,De,(er<<1)+(gt?1:0),xr,Et*16,Rt*16,Wt*256,ar*256)}function Fm(D,I,G){D.emplaceBack(I.x,I.y,G),D.emplaceBack(I.x,I.y,G),D.emplaceBack(I.x,I.y,G),D.emplaceBack(I.x,I.y,G)}function iC(D){for(var I=0,G=D.sections;I<G.length;I+=1){var ae=G[I];if(en(ae.text))return!0}return!1}var Zv=function(I){this.layoutVertexArray=new Af,this.indexArray=new Hu,this.programConfigurations=I,this.segments=new lo,this.dynamicLayoutVertexArray=new Nd,this.opacityVertexArray=new Bd,this.placedSymbolArray=new jd};Zv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Zv.prototype.upload=function(I,G,ae,de){this.isEmpty()||(ae&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,iE.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,G),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,oE.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,aC,!0),this.opacityVertexBuffer.itemSize=1),(ae||de)&&this.programConfigurations.upload(I))},Zv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ne("SymbolBuffers",Zv);var rp=function(I,G,ae){this.layoutVertexArray=new I,this.layoutAttributes=G,this.indexArray=new ae,this.segments=new lo,this.collisionVertexArray=new Cs};rp.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,sE.members,!0)},rp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ne("CollisionBuffers",rp);var mi=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(gt){return gt.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=kv([]),this.placementViewportMatrix=kv([]);var G=this.layers[0],ae=G._unevaluatedLayout._values;this.textSizeData=Im(this.zoom,ae["text-size"]),this.iconSizeData=Im(this.zoom,ae["icon-size"]);var de=this.layers[0].layout,Se=de.get("symbol-sort-key"),De=de.get("symbol-z-order");this.canOverlap=de.get("text-allow-overlap")||de.get("icon-allow-overlap")||de.get("text-ignore-placement")||de.get("icon-ignore-placement"),this.sortFeaturesByKey=De!=="viewport-y"&&Se.constantOr(1)!==void 0;var qe=De==="viewport-y"||De==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=qe&&this.canOverlap,de.get("symbol-placement")==="point"&&(this.writingModes=de.get("text-writing-mode").map(function(gt){return cl[gt]})),this.stateDependentLayerIds=this.layers.filter(function(gt){return gt.isStateDependent()}).map(function(gt){return gt.id}),this.sourceID=I.sourceID};mi.prototype.createArrays=function(){this.text=new Zv(new va(this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new Zv(new va(this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new g0,this.lineVertexArray=new Ll,this.symbolInstances=new p0},mi.prototype.calculateGlyphDependencies=function(I,G,ae,de,Se){for(var De=0;De<I.length;De++)if(G[I.charCodeAt(De)]=!0,(ae||de)&&Se){var qe=$d[I.charAt(De)];qe&&(G[qe.charCodeAt(0)]=!0)}},mi.prototype.populate=function(I,G,ae){var de=this.layers[0],Se=de.layout,De=Se.get("text-font"),qe=Se.get("text-field"),gt=Se.get("icon-image"),Et=(qe.value.kind!=="constant"||qe.value.value instanceof $i&&!qe.value.value.isEmpty()||qe.value.value.toString().length>0)&&(De.value.kind!=="constant"||De.value.value.length>0),Rt=gt.value.kind!=="constant"||!!gt.value.value||Object.keys(gt.parameters).length>0,Wt=Se.get("symbol-sort-key");if(this.features=[],!(!Et&&!Rt)){for(var ar=G.iconDependencies,er=G.glyphDependencies,xr=G.availableImages,Or=new Sa(this.zoom),un=0,tn=I;un<tn.length;un+=1){var En=tn[un],xn=En.feature,Mn=En.id,On=En.index,Wn=En.sourceLayerIndex,ra=de._featureFilter.needGeometry,qn=Ai(xn,ra);if(de._featureFilter.filter(Or,qn,ae)){ra||(qn.geometry=ei(xn));var Ta=void 0;if(Et){var da=de.getValueAndResolveTokens("text-field",qn,ae,xr),wa=$i.factory(da);iC(wa)&&(this.hasRTLText=!0),(!this.hasRTLText||Fa()==="unavailable"||this.hasRTLText&&Jn.isParsed())&&(Ta=fE(wa,de,qn))}var Ua=void 0;if(Rt){var Aa=de.getValueAndResolveTokens("icon-image",qn,ae,xr);Aa instanceof Eo?Ua=Aa:Ua=Eo.fromString(Aa)}if(!(!Ta&&!Ua)){var Ca=this.sortFeaturesByKey?Wt.evaluate(qn,{},ae):void 0,Ga={id:Mn,text:Ta,icon:Ua,index:On,sourceLayerIndex:Wn,geometry:qn.geometry,properties:xn.properties,type:nC[xn.type],sortKey:Ca};if(this.features.push(Ga),Ua&&(ar[Ua.name]=!0),Ta){var Na=De.evaluate(qn,{},ae).join(","),oi=Se.get("text-rotation-alignment")==="map"&&Se.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(cl.vertical)>=0;for(var xi=0,si=Ta.sections;xi<si.length;xi+=1){var li=si[xi];if(li.image)ar[li.image.name]=!0;else{var ti=rr(Ta.toString()),Si=li.fontStack||Na,Ei=er[Si]=er[Si]||{};this.calculateGlyphDependencies(li.text,Ei,oi,this.allowVerticalPlacement,ti)}}}}}}Se.get("symbol-placement")==="line"&&(this.features=cE(this.features)),this.sortFeaturesByKey&&this.features.sort(function(ji,Zi){return ji.sortKey-Zi.sortKey})}},mi.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(I,G,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(I,G,this.layers,ae))},mi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},mi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mi.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mi.prototype.addToLineVertexArray=function(I,G){var ae=this.lineVertexArray.length;if(I.segment!==void 0){for(var de=I.dist(G[I.segment+1]),Se=I.dist(G[I.segment]),De={},qe=I.segment+1;qe<G.length;qe++)De[qe]={x:G[qe].x,y:G[qe].y,tileUnitDistanceFromAnchor:de},qe<G.length-1&&(de+=G[qe+1].dist(G[qe]));for(var gt=I.segment||0;gt>=0;gt--)De[gt]={x:G[gt].x,y:G[gt].y,tileUnitDistanceFromAnchor:Se},gt>0&&(Se+=G[gt-1].dist(G[gt]));for(var Et=0;Et<G.length;Et++){var Rt=De[Et];this.lineVertexArray.emplaceBack(Rt.x,Rt.y,Rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},mi.prototype.addSymbols=function(I,G,ae,de,Se,De,qe,gt,Et,Rt,Wt,ar){for(var er=I.indexArray,xr=I.layoutVertexArray,Or=I.segments.prepareSegment(4*G.length,xr,er,this.canOverlap?De.sortKey:void 0),un=this.glyphOffsetArray.length,tn=Or.vertexLength,En=this.allowVerticalPlacement&&qe===cl.vertical?Math.PI/2:0,xn=De.text&&De.text.sections,Mn=0;Mn<G.length;Mn++){var On=G[Mn],Wn=On.tl,ra=On.tr,qn=On.bl,Ta=On.br,da=On.tex,wa=On.pixelOffsetTL,Ua=On.pixelOffsetBR,Aa=On.minFontScaleX,Ca=On.minFontScaleY,Ga=On.glyphOffset,Na=On.isSDF,oi=On.sectionIndex,xi=Or.vertexLength,si=Ga[1];k0(xr,gt.x,gt.y,Wn.x,si+Wn.y,da.x,da.y,ae,Na,wa.x,wa.y,Aa,Ca),k0(xr,gt.x,gt.y,ra.x,si+ra.y,da.x+da.w,da.y,ae,Na,Ua.x,wa.y,Aa,Ca),k0(xr,gt.x,gt.y,qn.x,si+qn.y,da.x,da.y+da.h,ae,Na,wa.x,Ua.y,Aa,Ca),k0(xr,gt.x,gt.y,Ta.x,si+Ta.y,da.x+da.w,da.y+da.h,ae,Na,Ua.x,Ua.y,Aa,Ca),Fm(I.dynamicLayoutVertexArray,gt,En),er.emplaceBack(xi,xi+1,xi+2),er.emplaceBack(xi+1,xi+2,xi+3),Or.vertexLength+=4,Or.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ga[0]),(Mn===G.length-1||oi!==G[Mn+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(xr.length,De,De.index,{},ar,xn&&xn[oi])}I.placedSymbolArray.emplaceBack(gt.x,gt.y,un,this.glyphOffsetArray.length-un,tn,Et,Rt,gt.segment,ae?ae[0]:0,ae?ae[1]:0,de[0],de[1],qe,0,!1,0,Wt)},mi.prototype._addCollisionDebugVertex=function(I,G,ae,de,Se,De){return G.emplaceBack(0,0),I.emplaceBack(ae.x,ae.y,de,Se,Math.round(De.x),Math.round(De.y))},mi.prototype.addCollisionDebugVertices=function(I,G,ae,de,Se,De,qe){var gt=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),Et=gt.vertexLength,Rt=Se.layoutVertexArray,Wt=Se.collisionVertexArray,ar=qe.anchorX,er=qe.anchorY;this._addCollisionDebugVertex(Rt,Wt,De,ar,er,new r(I,G)),this._addCollisionDebugVertex(Rt,Wt,De,ar,er,new r(ae,G)),this._addCollisionDebugVertex(Rt,Wt,De,ar,er,new r(ae,de)),this._addCollisionDebugVertex(Rt,Wt,De,ar,er,new r(I,de)),gt.vertexLength+=4;var xr=Se.indexArray;xr.emplaceBack(Et,Et+1),xr.emplaceBack(Et+1,Et+2),xr.emplaceBack(Et+2,Et+3),xr.emplaceBack(Et+3,Et),gt.primitiveLength+=4},mi.prototype.addDebugCollisionBoxes=function(I,G,ae,de){for(var Se=I;Se<G;Se++){var De=this.collisionBoxArray.get(Se),qe=De.x1,gt=De.y1,Et=De.x2,Rt=De.y2;this.addCollisionDebugVertices(qe,gt,Et,Rt,de?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,ae)}},mi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new rp(Lv,l3.members,ev),this.iconCollisionBox=new rp(Lv,l3.members,ev);for(var I=0;I<this.symbolInstances.length;I++){var G=this.symbolInstances.get(I);this.addDebugCollisionBoxes(G.textBoxStartIndex,G.textBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.verticalTextBoxStartIndex,G.verticalTextBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.iconBoxStartIndex,G.iconBoxEndIndex,G,!1),this.addDebugCollisionBoxes(G.verticalIconBoxStartIndex,G.verticalIconBoxEndIndex,G,!1)}},mi.prototype._deserializeCollisionBoxesForSymbol=function(I,G,ae,de,Se,De,qe,gt,Et){for(var Rt={},Wt=G;Wt<ae;Wt++){var ar=I.get(Wt);Rt.textBox={x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,anchorPointX:ar.anchorPointX,anchorPointY:ar.anchorPointY},Rt.textFeatureIndex=ar.featureIndex;break}for(var er=de;er<Se;er++){var xr=I.get(er);Rt.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},Rt.verticalTextFeatureIndex=xr.featureIndex;break}for(var Or=De;Or<qe;Or++){var un=I.get(Or);Rt.iconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},Rt.iconFeatureIndex=un.featureIndex;break}for(var tn=gt;tn<Et;tn++){var En=I.get(tn);Rt.verticalIconBox={x1:En.x1,y1:En.y1,x2:En.x2,y2:En.y2,anchorPointX:En.anchorPointX,anchorPointY:En.anchorPointY},Rt.verticalIconFeatureIndex=En.featureIndex;break}return Rt},mi.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var G=0;G<this.symbolInstances.length;G++){var ae=this.symbolInstances.get(G);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},mi.prototype.hasTextData=function(){return this.text.segments.get().length>0},mi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mi.prototype.addIndicesForPlacedSymbol=function(I,G){for(var ae=I.placedSymbolArray.get(G),de=ae.vertexStartIndex+ae.numGlyphs*4,Se=ae.vertexStartIndex;Se<de;Se+=4)I.indexArray.emplaceBack(Se,Se+1,Se+2),I.indexArray.emplaceBack(Se+1,Se+2,Se+3)},mi.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var G=Math.sin(I),ae=Math.cos(I),de=[],Se=[],De=[],qe=0;qe<this.symbolInstances.length;++qe){De.push(qe);var gt=this.symbolInstances.get(qe);de.push(Math.round(G*gt.anchorX+ae*gt.anchorY)|0),Se.push(gt.featureIndex)}return De.sort(function(Et,Rt){return de[Et]-de[Rt]||Se[Rt]-Se[Et]}),De},mi.prototype.addToSortKeyRanges=function(I,G){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===G?ae.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:G,symbolInstanceStart:I,symbolInstanceEnd:I+1})},mi.prototype.sortFeatures=function(I){var G=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,de=this.symbolInstanceIndexes;ae<de.length;ae+=1){var Se=de[ae],De=this.symbolInstances.get(Se);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(qe,gt,Et){qe>=0&&Et.indexOf(qe)===gt&&G.addIndicesForPlacedSymbol(G.text,qe)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ne("SymbolBucket",mi,{omit:["layers","collisionBoxArray","features","compareText"]}),mi.MAX_GLYPHS=65535,mi.addDynamicAttributes=Fm;function oC(D,I){return I.replace(/{([^{}]+)}/g,function(G,ae){return ae in D?String(D[ae]):""})}var sC=new ci({"symbol-placement":new sa(Sr.layout_symbol["symbol-placement"]),"symbol-spacing":new sa(Sr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new sa(Sr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new La(Sr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new sa(Sr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new sa(Sr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new sa(Sr.layout_symbol["icon-ignore-placement"]),"icon-optional":new sa(Sr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new sa(Sr.layout_symbol["icon-rotation-alignment"]),"icon-size":new La(Sr.layout_symbol["icon-size"]),"icon-text-fit":new sa(Sr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new sa(Sr.layout_symbol["icon-text-fit-padding"]),"icon-image":new La(Sr.layout_symbol["icon-image"]),"icon-rotate":new La(Sr.layout_symbol["icon-rotate"]),"icon-padding":new sa(Sr.layout_symbol["icon-padding"]),"icon-keep-upright":new sa(Sr.layout_symbol["icon-keep-upright"]),"icon-offset":new La(Sr.layout_symbol["icon-offset"]),"icon-anchor":new La(Sr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new sa(Sr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new sa(Sr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new sa(Sr.layout_symbol["text-rotation-alignment"]),"text-field":new La(Sr.layout_symbol["text-field"]),"text-font":new La(Sr.layout_symbol["text-font"]),"text-size":new La(Sr.layout_symbol["text-size"]),"text-max-width":new La(Sr.layout_symbol["text-max-width"]),"text-line-height":new sa(Sr.layout_symbol["text-line-height"]),"text-letter-spacing":new La(Sr.layout_symbol["text-letter-spacing"]),"text-justify":new La(Sr.layout_symbol["text-justify"]),"text-radial-offset":new La(Sr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new sa(Sr.layout_symbol["text-variable-anchor"]),"text-anchor":new La(Sr.layout_symbol["text-anchor"]),"text-max-angle":new sa(Sr.layout_symbol["text-max-angle"]),"text-writing-mode":new sa(Sr.layout_symbol["text-writing-mode"]),"text-rotate":new La(Sr.layout_symbol["text-rotate"]),"text-padding":new sa(Sr.layout_symbol["text-padding"]),"text-keep-upright":new sa(Sr.layout_symbol["text-keep-upright"]),"text-transform":new La(Sr.layout_symbol["text-transform"]),"text-offset":new La(Sr.layout_symbol["text-offset"]),"text-allow-overlap":new sa(Sr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new sa(Sr.layout_symbol["text-ignore-placement"]),"text-optional":new sa(Sr.layout_symbol["text-optional"])}),lC=new ci({"icon-opacity":new La(Sr.paint_symbol["icon-opacity"]),"icon-color":new La(Sr.paint_symbol["icon-color"]),"icon-halo-color":new La(Sr.paint_symbol["icon-halo-color"]),"icon-halo-width":new La(Sr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new La(Sr.paint_symbol["icon-halo-blur"]),"icon-translate":new sa(Sr.paint_symbol["icon-translate"]),"icon-translate-anchor":new sa(Sr.paint_symbol["icon-translate-anchor"]),"text-opacity":new La(Sr.paint_symbol["text-opacity"]),"text-color":new La(Sr.paint_symbol["text-color"],{runtimeType:Dn,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new La(Sr.paint_symbol["text-halo-color"]),"text-halo-width":new La(Sr.paint_symbol["text-halo-width"]),"text-halo-blur":new La(Sr.paint_symbol["text-halo-blur"]),"text-translate":new sa(Sr.paint_symbol["text-translate"]),"text-translate-anchor":new sa(Sr.paint_symbol["text-translate-anchor"])}),Om={paint:lC,layout:sC},Kv=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:jr,this.defaultValue=I};Kv.prototype.evaluate=function(I){if(I.formattedSection){var G=this.defaultValue.property.overrides;if(G&&G.hasOverride(I.formattedSection))return G.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},Kv.prototype.eachChild=function(I){if(!this.defaultValue.isConstant()){var G=this.defaultValue.value;I(G._styleExpression.expression)}},Kv.prototype.outputDefined=function(){return!1},Kv.prototype.serialize=function(){return null},Ne("FormatSectionOverride",Kv,{omit:["defaultValue"]});var uC=function(D){function I(G){D.call(this,G,Om)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ae,de){if(D.prototype.recalculate.call(this,ae,de),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Se=this.layout.get("text-writing-mode");if(Se){for(var De=[],qe=0,gt=Se;qe<gt.length;qe+=1){var Et=gt[qe];De.indexOf(Et)<0&&De.push(Et)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(ae,de,Se,De){var qe=this.layout.get(ae).evaluate(de,{},Se,De),gt=this._unevaluatedLayout._values[ae];return!gt.isDataDriven()&&!ku(gt.value)&&qe?oC(de.properties,qe):qe},I.prototype.createBucket=function(ae){return new mi(ae)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var ae=0,de=Om.paint.overridableProperties;ae<de.length;ae+=1){var Se=de[ae];if(I.hasPaintOverride(this.layout,Se)){var De=this.paint.get(Se),qe=new Kv(De),gt=new il(qe,De.property.specification),Et=null;De.value.kind==="constant"||De.value.kind==="source"?Et=new Wi("source",gt):Et=new Ms("composite",gt,De.value.zoomStops,De.value._interpolationType),this.paint._values[Se]=new wi(De.property,Et,De.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(ae,de,Se){return!this.layout||de.isDataDriven()||Se.isDataDriven()?!1:I.hasPaintOverride(this.layout,ae)},I.hasPaintOverride=function(ae,de){var Se=ae.get("text-field"),De=Om.paint.properties[de],qe=!1,gt=function(Wt){for(var ar=0,er=Wt;ar<er.length;ar+=1){var xr=er[ar];if(De.overrides&&De.overrides.hasOverride(xr)){qe=!0;return}}};if(Se.value.kind==="constant"&&Se.value.value instanceof $i)gt(Se.value.value.sections);else if(Se.value.kind==="source"){var Et=function(Wt){if(!qe)if(Wt instanceof Ni&&ki(Wt.value)===ga){var ar=Wt.value;gt(ar.sections)}else Wt instanceof io?gt(Wt.sections):Wt.eachChild(Et)},Rt=Se.value;Rt._styleExpression&&Et(Rt._styleExpression.expression)}return qe},I}(Ui),fC=new ci({"background-color":new sa(Sr.paint_background["background-color"]),"background-pattern":new Yo(Sr.paint_background["background-pattern"]),"background-opacity":new sa(Sr.paint_background["background-opacity"])}),cC={paint:fC},hC=function(D){function I(G){D.call(this,G,cC)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Ui),vC=new ci({"raster-opacity":new sa(Sr.paint_raster["raster-opacity"]),"raster-hue-rotate":new sa(Sr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new sa(Sr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new sa(Sr.paint_raster["raster-brightness-max"]),"raster-saturation":new sa(Sr.paint_raster["raster-saturation"]),"raster-contrast":new sa(Sr.paint_raster["raster-contrast"]),"raster-resampling":new sa(Sr.paint_raster["raster-resampling"]),"raster-fade-duration":new sa(Sr.paint_raster["raster-fade-duration"])}),dC={paint:vC},pC=function(D){function I(G){D.call(this,G,dC)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Ui);function gC(D){var I=[],G=D.id;return G===void 0&&I.push({message:"layers."+G+': missing required property "id"'}),D.render===void 0&&I.push({message:"layers."+G+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&I.push({message:"layers."+G+': property "renderingMode" must be either "2d" or "3d"'}),I}var yC=function(D){function I(G){D.call(this,G,{}),this.implementation=G}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},I.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},I}(Ui),mC={circle:VM,heatmap:WM,hillshade:ZM,fill:b8,"fill-extrusion":V8,line:nE,symbol:uC,background:hC,raster:pC};function xC(D){return D.type==="custom"?new yC(D):new mC[D.type](D)}var F3=i.HTMLImageElement,O3=i.HTMLCanvasElement,z3=i.HTMLVideoElement,N3=i.ImageData,F0=i.ImageBitmap,av=function(I,G,ae,de){this.context=I,this.format=ae,this.texture=I.gl.createTexture(),this.update(G,de)};av.prototype.update=function(I,G,ae){var de=I.width,Se=I.height,De=(!this.size||this.size[0]!==de||this.size[1]!==Se)&&!ae,qe=this,gt=qe.context,Et=gt.gl;if(this.useMipmap=!!(G&&G.useMipmap),Et.bindTexture(Et.TEXTURE_2D,this.texture),gt.pixelStoreUnpackFlipY.set(!1),gt.pixelStoreUnpack.set(1),gt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Et.RGBA&&(!G||G.premultiply!==!1)),De)this.size=[de,Se],I instanceof F3||I instanceof O3||I instanceof z3||I instanceof N3||F0&&I instanceof F0?Et.texImage2D(Et.TEXTURE_2D,0,this.format,this.format,Et.UNSIGNED_BYTE,I):Et.texImage2D(Et.TEXTURE_2D,0,this.format,de,Se,0,this.format,Et.UNSIGNED_BYTE,I.data);else{var Rt=ae||{x:0,y:0},Wt=Rt.x,ar=Rt.y;I instanceof F3||I instanceof O3||I instanceof z3||I instanceof N3||F0&&I instanceof F0?Et.texSubImage2D(Et.TEXTURE_2D,0,Wt,ar,Et.RGBA,Et.UNSIGNED_BYTE,I):Et.texSubImage2D(Et.TEXTURE_2D,0,Wt,ar,de,Se,Et.RGBA,Et.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Et.generateMipmap(Et.TEXTURE_2D)},av.prototype.bind=function(I,G,ae){var de=this,Se=de.context,De=Se.gl;De.bindTexture(De.TEXTURE_2D,this.texture),ae===De.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=De.LINEAR),I!==this.filter&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,I),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,ae||I),this.filter=I),G!==this.wrap&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,G),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,G),this.wrap=G)},av.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},av.prototype.destroy=function(){var I=this.context,G=I.gl;G.deleteTexture(this.texture),this.texture=null};var zm=function(I){var G=this;this._callback=I,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){G._triggered=!1,G._callback()})};zm.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},zm.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Jv=function(I,G,ae){this.target=I,this.parent=G,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},L(["receive","process"],this),this.invoker=new zm(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Q()?I:i};Jv.prototype.send=function(I,G,ae,de,Se){var De=this;Se===void 0&&(Se=!1);var qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[qe]=ae);var gt=fe(this.globalScope)?void 0:[];return this.target.postMessage({id:qe,type:I,hasCallback:!!ae,targetMapId:de,mustQueue:Se,sourceMapId:this.mapId,data:Pt(G,gt)},gt),{cancel:function(){ae&&delete De.callbacks[qe],De.target.postMessage({id:qe,type:"<cancel>",targetMapId:de,sourceMapId:De.mapId})}}},Jv.prototype.receive=function(I){var G=I.data,ae=G.id;if(ae&&!(G.targetMapId&&this.mapId!==G.targetMapId))if(G.type==="<cancel>"){delete this.tasks[ae];var de=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],de&&de()}else Q()||G.mustQueue?(this.tasks[ae]=G,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,G)},Jv.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),G=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),G&&this.processTask(I,G)}},Jv.prototype.processTask=function(I,G){var ae=this;if(G.type==="<response>"){var de=this.callbacks[I];delete this.callbacks[I],de&&(G.error?de(Mt(G.error)):de(null,Mt(G.data)))}else{var Se=!1,De=fe(this.globalScope)?void 0:[],qe=G.hasCallback?function(ar,er){Se=!0,delete ae.cancelCallbacks[I],ae.target.postMessage({id:I,type:"<response>",sourceMapId:ae.mapId,error:ar?Pt(ar):null,data:Pt(er,De)},De)}:function(ar){Se=!0},gt=null,Et=Mt(G.data);if(this.parent[G.type])gt=this.parent[G.type](G.sourceMapId,Et,qe);else if(this.parent.getWorkerSource){var Rt=G.type.split("."),Wt=this.parent.getWorkerSource(G.sourceMapId,Rt[0],Et.source);gt=Wt[Rt[1]](Et,qe)}else qe(new Error("Could not find function "+G.type));!Se&&gt&&gt.cancel&&(this.cancelCallbacks[I]=gt.cancel)}},Jv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function bC(D,I,G){I=Math.pow(2,G)-I-1;var ae=B3(D*256,I*256,G),de=B3((D+1)*256,(I+1)*256,G);return ae[0]+","+ae[1]+","+de[0]+","+de[1]}function B3(D,I,G){var ae=2*Math.PI*6378137/256/Math.pow(2,G),de=D*ae-2*Math.PI*6378137/2,Se=I*ae-2*Math.PI*6378137/2;return[de,Se]}var fo=function(I,G){I&&(G?this.setSouthWest(I).setNorthEast(G):I.length===4?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};fo.prototype.setNorthEast=function(I){return this._ne=I instanceof Ri?new Ri(I.lng,I.lat):Ri.convert(I),this},fo.prototype.setSouthWest=function(I){return this._sw=I instanceof Ri?new Ri(I.lng,I.lat):Ri.convert(I),this},fo.prototype.extend=function(I){var G=this._sw,ae=this._ne,de,Se;if(I instanceof Ri)de=I,Se=I;else if(I instanceof fo){if(de=I._sw,Se=I._ne,!de||!Se)return this}else{if(Array.isArray(I))if(I.length===4||I.every(Array.isArray)){var De=I;return this.extend(fo.convert(De))}else{var qe=I;return this.extend(Ri.convert(qe))}return this}return!G&&!ae?(this._sw=new Ri(de.lng,de.lat),this._ne=new Ri(Se.lng,Se.lat)):(G.lng=Math.min(de.lng,G.lng),G.lat=Math.min(de.lat,G.lat),ae.lng=Math.max(Se.lng,ae.lng),ae.lat=Math.max(Se.lat,ae.lat)),this},fo.prototype.getCenter=function(){return new Ri((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},fo.prototype.getSouthWest=function(){return this._sw},fo.prototype.getNorthEast=function(){return this._ne},fo.prototype.getNorthWest=function(){return new Ri(this.getWest(),this.getNorth())},fo.prototype.getSouthEast=function(){return new Ri(this.getEast(),this.getSouth())},fo.prototype.getWest=function(){return this._sw.lng},fo.prototype.getSouth=function(){return this._sw.lat},fo.prototype.getEast=function(){return this._ne.lng},fo.prototype.getNorth=function(){return this._ne.lat},fo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},fo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},fo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},fo.prototype.contains=function(I){var G=Ri.convert(I),ae=G.lng,de=G.lat,Se=this._sw.lat<=de&&de<=this._ne.lat,De=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=ae&&ae>=this._ne.lng),Se&&De},fo.convert=function(I){return!I||I instanceof fo?I:new fo(I)};var U3=63710088e-1,Ri=function(I,G){if(isNaN(I)||isNaN(G))throw new Error("Invalid LngLat object: ("+I+", "+G+")");if(this.lng=+I,this.lat=+G,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ri.prototype.wrap=function(){return new Ri(M(this.lng,-180,180),this.lat)},Ri.prototype.toArray=function(){return[this.lng,this.lat]},Ri.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ri.prototype.distanceTo=function(I){var G=Math.PI/180,ae=this.lat*G,de=I.lat*G,Se=Math.sin(ae)*Math.sin(de)+Math.cos(ae)*Math.cos(de)*Math.cos((I.lng-this.lng)*G),De=U3*Math.acos(Math.min(Se,1));return De},Ri.prototype.toBounds=function(I){I===void 0&&(I=0);var G=40075017,ae=360*I/G,de=ae/Math.cos(Math.PI/180*this.lat);return new fo(new Ri(this.lng-de,this.lat-ae),new Ri(this.lng+de,this.lat+ae))},Ri.convert=function(I){if(I instanceof Ri)return I;if(Array.isArray(I)&&(I.length===2||I.length===3))return new Ri(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&typeof I=="object"&&I!==null)return new Ri(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var V3=2*Math.PI*U3;function j3(D){return V3*Math.cos(D*Math.PI/180)}function H3(D){return(180+D)/360}function G3(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function W3(D,I){return D/j3(I)}function wC(D){return D*360-180}function Nm(D){var I=180-D*360;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}function TC(D,I){return D*j3(Nm(I))}function AC(D){return 1/Math.cos(D*Math.PI/180)}var iv=function(I,G,ae){ae===void 0&&(ae=0),this.x=+I,this.y=+G,this.z=+ae};iv.fromLngLat=function(I,G){G===void 0&&(G=0);var ae=Ri.convert(I);return new iv(H3(ae.lng),G3(ae.lat),W3(G,ae.lat))},iv.prototype.toLngLat=function(){return new Ri(wC(this.x),Nm(this.y))},iv.prototype.toAltitude=function(){return TC(this.z,this.y)},iv.prototype.meterInMercatorCoordinateUnits=function(){return 1/V3*AC(Nm(this.y))};var ov=function(I,G,ae){this.z=I,this.x=G,this.y=ae,this.key=np(0,I,I,G,ae)};ov.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},ov.prototype.url=function(I,G){var ae=bC(this.x,this.y,this.z),de=SC(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(G==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",de).replace("{bbox-epsg-3857}",ae)},ov.prototype.getTilePoint=function(I){var G=Math.pow(2,this.z);return new r((I.x*G-this.x)*Ma,(I.y*G-this.y)*Ma)},ov.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Y3=function(I,G){this.wrap=I,this.canonical=G,this.key=np(I,G.z,G.z,G.x,G.y)},co=function(I,G,ae,de,Se){this.overscaledZ=I,this.wrap=G,this.canonical=new ov(ae,+de,+Se),this.key=np(G,I,ae,de,Se)};co.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},co.prototype.scaledTo=function(I){var G=this.canonical.z-I;return I>this.canonical.z?new co(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new co(I,this.wrap,I,this.canonical.x>>G,this.canonical.y>>G)},co.prototype.calculateScaledKey=function(I,G){var ae=this.canonical.z-I;return I>this.canonical.z?np(this.wrap*+G,I,this.canonical.z,this.canonical.x,this.canonical.y):np(this.wrap*+G,I,I,this.canonical.x>>ae,this.canonical.y>>ae)},co.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var G=this.canonical.z-I.canonical.z;return I.overscaledZ===0||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>G&&I.canonical.y===this.canonical.y>>G},co.prototype.children=function(I){if(this.overscaledZ>=I)return[new co(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var G=this.canonical.z+1,ae=this.canonical.x*2,de=this.canonical.y*2;return[new co(G,this.wrap,G,ae,de),new co(G,this.wrap,G,ae+1,de),new co(G,this.wrap,G,ae,de+1),new co(G,this.wrap,G,ae+1,de+1)]},co.prototype.isLessThan=function(I){return this.wrap<I.wrap?!0:this.wrap>I.wrap?!1:this.overscaledZ<I.overscaledZ?!0:this.overscaledZ>I.overscaledZ?!1:this.canonical.x<I.canonical.x?!0:this.canonical.x>I.canonical.x?!1:this.canonical.y<I.canonical.y},co.prototype.wrapped=function(){return new co(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},co.prototype.unwrapTo=function(I){return new co(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},co.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},co.prototype.toUnwrapped=function(){return new Y3(this.wrap,this.canonical)},co.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},co.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new iv(I.x-this.wrap,I.y))};function np(D,I,G,ae,de){D*=2,D<0&&(D=D*-1-1);var Se=1<<G;return(Se*Se*D+Se*de+ae).toString(36)+G.toString(36)+I.toString(36)}function SC(D,I,G){for(var ae="",de,Se=D;Se>0;Se--)de=1<<Se-1,ae+=(I&de?1:0)+(G&de?2:0);return ae}Ne("CanonicalTileID",ov),Ne("OverscaledTileID",co,{omit:["posMatrix"]});var nc=function(I,G,ae){if(this.uid=I,G.height!==G.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return B('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=G.height;var de=this.dim=G.height-2;this.data=new Uint32Array(G.data.buffer),this.encoding=ae||"mapbox";for(var Se=0;Se<de;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(de,Se)]=this.data[this._idx(de-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,de)]=this.data[this._idx(Se,de-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(de,-1)]=this.data[this._idx(de-1,0)],this.data[this._idx(-1,de)]=this.data[this._idx(0,de-1)],this.data[this._idx(de,de)]=this.data[this._idx(de-1,de-1)]};nc.prototype.get=function(I,G){var ae=new Uint8Array(this.data.buffer),de=this._idx(I,G)*4,Se=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Se(ae[de],ae[de+1],ae[de+2])},nc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},nc.prototype._idx=function(I,G){if(I<-1||I>=this.dim+1||G<-1||G>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(G+1)*this.stride+(I+1)},nc.prototype._unpackMapbox=function(I,G,ae){return(I*256*256+G*256+ae)/10-1e4},nc.prototype._unpackTerrarium=function(I,G,ae){return I*256+G+ae/256-32768},nc.prototype.getPixels=function(){return new Ds({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},nc.prototype.backfillBorder=function(I,G,ae){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var de=G*this.dim,Se=G*this.dim+this.dim,De=ae*this.dim,qe=ae*this.dim+this.dim;switch(G){case-1:de=Se-1;break;case 1:Se=de+1;break}switch(ae){case-1:De=qe-1;break;case 1:qe=De+1;break}for(var gt=-G*this.dim,Et=-ae*this.dim,Rt=De;Rt<qe;Rt++)for(var Wt=de;Wt<Se;Wt++)this.data[this._idx(Wt,Rt)]=I.data[this._idx(Wt+gt,Rt+Et)]},Ne("DEMData",nc);function MC(D,I){var G={};if(!I)return G;for(var ae=function(){var De=Se[de],qe=De.layerIds.map(function(Wt){return I.getLayer(Wt)}).filter(Boolean);if(qe.length!==0){De.layers=qe,De.stateDependentLayerIds&&(De.stateDependentLayers=De.stateDependentLayerIds.map(function(Wt){return qe.filter(function(ar){return ar.id===Wt})[0]}));for(var gt=0,Et=qe;gt<Et.length;gt+=1){var Rt=Et[gt];G[Rt.id]=De}}},de=0,Se=D;de<Se.length;de+=1)ae();return G}var O0=function(I){this._stringToNumber={},this._numberToString=[];for(var G=0;G<I.length;G++){var ae=I[G];this._stringToNumber[ae]=G,this._numberToString[G]=ae}};O0.prototype.encode=function(I){return this._stringToNumber[I]},O0.prototype.decode=function(I){return this._numberToString[I]};var z0=function(I,G,ae,de,Se){this.type="Feature",this._vectorTileFeature=I,I._z=G,I._x=ae,I._y=de,this.properties=I.properties,this.id=Se},Bm={geometry:{configurable:!0}};Bm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Bm.geometry.set=function(D){this._geometry=D},z0.prototype.toJSON=function(){var I={geometry:this.geometry};for(var G in this)G==="_geometry"||G==="_vectorTileFeature"||(I[G]=this[G]);return I},Object.defineProperties(z0.prototype,Bm);var $v=function(){this.state={},this.stateChanges={},this.deletedStates={}};$v.prototype.updateState=function(I,G,ae){var de=String(G);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][de]=this.stateChanges[I][de]||{},T(this.stateChanges[I][de],ae),this.deletedStates[I]===null){this.deletedStates[I]={};for(var Se in this.state[I])Se!==de&&(this.deletedStates[I][Se]=null)}else{var De=this.deletedStates[I]&&this.deletedStates[I][de]===null;if(De){this.deletedStates[I][de]={};for(var qe in this.state[I][de])ae[qe]||(this.deletedStates[I][de][qe]=null)}else for(var gt in ae){var Et=this.deletedStates[I]&&this.deletedStates[I][de]&&this.deletedStates[I][de][gt]===null;Et&&delete this.deletedStates[I][de][gt]}}},$v.prototype.removeFeatureState=function(I,G,ae){var de=this.deletedStates[I]===null;if(!de){var Se=String(G);if(this.deletedStates[I]=this.deletedStates[I]||{},ae&&G!==void 0)this.deletedStates[I][Se]!==null&&(this.deletedStates[I][Se]=this.deletedStates[I][Se]||{},this.deletedStates[I][Se][ae]=null);else if(G!==void 0){var De=this.stateChanges[I]&&this.stateChanges[I][Se];if(De){this.deletedStates[I][Se]={};for(ae in this.stateChanges[I][Se])this.deletedStates[I][Se][ae]=null}else this.deletedStates[I][Se]=null}else this.deletedStates[I]=null}},$v.prototype.getState=function(I,G){var ae=String(G),de=this.state[I]||{},Se=this.stateChanges[I]||{},De=T({},de[ae],Se[ae]);if(this.deletedStates[I]===null)return{};if(this.deletedStates[I]){var qe=this.deletedStates[I][G];if(qe===null)return{};for(var gt in qe)delete De[gt]}return De},$v.prototype.initializeTileState=function(I,G){I.setFeatureState(this.state,G)},$v.prototype.coalesceChanges=function(I,G){var ae={};for(var de in this.stateChanges){this.state[de]=this.state[de]||{};var Se={};for(var De in this.stateChanges[de])this.state[de][De]||(this.state[de][De]={}),T(this.state[de][De],this.stateChanges[de][De]),Se[De]=this.state[de][De];ae[de]=Se}for(var qe in this.deletedStates){this.state[qe]=this.state[qe]||{};var gt={};if(this.deletedStates[qe]===null)for(var Et in this.state[qe])gt[Et]={},this.state[qe][Et]={};else for(var Rt in this.deletedStates[qe]){var Wt=this.deletedStates[qe][Rt]===null;if(Wt)this.state[qe][Rt]={};else for(var ar=0,er=Object.keys(this.deletedStates[qe][Rt]);ar<er.length;ar+=1){var xr=er[ar];delete this.state[qe][Rt][xr]}gt[Rt]=this.state[qe][Rt]}ae[qe]=ae[qe]||{},T(ae[qe],gt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Or in I){var un=I[Or];un.setFeatureState(ae,G)}};var ac=function(I,G){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new za(Ma,16,0),this.grid3D=new za(Ma,16,0),this.featureIndexArray=new m0,this.promoteId=G};ac.prototype.insert=function(I,G,ae,de,Se,De){var qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,de,Se);for(var gt=De?this.grid3D:this.grid,Et=0;Et<G.length;Et++){for(var Rt=G[Et],Wt=[1/0,1/0,-1/0,-1/0],ar=0;ar<Rt.length;ar++){var er=Rt[ar];Wt[0]=Math.min(Wt[0],er.x),Wt[1]=Math.min(Wt[1],er.y),Wt[2]=Math.max(Wt[2],er.x),Wt[3]=Math.max(Wt[3],er.y)}Wt[0]<Ma&&Wt[1]<Ma&&Wt[2]>=0&&Wt[3]>=0&&gt.insert(qe,Wt[0],Wt[1],Wt[2],Wt[3])}},ac.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Bv.VectorTile(new E0(this.rawTileData)).layers,this.sourceLayerCoder=new O0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ac.prototype.query=function(I,G,ae,de){var Se=this;this.loadVTLayers();for(var De=I.params||{},qe=Ma/I.tileSize/I.scale,gt=ll(De.filter),Et=I.queryGeometry,Rt=I.queryPadding*qe,Wt=Z3(Et),ar=this.grid.query(Wt.minX-Rt,Wt.minY-Rt,Wt.maxX+Rt,Wt.maxY+Rt),er=Z3(I.cameraQueryGeometry),xr=this.grid3D.query(er.minX-Rt,er.minY-Rt,er.maxX+Rt,er.maxY+Rt,function(Wn,ra,qn,Ta){return uu(I.cameraQueryGeometry,Wn-Rt,ra-Rt,qn+Rt,Ta+Rt)}),Or=0,un=xr;Or<un.length;Or+=1){var tn=un[Or];ar.push(tn)}ar.sort(EC);for(var En={},xn,Mn=function(Wn){var ra=ar[Wn];if(ra!==xn){xn=ra;var qn=Se.featureIndexArray.get(ra),Ta=null;Se.loadMatchingFeature(En,qn.bucketIndex,qn.sourceLayerIndex,qn.featureIndex,gt,De.layers,De.availableImages,G,ae,de,function(da,wa,Ua){return Ta||(Ta=ei(da)),wa.queryIntersectsFeature(Et,da,Ua,Ta,Se.z,I.transform,qe,I.pixelPosMatrix)})}},On=0;On<ar.length;On++)Mn(On);return En},ac.prototype.loadMatchingFeature=function(I,G,ae,de,Se,De,qe,gt,Et,Rt,Wt){var ar=this.bucketLayerIDs[G];if(!(De&&!F(De,ar))){var er=this.sourceLayerCoder.decode(ae),xr=this.vtLayers[er],Or=xr.feature(de);if(Se.needGeometry){var un=Ai(Or,!0);if(!Se.filter(new Sa(this.tileID.overscaledZ),un,this.tileID.canonical))return}else if(!Se.filter(new Sa(this.tileID.overscaledZ),Or))return;for(var tn=this.getId(Or,er),En=0;En<ar.length;En++){var xn=ar[En];if(!(De&&De.indexOf(xn)<0)){var Mn=gt[xn];if(Mn){var On={};tn!==void 0&&Rt&&(On=Rt.getState(Mn.sourceLayer||"_geojsonTileLayer",tn));var Wn=T({},Et[xn]);Wn.paint=X3(Wn.paint,Mn.paint,Or,On,qe),Wn.layout=X3(Wn.layout,Mn.layout,Or,On,qe);var ra=!Wt||Wt(Or,Mn,On);if(ra){var qn=new z0(Or,this.z,this.x,this.y,tn);qn.layer=Wn;var Ta=I[xn];Ta===void 0&&(Ta=I[xn]=[]),Ta.push({featureIndex:de,feature:qn,intersectionZ:ra})}}}}}},ac.prototype.lookupSymbolFeatures=function(I,G,ae,de,Se,De,qe,gt){var Et={};this.loadVTLayers();for(var Rt=ll(Se),Wt=0,ar=I;Wt<ar.length;Wt+=1){var er=ar[Wt];this.loadMatchingFeature(Et,ae,de,er,Rt,De,qe,gt,G)}return Et},ac.prototype.hasLayer=function(I){for(var G=0,ae=this.bucketLayerIDs;G<ae.length;G+=1)for(var de=ae[G],Se=0,De=de;Se<De.length;Se+=1){var qe=De[Se];if(I===qe)return!0}return!1},ac.prototype.getId=function(I,G){var ae=I.id;if(this.promoteId){var de=typeof this.promoteId=="string"?this.promoteId:this.promoteId[G];ae=I.properties[de],typeof ae=="boolean"&&(ae=Number(ae))}return ae},Ne("FeatureIndex",ac,{omit:["rawTileData","sourceLayerCoder"]});function X3(D,I,G,ae,de){return k(D,function(Se,De){var qe=I instanceof xo?I.get(De):null;return qe&&qe.evaluate?qe.evaluate(G,ae,de):qe})}function Z3(D){for(var I=1/0,G=1/0,ae=-1/0,de=-1/0,Se=0,De=D;Se<De.length;Se+=1){var qe=De[Se];I=Math.min(I,qe.x),G=Math.min(G,qe.y),ae=Math.max(ae,qe.x),de=Math.max(de,qe.y)}return{minX:I,minY:G,maxX:ae,maxY:de}}function EC(D,I){return I-D}var CC=3e4,Po=function(I,G){this.tileID=I,this.uid=m(),this.uses=0,this.tileSize=G,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Po.prototype.registerFadeDuration=function(I){var G=I+this.timeAdded;G<le.now()||this.fadeEndTime&&G<this.fadeEndTime||(this.fadeEndTime=G)},Po.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Po.prototype.loadVectorData=function(I,G,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!I){this.collisionBoxArray=new Vd;return}I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=MC(I.buckets,G.style),this.hasSymbolBuckets=!1;for(var de in this.buckets){var Se=this.buckets[de];if(Se instanceof mi)if(this.hasSymbolBuckets=!0,ae)Se.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var qe=this.buckets[De];if(qe instanceof mi&&qe.hasRTLText){this.hasRTLText=!0,Va();break}}this.queryPadding=0;for(var gt in this.buckets){var Et=this.buckets[gt];this.queryPadding=Math.max(this.queryPadding,G.style.getLayer(gt).queryRadius(Et))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)},Po.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Po.prototype.getBucket=function(I){return this.buckets[I.id]},Po.prototype.upload=function(I){for(var G in this.buckets){var ae=this.buckets[G];ae.uploadPending()&&ae.upload(I)}var de=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new av(I,this.imageAtlas.image,de.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new av(I,this.glyphAtlasImage,de.ALPHA),this.glyphAtlasImage=null)},Po.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},Po.prototype.queryRenderedFeatures=function(I,G,ae,de,Se,De,qe,gt,Et,Rt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:de,cameraQueryGeometry:Se,scale:De,tileSize:this.tileSize,pixelPosMatrix:Rt,transform:gt,params:qe,queryPadding:this.queryPadding*Et},I,G,ae)},Po.prototype.querySourceFeatures=function(I,G){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var de=ae.loadVTLayers(),Se=G?G.sourceLayer:"",De=de._geojsonTileLayer||de[Se];if(De)for(var qe=ll(G&&G.filter),gt=this.tileID.canonical,Et=gt.z,Rt=gt.x,Wt=gt.y,ar={z:Et,x:Rt,y:Wt},er=0;er<De.length;er++){var xr=De.feature(er);if(qe.needGeometry){var Or=Ai(xr,!0);if(!qe.filter(new Sa(this.tileID.overscaledZ),Or,this.tileID.canonical))continue}else if(!qe.filter(new Sa(this.tileID.overscaledZ),xr))continue;var un=ae.getId(xr,Se),tn=new z0(xr,Et,Rt,Wt,un);tn.tile=ar,I.push(tn)}}},Po.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Po.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Po.prototype.setExpiryData=function(I){var G=this.expirationTime;if(I.cacheControl){var ae=re(I.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var de=Date.now(),Se=!1;if(this.expirationTime>de)Se=!1;else if(!G)Se=!0;else if(this.expirationTime<G)Se=!0;else{var De=this.expirationTime-G;De?this.expirationTime=de+Math.max(De,CC):Se=!0}Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Po.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Po.prototype.setFeatureState=function(I,G){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(I).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var de in this.buckets)if(G.style.hasLayer(de)){var Se=this.buckets[de],De=Se.layers[0].sourceLayer||"_geojsonTileLayer",qe=ae[De],gt=I[De];if(!(!qe||!gt||Object.keys(gt).length===0)){Se.update(gt,qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Et=G&&G.style&&G.style.getLayer(de);Et&&(this.queryPadding=Math.max(this.queryPadding,Et.queryRadius(Se)))}}}},Po.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Po.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<le.now()},Po.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Po.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=le.now()+I},Po.prototype.setDependencies=function(I,G){for(var ae={},de=0,Se=G;de<Se.length;de+=1){var De=Se[de];ae[De]=!0}this.dependencies[I]=ae},Po.prototype.hasDependency=function(I,G){for(var ae=0,de=I;ae<de.length;ae+=1){var Se=de[ae],De=this.dependencies[Se];if(De)for(var qe=0,gt=G;qe<gt.length;qe+=1){var Et=gt[qe];if(De[Et])return!0}}return!1};var LC=["type","source","source-layer","minzoom","maxzoom","filter","layout"],eh=i.performance,K3=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},eh.mark(this._marks.start)};K3.prototype.finish=function(){eh.mark(this._marks.end);var I=eh.getEntriesByName(this._marks.measure);return I.length===0&&(eh.measure(this._marks.measure,this._marks.start,this._marks.end),I=eh.getEntriesByName(this._marks.measure),eh.clearMarks(this._marks.start),eh.clearMarks(this._marks.end),eh.clearMeasures(this._marks.measure)),I},a.Actor=Jv,a.AlphaImage=nv,a.CanonicalTileID=ov,a.CollisionBoxArray=Vd,a.Color=qa,a.DEMData=nc,a.DataConstantProperty=sa,a.DictionaryCoder=O0,a.EXTENT=Ma,a.ErrorEvent=Nt,a.EvaluationParameters=Sa,a.Event=nr,a.Evented=hr,a.FeatureIndex=ac,a.FillBucket=Wu,a.FillExtrusionBucket=Yu,a.ImageAtlas=qd,a.ImagePosition=L0,a.LineBucket=ds,a.LngLat=Ri,a.LngLatBounds=fo,a.MercatorCoordinate=iv,a.ONE_EM=Vo,a.OverscaledTileID=co,a.Point=r,a.Point$1=r,a.Properties=ci,a.Protobuf=E0,a.RGBAImage=Ds,a.RequestManager=Ve,a.RequestPerformance=K3,a.ResourceType=yr,a.SegmentVector=lo,a.SourceFeatureState=$v,a.StructArrayLayout1ui2=Yc,a.StructArrayLayout2f1f2i16=ju,a.StructArrayLayout2i4=Qf,a.StructArrayLayout3ui6=Hu,a.StructArrayLayout4i8=zd,a.SymbolBucket=mi,a.Texture=av,a.Tile=Po,a.Transitionable=ai,a.Uniform1f=Xr,a.Uniform1i=Fr,a.Uniform2f=Yr,a.Uniform3f=Hr,a.Uniform4f=Jr,a.UniformColor=cn,a.UniformMatrix4f=Bn,a.UnwrappedTileID=Y3,a.ValidationError=Nr,a.WritingMode=cl,a.ZoomHistory=Ht,a.add=Ov,a.addDynamicAttributes=Fm,a.asyncAll=c,a.bezier=l,a.bindAll=L,a.browser=le,a.cacheEntryPossiblyAdded=kt,a.clamp=h,a.clearTileCache=mr,a.clipLine=P3,a.clone=_v,a.clone$1=U,a.clone$2=pm,a.collisionCircleLayout=lE,a.config=ie,a.create=Iv,a.create$1=Jo,a.create$2=Dv,a.createCommonjsModule=x,a.createExpression=ol,a.createLayout=Li,a.createStyleLayer=xC,a.cross=IM,a.deepEqual=n,a.dot=DM,a.dot$1=zM,a.ease=y,a.emitValidationErrors=Ia,a.endsWith=A,a.enforceCacheSizeLimit=Kt,a.evaluateSizeForFeature=T3,a.evaluateSizeForZoom=A3,a.evaluateVariableOffset=I3,a.evented=Ea,a.extend=T,a.featureFilter=ll,a.filterObject=_,a.fromRotation=Kc,a.getAnchorAlignment=Dm,a.getAnchorJustification=km,a.getArrayBuffer=Vt,a.getImage=Ft,a.getJSON=Dt,a.getRTLTextPluginStatus=Fa,a.getReferrer=bt,a.getVideo=Jt,a.identity=kv,a.invert=Jc,a.isChar=Gt,a.isMapboxURL=Ue,a.keysDifference=d,a.makeRequest=It,a.mapObject=k,a.mercatorXfromLng=H3,a.mercatorYfromLat=G3,a.mercatorZfromAltitude=W3,a.mul=dm,a.multiply=$c,a.mvt=Bv,a.nextPowerOfTwo=b,a.normalize=Gd,a.number=Pi,a.offscreenCanvasSupported=Qt,a.ortho=vm,a.parseGlyphPBF=FE,a.pbf=E0,a.performSymbolLayout=qE,a.perspective=Hd,a.pick=S,a.plugin=Jn,a.polygonIntersectsPolygon=Ha,a.postMapLoadEvent=He,a.postTurnstileEvent=je,a.potpack=d3,a.refProperties=LC,a.register=Ne,a.registerForPluginStateChange=ni,a.renderColorRamp=Yb,a.rotate=tv,a.rotateX=Rs,a.rotateZ=Fv,a.scale=Ps,a.scale$1=OM,a.scale$2=ym,a.setCacheLimits=mt,a.setRTLTextPlugin=Bi,a.sphericalToCartesian=W,a.sqrLen=UM,a.styleSpec=Sr,a.sub=kM,a.symbolSize=GE,a.transformMat3=_M,a.transformMat4=b0,a.translate=Xi,a.triggerPluginCompletionEvent=ca,a.uniqueId=m,a.validateCustomStyleLayer=gC,a.validateLight=Zn,a.validateStyle=_n,a.values=o,a.vectorTile=Bv,a.version=w,a.warnOnce=B,a.webpSupported=he,a.window=i,a.wrap=M}),P(["./shared"],function(a){function x(bt){var lt=typeof bt;if(lt==="number"||lt==="boolean"||lt==="string"||bt===void 0||bt===null)return JSON.stringify(bt);if(Array.isArray(bt)){for(var Tt="[",Ct=0,It=bt;Ct<It.length;Ct+=1){var Dt=It[Ct];Tt+=x(Dt)+","}return Tt+"]"}for(var Vt=Object.keys(bt).sort(),Bt="{",$t=0;$t<Vt.length;$t++)Bt+=JSON.stringify(Vt[$t])+":"+x(bt[Vt[$t]])+",";return Bt+"}"}function w(bt){for(var lt="",Tt=0,Ct=a.refProperties;Tt<Ct.length;Tt+=1){var It=Ct[Tt];lt+="/"+x(bt[It])}return lt}function v(bt,lt){for(var Tt={},Ct=0;Ct<bt.length;Ct++){var It=lt&&lt[bt[Ct].id]||w(bt[Ct]);lt&&(lt[bt[Ct].id]=It);var Dt=Tt[It];Dt||(Dt=Tt[It]=[]),Dt.push(bt[Ct])}var Vt=[];for(var Bt in Tt)Vt.push(Tt[Bt]);return Vt}var p=function(lt){this.keyCache={},lt&&this.replace(lt)};p.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},p.prototype.update=function(lt,Tt){for(var Ct=this,It=0,Dt=lt;It<Dt.length;It+=1){var Vt=Dt[It];this._layerConfigs[Vt.id]=Vt;var Bt=this._layers[Vt.id]=a.createStyleLayer(Vt);Bt._featureFilter=a.featureFilter(Bt.filter),this.keyCache[Vt.id]&&delete this.keyCache[Vt.id]}for(var $t=0,fr=Tt;$t<fr.length;$t+=1){var cr=fr[$t];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var dr=v(a.values(this._layerConfigs),this.keyCache),Ye=0,Ge=dr;Ye<Ge.length;Ye+=1){var zt=Ge[Ye],Ft=zt.map(function(hr){return Ct._layers[hr.id]}),Jt=Ft[0];if(Jt.visibility!=="none"){var tr=Jt.source||"",ur=this.familiesBySource[tr];ur||(ur=this.familiesBySource[tr]={});var nr=Jt.sourceLayer||"_geojsonTileLayer",Nt=ur[nr];Nt||(Nt=ur[nr]=[]),Nt.push(Ft)}}};var r=1,t=function(lt){var Tt={},Ct=[];for(var It in lt){var Dt=lt[It],Vt=Tt[It]={};for(var Bt in Dt){var $t=Dt[+Bt];if(!(!$t||$t.bitmap.width===0||$t.bitmap.height===0)){var fr={x:0,y:0,w:$t.bitmap.width+2*r,h:$t.bitmap.height+2*r};Ct.push(fr),Vt[Bt]={rect:fr,metrics:$t.metrics}}}}var cr=a.potpack(Ct),dr=cr.w,Ye=cr.h,Ge=new a.AlphaImage({width:dr||1,height:Ye||1});for(var zt in lt){var Ft=lt[zt];for(var Jt in Ft){var tr=Ft[+Jt];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var ur=Tt[zt][Jt].rect;a.AlphaImage.copy(tr.bitmap,Ge,{x:0,y:0},{x:ur.x+r,y:ur.y+r},tr.bitmap)}}}this.image=Ge,this.positions=Tt};a.register("GlyphAtlas",t);var i=function(lt){this.tileID=new a.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};i.prototype.parse=function(lt,Tt,Ct,It,Dt){var Vt=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new a.CollisionBoxArray;var Bt=new a.DictionaryCoder(Object.keys(lt.layers).sort()),$t=new a.FeatureIndex(this.tileID,this.promoteId);$t.bucketLayerIDs=[];var fr={},cr={featureIndex:$t,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ct},dr=Tt.familiesBySource[this.source];for(var Ye in dr){var Ge=lt.layers[Ye];if(Ge){Ge.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ye+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var zt=Bt.encode(Ye),Ft=[],Jt=0;Jt<Ge.length;Jt++){var tr=Ge.feature(Jt),ur=$t.getId(tr,Ye);Ft.push({feature:tr,id:ur,index:Jt,sourceLayerIndex:zt})}for(var nr=0,Nt=dr[Ye];nr<Nt.length;nr+=1){var hr=Nt[nr],gr=hr[0];if(!(gr.minzoom&&this.zoom<Math.floor(gr.minzoom))&&!(gr.maxzoom&&this.zoom>=gr.maxzoom)&&gr.visibility!=="none"){n(hr,this.zoom,Ct);var br=fr[gr.id]=gr.createBucket({index:$t.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zt,sourceID:this.source});br.populate(Ft,cr,this.tileID.canonical),$t.bucketLayerIDs.push(hr.map(function(Ar){return Ar.id}))}}}}var vr,Gr,Dr,_r,hn=a.mapObject(cr.glyphDependencies,function(Ar){return Object.keys(Ar).map(Number)});Object.keys(hn).length?It.send("getGlyphs",{uid:this.uid,stacks:hn},function(Ar,Pr){vr||(vr=Ar,Gr=Pr,Cn.call(Vt))}):Gr={};var nn=Object.keys(cr.iconDependencies);nn.length?It.send("getImages",{icons:nn,source:this.source,tileID:this.tileID,type:"icons"},function(Ar,Pr){vr||(vr=Ar,Dr=Pr,Cn.call(Vt))}):Dr={};var Pn=Object.keys(cr.patternDependencies);Pn.length?It.send("getImages",{icons:Pn,source:this.source,tileID:this.tileID,type:"patterns"},function(Ar,Pr){vr||(vr=Ar,_r=Pr,Cn.call(Vt))}):_r={},Cn.call(this);function Cn(){if(vr)return Dt(vr);if(Gr&&Dr&&_r){var Ar=new t(Gr),Pr=new a.ImageAtlas(Dr,_r);for(var Wr in fr){var Vr=fr[Wr];Vr instanceof a.SymbolBucket?(n(Vr.layers,this.zoom,Ct),a.performSymbolLayout(Vr,Gr,Ar.positions,Dr,Pr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Vr.hasPattern&&(Vr instanceof a.LineBucket||Vr instanceof a.FillBucket||Vr instanceof a.FillExtrusionBucket)&&(n(Vr.layers,this.zoom,Ct),Vr.addFeatures(cr,this.tileID.canonical,Pr.patternPositions))}this.status="done",Dt(null,{buckets:a.values(fr).filter(function(on){return!on.isEmpty()}),featureIndex:$t,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ar.image,imageAtlas:Pr,glyphMap:this.returnDependencies?Gr:null,iconMap:this.returnDependencies?Dr:null,glyphPositions:this.returnDependencies?Ar.positions:null})}}};function n(bt,lt,Tt){for(var Ct=new a.EvaluationParameters(lt),It=0,Dt=bt;It<Dt.length;It+=1){var Vt=Dt[It];Vt.recalculate(Ct,Tt)}}function u(bt,lt){var Tt=a.getArrayBuffer(bt.request,function(Ct,It,Dt,Vt){Ct?lt(Ct):It&&lt(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(It)),rawData:It,cacheControl:Dt,expires:Vt})});return function(){Tt.cancel(),lt()}}var f=function(lt,Tt,Ct,It){this.actor=lt,this.layerIndex=Tt,this.availableImages=Ct,this.loadVectorData=It||u,this.loading={},this.loaded={}};f.prototype.loadTile=function(lt,Tt){var Ct=this,It=lt.uid;this.loading||(this.loading={});var Dt=lt&&lt.request&&lt.request.collectResourceTiming?new a.RequestPerformance(lt.request):!1,Vt=this.loading[It]=new i(lt);Vt.abort=this.loadVectorData(lt,function(Bt,$t){if(delete Ct.loading[It],Bt||!$t)return Vt.status="done",Ct.loaded[It]=Vt,Tt(Bt);var fr=$t.rawData,cr={};$t.expires&&(cr.expires=$t.expires),$t.cacheControl&&(cr.cacheControl=$t.cacheControl);var dr={};if(Dt){var Ye=Dt.finish();Ye&&(dr.resourceTiming=JSON.parse(JSON.stringify(Ye)))}Vt.vectorTile=$t.vectorTile,Vt.parse($t.vectorTile,Ct.layerIndex,Ct.availableImages,Ct.actor,function(Ge,zt){if(Ge||!zt)return Tt(Ge);Tt(null,a.extend({rawTileData:fr.slice(0)},zt,cr,dr))}),Ct.loaded=Ct.loaded||{},Ct.loaded[It]=Vt})},f.prototype.reloadTile=function(lt,Tt){var Ct=this,It=this.loaded,Dt=lt.uid,Vt=this;if(It&&It[Dt]){var Bt=It[Dt];Bt.showCollisionBoxes=lt.showCollisionBoxes;var $t=function(fr,cr){var dr=Bt.reloadCallback;dr&&(delete Bt.reloadCallback,Bt.parse(Bt.vectorTile,Vt.layerIndex,Ct.availableImages,Vt.actor,dr)),Tt(fr,cr)};Bt.status==="parsing"?Bt.reloadCallback=$t:Bt.status==="done"&&(Bt.vectorTile?Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,$t):$t())}},f.prototype.abortTile=function(lt,Tt){var Ct=this.loading,It=lt.uid;Ct&&Ct[It]&&Ct[It].abort&&(Ct[It].abort(),delete Ct[It]),Tt()},f.prototype.removeTile=function(lt,Tt){var Ct=this.loaded,It=lt.uid;Ct&&Ct[It]&&delete Ct[It],Tt()};var l=a.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(lt,Tt){var Ct=lt.uid,It=lt.encoding,Dt=lt.rawImageData,Vt=l&&Dt instanceof l?this.getImageData(Dt):Dt,Bt=new a.DEMData(Ct,Vt,It);this.loaded=this.loaded||{},this.loaded[Ct]=Bt,Tt(null,Bt)},y.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var Tt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Tt.width,height:Tt.height},Tt.data)},y.prototype.removeTile=function(lt){var Tt=this.loaded,Ct=lt.uid;Tt&&Tt[Ct]&&delete Tt[Ct]};var h=M;function M(bt,lt){var Tt=bt&&bt.type,Ct;if(Tt==="FeatureCollection")for(Ct=0;Ct<bt.features.length;Ct++)M(bt.features[Ct],lt);else if(Tt==="GeometryCollection")for(Ct=0;Ct<bt.geometries.length;Ct++)M(bt.geometries[Ct],lt);else if(Tt==="Feature")M(bt.geometry,lt);else if(Tt==="Polygon")c(bt.coordinates,lt);else if(Tt==="MultiPolygon")for(Ct=0;Ct<bt.coordinates.length;Ct++)c(bt.coordinates[Ct],lt);return bt}function c(bt,lt){if(bt.length!==0){o(bt[0],lt);for(var Tt=1;Tt<bt.length;Tt++)o(bt[Tt],!lt)}}function o(bt,lt){for(var Tt=0,Ct=0,It=bt.length,Dt=It-1;Ct<It;Dt=Ct++)Tt+=(bt[Ct][0]-bt[Dt][0])*(bt[Dt][1]+bt[Ct][1]);Tt>=0!=!!lt&&bt.reverse()}var d=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,T=function(lt){this._feature=lt,this.extent=a.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};T.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],Tt=0,Ct=this._feature.geometry;Tt<Ct.length;Tt+=1){var It=Ct[Tt];lt.push([new a.Point$1(It[0],It[1])])}return lt}else{for(var Dt=[],Vt=0,Bt=this._feature.geometry;Vt<Bt.length;Vt+=1){for(var $t=Bt[Vt],fr=[],cr=0,dr=$t;cr<dr.length;cr+=1){var Ye=dr[cr];fr.push(new a.Point$1(Ye[0],Ye[1]))}Dt.push(fr)}return Dt}},T.prototype.toGeoJSON=function(lt,Tt,Ct){return d.call(this,lt,Tt,Ct)};var S=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=lt.length,this._features=lt};S.prototype.feature=function(lt){return new T(this._features[lt])};var C=a.vectorTile.VectorTileFeature,m=E;function E(bt,lt){this.options=lt||{},this.features=bt,this.length=bt.length}E.prototype.feature=function(bt){return new b(this.features[bt],this.options.extent)};function b(bt,lt){this.id=typeof bt.id=="number"?bt.id:void 0,this.type=bt.type,this.rawGeometry=bt.type===1?[bt.geometry]:bt.geometry,this.properties=bt.tags,this.extent=lt||4096}b.prototype.loadGeometry=function(){var bt=this.rawGeometry;this.geometry=[];for(var lt=0;lt<bt.length;lt++){for(var Tt=bt[lt],Ct=[],It=0;It<Tt.length;It++)Ct.push(new a.Point$1(Tt[It][0],Tt[It][1]));this.geometry.push(Ct)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var bt=this.geometry,lt=1/0,Tt=-1/0,Ct=1/0,It=-1/0,Dt=0;Dt<bt.length;Dt++)for(var Vt=bt[Dt],Bt=0;Bt<Vt.length;Bt++){var $t=Vt[Bt];lt=Math.min(lt,$t.x),Tt=Math.max(Tt,$t.x),Ct=Math.min(Ct,$t.y),It=Math.max(It,$t.y)}return[lt,Ct,Tt,It]},b.prototype.toGeoJSON=C.prototype.toGeoJSON;var s=_,L=_,A=U,k=m;function _(bt){var lt=new a.pbf;return F(bt,lt),lt.finish()}function U(bt,lt){lt=lt||{};var Tt={};for(var Ct in bt)Tt[Ct]=new m(bt[Ct].features,lt),Tt[Ct].name=Ct,Tt[Ct].version=lt.version,Tt[Ct].extent=lt.extent;return _({layers:Tt})}function F(bt,lt){for(var Tt in bt.layers)lt.writeMessage(3,z,bt.layers[Tt])}function z(bt,lt){lt.writeVarintField(15,bt.version||1),lt.writeStringField(1,bt.name||""),lt.writeVarintField(5,bt.extent||4096);var Tt,Ct={keys:[],values:[],keycache:{},valuecache:{}};for(Tt=0;Tt<bt.length;Tt++)Ct.feature=bt.feature(Tt),lt.writeMessage(2,B,Ct);var It=Ct.keys;for(Tt=0;Tt<It.length;Tt++)lt.writeStringField(3,It[Tt]);var Dt=Ct.values;for(Tt=0;Tt<Dt.length;Tt++)lt.writeMessage(4,re,Dt[Tt])}function B(bt,lt){var Tt=bt.feature;Tt.id!==void 0&&lt.writeVarintField(1,Tt.id),lt.writeMessage(2,N,bt),lt.writeVarintField(3,Tt.type),lt.writeMessage(4,Q,Tt)}function N(bt,lt){var Tt=bt.feature,Ct=bt.keys,It=bt.values,Dt=bt.keycache,Vt=bt.valuecache;for(var Bt in Tt.properties){var $t=Dt[Bt];typeof $t>"u"&&(Ct.push(Bt),$t=Ct.length-1,Dt[Bt]=$t),lt.writeVarint($t);var fr=Tt.properties[Bt],cr=typeof fr;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(fr=JSON.stringify(fr));var dr=cr+":"+fr,Ye=Vt[dr];typeof Ye>"u"&&(It.push(fr),Ye=It.length-1,Vt[dr]=Ye),lt.writeVarint(Ye)}}function V(bt,lt){return(lt<<3)+(bt&7)}function W(bt){return bt<<1^bt>>31}function Q(bt,lt){for(var Tt=bt.loadGeometry(),Ct=bt.type,It=0,Dt=0,Vt=Tt.length,Bt=0;Bt<Vt;Bt++){var $t=Tt[Bt],fr=1;Ct===1&&(fr=$t.length),lt.writeVarint(V(1,fr));for(var cr=Ct===3?$t.length-1:$t.length,dr=0;dr<cr;dr++){dr===1&&Ct!==1&&lt.writeVarint(V(2,cr-1));var Ye=$t[dr].x-It,Ge=$t[dr].y-Dt;lt.writeVarint(W(Ye)),lt.writeVarint(W(Ge)),It+=Ye,Dt+=Ge}Ct===3&&lt.writeVarint(V(7,1))}}function re(bt,lt){var Tt=typeof bt;Tt==="string"?lt.writeStringField(1,bt):Tt==="boolean"?lt.writeBooleanField(7,bt):Tt==="number"&&(bt%1!==0?lt.writeDoubleField(3,bt):bt<0?lt.writeSVarintField(6,bt):lt.writeVarintField(5,bt))}s.fromVectorTileJs=L,s.fromGeojsonVt=A,s.GeoJSONWrapper=k;function ne(bt,lt,Tt,Ct,It,Dt){if(!(It-Ct<=Tt)){var Vt=Ct+It>>1;fe(bt,lt,Vt,Ct,It,Dt%2),ne(bt,lt,Tt,Ct,Vt-1,Dt+1),ne(bt,lt,Tt,Vt+1,It,Dt+1)}}function fe(bt,lt,Tt,Ct,It,Dt){for(;It>Ct;){if(It-Ct>600){var Vt=It-Ct+1,Bt=Tt-Ct+1,$t=Math.log(Vt),fr=.5*Math.exp(2*$t/3),cr=.5*Math.sqrt($t*fr*(Vt-fr)/Vt)*(Bt-Vt/2<0?-1:1),dr=Math.max(Ct,Math.floor(Tt-Bt*fr/Vt+cr)),Ye=Math.min(It,Math.floor(Tt+(Vt-Bt)*fr/Vt+cr));fe(bt,lt,Tt,dr,Ye,Dt)}var Ge=lt[2*Tt+Dt],zt=Ct,Ft=It;for($(bt,lt,Ct,Tt),lt[2*It+Dt]>Ge&&$(bt,lt,Ct,It);zt<Ft;){for($(bt,lt,zt,Ft),zt++,Ft--;lt[2*zt+Dt]<Ge;)zt++;for(;lt[2*Ft+Dt]>Ge;)Ft--}lt[2*Ct+Dt]===Ge?$(bt,lt,Ct,Ft):(Ft++,$(bt,lt,Ft,It)),Ft<=Tt&&(Ct=Ft+1),Tt<=Ft&&(It=Ft-1)}}function $(bt,lt,Tt,Ct){X(bt,Tt,Ct),X(lt,2*Tt,2*Ct),X(lt,2*Tt+1,2*Ct+1)}function X(bt,lt,Tt){var Ct=bt[lt];bt[lt]=bt[Tt],bt[Tt]=Ct}function oe(bt,lt,Tt,Ct,It,Dt,Vt){for(var Bt=[0,bt.length-1,0],$t=[],fr,cr;Bt.length;){var dr=Bt.pop(),Ye=Bt.pop(),Ge=Bt.pop();if(Ye-Ge<=Vt){for(var zt=Ge;zt<=Ye;zt++)fr=lt[2*zt],cr=lt[2*zt+1],fr>=Tt&&fr<=It&&cr>=Ct&&cr<=Dt&&$t.push(bt[zt]);continue}var Ft=Math.floor((Ge+Ye)/2);fr=lt[2*Ft],cr=lt[2*Ft+1],fr>=Tt&&fr<=It&&cr>=Ct&&cr<=Dt&&$t.push(bt[Ft]);var Jt=(dr+1)%2;(dr===0?Tt<=fr:Ct<=cr)&&(Bt.push(Ge),Bt.push(Ft-1),Bt.push(Jt)),(dr===0?It>=fr:Dt>=cr)&&(Bt.push(Ft+1),Bt.push(Ye),Bt.push(Jt))}return $t}function Y(bt,lt,Tt,Ct,It,Dt){for(var Vt=[0,bt.length-1,0],Bt=[],$t=It*It;Vt.length;){var fr=Vt.pop(),cr=Vt.pop(),dr=Vt.pop();if(cr-dr<=Dt){for(var Ye=dr;Ye<=cr;Ye++)ee(lt[2*Ye],lt[2*Ye+1],Tt,Ct)<=$t&&Bt.push(bt[Ye]);continue}var Ge=Math.floor((dr+cr)/2),zt=lt[2*Ge],Ft=lt[2*Ge+1];ee(zt,Ft,Tt,Ct)<=$t&&Bt.push(bt[Ge]);var Jt=(fr+1)%2;(fr===0?Tt-It<=zt:Ct-It<=Ft)&&(Vt.push(dr),Vt.push(Ge-1),Vt.push(Jt)),(fr===0?Tt+It>=zt:Ct+It>=Ft)&&(Vt.push(Ge+1),Vt.push(cr),Vt.push(Jt))}return Bt}function ee(bt,lt,Tt,Ct){var It=bt-Tt,Dt=lt-Ct;return It*It+Dt*Dt}var se=function(bt){return bt[0]},q=function(bt){return bt[1]},K=function(lt,Tt,Ct,It,Dt){Tt===void 0&&(Tt=se),Ct===void 0&&(Ct=q),It===void 0&&(It=64),Dt===void 0&&(Dt=Float64Array),this.nodeSize=It,this.points=lt;for(var Vt=lt.length<65536?Uint16Array:Uint32Array,Bt=this.ids=new Vt(lt.length),$t=this.coords=new Dt(lt.length*2),fr=0;fr<lt.length;fr++)Bt[fr]=fr,$t[2*fr]=Tt(lt[fr]),$t[2*fr+1]=Ct(lt[fr]);ne(Bt,$t,It,0,Bt.length-1,0)};K.prototype.range=function(lt,Tt,Ct,It){return oe(this.ids,this.coords,lt,Tt,Ct,It,this.nodeSize)},K.prototype.within=function(lt,Tt,Ct){return Y(this.ids,this.coords,lt,Tt,Ct,this.nodeSize)};var le={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(bt){return bt}},ie=function(lt){this.options=Re(Object.create(le),lt),this.trees=new Array(this.options.maxZoom+1)};ie.prototype.load=function(lt){var Tt=this.options,Ct=Tt.log,It=Tt.minZoom,Dt=Tt.maxZoom,Vt=Tt.nodeSize;Ct&&console.time("total time");var Bt="prepare "+lt.length+" points";Ct&&console.time(Bt),this.points=lt;for(var $t=[],fr=0;fr<lt.length;fr++)lt[fr].geometry&&$t.push(ye(lt[fr],fr));this.trees[Dt+1]=new K($t,Ve,Ue,Vt,Float32Array),Ct&&console.timeEnd(Bt);for(var cr=Dt;cr>=It;cr--){var dr=+Date.now();$t=this._cluster($t,cr),this.trees[cr]=new K($t,Ve,Ue,Vt,Float32Array),Ct&&console.log("z%d: %d clusters in %dms",cr,$t.length,+Date.now()-dr)}return Ct&&console.timeEnd("total time"),this},ie.prototype.getClusters=function(lt,Tt){var Ct=((lt[0]+180)%360+360)%360-180,It=Math.max(-90,Math.min(90,lt[1])),Dt=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,Vt=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)Ct=-180,Dt=180;else if(Ct>Dt){var Bt=this.getClusters([Ct,It,180,Vt],Tt),$t=this.getClusters([-180,It,Dt,Vt],Tt);return Bt.concat($t)}for(var fr=this.trees[this._limitZoom(Tt)],cr=fr.range(ke(Ct),we(Vt),ke(Dt),we(It)),dr=[],Ye=0,Ge=cr;Ye<Ge.length;Ye+=1){var zt=Ge[Ye],Ft=fr.points[zt];dr.push(Ft.numPoints?Ce(Ft):this.points[Ft.index])}return dr},ie.prototype.getChildren=function(lt){var Tt=this._getOriginId(lt),Ct=this._getOriginZoom(lt),It="No cluster with the specified id.",Dt=this.trees[Ct];if(!Dt)throw new Error(It);var Vt=Dt.points[Tt];if(!Vt)throw new Error(It);for(var Bt=this.options.radius/(this.options.extent*Math.pow(2,Ct-1)),$t=Dt.within(Vt.x,Vt.y,Bt),fr=[],cr=0,dr=$t;cr<dr.length;cr+=1){var Ye=dr[cr],Ge=Dt.points[Ye];Ge.parentId===lt&&fr.push(Ge.numPoints?Ce(Ge):this.points[Ge.index])}if(fr.length===0)throw new Error(It);return fr},ie.prototype.getLeaves=function(lt,Tt,Ct){Tt=Tt||10,Ct=Ct||0;var It=[];return this._appendLeaves(It,lt,Tt,Ct,0),It},ie.prototype.getTile=function(lt,Tt,Ct){var It=this.trees[this._limitZoom(lt)],Dt=Math.pow(2,lt),Vt=this.options,Bt=Vt.extent,$t=Vt.radius,fr=$t/Bt,cr=(Ct-fr)/Dt,dr=(Ct+1+fr)/Dt,Ye={features:[]};return this._addTileFeatures(It.range((Tt-fr)/Dt,cr,(Tt+1+fr)/Dt,dr),It.points,Tt,Ct,Dt,Ye),Tt===0&&this._addTileFeatures(It.range(1-fr/Dt,cr,1,dr),It.points,Dt,Ct,Dt,Ye),Tt===Dt-1&&this._addTileFeatures(It.range(0,cr,fr/Dt,dr),It.points,-1,Ct,Dt,Ye),Ye.features.length?Ye:null},ie.prototype.getClusterExpansionZoom=function(lt){for(var Tt=this._getOriginZoom(lt)-1;Tt<=this.options.maxZoom;){var Ct=this.getChildren(lt);if(Tt++,Ct.length!==1)break;lt=Ct[0].properties.cluster_id}return Tt},ie.prototype._appendLeaves=function(lt,Tt,Ct,It,Dt){for(var Vt=this.getChildren(Tt),Bt=0,$t=Vt;Bt<$t.length;Bt+=1){var fr=$t[Bt],cr=fr.properties;if(cr&&cr.cluster?Dt+cr.point_count<=It?Dt+=cr.point_count:Dt=this._appendLeaves(lt,cr.cluster_id,Ct,It,Dt):Dt<It?Dt++:lt.push(fr),lt.length===Ct)break}return Dt},ie.prototype._addTileFeatures=function(lt,Tt,Ct,It,Dt,Vt){for(var Bt=0,$t=lt;Bt<$t.length;Bt+=1){var fr=$t[Bt],cr=Tt[fr],dr=cr.numPoints,Ye={type:1,geometry:[[Math.round(this.options.extent*(cr.x*Dt-Ct)),Math.round(this.options.extent*(cr.y*Dt-It))]],tags:dr?Ae(cr):this.points[cr.index].properties},Ge=void 0;dr?Ge=cr.id:this.options.generateId?Ge=cr.index:this.points[cr.index].id&&(Ge=this.points[cr.index].id),Ge!==void 0&&(Ye.id=Ge),Vt.features.push(Ye)}},ie.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(+lt,this.options.maxZoom+1))},ie.prototype._cluster=function(lt,Tt){for(var Ct=[],It=this.options,Dt=It.radius,Vt=It.extent,Bt=It.reduce,$t=It.minPoints,fr=Dt/(Vt*Math.pow(2,Tt)),cr=0;cr<lt.length;cr++){var dr=lt[cr];if(!(dr.zoom<=Tt)){dr.zoom=Tt;for(var Ye=this.trees[Tt+1],Ge=Ye.within(dr.x,dr.y,fr),zt=dr.numPoints||1,Ft=zt,Jt=0,tr=Ge;Jt<tr.length;Jt+=1){var ur=tr[Jt],nr=Ye.points[ur];nr.zoom>Tt&&(Ft+=nr.numPoints||1)}if(Ft>=$t){for(var Nt=dr.x*zt,hr=dr.y*zt,gr=Bt&&zt>1?this._map(dr,!0):null,br=(cr<<5)+(Tt+1)+this.points.length,vr=0,Gr=Ge;vr<Gr.length;vr+=1){var Dr=Gr[vr],_r=Ye.points[Dr];if(!(_r.zoom<=Tt)){_r.zoom=Tt;var hn=_r.numPoints||1;Nt+=_r.x*hn,hr+=_r.y*hn,_r.parentId=br,Bt&&(gr||(gr=this._map(dr,!0)),Bt(gr,this._map(_r)))}}dr.parentId=br,Ct.push(he(Nt/Ft,hr/Ft,br,Ft,gr))}else if(Ct.push(dr),Ft>1)for(var nn=0,Pn=Ge;nn<Pn.length;nn+=1){var Cn=Pn[nn],Ar=Ye.points[Cn];Ar.zoom<=Tt||(Ar.zoom=Tt,Ct.push(Ar))}}}return Ct},ie.prototype._getOriginId=function(lt){return lt-this.points.length>>5},ie.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},ie.prototype._map=function(lt,Tt){if(lt.numPoints)return Tt?Re({},lt.properties):lt.properties;var Ct=this.points[lt.index].properties,It=this.options.map(Ct);return Tt&&It===Ct?Re({},It):It};function he(bt,lt,Tt,Ct,It){return{x:bt,y:lt,zoom:1/0,id:Tt,parentId:-1,numPoints:Ct,properties:It}}function ye(bt,lt){var Tt=bt.geometry.coordinates,Ct=Tt[0],It=Tt[1];return{x:ke(Ct),y:we(It),zoom:1/0,index:lt,parentId:-1}}function Ce(bt){return{type:"Feature",id:bt.id,properties:Ae(bt),geometry:{type:"Point",coordinates:[Ee(bt.x),xe(bt.y)]}}}function Ae(bt){var lt=bt.numPoints,Tt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Re(Re({},bt.properties),{cluster:!0,cluster_id:bt.id,point_count:lt,point_count_abbreviated:Tt})}function ke(bt){return bt/360+.5}function we(bt){var lt=Math.sin(bt*Math.PI/180),Tt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return Tt<0?0:Tt>1?1:Tt}function Ee(bt){return(bt-.5)*360}function xe(bt){var lt=(180-bt*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Re(bt,lt){for(var Tt in lt)bt[Tt]=lt[Tt];return bt}function Ve(bt){return bt.x}function Ue(bt){return bt.y}function Be(bt,lt,Tt,Ct){for(var It=Ct,Dt=Tt-lt>>1,Vt=Tt-lt,Bt,$t=bt[lt],fr=bt[lt+1],cr=bt[Tt],dr=bt[Tt+1],Ye=lt+3;Ye<Tt;Ye+=3){var Ge=Xe(bt[Ye],bt[Ye+1],$t,fr,cr,dr);if(Ge>It)Bt=Ye,It=Ge;else if(Ge===It){var zt=Math.abs(Ye-Dt);zt<Vt&&(Bt=Ye,Vt=zt)}}It>Ct&&(Bt-lt>3&&Be(bt,lt,Bt,Ct),bt[Bt+2]=It,Tt-Bt>3&&Be(bt,Bt,Tt,Ct))}function Xe(bt,lt,Tt,Ct,It,Dt){var Vt=It-Tt,Bt=Dt-Ct;if(Vt!==0||Bt!==0){var $t=((bt-Tt)*Vt+(lt-Ct)*Bt)/(Vt*Vt+Bt*Bt);$t>1?(Tt=It,Ct=Dt):$t>0&&(Tt+=Vt*$t,Ct+=Bt*$t)}return Vt=bt-Tt,Bt=lt-Ct,Vt*Vt+Bt*Bt}function ut(bt,lt,Tt,Ct){var It={id:typeof bt>"u"?null:bt,type:lt,geometry:Tt,tags:Ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return dt(It),It}function dt(bt){var lt=bt.geometry,Tt=bt.type;if(Tt==="Point"||Tt==="MultiPoint"||Tt==="LineString")at(bt,lt);else if(Tt==="Polygon"||Tt==="MultiLineString")for(var Ct=0;Ct<lt.length;Ct++)at(bt,lt[Ct]);else if(Tt==="MultiPolygon")for(Ct=0;Ct<lt.length;Ct++)for(var It=0;It<lt[Ct].length;It++)at(bt,lt[Ct][It])}function at(bt,lt){for(var Tt=0;Tt<lt.length;Tt+=3)bt.minX=Math.min(bt.minX,lt[Tt]),bt.minY=Math.min(bt.minY,lt[Tt+1]),bt.maxX=Math.max(bt.maxX,lt[Tt]),bt.maxY=Math.max(bt.maxY,lt[Tt+1])}function We(bt,lt){var Tt=[];if(bt.type==="FeatureCollection")for(var Ct=0;Ct<bt.features.length;Ct++)rt(Tt,bt.features[Ct],lt,Ct);else bt.type==="Feature"?rt(Tt,bt,lt):rt(Tt,{geometry:bt},lt);return Tt}function rt(bt,lt,Tt,Ct){if(lt.geometry){var It=lt.geometry.coordinates,Dt=lt.geometry.type,Vt=Math.pow(Tt.tolerance/((1<<Tt.maxZoom)*Tt.extent),2),Bt=[],$t=lt.id;if(Tt.promoteId?$t=lt.properties[Tt.promoteId]:Tt.generateId&&($t=Ct||0),Dt==="Point")st(It,Bt);else if(Dt==="MultiPoint")for(var fr=0;fr<It.length;fr++)st(It[fr],Bt);else if(Dt==="LineString")ht(It,Bt,Vt,!1);else if(Dt==="MultiLineString")if(Tt.lineMetrics){for(fr=0;fr<It.length;fr++)Bt=[],ht(It[fr],Bt,Vt,!1),bt.push(ut($t,"LineString",Bt,lt.properties));return}else vt(It,Bt,Vt,!1);else if(Dt==="Polygon")vt(It,Bt,Vt,!0);else if(Dt==="MultiPolygon")for(fr=0;fr<It.length;fr++){var cr=[];vt(It[fr],cr,Vt,!0),Bt.push(cr)}else if(Dt==="GeometryCollection"){for(fr=0;fr<lt.geometry.geometries.length;fr++)rt(bt,{id:$t,geometry:lt.geometry.geometries[fr],properties:lt.properties},Tt,Ct);return}else throw new Error("Input data is not a valid GeoJSON object.");bt.push(ut($t,Dt,Bt,lt.properties))}}function st(bt,lt){lt.push(At(bt[0])),lt.push(tt(bt[1])),lt.push(0)}function ht(bt,lt,Tt,Ct){for(var It,Dt,Vt=0,Bt=0;Bt<bt.length;Bt++){var $t=At(bt[Bt][0]),fr=tt(bt[Bt][1]);lt.push($t),lt.push(fr),lt.push(0),Bt>0&&(Ct?Vt+=(It*fr-$t*Dt)/2:Vt+=Math.sqrt(Math.pow($t-It,2)+Math.pow(fr-Dt,2))),It=$t,Dt=fr}var cr=lt.length-3;lt[2]=1,Be(lt,0,cr,Tt),lt[cr+2]=1,lt.size=Math.abs(Vt),lt.start=0,lt.end=lt.size}function vt(bt,lt,Tt,Ct){for(var It=0;It<bt.length;It++){var Dt=[];ht(bt[It],Dt,Tt,Ct),lt.push(Dt)}}function At(bt){return bt/360+.5}function tt(bt){var lt=Math.sin(bt*Math.PI/180),Tt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return Tt<0?0:Tt>1?1:Tt}function _e(bt,lt,Tt,Ct,It,Dt,Vt,Bt){if(Tt/=lt,Ct/=lt,Dt>=Tt&&Vt<Ct)return bt;if(Vt<Tt||Dt>=Ct)return null;for(var $t=[],fr=0;fr<bt.length;fr++){var cr=bt[fr],dr=cr.geometry,Ye=cr.type,Ge=It===0?cr.minX:cr.minY,zt=It===0?cr.maxX:cr.maxY;if(Ge>=Tt&&zt<Ct){$t.push(cr);continue}else if(zt<Tt||Ge>=Ct)continue;var Ft=[];if(Ye==="Point"||Ye==="MultiPoint")je(dr,Ft,Tt,Ct,It);else if(Ye==="LineString")Ke(dr,Ft,Tt,Ct,It,!1,Bt.lineMetrics);else if(Ye==="MultiLineString")Ie(dr,Ft,Tt,Ct,It,!1);else if(Ye==="Polygon")Ie(dr,Ft,Tt,Ct,It,!0);else if(Ye==="MultiPolygon")for(var Jt=0;Jt<dr.length;Jt++){var tr=[];Ie(dr[Jt],tr,Tt,Ct,It,!0),tr.length&&Ft.push(tr)}if(Ft.length){if(Bt.lineMetrics&&Ye==="LineString"){for(Jt=0;Jt<Ft.length;Jt++)$t.push(ut(cr.id,Ye,Ft[Jt],cr.tags));continue}(Ye==="LineString"||Ye==="MultiLineString")&&(Ft.length===1?(Ye="LineString",Ft=Ft[0]):Ye="MultiLineString"),(Ye==="Point"||Ye==="MultiPoint")&&(Ye=Ft.length===3?"Point":"MultiPoint"),$t.push(ut(cr.id,Ye,Ft,cr.tags))}}return $t.length?$t:null}function je(bt,lt,Tt,Ct,It){for(var Dt=0;Dt<bt.length;Dt+=3){var Vt=bt[Dt+It];Vt>=Tt&&Vt<=Ct&&(lt.push(bt[Dt]),lt.push(bt[Dt+1]),lt.push(bt[Dt+2]))}}function Ke(bt,lt,Tt,Ct,It,Dt,Vt){for(var Bt=He(bt),$t=It===0?me:Me,fr=bt.start,cr,dr,Ye=0;Ye<bt.length-3;Ye+=3){var Ge=bt[Ye],zt=bt[Ye+1],Ft=bt[Ye+2],Jt=bt[Ye+3],tr=bt[Ye+4],ur=It===0?Ge:zt,nr=It===0?Jt:tr,Nt=!1;Vt&&(cr=Math.sqrt(Math.pow(Ge-Jt,2)+Math.pow(zt-tr,2))),ur<Tt?nr>Tt&&(dr=$t(Bt,Ge,zt,Jt,tr,Tt),Vt&&(Bt.start=fr+cr*dr)):ur>Ct?nr<Ct&&(dr=$t(Bt,Ge,zt,Jt,tr,Ct),Vt&&(Bt.start=fr+cr*dr)):be(Bt,Ge,zt,Ft),nr<Tt&&ur>=Tt&&(dr=$t(Bt,Ge,zt,Jt,tr,Tt),Nt=!0),nr>Ct&&ur<=Ct&&(dr=$t(Bt,Ge,zt,Jt,tr,Ct),Nt=!0),!Dt&&Nt&&(Vt&&(Bt.end=fr+cr*dr),lt.push(Bt),Bt=He(bt)),Vt&&(fr+=cr)}var hr=bt.length-3;Ge=bt[hr],zt=bt[hr+1],Ft=bt[hr+2],ur=It===0?Ge:zt,ur>=Tt&&ur<=Ct&&be(Bt,Ge,zt,Ft),hr=Bt.length-3,Dt&&hr>=3&&(Bt[hr]!==Bt[0]||Bt[hr+1]!==Bt[1])&&be(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&lt.push(Bt)}function He(bt){var lt=[];return lt.size=bt.size,lt.start=bt.start,lt.end=bt.end,lt}function Ie(bt,lt,Tt,Ct,It,Dt){for(var Vt=0;Vt<bt.length;Vt++)Ke(bt[Vt],lt,Tt,Ct,It,Dt,!1)}function be(bt,lt,Tt,Ct){bt.push(lt),bt.push(Tt),bt.push(Ct)}function me(bt,lt,Tt,Ct,It,Dt){var Vt=(Dt-lt)/(Ct-lt);return bt.push(Dt),bt.push(Tt+(It-Tt)*Vt),bt.push(1),Vt}function Me(bt,lt,Tt,Ct,It,Dt){var Vt=(Dt-Tt)/(It-Tt);return bt.push(lt+(Ct-lt)*Vt),bt.push(Dt),bt.push(1),Vt}function Te(bt,lt){var Tt=lt.buffer/lt.extent,Ct=bt,It=_e(bt,1,-1-Tt,Tt,0,-1,2,lt),Dt=_e(bt,1,1-Tt,2+Tt,0,-1,2,lt);return(It||Dt)&&(Ct=_e(bt,1,-Tt,1+Tt,0,-1,2,lt)||[],It&&(Ct=ze(It,1).concat(Ct)),Dt&&(Ct=Ct.concat(ze(Dt,-1)))),Ct}function ze(bt,lt){for(var Tt=[],Ct=0;Ct<bt.length;Ct++){var It=bt[Ct],Dt=It.type,Vt;if(Dt==="Point"||Dt==="MultiPoint"||Dt==="LineString")Vt=Je(It.geometry,lt);else if(Dt==="MultiLineString"||Dt==="Polygon"){Vt=[];for(var Bt=0;Bt<It.geometry.length;Bt++)Vt.push(Je(It.geometry[Bt],lt))}else if(Dt==="MultiPolygon")for(Vt=[],Bt=0;Bt<It.geometry.length;Bt++){for(var $t=[],fr=0;fr<It.geometry[Bt].length;fr++)$t.push(Je(It.geometry[Bt][fr],lt));Vt.push($t)}Tt.push(ut(It.id,Dt,Vt,It.tags))}return Tt}function Je(bt,lt){var Tt=[];Tt.size=bt.size,bt.start!==void 0&&(Tt.start=bt.start,Tt.end=bt.end);for(var Ct=0;Ct<bt.length;Ct+=3)Tt.push(bt[Ct]+lt,bt[Ct+1],bt[Ct+2]);return Tt}function nt(bt,lt){if(bt.transformed)return bt;var Tt=1<<bt.z,Ct=bt.x,It=bt.y,Dt,Vt,Bt;for(Dt=0;Dt<bt.features.length;Dt++){var $t=bt.features[Dt],fr=$t.geometry,cr=$t.type;if($t.geometry=[],cr===1)for(Vt=0;Vt<fr.length;Vt+=2)$t.geometry.push(pt(fr[Vt],fr[Vt+1],lt,Tt,Ct,It));else for(Vt=0;Vt<fr.length;Vt++){var dr=[];for(Bt=0;Bt<fr[Vt].length;Bt+=2)dr.push(pt(fr[Vt][Bt],fr[Vt][Bt+1],lt,Tt,Ct,It));$t.geometry.push(dr)}}return bt.transformed=!0,bt}function pt(bt,lt,Tt,Ct,It,Dt){return[Math.round(Tt*(bt*Ct-It)),Math.round(Tt*(lt*Ct-Dt))]}function yt(bt,lt,Tt,Ct,It){for(var Dt=lt===It.maxZoom?0:It.tolerance/((1<<lt)*It.extent),Vt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Tt,y:Ct,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Bt=0;Bt<bt.length;Bt++){Vt.numFeatures++,Yt(Vt,bt[Bt],Dt,It);var $t=bt[Bt].minX,fr=bt[Bt].minY,cr=bt[Bt].maxX,dr=bt[Bt].maxY;$t<Vt.minX&&(Vt.minX=$t),fr<Vt.minY&&(Vt.minY=fr),cr>Vt.maxX&&(Vt.maxX=cr),dr>Vt.maxY&&(Vt.maxY=dr)}return Vt}function Yt(bt,lt,Tt,Ct){var It=lt.geometry,Dt=lt.type,Vt=[];if(Dt==="Point"||Dt==="MultiPoint")for(var Bt=0;Bt<It.length;Bt+=3)Vt.push(It[Bt]),Vt.push(It[Bt+1]),bt.numPoints++,bt.numSimplified++;else if(Dt==="LineString")Xt(Vt,It,bt,Tt,!1,!1);else if(Dt==="MultiLineString"||Dt==="Polygon")for(Bt=0;Bt<It.length;Bt++)Xt(Vt,It[Bt],bt,Tt,Dt==="Polygon",Bt===0);else if(Dt==="MultiPolygon")for(var $t=0;$t<It.length;$t++){var fr=It[$t];for(Bt=0;Bt<fr.length;Bt++)Xt(Vt,fr[Bt],bt,Tt,!0,Bt===0)}if(Vt.length){var cr=lt.tags||null;if(Dt==="LineString"&&Ct.lineMetrics){cr={};for(var dr in lt.tags)cr[dr]=lt.tags[dr];cr.mapbox_clip_start=It.start/It.size,cr.mapbox_clip_end=It.end/It.size}var Ye={geometry:Vt,type:Dt==="Polygon"||Dt==="MultiPolygon"?3:Dt==="LineString"||Dt==="MultiLineString"?2:1,tags:cr};lt.id!==null&&(Ye.id=lt.id),bt.features.push(Ye)}}function Xt(bt,lt,Tt,Ct,It,Dt){var Vt=Ct*Ct;if(Ct>0&&lt.size<(It?Vt:Ct)){Tt.numPoints+=lt.length/3;return}for(var Bt=[],$t=0;$t<lt.length;$t+=3)(Ct===0||lt[$t+2]>Vt)&&(Tt.numSimplified++,Bt.push(lt[$t]),Bt.push(lt[$t+1])),Tt.numPoints++;It&&St(Bt,Dt),bt.push(Bt)}function St(bt,lt){for(var Tt=0,Ct=0,It=bt.length,Dt=It-2;Ct<It;Dt=Ct,Ct+=2)Tt+=(bt[Ct]-bt[Dt])*(bt[Ct+1]+bt[Dt+1]);if(Tt>0===lt)for(Ct=0,It=bt.length;Ct<It/2;Ct+=2){var Vt=bt[Ct],Bt=bt[Ct+1];bt[Ct]=bt[It-2-Ct],bt[Ct+1]=bt[It-1-Ct],bt[It-2-Ct]=Vt,bt[It-1-Ct]=Bt}}function kt(bt,lt){return new Kt(bt,lt)}function Kt(bt,lt){lt=this.options=mt(Object.create(this.options),lt);var Tt=lt.debug;if(Tt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ct=We(bt,lt);this.tiles={},this.tileCoords=[],Tt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ct=Te(Ct,lt),Ct.length&&this.splitTile(Ct,0,0,0),Tt&&(Ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Kt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Kt.prototype.splitTile=function(bt,lt,Tt,Ct,It,Dt,Vt){for(var Bt=[bt,lt,Tt,Ct],$t=this.options,fr=$t.debug;Bt.length;){Ct=Bt.pop(),Tt=Bt.pop(),lt=Bt.pop(),bt=Bt.pop();var cr=1<<lt,dr=mr(lt,Tt,Ct),Ye=this.tiles[dr];if(!Ye&&(fr>1&&console.time("creation"),Ye=this.tiles[dr]=yt(bt,lt,Tt,Ct,$t),this.tileCoords.push({z:lt,x:Tt,y:Ct}),fr)){fr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,Tt,Ct,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var Ge="z"+lt;this.stats[Ge]=(this.stats[Ge]||0)+1,this.total++}if(Ye.source=bt,It){if(lt===$t.maxZoom||lt===It)continue;var zt=1<<It-lt;if(Tt!==Math.floor(Dt/zt)||Ct!==Math.floor(Vt/zt))continue}else if(lt===$t.indexMaxZoom||Ye.numPoints<=$t.indexMaxPoints)continue;if(Ye.source=null,bt.length!==0){fr>1&&console.time("clipping");var Ft=.5*$t.buffer/$t.extent,Jt=.5-Ft,tr=.5+Ft,ur=1+Ft,nr,Nt,hr,gr,br,vr;nr=Nt=hr=gr=null,br=_e(bt,cr,Tt-Ft,Tt+tr,0,Ye.minX,Ye.maxX,$t),vr=_e(bt,cr,Tt+Jt,Tt+ur,0,Ye.minX,Ye.maxX,$t),bt=null,br&&(nr=_e(br,cr,Ct-Ft,Ct+tr,1,Ye.minY,Ye.maxY,$t),Nt=_e(br,cr,Ct+Jt,Ct+ur,1,Ye.minY,Ye.maxY,$t),br=null),vr&&(hr=_e(vr,cr,Ct-Ft,Ct+tr,1,Ye.minY,Ye.maxY,$t),gr=_e(vr,cr,Ct+Jt,Ct+ur,1,Ye.minY,Ye.maxY,$t),vr=null),fr>1&&console.timeEnd("clipping"),Bt.push(nr||[],lt+1,Tt*2,Ct*2),Bt.push(Nt||[],lt+1,Tt*2,Ct*2+1),Bt.push(hr||[],lt+1,Tt*2+1,Ct*2),Bt.push(gr||[],lt+1,Tt*2+1,Ct*2+1)}}},Kt.prototype.getTile=function(bt,lt,Tt){var Ct=this.options,It=Ct.extent,Dt=Ct.debug;if(bt<0||bt>24)return null;var Vt=1<<bt;lt=(lt%Vt+Vt)%Vt;var Bt=mr(bt,lt,Tt);if(this.tiles[Bt])return nt(this.tiles[Bt],It);Dt>1&&console.log("drilling down to z%d-%d-%d",bt,lt,Tt);for(var $t=bt,fr=lt,cr=Tt,dr;!dr&&$t>0;)$t--,fr=Math.floor(fr/2),cr=Math.floor(cr/2),dr=this.tiles[mr($t,fr,cr)];return!dr||!dr.source?null:(Dt>1&&console.log("found parent tile z%d-%d-%d",$t,fr,cr),Dt>1&&console.time("drilling down"),this.splitTile(dr.source,$t,fr,cr,bt,lt,Tt),Dt>1&&console.timeEnd("drilling down"),this.tiles[Bt]?nt(this.tiles[Bt],It):null)};function mr(bt,lt,Tt){return((1<<bt)*Tt+lt)*32+bt}function mt(bt,lt){for(var Tt in lt)bt[Tt]=lt[Tt];return bt}function Zt(bt,lt){var Tt=bt.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var Ct=this._geoJSONIndex.getTile(Tt.z,Tt.x,Tt.y);if(!Ct)return lt(null,null);var It=new S(Ct.features),Dt=s(It);(Dt.byteOffset!==0||Dt.byteLength!==Dt.buffer.byteLength)&&(Dt=new Uint8Array(Dt)),lt(null,{vectorTile:It,rawData:Dt.buffer})}var Qt=function(bt){function lt(Tt,Ct,It,Dt){bt.call(this,Tt,Ct,It,Zt),Dt&&(this.loadGeoJSON=Dt)}return bt&&(lt.__proto__=bt),lt.prototype=Object.create(bt&&bt.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(Ct,It){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=It,this._pendingLoadDataParams=Ct,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var Ct=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var It=this._pendingCallback,Dt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Vt=Dt&&Dt.request&&Dt.request.collectResourceTiming?new a.RequestPerformance(Dt.request):!1;this.loadGeoJSON(Dt,function(Bt,$t){if(Bt||!$t)return It(Bt);if(typeof $t!="object")return It(new Error("Input data given to '"+Dt.source+"' is not a valid GeoJSON object."));h($t,!0);try{if(Dt.filter){var fr=a.createExpression(Dt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(fr.result==="error")throw new Error(fr.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));var cr=$t.features.filter(function(Ge){return fr.value.evaluate({zoom:0},Ge)});$t={type:"FeatureCollection",features:cr}}Ct._geoJSONIndex=Dt.cluster?new ie(yr(Dt)).load($t.features):kt($t,Dt.geojsonVtOptions)}catch(Ge){return It(Ge)}Ct.loaded={};var dr={};if(Vt){var Ye=Vt.finish();Ye&&(dr.resourceTiming={},dr.resourceTiming[Dt.source]=JSON.parse(JSON.stringify(Ye)))}It(null,dr)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(Ct,It){var Dt=this.loaded,Vt=Ct.uid;return Dt&&Dt[Vt]?bt.prototype.reloadTile.call(this,Ct,It):this.loadTile(Ct,It)},lt.prototype.loadGeoJSON=function(Ct,It){if(Ct.request)a.getJSON(Ct.request,It);else if(typeof Ct.data=="string")try{return It(null,JSON.parse(Ct.data))}catch{return It(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))}else return It(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(Ct,It){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),It()},lt.prototype.getClusterExpansionZoom=function(Ct,It){try{It(null,this._geoJSONIndex.getClusterExpansionZoom(Ct.clusterId))}catch(Dt){It(Dt)}},lt.prototype.getClusterChildren=function(Ct,It){try{It(null,this._geoJSONIndex.getChildren(Ct.clusterId))}catch(Dt){It(Dt)}},lt.prototype.getClusterLeaves=function(Ct,It){try{It(null,this._geoJSONIndex.getLeaves(Ct.clusterId,Ct.limit,Ct.offset))}catch(Dt){It(Dt)}},lt}(f);function yr(bt){var lt=bt.superclusterOptions,Tt=bt.clusterProperties;if(!Tt||!lt)return lt;for(var Ct={},It={},Dt={accumulated:null,zoom:0},Vt={properties:null},Bt=Object.keys(Tt),$t=0,fr=Bt;$t<fr.length;$t+=1){var cr=fr[$t],dr=Tt[cr],Ye=dr[0],Ge=dr[1],zt=a.createExpression(Ge),Ft=a.createExpression(typeof Ye=="string"?[Ye,["accumulated"],["get",cr]]:Ye);Ct[cr]=zt.value,It[cr]=Ft.value}return lt.map=function(Jt){Vt.properties=Jt;for(var tr={},ur=0,nr=Bt;ur<nr.length;ur+=1){var Nt=nr[ur];tr[Nt]=Ct[Nt].evaluate(Dt,Vt)}return tr},lt.reduce=function(Jt,tr){Vt.properties=tr;for(var ur=0,nr=Bt;ur<nr.length;ur+=1){var Nt=nr[ur];Dt.accumulated=Jt[Nt],Jt[Nt]=It[Nt].evaluate(Dt,Vt)}},lt}var sr=function(lt){var Tt=this;this.self=lt,this.actor=new a.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:Qt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ct,It){if(Tt.workerSourceTypes[Ct])throw new Error('Worker source with name "'+Ct+'" already registered.');Tt.workerSourceTypes[Ct]=It},this.self.registerRTLTextPlugin=function(Ct){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Ct.applyArabicShaping,a.plugin.processBidirectionalText=Ct.processBidirectionalText,a.plugin.processStyledBidirectionalText=Ct.processStyledBidirectionalText}};return sr.prototype.setReferrer=function(lt,Tt){this.referrer=Tt},sr.prototype.setImages=function(lt,Tt,Ct){this.availableImages[lt]=Tt;for(var It in this.workerSources[lt]){var Dt=this.workerSources[lt][It];for(var Vt in Dt)Dt[Vt].availableImages=Tt}Ct()},sr.prototype.setLayers=function(lt,Tt,Ct){this.getLayerIndex(lt).replace(Tt),Ct()},sr.prototype.updateLayers=function(lt,Tt,Ct){this.getLayerIndex(lt).update(Tt.layers,Tt.removedIds),Ct()},sr.prototype.loadTile=function(lt,Tt,Ct){this.getWorkerSource(lt,Tt.type,Tt.source).loadTile(Tt,Ct)},sr.prototype.loadDEMTile=function(lt,Tt,Ct){this.getDEMWorkerSource(lt,Tt.source).loadTile(Tt,Ct)},sr.prototype.reloadTile=function(lt,Tt,Ct){this.getWorkerSource(lt,Tt.type,Tt.source).reloadTile(Tt,Ct)},sr.prototype.abortTile=function(lt,Tt,Ct){this.getWorkerSource(lt,Tt.type,Tt.source).abortTile(Tt,Ct)},sr.prototype.removeTile=function(lt,Tt,Ct){this.getWorkerSource(lt,Tt.type,Tt.source).removeTile(Tt,Ct)},sr.prototype.removeDEMTile=function(lt,Tt){this.getDEMWorkerSource(lt,Tt.source).removeTile(Tt)},sr.prototype.removeSource=function(lt,Tt,Ct){if(!(!this.workerSources[lt]||!this.workerSources[lt][Tt.type]||!this.workerSources[lt][Tt.type][Tt.source])){var It=this.workerSources[lt][Tt.type][Tt.source];delete this.workerSources[lt][Tt.type][Tt.source],It.removeSource!==void 0?It.removeSource(Tt,Ct):Ct()}},sr.prototype.loadWorkerSource=function(lt,Tt,Ct){try{this.self.importScripts(Tt.url),Ct()}catch(It){Ct(It.toString())}},sr.prototype.syncRTLPluginState=function(lt,Tt,Ct){try{a.plugin.setState(Tt);var It=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&It!=null){this.self.importScripts(It);var Dt=a.plugin.isParsed(),Vt=Dt?void 0:new Error("RTL Text Plugin failed to import scripts from "+It);Ct(Vt,Dt)}}catch(Bt){Ct(Bt.toString())}},sr.prototype.getAvailableImages=function(lt){var Tt=this.availableImages[lt];return Tt||(Tt=[]),Tt},sr.prototype.getLayerIndex=function(lt){var Tt=this.layerIndexes[lt];return Tt||(Tt=this.layerIndexes[lt]=new p),Tt},sr.prototype.getWorkerSource=function(lt,Tt,Ct){var It=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][Tt]||(this.workerSources[lt][Tt]={}),!this.workerSources[lt][Tt][Ct]){var Dt={send:function(Vt,Bt,$t){It.actor.send(Vt,Bt,$t,lt)}};this.workerSources[lt][Tt][Ct]=new this.workerSourceTypes[Tt](Dt,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][Tt][Ct]},sr.prototype.getDEMWorkerSource=function(lt,Tt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][Tt]||(this.demWorkerSources[lt][Tt]=new y),this.demWorkerSources[lt][Tt]},sr.prototype.enforceCacheSizeLimit=function(lt,Tt){a.enforceCacheSizeLimit(Tt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new sr(self)),sr}),P(["./shared"],function(a){var x=a.createCommonjsModule(function(ve){ve.exports?ve.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=pe);function Z(Hr){return!pe(Hr)}function pe(Hr){if(!te())return"not a browser";if(!ge())return"insufficent Array support";if(!Fe())return"insufficient Function support";if(!$e())return"insufficient Object support";if(!ft())return"insufficient JSON support";if(!Lt())return"insufficient worker support";if(!jt())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!lr())return"insufficient Canvas/getImageData support";if(!Fr(Hr&&Hr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function te(){return typeof window<"u"&&typeof document<"u"}function ge(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Fe(){return Function.prototype&&Function.prototype.bind}function $e(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ft(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Lt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Hr=new Blob([""],{type:"text/javascript"}),Jr=URL.createObjectURL(Hr),cn,Fn;try{Fn=new Worker(Jr),cn=!0}catch{cn=!1}return Fn&&Fn.terminate(),URL.revokeObjectURL(Jr),cn}function jt(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function lr(){var Hr=document.createElement("canvas");Hr.width=Hr.height=1;var Jr=Hr.getContext("2d");if(!Jr)return!1;var cn=Jr.getImageData(0,0,1,1);return cn&&cn.width===Hr.width}var or={};function Fr(Hr){return or[Hr]===void 0&&(or[Hr]=Yr(Hr)),or[Hr]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Xr(Hr){var Jr=document.createElement("canvas"),cn=Object.create(Z.webGLContextAttributes);return cn.failIfMajorPerformanceCaveat=Hr,Jr.probablySupportsContext?Jr.probablySupportsContext("webgl",cn)||Jr.probablySupportsContext("experimental-webgl",cn):Jr.supportsContext?Jr.supportsContext("webgl",cn)||Jr.supportsContext("experimental-webgl",cn):Jr.getContext("webgl",cn)||Jr.getContext("experimental-webgl",cn)}function Yr(Hr){var Jr=Xr(Hr);if(!Jr)return!1;var cn=Jr.createShader(Jr.VERTEX_SHADER);return!cn||Jr.isContextLost()?!1:(Jr.shaderSource(cn,"void main() {}"),Jr.compileShader(cn),Jr.getShaderParameter(cn,Jr.COMPILE_STATUS)===!0)}}),w={};w.create=function(ve,Z,pe){var te=a.window.document.createElement(ve);return Z!==void 0&&(te.className=Z),pe&&pe.appendChild(te),te},w.createNS=function(ve,Z){var pe=a.window.document.createElementNS(ve,Z);return pe};var v=a.window.document&&a.window.document.documentElement.style;function p(ve){if(!v)return ve[0];for(var Z=0;Z<ve.length;Z++)if(ve[Z]in v)return ve[Z];return ve[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;w.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},w.enableDrag=function(){v&&r&&(v[r]=t)};var i=p(["transform","WebkitTransform"]);w.setTransform=function(ve,Z){ve.style[i]=Z};var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",u,u),a.window.removeEventListener("test",u,u)}catch{n=!1}w.addEventListener=function(ve,Z,pe,te){te===void 0&&(te={}),"passive"in te&&n?ve.addEventListener(Z,pe,te):ve.addEventListener(Z,pe,te.capture)},w.removeEventListener=function(ve,Z,pe,te){te===void 0&&(te={}),"passive"in te&&n?ve.removeEventListener(Z,pe,te):ve.removeEventListener(Z,pe,te.capture)};var f=function(ve){ve.preventDefault(),ve.stopPropagation(),a.window.removeEventListener("click",f,!0)};w.suppressClick=function(){a.window.addEventListener("click",f,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",f,!0)},0)},w.mousePos=function(ve,Z){var pe=ve.getBoundingClientRect();return new a.Point(Z.clientX-pe.left-ve.clientLeft,Z.clientY-pe.top-ve.clientTop)},w.touchPos=function(ve,Z){for(var pe=ve.getBoundingClientRect(),te=[],ge=0;ge<Z.length;ge++)te.push(new a.Point(Z[ge].clientX-pe.left-ve.clientLeft,Z[ge].clientY-pe.top-ve.clientTop));return te},w.mouseButton=function(ve){return typeof a.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},w.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function l(ve,Z,pe){var te,ge,Fe,$e=a.browser.devicePixelRatio>1?"@2x":"",ft=a.getJSON(Z.transformRequest(Z.normalizeSpriteURL(ve,$e,".json"),a.ResourceType.SpriteJSON),function(qt,lr){ft=null,Fe||(Fe=qt,te=lr,jt())}),Lt=a.getImage(Z.transformRequest(Z.normalizeSpriteURL(ve,$e,".png"),a.ResourceType.SpriteImage),function(qt,lr){Lt=null,Fe||(Fe=qt,ge=lr,jt())});function jt(){if(Fe)pe(Fe);else if(te&&ge){var qt=a.browser.getImageData(ge),lr={};for(var or in te){var Fr=te[or],Xr=Fr.width,Yr=Fr.height,Hr=Fr.x,Jr=Fr.y,cn=Fr.sdf,Fn=Fr.pixelRatio,Bn=Fr.stretchX,Yn=Fr.stretchY,Xn=Fr.content,Gn=new a.RGBAImage({width:Xr,height:Yr});a.RGBAImage.copy(qt,Gn,{x:Hr,y:Jr},{x:0,y:0},{width:Xr,height:Yr}),lr[or]={data:Gn,pixelRatio:Fn,sdf:cn,stretchX:Bn,stretchY:Yn,content:Xn}}pe(null,lr)}}return{cancel:function(){ft&&(ft.cancel(),ft=null),Lt&&(Lt.cancel(),Lt=null)}}}function y(ve){var Z=ve.userImage;if(Z&&Z.render){var pe=Z.render();if(pe)return ve.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var h=1,M=function(ve){function Z(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(te){if(this.loaded!==te&&(this.loaded=te,te)){for(var ge=0,Fe=this.requestors;ge<Fe.length;ge+=1){var $e=Fe[ge],ft=$e.ids,Lt=$e.callback;this._notify(ft,Lt)}this.requestors=[]}},Z.prototype.getImage=function(te){return this.images[te]},Z.prototype.addImage=function(te,ge){this._validate(te,ge)&&(this.images[te]=ge)},Z.prototype._validate=function(te,ge){var Fe=!0;return this._validateStretch(ge.stretchX,ge.data&&ge.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchX" value'))),Fe=!1),this._validateStretch(ge.stretchY,ge.data&&ge.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchY" value'))),Fe=!1),this._validateContent(ge.content,ge)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "content" value'))),Fe=!1),Fe},Z.prototype._validateStretch=function(te,ge){if(!te)return!0;for(var Fe=0,$e=0,ft=te;$e<ft.length;$e+=1){var Lt=ft[$e];if(Lt[0]<Fe||Lt[1]<Lt[0]||ge<Lt[1])return!1;Fe=Lt[1]}return!0},Z.prototype._validateContent=function(te,ge){return te?!(te.length!==4||te[0]<0||ge.data.width<te[0]||te[1]<0||ge.data.height<te[1]||te[2]<0||ge.data.width<te[2]||te[3]<0||ge.data.height<te[3]||te[2]<te[0]||te[3]<te[1]):!0},Z.prototype.updateImage=function(te,ge){var Fe=this.images[te];ge.version=Fe.version+1,this.images[te]=ge,this.updatedImages[te]=!0},Z.prototype.removeImage=function(te){var ge=this.images[te];delete this.images[te],delete this.patterns[te],ge.userImage&&ge.userImage.onRemove&&ge.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(te,ge){var Fe=!0;if(!this.isLoaded())for(var $e=0,ft=te;$e<ft.length;$e+=1){var Lt=ft[$e];this.images[Lt]||(Fe=!1)}this.isLoaded()||Fe?this._notify(te,ge):this.requestors.push({ids:te,callback:ge})},Z.prototype._notify=function(te,ge){for(var Fe={},$e=0,ft=te;$e<ft.length;$e+=1){var Lt=ft[$e];this.images[Lt]||this.fire(new a.Event("styleimagemissing",{id:Lt}));var jt=this.images[Lt];jt?Fe[Lt]={data:jt.data.clone(),pixelRatio:jt.pixelRatio,sdf:jt.sdf,version:jt.version,stretchX:jt.stretchX,stretchY:jt.stretchY,content:jt.content,hasRenderCallback:!!(jt.userImage&&jt.userImage.render)}:a.warnOnce('Image "'+Lt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ge(null,Fe)},Z.prototype.getPixelSize=function(){var te=this.atlasImage,ge=te.width,Fe=te.height;return{width:ge,height:Fe}},Z.prototype.getPattern=function(te){var ge=this.patterns[te],Fe=this.getImage(te);if(!Fe)return null;if(ge&&ge.position.version===Fe.version)return ge.position;if(ge)ge.position.version=Fe.version;else{var $e=Fe.data.width+h*2,ft=Fe.data.height+h*2,Lt={w:$e,h:ft,x:0,y:0},jt=new a.ImagePosition(Lt,Fe);this.patterns[te]={bin:Lt,position:jt}}return this._updatePatternAtlas(),this.patterns[te].position},Z.prototype.bind=function(te){var ge=te.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(te,this.atlasImage,ge.RGBA),this.atlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var te=[];for(var ge in this.patterns)te.push(this.patterns[ge].bin);var Fe=a.potpack(te),$e=Fe.w,ft=Fe.h,Lt=this.atlasImage;Lt.resize({width:$e||1,height:ft||1});for(var jt in this.patterns){var qt=this.patterns[jt],lr=qt.bin,or=lr.x+h,Fr=lr.y+h,Xr=this.images[jt].data,Yr=Xr.width,Hr=Xr.height;a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:or,y:Fr},{width:Yr,height:Hr}),a.RGBAImage.copy(Xr,Lt,{x:0,y:Hr-1},{x:or,y:Fr-1},{width:Yr,height:1}),a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:or,y:Fr+Hr},{width:Yr,height:1}),a.RGBAImage.copy(Xr,Lt,{x:Yr-1,y:0},{x:or-1,y:Fr},{width:1,height:Hr}),a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:or+Yr,y:Fr},{width:1,height:Hr})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(te){for(var ge=0,Fe=te;ge<Fe.length;ge+=1){var $e=Fe[ge];if(!this.callbackDispatchedThisFrame[$e]){this.callbackDispatchedThisFrame[$e]=!0;var ft=this.images[$e],Lt=y(ft);Lt&&this.updateImage($e,ft)}}},Z}(a.Evented);function c(ve,Z,pe,te,ge){var Fe=Z*256,$e=Fe+255,ft=te.transformRequest(te.normalizeGlyphsURL(pe).replace("{fontstack}",ve).replace("{range}",Fe+"-"+$e),a.ResourceType.Glyphs);a.getArrayBuffer(ft,function(Lt,jt){if(Lt)ge(Lt);else if(jt){for(var qt={},lr=0,or=a.parseGlyphPBF(jt);lr<or.length;lr+=1){var Fr=or[lr];qt[Fr.id]=Fr}ge(null,qt)}})}var o=S,d=S,T=1e20;function S(ve,Z,pe,te,ge,Fe){this.fontSize=ve||24,this.buffer=Z===void 0?3:Z,this.cutoff=te||.25,this.fontFamily=ge||"sans-serif",this.fontWeight=Fe||"normal",this.radius=pe||8;var $e=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=$e,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array($e*$e),this.gridInner=new Float64Array($e*$e),this.f=new Float64Array($e),this.d=new Float64Array($e),this.z=new Float64Array($e+1),this.v=new Int16Array($e),this.middle=Math.round($e/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}S.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),pe=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var ge=Z.data[te*4+3]/255;this.gridOuter[te]=ge===1?0:ge===0?T:Math.pow(Math.max(0,.5-ge),2),this.gridInner[te]=ge===1?T:ge===0?0:Math.pow(Math.max(0,ge-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++){var Fe=this.gridOuter[te]-this.gridInner[te];pe[te]=Math.max(0,Math.min(255,Math.round(255-255*(Fe/this.radius+this.cutoff))))}return pe};function C(ve,Z,pe,te,ge,Fe,$e){for(var ft=0;ft<Z;ft++){for(var Lt=0;Lt<pe;Lt++)te[Lt]=ve[Lt*Z+ft];for(m(te,ge,Fe,$e,pe),Lt=0;Lt<pe;Lt++)ve[Lt*Z+ft]=ge[Lt]}for(Lt=0;Lt<pe;Lt++){for(ft=0;ft<Z;ft++)te[ft]=ve[Lt*Z+ft];for(m(te,ge,Fe,$e,Z),ft=0;ft<Z;ft++)ve[Lt*Z+ft]=Math.sqrt(ge[ft])}}function m(ve,Z,pe,te,ge){pe[0]=0,te[0]=-T,te[1]=+T;for(var Fe=1,$e=0;Fe<ge;Fe++){for(var ft=(ve[Fe]+Fe*Fe-(ve[pe[$e]]+pe[$e]*pe[$e]))/(2*Fe-2*pe[$e]);ft<=te[$e];)$e--,ft=(ve[Fe]+Fe*Fe-(ve[pe[$e]]+pe[$e]*pe[$e]))/(2*Fe-2*pe[$e]);$e++,pe[$e]=Fe,te[$e]=ft,te[$e+1]=+T}for(Fe=0,$e=0;Fe<ge;Fe++){for(;te[$e+1]<Fe;)$e++;Z[Fe]=(Fe-pe[$e])*(Fe-pe[$e])+ve[pe[$e]]}}o.default=d;var E=function(Z,pe){this.requestManager=Z,this.localIdeographFontFamily=pe,this.entries={}};E.prototype.setURL=function(Z){this.url=Z},E.prototype.getGlyphs=function(Z,pe){var te=this,ge=[];for(var Fe in Z)for(var $e=0,ft=Z[Fe];$e<ft.length;$e+=1){var Lt=ft[$e];ge.push({stack:Fe,id:Lt})}a.asyncAll(ge,function(jt,qt){var lr=jt.stack,or=jt.id,Fr=te.entries[lr];Fr||(Fr=te.entries[lr]={glyphs:{},requests:{},ranges:{}});var Xr=Fr.glyphs[or];if(Xr!==void 0){qt(null,{stack:lr,id:or,glyph:Xr});return}if(Xr=te._tinySDF(Fr,lr,or),Xr){Fr.glyphs[or]=Xr,qt(null,{stack:lr,id:or,glyph:Xr});return}var Yr=Math.floor(or/256);if(Yr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(Fr.ranges[Yr]){qt(null,{stack:lr,id:or,glyph:Xr});return}var Hr=Fr.requests[Yr];Hr||(Hr=Fr.requests[Yr]=[],E.loadGlyphRange(lr,Yr,te.url,te.requestManager,function(Jr,cn){if(cn){for(var Fn in cn)te._doesCharSupportLocalGlyph(+Fn)||(Fr.glyphs[+Fn]=cn[+Fn]);Fr.ranges[Yr]=!0}for(var Bn=0,Yn=Hr;Bn<Yn.length;Bn+=1){var Xn=Yn[Bn];Xn(Jr,cn)}delete Fr.requests[Yr]})),Hr.push(function(Jr,cn){Jr?qt(Jr):cn&&qt(null,{stack:lr,id:or,glyph:cn[or]||null})})},function(jt,qt){if(jt)pe(jt);else if(qt){for(var lr={},or=0,Fr=qt;or<Fr.length;or+=1){var Xr=Fr[or],Yr=Xr.stack,Hr=Xr.id,Jr=Xr.glyph;(lr[Yr]||(lr[Yr]={}))[Hr]=Jr&&{id:Jr.id,bitmap:Jr.bitmap.clone(),metrics:Jr.metrics}}pe(null,lr)}})},E.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](Z)||a.isChar["Hangul Syllables"](Z)||a.isChar.Hiragana(Z)||a.isChar.Katakana(Z))},E.prototype._tinySDF=function(Z,pe,te){var ge=this.localIdeographFontFamily;if(ge&&this._doesCharSupportLocalGlyph(te)){var Fe=Z.tinySDF;if(!Fe){var $e="400";/bold/i.test(pe)?$e="900":/medium/i.test(pe)?$e="500":/light/i.test(pe)&&($e="200"),Fe=Z.tinySDF=new E.TinySDF(24,3,8,.25,ge,$e)}return{id:te,bitmap:new a.AlphaImage({width:30,height:30},Fe.draw(String.fromCharCode(te))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=c,E.TinySDF=o;var b=function(){this.specification=a.styleSpec.light.position};b.prototype.possiblyEvaluate=function(Z,pe){return a.sphericalToCartesian(Z.expression.evaluate(pe))},b.prototype.interpolate=function(Z,pe,te){return{x:a.number(Z.x,pe.x,te),y:a.number(Z.y,pe.y,te),z:a.number(Z.z,pe.z,te)}};var s=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new b,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),L="-transition",A=function(ve){function Z(pe){ve.call(this),this._transitionable=new a.Transitionable(s),this.setLight(pe),this._transitioning=this._transitionable.untransitioned()}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(te,ge){if(ge===void 0&&(ge={}),!this._validate(a.validateLight,te,ge))for(var Fe in te){var $e=te[Fe];a.endsWith(Fe,L)?this._transitionable.setTransition(Fe.slice(0,-L.length),$e):this._transitionable.setValue(Fe,$e)}},Z.prototype.updateTransitions=function(te){this._transitioning=this._transitionable.transitioned(te,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(te){this.properties=this._transitioning.possiblyEvaluate(te)},Z.prototype._validate=function(te,ge,Fe){return Fe&&Fe.validate===!1?!1:a.emitValidationErrors(this,te.call(a.validateStyle,a.extend({value:ge,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},Z}(a.Evented),k=function(Z,pe){this.width=Z,this.height=pe,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(Z,pe){var te=Z.join(",")+String(pe);return this.dashEntry[te]||(this.dashEntry[te]=this.addDash(Z,pe)),this.dashEntry[te]},k.prototype.getDashRanges=function(Z,pe,te){var ge=Z.length%2===1,Fe=[],$e=ge?-Z[Z.length-1]*te:0,ft=Z[0]*te,Lt=!0;Fe.push({left:$e,right:ft,isDash:Lt,zeroLength:Z[0]===0});for(var jt=Z[0],qt=1;qt<Z.length;qt++){Lt=!Lt;var lr=Z[qt];$e=jt*te,jt+=lr,ft=jt*te,Fe.push({left:$e,right:ft,isDash:Lt,zeroLength:lr===0})}return Fe},k.prototype.addRoundDash=function(Z,pe,te){for(var ge=pe/2,Fe=-te;Fe<=te;Fe++)for(var $e=this.nextRow+te+Fe,ft=this.width*$e,Lt=0,jt=Z[Lt],qt=0;qt<this.width;qt++){qt/jt.right>1&&(jt=Z[++Lt]);var lr=Math.abs(qt-jt.left),or=Math.abs(qt-jt.right),Fr=Math.min(lr,or),Xr=void 0,Yr=Fe/te*(ge+1);if(jt.isDash){var Hr=ge-Math.abs(Yr);Xr=Math.sqrt(Fr*Fr+Hr*Hr)}else Xr=ge-Math.sqrt(Fr*Fr+Yr*Yr);this.data[ft+qt]=Math.max(0,Math.min(255,Xr+128))}},k.prototype.addRegularDash=function(Z){for(var pe=Z.length-1;pe>=0;--pe){var te=Z[pe],ge=Z[pe+1];te.zeroLength?Z.splice(pe,1):ge&&ge.isDash===te.isDash&&(ge.left=te.left,Z.splice(pe,1))}var Fe=Z[0],$e=Z[Z.length-1];Fe.isDash===$e.isDash&&(Fe.left=$e.left-this.width,$e.right=Fe.right+this.width);for(var ft=this.width*this.nextRow,Lt=0,jt=Z[Lt],qt=0;qt<this.width;qt++){qt/jt.right>1&&(jt=Z[++Lt]);var lr=Math.abs(qt-jt.left),or=Math.abs(qt-jt.right),Fr=Math.min(lr,or),Xr=jt.isDash?Fr:-Fr;this.data[ft+qt]=Math.max(0,Math.min(255,Xr+128))}},k.prototype.addDash=function(Z,pe){var te=pe?7:0,ge=2*te+1;if(this.nextRow+ge>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var Fe=0,$e=0;$e<Z.length;$e++)Fe+=Z[$e];if(Fe!==0){var ft=this.width/Fe,Lt=this.getDashRanges(Z,this.width,ft);pe?this.addRoundDash(Lt,ft,te):this.addRegularDash(Lt)}var jt={y:(this.nextRow+te+.5)/this.height,height:2*te/this.height,width:Fe};return this.nextRow+=ge,this.dirty=!0,jt},k.prototype.bind=function(Z){var pe=Z.gl;this.texture?(pe.bindTexture(pe.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,this.width,this.height,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))):(this.texture=pe.createTexture(),pe.bindTexture(pe.TEXTURE_2D,this.texture),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_S,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_T,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MIN_FILTER,pe.LINEAR),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MAG_FILTER,pe.LINEAR),pe.texImage2D(pe.TEXTURE_2D,0,pe.ALPHA,this.width,this.height,0,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))};var _=function ve(Z,pe){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var te=this.workerPool.acquire(this.id),ge=0;ge<te.length;ge++){var Fe=te[ge],$e=new ve.Actor(Fe,pe,this.id);$e.name="Worker "+ge,this.actors.push($e)}};_.prototype.broadcast=function(Z,pe,te){te=te||function(){},a.asyncAll(this.actors,function(ge,Fe){ge.send(Z,pe,Fe)},te)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=a.Actor;function U(ve,Z,pe){var te=function(ge,Fe){if(ge)return pe(ge);if(Fe){var $e=a.pick(a.extend(Fe,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Fe.vector_layers&&($e.vectorLayers=Fe.vector_layers,$e.vectorLayerIds=$e.vectorLayers.map(function(ft){return ft.id})),$e.tiles=Z.canonicalizeTileset($e,ve.url),pe(null,$e)}};return ve.url?a.getJSON(Z.transformRequest(Z.normalizeSourceURL(ve.url),a.ResourceType.Source),te):a.browser.frame(function(){return te(null,ve)})}var F=function(Z,pe,te){this.bounds=a.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=pe||0,this.maxzoom=te||24};F.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},F.prototype.contains=function(Z){var pe=Math.pow(2,Z.z),te={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*pe),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*pe),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*pe),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*pe)},ge=Z.x>=te.minX&&Z.x<te.maxX&&Z.y>=te.minY&&Z.y<te.maxY;return ge};var z=function(ve){function Z(pe,te,ge,Fe){if(ve.call(this),this.id=pe,this.dispatcher=ge,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(te,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Fe)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(ge,Fe){te._tileJSONRequest=null,te._loaded=!0,ge?te.fire(new a.ErrorEvent(ge)):Fe&&(a.extend(te,Fe),Fe.bounds&&(te.tileBounds=new F(Fe.bounds,te.minzoom,te.maxzoom)),a.postTurnstileEvent(Fe.tiles,te.map._requestManager._customAccessToken),a.postMapLoadEvent(Fe.tiles,te.map._getMapId(),te.map._requestManager._skuToken,te.map._requestManager._customAccessToken),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setSourceProperty=function(te){this._tileJSONRequest&&this._tileJSONRequest.cancel(),te();var ge=this.map.style.sourceCaches[this.id];ge.clearTiles(),this.load()},Z.prototype.setTiles=function(te){var ge=this;return this.setSourceProperty(function(){ge._options.tiles=te}),this},Z.prototype.setUrl=function(te){var ge=this;return this.setSourceProperty(function(){ge.url=te,ge._options.url=te}),this},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return a.extend({},this._options)},Z.prototype.loadTile=function(te,ge){var Fe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme)),$e={request:this.map._requestManager.transformRequest(Fe,a.ResourceType.Tile),uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,tileSize:this.tileSize*te.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};$e.request.collectResourceTiming=this._collectResourceTiming,!te.actor||te.state==="expired"?(te.actor=this.dispatcher.getActor(),te.request=te.actor.send("loadTile",$e,ft.bind(this))):te.state==="loading"?te.reloadCallback=ge:te.request=te.actor.send("reloadTile",$e,ft.bind(this));function ft(Lt,jt){if(delete te.request,te.aborted)return ge(null);if(Lt&&Lt.status!==404)return ge(Lt);jt&&jt.resourceTiming&&(te.resourceTiming=jt.resourceTiming),this.map._refreshExpiredTiles&&jt&&te.setExpiryData(jt),te.loadVectorData(jt,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),ge(null),te.reloadCallback&&(this.loadTile(te,te.reloadCallback),te.reloadCallback=null)}},Z.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.actor&&te.actor.send("abortTile",{uid:te.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(te){te.unloadVectorData(),te.actor&&te.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),B=function(ve){function Z(pe,te,ge,Fe){ve.call(this),this.id=pe,this.dispatcher=ge,this.setEventedParent(Fe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},te),a.extend(this,a.pick(te,["url","scheme","tileSize"]))}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(ge,Fe){te._tileJSONRequest=null,te._loaded=!0,ge?te.fire(new a.ErrorEvent(ge)):Fe&&(a.extend(te,Fe),Fe.bounds&&(te.tileBounds=new F(Fe.bounds,te.minzoom,te.maxzoom)),a.postTurnstileEvent(Fe.tiles),a.postMapLoadEvent(Fe.tiles,te.map._getMapId(),te.map._requestManager._skuToken),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return a.extend({},this._options)},Z.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},Z.prototype.loadTile=function(te,ge){var Fe=this,$e=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=a.getImage(this.map._requestManager.transformRequest($e,a.ResourceType.Tile),function(ft,Lt){if(delete te.request,te.aborted)te.state="unloaded",ge(null);else if(ft)te.state="errored",ge(ft);else if(Lt){Fe.map._refreshExpiredTiles&&te.setExpiryData(Lt),delete Lt.cacheControl,delete Lt.expires;var jt=Fe.map.painter.context,qt=jt.gl;te.texture=Fe.map.painter.getTileTexture(Lt.width),te.texture?te.texture.update(Lt,{useMipmap:!0}):(te.texture=new a.Texture(jt,Lt,qt.RGBA,{useMipmap:!0}),te.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),jt.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,jt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,jt.extTextureFilterAnisotropicMax)),te.state="loaded",a.cacheEntryPossiblyAdded(Fe.dispatcher),ge(null)}})},Z.prototype.abortTile=function(te,ge){te.request&&(te.request.cancel(),delete te.request),ge()},Z.prototype.unloadTile=function(te,ge){te.texture&&this.map.painter.saveTileTexture(te.texture),ge()},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),N=function(ve){function Z(pe,te,ge,Fe){ve.call(this,pe,te,ge,Fe),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(te,ge){var Fe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=a.getImage(this.map._requestManager.transformRequest(Fe,a.ResourceType.Tile),$e.bind(this)),te.neighboringTiles=this._getNeighboringTiles(te.tileID);function $e(Lt,jt){if(delete te.request,te.aborted)te.state="unloaded",ge(null);else if(Lt)te.state="errored",ge(Lt);else if(jt){this.map._refreshExpiredTiles&&te.setExpiryData(jt),delete jt.cacheControl,delete jt.expires;var qt=a.window.ImageBitmap&&jt instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),lr=qt?jt:a.browser.getImageData(jt,1),or={uid:te.uid,coord:te.tileID,source:this.id,rawImageData:lr,encoding:this.encoding};(!te.actor||te.state==="expired")&&(te.actor=this.dispatcher.getActor(),te.actor.send("loadDEMTile",or,ft.bind(this)))}}function ft(Lt,jt){Lt&&(te.state="errored",ge(Lt)),jt&&(te.dem=jt,te.needsHillshadePrepare=!0,te.state="loaded",ge(null))}},Z.prototype._getNeighboringTiles=function(te){var ge=te.canonical,Fe=Math.pow(2,ge.z),$e=(ge.x-1+Fe)%Fe,ft=ge.x===0?te.wrap-1:te.wrap,Lt=(ge.x+1+Fe)%Fe,jt=ge.x+1===Fe?te.wrap+1:te.wrap,qt={};return qt[new a.OverscaledTileID(te.overscaledZ,ft,ge.z,$e,ge.y).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,jt,ge.z,Lt,ge.y).key]={backfilled:!1},ge.y>0&&(qt[new a.OverscaledTileID(te.overscaledZ,ft,ge.z,$e,ge.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,te.wrap,ge.z,ge.x,ge.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,jt,ge.z,Lt,ge.y-1).key]={backfilled:!1}),ge.y+1<Fe&&(qt[new a.OverscaledTileID(te.overscaledZ,ft,ge.z,$e,ge.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,te.wrap,ge.z,ge.x,ge.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,jt,ge.z,Lt,ge.y+1).key]={backfilled:!1}),qt},Z.prototype.unloadTile=function(te){te.demTexture&&this.map.painter.saveTileTexture(te.demTexture),te.fbo&&(te.fbo.destroy(),delete te.fbo),te.dem&&delete te.dem,delete te.neighboringTiles,te.state="unloaded",te.actor&&te.actor.send("removeDEMTile",{uid:te.uid,source:this.id})},Z}(B),V=function(ve){function Z(pe,te,ge,Fe){ve.call(this),this.id=pe,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ge.getActor(),this.setEventedParent(Fe),this._data=te.data,this._options=a.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],te.maxzoom!==void 0&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var $e=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(te.buffer!==void 0?te.buffer:128)*$e,tolerance:(te.tolerance!==void 0?te.tolerance:.375)*$e,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:te.clusterMaxZoom!==void 0?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,te.clusterMinPoints||2),extent:a.EXTENT,radius:(te.clusterRadius||50)*$e,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties,filter:te.filter},te.workerOptions)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ge){if(ge){te.fire(new a.ErrorEvent(ge));return}var Fe={dataType:"source",sourceDataType:"metadata"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(Fe.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new a.Event("data",Fe))})},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setData=function(te){var ge=this;return this._data=te,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Fe){if(Fe){ge.fire(new a.ErrorEvent(Fe));return}var $e={dataType:"source",sourceDataType:"content"};ge._collectResourceTiming&&ge._resourceTiming&&ge._resourceTiming.length>0&&($e.resourceTiming=ge._resourceTiming,ge._resourceTiming=[]),ge.fire(new a.Event("data",$e))}),this},Z.prototype.getClusterExpansionZoom=function(te,ge){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:te,source:this.id},ge),this},Z.prototype.getClusterChildren=function(te,ge){return this.actor.send("geojson.getClusterChildren",{clusterId:te,source:this.id},ge),this},Z.prototype.getClusterLeaves=function(te,ge,Fe,$e){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:te,limit:ge,offset:Fe},$e),this},Z.prototype._updateWorkerData=function(te){var ge=this;this._loaded=!1;var Fe=a.extend({},this.workerOptions),$e=this._data;typeof $e=="string"?(Fe.request=this.map._requestManager.transformRequest(a.browser.resolveURL($e),a.ResourceType.Source),Fe.request.collectResourceTiming=this._collectResourceTiming):Fe.data=JSON.stringify($e),this.actor.send(this.type+".loadData",Fe,function(ft,Lt){ge._removed||Lt&&Lt.abandoned||(ge._loaded=!0,Lt&&Lt.resourceTiming&&Lt.resourceTiming[ge.id]&&(ge._resourceTiming=Lt.resourceTiming[ge.id].slice(0)),ge.actor.send(ge.type+".coalesce",{source:Fe.source},null),te(ft))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(te,ge){var Fe=this,$e=te.actor?"reloadTile":"loadTile";te.actor=this.actor;var ft={type:this.type,uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};te.request=this.actor.send($e,ft,function(Lt,jt){return delete te.request,te.unloadVectorData(),te.aborted?ge(null):Lt?ge(Lt):(te.loadVectorData(jt,Fe.map.painter,$e==="reloadTile"),ge(null))})},Z.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.aborted=!0},Z.prototype.unloadTile=function(te){te.unloadVectorData(),this.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),W=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Q=function(ve){function Z(pe,te,ge,Fe){ve.call(this),this.id=pe,this.dispatcher=ge,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Fe),this.options=te}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(te,ge){var Fe=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function($e,ft){Fe._loaded=!0,$e?Fe.fire(new a.ErrorEvent($e)):ft&&(Fe.image=ft,te&&(Fe.coordinates=te),ge&&ge(),Fe._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(te){var ge=this;return!this.image||!te.url?this:(this.options.url=te.url,this.load(te.coordinates,function(){ge.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setCoordinates=function(te){var ge=this;this.coordinates=te;var Fe=te.map(a.MercatorCoordinate.fromLngLat);this.tileID=re(Fe),this.minzoom=this.maxzoom=this.tileID.z;var $e=Fe.map(function(ft){return ge.tileID.getTilePoint(ft)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack($e[0].x,$e[0].y,0,0),this._boundsArray.emplaceBack($e[1].x,$e[1].y,a.EXTENT,0),this._boundsArray.emplaceBack($e[3].x,$e[3].y,0,a.EXTENT),this._boundsArray.emplaceBack($e[2].x,$e[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var te=this.map.painter.context,ge=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(te,this.image,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var Fe in this.tiles){var $e=this.tiles[Fe];$e.state!=="loaded"&&($e.state="loaded",$e.texture=this.texture)}}},Z.prototype.loadTile=function(te,ge){this.tileID&&this.tileID.equals(te.tileID.canonical)?(this.tiles[String(te.tileID.wrap)]=te,te.buckets={},ge(null)):(te.state="errored",ge(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented);function re(ve){for(var Z=1/0,pe=1/0,te=-1/0,ge=-1/0,Fe=0,$e=ve;Fe<$e.length;Fe+=1){var ft=$e[Fe];Z=Math.min(Z,ft.x),pe=Math.min(pe,ft.y),te=Math.max(te,ft.x),ge=Math.max(ge,ft.y)}var Lt=te-Z,jt=ge-pe,qt=Math.max(Lt,jt),lr=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),or=Math.pow(2,lr);return new a.CanonicalTileID(lr,Math.floor((Z+te)/2*or),Math.floor((pe+ge)/2*or))}var ne=function(ve){function Z(pe,te,ge,Fe){ve.call(this,pe,te,ge,Fe),this.roundZoom=!0,this.type="video",this.options=te}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1;var ge=this.options;this.urls=[];for(var Fe=0,$e=ge.urls;Fe<$e.length;Fe+=1){var ft=$e[Fe];this.urls.push(this.map._requestManager.transformRequest(ft,a.ResourceType.Source).url)}a.getVideo(this.urls,function(Lt,jt){te._loaded=!0,Lt?te.fire(new a.ErrorEvent(Lt)):jt&&(te.video=jt,te.video.loop=!0,te.video.addEventListener("playing",function(){te.map.triggerRepaint()}),te.map&&te.video.play(),te._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(te){if(this.video){var ge=this.video.seekable;te<ge.start(0)||te>ge.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ge.start(0)+" and "+ge.end(0)+"-second mark."))):this.video.currentTime=te}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(te){this.map||(this.map=te,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var te=this.map.painter.context,ge=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,ge.RGBA,ge.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(te,this.video,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var Fe in this.tiles){var $e=this.tiles[Fe];$e.state!=="loaded"&&($e.state="loaded",$e.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}(Q),fe=function(ve){function Z(pe,te,ge,Fe){ve.call(this,pe,te,ge,Fe),te.coordinates?(!Array.isArray(te.coordinates)||te.coordinates.length!==4||te.coordinates.some(function($e){return!Array.isArray($e)||$e.length!==2||$e.some(function(ft){return typeof ft!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'missing required property "coordinates"'))),te.animate&&typeof te.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'optional "animate" property must be a boolean value'))),te.canvas?typeof te.canvas!="string"&&!(te.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'missing required property "canvas"'))),this.options=te,this.animate=te.animate!==void 0?te.animate:!0}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(te){this.map=te,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var te=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,te=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,te=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ge=this.map.painter.context,Fe=ge.gl;this.boundsBuffer||(this.boundsBuffer=ge.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(te||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(ge,this.canvas,Fe.RGBA,{premultiply:!0});for(var $e in this.tiles){var ft=this.tiles[$e];ft.state!=="loaded"&&(ft.state="loaded",ft.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var te=0,ge=[this.canvas.width,this.canvas.height];te<ge.length;te+=1){var Fe=ge[te];if(isNaN(Fe)||Fe<=0)return!0}return!1},Z}(Q),$={vector:z,raster:B,"raster-dem":N,geojson:V,video:ne,image:Q,canvas:fe},X=function(ve,Z,pe,te){var ge=new $[Z.type](ve,Z,pe,te);if(ge.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ge.id);return a.bindAll(["load","abort","unload","serialize","prepare"],ge),ge},oe=function(ve){return $[ve]},Y=function(ve,Z){$[ve]=Z};function ee(ve,Z){var pe=a.identity([]);return a.translate(pe,pe,[1,1,0]),a.scale(pe,pe,[ve.width*.5,ve.height*.5,1]),a.multiply(pe,pe,ve.calculatePosMatrix(Z.toUnwrapped()))}function se(ve,Z,pe){if(ve)for(var te=0,ge=ve;te<ge.length;te+=1){var Fe=ge[te],$e=Z[Fe];if($e&&$e.source===pe&&$e.type==="fill-extrusion")return!0}else for(var ft in Z){var Lt=Z[ft];if(Lt.source===pe&&Lt.type==="fill-extrusion")return!0}return!1}function q(ve,Z,pe,te,ge,Fe){var $e=se(ge&&ge.layers,Z,ve.id),ft=Fe.maxPitchScaleFactor(),Lt=ve.tilesIn(te,ft,$e);Lt.sort(ie);for(var jt=[],qt=0,lr=Lt;qt<lr.length;qt+=1){var or=lr[qt];jt.push({wrappedTileID:or.tileID.wrapped().key,queryResults:or.tile.queryRenderedFeatures(Z,pe,ve._state,or.queryGeometry,or.cameraQueryGeometry,or.scale,ge,Fe,ft,ee(ve.transform,or.tileID))})}var Fr=he(jt);for(var Xr in Fr)Fr[Xr].forEach(function(Yr){var Hr=Yr.feature,Jr=ve.getFeatureState(Hr.layer["source-layer"],Hr.id);Hr.source=Hr.layer.source,Hr.layer["source-layer"]&&(Hr.sourceLayer=Hr.layer["source-layer"]),Hr.state=Jr});return Fr}function K(ve,Z,pe,te,ge,Fe,$e){for(var ft={},Lt=Fe.queryRenderedSymbols(te),jt=[],qt=0,lr=Object.keys(Lt).map(Number);qt<lr.length;qt+=1){var or=lr[qt];jt.push($e[or])}jt.sort(ie);for(var Fr=function(){var cn=Yr[Xr],Fn=cn.featureIndex.lookupSymbolFeatures(Lt[cn.bucketInstanceId],Z,cn.bucketIndex,cn.sourceLayerIndex,ge.filter,ge.layers,ge.availableImages,ve);for(var Bn in Fn){var Yn=ft[Bn]=ft[Bn]||[],Xn=Fn[Bn];Xn.sort(function(la,ba){var va=cn.featureSortOrder;if(va){var Oa=va.indexOf(la.featureIndex),$a=va.indexOf(ba.featureIndex);return $a-Oa}else return ba.featureIndex-la.featureIndex});for(var Gn=0,Kn=Xn;Gn<Kn.length;Gn+=1){var ta=Kn[Gn];Yn.push(ta)}}},Xr=0,Yr=jt;Xr<Yr.length;Xr+=1)Fr();var Hr=function(cn){ft[cn].forEach(function(Fn){var Bn=Fn.feature,Yn=ve[cn],Xn=pe[Yn.source],Gn=Xn.getFeatureState(Bn.layer["source-layer"],Bn.id);Bn.source=Bn.layer.source,Bn.layer["source-layer"]&&(Bn.sourceLayer=Bn.layer["source-layer"]),Bn.state=Gn})};for(var Jr in ft)Hr(Jr);return ft}function le(ve,Z){for(var pe=ve.getRenderableIds().map(function(Lt){return ve.getTileByID(Lt)}),te=[],ge={},Fe=0;Fe<pe.length;Fe++){var $e=pe[Fe],ft=$e.tileID.canonical.key;ge[ft]||(ge[ft]=!0,$e.querySourceFeatures(te,Z))}return te}function ie(ve,Z){var pe=ve.tileID,te=Z.tileID;return pe.overscaledZ-te.overscaledZ||pe.canonical.y-te.canonical.y||pe.wrap-te.wrap||pe.canonical.x-te.canonical.x}function he(ve){for(var Z={},pe={},te=0,ge=ve;te<ge.length;te+=1){var Fe=ge[te],$e=Fe.queryResults,ft=Fe.wrappedTileID,Lt=pe[ft]=pe[ft]||{};for(var jt in $e)for(var qt=$e[jt],lr=Lt[jt]=Lt[jt]||{},or=Z[jt]=Z[jt]||[],Fr=0,Xr=qt;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr];lr[Yr.featureIndex]||(lr[Yr.featureIndex]=!0,or.push(Yr))}}return Z}var ye=function(Z,pe){this.max=Z,this.onRemove=pe,this.reset()};ye.prototype.reset=function(){for(var Z in this.data)for(var pe=0,te=this.data[Z];pe<te.length;pe+=1){var ge=te[pe];ge.timeout&&clearTimeout(ge.timeout),this.onRemove(ge.value)}return this.data={},this.order=[],this},ye.prototype.add=function(Z,pe,te){var ge=this,Fe=Z.wrapped().key;this.data[Fe]===void 0&&(this.data[Fe]=[]);var $e={value:pe,timeout:void 0};if(te!==void 0&&($e.timeout=setTimeout(function(){ge.remove(Z,$e)},te)),this.data[Fe].push($e),this.order.push(Fe),this.order.length>this.max){var ft=this._getAndRemoveByKey(this.order[0]);ft&&this.onRemove(ft)}return this},ye.prototype.has=function(Z){return Z.wrapped().key in this.data},ye.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},ye.prototype._getAndRemoveByKey=function(Z){var pe=this.data[Z].shift();return pe.timeout&&clearTimeout(pe.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),pe.value},ye.prototype.getByKey=function(Z){var pe=this.data[Z];return pe?pe[0].value:null},ye.prototype.get=function(Z){if(!this.has(Z))return null;var pe=this.data[Z.wrapped().key][0];return pe.value},ye.prototype.remove=function(Z,pe){if(!this.has(Z))return this;var te=Z.wrapped().key,ge=pe===void 0?0:this.data[te].indexOf(pe),Fe=this.data[te][ge];return this.data[te].splice(ge,1),Fe.timeout&&clearTimeout(Fe.timeout),this.data[te].length===0&&delete this.data[te],this.onRemove(Fe.value),this.order.splice(this.order.indexOf(te),1),this},ye.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var pe=this._getAndRemoveByKey(this.order[0]);pe&&this.onRemove(pe)}return this},ye.prototype.filter=function(Z){var pe=[];for(var te in this.data)for(var ge=0,Fe=this.data[te];ge<Fe.length;ge+=1){var $e=Fe[ge];Z($e.value)||pe.push($e)}for(var ft=0,Lt=pe;ft<Lt.length;ft+=1){var jt=Lt[ft];this.remove(jt.value.tileID,jt)}};var Ce=function(Z,pe,te){this.context=Z;var ge=Z.gl;this.buffer=ge.createBuffer(),this.dynamicDraw=!!te,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),ge.bufferData(ge.ELEMENT_ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?ge.DYNAMIC_DRAW:ge.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};Ce.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ce.prototype.updateData=function(Z){var pe=this.context.gl;this.context.unbindVAO(),this.bind(),pe.bufferSubData(pe.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},Ce.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ke=function(Z,pe,te,ge){this.length=pe.length,this.attributes=te,this.itemSize=pe.bytesPerElement,this.dynamicDraw=ge,this.context=Z;var Fe=Z.gl;this.buffer=Fe.createBuffer(),Z.bindVertexBuffer.set(this.buffer),Fe.bufferData(Fe.ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?Fe.DYNAMIC_DRAW:Fe.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};ke.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ke.prototype.updateData=function(Z){var pe=this.context.gl;this.bind(),pe.bufferSubData(pe.ARRAY_BUFFER,0,Z.arrayBuffer)},ke.prototype.enableAttributes=function(Z,pe){for(var te=0;te<this.attributes.length;te++){var ge=this.attributes[te],Fe=pe.attributes[ge.name];Fe!==void 0&&Z.enableVertexAttribArray(Fe)}},ke.prototype.setVertexAttribPointers=function(Z,pe,te){for(var ge=0;ge<this.attributes.length;ge++){var Fe=this.attributes[ge],$e=pe.attributes[Fe.name];$e!==void 0&&Z.vertexAttribPointer($e,Fe.components,Z[Ae[Fe.type]],!1,this.itemSize,Fe.offset+this.itemSize*(te||0))}},ke.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var we=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};we.prototype.get=function(){return this.current},we.prototype.set=function(Z){},we.prototype.getDefault=function(){return this.default},we.prototype.setDefault=function(){this.set(this.default)};var Ee=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return a.Color.transparent},Z.prototype.set=function(te){var ge=this.current;te.r===ge.r&&te.g===ge.g&&te.b===ge.b&&te.a===ge.a&&!this.dirty||(this.gl.clearColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},Z}(we),xe=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearDepth(te),this.current=te,this.dirty=!1)},Z}(we),Re=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearStencil(te),this.current=te,this.dirty=!1)},Z}(we),Ve=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&te[3]===ge[3]&&!this.dirty||(this.gl.colorMask(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},Z}(we),Ue=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthMask(te),this.current=te,this.dirty=!1)},Z}(we),Be=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.stencilMask(te),this.current=te,this.dirty=!1)},Z}(we),Xe=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(te){var ge=this.current;te.func===ge.func&&te.ref===ge.ref&&te.mask===ge.mask&&!this.dirty||(this.gl.stencilFunc(te.func,te.ref,te.mask),this.current=te,this.dirty=!1)},Z}(we),ut=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[te.KEEP,te.KEEP,te.KEEP]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&!this.dirty||(this.gl.stencilOp(te[0],te[1],te[2]),this.current=te,this.dirty=!1)},Z}(we),dt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.STENCIL_TEST):ge.disable(ge.STENCIL_TEST),this.current=te,this.dirty=!1}},Z}(we),at=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&!this.dirty||(this.gl.depthRange(te[0],te[1]),this.current=te,this.dirty=!1)},Z}(we),We=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.DEPTH_TEST):ge.disable(ge.DEPTH_TEST),this.current=te,this.dirty=!1}},Z}(we),rt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthFunc(te),this.current=te,this.dirty=!1)},Z}(we),st=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.BLEND):ge.disable(ge.BLEND),this.current=te,this.dirty=!1}},Z}(we),ht=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[te.ONE,te.ZERO]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&!this.dirty||(this.gl.blendFunc(te[0],te[1]),this.current=te,this.dirty=!1)},Z}(we),vt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return a.Color.transparent},Z.prototype.set=function(te){var ge=this.current;te.r===ge.r&&te.g===ge.g&&te.b===ge.b&&te.a===ge.a&&!this.dirty||(this.gl.blendColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},Z}(we),At=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.blendEquation(te),this.current=te,this.dirty=!1)},Z}(we),tt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.CULL_FACE):ge.disable(ge.CULL_FACE),this.current=te,this.dirty=!1}},Z}(we),_e=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.cullFace(te),this.current=te,this.dirty=!1)},Z}(we),je=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.frontFace(te),this.current=te,this.dirty=!1)},Z}(we),Ke=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.useProgram(te),this.current=te,this.dirty=!1)},Z}(we),He=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.activeTexture(te),this.current=te,this.dirty=!1)},Z}(we),Ie=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[0,0,te.drawingBufferWidth,te.drawingBufferHeight]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&te[3]===ge[3]&&!this.dirty||(this.gl.viewport(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},Z}(we),be=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindFramebuffer(ge.FRAMEBUFFER,te),this.current=te,this.dirty=!1}},Z}(we),me=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindRenderbuffer(ge.RENDERBUFFER,te),this.current=te,this.dirty=!1}},Z}(we),Me=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindTexture(ge.TEXTURE_2D,te),this.current=te,this.dirty=!1}},Z}(we),Te=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindBuffer(ge.ARRAY_BUFFER,te),this.current=te,this.dirty=!1}},Z}(we),ze=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){var ge=this.gl;ge.bindBuffer(ge.ELEMENT_ARRAY_BUFFER,te),this.current=te,this.dirty=!1},Z}(we),Je=function(ve){function Z(pe){ve.call(this,pe),this.vao=pe.extVertexArrayObject}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){!this.vao||te===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(te),this.current=te,this.dirty=!1)},Z}(we),nt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_ALIGNMENT,te),this.current=te,this.dirty=!1}},Z}(we),pt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te),this.current=te,this.dirty=!1}},Z}(we),yt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,te),this.current=te,this.dirty=!1}},Z}(we),Yt=function(ve){function Z(pe,te){ve.call(this,pe),this.context=pe,this.parent=te}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(we),Xt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_2D,te,0),this.current=te,this.dirty=!1}},Z}(Yt),St=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferRenderbuffer(ge.FRAMEBUFFER,ge.DEPTH_ATTACHMENT,ge.RENDERBUFFER,te),this.current=te,this.dirty=!1}},Z}(Yt),kt=function(Z,pe,te,ge){this.context=Z,this.width=pe,this.height=te;var Fe=Z.gl,$e=this.framebuffer=Fe.createFramebuffer();this.colorAttachment=new Xt(Z,$e),ge&&(this.depthAttachment=new St(Z,$e))};kt.prototype.destroy=function(){var Z=this.context.gl,pe=this.colorAttachment.get();if(pe&&Z.deleteTexture(pe),this.depthAttachment){var te=this.depthAttachment.get();te&&Z.deleteRenderbuffer(te)}Z.deleteFramebuffer(this.framebuffer)};var Kt=519,mr=function(Z,pe,te){this.func=Z,this.mask=pe,this.range=te};mr.ReadOnly=!1,mr.ReadWrite=!0,mr.disabled=new mr(Kt,mr.ReadOnly,[0,1]);var mt=519,Zt=7680,Qt=function(Z,pe,te,ge,Fe,$e){this.test=Z,this.ref=pe,this.mask=te,this.fail=ge,this.depthFail=Fe,this.pass=$e};Qt.disabled=new Qt({func:mt,mask:0},0,0,Zt,Zt,Zt);var yr=0,sr=1,bt=771,lt=function(Z,pe,te){this.blendFunction=Z,this.blendColor=pe,this.mask=te};lt.Replace=[sr,yr],lt.disabled=new lt(lt.Replace,a.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,a.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([sr,bt],a.Color.transparent,[!0,!0,!0,!0]);var Tt=1029,Ct=2305,It=function(Z,pe,te){this.enable=Z,this.mode=pe,this.frontFace=te};It.disabled=new It(!1,Tt,Ct),It.backCCW=new It(!0,Tt,Ct);var Dt=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ee(this),this.clearDepth=new xe(this),this.clearStencil=new Re(this),this.colorMask=new Ve(this),this.depthMask=new Ue(this),this.stencilMask=new Be(this),this.stencilFunc=new Xe(this),this.stencilOp=new ut(this),this.stencilTest=new dt(this),this.depthRange=new at(this),this.depthTest=new We(this),this.depthFunc=new rt(this),this.blend=new st(this),this.blendFunc=new ht(this),this.blendColor=new vt(this),this.blendEquation=new At(this),this.cullFace=new tt(this),this.cullFaceSide=new _e(this),this.frontFace=new je(this),this.program=new Ke(this),this.activeTexture=new He(this),this.viewport=new Ie(this),this.bindFramebuffer=new be(this),this.bindRenderbuffer=new me(this),this.bindTexture=new Me(this),this.bindVertexBuffer=new Te(this),this.bindElementBuffer=new ze(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Je(this),this.pixelStoreUnpack=new nt(this),this.pixelStoreUnpackPremultiplyAlpha=new pt(this),this.pixelStoreUnpackFlipY=new yt(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=Z.getParameter(Z.MAX_TEXTURE_SIZE)};Dt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Dt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Dt.prototype.createIndexBuffer=function(Z,pe){return new Ce(this,Z,pe)},Dt.prototype.createVertexBuffer=function(Z,pe,te){return new ke(this,Z,pe,te)},Dt.prototype.createRenderbuffer=function(Z,pe,te){var ge=this.gl,Fe=ge.createRenderbuffer();return this.bindRenderbuffer.set(Fe),ge.renderbufferStorage(ge.RENDERBUFFER,Z,pe,te),this.bindRenderbuffer.set(null),Fe},Dt.prototype.createFramebuffer=function(Z,pe,te){return new kt(this,Z,pe,te)},Dt.prototype.clear=function(Z){var pe=Z.color,te=Z.depth,ge=this.gl,Fe=0;pe&&(Fe|=ge.COLOR_BUFFER_BIT,this.clearColor.set(pe),this.colorMask.set([!0,!0,!0,!0])),typeof te<"u"&&(Fe|=ge.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(te),this.depthMask.set(!0)),ge.clear(Fe)},Dt.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},Dt.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},Dt.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},Dt.prototype.setColorMode=function(Z){a.deepEqual(Z.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},Dt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Vt=function(ve){function Z(pe,te,ge){var Fe=this;ve.call(this),this.id=pe,this.dispatcher=ge,this.on("data",function($e){$e.dataType==="source"&&$e.sourceDataType==="metadata"&&(Fe._sourceLoaded=!0),Fe._sourceLoaded&&!Fe._paused&&$e.dataType==="source"&&$e.sourceDataType==="content"&&(Fe.reload(),Fe.transform&&Fe.update(Fe.transform))}),this.on("error",function(){Fe._sourceErrored=!0}),this._source=X(pe,te,ge,this),this._tiles={},this._cache=new ye(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(te){this.map=te,this._maxTileCacheSize=te?te._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(te)},Z.prototype.onRemove=function(te){this._source&&this._source.onRemove&&this._source.onRemove(te)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var te in this._tiles){var ge=this._tiles[te];if(ge.state!=="loaded"&&ge.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var te=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,te&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(te,ge){return this._source.loadTile(te,ge)},Z.prototype._unloadTile=function(te){if(this._source.unloadTile)return this._source.unloadTile(te,function(){})},Z.prototype._abortTile=function(te){if(this._source.abortTile)return this._source.abortTile(te,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(te){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ge in this._tiles){var Fe=this._tiles[ge];Fe.upload(te),Fe.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return a.values(this._tiles).map(function(te){return te.tileID}).sort(Bt).map(function(te){return te.key})},Z.prototype.getRenderableIds=function(te){var ge=this,Fe=[];for(var $e in this._tiles)this._isIdRenderable($e,te)&&Fe.push(this._tiles[$e]);return te?Fe.sort(function(ft,Lt){var jt=ft.tileID,qt=Lt.tileID,lr=new a.Point(jt.canonical.x,jt.canonical.y)._rotate(ge.transform.angle),or=new a.Point(qt.canonical.x,qt.canonical.y)._rotate(ge.transform.angle);return jt.overscaledZ-qt.overscaledZ||or.y-lr.y||or.x-lr.x}).map(function(ft){return ft.tileID.key}):Fe.map(function(ft){return ft.tileID}).sort(Bt).map(function(ft){return ft.key})},Z.prototype.hasRenderableParent=function(te){var ge=this.findLoadedParent(te,0);return ge?this._isIdRenderable(ge.tileID.key):!1},Z.prototype._isIdRenderable=function(te,ge){return this._tiles[te]&&this._tiles[te].hasData()&&!this._coveredTiles[te]&&(ge||!this._tiles[te].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var te in this._tiles)this._tiles[te].state!=="errored"&&this._reloadTile(te,"reloading")},Z.prototype._reloadTile=function(te,ge){var Fe=this._tiles[te];Fe&&(Fe.state!=="loading"&&(Fe.state=ge),this._loadTile(Fe,this._tileLoaded.bind(this,Fe,te,ge)))},Z.prototype._tileLoaded=function(te,ge,Fe,$e){if($e){te.state="errored",$e.status!==404?this._source.fire(new a.ErrorEvent($e,{tile:te})):this.update(this.transform);return}te.timeAdded=a.browser.now(),Fe==="expired"&&(te.refreshedUponExpiration=!0),this._setTileReloadTimer(ge,te),this.getSource().type==="raster-dem"&&te.dem&&this._backfillDEM(te),this._state.initializeTileState(te,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:te,coord:te.tileID}))},Z.prototype._backfillDEM=function(te){for(var ge=this.getRenderableIds(),Fe=0;Fe<ge.length;Fe++){var $e=ge[Fe];if(te.neighboringTiles&&te.neighboringTiles[$e]){var ft=this.getTileByID($e);Lt(te,ft),Lt(ft,te)}}function Lt(jt,qt){jt.needsHillshadePrepare=!0;var lr=qt.tileID.canonical.x-jt.tileID.canonical.x,or=qt.tileID.canonical.y-jt.tileID.canonical.y,Fr=Math.pow(2,jt.tileID.canonical.z),Xr=qt.tileID.key;lr===0&&or===0||Math.abs(or)>1||(Math.abs(lr)>1&&(Math.abs(lr+Fr)===1?lr+=Fr:Math.abs(lr-Fr)===1&&(lr-=Fr)),!(!qt.dem||!jt.dem)&&(jt.dem.backfillBorder(qt.dem,lr,or),jt.neighboringTiles&&jt.neighboringTiles[Xr]&&(jt.neighboringTiles[Xr].backfilled=!0)))}},Z.prototype.getTile=function(te){return this.getTileByID(te.key)},Z.prototype.getTileByID=function(te){return this._tiles[te]},Z.prototype._retainLoadedChildren=function(te,ge,Fe,$e){for(var ft in this._tiles){var Lt=this._tiles[ft];if(!($e[ft]||!Lt.hasData()||Lt.tileID.overscaledZ<=ge||Lt.tileID.overscaledZ>Fe)){for(var jt=Lt.tileID;Lt&&Lt.tileID.overscaledZ>ge+1;){var qt=Lt.tileID.scaledTo(Lt.tileID.overscaledZ-1);Lt=this._tiles[qt.key],Lt&&Lt.hasData()&&(jt=qt)}for(var lr=jt;lr.overscaledZ>ge;)if(lr=lr.scaledTo(lr.overscaledZ-1),te[lr.key]){$e[jt.key]=jt;break}}}},Z.prototype.findLoadedParent=function(te,ge){if(te.key in this._loadedParentTiles){var Fe=this._loadedParentTiles[te.key];return Fe&&Fe.tileID.overscaledZ>=ge?Fe:null}for(var $e=te.overscaledZ-1;$e>=ge;$e--){var ft=te.scaledTo($e),Lt=this._getLoadedTile(ft);if(Lt)return Lt}},Z.prototype._getLoadedTile=function(te){var ge=this._tiles[te.key];if(ge&&ge.hasData())return ge;var Fe=this._cache.getByKey(te.wrapped().key);return Fe},Z.prototype.updateCacheSize=function(te){var ge=Math.ceil(te.width/this._source.tileSize)+1,Fe=Math.ceil(te.height/this._source.tileSize)+1,$e=ge*Fe,ft=5,Lt=Math.floor($e*ft),jt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Lt):Lt;this._cache.setMaxSize(jt)},Z.prototype.handleWrapJump=function(te){var ge=this._prevLng===void 0?te:this._prevLng,Fe=te-ge,$e=Fe/360,ft=Math.round($e);if(this._prevLng=te,ft){var Lt={};for(var jt in this._tiles){var qt=this._tiles[jt];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ft),Lt[qt.tileID.key]=qt}this._tiles=Lt;for(var lr in this._timers)clearTimeout(this._timers[lr]),delete this._timers[lr];for(var or in this._tiles){var Fr=this._tiles[or];this._setTileReloadTimer(or,Fr)}}},Z.prototype.update=function(te){var ge=this;if(this.transform=te,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(te),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Fe;this.used?this._source.tileID?Fe=te.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(la){return new a.OverscaledTileID(la.canonical.z,la.wrap,la.canonical.z,la.canonical.x,la.canonical.y)}):(Fe=te.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Fe=Fe.filter(function(la){return ge._source.hasTile(la)}))):Fe=[];var $e=te.coveringZoomLevel(this._source),ft=Math.max($e-Z.maxOverzooming,this._source.minzoom),Lt=Math.max($e+Z.maxUnderzooming,this._source.minzoom),jt=this._updateRetainedTiles(Fe,$e);if($t(this._source.type)){for(var qt={},lr={},or=Object.keys(jt),Fr=0,Xr=or;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr],Hr=jt[Yr],Jr=this._tiles[Yr];if(!(!Jr||Jr.fadeEndTime&&Jr.fadeEndTime<=a.browser.now())){var cn=this.findLoadedParent(Hr,ft);cn&&(this._addTile(cn.tileID),qt[cn.tileID.key]=cn.tileID),lr[Yr]=Hr}}this._retainLoadedChildren(lr,$e,Lt,jt);for(var Fn in qt)jt[Fn]||(this._coveredTiles[Fn]=!0,jt[Fn]=qt[Fn])}for(var Bn in jt)this._tiles[Bn].clearFadeHold();for(var Yn=a.keysDifference(this._tiles,jt),Xn=0,Gn=Yn;Xn<Gn.length;Xn+=1){var Kn=Gn[Xn],ta=this._tiles[Kn];ta.hasSymbolBuckets&&!ta.holdingForFade()?ta.setHoldDuration(this.map._fadeDuration):(!ta.hasSymbolBuckets||ta.symbolFadeFinished())&&this._removeTile(Kn)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var te in this._tiles)this._tiles[te].holdingForFade()&&this._removeTile(te)},Z.prototype._updateRetainedTiles=function(te,ge){for(var Fe={},$e={},ft=Math.max(ge-Z.maxOverzooming,this._source.minzoom),Lt=Math.max(ge+Z.maxUnderzooming,this._source.minzoom),jt={},qt=0,lr=te;qt<lr.length;qt+=1){var or=lr[qt],Fr=this._addTile(or);Fe[or.key]=or,!Fr.hasData()&&ge<this._source.maxzoom&&(jt[or.key]=or)}this._retainLoadedChildren(jt,ge,Lt,Fe);for(var Xr=0,Yr=te;Xr<Yr.length;Xr+=1){var Hr=Yr[Xr],Jr=this._tiles[Hr.key];if(!Jr.hasData()){if(ge+1>this._source.maxzoom){var cn=Hr.children(this._source.maxzoom)[0],Fn=this.getTile(cn);if(Fn&&Fn.hasData()){Fe[cn.key]=cn;continue}}else{var Bn=Hr.children(this._source.maxzoom);if(Fe[Bn[0].key]&&Fe[Bn[1].key]&&Fe[Bn[2].key]&&Fe[Bn[3].key])continue}for(var Yn=Jr.wasRequested(),Xn=Hr.overscaledZ-1;Xn>=ft;--Xn){var Gn=Hr.scaledTo(Xn);if($e[Gn.key]||($e[Gn.key]=!0,Jr=this.getTile(Gn),!Jr&&Yn&&(Jr=this._addTile(Gn)),Jr&&(Fe[Gn.key]=Gn,Yn=Jr.wasRequested(),Jr.hasData())))break}}}return Fe},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var te in this._tiles){for(var ge=[],Fe=void 0,$e=this._tiles[te].tileID;$e.overscaledZ>0;){if($e.key in this._loadedParentTiles){Fe=this._loadedParentTiles[$e.key];break}ge.push($e.key);var ft=$e.scaledTo($e.overscaledZ-1);if(Fe=this._getLoadedTile(ft),Fe)break;$e=ft}for(var Lt=0,jt=ge;Lt<jt.length;Lt+=1){var qt=jt[Lt];this._loadedParentTiles[qt]=Fe}}},Z.prototype._addTile=function(te){var ge=this._tiles[te.key];if(ge)return ge;ge=this._cache.getAndRemove(te),ge&&(this._setTileReloadTimer(te.key,ge),ge.tileID=te,this._state.initializeTileState(ge,this.map?this.map.painter:null),this._cacheTimers[te.key]&&(clearTimeout(this._cacheTimers[te.key]),delete this._cacheTimers[te.key],this._setTileReloadTimer(te.key,ge)));var Fe=!!ge;return Fe||(ge=new a.Tile(te,this._source.tileSize*te.overscaleFactor()),this._loadTile(ge,this._tileLoaded.bind(this,ge,te.key,ge.state))),ge?(ge.uses++,this._tiles[te.key]=ge,Fe||this._source.fire(new a.Event("dataloading",{tile:ge,coord:ge.tileID,dataType:"source"})),ge):null},Z.prototype._setTileReloadTimer=function(te,ge){var Fe=this;te in this._timers&&(clearTimeout(this._timers[te]),delete this._timers[te]);var $e=ge.getExpiryTimeout();$e&&(this._timers[te]=setTimeout(function(){Fe._reloadTile(te,"expired"),delete Fe._timers[te]},$e))},Z.prototype._removeTile=function(te){var ge=this._tiles[te];ge&&(ge.uses--,delete this._tiles[te],this._timers[te]&&(clearTimeout(this._timers[te]),delete this._timers[te]),!(ge.uses>0)&&(ge.hasData()&&ge.state!=="reloading"?this._cache.add(ge.tileID,ge,ge.getExpiryTimeout()):(ge.aborted=!0,this._abortTile(ge),this._unloadTile(ge))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var te in this._tiles)this._removeTile(te);this._cache.reset()},Z.prototype.tilesIn=function(te,ge,Fe){var $e=this,ft=[],Lt=this.transform;if(!Lt)return ft;for(var jt=Fe?Lt.getCameraQueryGeometry(te):te,qt=te.map(function(Xn){return Lt.pointCoordinate(Xn)}),lr=jt.map(function(Xn){return Lt.pointCoordinate(Xn)}),or=this.getIds(),Fr=1/0,Xr=1/0,Yr=-1/0,Hr=-1/0,Jr=0,cn=lr;Jr<cn.length;Jr+=1){var Fn=cn[Jr];Fr=Math.min(Fr,Fn.x),Xr=Math.min(Xr,Fn.y),Yr=Math.max(Yr,Fn.x),Hr=Math.max(Hr,Fn.y)}for(var Bn=function(Xn){var Gn=$e._tiles[or[Xn]];if(!Gn.holdingForFade()){var Kn=Gn.tileID,ta=Math.pow(2,Lt.zoom-Gn.tileID.overscaledZ),la=ge*Gn.queryPadding*a.EXTENT/Gn.tileSize/ta,ba=[Kn.getTilePoint(new a.MercatorCoordinate(Fr,Xr)),Kn.getTilePoint(new a.MercatorCoordinate(Yr,Hr))];if(ba[0].x-la<a.EXTENT&&ba[0].y-la<a.EXTENT&&ba[1].x+la>=0&&ba[1].y+la>=0){var va=qt.map(function($a){return Kn.getTilePoint($a)}),Oa=lr.map(function($a){return Kn.getTilePoint($a)});ft.push({tile:Gn,tileID:Kn,queryGeometry:va,cameraQueryGeometry:Oa,scale:ta})}}},Yn=0;Yn<or.length;Yn++)Bn(Yn);return ft},Z.prototype.getVisibleCoordinates=function(te){for(var ge=this,Fe=this.getRenderableIds(te).map(function(jt){return ge._tiles[jt].tileID}),$e=0,ft=Fe;$e<ft.length;$e+=1){var Lt=ft[$e];Lt.posMatrix=this.transform.calculatePosMatrix(Lt.toUnwrapped())}return Fe},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if($t(this._source.type))for(var te in this._tiles){var ge=this._tiles[te];if(ge.fadeEndTime!==void 0&&ge.fadeEndTime>=a.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(te,ge,Fe){te=te||"_geojsonTileLayer",this._state.updateState(te,ge,Fe)},Z.prototype.removeFeatureState=function(te,ge,Fe){te=te||"_geojsonTileLayer",this._state.removeFeatureState(te,ge,Fe)},Z.prototype.getFeatureState=function(te,ge){return te=te||"_geojsonTileLayer",this._state.getState(te,ge)},Z.prototype.setDependencies=function(te,ge,Fe){var $e=this._tiles[te];$e&&$e.setDependencies(ge,Fe)},Z.prototype.reloadTilesForDependencies=function(te,ge){for(var Fe in this._tiles){var $e=this._tiles[Fe];$e.hasDependency(te,ge)&&this._reloadTile(Fe,"reloading")}this._cache.filter(function(ft){return!ft.hasDependency(te,ge)})},Z}(a.Evented);Vt.maxOverzooming=10,Vt.maxUnderzooming=3;function Bt(ve,Z){var pe=Math.abs(ve.wrap*2)-+(ve.wrap<0),te=Math.abs(Z.wrap*2)-+(Z.wrap<0);return ve.overscaledZ-Z.overscaledZ||te-pe||Z.canonical.y-ve.canonical.y||Z.canonical.x-ve.canonical.x}function $t(ve){return ve==="raster"||ve==="image"||ve==="video"}function fr(){return new a.window.Worker(lo.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new fr);return this.active[Z]=!0,this.workers.slice()},dr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(pe){pe.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[cr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var Ye=Math.floor(a.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(Ye,6),1);var Ge;function zt(){return Ge||(Ge=new dr),Ge}function Ft(){var ve=zt();ve.acquire(cr)}function Jt(){var ve=Ge;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(cr),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function tr(ve,Z){var pe={};for(var te in ve)te!=="ref"&&(pe[te]=ve[te]);return a.refProperties.forEach(function(ge){ge in Z&&(pe[ge]=Z[ge])}),pe}function ur(ve){ve=ve.slice();for(var Z=Object.create(null),pe=0;pe<ve.length;pe++)Z[ve[pe].id]=ve[pe];for(var te=0;te<ve.length;te++)"ref"in ve[te]&&(ve[te]=tr(ve[te],Z[ve[te].ref]));return ve}function nr(){var ve={},Z=a.styleSpec.$version;for(var pe in a.styleSpec.$root){var te=a.styleSpec.$root[pe];if(te.required){var ge=null;pe==="version"?ge=Z:te.type==="array"?ge=[]:ge={},ge!=null&&(ve[pe]=ge)}}return ve}var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(ve,Z,pe){pe.push({command:Nt.addSource,args:[ve,Z[ve]]})}function gr(ve,Z,pe){Z.push({command:Nt.removeSource,args:[ve]}),pe[ve]=!0}function br(ve,Z,pe,te){gr(ve,pe,te),hr(ve,Z,pe)}function vr(ve,Z,pe){var te;for(te in ve[pe])if(ve[pe].hasOwnProperty(te)&&te!=="data"&&!a.deepEqual(ve[pe][te],Z[pe][te]))return!1;for(te in Z[pe])if(Z[pe].hasOwnProperty(te)&&te!=="data"&&!a.deepEqual(ve[pe][te],Z[pe][te]))return!1;return!0}function Gr(ve,Z,pe,te){ve=ve||{},Z=Z||{};var ge;for(ge in ve)ve.hasOwnProperty(ge)&&(Z.hasOwnProperty(ge)||gr(ge,pe,te));for(ge in Z)Z.hasOwnProperty(ge)&&(ve.hasOwnProperty(ge)?a.deepEqual(ve[ge],Z[ge])||(ve[ge].type==="geojson"&&Z[ge].type==="geojson"&&vr(ve,Z,ge)?pe.push({command:Nt.setGeoJSONSourceData,args:[ge,Z[ge].data]}):br(ge,Z,pe,te)):hr(ge,Z,pe))}function Dr(ve,Z,pe,te,ge,Fe){ve=ve||{},Z=Z||{};var $e;for($e in ve)ve.hasOwnProperty($e)&&(a.deepEqual(ve[$e],Z[$e])||pe.push({command:Fe,args:[te,$e,Z[$e],ge]}));for($e in Z)!Z.hasOwnProperty($e)||ve.hasOwnProperty($e)||a.deepEqual(ve[$e],Z[$e])||pe.push({command:Fe,args:[te,$e,Z[$e],ge]})}function _r(ve){return ve.id}function hn(ve,Z){return ve[Z.id]=Z,ve}function nn(ve,Z,pe){ve=ve||[],Z=Z||[];var te=ve.map(_r),ge=Z.map(_r),Fe=ve.reduce(hn,{}),$e=Z.reduce(hn,{}),ft=te.slice(),Lt=Object.create(null),jt,qt,lr,or,Fr,Xr,Yr;for(jt=0,qt=0;jt<te.length;jt++)lr=te[jt],$e.hasOwnProperty(lr)?qt++:(pe.push({command:Nt.removeLayer,args:[lr]}),ft.splice(ft.indexOf(lr,qt),1));for(jt=0,qt=0;jt<ge.length;jt++)lr=ge[ge.length-1-jt],ft[ft.length-1-jt]!==lr&&(Fe.hasOwnProperty(lr)?(pe.push({command:Nt.removeLayer,args:[lr]}),ft.splice(ft.lastIndexOf(lr,ft.length-qt),1)):qt++,Xr=ft[ft.length-jt],pe.push({command:Nt.addLayer,args:[$e[lr],Xr]}),ft.splice(ft.length-jt,0,lr),Lt[lr]=!0);for(jt=0;jt<ge.length;jt++)if(lr=ge[jt],or=Fe[lr],Fr=$e[lr],!(Lt[lr]||a.deepEqual(or,Fr))){if(!a.deepEqual(or.source,Fr.source)||!a.deepEqual(or["source-layer"],Fr["source-layer"])||!a.deepEqual(or.type,Fr.type)){pe.push({command:Nt.removeLayer,args:[lr]}),Xr=ft[ft.lastIndexOf(lr)+1],pe.push({command:Nt.addLayer,args:[Fr,Xr]});continue}Dr(or.layout,Fr.layout,pe,lr,null,Nt.setLayoutProperty),Dr(or.paint,Fr.paint,pe,lr,null,Nt.setPaintProperty),a.deepEqual(or.filter,Fr.filter)||pe.push({command:Nt.setFilter,args:[lr,Fr.filter]}),(!a.deepEqual(or.minzoom,Fr.minzoom)||!a.deepEqual(or.maxzoom,Fr.maxzoom))&&pe.push({command:Nt.setLayerZoomRange,args:[lr,Fr.minzoom,Fr.maxzoom]});for(Yr in or)or.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Dr(or[Yr],Fr[Yr],pe,lr,Yr.slice(6),Nt.setPaintProperty):a.deepEqual(or[Yr],Fr[Yr])||pe.push({command:Nt.setLayerProperty,args:[lr,Yr,Fr[Yr]]})));for(Yr in Fr)!Fr.hasOwnProperty(Yr)||or.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Dr(or[Yr],Fr[Yr],pe,lr,Yr.slice(6),Nt.setPaintProperty):a.deepEqual(or[Yr],Fr[Yr])||pe.push({command:Nt.setLayerProperty,args:[lr,Yr,Fr[Yr]]}))}}function Pn(ve,Z){if(!ve)return[{command:Nt.setStyle,args:[Z]}];var pe=[];try{if(!a.deepEqual(ve.version,Z.version))return[{command:Nt.setStyle,args:[Z]}];a.deepEqual(ve.center,Z.center)||pe.push({command:Nt.setCenter,args:[Z.center]}),a.deepEqual(ve.zoom,Z.zoom)||pe.push({command:Nt.setZoom,args:[Z.zoom]}),a.deepEqual(ve.bearing,Z.bearing)||pe.push({command:Nt.setBearing,args:[Z.bearing]}),a.deepEqual(ve.pitch,Z.pitch)||pe.push({command:Nt.setPitch,args:[Z.pitch]}),a.deepEqual(ve.sprite,Z.sprite)||pe.push({command:Nt.setSprite,args:[Z.sprite]}),a.deepEqual(ve.glyphs,Z.glyphs)||pe.push({command:Nt.setGlyphs,args:[Z.glyphs]}),a.deepEqual(ve.transition,Z.transition)||pe.push({command:Nt.setTransition,args:[Z.transition]}),a.deepEqual(ve.light,Z.light)||pe.push({command:Nt.setLight,args:[Z.light]});var te={},ge=[];Gr(ve.sources,Z.sources,ge,te);var Fe=[];ve.layers&&ve.layers.forEach(function($e){te[$e.source]?pe.push({command:Nt.removeLayer,args:[$e.id]}):Fe.push($e)}),pe=pe.concat(ge),nn(Fe,Z.layers,pe)}catch($e){console.warn("Unable to compute style diff:",$e),pe=[{command:Nt.setStyle,args:[Z]}]}return pe}var Cn=function(Z,pe){this.reset(Z,pe)};Cn.prototype.reset=function(Z,pe){this.points=Z||[],this._distances=[0];for(var te=1;te<this.points.length;te++)this._distances[te]=this._distances[te-1]+this.points[te].dist(this.points[te-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(pe||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Cn.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=a.clamp(Z,0,1);for(var pe=1,te=this._distances[pe],ge=Z*this.paddedLength+this.padding;te<ge&&pe<this._distances.length;)te=this._distances[++pe];var Fe=pe-1,$e=this._distances[Fe],ft=te-$e,Lt=ft>0?(ge-$e)/ft:0;return this.points[Fe].mult(1-Lt).add(this.points[pe].mult(Lt))};var Ar=function(Z,pe,te){var ge=this.boxCells=[],Fe=this.circleCells=[];this.xCellCount=Math.ceil(Z/te),this.yCellCount=Math.ceil(pe/te);for(var $e=0;$e<this.xCellCount*this.yCellCount;$e++)ge.push([]),Fe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=pe,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/pe,this.boxUid=0,this.circleUid=0};Ar.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ar.prototype.insert=function(Z,pe,te,ge,Fe){this._forEachCell(pe,te,ge,Fe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(pe),this.bboxes.push(te),this.bboxes.push(ge),this.bboxes.push(Fe)},Ar.prototype.insertCircle=function(Z,pe,te,ge){this._forEachCell(pe-ge,te-ge,pe+ge,te+ge,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(pe),this.circles.push(te),this.circles.push(ge)},Ar.prototype._insertBoxCell=function(Z,pe,te,ge,Fe,$e){this.boxCells[Fe].push($e)},Ar.prototype._insertCircleCell=function(Z,pe,te,ge,Fe,$e){this.circleCells[Fe].push($e)},Ar.prototype._query=function(Z,pe,te,ge,Fe,$e){if(te<0||Z>this.width||ge<0||pe>this.height)return Fe?!1:[];var ft=[];if(Z<=0&&pe<=0&&this.width<=te&&this.height<=ge){if(Fe)return!0;for(var Lt=0;Lt<this.boxKeys.length;Lt++)ft.push({key:this.boxKeys[Lt],x1:this.bboxes[Lt*4],y1:this.bboxes[Lt*4+1],x2:this.bboxes[Lt*4+2],y2:this.bboxes[Lt*4+3]});for(var jt=0;jt<this.circleKeys.length;jt++){var qt=this.circles[jt*3],lr=this.circles[jt*3+1],or=this.circles[jt*3+2];ft.push({key:this.circleKeys[jt],x1:qt-or,y1:lr-or,x2:qt+or,y2:lr+or})}return $e?ft.filter($e):ft}else{var Fr={hitTest:Fe,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,pe,te,ge,this._queryCell,ft,Fr,$e),Fe?ft.length>0:ft}},Ar.prototype._queryCircle=function(Z,pe,te,ge,Fe){var $e=Z-te,ft=Z+te,Lt=pe-te,jt=pe+te;if(ft<0||$e>this.width||jt<0||Lt>this.height)return ge?!1:[];var qt=[],lr={hitTest:ge,circle:{x:Z,y:pe,radius:te},seenUids:{box:{},circle:{}}};return this._forEachCell($e,Lt,ft,jt,this._queryCellCircle,qt,lr,Fe),ge?qt.length>0:qt},Ar.prototype.query=function(Z,pe,te,ge,Fe){return this._query(Z,pe,te,ge,!1,Fe)},Ar.prototype.hitTest=function(Z,pe,te,ge,Fe){return this._query(Z,pe,te,ge,!0,Fe)},Ar.prototype.hitTestCircle=function(Z,pe,te,ge){return this._queryCircle(Z,pe,te,!0,ge)},Ar.prototype._queryCell=function(Z,pe,te,ge,Fe,$e,ft,Lt){var jt=ft.seenUids,qt=this.boxCells[Fe];if(qt!==null)for(var lr=this.bboxes,or=0,Fr=qt;or<Fr.length;or+=1){var Xr=Fr[or];if(!jt.box[Xr]){jt.box[Xr]=!0;var Yr=Xr*4;if(Z<=lr[Yr+2]&&pe<=lr[Yr+3]&&te>=lr[Yr+0]&&ge>=lr[Yr+1]&&(!Lt||Lt(this.boxKeys[Xr]))){if(ft.hitTest)return $e.push(!0),!0;$e.push({key:this.boxKeys[Xr],x1:lr[Yr],y1:lr[Yr+1],x2:lr[Yr+2],y2:lr[Yr+3]})}}}var Hr=this.circleCells[Fe];if(Hr!==null)for(var Jr=this.circles,cn=0,Fn=Hr;cn<Fn.length;cn+=1){var Bn=Fn[cn];if(!jt.circle[Bn]){jt.circle[Bn]=!0;var Yn=Bn*3;if(this._circleAndRectCollide(Jr[Yn],Jr[Yn+1],Jr[Yn+2],Z,pe,te,ge)&&(!Lt||Lt(this.circleKeys[Bn]))){if(ft.hitTest)return $e.push(!0),!0;var Xn=Jr[Yn],Gn=Jr[Yn+1],Kn=Jr[Yn+2];$e.push({key:this.circleKeys[Bn],x1:Xn-Kn,y1:Gn-Kn,x2:Xn+Kn,y2:Gn+Kn})}}}},Ar.prototype._queryCellCircle=function(Z,pe,te,ge,Fe,$e,ft,Lt){var jt=ft.circle,qt=ft.seenUids,lr=this.boxCells[Fe];if(lr!==null)for(var or=this.bboxes,Fr=0,Xr=lr;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr];if(!qt.box[Yr]){qt.box[Yr]=!0;var Hr=Yr*4;if(this._circleAndRectCollide(jt.x,jt.y,jt.radius,or[Hr+0],or[Hr+1],or[Hr+2],or[Hr+3])&&(!Lt||Lt(this.boxKeys[Yr])))return $e.push(!0),!0}}var Jr=this.circleCells[Fe];if(Jr!==null)for(var cn=this.circles,Fn=0,Bn=Jr;Fn<Bn.length;Fn+=1){var Yn=Bn[Fn];if(!qt.circle[Yn]){qt.circle[Yn]=!0;var Xn=Yn*3;if(this._circlesCollide(cn[Xn],cn[Xn+1],cn[Xn+2],jt.x,jt.y,jt.radius)&&(!Lt||Lt(this.circleKeys[Yn])))return $e.push(!0),!0}}},Ar.prototype._forEachCell=function(Z,pe,te,ge,Fe,$e,ft,Lt){for(var jt=this._convertToXCellCoord(Z),qt=this._convertToYCellCoord(pe),lr=this._convertToXCellCoord(te),or=this._convertToYCellCoord(ge),Fr=jt;Fr<=lr;Fr++)for(var Xr=qt;Xr<=or;Xr++){var Yr=this.xCellCount*Xr+Fr;if(Fe.call(this,Z,pe,te,ge,Yr,$e,ft,Lt))return}},Ar.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},Ar.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},Ar.prototype._circlesCollide=function(Z,pe,te,ge,Fe,$e){var ft=ge-Z,Lt=Fe-pe,jt=te+$e;return jt*jt>ft*ft+Lt*Lt},Ar.prototype._circleAndRectCollide=function(Z,pe,te,ge,Fe,$e,ft){var Lt=($e-ge)/2,jt=Math.abs(Z-(ge+Lt));if(jt>Lt+te)return!1;var qt=(ft-Fe)/2,lr=Math.abs(pe-(Fe+qt));if(lr>qt+te)return!1;if(jt<=Lt||lr<=qt)return!0;var or=jt-Lt,Fr=lr-qt;return or*or+Fr*Fr<=te*te};function Pr(ve,Z,pe,te,ge){var Fe=a.create();return Z?(a.scale(Fe,Fe,[1/ge,1/ge,1]),pe||a.rotateZ(Fe,Fe,te.angle)):a.multiply(Fe,te.labelPlaneMatrix,ve),Fe}function Wr(ve,Z,pe,te,ge){if(Z){var Fe=a.clone(ve);return a.scale(Fe,Fe,[ge,ge,1]),pe||a.rotateZ(Fe,Fe,-te.angle),Fe}else return te.glCoordMatrix}function Vr(ve,Z){var pe=[ve.x,ve.y,0,1];Tr(pe,pe,Z);var te=pe[3];return{point:new a.Point(pe[0]/te,pe[1]/te),signedDistanceFromCamera:te}}function on(ve,Z){return .5+.5*(ve/Z)}function yn(ve,Z){var pe=ve[0]/ve[3],te=ve[1]/ve[3],ge=pe>=-Z[0]&&pe<=Z[0]&&te>=-Z[1]&&te<=Z[1];return ge}function mn(ve,Z,pe,te,ge,Fe,$e,ft){var Lt=te?ve.textSizeData:ve.iconSizeData,jt=a.evaluateSizeForZoom(Lt,pe.transform.zoom),qt=[256/pe.width*2+1,256/pe.height*2+1],lr=te?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;lr.clear();for(var or=ve.lineVertexArray,Fr=te?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,Xr=pe.transform.width/pe.transform.height,Yr=!1,Hr=0;Hr<Fr.length;Hr++){var Jr=Fr.get(Hr);if(Jr.hidden||Jr.writingMode===a.WritingMode.vertical&&!Yr){na(Jr.numGlyphs,lr);continue}Yr=!1;var cn=[Jr.anchorX,Jr.anchorY,0,1];if(a.transformMat4(cn,cn,Z),!yn(cn,qt)){na(Jr.numGlyphs,lr);continue}var Fn=cn[3],Bn=on(pe.transform.cameraToCenterDistance,Fn),Yn=a.evaluateSizeForFeature(Lt,jt,Jr),Xn=$e?Yn/Bn:Yn*Bn,Gn=new a.Point(Jr.anchorX,Jr.anchorY),Kn=Vr(Gn,ge).point,ta={},la=aa(Jr,Xn,!1,ft,Z,ge,Fe,ve.glyphOffsetArray,or,lr,Kn,Gn,ta,Xr);Yr=la.useVertical,(la.notEnoughRoom||Yr||la.needsFlipping&&aa(Jr,Xn,!0,ft,Z,ge,Fe,ve.glyphOffsetArray,or,lr,Kn,Gn,ta,Xr).notEnoughRoom)&&na(Jr.numGlyphs,lr)}te?ve.text.dynamicLayoutVertexBuffer.updateData(lr):ve.icon.dynamicLayoutVertexBuffer.updateData(lr)}function Ln(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt){var lr=ft.glyphStartIndex+ft.numGlyphs,or=ft.lineStartIndex,Fr=ft.lineStartIndex+ft.lineLength,Xr=Z.getoffsetX(ft.glyphStartIndex),Yr=Z.getoffsetX(lr-1),Hr=pa(ve*Xr,pe,te,ge,Fe,$e,ft.segment,or,Fr,Lt,jt,qt);if(!Hr)return null;var Jr=pa(ve*Yr,pe,te,ge,Fe,$e,ft.segment,or,Fr,Lt,jt,qt);return Jr?{first:Hr,last:Jr}:null}function zn(ve,Z,pe,te){if(ve===a.WritingMode.horizontal){var ge=Math.abs(pe.y-Z.y),Fe=Math.abs(pe.x-Z.x)*te;if(ge>Fe)return{useVertical:!0}}return(ve===a.WritingMode.vertical?Z.y<pe.y:Z.x>pe.x)?{needsFlipping:!0}:null}function aa(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt,lr,or,Fr){var Xr=Z/24,Yr=ve.lineOffsetX*Xr,Hr=ve.lineOffsetY*Xr,Jr;if(ve.numGlyphs>1){var cn=ve.glyphStartIndex+ve.numGlyphs,Fn=ve.lineStartIndex,Bn=ve.lineStartIndex+ve.lineLength,Yn=Ln(Xr,ft,Yr,Hr,pe,qt,lr,ve,Lt,Fe,or);if(!Yn)return{notEnoughRoom:!0};var Xn=Vr(Yn.first.point,$e).point,Gn=Vr(Yn.last.point,$e).point;if(te&&!pe){var Kn=zn(ve.writingMode,Xn,Gn,Fr);if(Kn)return Kn}Jr=[Yn.first];for(var ta=ve.glyphStartIndex+1;ta<cn-1;ta++)Jr.push(pa(Xr*ft.getoffsetX(ta),Yr,Hr,pe,qt,lr,ve.segment,Fn,Bn,Lt,Fe,or));Jr.push(Yn.last)}else{if(te&&!pe){var la=Vr(lr,ge).point,ba=ve.lineStartIndex+ve.segment+1,va=new a.Point(Lt.getx(ba),Lt.gety(ba)),Oa=Vr(va,ge),$a=Oa.signedDistanceFromCamera>0?Oa.point:ha(lr,va,la,1,ge),Wa=zn(ve.writingMode,la,$a,Fr);if(Wa)return Wa}var Ma=pa(Xr*ft.getoffsetX(ve.glyphStartIndex),Yr,Hr,pe,qt,lr,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Lt,Fe,or);if(!Ma)return{notEnoughRoom:!0};Jr=[Ma]}for(var Ya=0,ja=Jr;Ya<ja.length;Ya+=1){var ii=ja[Ya];a.addDynamicAttributes(jt,ii.point,ii.angle)}return{}}function ha(ve,Z,pe,te,ge){var Fe=Vr(ve.add(ve.sub(Z)._unit()),ge).point,$e=pe.sub(Fe);return pe.add($e._mult(te/$e.mag()))}function pa(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt,lr){var or=te?ve-Z:ve+Z,Fr=or>0?1:-1,Xr=0;te&&(Fr*=-1,Xr=Math.PI),Fr<0&&(Xr+=Math.PI);for(var Yr=Fr>0?ft+$e:ft+$e+1,Hr=ge,Jr=ge,cn=0,Fn=0,Bn=Math.abs(or),Yn=[];cn+Fn<=Bn;){if(Yr+=Fr,Yr<ft||Yr>=Lt)return null;if(Jr=Hr,Yn.push(Hr),Hr=lr[Yr],Hr===void 0){var Xn=new a.Point(jt.getx(Yr),jt.gety(Yr)),Gn=Vr(Xn,qt);if(Gn.signedDistanceFromCamera>0)Hr=lr[Yr]=Gn.point;else{var Kn=Yr-Fr,ta=cn===0?Fe:new a.Point(jt.getx(Kn),jt.gety(Kn));Hr=ha(ta,Xn,Jr,Bn-cn+1,qt)}}cn+=Fn,Fn=Jr.dist(Hr)}var la=(Bn-cn)/Fn,ba=Hr.sub(Jr),va=ba.mult(la)._add(Jr);va._add(ba._unit()._perp()._mult(pe*Fr));var Oa=Xr+Math.atan2(Hr.y-Jr.y,Hr.x-Jr.x);return Yn.push(va),{point:va,angle:Oa,path:Yn}}var ua=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function na(ve,Z){for(var pe=0;pe<ve;pe++){var te=Z.length;Z.resize(te+4),Z.float32.set(ua,te*3)}}function Tr(ve,Z,pe){var te=Z[0],ge=Z[1];return ve[0]=pe[0]*te+pe[4]*ge+pe[12],ve[1]=pe[1]*te+pe[5]*ge+pe[13],ve[3]=pe[3]*te+pe[7]*ge+pe[15],ve}var an=100,qr=function(Z,pe,te){pe===void 0&&(pe=new Ar(Z.width+2*an,Z.height+2*an,25)),te===void 0&&(te=new Ar(Z.width+2*an,Z.height+2*an,25)),this.transform=Z,this.grid=pe,this.ignoredGrid=te,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+an,this.screenBottomBoundary=Z.height+an,this.gridRightBoundary=Z.width+2*an,this.gridBottomBoundary=Z.height+2*an};qr.prototype.placeCollisionBox=function(Z,pe,te,ge,Fe){var $e=this.projectAndGetPerspectiveRatio(ge,Z.anchorPointX,Z.anchorPointY),ft=te*$e.perspectiveRatio,Lt=Z.x1*ft+$e.point.x,jt=Z.y1*ft+$e.point.y,qt=Z.x2*ft+$e.point.x,lr=Z.y2*ft+$e.point.y;return!this.isInsideGrid(Lt,jt,qt,lr)||!pe&&this.grid.hitTest(Lt,jt,qt,lr,Fe)?{box:[],offscreen:!1}:{box:[Lt,jt,qt,lr],offscreen:this.isOffscreen(Lt,jt,qt,lr)}},qr.prototype.placeCollisionCircles=function(Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt,lr,or,Fr){var Xr=[],Yr=new a.Point(pe.anchorX,pe.anchorY),Hr=Vr(Yr,$e),Jr=on(this.transform.cameraToCenterDistance,Hr.signedDistanceFromCamera),cn=qt?Fe/Jr:Fe*Jr,Fn=cn/a.ONE_EM,Bn=Vr(Yr,ft).point,Yn={},Xn=pe.lineOffsetX*Fn,Gn=pe.lineOffsetY*Fn,Kn=Ln(Fn,ge,Xn,Gn,!1,Bn,Yr,pe,te,ft,Yn),ta=!1,la=!1,ba=!0;if(Kn){for(var va=or*.5*Jr+Fr,Oa=new a.Point(-an,-an),$a=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Wa=new Cn,Ma=Kn.first,Ya=Kn.last,ja=[],ii=Ma.path.length-1;ii>=1;ii--)ja.push(Ma.path[ii]);for(var ei=1;ei<Ya.path.length;ei++)ja.push(Ya.path[ei]);var Ai=va*2.5;if(Lt){var Ja=ja.map(function(Dl){return Vr(Dl,Lt)});Ja.some(function(Dl){return Dl.signedDistanceFromCamera<=0})?ja=[]:ja=Ja.map(function(Dl){return Dl.point})}var yi=[];if(ja.length>0){for(var Ha=ja[0].clone(),Qa=ja[0].clone(),Vi=1;Vi<ja.length;Vi++)Ha.x=Math.min(Ha.x,ja[Vi].x),Ha.y=Math.min(Ha.y,ja[Vi].y),Qa.x=Math.max(Qa.x,ja[Vi].x),Qa.y=Math.max(Qa.y,ja[Vi].y);Ha.x>=Oa.x&&Qa.x<=$a.x&&Ha.y>=Oa.y&&Qa.y<=$a.y?yi=[ja]:Qa.x<Oa.x||Ha.x>$a.x||Qa.y<Oa.y||Ha.y>$a.y?yi=[]:yi=a.clipLine([ja],Oa.x,Oa.y,$a.x,$a.y)}for(var bo=0,ul=yi;bo<ul.length;bo+=1){var fl=ul[bo];Wa.reset(fl,va*.25);var Pl=0;Wa.length<=.5*va?Pl=1:Pl=Math.ceil(Wa.paddedLength/Ai)+1;for(var su=0;su<Pl;su++){var tc=su/Math.max(Pl-1,1),lu=Wa.lerp(tc),hs=lu.x+an,uu=lu.y+an;Xr.push(hs,uu,va,0);var Ls=hs-va,vs=uu-va,Rl=hs+va,Gu=uu+va;if(ba=ba&&this.isOffscreen(Ls,vs,Rl,Gu),la=la||this.isInsideGrid(Ls,vs,Rl,Gu),!Z&&this.grid.hitTestCircle(hs,uu,va,lr)&&(ta=!0,!jt))return{circles:[],offscreen:!1,collisionDetected:ta}}}}return{circles:!jt&&ta||!la?[]:Xr,offscreen:ba,collisionDetected:ta}},qr.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var pe=[],te=1/0,ge=1/0,Fe=-1/0,$e=-1/0,ft=0,Lt=Z;ft<Lt.length;ft+=1){var jt=Lt[ft],qt=new a.Point(jt.x+an,jt.y+an);te=Math.min(te,qt.x),ge=Math.min(ge,qt.y),Fe=Math.max(Fe,qt.x),$e=Math.max($e,qt.y),pe.push(qt)}for(var lr=this.grid.query(te,ge,Fe,$e).concat(this.ignoredGrid.query(te,ge,Fe,$e)),or={},Fr={},Xr=0,Yr=lr;Xr<Yr.length;Xr+=1){var Hr=Yr[Xr],Jr=Hr.key;if(or[Jr.bucketInstanceId]===void 0&&(or[Jr.bucketInstanceId]={}),!or[Jr.bucketInstanceId][Jr.featureIndex]){var cn=[new a.Point(Hr.x1,Hr.y1),new a.Point(Hr.x2,Hr.y1),new a.Point(Hr.x2,Hr.y2),new a.Point(Hr.x1,Hr.y2)];a.polygonIntersectsPolygon(pe,cn)&&(or[Jr.bucketInstanceId][Jr.featureIndex]=!0,Fr[Jr.bucketInstanceId]===void 0&&(Fr[Jr.bucketInstanceId]=[]),Fr[Jr.bucketInstanceId].push(Jr.featureIndex))}}return Fr},qr.prototype.insertCollisionBox=function(Z,pe,te,ge,Fe){var $e=pe?this.ignoredGrid:this.grid,ft={bucketInstanceId:te,featureIndex:ge,collisionGroupID:Fe};$e.insert(ft,Z[0],Z[1],Z[2],Z[3])},qr.prototype.insertCollisionCircles=function(Z,pe,te,ge,Fe){for(var $e=pe?this.ignoredGrid:this.grid,ft={bucketInstanceId:te,featureIndex:ge,collisionGroupID:Fe},Lt=0;Lt<Z.length;Lt+=4)$e.insertCircle(ft,Z[Lt],Z[Lt+1],Z[Lt+2])},qr.prototype.projectAndGetPerspectiveRatio=function(Z,pe,te){var ge=[pe,te,0,1];Tr(ge,ge,Z);var Fe=new a.Point((ge[0]/ge[3]+1)/2*this.transform.width+an,(-ge[1]/ge[3]+1)/2*this.transform.height+an);return{point:Fe,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ge[3])}},qr.prototype.isOffscreen=function(Z,pe,te,ge){return te<an||Z>=this.screenRightBoundary||ge<an||pe>this.screenBottomBoundary},qr.prototype.isInsideGrid=function(Z,pe,te,ge){return te>=0&&Z<this.gridRightBoundary&&ge>=0&&pe<this.gridBottomBoundary},qr.prototype.getViewportMatrix=function(){var Z=a.identity([]);return a.translate(Z,Z,[-an,-an,0]),Z};function gn(ve,Z,pe){return Z*(a.EXTENT/(ve.tileSize*Math.pow(2,pe-ve.tileID.overscaledZ)))}var Hn=function(Z,pe,te,ge){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?pe:-pe))):this.opacity=ge&&te?1:0,this.placed=te};Hn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var An=function(Z,pe,te,ge,Fe){this.text=new Hn(Z?Z.text:null,pe,te,Fe),this.icon=new Hn(Z?Z.icon:null,pe,ge,Fe)};An.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Sn=function(Z,pe,te){this.text=Z,this.icon=pe,this.skipFade=te},Un=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},$n=function(Z,pe,te,ge,Fe){this.bucketInstanceId=Z,this.featureIndex=pe,this.sourceLayerIndex=te,this.bucketIndex=ge,this.tileID=Fe},ya=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};ya.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var pe=++this.maxGroupID;this.collisionGroups[Z]={ID:pe,predicate:function(te){return te.collisionGroupID===pe}}}return this.collisionGroups[Z]};function _a(ve,Z,pe,te,ge){var Fe=a.getAnchorAlignment(ve),$e=Fe.horizontalAlign,ft=Fe.verticalAlign,Lt=-($e-.5)*Z,jt=-(ft-.5)*pe,qt=a.evaluateVariableOffset(ve,te);return new a.Point(Lt+qt[0]*ge,jt+qt[1]*ge)}function Er(ve,Z,pe,te,ge,Fe){var $e=ve.x1,ft=ve.x2,Lt=ve.y1,jt=ve.y2,qt=ve.anchorPointX,lr=ve.anchorPointY,or=new a.Point(Z,pe);return te&&or._rotate(ge?Fe:-Fe),{x1:$e+or.x,y1:Lt+or.y,x2:ft+or.x,y2:jt+or.y,anchorPointX:qt,anchorPointY:lr}}var zr=function(Z,pe,te,ge){this.transform=Z.clone(),this.collisionIndex=new qr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=pe,this.retainedQueryData={},this.collisionGroups=new ya(te),this.collisionCircleArrays={},this.prevPlacement=ge,ge&&(ge.prevPlacement=void 0),this.placedOrientations={}};zr.prototype.getBucketParts=function(Z,pe,te,ge){var Fe=te.getBucket(pe),$e=te.latestFeatureIndex;if(!(!Fe||!$e||pe.id!==Fe.layerIds[0])){var ft=te.collisionBoxArray,Lt=Fe.layers[0].layout,jt=Math.pow(2,this.transform.zoom-te.tileID.overscaledZ),qt=te.tileSize/a.EXTENT,lr=this.transform.calculatePosMatrix(te.tileID.toUnwrapped()),or=Lt.get("text-pitch-alignment")==="map",Fr=Lt.get("text-rotation-alignment")==="map",Xr=gn(te,1,this.transform.zoom),Yr=Pr(lr,or,Fr,this.transform,Xr),Hr=null;if(or){var Jr=Wr(lr,or,Fr,this.transform,Xr);Hr=a.multiply([],this.transform.labelPlaneMatrix,Jr)}this.retainedQueryData[Fe.bucketInstanceId]=new $n(Fe.bucketInstanceId,$e,Fe.sourceLayerIndex,Fe.index,te.tileID);var cn={bucket:Fe,layout:Lt,posMatrix:lr,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Hr,scale:jt,textPixelRatio:qt,holdingForFade:te.holdingForFade(),collisionBoxArray:ft,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(Fe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Fe.sourceID)};if(ge)for(var Fn=0,Bn=Fe.sortKeyRanges;Fn<Bn.length;Fn+=1){var Yn=Bn[Fn],Xn=Yn.sortKey,Gn=Yn.symbolInstanceStart,Kn=Yn.symbolInstanceEnd;Z.push({sortKey:Xn,symbolInstanceStart:Gn,symbolInstanceEnd:Kn,parameters:cn})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:Fe.symbolInstances.length,parameters:cn})}},zr.prototype.attemptAnchorPlacement=function(Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt,lr,or,Fr,Xr,Yr){var Hr=[or.textOffset0,or.textOffset1],Jr=_a(Z,te,ge,Hr,Fe),cn=this.collisionIndex.placeCollisionBox(Er(pe,Jr.x,Jr.y,$e,ft,this.transform.angle),lr,Lt,jt,qt.predicate);if(Yr){var Fn=this.collisionIndex.placeCollisionBox(Er(Yr,Jr.x,Jr.y,$e,ft,this.transform.angle),lr,Lt,jt,qt.predicate);if(Fn.box.length===0)return}if(cn.box.length>0){var Bn;return this.prevPlacement&&this.prevPlacement.variableOffsets[or.crossTileID]&&this.prevPlacement.placements[or.crossTileID]&&this.prevPlacement.placements[or.crossTileID].text&&(Bn=this.prevPlacement.variableOffsets[or.crossTileID].anchor),this.variableOffsets[or.crossTileID]={textOffset:Hr,width:te,height:ge,anchor:Z,textBoxScale:Fe,prevAnchor:Bn},this.markUsedJustification(Fr,Z,or,Xr),Fr.allowVerticalPlacement&&(this.markUsedOrientation(Fr,Xr,or),this.placedOrientations[or.crossTileID]=Xr),{shift:Jr,placedGlyphBoxes:cn}}},zr.prototype.placeLayerBucketPart=function(Z,pe,te){var ge=this,Fe=Z.parameters,$e=Fe.bucket,ft=Fe.layout,Lt=Fe.posMatrix,jt=Fe.textLabelPlaneMatrix,qt=Fe.labelToScreenMatrix,lr=Fe.textPixelRatio,or=Fe.holdingForFade,Fr=Fe.collisionBoxArray,Xr=Fe.partiallyEvaluatedTextSize,Yr=Fe.collisionGroup,Hr=ft.get("text-optional"),Jr=ft.get("icon-optional"),cn=ft.get("text-allow-overlap"),Fn=ft.get("icon-allow-overlap"),Bn=ft.get("text-rotation-alignment")==="map",Yn=ft.get("text-pitch-alignment")==="map",Xn=ft.get("icon-text-fit")!=="none",Gn=ft.get("symbol-z-order")==="viewport-y",Kn=cn&&(Fn||!$e.hasIconData()||Jr),ta=Fn&&(cn||!$e.hasTextData()||Hr);!$e.collisionArrays&&Fr&&$e.deserializeCollisionBoxes(Fr);var la=function(Ma,Ya){if(!pe[Ma.crossTileID]){if(or){ge.placements[Ma.crossTileID]=new Sn(!1,!1,!1);return}var ja=!1,ii=!1,ei=!0,Ai=null,Ja={box:null,offscreen:null},yi={box:null,offscreen:null},Ha=null,Qa=null,Vi=null,bo=0,ul=0,fl=0;Ya.textFeatureIndex?bo=Ya.textFeatureIndex:Ma.useRuntimeCollisionCircles&&(bo=Ma.featureIndex),Ya.verticalTextFeatureIndex&&(ul=Ya.verticalTextFeatureIndex);var Pl=Ya.textBox;if(Pl){var su=function(Xi){var Ps=a.WritingMode.horizontal;if($e.allowVerticalPlacement&&!Xi&&ge.prevPlacement){var Rs=ge.prevPlacement.placedOrientations[Ma.crossTileID];Rs&&(ge.placedOrientations[Ma.crossTileID]=Rs,Ps=Rs,ge.markUsedOrientation($e,Ps,Ma))}return Ps},tc=function(Xi,Ps){if($e.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Ya.verticalTextBox)for(var Rs=0,Fv=$e.writingModes;Rs<Fv.length;Rs+=1){var Hd=Fv[Rs];if(Hd===a.WritingMode.vertical?(Ja=Ps(),yi=Ja):Ja=Xi(),Ja&&Ja.box&&Ja.box.length)break}else Ja=Xi()};if(ft.get("text-variable-anchor")){var Ls=ft.get("text-variable-anchor");if(ge.prevPlacement&&ge.prevPlacement.variableOffsets[Ma.crossTileID]){var vs=ge.prevPlacement.variableOffsets[Ma.crossTileID];Ls.indexOf(vs.anchor)>0&&(Ls=Ls.filter(function(Xi){return Xi!==vs.anchor}),Ls.unshift(vs.anchor))}var Rl=function(Xi,Ps,Rs){for(var Fv=Xi.x2-Xi.x1,Hd=Xi.y2-Xi.y1,vm=Ma.textBoxScale,dm=Xn&&!Fn?Ps:null,rv={box:[],offscreen:!1},pm=cn?Ls.length*2:Ls.length,Ov=0;Ov<pm;++Ov){var gm=Ls[Ov%Ls.length],ym=Ov>=Ls.length,Gd=ge.attemptAnchorPlacement(gm,Xi,Fv,Hd,vm,Bn,Yn,lr,Lt,Yr,ym,Ma,$e,Rs,dm);if(Gd&&(rv=Gd.placedGlyphBoxes,rv&&rv.box&&rv.box.length)){ja=!0,Ai=Gd.shift;break}}return rv},Gu=function(){return Rl(Pl,Ya.iconBox,a.WritingMode.horizontal)},Dl=function(){var Xi=Ya.verticalTextBox,Ps=Ja&&Ja.box&&Ja.box.length;return $e.allowVerticalPlacement&&!Ps&&Ma.numVerticalGlyphVertices>0&&Xi?Rl(Xi,Ya.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};tc(Gu,Dl),Ja&&(ja=Ja.box,ei=Ja.offscreen);var Rv=su(Ja&&Ja.box);if(!ja&&ge.prevPlacement){var Zc=ge.prevPlacement.variableOffsets[Ma.crossTileID];Zc&&(ge.variableOffsets[Ma.crossTileID]=Zc,ge.markUsedJustification($e,Zc.anchor,Ma,Rv))}}else{var lu=function(Xi,Ps){var Rs=ge.collisionIndex.placeCollisionBox(Xi,cn,lr,Lt,Yr.predicate);return Rs&&Rs.box&&Rs.box.length&&(ge.markUsedOrientation($e,Ps,Ma),ge.placedOrientations[Ma.crossTileID]=Ps),Rs},hs=function(){return lu(Pl,a.WritingMode.horizontal)},uu=function(){var Xi=Ya.verticalTextBox;return $e.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Xi?lu(Xi,a.WritingMode.vertical):{box:null,offscreen:null}};tc(hs,uu),su(Ja&&Ja.box&&Ja.box.length)}}if(Ha=Ja,ja=Ha&&Ha.box&&Ha.box.length>0,ei=Ha&&Ha.offscreen,Ma.useRuntimeCollisionCircles){var Lo=$e.text.placedSymbolArray.get(Ma.centerJustifiedTextSymbolIndex),Dv=a.evaluateSizeForFeature($e.textSizeData,Xr,Lo),tv=ft.get("text-padding"),Jo=Ma.collisionCircleDiameter;Qa=ge.collisionIndex.placeCollisionCircles(cn,Lo,$e.lineVertexArray,$e.glyphOffsetArray,Dv,Lt,jt,qt,te,Yn,Yr.predicate,Jo,tv),ja=cn||Qa.circles.length>0&&!Qa.collisionDetected,ei=ei&&Qa.offscreen}if(Ya.iconFeatureIndex&&(fl=Ya.iconFeatureIndex),Ya.iconBox){var Kc=function(Xi){var Ps=Xn&&Ai?Er(Xi,Ai.x,Ai.y,Bn,Yn,ge.transform.angle):Xi;return ge.collisionIndex.placeCollisionBox(Ps,Fn,lr,Lt,Yr.predicate)};yi&&yi.box&&yi.box.length&&Ya.verticalIconBox?(Vi=Kc(Ya.verticalIconBox),ii=Vi.box.length>0):(Vi=Kc(Ya.iconBox),ii=Vi.box.length>0),ei=ei&&Vi.offscreen}var Iv=Hr||Ma.numHorizontalGlyphVertices===0&&Ma.numVerticalGlyphVertices===0,_v=Jr||Ma.numIconVertices===0;if(!Iv&&!_v?ii=ja=ii&&ja:_v?Iv||(ii=ii&&ja):ja=ii&&ja,ja&&Ha&&Ha.box&&(yi&&yi.box&&ul?ge.collisionIndex.insertCollisionBox(Ha.box,ft.get("text-ignore-placement"),$e.bucketInstanceId,ul,Yr.ID):ge.collisionIndex.insertCollisionBox(Ha.box,ft.get("text-ignore-placement"),$e.bucketInstanceId,bo,Yr.ID)),ii&&Vi&&ge.collisionIndex.insertCollisionBox(Vi.box,ft.get("icon-ignore-placement"),$e.bucketInstanceId,fl,Yr.ID),Qa&&(ja&&ge.collisionIndex.insertCollisionCircles(Qa.circles,ft.get("text-ignore-placement"),$e.bucketInstanceId,bo,Yr.ID),te)){var kv=$e.bucketInstanceId,Jc=ge.collisionCircleArrays[kv];Jc===void 0&&(Jc=ge.collisionCircleArrays[kv]=new Un);for(var $c=0;$c<Qa.circles.length;$c+=4)Jc.circles.push(Qa.circles[$c+0]),Jc.circles.push(Qa.circles[$c+1]),Jc.circles.push(Qa.circles[$c+2]),Jc.circles.push(Qa.collisionDetected?1:0)}ge.placements[Ma.crossTileID]=new Sn(ja||Kn,ii||ta,ei||$e.justReloaded),pe[Ma.crossTileID]=!0}};if(Gn)for(var ba=$e.getSortedSymbolIndexes(this.transform.angle),va=ba.length-1;va>=0;--va){var Oa=ba[va];la($e.symbolInstances.get(Oa),$e.collisionArrays[Oa])}else for(var $a=Z.symbolInstanceStart;$a<Z.symbolInstanceEnd;$a++)la($e.symbolInstances.get($a),$e.collisionArrays[$a]);if(te&&$e.bucketInstanceId in this.collisionCircleArrays){var Wa=this.collisionCircleArrays[$e.bucketInstanceId];a.invert(Wa.invProjMatrix,Lt),Wa.viewportMatrix=this.collisionIndex.getViewportMatrix()}$e.justReloaded=!1},zr.prototype.markUsedJustification=function(Z,pe,te,ge){var Fe={left:te.leftJustifiedTextSymbolIndex,center:te.centerJustifiedTextSymbolIndex,right:te.rightJustifiedTextSymbolIndex},$e;ge===a.WritingMode.vertical?$e=te.verticalPlacedTextSymbolIndex:$e=Fe[a.getAnchorJustification(pe)];for(var ft=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex,te.verticalPlacedTextSymbolIndex],Lt=0,jt=ft;Lt<jt.length;Lt+=1){var qt=jt[Lt];qt>=0&&($e>=0&&qt!==$e?Z.text.placedSymbolArray.get(qt).crossTileID=0:Z.text.placedSymbolArray.get(qt).crossTileID=te.crossTileID)}},zr.prototype.markUsedOrientation=function(Z,pe,te){for(var ge=pe===a.WritingMode.horizontal||pe===a.WritingMode.horizontalOnly?pe:0,Fe=pe===a.WritingMode.vertical?pe:0,$e=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex],ft=0,Lt=$e;ft<Lt.length;ft+=1){var jt=Lt[ft];Z.text.placedSymbolArray.get(jt).placedOrientation=ge}te.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).placedOrientation=Fe)},zr.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var pe=this.prevPlacement,te=!1;this.prevZoomAdjustment=pe?pe.zoomAdjustment(this.transform.zoom):0;var ge=pe?pe.symbolFadeChange(Z):1,Fe=pe?pe.opacities:{},$e=pe?pe.variableOffsets:{},ft=pe?pe.placedOrientations:{};for(var Lt in this.placements){var jt=this.placements[Lt],qt=Fe[Lt];qt?(this.opacities[Lt]=new An(qt,ge,jt.text,jt.icon),te=te||jt.text!==qt.text.placed||jt.icon!==qt.icon.placed):(this.opacities[Lt]=new An(null,ge,jt.text,jt.icon,jt.skipFade),te=te||jt.text||jt.icon)}for(var lr in Fe){var or=Fe[lr];if(!this.opacities[lr]){var Fr=new An(or,ge,!1,!1);Fr.isHidden()||(this.opacities[lr]=Fr,te=te||or.text.placed||or.icon.placed)}}for(var Xr in $e)!this.variableOffsets[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.variableOffsets[Xr]=$e[Xr]);for(var Yr in ft)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=ft[Yr]);te?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=pe?pe.lastPlacementChangeTime:Z)},zr.prototype.updateLayerOpacities=function(Z,pe){for(var te={},ge=0,Fe=pe;ge<Fe.length;ge+=1){var $e=Fe[ge],ft=$e.getBucket(Z);ft&&$e.latestFeatureIndex&&Z.id===ft.layerIds[0]&&this.updateBucketOpacities(ft,te,$e.collisionBoxArray)}},zr.prototype.updateBucketOpacities=function(Z,pe,te){var ge=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var Fe=Z.layers[0].layout,$e=new An(null,0,!1,!1,!0),ft=Fe.get("text-allow-overlap"),Lt=Fe.get("icon-allow-overlap"),jt=Fe.get("text-variable-anchor"),qt=Fe.get("text-rotation-alignment")==="map",lr=Fe.get("text-pitch-alignment")==="map",or=Fe.get("icon-text-fit")!=="none",Fr=new An(null,0,ft&&(Lt||!Z.hasIconData()||Fe.get("icon-optional")),Lt&&(ft||!Z.hasTextData()||Fe.get("text-optional")),!0);!Z.collisionArrays&&te&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(te);for(var Xr=function(cn,Fn,Bn){for(var Yn=0;Yn<Fn/4;Yn++)cn.opacityVertexArray.emplaceBack(Bn)},Yr=function(cn){var Fn=Z.symbolInstances.get(cn),Bn=Fn.numHorizontalGlyphVertices,Yn=Fn.numVerticalGlyphVertices,Xn=Fn.crossTileID,Gn=pe[Xn],Kn=ge.opacities[Xn];Gn?Kn=$e:Kn||(Kn=Fr,ge.opacities[Xn]=Kn),pe[Xn]=!0;var ta=Bn>0||Yn>0,la=Fn.numIconVertices>0,ba=ge.placedOrientations[Fn.crossTileID],va=ba===a.WritingMode.vertical,Oa=ba===a.WritingMode.horizontal||ba===a.WritingMode.horizontalOnly;if(ta){var $a=jr(Kn.text),Wa=va?Qr:$a;Xr(Z.text,Bn,Wa);var Ma=Oa?Qr:$a;Xr(Z.text,Yn,Ma);var Ya=Kn.text.isHidden();[Fn.rightJustifiedTextSymbolIndex,Fn.centerJustifiedTextSymbolIndex,Fn.leftJustifiedTextSymbolIndex].forEach(function(fl){fl>=0&&(Z.text.placedSymbolArray.get(fl).hidden=Ya||va?1:0)}),Fn.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(Fn.verticalPlacedTextSymbolIndex).hidden=Ya||Oa?1:0);var ja=ge.variableOffsets[Fn.crossTileID];ja&&ge.markUsedJustification(Z,ja.anchor,Fn,ba);var ii=ge.placedOrientations[Fn.crossTileID];ii&&(ge.markUsedJustification(Z,"left",Fn,ii),ge.markUsedOrientation(Z,ii,Fn))}if(la){var ei=jr(Kn.icon),Ai=!(or&&Fn.verticalPlacedIconSymbolIndex&&va);if(Fn.placedIconSymbolIndex>=0){var Ja=Ai?ei:Qr;Xr(Z.icon,Fn.numIconVertices,Ja),Z.icon.placedSymbolArray.get(Fn.placedIconSymbolIndex).hidden=Kn.icon.isHidden()}if(Fn.verticalPlacedIconSymbolIndex>=0){var yi=Ai?Qr:ei;Xr(Z.icon,Fn.numVerticalIconVertices,yi),Z.icon.placedSymbolArray.get(Fn.verticalPlacedIconSymbolIndex).hidden=Kn.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var Ha=Z.collisionArrays[cn];if(Ha){var Qa=new a.Point(0,0);if(Ha.textBox||Ha.verticalTextBox){var Vi=!0;if(jt){var bo=ge.variableOffsets[Xn];bo?(Qa=_a(bo.anchor,bo.width,bo.height,bo.textOffset,bo.textBoxScale),qt&&Qa._rotate(lr?ge.transform.angle:-ge.transform.angle)):Vi=!1}Ha.textBox&&Sr(Z.textCollisionBox.collisionVertexArray,Kn.text.placed,!Vi||va,Qa.x,Qa.y),Ha.verticalTextBox&&Sr(Z.textCollisionBox.collisionVertexArray,Kn.text.placed,!Vi||Oa,Qa.x,Qa.y)}var ul=!!(!Oa&&Ha.verticalIconBox);Ha.iconBox&&Sr(Z.iconCollisionBox.collisionVertexArray,Kn.icon.placed,ul,or?Qa.x:0,or?Qa.y:0),Ha.verticalIconBox&&Sr(Z.iconCollisionBox.collisionVertexArray,Kn.icon.placed,!ul,or?Qa.x:0,or?Qa.y:0)}}},Hr=0;Hr<Z.symbolInstances.length;Hr++)Yr(Hr);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var Jr=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=Jr.invProjMatrix,Z.placementViewportMatrix=Jr.viewportMatrix,Z.collisionCircleArray=Jr.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},zr.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},zr.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},zr.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},zr.prototype.stillRecent=function(Z,pe){var te=this.zoomAtLastRecencyCheck===pe?1-this.zoomAdjustment(pe):1;return this.zoomAtLastRecencyCheck=pe,this.commitTime+this.fadeDuration*te>Z},zr.prototype.setStale=function(){this.stale=!0};function Sr(ve,Z,pe,te,ge){ve.emplaceBack(Z?1:0,pe?1:0,te||0,ge||0),ve.emplaceBack(Z?1:0,pe?1:0,te||0,ge||0),ve.emplaceBack(Z?1:0,pe?1:0,te||0,ge||0),ve.emplaceBack(Z?1:0,pe?1:0,te||0,ge||0)}var Nr=Math.pow(2,25),wn=Math.pow(2,24),kn=Math.pow(2,17),vn=Math.pow(2,16),ln=Math.pow(2,9),Cr=Math.pow(2,8),Zr=Math.pow(2,1);function jr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var Z=ve.placed?1:0,pe=Math.floor(ve.opacity*127);return pe*Nr+Z*wn+pe*kn+Z*vn+pe*ln+Z*Cr+pe*Zr+Z}var Qr=0,Tn=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Tn.prototype.continuePlacement=function(Z,pe,te,ge,Fe){for(var $e=this._bucketParts;this._currentTileIndex<Z.length;){var ft=Z[this._currentTileIndex];if(pe.getBucketParts($e,ge,ft,this._sortAcrossTiles),this._currentTileIndex++,Fe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,$e.sort(function(jt,qt){return jt.sortKey-qt.sortKey}));this._currentPartIndex<$e.length;){var Lt=$e[this._currentPartIndex];if(pe.placeLayerBucketPart(Lt,this._seenCrossTileIDs,te),this._currentPartIndex++,Fe())return!0}return!1};var Rn=function(Z,pe,te,ge,Fe,$e,ft){this.placement=new zr(Z,Fe,$e,ft),this._currentPlacementIndex=pe.length-1,this._forceFullPlacement=te,this._showCollisionBoxes=ge,this._done=!1};Rn.prototype.isDone=function(){return this._done},Rn.prototype.continuePlacement=function(Z,pe,te){for(var ge=this,Fe=a.browser.now(),$e=function(){var lr=a.browser.now()-Fe;return ge._forceFullPlacement?!1:lr>2};this._currentPlacementIndex>=0;){var ft=Z[this._currentPlacementIndex],Lt=pe[ft],jt=this.placement.collisionIndex.transform.zoom;if(Lt.type==="symbol"&&(!Lt.minzoom||Lt.minzoom<=jt)&&(!Lt.maxzoom||Lt.maxzoom>jt)){this._inProgressLayer||(this._inProgressLayer=new Tn(Lt));var qt=this._inProgressLayer.continuePlacement(te[Lt.source],this.placement,this._showCollisionBoxes,Lt,$e);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Rn.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var Dn=512/a.EXTENT/2,Vn=function(Z,pe,te){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=te;for(var ge=0;ge<pe.length;ge++){var Fe=pe.get(ge),$e=Fe.key;this.indexedSymbolInstances[$e]||(this.indexedSymbolInstances[$e]=[]),this.indexedSymbolInstances[$e].push({crossTileID:Fe.crossTileID,coord:this.getScaledCoordinates(Fe,Z)})}};Vn.prototype.getScaledCoordinates=function(Z,pe){var te=pe.canonical.z-this.tileID.canonical.z,ge=Dn/Math.pow(2,te);return{x:Math.floor((pe.canonical.x*a.EXTENT+Z.anchorX)*ge),y:Math.floor((pe.canonical.y*a.EXTENT+Z.anchorY)*ge)}},Vn.prototype.findMatches=function(Z,pe,te){for(var ge=this.tileID.canonical.z<pe.canonical.z?1:Math.pow(2,this.tileID.canonical.z-pe.canonical.z),Fe=0;Fe<Z.length;Fe++){var $e=Z.get(Fe);if(!$e.crossTileID){var ft=this.indexedSymbolInstances[$e.key];if(ft)for(var Lt=this.getScaledCoordinates($e,pe),jt=0,qt=ft;jt<qt.length;jt+=1){var lr=qt[jt];if(Math.abs(lr.coord.x-Lt.x)<=ge&&Math.abs(lr.coord.y-Lt.y)<=ge&&!te[lr.crossTileID]){te[lr.crossTileID]=!0,$e.crossTileID=lr.crossTileID;break}}}}};var Nn=function(){this.maxCrossTileID=0};Nn.prototype.generate=function(){return++this.maxCrossTileID};var ma=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ma.prototype.handleWrapJump=function(Z){var pe=Math.round((Z-this.lng)/360);if(pe!==0)for(var te in this.indexes){var ge=this.indexes[te],Fe={};for(var $e in ge){var ft=ge[$e];ft.tileID=ft.tileID.unwrapTo(ft.tileID.wrap+pe),Fe[ft.tileID.key]=ft}this.indexes[te]=Fe}this.lng=Z},ma.prototype.addBucket=function(Z,pe,te){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===pe.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var ge=0;ge<pe.symbolInstances.length;ge++){var Fe=pe.symbolInstances.get(ge);Fe.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var $e=this.usedCrossTileIDs[Z.overscaledZ];for(var ft in this.indexes){var Lt=this.indexes[ft];if(Number(ft)>Z.overscaledZ)for(var jt in Lt){var qt=Lt[jt];qt.tileID.isChildOf(Z)&&qt.findMatches(pe.symbolInstances,Z,$e)}else{var lr=Z.scaledTo(Number(ft)),or=Lt[lr.key];or&&or.findMatches(pe.symbolInstances,Z,$e)}}for(var Fr=0;Fr<pe.symbolInstances.length;Fr++){var Xr=pe.symbolInstances.get(Fr);Xr.crossTileID||(Xr.crossTileID=te.generate(),$e[Xr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new Vn(Z,pe.symbolInstances,pe.bucketInstanceId),!0},ma.prototype.removeBucketCrossTileIDs=function(Z,pe){for(var te in pe.indexedSymbolInstances)for(var ge=0,Fe=pe.indexedSymbolInstances[te];ge<Fe.length;ge+=1){var $e=Fe[ge];delete this.usedCrossTileIDs[Z][$e.crossTileID]}},ma.prototype.removeStaleBuckets=function(Z){var pe=!1;for(var te in this.indexes){var ge=this.indexes[te];for(var Fe in ge)Z[ge[Fe].bucketInstanceId]||(this.removeBucketCrossTileIDs(te,ge[Fe]),delete ge[Fe],pe=!0)}return pe};var oa=function(){this.layerIndexes={},this.crossTileIDs=new Nn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};oa.prototype.addLayer=function(Z,pe,te){var ge=this.layerIndexes[Z.id];ge===void 0&&(ge=this.layerIndexes[Z.id]=new ma);var Fe=!1,$e={};ge.handleWrapJump(te);for(var ft=0,Lt=pe;ft<Lt.length;ft+=1){var jt=Lt[ft],qt=jt.getBucket(Z);!qt||Z.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),ge.addBucket(jt.tileID,qt,this.crossTileIDs)&&(Fe=!0),$e[qt.bucketInstanceId]=!0)}return ge.removeStaleBuckets($e)&&(Fe=!0),Fe},oa.prototype.pruneUnusedLayers=function(Z){var pe={};Z.forEach(function(ge){pe[ge]=!0});for(var te in this.layerIndexes)pe[te]||delete this.layerIndexes[te]};var ga=function(ve,Z){return a.emitValidationErrors(ve,Z&&Z.filter(function(pe){return pe.identifier!=="source.canvas"}))},Pa=a.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),pi=a.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),ri=nr(),Ho=function(ve){function Z(pe,te){var ge=this;te===void 0&&(te={}),ve.call(this),this.map=pe,this.dispatcher=new _(zt(),this),this.imageManager=new M,this.imageManager.setEventedParent(this),this.glyphManager=new E(pe._requestManager,te.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new oa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var Fe=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function($e){var ft={pluginStatus:$e.pluginStatus,pluginURL:$e.pluginURL};Fe.dispatcher.broadcast("syncRTLPluginState",ft,function(Lt,jt){if(a.triggerPluginCompletionEvent(Lt),jt){var qt=jt.every(function(or){return or});if(qt)for(var lr in Fe.sourceCaches)Fe.sourceCaches[lr].reload()}})}),this.on("data",function($e){if(!($e.dataType!=="source"||$e.sourceDataType!=="metadata")){var ft=ge.sourceCaches[$e.sourceId];if(ft){var Lt=ft.getSource();if(!(!Lt||!Lt.vectorLayerIds))for(var jt in ge._layers){var qt=ge._layers[jt];qt.source===Lt.id&&ge._validateLayer(qt)}}}})}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(te,ge){var Fe=this;ge===void 0&&(ge={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var $e=typeof ge.validate=="boolean"?ge.validate:!a.isMapboxURL(te);te=this.map._requestManager.normalizeStyleURL(te,ge.accessToken);var ft=this.map._requestManager.transformRequest(te,a.ResourceType.Style);this._request=a.getJSON(ft,function(Lt,jt){Fe._request=null,Lt?Fe.fire(new a.ErrorEvent(Lt)):jt&&Fe._load(jt,$e)})},Z.prototype.loadJSON=function(te,ge){var Fe=this;ge===void 0&&(ge={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){Fe._request=null,Fe._load(te,ge.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ri,!1)},Z.prototype._load=function(te,ge){if(!(ge&&ga(this,a.validateStyle(te)))){this._loaded=!0,this.stylesheet=te;for(var Fe in te.sources)this.addSource(Fe,te.sources[Fe],{validate:!1});te.sprite?this._loadSprite(te.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(te.glyphs);var $e=ur(this.stylesheet.layers);this._order=$e.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ft=0,Lt=$e;ft<Lt.length;ft+=1){var jt=Lt[ft];jt=a.createStyleLayer(jt),jt.setEventedParent(this,{layer:{id:jt.id}}),this._layers[jt.id]=jt,this._serializedLayers[jt.id]=jt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new A(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},Z.prototype._loadSprite=function(te){var ge=this;this._spriteRequest=l(te,this.map._requestManager,function(Fe,$e){if(ge._spriteRequest=null,Fe)ge.fire(new a.ErrorEvent(Fe));else if($e)for(var ft in $e)ge.imageManager.addImage(ft,$e[ft]);ge.imageManager.setLoaded(!0),ge._availableImages=ge.imageManager.listImages(),ge.dispatcher.broadcast("setImages",ge._availableImages),ge.fire(new a.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(te){var ge=this.sourceCaches[te.source];if(ge){var Fe=te.sourceLayer;if(Fe){var $e=ge.getSource();($e.type==="geojson"||$e.vectorLayerIds&&$e.vectorLayerIds.indexOf(Fe)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+Fe+'" does not exist on source "'+$e.id+'" as specified by style layer "'+te.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var te in this.sourceCaches)if(!this.sourceCaches[te].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(te){for(var ge=[],Fe=0,$e=te;Fe<$e.length;Fe+=1){var ft=$e[Fe],Lt=this._layers[ft];Lt.type!=="custom"&&ge.push(Lt.serialize())}return ge},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var te in this.sourceCaches)if(this.sourceCaches[te].hasTransition())return!0;for(var ge in this._layers)if(this._layers[ge].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(te){if(this._loaded){var ge=this._changed;if(this._changed){var Fe=Object.keys(this._updatedLayers),$e=Object.keys(this._removedLayers);(Fe.length||$e.length)&&this._updateWorkerLayers(Fe,$e);for(var ft in this._updatedSources){var Lt=this._updatedSources[ft];Lt==="reload"?this._reloadSource(ft):Lt==="clear"&&this._clearSource(ft)}this._updateTilesForChangedImages();for(var jt in this._updatedPaintProps)this._layers[jt].updateTransitions(te);this.light.updateTransitions(te),this._resetUpdates()}var qt={};for(var lr in this.sourceCaches){var or=this.sourceCaches[lr];qt[lr]=or.used,or.used=!1}for(var Fr=0,Xr=this._order;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr],Hr=this._layers[Yr];Hr.recalculate(te,this._availableImages),!Hr.isHidden(te.zoom)&&Hr.source&&(this.sourceCaches[Hr.source].used=!0)}for(var Jr in qt){var cn=this.sourceCaches[Jr];qt[Jr]!==cn.used&&cn.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Jr}))}this.light.recalculate(te),this.z=te.zoom,ge&&this.fire(new a.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var te=Object.keys(this._changedImages);if(te.length){for(var ge in this.sourceCaches)this.sourceCaches[ge].reloadTilesForDependencies(["icons","patterns"],te);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(te,ge){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(te),removedIds:ge})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(te){var ge=this;if(this._checkLoaded(),ga(this,a.validateStyle(te)))return!1;te=a.clone$1(te),te.layers=ur(te.layers);var Fe=Pn(this.serialize(),te).filter(function(ft){return!(ft.command in pi)});if(Fe.length===0)return!1;var $e=Fe.filter(function(ft){return!(ft.command in Pa)});if($e.length>0)throw new Error("Unimplemented: "+$e.map(function(ft){return ft.command}).join(", ")+".");return Fe.forEach(function(ft){ft.command!=="setTransition"&&ge[ft.command].apply(ge,ft.args)}),this.stylesheet=te,!0},Z.prototype.addImage=function(te,ge){if(this.getImage(te))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(te,ge),this._afterImageUpdated(te)},Z.prototype.updateImage=function(te,ge){this.imageManager.updateImage(te,ge)},Z.prototype.getImage=function(te){return this.imageManager.getImage(te)},Z.prototype.removeImage=function(te){if(!this.getImage(te))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(te),this._afterImageUpdated(te)},Z.prototype._afterImageUpdated=function(te){this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(te,ge,Fe){var $e=this;if(Fe===void 0&&(Fe={}),this._checkLoaded(),this.sourceCaches[te]!==void 0)throw new Error("There is already a source with this ID");if(!ge.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ge).join(", ")+".");var ft=["vector","raster","geojson","video","image"],Lt=ft.indexOf(ge.type)>=0;if(!(Lt&&this._validate(a.validateStyle.source,"sources."+te,ge,null,Fe))){this.map&&this.map._collectResourceTiming&&(ge.collectResourceTiming=!0);var jt=this.sourceCaches[te]=new Vt(te,ge,this.dispatcher);jt.style=this,jt.setEventedParent(this,function(){return{isSourceLoaded:$e.loaded(),source:jt.serialize(),sourceId:te}}),jt.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(te){if(this._checkLoaded(),this.sourceCaches[te]===void 0)throw new Error("There is no source with this ID");for(var ge in this._layers)if(this._layers[ge].source===te)return this.fire(new a.ErrorEvent(new Error('Source "'+te+'" cannot be removed while layer "'+ge+'" is using it.')));var Fe=this.sourceCaches[te];delete this.sourceCaches[te],delete this._updatedSources[te],Fe.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:te})),Fe.setEventedParent(null),Fe.clearTiles(),Fe.onRemove&&Fe.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(te,ge){this._checkLoaded();var Fe=this.sourceCaches[te].getSource();Fe.setData(ge),this._changed=!0},Z.prototype.getSource=function(te){return this.sourceCaches[te]&&this.sourceCaches[te].getSource()},Z.prototype.addLayer=function(te,ge,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var $e=te.id;if(this.getLayer($e)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+$e+'" already exists on this map')));return}var ft;if(te.type==="custom"){if(ga(this,a.validateCustomStyleLayer(te)))return;ft=a.createStyleLayer(te)}else{if(typeof te.source=="object"&&(this.addSource($e,te.source),te=a.clone$1(te),te=a.extend(te,{source:$e})),this._validate(a.validateStyle.layer,"layers."+$e,te,{arrayIndex:-1},Fe))return;ft=a.createStyleLayer(te),this._validateLayer(ft),ft.setEventedParent(this,{layer:{id:$e}}),this._serializedLayers[ft.id]=ft.serialize()}var Lt=ge?this._order.indexOf(ge):this._order.length;if(ge&&Lt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}if(this._order.splice(Lt,0,$e),this._layerOrderChanged=!0,this._layers[$e]=ft,this._removedLayers[$e]&&ft.source&&ft.type!=="custom"){var jt=this._removedLayers[$e];delete this._removedLayers[$e],jt.type!==ft.type?this._updatedSources[ft.source]="clear":(this._updatedSources[ft.source]="reload",this.sourceCaches[ft.source].pause())}this._updateLayer(ft),ft.onAdd&&ft.onAdd(this.map)},Z.prototype.moveLayer=function(te,ge){this._checkLoaded(),this._changed=!0;var Fe=this._layers[te];if(!Fe){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be moved.")));return}if(te!==ge){var $e=this._order.indexOf(te);this._order.splice($e,1);var ft=ge?this._order.indexOf(ge):this._order.length;if(ge&&ft===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}this._order.splice(ft,0,te),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(te){this._checkLoaded();var ge=this._layers[te];if(!ge){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be removed.")));return}ge.setEventedParent(null);var Fe=this._order.indexOf(te);this._order.splice(Fe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[te]=ge,delete this._layers[te],delete this._serializedLayers[te],delete this._updatedLayers[te],delete this._updatedPaintProps[te],ge.onRemove&&ge.onRemove(this.map)},Z.prototype.getLayer=function(te){return this._layers[te]},Z.prototype.hasLayer=function(te){return te in this._layers},Z.prototype.setLayerZoomRange=function(te,ge,Fe){this._checkLoaded();var $e=this.getLayer(te);if(!$e){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot have zoom extent.")));return}$e.minzoom===ge&&$e.maxzoom===Fe||(ge!=null&&($e.minzoom=ge),Fe!=null&&($e.maxzoom=Fe),this._updateLayer($e))},Z.prototype.setFilter=function(te,ge,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var $e=this.getLayer(te);if(!$e){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual($e.filter,ge)){if(ge==null){$e.filter=void 0,this._updateLayer($e);return}this._validate(a.validateStyle.filter,"layers."+$e.id+".filter",ge,null,Fe)||($e.filter=a.clone$1(ge),this._updateLayer($e))}},Z.prototype.getFilter=function(te){return a.clone$1(this.getLayer(te).filter)},Z.prototype.setLayoutProperty=function(te,ge,Fe,$e){$e===void 0&&($e={}),this._checkLoaded();var ft=this.getLayer(te);if(!ft){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(ft.getLayoutProperty(ge),Fe)||(ft.setLayoutProperty(ge,Fe,$e),this._updateLayer(ft))},Z.prototype.getLayoutProperty=function(te,ge){var Fe=this.getLayer(te);if(!Fe){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style.")));return}return Fe.getLayoutProperty(ge)},Z.prototype.setPaintProperty=function(te,ge,Fe,$e){$e===void 0&&($e={}),this._checkLoaded();var ft=this.getLayer(te);if(!ft){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(ft.getPaintProperty(ge),Fe)){var Lt=ft.setPaintProperty(ge,Fe,$e);Lt&&this._updateLayer(ft),this._changed=!0,this._updatedPaintProps[te]=!0}},Z.prototype.getPaintProperty=function(te,ge){return this.getLayer(te).getPaintProperty(ge)},Z.prototype.setFeatureState=function(te,ge){this._checkLoaded();var Fe=te.source,$e=te.sourceLayer,ft=this.sourceCaches[Fe];if(ft===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var Lt=ft.getSource().type;if(Lt==="geojson"&&$e){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Lt==="vector"&&!$e){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}te.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ft.setFeatureState($e,te.id,ge)},Z.prototype.removeFeatureState=function(te,ge){this._checkLoaded();var Fe=te.source,$e=this.sourceCaches[Fe];if($e===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var ft=$e.getSource().type,Lt=ft==="vector"?te.sourceLayer:void 0;if(ft==="vector"&&!Lt){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ge&&typeof te.id!="string"&&typeof te.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}$e.removeFeatureState(Lt,te.id,ge)},Z.prototype.getFeatureState=function(te){this._checkLoaded();var ge=te.source,Fe=te.sourceLayer,$e=this.sourceCaches[ge];if($e===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ge+"' does not exist in the map's style.")));return}var ft=$e.getSource().type;if(ft==="vector"&&!Fe){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return te.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),$e.getFeatureState(Fe,te.id)},Z.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(te){return te.serialize()}),layers:this._serializeLayers(this._order)},function(te){return te!==void 0})},Z.prototype._updateLayer=function(te){this._updatedLayers[te.id]=!0,te.source&&!this._updatedSources[te.source]&&this.sourceCaches[te.source].getSource().type!=="raster"&&(this._updatedSources[te.source]="reload",this.sourceCaches[te.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(te){for(var ge=this,Fe=function(Oa){return ge._layers[Oa].type==="fill-extrusion"},$e={},ft=[],Lt=this._order.length-1;Lt>=0;Lt--){var jt=this._order[Lt];if(Fe(jt)){$e[jt]=Lt;for(var qt=0,lr=te;qt<lr.length;qt+=1){var or=lr[qt],Fr=or[jt];if(Fr)for(var Xr=0,Yr=Fr;Xr<Yr.length;Xr+=1){var Hr=Yr[Xr];ft.push(Hr)}}}}ft.sort(function(Oa,$a){return $a.intersectionZ-Oa.intersectionZ});for(var Jr=[],cn=this._order.length-1;cn>=0;cn--){var Fn=this._order[cn];if(Fe(Fn))for(var Bn=ft.length-1;Bn>=0;Bn--){var Yn=ft[Bn].feature;if($e[Yn.layer.id]<cn)break;Jr.push(Yn),ft.pop()}else for(var Xn=0,Gn=te;Xn<Gn.length;Xn+=1){var Kn=Gn[Xn],ta=Kn[Fn];if(ta)for(var la=0,ba=ta;la<ba.length;la+=1){var va=ba[la];Jr.push(va.feature)}}}return Jr},Z.prototype.queryRenderedFeatures=function(te,ge,Fe){ge&&ge.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",ge.filter,null,ge);var $e={};if(ge&&ge.layers){if(!Array.isArray(ge.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ft=0,Lt=ge.layers;ft<Lt.length;ft+=1){var jt=Lt[ft],qt=this._layers[jt];if(!qt)return this.fire(new a.ErrorEvent(new Error("The layer '"+jt+"' does not exist in the map's style and cannot be queried for features."))),[];$e[qt.source]=!0}}var lr=[];ge.availableImages=this._availableImages;for(var or in this.sourceCaches)ge.layers&&!$e[or]||lr.push(q(this.sourceCaches[or],this._layers,this._serializedLayers,te,ge,Fe));return this.placement&&lr.push(K(this._layers,this._serializedLayers,this.sourceCaches,te,ge,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(lr)},Z.prototype.querySourceFeatures=function(te,ge){ge&&ge.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",ge.filter,null,ge);var Fe=this.sourceCaches[te];return Fe?le(Fe,ge):[]},Z.prototype.addSourceType=function(te,ge,Fe){if(Z.getSourceType(te))return Fe(new Error('A source type called "'+te+'" already exists.'));if(Z.setSourceType(te,ge),!ge.workerSourceURL)return Fe(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:te,url:ge.workerSourceURL},Fe)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(te,ge){ge===void 0&&(ge={}),this._checkLoaded();var Fe=this.light.getLight(),$e=!1;for(var ft in te)if(!a.deepEqual(te[ft],Fe[ft])){$e=!0;break}if($e){var Lt={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(te,ge),this.light.updateTransitions(Lt)}},Z.prototype._validate=function(te,ge,Fe,$e,ft){return ft===void 0&&(ft={}),ft&&ft.validate===!1?!1:ga(this,te.call(a.validateStyle,a.extend({key:ge,style:this.serialize(),value:Fe,styleSpec:a.styleSpec},$e)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var te in this._layers){var ge=this._layers[te];ge.setEventedParent(null)}for(var Fe in this.sourceCaches)this.sourceCaches[Fe].clearTiles(),this.sourceCaches[Fe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(te){this.sourceCaches[te].clearTiles()},Z.prototype._reloadSource=function(te){this.sourceCaches[te].resume(),this.sourceCaches[te].reload()},Z.prototype._updateSources=function(te){for(var ge in this.sourceCaches)this.sourceCaches[ge].update(te)},Z.prototype._generateCollisionBoxes=function(){for(var te in this.sourceCaches)this._reloadSource(te)},Z.prototype._updatePlacement=function(te,ge,Fe,$e,ft){ft===void 0&&(ft=!1);for(var Lt=!1,jt=!1,qt={},lr=0,or=this._order;lr<or.length;lr+=1){var Fr=or[lr],Xr=this._layers[Fr];if(Xr.type==="symbol"){if(!qt[Xr.source]){var Yr=this.sourceCaches[Xr.source];qt[Xr.source]=Yr.getRenderableIds(!0).map(function(Xn){return Yr.getTileByID(Xn)}).sort(function(Xn,Gn){return Gn.tileID.overscaledZ-Xn.tileID.overscaledZ||(Xn.tileID.isLessThan(Gn.tileID)?-1:1)})}var Hr=this.crossTileSymbolIndex.addLayer(Xr,qt[Xr.source],te.center.lng);Lt=Lt||Hr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ft=ft||this._layerOrderChanged||Fe===0,(ft||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),te.zoom))&&(this.pauseablePlacement=new Rn(te,this._order,ft,ge,Fe,$e,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),jt=!0),Lt&&this.pauseablePlacement.placement.setStale()),jt||Lt)for(var Jr=0,cn=this._order;Jr<cn.length;Jr+=1){var Fn=cn[Jr],Bn=this._layers[Fn];Bn.type==="symbol"&&this.placement.updateLayerOpacities(Bn,qt[Bn.source])}var Yn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return Yn},Z.prototype._releaseSymbolFadeTiles=function(){for(var te in this.sourceCaches)this.sourceCaches[te].releaseSymbolFadeTiles()},Z.prototype.getImages=function(te,ge,Fe){this.imageManager.getImages(ge.icons,Fe),this._updateTilesForChangedImages();var $e=this.sourceCaches[ge.source];$e&&$e.setDependencies(ge.tileID.key,ge.type,ge.icons)},Z.prototype.getGlyphs=function(te,ge,Fe){this.glyphManager.getGlyphs(ge.stacks,Fe)},Z.prototype.getResource=function(te,ge,Fe){return a.makeRequest(ge,Fe)},Z}(a.Evented);Ho.getSourceType=oe,Ho.setSourceType=Y,Ho.registerForPluginStateChange=a.registerForPluginStateChange;var Oo=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),no=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Vl=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,kf=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,wc="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",qa=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Tu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Ff=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$i=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Eo="void main() {gl_FragColor=vec4(1.0);}",jl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",of=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ki=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Hl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Ni="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Gi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Gl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",ao="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",io="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Go="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Tc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",zo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kh=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Ts=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qi=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Of=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qs=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,As=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,zf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Ac=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,sf=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Oh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,zh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Nh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Nf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bh="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",Uh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Sc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Mc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Wl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Au=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Su=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ec=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Bs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",lf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Cc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Lc=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,as=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,wl=gi(no,Vl),Mu=gi(kf,wc),el=gi(qa,Tu),Ss=gi(Ff,$i),Bf=gi(Eo,jl),Xl=gi(of,ki),is=gi(Hl,Ni),Pi=gi(Gi,Gl),Uf=gi(ao,io),jh=gi(Go,Tc),ff=gi(zo,kh),Zl=gi(Ts,Qi),Kl=gi(Of,qs),No=gi(As,zf),cf=gi(Ac,Fh),Jl=gi(sf,Oh),hf=gi(zh,Nh),Hh=gi(Nf,Bh),Pc=gi(Uh,Sc),Vf=gi(Mc,bl),jf=gi(Wl,Au),Hf=gi(Su,Ec),$l=gi(Bs,Vh),vf=gi(lf,Cc),Eu=gi(Lc,uf),df=gi(as,Yl);function gi(ve,Z){var pe=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te=Z.match(/attribute ([\w]+) ([\w]+)/g),ge=ve.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Fe=Z.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),$e=Fe?Fe.concat(ge):ge,ft={};return ve=ve.replace(pe,function(Lt,jt,qt,lr,or){return ft[or]=!0,jt==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
varying `+qt+" "+lr+" "+or+`;
#else
uniform `+qt+" "+lr+" u_"+or+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+or+`
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`}),Z=Z.replace(pe,function(Lt,jt,qt,lr,or){var Fr=lr==="float"?"vec2":"vec4",Xr=or.match(/color/)?"color":Fr;return ft[or]?jt==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
uniform lowp float u_`+or+`_t;
attribute `+qt+" "+Fr+" a_"+or+`;
varying `+qt+" "+lr+" "+or+`;
#else
uniform `+qt+" "+lr+" u_"+or+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+or+`
    `+or+" = a_"+or+`;
#else
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+or+`
    `+or+" = unpack_mix_"+Xr+"(a_"+or+", u_"+or+`_t);
#else
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:jt==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
uniform lowp float u_`+or+`_t;
attribute `+qt+" "+Fr+" a_"+or+`;
#else
uniform `+qt+" "+lr+" u_"+or+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+or+`
    `+qt+" "+lr+" "+or+" = a_"+or+`;
#else
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+or+`
    `+qt+" "+lr+" "+or+" = unpack_mix_"+Xr+"(a_"+or+", u_"+or+`_t);
#else
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`}),{fragmentSource:ve,vertexSource:Z,staticAttributes:te,staticUniforms:$e}}var Rc=Object.freeze({__proto__:null,prelude:wl,background:Mu,backgroundPattern:el,circle:Ss,clippingMask:Bf,heatmap:Xl,heatmapTexture:is,collisionBox:Pi,collisionCircle:Uf,debug:jh,fill:ff,fillOutline:Zl,fillOutlinePattern:Kl,fillPattern:No,fillExtrusion:cf,fillExtrusionPattern:Jl,hillshadePrepare:hf,hillshade:Hh,line:Pc,lineGradient:Vf,linePattern:jf,lineSDF:Hf,raster:$l,symbolIcon:vf,symbolSDF:Eu,symbolTextAndIcon:df}),os=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};os.prototype.bind=function(Z,pe,te,ge,Fe,$e,ft,Lt){this.context=Z;for(var jt=this.boundPaintVertexBuffers.length!==ge.length,qt=0;!jt&&qt<ge.length;qt++)this.boundPaintVertexBuffers[qt]!==ge[qt]&&(jt=!0);var lr=!this.vao||this.boundProgram!==pe||this.boundLayoutVertexBuffer!==te||jt||this.boundIndexBuffer!==Fe||this.boundVertexOffset!==$e||this.boundDynamicVertexBuffer!==ft||this.boundDynamicVertexBuffer2!==Lt;!Z.extVertexArrayObject||lr?this.freshBind(pe,te,ge,Fe,$e,ft,Lt):(Z.bindVertexArrayOES.set(this.vao),ft&&ft.bind(),Fe&&Fe.dynamicDraw&&Fe.bind(),Lt&&Lt.bind())},os.prototype.freshBind=function(Z,pe,te,ge,Fe,$e,ft){var Lt,jt=Z.numAttributes,qt=this.context,lr=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),Lt=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=pe,this.boundPaintVertexBuffers=te,this.boundIndexBuffer=ge,this.boundVertexOffset=Fe,this.boundDynamicVertexBuffer=$e,this.boundDynamicVertexBuffer2=ft;else{Lt=qt.currentNumAttributes||0;for(var or=jt;or<Lt;or++)lr.disableVertexAttribArray(or)}pe.enableAttributes(lr,Z);for(var Fr=0,Xr=te;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr];Yr.enableAttributes(lr,Z)}$e&&$e.enableAttributes(lr,Z),ft&&ft.enableAttributes(lr,Z),pe.bind(),pe.setVertexAttribPointers(lr,Z,Fe);for(var Hr=0,Jr=te;Hr<Jr.length;Hr+=1){var cn=Jr[Hr];cn.bind(),cn.setVertexAttribPointers(lr,Z,Fe)}$e&&($e.bind(),$e.setVertexAttribPointers(lr,Z,Fe)),ge&&ge.bind(),ft&&(ft.bind(),ft.setVertexAttribPointers(lr,Z,Fe)),qt.currentNumAttributes=jt},os.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Dc(ve){for(var Z=[],pe=0;pe<ve.length;pe++)if(ve[pe]!==null){var te=ve[pe].split(" ");Z.push(te.pop())}return Z}var Gf=function(Z,pe,te,ge,Fe,$e){var ft=Z.gl;this.program=ft.createProgram();for(var Lt=Dc(te.staticAttributes),jt=ge?ge.getBinderAttributes():[],qt=Lt.concat(jt),lr=te.staticUniforms?Dc(te.staticUniforms):[],or=ge?ge.getBinderUniforms():[],Fr=lr.concat(or),Xr=[],Yr=0,Hr=Fr;Yr<Hr.length;Yr+=1){var Jr=Hr[Yr];Xr.indexOf(Jr)<0&&Xr.push(Jr)}var cn=ge?ge.defines():[];$e&&cn.push("#define OVERDRAW_INSPECTOR;");var Fn=cn.concat(wl.fragmentSource,te.fragmentSource).join(`
`),Bn=cn.concat(wl.vertexSource,te.vertexSource).join(`
`),Yn=ft.createShader(ft.FRAGMENT_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Yn,Fn),ft.compileShader(Yn),ft.attachShader(this.program,Yn);var Xn=ft.createShader(ft.VERTEX_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Xn,Bn),ft.compileShader(Xn),ft.attachShader(this.program,Xn),this.attributes={};var Gn={};this.numAttributes=qt.length;for(var Kn=0;Kn<this.numAttributes;Kn++)qt[Kn]&&(ft.bindAttribLocation(this.program,Kn,qt[Kn]),this.attributes[qt[Kn]]=Kn);ft.linkProgram(this.program),ft.deleteShader(Xn),ft.deleteShader(Yn);for(var ta=0;ta<Xr.length;ta++){var la=Xr[ta];if(la&&!Gn[la]){var ba=ft.getUniformLocation(this.program,la);ba&&(Gn[la]=ba)}}this.fixedUniforms=Fe(Z,Gn),this.binderUniforms=ge?ge.getUniforms(Z,Gn):[]};Gf.prototype.draw=function(Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt,lr,or,Fr,Xr,Yr,Hr){var Jr,cn=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(te),Z.setStencilMode(ge),Z.setColorMode(Fe),Z.setCullFace($e);for(var Fn in this.fixedUniforms)this.fixedUniforms[Fn].set(ft[Fn]);Xr&&Xr.setUniforms(Z,this.binderUniforms,or,{zoom:Fr});for(var Bn=(Jr={},Jr[cn.LINES]=2,Jr[cn.TRIANGLES]=3,Jr[cn.LINE_STRIP]=1,Jr)[pe],Yn=0,Xn=lr.get();Yn<Xn.length;Yn+=1){var Gn=Xn[Yn],Kn=Gn.vaos||(Gn.vaos={}),ta=Kn[Lt]||(Kn[Lt]=new os);ta.bind(Z,this,jt,Xr?Xr.getPaintVertexBuffers():[],qt,Gn.vertexOffset,Yr,Hr),cn.drawElements(pe,Gn.primitiveLength*Bn,cn.UNSIGNED_SHORT,Gn.primitiveOffset*Bn*2)}}};function Tl(ve,Z,pe){var te=1/gn(pe,1,Z.transform.tileZoom),ge=Math.pow(2,pe.tileID.overscaledZ),Fe=pe.tileSize*Math.pow(2,Z.transform.tileZoom)/ge,$e=Fe*(pe.tileID.canonical.x+pe.tileID.wrap*ge),ft=Fe*pe.tileID.canonical.y;return{u_image:0,u_texsize:pe.imageAtlasTexture.size,u_scale:[te,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[$e>>16,ft>>16],u_pixel_coord_lower:[$e&65535,ft&65535]}}function tl(ve,Z,pe,te){var ge=pe.imageManager.getPattern(ve.from.toString()),Fe=pe.imageManager.getPattern(ve.to.toString()),$e=pe.imageManager.getPixelSize(),ft=$e.width,Lt=$e.height,jt=Math.pow(2,te.tileID.overscaledZ),qt=te.tileSize*Math.pow(2,pe.transform.tileZoom)/jt,lr=qt*(te.tileID.canonical.x+te.tileID.wrap*jt),or=qt*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ge.tl,u_pattern_br_a:ge.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[ft,Lt],u_mix:Z.t,u_pattern_size_a:ge.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/gn(te,1,pe.transform.tileZoom),u_pixel_coord_upper:[lr>>16,or>>16],u_pixel_coord_lower:[lr&65535,or&65535]}}var pf=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_lightpos:new a.Uniform3f(ve,Z.u_lightpos),u_lightintensity:new a.Uniform1f(ve,Z.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,Z.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,Z.u_vertical_gradient),u_opacity:new a.Uniform1f(ve,Z.u_opacity)}},Fi=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_lightpos:new a.Uniform3f(ve,Z.u_lightpos),u_lightintensity:new a.Uniform1f(ve,Z.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,Z.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,Z.u_vertical_gradient),u_height_factor:new a.Uniform1f(ve,Z.u_height_factor),u_image:new a.Uniform1i(ve,Z.u_image),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,Z.u_scale),u_fade:new a.Uniform1f(ve,Z.u_fade),u_opacity:new a.Uniform1f(ve,Z.u_opacity)}},Cu=function(ve,Z,pe,te){var ge=Z.style.light,Fe=ge.properties.get("position"),$e=[Fe.x,Fe.y,Fe.z],ft=a.create$1();ge.properties.get("anchor")==="viewport"&&a.fromRotation(ft,-Z.transform.angle),a.transformMat3($e,$e,ft);var Lt=ge.properties.get("color");return{u_matrix:ve,u_lightpos:$e,u_lightintensity:ge.properties.get("intensity"),u_lightcolor:[Lt.r,Lt.g,Lt.b],u_vertical_gradient:+pe,u_opacity:te}},ss=function(ve,Z,pe,te,ge,Fe,$e){return a.extend(Cu(ve,Z,pe,te),Tl(Fe,Z,$e),{u_height_factor:-Math.pow(2,ge.overscaledZ)/$e.tileSize/8})},Us=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix)}},Al=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_image:new a.Uniform1i(ve,Z.u_image),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,Z.u_scale),u_fade:new a.Uniform1f(ve,Z.u_fade)}},rl=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_world:new a.Uniform2f(ve,Z.u_world)}},ls=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_world:new a.Uniform2f(ve,Z.u_world),u_image:new a.Uniform1i(ve,Z.u_image),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,Z.u_scale),u_fade:new a.Uniform1f(ve,Z.u_fade)}},Vs=function(ve){return{u_matrix:ve}},us=function(ve,Z,pe,te){return a.extend(Vs(ve),Tl(pe,Z,te))},Ko=function(ve,Z){return{u_matrix:ve,u_world:Z}},Lu=function(ve,Z,pe,te,ge){return a.extend(us(ve,Z,pe,te),{u_world:ge})},Gh=function(ve,Z){return{u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(ve,Z.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(ve,Z.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(ve,Z.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix)}},Wh=function(ve,Z,pe,te){var ge=ve.transform,Fe,$e;if(te.paint.get("circle-pitch-alignment")==="map"){var ft=gn(pe,1,ge.zoom);Fe=!0,$e=[ft,ft]}else Fe=!1,$e=ge.pixelsToGLUnits;return{u_camera_to_center_distance:ge.cameraToCenterDistance,u_scale_with_map:+(te.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(Z.posMatrix,pe,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+Fe,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:$e}},Yh=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(ve,Z.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(ve,Z.u_extrude_scale),u_overscale_factor:new a.Uniform1f(ve,Z.u_overscale_factor)}},Xh=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_inv_matrix:new a.UniformMatrix4f(ve,Z.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(ve,Z.u_viewport_size)}},Wf=function(ve,Z,pe){var te=gn(pe,1,Z.zoom),ge=Math.pow(2,Z.zoom-pe.tileID.overscaledZ),Fe=pe.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[Z.pixelsToGLUnits[0]/(te*ge),Z.pixelsToGLUnits[1]/(te*ge)],u_overscale_factor:Fe}},Ic=function(ve,Z,pe){return{u_matrix:ve,u_inv_matrix:Z,u_camera_to_center_distance:pe.cameraToCenterDistance,u_viewport_size:[pe.width,pe.height]}},Ql=function(ve,Z){return{u_color:new a.UniformColor(ve,Z.u_color),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_overlay:new a.Uniform1i(ve,Z.u_overlay),u_overlay_scale:new a.Uniform1f(ve,Z.u_overlay_scale)}},qi=function(ve,Z,pe){return pe===void 0&&(pe=1),{u_matrix:ve,u_color:Z,u_overlay:0,u_overlay_scale:pe}},Wo=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix)}},ql=function(ve){return{u_matrix:ve}},_c=function(ve,Z){return{u_extrude_scale:new a.Uniform1f(ve,Z.u_extrude_scale),u_intensity:new a.Uniform1f(ve,Z.u_intensity),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix)}},Pu=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_world:new a.Uniform2f(ve,Z.u_world),u_image:new a.Uniform1i(ve,Z.u_image),u_color_ramp:new a.Uniform1i(ve,Z.u_color_ramp),u_opacity:new a.Uniform1f(ve,Z.u_opacity)}},js=function(ve,Z,pe,te){return{u_matrix:ve,u_extrude_scale:gn(Z,1,pe),u_intensity:te}},Zh=function(ve,Z,pe,te){var ge=a.create();a.ortho(ge,0,ve.width,ve.height,0,0,1);var Fe=ve.context.gl;return{u_matrix:ge,u_world:[Fe.drawingBufferWidth,Fe.drawingBufferHeight],u_image:pe,u_color_ramp:te,u_opacity:Z.paint.get("heatmap-opacity")}},kc=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_image:new a.Uniform1i(ve,Z.u_image),u_latrange:new a.Uniform2f(ve,Z.u_latrange),u_light:new a.Uniform2f(ve,Z.u_light),u_shadow:new a.UniformColor(ve,Z.u_shadow),u_highlight:new a.UniformColor(ve,Z.u_highlight),u_accent:new a.UniformColor(ve,Z.u_accent)}},Fc=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_image:new a.Uniform1i(ve,Z.u_image),u_dimension:new a.Uniform2f(ve,Z.u_dimension),u_zoom:new a.Uniform1f(ve,Z.u_zoom),u_unpack:new a.Uniform4f(ve,Z.u_unpack)}},Yf=function(ve,Z,pe){var te=pe.paint.get("hillshade-shadow-color"),ge=pe.paint.get("hillshade-highlight-color"),Fe=pe.paint.get("hillshade-accent-color"),$e=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&($e-=ve.transform.angle);var ft=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),ft),u_image:0,u_latrange:Co(ve,Z.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),$e],u_shadow:te,u_highlight:ge,u_accent:Fe}},Oc=function(ve,Z){var pe=Z.stride,te=a.create();return a.ortho(te,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(te,te,[0,-a.EXTENT,0]),{u_matrix:te,u_image:1,u_dimension:[pe,pe],u_zoom:ve.overscaledZ,u_unpack:Z.getUnpackVector()}};function Co(ve,Z){var pe=Math.pow(2,Z.canonical.z),te=Z.canonical.y;return[new a.MercatorCoordinate(0,te/pe).toLngLat().lat,new a.MercatorCoordinate(0,(te+1)/pe).toLngLat().lat]}var fs=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_ratio:new a.Uniform1f(ve,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,Z.u_units_to_pixels)}},nl=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_ratio:new a.Uniform1f(ve,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,Z.u_units_to_pixels),u_image:new a.Uniform1i(ve,Z.u_image),u_image_height:new a.Uniform1f(ve,Z.u_image_height)}},eu=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_ratio:new a.Uniform1f(ve,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_image:new a.Uniform1i(ve,Z.u_image),u_units_to_pixels:new a.Uniform2f(ve,Z.u_units_to_pixels),u_scale:new a.Uniform3f(ve,Z.u_scale),u_fade:new a.Uniform1f(ve,Z.u_fade)}},gf=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_ratio:new a.Uniform1f(ve,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,Z.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(ve,Z.u_patternscale_a),u_patternscale_b:new a.Uniform2f(ve,Z.u_patternscale_b),u_sdfgamma:new a.Uniform1f(ve,Z.u_sdfgamma),u_image:new a.Uniform1i(ve,Z.u_image),u_tex_y_a:new a.Uniform1f(ve,Z.u_tex_y_a),u_tex_y_b:new a.Uniform1f(ve,Z.u_tex_y_b),u_mix:new a.Uniform1f(ve,Z.u_mix)}},Sl=function(ve,Z,pe){var te=ve.transform;return{u_matrix:al(ve,Z,pe),u_ratio:1/gn(Z,1,te.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},Ml=function(ve,Z,pe,te){return a.extend(Sl(ve,Z,pe),{u_image:0,u_image_height:te})},zc=function(ve,Z,pe,te){var ge=ve.transform,Fe=tu(Z,ge);return{u_matrix:al(ve,Z,pe),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/gn(Z,1,ge.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[Fe,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/ge.pixelsToGLUnits[0],1/ge.pixelsToGLUnits[1]]}},Hs=function(ve,Z,pe,te,ge){var Fe=ve.transform,$e=ve.lineAtlas,ft=tu(Z,Fe),Lt=pe.layout.get("line-cap")==="round",jt=$e.getDash(te.from,Lt),qt=$e.getDash(te.to,Lt),lr=jt.width*ge.fromScale,or=qt.width*ge.toScale;return a.extend(Sl(ve,Z,pe),{u_patternscale_a:[ft/lr,-jt.height/2],u_patternscale_b:[ft/or,-qt.height/2],u_sdfgamma:$e.width/(Math.min(lr,or)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:jt.y,u_tex_y_b:qt.y,u_mix:ge.t})};function tu(ve,Z){return 1/gn(ve,1,Z.tileZoom)}function al(ve,Z,pe){return ve.translatePosMatrix(Z.tileID.posMatrix,Z,pe.paint.get("line-translate"),pe.paint.get("line-translate-anchor"))}var Gs=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_tl_parent:new a.Uniform2f(ve,Z.u_tl_parent),u_scale_parent:new a.Uniform1f(ve,Z.u_scale_parent),u_buffer_scale:new a.Uniform1f(ve,Z.u_buffer_scale),u_fade_t:new a.Uniform1f(ve,Z.u_fade_t),u_opacity:new a.Uniform1f(ve,Z.u_opacity),u_image0:new a.Uniform1i(ve,Z.u_image0),u_image1:new a.Uniform1i(ve,Z.u_image1),u_brightness_low:new a.Uniform1f(ve,Z.u_brightness_low),u_brightness_high:new a.Uniform1f(ve,Z.u_brightness_high),u_saturation_factor:new a.Uniform1f(ve,Z.u_saturation_factor),u_contrast_factor:new a.Uniform1f(ve,Z.u_contrast_factor),u_spin_weights:new a.Uniform3f(ve,Z.u_spin_weights)}},Ru=function(ve,Z,pe,te,ge){return{u_matrix:ve,u_tl_parent:Z,u_scale_parent:pe,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*ge.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ge.paint.get("raster-brightness-min"),u_brightness_high:ge.paint.get("raster-brightness-max"),u_saturation_factor:nu(ge.paint.get("raster-saturation")),u_contrast_factor:hi(ge.paint.get("raster-contrast")),u_spin_weights:ru(ge.paint.get("raster-hue-rotate"))}};function ru(ve){ve*=Math.PI/180;var Z=Math.sin(ve),pe=Math.cos(ve);return[(2*pe+1)/3,(-Math.sqrt(3)*Z-pe+1)/3,(Math.sqrt(3)*Z-pe+1)/3]}function hi(ve){return ve>0?1/(1-ve):1+ve}function nu(ve){return ve>0?1-1/(1.001-ve):-ve}var yf=function(ve,Z){return{u_is_size_zoom_constant:new a.Uniform1i(ve,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,Z.u_size_t),u_size:new a.Uniform1f(ve,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,Z.u_coord_matrix),u_is_text:new a.Uniform1i(ve,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_texture:new a.Uniform1i(ve,Z.u_texture)}},Nc=function(ve,Z){return{u_is_size_zoom_constant:new a.Uniform1i(ve,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,Z.u_size_t),u_size:new a.Uniform1f(ve,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,Z.u_coord_matrix),u_is_text:new a.Uniform1i(ve,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_texture:new a.Uniform1i(ve,Z.u_texture),u_gamma_scale:new a.Uniform1f(ve,Z.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,Z.u_is_halo)}},au=function(ve,Z){return{u_is_size_zoom_constant:new a.Uniform1i(ve,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,Z.u_size_t),u_size:new a.Uniform1f(ve,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,Z.u_coord_matrix),u_is_text:new a.Uniform1i(ve,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_texsize_icon:new a.Uniform2f(ve,Z.u_texsize_icon),u_texture:new a.Uniform1i(ve,Z.u_texture),u_texture_icon:new a.Uniform1i(ve,Z.u_texture_icon),u_gamma_scale:new a.Uniform1f(ve,Z.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,Z.u_is_halo)}},Du=function(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt){var qt=ge.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+pe,u_aspect_ratio:qt.width/qt.height,u_fade_change:ge.options.fadeDuration?ge.symbolFadeChange:1,u_matrix:Fe,u_label_plane_matrix:$e,u_coord_matrix:ft,u_is_text:+Lt,u_pitch_with_map:+te,u_texsize:jt,u_texture:0}},mf=function(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt){var lr=ge.transform;return a.extend(Du(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt),{u_gamma_scale:te?Math.cos(lr._pitch)*lr.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+qt})},Xf=function(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt){return a.extend(mf(ve,Z,pe,te,ge,Fe,$e,ft,!0,Lt,!0),{u_texsize_icon:jt,u_texture_icon:1})},Iu=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_opacity:new a.Uniform1f(ve,Z.u_opacity),u_color:new a.UniformColor(ve,Z.u_color)}},_u=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_opacity:new a.Uniform1f(ve,Z.u_opacity),u_image:new a.Uniform1i(ve,Z.u_image),u_pattern_tl_a:new a.Uniform2f(ve,Z.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(ve,Z.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(ve,Z.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(ve,Z.u_pattern_br_b),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_mix:new a.Uniform1f(ve,Z.u_mix),u_pattern_size_a:new a.Uniform2f(ve,Z.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(ve,Z.u_pattern_size_b),u_scale_a:new a.Uniform1f(ve,Z.u_scale_a),u_scale_b:new a.Uniform1f(ve,Z.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(ve,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(ve,Z.u_tile_units_to_pixels)}},il=function(ve,Z,pe){return{u_matrix:ve,u_opacity:Z,u_color:pe}},ku=function(ve,Z,pe,te,ge,Fe){return a.extend(tl(te,Fe,pe,ge),{u_matrix:ve,u_opacity:Z})},ol={fillExtrusion:pf,fillExtrusionPattern:Fi,fill:Us,fillPattern:Al,fillOutline:rl,fillOutlinePattern:ls,circle:Gh,collisionBox:Yh,collisionCircle:Xh,debug:Ql,clippingMask:Wo,heatmap:_c,heatmapTexture:Pu,hillshade:kc,hillshadePrepare:Fc,line:fs,lineGradient:nl,linePattern:eu,lineSDF:gf,raster:Gs,symbolIcon:yf,symbolSDF:Nc,symbolTextAndIcon:au,background:Iu,backgroundPattern:_u},Wi;function Ms(ve,Z,pe,te,ge,Fe,$e){for(var ft=ve.context,Lt=ft.gl,jt=ve.useProgram("collisionBox"),qt=[],lr=0,or=0,Fr=0;Fr<te.length;Fr++){var Xr=te[Fr],Yr=Z.getTile(Xr),Hr=Yr.getBucket(pe);if(Hr){var Jr=Xr.posMatrix;(ge[0]!==0||ge[1]!==0)&&(Jr=ve.translatePosMatrix(Xr.posMatrix,Yr,ge,Fe));var cn=$e?Hr.textCollisionBox:Hr.iconCollisionBox,Fn=Hr.collisionCircleArray;if(Fn.length>0){var Bn=a.create(),Yn=Jr;a.mul(Bn,Hr.placementInvProjMatrix,ve.transform.glCoordMatrix),a.mul(Bn,Bn,Hr.placementViewportMatrix),qt.push({circleArray:Fn,circleOffset:or,transform:Yn,invTransform:Bn}),lr+=Fn.length/4,or=lr}cn&&jt.draw(ft,Lt.LINES,mr.disabled,Qt.disabled,ve.colorModeForRenderPass(),It.disabled,Wf(Jr,ve.transform,Yr),pe.id,cn.layoutVertexBuffer,cn.indexBuffer,cn.segments,null,ve.transform.zoom,null,null,cn.collisionVertexBuffer)}}if(!(!$e||!qt.length)){var Xn=ve.useProgram("collisionCircle"),Gn=new a.StructArrayLayout2f1f2i16;Gn.resize(lr*4),Gn._trim();for(var Kn=0,ta=0,la=qt;ta<la.length;ta+=1)for(var ba=la[ta],va=0;va<ba.circleArray.length/4;va++){var Oa=va*4,$a=ba.circleArray[Oa+0],Wa=ba.circleArray[Oa+1],Ma=ba.circleArray[Oa+2],Ya=ba.circleArray[Oa+3];Gn.emplace(Kn++,$a,Wa,Ma,Ya,0),Gn.emplace(Kn++,$a,Wa,Ma,Ya,1),Gn.emplace(Kn++,$a,Wa,Ma,Ya,2),Gn.emplace(Kn++,$a,Wa,Ma,Ya,3)}(!Wi||Wi.length<lr*2)&&(Wi=Zf(lr));for(var ja=ft.createIndexBuffer(Wi,!0),ii=ft.createVertexBuffer(Gn,a.collisionCircleLayout.members,!0),ei=0,Ai=qt;ei<Ai.length;ei+=1){var Ja=Ai[ei],yi=Ic(Ja.transform,Ja.invTransform,ve.transform);Xn.draw(ft,Lt.TRIANGLES,mr.disabled,Qt.disabled,ve.colorModeForRenderPass(),It.disabled,yi,pe.id,ii,ja,a.SegmentVector.simpleSegment(0,Ja.circleOffset*2,Ja.circleArray.length,Ja.circleArray.length/2),null,ve.transform.zoom,null,null,null)}ii.destroy(),ja.destroy()}}function Zf(ve){var Z=ve*2,pe=new a.StructArrayLayout3ui6;pe.resize(Z),pe._trim();for(var te=0;te<Z;te++){var ge=te*6;pe.uint16[ge+0]=te*4+0,pe.uint16[ge+1]=te*4+1,pe.uint16[ge+2]=te*4+2,pe.uint16[ge+3]=te*4+2,pe.uint16[ge+4]=te*4+3,pe.uint16[ge+5]=te*4+0}return pe}var El=a.identity(new Float32Array(16));function xf(ve,Z,pe,te,ge){if(ve.renderPass==="translucent"){var Fe=Qt.disabled,$e=ve.colorModeForRenderPass(),ft=pe.layout.get("text-variable-anchor");ft&&Kh(te,ve,pe,Z,pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),ge),pe.paint.get("icon-opacity").constantOr(1)!==0&&Ou(ve,Z,pe,te,!1,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),pe.layout.get("icon-rotation-alignment"),pe.layout.get("icon-pitch-alignment"),pe.layout.get("icon-keep-upright"),Fe,$e),pe.paint.get("text-opacity").constantOr(1)!==0&&Ou(ve,Z,pe,te,!0,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),pe.layout.get("text-keep-upright"),Fe,$e),Z.map.showCollisionBoxes&&(Ms(ve,Z,pe,te,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),!0),Ms(ve,Z,pe,te,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),!1))}}function Fu(ve,Z,pe,te,ge,Fe){var $e=a.getAnchorAlignment(ve),ft=$e.horizontalAlign,Lt=$e.verticalAlign,jt=-(ft-.5)*Z,qt=-(Lt-.5)*pe,lr=a.evaluateVariableOffset(ve,te);return new a.Point((jt/ge+lr[0])*Fe,(qt/ge+lr[1])*Fe)}function Kh(ve,Z,pe,te,ge,Fe,$e){for(var ft=Z.transform,Lt=ge==="map",jt=Fe==="map",qt=0,lr=ve;qt<lr.length;qt+=1){var or=lr[qt],Fr=te.getTile(or),Xr=Fr.getBucket(pe);if(!(!Xr||!Xr.text||!Xr.text.segments.get().length)){var Yr=Xr.textSizeData,Hr=a.evaluateSizeForZoom(Yr,ft.zoom),Jr=gn(Fr,1,Z.transform.zoom),cn=Pr(or.posMatrix,jt,Lt,Z.transform,Jr),Fn=pe.layout.get("icon-text-fit")!=="none"&&Xr.hasIconData();if(Hr){var Bn=Math.pow(2,ft.zoom-Fr.tileID.overscaledZ);Bc(Xr,Lt,jt,$e,a.symbolSize,ft,cn,or.posMatrix,Bn,Hr,Fn)}}}}function Bc(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt){var lr=ve.text.placedSymbolArray,or=ve.text.dynamicLayoutVertexArray,Fr=ve.icon.dynamicLayoutVertexArray,Xr={};or.clear();for(var Yr=0;Yr<lr.length;Yr++){var Hr=lr.get(Yr),Jr=ve.allowVerticalPlacement&&!Hr.placedOrientation,cn=!Hr.hidden&&Hr.crossTileID&&!Jr?te[Hr.crossTileID]:null;if(!cn)na(Hr.numGlyphs,or);else{var Fn=new a.Point(Hr.anchorX,Hr.anchorY),Bn=Vr(Fn,pe?ft:$e),Yn=on(Fe.cameraToCenterDistance,Bn.signedDistanceFromCamera),Xn=ge.evaluateSizeForFeature(ve.textSizeData,jt,Hr)*Yn/a.ONE_EM;pe&&(Xn*=ve.tilePixelRatio/Lt);for(var Gn=cn.width,Kn=cn.height,ta=cn.anchor,la=cn.textOffset,ba=cn.textBoxScale,va=Fu(ta,Gn,Kn,la,ba,Xn),Oa=pe?Vr(Fn.add(va),$e).point:Bn.point.add(Z?va.rotate(-Fe.angle):va),$a=ve.allowVerticalPlacement&&Hr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Wa=0;Wa<Hr.numGlyphs;Wa++)a.addDynamicAttributes(or,Oa,$a);qt&&Hr.associatedIconIndex>=0&&(Xr[Hr.associatedIconIndex]={shiftedAnchor:Oa,angle:$a})}}if(qt){Fr.clear();for(var Ma=ve.icon.placedSymbolArray,Ya=0;Ya<Ma.length;Ya++){var ja=Ma.get(Ya);if(ja.hidden)na(ja.numGlyphs,Fr);else{var ii=Xr[Ya];if(!ii)na(ja.numGlyphs,Fr);else for(var ei=0;ei<ja.numGlyphs;ei++)a.addDynamicAttributes(Fr,ii.shiftedAnchor,ii.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(Fr)}ve.text.dynamicLayoutVertexBuffer.updateData(or)}function mo(ve,Z,pe){return pe.iconsInText&&Z?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Ou(ve,Z,pe,te,ge,Fe,$e,ft,Lt,jt,qt,lr){for(var or=ve.context,Fr=or.gl,Xr=ve.transform,Yr=ft==="map",Hr=Lt==="map",Jr=Yr&&pe.layout.get("symbol-placement")!=="point",cn=Yr&&!Hr&&!Jr,Fn=pe.layout.get("symbol-sort-key").constantOr(1)!==void 0,Bn=!1,Yn=ve.depthModeForSublayer(0,mr.ReadOnly),Xn=pe.layout.get("text-variable-anchor"),Gn=[],Kn=0,ta=te;Kn<ta.length;Kn+=1){var la=ta[Kn],ba=Z.getTile(la),va=ba.getBucket(pe);if(va){var Oa=ge?va.text:va.icon;if(!(!Oa||!Oa.segments.get().length)){var $a=Oa.programConfigurations.get(pe.id),Wa=ge||va.sdfIcons,Ma=ge?va.textSizeData:va.iconSizeData,Ya=Hr||Xr.pitch!==0,ja=ve.useProgram(mo(Wa,ge,va),$a),ii=a.evaluateSizeForZoom(Ma,Xr.zoom),ei=void 0,Ai=[0,0],Ja=void 0,yi=void 0,Ha=null,Qa=void 0;if(ge){if(Ja=ba.glyphAtlasTexture,yi=Fr.LINEAR,ei=ba.glyphAtlasTexture.size,va.iconsInText){Ai=ba.imageAtlasTexture.size,Ha=ba.imageAtlasTexture;var Vi=Ma.kind==="composite"||Ma.kind==="camera";Qa=Ya||ve.options.rotating||ve.options.zooming||Vi?Fr.LINEAR:Fr.NEAREST}}else{var bo=pe.layout.get("icon-size").constantOr(0)!==1||va.iconsNeedLinear;Ja=ba.imageAtlasTexture,yi=Wa||ve.options.rotating||ve.options.zooming||bo||Ya?Fr.LINEAR:Fr.NEAREST,ei=ba.imageAtlasTexture.size}var ul=gn(ba,1,ve.transform.zoom),fl=Pr(la.posMatrix,Hr,Yr,ve.transform,ul),Pl=Wr(la.posMatrix,Hr,Yr,ve.transform,ul),su=Xn&&va.hasTextData(),tc=pe.layout.get("icon-text-fit")!=="none"&&su&&va.hasIconData();Jr&&mn(va,la.posMatrix,ve,ge,fl,Pl,Hr,jt);var lu=ve.translatePosMatrix(la.posMatrix,ba,Fe,$e),hs=Jr||ge&&Xn||tc?El:fl,uu=ve.translatePosMatrix(Pl,ba,Fe,$e,!0),Ls=Wa&&pe.paint.get(ge?"text-halo-width":"icon-halo-width").constantOr(1)!==0,vs=void 0;Wa?va.iconsInText?vs=Xf(Ma.kind,ii,cn,Hr,ve,lu,hs,uu,ei,Ai):vs=mf(Ma.kind,ii,cn,Hr,ve,lu,hs,uu,ge,ei,!0):vs=Du(Ma.kind,ii,cn,Hr,ve,lu,hs,uu,ge,ei);var Rl={program:ja,buffers:Oa,uniformValues:vs,atlasTexture:Ja,atlasTextureIcon:Ha,atlasInterpolation:yi,atlasInterpolationIcon:Qa,isSDF:Wa,hasHalo:Ls};if(Fn&&va.canOverlap){Bn=!0;for(var Gu=Oa.segments.get(),Dl=0,Rv=Gu;Dl<Rv.length;Dl+=1){var Zc=Rv[Dl];Gn.push({segments:new a.SegmentVector([Zc]),sortKey:Zc.sortKey,state:Rl})}}else Gn.push({segments:Oa.segments,sortKey:0,state:Rl})}}}Bn&&Gn.sort(function(Iv,_v){return Iv.sortKey-_v.sortKey});for(var Lo=0,Dv=Gn;Lo<Dv.length;Lo+=1){var tv=Dv[Lo],Jo=tv.state;if(or.activeTexture.set(Fr.TEXTURE0),Jo.atlasTexture.bind(Jo.atlasInterpolation,Fr.CLAMP_TO_EDGE),Jo.atlasTextureIcon&&(or.activeTexture.set(Fr.TEXTURE1),Jo.atlasTextureIcon&&Jo.atlasTextureIcon.bind(Jo.atlasInterpolationIcon,Fr.CLAMP_TO_EDGE)),Jo.isSDF){var Kc=Jo.uniformValues;Jo.hasHalo&&(Kc.u_is_halo=1,iu(Jo.buffers,tv.segments,pe,ve,Jo.program,Yn,qt,lr,Kc)),Kc.u_is_halo=0}iu(Jo.buffers,tv.segments,pe,ve,Jo.program,Yn,qt,lr,Jo.uniformValues)}}function iu(ve,Z,pe,te,ge,Fe,$e,ft,Lt){var jt=te.context,qt=jt.gl;ge.draw(jt,qt.TRIANGLES,Fe,$e,ft,It.disabled,Lt,pe.id,ve.layoutVertexBuffer,ve.indexBuffer,Z,pe.paint,te.transform.zoom,ve.programConfigurations.get(pe.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function Uc(ve,Z,pe,te){if(ve.renderPass==="translucent"){var ge=pe.paint.get("circle-opacity"),Fe=pe.paint.get("circle-stroke-width"),$e=pe.paint.get("circle-stroke-opacity"),ft=pe.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ge.constantOr(1)===0&&(Fe.constantOr(1)===0||$e.constantOr(1)===0))){for(var Lt=ve.context,jt=Lt.gl,qt=ve.depthModeForSublayer(0,mr.ReadOnly),lr=Qt.disabled,or=ve.colorModeForRenderPass(),Fr=[],Xr=0;Xr<te.length;Xr++){var Yr=te[Xr],Hr=Z.getTile(Yr),Jr=Hr.getBucket(pe);if(Jr){var cn=Jr.programConfigurations.get(pe.id),Fn=ve.useProgram("circle",cn),Bn=Jr.layoutVertexBuffer,Yn=Jr.indexBuffer,Xn=Wh(ve,Yr,Hr,pe),Gn={programConfiguration:cn,program:Fn,layoutVertexBuffer:Bn,indexBuffer:Yn,uniformValues:Xn};if(ft)for(var Kn=Jr.segments.get(),ta=0,la=Kn;ta<la.length;ta+=1){var ba=la[ta];Fr.push({segments:new a.SegmentVector([ba]),sortKey:ba.sortKey,state:Gn})}else Fr.push({segments:Jr.segments,sortKey:0,state:Gn})}}ft&&Fr.sort(function(Ja,yi){return Ja.sortKey-yi.sortKey});for(var va=0,Oa=Fr;va<Oa.length;va+=1){var $a=Oa[va],Wa=$a.state,Ma=Wa.programConfiguration,Ya=Wa.program,ja=Wa.layoutVertexBuffer,ii=Wa.indexBuffer,ei=Wa.uniformValues,Ai=$a.segments;Ya.draw(Lt,jt.TRIANGLES,qt,lr,or,It.disabled,ei,pe.id,ja,ii,Ai,pe.paint,ve.transform.zoom,Ma)}}}}function sl(ve,Z,pe,te){if(pe.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ge=ve.context,Fe=ge.gl,$e=Qt.disabled,ft=new lt([Fe.ONE,Fe.ONE],a.Color.transparent,[!0,!0,!0,!0]);Jh(ge,ve,pe),ge.clear({color:a.Color.transparent});for(var Lt=0;Lt<te.length;Lt++){var jt=te[Lt];if(!Z.hasRenderableParent(jt)){var qt=Z.getTile(jt),lr=qt.getBucket(pe);if(lr){var or=lr.programConfigurations.get(pe.id),Fr=ve.useProgram("heatmap",or),Xr=ve.transform,Yr=Xr.zoom;Fr.draw(ge,Fe.TRIANGLES,mr.disabled,$e,ft,It.disabled,js(jt.posMatrix,qt,Yr,pe.paint.get("heatmap-intensity")),pe.id,lr.layoutVertexBuffer,lr.indexBuffer,lr.segments,pe.paint,ve.transform.zoom,or)}}}ge.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),zu(ve,pe))}function Jh(ve,Z,pe){var te=ve.gl;ve.activeTexture.set(te.TEXTURE1),ve.viewport.set([0,0,Z.width/4,Z.height/4]);var ge=pe.heatmapFbo;if(ge)te.bindTexture(te.TEXTURE_2D,ge.colorAttachment.get()),ve.bindFramebuffer.set(ge.framebuffer);else{var Fe=te.createTexture();te.bindTexture(te.TEXTURE_2D,Fe),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),ge=pe.heatmapFbo=ve.createFramebuffer(Z.width/4,Z.height/4,!1),Bo(ve,Z,Fe,ge)}}function Bo(ve,Z,pe,te){var ge=ve.gl,Fe=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ge.UNSIGNED_BYTE;ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,Z.width/4,Z.height/4,0,ge.RGBA,Fe,null),te.colorAttachment.set(pe)}function zu(ve,Z){var pe=ve.context,te=pe.gl,ge=Z.heatmapFbo;if(ge){pe.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,ge.colorAttachment.get()),pe.activeTexture.set(te.TEXTURE1);var Fe=Z.colorRampTexture;Fe||(Fe=Z.colorRampTexture=new a.Texture(pe,Z.colorRamp,te.RGBA)),Fe.bind(te.LINEAR,te.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(pe,te.TRIANGLES,mr.disabled,Qt.disabled,ve.colorModeForRenderPass(),It.disabled,Zh(ve,Z,0,1),Z.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,Z.paint,ve.transform.zoom)}}function bf(ve,Z,pe,te){if(ve.renderPass==="translucent"){var ge=pe.paint.get("line-opacity"),Fe=pe.paint.get("line-width");if(!(ge.constantOr(1)===0||Fe.constantOr(1)===0))for(var $e=ve.depthModeForSublayer(0,mr.ReadOnly),ft=ve.colorModeForRenderPass(),Lt=pe.paint.get("line-dasharray"),jt=pe.paint.get("line-pattern"),qt=jt.constantOr(1),lr=pe.paint.get("line-gradient"),or=pe.getCrossfadeParameters(),Fr=qt?"linePattern":Lt?"lineSDF":lr?"lineGradient":"line",Xr=ve.context,Yr=Xr.gl,Hr=!0,Jr=0,cn=te;Jr<cn.length;Jr+=1){var Fn=cn[Jr],Bn=Z.getTile(Fn);if(!(qt&&!Bn.patternsLoaded())){var Yn=Bn.getBucket(pe);if(Yn){var Xn=Yn.programConfigurations.get(pe.id),Gn=ve.context.program.get(),Kn=ve.useProgram(Fr,Xn),ta=Hr||Kn.program!==Gn,la=jt.constantOr(null);if(la&&Bn.imageAtlas){var ba=Bn.imageAtlas,va=ba.patternPositions[la.to.toString()],Oa=ba.patternPositions[la.from.toString()];va&&Oa&&Xn.setConstantPatternPositions(va,Oa)}var $a=qt?zc(ve,Bn,pe,or):Lt?Hs(ve,Bn,pe,Lt,or):lr?Ml(ve,Bn,pe,Yn.lineClipsArray.length):Sl(ve,Bn,pe);if(qt)Xr.activeTexture.set(Yr.TEXTURE0),Bn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Xn.updatePaintBuffers(or);else if(Lt&&(ta||ve.lineAtlas.dirty))Xr.activeTexture.set(Yr.TEXTURE0),ve.lineAtlas.bind(Xr);else if(lr){var Wa=Yn.gradients[pe.id],Ma=Wa.texture;if(pe.gradientVersion!==Wa.version){var Ya=256;if(pe.stepInterpolant){var ja=Z.getSource().maxzoom,ii=Fn.canonical.z===ja?Math.ceil(1<<ve.transform.maxZoom-Fn.canonical.z):1,ei=Yn.maxLineLength/a.EXTENT,Ai=1024,Ja=ei*Ai*ii;Ya=a.clamp(a.nextPowerOfTwo(Ja),256,Xr.maxTextureSize)}Wa.gradient=a.renderColorRamp({expression:pe.gradientExpression(),evaluationKey:"lineProgress",resolution:Ya,image:Wa.gradient||void 0,clips:Yn.lineClipsArray}),Wa.texture?Wa.texture.update(Wa.gradient):Wa.texture=new a.Texture(Xr,Wa.gradient,Yr.RGBA),Wa.version=pe.gradientVersion,Ma=Wa.texture}Xr.activeTexture.set(Yr.TEXTURE0),Ma.bind(pe.stepInterpolant?Yr.NEAREST:Yr.LINEAR,Yr.CLAMP_TO_EDGE)}Kn.draw(Xr,Yr.TRIANGLES,$e,ve.stencilModeForClipping(Fn),ft,It.disabled,$a,pe.id,Yn.layoutVertexBuffer,Yn.indexBuffer,Yn.segments,pe.paint,ve.transform.zoom,Xn,Yn.layoutVertexBuffer2),Hr=!1}}}}}function Ws(ve,Z,pe,te){var ge=pe.paint.get("fill-color"),Fe=pe.paint.get("fill-opacity");if(Fe.constantOr(1)!==0){var $e=ve.colorModeForRenderPass(),ft=pe.paint.get("fill-pattern"),Lt=ve.opaquePassEnabledForLayer()&&!ft.constantOr(1)&&ge.constantOr(a.Color.transparent).a===1&&Fe.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===Lt){var jt=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?mr.ReadWrite:mr.ReadOnly);ll(ve,Z,pe,te,jt,$e,!1)}if(ve.renderPass==="translucent"&&pe.paint.get("fill-antialias")){var qt=ve.depthModeForSublayer(pe.getPaintProperty("fill-outline-color")?2:0,mr.ReadOnly);ll(ve,Z,pe,te,qt,$e,!0)}}}function ll(ve,Z,pe,te,ge,Fe,$e){var ft=ve.context.gl,Lt=pe.paint.get("fill-pattern"),jt=Lt&&Lt.constantOr(1),qt=pe.getCrossfadeParameters(),lr,or,Fr,Xr,Yr;$e?(or=jt&&!pe.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",lr=ft.LINES):(or=jt?"fillPattern":"fill",lr=ft.TRIANGLES);for(var Hr=0,Jr=te;Hr<Jr.length;Hr+=1){var cn=Jr[Hr],Fn=Z.getTile(cn);if(!(jt&&!Fn.patternsLoaded())){var Bn=Fn.getBucket(pe);if(Bn){var Yn=Bn.programConfigurations.get(pe.id),Xn=ve.useProgram(or,Yn);jt&&(ve.context.activeTexture.set(ft.TEXTURE0),Fn.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Yn.updatePaintBuffers(qt));var Gn=Lt.constantOr(null);if(Gn&&Fn.imageAtlas){var Kn=Fn.imageAtlas,ta=Kn.patternPositions[Gn.to.toString()],la=Kn.patternPositions[Gn.from.toString()];ta&&la&&Yn.setConstantPatternPositions(ta,la)}var ba=ve.translatePosMatrix(cn.posMatrix,Fn,pe.paint.get("fill-translate"),pe.paint.get("fill-translate-anchor"));if(!$e)Xr=Bn.indexBuffer,Yr=Bn.segments,Fr=jt?us(ba,ve,qt,Fn):Vs(ba);else{Xr=Bn.indexBuffer2,Yr=Bn.segments2;var va=[ft.drawingBufferWidth,ft.drawingBufferHeight];Fr=or==="fillOutlinePattern"&&jt?Lu(ba,ve,qt,Fn,va):Ko(ba,va)}Xn.draw(ve.context,lr,ge,ve.stencilModeForClipping(cn),Fe,It.disabled,Fr,pe.id,Bn.layoutVertexBuffer,Xr,Yr,pe.paint,ve.transform.zoom,Yn)}}}}function Kf(ve,Z,pe,te){var ge=pe.paint.get("fill-extrusion-opacity");if(ge!==0&&ve.renderPass==="translucent"){var Fe=new mr(ve.context.gl.LEQUAL,mr.ReadWrite,ve.depthRangeFor3D);if(ge===1&&!pe.paint.get("fill-extrusion-pattern").constantOr(1)){var $e=ve.colorModeForRenderPass();Nu(ve,Z,pe,te,Fe,Qt.disabled,$e)}else Nu(ve,Z,pe,te,Fe,Qt.disabled,lt.disabled),Nu(ve,Z,pe,te,Fe,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function Nu(ve,Z,pe,te,ge,Fe,$e){for(var ft=ve.context,Lt=ft.gl,jt=pe.paint.get("fill-extrusion-pattern"),qt=jt.constantOr(1),lr=pe.getCrossfadeParameters(),or=pe.paint.get("fill-extrusion-opacity"),Fr=0,Xr=te;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr],Hr=Z.getTile(Yr),Jr=Hr.getBucket(pe);if(Jr){var cn=Jr.programConfigurations.get(pe.id),Fn=ve.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",cn);qt&&(ve.context.activeTexture.set(Lt.TEXTURE0),Hr.imageAtlasTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),cn.updatePaintBuffers(lr));var Bn=jt.constantOr(null);if(Bn&&Hr.imageAtlas){var Yn=Hr.imageAtlas,Xn=Yn.patternPositions[Bn.to.toString()],Gn=Yn.patternPositions[Bn.from.toString()];Xn&&Gn&&cn.setConstantPatternPositions(Xn,Gn)}var Kn=ve.translatePosMatrix(Yr.posMatrix,Hr,pe.paint.get("fill-extrusion-translate"),pe.paint.get("fill-extrusion-translate-anchor")),ta=pe.paint.get("fill-extrusion-vertical-gradient"),la=qt?ss(Kn,ve,ta,or,Yr,lr,Hr):Cu(Kn,ve,ta,or);Fn.draw(ft,ft.gl.TRIANGLES,ge,Fe,$e,It.backCCW,la,pe.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,pe.paint,ve.transform.zoom,cn)}}}function Bu(ve,Z,pe,te){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ge=ve.context,Fe=ve.depthModeForSublayer(0,mr.ReadOnly),$e=ve.colorModeForRenderPass(),ft=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(te):[{},te],Lt=ft[0],jt=ft[1],qt=0,lr=jt;qt<lr.length;qt+=1){var or=lr[qt],Fr=Z.getTile(or);Fr.needsHillshadePrepare&&ve.renderPass==="offscreen"?Vc(ve,Fr,pe,Fe,Qt.disabled,$e):ve.renderPass==="translucent"&&wf(ve,Fr,pe,Fe,Lt[or.overscaledZ],$e)}ge.viewport.set([0,0,ve.width,ve.height])}}function wf(ve,Z,pe,te,ge,Fe){var $e=ve.context,ft=$e.gl,Lt=Z.fbo;if(Lt){var jt=ve.useProgram("hillshade");$e.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_2D,Lt.colorAttachment.get());var qt=Yf(ve,Z,pe);jt.draw($e,ft.TRIANGLES,te,ge,Fe,It.disabled,qt,pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Vc(ve,Z,pe,te,ge,Fe){var $e=ve.context,ft=$e.gl,Lt=Z.dem;if(Lt&&Lt.data){var jt=Lt.dim,qt=Lt.stride,lr=Lt.getPixels();if($e.activeTexture.set(ft.TEXTURE1),$e.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||ve.getTileTexture(qt),Z.demTexture){var or=Z.demTexture;or.update(lr,{premultiply:!1}),or.bind(ft.NEAREST,ft.CLAMP_TO_EDGE)}else Z.demTexture=new a.Texture($e,lr,ft.RGBA,{premultiply:!1}),Z.demTexture.bind(ft.NEAREST,ft.CLAMP_TO_EDGE);$e.activeTexture.set(ft.TEXTURE0);var Fr=Z.fbo;if(!Fr){var Xr=new a.Texture($e,{width:jt,height:jt,data:null},ft.RGBA);Xr.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Fr=Z.fbo=$e.createFramebuffer(jt,jt,!0),Fr.colorAttachment.set(Xr.texture)}$e.bindFramebuffer.set(Fr.framebuffer),$e.viewport.set([0,0,jt,jt]),ve.useProgram("hillshadePrepare").draw($e,ft.TRIANGLES,te,ge,Fe,It.disabled,Oc(Z.tileID,Lt),pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function Uu(ve,Z,pe,te){if(ve.renderPass==="translucent"&&pe.paint.get("raster-opacity")!==0&&te.length)for(var ge=ve.context,Fe=ge.gl,$e=Z.getSource(),ft=ve.useProgram("raster"),Lt=ve.colorModeForRenderPass(),jt=$e instanceof Q?[{},te]:ve.stencilConfigForOverlap(te),qt=jt[0],lr=jt[1],or=lr[lr.length-1].overscaledZ,Fr=!ve.options.moving,Xr=0,Yr=lr;Xr<Yr.length;Xr+=1){var Hr=Yr[Xr],Jr=ve.depthModeForSublayer(Hr.overscaledZ-or,pe.paint.get("raster-opacity")===1?mr.ReadWrite:mr.ReadOnly,Fe.LESS),cn=Z.getTile(Hr),Fn=ve.transform.calculatePosMatrix(Hr.toUnwrapped(),Fr);cn.registerFadeDuration(pe.paint.get("raster-fade-duration"));var Bn=Z.findLoadedParent(Hr,0),Yn=Jf(cn,Bn,Z,pe,ve.transform),Xn=void 0,Gn=void 0,Kn=pe.paint.get("raster-resampling")==="nearest"?Fe.NEAREST:Fe.LINEAR;ge.activeTexture.set(Fe.TEXTURE0),cn.texture.bind(Kn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),ge.activeTexture.set(Fe.TEXTURE1),Bn?(Bn.texture.bind(Kn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),Xn=Math.pow(2,Bn.tileID.overscaledZ-cn.tileID.overscaledZ),Gn=[cn.tileID.canonical.x*Xn%1,cn.tileID.canonical.y*Xn%1]):cn.texture.bind(Kn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST);var ta=Ru(Fn,Gn||[0,0],Xn||1,Yn,pe);$e instanceof Q?ft.draw(ge,Fe.TRIANGLES,Jr,Qt.disabled,Lt,It.disabled,ta,pe.id,$e.boundsBuffer,ve.quadTriangleIndexBuffer,$e.boundsSegments):ft.draw(ge,Fe.TRIANGLES,Jr,qt[Hr.overscaledZ],Lt,It.disabled,ta,pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Jf(ve,Z,pe,te,ge){var Fe=te.paint.get("raster-fade-duration");if(Fe>0){var $e=a.browser.now(),ft=($e-ve.timeAdded)/Fe,Lt=Z?($e-Z.timeAdded)/Fe:-1,jt=pe.getSource(),qt=ge.coveringZoomLevel({tileSize:jt.tileSize,roundZoom:jt.roundZoom}),lr=!Z||Math.abs(Z.tileID.overscaledZ-qt)>Math.abs(ve.tileID.overscaledZ-qt),or=lr&&ve.refreshedUponExpiration?1:a.clamp(lr?ft:1-Lt,0,1);return ve.refreshedUponExpiration&&ft>=1&&(ve.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-or}:{opacity:or,mix:0}}else return{opacity:1,mix:0}}function Cl(ve,Z,pe){var te=pe.paint.get("background-color"),ge=pe.paint.get("background-opacity");if(ge!==0){var Fe=ve.context,$e=Fe.gl,ft=ve.transform,Lt=ft.tileSize,jt=pe.paint.get("background-pattern");if(!ve.isPatternMissing(jt)){var qt=!jt&&te.a===1&&ge===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===qt){var lr=Qt.disabled,or=ve.depthModeForSublayer(0,qt==="opaque"?mr.ReadWrite:mr.ReadOnly),Fr=ve.colorModeForRenderPass(),Xr=ve.useProgram(jt?"backgroundPattern":"background"),Yr=ft.coveringTiles({tileSize:Lt});jt&&(Fe.activeTexture.set($e.TEXTURE0),ve.imageManager.bind(ve.context));for(var Hr=pe.getCrossfadeParameters(),Jr=0,cn=Yr;Jr<cn.length;Jr+=1){var Fn=cn[Jr],Bn=ve.transform.calculatePosMatrix(Fn.toUnwrapped()),Yn=jt?ku(Bn,ge,ve,jt,{tileID:Fn,tileSize:Lt},Hr):il(Bn,ge,te);Xr.draw(Fe,$e.TRIANGLES,or,lr,Fr,It.disabled,Yn,pe.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var $f=new a.Color(1,0,0,1),Vu=new a.Color(0,1,0,1),jc=new a.Color(0,0,1,1),Qe=new a.Color(1,0,1,1),ot=new a.Color(0,1,1,1);function xt(ve){var Z=ve.transform.padding,pe=3;Ot(ve,ve.transform.height-(Z.top||0),pe,$f),Ot(ve,Z.bottom||0,pe,Vu),_t(ve,Z.left||0,pe,jc),_t(ve,ve.transform.width-(Z.right||0),pe,Qe);var te=ve.transform.centerPoint;wt(ve,te.x,ve.transform.height-te.y,ot)}function wt(ve,Z,pe,te){var ge=20,Fe=2;Ut(ve,Z-Fe/2,pe-ge/2,Fe,ge,te),Ut(ve,Z-ge/2,pe-Fe/2,ge,Fe,te)}function Ot(ve,Z,pe,te){Ut(ve,0,Z+pe/2,ve.transform.width,pe,te)}function _t(ve,Z,pe,te){Ut(ve,Z-pe/2,0,pe,ve.transform.height,te)}function Ut(ve,Z,pe,te,ge,Fe){var $e=ve.context,ft=$e.gl;ft.enable(ft.SCISSOR_TEST),ft.scissor(Z*a.browser.devicePixelRatio,pe*a.browser.devicePixelRatio,te*a.browser.devicePixelRatio,ge*a.browser.devicePixelRatio),$e.clear({color:Fe}),ft.disable(ft.SCISSOR_TEST)}function pr(ve,Z,pe){for(var te=0;te<pe.length;te++)wr(ve,Z,pe[te])}function wr(ve,Z,pe){var te=ve.context,ge=te.gl,Fe=pe.posMatrix,$e=ve.useProgram("debug"),ft=mr.disabled,Lt=Qt.disabled,jt=ve.colorModeForRenderPass(),qt="$debug";te.activeTexture.set(ge.TEXTURE0),ve.emptyTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),$e.draw(te,ge.LINE_STRIP,ft,Lt,jt,It.disabled,qi(Fe,a.Color.red),qt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var lr=Z.getTileByID(pe.key).latestRawTileData,or=lr&&lr.byteLength||0,Fr=Math.floor(or/1024),Xr=Z.getTile(pe).tileSize,Yr=512/Math.min(Xr,512)*(pe.overscaledZ/ve.transform.zoom)*.5,Hr=pe.canonical.toString();pe.overscaledZ!==pe.canonical.z&&(Hr+=" => "+pe.overscaledZ);var Jr=Hr+" "+Fr+"kb";ir(ve,Jr),$e.draw(te,ge.TRIANGLES,ft,Lt,lt.alphaBlended,It.disabled,qi(Fe,a.Color.transparent,Yr),qt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function ir(ve,Z){ve.initDebugOverlayCanvas();var pe=ve.debugOverlayCanvas,te=ve.context.gl,ge=ve.debugOverlayCanvas.getContext("2d");ge.clearRect(0,0,pe.width,pe.height),ge.shadowColor="white",ge.shadowBlur=2,ge.lineWidth=1.5,ge.strokeStyle="white",ge.textBaseline="top",ge.font="bold 36px Open Sans, sans-serif",ge.fillText(Z,5,5),ge.strokeText(Z,5,5),ve.debugOverlayTexture.update(pe),ve.debugOverlayTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)}function Mr(ve,Z,pe){var te=ve.context,ge=pe.implementation;if(ve.renderPass==="offscreen"){var Fe=ge.prerender;Fe&&(ve.setCustomLayerDefaults(),te.setColorMode(ve.colorModeForRenderPass()),Fe.call(ge,te.gl,ve.transform.customLayerMatrix()),te.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),te.setColorMode(ve.colorModeForRenderPass()),te.setStencilMode(Qt.disabled);var $e=ge.renderingMode==="3d"?new mr(ve.context.gl.LEQUAL,mr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,mr.ReadOnly);te.setDepthMode($e),ge.render(te.gl,ve.transform.customLayerMatrix()),te.setDirty(),ve.setBaseState(),te.bindFramebuffer.set(null)}}var kr={symbol:xf,circle:Uc,heatmap:sl,line:bf,fill:Ws,"fill-extrusion":Kf,hillshade:Bu,raster:Uu,background:Cl,debug:pr,custom:Mr},Br=function(Z,pe){this.context=new Dt(Z),this.transform=pe,this._tileTextures={},this.setup(),this.numSublayers=Vt.maxUnderzooming+Vt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new oa,this.gpuTimers={}};Br.prototype.resize=function(Z,pe){if(this.width=Z*a.browser.devicePixelRatio,this.height=pe*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var te=0,ge=this.style._order;te<ge.length;te+=1){var Fe=ge[te];this.style._layers[Fe].resize()}},Br.prototype.setup=function(){var Z=this.context,pe=new a.StructArrayLayout2i4;pe.emplaceBack(0,0),pe.emplaceBack(a.EXTENT,0),pe.emplaceBack(0,a.EXTENT),pe.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(pe,Oo.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var te=new a.StructArrayLayout2i4;te.emplaceBack(0,0),te.emplaceBack(a.EXTENT,0),te.emplaceBack(0,a.EXTENT),te.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=Z.createVertexBuffer(te,Oo.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var ge=new a.StructArrayLayout4i8;ge.emplaceBack(0,0,0,0),ge.emplaceBack(a.EXTENT,0,a.EXTENT,0),ge.emplaceBack(0,a.EXTENT,0,a.EXTENT),ge.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(ge,W.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Fe=new a.StructArrayLayout2i4;Fe.emplaceBack(0,0),Fe.emplaceBack(1,0),Fe.emplaceBack(0,1),Fe.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(Fe,Oo.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var $e=new a.StructArrayLayout1ui2;$e.emplaceBack(0),$e.emplaceBack(1),$e.emplaceBack(3),$e.emplaceBack(2),$e.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer($e);var ft=new a.StructArrayLayout3ui6;ft.emplaceBack(0,1,2),ft.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(ft),this.emptyTexture=new a.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var Lt=this.context.gl;this.stencilClearMode=new Qt({func:Lt.ALWAYS,mask:0},0,255,Lt.ZERO,Lt.ZERO,Lt.ZERO)},Br.prototype.clearStencil=function(){var Z=this.context,pe=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var te=a.create();a.ortho(te,0,this.width,this.height,0,0,1),a.scale(te,te,[pe.drawingBufferWidth,pe.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,pe.TRIANGLES,mr.disabled,this.stencilClearMode,lt.disabled,It.disabled,ql(te),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Br.prototype._renderTileClippingMasks=function(Z,pe){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!pe||!pe.length)){this.currentStencilSource=Z.source;var te=this.context,ge=te.gl;this.nextStencilID+pe.length>256&&this.clearStencil(),te.setColorMode(lt.disabled),te.setDepthMode(mr.disabled);var Fe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var $e=0,ft=pe;$e<ft.length;$e+=1){var Lt=ft[$e],jt=this._tileClippingMaskIDs[Lt.key]=this.nextStencilID++;Fe.draw(te,ge.TRIANGLES,mr.disabled,new Qt({func:ge.ALWAYS,mask:0},jt,255,ge.KEEP,ge.KEEP,ge.REPLACE),lt.disabled,It.disabled,ql(Lt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Br.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,pe=this.context.gl;return new Qt({func:pe.NOTEQUAL,mask:255},Z,255,pe.KEEP,pe.KEEP,pe.REPLACE)},Br.prototype.stencilModeForClipping=function(Z){var pe=this.context.gl;return new Qt({func:pe.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,pe.KEEP,pe.KEEP,pe.REPLACE)},Br.prototype.stencilConfigForOverlap=function(Z){var pe,te=this.context.gl,ge=Z.sort(function(jt,qt){return qt.overscaledZ-jt.overscaledZ}),Fe=ge[ge.length-1].overscaledZ,$e=ge[0].overscaledZ-Fe+1;if($e>1){this.currentStencilSource=void 0,this.nextStencilID+$e>256&&this.clearStencil();for(var ft={},Lt=0;Lt<$e;Lt++)ft[Lt+Fe]=new Qt({func:te.GEQUAL,mask:255},Lt+this.nextStencilID,255,te.KEEP,te.KEEP,te.REPLACE);return this.nextStencilID+=$e,[ft,ge]}return[(pe={},pe[Fe]=Qt.disabled,pe),ge]},Br.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var pe=8,te=1/pe;return new lt([Z.CONSTANT_COLOR,Z.ONE],new a.Color(te,te,te,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Br.prototype.depthModeForSublayer=function(Z,pe,te){if(!this.opaquePassEnabledForLayer())return mr.disabled;var ge=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new mr(te||this.context.gl.LEQUAL,pe,[ge,ge])},Br.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Br.prototype.render=function(Z,pe){var te=this;this.style=Z,this.options=pe,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var ge=this.style._order,Fe=this.style.sourceCaches;for(var $e in Fe){var ft=Fe[$e];ft.used&&ft.prepare(this.context)}var Lt={},jt={},qt={};for(var lr in Fe){var or=Fe[lr];Lt[lr]=or.getVisibleCoordinates(),jt[lr]=Lt[lr].slice().reverse(),qt[lr]=or.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Fr=0;Fr<ge.length;Fr++){var Xr=ge[Fr];if(this.style._layers[Xr].is3D()){this.opaquePassCutoff=Fr;break}}this.renderPass="offscreen";for(var Yr=0,Hr=ge;Yr<Hr.length;Yr+=1){var Jr=Hr[Yr],cn=this.style._layers[Jr];if(!(!cn.hasOffscreenPass()||cn.isHidden(this.transform.zoom))){var Fn=jt[cn.source];cn.type!=="custom"&&!Fn.length||this.renderLayer(this,Fe[cn.source],cn,Fn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:pe.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=pe.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ge.length-1;this.currentLayer>=0;this.currentLayer--){var Bn=this.style._layers[ge[this.currentLayer]],Yn=Fe[Bn.source],Xn=Lt[Bn.source];this._renderTileClippingMasks(Bn,Xn),this.renderLayer(this,Yn,Bn,Xn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ge.length;this.currentLayer++){var Gn=this.style._layers[ge[this.currentLayer]],Kn=Fe[Gn.source],ta=(Gn.type==="symbol"?qt:jt)[Gn.source];this._renderTileClippingMasks(Gn,Lt[Gn.source]),this.renderLayer(this,Kn,Gn,ta)}if(this.options.showTileBoundaries){var la,ba,va=a.values(this.style._layers);va.forEach(function(Oa){Oa.source&&!Oa.isHidden(te.transform.zoom)&&(Oa.source!==(ba&&ba.id)&&(ba=te.style.sourceCaches[Oa.source]),(!la||la.getSource().maxzoom<ba.getSource().maxzoom)&&(la=ba))}),la&&kr.debug(this,la,la.getVisibleCoordinates())}this.options.showPadding&&xt(this),this.context.setDefault()},Br.prototype.renderLayer=function(Z,pe,te,ge){te.isHidden(this.transform.zoom)||te.type!=="background"&&te.type!=="custom"&&!ge.length||(this.id=te.id,this.gpuTimingStart(te),kr[te.type](Z,pe,te,ge,this.style.placement.variableOffsets),this.gpuTimingEnd())},Br.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var pe=this.context.extTimerQuery,te=this.gpuTimers[Z.id];te||(te=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:pe.createQueryEXT()}),te.calls++,pe.beginQueryEXT(pe.TIME_ELAPSED_EXT,te.query)}},Br.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},Br.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},Br.prototype.queryGpuTimers=function(Z){var pe={};for(var te in Z){var ge=Z[te],Fe=this.context.extTimerQuery,$e=Fe.getQueryObjectEXT(ge.query,Fe.QUERY_RESULT_EXT)/(1e3*1e3);Fe.deleteQueryEXT(ge.query),pe[te]=$e}return pe},Br.prototype.translatePosMatrix=function(Z,pe,te,ge,Fe){if(!te[0]&&!te[1])return Z;var $e=Fe?ge==="map"?this.transform.angle:0:ge==="viewport"?-this.transform.angle:0;if($e){var ft=Math.sin($e),Lt=Math.cos($e);te=[te[0]*Lt-te[1]*ft,te[0]*ft+te[1]*Lt]}var jt=[Fe?te[0]:gn(pe,te[0],this.transform.zoom),Fe?te[1]:gn(pe,te[1],this.transform.zoom),0],qt=new Float32Array(16);return a.translate(qt,Z,jt),qt},Br.prototype.saveTileTexture=function(Z){var pe=this._tileTextures[Z.size[0]];pe?pe.push(Z):this._tileTextures[Z.size[0]]=[Z]},Br.prototype.getTileTexture=function(Z){var pe=this._tileTextures[Z];return pe&&pe.length>0?pe.pop():null},Br.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var pe=this.imageManager.getPattern(Z.from.toString()),te=this.imageManager.getPattern(Z.to.toString());return!pe||!te},Br.prototype.useProgram=function(Z,pe){this.cache=this.cache||{};var te=""+Z+(pe?pe.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[te]||(this.cache[te]=new Gf(this.context,Z,Rc[Z],pe,ol[Z],this._showOverdrawInspector)),this.cache[te]},Br.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Br.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},Br.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},Br.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var rn=function(Z,pe){this.points=Z,this.planes=pe};rn.fromInvProjectionMatrix=function(Z,pe,te){var ge=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Fe=Math.pow(2,te),$e=ge.map(function(jt){return a.transformMat4([],jt,Z)}).map(function(jt){return a.scale$1([],jt,1/jt[3]/pe*Fe)}),ft=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Lt=ft.map(function(jt){var qt=a.sub([],$e[jt[0]],$e[jt[1]]),lr=a.sub([],$e[jt[2]],$e[jt[1]]),or=a.normalize([],a.cross([],qt,lr)),Fr=-a.dot(or,$e[jt[1]]);return or.concat(Fr)});return new rn($e,Lt)};var bn=function(Z,pe){this.min=Z,this.max=pe,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};bn.prototype.quadrant=function(Z){for(var pe=[Z%2===0,Z<2],te=a.clone$2(this.min),ge=a.clone$2(this.max),Fe=0;Fe<pe.length;Fe++)te[Fe]=pe[Fe]?this.min[Fe]:this.center[Fe],ge[Fe]=pe[Fe]?this.center[Fe]:this.max[Fe];return ge[2]=this.max[2],new bn(te,ge)},bn.prototype.distanceX=function(Z){var pe=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return pe-Z[0]},bn.prototype.distanceY=function(Z){var pe=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return pe-Z[1]},bn.prototype.intersects=function(Z){for(var pe=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],te=!0,ge=0;ge<Z.planes.length;ge++){for(var Fe=Z.planes[ge],$e=0,ft=0;ft<pe.length;ft++)$e+=a.dot$1(Fe,pe[ft])>=0;if($e===0)return 0;$e!==pe.length&&(te=!1)}if(te)return 2;for(var Lt=0;Lt<3;Lt++){for(var jt=Number.MAX_VALUE,qt=-Number.MAX_VALUE,lr=0;lr<Z.points.length;lr++){var or=Z.points[lr][Lt]-this.min[Lt];jt=Math.min(jt,or),qt=Math.max(qt,or)}if(qt<0||jt>this.max[Lt]-this.min[Lt])return 0}return 1};var In=function(Z,pe,te,ge){if(Z===void 0&&(Z=0),pe===void 0&&(pe=0),te===void 0&&(te=0),ge===void 0&&(ge=0),isNaN(Z)||Z<0||isNaN(pe)||pe<0||isNaN(te)||te<0||isNaN(ge)||ge<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=pe,this.left=te,this.right=ge};In.prototype.interpolate=function(Z,pe,te){return pe.top!=null&&Z.top!=null&&(this.top=a.number(Z.top,pe.top,te)),pe.bottom!=null&&Z.bottom!=null&&(this.bottom=a.number(Z.bottom,pe.bottom,te)),pe.left!=null&&Z.left!=null&&(this.left=a.number(Z.left,pe.left,te)),pe.right!=null&&Z.right!=null&&(this.right=a.number(Z.right,pe.right,te)),this},In.prototype.getCenter=function(Z,pe){var te=a.clamp((this.left+Z-this.right)/2,0,Z),ge=a.clamp((this.top+pe-this.bottom)/2,0,pe);return new a.Point(te,ge)},In.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},In.prototype.clone=function(){return new In(this.top,this.bottom,this.left,this.right)},In.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var _n=function(Z,pe,te,ge,Fe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Fe===void 0?!0:Fe,this._minZoom=Z||0,this._maxZoom=pe||22,this._minPitch=te??0,this._maxPitch=ge??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new In,this._posMatrixCache={},this._alignedPosMatrixCache={}},Zn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};_n.prototype.clone=function(){var Z=new _n(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},Zn.minZoom.get=function(){return this._minZoom},Zn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},Zn.maxZoom.get=function(){return this._maxZoom},Zn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},Zn.minPitch.get=function(){return this._minPitch},Zn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},Zn.maxPitch.get=function(){return this._maxPitch},Zn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},Zn.renderWorldCopies.get=function(){return this._renderWorldCopies},Zn.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},Zn.worldSize.get=function(){return this.tileSize*this.scale},Zn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Zn.size.get=function(){return new a.Point(this.width,this.height)},Zn.bearing.get=function(){return-this.angle/Math.PI*180},Zn.bearing.set=function(ve){var Z=-a.wrap(ve,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Zn.pitch.get=function(){return this._pitch/Math.PI*180},Zn.pitch.set=function(ve){var Z=a.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Zn.fov.get=function(){return this._fov/Math.PI*180},Zn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},Zn.zoom.get=function(){return this._zoom},Zn.zoom.set=function(ve){var Z=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Zn.center.get=function(){return this._center},Zn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},Zn.padding.get=function(){return this._edgeInsets.toJSON()},Zn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},Zn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},_n.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},_n.prototype.interpolatePadding=function(Z,pe,te){this._unmodified=!1,this._edgeInsets.interpolate(Z,pe,te),this._constrain(),this._calcMatrices()},_n.prototype.coveringZoomLevel=function(Z){var pe=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,pe)},_n.prototype.getVisibleUnwrappedCoordinates=function(Z){var pe=[new a.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var te=this.pointCoordinate(new a.Point(0,0)),ge=this.pointCoordinate(new a.Point(this.width,0)),Fe=this.pointCoordinate(new a.Point(this.width,this.height)),$e=this.pointCoordinate(new a.Point(0,this.height)),ft=Math.floor(Math.min(te.x,ge.x,Fe.x,$e.x)),Lt=Math.floor(Math.max(te.x,ge.x,Fe.x,$e.x)),jt=1,qt=ft-jt;qt<=Lt+jt;qt++)qt!==0&&pe.push(new a.UnwrappedTileID(qt,Z));return pe},_n.prototype.coveringTiles=function(Z){var pe=this.coveringZoomLevel(Z),te=pe;if(Z.minzoom!==void 0&&pe<Z.minzoom)return[];Z.maxzoom!==void 0&&pe>Z.maxzoom&&(pe=Z.maxzoom);var ge=a.MercatorCoordinate.fromLngLat(this.center),Fe=Math.pow(2,pe),$e=[Fe*ge.x,Fe*ge.y,0],ft=rn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,pe),Lt=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Lt=pe);var jt=3,qt=function(va){return{aabb:new bn([va*Fe,0,0],[(va+1)*Fe,Fe,0]),zoom:0,x:0,y:0,wrap:va,fullyVisible:!1}},lr=[],or=[],Fr=pe,Xr=Z.reparseOverscaled?te:pe;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)lr.push(qt(-Yr)),lr.push(qt(Yr));for(lr.push(qt(0));lr.length>0;){var Hr=lr.pop(),Jr=Hr.x,cn=Hr.y,Fn=Hr.fullyVisible;if(!Fn){var Bn=Hr.aabb.intersects(ft);if(Bn===0)continue;Fn=Bn===2}var Yn=Hr.aabb.distanceX($e),Xn=Hr.aabb.distanceY($e),Gn=Math.max(Math.abs(Yn),Math.abs(Xn)),Kn=jt+(1<<Fr-Hr.zoom)-2;if(Hr.zoom===Fr||Gn>Kn&&Hr.zoom>=Lt){or.push({tileID:new a.OverscaledTileID(Hr.zoom===Fr?Xr:Hr.zoom,Hr.wrap,Hr.zoom,Jr,cn),distanceSq:a.sqrLen([$e[0]-.5-Jr,$e[1]-.5-cn])});continue}for(var ta=0;ta<4;ta++){var la=(Jr<<1)+ta%2,ba=(cn<<1)+(ta>>1);lr.push({aabb:Hr.aabb.quadrant(ta),zoom:Hr.zoom+1,x:la,y:ba,wrap:Hr.wrap,fullyVisible:Fn})}}return or.sort(function(va,Oa){return va.distanceSq-Oa.distanceSq}).map(function(va){return va.tileID})},_n.prototype.resize=function(Z,pe){this.width=Z,this.height=pe,this.pixelsToGLUnits=[2/Z,-2/pe],this._constrain(),this._calcMatrices()},Zn.unmodified.get=function(){return this._unmodified},_n.prototype.zoomScale=function(Z){return Math.pow(2,Z)},_n.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},_n.prototype.project=function(Z){var pe=a.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(Z.lng)*this.worldSize,a.mercatorYfromLat(pe)*this.worldSize)},_n.prototype.unproject=function(Z){return new a.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},Zn.point.get=function(){return this.project(this.center)},_n.prototype.setLocationAtPoint=function(Z,pe){var te=this.pointCoordinate(pe),ge=this.pointCoordinate(this.centerPoint),Fe=this.locationCoordinate(Z),$e=new a.MercatorCoordinate(Fe.x-(te.x-ge.x),Fe.y-(te.y-ge.y));this.center=this.coordinateLocation($e),this._renderWorldCopies&&(this.center=this.center.wrap())},_n.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},_n.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},_n.prototype.locationCoordinate=function(Z){return a.MercatorCoordinate.fromLngLat(Z)},_n.prototype.coordinateLocation=function(Z){return Z.toLngLat()},_n.prototype.pointCoordinate=function(Z){var pe=0,te=[Z.x,Z.y,0,1],ge=[Z.x,Z.y,1,1];a.transformMat4(te,te,this.pixelMatrixInverse),a.transformMat4(ge,ge,this.pixelMatrixInverse);var Fe=te[3],$e=ge[3],ft=te[0]/Fe,Lt=ge[0]/$e,jt=te[1]/Fe,qt=ge[1]/$e,lr=te[2]/Fe,or=ge[2]/$e,Fr=lr===or?0:(pe-lr)/(or-lr);return new a.MercatorCoordinate(a.number(ft,Lt,Fr)/this.worldSize,a.number(jt,qt,Fr)/this.worldSize)},_n.prototype.coordinatePoint=function(Z){var pe=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return a.transformMat4(pe,pe,this.pixelMatrix),new a.Point(pe[0]/pe[3],pe[1]/pe[3])},_n.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},_n.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},_n.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},_n.prototype.calculatePosMatrix=function(Z,pe){pe===void 0&&(pe=!1);var te=Z.key,ge=pe?this._alignedPosMatrixCache:this._posMatrixCache;if(ge[te])return ge[te];var Fe=Z.canonical,$e=this.worldSize/this.zoomScale(Fe.z),ft=Fe.x+Math.pow(2,Fe.z)*Z.wrap,Lt=a.identity(new Float64Array(16));return a.translate(Lt,Lt,[ft*$e,Fe.y*$e,0]),a.scale(Lt,Lt,[$e/a.EXTENT,$e/a.EXTENT,1]),a.multiply(Lt,pe?this.alignedProjMatrix:this.projMatrix,Lt),ge[te]=new Float32Array(Lt),ge[te]},_n.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},_n.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,pe=90,te=-180,ge=180,Fe,$e,ft,Lt,jt=this.size,qt=this._unmodified;if(this.latRange){var lr=this.latRange;Z=a.mercatorYfromLat(lr[1])*this.worldSize,pe=a.mercatorYfromLat(lr[0])*this.worldSize,Fe=pe-Z<jt.y?jt.y/(pe-Z):0}if(this.lngRange){var or=this.lngRange;te=a.mercatorXfromLng(or[0])*this.worldSize,ge=a.mercatorXfromLng(or[1])*this.worldSize,$e=ge-te<jt.x?jt.x/(ge-te):0}var Fr=this.point,Xr=Math.max($e||0,Fe||0);if(Xr){this.center=this.unproject(new a.Point($e?(ge+te)/2:Fr.x,Fe?(pe+Z)/2:Fr.y)),this.zoom+=this.scaleZoom(Xr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var Yr=Fr.y,Hr=jt.y/2;Yr-Hr<Z&&(Lt=Z+Hr),Yr+Hr>pe&&(Lt=pe-Hr)}if(this.lngRange){var Jr=Fr.x,cn=jt.x/2;Jr-cn<te&&(ft=te+cn),Jr+cn>ge&&(ft=ge-cn)}(ft!==void 0||Lt!==void 0)&&(this.center=this.unproject(new a.Point(ft!==void 0?ft:Fr.x,Lt!==void 0?Lt:Fr.y))),this._unmodified=qt,this._constraining=!1}},_n.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,pe=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var te=Math.PI/2+this._pitch,ge=this._fov*(.5+pe.y/this.height),Fe=Math.sin(ge)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-te-ge,.01,Math.PI-.01)),$e=this.point,ft=$e.x,Lt=$e.y,jt=Math.cos(Math.PI/2-this._pitch)*Fe+this.cameraToCenterDistance,qt=jt*1.01,lr=this.height/50,or=new Float64Array(16);a.perspective(or,this._fov,this.width/this.height,lr,qt),or[8]=-pe.x*2/this.width,or[9]=pe.y*2/this.height,a.scale(or,or,[1,-1,1]),a.translate(or,or,[0,0,-this.cameraToCenterDistance]),a.rotateX(or,or,this._pitch),a.rotateZ(or,or,this.angle),a.translate(or,or,[-ft,-Lt,0]),this.mercatorMatrix=a.scale([],or,[this.worldSize,this.worldSize,this.worldSize]),a.scale(or,or,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=or,this.invProjMatrix=a.invert([],this.projMatrix);var Fr=this.width%2/2,Xr=this.height%2/2,Yr=Math.cos(this.angle),Hr=Math.sin(this.angle),Jr=ft-Math.round(ft)+Yr*Fr+Hr*Xr,cn=Lt-Math.round(Lt)+Yr*Xr+Hr*Fr,Fn=new Float64Array(or);if(a.translate(Fn,Fn,[Jr>.5?Jr-1:Jr,cn>.5?cn-1:cn,0]),this.alignedProjMatrix=Fn,or=a.create(),a.scale(or,or,[this.width/2,-this.height/2,1]),a.translate(or,or,[1,-1,0]),this.labelPlaneMatrix=or,or=a.create(),a.scale(or,or,[1,-1,1]),a.translate(or,or,[-1,-1,0]),a.scale(or,or,[2/this.width,2/this.height,1]),this.glCoordMatrix=or,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),or=a.invert(new Float64Array(16),this.pixelMatrix),!or)throw new Error("failed to invert matrix");this.pixelMatrixInverse=or,this._posMatrixCache={},this._alignedPosMatrixCache={}}},_n.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new a.Point(0,0)),pe=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],te=a.transformMat4(pe,pe,this.pixelMatrix);return te[3]/this.cameraToCenterDistance},_n.prototype.getCameraPoint=function(){var Z=this._pitch,pe=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,pe))},_n.prototype.getCameraQueryGeometry=function(Z){var pe=this.getCameraPoint();if(Z.length===1)return[Z[0],pe];for(var te=pe.x,ge=pe.y,Fe=pe.x,$e=pe.y,ft=0,Lt=Z;ft<Lt.length;ft+=1){var jt=Lt[ft];te=Math.min(te,jt.x),ge=Math.min(ge,jt.y),Fe=Math.max(Fe,jt.x),$e=Math.max($e,jt.y)}return[new a.Point(te,ge),new a.Point(Fe,ge),new a.Point(Fe,$e),new a.Point(te,$e),new a.Point(te,ge)]},Object.defineProperties(_n.prototype,Zn);function Ra(ve,Z){var pe=!1,te=null,ge=function(){te=null,pe&&(ve(),te=setTimeout(ge,Z),pe=!1)};return function(){return pe=!0,te||ge(),te}}var Da=function(Z){this._hashName=Z&&encodeURIComponent(Z),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ra(this._updateHashUnthrottled.bind(this),30*1e3/100)};Da.prototype.addTo=function(Z){return this._map=Z,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Da.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Da.prototype.getHashString=function(Z){var pe=this._map.getCenter(),te=Math.round(this._map.getZoom()*100)/100,ge=Math.ceil((te*Math.LN2+Math.log(512/360/.5))/Math.LN10),Fe=Math.pow(10,ge),$e=Math.round(pe.lng*Fe)/Fe,ft=Math.round(pe.lat*Fe)/Fe,Lt=this._map.getBearing(),jt=this._map.getPitch(),qt="";if(Z?qt+="/"+$e+"/"+ft+"/"+te:qt+=te+"/"+ft+"/"+$e,(Lt||jt)&&(qt+="/"+Math.round(Lt*10)/10),jt&&(qt+="/"+Math.round(jt)),this._hashName){var lr=this._hashName,or=!1,Fr=a.window.location.hash.slice(1).split("&").map(function(Xr){var Yr=Xr.split("=")[0];return Yr===lr?(or=!0,Yr+"="+qt):Xr}).filter(function(Xr){return Xr});return or||Fr.push(lr+"="+qt),"#"+Fr.join("&")}return"#"+qt},Da.prototype._getCurrentHash=function(){var Z=this,pe=a.window.location.hash.replace("#","");if(this._hashName){var te;return pe.split("&").map(function(ge){return ge.split("=")}).forEach(function(ge){ge[0]===Z._hashName&&(te=ge)}),(te&&te[1]||"").split("/")}return pe.split("/")},Da.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(te){return isNaN(te)})){var pe=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:pe,pitch:+(Z[4]||0)}),!0}return!1},Da.prototype._updateHashUnthrottled=function(){var Z=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,Z)}catch{}};var Ia={linearity:.3,easing:a.bezier(0,0,.3,1)},za=a.extend({deceleration:2500,maxSpeed:1400},Ia),Xa=a.extend({deceleration:20,maxSpeed:1400},Ia),vi=a.extend({deceleration:1e3,maxSpeed:360},Ia),Oi=a.extend({deceleration:1e3,maxSpeed:90},Ia),ce=function(Z){this._map=Z,this.clear()};ce.prototype.clear=function(){this._inertiaBuffer=[]},ce.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:Z})},ce.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,pe=a.browser.now(),te=160;Z.length>0&&pe-Z[0].time>te;)Z.shift()},ce.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var pe={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},te=0,ge=this._inertiaBuffer;te<ge.length;te+=1){var Fe=ge[te],$e=Fe.settings;pe.zoom+=$e.zoomDelta||0,pe.bearing+=$e.bearingDelta||0,pe.pitch+=$e.pitchDelta||0,$e.panDelta&&pe.pan._add($e.panDelta),$e.around&&(pe.around=$e.around),$e.pinchAround&&(pe.pinchAround=$e.pinchAround)}var ft=this._inertiaBuffer[this._inertiaBuffer.length-1],Lt=ft.time-this._inertiaBuffer[0].time,jt={};if(pe.pan.mag()){var qt=Ne(pe.pan.mag(),Lt,a.extend({},za,Z||{}));jt.offset=pe.pan.mult(qt.amount/pe.pan.mag()),jt.center=this._map.transform.center,Pe(jt,qt)}if(pe.zoom){var lr=Ne(pe.zoom,Lt,Xa);jt.zoom=this._map.transform.zoom+lr.amount,Pe(jt,lr)}if(pe.bearing){var or=Ne(pe.bearing,Lt,vi);jt.bearing=this._map.transform.bearing+a.clamp(or.amount,-179,179),Pe(jt,or)}if(pe.pitch){var Fr=Ne(pe.pitch,Lt,Oi);jt.pitch=this._map.transform.pitch+Fr.amount,Pe(jt,Fr)}if(jt.zoom||jt.bearing){var Xr=pe.pinchAround===void 0?pe.around:pe.pinchAround;jt.around=Xr?this._map.unproject(Xr):this._map.getCenter()}return this.clear(),a.extend(jt,{noMoveStart:!0})}};function Pe(ve,Z){(!ve.duration||ve.duration<Z.duration)&&(ve.duration=Z.duration,ve.easing=Z.easing)}function Ne(ve,Z,pe){var te=pe.maxSpeed,ge=pe.linearity,Fe=pe.deceleration,$e=a.clamp(ve*ge/(Z/1e3),-te,te),ft=Math.abs($e)/(Fe*ge);return{easing:pe.easing,duration:ft*1e3,amount:$e*(ft/2)}}var et=function(ve){function Z(te,ge,Fe,$e){$e===void 0&&($e={});var ft=w.mousePos(ge.getCanvasContainer(),Fe),Lt=ge.unproject(ft);ve.call(this,te,a.extend({point:ft,lngLat:Lt,originalEvent:Fe},$e)),this._defaultPrevented=!1,this.target=ge}ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z;var pe={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,pe),Z}(a.Event),it=function(ve){function Z(te,ge,Fe){var $e=te==="touchend"?Fe.changedTouches:Fe.touches,ft=w.touchPos(ge.getCanvasContainer(),$e),Lt=ft.map(function(lr){return ge.unproject(lr)}),jt=ft.reduce(function(lr,or,Fr,Xr){return lr.add(or.div(Xr.length))},new a.Point(0,0)),qt=ge.unproject(jt);ve.call(this,te,{points:ft,point:jt,lngLats:Lt,lngLat:qt,originalEvent:Fe}),this._defaultPrevented=!1}ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z;var pe={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,pe),Z}(a.Event),ct=function(ve){function Z(te,ge,Fe){ve.call(this,te,{originalEvent:Fe}),this._defaultPrevented=!1}ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z;var pe={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,pe),Z}(a.Event),Pt=function(Z,pe){this._map=Z,this._clickTolerance=pe.clickTolerance};Pt.prototype.reset=function(){delete this._mousedownPos},Pt.prototype.wheel=function(Z){return this._firePreventable(new ct(Z.type,this._map,Z))},Pt.prototype.mousedown=function(Z,pe){return this._mousedownPos=pe,this._firePreventable(new et(Z.type,this._map,Z))},Pt.prototype.mouseup=function(Z){this._map.fire(new et(Z.type,this._map,Z))},Pt.prototype.click=function(Z,pe){this._mousedownPos&&this._mousedownPos.dist(pe)>=this._clickTolerance||this._map.fire(new et(Z.type,this._map,Z))},Pt.prototype.dblclick=function(Z){return this._firePreventable(new et(Z.type,this._map,Z))},Pt.prototype.mouseover=function(Z){this._map.fire(new et(Z.type,this._map,Z))},Pt.prototype.mouseout=function(Z){this._map.fire(new et(Z.type,this._map,Z))},Pt.prototype.touchstart=function(Z){return this._firePreventable(new it(Z.type,this._map,Z))},Pt.prototype.touchmove=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Pt.prototype.touchend=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Pt.prototype.touchcancel=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Pt.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var Mt=function(Z){this._map=Z};Mt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Mt.prototype.mousemove=function(Z){this._map.fire(new et(Z.type,this._map,Z))},Mt.prototype.mousedown=function(){this._delayContextMenu=!0},Mt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new et("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Mt.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new et(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},Mt.prototype.isEnabled=function(){return!0},Mt.prototype.isActive=function(){return!1},Mt.prototype.enable=function(){},Mt.prototype.disable=function(){};var Ht=function(Z,pe){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=pe.clickTolerance||1};Ht.prototype.isEnabled=function(){return!!this._enabled},Ht.prototype.isActive=function(){return!!this._active},Ht.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ht.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ht.prototype.mousedown=function(Z,pe){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(w.disableDrag(),this._startPos=this._lastPos=pe,this._active=!0)},Ht.prototype.mousemoveWindow=function(Z,pe){if(this._active){var te=pe;if(!(this._lastPos.equals(te)||!this._box&&te.dist(this._startPos)<this._clickTolerance)){var ge=this._startPos;this._lastPos=te,this._box||(this._box=w.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var Fe=Math.min(ge.x,te.x),$e=Math.max(ge.x,te.x),ft=Math.min(ge.y,te.y),Lt=Math.max(ge.y,te.y);w.setTransform(this._box,"translate("+Fe+"px,"+ft+"px)"),this._box.style.width=$e-Fe+"px",this._box.style.height=Lt-ft+"px"}}},Ht.prototype.mouseupWindow=function(Z,pe){var te=this;if(this._active&&Z.button===0){var ge=this._startPos,Fe=pe;if(this.reset(),w.suppressClick(),ge.x===Fe.x&&ge.y===Fe.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function($e){return $e.fitScreenCoordinates(ge,Fe,te._map.getBearing(),{linear:!0})}}}},Ht.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},Ht.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(w.remove(this._box),this._box=null),w.enableDrag(),delete this._startPos,delete this._lastPos},Ht.prototype._fireEvent=function(Z,pe){return this._map.fire(new a.Event(Z,{originalEvent:pe}))};function Gt(ve,Z){for(var pe={},te=0;te<ve.length;te++)pe[ve[te].identifier]=Z[te];return pe}function rr(ve){for(var Z=new a.Point(0,0),pe=0,te=ve;pe<te.length;pe+=1){var ge=te[pe];Z._add(ge)}return Z.div(ve.length)}var Lr=500,Rr=500,$r=30,sn=function(Z){this.reset(),this.numTouches=Z.numTouches};sn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},sn.prototype.touchstart=function(Z,pe,te){(this.centroid||te.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),te.length===this.numTouches&&(this.centroid=rr(pe),this.touches=Gt(te,pe)))},sn.prototype.touchmove=function(Z,pe,te){if(!(this.aborted||!this.centroid)){var ge=Gt(te,pe);for(var Fe in this.touches){var $e=this.touches[Fe],ft=ge[Fe];(!ft||ft.dist($e)>$r)&&(this.aborted=!0)}}},sn.prototype.touchend=function(Z,pe,te){if((!this.centroid||Z.timeStamp-this.startTime>Rr)&&(this.aborted=!0),te.length===0){var ge=!this.aborted&&this.centroid;if(this.reset(),ge)return ge}};var Ir=function(Z){this.singleTap=new sn(Z),this.numTaps=Z.numTaps,this.reset()};Ir.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ir.prototype.touchstart=function(Z,pe,te){this.singleTap.touchstart(Z,pe,te)},Ir.prototype.touchmove=function(Z,pe,te){this.singleTap.touchmove(Z,pe,te)},Ir.prototype.touchend=function(Z,pe,te){var ge=this.singleTap.touchend(Z,pe,te);if(ge){var Fe=Z.timeStamp-this.lastTime<Lr,$e=!this.lastTap||this.lastTap.dist(ge)<$r;if((!Fe||!$e)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=ge,this.count===this.numTaps)return this.reset(),ge}};var Ur=function(){this._zoomIn=new Ir({numTouches:1,numTaps:2}),this._zoomOut=new Ir({numTouches:2,numTaps:1}),this.reset()};Ur.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ur.prototype.touchstart=function(Z,pe,te){this._zoomIn.touchstart(Z,pe,te),this._zoomOut.touchstart(Z,pe,te)},Ur.prototype.touchmove=function(Z,pe,te){this._zoomIn.touchmove(Z,pe,te),this._zoomOut.touchmove(Z,pe,te)},Ur.prototype.touchend=function(Z,pe,te){var ge=this,Fe=this._zoomIn.touchend(Z,pe,te),$e=this._zoomOut.touchend(Z,pe,te);if(Fe)return this._active=!0,Z.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()+1,around:ft.unproject(Fe)},{originalEvent:Z})}};if($e)return this._active=!0,Z.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()-1,around:ft.unproject($e)},{originalEvent:Z})}}},Ur.prototype.touchcancel=function(){this.reset()},Ur.prototype.enable=function(){this._enabled=!0},Ur.prototype.disable=function(){this._enabled=!1,this.reset()},Ur.prototype.isEnabled=function(){return this._enabled},Ur.prototype.isActive=function(){return this._active};var Kr=0,fn=2,dn={};dn[Kr]=1,dn[fn]=2;function en(ve,Z){var pe=dn[Z];return ve.buttons===void 0||(ve.buttons&pe)!==pe}var jn=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};jn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},jn.prototype._correctButton=function(Z,pe){return!1},jn.prototype._move=function(Z,pe){return{}},jn.prototype.mousedown=function(Z,pe){if(!this._lastPoint){var te=w.mouseButton(Z);this._correctButton(Z,te)&&(this._lastPoint=pe,this._eventButton=te)}},jn.prototype.mousemoveWindow=function(Z,pe){var te=this._lastPoint;if(te){if(Z.preventDefault(),en(Z,this._eventButton)){this.reset();return}if(!(!this._moved&&pe.dist(te)<this._clickTolerance))return this._moved=!0,this._lastPoint=pe,this._move(te,pe)}},jn.prototype.mouseupWindow=function(Z){if(this._lastPoint){var pe=w.mouseButton(Z);pe===this._eventButton&&(this._moved&&w.suppressClick(),this.reset())}},jn.prototype.enable=function(){this._enabled=!0},jn.prototype.disable=function(){this._enabled=!1,this.reset()},jn.prototype.isEnabled=function(){return this._enabled},jn.prototype.isActive=function(){return this._active};var ea=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(te,ge){ve.prototype.mousedown.call(this,te,ge),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(te,ge){return ge===Kr&&!te.ctrlKey},Z.prototype._move=function(te,ge){return{around:ge,panDelta:ge.sub(te)}},Z}(jn),fa=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(te,ge){return ge===Kr&&te.ctrlKey||ge===fn},Z.prototype._move=function(te,ge){var Fe=.8,$e=(ge.x-te.x)*Fe;if($e)return this._active=!0,{bearingDelta:$e}},Z.prototype.contextmenu=function(te){te.preventDefault()},Z}(jn),Qn=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(te,ge){return ge===Kr&&te.ctrlKey||ge===fn},Z.prototype._move=function(te,ge){var Fe=-.5,$e=(ge.y-te.y)*Fe;if($e)return this._active=!0,{pitchDelta:$e}},Z.prototype.contextmenu=function(te){te.preventDefault()},Z}(jn),ia=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};ia.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},ia.prototype.touchstart=function(Z,pe,te){return this._calculateTransform(Z,pe,te)},ia.prototype.touchmove=function(Z,pe,te){if(!(!this._active||te.length<this._minTouches))return Z.preventDefault(),this._calculateTransform(Z,pe,te)},ia.prototype.touchend=function(Z,pe,te){this._calculateTransform(Z,pe,te),this._active&&te.length<this._minTouches&&this.reset()},ia.prototype.touchcancel=function(){this.reset()},ia.prototype._calculateTransform=function(Z,pe,te){te.length>0&&(this._active=!0);var ge=Gt(te,pe),Fe=new a.Point(0,0),$e=new a.Point(0,0),ft=0;for(var Lt in ge){var jt=ge[Lt],qt=this._touches[Lt];qt&&(Fe._add(jt),$e._add(jt.sub(qt)),ft++,ge[Lt]=jt)}if(this._touches=ge,!(ft<this._minTouches||!$e.mag())){var lr=$e.div(ft);if(this._sum._add(lr),!(this._sum.mag()<this._clickTolerance)){var or=Fe.div(ft);return{around:or,panDelta:lr}}}},ia.prototype.enable=function(){this._enabled=!0},ia.prototype.disable=function(){this._enabled=!1,this.reset()},ia.prototype.isEnabled=function(){return this._enabled},ia.prototype.isActive=function(){return this._active};var ca=function(){this.reset()};ca.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ca.prototype._start=function(Z){},ca.prototype._move=function(Z,pe,te){return{}},ca.prototype.touchstart=function(Z,pe,te){this._firstTwoTouches||te.length<2||(this._firstTwoTouches=[te[0].identifier,te[1].identifier],this._start([pe[0],pe[1]]))},ca.prototype.touchmove=function(Z,pe,te){if(this._firstTwoTouches){Z.preventDefault();var ge=this._firstTwoTouches,Fe=ge[0],$e=ge[1],ft=Ba(te,pe,Fe),Lt=Ba(te,pe,$e);if(!(!ft||!Lt)){var jt=this._aroundCenter?null:ft.add(Lt).div(2);return this._move([ft,Lt],jt,Z)}}},ca.prototype.touchend=function(Z,pe,te){if(this._firstTwoTouches){var ge=this._firstTwoTouches,Fe=ge[0],$e=ge[1],ft=Ba(te,pe,Fe),Lt=Ba(te,pe,$e);ft&&Lt||(this._active&&w.suppressClick(),this.reset())}},ca.prototype.touchcancel=function(){this.reset()},ca.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},ca.prototype.disable=function(){this._enabled=!1,this.reset()},ca.prototype.isEnabled=function(){return this._enabled},ca.prototype.isActive=function(){return this._active};function Ba(ve,Z,pe){for(var te=0;te<ve.length;te++)if(ve[te].identifier===pe)return Z[te]}var Ea=.1;function Fa(ve,Z){return Math.log(ve/Z)/Math.LN2}var ni=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(te){this._startDistance=this._distance=te[0].dist(te[1])},Z.prototype._move=function(te,ge){var Fe=this._distance;if(this._distance=te[0].dist(te[1]),!(!this._active&&Math.abs(Fa(this._distance,this._startDistance))<Ea))return this._active=!0,{zoomDelta:Fa(this._distance,Fe),pinchAround:ge}},Z}(ca),Bi=25;function ui(ve,Z){return ve.angleWith(Z)*180/Math.PI}var Jn=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(te){this._startVector=this._vector=te[0].sub(te[1]),this._minDiameter=te[0].dist(te[1])},Z.prototype._move=function(te,ge){var Fe=this._vector;if(this._vector=te[0].sub(te[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ui(this._vector,Fe),pinchAround:ge}},Z.prototype._isBelowThreshold=function(te){this._minDiameter=Math.min(this._minDiameter,te.mag());var ge=Math.PI*this._minDiameter,Fe=Bi/ge*360,$e=ui(te,this._startVector);return Math.abs($e)<Fe},Z}(ca);function Va(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Sa=100,Za=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(te){this._lastPoints=te,Va(te[0].sub(te[1]))&&(this._valid=!1)},Z.prototype._move=function(te,ge,Fe){var $e=te[0].sub(this._lastPoints[0]),ft=te[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically($e,ft,Fe.timeStamp),!!this._valid){this._lastPoints=te,this._active=!0;var Lt=($e.y+ft.y)/2,jt=-.5;return{pitchDelta:Lt*jt}}},Z.prototype.gestureBeginsVertically=function(te,ge,Fe){if(this._valid!==void 0)return this._valid;var $e=2,ft=te.mag()>=$e,Lt=ge.mag()>=$e;if(!(!ft&&!Lt)){if(!ft||!Lt)return this._firstMove===void 0&&(this._firstMove=Fe),Fe-this._firstMove<Sa?void 0:!1;var jt=te.y>0==ge.y>0;return Va(te)&&Va(ge)&&jt}},Z}(ca),bi={panStep:100,bearingStep:15,pitchStep:10},ai=function(){var Z=bi;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep,this._rotationDisabled=!1};ai.prototype.reset=function(){this._active=!1},ai.prototype.keydown=function(Z){var pe=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var te=0,ge=0,Fe=0,$e=0,ft=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:te=1;break;case 189:case 109:case 173:te=-1;break;case 37:Z.shiftKey?ge=-1:(Z.preventDefault(),$e=-1);break;case 39:Z.shiftKey?ge=1:(Z.preventDefault(),$e=1);break;case 38:Z.shiftKey?Fe=1:(Z.preventDefault(),ft=-1);break;case 40:Z.shiftKey?Fe=-1:(Z.preventDefault(),ft=1);break;default:return}return this._rotationDisabled&&(ge=0,Fe=0),{cameraAnimation:function(Lt){var jt=Lt.getZoom();Lt.easeTo({duration:300,easeId:"keyboardHandler",easing:eo,zoom:te?Math.round(jt)+te*(Z.shiftKey?2:1):jt,bearing:Lt.getBearing()+ge*pe._bearingStep,pitch:Lt.getPitch()+Fe*pe._pitchStep,offset:[-$e*pe._panStep,-ft*pe._panStep],center:Lt.getCenter()},{originalEvent:Z})}}}},ai.prototype.enable=function(){this._enabled=!0},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active},ai.prototype.disableRotation=function(){this._rotationDisabled=!0},ai.prototype.enableRotation=function(){this._rotationDisabled=!1};function eo(ve){return ve*(2-ve)}var to=4.000244140625,oo=1/100,wi=1/450,xo=2,sa=function(Z,pe){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=pe,this._delta=0,this._defaultZoomRate=oo,this._wheelZoomRate=wi,a.bindAll(["_onTimeout"],this)};sa.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},sa.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},sa.prototype.isEnabled=function(){return!!this._enabled},sa.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},sa.prototype.isZooming=function(){return!!this._zooming},sa.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},sa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sa.prototype.wheel=function(Z){if(this.isEnabled()){var pe=Z.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,te=a.browser.now(),ge=te-(this._lastWheelEventTime||0);this._lastWheelEventTime=te,pe!==0&&pe%to===0?this._type="wheel":pe!==0&&Math.abs(pe)<4?this._type="trackpad":ge>400?(this._type=null,this._lastValue=pe,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(ge*pe)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,pe+=this._lastValue)),Z.shiftKey&&pe&&(pe=pe/4),this._type&&(this._lastWheelEvent=Z,this._delta-=pe,this._active||this._start(Z)),Z.preventDefault()}},sa.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},sa.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var pe=w.mousePos(this._el,Z);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(pe)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sa.prototype.renderFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var pe=this._map.transform;if(this._delta!==0){var te=this._type==="wheel"&&Math.abs(this._delta)>to?this._wheelZoomRate:this._defaultZoomRate,ge=xo/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&ge!==0&&(ge=1/ge);var Fe=typeof this._targetZoom=="number"?pe.zoomScale(this._targetZoom):pe.scale;this._targetZoom=Math.min(pe.maxZoom,Math.max(pe.minZoom,pe.scaleZoom(Fe*ge))),this._type==="wheel"&&(this._startZoom=pe.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var $e=typeof this._targetZoom=="number"?this._targetZoom:pe.zoom,ft=this._startZoom,Lt=this._easing,jt=!1,qt;if(this._type==="wheel"&&ft&&Lt){var lr=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),or=Lt(lr);qt=a.number(ft,$e,or),lr<1?this._frameId||(this._frameId=!0):jt=!0}else qt=$e,jt=!0;return this._active=!0,jt&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!jt,zoomDelta:qt-pe.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sa.prototype._smoothOutEasing=function(Z){var pe=a.ease;if(this._prevEase){var te=this._prevEase,ge=(a.browser.now()-te.start)/te.duration,Fe=te.easing(ge+.01)-te.easing(ge),$e=.27/Math.sqrt(Fe*Fe+1e-4)*.01,ft=Math.sqrt(.27*.27-$e*$e);pe=a.bezier($e,ft,.25,1)}return this._prevEase={start:a.browser.now(),duration:Z,easing:pe},pe},sa.prototype.reset=function(){this._active=!1};var La=function(Z,pe){this._clickZoom=Z,this._tapZoom=pe};La.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},La.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},La.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},La.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Uo=function(){this.reset()};Uo.prototype.reset=function(){this._active=!1},Uo.prototype.dblclick=function(Z,pe){return Z.preventDefault(),{cameraAnimation:function(te){te.easeTo({duration:300,zoom:te.getZoom()+(Z.shiftKey?-1:1),around:te.unproject(pe)},{originalEvent:Z})}}},Uo.prototype.enable=function(){this._enabled=!0},Uo.prototype.disable=function(){this._enabled=!1,this.reset()},Uo.prototype.isEnabled=function(){return this._enabled},Uo.prototype.isActive=function(){return this._active};var Yo=function(){this._tap=new Ir({numTouches:1,numTaps:1}),this.reset()};Yo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Yo.prototype.touchstart=function(Z,pe,te){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>Lr&&this.reset(),this._tapTime?te.length>0&&(this._swipePoint=pe[0],this._swipeTouch=te[0].identifier):this._tap.touchstart(Z,pe,te))},Yo.prototype.touchmove=function(Z,pe,te){if(!this._tapTime)this._tap.touchmove(Z,pe,te);else if(this._swipePoint){if(te[0].identifier!==this._swipeTouch)return;var ge=pe[0],Fe=ge.y-this._swipePoint.y;return this._swipePoint=ge,Z.preventDefault(),this._active=!0,{zoomDelta:Fe/128}}},Yo.prototype.touchend=function(Z,pe,te){if(this._tapTime)this._swipePoint&&te.length===0&&this.reset();else{var ge=this._tap.touchend(Z,pe,te);ge&&(this._tapTime=Z.timeStamp)}},Yo.prototype.touchcancel=function(){this.reset()},Yo.prototype.enable=function(){this._enabled=!0},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var so=function(Z,pe,te){this._el=Z,this._mousePan=pe,this._touchPan=te};so.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},so.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},so.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},so.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ci=function(Z,pe,te){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=pe,this._mousePitch=te};ci.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ci.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ci.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ci.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Yi=function(Z,pe,te,ge){this._el=Z,this._touchZoom=pe,this._touchRotate=te,this._tapDragZoom=ge,this._rotationDisabled=!1,this._enabled=!0};Yi.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Yi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Yi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Yi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Yi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Yi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ui=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Es=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z}(a.Event);function Ys(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var Ci=function(Z,pe){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ce(Z),this._bearingSnap=pe.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(pe),a.bindAll(["handleEvent","handleWindowEvent"],this);var te=this._el;this._listeners=[[te,"touchstart",{passive:!0}],[te,"touchmove",{passive:!1}],[te,"touchend",void 0],[te,"touchcancel",void 0],[te,"mousedown",void 0],[te,"mousemove",void 0],[te,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[te,"mouseover",void 0],[te,"mouseout",void 0],[te,"dblclick",void 0],[te,"click",void 0],[te,"keydown",{capture:!1}],[te,"keyup",void 0],[te,"wheel",{passive:!1}],[te,"contextmenu",void 0],[a.window,"blur",void 0]];for(var ge=0,Fe=this._listeners;ge<Fe.length;ge+=1){var $e=Fe[ge],ft=$e[0],Lt=$e[1],jt=$e[2];w.addEventListener(ft,Lt,ft===a.window.document?this.handleWindowEvent:this.handleEvent,jt)}};Ci.prototype.destroy=function(){for(var Z=0,pe=this._listeners;Z<pe.length;Z+=1){var te=pe[Z],ge=te[0],Fe=te[1],$e=te[2];w.removeEventListener(ge,Fe,ge===a.window.document?this.handleWindowEvent:this.handleEvent,$e)}},Ci.prototype._addDefaultHandlers=function(Z){var pe=this._map,te=pe.getCanvasContainer();this._add("mapEvent",new Pt(pe,Z));var ge=pe.boxZoom=new Ht(pe,Z);this._add("boxZoom",ge);var Fe=new Ur,$e=new Uo;pe.doubleClickZoom=new La($e,Fe),this._add("tapZoom",Fe),this._add("clickZoom",$e);var ft=new Yo;this._add("tapDragZoom",ft);var Lt=pe.touchPitch=new Za;this._add("touchPitch",Lt);var jt=new fa(Z),qt=new Qn(Z);pe.dragRotate=new ci(Z,jt,qt),this._add("mouseRotate",jt,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var lr=new ea(Z),or=new ia(Z);pe.dragPan=new so(te,lr,or),this._add("mousePan",lr),this._add("touchPan",or,["touchZoom","touchRotate"]);var Fr=new Jn,Xr=new ni;pe.touchZoomRotate=new Yi(te,Xr,Fr,ft),this._add("touchRotate",Fr,["touchPan","touchZoom"]),this._add("touchZoom",Xr,["touchPan","touchRotate"]);var Yr=pe.scrollZoom=new sa(pe,this);this._add("scrollZoom",Yr,["mousePan"]);var Hr=pe.keyboard=new ai;this._add("keyboard",Hr),this._add("blockableMapEvent",new Mt(pe));for(var Jr=0,cn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Jr<cn.length;Jr+=1){var Fn=cn[Jr];Z.interactive&&Z[Fn]&&pe[Fn].enable(Z[Fn])}},Ci.prototype._add=function(Z,pe,te){this._handlers.push({handlerName:Z,handler:pe,allowed:te}),this._handlersById[Z]=pe},Ci.prototype.stop=function(Z){if(!this._updatingCamera){for(var pe=0,te=this._handlers;pe<te.length;pe+=1){var ge=te[pe],Fe=ge.handler;Fe.reset()}this._inertia.clear(),this._fireEvents({},{},Z),this._changes=[]}},Ci.prototype.isActive=function(){for(var Z=0,pe=this._handlers;Z<pe.length;Z+=1){var te=pe[Z],ge=te.handler;if(ge.isActive())return!0}return!1},Ci.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ci.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ci.prototype.isMoving=function(){return!!Ui(this._eventsInProgress)||this.isZooming()},Ci.prototype._blockedByActive=function(Z,pe,te){for(var ge in Z)if(ge!==te&&(!pe||pe.indexOf(ge)<0))return!0;return!1},Ci.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},Ci.prototype._getMapTouches=function(Z){for(var pe=[],te=0,ge=Z;te<ge.length;te+=1){var Fe=ge[te],$e=Fe.target;this._el.contains($e)&&pe.push(Fe)}return pe},Ci.prototype.handleEvent=function(Z,pe){if(Z.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var te=Z.type==="renderFrame"?void 0:Z,ge={needsRenderFrame:!1},Fe={},$e={},ft=Z.touches?this._getMapTouches(Z.touches):void 0,Lt=ft?w.touchPos(this._el,ft):w.mousePos(this._el,Z),jt=0,qt=this._handlers;jt<qt.length;jt+=1){var lr=qt[jt],or=lr.handlerName,Fr=lr.handler,Xr=lr.allowed;if(Fr.isEnabled()){var Yr=void 0;this._blockedByActive($e,Xr,or)?Fr.reset():Fr[pe||Z.type]&&(Yr=Fr[pe||Z.type](Z,Lt,ft),this.mergeHandlerResult(ge,Fe,Yr,or,te),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||Fr.isActive())&&($e[or]=Fr)}}var Hr={};for(var Jr in this._previousActiveHandlers)$e[Jr]||(Hr[Jr]=te);this._previousActiveHandlers=$e,(Object.keys(Hr).length||Ys(ge))&&(this._changes.push([ge,Fe,Hr]),this._triggerRenderFrame()),(Object.keys($e).length||Ys(ge))&&this._map._stop(!0),this._updatingCamera=!1;var cn=ge.cameraAnimation;cn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],cn(this._map))},Ci.prototype.mergeHandlerResult=function(Z,pe,te,ge,Fe){if(te){a.extend(Z,te);var $e={handlerName:ge,originalEvent:te.originalEvent||Fe};te.zoomDelta!==void 0&&(pe.zoom=$e),te.panDelta!==void 0&&(pe.drag=$e),te.pitchDelta!==void 0&&(pe.pitch=$e),te.bearingDelta!==void 0&&(pe.rotate=$e)}},Ci.prototype._applyChanges=function(){for(var Z={},pe={},te={},ge=0,Fe=this._changes;ge<Fe.length;ge+=1){var $e=Fe[ge],ft=$e[0],Lt=$e[1],jt=$e[2];ft.panDelta&&(Z.panDelta=(Z.panDelta||new a.Point(0,0))._add(ft.panDelta)),ft.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+ft.zoomDelta),ft.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+ft.bearingDelta),ft.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+ft.pitchDelta),ft.around!==void 0&&(Z.around=ft.around),ft.pinchAround!==void 0&&(Z.pinchAround=ft.pinchAround),ft.noInertia&&(Z.noInertia=ft.noInertia),a.extend(pe,Lt),a.extend(te,jt)}this._updateMapTransform(Z,pe,te),this._changes=[]},Ci.prototype._updateMapTransform=function(Z,pe,te){var ge=this._map,Fe=ge.transform;if(!Ys(Z))return this._fireEvents(pe,te,!0);var $e=Z.panDelta,ft=Z.zoomDelta,Lt=Z.bearingDelta,jt=Z.pitchDelta,qt=Z.around,lr=Z.pinchAround;lr!==void 0&&(qt=lr),ge._stop(!0),qt=qt||ge.transform.centerPoint;var or=Fe.pointLocation($e?qt.sub($e):qt);Lt&&(Fe.bearing+=Lt),jt&&(Fe.pitch+=jt),ft&&(Fe.zoom+=ft),Fe.setLocationAtPoint(or,qt),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(pe,te,!0)},Ci.prototype._fireEvents=function(Z,pe,te){var ge=this,Fe=Ui(this._eventsInProgress),$e=Ui(Z),ft={};for(var Lt in Z){var jt=Z[Lt],qt=jt.originalEvent;this._eventsInProgress[Lt]||(ft[Lt+"start"]=qt),this._eventsInProgress[Lt]=Z[Lt]}!Fe&&$e&&this._fireEvent("movestart",$e.originalEvent);for(var lr in ft)this._fireEvent(lr,ft[lr]);$e&&this._fireEvent("move",$e.originalEvent);for(var or in Z){var Fr=Z[or],Xr=Fr.originalEvent;this._fireEvent(or,Xr)}var Yr={},Hr;for(var Jr in this._eventsInProgress){var cn=this._eventsInProgress[Jr],Fn=cn.handlerName,Bn=cn.originalEvent;this._handlersById[Fn].isActive()||(delete this._eventsInProgress[Jr],Hr=pe[Fn]||Bn,Yr[Jr+"end"]=Hr)}for(var Yn in Yr)this._fireEvent(Yn,Yr[Yn]);var Xn=Ui(this._eventsInProgress);if(te&&(Fe||$e)&&!Xn){this._updatingCamera=!0;var Gn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Kn=function(ta){return ta!==0&&-ge._bearingSnap<ta&&ta<ge._bearingSnap};Gn?(Kn(Gn.bearing||this._map.getBearing())&&(Gn.bearing=0),this._map.easeTo(Gn,{originalEvent:Hr})):(this._map.fire(new a.Event("moveend",{originalEvent:Hr})),Kn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Ci.prototype._fireEvent=function(Z,pe){this._map.fire(new a.Event(Z,pe?{originalEvent:pe}:{}))},Ci.prototype._requestFrame=function(){var Z=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(pe){delete Z._frameId,Z.handleEvent(new Es("renderFrame",{timeStamp:pe})),Z._applyChanges()})},Ci.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var ou=function(ve){function Z(pe,te){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=pe,this._bearingSnap=te.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(te,ge){return this.jumpTo({center:te},ge)},Z.prototype.panBy=function(te,ge,Fe){return te=a.Point.convert(te).mult(-1),this.panTo(this.transform.center,a.extend({offset:te},ge),Fe)},Z.prototype.panTo=function(te,ge,Fe){return this.easeTo(a.extend({center:te},ge),Fe)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(te,ge){return this.jumpTo({zoom:te},ge),this},Z.prototype.zoomTo=function(te,ge,Fe){return this.easeTo(a.extend({zoom:te},ge),Fe)},Z.prototype.zoomIn=function(te,ge){return this.zoomTo(this.getZoom()+1,te,ge),this},Z.prototype.zoomOut=function(te,ge){return this.zoomTo(this.getZoom()-1,te,ge),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(te,ge){return this.jumpTo({bearing:te},ge),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(te,ge){return this.jumpTo({padding:te},ge),this},Z.prototype.rotateTo=function(te,ge,Fe){return this.easeTo(a.extend({bearing:te},ge),Fe)},Z.prototype.resetNorth=function(te,ge){return this.rotateTo(0,a.extend({duration:1e3},te),ge),this},Z.prototype.resetNorthPitch=function(te,ge){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},te),ge),this},Z.prototype.snapToNorth=function(te,ge){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(te,ge):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(te,ge){return this.jumpTo({pitch:te},ge),this},Z.prototype.cameraForBounds=function(te,ge){te=a.LngLatBounds.convert(te);var Fe=ge&&ge.bearing||0;return this._cameraForBoxAndBearing(te.getNorthWest(),te.getSouthEast(),Fe,ge)},Z.prototype._cameraForBoxAndBearing=function(te,ge,Fe,$e){var ft={top:0,bottom:0,right:0,left:0};if($e=a.extend({padding:ft,offset:[0,0],maxZoom:this.transform.maxZoom},$e),typeof $e.padding=="number"){var Lt=$e.padding;$e.padding={top:Lt,bottom:Lt,right:Lt,left:Lt}}$e.padding=a.extend(ft,$e.padding);var jt=this.transform,qt=jt.padding,lr=jt.project(a.LngLat.convert(te)),or=jt.project(a.LngLat.convert(ge)),Fr=lr.rotate(-Fe*Math.PI/180),Xr=or.rotate(-Fe*Math.PI/180),Yr=new a.Point(Math.max(Fr.x,Xr.x),Math.max(Fr.y,Xr.y)),Hr=new a.Point(Math.min(Fr.x,Xr.x),Math.min(Fr.y,Xr.y)),Jr=Yr.sub(Hr),cn=(jt.width-(qt.left+qt.right+$e.padding.left+$e.padding.right))/Jr.x,Fn=(jt.height-(qt.top+qt.bottom+$e.padding.top+$e.padding.bottom))/Jr.y;if(Fn<0||cn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Bn=Math.min(jt.scaleZoom(jt.scale*Math.min(cn,Fn)),$e.maxZoom),Yn=typeof $e.offset.x=="number"?new a.Point($e.offset.x,$e.offset.y):a.Point.convert($e.offset),Xn=($e.padding.left-$e.padding.right)/2,Gn=($e.padding.top-$e.padding.bottom)/2,Kn=new a.Point(Xn,Gn),ta=Kn.rotate(Fe*Math.PI/180),la=Yn.add(ta),ba=la.mult(jt.scale/jt.zoomScale(Bn)),va=jt.unproject(lr.add(or).div(2).sub(ba));return{center:va,zoom:Bn,bearing:Fe}},Z.prototype.fitBounds=function(te,ge,Fe){return this._fitInternal(this.cameraForBounds(te,ge),ge,Fe)},Z.prototype.fitScreenCoordinates=function(te,ge,Fe,$e,ft){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(te)),this.transform.pointLocation(a.Point.convert(ge)),Fe,$e),$e,ft)},Z.prototype._fitInternal=function(te,ge,Fe){return te?(ge=a.extend(te,ge),delete ge.padding,ge.linear?this.easeTo(ge,Fe):this.flyTo(ge,Fe)):this},Z.prototype.jumpTo=function(te,ge){this.stop();var Fe=this.transform,$e=!1,ft=!1,Lt=!1;return"zoom"in te&&Fe.zoom!==+te.zoom&&($e=!0,Fe.zoom=+te.zoom),te.center!==void 0&&(Fe.center=a.LngLat.convert(te.center)),"bearing"in te&&Fe.bearing!==+te.bearing&&(ft=!0,Fe.bearing=+te.bearing),"pitch"in te&&Fe.pitch!==+te.pitch&&(Lt=!0,Fe.pitch=+te.pitch),te.padding!=null&&!Fe.isPaddingEqual(te.padding)&&(Fe.padding=te.padding),this.fire(new a.Event("movestart",ge)).fire(new a.Event("move",ge)),$e&&this.fire(new a.Event("zoomstart",ge)).fire(new a.Event("zoom",ge)).fire(new a.Event("zoomend",ge)),ft&&this.fire(new a.Event("rotatestart",ge)).fire(new a.Event("rotate",ge)).fire(new a.Event("rotateend",ge)),Lt&&this.fire(new a.Event("pitchstart",ge)).fire(new a.Event("pitch",ge)).fire(new a.Event("pitchend",ge)),this.fire(new a.Event("moveend",ge))},Z.prototype.easeTo=function(te,ge){var Fe=this;this._stop(!1,te.easeId),te=a.extend({offset:[0,0],duration:500,easing:a.ease},te),(te.animate===!1||!te.essential&&a.browser.prefersReducedMotion)&&(te.duration=0);var $e=this.transform,ft=this.getZoom(),Lt=this.getBearing(),jt=this.getPitch(),qt=this.getPadding(),lr="zoom"in te?+te.zoom:ft,or="bearing"in te?this._normalizeBearing(te.bearing,Lt):Lt,Fr="pitch"in te?+te.pitch:jt,Xr="padding"in te?te.padding:$e.padding,Yr=a.Point.convert(te.offset),Hr=$e.centerPoint.add(Yr),Jr=$e.pointLocation(Hr),cn=a.LngLat.convert(te.center||Jr);this._normalizeCenter(cn);var Fn=$e.project(Jr),Bn=$e.project(cn).sub(Fn),Yn=$e.zoomScale(lr-ft),Xn,Gn;te.around&&(Xn=a.LngLat.convert(te.around),Gn=$e.locationPoint(Xn));var Kn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||lr!==ft,this._rotating=this._rotating||Lt!==or,this._pitching=this._pitching||Fr!==jt,this._padding=!$e.isPaddingEqual(Xr),this._easeId=te.easeId,this._prepareEase(ge,te.noMoveStart,Kn),this._ease(function(ta){if(Fe._zooming&&($e.zoom=a.number(ft,lr,ta)),Fe._rotating&&($e.bearing=a.number(Lt,or,ta)),Fe._pitching&&($e.pitch=a.number(jt,Fr,ta)),Fe._padding&&($e.interpolatePadding(qt,Xr,ta),Hr=$e.centerPoint.add(Yr)),Xn)$e.setLocationAtPoint(Xn,Gn);else{var la=$e.zoomScale($e.zoom-ft),ba=lr>ft?Math.min(2,Yn):Math.max(.5,Yn),va=Math.pow(ba,1-ta),Oa=$e.unproject(Fn.add(Bn.mult(ta*va)).mult(la));$e.setLocationAtPoint($e.renderWorldCopies?Oa.wrap():Oa,Hr)}Fe._fireMoveEvents(ge)},function(ta){Fe._afterEase(ge,ta)},te),this},Z.prototype._prepareEase=function(te,ge,Fe){Fe===void 0&&(Fe={}),this._moving=!0,!ge&&!Fe.moving&&this.fire(new a.Event("movestart",te)),this._zooming&&!Fe.zooming&&this.fire(new a.Event("zoomstart",te)),this._rotating&&!Fe.rotating&&this.fire(new a.Event("rotatestart",te)),this._pitching&&!Fe.pitching&&this.fire(new a.Event("pitchstart",te))},Z.prototype._fireMoveEvents=function(te){this.fire(new a.Event("move",te)),this._zooming&&this.fire(new a.Event("zoom",te)),this._rotating&&this.fire(new a.Event("rotate",te)),this._pitching&&this.fire(new a.Event("pitch",te))},Z.prototype._afterEase=function(te,ge){if(!(this._easeId&&ge&&this._easeId===ge)){delete this._easeId;var Fe=this._zooming,$e=this._rotating,ft=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Fe&&this.fire(new a.Event("zoomend",te)),$e&&this.fire(new a.Event("rotateend",te)),ft&&this.fire(new a.Event("pitchend",te)),this.fire(new a.Event("moveend",te))}},Z.prototype.flyTo=function(te,ge){var Fe=this;if(!te.essential&&a.browser.prefersReducedMotion){var $e=a.pick(te,["center","zoom","bearing","pitch","around"]);return this.jumpTo($e,ge)}this.stop(),te=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},te);var ft=this.transform,Lt=this.getZoom(),jt=this.getBearing(),qt=this.getPitch(),lr=this.getPadding(),or="zoom"in te?a.clamp(+te.zoom,ft.minZoom,ft.maxZoom):Lt,Fr="bearing"in te?this._normalizeBearing(te.bearing,jt):jt,Xr="pitch"in te?+te.pitch:qt,Yr="padding"in te?te.padding:ft.padding,Hr=ft.zoomScale(or-Lt),Jr=a.Point.convert(te.offset),cn=ft.centerPoint.add(Jr),Fn=ft.pointLocation(cn),Bn=a.LngLat.convert(te.center||Fn);this._normalizeCenter(Bn);var Yn=ft.project(Fn),Xn=ft.project(Bn).sub(Yn),Gn=te.curve,Kn=Math.max(ft.width,ft.height),ta=Kn/Hr,la=Xn.mag();if("minZoom"in te){var ba=a.clamp(Math.min(te.minZoom,Lt,or),ft.minZoom,ft.maxZoom),va=Kn/ft.zoomScale(ba-Lt);Gn=Math.sqrt(va/la*2)}var Oa=Gn*Gn;function $a(Ha){var Qa=(ta*ta-Kn*Kn+(Ha?-1:1)*Oa*Oa*la*la)/(2*(Ha?ta:Kn)*Oa*la);return Math.log(Math.sqrt(Qa*Qa+1)-Qa)}function Wa(Ha){return(Math.exp(Ha)-Math.exp(-Ha))/2}function Ma(Ha){return(Math.exp(Ha)+Math.exp(-Ha))/2}function Ya(Ha){return Wa(Ha)/Ma(Ha)}var ja=$a(0),ii=function(Ha){return Ma(ja)/Ma(ja+Gn*Ha)},ei=function(Ha){return Kn*((Ma(ja)*Ya(ja+Gn*Ha)-Wa(ja))/Oa)/la},Ai=($a(1)-ja)/Gn;if(Math.abs(la)<1e-6||!isFinite(Ai)){if(Math.abs(Kn-ta)<1e-6)return this.easeTo(te,ge);var Ja=ta<Kn?-1:1;Ai=Math.abs(Math.log(ta/Kn))/Gn,ei=function(){return 0},ii=function(Ha){return Math.exp(Ja*Gn*Ha)}}if("duration"in te)te.duration=+te.duration;else{var yi="screenSpeed"in te?+te.screenSpeed/Gn:+te.speed;te.duration=1e3*Ai/yi}return te.maxDuration&&te.duration>te.maxDuration&&(te.duration=0),this._zooming=!0,this._rotating=jt!==Fr,this._pitching=Xr!==qt,this._padding=!ft.isPaddingEqual(Yr),this._prepareEase(ge,!1),this._ease(function(Ha){var Qa=Ha*Ai,Vi=1/ii(Qa);ft.zoom=Ha===1?or:Lt+ft.scaleZoom(Vi),Fe._rotating&&(ft.bearing=a.number(jt,Fr,Ha)),Fe._pitching&&(ft.pitch=a.number(qt,Xr,Ha)),Fe._padding&&(ft.interpolatePadding(lr,Yr,Ha),cn=ft.centerPoint.add(Jr));var bo=Ha===1?Bn:ft.unproject(Yn.add(Xn.mult(ei(Qa))).mult(Vi));ft.setLocationAtPoint(ft.renderWorldCopies?bo.wrap():bo,cn),Fe._fireMoveEvents(ge)},function(){return Fe._afterEase(ge)},te),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(te,ge){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Fe=this._onEaseEnd;delete this._onEaseEnd,Fe.call(this,ge)}if(!te){var $e=this.handlers;$e&&$e.stop(!1)}return this},Z.prototype._ease=function(te,ge,Fe){Fe.animate===!1||Fe.duration===0?(te(1),ge()):(this._easeStart=a.browser.now(),this._easeOptions=Fe,this._onEaseFrame=te,this._onEaseEnd=ge,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var te=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(te)),te<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(te,ge){te=a.wrap(te,-180,180);var Fe=Math.abs(te-ge);return Math.abs(te-360-ge)<Fe&&(te-=360),Math.abs(te+360-ge)<Fe&&(te+=360),te},Z.prototype._normalizeCenter=function(te){var ge=this.transform;if(!(!ge.renderWorldCopies||ge.lngRange)){var Fe=te.lng-ge.center.lng;te.lng+=Fe>180?-360:Fe<-180?360:0}},Z}(a.Evented),Ka=function(Z){Z===void 0&&(Z={}),this.options=Z,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ka.prototype.getDefaultPosition=function(){return"bottom-right"},Ka.prototype.onAdd=function(Z){var pe=this.options&&this.options.compact;return this._map=Z,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=w.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=w.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),pe&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),pe===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ka.prototype.onRemove=function(){w.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ka.prototype._setElementTitle=function(Z,pe){var te=this._map._getUIString("AttributionControl."+pe);Z.title=te,Z.setAttribute("aria-label",te)},Ka.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ka.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var pe=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(Z){var te=pe.reduce(function(ge,Fe,$e){return Fe.value&&(ge+=Fe.key+"="+Fe.value+($e<pe.length-1?"&":"")),ge},"?");Z.href=a.config.FEEDBACK_URL+"/"+te+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow",this._setElementTitle(Z,"MapFeedback")}},Ka.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.sourceDataType==="visibility"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ka.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(Lt){return typeof Lt!="string"?"":Lt})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var pe=this._map.style.stylesheet;this.styleOwner=pe.owner,this.styleId=pe.id}var te=this._map.style.sourceCaches;for(var ge in te){var Fe=te[ge];if(Fe.used){var $e=Fe.getSource();$e.attribution&&Z.indexOf($e.attribution)<0&&Z.push($e.attribution)}}Z.sort(function(Lt,jt){return Lt.length-jt.length}),Z=Z.filter(function(Lt,jt){for(var qt=jt+1;qt<Z.length;qt++)if(Z[qt].indexOf(Lt)>=0)return!1;return!0});var ft=Z.join(" | ");ft!==this._attribHTML&&(this._attribHTML=ft,Z.length?(this._innerContainer.innerHTML=ft,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ka.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Li=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Li.prototype.onAdd=function(Z){this._map=Z,this._container=w.create("div","mapboxgl-ctrl");var pe=w.create("a","mapboxgl-ctrl-logo");return pe.target="_blank",pe.rel="noopener nofollow",pe.href="https://www.mapbox.com/",pe.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),pe.setAttribute("rel","noopener nofollow"),this._container.appendChild(pe),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Li.prototype.onRemove=function(){w.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Li.prototype.getDefaultPosition=function(){return"bottom-left"},Li.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Li.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var pe in Z){var te=Z[pe].getSource();if(te.mapbox_logo)return!0}return!1}},Li.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var pe=Z[0];this._map.getCanvasContainer().offsetWidth<250?pe.classList.add("mapboxgl-compact"):pe.classList.remove("mapboxgl-compact")}};var $h=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};$h.prototype.add=function(Z){var pe=++this._id,te=this._queue;return te.push({callback:Z,id:pe,cancelled:!1}),pe},$h.prototype.remove=function(Z){for(var pe=this._currentlyRunning,te=pe?this._queue.concat(pe):this._queue,ge=0,Fe=te;ge<Fe.length;ge+=1){var $e=Fe[ge];if($e.id===Z){$e.cancelled=!0;return}}},$h.prototype.run=function(Z){Z===void 0&&(Z=0);var pe=this._currentlyRunning=this._queue;this._queue=[];for(var te=0,ge=pe;te<ge.length;te+=1){var Fe=ge[te];if(!Fe.cancelled&&(Fe.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},$h.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var v0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Qf=a.window.HTMLImageElement,zd=a.window.HTMLElement,Tf=a.window.ImageBitmap,Hc=-2,Gc=22,cs=0,Af=60,Nd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Hc,maxZoom:Gc,minPitch:cs,maxPitch:Af,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Bd=function(ve){function Z(te){var ge=this;if(te=a.extend({},Nd,te),te.minZoom!=null&&te.maxZoom!=null&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(te.minPitch!=null&&te.maxPitch!=null&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(te.minPitch!=null&&te.minPitch<cs)throw new Error("minPitch must be greater than or equal to "+cs);if(te.maxPitch!=null&&te.maxPitch>Af)throw new Error("maxPitch must be less than or equal to "+Af);var Fe=new _n(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(ve.call(this,Fe,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new $h,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},v0,te.locale),this._clickTolerance=te.clickTolerance,this._requestManager=new a.RequestManager(te.transformRequest,te.accessToken),typeof te.container=="string"){if(this._container=a.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else if(te.container instanceof zd)this._container=te.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(te.maxBounds&&this.setMaxBounds(te.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ge._update(!1)}),this.on("moveend",function(){return ge._update(!1)}),this.on("zoom",function(){return ge._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Ci(this,te);var $e=typeof te.hash=="string"&&te.hash||void 0;this._hash=te.hash&&new Da($e).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,a.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new Ka({customAttribution:te.customAttribution})),this.addControl(new Li,te.logoPosition),this.on("style.load",function(){ge.transform.unmodified&&ge.jumpTo(ge.style.stylesheet)}),this.on("data",function(ft){ge._update(ft.dataType==="style"),ge.fire(new a.Event(ft.dataType+"data",ft))}),this.on("dataloading",function(ft){ge.fire(new a.Event(ft.dataType+"dataloading",ft))})}ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z;var pe={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(ge,Fe){if(Fe===void 0&&(ge.getDefaultPosition?Fe=ge.getDefaultPosition():Fe="top-right"),!ge||!ge.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var $e=ge.onAdd(this);this._controls.push(ge);var ft=this._controlPositions[Fe];return Fe.indexOf("bottom")!==-1?ft.insertBefore($e,ft.firstChild):ft.appendChild($e),this},Z.prototype.removeControl=function(ge){if(!ge||!ge.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Fe=this._controls.indexOf(ge);return Fe>-1&&this._controls.splice(Fe,1),ge.onRemove(this),this},Z.prototype.hasControl=function(ge){return this._controls.indexOf(ge)>-1},Z.prototype.resize=function(ge){var Fe=this._containerDimensions(),$e=Fe[0],ft=Fe[1];this._resizeCanvas($e,ft),this.transform.resize($e,ft),this.painter.resize($e,ft);var Lt=!this._moving;return Lt&&(this.stop(),this.fire(new a.Event("movestart",ge)).fire(new a.Event("move",ge))),this.fire(new a.Event("resize",ge)),Lt&&this.fire(new a.Event("moveend",ge)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(ge){return this.transform.setMaxBounds(a.LngLatBounds.convert(ge)),this._update()},Z.prototype.setMinZoom=function(ge){if(ge=ge??Hc,ge>=Hc&&ge<=this.transform.maxZoom)return this.transform.minZoom=ge,this._update(),this.getZoom()<ge&&this.setZoom(ge),this;throw new Error("minZoom must be between "+Hc+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(ge){if(ge=ge??Gc,ge>=this.transform.minZoom)return this.transform.maxZoom=ge,this._update(),this.getZoom()>ge&&this.setZoom(ge),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(ge){if(ge=ge??cs,ge<cs)throw new Error("minPitch must be greater than or equal to "+cs);if(ge>=cs&&ge<=this.transform.maxPitch)return this.transform.minPitch=ge,this._update(),this.getPitch()<ge&&this.setPitch(ge),this;throw new Error("minPitch must be between "+cs+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(ge){if(ge=ge??Af,ge>Af)throw new Error("maxPitch must be less than or equal to "+Af);if(ge>=this.transform.minPitch)return this.transform.maxPitch=ge,this._update(),this.getPitch()>ge&&this.setPitch(ge),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(ge){return this.transform.renderWorldCopies=ge,this._update()},Z.prototype.project=function(ge){return this.transform.locationPoint(a.LngLat.convert(ge))},Z.prototype.unproject=function(ge){return this.transform.pointLocation(a.Point.convert(ge))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(ge,Fe,$e){var ft=this,Lt;if(ge==="mouseenter"||ge==="mouseover"){var jt=!1,qt=function(Hr){var Jr=ft.getLayer(Fe)?ft.queryRenderedFeatures(Hr.point,{layers:[Fe]}):[];Jr.length?jt||(jt=!0,$e.call(ft,new et(ge,ft,Hr.originalEvent,{features:Jr}))):jt=!1},lr=function(){jt=!1};return{layer:Fe,listener:$e,delegates:{mousemove:qt,mouseout:lr}}}else if(ge==="mouseleave"||ge==="mouseout"){var or=!1,Fr=function(Hr){var Jr=ft.getLayer(Fe)?ft.queryRenderedFeatures(Hr.point,{layers:[Fe]}):[];Jr.length?or=!0:or&&(or=!1,$e.call(ft,new et(ge,ft,Hr.originalEvent)))},Xr=function(Hr){or&&(or=!1,$e.call(ft,new et(ge,ft,Hr.originalEvent)))};return{layer:Fe,listener:$e,delegates:{mousemove:Fr,mouseout:Xr}}}else{var Yr=function(Hr){var Jr=ft.getLayer(Fe)?ft.queryRenderedFeatures(Hr.point,{layers:[Fe]}):[];Jr.length&&(Hr.features=Jr,$e.call(ft,Hr),delete Hr.features)};return{layer:Fe,listener:$e,delegates:(Lt={},Lt[ge]=Yr,Lt)}}},Z.prototype.on=function(ge,Fe,$e){if($e===void 0)return ve.prototype.on.call(this,ge,Fe);var ft=this._createDelegatedListener(ge,Fe,$e);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ge]=this._delegatedListeners[ge]||[],this._delegatedListeners[ge].push(ft);for(var Lt in ft.delegates)this.on(Lt,ft.delegates[Lt]);return this},Z.prototype.once=function(ge,Fe,$e){if($e===void 0)return ve.prototype.once.call(this,ge,Fe);var ft=this._createDelegatedListener(ge,Fe,$e);for(var Lt in ft.delegates)this.once(Lt,ft.delegates[Lt]);return this},Z.prototype.off=function(ge,Fe,$e){var ft=this;if($e===void 0)return ve.prototype.off.call(this,ge,Fe);var Lt=function(jt){for(var qt=jt[ge],lr=0;lr<qt.length;lr++){var or=qt[lr];if(or.layer===Fe&&or.listener===$e){for(var Fr in or.delegates)ft.off(Fr,or.delegates[Fr]);return qt.splice(lr,1),ft}}};return this._delegatedListeners&&this._delegatedListeners[ge]&&Lt(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(ge,Fe){if(!this.style)return[];Fe===void 0&&ge!==void 0&&!(ge instanceof a.Point)&&!Array.isArray(ge)&&(Fe=ge,ge=void 0),Fe=Fe||{},ge=ge||[[0,0],[this.transform.width,this.transform.height]];var $e;if(ge instanceof a.Point||typeof ge[0]=="number")$e=[a.Point.convert(ge)];else{var ft=a.Point.convert(ge[0]),Lt=a.Point.convert(ge[1]);$e=[ft,new a.Point(Lt.x,ft.y),Lt,new a.Point(ft.x,Lt.y),ft]}return this.style.queryRenderedFeatures($e,Fe,this.transform)},Z.prototype.querySourceFeatures=function(ge,Fe){return this.style.querySourceFeatures(ge,Fe)},Z.prototype.setStyle=function(ge,Fe){return Fe=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Fe),Fe.diff!==!1&&Fe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ge?(this._diffStyle(ge,Fe),this):(this._localIdeographFontFamily=Fe.localIdeographFontFamily,this._updateStyle(ge,Fe))},Z.prototype._getUIString=function(ge){var Fe=this._locale[ge];if(Fe==null)throw new Error("Missing UI string '"+ge+"'");return Fe},Z.prototype._updateStyle=function(ge,Fe){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ge)this.style=new Ho(this,Fe||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ge=="string"?this.style.loadURL(ge):this.style.loadJSON(ge),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ho(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(ge,Fe){var $e=this;if(typeof ge=="string"){var ft=this._requestManager.normalizeStyleURL(ge),Lt=this._requestManager.transformRequest(ft,a.ResourceType.Style);a.getJSON(Lt,function(jt,qt){jt?$e.fire(new a.ErrorEvent(jt)):qt&&$e._updateDiff(qt,Fe)})}else typeof ge=="object"&&this._updateDiff(ge,Fe)},Z.prototype._updateDiff=function(ge,Fe){try{this.style.setState(ge)&&this._update(!0)}catch($e){a.warnOnce("Unable to perform style diff: "+($e.message||$e.error||$e)+".  Rebuilding the style from scratch."),this._updateStyle(ge,Fe)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(ge,Fe){return this._lazyInitEmptyStyle(),this.style.addSource(ge,Fe),this._update(!0)},Z.prototype.isSourceLoaded=function(ge){var Fe=this.style&&this.style.sourceCaches[ge];if(Fe===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+ge+"'")));return}return Fe.loaded()},Z.prototype.areTilesLoaded=function(){var ge=this.style&&this.style.sourceCaches;for(var Fe in ge){var $e=ge[Fe],ft=$e._tiles;for(var Lt in ft){var jt=ft[Lt];if(!(jt.state==="loaded"||jt.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(ge,Fe,$e){return this._lazyInitEmptyStyle(),this.style.addSourceType(ge,Fe,$e)},Z.prototype.removeSource=function(ge){return this.style.removeSource(ge),this._update(!0)},Z.prototype.getSource=function(ge){return this.style.getSource(ge)},Z.prototype.addImage=function(ge,Fe,$e){$e===void 0&&($e={});var ft=$e.pixelRatio;ft===void 0&&(ft=1);var Lt=$e.sdf;Lt===void 0&&(Lt=!1);var jt=$e.stretchX,qt=$e.stretchY,lr=$e.content;this._lazyInitEmptyStyle();var or=0;if(Fe instanceof Qf||Tf&&Fe instanceof Tf){var Fr=a.browser.getImageData(Fe),Xr=Fr.width,Yr=Fr.height,Hr=Fr.data;this.style.addImage(ge,{data:new a.RGBAImage({width:Xr,height:Yr},Hr),pixelRatio:ft,stretchX:jt,stretchY:qt,content:lr,sdf:Lt,version:or})}else{if(Fe.width===void 0||Fe.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Jr=Fe.width,cn=Fe.height,Fn=Fe.data,Bn=Fe;this.style.addImage(ge,{data:new a.RGBAImage({width:Jr,height:cn},new Uint8Array(Fn)),pixelRatio:ft,stretchX:jt,stretchY:qt,content:lr,sdf:Lt,version:or,userImage:Bn}),Bn.onAdd&&Bn.onAdd(this,ge)}},Z.prototype.updateImage=function(ge,Fe){var $e=this.style.getImage(ge);if(!$e)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ft=Fe instanceof Qf||Tf&&Fe instanceof Tf?a.browser.getImageData(Fe):Fe,Lt=ft.width,jt=ft.height,qt=ft.data;if(Lt===void 0||jt===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Lt!==$e.data.width||jt!==$e.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var lr=!(Fe instanceof Qf||Tf&&Fe instanceof Tf);$e.data.replace(qt,lr),this.style.updateImage(ge,$e)},Z.prototype.hasImage=function(ge){return ge?!!this.style.getImage(ge):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(ge){this.style.removeImage(ge)},Z.prototype.loadImage=function(ge,Fe){a.getImage(this._requestManager.transformRequest(ge,a.ResourceType.Image),Fe)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(ge,Fe){return this._lazyInitEmptyStyle(),this.style.addLayer(ge,Fe),this._update(!0)},Z.prototype.moveLayer=function(ge,Fe){return this.style.moveLayer(ge,Fe),this._update(!0)},Z.prototype.removeLayer=function(ge){return this.style.removeLayer(ge),this._update(!0)},Z.prototype.getLayer=function(ge){return this.style.getLayer(ge)},Z.prototype.setLayerZoomRange=function(ge,Fe,$e){return this.style.setLayerZoomRange(ge,Fe,$e),this._update(!0)},Z.prototype.setFilter=function(ge,Fe,$e){return $e===void 0&&($e={}),this.style.setFilter(ge,Fe,$e),this._update(!0)},Z.prototype.getFilter=function(ge){return this.style.getFilter(ge)},Z.prototype.setPaintProperty=function(ge,Fe,$e,ft){return ft===void 0&&(ft={}),this.style.setPaintProperty(ge,Fe,$e,ft),this._update(!0)},Z.prototype.getPaintProperty=function(ge,Fe){return this.style.getPaintProperty(ge,Fe)},Z.prototype.setLayoutProperty=function(ge,Fe,$e,ft){return ft===void 0&&(ft={}),this.style.setLayoutProperty(ge,Fe,$e,ft),this._update(!0)},Z.prototype.getLayoutProperty=function(ge,Fe){return this.style.getLayoutProperty(ge,Fe)},Z.prototype.setLight=function(ge,Fe){return Fe===void 0&&(Fe={}),this._lazyInitEmptyStyle(),this.style.setLight(ge,Fe),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(ge,Fe){return this.style.setFeatureState(ge,Fe),this._update()},Z.prototype.removeFeatureState=function(ge,Fe){return this.style.removeFeatureState(ge,Fe),this._update()},Z.prototype.getFeatureState=function(ge){return this.style.getFeatureState(ge)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var ge=0,Fe=0;return this._container&&(ge=this._container.clientWidth||400,Fe=this._container.clientHeight||300),[ge,Fe]},Z.prototype._detectMissingCSS=function(){var ge=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ge!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var ge=this._container;ge.classList.add("mapboxgl-map");var Fe=this._missingCSSCanary=w.create("div","mapboxgl-canary",ge);Fe.style.visibility="hidden",this._detectMissingCSS();var $e=this._canvasContainer=w.create("div","mapboxgl-canvas-container",ge);this._interactive&&$e.classList.add("mapboxgl-interactive"),this._canvas=w.create("canvas","mapboxgl-canvas",$e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ft=this._containerDimensions();this._resizeCanvas(ft[0],ft[1]);var Lt=this._controlContainer=w.create("div","mapboxgl-control-container",ge),jt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){jt[qt]=w.create("div","mapboxgl-ctrl-"+qt,Lt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Z.prototype._resizeCanvas=function(ge,Fe){var $e=a.browser.devicePixelRatio||1;this._canvas.width=$e*ge,this._canvas.height=$e*Fe,this._canvas.style.width=ge+"px",this._canvas.style.height=Fe+"px"},Z.prototype._setupPainter=function(){var ge=a.extend({},x.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Fe=this._canvas.getContext("webgl",ge)||this._canvas.getContext("experimental-webgl",ge);if(!Fe){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Br(Fe,this.transform),a.webpSupported.testSupport(Fe)},Z.prototype._contextLost=function(ge){ge.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:ge}))},Z.prototype._contextRestored=function(ge){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:ge}))},Z.prototype._onMapScroll=function(ge){if(ge.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(ge){return this.style?(this._styleDirty=this._styleDirty||ge,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(ge){return this._update(),this._renderTaskQueue.add(ge)},Z.prototype._cancelRenderFrame=function(ge){this._renderTaskQueue.remove(ge)},Z.prototype._render=function(ge){var Fe=this,$e,ft=0,Lt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&($e=Lt.createQueryEXT(),Lt.beginQueryEXT(Lt.TIME_ELAPSED_EXT,$e),ft=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ge),!this._removed){var jt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,lr=a.browser.now();this.style.zoomHistory.update(qt,lr);var or=new a.EvaluationParameters(qt,{now:lr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Fr=or.crossFadingFactor();(Fr!==1||Fr!==this._crossFadingFactor)&&(jt=!0,this._crossFadingFactor=Fr),this.style.update(or)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||jt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xr=a.browser.now()-ft;Lt.endQueryEXT(Lt.TIME_ELAPSED_EXT,$e),setTimeout(function(){var Jr=Lt.getQueryObjectEXT($e,Lt.QUERY_RESULT_EXT)/1e6;Lt.deleteQueryEXT($e),Fe.fire(new a.Event("gpu-timing-frame",{cpuTime:Xr,gpuTime:Jr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var Jr=Fe.painter.queryGpuTimers(Yr);Fe.fire(new a.Event("gpu-timing-layer",{layerTimes:Jr}))},50)}var Hr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Hr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),this._loaded&&!this._fullyLoaded&&!Hr&&(this._fullyLoaded=!0),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var ge=0,Fe=this._controls;ge<Fe.length;ge+=1){var $e=Fe[ge];$e.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ft=this.painter.context.gl.getExtension("WEBGL_lose_context");ft&&ft.loseContext&&ft.loseContext(),Qh(this._canvasContainer),Qh(this._controlContainer),Qh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},Z.prototype.triggerRepaint=function(){var ge=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(Fe){ge._frame=null,ge._render(Fe)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(ge){this._trackResize&&this.resize({originalEvent:ge})._update()},pe.showTileBoundaries.get=function(){return!!this._showTileBoundaries},pe.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},pe.showPadding.get=function(){return!!this._showPadding},pe.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},pe.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},pe.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},pe.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},pe.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},pe.repaint.get=function(){return!!this._repaint},pe.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},pe.vertices.get=function(){return!!this._vertices},pe.vertices.set=function(te){this._vertices=te,this._update()},Z.prototype._setCacheLimits=function(ge,Fe){a.setCacheLimits(ge,Fe)},pe.version.get=function(){return a.version},Object.defineProperties(Z.prototype,pe),Z}(ou);function Qh(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var Lv={showCompass:!0,showZoom:!0,visualizePitch:!1},ju=function(Z){var pe=this;this.options=a.extend({},Lv,Z),this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(te){return te.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(te){return pe._map.zoomIn({},{originalEvent:te})}),w.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(te){return pe._map.zoomOut({},{originalEvent:te})}),w.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(te){pe.options.visualizePitch?pe._map.resetNorthPitch({},{originalEvent:te}):pe._map.resetNorth({},{originalEvent:te})}),this._compassIcon=w.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ju.prototype._updateZoomButtons=function(){var Z=this._map.getZoom(),pe=Z===this._map.getMaxZoom(),te=Z===this._map.getMinZoom();this._zoomInButton.disabled=pe,this._zoomOutButton.disabled=te,this._zoomInButton.setAttribute("aria-disabled",pe.toString()),this._zoomOutButton.setAttribute("aria-disabled",te.toString())},ju.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},ju.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Cs(this._map,this._compass,this.options.visualizePitch)),this._container},ju.prototype.onRemove=function(){w.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ju.prototype._createButton=function(Z,pe){var te=w.create("button",Z,this._container);return te.type="button",te.addEventListener("click",pe),te},ju.prototype._setButtonTitle=function(Z,pe){var te=this._map._getUIString("NavigationControl."+pe);Z.title=te,Z.setAttribute("aria-label",te)};var Cs=function(Z,pe,te){te===void 0&&(te=!1),this._clickTolerance=10,this.element=pe,this.mouseRotate=new fa({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,te&&(this.mousePitch=new Qn({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),w.addEventListener(pe,"mousedown",this.mousedown),w.addEventListener(pe,"touchstart",this.touchstart,{passive:!1}),w.addEventListener(pe,"touchmove",this.touchmove),w.addEventListener(pe,"touchend",this.touchend),w.addEventListener(pe,"touchcancel",this.reset)};Cs.prototype.down=function(Z,pe){this.mouseRotate.mousedown(Z,pe),this.mousePitch&&this.mousePitch.mousedown(Z,pe),w.disableDrag()},Cs.prototype.move=function(Z,pe){var te=this.map,ge=this.mouseRotate.mousemoveWindow(Z,pe);if(ge&&ge.bearingDelta&&te.setBearing(te.getBearing()+ge.bearingDelta),this.mousePitch){var Fe=this.mousePitch.mousemoveWindow(Z,pe);Fe&&Fe.pitchDelta&&te.setPitch(te.getPitch()+Fe.pitchDelta)}},Cs.prototype.off=function(){var Z=this.element;w.removeEventListener(Z,"mousedown",this.mousedown),w.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),w.removeEventListener(Z,"touchmove",this.touchmove),w.removeEventListener(Z,"touchend",this.touchend),w.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},Cs.prototype.offTemp=function(){w.enableDrag(),w.removeEventListener(a.window,"mousemove",this.mousemove),w.removeEventListener(a.window,"mouseup",this.mouseup)},Cs.prototype.mousedown=function(Z){this.down(a.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),w.mousePos(this.element,Z)),w.addEventListener(a.window,"mousemove",this.mousemove),w.addEventListener(a.window,"mouseup",this.mouseup)},Cs.prototype.mousemove=function(Z){this.move(Z,w.mousePos(this.element,Z))},Cs.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},Cs.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=w.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},Cs.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=w.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},Cs.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Cs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Hu(ve,Z,pe){if(ve=new a.LngLat(ve.lng,ve.lat),Z){var te=new a.LngLat(ve.lng-360,ve.lat),ge=new a.LngLat(ve.lng+360,ve.lat),Fe=pe.locationPoint(ve).distSqr(Z);pe.locationPoint(te).distSqr(Z)<Fe?ve=te:pe.locationPoint(ge).distSqr(Z)<Fe&&(ve=ge)}for(;Math.abs(ve.lng-pe.center.lng)>180;){var $e=pe.locationPoint(ve);if($e.x>=0&&$e.y>=0&&$e.x<=pe.width&&$e.y<=pe.height)break;ve.lng>pe.center.lng?ve.lng-=360:ve.lng+=360}return ve}var qh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Pv(ve,Z,pe){var te=ve.classList;for(var ge in qh)te.remove("mapboxgl-"+pe+"-anchor-"+ge);te.add("mapboxgl-"+pe+"-anchor-"+Z)}var Wc=function(ve){function Z(pe,te){if(ve.call(this),(pe instanceof a.window.HTMLElement||te)&&(pe=a.extend({element:pe},te)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=pe&&pe.anchor||"center",this._color=pe&&pe.color||"#3FB1CE",this._scale=pe&&pe.scale||1,this._draggable=pe&&pe.draggable||!1,this._clickTolerance=pe&&pe.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=pe&&pe.rotation||0,this._rotationAlignment=pe&&pe.rotationAlignment||"auto",this._pitchAlignment=pe&&pe.pitchAlignment&&pe.pitchAlignment!=="auto"?pe.pitchAlignment:this._rotationAlignment,!pe||!pe.element){this._defaultMarker=!0,this._element=w.create("div"),this._element.setAttribute("aria-label","Map marker");var ge=w.createNS("http://www.w3.org/2000/svg","svg"),Fe=41,$e=27;ge.setAttributeNS(null,"display","block"),ge.setAttributeNS(null,"height",Fe+"px"),ge.setAttributeNS(null,"width",$e+"px"),ge.setAttributeNS(null,"viewBox","0 0 "+$e+" "+Fe);var ft=w.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"stroke","none"),ft.setAttributeNS(null,"stroke-width","1"),ft.setAttributeNS(null,"fill","none"),ft.setAttributeNS(null,"fill-rule","evenodd");var Lt=w.createNS("http://www.w3.org/2000/svg","g");Lt.setAttributeNS(null,"fill-rule","nonzero");var jt=w.createNS("http://www.w3.org/2000/svg","g");jt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),jt.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],lr=0,or=qt;lr<or.length;lr+=1){var Fr=or[lr],Xr=w.createNS("http://www.w3.org/2000/svg","ellipse");Xr.setAttributeNS(null,"opacity","0.04"),Xr.setAttributeNS(null,"cx","10.5"),Xr.setAttributeNS(null,"cy","5.80029008"),Xr.setAttributeNS(null,"rx",Fr.rx),Xr.setAttributeNS(null,"ry",Fr.ry),jt.appendChild(Xr)}var Yr=w.createNS("http://www.w3.org/2000/svg","g");Yr.setAttributeNS(null,"fill",this._color);var Hr=w.createNS("http://www.w3.org/2000/svg","path");Hr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Yr.appendChild(Hr);var Jr=w.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var cn=w.createNS("http://www.w3.org/2000/svg","path");cn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(cn);var Fn=w.createNS("http://www.w3.org/2000/svg","g");Fn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Fn.setAttributeNS(null,"fill","#FFFFFF");var Bn=w.createNS("http://www.w3.org/2000/svg","g");Bn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Yn=w.createNS("http://www.w3.org/2000/svg","circle");Yn.setAttributeNS(null,"fill","#000000"),Yn.setAttributeNS(null,"opacity","0.25"),Yn.setAttributeNS(null,"cx","5.5"),Yn.setAttributeNS(null,"cy","5.5"),Yn.setAttributeNS(null,"r","5.4999962");var Xn=w.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#FFFFFF"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962"),Bn.appendChild(Yn),Bn.appendChild(Xn),Lt.appendChild(jt),Lt.appendChild(Yr),Lt.appendChild(Jr),Lt.appendChild(Fn),Lt.appendChild(Bn),ge.appendChild(Lt),ge.setAttributeNS(null,"height",Fe*this._scale+"px"),ge.setAttributeNS(null,"width",$e*this._scale+"px"),this._element.appendChild(ge),this._offset=a.Point.convert(pe&&pe.offset||[0,-14])}else this._element=pe.element,this._offset=a.Point.convert(pe&&pe.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Gn){Gn.preventDefault()}),this._element.addEventListener("mousedown",function(Gn){Gn.preventDefault()}),Pv(this._element,this._anchor,"marker"),this._popup=null}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(te){return this.remove(),this._map=te,te.getCanvasContainer().appendChild(this._element),te.on("move",this._update),te.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),w.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(te){return this._lngLat=a.LngLat.convert(te),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(te){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),te){if(!("offset"in te.options)){var ge=38.1,Fe=13.5,$e=Math.sqrt(Math.pow(Fe,2)/2);te.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ge],"bottom-left":[$e,(ge-Fe+$e)*-1],"bottom-right":[-$e,(ge-Fe+$e)*-1],left:[Fe,(ge-Fe)*-1],right:[-Fe,(ge-Fe)*-1]}:this._offset}this._popup=te,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(te){var ge=te.code,Fe=te.charCode||te.keyCode;(ge==="Space"||ge==="Enter"||Fe===32||Fe===13)&&this.togglePopup()},Z.prototype._onMapClick=function(te){var ge=te.originalEvent.target,Fe=this._element;this._popup&&(ge===Fe||Fe.contains(ge))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var te=this._popup;if(te)te.isOpen()?te.remove():te.addTo(this._map);else return this;return this},Z.prototype._update=function(te){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Hu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ge="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ge="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ge="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Fe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Fe="rotateX(0deg)":this._pitchAlignment==="map"&&(Fe="rotateX("+this._map.getPitch()+"deg)"),(!te||te.type==="moveend")&&(this._pos=this._pos.round()),w.setTransform(this._element,qh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Fe+" "+ge)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(te){return this._offset=a.Point.convert(te),this._update(),this},Z.prototype._onMove=function(te){if(!this._isDragging){var ge=this._clickTolerance||this._map._clickTolerance;this._isDragging=te.point.dist(this._pointerdownPos)>=ge}this._isDragging&&(this._pos=te.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(te){this._element.contains(te.originalEvent.target)&&(te.preventDefault(),this._positionDelta=te.point.sub(this._pos).add(this._offset),this._pointerdownPos=te.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(te){return this._draggable=!!te,this._map&&(te?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(te){return this._rotation=te||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(te){return this._rotationAlignment=te||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(te){return this._pitchAlignment=te&&te!=="auto"?te:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(a.Evented),Ud={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Sf;function ev(ve){Sf!==void 0?ve(Sf):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){Sf=Z.state!=="denied",ve(Sf)}):(Sf=!!a.window.navigator.geolocation,ve(Sf))}var Yc=0,qf=!1,d0=function(ve){function Z(pe){ve.call(this),this.options=a.extend({},Ud,pe),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(te){return this._map=te,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),ev(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),w.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Yc=0,qf=!1},Z.prototype._isOutOfMapMaxBounds=function(te){var ge=this._map.getMaxBounds(),Fe=te.coords;return ge&&(Fe.longitude<ge.getWest()||Fe.longitude>ge.getEast()||Fe.latitude<ge.getSouth()||Fe.latitude>ge.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(te){if(this._map){if(this._isOutOfMapMaxBounds(te)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",te)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=te,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(te),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(te),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",te)),this._finish()}},Z.prototype._updateCamera=function(te){var ge=new a.LngLat(te.coords.longitude,te.coords.latitude),Fe=te.coords.accuracy,$e=this._map.getBearing(),ft=a.extend({bearing:$e},this.options.fitBoundsOptions);this._map.fitBounds(ge.toBounds(Fe),ft,{geolocateSource:!0})},Z.prototype._updateMarker=function(te){if(te){var ge=new a.LngLat(te.coords.longitude,te.coords.latitude);this._accuracyCircleMarker.setLngLat(ge).addTo(this._map),this._userLocationDotMarker.setLngLat(ge).addTo(this._map),this._accuracy=te.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var te=this._map._container.clientHeight/2,ge=this._map.unproject([0,te]),Fe=this._map.unproject([1,te]),$e=ge.distanceTo(Fe),ft=Math.ceil(2*this._accuracy/$e);this._circleElement.style.width=ft+"px",this._circleElement.style.height=ft+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(te){if(this._map){if(this.options.trackUserLocation)if(te.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ge=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ge,this._geolocateButton.setAttribute("aria-label",ge),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(te.code===3&&qf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",te)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(te){var ge=this;if(this._container.addEventListener("contextmenu",function(ft){return ft.preventDefault()}),this._geolocateButton=w.create("button","mapboxgl-ctrl-geolocate",this._container),w.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",te===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Fe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Fe,this._geolocateButton.setAttribute("aria-label",Fe)}else{var $e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=$e,this._geolocateButton.setAttribute("aria-label",$e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=w.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Wc(this._dotElement),this._circleElement=w.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Wc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ft){var Lt=ft.originalEvent&&ft.originalEvent.type==="resize";!ft.geolocateSource&&ge._watchState==="ACTIVE_LOCK"&&!Lt&&(ge._watchState="BACKGROUND",ge._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ge._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ge.fire(new a.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Yc--,qf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Yc++;var te;Yc>1?(te={maximumAge:6e5,timeout:0},qf=!0):(te=this.options.positionOptions,qf=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,te)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(a.Evented),Vd={maxWidth:100,unit:"metric"},ec=function(Z){this.options=a.extend({},Vd,Z),a.bindAll(["_onMove","setUnit"],this)};ec.prototype.getDefaultPosition=function(){return"bottom-left"},ec.prototype._onMove=function(){jd(this._map,this._container,this.options)},ec.prototype.onAdd=function(Z){return this._map=Z,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ec.prototype.onRemove=function(){w.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ec.prototype.setUnit=function(Z){this.options.unit=Z,jd(this._map,this._container,this.options)};function jd(ve,Z,pe){var te=pe&&pe.maxWidth||100,ge=ve._container.clientHeight/2,Fe=ve.unproject([0,ge]),$e=ve.unproject([te,ge]),ft=Fe.distanceTo($e);if(pe&&pe.unit==="imperial"){var Lt=3.2808*ft;if(Lt>5280){var jt=Lt/5280;Xc(Z,te,jt,ve._getUIString("ScaleControl.Miles"))}else Xc(Z,te,Lt,ve._getUIString("ScaleControl.Feet"))}else if(pe&&pe.unit==="nautical"){var qt=ft/1852;Xc(Z,te,qt,ve._getUIString("ScaleControl.NauticalMiles"))}else ft>=1e3?Xc(Z,te,ft/1e3,ve._getUIString("ScaleControl.Kilometers")):Xc(Z,te,ft,ve._getUIString("ScaleControl.Meters"))}function Xc(ve,Z,pe,te){var ge=g0(pe),Fe=ge/pe;ve.style.width=Z*Fe+"px",ve.innerHTML=ge+"&nbsp;"+te}function p0(ve){var Z=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*Z)/Z}function g0(ve){var Z=Math.pow(10,(""+Math.floor(ve)).length-1),pe=ve/Z;return pe=pe>=10?10:pe>=5?5:pe>=3?3:pe>=2?2:pe>=1?1:p0(pe),Z*pe}var Ll=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof a.window.HTMLElement?this._container=Z.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ll.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ll.prototype.onRemove=function(){w.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ll.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Ll.prototype._setupUI=function(){var Z=this._fullscreenButton=w.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);w.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ll.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},Ll.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ll.prototype._isFullscreen=function(){return this._fullscreen},Ll.prototype._changeIcon=function(){var Z=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ll.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var y0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},m0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),hm=function(ve){function Z(pe){ve.call(this),this.options=a.extend(Object.create(y0),pe),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(te){return this._map&&this.remove(),this._map=te,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&w.remove(this._content),this._container&&(w.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(te){return this._lngLat=a.LngLat.convert(te),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(te){return this.setDOMContent(a.window.document.createTextNode(te))},Z.prototype.setHTML=function(te){var ge=a.window.document.createDocumentFragment(),Fe=a.window.document.createElement("body"),$e;for(Fe.innerHTML=te;$e=Fe.firstChild,!!$e;)ge.appendChild($e);return this.setDOMContent(ge)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(te){return this.options.maxWidth=te,this._update(),this},Z.prototype.setDOMContent=function(te){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=w.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(te),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Z.prototype.addClassName=function(te){this._container&&this._container.classList.add(te)},Z.prototype.removeClassName=function(te){this._container&&this._container.classList.remove(te)},Z.prototype.setOffset=function(te){return this.options.offset=te,this._update(),this},Z.prototype.toggleClassName=function(te){if(this._container)return this._container.classList.toggle(te)},Z.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=w.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(te){this._update(te.point)},Z.prototype._onMouseMove=function(te){this._update(te.point)},Z.prototype._onDrag=function(te){this._update(te.point)},Z.prototype._update=function(te){var ge=this,Fe=this._lngLat||this._trackPointer;if(!(!this._map||!Fe||!this._content)&&(this._container||(this._container=w.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=w.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Fr){return ge._container.classList.add(Fr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Hu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!te))){var $e=this._pos=this._trackPointer&&te?te:this._map.project(this._lngLat),ft=this.options.anchor,Lt=x0(this.options.offset);if(!ft){var jt=this._container.offsetWidth,qt=this._container.offsetHeight,lr;$e.y+Lt.bottom.y<qt?lr=["top"]:$e.y>this._map.transform.height-qt?lr=["bottom"]:lr=[],$e.x<jt/2?lr.push("left"):$e.x>this._map.transform.width-jt/2&&lr.push("right"),lr.length===0?ft="bottom":ft=lr.join("-")}var or=$e.add(Lt[ft]).round();w.setTransform(this._container,qh[ft]+" translate("+or.x+"px,"+or.y+"px)"),Pv(this._container,ft,"popup")}},Z.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var te=this._container.querySelector(m0);te&&te.focus()}},Z.prototype._onClose=function(){this.remove()},Z}(a.Evented);function x0(ve){if(ve)if(typeof ve=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new a.Point(0,0),top:new a.Point(0,ve),"top-left":new a.Point(Z,Z),"top-right":new a.Point(-Z,Z),bottom:new a.Point(0,-ve),"bottom-left":new a.Point(Z,-Z),"bottom-right":new a.Point(-Z,-Z),left:new a.Point(ve,0),right:new a.Point(-ve,0)}}else if(ve instanceof a.Point||Array.isArray(ve)){var pe=a.Point.convert(ve);return{center:pe,top:pe,"top-left":pe,"top-right":pe,bottom:pe,"bottom-left":pe,"bottom-right":pe,left:pe,right:pe}}else return{center:a.Point.convert(ve.center||[0,0]),top:a.Point.convert(ve.top||[0,0]),"top-left":a.Point.convert(ve["top-left"]||[0,0]),"top-right":a.Point.convert(ve["top-right"]||[0,0]),bottom:a.Point.convert(ve.bottom||[0,0]),"bottom-left":a.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(ve["bottom-right"]||[0,0]),left:a.Point.convert(ve.left||[0,0]),right:a.Point.convert(ve.right||[0,0])};else return x0(new a.Point(0,0))}var lo={version:a.version,supported:x,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Bd,NavigationControl:ju,GeolocateControl:d0,AttributionControl:Ka,ScaleControl:ec,FullscreenControl:Ll,Popup:hm,Marker:Wc,Style:Ho,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:Ft,clearPrewarmedResources:Jt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(ve){a.config.ACCESS_TOKEN=ve},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(ve){a.config.API_URL=ve},get workerCount(){return dr.workerCount},set workerCount(ve){dr.workerCount=ve},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){a.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(Z){a.clearTileCache(Z)},workerUrl:""};return lo}),g})},3108:function(H,j,e){H.exports=e(26099)},26099:function(H,j,e){var g=e(64928),P=e(32420),a=e(51160),x=e(76752),w=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),i=e(76244),n=1073741824;H.exports=function(l,y){y||(y={}),l=p(l,"float64"),y=w(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(y.maxDepth,255),M=v(y.bounds,x(l,2));M[0]===M[2]&&M[2]++,M[1]===M[3]&&M[3]++;var c=u(l,M),o=l.length>>>1,d;y.dtype||(y.dtype="array"),typeof y.dtype=="string"?d=new(t(y.dtype))(o):y.dtype&&(d=y.dtype,Array.isArray(d)&&(d.length=o));for(var T=0;T<o;++T)d[T]=T;var S=[],C=[],m=[],E=[];U(0,0,1,d,0,1);for(var b=0,s=0;s<S.length;s++){var L=S[s];if(d.set)d.set(L,b);else for(var A=0,k=L.length;A<k;A++)d[A+b]=L[A];var _=b+S[s].length;E[s]=[b,_],b=_}return d.range=F,d;function U(N,V,W,Q,re,ne){if(!Q.length)return null;var fe=S[re]||(S[re]=[]),$=m[re]||(m[re]=[]),X=C[re]||(C[re]=[]),oe=fe.length;if(re++,re>h||ne>n){for(var Y=0;Y<Q.length;Y++)fe.push(Q[Y]),$.push(ne),X.push(null,null,null,null);return oe}if(fe.push(Q[0]),$.push(ne),Q.length<=1)return X.push(null,null,null,null),oe;for(var ee=W*.5,se=N+ee,q=V+ee,K=[],le=[],ie=[],he=[],ye=1,Ce=Q.length;ye<Ce;ye++){var Ae=Q[ye],ke=c[Ae*2],we=c[Ae*2+1];ke<se?we<q?K.push(Ae):le.push(Ae):we<q?ie.push(Ae):he.push(Ae)}return ne<<=2,X.push(U(N,V,ee,K,re,ne),U(N,q,ee,le,re,ne+1),U(se,V,ee,ie,re,ne+2),U(se,q,ee,he,re,ne+3)),oe}function F(){for(var N=[],V=arguments.length;V--;)N[V]=arguments[V];var W;if(r(N[N.length-1])){var Q=N.pop();!N.length&&(Q.x!=null||Q.l!=null||Q.left!=null)&&(N=[Q],W={}),W=w(Q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};N.length||(N=M);var re=a.apply(void 0,N),ne=[Math.min(re.x,re.x+re.width),Math.min(re.y,re.y+re.height),Math.max(re.x,re.x+re.width),Math.max(re.y,re.y+re.height)],fe=ne[0],$=ne[1],X=ne[2],oe=ne[3],Y=u([fe,$,X,oe],M),ee=Y[0],se=Y[1],q=Y[2],K=Y[3],le=v(W.level,S.length);if(W.d!=null){var ie;typeof W.d=="number"?ie=[W.d,W.d]:W.d.length&&(ie=W.d),le=Math.min(Math.max(Math.ceil(-i(Math.abs(ie[0])/(M[2]-M[0]))),Math.ceil(-i(Math.abs(ie[1])/(M[3]-M[1])))),le)}if(le=Math.min(le,S.length),W.lod)return z(ee,se,q,K,le);var he=[];ye(0,0,1,0,0,1);function ye(Ae,ke,we,Ee,xe,Re){if(!(xe===null||Re===null)){var Ve=Ae+we,Ue=ke+we;if(!(ee>Ve||se>Ue||q<Ae||K<ke)&&!(Ee>=le)&&xe!==Re){var Be=S[Ee];Re===void 0&&(Re=Be.length);for(var Xe=xe;Xe<Re;Xe++){var ut=Be[Xe],dt=l[ut*2],at=l[ut*2+1];dt>=fe&&dt<=X&&at>=$&&at<=oe&&he.push(ut)}var We=C[Ee],rt=We[xe*4+0],st=We[xe*4+1],ht=We[xe*4+2],vt=We[xe*4+3],At=Ce(We,xe+1),tt=we*.5,_e=Ee+1;ye(Ae,ke,tt,_e,rt,st||ht||vt||At),ye(Ae,ke+tt,tt,_e,st,ht||vt||At),ye(Ae+tt,ke,tt,_e,ht,vt||At),ye(Ae+tt,ke+tt,tt,_e,vt,At)}}}function Ce(Ae,ke){for(var we=null,Ee=0;we===null;)if(we=Ae[ke*4+Ee],Ee++,Ee>Ae.length)return null;return we}return he}function z(N,V,W,Q,re){for(var ne=[],fe=0;fe<re;fe++){var $=m[fe],X=E[fe][0],oe=B(N,V,fe),Y=B(W,Q,fe),ee=g.ge($,oe),se=g.gt($,Y,ee,$.length-1);ne[fe]=[ee+X,se+X]}return ne}function B(N,V,W){for(var Q=1,re=.5,ne=.5,fe=.5,$=0;$<W;$++)Q<<=2,Q+=N<re?V<ne?0:1:V<ne?2:3,fe*=.5,re+=N<re?-fe:fe,ne+=V<ne?-fe:fe;return Q}};function u(f,l){for(var y=l[0],h=l[1],M=l[2],c=l[3],o=1/(M-y),d=1/(c-h),T=new Array(f.length),S=0,C=f.length/2;S<C;S++)T[2*S]=P((f[2*S]-y)*o,0,1),T[2*S+1]=P((f[2*S+1]-h)*d,0,1);return T}},40440:function(H,j,e){Object.defineProperty(j,"__esModule",{value:!0});var g=e(3256),P=6378137;function a(r){return g.geomReduce(r,function(t,i){return t+x(i)},0)}j.default=a;function x(r){var t=0,i;switch(r.type){case"Polygon":return w(r.coordinates);case"MultiPolygon":for(i=0;i<r.coordinates.length;i++)t+=w(r.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function w(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var i=1;i<r.length;i++)t-=Math.abs(v(r[i]))}return t}function v(r){var t,i,n,u,f,l,y,h=0,M=r.length;if(M>2){for(y=0;y<M;y++)y===M-2?(u=M-2,f=M-1,l=0):y===M-1?(u=M-1,f=0,l=1):(u=y,f=y+1,l=y+2),t=r[u],i=r[f],n=r[l],h+=(p(n[0])-p(t[0]))*Math.sin(p(i[1]));h=h*P*P/2}return h}function p(r){return r*Math.PI/180}},46284:function(H,j){Object.defineProperty(j,"__esModule",{value:!0}),j.earthRadius=63710088e-1,j.factors={centimeters:j.earthRadius*100,centimetres:j.earthRadius*100,degrees:j.earthRadius/111325,feet:j.earthRadius*3.28084,inches:j.earthRadius*39.37,kilometers:j.earthRadius/1e3,kilometres:j.earthRadius/1e3,meters:j.earthRadius,metres:j.earthRadius,miles:j.earthRadius/1609.344,millimeters:j.earthRadius*1e3,millimetres:j.earthRadius*1e3,nauticalmiles:j.earthRadius/1852,radians:1,yards:j.earthRadius*1.0936},j.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/j.earthRadius,yards:1.0936133},j.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,s,L){L===void 0&&(L={});var A={type:"Feature"};return(L.id===0||L.id)&&(A.id=L.id),L.bbox&&(A.bbox=L.bbox),A.properties=s||{},A.geometry=b,A}j.feature=e;function g(b,s,L){switch(b){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return x(s).geometry;case"MultiPoint":return i(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(b+" is invalid")}}j.geometry=g;function P(b,s,L){if(L===void 0&&(L={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(b[0])||!S(b[1]))throw new Error("coordinates must contain numbers");var A={type:"Point",coordinates:b};return e(A,s,L)}j.point=P;function a(b,s,L){return L===void 0&&(L={}),r(b.map(function(A){return P(A,s)}),L)}j.points=a;function x(b,s,L){L===void 0&&(L={});for(var A=0,k=b;A<k.length;A++){var _=k[A];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<_[_.length-1].length;U++)if(_[_.length-1][U]!==_[0][U])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:b};return e(F,s,L)}j.polygon=x;function w(b,s,L){return L===void 0&&(L={}),r(b.map(function(A){return x(A,s)}),L)}j.polygons=w;function v(b,s,L){if(L===void 0&&(L={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var A={type:"LineString",coordinates:b};return e(A,s,L)}j.lineString=v;function p(b,s,L){return L===void 0&&(L={}),r(b.map(function(A){return v(A,s)}),L)}j.lineStrings=p;function r(b,s){s===void 0&&(s={});var L={type:"FeatureCollection"};return s.id&&(L.id=s.id),s.bbox&&(L.bbox=s.bbox),L.features=b,L}j.featureCollection=r;function t(b,s,L){L===void 0&&(L={});var A={type:"MultiLineString",coordinates:b};return e(A,s,L)}j.multiLineString=t;function i(b,s,L){L===void 0&&(L={});var A={type:"MultiPoint",coordinates:b};return e(A,s,L)}j.multiPoint=i;function n(b,s,L){L===void 0&&(L={});var A={type:"MultiPolygon",coordinates:b};return e(A,s,L)}j.multiPolygon=n;function u(b,s,L){L===void 0&&(L={});var A={type:"GeometryCollection",geometries:b};return e(A,s,L)}j.geometryCollection=u;function f(b,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,s||0);return Math.round(b*L)/L}j.round=f;function l(b,s){s===void 0&&(s="kilometers");var L=j.factors[s];if(!L)throw new Error(s+" units is invalid");return b*L}j.radiansToLength=l;function y(b,s){s===void 0&&(s="kilometers");var L=j.factors[s];if(!L)throw new Error(s+" units is invalid");return b/L}j.lengthToRadians=y;function h(b,s){return c(y(b,s))}j.lengthToDegrees=h;function M(b){var s=b%360;return s<0&&(s+=360),s}j.bearingToAzimuth=M;function c(b){var s=b%(2*Math.PI);return s*180/Math.PI}j.radiansToDegrees=c;function o(b){var s=b%360;return s*Math.PI/180}j.degreesToRadians=o;function d(b,s,L){if(s===void 0&&(s="kilometers"),L===void 0&&(L="kilometers"),!(b>=0))throw new Error("length must be a positive number");return l(y(b,s),L)}j.convertLength=d;function T(b,s,L){if(s===void 0&&(s="meters"),L===void 0&&(L="kilometers"),!(b>=0))throw new Error("area must be a positive number");var A=j.areaFactors[s];if(!A)throw new Error("invalid original units");var k=j.areaFactors[L];if(!k)throw new Error("invalid final units");return b/A*k}j.convertArea=T;function S(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}j.isNumber=S;function C(b){return!!b&&b.constructor===Object}j.isObject=C;function m(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(s){if(!S(s))throw new Error("bbox must only contain numbers")})}j.validateBBox=m;function E(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}j.validateId=E},3256:function(H,j,e){Object.defineProperty(j,"__esModule",{value:!0});var g=e(46284);function P(o,d,T){if(o!==null)for(var S,C,m,E,b,s,L,A=0,k=0,_,U=o.type,F=U==="FeatureCollection",z=U==="Feature",B=F?o.features.length:1,N=0;N<B;N++){L=F?o.features[N].geometry:z?o.geometry:o,_=L?L.type==="GeometryCollection":!1,b=_?L.geometries.length:1;for(var V=0;V<b;V++){var W=0,Q=0;if(E=_?L.geometries[V]:L,E!==null){s=E.coordinates;var re=E.type;switch(A=T&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,k,N,W,Q)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(S=0;S<s.length;S++){if(d(s[S],k,N,W,Q)===!1)return!1;k++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(S=0;S<s.length;S++){for(C=0;C<s[S].length-A;C++){if(d(s[S][C],k,N,W,Q)===!1)return!1;k++}re==="MultiLineString"&&W++,re==="Polygon"&&Q++}re==="Polygon"&&W++;break;case"MultiPolygon":for(S=0;S<s.length;S++){for(Q=0,C=0;C<s[S].length;C++){for(m=0;m<s[S][C].length-A;m++){if(d(s[S][C][m],k,N,W,Q)===!1)return!1;k++}Q++}W++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(P(E.geometries[S],d,T)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,d,T,S){var C=T;return P(o,function(m,E,b,s,L){E===0&&T===void 0?C=m:C=d(C,m,E,b,s,L)},S),C}function x(o,d){var T;switch(o.type){case"FeatureCollection":for(T=0;T<o.features.length&&d(o.features[T].properties,T)!==!1;T++);break;case"Feature":d(o.properties,0);break}}function w(o,d,T){var S=T;return x(o,function(C,m){m===0&&T===void 0?S=C:S=d(S,C,m)}),S}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var T=0;T<o.features.length&&d(o.features[T],T)!==!1;T++);}function p(o,d,T){var S=T;return v(o,function(C,m){m===0&&T===void 0?S=C:S=d(S,C,m)}),S}function r(o){var d=[];return P(o,function(T){d.push(T)}),d}function t(o,d){var T,S,C,m,E,b,s,L,A,k,_=0,U=o.type==="FeatureCollection",F=o.type==="Feature",z=U?o.features.length:1;for(T=0;T<z;T++){for(b=U?o.features[T].geometry:F?o.geometry:o,L=U?o.features[T].properties:F?o.properties:{},A=U?o.features[T].bbox:F?o.bbox:void 0,k=U?o.features[T].id:F?o.id:void 0,s=b?b.type==="GeometryCollection":!1,E=s?b.geometries.length:1,C=0;C<E;C++){if(m=s?b.geometries[C]:b,m===null){if(d(null,_,L,A,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,_,L,A,k)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<m.geometries.length;S++)if(d(m.geometries[S],_,L,A,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,d,T){var S=T;return t(o,function(C,m,E,b,s){m===0&&T===void 0?S=C:S=d(S,C,m,E,b,s)}),S}function n(o,d){t(o,function(T,S,C,m,E){var b=T===null?null:T.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(T,C,{bbox:m,id:E}),S,0)===!1?!1:void 0}var s;switch(b){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var L=0;L<T.coordinates.length;L++){var A=T.coordinates[L],k={type:s,coordinates:A};if(d(g.feature(k,C),S,L)===!1)return!1}})}function u(o,d,T){var S=T;return n(o,function(C,m,E){m===0&&E===0&&T===void 0?S=C:S=d(S,C,m,E)}),S}function f(o,d){n(o,function(T,S,C){var m=0;if(T.geometry){var E=T.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,s=0,L=0,A=0;if(P(T,function(k,_,U,F,z){if(b===void 0||S>s||F>L||z>A){b=k,s=S,L=F,A=z,m=0;return}var B=g.lineString([b,k],T.properties);if(d(B,S,C,z,m)===!1)return!1;m++,b=k})===!1)return!1}}})}function l(o,d,T){var S=T,C=!1;return f(o,function(m,E,b,s,L){C===!1&&T===void 0?S=m:S=d(S,m,E,b,s,L),C=!0}),S}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(T,S,C){if(T.geometry!==null){var m=T.geometry.type,E=T.geometry.coordinates;switch(m){case"LineString":if(d(T,S,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(d(g.lineString(E[b],T.properties),S,C,b)===!1)return!1;break}}})}function h(o,d,T){var S=T;return y(o,function(C,m,E,b){m===0&&T===void 0?S=C:S=d(S,C,m,E,b)}),S}function M(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var T=d.featureIndex||0,S=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":T<0&&(T=o.features.length+T),E=E||o.features[T].properties,b=o.features[T].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m-1),g.lineString([s[C][m],s[C][m+1]],E,d);case"MultiLineString":return S<0&&(S=s.length+S),m<0&&(m=s[S].length+m-1),g.lineString([s[S][m],s[S][m+1]],E,d);case"MultiPolygon":return S<0&&(S=s.length+S),C<0&&(C=s[S].length+C),m<0&&(m=s[S][C].length-m-1),g.lineString([s[S][C][m],s[S][C][m+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var T=d.featureIndex||0,S=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":T<0&&(T=o.features.length+T),E=E||o.features[T].properties,b=o.features[T].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":return g.point(s,E,d);case"MultiPoint":return S<0&&(S=s.length+S),g.point(s[S],E,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m),g.point(s[C][m],E,d);case"MultiLineString":return S<0&&(S=s.length+S),m<0&&(m=s[S].length+m),g.point(s[S][m],E,d);case"MultiPolygon":return S<0&&(S=s.length+S),C<0&&(C=s[S].length+C),m<0&&(m=s[S][C].length-m),g.point(s[S][C][m],E,d)}throw new Error("geojson is invalid")}j.coordEach=P,j.coordReduce=a,j.propEach=x,j.propReduce=w,j.featureEach=v,j.featureReduce=p,j.coordAll=r,j.geomEach=t,j.geomReduce=i,j.flattenEach=n,j.flattenReduce=u,j.segmentEach=f,j.segmentReduce=l,j.lineEach=y,j.lineReduce=h,j.findSegment=M,j.findPoint=c},42428:function(H,j,e){Object.defineProperty(j,"__esModule",{value:!0});var g=e(84880);function P(a){var x=[1/0,1/0,-1/0,-1/0];return g.coordEach(a,function(w){x[0]>w[0]&&(x[0]=w[0]),x[1]>w[1]&&(x[1]=w[1]),x[2]<w[0]&&(x[2]=w[0]),x[3]<w[1]&&(x[3]=w[1])}),x}P.default=P,j.default=P},76796:function(H,j){Object.defineProperty(j,"__esModule",{value:!0}),j.earthRadius=63710088e-1,j.factors={centimeters:j.earthRadius*100,centimetres:j.earthRadius*100,degrees:j.earthRadius/111325,feet:j.earthRadius*3.28084,inches:j.earthRadius*39.37,kilometers:j.earthRadius/1e3,kilometres:j.earthRadius/1e3,meters:j.earthRadius,metres:j.earthRadius,miles:j.earthRadius/1609.344,millimeters:j.earthRadius*1e3,millimetres:j.earthRadius*1e3,nauticalmiles:j.earthRadius/1852,radians:1,yards:j.earthRadius*1.0936},j.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/j.earthRadius,yards:1.0936133},j.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,s,L){L===void 0&&(L={});var A={type:"Feature"};return(L.id===0||L.id)&&(A.id=L.id),L.bbox&&(A.bbox=L.bbox),A.properties=s||{},A.geometry=b,A}j.feature=e;function g(b,s,L){switch(b){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return x(s).geometry;case"MultiPoint":return i(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(b+" is invalid")}}j.geometry=g;function P(b,s,L){if(L===void 0&&(L={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(b[0])||!S(b[1]))throw new Error("coordinates must contain numbers");var A={type:"Point",coordinates:b};return e(A,s,L)}j.point=P;function a(b,s,L){return L===void 0&&(L={}),r(b.map(function(A){return P(A,s)}),L)}j.points=a;function x(b,s,L){L===void 0&&(L={});for(var A=0,k=b;A<k.length;A++){var _=k[A];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<_[_.length-1].length;U++)if(_[_.length-1][U]!==_[0][U])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:b};return e(F,s,L)}j.polygon=x;function w(b,s,L){return L===void 0&&(L={}),r(b.map(function(A){return x(A,s)}),L)}j.polygons=w;function v(b,s,L){if(L===void 0&&(L={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var A={type:"LineString",coordinates:b};return e(A,s,L)}j.lineString=v;function p(b,s,L){return L===void 0&&(L={}),r(b.map(function(A){return v(A,s)}),L)}j.lineStrings=p;function r(b,s){s===void 0&&(s={});var L={type:"FeatureCollection"};return s.id&&(L.id=s.id),s.bbox&&(L.bbox=s.bbox),L.features=b,L}j.featureCollection=r;function t(b,s,L){L===void 0&&(L={});var A={type:"MultiLineString",coordinates:b};return e(A,s,L)}j.multiLineString=t;function i(b,s,L){L===void 0&&(L={});var A={type:"MultiPoint",coordinates:b};return e(A,s,L)}j.multiPoint=i;function n(b,s,L){L===void 0&&(L={});var A={type:"MultiPolygon",coordinates:b};return e(A,s,L)}j.multiPolygon=n;function u(b,s,L){L===void 0&&(L={});var A={type:"GeometryCollection",geometries:b};return e(A,s,L)}j.geometryCollection=u;function f(b,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,s||0);return Math.round(b*L)/L}j.round=f;function l(b,s){s===void 0&&(s="kilometers");var L=j.factors[s];if(!L)throw new Error(s+" units is invalid");return b*L}j.radiansToLength=l;function y(b,s){s===void 0&&(s="kilometers");var L=j.factors[s];if(!L)throw new Error(s+" units is invalid");return b/L}j.lengthToRadians=y;function h(b,s){return c(y(b,s))}j.lengthToDegrees=h;function M(b){var s=b%360;return s<0&&(s+=360),s}j.bearingToAzimuth=M;function c(b){var s=b%(2*Math.PI);return s*180/Math.PI}j.radiansToDegrees=c;function o(b){var s=b%360;return s*Math.PI/180}j.degreesToRadians=o;function d(b,s,L){if(s===void 0&&(s="kilometers"),L===void 0&&(L="kilometers"),!(b>=0))throw new Error("length must be a positive number");return l(y(b,s),L)}j.convertLength=d;function T(b,s,L){if(s===void 0&&(s="meters"),L===void 0&&(L="kilometers"),!(b>=0))throw new Error("area must be a positive number");var A=j.areaFactors[s];if(!A)throw new Error("invalid original units");var k=j.areaFactors[L];if(!k)throw new Error("invalid final units");return b/A*k}j.convertArea=T;function S(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}j.isNumber=S;function C(b){return!!b&&b.constructor===Object}j.isObject=C;function m(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(s){if(!S(s))throw new Error("bbox must only contain numbers")})}j.validateBBox=m;function E(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}j.validateId=E},84880:function(H,j,e){Object.defineProperty(j,"__esModule",{value:!0});var g=e(76796);function P(o,d,T){if(o!==null)for(var S,C,m,E,b,s,L,A=0,k=0,_,U=o.type,F=U==="FeatureCollection",z=U==="Feature",B=F?o.features.length:1,N=0;N<B;N++){L=F?o.features[N].geometry:z?o.geometry:o,_=L?L.type==="GeometryCollection":!1,b=_?L.geometries.length:1;for(var V=0;V<b;V++){var W=0,Q=0;if(E=_?L.geometries[V]:L,E!==null){s=E.coordinates;var re=E.type;switch(A=T&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,k,N,W,Q)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(S=0;S<s.length;S++){if(d(s[S],k,N,W,Q)===!1)return!1;k++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(S=0;S<s.length;S++){for(C=0;C<s[S].length-A;C++){if(d(s[S][C],k,N,W,Q)===!1)return!1;k++}re==="MultiLineString"&&W++,re==="Polygon"&&Q++}re==="Polygon"&&W++;break;case"MultiPolygon":for(S=0;S<s.length;S++){for(Q=0,C=0;C<s[S].length;C++){for(m=0;m<s[S][C].length-A;m++){if(d(s[S][C][m],k,N,W,Q)===!1)return!1;k++}Q++}W++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(P(E.geometries[S],d,T)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,d,T,S){var C=T;return P(o,function(m,E,b,s,L){E===0&&T===void 0?C=m:C=d(C,m,E,b,s,L)},S),C}function x(o,d){var T;switch(o.type){case"FeatureCollection":for(T=0;T<o.features.length&&d(o.features[T].properties,T)!==!1;T++);break;case"Feature":d(o.properties,0);break}}function w(o,d,T){var S=T;return x(o,function(C,m){m===0&&T===void 0?S=C:S=d(S,C,m)}),S}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var T=0;T<o.features.length&&d(o.features[T],T)!==!1;T++);}function p(o,d,T){var S=T;return v(o,function(C,m){m===0&&T===void 0?S=C:S=d(S,C,m)}),S}function r(o){var d=[];return P(o,function(T){d.push(T)}),d}function t(o,d){var T,S,C,m,E,b,s,L,A,k,_=0,U=o.type==="FeatureCollection",F=o.type==="Feature",z=U?o.features.length:1;for(T=0;T<z;T++){for(b=U?o.features[T].geometry:F?o.geometry:o,L=U?o.features[T].properties:F?o.properties:{},A=U?o.features[T].bbox:F?o.bbox:void 0,k=U?o.features[T].id:F?o.id:void 0,s=b?b.type==="GeometryCollection":!1,E=s?b.geometries.length:1,C=0;C<E;C++){if(m=s?b.geometries[C]:b,m===null){if(d(null,_,L,A,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,_,L,A,k)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<m.geometries.length;S++)if(d(m.geometries[S],_,L,A,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,d,T){var S=T;return t(o,function(C,m,E,b,s){m===0&&T===void 0?S=C:S=d(S,C,m,E,b,s)}),S}function n(o,d){t(o,function(T,S,C,m,E){var b=T===null?null:T.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(T,C,{bbox:m,id:E}),S,0)===!1?!1:void 0}var s;switch(b){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var L=0;L<T.coordinates.length;L++){var A=T.coordinates[L],k={type:s,coordinates:A};if(d(g.feature(k,C),S,L)===!1)return!1}})}function u(o,d,T){var S=T;return n(o,function(C,m,E){m===0&&E===0&&T===void 0?S=C:S=d(S,C,m,E)}),S}function f(o,d){n(o,function(T,S,C){var m=0;if(T.geometry){var E=T.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,s=0,L=0,A=0;if(P(T,function(k,_,U,F,z){if(b===void 0||S>s||F>L||z>A){b=k,s=S,L=F,A=z,m=0;return}var B=g.lineString([b,k],T.properties);if(d(B,S,C,z,m)===!1)return!1;m++,b=k})===!1)return!1}}})}function l(o,d,T){var S=T,C=!1;return f(o,function(m,E,b,s,L){C===!1&&T===void 0?S=m:S=d(S,m,E,b,s,L),C=!0}),S}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(T,S,C){if(T.geometry!==null){var m=T.geometry.type,E=T.geometry.coordinates;switch(m){case"LineString":if(d(T,S,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(d(g.lineString(E[b],T.properties),S,C,b)===!1)return!1;break}}})}function h(o,d,T){var S=T;return y(o,function(C,m,E,b){m===0&&T===void 0?S=C:S=d(S,C,m,E,b)}),S}function M(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var T=d.featureIndex||0,S=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":T<0&&(T=o.features.length+T),E=E||o.features[T].properties,b=o.features[T].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m-1),g.lineString([s[C][m],s[C][m+1]],E,d);case"MultiLineString":return S<0&&(S=s.length+S),m<0&&(m=s[S].length+m-1),g.lineString([s[S][m],s[S][m+1]],E,d);case"MultiPolygon":return S<0&&(S=s.length+S),C<0&&(C=s[S].length+C),m<0&&(m=s[S][C].length-m-1),g.lineString([s[S][C][m],s[S][C][m+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var T=d.featureIndex||0,S=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":T<0&&(T=o.features.length+T),E=E||o.features[T].properties,b=o.features[T].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":return g.point(s,E,d);case"MultiPoint":return S<0&&(S=s.length+S),g.point(s[S],E,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m),g.point(s[C][m],E,d);case"MultiLineString":return S<0&&(S=s.length+S),m<0&&(m=s[S].length+m),g.point(s[S][m],E,d);case"MultiPolygon":return S<0&&(S=s.length+S),C<0&&(C=s[S].length+C),m<0&&(m=s[S][C].length-m),g.point(s[S][C][m],E,d)}throw new Error("geojson is invalid")}j.coordEach=P,j.coordReduce=a,j.propEach=x,j.propReduce=w,j.featureEach=v,j.featureReduce=p,j.coordAll=r,j.geomEach=t,j.geomReduce=i,j.flattenEach=n,j.flattenReduce=u,j.segmentEach=f,j.segmentReduce=l,j.lineEach=y,j.lineReduce=h,j.findSegment=M,j.findPoint=c},77844:function(H,j,e){Object.defineProperty(j,"__esModule",{value:!0});var g=e(43752),P=e(49840);function a(x,w){w===void 0&&(w={});var v=0,p=0,r=0;return g.coordEach(x,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],w.properties)}j.default=a},49840:function(H,j){Object.defineProperty(j,"__esModule",{value:!0}),j.earthRadius=63710088e-1,j.factors={centimeters:j.earthRadius*100,centimetres:j.earthRadius*100,degrees:j.earthRadius/111325,feet:j.earthRadius*3.28084,inches:j.earthRadius*39.37,kilometers:j.earthRadius/1e3,kilometres:j.earthRadius/1e3,meters:j.earthRadius,metres:j.earthRadius,miles:j.earthRadius/1609.344,millimeters:j.earthRadius*1e3,millimetres:j.earthRadius*1e3,nauticalmiles:j.earthRadius/1852,radians:1,yards:j.earthRadius/1.0936},j.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/j.earthRadius,yards:.91441111923921},j.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(F,z,B){B===void 0&&(B={});var N={type:"Feature"};return(B.id===0||B.id)&&(N.id=B.id),B.bbox&&(N.bbox=B.bbox),N.properties=z||{},N.geometry=F,N}j.feature=e;function g(F,z,B){switch(F){case"Point":return P(z).geometry;case"LineString":return v(z).geometry;case"Polygon":return x(z).geometry;case"MultiPoint":return i(z).geometry;case"MultiLineString":return t(z).geometry;case"MultiPolygon":return n(z).geometry;default:throw new Error(F+" is invalid")}}j.geometry=g;function P(F,z,B){B===void 0&&(B={});var N={type:"Point",coordinates:F};return e(N,z,B)}j.point=P;function a(F,z,B){return B===void 0&&(B={}),r(F.map(function(N){return P(N,z)}),B)}j.points=a;function x(F,z,B){B===void 0&&(B={});for(var N=0,V=F;N<V.length;N++){var W=V[N];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Q=0;Q<W[W.length-1].length;Q++)if(W[W.length-1][Q]!==W[0][Q])throw new Error("First and last Position are not equivalent.")}var re={type:"Polygon",coordinates:F};return e(re,z,B)}j.polygon=x;function w(F,z,B){return B===void 0&&(B={}),r(F.map(function(N){return x(N,z)}),B)}j.polygons=w;function v(F,z,B){if(B===void 0&&(B={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var N={type:"LineString",coordinates:F};return e(N,z,B)}j.lineString=v;function p(F,z,B){return B===void 0&&(B={}),r(F.map(function(N){return v(N,z)}),B)}j.lineStrings=p;function r(F,z){z===void 0&&(z={});var B={type:"FeatureCollection"};return z.id&&(B.id=z.id),z.bbox&&(B.bbox=z.bbox),B.features=F,B}j.featureCollection=r;function t(F,z,B){B===void 0&&(B={});var N={type:"MultiLineString",coordinates:F};return e(N,z,B)}j.multiLineString=t;function i(F,z,B){B===void 0&&(B={});var N={type:"MultiPoint",coordinates:F};return e(N,z,B)}j.multiPoint=i;function n(F,z,B){B===void 0&&(B={});var N={type:"MultiPolygon",coordinates:F};return e(N,z,B)}j.multiPolygon=n;function u(F,z,B){B===void 0&&(B={});var N={type:"GeometryCollection",geometries:F};return e(N,z,B)}j.geometryCollection=u;function f(F,z){if(z===void 0&&(z=0),z&&!(z>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,z||0);return Math.round(F*B)/B}j.round=f;function l(F,z){z===void 0&&(z="kilometers");var B=j.factors[z];if(!B)throw new Error(z+" units is invalid");return F*B}j.radiansToLength=l;function y(F,z){z===void 0&&(z="kilometers");var B=j.factors[z];if(!B)throw new Error(z+" units is invalid");return F/B}j.lengthToRadians=y;function h(F,z){return c(y(F,z))}j.lengthToDegrees=h;function M(F){var z=F%360;return z<0&&(z+=360),z}j.bearingToAzimuth=M;function c(F){var z=F%(2*Math.PI);return z*180/Math.PI}j.radiansToDegrees=c;function o(F){var z=F%360;return z*Math.PI/180}j.degreesToRadians=o;function d(F,z,B){if(z===void 0&&(z="kilometers"),B===void 0&&(B="kilometers"),!(F>=0))throw new Error("length must be a positive number");return l(y(F,z),B)}j.convertLength=d;function T(F,z,B){if(z===void 0&&(z="meters"),B===void 0&&(B="kilometers"),!(F>=0))throw new Error("area must be a positive number");var N=j.areaFactors[z];if(!N)throw new Error("invalid original units");var V=j.areaFactors[B];if(!V)throw new Error("invalid final units");return F/N*V}j.convertArea=T;function S(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}j.isNumber=S;function C(F){return!!F&&F.constructor===Object}j.isObject=C;function m(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(z){if(!S(z))throw new Error("bbox must only contain numbers")})}j.validateBBox=m;function E(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}j.validateId=E;function b(){throw new Error("method has been renamed to `radiansToDegrees`")}j.radians2degrees=b;function s(){throw new Error("method has been renamed to `degreesToRadians`")}j.degrees2radians=s;function L(){throw new Error("method has been renamed to `lengthToDegrees`")}j.distanceToDegrees=L;function A(){throw new Error("method has been renamed to `lengthToRadians`")}j.distanceToRadians=A;function k(){throw new Error("method has been renamed to `radiansToLength`")}j.radiansToDistance=k;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}j.bearingToAngle=_;function U(){throw new Error("method has been renamed to `convertLength`")}j.convertDistance=U},43752:function(H,j,e){Object.defineProperty(j,"__esModule",{value:!0});var g=e(49840);function P(o,d,T){if(o!==null)for(var S,C,m,E,b,s,L,A=0,k=0,_,U=o.type,F=U==="FeatureCollection",z=U==="Feature",B=F?o.features.length:1,N=0;N<B;N++){L=F?o.features[N].geometry:z?o.geometry:o,_=L?L.type==="GeometryCollection":!1,b=_?L.geometries.length:1;for(var V=0;V<b;V++){var W=0,Q=0;if(E=_?L.geometries[V]:L,E!==null){s=E.coordinates;var re=E.type;switch(A=T&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,k,N,W,Q)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(S=0;S<s.length;S++){if(d(s[S],k,N,W,Q)===!1)return!1;k++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(S=0;S<s.length;S++){for(C=0;C<s[S].length-A;C++){if(d(s[S][C],k,N,W,Q)===!1)return!1;k++}re==="MultiLineString"&&W++,re==="Polygon"&&Q++}re==="Polygon"&&W++;break;case"MultiPolygon":for(S=0;S<s.length;S++){for(Q=0,C=0;C<s[S].length;C++){for(m=0;m<s[S][C].length-A;m++){if(d(s[S][C][m],k,N,W,Q)===!1)return!1;k++}Q++}W++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(P(E.geometries[S],d,T)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,d,T,S){var C=T;return P(o,function(m,E,b,s,L){E===0&&T===void 0?C=m:C=d(C,m,E,b,s,L)},S),C}function x(o,d){var T;switch(o.type){case"FeatureCollection":for(T=0;T<o.features.length&&d(o.features[T].properties,T)!==!1;T++);break;case"Feature":d(o.properties,0);break}}function w(o,d,T){var S=T;return x(o,function(C,m){m===0&&T===void 0?S=C:S=d(S,C,m)}),S}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var T=0;T<o.features.length&&d(o.features[T],T)!==!1;T++);}function p(o,d,T){var S=T;return v(o,function(C,m){m===0&&T===void 0?S=C:S=d(S,C,m)}),S}function r(o){var d=[];return P(o,function(T){d.push(T)}),d}function t(o,d){var T,S,C,m,E,b,s,L,A,k,_=0,U=o.type==="FeatureCollection",F=o.type==="Feature",z=U?o.features.length:1;for(T=0;T<z;T++){for(b=U?o.features[T].geometry:F?o.geometry:o,L=U?o.features[T].properties:F?o.properties:{},A=U?o.features[T].bbox:F?o.bbox:void 0,k=U?o.features[T].id:F?o.id:void 0,s=b?b.type==="GeometryCollection":!1,E=s?b.geometries.length:1,C=0;C<E;C++){if(m=s?b.geometries[C]:b,m===null){if(d(null,_,L,A,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,_,L,A,k)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<m.geometries.length;S++)if(d(m.geometries[S],_,L,A,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,d,T){var S=T;return t(o,function(C,m,E,b,s){m===0&&T===void 0?S=C:S=d(S,C,m,E,b,s)}),S}function n(o,d){t(o,function(T,S,C,m,E){var b=T===null?null:T.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(T,C,{bbox:m,id:E}),S,0)===!1?!1:void 0}var s;switch(b){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var L=0;L<T.coordinates.length;L++){var A=T.coordinates[L],k={type:s,coordinates:A};if(d(g.feature(k,C),S,L)===!1)return!1}})}function u(o,d,T){var S=T;return n(o,function(C,m,E){m===0&&E===0&&T===void 0?S=C:S=d(S,C,m,E)}),S}function f(o,d){n(o,function(T,S,C){var m=0;if(T.geometry){var E=T.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,s=0,L=0,A=0;if(P(T,function(k,_,U,F,z){if(b===void 0||S>s||F>L||z>A){b=k,s=S,L=F,A=z,m=0;return}var B=g.lineString([b,k],T.properties);if(d(B,S,C,z,m)===!1)return!1;m++,b=k})===!1)return!1}}})}function l(o,d,T){var S=T,C=!1;return f(o,function(m,E,b,s,L){C===!1&&T===void 0?S=m:S=d(S,m,E,b,s,L),C=!0}),S}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(T,S,C){if(T.geometry!==null){var m=T.geometry.type,E=T.geometry.coordinates;switch(m){case"LineString":if(d(T,S,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(d(g.lineString(E[b],T.properties),S,C,b)===!1)return!1;break}}})}function h(o,d,T){var S=T;return y(o,function(C,m,E,b){m===0&&T===void 0?S=C:S=d(S,C,m,E,b)}),S}function M(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var T=d.featureIndex||0,S=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":T<0&&(T=o.features.length+T),E=E||o.features[T].properties,b=o.features[T].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m-1),g.lineString([s[C][m],s[C][m+1]],E,d);case"MultiLineString":return S<0&&(S=s.length+S),m<0&&(m=s[S].length+m-1),g.lineString([s[S][m],s[S][m+1]],E,d);case"MultiPolygon":return S<0&&(S=s.length+S),C<0&&(C=s[S].length+C),m<0&&(m=s[S][C].length-m-1),g.lineString([s[S][C][m],s[S][C][m+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var T=d.featureIndex||0,S=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":T<0&&(T=o.features.length+T),E=E||o.features[T].properties,b=o.features[T].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":return g.point(s,E,d);case"MultiPoint":return S<0&&(S=s.length+S),g.point(s[S],E,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m),g.point(s[C][m],E,d);case"MultiLineString":return S<0&&(S=s.length+S),m<0&&(m=s[S].length+m),g.point(s[S][m],E,d);case"MultiPolygon":return S<0&&(S=s.length+S),C<0&&(C=s[S].length+C),m<0&&(m=s[S][C].length-m),g.point(s[S][C][m],E,d)}throw new Error("geojson is invalid")}j.coordEach=P,j.coordReduce=a,j.propEach=x,j.propReduce=w,j.featureEach=v,j.featureReduce=p,j.coordAll=r,j.geomEach=t,j.geomReduce=i,j.flattenEach=n,j.flattenReduce=u,j.segmentEach=f,j.segmentReduce=l,j.lineEach=y,j.lineReduce=h,j.findSegment=M,j.findPoint=c},49972:function(H){H.exports=j;function j(e){var g=0,P=0,a=0,x=0;return e.map(function(w){w=w.slice();var v=w[0],p=v.toUpperCase();if(v!=p)switch(w[0]=p,v){case"a":w[6]+=a,w[7]+=x;break;case"v":w[1]+=x;break;case"h":w[1]+=a;break;default:for(var r=1;r<w.length;)w[r++]+=a,w[r++]+=x}switch(p){case"Z":a=g,x=P;break;case"H":a=w[1];break;case"V":x=w[1];break;case"M":a=g=w[1],x=P=w[2];break;default:a=w[w.length-2],x=w[w.length-1]}return w})}},76752:function(H){H.exports=j;function j(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var P=Array(g*2),a=0;a<g;a++){for(var x=-1/0,w=1/0,v=a,p=e.length;v<p;v+=g)e[v]>x&&(x=e[v]),e[v]<w&&(w=e[v]);P[a]=w,P[g+a]=x}return P}},10272:function(H){H.exports=function(j,e,g){if(typeof Array.prototype.findIndex=="function")return j.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(j),a=P.length;if(a===0)return-1;for(var x=0;x<a;x++)if(e.call(g,P[x],x,P))return x;return-1}},71152:function(H,j,e){var g=e(76752);H.exports=P;function P(a,x,w){if(!a||a.length==null)throw Error("Argument should be an array");x==null&&(x=1),w==null&&(w=g(a,x));for(var v=0;v<x;v++){var p=w[x+v],r=w[v],t=v,i=a.length;if(p===1/0&&r===-1/0)for(t=v;t<i;t+=x)a[t]=a[t]===p?1:a[t]===r?0:.5;else if(p===1/0)for(t=v;t<i;t+=x)a[t]=a[t]===p?1:0;else if(r===-1/0)for(t=v;t<i;t+=x)a[t]=a[t]===r?0:1;else{var n=p-r;for(t=v;t<i;t+=x)isNaN(a[t])||(a[t]=n===0?.5:(a[t]-r)/n)}}return a}},67752:function(H){H.exports=function(e,g){var P=typeof e=="number",a=typeof g=="number";P&&!a?(g=e,e=0):!P&&!a&&(e=0,g=0),e=e|0,g=g|0;var x=g-e;if(x<0)throw new Error("array length must be positive");for(var w=new Array(x),v=0,p=e;v<x;v++,p++)w[v]=p;return w}},45408:function(H,j,e){var g=e(4168);function P(Q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ne){return typeof ne}:P=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},P(Q)}function a(Q,re){if(!(Q instanceof re))throw new TypeError("Cannot call a class as a function")}var x=e(86832),w=x.codes,v=w.ERR_AMBIGUOUS_ARGUMENT,p=w.ERR_INVALID_ARG_TYPE,r=w.ERR_INVALID_ARG_VALUE,t=w.ERR_INVALID_RETURN_VALUE,i=w.ERR_MISSING_ARGS,n=e(26144),u=e(35840),f=u.inspect,l=e(35840).types,y=l.isPromise,h=l.isRegExp,M=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),o,d;function T(){var Q=e(25116);o=Q.isDeepEqual,d=Q.isDeepStrictEqual}var S=!1,C=H.exports=L,m={};function E(Q){throw Q.message instanceof Error?Q.message:new n(Q)}function b(Q,re,ne,fe,$){var X=arguments.length,oe;if(X===0)oe="Failed";else if(X===1)ne=Q,Q=void 0;else{if(S===!1){S=!0;var Y=g.emitWarning?g.emitWarning:console.warn.bind(console);Y("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}X===2&&(fe="!=")}if(ne instanceof Error)throw ne;var ee={actual:Q,expected:re,operator:fe===void 0?"fail":fe,stackStartFn:$||b};ne!==void 0&&(ee.message=ne);var se=new n(ee);throw oe&&(se.message=oe,se.generatedMessage=!0),se}C.fail=b,C.AssertionError=n;function s(Q,re,ne,fe){if(!ne){var $=!1;if(re===0)$=!0,fe="No value argument passed to `assert.ok()`";else if(fe instanceof Error)throw fe;var X=new n({actual:ne,expected:!0,message:fe,operator:"==",stackStartFn:Q});throw X.generatedMessage=$,X}}function L(){for(var Q=arguments.length,re=new Array(Q),ne=0;ne<Q;ne++)re[ne]=arguments[ne];s.apply(void 0,[L,re.length].concat(re))}C.ok=L,C.equal=function Q(re,ne,fe){if(arguments.length<2)throw new i("actual","expected");re!=ne&&E({actual:re,expected:ne,message:fe,operator:"==",stackStartFn:Q})},C.notEqual=function Q(re,ne,fe){if(arguments.length<2)throw new i("actual","expected");re==ne&&E({actual:re,expected:ne,message:fe,operator:"!=",stackStartFn:Q})},C.deepEqual=function Q(re,ne,fe){if(arguments.length<2)throw new i("actual","expected");o===void 0&&T(),o(re,ne)||E({actual:re,expected:ne,message:fe,operator:"deepEqual",stackStartFn:Q})},C.notDeepEqual=function Q(re,ne,fe){if(arguments.length<2)throw new i("actual","expected");o===void 0&&T(),o(re,ne)&&E({actual:re,expected:ne,message:fe,operator:"notDeepEqual",stackStartFn:Q})},C.deepStrictEqual=function Q(re,ne,fe){if(arguments.length<2)throw new i("actual","expected");o===void 0&&T(),d(re,ne)||E({actual:re,expected:ne,message:fe,operator:"deepStrictEqual",stackStartFn:Q})},C.notDeepStrictEqual=A;function A(Q,re,ne){if(arguments.length<2)throw new i("actual","expected");o===void 0&&T(),d(Q,re)&&E({actual:Q,expected:re,message:ne,operator:"notDeepStrictEqual",stackStartFn:A})}C.strictEqual=function Q(re,ne,fe){if(arguments.length<2)throw new i("actual","expected");c(re,ne)||E({actual:re,expected:ne,message:fe,operator:"strictEqual",stackStartFn:Q})},C.notStrictEqual=function Q(re,ne,fe){if(arguments.length<2)throw new i("actual","expected");c(re,ne)&&E({actual:re,expected:ne,message:fe,operator:"notStrictEqual",stackStartFn:Q})};var k=function Q(re,ne,fe){var $=this;a(this,Q),ne.forEach(function(X){X in re&&(fe!==void 0&&typeof fe[X]=="string"&&h(re[X])&&re[X].test(fe[X])?$[X]=fe[X]:$[X]=re[X])})};function _(Q,re,ne,fe,$,X){if(!(ne in Q)||!d(Q[ne],re[ne])){if(!fe){var oe=new k(Q,$),Y=new k(re,$,Q),ee=new n({actual:oe,expected:Y,operator:"deepStrictEqual",stackStartFn:X});throw ee.actual=Q,ee.expected=re,ee.operator=X.name,ee}E({actual:Q,expected:re,message:fe,operator:X.name,stackStartFn:X})}}function U(Q,re,ne,fe){if(typeof re!="function"){if(h(re))return re.test(Q);if(arguments.length===2)throw new p("expected",["Function","RegExp"],re);if(P(Q)!=="object"||Q===null){var $=new n({actual:Q,expected:re,message:ne,operator:"deepStrictEqual",stackStartFn:fe});throw $.operator=fe.name,$}var X=Object.keys(re);if(re instanceof Error)X.push("name","message");else if(X.length===0)throw new r("error",re,"may not be an empty object");return o===void 0&&T(),X.forEach(function(oe){typeof Q[oe]=="string"&&h(re[oe])&&re[oe].test(Q[oe])||_(Q,re,oe,ne,X,fe)}),!0}return re.prototype!==void 0&&Q instanceof re?!0:Error.isPrototypeOf(re)?!1:re.call({},Q)===!0}function F(Q){if(typeof Q!="function")throw new p("fn","Function",Q);try{Q()}catch(re){return re}return m}function z(Q){return y(Q)||Q!==null&&P(Q)==="object"&&typeof Q.then=="function"&&typeof Q.catch=="function"}function B(Q){return Promise.resolve().then(function(){var re;if(typeof Q=="function"){if(re=Q(),!z(re))throw new t("instance of Promise","promiseFn",re)}else if(z(Q))re=Q;else throw new p("promiseFn",["Function","Promise"],Q);return Promise.resolve().then(function(){return re}).then(function(){return m}).catch(function(ne){return ne})})}function N(Q,re,ne,fe){if(typeof ne=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ne);if(P(re)==="object"&&re!==null){if(re.message===ne)throw new v("error/message",'The error message "'.concat(re.message,'" is identical to the message.'))}else if(re===ne)throw new v("error/message",'The error "'.concat(re,'" is identical to the message.'));fe=ne,ne=void 0}else if(ne!=null&&P(ne)!=="object"&&typeof ne!="function")throw new p("error",["Object","Error","Function","RegExp"],ne);if(re===m){var $="";ne&&ne.name&&($+=" (".concat(ne.name,")")),$+=fe?": ".concat(fe):".";var X=Q.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:ne,operator:Q.name,message:"Missing expected ".concat(X).concat($),stackStartFn:Q})}if(ne&&!U(re,ne,fe,Q))throw re}function V(Q,re,ne,fe){if(re!==m){if(typeof ne=="string"&&(fe=ne,ne=void 0),!ne||U(re,ne)){var $=fe?": ".concat(fe):".",X=Q.name==="doesNotReject"?"rejection":"exception";E({actual:re,expected:ne,operator:Q.name,message:"Got unwanted ".concat(X).concat($,`
`)+'Actual message: "'.concat(re&&re.message,'"'),stackStartFn:Q})}throw re}}C.throws=function Q(re){for(var ne=arguments.length,fe=new Array(ne>1?ne-1:0),$=1;$<ne;$++)fe[$-1]=arguments[$];N.apply(void 0,[Q,F(re)].concat(fe))},C.rejects=function Q(re){for(var ne=arguments.length,fe=new Array(ne>1?ne-1:0),$=1;$<ne;$++)fe[$-1]=arguments[$];return B(re).then(function(X){return N.apply(void 0,[Q,X].concat(fe))})},C.doesNotThrow=function Q(re){for(var ne=arguments.length,fe=new Array(ne>1?ne-1:0),$=1;$<ne;$++)fe[$-1]=arguments[$];V.apply(void 0,[Q,F(re)].concat(fe))},C.doesNotReject=function Q(re){for(var ne=arguments.length,fe=new Array(ne>1?ne-1:0),$=1;$<ne;$++)fe[$-1]=arguments[$];return B(re).then(function(X){return V.apply(void 0,[Q,X].concat(fe))})},C.ifError=function Q(re){if(re!=null){var ne="ifError got unwanted exception: ";P(re)==="object"&&typeof re.message=="string"?re.message.length===0&&re.constructor?ne+=re.constructor.name:ne+=re.message:ne+=f(re);var fe=new n({actual:re,expected:null,operator:"ifError",message:ne,stackStartFn:Q}),$=re.stack;if(typeof $=="string"){var X=$.split(`
`);X.shift();for(var oe=fe.stack.split(`
`),Y=0;Y<X.length;Y++){var ee=oe.indexOf(X[Y]);if(ee!==-1){oe=oe.slice(0,ee);break}}fe.stack="".concat(oe.join(`
`),`
`).concat(X.join(`
`))}throw fe}};function W(){for(var Q=arguments.length,re=new Array(Q),ne=0;ne<Q;ne++)re[ne]=arguments[ne];s.apply(void 0,[W,re.length].concat(re))}C.strict=M(W,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},26144:function(H,j,e){var g=e(4168);function P(F){for(var z=1;z<arguments.length;z++){var B=arguments[z]!=null?arguments[z]:{},N=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(B).filter(function(V){return Object.getOwnPropertyDescriptor(B,V).enumerable}))),N.forEach(function(V){a(F,V,B[V])})}return F}function a(F,z,B){return z in F?Object.defineProperty(F,z,{value:B,enumerable:!0,configurable:!0,writable:!0}):F[z]=B,F}function x(F,z){if(!(F instanceof z))throw new TypeError("Cannot call a class as a function")}function w(F,z){for(var B=0;B<z.length;B++){var N=z[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(F,N.key,N)}}function v(F,z,B){return z&&w(F.prototype,z),B&&w(F,B),F}function p(F,z){return z&&(h(z)==="object"||typeof z=="function")?z:r(F)}function r(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function t(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(z&&z.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),z&&l(F,z)}function i(F){var z=typeof Map=="function"?new Map:void 0;return i=function(N){if(N===null||!f(N))return N;if(typeof N!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z<"u"){if(z.has(N))return z.get(N);z.set(N,V)}function V(){return u(N,arguments,y(this).constructor)}return V.prototype=Object.create(N.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),l(V,N)},i(F)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(F,z,B){return n()?u=Reflect.construct:u=function(V,W,Q){var re=[null];re.push.apply(re,W);var ne=Function.bind.apply(V,re),fe=new ne;return Q&&l(fe,Q.prototype),fe},u.apply(null,arguments)}function f(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function l(F,z){return l=Object.setPrototypeOf||function(N,V){return N.__proto__=V,N},l(F,z)}function y(F){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},y(F)}function h(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(B){return typeof B}:h=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},h(F)}var M=e(35840),c=M.inspect,o=e(86832),d=o.codes.ERR_INVALID_ARG_TYPE;function T(F,z,B){return(B===void 0||B>F.length)&&(B=F.length),F.substring(B-z.length,B)===z}function S(F,z){if(z=Math.floor(z),F.length==0||z==0)return"";var B=F.length*z;for(z=Math.floor(Math.log(z)/Math.log(2));z;)F+=F,z--;return F+=F.substring(0,B-F.length),F}var C="",m="",E="",b="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},L=10;function A(F){var z=Object.keys(F),B=Object.create(Object.getPrototypeOf(F));return z.forEach(function(N){B[N]=F[N]}),Object.defineProperty(B,"message",{value:F.message}),B}function k(F){return c(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(F,z,B){var N="",V="",W=0,Q="",re=!1,ne=k(F),fe=ne.split(`
`),$=k(z).split(`
`),X=0,oe="";if(B==="strictEqual"&&h(F)==="object"&&h(z)==="object"&&F!==null&&z!==null&&(B="strictEqualObject"),fe.length===1&&$.length===1&&fe[0]!==$[0]){var Y=fe[0].length+$[0].length;if(Y<=L){if((h(F)!=="object"||F===null)&&(h(z)!=="object"||z===null)&&(F!==0||z!==0))return"".concat(s[B],`

`)+"".concat(fe[0]," !== ").concat($[0],`
`)}else if(B!=="strictEqualObject"){var ee=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(Y<ee){for(;fe[0][X]===$[0][X];)X++;X>2&&(oe=`
  `.concat(S(" ",X),"^"),X=0)}}}for(var se=fe[fe.length-1],q=$[$.length-1];se===q&&(X++<2?Q=`
  `.concat(se).concat(Q):N=se,fe.pop(),$.pop(),!(fe.length===0||$.length===0));)se=fe[fe.length-1],q=$[$.length-1];var K=Math.max(fe.length,$.length);if(K===0){var le=ne.split(`
`);if(le.length>30)for(le[26]="".concat(C,"...").concat(b);le.length>27;)le.pop();return"".concat(s.notIdentical,`

`).concat(le.join(`
`),`
`)}X>3&&(Q=`
`.concat(C,"...").concat(b).concat(Q),re=!0),N!==""&&(Q=`
  `.concat(N).concat(Q),N="");var ie=0,he=s[B]+`
`.concat(m,"+ actual").concat(b," ").concat(E,"- expected").concat(b),ye=" ".concat(C,"...").concat(b," Lines skipped");for(X=0;X<K;X++){var Ce=X-W;if(fe.length<X+1)Ce>1&&X>2&&(Ce>4?(V+=`
`.concat(C,"...").concat(b),re=!0):Ce>3&&(V+=`
  `.concat($[X-2]),ie++),V+=`
  `.concat($[X-1]),ie++),W=X,N+=`
`.concat(E,"-").concat(b," ").concat($[X]),ie++;else if($.length<X+1)Ce>1&&X>2&&(Ce>4?(V+=`
`.concat(C,"...").concat(b),re=!0):Ce>3&&(V+=`
  `.concat(fe[X-2]),ie++),V+=`
  `.concat(fe[X-1]),ie++),W=X,V+=`
`.concat(m,"+").concat(b," ").concat(fe[X]),ie++;else{var Ae=$[X],ke=fe[X],we=ke!==Ae&&(!T(ke,",")||ke.slice(0,-1)!==Ae);we&&T(Ae,",")&&Ae.slice(0,-1)===ke&&(we=!1,ke+=","),we?(Ce>1&&X>2&&(Ce>4?(V+=`
`.concat(C,"...").concat(b),re=!0):Ce>3&&(V+=`
  `.concat(fe[X-2]),ie++),V+=`
  `.concat(fe[X-1]),ie++),W=X,V+=`
`.concat(m,"+").concat(b," ").concat(ke),N+=`
`.concat(E,"-").concat(b," ").concat(Ae),ie+=2):(V+=N,N="",(Ce===1||X===0)&&(V+=`
  `.concat(ke),ie++))}if(ie>20&&X<K-2)return"".concat(he).concat(ye,`
`).concat(V,`
`).concat(C,"...").concat(b).concat(N,`
`)+"".concat(C,"...").concat(b)}return"".concat(he).concat(re?ye:"",`
`).concat(V).concat(N).concat(Q).concat(oe)}var U=function(F){t(z,F);function z(B){var N;if(x(this,z),h(B)!=="object"||B===null)throw new d("options","Object",B);var V=B.message,W=B.operator,Q=B.stackStartFn,re=B.actual,ne=B.expected,fe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,V!=null)N=p(this,y(z).call(this,String(V)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(C="\x1B[34m",m="\x1B[32m",b="\x1B[39m",E="\x1B[31m"):(C="",m="",b="",E="")),h(re)==="object"&&re!==null&&h(ne)==="object"&&ne!==null&&"stack"in re&&re instanceof Error&&"stack"in ne&&ne instanceof Error&&(re=A(re),ne=A(ne)),W==="deepStrictEqual"||W==="strictEqual")N=p(this,y(z).call(this,_(re,ne,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var $=s[W],X=k(re).split(`
`);if(W==="notStrictEqual"&&h(re)==="object"&&re!==null&&($=s.notStrictEqualObject),X.length>30)for(X[26]="".concat(C,"...").concat(b);X.length>27;)X.pop();X.length===1?N=p(this,y(z).call(this,"".concat($," ").concat(X[0]))):N=p(this,y(z).call(this,"".concat($,`

`).concat(X.join(`
`),`
`)))}else{var oe=k(re),Y="",ee=s[W];W==="notDeepEqual"||W==="notEqual"?(oe="".concat(s[W],`

`).concat(oe),oe.length>1024&&(oe="".concat(oe.slice(0,1021),"..."))):(Y="".concat(k(ne)),oe.length>512&&(oe="".concat(oe.slice(0,509),"...")),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),W==="deepEqual"||W==="equal"?oe="".concat(ee,`

`).concat(oe,`

should equal

`):Y=" ".concat(W," ").concat(Y)),N=p(this,y(z).call(this,"".concat(oe).concat(Y)))}return Error.stackTraceLimit=fe,N.generatedMessage=!V,Object.defineProperty(r(N),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),N.code="ERR_ASSERTION",N.actual=re,N.expected=ne,N.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(N),Q),N.stack,N.name="AssertionError",p(N)}return v(z,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(N,V){return c(this,P({},V,{customInspect:!1,depth:0}))}}]),z}(i(Error));H.exports=U},86832:function(H,j,e){function g(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(c){return typeof c}:g=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g(h)}function P(h,M){if(!(h instanceof M))throw new TypeError("Cannot call a class as a function")}function a(h,M){return M&&(g(M)==="object"||typeof M=="function")?M:x(h)}function x(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function w(h){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},w(h)}function v(h,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(M&&M.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),M&&p(h,M)}function p(h,M){return p=Object.setPrototypeOf||function(o,d){return o.__proto__=d,o},p(h,M)}var r={},t,i;function n(h,M,c){c||(c=Error);function o(T,S,C){return typeof M=="string"?M:M(T,S,C)}var d=function(T){v(S,T);function S(C,m,E){var b;return P(this,S),b=a(this,w(S).call(this,o(C,m,E))),b.code=h,b}return S}(c);r[h]=d}function u(h,M){if(Array.isArray(h)){var c=h.length;return h=h.map(function(o){return String(o)}),c>2?"one of ".concat(M," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(M," ").concat(h[0]," or ").concat(h[1]):"of ".concat(M," ").concat(h[0])}else return"of ".concat(M," ").concat(String(h))}function f(h,M,c){return h.substr(!c||c<0?0:+c,M.length)===M}function l(h,M,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-M.length,c)===M}function y(h,M,c){return typeof c!="number"&&(c=0),c+M.length>h.length?!1:h.indexOf(M,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,M,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var o;typeof M=="string"&&f(M,"not ")?(o="must not be",M=M.replace(/^not /,"")):o="must be";var d;if(l(h," argument"))d="The ".concat(h," ").concat(o," ").concat(u(M,"type"));else{var T=y(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(T," ").concat(o," ").concat(u(M,"type"))}return d+=". Received type ".concat(g(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";i===void 0&&(i=e(35840));var o=i.inspect(M);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,M,c){var o;return c&&c.constructor&&c.constructor.name?o="instance of ".concat(c.constructor.name):o="type ".concat(g(c)),"Expected ".concat(h,' to be returned from the "').concat(M,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,M=new Array(h),c=0;c<h;c++)M[c]=arguments[c];t===void 0&&(t=e(45408)),t(M.length>0,"At least one arg needs to be specified");var o="The ",d=M.length;switch(M=M.map(function(T){return'"'.concat(T,'"')}),d){case 1:o+="".concat(M[0]," argument");break;case 2:o+="".concat(M[0]," and ").concat(M[1]," arguments");break;default:o+=M.slice(0,d-1).join(", "),o+=", and ".concat(M[d-1]," arguments");break}return"".concat(o," must be specified")},TypeError),H.exports.codes=r},25116:function(H,j,e){function g(Ee,xe){return x(Ee)||a(Ee,xe)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Ee,xe){var Re=[],Ve=!0,Ue=!1,Be=void 0;try{for(var Xe=Ee[Symbol.iterator](),ut;!(Ve=(ut=Xe.next()).done)&&(Re.push(ut.value),!(xe&&Re.length===xe));Ve=!0);}catch(dt){Ue=!0,Be=dt}finally{try{!Ve&&Xe.return!=null&&Xe.return()}finally{if(Ue)throw Be}}return Re}function x(Ee){if(Array.isArray(Ee))return Ee}function w(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(Re){return typeof Re}:w=function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},w(Ee)}var v=/a/g.flags!==void 0,p=function(xe){var Re=[];return xe.forEach(function(Ve){return Re.push(Ve)}),Re},r=function(xe){var Re=[];return xe.forEach(function(Ve,Ue){return Re.push([Ue,Ve])}),Re},t=Object.is?Object.is:e(39896),i=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function u(Ee){return Ee.call.bind(Ee)}var f=u(Object.prototype.hasOwnProperty),l=u(Object.prototype.propertyIsEnumerable),y=u(Object.prototype.toString),h=e(35840).types,M=h.isAnyArrayBuffer,c=h.isArrayBufferView,o=h.isDate,d=h.isMap,T=h.isRegExp,S=h.isSet,C=h.isNativeError,m=h.isBoxedPrimitive,E=h.isNumberObject,b=h.isStringObject,s=h.isBooleanObject,L=h.isBigIntObject,A=h.isSymbolObject,k=h.isFloat32Array,_=h.isFloat64Array;function U(Ee){if(Ee.length===0||Ee.length>10)return!0;for(var xe=0;xe<Ee.length;xe++){var Re=Ee.charCodeAt(xe);if(Re<48||Re>57)return!0}return Ee.length===10&&Ee>=Math.pow(2,32)}function F(Ee){return Object.keys(Ee).filter(U).concat(i(Ee).filter(Object.prototype.propertyIsEnumerable.bind(Ee)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function z(Ee,xe){if(Ee===xe)return 0;for(var Re=Ee.length,Ve=xe.length,Ue=0,Be=Math.min(Re,Ve);Ue<Be;++Ue)if(Ee[Ue]!==xe[Ue]){Re=Ee[Ue],Ve=xe[Ue];break}return Re<Ve?-1:Ve<Re?1:0}var B=!0,N=!1,V=0,W=1,Q=2,re=3;function ne(Ee,xe){return v?Ee.source===xe.source&&Ee.flags===xe.flags:RegExp.prototype.toString.call(Ee)===RegExp.prototype.toString.call(xe)}function fe(Ee,xe){if(Ee.byteLength!==xe.byteLength)return!1;for(var Re=0;Re<Ee.byteLength;Re++)if(Ee[Re]!==xe[Re])return!1;return!0}function $(Ee,xe){return Ee.byteLength!==xe.byteLength?!1:z(new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength),new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength))===0}function X(Ee,xe){return Ee.byteLength===xe.byteLength&&z(new Uint8Array(Ee),new Uint8Array(xe))===0}function oe(Ee,xe){return E(Ee)?E(xe)&&t(Number.prototype.valueOf.call(Ee),Number.prototype.valueOf.call(xe)):b(Ee)?b(xe)&&String.prototype.valueOf.call(Ee)===String.prototype.valueOf.call(xe):s(Ee)?s(xe)&&Boolean.prototype.valueOf.call(Ee)===Boolean.prototype.valueOf.call(xe):L(Ee)?L(xe)&&BigInt.prototype.valueOf.call(Ee)===BigInt.prototype.valueOf.call(xe):A(xe)&&Symbol.prototype.valueOf.call(Ee)===Symbol.prototype.valueOf.call(xe)}function Y(Ee,xe,Re,Ve){if(Ee===xe)return Ee!==0?!0:Re?t(Ee,xe):!0;if(Re){if(w(Ee)!=="object")return typeof Ee=="number"&&n(Ee)&&n(xe);if(w(xe)!=="object"||Ee===null||xe===null||Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(xe))return!1}else{if(Ee===null||w(Ee)!=="object")return xe===null||w(xe)!=="object"?Ee==xe:!1;if(xe===null||w(xe)!=="object")return!1}var Ue=y(Ee),Be=y(xe);if(Ue!==Be)return!1;if(Array.isArray(Ee)){if(Ee.length!==xe.length)return!1;var Xe=F(Ee),ut=F(xe);return Xe.length!==ut.length?!1:se(Ee,xe,Re,Ve,W,Xe)}if(Ue==="[object Object]"&&(!d(Ee)&&d(xe)||!S(Ee)&&S(xe)))return!1;if(o(Ee)){if(!o(xe)||Date.prototype.getTime.call(Ee)!==Date.prototype.getTime.call(xe))return!1}else if(T(Ee)){if(!T(xe)||!ne(Ee,xe))return!1}else if(C(Ee)||Ee instanceof Error){if(Ee.message!==xe.message||Ee.name!==xe.name)return!1}else if(c(Ee)){if(!Re&&(k(Ee)||_(Ee))){if(!fe(Ee,xe))return!1}else if(!$(Ee,xe))return!1;var dt=F(Ee),at=F(xe);return dt.length!==at.length?!1:se(Ee,xe,Re,Ve,V,dt)}else{if(S(Ee))return!S(xe)||Ee.size!==xe.size?!1:se(Ee,xe,Re,Ve,Q);if(d(Ee))return!d(xe)||Ee.size!==xe.size?!1:se(Ee,xe,Re,Ve,re);if(M(Ee)){if(!X(Ee,xe))return!1}else if(m(Ee)&&!oe(Ee,xe))return!1}return se(Ee,xe,Re,Ve,V)}function ee(Ee,xe){return xe.filter(function(Re){return l(Ee,Re)})}function se(Ee,xe,Re,Ve,Ue,Be){if(arguments.length===5){Be=Object.keys(Ee);var Xe=Object.keys(xe);if(Be.length!==Xe.length)return!1}for(var ut=0;ut<Be.length;ut++)if(!f(xe,Be[ut]))return!1;if(Re&&arguments.length===5){var dt=i(Ee);if(dt.length!==0){var at=0;for(ut=0;ut<dt.length;ut++){var We=dt[ut];if(l(Ee,We)){if(!l(xe,We))return!1;Be.push(We),at++}else if(l(xe,We))return!1}var rt=i(xe);if(dt.length!==rt.length&&ee(xe,rt).length!==at)return!1}else{var st=i(xe);if(st.length!==0&&ee(xe,st).length!==0)return!1}}if(Be.length===0&&(Ue===V||Ue===W&&Ee.length===0||Ee.size===0))return!0;if(Ve===void 0)Ve={val1:new Map,val2:new Map,position:0};else{var ht=Ve.val1.get(Ee);if(ht!==void 0){var vt=Ve.val2.get(xe);if(vt!==void 0)return ht===vt}Ve.position++}Ve.val1.set(Ee,Ve.position),Ve.val2.set(xe,Ve.position);var At=Ae(Ee,xe,Re,Be,Ve,Ue);return Ve.val1.delete(Ee),Ve.val2.delete(xe),At}function q(Ee,xe,Re,Ve){for(var Ue=p(Ee),Be=0;Be<Ue.length;Be++){var Xe=Ue[Be];if(Y(xe,Xe,Re,Ve))return Ee.delete(Xe),!0}return!1}function K(Ee){switch(w(Ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ee=+Ee;case"number":if(n(Ee))return!1}return!0}function le(Ee,xe,Re){var Ve=K(Re);return Ve??(xe.has(Ve)&&!Ee.has(Ve))}function ie(Ee,xe,Re,Ve,Ue){var Be=K(Re);if(Be!=null)return Be;var Xe=xe.get(Be);return Xe===void 0&&!xe.has(Be)||!Y(Ve,Xe,!1,Ue)?!1:!Ee.has(Be)&&Y(Ve,Xe,!1,Ue)}function he(Ee,xe,Re,Ve){for(var Ue=null,Be=p(Ee),Xe=0;Xe<Be.length;Xe++){var ut=Be[Xe];if(w(ut)==="object"&&ut!==null)Ue===null&&(Ue=new Set),Ue.add(ut);else if(!xe.has(ut)){if(Re||!le(Ee,xe,ut))return!1;Ue===null&&(Ue=new Set),Ue.add(ut)}}if(Ue!==null){for(var dt=p(xe),at=0;at<dt.length;at++){var We=dt[at];if(w(We)==="object"&&We!==null){if(!q(Ue,We,Re,Ve))return!1}else if(!Re&&!Ee.has(We)&&!q(Ue,We,Re,Ve))return!1}return Ue.size===0}return!0}function ye(Ee,xe,Re,Ve,Ue,Be){for(var Xe=p(Ee),ut=0;ut<Xe.length;ut++){var dt=Xe[ut];if(Y(Re,dt,Ue,Be)&&Y(Ve,xe.get(dt),Ue,Be))return Ee.delete(dt),!0}return!1}function Ce(Ee,xe,Re,Ve){for(var Ue=null,Be=r(Ee),Xe=0;Xe<Be.length;Xe++){var ut=g(Be[Xe],2),dt=ut[0],at=ut[1];if(w(dt)==="object"&&dt!==null)Ue===null&&(Ue=new Set),Ue.add(dt);else{var We=xe.get(dt);if(We===void 0&&!xe.has(dt)||!Y(at,We,Re,Ve)){if(Re||!ie(Ee,xe,dt,at,Ve))return!1;Ue===null&&(Ue=new Set),Ue.add(dt)}}}if(Ue!==null){for(var rt=r(xe),st=0;st<rt.length;st++){var ht=g(rt[st],2),dt=ht[0],vt=ht[1];if(w(dt)==="object"&&dt!==null){if(!ye(Ue,Ee,dt,vt,Re,Ve))return!1}else if(!Re&&(!Ee.has(dt)||!Y(Ee.get(dt),vt,!1,Ve))&&!ye(Ue,Ee,dt,vt,!1,Ve))return!1}return Ue.size===0}return!0}function Ae(Ee,xe,Re,Ve,Ue,Be){var Xe=0;if(Be===Q){if(!he(Ee,xe,Re,Ue))return!1}else if(Be===re){if(!Ce(Ee,xe,Re,Ue))return!1}else if(Be===W)for(;Xe<Ee.length;Xe++)if(f(Ee,Xe)){if(!f(xe,Xe)||!Y(Ee[Xe],xe[Xe],Re,Ue))return!1}else{if(f(xe,Xe))return!1;for(var ut=Object.keys(Ee);Xe<ut.length;Xe++){var dt=ut[Xe];if(!f(xe,dt)||!Y(Ee[dt],xe[dt],Re,Ue))return!1}return ut.length===Object.keys(xe).length}for(Xe=0;Xe<Ve.length;Xe++){var at=Ve[Xe];if(!Y(Ee[at],xe[at],Re,Ue))return!1}return!0}function ke(Ee,xe){return Y(Ee,xe,N)}function we(Ee,xe){return Y(Ee,xe,B)}H.exports={isDeepEqual:ke,isDeepStrictEqual:we}},83160:function(H,j,e){e.r(j),e.d(j,{decode:function(){return w},encode:function(){return x}});for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<g.length;a++)P[g.charCodeAt(a)]=a;var x=function(v){var p=new Uint8Array(v),r,t=p.length,i="";for(r=0;r<t;r+=3)i+=g[p[r]>>2],i+=g[(p[r]&3)<<4|p[r+1]>>4],i+=g[(p[r+1]&15)<<2|p[r+2]>>6],i+=g[p[r+2]&63];return t%3===2?i=i.substring(0,i.length-1)+"=":t%3===1&&(i=i.substring(0,i.length-2)+"=="),i},w=function(v){var p=v.length*.75,r=v.length,t,i=0,n,u,f,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var y=new ArrayBuffer(p),h=new Uint8Array(y);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],u=P[v.charCodeAt(t+1)],f=P[v.charCodeAt(t+2)],l=P[v.charCodeAt(t+3)],h[i++]=n<<2|u>>4,h[i++]=(u&15)<<4|f>>2,h[i++]=(f&3)<<6|l&63;return y}},59968:function(H,j){j.byteLength=p,j.toByteArray=t,j.fromByteArray=u;for(var e=[],g=[],P=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0,w=a.length;x<w;++x)e[x]=a[x],g[a.charCodeAt(x)]=x;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function v(f){var l=f.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");y===-1&&(y=l);var h=y===l?0:4-y%4;return[y,h]}function p(f){var l=v(f),y=l[0],h=l[1];return(y+h)*3/4-h}function r(f,l,y){return(l+y)*3/4-y}function t(f){var l,y=v(f),h=y[0],M=y[1],c=new P(r(f,h,M)),o=0,d=M>0?h-4:h,T;for(T=0;T<d;T+=4)l=g[f.charCodeAt(T)]<<18|g[f.charCodeAt(T+1)]<<12|g[f.charCodeAt(T+2)]<<6|g[f.charCodeAt(T+3)],c[o++]=l>>16&255,c[o++]=l>>8&255,c[o++]=l&255;return M===2&&(l=g[f.charCodeAt(T)]<<2|g[f.charCodeAt(T+1)]>>4,c[o++]=l&255),M===1&&(l=g[f.charCodeAt(T)]<<10|g[f.charCodeAt(T+1)]<<4|g[f.charCodeAt(T+2)]>>2,c[o++]=l>>8&255,c[o++]=l&255),c}function i(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function n(f,l,y){for(var h,M=[],c=l;c<y;c+=3)h=(f[c]<<16&16711680)+(f[c+1]<<8&65280)+(f[c+2]&255),M.push(i(h));return M.join("")}function u(f){for(var l,y=f.length,h=y%3,M=[],c=16383,o=0,d=y-h;o<d;o+=c)M.push(n(f,o,o+c>d?d:o+c));return h===1?(l=f[y-1],M.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(f[y-2]<<8)+f[y-1],M.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),M.join("")}},64928:function(H){function j(w,v,p,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,u=w[n],f=p!==void 0?p(u,v):u-v;f>=0?(i=n,t=n-1):r=n+1}return i}function e(w,v,p,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,u=w[n],f=p!==void 0?p(u,v):u-v;f>0?(i=n,t=n-1):r=n+1}return i}function g(w,v,p,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,u=w[n],f=p!==void 0?p(u,v):u-v;f<0?(i=n,r=n+1):t=n-1}return i}function P(w,v,p,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,u=w[n],f=p!==void 0?p(u,v):u-v;f<=0?(i=n,r=n+1):t=n-1}return i}function a(w,v,p,r,t){for(;r<=t;){var i=r+t>>>1,n=w[i],u=p!==void 0?p(n,v):n-v;if(u===0)return i;u<=0?r=i+1:t=i-1}return-1}function x(w,v,p,r,t,i){return typeof p=="function"?i(w,v,p,r===void 0?0:r|0,t===void 0?w.length-1:t|0):i(w,v,void 0,p===void 0?0:p|0,r===void 0?w.length-1:r|0)}H.exports={ge:function(w,v,p,r,t){return x(w,v,p,r,t,j)},gt:function(w,v,p,r,t){return x(w,v,p,r,t,e)},lt:function(w,v,p,r,t){return x(w,v,p,r,t,g)},le:function(w,v,p,r,t){return x(w,v,p,r,t,P)},eq:function(w,v,p,r,t){return x(w,v,p,r,t,a)}}},308:function(H,j){"use restrict";var e=32;j.INT_BITS=e,j.INT_MAX=2147483647,j.INT_MIN=-1<<e-1,j.sign=function(a){return(a>0)-(a<0)},j.abs=function(a){var x=a>>e-1;return(a^x)-x},j.min=function(a,x){return x^(a^x)&-(a<x)},j.max=function(a,x){return a^(a^x)&-(a<x)},j.isPow2=function(a){return!(a&a-1)&&!!a},j.log2=function(a){var x,w;return x=(a>65535)<<4,a>>>=x,w=(a>255)<<3,a>>>=w,x|=w,w=(a>15)<<2,a>>>=w,x|=w,w=(a>3)<<1,a>>>=w,x|=w,x|a>>1},j.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},j.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function g(a){var x=32;return a&=-a,a&&x--,a&65535&&(x-=16),a&16711935&&(x-=8),a&252645135&&(x-=4),a&858993459&&(x-=2),a&1431655765&&(x-=1),x}j.countTrailingZeros=g,j.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},j.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},j.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var P=new Array(256);(function(a){for(var x=0;x<256;++x){var w=x,v=x,p=7;for(w>>>=1;w;w>>>=1)v<<=1,v|=w&1,--p;a[x]=v<<p&255}})(P),j.reverse=function(a){return P[a&255]<<24|P[a>>>8&255]<<16|P[a>>>16&255]<<8|P[a>>>24&255]},j.interleave2=function(a,x){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,x&=65535,x=(x|x<<8)&16711935,x=(x|x<<4)&252645135,x=(x|x<<2)&858993459,x=(x|x<<1)&1431655765,a|x<<1},j.deinterleave2=function(a,x){return a=a>>>x&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},j.interleave3=function(a,x,w){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,x&=1023,x=(x|x<<16)&4278190335,x=(x|x<<8)&251719695,x=(x|x<<4)&3272356035,x=(x|x<<2)&1227133513,a|=x<<1,w&=1023,w=(w|w<<16)&4278190335,w=(w|w<<8)&251719695,w=(w|w<<4)&3272356035,w=(w|w<<2)&1227133513,a|w<<2},j.deinterleave3=function(a,x){return a=a>>>x&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},j.nextCombination=function(a){var x=a|a-1;return x+1|(~x&-~x)-1>>>g(a)+1}},29620:function(H,j,e){var g=e(32420);H.exports=a;var P=1e20;function a(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,i=p.channel||0,n,u,f,l,y,h,M,c,o,d,T;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,u=p.height,l=v,p.stride?h=p.stride:h=Math.floor(v.length/n/u)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,M=c.getContext("2d"),n=c.width,u=c.height,o=M.getImageData(0,0,n,u),l=o.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,M=v,n=c.width,u=c.height,o=M.getImageData(0,0,n,u),l=o.data,h=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,u=v.height,l=o.data,h=4);if(f=Math.max(n,u),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(y=l,l=Array(n*u),d=0,T=y.length;d<T;d++)l[d]=y[d*h+i]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var S=Array(n*u),C=Array(n*u),m=Array(f),E=Array(f),b=Array(f+1),s=Array(f);for(d=0,T=n*u;d<T;d++){var L=l[d];S[d]=L===1?0:L===0?P:Math.pow(Math.max(0,.5-L),2),C[d]=L===1?P:L===0?0:Math.pow(Math.max(0,L-.5),2)}x(S,n,u,m,E,s,b),x(C,n,u,m,E,s,b);var A=window.Float32Array?new Float32Array(n*u):new Array(n*u);for(d=0,T=n*u;d<T;d++)A[d]=g(1-((S[d]-C[d])/t+r),0,1);return A}function x(v,p,r,t,i,n,u){for(var f=0;f<p;f++){for(var l=0;l<r;l++)t[l]=v[l*p+f];for(w(t,i,n,u,r),l=0;l<r;l++)v[l*p+f]=i[l]}for(l=0;l<r;l++){for(f=0;f<p;f++)t[f]=v[l*p+f];for(w(t,i,n,u,p),f=0;f<p;f++)v[l*p+f]=Math.sqrt(i[f])}}function w(v,p,r,t,i){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,u=0;n<i;n++){for(var f=(v[n]+n*n-(v[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);f<=t[u];)u--,f=(v[n]+n*n-(v[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);u++,r[u]=n,t[u]=f,t[u+1]=+P}for(n=0,u=0;n<i;n++){for(;t[u+1]<n;)u++;p[n]=(n-r[u])*(n-r[u])+v[r[u]]}}},99676:function(H,j,e){var g=e(53664),P=e(57916),a=P(g("String.prototype.indexOf"));H.exports=function(w,v){var p=g(w,!!v);return typeof p=="function"&&a(w,".prototype.")>-1?P(p):p}},57916:function(H,j,e){var g=e(8844),P=e(53664),a=e(14500),x=P("%TypeError%"),w=P("%Function.prototype.apply%"),v=P("%Function.prototype.call%"),p=P("%Reflect.apply%",!0)||g.call(v,w),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}H.exports=function(u){if(typeof u!="function")throw new x("a function is required");var f=p(g,v,arguments);return a(f,1+t(0,u.length-(arguments.length-1)),!0)};var i=function(){return p(g,w,arguments)};r?r(H.exports,"apply",{value:i}):H.exports.apply=i},32420:function(H){H.exports=j;function j(e,g,P){return g<P?e<g?g:e>P?P:e:e<P?P:e>g?g:e}},3808:function(H,j,e){var g=e(32420);H.exports=P,H.exports.to=P,H.exports.from=a;function P(x,w){w==null&&(w=!0);var v=x[0],p=x[1],r=x[2],t=x[3];t==null&&(t=w?1:255),w&&(v*=255,p*=255,r*=255,t*=255),v=g(v,0,255)&255,p=g(p,0,255)&255,r=g(r,0,255)&255,t=g(t,0,255)&255;var i=v*16777216+(p<<16)+(r<<8)+t;return i}function a(x,w){x=+x;var v=x>>>24,p=(x&16711680)>>>16,r=(x&65280)>>>8,t=x&255;return w===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(H){H.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(H,j,e){var g=e(96824),P=e(32420),a=e(72512);H.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=a(p),t=new r(4),i=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),x(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,i&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(i?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function x(w){return!!(w instanceof Uint8Array||w instanceof Uint8ClampedArray||Array.isArray(w)&&(w[0]>1||w[0]===0)&&(w[1]>1||w[1]===0)&&(w[2]>1||w[2]===0)&&(!w[3]||w[3]>1))}},96824:function(H,j,e){var g=e(95532),P=e(53576),a=e(32420);H.exports=function(w){var v,p=g(w);return p.space?(v=Array(3),v[0]=a(p.values[0],0,255),v[1]=a(p.values[1],0,255),v[2]=a(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(a(p.alpha,0,1)),v):[]}},95532:function(H,j,e){var g=e(17592);H.exports=a;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function a(x){var w,v=[],p=1,r;if(typeof x=="string")if(x=x.toLowerCase(),g[x])v=g[x].slice(),r="rgb";else if(x==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(x)){var t=x.slice(1),i=t.length,n=i<=4;p=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],i===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],i===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(w=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(x)){var u=w[1],f=u==="rgb",t=u.replace(/a$/,"");r=t;var i=t==="cmyk"?4:t==="gray"?1:3;v=w[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,M){if(/%$/.test(h))return M===i?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[M]==="h"){if(/deg$/.test(h))return parseFloat(h);if(P[h]!==void 0)return P[h]}return parseFloat(h)}),u===t&&v.push(1),p=f||v[i]===void 0?1:v[i],v=v.slice(0,i)}else x.length>10&&/[0-9](?:\s|\/)/.test(x)&&(v=x.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=x.match(/([a-z])/ig).join("").toLowerCase());else isNaN(x)?Array.isArray(x)||x.length?(v=[x[0],x[1],x[2]],r="rgb",p=x.length===4?x[3]:1):x instanceof Object&&(x.r!=null||x.red!=null||x.R!=null?(r="rgb",v=[x.r||x.red||x.R||0,x.g||x.green||x.G||0,x.b||x.blue||x.B||0]):(r="hsl",v=[x.h||x.hue||x.H||0,x.s||x.saturation||x.S||0,x.l||x.lightness||x.L||x.b||x.brightness]),p=x.a||x.alpha||x.opacity||1,x.opacity!=null&&(p/=100)):(r="rgb",v=[x>>>16,(x&65280)>>>8,x&255]);return{space:r,values:v,alpha:p}}},53576:function(H,j,e){var g=e(19336);H.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var a=P[0]/360,x=P[1]/100,w=P[2]/100,v,p,r,t,i;if(x===0)return i=w*255,[i,i,i];w<.5?p=w*(1+x):p=w+x-w*x,v=2*w-p,t=[0,0,0];for(var n=0;n<3;n++)r=a+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?i=v+(p-v)*6*r:2*r<1?i=p:3*r<2?i=v+(p-v)*(.6666666666666666-r)*6:i=v,t[n]=i*255;return t}},g.hsl=function(P){var a=P[0]/255,x=P[1]/255,w=P[2]/255,v=Math.min(a,x,w),p=Math.max(a,x,w),r=p-v,t,i,n;return p===v?t=0:a===p?t=(x-w)/r:x===p?t=2+(w-a)/r:w===p&&(t=4+(a-x)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?i=0:n<=.5?i=r/(p+v):i=r/(2-p-v),[t,i*100,n*100]}},19336:function(H){H.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(H){H.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(H,j,e){H.exports={parse:e(46416),stringify:e(49395)}},8744:function(H,j,e){var g=e(30584);H.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||g.indexOf(a)!==-1}}},46416:function(H,j,e){var g=e(92384),P=e(68194),a=e(3748),x=e(2904),w=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;H.exports=i;var t=i.cache={};function i(u){if(typeof u!="string")throw new Error("Font argument must be a string.");if(t[u])return t[u];if(u==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(u)!==-1)return t[u]={system:u};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(u,/\s+/),y;y=l.shift();){if(P.indexOf(y)!==-1)return["style","variant","weight","stretch"].forEach(function(M){f[M]=y}),t[u]=f;if(w.indexOf(y)!==-1){f.style=y;continue}if(y==="normal"||y==="small-caps"){f.variant=y;continue}if(v.indexOf(y)!==-1){f.stretch=y;continue}if(x.indexOf(y)!==-1){f.weight=y;continue}if(r(y)){var h=p(y,"/");if(f.size=h[0],h[1]!=null?f.lineHeight=n(h[1]):l[0]==="/"&&(l.shift(),f.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return f.family=p(l.join(" "),/\s*,\s*/).map(g),t[u]=f}throw new Error("Unknown or unsupported font token: "+y)}throw new Error("Missing required font-size.")}function n(u){var f=parseFloat(u);return f.toString()===u?f:u}},49395:function(H,j,e){var g=e(55616),P=e(8744).isSize,a=u(e(68194)),x=u(e(3748)),w=u(e(2904)),v=u(e(47916)),p=u(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},i={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};H.exports=function(l){if(l=g(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,x),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,w),n(l.stretch,p),l.size==null&&(l.size=i.size),typeof l.size=="number"&&(l.size+="px"),!P)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=i.family),Array.isArray(l.family)&&(l.family.length||(l.family=[i.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var y=[];return y.push(l.style),l.variant!==l.style&&y.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&y.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&y.push(l.stretch),y.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),y.push(l.family),y.filter(Boolean).join(" ")};function n(f,l){if(f&&!l[f]&&!a[f])throw Error("Unknown keyword `"+f+"`");return f}function u(f){for(var l={},y=0;y<f.length;y++)l[f[y]]=1;return l}},27940:function(H,j,e){var g=e(81680),P=e(18496),a=e(87396),x=e(95920),w=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,i;i=function(n,u,f){var l=P(u)&&a(u.value),y;return y=x(u),delete y.writable,delete y.value,y.get=function(){return!f.overwriteDefinition&&t.call(this,n)?l:(u.value=p.call(l,f.resolveContext?f.resolveContext(this):this),r(this,n,u),this[n])},y},H.exports=function(n){var u=w(arguments[1]);return g(u.resolveContext)&&a(u.resolveContext),v(n,function(f,l){return i(l,f,u)})}},21092:function(H,j,e){var g=e(81680),P=e(85488),a=e(38452),x=e(50868),w=e(71056),v=H.exports=function(p,r){var t,i,n,u,f;return arguments.length<2||typeof p!="string"?(u=r,r=p,p=null):u=arguments[2],g(p)?(t=w.call(p,"c"),i=w.call(p,"e"),n=w.call(p,"w")):(t=n=!0,i=!1),f={value:r,configurable:t,enumerable:i,writable:n},u?a(x(u),f):f};v.gs=function(p,r,t){var i,n,u,f;return typeof p!="string"?(u=t,t=r,r=p,p=null):u=arguments[3],g(r)?P(r)?g(t)?P(t)||(u=t,t=void 0):t=void 0:(u=r,r=t=void 0):r=void 0,g(p)?(i=w.call(p,"c"),n=w.call(p,"e")):(i=!0,n=!1),f={get:r,set:t,configurable:i,enumerable:n},u?a(x(u),f):f}},84706:function(H,j,e){e.d(j,{XE:function(){return g},kv:function(){return x},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return i}});function g(n,u){return n<u?-1:n>u?1:n>=u?0:NaN}function P(n){return n.length===1&&(n=a(n)),{left:function(u,f,l,y){for(l==null&&(l=0),y==null&&(y=u.length);l<y;){var h=l+y>>>1;n(u[h],f)<0?l=h+1:y=h}return l},right:function(u,f,l,y){for(l==null&&(l=0),y==null&&(y=u.length);l<y;){var h=l+y>>>1;n(u[h],f)>0?y=h:l=h+1}return l}}}function a(n){return function(u,f){return g(n(u),f)}}P(g);function x(n,u){var f=n.length,l=-1,y,h;if(u==null){for(;++l<f;)if((y=n[l])!=null&&y>=y)for(h=y;++l<f;)(y=n[l])!=null&&y>h&&(h=y)}else for(;++l<f;)if((y=u(n[l],l,n))!=null&&y>=y)for(h=y;++l<f;)(y=u(n[l],l,n))!=null&&y>h&&(h=y);return h}function w(n){return n===null?NaN:+n}function v(n,u){var f=n.length,l=f,y=-1,h,M=0;if(u==null)for(;++y<f;)isNaN(h=w(n[y]))?--l:M+=h;else for(;++y<f;)isNaN(h=w(u(n[y],y,n)))?--l:M+=h;if(l)return M/l}function p(n){for(var u=n.length,f,l=-1,y=0,h,M;++l<u;)y+=n[l].length;for(h=new Array(y);--u>=0;)for(M=n[u],f=M.length;--f>=0;)h[--y]=M[f];return h}function r(n,u){var f=n.length,l=-1,y,h;if(u==null){for(;++l<f;)if((y=n[l])!=null&&y>=y)for(h=y;++l<f;)(y=n[l])!=null&&h>y&&(h=y)}else for(;++l<f;)if((y=u(n[l],l,n))!=null&&y>=y)for(h=y;++l<f;)(y=u(n[l],l,n))!=null&&h>y&&(h=y);return h}function t(n,u,f){n=+n,u=+u,f=(y=arguments.length)<2?(u=n,n=0,1):y<3?1:+f;for(var l=-1,y=Math.max(0,Math.ceil((u-n)/f))|0,h=new Array(y);++l<y;)h[l]=n+l*f;return h}function i(n,u){var f=n.length,l=-1,y,h=0;if(u==null)for(;++l<f;)(y=+n[l])&&(h+=y);else for(;++l<f;)(y=+u(n[l],l,n))&&(h+=y);return h}},34712:function(H,j,e){e.d(j,{kH:function(){return x},UJ:function(){return w}});var g="$";function P(){}P.prototype=a.prototype={constructor:P,has:function(u){return g+u in this},get:function(u){return this[g+u]},set:function(u,f){return this[g+u]=f,this},remove:function(u){var f=g+u;return f in this&&delete this[f]},clear:function(){for(var u in this)u[0]===g&&delete this[u]},keys:function(){var u=[];for(var f in this)f[0]===g&&u.push(f.slice(1));return u},values:function(){var u=[];for(var f in this)f[0]===g&&u.push(this[f]);return u},entries:function(){var u=[];for(var f in this)f[0]===g&&u.push({key:f.slice(1),value:this[f]});return u},size:function(){var u=0;for(var f in this)f[0]===g&&++u;return u},empty:function(){for(var u in this)if(u[0]===g)return!1;return!0},each:function(u){for(var f in this)f[0]===g&&u(this[f],f.slice(1),this)}};function a(u,f){var l=new P;if(u instanceof P)u.each(function(o,d){l.set(d,o)});else if(Array.isArray(u)){var y=-1,h=u.length,M;if(f==null)for(;++y<h;)l.set(y,u[y]);else for(;++y<h;)l.set(f(M=u[y],y,u),M)}else if(u)for(var c in u)l.set(c,u[c]);return l}var x=a;function w(){var u=[],f=[],l,y,h;function M(o,d,T,S){if(d>=u.length)return l!=null&&o.sort(l),y!=null?y(o):o;for(var C=-1,m=o.length,E=u[d++],b,s,L=x(),A,k=T();++C<m;)(A=L.get(b=E(s=o[C])+""))?A.push(s):L.set(b,[s]);return L.each(function(_,U){S(k,U,M(_,d,T,S))}),k}function c(o,d){if(++d>u.length)return o;var T,S=f[d-1];return y!=null&&d>=u.length?T=o.entries():(T=[],o.each(function(C,m){T.push({key:m,values:c(C,d)})})),S!=null?T.sort(function(C,m){return S(C.key,m.key)}):T}return h={object:function(o){return M(o,0,v,p)},map:function(o){return M(o,0,r,t)},entries:function(o){return c(M(o,0,r,t),0)},key:function(o){return u.push(o),h},sortKeys:function(o){return f[u.length-1]=o,h},sortValues:function(o){return l=o,h},rollup:function(o){return y=o,h}}}function v(){return{}}function p(u,f,l){u[f]=l}function r(){return x()}function t(u,f,l){u.set(f,l)}function i(){}var n=x.prototype;i.prototype={constructor:i,has:n.has,add:function(u){return u+="",this[g+u]=u,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(H,j,e){e.r(j),e.d(j,{forceCenter:function(){return g},forceCollide:function(){return L},forceLink:function(){return U},forceManyBody:function(){return Xe},forceRadial:function(){return ut},forceSimulation:function(){return Be},forceX:function(){return dt},forceY:function(){return at}});function g(We,rt){var st;We==null&&(We=0),rt==null&&(rt=0);function ht(){var vt,At=st.length,tt,_e=0,je=0;for(vt=0;vt<At;++vt)tt=st[vt],_e+=tt.x,je+=tt.y;for(_e=_e/At-We,je=je/At-rt,vt=0;vt<At;++vt)tt=st[vt],tt.x-=_e,tt.y-=je}return ht.initialize=function(vt){st=vt},ht.x=function(vt){return arguments.length?(We=+vt,ht):We},ht.y=function(vt){return arguments.length?(rt=+vt,ht):rt},ht}function P(We){return function(){return We}}function a(){return(Math.random()-.5)*1e-6}function x(We){var rt=+this._x.call(null,We),st=+this._y.call(null,We);return w(this.cover(rt,st),rt,st,We)}function w(We,rt,st,ht){if(isNaN(rt)||isNaN(st))return We;var vt,At=We._root,tt={data:ht},_e=We._x0,je=We._y0,Ke=We._x1,He=We._y1,Ie,be,me,Me,Te,ze,Je,nt;if(!At)return We._root=tt,We;for(;At.length;)if((Te=rt>=(Ie=(_e+Ke)/2))?_e=Ie:Ke=Ie,(ze=st>=(be=(je+He)/2))?je=be:He=be,vt=At,!(At=At[Je=ze<<1|Te]))return vt[Je]=tt,We;if(me=+We._x.call(null,At.data),Me=+We._y.call(null,At.data),rt===me&&st===Me)return tt.next=At,vt?vt[Je]=tt:We._root=tt,We;do vt=vt?vt[Je]=new Array(4):We._root=new Array(4),(Te=rt>=(Ie=(_e+Ke)/2))?_e=Ie:Ke=Ie,(ze=st>=(be=(je+He)/2))?je=be:He=be;while((Je=ze<<1|Te)===(nt=(Me>=be)<<1|me>=Ie));return vt[nt]=At,vt[Je]=tt,We}function v(We){var rt,st,ht=We.length,vt,At,tt=new Array(ht),_e=new Array(ht),je=1/0,Ke=1/0,He=-1/0,Ie=-1/0;for(st=0;st<ht;++st)isNaN(vt=+this._x.call(null,rt=We[st]))||isNaN(At=+this._y.call(null,rt))||(tt[st]=vt,_e[st]=At,vt<je&&(je=vt),vt>He&&(He=vt),At<Ke&&(Ke=At),At>Ie&&(Ie=At));if(je>He||Ke>Ie)return this;for(this.cover(je,Ke).cover(He,Ie),st=0;st<ht;++st)w(this,tt[st],_e[st],We[st]);return this}function p(We,rt){if(isNaN(We=+We)||isNaN(rt=+rt))return this;var st=this._x0,ht=this._y0,vt=this._x1,At=this._y1;if(isNaN(st))vt=(st=Math.floor(We))+1,At=(ht=Math.floor(rt))+1;else{for(var tt=vt-st,_e=this._root,je,Ke;st>We||We>=vt||ht>rt||rt>=At;)switch(Ke=(rt<ht)<<1|We<st,je=new Array(4),je[Ke]=_e,_e=je,tt*=2,Ke){case 0:vt=st+tt,At=ht+tt;break;case 1:st=vt-tt,At=ht+tt;break;case 2:vt=st+tt,ht=At-tt;break;case 3:st=vt-tt,ht=At-tt;break}this._root&&this._root.length&&(this._root=_e)}return this._x0=st,this._y0=ht,this._x1=vt,this._y1=At,this}function r(){var We=[];return this.visit(function(rt){if(!rt.length)do We.push(rt.data);while(rt=rt.next)}),We}function t(We){return arguments.length?this.cover(+We[0][0],+We[0][1]).cover(+We[1][0],+We[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function i(We,rt,st,ht,vt){this.node=We,this.x0=rt,this.y0=st,this.x1=ht,this.y1=vt}function n(We,rt,st){var ht,vt=this._x0,At=this._y0,tt,_e,je,Ke,He=this._x1,Ie=this._y1,be=[],me=this._root,Me,Te;for(me&&be.push(new i(me,vt,At,He,Ie)),st==null?st=1/0:(vt=We-st,At=rt-st,He=We+st,Ie=rt+st,st*=st);Me=be.pop();)if(!(!(me=Me.node)||(tt=Me.x0)>He||(_e=Me.y0)>Ie||(je=Me.x1)<vt||(Ke=Me.y1)<At))if(me.length){var ze=(tt+je)/2,Je=(_e+Ke)/2;be.push(new i(me[3],ze,Je,je,Ke),new i(me[2],tt,Je,ze,Ke),new i(me[1],ze,_e,je,Je),new i(me[0],tt,_e,ze,Je)),(Te=(rt>=Je)<<1|We>=ze)&&(Me=be[be.length-1],be[be.length-1]=be[be.length-1-Te],be[be.length-1-Te]=Me)}else{var nt=We-+this._x.call(null,me.data),pt=rt-+this._y.call(null,me.data),yt=nt*nt+pt*pt;if(yt<st){var Yt=Math.sqrt(st=yt);vt=We-Yt,At=rt-Yt,He=We+Yt,Ie=rt+Yt,ht=me.data}}return ht}function u(We){if(isNaN(He=+this._x.call(null,We))||isNaN(Ie=+this._y.call(null,We)))return this;var rt,st=this._root,ht,vt,At,tt=this._x0,_e=this._y0,je=this._x1,Ke=this._y1,He,Ie,be,me,Me,Te,ze,Je;if(!st)return this;if(st.length)for(;;){if((Me=He>=(be=(tt+je)/2))?tt=be:je=be,(Te=Ie>=(me=(_e+Ke)/2))?_e=me:Ke=me,rt=st,!(st=st[ze=Te<<1|Me]))return this;if(!st.length)break;(rt[ze+1&3]||rt[ze+2&3]||rt[ze+3&3])&&(ht=rt,Je=ze)}for(;st.data!==We;)if(vt=st,!(st=st.next))return this;return(At=st.next)&&delete st.next,vt?(At?vt.next=At:delete vt.next,this):rt?(At?rt[ze]=At:delete rt[ze],(st=rt[0]||rt[1]||rt[2]||rt[3])&&st===(rt[3]||rt[2]||rt[1]||rt[0])&&!st.length&&(ht?ht[Je]=st:this._root=st),this):(this._root=At,this)}function f(We){for(var rt=0,st=We.length;rt<st;++rt)this.remove(We[rt]);return this}function l(){return this._root}function y(){var We=0;return this.visit(function(rt){if(!rt.length)do++We;while(rt=rt.next)}),We}function h(We){var rt=[],st,ht=this._root,vt,At,tt,_e,je;for(ht&&rt.push(new i(ht,this._x0,this._y0,this._x1,this._y1));st=rt.pop();)if(!We(ht=st.node,At=st.x0,tt=st.y0,_e=st.x1,je=st.y1)&&ht.length){var Ke=(At+_e)/2,He=(tt+je)/2;(vt=ht[3])&&rt.push(new i(vt,Ke,He,_e,je)),(vt=ht[2])&&rt.push(new i(vt,At,He,Ke,je)),(vt=ht[1])&&rt.push(new i(vt,Ke,tt,_e,He)),(vt=ht[0])&&rt.push(new i(vt,At,tt,Ke,He))}return this}function M(We){var rt=[],st=[],ht;for(this._root&&rt.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));ht=rt.pop();){var vt=ht.node;if(vt.length){var At,tt=ht.x0,_e=ht.y0,je=ht.x1,Ke=ht.y1,He=(tt+je)/2,Ie=(_e+Ke)/2;(At=vt[0])&&rt.push(new i(At,tt,_e,He,Ie)),(At=vt[1])&&rt.push(new i(At,He,_e,je,Ie)),(At=vt[2])&&rt.push(new i(At,tt,Ie,He,Ke)),(At=vt[3])&&rt.push(new i(At,He,Ie,je,Ke))}st.push(ht)}for(;ht=st.pop();)We(ht.node,ht.x0,ht.y0,ht.x1,ht.y1);return this}function c(We){return We[0]}function o(We){return arguments.length?(this._x=We,this):this._x}function d(We){return We[1]}function T(We){return arguments.length?(this._y=We,this):this._y}function S(We,rt,st){var ht=new C(rt??c,st??d,NaN,NaN,NaN,NaN);return We==null?ht:ht.addAll(We)}function C(We,rt,st,ht,vt,At){this._x=We,this._y=rt,this._x0=st,this._y0=ht,this._x1=vt,this._y1=At,this._root=void 0}function m(We){for(var rt={data:We.data},st=rt;We=We.next;)st=st.next={data:We.data};return rt}var E=S.prototype=C.prototype;E.copy=function(){var We=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),rt=this._root,st,ht;if(!rt)return We;if(!rt.length)return We._root=m(rt),We;for(st=[{source:rt,target:We._root=new Array(4)}];rt=st.pop();)for(var vt=0;vt<4;++vt)(ht=rt.source[vt])&&(ht.length?st.push({source:ht,target:rt.target[vt]=new Array(4)}):rt.target[vt]=m(ht));return We},E.add=x,E.addAll=v,E.cover=p,E.data=r,E.extent=t,E.find=n,E.remove=u,E.removeAll=f,E.root=l,E.size=y,E.visit=h,E.visitAfter=M,E.x=o,E.y=T;function b(We){return We.x+We.vx}function s(We){return We.y+We.vy}function L(We){var rt,st,ht=1,vt=1;typeof We!="function"&&(We=P(We==null?1:+We));function At(){for(var je,Ke=rt.length,He,Ie,be,me,Me,Te,ze=0;ze<vt;++ze)for(He=S(rt,b,s).visitAfter(tt),je=0;je<Ke;++je)Ie=rt[je],Me=st[Ie.index],Te=Me*Me,be=Ie.x+Ie.vx,me=Ie.y+Ie.vy,He.visit(Je);function Je(nt,pt,yt,Yt,Xt){var St=nt.data,kt=nt.r,Kt=Me+kt;if(St){if(St.index>Ie.index){var mr=be-St.x-St.vx,mt=me-St.y-St.vy,Zt=mr*mr+mt*mt;Zt<Kt*Kt&&(mr===0&&(mr=a(),Zt+=mr*mr),mt===0&&(mt=a(),Zt+=mt*mt),Zt=(Kt-(Zt=Math.sqrt(Zt)))/Zt*ht,Ie.vx+=(mr*=Zt)*(Kt=(kt*=kt)/(Te+kt)),Ie.vy+=(mt*=Zt)*Kt,St.vx-=mr*(Kt=1-Kt),St.vy-=mt*Kt)}return}return pt>be+Kt||Yt<be-Kt||yt>me+Kt||Xt<me-Kt}}function tt(je){if(je.data)return je.r=st[je.data.index];for(var Ke=je.r=0;Ke<4;++Ke)je[Ke]&&je[Ke].r>je.r&&(je.r=je[Ke].r)}function _e(){if(rt){var je,Ke=rt.length,He;for(st=new Array(Ke),je=0;je<Ke;++je)He=rt[je],st[He.index]=+We(He,je,rt)}}return At.initialize=function(je){rt=je,_e()},At.iterations=function(je){return arguments.length?(vt=+je,At):vt},At.strength=function(je){return arguments.length?(ht=+je,At):ht},At.radius=function(je){return arguments.length?(We=typeof je=="function"?je:P(+je),_e(),At):We},At}var A=e(34712);function k(We){return We.index}function _(We,rt){var st=We.get(rt);if(!st)throw new Error("missing: "+rt);return st}function U(We){var rt=k,st=He,ht,vt=P(30),At,tt,_e,je,Ke=1;We==null&&(We=[]);function He(Te){return 1/Math.min(_e[Te.source.index],_e[Te.target.index])}function Ie(Te){for(var ze=0,Je=We.length;ze<Ke;++ze)for(var nt=0,pt,yt,Yt,Xt,St,kt,Kt;nt<Je;++nt)pt=We[nt],yt=pt.source,Yt=pt.target,Xt=Yt.x+Yt.vx-yt.x-yt.vx||a(),St=Yt.y+Yt.vy-yt.y-yt.vy||a(),kt=Math.sqrt(Xt*Xt+St*St),kt=(kt-At[nt])/kt*Te*ht[nt],Xt*=kt,St*=kt,Yt.vx-=Xt*(Kt=je[nt]),Yt.vy-=St*Kt,yt.vx+=Xt*(Kt=1-Kt),yt.vy+=St*Kt}function be(){if(tt){var Te,ze=tt.length,Je=We.length,nt=(0,A.kH)(tt,rt),pt;for(Te=0,_e=new Array(ze);Te<Je;++Te)pt=We[Te],pt.index=Te,typeof pt.source!="object"&&(pt.source=_(nt,pt.source)),typeof pt.target!="object"&&(pt.target=_(nt,pt.target)),_e[pt.source.index]=(_e[pt.source.index]||0)+1,_e[pt.target.index]=(_e[pt.target.index]||0)+1;for(Te=0,je=new Array(Je);Te<Je;++Te)pt=We[Te],je[Te]=_e[pt.source.index]/(_e[pt.source.index]+_e[pt.target.index]);ht=new Array(Je),me(),At=new Array(Je),Me()}}function me(){if(tt)for(var Te=0,ze=We.length;Te<ze;++Te)ht[Te]=+st(We[Te],Te,We)}function Me(){if(tt)for(var Te=0,ze=We.length;Te<ze;++Te)At[Te]=+vt(We[Te],Te,We)}return Ie.initialize=function(Te){tt=Te,be()},Ie.links=function(Te){return arguments.length?(We=Te,be(),Ie):We},Ie.id=function(Te){return arguments.length?(rt=Te,Ie):rt},Ie.iterations=function(Te){return arguments.length?(Ke=+Te,Ie):Ke},Ie.strength=function(Te){return arguments.length?(st=typeof Te=="function"?Te:P(+Te),me(),Ie):st},Ie.distance=function(Te){return arguments.length?(vt=typeof Te=="function"?Te:P(+Te),Me(),Ie):vt},Ie}var F={value:function(){}};function z(){for(var We=0,rt=arguments.length,st={},ht;We<rt;++We){if(!(ht=arguments[We]+"")||ht in st||/[\s.]/.test(ht))throw new Error("illegal type: "+ht);st[ht]=[]}return new B(st)}function B(We){this._=We}function N(We,rt){return We.trim().split(/^|\s+/).map(function(st){var ht="",vt=st.indexOf(".");if(vt>=0&&(ht=st.slice(vt+1),st=st.slice(0,vt)),st&&!rt.hasOwnProperty(st))throw new Error("unknown type: "+st);return{type:st,name:ht}})}B.prototype=z.prototype={constructor:B,on:function(We,rt){var st=this._,ht=N(We+"",st),vt,At=-1,tt=ht.length;if(arguments.length<2){for(;++At<tt;)if((vt=(We=ht[At]).type)&&(vt=V(st[vt],We.name)))return vt;return}if(rt!=null&&typeof rt!="function")throw new Error("invalid callback: "+rt);for(;++At<tt;)if(vt=(We=ht[At]).type)st[vt]=W(st[vt],We.name,rt);else if(rt==null)for(vt in st)st[vt]=W(st[vt],We.name,null);return this},copy:function(){var We={},rt=this._;for(var st in rt)We[st]=rt[st].slice();return new B(We)},call:function(We,rt){if((vt=arguments.length-2)>0)for(var st=new Array(vt),ht=0,vt,At;ht<vt;++ht)st[ht]=arguments[ht+2];if(!this._.hasOwnProperty(We))throw new Error("unknown type: "+We);for(At=this._[We],ht=0,vt=At.length;ht<vt;++ht)At[ht].value.apply(rt,st)},apply:function(We,rt,st){if(!this._.hasOwnProperty(We))throw new Error("unknown type: "+We);for(var ht=this._[We],vt=0,At=ht.length;vt<At;++vt)ht[vt].value.apply(rt,st)}};function V(We,rt){for(var st=0,ht=We.length,vt;st<ht;++st)if((vt=We[st]).name===rt)return vt.value}function W(We,rt,st){for(var ht=0,vt=We.length;ht<vt;++ht)if(We[ht].name===rt){We[ht]=F,We=We.slice(0,ht).concat(We.slice(ht+1));break}return st!=null&&We.push({name:rt,value:st}),We}var Q=z,re=0,ne=0,fe=0,$=1e3,X,oe,Y=0,ee=0,se=0,q=typeof performance=="object"&&performance.now?performance:Date,K=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(We){setTimeout(We,17)};function le(){return ee||(K(ie),ee=q.now()+se)}function ie(){ee=0}function he(){this._call=this._time=this._next=null}he.prototype=ye.prototype={constructor:he,restart:function(We,rt,st){if(typeof We!="function")throw new TypeError("callback is not a function");st=(st==null?le():+st)+(rt==null?0:+rt),!this._next&&oe!==this&&(oe?oe._next=this:X=this,oe=this),this._call=We,this._time=st,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};function ye(We,rt,st){var ht=new he;return ht.restart(We,rt,st),ht}function Ce(){le(),++re;for(var We=X,rt;We;)(rt=ee-We._time)>=0&&We._call.call(null,rt),We=We._next;--re}function Ae(){ee=(Y=q.now())+se,re=ne=0;try{Ce()}finally{re=0,we(),ee=0}}function ke(){var We=q.now(),rt=We-Y;rt>$&&(se-=rt,Y=We)}function we(){for(var We,rt=X,st,ht=1/0;rt;)rt._call?(ht>rt._time&&(ht=rt._time),We=rt,rt=rt._next):(st=rt._next,rt._next=null,rt=We?We._next=st:X=st);oe=We,Ee(ht)}function Ee(We){if(!re){ne&&(ne=clearTimeout(ne));var rt=We-ee;rt>24?(We<1/0&&(ne=setTimeout(Ae,We-q.now()-se)),fe&&(fe=clearInterval(fe))):(fe||(Y=q.now(),fe=setInterval(ke,$)),re=1,K(Ae))}}function xe(We){return We.x}function Re(We){return We.y}var Ve=10,Ue=Math.PI*(3-Math.sqrt(5));function Be(We){var rt,st=1,ht=.001,vt=1-Math.pow(ht,1/300),At=0,tt=.6,_e=(0,A.kH)(),je=ye(He),Ke=Q("tick","end");We==null&&(We=[]);function He(){Ie(),Ke.call("tick",rt),st<ht&&(je.stop(),Ke.call("end",rt))}function Ie(Me){var Te,ze=We.length,Je;Me===void 0&&(Me=1);for(var nt=0;nt<Me;++nt)for(st+=(At-st)*vt,_e.each(function(pt){pt(st)}),Te=0;Te<ze;++Te)Je=We[Te],Je.fx==null?Je.x+=Je.vx*=tt:(Je.x=Je.fx,Je.vx=0),Je.fy==null?Je.y+=Je.vy*=tt:(Je.y=Je.fy,Je.vy=0);return rt}function be(){for(var Me=0,Te=We.length,ze;Me<Te;++Me){if(ze=We[Me],ze.index=Me,ze.fx!=null&&(ze.x=ze.fx),ze.fy!=null&&(ze.y=ze.fy),isNaN(ze.x)||isNaN(ze.y)){var Je=Ve*Math.sqrt(Me),nt=Me*Ue;ze.x=Je*Math.cos(nt),ze.y=Je*Math.sin(nt)}(isNaN(ze.vx)||isNaN(ze.vy))&&(ze.vx=ze.vy=0)}}function me(Me){return Me.initialize&&Me.initialize(We),Me}return be(),rt={tick:Ie,restart:function(){return je.restart(He),rt},stop:function(){return je.stop(),rt},nodes:function(Me){return arguments.length?(We=Me,be(),_e.each(me),rt):We},alpha:function(Me){return arguments.length?(st=+Me,rt):st},alphaMin:function(Me){return arguments.length?(ht=+Me,rt):ht},alphaDecay:function(Me){return arguments.length?(vt=+Me,rt):+vt},alphaTarget:function(Me){return arguments.length?(At=+Me,rt):At},velocityDecay:function(Me){return arguments.length?(tt=1-Me,rt):1-tt},force:function(Me,Te){return arguments.length>1?(Te==null?_e.remove(Me):_e.set(Me,me(Te)),rt):_e.get(Me)},find:function(Me,Te,ze){var Je=0,nt=We.length,pt,yt,Yt,Xt,St;for(ze==null?ze=1/0:ze*=ze,Je=0;Je<nt;++Je)Xt=We[Je],pt=Me-Xt.x,yt=Te-Xt.y,Yt=pt*pt+yt*yt,Yt<ze&&(St=Xt,ze=Yt);return St},on:function(Me,Te){return arguments.length>1?(Ke.on(Me,Te),rt):Ke.on(Me)}}}function Xe(){var We,rt,st,ht=P(-30),vt,At=1,tt=1/0,_e=.81;function je(be){var me,Me=We.length,Te=S(We,xe,Re).visitAfter(He);for(st=be,me=0;me<Me;++me)rt=We[me],Te.visit(Ie)}function Ke(){if(We){var be,me=We.length,Me;for(vt=new Array(me),be=0;be<me;++be)Me=We[be],vt[Me.index]=+ht(Me,be,We)}}function He(be){var me=0,Me,Te,ze=0,Je,nt,pt;if(be.length){for(Je=nt=pt=0;pt<4;++pt)(Me=be[pt])&&(Te=Math.abs(Me.value))&&(me+=Me.value,ze+=Te,Je+=Te*Me.x,nt+=Te*Me.y);be.x=Je/ze,be.y=nt/ze}else{Me=be,Me.x=Me.data.x,Me.y=Me.data.y;do me+=vt[Me.data.index];while(Me=Me.next)}be.value=me}function Ie(be,me,Me,Te){if(!be.value)return!0;var ze=be.x-rt.x,Je=be.y-rt.y,nt=Te-me,pt=ze*ze+Je*Je;if(nt*nt/_e<pt)return pt<tt&&(ze===0&&(ze=a(),pt+=ze*ze),Je===0&&(Je=a(),pt+=Je*Je),pt<At&&(pt=Math.sqrt(At*pt)),rt.vx+=ze*be.value*st/pt,rt.vy+=Je*be.value*st/pt),!0;if(be.length||pt>=tt)return;(be.data!==rt||be.next)&&(ze===0&&(ze=a(),pt+=ze*ze),Je===0&&(Je=a(),pt+=Je*Je),pt<At&&(pt=Math.sqrt(At*pt)));do be.data!==rt&&(nt=vt[be.data.index]*st/pt,rt.vx+=ze*nt,rt.vy+=Je*nt);while(be=be.next)}return je.initialize=function(be){We=be,Ke()},je.strength=function(be){return arguments.length?(ht=typeof be=="function"?be:P(+be),Ke(),je):ht},je.distanceMin=function(be){return arguments.length?(At=be*be,je):Math.sqrt(At)},je.distanceMax=function(be){return arguments.length?(tt=be*be,je):Math.sqrt(tt)},je.theta=function(be){return arguments.length?(_e=be*be,je):Math.sqrt(_e)},je}function ut(We,rt,st){var ht,vt=P(.1),At,tt;typeof We!="function"&&(We=P(+We)),rt==null&&(rt=0),st==null&&(st=0);function _e(Ke){for(var He=0,Ie=ht.length;He<Ie;++He){var be=ht[He],me=be.x-rt||1e-6,Me=be.y-st||1e-6,Te=Math.sqrt(me*me+Me*Me),ze=(tt[He]-Te)*At[He]*Ke/Te;be.vx+=me*ze,be.vy+=Me*ze}}function je(){if(ht){var Ke,He=ht.length;for(At=new Array(He),tt=new Array(He),Ke=0;Ke<He;++Ke)tt[Ke]=+We(ht[Ke],Ke,ht),At[Ke]=isNaN(tt[Ke])?0:+vt(ht[Ke],Ke,ht)}}return _e.initialize=function(Ke){ht=Ke,je()},_e.strength=function(Ke){return arguments.length?(vt=typeof Ke=="function"?Ke:P(+Ke),je(),_e):vt},_e.radius=function(Ke){return arguments.length?(We=typeof Ke=="function"?Ke:P(+Ke),je(),_e):We},_e.x=function(Ke){return arguments.length?(rt=+Ke,_e):rt},_e.y=function(Ke){return arguments.length?(st=+Ke,_e):st},_e}function dt(We){var rt=P(.1),st,ht,vt;typeof We!="function"&&(We=P(We==null?0:+We));function At(_e){for(var je=0,Ke=st.length,He;je<Ke;++je)He=st[je],He.vx+=(vt[je]-He.x)*ht[je]*_e}function tt(){if(st){var _e,je=st.length;for(ht=new Array(je),vt=new Array(je),_e=0;_e<je;++_e)ht[_e]=isNaN(vt[_e]=+We(st[_e],_e,st))?0:+rt(st[_e],_e,st)}}return At.initialize=function(_e){st=_e,tt()},At.strength=function(_e){return arguments.length?(rt=typeof _e=="function"?_e:P(+_e),tt(),At):rt},At.x=function(_e){return arguments.length?(We=typeof _e=="function"?_e:P(+_e),tt(),At):We},At}function at(We){var rt=P(.1),st,ht,vt;typeof We!="function"&&(We=P(We==null?0:+We));function At(_e){for(var je=0,Ke=st.length,He;je<Ke;++je)He=st[je],He.vy+=(vt[je]-He.y)*ht[je]*_e}function tt(){if(st){var _e,je=st.length;for(ht=new Array(je),vt=new Array(je),_e=0;_e<je;++_e)ht[_e]=isNaN(vt[_e]=+We(st[_e],_e,st))?0:+rt(st[_e],_e,st)}}return At.initialize=function(_e){st=_e,tt()},At.strength=function(_e){return arguments.length?(rt=typeof _e=="function"?_e:P(+_e),tt(),At):rt},At.y=function(_e){return arguments.length?(We=typeof _e=="function"?_e:P(+_e),tt(),At):We},At}},57624:function(H,j,e){e.d(j,{E9:function(){return o},SO:function(){return M}});function g(T){return Math.abs(T=Math.round(T))>=1e21?T.toLocaleString("en").replace(/,/g,""):T.toString(10)}function P(T,S){if((C=(T=S?T.toExponential(S-1):T.toExponential()).indexOf("e"))<0)return null;var C,m=T.slice(0,C);return[m.length>1?m[0]+m.slice(2):m,+T.slice(C+1)]}function a(T){return T=P(Math.abs(T)),T?T[1]:NaN}function x(T,S){return function(C,m){for(var E=C.length,b=[],s=0,L=T[0],A=0;E>0&&L>0&&(A+L+1>m&&(L=Math.max(1,m-A)),b.push(C.substring(E-=L,E+L)),!((A+=L+1)>m));)L=T[s=(s+1)%T.length];return b.reverse().join(S)}}function w(T){return function(S){return S.replace(/[0-9]/g,function(C){return T[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(T){if(!(S=v.exec(T)))throw new Error("invalid format: "+T);var S;return new r({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}p.prototype=r.prototype;function r(T){this.fill=T.fill===void 0?" ":T.fill+"",this.align=T.align===void 0?">":T.align+"",this.sign=T.sign===void 0?"-":T.sign+"",this.symbol=T.symbol===void 0?"":T.symbol+"",this.zero=!!T.zero,this.width=T.width===void 0?void 0:+T.width,this.comma=!!T.comma,this.precision=T.precision===void 0?void 0:+T.precision,this.trim=!!T.trim,this.type=T.type===void 0?"":T.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(T){e:for(var S=T.length,C=1,m=-1,E;C<S;++C)switch(T[C]){case".":m=E=C;break;case"0":m===0&&(m=C),E=C;break;default:if(!+T[C])break e;m>0&&(m=0);break}return m>0?T.slice(0,m)+T.slice(E+1):T}var i;function n(T,S){var C=P(T,S);if(!C)return T+"";var m=C[0],E=C[1],b=E-(i=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,s=m.length;return b===s?m:b>s?m+new Array(b-s+1).join("0"):b>0?m.slice(0,b)+"."+m.slice(b):"0."+new Array(1-b).join("0")+P(T,Math.max(0,S+b-1))[0]}function u(T,S){var C=P(T,S);if(!C)return T+"";var m=C[0],E=C[1];return E<0?"0."+new Array(-E).join("0")+m:m.length>E+1?m.slice(0,E+1)+"."+m.slice(E+1):m+new Array(E-m.length+2).join("0")}var f={"%":function(T,S){return(T*100).toFixed(S)},b:function(T){return Math.round(T).toString(2)},c:function(T){return T+""},d:g,e:function(T,S){return T.toExponential(S)},f:function(T,S){return T.toFixed(S)},g:function(T,S){return T.toPrecision(S)},o:function(T){return Math.round(T).toString(8)},p:function(T,S){return u(T*100,S)},r:u,s:n,X:function(T){return Math.round(T).toString(16).toUpperCase()},x:function(T){return Math.round(T).toString(16)}};function l(T){return T}var y=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function M(T){var S=T.grouping===void 0||T.thousands===void 0?l:x(y.call(T.grouping,Number),T.thousands+""),C=T.currency===void 0?"":T.currency[0]+"",m=T.currency===void 0?"":T.currency[1]+"",E=T.decimal===void 0?".":T.decimal+"",b=T.numerals===void 0?l:w(y.call(T.numerals,String)),s=T.percent===void 0?"%":T.percent+"",L=T.minus===void 0?"-":T.minus+"",A=T.nan===void 0?"NaN":T.nan+"";function k(U){U=p(U);var F=U.fill,z=U.align,B=U.sign,N=U.symbol,V=U.zero,W=U.width,Q=U.comma,re=U.precision,ne=U.trim,fe=U.type;fe==="n"?(Q=!0,fe="g"):f[fe]||(re===void 0&&(re=12),ne=!0,fe="g"),(V||F==="0"&&z==="=")&&(V=!0,F="0",z="=");var $=N==="$"?C:N==="#"&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():"",X=N==="$"?m:/[%p]/.test(fe)?s:"",oe=f[fe],Y=/[defgprs%]/.test(fe);re=re===void 0?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,re)):Math.max(0,Math.min(20,re));function ee(se){var q=$,K=X,le,ie,he;if(fe==="c")K=oe(se)+K,se="";else{se=+se;var ye=se<0||1/se<0;if(se=isNaN(se)?A:oe(Math.abs(se),re),ne&&(se=t(se)),ye&&+se==0&&B!=="+"&&(ye=!1),q=(ye?B==="("?B:L:B==="-"||B==="("?"":B)+q,K=(fe==="s"?h[8+i/3]:"")+K+(ye&&B==="("?")":""),Y){for(le=-1,ie=se.length;++le<ie;)if(he=se.charCodeAt(le),48>he||he>57){K=(he===46?E+se.slice(le+1):se.slice(le))+K,se=se.slice(0,le);break}}}Q&&!V&&(se=S(se,1/0));var Ce=q.length+se.length+K.length,Ae=Ce<W?new Array(W-Ce+1).join(F):"";switch(Q&&V&&(se=S(Ae+se,Ae.length?W-K.length:1/0),Ae=""),z){case"<":se=q+se+K+Ae;break;case"=":se=q+Ae+se+K;break;case"^":se=Ae.slice(0,Ce=Ae.length>>1)+q+se+K+Ae.slice(Ce);break;default:se=Ae+q+se+K;break}return b(se)}return ee.toString=function(){return U+""},ee}function _(U,F){var z=k((U=p(U),U.type="f",U)),B=Math.max(-8,Math.min(8,Math.floor(a(F)/3)))*3,N=Math.pow(10,-B),V=h[8+B/3];return function(W){return z(N*W)+V}}return{format:k,formatPrefix:_}}var c,o;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(T){return c=M(T),o=c.format,c.formatPrefix,c}},87108:function(H,j,e){e.r(j),e.d(j,{geoAiry:function(){return V},geoAiryRaw:function(){return N},geoAitoff:function(){return Q},geoAitoffRaw:function(){return W},geoArmadillo:function(){return ne},geoArmadilloRaw:function(){return re},geoAugust:function(){return $},geoAugustRaw:function(){return fe},geoBaker:function(){return ee},geoBakerRaw:function(){return Y},geoBerghaus:function(){return K},geoBerghausRaw:function(){return q},geoBertin1953:function(){return we},geoBertin1953Raw:function(){return ke},geoBoggs:function(){return ut},geoBoggsRaw:function(){return Xe},geoBonne:function(){return st},geoBonneRaw:function(){return rt},geoBottomley:function(){return vt},geoBottomleyRaw:function(){return ht},geoBromley:function(){return tt},geoBromleyRaw:function(){return At},geoChamberlin:function(){return Te},geoChamberlinAfrica:function(){return Me},geoChamberlinRaw:function(){return be},geoCollignon:function(){return Je},geoCollignonRaw:function(){return ze},geoCraig:function(){return pt},geoCraigRaw:function(){return nt},geoCraster:function(){return Xt},geoCrasterRaw:function(){return Yt},geoCylindricalEqualArea:function(){return kt},geoCylindricalEqualAreaRaw:function(){return St},geoCylindricalStereographic:function(){return mr},geoCylindricalStereographicRaw:function(){return Kt},geoEckert1:function(){return Zt},geoEckert1Raw:function(){return mt},geoEckert2:function(){return yr},geoEckert2Raw:function(){return Qt},geoEckert3:function(){return bt},geoEckert3Raw:function(){return sr},geoEckert4:function(){return Tt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return It},geoEckert5Raw:function(){return Ct},geoEckert6:function(){return Vt},geoEckert6Raw:function(){return Dt},geoEisenlohr:function(){return fr},geoEisenlohrRaw:function(){return $t},geoFahey:function(){return Ye},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return zt},geoFoucautRaw:function(){return Ge},geoFoucautSinusoidal:function(){return Jt},geoFoucautSinusoidalRaw:function(){return Ft},geoGilbert:function(){return hr},geoGingery:function(){return Gr},geoGingeryRaw:function(){return gr},geoGinzburg4:function(){return hn},geoGinzburg4Raw:function(){return _r},geoGinzburg5:function(){return Pn},geoGinzburg5Raw:function(){return nn},geoGinzburg6:function(){return Ar},geoGinzburg6Raw:function(){return Cn},geoGinzburg8:function(){return Wr},geoGinzburg8Raw:function(){return Pr},geoGinzburg9:function(){return on},geoGinzburg9Raw:function(){return Vr},geoGringorten:function(){return aa},geoGringortenQuincuncial:function(){return Zh},geoGringortenRaw:function(){return mn},geoGuyou:function(){return gn},geoGuyouRaw:function(){return Tr},geoHammer:function(){return ye},geoHammerRaw:function(){return ie},geoHammerRetroazimuthal:function(){return Un},geoHammerRetroazimuthalRaw:function(){return An},geoHealpix:function(){return ln},geoHealpixRaw:function(){return Sr},geoHill:function(){return Zr},geoHillRaw:function(){return Cr},geoHomolosine:function(){return Vn},geoHomolosineRaw:function(){return Dn},geoHufnagel:function(){return ma},geoHufnagelRaw:function(){return Nn},geoHyperelliptical:function(){return pi},geoHyperellipticalRaw:function(){return Pa},geoInterrupt:function(){return no},geoInterruptedBoggs:function(){return kf},geoInterruptedHomolosine:function(){return qa},geoInterruptedMollweide:function(){return Ff},geoInterruptedMollweideHemispheres:function(){return Eo},geoInterruptedQuarticAuthalic:function(){return el},geoInterruptedSinuMollweide:function(){return of},geoInterruptedSinusoidal:function(){return Hl},geoKavrayskiy7:function(){return Gi},geoKavrayskiy7Raw:function(){return Ni},geoLagrange:function(){return ao},geoLagrangeRaw:function(){return Gl},geoLarrivee:function(){return Tc},geoLarriveeRaw:function(){return Go},geoLaskowski:function(){return kh},geoLaskowskiRaw:function(){return zo},geoLittrow:function(){return Qi},geoLittrowRaw:function(){return Ts},geoLoximuthal:function(){return qs},geoLoximuthalRaw:function(){return Of},geoMiller:function(){return zf},geoMillerRaw:function(){return As},geoModifiedStereographic:function(){return bl},geoModifiedStereographicAlaska:function(){return Nf},geoModifiedStereographicGs48:function(){return Bh},geoModifiedStereographicGs50:function(){return Uh},geoModifiedStereographicLee:function(){return Mc},geoModifiedStereographicMiller:function(){return Sc},geoModifiedStereographicRaw:function(){return Ac},geoMollweide:function(){return Ve},geoMollweideRaw:function(){return Re},geoMtFlatPolarParabolic:function(){return Ec},geoMtFlatPolarParabolicRaw:function(){return Su},geoMtFlatPolarQuartic:function(){return Vh},geoMtFlatPolarQuarticRaw:function(){return Bs},geoMtFlatPolarSinusoidal:function(){return Cc},geoMtFlatPolarSinusoidalRaw:function(){return lf},geoNaturalEarth:function(){return Lc.c},geoNaturalEarth2:function(){return as},geoNaturalEarth2Raw:function(){return uf},geoNaturalEarthRaw:function(){return Lc.g},geoNellHammer:function(){return wl},geoNellHammerRaw:function(){return Yl},geoNicolosi:function(){return Bf},geoNicolosiRaw:function(){return Ss},geoPatterson:function(){return Jl},geoPattersonRaw:function(){return cf},geoPeirceQuincuncial:function(){return kc},geoPierceQuincuncial:function(){return kc},geoPolyconic:function(){return Hh},geoPolyconicRaw:function(){return hf},geoPolyhedral:function(){return gi},geoPolyhedralButterfly:function(){return Cu},geoPolyhedralCollignon:function(){return Al},geoPolyhedralWaterman:function(){return rl},geoProject:function(){return Yh},geoQuantize:function(){return Fc},geoQuincuncial:function(){return js},geoRectangularPolyconic:function(){return Oc},geoRectangularPolyconicRaw:function(){return Yf},geoRobinson:function(){return nl},geoRobinsonRaw:function(){return fs},geoSatellite:function(){return Sl},geoSatelliteRaw:function(){return gf},geoSinuMollweide:function(){return Rn},geoSinuMollweideRaw:function(){return Tn},geoSinusoidal:function(){return We},geoSinusoidalRaw:function(){return at},geoStitch:function(){return ku},geoTimes:function(){return Wi},geoTimesRaw:function(){return ol},geoTwoPointAzimuthal:function(){return xf},geoTwoPointAzimuthalRaw:function(){return Zf},geoTwoPointAzimuthalUsa:function(){return El},geoTwoPointEquidistant:function(){return Bc},geoTwoPointEquidistantRaw:function(){return Fu},geoTwoPointEquidistantUsa:function(){return Kh},geoVanDerGrinten:function(){return Ou},geoVanDerGrinten2:function(){return Uc},geoVanDerGrinten2Raw:function(){return iu},geoVanDerGrinten3:function(){return Jh},geoVanDerGrinten3Raw:function(){return sl},geoVanDerGrinten4:function(){return zu},geoVanDerGrinten4Raw:function(){return Bo},geoVanDerGrintenRaw:function(){return mo},geoWagner:function(){return ll},geoWagner4:function(){return Vc},geoWagner4Raw:function(){return wf},geoWagner6:function(){return Jf},geoWagner6Raw:function(){return Uu},geoWagner7:function(){return Kf},geoWagnerRaw:function(){return Ws},geoWiechel:function(){return $f},geoWiechelRaw:function(){return Cl},geoWinkel3:function(){return jc},geoWinkel3Raw:function(){return Vu}});var g=e(87952),P=Math.abs,a=Math.atan,x=Math.atan2,w=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,i=Math.min,n=Math.pow,u=Math.round,f=Math.sign||function(Qe){return Qe>0?1:Qe<0?-1:0},l=Math.sin,y=Math.tan,h=1e-6,M=1e-12,c=Math.PI,o=c/2,d=c/4,T=Math.SQRT1_2,S=k(2),C=k(c),m=c*2,E=180/c,b=c/180;function s(Qe){return Qe?Qe/Math.sin(Qe):1}function L(Qe){return Qe>1?o:Qe<-1?-o:Math.asin(Qe)}function A(Qe){return Qe>1?0:Qe<-1?c:Math.acos(Qe)}function k(Qe){return Qe>0?Math.sqrt(Qe):0}function _(Qe){return Qe=v(2*Qe),(Qe-1)/(Qe+1)}function U(Qe){return(v(Qe)-v(-Qe))/2}function F(Qe){return(v(Qe)+v(-Qe))/2}function z(Qe){return r(Qe+k(Qe*Qe+1))}function B(Qe){return r(Qe+k(Qe*Qe-1))}function N(Qe){var ot=y(Qe/2),xt=2*r(w(Qe/2))/(ot*ot);function wt(Ot,_t){var Ut=w(Ot),pr=w(_t),wr=l(_t),ir=pr*Ut,Mr=-((1-ir?r((1+ir)/2)/(1-ir):-.5)+xt/(1+ir));return[Mr*pr*l(Ot),Mr*wr]}return wt.invert=function(Ot,_t){var Ut=k(Ot*Ot+_t*_t),pr=-Qe/2,wr=50,ir;if(!Ut)return[0,0];do{var Mr=pr/2,kr=w(Mr),Br=l(Mr),rn=Br/kr,bn=-r(P(kr));pr-=ir=(2/rn*bn-xt*rn-Ut)/(-bn/(Br*Br)+1-xt/(2*kr*kr))*(kr<0?.7:1)}while(P(ir)>h&&--wr>0);var In=l(pr);return[x(Ot*In,Ut*w(pr)),L(_t*In/Ut)]},wt}function V(){var Qe=o,ot=(0,g.U)(N),xt=ot(Qe);return xt.radius=function(wt){return arguments.length?ot(Qe=wt*b):Qe*E},xt.scale(179.976).clipAngle(147)}function W(Qe,ot){var xt=w(ot),wt=s(A(xt*w(Qe/=2)));return[2*xt*l(Qe)*wt,l(ot)*wt]}W.invert=function(Qe,ot){if(!(Qe*Qe+4*ot*ot>c*c+h)){var xt=Qe,wt=ot,Ot=25;do{var _t=l(xt),Ut=l(xt/2),pr=w(xt/2),wr=l(wt),ir=w(wt),Mr=l(2*wt),kr=wr*wr,Br=ir*ir,rn=Ut*Ut,bn=1-Br*pr*pr,In=bn?A(ir*pr)*k(_n=1/bn):_n=0,_n,Zn=2*In*ir*Ut-Qe,Ra=In*wr-ot,Da=_n*(Br*rn+In*ir*pr*kr),Ia=_n*(.5*_t*Mr-In*2*wr*Ut),za=_n*.25*(Mr*Ut-In*wr*Br*_t),Xa=_n*(kr*pr+In*rn*ir),vi=Ia*za-Xa*Da;if(!vi)break;var Oi=(Ra*Ia-Zn*Xa)/vi,ce=(Zn*za-Ra*Da)/vi;xt-=Oi,wt-=ce}while((P(Oi)>h||P(ce)>h)&&--Ot>0);return[xt,wt]}};function Q(){return(0,g.c)(W).scale(152.63)}function re(Qe){var ot=l(Qe),xt=w(Qe),wt=Qe>=0?1:-1,Ot=y(wt*Qe),_t=(1+ot-xt)/2;function Ut(pr,wr){var ir=w(wr),Mr=w(pr/=2);return[(1+ir)*l(pr),(wt*wr>-x(Mr,Ot)-.001?0:-wt*10)+_t+l(wr)*xt-(1+ir)*ot*Mr]}return Ut.invert=function(pr,wr){var ir=0,Mr=0,kr=50;do{var Br=w(ir),rn=l(ir),bn=w(Mr),In=l(Mr),_n=1+bn,Zn=_n*rn-pr,Ra=_t+In*xt-_n*ot*Br-wr,Da=_n*Br/2,Ia=-rn*In,za=ot*_n*rn/2,Xa=xt*bn+ot*Br*In,vi=Ia*za-Xa*Da,Oi=(Ra*Ia-Zn*Xa)/vi/2,ce=(Zn*za-Ra*Da)/vi;P(ce)>2&&(ce/=2),ir-=Oi,Mr-=ce}while((P(Oi)>h||P(ce)>h)&&--kr>0);return wt*Mr>-x(w(ir),Ot)-.001?[ir*2,Mr]:null},Ut}function ne(){var Qe=20*b,ot=Qe>=0?1:-1,xt=y(ot*Qe),wt=(0,g.U)(re),Ot=wt(Qe),_t=Ot.stream;return Ot.parallel=function(Ut){return arguments.length?(xt=y((ot=(Qe=Ut*b)>=0?1:-1)*Qe),wt(Qe)):Qe*E},Ot.stream=function(Ut){var pr=Ot.rotate(),wr=_t(Ut),ir=(Ot.rotate([0,0]),_t(Ut)),Mr=Ot.precision();return Ot.rotate(pr),wr.sphere=function(){ir.polygonStart(),ir.lineStart();for(var kr=ot*-180;ot*kr<180;kr+=ot*90)ir.point(kr,ot*90);if(Qe)for(;ot*(kr-=3*ot*Mr)>=-180;)ir.point(kr,ot*-x(w(kr*b/2),xt)*E);ir.lineEnd(),ir.polygonEnd()},wr},Ot.scale(218.695).center([0,28.0974])}function fe(Qe,ot){var xt=y(ot/2),wt=k(1-xt*xt),Ot=1+wt*w(Qe/=2),_t=l(Qe)*wt/Ot,Ut=xt/Ot,pr=_t*_t,wr=Ut*Ut;return[1.3333333333333333*_t*(3+pr-3*wr),1.3333333333333333*Ut*(3+3*pr-wr)]}fe.invert=function(Qe,ot){if(Qe*=.375,ot*=.375,!Qe&&P(ot)>1)return null;var xt=Qe*Qe,wt=ot*ot,Ot=1+xt+wt,_t=k((Ot-k(Ot*Ot-4*ot*ot))/2),Ut=L(_t)/3,pr=_t?B(P(ot/_t))/3:z(P(Qe))/3,wr=w(Ut),ir=F(pr),Mr=ir*ir-wr*wr;return[f(Qe)*2*x(U(pr)*wr,.25-Mr),f(ot)*2*x(ir*l(Ut),.25+Mr)]};function $(){return(0,g.c)(fe).scale(66.1603)}var X=k(8),oe=r(1+S);function Y(Qe,ot){var xt=P(ot);return xt<d?[Qe,r(y(d+ot/2))]:[Qe*w(xt)*(2*S-1/l(xt)),f(ot)*(2*S*(xt-d)-r(y(xt/2)))]}Y.invert=function(Qe,ot){if((_t=P(ot))<oe)return[Qe,2*a(v(ot))-o];var xt=d,wt=25,Ot,_t;do{var Ut=w(xt/2),pr=y(xt/2);xt-=Ot=(X*(xt-d)-r(pr)-_t)/(X-Ut*Ut/(2*pr))}while(P(Ot)>M&&--wt>0);return[Qe/(w(xt)*(X-1/l(xt))),f(ot)*xt]};function ee(){return(0,g.c)(Y).scale(112.314)}var se=e(69020);function q(Qe){var ot=2*c/Qe;function xt(wt,Ot){var _t=(0,se.O)(wt,Ot);if(P(wt)>o){var Ut=x(_t[1],_t[0]),pr=k(_t[0]*_t[0]+_t[1]*_t[1]),wr=ot*u((Ut-o)/ot)+o,ir=x(l(Ut-=wr),2-w(Ut));Ut=wr+L(c/pr*l(ir))-ir,_t[0]=pr*w(Ut),_t[1]=pr*l(Ut)}return _t}return xt.invert=function(wt,Ot){var _t=k(wt*wt+Ot*Ot);if(_t>o){var Ut=x(Ot,wt),pr=ot*u((Ut-o)/ot)+o,wr=Ut>pr?-1:1,ir=_t*w(pr-Ut),Mr=1/y(wr*A((ir-c)/k(c*(c-2*ir)+_t*_t)));Ut=pr+2*a((Mr+wr*k(Mr*Mr-3))/3),wt=_t*w(Ut),Ot=_t*l(Ut)}return se.O.invert(wt,Ot)},xt}function K(){var Qe=5,ot=(0,g.U)(q),xt=ot(Qe),wt=xt.stream,Ot=.01,_t=-w(Ot*b),Ut=l(Ot*b);return xt.lobes=function(pr){return arguments.length?ot(Qe=+pr):Qe},xt.stream=function(pr){var wr=xt.rotate(),ir=wt(pr),Mr=(xt.rotate([0,0]),wt(pr));return xt.rotate(wr),ir.sphere=function(){Mr.polygonStart(),Mr.lineStart();for(var kr=0,Br=360/Qe,rn=2*c/Qe,bn=90-180/Qe,In=o;kr<Qe;++kr,bn-=Br,In-=rn)Mr.point(x(Ut*w(In),_t)*E,L(Ut*l(In))*E),bn<-90?(Mr.point(-90,-180-bn-Ot),Mr.point(-90,-180-bn+Ot)):(Mr.point(90,bn+Ot),Mr.point(90,bn-Ot));Mr.lineEnd(),Mr.polygonEnd()},ir},xt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(54724);function ie(Qe,ot){if(arguments.length<2&&(ot=Qe),ot===1)return le.y;if(ot===1/0)return he;function xt(wt,Ot){var _t=(0,le.y)(wt/ot,Ot);return _t[0]*=Qe,_t}return xt.invert=function(wt,Ot){var _t=le.y.invert(wt/Qe,Ot);return _t[0]*=ot,_t},xt}function he(Qe,ot){return[Qe*w(ot)/w(ot/=2),2*l(ot)]}he.invert=function(Qe,ot){var xt=2*L(ot/2);return[Qe*w(xt/2)/w(xt),xt]};function ye(){var Qe=2,ot=(0,g.U)(ie),xt=ot(Qe);return xt.coefficient=function(wt){return arguments.length?ot(Qe=+wt):Qe},xt.scale(169.529)}function Ce(Qe,ot,xt){var wt=100,Ot,_t,Ut;xt=xt===void 0?0:+xt,ot=+ot;do _t=Qe(xt),Ut=Qe(xt+h),_t===Ut&&(Ut=_t+h),xt-=Ot=-1*h*(_t-ot)/(_t-Ut);while(wt-- >0&&P(Ot)>h);return wt<0?NaN:xt}function Ae(Qe,ot,xt){return ot===void 0&&(ot=40),xt===void 0&&(xt=M),function(wt,Ot,_t,Ut){var pr,wr,ir;_t=_t===void 0?0:+_t,Ut=Ut===void 0?0:+Ut;for(var Mr=0;Mr<ot;Mr++){var kr=Qe(_t,Ut),Br=kr[0]-wt,rn=kr[1]-Ot;if(P(Br)<xt&&P(rn)<xt)break;var bn=Br*Br+rn*rn;if(bn>pr){_t-=wr/=2,Ut-=ir/=2;continue}pr=bn;var In=(_t>0?-1:1)*xt,_n=(Ut>0?-1:1)*xt,Zn=Qe(_t+In,Ut),Ra=Qe(_t,Ut+_n),Da=(Zn[0]-kr[0])/In,Ia=(Zn[1]-kr[1])/In,za=(Ra[0]-kr[0])/_n,Xa=(Ra[1]-kr[1])/_n,vi=Xa*Da-Ia*za,Oi=(P(vi)<.5?.5:1)/vi;if(wr=(rn*za-Br*Xa)*Oi,ir=(Br*Ia-rn*Da)*Oi,_t+=wr,Ut+=ir,P(wr)<xt&&P(ir)<xt)break}return[_t,Ut]}}function ke(){var Qe=ie(1.68,2),ot=1.4,xt=12;function wt(Ot,_t){if(Ot+_t<-ot){var Ut=(Ot-_t+1.6)*(Ot+_t+ot)/8;Ot+=Ut,_t-=.8*Ut*l(_t+c/2)}var pr=Qe(Ot,_t),wr=(1-w(Ot*_t))/xt;return pr[1]<0&&(pr[0]*=1+wr),pr[1]>0&&(pr[1]*=1+wr/1.5*pr[0]*pr[0]),pr}return wt.invert=Ae(wt),wt}function we(){return(0,g.c)(ke()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ee(Qe,ot){var xt=Qe*l(ot),wt=30,Ot;do ot-=Ot=(ot+l(ot)-xt)/(1+w(ot));while(P(Ot)>h&&--wt>0);return ot/2}function xe(Qe,ot,xt){function wt(Ot,_t){return[Qe*Ot*w(_t=Ee(xt,_t)),ot*l(_t)]}return wt.invert=function(Ot,_t){return _t=L(_t/ot),[Ot/(Qe*w(_t)),L((2*_t+l(2*_t))/xt)]},wt}var Re=xe(S/o,S,c);function Ve(){return(0,g.c)(Re).scale(169.529)}var Ue=2.00276,Be=1.11072;function Xe(Qe,ot){var xt=Ee(c,ot);return[Ue*Qe/(1/w(ot)+Be/w(xt)),(ot+S*l(xt))/Ue]}Xe.invert=function(Qe,ot){var xt=Ue*ot,wt=ot<0?-d:d,Ot=25,_t,Ut;do Ut=xt-S*l(wt),wt-=_t=(l(2*wt)+2*wt-c*l(Ut))/(2*w(2*wt)+2+c*w(Ut)*S*w(wt));while(P(_t)>h&&--Ot>0);return Ut=xt-S*l(wt),[Qe*(1/w(Ut)+Be/w(wt))/Ue,Ut]};function ut(){return(0,g.c)(Xe).scale(160.857)}function dt(Qe){var ot=0,xt=(0,g.U)(Qe),wt=xt(ot);return wt.parallel=function(Ot){return arguments.length?xt(ot=Ot*b):ot*E},wt}function at(Qe,ot){return[Qe*w(ot),ot]}at.invert=function(Qe,ot){return[Qe/w(ot),ot]};function We(){return(0,g.c)(at).scale(152.63)}function rt(Qe){if(!Qe)return at;var ot=1/y(Qe);function xt(wt,Ot){var _t=ot+Qe-Ot,Ut=_t&&wt*w(Ot)/_t;return[_t*l(Ut),ot-_t*w(Ut)]}return xt.invert=function(wt,Ot){var _t=k(wt*wt+(Ot=ot-Ot)*Ot),Ut=ot+Qe-_t;return[_t/w(Ut)*x(wt,Ot),Ut]},xt}function st(){return dt(rt).scale(123.082).center([0,26.1441]).parallel(45)}function ht(Qe){function ot(xt,wt){var Ot=o-wt,_t=Ot&&xt*Qe*l(Ot)/Ot;return[Ot*l(_t)/Qe,o-Ot*w(_t)]}return ot.invert=function(xt,wt){var Ot=xt*Qe,_t=o-wt,Ut=k(Ot*Ot+_t*_t),pr=x(Ot,_t);return[(Ut?Ut/l(Ut):1)*pr/Qe,o-Ut]},ot}function vt(){var Qe=.5,ot=(0,g.U)(ht),xt=ot(Qe);return xt.fraction=function(wt){return arguments.length?ot(Qe=+wt):Qe},xt.scale(158.837)}var At=xe(1,4/c,c);function tt(){return(0,g.c)(At).scale(152.63)}var _e=e(24052),je=e(92992);function Ke(Qe,ot,xt,wt,Ot,_t){var Ut=w(_t),pr;if(P(Qe)>1||P(_t)>1)pr=A(xt*Ot+ot*wt*Ut);else{var wr=l(Qe/2),ir=l(_t/2);pr=2*L(k(wr*wr+ot*wt*ir*ir))}return P(pr)>h?[pr,x(wt*l(_t),ot*Ot-xt*wt*Ut)]:[0,0]}function He(Qe,ot,xt){return A((Qe*Qe+ot*ot-xt*xt)/(2*Qe*ot))}function Ie(Qe){return Qe-2*c*p((Qe+c)/(2*c))}function be(Qe,ot,xt){for(var wt=[[Qe[0],Qe[1],l(Qe[1]),w(Qe[1])],[ot[0],ot[1],l(ot[1]),w(ot[1])],[xt[0],xt[1],l(xt[1]),w(xt[1])]],Ot=wt[2],_t,Ut=0;Ut<3;++Ut,Ot=_t)_t=wt[Ut],Ot.v=Ke(_t[1]-Ot[1],Ot[3],Ot[2],_t[3],_t[2],_t[0]-Ot[0]),Ot.point=[0,0];var pr=He(wt[0].v[0],wt[2].v[0],wt[1].v[0]),wr=He(wt[0].v[0],wt[1].v[0],wt[2].v[0]),ir=c-pr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Mr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*w(pr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*l(pr))];function kr(Br,rn){var bn=l(rn),In=w(rn),_n=new Array(3),Zn;for(Zn=0;Zn<3;++Zn){var Ra=wt[Zn];if(_n[Zn]=Ke(rn-Ra[1],Ra[3],Ra[2],In,bn,Br-Ra[0]),!_n[Zn][0])return Ra.point;_n[Zn][1]=Ie(_n[Zn][1]-Ra.v[1])}var Da=Mr.slice();for(Zn=0;Zn<3;++Zn){var Ia=Zn==2?0:Zn+1,za=He(wt[Zn].v[0],_n[Zn][0],_n[Ia][0]);_n[Zn][1]<0&&(za=-za),Zn?Zn==1?(za=wr-za,Da[0]-=_n[Zn][0]*w(za),Da[1]-=_n[Zn][0]*l(za)):(za=ir-za,Da[0]+=_n[Zn][0]*w(za),Da[1]+=_n[Zn][0]*l(za)):(Da[0]+=_n[Zn][0]*w(za),Da[1]-=_n[Zn][0]*l(za))}return Da[0]/=3,Da[1]/=3,Da}return kr}function me(Qe){return Qe[0]*=b,Qe[1]*=b,Qe}function Me(){return Te([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Te(Qe,ot,xt){var wt=(0,_e.c)({type:"MultiPoint",coordinates:[Qe,ot,xt]}),Ot=[-wt[0],-wt[1]],_t=(0,je.c)(Ot),Ut=be(me(_t(Qe)),me(_t(ot)),me(_t(xt)));Ut.invert=Ae(Ut);var pr=(0,g.c)(Ut).rotate(Ot),wr=pr.center;return delete pr.rotate,pr.center=function(ir){return arguments.length?wr(_t(ir)):_t.invert(wr())},pr.clipAngle(90)}function ze(Qe,ot){var xt=k(1-l(ot));return[2/C*Qe*xt,C*(1-xt)]}ze.invert=function(Qe,ot){var xt=(xt=ot/C-1)*xt;return[xt>0?Qe*k(c/xt)/2:0,L(1-xt)]};function Je(){return(0,g.c)(ze).scale(95.6464).center([0,30])}function nt(Qe){var ot=y(Qe);function xt(wt,Ot){return[wt,(wt?wt/l(wt):1)*(l(Ot)*w(wt)-ot*w(Ot))]}return xt.invert=ot?function(wt,Ot){wt&&(Ot*=l(wt)/wt);var _t=w(wt);return[wt,2*x(k(_t*_t+ot*ot-Ot*Ot)-_t,ot-Ot)]}:function(wt,Ot){return[wt,L(wt?Ot*y(wt)/wt:Ot)]},xt}function pt(){return dt(nt).scale(249.828).clipAngle(90)}var yt=k(3);function Yt(Qe,ot){return[yt*Qe*(2*w(2*ot/3)-1)/C,yt*C*l(ot/3)]}Yt.invert=function(Qe,ot){var xt=3*L(ot/(yt*C));return[C*Qe/(yt*(2*w(2*xt/3)-1)),xt]};function Xt(){return(0,g.c)(Yt).scale(156.19)}function St(Qe){var ot=w(Qe);function xt(wt,Ot){return[wt*ot,l(Ot)/ot]}return xt.invert=function(wt,Ot){return[wt/ot,L(Ot*ot)]},xt}function kt(){return dt(St).parallel(38.58).scale(195.044)}function Kt(Qe){var ot=w(Qe);function xt(wt,Ot){return[wt*ot,(1+ot)*y(Ot/2)]}return xt.invert=function(wt,Ot){return[wt/ot,a(Ot/(1+ot))*2]},xt}function mr(){return dt(Kt).scale(124.75)}function mt(Qe,ot){var xt=k(8/(3*c));return[xt*Qe*(1-P(ot)/c),xt*ot]}mt.invert=function(Qe,ot){var xt=k(8/(3*c)),wt=ot/xt;return[Qe/(xt*(1-P(wt)/c)),wt]};function Zt(){return(0,g.c)(mt).scale(165.664)}function Qt(Qe,ot){var xt=k(4-3*l(P(ot)));return[2/k(6*c)*Qe*xt,f(ot)*k(2*c/3)*(2-xt)]}Qt.invert=function(Qe,ot){var xt=2-P(ot)/k(2*c/3);return[Qe*k(6*c)/(2*xt),f(ot)*L((4-xt*xt)/3)]};function yr(){return(0,g.c)(Qt).scale(165.664)}function sr(Qe,ot){var xt=k(c*(4+c));return[2/xt*Qe*(1+k(1-4*ot*ot/(c*c))),4/xt*ot]}sr.invert=function(Qe,ot){var xt=k(c*(4+c))/2;return[Qe*xt/(1+k(1-ot*ot*(4+c)/(4*c))),ot*xt/2]};function bt(){return(0,g.c)(sr).scale(180.739)}function lt(Qe,ot){var xt=(2+o)*l(ot);ot/=2;for(var wt=0,Ot=1/0;wt<10&&P(Ot)>h;wt++){var _t=w(ot);ot-=Ot=(ot+l(ot)*(_t+2)-xt)/(2*_t*(1+_t))}return[2/k(c*(4+c))*Qe*(1+w(ot)),2*k(c/(4+c))*l(ot)]}lt.invert=function(Qe,ot){var xt=ot*k((4+c)/c)/2,wt=L(xt),Ot=w(wt);return[Qe/(2/k(c*(4+c))*(1+Ot)),L((wt+xt*(Ot+2))/(2+o))]};function Tt(){return(0,g.c)(lt).scale(180.739)}function Ct(Qe,ot){return[Qe*(1+w(ot))/k(2+c),2*ot/k(2+c)]}Ct.invert=function(Qe,ot){var xt=k(2+c),wt=ot*xt/2;return[xt*Qe/(1+w(wt)),wt]};function It(){return(0,g.c)(Ct).scale(173.044)}function Dt(Qe,ot){for(var xt=(1+o)*l(ot),wt=0,Ot=1/0;wt<10&&P(Ot)>h;wt++)ot-=Ot=(ot+l(ot)-xt)/(1+w(ot));return xt=k(2+c),[Qe*(1+w(ot))/xt,2*ot/xt]}Dt.invert=function(Qe,ot){var xt=1+o,wt=k(xt/2);return[Qe*2*wt/(1+w(ot*=wt)),L((ot+l(ot))/xt)]};function Vt(){return(0,g.c)(Dt).scale(173.044)}var Bt=3+2*S;function $t(Qe,ot){var xt=l(Qe/=2),wt=w(Qe),Ot=k(w(ot)),_t=w(ot/=2),Ut=l(ot)/(_t+S*wt*Ot),pr=k(2/(1+Ut*Ut)),wr=k((S*_t+(wt+xt)*Ot)/(S*_t+(wt-xt)*Ot));return[Bt*(pr*(wr-1/wr)-2*r(wr)),Bt*(pr*Ut*(wr+1/wr)-2*a(Ut))]}$t.invert=function(Qe,ot){if(!(_t=fe.invert(Qe/1.2,ot*1.065)))return null;var xt=_t[0],wt=_t[1],Ot=20,_t;Qe/=Bt,ot/=Bt;do{var Ut=xt/2,pr=wt/2,wr=l(Ut),ir=w(Ut),Mr=l(pr),kr=w(pr),Br=w(wt),rn=k(Br),bn=Mr/(kr+S*ir*rn),In=bn*bn,_n=k(2/(1+In)),Zn=S*kr+(ir+wr)*rn,Ra=S*kr+(ir-wr)*rn,Da=Zn/Ra,Ia=k(Da),za=Ia-1/Ia,Xa=Ia+1/Ia,vi=_n*za-2*r(Ia)-Qe,Oi=_n*bn*Xa-2*a(bn)-ot,ce=Mr&&T*rn*wr*In/Mr,Pe=(S*ir*kr+rn)/(2*(kr+S*ir*rn)*(kr+S*ir*rn)*rn),Ne=-.5*bn*_n*_n*_n,et=Ne*ce,it=Ne*Pe,ct=(ct=2*kr+S*rn*(ir-wr))*ct*Ia,Pt=(S*ir*kr*rn+Br)/ct,Mt=-(S*wr*Mr)/(rn*ct),Ht=za*et-2*Pt/Ia+_n*(Pt+Pt/Da),Gt=za*it-2*Mt/Ia+_n*(Mt+Mt/Da),rr=bn*Xa*et-2*ce/(1+In)+_n*Xa*ce+_n*bn*(Pt-Pt/Da),Lr=bn*Xa*it-2*Pe/(1+In)+_n*Xa*Pe+_n*bn*(Mt-Mt/Da),Rr=Gt*rr-Lr*Ht;if(!Rr)break;var $r=(Oi*Gt-vi*Lr)/Rr,sn=(vi*rr-Oi*Ht)/Rr;xt-=$r,wt=t(-o,i(o,wt-sn))}while((P($r)>h||P(sn)>h)&&--Ot>0);return P(P(wt)-o)<h?[0,wt]:Ot&&[xt,wt]};function fr(){return(0,g.c)($t).scale(62.5271)}var cr=w(35*b);function dr(Qe,ot){var xt=y(ot/2);return[Qe*cr*k(1-xt*xt),(1+cr)*xt]}dr.invert=function(Qe,ot){var xt=ot/(1+cr);return[Qe&&Qe/(cr*k(1-xt*xt)),2*a(xt)]};function Ye(){return(0,g.c)(dr).scale(137.152)}function Ge(Qe,ot){var xt=ot/2,wt=w(xt);return[2*Qe/C*w(ot)*wt*wt,C*y(xt)]}Ge.invert=function(Qe,ot){var xt=a(ot/C),wt=w(xt),Ot=2*xt;return[Qe*C/2/(w(Ot)*wt*wt),Ot]};function zt(){return(0,g.c)(Ge).scale(135.264)}function Ft(Qe){var ot=1-Qe,xt=_t(c,0)[0]-_t(-c,0)[0],wt=_t(0,o)[1]-_t(0,-o)[1],Ot=k(2*wt/xt);function _t(wr,ir){var Mr=w(ir),kr=l(ir);return[Mr/(ot+Qe*Mr)*wr,ot*ir+Qe*kr]}function Ut(wr,ir){var Mr=_t(wr,ir);return[Mr[0]*Ot,Mr[1]/Ot]}function pr(wr){return Ut(0,wr)[1]}return Ut.invert=function(wr,ir){var Mr=Ce(pr,ir),kr=wr/Ot*(Qe+ot/w(Mr));return[kr,Mr]},Ut}function Jt(){var Qe=.5,ot=(0,g.U)(Ft),xt=ot(Qe);return xt.alpha=function(wt){return arguments.length?ot(Qe=+wt):Qe},xt.scale(168.725)}var tr=e(4888),ur=e(69604);function nr(Qe){return[Qe[0]/2,L(y(Qe[1]/2*b))*E]}function Nt(Qe){return[Qe[0]*2,2*a(l(Qe[1]*b))*E]}function hr(Qe){Qe==null&&(Qe=tr.c);var ot=Qe(),xt=(0,ur.c)().scale(E).precision(0).clipAngle(null).translate([0,0]);function wt(_t){return ot(nr(_t))}ot.invert&&(wt.invert=function(_t){return Nt(ot.invert(_t))}),wt.stream=function(_t){var Ut=ot.stream(_t),pr=xt.stream({point:function(wr,ir){Ut.point(wr/2,L(y(-ir/2*b))*E)},lineStart:function(){Ut.lineStart()},lineEnd:function(){Ut.lineEnd()},polygonStart:function(){Ut.polygonStart()},polygonEnd:function(){Ut.polygonEnd()}});return pr.sphere=Ut.sphere,pr};function Ot(_t){wt[_t]=function(){return arguments.length?(ot[_t].apply(ot,arguments),wt):ot[_t]()}}return wt.rotate=function(_t){return arguments.length?(xt.rotate(_t),wt):xt.rotate()},wt.center=function(_t){return arguments.length?(ot.center(nr(_t)),wt):Nt(ot.center())},Ot("angle"),Ot("clipAngle"),Ot("clipExtent"),Ot("fitExtent"),Ot("fitHeight"),Ot("fitSize"),Ot("fitWidth"),Ot("scale"),Ot("translate"),Ot("precision"),wt.scale(249.5)}function gr(Qe,ot){var xt=2*c/ot,wt=Qe*Qe;function Ot(_t,Ut){var pr=(0,se.O)(_t,Ut),wr=pr[0],ir=pr[1],Mr=wr*wr+ir*ir;if(Mr>wt){var kr=k(Mr),Br=x(ir,wr),rn=xt*u(Br/xt),bn=Br-rn,In=Qe*w(bn),_n=(Qe*l(bn)-bn*l(In))/(o-In),Zn=br(bn,_n),Ra=(c-Qe)/vr(Zn,In,c);wr=kr;var Da=50,Ia;do wr-=Ia=(Qe+vr(Zn,In,wr)*Ra-kr)/(Zn(wr)*Ra);while(P(Ia)>h&&--Da>0);ir=bn*l(wr),wr<o&&(ir-=_n*(wr-o));var za=l(rn),Xa=w(rn);pr[0]=wr*Xa-ir*za,pr[1]=wr*za+ir*Xa}return pr}return Ot.invert=function(_t,Ut){var pr=_t*_t+Ut*Ut;if(pr>wt){var wr=k(pr),ir=x(Ut,_t),Mr=xt*u(ir/xt),kr=ir-Mr;_t=wr*w(kr),Ut=wr*l(kr);for(var Br=_t-o,rn=l(_t),bn=Ut/rn,In=_t<o?1/0:0,_n=10;;){var Zn=Qe*l(bn),Ra=Qe*w(bn),Da=l(Ra),Ia=o-Ra,za=(Zn-bn*Da)/Ia,Xa=br(bn,za);if(P(In)<M||!--_n)break;bn-=In=(bn*rn-za*Br-Ut)/(rn-Br*2*(Ia*(Ra+bn*Zn*w(Ra)-Da)-Zn*(Zn-bn*Da))/(Ia*Ia))}wr=Qe+vr(Xa,Ra,_t)*(c-Qe)/vr(Xa,Ra,c),ir=Mr+bn,_t=wr*w(ir),Ut=wr*l(ir)}return se.O.invert(_t,Ut)},Ot}function br(Qe,ot){return function(xt){var wt=Qe*w(xt);return xt<o&&(wt-=ot),k(1+wt*wt)}}function vr(Qe,ot,xt){for(var wt=50,Ot=(xt-ot)/wt,_t=Qe(ot)+Qe(xt),Ut=1,pr=ot;Ut<wt;++Ut)_t+=2*Qe(pr+=Ot);return _t*.5*Ot}function Gr(){var Qe=6,ot=30*b,xt=w(ot),wt=l(ot),Ot=(0,g.U)(gr),_t=Ot(ot,Qe),Ut=_t.stream,pr=.01,wr=-w(pr*b),ir=l(pr*b);return _t.radius=function(Mr){return arguments.length?(xt=w(ot=Mr*b),wt=l(ot),Ot(ot,Qe)):ot*E},_t.lobes=function(Mr){return arguments.length?Ot(ot,Qe=+Mr):Qe},_t.stream=function(Mr){var kr=_t.rotate(),Br=Ut(Mr),rn=(_t.rotate([0,0]),Ut(Mr));return _t.rotate(kr),Br.sphere=function(){rn.polygonStart(),rn.lineStart();for(var bn=0,In=2*c/Qe,_n=0;bn<Qe;++bn,_n-=In)rn.point(x(ir*w(_n),wr)*E,L(ir*l(_n))*E),rn.point(x(wt*w(_n-In/2),xt)*E,L(wt*l(_n-In/2))*E);rn.lineEnd(),rn.polygonEnd()},Br},_t.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Dr(Qe,ot,xt,wt,Ot,_t,Ut,pr){arguments.length<8&&(pr=0);function wr(ir,Mr){if(!Mr)return[Qe*ir/c,0];var kr=Mr*Mr,Br=Qe+kr*(ot+kr*(xt+kr*wt)),rn=Mr*(Ot-1+kr*(_t-pr+kr*Ut)),bn=(Br*Br+rn*rn)/(2*rn),In=ir*L(Br/bn)/c;return[bn*l(In),Mr*(1+kr*pr)+bn*(1-w(In))]}return wr.invert=function(ir,Mr){var kr=c*ir/Qe,Br=Mr,rn,bn,In=50;do{var _n=Br*Br,Zn=Qe+_n*(ot+_n*(xt+_n*wt)),Ra=Br*(Ot-1+_n*(_t-pr+_n*Ut)),Da=Zn*Zn+Ra*Ra,Ia=2*Ra,za=Da/Ia,Xa=za*za,vi=L(Zn/za)/c,Oi=kr*vi,ce=Zn*Zn,Pe=(2*ot+_n*(4*xt+_n*6*wt))*Br,Ne=Ot+_n*(3*_t+_n*5*Ut),et=2*(Zn*Pe+Ra*(Ne-1)),it=2*(Ne-1),ct=(et*Ia-Da*it)/(Ia*Ia),Pt=w(Oi),Mt=l(Oi),Ht=za*Pt,Gt=za*Mt,rr=kr/c*(1/k(1-ce/Xa))*(Pe*za-Zn*ct)/Xa,Lr=Gt-ir,Rr=Br*(1+_n*pr)+za-Ht-Mr,$r=ct*Mt+Ht*rr,sn=Ht*vi,Ir=1+ct-(ct*Pt-Gt*rr),Ur=Gt*vi,Kr=$r*Ur-Ir*sn;if(!Kr)break;kr-=rn=(Rr*$r-Lr*Ir)/Kr,Br-=bn=(Lr*Ur-Rr*sn)/Kr}while((P(rn)>h||P(bn)>h)&&--In>0);return[kr,Br]},wr}var _r=Dr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function hn(){return(0,g.c)(_r).scale(149.995)}var nn=Dr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Pn(){return(0,g.c)(nn).scale(153.93)}var Cn=Dr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ar(){return(0,g.c)(Cn).scale(130.945)}function Pr(Qe,ot){var xt=Qe*Qe,wt=ot*ot;return[Qe*(1-.162388*wt)*(.87-952426e-9*xt*xt),ot*(1+wt/12)]}Pr.invert=function(Qe,ot){var xt=Qe,wt=ot,Ot=50,_t;do{var Ut=wt*wt;wt-=_t=(wt*(1+Ut/12)-ot)/(1+Ut/4)}while(P(_t)>h&&--Ot>0);Ot=50,Qe/=1-.162388*Ut;do{var pr=(pr=xt*xt)*pr;xt-=_t=(xt*(.87-952426e-9*pr)-Qe)/(.87-.00476213*pr)}while(P(_t)>h&&--Ot>0);return[xt,wt]};function Wr(){return(0,g.c)(Pr).scale(131.747)}var Vr=Dr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function on(){return(0,g.c)(Vr).scale(131.087)}function yn(Qe){var ot=Qe(o,0)[0]-Qe(-o,0)[0];function xt(wt,Ot){var _t=wt>0?-.5:.5,Ut=Qe(wt+_t*c,Ot);return Ut[0]-=_t*ot,Ut}return Qe.invert&&(xt.invert=function(wt,Ot){var _t=wt>0?-.5:.5,Ut=Qe.invert(wt+_t*ot,Ot),pr=Ut[0]-_t*c;return pr<-c?pr+=2*c:pr>c&&(pr-=2*c),Ut[0]=pr,Ut}),xt}function mn(Qe,ot){var xt=f(Qe),wt=f(ot),Ot=w(ot),_t=w(Qe)*Ot,Ut=l(Qe)*Ot,pr=l(wt*ot);Qe=P(x(Ut,pr)),ot=L(_t),P(Qe-o)>h&&(Qe%=o);var wr=Ln(Qe>c/4?o-Qe:Qe,ot);return Qe>c/4&&(pr=wr[0],wr[0]=-wr[1],wr[1]=-pr),wr[0]*=xt,wr[1]*=-wt,wr}mn.invert=function(Qe,ot){P(Qe)>1&&(Qe=f(Qe)*2-Qe),P(ot)>1&&(ot=f(ot)*2-ot);var xt=f(Qe),wt=f(ot),Ot=-xt*Qe,_t=-wt*ot,Ut=_t/Ot<1,pr=zn(Ut?_t:Ot,Ut?Ot:_t),wr=pr[0],ir=pr[1],Mr=w(ir);return Ut&&(wr=-o-wr),[xt*(x(l(wr)*Mr,-l(ir))+c),wt*L(w(wr)*Mr)]};function Ln(Qe,ot){if(ot===o)return[0,0];var xt=l(ot),wt=xt*xt,Ot=wt*wt,_t=1+Ot,Ut=1+3*Ot,pr=1-Ot,wr=L(1/k(_t)),ir=pr+wt*_t*wr,Mr=(1-xt)/ir,kr=k(Mr),Br=Mr*_t,rn=k(Br),bn=kr*pr,In,_n;if(Qe===0)return[0,-(bn+wt*rn)];var Zn=w(ot),Ra=1/Zn,Da=2*xt*Zn,Ia=(-3*wt+wr*Ut)*Da,za=(-ir*Zn-(1-xt)*Ia)/(ir*ir),Xa=.5*za/kr,vi=pr*Xa-2*wt*kr*Da,Oi=wt*_t*za+Mr*Ut*Da,ce=-Ra*Da,Pe=-Ra*Oi,Ne=-2*Ra*vi,et=4*Qe/c,it;if(Qe>.222*c||ot<c/4&&Qe>.175*c){if(In=(bn+wt*k(Br*(1+Ot)-bn*bn))/(1+Ot),Qe>c/4)return[In,In];var ct=In,Pt=.5*In;In=.5*(Pt+ct),_n=50;do{var Mt=k(Br-In*In),Ht=In*(Ne+ce*Mt)+Pe*L(In/rn)-et;if(!Ht)break;Ht<0?Pt=In:ct=In,In=.5*(Pt+ct)}while(P(ct-Pt)>h&&--_n>0)}else{In=h,_n=25;do{var Gt=In*In,rr=k(Br-Gt),Lr=Ne+ce*rr,Rr=In*Lr+Pe*L(In/rn)-et,$r=Lr+(Pe-ce*Gt)/rr;In-=it=rr?Rr/$r:0}while(P(it)>h&&--_n>0)}return[In,-bn-wt*k(Br-In*In)]}function zn(Qe,ot){for(var xt=0,wt=1,Ot=.5,_t=50;;){var Ut=Ot*Ot,pr=k(Ot),wr=L(1/k(1+Ut)),ir=1-Ut+Ot*(1+Ut)*wr,Mr=(1-pr)/ir,kr=k(Mr),Br=Mr*(1+Ut),rn=kr*(1-Ut),bn=Br-Qe*Qe,In=k(bn),_n=ot+rn+Ot*In;if(P(wt-xt)<M||--_t===0||_n===0)break;_n>0?xt=Ot:wt=Ot,Ot=.5*(xt+wt)}if(!_t)return null;var Zn=L(pr),Ra=w(Zn),Da=1/Ra,Ia=2*pr*Ra,za=(-3*Ot+wr*(1+3*Ut))*Ia,Xa=(-ir*Ra-(1-pr)*za)/(ir*ir),vi=.5*Xa/kr,Oi=(1-Ut)*vi-2*Ot*kr*Ia,ce=-2*Da*Oi,Pe=-Da*Ia,Ne=-Da*(Ot*(1+Ut)*Xa+Mr*(1+3*Ut)*Ia);return[c/4*(Qe*(ce+Pe*In)+Ne*L(Qe/k(Br))),Zn]}function aa(){return(0,g.c)(yn(mn)).scale(239.75)}function ha(Qe,ot,xt){var wt,Ot,_t;return Qe?(wt=pa(Qe,xt),ot?(Ot=pa(ot,1-xt),_t=Ot[1]*Ot[1]+xt*wt[0]*wt[0]*Ot[0]*Ot[0],[[wt[0]*Ot[2]/_t,wt[1]*wt[2]*Ot[0]*Ot[1]/_t],[wt[1]*Ot[1]/_t,-wt[0]*wt[2]*Ot[0]*Ot[2]/_t],[wt[2]*Ot[1]*Ot[2]/_t,-xt*wt[0]*wt[1]*Ot[0]/_t]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(Ot=pa(ot,1-xt),[[0,Ot[0]/Ot[1]],[1/Ot[1],0],[Ot[2]/Ot[1],0]])}function pa(Qe,ot){var xt,wt,Ot,_t,Ut;if(ot<h)return _t=l(Qe),wt=w(Qe),xt=ot*(Qe-_t*wt)/4,[_t-xt*wt,wt+xt*_t,1-ot*_t*_t/2,Qe-xt];if(ot>=1-h)return xt=(1-ot)/4,wt=F(Qe),_t=_(Qe),Ot=1/wt,Ut=wt*U(Qe),[_t+xt*(Ut-Qe)/(wt*wt),Ot-xt*_t*Ot*(Ut-Qe),Ot+xt*_t*Ot*(Ut+Qe),2*a(v(Qe))-o+xt*(Ut-Qe)/wt];var pr=[1,0,0,0,0,0,0,0,0],wr=[k(ot),0,0,0,0,0,0,0,0],ir=0;for(wt=k(1-ot),Ut=1;P(wr[ir]/pr[ir])>h&&ir<8;)xt=pr[ir++],wr[ir]=(xt-wt)/2,pr[ir]=(xt+wt)/2,wt=k(xt*wt),Ut*=2;Ot=Ut*pr[ir]*Qe;do _t=wr[ir]*l(wt=Ot)/pr[ir],Ot=(L(_t)+Ot)/2;while(--ir);return[l(Ot),_t=w(Ot),_t/w(Ot-wt),Ot]}function ua(Qe,ot,xt){var wt=P(Qe),Ot=P(ot),_t=U(Ot);if(wt){var Ut=1/l(wt),pr=1/(y(wt)*y(wt)),wr=-(pr+xt*(_t*_t*Ut*Ut)-1+xt),ir=(xt-1)*pr,Mr=(-wr+k(wr*wr-4*ir))/2;return[na(a(1/k(Mr)),xt)*f(Qe),na(a(k((Mr/pr-1)/xt)),1-xt)*f(ot)]}return[0,na(a(_t),1-xt)*f(ot)]}function na(Qe,ot){if(!ot)return Qe;if(ot===1)return r(y(Qe/2+d));for(var xt=1,wt=k(1-ot),Ot=k(ot),_t=0;P(Ot)>h;_t++){if(Qe%c){var Ut=a(wt*y(Qe)/xt);Ut<0&&(Ut+=c),Qe+=Ut+~~(Qe/c)*c}else Qe+=Qe;Ot=(xt+wt)/2,wt=k(xt*wt),Ot=((xt=Ot)-wt)/2}return Qe/(n(2,_t)*xt)}function Tr(Qe,ot){var xt=(S-1)/(S+1),wt=k(1-xt*xt),Ot=na(o,wt*wt),_t=-1,Ut=r(y(c/4+P(ot)/2)),pr=v(_t*Ut)/k(xt),wr=an(pr*w(_t*Qe),pr*l(_t*Qe)),ir=ua(wr[0],wr[1],wt*wt);return[-ir[1],(ot>=0?1:-1)*(.5*Ot-ir[0])]}function an(Qe,ot){var xt=Qe*Qe,wt=ot+1,Ot=1-xt-ot*ot;return[.5*((Qe>=0?o:-o)-x(Ot,2*Qe)),-.25*r(Ot*Ot+4*xt)+.5*r(wt*wt+xt)]}function qr(Qe,ot){var xt=ot[0]*ot[0]+ot[1]*ot[1];return[(Qe[0]*ot[0]+Qe[1]*ot[1])/xt,(Qe[1]*ot[0]-Qe[0]*ot[1])/xt]}Tr.invert=function(Qe,ot){var xt=(S-1)/(S+1),wt=k(1-xt*xt),Ot=na(o,wt*wt),_t=-1,Ut=ha(.5*Ot-ot,-Qe,wt*wt),pr=qr(Ut[0],Ut[1]),wr=x(pr[1],pr[0])/_t;return[wr,2*a(v(.5/_t*r(xt*pr[0]*pr[0]+xt*pr[1]*pr[1])))-o]};function gn(){return(0,g.c)(yn(Tr)).scale(151.496)}var Hn=e(61780);function An(Qe){var ot=l(Qe),xt=w(Qe),wt=Sn(Qe);wt.invert=Sn(-Qe);function Ot(_t,Ut){var pr=wt(_t,Ut);_t=pr[0],Ut=pr[1];var wr=l(Ut),ir=w(Ut),Mr=w(_t),kr=A(ot*wr+xt*ir*Mr),Br=l(kr),rn=P(Br)>h?kr/Br:1;return[rn*xt*l(_t),(P(_t)>o?rn:-rn)*(ot*ir-xt*wr*Mr)]}return Ot.invert=function(_t,Ut){var pr=k(_t*_t+Ut*Ut),wr=-l(pr),ir=w(pr),Mr=pr*ir,kr=-Ut*wr,Br=pr*ot,rn=k(Mr*Mr+kr*kr-Br*Br),bn=x(Mr*Br+kr*rn,kr*Br-Mr*rn),In=(pr>o?-1:1)*x(_t*wr,pr*w(bn)*ir+Ut*l(bn)*wr);return wt.invert(In,bn)},Ot}function Sn(Qe){var ot=l(Qe),xt=w(Qe);return function(wt,Ot){var _t=w(Ot),Ut=w(wt)*_t,pr=l(wt)*_t,wr=l(Ot);return[x(pr,Ut*xt-wr*ot),L(wr*xt+Ut*ot)]}}function Un(){var Qe=0,ot=(0,g.U)(An),xt=ot(Qe),wt=xt.rotate,Ot=xt.stream,_t=(0,Hn.c)();return xt.parallel=function(Ut){if(!arguments.length)return Qe*E;var pr=xt.rotate();return ot(Qe=Ut*b).rotate(pr)},xt.rotate=function(Ut){return arguments.length?(wt.call(xt,[Ut[0],Ut[1]-Qe*E]),_t.center([-Ut[0],-Ut[1]]),xt):(Ut=wt.call(xt),Ut[1]+=Qe*E,Ut)},xt.stream=function(Ut){return Ut=Ot(Ut),Ut.sphere=function(){Ut.polygonStart();var pr=.01,wr=_t.radius(90-pr)().coordinates[0],ir=wr.length-1,Mr=-1,kr;for(Ut.lineStart();++Mr<ir;)Ut.point((kr=wr[Mr])[0],kr[1]);for(Ut.lineEnd(),wr=_t.radius(90+pr)().coordinates[0],ir=wr.length-1,Ut.lineStart();--Mr>=0;)Ut.point((kr=wr[Mr])[0],kr[1]);Ut.lineEnd(),Ut.polygonEnd()},Ut},xt.scale(79.4187).parallel(45).clipAngle(179.999)}var $n=e(84706),ya=e(16016),_a=3,Er=L(1-1/_a)*E,zr=St(0);function Sr(Qe){var ot=Er*b,xt=ze(c,ot)[0]-ze(-c,ot)[0],wt=zr(0,ot)[1],Ot=ze(0,ot)[1],_t=C-Ot,Ut=m/Qe,pr=4/m,wr=wt+_t*_t*4/m;function ir(Mr,kr){var Br,rn=P(kr);if(rn>ot){var bn=i(Qe-1,t(0,p((Mr+c)/Ut)));Mr+=c*(Qe-1)/Qe-bn*Ut,Br=ze(Mr,rn),Br[0]=Br[0]*m/xt-m*(Qe-1)/(2*Qe)+bn*m/Qe,Br[1]=wt+(Br[1]-Ot)*4*_t/m,kr<0&&(Br[1]=-Br[1])}else Br=zr(Mr,kr);return Br[0]*=pr,Br[1]/=wr,Br}return ir.invert=function(Mr,kr){Mr/=pr,kr*=wr;var Br=P(kr);if(Br>wt){var rn=i(Qe-1,t(0,p((Mr+c)/Ut)));Mr=(Mr+c*(Qe-1)/Qe-rn*Ut)*xt/m;var bn=ze.invert(Mr,.25*(Br-wt)*m/_t+Ot);return bn[0]-=c*(Qe-1)/Qe-rn*Ut,kr<0&&(bn[1]=-bn[1]),bn}return zr.invert(Mr,kr)},ir}function Nr(Qe,ot){return[Qe,ot&1?90-h:Er]}function wn(Qe,ot){return[Qe,ot&1?-90+h:-Er]}function kn(Qe){return[Qe[0]*(1-h),Qe[1]]}function vn(Qe){var ot=[].concat((0,$n.ik)(-180,180+Qe/2,Qe).map(Nr),(0,$n.ik)(180,-180-Qe/2,-Qe).map(wn));return{type:"Polygon",coordinates:[Qe===180?ot.map(kn):ot]}}function ln(){var Qe=4,ot=(0,g.U)(Sr),xt=ot(Qe),wt=xt.stream;return xt.lobes=function(Ot){return arguments.length?ot(Qe=+Ot):Qe},xt.stream=function(Ot){var _t=xt.rotate(),Ut=wt(Ot),pr=(xt.rotate([0,0]),wt(Ot));return xt.rotate(_t),Ut.sphere=function(){(0,ya.c)(vn(180/Qe),pr)},Ut},xt.scale(239.75)}function Cr(Qe){var ot=1+Qe,xt=l(1/ot),wt=L(xt),Ot=2*k(c/(_t=c+4*wt*ot)),_t,Ut=.5*Ot*(ot+k(Qe*(2+Qe))),pr=Qe*Qe,wr=ot*ot;function ir(Mr,kr){var Br=1-l(kr),rn,bn;if(Br&&Br<2){var In=o-kr,_n=25,Zn;do{var Ra=l(In),Da=w(In),Ia=wt+x(Ra,ot-Da),za=1+wr-2*ot*Da;In-=Zn=(In-pr*wt-ot*Ra+za*Ia-.5*Br*_t)/(2*ot*Ra*Ia)}while(P(Zn)>M&&--_n>0);rn=Ot*k(za),bn=Mr*Ia/c}else rn=Ot*(Qe+Br),bn=Mr*wt/c;return[rn*l(bn),Ut-rn*w(bn)]}return ir.invert=function(Mr,kr){var Br=Mr*Mr+(kr-=Ut)*kr,rn=(1+wr-Br/(Ot*Ot))/(2*ot),bn=A(rn),In=l(bn),_n=wt+x(In,ot-rn);return[L(Mr/k(Br))*c/_n,L(1-2*(bn-pr*wt-ot*In+(1+wr-2*ot*rn)*_n)/_t)]},ir}function Zr(){var Qe=1,ot=(0,g.U)(Cr),xt=ot(Qe);return xt.ratio=function(wt){return arguments.length?ot(Qe=+wt):Qe},xt.scale(167.774).center([0,18.67])}var jr=.7109889596207567,Qr=.0528035274542;function Tn(Qe,ot){return ot>-jr?(Qe=Re(Qe,ot),Qe[1]+=Qr,Qe):at(Qe,ot)}Tn.invert=function(Qe,ot){return ot>-jr?Re.invert(Qe,ot-Qr):at.invert(Qe,ot)};function Rn(){return(0,g.c)(Tn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Dn(Qe,ot){return P(ot)>jr?(Qe=Re(Qe,ot),Qe[1]-=ot>0?Qr:-Qr,Qe):at(Qe,ot)}Dn.invert=function(Qe,ot){return P(ot)>jr?Re.invert(Qe,ot+(ot>0?Qr:-Qr)):at.invert(Qe,ot)};function Vn(){return(0,g.c)(Dn).scale(152.63)}function Nn(Qe,ot,xt,wt){var Ot=k(4*c/(2*xt+(1+Qe-ot/2)*l(2*xt)+(Qe+ot)/2*l(4*xt)+ot/2*l(6*xt))),_t=k(wt*l(xt)*k((1+Qe*w(2*xt)+ot*w(4*xt))/(1+Qe+ot))),Ut=xt*wr(1);function pr(kr){return k(1+Qe*w(2*kr)+ot*w(4*kr))}function wr(kr){var Br=kr*xt;return(2*Br+(1+Qe-ot/2)*l(2*Br)+(Qe+ot)/2*l(4*Br)+ot/2*l(6*Br))/xt}function ir(kr){return pr(kr)*l(kr)}var Mr=function(kr,Br){var rn=xt*Ce(wr,Ut*l(Br)/xt,Br/c);isNaN(rn)&&(rn=xt*f(Br));var bn=Ot*pr(rn);return[bn*_t*kr/c*w(rn),bn/_t*l(rn)]};return Mr.invert=function(kr,Br){var rn=Ce(ir,Br*_t/Ot);return[kr*c/(w(rn)*Ot*_t*pr(rn)),L(xt*wr(rn/xt)/Ut)]},xt===0&&(Ot=k(wt/c),Mr=function(kr,Br){return[kr*Ot,l(Br)/Ot]},Mr.invert=function(kr,Br){return[kr/Ot,L(Br*Ot)]}),Mr}function ma(){var Qe=1,ot=0,xt=45*b,wt=2,Ot=(0,g.U)(Nn),_t=Ot(Qe,ot,xt,wt);return _t.a=function(Ut){return arguments.length?Ot(Qe=+Ut,ot,xt,wt):Qe},_t.b=function(Ut){return arguments.length?Ot(Qe,ot=+Ut,xt,wt):ot},_t.psiMax=function(Ut){return arguments.length?Ot(Qe,ot,xt=+Ut*b,wt):xt*E},_t.ratio=function(Ut){return arguments.length?Ot(Qe,ot,xt,wt=+Ut):wt},_t.scale(180.739)}function oa(Qe,ot,xt,wt,Ot,_t,Ut,pr,wr,ir,Mr){if(Mr.nanEncountered)return NaN;var kr,Br,rn,bn,In,_n,Zn,Ra,Da,Ia;if(kr=xt-ot,Br=Qe(ot+kr*.25),rn=Qe(xt-kr*.25),isNaN(Br)){Mr.nanEncountered=!0;return}if(isNaN(rn)){Mr.nanEncountered=!0;return}return bn=kr*(wt+4*Br+Ot)/12,In=kr*(Ot+4*rn+_t)/12,_n=bn+In,Ia=(_n-Ut)/15,ir>wr?(Mr.maxDepthCount++,_n+Ia):Math.abs(Ia)<pr?_n+Ia:(Zn=ot+kr*.5,Ra=oa(Qe,ot,Zn,wt,Br,Ot,bn,pr*.5,wr,ir+1,Mr),isNaN(Ra)?(Mr.nanEncountered=!0,NaN):(Da=oa(Qe,Zn,xt,Ot,rn,_t,In,pr*.5,wr,ir+1,Mr),isNaN(Da)?(Mr.nanEncountered=!0,NaN):Ra+Da))}function ga(Qe,ot,xt,wt,Ot){var _t={maxDepthCount:0,nanEncountered:!1};wt===void 0&&(wt=1e-8),Ot===void 0&&(Ot=20);var Ut=Qe(ot),pr=Qe(.5*(ot+xt)),wr=Qe(xt),ir=(Ut+4*pr+wr)*(xt-ot)/6,Mr=oa(Qe,ot,xt,Ut,pr,wr,ir,wt,Ot,1,_t);return Mr}function Pa(Qe,ot,xt){function wt(rn){return Qe+(1-Qe)*n(1-n(rn,ot),1/ot)}function Ot(rn){return ga(wt,0,rn,1e-4)}for(var _t=1/Ot(1),Ut=1e3,pr=(1+1e-8)*_t,wr=[],ir=0;ir<=Ut;ir++)wr.push(Ot(ir/Ut)*pr);function Mr(rn){var bn=0,In=Ut,_n=Ut>>1;do wr[_n]>rn?In=_n:bn=_n,_n=bn+In>>1;while(_n>bn);var Zn=wr[_n+1]-wr[_n];return Zn&&(Zn=(rn-wr[_n+1])/Zn),(_n+1+Zn)/Ut}var kr=2*Mr(1)/c*_t/xt,Br=function(rn,bn){var In=Mr(P(l(bn))),_n=wt(In)*rn;return In/=kr,[_n,bn>=0?In:-In]};return Br.invert=function(rn,bn){var In;return bn*=kr,P(bn)<1&&(In=f(bn)*L(Ot(P(bn))*_t)),[rn/wt(P(bn)),In]},Br}function pi(){var Qe=0,ot=2.5,xt=1.183136,wt=(0,g.U)(Pa),Ot=wt(Qe,ot,xt);return Ot.alpha=function(_t){return arguments.length?wt(Qe=+_t,ot,xt):Qe},Ot.k=function(_t){return arguments.length?wt(Qe,ot=+_t,xt):ot},Ot.gamma=function(_t){return arguments.length?wt(Qe,ot,xt=+_t):xt},Ot.scale(152.63)}function ri(Qe,ot){return P(Qe[0]-ot[0])<h&&P(Qe[1]-ot[1])<h}function Ho(Qe,ot){for(var xt=-1,wt=Qe.length,Ot=Qe[0],_t,Ut,pr,wr=[];++xt<wt;){_t=Qe[xt],Ut=(_t[0]-Ot[0])/ot,pr=(_t[1]-Ot[1])/ot;for(var ir=0;ir<ot;++ir)wr.push([Ot[0]+ir*Ut,Ot[1]+ir*pr]);Ot=_t}return wr.push(_t),wr}function Oo(Qe){var ot=[],xt,wt,Ot,_t,Ut,pr,wr,ir=Qe[0].length;for(wr=0;wr<ir;++wr)xt=Qe[0][wr],wt=xt[0][0],Ot=xt[0][1],_t=xt[1][1],Ut=xt[2][0],pr=xt[2][1],ot.push(Ho([[wt+h,Ot+h],[wt+h,_t-h],[Ut-h,_t-h],[Ut-h,pr+h]],30));for(wr=Qe[1].length-1;wr>=0;--wr)xt=Qe[1][wr],wt=xt[0][0],Ot=xt[0][1],_t=xt[1][1],Ut=xt[2][0],pr=xt[2][1],ot.push(Ho([[Ut-h,pr-h],[Ut-h,_t+h],[wt+h,_t+h],[wt+h,Ot-h]],30));return{type:"Polygon",coordinates:[(0,$n.Uf)(ot)]}}function no(Qe,ot,xt){var wt,Ot;function _t(wr,ir){for(var Mr=ir<0?-1:1,kr=ot[+(ir<0)],Br=0,rn=kr.length-1;Br<rn&&wr>kr[Br][2][0];++Br);var bn=Qe(wr-kr[Br][1][0],ir);return bn[0]+=Qe(kr[Br][1][0],Mr*ir>Mr*kr[Br][0][1]?kr[Br][0][1]:ir)[0],bn}xt?_t.invert=xt(_t):Qe.invert&&(_t.invert=function(wr,ir){for(var Mr=Ot[+(ir<0)],kr=ot[+(ir<0)],Br=0,rn=Mr.length;Br<rn;++Br){var bn=Mr[Br];if(bn[0][0]<=wr&&wr<bn[1][0]&&bn[0][1]<=ir&&ir<bn[1][1]){var In=Qe.invert(wr-Qe(kr[Br][1][0],0)[0],ir);return In[0]+=kr[Br][1][0],ri(_t(In[0],In[1]),[wr,ir])?In:null}}});var Ut=(0,g.c)(_t),pr=Ut.stream;return Ut.stream=function(wr){var ir=Ut.rotate(),Mr=pr(wr),kr=(Ut.rotate([0,0]),pr(wr));return Ut.rotate(ir),Mr.sphere=function(){(0,ya.c)(wt,kr)},Mr},Ut.lobes=function(wr){return arguments.length?(wt=Oo(wr),ot=wr.map(function(ir){return ir.map(function(Mr){return[[Mr[0][0]*b,Mr[0][1]*b],[Mr[1][0]*b,Mr[1][1]*b],[Mr[2][0]*b,Mr[2][1]*b]]})}),Ot=ot.map(function(ir){return ir.map(function(Mr){var kr=Qe(Mr[0][0],Mr[0][1])[0],Br=Qe(Mr[2][0],Mr[2][1])[0],rn=Qe(Mr[1][0],Mr[0][1])[1],bn=Qe(Mr[1][0],Mr[1][1])[1],In;return rn>bn&&(In=rn,rn=bn,bn=In),[[kr,rn],[Br,bn]]})}),Ut):ot.map(function(ir){return ir.map(function(Mr){return[[Mr[0][0]*E,Mr[0][1]*E],[Mr[1][0]*E,Mr[1][1]*E],[Mr[2][0]*E,Mr[2][1]*E]]})})},ot!=null&&Ut.lobes(ot),Ut}var Vl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function kf(){return no(Xe,Vl).scale(160.857)}var wc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qa(){return no(Dn,wc).scale(152.63)}var Tu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ff(){return no(Re,Tu).scale(169.529)}var $i=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Eo(){return no(Re,$i).scale(169.529).rotate([20,0])}var jl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function of(){return no(Tn,jl,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var ki=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Hl(){return no(at,ki).scale(152.63).rotate([-20,0])}function Ni(Qe,ot){return[3/m*Qe*k(c*c/3-ot*ot),ot]}Ni.invert=function(Qe,ot){return[m/3*Qe/k(c*c/3-ot*ot),ot]};function Gi(){return(0,g.c)(Ni).scale(158.837)}function Gl(Qe){function ot(xt,wt){if(P(P(wt)-o)<h)return[0,wt<0?-2:2];var Ot=l(wt),_t=n((1+Ot)/(1-Ot),Qe/2),Ut=.5*(_t+1/_t)+w(xt*=Qe);return[2*l(xt)/Ut,(_t-1/_t)/Ut]}return ot.invert=function(xt,wt){var Ot=P(wt);if(P(Ot-2)<h)return xt?null:[0,f(wt)*o];if(Ot>2)return null;xt/=2,wt/=2;var _t=xt*xt,Ut=wt*wt,pr=2*wt/(1+_t+Ut);return pr=n((1+pr)/(1-pr),1/Qe),[x(2*xt,1-_t-Ut)/Qe,L((pr-1)/(pr+1))]},ot}function ao(){var Qe=.5,ot=(0,g.U)(Gl),xt=ot(Qe);return xt.spacing=function(wt){return arguments.length?ot(Qe=+wt):Qe},xt.scale(124.75)}var io=c/S;function Go(Qe,ot){return[Qe*(1+k(w(ot)))/2,ot/(w(ot/2)*w(Qe/6))]}Go.invert=function(Qe,ot){var xt=P(Qe),wt=P(ot),Ot=h,_t=o;wt<io?_t*=wt/io:Ot+=6*A(io/wt);for(var Ut=0;Ut<25;Ut++){var pr=l(_t),wr=k(w(_t)),ir=l(_t/2),Mr=w(_t/2),kr=l(Ot/6),Br=w(Ot/6),rn=.5*Ot*(1+wr)-xt,bn=_t/(Mr*Br)-wt,In=wr?-.25*Ot*pr/wr:0,_n=.5*(1+wr),Zn=(1+.5*_t*ir/Mr)/(Mr*Br),Ra=_t/Mr*(kr/6)/(Br*Br),Da=In*Ra-Zn*_n,Ia=(rn*Ra-bn*_n)/Da,za=(bn*In-rn*Zn)/Da;if(_t-=Ia,Ot-=za,P(Ia)<h&&P(za)<h)break}return[Qe<0?-Ot:Ot,ot<0?-_t:_t]};function Tc(){return(0,g.c)(Go).scale(97.2672)}function zo(Qe,ot){var xt=Qe*Qe,wt=ot*ot;return[Qe*(.975534+wt*(-.119161+xt*-.0143059+wt*-.0547009)),ot*(1.00384+xt*(.0802894+wt*-.02855+xt*199025e-9)+wt*(.0998909+wt*-.0491032))]}zo.invert=function(Qe,ot){var xt=f(Qe)*c,wt=ot/2,Ot=50;do{var _t=xt*xt,Ut=wt*wt,pr=xt*wt,wr=xt*(.975534+Ut*(-.119161+_t*-.0143059+Ut*-.0547009))-Qe,ir=wt*(1.00384+_t*(.0802894+Ut*-.02855+_t*199025e-9)+Ut*(.0998909+Ut*-.0491032))-ot,Mr=.975534-Ut*(.119161+3*_t*.0143059+Ut*.0547009),kr=-pr*(2*.119161+4*.0547009*Ut+2*.0143059*_t),Br=pr*(2*.0802894+4*199025e-9*_t+2*-.02855*Ut),rn=1.00384+_t*(.0802894+199025e-9*_t)+Ut*(3*(.0998909-.02855*_t)-5*.0491032*Ut),bn=kr*Br-rn*Mr,In=(ir*kr-wr*rn)/bn,_n=(wr*Br-ir*Mr)/bn;xt-=In,wt-=_n}while((P(In)>h||P(_n)>h)&&--Ot>0);return Ot&&[xt,wt]};function kh(){return(0,g.c)(zo).scale(139.98)}function Ts(Qe,ot){return[l(Qe)/w(ot),y(ot)*w(Qe)]}Ts.invert=function(Qe,ot){var xt=Qe*Qe,wt=ot*ot,Ot=wt+1,_t=xt+Ot,Ut=Qe?T*k((_t-k(_t*_t-4*xt))/xt):1/k(Ot);return[L(Qe*Ut),f(ot)*A(Ut)]};function Qi(){return(0,g.c)(Ts).scale(144.049).clipAngle(89.999)}function Of(Qe){var ot=w(Qe),xt=y(d+Qe/2);function wt(Ot,_t){var Ut=_t-Qe,pr=P(Ut)<h?Ot*ot:P(pr=d+_t/2)<h||P(P(pr)-o)<h?0:Ot*Ut/r(y(pr)/xt);return[pr,Ut]}return wt.invert=function(Ot,_t){var Ut,pr=_t+Qe;return[P(_t)<h?Ot/ot:P(Ut=d+pr/2)<h||P(P(Ut)-o)<h?0:Ot*r(y(Ut)/xt)/_t,pr]},wt}function qs(){return dt(Of).parallel(40).scale(158.837)}function As(Qe,ot){return[Qe,1.25*r(y(d+.4*ot))]}As.invert=function(Qe,ot){return[Qe,2.5*a(v(.8*ot))-.625*c]};function zf(){return(0,g.c)(As).scale(108.318)}function Ac(Qe){var ot=Qe.length-1;function xt(wt,Ot){for(var _t=w(Ot),Ut=2/(1+_t*w(wt)),pr=Ut*_t*l(wt),wr=Ut*l(Ot),ir=ot,Mr=Qe[ir],kr=Mr[0],Br=Mr[1],rn;--ir>=0;)Mr=Qe[ir],kr=Mr[0]+pr*(rn=kr)-wr*Br,Br=Mr[1]+pr*Br+wr*rn;return kr=pr*(rn=kr)-wr*Br,Br=pr*Br+wr*rn,[kr,Br]}return xt.invert=function(wt,Ot){var _t=20,Ut=wt,pr=Ot;do{for(var wr=ot,ir=Qe[wr],Mr=ir[0],kr=ir[1],Br=0,rn=0,bn;--wr>=0;)ir=Qe[wr],Br=Mr+Ut*(bn=Br)-pr*rn,rn=kr+Ut*rn+pr*bn,Mr=ir[0]+Ut*(bn=Mr)-pr*kr,kr=ir[1]+Ut*kr+pr*bn;Br=Mr+Ut*(bn=Br)-pr*rn,rn=kr+Ut*rn+pr*bn,Mr=Ut*(bn=Mr)-pr*kr-wt,kr=Ut*kr+pr*bn-Ot;var In=Br*Br+rn*rn,_n,Zn;Ut-=_n=(Mr*Br+kr*rn)/In,pr-=Zn=(kr*Br-Mr*rn)/In}while(P(_n)+P(Zn)>h*h&&--_t>0);if(_t){var Ra=k(Ut*Ut+pr*pr),Da=2*a(Ra*.5),Ia=l(Da);return[x(Ut*Ia,Ra*w(Da)),Ra?L(pr*Ia/Ra):0]}},xt}var Fh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],sf=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Oh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],zh=[[.9245,0],[0,0],[.01943,0]],Nh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Nf(){return bl(Fh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Bh(){return bl(sf,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Uh(){return bl(Oh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Sc(){return bl(zh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Mc(){return bl(Nh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function bl(Qe,ot){var xt=(0,g.c)(Ac(Qe)).rotate(ot).clipAngle(90),wt=(0,je.c)(ot),Ot=xt.center;return delete xt.rotate,xt.center=function(_t){return arguments.length?Ot(wt(_t)):wt.invert(Ot())},xt}var Wl=k(6),Au=k(7);function Su(Qe,ot){var xt=L(7*l(ot)/(3*Wl));return[Wl*Qe*(2*w(2*xt/3)-1)/Au,9*l(xt/3)/Au]}Su.invert=function(Qe,ot){var xt=3*L(ot*Au/9);return[Qe*Au/(Wl*(2*w(2*xt/3)-1)),L(l(xt)*3*Wl/7)]};function Ec(){return(0,g.c)(Su).scale(164.859)}function Bs(Qe,ot){for(var xt=(1+T)*l(ot),wt=ot,Ot=0,_t;Ot<25&&(wt-=_t=(l(wt/2)+l(wt)-xt)/(.5*w(wt/2)+w(wt)),!(P(_t)<h));Ot++);return[Qe*(1+2*w(wt)/w(wt/2))/(3*S),2*k(3)*l(wt/2)/k(2+S)]}Bs.invert=function(Qe,ot){var xt=ot*k(2+S)/(2*k(3)),wt=2*L(xt);return[3*S*Qe/(1+2*w(wt)/w(wt/2)),L((xt+l(wt))/(1+T))]};function Vh(){return(0,g.c)(Bs).scale(188.209)}function lf(Qe,ot){for(var xt=k(6/(4+c)),wt=(1+c/4)*l(ot),Ot=ot/2,_t=0,Ut;_t<25&&(Ot-=Ut=(Ot/2+l(Ot)-wt)/(.5+w(Ot)),!(P(Ut)<h));_t++);return[xt*(.5+w(Ot))*Qe/1.5,xt*Ot]}lf.invert=function(Qe,ot){var xt=k(6/(4+c)),wt=ot/xt;return P(P(wt)-o)<h&&(wt=wt<0?-o:o),[1.5*Qe/(xt*(.5+w(wt))),L((wt/2+l(wt))/(1+c/4))]};function Cc(){return(0,g.c)(lf).scale(166.518)}var Lc=e(47984);function uf(Qe,ot){var xt=ot*ot,wt=xt*xt,Ot=xt*wt;return[Qe*(.84719-.13063*xt+Ot*Ot*(-.04515+.05494*xt-.02326*wt+.00331*Ot)),ot*(1.01183+wt*wt*(-.02625+.01926*xt-.00396*wt))]}uf.invert=function(Qe,ot){var xt=ot,wt=25,Ot,_t,Ut,pr;do _t=xt*xt,Ut=_t*_t,xt-=Ot=(xt*(1.01183+Ut*Ut*(-.02625+.01926*_t-.00396*Ut))-ot)/(1.01183+Ut*Ut*(-.23625+.21186*_t+-.05148*Ut));while(P(Ot)>M&&--wt>0);return _t=xt*xt,Ut=_t*_t,pr=_t*Ut,[Qe/(.84719-.13063*_t+pr*pr*(-.04515+.05494*_t-.02326*Ut+.00331*pr)),xt]};function as(){return(0,g.c)(uf).scale(175.295)}function Yl(Qe,ot){return[Qe*(1+w(ot))/2,2*(ot-y(ot/2))]}Yl.invert=function(Qe,ot){for(var xt=ot/2,wt=0,Ot=1/0;wt<10&&P(Ot)>h;++wt){var _t=w(ot/2);ot-=Ot=(ot-y(ot/2)-xt)/(1-.5/(_t*_t))}return[2*Qe/(1+w(ot)),ot]};function wl(){return(0,g.c)(Yl).scale(152.63)}var Mu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function el(){return no(ie(1/0),Mu).rotate([20,0]).scale(152.63)}function Ss(Qe,ot){var xt=l(ot),wt=w(ot),Ot=f(Qe);if(Qe===0||P(ot)===o)return[0,ot];if(ot===0)return[Qe,0];if(P(Qe)===o)return[Qe*wt,o*xt];var _t=c/(2*Qe)-2*Qe/c,Ut=2*ot/c,pr=(1-Ut*Ut)/(xt-Ut),wr=_t*_t,ir=pr*pr,Mr=1+wr/ir,kr=1+ir/wr,Br=(_t*xt/pr-_t/2)/Mr,rn=(ir*xt/wr+pr/2)/kr,bn=Br*Br+wt*wt/Mr,In=rn*rn-(ir*xt*xt/wr+pr*xt-1)/kr;return[o*(Br+k(bn)*Ot),o*(rn+k(In<0?0:In)*f(-ot*_t)*Ot)]}Ss.invert=function(Qe,ot){Qe/=o,ot/=o;var xt=Qe*Qe,wt=ot*ot,Ot=xt+wt,_t=c*c;return[Qe?(Ot-1+k((1-Ot)*(1-Ot)+4*xt))/(2*Qe)*o:0,Ce(function(Ut){return Ot*(c*l(Ut)-2*Ut)*c+4*Ut*Ut*(ot-l(Ut))+2*c*Ut-_t*ot},0)]};function Bf(){return(0,g.c)(Ss).scale(127.267)}var Xl=1.0148,is=.23185,Pi=-.14499,Uf=.02406,jh=Xl,ff=5*is,Zl=7*Pi,Kl=9*Uf,No=1.790857183;function cf(Qe,ot){var xt=ot*ot;return[Qe,ot*(Xl+xt*xt*(is+xt*(Pi+Uf*xt)))]}cf.invert=function(Qe,ot){ot>No?ot=No:ot<-No&&(ot=-No);var xt=ot,wt;do{var Ot=xt*xt;xt-=wt=(xt*(Xl+Ot*Ot*(is+Ot*(Pi+Uf*Ot)))-ot)/(jh+Ot*Ot*(ff+Ot*(Zl+Kl*Ot)))}while(P(wt)>h);return[Qe,xt]};function Jl(){return(0,g.c)(cf).scale(139.319)}function hf(Qe,ot){if(P(ot)<h)return[Qe,0];var xt=y(ot),wt=Qe*l(ot);return[l(wt)/xt,ot+(1-w(wt))/xt]}hf.invert=function(Qe,ot){if(P(ot)<h)return[Qe,0];var xt=Qe*Qe+ot*ot,wt=ot*.5,Ot=10,_t;do{var Ut=y(wt),pr=1/w(wt),wr=xt-2*ot*wt+wt*wt;wt-=_t=(Ut*wr+2*(wt-ot))/(2+wr*pr*pr+2*(wt-ot)*Ut)}while(P(_t)>h&&--Ot>0);return Ut=y(wt),[(P(ot)<P(wt+1/Ut)?L(Qe*Ut):f(ot)*f(Qe)*(A(P(Qe*Ut))+o))/l(wt),wt]};function Hh(){return(0,g.c)(hf).scale(103.74)}var Pc=e(13696),Vf=e(27284);function jf(Qe,ot){var xt=vf(Qe[1],Qe[0]),wt=vf(ot[1],ot[0]),Ot=df(xt,wt),_t=Eu(xt)/Eu(wt);return $l([1,0,Qe[0][0],0,1,Qe[0][1]],$l([_t,0,0,0,_t,0],$l([w(Ot),l(Ot),0,-l(Ot),w(Ot),0],[1,0,-ot[0][0],0,1,-ot[0][1]])))}function Hf(Qe){var ot=1/(Qe[0]*Qe[4]-Qe[1]*Qe[3]);return[ot*Qe[4],-ot*Qe[1],ot*(Qe[1]*Qe[5]-Qe[2]*Qe[4]),-ot*Qe[3],ot*Qe[0],ot*(Qe[2]*Qe[3]-Qe[0]*Qe[5])]}function $l(Qe,ot){return[Qe[0]*ot[0]+Qe[1]*ot[3],Qe[0]*ot[1]+Qe[1]*ot[4],Qe[0]*ot[2]+Qe[1]*ot[5]+Qe[2],Qe[3]*ot[0]+Qe[4]*ot[3],Qe[3]*ot[1]+Qe[4]*ot[4],Qe[3]*ot[2]+Qe[4]*ot[5]+Qe[5]]}function vf(Qe,ot){return[Qe[0]-ot[0],Qe[1]-ot[1]]}function Eu(Qe){return k(Qe[0]*Qe[0]+Qe[1]*Qe[1])}function df(Qe,ot){return x(Qe[0]*ot[1]-Qe[1]*ot[0],Qe[0]*ot[0]+Qe[1]*ot[1])}function gi(Qe,ot,xt){wt(Qe,{transform:null});function wt(ir,Mr){if(ir.edges=Gf(ir.face),Mr.face){var kr=ir.shared=Dc(ir.face,Mr.face),Br=jf(kr.map(Mr.project),kr.map(ir.project));ir.transform=Mr.transform?$l(Mr.transform,Br):Br;for(var rn=Mr.edges,bn=0,In=rn.length;bn<In;++bn)os(kr[0],rn[bn][1])&&os(kr[1],rn[bn][0])&&(rn[bn]=ir),os(kr[0],rn[bn][0])&&os(kr[1],rn[bn][1])&&(rn[bn]=ir);for(rn=ir.edges,bn=0,In=rn.length;bn<In;++bn)os(kr[0],rn[bn][0])&&os(kr[1],rn[bn][1])&&(rn[bn]=Mr),os(kr[0],rn[bn][1])&&os(kr[1],rn[bn][0])&&(rn[bn]=Mr)}else ir.transform=Mr.transform;return ir.children&&ir.children.forEach(function(_n){wt(_n,ir)}),ir}function Ot(ir,Mr){var kr=ot(ir,Mr),Br=kr.project([ir*E,Mr*E]),rn;return(rn=kr.transform)?[rn[0]*Br[0]+rn[1]*Br[1]+rn[2],-(rn[3]*Br[0]+rn[4]*Br[1]+rn[5])]:(Br[1]=-Br[1],Br)}Tl(Qe)&&(Ot.invert=function(ir,Mr){var kr=_t(Qe,[ir,-Mr]);return kr&&(kr[0]*=b,kr[1]*=b,kr)});function _t(ir,Mr){var kr=ir.project.invert,Br=ir.transform,rn=Mr;if(Br&&(Br=Hf(Br),rn=[Br[0]*rn[0]+Br[1]*rn[1]+Br[2],Br[3]*rn[0]+Br[4]*rn[1]+Br[5]]),kr&&ir===Ut(bn=kr(rn)))return bn;for(var bn,In=ir.children,_n=0,Zn=In&&In.length;_n<Zn;++_n)if(bn=_t(In[_n],Mr))return bn}function Ut(ir){return ot(ir[0]*b,ir[1]*b)}var pr=(0,g.c)(Ot),wr=pr.stream;return pr.stream=function(ir){var Mr=pr.rotate(),kr=wr(ir),Br=(pr.rotate([0,0]),wr(ir));return pr.rotate(Mr),kr.sphere=function(){Br.polygonStart(),Br.lineStart(),Rc(Br,Qe),Br.lineEnd(),Br.polygonEnd()},kr},pr.angle(xt==null?-30:xt*E)}function Rc(Qe,ot,xt){var wt,Ot=ot.edges,_t=Ot.length,Ut,pr={type:"MultiPoint",coordinates:ot.face},wr=ot.face.filter(function(In){return P(In[1])!==90}),ir=(0,Pc.c)({type:"MultiPoint",coordinates:wr}),Mr=!1,kr=-1,Br=ir[1][0]-ir[0][0],rn=Br===180||Br===360?[(ir[0][0]+ir[1][0])/2,(ir[0][1]+ir[1][1])/2]:(0,_e.c)(pr);if(xt)for(;++kr<_t&&Ot[kr]!==xt;);++kr;for(var bn=0;bn<_t;++bn)Ut=Ot[(bn+kr)%_t],Array.isArray(Ut)?(Mr||(Qe.point((wt=(0,Vf.c)(Ut[0],rn)(h))[0],wt[1]),Mr=!0),Qe.point((wt=(0,Vf.c)(Ut[1],rn)(h))[0],wt[1])):(Mr=!1,Ut!==xt&&Rc(Qe,Ut,ot))}function os(Qe,ot){return Qe&&ot&&Qe[0]===ot[0]&&Qe[1]===ot[1]}function Dc(Qe,ot){for(var xt,wt,Ot=Qe.length,_t=null,Ut=0;Ut<Ot;++Ut){xt=Qe[Ut];for(var pr=ot.length;--pr>=0;)if(wt=ot[pr],xt[0]===wt[0]&&xt[1]===wt[1]){if(_t)return[_t,xt];_t=xt}}}function Gf(Qe){for(var ot=Qe.length,xt=[],wt=Qe[ot-1],Ot=0;Ot<ot;++Ot)xt.push([wt,wt=Qe[Ot]]);return xt}function Tl(Qe){return Qe.project.invert||Qe.children&&Qe.children.some(Tl)}var tl=e(53285),pf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Fi=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Qe){return Qe.map(function(ot){return pf[ot]})});function Cu(Qe){Qe=Qe||function(xt){var wt=(0,_e.c)({type:"MultiPoint",coordinates:xt});return(0,tl.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var ot=Fi.map(function(xt){return{face:xt,project:Qe(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,wt){var Ot=ot[xt];Ot&&(Ot.children||(Ot.children=[])).push(ot[wt])}),gi(ot[0],function(xt,wt){return ot[xt<-c/2?wt<0?6:4:xt<0?wt<0?2:0:xt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ss=2/k(3);function Us(Qe,ot){var xt=ze(Qe,ot);return[xt[0]*ss,xt[1]]}Us.invert=function(Qe,ot){return ze.invert(Qe/ss,ot)};function Al(Qe){Qe=Qe||function(xt){var wt=(0,_e.c)({type:"MultiPoint",coordinates:xt});return(0,g.c)(Us).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var ot=Fi.map(function(xt){return{face:xt,project:Qe(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,wt){var Ot=ot[xt];Ot&&(Ot.children||(Ot.children=[])).push(ot[wt])}),gi(ot[0],function(xt,wt){return ot[xt<-c/2?wt<0?6:4:xt<0?wt<0?2:0:xt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function rl(Qe){Qe=Qe||function(Ut){var pr=Ut.length===6?(0,_e.c)({type:"MultiPoint",coordinates:Ut}):Ut[0];return(0,tl.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var ot=Fi.map(function(Ut){for(var pr=Ut.map(Ko),wr=pr.length,ir=pr[wr-1],Mr,kr=[],Br=0;Br<wr;++Br)Mr=pr[Br],kr.push(us([ir[0]*.9486832980505138+Mr[0]*.31622776601683794,ir[1]*.9486832980505138+Mr[1]*.31622776601683794,ir[2]*.9486832980505138+Mr[2]*.31622776601683794]),us([Mr[0]*.9486832980505138+ir[0]*.31622776601683794,Mr[1]*.9486832980505138+ir[1]*.31622776601683794,Mr[2]*.9486832980505138+ir[2]*.31622776601683794])),ir=Mr;return kr}),xt=[],wt=[-1,0,0,1,0,1,4,5];ot.forEach(function(Ut,pr){for(var wr=Fi[pr],ir=wr.length,Mr=xt[pr]=[],kr=0;kr<ir;++kr)ot.push([wr[kr],Ut[(kr*2+2)%(2*ir)],Ut[(kr*2+1)%(2*ir)]]),wt.push(pr),Mr.push(Vs(Ko(Ut[(kr*2+2)%(2*ir)]),Ko(Ut[(kr*2+1)%(2*ir)])))});var Ot=ot.map(function(Ut){return{project:Qe(Ut),face:Ut}});wt.forEach(function(Ut,pr){var wr=Ot[Ut];wr&&(wr.children||(wr.children=[])).push(Ot[pr])});function _t(Ut,pr){var wr=w(pr),ir=[wr*w(Ut),wr*l(Ut),l(pr)],Mr=Ut<-c/2?pr<0?6:4:Ut<0?pr<0?2:0:Ut<c/2?pr<0?3:1:pr<0?7:5,kr=xt[Mr];return Ot[ls(kr[0],ir)<0?8+3*Mr:ls(kr[1],ir)<0?8+3*Mr+1:ls(kr[2],ir)<0?8+3*Mr+2:Mr]}return gi(Ot[0],_t).angle(-30).scale(110.625).center([0,45])}function ls(Qe,ot){for(var xt=0,wt=Qe.length,Ot=0;xt<wt;++xt)Ot+=Qe[xt]*ot[xt];return Ot}function Vs(Qe,ot){return[Qe[1]*ot[2]-Qe[2]*ot[1],Qe[2]*ot[0]-Qe[0]*ot[2],Qe[0]*ot[1]-Qe[1]*ot[0]]}function us(Qe){return[x(Qe[1],Qe[0])*E,L(t(-1,i(1,Qe[2])))*E]}function Ko(Qe){var ot=Qe[0]*b,xt=Qe[1]*b,wt=w(xt);return[wt*w(ot),wt*l(ot),l(xt)]}function Lu(){}function Gh(Qe){if((xt=Qe.length)<4)return!1;for(var ot=0,xt,wt=Qe[xt-1][1]*Qe[0][0]-Qe[xt-1][0]*Qe[0][1];++ot<xt;)wt+=Qe[ot-1][1]*Qe[ot][0]-Qe[ot-1][0]*Qe[ot][1];return wt<=0}function Wh(Qe,ot){for(var xt=ot[0],wt=ot[1],Ot=!1,_t=0,Ut=Qe.length,pr=Ut-1;_t<Ut;pr=_t++){var wr=Qe[_t],ir=wr[0],Mr=wr[1],kr=Qe[pr],Br=kr[0],rn=kr[1];Mr>wt^rn>wt&&xt<(Br-ir)*(wt-Mr)/(rn-Mr)+ir&&(Ot=!Ot)}return Ot}function Yh(Qe,ot){var xt=ot.stream,wt;if(!xt)throw new Error("invalid projection");switch(Qe&&Qe.type){case"Feature":wt=Wf;break;case"FeatureCollection":wt=Xh;break;default:wt=Ql;break}return wt(Qe,xt)}function Xh(Qe,ot){return{type:"FeatureCollection",features:Qe.features.map(function(xt){return Wf(xt,ot)})}}function Wf(Qe,ot){return{type:"Feature",id:Qe.id,properties:Qe.properties,geometry:Ql(Qe.geometry,ot)}}function Ic(Qe,ot){return{type:"GeometryCollection",geometries:Qe.geometries.map(function(xt){return Ql(xt,ot)})}}function Ql(Qe,ot){if(!Qe)return null;if(Qe.type==="GeometryCollection")return Ic(Qe,ot);var xt;switch(Qe.type){case"Point":xt=ql;break;case"MultiPoint":xt=ql;break;case"LineString":xt=_c;break;case"MultiLineString":xt=_c;break;case"Polygon":xt=Pu;break;case"MultiPolygon":xt=Pu;break;case"Sphere":xt=Pu;break;default:return null}return(0,ya.c)(Qe,ot(xt)),xt.result()}var qi=[],Wo=[],ql={point:function(Qe,ot){qi.push([Qe,ot])},result:function(){var Qe=qi.length?qi.length<2?{type:"Point",coordinates:qi[0]}:{type:"MultiPoint",coordinates:qi}:null;return qi=[],Qe}},_c={lineStart:Lu,point:function(Qe,ot){qi.push([Qe,ot])},lineEnd:function(){qi.length&&(Wo.push(qi),qi=[])},result:function(){var Qe=Wo.length?Wo.length<2?{type:"LineString",coordinates:Wo[0]}:{type:"MultiLineString",coordinates:Wo}:null;return Wo=[],Qe}},Pu={polygonStart:Lu,lineStart:Lu,point:function(Qe,ot){qi.push([Qe,ot])},lineEnd:function(){var Qe=qi.length;if(Qe){do qi.push(qi[0].slice());while(++Qe<4);Wo.push(qi),qi=[]}},polygonEnd:Lu,result:function(){if(!Wo.length)return null;var Qe=[],ot=[];return Wo.forEach(function(xt){Gh(xt)?Qe.push([xt]):ot.push(xt)}),ot.forEach(function(xt){var wt=xt[0];Qe.some(function(Ot){if(Wh(Ot[0],wt))return Ot.push(xt),!0})||Qe.push([xt])}),Wo=[],Qe.length?Qe.length>1?{type:"MultiPolygon",coordinates:Qe}:{type:"Polygon",coordinates:Qe[0]}:null}};function js(Qe){var ot=Qe(o,0)[0]-Qe(-o,0)[0];function xt(wt,Ot){var _t=P(wt)<o,Ut=Qe(_t?wt:wt>0?wt-c:wt+c,Ot),pr=(Ut[0]-Ut[1])*T,wr=(Ut[0]+Ut[1])*T;if(_t)return[pr,wr];var ir=ot*T,Mr=pr>0^wr>0?-1:1;return[Mr*pr-f(wr)*ir,Mr*wr-f(pr)*ir]}return Qe.invert&&(xt.invert=function(wt,Ot){var _t=(wt+Ot)*T,Ut=(Ot-wt)*T,pr=P(_t)<.5*ot&&P(Ut)<.5*ot;if(!pr){var wr=ot*T,ir=_t>0^Ut>0?-1:1,Mr=-ir*wt+(Ut>0?1:-1)*wr,kr=-ir*Ot+(_t>0?1:-1)*wr;_t=(-Mr-kr)*T,Ut=(Mr-kr)*T}var Br=Qe.invert(_t,Ut);return pr||(Br[0]+=_t>0?c:-c),Br}),(0,g.c)(xt).rotate([-90,-90,45]).clipAngle(179.999)}function Zh(){return js(mn).scale(176.423)}function kc(){return js(Tr).scale(111.48)}function Fc(Qe,ot){if(!(0<=(ot=+ot)&&ot<=20))throw new Error("invalid digits");function xt(ir){var Mr=ir.length,kr=2,Br=new Array(Mr);for(Br[0]=+ir[0].toFixed(ot),Br[1]=+ir[1].toFixed(ot);kr<Mr;)Br[kr]=ir[kr],++kr;return Br}function wt(ir){return ir.map(xt)}function Ot(ir){for(var Mr=xt(ir[0]),kr=[Mr],Br=1;Br<ir.length;Br++){var rn=xt(ir[Br]);(rn.length>2||rn[0]!=Mr[0]||rn[1]!=Mr[1])&&(kr.push(rn),Mr=rn)}return kr.length===1&&ir.length>1&&kr.push(xt(ir[ir.length-1])),kr}function _t(ir){return ir.map(Ot)}function Ut(ir){if(ir==null)return ir;var Mr;switch(ir.type){case"GeometryCollection":Mr={type:"GeometryCollection",geometries:ir.geometries.map(Ut)};break;case"Point":Mr={type:"Point",coordinates:xt(ir.coordinates)};break;case"MultiPoint":Mr={type:ir.type,coordinates:wt(ir.coordinates)};break;case"LineString":Mr={type:ir.type,coordinates:Ot(ir.coordinates)};break;case"MultiLineString":case"Polygon":Mr={type:ir.type,coordinates:_t(ir.coordinates)};break;case"MultiPolygon":Mr={type:"MultiPolygon",coordinates:ir.coordinates.map(_t)};break;default:return ir}return ir.bbox!=null&&(Mr.bbox=ir.bbox),Mr}function pr(ir){var Mr={type:"Feature",properties:ir.properties,geometry:Ut(ir.geometry)};return ir.id!=null&&(Mr.id=ir.id),ir.bbox!=null&&(Mr.bbox=ir.bbox),Mr}if(Qe!=null)switch(Qe.type){case"Feature":return pr(Qe);case"FeatureCollection":{var wr={type:"FeatureCollection",features:Qe.features.map(pr)};return Qe.bbox!=null&&(wr.bbox=Qe.bbox),wr}default:return Ut(Qe)}return Qe}function Yf(Qe){var ot=l(Qe);function xt(wt,Ot){var _t=ot?y(wt*ot/2)/ot:wt/2;if(!Ot)return[2*_t,-Qe];var Ut=2*a(_t*l(Ot)),pr=1/y(Ot);return[l(Ut)*pr,Ot+(1-w(Ut))*pr-Qe]}return xt.invert=function(wt,Ot){if(P(Ot+=Qe)<h)return[ot?2*a(ot*wt/2)/ot:wt,0];var _t=wt*wt+Ot*Ot,Ut=0,pr=10,wr;do{var ir=y(Ut),Mr=1/w(Ut),kr=_t-2*Ot*Ut+Ut*Ut;Ut-=wr=(ir*kr+2*(Ut-Ot))/(2+kr*Mr*Mr+2*(Ut-Ot)*ir)}while(P(wr)>h&&--pr>0);var Br=wt*(ir=y(Ut)),rn=y(P(Ot)<P(Ut+1/ir)?L(Br)*.5:A(Br)*.5+c/4)/l(Ut);return[ot?2*a(ot*rn)/ot:2*rn,Ut]},xt}function Oc(){return dt(Yf).scale(131.215)}var Co=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Co.forEach(function(Qe){Qe[1]*=1.0144});function fs(Qe,ot){var xt=i(18,P(ot)*36/c),wt=p(xt),Ot=xt-wt,_t=(kr=Co[wt])[0],Ut=kr[1],pr=(kr=Co[++wt])[0],wr=kr[1],ir=(kr=Co[i(19,++wt)])[0],Mr=kr[1],kr;return[Qe*(pr+Ot*(ir-_t)/2+Ot*Ot*(ir-2*pr+_t)/2),(ot>0?o:-o)*(wr+Ot*(Mr-Ut)/2+Ot*Ot*(Mr-2*wr+Ut)/2)]}fs.invert=function(Qe,ot){var xt=ot/o,wt=xt*90,Ot=i(18,P(wt/5)),_t=t(0,p(Ot));do{var Ut=Co[_t][1],pr=Co[_t+1][1],wr=Co[i(19,_t+2)][1],ir=wr-Ut,Mr=wr-2*pr+Ut,kr=2*(P(xt)-pr)/ir,Br=Mr/ir,rn=kr*(1-Br*kr*(1-2*Br*kr));if(rn>=0||_t===1){wt=(ot>=0?5:-5)*(rn+Ot);var bn=50,In;do Ot=i(18,P(wt)/5),_t=p(Ot),rn=Ot-_t,Ut=Co[_t][1],pr=Co[_t+1][1],wr=Co[i(19,_t+2)][1],wt-=(In=(ot>=0?o:-o)*(pr+rn*(wr-Ut)/2+rn*rn*(wr-2*pr+Ut)/2)-ot)*E;while(P(In)>M&&--bn>0);break}}while(--_t>=0);var _n=Co[_t][0],Zn=Co[_t+1][0],Ra=Co[i(19,_t+2)][0];return[Qe/(Zn+rn*(Ra-_n)/2+rn*rn*(Ra-2*Zn+_n)/2),wt*b]};function nl(){return(0,g.c)(fs).scale(152.63)}function eu(Qe){function ot(xt,wt){var Ot=w(wt),_t=(Qe-1)/(Qe-Ot*w(xt));return[_t*Ot*l(xt),_t*l(wt)]}return ot.invert=function(xt,wt){var Ot=xt*xt+wt*wt,_t=k(Ot),Ut=(Qe-k(1-Ot*(Qe+1)/(Qe-1)))/((Qe-1)/_t+_t/(Qe-1));return[x(xt*Ut,_t*k(1-Ut*Ut)),_t?L(wt*Ut/_t):0]},ot}function gf(Qe,ot){var xt=eu(Qe);if(!ot)return xt;var wt=w(ot),Ot=l(ot);function _t(Ut,pr){var wr=xt(Ut,pr),ir=wr[1],Mr=ir*Ot/(Qe-1)+wt;return[wr[0]*wt/Mr,ir/Mr]}return _t.invert=function(Ut,pr){var wr=(Qe-1)/(Qe-1-pr*Ot);return xt.invert(wr*Ut,wr*pr*wt)},_t}function Sl(){var Qe=2,ot=0,xt=(0,g.U)(gf),wt=xt(Qe,ot);return wt.distance=function(Ot){return arguments.length?xt(Qe=+Ot,ot):Qe},wt.tilt=function(Ot){return arguments.length?xt(Qe,ot=Ot*b):ot*E},wt.scale(432.147).clipAngle(A(1/Qe)*E-1e-6)}var Ml=1e-4,zc=1e4,Hs=-180,tu=Hs+Ml,al=180,Gs=al-Ml,Ru=-90,ru=Ru+Ml,hi=90,nu=hi-Ml;function yf(Qe){return Qe.length>0}function Nc(Qe){return Math.floor(Qe*zc)/zc}function au(Qe){return Qe===Ru||Qe===hi?[0,Qe]:[Hs,Nc(Qe)]}function Du(Qe){var ot=Qe[0],xt=Qe[1],wt=!1;return ot<=tu?(ot=Hs,wt=!0):ot>=Gs&&(ot=al,wt=!0),xt<=ru?(xt=Ru,wt=!0):xt>=nu&&(xt=hi,wt=!0),wt?[ot,xt]:Qe}function mf(Qe){return Qe.map(Du)}function Xf(Qe,ot,xt){for(var wt=0,Ot=Qe.length;wt<Ot;++wt){var _t=Qe[wt].slice();xt.push({index:-1,polygon:ot,ring:_t});for(var Ut=0,pr=_t.length;Ut<pr;++Ut){var wr=_t[Ut],ir=wr[0],Mr=wr[1];if(ir<=tu||ir>=Gs||Mr<=ru||Mr>=nu){_t[Ut]=Du(wr);for(var kr=Ut+1;kr<pr;++kr){var Br=_t[kr],rn=Br[0],bn=Br[1];if(rn>tu&&rn<Gs&&bn>ru&&bn<nu)break}if(kr===Ut+1)continue;if(Ut){var In={index:-1,polygon:ot,ring:_t.slice(0,Ut+1)};In.ring[In.ring.length-1]=au(Mr),xt[xt.length-1]=In}else xt.pop();if(kr>=pr)break;xt.push({index:-1,polygon:ot,ring:_t=_t.slice(kr-1)}),_t[0]=au(_t[0][1]),Ut=-1,pr=_t.length}}}}function Iu(Qe){var ot,xt=Qe.length,wt={},Ot={},_t,Ut,pr,wr,ir;for(ot=0;ot<xt;++ot){if(_t=Qe[ot],Ut=_t.ring[0],wr=_t.ring[_t.ring.length-1],Ut[0]===wr[0]&&Ut[1]===wr[1]){_t.polygon.push(_t.ring),Qe[ot]=null;continue}_t.index=ot,wt[Ut]=Ot[wr]=_t}for(ot=0;ot<xt;++ot)if(_t=Qe[ot],_t){if(Ut=_t.ring[0],wr=_t.ring[_t.ring.length-1],pr=Ot[Ut],ir=wt[wr],delete wt[Ut],delete Ot[wr],Ut[0]===wr[0]&&Ut[1]===wr[1]){_t.polygon.push(_t.ring);continue}pr?(delete Ot[Ut],delete wt[pr.ring[0]],pr.ring.pop(),Qe[pr.index]=null,_t={index:-1,polygon:pr.polygon,ring:pr.ring.concat(_t.ring)},pr===ir?_t.polygon.push(_t.ring):(_t.index=xt++,Qe.push(wt[_t.ring[0]]=Ot[_t.ring[_t.ring.length-1]]=_t))):ir?(delete wt[wr],delete Ot[ir.ring[ir.ring.length-1]],_t.ring.pop(),_t={index:xt++,polygon:ir.polygon,ring:_t.ring.concat(ir.ring)},Qe[ir.index]=null,Qe.push(wt[_t.ring[0]]=Ot[_t.ring[_t.ring.length-1]]=_t)):(_t.ring.push(_t.ring[0]),_t.polygon.push(_t.ring))}}function _u(Qe){var ot={type:"Feature",geometry:il(Qe.geometry)};return Qe.id!=null&&(ot.id=Qe.id),Qe.bbox!=null&&(ot.bbox=Qe.bbox),Qe.properties!=null&&(ot.properties=Qe.properties),ot}function il(Qe){if(Qe==null)return Qe;var ot,xt,wt,Ot;switch(Qe.type){case"GeometryCollection":ot={type:"GeometryCollection",geometries:Qe.geometries.map(il)};break;case"Point":ot={type:"Point",coordinates:Du(Qe.coordinates)};break;case"MultiPoint":case"LineString":ot={type:Qe.type,coordinates:mf(Qe.coordinates)};break;case"MultiLineString":ot={type:"MultiLineString",coordinates:Qe.coordinates.map(mf)};break;case"Polygon":{var _t=[];Xf(Qe.coordinates,_t,xt=[]),Iu(xt),ot={type:"Polygon",coordinates:_t};break}case"MultiPolygon":{xt=[],wt=-1,Ot=Qe.coordinates.length;for(var Ut=new Array(Ot);++wt<Ot;)Xf(Qe.coordinates[wt],Ut[wt]=[],xt);Iu(xt),ot={type:"MultiPolygon",coordinates:Ut.filter(yf)};break}default:return Qe}return Qe.bbox!=null&&(ot.bbox=Qe.bbox),ot}function ku(Qe){if(Qe==null)return Qe;switch(Qe.type){case"Feature":return _u(Qe);case"FeatureCollection":{var ot={type:"FeatureCollection",features:Qe.features.map(_u)};return Qe.bbox!=null&&(ot.bbox=Qe.bbox),ot}default:return il(Qe)}}function ol(Qe,ot){var xt=y(ot/2),wt=l(d*xt);return[Qe*(.74482-.34588*wt*wt),1.70711*xt]}ol.invert=function(Qe,ot){var xt=ot/1.70711,wt=l(d*xt);return[Qe/(.74482-.34588*wt*wt),2*a(xt)]};function Wi(){return(0,g.c)(ol).scale(146.153)}function Ms(Qe,ot,xt){var wt=(0,Vf.c)(ot,xt),Ot=wt(.5),_t=(0,je.c)([-Ot[0],-Ot[1]])(ot),Ut=wt.distance/2,pr=-L(l(_t[1]*b)/l(Ut)),wr=[-Ot[0],-Ot[1],-(_t[0]>0?c-pr:pr)*E],ir=(0,g.c)(Qe(Ut)).rotate(wr),Mr=(0,je.c)(wr),kr=ir.center;return delete ir.rotate,ir.center=function(Br){return arguments.length?kr(Mr(Br)):Mr.invert(kr())},ir.clipAngle(90)}function Zf(Qe){var ot=w(Qe);function xt(wt,Ot){var _t=(0,tl.Y)(wt,Ot);return _t[0]*=ot,_t}return xt.invert=function(wt,Ot){return tl.Y.invert(wt/ot,Ot)},xt}function El(){return xf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function xf(Qe,ot){return Ms(Zf,Qe,ot)}function Fu(Qe){if(!(Qe*=2))return se.O;var ot=-Qe/2,xt=-ot,wt=Qe*Qe,Ot=y(xt),_t=.5/l(xt);function Ut(pr,wr){var ir=A(w(wr)*w(pr-ot)),Mr=A(w(wr)*w(pr-xt)),kr=wr<0?-1:1;return ir*=ir,Mr*=Mr,[(ir-Mr)/(2*Qe),kr*k(4*wt*Mr-(wt-ir+Mr)*(wt-ir+Mr))/(2*Qe)]}return Ut.invert=function(pr,wr){var ir=wr*wr,Mr=w(k(ir+(Br=pr+ot)*Br)),kr=w(k(ir+(Br=pr+xt)*Br)),Br,rn;return[x(rn=Mr-kr,Br=(Mr+kr)*Ot),(wr<0?-1:1)*A(k(Br*Br+rn*rn)*_t)]},Ut}function Kh(){return Bc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Bc(Qe,ot){return Ms(Fu,Qe,ot)}function mo(Qe,ot){if(P(ot)<h)return[Qe,0];var xt=P(ot/o),wt=L(xt);if(P(Qe)<h||P(P(ot)-o)<h)return[0,f(ot)*c*y(wt/2)];var Ot=w(wt),_t=P(c/Qe-Qe/c)/2,Ut=_t*_t,pr=Ot/(xt+Ot-1),wr=pr*(2/xt-1),ir=wr*wr,Mr=ir+Ut,kr=pr-ir,Br=Ut+pr;return[f(Qe)*c*(_t*kr+k(Ut*kr*kr-Mr*(pr*pr-ir)))/Mr,f(ot)*c*(wr*Br-_t*k((Ut+1)*Mr-Br*Br))/Mr]}mo.invert=function(Qe,ot){if(P(ot)<h)return[Qe,0];if(P(Qe)<h)return[0,o*l(2*a(ot/c))];var xt=(Qe/=c)*Qe,wt=(ot/=c)*ot,Ot=xt+wt,_t=Ot*Ot,Ut=-P(ot)*(1+Ot),pr=Ut-2*wt+xt,wr=-2*Ut+1+2*wt+_t,ir=wt/wr+(2*pr*pr*pr/(wr*wr*wr)-9*Ut*pr/(wr*wr))/27,Mr=(Ut-pr*pr/(3*wr))/wr,kr=2*k(-Mr/3),Br=A(3*ir/(Mr*kr))/3;return[c*(Ot-1+k(1+2*(xt-wt)+_t))/(2*Qe),f(ot)*c*(-kr*w(Br+c/3)-pr/(3*wr))]};function Ou(){return(0,g.c)(mo).scale(79.4183)}function iu(Qe,ot){if(P(ot)<h)return[Qe,0];var xt=P(ot/o),wt=L(xt);if(P(Qe)<h||P(P(ot)-o)<h)return[0,f(ot)*c*y(wt/2)];var Ot=w(wt),_t=P(c/Qe-Qe/c)/2,Ut=_t*_t,pr=Ot*(k(1+Ut)-_t*Ot)/(1+Ut*xt*xt);return[f(Qe)*c*pr,f(ot)*c*k(1-pr*(2*_t+pr))]}iu.invert=function(Qe,ot){if(!Qe)return[0,o*l(2*a(ot/c))];var xt=P(Qe/c),wt=(1-xt*xt-(ot/=c)*ot)/(2*xt),Ot=wt*wt,_t=k(Ot+1);return[f(Qe)*c*(_t-wt),f(ot)*o*l(2*x(k((1-2*wt*xt)*(wt+_t)-xt),k(_t+wt+xt)))]};function Uc(){return(0,g.c)(iu).scale(79.4183)}function sl(Qe,ot){if(P(ot)<h)return[Qe,0];var xt=ot/o,wt=L(xt);if(P(Qe)<h||P(P(ot)-o)<h)return[0,c*y(wt/2)];var Ot=(c/Qe-Qe/c)/2,_t=xt/(1+w(wt));return[c*(f(Qe)*k(Ot*Ot+1-_t*_t)-Ot),c*_t]}sl.invert=function(Qe,ot){if(!ot)return[Qe,0];var xt=ot/c,wt=(c*c*(1-xt*xt)-Qe*Qe)/(2*c*Qe);return[Qe?c*(f(Qe)*k(wt*wt+1)-wt):0,o*l(2*a(xt))]};function Jh(){return(0,g.c)(sl).scale(79.4183)}function Bo(Qe,ot){if(!ot)return[Qe,0];var xt=P(ot);if(!Qe||xt===o)return[0,ot];var wt=xt/o,Ot=wt*wt,_t=(8*wt-Ot*(Ot+2)-5)/(2*Ot*(wt-1)),Ut=_t*_t,pr=wt*_t,wr=Ot+Ut+2*pr,ir=wt+3*_t,Mr=Qe/o,kr=Mr+1/Mr,Br=f(P(Qe)-o)*k(kr*kr-4),rn=Br*Br,bn=wr*(Ot+Ut*rn-1)+(1-Ot)*(Ot*(ir*ir+4*Ut)+12*pr*Ut+4*Ut*Ut),In=(Br*(wr+Ut-1)+2*k(bn))/(4*wr+rn);return[f(Qe)*o*In,f(ot)*o*k(1+Br*P(In)-In*In)]}Bo.invert=function(Qe,ot){var xt;if(!Qe||!ot)return[Qe,ot];ot/=c;var wt=f(Qe)*Qe/o,Ot=(wt*wt-1+4*ot*ot)/P(wt),_t=Ot*Ot,Ut=2*ot,pr=50;do{var wr=Ut*Ut,ir=(8*Ut-wr*(wr+2)-5)/(2*wr*(Ut-1)),Mr=(3*Ut-wr*Ut-10)/(2*wr*Ut),kr=ir*ir,Br=Ut*ir,rn=Ut+ir,bn=rn*rn,In=Ut+3*ir,_n=bn*(wr+kr*_t-1)+(1-wr)*(wr*(In*In+4*kr)+kr*(12*Br+4*kr)),Zn=-2*rn*(4*Br*kr+(1-4*wr+3*wr*wr)*(1+Mr)+kr*(-6+14*wr-_t+(-8+8*wr-2*_t)*Mr)+Br*(-8+12*wr+(-10+10*wr-_t)*Mr)),Ra=k(_n),Da=Ot*(bn+kr-1)+2*Ra-wt*(4*bn+_t),Ia=Ot*(2*ir*Mr+2*rn*(1+Mr))+Zn/Ra-8*rn*(Ot*(-1+kr+bn)+2*Ra)*(1+Mr)/(_t+4*bn);Ut-=xt=Da/Ia}while(xt>h&&--pr>0);return[f(Qe)*(k(Ot*Ot+4)+Ot)*c/4,o*Ut]};function zu(){return(0,g.c)(Bo).scale(127.16)}function bf(Qe,ot,xt,wt,Ot){function _t(Ut,pr){var wr=xt*l(wt*pr),ir=k(1-wr*wr),Mr=k(2/(1+ir*w(Ut*=Ot)));return[Qe*ir*Mr*l(Ut),ot*wr*Mr]}return _t.invert=function(Ut,pr){var wr=Ut/Qe,ir=pr/ot,Mr=k(wr*wr+ir*ir),kr=2*L(Mr/2);return[x(Ut*y(kr),Qe*Mr)/Ot,Mr&&L(pr*l(kr)/(ot*xt*Mr))/wt]},_t}function Ws(Qe,ot,xt,wt){var Ot=c/3;Qe=t(Qe,h),ot=t(ot,h),Qe=i(Qe,o),ot=i(ot,c-h),xt=t(xt,0),xt=i(xt,100-h),wt=t(wt,h);var _t=xt/100+1,Ut=wt/100,pr=A(_t*w(Ot))/Ot,wr=l(Qe)/l(pr*o),ir=ot/c,Mr=k(Ut*l(Qe/2)/l(ot/2)),kr=Mr/k(ir*wr*pr),Br=1/(Mr*k(ir*wr*pr));return bf(kr,Br,wr,pr,ir)}function ll(){var Qe=65*b,ot=60*b,xt=20,wt=200,Ot=(0,g.U)(Ws),_t=Ot(Qe,ot,xt,wt);return _t.poleline=function(Ut){return arguments.length?Ot(Qe=+Ut*b,ot,xt,wt):Qe*E},_t.parallels=function(Ut){return arguments.length?Ot(Qe,ot=+Ut*b,xt,wt):ot*E},_t.inflation=function(Ut){return arguments.length?Ot(Qe,ot,xt=+Ut,wt):xt},_t.ratio=function(Ut){return arguments.length?Ot(Qe,ot,xt,wt=+Ut):wt},_t.scale(163.775)}function Kf(){return ll().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Nu=4*c+3*k(3),Bu=2*k(2*c*k(3)/Nu),wf=xe(Bu*k(3)/c,Bu,Nu/6);function Vc(){return(0,g.c)(wf).scale(176.84)}function Uu(Qe,ot){return[Qe*k(1-3*ot*ot/(c*c)),ot]}Uu.invert=function(Qe,ot){return[Qe/k(1-3*ot*ot/(c*c)),ot]};function Jf(){return(0,g.c)(Uu).scale(152.63)}function Cl(Qe,ot){var xt=w(ot),wt=w(Qe)*xt,Ot=1-wt,_t=w(Qe=x(l(Qe)*xt,-l(ot))),Ut=l(Qe);return xt=k(1-wt*wt),[Ut*xt-_t*Ot,-_t*xt-Ut*Ot]}Cl.invert=function(Qe,ot){var xt=(Qe*Qe+ot*ot)/-2,wt=k(-xt*(2+xt)),Ot=ot*xt+Qe*wt,_t=Qe*xt-ot*wt,Ut=k(_t*_t+Ot*Ot);return[x(wt*Ot,Ut*(1+xt)),Ut?-L(wt*_t/Ut):0]};function $f(){return(0,g.c)(Cl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Vu(Qe,ot){var xt=W(Qe,ot);return[(xt[0]+Qe/o)/2,(xt[1]+ot)/2]}Vu.invert=function(Qe,ot){var xt=Qe,wt=ot,Ot=25;do{var _t=w(wt),Ut=l(wt),pr=l(2*wt),wr=Ut*Ut,ir=_t*_t,Mr=l(xt),kr=w(xt/2),Br=l(xt/2),rn=Br*Br,bn=1-ir*kr*kr,In=bn?A(_t*kr)*k(_n=1/bn):_n=0,_n,Zn=.5*(2*In*_t*Br+xt/o)-Qe,Ra=.5*(In*Ut+wt)-ot,Da=.5*_n*(ir*rn+In*_t*kr*wr)+.5/o,Ia=_n*(Mr*pr/4-In*Ut*Br),za=.125*_n*(pr*Br-In*Ut*ir*Mr),Xa=.5*_n*(wr*kr+In*rn*_t)+.5,vi=Ia*za-Xa*Da,Oi=(Ra*Ia-Zn*Xa)/vi,ce=(Zn*za-Ra*Da)/vi;xt-=Oi,wt-=ce}while((P(Oi)>h||P(ce)>h)&&--Ot>0);return[xt,wt]};function jc(){return(0,g.c)(Vu).scale(158.837)}},88728:function(H,j,e){e.d(j,{c:function(){return g}});function g(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(w){x(a,w,this.t),x(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new P;function x(w,v,p){var r=w.s=v+p,t=r-v,i=r-t;w.t=v-i+(p-t)}},95384:function(H,j,e){e.d(j,{cp:function(){return M},mQ:function(){return w},oB:function(){return u}});var g=e(88728),P=e(64528),a=e(70932),x=e(16016),w=(0,g.c)(),v=(0,g.c)(),p,r,t,i,n,u={point:a.c,lineStart:a.c,lineEnd:a.c,polygonStart:function(){w.reset(),u.lineStart=f,u.lineEnd=l},polygonEnd:function(){var c=+w;v.add(c<0?P.kD+c:c),this.lineStart=this.lineEnd=this.point=a.c},sphere:function(){v.add(P.kD)}};function f(){u.point=y}function l(){h(p,r)}function y(c,o){u.point=h,p=c,r=o,c*=P.qw,o*=P.qw,t=c,i=(0,P.W8)(o=o/2+P.wL),n=(0,P.g$)(o)}function h(c,o){c*=P.qw,o*=P.qw,o=o/2+P.wL;var d=c-t,T=d>=0?1:-1,S=T*d,C=(0,P.W8)(o),m=(0,P.g$)(o),E=n*m,b=i*C+E*(0,P.W8)(S),s=E*T*(0,P.g$)(S);w.add((0,P.WE)(s,b)),t=c,i=C,n=m}function M(c){return v.reset(),(0,x.c)(c,u),v*2}},13696:function(H,j,e){e.d(j,{c:function(){return L}});var g=e(88728),P=e(95384),a=e(84220),x=e(64528),w=e(16016),v,p,r,t,i,n,u,f,l=(0,g.c)(),y,h,M={point:c,lineStart:d,lineEnd:T,polygonStart:function(){M.point=S,M.lineStart=C,M.lineEnd=m,l.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),M.point=c,M.lineStart=d,M.lineEnd=T,P.mQ<0?(v=-(r=180),p=-(t=90)):l>x.Gg?t=90:l<-x.Gg&&(p=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function c(A,k){y.push(h=[v=A,r=A]),k<p&&(p=k),k>t&&(t=k)}function o(A,k){var _=(0,a.ux)([A*x.qw,k*x.qw]);if(f){var U=(0,a.CW)(f,_),F=[U[1],-U[0],0],z=(0,a.CW)(F,U);(0,a.cJ)(z),z=(0,a.G)(z);var B=A-i,N=B>0?1:-1,V=z[0]*x.oh*N,W,Q=(0,x.a2)(B)>180;Q^(N*i<V&&V<N*A)?(W=z[1]*x.oh,W>t&&(t=W)):(V=(V+360)%360-180,Q^(N*i<V&&V<N*A)?(W=-z[1]*x.oh,W<p&&(p=W)):(k<p&&(p=k),k>t&&(t=k))),Q?A<i?E(v,A)>E(v,r)&&(r=A):E(A,r)>E(v,r)&&(v=A):r>=v?(A<v&&(v=A),A>r&&(r=A)):A>i?E(v,A)>E(v,r)&&(r=A):E(A,r)>E(v,r)&&(v=A)}else y.push(h=[v=A,r=A]);k<p&&(p=k),k>t&&(t=k),f=_,i=A}function d(){M.point=o}function T(){h[0]=v,h[1]=r,M.point=c,f=null}function S(A,k){if(f){var _=A-i;l.add((0,x.a2)(_)>180?_+(_>0?360:-360):_)}else n=A,u=k;P.oB.point(A,k),o(A,k)}function C(){P.oB.lineStart()}function m(){S(n,u),P.oB.lineEnd(),(0,x.a2)(l)>x.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,f=null}function E(A,k){return(k-=A)<0?k+360:k}function b(A,k){return A[0]-k[0]}function s(A,k){return A[0]<=A[1]?A[0]<=k&&k<=A[1]:k<A[0]||A[1]<k}function L(A){var k,_,U,F,z,B,N;if(t=r=-(v=p=1/0),y=[],(0,w.c)(A,M),_=y.length){for(y.sort(b),k=1,U=y[0],z=[U];k<_;++k)F=y[k],s(U,F[0])||s(U,F[1])?(E(U[0],F[1])>E(U[0],U[1])&&(U[1]=F[1]),E(F[0],U[1])>E(U[0],U[1])&&(U[0]=F[0])):z.push(U=F);for(B=-1/0,_=z.length-1,k=0,U=z[_];k<=_;U=F,++k)F=z[k],(N=E(U[1],F[0]))>B&&(B=N,v=F[0],r=U[1])}return y=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(H,j,e){e.d(j,{CW:function(){return w},Ez:function(){return x},G:function(){return P},cJ:function(){return r},mg:function(){return v},ux:function(){return a},wx:function(){return p}});var g=e(64528);function P(t){return[(0,g.WE)(t[1],t[0]),(0,g.qR)(t[2])]}function a(t){var i=t[0],n=t[1],u=(0,g.W8)(n);return[u*(0,g.W8)(i),u*(0,g.g$)(i),(0,g.g$)(n)]}function x(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function w(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function v(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function p(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function r(t){var i=(0,g._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}},24052:function(H,j,e){e.d(j,{c:function(){return _}});var g=e(64528),P=e(70932),a=e(16016),x,w,v,p,r,t,i,n,u,f,l,y,h,M,c,o,d={sphere:P.c,point:T,lineStart:C,lineEnd:b,polygonStart:function(){d.lineStart=s,d.lineEnd=L},polygonEnd:function(){d.lineStart=C,d.lineEnd=b}};function T(U,F){U*=g.qw,F*=g.qw;var z=(0,g.W8)(F);S(z*(0,g.W8)(U),z*(0,g.g$)(U),(0,g.g$)(F))}function S(U,F,z){++x,v+=(U-v)/x,p+=(F-p)/x,r+=(z-r)/x}function C(){d.point=m}function m(U,F){U*=g.qw,F*=g.qw;var z=(0,g.W8)(F);M=z*(0,g.W8)(U),c=z*(0,g.g$)(U),o=(0,g.g$)(F),d.point=E,S(M,c,o)}function E(U,F){U*=g.qw,F*=g.qw;var z=(0,g.W8)(F),B=z*(0,g.W8)(U),N=z*(0,g.g$)(U),V=(0,g.g$)(F),W=(0,g.WE)((0,g._I)((W=c*V-o*N)*W+(W=o*B-M*V)*W+(W=M*N-c*B)*W),M*B+c*N+o*V);w+=W,t+=W*(M+(M=B)),i+=W*(c+(c=N)),n+=W*(o+(o=V)),S(M,c,o)}function b(){d.point=T}function s(){d.point=A}function L(){k(y,h),d.point=T}function A(U,F){y=U,h=F,U*=g.qw,F*=g.qw,d.point=k;var z=(0,g.W8)(F);M=z*(0,g.W8)(U),c=z*(0,g.g$)(U),o=(0,g.g$)(F),S(M,c,o)}function k(U,F){U*=g.qw,F*=g.qw;var z=(0,g.W8)(F),B=z*(0,g.W8)(U),N=z*(0,g.g$)(U),V=(0,g.g$)(F),W=c*V-o*N,Q=o*B-M*V,re=M*N-c*B,ne=(0,g._I)(W*W+Q*Q+re*re),fe=(0,g.qR)(ne),$=ne&&-fe/ne;u+=$*W,f+=$*Q,l+=$*re,w+=fe,t+=fe*(M+(M=B)),i+=fe*(c+(c=N)),n+=fe*(o+(o=V)),S(M,c,o)}function _(U){x=w=v=p=r=t=i=n=u=f=l=0,(0,a.c)(U,d);var F=u,z=f,B=l,N=F*F+z*z+B*B;return N<g.a8&&(F=t,z=i,B=n,w<g.Gg&&(F=v,z=p,B=r),N=F*F+z*z+B*B,N<g.a8)?[NaN,NaN]:[(0,g.WE)(z,F)*g.oh,(0,g.qR)(B/(0,g._I)(N))*g.oh]}},61780:function(H,j,e){e.d(j,{Q:function(){return w},c:function(){return p}});var g=e(84220);function P(r){return function(){return r}}var a=e(64528),x=e(92992);function w(r,t,i,n,u,f){if(i){var l=(0,a.W8)(t),y=(0,a.g$)(t),h=n*i;u==null?(u=t+n*a.kD,f=t-h/2):(u=v(l,u),f=v(l,f),(n>0?u<f:u>f)&&(u+=n*a.kD));for(var M,c=u;n>0?c>f:c<f;c-=h)M=(0,g.G)([l,-y*(0,a.W8)(c),-y*(0,a.g$)(c)]),r.point(M[0],M[1])}}function v(r,t){t=(0,g.ux)(t),t[0]-=r,(0,g.cJ)(t);var i=(0,a.mE)(-t[1]);return((-t[2]<0?-i:i)+a.kD-a.Gg)%a.kD}function p(){var r=P([0,0]),t=P(90),i=P(6),n,u,f={point:l};function l(h,M){n.push(h=u(h,M)),h[0]*=a.oh,h[1]*=a.oh}function y(){var h=r.apply(this,arguments),M=t.apply(this,arguments)*a.qw,c=i.apply(this,arguments)*a.qw;return n=[],u=(0,x.O)(-h[0]*a.qw,-h[1]*a.qw,0).invert,w(f,M,c,1),h={type:"Polygon",coordinates:[n]},n=u=null,h}return y.center=function(h){return arguments.length?(r=typeof h=="function"?h:P([+h[0],+h[1]]),y):r},y.radius=function(h){return arguments.length?(t=typeof h=="function"?h:P(+h),y):t},y.precision=function(h){return arguments.length?(i=typeof h=="function"?h:P(+h),y):i},y}},78284:function(H,j,e){var g=e(14229),P=e(64528);j.c=(0,g.c)(function(){return!0},a,w,[-P.pi,-P.or]);function a(v){var p=NaN,r=NaN,t=NaN,i;return{lineStart:function(){v.lineStart(),i=1},point:function(n,u){var f=n>0?P.pi:-P.pi,l=(0,P.a2)(n-p);(0,P.a2)(l-P.pi)<P.Gg?(v.point(p,r=(r+u)/2>0?P.or:-P.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(f,r),v.point(n,r),i=0):t!==f&&l>=P.pi&&((0,P.a2)(p-t)<P.Gg&&(p-=t*P.Gg),(0,P.a2)(n-f)<P.Gg&&(n-=f*P.Gg),r=x(p,r,n,u),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(f,r),i=0),v.point(p=n,r=u),t=f},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-i}}}function x(v,p,r,t){var i,n,u=(0,P.g$)(v-r);return(0,P.a2)(u)>P.Gg?(0,P.MQ)(((0,P.g$)(p)*(n=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(i=(0,P.W8)(p))*(0,P.g$)(v))/(i*n*u)):(p+t)/2}function w(v,p,r,t){var i;if(v==null)i=r*P.or,t.point(-P.pi,i),t.point(0,i),t.point(P.pi,i),t.point(P.pi,0),t.point(P.pi,-i),t.point(0,-i),t.point(-P.pi,-i),t.point(-P.pi,0),t.point(-P.pi,i);else if((0,P.a2)(v[0]-p[0])>P.Gg){var n=v[0]<p[0]?P.pi:-P.pi;i=r*n/2,t.point(-n,i),t.point(0,i),t.point(n,i)}else t.point(p[0],p[1])}},97208:function(H,j,e){e.d(j,{c:function(){return P}});var g=e(70932);function P(){var a=[],x;return{point:function(w,v,p){x.push([w,v,p])},lineStart:function(){a.push(x=[])},lineEnd:g.c,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var w=a;return a=[],x=null,w}}}},2728:function(H,j,e){e.d(j,{c:function(){return v}});var g=e(84220),P=e(61780),a=e(64528),x=e(41860),w=e(14229);function v(p){var r=(0,a.W8)(p),t=6*a.qw,i=r>0,n=(0,a.a2)(r)>a.Gg;function u(M,c,o,d){(0,P.Q)(d,p,t,o,M,c)}function f(M,c){return(0,a.W8)(M)*(0,a.W8)(c)>r}function l(M){var c,o,d,T,S;return{lineStart:function(){T=d=!1,S=1},point:function(C,m){var E=[C,m],b,s=f(C,m),L=i?s?0:h(C,m):s?h(C+(C<0?a.pi:-a.pi),m):0;if(!c&&(T=d=s)&&M.lineStart(),s!==d&&(b=y(c,E),(!b||(0,x.c)(c,b)||(0,x.c)(E,b))&&(E[2]=1)),s!==d)S=0,s?(M.lineStart(),b=y(E,c),M.point(b[0],b[1])):(b=y(c,E),M.point(b[0],b[1],2),M.lineEnd()),c=b;else if(n&&c&&i^s){var A;!(L&o)&&(A=y(E,c,!0))&&(S=0,i?(M.lineStart(),M.point(A[0][0],A[0][1]),M.point(A[1][0],A[1][1]),M.lineEnd()):(M.point(A[1][0],A[1][1]),M.lineEnd(),M.lineStart(),M.point(A[0][0],A[0][1],3)))}s&&(!c||!(0,x.c)(c,E))&&M.point(E[0],E[1]),c=E,d=s,o=L},lineEnd:function(){d&&M.lineEnd(),c=null},clean:function(){return S|(T&&d)<<1}}}function y(M,c,o){var d=(0,g.ux)(M),T=(0,g.ux)(c),S=[1,0,0],C=(0,g.CW)(d,T),m=(0,g.Ez)(C,C),E=C[0],b=m-E*E;if(!b)return!o&&M;var s=r*m/b,L=-r*E/b,A=(0,g.CW)(S,C),k=(0,g.wx)(S,s),_=(0,g.wx)(C,L);(0,g.mg)(k,_);var U=A,F=(0,g.Ez)(k,U),z=(0,g.Ez)(U,U),B=F*F-z*((0,g.Ez)(k,k)-1);if(!(B<0)){var N=(0,a._I)(B),V=(0,g.wx)(U,(-F-N)/z);if((0,g.mg)(V,k),V=(0,g.G)(V),!o)return V;var W=M[0],Q=c[0],re=M[1],ne=c[1],fe;Q<W&&(fe=W,W=Q,Q=fe);var $=Q-W,X=(0,a.a2)($-a.pi)<a.Gg,oe=X||$<a.Gg;if(!X&&ne<re&&(fe=re,re=ne,ne=fe),oe?X?re+ne>0^V[1]<((0,a.a2)(V[0]-W)<a.Gg?re:ne):re<=V[1]&&V[1]<=ne:$>a.pi^(W<=V[0]&&V[0]<=Q)){var Y=(0,g.wx)(U,(-F+N)/z);return(0,g.mg)(Y,k),[V,(0,g.G)(Y)]}}}function h(M,c){var o=i?p:a.pi-p,d=0;return M<-o?d|=1:M>o&&(d|=2),c<-o?d|=4:c>o&&(d|=8),d}return(0,w.c)(f,l,u,i?[0,-p]:[-a.pi,p-a.pi])}},14229:function(H,j,e){e.d(j,{c:function(){return v}});var g=e(97208),P=e(32232),a=e(64528),x=e(58196),w=e(84706);function v(t,i,n,u){return function(f){var l=i(f),y=(0,g.c)(),h=i(y),M=!1,c,o,d,T={point:S,lineStart:m,lineEnd:E,polygonStart:function(){T.point=b,T.lineStart=s,T.lineEnd=L,o=[],c=[]},polygonEnd:function(){T.point=S,T.lineStart=m,T.lineEnd=E,o=(0,w.Uf)(o);var A=(0,x.c)(c,u);o.length?(M||(f.polygonStart(),M=!0),(0,P.c)(o,r,A,n,f)):A&&(M||(f.polygonStart(),M=!0),f.lineStart(),n(null,null,1,f),f.lineEnd()),M&&(f.polygonEnd(),M=!1),o=c=null},sphere:function(){f.polygonStart(),f.lineStart(),n(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function S(A,k){t(A,k)&&f.point(A,k)}function C(A,k){l.point(A,k)}function m(){T.point=C,l.lineStart()}function E(){T.point=S,l.lineEnd()}function b(A,k){d.push([A,k]),h.point(A,k)}function s(){h.lineStart(),d=[]}function L(){b(d[0][0],d[0][1]),h.lineEnd();var A=h.clean(),k=y.result(),_,U=k.length,F,z,B;if(d.pop(),c.push(d),d=null,!!U){if(A&1){if(z=k[0],(F=z.length-1)>0){for(M||(f.polygonStart(),M=!0),f.lineStart(),_=0;_<F;++_)f.point((B=z[_])[0],B[1]);f.lineEnd()}return}U>1&&A&2&&k.push(k.pop().concat(k.shift())),o.push(k.filter(p))}}return T}}function p(t){return t.length>1}function r(t,i){return((t=t.x)[0]<0?t[1]-a.or-a.Gg:a.or-t[1])-((i=i.x)[0]<0?i[1]-a.or-a.Gg:a.or-i[1])}},21676:function(H,j,e){e.d(j,{c:function(){return r}});var g=e(64528),P=e(97208);function a(t,i,n,u,f,l){var y=t[0],h=t[1],M=i[0],c=i[1],o=0,d=1,T=M-y,S=c-h,C;if(C=n-y,!(!T&&C>0)){if(C/=T,T<0){if(C<o)return;C<d&&(d=C)}else if(T>0){if(C>d)return;C>o&&(o=C)}if(C=f-y,!(!T&&C<0)){if(C/=T,T<0){if(C>d)return;C>o&&(o=C)}else if(T>0){if(C<o)return;C<d&&(d=C)}if(C=u-h,!(!S&&C>0)){if(C/=S,S<0){if(C<o)return;C<d&&(d=C)}else if(S>0){if(C>d)return;C>o&&(o=C)}if(C=l-h,!(!S&&C<0)){if(C/=S,S<0){if(C>d)return;C>o&&(o=C)}else if(S>0){if(C<o)return;C<d&&(d=C)}return o>0&&(t[0]=y+o*T,t[1]=h+o*S),d<1&&(i[0]=y+d*T,i[1]=h+d*S),!0}}}}}var x=e(32232),w=e(84706),v=1e9,p=-v;function r(t,i,n,u){function f(c,o){return t<=c&&c<=n&&i<=o&&o<=u}function l(c,o,d,T){var S=0,C=0;if(c==null||(S=y(c,d))!==(C=y(o,d))||M(c,o)<0^d>0)do T.point(S===0||S===3?t:n,S>1?u:i);while((S=(S+d+4)%4)!==C);else T.point(o[0],o[1])}function y(c,o){return(0,g.a2)(c[0]-t)<g.Gg?o>0?0:3:(0,g.a2)(c[0]-n)<g.Gg?o>0?2:1:(0,g.a2)(c[1]-i)<g.Gg?o>0?1:0:o>0?3:2}function h(c,o){return M(c.x,o.x)}function M(c,o){var d=y(c,1),T=y(o,1);return d!==T?d-T:d===0?o[1]-c[1]:d===1?c[0]-o[0]:d===2?c[1]-o[1]:o[0]-c[0]}return function(c){var o=c,d=(0,P.c)(),T,S,C,m,E,b,s,L,A,k,_,U={point:F,lineStart:V,lineEnd:W,polygonStart:B,polygonEnd:N};function F(re,ne){f(re,ne)&&o.point(re,ne)}function z(){for(var re=0,ne=0,fe=S.length;ne<fe;++ne)for(var $=S[ne],X=1,oe=$.length,Y=$[0],ee,se,q=Y[0],K=Y[1];X<oe;++X)ee=q,se=K,Y=$[X],q=Y[0],K=Y[1],se<=u?K>u&&(q-ee)*(u-se)>(K-se)*(t-ee)&&++re:K<=u&&(q-ee)*(u-se)<(K-se)*(t-ee)&&--re;return re}function B(){o=d,T=[],S=[],_=!0}function N(){var re=z(),ne=_&&re,fe=(T=(0,w.Uf)(T)).length;(ne||fe)&&(c.polygonStart(),ne&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),fe&&(0,x.c)(T,h,re,l,c),c.polygonEnd()),o=c,T=S=C=null}function V(){U.point=Q,S&&S.push(C=[]),k=!0,A=!1,s=L=NaN}function W(){T&&(Q(m,E),b&&A&&d.rejoin(),T.push(d.result())),U.point=F,A&&o.lineEnd()}function Q(re,ne){var fe=f(re,ne);if(S&&C.push([re,ne]),k)m=re,E=ne,b=fe,k=!1,fe&&(o.lineStart(),o.point(re,ne));else if(fe&&A)o.point(re,ne);else{var $=[s=Math.max(p,Math.min(v,s)),L=Math.max(p,Math.min(v,L))],X=[re=Math.max(p,Math.min(v,re)),ne=Math.max(p,Math.min(v,ne))];a($,X,t,i,n,u)?(A||(o.lineStart(),o.point($[0],$[1])),o.point(X[0],X[1]),fe||o.lineEnd(),_=!1):fe&&(o.lineStart(),o.point(re,ne),_=!1)}s=re,L=ne,A=fe}return U}}},32232:function(H,j,e){e.d(j,{c:function(){return x}});var g=e(41860),P=e(64528);function a(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function x(v,p,r,t,i){var n=[],u=[],f,l;if(v.forEach(function(d){if(!((T=d.length-1)<=0)){var T,S=d[0],C=d[T],m;if((0,g.c)(S,C)){if(!S[2]&&!C[2]){for(i.lineStart(),f=0;f<T;++f)i.point((S=d[f])[0],S[1]);i.lineEnd();return}C[0]+=2*P.Gg}n.push(m=new a(S,d,null,!0)),u.push(m.o=new a(S,null,m,!1)),n.push(m=new a(C,d,null,!1)),u.push(m.o=new a(C,null,m,!0))}}),!!n.length){for(u.sort(p),w(n),w(u),f=0,l=u.length;f<l;++f)u[f].e=r=!r;for(var y=n[0],h,M;;){for(var c=y,o=!0;c.v;)if((c=c.n)===y)return;h=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(o)for(f=0,l=h.length;f<l;++f)i.point((M=h[f])[0],M[1]);else t(c.x,c.n.x,1,i);c=c.n}else{if(o)for(h=c.p.z,f=h.length-1;f>=0;--f)i.point((M=h[f])[0],M[1]);else t(c.x,c.p.x,-1,i);c=c.p}c=c.o,h=c.z,o=!o}while(!c.v);i.lineEnd()}}}function w(v){if(p=v.length){for(var p,r=0,t=v[0],i;++r<p;)t.n=i=v[r],i.p=t,t=i;t.n=i=v[0],i.p=t}}},68120:function(H,j,e){e.d(j,{c:function(){return g}});function g(P,a){function x(w,v){return w=P(w,v),a(w[0],w[1])}return P.invert&&a.invert&&(x.invert=function(w,v){return w=a.invert(w,v),w&&P.invert(w[0],w[1])}),x}},7376:function(H,j,e){e.d(j,{c:function(){return g}});function g(P){return P}},83356:function(H,j,e){e.r(j),e.d(j,{geoAlbers:function(){return yr},geoAlbersUsa:function(){return lt},geoArea:function(){return g.cp},geoAzimuthalEqualArea:function(){return Tt.c},geoAzimuthalEqualAreaRaw:function(){return Tt.y},geoAzimuthalEquidistant:function(){return Ct.c},geoAzimuthalEquidistantRaw:function(){return Ct.O},geoBounds:function(){return P.c},geoCentroid:function(){return a.c},geoCircle:function(){return x.c},geoClipAntimeridian:function(){return w.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return fr},geoConicEqualArea:function(){return Qt},geoConicEqualAreaRaw:function(){return Zt},geoConicEquidistant:function(){return Ge},geoConicEquidistantRaw:function(){return Ye},geoContains:function(){return B},geoDistance:function(){return b},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return Nt},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return gr.c},geoGnomonicRaw:function(){return gr.Y},geoGraticule:function(){return Q},geoGraticule10:function(){return re},geoIdentity:function(){return vr},geoInterpolate:function(){return ne.c},geoLength:function(){return C},geoMercator:function(){return Vt},geoMercatorRaw:function(){return Dt},geoNaturalEarth1:function(){return Gr.c},geoNaturalEarth1Raw:function(){return Gr.g},geoOrthographic:function(){return Dr.c},geoOrthographicRaw:function(){return Dr.t},geoPath:function(){return kt},geoProjection:function(){return Kt.c},geoProjectionMutator:function(){return Kt.U},geoRotation:function(){return It.c},geoStereographic:function(){return nn},geoStereographicRaw:function(){return hn},geoStream:function(){return f.c},geoTransform:function(){return br.c},geoTransverseMercator:function(){return Cn},geoTransverseMercatorRaw:function(){return Pn}});var g=e(95384),P=e(13696),a=e(24052),x=e(61780),w=e(78284),v=e(2728),p=e(21676);function r(){var Ar=0,Pr=0,Wr=960,Vr=500,on,yn,mn;return mn={stream:function(Ln){return on&&yn===Ln?on:on=(0,p.c)(Ar,Pr,Wr,Vr)(yn=Ln)},extent:function(Ln){return arguments.length?(Ar=+Ln[0][0],Pr=+Ln[0][1],Wr=+Ln[1][0],Vr=+Ln[1][1],on=yn=null,mn):[[Ar,Pr],[Wr,Vr]]}}}var t=e(58196),i=e(88728),n=e(64528),u=e(70932),f=e(16016),l=(0,i.c)(),y,h,M,c={sphere:u.c,point:u.c,lineStart:o,lineEnd:u.c,polygonStart:u.c,polygonEnd:u.c};function o(){c.point=T,c.lineEnd=d}function d(){c.point=c.lineEnd=u.c}function T(Ar,Pr){Ar*=n.qw,Pr*=n.qw,y=Ar,h=(0,n.g$)(Pr),M=(0,n.W8)(Pr),c.point=S}function S(Ar,Pr){Ar*=n.qw,Pr*=n.qw;var Wr=(0,n.g$)(Pr),Vr=(0,n.W8)(Pr),on=(0,n.a2)(Ar-y),yn=(0,n.W8)(on),mn=(0,n.g$)(on),Ln=Vr*mn,zn=M*Wr-h*Vr*yn,aa=h*Wr+M*Vr*yn;l.add((0,n.WE)((0,n._I)(Ln*Ln+zn*zn),aa)),y=Ar,h=Wr,M=Vr}function C(Ar){return l.reset(),(0,f.c)(Ar,c),+l}var m=[null,null],E={type:"LineString",coordinates:m};function b(Ar,Pr){return m[0]=Ar,m[1]=Pr,C(E)}var s={Feature:function(Ar,Pr){return A(Ar.geometry,Pr)},FeatureCollection:function(Ar,Pr){for(var Wr=Ar.features,Vr=-1,on=Wr.length;++Vr<on;)if(A(Wr[Vr].geometry,Pr))return!0;return!1}},L={Sphere:function(){return!0},Point:function(Ar,Pr){return k(Ar.coordinates,Pr)},MultiPoint:function(Ar,Pr){for(var Wr=Ar.coordinates,Vr=-1,on=Wr.length;++Vr<on;)if(k(Wr[Vr],Pr))return!0;return!1},LineString:function(Ar,Pr){return _(Ar.coordinates,Pr)},MultiLineString:function(Ar,Pr){for(var Wr=Ar.coordinates,Vr=-1,on=Wr.length;++Vr<on;)if(_(Wr[Vr],Pr))return!0;return!1},Polygon:function(Ar,Pr){return U(Ar.coordinates,Pr)},MultiPolygon:function(Ar,Pr){for(var Wr=Ar.coordinates,Vr=-1,on=Wr.length;++Vr<on;)if(U(Wr[Vr],Pr))return!0;return!1},GeometryCollection:function(Ar,Pr){for(var Wr=Ar.geometries,Vr=-1,on=Wr.length;++Vr<on;)if(A(Wr[Vr],Pr))return!0;return!1}};function A(Ar,Pr){return Ar&&L.hasOwnProperty(Ar.type)?L[Ar.type](Ar,Pr):!1}function k(Ar,Pr){return b(Ar,Pr)===0}function _(Ar,Pr){for(var Wr,Vr,on,yn=0,mn=Ar.length;yn<mn;yn++){if(Vr=b(Ar[yn],Pr),Vr===0||yn>0&&(on=b(Ar[yn],Ar[yn-1]),on>0&&Wr<=on&&Vr<=on&&(Wr+Vr-on)*(1-Math.pow((Wr-Vr)/on,2))<n.a8*on))return!0;Wr=Vr}return!1}function U(Ar,Pr){return!!(0,t.c)(Ar.map(F),z(Pr))}function F(Ar){return Ar=Ar.map(z),Ar.pop(),Ar}function z(Ar){return[Ar[0]*n.qw,Ar[1]*n.qw]}function B(Ar,Pr){return(Ar&&s.hasOwnProperty(Ar.type)?s[Ar.type]:A)(Ar,Pr)}var N=e(84706);function V(Ar,Pr,Wr){var Vr=(0,N.ik)(Ar,Pr-n.Gg,Wr).concat(Pr);return function(on){return Vr.map(function(yn){return[on,yn]})}}function W(Ar,Pr,Wr){var Vr=(0,N.ik)(Ar,Pr-n.Gg,Wr).concat(Pr);return function(on){return Vr.map(function(yn){return[yn,on]})}}function Q(){var Ar,Pr,Wr,Vr,on,yn,mn,Ln,zn=10,aa=zn,ha=90,pa=360,ua,na,Tr,an,qr=2.5;function gn(){return{type:"MultiLineString",coordinates:Hn()}}function Hn(){return(0,N.ik)((0,n.Km)(Vr/ha)*ha,Wr,ha).map(Tr).concat((0,N.ik)((0,n.Km)(Ln/pa)*pa,mn,pa).map(an)).concat((0,N.ik)((0,n.Km)(Pr/zn)*zn,Ar,zn).filter(function(An){return(0,n.a2)(An%ha)>n.Gg}).map(ua)).concat((0,N.ik)((0,n.Km)(yn/aa)*aa,on,aa).filter(function(An){return(0,n.a2)(An%pa)>n.Gg}).map(na))}return gn.lines=function(){return Hn().map(function(An){return{type:"LineString",coordinates:An}})},gn.outline=function(){return{type:"Polygon",coordinates:[Tr(Vr).concat(an(mn).slice(1),Tr(Wr).reverse().slice(1),an(Ln).reverse().slice(1))]}},gn.extent=function(An){return arguments.length?gn.extentMajor(An).extentMinor(An):gn.extentMinor()},gn.extentMajor=function(An){return arguments.length?(Vr=+An[0][0],Wr=+An[1][0],Ln=+An[0][1],mn=+An[1][1],Vr>Wr&&(An=Vr,Vr=Wr,Wr=An),Ln>mn&&(An=Ln,Ln=mn,mn=An),gn.precision(qr)):[[Vr,Ln],[Wr,mn]]},gn.extentMinor=function(An){return arguments.length?(Pr=+An[0][0],Ar=+An[1][0],yn=+An[0][1],on=+An[1][1],Pr>Ar&&(An=Pr,Pr=Ar,Ar=An),yn>on&&(An=yn,yn=on,on=An),gn.precision(qr)):[[Pr,yn],[Ar,on]]},gn.step=function(An){return arguments.length?gn.stepMajor(An).stepMinor(An):gn.stepMinor()},gn.stepMajor=function(An){return arguments.length?(ha=+An[0],pa=+An[1],gn):[ha,pa]},gn.stepMinor=function(An){return arguments.length?(zn=+An[0],aa=+An[1],gn):[zn,aa]},gn.precision=function(An){return arguments.length?(qr=+An,ua=V(yn,on,90),na=W(Pr,Ar,qr),Tr=V(Ln,mn,90),an=W(Vr,Wr,qr),gn):qr},gn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function re(){return Q()()}var ne=e(27284),fe=e(7376),$=(0,i.c)(),X=(0,i.c)(),oe,Y,ee,se,q={point:u.c,lineStart:u.c,lineEnd:u.c,polygonStart:function(){q.lineStart=K,q.lineEnd=he},polygonEnd:function(){q.lineStart=q.lineEnd=q.point=u.c,$.add((0,n.a2)(X)),X.reset()},result:function(){var Ar=$/2;return $.reset(),Ar}};function K(){q.point=le}function le(Ar,Pr){q.point=ie,oe=ee=Ar,Y=se=Pr}function ie(Ar,Pr){X.add(se*Ar-ee*Pr),ee=Ar,se=Pr}function he(){ie(oe,Y)}var ye=q,Ce=e(73784),Ae=0,ke=0,we=0,Ee=0,xe=0,Re=0,Ve=0,Ue=0,Be=0,Xe,ut,dt,at,We={point:rt,lineStart:st,lineEnd:At,polygonStart:function(){We.lineStart=tt,We.lineEnd=_e},polygonEnd:function(){We.point=rt,We.lineStart=st,We.lineEnd=At},result:function(){var Ar=Be?[Ve/Be,Ue/Be]:Re?[Ee/Re,xe/Re]:we?[Ae/we,ke/we]:[NaN,NaN];return Ae=ke=we=Ee=xe=Re=Ve=Ue=Be=0,Ar}};function rt(Ar,Pr){Ae+=Ar,ke+=Pr,++we}function st(){We.point=ht}function ht(Ar,Pr){We.point=vt,rt(dt=Ar,at=Pr)}function vt(Ar,Pr){var Wr=Ar-dt,Vr=Pr-at,on=(0,n._I)(Wr*Wr+Vr*Vr);Ee+=on*(dt+Ar)/2,xe+=on*(at+Pr)/2,Re+=on,rt(dt=Ar,at=Pr)}function At(){We.point=rt}function tt(){We.point=je}function _e(){Ke(Xe,ut)}function je(Ar,Pr){We.point=Ke,rt(Xe=dt=Ar,ut=at=Pr)}function Ke(Ar,Pr){var Wr=Ar-dt,Vr=Pr-at,on=(0,n._I)(Wr*Wr+Vr*Vr);Ee+=on*(dt+Ar)/2,xe+=on*(at+Pr)/2,Re+=on,on=at*Ar-dt*Pr,Ve+=on*(dt+Ar),Ue+=on*(at+Pr),Be+=on*3,rt(dt=Ar,at=Pr)}var He=We;function Ie(Ar){this._context=Ar}Ie.prototype={_radius:4.5,pointRadius:function(Ar){return this._radius=Ar,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ar,Pr){switch(this._point){case 0:{this._context.moveTo(Ar,Pr),this._point=1;break}case 1:{this._context.lineTo(Ar,Pr);break}default:{this._context.moveTo(Ar+this._radius,Pr),this._context.arc(Ar,Pr,this._radius,0,n.kD);break}}},result:u.c};var be=(0,i.c)(),me,Me,Te,ze,Je,nt={point:u.c,lineStart:function(){nt.point=pt},lineEnd:function(){me&&yt(Me,Te),nt.point=u.c},polygonStart:function(){me=!0},polygonEnd:function(){me=null},result:function(){var Ar=+be;return be.reset(),Ar}};function pt(Ar,Pr){nt.point=yt,Me=ze=Ar,Te=Je=Pr}function yt(Ar,Pr){ze-=Ar,Je-=Pr,be.add((0,n._I)(ze*ze+Je*Je)),ze=Ar,Je=Pr}var Yt=nt;function Xt(){this._string=[]}Xt.prototype={_radius:4.5,_circle:St(4.5),pointRadius:function(Ar){return(Ar=+Ar)!==this._radius&&(this._radius=Ar,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ar,Pr){switch(this._point){case 0:{this._string.push("M",Ar,",",Pr),this._point=1;break}case 1:{this._string.push("L",Ar,",",Pr);break}default:{this._circle==null&&(this._circle=St(this._radius)),this._string.push("M",Ar,",",Pr,this._circle);break}}},result:function(){if(this._string.length){var Ar=this._string.join("");return this._string=[],Ar}else return null}};function St(Ar){return"m0,"+Ar+"a"+Ar+","+Ar+" 0 1,1 0,"+-2*Ar+"a"+Ar+","+Ar+" 0 1,1 0,"+2*Ar+"z"}function kt(Ar,Pr){var Wr=4.5,Vr,on;function yn(mn){return mn&&(typeof Wr=="function"&&on.pointRadius(+Wr.apply(this,arguments)),(0,f.c)(mn,Vr(on))),on.result()}return yn.area=function(mn){return(0,f.c)(mn,Vr(ye)),ye.result()},yn.measure=function(mn){return(0,f.c)(mn,Vr(Yt)),Yt.result()},yn.bounds=function(mn){return(0,f.c)(mn,Vr(Ce.c)),Ce.c.result()},yn.centroid=function(mn){return(0,f.c)(mn,Vr(He)),He.result()},yn.projection=function(mn){return arguments.length?(Vr=mn==null?(Ar=null,fe.c):(Ar=mn).stream,yn):Ar},yn.context=function(mn){return arguments.length?(on=mn==null?(Pr=null,new Xt):new Ie(Pr=mn),typeof Wr!="function"&&on.pointRadius(Wr),yn):Pr},yn.pointRadius=function(mn){return arguments.length?(Wr=typeof mn=="function"?mn:(on.pointRadius(+mn),+mn),yn):Wr},yn.projection(Ar).context(Pr)}var Kt=e(87952);function mr(Ar){var Pr=0,Wr=n.pi/3,Vr=(0,Kt.U)(Ar),on=Vr(Pr,Wr);return on.parallels=function(yn){return arguments.length?Vr(Pr=yn[0]*n.qw,Wr=yn[1]*n.qw):[Pr*n.oh,Wr*n.oh]},on}function mt(Ar){var Pr=(0,n.W8)(Ar);function Wr(Vr,on){return[Vr*Pr,(0,n.g$)(on)/Pr]}return Wr.invert=function(Vr,on){return[Vr/Pr,(0,n.qR)(on*Pr)]},Wr}function Zt(Ar,Pr){var Wr=(0,n.g$)(Ar),Vr=(Wr+(0,n.g$)(Pr))/2;if((0,n.a2)(Vr)<n.Gg)return mt(Ar);var on=1+Wr*(2*Vr-Wr),yn=(0,n._I)(on)/Vr;function mn(Ln,zn){var aa=(0,n._I)(on-2*Vr*(0,n.g$)(zn))/Vr;return[aa*(0,n.g$)(Ln*=Vr),yn-aa*(0,n.W8)(Ln)]}return mn.invert=function(Ln,zn){var aa=yn-zn,ha=(0,n.WE)(Ln,(0,n.a2)(aa))*(0,n.kq)(aa);return aa*Vr<0&&(ha-=n.pi*(0,n.kq)(Ln)*(0,n.kq)(aa)),[ha/Vr,(0,n.qR)((on-(Ln*Ln+aa*aa)*Vr*Vr)/(2*Vr))]},mn}function Qt(){return mr(Zt).scale(155.424).center([0,33.6442])}function yr(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var sr=e(86420);function bt(Ar){var Pr=Ar.length;return{point:function(Wr,Vr){for(var on=-1;++on<Pr;)Ar[on].point(Wr,Vr)},sphere:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].sphere()},lineStart:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].lineStart()},lineEnd:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].lineEnd()},polygonStart:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].polygonStart()},polygonEnd:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].polygonEnd()}}}function lt(){var Ar,Pr,Wr=yr(),Vr,on=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),yn,mn=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ln,zn,aa={point:function(ua,na){zn=[ua,na]}};function ha(ua){var na=ua[0],Tr=ua[1];return zn=null,Vr.point(na,Tr),zn||(yn.point(na,Tr),zn)||(Ln.point(na,Tr),zn)}ha.invert=function(ua){var na=Wr.scale(),Tr=Wr.translate(),an=(ua[0]-Tr[0])/na,qr=(ua[1]-Tr[1])/na;return(qr>=.12&&qr<.234&&an>=-.425&&an<-.214?on:qr>=.166&&qr<.234&&an>=-.214&&an<-.115?mn:Wr).invert(ua)},ha.stream=function(ua){return Ar&&Pr===ua?Ar:Ar=bt([Wr.stream(Pr=ua),on.stream(ua),mn.stream(ua)])},ha.precision=function(ua){return arguments.length?(Wr.precision(ua),on.precision(ua),mn.precision(ua),pa()):Wr.precision()},ha.scale=function(ua){return arguments.length?(Wr.scale(ua),on.scale(ua*.35),mn.scale(ua),ha.translate(Wr.translate())):Wr.scale()},ha.translate=function(ua){if(!arguments.length)return Wr.translate();var na=Wr.scale(),Tr=+ua[0],an=+ua[1];return Vr=Wr.translate(ua).clipExtent([[Tr-.455*na,an-.238*na],[Tr+.455*na,an+.238*na]]).stream(aa),yn=on.translate([Tr-.307*na,an+.201*na]).clipExtent([[Tr-.425*na+n.Gg,an+.12*na+n.Gg],[Tr-.214*na-n.Gg,an+.234*na-n.Gg]]).stream(aa),Ln=mn.translate([Tr-.205*na,an+.212*na]).clipExtent([[Tr-.214*na+n.Gg,an+.166*na+n.Gg],[Tr-.115*na-n.Gg,an+.234*na-n.Gg]]).stream(aa),pa()},ha.fitExtent=function(ua,na){return(0,sr.QX)(ha,ua,na)},ha.fitSize=function(ua,na){return(0,sr.UV)(ha,ua,na)},ha.fitWidth=function(ua,na){return(0,sr.Qx)(ha,ua,na)},ha.fitHeight=function(ua,na){return(0,sr.OW)(ha,ua,na)};function pa(){return Ar=Pr=null,ha}return ha.scale(1070)}var Tt=e(54724),Ct=e(69020),It=e(92992);function Dt(Ar,Pr){return[Ar,(0,n.Yz)((0,n.a6)((n.or+Pr)/2))]}Dt.invert=function(Ar,Pr){return[Ar,2*(0,n.MQ)((0,n.oN)(Pr))-n.or]};function Vt(){return Bt(Dt).scale(961/n.kD)}function Bt(Ar){var Pr=(0,Kt.c)(Ar),Wr=Pr.center,Vr=Pr.scale,on=Pr.translate,yn=Pr.clipExtent,mn=null,Ln,zn,aa;Pr.scale=function(pa){return arguments.length?(Vr(pa),ha()):Vr()},Pr.translate=function(pa){return arguments.length?(on(pa),ha()):on()},Pr.center=function(pa){return arguments.length?(Wr(pa),ha()):Wr()},Pr.clipExtent=function(pa){return arguments.length?(pa==null?mn=Ln=zn=aa=null:(mn=+pa[0][0],Ln=+pa[0][1],zn=+pa[1][0],aa=+pa[1][1]),ha()):mn==null?null:[[mn,Ln],[zn,aa]]};function ha(){var pa=n.pi*Vr(),ua=Pr((0,It.c)(Pr.rotate()).invert([0,0]));return yn(mn==null?[[ua[0]-pa,ua[1]-pa],[ua[0]+pa,ua[1]+pa]]:Ar===Dt?[[Math.max(ua[0]-pa,mn),Ln],[Math.min(ua[0]+pa,zn),aa]]:[[mn,Math.max(ua[1]-pa,Ln)],[zn,Math.min(ua[1]+pa,aa)]])}return ha()}function $t(Ar){return(0,n.a6)((n.or+Ar)/2)}function fr(Ar,Pr){var Wr=(0,n.W8)(Ar),Vr=Ar===Pr?(0,n.g$)(Ar):(0,n.Yz)(Wr/(0,n.W8)(Pr))/(0,n.Yz)($t(Pr)/$t(Ar)),on=Wr*(0,n.g3)($t(Ar),Vr)/Vr;if(!Vr)return Dt;function yn(mn,Ln){on>0?Ln<-n.or+n.Gg&&(Ln=-n.or+n.Gg):Ln>n.or-n.Gg&&(Ln=n.or-n.Gg);var zn=on/(0,n.g3)($t(Ln),Vr);return[zn*(0,n.g$)(Vr*mn),on-zn*(0,n.W8)(Vr*mn)]}return yn.invert=function(mn,Ln){var zn=on-Ln,aa=(0,n.kq)(Vr)*(0,n._I)(mn*mn+zn*zn),ha=(0,n.WE)(mn,(0,n.a2)(zn))*(0,n.kq)(zn);return zn*Vr<0&&(ha-=n.pi*(0,n.kq)(mn)*(0,n.kq)(zn)),[ha/Vr,2*(0,n.MQ)((0,n.g3)(on/aa,1/Vr))-n.or]},yn}function cr(){return mr(fr).scale(109.5).parallels([30,30])}var dr=e(69604);function Ye(Ar,Pr){var Wr=(0,n.W8)(Ar),Vr=Ar===Pr?(0,n.g$)(Ar):(Wr-(0,n.W8)(Pr))/(Pr-Ar),on=Wr/Vr+Ar;if((0,n.a2)(Vr)<n.Gg)return dr.u;function yn(mn,Ln){var zn=on-Ln,aa=Vr*mn;return[zn*(0,n.g$)(aa),on-zn*(0,n.W8)(aa)]}return yn.invert=function(mn,Ln){var zn=on-Ln,aa=(0,n.WE)(mn,(0,n.a2)(zn))*(0,n.kq)(zn);return zn*Vr<0&&(aa-=n.pi*(0,n.kq)(mn)*(0,n.kq)(zn)),[aa/Vr,on-(0,n.kq)(Vr)*(0,n._I)(mn*mn+zn*zn)]},yn}function Ge(){return mr(Ye).scale(131.154).center([0,13.9389])}var zt=1.340264,Ft=-.081106,Jt=893e-6,tr=.003796,ur=(0,n._I)(3)/2,nr=12;function Nt(Ar,Pr){var Wr=(0,n.qR)(ur*(0,n.g$)(Pr)),Vr=Wr*Wr,on=Vr*Vr*Vr;return[Ar*(0,n.W8)(Wr)/(ur*(zt+3*Ft*Vr+on*(7*Jt+9*tr*Vr))),Wr*(zt+Ft*Vr+on*(Jt+tr*Vr))]}Nt.invert=function(Ar,Pr){for(var Wr=Pr,Vr=Wr*Wr,on=Vr*Vr*Vr,yn=0,mn,Ln,zn;yn<nr&&(Ln=Wr*(zt+Ft*Vr+on*(Jt+tr*Vr))-Pr,zn=zt+3*Ft*Vr+on*(7*Jt+9*tr*Vr),Wr-=mn=Ln/zn,Vr=Wr*Wr,on=Vr*Vr*Vr,!((0,n.a2)(mn)<n.a8));++yn);return[ur*Ar*(zt+3*Ft*Vr+on*(7*Jt+9*tr*Vr))/(0,n.W8)(Wr),(0,n.qR)((0,n.g$)(Wr)/ur)]};function hr(){return(0,Kt.c)(Nt).scale(177.158)}var gr=e(53285),br=e(15196);function vr(){var Ar=1,Pr=0,Wr=0,Vr=1,on=1,yn=0,mn,Ln,zn=null,aa,ha,pa,ua=1,na=1,Tr=(0,br.s)({point:function(Sn,Un){var $n=An([Sn,Un]);this.stream.point($n[0],$n[1])}}),an=fe.c,qr,gn;function Hn(){return ua=Ar*Vr,na=Ar*on,qr=gn=null,An}function An(Sn){var Un=Sn[0]*ua,$n=Sn[1]*na;if(yn){var ya=$n*mn-Un*Ln;Un=Un*mn+$n*Ln,$n=ya}return[Un+Pr,$n+Wr]}return An.invert=function(Sn){var Un=Sn[0]-Pr,$n=Sn[1]-Wr;if(yn){var ya=$n*mn+Un*Ln;Un=Un*mn-$n*Ln,$n=ya}return[Un/ua,$n/na]},An.stream=function(Sn){return qr&&gn===Sn?qr:qr=Tr(an(gn=Sn))},An.postclip=function(Sn){return arguments.length?(an=Sn,zn=aa=ha=pa=null,Hn()):an},An.clipExtent=function(Sn){return arguments.length?(an=Sn==null?(zn=aa=ha=pa=null,fe.c):(0,p.c)(zn=+Sn[0][0],aa=+Sn[0][1],ha=+Sn[1][0],pa=+Sn[1][1]),Hn()):zn==null?null:[[zn,aa],[ha,pa]]},An.scale=function(Sn){return arguments.length?(Ar=+Sn,Hn()):Ar},An.translate=function(Sn){return arguments.length?(Pr=+Sn[0],Wr=+Sn[1],Hn()):[Pr,Wr]},An.angle=function(Sn){return arguments.length?(yn=Sn%360*n.qw,Ln=(0,n.g$)(yn),mn=(0,n.W8)(yn),Hn()):yn*n.oh},An.reflectX=function(Sn){return arguments.length?(Vr=Sn?-1:1,Hn()):Vr<0},An.reflectY=function(Sn){return arguments.length?(on=Sn?-1:1,Hn()):on<0},An.fitExtent=function(Sn,Un){return(0,sr.QX)(An,Sn,Un)},An.fitSize=function(Sn,Un){return(0,sr.UV)(An,Sn,Un)},An.fitWidth=function(Sn,Un){return(0,sr.Qx)(An,Sn,Un)},An.fitHeight=function(Sn,Un){return(0,sr.OW)(An,Sn,Un)},An}var Gr=e(47984),Dr=e(4888),_r=e(62280);function hn(Ar,Pr){var Wr=(0,n.W8)(Pr),Vr=1+(0,n.W8)(Ar)*Wr;return[Wr*(0,n.g$)(Ar)/Vr,(0,n.g$)(Pr)/Vr]}hn.invert=(0,_r.g)(function(Ar){return 2*(0,n.MQ)(Ar)});function nn(){return(0,Kt.c)(hn).scale(250).clipAngle(142)}function Pn(Ar,Pr){return[(0,n.Yz)((0,n.a6)((n.or+Pr)/2)),-Ar]}Pn.invert=function(Ar,Pr){return[-Pr,2*(0,n.MQ)((0,n.oN)(Ar))-n.or]};function Cn(){var Ar=Bt(Pn),Pr=Ar.center,Wr=Ar.rotate;return Ar.center=function(Vr){return arguments.length?Pr([-Vr[1],Vr[0]]):(Vr=Pr(),[Vr[1],-Vr[0]])},Ar.rotate=function(Vr){return arguments.length?Wr([Vr[0],Vr[1],Vr.length>2?Vr[2]+90:90]):(Vr=Wr(),[Vr[0],Vr[1],Vr[2]-90])},Wr([0,0,90]).scale(159.155)}},27284:function(H,j,e){e.d(j,{c:function(){return P}});var g=e(64528);function P(a,x){var w=a[0]*g.qw,v=a[1]*g.qw,p=x[0]*g.qw,r=x[1]*g.qw,t=(0,g.W8)(v),i=(0,g.g$)(v),n=(0,g.W8)(r),u=(0,g.g$)(r),f=t*(0,g.W8)(w),l=t*(0,g.g$)(w),y=n*(0,g.W8)(p),h=n*(0,g.g$)(p),M=2*(0,g.qR)((0,g._I)((0,g.SD)(r-v)+t*n*(0,g.SD)(p-w))),c=(0,g.g$)(M),o=M?function(d){var T=(0,g.g$)(d*=M)/c,S=(0,g.g$)(M-d)/c,C=S*f+T*y,m=S*l+T*h,E=S*i+T*u;return[(0,g.WE)(m,C)*g.oh,(0,g.WE)(E,(0,g._I)(C*C+m*m))*g.oh]}:function(){return[w*g.oh,v*g.oh]};return o.distance=M,o}},64528:function(H,j,e){e.d(j,{Gg:function(){return g},Km:function(){return f},MQ:function(){return i},SD:function(){return C},W8:function(){return u},WE:function(){return n},Yz:function(){return y},_I:function(){return o},a2:function(){return t},a6:function(){return d},a8:function(){return P},g$:function(){return M},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return T},oN:function(){return l},oh:function(){return p},or:function(){return x},pi:function(){return a},qR:function(){return S},qw:function(){return r},wL:function(){return w}});var g=1e-6,P=1e-12,a=Math.PI,x=a/2,w=a/4,v=a*2,p=180/a,r=a/180,t=Math.abs,i=Math.atan,n=Math.atan2,u=Math.cos,f=Math.ceil,l=Math.exp,y=Math.log,h=Math.pow,M=Math.sin,c=Math.sign||function(m){return m>0?1:m<0?-1:0},o=Math.sqrt,d=Math.tan;function T(m){return m>1?0:m<-1?a:Math.acos(m)}function S(m){return m>1?x:m<-1?-x:Math.asin(m)}function C(m){return(m=M(m/2))*m}},70932:function(H,j,e){e.d(j,{c:function(){return g}});function g(){}},73784:function(H,j,e){var g=e(70932),P=1/0,a=P,x=-P,w=x,v={point:p,lineStart:g.c,lineEnd:g.c,polygonStart:g.c,polygonEnd:g.c,result:function(){var r=[[P,a],[x,w]];return x=w=-(a=P=1/0),r}};function p(r,t){r<P&&(P=r),r>x&&(x=r),t<a&&(a=t),t>w&&(w=t)}j.c=v},41860:function(H,j,e){e.d(j,{c:function(){return P}});var g=e(64528);function P(a,x){return(0,g.a2)(a[0]-x[0])<g.Gg&&(0,g.a2)(a[1]-x[1])<g.Gg}},58196:function(H,j,e){e.d(j,{c:function(){return v}});var g=e(88728),P=e(84220),a=e(64528),x=(0,g.c)();function w(p){return(0,a.a2)(p[0])<=a.pi?p[0]:(0,a.kq)(p[0])*(((0,a.a2)(p[0])+a.pi)%a.kD-a.pi)}function v(p,r){var t=w(r),i=r[1],n=(0,a.g$)(i),u=[(0,a.g$)(t),-(0,a.W8)(t),0],f=0,l=0;x.reset(),n===1?i=a.or+a.Gg:n===-1&&(i=-a.or-a.Gg);for(var y=0,h=p.length;y<h;++y)if(c=(M=p[y]).length)for(var M,c,o=M[c-1],d=w(o),T=o[1]/2+a.wL,S=(0,a.g$)(T),C=(0,a.W8)(T),m=0;m<c;++m,d=b,S=L,C=A,o=E){var E=M[m],b=w(E),s=E[1]/2+a.wL,L=(0,a.g$)(s),A=(0,a.W8)(s),k=b-d,_=k>=0?1:-1,U=_*k,F=U>a.pi,z=S*L;if(x.add((0,a.WE)(z*_*(0,a.g$)(U),C*A+z*(0,a.W8)(U))),f+=F?k+_*a.kD:k,F^d>=t^b>=t){var B=(0,P.CW)((0,P.ux)(o),(0,P.ux)(E));(0,P.cJ)(B);var N=(0,P.CW)(u,B);(0,P.cJ)(N);var V=(F^k>=0?-1:1)*(0,a.qR)(N[2]);(i>V||i===V&&(B[0]||B[1]))&&(l+=F^k>=0?1:-1)}}return(f<-a.Gg||f<a.Gg&&x<-a.Gg)^l&1}},62280:function(H,j,e){e.d(j,{a:function(){return P},g:function(){return a}});var g=e(64528);function P(x){return function(w,v){var p=(0,g.W8)(w),r=(0,g.W8)(v),t=x(p*r);return[t*r*(0,g.g$)(w),t*(0,g.g$)(v)]}}function a(x){return function(w,v){var p=(0,g._I)(w*w+v*v),r=x(p),t=(0,g.g$)(r),i=(0,g.W8)(r);return[(0,g.WE)(w*t,p*i),(0,g.qR)(p&&v*t/p)]}}},54724:function(H,j,e){e.d(j,{c:function(){return w},y:function(){return x}});var g=e(64528),P=e(62280),a=e(87952),x=(0,P.a)(function(v){return(0,g._I)(2/(1+v))});x.invert=(0,P.g)(function(v){return 2*(0,g.qR)(v/2)});function w(){return(0,a.c)(x).scale(124.75).clipAngle(179.999)}},69020:function(H,j,e){e.d(j,{O:function(){return x},c:function(){return w}});var g=e(64528),P=e(62280),a=e(87952),x=(0,P.a)(function(v){return(v=(0,g.mE)(v))&&v/(0,g.g$)(v)});x.invert=(0,P.g)(function(v){return v});function w(){return(0,a.c)(x).scale(79.4188).clipAngle(179.999)}},69604:function(H,j,e){e.d(j,{c:function(){return a},u:function(){return P}});var g=e(87952);function P(x,w){return[x,w]}P.invert=P;function a(){return(0,g.c)(P).scale(152.63)}},86420:function(H,j,e){e.d(j,{OW:function(){return p},QX:function(){return x},Qx:function(){return v},UV:function(){return w}});var g=e(16016),P=e(73784);function a(r,t,i){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,g.c)(i,r.stream(P.c)),t(P.c.result()),n!=null&&r.clipExtent(n),r}function x(r,t,i){return a(r,function(n){var u=t[1][0]-t[0][0],f=t[1][1]-t[0][1],l=Math.min(u/(n[1][0]-n[0][0]),f/(n[1][1]-n[0][1])),y=+t[0][0]+(u-l*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(f-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([y,h])},i)}function w(r,t,i){return x(r,[[0,0],t],i)}function v(r,t,i){return a(r,function(n){var u=+t,f=u/(n[1][0]-n[0][0]),l=(u-f*(n[1][0]+n[0][0]))/2,y=-f*n[0][1];r.scale(150*f).translate([l,y])},i)}function p(r,t,i){return a(r,function(n){var u=+t,f=u/(n[1][1]-n[0][1]),l=-f*n[0][0],y=(u-f*(n[1][1]+n[0][1]))/2;r.scale(150*f).translate([l,y])},i)}},53285:function(H,j,e){e.d(j,{Y:function(){return x},c:function(){return w}});var g=e(64528),P=e(62280),a=e(87952);function x(v,p){var r=(0,g.W8)(p),t=(0,g.W8)(v)*r;return[r*(0,g.g$)(v)/t,(0,g.g$)(p)/t]}x.invert=(0,P.g)(g.MQ);function w(){return(0,a.c)(x).scale(144.049).clipAngle(60)}},87952:function(H,j,e){e.d(j,{c:function(){return d},U:function(){return T}});var g=e(78284),P=e(2728),a=e(21676),x=e(68120),w=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),i=e(84220),n=16,u=(0,v.W8)(30*v.qw);function f(S,C){return+C?y(S,C):l(S)}function l(S){return(0,r.s)({point:function(C,m){C=S(C,m),this.stream.point(C[0],C[1])}})}function y(S,C){function m(E,b,s,L,A,k,_,U,F,z,B,N,V,W){var Q=_-E,re=U-b,ne=Q*Q+re*re;if(ne>4*C&&V--){var fe=L+z,$=A+B,X=k+N,oe=(0,v._I)(fe*fe+$*$+X*X),Y=(0,v.qR)(X/=oe),ee=(0,v.a2)((0,v.a2)(X)-1)<v.Gg||(0,v.a2)(s-F)<v.Gg?(s+F)/2:(0,v.WE)($,fe),se=S(ee,Y),q=se[0],K=se[1],le=q-E,ie=K-b,he=re*le-Q*ie;(he*he/ne>C||(0,v.a2)((Q*le+re*ie)/ne-.5)>.3||L*z+A*B+k*N<u)&&(m(E,b,s,L,A,k,q,K,ee,fe/=oe,$/=oe,X,V,W),W.point(q,K),m(q,K,ee,fe,$,X,_,U,F,z,B,N,V,W))}}return function(E){var b,s,L,A,k,_,U,F,z,B,N,V,W={point:Q,lineStart:re,lineEnd:fe,polygonStart:function(){E.polygonStart(),W.lineStart=$},polygonEnd:function(){E.polygonEnd(),W.lineStart=re}};function Q(Y,ee){Y=S(Y,ee),E.point(Y[0],Y[1])}function re(){F=NaN,W.point=ne,E.lineStart()}function ne(Y,ee){var se=(0,i.ux)([Y,ee]),q=S(Y,ee);m(F,z,U,B,N,V,F=q[0],z=q[1],U=Y,B=se[0],N=se[1],V=se[2],n,E),E.point(F,z)}function fe(){W.point=Q,E.lineEnd()}function $(){re(),W.point=X,W.lineEnd=oe}function X(Y,ee){ne(b=Y,ee),s=F,L=z,A=B,k=N,_=V,W.point=ne}function oe(){m(F,z,U,B,N,V,s,L,b,A,k,_,n,E),W.lineEnd=fe,fe()}return W}}var h=(0,r.s)({point:function(S,C){this.stream.point(S*v.qw,C*v.qw)}});function M(S){return(0,r.s)({point:function(C,m){var E=S(C,m);return this.stream.point(E[0],E[1])}})}function c(S,C,m,E,b){function s(L,A){return L*=E,A*=b,[C+S*L,m-S*A]}return s.invert=function(L,A){return[(L-C)/S*E,(m-A)/S*b]},s}function o(S,C,m,E,b,s){var L=(0,v.W8)(s),A=(0,v.g$)(s),k=L*S,_=A*S,U=L/S,F=A/S,z=(A*m-L*C)/S,B=(A*C+L*m)/S;function N(V,W){return V*=E,W*=b,[k*V-_*W+C,m-_*V-k*W]}return N.invert=function(V,W){return[E*(U*V-F*W+z),b*(B-F*V-U*W)]},N}function d(S){return T(function(){return S})()}function T(S){var C,m=150,E=480,b=250,s=0,L=0,A=0,k=0,_=0,U,F=0,z=1,B=1,N=null,V=g.c,W=null,Q,re,ne,fe=w.c,$=.5,X,oe,Y,ee,se;function q(he){return Y(he[0]*v.qw,he[1]*v.qw)}function K(he){return he=Y.invert(he[0],he[1]),he&&[he[0]*v.oh,he[1]*v.oh]}q.stream=function(he){return ee&&se===he?ee:ee=h(M(U)(V(X(fe(se=he)))))},q.preclip=function(he){return arguments.length?(V=he,N=void 0,ie()):V},q.postclip=function(he){return arguments.length?(fe=he,W=Q=re=ne=null,ie()):fe},q.clipAngle=function(he){return arguments.length?(V=+he?(0,P.c)(N=he*v.qw):(N=null,g.c),ie()):N*v.oh},q.clipExtent=function(he){return arguments.length?(fe=he==null?(W=Q=re=ne=null,w.c):(0,a.c)(W=+he[0][0],Q=+he[0][1],re=+he[1][0],ne=+he[1][1]),ie()):W==null?null:[[W,Q],[re,ne]]},q.scale=function(he){return arguments.length?(m=+he,le()):m},q.translate=function(he){return arguments.length?(E=+he[0],b=+he[1],le()):[E,b]},q.center=function(he){return arguments.length?(s=he[0]%360*v.qw,L=he[1]%360*v.qw,le()):[s*v.oh,L*v.oh]},q.rotate=function(he){return arguments.length?(A=he[0]%360*v.qw,k=he[1]%360*v.qw,_=he.length>2?he[2]%360*v.qw:0,le()):[A*v.oh,k*v.oh,_*v.oh]},q.angle=function(he){return arguments.length?(F=he%360*v.qw,le()):F*v.oh},q.reflectX=function(he){return arguments.length?(z=he?-1:1,le()):z<0},q.reflectY=function(he){return arguments.length?(B=he?-1:1,le()):B<0},q.precision=function(he){return arguments.length?(X=f(oe,$=he*he),ie()):(0,v._I)($)},q.fitExtent=function(he,ye){return(0,t.QX)(q,he,ye)},q.fitSize=function(he,ye){return(0,t.UV)(q,he,ye)},q.fitWidth=function(he,ye){return(0,t.Qx)(q,he,ye)},q.fitHeight=function(he,ye){return(0,t.OW)(q,he,ye)};function le(){var he=o(m,0,0,z,B,F).apply(null,C(s,L)),ye=(F?o:c)(m,E-he[0],b-he[1],z,B,F);return U=(0,p.O)(A,k,_),oe=(0,x.c)(C,ye),Y=(0,x.c)(U,oe),X=f(oe,$),ie()}function ie(){return ee=se=null,q}return function(){return C=S.apply(this,arguments),q.invert=C.invert&&K,le()}}},47984:function(H,j,e){e.d(j,{c:function(){return x},g:function(){return a}});var g=e(87952),P=e(64528);function a(w,v){var p=v*v,r=p*p;return[w*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}a.invert=function(w,v){var p=v,r=25,t;do{var i=p*p,n=i*i;p-=t=(p*(1.007226+i*(.015085+n*(-.044475+.028874*i-.005916*n)))-v)/(1.007226+i*(.045255+n*(-.311325+.259866*i-.06507600000000001*n)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[w/(.8707+(i=p*p)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),p]};function x(){return(0,g.c)(a).scale(175.295)}},4888:function(H,j,e){e.d(j,{c:function(){return w},t:function(){return x}});var g=e(64528),P=e(62280),a=e(87952);function x(v,p){return[(0,g.W8)(p)*(0,g.g$)(v),(0,g.g$)(p)]}x.invert=(0,P.g)(g.qR);function w(){return(0,a.c)(x).scale(249.5).clipAngle(90+g.Gg)}},92992:function(H,j,e){e.d(j,{O:function(){return x},c:function(){return r}});var g=e(68120),P=e(64528);function a(t,i){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,i]}a.invert=a;function x(t,i,n){return(t%=P.kD)?i||n?(0,g.c)(v(t),p(i,n)):v(t):i||n?p(i,n):a}function w(t){return function(i,n){return i+=t,[i>P.pi?i-P.kD:i<-P.pi?i+P.kD:i,n]}}function v(t){var i=w(t);return i.invert=w(-t),i}function p(t,i){var n=(0,P.W8)(t),u=(0,P.g$)(t),f=(0,P.W8)(i),l=(0,P.g$)(i);function y(h,M){var c=(0,P.W8)(M),o=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,T=(0,P.g$)(M),S=T*n+o*u;return[(0,P.WE)(d*f-S*l,o*n-T*u),(0,P.qR)(S*f+d*l)]}return y.invert=function(h,M){var c=(0,P.W8)(M),o=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,T=(0,P.g$)(M),S=T*f-d*l;return[(0,P.WE)(d*f+T*l,o*n+S*u),(0,P.qR)(S*n-o*u)]},y}function r(t){t=x(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function i(n){return n=t(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n}return i.invert=function(n){return n=t.invert(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n},i}},16016:function(H,j,e){e.d(j,{c:function(){return v}});function g(p,r){p&&a.hasOwnProperty(p.type)&&a[p.type](p,r)}var P={Feature:function(p,r){g(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,i=-1,n=t.length;++i<n;)g(t[i].geometry,r)}},a={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)p=t[i],r.point(p[0],p[1],p[2])},LineString:function(p,r){x(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)x(t[i],r,0)},Polygon:function(p,r){w(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)w(t[i],r)},GeometryCollection:function(p,r){for(var t=p.geometries,i=-1,n=t.length;++i<n;)g(t[i],r)}};function x(p,r,t){var i=-1,n=p.length-t,u;for(r.lineStart();++i<n;)u=p[i],r.point(u[0],u[1],u[2]);r.lineEnd()}function w(p,r){var t=-1,i=p.length;for(r.polygonStart();++t<i;)x(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):g(p,r)}},15196:function(H,j,e){e.d(j,{c:function(){return g},s:function(){return P}});function g(x){return{stream:P(x)}}function P(x){return function(w){var v=new a;for(var p in x)v[p]=x[p];return v.stream=w,v}}function a(){}a.prototype={constructor:a,point:function(x,w){this.stream.point(x,w)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(H,j,e){e.r(j),e.d(j,{cluster:function(){return r},hierarchy:function(){return S},pack:function(){return K},packEnclose:function(){return k},packSiblings:function(){return X},partition:function(){return Ae},stratify:function(){return Ve},tree:function(){return st},treemap:function(){return _e},treemapBinary:function(){return je},treemapDice:function(){return Ce},treemapResquarify:function(){return He},treemapSlice:function(){return ht},treemapSliceDice:function(){return Ke},treemapSquarify:function(){return tt}});function g(Ie,be){return Ie.parent===be.parent?1:2}function P(Ie){return Ie.reduce(a,0)/Ie.length}function a(Ie,be){return Ie+be.x}function x(Ie){return 1+Ie.reduce(w,0)}function w(Ie,be){return Math.max(Ie,be.y)}function v(Ie){for(var be;be=Ie.children;)Ie=be[0];return Ie}function p(Ie){for(var be;be=Ie.children;)Ie=be[be.length-1];return Ie}function r(){var Ie=g,be=1,me=1,Me=!1;function Te(ze){var Je,nt=0;ze.eachAfter(function(St){var kt=St.children;kt?(St.x=P(kt),St.y=x(kt)):(St.x=Je?nt+=Ie(St,Je):0,St.y=0,Je=St)});var pt=v(ze),yt=p(ze),Yt=pt.x-Ie(pt,yt)/2,Xt=yt.x+Ie(yt,pt)/2;return ze.eachAfter(Me?function(St){St.x=(St.x-ze.x)*be,St.y=(ze.y-St.y)*me}:function(St){St.x=(St.x-Yt)/(Xt-Yt)*be,St.y=(1-(ze.y?St.y/ze.y:1))*me})}return Te.separation=function(ze){return arguments.length?(Ie=ze,Te):Ie},Te.size=function(ze){return arguments.length?(Me=!1,be=+ze[0],me=+ze[1],Te):Me?null:[be,me]},Te.nodeSize=function(ze){return arguments.length?(Me=!0,be=+ze[0],me=+ze[1],Te):Me?[be,me]:null},Te}function t(Ie){var be=0,me=Ie.children,Me=me&&me.length;if(!Me)be=1;else for(;--Me>=0;)be+=me[Me].value;Ie.value=be}function i(){return this.eachAfter(t)}function n(Ie){var be=this,me,Me=[be],Te,ze,Je;do for(me=Me.reverse(),Me=[];be=me.pop();)if(Ie(be),Te=be.children,Te)for(ze=0,Je=Te.length;ze<Je;++ze)Me.push(Te[ze]);while(Me.length);return this}function u(Ie){for(var be=this,me=[be],Me,Te;be=me.pop();)if(Ie(be),Me=be.children,Me)for(Te=Me.length-1;Te>=0;--Te)me.push(Me[Te]);return this}function f(Ie){for(var be=this,me=[be],Me=[],Te,ze,Je;be=me.pop();)if(Me.push(be),Te=be.children,Te)for(ze=0,Je=Te.length;ze<Je;++ze)me.push(Te[ze]);for(;be=Me.pop();)Ie(be);return this}function l(Ie){return this.eachAfter(function(be){for(var me=+Ie(be.data)||0,Me=be.children,Te=Me&&Me.length;--Te>=0;)me+=Me[Te].value;be.value=me})}function y(Ie){return this.eachBefore(function(be){be.children&&be.children.sort(Ie)})}function h(Ie){for(var be=this,me=M(be,Ie),Me=[be];be!==me;)be=be.parent,Me.push(be);for(var Te=Me.length;Ie!==me;)Me.splice(Te,0,Ie),Ie=Ie.parent;return Me}function M(Ie,be){if(Ie===be)return Ie;var me=Ie.ancestors(),Me=be.ancestors(),Te=null;for(Ie=me.pop(),be=Me.pop();Ie===be;)Te=Ie,Ie=me.pop(),be=Me.pop();return Te}function c(){for(var Ie=this,be=[Ie];Ie=Ie.parent;)be.push(Ie);return be}function o(){var Ie=[];return this.each(function(be){Ie.push(be)}),Ie}function d(){var Ie=[];return this.eachBefore(function(be){be.children||Ie.push(be)}),Ie}function T(){var Ie=this,be=[];return Ie.each(function(me){me!==Ie&&be.push({source:me.parent,target:me})}),be}function S(Ie,be){var me=new s(Ie),Me=+Ie.value&&(me.value=Ie.value),Te,ze=[me],Je,nt,pt,yt;for(be==null&&(be=m);Te=ze.pop();)if(Me&&(Te.value=+Te.data.value),(nt=be(Te.data))&&(yt=nt.length))for(Te.children=new Array(yt),pt=yt-1;pt>=0;--pt)ze.push(Je=Te.children[pt]=new s(nt[pt])),Je.parent=Te,Je.depth=Te.depth+1;return me.eachBefore(b)}function C(){return S(this).eachBefore(E)}function m(Ie){return Ie.children}function E(Ie){Ie.data=Ie.data.data}function b(Ie){var be=0;do Ie.height=be;while((Ie=Ie.parent)&&Ie.height<++be)}function s(Ie){this.data=Ie,this.depth=this.height=0,this.parent=null}s.prototype=S.prototype={constructor:s,count:i,each:n,eachAfter:f,eachBefore:u,sum:l,sort:y,path:h,ancestors:c,descendants:o,leaves:d,links:T,copy:C};var L=Array.prototype.slice;function A(Ie){for(var be=Ie.length,me,Me;be;)Me=Math.random()*be--|0,me=Ie[be],Ie[be]=Ie[Me],Ie[Me]=me;return Ie}function k(Ie){for(var be=0,me=(Ie=A(L.call(Ie))).length,Me=[],Te,ze;be<me;)Te=Ie[be],ze&&F(ze,Te)?++be:(ze=B(Me=_(Me,Te)),be=0);return ze}function _(Ie,be){var me,Me;if(z(be,Ie))return[be];for(me=0;me<Ie.length;++me)if(U(be,Ie[me])&&z(V(Ie[me],be),Ie))return[Ie[me],be];for(me=0;me<Ie.length-1;++me)for(Me=me+1;Me<Ie.length;++Me)if(U(V(Ie[me],Ie[Me]),be)&&U(V(Ie[me],be),Ie[Me])&&U(V(Ie[Me],be),Ie[me])&&z(W(Ie[me],Ie[Me],be),Ie))return[Ie[me],Ie[Me],be];throw new Error}function U(Ie,be){var me=Ie.r-be.r,Me=be.x-Ie.x,Te=be.y-Ie.y;return me<0||me*me<Me*Me+Te*Te}function F(Ie,be){var me=Ie.r-be.r+1e-6,Me=be.x-Ie.x,Te=be.y-Ie.y;return me>0&&me*me>Me*Me+Te*Te}function z(Ie,be){for(var me=0;me<be.length;++me)if(!F(Ie,be[me]))return!1;return!0}function B(Ie){switch(Ie.length){case 1:return N(Ie[0]);case 2:return V(Ie[0],Ie[1]);case 3:return W(Ie[0],Ie[1],Ie[2])}}function N(Ie){return{x:Ie.x,y:Ie.y,r:Ie.r}}function V(Ie,be){var me=Ie.x,Me=Ie.y,Te=Ie.r,ze=be.x,Je=be.y,nt=be.r,pt=ze-me,yt=Je-Me,Yt=nt-Te,Xt=Math.sqrt(pt*pt+yt*yt);return{x:(me+ze+pt/Xt*Yt)/2,y:(Me+Je+yt/Xt*Yt)/2,r:(Xt+Te+nt)/2}}function W(Ie,be,me){var Me=Ie.x,Te=Ie.y,ze=Ie.r,Je=be.x,nt=be.y,pt=be.r,yt=me.x,Yt=me.y,Xt=me.r,St=Me-Je,kt=Me-yt,Kt=Te-nt,mr=Te-Yt,mt=pt-ze,Zt=Xt-ze,Qt=Me*Me+Te*Te-ze*ze,yr=Qt-Je*Je-nt*nt+pt*pt,sr=Qt-yt*yt-Yt*Yt+Xt*Xt,bt=kt*Kt-St*mr,lt=(Kt*sr-mr*yr)/(bt*2)-Me,Tt=(mr*mt-Kt*Zt)/bt,Ct=(kt*yr-St*sr)/(bt*2)-Te,It=(St*Zt-kt*mt)/bt,Dt=Tt*Tt+It*It-1,Vt=2*(ze+lt*Tt+Ct*It),Bt=lt*lt+Ct*Ct-ze*ze,$t=-(Dt?(Vt+Math.sqrt(Vt*Vt-4*Dt*Bt))/(2*Dt):Bt/Vt);return{x:Me+lt+Tt*$t,y:Te+Ct+It*$t,r:$t}}function Q(Ie,be,me){var Me=Ie.x-be.x,Te,ze,Je=Ie.y-be.y,nt,pt,yt=Me*Me+Je*Je;yt?(ze=be.r+me.r,ze*=ze,pt=Ie.r+me.r,pt*=pt,ze>pt?(Te=(yt+pt-ze)/(2*yt),nt=Math.sqrt(Math.max(0,pt/yt-Te*Te)),me.x=Ie.x-Te*Me-nt*Je,me.y=Ie.y-Te*Je+nt*Me):(Te=(yt+ze-pt)/(2*yt),nt=Math.sqrt(Math.max(0,ze/yt-Te*Te)),me.x=be.x+Te*Me-nt*Je,me.y=be.y+Te*Je+nt*Me)):(me.x=be.x+me.r,me.y=be.y)}function re(Ie,be){var me=Ie.r+be.r-1e-6,Me=be.x-Ie.x,Te=be.y-Ie.y;return me>0&&me*me>Me*Me+Te*Te}function ne(Ie){var be=Ie._,me=Ie.next._,Me=be.r+me.r,Te=(be.x*me.r+me.x*be.r)/Me,ze=(be.y*me.r+me.y*be.r)/Me;return Te*Te+ze*ze}function fe(Ie){this._=Ie,this.next=null,this.previous=null}function $(Ie){if(!(Te=Ie.length))return 0;var be,me,Me,Te,ze,Je,nt,pt,yt,Yt,Xt;if(be=Ie[0],be.x=0,be.y=0,!(Te>1))return be.r;if(me=Ie[1],be.x=-me.r,me.x=be.r,me.y=0,!(Te>2))return be.r+me.r;Q(me,be,Me=Ie[2]),be=new fe(be),me=new fe(me),Me=new fe(Me),be.next=Me.previous=me,me.next=be.previous=Me,Me.next=me.previous=be;e:for(nt=3;nt<Te;++nt){Q(be._,me._,Me=Ie[nt]),Me=new fe(Me),pt=me.next,yt=be.previous,Yt=me._.r,Xt=be._.r;do if(Yt<=Xt){if(re(pt._,Me._)){me=pt,be.next=me,me.previous=be,--nt;continue e}Yt+=pt._.r,pt=pt.next}else{if(re(yt._,Me._)){be=yt,be.next=me,me.previous=be,--nt;continue e}Xt+=yt._.r,yt=yt.previous}while(pt!==yt.next);for(Me.previous=be,Me.next=me,be.next=me.previous=me=Me,ze=ne(be);(Me=Me.next)!==me;)(Je=ne(Me))<ze&&(be=Me,ze=Je);me=be.next}for(be=[me._],Me=me;(Me=Me.next)!==me;)be.push(Me._);for(Me=k(be),nt=0;nt<Te;++nt)be=Ie[nt],be.x-=Me.x,be.y-=Me.y;return Me.r}function X(Ie){return $(Ie),Ie}function oe(Ie){return Ie==null?null:Y(Ie)}function Y(Ie){if(typeof Ie!="function")throw new Error;return Ie}function ee(){return 0}function se(Ie){return function(){return Ie}}function q(Ie){return Math.sqrt(Ie.value)}function K(){var Ie=null,be=1,me=1,Me=ee;function Te(ze){return ze.x=be/2,ze.y=me/2,Ie?ze.eachBefore(le(Ie)).eachAfter(ie(Me,.5)).eachBefore(he(1)):ze.eachBefore(le(q)).eachAfter(ie(ee,1)).eachAfter(ie(Me,ze.r/Math.min(be,me))).eachBefore(he(Math.min(be,me)/(2*ze.r))),ze}return Te.radius=function(ze){return arguments.length?(Ie=oe(ze),Te):Ie},Te.size=function(ze){return arguments.length?(be=+ze[0],me=+ze[1],Te):[be,me]},Te.padding=function(ze){return arguments.length?(Me=typeof ze=="function"?ze:se(+ze),Te):Me},Te}function le(Ie){return function(be){be.children||(be.r=Math.max(0,+Ie(be)||0))}}function ie(Ie,be){return function(me){if(Me=me.children){var Me,Te,ze=Me.length,Je=Ie(me)*be||0,nt;if(Je)for(Te=0;Te<ze;++Te)Me[Te].r+=Je;if(nt=$(Me),Je)for(Te=0;Te<ze;++Te)Me[Te].r-=Je;me.r=nt+Je}}}function he(Ie){return function(be){var me=be.parent;be.r*=Ie,me&&(be.x=me.x+Ie*be.x,be.y=me.y+Ie*be.y)}}function ye(Ie){Ie.x0=Math.round(Ie.x0),Ie.y0=Math.round(Ie.y0),Ie.x1=Math.round(Ie.x1),Ie.y1=Math.round(Ie.y1)}function Ce(Ie,be,me,Me,Te){for(var ze=Ie.children,Je,nt=-1,pt=ze.length,yt=Ie.value&&(Me-be)/Ie.value;++nt<pt;)Je=ze[nt],Je.y0=me,Je.y1=Te,Je.x0=be,Je.x1=be+=Je.value*yt}function Ae(){var Ie=1,be=1,me=0,Me=!1;function Te(Je){var nt=Je.height+1;return Je.x0=Je.y0=me,Je.x1=Ie,Je.y1=be/nt,Je.eachBefore(ze(be,nt)),Me&&Je.eachBefore(ye),Je}function ze(Je,nt){return function(pt){pt.children&&Ce(pt,pt.x0,Je*(pt.depth+1)/nt,pt.x1,Je*(pt.depth+2)/nt);var yt=pt.x0,Yt=pt.y0,Xt=pt.x1-me,St=pt.y1-me;Xt<yt&&(yt=Xt=(yt+Xt)/2),St<Yt&&(Yt=St=(Yt+St)/2),pt.x0=yt,pt.y0=Yt,pt.x1=Xt,pt.y1=St}}return Te.round=function(Je){return arguments.length?(Me=!!Je,Te):Me},Te.size=function(Je){return arguments.length?(Ie=+Je[0],be=+Je[1],Te):[Ie,be]},Te.padding=function(Je){return arguments.length?(me=+Je,Te):me},Te}var ke="$",we={depth:-1},Ee={};function xe(Ie){return Ie.id}function Re(Ie){return Ie.parentId}function Ve(){var Ie=xe,be=Re;function me(Me){var Te,ze,Je=Me.length,nt,pt,yt,Yt=new Array(Je),Xt,St,kt={};for(ze=0;ze<Je;++ze)Te=Me[ze],yt=Yt[ze]=new s(Te),(Xt=Ie(Te,ze,Me))!=null&&(Xt+="")&&(St=ke+(yt.id=Xt),kt[St]=St in kt?Ee:yt);for(ze=0;ze<Je;++ze)if(yt=Yt[ze],Xt=be(Me[ze],ze,Me),Xt==null||!(Xt+="")){if(nt)throw new Error("multiple roots");nt=yt}else{if(pt=kt[ke+Xt],!pt)throw new Error("missing: "+Xt);if(pt===Ee)throw new Error("ambiguous: "+Xt);pt.children?pt.children.push(yt):pt.children=[yt],yt.parent=pt}if(!nt)throw new Error("no root");if(nt.parent=we,nt.eachBefore(function(Kt){Kt.depth=Kt.parent.depth+1,--Je}).eachBefore(b),nt.parent=null,Je>0)throw new Error("cycle");return nt}return me.id=function(Me){return arguments.length?(Ie=Y(Me),me):Ie},me.parentId=function(Me){return arguments.length?(be=Y(Me),me):be},me}function Ue(Ie,be){return Ie.parent===be.parent?1:2}function Be(Ie){var be=Ie.children;return be?be[0]:Ie.t}function Xe(Ie){var be=Ie.children;return be?be[be.length-1]:Ie.t}function ut(Ie,be,me){var Me=me/(be.i-Ie.i);be.c-=Me,be.s+=me,Ie.c+=Me,be.z+=me,be.m+=me}function dt(Ie){for(var be=0,me=0,Me=Ie.children,Te=Me.length,ze;--Te>=0;)ze=Me[Te],ze.z+=be,ze.m+=be,be+=ze.s+(me+=ze.c)}function at(Ie,be,me){return Ie.a.parent===be.parent?Ie.a:me}function We(Ie,be){this._=Ie,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=be}We.prototype=Object.create(s.prototype);function rt(Ie){for(var be=new We(Ie,0),me,Me=[be],Te,ze,Je,nt;me=Me.pop();)if(ze=me._.children)for(me.children=new Array(nt=ze.length),Je=nt-1;Je>=0;--Je)Me.push(Te=me.children[Je]=new We(ze[Je],Je)),Te.parent=me;return(be.parent=new We(null,0)).children=[be],be}function st(){var Ie=Ue,be=1,me=1,Me=null;function Te(yt){var Yt=rt(yt);if(Yt.eachAfter(ze),Yt.parent.m=-Yt.z,Yt.eachBefore(Je),Me)yt.eachBefore(pt);else{var Xt=yt,St=yt,kt=yt;yt.eachBefore(function(Qt){Qt.x<Xt.x&&(Xt=Qt),Qt.x>St.x&&(St=Qt),Qt.depth>kt.depth&&(kt=Qt)});var Kt=Xt===St?1:Ie(Xt,St)/2,mr=Kt-Xt.x,mt=be/(St.x+Kt+mr),Zt=me/(kt.depth||1);yt.eachBefore(function(Qt){Qt.x=(Qt.x+mr)*mt,Qt.y=Qt.depth*Zt})}return yt}function ze(yt){var Yt=yt.children,Xt=yt.parent.children,St=yt.i?Xt[yt.i-1]:null;if(Yt){dt(yt);var kt=(Yt[0].z+Yt[Yt.length-1].z)/2;St?(yt.z=St.z+Ie(yt._,St._),yt.m=yt.z-kt):yt.z=kt}else St&&(yt.z=St.z+Ie(yt._,St._));yt.parent.A=nt(yt,St,yt.parent.A||Xt[0])}function Je(yt){yt._.x=yt.z+yt.parent.m,yt.m+=yt.parent.m}function nt(yt,Yt,Xt){if(Yt){for(var St=yt,kt=yt,Kt=Yt,mr=St.parent.children[0],mt=St.m,Zt=kt.m,Qt=Kt.m,yr=mr.m,sr;Kt=Xe(Kt),St=Be(St),Kt&&St;)mr=Be(mr),kt=Xe(kt),kt.a=yt,sr=Kt.z+Qt-St.z-mt+Ie(Kt._,St._),sr>0&&(ut(at(Kt,yt,Xt),yt,sr),mt+=sr,Zt+=sr),Qt+=Kt.m,mt+=St.m,yr+=mr.m,Zt+=kt.m;Kt&&!Xe(kt)&&(kt.t=Kt,kt.m+=Qt-Zt),St&&!Be(mr)&&(mr.t=St,mr.m+=mt-yr,Xt=yt)}return Xt}function pt(yt){yt.x*=be,yt.y=yt.depth*me}return Te.separation=function(yt){return arguments.length?(Ie=yt,Te):Ie},Te.size=function(yt){return arguments.length?(Me=!1,be=+yt[0],me=+yt[1],Te):Me?null:[be,me]},Te.nodeSize=function(yt){return arguments.length?(Me=!0,be=+yt[0],me=+yt[1],Te):Me?[be,me]:null},Te}function ht(Ie,be,me,Me,Te){for(var ze=Ie.children,Je,nt=-1,pt=ze.length,yt=Ie.value&&(Te-me)/Ie.value;++nt<pt;)Je=ze[nt],Je.x0=be,Je.x1=Me,Je.y0=me,Je.y1=me+=Je.value*yt}var vt=(1+Math.sqrt(5))/2;function At(Ie,be,me,Me,Te,ze){for(var Je=[],nt=be.children,pt,yt,Yt=0,Xt=0,St=nt.length,kt,Kt,mr=be.value,mt,Zt,Qt,yr,sr,bt,lt;Yt<St;){kt=Te-me,Kt=ze-Me;do mt=nt[Xt++].value;while(!mt&&Xt<St);for(Zt=Qt=mt,bt=Math.max(Kt/kt,kt/Kt)/(mr*Ie),lt=mt*mt*bt,sr=Math.max(Qt/lt,lt/Zt);Xt<St;++Xt){if(mt+=yt=nt[Xt].value,yt<Zt&&(Zt=yt),yt>Qt&&(Qt=yt),lt=mt*mt*bt,yr=Math.max(Qt/lt,lt/Zt),yr>sr){mt-=yt;break}sr=yr}Je.push(pt={value:mt,dice:kt<Kt,children:nt.slice(Yt,Xt)}),pt.dice?Ce(pt,me,Me,Te,mr?Me+=Kt*mt/mr:ze):ht(pt,me,Me,mr?me+=kt*mt/mr:Te,ze),mr-=mt,Yt=Xt}return Je}var tt=function Ie(be){function me(Me,Te,ze,Je,nt){At(be,Me,Te,ze,Je,nt)}return me.ratio=function(Me){return Ie((Me=+Me)>1?Me:1)},me}(vt);function _e(){var Ie=tt,be=!1,me=1,Me=1,Te=[0],ze=ee,Je=ee,nt=ee,pt=ee,yt=ee;function Yt(St){return St.x0=St.y0=0,St.x1=me,St.y1=Me,St.eachBefore(Xt),Te=[0],be&&St.eachBefore(ye),St}function Xt(St){var kt=Te[St.depth],Kt=St.x0+kt,mr=St.y0+kt,mt=St.x1-kt,Zt=St.y1-kt;mt<Kt&&(Kt=mt=(Kt+mt)/2),Zt<mr&&(mr=Zt=(mr+Zt)/2),St.x0=Kt,St.y0=mr,St.x1=mt,St.y1=Zt,St.children&&(kt=Te[St.depth+1]=ze(St)/2,Kt+=yt(St)-kt,mr+=Je(St)-kt,mt-=nt(St)-kt,Zt-=pt(St)-kt,mt<Kt&&(Kt=mt=(Kt+mt)/2),Zt<mr&&(mr=Zt=(mr+Zt)/2),Ie(St,Kt,mr,mt,Zt))}return Yt.round=function(St){return arguments.length?(be=!!St,Yt):be},Yt.size=function(St){return arguments.length?(me=+St[0],Me=+St[1],Yt):[me,Me]},Yt.tile=function(St){return arguments.length?(Ie=Y(St),Yt):Ie},Yt.padding=function(St){return arguments.length?Yt.paddingInner(St).paddingOuter(St):Yt.paddingInner()},Yt.paddingInner=function(St){return arguments.length?(ze=typeof St=="function"?St:se(+St),Yt):ze},Yt.paddingOuter=function(St){return arguments.length?Yt.paddingTop(St).paddingRight(St).paddingBottom(St).paddingLeft(St):Yt.paddingTop()},Yt.paddingTop=function(St){return arguments.length?(Je=typeof St=="function"?St:se(+St),Yt):Je},Yt.paddingRight=function(St){return arguments.length?(nt=typeof St=="function"?St:se(+St),Yt):nt},Yt.paddingBottom=function(St){return arguments.length?(pt=typeof St=="function"?St:se(+St),Yt):pt},Yt.paddingLeft=function(St){return arguments.length?(yt=typeof St=="function"?St:se(+St),Yt):yt},Yt}function je(Ie,be,me,Me,Te){var ze=Ie.children,Je,nt=ze.length,pt,yt=new Array(nt+1);for(yt[0]=pt=Je=0;Je<nt;++Je)yt[Je+1]=pt+=ze[Je].value;Yt(0,nt,Ie.value,be,me,Me,Te);function Yt(Xt,St,kt,Kt,mr,mt,Zt){if(Xt>=St-1){var Qt=ze[Xt];Qt.x0=Kt,Qt.y0=mr,Qt.x1=mt,Qt.y1=Zt;return}for(var yr=yt[Xt],sr=kt/2+yr,bt=Xt+1,lt=St-1;bt<lt;){var Tt=bt+lt>>>1;yt[Tt]<sr?bt=Tt+1:lt=Tt}sr-yt[bt-1]<yt[bt]-sr&&Xt+1<bt&&--bt;var Ct=yt[bt]-yr,It=kt-Ct;if(mt-Kt>Zt-mr){var Dt=(Kt*It+mt*Ct)/kt;Yt(Xt,bt,Ct,Kt,mr,Dt,Zt),Yt(bt,St,It,Dt,mr,mt,Zt)}else{var Vt=(mr*It+Zt*Ct)/kt;Yt(Xt,bt,Ct,Kt,mr,mt,Vt),Yt(bt,St,It,Kt,Vt,mt,Zt)}}}function Ke(Ie,be,me,Me,Te){(Ie.depth&1?ht:Ce)(Ie,be,me,Me,Te)}var He=function Ie(be){function me(Me,Te,ze,Je,nt){if((pt=Me._squarify)&&pt.ratio===be)for(var pt,yt,Yt,Xt,St=-1,kt,Kt=pt.length,mr=Me.value;++St<Kt;){for(yt=pt[St],Yt=yt.children,Xt=yt.value=0,kt=Yt.length;Xt<kt;++Xt)yt.value+=Yt[Xt].value;yt.dice?Ce(yt,Te,ze,Je,ze+=(nt-ze)*yt.value/mr):ht(yt,Te,ze,Te+=(Je-Te)*yt.value/mr,nt),mr-=yt.value}else Me._squarify=pt=At(be,Me,Te,ze,Je,nt),pt.ratio=be}return me.ratio=function(Me){return Ie((Me=+Me)>1?Me:1)},me}(vt)},10132:function(H,j,e){e.d(j,{ak:function(){return h}});var g=Math.PI,P=2*g,a=1e-6,x=P-a;function w(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new w}w.prototype=v.prototype={constructor:w,moveTo:function(M,c){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(M,c){this._+="L"+(this._x1=+M)+","+(this._y1=+c)},quadraticCurveTo:function(M,c,o,d){this._+="Q"+ +M+","+ +c+","+(this._x1=+o)+","+(this._y1=+d)},bezierCurveTo:function(M,c,o,d,T,S){this._+="C"+ +M+","+ +c+","+ +o+","+ +d+","+(this._x1=+T)+","+(this._y1=+S)},arcTo:function(M,c,o,d,T){M=+M,c=+c,o=+o,d=+d,T=+T;var S=this._x1,C=this._y1,m=o-M,E=d-c,b=S-M,s=C-c,L=b*b+s*s;if(T<0)throw new Error("negative radius: "+T);if(this._x1===null)this._+="M"+(this._x1=M)+","+(this._y1=c);else if(L>a)if(!(Math.abs(s*m-E*b)>a)||!T)this._+="L"+(this._x1=M)+","+(this._y1=c);else{var A=o-S,k=d-C,_=m*m+E*E,U=A*A+k*k,F=Math.sqrt(_),z=Math.sqrt(L),B=T*Math.tan((g-Math.acos((_+L-U)/(2*F*z)))/2),N=B/z,V=B/F;Math.abs(N-1)>a&&(this._+="L"+(M+N*b)+","+(c+N*s)),this._+="A"+T+","+T+",0,0,"+ +(s*A>b*k)+","+(this._x1=M+V*m)+","+(this._y1=c+V*E)}},arc:function(M,c,o,d,T,S){M=+M,c=+c,o=+o,S=!!S;var C=o*Math.cos(d),m=o*Math.sin(d),E=M+C,b=c+m,s=1^S,L=S?d-T:T-d;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+E+","+b:(Math.abs(this._x1-E)>a||Math.abs(this._y1-b)>a)&&(this._+="L"+E+","+b),o&&(L<0&&(L=L%P+P),L>x?this._+="A"+o+","+o+",0,1,"+s+","+(M-C)+","+(c-m)+"A"+o+","+o+",0,1,"+s+","+(this._x1=E)+","+(this._y1=b):L>a&&(this._+="A"+o+","+o+",0,"+ +(L>=g)+","+s+","+(this._x1=M+o*Math.cos(T))+","+(this._y1=c+o*Math.sin(T))))},rect:function(M,c,o,d){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+c)+"h"+ +o+"v"+ +d+"h"+-o+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(M){return function(){return M}}function i(M){return M[0]}function n(M){return M[1]}function u(M){return M.source}function f(M){return M.target}function l(M){var c=u,o=f,d=i,T=n,S=null;function C(){var m,E=r.call(arguments),b=c.apply(this,E),s=o.apply(this,E);if(S||(S=m=p()),M(S,+d.apply(this,(E[0]=b,E)),+T.apply(this,E),+d.apply(this,(E[0]=s,E)),+T.apply(this,E)),m)return S=null,m+""||null}return C.source=function(m){return arguments.length?(c=m,C):c},C.target=function(m){return arguments.length?(o=m,C):o},C.x=function(m){return arguments.length?(d=typeof m=="function"?m:t(+m),C):d},C.y=function(m){return arguments.length?(T=typeof m=="function"?m:t(+m),C):T},C.context=function(m){return arguments.length?(S=m??null,C):S},C}function y(M,c,o,d,T){M.moveTo(c,o),M.bezierCurveTo(c=(c+d)/2,o,c,T,d,T)}function h(){return l(y)}},94336:function(H,j,e){e.d(j,{Yn:function(){return je},m_:function(){return i},E9:function(){return Ke}});var g=e(8208),P=e(58931),a=e(46192),x=e(68936),w=e(32171),v=e(53528);function p(Ie){if(0<=Ie.y&&Ie.y<100){var be=new Date(-1,Ie.m,Ie.d,Ie.H,Ie.M,Ie.S,Ie.L);return be.setFullYear(Ie.y),be}return new Date(Ie.y,Ie.m,Ie.d,Ie.H,Ie.M,Ie.S,Ie.L)}function r(Ie){if(0<=Ie.y&&Ie.y<100){var be=new Date(Date.UTC(-1,Ie.m,Ie.d,Ie.H,Ie.M,Ie.S,Ie.L));return be.setUTCFullYear(Ie.y),be}return new Date(Date.UTC(Ie.y,Ie.m,Ie.d,Ie.H,Ie.M,Ie.S,Ie.L))}function t(Ie,be,me){return{y:Ie,m:be,d:me,H:0,M:0,S:0,L:0}}function i(Ie){var be=Ie.dateTime,me=Ie.date,Me=Ie.time,Te=Ie.periods,ze=Ie.days,Je=Ie.shortDays,nt=Ie.months,pt=Ie.shortMonths,yt=M(Te),Yt=c(Te),Xt=M(ze),St=c(ze),kt=M(Je),Kt=c(Je),mr=M(nt),mt=c(nt),Zt=M(pt),Qt=c(pt),yr={a:Ye,A:Ge,b:zt,B:Ft,c:null,d:Q,e:Q,f:X,H:re,I:ne,j:fe,L:$,m:oe,M:Y,p:Jt,q:tr,Q:At,s:tt,S:ee,u:se,U:q,V:K,w:le,W:ie,x:null,X:null,y:he,Y:ye,Z:Ce,"%":vt},sr={a:ur,A:nr,b:Nt,B:hr,c:null,d:Ae,e:Ae,f:Re,H:ke,I:we,j:Ee,L:xe,m:Ve,M:Ue,p:gr,q:br,Q:At,s:tt,S:Be,u:Xe,U:ut,V:dt,w:at,W:We,x:null,X:null,y:rt,Y:st,Z:ht,"%":vt},bt={a:Dt,A:Vt,b:Bt,B:$t,c:fr,d:A,e:A,f:B,H:_,I:_,j:k,L:z,m:L,M:U,p:It,q:s,Q:V,s:W,S:F,u:d,U:T,V:S,w:o,W:C,x:cr,X:dr,y:E,Y:m,Z:b,"%":N};yr.x=lt(me,yr),yr.X=lt(Me,yr),yr.c=lt(be,yr),sr.x=lt(me,sr),sr.X=lt(Me,sr),sr.c=lt(be,sr);function lt(vr,Gr){return function(Dr){var _r=[],hn=-1,nn=0,Pn=vr.length,Cn,Ar,Pr;for(Dr instanceof Date||(Dr=new Date(+Dr));++hn<Pn;)vr.charCodeAt(hn)===37&&(_r.push(vr.slice(nn,hn)),(Ar=n[Cn=vr.charAt(++hn)])!=null?Cn=vr.charAt(++hn):Ar=Cn==="e"?" ":"0",(Pr=Gr[Cn])&&(Cn=Pr(Dr,Ar)),_r.push(Cn),nn=hn+1);return _r.push(vr.slice(nn,hn)),_r.join("")}}function Tt(vr,Gr){return function(Dr){var _r=t(1900,void 0,1),hn=Ct(_r,vr,Dr+="",0),nn,Pn;if(hn!=Dr.length)return null;if("Q"in _r)return new Date(_r.Q);if("s"in _r)return new Date(_r.s*1e3+("L"in _r?_r.L:0));if(Gr&&!("Z"in _r)&&(_r.Z=0),"p"in _r&&(_r.H=_r.H%12+_r.p*12),_r.m===void 0&&(_r.m="q"in _r?_r.q:0),"V"in _r){if(_r.V<1||_r.V>53)return null;"w"in _r||(_r.w=1),"Z"in _r?(nn=r(t(_r.y,0,1)),Pn=nn.getUTCDay(),nn=Pn>4||Pn===0?g.ot.ceil(nn):(0,g.ot)(nn),nn=P.c.offset(nn,(_r.V-1)*7),_r.y=nn.getUTCFullYear(),_r.m=nn.getUTCMonth(),_r.d=nn.getUTCDate()+(_r.w+6)%7):(nn=p(t(_r.y,0,1)),Pn=nn.getDay(),nn=Pn>4||Pn===0?a.qT.ceil(nn):(0,a.qT)(nn),nn=x.c.offset(nn,(_r.V-1)*7),_r.y=nn.getFullYear(),_r.m=nn.getMonth(),_r.d=nn.getDate()+(_r.w+6)%7)}else("W"in _r||"U"in _r)&&("w"in _r||(_r.w="u"in _r?_r.u%7:"W"in _r?1:0),Pn="Z"in _r?r(t(_r.y,0,1)).getUTCDay():p(t(_r.y,0,1)).getDay(),_r.m=0,_r.d="W"in _r?(_r.w+6)%7+_r.W*7-(Pn+5)%7:_r.w+_r.U*7-(Pn+6)%7);return"Z"in _r?(_r.H+=_r.Z/100|0,_r.M+=_r.Z%100,r(_r)):p(_r)}}function Ct(vr,Gr,Dr,_r){for(var hn=0,nn=Gr.length,Pn=Dr.length,Cn,Ar;hn<nn;){if(_r>=Pn)return-1;if(Cn=Gr.charCodeAt(hn++),Cn===37){if(Cn=Gr.charAt(hn++),Ar=bt[Cn in n?Gr.charAt(hn++):Cn],!Ar||(_r=Ar(vr,Dr,_r))<0)return-1}else if(Cn!=Dr.charCodeAt(_r++))return-1}return _r}function It(vr,Gr,Dr){var _r=yt.exec(Gr.slice(Dr));return _r?(vr.p=Yt[_r[0].toLowerCase()],Dr+_r[0].length):-1}function Dt(vr,Gr,Dr){var _r=kt.exec(Gr.slice(Dr));return _r?(vr.w=Kt[_r[0].toLowerCase()],Dr+_r[0].length):-1}function Vt(vr,Gr,Dr){var _r=Xt.exec(Gr.slice(Dr));return _r?(vr.w=St[_r[0].toLowerCase()],Dr+_r[0].length):-1}function Bt(vr,Gr,Dr){var _r=Zt.exec(Gr.slice(Dr));return _r?(vr.m=Qt[_r[0].toLowerCase()],Dr+_r[0].length):-1}function $t(vr,Gr,Dr){var _r=mr.exec(Gr.slice(Dr));return _r?(vr.m=mt[_r[0].toLowerCase()],Dr+_r[0].length):-1}function fr(vr,Gr,Dr){return Ct(vr,be,Gr,Dr)}function cr(vr,Gr,Dr){return Ct(vr,me,Gr,Dr)}function dr(vr,Gr,Dr){return Ct(vr,Me,Gr,Dr)}function Ye(vr){return Je[vr.getDay()]}function Ge(vr){return ze[vr.getDay()]}function zt(vr){return pt[vr.getMonth()]}function Ft(vr){return nt[vr.getMonth()]}function Jt(vr){return Te[+(vr.getHours()>=12)]}function tr(vr){return 1+~~(vr.getMonth()/3)}function ur(vr){return Je[vr.getUTCDay()]}function nr(vr){return ze[vr.getUTCDay()]}function Nt(vr){return pt[vr.getUTCMonth()]}function hr(vr){return nt[vr.getUTCMonth()]}function gr(vr){return Te[+(vr.getUTCHours()>=12)]}function br(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Gr=lt(vr+="",yr);return Gr.toString=function(){return vr},Gr},parse:function(vr){var Gr=Tt(vr+="",!1);return Gr.toString=function(){return vr},Gr},utcFormat:function(vr){var Gr=lt(vr+="",sr);return Gr.toString=function(){return vr},Gr},utcParse:function(vr){var Gr=Tt(vr+="",!0);return Gr.toString=function(){return vr},Gr}}}var n={"-":"",_:" ",0:"0"},u=/^\s*\d+/,f=/^%/,l=/[\\^$*+?|[\]().{}]/g;function y(Ie,be,me){var Me=Ie<0?"-":"",Te=(Me?-Ie:Ie)+"",ze=Te.length;return Me+(ze<me?new Array(me-ze+1).join(be)+Te:Te)}function h(Ie){return Ie.replace(l,"\\$&")}function M(Ie){return new RegExp("^(?:"+Ie.map(h).join("|")+")","i")}function c(Ie){for(var be={},me=-1,Me=Ie.length;++me<Me;)be[Ie[me].toLowerCase()]=me;return be}function o(Ie,be,me){var Me=u.exec(be.slice(me,me+1));return Me?(Ie.w=+Me[0],me+Me[0].length):-1}function d(Ie,be,me){var Me=u.exec(be.slice(me,me+1));return Me?(Ie.u=+Me[0],me+Me[0].length):-1}function T(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.U=+Me[0],me+Me[0].length):-1}function S(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.V=+Me[0],me+Me[0].length):-1}function C(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.W=+Me[0],me+Me[0].length):-1}function m(Ie,be,me){var Me=u.exec(be.slice(me,me+4));return Me?(Ie.y=+Me[0],me+Me[0].length):-1}function E(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.y=+Me[0]+(+Me[0]>68?1900:2e3),me+Me[0].length):-1}function b(Ie,be,me){var Me=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(be.slice(me,me+6));return Me?(Ie.Z=Me[1]?0:-(Me[2]+(Me[3]||"00")),me+Me[0].length):-1}function s(Ie,be,me){var Me=u.exec(be.slice(me,me+1));return Me?(Ie.q=Me[0]*3-3,me+Me[0].length):-1}function L(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.m=Me[0]-1,me+Me[0].length):-1}function A(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.d=+Me[0],me+Me[0].length):-1}function k(Ie,be,me){var Me=u.exec(be.slice(me,me+3));return Me?(Ie.m=0,Ie.d=+Me[0],me+Me[0].length):-1}function _(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.H=+Me[0],me+Me[0].length):-1}function U(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.M=+Me[0],me+Me[0].length):-1}function F(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.S=+Me[0],me+Me[0].length):-1}function z(Ie,be,me){var Me=u.exec(be.slice(me,me+3));return Me?(Ie.L=+Me[0],me+Me[0].length):-1}function B(Ie,be,me){var Me=u.exec(be.slice(me,me+6));return Me?(Ie.L=Math.floor(Me[0]/1e3),me+Me[0].length):-1}function N(Ie,be,me){var Me=f.exec(be.slice(me,me+1));return Me?me+Me[0].length:-1}function V(Ie,be,me){var Me=u.exec(be.slice(me));return Me?(Ie.Q=+Me[0],me+Me[0].length):-1}function W(Ie,be,me){var Me=u.exec(be.slice(me));return Me?(Ie.s=+Me[0],me+Me[0].length):-1}function Q(Ie,be){return y(Ie.getDate(),be,2)}function re(Ie,be){return y(Ie.getHours(),be,2)}function ne(Ie,be){return y(Ie.getHours()%12||12,be,2)}function fe(Ie,be){return y(1+x.c.count((0,w.c)(Ie),Ie),be,3)}function $(Ie,be){return y(Ie.getMilliseconds(),be,3)}function X(Ie,be){return $(Ie,be)+"000"}function oe(Ie,be){return y(Ie.getMonth()+1,be,2)}function Y(Ie,be){return y(Ie.getMinutes(),be,2)}function ee(Ie,be){return y(Ie.getSeconds(),be,2)}function se(Ie){var be=Ie.getDay();return be===0?7:be}function q(Ie,be){return y(a.uU.count((0,w.c)(Ie)-1,Ie),be,2)}function K(Ie,be){var me=Ie.getDay();return Ie=me>=4||me===0?(0,a.kD)(Ie):a.kD.ceil(Ie),y(a.kD.count((0,w.c)(Ie),Ie)+((0,w.c)(Ie).getDay()===4),be,2)}function le(Ie){return Ie.getDay()}function ie(Ie,be){return y(a.qT.count((0,w.c)(Ie)-1,Ie),be,2)}function he(Ie,be){return y(Ie.getFullYear()%100,be,2)}function ye(Ie,be){return y(Ie.getFullYear()%1e4,be,4)}function Ce(Ie){var be=Ie.getTimezoneOffset();return(be>0?"-":(be*=-1,"+"))+y(be/60|0,"0",2)+y(be%60,"0",2)}function Ae(Ie,be){return y(Ie.getUTCDate(),be,2)}function ke(Ie,be){return y(Ie.getUTCHours(),be,2)}function we(Ie,be){return y(Ie.getUTCHours()%12||12,be,2)}function Ee(Ie,be){return y(1+P.c.count((0,v.c)(Ie),Ie),be,3)}function xe(Ie,be){return y(Ie.getUTCMilliseconds(),be,3)}function Re(Ie,be){return xe(Ie,be)+"000"}function Ve(Ie,be){return y(Ie.getUTCMonth()+1,be,2)}function Ue(Ie,be){return y(Ie.getUTCMinutes(),be,2)}function Be(Ie,be){return y(Ie.getUTCSeconds(),be,2)}function Xe(Ie){var be=Ie.getUTCDay();return be===0?7:be}function ut(Ie,be){return y(g.EV.count((0,v.c)(Ie)-1,Ie),be,2)}function dt(Ie,be){var me=Ie.getUTCDay();return Ie=me>=4||me===0?(0,g.yA)(Ie):g.yA.ceil(Ie),y(g.yA.count((0,v.c)(Ie),Ie)+((0,v.c)(Ie).getUTCDay()===4),be,2)}function at(Ie){return Ie.getUTCDay()}function We(Ie,be){return y(g.ot.count((0,v.c)(Ie)-1,Ie),be,2)}function rt(Ie,be){return y(Ie.getUTCFullYear()%100,be,2)}function st(Ie,be){return y(Ie.getUTCFullYear()%1e4,be,4)}function ht(){return"+0000"}function vt(){return"%"}function At(Ie){return+Ie}function tt(Ie){return Math.floor(+Ie/1e3)}var _e,je,Ke;He({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function He(Ie){return _e=i(Ie),je=_e.format,_e.parse,Ke=_e.utcFormat,_e.utcParse,_e}},68936:function(H,j,e){e.d(j,{m:function(){return x}});var g=e(81628),P=e(69792),a=(0,g.c)(function(w){w.setHours(0,0,0,0)},function(w,v){w.setDate(w.getDate()+v)},function(w,v){return(v-w-(v.getTimezoneOffset()-w.getTimezoneOffset())*P.iy)/P.SK},function(w){return w.getDate()-1});j.c=a;var x=a.range},69792:function(H,j,e){e.d(j,{KK:function(){return w},SK:function(){return x},cg:function(){return a},iy:function(){return P},yc:function(){return g}});var g=1e3,P=6e4,a=36e5,x=864e5,w=6048e5},73220:function(H,j,e){e.r(j),e.d(j,{timeDay:function(){return y.c},timeDays:function(){return y.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return f},timeHours:function(){return l},timeInterval:function(){return g.c},timeMillisecond:function(){return a},timeMilliseconds:function(){return x},timeMinute:function(){return i},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return o},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return L.od},utcFridays:function(){return L.iG},utcHour:function(){return E},utcHours:function(){return b},utcMillisecond:function(){return a},utcMilliseconds:function(){return x},utcMinute:function(){return S},utcMinutes:function(){return C},utcMonday:function(){return L.ot},utcMondays:function(){return L.iO},utcMonth:function(){return k},utcMonths:function(){return _},utcSaturday:function(){return L.Ad},utcSaturdays:function(){return L.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return L.EV},utcSundays:function(){return L.Wq},utcThursday:function(){return L.yA},utcThursdays:function(){return L.ob},utcTuesday:function(){return L.sG},utcTuesdays:function(){return L.kl},utcWednesday:function(){return L._6},utcWednesdays:function(){return L.W_},utcWeek:function(){return L.EV},utcWeeks:function(){return L.Wq},utcYear:function(){return U.c},utcYears:function(){return U.i}});var g=e(81628),P=(0,g.c)(function(){},function(F,z){F.setTime(+F+z)},function(F,z){return z-F});P.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,g.c)(function(z){z.setTime(Math.floor(z/F)*F)},function(z,B){z.setTime(+z+B*F)},function(z,B){return(B-z)/F}):P};var a=P,x=P.range,w=e(69792),v=(0,g.c)(function(F){F.setTime(F-F.getMilliseconds())},function(F,z){F.setTime(+F+z*w.yc)},function(F,z){return(z-F)/w.yc},function(F){return F.getUTCSeconds()}),p=v,r=v.range,t=(0,g.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*w.yc)},function(F,z){F.setTime(+F+z*w.iy)},function(F,z){return(z-F)/w.iy},function(F){return F.getMinutes()}),i=t,n=t.range,u=(0,g.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*w.yc-F.getMinutes()*w.iy)},function(F,z){F.setTime(+F+z*w.cg)},function(F,z){return(z-F)/w.cg},function(F){return F.getHours()}),f=u,l=u.range,y=e(68936),h=e(46192),M=(0,g.c)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,z){F.setMonth(F.getMonth()+z)},function(F,z){return z.getMonth()-F.getMonth()+(z.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),c=M,o=M.range,d=e(32171),T=(0,g.c)(function(F){F.setUTCSeconds(0,0)},function(F,z){F.setTime(+F+z*w.iy)},function(F,z){return(z-F)/w.iy},function(F){return F.getUTCMinutes()}),S=T,C=T.range,m=(0,g.c)(function(F){F.setUTCMinutes(0,0,0)},function(F,z){F.setTime(+F+z*w.cg)},function(F,z){return(z-F)/w.cg},function(F){return F.getUTCHours()}),E=m,b=m.range,s=e(58931),L=e(8208),A=(0,g.c)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,z){F.setUTCMonth(F.getUTCMonth()+z)},function(F,z){return z.getUTCMonth()-F.getUTCMonth()+(z.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),k=A,_=A.range,U=e(53528)},81628:function(H,j,e){e.d(j,{c:function(){return a}});var g=new Date,P=new Date;function a(x,w,v,p){function r(t){return x(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return x(t=new Date(+t)),t},r.ceil=function(t){return x(t=new Date(t-1)),w(t,1),x(t),t},r.round=function(t){var i=r(t),n=r.ceil(t);return t-i<n-t?i:n},r.offset=function(t,i){return w(t=new Date(+t),i==null?1:Math.floor(i)),t},r.range=function(t,i,n){var u=[],f;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<i)||!(n>0))return u;do u.push(f=new Date(+t)),w(t,n),x(t);while(f<t&&t<i);return u},r.filter=function(t){return a(function(i){if(i>=i)for(;x(i),!t(i);)i.setTime(i-1)},function(i,n){if(i>=i)if(n<0)for(;++n<=0;)for(;w(i,-1),!t(i););else for(;--n>=0;)for(;w(i,1),!t(i););})},v&&(r.count=function(t,i){return g.setTime(+t),P.setTime(+i),x(g),x(P),Math.floor(v(g,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(i){return p(i)%t===0}:function(i){return r.count(0,i)%t===0}):r}),r}},58931:function(H,j,e){e.d(j,{o:function(){return x}});var g=e(81628),P=e(69792),a=(0,g.c)(function(w){w.setUTCHours(0,0,0,0)},function(w,v){w.setUTCDate(w.getUTCDate()+v)},function(w,v){return(v-w)/P.SK},function(w){return w.getUTCDate()-1});j.c=a;var x=a.range},8208:function(H,j,e){e.d(j,{Ad:function(){return i},EV:function(){return x},K8:function(){return M},W_:function(){return l},Wq:function(){return n},_6:function(){return p},iG:function(){return h},iO:function(){return u},kl:function(){return f},ob:function(){return y},od:function(){return t},ot:function(){return w},sG:function(){return v},yA:function(){return r}});var g=e(81628),P=e(69792);function a(c){return(0,g.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-c)%7),o.setUTCHours(0,0,0,0)},function(o,d){o.setUTCDate(o.getUTCDate()+d*7)},function(o,d){return(d-o)/P.KK})}var x=a(0),w=a(1),v=a(2),p=a(3),r=a(4),t=a(5),i=a(6),n=x.range,u=w.range,f=v.range,l=p.range,y=r.range,h=t.range,M=i.range},53528:function(H,j,e){e.d(j,{i:function(){return a}});var g=e(81628),P=(0,g.c)(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,w){x.setUTCFullYear(x.getUTCFullYear()+w)},function(x,w){return w.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});P.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:(0,g.c)(function(w){w.setUTCFullYear(Math.floor(w.getUTCFullYear()/x)*x),w.setUTCMonth(0,1),w.setUTCHours(0,0,0,0)},function(w,v){w.setUTCFullYear(w.getUTCFullYear()+v*x)})},j.c=P;var a=P.range},46192:function(H,j,e){e.d(j,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return f},QP:function(){return u},Wc:function(){return i},aI:function(){return M},eC:function(){return y},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return w},sJ:function(){return h},sn:function(){return l},uU:function(){return x}});var g=e(81628),P=e(69792);function a(c){return(0,g.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-c)%7),o.setHours(0,0,0,0)},function(o,d){o.setDate(o.getDate()+d*7)},function(o,d){return(d-o-(d.getTimezoneOffset()-o.getTimezoneOffset())*P.iy)/P.KK})}var x=a(0),w=a(1),v=a(2),p=a(3),r=a(4),t=a(5),i=a(6),n=x.range,u=w.range,f=v.range,l=p.range,y=r.range,h=t.range,M=i.range},32171:function(H,j,e){e.d(j,{Q:function(){return a}});var g=e(81628),P=(0,g.c)(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,w){x.setFullYear(x.getFullYear()+w)},function(x,w){return w.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});P.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:(0,g.c)(function(w){w.setFullYear(Math.floor(w.getFullYear()/x)*x),w.setMonth(0,1),w.setHours(0,0,0,0)},function(w,v){w.setFullYear(w.getFullYear()+v*x)})},j.c=P;var a=P.range},64348:function(H,j,e){var g=e(39640)(),P=e(53664),a=g&&P("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var x=P("%SyntaxError%"),w=P("%TypeError%"),v=e(2304);H.exports=function(r,t,i){if(!r||typeof r!="object"&&typeof r!="function")throw new w("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new w("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new w("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new w("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new w("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new w("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,y=!!v&&v(r,t);if(a)a(r,t,{configurable:f===null&&y?y.configurable:!f,enumerable:n===null&&y?y.enumerable:!n,value:i,writable:u===null&&y?y.writable:!u});else if(l||!n&&!u&&!f)r[t]=i;else throw new x("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(H,j,e){var g=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,x=Array.prototype.concat,w=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},p=e(39640)(),r=w&&p,t=function(n,u,f,l){if(u in n){if(l===!0){if(n[u]===f)return}else if(!v(l)||!l())return}r?w(n,u,{configurable:!0,enumerable:!1,value:f,writable:!0}):n[u]=f},i=function(n,u){var f=arguments.length>2?arguments[2]:{},l=g(u);P&&(l=x.call(l,Object.getOwnPropertySymbols(u)));for(var y=0;y<l.length;y+=1)t(n,l[y],u[l[y]],f[l[y]])};i.supportsDescriptors=!!r,H.exports=i},31264:function(H){H.exports=function(){for(var j=0;j<arguments.length;j++)if(arguments[j]!==void 0)return arguments[j]}},63768:function(H){H.exports=P;var j=P.canvas=document.createElement("canvas"),e=j.getContext("2d"),g=a([32,126]);P.createPairs=a,P.ascii=g;function P(x,w){Array.isArray(x)&&(x=x.join(", "));var v={},p,r=16,t=.05;w&&(w.length===2&&typeof w[0]=="number"?p=a(w):Array.isArray(w)?p=w:(w.o?p=a(w.o):w.pairs&&(p=w.pairs),w.fontSize&&(r=w.fontSize),w.threshold!=null&&(t=w.threshold))),p||(p=g),e.font=r+"px "+x;for(var i=0;i<p.length;i++){var n=p[i],u=e.measureText(n[0]).width+e.measureText(n[1]).width,f=e.measureText(n).width;if(Math.abs(u-f)>r*t){var l=(f-u)/r;v[n]=l*1e3}}return v}function a(x){for(var w=[],v=x[0];v<=x[1];v++)for(var p=String.fromCharCode(v),r=x[0];r<x[1];r++){var t=String.fromCharCode(r),i=p+t;w.push(i)}return w}},22235:function(H,j,e){var g=e(49972),P=e(48816),a={M:"moveTo",C:"bezierCurveTo"};H.exports=function(x,w){x.beginPath(),P(g(w)).forEach(function(v){var p=v[0],r=v.slice(1);x[a[p]].apply(x,r)}),x.closePath()}},72512:function(H){H.exports=function(j){switch(j){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(H){function j(P,a,x){var w=P[x]|0;if(w<=0)return[];var v=new Array(w),p;if(x===P.length-1)for(p=0;p<w;++p)v[p]=a;else for(p=0;p<w;++p)v[p]=j(P,a,x+1);return v}function e(P,a){var x,w;for(x=new Array(P),w=0;w<P;++w)x[w]=a;return x}function g(P,a){switch(typeof a>"u"&&(a=0),typeof P){case"number":if(P>0)return e(P|0,a);break;case"object":if(typeof P.length=="number")return j(P,a,0);break}return[]}H.exports=g},28912:function(H){H.exports=j,H.exports.default=j;function j(_,U,F){F=F||2;var z=U&&U.length,B=z?U[0]*F:_.length,N=e(_,0,B,F,!0),V=[];if(!N||N.next===N.prev)return V;var W,Q,re,ne,fe,$,X;if(z&&(N=p(_,U,N,F)),_.length>80*F){W=re=_[0],Q=ne=_[1];for(var oe=F;oe<B;oe+=F)fe=_[oe],$=_[oe+1],fe<W&&(W=fe),$<Q&&(Q=$),fe>re&&(re=fe),$>ne&&(ne=$);X=Math.max(re-W,ne-Q),X=X!==0?1/X:0}return P(N,V,F,W,Q,X),V}function e(_,U,F,z,B){var N,V;if(B===k(_,U,F,z)>0)for(N=U;N<F;N+=z)V=s(N,_[N],_[N+1],V);else for(N=F-z;N>=U;N-=z)V=s(N,_[N],_[N+1],V);return V&&o(V,V.next)&&(L(V),V=V.next),V}function g(_,U){if(!_)return _;U||(U=_);var F=_,z;do if(z=!1,!F.steiner&&(o(F,F.next)||c(F.prev,F,F.next)===0)){if(L(F),F=U=F.prev,F===F.next)break;z=!0}else F=F.next;while(z||F!==U);return U}function P(_,U,F,z,B,N,V){if(_){!V&&N&&u(_,z,B,N);for(var W=_,Q,re;_.prev!==_.next;){if(Q=_.prev,re=_.next,N?x(_,z,B,N):a(_)){U.push(Q.i/F),U.push(_.i/F),U.push(re.i/F),L(_),_=re.next,W=re.next;continue}if(_=re,_===W){V?V===1?(_=w(g(_),U,F),P(_,U,F,z,B,N,2)):V===2&&v(_,U,F,z,B,N):P(g(_),U,F,z,B,N,1);break}}}}function a(_){var U=_.prev,F=_,z=_.next;if(c(U,F,z)>=0)return!1;for(var B=_.next.next;B!==_.prev;){if(h(U.x,U.y,F.x,F.y,z.x,z.y,B.x,B.y)&&c(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function x(_,U,F,z){var B=_.prev,N=_,V=_.next;if(c(B,N,V)>=0)return!1;for(var W=B.x<N.x?B.x<V.x?B.x:V.x:N.x<V.x?N.x:V.x,Q=B.y<N.y?B.y<V.y?B.y:V.y:N.y<V.y?N.y:V.y,re=B.x>N.x?B.x>V.x?B.x:V.x:N.x>V.x?N.x:V.x,ne=B.y>N.y?B.y>V.y?B.y:V.y:N.y>V.y?N.y:V.y,fe=l(W,Q,U,F,z),$=l(re,ne,U,F,z),X=_.prevZ,oe=_.nextZ;X&&X.z>=fe&&oe&&oe.z<=$;){if(X!==_.prev&&X!==_.next&&h(B.x,B.y,N.x,N.y,V.x,V.y,X.x,X.y)&&c(X.prev,X,X.next)>=0||(X=X.prevZ,oe!==_.prev&&oe!==_.next&&h(B.x,B.y,N.x,N.y,V.x,V.y,oe.x,oe.y)&&c(oe.prev,oe,oe.next)>=0))return!1;oe=oe.nextZ}for(;X&&X.z>=fe;){if(X!==_.prev&&X!==_.next&&h(B.x,B.y,N.x,N.y,V.x,V.y,X.x,X.y)&&c(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;oe&&oe.z<=$;){if(oe!==_.prev&&oe!==_.next&&h(B.x,B.y,N.x,N.y,V.x,V.y,oe.x,oe.y)&&c(oe.prev,oe,oe.next)>=0)return!1;oe=oe.nextZ}return!0}function w(_,U,F){var z=_;do{var B=z.prev,N=z.next.next;!o(B,N)&&d(B,z,z.next,N)&&m(B,N)&&m(N,B)&&(U.push(B.i/F),U.push(z.i/F),U.push(N.i/F),L(z),L(z.next),z=_=N),z=z.next}while(z!==_);return g(z)}function v(_,U,F,z,B,N){var V=_;do{for(var W=V.next.next;W!==V.prev;){if(V.i!==W.i&&M(V,W)){var Q=b(V,W);V=g(V,V.next),Q=g(Q,Q.next),P(V,U,F,z,B,N),P(Q,U,F,z,B,N);return}W=W.next}V=V.next}while(V!==_)}function p(_,U,F,z){var B=[],N,V,W,Q,re;for(N=0,V=U.length;N<V;N++)W=U[N]*z,Q=N<V-1?U[N+1]*z:_.length,re=e(_,W,Q,z,!1),re===re.next&&(re.steiner=!0),B.push(y(re));for(B.sort(r),N=0;N<B.length;N++)t(B[N],F),F=g(F,F.next);return F}function r(_,U){return _.x-U.x}function t(_,U){if(U=i(_,U),U){var F=b(U,_);g(U,U.next),g(F,F.next)}}function i(_,U){var F=U,z=_.x,B=_.y,N=-1/0,V;do{if(B<=F.y&&B>=F.next.y&&F.next.y!==F.y){var W=F.x+(B-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(W<=z&&W>N){if(N=W,W===z){if(B===F.y)return F;if(B===F.next.y)return F.next}V=F.x<F.next.x?F:F.next}}F=F.next}while(F!==U);if(!V)return null;if(z===N)return V;var Q=V,re=V.x,ne=V.y,fe=1/0,$;F=V;do z>=F.x&&F.x>=re&&z!==F.x&&h(B<ne?z:N,B,re,ne,B<ne?N:z,B,F.x,F.y)&&($=Math.abs(B-F.y)/(z-F.x),m(F,_)&&($<fe||$===fe&&(F.x>V.x||F.x===V.x&&n(V,F)))&&(V=F,fe=$)),F=F.next;while(F!==Q);return V}function n(_,U){return c(_.prev,_,U.prev)<0&&c(U.next,_,_.next)<0}function u(_,U,F,z){var B=_;do B.z===null&&(B.z=l(B.x,B.y,U,F,z)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==_);B.prevZ.nextZ=null,B.prevZ=null,f(B)}function f(_){var U,F,z,B,N,V,W,Q,re=1;do{for(F=_,_=null,N=null,V=0;F;){for(V++,z=F,W=0,U=0;U<re&&(W++,z=z.nextZ,!!z);U++);for(Q=re;W>0||Q>0&&z;)W!==0&&(Q===0||!z||F.z<=z.z)?(B=F,F=F.nextZ,W--):(B=z,z=z.nextZ,Q--),N?N.nextZ=B:_=B,B.prevZ=N,N=B;F=z}N.nextZ=null,re*=2}while(V>1);return _}function l(_,U,F,z,B){return _=32767*(_-F)*B,U=32767*(U-z)*B,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,_|U<<1}function y(_){var U=_,F=_;do(U.x<F.x||U.x===F.x&&U.y<F.y)&&(F=U),U=U.next;while(U!==_);return F}function h(_,U,F,z,B,N,V,W){return(B-V)*(U-W)-(_-V)*(N-W)>=0&&(_-V)*(z-W)-(F-V)*(U-W)>=0&&(F-V)*(N-W)-(B-V)*(z-W)>=0}function M(_,U){return _.next.i!==U.i&&_.prev.i!==U.i&&!C(_,U)&&(m(_,U)&&m(U,_)&&E(_,U)&&(c(_.prev,_,U.prev)||c(_,U.prev,U))||o(_,U)&&c(_.prev,_,_.next)>0&&c(U.prev,U,U.next)>0)}function c(_,U,F){return(U.y-_.y)*(F.x-U.x)-(U.x-_.x)*(F.y-U.y)}function o(_,U){return _.x===U.x&&_.y===U.y}function d(_,U,F,z){var B=S(c(_,U,F)),N=S(c(_,U,z)),V=S(c(F,z,_)),W=S(c(F,z,U));return!!(B!==N&&V!==W||B===0&&T(_,F,U)||N===0&&T(_,z,U)||V===0&&T(F,_,z)||W===0&&T(F,U,z))}function T(_,U,F){return U.x<=Math.max(_.x,F.x)&&U.x>=Math.min(_.x,F.x)&&U.y<=Math.max(_.y,F.y)&&U.y>=Math.min(_.y,F.y)}function S(_){return _>0?1:_<0?-1:0}function C(_,U){var F=_;do{if(F.i!==_.i&&F.next.i!==_.i&&F.i!==U.i&&F.next.i!==U.i&&d(F,F.next,_,U))return!0;F=F.next}while(F!==_);return!1}function m(_,U){return c(_.prev,_,_.next)<0?c(_,U,_.next)>=0&&c(_,_.prev,U)>=0:c(_,U,_.prev)<0||c(_,_.next,U)<0}function E(_,U){var F=_,z=!1,B=(_.x+U.x)/2,N=(_.y+U.y)/2;do F.y>N!=F.next.y>N&&F.next.y!==F.y&&B<(F.next.x-F.x)*(N-F.y)/(F.next.y-F.y)+F.x&&(z=!z),F=F.next;while(F!==_);return z}function b(_,U){var F=new A(_.i,_.x,_.y),z=new A(U.i,U.x,U.y),B=_.next,N=U.prev;return _.next=U,U.prev=_,F.next=B,B.prev=F,z.next=F,F.prev=z,N.next=z,z.prev=N,z}function s(_,U,F,z){var B=new A(_,U,F);return z?(B.next=z.next,B.prev=z,z.next.prev=B,z.next=B):(B.prev=B,B.next=B),B}function L(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function A(_,U,F){this.i=_,this.x=U,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}j.deviation=function(_,U,F,z){var B=U&&U.length,N=B?U[0]*F:_.length,V=Math.abs(k(_,0,N,F));if(B)for(var W=0,Q=U.length;W<Q;W++){var re=U[W]*F,ne=W<Q-1?U[W+1]*F:_.length;V-=Math.abs(k(_,re,ne,F))}var fe=0;for(W=0;W<z.length;W+=3){var $=z[W]*F,X=z[W+1]*F,oe=z[W+2]*F;fe+=Math.abs((_[$]-_[oe])*(_[X+1]-_[$+1])-(_[$]-_[X])*(_[oe+1]-_[$+1]))}return V===0&&fe===0?0:Math.abs((fe-V)/V)};function k(_,U,F,z){for(var B=0,N=U,V=F-z;N<F;N+=z)B+=(_[V]-_[N])*(_[N+1]+_[V+1]),V=N;return B}j.flatten=function(_){for(var U=_[0][0].length,F={vertices:[],holes:[],dimensions:U},z=0,B=0;B<_.length;B++){for(var N=0;N<_[B].length;N++)for(var V=0;V<U;V++)F.vertices.push(_[B][N][V]);B>0&&(z+=_[B-1].length,F.holes.push(z))}return F}},6688:function(H,j,e){var g=e(78484);H.exports=function(a,x){var w=[],v=[],p=[],r={},t=[],i;function n(T){p[T]=!1,r.hasOwnProperty(T)&&Object.keys(r[T]).forEach(function(S){delete r[T][S],p[S]&&n(S)})}function u(T){var S=!1;v.push(T),p[T]=!0;var C,m;for(C=0;C<t[T].length;C++)m=t[T][C],m===i?(f(i,v),S=!0):p[m]||(S=u(m));if(S)n(T);else for(C=0;C<t[T].length;C++){m=t[T][C];var E=r[m];E||(E={},r[m]=E),E[m]=!0}return v.pop(),S}function f(T,S){var C=[].concat(S).concat(T);x?x(u):w.push(C)}function l(T){for(var S=0;S<a.length;S++)S<T&&(a[S]=[]),a[S]=a[S].filter(function(C){return C>=T})}function y(T){l(T);for(var S=a,C=g(S),m=C.components.filter(function(_){return _.length>1}),E=1/0,b,s=0;s<m.length;s++)for(var L=0;L<m[s].length;L++)m[s][L]<E&&(E=m[s][L],b=s);var A=m[b];if(!A)return!1;var k=a.map(function(_,U){return A.indexOf(U)===-1?[]:_.filter(function(F){return A.indexOf(F)!==-1})});return{leastVertex:E,adjList:k}}i=0;for(var h=a.length;i<h;){var M=y(i);if(i=M.leastVertex,t=M.adjList,t){for(var c=0;c<t.length;c++)for(var o=0;o<t[c].length;o++){var d=t[c][o];p[+d]=!1,r[d]={}}u(i),i=i+1}else i=h}if(!x)return w}},41476:function(H,j,e){var g=e(9252);H.exports=function(){return g(this).length=0,this}},74772:function(H,j,e){H.exports=e(44716)()?Array.from:e(80816)},44716:function(H){H.exports=function(){var j=Array.from,e,g;return typeof j!="function"?!1:(e=["raz","dwa"],g=j(e),!!(g&&g!==e&&g[1]==="dwa"))}},80816:function(H,j,e){var g=e(92664).iterator,P=e(60948),a=e(17024),x=e(81304),w=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,i=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},u=Object.defineProperty;H.exports=function(f){var l=arguments[1],y=arguments[2],h,M,c,o,d,T,S,C,m,E;if(f=Object(v(f)),p(l)&&w(l),!this||this===Array||!a(this)){if(!l){if(P(f))return d=f.length,d!==1?Array.apply(null,f):(o=new Array(1),o[0]=f[0],o);if(t(f)){for(o=new Array(d=f.length),M=0;M<d;++M)o[M]=f[M];return o}}o=[]}else h=this;if(!t(f)){if((m=f[g])!==void 0){for(S=w(m).call(f),h&&(o=new h),C=S.next(),M=0;!C.done;)E=l?i.call(l,y,C.value,M):C.value,h?(n.value=E,u(o,M,n)):o[M]=E,C=S.next(),++M;d=M}else if(r(f)){for(d=f.length,h&&(o=new h),M=0,c=0;M<d;++M)E=f[M],M+1<d&&(T=E.charCodeAt(0),T>=55296&&T<=56319&&(E+=f[++M])),E=l?i.call(l,y,E,c):E,h?(n.value=E,u(o,c,n)):o[c]=E,++c;d=c}}if(d===void 0)for(d=x(f.length),h&&(o=new h(d)),M=0;M<d;++M)E=l?i.call(l,y,f[M],M):f[M],h?(n.value=E,u(o,M,n)):o[M]=E;return h&&(n.value=null,o.length=d),o}},60948:function(H){var j=Object.prototype.toString,e=j.call(function(){return arguments}());H.exports=function(g){return j.call(g)===e}},17024:function(H){var j=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);H.exports=function(g){return typeof g=="function"&&e(j.call(g))}},33208:function(H){H.exports=function(){}},85608:function(H,j,e){H.exports=e(37328)()?Math.sign:e(92928)},37328:function(H){H.exports=function(){var j=Math.sign;return typeof j!="function"?!1:j(10)===1&&j(-20)===-1}},92928:function(H){H.exports=function(j){return j=Number(j),isNaN(j)||j===0?j:j>0?1:-1}},96936:function(H,j,e){var g=e(85608),P=Math.abs,a=Math.floor;H.exports=function(x){return isNaN(x)?0:(x=Number(x),x===0||!isFinite(x)?x:g(x)*a(P(x)))}},81304:function(H,j,e){var g=e(96936),P=Math.max;H.exports=function(a){return P(0,g(a))}},14428:function(H,j,e){var g=e(34044),P=e(9252),a=Function.prototype.bind,x=Function.prototype.call,w=Object.keys,v=Object.prototype.propertyIsEnumerable;H.exports=function(p,r){return function(t,i){var n,u=arguments[2],f=arguments[3];return t=Object(P(t)),g(i),n=w(t),f&&n.sort(typeof f=="function"?a.call(f,t):void 0),typeof p!="function"&&(p=n[p]),x.call(p,n,function(l,y){return v.call(t,l)?x.call(i,u,t[l],l,t,y):r})}}},38452:function(H,j,e){H.exports=e(96276)()?Object.assign:e(81892)},96276:function(H){H.exports=function(){var j=Object.assign,e;return typeof j!="function"?!1:(e={foo:"raz"},j(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(H,j,e){var g=e(54768),P=e(9252),a=Math.max;H.exports=function(x,w){var v,p,r=a(arguments.length,2),t;for(x=Object(P(x)),t=function(i){try{x[i]=w[i]}catch(n){v||(v=n)}},p=1;p<r;++p)w=arguments[p],g(w).forEach(t);if(v!==void 0)throw v;return x}},95920:function(H,j,e){var g=e(74772),P=e(38452),a=e(9252);H.exports=function(x){var w=Object(a(x)),v=arguments[1],p=Object(arguments[2]);if(w!==x&&!v)return w;var r={};return v?g(v,function(t){(p.ensure||t in x)&&(r[t]=x[t])}):P(r,x),r}},14452:function(H,j,e){var g=Object.create,P;e(63092)()||(P=e(8672)),H.exports=function(){var a,x,w;return!P||P.level!==1?g:(a={},x={},w={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){x[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}x[v]=w}),Object.defineProperties(a,x),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,p){return g(v===null?a:v,p)})}()},42748:function(H,j,e){H.exports=e(14428)("forEach")},69127:function(H,j,e){var g=e(42584),P={function:!0,object:!0};H.exports=function(a){return g(a)&&P[typeof a]||!1}},42584:function(H,j,e){var g=e(33208)();H.exports=function(P){return P!==g&&P!==null}},54768:function(H,j,e){H.exports=e(87888)()?Object.keys:e(89592)},87888:function(H){H.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(H,j,e){var g=e(42584),P=Object.keys;H.exports=function(a){return P(g(a)?Object(a):a)}},84323:function(H,j,e){var g=e(34044),P=e(42748),a=Function.prototype.call;H.exports=function(x,w){var v={},p=arguments[2];return g(w),P(x,function(r,t,i,n){v[t]=a.call(w,p,r,t,i,n)}),v}},50868:function(H,j,e){var g=e(42584),P=Array.prototype.forEach,a=Object.create,x=function(w,v){var p;for(p in w)v[p]=w[p]};H.exports=function(w){var v=a(null);return P.call(arguments,function(p){g(p)&&x(Object(p),v)}),v}},69932:function(H,j,e){H.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(H){var j=Object.create,e=Object.getPrototypeOf,g={};H.exports=function(){var P=Object.setPrototypeOf,a=arguments[0]||j;return typeof P!="function"?!1:e(P(a(null),g))===g}},8672:function(H,j,e){var g=e(69127),P=e(9252),a=Object.prototype.isPrototypeOf,x=Object.defineProperty,w={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||g(r))return p;throw new TypeError("Prototype must be null or an object")},H.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(i,n){return t.call(v(i,n),n),i}):r=function(i,n){return v(i,n).__proto__=n,i}:r=function i(n,u){var f;return v(n,u),f=a.call(i.nullPolyfill,n),f&&delete i.nullPolyfill.__proto__,u===null&&(u=i.nullPolyfill),n.__proto__=u,f&&x(i.nullPolyfill,"__proto__",w),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{t=i.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(H){H.exports=function(j){if(typeof j!="function")throw new TypeError(j+" is not a function");return j}},92584:function(H,j,e){var g=e(69127);H.exports=function(P){if(!g(P))throw new TypeError(P+" is not an Object");return P}},9252:function(H,j,e){var g=e(42584);H.exports=function(P){if(!g(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(H,j,e){H.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(H){var j="razdwatrzy";H.exports=function(){return typeof j.contains!="function"?!1:j.contains("dwa")===!0&&j.contains("foo")===!1}},93040:function(H){var j=String.prototype.indexOf;H.exports=function(e){return j.call(this,e,arguments[1])>-1}},29768:function(H){var j=Object.prototype.toString,e=j.call("");H.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||j.call(g)===e)||!1}},82252:function(H){var j=Object.create(null),e=Math.random;H.exports=function(){var g;do g=e().toString(36).slice(2);while(j[g]);return g}},52104:function(H,j,e){var g=e(69932),P=e(71056),a=e(21092),x=e(92664),w=e(85512),v=Object.defineProperty,p;p=H.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");w.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",a("",t))},g&&g(p,w),delete p.prototype.constructor,p.prototype=Object.create(w.prototype,{_resolve:a(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,x.toStringTag,a("c","Array Iterator"))},76024:function(H,j,e){var g=e(60948),P=e(34044),a=e(29768),x=e(76252),w=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;H.exports=function(r,t){var i,n=arguments[2],u,f,l,y,h,M,c;if(w(r)||g(r)?i="array":a(r)?i="string":r=x(r),P(t),f=function(){l=!0},i==="array"){p.call(r,function(o){return v.call(t,n,o,f),l});return}if(i==="string"){for(h=r.length,y=0;y<h&&(M=r[y],y+1<h&&(c=M.charCodeAt(0),c>=55296&&c<=56319&&(M+=r[++y])),v.call(t,n,M,f),!l);++y);return}for(u=r.next();!u.done;){if(v.call(t,n,u.value,f),l)return;u=r.next()}}},76252:function(H,j,e){var g=e(60948),P=e(29768),a=e(52104),x=e(80940),w=e(52891),v=e(92664).iterator;H.exports=function(p){return typeof w(p)[v]=="function"?p[v]():g(p)?new a(p):P(p)?new x(p):new a(p)}},85512:function(H,j,e){var g=e(41476),P=e(38452),a=e(34044),x=e(9252),w=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,i;H.exports=i=function(n,u){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");t(this,{__list__:w("w",x(n)),__context__:w("w",u),__nextIndex__:w("w",0)}),u&&(a(u.on),u.on("_add",this._onAdd),u.on("_delete",this._onDelete),u.on("_clear",this._onClear))},delete i.prototype.constructor,t(i.prototype,P({_next:w(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:w(function(){return this._createResult(this._next())}),_createResult:w(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:w(function(n){return this.__list__[n]}),_unBind:w(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:w(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:w(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",w("c",[n]));return}this.__redo__.forEach(function(u,f){u>=n&&(this.__redo__[f]=++u)},this),this.__redo__.push(n)}}),_onDelete:w(function(n){var u;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(u=this.__redo__.indexOf(n),u!==-1&&this.__redo__.splice(u,1),this.__redo__.forEach(function(f,l){f>n&&(this.__redo__[l]=--f)},this)))}),_onClear:w(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),r(i.prototype,p.iterator,w(function(){return this}))},76368:function(H,j,e){var g=e(60948),P=e(42584),a=e(29768),x=e(92664).iterator,w=Array.isArray;H.exports=function(v){return P(v)?w(v)||a(v)||g(v)?!0:typeof v[x]=="function":!1}},80940:function(H,j,e){var g=e(69932),P=e(21092),a=e(92664),x=e(85512),w=Object.defineProperty,v;v=H.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),x.call(this,p),w(this,"__length__",P("",p.length))},g&&g(v,x),delete v.prototype.constructor,v.prototype=Object.create(x.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),w(v.prototype,a.toStringTag,P("c","String Iterator"))},52891:function(H,j,e){var g=e(76368);H.exports=function(P){if(!g(P))throw new TypeError(P+" is not iterable");return P}},60964:function(H){function j(g,P){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(g),x=1;x<arguments.length;x++){var w=arguments[x];if(w!=null)for(var v=Object.keys(Object(w)),p=0,r=v.length;p<r;p++){var t=v[p],i=Object.getOwnPropertyDescriptor(w,t);i!==void 0&&i.enumerable&&(a[t]=w[t])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:j})}H.exports={assign:j,polyfill:e}},92664:function(H,j,e){H.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(H,j,e){var g=e(12296),P={object:!0,symbol:!0};H.exports=function(){var a=g.Symbol,x;if(typeof a!="function")return!1;x=a("test symbol");try{String(x)}catch{return!1}return!(!P[typeof a.iterator]||!P[typeof a.toPrimitive]||!P[typeof a.toStringTag])}},53908:function(H){H.exports=function(j){return j?typeof j=="symbol"?!0:!j.constructor||j.constructor.name!=="Symbol"?!1:j[j.constructor.toStringTag]==="Symbol":!1}},96863:function(H,j,e){var g=e(21092),P=Object.create,a=Object.defineProperty,x=Object.prototype,w=P(null);H.exports=function(v){for(var p=0,r,t;w[v+(p||"")];)++p;return v+=p||"",w[v]=!0,r="@@"+v,a(x,r,g.gs(null,function(i){t||(t=!0,a(this,r,g(i)),t=!1)})),r}},53540:function(H,j,e){var g=e(21092),P=e(12296).Symbol;H.exports=function(a){return Object.defineProperties(a,{hasInstance:g("",P&&P.hasInstance||a("hasInstance")),isConcatSpreadable:g("",P&&P.isConcatSpreadable||a("isConcatSpreadable")),iterator:g("",P&&P.iterator||a("iterator")),match:g("",P&&P.match||a("match")),replace:g("",P&&P.replace||a("replace")),search:g("",P&&P.search||a("search")),species:g("",P&&P.species||a("species")),split:g("",P&&P.split||a("split")),toPrimitive:g("",P&&P.toPrimitive||a("toPrimitive")),toStringTag:g("",P&&P.toStringTag||a("toStringTag")),unscopables:g("",P&&P.unscopables||a("unscopables"))})}},73852:function(H,j,e){var g=e(21092),P=e(63948),a=Object.create(null);H.exports=function(x){return Object.defineProperties(x,{for:g(function(w){return a[w]?a[w]:a[w]=x(String(w))}),keyFor:g(function(w){var v;P(w);for(v in a)if(a[v]===w)return v})})}},18376:function(H,j,e){var g=e(21092),P=e(63948),a=e(12296).Symbol,x=e(96863),w=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,i,n,u;if(typeof a=="function")try{String(a()),u=!0}catch{}else a=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return i(l)},H.exports=i=function f(l){var y;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return u?a(l):(y=p(n.prototype),l=l===void 0?"":String(l),r(y,{__description__:g("",l),__name__:g("",x(l))}))},w(i),v(i),r(n.prototype,{constructor:g(i),toString:g("",function(){return this.__name__})}),r(i.prototype,{toString:g(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:g(function(){return P(this)})}),t(i.prototype,i.toPrimitive,g("",function(){var f=P(this);return typeof f=="symbol"?f:f.toString()})),t(i.prototype,i.toStringTag,g("c","Symbol")),t(n.prototype,i.toStringTag,g("c",i.prototype[i.toStringTag])),t(n.prototype,i.toPrimitive,g("c",i.prototype[i.toPrimitive]))},63948:function(H,j,e){var g=e(53908);H.exports=function(P){if(!g(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(H,j,e){H.exports=e(96979)()?WeakMap:e(64864)},96979:function(H){H.exports=function(){var j,e;if(typeof WeakMap!="function")return!1;try{j=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(j)!=="[object WeakMap]"||typeof j.set!="function"||j.set({},1)!==j||typeof j.delete!="function"||typeof j.has!="function"||j.get(e)!=="one")}},69876:function(H){H.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(H,j,e){var g=e(42584),P=e(69932),a=e(92584),x=e(9252),w=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,i=e(69876),n=Array.isArray,u=Object.defineProperty,f=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,y;H.exports=y=function(){var h=arguments[0],M;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return M=i&&P&&WeakMap!==y?P(new WeakMap,l(this)):this,g(h)&&(n(h)||(h=p(h))),u(M,"__weakMapData__",v("c","$weakMap$"+w())),h&&r(h,function(c){x(c),M.set(c[0],c[1])}),M},i&&(P&&P(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:v(y)})),Object.defineProperties(y.prototype,{delete:v(function(h){return f.call(a(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(f.call(a(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return f.call(a(h),this.__weakMapData__)}),set:v(function(h,M){return u(a(h),this.__weakMapData__,v("c",M)),this}),toString:v(function(){return"[object WeakMap]"})}),u(y.prototype,t,v("c","WeakMap"))},61252:function(H){var j=typeof Reflect=="object"?Reflect:null,e=j&&typeof j.apply=="function"?j.apply:function(d,T,S){return Function.prototype.apply.call(d,T,S)},g;j&&typeof j.ownKeys=="function"?g=j.ownKeys:Object.getOwnPropertySymbols?g=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:g=function(d){return Object.getOwnPropertyNames(d)};function P(o){console&&console.warn&&console.warn(o)}var a=Number.isNaN||function(d){return d!==d};function x(){x.init.call(this)}H.exports=x,H.exports.once=h,x.EventEmitter=x,x.prototype._events=void 0,x.prototype._eventsCount=0,x.prototype._maxListeners=void 0;var w=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(x,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(o){if(typeof o!="number"||o<0||a(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");w=o}}),x.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},x.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||a(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(o){return o._maxListeners===void 0?x.defaultMaxListeners:o._maxListeners}x.prototype.getMaxListeners=function(){return p(this)},x.prototype.emit=function(d){for(var T=[],S=1;S<arguments.length;S++)T.push(arguments[S]);var C=d==="error",m=this._events;if(m!==void 0)C=C&&m.error===void 0;else if(!C)return!1;if(C){var E;if(T.length>0&&(E=T[0]),E instanceof Error)throw E;var b=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw b.context=E,b}var s=m[d];if(s===void 0)return!1;if(typeof s=="function")e(s,this,T);else for(var L=s.length,A=f(s,L),S=0;S<L;++S)e(A[S],this,T);return!0};function r(o,d,T,S){var C,m,E;if(v(T),m=o._events,m===void 0?(m=o._events=Object.create(null),o._eventsCount=0):(m.newListener!==void 0&&(o.emit("newListener",d,T.listener?T.listener:T),m=o._events),E=m[d]),E===void 0)E=m[d]=T,++o._eventsCount;else if(typeof E=="function"?E=m[d]=S?[T,E]:[E,T]:S?E.unshift(T):E.push(T),C=p(o),C>0&&E.length>C&&!E.warned){E.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=o,b.type=d,b.count=E.length,P(b)}return o}x.prototype.addListener=function(d,T){return r(this,d,T,!1)},x.prototype.on=x.prototype.addListener,x.prototype.prependListener=function(d,T){return r(this,d,T,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(o,d,T){var S={fired:!1,wrapFn:void 0,target:o,type:d,listener:T},C=t.bind(S);return C.listener=T,S.wrapFn=C,C}x.prototype.once=function(d,T){return v(T),this.on(d,i(this,d,T)),this},x.prototype.prependOnceListener=function(d,T){return v(T),this.prependListener(d,i(this,d,T)),this},x.prototype.removeListener=function(d,T){var S,C,m,E,b;if(v(T),C=this._events,C===void 0)return this;if(S=C[d],S===void 0)return this;if(S===T||S.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,S.listener||T));else if(typeof S!="function"){for(m=-1,E=S.length-1;E>=0;E--)if(S[E]===T||S[E].listener===T){b=S[E].listener,m=E;break}if(m<0)return this;m===0?S.shift():l(S,m),S.length===1&&(C[d]=S[0]),C.removeListener!==void 0&&this.emit("removeListener",d,b||T)}return this},x.prototype.off=x.prototype.removeListener,x.prototype.removeAllListeners=function(d){var T,S,C;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[d]),this;if(arguments.length===0){var m=Object.keys(S),E;for(C=0;C<m.length;++C)E=m[C],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=S[d],typeof T=="function")this.removeListener(d,T);else if(T!==void 0)for(C=T.length-1;C>=0;C--)this.removeListener(d,T[C]);return this};function n(o,d,T){var S=o._events;if(S===void 0)return[];var C=S[d];return C===void 0?[]:typeof C=="function"?T?[C.listener||C]:[C]:T?y(C):f(C,C.length)}x.prototype.listeners=function(d){return n(this,d,!0)},x.prototype.rawListeners=function(d){return n(this,d,!1)},x.listenerCount=function(o,d){return typeof o.listenerCount=="function"?o.listenerCount(d):u.call(o,d)},x.prototype.listenerCount=u;function u(o){var d=this._events;if(d!==void 0){var T=d[o];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}x.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function f(o,d){for(var T=new Array(d),S=0;S<d;++S)T[S]=o[S];return T}function l(o,d){for(;d+1<o.length;d++)o[d]=o[d+1];o.pop()}function y(o){for(var d=new Array(o.length),T=0;T<d.length;++T)d[T]=o[T].listener||o[T];return d}function h(o,d){return new Promise(function(T,S){function C(E){o.removeListener(d,m),S(E)}function m(){typeof o.removeListener=="function"&&o.removeListener("error",C),T([].slice.call(arguments))}c(o,d,m,{once:!0}),d!=="error"&&M(o,C,{once:!0})})}function M(o,d,T){typeof o.on=="function"&&c(o,"error",d,T)}function c(o,d,T,S){if(typeof o.on=="function")S.once?o.once(d,T):o.on(d,T);else if(typeof o.addEventListener=="function")o.addEventListener(d,function C(m){S.once&&o.removeEventListener(d,C),T(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},39072:function(H){var j=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};H.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return j()}try{return __global__||j()}finally{delete Object.prototype.__global__}}()},12296:function(H,j,e){H.exports=e(45072)()?globalThis:e(39072)},45072:function(H){H.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(H,j,e){var g=e(94576);H.exports=function(P){var a=typeof P;if(a==="string"){var x=P;if(P=+P,P===0&&g(x))return!1}else if(a!=="number")return!1;return P-P<1}},47520:function(H,j,e){var g=e(72512);H.exports=P;function P(a,x,w){if(!a)throw new TypeError("must specify data as first parameter");if(w=+(w||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,p=a.length*v,r,t,i,n;(!x||typeof x=="string")&&(x=new(g(x||"float32"))(p+w));var u=x.length-w;if(p!==u)throw new Error("source length "+p+" ("+v+"x"+a.length+") does not match destination length "+u);for(r=0,i=w;r<a.length;r++)for(t=0;t<v;t++)x[i++]=a[r][t]===null?NaN:a[r][t]}else if(!x||typeof x=="string"){var f=g(x||"float32");if(Array.isArray(a)||x==="array")for(x=new f(a.length+w),r=0,i=w,n=x.length;i<n;i++,r++)x[i]=a[r]===null?NaN:a[r];else w===0?x=new f(a):(x=new f(a.length+w),x.set(a,w))}else x.set(a,w);return x}},33888:function(H,j,e){var g=e(49395),P=[32,126];H.exports=a;function a(x){x=x||{};var w=x.shape?x.shape:x.canvas?[x.canvas.width,x.canvas.height]:[512,512],v=x.canvas||document.createElement("canvas"),p=x.font,r=typeof x.step=="number"?[x.step,x.step]:x.step||[32,32],t=x.chars||P;if(p&&typeof p!="string"&&(p=g(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],n=t[0],u=0;n<=t[1];n++)i[u++]=String.fromCharCode(n);t=i}w=w.slice(),v.width=w[0],v.height=w[1];var f=v.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,v.width,v.height),f.font=p,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var l=r[0]/2,y=r[1]/2,n=0;n<t.length;n++)f.fillText(t[n],l,y),(l+=r[0])>w[0]-r[0]/2&&(l=r[0]/2,y+=r[1]);return v}},71920:function(H){H.exports=j,j.canvas=document.createElement("canvas"),j.cache={};function j(t,x){x||(x={}),(typeof t=="string"||Array.isArray(t))&&(x.family=t);var w=Array.isArray(x.family)?x.family.join(", "):x.family;if(!w)throw Error("`family` must be defined");var v=x.size||x.fontSize||x.em||48,p=x.weight||x.fontWeight||"",r=x.style||x.fontStyle||"",t=[r,p,v].join(" ")+"px "+w,i=x.origin||"top";if(j.cache[w]&&v<=j.cache[w].em)return e(j.cache[w],i);var n=x.canvas||j.canvas,u=n.getContext("2d"),f={upper:x.upper!==void 0?x.upper:"H",lower:x.lower!==void 0?x.lower:"x",descent:x.descent!==void 0?x.descent:"p",ascent:x.ascent!==void 0?x.ascent:"h",tittle:x.tittle!==void 0?x.tittle:"i",overshoot:x.overshoot!==void 0?x.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,u.font=t;var y="H",h={top:0};u.clearRect(0,0,l,l),u.textBaseline="top",u.fillStyle="black",u.fillText(y,0,0);var M=g(u.getImageData(0,0,l,l));u.clearRect(0,0,l,l),u.textBaseline="bottom",u.fillText(y,0,l);var c=g(u.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+M,u.clearRect(0,0,l,l),u.textBaseline="alphabetic",u.fillText(y,0,l);var o=g(u.getImageData(0,0,l,l)),d=l-o-1+M;h.baseline=h.alphabetic=d,u.clearRect(0,0,l,l),u.textBaseline="middle",u.fillText(y,0,l*.5);var T=g(u.getImageData(0,0,l,l));h.median=h.middle=l-T-1+M-l*.5,u.clearRect(0,0,l,l),u.textBaseline="hanging",u.fillText(y,0,l*.5);var S=g(u.getImageData(0,0,l,l));h.hanging=l-S-1+M-l*.5,u.clearRect(0,0,l,l),u.textBaseline="ideographic",u.fillText(y,0,l);var C=g(u.getImageData(0,0,l,l));if(h.ideographic=l-C-1+M,f.upper&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.upper,0,0),h.upper=g(u.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),f.lower&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.lower,0,0),h.lower=g(u.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),f.tittle&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.tittle,0,0),h.tittle=g(u.getImageData(0,0,l,l))),f.ascent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.ascent,0,0),h.ascent=g(u.getImageData(0,0,l,l))),f.descent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.descent,0,0),h.descent=P(u.getImageData(0,0,l,l))),f.overshoot){u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.overshoot,0,0);var m=P(u.getImageData(0,0,l,l));h.overshoot=m-d}for(var E in h)h[E]/=v;return h.em=v,j.cache[w]=h,e(h,i)}function e(a,x){var w={};typeof x=="string"&&(x=a[x]);for(var v in a)v!=="em"&&(w[v]=a[v]-x);return w}function g(a){for(var x=a.height,w=a.data,v=3;v<w.length;v+=4)if(w[v]!==0)return Math.floor((v-3)*.25/x)}function P(a){for(var x=a.height,w=a.data,v=w.length-1;v>0;v-=4)if(w[v]!==0)return Math.floor((v-3)*.25/x)}},46492:function(H,j,e){var g=e(90720),P=Object.prototype.toString,a=Object.prototype.hasOwnProperty,x=function(t,i,n){for(var u=0,f=t.length;u<f;u++)a.call(t,u)&&(n==null?i(t[u],u,t):i.call(n,t[u],u,t))},w=function(t,i,n){for(var u=0,f=t.length;u<f;u++)n==null?i(t.charAt(u),u,t):i.call(n,t.charAt(u),u,t)},v=function(t,i,n){for(var u in t)a.call(t,u)&&(n==null?i(t[u],u,t):i.call(n,t[u],u,t))},p=function(t,i,n){if(!g(i))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=n),P.call(t)==="[object Array]"?x(t,i,u):typeof t=="string"?w(t,i,u):v(t,i,u)};H.exports=p},74336:function(H){var j="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,g=Math.max,P="[object Function]",a=function(p,r){for(var t=[],i=0;i<p.length;i+=1)t[i]=p[i];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},x=function(p,r){for(var t=[],i=r||0,n=0;i<p.length;i+=1,n+=1)t[n]=p[i];return t},w=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};H.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(j+r);for(var t=x(arguments,1),i,n=function(){if(this instanceof i){var h=r.apply(this,a(t,arguments));return Object(h)===h?h:this}return r.apply(p,a(t,arguments))},u=g(0,r.length-t.length),f=[],l=0;l<u;l++)f[l]="$"+l;if(i=Function("binder","return function ("+w(f,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var y=function(){};y.prototype=r.prototype,i.prototype=new y,y.prototype=null}return i}},8844:function(H,j,e){var g=e(74336);H.exports=Function.prototype.bind||g},13380:function(H){H.exports=j;function j(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var P=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(P.width=g.width),typeof g.height=="number"&&(P.height=g.height);var a=g,x;try{var w=[e];e.indexOf("webgl")===0&&w.push("experimental-"+e);for(var v=0;v<w.length;v++)if(x=P.getContext(w[v],a),x)return x}catch{x=null}return x||null}},53664:function(H,j,e){var g,P=SyntaxError,a=Function,x=TypeError,w=function(A){try{return a('"use strict"; return ('+A+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new x},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),i=e(69572)(),n=Object.getPrototypeOf||(i?function(A){return A.__proto__}:null),u={},f=typeof Uint8Array>"u"||!n?g:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?g:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?g:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):g,"%Symbol%":t?Symbol:g,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":f,"%TypeError%":x,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};if(n)try{null.error}catch(A){var y=n(n(A));l["%Error.prototype%"]=y}var h=function A(k){var _;if(k==="%AsyncFunction%")_=w("async function () {}");else if(k==="%GeneratorFunction%")_=w("function* () {}");else if(k==="%AsyncGeneratorFunction%")_=w("async function* () {}");else if(k==="%AsyncGenerator%"){var U=A("%AsyncGeneratorFunction%");U&&(_=U.prototype)}else if(k==="%AsyncIteratorPrototype%"){var F=A("%AsyncGenerator%");F&&n&&(_=n(F.prototype))}return l[k]=_,_},M={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),o=e(92064),d=c.call(Function.call,Array.prototype.concat),T=c.call(Function.apply,Array.prototype.splice),S=c.call(Function.call,String.prototype.replace),C=c.call(Function.call,String.prototype.slice),m=c.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,b=/\\(\\)?/g,s=function(k){var _=C(k,0,1),U=C(k,-1);if(_==="%"&&U!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(U==="%"&&_!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var F=[];return S(k,E,function(z,B,N,V){F[F.length]=N?S(V,b,"$1"):B||z}),F},L=function(k,_){var U=k,F;if(o(M,U)&&(F=M[U],U="%"+F[0]+"%"),o(l,U)){var z=l[U];if(z===u&&(z=h(U)),typeof z>"u"&&!_)throw new x("intrinsic "+k+" exists, but is not available. Please file an issue!");return{alias:F,name:U,value:z}}throw new P("intrinsic "+k+" does not exist!")};H.exports=function(k,_){if(typeof k!="string"||k.length===0)throw new x("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _!="boolean")throw new x('"allowMissing" argument must be a boolean');if(m(/^%?[^%]*%?$/,k)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var U=s(k),F=U.length>0?U[0]:"",z=L("%"+F+"%",_),B=z.name,N=z.value,V=!1,W=z.alias;W&&(F=W[0],T(U,d([0,1],W)));for(var Q=1,re=!0;Q<U.length;Q+=1){var ne=U[Q],fe=C(ne,0,1),$=C(ne,-1);if((fe==='"'||fe==="'"||fe==="`"||$==='"'||$==="'"||$==="`")&&fe!==$)throw new P("property names with quotes must have matching quotes");if((ne==="constructor"||!re)&&(V=!0),F+="."+ne,B="%"+F+"%",o(l,B))N=l[B];else if(N!=null){if(!(ne in N)){if(!_)throw new x("base intrinsic for "+k+" exists, but the property is not available.");return}if(v&&Q+1>=U.length){var X=v(N,ne);re=!!X,re&&"get"in X&&!("originalValue"in X.get)?N=X.get:N=N[ne]}else re=o(N,ne),N=N[ne];re&&!V&&(l[B]=N)}}return N}},12408:function(H){H.exports=j;function j(e,g){var P=g[0],a=g[1],x=g[2],w=g[3],v=g[4],p=g[5],r=g[6],t=g[7],i=g[8],n=g[9],u=g[10],f=g[11],l=g[12],y=g[13],h=g[14],M=g[15];return e[0]=p*(u*M-f*h)-n*(r*M-t*h)+y*(r*f-t*u),e[1]=-(a*(u*M-f*h)-n*(x*M-w*h)+y*(x*f-w*u)),e[2]=a*(r*M-t*h)-p*(x*M-w*h)+y*(x*t-w*r),e[3]=-(a*(r*f-t*u)-p*(x*f-w*u)+n*(x*t-w*r)),e[4]=-(v*(u*M-f*h)-i*(r*M-t*h)+l*(r*f-t*u)),e[5]=P*(u*M-f*h)-i*(x*M-w*h)+l*(x*f-w*u),e[6]=-(P*(r*M-t*h)-v*(x*M-w*h)+l*(x*t-w*r)),e[7]=P*(r*f-t*u)-v*(x*f-w*u)+i*(x*t-w*r),e[8]=v*(n*M-f*y)-i*(p*M-t*y)+l*(p*f-t*n),e[9]=-(P*(n*M-f*y)-i*(a*M-w*y)+l*(a*f-w*n)),e[10]=P*(p*M-t*y)-v*(a*M-w*y)+l*(a*t-w*p),e[11]=-(P*(p*f-t*n)-v*(a*f-w*n)+i*(a*t-w*p)),e[12]=-(v*(n*h-u*y)-i*(p*h-r*y)+l*(p*u-r*n)),e[13]=P*(n*h-u*y)-i*(a*h-x*y)+l*(a*u-x*n),e[14]=-(P*(p*h-r*y)-v*(a*h-x*y)+l*(a*r-x*p)),e[15]=P*(p*u-r*n)-v*(a*u-x*n)+i*(a*r-x*p),e}},76860:function(H){H.exports=j;function j(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},64492:function(H){H.exports=j;function j(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},54212:function(H){H.exports=j;function j(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(H){H.exports=j;function j(e){var g=e[0],P=e[1],a=e[2],x=e[3],w=e[4],v=e[5],p=e[6],r=e[7],t=e[8],i=e[9],n=e[10],u=e[11],f=e[12],l=e[13],y=e[14],h=e[15],M=g*v-P*w,c=g*p-a*w,o=g*r-x*w,d=P*p-a*v,T=P*r-x*v,S=a*r-x*p,C=t*l-i*f,m=t*y-n*f,E=t*h-u*f,b=i*y-n*l,s=i*h-u*l,L=n*h-u*y;return M*L-c*s+o*b+d*E-T*m+S*C}},61784:function(H){H.exports=j;function j(e,g){var P=g[0],a=g[1],x=g[2],w=g[3],v=P+P,p=a+a,r=x+x,t=P*v,i=a*v,n=a*p,u=x*v,f=x*p,l=x*r,y=w*v,h=w*p,M=w*r;return e[0]=1-n-l,e[1]=i+M,e[2]=u-h,e[3]=0,e[4]=i-M,e[5]=1-t-l,e[6]=f+y,e[7]=0,e[8]=u+h,e[9]=f-y,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(H){H.exports=j;function j(e,g,P){var a,x,w,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,a=Math.sin(g),x=Math.cos(g),w=1-x,e[0]=v*v*w+x,e[1]=p*v*w+r*a,e[2]=r*v*w-p*a,e[3]=0,e[4]=v*p*w-r*a,e[5]=p*p*w+x,e[6]=r*p*w+v*a,e[7]=0,e[8]=v*r*w+p*a,e[9]=p*r*w-v*a,e[10]=r*r*w+x,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(H){H.exports=j;function j(e,g,P){var a=g[0],x=g[1],w=g[2],v=g[3],p=a+a,r=x+x,t=w+w,i=a*p,n=a*r,u=a*t,f=x*r,l=x*t,y=w*t,h=v*p,M=v*r,c=v*t;return e[0]=1-(f+y),e[1]=n+c,e[2]=u-M,e[3]=0,e[4]=n-c,e[5]=1-(i+y),e[6]=l+h,e[7]=0,e[8]=u+M,e[9]=l-h,e[10]=1-(i+f),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(H){H.exports=j;function j(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(H){H.exports=j;function j(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},21856:function(H){H.exports=j;function j(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(H){H.exports=j;function j(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(H){H.exports=j;function j(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(H){H.exports=j;function j(e,g,P,a,x,w,v){var p=1/(P-g),r=1/(x-a),t=1/(w-v);return e[0]=w*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w*2*r,e[6]=0,e[7]=0,e[8]=(P+g)*p,e[9]=(x+a)*r,e[10]=(v+w)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*w*2*t,e[15]=0,e}},36635:function(H){H.exports=j;function j(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(H,j,e){H.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(H){H.exports=j;function j(e,g){var P=g[0],a=g[1],x=g[2],w=g[3],v=g[4],p=g[5],r=g[6],t=g[7],i=g[8],n=g[9],u=g[10],f=g[11],l=g[12],y=g[13],h=g[14],M=g[15],c=P*p-a*v,o=P*r-x*v,d=P*t-w*v,T=a*r-x*p,S=a*t-w*p,C=x*t-w*r,m=i*y-n*l,E=i*h-u*l,b=i*M-f*l,s=n*h-u*y,L=n*M-f*y,A=u*M-f*h,k=c*A-o*L+d*s+T*b-S*E+C*m;return k?(k=1/k,e[0]=(p*A-r*L+t*s)*k,e[1]=(x*L-a*A-w*s)*k,e[2]=(y*C-h*S+M*T)*k,e[3]=(u*S-n*C-f*T)*k,e[4]=(r*b-v*A-t*E)*k,e[5]=(P*A-x*b+w*E)*k,e[6]=(h*d-l*C-M*o)*k,e[7]=(i*C-u*d+f*o)*k,e[8]=(v*L-p*b+t*m)*k,e[9]=(a*b-P*L-w*m)*k,e[10]=(l*S-y*d+M*c)*k,e[11]=(n*d-i*S-f*c)*k,e[12]=(p*E-v*s-r*m)*k,e[13]=(P*s-a*E+x*m)*k,e[14]=(y*o-l*T-h*c)*k,e[15]=(i*T-n*o+u*c)*k,e):null}},56508:function(H,j,e){var g=e(36635);H.exports=P;function P(a,x,w,v){var p,r,t,i,n,u,f,l,y,h,M=x[0],c=x[1],o=x[2],d=v[0],T=v[1],S=v[2],C=w[0],m=w[1],E=w[2];return Math.abs(M-C)<1e-6&&Math.abs(c-m)<1e-6&&Math.abs(o-E)<1e-6?g(a):(f=M-C,l=c-m,y=o-E,h=1/Math.sqrt(f*f+l*l+y*y),f*=h,l*=h,y*=h,p=T*y-S*l,r=S*f-d*y,t=d*l-T*f,h=Math.sqrt(p*p+r*r+t*t),h?(h=1/h,p*=h,r*=h,t*=h):(p=0,r=0,t=0),i=l*t-y*r,n=y*p-f*t,u=f*r-l*p,h=Math.sqrt(i*i+n*n+u*u),h?(h=1/h,i*=h,n*=h,u*=h):(i=0,n=0,u=0),a[0]=p,a[1]=i,a[2]=f,a[3]=0,a[4]=r,a[5]=n,a[6]=l,a[7]=0,a[8]=t,a[9]=u,a[10]=y,a[11]=0,a[12]=-(p*M+r*c+t*o),a[13]=-(i*M+n*c+u*o),a[14]=-(f*M+l*c+y*o),a[15]=1,a)}},80944:function(H){H.exports=j;function j(e,g,P){var a=g[0],x=g[1],w=g[2],v=g[3],p=g[4],r=g[5],t=g[6],i=g[7],n=g[8],u=g[9],f=g[10],l=g[11],y=g[12],h=g[13],M=g[14],c=g[15],o=P[0],d=P[1],T=P[2],S=P[3];return e[0]=o*a+d*p+T*n+S*y,e[1]=o*x+d*r+T*u+S*h,e[2]=o*w+d*t+T*f+S*M,e[3]=o*v+d*i+T*l+S*c,o=P[4],d=P[5],T=P[6],S=P[7],e[4]=o*a+d*p+T*n+S*y,e[5]=o*x+d*r+T*u+S*h,e[6]=o*w+d*t+T*f+S*M,e[7]=o*v+d*i+T*l+S*c,o=P[8],d=P[9],T=P[10],S=P[11],e[8]=o*a+d*p+T*n+S*y,e[9]=o*x+d*r+T*u+S*h,e[10]=o*w+d*t+T*f+S*M,e[11]=o*v+d*i+T*l+S*c,o=P[12],d=P[13],T=P[14],S=P[15],e[12]=o*a+d*p+T*n+S*y,e[13]=o*x+d*r+T*u+S*h,e[14]=o*w+d*t+T*f+S*M,e[15]=o*v+d*i+T*l+S*c,e}},97688:function(H){H.exports=j;function j(e,g,P,a,x,w,v){var p=1/(g-P),r=1/(a-x),t=1/(w-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(g+P)*p,e[13]=(x+a)*r,e[14]=(v+w)*t,e[15]=1,e}},51296:function(H){H.exports=j;function j(e,g,P,a,x){var w=1/Math.tan(g/2),v=1/(a-x);return e[0]=w/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(x+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*x*a*v,e[15]=0,e}},63688:function(H){H.exports=j;function j(e,g,P,a){var x=Math.tan(g.upDegrees*Math.PI/180),w=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),p=Math.tan(g.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(x+w);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(x-w)*t*.5,e[10]=a/(P-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*P/(P-a),e[15]=0,e}},30016:function(H){H.exports=j;function j(e,g,P,a){var x=a[0],w=a[1],v=a[2],p=Math.sqrt(x*x+w*w+v*v),r,t,i,n,u,f,l,y,h,M,c,o,d,T,S,C,m,E,b,s,L,A,k,_;return Math.abs(p)<1e-6?null:(p=1/p,x*=p,w*=p,v*=p,r=Math.sin(P),t=Math.cos(P),i=1-t,n=g[0],u=g[1],f=g[2],l=g[3],y=g[4],h=g[5],M=g[6],c=g[7],o=g[8],d=g[9],T=g[10],S=g[11],C=x*x*i+t,m=w*x*i+v*r,E=v*x*i-w*r,b=x*w*i-v*r,s=w*w*i+t,L=v*w*i+x*r,A=x*v*i+w*r,k=w*v*i-x*r,_=v*v*i+t,e[0]=n*C+y*m+o*E,e[1]=u*C+h*m+d*E,e[2]=f*C+M*m+T*E,e[3]=l*C+c*m+S*E,e[4]=n*b+y*s+o*L,e[5]=u*b+h*s+d*L,e[6]=f*b+M*s+T*L,e[7]=l*b+c*s+S*L,e[8]=n*A+y*k+o*_,e[9]=u*A+h*k+d*_,e[10]=f*A+M*k+T*_,e[11]=l*A+c*k+S*_,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},15456:function(H){H.exports=j;function j(e,g,P){var a=Math.sin(P),x=Math.cos(P),w=g[4],v=g[5],p=g[6],r=g[7],t=g[8],i=g[9],n=g[10],u=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=w*x+t*a,e[5]=v*x+i*a,e[6]=p*x+n*a,e[7]=r*x+u*a,e[8]=t*x-w*a,e[9]=i*x-v*a,e[10]=n*x-p*a,e[11]=u*x-r*a,e}},64840:function(H){H.exports=j;function j(e,g,P){var a=Math.sin(P),x=Math.cos(P),w=g[0],v=g[1],p=g[2],r=g[3],t=g[8],i=g[9],n=g[10],u=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=w*x-t*a,e[1]=v*x-i*a,e[2]=p*x-n*a,e[3]=r*x-u*a,e[8]=w*a+t*x,e[9]=v*a+i*x,e[10]=p*a+n*x,e[11]=r*a+u*x,e}},4192:function(H){H.exports=j;function j(e,g,P){var a=Math.sin(P),x=Math.cos(P),w=g[0],v=g[1],p=g[2],r=g[3],t=g[4],i=g[5],n=g[6],u=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=w*x+t*a,e[1]=v*x+i*a,e[2]=p*x+n*a,e[3]=r*x+u*a,e[4]=t*x-w*a,e[5]=i*x-v*a,e[6]=n*x-p*a,e[7]=u*x-r*a,e}},68152:function(H){H.exports=j;function j(e,g,P){var a=P[0],x=P[1],w=P[2];return e[0]=g[0]*a,e[1]=g[1]*a,e[2]=g[2]*a,e[3]=g[3]*a,e[4]=g[4]*x,e[5]=g[5]*x,e[6]=g[6]*x,e[7]=g[7]*x,e[8]=g[8]*w,e[9]=g[9]*w,e[10]=g[10]*w,e[11]=g[11]*w,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},89412:function(H){H.exports=j;function j(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(H){H.exports=j;function j(e,g,P){var a=P[0],x=P[1],w=P[2],v,p,r,t,i,n,u,f,l,y,h,M;return g===e?(e[12]=g[0]*a+g[4]*x+g[8]*w+g[12],e[13]=g[1]*a+g[5]*x+g[9]*w+g[13],e[14]=g[2]*a+g[6]*x+g[10]*w+g[14],e[15]=g[3]*a+g[7]*x+g[11]*w+g[15]):(v=g[0],p=g[1],r=g[2],t=g[3],i=g[4],n=g[5],u=g[6],f=g[7],l=g[8],y=g[9],h=g[10],M=g[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=i,e[5]=n,e[6]=u,e[7]=f,e[8]=l,e[9]=y,e[10]=h,e[11]=M,e[12]=v*a+i*x+l*w+g[12],e[13]=p*a+n*x+y*w+g[13],e[14]=r*a+u*x+h*w+g[14],e[15]=t*a+f*x+M*w+g[15]),e}},86520:function(H){H.exports=j;function j(e,g){if(e===g){var P=g[1],a=g[2],x=g[3],w=g[6],v=g[7],p=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=P,e[6]=g[9],e[7]=g[13],e[8]=a,e[9]=w,e[11]=g[14],e[12]=x,e[13]=v,e[14]=p}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},23352:function(H,j,e){var g=e(42771),P=e(55616),a=e(28624),x=e(55212),w=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),i=e(58908),n=e(65819),u=e(23464),f=e(63768),l=e(50896),y=e(71920),h=e(47520),M=e(308),c=M.nextPow2,o=new w,d=!1;if(document.body){var T=document.body.appendChild(document.createElement("div"));T.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(T).fontStretch&&(d=!0),document.body.removeChild(T)}var S=function(E){C(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=x(E),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(i(E)?E:{})};S.prototype.createShader=function(){var E=this.regl,b=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(L,A){return[A.atlas.width,A.atlas.height]},atlasDim:function(L,A){return[A.atlas.cols,A.atlas.rows]},atlas:function(L,A){return A.atlas.texture},charStep:function(L,A){return A.atlas.step},em:function(L,A){return A.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:E,draw:b,atlas:s}},S.prototype.update=function(E){var b=this;if(typeof E=="string")E={text:E};else if(!E)return;E=P(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(Be){return parseFloat(Be)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=t(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=h(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=S.baseFontSize+"px sans-serif");var s=!1,L=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(Be,Xe){if(typeof Be=="string")try{Be=g.parse(Be)}catch{Be=g.parse(S.baseFontSize+"px "+Be)}else Be=g.parse(g.stringify(Be));var ut=g.stringify({size:S.baseFontSize,family:Be.family,stretch:d?Be.stretch:void 0,variant:Be.variant,weight:Be.weight,style:Be.style}),dt=n(Be.size),at=Math.round(dt[0]*u(dt[1]));if(at!==b.fontSize[Xe]&&(L=!0,b.fontSize[Xe]=at),(!b.font[Xe]||ut!=b.font[Xe].baseString)&&(s=!0,b.font[Xe]=S.fonts[ut],!b.font[Xe])){var We=Be.family.join(", "),rt=[Be.style];Be.style!=Be.variant&&rt.push(Be.variant),Be.variant!=Be.weight&&rt.push(Be.weight),d&&Be.weight!=Be.stretch&&rt.push(Be.stretch),b.font[Xe]={baseString:ut,family:We,weight:Be.weight,stretch:Be.stretch,style:Be.style,variant:Be.variant,width:{},kerning:{},metrics:y(We,{origin:"top",fontSize:S.baseFontSize,fontStyle:rt.join(" ")})},S.fonts[ut]=b.font[Xe]}}),(s||L)&&this.font.forEach(function(Be,Xe){var ut=g.stringify({size:b.fontSize[Xe],family:Be.family,stretch:d?Be.stretch:void 0,variant:Be.variant,weight:Be.weight,style:Be.style});if(b.fontAtlas[Xe]=b.shader.atlas[ut],!b.fontAtlas[Xe]){var dt=Be.metrics;b.shader.atlas[ut]=b.fontAtlas[Xe]={fontString:ut,step:Math.ceil(b.fontSize[Xe]*dt.bottom*.5)*2,em:b.fontSize[Xe],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:b.regl.texture()}}E.text==null&&(E.text=b.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var A=Array(E.position.length*.5),k=0;k<A.length;k++)A[k]=E.text;E.text=A}var _;if(E.text!=null||s){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var U=1;U<E.text.length;U++)this.textOffsets[U]=this.textOffsets[U-1]+E.text[U-1].length,this.count+=E.text[U].length,this.counts.push(E.text[U].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(Be,Xe){S.atlasContext.font=Be.baseString;for(var ut=b.fontAtlas[Xe],dt=0;dt<b.text.length;dt++){var at=b.text.charAt(dt);if(ut.ids[at]==null&&(ut.ids[at]=ut.chars.length,ut.chars.push(at),_.push(at)),Be.width[at]==null&&(Be.width[at]=S.atlasContext.measureText(at).width/S.baseFontSize,b.kerning)){var We=[];for(var rt in Be.width)We.push(rt+at,at+rt);l(Be.kerning,f(Be.family,{pairs:We}))}}})}if(E.position)if(E.position.length>2){for(var F=!E.position[0].length,z=r.mallocFloat(this.count*2),B=0,N=0;B<this.counts.length;B++){var V=this.counts[B];if(F)for(var W=0;W<V;W++)z[N++]=E.position[B*2],z[N++]=E.position[B*2+1];else for(var Q=0;Q<V;Q++)z[N++]=E.position[B][0],z[N++]=E.position[B][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),r.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||s){var re=r.mallocUint8(this.count),ne=r.mallocFloat(this.count*2);this.textWidth=[];for(var fe=0,$=0;fe<this.counts.length;fe++){for(var X=this.counts[fe],oe=this.font[fe]||this.font[0],Y=this.fontAtlas[fe]||this.fontAtlas[0],ee=0;ee<X;ee++){var se=this.text.charAt($),q=this.text.charAt($-1);if(re[$]=Y.ids[se],ne[$*2]=oe.width[se],ee){var K=ne[$*2-2],le=ne[$*2],ie=ne[$*2-1],he=ie+K*.5+le*.5;if(this.kerning){var ye=oe.kerning[q+se];ye&&(he+=ye*.001)}ne[$*2+1]=he}else ne[$*2+1]=ne[$*2]*.5;$++}this.textWidth.push(ne.length?ne[$*2-2]*.5+ne[$*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:re,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ne,type:"float",usage:"stream"}),r.freeUint8(re),r.freeFloat(ne),_.length&&this.font.forEach(function(Be,Xe){var ut=b.fontAtlas[Xe],dt=ut.step,at=Math.floor(S.maxAtlasSize/dt),We=Math.min(at,ut.chars.length),rt=Math.ceil(ut.chars.length/We),st=c(We*dt),ht=c(rt*dt);ut.width=st,ut.height=ht,ut.rows=rt,ut.cols=We,ut.em&&ut.texture({data:p({canvas:S.atlasCanvas,font:ut.fontString,chars:ut.chars,shape:[st,ht],step:[dt,dt]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(Be,Xe){var ut=Array.isArray(b.align)?b.align.length>1?b.align[Xe]:b.align[0]:b.align;if(typeof ut=="number")return ut;switch(ut){case"right":case"end":return-Be;case"center":case"centre":case"middle":return-Be*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Be,Xe){var ut=(b.font[Xe]||b.font[0]).metrics,dt=0;return dt+=ut.bottom*.5,typeof Be=="number"?dt+=Be-ut.baseline:dt+=-ut[Be],dt*=-1,dt})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=v(E.color,"uint8");else{var Ce;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Ae=E.color.length;Ce=r.mallocUint8(Ae);for(var ke=(E.color.subarray||E.color.slice).bind(E.color),we=0;we<Ae;we+=4)Ce.set(v(ke(we,we+4),"uint8"),we)}else{var Ee=E.color.length;Ce=r.mallocUint8(Ee*4);for(var xe=0;xe<Ee;xe++)Ce.set(v(E.color[xe]||0,"uint8"),xe*4)}this.color=Ce}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Re=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Re){var Ve=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ve);for(var Ue=0;Ue<this.batch.length;Ue++)this.batch[Ue]={count:this.counts.length>1?this.counts[Ue]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ue]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ue*4,Ue*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ue]:this.opacity,baseline:this.baselineOffset[Ue]!=null?this.baselineOffset[Ue]:this.baselineOffset[0],align:this.align?this.alignOffset[Ue]!=null?this.alignOffset[Ue]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ue]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ue*2,Ue*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},S.prototype.destroy=function(){},S.prototype.kerning=!0,S.prototype.position={constant:new Float32Array(2)},S.prototype.translate=null,S.prototype.scale=null,S.prototype.font=null,S.prototype.text="",S.prototype.positionOffset=[0,0],S.prototype.opacity=1,S.prototype.color=new Uint8Array([0,0,0,255]),S.prototype.alignOffset=[0,0],S.maxAtlasSize=1024,S.atlasCanvas=document.createElement("canvas"),S.atlasContext=S.atlasCanvas.getContext("2d",{alpha:!1}),S.baseFontSize=64,S.fonts={};function C(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}H.exports=S},55212:function(H,j,e){var g=e(55616);H.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},a(r)?r={container:r}:x(r)?r={container:r}:w(r)?r={gl:r}:r=g(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}a(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{r.gl=r.canvas.getContext(i,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function a(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function x(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function w(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(H){H.exports=function(j){typeof j=="string"&&(j=[j]);for(var e=[].slice.call(arguments,1),g=[],P=0;P<j.length-1;P++)g.push(j[P],e[P]||"");return g.push(j[P]),g.join("")}},2304:function(H,j,e){var g=e(53664),P=g("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}H.exports=P},52264:function(H,j,e){var g=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=g,H.exports=P},89184:function(H,j,e){var g=e(24200);function P(){var a=!1;try{var x=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,x),window.removeEventListener("test",null,x)}catch{a=!1}return a}H.exports=g&&P()},39640:function(H,j,e){var g=e(53664),P=g("%Object.defineProperty%",!0),a=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},H.exports=a},69572:function(H){var j={foo:{}},e=Object;H.exports=function(){return{__proto__:j}.foo===j.foo&&!({__proto__:null}instanceof e)}},71080:function(H,j,e){var g=typeof Symbol<"u"&&Symbol,P=e(89320);H.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(H){H.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),P=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var a=42;e[g]=a;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var x=Object.getOwnPropertySymbols(e);if(x.length!==1||x[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var w=Object.getOwnPropertyDescriptor(e,g);if(w.value!==a||w.enumerable!==!0)return!1}return!0}},46672:function(H,j,e){var g=e(89320);H.exports=function(){return g()&&!!Symbol.toStringTag}},92064:function(H,j,e){var g=Function.prototype.call,P=Object.prototype.hasOwnProperty,a=e(8844);H.exports=a.call(g,P)},35984:function(H,j){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */j.read=function(e,g,P,a,x){var w,v,p=x*8-a-1,r=(1<<p)-1,t=r>>1,i=-7,n=P?x-1:0,u=P?-1:1,f=e[g+n];for(n+=u,w=f&(1<<-i)-1,f>>=-i,i+=p;i>0;w=w*256+e[g+n],n+=u,i-=8);for(v=w&(1<<-i)-1,w>>=-i,i+=a;i>0;v=v*256+e[g+n],n+=u,i-=8);if(w===0)w=1-t;else{if(w===r)return v?NaN:(f?-1:1)*(1/0);v=v+Math.pow(2,a),w=w-t}return(f?-1:1)*v*Math.pow(2,w-a)},j.write=function(e,g,P,a,x,w){var v,p,r,t=w*8-x-1,i=(1<<t)-1,n=i>>1,u=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:w-1,l=a?1:-1,y=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(p=isNaN(g)?1:0,v=i):(v=Math.floor(Math.log(g)/Math.LN2),g*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?g+=u/r:g+=u*Math.pow(2,1-n),g*r>=2&&(v++,r/=2),v+n>=i?(p=0,v=i):v+n>=1?(p=(g*r-1)*Math.pow(2,x),v=v+n):(p=g*Math.pow(2,n-1)*Math.pow(2,x),v=0));x>=8;e[P+f]=p&255,f+=l,p/=256,x-=8);for(v=v<<x|p,t+=x;t>0;e[P+f]=v&255,f+=l,v/=256,t-=8);e[P+f-l]|=y*128}},6768:function(H){typeof Object.create=="function"?H.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:H.exports=function(e,g){if(g){e.super_=g;var P=function(){};P.prototype=g.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(H,j,e){var g=e(46672)(),P=e(99676),a=P("Object.prototype.toString"),x=function(r){return g&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:a(r)==="[object Arguments]"},w=function(r){return x(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&a(r)!=="[object Array]"&&a(r.callee)==="[object Function]"},v=function(){return x(arguments)}();x.isLegacyArguments=w,H.exports=v?x:w},24200:function(H){H.exports=!0},90720:function(H){var j=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,g)}catch(M){M!==P&&(e=null)}else e=null;var a=/^\s*class\b/,x=function(c){try{var o=j.call(c);return a.test(o)}catch{return!1}},w=function(c){try{return x(c)?!1:(j.call(c),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",i="[object HTMLAllCollection]",n="[object HTML document.all class]",u="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(y=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var o=v.call(c);return(o===i||o===n||o===u||o===p)&&c("")==null}catch{}return!1})}H.exports=e?function(c){if(y(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,g)}catch(o){if(o!==P)return!1}return!x(c)&&w(c)}:function(c){if(y(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(f)return w(c);if(x(c))return!1;var o=v.call(c);return o!==r&&o!==t&&!/^\[object HTML/.test(o)?!1:w(c)}},84420:function(H,j,e){var g=Object.prototype.toString,P=Function.prototype.toString,a=/^\s*(?:function)?\*/,x=e(46672)(),w=Object.getPrototypeOf,v=function(){if(!x)return!1;try{return Function("return function*() {}")()}catch{}},p;H.exports=function(t){if(typeof t!="function")return!1;if(a.test(P.call(t)))return!0;if(!x){var i=g.call(t);return i==="[object GeneratorFunction]"}if(!w)return!1;if(typeof p>"u"){var n=v();p=n?w(n):!1}return w(t)===p}},96604:function(H){H.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(H){H.exports=function(e){return e!==e}},1560:function(H,j,e){var g=e(57916),P=e(81288),a=e(85992),x=e(57740),w=e(59736),v=g(x(),Number);P(v,{getPolyfill:x,implementation:a,shim:w}),H.exports=v},57740:function(H,j,e){var g=e(85992);H.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},59736:function(H,j,e){var g=e(81288),P=e(57740);H.exports=function(){var x=P();return g(Number,{isNaN:x},{isNaN:function(){return Number.isNaN!==x}}),x}},18400:function(H){H.exports=function(j){var e=typeof j;return j!==null&&(e==="object"||e==="function")}},58908:function(H){var j=Object.prototype.toString;H.exports=function(e){var g;return j.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},94576:function(H){H.exports=function(j){for(var e=j.length,g,P=0;P<e;P++)if(g=j.charCodeAt(P),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},53520:function(H){H.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(H,j,e){var g=e(46492),P=e(63436),a=e(99676),x=a("Object.prototype.toString"),w=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=a("Array.prototype.indexOf",!0)||function(y,h){for(var M=0;M<y.length;M+=1)if(y[M]===h)return M;return-1},i=a("String.prototype.slice"),n={},u=Object.getPrototypeOf;w&&v&&u&&g(r,function(l){var y=new p[l];if(Symbol.toStringTag in y){var h=u(y),M=v(h,Symbol.toStringTag);if(!M){var c=u(h);M=v(c,Symbol.toStringTag)}n[l]=M.get}});var f=function(y){var h=!1;return g(n,function(M,c){if(!h)try{h=M.call(y)===c}catch{}}),h};H.exports=function(y){if(!y||typeof y!="object")return!1;if(!w||!(Symbol.toStringTag in y)){var h=i(x(y),8,-1);return t(r,h)>-1}return v?f(y):!1}},76244:function(H){H.exports=Math.log2||function(j){return Math.log(j)*Math.LOG2E}},62644:function(H,j,e){H.exports=P;var g=e(93784);function P(a,x){x||(x=a,a=window);var w=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(T){var S=!1;return"altKey"in T&&(S=S||T.altKey!==r.alt,r.alt=!!T.altKey),"shiftKey"in T&&(S=S||T.shiftKey!==r.shift,r.shift=!!T.shiftKey),"ctrlKey"in T&&(S=S||T.ctrlKey!==r.control,r.control=!!T.ctrlKey),"metaKey"in T&&(S=S||T.metaKey!==r.meta,r.meta=!!T.metaKey),S}function n(T,S){var C=g.x(S),m=g.y(S);"buttons"in S&&(T=S.buttons|0),(T!==w||C!==v||m!==p||i(S))&&(w=T|0,v=C||0,p=m||0,x&&x(w,v,p,r))}function u(T){n(0,T)}function f(){(w||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,w=0,r.shift=r.alt=r.control=r.meta=!1,x&&x(0,0,0,r))}function l(T){i(T)&&x&&x(w,v,p,r)}function y(T){g.buttons(T)===0?n(0,T):n(w,T)}function h(T){n(w|g.buttons(T),T)}function M(T){n(w&~g.buttons(T),T)}function c(){t||(t=!0,a.addEventListener("mousemove",y),a.addEventListener("mousedown",h),a.addEventListener("mouseup",M),a.addEventListener("mouseleave",u),a.addEventListener("mouseenter",u),a.addEventListener("mouseout",u),a.addEventListener("mouseover",u),a.addEventListener("blur",f),a.addEventListener("keyup",l),a.addEventListener("keydown",l),a.addEventListener("keypress",l),a!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function o(){t&&(t=!1,a.removeEventListener("mousemove",y),a.removeEventListener("mousedown",h),a.removeEventListener("mouseup",M),a.removeEventListener("mouseleave",u),a.removeEventListener("mouseenter",u),a.removeEventListener("mouseout",u),a.removeEventListener("mouseover",u),a.removeEventListener("blur",f),a.removeEventListener("keyup",l),a.removeEventListener("keydown",l),a.removeEventListener("keypress",l),a!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var d={element:a};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(T){T?c():o()},enumerable:!0},buttons:{get:function(){return w},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(H){var j={left:0,top:0};H.exports=e;function e(P,a,x){a=a||P.currentTarget||P.srcElement,Array.isArray(x)||(x=[0,0]);var w=P.clientX||0,v=P.clientY||0,p=g(a);return x[0]=w-p.left,x[1]=v-p.top,x}function g(P){return P===window||P===document||P===document.body?j:P.getBoundingClientRect()}},93784:function(H,j){function e(x){if(typeof x=="object"){if("buttons"in x)return x.buttons;if("which"in x){var w=x.which;if(w===2)return 4;if(w===3)return 2;if(w>0)return 1<<w-1}else if("button"in x){var w=x.button;if(w===1)return 4;if(w===2)return 2;if(w>=0)return 1<<w}}return 0}j.buttons=e;function g(x){return x.target||x.srcElement||window}j.element=g;function P(x){if(typeof x=="object"){if("offsetX"in x)return x.offsetX;var w=g(x),v=w.getBoundingClientRect();return x.clientX-v.left}return 0}j.x=P;function a(x){if(typeof x=="object"){if("offsetY"in x)return x.offsetY;var w=g(x),v=w.getBoundingClientRect();return x.clientY-v.top}return 0}j.y=a},97264:function(H,j,e){var g=e(23464);H.exports=P;function P(a,x,w){typeof a=="function"&&(w=!!x,x=a,a=window);var v=g("ex",a),p=function(r){w&&r.preventDefault();var t=r.deltaX||0,i=r.deltaY||0,n=r.deltaZ||0,u=r.deltaMode,f=1;switch(u){case 1:f=v;break;case 2:f=window.innerHeight;break}if(t*=f,i*=f,n*=f,t||i||n)return x(t,i,n,r)};return a.addEventListener("wheel",p),p}},88324:function(H,j,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,x,w){x[a]=x[a]||w(),H.exports?H.exports=x[a]:(g=(function(){return x[a]}).call(j,e,j,H),g!==void 0&&(H.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,x,w,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(d,T,S,C){return Object.defineProperty(d,T,{value:S,writable:!0,configurable:C!==!1})}}catch{a=function(T,S,C){return T[S]=C,T}}w=function(){var d,T,S;function C(m,E){this.fn=m,this.self=E,this.next=void 0}return{add:function(E,b){S=new C(E,b),T?T.next=S:d=S,T=S,S=void 0},drain:function(){var E=d;for(d=T=x=void 0;E;)E.fn.call(E.self),E=E.next}}}();function r(o,d){w.add(o,d),x||(x=p(w.drain))}function t(o){var d,T=typeof o;return o!=null&&(T=="object"||T=="function")&&(d=o.then),typeof d=="function"?d:!1}function i(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,d,T){var S,C;try{d===!1?T.reject(o.msg):(d===!0?S=o.msg:S=d.call(void 0,o.msg),S===T.promise?T.reject(TypeError("Promise-chain cycle")):(C=t(S))?C.call(S,T.resolve,T.reject):T.resolve(S))}catch(m){T.reject(m)}}function u(o){var d,T=this;if(!T.triggered){T.triggered=!0,T.def&&(T=T.def);try{(d=t(o))?r(function(){var S=new y(T);try{d.call(o,function(){u.apply(S,arguments)},function(){f.apply(S,arguments)})}catch(C){f.call(S,C)}}):(T.msg=o,T.state=1,T.chain.length>0&&r(i,T))}catch(S){f.call(new y(T),S)}}}function f(o){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=o,d.state=2,d.chain.length>0&&r(i,d))}function l(o,d,T,S){for(var C=0;C<d.length;C++)(function(E){o.resolve(d[E]).then(function(s){T(E,s)},S)})(C)}function y(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function M(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(S,C){var m={success:typeof S=="function"?S:!0,failure:typeof C=="function"?C:!1};return m.promise=new this.constructor(function(b,s){if(typeof b!="function"||typeof s!="function")throw TypeError("Not a function");m.resolve=b,m.reject=s}),d.chain.push(m),d.state!==0&&r(i,d),m.promise},this.catch=function(S){return this.then(void 0,S)};try{o.call(void 0,function(S){u.call(d,S)},function(S){f.call(d,S)})}catch(T){f.call(d,T)}}var c=a({},"constructor",M,!1);return M.prototype=c,a(c,"__NPO__",0,!1),a(M,"resolve",function(d){var T=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new T(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");C(d)})}),a(M,"reject",function(d){return new this(function(S,C){if(typeof S!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),a(M,"all",function(d){var T=this;return v.call(d)!="[object Array]"?T.reject(TypeError("Not an array")):d.length===0?T.resolve([]):new T(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");var E=d.length,b=Array(E),s=0;l(T,d,function(A,k){b[A]=k,++s===E&&C(b)},m)})}),a(M,"race",function(d){var T=this;return v.call(d)!="[object Array]"?T.reject(TypeError("Not an array")):new T(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");l(T,d,function(b,s){C(s)},m)})}),M})},48816:function(H){var j=Math.PI,e=v(120);H.exports=g;function g(p){for(var r,t=[],i=0,n=0,u=0,f=0,l=null,y=null,h=0,M=0,c=0,o=p.length;c<o;c++){var d=p[c],T=d[0];switch(T){case"M":u=d[1],f=d[2];break;case"A":d=x(h,M,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var S=h,C=M;(r=="C"||r=="S")&&(S+=S-i,C+=C-n),d=["C",S,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,y=M*2-y):(l=h,y=M),d=a(h,M,l,y,d[1],d[2]);break;case"Q":l=d[1],y=d[2],d=a(h,M,d[1],d[2],d[3],d[4]);break;case"L":d=P(h,M,d[1],d[2]);break;case"H":d=P(h,M,d[1],M);break;case"V":d=P(h,M,h,d[1]);break;case"Z":d=P(h,M,u,f);break}r=T,h=d[d.length-2],M=d[d.length-1],d.length>4?(i=d[d.length-4],n=d[d.length-3]):(i=h,n=M),t.push(d)}return t}function P(p,r,t,i){return["C",p,r,t,i,t,i]}function a(p,r,t,i,n,u){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*i,n/3+.6666666666666666*t,u/3+.6666666666666666*i,n,u]}function x(p,r,t,i,n,u,f,l,y,h){if(h)b=h[0],s=h[1],m=h[2],E=h[3];else{var M=w(p,r,-n);p=M.x,r=M.y,M=w(l,y,-n),l=M.x,y=M.y;var c=(p-l)/2,o=(r-y)/2,d=c*c/(t*t)+o*o/(i*i);d>1&&(d=Math.sqrt(d),t=d*t,i=d*i);var T=t*t,S=i*i,C=(u==f?-1:1)*Math.sqrt(Math.abs((T*S-T*o*o-S*c*c)/(T*o*o+S*c*c)));C==1/0&&(C=1);var m=C*t*o/i+(p+l)/2,E=C*-i*c/t+(r+y)/2,b=Math.asin(((r-E)/i).toFixed(9)),s=Math.asin(((y-E)/i).toFixed(9));b=p<m?j-b:b,s=l<m?j-s:s,b<0&&(b=j*2+b),s<0&&(s=j*2+s),f&&b>s&&(b=b-j*2),!f&&s>b&&(s=s-j*2)}if(Math.abs(s-b)>e){var L=s,A=l,k=y;s=b+e*(f&&s>b?1:-1),l=m+t*Math.cos(s),y=E+i*Math.sin(s);var _=x(l,y,t,i,n,0,f,A,k,[s,L,m,E])}var U=Math.tan((s-b)/4),F=4/3*t*U,z=4/3*i*U,B=[2*p-(p+F*Math.sin(b)),2*r-(r-z*Math.cos(b)),l+F*Math.sin(s),y-z*Math.cos(s),l,y];if(h)return B;_&&(B=B.concat(_));for(var N=0;N<B.length;){var V=w(B[N],B[N+1],n);B[N++]=V.x,B[N++]=V.y}return B}function w(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(j/180)}},50896:function(H){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var j=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function P(x){if(x==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(x)}function a(){try{if(!Object.assign)return!1;var x=new String("abc");if(x[5]="de",Object.getOwnPropertyNames(x)[0]==="5")return!1;for(var w={},v=0;v<10;v++)w["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(w).map(function(t){return w[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}H.exports=a()?Object.assign:function(x,w){for(var v,p=P(x),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var i in v)e.call(v,i)&&(p[i]=v[i]);if(j){r=j(v);for(var n=0;n<r.length;n++)g.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(H){var j=function(e){return e!==e};H.exports=function(g,P){return g===0&&P===0?1/g===1/P:!!(g===P||j(g)&&j(P))}},39896:function(H,j,e){var g=e(81288),P=e(57916),a=e(76835),x=e(66148),w=e(16408),v=P(x(),Object);g(v,{getPolyfill:x,implementation:a,shim:w}),H.exports=v},66148:function(H,j,e){var g=e(76835);H.exports=function(){return typeof Object.is=="function"?Object.is:g}},16408:function(H,j,e){var g=e(66148),P=e(81288);H.exports=function(){var x=g();return P(Object,{is:x},{is:function(){return Object.is!==x}}),x}},32764:function(H,j,e){var g;if(!Object.keys){var P=Object.prototype.hasOwnProperty,a=Object.prototype.toString,x=e(97344),w=Object.prototype.propertyIsEnumerable,v=!w.call({toString:null},"toString"),p=w.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(f){var l=f.constructor;return l&&l.prototype===f},i={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!i["$"+f]&&P.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{t(window[f])}catch{return!0}}catch{return!0}return!1}(),u=function(f){if(typeof window>"u"||!n)return t(f);try{return t(f)}catch{return!1}};g=function(l){var y=l!==null&&typeof l=="object",h=a.call(l)==="[object Function]",M=x(l),c=y&&a.call(l)==="[object String]",o=[];if(!y&&!h&&!M)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(c&&l.length>0&&!P.call(l,0))for(var T=0;T<l.length;++T)o.push(String(T));if(M&&l.length>0)for(var S=0;S<l.length;++S)o.push(String(S));else for(var C in l)!(d&&C==="prototype")&&P.call(l,C)&&o.push(String(C));if(v)for(var m=u(l),E=0;E<r.length;++E)!(m&&r[E]==="constructor")&&P.call(l,r[E])&&o.push(r[E]);return o}}H.exports=g},41820:function(H,j,e){var g=Array.prototype.slice,P=e(97344),a=Object.keys,x=a?function(p){return a(p)}:e(32764),w=Object.keys;x.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?w(g.call(t)):w(t)})}else Object.keys=x;return Object.keys||x},H.exports=x},97344:function(H){var j=Object.prototype.toString;H.exports=function(g){var P=j.call(g),a=P==="[object Arguments]";return a||(a=P!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&j.call(g.callee)==="[object Function]"),a}},32868:function(H){function j(P,a){if(typeof P!="string")return[P];var x=[P];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var w=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",p=!!a.flat;w.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),u=[];function f(l,y,h){var M=x.push(l.slice(i[0].length,-i[1].length))-1;return u.push(M),v+M+v}x.forEach(function(l,y){for(var h,M=0;l!=h;)if(h=l,l=l.replace(n,f),M++>1e4)throw Error("References have circular dependency. Please, check them.");x[y]=l}),u=u.reverse(),x=x.map(function(l){return u.forEach(function(y){l=l.replace(new RegExp("(\\"+v+y+"\\"+v+")","g"),i[0]+"$1"+i[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(i,n,u){for(var f=[],l,y=0;l=r.exec(i);){if(y++>1e4)throw Error("Circular references in parenthesis");f.push(i.slice(0,l.index)),f.push(t(n[l[1]],n)),i=i.slice(l.index+l[0].length)}return f.push(i),f}return p?x:t(x[0],x)}function e(P,a){if(a&&a.flat){var x=a&&a.escape||"___",w=P[0],v;if(!w)return"";for(var p=new RegExp("\\"+x+"([0-9]+)\\"+x),r=0;w!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=w,w=w.replace(p,t)}return w}return P.reduce(function i(n,u){return Array.isArray(u)&&(u=u.reduce(i,"")),n+u},"");function t(i,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function g(P,a){return Array.isArray(P)?e(P,a):j(P,a)}g.parse=j,g.stringify=e,H.exports=g},51160:function(H,j,e){var g=e(55616);H.exports=P;function P(a){var x;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?x={width:a[0],height:a[0],x:0,y:0}:a.length===2?x={width:a[0],height:a[1],x:0,y:0}:x={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=g(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),x={x:a.left||0,y:a.top||0},a.width==null?a.right?x.width=a.right-x.x:x.width=0:x.width=a.width,a.height==null?a.bottom?x.height=a.bottom-x.y:x.height=0:x.height=a.height),x}},21984:function(H){H.exports=g;var j={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(x){var w=[];return x.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=a(r),t=="m"&&r.length>2&&(w.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==j[t])return r.unshift(p),w.push(r);if(r.length<j[t])throw new Error("malformed path data");w.push([p].concat(r.splice(0,j[t])))}}),w}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(x){var w=x.match(P);return w?w.map(Number):[]}},65819:function(H){H.exports=function(e,g){g||(g=[0,""]),e=String(e);var P=parseFloat(e,10);return g[0]=P,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},41984:function(H,j,e){var g=e(4168);(function(){var P,a,x,w,v,p;typeof performance<"u"&&performance!==null&&performance.now?H.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(H.exports=function(){return(P()-v)/1e6},a=g.hrtime,P=function(){var r;return r=a(),r[0]*1e9+r[1]},w=P(),p=g.uptime()*1e9,v=w-p):Date.now?(H.exports=function(){return Date.now()-x},x=Date.now()):(H.exports=function(){return new Date().getTime()-x},x=new Date().getTime())}).call(this)},55616:function(H){H.exports=function(P,a,x){var w={},v,p;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var r={};for(p=0;p<a.length;p++)r[a[p]]=!0;a=r}for(v in a)a[v]=e(a[v]);var t={};for(v in a){var i=a[v];if(Array.isArray(i))for(p=0;p<i.length;p++){var n=i[p];if(x&&(t[n]=!0),n in P){if(w[v]=P[n],x)for(var u=p;u<i.length;u++)t[i[u]]=!0;break}}else v in P&&(a[v]&&(w[v]=P[v]),x&&(t[v]=!0))}if(x)for(v in P)t[v]||(w[v]=P[v]);return w};var j={};function e(g){return j[g]?j[g]:(typeof g=="string"&&(g=j[g]=g.split(/\s*,\s*|\s+/)),g)}},61456:function(H){H.exports=function(e,g,P,a){var x=e[0],w=e[1],v=!1;P===void 0&&(P=0),a===void 0&&(a=g.length);for(var p=a-P,r=0,t=p-1;r<p;t=r++){var i=g[r+P][0],n=g[r+P][1],u=g[t+P][0],f=g[t+P][1],l=n>w!=f>w&&x<(u-i)*(w-n)/(f-n)+i;l&&(v=!v)}return v}},14756:function(H,j,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(7688),P=e(28648),a=e(72200),x=e(11403),w=e(82368),v=e(17792),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=g():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var u=a(!0,r,p);return n.regions.forEach(u.addRegion),{segments:u.calculate(n.inverted),inverted:n.inverted}},combine:function(n,u){var f=a(!1,r,p);return{combined:f.calculate(n.segments,n.inverted,u.segments,u.inverted),inverted1:n.inverted,inverted2:u.inverted}},selectUnion:function(n){return{segments:w.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:w.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:w.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:w.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:w.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:x(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,u){return i(n,u,t.selectUnion)},intersect:function(n,u){return i(n,u,t.selectIntersect)},difference:function(n,u){return i(n,u,t.selectDifference)},differenceRev:function(n,u){return i(n,u,t.selectDifferenceRev)},xor:function(n,u){return i(n,u,t.selectXor)}};function i(n,u,f){var l=t.segments(n),y=t.segments(u),h=t.combine(l,y),M=f(h);return t.polygon(M)}typeof window=="object"&&(window.PolyBool=t),H.exports=t},7688:function(H){function j(){var e,g=0,P=!1;function a(x,w){return e.list.push({type:x,data:w?JSON.parse(JSON.stringify(w)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(x,w){return a("check",{seg1:x,seg2:w})},segmentChop:function(x,w){return a("div_seg",{seg:x,pt:w}),a("chop",{seg:x,pt:w})},statusRemove:function(x){return a("pop_seg",{seg:x})},segmentUpdate:function(x){return a("seg_update",{seg:x})},segmentNew:function(x,w){return a("new_seg",{seg:x,primary:w})},segmentRemove:function(x){return a("rem_seg",{seg:x})},tempStatus:function(x,w,v){return a("temp_status",{seg:x,above:w,below:v})},rewind:function(x){return a("rewind",{seg:x})},status:function(x,w,v){return a("status",{seg:x,above:w,below:v})},vert:function(x){return x===P?e:(P=x,a("vert",{x}))},log:function(x){return typeof x!="string"&&(x=JSON.stringify(x,!1,"  ")),a("log",{txt:x})},reset:function(){return a("reset")},selected:function(x){return a("selected",{segs:x})},chainStart:function(x){return a("chain_start",{seg:x})},chainRemoveHead:function(x,w){return a("chain_rem_head",{index:x,pt:w})},chainRemoveTail:function(x,w){return a("chain_rem_tail",{index:x,pt:w})},chainNew:function(x,w){return a("chain_new",{pt1:x,pt2:w})},chainMatch:function(x){return a("chain_match",{index:x})},chainClose:function(x){return a("chain_close",{index:x})},chainAddHead:function(x,w){return a("chain_add_head",{index:x,pt:w})},chainAddTail:function(x,w){return a("chain_add_tail",{index:x,pt:w})},chainConnect:function(x,w){return a("chain_con",{index1:x,index2:w})},chainReverse:function(x){return a("chain_rev",{index:x})},chainJoin:function(x,w){return a("chain_join",{index1:x,index2:w})},done:function(){return a("done")}},e}H.exports=j},28648:function(H){function j(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,a,x){var w=a[0],v=a[1],p=x[0],r=x[1],t=P[0],i=P[1];return(p-w)*(i-v)-(r-v)*(t-w)>=-e},pointBetween:function(P,a,x){var w=P[1]-a[1],v=x[0]-a[0],p=P[0]-a[0],r=x[1]-a[1],t=p*v+w*r;if(t<e)return!1;var i=v*v+r*r;return!(t-i>-e)},pointsSameX:function(P,a){return Math.abs(P[0]-a[0])<e},pointsSameY:function(P,a){return Math.abs(P[1]-a[1])<e},pointsSame:function(P,a){return g.pointsSameX(P,a)&&g.pointsSameY(P,a)},pointsCompare:function(P,a){return g.pointsSameX(P,a)?g.pointsSameY(P,a)?0:P[1]<a[1]?-1:1:P[0]<a[0]?-1:1},pointsCollinear:function(P,a,x){var w=P[0]-a[0],v=P[1]-a[1],p=a[0]-x[0],r=a[1]-x[1];return Math.abs(w*r-p*v)<e},linesIntersect:function(P,a,x,w){var v=a[0]-P[0],p=a[1]-P[1],r=w[0]-x[0],t=w[1]-x[1],i=v*t-p*r;if(Math.abs(i)<e)return!1;var n=P[0]-x[0],u=P[1]-x[1],f=(r*u-t*n)/i,l=(v*u-p*n)/i,y={alongA:0,alongB:0,pt:[P[0]+f*v,P[1]+f*p]};return f<=-e?y.alongA=-2:f<e?y.alongA=-1:f-1<=-e?y.alongA=0:f-1<e?y.alongA=1:y.alongA=2,l<=-e?y.alongB=-2:l<e?y.alongB=-1:l-1<=-e?y.alongB=0:l-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(P,a){for(var x=P[0],w=P[1],v=a[a.length-1][0],p=a[a.length-1][1],r=!1,t=0;t<a.length;t++){var i=a[t][0],n=a[t][1];n-w>e!=p-w>e&&(v-i)*(w-n)/(p-n)+i-x>e&&(r=!r),v=i,p=n}return r}};return g}H.exports=j},17792:function(H){var j={toPolygon:function(e,g){function P(w){if(w.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var i=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[i]})}for(var p=v(w[0]),r=1;r<w.length;r++)p=e.selectDifference(e.combine(p,v(w[r])));return p}if(g.type==="Polygon")return e.polygon(P(g.coordinates));if(g.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),x=0;x<g.coordinates.length;x++)a=e.selectUnion(e.combine(a,P(g.coordinates[x])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,P){P=e.polygon(e.segments(P));function a(f,l){return g.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],l)}function x(f){return{region:f,children:[]}}var w=x(null);function v(f,l){for(var y=0;y<f.children.length;y++){var h=f.children[y];if(a(l,h.region)){v(h,l);return}}for(var M=x(l),y=0;y<f.children.length;y++){var h=f.children[y];a(h.region,l)&&(M.children.push(h),f.children.splice(y,1),y--)}f.children.push(M)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(w,r)}function t(f,l){for(var y=0,h=f[f.length-1][0],M=f[f.length-1][1],c=[],o=0;o<f.length;o++){var d=f[o][0],T=f[o][1];c.push([d,T]),y+=T*h-d*M,h=d,M=T}var S=y<0;return S!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var i=[];function n(f){var l=[t(f.region,!1)];i.push(l);for(var y=0;y<f.children.length;y++)l.push(u(f.children[y]))}function u(f){for(var l=0;l<f.children.length;l++)n(f.children[l]);return t(f.region,!0)}for(var p=0;p<w.children.length;p++)n(w.children[p]);return i.length<=0?{type:"Polygon",coordinates:[]}:i.length==1?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}};H.exports=j},72200:function(H,j,e){var g=e(48088);function P(a,x,w){function v(M,c){return{id:w?w.segmentId():-1,start:M,end:c,myFill:{above:null,below:null},otherFill:null}}function p(M,c,o){return{id:w?w.segmentId():-1,start:M,end:c,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=g.create();function t(M,c,o,d,T,S){var C=x.pointsCompare(c,T);return C!==0?C:x.pointsSame(o,S)?0:M!==d?M?1:-1:x.pointAboveOrOnLine(o,d?T:S,d?S:T)?1:-1}function i(M,c){r.insertBefore(M,function(o){var d=t(M.isStart,M.pt,c,o.isStart,o.pt,o.other.pt);return d<0})}function n(M,c){var o=g.node({isStart:!0,pt:M.start,seg:M,primary:c,other:null,status:null});return i(o,M.end),o}function u(M,c,o){var d=g.node({isStart:!1,pt:c.end,seg:c,primary:o,other:M,status:null});M.other=d,i(d,M.pt)}function f(M,c){var o=n(M,c);return u(o,M,c),o}function l(M,c){w&&w.segmentChop(M.seg,c),M.other.remove(),M.seg.end=c,M.other.pt=c,i(M.other,M.pt)}function y(M,c){var o=p(c,M.seg.end,M.seg);return l(M,c),f(o,M.primary)}function h(M,c){var o=g.create();function d(z,B){var N=z.seg.start,V=z.seg.end,W=B.seg.start,Q=B.seg.end;return x.pointsCollinear(N,W,Q)?x.pointsCollinear(V,W,Q)||x.pointAboveOrOnLine(V,W,Q)?1:-1:x.pointAboveOrOnLine(N,W,Q)?1:-1}function T(z){return o.findTransition(function(B){var N=d(z,B.ev);return N>0})}function S(z,B){var N=z.seg,V=B.seg,W=N.start,Q=N.end,re=V.start,ne=V.end;w&&w.checkIntersection(N,V);var fe=x.linesIntersect(W,Q,re,ne);if(fe===!1){if(!x.pointsCollinear(W,Q,re)||x.pointsSame(W,ne)||x.pointsSame(Q,re))return!1;var $=x.pointsSame(W,re),X=x.pointsSame(Q,ne);if($&&X)return B;var oe=!$&&x.pointBetween(W,re,ne),Y=!X&&x.pointBetween(Q,re,ne);if($)return Y?y(B,Q):y(z,ne),B;oe&&(X||(Y?y(B,Q):y(z,ne)),y(B,W))}else fe.alongA===0&&(fe.alongB===-1?y(z,re):fe.alongB===0?y(z,fe.pt):fe.alongB===1&&y(z,ne)),fe.alongB===0&&(fe.alongA===-1?y(B,W):fe.alongA===0?y(B,fe.pt):fe.alongA===1&&y(B,Q));return!1}for(var C=[];!r.isEmpty();){var m=r.getHead();if(w&&w.vert(m.pt[0]),m.isStart){let z=function(){if(b){var B=S(m,b);if(B)return B}return s?S(m,s):!1};var F=z;w&&w.segmentNew(m.seg,m.primary);var E=T(m),b=E.before?E.before.ev:null,s=E.after?E.after.ev:null;w&&w.tempStatus(m.seg,b?b.seg:!1,s?s.seg:!1);var L=z();if(L){if(a){var A;m.seg.myFill.below===null?A=!0:A=m.seg.myFill.above!==m.seg.myFill.below,A&&(L.seg.myFill.above=!L.seg.myFill.above)}else L.seg.otherFill=m.seg.myFill;w&&w.segmentUpdate(L.seg),m.other.remove(),m.remove()}if(r.getHead()!==m){w&&w.rewind(m.seg);continue}if(a){var A;m.seg.myFill.below===null?A=!0:A=m.seg.myFill.above!==m.seg.myFill.below,s?m.seg.myFill.below=s.seg.myFill.above:m.seg.myFill.below=M,A?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var k;s?m.primary===s.primary?k=s.seg.otherFill.above:k=s.seg.myFill.above:k=m.primary?c:M,m.seg.otherFill={above:k,below:k}}w&&w.status(m.seg,b?b.seg:!1,s?s.seg:!1),m.other.status=E.insert(g.node({ev:m}))}else{var _=m.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(_.prev)&&o.exists(_.next)&&S(_.prev.ev,_.next.ev),w&&w.statusRemove(_.ev.seg),_.remove(),!m.primary){var U=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=U}C.push(m.seg)}r.getHead().remove()}return w&&w.done(),C}return a?{addRegion:function(M){for(var c,o=M[M.length-1],d=0;d<M.length;d++){c=o,o=M[d];var T=x.pointsCompare(c,o);T!==0&&f(v(T<0?c:o,T<0?o:c),!0)}},calculate:function(M){return h(M,!1)}}:{calculate:function(M,c,o,d){return M.forEach(function(T){f(p(T.start,T.end,T),!0)}),o.forEach(function(T){f(p(T.start,T.end,T),!1)}),h(c,d)}}}H.exports=P},48088:function(H){var j={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,P){for(var a=e.root,x=e.root.next;x!==null;){if(P(x)){g.prev=x.prev,g.next=x,x.prev.next=g,x.prev=g;return}a=x,x=x.next}a.next=g,g.prev=a,g.next=null},findTransition:function(g){for(var P=e.root,a=e.root.next;a!==null&&!g(a);)P=a,a=a.next;return{before:P===e.root?null:P,after:a,insert:function(x){return x.prev=P,x.next=a,P.next=x,a!==null&&(a.prev=x),x}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};H.exports=j},11403:function(H){function j(e,g,P){var a=[],x=[];return e.forEach(function(w){var v=w.start,p=w.end;if(g.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(w);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=r;function n(L,A,k){return i.index=L,i.matches_head=A,i.matches_pt1=k,i===r?(i=t,!1):(i=null,!0)}for(var u=0;u<a.length;u++){var f=a[u],l=f[0];f[1];var y=f[f.length-1];if(f[f.length-2],g.pointsSame(l,v)){if(n(u,!0,!0))break}else if(g.pointsSame(l,p)){if(n(u,!0,!1))break}else if(g.pointsSame(y,v)){if(n(u,!1,!0))break}else if(g.pointsSame(y,p)&&n(u,!1,!1))break}if(i===r){a.push([v,p]),P&&P.chainNew(v,p);return}if(i===t){P&&P.chainMatch(r.index);var h=r.index,M=r.matches_pt1?p:v,c=r.matches_head,f=a[h],o=c?f[0]:f[f.length-1],d=c?f[1]:f[f.length-2],T=c?f[f.length-1]:f[0],S=c?f[f.length-2]:f[1];if(g.pointsCollinear(d,o,M)&&(c?(P&&P.chainRemoveHead(r.index,M),f.shift()):(P&&P.chainRemoveTail(r.index,M),f.pop()),o=d),g.pointsSame(T,M)){a.splice(h,1),g.pointsCollinear(S,T,o)&&(c?(P&&P.chainRemoveTail(r.index,o),f.pop()):(P&&P.chainRemoveHead(r.index,o),f.shift())),P&&P.chainClose(r.index),x.push(f);return}c?(P&&P.chainAddHead(r.index,M),f.unshift(M)):(P&&P.chainAddTail(r.index,M),f.push(M));return}function C(L){P&&P.chainReverse(L),a[L].reverse()}function m(L,A){var k=a[L],_=a[A],U=k[k.length-1],F=k[k.length-2],z=_[0],B=_[1];g.pointsCollinear(F,U,z)&&(P&&P.chainRemoveTail(L,U),k.pop(),U=F),g.pointsCollinear(U,z,B)&&(P&&P.chainRemoveHead(A,z),_.shift()),P&&P.chainJoin(L,A),a[L]=k.concat(_),a.splice(A,1)}var E=r.index,b=t.index;P&&P.chainConnect(E,b);var s=a[E].length<a[b].length;r.matches_head?t.matches_head?s?(C(E),m(E,b)):(C(b),m(b,E)):m(b,E):t.matches_head?m(E,b):s?(C(E),m(b,E)):(C(b),m(E,b))}),x}H.exports=j},82368:function(H){function j(g,P,a){var x=[];return g.forEach(function(w){var v=(w.myFill.above?8:0)+(w.myFill.below?4:0)+(w.otherFill&&w.otherFill.above?2:0)+(w.otherFill&&w.otherFill.below?1:0);P[v]!==0&&x.push({id:a?a.segmentId():-1,start:w.start,end:w.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),a&&a.selected(x),x}var e={union:function(g,P){return j(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(g,P){return j(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(g,P){return j(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(g,P){return j(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(g,P){return j(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};H.exports=e},9696:function(H,j,e){var g=e(29936).Transform,P=e(55619);function a(){g.call(this,{readableObjectMode:!0})}a.prototype=Object.create(g.prototype),a.prototype.constructor=a,P(a.prototype),j.gS=function(w,v,p){for(var r=v,t=0;t<p.length;)if(w[r++]!==p[t++])return!1;return!0},j.wR=function(w,v){var p=[],r=0;if(v&&v==="hex")for(;r<w.length;)p.push(parseInt(w.slice(r,r+2),16)),r+=2;else for(;r<w.length;r++)p.push(w.charCodeAt(r)&255);return p},j.Bz=function(w,v){return w[v]|w[v+1]<<8},j.eW=function(w,v){return w[v+1]|w[v]<<8},j.st=function(w,v){return w[v]|w[v+1]<<8|w[v+2]<<16|w[v+3]*16777216},j.eI=function(w,v){return w[v+3]|w[v+2]<<8|w[v+1]<<16|w[v]*16777216};function x(w,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=w,v&&(this.code=v),p&&(this.statusCode=p)}x.prototype=Object.create(Error.prototype),x.prototype.constructor=x},11688:function(H){function j(P,a){var x=new Error(P);return x.code=a,x}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function g(P,a,x){this.input=P.subarray(a,x),this.start=a;var w=String.fromCharCode.apply(null,this.input.subarray(0,4));if(w!=="II*\0"&&w!=="MM\0*")throw j("invalid TIFF signature","EBADDATA");this.big_endian=w[0]==="M"}g.prototype.each=function(P){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var x=this.ifds_to_read.shift();x.offset&&this.scan_ifd(x.id,x.offset,P)}},g.prototype.read_uint16=function(P){var a=this.input;if(P+2>a.length)throw j("unexpected EOF","EBADDATA");return this.big_endian?a[P]*256+a[P+1]:a[P]+a[P+1]*256},g.prototype.read_uint32=function(P){var a=this.input;if(P+4>a.length)throw j("unexpected EOF","EBADDATA");return this.big_endian?a[P]*16777216+a[P+1]*65536+a[P+2]*256+a[P+3]:a[P]+a[P+1]*256+a[P+2]*65536+a[P+3]*16777216},g.prototype.is_subifd_link=function(P,a){return P===0&&a===34665||P===0&&a===34853||P===34665&&a===40965},g.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(P,a){var x;switch(P){case 1:case 2:return x=this.input[a],x;case 6:return x=this.input[a],x|(x&128)*33554430;case 3:return x=this.read_uint16(a),x;case 8:return x=this.read_uint16(a),x|(x&32768)*131070;case 4:return x=this.read_uint32(a),x;case 9:return x=this.read_uint32(a),x|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(P,a,x){var w=this.read_uint16(a);a+=2;for(var v=0;v<w;v++){var p=this.read_uint16(a),r=this.read_uint16(a+2),t=this.read_uint32(a+4),i=this.exif_format_length(r),n=t*i,u=n<=4?a+8:this.read_uint32(a+8),f=!1;if(u+n>this.input.length)throw j("unexpected EOF","EBADDATA");for(var l=[],y=u,h=0;h<t;h++,y+=i){var M=this.exif_format_read(r,y);if(M===null){l=null;break}l.push(M)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),f=!0);var c={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:a+this.start,data_length:n,data_offset:u+this.start,value:l,is_subifd_link:f};if(x(c)===!1){this.aborted=!0;return}a+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},H.exports.ExifParser=g,H.exports.get_orientation=function(P){var a=0;try{return new g(P,0,P.length).each(function(x){if(x.ifd===0&&x.tag===274&&Array.isArray(x.value))return a=x.value[0],!1}),a}catch{return-1}}},44600:function(H,j,e){var g=e(9696).eW,P=e(9696).eI;function a(n,u){if(n.length<4+u)return null;var f=P(n,u);return n.length<f+u||f<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(u+4,u+8)),data:n.slice(u+8,u+f),end:u+f}}H.exports.unbox=a;function x(n,u){for(var f=0;;){var l=a(n,f);if(!l)break;switch(l.boxtype){case"ispe":u.sizes.push({width:P(l.data,4),height:P(l.data,8)});break;case"irot":u.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":u.transforms.push({type:"imir",value:l.data[0]&1});break}f=l.end}}function w(n,u,f){for(var l=0,y=0;y<f;y++)l=l*256+(n[u+y]||0);return l}function v(n,u){for(var f=n[4]>>4&15,l=n[4]&15,y=n[5]>>4&15,h=g(n,6),M=8,c=0;c<h;c++){var o=g(n,M);M+=2;var d=g(n,M);M+=2;var T=w(n,M,y);M+=y;var S=g(n,M);if(M+=2,d===0&&S===1){var C=w(n,M,f),m=w(n,M+f,l);u.item_loc[o]={length:m,offset:C+T}}M+=S*(f+l)}}function p(n,u){for(var f=g(n,4),l=6,y=0;y<f;y++){var h=a(n,l);if(!h)break;if(h.boxtype==="infe"){for(var M=g(h.data,4),c="",o=8;o<h.data.length&&h.data[o];o++)c+=String.fromCharCode(h.data[o]);u.item_inf[c]=M}l=h.end}}function r(n,u){for(var f=0;;){var l=a(n,f);if(!l)break;l.boxtype==="ipco"&&x(l.data,u),f=l.end}}function t(n,u){for(var f=4;;){var l=a(n,f);if(!l)break;l.boxtype==="iprp"&&r(l.data,u),l.boxtype==="iloc"&&v(l.data,u),l.boxtype==="iinf"&&p(l.data,u),f=l.end}}function i(n){var u=n.reduce(function(y,h){return y.width>h.width||y.width===h.width&&y.height>h.height?y:h}),f=n.reduce(function(y,h){return y.height>h.height||y.height===h.height&&y.width>h.width?y:h}),l;return u.width>f.height||u.width===f.height&&u.height>f.width?l=u:l=f,l}H.exports.readSizeFromMeta=function(n){var u={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,u),!!u.sizes.length){var f=i(u.sizes),l=1;u.transforms.forEach(function(h){var M={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=M[l],l=M[l])),h.type==="irot")for(var o=0;o<h.value;o++)l=M[l]});var y=null;return u.item_inf.Exif&&(y=u.item_loc[u.item_inf.Exif]),{width:f.width,height:f.height,orientation:u.transforms.length?l:null,variants:u.sizes,exif_location:y}}},H.exports.getMimeType=function(n){var u=String.fromCharCode.apply(null,n.slice(0,4)),f={};f[u]=!0;for(var l=8;l<n.length;l+=4)f[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return u==="avif"||u==="avis"||u==="avio"?{type:"avif",mime:"image/avif"}:u==="heic"||u==="heix"?{type:"heic",mime:"image/heic"}:u==="hevc"||u==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(H,j,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,x=e(44600),w=e(11688),v=g("ftyp");H.exports=function(p){if(P(p,4,v)){var r=x.unbox(p,0);if(r){var t=x.getMimeType(r.data);if(t){for(var i,n=r.end;;){var u=x.unbox(p,n);if(!u)break;if(n=u.end,u.boxtype==="mdat")return;if(u.boxtype==="meta"){i=u.data;break}}if(i){var f=x.readSizeFromMeta(i);if(f){var l={width:f.width,height:f.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(l.variants=f.variants),f.orientation&&(l.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=p.length){var y=a(p,f.exif_location.offset),h=p.slice(f.exif_location.offset+y+4,f.exif_location.offset+f.exif_location.length),M=w.get_orientation(h);M>0&&(l.orientation=M)}return l}}}}}}},38728:function(H,j,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,x=g("BM");H.exports=function(w){if(!(w.length<26)&&P(w,0,x))return{width:a(w,18),height:a(w,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(H,j,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,x=g("GIF87a"),w=g("GIF89a");H.exports=function(v){if(!(v.length<10)&&!(!P(v,0,x)&&!P(v,0,w)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(H,j,e){var g=e(9696).Bz,P=0,a=1,x=16;H.exports=function(w){var v=g(w,0),p=g(w,2),r=g(w,4);if(!(v!==P||p!==a||!r)){for(var t=[],i={width:0,height:0},n=0;n<r;n++){var u=w[6+x*n]||256,f=w[6+x*n+1]||256,l={width:u,height:f};t.push(l),(u>i.width||f>i.height)&&(i=l)}return{width:i.width,height:i.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(H,j,e){var g=e(9696).eW,P=e(9696).wR,a=e(9696).gS,x=e(11688),w=P("Exif\0\0");H.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=g(v,p)-2,p+=2}else return;if(r===217||r===218)return;var i;if(r===225&&t>=10&&a(v,p,w)&&(i=x.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:g(v,p+3),height:g(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}p+=t}}},37276:function(H,j,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,x=g(`PNG\r

`),w=g("IHDR");H.exports=function(v){if(!(v.length<24)&&P(v,0,x)&&P(v,12,w))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(H,j,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,x=g("8BPS\0");H.exports=function(w){if(!(w.length<22)&&P(w,0,x))return{width:a(w,18),height:a(w,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(H){function j(i){return i===32||i===9||i===13||i===10}function e(i){return typeof i=="number"&&isFinite(i)&&i>0}function g(i){var n=0,u=i.length;for(i[0]===239&&i[1]===187&&i[2]===191&&(n=3);n<u&&j(i[n]);)n++;return n===u?!1:i[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,x=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,w=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(i){var n=i.match(x),u=i.match(w),f=i.match(v);return{width:n&&(n[1]||n[2]),height:u&&(u[1]||u[2]),viewbox:f&&(f[1]||f[2])}}function t(i){return p.test(i)?i.match(p)[0]:"px"}H.exports=function(i){if(g(i)){for(var n="",u=0;u<i.length;u++)n+=String.fromCharCode(i[u]);var f=(n.match(P)||[""])[0];if(a.test(f)){var l=r(f),y=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(y)||!e(h)?void 0:{width:y,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var M=(l.viewbox||"").split(" "),c={width:M[2],height:M[3]},o=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(o)||!e(d))&&t(c.width)===t(c.height)){var T=o/d;return l.width?e(y)?{width:y,height:y/T,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*T,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:o,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(H,j,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,x=e(9696).eW,w=e(9696).st,v=e(9696).eI,p=g("II*\0"),r=g("MM\0*");function t(u,f,l){return l?x(u,f):a(u,f)}function i(u,f,l){return l?v(u,f):w(u,f)}function n(u,f,l){var y=t(u,f+2,l),h=i(u,f+4,l);return h!==1||y!==3&&y!==4?null:y===3?t(u,f+8,l):i(u,f+8,l)}H.exports=function(u){if(!(u.length<8)&&!(!P(u,0,p)&&!P(u,0,r))){var f=u[0]===77,l=i(u,4,f)-8;if(!(l<0)){var y=l+8;if(!(u.length-y<2)){var h=t(u,y+0,f)*12;if(!(h<=0)&&(y+=2,!(u.length-y<h))){var M,c,o,d;for(M=0;M<h;M+=12)d=t(u,y+M,f),d===256?c=n(u,y+M,f):d===257&&(o=n(u,y+M,f));if(c&&o)return{width:c,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(H,j,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,x=e(9696).st,w=e(11688),v=g("RIFF"),p=g("WEBP");function r(n,u){if(!(n[u+3]!==157||n[u+4]!==1||n[u+5]!==42))return{width:a(n,u+6)&16383,height:a(n,u+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,u){if(n[u]===47){var f=x(n,u+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function i(n,u){return{width:(n[u+6]<<16|n[u+5]<<8|n[u+4])+1,height:(n[u+9]<<u|n[u+8]<<8|n[u+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}H.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var u=12,f=null,l=0,y=x(n,4)+8;if(!(y>n.length)){for(;u+8<y;){if(n[u]===0){u++;continue}var h=String.fromCharCode.apply(null,n.slice(u,u+4)),M=x(n,u+4);h==="VP8 "&&M>=10?f=f||r(n,u+8):h==="VP8L"&&M>=9?f=f||t(n,u+8):h==="VP8X"&&M>=10?f=f||i(n,u+8):h==="EXIF"&&(l=w.get_orientation(n.slice(u+8,u+8+M)),u=1/0),u+=8+M}if(f)return l>0&&(f.orientation=l),f}}}},87480:function(H,j,e){H.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(H,j,e){var g=e(87480);function P(a){for(var x=Object.keys(g),w=0;w<x.length;w++){var v=g[x[w]](a);if(v)return v}return null}H.exports=function(x){return P(x)},H.exports.parsers=g},4168:function(H){var j=H.exports={},e,g;function P(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?g=clearTimeout:g=a}catch{g=a}})();function x(l){if(e===setTimeout)return setTimeout(l,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function w(l){if(g===clearTimeout)return clearTimeout(l);if((g===a||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(l);try{return g(l)}catch{try{return g.call(null,l)}catch{return g.call(this,l)}}}var v=[],p=!1,r,t=-1;function i(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var l=x(i);p=!0;for(var y=v.length;y;){for(r=v,v=[];++t<y;)r&&r[t].run();t=-1,y=v.length}r=null,p=!1,w(l)}}j.nextTick=function(l){var y=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)y[h-1]=arguments[h];v.push(new u(l,y)),v.length===1&&!p&&x(n)};function u(l,y){this.fun=l,this.array=y}u.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={};function f(){}j.on=f,j.addListener=f,j.once=f,j.off=f,j.removeListener=f,j.removeAllListeners=f,j.emit=f,j.prependListener=f,j.prependOnceListener=f,j.listeners=function(l){return[]},j.binding=function(l){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(l){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},3951:function(H,j,e){for(var g=e(41984),P=typeof window>"u"?e.g:window,a=["moz","webkit"],x="AnimationFrame",w=P["request"+x],v=P["cancel"+x]||P["cancelRequest"+x],p=0;!w&&p<a.length;p++)w=P[a[p]+"Request"+x],v=P[a[p]+"Cancel"+x]||P[a[p]+"CancelRequest"+x];if(!w||!v){var r=0,t=0,i=[],n=1e3/60;w=function(u){if(i.length===0){var f=g(),l=Math.max(0,n-(f-r));r=l+f,setTimeout(function(){var y=i.slice(0);i.length=0;for(var h=0;h<y.length;h++)if(!y[h].cancelled)try{y[h].callback(r)}catch(M){setTimeout(function(){throw M},0)}},Math.round(l))}return i.push({handle:++t,callback:u,cancelled:!1}),t},v=function(u){for(var f=0;f<i.length;f++)i[f].handle===u&&(i[f].cancelled=!0)}}H.exports=function(u){return w.call(P,u)},H.exports.cancel=function(){v.apply(P,arguments)},H.exports.polyfill=function(u){u||(u=P),u.requestAnimationFrame=w,u.cancelAnimationFrame=v}},24544:function(H,j,e){var g=e(76752),P=e(72160),a=e(45223),x=e(55616),w=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;H.exports=n;var i=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(u,f){if(typeof u=="function"?(f||(f={}),f.regl=u):f=u,f.length&&(f.positions=f),u=f.regl,!u.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=u._gl,y,h,M,c,o,d,T={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},S=[];return c=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),M=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=u.buffer({usage:"static",type:"float",data:i}),b(f),y=u({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:function(L,A){return[A.viewport.x,A.viewport.y,L.viewportWidth,L.viewportHeight]}},attributes:{color:{buffer:c,offset:function(L,A){return A.offset*4},divisor:1},position:{buffer:h,offset:function(L,A){return A.offset*8},divisor:1},positionFract:{buffer:M,offset:function(L,A){return A.offset*8},divisor:1},error:{buffer:o,offset:function(L,A){return A.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:i.length}),w(C,{update:b,draw:m,destroy:s,regl:u,gl:l,canvas:l.canvas,groups:S}),C;function C(L){L?b(L):L===null&&s(),m()}function m(L){if(typeof L=="number")return E(L);L&&!Array.isArray(L)&&(L=[L]),u._refresh(),S.forEach(function(A,k){if(A){if(L&&(L[k]?A.draw=!0:A.draw=!1),!A.draw){A.draw=!0;return}E(k)}})}function E(L){typeof L=="number"&&(L=S[L]),L!=null&&L&&L.count&&L.color&&L.opacity&&L.positions&&L.positions.length>1&&(L.scaleRatio=[L.scale[0]*L.viewport.width,L.scale[1]*L.viewport.height],y(L),L.after&&L.after(L))}function b(L){if(L){L.length!=null?typeof L[0]=="number"&&(L=[{positions:L}]):Array.isArray(L)||(L=[L]);var A=0,k=0;if(C.groups=S=L.map(function(V,W){var Q=S[W];if(V)typeof V=="function"?V={after:V}:typeof V[0]=="number"&&(V={positions:V});else return Q;return V=x(V,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Q||(S[W]=Q={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},V=w({},T,V)),a(Q,V,[{lineWidth:function(re){return+re*.5},capSize:function(re){return+re*.5},opacity:parseFloat,errors:function(re){return re=v(re),k+=re.length,re},positions:function(re,ne){return re=v(re,"float64"),ne.count=Math.floor(re.length/2),ne.bounds=g(re,2),ne.offset=A,A+=ne.count,re}},{color:function(re,ne){var fe=ne.count;if(re||(re="transparent"),!Array.isArray(re)||typeof re[0]=="number"){var $=re;re=Array(fe);for(var X=0;X<fe;X++)re[X]=$}if(re.length<fe)throw Error("Not enough colors");for(var oe=new Uint8Array(fe*4),Y=0;Y<fe;Y++){var ee=P(re[Y],"uint8");oe.set(ee,Y*4)}return oe},range:function(re,ne,fe){var $=ne.bounds;return re||(re=$),ne.scale=[1/(re[2]-re[0]),1/(re[3]-re[1])],ne.translate=[-re[0],-re[1]],ne.scaleFract=t(ne.scale),ne.translateFract=t(ne.translate),re},viewport:function(re){var ne;return Array.isArray(re)?ne={x:re[0],y:re[1],width:re[2]-re[0],height:re[3]-re[1]}:re?(ne={x:re.x||re.left||0,y:re.y||re.top||0},re.right?ne.width=re.right-ne.x:ne.width=re.w||re.width||0,re.bottom?ne.height=re.bottom-ne.y:ne.height=re.h||re.height||0):ne={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ne}}]),Q}),A||k){var _=S.reduce(function(V,W,Q){return V+(W?W.count:0)},0),U=new Float64Array(_*2),F=new Uint8Array(_*4),z=new Float32Array(_*4);S.forEach(function(V,W){if(V){var Q=V.positions,re=V.count,ne=V.offset,fe=V.color,$=V.errors;re&&(F.set(fe,ne*4),z.set($,ne*4),U.set(Q,ne*2))}});var B=r(U);h(B);var N=t(U,B);M(N),c(F),o(z)}}}function s(){h.destroy(),M.destroy(),c.destroy(),o.destroy(),d.destroy()}}},13472:function(H,j,e){var g=e(72160),P=e(76752),a=e(50896),x=e(55616),w=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,i=r.fract32,n=e(60463),u=e(51160),f=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,y=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,M=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,o=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;H.exports=d;function d(T,S){if(!(this instanceof d))return new d(T,S);if(typeof T=="function"?(S||(S={}),S.regl=T):S=T,S.length&&(S.positions=S),T=S.regl,!T.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=T._gl,this.regl=T,this.passes=[],this.shaders=d.shaders.has(T)?d.shaders.get(T):d.shaders.set(T,d.createShaders(T)).get(T),this.update(S)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(T){var S=T.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),C={primitive:"triangle strip",instances:T.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,L){return L.join==="round"?2:1},miterLimit:T.prop("miterLimit"),scale:T.prop("scale"),scaleFract:T.prop("scaleFract"),translateFract:T.prop("translateFract"),translate:T.prop("translate"),thickness:T.prop("thickness"),dashTexture:T.prop("dashTexture"),opacity:T.prop("opacity"),pixelRatio:T.context("pixelRatio"),id:T.prop("id"),dashLength:T.prop("dashLength"),viewport:function(s,L){return[L.viewport.x,L.viewport.y,s.viewportWidth,s.viewportHeight]},depth:T.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,L){return!L.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:T.prop("viewport")},viewport:T.prop("viewport")},m=T(a({vert:l,frag:y,attributes:{lineEnd:{buffer:S,divisor:0,stride:8,offset:0},lineTop:{buffer:S,divisor:0,stride:8,offset:4},aCoord:{buffer:T.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:T.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:T.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:T.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:T.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},C)),E;try{E=T(a({cull:{enable:!0,face:"back"},vert:c,frag:o,attributes:{lineEnd:{buffer:S,divisor:0,stride:8,offset:0},lineTop:{buffer:S,divisor:0,stride:8,offset:4},aColor:{buffer:T.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:T.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:T.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:T.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:T.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:T.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},C))}catch{E=m}var b=T({primitive:"triangle",elements:function(s,L){return L.triangles},offset:0,vert:h,frag:M,uniforms:{scale:T.prop("scale"),color:T.prop("fill"),scaleFract:T.prop("scaleFract"),translateFract:T.prop("translateFract"),translate:T.prop("translate"),opacity:T.prop("opacity"),pixelRatio:T.context("pixelRatio"),id:T.prop("id"),viewport:function(s,L){return[L.viewport.x,L.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:T.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:T.prop("positionFractBuffer"),stride:8,offset:8}},blend:C.blend,depth:{enable:!1},scissor:C.scissor,stencil:C.stencil,viewport:C.viewport});return{fill:b,rect:m,miter:E}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var T,S=[],C=arguments.length;C--;)S[C]=arguments[C];S.length&&(T=this).update.apply(T,S),this.draw()},d.prototype.draw=function(){for(var T=this,S=[],C=arguments.length;C--;)S[C]=arguments[C];return(S.length?S:this.passes).forEach(function(m,E){var b;if(m&&Array.isArray(m))return(b=T).draw.apply(b,m);typeof m=="number"&&(m=T.passes[m]),m&&m.count>1&&m.opacity&&(T.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&T.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>d.precisionThreshold||m.scale[1]*m.viewport.height>d.precisionThreshold||m.join==="rect"||!m.join&&(m.thickness<=2||m.count>=d.maxPoints)?T.shaders.rect(m):T.shaders.miter(m)))}),this},d.prototype.update=function(T){var S=this;if(T){T.length!=null?typeof T[0]=="number"&&(T=[{positions:T}]):Array.isArray(T)||(T=[T]);var C=this,m=C.regl,E=C.gl;if(T.forEach(function(k,_){var U=S.passes[_];if(k!==void 0){if(k===null){S.passes[_]=null;return}if(typeof k[0]=="number"&&(k={positions:k}),k=x(k,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),U||(S.passes[_]=U={id:_,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},k=a({},d.defaults,k)),k.thickness!=null&&(U.thickness=parseFloat(k.thickness)),k.opacity!=null&&(U.opacity=parseFloat(k.opacity)),k.miterLimit!=null&&(U.miterLimit=parseFloat(k.miterLimit)),k.overlay!=null&&(U.overlay=!!k.overlay,_<d.maxLines&&(U.depth=2*(d.maxLines-1-_%d.maxLines)/d.maxLines-1)),k.join!=null&&(U.join=k.join),k.hole!=null&&(U.hole=k.hole),k.fill!=null&&(U.fill=k.fill?g(k.fill,"uint8"):null),k.viewport!=null&&(U.viewport=u(k.viewport)),U.viewport||(U.viewport=u([E.drawingBufferWidth,E.drawingBufferHeight])),k.close!=null&&(U.close=k.close),k.positions===null&&(k.positions=[]),k.positions){var F,z;if(k.positions.x&&k.positions.y){var B=k.positions.x,N=k.positions.y;z=U.count=Math.max(B.length,N.length),F=new Float64Array(z*2);for(var V=0;V<z;V++)F[V*2]=B[V],F[V*2+1]=N[V]}else F=w(k.positions,"float64"),z=U.count=Math.floor(F.length/2);var W=U.bounds=P(F,2);if(U.fill){for(var Q=[],re={},ne=0,fe=0,$=0,X=U.count;fe<X;fe++){var oe=F[fe*2],Y=F[fe*2+1];isNaN(oe)||isNaN(Y)||oe==null||Y==null?(oe=F[ne*2],Y=F[ne*2+1],re[fe]=ne):ne=fe,Q[$++]=oe,Q[$++]=Y}if(k.splitNull){U.count-1 in re||(re[U.count]=U.count-1);var ee=Object.keys(re).map(Number).sort(function(Te,ze){return Te-ze}),se=[],q=0,K=U.hole!=null?U.hole[0]:null;if(K!=null){var le=f(ee,function(Te){return Te>=K});ee=ee.slice(0,le),ee.push(K)}for(var ie=function(Te){var ze=Q.slice(q*2,ee[Te]*2).concat(K?Q.slice(K*2):[]),Je=(U.hole||[]).map(function(pt){return pt-K+(ee[Te]-q)}),nt=v(ze,Je);nt=nt.map(function(pt){return pt+q+(pt+q<ee[Te]?0:K-ee[Te])}),se.push.apply(se,nt),q=ee[Te]+1},he=0;he<ee.length;he++)ie(he);for(var ye=0,Ce=se.length;ye<Ce;ye++)re[se[ye]]!=null&&(se[ye]=re[se[ye]]);U.triangles=se}else{for(var Ae=v(Q,U.hole||[]),ke=0,we=Ae.length;ke<we;ke++)re[Ae[ke]]!=null&&(Ae[ke]=re[Ae[ke]]);U.triangles=Ae}}var Ee=new Float64Array(F);p(Ee,2,W);var xe=new Float64Array(z*2+6);U.close?F[0]===F[z*2-2]&&F[1]===F[z*2-1]?(xe[0]=Ee[z*2-4],xe[1]=Ee[z*2-3]):(xe[0]=Ee[z*2-2],xe[1]=Ee[z*2-1]):(xe[0]=Ee[0],xe[1]=Ee[1]),xe.set(Ee,2),U.close?F[0]===F[z*2-2]&&F[1]===F[z*2-1]?(xe[z*2+2]=Ee[2],xe[z*2+3]=Ee[3],U.count-=1):(xe[z*2+2]=Ee[0],xe[z*2+3]=Ee[1],xe[z*2+4]=Ee[2],xe[z*2+5]=Ee[3]):(xe[z*2+2]=Ee[z*2-2],xe[z*2+3]=Ee[z*2-1],xe[z*2+4]=Ee[z*2-2],xe[z*2+5]=Ee[z*2-1]);var Re=t(xe);U.positionBuffer(Re);var Ve=i(xe,Re);U.positionFractBuffer(Ve)}if(k.range?U.range=k.range:U.range||(U.range=U.bounds),(k.range||k.positions)&&U.count){var Ue=U.bounds,Be=Ue[2]-Ue[0],Xe=Ue[3]-Ue[1],ut=U.range[2]-U.range[0],dt=U.range[3]-U.range[1];U.scale=[Be/ut,Xe/dt],U.translate=[-U.range[0]/ut+Ue[0]/ut||0,-U.range[1]/dt+Ue[1]/dt||0],U.scaleFract=i(U.scale),U.translateFract=i(U.translate)}if(k.dashes){var at=0,We;if(!k.dashes||k.dashes.length<2)at=1,We=new Uint8Array([255,255,255,255,255,255,255,255]);else{at=0;for(var rt=0;rt<k.dashes.length;++rt)at+=k.dashes[rt];We=new Uint8Array(at*d.dashMult);for(var st=0,ht=255,vt=0;vt<2;vt++)for(var At=0;At<k.dashes.length;++At){for(var tt=0,_e=k.dashes[At]*d.dashMult*.5;tt<_e;++tt)We[st++]=ht;ht^=255}}U.dashLength=at,U.dashTexture({channels:1,data:We,width:We.length,height:1,mag:"linear",min:"linear"},0,0)}if(k.color){var je=U.count,Ke=k.color;Ke||(Ke="transparent");var He=new Uint8Array(je*4+4);if(!Array.isArray(Ke)||typeof Ke[0]=="number")for(var Ie=g(Ke,"uint8"),be=0;be<je+1;be++)He.set(Ie,be*4);else{for(var me=0;me<je;me++){var Me=g(Ke[me],"uint8");He.set(Me,me*4)}He.set(g(Ke[0],"uint8"),je*4)}U.colorBuffer({usage:"dynamic",type:"uint8",data:He})}}}),T.length<this.passes.length){for(var b=T.length;b<this.passes.length;b++){var s=this.passes[b];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=T.length}for(var L=[],A=0;A<this.passes.length;A++)this.passes[A]!==null&&L.push(this.passes[A]);return this.passes=L,this}},d.prototype.destroy=function(){return this.passes.forEach(function(T){T.colorBuffer.destroy(),T.positionBuffer.destroy(),T.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(H,j,e){function g(s,L){var A=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(A!=null){var k,_,U,F,z=[],B=!0,N=!1;try{if(U=(A=A.call(s)).next,L===0){if(Object(A)!==A)return;B=!1}else for(;!(B=(k=U.call(A)).done)&&(z.push(k.value),z.length!==L);B=!0);}catch(V){N=!0,_=V}finally{try{if(!B&&A.return!=null&&(F=A.return(),Object(F)!==F))return}finally{if(N)throw _}}return z}}function P(s,L){return w(s)||g(s,L)||p(s,L)||i()}function a(s){return x(s)||v(s)||p(s)||t()}function x(s){if(Array.isArray(s))return r(s)}function w(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function p(s,L){if(s){if(typeof s=="string")return r(s,L);var A=Object.prototype.toString.call(s).slice(8,-1);if(A==="Object"&&s.constructor&&(A=s.constructor.name),A==="Map"||A==="Set")return Array.from(s);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return r(s,L)}}function r(s,L){(L==null||L>s.length)&&(L=s.length);for(var A=0,k=new Array(L);A<L;A++)k[A]=s[A];return k}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),u=e(76752),f=e(3808),l=e(3108),y=e(50896),h=e(26444),M=e(55616),c=e(45223),o=e(47520),d=e(96604),T=e(37816),S=e(51160),C=m;function m(s,L){var A=this;if(!(this instanceof m))return new m(s,L);typeof s=="function"?(L||(L={}),L.regl=s):(L=s,s=null),L&&L.length&&(L.positions=L),s=L.regl;var k=s._gl,_,U=[],F={},z=[],B=[null],N=[null],V=255,W=100;this.tooManyColors=d,_=s.texture({data:new Uint8Array(V*4),width:V,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:s,gl:k,groups:z,markerCache:N,markerTextures:B,palette:U,paletteIds:F,paletteTexture:_,maxColors:V,maxSize:W,canvas:k.canvas}),this.update(L);var Q={uniforms:{constPointSize:!!L.constPointSize,opacity:s.prop("opacity"),paletteSize:function($,X){return[A.tooManyColors?0:V,_.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:_},attributes:{x:function($,X){return X.xAttr||{buffer:X.positionBuffer,stride:8,offset:0}},y:function($,X){return X.yAttr||{buffer:X.positionBuffer,stride:8,offset:4}},xFract:function($,X){return X.xAttr?{constant:[0,0]}:{buffer:X.positionFractBuffer,stride:8,offset:0}},yFract:function($,X){return X.yAttr?{constant:[0,0]}:{buffer:X.positionFractBuffer,stride:8,offset:4}},size:function($,X){return X.size.length?{buffer:X.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(X.size*255/A.maxSize)]}},borderSize:function($,X){return X.borderSize.length?{buffer:X.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(X.borderSize*255/A.maxSize)]}},colorId:function($,X){return X.color.length?{buffer:X.colorBuffer,stride:A.tooManyColors?8:4,offset:0}:{constant:A.tooManyColors?U.slice(X.color*4,X.color*4+4):[X.color]}},borderColorId:function($,X){return X.borderColor.length?{buffer:X.colorBuffer,stride:A.tooManyColors?8:4,offset:A.tooManyColors?4:2}:{constant:A.tooManyColors?U.slice(X.borderColor*4,X.borderColor*4+4):[X.borderColor]}},isActive:function($,X){return X.activation===!0?{constant:[1]}:X.activation?X.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},re=y({},Q);re.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),re.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(re);var ne=y({},Q);ne.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ne.frag=ne.frag.replace("smoothstep","smoothStep"),re.frag=re.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(ne)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var s=this,L=arguments.length,A=new Array(L),k=0;k<L;k++)A[k]=arguments[k];var _=this.groups;if(A.length===1&&Array.isArray(A[0])&&(A[0][0]===null||Array.isArray(A[0][0]))&&(A=A[0]),this.regl._refresh(),A.length)for(var U=0;U<A.length;U++)this.drawItem(U,A[U]);else _.forEach(function(F,z){s.drawItem(z)});return this},m.prototype.drawItem=function(s,L){var A=this.groups,k=A[s];if(typeof L=="number"&&(s=L,k=A[L],L=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,L));for(var _=[],U=1;U<k.activation.length;U++)!k.activation[U]||k.activation[U]!==!0&&!k.activation[U].data.length||_.push.apply(_,a(this.getMarkerDrawOptions(U,k,L)));_.length&&this.drawMarker(_)}},m.prototype.getMarkerDrawOptions=function(s,L,A){var k=L.range,_=L.tree,U=L.viewport,F=L.activation,z=L.selectionBuffer,B=L.count;if(this.regl,!_)return A?[y({},L,{markerTexture:this.markerTextures[s],activation:F[s],count:A.length,elements:A,offset:0})]:[y({},L,{markerTexture:this.markerTextures[s],activation:F[s],offset:0})];var N=[],V=_.range(k,{lod:!0,px:[(k[2]-k[0])/U.width,(k[3]-k[1])/U.height]});if(A){for(var W=F[s],Q=W.data,re=new Uint8Array(B),ne=0;ne<A.length;ne++){var fe=A[ne];re[fe]=Q?Q[fe]:1}z.subdata(re)}for(var $=V.length;$--;){var X=P(V[$],2),oe=X[0],Y=X[1];N.push(y({},L,{markerTexture:this.markerTextures[s],activation:A?z:F[s],offset:oe,count:Y-oe}))}return N},m.prototype.update=function(){for(var s=this,L=arguments.length,A=new Array(L),k=0;k<L;k++)A[k]=arguments[k];if(A.length){A.length===1&&Array.isArray(A[0])&&(A=A[0]);var _=this.groups,U=this.gl,F=this.regl,z=this.maxSize,B=this.maxColors,N=this.palette;this.groups=_=A.map(function(V,W){var Q=_[W];if(V===void 0)return Q;V===null?V={positions:null}:typeof V=="function"?V={ondraw:V}:typeof V[0]=="number"&&(V={positions:V}),V=M(V,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),V.positions===null&&(V.positions=[]),V.tooManyColors!=null&&(s.tooManyColors=V.tooManyColors),Q||(_[W]=Q={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},V=y({},m.defaults,V)),V.positions&&!("marker"in V)&&(V.marker=Q.marker,delete Q.marker),V.marker&&!("positions"in V)&&(V.positions=Q.positions,delete Q.positions);var re=0,ne=0;if(c(Q,V,[{snap:!0,size:function(xe,Re){return xe==null&&(xe=m.defaults.size),re+=xe&&xe.length?1:0,xe},borderSize:function(xe,Re){return xe==null&&(xe=m.defaults.borderSize),re+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,Re){return xe==null&&(xe=m.defaults.color),xe=s.updateColor(xe),ne++,xe},borderColor:function(xe,Re){return xe==null&&(xe=m.defaults.borderColor),xe=s.updateColor(xe),ne++,xe},bounds:function(xe,Re,Ve){return"range"in Ve||(Ve.range=null),xe},positions:function(xe,Re,Ve){var Ue=Re.snap,Be=Re.positionBuffer,Xe=Re.positionFractBuffer,ut=Re.selectionBuffer;if(xe.x||xe.y)return xe.x.length?Re.xAttr={buffer:F.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:Re.xAttr={buffer:xe.x.buffer,offset:xe.x.offset*4||0,stride:(xe.x.stride||1)*4,count:xe.x.count},xe.y.length?Re.yAttr={buffer:F.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:Re.yAttr={buffer:xe.y.buffer,offset:xe.y.offset*4||0,stride:(xe.y.stride||1)*4,count:xe.y.count},Re.count=Math.max(Re.xAttr.count,Re.yAttr.count),xe;xe=o(xe,"float64");var dt=Re.count=Math.floor(xe.length/2),at=Re.bounds=dt?u(xe,2):null;if(!Ve.range&&!Re.range&&(delete Re.range,Ve.range=at),!Ve.marker&&!Re.marker&&(delete Re.marker,Ve.marker=null),Ue&&(Ue===!0||dt>Ue)?Re.tree=l(xe,{bounds:at}):Ue&&Ue.length&&(Re.tree=Ue),Re.tree){var We={primitive:"points",usage:"static",data:Re.tree,type:"uint32"};Re.elements?Re.elements(We):Re.elements=F.elements(We)}var rt=T.float32(xe);Be({data:rt,usage:"dynamic"});var st=T.fract32(xe,rt);return Xe({data:st,usage:"dynamic"}),ut({data:new Uint8Array(dt),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,Re,Ve){var Ue=Re.activation;if(Ue.forEach(function(st){return st&&st.destroy&&st.destroy()}),Ue.length=0,!xe||typeof xe[0]=="number"){var Be=s.addMarker(xe);Ue[Be]=!0}else{for(var Xe=[],ut=0,dt=Math.min(xe.length,Re.count);ut<dt;ut++){var at=s.addMarker(xe[ut]);Xe[at]||(Xe[at]=new Uint8Array(Re.count)),Xe[at][ut]=1}for(var We=0;We<Xe.length;We++)if(Xe[We]){var rt={data:Xe[We],type:"uint8",usage:"static"};Ue[We]?Ue[We](rt):Ue[We]=F.buffer(rt),Ue[We].data=Xe[We]}}return xe},range:function(xe,Re,Ve){var Ue=Re.bounds;if(Ue)return xe||(xe=Ue),Re.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],Re.translate=[-xe[0],-xe[1]],Re.scaleFract=T.fract(Re.scale),Re.translateFract=T.fract(Re.translate),xe},viewport:function(xe){var Re=S(xe||[U.drawingBufferWidth,U.drawingBufferHeight]);return Re}}]),re){var fe=Q,$=fe.count,X=fe.size,oe=fe.borderSize,Y=fe.sizeBuffer,ee=new Uint8Array($*2);if(X.length||oe.length)for(var se=0;se<$;se++)ee[se*2]=Math.round((X[se]==null?X:X[se])*255/z),ee[se*2+1]=Math.round((oe[se]==null?oe:oe[se])*255/z);Y({data:ee,usage:"dynamic"})}if(ne){var q=Q,K=q.count,le=q.color,ie=q.borderColor,he=q.colorBuffer,ye;if(s.tooManyColors){if(le.length||ie.length){ye=new Uint8Array(K*8);for(var Ce=0;Ce<K;Ce++){var Ae=le[Ce];ye[Ce*8]=N[Ae*4],ye[Ce*8+1]=N[Ae*4+1],ye[Ce*8+2]=N[Ae*4+2],ye[Ce*8+3]=N[Ae*4+3];var ke=ie[Ce];ye[Ce*8+4]=N[ke*4],ye[Ce*8+5]=N[ke*4+1],ye[Ce*8+6]=N[ke*4+2],ye[Ce*8+7]=N[ke*4+3]}}}else if(le.length||ie.length){ye=new Uint8Array(K*4+2);for(var we=0;we<K;we++)le[we]!=null&&(ye[we*4]=le[we]%B,ye[we*4+1]=Math.floor(le[we]/B)),ie[we]!=null&&(ye[we*4+2]=ie[we]%B,ye[we*4+3]=Math.floor(ie[we]/B))}he({data:ye||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return Q})}},m.prototype.addMarker=function(s){var L=this.markerTextures,A=this.regl,k=this.markerCache,_=s==null?0:k.indexOf(s);if(_>=0)return _;var U;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)U=s;else{U=new Uint8Array(s.length);for(var F=0,z=s.length;F<z;F++)U[F]=s[F]*255}var B=Math.floor(Math.sqrt(U.length));return _=L.length,k.push(s),L.push(A.texture({channels:1,data:U,radius:B,mag:"linear",min:"linear"})),_},m.prototype.updateColor=function(s){var L=this.paletteIds,A=this.palette,k=this.maxColors;Array.isArray(s)||(s=[s]);var _=[];if(typeof s[0]=="number"){var U=[];if(Array.isArray(s))for(var F=0;F<s.length;F+=4)U.push(s.slice(F,F+4));else for(var z=0;z<s.length;z+=4)U.push(s.subarray(z,z+4));s=U}for(var B=0;B<s.length;B++){var N=s[B];N=n(N,"uint8");var V=f(N,!1);if(L[V]==null){var W=A.length;L[V]=Math.floor(W/4),A[W]=N[0],A[W+1]=N[1],A[W+2]=N[2],A[W+3]=N[3]}_[B]=L[V]}return!this.tooManyColors&&A.length>k*4&&(this.tooManyColors=!0),this.updatePalette(A),_.length===1?_[0]:_},m.prototype.updatePalette=function(s){if(!this.tooManyColors){var L=this.maxColors,A=this.paletteTexture,k=Math.ceil(s.length*.25/L);if(k>1){s=s.slice();for(var _=s.length*.25%L;_<k*L;_++)s.push(0,0,0,0)}A.height<k&&A.resize(L,k),A.subimage({width:Math.min(s.length*.25,L),height:k,data:s},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(L){return L&&L.destroy&&L.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var E=e(50896),b=function(L,A){var k=new C(L,A),_=k.render.bind(k);return E(_,{render:_,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),_};H.exports=b},55795:function(H,j,e){var g=e(38540),P=e(55616),a=e(76752),x=e(3951),w=e(67752),v=e(51160),p=e(47520);H.exports=r;function r(u,f){if(!(this instanceof r))return new r(u);this.traces=[],this.passes={},this.regl=u,this.scatter=g(u),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var u=this,f,l=[],y=arguments.length;y--;)l[y]=arguments[y];return l.length&&(f=this).update.apply(f,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=x(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,x(function(){u.dirty=!1})),this)},r.prototype.update=function(){for(var u,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(f.length){for(var y=0;y<f.length;y++)this.updateItem(y,f[y]);this.traces=this.traces.filter(Boolean);for(var h=[],M=0,c=0;c<this.traces.length;c++){for(var o=this.traces[c],d=this.traces[c].passes,T=0;T<d.length;T++)h.push(this.passes[d[T]]);o.passOffset=M,M+=o.passes.length}return(u=this.scatter).update.apply(u,h),this}},r.prototype.updateItem=function(u,f){var l=this,y=l.regl;if(f===null)return this.traces[u]=null,this;if(!f)return this;var h=P(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),M=this.traces[u]||(this.traces[u]={id:u,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(M.color=h.color),h.size!=null&&(M.size=h.size),h.marker!=null&&(M.marker=h.marker),h.borderColor!=null&&(M.borderColor=h.borderColor),h.borderSize!=null&&(M.borderSize=h.borderSize),h.opacity!=null&&(M.opacity=h.opacity),h.viewport&&(M.viewport=v(h.viewport)),h.diagonal!=null&&(M.diagonal=h.diagonal),h.upper!=null&&(M.upper=h.upper),h.lower!=null&&(M.lower=h.lower),h.data){M.buffer(p(h.data)),M.columns=h.data.length,M.count=h.data[0].length,M.bounds=[];for(var c=0;c<M.columns;c++)M.bounds[c]=a(h.data[c],1)}var o;h.range&&(M.range=h.range,o=M.range&&typeof M.range[0]!="number"),h.domain&&(M.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===M.columns&&typeof h.padding[h.padding.length-1]=="number"?(M.padding=h.padding.map(n),d=!0):M.padding=n(h.padding));var T=M.columns,S=M.count,C=M.viewport.width,m=M.viewport.height,E=M.viewport.x,b=M.viewport.y,s=C/T,L=m/T;M.passes=[];for(var A=0;A<T;A++)for(var k=0;k<T;k++)if(!(!M.diagonal&&k===A)&&!(!M.upper&&A>k)&&!(!M.lower&&A<k)){var _=t(M.id,A,k),U=this.passes[_]||(this.passes[_]={});if(h.data&&(h.transpose?U.positions={x:{buffer:M.buffer,offset:k,count:S,stride:T},y:{buffer:M.buffer,offset:A,count:S,stride:T}}:U.positions={x:{buffer:M.buffer,offset:k*S,count:S},y:{buffer:M.buffer,offset:A*S,count:S}},U.bounds=i(M.bounds,A,k)),h.domain||h.viewport||h.data){var F=d?i(M.padding,A,k):M.padding;if(M.domain){var z=i(M.domain,A,k),B=z[0],N=z[1],V=z[2],W=z[3];U.viewport=[E+B*C+F[0],b+N*m+F[1],E+V*C-F[2],b+W*m-F[3]]}else U.viewport=[E+k*s+s*F[0],b+A*L+L*F[1],E+(k+1)*s-s*F[2],b+(A+1)*L-L*F[3]]}h.color&&(U.color=M.color),h.size&&(U.size=M.size),h.marker&&(U.marker=M.marker),h.borderSize&&(U.borderSize=M.borderSize),h.borderColor&&(U.borderColor=M.borderColor),h.opacity&&(U.opacity=M.opacity),h.range&&(U.range=o?i(M.range,A,k):M.range||U.bounds),M.passes.push(_)}return this},r.prototype.draw=function(){for(var u,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(!f.length)this.scatter.draw();else{for(var y=[],h=0;h<f.length;h++)if(typeof f[h]=="number"){var M=this.traces[f[h]],c=M.passes,o=M.passOffset;y.push.apply(y,w(o,o+c.length))}else if(f[h].length){var d=f[h],T=this.traces[h],S=T.passes,C=T.passOffset;S=S.map(function(m,E){y[C+E]=d})}(u=this.scatter).draw.apply(u,y)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(u){u.buffer&&u.buffer.destroy&&u.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(u,f,l){var y=u.id!=null?u.id:u,h=f,M=l,c=y<<16|(h&255)<<8|M&255;return c}function i(u,f,l){var y,h,M,c,o=u[f],d=u[l];return o.length>2?(o[0],o[2],y=o[1],h=o[3]):o.length?(y=o[0],h=o[1]):(o.x,y=o.y,o.x+o.width,h=o.y+o.height),d.length>2?(M=d[0],c=d[2],d[1],d[3]):d.length?(M=d[0],c=d[1]):(M=d.x,d.y,c=d.x+d.width,d.y+d.height),[M,y,c,h]}function n(u){if(typeof u=="number")return[u,u,u,u];if(u.length===2)return[u[0],u[1],u[0],u[1]];var f=v(u);return[f.x,f.y,f.x+f.width,f.y+f.height]}},28624:function(H){(function(j,e){H.exports=e()})(this,function(){function j(mt,Zt){this.id=he++,this.type=mt,this.data=Zt}function e(mt){if(mt.length===0)return[];var Zt=mt.charAt(0),Qt=mt.charAt(mt.length-1);if(1<mt.length&&Zt===Qt&&(Zt==='"'||Zt==="'"))return['"'+mt.substr(1,mt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Zt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(mt))return e(mt.substr(0,Zt.index)).concat(e(Zt[1])).concat(e(mt.substr(Zt.index+Zt[0].length)));if(Zt=mt.split("."),Zt.length===1)return['"'+mt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(mt=[],Qt=0;Qt<Zt.length;++Qt)mt=mt.concat(e(Zt[Qt]));return mt}function g(mt){return"["+e(mt).join("][")+"]"}function P(mt,Zt){if(typeof mt=="function")return new j(0,mt);if(typeof mt=="number"||typeof mt=="boolean")return new j(5,mt);if(Array.isArray(mt))return new j(6,mt.map(function(Qt,yr){return P(Qt)}));if(mt instanceof j)return mt}function a(){var mt={"":0},Zt=[""];return{id:function(Qt){var yr=mt[Qt];return yr||(yr=mt[Qt]=Zt.length,Zt.push(Qt),yr)},str:function(Qt){return Zt[Qt]}}}function x(mt,Zt,Qt){function yr(){var lt=window.innerWidth,Tt=window.innerHeight;mt!==document.body&&(Tt=sr.getBoundingClientRect(),lt=Tt.right-Tt.left,Tt=Tt.bottom-Tt.top),sr.width=Qt*lt,sr.height=Qt*Tt}var sr=document.createElement("canvas");ie(sr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),mt.appendChild(sr),mt===document.body&&(sr.style.position="absolute",ie(mt.style,{margin:0,padding:0}));var bt;return mt!==document.body&&typeof ResizeObserver=="function"?(bt=new ResizeObserver(function(){setTimeout(yr)}),bt.observe(mt)):window.addEventListener("resize",yr,!1),yr(),{canvas:sr,onDestroy:function(){bt?bt.disconnect():window.removeEventListener("resize",yr),mt.removeChild(sr)}}}function w(mt,Zt){function Qt(yr){try{return mt.getContext(yr,Zt)}catch{return null}}return Qt("webgl")||Qt("experimental-webgl")||Qt("webgl-experimental")}function v(mt){return typeof mt=="string"?mt.split():mt}function p(mt){return typeof mt=="string"?document.querySelector(mt):mt}function r(mt){var Zt=mt||{},Qt,yr,sr,bt;mt={};var lt=[],Tt=[],Ct=typeof window>"u"?1:window.devicePixelRatio,It=!1,Dt={},Vt=function($t){},Bt=function(){};if(typeof Zt=="string"?Qt=document.querySelector(Zt):typeof Zt=="object"&&(typeof Zt.nodeName=="string"&&typeof Zt.appendChild=="function"&&typeof Zt.getBoundingClientRect=="function"?Qt=Zt:typeof Zt.drawArrays=="function"||typeof Zt.drawElements=="function"?(bt=Zt,sr=bt.canvas):("gl"in Zt?bt=Zt.gl:"canvas"in Zt?sr=p(Zt.canvas):"container"in Zt&&(yr=p(Zt.container)),"attributes"in Zt&&(mt=Zt.attributes),"extensions"in Zt&&(lt=v(Zt.extensions)),"optionalExtensions"in Zt&&(Tt=v(Zt.optionalExtensions)),"onDone"in Zt&&(Vt=Zt.onDone),"profile"in Zt&&(It=!!Zt.profile),"pixelRatio"in Zt&&(Ct=+Zt.pixelRatio),"cachedCode"in Zt&&(Dt=Zt.cachedCode))),Qt&&(Qt.nodeName.toLowerCase()==="canvas"?sr=Qt:yr=Qt),!bt){if(!sr){if(Qt=x(yr||document.body,Vt,Ct),!Qt)return null;sr=Qt.canvas,Bt=Qt.onDestroy}mt.premultipliedAlpha===void 0&&(mt.premultipliedAlpha=!0),bt=w(sr,mt)}return bt?{gl:bt,canvas:sr,container:yr,extensions:lt,optionalExtensions:Tt,pixelRatio:Ct,profile:It,cachedCode:Dt,onDone:Vt,onDestroy:Bt}:(Bt(),Vt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(mt,Zt){function Qt(lt){lt=lt.toLowerCase();var Tt;try{Tt=yr[lt]=mt.getExtension(lt)}catch{}return!!Tt}for(var yr={},sr=0;sr<Zt.extensions.length;++sr){var bt=Zt.extensions[sr];if(!Qt(bt))return Zt.onDestroy(),Zt.onDone('"'+bt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Zt.optionalExtensions.forEach(Qt),{extensions:yr,restore:function(){Object.keys(yr).forEach(function(lt){if(yr[lt]&&!Qt(lt))throw Error("(regl): error restoring extension "+lt)})}}}function i(mt,Zt){for(var Qt=Array(mt),yr=0;yr<mt;++yr)Qt[yr]=Zt(yr);return Qt}function n(mt){var Zt,Qt;return Zt=(65535<mt)<<4,mt>>>=Zt,Qt=(255<mt)<<3,mt>>>=Qt,Zt|=Qt,Qt=(15<mt)<<2,mt>>>=Qt,Zt|=Qt,Qt=(3<mt)<<1,Zt|Qt|mt>>>Qt>>1}function u(){function mt(yr){e:{for(var sr=16;268435456>=sr;sr*=16)if(yr<=sr){yr=sr;break e}yr=0}return sr=Qt[n(yr)>>2],0<sr.length?sr.pop():new ArrayBuffer(yr)}function Zt(yr){Qt[n(yr.byteLength)>>2].push(yr)}var Qt=i(8,function(){return[]});return{alloc:mt,free:Zt,allocType:function(yr,sr){var bt=null;switch(yr){case 5120:bt=new Int8Array(mt(sr),0,sr);break;case 5121:bt=new Uint8Array(mt(sr),0,sr);break;case 5122:bt=new Int16Array(mt(2*sr),0,sr);break;case 5123:bt=new Uint16Array(mt(2*sr),0,sr);break;case 5124:bt=new Int32Array(mt(4*sr),0,sr);break;case 5125:bt=new Uint32Array(mt(4*sr),0,sr);break;case 5126:bt=new Float32Array(mt(4*sr),0,sr);break;default:return null}return bt.length!==sr?bt.subarray(0,sr):bt},freeType:function(yr){Zt(yr.buffer)}}}function f(mt){return!!mt&&typeof mt=="object"&&Array.isArray(mt.shape)&&Array.isArray(mt.stride)&&typeof mt.offset=="number"&&mt.shape.length===mt.stride.length&&(Array.isArray(mt.data)||Ee(mt.data))}function l(mt,Zt,Qt,yr,sr,bt){for(var lt=0;lt<Zt;++lt)for(var Tt=mt[lt],Ct=0;Ct<Qt;++Ct)for(var It=Tt[Ct],Dt=0;Dt<yr;++Dt)sr[bt++]=It[Dt]}function y(mt,Zt,Qt,yr,sr){for(var bt=1,lt=Qt+1;lt<Zt.length;++lt)bt*=Zt[lt];var Tt=Zt[Qt];if(Zt.length-Qt===4){var Ct=Zt[Qt+1],It=Zt[Qt+2];for(Zt=Zt[Qt+3],lt=0;lt<Tt;++lt)l(mt[lt],Ct,It,Zt,yr,sr),sr+=bt}else for(lt=0;lt<Tt;++lt)y(mt[lt],Zt,Qt+1,yr,sr),sr+=bt}function h(mt){return Ve[Object.prototype.toString.call(mt)]|0}function M(mt,Zt){for(var Qt=0;Qt<Zt.length;++Qt)mt[Qt]=Zt[Qt]}function c(mt,Zt,Qt,yr,sr,bt,lt){for(var Tt=0,Ct=0;Ct<Qt;++Ct)for(var It=0;It<yr;++It)mt[Tt++]=Zt[sr*Ct+bt*It+lt]}function o(mt,Zt,Qt,yr){function sr(Vt){this.id=Ct++,this.buffer=mt.createBuffer(),this.type=Vt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Qt.profile&&(this.stats={size:0})}function bt(Vt,Bt,$t){Vt.byteLength=Bt.byteLength,mt.bufferData(Vt.type,Bt,$t)}function lt(Vt,Bt,$t,fr,cr,dr){if(Vt.usage=$t,Array.isArray(Bt)){if(Vt.dtype=fr||5126,0<Bt.length)if(Array.isArray(Bt[0])){cr=ut(Bt);for(var Ye=fr=1;Ye<cr.length;++Ye)fr*=cr[Ye];Vt.dimension=fr,Bt=Xe(Bt,cr,Vt.dtype),bt(Vt,Bt,$t),dr?Vt.persistentData=Bt:ke.freeType(Bt)}else typeof Bt[0]=="number"?(Vt.dimension=cr,cr=ke.allocType(Vt.dtype,Bt.length),M(cr,Bt),bt(Vt,cr,$t),dr?Vt.persistentData=cr:ke.freeType(cr)):Ee(Bt[0])&&(Vt.dimension=Bt[0].length,Vt.dtype=fr||h(Bt[0])||5126,Bt=Xe(Bt,[Bt.length,Bt[0].length],Vt.dtype),bt(Vt,Bt,$t),dr?Vt.persistentData=Bt:ke.freeType(Bt))}else if(Ee(Bt))Vt.dtype=fr||h(Bt),Vt.dimension=cr,bt(Vt,Bt,$t),dr&&(Vt.persistentData=new Uint8Array(new Uint8Array(Bt.buffer)));else if(f(Bt)){cr=Bt.shape;var Ge=Bt.stride,Ye=Bt.offset,zt=0,Ft=0,Jt=0,tr=0;cr.length===1?(zt=cr[0],Ft=1,Jt=Ge[0],tr=0):cr.length===2&&(zt=cr[0],Ft=cr[1],Jt=Ge[0],tr=Ge[1]),Vt.dtype=fr||h(Bt.data)||5126,Vt.dimension=Ft,cr=ke.allocType(Vt.dtype,zt*Ft),c(cr,Bt.data,zt,Ft,Jt,tr,Ye),bt(Vt,cr,$t),dr?Vt.persistentData=cr:ke.freeType(cr)}else Bt instanceof ArrayBuffer&&(Vt.dtype=5121,Vt.dimension=cr,bt(Vt,Bt,$t),dr&&(Vt.persistentData=new Uint8Array(new Uint8Array(Bt))))}function Tt(Vt){Zt.bufferCount--,yr(Vt),mt.deleteBuffer(Vt.buffer),Vt.buffer=null,delete It[Vt.id]}var Ct=0,It={};sr.prototype.bind=function(){mt.bindBuffer(this.type,this.buffer)},sr.prototype.destroy=function(){Tt(this)};var Dt=[];return Qt.profile&&(Zt.getTotalBufferSize=function(){var Vt=0;return Object.keys(It).forEach(function(Bt){Vt+=It[Bt].stats.size}),Vt}),{create:function(Vt,Bt,$t,fr){function cr(Ye){var Ge=35044,zt=null,Ft=0,Jt=0,tr=1;return Array.isArray(Ye)||Ee(Ye)||f(Ye)||Ye instanceof ArrayBuffer?zt=Ye:typeof Ye=="number"?Ft=Ye|0:Ye&&("data"in Ye&&(zt=Ye.data),"usage"in Ye&&(Ge=Be[Ye.usage]),"type"in Ye&&(Jt=Ue[Ye.type]),"dimension"in Ye&&(tr=Ye.dimension|0),"length"in Ye&&(Ft=Ye.length|0)),dr.bind(),zt?lt(dr,zt,Ge,Jt,tr,fr):(Ft&&mt.bufferData(dr.type,Ft,Ge),dr.dtype=Jt||5121,dr.usage=Ge,dr.dimension=tr,dr.byteLength=Ft),Qt.profile&&(dr.stats.size=dr.byteLength*dt[dr.dtype]),cr}Zt.bufferCount++;var dr=new sr(Bt);return It[dr.id]=dr,$t||cr(Vt),cr._reglType="buffer",cr._buffer=dr,cr.subdata=function(Ye,Ge){var zt=(Ge||0)|0,Ft;if(dr.bind(),Ee(Ye)||Ye instanceof ArrayBuffer)mt.bufferSubData(dr.type,zt,Ye);else if(Array.isArray(Ye)){if(0<Ye.length)if(typeof Ye[0]=="number"){var Jt=ke.allocType(dr.dtype,Ye.length);M(Jt,Ye),mt.bufferSubData(dr.type,zt,Jt),ke.freeType(Jt)}else(Array.isArray(Ye[0])||Ee(Ye[0]))&&(Ft=ut(Ye),Jt=Xe(Ye,Ft,dr.dtype),mt.bufferSubData(dr.type,zt,Jt),ke.freeType(Jt))}else if(f(Ye)){Ft=Ye.shape;var tr=Ye.stride,ur=Jt=0,nr=0,Nt=0;Ft.length===1?(Jt=Ft[0],ur=1,nr=tr[0],Nt=0):Ft.length===2&&(Jt=Ft[0],ur=Ft[1],nr=tr[0],Nt=tr[1]),Ft=Array.isArray(Ye.data)?dr.dtype:h(Ye.data),Ft=ke.allocType(Ft,Jt*ur),c(Ft,Ye.data,Jt,ur,nr,Nt,Ye.offset),mt.bufferSubData(dr.type,zt,Ft),ke.freeType(Ft)}return cr},Qt.profile&&(cr.stats=dr.stats),cr.destroy=function(){Tt(dr)},cr},createStream:function(Vt,Bt){var $t=Dt.pop();return $t||($t=new sr(Vt)),$t.bind(),lt($t,Bt,35040,0,1,!1),$t},destroyStream:function(Vt){Dt.push(Vt)},clear:function(){xe(It).forEach(Tt),Dt.forEach(Tt)},getBuffer:function(Vt){return Vt&&Vt._buffer instanceof sr?Vt._buffer:null},restore:function(){xe(It).forEach(function(Vt){Vt.buffer=mt.createBuffer(),mt.bindBuffer(Vt.type,Vt.buffer),mt.bufferData(Vt.type,Vt.persistentData||Vt.byteLength,Vt.usage)})},_initBuffer:lt}}function d(mt,Zt,Qt,yr){function sr(Vt){this.id=Ct++,Tt[this.id]=this,this.buffer=Vt,this.primType=4,this.type=this.vertCount=0}function bt(Vt,Bt,$t,fr,cr,dr,Ye){Vt.buffer.bind();var Ge;if(Bt?((Ge=Ye)||Ee(Bt)&&(!f(Bt)||Ee(Bt.data))||(Ge=Zt.oes_element_index_uint?5125:5123),Qt._initBuffer(Vt.buffer,Bt,$t,Ge,3)):(mt.bufferData(34963,dr,$t),Vt.buffer.dtype=Ge||5121,Vt.buffer.usage=$t,Vt.buffer.dimension=3,Vt.buffer.byteLength=dr),Ge=Ye,!Ye){switch(Vt.buffer.dtype){case 5121:case 5120:Ge=5121;break;case 5123:case 5122:Ge=5123;break;case 5125:case 5124:Ge=5125}Vt.buffer.dtype=Ge}Vt.type=Ge,Bt=cr,0>Bt&&(Bt=Vt.buffer.byteLength,Ge===5123?Bt>>=1:Ge===5125&&(Bt>>=2)),Vt.vertCount=Bt,Bt=fr,0>fr&&(Bt=4,fr=Vt.buffer.dimension,fr===1&&(Bt=0),fr===2&&(Bt=1),fr===3&&(Bt=4)),Vt.primType=Bt}function lt(Vt){yr.elementsCount--,delete Tt[Vt.id],Vt.buffer.destroy(),Vt.buffer=null}var Tt={},Ct=0,It={uint8:5121,uint16:5123};Zt.oes_element_index_uint&&(It.uint32=5125),sr.prototype.bind=function(){this.buffer.bind()};var Dt=[];return{create:function(Vt,Bt){function $t(dr){if(dr)if(typeof dr=="number")fr(dr),cr.primType=4,cr.vertCount=dr|0,cr.type=5121;else{var Ye=null,Ge=35044,zt=-1,Ft=-1,Jt=0,tr=0;Array.isArray(dr)||Ee(dr)||f(dr)?Ye=dr:("data"in dr&&(Ye=dr.data),"usage"in dr&&(Ge=Be[dr.usage]),"primitive"in dr&&(zt=at[dr.primitive]),"count"in dr&&(Ft=dr.count|0),"type"in dr&&(tr=It[dr.type]),"length"in dr?Jt=dr.length|0:(Jt=Ft,tr===5123||tr===5122?Jt*=2:(tr===5125||tr===5124)&&(Jt*=4))),bt(cr,Ye,Ge,zt,Ft,Jt,tr)}else fr(),cr.primType=4,cr.vertCount=0,cr.type=5121;return $t}var fr=Qt.create(null,34963,!0),cr=new sr(fr._buffer);return yr.elementsCount++,$t(Vt),$t._reglType="elements",$t._elements=cr,$t.subdata=function(dr,Ye){return fr.subdata(dr,Ye),$t},$t.destroy=function(){lt(cr)},$t},createStream:function(Vt){var Bt=Dt.pop();return Bt||(Bt=new sr(Qt.create(null,34963,!0,!1)._buffer)),bt(Bt,Vt,35040,-1,-1,0,0),Bt},destroyStream:function(Vt){Dt.push(Vt)},getElements:function(Vt){return typeof Vt=="function"&&Vt._elements instanceof sr?Vt._elements:null},clear:function(){xe(Tt).forEach(lt)}}}function T(mt){for(var Zt=ke.allocType(5123,mt.length),Qt=0;Qt<mt.length;++Qt)if(isNaN(mt[Qt]))Zt[Qt]=65535;else if(mt[Qt]===1/0)Zt[Qt]=31744;else if(mt[Qt]===-1/0)Zt[Qt]=64512;else{We[0]=mt[Qt];var bt=rt[0],yr=bt>>>31<<15,sr=(bt<<1>>>24)-127,bt=bt>>13&1023;Zt[Qt]=-24>sr?yr:-14>sr?yr+(bt+1024>>-14-sr):15<sr?yr+31744:yr+(sr+15<<10)+bt}return Zt}function S(mt){return Array.isArray(mt)||Ee(mt)}function C(mt){return"[object "+mt+"]"}function m(mt){return Array.isArray(mt)&&(mt.length===0||typeof mt[0]=="number")}function E(mt){return!!(Array.isArray(mt)&&mt.length!==0&&S(mt[0]))}function b(mt){return Object.prototype.toString.call(mt)}function s(mt){if(!mt)return!1;var Zt=b(mt);return 0<=Ie.indexOf(Zt)?!0:m(mt)||E(mt)||f(mt)}function L(mt,Zt){mt.type===36193?(mt.data=T(Zt),ke.freeType(Zt)):mt.data=Zt}function A(mt,Zt,Qt,yr,sr,bt){if(mt=typeof me[mt]<"u"?me[mt]:vt[mt]*be[Zt],bt&&(mt*=6),sr){for(yr=0;1<=Qt;)yr+=mt*Qt*Qt,Qt/=2;return yr}return mt*Qt*yr}function k(mt,Zt,Qt,yr,sr,bt,lt){function Tt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ct(Tr,an){Tr.internalformat=an.internalformat,Tr.format=an.format,Tr.type=an.type,Tr.compressed=an.compressed,Tr.premultiplyAlpha=an.premultiplyAlpha,Tr.flipY=an.flipY,Tr.unpackAlignment=an.unpackAlignment,Tr.colorSpace=an.colorSpace,Tr.width=an.width,Tr.height=an.height,Tr.channels=an.channels}function It(Tr,an){if(typeof an=="object"&&an){"premultiplyAlpha"in an&&(Tr.premultiplyAlpha=an.premultiplyAlpha),"flipY"in an&&(Tr.flipY=an.flipY),"alignment"in an&&(Tr.unpackAlignment=an.alignment),"colorSpace"in an&&(Tr.colorSpace=hn[an.colorSpace]),"type"in an&&(Tr.type=nn[an.type]);var qr=Tr.width,gn=Tr.height,Hn=Tr.channels,An=!1;"shape"in an?(qr=an.shape[0],gn=an.shape[1],an.shape.length===3&&(Hn=an.shape[2],An=!0)):("radius"in an&&(qr=gn=an.radius),"width"in an&&(qr=an.width),"height"in an&&(gn=an.height),"channels"in an&&(Hn=an.channels,An=!0)),Tr.width=qr|0,Tr.height=gn|0,Tr.channels=Hn|0,qr=!1,"format"in an&&(qr=an.format,gn=Tr.internalformat=Pn[qr],Tr.format=Ln[gn],qr in nn&&!("type"in an)&&(Tr.type=nn[qr]),qr in Cn&&(Tr.compressed=!0),qr=!0),!An&&qr?Tr.channels=vt[Tr.format]:An&&!qr&&Tr.channels!==ht[Tr.format]&&(Tr.format=Tr.internalformat=ht[Tr.channels])}}function Dt(Tr){mt.pixelStorei(37440,Tr.flipY),mt.pixelStorei(37441,Tr.premultiplyAlpha),mt.pixelStorei(37443,Tr.colorSpace),mt.pixelStorei(3317,Tr.unpackAlignment)}function Vt(){Tt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Bt(Tr,an){var qr=null;if(s(an)?qr=an:an&&(It(Tr,an),"x"in an&&(Tr.xOffset=an.x|0),"y"in an&&(Tr.yOffset=an.y|0),s(an.data)&&(qr=an.data)),an.copy){var gn=sr.viewportWidth,Hn=sr.viewportHeight;Tr.width=Tr.width||gn-Tr.xOffset,Tr.height=Tr.height||Hn-Tr.yOffset,Tr.needsCopy=!0}else if(!qr)Tr.width=Tr.width||1,Tr.height=Tr.height||1,Tr.channels=Tr.channels||4;else if(Ee(qr))Tr.channels=Tr.channels||4,Tr.data=qr,"type"in an||Tr.type!==5121||(Tr.type=Ve[Object.prototype.toString.call(qr)]|0);else if(m(qr)){switch(Tr.channels=Tr.channels||4,gn=qr,Hn=gn.length,Tr.type){case 5121:case 5123:case 5125:case 5126:Hn=ke.allocType(Tr.type,Hn),Hn.set(gn),Tr.data=Hn;break;case 36193:Tr.data=T(gn)}Tr.alignment=1,Tr.needsFree=!0}else if(f(qr)){gn=qr.data,Array.isArray(gn)||Tr.type!==5121||(Tr.type=Ve[Object.prototype.toString.call(gn)]|0);var Hn=qr.shape,An=qr.stride,Sn,Un,$n,ya;Hn.length===3?($n=Hn[2],ya=An[2]):ya=$n=1,Sn=Hn[0],Un=Hn[1],Hn=An[0],An=An[1],Tr.alignment=1,Tr.width=Sn,Tr.height=Un,Tr.channels=$n,Tr.format=Tr.internalformat=ht[$n],Tr.needsFree=!0,Sn=ya,qr=qr.offset,$n=Tr.width,ya=Tr.height,Un=Tr.channels;for(var _a=ke.allocType(Tr.type===36193?5126:Tr.type,$n*ya*Un),Er=0,zr=0;zr<ya;++zr)for(var Sr=0;Sr<$n;++Sr)for(var Nr=0;Nr<Un;++Nr)_a[Er++]=gn[Hn*Sr+An*zr+Sn*Nr+qr];L(Tr,_a)}else if(b(qr)===At||b(qr)===tt||b(qr)===_e)b(qr)===At||b(qr)===tt?Tr.element=qr:Tr.element=qr.canvas,Tr.width=Tr.element.width,Tr.height=Tr.element.height,Tr.channels=4;else if(b(qr)===je)Tr.element=qr,Tr.width=qr.width,Tr.height=qr.height,Tr.channels=4;else if(b(qr)===Ke)Tr.element=qr,Tr.width=qr.naturalWidth,Tr.height=qr.naturalHeight,Tr.channels=4;else if(b(qr)===He)Tr.element=qr,Tr.width=qr.videoWidth,Tr.height=qr.videoHeight,Tr.channels=4;else if(E(qr)){for(gn=Tr.width||qr[0].length,Hn=Tr.height||qr.length,An=Tr.channels,An=S(qr[0][0])?An||qr[0][0].length:An||1,Sn=Re.shape(qr),$n=1,ya=0;ya<Sn.length;++ya)$n*=Sn[ya];$n=ke.allocType(Tr.type===36193?5126:Tr.type,$n),Re.flatten(qr,Sn,"",$n),L(Tr,$n),Tr.alignment=1,Tr.width=gn,Tr.height=Hn,Tr.channels=An,Tr.format=Tr.internalformat=ht[An],Tr.needsFree=!0}}function $t(Tr,an,qr,gn,Hn){var An=Tr.element,Sn=Tr.data,Un=Tr.internalformat,$n=Tr.format,ya=Tr.type,_a=Tr.width,Er=Tr.height;Dt(Tr),An?mt.texSubImage2D(an,Hn,qr,gn,$n,ya,An):Tr.compressed?mt.compressedTexSubImage2D(an,Hn,qr,gn,Un,_a,Er,Sn):Tr.needsCopy?(yr(),mt.copyTexSubImage2D(an,Hn,qr,gn,Tr.xOffset,Tr.yOffset,_a,Er)):mt.texSubImage2D(an,Hn,qr,gn,_a,Er,$n,ya,Sn)}function fr(){return zn.pop()||new Vt}function cr(Tr){Tr.needsFree&&ke.freeType(Tr.data),Vt.call(Tr),zn.push(Tr)}function dr(){Tt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ye(Tr,an,qr){var gn=Tr.images[0]=fr();Tr.mipmask=1,gn.width=Tr.width=an,gn.height=Tr.height=qr,gn.channels=Tr.channels=4}function Ge(Tr,an){var qr=null;if(s(an))qr=Tr.images[0]=fr(),Ct(qr,Tr),Bt(qr,an),Tr.mipmask=1;else if(It(Tr,an),Array.isArray(an.mipmap))for(var gn=an.mipmap,Hn=0;Hn<gn.length;++Hn)qr=Tr.images[Hn]=fr(),Ct(qr,Tr),qr.width>>=Hn,qr.height>>=Hn,Bt(qr,gn[Hn]),Tr.mipmask|=1<<Hn;else qr=Tr.images[0]=fr(),Ct(qr,Tr),Bt(qr,an),Tr.mipmask=1;Ct(Tr,Tr.images[0])}function zt(Tr,an){for(var qr=Tr.images,gn=0;gn<qr.length&&qr[gn];++gn){var Hn=qr[gn],An=an,Sn=gn,Un=Hn.element,$n=Hn.data,ya=Hn.internalformat,_a=Hn.format,Er=Hn.type,zr=Hn.width,Sr=Hn.height;Dt(Hn),Un?mt.texImage2D(An,Sn,_a,_a,Er,Un):Hn.compressed?mt.compressedTexImage2D(An,Sn,ya,zr,Sr,0,$n):Hn.needsCopy?(yr(),mt.copyTexImage2D(An,Sn,_a,Hn.xOffset,Hn.yOffset,zr,Sr,0)):mt.texImage2D(An,Sn,_a,zr,Sr,0,_a,Er,$n||null)}}function Ft(){var Tr=aa.pop()||new dr;Tt.call(Tr);for(var an=Tr.mipmask=0;16>an;++an)Tr.images[an]=null;return Tr}function Jt(Tr){for(var an=Tr.images,qr=0;qr<an.length;++qr)an[qr]&&cr(an[qr]),an[qr]=null;aa.push(Tr)}function tr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ur(Tr,an){"min"in an&&(Tr.minFilter=_r[an.min],0<=st.indexOf(Tr.minFilter)&&!("faces"in an)&&(Tr.genMipmaps=!0)),"mag"in an&&(Tr.magFilter=Dr[an.mag]);var qr=Tr.wrapS,gn=Tr.wrapT;if("wrap"in an){var Hn=an.wrap;typeof Hn=="string"?qr=gn=Gr[Hn]:Array.isArray(Hn)&&(qr=Gr[Hn[0]],gn=Gr[Hn[1]])}else"wrapS"in an&&(qr=Gr[an.wrapS]),"wrapT"in an&&(gn=Gr[an.wrapT]);if(Tr.wrapS=qr,Tr.wrapT=gn,"anisotropic"in an&&(Tr.anisotropic=an.anisotropic),"mipmap"in an){switch(qr=!1,typeof an.mipmap){case"string":Tr.mipmapHint=vr[an.mipmap],qr=Tr.genMipmaps=!0;break;case"boolean":qr=Tr.genMipmaps=an.mipmap;break;case"object":Tr.genMipmaps=!1,qr=!0}!qr||"min"in an||(Tr.minFilter=9984)}}function nr(Tr,an){mt.texParameteri(an,10241,Tr.minFilter),mt.texParameteri(an,10240,Tr.magFilter),mt.texParameteri(an,10242,Tr.wrapS),mt.texParameteri(an,10243,Tr.wrapT),Zt.ext_texture_filter_anisotropic&&mt.texParameteri(an,34046,Tr.anisotropic),Tr.genMipmaps&&(mt.hint(33170,Tr.mipmapHint),mt.generateMipmap(an))}function Nt(Tr){Tt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ha++,this.refCount=1,this.target=Tr,this.texture=mt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new tr,lt.profile&&(this.stats={size:0})}function hr(Tr){mt.activeTexture(33984),mt.bindTexture(Tr.target,Tr.texture)}function gr(){var Tr=na[0];Tr?mt.bindTexture(Tr.target,Tr.texture):mt.bindTexture(3553,null)}function br(Tr){var an=Tr.texture,qr=Tr.unit,gn=Tr.target;0<=qr&&(mt.activeTexture(33984+qr),mt.bindTexture(gn,null),na[qr]=null),mt.deleteTexture(an),Tr.texture=null,Tr.params=null,Tr.pixels=null,Tr.refCount=0,delete pa[Tr.id],bt.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Gr={repeat:10497,clamp:33071,mirror:33648},Dr={nearest:9728,linear:9729},_r=ie({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Dr),hn={none:0,browser:37444},nn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Pn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Cn={};Zt.ext_srgb&&(Pn.srgb=35904,Pn.srgba=35906),Zt.oes_texture_float&&(nn.float32=nn.float=5126),Zt.oes_texture_half_float&&(nn.float16=nn["half float"]=36193),Zt.webgl_depth_texture&&(ie(Pn,{depth:6402,"depth stencil":34041}),ie(nn,{uint16:5123,uint32:5125,"depth stencil":34042})),Zt.webgl_compressed_texture_s3tc&&ie(Cn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Zt.webgl_compressed_texture_atc&&ie(Cn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Zt.webgl_compressed_texture_pvrtc&&ie(Cn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Zt.webgl_compressed_texture_etc1&&(Cn["rgb etc1"]=36196);var Ar=Array.prototype.slice.call(mt.getParameter(34467));Object.keys(Cn).forEach(function(Tr){var an=Cn[Tr];0<=Ar.indexOf(an)&&(Pn[Tr]=an)});var Pr=Object.keys(Pn);Qt.textureFormats=Pr;var Wr=[];Object.keys(Pn).forEach(function(Tr){Wr[Pn[Tr]]=Tr});var Vr=[];Object.keys(nn).forEach(function(Tr){Vr[nn[Tr]]=Tr});var on=[];Object.keys(Dr).forEach(function(Tr){on[Dr[Tr]]=Tr});var yn=[];Object.keys(_r).forEach(function(Tr){yn[_r[Tr]]=Tr});var mn=[];Object.keys(Gr).forEach(function(Tr){mn[Gr[Tr]]=Tr});var Ln=Pr.reduce(function(Tr,an){var qr=Pn[an];return qr===6409||qr===6406||qr===6409||qr===6410||qr===6402||qr===34041||Zt.ext_srgb&&(qr===35904||qr===35906)?Tr[qr]=qr:qr===32855||0<=an.indexOf("rgba")?Tr[qr]=6408:Tr[qr]=6407,Tr},{}),zn=[],aa=[],ha=0,pa={},ua=Qt.maxTextureUnits,na=Array(ua).map(function(){return null});return ie(Nt.prototype,{bind:function(){this.bindCount+=1;var Tr=this.unit;if(0>Tr){for(var an=0;an<ua;++an){var qr=na[an];if(qr){if(0<qr.bindCount)continue;qr.unit=-1}na[an]=this,Tr=an;break}lt.profile&&bt.maxTextureUnits<Tr+1&&(bt.maxTextureUnits=Tr+1),this.unit=Tr,mt.activeTexture(33984+Tr),mt.bindTexture(this.target,this.texture)}return Tr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&br(this)}}),lt.profile&&(bt.getTotalTextureSize=function(){var Tr=0;return Object.keys(pa).forEach(function(an){Tr+=pa[an].stats.size}),Tr}),{create2D:function(Tr,an){function qr(Hn,An){var Sn=gn.texInfo;tr.call(Sn);var Un=Ft();return typeof Hn=="number"?typeof An=="number"?Ye(Un,Hn|0,An|0):Ye(Un,Hn|0,Hn|0):Hn?(ur(Sn,Hn),Ge(Un,Hn)):Ye(Un,1,1),Sn.genMipmaps&&(Un.mipmask=(Un.width<<1)-1),gn.mipmask=Un.mipmask,Ct(gn,Un),gn.internalformat=Un.internalformat,qr.width=Un.width,qr.height=Un.height,hr(gn),zt(Un,3553),nr(Sn,3553),gr(),Jt(Un),lt.profile&&(gn.stats.size=A(gn.internalformat,gn.type,Un.width,Un.height,Sn.genMipmaps,!1)),qr.format=Wr[gn.internalformat],qr.type=Vr[gn.type],qr.mag=on[Sn.magFilter],qr.min=yn[Sn.minFilter],qr.wrapS=mn[Sn.wrapS],qr.wrapT=mn[Sn.wrapT],qr}var gn=new Nt(3553);return pa[gn.id]=gn,bt.textureCount++,qr(Tr,an),qr.subimage=function(Hn,An,Sn,Un){An|=0,Sn|=0,Un|=0;var $n=fr();return Ct($n,gn),$n.width=0,$n.height=0,Bt($n,Hn),$n.width=$n.width||(gn.width>>Un)-An,$n.height=$n.height||(gn.height>>Un)-Sn,hr(gn),$t($n,3553,An,Sn,Un),gr(),cr($n),qr},qr.resize=function(Hn,An){var Sn=Hn|0,Un=An|0||Sn;if(Sn===gn.width&&Un===gn.height)return qr;qr.width=gn.width=Sn,qr.height=gn.height=Un,hr(gn);for(var $n=0;gn.mipmask>>$n;++$n){var ya=Sn>>$n,_a=Un>>$n;if(!ya||!_a)break;mt.texImage2D(3553,$n,gn.format,ya,_a,0,gn.format,gn.type,null)}return gr(),lt.profile&&(gn.stats.size=A(gn.internalformat,gn.type,Sn,Un,!1,!1)),qr},qr._reglType="texture2d",qr._texture=gn,lt.profile&&(qr.stats=gn.stats),qr.destroy=function(){gn.decRef()},qr},createCube:function(Tr,an,qr,gn,Hn,An){function Sn(ya,_a,Er,zr,Sr,Nr){var wn,kn=Un.texInfo;for(tr.call(kn),wn=0;6>wn;++wn)$n[wn]=Ft();if(typeof ya=="number"||!ya)for(ya=ya|0||1,wn=0;6>wn;++wn)Ye($n[wn],ya,ya);else if(typeof ya=="object")if(_a)Ge($n[0],ya),Ge($n[1],_a),Ge($n[2],Er),Ge($n[3],zr),Ge($n[4],Sr),Ge($n[5],Nr);else if(ur(kn,ya),It(Un,ya),"faces"in ya)for(ya=ya.faces,wn=0;6>wn;++wn)Ct($n[wn],Un),Ge($n[wn],ya[wn]);else for(wn=0;6>wn;++wn)Ge($n[wn],ya);for(Ct(Un,$n[0]),Un.mipmask=kn.genMipmaps?($n[0].width<<1)-1:$n[0].mipmask,Un.internalformat=$n[0].internalformat,Sn.width=$n[0].width,Sn.height=$n[0].height,hr(Un),wn=0;6>wn;++wn)zt($n[wn],34069+wn);for(nr(kn,34067),gr(),lt.profile&&(Un.stats.size=A(Un.internalformat,Un.type,Sn.width,Sn.height,kn.genMipmaps,!0)),Sn.format=Wr[Un.internalformat],Sn.type=Vr[Un.type],Sn.mag=on[kn.magFilter],Sn.min=yn[kn.minFilter],Sn.wrapS=mn[kn.wrapS],Sn.wrapT=mn[kn.wrapT],wn=0;6>wn;++wn)Jt($n[wn]);return Sn}var Un=new Nt(34067);pa[Un.id]=Un,bt.cubeCount++;var $n=Array(6);return Sn(Tr,an,qr,gn,Hn,An),Sn.subimage=function(ya,_a,Er,zr,Sr){Er|=0,zr|=0,Sr|=0;var Nr=fr();return Ct(Nr,Un),Nr.width=0,Nr.height=0,Bt(Nr,_a),Nr.width=Nr.width||(Un.width>>Sr)-Er,Nr.height=Nr.height||(Un.height>>Sr)-zr,hr(Un),$t(Nr,34069+ya,Er,zr,Sr),gr(),cr(Nr),Sn},Sn.resize=function(ya){if(ya|=0,ya!==Un.width){Sn.width=Un.width=ya,Sn.height=Un.height=ya,hr(Un);for(var _a=0;6>_a;++_a)for(var Er=0;Un.mipmask>>Er;++Er)mt.texImage2D(34069+_a,Er,Un.format,ya>>Er,ya>>Er,0,Un.format,Un.type,null);return gr(),lt.profile&&(Un.stats.size=A(Un.internalformat,Un.type,Sn.width,Sn.height,!1,!0)),Sn}},Sn._reglType="textureCube",Sn._texture=Un,lt.profile&&(Sn.stats=Un.stats),Sn.destroy=function(){Un.decRef()},Sn},clear:function(){for(var Tr=0;Tr<ua;++Tr)mt.activeTexture(33984+Tr),mt.bindTexture(3553,null),na[Tr]=null;xe(pa).forEach(br),bt.cubeCount=0,bt.textureCount=0},getTexture:function(Tr){return null},restore:function(){for(var Tr=0;Tr<ua;++Tr){var an=na[Tr];an&&(an.bindCount=0,an.unit=-1,na[Tr]=null)}xe(pa).forEach(function(qr){qr.texture=mt.createTexture(),mt.bindTexture(qr.target,qr.texture);for(var gn=0;32>gn;++gn)if(qr.mipmask&1<<gn)if(qr.target===3553)mt.texImage2D(3553,gn,qr.internalformat,qr.width>>gn,qr.height>>gn,0,qr.internalformat,qr.type,null);else for(var Hn=0;6>Hn;++Hn)mt.texImage2D(34069+Hn,gn,qr.internalformat,qr.width>>gn,qr.height>>gn,0,qr.internalformat,qr.type,null);nr(qr.texInfo,qr.target)})},refresh:function(){for(var Tr=0;Tr<ua;++Tr){var an=na[Tr];an&&(an.bindCount=0,an.unit=-1,na[Tr]=null),mt.activeTexture(33984+Tr),mt.bindTexture(3553,null),mt.bindTexture(34067,null)}}}}function _(mt,Zt,Qt,yr,sr,bt){function lt(Nt,hr,gr){this.target=Nt,this.texture=hr,this.renderbuffer=gr;var br=Nt=0;hr?(Nt=hr.width,br=hr.height):gr&&(Nt=gr.width,br=gr.height),this.width=Nt,this.height=br}function Tt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function Ct(Nt,hr,gr){Nt&&(Nt.texture?Nt.texture._texture.refCount+=1:Nt.renderbuffer._renderbuffer.refCount+=1)}function It(Nt,hr){hr&&(hr.texture?mt.framebufferTexture2D(36160,Nt,hr.target,hr.texture._texture.texture,0):mt.framebufferRenderbuffer(36160,Nt,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function Dt(Nt){var hr=3553,gr=null,br=null,vr=Nt;return typeof Nt=="object"&&(vr=Nt.data,"target"in Nt&&(hr=Nt.target|0)),Nt=vr._reglType,Nt==="texture2d"||Nt==="textureCube"?gr=vr:Nt==="renderbuffer"&&(br=vr,hr=36161),new lt(hr,gr,br)}function Vt(Nt,hr,gr,br,vr){return gr?(Nt=yr.create2D({width:Nt,height:hr,format:br,type:vr}),Nt._texture.refCount=0,new lt(3553,Nt,null)):(Nt=sr.create({width:Nt,height:hr,format:br}),Nt._renderbuffer.refCount=0,new lt(36161,null,Nt))}function Bt(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function $t(Nt,hr,gr){Nt&&(Nt.texture?Nt.texture.resize(hr,gr):Nt.renderbuffer&&Nt.renderbuffer.resize(hr,gr),Nt.width=hr,Nt.height=gr)}function fr(){this.id=ur++,nr[this.id]=this,this.framebuffer=mt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Nt){Nt.colorAttachments.forEach(Tt),Tt(Nt.depthAttachment),Tt(Nt.stencilAttachment),Tt(Nt.depthStencilAttachment)}function dr(Nt){mt.deleteFramebuffer(Nt.framebuffer),Nt.framebuffer=null,bt.framebufferCount--,delete nr[Nt.id]}function Ye(Nt){var hr;mt.bindFramebuffer(36160,Nt.framebuffer);var gr=Nt.colorAttachments;for(hr=0;hr<gr.length;++hr)It(36064+hr,gr[hr]);for(hr=gr.length;hr<Qt.maxColorAttachments;++hr)mt.framebufferTexture2D(36160,36064+hr,3553,null,0);mt.framebufferTexture2D(36160,33306,3553,null,0),mt.framebufferTexture2D(36160,36096,3553,null,0),mt.framebufferTexture2D(36160,36128,3553,null,0),It(36096,Nt.depthAttachment),It(36128,Nt.stencilAttachment),It(33306,Nt.depthStencilAttachment),mt.checkFramebufferStatus(36160),mt.isContextLost(),mt.bindFramebuffer(36160,zt.next?zt.next.framebuffer:null),zt.cur=zt.next,mt.getError()}function Ge(Nt,hr){function gr(vr,Gr){var Dr,_r=0,hn=0,nn=!0,Pn=!0;Dr=null;var Cn=!0,Ar="rgba",Pr="uint8",Wr=1,Vr=null,on=null,yn=null,mn=!1;typeof vr=="number"?(_r=vr|0,hn=Gr|0||_r):vr?("shape"in vr?(hn=vr.shape,_r=hn[0],hn=hn[1]):("radius"in vr&&(_r=hn=vr.radius),"width"in vr&&(_r=vr.width),"height"in vr&&(hn=vr.height)),("color"in vr||"colors"in vr)&&(Dr=vr.color||vr.colors),Dr||("colorCount"in vr&&(Wr=vr.colorCount|0),"colorTexture"in vr&&(Cn=!!vr.colorTexture,Ar="rgba4"),"colorType"in vr&&(Pr=vr.colorType,!Cn)&&(Pr==="half float"||Pr==="float16"?Ar="rgba16f":(Pr==="float"||Pr==="float32")&&(Ar="rgba32f")),"colorFormat"in vr&&(Ar=vr.colorFormat,0<=Ft.indexOf(Ar)?Cn=!0:0<=Jt.indexOf(Ar)&&(Cn=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(mn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?nn=vr.depth:(Vr=vr.depth,Pn=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?Pn=vr.stencil:(on=vr.stencil,nn=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?nn=Pn=vr.depthStencil:(yn=vr.depthStencil,Pn=nn=!1))):_r=hn=1;var Ln=null,zn=null,aa=null,ha=null;if(Array.isArray(Dr))Ln=Dr.map(Dt);else if(Dr)Ln=[Dt(Dr)];else for(Ln=Array(Wr),Dr=0;Dr<Wr;++Dr)Ln[Dr]=Vt(_r,hn,Cn,Ar,Pr);for(_r=_r||Ln[0].width,hn=hn||Ln[0].height,Vr?zn=Dt(Vr):nn&&!Pn&&(zn=Vt(_r,hn,mn,"depth","uint32")),on?aa=Dt(on):Pn&&!nn&&(aa=Vt(_r,hn,!1,"stencil","uint8")),yn?ha=Dt(yn):!Vr&&!on&&Pn&&nn&&(ha=Vt(_r,hn,mn,"depth stencil","depth stencil")),nn=null,Dr=0;Dr<Ln.length;++Dr)Ct(Ln[Dr]),Ln[Dr]&&Ln[Dr].texture&&(Pn=ze[Ln[Dr].texture._texture.format]*Je[Ln[Dr].texture._texture.type],nn===null&&(nn=Pn));return Ct(zn),Ct(aa),Ct(ha),cr(br),br.width=_r,br.height=hn,br.colorAttachments=Ln,br.depthAttachment=zn,br.stencilAttachment=aa,br.depthStencilAttachment=ha,gr.color=Ln.map(Bt),gr.depth=Bt(zn),gr.stencil=Bt(aa),gr.depthStencil=Bt(ha),gr.width=br.width,gr.height=br.height,Ye(br),gr}var br=new fr;return bt.framebufferCount++,gr(Nt,hr),ie(gr,{resize:function(vr,Gr){var Dr=Math.max(vr|0,1),_r=Math.max(Gr|0||Dr,1);if(Dr===br.width&&_r===br.height)return gr;for(var hn=br.colorAttachments,nn=0;nn<hn.length;++nn)$t(hn[nn],Dr,_r);return $t(br.depthAttachment,Dr,_r),$t(br.stencilAttachment,Dr,_r),$t(br.depthStencilAttachment,Dr,_r),br.width=gr.width=Dr,br.height=gr.height=_r,Ye(br),gr},_reglType:"framebuffer",_framebuffer:br,destroy:function(){dr(br),cr(br)},use:function(vr){zt.setFBO({framebuffer:gr},vr)}})}var zt={cur:null,next:null,dirty:!1,setFBO:null},Ft=["rgba"],Jt=["rgba4","rgb565","rgb5 a1"];Zt.ext_srgb&&Jt.push("srgba"),Zt.ext_color_buffer_half_float&&Jt.push("rgba16f","rgb16f"),Zt.webgl_color_buffer_float&&Jt.push("rgba32f");var tr=["uint8"];Zt.oes_texture_half_float&&tr.push("half float","float16"),Zt.oes_texture_float&&tr.push("float","float32");var ur=0,nr={};return ie(zt,{getFramebuffer:function(Nt){return typeof Nt=="function"&&Nt._reglType==="framebuffer"&&(Nt=Nt._framebuffer,Nt instanceof fr)?Nt:null},create:Ge,createCube:function(Nt){function hr(br){var vr,Gr={color:null},Dr=0,_r=null;vr="rgba";var hn="uint8",nn=1;if(typeof br=="number"?Dr=br|0:br?("shape"in br?Dr=br.shape[0]:("radius"in br&&(Dr=br.radius|0),"width"in br?Dr=br.width|0:"height"in br&&(Dr=br.height|0)),("color"in br||"colors"in br)&&(_r=br.color||br.colors),_r||("colorCount"in br&&(nn=br.colorCount|0),"colorType"in br&&(hn=br.colorType),"colorFormat"in br&&(vr=br.colorFormat)),"depth"in br&&(Gr.depth=br.depth),"stencil"in br&&(Gr.stencil=br.stencil),"depthStencil"in br&&(Gr.depthStencil=br.depthStencil)):Dr=1,_r)if(Array.isArray(_r))for(br=[],vr=0;vr<_r.length;++vr)br[vr]=_r[vr];else br=[_r];else for(br=Array(nn),_r={radius:Dr,format:vr,type:hn},vr=0;vr<nn;++vr)br[vr]=yr.createCube(_r);for(Gr.color=Array(br.length),vr=0;vr<br.length;++vr)nn=br[vr],Dr=Dr||nn.width,Gr.color[vr]={target:34069,data:br[vr]};for(vr=0;6>vr;++vr){for(nn=0;nn<br.length;++nn)Gr.color[nn].target=34069+vr;0<vr&&(Gr.depth=gr[0].depth,Gr.stencil=gr[0].stencil,Gr.depthStencil=gr[0].depthStencil),gr[vr]?gr[vr](Gr):gr[vr]=Ge(Gr)}return ie(hr,{width:Dr,height:Dr,color:br})}var gr=Array(6);return hr(Nt),ie(hr,{faces:gr,resize:function(br){var vr=br|0;if(vr===hr.width)return hr;var Gr=hr.color;for(br=0;br<Gr.length;++br)Gr[br].resize(vr);for(br=0;6>br;++br)gr[br].resize(vr);return hr.width=hr.height=vr,hr},_reglType:"framebufferCube",destroy:function(){gr.forEach(function(br){br.destroy()})}})},clear:function(){xe(nr).forEach(dr)},restore:function(){zt.cur=null,zt.next=null,zt.dirty=!0,xe(nr).forEach(function(Nt){Nt.framebuffer=mt.createFramebuffer(),Ye(Nt)})}})}function U(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(mt,Zt,Qt,yr,sr,bt,lt){function Tt(Ye){if(Ye!==dr.currentVAO){var Ge=Zt.oes_vertex_array_object;Ye?Ge.bindVertexArrayOES(Ye.vao):Ge.bindVertexArrayOES(null),dr.currentVAO=Ye}}function Ct(Ye){if(Ye!==dr.currentVAO){if(Ye)Ye.bindAttrs();else{for(var Ge=Zt.angle_instanced_arrays,zt=0;zt<$t.length;++zt){var Ft=$t[zt];Ft.buffer?(mt.enableVertexAttribArray(zt),Ft.buffer.bind(),mt.vertexAttribPointer(zt,Ft.size,Ft.type,Ft.normalized,Ft.stride,Ft.offfset),Ge&&Ft.divisor&&Ge.vertexAttribDivisorANGLE(zt,Ft.divisor)):(mt.disableVertexAttribArray(zt),mt.vertexAttrib4f(zt,Ft.x,Ft.y,Ft.z,Ft.w))}lt.elements?mt.bindBuffer(34963,lt.elements.buffer.buffer):mt.bindBuffer(34963,null)}dr.currentVAO=Ye}}function It(){xe(cr).forEach(function(Ye){Ye.destroy()})}function Dt(){this.id=++fr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ye=Zt.oes_vertex_array_object;this.vao=Ye?Ye.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function Vt(){Zt.oes_vertex_array_object&&xe(cr).forEach(function(Ye){Ye.refresh()})}var Bt=Qt.maxAttributes,$t=Array(Bt);for(Qt=0;Qt<Bt;++Qt)$t[Qt]=new U;var fr=0,cr={},dr={Record:U,scope:{},state:$t,currentVAO:null,targetVAO:null,restore:Zt.oes_vertex_array_object?Vt:function(){},createVAO:function(Ye){function Ge(Ft){var Jt;Array.isArray(Ft)?(Jt=Ft,zt.elements&&zt.ownsElements&&zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1,zt.offset=0,zt.count=0,zt.instances=-1,zt.primitive=4):(Ft.elements?(Jt=Ft.elements,zt.ownsElements?(typeof Jt=="function"&&Jt._reglType==="elements"?zt.elements.destroy():zt.elements(Jt),zt.ownsElements=!1):bt.getElements(Ft.elements)?(zt.elements=Ft.elements,zt.ownsElements=!1):(zt.elements=bt.create(Ft.elements),zt.ownsElements=!0)):(zt.elements=null,zt.ownsElements=!1),Jt=Ft.attributes,zt.offset=0,zt.count=-1,zt.instances=-1,zt.primitive=4,zt.elements&&(zt.count=zt.elements._elements.vertCount,zt.primitive=zt.elements._elements.primType),"offset"in Ft&&(zt.offset=Ft.offset|0),"count"in Ft&&(zt.count=Ft.count|0),"instances"in Ft&&(zt.instances=Ft.instances|0),"primitive"in Ft&&(zt.primitive=at[Ft.primitive])),Ft={};var tr=zt.attributes;tr.length=Jt.length;for(var ur=0;ur<Jt.length;++ur){var nr=Jt[ur],Nt=tr[ur]=new U,hr=nr.data||nr;if(Array.isArray(hr)||Ee(hr)||f(hr)){var gr;zt.buffers[ur]&&(gr=zt.buffers[ur],Ee(hr)&&gr._buffer.byteLength>=hr.byteLength?gr.subdata(hr):(gr.destroy(),zt.buffers[ur]=null)),zt.buffers[ur]||(gr=zt.buffers[ur]=sr.create(nr,34962,!1,!0)),Nt.buffer=sr.getBuffer(gr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1,Ft[ur]=1}else sr.getBuffer(nr)?(Nt.buffer=sr.getBuffer(nr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1):sr.getBuffer(nr.buffer)?(Nt.buffer=sr.getBuffer(nr.buffer),Nt.size=(+nr.size||Nt.buffer.dimension)|0,Nt.normalized=!!nr.normalized||!1,Nt.type="type"in nr?Ue[nr.type]:Nt.buffer.dtype,Nt.offset=(nr.offset||0)|0,Nt.stride=(nr.stride||0)|0,Nt.divisor=(nr.divisor||0)|0,Nt.state=1):"x"in nr&&(Nt.x=+nr.x||0,Nt.y=+nr.y||0,Nt.z=+nr.z||0,Nt.w=+nr.w||0,Nt.state=2)}for(gr=0;gr<zt.buffers.length;++gr)!Ft[gr]&&zt.buffers[gr]&&(zt.buffers[gr].destroy(),zt.buffers[gr]=null);return zt.refresh(),Ge}var zt=new Dt;return yr.vaoCount+=1,Ge.destroy=function(){for(var Ft=0;Ft<zt.buffers.length;++Ft)zt.buffers[Ft]&&zt.buffers[Ft].destroy();zt.buffers.length=0,zt.ownsElements&&(zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1),zt.destroy()},Ge._vao=zt,Ge._reglType="vao",Ge(Ye)},getVAO:function(Ye){return typeof Ye=="function"&&Ye._vao?Ye._vao:null},destroyBuffer:function(Ye){for(var Ge=0;Ge<$t.length;++Ge){var zt=$t[Ge];zt.buffer===Ye&&(mt.disableVertexAttribArray(Ge),zt.buffer=null)}},setVAO:Zt.oes_vertex_array_object?Tt:Ct,clear:Zt.oes_vertex_array_object?It:function(){}};return Dt.prototype.bindAttrs=function(){for(var Ye=Zt.angle_instanced_arrays,Ge=this.attributes,zt=0;zt<Ge.length;++zt){var Ft=Ge[zt];Ft.buffer?(mt.enableVertexAttribArray(zt),mt.bindBuffer(34962,Ft.buffer.buffer),mt.vertexAttribPointer(zt,Ft.size,Ft.type,Ft.normalized,Ft.stride,Ft.offset),Ye&&Ft.divisor&&Ye.vertexAttribDivisorANGLE(zt,Ft.divisor)):(mt.disableVertexAttribArray(zt),mt.vertexAttrib4f(zt,Ft.x,Ft.y,Ft.z,Ft.w))}for(Ye=Ge.length;Ye<Bt;++Ye)mt.disableVertexAttribArray(Ye);(Ye=bt.getElements(this.elements))?mt.bindBuffer(34963,Ye.buffer.buffer):mt.bindBuffer(34963,null)},Dt.prototype.refresh=function(){var Ye=Zt.oes_vertex_array_object;Ye&&(Ye.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,Ye.bindVertexArrayOES(null))},Dt.prototype.destroy=function(){if(this.vao){var Ye=Zt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,Ye.bindVertexArrayOES(null)),Ye.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--yr.vaoCount)},dr}function z(mt,Zt,Qt,yr){function sr(fr,cr,dr,Ye){this.name=fr,this.id=cr,this.location=dr,this.info=Ye}function bt(fr,cr){for(var dr=0;dr<fr.length;++dr)if(fr[dr].id===cr.id){fr[dr].location=cr.location;return}fr.push(cr)}function lt(fr,cr,dr){dr=fr===35632?It:Dt;var Ye=dr[cr];if(!Ye){var Ge=Zt.str(cr),Ye=mt.createShader(fr);mt.shaderSource(Ye,Ge),mt.compileShader(Ye),dr[cr]=Ye}return Ye}function Tt(fr,cr){this.id=$t++,this.fragId=fr,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,yr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ct(fr,cr,dr){var Ye;Ye=lt(35632,fr.fragId);var Ge=lt(35633,fr.vertId);if(cr=fr.program=mt.createProgram(),mt.attachShader(cr,Ye),mt.attachShader(cr,Ge),dr)for(Ye=0;Ye<dr.length;++Ye)Ge=dr[Ye],mt.bindAttribLocation(cr,Ge[0],Ge[1]);mt.linkProgram(cr),Ge=mt.getProgramParameter(cr,35718),yr.profile&&(fr.stats.uniformsCount=Ge);var zt=fr.uniforms;for(Ye=0;Ye<Ge;++Ye)if(dr=mt.getActiveUniform(cr,Ye))if(1<dr.size)for(var Ft=0;Ft<dr.size;++Ft){var Jt=dr.name.replace("[0]","["+Ft+"]");bt(zt,new sr(Jt,Zt.id(Jt),mt.getUniformLocation(cr,Jt),dr))}else bt(zt,new sr(dr.name,Zt.id(dr.name),mt.getUniformLocation(cr,dr.name),dr));for(Ge=mt.getProgramParameter(cr,35721),yr.profile&&(fr.stats.attributesCount=Ge),fr=fr.attributes,Ye=0;Ye<Ge;++Ye)(dr=mt.getActiveAttrib(cr,Ye))&&bt(fr,new sr(dr.name,Zt.id(dr.name),mt.getAttribLocation(cr,dr.name),dr))}var It={},Dt={},Vt={},Bt=[],$t=0;return yr.profile&&(Qt.getMaxUniformsCount=function(){var fr=0;return Bt.forEach(function(cr){cr.stats.uniformsCount>fr&&(fr=cr.stats.uniformsCount)}),fr},Qt.getMaxAttributesCount=function(){var fr=0;return Bt.forEach(function(cr){cr.stats.attributesCount>fr&&(fr=cr.stats.attributesCount)}),fr}),{clear:function(){var fr=mt.deleteShader.bind(mt);xe(It).forEach(fr),It={},xe(Dt).forEach(fr),Dt={},Bt.forEach(function(cr){mt.deleteProgram(cr.program)}),Bt.length=0,Vt={},Qt.shaderCount=0},program:function(fr,cr,dr,Ye){var Ge=Vt[cr];Ge||(Ge=Vt[cr]={});var zt=Ge[fr];if(zt&&(zt.refCount++,!Ye))return zt;var Ft=new Tt(cr,fr);return Qt.shaderCount++,Ct(Ft,dr,Ye),zt||(Ge[fr]=Ft),Bt.push(Ft),ie(Ft,{destroy:function(){if(Ft.refCount--,0>=Ft.refCount){mt.deleteProgram(Ft.program);var Jt=Bt.indexOf(Ft);Bt.splice(Jt,1),Qt.shaderCount--}0>=Ge[Ft.vertId].refCount&&(mt.deleteShader(Dt[Ft.vertId]),delete Dt[Ft.vertId],delete Vt[Ft.fragId][Ft.vertId]),Object.keys(Vt[Ft.fragId]).length||(mt.deleteShader(It[Ft.fragId]),delete It[Ft.fragId],delete Vt[Ft.fragId])}})},restore:function(){It={},Dt={};for(var fr=0;fr<Bt.length;++fr)Ct(Bt[fr],null,Bt[fr].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:lt,frag:-1,vert:-1}}function B(mt,Zt,Qt,yr,sr,bt,lt){function Tt(It){var Dt;Dt=Zt.next===null?5121:Zt.next.colorAttachments[0].texture._texture.type;var Vt=0,Bt=0,$t=yr.framebufferWidth,fr=yr.framebufferHeight,cr=null;return Ee(It)?cr=It:It&&(Vt=It.x|0,Bt=It.y|0,$t=(It.width||yr.framebufferWidth-Vt)|0,fr=(It.height||yr.framebufferHeight-Bt)|0,cr=It.data||null),Qt(),It=$t*fr*4,cr||(Dt===5121?cr=new Uint8Array(It):Dt===5126&&(cr=cr||new Float32Array(It))),mt.pixelStorei(3333,4),mt.readPixels(Vt,Bt,$t,fr,6408,Dt,cr),cr}function Ct(It){var Dt;return Zt.setFBO({framebuffer:It.framebuffer},function(){Dt=Tt(It)}),Dt}return function(It){return It&&"framebuffer"in It?Ct(It):Tt(It)}}function N(mt){for(var Zt=Array(mt.length>>2),yr=0;yr<Zt.length;yr++)Zt[yr]=0;for(yr=0;yr<8*mt.length;yr+=8)Zt[yr>>5]|=(mt.charCodeAt(yr/8)&255)<<24-yr%32;var Qt=8*mt.length;mt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var yr=Array(64),sr,bt,lt,Tt,Ct,It,Dt,Vt,Bt,$t,fr;for(Zt[Qt>>5]|=128<<24-Qt%32,Zt[(Qt+64>>9<<4)+15]=Qt,Vt=0;Vt<Zt.length;Vt+=16){for(Qt=mt[0],sr=mt[1],bt=mt[2],lt=mt[3],Tt=mt[4],Ct=mt[5],It=mt[6],Dt=mt[7],Bt=0;64>Bt;Bt++){if(16>Bt)yr[Bt]=Zt[Bt+Vt];else{$t=Bt,fr=yr[Bt-2],fr=Q(fr,17)^Q(fr,19)^fr>>>10,fr=re(fr,yr[Bt-7]);var cr;cr=yr[Bt-15],cr=Q(cr,7)^Q(cr,18)^cr>>>3,yr[$t]=re(re(fr,cr),yr[Bt-16])}$t=Tt,$t=Q($t,6)^Q($t,11)^Q($t,25),$t=re(re(re(re(Dt,$t),Tt&Ct^~Tt&It),nt[Bt]),yr[Bt]),Dt=Qt,Dt=Q(Dt,2)^Q(Dt,13)^Q(Dt,22),fr=re(Dt,Qt&sr^Qt&bt^sr&bt),Dt=It,It=Ct,Ct=Tt,Tt=re(lt,$t),lt=bt,bt=sr,sr=Qt,Qt=re($t,fr)}mt[0]=re(Qt,mt[0]),mt[1]=re(sr,mt[1]),mt[2]=re(bt,mt[2]),mt[3]=re(lt,mt[3]),mt[4]=re(Tt,mt[4]),mt[5]=re(Ct,mt[5]),mt[6]=re(It,mt[6]),mt[7]=re(Dt,mt[7])}for(Zt="",yr=0;yr<32*mt.length;yr+=8)Zt+=String.fromCharCode(mt[yr>>5]>>>24-yr%32&255);return Zt}function V(mt){for(var Zt="",Qt,yr=0;yr<mt.length;yr++)Qt=mt.charCodeAt(yr),Zt+="0123456789abcdef".charAt(Qt>>>4&15)+"0123456789abcdef".charAt(Qt&15);return Zt}function W(mt){for(var Zt="",Qt=-1,yr,sr;++Qt<mt.length;)yr=mt.charCodeAt(Qt),sr=Qt+1<mt.length?mt.charCodeAt(Qt+1):0,55296<=yr&&56319>=yr&&56320<=sr&&57343>=sr&&(yr=65536+((yr&1023)<<10)+(sr&1023),Qt++),127>=yr?Zt+=String.fromCharCode(yr):2047>=yr?Zt+=String.fromCharCode(192|yr>>>6&31,128|yr&63):65535>=yr?Zt+=String.fromCharCode(224|yr>>>12&15,128|yr>>>6&63,128|yr&63):2097151>=yr&&(Zt+=String.fromCharCode(240|yr>>>18&7,128|yr>>>12&63,128|yr>>>6&63,128|yr&63));return Zt}function Q(mt,Zt){return mt>>>Zt|mt<<32-Zt}function re(mt,Zt){var Qt=(mt&65535)+(Zt&65535);return(mt>>16)+(Zt>>16)+(Qt>>16)<<16|Qt&65535}function ne(mt){return Array.prototype.slice.call(mt)}function fe(mt){return ne(mt).join("")}function $(mt){function Zt(){var Dt=[],Vt=[];return ie(function(){Dt.push.apply(Dt,ne(arguments))},{def:function(){var Bt="v"+sr++;return Vt.push(Bt),0<arguments.length&&(Dt.push(Bt,"="),Dt.push.apply(Dt,ne(arguments)),Dt.push(";")),Bt},toString:function(){return fe([0<Vt.length?"var "+Vt.join(",")+";":"",fe(Dt)])}})}function Qt(){function Dt(cr,dr){Bt(cr,dr,"=",Vt.def(cr,dr),";")}var Vt=Zt(),Bt=Zt(),$t=Vt.toString,fr=Bt.toString;return ie(function(){Vt.apply(Vt,ne(arguments))},{def:Vt.def,entry:Vt,exit:Bt,save:Dt,set:function(cr,dr,Ye){Dt(cr,dr),Vt(cr,dr,"=",Ye,";")},toString:function(){return $t()+fr()}})}var yr=mt&&mt.cache,sr=0,bt=[],lt=[],Tt=[],Ct=Zt(),It={};return{global:Ct,link:function(Dt,Vt){var Bt=Vt&&Vt.stable;if(!Bt){for(var $t=0;$t<lt.length;++$t)if(lt[$t]===Dt&&!Tt[$t])return bt[$t]}return $t="g"+sr++,bt.push($t),lt.push(Dt),Tt.push(Bt),$t},block:Zt,proc:function(Dt,Vt){function Bt(){var dr="a"+$t.length;return $t.push(dr),dr}var $t=[];Vt=Vt||0;for(var fr=0;fr<Vt;++fr)Bt();var fr=Qt(),cr=fr.toString;return It[Dt]=ie(fr,{arg:Bt,toString:function(){return fe(["function(",$t.join(),"){",cr(),"}"])}})},scope:Qt,cond:function(){var Dt=fe(arguments),Vt=Qt(),Bt=Qt(),$t=Vt.toString,fr=Bt.toString;return ie(Vt,{then:function(){return Vt.apply(Vt,ne(arguments)),this},else:function(){return Bt.apply(Bt,ne(arguments)),this},toString:function(){var cr=fr();return cr&&(cr="else{"+cr+"}"),fe(["if(",Dt,"){",$t(),"}",cr])}})},compile:function(){var Dt=['"use strict";',Ct,"return {"];Object.keys(It).forEach(function($t){Dt.push('"',$t,'":',It[$t].toString(),",")}),Dt.push("}");var Vt=fe(Dt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Bt;return yr&&(Bt=V(N(W(Vt))),yr[Bt])?yr[Bt].apply(null,lt):(Vt=Function.apply(null,bt.concat(Vt)),yr&&(yr[Bt]=Vt),Vt.apply(null,lt))}}}function X(mt){return Array.isArray(mt)||Ee(mt)||f(mt)}function oe(mt){return mt.sort(function(Zt,Qt){return Zt==="viewport"?-1:Qt==="viewport"?1:Zt<Qt?-1:1})}function Y(mt,Zt,Qt,yr){this.thisDep=mt,this.contextDep=Zt,this.propDep=Qt,this.append=yr}function ee(mt){return mt&&!(mt.thisDep||mt.contextDep||mt.propDep)}function se(mt){return new Y(!1,!1,!1,mt)}function q(mt,Zt){var Qt=mt.type;if(Qt===0)return Qt=mt.data.length,new Y(!0,1<=Qt,2<=Qt,Zt);if(Qt===4)return Qt=mt.data,new Y(Qt.thisDep,Qt.contextDep,Qt.propDep,Zt);if(Qt===5)return new Y(!1,!1,!1,Zt);if(Qt===6){for(var yr=Qt=!1,sr=!1,bt=0;bt<mt.data.length;++bt){var lt=mt.data[bt];lt.type===1?sr=!0:lt.type===2?yr=!0:lt.type===3?Qt=!0:lt.type===0?(Qt=!0,lt=lt.data,1<=lt&&(yr=!0),2<=lt&&(sr=!0)):lt.type===4&&(Qt=Qt||lt.data.thisDep,yr=yr||lt.data.contextDep,sr=sr||lt.data.propDep)}return new Y(Qt,yr,sr,Zt)}return new Y(Qt===3,Qt===2,Qt===1,Zt)}function K(mt,Zt,Qt,yr,sr,bt,lt,Tt,Ct,It,Dt,Vt,Bt,$t,fr,cr){function dr(Er){return Er.replace(".","_")}function Ye(Er,zr,Sr){var Nr=dr(Er);An.push(Er),Hn[Nr]=gn[Nr]=!!Sr,Sn[Nr]=zr}function Ge(Er,zr,Sr){var Nr=dr(Er);An.push(Er),Array.isArray(Sr)?(gn[Nr]=Sr.slice(),Hn[Nr]=Sr.slice()):gn[Nr]=Hn[Nr]=Sr,Un[Nr]=zr}function zt(){var Er=$({cache:fr}),zr=Er.link,Sr=Er.global;Er.id=_a++,Er.batchId="0";var Nr=zr($n),wn=Er.shared={props:"a0"};Object.keys($n).forEach(function(Zr){wn[Zr]=Sr.def(Nr,".",Zr)});var kn=Er.next={},vn=Er.current={};Object.keys(Un).forEach(function(Zr){Array.isArray(gn[Zr])&&(kn[Zr]=Sr.def(wn.next,".",Zr),vn[Zr]=Sr.def(wn.current,".",Zr))});var ln=Er.constants={};Object.keys(ya).forEach(function(Zr){ln[Zr]=Sr.def(JSON.stringify(ya[Zr]))}),Er.invoke=function(Zr,jr){switch(jr.type){case 0:var Qr=["this",wn.context,wn.props,Er.batchId];return Zr.def(zr(jr.data),".call(",Qr.slice(0,Math.max(jr.data.length+1,4)),")");case 1:return Zr.def(wn.props,jr.data);case 2:return Zr.def(wn.context,jr.data);case 3:return Zr.def("this",jr.data);case 4:return jr.data.append(Er,Zr),jr.data.ref;case 5:return jr.data.toString();case 6:return jr.data.map(function(Tn){return Er.invoke(Zr,Tn)})}},Er.attribCache={};var Cr={};return Er.scopeAttrib=function(Zr){if(Zr=Zt.id(Zr),Zr in Cr)return Cr[Zr];var jr=It.scope[Zr];return jr||(jr=It.scope[Zr]=new ua),Cr[Zr]=zr(jr)},Er}function Ft(Er){var zr=Er.static;Er=Er.dynamic;var Sr;if("profile"in zr){var Nr=!!zr.profile;Sr=se(function(kn,vn){return Nr}),Sr.enable=Nr}else if("profile"in Er){var wn=Er.profile;Sr=q(wn,function(kn,vn){return kn.invoke(vn,wn)})}return Sr}function Jt(Er,zr){var Sr=Er.static,Nr=Er.dynamic;if("framebuffer"in Sr){var wn=Sr.framebuffer;return wn?(wn=Tt.getFramebuffer(wn),se(function(vn,ln){var Cr=vn.link(wn),Zr=vn.shared;return ln.set(Zr.framebuffer,".next",Cr),Zr=Zr.context,ln.set(Zr,".framebufferWidth",Cr+".width"),ln.set(Zr,".framebufferHeight",Cr+".height"),Cr})):se(function(vn,ln){var Cr=vn.shared;return ln.set(Cr.framebuffer,".next","null"),Cr=Cr.context,ln.set(Cr,".framebufferWidth",Cr+".drawingBufferWidth"),ln.set(Cr,".framebufferHeight",Cr+".drawingBufferHeight"),"null"})}if("framebuffer"in Nr){var kn=Nr.framebuffer;return q(kn,function(vn,ln){var jr=vn.invoke(ln,kn),Cr=vn.shared,Zr=Cr.framebuffer,jr=ln.def(Zr,".getFramebuffer(",jr,")");return ln.set(Zr,".next",jr),Cr=Cr.context,ln.set(Cr,".framebufferWidth",jr+"?"+jr+".width:"+Cr+".drawingBufferWidth"),ln.set(Cr,".framebufferHeight",jr+"?"+jr+".height:"+Cr+".drawingBufferHeight"),jr})}return null}function tr(Er,zr,Sr){function Nr(ln){if(ln in wn){var Cr=wn[ln];ln=!0;var Zr=Cr.x|0,jr=Cr.y|0,Qr,Tn;return"width"in Cr?Qr=Cr.width|0:ln=!1,"height"in Cr?Tn=Cr.height|0:ln=!1,new Y(!ln&&zr&&zr.thisDep,!ln&&zr&&zr.contextDep,!ln&&zr&&zr.propDep,function(Dn,Vn){var Nn=Dn.shared.context,ma=Qr;"width"in Cr||(ma=Vn.def(Nn,".","framebufferWidth","-",Zr));var oa=Tn;return"height"in Cr||(oa=Vn.def(Nn,".","framebufferHeight","-",jr)),[Zr,jr,ma,oa]})}if(ln in kn){var Rn=kn[ln];return ln=q(Rn,function(Dn,Vn){var Pa=Dn.invoke(Vn,Rn),Nn=Dn.shared.context,ma=Vn.def(Pa,".x|0"),oa=Vn.def(Pa,".y|0"),ga=Vn.def('"width" in ',Pa,"?",Pa,".width|0:","(",Nn,".","framebufferWidth","-",ma,")"),Pa=Vn.def('"height" in ',Pa,"?",Pa,".height|0:","(",Nn,".","framebufferHeight","-",oa,")");return[ma,oa,ga,Pa]}),zr&&(ln.thisDep=ln.thisDep||zr.thisDep,ln.contextDep=ln.contextDep||zr.contextDep,ln.propDep=ln.propDep||zr.propDep),ln}return zr?new Y(zr.thisDep,zr.contextDep,zr.propDep,function(Dn,Vn){var Nn=Dn.shared.context;return[0,0,Vn.def(Nn,".","framebufferWidth"),Vn.def(Nn,".","framebufferHeight")]}):null}var wn=Er.static,kn=Er.dynamic;if(Er=Nr("viewport")){var vn=Er;Er=new Y(Er.thisDep,Er.contextDep,Er.propDep,function(ln,Cr){var Zr=vn.append(ln,Cr),jr=ln.shared.context;return Cr.set(jr,".viewportWidth",Zr[2]),Cr.set(jr,".viewportHeight",Zr[3]),Zr})}return{viewport:Er,scissor_box:Nr("scissor.box")}}function ur(Er,zr){var Sr=Er.static;if(typeof Sr.frag=="string"&&typeof Sr.vert=="string"){if(0<Object.keys(zr.dynamic).length)return null;var Sr=zr.static,Nr=Object.keys(Sr);if(0<Nr.length&&typeof Sr[Nr[0]]=="number"){for(var wn=[],kn=0;kn<Nr.length;++kn)wn.push([Sr[Nr[kn]]|0,Nr[kn]]);return wn}}return null}function nr(Er,zr,Sr){function Nr(Zr){if(Zr in wn){var jr=Zt.id(wn[Zr]);return Zr=se(function(){return jr}),Zr.id=jr,Zr}if(Zr in kn){var Qr=kn[Zr];return q(Qr,function(Tn,Rn){var Dn=Tn.invoke(Rn,Qr);return Rn.def(Tn.shared.strings,".id(",Dn,")")})}return null}var wn=Er.static,kn=Er.dynamic,vn=Nr("frag"),ln=Nr("vert"),Cr=null;return ee(vn)&&ee(ln)?(Cr=Dt.program(ln.id,vn.id,null,Sr),Er=se(function(Zr,jr){return Zr.link(Cr)})):Er=new Y(vn&&vn.thisDep||ln&&ln.thisDep,vn&&vn.contextDep||ln&&ln.contextDep,vn&&vn.propDep||ln&&ln.propDep,function(Zr,jr){var Qr=Zr.shared.shader,Tn;Tn=vn?vn.append(Zr,jr):jr.def(Qr,".","frag");var Rn;return Rn=ln?ln.append(Zr,jr):jr.def(Qr,".","vert"),jr.def(Qr+".program("+Rn+","+Tn+")")}),{frag:vn,vert:ln,progVar:Er,program:Cr}}function Nt(Er,zr){function Sr(Dn,Vn){if(Dn in Nr){var Nn=Nr[Dn]|0;return Vn?kn.offset=Nn:kn.instances=Nn,se(function(oa,ga){return Vn&&(oa.OFFSET=Nn),Nn})}if(Dn in wn){var ma=wn[Dn];return q(ma,function(oa,ga){var Pa=oa.invoke(ga,ma);return Vn&&(oa.OFFSET=Pa),Pa})}if(Vn){if(Cr)return se(function(oa,ga){return oa.OFFSET=0});if(vn)return new Y(ln.thisDep,ln.contextDep,ln.propDep,function(oa,ga){return ga.def(oa.shared.vao+".currentVAO?"+oa.shared.vao+".currentVAO.offset:0")})}else if(vn)return new Y(ln.thisDep,ln.contextDep,ln.propDep,function(oa,ga){return ga.def(oa.shared.vao+".currentVAO?"+oa.shared.vao+".currentVAO.instances:-1")});return null}var Nr=Er.static,wn=Er.dynamic,kn={},vn=!1,ln=function(){if("vao"in Nr){var Dn=Nr.vao;return Dn!==null&&It.getVAO(Dn)===null&&(Dn=It.createVAO(Dn)),vn=!0,kn.vao=Dn,se(function(Nn){var ma=It.getVAO(Dn);return ma?Nn.link(ma):"null"})}if("vao"in wn){vn=!0;var Vn=wn.vao;return q(Vn,function(Nn,ma){var oa=Nn.invoke(ma,Vn);return ma.def(Nn.shared.vao+".getVAO("+oa+")")})}return null}(),Cr=!1,Zr=function(){if("elements"in Nr){var Dn=Nr.elements;if(kn.elements=Dn,X(Dn)){var Vn=kn.elements=bt.create(Dn,!0),Dn=bt.getElements(Vn);Cr=!0}else Dn&&(Dn=bt.getElements(Dn),Cr=!0);return Vn=se(function(ma,oa){if(Dn){var ga=ma.link(Dn);return ma.ELEMENTS=ga}return ma.ELEMENTS=null}),Vn.value=Dn,Vn}if("elements"in wn){Cr=!0;var Nn=wn.elements;return q(Nn,function(ma,oa){var ga=ma.shared,pi=ga.isBufferArgs,ga=ga.elements,ri=ma.invoke(oa,Nn),Pa=oa.def("null"),pi=oa.def(pi,"(",ri,")"),ri=ma.cond(pi).then(Pa,"=",ga,".createStream(",ri,");").else(Pa,"=",ga,".getElements(",ri,");");return oa.entry(ri),oa.exit(ma.cond(pi).then(ga,".destroyStream(",Pa,");")),ma.ELEMENTS=Pa})}return vn?new Y(ln.thisDep,ln.contextDep,ln.propDep,function(ma,oa){return oa.def(ma.shared.vao+".currentVAO?"+ma.shared.elements+".getElements("+ma.shared.vao+".currentVAO.elements):null")}):null}(),jr=Sr("offset",!0),Qr=function(){if("primitive"in Nr){var Dn=Nr.primitive;return kn.primitive=Dn,se(function(Nn,ma){return at[Dn]})}if("primitive"in wn){var Vn=wn.primitive;return q(Vn,function(Nn,ma){var oa=Nn.constants.primTypes,ga=Nn.invoke(ma,Vn);return ma.def(oa,"[",ga,"]")})}return Cr?ee(Zr)?Zr.value?se(function(Nn,ma){return ma.def(Nn.ELEMENTS,".primType")}):se(function(){return 4}):new Y(Zr.thisDep,Zr.contextDep,Zr.propDep,function(Nn,ma){var oa=Nn.ELEMENTS;return ma.def(oa,"?",oa,".primType:",4)}):vn?new Y(ln.thisDep,ln.contextDep,ln.propDep,function(Nn,ma){return ma.def(Nn.shared.vao+".currentVAO?"+Nn.shared.vao+".currentVAO.primitive:4")}):null}(),Tn=function(){if("count"in Nr){var Dn=Nr.count|0;return kn.count=Dn,se(function(){return Dn})}if("count"in wn){var Vn=wn.count;return q(Vn,function(Nn,ma){return Nn.invoke(ma,Vn)})}return Cr?ee(Zr)?Zr?jr?new Y(jr.thisDep,jr.contextDep,jr.propDep,function(Nn,ma){return ma.def(Nn.ELEMENTS,".vertCount-",Nn.OFFSET)}):se(function(Nn,ma){return ma.def(Nn.ELEMENTS,".vertCount")}):se(function(){return-1}):new Y(Zr.thisDep||jr.thisDep,Zr.contextDep||jr.contextDep,Zr.propDep||jr.propDep,function(Nn,ma){var oa=Nn.ELEMENTS;return Nn.OFFSET?ma.def(oa,"?",oa,".vertCount-",Nn.OFFSET,":-1"):ma.def(oa,"?",oa,".vertCount:-1")}):vn?new Y(ln.thisDep,ln.contextDep,ln.propDep,function(Nn,ma){return ma.def(Nn.shared.vao,".currentVAO?",Nn.shared.vao,".currentVAO.count:-1")}):null}(),Rn=Sr("instances",!1);return{elements:Zr,primitive:Qr,count:Tn,instances:Rn,offset:jr,vao:ln,vaoActive:vn,elementsActive:Cr,static:kn}}function hr(Er,zr){var Sr=Er.static,Nr=Er.dynamic,wn={};return An.forEach(function(kn){function vn(Cr,Zr){if(kn in Sr){var jr=Cr(Sr[kn]);wn[ln]=se(function(){return jr})}else if(kn in Nr){var Qr=Nr[kn];wn[ln]=q(Qr,function(Tn,Rn){return Zr(Tn,Rn,Tn.invoke(Rn,Qr))})}}var ln=dr(kn);switch(kn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return vn(function(Cr){return Cr},function(Cr,Zr,jr){return jr});case"depth.func":return vn(function(Cr){return Xt[Cr]},function(Cr,Zr,jr){return Zr.def(Cr.constants.compareFuncs,"[",jr,"]")});case"depth.range":return vn(function(Cr){return Cr},function(Cr,Zr,jr){return Cr=Zr.def("+",jr,"[0]"),Zr=Zr.def("+",jr,"[1]"),[Cr,Zr]});case"blend.func":return vn(function(Cr){return[Yt["srcRGB"in Cr?Cr.srcRGB:Cr.src],Yt["dstRGB"in Cr?Cr.dstRGB:Cr.dst],Yt["srcAlpha"in Cr?Cr.srcAlpha:Cr.src],Yt["dstAlpha"in Cr?Cr.dstAlpha:Cr.dst]]},function(Cr,Zr,jr){function Qr(Vn,Nn){return Zr.def('"',Vn,Nn,'" in ',jr,"?",jr,".",Vn,Nn,":",jr,".",Vn)}Cr=Cr.constants.blendFuncs;var Tn=Qr("src","RGB"),Dn=Qr("dst","RGB"),Tn=Zr.def(Cr,"[",Tn,"]"),Rn=Zr.def(Cr,"[",Qr("src","Alpha"),"]"),Dn=Zr.def(Cr,"[",Dn,"]");return Cr=Zr.def(Cr,"[",Qr("dst","Alpha"),"]"),[Tn,Dn,Rn,Cr]});case"blend.equation":return vn(function(Cr){if(typeof Cr=="string")return[na[Cr],na[Cr]];if(typeof Cr=="object")return[na[Cr.rgb],na[Cr.alpha]]},function(Cr,Zr,jr){var Qr=Cr.constants.blendEquations,Tn=Zr.def(),Rn=Zr.def();return Cr=Cr.cond("typeof ",jr,'==="string"'),Cr.then(Tn,"=",Rn,"=",Qr,"[",jr,"];"),Cr.else(Tn,"=",Qr,"[",jr,".rgb];",Rn,"=",Qr,"[",jr,".alpha];"),Zr(Cr),[Tn,Rn]});case"blend.color":return vn(function(Cr){return i(4,function(Zr){return+Cr[Zr]})},function(Cr,Zr,jr){return i(4,function(Qr){return Zr.def("+",jr,"[",Qr,"]")})});case"stencil.mask":return vn(function(Cr){return Cr|0},function(Cr,Zr,jr){return Zr.def(jr,"|0")});case"stencil.func":return vn(function(Cr){return[Xt[Cr.cmp||"keep"],Cr.ref||0,"mask"in Cr?Cr.mask:-1]},function(Cr,Zr,jr){Cr=Zr.def('"cmp" in ',jr,"?",Cr.constants.compareFuncs,"[",jr,".cmp]",":",7680);var Qr=Zr.def(jr,".ref|0");return Zr=Zr.def('"mask" in ',jr,"?",jr,".mask|0:-1"),[Cr,Qr,Zr]});case"stencil.opFront":case"stencil.opBack":return vn(function(Cr){return[kn==="stencil.opBack"?1029:1028,St[Cr.fail||"keep"],St[Cr.zfail||"keep"],St[Cr.zpass||"keep"]]},function(Cr,Zr,jr){function Qr(Rn){return Zr.def('"',Rn,'" in ',jr,"?",Tn,"[",jr,".",Rn,"]:",7680)}var Tn=Cr.constants.stencilOps;return[kn==="stencil.opBack"?1029:1028,Qr("fail"),Qr("zfail"),Qr("zpass")]});case"polygonOffset.offset":return vn(function(Cr){return[Cr.factor|0,Cr.units|0]},function(Cr,Zr,jr){return Cr=Zr.def(jr,".factor|0"),Zr=Zr.def(jr,".units|0"),[Cr,Zr]});case"cull.face":return vn(function(Cr){var Zr=0;return Cr==="front"?Zr=1028:Cr==="back"&&(Zr=1029),Zr},function(Cr,Zr,jr){return Zr.def(jr,'==="front"?',1028,":",1029)});case"lineWidth":return vn(function(Cr){return Cr},function(Cr,Zr,jr){return jr});case"frontFace":return vn(function(Cr){return kt[Cr]},function(Cr,Zr,jr){return Zr.def(jr+'==="cw"?2304:2305')});case"colorMask":return vn(function(Cr){return Cr.map(function(Zr){return!!Zr})},function(Cr,Zr,jr){return i(4,function(Qr){return"!!"+jr+"["+Qr+"]"})});case"sample.coverage":return vn(function(Cr){return["value"in Cr?Cr.value:1,!!Cr.invert]},function(Cr,Zr,jr){return Cr=Zr.def('"value" in ',jr,"?+",jr,".value:1"),Zr=Zr.def("!!",jr,".invert"),[Cr,Zr]})}}),wn}function gr(Er,zr){var Sr=Er.static,Nr=Er.dynamic,wn={};return Object.keys(Sr).forEach(function(kn){var vn=Sr[kn],ln;if(typeof vn=="number"||typeof vn=="boolean")ln=se(function(){return vn});else if(typeof vn=="function"){var Cr=vn._reglType;Cr==="texture2d"||Cr==="textureCube"?ln=se(function(Zr){return Zr.link(vn)}):(Cr==="framebuffer"||Cr==="framebufferCube")&&(ln=se(function(Zr){return Zr.link(vn.color[0])}))}else S(vn)&&(ln=se(function(Zr){return Zr.global.def("[",i(vn.length,function(jr){return vn[jr]}),"]")}));ln.value=vn,wn[kn]=ln}),Object.keys(Nr).forEach(function(kn){var vn=Nr[kn];wn[kn]=q(vn,function(ln,Cr){return ln.invoke(Cr,vn)})}),wn}function br(Er,zr){var Sr=Er.static,Nr=Er.dynamic,wn={};return Object.keys(Sr).forEach(function(kn){var vn=Sr[kn],ln=Zt.id(kn),Cr=new ua;if(X(vn))Cr.state=1,Cr.buffer=sr.getBuffer(sr.create(vn,34962,!1,!0)),Cr.type=0;else{var Zr=sr.getBuffer(vn);if(Zr)Cr.state=1,Cr.buffer=Zr,Cr.type=0;else if("constant"in vn){var jr=vn.constant;Cr.buffer="null",Cr.state=2,typeof jr=="number"?Cr.x=jr:pt.forEach(function(Nn,ma){ma<jr.length&&(Cr[Nn]=jr[ma])})}else{var Zr=X(vn.buffer)?sr.getBuffer(sr.create(vn.buffer,34962,!1,!0)):sr.getBuffer(vn.buffer),Qr=vn.offset|0,Tn=vn.stride|0,Rn=vn.size|0,Dn=!!vn.normalized,Vn=0;"type"in vn&&(Vn=Ue[vn.type]),vn=vn.divisor|0,Cr.buffer=Zr,Cr.state=1,Cr.size=Rn,Cr.normalized=Dn,Cr.type=Vn||Zr.dtype,Cr.offset=Qr,Cr.stride=Tn,Cr.divisor=vn}}wn[kn]=se(function(Nn,ma){var oa=Nn.attribCache;if(ln in oa)return oa[ln];var ga={isStream:!1};return Object.keys(Cr).forEach(function(Pa){ga[Pa]=Cr[Pa]}),Cr.buffer&&(ga.buffer=Nn.link(Cr.buffer),ga.type=ga.type||ga.buffer+".dtype"),oa[ln]=ga})}),Object.keys(Nr).forEach(function(kn){var vn=Nr[kn];wn[kn]=q(vn,function(ln,Cr){function Zr(oa){Cr(Dn[oa],"=",jr,".",oa,"|0;")}var jr=ln.invoke(Cr,vn),Rn=ln.shared,Qr=ln.constants,Tn=Rn.isBufferArgs,Rn=Rn.buffer,Dn={isStream:Cr.def(!1)},Vn=new ua;Vn.state=1,Object.keys(Vn).forEach(function(oa){Dn[oa]=Cr.def(""+Vn[oa])});var Nn=Dn.buffer,ma=Dn.type;return Cr("if(",Tn,"(",jr,")){",Dn.isStream,"=true;",Nn,"=",Rn,".createStream(",34962,",",jr,");",ma,"=",Nn,".dtype;","}else{",Nn,"=",Rn,".getBuffer(",jr,");","if(",Nn,"){",ma,"=",Nn,".dtype;",'}else if("constant" in ',jr,"){",Dn.state,"=",2,";","if(typeof "+jr+'.constant === "number"){',Dn[pt[0]],"=",jr,".constant;",pt.slice(1).map(function(oa){return Dn[oa]}).join("="),"=0;","}else{",pt.map(function(oa,ga){return Dn[oa]+"="+jr+".constant.length>"+ga+"?"+jr+".constant["+ga+"]:0;"}).join(""),"}}else{","if(",Tn,"(",jr,".buffer)){",Nn,"=",Rn,".createStream(",34962,",",jr,".buffer);","}else{",Nn,"=",Rn,".getBuffer(",jr,".buffer);","}",ma,'="type" in ',jr,"?",Qr.glTypes,"[",jr,".type]:",Nn,".dtype;",Dn.normalized,"=!!",jr,".normalized;"),Zr("size"),Zr("offset"),Zr("stride"),Zr("divisor"),Cr("}}"),Cr.exit("if(",Dn.isStream,"){",Rn,".destroyStream(",Nn,");","}"),Dn})}),wn}function vr(Er){var zr=Er.static,Sr=Er.dynamic,Nr={};return Object.keys(zr).forEach(function(wn){var kn=zr[wn];Nr[wn]=se(function(vn,ln){return typeof kn=="number"||typeof kn=="boolean"?""+kn:vn.link(kn)})}),Object.keys(Sr).forEach(function(wn){var kn=Sr[wn];Nr[wn]=q(kn,function(vn,ln){return vn.invoke(ln,kn)})}),Nr}function Gr(Er,zr,Sr,Nr,wn){function kn(Vn){var Nn=ln[Vn];Nn&&(Zr[Vn]=Nn)}var vn=ur(Er,zr),Tn=Jt(Er),ln=tr(Er,Tn),Cr=Nt(Er),Zr=hr(Er),jr=nr(Er,wn,vn);kn("viewport"),kn(dr("scissor.box"));var Qr=0<Object.keys(Zr).length,Tn={framebuffer:Tn,draw:Cr,shader:jr,state:Zr,dirty:Qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Tn.profile=Ft(Er),Tn.uniforms=gr(Sr),Tn.drawVAO=Tn.scopeVAO=Cr.vao,!Tn.drawVAO&&jr.program&&!vn&&Qt.angle_instanced_arrays&&Cr.static.elements){var Rn=!0;if(Er=jr.program.attributes.map(function(Vn){return Vn=zr.static[Vn],Rn=Rn&&!!Vn,Vn}),Rn&&0<Er.length){var Dn=It.getVAO(It.createVAO({attributes:Er,elements:Cr.static.elements}));Tn.drawVAO=new Y(null,null,null,function(Vn,Nn){return Vn.link(Dn)}),Tn.useVAO=!0}}return vn?Tn.useVAO=!0:Tn.attributes=br(zr),Tn.context=vr(Nr),Tn}function Dr(Er,zr,Sr){var Nr=Er.shared.context,wn=Er.scope();Object.keys(Sr).forEach(function(kn){zr.save(Nr,"."+kn);var vn=Sr[kn].append(Er,zr);Array.isArray(vn)?wn(Nr,".",kn,"=[",vn.join(),"];"):wn(Nr,".",kn,"=",vn,";")}),zr(wn)}function _r(Er,zr,Sr,Nr){var ln=Er.shared,wn=ln.gl,kn=ln.framebuffer,vn;an&&(vn=zr.def(ln.extensions,".webgl_draw_buffers"));var Cr=Er.constants,ln=Cr.drawBuffer,Cr=Cr.backBuffer;Er=Sr?Sr.append(Er,zr):zr.def(kn,".next"),Nr||zr("if(",Er,"!==",kn,".cur){"),zr("if(",Er,"){",wn,".bindFramebuffer(",36160,",",Er,".framebuffer);"),an&&zr(vn,".drawBuffersWEBGL(",ln,"[",Er,".colorAttachments.length]);"),zr("}else{",wn,".bindFramebuffer(",36160,",null);"),an&&zr(vn,".drawBuffersWEBGL(",Cr,");"),zr("}",kn,".cur=",Er,";"),Nr||zr("}")}function hn(Er,zr,Sr){var Nr=Er.shared,wn=Nr.gl,kn=Er.current,vn=Er.next,ln=Nr.current,Cr=Nr.next,Zr=Er.cond(ln,".dirty");An.forEach(function(jr){if(jr=dr(jr),!(jr in Sr.state)){var Qr,Tn;if(jr in vn){Qr=vn[jr],Tn=kn[jr];var Rn=i(gn[jr].length,function(Dn){return Zr.def(Qr,"[",Dn,"]")});Zr(Er.cond(Rn.map(function(Dn,Vn){return Dn+"!=="+Tn+"["+Vn+"]"}).join("||")).then(wn,".",Un[jr],"(",Rn,");",Rn.map(function(Dn,Vn){return Tn+"["+Vn+"]="+Dn}).join(";"),";"))}else Qr=Zr.def(Cr,".",jr),Rn=Er.cond(Qr,"!==",ln,".",jr),Zr(Rn),jr in Sn?Rn(Er.cond(Qr).then(wn,".enable(",Sn[jr],");").else(wn,".disable(",Sn[jr],");"),ln,".",jr,"=",Qr,";"):Rn(wn,".",Un[jr],"(",Qr,");",ln,".",jr,"=",Qr,";")}}),Object.keys(Sr.state).length===0&&Zr(ln,".dirty=false;"),zr(Zr)}function nn(Er,zr,Sr,Nr){var wn=Er.shared,kn=Er.current,vn=wn.current,ln=wn.gl,Cr;oe(Object.keys(Sr)).forEach(function(Zr){var jr=Sr[Zr];if(!Nr||Nr(jr)){var Qr=jr.append(Er,zr);if(Sn[Zr]){var Tn=Sn[Zr];ee(jr)?(Cr=Er.link(Qr,{stable:!0}),zr(Er.cond(Cr).then(ln,".enable(",Tn,");").else(ln,".disable(",Tn,");")),zr(vn,".",Zr,"=",Cr,";")):(zr(Er.cond(Qr).then(ln,".enable(",Tn,");").else(ln,".disable(",Tn,");")),zr(vn,".",Zr,"=",Qr,";"))}else if(S(Qr)){var Rn=kn[Zr];zr(ln,".",Un[Zr],"(",Qr,");",Qr.map(function(Dn,Vn){return Rn+"["+Vn+"]="+Dn}).join(";"),";")}else ee(jr)?(Cr=Er.link(Qr,{stable:!0}),zr(ln,".",Un[Zr],"(",Cr,");",vn,".",Zr,"=",Cr,";")):zr(ln,".",Un[Zr],"(",Qr,");",vn,".",Zr,"=",Qr,";")}})}function Pn(Er,zr){Tr&&(Er.instancing=zr.def(Er.shared.extensions,".angle_instanced_arrays"))}function Cn(Er,zr,Sr,Nr,wn){function kn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function vn(Vn){Rn=zr.def(),Vn(Rn,"=",kn(),";"),typeof wn=="string"?Vn(jr,".count+=",wn,";"):Vn(jr,".count++;"),$t&&(Nr?(Dn=zr.def(),Vn(Dn,"=",Tn,".getNumPendingQueries();")):Vn(Tn,".beginQuery(",jr,");"))}function ln(Vn){Vn(jr,".cpuTime+=",kn(),"-",Rn,";"),$t&&(Nr?Vn(Tn,".pushScopeStats(",Dn,",",Tn,".getNumPendingQueries(),",jr,");"):Vn(Tn,".endQuery();"))}function Cr(Vn){var Nn=zr.def(Qr,".profile");zr(Qr,".profile=",Vn,";"),zr.exit(Qr,".profile=",Nn,";")}var Zr=Er.shared,jr=Er.stats,Qr=Zr.current,Tn=Zr.timer;Sr=Sr.profile;var Rn,Dn;if(Sr){if(ee(Sr)){Sr.enable?(vn(zr),ln(zr.exit),Cr("true")):Cr("false");return}Sr=Sr.append(Er,zr),Cr(Sr)}else Sr=zr.def(Qr,".profile");Zr=Er.block(),vn(Zr),zr("if(",Sr,"){",Zr,"}"),Er=Er.block(),ln(Er),zr.exit("if(",Sr,"){",Er,"}")}function Ar(Er,zr,Sr,Nr,wn){function kn(Cr){switch(Cr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function vn(Cr,Zr,jr){function Qr(){zr("if(!",Vn,".buffer){",Rn,".enableVertexAttribArray(",Dn,");}");var ga=jr.type,Pa;Pa=jr.size?zr.def(jr.size,"||",Zr):Zr,zr("if(",Vn,".type!==",ga,"||",Vn,".size!==",Pa,"||",oa.map(function(pi){return Vn+"."+pi+"!=="+jr[pi]}).join("||"),"){",Rn,".bindBuffer(",34962,",",Nn,".buffer);",Rn,".vertexAttribPointer(",[Dn,Pa,ga,jr.normalized,jr.stride,jr.offset],");",Vn,".type=",ga,";",Vn,".size=",Pa,";",oa.map(function(pi){return Vn+"."+pi+"="+jr[pi]+";"}).join(""),"}"),Tr&&(ga=jr.divisor,zr("if(",Vn,".divisor!==",ga,"){",Er.instancing,".vertexAttribDivisorANGLE(",[Dn,ga],");",Vn,".divisor=",ga,";}"))}function Tn(){zr("if(",Vn,".buffer){",Rn,".disableVertexAttribArray(",Dn,");",Vn,".buffer=null;","}if(",pt.map(function(ga,Pa){return Vn+"."+ga+"!=="+ma[Pa]}).join("||"),"){",Rn,".vertexAttrib4f(",Dn,",",ma,");",pt.map(function(ga,Pa){return Vn+"."+ga+"="+ma[Pa]+";"}).join(""),"}")}var Rn=ln.gl,Dn=zr.def(Cr,".location"),Vn=zr.def(ln.attributes,"[",Dn,"]");Cr=jr.state;var Nn=jr.buffer,ma=[jr.x,jr.y,jr.z,jr.w],oa=["buffer","normalized","offset","stride"];Cr===1?Qr():Cr===2?Tn():(zr("if(",Cr,"===",1,"){"),Qr(),zr("}else{"),Tn(),zr("}"))}var ln=Er.shared;Nr.forEach(function(Cr){var Zr=Cr.name,jr=Sr.attributes[Zr],Qr;if(jr){if(!wn(jr))return;Qr=jr.append(Er,zr)}else{if(!wn(Kt))return;var Tn=Er.scopeAttrib(Zr);Qr={},Object.keys(new ua).forEach(function(Rn){Qr[Rn]=zr.def(Tn,".",Rn)})}vn(Er.link(Cr),kn(Cr.info.type),Qr)})}function Pr(Er,zr,Sr,Nr,wn,kn){for(var vn=Er.shared,ln=vn.gl,Cr,Zr=0;Zr<Nr.length;++Zr){var Rn=Nr[Zr],jr=Rn.name,Qr=Rn.info.type,Tn=Sr.uniforms[jr],Rn=Er.link(Rn)+".location",Dn;if(Tn){if(!wn(Tn))continue;if(ee(Tn)){if(jr=Tn.value,Qr===35678||Qr===35680)Qr=Er.link(jr._texture||jr.color[0]._texture),zr(ln,".uniform1i(",Rn,",",Qr+".bind());"),zr.exit(Qr,".unbind();");else if(Qr===35674||Qr===35675||Qr===35676)jr=Er.global.def("new Float32Array(["+Array.prototype.slice.call(jr)+"])"),Tn=2,Qr===35675?Tn=3:Qr===35676&&(Tn=4),zr(ln,".uniformMatrix",Tn,"fv(",Rn,",false,",jr,");");else{switch(Qr){case 5126:Cr="1f";break;case 35664:Cr="2f";break;case 35665:Cr="3f";break;case 35666:Cr="4f";break;case 35670:Cr="1i";break;case 5124:Cr="1i";break;case 35671:Cr="2i";break;case 35667:Cr="2i";break;case 35672:Cr="3i";break;case 35668:Cr="3i";break;case 35673:Cr="4i";break;case 35669:Cr="4i"}zr(ln,".uniform",Cr,"(",Rn,",",S(jr)?Array.prototype.slice.call(jr):jr,");")}continue}else Dn=Tn.append(Er,zr)}else{if(!wn(Kt))continue;Dn=zr.def(vn.uniforms,"[",Zt.id(jr),"]")}switch(Qr===35678?zr("if(",Dn,"&&",Dn,'._reglType==="framebuffer"){',Dn,"=",Dn,".color[0];","}"):Qr===35680&&zr("if(",Dn,"&&",Dn,'._reglType==="framebufferCube"){',Dn,"=",Dn,".color[0];","}"),jr=1,Qr){case 35678:case 35680:Qr=zr.def(Dn,"._texture"),zr(ln,".uniform1i(",Rn,",",Qr,".bind());"),zr.exit(Qr,".unbind();");continue;case 5124:case 35670:Cr="1i";break;case 35667:case 35671:Cr="2i",jr=2;break;case 35668:case 35672:Cr="3i",jr=3;break;case 35669:case 35673:Cr="4i",jr=4;break;case 5126:Cr="1f";break;case 35664:Cr="2f",jr=2;break;case 35665:Cr="3f",jr=3;break;case 35666:Cr="4f",jr=4;break;case 35674:Cr="Matrix2fv";break;case 35675:Cr="Matrix3fv";break;case 35676:Cr="Matrix4fv"}if(Cr.charAt(0)==="M"){zr(ln,".uniform",Cr,"(",Rn,",");var Rn=Math.pow(Qr-35674+2,2),Vn=Er.global.def("new Float32Array(",Rn,")");Array.isArray(Dn)?zr("false,(",i(Rn,function(oa){return Vn+"["+oa+"]="+Dn[oa]}),",",Vn,")"):zr("false,(Array.isArray(",Dn,")||",Dn," instanceof Float32Array)?",Dn,":(",i(Rn,function(oa){return Vn+"["+oa+"]="+Dn+"["+oa+"]"}),",",Vn,")"),zr(");")}else{if(1<jr){for(var Qr=[],Nn=[],Tn=0;Tn<jr;++Tn)Array.isArray(Dn)?Nn.push(Dn[Tn]):Nn.push(zr.def(Dn+"["+Tn+"]")),kn&&Qr.push(zr.def());kn&&zr("if(!",Er.batchId,"||",Qr.map(function(ma,oa){return ma+"!=="+Nn[oa]}).join("||"),"){",Qr.map(function(ma,oa){return ma+"="+Nn[oa]+";"}).join("")),zr(ln,".uniform",Cr,"(",Rn,",",Nn.join(","),");")}else kn&&(Qr=zr.def(),zr("if(!",Er.batchId,"||",Qr,"!==",Dn,"){",Qr,"=",Dn,";")),zr(ln,".uniform",Cr,"(",Rn,",",Dn,");");kn&&zr("}")}}}function Wr(Er,zr,Sr,Nr){function wn(ga){var Pa=jr[ga];return Pa?Pa.contextDep&&Nr.contextDynamic||Pa.propDep?Pa.append(Er,Sr):Pa.append(Er,zr):zr.def(Zr,".",ga)}function kn(){function ga(){Sr(Nn,".drawElementsInstancedANGLE(",[Tn,Dn,ma,Rn+"<<(("+ma+"-5121)>>1)",Vn],");")}function Pa(){Sr(Nn,".drawArraysInstancedANGLE(",[Tn,Rn,Dn,Vn],");")}Qr&&Qr!=="null"?oa?ga():(Sr("if(",Qr,"){"),ga(),Sr("}else{"),Pa(),Sr("}")):Pa()}function vn(){function ga(){Sr(Cr+".drawElements("+[Tn,Dn,ma,Rn+"<<(("+ma+"-5121)>>1)"]+");")}function Pa(){Sr(Cr+".drawArrays("+[Tn,Rn,Dn]+");")}Qr&&Qr!=="null"?oa?ga():(Sr("if(",Qr,"){"),ga(),Sr("}else{"),Pa(),Sr("}")):Pa()}var ln=Er.shared,Cr=ln.gl,Zr=ln.draw,jr=Nr.draw,Qr=function(){var ga=jr.elements,Pa=zr;return ga?((ga.contextDep&&Nr.contextDynamic||ga.propDep)&&(Pa=Sr),ga=ga.append(Er,Pa),jr.elementsActive&&Pa("if("+ga+")"+Cr+".bindBuffer(34963,"+ga+".buffer.buffer);")):(ga=Pa.def(),Pa(ga,"=",Zr,".","elements",";","if(",ga,"){",Cr,".bindBuffer(",34963,",",ga,".buffer.buffer);}","else if(",ln.vao,".currentVAO){",ga,"=",Er.shared.elements+".getElements("+ln.vao,".currentVAO.elements);",qr?"":"if("+ga+")"+Cr+".bindBuffer(34963,"+ga+".buffer.buffer);","}")),ga}(),Tn=wn("primitive"),Rn=wn("offset"),Dn=function(){var ga=jr.count,Pa=zr;return ga?((ga.contextDep&&Nr.contextDynamic||ga.propDep)&&(Pa=Sr),ga=ga.append(Er,Pa)):ga=Pa.def(Zr,".","count"),ga}();if(typeof Dn=="number"){if(Dn===0)return}else Sr("if(",Dn,"){"),Sr.exit("}");var Vn,Nn;Tr&&(Vn=wn("instances"),Nn=Er.instancing);var ma=Qr+".type",oa=jr.elements&&ee(jr.elements)&&!jr.vaoActive;Tr&&(typeof Vn!="number"||0<=Vn)?typeof Vn=="string"?(Sr("if(",Vn,">0){"),kn(),Sr("}else if(",Vn,"<0){"),vn(),Sr("}")):kn():vn()}function Vr(Er,zr,Sr,Nr,wn){return zr=zt(),wn=zr.proc("body",wn),Tr&&(zr.instancing=wn.def(zr.shared.extensions,".angle_instanced_arrays")),Er(zr,wn,Sr,Nr),zr.compile().body}function on(Er,zr,Sr,Nr){Pn(Er,zr),Sr.useVAO?Sr.drawVAO?zr(Er.shared.vao,".setVAO(",Sr.drawVAO.append(Er,zr),");"):zr(Er.shared.vao,".setVAO(",Er.shared.vao,".targetVAO);"):(zr(Er.shared.vao,".setVAO(null);"),Ar(Er,zr,Sr,Nr.attributes,function(){return!0})),Pr(Er,zr,Sr,Nr.uniforms,function(){return!0},!1),Wr(Er,zr,zr,Sr)}function yn(Er,zr){var Sr=Er.proc("draw",1);Pn(Er,Sr),Dr(Er,Sr,zr.context),_r(Er,Sr,zr.framebuffer),hn(Er,Sr,zr),nn(Er,Sr,zr.state),Cn(Er,Sr,zr,!1,!0);var Nr=zr.shader.progVar.append(Er,Sr);if(Sr(Er.shared.gl,".useProgram(",Nr,".program);"),zr.shader.program)on(Er,Sr,zr,zr.shader.program);else{Sr(Er.shared.vao,".setVAO(null);");var wn=Er.global.def("{}"),kn=Sr.def(Nr,".id"),vn=Sr.def(wn,"[",kn,"]");Sr(Er.cond(vn).then(vn,".call(this,a0);").else(vn,"=",wn,"[",kn,"]=",Er.link(function(ln){return Vr(on,Er,zr,ln,1)}),"(",Nr,");",vn,".call(this,a0);"))}0<Object.keys(zr.state).length&&Sr(Er.shared.current,".dirty=true;"),Er.shared.vao&&Sr(Er.shared.vao,".setVAO(null);")}function mn(Er,zr,Sr,Nr){function wn(){return!0}Er.batchId="a1",Pn(Er,zr),Ar(Er,zr,Sr,Nr.attributes,wn),Pr(Er,zr,Sr,Nr.uniforms,wn,!1),Wr(Er,zr,zr,Sr)}function Ln(Er,zr,Sr,Nr){function wn(Qr){return Qr.contextDep&&vn||Qr.propDep}function kn(Qr){return!wn(Qr)}Pn(Er,zr);var vn=Sr.contextDep,ln=zr.def(),Cr=zr.def();Er.shared.props=Cr,Er.batchId=ln;var Zr=Er.scope(),jr=Er.scope();zr(Zr.entry,"for(",ln,"=0;",ln,"<","a1",";++",ln,"){",Cr,"=","a0","[",ln,"];",jr,"}",Zr.exit),Sr.needsContext&&Dr(Er,jr,Sr.context),Sr.needsFramebuffer&&_r(Er,jr,Sr.framebuffer),nn(Er,jr,Sr.state,wn),Sr.profile&&wn(Sr.profile)&&Cn(Er,jr,Sr,!1,!0),Nr?(Sr.useVAO?Sr.drawVAO?wn(Sr.drawVAO)?jr(Er.shared.vao,".setVAO(",Sr.drawVAO.append(Er,jr),");"):Zr(Er.shared.vao,".setVAO(",Sr.drawVAO.append(Er,Zr),");"):Zr(Er.shared.vao,".setVAO(",Er.shared.vao,".targetVAO);"):(Zr(Er.shared.vao,".setVAO(null);"),Ar(Er,Zr,Sr,Nr.attributes,kn),Ar(Er,jr,Sr,Nr.attributes,wn)),Pr(Er,Zr,Sr,Nr.uniforms,kn,!1),Pr(Er,jr,Sr,Nr.uniforms,wn,!0),Wr(Er,Zr,jr,Sr)):(zr=Er.global.def("{}"),Nr=Sr.shader.progVar.append(Er,jr),Cr=jr.def(Nr,".id"),Zr=jr.def(zr,"[",Cr,"]"),jr(Er.shared.gl,".useProgram(",Nr,".program);","if(!",Zr,"){",Zr,"=",zr,"[",Cr,"]=",Er.link(function(Qr){return Vr(mn,Er,Sr,Qr,2)}),"(",Nr,");}",Zr,".call(this,a0[",ln,"],",ln,");"))}function zn(Er,zr){function Sr(Zr){return Zr.contextDep&&wn||Zr.propDep}var Nr=Er.proc("batch",2);Er.batchId="0",Pn(Er,Nr);var wn=!1,kn=!0;Object.keys(zr.context).forEach(function(Zr){wn=wn||zr.context[Zr].propDep}),wn||(Dr(Er,Nr,zr.context),kn=!1);var vn=zr.framebuffer,ln=!1;if(vn?(vn.propDep?wn=ln=!0:vn.contextDep&&wn&&(ln=!0),ln||_r(Er,Nr,vn)):_r(Er,Nr,null),zr.state.viewport&&zr.state.viewport.propDep&&(wn=!0),hn(Er,Nr,zr),nn(Er,Nr,zr.state,function(Zr){return!Sr(Zr)}),zr.profile&&Sr(zr.profile)||Cn(Er,Nr,zr,!1,"a1"),zr.contextDep=wn,zr.needsContext=kn,zr.needsFramebuffer=ln,kn=zr.shader.progVar,kn.contextDep&&wn||kn.propDep)Ln(Er,Nr,zr,null);else if(kn=kn.append(Er,Nr),Nr(Er.shared.gl,".useProgram(",kn,".program);"),zr.shader.program)Ln(Er,Nr,zr,zr.shader.program);else{Nr(Er.shared.vao,".setVAO(null);");var vn=Er.global.def("{}"),ln=Nr.def(kn,".id"),Cr=Nr.def(vn,"[",ln,"]");Nr(Er.cond(Cr).then(Cr,".call(this,a0,a1);").else(Cr,"=",vn,"[",ln,"]=",Er.link(function(Qr){return Vr(Ln,Er,zr,Qr,2)}),"(",kn,");",Cr,".call(this,a0,a1);"))}0<Object.keys(zr.state).length&&Nr(Er.shared.current,".dirty=true;"),Er.shared.vao&&Nr(Er.shared.vao,".setVAO(null);")}function aa(Er,zr){function Sr(ln){var Cr=zr.shader[ln];Cr&&(Cr=Cr.append(Er,Nr),isNaN(Cr)?Nr.set(wn.shader,"."+ln,Cr):Nr.set(wn.shader,"."+ln,Er.link(Cr,{stable:!0})))}var Nr=Er.proc("scope",3);Er.batchId="a2";var wn=Er.shared,kn=wn.current;if(Dr(Er,Nr,zr.context),zr.framebuffer&&zr.framebuffer.append(Er,Nr),oe(Object.keys(zr.state)).forEach(function(ln){var Cr=zr.state[ln],Zr=Cr.append(Er,Nr);S(Zr)?Zr.forEach(function(jr,Qr){isNaN(jr)?Nr.set(Er.next[ln],"["+Qr+"]",jr):Nr.set(Er.next[ln],"["+Qr+"]",Er.link(jr,{stable:!0}))}):ee(Cr)?Nr.set(wn.next,"."+ln,Er.link(Zr,{stable:!0})):Nr.set(wn.next,"."+ln,Zr)}),Cn(Er,Nr,zr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(ln){var Cr=zr.draw[ln];Cr&&(Cr=Cr.append(Er,Nr),isNaN(Cr)?Nr.set(wn.draw,"."+ln,Cr):Nr.set(wn.draw,"."+ln,Er.link(Cr),{stable:!0}))}),Object.keys(zr.uniforms).forEach(function(ln){var Cr=zr.uniforms[ln].append(Er,Nr);Array.isArray(Cr)&&(Cr="["+Cr.map(function(Zr){return isNaN(Zr)?Zr:Er.link(Zr,{stable:!0})})+"]"),Nr.set(wn.uniforms,"["+Er.link(Zt.id(ln),{stable:!0})+"]",Cr)}),Object.keys(zr.attributes).forEach(function(ln){var Cr=zr.attributes[ln].append(Er,Nr),Zr=Er.scopeAttrib(ln);Object.keys(new ua).forEach(function(jr){Nr.set(Zr,"."+jr,Cr[jr])})}),zr.scopeVAO){var vn=zr.scopeVAO.append(Er,Nr);isNaN(vn)?Nr.set(wn.vao,".targetVAO",vn):Nr.set(wn.vao,".targetVAO",Er.link(vn,{stable:!0}))}Sr("vert"),Sr("frag"),0<Object.keys(zr.state).length&&(Nr(kn,".dirty=true;"),Nr.exit(kn,".dirty=true;")),Nr("a1(",Er.shared.context,",a0,",Er.batchId,");")}function ha(Er){if(typeof Er=="object"&&!S(Er)){for(var zr=Object.keys(Er),Sr=0;Sr<zr.length;++Sr)if(ye.isDynamic(Er[zr[Sr]]))return!0;return!1}}function pa(Er,zr,Sr){function Nr(Qr,Tn){vn.forEach(function(Rn){var Dn=wn[Rn];ye.isDynamic(Dn)&&(Dn=Qr.invoke(Tn,Dn),Tn(jr,".",Rn,"=",Dn,";"))})}var wn=zr.static[Sr];if(wn&&ha(wn)){var kn=Er.global,vn=Object.keys(wn),ln=!1,Cr=!1,Zr=!1,jr=Er.global.def("{}");vn.forEach(function(Qr){var Tn=wn[Qr];if(ye.isDynamic(Tn))typeof Tn=="function"&&(Tn=wn[Qr]=ye.unbox(Tn)),Qr=q(Tn,null),ln=ln||Qr.thisDep,Zr=Zr||Qr.propDep,Cr=Cr||Qr.contextDep;else{switch(kn(jr,".",Qr,"="),typeof Tn){case"number":kn(Tn);break;case"string":kn('"',Tn,'"');break;case"object":Array.isArray(Tn)&&kn("[",Tn.join(),"]");break;default:kn(Er.link(Tn))}kn(";")}}),zr.dynamic[Sr]=new ye.DynamicVariable(4,{thisDep:ln,contextDep:Cr,propDep:Zr,ref:jr,append:Nr}),delete zr.static[Sr]}}var ua=It.Record,na={add:32774,subtract:32778,"reverse subtract":32779};Qt.ext_blend_minmax&&(na.min=32775,na.max=32776);var Tr=Qt.angle_instanced_arrays,an=Qt.webgl_draw_buffers,qr=Qt.oes_vertex_array_object,gn={dirty:!0,profile:cr.profile},Hn={},An=[],Sn={},Un={};Ye("dither",3024),Ye("blend.enable",3042),Ge("blend.color","blendColor",[0,0,0,0]),Ge("blend.equation","blendEquationSeparate",[32774,32774]),Ge("blend.func","blendFuncSeparate",[1,0,1,0]),Ye("depth.enable",2929,!0),Ge("depth.func","depthFunc",513),Ge("depth.range","depthRange",[0,1]),Ge("depth.mask","depthMask",!0),Ge("colorMask","colorMask",[!0,!0,!0,!0]),Ye("cull.enable",2884),Ge("cull.face","cullFace",1029),Ge("frontFace","frontFace",2305),Ge("lineWidth","lineWidth",1),Ye("polygonOffset.enable",32823),Ge("polygonOffset.offset","polygonOffset",[0,0]),Ye("sample.alpha",32926),Ye("sample.enable",32928),Ge("sample.coverage","sampleCoverage",[1,!1]),Ye("stencil.enable",2960),Ge("stencil.mask","stencilMask",-1),Ge("stencil.func","stencilFunc",[519,0,-1]),Ge("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ge("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ye("scissor.enable",3089),Ge("scissor.box","scissor",[0,0,mt.drawingBufferWidth,mt.drawingBufferHeight]),Ge("viewport","viewport",[0,0,mt.drawingBufferWidth,mt.drawingBufferHeight]);var $n={gl:mt,context:Bt,strings:Zt,next:Hn,current:gn,draw:Vt,elements:bt,buffer:sr,shader:Dt,attributes:It.state,vao:It,uniforms:Ct,framebuffer:Tt,extensions:Qt,timer:$t,isBufferArgs:X},ya={primTypes:at,compareFuncs:Xt,blendFuncs:Yt,blendEquations:na,stencilOps:St,glTypes:Ue,orientationType:kt};an&&(ya.backBuffer=[1029],ya.drawBuffer=i(yr.maxDrawbuffers,function(Er){return Er===0?[0]:i(Er,function(zr){return 36064+zr})}));var _a=0;return{next:Hn,current:gn,procs:function(){var Er=zt(),zr=Er.proc("poll"),Sr=Er.proc("refresh"),Nr=Er.block();zr(Nr),Sr(Nr);var Cr=Er.shared,wn=Cr.gl,kn=Cr.next,vn=Cr.current;Nr(vn,".dirty=false;"),_r(Er,zr),_r(Er,Sr,null,!0);var ln;Tr&&(ln=Er.link(Tr)),Qt.oes_vertex_array_object&&Sr(Er.link(Qt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Cr=Sr.def(Cr.attributes),Zr=Sr.def(0),jr=Er.cond(Zr,".buffer");jr.then(wn,".enableVertexAttribArray(i);",wn,".bindBuffer(",34962,",",Zr,".buffer.buffer);",wn,".vertexAttribPointer(i,",Zr,".size,",Zr,".type,",Zr,".normalized,",Zr,".stride,",Zr,".offset);").else(wn,".disableVertexAttribArray(i);",wn,".vertexAttrib4f(i,",Zr,".x,",Zr,".y,",Zr,".z,",Zr,".w);",Zr,".buffer=null;");var Qr=Er.link(yr.maxAttributes,{stable:!0});return Sr("for(var i=0;i<",Qr,";++i){",Zr,"=",Cr,"[i];",jr,"}"),Tr&&Sr("for(var i=0;i<",Qr,";++i){",ln,".vertexAttribDivisorANGLE(i,",Cr,"[i].divisor);","}"),Sr(Er.shared.vao,".currentVAO=null;",Er.shared.vao,".setVAO(",Er.shared.vao,".targetVAO);"),Object.keys(Sn).forEach(function(Tn){var Rn=Sn[Tn],Dn=Nr.def(kn,".",Tn),Vn=Er.block();Vn("if(",Dn,"){",wn,".enable(",Rn,")}else{",wn,".disable(",Rn,")}",vn,".",Tn,"=",Dn,";"),Sr(Vn),zr("if(",Dn,"!==",vn,".",Tn,"){",Vn,"}")}),Object.keys(Un).forEach(function(Tn){var Rn=Un[Tn],Dn=gn[Tn],Vn,Nn,ma=Er.block();ma(wn,".",Rn,"("),S(Dn)?(Rn=Dn.length,Vn=Er.global.def(kn,".",Tn),Nn=Er.global.def(vn,".",Tn),ma(i(Rn,function(oa){return Vn+"["+oa+"]"}),");",i(Rn,function(oa){return Nn+"["+oa+"]="+Vn+"["+oa+"];"}).join("")),zr("if(",i(Rn,function(oa){return Vn+"["+oa+"]!=="+Nn+"["+oa+"]"}).join("||"),"){",ma,"}")):(Vn=Nr.def(kn,".",Tn),Nn=Nr.def(vn,".",Tn),ma(Vn,");",vn,".",Tn,"=",Vn,";"),zr("if(",Vn,"!==",Nn,"){",ma,"}")),Sr(ma)}),Er.compile()}(),compile:function(Er,zr,Sr,Nr,wn){var kn=zt();kn.stats=kn.link(wn),Object.keys(zr.static).forEach(function(ln){pa(kn,zr,ln)}),yt.forEach(function(ln){pa(kn,Er,ln)});var vn=Gr(Er,zr,Sr,Nr,kn);return vn.shader.program&&(vn.shader.program.attributes.sort(function(ln,Cr){return ln.name<Cr.name?-1:1}),vn.shader.program.uniforms.sort(function(ln,Cr){return ln.name<Cr.name?-1:1})),yn(kn,vn),aa(kn,vn),zn(kn,vn),ie(kn.compile(),{destroy:function(){vn.shader.program.destroy()}})}}}function le(mt,Zt){for(var Qt=0;Qt<mt.length;++Qt)if(mt[Qt]===Zt)return Qt;return-1}var ie=function(mt,Zt){for(var Qt=Object.keys(Zt),yr=0;yr<Qt.length;++yr)mt[Qt[yr]]=Zt[Qt[yr]];return mt},he=0,ye={DynamicVariable:j,define:function(mt,Zt){return new j(mt,g(Zt+""))},isDynamic:function(mt){return typeof mt=="function"&&!mt._reglType||mt instanceof j},unbox:P,accessor:g},Ce={next:typeof requestAnimationFrame=="function"?function(mt){return requestAnimationFrame(mt)}:function(mt){return setTimeout(mt,16)},cancel:typeof cancelAnimationFrame=="function"?function(mt){return cancelAnimationFrame(mt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ke=u();ke.zero=u();var we=function(mt,Zt){var Qt=1;Zt.ext_texture_filter_anisotropic&&(Qt=mt.getParameter(34047));var yr=1,sr=1;Zt.webgl_draw_buffers&&(yr=mt.getParameter(34852),sr=mt.getParameter(36063));var bt=!!Zt.oes_texture_float;if(bt){bt=mt.createTexture(),mt.bindTexture(3553,bt),mt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=mt.createFramebuffer();if(mt.bindFramebuffer(36160,lt),mt.framebufferTexture2D(36160,36064,3553,bt,0),mt.bindTexture(3553,null),mt.checkFramebufferStatus(36160)!==36053)bt=!1;else{mt.viewport(0,0,1,1),mt.clearColor(1,0,0,1),mt.clear(16384);var Tt=ke.allocType(5126,4);mt.readPixels(0,0,1,1,6408,5126,Tt),mt.getError()?bt=!1:(mt.deleteFramebuffer(lt),mt.deleteTexture(bt),bt=Tt[0]===1),ke.freeType(Tt)}}return Tt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Tt=mt.createTexture(),lt=ke.allocType(5121,36),mt.activeTexture(33984),mt.bindTexture(34067,Tt),mt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),ke.freeType(lt),mt.bindTexture(34067,null),mt.deleteTexture(Tt),Tt=!mt.getError()),{colorBits:[mt.getParameter(3410),mt.getParameter(3411),mt.getParameter(3412),mt.getParameter(3413)],depthBits:mt.getParameter(3414),stencilBits:mt.getParameter(3415),subpixelBits:mt.getParameter(3408),extensions:Object.keys(Zt).filter(function(Ct){return!!Zt[Ct]}),maxAnisotropic:Qt,maxDrawbuffers:yr,maxColorAttachments:sr,pointSizeDims:mt.getParameter(33901),lineWidthDims:mt.getParameter(33902),maxViewportDims:mt.getParameter(3386),maxCombinedTextureUnits:mt.getParameter(35661),maxCubeMapSize:mt.getParameter(34076),maxRenderbufferSize:mt.getParameter(34024),maxTextureUnits:mt.getParameter(34930),maxTextureSize:mt.getParameter(3379),maxAttributes:mt.getParameter(34921),maxVertexUniforms:mt.getParameter(36347),maxVertexTextureUnits:mt.getParameter(35660),maxVaryingVectors:mt.getParameter(36348),maxFragmentUniforms:mt.getParameter(36349),glsl:mt.getParameter(35724),renderer:mt.getParameter(7937),vendor:mt.getParameter(7936),version:mt.getParameter(7938),readFloat:bt,npotTextureCube:Tt}},Ee=function(mt){return mt instanceof Uint8Array||mt instanceof Uint16Array||mt instanceof Uint32Array||mt instanceof Int8Array||mt instanceof Int16Array||mt instanceof Int32Array||mt instanceof Float32Array||mt instanceof Float64Array||mt instanceof Uint8ClampedArray},xe=function(mt){return Object.keys(mt).map(function(Zt){return mt[Zt]})},Re={shape:function(mt){for(var Zt=[];mt.length;mt=mt[0])Zt.push(mt.length);return Zt},flatten:function(mt,Zt,Qt,yr){var sr=1;if(Zt.length)for(var bt=0;bt<Zt.length;++bt)sr*=Zt[bt];else sr=0;switch(Qt=yr||ke.allocType(Qt,sr),Zt.length){case 0:break;case 1:for(yr=Zt[0],Zt=0;Zt<yr;++Zt)Qt[Zt]=mt[Zt];break;case 2:for(yr=Zt[0],Zt=Zt[1],bt=sr=0;bt<yr;++bt)for(var lt=mt[bt],Tt=0;Tt<Zt;++Tt)Qt[sr++]=lt[Tt];break;case 3:l(mt,Zt[0],Zt[1],Zt[2],Qt,0);break;default:y(mt,Zt,0,Qt,0)}return Qt}},Ve={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ue={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Be={dynamic:35048,stream:35040,static:35044},Xe=Re.flatten,ut=Re.shape,dt=[];dt[5120]=1,dt[5122]=2,dt[5124]=4,dt[5121]=1,dt[5123]=2,dt[5125]=4,dt[5126]=4;var at={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},We=new Float32Array(1),rt=new Uint32Array(We.buffer),st=[9984,9986,9985,9987],ht=[0,6409,6410,6407,6408],vt={};vt[6409]=vt[6406]=vt[6402]=1,vt[34041]=vt[6410]=2,vt[6407]=vt[35904]=3,vt[6408]=vt[35906]=4;var At=C("HTMLCanvasElement"),tt=C("OffscreenCanvas"),_e=C("CanvasRenderingContext2D"),je=C("ImageBitmap"),Ke=C("HTMLImageElement"),He=C("HTMLVideoElement"),Ie=Object.keys(Ve).concat([At,tt,_e,je,Ke,He]),be=[];be[5121]=1,be[5126]=4,be[36193]=2,be[5123]=2,be[5125]=4;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[34041]=4,me[33776]=.5,me[33777]=.5,me[33778]=1,me[33779]=1,me[35986]=.5,me[35987]=1,me[34798]=1,me[35840]=.5,me[35841]=.25,me[35842]=.5,me[35843]=.25,me[36196]=.5;var Me=[];Me[32854]=2,Me[32855]=2,Me[36194]=2,Me[33189]=2,Me[36168]=1,Me[34041]=4,Me[35907]=4,Me[34836]=16,Me[34842]=8,Me[34843]=6;var Te=function(mt,Zt,Qt,yr,sr){function bt(Vt){this.id=It++,this.refCount=1,this.renderbuffer=Vt,this.format=32854,this.height=this.width=0,sr.profile&&(this.stats={size:0})}function lt(Vt){var Bt=Vt.renderbuffer;mt.bindRenderbuffer(36161,null),mt.deleteRenderbuffer(Bt),Vt.renderbuffer=null,Vt.refCount=0,delete Dt[Vt.id],yr.renderbufferCount--}var Tt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Zt.ext_srgb&&(Tt.srgba=35907),Zt.ext_color_buffer_half_float&&(Tt.rgba16f=34842,Tt.rgb16f=34843),Zt.webgl_color_buffer_float&&(Tt.rgba32f=34836);var Ct=[];Object.keys(Tt).forEach(function(Vt){Ct[Tt[Vt]]=Vt});var It=0,Dt={};return bt.prototype.decRef=function(){0>=--this.refCount&&lt(this)},sr.profile&&(yr.getTotalRenderbufferSize=function(){var Vt=0;return Object.keys(Dt).forEach(function(Bt){Vt+=Dt[Bt].stats.size}),Vt}),{create:function(Vt,Bt){function $t(cr,dr){var Ye=0,Ge=0,zt=32854;if(typeof cr=="object"&&cr?("shape"in cr?(Ge=cr.shape,Ye=Ge[0]|0,Ge=Ge[1]|0):("radius"in cr&&(Ye=Ge=cr.radius|0),"width"in cr&&(Ye=cr.width|0),"height"in cr&&(Ge=cr.height|0)),"format"in cr&&(zt=Tt[cr.format])):typeof cr=="number"?(Ye=cr|0,Ge=typeof dr=="number"?dr|0:Ye):cr||(Ye=Ge=1),Ye!==fr.width||Ge!==fr.height||zt!==fr.format)return $t.width=fr.width=Ye,$t.height=fr.height=Ge,fr.format=zt,mt.bindRenderbuffer(36161,fr.renderbuffer),mt.renderbufferStorage(36161,zt,Ye,Ge),sr.profile&&(fr.stats.size=Me[fr.format]*fr.width*fr.height),$t.format=Ct[fr.format],$t}var fr=new bt(mt.createRenderbuffer());return Dt[fr.id]=fr,yr.renderbufferCount++,$t(Vt,Bt),$t.resize=function(cr,dr){var Ye=cr|0,Ge=dr|0||Ye;return Ye===fr.width&&Ge===fr.height||($t.width=fr.width=Ye,$t.height=fr.height=Ge,mt.bindRenderbuffer(36161,fr.renderbuffer),mt.renderbufferStorage(36161,fr.format,Ye,Ge),sr.profile&&(fr.stats.size=Me[fr.format]*fr.width*fr.height)),$t},$t._reglType="renderbuffer",$t._renderbuffer=fr,sr.profile&&($t.stats=fr.stats),$t.destroy=function(){fr.decRef()},$t},clear:function(){xe(Dt).forEach(lt)},restore:function(){xe(Dt).forEach(function(Vt){Vt.renderbuffer=mt.createRenderbuffer(),mt.bindRenderbuffer(36161,Vt.renderbuffer),mt.renderbufferStorage(36161,Vt.format,Vt.width,Vt.height)}),mt.bindRenderbuffer(36161,null)}}},ze=[];ze[6408]=4,ze[6407]=3;var Je=[];Je[5121]=1,Je[5126]=4,Je[36193]=2;var nt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],pt=["x","y","z","w"],yt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Yt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Xt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},St={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},kt={cw:2304,ccw:2305},Kt=new Y(!1,!1,!1,function(){}),mr=function(mt,Zt){function Qt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yr(Dt,Vt,Bt){var $t=lt.pop()||new Qt;$t.startQueryIndex=Dt,$t.endQueryIndex=Vt,$t.sum=0,$t.stats=Bt,Tt.push($t)}if(!Zt.ext_disjoint_timer_query)return null;var sr=[],bt=[],lt=[],Tt=[],Ct=[],It=[];return{beginQuery:function(Dt){var Vt=sr.pop()||Zt.ext_disjoint_timer_query.createQueryEXT();Zt.ext_disjoint_timer_query.beginQueryEXT(35007,Vt),bt.push(Vt),yr(bt.length-1,bt.length,Dt)},endQuery:function(){Zt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yr,update:function(){var Dt,Vt;if(Dt=bt.length,Dt!==0){It.length=Math.max(It.length,Dt+1),Ct.length=Math.max(Ct.length,Dt+1),Ct[0]=0;var Bt=It[0]=0;for(Vt=Dt=0;Vt<bt.length;++Vt){var $t=bt[Vt];Zt.ext_disjoint_timer_query.getQueryObjectEXT($t,34919)?(Bt+=Zt.ext_disjoint_timer_query.getQueryObjectEXT($t,34918),sr.push($t)):bt[Dt++]=$t,Ct[Vt+1]=Bt,It[Vt+1]=Dt}for(bt.length=Dt,Vt=Dt=0;Vt<Tt.length;++Vt){var Bt=Tt[Vt],fr=Bt.startQueryIndex,$t=Bt.endQueryIndex;Bt.sum+=Ct[$t]-Ct[fr],fr=It[fr],$t=It[$t],$t===fr?(Bt.stats.gpuTime+=Bt.sum/1e6,lt.push(Bt)):(Bt.startQueryIndex=fr,Bt.endQueryIndex=$t,Tt[Dt++]=Bt)}Tt.length=Dt}},getNumPendingQueries:function(){return bt.length},clear:function(){sr.push.apply(sr,bt);for(var Dt=0;Dt<sr.length;Dt++)Zt.ext_disjoint_timer_query.deleteQueryEXT(sr[Dt]);bt.length=0,sr.length=0},restore:function(){bt.length=0,sr.length=0}}};return function(mt){function Zt(){if(Cn.length===0)zt&&zt.update(),Vr=null;else{Vr=Ce.next(Zt),Dt();for(var yn=Cn.length-1;0<=yn;--yn){var mn=Cn[yn];mn&&mn(tr,null,0)}$t.flush(),zt&&zt.update()}}function Qt(){!Vr&&0<Cn.length&&(Vr=Ce.next(Zt))}function yr(){Vr&&(Ce.cancel(Zt),Vr=null)}function sr(yn){yn.preventDefault(),yr(),Ar.forEach(function(mn){mn()})}function bt(yn){$t.getError(),cr.restore(),br.restore(),Nt.restore(),vr.restore(),Gr.restore(),Dr.restore(),gr.restore(),zt&&zt.restore(),_r.procs.refresh(),Qt(),Pr.forEach(function(mn){mn()})}function lt(yn){function mn(gn,Hn){var An={},Sn={};return Object.keys(gn).forEach(function(Un){var $n=gn[Un];if(ye.isDynamic($n))Sn[Un]=ye.unbox($n,Un);else{if(Hn&&Array.isArray($n)){for(var ya=0;ya<$n.length;++ya)if(ye.isDynamic($n[ya])){Sn[Un]=ye.unbox($n,Un);return}}An[Un]=$n}}),{dynamic:Sn,static:An}}function Ln(gn){for(;qr.length<gn;)qr.push(null);return qr}var zn=mn(yn.context||{},!0),aa=mn(yn.uniforms||{},!0),ha=mn(yn.attributes||{},!1);yn=mn(function(gn){function Hn(Sn){if(Sn in An){var Un=An[Sn];delete An[Sn],Object.keys(Un).forEach(function($n){An[Sn+"."+$n]=Un[$n]})}}var An=ie({},gn);return delete An.uniforms,delete An.attributes,delete An.context,delete An.vao,"stencil"in An&&An.stencil.op&&(An.stencil.opBack=An.stencil.opFront=An.stencil.op,delete An.stencil.op),Hn("blend"),Hn("depth"),Hn("cull"),Hn("stencil"),Hn("polygonOffset"),Hn("scissor"),Hn("sample"),"vao"in gn&&(An.vao=gn.vao),An}(yn),!1);var pa={gpuTime:0,cpuTime:0,count:0},ua=_r.compile(yn,ha,aa,zn,pa),na=ua.draw,Tr=ua.batch,an=ua.scope,qr=[];return ie(function(gn,Hn){var An;if(typeof gn=="function")return an.call(this,null,gn,0);if(typeof Hn=="function")if(typeof gn=="number")for(An=0;An<gn;++An)an.call(this,null,Hn,An);else if(Array.isArray(gn))for(An=0;An<gn.length;++An)an.call(this,gn[An],Hn,An);else return an.call(this,gn,Hn,0);else if(typeof gn=="number"){if(0<gn)return Tr.call(this,Ln(gn|0),gn|0)}else if(Array.isArray(gn)){if(gn.length)return Tr.call(this,gn,gn.length)}else return na.call(this,gn)},{stats:pa,destroy:function(){ua.destroy()}})}function Tt(yn,mn){var Ln=0;_r.procs.poll();var zn=mn.color;zn&&($t.clearColor(+zn[0]||0,+zn[1]||0,+zn[2]||0,+zn[3]||0),Ln|=16384),"depth"in mn&&($t.clearDepth(+mn.depth),Ln|=256),"stencil"in mn&&($t.clearStencil(mn.stencil|0),Ln|=1024),$t.clear(Ln)}function Ct(yn){return Cn.push(yn),Qt(),{cancel:function(){function mn(){var zn=le(Cn,mn);Cn[zn]=Cn[Cn.length-1],--Cn.length,0>=Cn.length&&yr()}var Ln=le(Cn,yn);Cn[Ln]=mn}}}function It(){var yn=nn.viewport,mn=nn.scissor_box;yn[0]=yn[1]=mn[0]=mn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=yn[2]=mn[2]=$t.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=yn[3]=mn[3]=$t.drawingBufferHeight}function Dt(){tr.tick+=1,tr.time=Bt(),It(),_r.procs.poll()}function Vt(){vr.refresh(),It(),_r.procs.refresh(),zt&&zt.update()}function Bt(){return(Ae()-Ft)/1e3}if(mt=r(mt),!mt)return null;var $t=mt.gl,fr=$t.getContextAttributes();$t.isContextLost();var cr=t($t,mt);if(!cr)return null;var hn=a(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ye=mt.cachedCode||{},Ge=cr.extensions,zt=mr($t,Ge),Ft=Ae(),ur=$t.drawingBufferWidth,Jt=$t.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:ur,viewportHeight:Jt,framebufferWidth:ur,framebufferHeight:Jt,drawingBufferWidth:ur,drawingBufferHeight:Jt,pixelRatio:mt.pixelRatio},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},nr=we($t,Ge),Nt=o($t,dr,mt,function(yn){return gr.destroyBuffer(yn)}),hr=d($t,Ge,Nt,dr),gr=F($t,Ge,nr,dr,Nt,hr,ur),br=z($t,hn,dr,mt),vr=k($t,Ge,nr,function(){_r.procs.poll()},tr,dr,mt),Gr=Te($t,Ge,nr,dr,mt),Dr=_($t,Ge,nr,vr,Gr,dr),_r=K($t,hn,Ge,nr,Nt,hr,vr,Dr,{},gr,br,ur,tr,zt,Ye,mt),hn=B($t,Dr,_r.procs.poll,tr),nn=_r.next,Pn=$t.canvas,Cn=[],Ar=[],Pr=[],Wr=[mt.onDestroy],Vr=null;Pn&&(Pn.addEventListener("webglcontextlost",sr,!1),Pn.addEventListener("webglcontextrestored",bt,!1));var on=Dr.setFBO=lt({framebuffer:ye.define.call(null,1,"framebuffer")});return Vt(),fr=ie(lt,{clear:function(yn){if("framebuffer"in yn)if(yn.framebuffer&&yn.framebuffer_reglType==="framebufferCube")for(var mn=0;6>mn;++mn)on(ie({framebuffer:yn.framebuffer.faces[mn]},yn),Tt);else on(yn,Tt);else Tt(null,yn)},prop:ye.define.bind(null,1),context:ye.define.bind(null,2),this:ye.define.bind(null,3),draw:lt({}),buffer:function(yn){return Nt.create(yn,34962,!1,!1)},elements:function(yn){return hr.create(yn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Gr.create,framebuffer:Dr.create,framebufferCube:Dr.createCube,vao:gr.createVAO,attributes:fr,frame:Ct,on:function(yn,mn){var Ln;switch(yn){case"frame":return Ct(mn);case"lost":Ln=Ar;break;case"restore":Ln=Pr;break;case"destroy":Ln=Wr}return Ln.push(mn),{cancel:function(){for(var zn=0;zn<Ln.length;++zn)if(Ln[zn]===mn){Ln[zn]=Ln[Ln.length-1],Ln.pop();break}}}},limits:nr,hasExtension:function(yn){return 0<=nr.extensions.indexOf(yn.toLowerCase())},read:hn,destroy:function(){Cn.length=0,yr(),Pn&&(Pn.removeEventListener("webglcontextlost",sr),Pn.removeEventListener("webglcontextrestored",bt)),br.clear(),Dr.clear(),Gr.clear(),gr.clear(),vr.clear(),hr.clear(),Nt.clear(),zt&&zt.clear(),Wr.forEach(function(yn){yn()})},_gl:$t,_refresh:Vt,poll:function(){Dt(),zt&&zt.update()},now:Bt,stats:dr,getCachedCode:function(){return Ye},preloadCachedCode:function(yn){Object.entries(yn).forEach(function(mn){Ye[mn[0]]=mn[1]})}}),mt.onDone(null,fr),fr}})},30456:function(H,j,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(33576),P=g.Buffer;function a(w,v){for(var p in w)v[p]=w[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?H.exports=g:(a(g,j),j.Buffer=x);function x(w,v,p){return P(w,v,p)}x.prototype=Object.create(P.prototype),a(P,x),x.from=function(w,v,p){if(typeof w=="number")throw new TypeError("Argument must not be a number");return P(w,v,p)},x.alloc=function(w,v,p){if(typeof w!="number")throw new TypeError("Argument must be a number");var r=P(w);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},x.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return P(w)},x.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(w)}},14500:function(H,j,e){var g=e(53664),P=e(64348),a=e(39640)(),x=e(2304),w=g("%TypeError%"),v=g("%Math.floor%");H.exports=function(r,t){if(typeof r!="function")throw new w("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new w("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in r&&x){var f=x(r,"length");f&&!f.configurable&&(n=!1),f&&!f.writable&&(u=!1)}return(n||u||!i)&&(a?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(H,j,e){H.exports=a;var g=e(61252).EventEmitter,P=e(6768);P(a,g),a.Readable=e(12348),a.Writable=e(11288),a.Duplex=e(15316),a.Transform=e(22477),a.PassThrough=e(27136),a.finished=e(15932),a.pipeline=e(38180),a.Stream=a;function a(){g.call(this)}a.prototype.pipe=function(x,w){var v=this;function p(l){x.writable&&x.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}x.on("drain",r),!x._isStdio&&(!w||w.end!==!1)&&(v.on("end",i),v.on("close",n));var t=!1;function i(){t||(t=!0,x.end())}function n(){t||(t=!0,typeof x.destroy=="function"&&x.destroy())}function u(l){if(f(),g.listenerCount(this,"error")===0)throw l}v.on("error",u),x.on("error",u);function f(){v.removeListener("data",p),x.removeListener("drain",r),v.removeListener("end",i),v.removeListener("close",n),v.removeListener("error",u),x.removeListener("error",u),v.removeListener("end",f),v.removeListener("close",f),x.removeListener("close",f)}return v.on("end",f),v.on("close",f),x.on("close",f),x.emit("pipe",v),x}},92784:function(H){function j(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function g(v,p,r){r||(r=Error);function t(n,u,f){return typeof p=="string"?p:p(n,u,f)}var i=function(n){j(u,n);function u(f,l,y){return n.call(this,t(f,l,y))||this}return u}(r);i.prototype.name=r.name,i.prototype.code=v,e[v]=i}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function a(v,p,r){return v.substr(!r||r<0?0:+r,p.length)===p}function x(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function w(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&a(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var i;if(x(v," argument"))i="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=w(v,".")?"property":"argument";i='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),H.exports.i=e},15316:function(H,j,e){var g=e(4168),P=Object.keys||function(n){var u=[];for(var f in n)u.push(f);return u};H.exports=r;var a=e(12348),x=e(11288);e(6768)(r,a);for(var w=P(x.prototype),v=0;v<w.length;v++){var p=w[v];r.prototype[p]||(r.prototype[p]=x.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);a.call(this,n),x.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||g.nextTick(i,this)}function i(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},27136:function(H,j,e){H.exports=P;var g=e(22477);e(6768)(P,g);function P(a){if(!(this instanceof P))return new P(a);g.call(this,a)}P.prototype._transform=function(a,x,w){w(null,a)}},12348:function(H,j,e){var g=e(4168);H.exports=s;var P;s.ReadableState=b,e(61252).EventEmitter;var a=function(K,le){return K.listeners(le).length},x=e(4776),w=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p(q){return w.from(q)}function r(q){return w.isBuffer(q)||q instanceof v}var t=e(19768),i;t&&t.debuglog?i=t.debuglog("stream"):i=function(){};var n=e(47264),u=e(55324),f=e(24888),l=f.getHighWaterMark,y=e(92784).i,h=y.ERR_INVALID_ARG_TYPE,M=y.ERR_STREAM_PUSH_AFTER_EOF,c=y.ERR_METHOD_NOT_IMPLEMENTED,o=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,T,S;e(6768)(s,x);var C=u.errorOrDestroy,m=["error","close","destroy","pause","resume"];function E(q,K,le){if(typeof q.prependListener=="function")return q.prependListener(K,le);!q._events||!q._events[K]?q.on(K,le):Array.isArray(q._events[K])?q._events[K].unshift(le):q._events[K]=[le,q._events[K]]}function b(q,K,le){P=P||e(15316),q=q||{},typeof le!="boolean"&&(le=K instanceof P),this.objectMode=!!q.objectMode,le&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=l(this,q,"readableHighWaterMark",le),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(d||(d=e(86032).o),this.decoder=new d(q.encoding),this.encoding=q.encoding)}function s(q){if(P=P||e(15316),!(this instanceof s))return new s(q);var K=this instanceof P;this._readableState=new b(q,this,K),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),x.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),s.prototype.destroy=u.destroy,s.prototype._undestroy=u.undestroy,s.prototype._destroy=function(q,K){K(q)},s.prototype.push=function(q,K){var le=this._readableState,ie;return le.objectMode?ie=!0:typeof q=="string"&&(K=K||le.defaultEncoding,K!==le.encoding&&(q=w.from(q,K),K=""),ie=!0),L(this,q,K,!1,ie)},s.prototype.unshift=function(q){return L(this,q,null,!0,!1)};function L(q,K,le,ie,he){i("readableAddChunk",K);var ye=q._readableState;if(K===null)ye.reading=!1,z(q,ye);else{var Ce;if(he||(Ce=k(ye,K)),Ce)C(q,Ce);else if(ye.objectMode||K&&K.length>0)if(typeof K!="string"&&!ye.objectMode&&Object.getPrototypeOf(K)!==w.prototype&&(K=p(K)),ie)ye.endEmitted?C(q,new o):A(q,ye,K,!0);else if(ye.ended)C(q,new M);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!le?(K=ye.decoder.write(K),ye.objectMode||K.length!==0?A(q,ye,K,!1):V(q,ye)):A(q,ye,K,!1)}else ie||(ye.reading=!1,V(q,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function A(q,K,le,ie){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,q.emit("data",le)):(K.length+=K.objectMode?1:le.length,ie?K.buffer.unshift(le):K.buffer.push(le),K.needReadable&&B(q)),V(q,K)}function k(q,K){var le;return!r(K)&&typeof K!="string"&&K!==void 0&&!q.objectMode&&(le=new h("chunk",["string","Buffer","Uint8Array"],K)),le}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(q){d||(d=e(86032).o);var K=new d(q);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ie="";le!==null;)ie+=K.write(le.data),le=le.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var _=1073741824;function U(q){return q>=_?q=_:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function F(q,K){return q<=0||K.length===0&&K.ended?0:K.objectMode?1:q!==q?K.flowing&&K.length?K.buffer.head.data.length:K.length:(q>K.highWaterMark&&(K.highWaterMark=U(q)),q<=K.length?q:K.ended?K.length:(K.needReadable=!0,0))}s.prototype.read=function(q){i("read",q),q=parseInt(q,10);var K=this._readableState,le=q;if(q!==0&&(K.emittedReadable=!1),q===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return i("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Y(this):B(this),null;if(q=F(q,K),q===0&&K.ended)return K.length===0&&Y(this),null;var ie=K.needReadable;i("need readable",ie),(K.length===0||K.length-q<K.highWaterMark)&&(ie=!0,i("length less than watermark",ie)),K.ended||K.reading?(ie=!1,i("reading or ended",ie)):ie&&(i("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(q=F(le,K)));var he;return q>0?he=oe(q,K):he=null,he===null?(K.needReadable=K.length<=K.highWaterMark,q=0):(K.length-=q,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),le!==q&&K.ended&&Y(this)),he!==null&&this.emit("data",he),he};function z(q,K){if(i("onEofChunk"),!K.ended){if(K.decoder){var le=K.decoder.end();le&&le.length&&(K.buffer.push(le),K.length+=K.objectMode?1:le.length)}K.ended=!0,K.sync?B(q):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,N(q)))}}function B(q){var K=q._readableState;i("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(i("emitReadable",K.flowing),K.emittedReadable=!0,g.nextTick(N,q))}function N(q){var K=q._readableState;i("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(q.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,X(q)}function V(q,K){K.readingMore||(K.readingMore=!0,g.nextTick(W,q,K))}function W(q,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var le=K.length;if(i("maybeReadMore read 0"),q.read(0),le===K.length)break}K.readingMore=!1}s.prototype._read=function(q){C(this,new c("_read()"))},s.prototype.pipe=function(q,K){var le=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=q;break;case 1:ie.pipes=[ie.pipes,q];break;default:ie.pipes.push(q);break}ie.pipesCount+=1,i("pipe count=%d opts=%j",ie.pipesCount,K);var he=(!K||K.end!==!1)&&q!==g.stdout&&q!==g.stderr,ye=he?Ae:Be;ie.endEmitted?g.nextTick(ye):le.once("end",ye),q.on("unpipe",Ce);function Ce(Xe,ut){i("onunpipe"),Xe===le&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,Ee())}function Ae(){i("onend"),q.end()}var ke=Q(le);q.on("drain",ke);var we=!1;function Ee(){i("cleanup"),q.removeListener("close",Ve),q.removeListener("finish",Ue),q.removeListener("drain",ke),q.removeListener("error",Re),q.removeListener("unpipe",Ce),le.removeListener("end",Ae),le.removeListener("end",Be),le.removeListener("data",xe),we=!0,ie.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&ke()}le.on("data",xe);function xe(Xe){i("ondata");var ut=q.write(Xe);i("dest.write",ut),ut===!1&&((ie.pipesCount===1&&ie.pipes===q||ie.pipesCount>1&&se(ie.pipes,q)!==-1)&&!we&&(i("false write response, pause",ie.awaitDrain),ie.awaitDrain++),le.pause())}function Re(Xe){i("onerror",Xe),Be(),q.removeListener("error",Re),a(q,"error")===0&&C(q,Xe)}E(q,"error",Re);function Ve(){q.removeListener("finish",Ue),Be()}q.once("close",Ve);function Ue(){i("onfinish"),q.removeListener("close",Ve),Be()}q.once("finish",Ue);function Be(){i("unpipe"),le.unpipe(q)}return q.emit("pipe",le),ie.flowing||(i("pipe resume"),le.resume()),q};function Q(q){return function(){var le=q._readableState;i("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&a(q,"data")&&(le.flowing=!0,X(q))}}s.prototype.unpipe=function(q){var K=this._readableState,le={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return q&&q!==K.pipes?this:(q||(q=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,q&&q.emit("unpipe",this,le),this);if(!q){var ie=K.pipes,he=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var ye=0;ye<he;ye++)ie[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ce=se(K.pipes,q);return Ce===-1?this:(K.pipes.splice(Ce,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),q.emit("unpipe",this,le),this)},s.prototype.on=function(q,K){var le=x.prototype.on.call(this,q,K),ie=this._readableState;return q==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):q==="readable"&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,i("on readable",ie.length,ie.reading),ie.length?B(this):ie.reading||g.nextTick(ne,this)),le},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(q,K){var le=x.prototype.removeListener.call(this,q,K);return q==="readable"&&g.nextTick(re,this),le},s.prototype.removeAllListeners=function(q){var K=x.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&g.nextTick(re,this),K};function re(q){var K=q._readableState;K.readableListening=q.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ne(q){i("readable nexttick read 0"),q.read(0)}s.prototype.resume=function(){var q=this._readableState;return q.flowing||(i("resume"),q.flowing=!q.readableListening,fe(this,q)),q.paused=!1,this};function fe(q,K){K.resumeScheduled||(K.resumeScheduled=!0,g.nextTick($,q,K))}function $(q,K){i("resume",K.reading),K.reading||q.read(0),K.resumeScheduled=!1,q.emit("resume"),X(q),K.flowing&&!K.reading&&q.read(0)}s.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(q){var K=q._readableState;for(i("flow",K.flowing);K.flowing&&q.read()!==null;);}s.prototype.wrap=function(q){var K=this,le=this._readableState,ie=!1;q.on("end",function(){if(i("wrapped end"),le.decoder&&!le.ended){var Ce=le.decoder.end();Ce&&Ce.length&&K.push(Ce)}K.push(null)}),q.on("data",function(Ce){if(i("wrapped data"),le.decoder&&(Ce=le.decoder.write(Ce)),!(le.objectMode&&Ce==null)&&!(!le.objectMode&&(!Ce||!Ce.length))){var Ae=K.push(Ce);Ae||(ie=!0,q.pause())}});for(var he in q)this[he]===void 0&&typeof q[he]=="function"&&(this[he]=function(Ae){return function(){return q[Ae].apply(q,arguments)}}(he));for(var ye=0;ye<m.length;ye++)q.on(m[ye],this.emit.bind(this,m[ye]));return this._read=function(Ce){i("wrapped _read",Ce),ie&&(ie=!1,q.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=e(60328)),T(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),s._fromList=oe,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function oe(q,K){if(K.length===0)return null;var le;return K.objectMode?le=K.buffer.shift():!q||q>=K.length?(K.decoder?le=K.buffer.join(""):K.buffer.length===1?le=K.buffer.first():le=K.buffer.concat(K.length),K.buffer.clear()):le=K.buffer.consume(q,K.decoder),le}function Y(q){var K=q._readableState;i("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,g.nextTick(ee,K,q))}function ee(q,K){if(i("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,K.readable=!1,K.emit("end"),q.autoDestroy)){var le=K._writableState;(!le||le.autoDestroy&&le.finished)&&K.destroy()}}typeof Symbol=="function"&&(s.from=function(q,K){return S===void 0&&(S=e(90555)),S(s,q,K)});function se(q,K){for(var le=0,ie=q.length;le<ie;le++)if(q[le]===K)return le;return-1}},22477:function(H,j,e){H.exports=r;var g=e(92784).i,P=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,u){var f=this._transformState;f.transforming=!1;var l=f.writecb;if(l===null)return this.emit("error",new a);f.writechunk=null,f.writecb=null,u!=null&&this.push(u),l(n);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(u,f){i(n,u,f)}):i(this,null,null)}r.prototype.push=function(n,u){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,u)},r.prototype._transform=function(n,u,f){f(new P("_transform()"))},r.prototype._write=function(n,u,f){var l=this._transformState;if(l.writecb=f,l.writechunk=n,l.writeencoding=u,!l.transforming){var y=this._readableState;(l.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},r.prototype._read=function(n){var u=this._transformState;u.writechunk!==null&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},r.prototype._destroy=function(n,u){v.prototype._destroy.call(this,n,function(f){u(f)})};function i(n,u,f){if(u)return n.emit("error",u);if(f!=null&&n.push(f),n._writableState.length)throw new w;if(n._transformState.transforming)throw new x;return n.push(null)}},11288:function(H,j,e){var g=e(4168);H.exports=b;function P(X){var oe=this;this.next=null,this.entry=null,this.finish=function(){$(oe,X)}}var a;b.WritableState=m;var x={deprecate:e(96656)},w=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(X){return v.from(X)}function t(X){return v.isBuffer(X)||X instanceof p}var i=e(55324),n=e(24888),u=n.getHighWaterMark,f=e(92784).i,l=f.ERR_INVALID_ARG_TYPE,y=f.ERR_METHOD_NOT_IMPLEMENTED,h=f.ERR_MULTIPLE_CALLBACK,M=f.ERR_STREAM_CANNOT_PIPE,c=f.ERR_STREAM_DESTROYED,o=f.ERR_STREAM_NULL_VALUES,d=f.ERR_STREAM_WRITE_AFTER_END,T=f.ERR_UNKNOWN_ENCODING,S=i.errorOrDestroy;e(6768)(b,w);function C(){}function m(X,oe,Y){a=a||e(15316),X=X||{},typeof Y!="boolean"&&(Y=oe instanceof a),this.objectMode=!!X.objectMode,Y&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=u(this,X,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=X.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){z(oe,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}m.prototype.getBuffer=function(){for(var oe=this.bufferedRequest,Y=[];oe;)Y.push(oe),oe=oe.next;return Y},function(){try{Object.defineProperty(m.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(oe){return E.call(this,oe)?!0:this!==b?!1:oe&&oe._writableState instanceof m}})):E=function(oe){return oe instanceof this};function b(X){a=a||e(15316);var oe=this instanceof a;if(!oe&&!E.call(b,this))return new b(X);this._writableState=new m(X,this,oe),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),w.call(this)}b.prototype.pipe=function(){S(this,new M)};function s(X,oe){var Y=new d;S(X,Y),g.nextTick(oe,Y)}function L(X,oe,Y,ee){var se;return Y===null?se=new o:typeof Y!="string"&&!oe.objectMode&&(se=new l("chunk",["string","Buffer"],Y)),se?(S(X,se),g.nextTick(ee,se),!1):!0}b.prototype.write=function(X,oe,Y){var ee=this._writableState,se=!1,q=!ee.objectMode&&t(X);return q&&!v.isBuffer(X)&&(X=r(X)),typeof oe=="function"&&(Y=oe,oe=null),q?oe="buffer":oe||(oe=ee.defaultEncoding),typeof Y!="function"&&(Y=C),ee.ending?s(this,Y):(q||L(this,ee,X,Y))&&(ee.pendingcb++,se=k(this,ee,q,X,oe,Y)),se},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&V(this,X))},b.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((oe+"").toLowerCase())>-1))throw new T(oe);return this._writableState.defaultEncoding=oe,this},Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function A(X,oe,Y){return!X.objectMode&&X.decodeStrings!==!1&&typeof oe=="string"&&(oe=v.from(oe,Y)),oe}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(X,oe,Y,ee,se,q){if(!Y){var K=A(oe,ee,se);ee!==K&&(Y=!0,se="buffer",ee=K)}var le=oe.objectMode?1:ee.length;oe.length+=le;var ie=oe.length<oe.highWaterMark;if(ie||(oe.needDrain=!0),oe.writing||oe.corked){var he=oe.lastBufferedRequest;oe.lastBufferedRequest={chunk:ee,encoding:se,isBuf:Y,callback:q,next:null},he?he.next=oe.lastBufferedRequest:oe.bufferedRequest=oe.lastBufferedRequest,oe.bufferedRequestCount+=1}else _(X,oe,!1,le,ee,se,q);return ie}function _(X,oe,Y,ee,se,q,K){oe.writelen=ee,oe.writecb=K,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new c("write")):Y?X._writev(se,oe.onwrite):X._write(se,q,oe.onwrite),oe.sync=!1}function U(X,oe,Y,ee,se){--oe.pendingcb,Y?(g.nextTick(se,ee),g.nextTick(ne,X,oe),X._writableState.errorEmitted=!0,S(X,ee)):(se(ee),X._writableState.errorEmitted=!0,S(X,ee),ne(X,oe))}function F(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function z(X,oe){var Y=X._writableState,ee=Y.sync,se=Y.writecb;if(typeof se!="function")throw new h;if(F(Y),oe)U(X,Y,ee,oe,se);else{var q=W(Y)||X.destroyed;!q&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&V(X,Y),ee?g.nextTick(B,X,Y,q,se):B(X,Y,q,se)}}function B(X,oe,Y,ee){Y||N(X,oe),oe.pendingcb--,ee(),ne(X,oe)}function N(X,oe){oe.length===0&&oe.needDrain&&(oe.needDrain=!1,X.emit("drain"))}function V(X,oe){oe.bufferProcessing=!0;var Y=oe.bufferedRequest;if(X._writev&&Y&&Y.next){var ee=oe.bufferedRequestCount,se=new Array(ee),q=oe.corkedRequestsFree;q.entry=Y;for(var K=0,le=!0;Y;)se[K]=Y,Y.isBuf||(le=!1),Y=Y.next,K+=1;se.allBuffers=le,_(X,oe,!0,oe.length,se,"",q.finish),oe.pendingcb++,oe.lastBufferedRequest=null,q.next?(oe.corkedRequestsFree=q.next,q.next=null):oe.corkedRequestsFree=new P(oe),oe.bufferedRequestCount=0}else{for(;Y;){var ie=Y.chunk,he=Y.encoding,ye=Y.callback,Ce=oe.objectMode?1:ie.length;if(_(X,oe,!1,Ce,ie,he,ye),Y=Y.next,oe.bufferedRequestCount--,oe.writing)break}Y===null&&(oe.lastBufferedRequest=null)}oe.bufferedRequest=Y,oe.bufferProcessing=!1}b.prototype._write=function(X,oe,Y){Y(new y("_write()"))},b.prototype._writev=null,b.prototype.end=function(X,oe,Y){var ee=this._writableState;return typeof X=="function"?(Y=X,X=null,oe=null):typeof oe=="function"&&(Y=oe,oe=null),X!=null&&this.write(X,oe),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||fe(this,ee,Y),this},Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function Q(X,oe){X._final(function(Y){oe.pendingcb--,Y&&S(X,Y),oe.prefinished=!0,X.emit("prefinish"),ne(X,oe)})}function re(X,oe){!oe.prefinished&&!oe.finalCalled&&(typeof X._final=="function"&&!oe.destroyed?(oe.pendingcb++,oe.finalCalled=!0,g.nextTick(Q,X,oe)):(oe.prefinished=!0,X.emit("prefinish")))}function ne(X,oe){var Y=W(oe);if(Y&&(re(X,oe),oe.pendingcb===0&&(oe.finished=!0,X.emit("finish"),oe.autoDestroy))){var ee=X._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&X.destroy()}return Y}function fe(X,oe,Y){oe.ending=!0,ne(X,oe),Y&&(oe.finished?g.nextTick(Y):X.once("finish",Y)),oe.ended=!0,X.writable=!1}function $(X,oe,Y){var ee=X.entry;for(X.entry=null;ee;){var se=ee.callback;oe.pendingcb--,se(Y),ee=ee.next}oe.corkedRequestsFree.next=X}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(oe){this._writableState&&(this._writableState.destroyed=oe)}}),b.prototype.destroy=i.destroy,b.prototype._undestroy=i.undestroy,b.prototype._destroy=function(X,oe){oe(X)}},60328:function(H,j,e){var g=e(4168),P;function a(o,d,T){return d in o?Object.defineProperty(o,d,{value:T,enumerable:!0,configurable:!0,writable:!0}):o[d]=T,o}var x=e(15932),w=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),i=Symbol("handlePromise"),n=Symbol("stream");function u(o,d){return{value:o,done:d}}function f(o){var d=o[w];if(d!==null){var T=o[n].read();T!==null&&(o[t]=null,o[w]=null,o[v]=null,d(u(T,!1)))}}function l(o){g.nextTick(f,o)}function y(o,d){return function(T,S){o.then(function(){if(d[r]){T(u(void 0,!0));return}d[i](T,S)},S)}}var h=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,T=this[p];if(T!==null)return Promise.reject(T);if(this[r])return Promise.resolve(u(void 0,!0));if(this[n].destroyed)return new Promise(function(E,b){g.nextTick(function(){d[p]?b(d[p]):E(u(void 0,!0))})});var S=this[t],C;if(S)C=new Promise(y(S,this));else{var m=this[n].read();if(m!==null)return Promise.resolve(u(m,!1));C=new Promise(this[i])}return this[t]=C,C}},a(P,Symbol.asyncIterator,function(){return this}),a(P,"return",function(){var d=this;return new Promise(function(T,S){d[n].destroy(null,function(C){if(C){S(C);return}T(u(void 0,!0))})})}),P),h),c=function(d){var T,S=Object.create(M,(T={},a(T,n,{value:d,writable:!0}),a(T,w,{value:null,writable:!0}),a(T,v,{value:null,writable:!0}),a(T,p,{value:null,writable:!0}),a(T,r,{value:d._readableState.endEmitted,writable:!0}),a(T,i,{value:function(m,E){var b=S[n].read();b?(S[t]=null,S[w]=null,S[v]=null,m(u(b,!1))):(S[w]=m,S[v]=E)},writable:!0}),T));return S[t]=null,x(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=S[v];m!==null&&(S[t]=null,S[w]=null,S[v]=null,m(C)),S[p]=C;return}var E=S[w];E!==null&&(S[t]=null,S[w]=null,S[v]=null,E(u(void 0,!0))),S[r]=!0}),d.on("readable",l.bind(null,S)),S};H.exports=c},47264:function(H,j,e){function g(f,l){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(f);l&&(h=h.filter(function(M){return Object.getOwnPropertyDescriptor(f,M).enumerable})),y.push.apply(y,h)}return y}function P(f){for(var l=1;l<arguments.length;l++){var y=arguments[l]!=null?arguments[l]:{};l%2?g(Object(y),!0).forEach(function(h){a(f,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):g(Object(y)).forEach(function(h){Object.defineProperty(f,h,Object.getOwnPropertyDescriptor(y,h))})}return f}function a(f,l,y){return l in f?Object.defineProperty(f,l,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[l]=y,f}function x(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function w(f,l){for(var y=0;y<l.length;y++){var h=l[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function v(f,l,y){return l&&w(f.prototype,l),y&&w(f,y),f}var p=e(33576),r=p.Buffer,t=e(21576),i=t.inspect,n=i&&i.custom||"inspect";function u(f,l,y){r.prototype.copy.call(f,l,y)}H.exports=function(){function f(){x(this,f),this.head=null,this.tail=null,this.length=0}return v(f,[{key:"push",value:function(y){var h={data:y,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(y){var h={data:y,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var h=this.head,M=""+h.data;h=h.next;)M+=y+h.data;return M}},{key:"concat",value:function(y){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(y>>>0),M=this.head,c=0;M;)u(M.data,h,c),c+=M.data.length,M=M.next;return h}},{key:"consume",value:function(y,h){var M;return y<this.head.data.length?(M=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?M=this.shift():M=h?this._getString(y):this._getBuffer(y),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var h=this.head,M=1,c=h.data;for(y-=c.length;h=h.next;){var o=h.data,d=y>o.length?o.length:y;if(d===o.length?c+=o:c+=o.slice(0,y),y-=d,y===0){d===o.length?(++M,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(d));break}++M}return this.length-=M,c}},{key:"_getBuffer",value:function(y){var h=r.allocUnsafe(y),M=this.head,c=1;for(M.data.copy(h),y-=M.data.length;M=M.next;){var o=M.data,d=y>o.length?o.length:y;if(o.copy(h,h.length-y,0,d),y-=d,y===0){d===o.length?(++c,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=o.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(y,h){return i(this,P({},h,{depth:0,customInspect:!1}))}}]),f}()},55324:function(H,j,e){var g=e(4168);function P(r,t){var i=this,n=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return n||u?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,r)):g.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(f){!t&&f?i._writableState?i._writableState.errorEmitted?g.nextTick(x,i):(i._writableState.errorEmitted=!0,g.nextTick(a,i,f)):g.nextTick(a,i,f):t?(g.nextTick(x,i),t(f)):g.nextTick(x,i)}),this)}function a(r,t){v(r,t),x(r)}function x(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var i=r._readableState,n=r._writableState;i&&i.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}H.exports={destroy:P,undestroy:w,errorOrDestroy:p}},15932:function(H,j,e){var g=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];v.apply(this,t)}}}function a(){}function x(v){return v.setHeader&&typeof v.abort=="function"}function w(v,p,r){if(typeof p=="function")return w(v,null,p);p||(p={}),r=P(r||a);var t=p.readable||p.readable!==!1&&v.readable,i=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||f()},u=v._writableState&&v._writableState.finished,f=function(){i=!1,u=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,y=function(){t=!1,l=!0,i||r.call(v)},h=function(d){r.call(v,d)},M=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new g),r.call(v,d);if(i&&!u)return(!v._writableState||!v._writableState.ended)&&(d=new g),r.call(v,d)},c=function(){v.req.on("finish",f)};return x(v)?(v.on("complete",f),v.on("abort",M),v.req?c():v.on("request",c)):i&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",y),v.on("finish",f),p.error!==!1&&v.on("error",h),v.on("close",M),function(){v.removeListener("complete",f),v.removeListener("abort",M),v.removeListener("request",c),v.req&&v.req.removeListener("finish",f),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",f),v.removeListener("end",y),v.removeListener("error",h),v.removeListener("close",M)}}H.exports=w},90555:function(H){H.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(H,j,e){var g;function P(f){var l=!1;return function(){l||(l=!0,f.apply(void 0,arguments))}}var a=e(92784).i,x=a.ERR_MISSING_ARGS,w=a.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function p(f){return f.setHeader&&typeof f.abort=="function"}function r(f,l,y,h){h=P(h);var M=!1;f.on("close",function(){M=!0}),g===void 0&&(g=e(15932)),g(f,{readable:l,writable:y},function(o){if(o)return h(o);M=!0,h()});var c=!1;return function(o){if(!M&&!c){if(c=!0,p(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();h(o||new w("pipe"))}}}function t(f){f()}function i(f,l){return f.pipe(l)}function n(f){return!f.length||typeof f[f.length-1]!="function"?v:f.pop()}function u(){for(var f=arguments.length,l=new Array(f),y=0;y<f;y++)l[y]=arguments[y];var h=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new x("streams");var M,c=l.map(function(o,d){var T=d<l.length-1,S=d>0;return r(o,T,S,function(C){M||(M=C),C&&c.forEach(t),!T&&(c.forEach(t),h(M))})});return l.reduce(i)}H.exports=u},24888:function(H,j,e){var g=e(92784).i.ERR_INVALID_OPT_VALUE;function P(x,w,v){return x.highWaterMark!=null?x.highWaterMark:w?x[v]:null}function a(x,w,v,p){var r=P(w,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new g(t,r)}return Math.floor(r)}return x.objectMode?16:16384}H.exports={getHighWaterMark:a}},4776:function(H,j,e){H.exports=e(61252).EventEmitter},86032:function(H,j,e){var g=e(30456).Buffer,P=g.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(c){if(!c)return"utf8";for(var o;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(o)return;c=(""+c).toLowerCase(),o=!0}}function x(c){var o=a(c);if(typeof o!="string"&&(g.isEncoding===P||!P(c)))throw new Error("Unknown encoding: "+c);return o||c}j.o=w;function w(c){this.encoding=x(c);var o;switch(this.encoding){case"utf16le":this.text=u,this.end=f,o=4;break;case"utf8":this.fillLast=t,o=4;break;case"base64":this.text=l,this.end=y,o=3;break;default:this.write=h,this.end=M;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(o)}w.prototype.write=function(c){if(c.length===0)return"";var o,d;if(this.lastNeed){if(o=this.fillLast(c),o===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?o?o+this.text(c,d):this.text(c,d):o||""},w.prototype.end=n,w.prototype.text=i,w.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function p(c,o,d){var T=o.length-1;if(T<d)return 0;var S=v(o[T]);return S>=0?(S>0&&(c.lastNeed=S-1),S):--T<d||S===-2?0:(S=v(o[T]),S>=0?(S>0&&(c.lastNeed=S-2),S):--T<d||S===-2?0:(S=v(o[T]),S>=0?(S>0&&(S===2?S=0:c.lastNeed=S-3),S):0))}function r(c,o,d){if((o[0]&192)!==128)return c.lastNeed=0,"�";if(c.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return c.lastNeed=1,"�";if(c.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return c.lastNeed=2,"�"}}function t(c){var o=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,o,0,c.length),this.lastNeed-=c.length}function i(c,o){var d=p(this,c,o);if(!this.lastNeed)return c.toString("utf8",o);this.lastTotal=d;var T=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,T),c.toString("utf8",o,T)}function n(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+"�":o}function u(c,o){if((c.length-o)%2===0){var d=c.toString("utf16le",o);if(d){var T=d.charCodeAt(d.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",o,c.length-1)}function f(c){var o=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,d)}return o}function l(c,o){var d=(c.length-o)%3;return d===0?c.toString("base64",o):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",o,c.length-d))}function y(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(c){return c.toString(this.encoding)}function M(c){return c&&c.length?this.write(c):""}},55619:function(H,j,e){var g=e(45408),P=e(86844)("stream-parser");H.exports=p;var a=-1,x=0,w=1,v=2;function p(c){var o=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!o&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),c._bytes=t,c._skipBytes=i,o&&(c._passthrough=n),o?c._transform=f:c._write=u}function r(c){P("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,o){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),P("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=x}function i(c,o){g(!this._parserCallback,'there is already a "callback" set!'),g(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=w}function n(c,o){g(!this._parserCallback,'There is already a "callback" set!'),g(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=v}function u(c,o,d){this._parserInit||r(this),P("write(%o bytes)",c.length),typeof o=="function"&&(d=o),h(this,c,null,d)}function f(c,o,d){this._parserInit||r(this),P("transform(%o bytes)",c.length),typeof o!="function"&&(o=this._parserOutput),h(this,c,o,d)}function l(c,o,d,T){return c._parserBytesLeft<=0?T(new Error("got data but not currently parsing anything")):o.length<=c._parserBytesLeft?function(){return y(c,o,d,T)}:function(){var S=o.slice(0,c._parserBytesLeft);return y(c,S,d,function(C){if(C)return T(C);if(o.length>S.length)return function(){return l(c,o.slice(S.length),d,T)}})}}function y(c,o,d,T){if(c._parserBytesLeft-=o.length,P("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===x?(c._parserBuffers.push(o),c._parserBuffered+=o.length):c._parserState===v&&d(o),c._parserBytesLeft===0){var S=c._parserCallback;if(S&&c._parserState===x&&c._parserBuffers.length>1&&(o=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==x&&(o=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),S){var C=[];o&&C.push(o),d&&C.push(d);var m=S.length>C.length;m&&C.push(M(T));var E=S.apply(c,C);if(!m||T===E)return T}}else return T}var h=M(l);function M(c){return function(){for(var o=c.apply(this,arguments);typeof o=="function";)o=o();return o}}},86844:function(H,j,e){var g=e(4168);j=H.exports=e(89416),j.log=x,j.formatArgs=a,j.save=w,j.load=v,j.useColors=P,j.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),j.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}j.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function a(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+j.humanize(this.diff),!!t){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var n=0,u=0;r[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(n++,f==="%c"&&(u=n))}),r.splice(u,0,i)}}function x(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function w(r){try{r==null?j.storage.removeItem("debug"):j.storage.debug=r}catch{}}function v(){var r;try{r=j.storage.debug}catch{}return!r&&typeof g<"u"&&"env"in g&&(r={}.DEBUG),r}j.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(H,j,e){j=H.exports=a.debug=a.default=a,j.coerce=p,j.disable=w,j.enable=x,j.enabled=v,j.humanize=e(93744),j.names=[],j.skips=[],j.formatters={};var g;function P(r){var t=0,i;for(i in r)t=(t<<5)-t+r.charCodeAt(i),t|=0;return j.colors[Math.abs(t)%j.colors.length]}function a(r){function t(){if(t.enabled){var i=t,n=+new Date,u=n-(g||n);i.diff=u,i.prev=g,i.curr=n,g=n;for(var f=new Array(arguments.length),l=0;l<f.length;l++)f[l]=arguments[l];f[0]=j.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var y=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(M,c){if(M==="%%")return M;y++;var o=j.formatters[c];if(typeof o=="function"){var d=f[y];M=o.call(i,d),f.splice(y,1),y--}return M}),j.formatArgs.call(i,f);var h=t.log||j.log||console.log.bind(console);h.apply(i,f)}}return t.namespace=r,t.enabled=j.enabled(r),t.useColors=j.useColors(),t.color=P(r),typeof j.init=="function"&&j.init(t),t}function x(r){j.save(r),j.names=[],j.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),i=t.length,n=0;n<i;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?j.skips.push(new RegExp("^"+r.substr(1)+"$")):j.names.push(new RegExp("^"+r+"$")))}function w(){j.enable("")}function v(r){var t,i;for(t=0,i=j.skips.length;t<i;t++)if(j.skips[t].test(r))return!1;for(t=0,i=j.names.length;t<i;t++)if(j.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(H){var j=1e3,e=j*60,g=e*60,P=g*24,a=P*365.25;H.exports=function(r,t){t=t||{};var i=typeof r;if(i==="string"&&r.length>0)return x(r);if(i==="number"&&isNaN(r)===!1)return t.long?v(r):w(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function x(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*a;case"days":case"day":case"d":return i*P;case"hours":case"hour":case"hrs":case"hr":case"h":return i*g;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function w(r){return r>=P?Math.round(r/P)+"d":r>=g?Math.round(r/g)+"h":r>=e?Math.round(r/e)+"m":r>=j?Math.round(r/j)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,g,"hour")||p(r,e,"minute")||p(r,j,"second")||r+" ms"}function p(r,t,i){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+i:Math.ceil(r/t)+" "+i+"s"}},39956:function(H,j,e){var g=e(32868);H.exports=function(a,x,w){if(a==null)throw Error("First argument should be a string");if(x==null)throw Error("Separator should be a string or a RegExp");w?(typeof w=="string"||Array.isArray(w))&&(w={ignore:w}):w={},w.escape==null&&(w.escape=!0),w.ignore==null?w.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof w.ignore=="string"&&(w.ignore=[w.ignore]),w.ignore=w.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var v=g.parse(a,{flat:!0,brackets:w.ignore}),p=v[0],r=p.split(x);if(w.escape){for(var t=[],i=0;i<r.length;i++){var n=r[i],u=r[i+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+x+u),i++):t.push(n)}r=t}for(var i=0;i<r.length;i++)v[0]=r[i],r[i]=g.stringify(v,{flat:!0});return r}},78484:function(H){H.exports=j;function j(e){for(var g=e.length,P=new Array(g),a=new Array(g),x=new Array(g),w=new Array(g),v=new Array(g),p=new Array(g),r=0;r<g;++r)P[r]=-1,a[r]=0,x[r]=!1,w[r]=0,v[r]=-1,p[r]=[];var t=0,i=[],n=[];function u(h){var M=[h],c=[h];for(P[h]=a[h]=t,x[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var o=e[h];if(w[h]<o.length){for(var d=w[h];d<o.length;++d){var T=o[d];if(P[T]<0){P[T]=a[T]=t,x[T]=!0,t+=1,M.push(T),c.push(T);break}else x[T]&&(a[h]=Math.min(a[h],a[T])|0);v[T]>=0&&p[h].push(v[T])}w[h]=d}else{if(a[h]===P[h]){for(var S=[],C=[],m=0,d=M.length-1;d>=0;--d){var E=M[d];if(x[E]=!1,S.push(E),C.push(p[E]),m+=p[E].length,v[E]=i.length,E===h){M.length=d;break}}i.push(S);for(var b=new Array(m),d=0;d<C.length;d++)for(var s=0;s<C[d].length;s++)b[--m]=C[d][s];n.push(b)}c.pop()}}}for(var r=0;r<g;++r)P[r]<0&&u(r);for(var f,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(M,c){return M-c}),f=[l[0]];for(var y=1;y<l.length;y++)l[y]!==l[y-1]&&f.push(l[y]);n[r]=f}}return{components:i,adjacencyList:n}}},92848:function(H,j,e){e.r(j);var g=function(){function r(t,i){var n=[],u=!0,f=!1,l=void 0;try{for(var y=t[Symbol.iterator](),h;!(u=(h=y.next()).done)&&(n.push(h.value),!(i&&n.length===i));u=!0);}catch(M){f=!0,l=M}finally{try{!u&&y.return&&y.return()}finally{if(f)throw l}}return n}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,a=function(t,i,n,u,f,l,y){var h=t.x,M=t.y;h*=i,M*=n;var c=u*h-f*M,o=f*h+u*M;return{x:c+l,y:o+y}},x=function(t,i){var n=i===1.5707963267948966?.551915024494:i===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(i/4),u=Math.cos(t),f=Math.sin(t),l=Math.cos(t+i),y=Math.sin(t+i);return[{x:u-f*n,y:f+u*n},{x:l+y*n,y:y-l*n},{x:l,y}]},w=function(t,i,n,u){var f=t*u-i*n<0?-1:1,l=t*n+i*u;return l>1&&(l=1),l<-1&&(l=-1),f*Math.acos(l)},v=function(t,i,n,u,f,l,y,h,M,c,o,d){var T=Math.pow(f,2),S=Math.pow(l,2),C=Math.pow(o,2),m=Math.pow(d,2),E=T*S-T*m-S*C;E<0&&(E=0),E/=T*m+S*C,E=Math.sqrt(E)*(y===h?-1:1);var b=E*f/l*d,s=E*-l/f*o,L=c*b-M*s+(t+n)/2,A=M*b+c*s+(i+u)/2,k=(o-b)/f,_=(d-s)/l,U=(-o-b)/f,F=(-d-s)/l,z=w(1,0,k,_),B=w(k,_,U,F);return h===0&&B>0&&(B-=P),h===1&&B<0&&(B+=P),[L,A,z,B]},p=function(t){var i=t.px,n=t.py,u=t.cx,f=t.cy,l=t.rx,y=t.ry,h=t.xAxisRotation,M=h===void 0?0:h,c=t.largeArcFlag,o=c===void 0?0:c,d=t.sweepFlag,T=d===void 0?0:d,S=[];if(l===0||y===0)return[];var C=Math.sin(M*P/360),m=Math.cos(M*P/360),E=m*(i-u)/2+C*(n-f)/2,b=-C*(i-u)/2+m*(n-f)/2;if(E===0&&b===0)return[];l=Math.abs(l),y=Math.abs(y);var s=Math.pow(E,2)/Math.pow(l,2)+Math.pow(b,2)/Math.pow(y,2);s>1&&(l*=Math.sqrt(s),y*=Math.sqrt(s));var L=v(i,n,u,f,l,y,o,T,C,m,E,b),A=g(L,4),k=A[0],_=A[1],U=A[2],F=A[3],z=Math.abs(F)/(P/4);Math.abs(1-z)<1e-7&&(z=1);var B=Math.max(Math.ceil(z),1);F/=B;for(var N=0;N<B;N++)S.push(x(U,F)),U+=F;return S.map(function(V){var W=a(V[0],l,y,m,C,k,_),Q=W.x,re=W.y,ne=a(V[1],l,y,m,C,k,_),fe=ne.x,$=ne.y,X=a(V[2],l,y,m,C,k,_),oe=X.x,Y=X.y;return{x1:Q,y1:re,x2:fe,y2:$,x:oe,y:Y}})};j.default=p},74840:function(H,j,e){var g=e(21984),P=e(49972),a=e(41976),x=e(53520),w=e(45408);H.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(w(x(p),"String is not an SVG path."),p=g(p)),w(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=a(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,i=p.length;t<i;t++)for(var n=p[t].slice(1),u=0;u<n.length;u+=2)n[u+0]<r[0]&&(r[0]=n[u+0]),n[u+1]<r[1]&&(r[1]=n[u+1]),n[u+0]>r[2]&&(r[2]=n[u+0]),n[u+1]>r[3]&&(r[3]=n[u+1]);return r}},41976:function(H,j,e){H.exports=P;var g=e(92848);function P(w){for(var v,p=[],r=0,t=0,i=0,n=0,u=null,f=null,l=0,y=0,h=0,M=w.length;h<M;h++){var c=w[h],o=c[0];switch(o){case"M":i=c[1],n=c[2];break;case"A":var d=g({px:l,py:y,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var T=0,S;T<d.length;T++)S=d[T],c=["C",S.x1,S.y1,S.x2,S.y2,S.x,S.y],T<d.length-1&&p.push(c);break;case"S":var C=l,m=y;(v=="C"||v=="S")&&(C+=C-r,m+=m-t),c=["C",C,m,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(u=l*2-u,f=y*2-f):(u=l,f=y),c=x(l,y,u,f,c[1],c[2]);break;case"Q":u=c[1],f=c[2],c=x(l,y,c[1],c[2],c[3],c[4]);break;case"L":c=a(l,y,c[1],c[2]);break;case"H":c=a(l,y,c[1],y);break;case"V":c=a(l,y,l,c[1]);break;case"Z":c=a(l,y,i,n);break}v=o,l=c[c.length-2],y=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=y),p.push(c)}return p}function a(w,v,p,r){return["C",w,v,p,r,p,r]}function x(w,v,p,r,t,i){return["C",w/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,i/3+.6666666666666666*r,t,i]}},20472:function(H,j,e){var g=e(74840),P=e(21984),a=e(22235),x=e(53520),w=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");H.exports=r;function r(n,u){if(!x(n))throw Error("Argument should be valid svg path string");u||(u={});var f,l;u.shape?(f=u.shape[0],l=u.shape[1]):(f=v.width=u.w||u.width||200,l=v.height=u.h||u.height||200);var y=Math.min(f,l),h=u.stroke||0,M=u.viewbox||u.viewBox||g(n),c=[f/(M[2]-M[0]),l/(M[3]-M[1])],o=Math.min(c[0]||0,c[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,f,l),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(f*.5,l*.5),p.scale(o,o),i()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var T=P(n);a(p,T),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var S=w(p,{cutoff:u.cutoff!=null?u.cutoff:.5,radius:u.radius!=null?u.radius:y*.5});return S}var t;function i(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var u=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(u);var f=n.getImageData(0,0,1,1);return t=f&&f.data&&f.data[3]===255}},49760:function(H,j,e){var g;(function(P){var a=/^\s+/,x=/\s+$/,w=0,v=P.round,p=P.min,r=P.max,t=P.random;function i(K,le){if(K=K||"",le=le||{},K instanceof i)return K;if(!(this instanceof i))return new i(K,le);var ie=n(K);this._originalInput=K,this._r=ie.r,this._g=ie.g,this._b=ie.b,this._a=ie.a,this._roundA=v(100*this._a)/100,this._format=le.format||ie.format,this._gradientType=le.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ie.ok,this._tc_id=w++}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},getLuminance:function(){var K=this.toRgb(),le,ie,he,ye,Ce,Ae;return le=K.r/255,ie=K.g/255,he=K.b/255,le<=.03928?ye=le/12.92:ye=P.pow((le+.055)/1.055,2.4),ie<=.03928?Ce=ie/12.92:Ce=P.pow((ie+.055)/1.055,2.4),he<=.03928?Ae=he/12.92:Ae=P.pow((he+.055)/1.055,2.4),.2126*ye+.7152*Ce+.0722*Ae},setAlpha:function(K){return this._a=N(K),this._roundA=v(100*this._a)/100,this},toHsv:function(){var K=y(this._r,this._g,this._b);return{h:K.h*360,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=y(this._r,this._g,this._b),le=v(K.h*360),ie=v(K.s*100),he=v(K.v*100);return this._a==1?"hsv("+le+", "+ie+"%, "+he+"%)":"hsva("+le+", "+ie+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var K=f(this._r,this._g,this._b);return{h:K.h*360,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=f(this._r,this._g,this._b),le=v(K.h*360),ie=v(K.s*100),he=v(K.l*100);return this._a==1?"hsl("+le+", "+ie+"%, "+he+"%)":"hsla("+le+", "+ie+"%, "+he+"%, "+this._roundA+")"},toHex:function(K){return M(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(K){return c(this._r,this._g,this._b,this._a,K)},toHex8String:function(K){return"#"+this.toHex8(K)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(V(this._r,255)*100)+"%",g:v(V(this._g,255)*100)+"%",b:v(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%)":"rgba("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z[M(this._r,this._g,this._b,!0)]||!1},toFilter:function(K){var le="#"+o(this._r,this._g,this._b,this._a),ie=le,he=this._gradientType?"GradientType = 1, ":"";if(K){var ye=i(K);ie="#"+o(ye._r,ye._g,ye._b,ye._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+le+",endColorstr="+ie+")"},toString:function(K){var le=!!K;K=K||this._format;var ie=!1,he=this._a<1&&this._a>=0,ye=!le&&he&&(K==="hex"||K==="hex6"||K==="hex3"||K==="hex4"||K==="hex8"||K==="name");return ye?K==="name"&&this._a===0?this.toName():this.toRgbString():(K==="rgb"&&(ie=this.toRgbString()),K==="prgb"&&(ie=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(ie=this.toHexString()),K==="hex3"&&(ie=this.toHexString(!0)),K==="hex4"&&(ie=this.toHex8String(!0)),K==="hex8"&&(ie=this.toHex8String()),K==="name"&&(ie=this.toName()),K==="hsl"&&(ie=this.toHslString()),K==="hsv"&&(ie=this.toHsvString()),ie||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(K,le){var ie=K.apply(null,[this].concat([].slice.call(le)));return this._r=ie._r,this._g=ie._g,this._b=ie._b,this.setAlpha(ie._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(T,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(K,le){return K.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(A,arguments)}},i.fromRatio=function(K,le){if(typeof K=="object"){var ie={};for(var he in K)K.hasOwnProperty(he)&&(he==="a"?ie[he]=K[he]:ie[he]=$(K[he]));K=ie}return i(K,le)};function n(K){var le={r:0,g:0,b:0},ie=1,he=null,ye=null,Ce=null,Ae=!1,ke=!1;return typeof K=="string"&&(K=se(K)),typeof K=="object"&&(ee(K.r)&&ee(K.g)&&ee(K.b)?(le=u(K.r,K.g,K.b),Ae=!0,ke=String(K.r).substr(-1)==="%"?"prgb":"rgb"):ee(K.h)&&ee(K.s)&&ee(K.v)?(he=$(K.s),ye=$(K.v),le=h(K.h,he,ye),Ae=!0,ke="hsv"):ee(K.h)&&ee(K.s)&&ee(K.l)&&(he=$(K.s),Ce=$(K.l),le=l(K.h,he,Ce),Ae=!0,ke="hsl"),K.hasOwnProperty("a")&&(ie=K.a)),ie=N(ie),{ok:Ae,format:K.format||ke,r:p(255,r(le.r,0)),g:p(255,r(le.g,0)),b:p(255,r(le.b,0)),a:ie}}function u(K,le,ie){return{r:V(K,255)*255,g:V(le,255)*255,b:V(ie,255)*255}}function f(K,le,ie){K=V(K,255),le=V(le,255),ie=V(ie,255);var he=r(K,le,ie),ye=p(K,le,ie),Ce,Ae,ke=(he+ye)/2;if(he==ye)Ce=Ae=0;else{var we=he-ye;switch(Ae=ke>.5?we/(2-he-ye):we/(he+ye),he){case K:Ce=(le-ie)/we+(le<ie?6:0);break;case le:Ce=(ie-K)/we+2;break;case ie:Ce=(K-le)/we+4;break}Ce/=6}return{h:Ce,s:Ae,l:ke}}function l(K,le,ie){var he,ye,Ce;K=V(K,360),le=V(le,100),ie=V(ie,100);function Ae(Ee,xe,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<.16666666666666666?Ee+(xe-Ee)*6*Re:Re<.5?xe:Re<.6666666666666666?Ee+(xe-Ee)*(.6666666666666666-Re)*6:Ee}if(le===0)he=ye=Ce=ie;else{var ke=ie<.5?ie*(1+le):ie+le-ie*le,we=2*ie-ke;he=Ae(we,ke,K+.3333333333333333),ye=Ae(we,ke,K),Ce=Ae(we,ke,K-.3333333333333333)}return{r:he*255,g:ye*255,b:Ce*255}}function y(K,le,ie){K=V(K,255),le=V(le,255),ie=V(ie,255);var he=r(K,le,ie),ye=p(K,le,ie),Ce,Ae,ke=he,we=he-ye;if(Ae=he===0?0:we/he,he==ye)Ce=0;else{switch(he){case K:Ce=(le-ie)/we+(le<ie?6:0);break;case le:Ce=(ie-K)/we+2;break;case ie:Ce=(K-le)/we+4;break}Ce/=6}return{h:Ce,s:Ae,v:ke}}function h(K,le,ie){K=V(K,360)*6,le=V(le,100),ie=V(ie,100);var he=P.floor(K),ye=K-he,Ce=ie*(1-le),Ae=ie*(1-ye*le),ke=ie*(1-(1-ye)*le),we=he%6,Ee=[ie,Ae,Ce,Ce,ke,ie][we],xe=[ke,ie,ie,Ae,Ce,Ce][we],Re=[Ce,Ce,ke,ie,ie,Ae][we];return{r:Ee*255,g:xe*255,b:Re*255}}function M(K,le,ie,he){var ye=[fe(v(K).toString(16)),fe(v(le).toString(16)),fe(v(ie).toString(16))];return he&&ye[0].charAt(0)==ye[0].charAt(1)&&ye[1].charAt(0)==ye[1].charAt(1)&&ye[2].charAt(0)==ye[2].charAt(1)?ye[0].charAt(0)+ye[1].charAt(0)+ye[2].charAt(0):ye.join("")}function c(K,le,ie,he,ye){var Ce=[fe(v(K).toString(16)),fe(v(le).toString(16)),fe(v(ie).toString(16)),fe(X(he))];return ye&&Ce[0].charAt(0)==Ce[0].charAt(1)&&Ce[1].charAt(0)==Ce[1].charAt(1)&&Ce[2].charAt(0)==Ce[2].charAt(1)&&Ce[3].charAt(0)==Ce[3].charAt(1)?Ce[0].charAt(0)+Ce[1].charAt(0)+Ce[2].charAt(0)+Ce[3].charAt(0):Ce.join("")}function o(K,le,ie,he){var ye=[fe(X(he)),fe(v(K).toString(16)),fe(v(le).toString(16)),fe(v(ie).toString(16))];return ye.join("")}i.equals=function(K,le){return!K||!le?!1:i(K).toRgbString()==i(le).toRgbString()},i.random=function(){return i.fromRatio({r:t(),g:t(),b:t()})};function d(K,le){le=le===0?0:le||10;var ie=i(K).toHsl();return ie.s-=le/100,ie.s=W(ie.s),i(ie)}function T(K,le){le=le===0?0:le||10;var ie=i(K).toHsl();return ie.s+=le/100,ie.s=W(ie.s),i(ie)}function S(K){return i(K).desaturate(100)}function C(K,le){le=le===0?0:le||10;var ie=i(K).toHsl();return ie.l+=le/100,ie.l=W(ie.l),i(ie)}function m(K,le){le=le===0?0:le||10;var ie=i(K).toRgb();return ie.r=r(0,p(255,ie.r-v(255*-(le/100)))),ie.g=r(0,p(255,ie.g-v(255*-(le/100)))),ie.b=r(0,p(255,ie.b-v(255*-(le/100)))),i(ie)}function E(K,le){le=le===0?0:le||10;var ie=i(K).toHsl();return ie.l-=le/100,ie.l=W(ie.l),i(ie)}function b(K,le){var ie=i(K).toHsl(),he=(ie.h+le)%360;return ie.h=he<0?360+he:he,i(ie)}function s(K){var le=i(K).toHsl();return le.h=(le.h+180)%360,i(le)}function L(K){var le=i(K).toHsl(),ie=le.h;return[i(K),i({h:(ie+120)%360,s:le.s,l:le.l}),i({h:(ie+240)%360,s:le.s,l:le.l})]}function A(K){var le=i(K).toHsl(),ie=le.h;return[i(K),i({h:(ie+90)%360,s:le.s,l:le.l}),i({h:(ie+180)%360,s:le.s,l:le.l}),i({h:(ie+270)%360,s:le.s,l:le.l})]}function k(K){var le=i(K).toHsl(),ie=le.h;return[i(K),i({h:(ie+72)%360,s:le.s,l:le.l}),i({h:(ie+216)%360,s:le.s,l:le.l})]}function _(K,le,ie){le=le||6,ie=ie||30;var he=i(K).toHsl(),ye=360/ie,Ce=[i(K)];for(he.h=(he.h-(ye*le>>1)+720)%360;--le;)he.h=(he.h+ye)%360,Ce.push(i(he));return Ce}function U(K,le){le=le||6;for(var ie=i(K).toHsv(),he=ie.h,ye=ie.s,Ce=ie.v,Ae=[],ke=1/le;le--;)Ae.push(i({h:he,s:ye,v:Ce})),Ce=(Ce+ke)%1;return Ae}i.mix=function(K,le,ie){ie=ie===0?0:ie||50;var he=i(K).toRgb(),ye=i(le).toRgb(),Ce=ie/100,Ae={r:(ye.r-he.r)*Ce+he.r,g:(ye.g-he.g)*Ce+he.g,b:(ye.b-he.b)*Ce+he.b,a:(ye.a-he.a)*Ce+he.a};return i(Ae)},i.readability=function(K,le){var ie=i(K),he=i(le);return(P.max(ie.getLuminance(),he.getLuminance())+.05)/(P.min(ie.getLuminance(),he.getLuminance())+.05)},i.isReadable=function(K,le,ie){var he=i.readability(K,le),ye,Ce;switch(Ce=!1,ye=q(ie),ye.level+ye.size){case"AAsmall":case"AAAlarge":Ce=he>=4.5;break;case"AAlarge":Ce=he>=3;break;case"AAAsmall":Ce=he>=7;break}return Ce},i.mostReadable=function(K,le,ie){var he=null,ye=0,Ce,Ae,ke,we;ie=ie||{},Ae=ie.includeFallbackColors,ke=ie.level,we=ie.size;for(var Ee=0;Ee<le.length;Ee++)Ce=i.readability(K,le[Ee]),Ce>ye&&(ye=Ce,he=i(le[Ee]));return i.isReadable(K,he,{level:ke,size:we})||!Ae?he:(ie.includeFallbackColors=!1,i.mostReadable(K,["#fff","#000"],ie))};var F=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=i.hexNames=B(F);function B(K){var le={};for(var ie in K)K.hasOwnProperty(ie)&&(le[K[ie]]=ie);return le}function N(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function V(K,le){re(K)&&(K="100%");var ie=ne(K);return K=p(le,r(0,parseFloat(K))),ie&&(K=parseInt(K*le,10)/100),P.abs(K-le)<1e-6?1:K%le/parseFloat(le)}function W(K){return p(1,r(0,K))}function Q(K){return parseInt(K,16)}function re(K){return typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1}function ne(K){return typeof K=="string"&&K.indexOf("%")!=-1}function fe(K){return K.length==1?"0"+K:""+K}function $(K){return K<=1&&(K=K*100+"%"),K}function X(K){return P.round(parseFloat(K)*255).toString(16)}function oe(K){return Q(K)/255}var Y=function(){var K="[-\\+]?\\d+%?",le="[-\\+]?\\d*\\.\\d+%?",ie="(?:"+le+")|(?:"+K+")",he="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?",ye="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?";return{CSS_UNIT:new RegExp(ie),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+ye),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ee(K){return!!Y.CSS_UNIT.exec(K)}function se(K){K=K.replace(a,"").replace(x,"").toLowerCase();var le=!1;if(F[K])K=F[K],le=!0;else if(K=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ie;return(ie=Y.rgb.exec(K))?{r:ie[1],g:ie[2],b:ie[3]}:(ie=Y.rgba.exec(K))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=Y.hsl.exec(K))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=Y.hsla.exec(K))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=Y.hsv.exec(K))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=Y.hsva.exec(K))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=Y.hex8.exec(K))?{r:Q(ie[1]),g:Q(ie[2]),b:Q(ie[3]),a:oe(ie[4]),format:le?"name":"hex8"}:(ie=Y.hex6.exec(K))?{r:Q(ie[1]),g:Q(ie[2]),b:Q(ie[3]),format:le?"name":"hex"}:(ie=Y.hex4.exec(K))?{r:Q(ie[1]+""+ie[1]),g:Q(ie[2]+""+ie[2]),b:Q(ie[3]+""+ie[3]),a:oe(ie[4]+""+ie[4]),format:le?"name":"hex8"}:(ie=Y.hex3.exec(K))?{r:Q(ie[1]+""+ie[1]),g:Q(ie[2]+""+ie[2]),b:Q(ie[3]+""+ie[3]),format:le?"name":"hex"}:!1}function q(K){var le,ie;return K=K||{level:"AA",size:"small"},le=(K.level||"AA").toUpperCase(),ie=(K.size||"small").toLowerCase(),le!=="AA"&&le!=="AAA"&&(le="AA"),ie!=="small"&&ie!=="large"&&(ie="small"),{level:le,size:ie}}H.exports?H.exports=i:(g=(function(){return i}).call(j,e,j,H),g!==void 0&&(H.exports=g))})(Math)},37816:function(H){H.exports=g,H.exports.float32=H.exports.float=g,H.exports.fract32=H.exports.fract=e;var j=new Float32Array(1);function e(P,a){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);a instanceof Float32Array||(a=g(P));for(var x=0,w=a.length;x<w;x++)a[x]=P[x]-a[x];return a}return g(P-g(P))}function g(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(j[0]=P,j[0])}},23464:function(H,j,e){var g=e(65819);H.exports=w;var P=96;function a(v,p){var r=g(getComputedStyle(v).getPropertyValue(p));return r[0]*w(r[1],v)}function x(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=a(r,"font-size")/128;return p.removeChild(r),t}function w(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return x(v,p);case"em":return a(p,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(H,j,e){e.d(j,{NO:function(){return x}});function g(p,r){for(var t,i=p.length,n=i-r;n<--i;)t=p[n],p[n++]=p[i],p[i]=t}function P(p){return p}function a(p){if(p==null)return P;var r,t,i=p.scale[0],n=p.scale[1],u=p.translate[0],f=p.translate[1];return function(l,y){y||(r=t=0);var h=2,M=l.length,c=new Array(M);for(c[0]=(r+=l[0])*i+u,c[1]=(t+=l[1])*n+f;h<M;)c[h]=l[h],++h;return c}}function x(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return w(p,t)})}:w(p,r)}function w(p,r){var t=r.id,i=r.bbox,n=r.properties==null?{}:r.properties,u=v(p,r);return t==null&&i==null?{type:"Feature",properties:n,geometry:u}:i==null?{type:"Feature",id:t,properties:n,geometry:u}:{type:"Feature",id:t,bbox:i,properties:n,geometry:u}}function v(p,r){var t=a(p.transform),i=p.arcs;function n(M,c){c.length&&c.pop();for(var o=i[M<0?~M:M],d=0,T=o.length;d<T;++d)c.push(t(o[d],d));M<0&&g(c,T)}function u(M){return t(M)}function f(M){for(var c=[],o=0,d=M.length;o<d;++o)n(M[o],c);return c.length<2&&c.push(c[0]),c}function l(M){for(var c=f(M);c.length<4;)c.push(c[0]);return c}function y(M){return M.map(l)}function h(M){var c=M.type,o;switch(c){case"GeometryCollection":return{type:c,geometries:M.geometries.map(h)};case"Point":o=u(M.coordinates);break;case"MultiPoint":o=M.coordinates.map(u);break;case"LineString":o=f(M.arcs);break;case"MultiLineString":o=M.arcs.map(f);break;case"Polygon":o=y(M.arcs);break;case"MultiPolygon":o=M.arcs.map(y);break;default:return null}return{type:c,coordinates:o}}return h(r)}},73384:function(H,j,e){var g=e(54612);H.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!g(P)}},57980:function(H,j,e){var g=e(81680),P=e(7328),a=e(33940),x=e(18856),w=function(v,p){return v.replace("%v",x(p))};H.exports=function(v,p,r){if(!P(r))throw new TypeError(w(p,v));if(!g(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=a(r.errorMessage);throw g(t)||(t=p),new TypeError(w(t,v))}},32336:function(H){H.exports=function(j){try{return j.toString()}catch{try{return String(j)}catch{return null}}}},18856:function(H,j,e){var g=e(32336),P=/[\n\r\u2028\u2029]/g;H.exports=function(a){var x=g(a);return x===null?"<Non-coercible to string value>":(x.length>100&&(x=x.slice(0,99)+"…"),x=x.replace(P,function(w){switch(w){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),x)}},7328:function(H,j,e){var g=e(81680),P={object:!0,function:!0,undefined:!0};H.exports=function(a){return g(a)?hasOwnProperty.call(P,typeof a):!1}},87396:function(H,j,e){var g=e(57980),P=e(85488);H.exports=function(a){return P(a)?a:g(a,"%v is not a plain function",arguments[1])}},85488:function(H,j,e){var g=e(73384),P=/^\s*class[\s{/}]/,a=Function.prototype.toString;H.exports=function(x){return!(!g(x)||P.test(a.call(x)))}},54612:function(H,j,e){var g=e(7328);H.exports=function(P){if(!g(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},33940:function(H,j,e){var g=e(81680),P=e(7328),a=Object.prototype.toString;H.exports=function(x){if(!g(x))return null;if(P(x)){var w=x.toString;if(typeof w!="function"||w===a)return null}try{return""+x}catch{return null}}},18496:function(H,j,e){var g=e(57980),P=e(81680);H.exports=function(a){return P(a)?a:g(a,"Cannot use %v",arguments[1])}},81680:function(H){var j=void 0;H.exports=function(e){return e!==j&&e!==null}},14144:function(H,j,e){var g=e(308),P=e(10352),a=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var x=typeof Uint8ClampedArray<"u",w=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;j.free=function(s){if(a.isBuffer(s))t[g.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var L=s.length||s.byteLength,A=g.log2(L)|0;r[A].push(s)}};function i(b){if(b){var s=b.length||b.byteLength,L=g.log2(s);r[L].push(b)}}function n(b){i(b.buffer)}j.freeUint8=j.freeUint16=j.freeUint32=j.freeBigUint64=j.freeInt8=j.freeInt16=j.freeInt32=j.freeBigInt64=j.freeFloat32=j.freeFloat=j.freeFloat64=j.freeDouble=j.freeUint8Clamped=j.freeDataView=n,j.freeArrayBuffer=i,j.freeBuffer=function(s){t[g.log2(s.length)].push(s)},j.malloc=function(s,L){if(L===void 0||L==="arraybuffer")return u(s);switch(L){case"uint8":return f(s);case"uint16":return l(s);case"uint32":return y(s);case"int8":return h(s);case"int16":return M(s);case"int32":return c(s);case"float":case"float32":return o(s);case"double":case"float64":return d(s);case"uint8_clamped":return T(s);case"bigint64":return C(s);case"biguint64":return S(s);case"buffer":return E(s);case"data":case"dataview":return m(s);default:return null}return null};function u(s){var s=g.nextPow2(s),L=g.log2(s),A=r[L];return A.length>0?A.pop():new ArrayBuffer(s)}j.mallocArrayBuffer=u;function f(b){return new Uint8Array(u(b),0,b)}j.mallocUint8=f;function l(b){return new Uint16Array(u(2*b),0,b)}j.mallocUint16=l;function y(b){return new Uint32Array(u(4*b),0,b)}j.mallocUint32=y;function h(b){return new Int8Array(u(b),0,b)}j.mallocInt8=h;function M(b){return new Int16Array(u(2*b),0,b)}j.mallocInt16=M;function c(b){return new Int32Array(u(4*b),0,b)}j.mallocInt32=c;function o(b){return new Float32Array(u(4*b),0,b)}j.mallocFloat32=j.mallocFloat=o;function d(b){return new Float64Array(u(8*b),0,b)}j.mallocFloat64=j.mallocDouble=d;function T(b){return x?new Uint8ClampedArray(u(b),0,b):f(b)}j.mallocUint8Clamped=T;function S(b){return w?new BigUint64Array(u(8*b),0,b):null}j.mallocBigUint64=S;function C(b){return v?new BigInt64Array(u(8*b),0,b):null}j.mallocBigInt64=C;function m(b){return new DataView(u(b),0,b)}j.mallocDataView=m;function E(b){b=g.nextPow2(b);var s=g.log2(b),L=t[s];return L.length>0?L.pop():new a(b)}j.mallocBuffer=E,j.clearCache=function(){for(var s=0;s<32;++s)p.UINT8[s].length=0,p.UINT16[s].length=0,p.UINT32[s].length=0,p.INT8[s].length=0,p.INT16[s].length=0,p.INT32[s].length=0,p.FLOAT[s].length=0,p.DOUBLE[s].length=0,p.BIGUINT64[s].length=0,p.BIGINT64[s].length=0,p.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(H){var j=/[\'\"]/;H.exports=function(g){return g?(j.test(g.charAt(0))&&(g=g.substr(1)),j.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},45223:function(H){H.exports=function(e,g,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var a=0,x=P.length;a<x;a++){var w=P[a];for(var v in w)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var p;if(w[v]===!0)p=g[v];else{if(w[v]===!1)continue;if(typeof w[v]=="function"&&(p=w[v](g[v],e,g),p===void 0))continue}e[v]=p}}return e}},96656:function(H,j,e){H.exports=g;function g(a,x){if(P("noDeprecation"))return a;var w=!1;function v(){if(!w){if(P("throwDeprecation"))throw new Error(x);P("traceDeprecation")?console.trace(x):console.warn(x),w=!0}return a.apply(this,arguments)}return v}function P(a){try{if(!e.g.localStorage)return!1}catch{return!1}var x=e.g.localStorage[a];return x==null?!1:String(x).toLowerCase()==="true"}},75272:function(H){H.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(H,j,e){var g=e(91148),P=e(84420),a=e(96632),x=e(7728);function w(Ce){return Ce.call.bind(Ce)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=w(Object.prototype.toString),t=w(Number.prototype.valueOf),i=w(String.prototype.valueOf),n=w(Boolean.prototype.valueOf);if(v)var u=w(BigInt.prototype.valueOf);if(p)var f=w(Symbol.prototype.valueOf);function l(Ce,Ae){if(typeof Ce!="object")return!1;try{return Ae(Ce),!0}catch{return!1}}j.isArgumentsObject=g,j.isGeneratorFunction=P,j.isTypedArray=x;function y(Ce){return typeof Promise<"u"&&Ce instanceof Promise||Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"&&typeof Ce.catch=="function"}j.isPromise=y;function h(Ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ce):x(Ce)||Q(Ce)}j.isArrayBufferView=h;function M(Ce){return a(Ce)==="Uint8Array"}j.isUint8Array=M;function c(Ce){return a(Ce)==="Uint8ClampedArray"}j.isUint8ClampedArray=c;function o(Ce){return a(Ce)==="Uint16Array"}j.isUint16Array=o;function d(Ce){return a(Ce)==="Uint32Array"}j.isUint32Array=d;function T(Ce){return a(Ce)==="Int8Array"}j.isInt8Array=T;function S(Ce){return a(Ce)==="Int16Array"}j.isInt16Array=S;function C(Ce){return a(Ce)==="Int32Array"}j.isInt32Array=C;function m(Ce){return a(Ce)==="Float32Array"}j.isFloat32Array=m;function E(Ce){return a(Ce)==="Float64Array"}j.isFloat64Array=E;function b(Ce){return a(Ce)==="BigInt64Array"}j.isBigInt64Array=b;function s(Ce){return a(Ce)==="BigUint64Array"}j.isBigUint64Array=s;function L(Ce){return r(Ce)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function A(Ce){return typeof Map>"u"?!1:L.working?L(Ce):Ce instanceof Map}j.isMap=A;function k(Ce){return r(Ce)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function _(Ce){return typeof Set>"u"?!1:k.working?k(Ce):Ce instanceof Set}j.isSet=_;function U(Ce){return r(Ce)==="[object WeakMap]"}U.working=typeof WeakMap<"u"&&U(new WeakMap);function F(Ce){return typeof WeakMap>"u"?!1:U.working?U(Ce):Ce instanceof WeakMap}j.isWeakMap=F;function z(Ce){return r(Ce)==="[object WeakSet]"}z.working=typeof WeakSet<"u"&&z(new WeakSet);function B(Ce){return z(Ce)}j.isWeakSet=B;function N(Ce){return r(Ce)==="[object ArrayBuffer]"}N.working=typeof ArrayBuffer<"u"&&N(new ArrayBuffer);function V(Ce){return typeof ArrayBuffer>"u"?!1:N.working?N(Ce):Ce instanceof ArrayBuffer}j.isArrayBuffer=V;function W(Ce){return r(Ce)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function Q(Ce){return typeof DataView>"u"?!1:W.working?W(Ce):Ce instanceof DataView}j.isDataView=Q;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(Ce){return r(Ce)==="[object SharedArrayBuffer]"}function fe(Ce){return typeof re>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new re)),ne.working?ne(Ce):Ce instanceof re)}j.isSharedArrayBuffer=fe;function $(Ce){return r(Ce)==="[object AsyncFunction]"}j.isAsyncFunction=$;function X(Ce){return r(Ce)==="[object Map Iterator]"}j.isMapIterator=X;function oe(Ce){return r(Ce)==="[object Set Iterator]"}j.isSetIterator=oe;function Y(Ce){return r(Ce)==="[object Generator]"}j.isGeneratorObject=Y;function ee(Ce){return r(Ce)==="[object WebAssembly.Module]"}j.isWebAssemblyCompiledModule=ee;function se(Ce){return l(Ce,t)}j.isNumberObject=se;function q(Ce){return l(Ce,i)}j.isStringObject=q;function K(Ce){return l(Ce,n)}j.isBooleanObject=K;function le(Ce){return v&&l(Ce,u)}j.isBigIntObject=le;function ie(Ce){return p&&l(Ce,f)}j.isSymbolObject=ie;function he(Ce){return se(Ce)||q(Ce)||K(Ce)||le(Ce)||ie(Ce)}j.isBoxedPrimitive=he;function ye(Ce){return typeof Uint8Array<"u"&&(V(Ce)||fe(Ce))}j.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ce){Object.defineProperty(j,Ce,{enumerable:!1,value:function(){throw new Error(Ce+" is not supported in userland")}})})},35840:function(H,j,e){var g=e(4168),P=Object.getOwnPropertyDescriptors||function(re){for(var ne=Object.keys(re),fe={},$=0;$<ne.length;$++)fe[ne[$]]=Object.getOwnPropertyDescriptor(re,ne[$]);return fe},a=/%[sdj%]/g;j.format=function(Q){if(!S(Q)){for(var re=[],ne=0;ne<arguments.length;ne++)re.push(p(arguments[ne]));return re.join(" ")}for(var ne=1,fe=arguments,$=fe.length,X=String(Q).replace(a,function(Y){if(Y==="%%")return"%";if(ne>=$)return Y;switch(Y){case"%s":return String(fe[ne++]);case"%d":return Number(fe[ne++]);case"%j":try{return JSON.stringify(fe[ne++])}catch{return"[Circular]"}default:return Y}}),oe=fe[ne];ne<$;oe=fe[++ne])o(oe)||!b(oe)?X+=" "+oe:X+=" "+p(oe);return X},j.deprecate=function(Q,re){if(typeof g<"u"&&g.noDeprecation===!0)return Q;if(typeof g>"u")return function(){return j.deprecate(Q,re).apply(this,arguments)};var ne=!1;function fe(){if(!ne){if(g.throwDeprecation)throw new Error(re);g.traceDeprecation?console.trace(re):console.error(re),ne=!0}return Q.apply(this,arguments)}return fe};var x={},w=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),w=new RegExp("^"+v+"$","i")}j.debuglog=function(Q){if(Q=Q.toUpperCase(),!x[Q])if(w.test(Q)){var re=g.pid;x[Q]=function(){var ne=j.format.apply(j,arguments);console.error("%s %d: %s",Q,re,ne)}}else x[Q]=function(){};return x[Q]};function p(Q,re){var ne={seen:[],stylize:t};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),c(re)?ne.showHidden=re:re&&j._extend(ne,re),m(ne.showHidden)&&(ne.showHidden=!1),m(ne.depth)&&(ne.depth=2),m(ne.colors)&&(ne.colors=!1),m(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=r),n(ne,Q,ne.depth)}j.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(Q,re){var ne=p.styles[re];return ne?"\x1B["+p.colors[ne][0]+"m"+Q+"\x1B["+p.colors[ne][1]+"m":Q}function t(Q,re){return Q}function i(Q){var re={};return Q.forEach(function(ne,fe){re[ne]=!0}),re}function n(Q,re,ne){if(Q.customInspect&&re&&A(re.inspect)&&re.inspect!==j.inspect&&!(re.constructor&&re.constructor.prototype===re)){var fe=re.inspect(ne,Q);return S(fe)||(fe=n(Q,fe,ne)),fe}var $=u(Q,re);if($)return $;var X=Object.keys(re),oe=i(X);if(Q.showHidden&&(X=Object.getOwnPropertyNames(re)),L(re)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return f(re);if(X.length===0){if(A(re)){var Y=re.name?": "+re.name:"";return Q.stylize("[Function"+Y+"]","special")}if(E(re))return Q.stylize(RegExp.prototype.toString.call(re),"regexp");if(s(re))return Q.stylize(Date.prototype.toString.call(re),"date");if(L(re))return f(re)}var ee="",se=!1,q=["{","}"];if(M(re)&&(se=!0,q=["[","]"]),A(re)){var K=re.name?": "+re.name:"";ee=" [Function"+K+"]"}if(E(re)&&(ee=" "+RegExp.prototype.toString.call(re)),s(re)&&(ee=" "+Date.prototype.toUTCString.call(re)),L(re)&&(ee=" "+f(re)),X.length===0&&(!se||re.length==0))return q[0]+ee+q[1];if(ne<0)return E(re)?Q.stylize(RegExp.prototype.toString.call(re),"regexp"):Q.stylize("[Object]","special");Q.seen.push(re);var le;return se?le=l(Q,re,ne,oe,X):le=X.map(function(ie){return y(Q,re,ne,oe,ie,se)}),Q.seen.pop(),h(le,ee,q)}function u(Q,re){if(m(re))return Q.stylize("undefined","undefined");if(S(re)){var ne="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(ne,"string")}if(T(re))return Q.stylize(""+re,"number");if(c(re))return Q.stylize(""+re,"boolean");if(o(re))return Q.stylize("null","null")}function f(Q){return"["+Error.prototype.toString.call(Q)+"]"}function l(Q,re,ne,fe,$){for(var X=[],oe=0,Y=re.length;oe<Y;++oe)B(re,String(oe))?X.push(y(Q,re,ne,fe,String(oe),!0)):X.push("");return $.forEach(function(ee){ee.match(/^\d+$/)||X.push(y(Q,re,ne,fe,ee,!0))}),X}function y(Q,re,ne,fe,$,X){var oe,Y,ee;if(ee=Object.getOwnPropertyDescriptor(re,$)||{value:re[$]},ee.get?ee.set?Y=Q.stylize("[Getter/Setter]","special"):Y=Q.stylize("[Getter]","special"):ee.set&&(Y=Q.stylize("[Setter]","special")),B(fe,$)||(oe="["+$+"]"),Y||(Q.seen.indexOf(ee.value)<0?(o(ne)?Y=n(Q,ee.value,null):Y=n(Q,ee.value,ne-1),Y.indexOf(`
`)>-1&&(X?Y=Y.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(se){return"   "+se}).join(`
`))):Y=Q.stylize("[Circular]","special")),m(oe)){if(X&&$.match(/^\d+$/))return Y;oe=JSON.stringify(""+$),oe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(oe=oe.slice(1,-1),oe=Q.stylize(oe,"name")):(oe=oe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),oe=Q.stylize(oe,"string"))}return oe+": "+Y}function h(Q,re,ne){var fe=Q.reduce(function($,X){return X.indexOf(`
`)>=0,$+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?ne[0]+(re===""?"":re+`
 `)+" "+Q.join(`,
  `)+" "+ne[1]:ne[0]+re+" "+Q.join(", ")+" "+ne[1]}j.types=e(41088);function M(Q){return Array.isArray(Q)}j.isArray=M;function c(Q){return typeof Q=="boolean"}j.isBoolean=c;function o(Q){return Q===null}j.isNull=o;function d(Q){return Q==null}j.isNullOrUndefined=d;function T(Q){return typeof Q=="number"}j.isNumber=T;function S(Q){return typeof Q=="string"}j.isString=S;function C(Q){return typeof Q=="symbol"}j.isSymbol=C;function m(Q){return Q===void 0}j.isUndefined=m;function E(Q){return b(Q)&&_(Q)==="[object RegExp]"}j.isRegExp=E,j.types.isRegExp=E;function b(Q){return typeof Q=="object"&&Q!==null}j.isObject=b;function s(Q){return b(Q)&&_(Q)==="[object Date]"}j.isDate=s,j.types.isDate=s;function L(Q){return b(Q)&&(_(Q)==="[object Error]"||Q instanceof Error)}j.isError=L,j.types.isNativeError=L;function A(Q){return typeof Q=="function"}j.isFunction=A;function k(Q){return Q===null||typeof Q=="boolean"||typeof Q=="number"||typeof Q=="string"||typeof Q=="symbol"||typeof Q>"u"}j.isPrimitive=k,j.isBuffer=e(75272);function _(Q){return Object.prototype.toString.call(Q)}function U(Q){return Q<10?"0"+Q.toString(10):Q.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(){var Q=new Date,re=[U(Q.getHours()),U(Q.getMinutes()),U(Q.getSeconds())].join(":");return[Q.getDate(),F[Q.getMonth()],re].join(" ")}j.log=function(){console.log("%s - %s",z(),j.format.apply(j,arguments))},j.inherits=e(6768),j._extend=function(Q,re){if(!re||!b(re))return Q;for(var ne=Object.keys(re),fe=ne.length;fe--;)Q[ne[fe]]=re[ne[fe]];return Q};function B(Q,re){return Object.prototype.hasOwnProperty.call(Q,re)}var N=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;j.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(N&&re[N]){var ne=re[N];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,N,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var fe,$,X=new Promise(function(ee,se){fe=ee,$=se}),oe=[],Y=0;Y<arguments.length;Y++)oe.push(arguments[Y]);oe.push(function(ee,se){ee?$(ee):fe(se)});try{re.apply(this,oe)}catch(ee){$(ee)}return X}return Object.setPrototypeOf(ne,Object.getPrototypeOf(re)),N&&Object.defineProperty(ne,N,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,P(re))},j.promisify.custom=N;function V(Q,re){if(!Q){var ne=new Error("Promise was rejected with a falsy value");ne.reason=Q,Q=ne}return re(Q)}function W(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var ne=[],fe=0;fe<arguments.length;fe++)ne.push(arguments[fe]);var $=ne.pop();if(typeof $!="function")throw new TypeError("The last argument must be of type Function");var X=this,oe=function(){return $.apply(X,arguments)};Q.apply(this,ne).then(function(Y){g.nextTick(oe.bind(null,null,Y))},function(Y){g.nextTick(V.bind(null,Y,oe))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(Q)),Object.defineProperties(re,P(Q)),re}j.callbackify=W},5408:function(H,j,e){var g=e(13380);H.exports=function(a){return g("webgl",a)}},96632:function(H,j,e){var g=e(46492),P=e(63436),a=e(57916),x=e(99676),w=e(2304),v=x("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=P(),i=x("String.prototype.slice"),n=Object.getPrototypeOf,u=x("Array.prototype.indexOf",!0)||function(M,c){for(var o=0;o<M.length;o+=1)if(M[o]===c)return o;return-1},f={__proto__:null};p&&w&&n?g(t,function(h){var M=new r[h];if(Symbol.toStringTag in M){var c=n(M),o=w(c,Symbol.toStringTag);if(!o){var d=n(c);o=w(d,Symbol.toStringTag)}f["$"+h]=a(o.get)}}):g(t,function(h){var M=new r[h],c=M.slice||M.set;c&&(f["$"+h]=a(c))});var l=function(M){var c=!1;return g(f,function(o,d){if(!c)try{"$"+o(M)===d&&(c=i(d,1))}catch{}}),c},y=function(M){var c=!1;return g(f,function(o,d){if(!c)try{o(M),c=i(d,1)}catch{}}),c};H.exports=function(M){if(!M||typeof M!="object")return!1;if(!p){var c=i(v(M),8,-1);return u(t,c)>-1?c:c!=="Object"?!1:y(M)}return w?l(M):null}},67020:function(H,j,e){var g=e(38700),P=e(50896),a=g.instance();function x(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}x.prototype=new g.baseCalendar,P(x.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,l){if(typeof f=="string"){var y=f.match(v);return y?y[0]:""}var h=this._validateYear(f),M=f.month(),c=""+this.toChineseMonth(h,M);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,M)&&(c+="i"),c},monthNames:function(f){if(typeof f=="string"){var l=f.match(p);return l?l[0]:""}var y=this._validateYear(f),h=f.month(),M=this.toChineseMonth(y,h),c=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][M-1];return this.isIntercalaryMonth(y,h)&&(c="闰"+c),c},monthNamesShort:function(f){if(typeof f=="string"){var l=f.match(r);return l?l[0]:""}var y=this._validateYear(f),h=f.month(),M=this.toChineseMonth(y,h),c=["一","二","三","四","五","六","七","八","九","十","十一","十二"][M-1];return this.isIntercalaryMonth(y,h)&&(c="闰"+c),c},parseMonth:function(f,l){f=this._validateYear(f);var y=parseInt(l),h;if(isNaN(y))l[0]==="闰"&&(h=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),y=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var M=l[l.length-1];h=M==="i"||M==="I"}var c=this.toMonthIndex(f,y,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,l){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw l.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,l,y){var h=this.intercalaryMonth(f),M=y&&l!==h;if(M||l<1||l>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!y&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var y=this.intercalaryMonth(f),h=y?12:11;if(l<0||l>h)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return y?l<y?M=l+1:M=l:M=l+1,M},intercalaryMonth:function(f){f=this._validateYear(f);var l=t[f-t[0]],y=l>>13;return y},isIntercalaryMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var y=this.intercalaryMonth(f);return!!y&&y===l},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,l,y){var h=this._validateYear(f,g.local.invalidyear),M=i[h-i[0]],c=M>>9&4095,o=M>>5&15,d=M&31,T;T=a.newDate(c,o,d),T.add(4-(T.dayOfWeek()||7),"d");var S=this.toJD(f,l,y)-T.toJD();return 1+Math.floor(S/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,l){f.year&&(l=f.month(),f=f.year()),f=this._validateYear(f);var y=t[f-t[0]],h=y>>13,M=h?12:11;if(l>M)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=y&1<<12-l?30:29;return c},weekDay:function(f,l,y){return(this.dayOfWeek(f,l,y)||7)<6},toJD:function(f,l,y){var h=this._validate(f,c,y,g.local.invalidDate);f=this._validateYear(h.year()),l=h.month(),y=h.day();var M=this.isIntercalaryMonth(f,l),c=this.toChineseMonth(f,l),o=u(f,c,y,M);return a.toJD(o.year,o.month,o.day)},fromJD:function(f){var l=a.fromJD(f),y=n(l.year(),l.month(),l.day()),h=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,h,y.day)},fromString:function(f){var l=f.match(w),y=this._validateYear(+l[1]),h=+l[2],M=!!l[3],c=this.toMonthIndex(y,h,M),o=+l[4];return this.newDate(y,c,o)},add:function(f,l,y){var h=f.year(),M=f.month(),c=this.isIntercalaryMonth(h,M),o=this.toChineseMonth(h,M),d=Object.getPrototypeOf(x.prototype).add.call(this,f,l,y);if(y==="y"){var T=d.year(),S=d.month(),C=this.isIntercalaryMonth(T,o),m=c&&C?this.toMonthIndex(T,o,!0):this.toMonthIndex(T,o,!1);m!==S&&d.month(m)}return d}});var w=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;g.calendars.chinese=x;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],i=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(f,l,y,h){var M,c;if(typeof f=="object")M=f,c=l||{};else{var o=typeof f=="number"&&f>=1888&&f<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var T=typeof y=="number"&&y>=1&&y<=31;if(!T)throw new Error("Solar day outside range 1 - 31");M={year:f,month:l,day:y},c=h||{}}var S=i[M.year-i[0]],C=M.year<<9|M.month<<5|M.day;c.year=C>=S?M.year:M.year-1,S=i[c.year-i[0]];var m=S>>9&4095,E=S>>5&15,b=S&31,s,L=new Date(m,E-1,b),A=new Date(M.year,M.month-1,M.day);s=Math.round((A-L)/864e5);var k=t[c.year-t[0]],_;for(_=0;_<13;_++){var U=k&1<<12-_?30:29;if(s<U)break;s-=U}var F=k>>13;return!F||_<F?(c.isIntercalary=!1,c.month=1+_):_===F?(c.isIntercalary=!0,c.month=_):(c.isIntercalary=!1,c.month=_),c.day=1+s,c}function u(f,l,y,h,M){var c,o;if(typeof f=="object")o=f,c=l||{};else{var d=typeof f=="number"&&f>=1888&&f<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var T=typeof l=="number"&&l>=1&&l<=12;if(!T)throw new Error("Lunar month outside range 1 - 12");var S=typeof y=="number"&&y>=1&&y<=30;if(!S)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,c=h):(C=!!h,c=M||{}),o={year:f,month:l,day:y,isIntercalary:C}}var m;m=o.day-1;var E=t[o.year-t[0]],b=E>>13,s;b&&(o.month>b||o.isIntercalary)?s=o.month:s=o.month-1;for(var L=0;L<s;L++){var A=E&1<<12-L?30:29;m+=A}var k=i[o.year-i[0]],_=k>>9&4095,U=k>>5&15,F=k&31,z=new Date(_,U-1,F+m);return c.year=z.getFullYear(),c.month=1+z.getMonth(),c.day=z.getDate(),c}},89792:function(H,j,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=w.year()+(w.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(x,w,v){var p=this.newDate(x,w,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(x,w){var v=this._validate(x,w,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(x,w,v){return(this.dayOfWeek(x,w,v)||7)<6},toJD:function(x,w,v){var p=this._validate(x,w,v,g.local.invalidDate);return x=p.year(),x<0&&x++,p.day()+(p.month()-1)*30+(x-1)*365+Math.floor(x/4)+this.jdEpoch-1},fromJD:function(x){var w=Math.floor(x)+.5-this.jdEpoch,v=Math.floor((w-Math.floor((w+366)/1461))/365)+1;v<=0&&v--,w=Math.floor(x)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(w/30)+1,r=w-(p-1)*30+1;return this.newDate(v,p,r)}}),g.calendars.coptic=a},55668:function(H,j,e){var g=e(38700),P=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(w){return this._validate(w,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(w){return this._validate(w,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(w,v,p){var r=this.newDate(w,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(w,v){var p=this._validate(w,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(w,v,p){var r=this._validate(w,v,p,g.local.invalidDate);return(r.day()+1)%8},weekDay:function(w,v,p){var r=this.dayOfWeek(w,v,p);return r>=2&&r<=6},extraInfo:function(w,v,p){var r=this._validate(w,v,p,g.local.invalidDate);return{century:x[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(w,v,p){var r=this._validate(w,v,p,g.local.invalidDate);return w=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(w-1)*400+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(w/400)+1;w-=(v-1)*400,w+=w>15?16:0;var p=Math.floor(w/32)+1,r=w-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var x={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=a},65168:function(H,j,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=w.year()+(w.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(x,w,v){var p=this.newDate(x,w,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(x,w){var v=this._validate(x,w,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(x,w,v){return(this.dayOfWeek(x,w,v)||7)<6},toJD:function(x,w,v){var p=this._validate(x,w,v,g.local.invalidDate);return x=p.year(),x<0&&x++,p.day()+(p.month()-1)*30+(x-1)*365+Math.floor(x/4)+this.jdEpoch-1},fromJD:function(x){var w=Math.floor(x)+.5-this.jdEpoch,v=Math.floor((w-Math.floor((w+366)/1461))/365)+1;v<=0&&v--,w=Math.floor(x)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(w/30)+1,r=w-(p-1)*30+1;return this.newDate(v,p,r)}}),g.calendars.ethiopian=a},2084:function(H,j,e){var g=e(38700),P=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(w){return w=w<0?w+1:w,x(w*7+1,19)<7},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(w.year?w.year():w)?13:12},weekOfYear:function(w,v,p){var r=this.newDate(w,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,g.local.invalidYear);return w=v.year(),this.toJD(w===-1?1:w+1,7,1)-this.toJD(w,7,1)},daysInMonth:function(w,v){return w.year&&(v=w.month(),w=w.year()),this._validate(w,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(w)||v===8&&x(this.daysInYear(w),10)===5?30:v===9&&x(this.daysInYear(w),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(w,v,p){return this.dayOfWeek(w,v,p)!==6},extraInfo:function(w,v,p){var r=this._validate(w,v,p,g.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(w,v,p){var r=this._validate(w,v,p,g.local.invalidDate);w=r.year(),v=r.month(),p=r.day();var t=w<=0?w+1:w,i=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(w);n++)i+=this.daysInMonth(w,n);for(var n=1;n<v;n++)i+=this.daysInMonth(w,n)}else for(var n=7;n<v;n++)i+=this.daysInMonth(w,n);return i},_delay1:function(w){var v=Math.floor((235*w-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return x(3*(r+1),7)<3&&r++,r},_delay2:function(w){var v=this._delay1(w-1),p=this._delay1(w),r=this._delay1(w+1);return r-p===356?2:p-v===382?1:0},fromJD:function(w){w=Math.floor(w)+.5;for(var v=Math.floor((w-this.jdEpoch)*98496/35975351)-1;w>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=w<this.toJD(v,1,1)?7:1;w>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=w-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function x(w,v){return w-v*Math.floor(w/v)}g.calendars.hebrew=a},26368:function(H,j,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(x){var w=this._validate(x,this.minMonth,this.minDay,g.local.invalidYear);return(w.year()*11+14)%30<11},weekOfYear:function(x,w,v){var p=this.newDate(x,w,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(x){return this.leapYear(x)?355:354},daysInMonth:function(x,w){var v=this._validate(x,w,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(x,w,v){return this.dayOfWeek(x,w,v)!==5},toJD:function(x,w,v){var p=this._validate(x,w,v,g.local.invalidDate);return x=p.year(),w=p.month(),v=p.day(),x=x<=0?x+1:x,v+Math.ceil(29.5*(w-1))+(x-1)*354+Math.floor((3+11*x)/30)+this.jdEpoch-1},fromJD:function(x){x=Math.floor(x)+.5;var w=Math.floor((30*(x-this.jdEpoch)+10646)/10631);w=w<=0?w-1:w;var v=Math.min(12,Math.ceil((x-29-this.toJD(w,1,1))/29.5)+1),p=x-this.toJD(w,v,1)+1;return this.newDate(w,v,p)}}),g.calendars.islamic=a},24747:function(H,j,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=w.year()<0?w.year()+1:w.year();return v%4===0},weekOfYear:function(x,w,v){var p=this.newDate(x,w,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(x,w){var v=this._validate(x,w,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(x,w,v){return(this.dayOfWeek(x,w,v)||7)<6},toJD:function(x,w,v){var p=this._validate(x,w,v,g.local.invalidDate);return x=p.year(),w=p.month(),v=p.day(),x<0&&x++,w<=2&&(x--,w+=12),Math.floor(365.25*(x+4716))+Math.floor(30.6001*(w+1))+v-1524.5},fromJD:function(x){var w=Math.floor(x+.5),v=w+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),i=t-Math.floor(t<14?1:13),n=p-Math.floor(i>2?4716:4715),u=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,u)}}),g.calendars.julian=a},65616:function(H,j,e){var g=e(38700),P=e(50896);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,g.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate),i=t.toJD(),n=this._toHaab(i),u=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=x(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,x(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[w(v+20,20),w(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function x(v,p){return v-p*Math.floor(v/p)}function w(v,p){return x(v-1,p)+1}g.calendars.mayan=a},30632:function(H,j,e){var g=e(38700),P=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar;var x=g.instance("gregorian");P(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return x.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(w,v,p){var r=this.newDate(w,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(w,v){var p=this._validate(w,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(w,v,p){return(this.dayOfWeek(w,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidMonth),t=r.year();t<0&&t++;for(var i=r.day(),n=1;n<r.month();n++)i+=this.daysPerMonth[n-1];return i+x.toJD(t+1468,3,13)},fromJD:function(w){w=Math.floor(w+.5);for(var v=Math.floor((w-(this.jdEpoch-1))/366);w>=this.toJD(v+1,1,1);)v++;for(var p=w-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),g.calendars.nanakshahi=a},73040:function(H,j,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(x){return this.daysInYear(x)!==this.daysPerYear},weekOfYear:function(x,w,v){var p=this.newDate(x,w,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(x){var w=this._validate(x,this.minMonth,this.minDay,g.local.invalidYear);if(x=w.year(),typeof this.NEPALI_CALENDAR_DATA[x]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[x][p];return v},daysInMonth:function(x,w){return x.year&&(w=x.month(),x=x.year()),this._validate(x,w,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[x]>"u"?this.daysPerMonth[w-1]:this.NEPALI_CALENDAR_DATA[x][w]},weekDay:function(x,w,v){return this.dayOfWeek(x,w,v)!==6},toJD:function(x,w,v){var p=this._validate(x,w,v,g.local.invalidDate);x=p.year(),w=p.month(),v=p.day();var r=g.instance(),t=0,i=w,n=x;this._createMissingCalendarData(x);var u=x-(i>9||i===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(w!==9&&(t=v,i--);i!==9;)i<=0&&(i=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][i],i--;return w===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(u))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(u,1,1).add(t,"d").toJD()},fromJD:function(x){var w=g.instance(),v=w.fromJD(x),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][0],u=this.NEPALI_CALENDAR_DATA[t][i]-n+1;r>u;)i++,i>12&&(i=1,t++),u+=this.NEPALI_CALENDAR_DATA[t][i];var f=this.NEPALI_CALENDAR_DATA[t][i]-(u-r);return this.newDate(t,i,f)},_createMissingCalendarData:function(x){var w=this.daysPerMonth.slice(0);w.unshift(17);for(var v=x-1;v<x+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=w)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=a},1104:function(H,j,e){var g=e(38700),P=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(w,v,p){var r=this.newDate(w,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(w,v){var p=this._validate(w,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(w,v,p){return this.dayOfWeek(w,v,p)!==5},toJD:function(w,v,p){var r=this._validate(w,v,p,g.local.invalidDate);w=r.year(),v=r.month(),p=r.day();var t=w-(w>=0?474:473),i=474+x(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w)+.5;var v=w-this.toJD(475,1,1),p=Math.floor(v/1029983),r=x(v,1029983),t=2820;if(r!==1029982){var i=Math.floor(r/366),n=x(r,366);t=Math.floor((2134*i+2816*n+2815)/1028522)+i+1}var u=t+2820*p+474;u=u<=0?u-1:u;var f=w-this.toJD(u,1,1)+1,l=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),y=w-this.toJD(u,l,1)+1;return this.newDate(u,l,y)}});function x(w,v){return w-v*Math.floor(w/v)}g.calendars.persian=a,g.calendars.jalali=a},51456:function(H,j,e){var g=e(38700),P=e(50896),a=g.instance();function x(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}x.prototype=new g.baseCalendar,P(x.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(w,v){var p=this._validate(w,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(w,v,p){return(this.dayOfWeek(w,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(w){var v=a.fromJD(w),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)},_g2tYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)}}),g.calendars.taiwan=x},4592:function(H,j,e){var g=e(38700),P=e(50896),a=g.instance();function x(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}x.prototype=new g.baseCalendar,P(x.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(w,v){var p=this._validate(w,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(w,v,p){return(this.dayOfWeek(w,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(w){var v=a.fromJD(w),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)},_g2tYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)}}),g.calendars.thai=x},45348:function(H,j,e){var g=e(38700),P=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(w,v,p){var r=this.newDate(w,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(w){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(w,p);return v},daysInMonth:function(w,v){for(var p=this._validate(w,v,this.minDay,g.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,i=0;i<x.length;i++){if(x[i]>r)return x[t]-x[t-1];t++}return 30},weekDay:function(w,v,p){return this.dayOfWeek(w,v,p)!==5},toJD:function(w,v,p){var r=this._validate(w,v,p,g.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,i=r.day()+x[t-1]-1;return i+24e5-.5},fromJD:function(w){for(var v=w-24e5+.5,p=0,r=0;r<x.length&&!(x[r]>v);r++)p++;var t=p+15292,i=Math.floor((t-1)/12),n=i+1,u=t-12*i,f=v-x[p-1]+1;return this.newDate(n,u,f)},isValid:function(w,v,p){var r=g.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(w=w.year!=null?w.year:w,r=w>=1276&&w<=1500),r},_validate:function(w,v,p,r){var t=g.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),g.calendars.ummalqura=a;var x=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(H,j,e){var g=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var i=this._localCals[r+"-"+t];if(!i&&this.calendars[r]&&(i=new this.calendars[r](t),this._localCals[r+"-"+t]=i),!i)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return i},newDate:function(r,t,i,n,u){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,u):n)||this.instance(),n.newDate(r,t,i)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(i){return r[i]})}},substituteChineseDigits:function(r,t){return function(i){for(var n="",u=0;i>0;){var f=i%10;n=(f===0?"":r[f]+t[u])+n,u++,i=Math.floor(i/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function a(r,t,i,n){if(this._calendar=r,this._year=t,this._month=i,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function x(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}g(a.prototype,{newDate:function(r,t,i){return this._calendar.newDate(r??this,t,i)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,i){if(!this._calendar.isValid(r,t,i))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=i,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+x(Math.abs(this.year()),4)+"-"+x(this.month(),2)+"-"+x(this.day(),2)}});function w(){this.shortYearCutoff="+10"}g(w.prototype,{_validateLevel:0,newDate:function(r,t,i){return r==null?this.today():(r.year&&(this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),i=r.day(),t=r.month(),r=r.year()),new a(this,r,t,i))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+x(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var i=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(i.month()+this.monthsInYear(i)-this.firstMonth)%this.monthsInYear(i)+this.minMonth},fromMonthOfYear:function(r,t){var i=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,i,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),i},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,i){return this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,i){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,i),t,i)},_add:function(r,t,i){if(this._validateLevel++,i==="d"||i==="w"){var n=r.toJD()+t*(i==="w"?this.daysInWeek():1),u=r.calendar().fromJD(n);return this._validateLevel--,[u.year(),u.month(),u.day()]}try{var f=r.year()+(i==="y"?t:0),l=r.monthOfYear()+(i==="m"?t:0),u=r.day(),y=function(c){for(;l<c.minMonth;)f--,l+=c.monthsInYear(f);for(var o=c.monthsInYear(f);l>o-1+c.minMonth;)f++,l-=o,o=c.monthsInYear(f)};i==="y"?(r.month()!==this.fromMonthOfYear(f,l)&&(l=this.newDate(f,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(f)),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,l)))):i==="m"&&(y(this),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,l))));var h=[f,this.fromMonthOfYear(f,l),u];return this._validateLevel--,h}catch(M){throw this._validateLevel--,M}},_correctAdd:function(r,t,i,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var u={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],f=i<0?-1:1;t=this._add(r,i*u[0]+f*u[1],u[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,i){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=i==="y"?t:r.year(),u=i==="m"?t:r.month(),f=i==="d"?t:r.day();return(i==="y"||i==="m")&&(f=Math.min(f,this.daysInMonth(n,u))),r.date(n,u,f)},isValid:function(r,t,i){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var u=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(u)&&i>=this.minDay&&i-this.minDay<this.daysInMonth(u)}return this._validateLevel--,n},toJSDate:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,i,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,i))throw n.replace(/\{0\}/,this.local.name);var u=this.newDate(r,t,i);return this._validateLevel--,u}catch(f){throw this._validateLevel--,f}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new w,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var t=this._validate(i,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),i=t.year()+(t.year()<0?1:0);return i%4===0&&(i%100!==0||i%400===0)},weekOfYear:function(r,t,i){var n=this.newDate(r,t,i);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var i=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(r,t,i){return(this.dayOfWeek(r,t,i)||7)<6},toJD:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),i=n.day(),r<0&&r++,t<3&&(t+=12,r--);var u=Math.floor(r/100),f=2-u+Math.floor(u/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+i+f-1524.5},fromJD:function(r){var t=Math.floor(r+.5),i=Math.floor((t-186721625e-2)/36524.25);i=t+1+i-Math.floor(i/4);var n=i+1524,u=Math.floor((n-122.1)/365.25),f=Math.floor(365.25*u),l=Math.floor((n-f)/30.6001),y=n-f-Math.floor(l*30.6001),h=l-(l>13.5?13:1),M=u-(h>2.5?4716:4715);return M<=0&&M--,this.newDate(M,h,y)},toJSDate:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),u=new Date(n.year(),n.month()-1,n.day());return u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0),u.setHours(u.getHours()>12?u.getHours()+2:0),u},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=H.exports=new P;p.cdate=a,p.baseCalendar=w,p.calendars.gregorian=v},15168:function(H,j,e){var g=e(50896),P=e(38700);g(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],g(P.cdate.prototype,{formatDate:function(a,x){return typeof a!="string"&&(x=a,a=""),this._calendar.formatDate(a||"",this,x)}}),g(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,x,w){if(typeof a!="string"&&(w=x,x=a,a=""),!x)return"";if(x.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,w=w||{};var v=w.dayNamesShort||this.local.dayNamesShort,p=w.dayNames||this.local.dayNames,r=w.monthNumbers||this.local.monthNumbers,t=w.monthNamesShort||this.local.monthNamesShort,i=w.monthNames||this.local.monthNames;w.calculateWeek||this.local.calculateWeek;for(var n=function(S,C){for(var m=1;T+m<a.length&&a.charAt(T+m)===S;)m++;return T+=m-1,Math.floor(m/(C||1))>1},u=function(S,C,m,E){var b=""+C;if(n(S,E))for(;b.length<m;)b="0"+b;return b},f=function(S,C,m,E){return n(S)?E[C]:m[C]},l=this,y=function(S){return typeof r=="function"?r.call(l,S,n("m")):c(u("m",S.month(),2))},h=function(S,C){return C?typeof i=="function"?i.call(l,S):i[S.month()-l.minMonth]:typeof t=="function"?t.call(l,S):t[S.month()-l.minMonth]},M=this.local.digits,c=function(S){return w.localNumbers&&M?M(S):S},o="",d=!1,T=0;T<a.length;T++)if(d)a.charAt(T)==="'"&&!n("'")?d=!1:o+=a.charAt(T);else switch(a.charAt(T)){case"d":o+=c(u("d",x.day(),2));break;case"D":o+=f("D",x.dayOfWeek(),v,p);break;case"o":o+=u("o",x.dayOfYear(),3);break;case"w":o+=u("w",x.weekOfYear(),2);break;case"m":o+=y(x);break;case"M":o+=h(x,n("M"));break;case"y":o+=n("y",2)?x.year():(x.year()%100<10?"0":"")+x.year()%100;break;case"Y":n("Y",2),o+=x.formatYear();break;case"J":o+=x.toJD();break;case"@":o+=(x.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(x.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":d=!0;break;default:o+=a.charAt(T)}return o},parseDate:function(a,x,w){if(x==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(x=typeof x=="object"?x.toString():x+"",x==="")return null;a=a||this.local.dateFormat,w=w||{};var v=w.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=w.dayNamesShort||this.local.dayNamesShort,r=w.dayNames||this.local.dayNames,t=w.parseMonth||this.local.parseMonth,i=w.monthNumbers||this.local.monthNumbers,n=w.monthNamesShort||this.local.monthNamesShort,u=w.monthNames||this.local.monthNames,f=-1,l=-1,y=-1,h=-1,M=-1,c=!1,o=!1,d=function(_,U){for(var F=1;L+F<a.length&&a.charAt(L+F)===_;)F++;return L+=F-1,Math.floor(F/(U||1))>1},T=function(_,U){var F=d(_,U),z=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],B=new RegExp("^-?\\d{1,"+z+"}"),N=x.substring(s).match(B);if(!N)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=N[0].length,parseInt(N[0],10)},S=this,C=function(){if(typeof i=="function"){d("m");var _=i.call(S,x.substring(s));return s+=_.length,_}return T("m")},m=function(_,U,F,z){for(var B=d(_,z)?F:U,N=0;N<B.length;N++)if(x.substr(s,B[N].length).toLowerCase()===B[N].toLowerCase())return s+=B[N].length,N+S.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},E=function(){if(typeof u=="function"){var _=d("M")?u.call(S,x.substring(s)):n.call(S,x.substring(s));return s+=_.length,_}return m("M",n,u)},b=function(){if(x.charAt(s)!==a.charAt(L))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,L=0;L<a.length;L++)if(o)a.charAt(L)==="'"&&!d("'")?o=!1:b();else switch(a.charAt(L)){case"d":h=T("d");break;case"D":m("D",p,r);break;case"o":M=T("o");break;case"w":T("w");break;case"m":y=C();break;case"M":y=E();break;case"y":var A=L;c=!d("y",2),L=A,l=T("y",2);break;case"Y":l=T("Y",2);break;case"J":f=T("J")+.5,x.charAt(s)==="."&&(s++,T("J"));break;case"@":f=T("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=T("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=x.length;break;case"'":d("'")?b():o=!0;break;default:b()}if(s<x.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof y=="string"&&(y=t.call(this,l,y)),M>-1){y=1,h=M;for(var k=this.daysInMonth(l,y);h>k;k=this.daysInMonth(l,y))y++,h-=k}return f>-1?this.fromJD(f):this.newDate(l,y,h)},determineDate:function(a,x,w,v,p){w&&typeof w!="object"&&(p=v,v=w,w=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(i){try{return r.parseDate(v,i,p)}catch{}i=i.toLowerCase();for(var n=(i.match(/^c/)&&w?w.newDate():null)||r.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=u.exec(i);f;)n.add(parseInt(f[1],10),f[2]||"d"),f=u.exec(i);return n};return x=x?x.newDate():null,a=a==null?x:typeof a=="string"?t(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?x:r.today().add(a,"d"):r.newDate(a),a}})},21576:function(){},19768:function(){},63436:function(H,j,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;H.exports=function(){for(var x=[],w=0;w<g.length;w++)typeof P[g[w]]=="function"&&(x[x.length]=g[w]);return x}},67756:function(H,j,e){e.d(j,{qy:function(){return Ee},Gz:function(){return se}});function g(xe,Re,Ve){xe.prototype=Re.prototype=Ve,Ve.constructor=xe}function P(xe,Re){var Ve=Object.create(xe.prototype);for(var Ue in Re)Ve[Ue]=Re[Ue];return Ve}function a(){}var x=.7,w=1/x,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,i=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),u=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),f=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),y=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(a,T,{copy:function(Re){return Object.assign(new this.constructor,this,Re)},displayable:function(){return this.rgb().displayable()},hex:M,formatHex:M,formatHex8:c,formatHsl:o,formatRgb:d,toString:d});function M(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function o(){return z(this).formatHsl()}function d(){return this.rgb().formatRgb()}function T(xe){var Re,Ve;return xe=(xe+"").trim().toLowerCase(),(Re=t.exec(xe))?(Ve=Re[1].length,Re=parseInt(Re[1],16),Ve===6?S(Re):Ve===3?new b(Re>>8&15|Re>>4&240,Re>>4&15|Re&240,(Re&15)<<4|Re&15,1):Ve===8?C(Re>>24&255,Re>>16&255,Re>>8&255,(Re&255)/255):Ve===4?C(Re>>12&15|Re>>8&240,Re>>8&15|Re>>4&240,Re>>4&15|Re&240,((Re&15)<<4|Re&15)/255):null):(Re=i.exec(xe))?new b(Re[1],Re[2],Re[3],1):(Re=n.exec(xe))?new b(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,1):(Re=u.exec(xe))?C(Re[1],Re[2],Re[3],Re[4]):(Re=f.exec(xe))?C(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,Re[4]):(Re=l.exec(xe))?F(Re[1],Re[2]/100,Re[3]/100,1):(Re=y.exec(xe))?F(Re[1],Re[2]/100,Re[3]/100,Re[4]):h.hasOwnProperty(xe)?S(h[xe]):xe==="transparent"?new b(NaN,NaN,NaN,0):null}function S(xe){return new b(xe>>16&255,xe>>8&255,xe&255,1)}function C(xe,Re,Ve,Ue){return Ue<=0&&(xe=Re=Ve=NaN),new b(xe,Re,Ve,Ue)}function m(xe){return xe instanceof a||(xe=T(xe)),xe?(xe=xe.rgb(),new b(xe.r,xe.g,xe.b,xe.opacity)):new b}function E(xe,Re,Ve,Ue){return arguments.length===1?m(xe):new b(xe,Re,Ve,Ue??1)}function b(xe,Re,Ve,Ue){this.r=+xe,this.g=+Re,this.b=+Ve,this.opacity=+Ue}g(b,E,P(a,{brighter:function(Re){return Re=Re==null?w:Math.pow(w,Re),new b(this.r*Re,this.g*Re,this.b*Re,this.opacity)},darker:function(Re){return Re=Re==null?x:Math.pow(x,Re),new b(this.r*Re,this.g*Re,this.b*Re,this.opacity)},rgb:function(){return this},clamp:function(){return new b(_(this.r),_(this.g),_(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:L,formatRgb:A,toString:A}));function s(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b))}function L(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b)).concat(U((isNaN(this.opacity)?1:this.opacity)*255))}function A(){var xe=k(this.opacity);return"".concat(xe===1?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(xe===1?")":", ".concat(xe,")"))}function k(xe){return isNaN(xe)?1:Math.max(0,Math.min(1,xe))}function _(xe){return Math.max(0,Math.min(255,Math.round(xe)||0))}function U(xe){return xe=_(xe),(xe<16?"0":"")+xe.toString(16)}function F(xe,Re,Ve,Ue){return Ue<=0?xe=Re=Ve=NaN:Ve<=0||Ve>=1?xe=Re=NaN:Re<=0&&(xe=NaN),new N(xe,Re,Ve,Ue)}function z(xe){if(xe instanceof N)return new N(xe.h,xe.s,xe.l,xe.opacity);if(xe instanceof a||(xe=T(xe)),!xe)return new N;if(xe instanceof N)return xe;xe=xe.rgb();var Re=xe.r/255,Ve=xe.g/255,Ue=xe.b/255,Be=Math.min(Re,Ve,Ue),Xe=Math.max(Re,Ve,Ue),ut=NaN,dt=Xe-Be,at=(Xe+Be)/2;return dt?(Re===Xe?ut=(Ve-Ue)/dt+(Ve<Ue)*6:Ve===Xe?ut=(Ue-Re)/dt+2:ut=(Re-Ve)/dt+4,dt/=at<.5?Xe+Be:2-Xe-Be,ut*=60):dt=at>0&&at<1?0:ut,new N(ut,dt,at,xe.opacity)}function B(xe,Re,Ve,Ue){return arguments.length===1?z(xe):new N(xe,Re,Ve,Ue??1)}function N(xe,Re,Ve,Ue){this.h=+xe,this.s=+Re,this.l=+Ve,this.opacity=+Ue}g(N,B,P(a,{brighter:function(Re){return Re=Re==null?w:Math.pow(w,Re),new N(this.h,this.s,this.l*Re,this.opacity)},darker:function(Re){return Re=Re==null?x:Math.pow(x,Re),new N(this.h,this.s,this.l*Re,this.opacity)},rgb:function(){var Re=this.h%360+(this.h<0)*360,Ve=isNaN(Re)||isNaN(this.s)?0:this.s,Ue=this.l,Be=Ue+(Ue<.5?Ue:1-Ue)*Ve,Xe=2*Ue-Be;return new b(Q(Re>=240?Re-240:Re+120,Xe,Be),Q(Re,Xe,Be),Q(Re<120?Re+240:Re-120,Xe,Be),this.opacity)},clamp:function(){return new N(V(this.h),W(this.s),W(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Re=k(this.opacity);return"".concat(Re===1?"hsl(":"hsla(").concat(V(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(Re===1?")":", ".concat(Re,")"))}}));function V(xe){return xe=(xe||0)%360,xe<0?xe+360:xe}function W(xe){return Math.max(0,Math.min(1,xe||0))}function Q(xe,Re,Ve){return(xe<60?Re+(Ve-Re)*xe/60:xe<180?Ve:xe<240?Re+(Ve-Re)*(240-xe)/60:Re)*255}var re=function(xe){return function(){return xe}};function ne(xe,Re){return function(Ve){return xe+Ve*Re}}function fe(xe,Re,Ve){return xe=Math.pow(xe,Ve),Re=Math.pow(Re,Ve)-xe,Ve=1/Ve,function(Ue){return Math.pow(xe+Ue*Re,Ve)}}function $(xe){return(xe=+xe)==1?X:function(Re,Ve){return Ve-Re?fe(Re,Ve,xe):re(isNaN(Re)?Ve:Re)}}function X(xe,Re){var Ve=Re-xe;return Ve?ne(xe,Ve):re(isNaN(xe)?Re:xe)}var oe=function xe(Re){var Ve=$(Re);function Ue(Be,Xe){var ut=Ve((Be=E(Be)).r,(Xe=E(Xe)).r),dt=Ve(Be.g,Xe.g),at=Ve(Be.b,Xe.b),We=X(Be.opacity,Xe.opacity);return function(rt){return Be.r=ut(rt),Be.g=dt(rt),Be.b=at(rt),Be.opacity=We(rt),Be+""}}return Ue.gamma=xe,Ue}(1);function Y(xe,Re){var Ve=Re?Re.length:0,Ue=xe?Math.min(Ve,xe.length):0,Be=new Array(Ue),Xe=new Array(Ve),ut;for(ut=0;ut<Ue;++ut)Be[ut]=Ee(xe[ut],Re[ut]);for(;ut<Ve;++ut)Xe[ut]=Re[ut];return function(dt){for(ut=0;ut<Ue;++ut)Xe[ut]=Be[ut](dt);return Xe}}function ee(xe,Re){var Ve=new Date;return xe=+xe,Re=+Re,function(Ue){return Ve.setTime(xe*(1-Ue)+Re*Ue),Ve}}function se(xe,Re){return xe=+xe,Re=+Re,function(Ve){return xe*(1-Ve)+Re*Ve}}function q(xe){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},q(xe)}function K(xe,Re){var Ve={},Ue={},Be;(xe===null||q(xe)!=="object")&&(xe={}),(Re===null||q(Re)!=="object")&&(Re={});for(Be in Re)Be in xe?Ve[Be]=Ee(xe[Be],Re[Be]):Ue[Be]=Re[Be];return function(Xe){for(Be in Ve)Ue[Be]=Ve[Be](Xe);return Ue}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(le.source,"g");function he(xe){return function(){return xe}}function ye(xe){return function(Re){return xe(Re)+""}}function Ce(xe,Re){var Ve=le.lastIndex=ie.lastIndex=0,Ue,Be,Xe,ut=-1,dt=[],at=[];for(xe=xe+"",Re=Re+"";(Ue=le.exec(xe))&&(Be=ie.exec(Re));)(Xe=Be.index)>Ve&&(Xe=Re.slice(Ve,Xe),dt[ut]?dt[ut]+=Xe:dt[++ut]=Xe),(Ue=Ue[0])===(Be=Be[0])?dt[ut]?dt[ut]+=Be:dt[++ut]=Be:(dt[++ut]=null,at.push({i:ut,x:se(Ue,Be)})),Ve=ie.lastIndex;return Ve<Re.length&&(Xe=Re.slice(Ve),dt[ut]?dt[ut]+=Xe:dt[++ut]=Xe),dt.length<2?at[0]?ye(at[0].x):he(Re):(Re=at.length,function(We){for(var rt=0,st;rt<Re;++rt)dt[(st=at[rt]).i]=st.x(We);return dt.join("")})}function Ae(xe,Re){Re||(Re=[]);var Ve=xe?Math.min(Re.length,xe.length):0,Ue=Re.slice(),Be;return function(Xe){for(Be=0;Be<Ve;++Be)Ue[Be]=xe[Be]*(1-Xe)+Re[Be]*Xe;return Ue}}function ke(xe){return ArrayBuffer.isView(xe)&&!(xe instanceof DataView)}function we(xe){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},we(xe)}function Ee(xe,Re){var Ve=we(Re),Ue;return Re==null||Ve==="boolean"?re(Re):(Ve==="number"?se:Ve==="string"?(Ue=T(Re))?(Re=Ue,oe):Ce:Re instanceof T?oe:Re instanceof Date?ee:ke(Re)?Ae:Array.isArray(Re)?Y:typeof Re.valueOf!="function"&&typeof Re.toString!="function"||isNaN(Re)?K:se)(xe,Re)}},30584:function(H){H.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(H){H.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(H){H.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(H){H.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(H){H.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(H){H.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},ue={};function Le(H){var j=ue[H];if(j!==void 0)return j.exports;var e=ue[H]={exports:{}};return J[H].call(e.exports,e,e.exports,Le),e.exports}(function(){Le.n=function(H){var j=H&&H.__esModule?function(){return H.default}:function(){return H};return Le.d(j,{a:j}),j}})(),function(){Le.d=function(H,j){for(var e in j)Le.o(j,e)&&!Le.o(H,e)&&Object.defineProperty(H,e,{enumerable:!0,get:j[e]})}}(),function(){Le.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Le.o=function(H,j){return Object.prototype.hasOwnProperty.call(H,j)}}(),function(){Le.r=function(H){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})}}();var Oe=Le(13792);return Oe}()})})(TS);var TI=TS.exports;(function(R){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var O=ue(mS),J=ue(TI);function ue(H){return H&&H.__esModule?H:{default:H}}var Le=(0,O.default)(J.default),Oe=Le;R.default=Oe})(yS);const ly=dy(yS);function AI({stock:R}){const O=R.history,[J,ue]=[[],[]],Le=R.past_day_return>0?"green":"red";return O.forEach(({Date:Oe,Close:H})=>{J.push(Oe),ue.push(Number(H))}),Ze.jsx(Ze.Fragment,{children:Ze.jsx(ly,{className:"mini-chart",config:{staticPlot:!0},data:[{x:J,y:ue,line:{color:Le},type:"line",xaxis:"x",yaxis:"y"}],layout:{paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",margin:{t:0,b:0,l:0,r:0},width:60,height:20,hovermode:!1,xaxis:{visible:!1,rangebreaks:[{bounds:["sat","mon"]},{values:["2022-01-17","2022-02-21","2022-04-15","2022-05-30","2022-06-20","2022-07-04","2022-09-05","2022-11-24","2022-12-26","2023-01-16","2023-02-20","2023-04-07","2023-05-29","2023-06-19","2023-07-04","2023-09-04","2023-11-23","2023-12-25","2024-01-01","2024-01-15","2024-02-19","2024-03-29","2024-05-27","2024-06-19","2024-07-04","2024-09-02","2024-11-28","2024-12-25"]}]},yaxis:{showgrid:!1,visible:!1,zeroline:!1}}})})}function SI({watchlist:R}){var Oe;const O=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),[J,ue]=pn.useState(!1),Le=()=>ue(!J);return Ze.jsxs("div",{className:"watchlist",children:[Ze.jsxs("div",{className:"watchlist-card-header",children:[Ze.jsxs(So,{to:`/watchlists/${R.list_number}`,children:[Ze.jsx("div",{className:"watchlist-lightbulb",children:Ze.jsx(yb,{})}),R.name]}),Ze.jsxs("div",{className:"watchlist-header-right",children:[Ze.jsxs("div",{className:R.list_number<2e4?"edit-watchlist":"hidden",children:[Ze.jsx(sy,{itemText:Ze.jsx(dI,{}),modalComponent:Ze.jsx(pI,{watchlist:R})}),Ze.jsx(sy,{itemText:Ze.jsx(vI,{}),modalComponent:Ze.jsx(gI,{watchlist:R})})]}),Ze.jsx("button",{className:"watchlist-expand",onClick:Le,children:J?Ze.jsx(gb,{}):Ze.jsx(pb,{})})]})]}),J&&Ze.jsx("div",{className:"watchlist-stocks",children:(Oe=R.stocks)==null?void 0:Oe.map((H,j)=>Ze.jsxs(So,{to:`/stocks/${H==null?void 0:H.ticker}`,className:"watchlist-stock",children:[Ze.jsx("div",{style:{fontWeight:"bold"},children:H==null?void 0:H.ticker}),Ze.jsx(AI,{stock:H}),Ze.jsxs("div",{className:"watchlist-stock-price",children:[Ze.jsx("div",{children:O.format(H==null?void 0:H.price)}),Ze.jsxs("div",{style:{color:H.past_day_return>0?"green":"red"},children:[(H.past_day_return*100).toFixed(2),"%"]})]})]},j))})]})}function AS({watchlists:R}){var O;return Ze.jsxs("div",{className:"watchlists-container",children:[Ze.jsxs("div",{className:"watchlists-header",children:[Ze.jsx("h2",{children:"Watchlists"}),Ze.jsx(Eh,{buttonText:Ze.jsx(nm,{}),modalComponent:Ze.jsx(hI,{})})]}),Ze.jsx("div",{className:"watchlist-cards",children:(O=Object.entries(R))==null?void 0:O.map(([J,ue],Le)=>{if(J!="lists")return Ze.jsx(SI,{watchlist:ue},Le)})})]})}function Yx(R){return Ns({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"},child:[]}]})(R)}function Xx(R){return Ns({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"},child:[]}]})(R)}function MI({portfolio:R,value:O,gl:J,ret:ue}){const Le=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});if(R.length<1)return Ze.jsx("h2",{children:"No Orders Placed"});const[Oe,H]=pn.useState("$"),[j,e,g]=[[],[],[]],P=R[R.length-1].cum_ret>0?"green":"red",a=R[R.length-1].cum_gl>0?"green":"red";pn.useState(1),pn.useState(1),R.forEach(({Date:w,cum_gl:v,cum_ret:p})=>{w!=0&&(j.push(w),e.push(Number(v)),g.push(Number(p)*100))});const x=w=>{H(w.target.value)};return Ze.jsxs(Ze.Fragment,{children:[Ze.jsx("h2",{children:Le.format(O)}),Oe=="%"?Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("h3",{className:"day-change "+(ue>0?"win":"lose"),children:[ue>0?Ze.jsx(Xx,{}):Ze.jsx(Yx,{}),Math.abs(ue*100).toFixed(2),"% ",Ze.jsx("span",{style:{color:"white",marginLeft:"5px",fontWeight:"normal"},children:"Today"})]}),Ze.jsxs("div",{className:"portfolio-display",children:[Ze.jsx("h3",{children:"Display In: "}),Ze.jsxs("div",{className:"range-selector",children:[Ze.jsx("button",{className:Oe=="%"?"selected":"",value:"%",onClick:w=>x(w),children:"%"}),Ze.jsx("button",{className:Oe=="$"?"selected":"",value:"$",onClick:w=>x(w),children:"$"})]})]}),Ze.jsx(ly,{className:"portfolio-chart",data:[{x:j,y:g,line:{color:P},type:"line",xaxis:"x",yaxis:"y"}],useResizeHandler:!0,layout:{margin:{t:0,b:0,l:50,r:0},paper_bgcolor:"black",plot_bgcolor:"black",hovermode:"x",xaxis:{color:"white",autorange:!0,rangeslider:{visible:!1},rangeselector:{x:-.02,y:-.1,buttons:[{step:"month",stepmode:"backward",count:1,label:"1M"}]},rangebreaks:[{bounds:["sat","mon"]},{values:["2022-01-17","2022-02-21","2022-04-15","2022-05-30","2022-06-20","2022-07-04","2022-09-05","2022-11-24","2022-12-26","2023-01-16","2023-02-20","2023-04-07","2023-05-29","2023-06-19","2023-07-04","2023-09-04","2023-11-23","2023-12-25","2024-01-01","2024-01-15","2024-02-19","2024-03-29","2024-05-27","2024-06-19","2024-07-04","2024-09-02","2024-11-28","2024-12-25"]}]},yaxis:{ticksuffix:" %",color:"white",autorange:!0,fixedrange:!1,rangemode:"normal"}}})]}):Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("h3",{className:"day-change "+ue>0?"win":"lose",children:[J>0?Ze.jsx(Xx,{}):Ze.jsx(Yx,{}),Le.format(Math.abs(J))," ",Ze.jsx("span",{style:{color:"white",marginLeft:"5px",fontWeight:"normal"},children:"Today"})]}),Ze.jsxs("div",{className:"portfolio-display",children:[Ze.jsx("h3",{children:"Display In: "}),Ze.jsxs("div",{className:"range-selector",children:[Ze.jsx("button",{className:Oe=="%"?"selected":"",value:"%",onClick:w=>x(w),children:"%"}),Ze.jsx("button",{className:Oe=="$"?"selected":"",value:"$",onClick:w=>x(w),children:"$"})]})]}),Ze.jsx(ly,{className:"portfolio-chart",data:[{x:j,y:e,line:{color:a},type:"line",xaxis:"x",yaxis:"y"}],useResizeHandler:!0,layout:{margin:{t:0,b:0,l:50,r:0},paper_bgcolor:"black",plot_bgcolor:"black",hovermode:"x",xaxis:{color:"white",autorange:!0,rangeslider:{visible:!1},rangeselector:{x:-.02,y:-.1,buttons:[{step:"month",stepmode:"backward",count:1,label:"1M"}]},rangebreaks:[{bounds:["sat","mon"]},{values:["2022-01-17","2022-02-21","2022-04-15","2022-05-30","2022-06-20","2022-07-04","2022-09-05","2022-11-24","2022-12-26","2023-01-16","2023-02-20","2023-04-07","2023-05-29","2023-06-19","2023-07-04","2023-09-04","2023-11-23","2023-12-25","2024-01-01","2024-01-15","2024-02-19","2024-03-29","2024-05-27","2024-06-19","2024-07-04","2024-09-02","2024-11-28","2024-12-25"]}]},yaxis:{tickprefix:"$ ",color:"white",autorange:!0,fixedrange:!1,rangemode:"normal"}}})]})]})}function Ch(){return Ze.jsxs("div",{className:"loading",children:[Ze.jsx("h1",{children:"Loading"}),Ze.jsx("div",{className:"animation-logo",children:Ze.jsx("img",{src:"/favicon.ico",alt:"loading-logo",width:"100px"})})]})}var mb={},xb={},po={},am={};(function(R){function O(H,j,e){var g=j.slidesToShow,P=j.currentSlide;return e.length>2*g?H+2*g:P>=e.length?e.length+H:H}function J(H,j){if(j.length>2*H){for(var e={},g=j.length-2*H,P=j.length-g,a=g,x=0;x<P;x++)e[x]=a,a++;var w=j.length+P,v=w+j.slice(0,2*H).length,p=0;for(x=w;x<=v;x++)e[x]=p,p++;var r=w,t=0;for(x=P;x<r;x++)e[x]=t,t++;return e}e={};var i=3*j.length,n=0;for(x=0;x<i;x++)e[x]=n,++n===j.length&&(n=0);return e}function ue(H,j){return j.length<H?j:j.length>2*H?j.slice(j.length-2*H,j.length).concat(j,j.slice(0,2*H)):j.concat(j,j)}function Le(H,j){return j.length>2*H?2*H:j.length}function Oe(H,j,e){var g,P=H.currentSlide,a=H.slidesToShow,x=H.itemWidth,w=H.totalItems,v=0,p=0,r=P===0,t=j.length-(j.length-2*a);return j.length<a?(p=v=0,r=g=!1):j.length>2*a?((g=P>=t+j.length)&&(p=-x*(v=P-j.length)),r&&(p=-x*(v=t+(j.length-2*a)))):((g=P>=2*j.length)&&(p=-x*(v=P-j.length)),r&&(p=e.showDots?-x*(v=j.length):-x*(v=w/3))),{isReachingTheEnd:g,isReachingTheStart:r,nextSlide:v,nextPosition:p}}Object.defineProperty(R,"__esModule",{value:!0}),R.getOriginalCounterPart=O,R.getOriginalIndexLookupTableByClones=J,R.getClones=ue,R.getInitialSlideInInfiniteMode=Le,R.checkClonesPosition=Oe})(am);var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});function EI(R,O,J,ue){var Le=0,Oe=ue||J;return O&&Oe&&(Le=R[Oe].partialVisibilityGutter||R[Oe].paritialVisibilityGutter),Le}function CI(R,O){var J;return O[R]&&(J=(100/O[R].items).toFixed(1)),J}function LI(R,O,J){return Math.round(J/(O+(R.centerMode?1:0)))}Ad.getPartialVisibilityGutter=EI,Ad.getWidthFromDeviceType=CI,Ad.getItemClientSideWidth=LI;var es={};Object.defineProperty(es,"__esModule",{value:!0});var Zx=Ad;function bb(R){var O=R.slidesToShow;return R.totalItems<O}function PI(R,O){var J,ue=R.domLoaded,Le=R.slidesToShow,Oe=R.containerWidth,H=R.itemWidth,j=O.deviceType,e=O.responsive,g=O.ssr,P=O.partialVisbile,a=O.partialVisible,x=!!(ue&&Le&&Oe&&H);g&&j&&!x&&(J=Zx.getWidthFromDeviceType(j,e));var w=!!(g&&j&&!x&&J);return{shouldRenderOnSSR:w,flexBisis:J,domFullyLoaded:x,partialVisibilityGutter:Zx.getPartialVisibilityGutter(e,P||a,j,R.deviceType),shouldRenderAtAll:w||x}}function RI(R,O){var J=O.currentSlide,ue=O.slidesToShow;return J<=R&&R<J+ue}function SS(R,O,J){var ue=J||R.transform;return!O.infinite&&R.currentSlide===0||bb(R)?ue:ue+R.itemWidth/2}function DI(R){return!(0<R.currentSlide)}function MS(R){var O=R.currentSlide,J=R.totalItems;return!(O+R.slidesToShow<J)}function ES(R,O,J,ue){O===void 0&&(O=0);var Le=R.currentSlide,Oe=R.slidesToShow,H=MS(R),j=!J.infinite&&H,e=ue||R.transform;if(bb(R))return e;var g=e+Le*O;return j?g+(R.containerWidth-(R.itemWidth-O)*Oe):g}function CS(R,O){return R.rtl?-1*O:O}function II(R,O,J){var ue=O.partialVisbile,Le=O.partialVisible,Oe=O.responsive,H=O.deviceType,j=O.centerMode,e=J||R.transform,g=Zx.getPartialVisibilityGutter(Oe,ue||Le,H,R.deviceType);return CS(O,Le||ue?ES(R,g,O,J):j?SS(R,O,J):e)}function _I(R,O){var J=R.domLoaded,ue=R.slidesToShow,Le=R.containerWidth,Oe=R.itemWidth,H=O.deviceType,j=O.responsive,e=O.slidesToSlide||1,g=!!(J&&ue&&Le&&Oe);return O.ssr&&O.deviceType&&!g&&Object.keys(j).forEach(function(P){var a=j[P].slidesToSlide;H===P&&a&&(e=a)}),g&&Object.keys(j).forEach(function(P){var a=j[P],x=a.breakpoint,w=a.slidesToSlide,v=x.max,p=x.min;w&&window.innerWidth>=p&&window.innerWidth<=v&&(e=w)}),e}es.notEnoughChildren=bb,es.getInitialState=PI,es.getIfSlideIsVisbile=RI,es.getTransformForCenterMode=SS,es.isInLeftEnd=DI,es.isInRightEnd=MS,es.getTransformForPartialVsibile=ES,es.parsePosition=CS,es.getTransform=II,es.getSlidesToSlide=_I;var wb={};Object.defineProperty(wb,"__esModule",{value:!0});var kI=function(R,O,J){var ue;return function(){var Le=arguments;ue||(R.apply(this,Le),ue=!0,typeof J=="function"&&J(!0),setTimeout(function(){ue=!1,typeof J=="function"&&J(!1)},O))}};wb.default=kI;var LS={};(function(R){function O(J,ue){var Le=ue.partialVisbile,Oe=ue.partialVisible,H=ue.centerMode,j=ue.ssr,e=ue.responsive;if((Le||Oe)&&H)throw new Error("center mode can not be used at the same time with partialVisible");if(!e)throw j?new Error("ssr mode need to be used in conjunction with responsive prop"):new Error("Responsive prop is needed for deciding the amount of items to show on the screen");if(e&&typeof e!="object")throw new Error("responsive prop must be an object")}Object.defineProperty(R,"__esModule",{value:!0}),R.default=O})(LS);var Tb={};Object.defineProperty(Tb,"__esModule",{value:!0});var FI=es;function OI(R,O,J){J===void 0&&(J=0);var ue,Le,Oe=R.slidesToShow,H=R.currentSlide,j=R.itemWidth,e=R.totalItems,g=FI.getSlidesToSlide(R,O),P=H+1+J+Oe+(0<J?0:g);return Le=P<=e?-j*(ue=H+J+(0<J?0:g)):e<P&&H!==e-Oe?-j*(ue=e-Oe):ue=void 0,{nextSlides:ue,nextPosition:Le}}Tb.populateNextSlides=OI;var Ab={};Object.defineProperty(Ab,"__esModule",{value:!0});var zI=pn,NI=es,BI=es;function UI(R,O,J){J===void 0&&(J=0);var ue,Le,Oe=R.currentSlide,H=R.itemWidth,j=R.slidesToShow,e=O.children,g=O.showDots,P=O.infinite,a=NI.getSlidesToSlide(R,O),x=Oe-J-(0<J?0:a),w=(zI.Children.toArray(e).length-j)%a;return Le=0<=x?(ue=x,g&&!P&&0<w&&BI.isInRightEnd(R)&&(ue=Oe-w),-H*ue):ue=x<0&&Oe!==0?0:void 0,{nextSlides:ue,nextPosition:Le}}Ab.populatePreviousSlides=UI;var PS={};(function(R){function O(J,ue,Le,Oe,H,j){var e,g,P=J.itemWidth,a=J.slidesToShow,x=J.totalItems,w=J.currentSlide,v=ue.infinite,p=!1,r=Math.round((Le-Oe)/P),t=Math.round((Oe-Le)/P),i=Le<H;if(H<Le&&r<=a){e="right";var n=Math.abs(-P*(x-a)),u=j-(Oe-H),f=w===x-a;(Math.abs(u)<=n||f&&v)&&(g=u,p=!0)}return i&&t<=a&&(e="left",((u=j+(H-Oe))<=0||w===0&&v)&&(p=!0,g=u)),{direction:e,nextPosition:g,canContinue:p}}Object.defineProperty(R,"__esModule",{value:!0}),R.populateSlidesOnMouseTouchMove=O})(PS);Object.defineProperty(po,"__esModule",{value:!0});var ag=am;po.getOriginalCounterPart=ag.getOriginalCounterPart,po.getClones=ag.getClones,po.checkClonesPosition=ag.checkClonesPosition,po.getInitialSlideInInfiniteMode=ag.getInitialSlideInInfiniteMode;var x1=Ad;po.getWidthFromDeviceType=x1.getWidthFromDeviceType,po.getPartialVisibilityGutter=x1.getPartialVisibilityGutter,po.getItemClientSideWidth=x1.getItemClientSideWidth;var ih=es;po.getInitialState=ih.getInitialState,po.getIfSlideIsVisbile=ih.getIfSlideIsVisbile,po.getTransformForCenterMode=ih.getTransformForCenterMode,po.getTransformForPartialVsibile=ih.getTransformForPartialVsibile,po.isInLeftEnd=ih.isInLeftEnd,po.isInRightEnd=ih.isInRightEnd,po.notEnoughChildren=ih.notEnoughChildren,po.getSlidesToSlide=ih.getSlidesToSlide;var VI=wb;po.throttle=VI.default;var jI=LS;po.throwError=jI.default;var HI=Tb;po.populateNextSlides=HI.populateNextSlides;var GI=Ab;po.populatePreviousSlides=GI.populatePreviousSlides;var WI=PS;po.populateSlidesOnMouseTouchMove=WI.populateSlidesOnMouseTouchMove;var im={},YI=ch&&ch.__extends||function(){var R=function(O,J){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,Le){ue.__proto__=Le}||function(ue,Le){for(var Oe in Le)Le.hasOwnProperty(Oe)&&(ue[Oe]=Le[Oe])})(O,J)};return function(O,J){function ue(){this.constructor=O}R(O,J),O.prototype=J===null?Object.create(J):(ue.prototype=J.prototype,new ue)}}();Object.defineProperty(im,"__esModule",{value:!0});var XI=pn;function ZI(R){return"clientY"in R}im.isMouseMoveEvent=ZI;var KI=function(R){function O(){return R!==null&&R.apply(this,arguments)||this}return YI(O,R),O}(XI.Component);im.default=KI;var Sb={},Mb={};Object.defineProperty(Mb,"__esModule",{value:!0});var JI=am,$I=es;function QI(R,O,J,ue){var Le={},Oe=$I.getSlidesToSlide(O,J);return Array(R).fill(0).forEach(function(H,j){var e=JI.getOriginalCounterPart(j,O,ue);if(j===0)Le[0]=e;else{var g=Le[j-1]+Oe;Le[j]=g}}),Le}Mb.getLookupTableForNextSlides=QI;Object.defineProperty(Sb,"__esModule",{value:!0});var mp=pn,qI=am,e_=Mb,F4=es,t_=function(R){var O=R.props,J=R.state,ue=R.goToSlide,Le=R.getState,Oe=O.showDots,H=O.customDot,j=O.dotListClass,e=O.infinite,g=O.children;if(!Oe||F4.notEnoughChildren(J))return null;var P,a=J.currentSlide,x=J.slidesToShow,w=F4.getSlidesToSlide(J,O),v=mp.Children.toArray(g);P=e?Math.ceil(v.length/w):Math.ceil((v.length-x)/w)+1;var p=e_.getLookupTableForNextSlides(P,J,O,v),r=qI.getOriginalIndexLookupTableByClones(x,v),t=r[a];return mp.createElement("ul",{className:"react-multi-carousel-dot-list "+j},Array(P).fill(0).map(function(i,n){var u,f;if(e){f=p[n];var l=r[f];u=t===l||l<=t&&t<l+w}else{var y=v.length-x,h=n*w;u=(f=y<h?y:h)===a||f<a&&a<f+w&&a<v.length-x}return H?mp.cloneElement(H,{index:n,active:u,key:n,onClick:function(){return ue(f)},carouselState:Le()}):mp.createElement("li",{"data-index":n,key:n,className:"react-multi-carousel-dot "+(u?"react-multi-carousel-dot--active":"")},mp.createElement("button",{"aria-label":"Go to slide "+(n+1),onClick:function(){return ue(f)}}))}))};Sb.default=t_;var om={};Object.defineProperty(om,"__esModule",{value:!0});var uy=pn,r_=function(R){var O=R.customLeftArrow,J=R.getState,ue=R.previous,Le=R.disabled,Oe=R.rtl;if(O)return uy.cloneElement(O,{onClick:function(){return ue()},carouselState:J(),disabled:Le,rtl:Oe});var H=Oe?"rtl":"";return uy.createElement("button",{"aria-label":"Go to previous slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--left "+H,onClick:function(){return ue()},type:"button",disabled:Le})};om.LeftArrow=r_;var n_=function(R){var O=R.customRightArrow,J=R.getState,ue=R.next,Le=R.disabled,Oe=R.rtl;if(O)return uy.cloneElement(O,{onClick:function(){return ue()},carouselState:J(),disabled:Le,rtl:Oe});var H=Oe?"rtl":"";return uy.createElement("button",{"aria-label":"Go to next slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--right "+H,onClick:function(){return ue()},type:"button",disabled:Le})};om.RightArrow=n_;var Eb={};Object.defineProperty(Eb,"__esModule",{value:!0});var ig=pn,b1=po,a_=function(R){var O=R.props,J=R.state,ue=R.goToSlide,Le=R.clones,Oe=R.notEnoughChildren,H=J.itemWidth,j=O.children,e=O.infinite,g=O.itemClass,P=O.itemAriaLabel,a=O.partialVisbile,x=O.partialVisible,w=b1.getInitialState(J,O),v=w.flexBisis,p=w.shouldRenderOnSSR,r=w.domFullyLoaded,t=w.partialVisibilityGutter;return w.shouldRenderAtAll?(a&&console.warn('WARNING: Please correct props name: "partialVisible" as old typo will be removed in future versions!'),ig.createElement(ig.Fragment,null,(e?Le:ig.Children.toArray(j)).map(function(i,n){return ig.createElement("li",{key:n,"data-index":n,onClick:function(){O.focusOnSelect&&ue(n)},"aria-hidden":b1.getIfSlideIsVisbile(n,J)?"false":"true","aria-label":P||(i.props.ariaLabel?i.props.ariaLabel:null),style:{flex:p?"1 0 "+v+"%":"auto",position:"relative",width:r?((a||x)&&t&&!Oe?H-t:H)+"px":"auto"},className:"react-multi-carousel-item "+(b1.getIfSlideIsVisbile(n,J)?"react-multi-carousel-item--active":"")+" "+g},i)}))):null};Eb.default=a_;var i_=ch&&ch.__extends||function(){var R=function(O,J){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,Le){ue.__proto__=Le}||function(ue,Le){for(var Oe in Le)Le.hasOwnProperty(Oe)&&(ue[Oe]=Le[Oe])})(O,J)};return function(O,J){function ue(){this.constructor=O}R(O,J),O.prototype=J===null?Object.create(J):(ue.prototype=J.prototype,new ue)}}();Object.defineProperty(xb,"__esModule",{value:!0});var ms=pn,Io=po,sv=im,o_=Sb,O4=om,s_=Eb,og=es,Cf=400,z4="transform 400ms ease-in-out",l_=function(R){function O(J){var ue=R.call(this,J)||this;return ue.containerRef=ms.createRef(),ue.listRef=ms.createRef(),ue.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:ms.Children.count(J.children),deviceType:"",domLoaded:!1,transform:0,containerWidth:0},ue.onResize=ue.onResize.bind(ue),ue.handleDown=ue.handleDown.bind(ue),ue.handleMove=ue.handleMove.bind(ue),ue.handleOut=ue.handleOut.bind(ue),ue.onKeyUp=ue.onKeyUp.bind(ue),ue.handleEnter=ue.handleEnter.bind(ue),ue.setIsInThrottle=ue.setIsInThrottle.bind(ue),ue.next=Io.throttle(ue.next.bind(ue),J.transitionDuration||Cf,ue.setIsInThrottle),ue.previous=Io.throttle(ue.previous.bind(ue),J.transitionDuration||Cf,ue.setIsInThrottle),ue.goToSlide=Io.throttle(ue.goToSlide.bind(ue),J.transitionDuration||Cf,ue.setIsInThrottle),ue.onMove=!1,ue.initialX=0,ue.lastX=0,ue.isAnimationAllowed=!1,ue.direction="",ue.initialY=0,ue.isInThrottle=!1,ue.transformPlaceHolder=0,ue}return i_(O,R),O.prototype.resetTotalItems=function(){var J=this,ue=ms.Children.count(this.props.children),Le=Io.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,ue));this.setState({totalItems:ue,currentSlide:Le},function(){J.setContainerAndItemWidth(J.state.slidesToShow,!0)})},O.prototype.setIsInThrottle=function(J){J===void 0&&(J=!1),this.isInThrottle=J},O.prototype.setTransformDirectly=function(J,ue){var Le=this.props.additionalTransfrom;this.transformPlaceHolder=J;var Oe=og.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(ue),this.listRef.current.style.transform="translate3d("+(Oe+Le)+"px,0,0)")},O.prototype.setAnimationDirectly=function(J){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=J?this.props.customTransition||z4:"none")},O.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener("resize",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},O.prototype.setClones=function(J,ue,Le,Oe){var H=this;Oe===void 0&&(Oe=!1),this.isAnimationAllowed=!1;var j=ms.Children.toArray(this.props.children),e=Io.getInitialSlideInInfiniteMode(J||this.state.slidesToShow,j),g=Io.getClones(this.state.slidesToShow,j),P=j.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:g.length,currentSlide:Le&&!Oe?P:e},function(){H.correctItemsPosition(ue||H.state.itemWidth)})},O.prototype.setItemsToShow=function(J,ue){var Le=this,Oe=this.props.responsive;Object.keys(Oe).forEach(function(H){var j=Oe[H],e=j.breakpoint,g=j.items,P=e.max,a=e.min,x=[window.innerWidth];window.screen&&window.screen.width&&x.push(window.screen.width);var w=Math.min.apply(Math,x);a<=w&&w<=P&&(Le.setState({slidesToShow:g,deviceType:H}),Le.setContainerAndItemWidth(g,J,ue))})},O.prototype.setContainerAndItemWidth=function(J,ue,Le){var Oe=this;if(this.containerRef&&this.containerRef.current){var H=this.containerRef.current.offsetWidth,j=Io.getItemClientSideWidth(this.props,J,H);this.setState({containerWidth:H,itemWidth:j},function(){Oe.props.infinite&&Oe.setClones(J,j,ue,Le)}),ue&&this.correctItemsPosition(j)}},O.prototype.correctItemsPosition=function(J,ue,Le){ue&&(this.isAnimationAllowed=!0),!ue&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var Oe=this.state.totalItems<this.state.slidesToShow?0:-J*this.state.currentSlide;Le&&this.setTransformDirectly(Oe,!0),this.setState({transform:Oe})},O.prototype.onResize=function(J){var ue;ue=!!this.props.infinite&&(typeof J!="boolean"||!J),this.setItemsToShow(ue)},O.prototype.componentDidUpdate=function(J,ue){var Le=this,Oe=J.keyBoardControl,H=J.autoPlay,j=J.children,e=ue.containerWidth,g=ue.domLoaded,P=ue.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==e&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout(function(){Le.setItemsToShow(!0)},this.props.transitionDuration||Cf)),Oe&&!this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),!Oe&&this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),H&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),H||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),j.length!==this.props.children.length?O.clonesTimeout=setTimeout(function(){Le.props.infinite?Le.setClones(Le.state.slidesToShow,Le.state.itemWidth,!0,!0):Le.resetTotalItems()},this.props.transitionDuration||Cf):this.props.infinite&&this.state.currentSlide!==P&&this.correctClonesPosition({domLoaded:g}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&Io.isInRightEnd(this.state)){var a=this.props.transitionDuration||Cf;O.isInThrottleTimeout=setTimeout(function(){Le.setIsInThrottle(!1),Le.resetAutoplayInterval(),Le.goToSlide(0,void 0,!!Le.props.rewindWithAnimation)},a+this.props.autoPlaySpeed)}},O.prototype.correctClonesPosition=function(J){var ue=this,Le=J.domLoaded,Oe=ms.Children.toArray(this.props.children),H=Io.checkClonesPosition(this.state,Oe,this.props),j=H.isReachingTheEnd,e=H.isReachingTheStart,g=H.nextSlide,P=H.nextPosition;this.state.domLoaded&&Le&&(j||e)&&(this.isAnimationAllowed=!1,O.transformTimeout=setTimeout(function(){ue.setState({transform:P,currentSlide:g})},this.props.transitionDuration||Cf))},O.prototype.next=function(J){var ue=this;J===void 0&&(J=0);var Le=this.props,Oe=Le.afterChange,H=Le.beforeChange;if(!Io.notEnoughChildren(this.state)){var j=Io.populateNextSlides(this.state,this.props,J),e=j.nextSlides,g=j.nextPosition,P=this.state.currentSlide;e!==void 0&&g!==void 0&&(typeof H=="function"&&H(e,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:g,currentSlide:e},function(){typeof Oe=="function"&&(O.afterChangeTimeout=setTimeout(function(){Oe(P,ue.getState())},ue.props.transitionDuration||Cf))}))}},O.prototype.previous=function(J){var ue=this;J===void 0&&(J=0);var Le=this.props,Oe=Le.afterChange,H=Le.beforeChange;if(!Io.notEnoughChildren(this.state)){var j=Io.populatePreviousSlides(this.state,this.props,J),e=j.nextSlides,g=j.nextPosition;if(e!==void 0&&g!==void 0){var P=this.state.currentSlide;typeof H=="function"&&H(e,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:g,currentSlide:e},function(){typeof Oe=="function"&&(O.afterChangeTimeout2=setTimeout(function(){Oe(P,ue.getState())},ue.props.transitionDuration||Cf))})}}},O.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},O.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),O.clonesTimeout&&clearTimeout(O.clonesTimeout),O.isInThrottleTimeout&&clearTimeout(O.isInThrottleTimeout),O.transformTimeout&&clearTimeout(O.transformTimeout),O.afterChangeTimeout&&clearTimeout(O.afterChangeTimeout),O.afterChangeTimeout2&&clearTimeout(O.afterChangeTimeout2),O.afterChangeTimeout3&&clearTimeout(O.afterChangeTimeout3)},O.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction="",this.initialY=0},O.prototype.getCords=function(J){var ue=J.clientX,Le=J.clientY;return{clientX:og.parsePosition(this.props,ue),clientY:og.parsePosition(this.props,Le)}},O.prototype.handleDown=function(J){if(!(!sv.isMouseMoveEvent(J)&&!this.props.swipeable||sv.isMouseMoveEvent(J)&&!this.props.draggable||this.isInThrottle)){var ue=this.getCords(sv.isMouseMoveEvent(J)?J:J.touches[0]),Le=ue.clientX,Oe=ue.clientY;this.onMove=!0,this.initialX=Le,this.initialY=Oe,this.lastX=Le,this.isAnimationAllowed=!1}},O.prototype.handleMove=function(J){if(!(!sv.isMouseMoveEvent(J)&&!this.props.swipeable||sv.isMouseMoveEvent(J)&&!this.props.draggable||Io.notEnoughChildren(this.state))){var ue=this.getCords(sv.isMouseMoveEvent(J)?J:J.touches[0]),Le=ue.clientX,Oe=ue.clientY,H=this.initialX-Le,j=this.initialY-Oe;if(this.onMove){if(!(Math.abs(H)>Math.abs(j)))return;var e=Io.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,Le,this.transformPlaceHolder),g=e.direction,P=e.nextPosition,a=e.canContinue;g&&(this.direction=g,a&&P!==void 0&&this.setTransformDirectly(P)),this.lastX=Le}}},O.prototype.handleOut=function(J){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var ue=J.type==="touchend"&&!this.props.swipeable,Le=(J.type==="mouseleave"||J.type==="mouseup")&&!this.props.draggable;if(!ue&&!Le&&this.onMove){if(this.setAnimationDirectly(!0),this.direction==="right")if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var Oe=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(Oe)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);this.direction==="left"&&(this.lastX-this.initialX>this.props.minimumTouchDrag?(Oe=Math.round((this.lastX-this.initialX)/this.state.itemWidth),this.previous(Oe)):this.correctItemsPosition(this.state.itemWidth,!0,!0)),this.resetMoveStatus()}},O.prototype.isInViewport=function(J){var ue=J.getBoundingClientRect(),Le=ue.top,Oe=Le===void 0?0:Le,H=ue.left,j=H===void 0?0:H,e=ue.bottom,g=e===void 0?0:e,P=ue.right,a=P===void 0?0:P;return 0<=Oe&&0<=j&&g<=(window.innerHeight||document.documentElement.clientHeight)&&a<=(window.innerWidth||document.documentElement.clientWidth)},O.prototype.isChildOfCarousel=function(J){return!!(J instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(J)},O.prototype.onKeyUp=function(J){var ue=J.target;switch(J.keyCode){case 37:if(this.isChildOfCarousel(ue))return this.previous();break;case 39:if(this.isChildOfCarousel(ue))return this.next();break;case 9:if(this.isChildOfCarousel(ue)&&ue instanceof HTMLInputElement&&this.isInViewport(ue))return this.next()}},O.prototype.handleEnter=function(J){sv.isMouseMoveEvent(J)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},O.prototype.goToSlide=function(J,ue,Le){var Oe=this;if(Le===void 0&&(Le=!0),!this.isInThrottle){var H=this.state.itemWidth,j=this.props,e=j.afterChange,g=j.beforeChange,P=this.state.currentSlide;typeof g!="function"||ue&&(typeof ue!="object"||ue.skipBeforeChange)||g(J,this.getState()),this.isAnimationAllowed=Le,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:J,transform:-H*J},function(){Oe.props.infinite&&Oe.correctClonesPosition({domLoaded:!0}),typeof e!="function"||ue&&(typeof ue!="object"||ue.skipAfterChange)||(O.afterChangeTimeout3=setTimeout(function(){e(P,Oe.getState())},Oe.props.transitionDuration||Cf))})}},O.prototype.getState=function(){return this.state},O.prototype.renderLeftArrow=function(J){var ue=this,Le=this.props,Oe=Le.customLeftArrow,H=Le.rtl;return ms.createElement(O4.LeftArrow,{customLeftArrow:Oe,getState:function(){return ue.getState()},previous:this.previous,disabled:J,rtl:H})},O.prototype.renderRightArrow=function(J){var ue=this,Le=this.props,Oe=Le.customRightArrow,H=Le.rtl;return ms.createElement(O4.RightArrow,{customRightArrow:Oe,getState:function(){return ue.getState()},next:this.next,disabled:J,rtl:H})},O.prototype.renderButtonGroups=function(){var J=this,ue=this.props.customButtonGroup;return ue?ms.cloneElement(ue,{previous:function(){return J.previous()},next:function(){return J.next()},goToSlide:function(Le,Oe){return J.goToSlide(Le,Oe)},carouselState:this.getState()}):null},O.prototype.renderDotsList=function(){var J=this;return ms.createElement(o_.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return J.getState()}})},O.prototype.renderCarouselItems=function(){var J=[];if(this.props.infinite){var ue=ms.Children.toArray(this.props.children);J=Io.getClones(this.state.slidesToShow,ue)}return ms.createElement(s_.default,{clones:J,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:Io.notEnoughChildren(this.state),props:this.props})},O.prototype.render=function(){var J=this.props,ue=J.deviceType,Le=J.arrows,Oe=J.renderArrowsWhenDisabled,H=J.removeArrowOnDeviceType,j=J.infinite,e=J.containerClass,g=J.sliderClass,P=J.customTransition,a=J.additionalTransfrom,x=J.renderDotsOutside,w=J.renderButtonGroupOutside,v=J.className,p=J.rtl,r=Io.getInitialState(this.state,this.props),t=r.shouldRenderOnSSR,i=r.shouldRenderAtAll,n=Io.isInLeftEnd(this.state),u=Io.isInRightEnd(this.state),f=Le&&!(H&&(ue&&-1<H.indexOf(ue)||this.state.deviceType&&-1<H.indexOf(this.state.deviceType)))&&!Io.notEnoughChildren(this.state)&&i,l=!j&&n,y=!j&&u,h=og.getTransform(this.state,this.props);return ms.createElement(ms.Fragment,null,ms.createElement("div",{className:"react-multi-carousel-list "+e+" "+v,dir:p?"rtl":"ltr",ref:this.containerRef},ms.createElement("ul",{ref:this.listRef,className:"react-multi-carousel-track "+g,style:{transition:this.isAnimationAllowed?P||z4:"none",overflow:t?"hidden":"unset",transform:"translate3d("+(h+a)+"px,0,0)"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut},this.renderCarouselItems()),f&&(!l||Oe)&&this.renderLeftArrow(l),f&&(!y||Oe)&&this.renderRightArrow(y),i&&!w&&this.renderButtonGroups(),i&&!x&&this.renderDotsList()),i&&x&&this.renderDotsList(),i&&w&&this.renderButtonGroups())},O.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:"",sliderClass:"",itemClass:"",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:"",dotListClass:"",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},O}(ms.Component);xb.default=l_;Object.defineProperty(mb,"__esModule",{value:!0});var u_=xb;mb.default=u_.default;var f_=mb;const RS=dy(f_);function c_({movers:R}){const O=R.winners,J=R.losers,ue=[...O,...J],Le=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Oe=nf(),H={desktop:{breakpoint:{max:3e3,min:1024},items:5,slidesToSlide:2},tablet:{breakpoint:{max:1024,min:464},items:5,slidesToSlide:2}};return Ze.jsx(RS,{responsive:H,containerClass:"winner-carousel",children:ue==null?void 0:ue.map(j=>Ze.jsxs("div",{className:"mover-card",onClick:()=>Oe(`/stocks/${j.ticker}`),children:[Ze.jsx("h3",{children:j.name}),Ze.jsxs("div",{className:j.past_day_return>0?"win":"lose",children:[Ze.jsx("h2",{children:Le.format(j.price)}),Ze.jsxs("h4",{children:[(j.past_day_return*100).toFixed(2)," %"]})]})]},j.ticker))})}function h_({markets:R}){const O={desktop:{breakpoint:{max:3e3,min:1024},items:3,slidesToSlide:2},tablet:{breakpoint:{max:1024,min:464},items:3,slidesToSlide:2}};return Ze.jsx(RS,{responsive:O,containerClass:"market-snapshot-cards",children:R==null?void 0:R.map((J,ue)=>Ze.jsxs("div",{className:"market-snapshot",children:[Ze.jsx("div",{children:J.ticker}),Ze.jsx("div",{children:J.price.toFixed(2)}),Ze.jsxs("div",{style:{display:"flex",gap:"5px"},className:J.past_day_return>0?"win":"lose",children:[J.past_day_return>0?Ze.jsx(Xx,{}):Ze.jsx(Yx,{}),Math.abs(J.past_day_return*100).toFixed(2),"%"]})]},ue))})}function v_(){const R=Mo();nf();const{loaded:O,loadData:J}=dS(),ue=Di(v=>v.session.user),Le=Di(v=>v.watchlists),Oe=Di(v=>v.portfolio.history),H=Di(v=>v.markets.markets),j=Di(v=>v.portfolio.portfolio_value),e=Di(v=>v.portfolio.purchasing_power),g=Di(v=>v.portfolio.day_gl),P=Di(v=>v.portfolio.day_ret),a=Di(v=>v.markets.news),x=Di(v=>v.stocks.movers),w=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return document.title="Dashboard | Stonk Trader 3000",pn.useEffect(()=>{O||J(),(async()=>{await R(vb()),await R(CD())})()},[R]),O?Ze.jsx("div",{className:"dashboard",children:ue?Oe&&H&&Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("div",{className:"dashboard-left",children:[Ze.jsx("div",{className:"portfolio-container",children:Ze.jsx(MI,{portfolio:Oe,value:j,cash:e,gl:g,ret:P})}),Ze.jsxs("div",{className:"cash-container",children:[Ze.jsx("div",{children:"Buying Power"}),Ze.jsx("div",{children:w.format(e)})]}),Ze.jsxs("div",{className:"daily-movers-container",children:[Ze.jsx("h2",{children:"Daily Movers"}),Ze.jsx("h5",{children:"Stocks making the biggest moves today"}),Ze.jsx("div",{className:"daily-movers",children:Ze.jsx(c_,{movers:x})})]}),Ze.jsxs("div",{className:"market-snapshot-container",children:[Ze.jsx("h2",{children:"News"}),Ze.jsx(h_,{markets:H}),Ze.jsx("div",{className:"news-cards",children:a==null?void 0:a.map((v,p)=>Ze.jsxs(cb,{className:"news-card",to:v.link,target:"_blank",children:[Ze.jsxs("h5",{className:"news-title",children:[v.publisher,"  ",Ze.jsx("span",{className:"news-date",children:v.date})]}),Ze.jsxs("div",{className:"news-info",children:[Ze.jsx("h3",{children:v.title}),v.thumbnail?Ze.jsx("img",{src:v.thumbnail,alt:"news-thumbnail"}):Ze.jsx("div",{className:"empty"})]})]},p))})]})]}),Ze.jsx("div",{className:"dashboard-right",children:Ze.jsx(AS,{watchlists:Le})})]}):Ze.jsx(A6,{to:"/"})}):Ze.jsx(Ch,{})}function d_(){var x;const R=nf(),{listId:O}=b6(),J=Di(w=>w.session.user),ue=Mo(),Le=Di(w=>w.watchlists),Oe=Le[O]?Le[O]:null,[H,j]=pn.useState(Oe==null?void 0:Oe.name),[e,g]=pn.useState({}),P=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});pn.useEffect(()=>{ue(vb()),ue(tD(O)).then(j(Oe==null?void 0:Oe.name))},[ue,O,Oe==null?void 0:Oe.name]);const a=async w=>{w.preventDefault();const v=await ue($6({name:H,list_number:O}));v!=null&&v.errors&&g(v.errors)};return Ze.jsx(Ze.Fragment,{children:Oe&&J&&Ze.jsxs("div",{className:"single-watchlist",children:[Ze.jsxs("div",{className:"watchlist-details",children:[Ze.jsxs("div",{className:"single-watchlist-header",children:[Ze.jsx(yb,{}),Ze.jsx("label",{children:Oe.list_number<2e4?Ze.jsx("input",{className:"watchlist-name-input",type:"text",value:H,onChange:w=>j(w.target.value),onBlur:a}):Ze.jsx("div",{className:"watchlist-name-input defaults",children:Oe.name})}),Ze.jsxs("div",{children:[Oe.stocks.length," Items"]})]}),Ze.jsxs("table",{className:"watchlist-stocks",children:[Ze.jsx("thead",{children:Ze.jsxs("tr",{children:[Ze.jsx("th",{scope:"col",children:"Ticker"}),Ze.jsx("th",{scope:"col",children:"Name"}),Ze.jsx("th",{scope:"col",children:"Price"}),Ze.jsx("th",{scope:"col",children:"Sector"}),Ze.jsx("th",{scope:"col",children:"Market Cap"})]})}),Ze.jsx("tbody",{children:(x=Oe==null?void 0:Oe.stocks)==null?void 0:x.map((w,v)=>Ze.jsxs("tr",{className:"stock-card",onClick:()=>R(`/stocks/${w.ticker}`),children:[Ze.jsx("th",{scope:"row",children:w==null?void 0:w.ticker}),Ze.jsx("td",{children:w==null?void 0:w.name}),Ze.jsx("td",{children:w!=null&&w.price?P.format(w.price):"-"}),Ze.jsx("td",{children:w==null?void 0:w.sector}),Ze.jsx("td",{children:w!=null&&w.market_cap?P.format(w.market_cap)+"M":"-"})]},v))})]})]}),Ze.jsx(AS,{watchlists:Le})]})})}function p_({order:R,cash:O}){const J=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),ue=Mo(),Le=nf(),{closeModal:Oe}=xu(),H=async j=>{j.preventDefault();const e={stock_ticker:R.ticker,cost_basis:R.price,quantity:R.orderType=="Buy"?R.quantity:-R.quantity},g=await ue(mD(e));g.errors?setErrors(g.errors):(Oe(),Le("/account/positions"))};return Ze.jsxs("div",{className:"preview-order",children:[Ze.jsx("h2",{children:"Preview Order"}),Ze.jsxs("div",{children:[R.orderType,": ",R.quantity.toFixed(2)," shares of ",R.ticker]}),Ze.jsxs("div",{children:["at ",J.format(R.price)]}),Ze.jsxs("div",{children:["Order Total: ",J.format(R.total)]}),Ze.jsxs("div",{children:["Buying Power Before: ",J.format(O)]}),Ze.jsxs("div",{children:["Buying Power After: ",J.format(O-(R.orderType=="Buy"?R.total:-R.total))]}),Ze.jsx("button",{onClick:H,children:"Place Order"})]})}function DS(){const R=Mo(),[O,J]=pn.useState(0),[ue,Le]=pn.useState({}),{closeModal:Oe}=xu(),H=async j=>{if(j.preventDefault(),Le({}),O<=0)return Le({funds:"Amount must be greater than 0"});const e=await R(U6(O));e?Le(e):Oe()};return Ze.jsxs("div",{className:"transfer-modal",children:[Ze.jsx("h1",{children:"Deposit Funds"}),Ze.jsxs("label",{children:["Deposit Amount:",Ze.jsx("input",{type:"number",value:O,onChange:j=>J(j.target.value),min:0,required:!0})]}),ue.funds&&Ze.jsx("p",{children:ue.funds}),Ze.jsx("div",{className:"actions",children:Ze.jsx("button",{onClick:H,children:"Deposit"})})]})}function g_({stock:R,ownedShares:O}){var l;const J=Mo(),ue=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Le=Di(y=>y.portfolio.purchasing_power),[Oe,H]=pn.useState(""),[j,e]=pn.useState("Shares"),[g,P]=pn.useState(""),[a,x]=pn.useState(0),[w,v]=pn.useState({}),[p,r]=pn.useState({}),t=(y,h)=>{let M=h*R.price;v({}),M>Le&&v({funds:"Not Enough Funds"}),y=="Sell"&&O-h<0&&v({shares:"Not Enough Shares"});const c={orderType:y,ticker:R.ticker,price:R.price,quantity:h,total:M};x(M),r(c)},i=y=>{H(y),P("")},n=y=>{e(y),P(""),t(Oe,0)},u=y=>{let h;j=="Dollars"?h=y/R.price:h=y,P(y),t(Oe,h)},f=y=>{y.preventDefault(),v({})};return pn.useEffect(()=>{J(B6())},[J]),Ze.jsxs("form",{className:"order-form",onSubmit:f,children:[Ze.jsxs("div",{className:"order-header",children:[Ze.jsx("div",{className:"order-info",children:Ze.jsxs("h2",{children:["Trade ",R==null?void 0:R.ticker]})}),Ze.jsx("div",{children:Ze.jsxs("h4",{children:["Price: ",ue.format(R==null?void 0:R.price)]})})]}),Ze.jsxs("div",{className:"order-types",children:[Ze.jsx("div",{className:"order-type-button "+(Oe=="Buy"?"selected":""),onClick:()=>i("Buy"),children:"Buy"}),Ze.jsx("div",{className:"order-type-button "+(Oe=="Sell"?"selected":""),onClick:()=>i("Sell"),children:"Sell"})]}),Ze.jsx("div",{className:"order-quantity",children:Ze.jsxs("div",{className:"order-types",children:[Ze.jsx("div",{className:"order-type-button "+(j=="Shares"?"selected":""),onClick:()=>n("Shares"),children:"Shares"}),Ze.jsx("div",{className:"order-type-button "+(j=="Dollars"?"selected":""),onClick:()=>n("Dollars"),children:"Dollars"})]})}),Ze.jsxs("div",{className:"quantity-inputs",children:[Ze.jsxs("label",{children:[j=="Shares"?"# of Shares":"$ Dollars",":",Ze.jsx("input",{type:"number",value:g,min:0,max:1e4,onChange:y=>u(Number(y.target.value)),onBlur:y=>y.target.value?u(Number(y.target.value)):u(""),onFocus:()=>u(""),required:!0})]}),Ze.jsxs("div",{children:["Shares Owned: ",O]})]}),Ze.jsxs("div",{className:"order-value",children:["Estimated Value: $ ",a==null?void 0:a.toFixed(2)]}),(l=Object.keys(w))!=null&&l.length?Ze.jsxs("div",{className:"error-funds",children:[Object.values(w).map((y,h)=>Ze.jsxs("p",{className:"errors",children:["* ",y]},h)),w.funds&&Ze.jsx(Eh,{buttonText:"Deposit",modalComponent:Ze.jsx(DS,{})})]}):a&&Oe&&g?Ze.jsx(Eh,{type:"submit",buttonText:"Preview Order",modalComponent:Ze.jsx(p_,{order:p,cash:Le})}):Ze.jsx("div",{className:"empty-space"}),Ze.jsxs("div",{className:"order-buying-power",children:[Le?ue.format(Le):"-"," buying power available"]})]})}function y_({watchlist:R,lists:O,setLists:J}){var H;const ue=pn.useRef(null),Le=async j=>{const e=O.indexOf(Number(j.target.value));e!==-1?(O.splice(e,1),J([...O])):J([...O,Number(j.target.value)])},Oe=async()=>{const j=ue.current.checked;ue.current.checked=!j;const e=O.indexOf(Number(ue.current.value));e!==-1?(O.splice(e,1),J([...O])):J([...O,Number(ue.current.value)])};return Ze.jsxs("div",{className:"watchlist-card",children:[Ze.jsx("input",{type:"checkbox",ref:ue,value:R.list_number,onChange:Le,checked:O==null?void 0:O.includes(R.list_number)}),Ze.jsxs("div",{className:"watchlist-info-card",onClick:Oe,children:[Ze.jsx("div",{className:"watchlist-icon",children:Ze.jsx(yb,{})}),Ze.jsxs("div",{className:"watchlist-info",children:[Ze.jsx("div",{className:"watchlist-name",children:R==null?void 0:R.name}),Ze.jsxs("div",{className:"watchlist-length",children:[(H=R==null?void 0:R.stocks)==null?void 0:H.length," item(s)"]})]})]})]})}function IS({stock:R,ticker:O}){const J=Mo(),[ue,Le]=pn.useState(!1),[Oe,H]=pn.useState(""),[j,e]=pn.useState({}),{closeModal:g}=xu(),P=Di(n=>n.watchlists),[a,x]=pn.useState(null),[w,v]=pn.useState(null),[p,r]=pn.useState(!1),t=async n=>{n.preventDefault();for(let u of w)if(!a.includes(u)){const f={name:P[u].name,list_number:u,stock_ticker:R.ticker},l=await J(R4(f));l!=null&&l.errors&&e(l.errors)}for(let u of a)if(!w.includes(u)){const f={name:P[u].name,list_number:u,stock_ticker:R.ticker},l=await J(rD(f));l!=null&&l.errors&&e(l.errors)}g()},i=async n=>{n.preventDefault(),e({}),Le(!1);const u=await J(J6({name:Oe}));if(u!=null&&u.errors)e(u.errors);else{const f={name:u.name,list_number:u.list_number,stock_ticker:R.ticker},l=await J(R4(f));l!=null&&l.errors?e(l.errors):(x([...a,f.list_number]),v([...w,f.list_number]),H(""))}};return pn.useEffect(()=>{(async()=>{await J(vb());const u=await J(qR(O));v([...u]),x([...u]),r(!0)})()},[J]),!p||w===void 0?Ze.jsx(Ch,{}):Ze.jsxs("div",{className:"add-stock-modal",children:[Ze.jsxs("h2",{children:["Add ",R.ticker," to Your Lists"]}),Ze.jsxs("div",{className:"create-watchlist "+(ue?"hidden":""),onClick:()=>Le(!0),children:[Ze.jsx("input",{className:"create-list-dummy",type:"checkbox",disabled:!0}),Ze.jsx("div",{className:"watchlist-icon",children:Ze.jsx(nm,{})}),"Create New List"]}),Ze.jsx("div",{className:"create-watchlist-form "+(ue?"":"hidden"),children:Ze.jsxs("form",{onSubmit:i,onReset:()=>{Le(!1),H("")},children:[Ze.jsxs("label",{children:["List name:",Ze.jsx("input",{type:"text",value:Oe,onChange:n=>H(n.target.value),required:!0})]}),j.name&&Ze.jsx("p",{children:j.name}),Ze.jsxs("div",{className:"actions",children:[Ze.jsx("button",{type:"reset",children:"Cancel"}),Ze.jsx("button",{type:"submit",children:"Create List"})]})]})}),Ze.jsx("div",{className:"watchlist-card-container",children:Object.entries(P).map(([n,u],f)=>{if(n<2e4)return Ze.jsx(y_,{watchlist:u,lists:w,setLists:v},f)})}),Ze.jsx("button",{className:"save-watchlist",onClick:t,children:"Save Changes"})]})}function m_({stock:R}){const[O,J]=pn.useState(!0),[ue,Le]=pn.useState(1),[Oe,H]=pn.useState(1),j=R.history,e=j.length*ue,g=j.slice(Math.floor(j.length-e)),[P,a,x,w,v]=[[],[],[],[],[]];O?g.forEach(({Date:r,Open:t,High:i,Low:n,Close:u})=>{P.push(r),a.push(Number(t)),x.push(Number(i)),w.push(Number(n)),v.push(Number(u))}):O==.1?JSON.parse(R["1d"]).forEach(({Date:t,Open:i,High:n,Low:u,Close:f})=>{P.push(t),a.push(Number(i)),x.push(Number(n)),w.push(Number(u)),v.push(Number(f))}):JSON.parse(R["1w"]).forEach(({Date:t,Open:i,High:n,Low:u,Close:f})=>{P.push(t),a.push(Number(i)),x.push(Number(n)),w.push(Number(u)),v.push(Number(f))});const p=r=>{r.target.value>=1?(J(!0),H(r.target.value),Le(1/r.target.value)):(J(!1),H(r.target.value))};return Ze.jsxs(Ze.Fragment,{children:[Ze.jsx(ly,{className:"stock-chart",data:[{x:P,open:a,high:x,low:w,close:v,increasing:{line:{color:"green"}},decreasing:{line:{color:"red"}},line:{color:"black"},type:"candlestick",xaxis:"x",yaxis:"y"}],useResizeHandler:!0,layout:{margin:{t:0,b:0,l:50,r:0},paper_bgcolor:"black",plot_bgcolor:"black",hovermode:"x",xaxis:{color:"white",autorange:!0,rangeslider:{visible:!1},rangeselector:{x:-.02,y:-.1,buttons:[{step:"month",stepmode:"backward",count:1,label:"1M"}]},rangebreaks:[{bounds:["sat","mon"]},{values:["2022-01-17","2022-02-21","2022-04-15","2022-05-30","2022-06-20","2022-07-04","2022-09-05","2022-11-24","2022-12-26","2023-01-16","2023-02-20","2023-04-07","2023-05-29","2023-06-19","2023-07-04","2023-09-04","2023-11-23","2023-12-25","2024-01-01","2024-01-15","2024-02-19","2024-03-29","2024-05-27","2024-06-19","2024-07-04","2024-09-02","2024-11-28","2024-12-25"]}]},yaxis:{tickprefix:"$ ",color:"white",autorange:!0,fixedrange:!1,rangemode:"normal"}}}),Ze.jsxs("div",{className:"range-selector",children:[Ze.jsx("button",{className:Oe==24?"selected":"",value:24,onClick:r=>p(r),children:"1M"}),Ze.jsx("button",{className:Oe==8?"selected":"",value:8,onClick:r=>p(r),children:"3M"}),Ze.jsx("button",{className:Oe==4?"selected":"",value:4,onClick:r=>p(r),children:"6M"}),Ze.jsx("button",{className:Oe==2?"selected":"",value:2,onClick:r=>p(r),children:"1Y"}),Ze.jsx("button",{className:Oe==1?"selected":"",value:1,onClick:r=>p(r),children:"MAX"})]})]})}function x_(){var a,x;const{ticker:R}=b6(),O=Mo(),J=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),ue=Di(w=>w.stocks)[R],Oe=Di(w=>w.portfolio)[R],H=(ue==null?void 0:ue.price)-(ue==null?void 0:ue.info.previousClose),j=ue==null?void 0:ue.news,[e,g]=pn.useState(!1),P=pn.useRef(null);return pn.useEffect(()=>{(async()=>{await O(cD(R)),await O(hD(R)),await O(HR(R)),g(!0)})()},[O,R]),document.title=`${R} - $${ue==null?void 0:ue.price} Stonk Trader 3000`,e?Ze.jsx(Ze.Fragment,{children:ue&&Ze.jsxs("div",{className:"stock-details-page",children:[Ze.jsxs("div",{className:"stock-details",ref:P,children:[Ze.jsx("h1",{children:ue.name}),Ze.jsx("h1",{children:J.format(ue.price)}),Ze.jsxs("h4",{className:H>0?"win":"lose",children:[H>0?"+":"-",J.format(Math.abs(H))," (",H>0?"+":"-",(ue.past_day_return*100).toFixed(2),"%) ",Ze.jsx("span",{style:{color:"white"},children:"Today"})]}),Ze.jsx(m_,{stock:ue}),Ze.jsxs("div",{className:"stock-about",children:[Ze.jsx("h2",{children:"About"}),Ze.jsx("div",{className:"stock-about-content",children:ue.info.longBusinessSummary}),Ze.jsxs("div",{className:"stock-info",children:[Ze.jsxs("div",{className:"stock-info-card",children:[Ze.jsx("h3",{children:"CEO"}),Ze.jsx("div",{children:ue.info.companyOfficers[0].name})]}),Ze.jsxs("div",{className:"stock-info-card",children:[Ze.jsx("h3",{children:"Employees"}),Ze.jsx("div",{children:(a=ue.info.fullTimeEmployees)==null?void 0:a.toLocaleString()})]}),Ze.jsxs("div",{className:"stock-info-card",children:[Ze.jsx("h3",{children:"Headquarters"}),Ze.jsxs("div",{children:[ue.info.city,", ",ue.info.country]})]}),Ze.jsxs("div",{className:"stock-info-card",children:[Ze.jsx("h3",{children:"Industry"}),Ze.jsx("div",{children:ue.info.industry})]}),Ze.jsxs("div",{className:"stock-info-card",children:[Ze.jsx("h3",{children:"Sector"}),Ze.jsx("div",{children:ue.info.sector})]})]})]}),Ze.jsxs("div",{className:"stock-statistics-container",children:[Ze.jsx("h2",{children:"Key Statistics"}),Ze.jsxs("div",{className:"stock-statistics",children:[Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"Market cap"}),Ze.jsxs("div",{children:[J.format(ue.market_cap/1e3),"B"]})]}),Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"Price-Earnings Ratio"}),Ze.jsx("div",{children:(x=ue.info.trailingPE)==null?void 0:x.toFixed(2)})]}),Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"Dividend Yield"}),Ze.jsx("div",{children:ue.info.dividendYield?(ue.info.dividendYield*100).toFixed(1)+"%":"-"})]}),Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"Avg Volume"}),Ze.jsx("div",{children:ue.info.averageVolume.toLocaleString("en",{minimumFractionDigits:0,maximumFractionDigits:0})})]}),Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"Daily High"}),Ze.jsx("div",{children:J.format(ue.info.dayHigh)})]}),Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"Daily Low"}),Ze.jsx("div",{children:J.format(ue.info.dayLow)})]}),Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"Open Price"}),Ze.jsx("div",{children:J.format(ue.info.open)})]}),Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"52 Week High"}),Ze.jsx("div",{children:J.format(ue.info.fiftyTwoWeekHigh)})]}),Ze.jsxs("div",{className:"stock-stat-card",children:[Ze.jsx("h3",{children:"52 Week Low"}),Ze.jsx("div",{children:J.format(ue.info.fiftyTwoWeekLow)})]})]})]}),Ze.jsxs("div",{className:"stock-news-container",children:[Ze.jsx("h2",{children:"News"}),j==null?void 0:j.map((w,v)=>Ze.jsxs(cb,{className:"news-card",to:w.link,target:"_blank",children:[Ze.jsxs("h5",{className:"news-title",children:[w.publisher,"  ",Ze.jsx("span",{className:"news-date",children:w.date})]}),Ze.jsxs("div",{className:"news-info",children:[Ze.jsx("h3",{children:w.title}),w.thumbnail?Ze.jsx("img",{src:w.thumbnail,alt:"news-thumbnail"}):Ze.jsx("div",{className:"empty"})]})]},v))]})]}),Ze.jsxs("div",{className:"stock-actions-container",children:[Ze.jsx("div",{className:"stock-actions",children:Ze.jsx(g_,{stock:ue,ownedShares:Oe})}),Ze.jsx(Eh,{buttonText:"+ Add to Watchlist",modalComponent:Ze.jsx(IS,{stock:ue,ticker:R})})]})]})}):Ze.jsx(Ch,{})}var Cb={},sm={},xp=function(R){return R&&R.Math===Math&&R},bu=xp(typeof globalThis=="object"&&globalThis)||xp(typeof window=="object"&&window)||xp(typeof self=="object"&&self)||xp(typeof ch=="object"&&ch)||xp(typeof ch=="object"&&ch)||function(){return this}()||Function("return this")(),b_={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},w1=typeof document=="object"&&document.all,xl=typeof w1>"u"&&w1!==void 0?function(R){return typeof R=="function"||R===w1}:function(R){return typeof R=="function"},w_=xl,Dh=function(R){return typeof R=="object"?R!==null:w_(R)},T_=bu,N4=Dh,Kx=T_.document,A_=N4(Kx)&&N4(Kx.createElement),Lb=function(R){return A_?Kx.createElement(R):{}},S_=Lb,T1=S_("span").classList,B4=T1&&T1.constructor&&T1.constructor.prototype,M_=B4===Object.prototype?void 0:B4,af=function(R){try{return!!R()}catch{return!0}},E_=af,_S=!E_(function(){var R=(function(){}).bind();return typeof R!="function"||R.hasOwnProperty("prototype")}),kS=_S,FS=Function.prototype,Jx=FS.call,C_=kS&&FS.bind.bind(Jx,Jx),wu=kS?C_:function(R){return function(){return Jx.apply(R,arguments)}},OS=wu,L_=OS({}.toString),P_=OS("".slice),zS=function(R){return P_(L_(R),8,-1)},R_=wu,D_=af,I_=zS,A1=Object,__=R_("".split),k_=D_(function(){return!A1("z").propertyIsEnumerable(0)})?function(R){return I_(R)==="String"?__(R,""):A1(R)}:A1,NS=function(R){return R==null},F_=NS,O_=TypeError,lm=function(R){if(F_(R))throw new O_("Can't call method on "+R);return R},z_=k_,N_=lm,c0=function(R){return z_(N_(R))},BS={exports:{}},U4=bu,B_=Object.defineProperty,Pb=function(R,O){try{B_(U4,R,{value:O,configurable:!0,writable:!0})}catch{U4[R]=O}return O},U_=bu,V_=Pb,V4="__core-js_shared__",j4=BS.exports=U_[V4]||V_(V4,{});(j4.versions||(j4.versions=[])).push({version:"3.36.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Rb=BS.exports,H4=Rb,US=function(R,O){return H4[R]||(H4[R]=O||{})},j_=lm,H_=Object,VS=function(R){return H_(j_(R))},G_=wu,W_=VS,Y_=G_({}.hasOwnProperty),xc=Object.hasOwn||function(O,J){return Y_(W_(O),J)},X_=wu,Z_=0,K_=Math.random(),J_=X_(1 .toString),jS=function(R){return"Symbol("+(R===void 0?"":R)+")_"+J_(++Z_+K_,36)},$_=typeof navigator<"u"&&String(navigator.userAgent)||"",HS=bu,S1=$_,G4=HS.process,W4=HS.Deno,Y4=G4&&G4.versions||W4&&W4.version,X4=Y4&&Y4.v8,qu,fy;X4&&(qu=X4.split("."),fy=qu[0]>0&&qu[0]<4?1:+(qu[0]+qu[1]));!fy&&S1&&(qu=S1.match(/Edge\/(\d+)/),(!qu||qu[1]>=74)&&(qu=S1.match(/Chrome\/(\d+)/),qu&&(fy=+qu[1])));var Q_=fy,Z4=Q_,q_=af,ek=bu,tk=ek.String,GS=!!Object.getOwnPropertySymbols&&!q_(function(){var R=Symbol("symbol detection");return!tk(R)||!(Object(R)instanceof Symbol)||!Symbol.sham&&Z4&&Z4<41}),rk=GS,WS=rk&&!Symbol.sham&&typeof Symbol.iterator=="symbol",nk=bu,ak=US,K4=xc,ik=jS,ok=GS,sk=WS,pd=nk.Symbol,M1=ak("wks"),lk=sk?pd.for||pd:pd&&pd.withoutSetter||ik,Ih=function(R){return K4(M1,R)||(M1[R]=ok&&K4(pd,R)?pd[R]:lk("Symbol."+R)),M1[R]},uk=Dh,fk=String,ck=TypeError,um=function(R){if(uk(R))return R;throw new ck(fk(R)+" is not an object")},YS={},hk=af,bc=!hk(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),vk=bc,dk=af,XS=vk&&dk(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),_h={},pk=bc,gk=af,yk=Lb,ZS=!pk&&!gk(function(){return Object.defineProperty(yk("div"),"a",{get:function(){return 7}}).a!==7}),mk=_S,sg=Function.prototype.call,fm=mk?sg.bind(sg):function(){return sg.apply(sg,arguments)},E1=bu,xk=xl,bk=function(R){return xk(R)?R:void 0},Db=function(R,O){return arguments.length<2?bk(E1[R]):E1[R]&&E1[R][O]},wk=wu,Tk=wk({}.isPrototypeOf),Ak=Db,Sk=xl,Mk=Tk,Ek=WS,Ck=Object,KS=Ek?function(R){return typeof R=="symbol"}:function(R){var O=Ak("Symbol");return Sk(O)&&Mk(O.prototype,Ck(R))},Lk=String,Pk=function(R){try{return Lk(R)}catch{return"Object"}},Rk=xl,Dk=Pk,Ik=TypeError,JS=function(R){if(Rk(R))return R;throw new Ik(Dk(R)+" is not a function")},_k=JS,kk=NS,Fk=function(R,O){var J=R[O];return kk(J)?void 0:_k(J)},C1=fm,L1=xl,P1=Dh,Ok=TypeError,zk=function(R,O){var J,ue;if(O==="string"&&L1(J=R.toString)&&!P1(ue=C1(J,R))||L1(J=R.valueOf)&&!P1(ue=C1(J,R))||O!=="string"&&L1(J=R.toString)&&!P1(ue=C1(J,R)))return ue;throw new Ok("Can't convert object to primitive value")},Nk=fm,J4=Dh,$4=KS,Bk=Fk,Uk=zk,Vk=Ih,jk=TypeError,Hk=Vk("toPrimitive"),Gk=function(R,O){if(!J4(R)||$4(R))return R;var J=Bk(R,Hk),ue;if(J){if(O===void 0&&(O="default"),ue=Nk(J,R,O),!J4(ue)||$4(ue))return ue;throw new jk("Can't convert object to primitive value")}return O===void 0&&(O="number"),Uk(R,O)},Wk=Gk,Yk=KS,$S=function(R){var O=Wk(R,"string");return Yk(O)?O:O+""},Xk=bc,Zk=ZS,Kk=XS,lg=um,Q4=$S,Jk=TypeError,R1=Object.defineProperty,$k=Object.getOwnPropertyDescriptor,D1="enumerable",I1="configurable",_1="writable";_h.f=Xk?Kk?function(O,J,ue){if(lg(O),J=Q4(J),lg(ue),typeof O=="function"&&J==="prototype"&&"value"in ue&&_1 in ue&&!ue[_1]){var Le=$k(O,J);Le&&Le[_1]&&(O[J]=ue.value,ue={configurable:I1 in ue?ue[I1]:Le[I1],enumerable:D1 in ue?ue[D1]:Le[D1],writable:!1})}return R1(O,J,ue)}:R1:function(O,J,ue){if(lg(O),J=Q4(J),lg(ue),Zk)try{return R1(O,J,ue)}catch{}if("get"in ue||"set"in ue)throw new Jk("Accessors not supported");return"value"in ue&&(O[J]=ue.value),O};var Qk=Math.ceil,qk=Math.floor,eF=Math.trunc||function(O){var J=+O;return(J>0?qk:Qk)(J)},tF=eF,QS=function(R){var O=+R;return O!==O||O===0?0:tF(O)},rF=QS,nF=Math.max,aF=Math.min,iF=function(R,O){var J=rF(R);return J<0?nF(J+O,0):aF(J,O)},oF=QS,sF=Math.min,lF=function(R){var O=oF(R);return O>0?sF(O,9007199254740991):0},uF=lF,fF=function(R){return uF(R.length)},cF=c0,hF=iF,vF=fF,q4=function(R){return function(O,J,ue){var Le=cF(O),Oe=vF(Le);if(Oe===0)return!R&&-1;var H=hF(ue,Oe),j;if(R&&J!==J){for(;Oe>H;)if(j=Le[H++],j!==j)return!0}else for(;Oe>H;H++)if((R||H in Le)&&Le[H]===J)return R||H||0;return!R&&-1}},dF={includes:q4(!0),indexOf:q4(!1)},Ib={},pF=wu,k1=xc,gF=c0,yF=dF.indexOf,mF=Ib,eT=pF([].push),qS=function(R,O){var J=gF(R),ue=0,Le=[],Oe;for(Oe in J)!k1(mF,Oe)&&k1(J,Oe)&&eT(Le,Oe);for(;O.length>ue;)k1(J,Oe=O[ue++])&&(~yF(Le,Oe)||eT(Le,Oe));return Le},_b=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xF=qS,bF=_b,wF=Object.keys||function(O){return xF(O,bF)},TF=bc,AF=XS,SF=_h,MF=um,EF=c0,CF=wF;YS.f=TF&&!AF?Object.defineProperties:function(O,J){MF(O);for(var ue=EF(J),Le=CF(J),Oe=Le.length,H=0,j;Oe>H;)SF.f(O,j=Le[H++],ue[j]);return O};var LF=Db,PF=LF("document","documentElement"),RF=US,DF=jS,tT=RF("keys"),kb=function(R){return tT[R]||(tT[R]=DF(R))},IF=um,_F=YS,rT=_b,kF=Ib,FF=PF,OF=Lb,zF=kb,nT=">",aT="<",$x="prototype",Qx="script",eM=zF("IE_PROTO"),F1=function(){},tM=function(R){return aT+Qx+nT+R+aT+"/"+Qx+nT},iT=function(R){R.write(tM("")),R.close();var O=R.parentWindow.Object;return R=null,O},NF=function(){var R=OF("iframe"),O="java"+Qx+":",J;return R.style.display="none",FF.appendChild(R),R.src=String(O),J=R.contentWindow.document,J.open(),J.write(tM("document.F=Object")),J.close(),J.F},ug,Pg=function(){try{ug=new ActiveXObject("htmlfile")}catch{}Pg=typeof document<"u"?document.domain&&ug?iT(ug):NF():iT(ug);for(var R=rT.length;R--;)delete Pg[$x][rT[R]];return Pg()};kF[eM]=!0;var rM=Object.create||function(O,J){var ue;return O!==null?(F1[$x]=IF(O),ue=new F1,F1[$x]=null,ue[eM]=O):ue=Pg(),J===void 0?ue:_F.f(ue,J)},BF=Ih,UF=rM,VF=_h.f,qx=BF("unscopables"),e2=Array.prototype;e2[qx]===void 0&&VF(e2,qx,{configurable:!0,value:UF(null)});var jF=function(R){e2[qx][R]=!0},Fb={},HF=bu,GF=xl,oT=HF.WeakMap,WF=GF(oT)&&/native code/.test(String(oT)),Ob=function(R,O){return{enumerable:!(R&1),configurable:!(R&2),writable:!(R&4),value:O}},YF=bc,XF=_h,ZF=Ob,cm=YF?function(R,O,J){return XF.f(R,O,ZF(1,J))}:function(R,O,J){return R[O]=J,R},KF=WF,nM=bu,JF=Dh,$F=cm,O1=xc,z1=Rb,QF=kb,qF=Ib,sT="Object already initialized",t2=nM.TypeError,eO=nM.WeakMap,cy,a0,hy,tO=function(R){return hy(R)?a0(R):cy(R,{})},rO=function(R){return function(O){var J;if(!JF(O)||(J=a0(O)).type!==R)throw new t2("Incompatible receiver, "+R+" required");return J}};if(KF||z1.state){var Lf=z1.state||(z1.state=new eO);Lf.get=Lf.get,Lf.has=Lf.has,Lf.set=Lf.set,cy=function(R,O){if(Lf.has(R))throw new t2(sT);return O.facade=R,Lf.set(R,O),O},a0=function(R){return Lf.get(R)||{}},hy=function(R){return Lf.has(R)}}else{var td=QF("state");qF[td]=!0,cy=function(R,O){if(O1(R,td))throw new t2(sT);return O.facade=R,$F(R,td,O),O},a0=function(R){return O1(R,td)?R[td]:{}},hy=function(R){return O1(R,td)}}var aM={set:cy,get:a0,has:hy,enforce:tO,getterFor:rO},zb={},iM={},oM={}.propertyIsEnumerable,sM=Object.getOwnPropertyDescriptor,nO=sM&&!oM.call({1:2},1);iM.f=nO?function(O){var J=sM(this,O);return!!J&&J.enumerable}:oM;var aO=bc,iO=fm,oO=iM,sO=Ob,lO=c0,uO=$S,fO=xc,cO=ZS,lT=Object.getOwnPropertyDescriptor;zb.f=aO?lT:function(O,J){if(O=lO(O),J=uO(J),cO)try{return lT(O,J)}catch{}if(fO(O,J))return sO(!iO(oO.f,O,J),O[J])};var lM={exports:{}},r2=bc,hO=xc,uM=Function.prototype,vO=r2&&Object.getOwnPropertyDescriptor,Nb=hO(uM,"name"),dO=Nb&&(function(){}).name==="something",pO=Nb&&(!r2||r2&&vO(uM,"name").configurable),fM={EXISTS:Nb,PROPER:dO,CONFIGURABLE:pO},gO=wu,yO=xl,n2=Rb,mO=gO(Function.toString);yO(n2.inspectSource)||(n2.inspectSource=function(R){return mO(R)});var xO=n2.inspectSource,Bb=wu,bO=af,wO=xl,fg=xc,a2=bc,TO=fM.CONFIGURABLE,AO=xO,cM=aM,SO=cM.enforce,MO=cM.get,uT=String,Rg=Object.defineProperty,EO=Bb("".slice),CO=Bb("".replace),LO=Bb([].join),PO=a2&&!bO(function(){return Rg(function(){},"length",{value:8}).length!==8}),RO=String(String).split("String"),DO=lM.exports=function(R,O,J){EO(uT(O),0,7)==="Symbol("&&(O="["+CO(uT(O),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),J&&J.getter&&(O="get "+O),J&&J.setter&&(O="set "+O),(!fg(R,"name")||TO&&R.name!==O)&&(a2?Rg(R,"name",{value:O,configurable:!0}):R.name=O),PO&&J&&fg(J,"arity")&&R.length!==J.arity&&Rg(R,"length",{value:J.arity});try{J&&fg(J,"constructor")&&J.constructor?a2&&Rg(R,"prototype",{writable:!1}):R.prototype&&(R.prototype=void 0)}catch{}var ue=SO(R);return fg(ue,"source")||(ue.source=LO(RO,typeof O=="string"?O:"")),R};Function.prototype.toString=DO(function(){return wO(this)&&MO(this).source||AO(this)},"toString");var IO=lM.exports,_O=xl,kO=_h,FO=IO,OO=Pb,Ub=function(R,O,J,ue){ue||(ue={});var Le=ue.enumerable,Oe=ue.name!==void 0?ue.name:O;if(_O(J)&&FO(J,Oe,ue),ue.global)Le?R[O]=J:OO(O,J);else{try{ue.unsafe?R[O]&&(Le=!0):delete R[O]}catch{}Le?R[O]=J:kO.f(R,O,{value:J,enumerable:!1,configurable:!ue.nonConfigurable,writable:!ue.nonWritable})}return R},hM={},zO=qS,NO=_b,BO=NO.concat("length","prototype");hM.f=Object.getOwnPropertyNames||function(O){return zO(O,BO)};var vM={};vM.f=Object.getOwnPropertySymbols;var UO=Db,VO=wu,jO=hM,HO=vM,GO=um,WO=VO([].concat),YO=UO("Reflect","ownKeys")||function(O){var J=jO.f(GO(O)),ue=HO.f;return ue?WO(J,ue(O)):J},fT=xc,XO=YO,ZO=zb,KO=_h,JO=function(R,O,J){for(var ue=XO(O),Le=KO.f,Oe=ZO.f,H=0;H<ue.length;H++){var j=ue[H];!fT(R,j)&&!(J&&fT(J,j))&&Le(R,j,Oe(O,j))}},$O=af,QO=xl,qO=/#|\.prototype\./,h0=function(R,O){var J=tz[ez(R)];return J===nz?!0:J===rz?!1:QO(O)?$O(O):!!O},ez=h0.normalize=function(R){return String(R).replace(qO,".").toLowerCase()},tz=h0.data={},rz=h0.NATIVE="N",nz=h0.POLYFILL="P",az=h0,cg=bu,iz=zb.f,oz=cm,sz=Ub,lz=Pb,uz=JO,fz=az,dM=function(R,O){var J=R.target,ue=R.global,Le=R.stat,Oe,H,j,e,g,P;if(ue?H=cg:Le?H=cg[J]||lz(J,{}):H=cg[J]&&cg[J].prototype,H)for(j in O){if(g=O[j],R.dontCallGetSet?(P=iz(H,j),e=P&&P.value):e=H[j],Oe=fz(ue?j:J+(Le?".":"#")+j,R.forced),!Oe&&e!==void 0){if(typeof g==typeof e)continue;uz(g,e)}(R.sham||e&&e.sham)&&oz(g,"sham",!0),sz(H,j,g,R)}},cz=af,hz=!cz(function(){function R(){}return R.prototype.constructor=null,Object.getPrototypeOf(new R)!==R.prototype}),vz=xc,dz=xl,pz=VS,gz=kb,yz=hz,cT=gz("IE_PROTO"),i2=Object,mz=i2.prototype,pM=yz?i2.getPrototypeOf:function(R){var O=pz(R);if(vz(O,cT))return O[cT];var J=O.constructor;return dz(J)&&O instanceof J?J.prototype:O instanceof i2?mz:null},xz=af,bz=xl,wz=Dh,hT=pM,Tz=Ub,Az=Ih,o2=Az("iterator"),gM=!1,Av,N1,B1;[].keys&&(B1=[].keys(),"next"in B1?(N1=hT(hT(B1)),N1!==Object.prototype&&(Av=N1)):gM=!0);var Sz=!wz(Av)||xz(function(){var R={};return Av[o2].call(R)!==R});Sz&&(Av={});bz(Av[o2])||Tz(Av,o2,function(){return this});var yM={IteratorPrototype:Av,BUGGY_SAFARI_ITERATORS:gM},Mz=_h.f,Ez=xc,Cz=Ih,vT=Cz("toStringTag"),Vb=function(R,O,J){R&&!J&&(R=R.prototype),R&&!Ez(R,vT)&&Mz(R,vT,{configurable:!0,value:O})},Lz=yM.IteratorPrototype,Pz=rM,Rz=Ob,Dz=Vb,Iz=Fb,_z=function(){return this},kz=function(R,O,J,ue){var Le=O+" Iterator";return R.prototype=Pz(Lz,{next:Rz(+!ue,J)}),Dz(R,Le,!1),Iz[Le]=_z,R},Fz=wu,Oz=JS,zz=function(R,O,J){try{return Fz(Oz(Object.getOwnPropertyDescriptor(R,O)[J]))}catch{}},Nz=Dh,Bz=function(R){return Nz(R)||R===null},Uz=Bz,Vz=String,jz=TypeError,Hz=function(R){if(Uz(R))return R;throw new jz("Can't set "+Vz(R)+" as a prototype")},Gz=zz,Wz=Dh,Yz=lm,Xz=Hz,Zz=Object.setPrototypeOf||("__proto__"in{}?function(){var R=!1,O={},J;try{J=Gz(Object.prototype,"__proto__","set"),J(O,[]),R=O instanceof Array}catch{}return function(Le,Oe){return Yz(Le),Xz(Oe),Wz(Le)&&(R?J(Le,Oe):Le.__proto__=Oe),Le}}():void 0),Kz=dM,Jz=fm,mM=fM,$z=xl,Qz=kz,dT=pM,pT=Zz,qz=Vb,eN=cm,U1=Ub,tN=Ih,rN=Fb,xM=yM,nN=mM.PROPER,aN=mM.CONFIGURABLE,gT=xM.IteratorPrototype,hg=xM.BUGGY_SAFARI_ITERATORS,bp=tN("iterator"),yT="keys",wp="values",mT="entries",iN=function(){return this},oN=function(R,O,J,ue,Le,Oe,H){Qz(J,O,ue);var j=function(t){if(t===Le&&x)return x;if(!hg&&t&&t in P)return P[t];switch(t){case yT:return function(){return new J(this,t)};case wp:return function(){return new J(this,t)};case mT:return function(){return new J(this,t)}}return function(){return new J(this)}},e=O+" Iterator",g=!1,P=R.prototype,a=P[bp]||P["@@iterator"]||Le&&P[Le],x=!hg&&a||j(Le),w=O==="Array"&&P.entries||a,v,p,r;if(w&&(v=dT(w.call(new R)),v!==Object.prototype&&v.next&&(dT(v)!==gT&&(pT?pT(v,gT):$z(v[bp])||U1(v,bp,iN)),qz(v,e,!0))),nN&&Le===wp&&a&&a.name!==wp&&(aN?eN(P,"name",wp):(g=!0,x=function(){return Jz(a,this)})),Le)if(p={values:j(wp),keys:Oe?x:j(yT),entries:j(mT)},H)for(r in p)(hg||g||!(r in P))&&U1(P,r,p[r]);else Kz({target:O,proto:!0,forced:hg||g},p);return P[bp]!==x&&U1(P,bp,x,{name:Le}),rN[O]=x,p},sN=function(R,O){return{value:R,done:O}},lN=c0,jb=jF,xT=Fb,bM=aM,uN=_h.f,fN=oN,vg=sN,cN=bc,wM="Array Iterator",hN=bM.set,vN=bM.getterFor(wM),dN=fN(Array,"Array",function(R,O){hN(this,{type:wM,target:lN(R),index:0,kind:O})},function(){var R=vN(this),O=R.target,J=R.index++;if(!O||J>=O.length)return R.target=void 0,vg(void 0,!0);switch(R.kind){case"keys":return vg(J,!1);case"values":return vg(O[J],!1)}return vg([J,O[J]],!1)},"values"),bT=xT.Arguments=xT.Array;jb("keys");jb("values");jb("entries");if(cN&&bT.name!=="values")try{uN(bT,"name",{value:"values"})}catch{}var wT=bu,TM=b_,pN=M_,Cp=dN,TT=cm,gN=Vb,yN=Ih,V1=yN("iterator"),j1=Cp.values,AM=function(R,O){if(R){if(R[V1]!==j1)try{TT(R,V1,j1)}catch{R[V1]=j1}if(gN(R,O,!0),TM[O]){for(var J in Cp)if(R[J]!==Cp[J])try{TT(R,J,Cp[J])}catch{R[J]=Cp[J]}}}};for(var H1 in TM)AM(wT[H1]&&wT[H1].prototype,H1);AM(pN,"DOMTokenList");var mN=Ih,xN=mN("toStringTag"),SM={};SM[xN]="z";var bN=String(SM)==="[object z]",wN=bN,TN=xl,Dg=zS,AN=Ih,SN=AN("toStringTag"),MN=Object,EN=Dg(function(){return arguments}())==="Arguments",CN=function(R,O){try{return R[O]}catch{}},LN=wN?Dg:function(R){var O,J,ue;return R===void 0?"Undefined":R===null?"Null":typeof(J=CN(O=MN(R),SN))=="string"?J:EN?Dg(O):(ue=Dg(O))==="Object"&&TN(O.callee)?"Arguments":ue},PN=LN,RN=String,MM=function(R){if(PN(R)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return RN(R)},EM=`	
\v\f\r                　\u2028\u2029\uFEFF`,DN=wu,IN=lm,_N=MM,s2=EM,AT=DN("".replace),kN=RegExp("^["+s2+"]+"),FN=RegExp("(^|[^"+s2+"])["+s2+"]+$"),G1=function(R){return function(O){var J=_N(IN(O));return R&1&&(J=AT(J,kN,"")),R&2&&(J=AT(J,FN,"$1")),J}},ON={start:G1(1),end:G1(2),trim:G1(3)},CM=bu,zN=af,NN=wu,BN=MM,UN=ON.trim,VN=EM,jN=NN("".charAt),vy=CM.parseFloat,ST=CM.Symbol,MT=ST&&ST.iterator,HN=1/vy(VN+"-0")!==-1/0||MT&&!zN(function(){vy(Object(MT))}),GN=HN?function(O){var J=UN(BN(O)),ue=vy(J);return ue===0&&jN(J,0)==="-"?-0:ue}:vy,WN=dM,ET=GN;WN({global:!0,forced:parseFloat!==ET},{parseFloat:ET});function LM(R){var O,J,ue="";if(typeof R=="string"||typeof R=="number")ue+=R;else if(typeof R=="object")if(Array.isArray(R))for(O=0;O<R.length;O++)R[O]&&(J=LM(R[O]))&&(ue&&(ue+=" "),ue+=J);else for(O in R)R[O]&&(ue&&(ue+=" "),ue+=O);return ue}function CT(){for(var R,O,J=0,ue="";J<arguments.length;)(R=arguments[J++])&&(O=LM(R))&&(ue&&(ue+=" "),ue+=O);return ue}const YN=Object.freeze(Object.defineProperty({__proto__:null,clsx:CT,default:CT},Symbol.toStringTag,{value:"Module"})),XN=PC(YN);Object.defineProperty(sm,"__esModule",{value:!0});sm.default=void 0;var _l=JN(pn),ZN=KN(XN);function KN(R){return R&&R.__esModule?R:{default:R}}function PM(R){if(typeof WeakMap!="function")return null;var O=new WeakMap,J=new WeakMap;return(PM=function(Le){return Le?J:O})(R)}function JN(R,O){if(!O&&R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var J=PM(O);if(J&&J.has(R))return J.get(R);var ue={},Le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Oe in R)if(Oe!=="default"&&Object.prototype.hasOwnProperty.call(R,Oe)){var H=Le?Object.getOwnPropertyDescriptor(R,Oe):null;H&&(H.get||H.set)?Object.defineProperty(ue,Oe,H):ue[Oe]=R[Oe]}return ue.default=R,J&&J.set(R,ue),ue}const LT=Math.abs,W1=parseFloat,Tp="min",dg="max",Y1="any",PT="vertical",RT="tabindex",DT="data-lower",IT="data-upper",pg="data-active",_T="data-vertical",gg="data-disabled";class $N extends _l.PureComponent{constructor(){super(),this.element=(0,_l.createRef)(),this.input=[(0,_l.createRef)(),(0,_l.createRef)()],this.thumb=[(0,_l.createRef)(),(0,_l.createRef)()],this.range=(0,_l.createRef)(),this.options={},this.firstCall=!0,this.isControlled=!1,this.externalInput=!1,this.isComponentMounted=!1,this.lastValueProp=[]}componentDidMount(){this.isComponentMounted||(this.value=this.setMinMaxProps(),this.index=this.setMinMaxProps(0,1),this.thumbWidth=this.setMinMaxProps(),this.thumbHeight=this.setMinMaxProps(),this.rangeLimits=this.setMinMaxProps(),this.sliderValue=this.setMinMaxProps(),this.maxRangeWidth=0,this.rangeWidth=0,this.isDragging=!1,this.thumbDrag=!1,this.startPos=0,this.reset(),this.addNodeEventListener(this.element.current,"pointerdown",O=>{this.elementFocused(O)}),this.thumb.forEach((O,J)=>{this.addNodeEventListener(O.current,"pointerdown",ue=>{this.initiateThumbDrag(ue,J,O.current)}),this.addNodeEventListener(O.current,"keydown",ue=>{ue.which>=37&&ue.which<=40&&(ue.preventDefault(),this.stepValue(J,ue.which))})}),this.addNodeEventListener(this.range.current,"pointerdown",O=>{this.initiateRangeDrag(O)}),this.pointerMoveEvent=O=>{this.drag(O)},this.pointerUpEvent=()=>{this.isDragging&&(this.removeNodeAttribute(this.thumb[0].current,pg),this.removeNodeAttribute(this.thumb[1].current,pg),this.removeNodeAttribute(this.range.current,pg),this.isDragging=!1,this.thumbDrag?this.options.onThumbDragEnd&&this.options.onThumbDragEnd():this.options.onRangeDragEnd&&this.options.onRangeDragEnd())},this.resizeEvent=()=>{this.syncThumbDimensions(),this.updateThumbs(),this.updateRange()},this.addNodeEventListener(document,"pointermove",this.pointerMoveEvent),this.addNodeEventListener(document,"pointerup",this.pointerUpEvent),this.addNodeEventListener(window,"resize",this.resizeEvent),this.isComponentMounted=!0)}componentDidUpdate(){this.reset()}componentWillUnmount(){this.removeNodeEventListener(document,"pointermove",this.pointerMoveEvent),this.removeNodeEventListener(document,"pointerup",this.pointerUpEvent),this.removeNodeEventListener(window,"resize",this.resizeEvent),this.isComponentMounted=!1}reset(){this.isControlled=!!this.props.value,this.isControlled&&((this.firstCall||this.props.value!==this.lastValueProp)&&(this.firstCall=!1,this.externalInput=!0),this.lastValueProp=this.props.value),this.maxRangeWidth=this.options.max-this.options.min,this.updateOrientation(),this.setValue("",!0,!1),this.updateRangeLimits(),this.updateDisabledState(),this.updateThumbsDisabledState(),this.updateTabIndexes()}isNumber(O){return!isNaN(O)&&+O+""==O+""}setMinMaxProps(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{min:O,max:J}}iterateMinMaxProps(O){[Tp,dg].forEach(O)}getSetProps(O,J,ue){if(O)return J;ue()}setNodeAttribute(O,J){let ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";O.setAttribute(J,ue)}removeNodeAttribute(O,J){O.removeAttribute(J)}addNodeEventListener(O,J,ue){let Le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;O.addEventListener(J,ue,Le?{passive:!1,capture:!0}:{})}removeNodeEventListener(O,J,ue){let Le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;O.removeEventListener(J,ue,Le?{passive:!1,capture:!0}:{})}fallbackToDefault(O,J){this.options[O]=this.props[O]?this.props[O]:J}ifVerticalElse(O,J){return this.options.orientation===PT?O:J}currentIndex(O){return O===1?this.index.max:this.index.min}safeMinMaxValues(){let O=!1;(!this.isNumber(this.options.min)||!this.isNumber(this.options.max))&&(O=!0),this.options.min=O?1:+this.options.min,this.options.max=O?1:+this.options.max}safeThumbsDisabledValues(){this.options.thumbsDisabled instanceof Array?(this.options.thumbsDisabled.length===1&&this.options.thumbsDisabled.push(!1),this.options.thumbsDisabled.length!==1&&this.options.thumbsDisabled.length!==2&&(this.options.thumbsDisabled=[!1,!1])):this.options.thumbsDisabled=[this.options.thumbsDisabled,this.options.thumbsDisabled],this.options.thumbsDisabled[0]=!!this.options.thumbsDisabled[0],this.options.thumbsDisabled[1]=!!this.options.thumbsDisabled[1]}setValue(O){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const Le=this.setMinMaxProps(this.input[0].current.value,this.input[1].current.value);O=O||Le,this.input[this.index.min].current.value=O.min,this.input[this.index.max].current.value=this.thumbDrag||J?O.max:O.min+this.rangeWidth,this.syncValues(),this.value.min>this.value.max&&(this.index.min=+!this.index.min,this.index.max=+!this.index.max,this.removeNodeAttribute(this.thumb[this.index.min].current,IT),this.removeNodeAttribute(this.thumb[this.index.max].current,DT),this.setNodeAttribute(this.thumb[this.index.min].current,DT),this.setNodeAttribute(this.thumb[this.index.max].current,IT),this.thumbDrag&&(this.thumbDrag=this.thumbDrag===Tp?dg:Tp),this.syncValues()),this.sliderValue=J?this.value:O;let Oe=!1;(Le.min!==this.input[0].current.value||J)&&(Oe=!0),(Le.max!==this.input[1].current.value||J)&&(Oe=!0),Oe&&(ue&&this.options.onInput&&this.options.onInput([this.value.min,this.value.max]),(!this.isControlled||this.externalInput)&&(this.externalInput=!1,this.syncThumbDimensions(),this.updateThumbs(),this.updateRange(),this.updateAriaValueAttributes()))}syncValues(){this.iterateMinMaxProps(O=>{this.value[O]=+this.input[this.index[O]].current.value})}updateThumbs(){this.iterateMinMaxProps(O=>{this.thumb[this.index[O]].current.style[this.ifVerticalElse("top","left")]="calc(".concat((this.value[O]-this.options.min)/this.maxRangeWidth*100,"% + ").concat((.5-(this.value[O]-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth)[O],"px)")})}updateRange(){const O=this.element.current.getBoundingClientRect(),J=(.5-(this.value.min-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth).min/this.ifVerticalElse(O.bottom-O.top,O.right-O.left),ue=(.5-(this.value.max-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth).max/this.ifVerticalElse(O.bottom-O.top,O.right-O.left);this.range.current.style[this.ifVerticalElse("top","left")]="".concat(((this.value.min-this.options.min)/this.maxRangeWidth+J)*100,"%"),this.range.current.style[this.ifVerticalElse("height","width")]="".concat(((this.value.max-this.options.min)/this.maxRangeWidth-(this.value.min-this.options.min)/this.maxRangeWidth-J+ue)*100,"%")}updateRangeLimits(){this.iterateMinMaxProps((O,J)=>{this.rangeLimits[O]=this.options.thumbsDisabled[J]?this.value[O]:this.options[O]})}updateTabIndexes(){this.iterateMinMaxProps((O,J)=>{!this.options.disabled&&!this.options.thumbsDisabled[J]?this.setNodeAttribute(this.thumb[this.currentIndex(J)].current,RT,0):this.removeNodeAttribute(this.thumb[this.currentIndex(J)].current,RT)})}updateAriaValueAttributes(){this.iterateMinMaxProps(O=>{this.setNodeAttribute(this.thumb[this.index[O]].current,"aria-valuemin",this.options.min),this.setNodeAttribute(this.thumb[this.index[O]].current,"aria-valuemax",this.options.max),this.setNodeAttribute(this.thumb[this.index[O]].current,"aria-valuenow",this.value[O]),this.setNodeAttribute(this.thumb[this.index[O]].current,"aria-valuetext",this.value[O])})}updateDisabledState(){this.options.disabled?this.setNodeAttribute(this.element.current,gg):this.removeNodeAttribute(this.element.current,gg)}updateThumbsDisabledState(){this.options.thumbsDisabled.forEach((O,J)=>{const ue=this.currentIndex(J);O?(this.setNodeAttribute(this.thumb[ue].current,gg),this.setNodeAttribute(this.thumb[ue].current,"aria-disabled",!0)):(this.removeNodeAttribute(this.thumb[ue].current,gg),this.setNodeAttribute(this.thumb[ue].current,"aria-disabled",!1))})}updateLimits(O){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.options[O]=J,this.safeMinMaxValues(),this.iterateMinMaxProps(ue=>{this.input[0].current[ue]=this.options[ue],this.input[1].current[ue]=this.options[ue]}),this.maxRangeWidth=this.options.max-this.options.min,this.setValue("",!0),this.updateRangeLimits()}updateOrientation(){this.options.orientation===PT?this.setNodeAttribute(this.element.current,_T):this.removeNodeAttribute(this.element.current,_T),this.range.current.style[this.ifVerticalElse("left","top")]="",this.range.current.style[this.ifVerticalElse("width","height")]="",this.thumb[0].current.style[this.ifVerticalElse("left","top")]="",this.thumb[1].current.style[this.ifVerticalElse("left","top")]=""}syncThumbDimensions(){this.iterateMinMaxProps(O=>{this.thumbWidth[O]=W1(window.getComputedStyle(this.thumb[this.index[O]].current).width),this.thumbHeight[O]=W1(window.getComputedStyle(this.thumb[this.index[O]].current).height)})}currentPosition(O,J){const ue=this.element.current.getBoundingClientRect(),Le=J.getBoundingClientRect(),Oe=(this.ifVerticalElse(Le.top-ue.top,Le.left-ue.left)+(O["client".concat(this.ifVerticalElse("Y","X"))]-J.getBoundingClientRect()[this.ifVerticalElse("top","left")])-(this.thumbDrag?(.5-(this.value[this.thumbDrag]-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth)[this.thumbDrag]:0))/this.ifVerticalElse(ue.bottom-ue.top,ue.right-ue.left)*this.maxRangeWidth+this.options.min;return Oe<this.options.min?this.options.min:Oe>this.options.max?this.options.max:Oe}doesntHaveClassName(O,J){return!O.target.classList.contains(J)}elementFocused(O){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ue=!1;if(!this.options.disabled&&(this.doesntHaveClassName(O,"range-slider__thumb")&&this.doesntHaveClassName(O,"range-slider__range")||this.options.rangeSlideDisabled&&this.doesntHaveClassName(O,"range-slider__thumb"))&&(ue=!0),ue&&this.options.thumbsDisabled[0]&&this.options.thumbsDisabled[1]&&(ue=!1),ue){const Le=this.currentPosition(O,this.range.current),Oe=LT(this.value.min-Le),H=LT(this.value.max-Le);if(this.options.thumbsDisabled[0])Le>=this.value.min&&(this.setValue(this.setMinMaxProps(this.value.min,Le),!0,!J),this.initiateThumbDrag(O,this.index.max,this.thumb[this.index.max].current,!J));else if(this.options.thumbsDisabled[1])Le<=this.value.max&&(this.setValue(this.setMinMaxProps(Le,this.value.max),!0,!J),this.initiateThumbDrag(O,this.index.min,this.thumb[this.index.min].current,!J));else{let j=this.index.max;Oe===H?this.setValue(this.setMinMaxProps(this.value.min,Le),!0,!J):(this.setValue(this.setMinMaxProps(Oe<H?Le:this.value.min,H<Oe?Le:this.value.max),!0,!J),j=Oe<H?this.index.min:this.index.max),this.initiateThumbDrag(O,j,this.thumb[j].current,!J)}J&&this.elementFocused(O,!1)}}initiateDrag(O,J){this.syncThumbDimensions(),this.setNodeAttribute(J,pg),this.startPos=this.currentPosition(O,J),this.isDragging=!0}initiateThumbDrag(O,J,ue){let Le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;!this.options.disabled&&!this.options.thumbsDisabled[this.currentIndex(J)]&&(this.initiateDrag(O,ue),this.thumbDrag=this.index.min===J?Tp:dg,Le&&this.options.onThumbDragStart&&this.options.onThumbDragStart())}initiateRangeDrag(O){!this.options.disabled&&!this.options.rangeSlideDisabled&&(this.initiateDrag(O,this.range.current),this.rangeWidth=this.value.max-this.value.min,this.thumbDrag=!1,this.options.onRangeDragStart&&this.options.onRangeDragStart())}drag(O){if(this.isDragging){const J=this.currentPosition(O,this.range.current),ue=J-this.startPos;let Le=this.value.min,Oe=this.value.max;const H=this.thumbDrag?this.rangeLimits.min:this.options.min,j=this.thumbDrag?this.rangeLimits.max:this.options.max;(!this.thumbDrag||this.thumbDrag===Tp)&&(Le=this.thumbDrag?J:this.sliderValue.min+ue),(!this.thumbDrag||this.thumbDrag===dg)&&(Oe=this.thumbDrag?J:this.sliderValue.max+ue),Le>=H&&Le<=j&&Oe>=H&&Oe<=j?(this.setValue({min:Le,max:Oe}),this.startPos=J):(Le>j&&this.thumbDrag&&(this.setValue(this.setMinMaxProps(j,j)),this.startPos=J),Oe<H&&this.thumbDrag&&(this.setValue(this.setMinMaxProps(H,H)),this.startPos=J),Le<H&&(this.thumbDrag?this.setValue(this.setMinMaxProps(H,this.value.max)):this.setValue(this.setMinMaxProps(H,this.value.max-this.value.min+H)),this.startPos=J),Oe>j&&(this.thumbDrag?this.setValue(this.setMinMaxProps(this.value.min,j)):this.setValue(this.setMinMaxProps(this.value.min-this.value.max+j,j)),this.startPos=J)),this.thumbDrag||this.updateRangeLimits()}}actualStepValue(){const O=W1(this.input[0].current.step);return this.input[0].current.step===Y1?Y1:O===0||isNaN(O)?1:O}stepValue(O,J){const ue=(J===37||J===40?-1:1)*this.ifVerticalElse(-1,1);if(!this.options.disabled&&!this.options.thumbsDisabled[this.currentIndex(O)]){let Le=this.actualStepValue();Le=Le===Y1?1:Le;let Oe=this.value.min+Le*(this.index.min===O?ue:0),H=this.value.max+Le*(this.index.max===O?ue:0);Oe>this.rangeLimits.max&&(Oe=this.rangeLimits.max),H<this.rangeLimits.min&&(H=this.rangeLimits.min),this.setValue({min:Oe,max:H},!0)}}render(){return this.fallbackToDefault("rangeSlideDisabled",!1),this.fallbackToDefault("thumbsDisabled",[!1,!1]),this.fallbackToDefault("orientation","horizontal"),this.fallbackToDefault("defaultValue",[25,75]),this.fallbackToDefault("disabled",!1),this.fallbackToDefault("onThumbDragStart",!1),this.fallbackToDefault("onRangeDragStart",!1),this.fallbackToDefault("onThumbDragEnd",!1),this.fallbackToDefault("onRangeDragEnd",!1),this.fallbackToDefault("onInput",!1),this.fallbackToDefault("step",1),this.fallbackToDefault("min",0),this.fallbackToDefault("max",100),this.props.value&&this.fallbackToDefault("value",[25,75]),this.safeMinMaxValues(),this.safeThumbsDisabledValues(),_l.default.createElement("div",{"data-testid":"element",id:this.props.id,ref:this.element,className:(0,ZN.default)("range-slider",this.props.className)},_l.default.createElement("input",{ref:this.input[0],type:"range",min:this.options.min,max:this.options.max,step:this.options.step,value:this.props.value?this.options.value[0]:this.isComponentMounted?this.value.min:this.options.defaultValue[0],onChange:()=>{},disabled:!0}),_l.default.createElement("input",{ref:this.input[1],type:"range",min:this.options.min,max:this.options.max,step:this.options.step,value:this.props.value?this.options.value[1]:this.isComponentMounted?this.value.max:this.options.defaultValue[1],onChange:()=>{},disabled:!0}),_l.default.createElement("div",{ref:this.thumb[0],role:"slider",className:"range-slider__thumb","data-lower":!0}),_l.default.createElement("div",{ref:this.thumb[1],role:"slider",className:"range-slider__thumb","data-upper":!0}),_l.default.createElement("div",{ref:this.range,className:"range-slider__range"}))}}var QN=$N;sm.default=QN;Object.defineProperty(Cb,"__esModule",{value:!0});var RM=Cb.default=void 0,qN=eB(sm);function eB(R){return R&&R.__esModule?R:{default:R}}var tB=qN.default;RM=Cb.default=tB;function ks({title:R,options:O,callback:J,filters:ue,setFilters:Le,attr:Oe,setSelected:H,selected:j,setAllStocks:e,allStocks:g,min:P,max:a}){var y,h;const[x,w]=pn.useState(!1),[v,p]=pn.useState((y=j[Oe])==null?void 0:y.startsWith("custom")),[r,t]=pn.useState((h=j[Oe])!=null&&h.startsWith("custom")?[j[Oe].split(" ")[1],j[Oe].split(" ")[2]]:[P,a]),i=()=>w(!x),n=M=>{isNaN(M.target.value)&&(M.target.value!="custom"?(p(!1),t([P,a]),e(g),Le({...ue,[Oe]:J(M.target.value)}),H({...j,[Oe]:M.target.value})):(H({...j,[Oe]:M.target.value}),p(!0)))},u=M=>{const c=[...r];c[0]=M.target.value,t(c)},f=M=>{const c=[...r];c[1]=M.target.value,t(c)},l=M=>{M.preventDefault(),H({...j,[Oe]:`custom ${r[0]} ${r[1]}`}),Le({...ue,[Oe]:J(`custom ${r[0]} ${r[1]}`)})};return Ze.jsxs("div",{className:"filter-card",children:[Ze.jsxs("div",{className:"filter-header",onClick:i,children:[R,Ze.jsx("button",{children:x?Ze.jsx(gb,{}):Ze.jsx(pb,{})})]}),x&&Ze.jsxs("fieldset",{onChange:M=>n(M),children:[O,v&&Ze.jsxs("div",{className:"custom-actions",children:[Ze.jsxs("div",{className:"custom-inputs",children:[Ze.jsx("input",{type:"number",value:r[0],onChange:M=>u(M),min:P,max:r[1]}),Ze.jsx("input",{type:"number",value:r[1],onChange:M=>f(M),min:P,max:r[0]})]}),Ze.jsx(RM,{min:P,max:a,step:(a-P)/100,value:r,onInput:t}),Ze.jsx("button",{onClick:M=>l(M),children:"Apply"})]})]})]})}const rB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.avg_volume<O[1];case">":return J=>J.avg_volume>O[1];case"custom":return J=>J.avg_volume>O[1]&&J.avg_volume<O[2];default:return J=>J}},nB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.price<O[1];case">":return J=>J.price>O[1];case"custom":return J=>J.price>O[1]&&J.price<O[2];default:return J=>J}},aB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.distance_to_52_low>-O[1]/100;case">":return J=>J.distance_to_52_high<O[1]/100;default:return J=>J}},iB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.past_day_return<-O[1]/100;case">":return J=>J.past_day_return>O[1]/100;case"custom":return J=>J.past_day_return>O[1]/100&&J.past_day_return<O[2]/100;default:return J=>J}},oB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.past_month_return<-O[1]/100;case">":return J=>J.past_month_return>O[1]/100;case"custom":return J=>J.past_month_return>O[1]/100&&J.past_month_return<O[2]/100;default:return J=>J}},sB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.past_year_return<-O[1]/100;case">":return J=>J.past_year_return>O[1]/100;case"custom":return J=>J.past_year_return>O[1]/100&&J.past_year_return<O[2]/100;default:return J=>J}},lB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.past_outperformance<-O[1]/100;case">":return J=>J.past_outperformance>O[1]/100;case"custom":return J=>J.past_outperformance>O[1]/100&&J.past_outperformance<O[2]/100;default:return J=>J}},uB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.market_cap<O[1];case">":return J=>J.market_cap>O[1];case"[":return J=>J.market_cap>O[1]&&J.market_cap<O[2];case"custom":return J=>J.market_cap>O[1]&&J.market_cap<O[2];default:return J=>J}},fB=R=>R?O=>O.sector==R:O=>O,cB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.shares_outstanding<O[1]/1e6;case">":return J=>J.shares_outstanding>O[1]/1e6;case"[":return J=>J.shares_outstanding>O[1]/1e6&&J.shares_outstanding<O[2]/1e6;case"custom":return J=>J.shares_outstanding>O[1]&&J.shares_outstanding<O[2];default:return J=>J}},hB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.short_interest<O[1]/100;case">":return J=>J.short_interest>O[1]/100;case"custom":return J=>J.short_interest>O[1]/100&&J.short_interest<O[2]/100;default:return J=>J}},vB=R=>R?O=>O.recommendation==R:O=>O,dB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.dividend_yield<O[1]/100;case">":return J=>J.dividend_yield>O[1]/100;case"0":return J=>!J.dividend_yield;case"custom":return J=>J.dividend_yield>O[1]/100&&J.dividend_yield<O[2]/100;default:return J=>J}},pB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.trailing_pe<O[1];case">":return J=>J.trailing_pe>O[1];case"0":return J=>!J.trailing_pe;case"custom":return J=>J.trailing_pe>O[1]&&J.trailing_pe<O[2];default:return J=>J}},gB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.forward_pe<O[1];case">":return J=>J.forward_pe>O[1];case"0":return J=>!J.forward_pe;case"custom":return J=>J.forward_pe>O[1]&&J.forward_pe<O[2];default:return J=>J}},yB=(R=">")=>{const O=R.split(" ");switch(O[0]){case"<":return J=>J.pb<O[1];case">":return J=>J.pb>O[1];case"0":return J=>!J.pb;case"custom":return J=>J.pb>O[1]&&J.pb<O[2];default:return J=>J}};function mB({params:R}){const O=Mo(),J=nf(),[ue,Le]=pn.useState(""),[Oe,H]=pn.useState({}),{closeModal:j}=xu(),e=async g=>{g.preventDefault();const P=await O(LD({name:ue,params:JSON.stringify(R)}));P!=null&&P.errors?H(P.errors):(j(),J(`/screener?id=${P.id}`))};return Ze.jsxs("div",{className:"login-modal",children:[Ze.jsx("h1",{children:"Create Screener"}),Ze.jsxs("form",{onSubmit:e,onReset:()=>j(),children:[Ze.jsxs("label",{children:["Screener name",Ze.jsx("input",{type:"text",value:ue,onChange:g=>Le(g.target.value),required:!0})]}),Oe.name&&Ze.jsx("p",{children:Oe.name}),Ze.jsxs("div",{className:"params",children:["Parameters:",Object.entries(R).map(([g,P],a)=>Ze.jsxs("div",{children:[g,": ",P]},a))]}),Oe.params&&Ze.jsx("p",{children:Oe.params}),Ze.jsxs("div",{className:"actions",children:[Ze.jsx("button",{type:"reset",children:"Cancel"}),Ze.jsx("button",{type:"submit",children:"Create Screener"})]})]})]})}function xB(){var u,f,l,y,h,M,c,o,d,T,S,C,m,E;const R=nf(),O=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),ue=+Cv().search.split("id=")[1],Le=Di(b=>b.screeners),Oe=(u=Le==null?void 0:Le.screeners)==null?void 0:u.filter(b=>(b==null?void 0:b.id)==ue)[0],H=Le?Le[+ue]:null,j=Di(b=>b.stocks.sectors),[e,g]=pn.useState(!1),[P,a]=pn.useState({}),[x,w]=pn.useState({}),[v,p]=pn.useState([]),r=Di(b=>b.stocks.stocks),t=(b,s)=>{if(Object.keys(s).length){const L=b==null?void 0:b.filter(A=>Object.values(s).map(k=>k(A)).every(k=>k===!0));p(L)}},i=Mo(),n=()=>{w({}),a({}),p(r)};return pn.useEffect(()=>{n()},[ue]),pn.useEffect(()=>{ue?(p(H),w(Oe==null?void 0:Oe.params)):p(r),(Oe||ue==0)&&g(!0)},[r==null?void 0:r.length,ue,H==null?void 0:H.length,Oe==null?void 0:Oe.params]),pn.useEffect(()=>{t(v,P)},[P]),pn.useEffect(()=>{(async()=>{await i(nS()),await i(vD()),await i(ED(ue?+ue:void 0))})()},[i,ue]),e?Ze.jsxs("div",{className:"screener-page",children:[Ze.jsxs("div",{className:"filters",children:[Ze.jsx("h2",{children:"Filters"}),Ze.jsxs("div",{className:"filter-container",children:[Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Average Volume"}),attr:"avg_volume",callback:rB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:1e4,max:8e7,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"< 50000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 50000"}),"Under 50,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"< 100000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 100000"}),"Under 100,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"< 200000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 200000"}),"Under 200,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"< 500000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 500000"}),"Under 500,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"< 1000000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 1000000"}),"Under 1,000,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"> 50000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 50000"}),"Over 50,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"> 100000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 100000"}),"Over 100,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"> 200000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 200000"}),"Over 200,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"> 500000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 500000"}),"Over 500,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"> 1000000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 1000000"}),"Over 1,000,000"]})}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"avg_volume",value:"custom",readOnly:!0,checked:(f=x==null?void 0:x.avg_volume)==null?void 0:f.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Share Price"}),attr:"price",callback:nB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:2,max:1e4,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"price",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.price)=="< 10"}),"Under $10"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"price",value:"< 50",readOnly:!0,checked:(x==null?void 0:x.price)=="< 50"}),"Under $50"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"price",value:"< 100",readOnly:!0,checked:(x==null?void 0:x.price)=="< 100"}),"Under $100"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"price",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.price)=="> 10"}),"Over $10"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"price",value:"> 50",readOnly:!0,checked:(x==null?void 0:x.price)=="> 50"}),"Over $50"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"price",value:"> 100",readOnly:!0,checked:(x==null?void 0:x.price)=="> 100"}),"Over $100"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"price",value:"custom",readOnly:!0,checked:(l=x==null?void 0:x.price)==null?void 0:l.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"52 Week Range"}),attr:"year_range",callback:aB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"year_range",value:"> 1",readOnly:!0,checked:(x==null?void 0:x.year_range)=="> 1"}),"High near 1%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"year_range",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.year_range)=="> 5"}),"High near 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"year_range",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.year_range)=="> 20"}),"High near 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"year_range",value:"> 40",readOnly:!0,checked:(x==null?void 0:x.year_range)=="> 40"}),"High near 40%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"year_range",value:"< 1",readOnly:!0,checked:(x==null?void 0:x.year_range)=="< 1"}),"Low near 1%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"year_range",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.year_range)=="< 5"}),"Low near 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"year_range",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.year_range)=="< 20"}),"Low near 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"year_range",value:"< 40",readOnly:!0,checked:(x==null?void 0:x.year_range)=="< 40"}),"Low near 40%"]})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Daily % Change"}),attr:"past_day_return",callback:iB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:-100,max:200,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"> 0",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="> 0"}),"Up more than 0%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="> 5"}),"Up more than 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="> 10"}),"Up more than 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="> 20"}),"Up more than 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"< 0",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="< 0"}),"Down more than 0%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="< 5"}),"Down more than 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="< 10"}),"Down more than 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="< 20"}),"Down more than 20%"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_day_return",value:"custom",readOnly:!0,checked:(y=x==null?void 0:x.past_day_return)==null?void 0:y.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Monthly % Change"}),attr:"past_month_return",callback:oB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:-100,max:200,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"> 0",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 0"}),"Up more than 0%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 5"}),"Up more than 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 10"}),"Up more than 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 20"}),"Up more than 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"> 30",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 30"}),"Up more than 30%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"< 0",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 0"}),"Down more than 0%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 5"}),"Down more than 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 10"}),"Down more than 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 20"}),"Down more than 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"< 30",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 30"}),"Down more than 30%"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_month_return",value:"custom",readOnly:!0,checked:(h=x==null?void 0:x.past_month_return)==null?void 0:h.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Yearly % Change"}),attr:"past_year_return",callback:sB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:-100,max:500,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"> 0",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 0"}),"Up more than 0%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 5"}),"Up more than 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 10"}),"Up more than 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 20"}),"Up more than 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"> 30",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 30"}),"Up more than 30%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"> 40",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 40"}),"Up more than 40%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"> 50",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 50"}),"Up more than 50%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"< 0",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 0"}),"Down more than 0%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 5"}),"Down more than 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 10"}),"Down more than 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 20"}),"Down more than 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"< 30",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 30"}),"Down more than 30%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"< 40",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 40"}),"Down more than 40%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"< 50",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 50"}),"Down more than 50%"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_year_return",value:"custom",readOnly:!0,checked:(M=x==null?void 0:x.past_year_return)==null?void 0:M.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Yearly % Change Over Market"}),attr:"past_outperformance",callback:lB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:-100,max:200,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"> 0",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 0"}),"Beat by 0%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 5"}),"Beat by 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 10"}),"Beat by 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 20"}),"Beat by 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"> 30",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 30"}),"Beat by 30%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"> 40",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 40"}),"Beat by 40%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"> 50",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 50"}),"Beat by 50%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"< 0",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 0"}),"Under by 0%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 5"}),"Under by 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 10"}),"Under by 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 20"}),"Under by 20%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"< 30",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 30"}),"Under by 30%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"< 40",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 40"}),"Under by 40%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"< 50",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 50"}),"Under by 50%"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"past_outperformance",value:"custom",readOnly:!0,checked:(c=x==null?void 0:x.past_outperformance)==null?void 0:c.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Market Cap"}),attr:"market_cap",callback:uB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:100,max:2e6,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"market_cap",value:"[ 300 2000 ]",readOnly:!0,checked:(x==null?void 0:x.market_cap)=="[ 300 2000 ]"}),"Small Cap ($300M - $2B)"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"market_cap",value:"[ 2000 10000 ]",readOnly:!0,checked:(x==null?void 0:x.market_cap)=="[ 2000 10000 ]"}),"Mid Cap ($2B - $10B)"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"market_cap",value:"> 10000",readOnly:!0,checked:(x==null?void 0:x.market_cap)=="> 10000"}),"Large Cap ($10B+)"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"market_cap",value:"> 200000",readOnly:!0,checked:(x==null?void 0:x.market_cap)=="> 200000"}),"Mega Cap ($200B+)"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"market_cap",value:"custom",readOnly:!0,checked:(o=x==null?void 0:x.market_cap)==null?void 0:o.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Sector"}),attr:"sector",callback:fB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,options:Ze.jsx(Ze.Fragment,{children:j==null?void 0:j.map((b,s)=>Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"sector",value:b,readOnly:!0,checked:(x==null?void 0:x.sector)==b}),b]},s))})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Shares Outstanding"}),attr:"shares_outstanding",callback:cB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:3,max:2e4,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 1000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 1000000"}),"Under 1M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 5000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 5000000"}),"Under 5M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 20000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 20000000"}),"Under 20M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 50000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 50000000"}),"Under 50M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 100000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 100000000"}),"Under 100M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 1000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 1000000"}),"Over 1M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 5000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 5000000"}),"Over 5M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 20000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 20000000"}),"Over 20M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 50000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 50000000"}),"Over 50M"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 100000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 100000000"}),"Over 100M"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"shares_outstanding",value:"custom",readOnly:!0,checked:(d=x==null?void 0:x.shares_outstanding)==null?void 0:d.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Short Interest %"}),attr:"short_interest",callback:hB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:0,max:50,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"< 1",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="< 1"}),"Under 1%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="< 5"}),"Under 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="< 10"}),"Under 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"> 1",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 1"}),"Over 1%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 5"}),"Over 5%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 10"}),"Over 10%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"> 15",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 15"}),"Over 15%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 20"}),"Over 20%"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"short_interest",value:"custom",readOnly:!0,checked:(T=x==null?void 0:x.short_interest)==null?void 0:T.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Analyst Ratings"}),attr:"recommendation",callback:vB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"recommendation",value:"buy",readOnly:!0,checked:(x==null?void 0:x.recommendation)=="buy"}),"Buy"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"recommendation",value:"hold",readOnly:!0,checked:(x==null?void 0:x.recommendation)=="hold"}),"Hold"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"recommendation",value:"sell",readOnly:!0,checked:(x==null?void 0:x.recommendation)=="sell"}),"Sell"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"recommendation",value:"none",readOnly:!0,checked:(x==null?void 0:x.recommendation)=="none"}),"None"]})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Dividend Yield"}),attr:"dividend_yield",callback:dB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:0,max:10,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"dividend_yield",value:"0",readOnly:!0,checked:(x==null?void 0:x.dividend_yield)=="0"}),"None"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"dividend_yield",value:"< 2",readOnly:!0,checked:(x==null?void 0:x.dividend_yield)=="< 2"}),"2% or Less"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"dividend_yield",value:"> 2",readOnly:!0,checked:(x==null?void 0:x.dividend_yield)=="> 2"}),"Over 2%"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"dividend_yield",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.dividend_yield)=="> 5"}),"Over 5%"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"dividend_yield",value:"custom",readOnly:!0,checked:(S=x==null?void 0:x.dividend_yield)==null?void 0:S.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Trailing PE Ratio"}),attr:"trailing_pe",callback:pB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:0,max:100,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"> 5",selected:(x==null?void 0:x.trailing_pe)=="> 5"}),"More than 5"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"> 15",selected:(x==null?void 0:x.trailing_pe)=="> 15"}),"More than 15"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"> 20",selected:(x==null?void 0:x.trailing_pe)=="> 20"}),"More than 20"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"> 50",selected:(x==null?void 0:x.trailing_pe)=="> 50"}),"More than 50"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"< 5",selected:(x==null?void 0:x.trailing_pe)=="< 5"}),"Less than 5"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"< 15",selected:(x==null?void 0:x.trailing_pe)=="< 15"}),"Less than 15"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"< 20",selected:(x==null?void 0:x.trailing_pe)=="< 20"}),"Less than 20"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"< 50",selected:(x==null?void 0:x.trailing_pe)=="< 50"}),"Less than 50"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"trailing_pe",value:"custom",readOnly:!0,checked:(C=x==null?void 0:x.trailing_pe)==null?void 0:C.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Forward PE Ratio"}),attr:"forward_pe",callback:gB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:0,max:100,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"> 5",selected:(x==null?void 0:x.forward_pe)=="> 5"}),"More than 5"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"> 15",selected:(x==null?void 0:x.forward_pe)=="> 15"}),"More than 15"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"> 20",selected:(x==null?void 0:x.forward_pe)=="> 20"}),"More than 20"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"> 50",selected:(x==null?void 0:x.forward_pe)=="> 50"}),"More than 50"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"< 5",selected:(x==null?void 0:x.forward_pe)=="< 5"}),"Less than 5"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"< 15",selected:(x==null?void 0:x.forward_pe)=="< 15"}),"Less than 15"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"< 20",selected:(x==null?void 0:x.forward_pe)=="< 20"}),"Less than 20"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"< 50",selected:(x==null?void 0:x.forward_pe)=="< 50"}),"Less than 50"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"forward_pe",value:"custom",readOnly:!0,checked:(m=x==null?void 0:x.forward_pe)==null?void 0:m.startsWith("custom")}),"Custom Range"]})})]})}),Ze.jsx(ks,{allStocks:H||r,title:Ze.jsx("h3",{children:"Price to Book Ratio"}),attr:"pb",callback:yB,filters:P,setFilters:a,setSelected:w,selected:x,setAllStocks:p,min:1,max:400,options:Ze.jsxs(Ze.Fragment,{children:[Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"pb",value:"< 5",selected:(x==null?void 0:x.pb)=="< 5"}),"Less than 5"]}),Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"pb",value:"> 5",selected:(x==null?void 0:x.pb)=="> 5"}),"More than 5"]}),Ze.jsx("div",{children:Ze.jsxs("label",{children:[Ze.jsx("input",{type:"radio",name:"pb",value:"custom",readOnly:!0,checked:(E=x==null?void 0:x.pb)==null?void 0:E.startsWith("custom")}),"Custom Range"]})})]})})]}),Ze.jsxs("div",{className:"filter-actions",children:[Ze.jsx("button",{onClick:()=>n(),children:"Clear Filters"}),Ze.jsx(Eh,{buttonText:"Create Screener",modalComponent:Ze.jsx(mB,{params:x})})]})]}),Ze.jsxs("div",{className:"all-stocks",children:[Ze.jsxs("div",{className:"screener-header",children:[Ze.jsx("h2",{children:(Oe==null?void 0:Oe.name)||"All Stocks"}),Ze.jsxs("p",{children:[v==null?void 0:v.length," items"]})]}),Ze.jsxs("table",{children:[Ze.jsx("thead",{children:Ze.jsxs("tr",{children:[Ze.jsx("th",{scope:"col",children:"Ticker"}),Ze.jsx("th",{scope:"col",children:"Name"}),Ze.jsx("th",{scope:"col",children:"1D % Change"}),Ze.jsx("th",{scope:"col",children:"Price"}),Ze.jsx("th",{scope:"col",children:"Avg Volume"}),Ze.jsx("th",{scope:"col",children:"Mkt Cap"}),Ze.jsx("th",{scope:"col",children:"1M % Change"}),Ze.jsx("th",{scope:"col",children:"1Y % Change"}),Ze.jsx("th",{scope:"col",children:"1Y % Change over Mkt"}),Ze.jsx("th",{scope:"col",children:"Watch"})]})}),Ze.jsxs("tbody",{children:[!(v!=null&&v.length)&&Ze.jsx(Ch,{}),v==null?void 0:v.map(b=>{var s,L;return Ze.jsxs("tr",{className:"stock-card",onClick:()=>R(`/stocks/${b.ticker}`),children:[Ze.jsx("th",{scope:"row",children:b.ticker}),Ze.jsx("td",{className:"stock-name",children:b.name}),Ze.jsxs("td",{className:(b==null?void 0:b.past_day_return)>0?"win":"lose",children:[((b==null?void 0:b.past_day_return)*100).toFixed(2),"%"]}),Ze.jsx("td",{children:O.format(b.price)}),Ze.jsx("td",{children:(s=b==null?void 0:b.avg_volume)==null?void 0:s.toLocaleString("en",{minimumFractionDigits:0,maximumFractionDigits:0})}),Ze.jsxs("td",{children:["$",(L=b==null?void 0:b.market_cap)==null?void 0:L.toLocaleString("en",{minimumFractionDigits:0,maximumFractionDigits:0})," M"]}),Ze.jsxs("td",{className:(b==null?void 0:b.past_month_return)>0?"win":"lose",children:[((b==null?void 0:b.past_month_return)*100).toFixed(2),"%"]}),Ze.jsxs("td",{className:(b==null?void 0:b.past_year_return)>0?"win":"lose",children:[((b==null?void 0:b.past_year_return)*100).toFixed(2),"%"]}),Ze.jsxs("td",{className:(b==null?void 0:b.past_outperformance)>0?"win":"lose",children:[((b==null?void 0:b.past_outperformance)*100).toFixed(2),"%"]}),Ze.jsx("td",{children:Ze.jsx(Eh,{buttonText:Ze.jsx(nm,{}),modalComponent:Ze.jsx(IS,{stock:b,ticker:b.ticker})})})]},b.ticker)})]})]})]})]}):Ze.jsx(Ch,{})}function bB(){return Ze.jsxs("ul",{className:"account-navbar",children:[Ze.jsx("li",{className:"account-navbar-item",children:Ze.jsx(So,{to:"positions",children:"Positions"})}),Ze.jsx("li",{className:"account-navbar-item",children:Ze.jsx(So,{to:"transfers",children:"Transfers"})}),Ze.jsx("li",{className:"account-navbar-item",children:Ze.jsx(So,{to:"history",children:"History"})})]})}function wB(){const R=Di(O=>O.session.user);return Ze.jsxs("div",{className:"account-page",children:[Ze.jsxs("h1",{children:[R.name,"'s Account"]}),Ze.jsx(bB,{}),Ze.jsx(S6,{})]})}function TB(){const[R,O]=pn.useState(!1),J=Mo(),ue=Di(Oe=>Oe.portfolio.portfolio),Le=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return pn.useEffect(()=>{J(UR()).then(O(!0))},[J]),R?Ze.jsx("div",{className:"account-page-body account-summary-page",children:Ze.jsxs("table",{children:[Ze.jsx("thead",{children:Ze.jsxs("tr",{children:[Ze.jsx("th",{scope:"col",children:"Ticker"}),Ze.jsx("th",{scope:"col",children:"Stock"}),Ze.jsx("th",{scope:"col",children:"Last Price"}),Ze.jsx("th",{scope:"col",children:"Quantity"}),Ze.jsx("th",{scope:"col",children:"Total $ Change"}),Ze.jsx("th",{scope:"col",children:"Total % Change"}),Ze.jsx("th",{scope:"col",children:"Current Value"}),Ze.jsx("th",{scope:"col",children:"% of Portfolio"}),Ze.jsx("th",{scope:"col",children:"Avg Cost Basis"})]})}),Ze.jsx("tbody",{children:ue==null?void 0:ue.map((Oe,H)=>Ze.jsxs("tr",{children:[Ze.jsx("th",{scope:"row",className:"position-ticker",children:Oe.ticker=="-"?Oe.ticker:Ze.jsx(So,{to:`/stocks/${Oe==null?void 0:Oe.ticker}`,children:Oe.ticker})}),Ze.jsx("td",{children:Oe.name}),Ze.jsx("td",{children:Oe.price?Le.format(Oe.price):"-"}),Ze.jsx("td",{children:Oe.quantity?Oe.quantity.toFixed(2):"-"}),Ze.jsx("td",{children:Oe["GL%"]?Le.format(Oe.GL$):"-"}),Ze.jsx("td",{children:Oe["GL%"]?(Oe["GL%"]*100).toFixed(2)+"%":"-"}),Ze.jsx("td",{children:Le.format(Oe.value)}),Ze.jsxs("td",{children:[(Oe.portfolio_weight*100).toFixed(2),"%"]}),Ze.jsx("td",{children:Oe.cost_basis?Le.format(Oe.cost_basis):"-"})]},H))})]})}):Ze.jsx(Ch,{})}function AB({cash:R}){const O=Mo(),J=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),[ue,Le]=pn.useState(0),[Oe,H]=pn.useState({}),{closeModal:j}=xu(),e=async g=>{if(g.preventDefault(),H({}),ue>R)return H({funds:"Amount exceeds available cash"});if(ue<=0)return H({funds:"Amount must be greater than 0"});const P=await O(U6(-ue));P?H(P):j()};return Ze.jsxs("div",{className:"transfer-modal",children:[Ze.jsx("h1",{children:"Withdraw Funds"}),Ze.jsxs("div",{children:["Available Cash: ",J.format(R)]}),Ze.jsxs("label",{children:["Withdrawal Amount:",Ze.jsx("input",{type:"number",value:ue,onChange:g=>Le(g.target.value),min:0,required:!0})]}),Oe.funds&&Ze.jsx("p",{children:Oe.funds}),Ze.jsx("div",{className:"actions",children:Ze.jsx("button",{onClick:e,children:"Withdraw"})})]})}function SB(){const R=Mo(),O=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),J=Di(Le=>Le.portfolio.purchasing_power),ue=Di(Le=>Le.portfolio.transfers);return pn.useEffect(()=>{R(B6()),R(jR())},[R]),Ze.jsxs("div",{className:"transfers-page account-page-body",children:[Ze.jsx("h1",{children:"Start a Transfer"}),Ze.jsxs("div",{className:"transfer-actions",children:[Ze.jsxs("h2",{children:["Withdrawable Cash: ",O.format(J)]}),Ze.jsxs("div",{className:"actions",children:[Ze.jsx(Eh,{buttonText:"Deposit",modalComponent:Ze.jsx(DS,{})}),Ze.jsx(Eh,{modalComponent:Ze.jsx(AB,{cash:J}),buttonText:"Withdraw"})]})]}),Ze.jsxs("div",{className:"transfer-history",children:[Ze.jsx("h2",{children:"Transfer History"}),Ze.jsxs("table",{children:[Ze.jsx("thead",{children:Ze.jsxs("tr",{children:[Ze.jsx("th",{scope:"col",children:"Transfer Date"}),Ze.jsx("th",{scope:"col",children:"Transfer Type"}),Ze.jsx("th",{scope:"col",children:"Quantity"})]})}),Ze.jsx("tbody",{children:ue==null?void 0:ue.map((Le,Oe)=>Ze.jsxs("tr",{children:[Ze.jsx("th",{scope:"row",children:Le.placed_on.split(", ")[1].slice(0,11)}),Ze.jsx("td",{children:Le.quantity>0?"Deposit":"Withdrawal"}),Ze.jsx("td",{children:O.format(Math.abs(Le.quantity))})]},Oe))})]})]})]})}function MB(){const[R,O]=pn.useState(!1),J=Mo(),ue=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Le=Di(Oe=>Oe.orders.orders);return pn.useEffect(()=>{J(xD()).then(O(!0))},[J,O]),R?Ze.jsxs("div",{className:"order-history-page account-page-body",children:[Ze.jsx("h1",{children:"Order History"}),Ze.jsxs("table",{children:[Ze.jsx("thead",{children:Ze.jsxs("tr",{children:[Ze.jsx("th",{scope:"col",children:"Order Number"}),Ze.jsx("th",{scope:"col",children:"Order Date"}),Ze.jsx("th",{scope:"col",children:"Ticker"}),Ze.jsx("th",{scope:"col",children:"Cost Basis"}),Ze.jsx("th",{scope:"col",children:"Quantity"}),Ze.jsx("th",{scope:"col",children:"Total Cost"})]})}),Ze.jsx("tbody",{children:Le==null?void 0:Le.map((Oe,H)=>Ze.jsxs("tr",{children:[Ze.jsx("th",{scope:"row",children:Oe.order_number}),Ze.jsx("td",{children:Oe.placed_on.split(", ")[1].slice(0,11)}),Ze.jsx("td",{children:Oe.stock_ticker}),Ze.jsx("td",{children:ue.format(Oe.cost_basis)}),Ze.jsx("td",{children:Oe.quantity}),Ze.jsx("td",{children:ue.format(Oe.cost_basis*Oe.quantity)})]},H))})]})]}):Ze.jsx(Ch,{})}function EB(){return Ze.jsx("h1",{children:"Account Watchlists Page"})}function CB(){return Ze.jsx("h1",{children:"Account Screeners Page"})}function LB(){return Ze.jsxs("div",{className:"about-page",children:[Ze.jsx("img",{src:"https://i.kym-cdn.com/entries/icons/original/000/029/959/Screen_Shot_2019-06-05_at_1.26.32_PM.jpg",alt:"stonks-logo"}),Ze.jsx("h2",{children:"About Stonk Trader"}),Ze.jsx("p",{children:"Stonk Trader 3000 is a comprehensive mock trading and investment research application designed to demonstrate my full-stack development skills and passion for stock trading and investing. This application is inspired by Robinhood and enhanced to include more accurate calculations of portfolio metrics and customizable display options for financial metrics. This project is aimed at anyone looking for a well-thought-out, free investment research platform and highlights the integration of modern technologies and financial algorithms."})]})}function PB(){return Ze.jsxs("div",{className:"about-page",children:[Ze.jsx("img",{src:"https://i.kym-cdn.com/entries/icons/original/000/029/959/Screen_Shot_2019-06-05_at_1.26.32_PM.jpg",alt:"stonks-logo"}),Ze.jsx("h2",{children:"Research Features"}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Stock Screeners"}),Ze.jsx("p",{children:"The stock screener feature in Stonk Trader 3000 is a powerful tool designed to help investors navigate the vast universe of stocks efficiently. With access to real historical data for all S&P 500 stocks, users can apply a variety of filters such as price, volume, market cap, dividend yield, and many other financial metrics to identify stocks that meet specific investment criteria. This functionality is particularly useful for users who want to conduct in-depth market research and refine their investment strategies. The intuitive interface allows for quick adjustments and comparisons, making it easy to explore different scenarios and discover potential investment opportunities."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Watchlists"}),Ze.jsx("p",{children:"The watchlist feature in Stonk Trader 3000 allows users to keep a close eye on their favorite stocks. With full CRUD (Create, Read, Update, Delete) capabilities, users can easily add new stocks to their watchlists, update their preferences, or remove stocks as their investment focus changes. Each watchlist entry provides detailed information, including current stock prices, daily highs and lows, and percentage changes, all updated in real-time. This feature not only helps users monitor selected stocks but also aids in making timely investment decisions based on up-to-date market data. Users can manage multiple watchlists, making it simple to categorize stocks by investment themes or personal strategies."})]})]})}function RB(){return Ze.jsx("h1",{children:"About Strategies Page"})}function DB(){return Ze.jsxs("div",{className:"about-page",children:[Ze.jsx("img",{src:"https://i.kym-cdn.com/entries/icons/original/000/029/959/Screen_Shot_2019-06-05_at_1.26.32_PM.jpg",alt:"stonks-logo"}),Ze.jsx("h2",{children:"Mock Trading Features"}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Placing Buy and Sell Orders:"}),Ze.jsx("p",{children:"Stonk Trader 3000 offers a robust mock trading environment where users can simulate buying and selling all S&P 500 stocks without any financial risk. This feature enables users to practice trading strategies and make investment decisions based on available market data and provides a realistic trading experience that mirrors real-world trading platforms."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Mock Deposit and Withdrawals"}),Ze.jsx("p",{children:"To enhance the realism of the trading simulation, Stonk Trader 3000 includes features for mock deposits and withdrawals, allowing users to manage their virtual cash balances as they would in an actual brokerage account. This functionality helps users understand cash flow management in trading, including the impact of buying power and margin requirements on their trading strategies. Users can experiment with different levels of capital to see how it would potentially affect their trading decisions and risk management practices."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Advanced Portfolio Metrics"}),Ze.jsx("p",{children:"One of the standout features of Stonk Trader 3000 is its ability to provide advanced calculations of portfolio metrics. This includes more accurate and detailed assessments of total return. Users also have the option to view these metrics in dollar amounts or percentage terms, offering flexibility in how financial performance is assessed and understood. This advanced analysis helps users refine their investment strategies by providing deeper insights into the strengths and weaknesses of their mock portfolios."})]})]})}function IB(){return Ze.jsxs("div",{className:"about-page",children:[Ze.jsx("img",{src:"https://i.kym-cdn.com/entries/icons/original/000/029/959/Screen_Shot_2019-06-05_at_1.26.32_PM.jpg",alt:"stonks-logo"}),Ze.jsx("h2",{children:"Exciting Features Coming Soon"}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Time Machine:"}),Ze.jsx("p",{children:"The Time Machine feature will allow users to travel back in time to test trading strategies on historical data. By setting a past date, users can simulate placing buy and sell orders as if they were trading on that day, enabling them to backtest the effectiveness of their strategies over different market conditions. This powerful tool aims to give users a deeper understanding of how their strategies would have performed historically, helping refine their approach and improve future outcomes."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Retirement Planning:"}),Ze.jsx("p",{children:"Stonk Trader 3000 will offer a comprehensive retirement planning tool tailored to the user's financial needs and situations. This feature will guide users through the process of creating custom portfolios designed to meet their long-term financial goals, such as retirement. By inputting personal financial data, desired retirement age, and risk tolerance, the platform will suggest optimal asset allocations and projected outcomes. Additionally, the tool will incorporate strategies for optimizing dividend yields and tax efficiency, essential for maximizing retirement savings. It will consider various factors such as tax brackets, types of investment accounts, and the timing of withdrawals to help minimize tax liabilities and enhance income through dividends, thus ensuring a more financially secure retirement."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Portfolio Optimization:"}),Ze.jsx("p",{children:"Leveraging machine learning and other advanced analytical techniques, the Portfolio Optimization feature will enhance the user’s ability to maximize returns while minimizing risk. This tool will analyze current portfolio holdings and market conditions to suggest adjustments that improve overall portfolio performance based on the user's specified objectives and risk preferences. It will be an essential tool for users seeking to maintain an edge in increasingly complex markets."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Machine Learning Stock Recommendations:"}),Ze.jsx("p",{children:"This feature will utilize machine learning algorithms to analyze vast amounts of market data and generate personalized stock recommendations. By identifying patterns, trends, and correlations that may be invisible to human analysts, this tool will provide users with unique insights and investment opportunities, tailored to their investment style and risk profile."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Advanced Portfolio Calculations:"}),Ze.jsx("p",{children:"The Advanced Portfolio Calculations feature will enhance the platform’s analytical capabilities, providing users with detailed metrics such as drawdowns, risk-adjusted returns, and comprehensive portfolio risk analysis. These tools are designed to give users a granular understanding of the performance and risk characteristics of their portfolios, enabling more informed decision-making and strategic planning."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"Support Chat Bot:"}),Ze.jsx("p",{children:"Stonk Trader 3000 will include an intelligent Support Chat Bot, powered by the advanced capabilities of ChatGPT, to assist users with any inquiries they might have while using the platform. This feature will provide real-time, conversational support, offering users immediate answers and guidance on various topics, from navigating the app’s features to understanding complex investment concepts. The chat bot will be designed to learn from interactions, improving its responses over time and ensuring that users receive not only quick but also accurate and contextually relevant information. Whether new to investing or experienced traders, users will find this tool incredibly helpful for resolving issues and enhancing their trading experience."})]}),Ze.jsxs("div",{className:"about-article",children:[Ze.jsx("h3",{children:"WebSockets Implementation for Real-Time Streaming Data:"}),Ze.jsx("p",{children:"Stonk Trader 3000 will harness the power of WebSockets technology to provide real-time data streaming, ensuring that users receive immediate updates on stock prices, market changes, and news. This implementation will allow for a seamless and efficient data flow directly to the user’s interface without the need for constant page refreshes. By maintaining a persistent connection between the server and the client, WebSockets will enable the platform to push the latest market information instantly as it happens, enhancing the trading experience by providing up-to-the-minute data that is crucial for making informed trading decisions. This feature is essential for users who rely on timeliness and accuracy, such as day traders and those involved in fast-paced trading environments."})]})]})}const _B=nR([{element:Ze.jsx(cI,{}),children:[{path:"/",element:Ze.jsx(UD,{})},{path:"dashboard",element:Ze.jsx(v_,{})},{path:"watchlists/:listId",element:Ze.jsx(d_,{})},{path:"stocks/:ticker",element:Ze.jsx(x_,{})},{path:"screener",element:Ze.jsx(xB,{})},{path:"loading",element:Ze.jsx(Ch,{})},{path:"account",element:Ze.jsx(wB,{}),children:[{path:"positions",element:Ze.jsx(TB,{})},{path:"transfers",element:Ze.jsx(SB,{})},{path:"watchlists",element:Ze.jsx(EB,{})},{path:"screeners",element:Ze.jsx(CB,{})},{path:"strategies",element:Ze.jsx("h1",{children:"Strategies Coming Soon"})},{path:"history",element:Ze.jsx(MB,{})}]},{path:"about",children:[{index:!0,element:Ze.jsx(LB,{})},{path:"trading",element:Ze.jsx(DB,{})},{path:"research",element:Ze.jsx(PB,{})},{path:"strategies",element:Ze.jsx(RB,{})},{path:"future",element:Ze.jsx(IB,{})}]}]}]);const kB=BD();X1.createRoot(document.getElementById("root")).render(Ze.jsx(fc.StrictMode,{children:Ze.jsx(H7,{store:kB,children:Ze.jsx(cR,{router:_B})})}));
