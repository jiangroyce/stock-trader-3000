function Q4(R,U){for(var ee=0;ee<U.length;ee++){const pe=U[ee];if(typeof pe!="string"&&!Array.isArray(pe)){for(const Re in pe)if(Re!=="default"&&!(Re in R)){const Ge=Object.getOwnPropertyDescriptor(pe,Re);Ge&&Object.defineProperty(R,Re,Ge.get?Ge:{enumerable:!0,get:()=>pe[Re]})}}}return Object.freeze(Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}))}(function(){const U=document.createElement("link").relList;if(U&&U.supports&&U.supports("modulepreload"))return;for(const Re of document.querySelectorAll('link[rel="modulepreload"]'))pe(Re);new MutationObserver(Re=>{for(const Ge of Re)if(Ge.type==="childList")for(const j of Ge.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&pe(j)}).observe(document,{childList:!0,subtree:!0});function ee(Re){const Ge={};return Re.integrity&&(Ge.integrity=Re.integrity),Re.referrerPolicy&&(Ge.referrerPolicy=Re.referrerPolicy),Re.crossOrigin==="use-credentials"?Ge.credentials="include":Re.crossOrigin==="anonymous"?Ge.credentials="omit":Ge.credentials="same-origin",Ge}function pe(Re){if(Re.ep)return;Re.ep=!0;const Ge=ee(Re);fetch(Re.href,Ge)}})();var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hx(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}function NE(R){if(R.__esModule)return R;var U=R.default;if(typeof U=="function"){var ee=function pe(){return this instanceof pe?Reflect.construct(U,arguments,this.constructor):U.apply(this,arguments)};ee.prototype=U.prototype}else ee={};return Object.defineProperty(ee,"__esModule",{value:!0}),Object.keys(R).forEach(function(pe){var Re=Object.getOwnPropertyDescriptor(R,pe);Object.defineProperty(ee,pe,Re.get?Re:{enumerable:!0,get:function(){return R[pe]}})}),ee}var q4={exports:{}},ty={},eT={exports:{}},di={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=Symbol.for("react.element"),BE=Symbol.for("react.portal"),UE=Symbol.for("react.fragment"),VE=Symbol.for("react.strict_mode"),HE=Symbol.for("react.profiler"),jE=Symbol.for("react.provider"),GE=Symbol.for("react.context"),WE=Symbol.for("react.forward_ref"),YE=Symbol.for("react.suspense"),XE=Symbol.for("react.memo"),ZE=Symbol.for("react.lazy"),b3=Symbol.iterator;function KE(R){return R===null||typeof R!="object"?null:(R=b3&&R[b3]||R["@@iterator"],typeof R=="function"?R:null)}var tT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rT=Object.assign,nT={};function Sd(R,U,ee){this.props=R,this.context=U,this.refs=nT,this.updater=ee||tT}Sd.prototype.isReactComponent={};Sd.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")};Sd.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function aT(){}aT.prototype=Sd.prototype;function jx(R,U,ee){this.props=R,this.context=U,this.refs=nT,this.updater=ee||tT}var Gx=jx.prototype=new aT;Gx.constructor=jx;rT(Gx,Sd.prototype);Gx.isPureReactComponent=!0;var w3=Array.isArray,iT=Object.prototype.hasOwnProperty,Wx={current:null},oT={key:!0,ref:!0,__self:!0,__source:!0};function sT(R,U,ee){var pe,Re={},Ge=null,j=null;if(U!=null)for(pe in U.ref!==void 0&&(j=U.ref),U.key!==void 0&&(Ge=""+U.key),U)iT.call(U,pe)&&!oT.hasOwnProperty(pe)&&(Re[pe]=U[pe]);var H=arguments.length-2;if(H===1)Re.children=ee;else if(1<H){for(var e=Array(H),g=0;g<H;g++)e[g]=arguments[g+2];Re.children=e}if(R&&R.defaultProps)for(pe in H=R.defaultProps,H)Re[pe]===void 0&&(Re[pe]=H[pe]);return{$$typeof:K0,type:R,key:Ge,ref:j,props:Re,_owner:Wx.current}}function JE(R,U){return{$$typeof:K0,type:R.type,key:U,ref:R.ref,props:R.props,_owner:R._owner}}function Yx(R){return typeof R=="object"&&R!==null&&R.$$typeof===K0}function $E(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return U[ee]})}var T3=/\/+/g;function Em(R,U){return typeof R=="object"&&R!==null&&R.key!=null?$E(""+R.key):U.toString(36)}function ig(R,U,ee,pe,Re){var Ge=typeof R;(Ge==="undefined"||Ge==="boolean")&&(R=null);var j=!1;if(R===null)j=!0;else switch(Ge){case"string":case"number":j=!0;break;case"object":switch(R.$$typeof){case K0:case BE:j=!0}}if(j)return j=R,Re=Re(j),R=pe===""?"."+Em(j,0):pe,w3(Re)?(ee="",R!=null&&(ee=R.replace(T3,"$&/")+"/"),ig(Re,U,ee,"",function(g){return g})):Re!=null&&(Yx(Re)&&(Re=JE(Re,ee+(!Re.key||j&&j.key===Re.key?"":(""+Re.key).replace(T3,"$&/")+"/")+R)),U.push(Re)),1;if(j=0,pe=pe===""?".":pe+":",w3(R))for(var H=0;H<R.length;H++){Ge=R[H];var e=pe+Em(Ge,H);j+=ig(Ge,U,ee,e,Re)}else if(e=KE(R),typeof e=="function")for(R=e.call(R),H=0;!(Ge=R.next()).done;)Ge=Ge.value,e=pe+Em(Ge,H++),j+=ig(Ge,U,ee,e,Re);else if(Ge==="object")throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return j}function Ip(R,U,ee){if(R==null)return R;var pe=[],Re=0;return ig(R,pe,"","",function(Ge){return U.call(ee,Ge,Re++)}),pe}function QE(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var Ys={current:null},og={transition:null},qE={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:og,ReactCurrentOwner:Wx};di.Children={map:Ip,forEach:function(R,U,ee){Ip(R,function(){U.apply(this,arguments)},ee)},count:function(R){var U=0;return Ip(R,function(){U++}),U},toArray:function(R){return Ip(R,function(U){return U})||[]},only:function(R){if(!Yx(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};di.Component=Sd;di.Fragment=UE;di.Profiler=HE;di.PureComponent=jx;di.StrictMode=VE;di.Suspense=YE;di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qE;di.cloneElement=function(R,U,ee){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var pe=rT({},R.props),Re=R.key,Ge=R.ref,j=R._owner;if(U!=null){if(U.ref!==void 0&&(Ge=U.ref,j=Wx.current),U.key!==void 0&&(Re=""+U.key),R.type&&R.type.defaultProps)var H=R.type.defaultProps;for(e in U)iT.call(U,e)&&!oT.hasOwnProperty(e)&&(pe[e]=U[e]===void 0&&H!==void 0?H[e]:U[e])}var e=arguments.length-2;if(e===1)pe.children=ee;else if(1<e){H=Array(e);for(var g=0;g<e;g++)H[g]=arguments[g+2];pe.children=H}return{$$typeof:K0,type:R.type,key:Re,ref:Ge,props:pe,_owner:j}};di.createContext=function(R){return R={$$typeof:GE,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:jE,_context:R},R.Consumer=R};di.createElement=sT;di.createFactory=function(R){var U=sT.bind(null,R);return U.type=R,U};di.createRef=function(){return{current:null}};di.forwardRef=function(R){return{$$typeof:WE,render:R}};di.isValidElement=Yx;di.lazy=function(R){return{$$typeof:ZE,_payload:{_status:-1,_result:R},_init:QE}};di.memo=function(R,U){return{$$typeof:XE,type:R,compare:U===void 0?null:U}};di.startTransition=function(R){var U=og.transition;og.transition={};try{R()}finally{og.transition=U}};di.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};di.useCallback=function(R,U){return Ys.current.useCallback(R,U)};di.useContext=function(R){return Ys.current.useContext(R)};di.useDebugValue=function(){};di.useDeferredValue=function(R){return Ys.current.useDeferredValue(R)};di.useEffect=function(R,U){return Ys.current.useEffect(R,U)};di.useId=function(){return Ys.current.useId()};di.useImperativeHandle=function(R,U,ee){return Ys.current.useImperativeHandle(R,U,ee)};di.useInsertionEffect=function(R,U){return Ys.current.useInsertionEffect(R,U)};di.useLayoutEffect=function(R,U){return Ys.current.useLayoutEffect(R,U)};di.useMemo=function(R,U){return Ys.current.useMemo(R,U)};di.useReducer=function(R,U,ee){return Ys.current.useReducer(R,U,ee)};di.useRef=function(R){return Ys.current.useRef(R)};di.useState=function(R){return Ys.current.useState(R)};di.useSyncExternalStore=function(R,U,ee){return Ys.current.useSyncExternalStore(R,U,ee)};di.useTransition=function(){return Ys.current.useTransition()};di.version="18.2.0";eT.exports=di;var gn=eT.exports;const ac=Hx(gn),eC=Q4({__proto__:null,default:ac},[gn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC=gn,rC=Symbol.for("react.element"),nC=Symbol.for("react.fragment"),aC=Object.prototype.hasOwnProperty,iC=tC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oC={key:!0,ref:!0,__self:!0,__source:!0};function lT(R,U,ee){var pe,Re={},Ge=null,j=null;ee!==void 0&&(Ge=""+ee),U.key!==void 0&&(Ge=""+U.key),U.ref!==void 0&&(j=U.ref);for(pe in U)aC.call(U,pe)&&!oC.hasOwnProperty(pe)&&(Re[pe]=U[pe]);if(R&&R.defaultProps)for(pe in U=R.defaultProps,U)Re[pe]===void 0&&(Re[pe]=U[pe]);return{$$typeof:rC,type:R,key:Ge,ref:j,props:Re,_owner:iC.current}}ty.Fragment=nC;ty.jsx=lT;ty.jsxs=lT;q4.exports=ty;var tt=q4.exports,P1={},uT={exports:{}},kl={},fT={exports:{}},cT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(R){function U(b,s){var L=b.length;b.push(s);e:for(;0<L;){var T=L-1>>>1,k=b[T];if(0<Re(k,s))b[T]=s,b[L]=k,L=T;else break e}}function ee(b){return b.length===0?null:b[0]}function pe(b){if(b.length===0)return null;var s=b[0],L=b.pop();if(L!==s){b[0]=L;e:for(var T=0,k=b.length,_=k>>>1;T<_;){var B=2*(T+1)-1,F=b[B],O=B+1,N=b[O];if(0>Re(F,L))O<k&&0>Re(N,F)?(b[T]=N,b[O]=L,T=O):(b[T]=F,b[B]=L,T=B);else if(O<k&&0>Re(N,L))b[T]=N,b[O]=L,T=O;else break e}}return s}function Re(b,s){var L=b.sortIndex-s.sortIndex;return L!==0?L:b.id-s.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ge=performance;R.unstable_now=function(){return Ge.now()}}else{var j=Date,H=j.now();R.unstable_now=function(){return j.now()-H}}var e=[],g=[],P=1,a=null,x=3,M=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,i=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(b){for(var s=ee(g);s!==null;){if(s.callback===null)pe(g);else if(s.startTime<=b)pe(g),s.sortIndex=s.expirationTime,U(e,s);else break;s=ee(g)}}function u(b){if(p=!1,n(b),!v)if(ee(e)!==null)v=!0,m(f);else{var s=ee(g);s!==null&&E(u,s.startTime-b)}}function f(b,s){v=!1,p&&(p=!1,t(h),h=-1),M=!0;var L=x;try{for(n(s),a=ee(e);a!==null&&(!(a.expirationTime>s)||b&&!o());){var T=a.callback;if(typeof T=="function"){a.callback=null,x=a.priorityLevel;var k=T(a.expirationTime<=s);s=R.unstable_now(),typeof k=="function"?a.callback=k:a===ee(e)&&pe(e),n(s)}else pe(e);a=ee(e)}if(a!==null)var _=!0;else{var B=ee(g);B!==null&&E(u,B.startTime-s),_=!1}return _}finally{a=null,x=L,M=!1}}var l=!1,y=null,h=-1,S=5,c=-1;function o(){return!(R.unstable_now()-c<S)}function d(){if(y!==null){var b=R.unstable_now();c=b;var s=!0;try{s=y(!0,b)}finally{s?w():(l=!1,y=null)}}else l=!1}var w;if(typeof i=="function")w=function(){i(d)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,C=A.port2;A.port1.onmessage=d,w=function(){C.postMessage(null)}}else w=function(){r(d,0)};function m(b){y=b,l||(l=!0,w())}function E(b,s){h=r(function(){b(R.unstable_now())},s)}R.unstable_IdlePriority=5,R.unstable_ImmediatePriority=1,R.unstable_LowPriority=4,R.unstable_NormalPriority=3,R.unstable_Profiling=null,R.unstable_UserBlockingPriority=2,R.unstable_cancelCallback=function(b){b.callback=null},R.unstable_continueExecution=function(){v||M||(v=!0,m(f))},R.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<b?Math.floor(1e3/b):5},R.unstable_getCurrentPriorityLevel=function(){return x},R.unstable_getFirstCallbackNode=function(){return ee(e)},R.unstable_next=function(b){switch(x){case 1:case 2:case 3:var s=3;break;default:s=x}var L=x;x=s;try{return b()}finally{x=L}},R.unstable_pauseExecution=function(){},R.unstable_requestPaint=function(){},R.unstable_runWithPriority=function(b,s){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var L=x;x=b;try{return s()}finally{x=L}},R.unstable_scheduleCallback=function(b,s,L){var T=R.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?T+L:T):L=T,b){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=L+k,b={id:P++,callback:s,priorityLevel:b,startTime:L,expirationTime:k,sortIndex:-1},L>T?(b.sortIndex=L,U(g,b),ee(e)===null&&b===ee(g)&&(p?(t(h),h=-1):p=!0,E(u,L-T))):(b.sortIndex=k,U(e,b),v||M||(v=!0,m(f))),b},R.unstable_shouldYield=o,R.unstable_wrapCallback=function(b){var s=x;return function(){var L=x;x=s;try{return b.apply(this,arguments)}finally{x=L}}}})(cT);fT.exports=cT;var sC=fT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT=gn,_l=sC;function xa(R){for(var U="https://reactjs.org/docs/error-decoder.html?invariant="+R,ee=1;ee<arguments.length;ee++)U+="&args[]="+encodeURIComponent(arguments[ee]);return"Minified React error #"+R+"; visit "+U+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vT=new Set,P0={};function gv(R,U){pd(R,U),pd(R+"Capture",U)}function pd(R,U){for(P0[R]=U,R=0;R<U.length;R++)vT.add(U[R])}var sc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R1=Object.prototype.hasOwnProperty,lC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A3={},S3={};function uC(R){return R1.call(S3,R)?!0:R1.call(A3,R)?!1:lC.test(R)?S3[R]=!0:(A3[R]=!0,!1)}function fC(R,U,ee,pe){if(ee!==null&&ee.type===0)return!1;switch(typeof U){case"function":case"symbol":return!0;case"boolean":return pe?!1:ee!==null?!ee.acceptsBooleans:(R=R.toLowerCase().slice(0,5),R!=="data-"&&R!=="aria-");default:return!1}}function cC(R,U,ee,pe){if(U===null||typeof U>"u"||fC(R,U,ee,pe))return!0;if(pe)return!1;if(ee!==null)switch(ee.type){case 3:return!U;case 4:return U===!1;case 5:return isNaN(U);case 6:return isNaN(U)||1>U}return!1}function Xs(R,U,ee,pe,Re,Ge,j){this.acceptsBooleans=U===2||U===3||U===4,this.attributeName=pe,this.attributeNamespace=Re,this.mustUseProperty=ee,this.propertyName=R,this.type=U,this.sanitizeURL=Ge,this.removeEmptyString=j}var ys={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(R){ys[R]=new Xs(R,0,!1,R,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(R){var U=R[0];ys[U]=new Xs(U,1,!1,R[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(R){ys[R]=new Xs(R,2,!1,R.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(R){ys[R]=new Xs(R,2,!1,R,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(R){ys[R]=new Xs(R,3,!1,R.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(R){ys[R]=new Xs(R,3,!0,R,null,!1,!1)});["capture","download"].forEach(function(R){ys[R]=new Xs(R,4,!1,R,null,!1,!1)});["cols","rows","size","span"].forEach(function(R){ys[R]=new Xs(R,6,!1,R,null,!1,!1)});["rowSpan","start"].forEach(function(R){ys[R]=new Xs(R,5,!1,R.toLowerCase(),null,!1,!1)});var Xx=/[\-:]([a-z])/g;function Zx(R){return R[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(R){var U=R.replace(Xx,Zx);ys[U]=new Xs(U,1,!1,R,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(R){var U=R.replace(Xx,Zx);ys[U]=new Xs(U,1,!1,R,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(R){var U=R.replace(Xx,Zx);ys[U]=new Xs(U,1,!1,R,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(R){ys[R]=new Xs(R,1,!1,R.toLowerCase(),null,!1,!1)});ys.xlinkHref=new Xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(R){ys[R]=new Xs(R,1,!1,R.toLowerCase(),null,!0,!0)});function Kx(R,U,ee,pe){var Re=ys.hasOwnProperty(U)?ys[U]:null;(Re!==null?Re.type!==0:pe||!(2<U.length)||U[0]!=="o"&&U[0]!=="O"||U[1]!=="n"&&U[1]!=="N")&&(cC(U,ee,Re,pe)&&(ee=null),pe||Re===null?uC(U)&&(ee===null?R.removeAttribute(U):R.setAttribute(U,""+ee)):Re.mustUseProperty?R[Re.propertyName]=ee===null?Re.type===3?!1:"":ee:(U=Re.attributeName,pe=Re.attributeNamespace,ee===null?R.removeAttribute(U):(Re=Re.type,ee=Re===3||Re===4&&ee===!0?"":""+ee,pe?R.setAttributeNS(pe,U,ee):R.setAttribute(U,ee))))}var cc=hT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_p=Symbol.for("react.element"),Zv=Symbol.for("react.portal"),Kv=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),D1=Symbol.for("react.profiler"),dT=Symbol.for("react.provider"),pT=Symbol.for("react.context"),$x=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),_1=Symbol.for("react.suspense_list"),Qx=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),gT=Symbol.for("react.offscreen"),M3=Symbol.iterator;function Jd(R){return R===null||typeof R!="object"?null:(R=M3&&R[M3]||R["@@iterator"],typeof R=="function"?R:null)}var yo=Object.assign,Cm;function v0(R){if(Cm===void 0)try{throw Error()}catch(ee){var U=ee.stack.trim().match(/\n( *(at )?)/);Cm=U&&U[1]||""}return`
`+Cm+R}var Lm=!1;function Pm(R,U){if(!R||Lm)return"";Lm=!0;var ee=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(U)if(U=function(){throw Error()},Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(g){var pe=g}Reflect.construct(R,[],U)}else{try{U.call()}catch(g){pe=g}R.call(U.prototype)}else{try{throw Error()}catch(g){pe=g}R()}}catch(g){if(g&&pe&&typeof g.stack=="string"){for(var Re=g.stack.split(`
`),Ge=pe.stack.split(`
`),j=Re.length-1,H=Ge.length-1;1<=j&&0<=H&&Re[j]!==Ge[H];)H--;for(;1<=j&&0<=H;j--,H--)if(Re[j]!==Ge[H]){if(j!==1||H!==1)do if(j--,H--,0>H||Re[j]!==Ge[H]){var e=`
`+Re[j].replace(" at new "," at ");return R.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",R.displayName)),e}while(1<=j&&0<=H);break}}}finally{Lm=!1,Error.prepareStackTrace=ee}return(R=R?R.displayName||R.name:"")?v0(R):""}function hC(R){switch(R.tag){case 5:return v0(R.type);case 16:return v0("Lazy");case 13:return v0("Suspense");case 19:return v0("SuspenseList");case 0:case 2:case 15:return R=Pm(R.type,!1),R;case 11:return R=Pm(R.type.render,!1),R;case 1:return R=Pm(R.type,!0),R;default:return""}}function k1(R){if(R==null)return null;if(typeof R=="function")return R.displayName||R.name||null;if(typeof R=="string")return R;switch(R){case Kv:return"Fragment";case Zv:return"Portal";case D1:return"Profiler";case Jx:return"StrictMode";case I1:return"Suspense";case _1:return"SuspenseList"}if(typeof R=="object")switch(R.$$typeof){case pT:return(R.displayName||"Context")+".Consumer";case dT:return(R._context.displayName||"Context")+".Provider";case $x:var U=R.render;return R=R.displayName,R||(R=U.displayName||U.name||"",R=R!==""?"ForwardRef("+R+")":"ForwardRef"),R;case Qx:return U=R.displayName||null,U!==null?U:k1(R.type)||"Memo";case eh:U=R._payload,R=R._init;try{return k1(R(U))}catch{}}return null}function vC(R){var U=R.type;switch(R.tag){case 24:return"Cache";case 9:return(U.displayName||"Context")+".Consumer";case 10:return(U._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return R=U.render,R=R.displayName||R.name||"",U.displayName||(R!==""?"ForwardRef("+R+")":"ForwardRef");case 7:return"Fragment";case 5:return U;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k1(U);case 8:return U===Jx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof U=="function")return U.displayName||U.name||null;if(typeof U=="string")return U}return null}function dh(R){switch(typeof R){case"boolean":case"number":case"string":case"undefined":return R;case"object":return R;default:return""}}function yT(R){var U=R.type;return(R=R.nodeName)&&R.toLowerCase()==="input"&&(U==="checkbox"||U==="radio")}function dC(R){var U=yT(R)?"checked":"value",ee=Object.getOwnPropertyDescriptor(R.constructor.prototype,U),pe=""+R[U];if(!R.hasOwnProperty(U)&&typeof ee<"u"&&typeof ee.get=="function"&&typeof ee.set=="function"){var Re=ee.get,Ge=ee.set;return Object.defineProperty(R,U,{configurable:!0,get:function(){return Re.call(this)},set:function(j){pe=""+j,Ge.call(this,j)}}),Object.defineProperty(R,U,{enumerable:ee.enumerable}),{getValue:function(){return pe},setValue:function(j){pe=""+j},stopTracking:function(){R._valueTracker=null,delete R[U]}}}}function kp(R){R._valueTracker||(R._valueTracker=dC(R))}function mT(R){if(!R)return!1;var U=R._valueTracker;if(!U)return!0;var ee=U.getValue(),pe="";return R&&(pe=yT(R)?R.checked?"true":"false":R.value),R=pe,R!==ee?(U.setValue(R),!0):!1}function bg(R){if(R=R||(typeof document<"u"?document:void 0),typeof R>"u")return null;try{return R.activeElement||R.body}catch{return R.body}}function F1(R,U){var ee=U.checked;return yo({},U,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ee??R._wrapperState.initialChecked})}function E3(R,U){var ee=U.defaultValue==null?"":U.defaultValue,pe=U.checked!=null?U.checked:U.defaultChecked;ee=dh(U.value!=null?U.value:ee),R._wrapperState={initialChecked:pe,initialValue:ee,controlled:U.type==="checkbox"||U.type==="radio"?U.checked!=null:U.value!=null}}function xT(R,U){U=U.checked,U!=null&&Kx(R,"checked",U,!1)}function O1(R,U){xT(R,U);var ee=dh(U.value),pe=U.type;if(ee!=null)pe==="number"?(ee===0&&R.value===""||R.value!=ee)&&(R.value=""+ee):R.value!==""+ee&&(R.value=""+ee);else if(pe==="submit"||pe==="reset"){R.removeAttribute("value");return}U.hasOwnProperty("value")?z1(R,U.type,ee):U.hasOwnProperty("defaultValue")&&z1(R,U.type,dh(U.defaultValue)),U.checked==null&&U.defaultChecked!=null&&(R.defaultChecked=!!U.defaultChecked)}function C3(R,U,ee){if(U.hasOwnProperty("value")||U.hasOwnProperty("defaultValue")){var pe=U.type;if(!(pe!=="submit"&&pe!=="reset"||U.value!==void 0&&U.value!==null))return;U=""+R._wrapperState.initialValue,ee||U===R.value||(R.value=U),R.defaultValue=U}ee=R.name,ee!==""&&(R.name=""),R.defaultChecked=!!R._wrapperState.initialChecked,ee!==""&&(R.name=ee)}function z1(R,U,ee){(U!=="number"||bg(R.ownerDocument)!==R)&&(ee==null?R.defaultValue=""+R._wrapperState.initialValue:R.defaultValue!==""+ee&&(R.defaultValue=""+ee))}var d0=Array.isArray;function ld(R,U,ee,pe){if(R=R.options,U){U={};for(var Re=0;Re<ee.length;Re++)U["$"+ee[Re]]=!0;for(ee=0;ee<R.length;ee++)Re=U.hasOwnProperty("$"+R[ee].value),R[ee].selected!==Re&&(R[ee].selected=Re),Re&&pe&&(R[ee].defaultSelected=!0)}else{for(ee=""+dh(ee),U=null,Re=0;Re<R.length;Re++){if(R[Re].value===ee){R[Re].selected=!0,pe&&(R[Re].defaultSelected=!0);return}U!==null||R[Re].disabled||(U=R[Re])}U!==null&&(U.selected=!0)}}function N1(R,U){if(U.dangerouslySetInnerHTML!=null)throw Error(xa(91));return yo({},U,{value:void 0,defaultValue:void 0,children:""+R._wrapperState.initialValue})}function L3(R,U){var ee=U.value;if(ee==null){if(ee=U.children,U=U.defaultValue,ee!=null){if(U!=null)throw Error(xa(92));if(d0(ee)){if(1<ee.length)throw Error(xa(93));ee=ee[0]}U=ee}U==null&&(U=""),ee=U}R._wrapperState={initialValue:dh(ee)}}function bT(R,U){var ee=dh(U.value),pe=dh(U.defaultValue);ee!=null&&(ee=""+ee,ee!==R.value&&(R.value=ee),U.defaultValue==null&&R.defaultValue!==ee&&(R.defaultValue=ee)),pe!=null&&(R.defaultValue=""+pe)}function P3(R){var U=R.textContent;U===R._wrapperState.initialValue&&U!==""&&U!==null&&(R.value=U)}function wT(R){switch(R){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B1(R,U){return R==null||R==="http://www.w3.org/1999/xhtml"?wT(U):R==="http://www.w3.org/2000/svg"&&U==="foreignObject"?"http://www.w3.org/1999/xhtml":R}var Fp,TT=function(R){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(U,ee,pe,Re){MSApp.execUnsafeLocalFunction(function(){return R(U,ee,pe,Re)})}:R}(function(R,U){if(R.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in R)R.innerHTML=U;else{for(Fp=Fp||document.createElement("div"),Fp.innerHTML="<svg>"+U.valueOf().toString()+"</svg>",U=Fp.firstChild;R.firstChild;)R.removeChild(R.firstChild);for(;U.firstChild;)R.appendChild(U.firstChild)}});function R0(R,U){if(U){var ee=R.firstChild;if(ee&&ee===R.lastChild&&ee.nodeType===3){ee.nodeValue=U;return}}R.textContent=U}var m0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pC=["Webkit","ms","Moz","O"];Object.keys(m0).forEach(function(R){pC.forEach(function(U){U=U+R.charAt(0).toUpperCase()+R.substring(1),m0[U]=m0[R]})});function AT(R,U,ee){return U==null||typeof U=="boolean"||U===""?"":ee||typeof U!="number"||U===0||m0.hasOwnProperty(R)&&m0[R]?(""+U).trim():U+"px"}function ST(R,U){R=R.style;for(var ee in U)if(U.hasOwnProperty(ee)){var pe=ee.indexOf("--")===0,Re=AT(ee,U[ee],pe);ee==="float"&&(ee="cssFloat"),pe?R.setProperty(ee,Re):R[ee]=Re}}var gC=yo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U1(R,U){if(U){if(gC[R]&&(U.children!=null||U.dangerouslySetInnerHTML!=null))throw Error(xa(137,R));if(U.dangerouslySetInnerHTML!=null){if(U.children!=null)throw Error(xa(60));if(typeof U.dangerouslySetInnerHTML!="object"||!("__html"in U.dangerouslySetInnerHTML))throw Error(xa(61))}if(U.style!=null&&typeof U.style!="object")throw Error(xa(62))}}function V1(R,U){if(R.indexOf("-")===-1)return typeof U.is=="string";switch(R){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H1=null;function qx(R){return R=R.target||R.srcElement||window,R.correspondingUseElement&&(R=R.correspondingUseElement),R.nodeType===3?R.parentNode:R}var j1=null,ud=null,fd=null;function R3(R){if(R=Q0(R)){if(typeof j1!="function")throw Error(xa(280));var U=R.stateNode;U&&(U=oy(U),j1(R.stateNode,R.type,U))}}function MT(R){ud?fd?fd.push(R):fd=[R]:ud=R}function ET(){if(ud){var R=ud,U=fd;if(fd=ud=null,R3(R),U)for(R=0;R<U.length;R++)R3(U[R])}}function CT(R,U){return R(U)}function LT(){}var Rm=!1;function PT(R,U,ee){if(Rm)return R(U,ee);Rm=!0;try{return CT(R,U,ee)}finally{Rm=!1,(ud!==null||fd!==null)&&(LT(),ET())}}function D0(R,U){var ee=R.stateNode;if(ee===null)return null;var pe=oy(ee);if(pe===null)return null;ee=pe[U];e:switch(U){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(pe=!pe.disabled)||(R=R.type,pe=!(R==="button"||R==="input"||R==="select"||R==="textarea")),R=!pe;break e;default:R=!1}if(R)return null;if(ee&&typeof ee!="function")throw Error(xa(231,U,typeof ee));return ee}var G1=!1;if(sc)try{var $d={};Object.defineProperty($d,"passive",{get:function(){G1=!0}}),window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{G1=!1}function yC(R,U,ee,pe,Re,Ge,j,H,e){var g=Array.prototype.slice.call(arguments,3);try{U.apply(ee,g)}catch(P){this.onError(P)}}var x0=!1,wg=null,Tg=!1,W1=null,mC={onError:function(R){x0=!0,wg=R}};function xC(R,U,ee,pe,Re,Ge,j,H,e){x0=!1,wg=null,yC.apply(mC,arguments)}function bC(R,U,ee,pe,Re,Ge,j,H,e){if(xC.apply(this,arguments),x0){if(x0){var g=wg;x0=!1,wg=null}else throw Error(xa(198));Tg||(Tg=!0,W1=g)}}function yv(R){var U=R,ee=R;if(R.alternate)for(;U.return;)U=U.return;else{R=U;do U=R,U.flags&4098&&(ee=U.return),R=U.return;while(R)}return U.tag===3?ee:null}function RT(R){if(R.tag===13){var U=R.memoizedState;if(U===null&&(R=R.alternate,R!==null&&(U=R.memoizedState)),U!==null)return U.dehydrated}return null}function D3(R){if(yv(R)!==R)throw Error(xa(188))}function wC(R){var U=R.alternate;if(!U){if(U=yv(R),U===null)throw Error(xa(188));return U!==R?null:R}for(var ee=R,pe=U;;){var Re=ee.return;if(Re===null)break;var Ge=Re.alternate;if(Ge===null){if(pe=Re.return,pe!==null){ee=pe;continue}break}if(Re.child===Ge.child){for(Ge=Re.child;Ge;){if(Ge===ee)return D3(Re),R;if(Ge===pe)return D3(Re),U;Ge=Ge.sibling}throw Error(xa(188))}if(ee.return!==pe.return)ee=Re,pe=Ge;else{for(var j=!1,H=Re.child;H;){if(H===ee){j=!0,ee=Re,pe=Ge;break}if(H===pe){j=!0,pe=Re,ee=Ge;break}H=H.sibling}if(!j){for(H=Ge.child;H;){if(H===ee){j=!0,ee=Ge,pe=Re;break}if(H===pe){j=!0,pe=Ge,ee=Re;break}H=H.sibling}if(!j)throw Error(xa(189))}}if(ee.alternate!==pe)throw Error(xa(190))}if(ee.tag!==3)throw Error(xa(188));return ee.stateNode.current===ee?R:U}function DT(R){return R=wC(R),R!==null?IT(R):null}function IT(R){if(R.tag===5||R.tag===6)return R;for(R=R.child;R!==null;){var U=IT(R);if(U!==null)return U;R=R.sibling}return null}var _T=_l.unstable_scheduleCallback,I3=_l.unstable_cancelCallback,TC=_l.unstable_shouldYield,AC=_l.unstable_requestPaint,_o=_l.unstable_now,SC=_l.unstable_getCurrentPriorityLevel,e2=_l.unstable_ImmediatePriority,kT=_l.unstable_UserBlockingPriority,Ag=_l.unstable_NormalPriority,MC=_l.unstable_LowPriority,FT=_l.unstable_IdlePriority,ry=null,Mf=null;function EC(R){if(Mf&&typeof Mf.onCommitFiberRoot=="function")try{Mf.onCommitFiberRoot(ry,R,void 0,(R.current.flags&128)===128)}catch{}}var Ju=Math.clz32?Math.clz32:PC,CC=Math.log,LC=Math.LN2;function PC(R){return R>>>=0,R===0?32:31-(CC(R)/LC|0)|0}var Op=64,zp=4194304;function p0(R){switch(R&-R){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return R&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return R&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return R}}function Sg(R,U){var ee=R.pendingLanes;if(ee===0)return 0;var pe=0,Re=R.suspendedLanes,Ge=R.pingedLanes,j=ee&268435455;if(j!==0){var H=j&~Re;H!==0?pe=p0(H):(Ge&=j,Ge!==0&&(pe=p0(Ge)))}else j=ee&~Re,j!==0?pe=p0(j):Ge!==0&&(pe=p0(Ge));if(pe===0)return 0;if(U!==0&&U!==pe&&!(U&Re)&&(Re=pe&-pe,Ge=U&-U,Re>=Ge||Re===16&&(Ge&4194240)!==0))return U;if(pe&4&&(pe|=ee&16),U=R.entangledLanes,U!==0)for(R=R.entanglements,U&=pe;0<U;)ee=31-Ju(U),Re=1<<ee,pe|=R[ee],U&=~Re;return pe}function RC(R,U){switch(R){case 1:case 2:case 4:return U+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return U+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DC(R,U){for(var ee=R.suspendedLanes,pe=R.pingedLanes,Re=R.expirationTimes,Ge=R.pendingLanes;0<Ge;){var j=31-Ju(Ge),H=1<<j,e=Re[j];e===-1?(!(H&ee)||H&pe)&&(Re[j]=RC(H,U)):e<=U&&(R.expiredLanes|=H),Ge&=~H}}function Y1(R){return R=R.pendingLanes&-1073741825,R!==0?R:R&1073741824?1073741824:0}function OT(){var R=Op;return Op<<=1,!(Op&4194240)&&(Op=64),R}function Dm(R){for(var U=[],ee=0;31>ee;ee++)U.push(R);return U}function J0(R,U,ee){R.pendingLanes|=U,U!==536870912&&(R.suspendedLanes=0,R.pingedLanes=0),R=R.eventTimes,U=31-Ju(U),R[U]=ee}function IC(R,U){var ee=R.pendingLanes&~U;R.pendingLanes=U,R.suspendedLanes=0,R.pingedLanes=0,R.expiredLanes&=U,R.mutableReadLanes&=U,R.entangledLanes&=U,U=R.entanglements;var pe=R.eventTimes;for(R=R.expirationTimes;0<ee;){var Re=31-Ju(ee),Ge=1<<Re;U[Re]=0,pe[Re]=-1,R[Re]=-1,ee&=~Ge}}function t2(R,U){var ee=R.entangledLanes|=U;for(R=R.entanglements;ee;){var pe=31-Ju(ee),Re=1<<pe;Re&U|R[pe]&U&&(R[pe]|=U),ee&=~Re}}var Di=0;function zT(R){return R&=-R,1<R?4<R?R&268435455?16:536870912:4:1}var NT,r2,BT,UT,VT,X1=!1,Np=[],oh=null,sh=null,lh=null,I0=new Map,_0=new Map,rh=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _3(R,U){switch(R){case"focusin":case"focusout":oh=null;break;case"dragenter":case"dragleave":sh=null;break;case"mouseover":case"mouseout":lh=null;break;case"pointerover":case"pointerout":I0.delete(U.pointerId);break;case"gotpointercapture":case"lostpointercapture":_0.delete(U.pointerId)}}function Qd(R,U,ee,pe,Re,Ge){return R===null||R.nativeEvent!==Ge?(R={blockedOn:U,domEventName:ee,eventSystemFlags:pe,nativeEvent:Ge,targetContainers:[Re]},U!==null&&(U=Q0(U),U!==null&&r2(U)),R):(R.eventSystemFlags|=pe,U=R.targetContainers,Re!==null&&U.indexOf(Re)===-1&&U.push(Re),R)}function kC(R,U,ee,pe,Re){switch(U){case"focusin":return oh=Qd(oh,R,U,ee,pe,Re),!0;case"dragenter":return sh=Qd(sh,R,U,ee,pe,Re),!0;case"mouseover":return lh=Qd(lh,R,U,ee,pe,Re),!0;case"pointerover":var Ge=Re.pointerId;return I0.set(Ge,Qd(I0.get(Ge)||null,R,U,ee,pe,Re)),!0;case"gotpointercapture":return Ge=Re.pointerId,_0.set(Ge,Qd(_0.get(Ge)||null,R,U,ee,pe,Re)),!0}return!1}function HT(R){var U=rv(R.target);if(U!==null){var ee=yv(U);if(ee!==null){if(U=ee.tag,U===13){if(U=RT(ee),U!==null){R.blockedOn=U,VT(R.priority,function(){BT(ee)});return}}else if(U===3&&ee.stateNode.current.memoizedState.isDehydrated){R.blockedOn=ee.tag===3?ee.stateNode.containerInfo:null;return}}}R.blockedOn=null}function sg(R){if(R.blockedOn!==null)return!1;for(var U=R.targetContainers;0<U.length;){var ee=Z1(R.domEventName,R.eventSystemFlags,U[0],R.nativeEvent);if(ee===null){ee=R.nativeEvent;var pe=new ee.constructor(ee.type,ee);H1=pe,ee.target.dispatchEvent(pe),H1=null}else return U=Q0(ee),U!==null&&r2(U),R.blockedOn=ee,!1;U.shift()}return!0}function k3(R,U,ee){sg(R)&&ee.delete(U)}function FC(){X1=!1,oh!==null&&sg(oh)&&(oh=null),sh!==null&&sg(sh)&&(sh=null),lh!==null&&sg(lh)&&(lh=null),I0.forEach(k3),_0.forEach(k3)}function qd(R,U){R.blockedOn===U&&(R.blockedOn=null,X1||(X1=!0,_l.unstable_scheduleCallback(_l.unstable_NormalPriority,FC)))}function k0(R){function U(Re){return qd(Re,R)}if(0<Np.length){qd(Np[0],R);for(var ee=1;ee<Np.length;ee++){var pe=Np[ee];pe.blockedOn===R&&(pe.blockedOn=null)}}for(oh!==null&&qd(oh,R),sh!==null&&qd(sh,R),lh!==null&&qd(lh,R),I0.forEach(U),_0.forEach(U),ee=0;ee<rh.length;ee++)pe=rh[ee],pe.blockedOn===R&&(pe.blockedOn=null);for(;0<rh.length&&(ee=rh[0],ee.blockedOn===null);)HT(ee),ee.blockedOn===null&&rh.shift()}var cd=cc.ReactCurrentBatchConfig,Mg=!0;function OC(R,U,ee,pe){var Re=Di,Ge=cd.transition;cd.transition=null;try{Di=1,n2(R,U,ee,pe)}finally{Di=Re,cd.transition=Ge}}function zC(R,U,ee,pe){var Re=Di,Ge=cd.transition;cd.transition=null;try{Di=4,n2(R,U,ee,pe)}finally{Di=Re,cd.transition=Ge}}function n2(R,U,ee,pe){if(Mg){var Re=Z1(R,U,ee,pe);if(Re===null)Vm(R,U,pe,Eg,ee),_3(R,pe);else if(kC(Re,R,U,ee,pe))pe.stopPropagation();else if(_3(R,pe),U&4&&-1<_C.indexOf(R)){for(;Re!==null;){var Ge=Q0(Re);if(Ge!==null&&NT(Ge),Ge=Z1(R,U,ee,pe),Ge===null&&Vm(R,U,pe,Eg,ee),Ge===Re)break;Re=Ge}Re!==null&&pe.stopPropagation()}else Vm(R,U,pe,null,ee)}}var Eg=null;function Z1(R,U,ee,pe){if(Eg=null,R=qx(pe),R=rv(R),R!==null)if(U=yv(R),U===null)R=null;else if(ee=U.tag,ee===13){if(R=RT(U),R!==null)return R;R=null}else if(ee===3){if(U.stateNode.current.memoizedState.isDehydrated)return U.tag===3?U.stateNode.containerInfo:null;R=null}else U!==R&&(R=null);return Eg=R,null}function jT(R){switch(R){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SC()){case e2:return 1;case kT:return 4;case Ag:case MC:return 16;case FT:return 536870912;default:return 16}default:return 16}}var ah=null,a2=null,lg=null;function GT(){if(lg)return lg;var R,U=a2,ee=U.length,pe,Re="value"in ah?ah.value:ah.textContent,Ge=Re.length;for(R=0;R<ee&&U[R]===Re[R];R++);var j=ee-R;for(pe=1;pe<=j&&U[ee-pe]===Re[Ge-pe];pe++);return lg=Re.slice(R,1<pe?1-pe:void 0)}function ug(R){var U=R.keyCode;return"charCode"in R?(R=R.charCode,R===0&&U===13&&(R=13)):R=U,R===10&&(R=13),32<=R||R===13?R:0}function Bp(){return!0}function F3(){return!1}function Fl(R){function U(ee,pe,Re,Ge,j){this._reactName=ee,this._targetInst=Re,this.type=pe,this.nativeEvent=Ge,this.target=j,this.currentTarget=null;for(var H in R)R.hasOwnProperty(H)&&(ee=R[H],this[H]=ee?ee(Ge):Ge[H]);return this.isDefaultPrevented=(Ge.defaultPrevented!=null?Ge.defaultPrevented:Ge.returnValue===!1)?Bp:F3,this.isPropagationStopped=F3,this}return yo(U.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ee=this.nativeEvent;ee&&(ee.preventDefault?ee.preventDefault():typeof ee.returnValue!="unknown"&&(ee.returnValue=!1),this.isDefaultPrevented=Bp)},stopPropagation:function(){var ee=this.nativeEvent;ee&&(ee.stopPropagation?ee.stopPropagation():typeof ee.cancelBubble!="unknown"&&(ee.cancelBubble=!0),this.isPropagationStopped=Bp)},persist:function(){},isPersistent:Bp}),U}var Md={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(R){return R.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i2=Fl(Md),$0=yo({},Md,{view:0,detail:0}),NC=Fl($0),Im,_m,e0,ny=yo({},$0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o2,button:0,buttons:0,relatedTarget:function(R){return R.relatedTarget===void 0?R.fromElement===R.srcElement?R.toElement:R.fromElement:R.relatedTarget},movementX:function(R){return"movementX"in R?R.movementX:(R!==e0&&(e0&&R.type==="mousemove"?(Im=R.screenX-e0.screenX,_m=R.screenY-e0.screenY):_m=Im=0,e0=R),Im)},movementY:function(R){return"movementY"in R?R.movementY:_m}}),O3=Fl(ny),BC=yo({},ny,{dataTransfer:0}),UC=Fl(BC),VC=yo({},$0,{relatedTarget:0}),km=Fl(VC),HC=yo({},Md,{animationName:0,elapsedTime:0,pseudoElement:0}),jC=Fl(HC),GC=yo({},Md,{clipboardData:function(R){return"clipboardData"in R?R.clipboardData:window.clipboardData}}),WC=Fl(GC),YC=yo({},Md,{data:0}),z3=Fl(YC),XC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JC(R){var U=this.nativeEvent;return U.getModifierState?U.getModifierState(R):(R=KC[R])?!!U[R]:!1}function o2(){return JC}var $C=yo({},$0,{key:function(R){if(R.key){var U=XC[R.key]||R.key;if(U!=="Unidentified")return U}return R.type==="keypress"?(R=ug(R),R===13?"Enter":String.fromCharCode(R)):R.type==="keydown"||R.type==="keyup"?ZC[R.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o2,charCode:function(R){return R.type==="keypress"?ug(R):0},keyCode:function(R){return R.type==="keydown"||R.type==="keyup"?R.keyCode:0},which:function(R){return R.type==="keypress"?ug(R):R.type==="keydown"||R.type==="keyup"?R.keyCode:0}}),QC=Fl($C),qC=yo({},ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N3=Fl(qC),eL=yo({},$0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o2}),tL=Fl(eL),rL=yo({},Md,{propertyName:0,elapsedTime:0,pseudoElement:0}),nL=Fl(rL),aL=yo({},ny,{deltaX:function(R){return"deltaX"in R?R.deltaX:"wheelDeltaX"in R?-R.wheelDeltaX:0},deltaY:function(R){return"deltaY"in R?R.deltaY:"wheelDeltaY"in R?-R.wheelDeltaY:"wheelDelta"in R?-R.wheelDelta:0},deltaZ:0,deltaMode:0}),iL=Fl(aL),oL=[9,13,27,32],s2=sc&&"CompositionEvent"in window,b0=null;sc&&"documentMode"in document&&(b0=document.documentMode);var sL=sc&&"TextEvent"in window&&!b0,WT=sc&&(!s2||b0&&8<b0&&11>=b0),B3=String.fromCharCode(32),U3=!1;function YT(R,U){switch(R){case"keyup":return oL.indexOf(U.keyCode)!==-1;case"keydown":return U.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XT(R){return R=R.detail,typeof R=="object"&&"data"in R?R.data:null}var Jv=!1;function lL(R,U){switch(R){case"compositionend":return XT(U);case"keypress":return U.which!==32?null:(U3=!0,B3);case"textInput":return R=U.data,R===B3&&U3?null:R;default:return null}}function uL(R,U){if(Jv)return R==="compositionend"||!s2&&YT(R,U)?(R=GT(),lg=a2=ah=null,Jv=!1,R):null;switch(R){case"paste":return null;case"keypress":if(!(U.ctrlKey||U.altKey||U.metaKey)||U.ctrlKey&&U.altKey){if(U.char&&1<U.char.length)return U.char;if(U.which)return String.fromCharCode(U.which)}return null;case"compositionend":return WT&&U.locale!=="ko"?null:U.data;default:return null}}var fL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V3(R){var U=R&&R.nodeName&&R.nodeName.toLowerCase();return U==="input"?!!fL[R.type]:U==="textarea"}function ZT(R,U,ee,pe){MT(pe),U=Cg(U,"onChange"),0<U.length&&(ee=new i2("onChange","change",null,ee,pe),R.push({event:ee,listeners:U}))}var w0=null,F0=null;function cL(R){i5(R,0)}function ay(R){var U=qv(R);if(mT(U))return R}function hL(R,U){if(R==="change")return U}var KT=!1;if(sc){var Fm;if(sc){var Om="oninput"in document;if(!Om){var H3=document.createElement("div");H3.setAttribute("oninput","return;"),Om=typeof H3.oninput=="function"}Fm=Om}else Fm=!1;KT=Fm&&(!document.documentMode||9<document.documentMode)}function j3(){w0&&(w0.detachEvent("onpropertychange",JT),F0=w0=null)}function JT(R){if(R.propertyName==="value"&&ay(F0)){var U=[];ZT(U,F0,R,qx(R)),PT(cL,U)}}function vL(R,U,ee){R==="focusin"?(j3(),w0=U,F0=ee,w0.attachEvent("onpropertychange",JT)):R==="focusout"&&j3()}function dL(R){if(R==="selectionchange"||R==="keyup"||R==="keydown")return ay(F0)}function pL(R,U){if(R==="click")return ay(U)}function gL(R,U){if(R==="input"||R==="change")return ay(U)}function yL(R,U){return R===U&&(R!==0||1/R===1/U)||R!==R&&U!==U}var Qu=typeof Object.is=="function"?Object.is:yL;function O0(R,U){if(Qu(R,U))return!0;if(typeof R!="object"||R===null||typeof U!="object"||U===null)return!1;var ee=Object.keys(R),pe=Object.keys(U);if(ee.length!==pe.length)return!1;for(pe=0;pe<ee.length;pe++){var Re=ee[pe];if(!R1.call(U,Re)||!Qu(R[Re],U[Re]))return!1}return!0}function G3(R){for(;R&&R.firstChild;)R=R.firstChild;return R}function W3(R,U){var ee=G3(R);R=0;for(var pe;ee;){if(ee.nodeType===3){if(pe=R+ee.textContent.length,R<=U&&pe>=U)return{node:ee,offset:U-R};R=pe}e:{for(;ee;){if(ee.nextSibling){ee=ee.nextSibling;break e}ee=ee.parentNode}ee=void 0}ee=G3(ee)}}function $T(R,U){return R&&U?R===U?!0:R&&R.nodeType===3?!1:U&&U.nodeType===3?$T(R,U.parentNode):"contains"in R?R.contains(U):R.compareDocumentPosition?!!(R.compareDocumentPosition(U)&16):!1:!1}function QT(){for(var R=window,U=bg();U instanceof R.HTMLIFrameElement;){try{var ee=typeof U.contentWindow.location.href=="string"}catch{ee=!1}if(ee)R=U.contentWindow;else break;U=bg(R.document)}return U}function l2(R){var U=R&&R.nodeName&&R.nodeName.toLowerCase();return U&&(U==="input"&&(R.type==="text"||R.type==="search"||R.type==="tel"||R.type==="url"||R.type==="password")||U==="textarea"||R.contentEditable==="true")}function mL(R){var U=QT(),ee=R.focusedElem,pe=R.selectionRange;if(U!==ee&&ee&&ee.ownerDocument&&$T(ee.ownerDocument.documentElement,ee)){if(pe!==null&&l2(ee)){if(U=pe.start,R=pe.end,R===void 0&&(R=U),"selectionStart"in ee)ee.selectionStart=U,ee.selectionEnd=Math.min(R,ee.value.length);else if(R=(U=ee.ownerDocument||document)&&U.defaultView||window,R.getSelection){R=R.getSelection();var Re=ee.textContent.length,Ge=Math.min(pe.start,Re);pe=pe.end===void 0?Ge:Math.min(pe.end,Re),!R.extend&&Ge>pe&&(Re=pe,pe=Ge,Ge=Re),Re=W3(ee,Ge);var j=W3(ee,pe);Re&&j&&(R.rangeCount!==1||R.anchorNode!==Re.node||R.anchorOffset!==Re.offset||R.focusNode!==j.node||R.focusOffset!==j.offset)&&(U=U.createRange(),U.setStart(Re.node,Re.offset),R.removeAllRanges(),Ge>pe?(R.addRange(U),R.extend(j.node,j.offset)):(U.setEnd(j.node,j.offset),R.addRange(U)))}}for(U=[],R=ee;R=R.parentNode;)R.nodeType===1&&U.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<U.length;ee++)R=U[ee],R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}var xL=sc&&"documentMode"in document&&11>=document.documentMode,$v=null,K1=null,T0=null,J1=!1;function Y3(R,U,ee){var pe=ee.window===ee?ee.document:ee.nodeType===9?ee:ee.ownerDocument;J1||$v==null||$v!==bg(pe)||(pe=$v,"selectionStart"in pe&&l2(pe)?pe={start:pe.selectionStart,end:pe.selectionEnd}:(pe=(pe.ownerDocument&&pe.ownerDocument.defaultView||window).getSelection(),pe={anchorNode:pe.anchorNode,anchorOffset:pe.anchorOffset,focusNode:pe.focusNode,focusOffset:pe.focusOffset}),T0&&O0(T0,pe)||(T0=pe,pe=Cg(K1,"onSelect"),0<pe.length&&(U=new i2("onSelect","select",null,U,ee),R.push({event:U,listeners:pe}),U.target=$v)))}function Up(R,U){var ee={};return ee[R.toLowerCase()]=U.toLowerCase(),ee["Webkit"+R]="webkit"+U,ee["Moz"+R]="moz"+U,ee}var Qv={animationend:Up("Animation","AnimationEnd"),animationiteration:Up("Animation","AnimationIteration"),animationstart:Up("Animation","AnimationStart"),transitionend:Up("Transition","TransitionEnd")},zm={},qT={};sc&&(qT=document.createElement("div").style,"AnimationEvent"in window||(delete Qv.animationend.animation,delete Qv.animationiteration.animation,delete Qv.animationstart.animation),"TransitionEvent"in window||delete Qv.transitionend.transition);function iy(R){if(zm[R])return zm[R];if(!Qv[R])return R;var U=Qv[R],ee;for(ee in U)if(U.hasOwnProperty(ee)&&ee in qT)return zm[R]=U[ee];return R}var e5=iy("animationend"),t5=iy("animationiteration"),r5=iy("animationstart"),n5=iy("transitionend"),a5=new Map,X3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bh(R,U){a5.set(R,U),gv(U,[R])}for(var Nm=0;Nm<X3.length;Nm++){var Bm=X3[Nm],bL=Bm.toLowerCase(),wL=Bm[0].toUpperCase()+Bm.slice(1);bh(bL,"on"+wL)}bh(e5,"onAnimationEnd");bh(t5,"onAnimationIteration");bh(r5,"onAnimationStart");bh("dblclick","onDoubleClick");bh("focusin","onFocus");bh("focusout","onBlur");bh(n5,"onTransitionEnd");pd("onMouseEnter",["mouseout","mouseover"]);pd("onMouseLeave",["mouseout","mouseover"]);pd("onPointerEnter",["pointerout","pointerover"]);pd("onPointerLeave",["pointerout","pointerover"]);gv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gv("onBeforeInput",["compositionend","keypress","textInput","paste"]);gv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var g0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TL=new Set("cancel close invalid load scroll toggle".split(" ").concat(g0));function Z3(R,U,ee){var pe=R.type||"unknown-event";R.currentTarget=ee,bC(pe,U,void 0,R),R.currentTarget=null}function i5(R,U){U=(U&4)!==0;for(var ee=0;ee<R.length;ee++){var pe=R[ee],Re=pe.event;pe=pe.listeners;e:{var Ge=void 0;if(U)for(var j=pe.length-1;0<=j;j--){var H=pe[j],e=H.instance,g=H.currentTarget;if(H=H.listener,e!==Ge&&Re.isPropagationStopped())break e;Z3(Re,H,g),Ge=e}else for(j=0;j<pe.length;j++){if(H=pe[j],e=H.instance,g=H.currentTarget,H=H.listener,e!==Ge&&Re.isPropagationStopped())break e;Z3(Re,H,g),Ge=e}}}if(Tg)throw R=W1,Tg=!1,W1=null,R}function Ki(R,U){var ee=U[tx];ee===void 0&&(ee=U[tx]=new Set);var pe=R+"__bubble";ee.has(pe)||(o5(U,R,2,!1),ee.add(pe))}function Um(R,U,ee){var pe=0;U&&(pe|=4),o5(ee,R,pe,U)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function z0(R){if(!R[Vp]){R[Vp]=!0,vT.forEach(function(ee){ee!=="selectionchange"&&(TL.has(ee)||Um(ee,!1,R),Um(ee,!0,R))});var U=R.nodeType===9?R:R.ownerDocument;U===null||U[Vp]||(U[Vp]=!0,Um("selectionchange",!1,U))}}function o5(R,U,ee,pe){switch(jT(U)){case 1:var Re=OC;break;case 4:Re=zC;break;default:Re=n2}ee=Re.bind(null,U,ee,R),Re=void 0,!G1||U!=="touchstart"&&U!=="touchmove"&&U!=="wheel"||(Re=!0),pe?Re!==void 0?R.addEventListener(U,ee,{capture:!0,passive:Re}):R.addEventListener(U,ee,!0):Re!==void 0?R.addEventListener(U,ee,{passive:Re}):R.addEventListener(U,ee,!1)}function Vm(R,U,ee,pe,Re){var Ge=pe;if(!(U&1)&&!(U&2)&&pe!==null)e:for(;;){if(pe===null)return;var j=pe.tag;if(j===3||j===4){var H=pe.stateNode.containerInfo;if(H===Re||H.nodeType===8&&H.parentNode===Re)break;if(j===4)for(j=pe.return;j!==null;){var e=j.tag;if((e===3||e===4)&&(e=j.stateNode.containerInfo,e===Re||e.nodeType===8&&e.parentNode===Re))return;j=j.return}for(;H!==null;){if(j=rv(H),j===null)return;if(e=j.tag,e===5||e===6){pe=Ge=j;continue e}H=H.parentNode}}pe=pe.return}PT(function(){var g=Ge,P=qx(ee),a=[];e:{var x=a5.get(R);if(x!==void 0){var M=i2,v=R;switch(R){case"keypress":if(ug(ee)===0)break e;case"keydown":case"keyup":M=QC;break;case"focusin":v="focus",M=km;break;case"focusout":v="blur",M=km;break;case"beforeblur":case"afterblur":M=km;break;case"click":if(ee.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=O3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=UC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=tL;break;case e5:case t5:case r5:M=jC;break;case n5:M=nL;break;case"scroll":M=NC;break;case"wheel":M=iL;break;case"copy":case"cut":case"paste":M=WC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=N3}var p=(U&4)!==0,r=!p&&R==="scroll",t=p?x!==null?x+"Capture":null:x;p=[];for(var i=g,n;i!==null;){n=i;var u=n.stateNode;if(n.tag===5&&u!==null&&(n=u,t!==null&&(u=D0(i,t),u!=null&&p.push(N0(i,u,n)))),r)break;i=i.return}0<p.length&&(x=new M(x,v,null,ee,P),a.push({event:x,listeners:p}))}}if(!(U&7)){e:{if(x=R==="mouseover"||R==="pointerover",M=R==="mouseout"||R==="pointerout",x&&ee!==H1&&(v=ee.relatedTarget||ee.fromElement)&&(rv(v)||v[lc]))break e;if((M||x)&&(x=P.window===P?P:(x=P.ownerDocument)?x.defaultView||x.parentWindow:window,M?(v=ee.relatedTarget||ee.toElement,M=g,v=v?rv(v):null,v!==null&&(r=yv(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(M=null,v=g),M!==v)){if(p=O3,u="onMouseLeave",t="onMouseEnter",i="mouse",(R==="pointerout"||R==="pointerover")&&(p=N3,u="onPointerLeave",t="onPointerEnter",i="pointer"),r=M==null?x:qv(M),n=v==null?x:qv(v),x=new p(u,i+"leave",M,ee,P),x.target=r,x.relatedTarget=n,u=null,rv(P)===g&&(p=new p(t,i+"enter",v,ee,P),p.target=n,p.relatedTarget=r,u=p),r=u,M&&v)t:{for(p=M,t=v,i=0,n=p;n;n=Yv(n))i++;for(n=0,u=t;u;u=Yv(u))n++;for(;0<i-n;)p=Yv(p),i--;for(;0<n-i;)t=Yv(t),n--;for(;i--;){if(p===t||t!==null&&p===t.alternate)break t;p=Yv(p),t=Yv(t)}p=null}else p=null;M!==null&&K3(a,x,M,p,!1),v!==null&&r!==null&&K3(a,r,v,p,!0)}}e:{if(x=g?qv(g):window,M=x.nodeName&&x.nodeName.toLowerCase(),M==="select"||M==="input"&&x.type==="file")var f=hL;else if(V3(x))if(KT)f=gL;else{f=dL;var l=vL}else(M=x.nodeName)&&M.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(f=pL);if(f&&(f=f(R,g))){ZT(a,f,ee,P);break e}l&&l(R,x,g),R==="focusout"&&(l=x._wrapperState)&&l.controlled&&x.type==="number"&&z1(x,"number",x.value)}switch(l=g?qv(g):window,R){case"focusin":(V3(l)||l.contentEditable==="true")&&($v=l,K1=g,T0=null);break;case"focusout":T0=K1=$v=null;break;case"mousedown":J1=!0;break;case"contextmenu":case"mouseup":case"dragend":J1=!1,Y3(a,ee,P);break;case"selectionchange":if(xL)break;case"keydown":case"keyup":Y3(a,ee,P)}var y;if(s2)e:{switch(R){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else Jv?YT(R,ee)&&(h="onCompositionEnd"):R==="keydown"&&ee.keyCode===229&&(h="onCompositionStart");h&&(WT&&ee.locale!=="ko"&&(Jv||h!=="onCompositionStart"?h==="onCompositionEnd"&&Jv&&(y=GT()):(ah=P,a2="value"in ah?ah.value:ah.textContent,Jv=!0)),l=Cg(g,h),0<l.length&&(h=new z3(h,R,null,ee,P),a.push({event:h,listeners:l}),y?h.data=y:(y=XT(ee),y!==null&&(h.data=y)))),(y=sL?lL(R,ee):uL(R,ee))&&(g=Cg(g,"onBeforeInput"),0<g.length&&(P=new z3("onBeforeInput","beforeinput",null,ee,P),a.push({event:P,listeners:g}),P.data=y))}i5(a,U)})}function N0(R,U,ee){return{instance:R,listener:U,currentTarget:ee}}function Cg(R,U){for(var ee=U+"Capture",pe=[];R!==null;){var Re=R,Ge=Re.stateNode;Re.tag===5&&Ge!==null&&(Re=Ge,Ge=D0(R,ee),Ge!=null&&pe.unshift(N0(R,Ge,Re)),Ge=D0(R,U),Ge!=null&&pe.push(N0(R,Ge,Re))),R=R.return}return pe}function Yv(R){if(R===null)return null;do R=R.return;while(R&&R.tag!==5);return R||null}function K3(R,U,ee,pe,Re){for(var Ge=U._reactName,j=[];ee!==null&&ee!==pe;){var H=ee,e=H.alternate,g=H.stateNode;if(e!==null&&e===pe)break;H.tag===5&&g!==null&&(H=g,Re?(e=D0(ee,Ge),e!=null&&j.unshift(N0(ee,e,H))):Re||(e=D0(ee,Ge),e!=null&&j.push(N0(ee,e,H)))),ee=ee.return}j.length!==0&&R.push({event:U,listeners:j})}var AL=/\r\n?/g,SL=/\u0000|\uFFFD/g;function J3(R){return(typeof R=="string"?R:""+R).replace(AL,`
`).replace(SL,"")}function Hp(R,U,ee){if(U=J3(U),J3(R)!==U&&ee)throw Error(xa(425))}function Lg(){}var $1=null,Q1=null;function q1(R,U){return R==="textarea"||R==="noscript"||typeof U.children=="string"||typeof U.children=="number"||typeof U.dangerouslySetInnerHTML=="object"&&U.dangerouslySetInnerHTML!==null&&U.dangerouslySetInnerHTML.__html!=null}var ex=typeof setTimeout=="function"?setTimeout:void 0,ML=typeof clearTimeout=="function"?clearTimeout:void 0,$3=typeof Promise=="function"?Promise:void 0,EL=typeof queueMicrotask=="function"?queueMicrotask:typeof $3<"u"?function(R){return $3.resolve(null).then(R).catch(CL)}:ex;function CL(R){setTimeout(function(){throw R})}function Hm(R,U){var ee=U,pe=0;do{var Re=ee.nextSibling;if(R.removeChild(ee),Re&&Re.nodeType===8)if(ee=Re.data,ee==="/$"){if(pe===0){R.removeChild(Re),k0(U);return}pe--}else ee!=="$"&&ee!=="$?"&&ee!=="$!"||pe++;ee=Re}while(ee);k0(U)}function uh(R){for(;R!=null;R=R.nextSibling){var U=R.nodeType;if(U===1||U===3)break;if(U===8){if(U=R.data,U==="$"||U==="$!"||U==="$?")break;if(U==="/$")return null}}return R}function Q3(R){R=R.previousSibling;for(var U=0;R;){if(R.nodeType===8){var ee=R.data;if(ee==="$"||ee==="$!"||ee==="$?"){if(U===0)return R;U--}else ee==="/$"&&U++}R=R.previousSibling}return null}var Ed=Math.random().toString(36).slice(2),Sf="__reactFiber$"+Ed,B0="__reactProps$"+Ed,lc="__reactContainer$"+Ed,tx="__reactEvents$"+Ed,LL="__reactListeners$"+Ed,PL="__reactHandles$"+Ed;function rv(R){var U=R[Sf];if(U)return U;for(var ee=R.parentNode;ee;){if(U=ee[lc]||ee[Sf]){if(ee=U.alternate,U.child!==null||ee!==null&&ee.child!==null)for(R=Q3(R);R!==null;){if(ee=R[Sf])return ee;R=Q3(R)}return U}R=ee,ee=R.parentNode}return null}function Q0(R){return R=R[Sf]||R[lc],!R||R.tag!==5&&R.tag!==6&&R.tag!==13&&R.tag!==3?null:R}function qv(R){if(R.tag===5||R.tag===6)return R.stateNode;throw Error(xa(33))}function oy(R){return R[B0]||null}var rx=[],ed=-1;function wh(R){return{current:R}}function Ji(R){0>ed||(R.current=rx[ed],rx[ed]=null,ed--)}function ji(R,U){ed++,rx[ed]=R.current,R.current=U}var ph={},_s=wh(ph),fl=wh(!1),lv=ph;function gd(R,U){var ee=R.type.contextTypes;if(!ee)return ph;var pe=R.stateNode;if(pe&&pe.__reactInternalMemoizedUnmaskedChildContext===U)return pe.__reactInternalMemoizedMaskedChildContext;var Re={},Ge;for(Ge in ee)Re[Ge]=U[Ge];return pe&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=U,R.__reactInternalMemoizedMaskedChildContext=Re),Re}function cl(R){return R=R.childContextTypes,R!=null}function Pg(){Ji(fl),Ji(_s)}function q3(R,U,ee){if(_s.current!==ph)throw Error(xa(168));ji(_s,U),ji(fl,ee)}function s5(R,U,ee){var pe=R.stateNode;if(U=U.childContextTypes,typeof pe.getChildContext!="function")return ee;pe=pe.getChildContext();for(var Re in pe)if(!(Re in U))throw Error(xa(108,vC(R)||"Unknown",Re));return yo({},ee,pe)}function Rg(R){return R=(R=R.stateNode)&&R.__reactInternalMemoizedMergedChildContext||ph,lv=_s.current,ji(_s,R),ji(fl,fl.current),!0}function ew(R,U,ee){var pe=R.stateNode;if(!pe)throw Error(xa(169));ee?(R=s5(R,U,lv),pe.__reactInternalMemoizedMergedChildContext=R,Ji(fl),Ji(_s),ji(_s,R)):Ji(fl),ji(fl,ee)}var tc=null,sy=!1,jm=!1;function l5(R){tc===null?tc=[R]:tc.push(R)}function RL(R){sy=!0,l5(R)}function Th(){if(!jm&&tc!==null){jm=!0;var R=0,U=Di;try{var ee=tc;for(Di=1;R<ee.length;R++){var pe=ee[R];do pe=pe(!0);while(pe!==null)}tc=null,sy=!1}catch(Re){throw tc!==null&&(tc=tc.slice(R+1)),_T(e2,Th),Re}finally{Di=U,jm=!1}}return null}var td=[],rd=0,Dg=null,Ig=0,lu=[],uu=0,uv=null,rc=1,nc="";function ev(R,U){td[rd++]=Ig,td[rd++]=Dg,Dg=R,Ig=U}function u5(R,U,ee){lu[uu++]=rc,lu[uu++]=nc,lu[uu++]=uv,uv=R;var pe=rc;R=nc;var Re=32-Ju(pe)-1;pe&=~(1<<Re),ee+=1;var Ge=32-Ju(U)+Re;if(30<Ge){var j=Re-Re%5;Ge=(pe&(1<<j)-1).toString(32),pe>>=j,Re-=j,rc=1<<32-Ju(U)+Re|ee<<Re|pe,nc=Ge+R}else rc=1<<Ge|ee<<Re|pe,nc=R}function u2(R){R.return!==null&&(ev(R,1),u5(R,1,0))}function f2(R){for(;R===Dg;)Dg=td[--rd],td[rd]=null,Ig=td[--rd],td[rd]=null;for(;R===uv;)uv=lu[--uu],lu[uu]=null,nc=lu[--uu],lu[uu]=null,rc=lu[--uu],lu[uu]=null}var Il=null,Dl=null,no=!1,Zu=null;function f5(R,U){var ee=fu(5,null,null,0);ee.elementType="DELETED",ee.stateNode=U,ee.return=R,U=R.deletions,U===null?(R.deletions=[ee],R.flags|=16):U.push(ee)}function tw(R,U){switch(R.tag){case 5:var ee=R.type;return U=U.nodeType!==1||ee.toLowerCase()!==U.nodeName.toLowerCase()?null:U,U!==null?(R.stateNode=U,Il=R,Dl=uh(U.firstChild),!0):!1;case 6:return U=R.pendingProps===""||U.nodeType!==3?null:U,U!==null?(R.stateNode=U,Il=R,Dl=null,!0):!1;case 13:return U=U.nodeType!==8?null:U,U!==null?(ee=uv!==null?{id:rc,overflow:nc}:null,R.memoizedState={dehydrated:U,treeContext:ee,retryLane:1073741824},ee=fu(18,null,null,0),ee.stateNode=U,ee.return=R,R.child=ee,Il=R,Dl=null,!0):!1;default:return!1}}function nx(R){return(R.mode&1)!==0&&(R.flags&128)===0}function ax(R){if(no){var U=Dl;if(U){var ee=U;if(!tw(R,U)){if(nx(R))throw Error(xa(418));U=uh(ee.nextSibling);var pe=Il;U&&tw(R,U)?f5(pe,ee):(R.flags=R.flags&-4097|2,no=!1,Il=R)}}else{if(nx(R))throw Error(xa(418));R.flags=R.flags&-4097|2,no=!1,Il=R}}}function rw(R){for(R=R.return;R!==null&&R.tag!==5&&R.tag!==3&&R.tag!==13;)R=R.return;Il=R}function jp(R){if(R!==Il)return!1;if(!no)return rw(R),no=!0,!1;var U;if((U=R.tag!==3)&&!(U=R.tag!==5)&&(U=R.type,U=U!=="head"&&U!=="body"&&!q1(R.type,R.memoizedProps)),U&&(U=Dl)){if(nx(R))throw c5(),Error(xa(418));for(;U;)f5(R,U),U=uh(U.nextSibling)}if(rw(R),R.tag===13){if(R=R.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(xa(317));e:{for(R=R.nextSibling,U=0;R;){if(R.nodeType===8){var ee=R.data;if(ee==="/$"){if(U===0){Dl=uh(R.nextSibling);break e}U--}else ee!=="$"&&ee!=="$!"&&ee!=="$?"||U++}R=R.nextSibling}Dl=null}}else Dl=Il?uh(R.stateNode.nextSibling):null;return!0}function c5(){for(var R=Dl;R;)R=uh(R.nextSibling)}function yd(){Dl=Il=null,no=!1}function c2(R){Zu===null?Zu=[R]:Zu.push(R)}var DL=cc.ReactCurrentBatchConfig;function Wu(R,U){if(R&&R.defaultProps){U=yo({},U),R=R.defaultProps;for(var ee in R)U[ee]===void 0&&(U[ee]=R[ee]);return U}return U}var _g=wh(null),kg=null,nd=null,h2=null;function v2(){h2=nd=kg=null}function d2(R){var U=_g.current;Ji(_g),R._currentValue=U}function ix(R,U,ee){for(;R!==null;){var pe=R.alternate;if((R.childLanes&U)!==U?(R.childLanes|=U,pe!==null&&(pe.childLanes|=U)):pe!==null&&(pe.childLanes&U)!==U&&(pe.childLanes|=U),R===ee)break;R=R.return}}function hd(R,U){kg=R,h2=nd=null,R=R.dependencies,R!==null&&R.firstContext!==null&&(R.lanes&U&&(ul=!0),R.firstContext=null)}function hu(R){var U=R._currentValue;if(h2!==R)if(R={context:R,memoizedValue:U,next:null},nd===null){if(kg===null)throw Error(xa(308));nd=R,kg.dependencies={lanes:0,firstContext:R}}else nd=nd.next=R;return U}var nv=null;function p2(R){nv===null?nv=[R]:nv.push(R)}function h5(R,U,ee,pe){var Re=U.interleaved;return Re===null?(ee.next=ee,p2(U)):(ee.next=Re.next,Re.next=ee),U.interleaved=ee,uc(R,pe)}function uc(R,U){R.lanes|=U;var ee=R.alternate;for(ee!==null&&(ee.lanes|=U),ee=R,R=R.return;R!==null;)R.childLanes|=U,ee=R.alternate,ee!==null&&(ee.childLanes|=U),ee=R,R=R.return;return ee.tag===3?ee.stateNode:null}var th=!1;function g2(R){R.updateQueue={baseState:R.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v5(R,U){R=R.updateQueue,U.updateQueue===R&&(U.updateQueue={baseState:R.baseState,firstBaseUpdate:R.firstBaseUpdate,lastBaseUpdate:R.lastBaseUpdate,shared:R.shared,effects:R.effects})}function ic(R,U){return{eventTime:R,lane:U,tag:0,payload:null,callback:null,next:null}}function fh(R,U,ee){var pe=R.updateQueue;if(pe===null)return null;if(pe=pe.shared,Ti&2){var Re=pe.pending;return Re===null?U.next=U:(U.next=Re.next,Re.next=U),pe.pending=U,uc(R,ee)}return Re=pe.interleaved,Re===null?(U.next=U,p2(pe)):(U.next=Re.next,Re.next=U),pe.interleaved=U,uc(R,ee)}function fg(R,U,ee){if(U=U.updateQueue,U!==null&&(U=U.shared,(ee&4194240)!==0)){var pe=U.lanes;pe&=R.pendingLanes,ee|=pe,U.lanes=ee,t2(R,ee)}}function nw(R,U){var ee=R.updateQueue,pe=R.alternate;if(pe!==null&&(pe=pe.updateQueue,ee===pe)){var Re=null,Ge=null;if(ee=ee.firstBaseUpdate,ee!==null){do{var j={eventTime:ee.eventTime,lane:ee.lane,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null};Ge===null?Re=Ge=j:Ge=Ge.next=j,ee=ee.next}while(ee!==null);Ge===null?Re=Ge=U:Ge=Ge.next=U}else Re=Ge=U;ee={baseState:pe.baseState,firstBaseUpdate:Re,lastBaseUpdate:Ge,shared:pe.shared,effects:pe.effects},R.updateQueue=ee;return}R=ee.lastBaseUpdate,R===null?ee.firstBaseUpdate=U:R.next=U,ee.lastBaseUpdate=U}function Fg(R,U,ee,pe){var Re=R.updateQueue;th=!1;var Ge=Re.firstBaseUpdate,j=Re.lastBaseUpdate,H=Re.shared.pending;if(H!==null){Re.shared.pending=null;var e=H,g=e.next;e.next=null,j===null?Ge=g:j.next=g,j=e;var P=R.alternate;P!==null&&(P=P.updateQueue,H=P.lastBaseUpdate,H!==j&&(H===null?P.firstBaseUpdate=g:H.next=g,P.lastBaseUpdate=e))}if(Ge!==null){var a=Re.baseState;j=0,P=g=e=null,H=Ge;do{var x=H.lane,M=H.eventTime;if((pe&x)===x){P!==null&&(P=P.next={eventTime:M,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var v=R,p=H;switch(x=U,M=ee,p.tag){case 1:if(v=p.payload,typeof v=="function"){a=v.call(M,a,x);break e}a=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,x=typeof v=="function"?v.call(M,a,x):v,x==null)break e;a=yo({},a,x);break e;case 2:th=!0}}H.callback!==null&&H.lane!==0&&(R.flags|=64,x=Re.effects,x===null?Re.effects=[H]:x.push(H))}else M={eventTime:M,lane:x,tag:H.tag,payload:H.payload,callback:H.callback,next:null},P===null?(g=P=M,e=a):P=P.next=M,j|=x;if(H=H.next,H===null){if(H=Re.shared.pending,H===null)break;x=H,H=x.next,x.next=null,Re.lastBaseUpdate=x,Re.shared.pending=null}}while(1);if(P===null&&(e=a),Re.baseState=e,Re.firstBaseUpdate=g,Re.lastBaseUpdate=P,U=Re.shared.interleaved,U!==null){Re=U;do j|=Re.lane,Re=Re.next;while(Re!==U)}else Ge===null&&(Re.shared.lanes=0);cv|=j,R.lanes=j,R.memoizedState=a}}function aw(R,U,ee){if(R=U.effects,U.effects=null,R!==null)for(U=0;U<R.length;U++){var pe=R[U],Re=pe.callback;if(Re!==null){if(pe.callback=null,pe=ee,typeof Re!="function")throw Error(xa(191,Re));Re.call(pe)}}}var d5=new hT.Component().refs;function ox(R,U,ee,pe){U=R.memoizedState,ee=ee(pe,U),ee=ee==null?U:yo({},U,ee),R.memoizedState=ee,R.lanes===0&&(R.updateQueue.baseState=ee)}var ly={isMounted:function(R){return(R=R._reactInternals)?yv(R)===R:!1},enqueueSetState:function(R,U,ee){R=R._reactInternals;var pe=Ws(),Re=hh(R),Ge=ic(pe,Re);Ge.payload=U,ee!=null&&(Ge.callback=ee),U=fh(R,Ge,Re),U!==null&&($u(U,R,Re,pe),fg(U,R,Re))},enqueueReplaceState:function(R,U,ee){R=R._reactInternals;var pe=Ws(),Re=hh(R),Ge=ic(pe,Re);Ge.tag=1,Ge.payload=U,ee!=null&&(Ge.callback=ee),U=fh(R,Ge,Re),U!==null&&($u(U,R,Re,pe),fg(U,R,Re))},enqueueForceUpdate:function(R,U){R=R._reactInternals;var ee=Ws(),pe=hh(R),Re=ic(ee,pe);Re.tag=2,U!=null&&(Re.callback=U),U=fh(R,Re,pe),U!==null&&($u(U,R,pe,ee),fg(U,R,pe))}};function iw(R,U,ee,pe,Re,Ge,j){return R=R.stateNode,typeof R.shouldComponentUpdate=="function"?R.shouldComponentUpdate(pe,Ge,j):U.prototype&&U.prototype.isPureReactComponent?!O0(ee,pe)||!O0(Re,Ge):!0}function p5(R,U,ee){var pe=!1,Re=ph,Ge=U.contextType;return typeof Ge=="object"&&Ge!==null?Ge=hu(Ge):(Re=cl(U)?lv:_s.current,pe=U.contextTypes,Ge=(pe=pe!=null)?gd(R,Re):ph),U=new U(ee,Ge),R.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=ly,R.stateNode=U,U._reactInternals=R,pe&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=Re,R.__reactInternalMemoizedMaskedChildContext=Ge),U}function ow(R,U,ee,pe){R=U.state,typeof U.componentWillReceiveProps=="function"&&U.componentWillReceiveProps(ee,pe),typeof U.UNSAFE_componentWillReceiveProps=="function"&&U.UNSAFE_componentWillReceiveProps(ee,pe),U.state!==R&&ly.enqueueReplaceState(U,U.state,null)}function sx(R,U,ee,pe){var Re=R.stateNode;Re.props=ee,Re.state=R.memoizedState,Re.refs=d5,g2(R);var Ge=U.contextType;typeof Ge=="object"&&Ge!==null?Re.context=hu(Ge):(Ge=cl(U)?lv:_s.current,Re.context=gd(R,Ge)),Re.state=R.memoizedState,Ge=U.getDerivedStateFromProps,typeof Ge=="function"&&(ox(R,U,Ge,ee),Re.state=R.memoizedState),typeof U.getDerivedStateFromProps=="function"||typeof Re.getSnapshotBeforeUpdate=="function"||typeof Re.UNSAFE_componentWillMount!="function"&&typeof Re.componentWillMount!="function"||(U=Re.state,typeof Re.componentWillMount=="function"&&Re.componentWillMount(),typeof Re.UNSAFE_componentWillMount=="function"&&Re.UNSAFE_componentWillMount(),U!==Re.state&&ly.enqueueReplaceState(Re,Re.state,null),Fg(R,ee,Re,pe),Re.state=R.memoizedState),typeof Re.componentDidMount=="function"&&(R.flags|=4194308)}function t0(R,U,ee){if(R=ee.ref,R!==null&&typeof R!="function"&&typeof R!="object"){if(ee._owner){if(ee=ee._owner,ee){if(ee.tag!==1)throw Error(xa(309));var pe=ee.stateNode}if(!pe)throw Error(xa(147,R));var Re=pe,Ge=""+R;return U!==null&&U.ref!==null&&typeof U.ref=="function"&&U.ref._stringRef===Ge?U.ref:(U=function(j){var H=Re.refs;H===d5&&(H=Re.refs={}),j===null?delete H[Ge]:H[Ge]=j},U._stringRef=Ge,U)}if(typeof R!="string")throw Error(xa(284));if(!ee._owner)throw Error(xa(290,R))}return R}function Gp(R,U){throw R=Object.prototype.toString.call(U),Error(xa(31,R==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":R))}function sw(R){var U=R._init;return U(R._payload)}function g5(R){function U(t,i){if(R){var n=t.deletions;n===null?(t.deletions=[i],t.flags|=16):n.push(i)}}function ee(t,i){if(!R)return null;for(;i!==null;)U(t,i),i=i.sibling;return null}function pe(t,i){for(t=new Map;i!==null;)i.key!==null?t.set(i.key,i):t.set(i.index,i),i=i.sibling;return t}function Re(t,i){return t=vh(t,i),t.index=0,t.sibling=null,t}function Ge(t,i,n){return t.index=n,R?(n=t.alternate,n!==null?(n=n.index,n<i?(t.flags|=2,i):n):(t.flags|=2,i)):(t.flags|=1048576,i)}function j(t){return R&&t.alternate===null&&(t.flags|=2),t}function H(t,i,n,u){return i===null||i.tag!==6?(i=Jm(n,t.mode,u),i.return=t,i):(i=Re(i,n),i.return=t,i)}function e(t,i,n,u){var f=n.type;return f===Kv?P(t,i,n.props.children,u,n.key):i!==null&&(i.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===eh&&sw(f)===i.type)?(u=Re(i,n.props),u.ref=t0(t,i,n),u.return=t,u):(u=gg(n.type,n.key,n.props,null,t.mode,u),u.ref=t0(t,i,n),u.return=t,u)}function g(t,i,n,u){return i===null||i.tag!==4||i.stateNode.containerInfo!==n.containerInfo||i.stateNode.implementation!==n.implementation?(i=$m(n,t.mode,u),i.return=t,i):(i=Re(i,n.children||[]),i.return=t,i)}function P(t,i,n,u,f){return i===null||i.tag!==7?(i=sv(n,t.mode,u,f),i.return=t,i):(i=Re(i,n),i.return=t,i)}function a(t,i,n){if(typeof i=="string"&&i!==""||typeof i=="number")return i=Jm(""+i,t.mode,n),i.return=t,i;if(typeof i=="object"&&i!==null){switch(i.$$typeof){case _p:return n=gg(i.type,i.key,i.props,null,t.mode,n),n.ref=t0(t,null,i),n.return=t,n;case Zv:return i=$m(i,t.mode,n),i.return=t,i;case eh:var u=i._init;return a(t,u(i._payload),n)}if(d0(i)||Jd(i))return i=sv(i,t.mode,n,null),i.return=t,i;Gp(t,i)}return null}function x(t,i,n,u){var f=i!==null?i.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return f!==null?null:H(t,i,""+n,u);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case _p:return n.key===f?e(t,i,n,u):null;case Zv:return n.key===f?g(t,i,n,u):null;case eh:return f=n._init,x(t,i,f(n._payload),u)}if(d0(n)||Jd(n))return f!==null?null:P(t,i,n,u,null);Gp(t,n)}return null}function M(t,i,n,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return t=t.get(n)||null,H(i,t,""+u,f);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case _p:return t=t.get(u.key===null?n:u.key)||null,e(i,t,u,f);case Zv:return t=t.get(u.key===null?n:u.key)||null,g(i,t,u,f);case eh:var l=u._init;return M(t,i,n,l(u._payload),f)}if(d0(u)||Jd(u))return t=t.get(n)||null,P(i,t,u,f,null);Gp(i,u)}return null}function v(t,i,n,u){for(var f=null,l=null,y=i,h=i=0,S=null;y!==null&&h<n.length;h++){y.index>h?(S=y,y=null):S=y.sibling;var c=x(t,y,n[h],u);if(c===null){y===null&&(y=S);break}R&&y&&c.alternate===null&&U(t,y),i=Ge(c,i,h),l===null?f=c:l.sibling=c,l=c,y=S}if(h===n.length)return ee(t,y),no&&ev(t,h),f;if(y===null){for(;h<n.length;h++)y=a(t,n[h],u),y!==null&&(i=Ge(y,i,h),l===null?f=y:l.sibling=y,l=y);return no&&ev(t,h),f}for(y=pe(t,y);h<n.length;h++)S=M(y,t,h,n[h],u),S!==null&&(R&&S.alternate!==null&&y.delete(S.key===null?h:S.key),i=Ge(S,i,h),l===null?f=S:l.sibling=S,l=S);return R&&y.forEach(function(o){return U(t,o)}),no&&ev(t,h),f}function p(t,i,n,u){var f=Jd(n);if(typeof f!="function")throw Error(xa(150));if(n=f.call(n),n==null)throw Error(xa(151));for(var l=f=null,y=i,h=i=0,S=null,c=n.next();y!==null&&!c.done;h++,c=n.next()){y.index>h?(S=y,y=null):S=y.sibling;var o=x(t,y,c.value,u);if(o===null){y===null&&(y=S);break}R&&y&&o.alternate===null&&U(t,y),i=Ge(o,i,h),l===null?f=o:l.sibling=o,l=o,y=S}if(c.done)return ee(t,y),no&&ev(t,h),f;if(y===null){for(;!c.done;h++,c=n.next())c=a(t,c.value,u),c!==null&&(i=Ge(c,i,h),l===null?f=c:l.sibling=c,l=c);return no&&ev(t,h),f}for(y=pe(t,y);!c.done;h++,c=n.next())c=M(y,t,h,c.value,u),c!==null&&(R&&c.alternate!==null&&y.delete(c.key===null?h:c.key),i=Ge(c,i,h),l===null?f=c:l.sibling=c,l=c);return R&&y.forEach(function(d){return U(t,d)}),no&&ev(t,h),f}function r(t,i,n,u){if(typeof n=="object"&&n!==null&&n.type===Kv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case _p:e:{for(var f=n.key,l=i;l!==null;){if(l.key===f){if(f=n.type,f===Kv){if(l.tag===7){ee(t,l.sibling),i=Re(l,n.props.children),i.return=t,t=i;break e}}else if(l.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===eh&&sw(f)===l.type){ee(t,l.sibling),i=Re(l,n.props),i.ref=t0(t,l,n),i.return=t,t=i;break e}ee(t,l);break}else U(t,l);l=l.sibling}n.type===Kv?(i=sv(n.props.children,t.mode,u,n.key),i.return=t,t=i):(u=gg(n.type,n.key,n.props,null,t.mode,u),u.ref=t0(t,i,n),u.return=t,t=u)}return j(t);case Zv:e:{for(l=n.key;i!==null;){if(i.key===l)if(i.tag===4&&i.stateNode.containerInfo===n.containerInfo&&i.stateNode.implementation===n.implementation){ee(t,i.sibling),i=Re(i,n.children||[]),i.return=t,t=i;break e}else{ee(t,i);break}else U(t,i);i=i.sibling}i=$m(n,t.mode,u),i.return=t,t=i}return j(t);case eh:return l=n._init,r(t,i,l(n._payload),u)}if(d0(n))return v(t,i,n,u);if(Jd(n))return p(t,i,n,u);Gp(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,i!==null&&i.tag===6?(ee(t,i.sibling),i=Re(i,n),i.return=t,t=i):(ee(t,i),i=Jm(n,t.mode,u),i.return=t,t=i),j(t)):ee(t,i)}return r}var md=g5(!0),y5=g5(!1),q0={},Ef=wh(q0),U0=wh(q0),V0=wh(q0);function av(R){if(R===q0)throw Error(xa(174));return R}function y2(R,U){switch(ji(V0,U),ji(U0,R),ji(Ef,q0),R=U.nodeType,R){case 9:case 11:U=(U=U.documentElement)?U.namespaceURI:B1(null,"");break;default:R=R===8?U.parentNode:U,U=R.namespaceURI||null,R=R.tagName,U=B1(U,R)}Ji(Ef),ji(Ef,U)}function xd(){Ji(Ef),Ji(U0),Ji(V0)}function m5(R){av(V0.current);var U=av(Ef.current),ee=B1(U,R.type);U!==ee&&(ji(U0,R),ji(Ef,ee))}function m2(R){U0.current===R&&(Ji(Ef),Ji(U0))}var po=wh(0);function Og(R){for(var U=R;U!==null;){if(U.tag===13){var ee=U.memoizedState;if(ee!==null&&(ee=ee.dehydrated,ee===null||ee.data==="$?"||ee.data==="$!"))return U}else if(U.tag===19&&U.memoizedProps.revealOrder!==void 0){if(U.flags&128)return U}else if(U.child!==null){U.child.return=U,U=U.child;continue}if(U===R)break;for(;U.sibling===null;){if(U.return===null||U.return===R)return null;U=U.return}U.sibling.return=U.return,U=U.sibling}return null}var Gm=[];function x2(){for(var R=0;R<Gm.length;R++)Gm[R]._workInProgressVersionPrimary=null;Gm.length=0}var cg=cc.ReactCurrentDispatcher,Wm=cc.ReactCurrentBatchConfig,fv=0,go=null,Wo=null,Qo=null,zg=!1,A0=!1,H0=0,IL=0;function Ls(){throw Error(xa(321))}function b2(R,U){if(U===null)return!1;for(var ee=0;ee<U.length&&ee<R.length;ee++)if(!Qu(R[ee],U[ee]))return!1;return!0}function w2(R,U,ee,pe,Re,Ge){if(fv=Ge,go=U,U.memoizedState=null,U.updateQueue=null,U.lanes=0,cg.current=R===null||R.memoizedState===null?OL:zL,R=ee(pe,Re),A0){Ge=0;do{if(A0=!1,H0=0,25<=Ge)throw Error(xa(301));Ge+=1,Qo=Wo=null,U.updateQueue=null,cg.current=NL,R=ee(pe,Re)}while(A0)}if(cg.current=Ng,U=Wo!==null&&Wo.next!==null,fv=0,Qo=Wo=go=null,zg=!1,U)throw Error(xa(300));return R}function T2(){var R=H0!==0;return H0=0,R}function Af(){var R={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qo===null?go.memoizedState=Qo=R:Qo=Qo.next=R,Qo}function vu(){if(Wo===null){var R=go.alternate;R=R!==null?R.memoizedState:null}else R=Wo.next;var U=Qo===null?go.memoizedState:Qo.next;if(U!==null)Qo=U,Wo=R;else{if(R===null)throw Error(xa(310));Wo=R,R={memoizedState:Wo.memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},Qo===null?go.memoizedState=Qo=R:Qo=Qo.next=R}return Qo}function j0(R,U){return typeof U=="function"?U(R):U}function Ym(R){var U=vu(),ee=U.queue;if(ee===null)throw Error(xa(311));ee.lastRenderedReducer=R;var pe=Wo,Re=pe.baseQueue,Ge=ee.pending;if(Ge!==null){if(Re!==null){var j=Re.next;Re.next=Ge.next,Ge.next=j}pe.baseQueue=Re=Ge,ee.pending=null}if(Re!==null){Ge=Re.next,pe=pe.baseState;var H=j=null,e=null,g=Ge;do{var P=g.lane;if((fv&P)===P)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),pe=g.hasEagerState?g.eagerState:R(pe,g.action);else{var a={lane:P,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(H=e=a,j=pe):e=e.next=a,go.lanes|=P,cv|=P}g=g.next}while(g!==null&&g!==Ge);e===null?j=pe:e.next=H,Qu(pe,U.memoizedState)||(ul=!0),U.memoizedState=pe,U.baseState=j,U.baseQueue=e,ee.lastRenderedState=pe}if(R=ee.interleaved,R!==null){Re=R;do Ge=Re.lane,go.lanes|=Ge,cv|=Ge,Re=Re.next;while(Re!==R)}else Re===null&&(ee.lanes=0);return[U.memoizedState,ee.dispatch]}function Xm(R){var U=vu(),ee=U.queue;if(ee===null)throw Error(xa(311));ee.lastRenderedReducer=R;var pe=ee.dispatch,Re=ee.pending,Ge=U.memoizedState;if(Re!==null){ee.pending=null;var j=Re=Re.next;do Ge=R(Ge,j.action),j=j.next;while(j!==Re);Qu(Ge,U.memoizedState)||(ul=!0),U.memoizedState=Ge,U.baseQueue===null&&(U.baseState=Ge),ee.lastRenderedState=Ge}return[Ge,pe]}function x5(){}function b5(R,U){var ee=go,pe=vu(),Re=U(),Ge=!Qu(pe.memoizedState,Re);if(Ge&&(pe.memoizedState=Re,ul=!0),pe=pe.queue,A2(A5.bind(null,ee,pe,R),[R]),pe.getSnapshot!==U||Ge||Qo!==null&&Qo.memoizedState.tag&1){if(ee.flags|=2048,G0(9,T5.bind(null,ee,pe,Re,U),void 0,null),qo===null)throw Error(xa(349));fv&30||w5(ee,U,Re)}return Re}function w5(R,U,ee){R.flags|=16384,R={getSnapshot:U,value:ee},U=go.updateQueue,U===null?(U={lastEffect:null,stores:null},go.updateQueue=U,U.stores=[R]):(ee=U.stores,ee===null?U.stores=[R]:ee.push(R))}function T5(R,U,ee,pe){U.value=ee,U.getSnapshot=pe,S5(U)&&M5(R)}function A5(R,U,ee){return ee(function(){S5(U)&&M5(R)})}function S5(R){var U=R.getSnapshot;R=R.value;try{var ee=U();return!Qu(R,ee)}catch{return!0}}function M5(R){var U=uc(R,1);U!==null&&$u(U,R,1,-1)}function lw(R){var U=Af();return typeof R=="function"&&(R=R()),U.memoizedState=U.baseState=R,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:R},U.queue=R,R=R.dispatch=FL.bind(null,go,R),[U.memoizedState,R]}function G0(R,U,ee,pe){return R={tag:R,create:U,destroy:ee,deps:pe,next:null},U=go.updateQueue,U===null?(U={lastEffect:null,stores:null},go.updateQueue=U,U.lastEffect=R.next=R):(ee=U.lastEffect,ee===null?U.lastEffect=R.next=R:(pe=ee.next,ee.next=R,R.next=pe,U.lastEffect=R)),R}function E5(){return vu().memoizedState}function hg(R,U,ee,pe){var Re=Af();go.flags|=R,Re.memoizedState=G0(1|U,ee,void 0,pe===void 0?null:pe)}function uy(R,U,ee,pe){var Re=vu();pe=pe===void 0?null:pe;var Ge=void 0;if(Wo!==null){var j=Wo.memoizedState;if(Ge=j.destroy,pe!==null&&b2(pe,j.deps)){Re.memoizedState=G0(U,ee,Ge,pe);return}}go.flags|=R,Re.memoizedState=G0(1|U,ee,Ge,pe)}function uw(R,U){return hg(8390656,8,R,U)}function A2(R,U){return uy(2048,8,R,U)}function C5(R,U){return uy(4,2,R,U)}function L5(R,U){return uy(4,4,R,U)}function P5(R,U){if(typeof U=="function")return R=R(),U(R),function(){U(null)};if(U!=null)return R=R(),U.current=R,function(){U.current=null}}function R5(R,U,ee){return ee=ee!=null?ee.concat([R]):null,uy(4,4,P5.bind(null,U,R),ee)}function S2(){}function D5(R,U){var ee=vu();U=U===void 0?null:U;var pe=ee.memoizedState;return pe!==null&&U!==null&&b2(U,pe[1])?pe[0]:(ee.memoizedState=[R,U],R)}function I5(R,U){var ee=vu();U=U===void 0?null:U;var pe=ee.memoizedState;return pe!==null&&U!==null&&b2(U,pe[1])?pe[0]:(R=R(),ee.memoizedState=[R,U],R)}function _5(R,U,ee){return fv&21?(Qu(ee,U)||(ee=OT(),go.lanes|=ee,cv|=ee,R.baseState=!0),U):(R.baseState&&(R.baseState=!1,ul=!0),R.memoizedState=ee)}function _L(R,U){var ee=Di;Di=ee!==0&&4>ee?ee:4,R(!0);var pe=Wm.transition;Wm.transition={};try{R(!1),U()}finally{Di=ee,Wm.transition=pe}}function k5(){return vu().memoizedState}function kL(R,U,ee){var pe=hh(R);if(ee={lane:pe,action:ee,hasEagerState:!1,eagerState:null,next:null},F5(R))O5(U,ee);else if(ee=h5(R,U,ee,pe),ee!==null){var Re=Ws();$u(ee,R,pe,Re),z5(ee,U,pe)}}function FL(R,U,ee){var pe=hh(R),Re={lane:pe,action:ee,hasEagerState:!1,eagerState:null,next:null};if(F5(R))O5(U,Re);else{var Ge=R.alternate;if(R.lanes===0&&(Ge===null||Ge.lanes===0)&&(Ge=U.lastRenderedReducer,Ge!==null))try{var j=U.lastRenderedState,H=Ge(j,ee);if(Re.hasEagerState=!0,Re.eagerState=H,Qu(H,j)){var e=U.interleaved;e===null?(Re.next=Re,p2(U)):(Re.next=e.next,e.next=Re),U.interleaved=Re;return}}catch{}finally{}ee=h5(R,U,Re,pe),ee!==null&&(Re=Ws(),$u(ee,R,pe,Re),z5(ee,U,pe))}}function F5(R){var U=R.alternate;return R===go||U!==null&&U===go}function O5(R,U){A0=zg=!0;var ee=R.pending;ee===null?U.next=U:(U.next=ee.next,ee.next=U),R.pending=U}function z5(R,U,ee){if(ee&4194240){var pe=U.lanes;pe&=R.pendingLanes,ee|=pe,U.lanes=ee,t2(R,ee)}}var Ng={readContext:hu,useCallback:Ls,useContext:Ls,useEffect:Ls,useImperativeHandle:Ls,useInsertionEffect:Ls,useLayoutEffect:Ls,useMemo:Ls,useReducer:Ls,useRef:Ls,useState:Ls,useDebugValue:Ls,useDeferredValue:Ls,useTransition:Ls,useMutableSource:Ls,useSyncExternalStore:Ls,useId:Ls,unstable_isNewReconciler:!1},OL={readContext:hu,useCallback:function(R,U){return Af().memoizedState=[R,U===void 0?null:U],R},useContext:hu,useEffect:uw,useImperativeHandle:function(R,U,ee){return ee=ee!=null?ee.concat([R]):null,hg(4194308,4,P5.bind(null,U,R),ee)},useLayoutEffect:function(R,U){return hg(4194308,4,R,U)},useInsertionEffect:function(R,U){return hg(4,2,R,U)},useMemo:function(R,U){var ee=Af();return U=U===void 0?null:U,R=R(),ee.memoizedState=[R,U],R},useReducer:function(R,U,ee){var pe=Af();return U=ee!==void 0?ee(U):U,pe.memoizedState=pe.baseState=U,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R,lastRenderedState:U},pe.queue=R,R=R.dispatch=kL.bind(null,go,R),[pe.memoizedState,R]},useRef:function(R){var U=Af();return R={current:R},U.memoizedState=R},useState:lw,useDebugValue:S2,useDeferredValue:function(R){return Af().memoizedState=R},useTransition:function(){var R=lw(!1),U=R[0];return R=_L.bind(null,R[1]),Af().memoizedState=R,[U,R]},useMutableSource:function(){},useSyncExternalStore:function(R,U,ee){var pe=go,Re=Af();if(no){if(ee===void 0)throw Error(xa(407));ee=ee()}else{if(ee=U(),qo===null)throw Error(xa(349));fv&30||w5(pe,U,ee)}Re.memoizedState=ee;var Ge={value:ee,getSnapshot:U};return Re.queue=Ge,uw(A5.bind(null,pe,Ge,R),[R]),pe.flags|=2048,G0(9,T5.bind(null,pe,Ge,ee,U),void 0,null),ee},useId:function(){var R=Af(),U=qo.identifierPrefix;if(no){var ee=nc,pe=rc;ee=(pe&~(1<<32-Ju(pe)-1)).toString(32)+ee,U=":"+U+"R"+ee,ee=H0++,0<ee&&(U+="H"+ee.toString(32)),U+=":"}else ee=IL++,U=":"+U+"r"+ee.toString(32)+":";return R.memoizedState=U},unstable_isNewReconciler:!1},zL={readContext:hu,useCallback:D5,useContext:hu,useEffect:A2,useImperativeHandle:R5,useInsertionEffect:C5,useLayoutEffect:L5,useMemo:I5,useReducer:Ym,useRef:E5,useState:function(){return Ym(j0)},useDebugValue:S2,useDeferredValue:function(R){var U=vu();return _5(U,Wo.memoizedState,R)},useTransition:function(){var R=Ym(j0)[0],U=vu().memoizedState;return[R,U]},useMutableSource:x5,useSyncExternalStore:b5,useId:k5,unstable_isNewReconciler:!1},NL={readContext:hu,useCallback:D5,useContext:hu,useEffect:A2,useImperativeHandle:R5,useInsertionEffect:C5,useLayoutEffect:L5,useMemo:I5,useReducer:Xm,useRef:E5,useState:function(){return Xm(j0)},useDebugValue:S2,useDeferredValue:function(R){var U=vu();return Wo===null?U.memoizedState=R:_5(U,Wo.memoizedState,R)},useTransition:function(){var R=Xm(j0)[0],U=vu().memoizedState;return[R,U]},useMutableSource:x5,useSyncExternalStore:b5,useId:k5,unstable_isNewReconciler:!1};function bd(R,U){try{var ee="",pe=U;do ee+=hC(pe),pe=pe.return;while(pe);var Re=ee}catch(Ge){Re=`
Error generating stack: `+Ge.message+`
`+Ge.stack}return{value:R,source:U,stack:Re,digest:null}}function Zm(R,U,ee){return{value:R,source:null,stack:ee??null,digest:U??null}}function lx(R,U){try{console.error(U.value)}catch(ee){setTimeout(function(){throw ee})}}var BL=typeof WeakMap=="function"?WeakMap:Map;function N5(R,U,ee){ee=ic(-1,ee),ee.tag=3,ee.payload={element:null};var pe=U.value;return ee.callback=function(){Ug||(Ug=!0,mx=pe),lx(R,U)},ee}function B5(R,U,ee){ee=ic(-1,ee),ee.tag=3;var pe=R.type.getDerivedStateFromError;if(typeof pe=="function"){var Re=U.value;ee.payload=function(){return pe(Re)},ee.callback=function(){lx(R,U)}}var Ge=R.stateNode;return Ge!==null&&typeof Ge.componentDidCatch=="function"&&(ee.callback=function(){lx(R,U),typeof pe!="function"&&(ch===null?ch=new Set([this]):ch.add(this));var j=U.stack;this.componentDidCatch(U.value,{componentStack:j!==null?j:""})}),ee}function fw(R,U,ee){var pe=R.pingCache;if(pe===null){pe=R.pingCache=new BL;var Re=new Set;pe.set(U,Re)}else Re=pe.get(U),Re===void 0&&(Re=new Set,pe.set(U,Re));Re.has(ee)||(Re.add(ee),R=qL.bind(null,R,U,ee),U.then(R,R))}function cw(R){do{var U;if((U=R.tag===13)&&(U=R.memoizedState,U=U!==null?U.dehydrated!==null:!0),U)return R;R=R.return}while(R!==null);return null}function hw(R,U,ee,pe,Re){return R.mode&1?(R.flags|=65536,R.lanes=Re,R):(R===U?R.flags|=65536:(R.flags|=128,ee.flags|=131072,ee.flags&=-52805,ee.tag===1&&(ee.alternate===null?ee.tag=17:(U=ic(-1,1),U.tag=2,fh(ee,U,1))),ee.lanes|=1),R)}var UL=cc.ReactCurrentOwner,ul=!1;function Gs(R,U,ee,pe){U.child=R===null?y5(U,null,ee,pe):md(U,R.child,ee,pe)}function vw(R,U,ee,pe,Re){ee=ee.render;var Ge=U.ref;return hd(U,Re),pe=w2(R,U,ee,pe,Ge,Re),ee=T2(),R!==null&&!ul?(U.updateQueue=R.updateQueue,U.flags&=-2053,R.lanes&=~Re,fc(R,U,Re)):(no&&ee&&u2(U),U.flags|=1,Gs(R,U,pe,Re),U.child)}function dw(R,U,ee,pe,Re){if(R===null){var Ge=ee.type;return typeof Ge=="function"&&!I2(Ge)&&Ge.defaultProps===void 0&&ee.compare===null&&ee.defaultProps===void 0?(U.tag=15,U.type=Ge,U5(R,U,Ge,pe,Re)):(R=gg(ee.type,null,pe,U,U.mode,Re),R.ref=U.ref,R.return=U,U.child=R)}if(Ge=R.child,!(R.lanes&Re)){var j=Ge.memoizedProps;if(ee=ee.compare,ee=ee!==null?ee:O0,ee(j,pe)&&R.ref===U.ref)return fc(R,U,Re)}return U.flags|=1,R=vh(Ge,pe),R.ref=U.ref,R.return=U,U.child=R}function U5(R,U,ee,pe,Re){if(R!==null){var Ge=R.memoizedProps;if(O0(Ge,pe)&&R.ref===U.ref)if(ul=!1,U.pendingProps=pe=Ge,(R.lanes&Re)!==0)R.flags&131072&&(ul=!0);else return U.lanes=R.lanes,fc(R,U,Re)}return ux(R,U,ee,pe,Re)}function V5(R,U,ee){var pe=U.pendingProps,Re=pe.children,Ge=R!==null?R.memoizedState:null;if(pe.mode==="hidden")if(!(U.mode&1))U.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(id,Rl),Rl|=ee;else{if(!(ee&1073741824))return R=Ge!==null?Ge.baseLanes|ee:ee,U.lanes=U.childLanes=1073741824,U.memoizedState={baseLanes:R,cachePool:null,transitions:null},U.updateQueue=null,ji(id,Rl),Rl|=R,null;U.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe=Ge!==null?Ge.baseLanes:ee,ji(id,Rl),Rl|=pe}else Ge!==null?(pe=Ge.baseLanes|ee,U.memoizedState=null):pe=ee,ji(id,Rl),Rl|=pe;return Gs(R,U,Re,ee),U.child}function H5(R,U){var ee=U.ref;(R===null&&ee!==null||R!==null&&R.ref!==ee)&&(U.flags|=512,U.flags|=2097152)}function ux(R,U,ee,pe,Re){var Ge=cl(ee)?lv:_s.current;return Ge=gd(U,Ge),hd(U,Re),ee=w2(R,U,ee,pe,Ge,Re),pe=T2(),R!==null&&!ul?(U.updateQueue=R.updateQueue,U.flags&=-2053,R.lanes&=~Re,fc(R,U,Re)):(no&&pe&&u2(U),U.flags|=1,Gs(R,U,ee,Re),U.child)}function pw(R,U,ee,pe,Re){if(cl(ee)){var Ge=!0;Rg(U)}else Ge=!1;if(hd(U,Re),U.stateNode===null)vg(R,U),p5(U,ee,pe),sx(U,ee,pe,Re),pe=!0;else if(R===null){var j=U.stateNode,H=U.memoizedProps;j.props=H;var e=j.context,g=ee.contextType;typeof g=="object"&&g!==null?g=hu(g):(g=cl(ee)?lv:_s.current,g=gd(U,g));var P=ee.getDerivedStateFromProps,a=typeof P=="function"||typeof j.getSnapshotBeforeUpdate=="function";a||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(H!==pe||e!==g)&&ow(U,j,pe,g),th=!1;var x=U.memoizedState;j.state=x,Fg(U,pe,j,Re),e=U.memoizedState,H!==pe||x!==e||fl.current||th?(typeof P=="function"&&(ox(U,ee,P,pe),e=U.memoizedState),(H=th||iw(U,ee,H,pe,x,e,g))?(a||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(U.flags|=4194308)):(typeof j.componentDidMount=="function"&&(U.flags|=4194308),U.memoizedProps=pe,U.memoizedState=e),j.props=pe,j.state=e,j.context=g,pe=H):(typeof j.componentDidMount=="function"&&(U.flags|=4194308),pe=!1)}else{j=U.stateNode,v5(R,U),H=U.memoizedProps,g=U.type===U.elementType?H:Wu(U.type,H),j.props=g,a=U.pendingProps,x=j.context,e=ee.contextType,typeof e=="object"&&e!==null?e=hu(e):(e=cl(ee)?lv:_s.current,e=gd(U,e));var M=ee.getDerivedStateFromProps;(P=typeof M=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(H!==a||x!==e)&&ow(U,j,pe,e),th=!1,x=U.memoizedState,j.state=x,Fg(U,pe,j,Re);var v=U.memoizedState;H!==a||x!==v||fl.current||th?(typeof M=="function"&&(ox(U,ee,M,pe),v=U.memoizedState),(g=th||iw(U,ee,g,pe,x,v,e)||!1)?(P||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(pe,v,e),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(pe,v,e)),typeof j.componentDidUpdate=="function"&&(U.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(U.flags|=1024)):(typeof j.componentDidUpdate!="function"||H===R.memoizedProps&&x===R.memoizedState||(U.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||H===R.memoizedProps&&x===R.memoizedState||(U.flags|=1024),U.memoizedProps=pe,U.memoizedState=v),j.props=pe,j.state=v,j.context=e,pe=g):(typeof j.componentDidUpdate!="function"||H===R.memoizedProps&&x===R.memoizedState||(U.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||H===R.memoizedProps&&x===R.memoizedState||(U.flags|=1024),pe=!1)}return fx(R,U,ee,pe,Ge,Re)}function fx(R,U,ee,pe,Re,Ge){H5(R,U);var j=(U.flags&128)!==0;if(!pe&&!j)return Re&&ew(U,ee,!1),fc(R,U,Ge);pe=U.stateNode,UL.current=U;var H=j&&typeof ee.getDerivedStateFromError!="function"?null:pe.render();return U.flags|=1,R!==null&&j?(U.child=md(U,R.child,null,Ge),U.child=md(U,null,H,Ge)):Gs(R,U,H,Ge),U.memoizedState=pe.state,Re&&ew(U,ee,!0),U.child}function j5(R){var U=R.stateNode;U.pendingContext?q3(R,U.pendingContext,U.pendingContext!==U.context):U.context&&q3(R,U.context,!1),y2(R,U.containerInfo)}function gw(R,U,ee,pe,Re){return yd(),c2(Re),U.flags|=256,Gs(R,U,ee,pe),U.child}var cx={dehydrated:null,treeContext:null,retryLane:0};function hx(R){return{baseLanes:R,cachePool:null,transitions:null}}function G5(R,U,ee){var pe=U.pendingProps,Re=po.current,Ge=!1,j=(U.flags&128)!==0,H;if((H=j)||(H=R!==null&&R.memoizedState===null?!1:(Re&2)!==0),H?(Ge=!0,U.flags&=-129):(R===null||R.memoizedState!==null)&&(Re|=1),ji(po,Re&1),R===null)return ax(U),R=U.memoizedState,R!==null&&(R=R.dehydrated,R!==null)?(U.mode&1?R.data==="$!"?U.lanes=8:U.lanes=1073741824:U.lanes=1,null):(j=pe.children,R=pe.fallback,Ge?(pe=U.mode,Ge=U.child,j={mode:"hidden",children:j},!(pe&1)&&Ge!==null?(Ge.childLanes=0,Ge.pendingProps=j):Ge=hy(j,pe,0,null),R=sv(R,pe,ee,null),Ge.return=U,R.return=U,Ge.sibling=R,U.child=Ge,U.child.memoizedState=hx(ee),U.memoizedState=cx,R):M2(U,j));if(Re=R.memoizedState,Re!==null&&(H=Re.dehydrated,H!==null))return VL(R,U,j,pe,H,Re,ee);if(Ge){Ge=pe.fallback,j=U.mode,Re=R.child,H=Re.sibling;var e={mode:"hidden",children:pe.children};return!(j&1)&&U.child!==Re?(pe=U.child,pe.childLanes=0,pe.pendingProps=e,U.deletions=null):(pe=vh(Re,e),pe.subtreeFlags=Re.subtreeFlags&14680064),H!==null?Ge=vh(H,Ge):(Ge=sv(Ge,j,ee,null),Ge.flags|=2),Ge.return=U,pe.return=U,pe.sibling=Ge,U.child=pe,pe=Ge,Ge=U.child,j=R.child.memoizedState,j=j===null?hx(ee):{baseLanes:j.baseLanes|ee,cachePool:null,transitions:j.transitions},Ge.memoizedState=j,Ge.childLanes=R.childLanes&~ee,U.memoizedState=cx,pe}return Ge=R.child,R=Ge.sibling,pe=vh(Ge,{mode:"visible",children:pe.children}),!(U.mode&1)&&(pe.lanes=ee),pe.return=U,pe.sibling=null,R!==null&&(ee=U.deletions,ee===null?(U.deletions=[R],U.flags|=16):ee.push(R)),U.child=pe,U.memoizedState=null,pe}function M2(R,U){return U=hy({mode:"visible",children:U},R.mode,0,null),U.return=R,R.child=U}function Wp(R,U,ee,pe){return pe!==null&&c2(pe),md(U,R.child,null,ee),R=M2(U,U.pendingProps.children),R.flags|=2,U.memoizedState=null,R}function VL(R,U,ee,pe,Re,Ge,j){if(ee)return U.flags&256?(U.flags&=-257,pe=Zm(Error(xa(422))),Wp(R,U,j,pe)):U.memoizedState!==null?(U.child=R.child,U.flags|=128,null):(Ge=pe.fallback,Re=U.mode,pe=hy({mode:"visible",children:pe.children},Re,0,null),Ge=sv(Ge,Re,j,null),Ge.flags|=2,pe.return=U,Ge.return=U,pe.sibling=Ge,U.child=pe,U.mode&1&&md(U,R.child,null,j),U.child.memoizedState=hx(j),U.memoizedState=cx,Ge);if(!(U.mode&1))return Wp(R,U,j,null);if(Re.data==="$!"){if(pe=Re.nextSibling&&Re.nextSibling.dataset,pe)var H=pe.dgst;return pe=H,Ge=Error(xa(419)),pe=Zm(Ge,pe,void 0),Wp(R,U,j,pe)}if(H=(j&R.childLanes)!==0,ul||H){if(pe=qo,pe!==null){switch(j&-j){case 4:Re=2;break;case 16:Re=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Re=32;break;case 536870912:Re=268435456;break;default:Re=0}Re=Re&(pe.suspendedLanes|j)?0:Re,Re!==0&&Re!==Ge.retryLane&&(Ge.retryLane=Re,uc(R,Re),$u(pe,R,Re,-1))}return D2(),pe=Zm(Error(xa(421))),Wp(R,U,j,pe)}return Re.data==="$?"?(U.flags|=128,U.child=R.child,U=eP.bind(null,R),Re._reactRetry=U,null):(R=Ge.treeContext,Dl=uh(Re.nextSibling),Il=U,no=!0,Zu=null,R!==null&&(lu[uu++]=rc,lu[uu++]=nc,lu[uu++]=uv,rc=R.id,nc=R.overflow,uv=U),U=M2(U,pe.children),U.flags|=4096,U)}function yw(R,U,ee){R.lanes|=U;var pe=R.alternate;pe!==null&&(pe.lanes|=U),ix(R.return,U,ee)}function Km(R,U,ee,pe,Re){var Ge=R.memoizedState;Ge===null?R.memoizedState={isBackwards:U,rendering:null,renderingStartTime:0,last:pe,tail:ee,tailMode:Re}:(Ge.isBackwards=U,Ge.rendering=null,Ge.renderingStartTime=0,Ge.last=pe,Ge.tail=ee,Ge.tailMode=Re)}function W5(R,U,ee){var pe=U.pendingProps,Re=pe.revealOrder,Ge=pe.tail;if(Gs(R,U,pe.children,ee),pe=po.current,pe&2)pe=pe&1|2,U.flags|=128;else{if(R!==null&&R.flags&128)e:for(R=U.child;R!==null;){if(R.tag===13)R.memoizedState!==null&&yw(R,ee,U);else if(R.tag===19)yw(R,ee,U);else if(R.child!==null){R.child.return=R,R=R.child;continue}if(R===U)break e;for(;R.sibling===null;){if(R.return===null||R.return===U)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}pe&=1}if(ji(po,pe),!(U.mode&1))U.memoizedState=null;else switch(Re){case"forwards":for(ee=U.child,Re=null;ee!==null;)R=ee.alternate,R!==null&&Og(R)===null&&(Re=ee),ee=ee.sibling;ee=Re,ee===null?(Re=U.child,U.child=null):(Re=ee.sibling,ee.sibling=null),Km(U,!1,Re,ee,Ge);break;case"backwards":for(ee=null,Re=U.child,U.child=null;Re!==null;){if(R=Re.alternate,R!==null&&Og(R)===null){U.child=Re;break}R=Re.sibling,Re.sibling=ee,ee=Re,Re=R}Km(U,!0,ee,null,Ge);break;case"together":Km(U,!1,null,null,void 0);break;default:U.memoizedState=null}return U.child}function vg(R,U){!(U.mode&1)&&R!==null&&(R.alternate=null,U.alternate=null,U.flags|=2)}function fc(R,U,ee){if(R!==null&&(U.dependencies=R.dependencies),cv|=U.lanes,!(ee&U.childLanes))return null;if(R!==null&&U.child!==R.child)throw Error(xa(153));if(U.child!==null){for(R=U.child,ee=vh(R,R.pendingProps),U.child=ee,ee.return=U;R.sibling!==null;)R=R.sibling,ee=ee.sibling=vh(R,R.pendingProps),ee.return=U;ee.sibling=null}return U.child}function HL(R,U,ee){switch(U.tag){case 3:j5(U),yd();break;case 5:m5(U);break;case 1:cl(U.type)&&Rg(U);break;case 4:y2(U,U.stateNode.containerInfo);break;case 10:var pe=U.type._context,Re=U.memoizedProps.value;ji(_g,pe._currentValue),pe._currentValue=Re;break;case 13:if(pe=U.memoizedState,pe!==null)return pe.dehydrated!==null?(ji(po,po.current&1),U.flags|=128,null):ee&U.child.childLanes?G5(R,U,ee):(ji(po,po.current&1),R=fc(R,U,ee),R!==null?R.sibling:null);ji(po,po.current&1);break;case 19:if(pe=(ee&U.childLanes)!==0,R.flags&128){if(pe)return W5(R,U,ee);U.flags|=128}if(Re=U.memoizedState,Re!==null&&(Re.rendering=null,Re.tail=null,Re.lastEffect=null),ji(po,po.current),pe)break;return null;case 22:case 23:return U.lanes=0,V5(R,U,ee)}return fc(R,U,ee)}var Y5,vx,X5,Z5;Y5=function(R,U){for(var ee=U.child;ee!==null;){if(ee.tag===5||ee.tag===6)R.appendChild(ee.stateNode);else if(ee.tag!==4&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===U)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===U)return;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}};vx=function(){};X5=function(R,U,ee,pe){var Re=R.memoizedProps;if(Re!==pe){R=U.stateNode,av(Ef.current);var Ge=null;switch(ee){case"input":Re=F1(R,Re),pe=F1(R,pe),Ge=[];break;case"select":Re=yo({},Re,{value:void 0}),pe=yo({},pe,{value:void 0}),Ge=[];break;case"textarea":Re=N1(R,Re),pe=N1(R,pe),Ge=[];break;default:typeof Re.onClick!="function"&&typeof pe.onClick=="function"&&(R.onclick=Lg)}U1(ee,pe);var j;ee=null;for(g in Re)if(!pe.hasOwnProperty(g)&&Re.hasOwnProperty(g)&&Re[g]!=null)if(g==="style"){var H=Re[g];for(j in H)H.hasOwnProperty(j)&&(ee||(ee={}),ee[j]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(P0.hasOwnProperty(g)?Ge||(Ge=[]):(Ge=Ge||[]).push(g,null));for(g in pe){var e=pe[g];if(H=Re!=null?Re[g]:void 0,pe.hasOwnProperty(g)&&e!==H&&(e!=null||H!=null))if(g==="style")if(H){for(j in H)!H.hasOwnProperty(j)||e&&e.hasOwnProperty(j)||(ee||(ee={}),ee[j]="");for(j in e)e.hasOwnProperty(j)&&H[j]!==e[j]&&(ee||(ee={}),ee[j]=e[j])}else ee||(Ge||(Ge=[]),Ge.push(g,ee)),ee=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,H=H?H.__html:void 0,e!=null&&H!==e&&(Ge=Ge||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(Ge=Ge||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(P0.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&Ki("scroll",R),Ge||H===e||(Ge=[])):(Ge=Ge||[]).push(g,e))}ee&&(Ge=Ge||[]).push("style",ee);var g=Ge;(U.updateQueue=g)&&(U.flags|=4)}};Z5=function(R,U,ee,pe){ee!==pe&&(U.flags|=4)};function r0(R,U){if(!no)switch(R.tailMode){case"hidden":U=R.tail;for(var ee=null;U!==null;)U.alternate!==null&&(ee=U),U=U.sibling;ee===null?R.tail=null:ee.sibling=null;break;case"collapsed":ee=R.tail;for(var pe=null;ee!==null;)ee.alternate!==null&&(pe=ee),ee=ee.sibling;pe===null?U||R.tail===null?R.tail=null:R.tail.sibling=null:pe.sibling=null}}function Ps(R){var U=R.alternate!==null&&R.alternate.child===R.child,ee=0,pe=0;if(U)for(var Re=R.child;Re!==null;)ee|=Re.lanes|Re.childLanes,pe|=Re.subtreeFlags&14680064,pe|=Re.flags&14680064,Re.return=R,Re=Re.sibling;else for(Re=R.child;Re!==null;)ee|=Re.lanes|Re.childLanes,pe|=Re.subtreeFlags,pe|=Re.flags,Re.return=R,Re=Re.sibling;return R.subtreeFlags|=pe,R.childLanes=ee,U}function jL(R,U,ee){var pe=U.pendingProps;switch(f2(U),U.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(U),null;case 1:return cl(U.type)&&Pg(),Ps(U),null;case 3:return pe=U.stateNode,xd(),Ji(fl),Ji(_s),x2(),pe.pendingContext&&(pe.context=pe.pendingContext,pe.pendingContext=null),(R===null||R.child===null)&&(jp(U)?U.flags|=4:R===null||R.memoizedState.isDehydrated&&!(U.flags&256)||(U.flags|=1024,Zu!==null&&(wx(Zu),Zu=null))),vx(R,U),Ps(U),null;case 5:m2(U);var Re=av(V0.current);if(ee=U.type,R!==null&&U.stateNode!=null)X5(R,U,ee,pe,Re),R.ref!==U.ref&&(U.flags|=512,U.flags|=2097152);else{if(!pe){if(U.stateNode===null)throw Error(xa(166));return Ps(U),null}if(R=av(Ef.current),jp(U)){pe=U.stateNode,ee=U.type;var Ge=U.memoizedProps;switch(pe[Sf]=U,pe[B0]=Ge,R=(U.mode&1)!==0,ee){case"dialog":Ki("cancel",pe),Ki("close",pe);break;case"iframe":case"object":case"embed":Ki("load",pe);break;case"video":case"audio":for(Re=0;Re<g0.length;Re++)Ki(g0[Re],pe);break;case"source":Ki("error",pe);break;case"img":case"image":case"link":Ki("error",pe),Ki("load",pe);break;case"details":Ki("toggle",pe);break;case"input":E3(pe,Ge),Ki("invalid",pe);break;case"select":pe._wrapperState={wasMultiple:!!Ge.multiple},Ki("invalid",pe);break;case"textarea":L3(pe,Ge),Ki("invalid",pe)}U1(ee,Ge),Re=null;for(var j in Ge)if(Ge.hasOwnProperty(j)){var H=Ge[j];j==="children"?typeof H=="string"?pe.textContent!==H&&(Ge.suppressHydrationWarning!==!0&&Hp(pe.textContent,H,R),Re=["children",H]):typeof H=="number"&&pe.textContent!==""+H&&(Ge.suppressHydrationWarning!==!0&&Hp(pe.textContent,H,R),Re=["children",""+H]):P0.hasOwnProperty(j)&&H!=null&&j==="onScroll"&&Ki("scroll",pe)}switch(ee){case"input":kp(pe),C3(pe,Ge,!0);break;case"textarea":kp(pe),P3(pe);break;case"select":case"option":break;default:typeof Ge.onClick=="function"&&(pe.onclick=Lg)}pe=Re,U.updateQueue=pe,pe!==null&&(U.flags|=4)}else{j=Re.nodeType===9?Re:Re.ownerDocument,R==="http://www.w3.org/1999/xhtml"&&(R=wT(ee)),R==="http://www.w3.org/1999/xhtml"?ee==="script"?(R=j.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild)):typeof pe.is=="string"?R=j.createElement(ee,{is:pe.is}):(R=j.createElement(ee),ee==="select"&&(j=R,pe.multiple?j.multiple=!0:pe.size&&(j.size=pe.size))):R=j.createElementNS(R,ee),R[Sf]=U,R[B0]=pe,Y5(R,U,!1,!1),U.stateNode=R;e:{switch(j=V1(ee,pe),ee){case"dialog":Ki("cancel",R),Ki("close",R),Re=pe;break;case"iframe":case"object":case"embed":Ki("load",R),Re=pe;break;case"video":case"audio":for(Re=0;Re<g0.length;Re++)Ki(g0[Re],R);Re=pe;break;case"source":Ki("error",R),Re=pe;break;case"img":case"image":case"link":Ki("error",R),Ki("load",R),Re=pe;break;case"details":Ki("toggle",R),Re=pe;break;case"input":E3(R,pe),Re=F1(R,pe),Ki("invalid",R);break;case"option":Re=pe;break;case"select":R._wrapperState={wasMultiple:!!pe.multiple},Re=yo({},pe,{value:void 0}),Ki("invalid",R);break;case"textarea":L3(R,pe),Re=N1(R,pe),Ki("invalid",R);break;default:Re=pe}U1(ee,Re),H=Re;for(Ge in H)if(H.hasOwnProperty(Ge)){var e=H[Ge];Ge==="style"?ST(R,e):Ge==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&TT(R,e)):Ge==="children"?typeof e=="string"?(ee!=="textarea"||e!=="")&&R0(R,e):typeof e=="number"&&R0(R,""+e):Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&Ge!=="autoFocus"&&(P0.hasOwnProperty(Ge)?e!=null&&Ge==="onScroll"&&Ki("scroll",R):e!=null&&Kx(R,Ge,e,j))}switch(ee){case"input":kp(R),C3(R,pe,!1);break;case"textarea":kp(R),P3(R);break;case"option":pe.value!=null&&R.setAttribute("value",""+dh(pe.value));break;case"select":R.multiple=!!pe.multiple,Ge=pe.value,Ge!=null?ld(R,!!pe.multiple,Ge,!1):pe.defaultValue!=null&&ld(R,!!pe.multiple,pe.defaultValue,!0);break;default:typeof Re.onClick=="function"&&(R.onclick=Lg)}switch(ee){case"button":case"input":case"select":case"textarea":pe=!!pe.autoFocus;break e;case"img":pe=!0;break e;default:pe=!1}}pe&&(U.flags|=4)}U.ref!==null&&(U.flags|=512,U.flags|=2097152)}return Ps(U),null;case 6:if(R&&U.stateNode!=null)Z5(R,U,R.memoizedProps,pe);else{if(typeof pe!="string"&&U.stateNode===null)throw Error(xa(166));if(ee=av(V0.current),av(Ef.current),jp(U)){if(pe=U.stateNode,ee=U.memoizedProps,pe[Sf]=U,(Ge=pe.nodeValue!==ee)&&(R=Il,R!==null))switch(R.tag){case 3:Hp(pe.nodeValue,ee,(R.mode&1)!==0);break;case 5:R.memoizedProps.suppressHydrationWarning!==!0&&Hp(pe.nodeValue,ee,(R.mode&1)!==0)}Ge&&(U.flags|=4)}else pe=(ee.nodeType===9?ee:ee.ownerDocument).createTextNode(pe),pe[Sf]=U,U.stateNode=pe}return Ps(U),null;case 13:if(Ji(po),pe=U.memoizedState,R===null||R.memoizedState!==null&&R.memoizedState.dehydrated!==null){if(no&&Dl!==null&&U.mode&1&&!(U.flags&128))c5(),yd(),U.flags|=98560,Ge=!1;else if(Ge=jp(U),pe!==null&&pe.dehydrated!==null){if(R===null){if(!Ge)throw Error(xa(318));if(Ge=U.memoizedState,Ge=Ge!==null?Ge.dehydrated:null,!Ge)throw Error(xa(317));Ge[Sf]=U}else yd(),!(U.flags&128)&&(U.memoizedState=null),U.flags|=4;Ps(U),Ge=!1}else Zu!==null&&(wx(Zu),Zu=null),Ge=!0;if(!Ge)return U.flags&65536?U:null}return U.flags&128?(U.lanes=ee,U):(pe=pe!==null,pe!==(R!==null&&R.memoizedState!==null)&&pe&&(U.child.flags|=8192,U.mode&1&&(R===null||po.current&1?Yo===0&&(Yo=3):D2())),U.updateQueue!==null&&(U.flags|=4),Ps(U),null);case 4:return xd(),vx(R,U),R===null&&z0(U.stateNode.containerInfo),Ps(U),null;case 10:return d2(U.type._context),Ps(U),null;case 17:return cl(U.type)&&Pg(),Ps(U),null;case 19:if(Ji(po),Ge=U.memoizedState,Ge===null)return Ps(U),null;if(pe=(U.flags&128)!==0,j=Ge.rendering,j===null)if(pe)r0(Ge,!1);else{if(Yo!==0||R!==null&&R.flags&128)for(R=U.child;R!==null;){if(j=Og(R),j!==null){for(U.flags|=128,r0(Ge,!1),pe=j.updateQueue,pe!==null&&(U.updateQueue=pe,U.flags|=4),U.subtreeFlags=0,pe=ee,ee=U.child;ee!==null;)Ge=ee,R=pe,Ge.flags&=14680066,j=Ge.alternate,j===null?(Ge.childLanes=0,Ge.lanes=R,Ge.child=null,Ge.subtreeFlags=0,Ge.memoizedProps=null,Ge.memoizedState=null,Ge.updateQueue=null,Ge.dependencies=null,Ge.stateNode=null):(Ge.childLanes=j.childLanes,Ge.lanes=j.lanes,Ge.child=j.child,Ge.subtreeFlags=0,Ge.deletions=null,Ge.memoizedProps=j.memoizedProps,Ge.memoizedState=j.memoizedState,Ge.updateQueue=j.updateQueue,Ge.type=j.type,R=j.dependencies,Ge.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),ee=ee.sibling;return ji(po,po.current&1|2),U.child}R=R.sibling}Ge.tail!==null&&_o()>wd&&(U.flags|=128,pe=!0,r0(Ge,!1),U.lanes=4194304)}else{if(!pe)if(R=Og(j),R!==null){if(U.flags|=128,pe=!0,ee=R.updateQueue,ee!==null&&(U.updateQueue=ee,U.flags|=4),r0(Ge,!0),Ge.tail===null&&Ge.tailMode==="hidden"&&!j.alternate&&!no)return Ps(U),null}else 2*_o()-Ge.renderingStartTime>wd&&ee!==1073741824&&(U.flags|=128,pe=!0,r0(Ge,!1),U.lanes=4194304);Ge.isBackwards?(j.sibling=U.child,U.child=j):(ee=Ge.last,ee!==null?ee.sibling=j:U.child=j,Ge.last=j)}return Ge.tail!==null?(U=Ge.tail,Ge.rendering=U,Ge.tail=U.sibling,Ge.renderingStartTime=_o(),U.sibling=null,ee=po.current,ji(po,pe?ee&1|2:ee&1),U):(Ps(U),null);case 22:case 23:return R2(),pe=U.memoizedState!==null,R!==null&&R.memoizedState!==null!==pe&&(U.flags|=8192),pe&&U.mode&1?Rl&1073741824&&(Ps(U),U.subtreeFlags&6&&(U.flags|=8192)):Ps(U),null;case 24:return null;case 25:return null}throw Error(xa(156,U.tag))}function GL(R,U){switch(f2(U),U.tag){case 1:return cl(U.type)&&Pg(),R=U.flags,R&65536?(U.flags=R&-65537|128,U):null;case 3:return xd(),Ji(fl),Ji(_s),x2(),R=U.flags,R&65536&&!(R&128)?(U.flags=R&-65537|128,U):null;case 5:return m2(U),null;case 13:if(Ji(po),R=U.memoizedState,R!==null&&R.dehydrated!==null){if(U.alternate===null)throw Error(xa(340));yd()}return R=U.flags,R&65536?(U.flags=R&-65537|128,U):null;case 19:return Ji(po),null;case 4:return xd(),null;case 10:return d2(U.type._context),null;case 22:case 23:return R2(),null;case 24:return null;default:return null}}var Yp=!1,Is=!1,WL=typeof WeakSet=="function"?WeakSet:Set,ka=null;function ad(R,U){var ee=R.ref;if(ee!==null)if(typeof ee=="function")try{ee(null)}catch(pe){Ao(R,U,pe)}else ee.current=null}function dx(R,U,ee){try{ee()}catch(pe){Ao(R,U,pe)}}var mw=!1;function YL(R,U){if($1=Mg,R=QT(),l2(R)){if("selectionStart"in R)var ee={start:R.selectionStart,end:R.selectionEnd};else e:{ee=(ee=R.ownerDocument)&&ee.defaultView||window;var pe=ee.getSelection&&ee.getSelection();if(pe&&pe.rangeCount!==0){ee=pe.anchorNode;var Re=pe.anchorOffset,Ge=pe.focusNode;pe=pe.focusOffset;try{ee.nodeType,Ge.nodeType}catch{ee=null;break e}var j=0,H=-1,e=-1,g=0,P=0,a=R,x=null;t:for(;;){for(var M;a!==ee||Re!==0&&a.nodeType!==3||(H=j+Re),a!==Ge||pe!==0&&a.nodeType!==3||(e=j+pe),a.nodeType===3&&(j+=a.nodeValue.length),(M=a.firstChild)!==null;)x=a,a=M;for(;;){if(a===R)break t;if(x===ee&&++g===Re&&(H=j),x===Ge&&++P===pe&&(e=j),(M=a.nextSibling)!==null)break;a=x,x=a.parentNode}a=M}ee=H===-1||e===-1?null:{start:H,end:e}}else ee=null}ee=ee||{start:0,end:0}}else ee=null;for(Q1={focusedElem:R,selectionRange:ee},Mg=!1,ka=U;ka!==null;)if(U=ka,R=U.child,(U.subtreeFlags&1028)!==0&&R!==null)R.return=U,ka=R;else for(;ka!==null;){U=ka;try{var v=U.alternate;if(U.flags&1024)switch(U.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=U.stateNode,i=t.getSnapshotBeforeUpdate(U.elementType===U.type?p:Wu(U.type,p),r);t.__reactInternalSnapshotBeforeUpdate=i}break;case 3:var n=U.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xa(163))}}catch(u){Ao(U,U.return,u)}if(R=U.sibling,R!==null){R.return=U.return,ka=R;break}ka=U.return}return v=mw,mw=!1,v}function S0(R,U,ee){var pe=U.updateQueue;if(pe=pe!==null?pe.lastEffect:null,pe!==null){var Re=pe=pe.next;do{if((Re.tag&R)===R){var Ge=Re.destroy;Re.destroy=void 0,Ge!==void 0&&dx(U,ee,Ge)}Re=Re.next}while(Re!==pe)}}function fy(R,U){if(U=U.updateQueue,U=U!==null?U.lastEffect:null,U!==null){var ee=U=U.next;do{if((ee.tag&R)===R){var pe=ee.create;ee.destroy=pe()}ee=ee.next}while(ee!==U)}}function px(R){var U=R.ref;if(U!==null){var ee=R.stateNode;switch(R.tag){case 5:R=ee;break;default:R=ee}typeof U=="function"?U(R):U.current=R}}function K5(R){var U=R.alternate;U!==null&&(R.alternate=null,K5(U)),R.child=null,R.deletions=null,R.sibling=null,R.tag===5&&(U=R.stateNode,U!==null&&(delete U[Sf],delete U[B0],delete U[tx],delete U[LL],delete U[PL])),R.stateNode=null,R.return=null,R.dependencies=null,R.memoizedProps=null,R.memoizedState=null,R.pendingProps=null,R.stateNode=null,R.updateQueue=null}function J5(R){return R.tag===5||R.tag===3||R.tag===4}function xw(R){e:for(;;){for(;R.sibling===null;){if(R.return===null||J5(R.return))return null;R=R.return}for(R.sibling.return=R.return,R=R.sibling;R.tag!==5&&R.tag!==6&&R.tag!==18;){if(R.flags&2||R.child===null||R.tag===4)continue e;R.child.return=R,R=R.child}if(!(R.flags&2))return R.stateNode}}function gx(R,U,ee){var pe=R.tag;if(pe===5||pe===6)R=R.stateNode,U?ee.nodeType===8?ee.parentNode.insertBefore(R,U):ee.insertBefore(R,U):(ee.nodeType===8?(U=ee.parentNode,U.insertBefore(R,ee)):(U=ee,U.appendChild(R)),ee=ee._reactRootContainer,ee!=null||U.onclick!==null||(U.onclick=Lg));else if(pe!==4&&(R=R.child,R!==null))for(gx(R,U,ee),R=R.sibling;R!==null;)gx(R,U,ee),R=R.sibling}function yx(R,U,ee){var pe=R.tag;if(pe===5||pe===6)R=R.stateNode,U?ee.insertBefore(R,U):ee.appendChild(R);else if(pe!==4&&(R=R.child,R!==null))for(yx(R,U,ee),R=R.sibling;R!==null;)yx(R,U,ee),R=R.sibling}var ps=null,Yu=!1;function Qc(R,U,ee){for(ee=ee.child;ee!==null;)$5(R,U,ee),ee=ee.sibling}function $5(R,U,ee){if(Mf&&typeof Mf.onCommitFiberUnmount=="function")try{Mf.onCommitFiberUnmount(ry,ee)}catch{}switch(ee.tag){case 5:Is||ad(ee,U);case 6:var pe=ps,Re=Yu;ps=null,Qc(R,U,ee),ps=pe,Yu=Re,ps!==null&&(Yu?(R=ps,ee=ee.stateNode,R.nodeType===8?R.parentNode.removeChild(ee):R.removeChild(ee)):ps.removeChild(ee.stateNode));break;case 18:ps!==null&&(Yu?(R=ps,ee=ee.stateNode,R.nodeType===8?Hm(R.parentNode,ee):R.nodeType===1&&Hm(R,ee),k0(R)):Hm(ps,ee.stateNode));break;case 4:pe=ps,Re=Yu,ps=ee.stateNode.containerInfo,Yu=!0,Qc(R,U,ee),ps=pe,Yu=Re;break;case 0:case 11:case 14:case 15:if(!Is&&(pe=ee.updateQueue,pe!==null&&(pe=pe.lastEffect,pe!==null))){Re=pe=pe.next;do{var Ge=Re,j=Ge.destroy;Ge=Ge.tag,j!==void 0&&(Ge&2||Ge&4)&&dx(ee,U,j),Re=Re.next}while(Re!==pe)}Qc(R,U,ee);break;case 1:if(!Is&&(ad(ee,U),pe=ee.stateNode,typeof pe.componentWillUnmount=="function"))try{pe.props=ee.memoizedProps,pe.state=ee.memoizedState,pe.componentWillUnmount()}catch(H){Ao(ee,U,H)}Qc(R,U,ee);break;case 21:Qc(R,U,ee);break;case 22:ee.mode&1?(Is=(pe=Is)||ee.memoizedState!==null,Qc(R,U,ee),Is=pe):Qc(R,U,ee);break;default:Qc(R,U,ee)}}function bw(R){var U=R.updateQueue;if(U!==null){R.updateQueue=null;var ee=R.stateNode;ee===null&&(ee=R.stateNode=new WL),U.forEach(function(pe){var Re=tP.bind(null,R,pe);ee.has(pe)||(ee.add(pe),pe.then(Re,Re))})}}function Gu(R,U){var ee=U.deletions;if(ee!==null)for(var pe=0;pe<ee.length;pe++){var Re=ee[pe];try{var Ge=R,j=U,H=j;e:for(;H!==null;){switch(H.tag){case 5:ps=H.stateNode,Yu=!1;break e;case 3:ps=H.stateNode.containerInfo,Yu=!0;break e;case 4:ps=H.stateNode.containerInfo,Yu=!0;break e}H=H.return}if(ps===null)throw Error(xa(160));$5(Ge,j,Re),ps=null,Yu=!1;var e=Re.alternate;e!==null&&(e.return=null),Re.return=null}catch(g){Ao(Re,U,g)}}if(U.subtreeFlags&12854)for(U=U.child;U!==null;)Q5(U,R),U=U.sibling}function Q5(R,U){var ee=R.alternate,pe=R.flags;switch(R.tag){case 0:case 11:case 14:case 15:if(Gu(U,R),wf(R),pe&4){try{S0(3,R,R.return),fy(3,R)}catch(p){Ao(R,R.return,p)}try{S0(5,R,R.return)}catch(p){Ao(R,R.return,p)}}break;case 1:Gu(U,R),wf(R),pe&512&&ee!==null&&ad(ee,ee.return);break;case 5:if(Gu(U,R),wf(R),pe&512&&ee!==null&&ad(ee,ee.return),R.flags&32){var Re=R.stateNode;try{R0(Re,"")}catch(p){Ao(R,R.return,p)}}if(pe&4&&(Re=R.stateNode,Re!=null)){var Ge=R.memoizedProps,j=ee!==null?ee.memoizedProps:Ge,H=R.type,e=R.updateQueue;if(R.updateQueue=null,e!==null)try{H==="input"&&Ge.type==="radio"&&Ge.name!=null&&xT(Re,Ge),V1(H,j);var g=V1(H,Ge);for(j=0;j<e.length;j+=2){var P=e[j],a=e[j+1];P==="style"?ST(Re,a):P==="dangerouslySetInnerHTML"?TT(Re,a):P==="children"?R0(Re,a):Kx(Re,P,a,g)}switch(H){case"input":O1(Re,Ge);break;case"textarea":bT(Re,Ge);break;case"select":var x=Re._wrapperState.wasMultiple;Re._wrapperState.wasMultiple=!!Ge.multiple;var M=Ge.value;M!=null?ld(Re,!!Ge.multiple,M,!1):x!==!!Ge.multiple&&(Ge.defaultValue!=null?ld(Re,!!Ge.multiple,Ge.defaultValue,!0):ld(Re,!!Ge.multiple,Ge.multiple?[]:"",!1))}Re[B0]=Ge}catch(p){Ao(R,R.return,p)}}break;case 6:if(Gu(U,R),wf(R),pe&4){if(R.stateNode===null)throw Error(xa(162));Re=R.stateNode,Ge=R.memoizedProps;try{Re.nodeValue=Ge}catch(p){Ao(R,R.return,p)}}break;case 3:if(Gu(U,R),wf(R),pe&4&&ee!==null&&ee.memoizedState.isDehydrated)try{k0(U.containerInfo)}catch(p){Ao(R,R.return,p)}break;case 4:Gu(U,R),wf(R);break;case 13:Gu(U,R),wf(R),Re=R.child,Re.flags&8192&&(Ge=Re.memoizedState!==null,Re.stateNode.isHidden=Ge,!Ge||Re.alternate!==null&&Re.alternate.memoizedState!==null||(L2=_o())),pe&4&&bw(R);break;case 22:if(P=ee!==null&&ee.memoizedState!==null,R.mode&1?(Is=(g=Is)||P,Gu(U,R),Is=g):Gu(U,R),wf(R),pe&8192){if(g=R.memoizedState!==null,(R.stateNode.isHidden=g)&&!P&&R.mode&1)for(ka=R,P=R.child;P!==null;){for(a=ka=P;ka!==null;){switch(x=ka,M=x.child,x.tag){case 0:case 11:case 14:case 15:S0(4,x,x.return);break;case 1:ad(x,x.return);var v=x.stateNode;if(typeof v.componentWillUnmount=="function"){pe=x,ee=x.return;try{U=pe,v.props=U.memoizedProps,v.state=U.memoizedState,v.componentWillUnmount()}catch(p){Ao(pe,ee,p)}}break;case 5:ad(x,x.return);break;case 22:if(x.memoizedState!==null){Tw(a);continue}}M!==null?(M.return=x,ka=M):Tw(a)}P=P.sibling}e:for(P=null,a=R;;){if(a.tag===5){if(P===null){P=a;try{Re=a.stateNode,g?(Ge=Re.style,typeof Ge.setProperty=="function"?Ge.setProperty("display","none","important"):Ge.display="none"):(H=a.stateNode,e=a.memoizedProps.style,j=e!=null&&e.hasOwnProperty("display")?e.display:null,H.style.display=AT("display",j))}catch(p){Ao(R,R.return,p)}}}else if(a.tag===6){if(P===null)try{a.stateNode.nodeValue=g?"":a.memoizedProps}catch(p){Ao(R,R.return,p)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===R)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===R)break e;for(;a.sibling===null;){if(a.return===null||a.return===R)break e;P===a&&(P=null),a=a.return}P===a&&(P=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:Gu(U,R),wf(R),pe&4&&bw(R);break;case 21:break;default:Gu(U,R),wf(R)}}function wf(R){var U=R.flags;if(U&2){try{e:{for(var ee=R.return;ee!==null;){if(J5(ee)){var pe=ee;break e}ee=ee.return}throw Error(xa(160))}switch(pe.tag){case 5:var Re=pe.stateNode;pe.flags&32&&(R0(Re,""),pe.flags&=-33);var Ge=xw(R);yx(R,Ge,Re);break;case 3:case 4:var j=pe.stateNode.containerInfo,H=xw(R);gx(R,H,j);break;default:throw Error(xa(161))}}catch(e){Ao(R,R.return,e)}R.flags&=-3}U&4096&&(R.flags&=-4097)}function XL(R,U,ee){ka=R,q5(R)}function q5(R,U,ee){for(var pe=(R.mode&1)!==0;ka!==null;){var Re=ka,Ge=Re.child;if(Re.tag===22&&pe){var j=Re.memoizedState!==null||Yp;if(!j){var H=Re.alternate,e=H!==null&&H.memoizedState!==null||Is;H=Yp;var g=Is;if(Yp=j,(Is=e)&&!g)for(ka=Re;ka!==null;)j=ka,e=j.child,j.tag===22&&j.memoizedState!==null?Aw(Re):e!==null?(e.return=j,ka=e):Aw(Re);for(;Ge!==null;)ka=Ge,q5(Ge),Ge=Ge.sibling;ka=Re,Yp=H,Is=g}ww(R)}else Re.subtreeFlags&8772&&Ge!==null?(Ge.return=Re,ka=Ge):ww(R)}}function ww(R){for(;ka!==null;){var U=ka;if(U.flags&8772){var ee=U.alternate;try{if(U.flags&8772)switch(U.tag){case 0:case 11:case 15:Is||fy(5,U);break;case 1:var pe=U.stateNode;if(U.flags&4&&!Is)if(ee===null)pe.componentDidMount();else{var Re=U.elementType===U.type?ee.memoizedProps:Wu(U.type,ee.memoizedProps);pe.componentDidUpdate(Re,ee.memoizedState,pe.__reactInternalSnapshotBeforeUpdate)}var Ge=U.updateQueue;Ge!==null&&aw(U,Ge,pe);break;case 3:var j=U.updateQueue;if(j!==null){if(ee=null,U.child!==null)switch(U.child.tag){case 5:ee=U.child.stateNode;break;case 1:ee=U.child.stateNode}aw(U,j,ee)}break;case 5:var H=U.stateNode;if(ee===null&&U.flags&4){ee=H;var e=U.memoizedProps;switch(U.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&ee.focus();break;case"img":e.src&&(ee.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(U.memoizedState===null){var g=U.alternate;if(g!==null){var P=g.memoizedState;if(P!==null){var a=P.dehydrated;a!==null&&k0(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xa(163))}Is||U.flags&512&&px(U)}catch(x){Ao(U,U.return,x)}}if(U===R){ka=null;break}if(ee=U.sibling,ee!==null){ee.return=U.return,ka=ee;break}ka=U.return}}function Tw(R){for(;ka!==null;){var U=ka;if(U===R){ka=null;break}var ee=U.sibling;if(ee!==null){ee.return=U.return,ka=ee;break}ka=U.return}}function Aw(R){for(;ka!==null;){var U=ka;try{switch(U.tag){case 0:case 11:case 15:var ee=U.return;try{fy(4,U)}catch(e){Ao(U,ee,e)}break;case 1:var pe=U.stateNode;if(typeof pe.componentDidMount=="function"){var Re=U.return;try{pe.componentDidMount()}catch(e){Ao(U,Re,e)}}var Ge=U.return;try{px(U)}catch(e){Ao(U,Ge,e)}break;case 5:var j=U.return;try{px(U)}catch(e){Ao(U,j,e)}}}catch(e){Ao(U,U.return,e)}if(U===R){ka=null;break}var H=U.sibling;if(H!==null){H.return=U.return,ka=H;break}ka=U.return}}var ZL=Math.ceil,Bg=cc.ReactCurrentDispatcher,E2=cc.ReactCurrentOwner,cu=cc.ReactCurrentBatchConfig,Ti=0,qo=null,Uo=null,gs=0,Rl=0,id=wh(0),Yo=0,W0=null,cv=0,cy=0,C2=0,M0=null,ll=null,L2=0,wd=1/0,ec=null,Ug=!1,mx=null,ch=null,Xp=!1,ih=null,Vg=0,E0=0,xx=null,dg=-1,pg=0;function Ws(){return Ti&6?_o():dg!==-1?dg:dg=_o()}function hh(R){return R.mode&1?Ti&2&&gs!==0?gs&-gs:DL.transition!==null?(pg===0&&(pg=OT()),pg):(R=Di,R!==0||(R=window.event,R=R===void 0?16:jT(R.type)),R):1}function $u(R,U,ee,pe){if(50<E0)throw E0=0,xx=null,Error(xa(185));J0(R,ee,pe),(!(Ti&2)||R!==qo)&&(R===qo&&(!(Ti&2)&&(cy|=ee),Yo===4&&nh(R,gs)),hl(R,pe),ee===1&&Ti===0&&!(U.mode&1)&&(wd=_o()+500,sy&&Th()))}function hl(R,U){var ee=R.callbackNode;DC(R,U);var pe=Sg(R,R===qo?gs:0);if(pe===0)ee!==null&&I3(ee),R.callbackNode=null,R.callbackPriority=0;else if(U=pe&-pe,R.callbackPriority!==U){if(ee!=null&&I3(ee),U===1)R.tag===0?RL(Sw.bind(null,R)):l5(Sw.bind(null,R)),EL(function(){!(Ti&6)&&Th()}),ee=null;else{switch(zT(pe)){case 1:ee=e2;break;case 4:ee=kT;break;case 16:ee=Ag;break;case 536870912:ee=FT;break;default:ee=Ag}ee=sA(ee,eA.bind(null,R))}R.callbackPriority=U,R.callbackNode=ee}}function eA(R,U){if(dg=-1,pg=0,Ti&6)throw Error(xa(327));var ee=R.callbackNode;if(vd()&&R.callbackNode!==ee)return null;var pe=Sg(R,R===qo?gs:0);if(pe===0)return null;if(pe&30||pe&R.expiredLanes||U)U=Hg(R,pe);else{U=pe;var Re=Ti;Ti|=2;var Ge=rA();(qo!==R||gs!==U)&&(ec=null,wd=_o()+500,ov(R,U));do try{$L();break}catch(H){tA(R,H)}while(1);v2(),Bg.current=Ge,Ti=Re,Uo!==null?U=0:(qo=null,gs=0,U=Yo)}if(U!==0){if(U===2&&(Re=Y1(R),Re!==0&&(pe=Re,U=bx(R,Re))),U===1)throw ee=W0,ov(R,0),nh(R,pe),hl(R,_o()),ee;if(U===6)nh(R,pe);else{if(Re=R.current.alternate,!(pe&30)&&!KL(Re)&&(U=Hg(R,pe),U===2&&(Ge=Y1(R),Ge!==0&&(pe=Ge,U=bx(R,Ge))),U===1))throw ee=W0,ov(R,0),nh(R,pe),hl(R,_o()),ee;switch(R.finishedWork=Re,R.finishedLanes=pe,U){case 0:case 1:throw Error(xa(345));case 2:tv(R,ll,ec);break;case 3:if(nh(R,pe),(pe&130023424)===pe&&(U=L2+500-_o(),10<U)){if(Sg(R,0)!==0)break;if(Re=R.suspendedLanes,(Re&pe)!==pe){Ws(),R.pingedLanes|=R.suspendedLanes&Re;break}R.timeoutHandle=ex(tv.bind(null,R,ll,ec),U);break}tv(R,ll,ec);break;case 4:if(nh(R,pe),(pe&4194240)===pe)break;for(U=R.eventTimes,Re=-1;0<pe;){var j=31-Ju(pe);Ge=1<<j,j=U[j],j>Re&&(Re=j),pe&=~Ge}if(pe=Re,pe=_o()-pe,pe=(120>pe?120:480>pe?480:1080>pe?1080:1920>pe?1920:3e3>pe?3e3:4320>pe?4320:1960*ZL(pe/1960))-pe,10<pe){R.timeoutHandle=ex(tv.bind(null,R,ll,ec),pe);break}tv(R,ll,ec);break;case 5:tv(R,ll,ec);break;default:throw Error(xa(329))}}}return hl(R,_o()),R.callbackNode===ee?eA.bind(null,R):null}function bx(R,U){var ee=M0;return R.current.memoizedState.isDehydrated&&(ov(R,U).flags|=256),R=Hg(R,U),R!==2&&(U=ll,ll=ee,U!==null&&wx(U)),R}function wx(R){ll===null?ll=R:ll.push.apply(ll,R)}function KL(R){for(var U=R;;){if(U.flags&16384){var ee=U.updateQueue;if(ee!==null&&(ee=ee.stores,ee!==null))for(var pe=0;pe<ee.length;pe++){var Re=ee[pe],Ge=Re.getSnapshot;Re=Re.value;try{if(!Qu(Ge(),Re))return!1}catch{return!1}}}if(ee=U.child,U.subtreeFlags&16384&&ee!==null)ee.return=U,U=ee;else{if(U===R)break;for(;U.sibling===null;){if(U.return===null||U.return===R)return!0;U=U.return}U.sibling.return=U.return,U=U.sibling}}return!0}function nh(R,U){for(U&=~C2,U&=~cy,R.suspendedLanes|=U,R.pingedLanes&=~U,R=R.expirationTimes;0<U;){var ee=31-Ju(U),pe=1<<ee;R[ee]=-1,U&=~pe}}function Sw(R){if(Ti&6)throw Error(xa(327));vd();var U=Sg(R,0);if(!(U&1))return hl(R,_o()),null;var ee=Hg(R,U);if(R.tag!==0&&ee===2){var pe=Y1(R);pe!==0&&(U=pe,ee=bx(R,pe))}if(ee===1)throw ee=W0,ov(R,0),nh(R,U),hl(R,_o()),ee;if(ee===6)throw Error(xa(345));return R.finishedWork=R.current.alternate,R.finishedLanes=U,tv(R,ll,ec),hl(R,_o()),null}function P2(R,U){var ee=Ti;Ti|=1;try{return R(U)}finally{Ti=ee,Ti===0&&(wd=_o()+500,sy&&Th())}}function hv(R){ih!==null&&ih.tag===0&&!(Ti&6)&&vd();var U=Ti;Ti|=1;var ee=cu.transition,pe=Di;try{if(cu.transition=null,Di=1,R)return R()}finally{Di=pe,cu.transition=ee,Ti=U,!(Ti&6)&&Th()}}function R2(){Rl=id.current,Ji(id)}function ov(R,U){R.finishedWork=null,R.finishedLanes=0;var ee=R.timeoutHandle;if(ee!==-1&&(R.timeoutHandle=-1,ML(ee)),Uo!==null)for(ee=Uo.return;ee!==null;){var pe=ee;switch(f2(pe),pe.tag){case 1:pe=pe.type.childContextTypes,pe!=null&&Pg();break;case 3:xd(),Ji(fl),Ji(_s),x2();break;case 5:m2(pe);break;case 4:xd();break;case 13:Ji(po);break;case 19:Ji(po);break;case 10:d2(pe.type._context);break;case 22:case 23:R2()}ee=ee.return}if(qo=R,Uo=R=vh(R.current,null),gs=Rl=U,Yo=0,W0=null,C2=cy=cv=0,ll=M0=null,nv!==null){for(U=0;U<nv.length;U++)if(ee=nv[U],pe=ee.interleaved,pe!==null){ee.interleaved=null;var Re=pe.next,Ge=ee.pending;if(Ge!==null){var j=Ge.next;Ge.next=Re,pe.next=j}ee.pending=pe}nv=null}return R}function tA(R,U){do{var ee=Uo;try{if(v2(),cg.current=Ng,zg){for(var pe=go.memoizedState;pe!==null;){var Re=pe.queue;Re!==null&&(Re.pending=null),pe=pe.next}zg=!1}if(fv=0,Qo=Wo=go=null,A0=!1,H0=0,E2.current=null,ee===null||ee.return===null){Yo=1,W0=U,Uo=null;break}e:{var Ge=R,j=ee.return,H=ee,e=U;if(U=gs,H.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,P=H,a=P.tag;if(!(P.mode&1)&&(a===0||a===11||a===15)){var x=P.alternate;x?(P.updateQueue=x.updateQueue,P.memoizedState=x.memoizedState,P.lanes=x.lanes):(P.updateQueue=null,P.memoizedState=null)}var M=cw(j);if(M!==null){M.flags&=-257,hw(M,j,H,Ge,U),M.mode&1&&fw(Ge,g,U),U=M,e=g;var v=U.updateQueue;if(v===null){var p=new Set;p.add(e),U.updateQueue=p}else v.add(e);break e}else{if(!(U&1)){fw(Ge,g,U),D2();break e}e=Error(xa(426))}}else if(no&&H.mode&1){var r=cw(j);if(r!==null){!(r.flags&65536)&&(r.flags|=256),hw(r,j,H,Ge,U),c2(bd(e,H));break e}}Ge=e=bd(e,H),Yo!==4&&(Yo=2),M0===null?M0=[Ge]:M0.push(Ge),Ge=j;do{switch(Ge.tag){case 3:Ge.flags|=65536,U&=-U,Ge.lanes|=U;var t=N5(Ge,e,U);nw(Ge,t);break e;case 1:H=e;var i=Ge.type,n=Ge.stateNode;if(!(Ge.flags&128)&&(typeof i.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(ch===null||!ch.has(n)))){Ge.flags|=65536,U&=-U,Ge.lanes|=U;var u=B5(Ge,H,U);nw(Ge,u);break e}}Ge=Ge.return}while(Ge!==null)}aA(ee)}catch(f){U=f,Uo===ee&&ee!==null&&(Uo=ee=ee.return);continue}break}while(1)}function rA(){var R=Bg.current;return Bg.current=Ng,R===null?Ng:R}function D2(){(Yo===0||Yo===3||Yo===2)&&(Yo=4),qo===null||!(cv&268435455)&&!(cy&268435455)||nh(qo,gs)}function Hg(R,U){var ee=Ti;Ti|=2;var pe=rA();(qo!==R||gs!==U)&&(ec=null,ov(R,U));do try{JL();break}catch(Re){tA(R,Re)}while(1);if(v2(),Ti=ee,Bg.current=pe,Uo!==null)throw Error(xa(261));return qo=null,gs=0,Yo}function JL(){for(;Uo!==null;)nA(Uo)}function $L(){for(;Uo!==null&&!TC();)nA(Uo)}function nA(R){var U=oA(R.alternate,R,Rl);R.memoizedProps=R.pendingProps,U===null?aA(R):Uo=U,E2.current=null}function aA(R){var U=R;do{var ee=U.alternate;if(R=U.return,U.flags&32768){if(ee=GL(ee,U),ee!==null){ee.flags&=32767,Uo=ee;return}if(R!==null)R.flags|=32768,R.subtreeFlags=0,R.deletions=null;else{Yo=6,Uo=null;return}}else if(ee=jL(ee,U,Rl),ee!==null){Uo=ee;return}if(U=U.sibling,U!==null){Uo=U;return}Uo=U=R}while(U!==null);Yo===0&&(Yo=5)}function tv(R,U,ee){var pe=Di,Re=cu.transition;try{cu.transition=null,Di=1,QL(R,U,ee,pe)}finally{cu.transition=Re,Di=pe}return null}function QL(R,U,ee,pe){do vd();while(ih!==null);if(Ti&6)throw Error(xa(327));ee=R.finishedWork;var Re=R.finishedLanes;if(ee===null)return null;if(R.finishedWork=null,R.finishedLanes=0,ee===R.current)throw Error(xa(177));R.callbackNode=null,R.callbackPriority=0;var Ge=ee.lanes|ee.childLanes;if(IC(R,Ge),R===qo&&(Uo=qo=null,gs=0),!(ee.subtreeFlags&2064)&&!(ee.flags&2064)||Xp||(Xp=!0,sA(Ag,function(){return vd(),null})),Ge=(ee.flags&15990)!==0,ee.subtreeFlags&15990||Ge){Ge=cu.transition,cu.transition=null;var j=Di;Di=1;var H=Ti;Ti|=4,E2.current=null,YL(R,ee),Q5(ee,R),mL(Q1),Mg=!!$1,Q1=$1=null,R.current=ee,XL(ee),AC(),Ti=H,Di=j,cu.transition=Ge}else R.current=ee;if(Xp&&(Xp=!1,ih=R,Vg=Re),Ge=R.pendingLanes,Ge===0&&(ch=null),EC(ee.stateNode),hl(R,_o()),U!==null)for(pe=R.onRecoverableError,ee=0;ee<U.length;ee++)Re=U[ee],pe(Re.value,{componentStack:Re.stack,digest:Re.digest});if(Ug)throw Ug=!1,R=mx,mx=null,R;return Vg&1&&R.tag!==0&&vd(),Ge=R.pendingLanes,Ge&1?R===xx?E0++:(E0=0,xx=R):E0=0,Th(),null}function vd(){if(ih!==null){var R=zT(Vg),U=cu.transition,ee=Di;try{if(cu.transition=null,Di=16>R?16:R,ih===null)var pe=!1;else{if(R=ih,ih=null,Vg=0,Ti&6)throw Error(xa(331));var Re=Ti;for(Ti|=4,ka=R.current;ka!==null;){var Ge=ka,j=Ge.child;if(ka.flags&16){var H=Ge.deletions;if(H!==null){for(var e=0;e<H.length;e++){var g=H[e];for(ka=g;ka!==null;){var P=ka;switch(P.tag){case 0:case 11:case 15:S0(8,P,Ge)}var a=P.child;if(a!==null)a.return=P,ka=a;else for(;ka!==null;){P=ka;var x=P.sibling,M=P.return;if(K5(P),P===g){ka=null;break}if(x!==null){x.return=M,ka=x;break}ka=M}}}var v=Ge.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}ka=Ge}}if(Ge.subtreeFlags&2064&&j!==null)j.return=Ge,ka=j;else e:for(;ka!==null;){if(Ge=ka,Ge.flags&2048)switch(Ge.tag){case 0:case 11:case 15:S0(9,Ge,Ge.return)}var t=Ge.sibling;if(t!==null){t.return=Ge.return,ka=t;break e}ka=Ge.return}}var i=R.current;for(ka=i;ka!==null;){j=ka;var n=j.child;if(j.subtreeFlags&2064&&n!==null)n.return=j,ka=n;else e:for(j=i;ka!==null;){if(H=ka,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:fy(9,H)}}catch(f){Ao(H,H.return,f)}if(H===j){ka=null;break e}var u=H.sibling;if(u!==null){u.return=H.return,ka=u;break e}ka=H.return}}if(Ti=Re,Th(),Mf&&typeof Mf.onPostCommitFiberRoot=="function")try{Mf.onPostCommitFiberRoot(ry,R)}catch{}pe=!0}return pe}finally{Di=ee,cu.transition=U}}return!1}function Mw(R,U,ee){U=bd(ee,U),U=N5(R,U,1),R=fh(R,U,1),U=Ws(),R!==null&&(J0(R,1,U),hl(R,U))}function Ao(R,U,ee){if(R.tag===3)Mw(R,R,ee);else for(;U!==null;){if(U.tag===3){Mw(U,R,ee);break}else if(U.tag===1){var pe=U.stateNode;if(typeof U.type.getDerivedStateFromError=="function"||typeof pe.componentDidCatch=="function"&&(ch===null||!ch.has(pe))){R=bd(ee,R),R=B5(U,R,1),U=fh(U,R,1),R=Ws(),U!==null&&(J0(U,1,R),hl(U,R));break}}U=U.return}}function qL(R,U,ee){var pe=R.pingCache;pe!==null&&pe.delete(U),U=Ws(),R.pingedLanes|=R.suspendedLanes&ee,qo===R&&(gs&ee)===ee&&(Yo===4||Yo===3&&(gs&130023424)===gs&&500>_o()-L2?ov(R,0):C2|=ee),hl(R,U)}function iA(R,U){U===0&&(R.mode&1?(U=zp,zp<<=1,!(zp&130023424)&&(zp=4194304)):U=1);var ee=Ws();R=uc(R,U),R!==null&&(J0(R,U,ee),hl(R,ee))}function eP(R){var U=R.memoizedState,ee=0;U!==null&&(ee=U.retryLane),iA(R,ee)}function tP(R,U){var ee=0;switch(R.tag){case 13:var pe=R.stateNode,Re=R.memoizedState;Re!==null&&(ee=Re.retryLane);break;case 19:pe=R.stateNode;break;default:throw Error(xa(314))}pe!==null&&pe.delete(U),iA(R,ee)}var oA;oA=function(R,U,ee){if(R!==null)if(R.memoizedProps!==U.pendingProps||fl.current)ul=!0;else{if(!(R.lanes&ee)&&!(U.flags&128))return ul=!1,HL(R,U,ee);ul=!!(R.flags&131072)}else ul=!1,no&&U.flags&1048576&&u5(U,Ig,U.index);switch(U.lanes=0,U.tag){case 2:var pe=U.type;vg(R,U),R=U.pendingProps;var Re=gd(U,_s.current);hd(U,ee),Re=w2(null,U,pe,R,Re,ee);var Ge=T2();return U.flags|=1,typeof Re=="object"&&Re!==null&&typeof Re.render=="function"&&Re.$$typeof===void 0?(U.tag=1,U.memoizedState=null,U.updateQueue=null,cl(pe)?(Ge=!0,Rg(U)):Ge=!1,U.memoizedState=Re.state!==null&&Re.state!==void 0?Re.state:null,g2(U),Re.updater=ly,U.stateNode=Re,Re._reactInternals=U,sx(U,pe,R,ee),U=fx(null,U,pe,!0,Ge,ee)):(U.tag=0,no&&Ge&&u2(U),Gs(null,U,Re,ee),U=U.child),U;case 16:pe=U.elementType;e:{switch(vg(R,U),R=U.pendingProps,Re=pe._init,pe=Re(pe._payload),U.type=pe,Re=U.tag=nP(pe),R=Wu(pe,R),Re){case 0:U=ux(null,U,pe,R,ee);break e;case 1:U=pw(null,U,pe,R,ee);break e;case 11:U=vw(null,U,pe,R,ee);break e;case 14:U=dw(null,U,pe,Wu(pe.type,R),ee);break e}throw Error(xa(306,pe,""))}return U;case 0:return pe=U.type,Re=U.pendingProps,Re=U.elementType===pe?Re:Wu(pe,Re),ux(R,U,pe,Re,ee);case 1:return pe=U.type,Re=U.pendingProps,Re=U.elementType===pe?Re:Wu(pe,Re),pw(R,U,pe,Re,ee);case 3:e:{if(j5(U),R===null)throw Error(xa(387));pe=U.pendingProps,Ge=U.memoizedState,Re=Ge.element,v5(R,U),Fg(U,pe,null,ee);var j=U.memoizedState;if(pe=j.element,Ge.isDehydrated)if(Ge={element:pe,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},U.updateQueue.baseState=Ge,U.memoizedState=Ge,U.flags&256){Re=bd(Error(xa(423)),U),U=gw(R,U,pe,ee,Re);break e}else if(pe!==Re){Re=bd(Error(xa(424)),U),U=gw(R,U,pe,ee,Re);break e}else for(Dl=uh(U.stateNode.containerInfo.firstChild),Il=U,no=!0,Zu=null,ee=y5(U,null,pe,ee),U.child=ee;ee;)ee.flags=ee.flags&-3|4096,ee=ee.sibling;else{if(yd(),pe===Re){U=fc(R,U,ee);break e}Gs(R,U,pe,ee)}U=U.child}return U;case 5:return m5(U),R===null&&ax(U),pe=U.type,Re=U.pendingProps,Ge=R!==null?R.memoizedProps:null,j=Re.children,q1(pe,Re)?j=null:Ge!==null&&q1(pe,Ge)&&(U.flags|=32),H5(R,U),Gs(R,U,j,ee),U.child;case 6:return R===null&&ax(U),null;case 13:return G5(R,U,ee);case 4:return y2(U,U.stateNode.containerInfo),pe=U.pendingProps,R===null?U.child=md(U,null,pe,ee):Gs(R,U,pe,ee),U.child;case 11:return pe=U.type,Re=U.pendingProps,Re=U.elementType===pe?Re:Wu(pe,Re),vw(R,U,pe,Re,ee);case 7:return Gs(R,U,U.pendingProps,ee),U.child;case 8:return Gs(R,U,U.pendingProps.children,ee),U.child;case 12:return Gs(R,U,U.pendingProps.children,ee),U.child;case 10:e:{if(pe=U.type._context,Re=U.pendingProps,Ge=U.memoizedProps,j=Re.value,ji(_g,pe._currentValue),pe._currentValue=j,Ge!==null)if(Qu(Ge.value,j)){if(Ge.children===Re.children&&!fl.current){U=fc(R,U,ee);break e}}else for(Ge=U.child,Ge!==null&&(Ge.return=U);Ge!==null;){var H=Ge.dependencies;if(H!==null){j=Ge.child;for(var e=H.firstContext;e!==null;){if(e.context===pe){if(Ge.tag===1){e=ic(-1,ee&-ee),e.tag=2;var g=Ge.updateQueue;if(g!==null){g=g.shared;var P=g.pending;P===null?e.next=e:(e.next=P.next,P.next=e),g.pending=e}}Ge.lanes|=ee,e=Ge.alternate,e!==null&&(e.lanes|=ee),ix(Ge.return,ee,U),H.lanes|=ee;break}e=e.next}}else if(Ge.tag===10)j=Ge.type===U.type?null:Ge.child;else if(Ge.tag===18){if(j=Ge.return,j===null)throw Error(xa(341));j.lanes|=ee,H=j.alternate,H!==null&&(H.lanes|=ee),ix(j,ee,U),j=Ge.sibling}else j=Ge.child;if(j!==null)j.return=Ge;else for(j=Ge;j!==null;){if(j===U){j=null;break}if(Ge=j.sibling,Ge!==null){Ge.return=j.return,j=Ge;break}j=j.return}Ge=j}Gs(R,U,Re.children,ee),U=U.child}return U;case 9:return Re=U.type,pe=U.pendingProps.children,hd(U,ee),Re=hu(Re),pe=pe(Re),U.flags|=1,Gs(R,U,pe,ee),U.child;case 14:return pe=U.type,Re=Wu(pe,U.pendingProps),Re=Wu(pe.type,Re),dw(R,U,pe,Re,ee);case 15:return U5(R,U,U.type,U.pendingProps,ee);case 17:return pe=U.type,Re=U.pendingProps,Re=U.elementType===pe?Re:Wu(pe,Re),vg(R,U),U.tag=1,cl(pe)?(R=!0,Rg(U)):R=!1,hd(U,ee),p5(U,pe,Re),sx(U,pe,Re,ee),fx(null,U,pe,!0,R,ee);case 19:return W5(R,U,ee);case 22:return V5(R,U,ee)}throw Error(xa(156,U.tag))};function sA(R,U){return _T(R,U)}function rP(R,U,ee,pe){this.tag=R,this.key=ee,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=U,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=pe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fu(R,U,ee,pe){return new rP(R,U,ee,pe)}function I2(R){return R=R.prototype,!(!R||!R.isReactComponent)}function nP(R){if(typeof R=="function")return I2(R)?1:0;if(R!=null){if(R=R.$$typeof,R===$x)return 11;if(R===Qx)return 14}return 2}function vh(R,U){var ee=R.alternate;return ee===null?(ee=fu(R.tag,U,R.key,R.mode),ee.elementType=R.elementType,ee.type=R.type,ee.stateNode=R.stateNode,ee.alternate=R,R.alternate=ee):(ee.pendingProps=U,ee.type=R.type,ee.flags=0,ee.subtreeFlags=0,ee.deletions=null),ee.flags=R.flags&14680064,ee.childLanes=R.childLanes,ee.lanes=R.lanes,ee.child=R.child,ee.memoizedProps=R.memoizedProps,ee.memoizedState=R.memoizedState,ee.updateQueue=R.updateQueue,U=R.dependencies,ee.dependencies=U===null?null:{lanes:U.lanes,firstContext:U.firstContext},ee.sibling=R.sibling,ee.index=R.index,ee.ref=R.ref,ee}function gg(R,U,ee,pe,Re,Ge){var j=2;if(pe=R,typeof R=="function")I2(R)&&(j=1);else if(typeof R=="string")j=5;else e:switch(R){case Kv:return sv(ee.children,Re,Ge,U);case Jx:j=8,Re|=8;break;case D1:return R=fu(12,ee,U,Re|2),R.elementType=D1,R.lanes=Ge,R;case I1:return R=fu(13,ee,U,Re),R.elementType=I1,R.lanes=Ge,R;case _1:return R=fu(19,ee,U,Re),R.elementType=_1,R.lanes=Ge,R;case gT:return hy(ee,Re,Ge,U);default:if(typeof R=="object"&&R!==null)switch(R.$$typeof){case dT:j=10;break e;case pT:j=9;break e;case $x:j=11;break e;case Qx:j=14;break e;case eh:j=16,pe=null;break e}throw Error(xa(130,R==null?R:typeof R,""))}return U=fu(j,ee,U,Re),U.elementType=R,U.type=pe,U.lanes=Ge,U}function sv(R,U,ee,pe){return R=fu(7,R,pe,U),R.lanes=ee,R}function hy(R,U,ee,pe){return R=fu(22,R,pe,U),R.elementType=gT,R.lanes=ee,R.stateNode={isHidden:!1},R}function Jm(R,U,ee){return R=fu(6,R,null,U),R.lanes=ee,R}function $m(R,U,ee){return U=fu(4,R.children!==null?R.children:[],R.key,U),U.lanes=ee,U.stateNode={containerInfo:R.containerInfo,pendingChildren:null,implementation:R.implementation},U}function aP(R,U,ee,pe,Re){this.tag=U,this.containerInfo=R,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=pe,this.onRecoverableError=Re,this.mutableSourceEagerHydrationData=null}function _2(R,U,ee,pe,Re,Ge,j,H,e){return R=new aP(R,U,ee,H,e),U===1?(U=1,Ge===!0&&(U|=8)):U=0,Ge=fu(3,null,null,U),R.current=Ge,Ge.stateNode=R,Ge.memoizedState={element:pe,isDehydrated:ee,cache:null,transitions:null,pendingSuspenseBoundaries:null},g2(Ge),R}function iP(R,U,ee){var pe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zv,key:pe==null?null:""+pe,children:R,containerInfo:U,implementation:ee}}function lA(R){if(!R)return ph;R=R._reactInternals;e:{if(yv(R)!==R||R.tag!==1)throw Error(xa(170));var U=R;do{switch(U.tag){case 3:U=U.stateNode.context;break e;case 1:if(cl(U.type)){U=U.stateNode.__reactInternalMemoizedMergedChildContext;break e}}U=U.return}while(U!==null);throw Error(xa(171))}if(R.tag===1){var ee=R.type;if(cl(ee))return s5(R,ee,U)}return U}function uA(R,U,ee,pe,Re,Ge,j,H,e){return R=_2(ee,pe,!0,R,Re,Ge,j,H,e),R.context=lA(null),ee=R.current,pe=Ws(),Re=hh(ee),Ge=ic(pe,Re),Ge.callback=U??null,fh(ee,Ge,Re),R.current.lanes=Re,J0(R,Re,pe),hl(R,pe),R}function vy(R,U,ee,pe){var Re=U.current,Ge=Ws(),j=hh(Re);return ee=lA(ee),U.context===null?U.context=ee:U.pendingContext=ee,U=ic(Ge,j),U.payload={element:R},pe=pe===void 0?null:pe,pe!==null&&(U.callback=pe),R=fh(Re,U,j),R!==null&&($u(R,Re,j,Ge),fg(R,Re,j)),j}function jg(R){if(R=R.current,!R.child)return null;switch(R.child.tag){case 5:return R.child.stateNode;default:return R.child.stateNode}}function Ew(R,U){if(R=R.memoizedState,R!==null&&R.dehydrated!==null){var ee=R.retryLane;R.retryLane=ee!==0&&ee<U?ee:U}}function k2(R,U){Ew(R,U),(R=R.alternate)&&Ew(R,U)}function oP(){return null}var fA=typeof reportError=="function"?reportError:function(R){console.error(R)};function F2(R){this._internalRoot=R}dy.prototype.render=F2.prototype.render=function(R){var U=this._internalRoot;if(U===null)throw Error(xa(409));vy(R,U,null,null)};dy.prototype.unmount=F2.prototype.unmount=function(){var R=this._internalRoot;if(R!==null){this._internalRoot=null;var U=R.containerInfo;hv(function(){vy(null,R,null,null)}),U[lc]=null}};function dy(R){this._internalRoot=R}dy.prototype.unstable_scheduleHydration=function(R){if(R){var U=UT();R={blockedOn:null,target:R,priority:U};for(var ee=0;ee<rh.length&&U!==0&&U<rh[ee].priority;ee++);rh.splice(ee,0,R),ee===0&&HT(R)}};function O2(R){return!(!R||R.nodeType!==1&&R.nodeType!==9&&R.nodeType!==11)}function py(R){return!(!R||R.nodeType!==1&&R.nodeType!==9&&R.nodeType!==11&&(R.nodeType!==8||R.nodeValue!==" react-mount-point-unstable "))}function Cw(){}function sP(R,U,ee,pe,Re){if(Re){if(typeof pe=="function"){var Ge=pe;pe=function(){var g=jg(j);Ge.call(g)}}var j=uA(U,pe,R,0,null,!1,!1,"",Cw);return R._reactRootContainer=j,R[lc]=j.current,z0(R.nodeType===8?R.parentNode:R),hv(),j}for(;Re=R.lastChild;)R.removeChild(Re);if(typeof pe=="function"){var H=pe;pe=function(){var g=jg(e);H.call(g)}}var e=_2(R,0,!1,null,null,!1,!1,"",Cw);return R._reactRootContainer=e,R[lc]=e.current,z0(R.nodeType===8?R.parentNode:R),hv(function(){vy(U,e,ee,pe)}),e}function gy(R,U,ee,pe,Re){var Ge=ee._reactRootContainer;if(Ge){var j=Ge;if(typeof Re=="function"){var H=Re;Re=function(){var e=jg(j);H.call(e)}}vy(U,j,R,Re)}else j=sP(ee,U,R,Re,pe);return jg(j)}NT=function(R){switch(R.tag){case 3:var U=R.stateNode;if(U.current.memoizedState.isDehydrated){var ee=p0(U.pendingLanes);ee!==0&&(t2(U,ee|1),hl(U,_o()),!(Ti&6)&&(wd=_o()+500,Th()))}break;case 13:hv(function(){var pe=uc(R,1);if(pe!==null){var Re=Ws();$u(pe,R,1,Re)}}),k2(R,1)}};r2=function(R){if(R.tag===13){var U=uc(R,134217728);if(U!==null){var ee=Ws();$u(U,R,134217728,ee)}k2(R,134217728)}};BT=function(R){if(R.tag===13){var U=hh(R),ee=uc(R,U);if(ee!==null){var pe=Ws();$u(ee,R,U,pe)}k2(R,U)}};UT=function(){return Di};VT=function(R,U){var ee=Di;try{return Di=R,U()}finally{Di=ee}};j1=function(R,U,ee){switch(U){case"input":if(O1(R,ee),U=ee.name,ee.type==="radio"&&U!=null){for(ee=R;ee.parentNode;)ee=ee.parentNode;for(ee=ee.querySelectorAll("input[name="+JSON.stringify(""+U)+'][type="radio"]'),U=0;U<ee.length;U++){var pe=ee[U];if(pe!==R&&pe.form===R.form){var Re=oy(pe);if(!Re)throw Error(xa(90));mT(pe),O1(pe,Re)}}}break;case"textarea":bT(R,ee);break;case"select":U=ee.value,U!=null&&ld(R,!!ee.multiple,U,!1)}};CT=P2;LT=hv;var lP={usingClientEntryPoint:!1,Events:[Q0,qv,oy,MT,ET,P2]},n0={findFiberByHostInstance:rv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uP={bundleType:n0.bundleType,version:n0.version,rendererPackageName:n0.rendererPackageName,rendererConfig:n0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cc.ReactCurrentDispatcher,findHostInstanceByFiber:function(R){return R=DT(R),R===null?null:R.stateNode},findFiberByHostInstance:n0.findFiberByHostInstance||oP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{ry=Zp.inject(uP),Mf=Zp}catch{}}kl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lP;kl.createPortal=function(R,U){var ee=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O2(U))throw Error(xa(200));return iP(R,U,null,ee)};kl.createRoot=function(R,U){if(!O2(R))throw Error(xa(299));var ee=!1,pe="",Re=fA;return U!=null&&(U.unstable_strictMode===!0&&(ee=!0),U.identifierPrefix!==void 0&&(pe=U.identifierPrefix),U.onRecoverableError!==void 0&&(Re=U.onRecoverableError)),U=_2(R,1,!1,null,null,ee,!1,pe,Re),R[lc]=U.current,z0(R.nodeType===8?R.parentNode:R),new F2(U)};kl.findDOMNode=function(R){if(R==null)return null;if(R.nodeType===1)return R;var U=R._reactInternals;if(U===void 0)throw typeof R.render=="function"?Error(xa(188)):(R=Object.keys(R).join(","),Error(xa(268,R)));return R=DT(U),R=R===null?null:R.stateNode,R};kl.flushSync=function(R){return hv(R)};kl.hydrate=function(R,U,ee){if(!py(U))throw Error(xa(200));return gy(null,R,U,!0,ee)};kl.hydrateRoot=function(R,U,ee){if(!O2(R))throw Error(xa(405));var pe=ee!=null&&ee.hydratedSources||null,Re=!1,Ge="",j=fA;if(ee!=null&&(ee.unstable_strictMode===!0&&(Re=!0),ee.identifierPrefix!==void 0&&(Ge=ee.identifierPrefix),ee.onRecoverableError!==void 0&&(j=ee.onRecoverableError)),U=uA(U,null,R,1,ee??null,Re,!1,Ge,j),R[lc]=U.current,z0(R),pe)for(R=0;R<pe.length;R++)ee=pe[R],Re=ee._getVersion,Re=Re(ee._source),U.mutableSourceEagerHydrationData==null?U.mutableSourceEagerHydrationData=[ee,Re]:U.mutableSourceEagerHydrationData.push(ee,Re);return new dy(U)};kl.render=function(R,U,ee){if(!py(U))throw Error(xa(200));return gy(null,R,U,!1,ee)};kl.unmountComponentAtNode=function(R){if(!py(R))throw Error(xa(40));return R._reactRootContainer?(hv(function(){gy(null,null,R,!1,function(){R._reactRootContainer=null,R[lc]=null})}),!0):!1};kl.unstable_batchedUpdates=P2;kl.unstable_renderSubtreeIntoContainer=function(R,U,ee,pe){if(!py(ee))throw Error(xa(200));if(R==null||R._reactInternals===void 0)throw Error(xa(38));return gy(R,U,ee,!1,pe)};kl.version="18.2.0-next-9e3b772b8-20220608";function cA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cA)}catch(R){console.error(R)}}cA(),uT.exports=kl;var yy=uT.exports;const hA=Hx(yy),fP=Q4({__proto__:null,default:hA},[yy]);var Lw=yy;P1.createRoot=Lw.createRoot,P1.hydrateRoot=Lw.hydrateRoot;var vA={exports:{}},dA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=gn;function cP(R,U){return R===U&&(R!==0||1/R===1/U)||R!==R&&U!==U}var hP=typeof Object.is=="function"?Object.is:cP,vP=Td.useState,dP=Td.useEffect,pP=Td.useLayoutEffect,gP=Td.useDebugValue;function yP(R,U){var ee=U(),pe=vP({inst:{value:ee,getSnapshot:U}}),Re=pe[0].inst,Ge=pe[1];return pP(function(){Re.value=ee,Re.getSnapshot=U,Qm(Re)&&Ge({inst:Re})},[R,ee,U]),dP(function(){return Qm(Re)&&Ge({inst:Re}),R(function(){Qm(Re)&&Ge({inst:Re})})},[R]),gP(ee),ee}function Qm(R){var U=R.getSnapshot;R=R.value;try{var ee=U();return!hP(R,ee)}catch{return!0}}function mP(R,U){return U()}var xP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mP:yP;dA.useSyncExternalStore=Td.useSyncExternalStore!==void 0?Td.useSyncExternalStore:xP;vA.exports=dA;var bP=vA.exports,pA={exports:{}},gA={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=gn,wP=bP;function TP(R,U){return R===U&&(R!==0||1/R===1/U)||R!==R&&U!==U}var AP=typeof Object.is=="function"?Object.is:TP,SP=wP.useSyncExternalStore,MP=my.useRef,EP=my.useEffect,CP=my.useMemo,LP=my.useDebugValue;gA.useSyncExternalStoreWithSelector=function(R,U,ee,pe,Re){var Ge=MP(null);if(Ge.current===null){var j={hasValue:!1,value:null};Ge.current=j}else j=Ge.current;Ge=CP(function(){function e(M){if(!g){if(g=!0,P=M,M=pe(M),Re!==void 0&&j.hasValue){var v=j.value;if(Re(v,M))return a=v}return a=M}if(v=a,AP(P,M))return v;var p=pe(M);return Re!==void 0&&Re(v,p)?v:(P=M,a=p)}var g=!1,P,a,x=ee===void 0?null:ee;return[function(){return e(U())},x===null?void 0:function(){return e(x())}]},[U,ee,pe,Re]);var H=SP(R,Ge[0],Ge[1]);return EP(function(){j.hasValue=!0,j.value=H},[H]),LP(H),H};pA.exports=gA;var PP=pA.exports;function RP(R){R()}let yA=RP;const DP=R=>yA=R,IP=()=>yA,Pw=Symbol.for("react-redux-context"),Rw=typeof globalThis<"u"?globalThis:{};function _P(){var R;if(!gn.createContext)return{};const U=(R=Rw[Pw])!=null?R:Rw[Pw]=new Map;let ee=U.get(gn.createContext);return ee||(ee=gn.createContext(null),U.set(gn.createContext,ee)),ee}const gh=_P();function z2(R=gh){return function(){return gn.useContext(R)}}const mA=z2(),kP=()=>{throw new Error("uSES not initialized!")};let xA=kP;const FP=R=>{xA=R},OP=(R,U)=>R===U;function zP(R=gh){const U=R===gh?mA:z2(R);return function(pe,Re={}){const{equalityFn:Ge=OP,stabilityCheck:j=void 0,noopCheck:H=void 0}=typeof Re=="function"?{equalityFn:Re}:Re,{store:e,subscription:g,getServerState:P,stabilityCheck:a,noopCheck:x}=U();gn.useRef(!0);const M=gn.useCallback({[pe.name](p){return pe(p)}}[pe.name],[pe,a,j]),v=xA(g.addNestedSub,e.getState,P||e.getState,M,Ge);return gn.useDebugValue(v),v}}const $i=zP();var bA={exports:{}},Ii={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=typeof Symbol=="function"&&Symbol.for,N2=es?Symbol.for("react.element"):60103,B2=es?Symbol.for("react.portal"):60106,xy=es?Symbol.for("react.fragment"):60107,by=es?Symbol.for("react.strict_mode"):60108,wy=es?Symbol.for("react.profiler"):60114,Ty=es?Symbol.for("react.provider"):60109,Ay=es?Symbol.for("react.context"):60110,U2=es?Symbol.for("react.async_mode"):60111,Sy=es?Symbol.for("react.concurrent_mode"):60111,My=es?Symbol.for("react.forward_ref"):60112,Ey=es?Symbol.for("react.suspense"):60113,NP=es?Symbol.for("react.suspense_list"):60120,Cy=es?Symbol.for("react.memo"):60115,Ly=es?Symbol.for("react.lazy"):60116,BP=es?Symbol.for("react.block"):60121,UP=es?Symbol.for("react.fundamental"):60117,VP=es?Symbol.for("react.responder"):60118,HP=es?Symbol.for("react.scope"):60119;function Ol(R){if(typeof R=="object"&&R!==null){var U=R.$$typeof;switch(U){case N2:switch(R=R.type,R){case U2:case Sy:case xy:case wy:case by:case Ey:return R;default:switch(R=R&&R.$$typeof,R){case Ay:case My:case Ly:case Cy:case Ty:return R;default:return U}}case B2:return U}}}function wA(R){return Ol(R)===Sy}Ii.AsyncMode=U2;Ii.ConcurrentMode=Sy;Ii.ContextConsumer=Ay;Ii.ContextProvider=Ty;Ii.Element=N2;Ii.ForwardRef=My;Ii.Fragment=xy;Ii.Lazy=Ly;Ii.Memo=Cy;Ii.Portal=B2;Ii.Profiler=wy;Ii.StrictMode=by;Ii.Suspense=Ey;Ii.isAsyncMode=function(R){return wA(R)||Ol(R)===U2};Ii.isConcurrentMode=wA;Ii.isContextConsumer=function(R){return Ol(R)===Ay};Ii.isContextProvider=function(R){return Ol(R)===Ty};Ii.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===N2};Ii.isForwardRef=function(R){return Ol(R)===My};Ii.isFragment=function(R){return Ol(R)===xy};Ii.isLazy=function(R){return Ol(R)===Ly};Ii.isMemo=function(R){return Ol(R)===Cy};Ii.isPortal=function(R){return Ol(R)===B2};Ii.isProfiler=function(R){return Ol(R)===wy};Ii.isStrictMode=function(R){return Ol(R)===by};Ii.isSuspense=function(R){return Ol(R)===Ey};Ii.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===xy||R===Sy||R===wy||R===by||R===Ey||R===NP||typeof R=="object"&&R!==null&&(R.$$typeof===Ly||R.$$typeof===Cy||R.$$typeof===Ty||R.$$typeof===Ay||R.$$typeof===My||R.$$typeof===UP||R.$$typeof===VP||R.$$typeof===HP||R.$$typeof===BP)};Ii.typeOf=Ol;bA.exports=Ii;var jP=bA.exports,TA=jP,GP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},WP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AA={};AA[TA.ForwardRef]=GP;AA[TA.Memo]=WP;var Oi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2=Symbol.for("react.element"),H2=Symbol.for("react.portal"),Py=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),Iy=Symbol.for("react.provider"),_y=Symbol.for("react.context"),YP=Symbol.for("react.server_context"),ky=Symbol.for("react.forward_ref"),Fy=Symbol.for("react.suspense"),Oy=Symbol.for("react.suspense_list"),zy=Symbol.for("react.memo"),Ny=Symbol.for("react.lazy"),XP=Symbol.for("react.offscreen"),SA;SA=Symbol.for("react.module.reference");function du(R){if(typeof R=="object"&&R!==null){var U=R.$$typeof;switch(U){case V2:switch(R=R.type,R){case Py:case Dy:case Ry:case Fy:case Oy:return R;default:switch(R=R&&R.$$typeof,R){case YP:case _y:case ky:case Ny:case zy:case Iy:return R;default:return U}}case H2:return U}}}Oi.ContextConsumer=_y;Oi.ContextProvider=Iy;Oi.Element=V2;Oi.ForwardRef=ky;Oi.Fragment=Py;Oi.Lazy=Ny;Oi.Memo=zy;Oi.Portal=H2;Oi.Profiler=Dy;Oi.StrictMode=Ry;Oi.Suspense=Fy;Oi.SuspenseList=Oy;Oi.isAsyncMode=function(){return!1};Oi.isConcurrentMode=function(){return!1};Oi.isContextConsumer=function(R){return du(R)===_y};Oi.isContextProvider=function(R){return du(R)===Iy};Oi.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===V2};Oi.isForwardRef=function(R){return du(R)===ky};Oi.isFragment=function(R){return du(R)===Py};Oi.isLazy=function(R){return du(R)===Ny};Oi.isMemo=function(R){return du(R)===zy};Oi.isPortal=function(R){return du(R)===H2};Oi.isProfiler=function(R){return du(R)===Dy};Oi.isStrictMode=function(R){return du(R)===Ry};Oi.isSuspense=function(R){return du(R)===Fy};Oi.isSuspenseList=function(R){return du(R)===Oy};Oi.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===Py||R===Dy||R===Ry||R===Fy||R===Oy||R===XP||typeof R=="object"&&R!==null&&(R.$$typeof===Ny||R.$$typeof===zy||R.$$typeof===Iy||R.$$typeof===_y||R.$$typeof===ky||R.$$typeof===SA||R.getModuleId!==void 0)};Oi.typeOf=du;function ZP(){const R=IP();let U=null,ee=null;return{clear(){U=null,ee=null},notify(){R(()=>{let pe=U;for(;pe;)pe.callback(),pe=pe.next})},get(){let pe=[],Re=U;for(;Re;)pe.push(Re),Re=Re.next;return pe},subscribe(pe){let Re=!0,Ge=ee={callback:pe,next:null,prev:ee};return Ge.prev?Ge.prev.next=Ge:U=Ge,function(){!Re||U===null||(Re=!1,Ge.next?Ge.next.prev=Ge.prev:ee=Ge.prev,Ge.prev?Ge.prev.next=Ge.next:U=Ge.next)}}}}const Dw={notify(){},get:()=>[]};function KP(R,U){let ee,pe=Dw,Re=0,Ge=!1;function j(p){P();const r=pe.subscribe(p);let t=!1;return()=>{t||(t=!0,r(),a())}}function H(){pe.notify()}function e(){v.onStateChange&&v.onStateChange()}function g(){return Ge}function P(){Re++,ee||(ee=U?U.addNestedSub(e):R.subscribe(e),pe=ZP())}function a(){Re--,ee&&Re===0&&(ee(),ee=void 0,pe.clear(),pe=Dw)}function x(){Ge||(Ge=!0,P())}function M(){Ge&&(Ge=!1,a())}const v={addNestedSub:j,notifyNestedSubs:H,handleChangeWrapper:e,isSubscribed:g,trySubscribe:x,tryUnsubscribe:M,getListeners:()=>pe};return v}const JP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$P=JP?gn.useLayoutEffect:gn.useEffect;function QP({store:R,context:U,children:ee,serverState:pe,stabilityCheck:Re="once",noopCheck:Ge="once"}){const j=gn.useMemo(()=>{const g=KP(R);return{store:R,subscription:g,getServerState:pe?()=>pe:void 0,stabilityCheck:Re,noopCheck:Ge}},[R,pe,Re,Ge]),H=gn.useMemo(()=>R.getState(),[R]);$P(()=>{const{subscription:g}=j;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),H!==R.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[j,H]);const e=U||gh;return gn.createElement(e.Provider,{value:j},ee)}function MA(R=gh){const U=R===gh?mA:z2(R);return function(){const{store:pe}=U();return pe}}const qP=MA();function e7(R=gh){const U=R===gh?qP:MA(R);return function(){return U().dispatch}}const mo=e7();FP(PP.useSyncExternalStoreWithSelector);DP(yy.unstable_batchedUpdates);/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(R){for(var U=1;U<arguments.length;U++){var ee=arguments[U];for(var pe in ee)Object.prototype.hasOwnProperty.call(ee,pe)&&(R[pe]=ee[pe])}return R},So.apply(this,arguments)}var Do;(function(R){R.Pop="POP",R.Push="PUSH",R.Replace="REPLACE"})(Do||(Do={}));const Iw="popstate";function t7(R){R===void 0&&(R={});function U(pe,Re){let{pathname:Ge,search:j,hash:H}=pe.location;return Y0("",{pathname:Ge,search:j,hash:H},Re.state&&Re.state.usr||null,Re.state&&Re.state.key||"default")}function ee(pe,Re){return typeof Re=="string"?Re:dv(Re)}return n7(U,ee,null,R)}function fi(R,U){if(R===!1||R===null||typeof R>"u")throw new Error(U)}function vv(R,U){if(!R){typeof console<"u"&&console.warn(U);try{throw new Error(U)}catch{}}}function r7(){return Math.random().toString(36).substr(2,8)}function _w(R,U){return{usr:R.state,key:R.key,idx:U}}function Y0(R,U,ee,pe){return ee===void 0&&(ee=null),So({pathname:typeof R=="string"?R:R.pathname,search:"",hash:""},typeof U=="string"?hc(U):U,{state:ee,key:U&&U.key||pe||r7()})}function dv(R){let{pathname:U="/",search:ee="",hash:pe=""}=R;return ee&&ee!=="?"&&(U+=ee.charAt(0)==="?"?ee:"?"+ee),pe&&pe!=="#"&&(U+=pe.charAt(0)==="#"?pe:"#"+pe),U}function hc(R){let U={};if(R){let ee=R.indexOf("#");ee>=0&&(U.hash=R.substr(ee),R=R.substr(0,ee));let pe=R.indexOf("?");pe>=0&&(U.search=R.substr(pe),R=R.substr(0,pe)),R&&(U.pathname=R)}return U}function n7(R,U,ee,pe){pe===void 0&&(pe={});let{window:Re=document.defaultView,v5Compat:Ge=!1}=pe,j=Re.history,H=Do.Pop,e=null,g=P();g==null&&(g=0,j.replaceState(So({},j.state,{idx:g}),""));function P(){return(j.state||{idx:null}).idx}function a(){H=Do.Pop;let r=P(),t=r==null?null:r-g;g=r,e&&e({action:H,location:p.location,delta:t})}function x(r,t){H=Do.Push;let i=Y0(p.location,r,t);ee&&ee(i,r),g=P()+1;let n=_w(i,g),u=p.createHref(i);try{j.pushState(n,"",u)}catch(f){if(f instanceof DOMException&&f.name==="DataCloneError")throw f;Re.location.assign(u)}Ge&&e&&e({action:H,location:p.location,delta:1})}function M(r,t){H=Do.Replace;let i=Y0(p.location,r,t);ee&&ee(i,r),g=P();let n=_w(i,g),u=p.createHref(i);j.replaceState(n,"",u),Ge&&e&&e({action:H,location:p.location,delta:0})}function v(r){let t=Re.location.origin!=="null"?Re.location.origin:Re.location.href,i=typeof r=="string"?r:dv(r);return fi(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}let p={get action(){return H},get location(){return R(Re,j)},listen(r){if(e)throw new Error("A history only accepts one active listener");return Re.addEventListener(Iw,a),e=r,()=>{Re.removeEventListener(Iw,a),e=null}},createHref(r){return U(Re,r)},createURL:v,encodeLocation(r){let t=v(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:x,replace:M,go(r){return j.go(r)}};return p}var Io;(function(R){R.data="data",R.deferred="deferred",R.redirect="redirect",R.error="error"})(Io||(Io={}));const a7=new Set(["lazy","caseSensitive","path","id","index","children"]);function i7(R){return R.index===!0}function Tx(R,U,ee,pe){return ee===void 0&&(ee=[]),pe===void 0&&(pe={}),R.map((Re,Ge)=>{let j=[...ee,Ge],H=typeof Re.id=="string"?Re.id:j.join("-");if(fi(Re.index!==!0||!Re.children,"Cannot specify children on an index route"),fi(!pe[H],'Found a route id collision on id "'+H+`".  Route id's must be globally unique within Data Router usages`),i7(Re)){let e=So({},Re,U(Re),{id:H});return pe[H]=e,e}else{let e=So({},Re,U(Re),{id:H,children:void 0});return pe[H]=e,Re.children&&(e.children=Tx(Re.children,U,j,pe)),e}})}function od(R,U,ee){ee===void 0&&(ee="/");let pe=typeof U=="string"?hc(U):U,Re=yh(pe.pathname||"/",ee);if(Re==null)return null;let Ge=EA(R);s7(Ge);let j=null;for(let H=0;j==null&&H<Ge.length;++H)j=g7(Ge[H],m7(Re));return j}function o7(R,U){let{route:ee,pathname:pe,params:Re}=R;return{id:ee.id,pathname:pe,params:Re,data:U[ee.id],handle:ee.handle}}function EA(R,U,ee,pe){U===void 0&&(U=[]),ee===void 0&&(ee=[]),pe===void 0&&(pe="");let Re=(Ge,j,H)=>{let e={relativePath:H===void 0?Ge.path||"":H,caseSensitive:Ge.caseSensitive===!0,childrenIndex:j,route:Ge};e.relativePath.startsWith("/")&&(fi(e.relativePath.startsWith(pe),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+pe+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(pe.length));let g=oc([pe,e.relativePath]),P=ee.concat(e);Ge.children&&Ge.children.length>0&&(fi(Ge.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),EA(Ge.children,U,P,g)),!(Ge.path==null&&!Ge.index)&&U.push({path:g,score:d7(g,Ge.index),routesMeta:P})};return R.forEach((Ge,j)=>{var H;if(Ge.path===""||!((H=Ge.path)!=null&&H.includes("?")))Re(Ge,j);else for(let e of CA(Ge.path))Re(Ge,j,e)}),U}function CA(R){let U=R.split("/");if(U.length===0)return[];let[ee,...pe]=U,Re=ee.endsWith("?"),Ge=ee.replace(/\?$/,"");if(pe.length===0)return Re?[Ge,""]:[Ge];let j=CA(pe.join("/")),H=[];return H.push(...j.map(e=>e===""?Ge:[Ge,e].join("/"))),Re&&H.push(...j),H.map(e=>R.startsWith("/")&&e===""?"/":e)}function s7(R){R.sort((U,ee)=>U.score!==ee.score?ee.score-U.score:p7(U.routesMeta.map(pe=>pe.childrenIndex),ee.routesMeta.map(pe=>pe.childrenIndex)))}const l7=/^:\w+$/,u7=3,f7=2,c7=1,h7=10,v7=-2,kw=R=>R==="*";function d7(R,U){let ee=R.split("/"),pe=ee.length;return ee.some(kw)&&(pe+=v7),U&&(pe+=f7),ee.filter(Re=>!kw(Re)).reduce((Re,Ge)=>Re+(l7.test(Ge)?u7:Ge===""?c7:h7),pe)}function p7(R,U){return R.length===U.length&&R.slice(0,-1).every((pe,Re)=>pe===U[Re])?R[R.length-1]-U[U.length-1]:0}function g7(R,U){let{routesMeta:ee}=R,pe={},Re="/",Ge=[];for(let j=0;j<ee.length;++j){let H=ee[j],e=j===ee.length-1,g=Re==="/"?U:U.slice(Re.length)||"/",P=Ax({path:H.relativePath,caseSensitive:H.caseSensitive,end:e},g);if(!P)return null;Object.assign(pe,P.params);let a=H.route;Ge.push({params:pe,pathname:oc([Re,P.pathname]),pathnameBase:T7(oc([Re,P.pathnameBase])),route:a}),P.pathnameBase!=="/"&&(Re=oc([Re,P.pathnameBase]))}return Ge}function Ax(R,U){typeof R=="string"&&(R={path:R,caseSensitive:!1,end:!0});let[ee,pe]=y7(R.path,R.caseSensitive,R.end),Re=U.match(ee);if(!Re)return null;let Ge=Re[0],j=Ge.replace(/(.)\/+$/,"$1"),H=Re.slice(1);return{params:pe.reduce((g,P,a)=>{let{paramName:x,isOptional:M}=P;if(x==="*"){let p=H[a]||"";j=Ge.slice(0,Ge.length-p.length).replace(/(.)\/+$/,"$1")}const v=H[a];return M&&!v?g[x]=void 0:g[x]=x7(v||"",x),g},{}),pathname:Ge,pathnameBase:j,pattern:R}}function y7(R,U,ee){U===void 0&&(U=!1),ee===void 0&&(ee=!0),vv(R==="*"||!R.endsWith("*")||R.endsWith("/*"),'Route path "'+R+'" will be treated as if it were '+('"'+R.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+R.replace(/\*$/,"/*")+'".'));let pe=[],Re="^"+R.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(j,H,e)=>(pe.push({paramName:H,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return R.endsWith("*")?(pe.push({paramName:"*"}),Re+=R==="*"||R==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ee?Re+="\\/*$":R!==""&&R!=="/"&&(Re+="(?:(?=\\/|$))"),[new RegExp(Re,U?void 0:"i"),pe]}function m7(R){try{return decodeURI(R)}catch(U){return vv(!1,'The URL path "'+R+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+U+").")),R}}function x7(R,U){try{return decodeURIComponent(R)}catch(ee){return vv(!1,'The value for the URL param "'+U+'" will not be decoded because'+(' the string "'+R+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+ee+").")),R}}function yh(R,U){if(U==="/")return R;if(!R.toLowerCase().startsWith(U.toLowerCase()))return null;let ee=U.endsWith("/")?U.length-1:U.length,pe=R.charAt(ee);return pe&&pe!=="/"?null:R.slice(ee)||"/"}function b7(R,U){U===void 0&&(U="/");let{pathname:ee,search:pe="",hash:Re=""}=typeof R=="string"?hc(R):R;return{pathname:ee?ee.startsWith("/")?ee:w7(ee,U):U,search:A7(pe),hash:S7(Re)}}function w7(R,U){let ee=U.replace(/\/+$/,"").split("/");return R.split("/").forEach(Re=>{Re===".."?ee.length>1&&ee.pop():Re!=="."&&ee.push(Re)}),ee.length>1?ee.join("/"):"/"}function qm(R,U,ee,pe){return"Cannot include a '"+R+"' character in a manually specified "+("`to."+U+"` field ["+JSON.stringify(pe)+"].  Please separate it out to the ")+("`to."+ee+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LA(R){return R.filter((U,ee)=>ee===0||U.route.path&&U.route.path.length>0)}function By(R){return LA(R).map((U,ee)=>ee===R.length-1?U.pathname:U.pathnameBase)}function Uy(R,U,ee,pe){pe===void 0&&(pe=!1);let Re;typeof R=="string"?Re=hc(R):(Re=So({},R),fi(!Re.pathname||!Re.pathname.includes("?"),qm("?","pathname","search",Re)),fi(!Re.pathname||!Re.pathname.includes("#"),qm("#","pathname","hash",Re)),fi(!Re.search||!Re.search.includes("#"),qm("#","search","hash",Re)));let Ge=R===""||Re.pathname==="",j=Ge?"/":Re.pathname,H;if(j==null)H=ee;else if(pe){let a=U[U.length-1].replace(/^\//,"").split("/");if(j.startsWith("..")){let x=j.split("/");for(;x[0]==="..";)x.shift(),a.pop();Re.pathname=x.join("/")}H="/"+a.join("/")}else{let a=U.length-1;if(j.startsWith("..")){let x=j.split("/");for(;x[0]==="..";)x.shift(),a-=1;Re.pathname=x.join("/")}H=a>=0?U[a]:"/"}let e=b7(Re,H),g=j&&j!=="/"&&j.endsWith("/"),P=(Ge||j===".")&&ee.endsWith("/");return!e.pathname.endsWith("/")&&(g||P)&&(e.pathname+="/"),e}const oc=R=>R.join("/").replace(/\/\/+/g,"/"),T7=R=>R.replace(/\/+$/,"").replace(/^\/*/,"/"),A7=R=>!R||R==="?"?"":R.startsWith("?")?R:"?"+R,S7=R=>!R||R==="#"?"":R.startsWith("#")?R:"#"+R;class j2{constructor(U,ee,pe,Re){Re===void 0&&(Re=!1),this.status=U,this.statusText=ee||"",this.internal=Re,pe instanceof Error?(this.data=pe.toString(),this.error=pe):this.data=pe}}function PA(R){return R!=null&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.internal=="boolean"&&"data"in R}const RA=["post","put","patch","delete"],M7=new Set(RA),E7=["get",...RA],C7=new Set(E7),L7=new Set([301,302,303,307,308]),P7=new Set([307,308]),e1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},R7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},a0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},DA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D7=R=>({hasErrorBoundary:!!R.hasErrorBoundary}),IA="remix-router-transitions";function I7(R){const U=R.window?R.window:typeof window<"u"?window:void 0,ee=typeof U<"u"&&typeof U.document<"u"&&typeof U.document.createElement<"u",pe=!ee;fi(R.routes.length>0,"You must provide a non-empty routes array to createRouter");let Re;if(R.mapRouteProperties)Re=R.mapRouteProperties;else if(R.detectErrorBoundary){let We=R.detectErrorBoundary;Re=rt=>({hasErrorBoundary:We(rt)})}else Re=D7;let Ge={},j=Tx(R.routes,Re,void 0,Ge),H,e=R.basename||"/",g=So({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},R.future),P=null,a=new Set,x=null,M=null,v=null,p=R.hydrationData!=null,r=od(j,R.history.location,e),t=null;if(r==null){let We=su(404,{pathname:R.history.location.pathname}),{matches:rt,route:st}=Hw(j);r=rt,t={[st.id]:We}}let i=!r.some(We=>We.route.lazy)&&(!r.some(We=>We.route.loader)||R.hydrationData!=null),n,u={historyAction:R.history.action,location:R.history.location,matches:r,initialized:i,navigation:e1,restoreScrollPosition:R.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:R.hydrationData&&R.hydrationData.loaderData||{},actionData:R.hydrationData&&R.hydrationData.actionData||null,errors:R.hydrationData&&R.hydrationData.errors||t,fetchers:new Map,blockers:new Map},f=Do.Pop,l=!1,y,h=!1,S=new Map,c=null,o=!1,d=!1,w=[],A=[],C=new Map,m=0,E=-1,b=new Map,s=new Set,L=new Map,T=new Map,k=new Set,_=new Map,B=new Map,F=!1;function O(){if(P=R.history.listen(We=>{let{action:rt,location:st,delta:ht}=We;if(F){F=!1;return}vv(B.size===0||ht!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let vt=Ue({currentLocation:u.location,nextLocation:st,historyAction:rt});if(vt&&ht!=null){F=!0,R.history.go(ht*-1),Pe(vt,{state:"blocked",location:st,proceed(){Pe(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:st}),R.history.go(ht)},reset(){let At=new Map(u.blockers);At.set(vt,a0),V({blockers:At})}});return}return ne(rt,st)}),ee){j7(U,S);let We=()=>G7(U,S);U.addEventListener("pagehide",We),c=()=>U.removeEventListener("pagehide",We)}return u.initialized||ne(Do.Pop,u.location),n}function N(){P&&P(),c&&c(),a.clear(),y&&y.abort(),u.fetchers.forEach((We,rt)=>ce(rt)),u.blockers.forEach((We,rt)=>xe(rt))}function z(We){return a.add(We),()=>a.delete(We)}function V(We,rt){rt===void 0&&(rt={}),u=So({},u,We);let st=[],ht=[];g.v7_fetcherPersist&&u.fetchers.forEach((vt,At)=>{vt.state==="idle"&&(k.has(At)?ht.push(At):st.push(At))}),[...a].forEach(vt=>vt(u,{deletedFetchers:ht,unstable_viewTransitionOpts:rt.viewTransitionOpts,unstable_flushSync:rt.flushSync===!0})),g.v7_fetcherPersist&&(st.forEach(vt=>u.fetchers.delete(vt)),ht.forEach(vt=>ce(vt)))}function W(We,rt,st){var ht,vt;let{flushSync:At}=st===void 0?{}:st,et=u.actionData!=null&&u.navigation.formMethod!=null&&Xu(u.navigation.formMethod)&&u.navigation.state==="loading"&&((ht=We.state)==null?void 0:ht._isRedirect)!==!0,_e;rt.actionData?Object.keys(rt.actionData).length>0?_e=rt.actionData:_e=null:et?_e=u.actionData:_e=null;let Ve=rt.loaderData?Vw(u.loaderData,rt.loaderData,rt.matches||[],rt.errors):u.loaderData,Ze=u.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((be,me)=>Ze.set(me,a0)));let He=l===!0||u.navigation.formMethod!=null&&Xu(u.navigation.formMethod)&&((vt=We.state)==null?void 0:vt._isRedirect)!==!0;H&&(j=H,H=void 0),o||f===Do.Pop||(f===Do.Push?R.history.push(We,We.state):f===Do.Replace&&R.history.replace(We,We.state));let Ie;if(f===Do.Pop){let be=S.get(u.location.pathname);be&&be.has(We.pathname)?Ie={currentLocation:u.location,nextLocation:We}:S.has(We.pathname)&&(Ie={currentLocation:We,nextLocation:u.location})}else if(h){let be=S.get(u.location.pathname);be?be.add(We.pathname):(be=new Set([We.pathname]),S.set(u.location.pathname,be)),Ie={currentLocation:u.location,nextLocation:We}}V(So({},rt,{actionData:_e,loaderData:Ve,historyAction:f,location:We,initialized:!0,navigation:e1,revalidation:"idle",restoreScrollPosition:dt(We,rt.matches||u.matches),preventScrollReset:He,blockers:Ze}),{viewTransitionOpts:Ie,flushSync:At===!0}),f=Do.Pop,l=!1,h=!1,o=!1,d=!1,w=[],A=[]}async function $(We,rt){if(typeof We=="number"){R.history.go(We);return}let st=Sx(u.location,u.matches,e,g.v7_prependBasename,We,rt==null?void 0:rt.fromRouteId,rt==null?void 0:rt.relative),{path:ht,submission:vt,error:At}=Fw(g.v7_normalizeFormMethod,!1,st,rt),et=u.location,_e=Y0(u.location,ht,rt&&rt.state);_e=So({},_e,R.history.encodeLocation(_e));let Ve=rt&&rt.replace!=null?rt.replace:void 0,Ze=Do.Push;Ve===!0?Ze=Do.Replace:Ve===!1||vt!=null&&Xu(vt.formMethod)&&vt.formAction===u.location.pathname+u.location.search&&(Ze=Do.Replace);let He=rt&&"preventScrollReset"in rt?rt.preventScrollReset===!0:void 0,Ie=(rt&&rt.unstable_flushSync)===!0,be=Ue({currentLocation:et,nextLocation:_e,historyAction:Ze});if(be){Pe(be,{state:"blocked",location:_e,proceed(){Pe(be,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),$(We,rt)},reset(){let me=new Map(u.blockers);me.set(be,a0),V({blockers:me})}});return}return await ne(Ze,_e,{submission:vt,pendingError:At,preventScrollReset:He,replace:rt&&rt.replace,enableViewTransition:rt&&rt.unstable_viewTransition,flushSync:Ie})}function re(){if(Q(),V({revalidation:"loading"}),u.navigation.state!=="submitting"){if(u.navigation.state==="idle"){ne(u.historyAction,u.location,{startUninterruptedRevalidation:!0});return}ne(f||u.historyAction,u.navigation.location,{overrideNavigation:u.navigation})}}async function ne(We,rt,st){y&&y.abort(),y=null,f=We,o=(st&&st.startUninterruptedRevalidation)===!0,ut(u.location,u.matches),l=(st&&st.preventScrollReset)===!0,h=(st&&st.enableViewTransition)===!0;let ht=H||j,vt=st&&st.overrideNavigation,At=od(ht,rt,e),et=(st&&st.flushSync)===!0;if(!At){let me=su(404,{pathname:rt.pathname}),{matches:Me,route:Te}=Hw(ht);Be(),W(rt,{matches:Me,loaderData:{},errors:{[Te.id]:me}},{flushSync:et});return}if(u.initialized&&!d&&z7(u.location,rt)&&!(st&&st.submission&&Xu(st.submission.formMethod))){W(rt,{matches:At},{flushSync:et});return}y=new AbortController;let _e=o0(R.history,rt,y.signal,st&&st.submission),Ve,Ze;if(st&&st.pendingError)Ze={[C0(At).route.id]:st.pendingError};else if(st&&st.submission&&Xu(st.submission.formMethod)){let me=await ue(_e,rt,st.submission,At,{replace:st.replace,flushSync:et});if(me.shortCircuited)return;Ve=me.pendingActionData,Ze=me.pendingActionError,vt=t1(rt,st.submission),et=!1,_e=new Request(_e.url,{signal:_e.signal})}let{shortCircuited:He,loaderData:Ie,errors:be}=await J(_e,rt,At,vt,st&&st.submission,st&&st.fetcherSubmission,st&&st.replace,et,Ve,Ze);He||(y=null,W(rt,So({matches:At},Ve?{actionData:Ve}:{},{loaderData:Ie,errors:be})))}async function ue(We,rt,st,ht,vt){vt===void 0&&(vt={}),Q();let At=V7(rt,st);V({navigation:At},{flushSync:vt.flushSync===!0});let et,_e=Ex(ht,rt);if(!_e.route.action&&!_e.route.lazy)et={type:Io.error,error:su(405,{method:We.method,pathname:rt.pathname,routeId:_e.route.id})};else if(et=await i0("action",We,_e,ht,Ge,Re,e),We.signal.aborted)return{shortCircuited:!0};if(dd(et)){let Ve;return vt&&vt.replace!=null?Ve=vt.replace:Ve=et.location===u.location.pathname+u.location.search,await q(u,et,{submission:st,replace:Ve}),{shortCircuited:!0}}if(L0(et)){let Ve=C0(ht,_e.route.id);return(vt&&vt.replace)!==!0&&(f=Do.Push),{pendingActionData:{},pendingActionError:{[Ve.route.id]:et.error}}}if(iv(et))throw su(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:et.data}}}async function J(We,rt,st,ht,vt,At,et,_e,Ve,Ze){let He=ht||t1(rt,vt),Ie=vt||At||Ww(He),be=H||j,[me,Me]=Ow(R.history,u,st,Ie,rt,d,w,A,k,L,s,be,e,Ve,Ze);if(Be(Kt=>!(st&&st.some(mr=>mr.route.id===Kt))||me&&me.some(mr=>mr.route.id===Kt)),E=++m,me.length===0&&Me.length===0){let Kt=ke();return W(rt,So({matches:st,loaderData:{},errors:Ze||null},Ve?{actionData:Ve}:{},Kt?{fetchers:new Map(u.fetchers)}:{}),{flushSync:_e}),{shortCircuited:!0}}if(!o){Me.forEach(mr=>{let mt=u.fetchers.get(mr.key),Zt=s0(void 0,mt?mt.data:void 0);u.fetchers.set(mr.key,Zt)});let Kt=Ve||u.actionData;V(So({navigation:He},Kt?Object.keys(Kt).length===0?{actionData:null}:{actionData:Kt}:{},Me.length>0?{fetchers:new Map(u.fetchers)}:{}),{flushSync:_e})}Me.forEach(Kt=>{C.has(Kt.key)&&Ce(Kt.key),Kt.controller&&C.set(Kt.key,Kt.controller)});let Te=()=>Me.forEach(Kt=>Ce(Kt.key));y&&y.signal.addEventListener("abort",Te);let{results:Oe,loaderResults:Ke,fetcherResults:nt}=await se(u.matches,st,me,Me,We);if(We.signal.aborted)return{shortCircuited:!0};y&&y.signal.removeEventListener("abort",Te),Me.forEach(Kt=>C.delete(Kt.key));let pt=jw(Oe);if(pt){if(pt.idx>=me.length){let Kt=Me[pt.idx-me.length].key;s.add(Kt)}return await q(u,pt.result,{replace:et}),{shortCircuited:!0}}let{loaderData:yt,errors:Yt}=Uw(u,st,me,Ke,Ze,Me,nt,_);_.forEach((Kt,mr)=>{Kt.subscribe(mt=>{(mt||Kt.done)&&_.delete(mr)})});let Xt=ke(),St=we(E),kt=Xt||St||Me.length>0;return So({loaderData:yt,errors:Yt},kt?{fetchers:new Map(u.fetchers)}:{})}function X(We,rt,st,ht){if(pe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(We)&&Ce(We);let vt=(ht&&ht.unstable_flushSync)===!0,At=H||j,et=Sx(u.location,u.matches,e,g.v7_prependBasename,st,rt,ht==null?void 0:ht.relative),_e=od(At,et,e);if(!_e){le(We,rt,su(404,{pathname:et}),{flushSync:vt});return}let{path:Ve,submission:Ze,error:He}=Fw(g.v7_normalizeFormMethod,!0,et,ht);if(He){le(We,rt,He,{flushSync:vt});return}let Ie=Ex(_e,Ve);if(l=(ht&&ht.preventScrollReset)===!0,Ze&&Xu(Ze.formMethod)){oe(We,rt,Ve,Ie,_e,vt,Ze);return}L.set(We,{routeId:rt,path:Ve}),Y(We,rt,Ve,Ie,_e,vt,Ze)}async function oe(We,rt,st,ht,vt,At,et){if(Q(),L.delete(We),!ht.route.action&&!ht.route.lazy){let mt=su(405,{method:et.formMethod,pathname:st,routeId:rt});le(We,rt,mt,{flushSync:At});return}let _e=u.fetchers.get(We);K(We,H7(et,_e),{flushSync:At});let Ve=new AbortController,Ze=o0(R.history,st,Ve.signal,et);C.set(We,Ve);let He=m,Ie=await i0("action",Ze,ht,vt,Ge,Re,e);if(Ze.signal.aborted){C.get(We)===Ve&&C.delete(We);return}if(k.has(We)){K(We,qc(void 0));return}if(dd(Ie))if(C.delete(We),E>He){K(We,qc(void 0));return}else return s.add(We),K(We,s0(et)),q(u,Ie,{fetcherSubmission:et});if(L0(Ie)){le(We,rt,Ie.error);return}if(iv(Ie))throw su(400,{type:"defer-action"});let be=u.navigation.location||u.location,me=o0(R.history,be,Ve.signal),Me=H||j,Te=u.navigation.state!=="idle"?od(Me,u.navigation.location,e):u.matches;fi(Te,"Didn't find any matches after fetcher action");let Oe=++m;b.set(We,Oe);let Ke=s0(et,Ie.data);u.fetchers.set(We,Ke);let[nt,pt]=Ow(R.history,u,Te,et,be,d,w,A,k,L,s,Me,e,{[ht.route.id]:Ie.data},void 0);pt.filter(mt=>mt.key!==We).forEach(mt=>{let Zt=mt.key,Qt=u.fetchers.get(Zt),yr=s0(void 0,Qt?Qt.data:void 0);u.fetchers.set(Zt,yr),C.has(Zt)&&Ce(Zt),mt.controller&&C.set(Zt,mt.controller)}),V({fetchers:new Map(u.fetchers)});let yt=()=>pt.forEach(mt=>Ce(mt.key));Ve.signal.addEventListener("abort",yt);let{results:Yt,loaderResults:Xt,fetcherResults:St}=await se(u.matches,Te,nt,pt,me);if(Ve.signal.aborted)return;Ve.signal.removeEventListener("abort",yt),b.delete(We),C.delete(We),pt.forEach(mt=>C.delete(mt.key));let kt=jw(Yt);if(kt){if(kt.idx>=nt.length){let mt=pt[kt.idx-nt.length].key;s.add(mt)}return q(u,kt.result)}let{loaderData:Kt,errors:mr}=Uw(u,u.matches,nt,Xt,void 0,pt,St,_);if(u.fetchers.has(We)){let mt=qc(Ie.data);u.fetchers.set(We,mt)}we(Oe),u.navigation.state==="loading"&&Oe>E?(fi(f,"Expected pending action"),y&&y.abort(),W(u.navigation.location,{matches:Te,loaderData:Kt,errors:mr,fetchers:new Map(u.fetchers)})):(V({errors:mr,loaderData:Vw(u.loaderData,Kt,Te,mr),fetchers:new Map(u.fetchers)}),d=!1)}async function Y(We,rt,st,ht,vt,At,et){let _e=u.fetchers.get(We);K(We,s0(et,_e?_e.data:void 0),{flushSync:At});let Ve=new AbortController,Ze=o0(R.history,st,Ve.signal);C.set(We,Ve);let He=m,Ie=await i0("loader",Ze,ht,vt,Ge,Re,e);if(iv(Ie)&&(Ie=await FA(Ie,Ze.signal,!0)||Ie),C.get(We)===Ve&&C.delete(We),!Ze.signal.aborted){if(k.has(We)){K(We,qc(void 0));return}if(dd(Ie))if(E>He){K(We,qc(void 0));return}else{s.add(We),await q(u,Ie);return}if(L0(Ie)){le(We,rt,Ie.error);return}fi(!iv(Ie),"Unhandled fetcher deferred data"),K(We,qc(Ie.data))}}async function q(We,rt,st){let{submission:ht,fetcherSubmission:vt,replace:At}=st===void 0?{}:st;rt.revalidate&&(d=!0);let et=Y0(We.location,rt.location,{_isRedirect:!0});if(fi(et,"Expected a location on the redirect navigation"),ee){let be=!1;if(rt.reloadDocument)be=!0;else if(DA.test(rt.location)){const me=R.history.createURL(rt.location);be=me.origin!==U.location.origin||yh(me.pathname,e)==null}if(be){At?U.location.replace(rt.location):U.location.assign(rt.location);return}}y=null;let _e=At===!0?Do.Replace:Do.Push,{formMethod:Ve,formAction:Ze,formEncType:He}=We.navigation;!ht&&!vt&&Ve&&Ze&&He&&(ht=Ww(We.navigation));let Ie=ht||vt;if(P7.has(rt.status)&&Ie&&Xu(Ie.formMethod))await ne(_e,et,{submission:So({},Ie,{formAction:rt.location}),preventScrollReset:l});else{let be=t1(et,ht);await ne(_e,et,{overrideNavigation:be,fetcherSubmission:vt,preventScrollReset:l})}}async function se(We,rt,st,ht,vt){let At=await Promise.all([...st.map(Ve=>i0("loader",vt,Ve,rt,Ge,Re,e)),...ht.map(Ve=>Ve.matches&&Ve.match&&Ve.controller?i0("loader",o0(R.history,Ve.path,Ve.controller.signal),Ve.match,Ve.matches,Ge,Re,e):{type:Io.error,error:su(404,{pathname:Ve.path})})]),et=At.slice(0,st.length),_e=At.slice(st.length);return await Promise.all([Gw(We,st,et,et.map(()=>vt.signal),!1,u.loaderData),Gw(We,ht.map(Ve=>Ve.match),_e,ht.map(Ve=>Ve.controller?Ve.controller.signal:null),!0)]),{results:At,loaderResults:et,fetcherResults:_e}}function Q(){d=!0,w.push(...Be()),L.forEach((We,rt)=>{C.has(rt)&&(A.push(rt),Ce(rt))})}function K(We,rt,st){st===void 0&&(st={}),u.fetchers.set(We,rt),V({fetchers:new Map(u.fetchers)},{flushSync:(st&&st.flushSync)===!0})}function le(We,rt,st,ht){ht===void 0&&(ht={});let vt=C0(u.matches,rt);ce(We),V({errors:{[vt.route.id]:st},fetchers:new Map(u.fetchers)},{flushSync:(ht&&ht.flushSync)===!0})}function ie(We){return g.v7_fetcherPersist&&(T.set(We,(T.get(We)||0)+1),k.has(We)&&k.delete(We)),u.fetchers.get(We)||R7}function ce(We){let rt=u.fetchers.get(We);C.has(We)&&!(rt&&rt.state==="loading"&&b.has(We))&&Ce(We),L.delete(We),b.delete(We),s.delete(We),k.delete(We),u.fetchers.delete(We)}function ye(We){if(g.v7_fetcherPersist){let rt=(T.get(We)||0)-1;rt<=0?(T.delete(We),k.add(We)):T.set(We,rt)}else ce(We);V({fetchers:new Map(u.fetchers)})}function Ce(We){let rt=C.get(We);fi(rt,"Expected fetch controller: "+We),rt.abort(),C.delete(We)}function Ae(We){for(let rt of We){let st=ie(rt),ht=qc(st.data);u.fetchers.set(rt,ht)}}function ke(){let We=[],rt=!1;for(let st of s){let ht=u.fetchers.get(st);fi(ht,"Expected fetcher: "+st),ht.state==="loading"&&(s.delete(st),We.push(st),rt=!0)}return Ae(We),rt}function we(We){let rt=[];for(let[st,ht]of b)if(ht<We){let vt=u.fetchers.get(st);fi(vt,"Expected fetcher: "+st),vt.state==="loading"&&(Ce(st),b.delete(st),rt.push(st))}return Ae(rt),rt.length>0}function Ee(We,rt){let st=u.blockers.get(We)||a0;return B.get(We)!==rt&&B.set(We,rt),st}function xe(We){u.blockers.delete(We),B.delete(We)}function Pe(We,rt){let st=u.blockers.get(We)||a0;fi(st.state==="unblocked"&&rt.state==="blocked"||st.state==="blocked"&&rt.state==="blocked"||st.state==="blocked"&&rt.state==="proceeding"||st.state==="blocked"&&rt.state==="unblocked"||st.state==="proceeding"&&rt.state==="unblocked","Invalid blocker state transition: "+st.state+" -> "+rt.state);let ht=new Map(u.blockers);ht.set(We,rt),V({blockers:ht})}function Ue(We){let{currentLocation:rt,nextLocation:st,historyAction:ht}=We;if(B.size===0)return;B.size>1&&vv(!1,"A router only supports one blocker at a time");let vt=Array.from(B.entries()),[At,et]=vt[vt.length-1],_e=u.blockers.get(At);if(!(_e&&_e.state==="proceeding")&&et({currentLocation:rt,nextLocation:st,historyAction:ht}))return At}function Be(We){let rt=[];return _.forEach((st,ht)=>{(!We||We(ht))&&(st.cancel(),rt.push(ht),_.delete(ht))}),rt}function Ne(We,rt,st){if(x=We,v=rt,M=st||null,!p&&u.navigation===e1){p=!0;let ht=dt(u.location,u.matches);ht!=null&&V({restoreScrollPosition:ht})}return()=>{x=null,v=null,M=null}}function Xe(We,rt){return M&&M(We,rt.map(ht=>o7(ht,u.loaderData)))||We.key}function ut(We,rt){if(x&&v){let st=Xe(We,rt);x[st]=v()}}function dt(We,rt){if(x){let st=Xe(We,rt),ht=x[st];if(typeof ht=="number")return ht}return null}function at(We){Ge={},H=Tx(We,Re,void 0,Ge)}return n={get basename(){return e},get state(){return u},get routes(){return j},get window(){return U},initialize:O,subscribe:z,enableScrollRestoration:Ne,navigate:$,fetch:X,revalidate:re,createHref:We=>R.history.createHref(We),encodeLocation:We=>R.history.encodeLocation(We),getFetcher:ie,deleteFetcher:ye,dispose:N,getBlocker:Ee,deleteBlocker:xe,_internalFetchControllers:C,_internalActiveDeferreds:_,_internalSetRoutes:at},n}function _7(R){return R!=null&&("formData"in R&&R.formData!=null||"body"in R&&R.body!==void 0)}function Sx(R,U,ee,pe,Re,Ge,j){let H,e;if(Ge){H=[];for(let P of U)if(H.push(P),P.route.id===Ge){e=P;break}}else H=U,e=U[U.length-1];let g=Uy(Re||".",By(H),yh(R.pathname,ee)||R.pathname,j==="path");return Re==null&&(g.search=R.search,g.hash=R.hash),(Re==null||Re===""||Re===".")&&e&&e.route.index&&!G2(g.search)&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),pe&&ee!=="/"&&(g.pathname=g.pathname==="/"?ee:oc([ee,g.pathname])),dv(g)}function Fw(R,U,ee,pe){if(!pe||!_7(pe))return{path:ee};if(pe.formMethod&&!U7(pe.formMethod))return{path:ee,error:su(405,{method:pe.formMethod})};let Re=()=>({path:ee,error:su(400,{type:"invalid-body"})}),Ge=pe.formMethod||"get",j=R?Ge.toUpperCase():Ge.toLowerCase(),H=kA(ee);if(pe.body!==void 0){if(pe.formEncType==="text/plain"){if(!Xu(j))return Re();let x=typeof pe.body=="string"?pe.body:pe.body instanceof FormData||pe.body instanceof URLSearchParams?Array.from(pe.body.entries()).reduce((M,v)=>{let[p,r]=v;return""+M+p+"="+r+`
`},""):String(pe.body);return{path:ee,submission:{formMethod:j,formAction:H,formEncType:pe.formEncType,formData:void 0,json:void 0,text:x}}}else if(pe.formEncType==="application/json"){if(!Xu(j))return Re();try{let x=typeof pe.body=="string"?JSON.parse(pe.body):pe.body;return{path:ee,submission:{formMethod:j,formAction:H,formEncType:pe.formEncType,formData:void 0,json:x,text:void 0}}}catch{return Re()}}}fi(typeof FormData=="function","FormData is not available in this environment");let e,g;if(pe.formData)e=Mx(pe.formData),g=pe.formData;else if(pe.body instanceof FormData)e=Mx(pe.body),g=pe.body;else if(pe.body instanceof URLSearchParams)e=pe.body,g=Bw(e);else if(pe.body==null)e=new URLSearchParams,g=new FormData;else try{e=new URLSearchParams(pe.body),g=Bw(e)}catch{return Re()}let P={formMethod:j,formAction:H,formEncType:pe&&pe.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Xu(P.formMethod))return{path:ee,submission:P};let a=hc(ee);return U&&a.search&&G2(a.search)&&e.append("index",""),a.search="?"+e,{path:dv(a),submission:P}}function k7(R,U){let ee=R;if(U){let pe=R.findIndex(Re=>Re.route.id===U);pe>=0&&(ee=R.slice(0,pe))}return ee}function Ow(R,U,ee,pe,Re,Ge,j,H,e,g,P,a,x,M,v){let p=v?Object.values(v)[0]:M?Object.values(M)[0]:void 0,r=R.createURL(U.location),t=R.createURL(Re),i=v?Object.keys(v)[0]:void 0,u=k7(ee,i).filter((l,y)=>{if(l.route.lazy)return!0;if(l.route.loader==null)return!1;if(F7(U.loaderData,U.matches[y],l)||j.some(c=>c===l.route.id))return!0;let h=U.matches[y],S=l;return zw(l,So({currentUrl:r,currentParams:h.params,nextUrl:t,nextParams:S.params},pe,{actionResult:p,defaultShouldRevalidate:Ge||r.pathname+r.search===t.pathname+t.search||r.search!==t.search||_A(h,S)}))}),f=[];return g.forEach((l,y)=>{if(!ee.some(d=>d.route.id===l.routeId)||e.has(y))return;let h=od(a,l.path,x);if(!h){f.push({key:y,routeId:l.routeId,path:l.path,matches:null,match:null,controller:null});return}let S=U.fetchers.get(y),c=Ex(h,l.path),o=!1;P.has(y)?o=!1:H.includes(y)?o=!0:S&&S.state!=="idle"&&S.data===void 0?o=Ge:o=zw(c,So({currentUrl:r,currentParams:U.matches[U.matches.length-1].params,nextUrl:t,nextParams:ee[ee.length-1].params},pe,{actionResult:p,defaultShouldRevalidate:Ge})),o&&f.push({key:y,routeId:l.routeId,path:l.path,matches:h,match:c,controller:new AbortController})}),[u,f]}function F7(R,U,ee){let pe=!U||ee.route.id!==U.route.id,Re=R[ee.route.id]===void 0;return pe||Re}function _A(R,U){let ee=R.route.path;return R.pathname!==U.pathname||ee!=null&&ee.endsWith("*")&&R.params["*"]!==U.params["*"]}function zw(R,U){if(R.route.shouldRevalidate){let ee=R.route.shouldRevalidate(U);if(typeof ee=="boolean")return ee}return U.defaultShouldRevalidate}async function Nw(R,U,ee){if(!R.lazy)return;let pe=await R.lazy();if(!R.lazy)return;let Re=ee[R.id];fi(Re,"No route found in manifest");let Ge={};for(let j in pe){let e=Re[j]!==void 0&&j!=="hasErrorBoundary";vv(!e,'Route "'+Re.id+'" has a static property "'+j+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+j+'" will be ignored.')),!e&&!a7.has(j)&&(Ge[j]=pe[j])}Object.assign(Re,Ge),Object.assign(Re,So({},U(Re),{lazy:void 0}))}async function i0(R,U,ee,pe,Re,Ge,j,H){H===void 0&&(H={});let e,g,P,a=v=>{let p,r=new Promise((t,i)=>p=i);return P=()=>p(),U.signal.addEventListener("abort",P),Promise.race([v({request:U,params:ee.params,context:H.requestContext}),r])};try{let v=ee.route[R];if(ee.route.lazy)if(v){let p,r=await Promise.all([a(v).catch(t=>{p=t}),Nw(ee.route,Ge,Re)]);if(p)throw p;g=r[0]}else if(await Nw(ee.route,Ge,Re),v=ee.route[R],v)g=await a(v);else if(R==="action"){let p=new URL(U.url),r=p.pathname+p.search;throw su(405,{method:U.method,pathname:r,routeId:ee.route.id})}else return{type:Io.data,data:void 0};else if(v)g=await a(v);else{let p=new URL(U.url),r=p.pathname+p.search;throw su(404,{pathname:r})}fi(g!==void 0,"You defined "+(R==="action"?"an action":"a loader")+" for route "+('"'+ee.route.id+"\" but didn't return anything from your `"+R+"` ")+"function. Please return a value or `null`.")}catch(v){e=Io.error,g=v}finally{P&&U.signal.removeEventListener("abort",P)}if(B7(g)){let v=g.status;if(L7.has(v)){let t=g.headers.get("Location");if(fi(t,"Redirects returned/thrown from loaders/actions must have a Location header"),!DA.test(t))t=Sx(new URL(U.url),pe.slice(0,pe.indexOf(ee)+1),j,!0,t);else if(!H.isStaticRequest){let i=new URL(U.url),n=t.startsWith("//")?new URL(i.protocol+t):new URL(t),u=yh(n.pathname,j)!=null;n.origin===i.origin&&u&&(t=n.pathname+n.search+n.hash)}if(H.isStaticRequest)throw g.headers.set("Location",t),g;return{type:Io.redirect,status:v,location:t,revalidate:g.headers.get("X-Remix-Revalidate")!==null,reloadDocument:g.headers.get("X-Remix-Reload-Document")!==null}}if(H.isRouteRequest)throw{type:e===Io.error?Io.error:Io.data,response:g};let p,r=g.headers.get("Content-Type");return r&&/\bapplication\/json\b/.test(r)?p=await g.json():p=await g.text(),e===Io.error?{type:e,error:new j2(v,g.statusText,p),headers:g.headers}:{type:Io.data,data:p,statusCode:g.status,headers:g.headers}}if(e===Io.error)return{type:e,error:g};if(N7(g)){var x,M;return{type:Io.deferred,deferredData:g,statusCode:(x=g.init)==null?void 0:x.status,headers:((M=g.init)==null?void 0:M.headers)&&new Headers(g.init.headers)}}return{type:Io.data,data:g}}function o0(R,U,ee,pe){let Re=R.createURL(kA(U)).toString(),Ge={signal:ee};if(pe&&Xu(pe.formMethod)){let{formMethod:j,formEncType:H}=pe;Ge.method=j.toUpperCase(),H==="application/json"?(Ge.headers=new Headers({"Content-Type":H}),Ge.body=JSON.stringify(pe.json)):H==="text/plain"?Ge.body=pe.text:H==="application/x-www-form-urlencoded"&&pe.formData?Ge.body=Mx(pe.formData):Ge.body=pe.formData}return new Request(Re,Ge)}function Mx(R){let U=new URLSearchParams;for(let[ee,pe]of R.entries())U.append(ee,typeof pe=="string"?pe:pe.name);return U}function Bw(R){let U=new FormData;for(let[ee,pe]of R.entries())U.append(ee,pe);return U}function O7(R,U,ee,pe,Re){let Ge={},j=null,H,e=!1,g={};return ee.forEach((P,a)=>{let x=U[a].route.id;if(fi(!dd(P),"Cannot handle redirect results in processLoaderData"),L0(P)){let M=C0(R,x),v=P.error;pe&&(v=Object.values(pe)[0],pe=void 0),j=j||{},j[M.route.id]==null&&(j[M.route.id]=v),Ge[x]=void 0,e||(e=!0,H=PA(P.error)?P.error.status:500),P.headers&&(g[x]=P.headers)}else iv(P)?(Re.set(x,P.deferredData),Ge[x]=P.deferredData.data):Ge[x]=P.data,P.statusCode!=null&&P.statusCode!==200&&!e&&(H=P.statusCode),P.headers&&(g[x]=P.headers)}),pe&&(j=pe,Ge[Object.keys(pe)[0]]=void 0),{loaderData:Ge,errors:j,statusCode:H||200,loaderHeaders:g}}function Uw(R,U,ee,pe,Re,Ge,j,H){let{loaderData:e,errors:g}=O7(U,ee,pe,Re,H);for(let P=0;P<Ge.length;P++){let{key:a,match:x,controller:M}=Ge[P];fi(j!==void 0&&j[P]!==void 0,"Did not find corresponding fetcher result");let v=j[P];if(!(M&&M.signal.aborted))if(L0(v)){let p=C0(R.matches,x==null?void 0:x.route.id);g&&g[p.route.id]||(g=So({},g,{[p.route.id]:v.error})),R.fetchers.delete(a)}else if(dd(v))fi(!1,"Unhandled fetcher revalidation redirect");else if(iv(v))fi(!1,"Unhandled fetcher deferred data");else{let p=qc(v.data);R.fetchers.set(a,p)}}return{loaderData:e,errors:g}}function Vw(R,U,ee,pe){let Re=So({},U);for(let Ge of ee){let j=Ge.route.id;if(U.hasOwnProperty(j)?U[j]!==void 0&&(Re[j]=U[j]):R[j]!==void 0&&Ge.route.loader&&(Re[j]=R[j]),pe&&pe.hasOwnProperty(j))break}return Re}function C0(R,U){return(U?R.slice(0,R.findIndex(pe=>pe.route.id===U)+1):[...R]).reverse().find(pe=>pe.route.hasErrorBoundary===!0)||R[0]}function Hw(R){let U=R.length===1?R[0]:R.find(ee=>ee.index||!ee.path||ee.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:U}],route:U}}function su(R,U){let{pathname:ee,routeId:pe,method:Re,type:Ge}=U===void 0?{}:U,j="Unknown Server Error",H="Unknown @remix-run/router error";return R===400?(j="Bad Request",Re&&ee&&pe?H="You made a "+Re+' request to "'+ee+'" but '+('did not provide a `loader` for route "'+pe+'", ')+"so there is no way to handle the request.":Ge==="defer-action"?H="defer() is not supported in actions":Ge==="invalid-body"&&(H="Unable to encode submission body")):R===403?(j="Forbidden",H='Route "'+pe+'" does not match URL "'+ee+'"'):R===404?(j="Not Found",H='No route matches URL "'+ee+'"'):R===405&&(j="Method Not Allowed",Re&&ee&&pe?H="You made a "+Re.toUpperCase()+' request to "'+ee+'" but '+('did not provide an `action` for route "'+pe+'", ')+"so there is no way to handle the request.":Re&&(H='Invalid request method "'+Re.toUpperCase()+'"')),new j2(R||500,j,new Error(H),!0)}function jw(R){for(let U=R.length-1;U>=0;U--){let ee=R[U];if(dd(ee))return{result:ee,idx:U}}}function kA(R){let U=typeof R=="string"?hc(R):R;return dv(So({},U,{hash:""}))}function z7(R,U){return R.pathname!==U.pathname||R.search!==U.search?!1:R.hash===""?U.hash!=="":R.hash===U.hash?!0:U.hash!==""}function iv(R){return R.type===Io.deferred}function L0(R){return R.type===Io.error}function dd(R){return(R&&R.type)===Io.redirect}function N7(R){let U=R;return U&&typeof U=="object"&&typeof U.data=="object"&&typeof U.subscribe=="function"&&typeof U.cancel=="function"&&typeof U.resolveData=="function"}function B7(R){return R!=null&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.headers=="object"&&typeof R.body<"u"}function U7(R){return C7.has(R.toLowerCase())}function Xu(R){return M7.has(R.toLowerCase())}async function Gw(R,U,ee,pe,Re,Ge){for(let j=0;j<ee.length;j++){let H=ee[j],e=U[j];if(!e)continue;let g=R.find(a=>a.route.id===e.route.id),P=g!=null&&!_A(g,e)&&(Ge&&Ge[e.route.id])!==void 0;if(iv(H)&&(Re||P)){let a=pe[j];fi(a,"Expected an AbortSignal for revalidating fetcher deferred result"),await FA(H,a,Re).then(x=>{x&&(ee[j]=x||ee[j])})}}}async function FA(R,U,ee){if(ee===void 0&&(ee=!1),!await R.deferredData.resolveData(U)){if(ee)try{return{type:Io.data,data:R.deferredData.unwrappedData}}catch(Re){return{type:Io.error,error:Re}}return{type:Io.data,data:R.deferredData.data}}}function G2(R){return new URLSearchParams(R).getAll("index").some(U=>U==="")}function Ex(R,U){let ee=typeof U=="string"?hc(U).search:U.search;if(R[R.length-1].route.index&&G2(ee||""))return R[R.length-1];let pe=LA(R);return pe[pe.length-1]}function Ww(R){let{formMethod:U,formAction:ee,formEncType:pe,text:Re,formData:Ge,json:j}=R;if(!(!U||!ee||!pe)){if(Re!=null)return{formMethod:U,formAction:ee,formEncType:pe,formData:void 0,json:void 0,text:Re};if(Ge!=null)return{formMethod:U,formAction:ee,formEncType:pe,formData:Ge,json:void 0,text:void 0};if(j!==void 0)return{formMethod:U,formAction:ee,formEncType:pe,formData:void 0,json:j,text:void 0}}}function t1(R,U){return U?{state:"loading",location:R,formMethod:U.formMethod,formAction:U.formAction,formEncType:U.formEncType,formData:U.formData,json:U.json,text:U.text}:{state:"loading",location:R,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function V7(R,U){return{state:"submitting",location:R,formMethod:U.formMethod,formAction:U.formAction,formEncType:U.formEncType,formData:U.formData,json:U.json,text:U.text}}function s0(R,U){return R?{state:"loading",formMethod:R.formMethod,formAction:R.formAction,formEncType:R.formEncType,formData:R.formData,json:R.json,text:R.text,data:U}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:U}}function H7(R,U){return{state:"submitting",formMethod:R.formMethod,formAction:R.formAction,formEncType:R.formEncType,formData:R.formData,json:R.json,text:R.text,data:U?U.data:void 0}}function qc(R){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:R}}function j7(R,U){try{let ee=R.sessionStorage.getItem(IA);if(ee){let pe=JSON.parse(ee);for(let[Re,Ge]of Object.entries(pe||{}))Ge&&Array.isArray(Ge)&&U.set(Re,new Set(Ge||[]))}}catch{}}function G7(R,U){if(U.size>0){let ee={};for(let[pe,Re]of U)ee[pe]=[...Re];try{R.sessionStorage.setItem(IA,JSON.stringify(ee))}catch(pe){vv(!1,"Failed to save applied view transitions in sessionStorage ("+pe+").")}}}/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gg(){return Gg=Object.assign?Object.assign.bind():function(R){for(var U=1;U<arguments.length;U++){var ee=arguments[U];for(var pe in ee)Object.prototype.hasOwnProperty.call(ee,pe)&&(R[pe]=ee[pe])}return R},Gg.apply(this,arguments)}const ep=gn.createContext(null),W2=gn.createContext(null),mv=gn.createContext(null),Vy=gn.createContext(null),Cf=gn.createContext({outlet:null,matches:[],isDataRoute:!1}),OA=gn.createContext(null);function W7(R,U){let{relative:ee}=U===void 0?{}:U;Cd()||fi(!1);let{basename:pe,navigator:Re}=gn.useContext(mv),{hash:Ge,pathname:j,search:H}=Hy(R,{relative:ee}),e=j;return pe!=="/"&&(e=j==="/"?pe:oc([pe,j])),Re.createHref({pathname:e,search:H,hash:Ge})}function Cd(){return gn.useContext(Vy)!=null}function xv(){return Cd()||fi(!1),gn.useContext(Vy).location}function zA(R){gn.useContext(mv).static||gn.useLayoutEffect(R)}function Ah(){let{isDataRoute:R}=gn.useContext(Cf);return R?i9():Y7()}function Y7(){Cd()||fi(!1);let R=gn.useContext(ep),{basename:U,navigator:ee}=gn.useContext(mv),{matches:pe}=gn.useContext(Cf),{pathname:Re}=xv(),Ge=JSON.stringify(By(pe)),j=gn.useRef(!1);return zA(()=>{j.current=!0}),gn.useCallback(function(e,g){if(g===void 0&&(g={}),!j.current)return;if(typeof e=="number"){ee.go(e);return}let P=Uy(e,JSON.parse(Ge),Re,g.relative==="path");R==null&&U!=="/"&&(P.pathname=P.pathname==="/"?U:oc([U,P.pathname])),(g.replace?ee.replace:ee.push)(P,g.state,g)},[U,ee,Ge,Re,R])}const X7=gn.createContext(null);function Z7(R){let U=gn.useContext(Cf).outlet;return U&&gn.createElement(X7.Provider,{value:R},U)}function NA(){let{matches:R}=gn.useContext(Cf),U=R[R.length-1];return U?U.params:{}}function Hy(R,U){let{relative:ee}=U===void 0?{}:U,{matches:pe}=gn.useContext(Cf),{pathname:Re}=xv(),Ge=JSON.stringify(By(pe));return gn.useMemo(()=>Uy(R,JSON.parse(Ge),Re,ee==="path"),[R,Ge,Re,ee])}function K7(R,U,ee){Cd()||fi(!1);let{navigator:pe}=gn.useContext(mv),{matches:Re}=gn.useContext(Cf),Ge=Re[Re.length-1],j=Ge?Ge.params:{};Ge&&Ge.pathname;let H=Ge?Ge.pathnameBase:"/";Ge&&Ge.route;let e=xv(),g;if(U){var P;let p=typeof U=="string"?hc(U):U;H==="/"||(P=p.pathname)!=null&&P.startsWith(H)||fi(!1),g=p}else g=e;let a=g.pathname||"/",x=H==="/"?a:a.slice(H.length)||"/",M=od(R,{pathname:x}),v=e9(M&&M.map(p=>Object.assign({},p,{params:Object.assign({},j,p.params),pathname:oc([H,pe.encodeLocation?pe.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?H:oc([H,pe.encodeLocation?pe.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),Re,ee);return U&&v?gn.createElement(Vy.Provider,{value:{location:Gg({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Do.Pop}},v):v}function J7(){let R=a9(),U=PA(R)?R.status+" "+R.statusText:R instanceof Error?R.message:JSON.stringify(R),ee=R instanceof Error?R.stack:null,Re={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},Ge=null;return gn.createElement(gn.Fragment,null,gn.createElement("h2",null,"Unexpected Application Error!"),gn.createElement("h3",{style:{fontStyle:"italic"}},U),ee?gn.createElement("pre",{style:Re},ee):null,Ge)}const $7=gn.createElement(J7,null);class Q7 extends gn.Component{constructor(U){super(U),this.state={location:U.location,revalidation:U.revalidation,error:U.error}}static getDerivedStateFromError(U){return{error:U}}static getDerivedStateFromProps(U,ee){return ee.location!==U.location||ee.revalidation!=="idle"&&U.revalidation==="idle"?{error:U.error,location:U.location,revalidation:U.revalidation}:{error:U.error||ee.error,location:ee.location,revalidation:U.revalidation||ee.revalidation}}componentDidCatch(U,ee){console.error("React Router caught the following error during render",U,ee)}render(){return this.state.error?gn.createElement(Cf.Provider,{value:this.props.routeContext},gn.createElement(OA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q7(R){let{routeContext:U,match:ee,children:pe}=R,Re=gn.useContext(ep);return Re&&Re.static&&Re.staticContext&&(ee.route.errorElement||ee.route.ErrorBoundary)&&(Re.staticContext._deepestRenderedBoundaryId=ee.route.id),gn.createElement(Cf.Provider,{value:U},pe)}function e9(R,U,ee){var pe;if(U===void 0&&(U=[]),ee===void 0&&(ee=null),R==null){var Re;if((Re=ee)!=null&&Re.errors)R=ee.matches;else return null}let Ge=R,j=(pe=ee)==null?void 0:pe.errors;if(j!=null){let H=Ge.findIndex(e=>e.route.id&&(j==null?void 0:j[e.route.id]));H>=0||fi(!1),Ge=Ge.slice(0,Math.min(Ge.length,H+1))}return Ge.reduceRight((H,e,g)=>{let P=e.route.id?j==null?void 0:j[e.route.id]:null,a=null;ee&&(a=e.route.errorElement||$7);let x=U.concat(Ge.slice(0,g+1)),M=()=>{let v;return P?v=a:e.route.Component?v=gn.createElement(e.route.Component,null):e.route.element?v=e.route.element:v=H,gn.createElement(q7,{match:e,routeContext:{outlet:H,matches:x,isDataRoute:ee!=null},children:v})};return ee&&(e.route.ErrorBoundary||e.route.errorElement||g===0)?gn.createElement(Q7,{location:ee.location,revalidation:ee.revalidation,component:a,error:P,children:M(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):M()},null)}var BA=function(R){return R.UseBlocker="useBlocker",R.UseRevalidator="useRevalidator",R.UseNavigateStable="useNavigate",R}(BA||{}),Wg=function(R){return R.UseBlocker="useBlocker",R.UseLoaderData="useLoaderData",R.UseActionData="useActionData",R.UseRouteError="useRouteError",R.UseNavigation="useNavigation",R.UseRouteLoaderData="useRouteLoaderData",R.UseMatches="useMatches",R.UseRevalidator="useRevalidator",R.UseNavigateStable="useNavigate",R.UseRouteId="useRouteId",R}(Wg||{});function t9(R){let U=gn.useContext(ep);return U||fi(!1),U}function r9(R){let U=gn.useContext(W2);return U||fi(!1),U}function n9(R){let U=gn.useContext(Cf);return U||fi(!1),U}function UA(R){let U=n9(),ee=U.matches[U.matches.length-1];return ee.route.id||fi(!1),ee.route.id}function a9(){var R;let U=gn.useContext(OA),ee=r9(Wg.UseRouteError),pe=UA(Wg.UseRouteError);return U||((R=ee.errors)==null?void 0:R[pe])}function i9(){let{router:R}=t9(BA.UseNavigateStable),U=UA(Wg.UseNavigateStable),ee=gn.useRef(!1);return zA(()=>{ee.current=!0}),gn.useCallback(function(Re,Ge){Ge===void 0&&(Ge={}),ee.current&&(typeof Re=="number"?R.navigate(Re):R.navigate(Re,Gg({fromRouteId:U},Ge)))},[R,U])}function jy(R){let{to:U,replace:ee,state:pe,relative:Re}=R;Cd()||fi(!1);let{matches:Ge}=gn.useContext(Cf),{pathname:j}=xv(),H=Ah(),e=Uy(U,By(Ge),j,Re==="path"),g=JSON.stringify(e);return gn.useEffect(()=>H(JSON.parse(g),{replace:ee,state:pe,relative:Re}),[H,g,Re,ee,pe]),null}function VA(R){return Z7(R.context)}function o9(R){let{basename:U="/",children:ee=null,location:pe,navigationType:Re=Do.Pop,navigator:Ge,static:j=!1}=R;Cd()&&fi(!1);let H=U.replace(/^\/*/,"/"),e=gn.useMemo(()=>({basename:H,navigator:Ge,static:j}),[H,Ge,j]);typeof pe=="string"&&(pe=hc(pe));let{pathname:g="/",search:P="",hash:a="",state:x=null,key:M="default"}=pe,v=gn.useMemo(()=>{let p=yh(g,H);return p==null?null:{location:{pathname:p,search:P,hash:a,state:x,key:M},navigationType:Re}},[H,g,P,a,x,M,Re]);return v==null?null:gn.createElement(mv.Provider,{value:e},gn.createElement(Vy.Provider,{children:ee,value:v}))}new Promise(()=>{});function s9(R){let U={hasErrorBoundary:R.ErrorBoundary!=null||R.errorElement!=null};return R.Component&&Object.assign(U,{element:gn.createElement(R.Component),Component:void 0}),R.ErrorBoundary&&Object.assign(U,{errorElement:gn.createElement(R.ErrorBoundary),ErrorBoundary:void 0}),U}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(R){for(var U=1;U<arguments.length;U++){var ee=arguments[U];for(var pe in ee)Object.prototype.hasOwnProperty.call(ee,pe)&&(R[pe]=ee[pe])}return R},Ad.apply(this,arguments)}function HA(R,U){if(R==null)return{};var ee={},pe=Object.keys(R),Re,Ge;for(Ge=0;Ge<pe.length;Ge++)Re=pe[Ge],!(U.indexOf(Re)>=0)&&(ee[Re]=R[Re]);return ee}function l9(R){return!!(R.metaKey||R.altKey||R.ctrlKey||R.shiftKey)}function u9(R,U){return R.button===0&&(!U||U==="_self")&&!l9(R)}const f9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],c9=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function h9(R,U){return I7({basename:U==null?void 0:U.basename,future:Ad({},U==null?void 0:U.future,{v7_prependBasename:!0}),history:t7({window:U==null?void 0:U.window}),hydrationData:(U==null?void 0:U.hydrationData)||v9(),routes:R,mapRouteProperties:s9,window:U==null?void 0:U.window}).initialize()}function v9(){var R;let U=(R=window)==null?void 0:R.__staticRouterHydrationData;return U&&U.errors&&(U=Ad({},U,{errors:d9(U.errors)})),U}function d9(R){if(!R)return null;let U=Object.entries(R),ee={};for(let[pe,Re]of U)if(Re&&Re.__type==="RouteErrorResponse")ee[pe]=new j2(Re.status,Re.statusText,Re.data,Re.internal===!0);else if(Re&&Re.__type==="Error"){if(Re.__subType){let Ge=window[Re.__subType];if(typeof Ge=="function")try{let j=new Ge(Re.message);j.stack="",ee[pe]=j}catch{}}if(ee[pe]==null){let Ge=new Error(Re.message);Ge.stack="",ee[pe]=Ge}}else ee[pe]=Re;return ee}const jA=gn.createContext({isTransitioning:!1}),p9=gn.createContext(new Map),g9="startTransition",Yw=eC[g9],y9="flushSync",Xw=fP[y9];function m9(R){Yw?Yw(R):R()}function l0(R){Xw?Xw(R):R()}class x9{constructor(){this.status="pending",this.promise=new Promise((U,ee)=>{this.resolve=pe=>{this.status==="pending"&&(this.status="resolved",U(pe))},this.reject=pe=>{this.status==="pending"&&(this.status="rejected",ee(pe))}})}}function b9(R){let{fallbackElement:U,router:ee,future:pe}=R,[Re,Ge]=gn.useState(ee.state),[j,H]=gn.useState(),[e,g]=gn.useState({isTransitioning:!1}),[P,a]=gn.useState(),[x,M]=gn.useState(),[v,p]=gn.useState(),r=gn.useRef(new Map),{v7_startTransition:t}=pe||{},i=gn.useCallback(y=>{t?m9(y):y()},[t]),n=gn.useCallback((y,h)=>{let{deletedFetchers:S,unstable_flushSync:c,unstable_viewTransitionOpts:o}=h;S.forEach(w=>r.current.delete(w)),y.fetchers.forEach((w,A)=>{w.data!==void 0&&r.current.set(A,w.data)});let d=ee.window==null||typeof ee.window.document.startViewTransition!="function";if(!o||d){c?l0(()=>Ge(y)):i(()=>Ge(y));return}if(c){l0(()=>{x&&(P&&P.resolve(),x.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})});let w=ee.window.document.startViewTransition(()=>{l0(()=>Ge(y))});w.finished.finally(()=>{l0(()=>{a(void 0),M(void 0),H(void 0),g({isTransitioning:!1})})}),l0(()=>M(w));return}x?(P&&P.resolve(),x.skipTransition(),p({state:y,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(H(y),g({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))},[ee.window,x,P,r,i]);gn.useLayoutEffect(()=>ee.subscribe(n),[ee,n]),gn.useEffect(()=>{e.isTransitioning&&!e.flushSync&&a(new x9)},[e]),gn.useEffect(()=>{if(P&&j&&ee.window){let y=j,h=P.promise,S=ee.window.document.startViewTransition(async()=>{i(()=>Ge(y)),await h});S.finished.finally(()=>{a(void 0),M(void 0),H(void 0),g({isTransitioning:!1})}),M(S)}},[i,j,P,ee.window]),gn.useEffect(()=>{P&&j&&Re.location.key===j.location.key&&P.resolve()},[P,x,Re.location,j]),gn.useEffect(()=>{!e.isTransitioning&&v&&(H(v.state),g({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),p(void 0))},[e.isTransitioning,v]);let u=gn.useMemo(()=>({createHref:ee.createHref,encodeLocation:ee.encodeLocation,go:y=>ee.navigate(y),push:(y,h,S)=>ee.navigate(y,{state:h,preventScrollReset:S==null?void 0:S.preventScrollReset}),replace:(y,h,S)=>ee.navigate(y,{replace:!0,state:h,preventScrollReset:S==null?void 0:S.preventScrollReset})}),[ee]),f=ee.basename||"/",l=gn.useMemo(()=>({router:ee,navigator:u,static:!1,basename:f}),[ee,u,f]);return gn.createElement(gn.Fragment,null,gn.createElement(ep.Provider,{value:l},gn.createElement(W2.Provider,{value:Re},gn.createElement(p9.Provider,{value:r.current},gn.createElement(jA.Provider,{value:e},gn.createElement(o9,{basename:f,location:Re.location,navigationType:Re.historyAction,navigator:u},Re.initialized?gn.createElement(w9,{routes:ee.routes,state:Re}):U))))),null)}function w9(R){let{routes:U,state:ee}=R;return K7(U,void 0,ee)}const T9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S9=gn.forwardRef(function(U,ee){let{onClick:pe,relative:Re,reloadDocument:Ge,replace:j,state:H,target:e,to:g,preventScrollReset:P,unstable_viewTransition:a}=U,x=HA(U,f9),{basename:M}=gn.useContext(mv),v,p=!1;if(typeof g=="string"&&A9.test(g)&&(v=g,T9))try{let n=new URL(window.location.href),u=g.startsWith("//")?new URL(n.protocol+g):new URL(g),f=yh(u.pathname,M);u.origin===n.origin&&f!=null?g=f+u.search+u.hash:p=!0}catch{}let r=W7(g,{relative:Re}),t=E9(g,{replace:j,state:H,target:e,preventScrollReset:P,relative:Re,unstable_viewTransition:a});function i(n){pe&&pe(n),n.defaultPrevented||t(n)}return gn.createElement("a",Ad({},x,{href:v||r,onClick:p||Ge?pe:i,ref:ee,target:e}))}),Hi=gn.forwardRef(function(U,ee){let{"aria-current":pe="page",caseSensitive:Re=!1,className:Ge="",end:j=!1,style:H,to:e,unstable_viewTransition:g,children:P}=U,a=HA(U,c9),x=Hy(e,{relative:a.relative}),M=xv(),v=gn.useContext(W2),{navigator:p}=gn.useContext(mv),r=v!=null&&C9(x)&&g===!0,t=p.encodeLocation?p.encodeLocation(x).pathname:x.pathname,i=M.pathname,n=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;Re||(i=i.toLowerCase(),n=n?n.toLowerCase():null,t=t.toLowerCase());const u=t!=="/"&&t.endsWith("/")?t.length-1:t.length;let f=i===t||!j&&i.startsWith(t)&&i.charAt(u)==="/",l=n!=null&&(n===t||!j&&n.startsWith(t)&&n.charAt(t.length)==="/"),y={isActive:f,isPending:l,isTransitioning:r},h=f?pe:void 0,S;typeof Ge=="function"?S=Ge(y):S=[Ge,f?"active":null,l?"pending":null,r?"transitioning":null].filter(Boolean).join(" ");let c=typeof H=="function"?H(y):H;return gn.createElement(S9,Ad({},a,{"aria-current":h,className:S,ref:ee,style:c,to:e,unstable_viewTransition:g}),typeof P=="function"?P(y):P)});var Cx;(function(R){R.UseScrollRestoration="useScrollRestoration",R.UseSubmit="useSubmit",R.UseSubmitFetcher="useSubmitFetcher",R.UseFetcher="useFetcher",R.useViewTransitionState="useViewTransitionState"})(Cx||(Cx={}));var Zw;(function(R){R.UseFetcher="useFetcher",R.UseFetchers="useFetchers",R.UseScrollRestoration="useScrollRestoration"})(Zw||(Zw={}));function M9(R){let U=gn.useContext(ep);return U||fi(!1),U}function E9(R,U){let{target:ee,replace:pe,state:Re,preventScrollReset:Ge,relative:j,unstable_viewTransition:H}=U===void 0?{}:U,e=Ah(),g=xv(),P=Hy(R,{relative:j});return gn.useCallback(a=>{if(u9(a,ee)){a.preventDefault();let x=pe!==void 0?pe:dv(g)===dv(P);e(R,{replace:x,state:Re,preventScrollReset:Ge,relative:j,unstable_viewTransition:H})}},[g,e,P,pe,Re,ee,R,Ge,j,H])}function C9(R,U){U===void 0&&(U={});let ee=gn.useContext(jA);ee==null&&fi(!1);let{basename:pe}=M9(Cx.useViewTransitionState),Re=Hy(R,{relative:U.relative});if(!ee.isTransitioning)return!1;let Ge=yh(ee.currentLocation.pathname,pe)||ee.currentLocation.pathname,j=yh(ee.nextLocation.pathname,pe)||ee.nextLocation.pathname;return Ax(Re.pathname,j)!=null||Ax(Re.pathname,Ge)!=null}function X0(R){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},X0(R)}function L9(R,U){if(X0(R)!=="object"||R===null)return R;var ee=R[Symbol.toPrimitive];if(ee!==void 0){var pe=ee.call(R,U||"default");if(X0(pe)!=="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(R)}function P9(R){var U=L9(R,"string");return X0(U)==="symbol"?U:String(U)}function R9(R,U,ee){return U=P9(U),U in R?Object.defineProperty(R,U,{value:ee,enumerable:!0,configurable:!0,writable:!0}):R[U]=ee,R}function Kw(R,U){var ee=Object.keys(R);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(R);U&&(pe=pe.filter(function(Re){return Object.getOwnPropertyDescriptor(R,Re).enumerable})),ee.push.apply(ee,pe)}return ee}function Jw(R){for(var U=1;U<arguments.length;U++){var ee=arguments[U]!=null?arguments[U]:{};U%2?Kw(Object(ee),!0).forEach(function(pe){R9(R,pe,ee[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(ee)):Kw(Object(ee)).forEach(function(pe){Object.defineProperty(R,pe,Object.getOwnPropertyDescriptor(ee,pe))})}return R}function Ds(R){return"Minified Redux error #"+R+"; visit https://redux.js.org/Errors?code="+R+" for the full message or use the non-minified dev environment for full errors. "}var $w=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),r1=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yg={INIT:"@@redux/INIT"+r1(),REPLACE:"@@redux/REPLACE"+r1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r1()}};function D9(R){if(typeof R!="object"||R===null)return!1;for(var U=R;Object.getPrototypeOf(U)!==null;)U=Object.getPrototypeOf(U);return Object.getPrototypeOf(R)===U}function GA(R,U,ee){var pe;if(typeof U=="function"&&typeof ee=="function"||typeof ee=="function"&&typeof arguments[3]=="function")throw new Error(Ds(0));if(typeof U=="function"&&typeof ee>"u"&&(ee=U,U=void 0),typeof ee<"u"){if(typeof ee!="function")throw new Error(Ds(1));return ee(GA)(R,U)}if(typeof R!="function")throw new Error(Ds(2));var Re=R,Ge=U,j=[],H=j,e=!1;function g(){H===j&&(H=j.slice())}function P(){if(e)throw new Error(Ds(3));return Ge}function a(p){if(typeof p!="function")throw new Error(Ds(4));if(e)throw new Error(Ds(5));var r=!0;return g(),H.push(p),function(){if(r){if(e)throw new Error(Ds(6));r=!1,g();var i=H.indexOf(p);H.splice(i,1),j=null}}}function x(p){if(!D9(p))throw new Error(Ds(7));if(typeof p.type>"u")throw new Error(Ds(8));if(e)throw new Error(Ds(9));try{e=!0,Ge=Re(Ge,p)}finally{e=!1}for(var r=j=H,t=0;t<r.length;t++){var i=r[t];i()}return p}function M(p){if(typeof p!="function")throw new Error(Ds(10));Re=p,x({type:Yg.REPLACE})}function v(){var p,r=a;return p={subscribe:function(i){if(typeof i!="object"||i===null)throw new Error(Ds(11));function n(){i.next&&i.next(P())}n();var u=r(n);return{unsubscribe:u}}},p[$w]=function(){return this},p}return x({type:Yg.INIT}),pe={dispatch:x,subscribe:a,getState:P,replaceReducer:M},pe[$w]=v,pe}var I9=GA;function _9(R){Object.keys(R).forEach(function(U){var ee=R[U],pe=ee(void 0,{type:Yg.INIT});if(typeof pe>"u")throw new Error(Ds(12));if(typeof ee(void 0,{type:Yg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ds(13))})}function k9(R){for(var U=Object.keys(R),ee={},pe=0;pe<U.length;pe++){var Re=U[pe];typeof R[Re]=="function"&&(ee[Re]=R[Re])}var Ge=Object.keys(ee),j;try{_9(ee)}catch(H){j=H}return function(e,g){if(e===void 0&&(e={}),j)throw j;for(var P=!1,a={},x=0;x<Ge.length;x++){var M=Ge[x],v=ee[M],p=e[M],r=v(p,g);if(typeof r>"u")throw g&&g.type,new Error(Ds(14));a[M]=r,P=P||r!==p}return P=P||Ge.length!==Object.keys(e).length,P?a:e}}function F9(){for(var R=arguments.length,U=new Array(R),ee=0;ee<R;ee++)U[ee]=arguments[ee];return U.length===0?function(pe){return pe}:U.length===1?U[0]:U.reduce(function(pe,Re){return function(){return pe(Re.apply(void 0,arguments))}})}function O9(){for(var R=arguments.length,U=new Array(R),ee=0;ee<R;ee++)U[ee]=arguments[ee];return function(pe){return function(){var Re=pe.apply(void 0,arguments),Ge=function(){throw new Error(Ds(15))},j={getState:Re.getState,dispatch:function(){return Ge.apply(void 0,arguments)}},H=U.map(function(e){return e(j)});return Ge=F9.apply(void 0,H)(Re.dispatch),Jw(Jw({},Re),{},{dispatch:Ge})}}}function WA(R){var U=function(pe){var Re=pe.dispatch,Ge=pe.getState;return function(j){return function(H){return typeof H=="function"?H(Re,Ge,R):j(H)}}};return U}var YA=WA();YA.withExtraArgument=WA;const z9=YA,XA="session/setUser",ZA="session/removeUser",Y2=R=>({type:XA,payload:R}),N9=()=>({type:ZA}),B9=()=>async R=>{const U=await fetch("/api/auth/");if(U.ok){const ee=await U.json();if(ee.errors)return;R(Y2(ee))}},Xg=R=>async U=>{const ee=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(ee.ok){const pe=await ee.json();U(Y2(pe))}else return ee.status<500?await ee.json():{server:"Something went wrong. Please try again"}},KA=R=>async U=>{const ee=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(ee.ok){const pe=await ee.json();U(Y2(pe))}else return ee.status<500?await ee.json():{server:"Something went wrong. Please try again"}},U9=()=>async R=>{await fetch("/api/auth/logout"),R(N9())},V9={user:null};function H9(R=V9,U){switch(U.type){case XA:return{...R,user:U.payload};case ZA:return{...R,user:null};default:return R}}const JA="portfolio/load",$A="portfoliio/loadCash",j9="portfolio/loadValue",QA="portfolio/loadHistory",qA="portfolio/loadTransfers",e6="portfolio/clear",t6="portfolio/loadShares",G9=R=>({type:JA,payload:R}),r6=R=>({type:$A,payload:R}),W9=R=>({type:qA,payload:R}),Y9=R=>({type:QA,payload:R}),X9=R=>({type:t6,payload:R}),Z9=()=>({type:e6}),K9=()=>async R=>{const U=await fetch("/api/portfolios/current");if(U.ok){const ee=await U.json();if(ee.errors)return;R(G9(ee))}},J9=()=>async R=>{const U=await fetch("/api/portfolios/current/history");if(U.ok){const ee=await U.json();if(ee.errors)return;R(Y9(ee))}},$9=()=>async R=>{const U=await fetch("/api/portfolios/current/transfers");if(U.ok){const ee=await U.json();if(ee.errors)return;R(W9(ee))}},n6=()=>async R=>{const U=await fetch("/api/portfolios/current/cash");if(U.ok){const ee=await U.json();if(ee.errors)return;R(r6(ee))}},Q9=R=>async U=>{const ee=await fetch(`/api/portfolios/current/${R}`);if(ee.ok){const pe=await ee.json();if(pe.errors)return;U(X9(pe))}},a6=R=>async U=>{const ee=await fetch("/api/portfolios/current/transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:R})});if(ee.ok){const pe=await ee.json();U(r6(pe))}},q9={};function eR(R=q9,U){switch(U.type){case JA:return{...R,portfolio:U.payload};case QA:return{...R,history:U.payload};case $A:return{...R,purchasing_power:U.payload.purchasing_power};case qA:return{...R,transfers:U.payload.transfers};case j9:return{...R,portfolio_value:U.payload.portfolio_value};case t6:return{...R,...U.payload};case e6:return{};default:return R}}const i6="watchlists/load",o6="watchlists/edit",s6="watchlists/remove",l6="watchlists/clear",u6="watchlists/add",f6="watchlists/addStock",c6="watchlists/removeStock",h6="watchlists/loadWStocks",tR=R=>({type:i6,payload:R}),rR=R=>({type:h6,payload:R}),nR=()=>({type:l6}),v6=R=>({type:u6,payload:R}),aR=R=>({type:s6,list_number:R}),iR=R=>({type:f6,payload:R}),oR=R=>({type:c6,payload:R}),sR=R=>({type:o6,payload:R}),X2=()=>async R=>{const U=await fetch("/api/watchlists/current");if(U.ok){const ee=await U.json();if(ee.errors)return;R(tR(ee))}},lR=R=>async U=>{const ee=await fetch(`/api/watchlists/current/${R}`);if(ee.ok){const pe=await ee.json();return pe.errors?void 0:(U(rR(pe)),pe)}},d6=R=>async U=>{const ee=await fetch("/api/watchlists/new-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),pe=await ee.json();return ee.ok&&U(v6(pe)),pe},p6=R=>async U=>{const ee=await fetch(`/api/watchlists/current/${R.list_number}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),pe=await ee.json();return ee.ok&&U(sR(pe)),pe},uR=R=>async U=>{const ee=await fetch(`/api/watchlists/current/${R}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),pe=ee.json();return ee.ok&&U(aR(R)),pe},fR=R=>async U=>{const ee=await fetch(`/api/watchlists/current/${R}`);if(ee.ok){const pe=await ee.json();if(pe.errors)return;U(v6(pe))}},Qw=R=>async U=>{const ee=await fetch("/api/watchlists/add-stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),pe=await ee.json();return ee.ok&&U(iR(pe)),pe},cR=R=>async U=>{const ee=await fetch("/api/watchlists/remove-stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(await ee.json(),ee.ok){U(oR(R));return}else return},qw={};function hR(R=qw,U){var ee;switch(U.type){case i6:return{...R,...U.payload};case u6:return{...R,[U.payload.list_number]:U.payload};case f6:{const pe={...R};return pe[U.payload.list_number].stocks.push(U.payload.stock),(ee=pe.lists)==null||ee.push(U.payload.list_number),pe}case c6:{const pe={...R},Re=pe[U.payload.list_number].stocks,Ge=Re.findIndex(H=>H.ticker==U.payload.stock_ticker);Re.splice(Ge,1),pe[U.payload.list_number].stocks=[...Re];const j=pe.lists;return j==null||j.splice(j==null?void 0:j.indexOf(U.payload.list_number)),pe.lists=[...j],pe}case o6:{const pe={...R};return pe[U.payload.list_number]=U.payload,pe}case s6:{const pe={...R};return delete pe[U.list_number],pe}case h6:{const pe={...R};return pe.lists=[...U.payload],pe}case l6:return qw;default:return R}}const g6="stocks/load",y6="stocks/loadAll",vR="stocks/clearAll",m6="stocks/loadSectors",dR=R=>({type:g6,payload:R}),pR=R=>({type:y6,payload:R}),gR=R=>({type:m6,payload:R}),yR=R=>async U=>{const ee=await fetch(`/api/stocks/${R}`);if(ee.ok){const pe=await ee.json();if(pe.errors)return;U(dR(pe))}},x6=()=>async R=>{const U=await fetch("/api/stocks/all");if(U.ok){const ee=await U.json();R(pR(ee))}},mR=()=>async R=>{const U=await fetch("/api/stocks/sectors");if(U.ok){const ee=await U.json();R(gR(ee))}},xR={};function bR(R=xR,U){switch(U.type){case g6:return{...R,[U.payload.ticker]:U.payload};case y6:return{stocks:U.payload,...R};case m6:return{...R,sectors:U.payload};case vR:return{};default:return R}}const b6="orders/add",w6="orders/load",wR=R=>({type:w6,payload:R}),TR=R=>({type:b6,payload:R}),AR=R=>async U=>{const ee=await fetch("/api/orders/current",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),pe=await ee.json();return ee.ok&&U(TR(pe)),pe},SR=()=>async R=>{const U=await fetch("/api/orders/current");if(U.ok){const ee=await U.json();if(ee.errors)return;R(wR(ee))}},MR={};function ER(R=MR,U){switch(U.type){case w6:return{...R,orders:U.payload.orders};case b6:return{...R,[U.payload.order_number]:U.payload};default:return R}}const T6="screeners/load",A6="screeners/loadAll",S6="screeners/save",M6="screeners/clearAll",CR=(R,U)=>({type:T6,payload:{id:R,screener:U}}),LR=R=>({type:A6,payload:R}),PR=(R,U)=>({type:S6,payload:{id:R,screener:U}}),RR=()=>({type:M6}),DR=R=>async U=>{if(!R)return;const ee=await fetch(`/api/screener/apply/${R}`);if(ee.ok){const pe=await ee.json();if(pe.errors)return;U(CR(R,pe))}},E6=()=>async R=>{const U=await fetch("/api/screener/current");if(U.ok){const ee=await U.json();R(LR(ee))}},IR=R=>async U=>{console.log(R);const ee=await fetch("/api/screener/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),pe=await ee.json();return ee.ok&&U(PR(pe.id,pe)),pe},_R={};function kR(R=_R,U){switch(U.type){case T6:return{...R,[U.payload.id]:U.payload.screener};case S6:const ee={...R};return ee.screeners.push(U.payload.screener),ee;case A6:return{screeners:U.payload,...R};case M6:return{};default:return R}}const C6="markets/loadAll",FR="markets/clearAll",OR=R=>({type:C6,payload:R}),zR=()=>async R=>{const U=await fetch("/api/markets/all");if(U.ok){const ee=await U.json();R(OR(ee))}},NR={};function BR(R=NR,U){switch(U.type){case C6:return{markets:U.payload,...R};case FR:return{};default:return R}}const UR=k9({session:H9,portfolio:eR,watchlists:hR,stocks:bR,orders:ER,screeners:kR,markets:BR});let L6;L6=O9(z9);const VR=R=>I9(UR,R,L6);function HR(){const R=Ah(),U=mo(),ee=$i(a=>a.session.user),[pe,Re]=gn.useState(""),[Ge,j]=gn.useState(""),[H,e]=gn.useState({});if(ee)return tt.jsx(jy,{to:"/",replace:!0});const g=async a=>{a.preventDefault();const x=await U(Xg({email:pe,password:Ge}));x?e(x):R("/dashboard")},P=a=>{a.preventDefault(),e({});const x={};return x.email="marnie@aa.io",x.password="password",U(Xg(x)).catch(async M=>{const v=await M.json();v&&v.errors&&e(v.errors)})};return tt.jsxs(tt.Fragment,{children:[tt.jsx("h1",{children:"Log In"}),H.length>0&&H.map(a=>tt.jsx("p",{children:a},a)),tt.jsxs("form",{onSubmit:g,children:[tt.jsxs("label",{children:["Email",tt.jsx("input",{type:"text",value:pe,onChange:a=>Re(a.target.value),required:!0})]}),H.email&&tt.jsx("p",{children:H.email}),tt.jsxs("label",{children:["Password",tt.jsx("input",{type:"password",value:Ge,onChange:a=>j(a.target.value),required:!0})]}),H.password&&tt.jsx("p",{children:H.password}),tt.jsx("button",{type:"submit",children:"Log In"})]}),tt.jsx("button",{className:"demo-user",onClick:P,children:"Demo User"})]})}function jR(){const R=mo(),U=Ah(),ee=$i(v=>v.session.user),[pe,Re]=gn.useState(""),[Ge,j]=gn.useState(""),[H,e]=gn.useState(""),[g,P]=gn.useState(""),[a,x]=gn.useState({});if(ee)return tt.jsx(jy,{to:"/",replace:!0});const M=async v=>{if(v.preventDefault(),H!==g)return x({confirmPassword:"Confirm Password field must be the same as the Password field"});const p=await R(KA({email:pe,name:Ge,password:H}));p?x(p):U("/")};return tt.jsxs(tt.Fragment,{children:[tt.jsx("h1",{children:"Sign Up"}),a.server&&tt.jsx("p",{children:a.server}),tt.jsxs("form",{onSubmit:M,children:[tt.jsxs("label",{children:["Email",tt.jsx("input",{type:"text",value:pe,onChange:v=>Re(v.target.value),required:!0})]}),a.email&&tt.jsx("p",{children:a.email}),tt.jsxs("label",{children:["Name",tt.jsx("input",{type:"text",value:Ge,onChange:v=>j(v.target.value),required:!0})]}),a.name&&tt.jsx("p",{children:a.name}),tt.jsxs("label",{children:["Password",tt.jsx("input",{type:"password",value:H,onChange:v=>e(v.target.value),required:!0})]}),a.password&&tt.jsx("p",{children:a.password}),tt.jsxs("label",{children:["Confirm Password",tt.jsx("input",{type:"password",value:g,onChange:v=>P(v.target.value),required:!0})]}),a.confirmPassword&&tt.jsx("p",{children:a.confirmPassword}),tt.jsx("button",{type:"submit",children:"Sign Up"})]})]})}function GR(){return $i(U=>U.session.user)?tt.jsx(jy,{to:"/dashboard"}):tt.jsxs("div",{className:"landing-page",children:[tt.jsx("img",{src:"https://i.kym-cdn.com/entries/icons/original/000/029/959/Screen_Shot_2019-06-05_at_1.26.32_PM.jpg",alt:"stonks-logo"}),tt.jsx("h1",{children:"Welcome to Stonk Trader 3000"}),tt.jsxs("p",{children:["Please ",tt.jsx(Hi,{to:"/login",children:"Login"})," or ",tt.jsx(Hi,{to:"/signup",children:"Sign up"})," to get started!"]})]})}const Z2=gn.createContext();function WR({children:R}){const U=gn.useRef(),[ee,pe]=gn.useState(null),[Re,Ge]=gn.useState(null),H={modalRef:U,modalContent:ee,setModalContent:pe,setOnModalClose:Ge,closeModal:()=>{pe(null),typeof Re=="function"&&(Ge(null),Re())}};return tt.jsxs(tt.Fragment,{children:[tt.jsx(Z2.Provider,{value:H,children:R}),tt.jsx("div",{ref:U})]})}function YR(){const{modalRef:R,modalContent:U,closeModal:ee}=gn.useContext(Z2);return!R||!R.current||!U?null:hA.createPortal(tt.jsxs("div",{id:"modal",children:[tt.jsx("div",{id:"modal-background",onClick:ee}),tt.jsx("div",{id:"modal-content",children:U})]}),R.current)}const pu=()=>gn.useContext(Z2);var P6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e4=ac.createContext&&ac.createContext(P6),XR=["attr","size","title"];function ZR(R,U){if(R==null)return{};var ee=KR(R,U),pe,Re;if(Object.getOwnPropertySymbols){var Ge=Object.getOwnPropertySymbols(R);for(Re=0;Re<Ge.length;Re++)pe=Ge[Re],!(U.indexOf(pe)>=0)&&Object.prototype.propertyIsEnumerable.call(R,pe)&&(ee[pe]=R[pe])}return ee}function KR(R,U){if(R==null)return{};var ee={},pe=Object.keys(R),Re,Ge;for(Ge=0;Ge<pe.length;Ge++)Re=pe[Ge],!(U.indexOf(Re)>=0)&&(ee[Re]=R[Re]);return ee}function Zg(){return Zg=Object.assign?Object.assign.bind():function(R){for(var U=1;U<arguments.length;U++){var ee=arguments[U];for(var pe in ee)Object.prototype.hasOwnProperty.call(ee,pe)&&(R[pe]=ee[pe])}return R},Zg.apply(this,arguments)}function t4(R,U){var ee=Object.keys(R);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(R);U&&(pe=pe.filter(function(Re){return Object.getOwnPropertyDescriptor(R,Re).enumerable})),ee.push.apply(ee,pe)}return ee}function Kg(R){for(var U=1;U<arguments.length;U++){var ee=arguments[U]!=null?arguments[U]:{};U%2?t4(Object(ee),!0).forEach(function(pe){JR(R,pe,ee[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(ee)):t4(Object(ee)).forEach(function(pe){Object.defineProperty(R,pe,Object.getOwnPropertyDescriptor(ee,pe))})}return R}function JR(R,U,ee){return U=$R(U),U in R?Object.defineProperty(R,U,{value:ee,enumerable:!0,configurable:!0,writable:!0}):R[U]=ee,R}function $R(R){var U=QR(R,"string");return typeof U=="symbol"?U:String(U)}function QR(R,U){if(typeof R!="object"||R===null)return R;var ee=R[Symbol.toPrimitive];if(ee!==void 0){var pe=ee.call(R,U||"default");if(typeof pe!="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(R)}function R6(R){return R&&R.map((U,ee)=>ac.createElement(U.tag,Kg({key:ee},U.attr),R6(U.child)))}function vl(R){return U=>ac.createElement(qR,Zg({attr:Kg({},R.attr)},U),R6(R.child))}function qR(R){var U=ee=>{var{attr:pe,size:Re,title:Ge}=R,j=ZR(R,XR),H=Re||ee.size||"1em",e;return ee.className&&(e=ee.className),R.className&&(e=(e?e+" ":"")+R.className),ac.createElement("svg",Zg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},ee.attr,pe,j,{className:e,style:Kg(Kg({color:R.color||ee.color},ee.style),R.style),height:H,width:H,xmlns:"http://www.w3.org/2000/svg"}),Ge&&ac.createElement("title",null,Ge),R.children)};return e4!==void 0?ac.createElement(e4.Consumer,null,ee=>U(ee)):U(P6)}function eD(R){return vl({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(R)}function tD(R){return vl({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(R)}function D6(R){return vl({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(R)}function I6(R){return vl({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(R)}function rD(R){return vl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(R)}function K2(R){return vl({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(R)}function nD(R){return vl({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(R)}function Gy(R){return vl({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(R)}function aD(R){return vl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(R)}function iD(R){return vl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(R)}function oD(R){return vl({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zM112 223.4c3.3-42.1 32.2-71.4 56-71.4s52.7 29.3 56 71.4c.7 8.6-10.8 11.9-14.9 4.5l-9.5-17c-7.7-13.7-19.2-21.6-31.5-21.6s-23.8 7.9-31.5 21.6l-9.5 17c-4.3 7.4-15.8 4-15.1-4.5zm250.8 122.8C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.5-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.6-16.2 38.1 4.3 24.6 20.5zm6.2-118.3l-9.5-17c-7.7-13.7-19.2-21.6-31.5-21.6s-23.8 7.9-31.5 21.6l-9.5 17c-4.1 7.3-15.6 4-14.9-4.5 3.3-42.1 32.2-71.4 56-71.4s52.7 29.3 56 71.4c.6 8.6-11 11.9-15.1 4.5z"},child:[]}]})(R)}function sD(){const R=gn.useRef(),U=mo(),ee=$i(r=>r.stocks.stocks),pe=$i(r=>r.screeners.screeners),[Re,Ge]=gn.useState(!1),[j,H]=gn.useState(""),[e,g]=gn.useState([]),[P,a]=gn.useState([]);gn.useEffect(()=>{if(!Re)return;const r=t=>{R.current&&!R.current.contains(t.target)&&Ge(!1)};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)},[Re]);const x=r=>{const t=ee==null?void 0:ee.filter(i=>r&&i&&i.ticker.toLowerCase().startsWith(r.toLowerCase())).slice(0,5);g(t)},M=r=>{const t=ee==null?void 0:ee.filter(i=>r&&i&&i.name.toLowerCase().startsWith(r.toLowerCase())).slice(0,5);a(t)},v=r=>{H(r),x(r),M(r)},p=()=>{H(""),Ge(!1)};return gn.useEffect(()=>{U(x6()),U(E6())},[U]),tt.jsxs("div",{className:"search-container",children:[tt.jsxs("div",{className:"search-bar",ref:R,children:[tt.jsx(aD,{}),tt.jsx("input",{onFocus:()=>Ge(!0),placeholder:"Search Stocks",value:j,onChange:r=>v(r.target.value)})]}),j?Re&&tt.jsxs("div",{className:"search-results",children:[j&&tt.jsx("h2",{children:"Matched Tickers: "}),e==null?void 0:e.map((r,t)=>tt.jsxs(Hi,{onClick:p,to:`/stocks/${r.ticker}`,children:[tt.jsx("div",{children:r.ticker}),tt.jsx("div",{children:r.name})]},t)),j&&tt.jsx("h2",{children:"Matched Names: "}),P==null?void 0:P.map((r,t)=>tt.jsxs(Hi,{onClick:p,to:`/stocks/${r.ticker}`,children:[tt.jsx("div",{children:r.ticker}),tt.jsx("div",{children:r.name})]},t))]}):Re&&tt.jsxs("div",{className:"search-results",children:[tt.jsx("h2",{children:"Stock Screeners"}),tt.jsxs("div",{className:"results-container",children:[tt.jsxs(Hi,{onClick:p,to:"/screener?id=0",children:[tt.jsx(Gy,{}),"Custom Screener"]}),pe==null?void 0:pe.map((r,t)=>tt.jsx(Hi,{onClick:p,to:`/screener?id=${r.id}`,children:r.name},t))]})]})]})}function lD(R){return vl({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.901 2.599c-1.463-1.597-3.565-2.599-5.901-2.599-4.418 0-8 3.582-8 8h1.5c0-3.59 2.91-6.5 6.5-6.5 1.922 0 3.649 0.835 4.839 2.161l-2.339 2.339h5.5v-5.5l-2.099 2.099z"},child:[]},{tag:"path",attr:{d:"M14.5 8c0 3.59-2.91 6.5-6.5 6.5-1.922 0-3.649-0.835-4.839-2.161l2.339-2.339h-5.5v5.5l2.099-2.099c1.463 1.597 3.565 2.599 5.901 2.599 4.418 0 8-3.582 8-8h-1.5z"},child:[]}]})(R)}function uD(){const R=mo(),U=Ah(),[ee,pe]=gn.useState(!1),Re=$i(g=>g.session.user),Ge=gn.useRef(),j=g=>{g.stopPropagation(),pe(!ee)};gn.useEffect(()=>{if(!ee)return;const g=P=>{Ge.current&&!Ge.current.contains(P.target)&&pe(!1)};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)},[ee]);const H=()=>pe(!1),e=async g=>{g.preventDefault(),await R(Z9()),await R(RR()),await R(nR()),await R(U9()),U("/"),H()};return tt.jsxs(tt.Fragment,{children:[tt.jsx("a",{onClick:j,className:"profile-button",children:"Account"}),ee&&tt.jsx("ul",{className:"profile-dropdown",ref:Ge,children:Re&&tt.jsxs(tt.Fragment,{children:[tt.jsx("h2",{children:Re.name}),"__________________________________________",tt.jsx("li",{children:tt.jsxs(Hi,{to:"/account/positions",onClick:H,children:[tt.jsx(oD,{}),"Account"]})}),tt.jsx("li",{children:tt.jsxs(Hi,{to:"/account/transfers",onClick:H,children:[tt.jsx(nD,{}),"Transfers"]})}),tt.jsx("li",{children:tt.jsxs(Hi,{to:"/account/strategies",onClick:H,children:[tt.jsx(lD,{}),"Strategies"]})}),tt.jsx("li",{children:tt.jsxs(Hi,{to:"/account/history",onClick:H,children:[tt.jsx(rD,{}),"History"]})}),"__________________________________________",tt.jsx("li",{children:tt.jsxs("a",{onClick:e,children:[tt.jsx(iD,{}),"Log Out"]})})]})})]})}function Jg({className:R,modalComponent:U,itemText:ee,onItemClick:pe,onModalClose:Re}){const{setModalContent:Ge,setOnModalClose:j}=pu(),H=()=>{Re&&j(Re),Ge(U),typeof pe=="function"&&pe()};return tt.jsx("div",{onClick:H,className:R,children:ee})}function fD(){const R=mo(),[U,ee]=gn.useState(""),[pe,Re]=gn.useState(""),[Ge,j]=gn.useState({}),{closeModal:H}=pu(),e=async P=>{P.preventDefault();const a=await R(Xg({email:U,password:pe}));a?j(a):H()},g=P=>{P.preventDefault(),j({});const a={};return a.email="marnie@aa.io",a.password="password",R(Xg(a)).then(H).catch(async x=>{const M=await x.json();M&&M.errors&&j(M.errors)})};return tt.jsxs("div",{className:"login-modal",children:[tt.jsx("h1",{children:"Log In"}),tt.jsxs("form",{onSubmit:e,children:[tt.jsxs("label",{children:["Email",tt.jsx("input",{type:"text",value:U,onChange:P=>ee(P.target.value),required:!0})]}),Ge.email&&tt.jsx("p",{className:"errors",children:Ge.email}),tt.jsxs("label",{children:["Password",tt.jsx("input",{type:"password",value:pe,onChange:P=>Re(P.target.value),required:!0})]}),Ge.password&&tt.jsx("p",{className:"errors",children:Ge.password}),tt.jsx("button",{type:"submit",children:"Log In"})]}),tt.jsx("button",{className:"demo-user",onClick:g,children:"Demo User"})]})}function cD(){const R=mo(),[U,ee]=gn.useState(""),[pe,Re]=gn.useState(""),[Ge,j]=gn.useState(""),[H,e]=gn.useState(""),[g,P]=gn.useState({}),{closeModal:a}=pu(),x=async M=>{if(M.preventDefault(),Ge!==H)return P({confirmPassword:"Confirm Password field must be the same as the Password field"});const v=await R(KA({email:U,name:pe,password:Ge}));v?P(v):a()};return tt.jsxs("div",{className:"login-modal",children:[tt.jsx("h1",{children:"Sign Up"}),g.server&&tt.jsx("p",{className:"errors",children:g.server}),tt.jsxs("form",{onSubmit:x,children:[tt.jsxs("label",{children:["What is your Email?",tt.jsx("input",{type:"text",value:U,onChange:M=>ee(M.target.value),required:!0})]}),g.email&&tt.jsx("p",{className:"errors",children:g.email}),tt.jsxs("label",{children:["What is your Name?",tt.jsx("input",{type:"text",value:pe,onChange:M=>Re(M.target.value),required:!0})]}),g.name&&tt.jsx("p",{className:"errors",children:g.name}),tt.jsxs("label",{children:["Enter a Password",tt.jsx("input",{type:"password",value:Ge,onChange:M=>j(M.target.value),required:!0})]}),g.password&&tt.jsx("p",{className:"errors",children:g.password}),tt.jsxs("label",{children:["Confirm Password",tt.jsx("input",{type:"password",value:H,onChange:M=>e(M.target.value),required:!0})]}),g.confirmPassword&&tt.jsx("p",{className:"errors",children:g.confirmPassword}),tt.jsx("button",{type:"submit",children:"Sign Up"})]})]})}function hD(){const R=$i(U=>U.session.user);return tt.jsx(tt.Fragment,{children:R?tt.jsxs("div",{className:"nav-bar",children:[tt.jsxs("div",{className:"nav-bar-left",children:[tt.jsx(Hi,{className:"landing-logo",to:"/",children:tt.jsx("img",{src:"/stonks-logo.png",alt:"stonks-logo",width:"50px"})}),tt.jsx(sD,{})]}),tt.jsxs("div",{className:"nav-bar-right",children:[tt.jsx(Hi,{to:"/dashboard",children:"Dashboard"}),tt.jsx(Hi,{to:"/account/positions",children:"Positions"}),tt.jsx(Hi,{to:"/account/screeners",children:"Screeners"}),tt.jsx(Hi,{to:"/account/strategies",children:"Strategies"}),tt.jsx(uD,{})]})]}):tt.jsxs("div",{className:"nav-bar",children:[tt.jsx("div",{className:"nav-bar-left",children:tt.jsx(Hi,{className:"landing-logo",to:"/",children:tt.jsx("img",{src:"/stonks-logo.png",alt:"stonks-logo",width:"50px"})})}),tt.jsxs("div",{className:"logged-out",children:[tt.jsx(Jg,{className:"log-in",itemText:"Log In",modalComponent:tt.jsx(fD,{})}),tt.jsx(Jg,{className:"log-out",itemText:"Sign Up",modalComponent:tt.jsx(cD,{})})]})]})})}function vD(){return tt.jsxs("div",{className:"footer",children:[tt.jsx("div",{children:"Royce Jiang"}),tt.jsxs("a",{href:"https://github.com/jiangroyce",target:"_blank",children:[tt.jsx(eD,{}),"Github"]}),tt.jsxs("a",{href:"https://www.linkedin.com/in/jiangroyce/",target:"_blank",children:[tt.jsx(tD,{}),"LinkedIn"]})]})}function dD(){const R=mo(),[U,ee]=gn.useState(!1);return gn.useEffect(()=>{R(B9()).then(()=>ee(!0))},[R]),tt.jsx(tt.Fragment,{children:tt.jsxs(WR,{children:[tt.jsx(hD,{}),U&&tt.jsx(VA,{}),tt.jsx(YR,{}),tt.jsx(vD,{})]})})}function mh({type:R,className:U,modalComponent:ee,buttonText:pe,onButtonClick:Re,onModalClose:Ge}){const{setModalContent:j,setOnModalClose:H}=pu(),e=g=>{g.stopPropagation(),Ge&&H(Ge),j(ee),typeof Re=="function"&&Re()};return tt.jsx("button",{className:U,onClick:e,type:R,children:pe})}function pD(){const R=mo(),[U,ee]=gn.useState(""),[pe,Re]=gn.useState({}),{closeModal:Ge}=pu(),j=async H=>{H.preventDefault();const e=await R(d6({name:U}));e!=null&&e.errors?Re(e.errors):Ge()};return tt.jsxs("div",{className:"login-modal",children:[tt.jsx("h1",{children:"Create Watchlist"}),tt.jsxs("form",{onSubmit:j,onReset:()=>Ge(),children:[tt.jsxs("label",{children:["List name",tt.jsx("input",{type:"text",value:U,onChange:H=>ee(H.target.value),required:!0})]}),pe.name&&tt.jsx("p",{children:pe.name}),tt.jsxs("div",{className:"actions",children:[tt.jsx("button",{type:"reset",children:"Cancel"}),tt.jsx("button",{type:"submit",children:"Create List"})]})]})]})}function gD(R){return vl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Remove"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M9.525,13.765a.5.5,0,0,0,.71.71c.59-.59,1.175-1.18,1.765-1.76l1.765,1.76a.5.5,0,0,0,.71-.71c-.59-.58-1.18-1.175-1.76-1.765.41-.42.82-.825,1.23-1.235.18-.18.35-.36.53-.53a.5.5,0,0,0-.71-.71L12,11.293,10.235,9.525a.5.5,0,0,0-.71.71L11.293,12Z"},child:[]},{tag:"path",attr:{d:"M12,21.933A9.933,9.933,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.933ZM12,3.067A8.933,8.933,0,1,0,20.934,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(R)}function yD(R){return vl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Settings"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12.6,20.936H11.3a.883.883,0,0,1-.852-.654l-.774-2.833-2.5,1.435a.886.886,0,0,1-1.06-.138l-.925-.919a.884.884,0,0,1-.143-1.066l1.469-2.545L6.509,14.2l-2.787-.747a.882.882,0,0,1-.654-.851V11.3a.882.882,0,0,1,.652-.85l2.839-.777L5.12,7.171a.885.885,0,0,1,.141-1.062l.918-.918A.885.885,0,0,1,7.24,5.049L9.792,6.514l.012,0,.745-2.79a.881.881,0,0,1,.851-.655h1.3a.883.883,0,0,1,.852.655l.762,2.838,2.509-1.441a.885.885,0,0,1,1.059.138l.926.919a.882.882,0,0,1,.141,1.067L17.483,9.777l.008.022,2.786.746a.883.883,0,0,1,.653.851v1.3a.883.883,0,0,1-.654.852l-2.837.774,1.439,2.505a.881.881,0,0,1-.141,1.063l-.917.917a.888.888,0,0,1-1.063.141l-2.539-1.462L14.2,17.5l-.745,2.785A.885.885,0,0,1,12.6,20.936Zm-1.21-1h1.119l.738-2.756a.888.888,0,0,1,.528-.592l.134-.052a.873.873,0,0,1,.76.057l2.51,1.445.789-.789-1.423-2.478a.881.881,0,0,1-.048-.78l.052-.125a.875.875,0,0,1,.584-.51l2.8-.749v-1.12l-2.755-.737a.885.885,0,0,1-.592-.529l-.052-.132a.882.882,0,0,1,.057-.763L18.04,6.818l-.8-.79-2.48,1.425a.878.878,0,0,1-.772.052l-.115-.047a.888.888,0,0,1-.518-.588l-.748-2.806H11.492l-.738,2.762a.883.883,0,0,1-.539.6l-.12.045a.874.874,0,0,1-.751-.058L6.822,5.962l-.789.789L7.455,9.227a.886.886,0,0,1,.046.785l-.051.12a.876.876,0,0,1-.579.5l-2.8.758v1.121l2.757.738a.889.889,0,0,1,.591.525l.048.121a.874.874,0,0,1-.055.77L5.958,17.181l.8.791,2.47-1.419a.878.878,0,0,1,.787-.045l.106.044a.874.874,0,0,1,.526.591ZM9.75,17.482l.008,0ZM9.6,17.421l.007,0ZM6.487,14.147h0Zm.044-4.411h0Zm7.724-3.2Z"},child:[]},{tag:"path",attr:{d:"M12,15a3,3,0,1,1,3-3A3,3,0,0,1,12,15Zm0-5a2,2,0,1,0,2,2A2,2,0,0,0,12,10Z"},child:[]}]}]}]})(R)}function mD({watchlist:R}){const U=mo(),[ee,pe]=gn.useState(R.name),[Re,Ge]=gn.useState({}),{closeModal:j}=pu(),H=async e=>{e.preventDefault();const g=await U(p6({name:ee,list_number:R.list_number}));g!=null&&g.errors?Ge(g.errors):j()};return tt.jsxs("div",{className:"login-modal",children:[tt.jsx("h1",{children:"Edit Watchlist"}),tt.jsxs("form",{onSubmit:H,onReset:()=>j(),children:[tt.jsxs("label",{children:["List name",tt.jsx("input",{type:"text",value:ee,onChange:e=>pe(e.target.value),required:!0})]}),Re.name&&tt.jsx("p",{children:Re.name}),tt.jsxs("div",{className:"actions",children:[tt.jsx("button",{type:"reset",children:"Cancel"}),tt.jsx("button",{type:"submit",children:"Confirm"})]})]})]})}function xD({watchlist:R}){var j;const U=mo(),[ee,pe]=gn.useState({}),{closeModal:Re}=pu(),Ge=async H=>{H.preventDefault();const e=await U(uR(R.list_number));e!=null&&e.errors?pe(e.errors):Re()};return tt.jsxs("div",{className:"delete-modal",children:[tt.jsxs("h1",{children:['Are you sure you want to delete "',R==null?void 0:R.name,'"?']}),tt.jsxs("h2",{children:["If you delete, this list and its ",(j=R==null?void 0:R.stocks)==null?void 0:j.length," items will be gone forever"]}),tt.jsx("div",{className:"actions",children:tt.jsxs("button",{onClick:Ge,children:["Delete ",R==null?void 0:R.name]})}),ee&&ee[404]&&tt.jsx("p",{children:"Cannot create/edit/delete Default lists"})]})}function bD({watchlist:R}){var Ge;const U=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),[ee,pe]=gn.useState(!1),Re=()=>pe(!ee);return tt.jsxs("div",{className:"watchlist",children:[tt.jsxs("div",{className:"watchlist-bar-header",children:[tt.jsxs(Hi,{to:`/watchlists/${R.list_number}`,children:[tt.jsx(K2,{}),R.name]}),tt.jsxs("div",{className:"watchlist-right",children:[tt.jsxs("div",{className:"edit-watchlist",children:[tt.jsx(Jg,{itemText:tt.jsx(yD,{}),modalComponent:tt.jsx(mD,{watchlist:R})}),tt.jsx(Jg,{itemText:tt.jsx(gD,{}),modalComponent:tt.jsx(xD,{watchlist:R})})]}),tt.jsx("button",{className:"watchlist-expand",onClick:Re,children:ee?tt.jsx(I6,{}):tt.jsx(D6,{})})]})]}),ee&&tt.jsx("div",{className:"watchlist-info",children:(Ge=R.stocks)==null?void 0:Ge.map((j,H)=>tt.jsxs(Hi,{to:`/stocks/${j==null?void 0:j.ticker}`,className:"watchlist-stock",children:[tt.jsx("div",{children:j==null?void 0:j.ticker}),tt.jsx("div",{children:j==null?void 0:j.name}),tt.jsx("div",{children:U.format(j==null?void 0:j.price)})]},H))})]})}function _6({watchlists:R}){var U;return tt.jsxs("div",{className:"watchlists-container",children:[tt.jsxs("div",{className:"watchlists-header",children:[tt.jsx("h2",{children:"Watchlists"}),tt.jsx(mh,{buttonText:tt.jsx(Gy,{}),modalComponent:tt.jsx(pD,{})})]}),tt.jsx("div",{className:"watchlist-card-bar",children:(U=Object.entries(R))==null?void 0:U.map(([ee,pe],Re)=>{if(ee!="lists")return tt.jsx(bD,{watchlist:pe},Re)})})]})}var k6={},F6={},O6={exports:{}},wD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TD=wD,AD=TD;function z6(){}function N6(){}N6.resetWarningCache=z6;var SD=function(){function R(pe,Re,Ge,j,H,e){if(e!==AD){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}R.isRequired=R;function U(){return R}var ee={array:R,bigint:R,bool:R,func:R,number:R,object:R,string:R,symbol:R,any:R,arrayOf:U,element:R,elementType:R,instanceOf:U,node:R,objectOf:U,oneOf:U,oneOfType:U,shape:U,exact:U,checkPropTypes:N6,resetWarningCache:z6};return ee.PropTypes=ee,ee};O6.exports=SD();var MD=O6.exports;(function(R){function U(f){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},U(f)}Object.defineProperty(R,"__esModule",{value:!0}),R.default=u;var ee=j(gn),pe=Re(MD);function Re(f){return f&&f.__esModule?f:{default:f}}function Ge(f){if(typeof WeakMap!="function")return null;var l=new WeakMap,y=new WeakMap;return(Ge=function(S){return S?y:l})(f)}function j(f,l){if(!l&&f&&f.__esModule)return f;if(f===null||U(f)!=="object"&&typeof f!="function")return{default:f};var y=Ge(l);if(y&&y.has(f))return y.get(f);var h={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in f)if(c!=="default"&&Object.prototype.hasOwnProperty.call(f,c)){var o=S?Object.getOwnPropertyDescriptor(f,c):null;o&&(o.get||o.set)?Object.defineProperty(h,c,o):h[c]=f[c]}return h.default=f,y&&y.set(f,h),h}function H(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function e(f,l){for(var y=0;y<l.length;y++){var h=l[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function g(f,l,y){return l&&e(f.prototype,l),y&&e(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function P(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),l&&a(f,l)}function a(f,l){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,S){return h.__proto__=S,h},a(f,l)}function x(f){var l=p();return function(){var h=r(f),S;if(l){var c=r(this).constructor;S=Reflect.construct(h,arguments,c)}else S=h.apply(this,arguments);return M(this,S)}}function M(f,l){if(l&&(U(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(f)}function v(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(f){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},r(f)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],i=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function u(f){var l=function(y){P(S,y);var h=x(S);function S(c){var o;return H(this,S),o=h.call(this,c),o.p=Promise.resolve(),o.resizeHandler=null,o.handlers={},o.syncWindowResize=o.syncWindowResize.bind(v(o)),o.syncEventHandlers=o.syncEventHandlers.bind(v(o)),o.attachUpdateEvents=o.attachUpdateEvents.bind(v(o)),o.getRef=o.getRef.bind(v(o)),o.handleUpdate=o.handleUpdate.bind(v(o)),o.figureCallback=o.figureCallback.bind(v(o)),o.updatePlotly=o.updatePlotly.bind(v(o)),o}return g(S,[{key:"updatePlotly",value:function(o,d,w){var A=this;this.p=this.p.then(function(){if(!A.unmounting){if(!A.el)throw new Error("Missing element reference");return f.react(A.el,{data:A.props.data,layout:A.props.layout,config:A.props.config,frames:A.props.frames})}}).then(function(){A.unmounting||(A.syncWindowResize(o),A.syncEventHandlers(),A.figureCallback(d),w&&A.attachUpdateEvents())}).catch(function(C){A.props.onError&&A.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(o){this.unmounting=!1;var d=o.frames&&o.frames.length?o.frames.length:0,w=this.props.frames&&this.props.frames.length?this.props.frames.length:0,A=!(o.layout===this.props.layout&&o.data===this.props.data&&o.config===this.props.config&&w===d),C=o.revision!==void 0,m=o.revision!==this.props.revision;!A&&(!C||C&&!m)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),f.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||i.forEach(function(d){o.el.on(d,o.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||i.forEach(function(d){o.el.removeListener(d,o.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(o){if(typeof o=="function"){var d=this.el,w=d.data,A=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,m={data:w,layout:A,frames:C};o(m,this.el)}}},{key:"syncWindowResize",value:function(o){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return f.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),o&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(o){this.el=o,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var o=this;t.forEach(function(d){var w=o.props["on"+d],A=o.handlers[d],C=!!A;w&&!C?o.addEventHandler(d,w):!w&&C?o.removeEventHandler(d):w&&C&&w!==A&&(o.removeEventHandler(d),o.addEventHandler(d,w))})}},{key:"addEventHandler",value:function(o,d){this.handlers[o]=d,this.el.on(this.getPlotlyEventName(o),this.handlers[o])}},{key:"removeEventHandler",value:function(o){this.el.removeListener(this.getPlotlyEventName(o),this.handlers[o]),delete this.handlers[o]}},{key:"getPlotlyEventName",value:function(o){return"plotly_"+o.toLowerCase()}},{key:"render",value:function(){return ee.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),S}(ee.Component);return l.propTypes={data:pe.default.arrayOf(pe.default.object),config:pe.default.object,layout:pe.default.object,frames:pe.default.arrayOf(pe.default.object),revision:pe.default.number,onInitialized:pe.default.func,onPurge:pe.default.func,onError:pe.default.func,onUpdate:pe.default.func,debug:pe.default.bool,style:pe.default.object,className:pe.default.string,useResizeHandler:pe.default.bool,divId:pe.default.string},t.forEach(function(y){l.propTypes["on"+y]=pe.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(F6);var B6={exports:{}};(function(R,U){(function(pe,Re){R.exports=Re()})(self,function(){return function(){var ee={79288:function(j,H,e){var g=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in P){var x=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(x,P[a])}},86712:function(j,H,e){j.exports=e(84224)},37240:function(j,H,e){j.exports=e(51132)},29744:function(j,H,e){j.exports=e(94456)},29352:function(j,H,e){j.exports=e(67244)},96144:function(j,H,e){j.exports=e(97776)},53219:function(j,H,e){j.exports=e(61712)},4624:function(j,H,e){j.exports=e(95856)},54543:function(j,H,e){j.exports=e(54272)},45e3:function(j,H,e){j.exports=e(85404)},62300:function(j,H,e){j.exports=e(26048)},6920:function(j,H,e){j.exports=e(66240)},10264:function(j,H,e){j.exports=e(40448)},32016:function(j,H,e){j.exports=e(64884)},27528:function(j,H,e){j.exports=e(15088)},75556:function(j,H,e){j.exports=e(76744)},39204:function(j,H,e){j.exports=e(94704)},73996:function(j,H,e){j.exports=e(62396)},16489:function(j,H,e){j.exports=e(32028)},5e3:function(j,H,e){j.exports=e(81932)},77280:function(j,H,e){j.exports=e(45536)},33992:function(j,H,e){j.exports=e(42600)},17600:function(j,H,e){j.exports=e(21536)},49116:function(j,H,e){j.exports=e(65664)},46808:function(j,H,e){j.exports=e(29044)},36168:function(j,H,e){j.exports=e(48928)},13792:function(j,H,e){var g=e(32016);g.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),j.exports=g},3920:function(j,H,e){j.exports=e(43480)},25120:function(j,H,e){j.exports=e(6296)},4340:function(j,H,e){j.exports=e(7404)},86152:function(j,H,e){j.exports=e(65456)},56816:function(j,H,e){j.exports=e(22020)},89296:function(j,H,e){j.exports=e(29928)},20260:function(j,H,e){j.exports=e(75792)},32140:function(j,H,e){j.exports=e(156)},84764:function(j,H,e){j.exports=e(45499)},48824:function(j,H,e){j.exports=e(3296)},69967:function(j,H,e){j.exports=e(4184)},8363:function(j,H,e){j.exports=e(36952)},86636:function(j,H,e){j.exports=e(38983)},70192:function(j,H,e){j.exports=e(11572)},81604:function(j,H,e){j.exports=e(76924)},63796:function(j,H,e){j.exports=e(62944)},89336:function(j,H,e){j.exports=e(95443)},67484:function(j,H,e){j.exports=e(34864)},97312:function(j,H,e){j.exports=e(76272)},42192:function(j,H,e){j.exports=e(97924)},29800:function(j,H,e){j.exports=e(15436)},63560:function(j,H,e){j.exports=e(5621)},89904:function(j,H,e){j.exports=e(91304)},50248:function(j,H,e){j.exports=e(41724)},65832:function(j,H,e){j.exports=e(31991)},79440:function(j,H,e){j.exports=e(22869)},13752:function(j,H,e){j.exports=e(67776)},83096:function(j,H,e){j.exports=e(95952)},72196:function(j){j.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(j,H,e){var g=e(72196),P=e(25376),a=e(33816),x=e(31780).templatedArray;e(36208),j.exports=x("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(j,H,e){var g=e(3400),P=e(54460),a=e(23816).draw;j.exports=function(p){var r=p._fullLayout,t=g.filterVisible(r.annotations);if(t.length&&p._fullData.length)return g.syncOrAsync([a,x],p)};function x(v){var p=v._fullLayout;g.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),i=P.getFromId(v,r.yref),n=P.getRefType(r.xref),u=P.getRefType(r.yref);r._extremes={},n==="range"&&M(r,t),u==="range"&&M(r,i)})}function M(v,p){var r=p._id,t=r.charAt(0),i=v[t],n=v["a"+t],u=v[t+"ref"],f=v["a"+t+"ref"],l=v["_"+t+"padplus"],y=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],S=3*v.arrowsize*v.arrowwidth||0,c=S+h,o=S-h,d=3*v.startarrowsize*v.arrowwidth||0,w=d+h,A=d-h,C;if(f===u){var m=P.findExtremes(p,[p.r2c(i)],{ppadplus:c,ppadminus:o}),E=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(l,w),ppadminus:Math.max(y,A)});C={min:[m.min[0],E.min[0]],max:[m.max[0],E.max[0]]}}else w=n?w+n:w,A=n?A-n:A,C=P.findExtremes(p,[p.r2c(i)],{ppadplus:Math.max(l,c,w),ppadminus:Math.max(y,o,A)});v._extremes[r]=C}},42300:function(j,H,e){var g=e(3400),P=e(24040),a=e(31780).arrayEditor;j.exports={hasClickToShow:x,onClick:M};function x(r,t){var i=v(r,t);return i.on.length>0||i.explicitOff.length>0}function M(r,t){var i=v(r,t),n=i.on,u=i.off.concat(i.explicitOff),f={},l=r._fullLayout.annotations,y,h;if(n.length||u.length){for(y=0;y<n.length;y++)h=a(r.layout,"annotations",l[n[y]]),h.modifyItem("visible",!0),g.extendFlat(f,h.getUpdateObj());for(y=0;y<u.length;y++)h=a(r.layout,"annotations",l[u[y]]),h.modifyItem("visible",!1),g.extendFlat(f,h.getUpdateObj());return P.call("update",r,{},f)}}function v(r,t){var i=r._fullLayout.annotations,n=[],u=[],f=[],l=(t||[]).length,y,h,S,c,o,d,w,A;for(y=0;y<i.length;y++)if(S=i[y],c=S.clicktoshow,c){for(h=0;h<l;h++)if(o=t[h],d=o.xaxis,w=o.yaxis,d._id===S.xref&&w._id===S.yref&&d.d2r(o.x)===p(S._xclick,d)&&w.d2r(o.y)===p(S._yclick,w)){S.visible?c==="onout"?A=u:A=f:A=n,A.push(y);break}h===l&&S.visible&&c==="onout"&&u.push(y)}return{on:n,off:u,explicitOff:f}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(j,H,e){var g=e(3400),P=e(76308);j.exports=function(x,M,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),i=P.opacity(t);p("borderpad");var n=p("borderwidth"),u=p("showarrow");p("text",u?" ":v._dfltTitle.annotation),p("textangle"),g.coerceFont(p,"font",v.font),p("width"),p("align");var f=p("height");if(f&&p("valign"),u){var l=p("arrowside"),y,h;l.indexOf("end")!==-1&&(y=p("arrowhead"),h=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",y),p("startarrowsize",h)),p("arrowcolor",i?M.bordercolor:P.defaultLine),p("arrowwidth",(i&&n||1)*2),p("standoff"),p("startstandoff")}var S=p("hovertext"),c=v.hoverlabel||{};if(S){var o=p("hoverlabel.bgcolor",c.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",c.bordercolor||P.contrast(o));g.coerceFont(p,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||d})}p("captureevents",!!S)}},26828:function(j,H,e){var g=e(38248),P=e(36896);j.exports=function(x,M,v,p){M=M||{};var r=v==="log"&&M.type==="linear",t=v==="linear"&&M.type==="log";if(!(r||t))return;var i=x._fullLayout.annotations,n=M._id.charAt(0),u,f;function l(h){var S=u[h],c=null;r?c=P(S,M.range):c=Math.pow(10,S),g(c)||(c=null),p(f+h,c)}for(var y=0;y<i.length;y++)u=i[y],f="annotations["+y+"].",u[n+"ref"]===M._id&&l(n),u["a"+n+"ref"]===M._id&&l("a"+n)}},45216:function(j,H,e){var g=e(3400),P=e(54460),a=e(51272),x=e(87192),M=e(13916);j.exports=function(r,t){a(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function i(b,s){return g.coerce(p,r,M,b,s)}var n=i("visible"),u=i("clicktoshow");if(n||u){x(p,r,t,i);for(var f=r.showarrow,l=["x","y"],y=[-10,-30],h={_fullLayout:t},S=0;S<2;S++){var c=l[S],o=P.coerceRef(p,r,h,c,"","paper");if(o!=="paper"){var d=P.getFromId(h,o);d._annIndices.push(r._index)}if(P.coercePosition(r,h,i,o,c,.5),f){var w="a"+c,A=P.coerceRef(p,r,h,w,"pixel",["pixel","paper"]);A!=="pixel"&&A!==o&&(A=r[w]="pixel");var C=A==="pixel"?y[S]:.4;P.coercePosition(r,h,i,A,w,C)}i(c+"anchor"),i(c+"shift")}if(g.noneOrAll(p,r,["x","y"]),f&&g.noneOrAll(p,r,["ax","ay"]),u){var m=i("xclick"),E=i("yclick");r._xclick=m===void 0?r.x:P.cleanPosition(m,h,r.xref),r._yclick=E===void 0?r.y:P.cleanPosition(E,h,r.yref)}}}},23816:function(j,H,e){var g=e(33428),P=e(24040),a=e(7316),x=e(3400),M=x.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),i=e(72736),n=e(93972),u=e(86476),f=e(31780).arrayEditor,l=e(33652);j.exports={draw:y,drawOne:h,drawRaw:c};function y(o){var d=o._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var w=0;w<d.annotations.length;w++)d.annotations[w].visible&&h(o,w);return a.previousPromises(o)}function h(o,d){var w=o._fullLayout,A=w.annotations[d]||{},C=v.getFromId(o,A.xref),m=v.getFromId(o,A.yref);C&&C.setScale(),m&&m.setScale(),c(o,A,d,!1,C,m)}function S(o,d,w,A,C){var m=C[w],E=C[w+"ref"],b=w.indexOf("y")!==-1,s=v.getRefType(E)==="domain",L=b?A.h:A.w;return o?s?m+(b?-d:d)/o._length:o.p2r(o.r2p(m)+d):m+(b?-d:d)/L}function c(o,d,w,A,C,m){var E=o._fullLayout,b=o._fullLayout._size,s=o._context.edits,L,T;A?(L="annotation-"+A,T=A+".annotations"):(L="annotation",T="annotations");var k=f(o.layout,T,d),_=k.modifyBase,B=k.modifyItem,F=k.getUpdateObj;E._infolayer.selectAll("."+L+'[data-index="'+w+'"]').remove();var O="clip"+E._uid+"_ann"+w;if(!d._input||d.visible===!1){g.selectAll("#"+O).remove();return}var N={x:{},y:{}},z=+d.textangle||0,V=E._infolayer.append("g").classed(L,!0).attr("data-index",String(w)).style("opacity",d.opacity),W=V.append("g").classed("annotation-text-g",!0),$=s[d.showarrow?"annotationTail":"annotationPosition"],re=d.captureevents||s.annotationText||$;function ne(ye){var Ce={index:w,annotation:d._input,fullAnnotation:d,event:ye};return A&&(Ce.subplotId=A),Ce}var ue=W.append("g").style("pointer-events",re?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",ne(g.event))});d.hovertext&&ue.on("mouseover",function(){var ye=d.hoverlabel,Ce=ye.font,Ae=this.getBoundingClientRect(),ke=o.getBoundingClientRect();t.loneHover({x0:Ae.left-ke.left,x1:Ae.right-ke.left,y:(Ae.top+Ae.bottom)/2-ke.top,text:d.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:Ce.family,fontSize:Ce.size,fontColor:Ce.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:o})}).on("mouseout",function(){t.loneUnhover(E._hoverlayer.node())});var J=d.borderwidth,X=d.borderpad,oe=J+X,Y=ue.append("rect").attr("class","bg").style("stroke-width",J+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),q=d.width||d.height,se=E._topclips.selectAll("#"+O).data(q?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),se.exit().remove();var Q=d.font,K=E._meta?x.templateString(d.text,E._meta):d.text,le=ue.append("text").classed("annotation-text",!0).text(K);function ie(ye){return ye.call(r.font,Q).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),i.convertToTspans(ye,o,ce),ye}function ce(){var ye=le.selectAll("a");if(ye.size()===1&&ye.text()===le.text()){var Ce=ue.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"});Ce.node().appendChild(Y.node())}var Ae=ue.select(".annotation-text-math-group"),ke=!Ae.empty(),we=r.bBox((ke?Ae:le).node()),Ee=we.width,xe=we.height,Pe=d.width||Ee,Ue=d.height||xe,Be=Math.round(Pe+2*oe),Ne=Math.round(Ue+2*oe);function Xe(yr,sr){return sr==="auto"&&(yr<.3333333333333333?sr="left":yr>.6666666666666666?sr="right":sr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[sr]}for(var ut=!1,dt=["x","y"],at=0;at<dt.length;at++){var We=dt[at],rt=d[We+"ref"]||We,st=d["a"+We+"ref"],ht={x:C,y:m}[We],vt=(z+(We==="x"?0:-90))*Math.PI/180,At=Be*Math.cos(vt),et=Ne*Math.sin(vt),_e=Math.abs(At)+Math.abs(et),Ve=d[We+"anchor"],Ze=d[We+"shift"]*(We==="x"?1:-1),He=N[We],Ie,be,me,Me,Te,Oe=v.getRefType(rt);if(ht&&Oe!=="domain"){var Ke=ht.r2fraction(d[We]);(Ke<0||Ke>1)&&(st===rt?(Ke=ht.r2fraction(d["a"+We]),(Ke<0||Ke>1)&&(ut=!0)):ut=!0),Ie=ht._offset+ht.r2p(d[We]),Me=.5}else{var nt=Oe==="domain";We==="x"?(me=d[We],Ie=nt?ht._offset+ht._length*me:Ie=b.l+b.w*me):(me=1-d[We],Ie=nt?ht._offset+ht._length*me:Ie=b.t+b.h*me),Me=d.showarrow?.5:me}if(d.showarrow){He.head=Ie;var pt=d["a"+We];if(Te=At*Xe(.5,d.xanchor)-et*Xe(.5,d.yanchor),st===rt){var yt=v.getRefType(st);yt==="domain"?(We==="y"&&(pt=1-pt),He.tail=ht._offset+ht._length*pt):yt==="paper"?We==="y"?(pt=1-pt,He.tail=b.t+b.h*pt):He.tail=b.l+b.w*pt:He.tail=ht._offset+ht.r2p(pt),be=Te}else He.tail=Ie+pt,be=Te+pt;He.text=He.tail+Te;var Yt=E[We==="x"?"width":"height"];if(rt==="paper"&&(He.head=x.constrain(He.head,1,Yt-1)),st==="pixel"){var Xt=-Math.max(He.tail-3,He.text),St=Math.min(He.tail+3,He.text)-Yt;Xt>0?(He.tail+=Xt,He.text+=Xt):St>0&&(He.tail-=St,He.text-=St)}He.tail+=Ze,He.head+=Ze}else Te=_e*Xe(Me,Ve),be=Te,He.text=Ie+Te;He.text+=Ze,Te+=Ze,be+=Ze,d["_"+We+"padplus"]=_e/2+be,d["_"+We+"padminus"]=_e/2-be,d["_"+We+"size"]=_e,d["_"+We+"shift"]=Te}if(ut){ue.remove();return}var kt=0,Kt=0;if(d.align!=="left"&&(kt=(Pe-Ee)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Kt=(Ue-xe)*(d.valign==="middle"?.5:1)),ke)Ae.select("svg").attr({x:oe+kt-1,y:oe+Kt}).call(r.setClipUrl,q?O:null,o);else{var mr=oe+Kt-we.top,mt=oe+kt-we.left;le.call(i.positionText,mt,mr).call(r.setClipUrl,q?O:null,o)}se.select("rect").call(r.setRect,oe,oe,Pe,Ue),Y.call(r.setRect,J/2,J/2,Be-J,Ne-J),ue.call(r.setTranslate,Math.round(N.x.text-Be/2),Math.round(N.y.text-Ne/2)),W.attr({transform:"rotate("+z+","+N.x.text+","+N.y.text+")"});var Zt=function(yr,sr){V.selectAll(".annotation-arrow-g").remove();var bt=N.x.head,lt=N.y.head,Tt=N.x.tail+yr,Ct=N.y.tail+sr,It=N.x.text+yr,Dt=N.y.text+sr,Vt=x.rotationXYMatrix(z,It,Dt),Bt=x.apply2DTransform(Vt),$t=x.apply2DTransform2(Vt),fr=+Y.attr("width"),cr=+Y.attr("height"),dr=It-.5*fr,Ye=dr+fr,je=Dt-.5*cr,zt=je+cr,Ft=[[dr,je,dr,zt],[dr,zt,Ye,zt],[Ye,zt,Ye,je],[Ye,je,dr,je]].map($t);if(!Ft.reduce(function(_r,hn){return _r^!!x.segmentsIntersect(bt,lt,bt+1e6,lt+1e6,hn[0],hn[1],hn[2],hn[3])},!1)){Ft.forEach(function(_r){var hn=x.segmentsIntersect(Tt,Ct,bt,lt,_r[0],_r[1],_r[2],_r[3]);hn&&(Tt=hn.x,Ct=hn.y)});var Jt=d.arrowwidth,tr=d.arrowcolor,ur=d.arrowside,nr=V.append("g").style({opacity:p.opacity(tr)}).classed("annotation-arrow-g",!0),Nt=nr.append("path").attr("d","M"+Tt+","+Ct+"L"+bt+","+lt).style("stroke-width",Jt+"px").call(p.stroke,p.rgb(tr));if(l(Nt,ur,d),s.annotationPosition&&Nt.node().parentNode&&!A){var hr=bt,gr=lt;if(d.standoff){var br=Math.sqrt(Math.pow(bt-Tt,2)+Math.pow(lt-Ct,2));hr+=d.standoff*(Tt-bt)/br,gr+=d.standoff*(Ct-lt)/br}var vr=nr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Tt-hr)+","+(Ct-gr),transform:M(hr,gr)}).style("stroke-width",Jt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Gr,Dr;u.init({element:vr.node(),gd:o,prepFn:function(){var _r=r.getTranslate(ue);Gr=_r.x,Dr=_r.y,C&&C.autorange&&_(C._name+".autorange",!0),m&&m.autorange&&_(m._name+".autorange",!0)},moveFn:function(_r,hn){var nn=Bt(Gr,Dr),Pn=nn[0]+_r,Cn=nn[1]+hn;ue.call(r.setTranslate,Pn,Cn),B("x",S(C,_r,"x",b,d)),B("y",S(m,hn,"y",b,d)),d.axref===d.xref&&B("ax",S(C,_r,"ax",b,d)),d.ayref===d.yref&&B("ay",S(m,hn,"ay",b,d)),nr.attr("transform",M(_r,hn)),W.attr({transform:"rotate("+z+","+Pn+","+Cn+")"})},doneFn:function(){P.call("_guiRelayout",o,F());var _r=document.querySelector(".js-notes-box-panel");_r&&_r.redraw(_r.selectedObj)}})}}};if(d.showarrow&&Zt(0,0),$){var Qt;u.init({element:ue.node(),gd:o,prepFn:function(){Qt=W.attr("transform")},moveFn:function(yr,sr){var bt="pointer";if(d.showarrow)d.axref===d.xref?B("ax",S(C,yr,"ax",b,d)):B("ax",d.ax+yr),d.ayref===d.yref?B("ay",S(m,sr,"ay",b.w,d)):B("ay",d.ay+sr),Zt(yr,sr);else{if(A)return;var lt,Tt;if(C)lt=S(C,yr,"x",b,d);else{var Ct=d._xsize/b.w,It=d.x+(d._xshift-d.xshift)/b.w-Ct/2;lt=u.align(It+yr/b.w,Ct,0,1,d.xanchor)}if(m)Tt=S(m,sr,"y",b,d);else{var Dt=d._ysize/b.h,Vt=d.y-(d._yshift+d.yshift)/b.h-Dt/2;Tt=u.align(Vt-sr/b.h,Dt,0,1,d.yanchor)}B("x",lt),B("y",Tt),(!C||!m)&&(bt=u.getCursor(C?.5:lt,m?.5:Tt,d.xanchor,d.yanchor))}W.attr({transform:M(yr,sr)+Qt}),n(ue,bt)},clickFn:function(yr,sr){d.captureevents&&o.emit("plotly_clickannotation",ne(sr))},doneFn:function(){n(ue),P.call("_guiRelayout",o,F());var yr=document.querySelector(".js-notes-box-panel");yr&&yr.redraw(yr.selectedObj)}})}}s.annotationText?le.call(i.makeEditable,{delegate:ue,gd:o}).call(ie).on("edit",function(ye){d.text=ye,this.call(ie),B("text",ye),C&&C.autorange&&_(C._name+".autorange",!0),m&&m.autorange&&_(m._name+".autorange",!0),P.call("_guiRelayout",o,F())}):le.call(ie)}},33652:function(j,H,e){var g=e(33428),P=e(76308),a=e(72196),x=e(3400),M=x.strScale,v=x.strRotate,p=x.strTranslate;j.exports=function(t,i,n){var u=t.node(),f=a[n.arrowhead||0],l=a[n.startarrowhead||0],y=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),S=i.indexOf("start")>=0,c=i.indexOf("end")>=0,o=f.backoff*y+n.standoff,d=l.backoff*h+n.startstandoff,w,A,C,m;if(u.nodeName==="line"){w={x:+t.attr("x1"),y:+t.attr("y1")},A={x:+t.attr("x2"),y:+t.attr("y2")};var E=w.x-A.x,b=w.y-A.y;if(C=Math.atan2(b,E),m=C+Math.PI,o&&d&&o+d>Math.sqrt(E*E+b*b)){W();return}if(o){if(o*o>E*E+b*b){W();return}var s=o*Math.cos(C),L=o*Math.sin(C);A.x+=s,A.y+=L,t.attr({x2:A.x,y2:A.y})}if(d){if(d*d>E*E+b*b){W();return}var T=d*Math.cos(C),k=d*Math.sin(C);w.x-=T,w.y-=k,t.attr({x1:w.x,y1:w.y})}}else if(u.nodeName==="path"){var _=u.getTotalLength(),B="";if(_<o+d){W();return}var F=u.getPointAtLength(0),O=u.getPointAtLength(.1);C=Math.atan2(F.y-O.y,F.x-O.x),w=u.getPointAtLength(Math.min(d,_)),B="0px,"+d+"px,";var N=u.getPointAtLength(_),z=u.getPointAtLength(_-.1);m=Math.atan2(N.y-z.y,N.x-z.x),A=u.getPointAtLength(Math.max(0,_-o));var V=B?d+o:o;B+=_-V+"px,"+_+"px",t.style("stroke-dasharray",B)}function W(){t.style("stroke-dasharray","0px,100px")}function $(re,ne,ue,J){re.path&&(re.noRotate&&(ue=0),g.select(u.parentNode).append("path").attr({class:t.attr("class"),d:re.path,transform:p(ne.x,ne.y)+v(ue*180/Math.PI)+M(J)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}S&&$(l,w,C,h),c&&$(f,A,m,y)}},79180:function(j,H,e){var g=e(23816),P=e(42300);j.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(j,H,e){var g=e(13916),P=e(67824).overrideAll,a=e(31780).templatedArray;j.exports=P(a("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},42456:function(j,H,e){var g=e(3400),P=e(54460);j.exports=function(M){for(var v=M.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)a(p[r],M);M.fullLayout._infolayer.selectAll(".annotation-"+M.id).remove()};function a(x,M){var v=M.fullSceneLayout,p=v.domain,r=M.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};x._xa={},g.extendFlat(x._xa,t),P.setConvert(x._xa),x._xa._offset=r.l+p.x[0]*r.w,x._xa.l2p=function(){return .5*(1+x._pdata[0]/x._pdata[3])*r.w*(p.x[1]-p.x[0])},x._ya={},g.extendFlat(x._ya,t),P.setConvert(x._ya),x._ya._offset=r.t+(1-p.y[1])*r.h,x._ya.l2p=function(){return .5*(1-x._pdata[1]/x._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(j,H,e){var g=e(3400),P=e(54460),a=e(51272),x=e(87192),M=e(45899);j.exports=function(r,t,i){a(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:i.fullLayout})};function v(p,r,t,i){function n(l,y){return g.coerce(p,r,M,l,y)}function u(l){var y=l+"axis",h={_fullLayout:{}};return h._fullLayout[y]=t[y],P.coercePosition(r,h,n,l,l,.5)}var f=n("visible");f&&(x(p,r,i.fullLayout,n),u("x"),u("y"),u("z"),g.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(p,r,["ax","ay"])))}},71836:function(j,H,e){var g=e(23816).drawRaw,P=e(94424),a=["x","y","z"];j.exports=function(M){for(var v=M.fullSceneLayout,p=M.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var i=r[t],n=!1,u=0;u<3;u++){var f=a[u],l=i[f],y=v[f+"axis"],h=y.r2fraction(l);if(h<0||h>1){n=!0;break}}n?M.fullLayout._infolayer.select(".annotation-"+M.id+'[data-index="'+t+'"]').remove():(i._pdata=P(M.glplot.cameraParams,[v.xaxis.r2l(i.x)*p[0],v.yaxis.r2l(i.y)*p[1],v.zaxis.r2l(i.z)*p[2]]),g(M.graphDiv,i,t,M.id,i._xa,i._ya))}}},56864:function(j,H,e){var g=e(24040),P=e(3400);j.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:a,convert:e(42456),draw:e(71836)};function a(x,M){var v=g.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(x),t=0;t<r.length;t++){var i=r[t];p.test(i)&&(x[i].annotations||[]).length&&(P.pushUnique(M._basePlotModules,v),P.pushUnique(M._subplots.gl3d,i))}}},54976:function(j,H,e){j.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(j,H,e){var g=e(54976),P=e(3400),a=e(39032),x=a.EPOCHJD,M=a.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},p=function(C,m,E,b){var s={};return s[E]=v,P.coerce(C,m,s,E,b)},r=function(C,m,E,b){for(var s=0;s<E.length;s++)p(C,m,E[s]+"calendar",b.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},i={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},u="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:u,w:u,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(C,m,E){for(var b=Math.floor((m+.05)/M)+x,s=h(E).fromJD(b),L=0,T,k,_,B,F;(L=C.indexOf("%",L))!==-1;)T=C.charAt(L+1),T==="0"||T==="-"||T==="_"?(_=3,k=C.charAt(L+2),T==="_"&&(T="-")):(k=T,T="0",_=2),B=f[k],B?(B===u?F=u:F=s.formatDate(B[T]),C=C.substr(0,L)+F+C.substr(L+_),L+=F.length):L+=_;return C}var y={};function h(C){var m=y[C];return m||(m=y[C]=g.instance(C),m)}function S(C){return P.extendFlat({},v,{description:C})}function c(C){return"Sets the calendar system to use with `"+C+"` date data."}var o={xcalendar:S(c("x"))},d=P.extendFlat({},o,{ycalendar:S(c("y"))}),w=P.extendFlat({},d,{zcalendar:S(c("z"))}),A=S(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));j.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:w,surface:w,mesh3d:w,scattergl:d,ohlc:o,candlestick:o},layout:{calendar:S(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:S(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:S(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:i,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:l}},22548:function(j,H){H.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],H.defaultLine="#444",H.lightLine="#eee",H.background="#fff",H.borderLine="#BEC8D9",H.lightFraction=90.9090909090909},76308:function(j,H,e){var g=e(49760),P=e(38248),a=e(38116).isTypedArray,x=j.exports={},M=e(22548);x.defaults=M.defaults;var v=x.defaultLine=M.defaultLine;x.lightLine=M.lightLine;var p=x.background=M.background;x.tinyRGB=function(t){var i=t.toRgb();return"rgb("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+")"},x.rgb=function(t){return x.tinyRGB(g(t))},x.opacity=function(t){return t?g(t).getAlpha():0},x.addOpacity=function(t,i){var n=g(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+i+")"},x.combine=function(t,i){var n=g(t).toRgb();if(n.a===1)return g(t).toRgbString();var u=g(i||p).toRgb(),f=u.a===1?u:{r:255*(1-u.a)+u.r*u.a,g:255*(1-u.a)+u.g*u.a,b:255*(1-u.a)+u.b*u.a},l={r:f.r*(1-n.a)+n.r*n.a,g:f.g*(1-n.a)+n.g*n.a,b:f.b*(1-n.a)+n.b*n.a};return g(l).toRgbString()},x.interpolate=function(t,i,n){var u=g(t).toRgb(),f=g(i).toRgb(),l={r:n*u.r+(1-n)*f.r,g:n*u.g+(1-n)*f.g,b:n*u.b+(1-n)*f.b};return g(l).toRgbString()},x.contrast=function(t,i,n){var u=g(t);u.getAlpha()!==1&&(u=g(x.combine(t,p)));var f=u.isDark()?i?u.lighten(i):p:n?u.darken(n):v;return f.toString()},x.stroke=function(t,i){var n=g(i);t.style({stroke:x.tinyRGB(n),"stroke-opacity":n.getAlpha()})},x.fill=function(t,i){var n=g(i);t.style({fill:x.tinyRGB(n),"fill-opacity":n.getAlpha()})},x.clean=function(t){if(!(!t||typeof t!="object")){var i=Object.keys(t),n,u,f,l;for(n=0;n<i.length;n++)if(f=i[n],l=t[f],f.substr(f.length-5)==="color")if(Array.isArray(l))for(u=0;u<l.length;u++)l[u]=r(l[u]);else t[f]=r(l);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(l))for(u=0;u<l.length;u++)Array.isArray(l[u])&&(l[u][1]=r(l[u][1]));else if(Array.isArray(l)){var y=l[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(u=0;u<l.length;u++)x.clean(l[u])}else l&&typeof l=="object"&&!a(l)&&x.clean(l)}};function r(t){if(P(t)||typeof t!="string")return t;var i=t.trim();if(i.substr(0,3)!=="rgb")return t;var n=i.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var u=n[1].trim().split(/\s*[\s,]\s*/),f=i.charAt(3)==="a"&&u.length===4;if(!f&&u.length!==3)return t;for(var l=0;l<u.length;l++){if(!u[l].length||(u[l]=Number(u[l]),!(u[l]>=0)))return t;if(l===3)u[l]>1&&(u[l]=1);else if(u[l]>=1)return t}var y=Math.round(u[0]*255)+", "+Math.round(u[1]*255)+", "+Math.round(u[2]*255);return f?"rgba("+y+", "+u[3]+")":"rgb("+y+")"}},42996:function(j,H,e){var g=e(94724),P=e(25376),a=e(92880).extendFlat,x=e(67824).overrideAll;j.exports=x({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:a({},g.ticks,{dflt:""}),ticklabeloverflow:a({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:P({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(j){j.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(j,H,e){var g=e(3400),P=e(31780),a=e(26332),x=e(25404),M=e(95936),v=e(42568),p=e(42996);j.exports=function(t,i,n){var u=P.newContainer(i,"colorbar"),f=t.colorbar||{};function l(N,z){return g.coerce(f,u,p,N,z)}var y=n.margin||{t:0,b:0,l:0,r:0},h=n.width-y.l-y.r,S=n.height-y.t-y.b,c=l("orientation"),o=c==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(o?h:S):30);var w=l("lenmode");l("len",w==="fraction"?1:o?S:h);var A=l("yref"),C=l("xref"),m=A==="paper",E=C==="paper",b,s,L,T="left";o?(L="middle",T=E?"left":"right",b=E?1.02:1,s=.5):(L=m?"bottom":"top",T="center",b=.5,s=m?1.02:1),g.coerce(f,u,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:b}},"x"),g.coerce(f,u,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:s}},"y"),l("xanchor",T),l("xpad"),l("yanchor",L),l("ypad"),g.noneOrAll(f,u,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var k=g.coerce(f,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(f,u,l,"linear");var _=n.font,B={noAutotickangles:!0,outerTicks:!1,font:_};k.indexOf("inside")!==-1&&(B.bgColor="black"),v(f,u,l,"linear",B),M(f,u,l,"linear",B),x(f,u,l,"linear",B),l("title.text",n._dfltTitle.colorbar);var F=u.showticklabels?u.tickfont:_,O=g.extendFlat({},F,{color:_.color,size:g.bigFont(F.size)});g.coerceFont(l,"title.font",O),l("title.side",o?"top":"right")}},37848:function(j,H,e){var g=e(33428),P=e(49760),a=e(7316),x=e(24040),M=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,i=e(93972),n=e(43616),u=e(76308),f=e(81668),l=e(72736),y=e(94288).flipScale,h=e(28336),S=e(37668),c=e(94724),o=e(84284),d=o.LINE_SPACING,w=o.FROM_TL,A=o.FROM_BR,C=e(63964).cn;function m(k){var _=k._fullLayout,B=_._infolayer.selectAll("g."+C.colorbar).data(E(k),function(F){return F._id});B.enter().append("g").attr("class",function(F){return F._id}).classed(C.colorbar,!0),B.each(function(F){var O=g.select(this);p.ensureSingle(O,"rect",C.cbbg),p.ensureSingle(O,"g",C.cbfills),p.ensureSingle(O,"g",C.cblines),p.ensureSingle(O,"g",C.cbaxis,function(z){z.classed(C.crisp,!0)}),p.ensureSingle(O,"g",C.cbtitleunshift,function(z){z.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(O,"rect",C.cboutline);var N=b(O,F,k);N&&N.then&&(k._promises||[]).push(N),k._context.edits.colorbarPosition&&s(O,F,k)}),B.exit().each(function(F){a.autoMargin(k,F._id)}).remove(),B.order()}function E(k){var _=k._fullLayout,B=k.calcdata,F=[],O,N,z,V;function W(Q){return t(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function $(){typeof V.calc=="function"?V.calc(k,z,O):(O._fillgradient=N.reversescale?y(N.colorscale):N.colorscale,O._zrange=[N[V.min],N[V.max]])}for(var re=0;re<B.length;re++){var ne=B[re];if(z=ne[0].trace,!!z._module){var ue=z._module.colorbar;if(z.visible===!0&&ue)for(var J=Array.isArray(ue),X=J?ue:[ue],oe=0;oe<X.length;oe++){V=X[oe];var Y=V.container;N=Y?z[Y]:z,N&&N.showscale&&(O=W(N.colorbar),O._id="cb"+z.uid+(J&&Y?"-"+Y:""),O._traceIndex=z.index,O._propPrefix=(Y?Y+".":"")+"colorbar.",O._meta=z._meta,$(),F.push(O))}}}for(var q in _._colorAxes)if(N=_[q],N.showscale){var se=_._colorAxes[q];O=W(N.colorbar),O._id="cb"+q,O._propPrefix=q+".colorbar.",O._meta=_._meta,V={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(z=se[1],V.calc=z._module.colorbar.calc),$(),F.push(O)}return F}function b(k,_,B){var F=_.orientation==="v",O=_.len,N=_.lenmode,z=_.thickness,V=_.thicknessmode,W=_.outlinewidth,$=_.borderwidth,re=_.bgcolor,ne=_.xanchor,ue=_.yanchor,J=_.xpad,X=_.ypad,oe=_.x,Y=F?_.y:1-_.y,q=_.yref==="paper",se=_.xref==="paper",Q=B._fullLayout,K=Q._size,le=_._fillcolor,ie=_._line,ce=_.title,ye=ce.side,Ce=_._zrange||g.extent((typeof le=="function"?le:ie.color).domain()),Ae=typeof ie.color=="function"?ie.color:function(){return ie.color},ke=typeof le=="function"?le:function(){return le},we=_._levels,Ee=L(B,_,Ce),xe=Ee.fill,Pe=Ee.line,Ue=Math.round(z*(V==="fraction"?F?K.w:K.h:1)),Be=Ue/(F?K.w:K.h),Ne=Math.round(O*(N==="fraction"?F?K.h:K.w:1)),Xe=Ne/(F?K.h:K.w),ut=se?K.w:B._fullLayout.width,dt=q?K.h:B._fullLayout.height,at=Math.round(F?oe*ut+J:Y*dt+X),We={center:.5,right:1}[ne]||0,rt={top:1,middle:.5}[ue]||0,st=F?oe-We*Be:Y-rt*Be,ht=F?Y-rt*Xe:oe-We*Xe,vt=Math.round(F?dt*(1-ht):ut*ht);_._lenFrac=Xe,_._thickFrac=Be,_._uFrac=st,_._vFrac=ht;var At=_._axis=T(B,_,Ce);At.position=Be+(F?oe+J/K.w:Y+X/K.h);var et=["top","bottom"].indexOf(ye)!==-1;if(F&&et&&(At.title.side=ye,At.titlex=oe+J/K.w,At.titley=ht+(ce.side==="top"?Xe-X/K.h:X/K.h)),!F&&!et&&(At.title.side=ye,At.titley=Y+X/K.h,At.titlex=ht+J/K.w),ie.color&&_.tickmode==="auto"){At.tickmode="linear",At.tick0=we.start;var _e=we.size,Ve=p.constrain(Ne/50,4,15)+1,Ze=(Ce[1]-Ce[0])/((_.nticks||Ve)*_e);if(Ze>1){var He=Math.pow(10,Math.floor(Math.log(Ze)/Math.LN10));_e*=He*p.roundUp(Ze/He,[2,5,10]),(Math.abs(we.start)/we.size+1e-6)%1<2e-6&&(At.tick0=0)}At.dtick=_e}At.domain=F?[ht+X/K.h,ht+Xe-X/K.h]:[ht+J/K.w,ht+Xe-J/K.w],At.setScale(),k.attr("transform",r(Math.round(K.l),Math.round(K.t)));var Ie=k.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(K.l),-Math.round(K.t))),be=At.ticklabelposition,me=At.title.font.size,Me=k.select("."+C.cbaxis),Te,Oe=0,Ke=0;function nt(St,kt){var Kt={propContainer:At,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:k.select("."+C.cbtitle)},mr=St.charAt(0)==="h"?St.substr(1):"h"+St;k.selectAll("."+mr+",."+mr+"-math-group").remove(),f.draw(B,St,t(Kt,kt||{}))}function pt(){if(F&&et||!F&&!et){var St,kt;ye==="top"&&(St=J+K.l+ut*oe,kt=X+K.t+dt*(1-ht-Xe)+3+me*.75),ye==="bottom"&&(St=J+K.l+ut*oe,kt=X+K.t+dt*(1-ht)-3-me*.25),ye==="right"&&(kt=X+K.t+dt*Y+3+me*.75,St=J+K.l+ut*ht),nt(At._id+"title",{attributes:{x:St,y:kt,"text-anchor":F?"start":"middle"}})}}function yt(){if(F&&!et||!F&&et){var St=At.position||0,kt=At._offset+At._length/2,Kt,mr;if(ye==="right")mr=kt,Kt=K.l+ut*St+10+me*(At.showticklabels?1:.5);else if(Kt=kt,ye==="bottom"&&(mr=K.t+dt*St+10+(be.indexOf("inside")===-1?At.tickfont.size:0)+(At.ticks!=="intside"&&_.ticklen||0)),ye==="top"){var mt=ce.text.split("<br>").length;mr=K.t+dt*St+10-Ue-d*me*mt}nt((F?"h":"v")+At._id+"title",{avoid:{selection:g.select(B).selectAll("g."+At._id+"tick"),side:ye,offsetTop:F?0:K.t,offsetLeft:F?K.l:0,maxShift:F?Q.width:Q.height},attributes:{x:Kt,y:mr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function Yt(){if(!F&&!et||F&&et){var St=k.select("."+C.cbtitle),kt=St.select("text"),Kt=[-W/2,W/2],mr=St.select(".h"+At._id+"title-math-group").node(),mt=15.6;kt.node()&&(mt=parseInt(kt.node().style.fontSize,10)*d);var Zt;if(mr?(Zt=n.bBox(mr),Ke=Zt.width,Oe=Zt.height,Oe>mt&&(Kt[1]-=(Oe-mt)/2)):kt.node()&&!kt.classed(C.jsPlaceholder)&&(Zt=n.bBox(kt.node()),Ke=Zt.width,Oe=Zt.height),F){if(Oe){if(Oe+=5,ye==="top")At.domain[1]-=Oe/K.h,Kt[1]*=-1;else{At.domain[0]+=Oe/K.h;var Qt=l.lineCount(kt);Kt[1]+=(1-Qt)*mt}St.attr("transform",r(Kt[0],Kt[1])),At.setScale()}}else Ke&&(ye==="right"&&(At.domain[0]+=(Ke+me/2)/K.w),St.attr("transform",r(Kt[0],Kt[1])),At.setScale())}k.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",F?r(0,Math.round(K.h*(1-At.domain[1]))):r(Math.round(K.w*At.domain[0]),0)),Me.attr("transform",F?r(0,Math.round(-K.t)):r(Math.round(-K.l),0));var yr=k.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(xe);yr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),yr.exit().remove();var sr=Ce.map(At.c2p).map(Math.round).sort(function(It,Dt){return It-Dt});yr.each(function(It,Dt){var Vt=[Dt===0?Ce[0]:(xe[Dt]+xe[Dt-1])/2,Dt===xe.length-1?Ce[1]:(xe[Dt]+xe[Dt+1])/2].map(At.c2p).map(Math.round);F&&(Vt[1]=p.constrain(Vt[1]+(Vt[1]>Vt[0])?1:-1,sr[0],sr[1]));var Bt=g.select(this).attr(F?"x":"y",at).attr(F?"y":"x",g.min(Vt)).attr(F?"width":"height",Math.max(Ue,2)).attr(F?"height":"width",Math.max(g.max(Vt)-g.min(Vt),2));if(_._fillgradient)n.gradient(Bt,B,_._id,F?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var $t=ke(It).replace("e-","");Bt.attr("fill",P($t).toHexString())}});var bt=k.select("."+C.cblines).selectAll("path."+C.cbline).data(ie.color&&ie.width?Pe:[]);bt.enter().append("path").classed(C.cbline,!0),bt.exit().remove(),bt.each(function(It){var Dt=at,Vt=Math.round(At.c2p(It))+ie.width/2%1;g.select(this).attr("d","M"+(F?Dt+","+Vt:Vt+","+Dt)+(F?"h":"v")+Ue).call(n.lineGroupStyle,ie.width,Ae(It),ie.dash)}),Me.selectAll("g."+At._id+"tick,path").remove();var lt=at+Ue+(W||0)/2-(_.ticks==="outside"?1:0),Tt=M.calcTicks(At),Ct=M.getTickSigns(At)[2];return M.drawTicks(B,At,{vals:At.ticks==="inside"?M.clipEnds(At,Tt):Tt,layer:Me,path:M.makeTickPath(At,lt,Ct),transFn:M.makeTransTickFn(At)}),M.drawLabels(B,At,{vals:Tt,layer:Me,transFn:M.makeTransTickLabelFn(At),labelFns:M.makeLabelFns(At,lt)})}function Xt(){var St,kt=Ue+W/2;be.indexOf("inside")===-1&&(St=n.bBox(Me.node()),kt+=F?St.width:St.height),Te=Ie.select("text");var Kt=0,mr=F&&ye==="top",mt=!F&&ye==="right",Zt=0;if(Te.node()&&!Te.classed(C.jsPlaceholder)){var Qt,yr=Ie.select(".h"+At._id+"title-math-group").node();yr&&(F&&et||!F&&!et)?(St=n.bBox(yr),Kt=St.width,Qt=St.height):(St=n.bBox(Ie.node()),Kt=St.right-K.l-(F?at:vt),Qt=St.bottom-K.t-(F?vt:at),!F&&ye==="top"&&(kt+=St.height,Zt=St.height)),mt&&(Te.attr("transform",r(Kt/2+me/2,0)),Kt*=2),kt=Math.max(kt,F?Kt:Qt)}var sr=(F?J:X)*2+kt+$+W/2,bt=0;!F&&ce.text&&ue==="bottom"&&Y<=0&&(bt=sr/2,sr+=bt,Zt+=bt),Q._hColorbarMoveTitle=bt,Q._hColorbarMoveCBTitle=Zt;var lt=$+W,Tt=(F?at:vt)-lt/2-(F?J:0),Ct=(F?vt:at)-(F?Ne:X+Zt-bt);k.select("."+C.cbbg).attr("x",Tt).attr("y",Ct).attr(F?"width":"height",Math.max(sr-bt,2)).attr(F?"height":"width",Math.max(Ne+lt,2)).call(u.fill,re).call(u.stroke,_.bordercolor).style("stroke-width",$);var It=mt?Math.max(Kt-10,0):0;k.selectAll("."+C.cboutline).attr("x",(F?at:vt+J)+It).attr("y",(F?vt+X-Ne:at)+(mr?Oe:0)).attr(F?"width":"height",Math.max(Ue,2)).attr(F?"height":"width",Math.max(Ne-(F?2*X+Oe:2*J+It),2)).call(u.stroke,_.outlinecolor).style({fill:"none","stroke-width":W});var Dt=F?We*sr:0,Vt=F?0:(1-rt)*sr-Zt;if(Dt=se?K.l-Dt:-Dt,Vt=q?K.t-Vt:-Vt,k.attr("transform",r(Dt,Vt)),!F&&($||P(re).getAlpha()&&!P.equals(Q.paper_bgcolor,re))){var Bt=Me.selectAll("text"),$t=Bt[0].length,fr=k.select("."+C.cbbg).node(),cr=n.bBox(fr),dr=n.getTranslate(k),Ye=2;Bt.each(function(gr,br){var vr=0,Gr=$t-1;if(br===vr||br===Gr){var Dr=n.bBox(this),_r=n.getTranslate(this),hn;if(br===Gr){var nn=Dr.right+_r.x,Pn=cr.right+dr.x+vt-$-Ye+oe;hn=Pn-nn,hn>0&&(hn=0)}else if(br===vr){var Cn=Dr.left+_r.x,Ar=cr.left+dr.x+vt+$+Ye;hn=Ar-Cn,hn<0&&(hn=0)}hn&&($t<3?this.setAttribute("transform","translate("+hn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var je={},zt=w[ne],Ft=A[ne],Jt=w[ue],tr=A[ue],ur=sr-Ue;F?(N==="pixels"?(je.y=Y,je.t=Ne*Jt,je.b=Ne*tr):(je.t=je.b=0,je.yt=Y+O*Jt,je.yb=Y-O*tr),V==="pixels"?(je.x=oe,je.l=sr*zt,je.r=sr*Ft):(je.l=ur*zt,je.r=ur*Ft,je.xl=oe-z*zt,je.xr=oe+z*Ft)):(N==="pixels"?(je.x=oe,je.l=Ne*zt,je.r=Ne*Ft):(je.l=je.r=0,je.xl=oe+O*zt,je.xr=oe-O*Ft),V==="pixels"?(je.y=1-Y,je.t=sr*Jt,je.b=sr*tr):(je.t=ur*Jt,je.b=ur*tr,je.yt=Y-z*Jt,je.yb=Y+z*tr));var nr=_.y<.5?"b":"t",Nt=_.x<.5?"l":"r";B._fullLayout._reservedMargin[_._id]={};var hr={r:Q.width-Tt-Dt,l:Tt+je.r,b:Q.height-Ct-Vt,t:Ct+je.b};se&&q?a.autoMargin(B,_._id,je):se?B._fullLayout._reservedMargin[_._id][nr]=hr[nr]:q||F?B._fullLayout._reservedMargin[_._id][Nt]=hr[Nt]:B._fullLayout._reservedMargin[_._id][nr]=hr[nr]}return p.syncOrAsync([a.previousPromises,pt,Yt,yt,a.previousPromises,Xt],B)}function s(k,_,B){var F=_.orientation==="v",O=B._fullLayout,N=O._size,z,V,W;v.init({element:k.node(),gd:B,prepFn:function(){z=k.attr("transform"),i(k)},moveFn:function($,re){k.attr("transform",z+r($,re)),V=v.align((F?_._uFrac:_._vFrac)+$/N.w,F?_._thickFrac:_._lenFrac,0,1,_.xanchor),W=v.align((F?_._vFrac:1-_._uFrac)-re/N.h,F?_._lenFrac:_._thickFrac,0,1,_.yanchor);var ne=v.getCursor(V,W,_.xanchor,_.yanchor);i(k,ne)},doneFn:function(){if(i(k),V!==void 0&&W!==void 0){var $={};$[_._propPrefix+"x"]=V,$[_._propPrefix+"y"]=W,_._traceIndex!==void 0?x.call("_guiRestyle",B,$,_._traceIndex):x.call("_guiRelayout",B,$)}}})}function L(k,_,B){var F=_._levels,O=[],N=[],z,V,W=F.end+F.size/100,$=F.size,re=1.001*B[0]-.001*B[1],ne=1.001*B[1]-.001*B[0];for(V=0;V<1e5&&(z=F.start+V*$,!($>0?z>=W:z<=W));V++)z>re&&z<ne&&O.push(z);if(_._fillgradient)N=[0];else if(typeof _._fillcolor=="function"){var ue=_._filllevels;if(ue)for(W=ue.end+ue.size/100,$=ue.size,V=0;V<1e5&&(z=ue.start+V*$,!($>0?z>=W:z<=W));V++)z>B[0]&&z<B[1]&&N.push(z);else N=O.map(function(J){return J-F.size/2}),N.push(N[N.length-1]+F.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(N=[0]);return F.size<0&&(O.reverse(),N.reverse()),{line:O,fill:N}}function T(k,_,B){var F=k._fullLayout,O=_.orientation==="v",N={type:"linear",range:B,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},z=O?"y":"x",V={type:"linear",_id:z+_._id},W={letter:z,font:F.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function $(re,ne){return p.coerce(N,V,c,re,ne)}return h(N,V,$,W,F),S(N,V,$,W),V}j.exports={draw:m}},90553:function(j,H,e){var g=e(3400);j.exports=function(a){return g.isPlainObject(a.colorbar)}},55080:function(j,H,e){j.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(j,H,e){var g=e(42996),P=e(53756).counter,a=e(95376),x=e(88304).scales;a(x),j.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",i="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?x[p.colorscaleDflt]:null,u=p.editTypeOverride||"",f;"colorAttr"in p?(f=p.colorAttr,p.colorAttr):f={z:"z",c:"color"}[r];var l=r+"auto",y=r+"min",h=r+"max",S=r+"mid",c={};c[y]=c[h]=void 0;var o={};o[l]=!1;var d={};return f==="color"&&(d.color={valType:"color",arrayOk:!0,editType:u||"style"},p.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[y]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:o},d[h]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:o},d[S]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:i,editType:"calc"},d.colorbar=g),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(j,H,e){var g=e(38248),P=e(3400),a=e(94288).extractOpts;j.exports=function(M,v,p){var r=M._fullLayout,t=p.vals,i=p.containerStr,n=i?P.nestedProperty(v,i).get():v,u=a(n),f=u.auto!==!1,l=u.min,y=u.max,h=u.mid,S=function(){return P.aggNums(Math.min,null,t)},c=function(){return P.aggNums(Math.max,null,t)};if(l===void 0?l=S():f&&(n._colorAx&&g(l)?l=Math.min(l,S()):l=S()),y===void 0?y=c():f&&(n._colorAx&&g(y)?y=Math.max(y,c()):y=c()),f&&h!==void 0&&(y-h>h-l?l=h-(y-h):y-h<h-l&&(y=h+(h-l))),l===y&&(l-=.5,y+=.5),u._sync("min",l),u._sync("max",y),u.autocolorscale){var o;l*y<0?o=r.colorscale.diverging:l>=0?o=r.colorscale.sequential:o=r.colorscale.sequentialminus,u._sync("colorscale",o)}}},95504:function(j,H,e){var g=e(3400),P=e(94288).hasColorscale,a=e(94288).extractOpts;j.exports=function(M,v){function p(l,y){var h=l["_"+y];h!==void 0&&(l[y]=h)}function r(l,y){var h=y.container?g.nestedProperty(l,y.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var S=a(h),c=S.auto;(c||S.min===void 0)&&p(h,y.min),(c||S.max===void 0)&&p(h,y.max),S.autocolorscale&&p(h,"colorscale")}}for(var t=0;t<M.length;t++){var i=M[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var u=0;u<n.length;u++)r(i,n[u]);else r(i,n);P(i,"marker.line")&&r(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in v._colorAxes)r(v[f],{min:"cmin",max:"cmax"})}},27260:function(j,H,e){var g=e(38248),P=e(3400),a=e(90553),x=e(64013),M=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var i=t.slice(0,t.length-1);return t?P.nestedProperty(r,i).get()||{}:r}j.exports=function r(t,i,n,u,f){var l=f.prefix,y=f.cLetter,h="_module"in i,S=p(t,l),c=p(i,l),o=p(i._template||{},l)||{},d=function(){return delete t.coloraxis,delete i.coloraxis,r(t,i,n,u,f)};if(h){var w=n._colorAxes||{},A=u(l+"coloraxis");if(A){var C=v(i,"contour")&&P.nestedProperty(i,"contours.coloring").get()||"heatmap",m=w[A];m?(m[2].push(d),m[0]!==C&&(m[0]=!1,P.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[A]=[C,i,[d]];return}}var E=S[y+"min"],b=S[y+"max"],s=g(E)&&g(b)&&E<b,L=u(l+y+"auto",!s);L?u(l+y+"mid"):(u(l+y+"min"),u(l+y+"max"));var T=S.colorscale,k=o.colorscale,_;if(T!==void 0&&(_=!M(T)),k!==void 0&&(_=!M(k)),u(l+"autocolorscale",_),u(l+"colorscale"),u(l+"reversescale"),l!=="marker.line."){var B;l&&h&&(B=a(S));var F=u(l+"showscale",B);F&&(l&&o&&(c._template=o),x(S,c,n))}}},94288:function(j,H,e){var g=e(33428),P=e(49760),a=e(38248),x=e(3400),M=e(76308),v=e(88304).isValid;function p(h,S,c){var o=S?x.nestedProperty(h,S).get()||{}:h,d=o[c||"color"];d&&d._inputArray&&(d=d._inputArray);var w=!1;if(x.isArrayOrTypedArray(d)){for(var A=0;A<d.length;A++)if(a(d[A])){w=!0;break}}return x.isPlainObject(o)&&(w||o.showscale===!0||a(o.cmin)&&a(o.cmax)||v(o.colorscale)||x.isPlainObject(o.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(h){var S=h._colorAx,c=S||h,o={},d,w,A;for(w=0;w<r.length;w++)A=r[w],o[A]=c[A];if(S)for(d="c",w=0;w<t.length;w++)A=t[w],o[A]=c["c"+A];else{var C;for(w=0;w<t.length;w++){if(A=t[w],C="c"+A,C in c){o[A]=c[C];continue}C="z"+A,C in c&&(o[A]=c[C])}d=C.charAt(0)}return o._sync=function(m,E){var b=t.indexOf(m)!==-1?d+m:m;c[b]=c["_"+b]=E},o}function n(h){for(var S=i(h),c=S.min,o=S.max,d=S.reversescale?u(S.colorscale):S.colorscale,w=d.length,A=new Array(w),C=new Array(w),m=0;m<w;m++){var E=d[m];A[m]=c+E[0]*(o-c),C[m]=E[1]}return{domain:A,range:C}}function u(h){for(var S=h.length,c=new Array(S),o=S-1,d=0;o>=0;o--,d++){var w=h[o];c[d]=[1-w[0],w[1]]}return c}function f(h,S){S=S||{};for(var c=h.domain,o=h.range,d=o.length,w=new Array(d),A=0;A<d;A++){var C=P(o[A]).toRgb();w[A]=[C.r,C.g,C.b,C.a]}var m=g.scale.linear().domain(c).range(w).clamp(!0),E=S.noNumericCheck,b=S.returnArray,s;return E&&b?s=m:E?s=function(L){return y(m(L))}:b?s=function(L){return a(L)?m(L):P(L).isValid()?L:M.defaultLine}:s=function(L){return a(L)?y(m(L)):P(L).isValid()?L:M.defaultLine},s.domain=m.domain,s.range=function(){return o},s}function l(h,S){return f(n(h),S)}function y(h){var S={r:h[0],g:h[1],b:h[2],a:h[3]};return P(S).toRgbString()}j.exports={hasColorscale:p,extractOpts:i,extractScale:n,flipScale:u,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:l}},8932:function(j,H,e){var g=e(88304),P=e(94288);j.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(j,H,e){var g=e(92880).extendFlat,P=e(49084),a=e(88304).scales;j.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(j,H,e){var g=e(3400),P=e(31780),a=e(92332),x=e(27260);j.exports=function(v,p){function r(h,S){return g.coerce(v,p,a,h,S)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,i,n;function u(h,S){return g.coerce(i,n,a.coloraxis,h,S)}for(var f in t){var l=t[f];if(l[0])i=v[f]||{},n=P.newContainer(p,f,"coloraxis"),n._name=f,x(i,n,p,u,{prefix:"",cLetter:"c"});else{for(var y=0;y<l[2].length;y++)l[2][y]();delete p._colorAxes[f]}}}},88304:function(j,H,e){var g=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=P.RdBu;function x(p,r){if(r||(r=a),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),M(p)?p:r}function M(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var i=p[t];if(i.length!==2||+i[0]<r||!g(i[1]).isValid())return!1;r=+i[0]}return!0}function v(p){return P[p]!==void 0?!0:M(p)}j.exports={scales:P,defaultScale:a,get:x,isValid:v}},78316:function(j){j.exports=function(e,g,P,a,x){var M=(e-P)/(a-P),v=M+g/(a-P),p=(M+v)/2;return x==="left"||x==="bottom"?M:x==="center"||x==="middle"?p:x==="right"||x==="top"?v:M<.6666666666666666-p?M:v>1.3333333333333333-p?v:p}},67416:function(j,H,e){var g=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];j.exports=function(x,M,v,p){return v==="left"?x=0:v==="center"?x=1:v==="right"?x=2:x=g.constrain(Math.floor(x*3),0,2),p==="bottom"?M=0:p==="middle"?M=1:p==="top"?M=2:M=g.constrain(Math.floor(M*3),0,2),P[M][x]}},72760:function(j,H){H.selectMode=function(e){return e==="lasso"||e==="select"},H.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.openMode=function(e){return e==="drawline"||e==="drawopenpath"},H.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},H.selectingOrDrawing=function(e){return H.freeMode(e)||H.rectMode(e)}},86476:function(j,H,e){var g=e(29128),P=e(52264),a=e(89184),x=e(3400).removeElement,M=e(33816),v=j.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var u=n.gd,f=1,l=u._context.doubleClickDelay,y=n.element,h,S,c,o,d,w,A,C;u._mouseDownTime||(u._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=b,a?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=b,y.addEventListener("touchstart",b,{passive:!1})):y.ontouchstart=b;function m(T,k,_){return Math.abs(T)<_&&(T=0),Math.abs(k)<_&&(k=0),[T,k]}var E=n.clampFn||m;function b(T){u._dragged=!1,u._dragging=!0;var k=t(T);h=k[0],S=k[1],A=T.target,w=T,C=T.buttons===2||T.ctrlKey,typeof T.clientX>"u"&&typeof T.clientY>"u"&&(T.clientX=h,T.clientY=S),c=new Date().getTime(),c-u._mouseDownTime<l?f+=1:(f=1,u._mouseDownTime=c),n.prepFn&&n.prepFn(T,h,S),P&&!C?(d=r(),d.style.cursor=window.getComputedStyle(y).cursor):P||(d=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",L),document.addEventListener("touchend",L),n.dragmode!==!1&&(T.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(T){T.preventDefault();var k=t(T),_=n.minDrag||M.MINDRAG,B=E(k[0]-h,k[1]-S,_),F=B[0],O=B[1];(F||O)&&(u._dragged=!0,v.unhover(u,T)),u._dragged&&n.moveFn&&!C&&(u._dragdata={element:y,dx:F,dy:O},n.moveFn(F,O))}function L(T){if(delete u._dragdata,n.dragmode!==!1&&(T.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",L),document.removeEventListener("touchend",L),P?x(d):o&&(d.documentElement.style.cursor=o,o=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>l&&(f=Math.max(f-1,1)),u._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(f,w),!C){var k;try{k=new MouseEvent("click",T)}catch{var _=t(T);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",T.bubbles,T.cancelable,T.view,T.detail,T.screenX,T.screenY,_[0],_[1],T.ctrlKey,T.altKey,T.shiftKey,T.metaKey,T.button,T.relatedTarget)}A.dispatchEvent(k)}u._dragging=!1,u._dragged=!1}};function r(){var i=document.createElement("div");i.className="dragcover";var n=i.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(i),i}v.coverSlip=r;function t(i){return g(i.changedTouches?i.changedTouches[0]:i,document.body)}},2616:function(j,H,e){var g=e(95924),P=e(91200),a=e(52200).getGraphDiv,x=e(92456),M=j.exports={};M.wrapped=function(v,p,r){v=a(v),v._fullLayout&&P.clear(v._fullLayout._uid+x.HOVERID),M.raw(v,p,r)},M.raw=function(p,r){var t=p._fullLayout,i=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&g.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&i&&p.emit("plotly_unhover",{event:r,points:i}))}},98192:function(j,H){H.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},H.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(j,H,e){var g=e(33428),P=e(3400),a=P.numberFormat,x=e(38248),M=e(49760),v=e(24040),p=e(76308),r=e(8932),t=P.strTranslate,i=e(72736),n=e(9616),u=e(84284),f=u.LINE_SPACING,l=e(13448).DESELECTDIM,y=e(43028),h=e(7152),S=e(10624).appendArrayPointValue,c=j.exports={};c.font=function(we,Ee,xe,Pe){P.isPlainObject(Ee)&&(Pe=Ee.color,xe=Ee.size,Ee=Ee.family),Ee&&we.style("font-family",Ee),xe+1&&we.style("font-size",xe+"px"),Pe&&we.call(p.fill,Pe)},c.setPosition=function(we,Ee,xe){we.attr("x",Ee).attr("y",xe)},c.setSize=function(we,Ee,xe){we.attr("width",Ee).attr("height",xe)},c.setRect=function(we,Ee,xe,Pe,Ue){we.call(c.setPosition,Ee,xe).call(c.setSize,Pe,Ue)},c.translatePoint=function(we,Ee,xe,Pe){var Ue=xe.c2p(we.x),Be=Pe.c2p(we.y);if(x(Ue)&&x(Be)&&Ee.node())Ee.node().nodeName==="text"?Ee.attr("x",Ue).attr("y",Be):Ee.attr("transform",t(Ue,Be));else return!1;return!0},c.translatePoints=function(we,Ee,xe){we.each(function(Pe){var Ue=g.select(this);c.translatePoint(Pe,Ue,Ee,xe)})},c.hideOutsideRangePoint=function(we,Ee,xe,Pe,Ue,Be){Ee.attr("display",xe.isPtWithinRange(we,Ue)&&Pe.isPtWithinRange(we,Be)?null:"none")},c.hideOutsideRangePoints=function(we,Ee){if(Ee._hasClipOnAxisFalse){var xe=Ee.xaxis,Pe=Ee.yaxis;we.each(function(Ue){var Be=Ue[0].trace,Ne=Be.xcalendar,Xe=Be.ycalendar,ut=v.traceIs(Be,"bar-like")?".bartext":".point,.textpoint";we.selectAll(ut).each(function(dt){c.hideOutsideRangePoint(dt,g.select(this),xe,Pe,Ne,Xe)})})}},c.crispRound=function(we,Ee,xe){return!Ee||!x(Ee)?xe||0:we._context.staticPlot?Ee:Ee<1?1:Math.round(Ee)},c.singleLineStyle=function(we,Ee,xe,Pe,Ue){Ee.style("fill","none");var Be=(((we||[])[0]||{}).trace||{}).line||{},Ne=xe||Be.width||0,Xe=Ue||Be.dash||"";p.stroke(Ee,Pe||Be.color),c.dashLine(Ee,Xe,Ne)},c.lineGroupStyle=function(we,Ee,xe,Pe){we.style("fill","none").each(function(Ue){var Be=(((Ue||[])[0]||{}).trace||{}).line||{},Ne=Ee||Be.width||0,Xe=Pe||Be.dash||"";g.select(this).call(p.stroke,xe||Be.color).call(c.dashLine,Xe,Ne)})},c.dashLine=function(we,Ee,xe){xe=+xe||0,Ee=c.dashStyle(Ee,xe),we.style({"stroke-dasharray":Ee,"stroke-width":xe+"px"})},c.dashStyle=function(we,Ee){Ee=+Ee||1;var xe=Math.max(Ee,3);return we==="solid"?we="":we==="dot"?we=xe+"px,"+xe+"px":we==="dash"?we=3*xe+"px,"+3*xe+"px":we==="longdash"?we=5*xe+"px,"+5*xe+"px":we==="dashdot"?we=3*xe+"px,"+xe+"px,"+xe+"px,"+xe+"px":we==="longdashdot"&&(we=5*xe+"px,"+2*xe+"px,"+xe+"px,"+2*xe+"px"),we};function o(we,Ee,xe,Pe){var Ue=Ee.fillpattern,Be=Ee.fillgradient,Ne=Ue&&c.getPatternAttr(Ue.shape,0,"");if(Ne){var Xe=c.getPatternAttr(Ue.bgcolor,0,null),ut=c.getPatternAttr(Ue.fgcolor,0,null),dt=Ue.fgopacity,at=c.getPatternAttr(Ue.size,0,8),We=c.getPatternAttr(Ue.solidity,0,.3),rt=Ee.uid;c.pattern(we,"point",xe,rt,Ne,at,We,void 0,Ue.fillmode,Xe,ut,dt)}else if(Be&&Be.type!=="none"){var st=Be.type,ht="scatterfill-"+Ee.uid;if(Pe&&(ht="legendfill-"+Ee.uid),!Pe&&(Be.start!==void 0||Be.stop!==void 0)){var vt,At;st==="horizontal"?(vt={x:Be.start,y:0},At={x:Be.stop,y:0}):st==="vertical"&&(vt={x:0,y:Be.start},At={x:0,y:Be.stop}),vt.x=Ee._xA.c2p(vt.x===void 0?Ee._extremes.x.min[0].val:vt.x,!0),vt.y=Ee._yA.c2p(vt.y===void 0?Ee._extremes.y.min[0].val:vt.y,!0),At.x=Ee._xA.c2p(At.x===void 0?Ee._extremes.x.max[0].val:At.x,!0),At.y=Ee._yA.c2p(At.y===void 0?Ee._extremes.y.max[0].val:At.y,!0),we.call(b,xe,ht,"linear",Be.colorscale,"fill",vt,At,!0,!1)}else st==="horizontal"&&(st=st+"reversed"),we.call(c.gradient,xe,ht,st,Be.colorscale,"fill")}else Ee.fillcolor&&we.call(p.fill,Ee.fillcolor)}c.singleFillStyle=function(we,Ee){var xe=g.select(we.node()),Pe=xe.data(),Ue=((Pe[0]||[])[0]||{}).trace||{};o(we,Ue,Ee,!1)},c.fillGroupStyle=function(we,Ee,xe){we.style("stroke-width",0).each(function(Pe){var Ue=g.select(this);Pe[0].trace&&o(Ue,Pe[0].trace,Ee,xe)})};var d=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(d).forEach(function(we){var Ee=d[we],xe=Ee.n;c.symbolList.push(xe,String(xe),we,xe+100,String(xe+100),we+"-open"),c.symbolNames[xe]=we,c.symbolFuncs[xe]=Ee.f,c.symbolBackOffs[xe]=Ee.backoff||0,Ee.needLine&&(c.symbolNeedLines[xe]=!0),Ee.noDot?c.symbolNoDot[xe]=!0:c.symbolList.push(xe+200,String(xe+200),we+"-dot",xe+300,String(xe+300),we+"-open-dot"),Ee.noFill&&(c.symbolNoFill[xe]=!0)});var w=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(we){if(x(we))we=+we;else if(typeof we=="string"){var Ee=0;we.indexOf("-open")>0&&(Ee=100,we=we.replace("-open","")),we.indexOf("-dot")>0&&(Ee+=200,we=we.replace("-dot","")),we=c.symbolNames.indexOf(we),we>=0&&(we+=Ee)}return we%100>=w||we>=400?0:Math.floor(Math.max(we,0))};function C(we,Ee,xe,Pe){var Ue=we%100;return c.symbolFuncs[Ue](Ee,xe,Pe)+(we>=200?A:"")}var m=a("~f"),E={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(we,Ee,xe,Pe,Ue,Be){var Ne=E[Pe];return b(we,Ee,xe,Ne.type,Ue,Be,Ne.start,Ne.stop,!1,Ne.reversed)};function b(we,Ee,xe,Pe,Ue,Be,Ne,Xe,ut,dt){var at=Ue.length,We;Pe==="linear"?We={node:"linearGradient",attrs:{x1:Ne.x,y1:Ne.y,x2:Xe.x,y2:Xe.y,gradientUnits:ut?"userSpaceOnUse":"objectBoundingBox"},reversed:dt}:Pe==="radial"&&(We={node:"radialGradient",reversed:dt});for(var rt=new Array(at),st=0;st<at;st++)We.reversed?rt[at-1-st]=[m((1-Ue[st][0])*100),Ue[st][1]]:rt[st]=[m(Ue[st][0]*100),Ue[st][1]];var ht=Ee._fullLayout,vt="g"+ht._uid+"-"+xe,At=ht._defs.select(".gradients").selectAll("#"+vt).data([Pe+rt.join(";")],P.identity);At.exit().remove(),At.enter().append(We.node).each(function(){var et=g.select(this);We.attrs&&et.attr(We.attrs),et.attr("id",vt);var _e=et.selectAll("stop").data(rt);_e.exit().remove(),_e.enter().append("stop"),_e.each(function(Ve){var Ze=M(Ve[1]);g.select(this).attr({offset:Ve[0]+"%","stop-color":p.tinyRGB(Ze),"stop-opacity":Ze.getAlpha()})})}),we.style(Be,J(vt,Ee)).style(Be+"-opacity",null),we.classed("gradient_filled",!0)}c.pattern=function(we,Ee,xe,Pe,Ue,Be,Ne,Xe,ut,dt,at,We){var rt=Ee==="legend";Xe&&(ut==="overlay"?(dt=Xe,at=p.contrast(dt)):(dt=void 0,at=Xe));var st=xe._fullLayout,ht="p"+st._uid+"-"+Pe,vt,At,et=function(nt,pt,yt,Yt,Xt){return Yt+(Xt-Yt)*(nt-pt)/(yt-pt)},_e,Ve,Ze,He,Ie={},be=M(at),me=p.tinyRGB(be),Me=be.getAlpha(),Te=We*Me;switch(Ue){case"/":vt=Be*Math.sqrt(2),At=Be*Math.sqrt(2),_e="M-"+vt/4+","+At/4+"l"+vt/2+",-"+At/2+"M0,"+At+"L"+vt+",0M"+vt/4*3+","+At/4*5+"l"+vt/2+",-"+At/2,Ve=Ne*Be,He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":Ve+"px"};break;case"\\":vt=Be*Math.sqrt(2),At=Be*Math.sqrt(2),_e="M"+vt/4*3+",-"+At/4+"l"+vt/2+","+At/2+"M0,0L"+vt+","+At+"M-"+vt/4+","+At/4*3+"l"+vt/2+","+At/2,Ve=Ne*Be,He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":Ve+"px"};break;case"x":vt=Be*Math.sqrt(2),At=Be*Math.sqrt(2),_e="M-"+vt/4+","+At/4+"l"+vt/2+",-"+At/2+"M0,"+At+"L"+vt+",0M"+vt/4*3+","+At/4*5+"l"+vt/2+",-"+At/2+"M"+vt/4*3+",-"+At/4+"l"+vt/2+","+At/2+"M0,0L"+vt+","+At+"M-"+vt/4+","+At/4*3+"l"+vt/2+","+At/2,Ve=Be-Be*Math.sqrt(1-Ne),He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":Ve+"px"};break;case"|":vt=Be,At=Be,He="path",_e="M"+vt/2+",0L"+vt/2+","+At,Ve=Ne*Be,He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":Ve+"px"};break;case"-":vt=Be,At=Be,He="path",_e="M0,"+At/2+"L"+vt+","+At/2,Ve=Ne*Be,He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":Ve+"px"};break;case"+":vt=Be,At=Be,He="path",_e="M"+vt/2+",0L"+vt/2+","+At+"M0,"+At/2+"L"+vt+","+At/2,Ve=Be-Be*Math.sqrt(1-Ne),He="path",Ie={d:_e,opacity:Te,stroke:me,"stroke-width":Ve+"px"};break;case".":vt=Be,At=Be,Ne<Math.PI/4?Ze=Math.sqrt(Ne*Be*Be/Math.PI):Ze=et(Ne,Math.PI/4,1,Be/2,Be/Math.sqrt(2)),He="circle",Ie={cx:vt/2,cy:At/2,r:Ze,opacity:Te,fill:me};break}var Oe=[Ue||"noSh",dt||"noBg",at||"noFg",Be,Ne].join(";"),Ke=st._defs.select(".patterns").selectAll("#"+ht).data([Oe],P.identity);Ke.exit().remove(),Ke.enter().append("pattern").each(function(){var nt=g.select(this);if(nt.attr({id:ht,width:vt+"px",height:At+"px",patternUnits:"userSpaceOnUse",patternTransform:rt?"scale(0.8)":""}),dt){var pt=M(dt),yt=p.tinyRGB(pt),Yt=pt.getAlpha(),Xt=nt.selectAll("rect").data([0]);Xt.exit().remove(),Xt.enter().append("rect").attr({width:vt+"px",height:At+"px",fill:yt,"fill-opacity":Yt})}var St=nt.selectAll(He).data([0]);St.exit().remove(),St.enter().append(He).attr(Ie)}),we.style("fill",J(ht,xe)).style("fill-opacity",null),we.classed("pattern_filled",!0)},c.initGradients=function(we){var Ee=we._fullLayout,xe=P.ensureSingle(Ee._defs,"g","gradients");xe.selectAll("linearGradient,radialGradient").remove(),g.select(we).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(we){var Ee=we._fullLayout,xe=P.ensureSingle(Ee._defs,"g","patterns");xe.selectAll("pattern").remove(),g.select(we).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(we,Ee,xe){return we&&P.isArrayOrTypedArray(we)?Ee<we.length?we[Ee]:xe:we},c.pointStyle=function(we,Ee,xe,Pe){if(we.size()){var Ue=c.makePointStyleFns(Ee);we.each(function(Be){c.singlePointStyle(Be,g.select(this),Ee,Ue,xe,Pe)})}},c.singlePointStyle=function(we,Ee,xe,Pe,Ue,Be){var Ne=xe.marker,Xe=Ne.line;if(Be&&Be.i>=0&&we.i===void 0&&(we.i=Be.i),Ee.style("opacity",Pe.selectedOpacityFn?Pe.selectedOpacityFn(we):we.mo===void 0?Ne.opacity:we.mo),Pe.ms2mrc){var ut;we.ms==="various"||Ne.size==="various"?ut=3:ut=Pe.ms2mrc(we.ms),we.mrc=ut,Pe.selectedSizeFn&&(ut=we.mrc=Pe.selectedSizeFn(we));var dt=c.symbolNumber(we.mx||Ne.symbol)||0;we.om=dt%200>=100;var at=ke(we,xe),We=Y(we,xe);Ee.attr("d",C(dt,ut,at,We))}var rt=!1,st,ht,vt;if(we.so)vt=Xe.outlierwidth,ht=Xe.outliercolor,st=Ne.outliercolor;else{var At=(Xe||{}).width;vt=(we.mlw+1||At+1||(we.trace?(we.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in we?ht=we.mlcc=Pe.lineScale(we.mlc):P.isArrayOrTypedArray(Xe.color)?ht=p.defaultLine:ht=Xe.color,P.isArrayOrTypedArray(Ne.color)&&(st=p.defaultLine,rt=!0),"mc"in we?st=we.mcc=Pe.markerScale(we.mc):st=Ne.color||Ne.colors||"rgba(0,0,0,0)",Pe.selectedColorFn&&(st=Pe.selectedColorFn(we))}if(we.om)Ee.call(p.stroke,st).style({"stroke-width":(vt||1)+"px",fill:"none"});else{Ee.style("stroke-width",(we.isBlank?0:vt)+"px");var et=Ne.gradient,_e=we.mgt;_e?rt=!0:_e=et&&et.type,P.isArrayOrTypedArray(_e)&&(_e=_e[0],E[_e]||(_e=0));var Ve=Ne.pattern,Ze=Ve&&c.getPatternAttr(Ve.shape,we.i,"");if(_e&&_e!=="none"){var He=we.mgc;He?rt=!0:He=et.color;var Ie=xe.uid;rt&&(Ie+="-"+we.i),c.gradient(Ee,Ue,Ie,_e,[[0,He],[1,st]],"fill")}else if(Ze){var be=!1,me=Ve.fgcolor;!me&&Be&&Be.color&&(me=Be.color,be=!0);var Me=c.getPatternAttr(me,we.i,Be&&Be.color||null),Te=c.getPatternAttr(Ve.bgcolor,we.i,null),Oe=Ve.fgopacity,Ke=c.getPatternAttr(Ve.size,we.i,8),nt=c.getPatternAttr(Ve.solidity,we.i,.3);be=be||we.mcc||P.isArrayOrTypedArray(Ve.shape)||P.isArrayOrTypedArray(Ve.bgcolor)||P.isArrayOrTypedArray(Ve.fgcolor)||P.isArrayOrTypedArray(Ve.size)||P.isArrayOrTypedArray(Ve.solidity);var pt=xe.uid;be&&(pt+="-"+we.i),c.pattern(Ee,"point",Ue,pt,Ze,Ke,nt,we.mcc,Ve.fillmode,Te,Me,Oe)}else P.isArrayOrTypedArray(st)?p.fill(Ee,st[we.i]):p.fill(Ee,st);vt&&p.stroke(Ee,ht)}},c.makePointStyleFns=function(we){var Ee={},xe=we.marker;return Ee.markerScale=c.tryColorscale(xe,""),Ee.lineScale=c.tryColorscale(xe,"line"),v.traceIs(we,"symbols")&&(Ee.ms2mrc=y.isBubble(we)?h(we):function(){return(xe.size||6)/2}),we.selectedpoints&&P.extendFlat(Ee,c.makeSelectedPointStyleFns(we)),Ee},c.makeSelectedPointStyleFns=function(we){var Ee={},xe=we.selected||{},Pe=we.unselected||{},Ue=we.marker||{},Be=xe.marker||{},Ne=Pe.marker||{},Xe=Ue.opacity,ut=Be.opacity,dt=Ne.opacity,at=ut!==void 0,We=dt!==void 0;(P.isArrayOrTypedArray(Xe)||at||We)&&(Ee.selectedOpacityFn=function(Ze){var He=Ze.mo===void 0?Ue.opacity:Ze.mo;return Ze.selected?at?ut:He:We?dt:l*He});var rt=Ue.color,st=Be.color,ht=Ne.color;(st||ht)&&(Ee.selectedColorFn=function(Ze){var He=Ze.mcc||rt;return Ze.selected?st||He:ht||He});var vt=Ue.size,At=Be.size,et=Ne.size,_e=At!==void 0,Ve=et!==void 0;return v.traceIs(we,"symbols")&&(_e||Ve)&&(Ee.selectedSizeFn=function(Ze){var He=Ze.mrc||vt/2;return Ze.selected?_e?At/2:He:Ve?et/2:He}),Ee},c.makeSelectedTextStyleFns=function(we){var Ee={},xe=we.selected||{},Pe=we.unselected||{},Ue=we.textfont||{},Be=xe.textfont||{},Ne=Pe.textfont||{},Xe=Ue.color,ut=Be.color,dt=Ne.color;return Ee.selectedTextColorFn=function(at){var We=at.tc||Xe;return at.selected?ut||We:dt||(ut?We:p.addOpacity(We,l))},Ee},c.selectedPointStyle=function(we,Ee){if(!(!we.size()||!Ee.selectedpoints)){var xe=c.makeSelectedPointStyleFns(Ee),Pe=Ee.marker||{},Ue=[];xe.selectedOpacityFn&&Ue.push(function(Be,Ne){Be.style("opacity",xe.selectedOpacityFn(Ne))}),xe.selectedColorFn&&Ue.push(function(Be,Ne){p.fill(Be,xe.selectedColorFn(Ne))}),xe.selectedSizeFn&&Ue.push(function(Be,Ne){var Xe=Ne.mx||Pe.symbol||0,ut=xe.selectedSizeFn(Ne);Be.attr("d",C(c.symbolNumber(Xe),ut,ke(Ne,Ee),Y(Ne,Ee))),Ne.mrc2=ut}),Ue.length&&we.each(function(Be){for(var Ne=g.select(this),Xe=0;Xe<Ue.length;Xe++)Ue[Xe](Ne,Be)})}},c.tryColorscale=function(we,Ee){var xe=Ee?P.nestedProperty(we,Ee).get():we;if(xe){var Pe=xe.color;if((xe.colorscale||xe._colorAx)&&P.isArrayOrTypedArray(Pe))return r.makeColorScaleFuncFromTrace(xe)}return P.identity};var s={start:1,end:-1,middle:0,bottom:1,top:-1};function L(we,Ee,xe,Pe,Ue){var Be=g.select(we.node().parentNode),Ne=Ee.indexOf("top")!==-1?"top":Ee.indexOf("bottom")!==-1?"bottom":"middle",Xe=Ee.indexOf("left")!==-1?"end":Ee.indexOf("right")!==-1?"start":"middle",ut=Pe?Pe/.8+1:0,dt=(i.lineCount(we)-1)*f+1,at=s[Xe]*ut,We=xe*.75+s[Ne]*ut+(s[Ne]-1)*dt*xe/2;we.attr("text-anchor",Xe),Ue||Be.attr("transform",t(at,We))}function T(we,Ee){var xe=we.ts||Ee.textfont.size;return x(xe)&&xe>0?xe:0}c.textPointStyle=function(we,Ee,xe){if(we.size()){var Pe;if(Ee.selectedpoints){var Ue=c.makeSelectedTextStyleFns(Ee);Pe=Ue.selectedTextColorFn}var Be=Ee.texttemplate,Ne=xe._fullLayout;we.each(function(Xe){var ut=g.select(this),dt=Be?P.extractOption(Xe,Ee,"txt","texttemplate"):P.extractOption(Xe,Ee,"tx","text");if(!dt&&dt!==0){ut.remove();return}if(Be){var at=Ee._module.formatLabels,We=at?at(Xe,Ee,Ne):{},rt={};S(rt,Ee,Xe.i);var st=Ee._meta||{};dt=P.texttemplateString(dt,We,Ne._d3locale,rt,Xe,st)}var ht=Xe.tp||Ee.textposition,vt=T(Xe,Ee),At=Pe?Pe(Xe):Xe.tc||Ee.textfont.color;ut.call(c.font,Xe.tf||Ee.textfont.family,vt,At).text(dt).call(i.convertToTspans,xe).call(L,ht,vt,Xe.mrc)})}},c.selectedTextStyle=function(we,Ee){if(!(!we.size()||!Ee.selectedpoints)){var xe=c.makeSelectedTextStyleFns(Ee);we.each(function(Pe){var Ue=g.select(this),Be=xe.selectedTextColorFn(Pe),Ne=Pe.tp||Ee.textposition,Xe=T(Pe,Ee);p.fill(Ue,Be);var ut=v.traceIs(Ee,"bar-like");L(Ue,Ne,Xe,Pe.mrc2||Pe.mrc,ut)})}};var k=.5;c.smoothopen=function(we,Ee){if(we.length<3)return"M"+we.join("L");var xe="M"+we[0],Pe=[],Ue;for(Ue=1;Ue<we.length-1;Ue++)Pe.push(z(we[Ue-1],we[Ue],we[Ue+1],Ee));for(xe+="Q"+Pe[0][0]+" "+we[1],Ue=2;Ue<we.length-1;Ue++)xe+="C"+Pe[Ue-2][1]+" "+Pe[Ue-1][0]+" "+we[Ue];return xe+="Q"+Pe[we.length-3][1]+" "+we[we.length-1],xe},c.smoothclosed=function(we,Ee){if(we.length<3)return"M"+we.join("L")+"Z";var xe="M"+we[0],Pe=we.length-1,Ue=[z(we[Pe],we[0],we[1],Ee)],Be;for(Be=1;Be<Pe;Be++)Ue.push(z(we[Be-1],we[Be],we[Be+1],Ee));for(Ue.push(z(we[Pe-1],we[Pe],we[0],Ee)),Be=1;Be<=Pe;Be++)xe+="C"+Ue[Be-1][1]+" "+Ue[Be][0]+" "+we[Be];return xe+="C"+Ue[Pe][1]+" "+Ue[0][0]+" "+we[0]+"Z",xe};var _,B;function F(we,Ee,xe){return xe&&(we=$(we)),Ee?N(we[1]):O(we[0])}function O(we){var Ee=g.round(we,2);return _=Ee,Ee}function N(we){var Ee=g.round(we,2);return B=Ee,Ee}function z(we,Ee,xe,Pe){var Ue=we[0]-Ee[0],Be=we[1]-Ee[1],Ne=xe[0]-Ee[0],Xe=xe[1]-Ee[1],ut=Math.pow(Ue*Ue+Be*Be,k/2),dt=Math.pow(Ne*Ne+Xe*Xe,k/2),at=(dt*dt*Ue-ut*ut*Ne)*Pe,We=(dt*dt*Be-ut*ut*Xe)*Pe,rt=3*dt*(ut+dt),st=3*ut*(ut+dt);return[[O(Ee[0]+(rt&&at/rt)),N(Ee[1]+(rt&&We/rt))],[O(Ee[0]-(st&&at/st)),N(Ee[1]-(st&&We/st))]]}var V={hv:function(we,Ee,xe){return"H"+O(Ee[0])+"V"+F(Ee,1,xe)},vh:function(we,Ee,xe){return"V"+N(Ee[1])+"H"+F(Ee,0,xe)},hvh:function(we,Ee,xe){return"H"+O((we[0]+Ee[0])/2)+"V"+N(Ee[1])+"H"+F(Ee,0,xe)},vhv:function(we,Ee,xe){return"V"+N((we[1]+Ee[1])/2)+"H"+O(Ee[0])+"V"+F(Ee,1,xe)}},W=function(we,Ee,xe){return"L"+F(Ee,0,xe)+","+F(Ee,1,xe)};c.steps=function(we){var Ee=V[we]||W;return function(xe){for(var Pe="M"+O(xe[0][0])+","+N(xe[0][1]),Ue=xe.length,Be=1;Be<Ue;Be++)Pe+=Ee(xe[Be-1],xe[Be],Be===Ue-1);return Pe}};function $(we,Ee){var xe=we.backoff,Pe=we.trace,Ue=we.d,Be=we.i;if(xe&&Pe&&Pe.marker&&Pe.marker.angle%360===0&&Pe.line&&Pe.line.shape!=="spline"){var Ne=P.isArrayOrTypedArray(xe),Xe=we,ut=Ee?Ee[0]:_||0,dt=Ee?Ee[1]:B||0,at=Xe[0],We=Xe[1],rt=at-ut,st=We-dt,ht=Math.atan2(st,rt),vt=Ne?xe[Be]:xe;if(vt==="auto"){var At=Xe.i;Pe.type==="scatter"&&At--;var et=Xe.marker,_e=et.symbol;P.isArrayOrTypedArray(_e)&&(_e=_e[At]);var Ve=et.size;P.isArrayOrTypedArray(Ve)&&(Ve=Ve[At]),vt=et?c.symbolBackOffs[c.symbolNumber(_e)]*Ve:0,vt+=c.getMarkerStandoff(Ue[At],Pe)||0}var Ze=at-vt*Math.cos(ht),He=We-vt*Math.sin(ht);(Ze<=at&&Ze>=ut||Ze>=at&&Ze<=ut)&&(He<=We&&He>=dt||He>=We&&He<=dt)&&(we=[Ze,He])}return we}c.applyBackoff=$,c.makeTester=function(){var we=P.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(xe){xe.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ee=P.ensureSingle(we,"path","js-reference-point",function(xe){xe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=we,c.testref=Ee},c.savedBBoxes={};var re=0,ne=1e4;c.bBox=function(we,Ee,xe){xe||(xe=ue(we));var Pe;if(xe){if(Pe=c.savedBBoxes[xe],Pe)return P.extendFlat({},Pe)}else if(we.childNodes.length===1){var Ue=we.childNodes[0];if(xe=ue(Ue),xe){var Be=+Ue.getAttribute("x")||0,Ne=+Ue.getAttribute("y")||0,Xe=Ue.getAttribute("transform");if(!Xe){var ut=c.bBox(Ue,!1,xe);return Be&&(ut.left+=Be,ut.right+=Be),Ne&&(ut.top+=Ne,ut.bottom+=Ne),ut}if(xe+="~"+Be+"~"+Ne+"~"+Xe,Pe=c.savedBBoxes[xe],Pe)return P.extendFlat({},Pe)}}var dt,at;Ee?dt=we:(at=c.tester.node(),dt=we.cloneNode(!0),at.appendChild(dt)),g.select(dt).attr("transform",null).call(i.positionText,0,0);var We=dt.getBoundingClientRect(),rt=c.testref.node().getBoundingClientRect();Ee||at.removeChild(dt);var st={height:We.height,width:We.width,left:We.left-rt.left,top:We.top-rt.top,right:We.right-rt.left,bottom:We.bottom-rt.top};return re>=ne&&(c.savedBBoxes={},re=0),xe&&(c.savedBBoxes[xe]=st),re++,P.extendFlat({},st)};function ue(we){var Ee=we.getAttribute("data-unformatted");if(Ee!==null)return Ee+we.getAttribute("data-math")+we.getAttribute("text-anchor")+we.getAttribute("style")}c.setClipUrl=function(we,Ee,xe){we.attr("clip-path",J(Ee,xe))};function J(we,Ee){if(!we)return null;var xe=Ee._context,Pe=xe._exportedPlot?"":xe._baseUrl||"";return Pe?"url('"+Pe+"#"+we+"')":"url(#"+we+")"}c.getTranslate=function(we){var Ee=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,xe=we.attr?"attr":"getAttribute",Pe=we[xe]("transform")||"",Ue=Pe.replace(Ee,function(Be,Ne,Xe){return[Ne,Xe].join(" ")}).split(" ");return{x:+Ue[0]||0,y:+Ue[1]||0}},c.setTranslate=function(we,Ee,xe){var Pe=/(\btranslate\(.*?\);?)/,Ue=we.attr?"attr":"getAttribute",Be=we.attr?"attr":"setAttribute",Ne=we[Ue]("transform")||"";return Ee=Ee||0,xe=xe||0,Ne=Ne.replace(Pe,"").trim(),Ne+=t(Ee,xe),Ne=Ne.trim(),we[Be]("transform",Ne),Ne},c.getScale=function(we){var Ee=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,xe=we.attr?"attr":"getAttribute",Pe=we[xe]("transform")||"",Ue=Pe.replace(Ee,function(Be,Ne,Xe){return[Ne,Xe].join(" ")}).split(" ");return{x:+Ue[0]||1,y:+Ue[1]||1}},c.setScale=function(we,Ee,xe){var Pe=/(\bscale\(.*?\);?)/,Ue=we.attr?"attr":"getAttribute",Be=we.attr?"attr":"setAttribute",Ne=we[Ue]("transform")||"";return Ee=Ee||1,xe=xe||1,Ne=Ne.replace(Pe,"").trim(),Ne+="scale("+Ee+","+xe+")",Ne=Ne.trim(),we[Be]("transform",Ne),Ne};var X=/\s*sc.*/;c.setPointGroupScale=function(we,Ee,xe){if(Ee=Ee||1,xe=xe||1,!!we){var Pe=Ee===1&&xe===1?"":"scale("+Ee+","+xe+")";we.each(function(){var Ue=(this.getAttribute("transform")||"").replace(X,"");Ue+=Pe,Ue=Ue.trim(),this.setAttribute("transform",Ue)})}};var oe=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(we,Ee,xe){we&&we.each(function(){var Pe,Ue=g.select(this),Be=Ue.select("text");if(Be.node()){var Ne=parseFloat(Be.attr("x")||0),Xe=parseFloat(Be.attr("y")||0),ut=(Ue.attr("transform")||"").match(oe);Ee===1&&xe===1?Pe=[]:Pe=[t(Ne,Xe),"scale("+Ee+","+xe+")",t(-Ne,-Xe)],ut&&Pe.push(ut),Ue.attr("transform",Pe.join(""))}})};function Y(we,Ee){var xe;return we&&(xe=we.mf),xe===void 0&&(xe=Ee.marker&&Ee.marker.standoff||0),!Ee._geo&&!Ee._xA?-xe:xe}c.getMarkerStandoff=Y;var q=Math.atan2,se=Math.cos,Q=Math.sin;function K(we,Ee){var xe=Ee[0],Pe=Ee[1];return[xe*se(we)-Pe*Q(we),xe*Q(we)+Pe*se(we)]}var le,ie,ce,ye,Ce,Ae;function ke(we,Ee){var xe=we.ma;xe===void 0&&(xe=Ee.marker.angle,(!xe||P.isArrayOrTypedArray(xe))&&(xe=0));var Pe,Ue,Be=Ee.marker.angleref;if(Be==="previous"||Be==="north"){if(Ee._geo){var Ne=Ee._geo.project(we.lonlat);Pe=Ne[0],Ue=Ne[1]}else{var Xe=Ee._xA,ut=Ee._yA;if(Xe&&ut)Pe=Xe.c2p(we.x),Ue=ut.c2p(we.y);else return 90}if(Ee._geo){var dt=we.lonlat[0],at=we.lonlat[1],We=Ee._geo.project([dt,at+1e-5]),rt=Ee._geo.project([dt+1e-5,at]),st=q(rt[1]-Ue,rt[0]-Pe),ht=q(We[1]-Ue,We[0]-Pe),vt;if(Be==="north")vt=xe/180*Math.PI;else if(Be==="previous"){var At=dt/180*Math.PI,et=at/180*Math.PI,_e=le/180*Math.PI,Ve=ie/180*Math.PI,Ze=_e-At,He=se(Ve)*Q(Ze),Ie=Q(Ve)*se(et)-se(Ve)*Q(et)*se(Ze);vt=-q(He,Ie)-Math.PI,le=dt,ie=at}var be=K(st,[se(vt),0]),me=K(ht,[Q(vt),0]);xe=q(be[1]+me[1],be[0]+me[0])/Math.PI*180,Be==="previous"&&!(Ae===Ee.uid&&we.i===Ce+1)&&(xe=null)}if(Be==="previous"&&!Ee._geo)if(Ae===Ee.uid&&we.i===Ce+1&&x(Pe)&&x(Ue)){var Me=Pe-ce,Te=Ue-ye,Oe=Ee.line&&Ee.line.shape||"",Ke=Oe.slice(Oe.length-1);Ke==="h"&&(Te=0),Ke==="v"&&(Me=0),xe+=q(Te,Me)/Math.PI*180+90}else xe=null}return ce=Pe,ye=Ue,Ce=we.i,Ae=Ee.uid,xe}c.getMarkerAngle=ke},71984:function(j,H,e){var g=e(21984),P=e(33428).round,a="M0,0Z",x=Math.sqrt(2),M=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;j.exports={circle:{n:0,f:function(y,h,S){if(t(h))return a;var c=P(y,2),o="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return S?l(h,S,o):o}},square:{n:1,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(y,h,S){if(t(h))return a;var c=P(y*1.3,2);return l(h,S,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(y,h,S){if(t(h))return a;var c=P(y*.4,2),o=P(y*1.2,2);return l(h,S,"M"+o+","+c+"H"+c+"V"+o+"H-"+c+"V"+c+"H-"+o+"V-"+c+"H-"+c+"V-"+o+"H"+c+"V-"+c+"H"+o+"Z")}},x:{n:4,f:function(y,h,S){if(t(h))return a;var c=P(y*.8/x,2),o="l"+c+","+c,d="l"+c+",-"+c,w="l-"+c+",-"+c,A="l-"+c+","+c;return l(h,S,"M0,"+c+o+d+w+d+w+A+w+A+o+A+o+"Z")}},"triangle-up":{n:5,f:function(y,h,S){if(t(h))return a;var c=P(y*2/M,2),o=P(y/2,2),d=P(y,2);return l(h,S,"M-"+c+","+o+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(y,h,S){if(t(h))return a;var c=P(y*2/M,2),o=P(y/2,2),d=P(y,2);return l(h,S,"M-"+c+",-"+o+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(y,h,S){if(t(h))return a;var c=P(y*2/M,2),o=P(y/2,2),d=P(y,2);return l(h,S,"M"+o+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(y,h,S){if(t(h))return a;var c=P(y*2/M,2),o=P(y/2,2),d=P(y,2);return l(h,S,"M-"+o+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(y,h,S){if(t(h))return a;var c=P(y*.6,2),o=P(y*1.2,2);return l(h,S,"M-"+o+",-"+c+"H"+c+"V"+o+"Z")}},"triangle-se":{n:10,f:function(y,h,S){if(t(h))return a;var c=P(y*.6,2),o=P(y*1.2,2);return l(h,S,"M"+c+",-"+o+"V"+c+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(y,h,S){if(t(h))return a;var c=P(y*.6,2),o=P(y*1.2,2);return l(h,S,"M"+o+","+c+"H-"+c+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(y,h,S){if(t(h))return a;var c=P(y*.6,2),o=P(y*1.2,2);return l(h,S,"M-"+c+","+o+"V-"+c+"H"+o+"Z")}},pentagon:{n:13,f:function(y,h,S){if(t(h))return a;var c=P(y*.951,2),o=P(y*.588,2),d=P(-y,2),w=P(y*-.309,2),A=P(y*.809,2);return l(h,S,"M"+c+","+w+"L"+o+","+A+"H-"+o+"L-"+c+","+w+"L0,"+d+"Z")}},hexagon:{n:14,f:function(y,h,S){if(t(h))return a;var c=P(y,2),o=P(y/2,2),d=P(y*M/2,2);return l(h,S,"M"+d+",-"+o+"V"+o+"L0,"+c+"L-"+d+","+o+"V-"+o+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(y,h,S){if(t(h))return a;var c=P(y,2),o=P(y/2,2),d=P(y*M/2,2);return l(h,S,"M-"+o+","+d+"H"+o+"L"+c+",0L"+o+",-"+d+"H-"+o+"L-"+c+",0Z")}},octagon:{n:16,f:function(y,h,S){if(t(h))return a;var c=P(y*.924,2),o=P(y*.383,2);return l(h,S,"M-"+o+",-"+c+"H"+o+"L"+c+",-"+o+"V"+o+"L"+o+","+c+"H-"+o+"L-"+c+","+o+"V-"+o+"Z")}},star:{n:17,f:function(y,h,S){if(t(h))return a;var c=y*1.4,o=P(c*.225,2),d=P(c*.951,2),w=P(c*.363,2),A=P(c*.588,2),C=P(-c,2),m=P(c*-.309,2),E=P(c*.118,2),b=P(c*.809,2),s=P(c*.382,2);return l(h,S,"M"+o+","+m+"H"+d+"L"+w+","+E+"L"+A+","+b+"L0,"+s+"L-"+A+","+b+"L-"+w+","+E+"L-"+d+","+m+"H-"+o+"L0,"+C+"Z")}},hexagram:{n:18,f:function(y,h,S){if(t(h))return a;var c=P(y*.66,2),o=P(y*.38,2),d=P(y*.76,2);return l(h,S,"M-"+d+",0l-"+o+",-"+c+"h"+d+"l"+o+",-"+c+"l"+o+","+c+"h"+d+"l-"+o+","+c+"l"+o+","+c+"h-"+d+"l-"+o+","+c+"l-"+o+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(y,h,S){if(t(h))return a;var c=P(y*M*.8,2),o=P(y*.8,2),d=P(y*1.6,2),w=P(y*4,2),A="A "+w+","+w+" 0 0 1 ";return l(h,S,"M-"+c+","+o+A+c+","+o+A+"0,-"+d+A+"-"+c+","+o+"Z")}},"star-triangle-down":{n:20,f:function(y,h,S){if(t(h))return a;var c=P(y*M*.8,2),o=P(y*.8,2),d=P(y*1.6,2),w=P(y*4,2),A="A "+w+","+w+" 0 0 1 ";return l(h,S,"M"+c+",-"+o+A+"-"+c+",-"+o+A+"0,"+d+A+c+",-"+o+"Z")}},"star-square":{n:21,f:function(y,h,S){if(t(h))return a;var c=P(y*1.1,2),o=P(y*2,2),d="A "+o+","+o+" 0 0 1 ";return l(h,S,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(y,h,S){if(t(h))return a;var c=P(y*1.4,2),o=P(y*1.9,2),d="A "+o+","+o+" 0 0 1 ";return l(h,S,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(y,h,S){if(t(h))return a;var c=P(y*.7,2),o=P(y*1.4,2);return l(h,S,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(y,h,S){if(t(h))return a;var c=P(y*1.4,2),o=P(y*.7,2);return l(h,S,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},hourglass:{n:25,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,h,S){if(t(h))return a;var c=P(y,2),o=P(y/x,2);return l(h,S,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,h,S){if(t(h))return a;var c=P(y*1.3,2);return l(h,S,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,h,S){if(t(h))return a;var c=P(y*1.3,2),o=P(y*.65,2);return l(h,S,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,h,S){if(t(h))return a;var c=P(y*1.4,2);return l(h,S,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,h,S){if(t(h))return a;var c=P(y*1.2,2),o=P(y*.85,2);return l(h,S,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,h,S){if(t(h))return a;var c=P(y/2,2),o=P(y,2);return l(h,S,"M"+c+","+o+"V-"+o+"M"+(c-o)+",-"+o+"V"+o+"M"+o+","+c+"H-"+o+"M-"+o+","+(c-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,h,S){if(t(h))return a;var c=P(y*1.2,2),o=P(y*1.6,2),d=P(y*.8,2);return l(h,S,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,h,S){if(t(h))return a;var c=P(y*1.2,2),o=P(y*1.6,2),d=P(y*.8,2);return l(h,S,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,h,S){if(t(h))return a;var c=P(y*1.2,2),o=P(y*1.6,2),d=P(y*.8,2);return l(h,S,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,h,S){if(t(h))return a;var c=P(y*1.2,2),o=P(y*1.6,2),d=P(y*.8,2);return l(h,S,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,h,S){if(t(h))return a;var c=P(y*1.4,2);return l(h,S,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,h,S){if(t(h))return a;var c=P(y*1.4,2);return l(h,S,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,h,S){if(t(h))return a;var c=P(y,2);return l(h,S,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,h,S){if(t(h))return a;var c=P(y,2),o=P(y*2,2);return l(h,S,"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,h,S){if(t(h))return a;var c=P(y,2),o=P(y*2,2);return l(h,S,"M0,0L-"+c+",-"+o+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,h,S){if(t(h))return a;var c=P(y*2,2),o=P(y,2);return l(h,S,"M0,0L"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,h,S){if(t(h))return a;var c=P(y*2,2),o=P(y,2);return l(h,S,"M0,0L-"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,h,S){if(t(h))return a;var c=P(y,2),o=P(y*2,2);return l(h,S,"M-"+c+",0H"+c+"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,h,S){if(t(h))return a;var c=P(y,2),o=P(y*2,2);return l(h,S,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+o+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,h,S){if(t(h))return a;var c=P(y*2,2),o=P(y,2);return l(h,S,"M0,-"+o+"V"+o+"M0,0L"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,h,S){if(t(h))return a;var c=P(y*2,2),o=P(y,2);return l(h,S,"M0,-"+o+"V"+o+"M0,0L-"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,h,S){if(t(h))return a;var c=v/2.5,o=2*y*p(c),d=2*y*r(c);return l(h,S,"M0,0L"+-o+","+d+"L"+o+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,h,S){if(t(h))return a;var c=v/4,o=2*y*p(c),d=2*y*r(c);return l(h,S,"M0,0L"+-o+","+d+"A "+2*y+","+2*y+" 0 0 1 "+o+","+d+"Z")},backoff:.4,noDot:!0}};function t(y){return y===null}var i,n,u,f;function l(y,h,S){if((!y||y%360===0)&&!h)return S;if(u===y&&f===h&&i===S)return n;u=y,f=h,i=S;function c(_,B){var F=p(_),O=r(_),N=B[0],z=B[1]+(h||0);return[N*F-z*O,N*O+z*F]}for(var o=y/180*v,d=0,w=0,A=g(S),C="",m=0;m<A.length;m++){var E=A[m],b=E[0],s=d,L=w;if(b==="M"||b==="L")d=+E[1],w=+E[2];else if(b==="m"||b==="l")d+=+E[1],w+=+E[2];else if(b==="H")d=+E[1];else if(b==="h")d+=+E[1];else if(b==="V")w=+E[1];else if(b==="v")w+=+E[1];else if(b==="A"){d=+E[1],w=+E[2];var T=c(o,[+E[6],+E[7]]);E[6]=T[0],E[7]=T[1],E[3]=+E[3]+y}(b==="H"||b==="V")&&(b="L"),(b==="h"||b==="v")&&(b="l"),(b==="m"||b==="l")&&(d-=s,w-=L);var k=c(o,[d,w]);(b==="H"||b==="V")&&(b="L"),(b==="M"||b==="L"||b==="m"||b==="l")&&(E[1]=k[0],E[2]=k[1]),E[0]=b,C+=E[0]+E.slice(1).join(",")}return n=C,C}},97644:function(j){j.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(j,H,e){var g=e(38248),P=e(24040),a=e(54460),x=e(3400),M=e(93792);j.exports=function(r){for(var t=r.calcdata,i=0;i<t.length;i++){var n=t[i],u=n[0].trace;if(u.visible===!0&&P.traceIs(u,"errorBarsOK")){var f=a.getFromId(r,u.xaxis),l=a.getFromId(r,u.yaxis);v(n,u,f,"x"),v(n,u,l,"y")}}};function v(p,r,t,i){var n=r["error_"+i]||{},u=n.visible&&["linear","log"].indexOf(t.type)!==-1,f=[];if(u){for(var l=M(n),y=0;y<p.length;y++){var h=p[y],S=h.i;if(S===void 0)S=y;else if(S===null)continue;var c=h[i];if(g(t.c2l(c))){var o=l(c,S);if(g(o[0])&&g(o[1])){var d=h[i+"s"]=c-o[0],w=h[i+"h"]=c+o[1];f.push(d,w)}}}var A=t._id,C=r._extremes[A],m=a.findExtremes(t,f,x.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(m.min),C.max=C.max.concat(m.max)}}},93792:function(j){j.exports=function(g){var P=g.type,a=g.symmetric;if(P==="data"){var x=g.array||[];if(a)return function(t,i){var n=+x[i];return[n,n]};var M=g.arrayminus||[];return function(t,i){var n=+x[i],u=+M[i];return!isNaN(n)||!isNaN(u)?[u||0,n||0]:[NaN,NaN]}}else{var v=H(P,g.value),p=H(P,g.valueminus);return a||g.valueminus===void 0?function(t){var i=v(t);return[i,i]}:function(t){return[p(t),v(t)]}}};function H(e,g){if(e==="percent")return function(P){return Math.abs(P*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(j,H,e){var g=e(38248),P=e(24040),a=e(3400),x=e(31780),M=e(97644);j.exports=function(v,p,r,t){var i="error_"+t.axis,n=x.newContainer(p,i),u=v[i]||{};function f(d,w){return a.coerce(u,n,M,d,w)}var l=u.array!==void 0||u.value!==void 0||u.type==="sqrt",y=f("visible",l);if(y!==!1){var h=f("type","array"in u?"data":"percent"),S=!0;h!=="sqrt"&&(S=f("symmetric",!((h==="data"?"arrayminus":"valueminus")in u))),h==="data"?(f("array"),f("traceref"),S||(f("arrayminus"),f("tracerefminus"))):(h==="percent"||h==="constant")&&(f("value"),S||f("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var o=p["error_"+t.inherit];(o||{}).visible&&f(c,!(u.color||g(u.thickness)||g(u.width)))}(!t.inherit||!n[c])&&(f("color",r),f("thickness"),f("width",P.traceIs(p,"gl3d")?0:4))}}},64968:function(j,H,e){var g=e(3400),P=e(67824).overrideAll,a=e(97644),x={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a)};delete x.error_x.copy_zstyle,delete x.error_y.copy_zstyle,delete x.error_y.copy_ystyle;var M={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a),error_z:g.extendFlat({},a)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,j.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:x,bar:x,histogram:x,scatter3d:P(M,"calc","nested"),scattergl:P(x,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(j,H,e){var g=e(33428),P=e(38248),a=e(43616),x=e(43028);j.exports=function(p,r,t,i){var n,u=t.xaxis,f=t.yaxis,l=i&&i.duration>0,y=p._context.staticPlot;r.each(function(h){var S=h[0].trace,c=S.error_x||{},o=S.error_y||{},d;S.ids&&(d=function(m){return m.id});var w=x.hasMarkers(S)&&S.marker.maxdisplayed>0;!o.visible&&!c.visible&&(h=[]);var A=g.select(this).selectAll("g.errorbar").data(h,d);if(A.exit().remove(),!!h.length){c.visible||A.selectAll("path.xerror").remove(),o.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var C=A.enter().append("g").classed("errorbar",!0);l&&C.style("opacity",0).transition().duration(i.duration).style("opacity",1),a.setClipUrl(A,t.layerClipId,p),A.each(function(m){var E=g.select(this),b=M(m,u,f);if(!(w&&!m.vis)){var s,L=E.select("path.yerror");if(o.visible&&P(b.x)&&P(b.yh)&&P(b.ys)){var T=o.width;s="M"+(b.x-T)+","+b.yh+"h"+2*T+"m-"+T+",0V"+b.ys,b.noYS||(s+="m-"+T+",0h"+2*T),n=!L.size(),n?L=E.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):l&&(L=L.transition().duration(i.duration).ease(i.easing)),L.attr("d",s)}else L.remove();var k=E.select("path.xerror");if(c.visible&&P(b.y)&&P(b.xh)&&P(b.xs)){var _=(c.copy_ystyle?o:c).width;s="M"+b.xh+","+(b.y-_)+"v"+2*_+"m0,-"+_+"H"+b.xs,b.noXS||(s+="m0,-"+_+"v"+2*_),n=!k.size(),n?k=E.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):l&&(k=k.transition().duration(i.duration).ease(i.easing)),k.attr("d",s)}else k.remove()}})}})};function M(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(j,H,e){var g=e(33428),P=e(76308);j.exports=function(x){x.each(function(M){var v=M[0].trace,p=v.error_y||{},r=v.error_x||{},t=g.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(j,H,e){var g=e(25376),P=e(65460).hoverlabel,a=e(92880).extendFlat;j.exports={hoverlabel:{bgcolor:a({},P.bgcolor,{arrayOk:!0}),bordercolor:a({},P.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:a({},P.align,{arrayOk:!0}),namelength:a({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(j,H,e){var g=e(3400),P=e(24040);j.exports=function(M){var v=M.calcdata,p=M._fullLayout;function r(f){return function(l){return g.coerceHoverinfo({hoverinfo:l},{_module:f._module},p)}}for(var t=0;t<v.length;t++){var i=v[t],n=i[0].trace;if(!P.traceIs(n,"pie-like")){var u=P.traceIs(n,"2dMap")?a:g.fillArray;u(n.hoverinfo,i,"hi",r(n)),n.hovertemplate&&u(n.hovertemplate,i,"ht"),n.hoverlabel&&(u(n.hoverlabel.bgcolor,i,"hbg"),u(n.hoverlabel.bordercolor,i,"hbc"),u(n.hoverlabel.font.size,i,"hts"),u(n.hoverlabel.font.color,i,"htc"),u(n.hoverlabel.font.family,i,"htf"),u(n.hoverlabel.namelength,i,"hnl"),u(n.hoverlabel.align,i,"hta"))}}};function a(x,M,v,p){p=p||g.identity,Array.isArray(x)&&(M[0][v]=p(x))}},62376:function(j,H,e){var g=e(24040),P=e(83292).hover;j.exports=function(x,M,v){var p=g.getComponentMethod("annotations","onClick")(x,x._hoverdata);v!==void 0&&P(x,M,v,!0);function r(){x.emit("plotly_click",{points:x._hoverdata,event:M})}x._hoverdata&&M&&M.target&&(p&&p.then?p.then(r):r(),M.stopImmediatePropagation&&M.stopImmediatePropagation())}},92456:function(j){j.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(j,H,e){var g=e(3400),P=e(55756),a=e(16132);j.exports=function(M,v,p,r){function t(n,u){return g.coerce(M,v,P,n,u)}var i=g.extendFlat({},r.hoverlabel);v.hovertemplate&&(i.namelength=-1),a(M,v,t,i)}},10624:function(j,H,e){var g=e(3400);H.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},H.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],i=p.yaxes||[],n=0;n<t.length;n++)for(var u=0;u<i.length;u++)if(r.indexOf(t[n]+i[u])!==-1)return!0;return!1}return r.indexOf(H.getSubplot(p))!==-1},H.flat=function(p,r){for(var t=new Array(p.length),i=0;i<p.length;i++)t[i]=r;return t},H.p2c=function(p,r){for(var t=new Array(p.length),i=0;i<p.length;i++)t[i]=p[i].p2c(r);return t},H.getDistanceFunction=function(p,r,t,i){return p==="closest"?i||H.quadrature(r,t):p.charAt(0)==="x"?r:t},H.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var i=0;i<p.length;i++){var n=r(p[i]);n<=t.distance&&(t.index=i,t.distance=n)}return t},H.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},H.quadrature=function(p,r){return function(t){var i=p(t),n=r(t);return Math.sqrt(i*i+n*n)}},H.makeEventData=function(p,r,t){var i="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var u=r._indexToPoints[i];u.length===1?n.pointIndex=u[0]:n.pointIndices=u}else n.pointIndex=i;return r._module.eventData?n=r._module.eventData(n,p,r,t,i):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),H.appendArrayPointValue(n,r,i),n},H.appendArrayPointValue=function(p,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var u=i[n],f=a(u);if(p[f]===void 0){var l=g.nestedProperty(r,u).get(),y=x(l,t);y!==void 0&&(p[f]=y)}}},H.appendArrayMultiPointValues=function(p,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var u=i[n],f=a(u);if(p[f]===void 0){for(var l=g.nestedProperty(r,u).get(),y=new Array(t.length),h=0;h<t.length;h++)y[h]=x(l,t[h]);p[f]=y}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(p){return P[p]||p}function x(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var M={x:!0,y:!0},v={"x unified":!0,"y unified":!0};H.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},H.isXYhover=function(p){return typeof p!="string"?!1:!!M[p]}},83292:function(j,H,e){var g=e(33428),P=e(38248),a=e(49760),x=e(3400),M=x.strTranslate,v=x.strRotate,p=e(95924),r=e(72736),t=e(72213),i=e(43616),n=e(76308),u=e(86476),f=e(54460),l=e(24040),y=e(10624),h=e(92456),S=e(77864),c=e(31140),o=h.YANGLE,d=Math.PI*o/180,w=1/Math.sin(d),A=Math.cos(d),C=Math.sin(d),m=h.HOVERARROWSIZE,E=h.HOVERTEXTPAD,b={box:!0,ohlc:!0,violin:!0,candlestick:!0},s={scatter:!0,scattergl:!0,splom:!0};H.hover=function(se,Q,K,le){se=x.getGraphDiv(se);var ie=Q.target;x.throttle(se._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){L(se,Q,K,le,ie)})},H.loneHover=function(se,Q){var K=!0;Array.isArray(se)||(K=!1,se=[se]);var le=Q.gd,ie=X(le),ce=oe(le),ye=se.map(function(Be){var Ne=Be._x0||Be.x0||Be.x||0,Xe=Be._x1||Be.x1||Be.x||0,ut=Be._y0||Be.y0||Be.y||0,dt=Be._y1||Be.y1||Be.y||0,at=Be.eventData;if(at){var We=Math.min(Ne,Xe),rt=Math.max(Ne,Xe),st=Math.min(ut,dt),ht=Math.max(ut,dt),vt=Be.trace;if(l.traceIs(vt,"gl3d")){var At=le._fullLayout[vt.scene]._scene.container,et=At.offsetLeft,_e=At.offsetTop;We+=et,rt+=et,st+=_e,ht+=_e}at.bbox={x0:We+ce,x1:rt+ce,y0:st+ie,y1:ht+ie},Q.inOut_bbox&&Q.inOut_bbox.push(at.bbox)}else at=!1;return{color:Be.color||n.defaultLine,x0:Be.x0||Be.x||0,x1:Be.x1||Be.x||0,y0:Be.y0||Be.y||0,y1:Be.y1||Be.y||0,xLabel:Be.xLabel,yLabel:Be.yLabel,zLabel:Be.zLabel,text:Be.text,name:Be.name,idealAlign:Be.idealAlign,borderColor:Be.borderColor,fontFamily:Be.fontFamily,fontSize:Be.fontSize,fontColor:Be.fontColor,nameLength:Be.nameLength,textAlign:Be.textAlign,trace:Be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Be.hovertemplate||!1,hovertemplateLabels:Be.hovertemplateLabels||!1,eventData:at}}),Ce=!1,Ae=_(ye,{gd:le,hovermode:"closest",rotateLabels:Ce,bgColor:Q.bgColor||n.background,container:g.select(Q.container),outerContainer:Q.outerContainer||Q.container}),ke=Ae.hoverLabels,we=5,Ee=0,xe=0;ke.sort(function(Be,Ne){return Be.y0-Ne.y0}).each(function(Be,Ne){var Xe=Be.y0-Be.by/2;Xe-we<Ee?Be.offset=Ee-Xe+we:Be.offset=0,Ee=Xe+Be.by+Be.offset,Ne===Q.anchorIndex&&(xe=Be.offset)}).each(function(Be){Be.offset-=xe});var Pe=le._fullLayout._invScaleX,Ue=le._fullLayout._invScaleY;return z(ke,Ce,Pe,Ue),K?ke:ke.node()};function L(q,se,Q,K,le){Q||(Q="xy");var ie=Array.isArray(Q)?Q:[Q],ce=q._fullLayout,ye=ce._plots||[],Ce=ye[Q],Ae=ce._has("cartesian");if(Ce){var ke=Ce.overlays.map(function(Pr){return Pr.id});ie=ie.concat(ke)}for(var we=ie.length,Ee=new Array(we),xe=new Array(we),Pe=!1,Ue=0;Ue<we;Ue++){var Be=ie[Ue];if(ye[Be])Pe=!0,Ee[Ue]=ye[Be].xaxis,xe[Ue]=ye[Be].yaxis;else if(ce[Be]&&ce[Be]._subplot){var Ne=ce[Be]._subplot;Ee[Ue]=Ne.xaxis,xe[Ue]=Ne.yaxis}else{x.warn("Unrecognized subplot: "+Be);return}}var Xe=se.hovermode||ce.hovermode;if(Xe&&!Pe&&(Xe="closest"),["x","y","closest","x unified","y unified"].indexOf(Xe)===-1||!q.calcdata||q.querySelector(".zoombox")||q._dragging)return u.unhoverRaw(q,se);var ut=ce.hoverdistance;ut===-1&&(ut=1/0);var dt=ce.spikedistance;dt===-1&&(dt=1/0);var at=[],We=[],rt,st,ht,vt,At,et,_e,Ve,Ze,He,Ie,be,me,Me={hLinePoint:null,vLinePoint:null},Te=!1;if(Array.isArray(se))for(Xe="array",ht=0;ht<se.length;ht++)At=q.calcdata[se[ht].curveNumber||0],At&&(et=At[0].trace,At[0].trace.hoverinfo!=="skip"&&(We.push(At),et.orientation==="h"&&(Te=!0)));else{for(vt=0;vt<q.calcdata.length;vt++)At=q.calcdata[vt],et=At[0].trace,et.hoverinfo!=="skip"&&y.isTraceInSubplots(et,ie)&&(We.push(At),et.orientation==="h"&&(Te=!0));var Oe=!le,Ke,nt;if(Oe)"xpx"in se?Ke=se.xpx:Ke=Ee[0]._length/2,"ypx"in se?nt=se.ypx:nt=xe[0]._length/2;else{if(p.triggerHandler(q,"plotly_beforehover",se)===!1)return;var pt=le.getBoundingClientRect();Ke=se.clientX-pt.left,nt=se.clientY-pt.top,ce._calcInverseTransform(q);var yt=x.apply3DTransform(ce._invTransform)(Ke,nt);if(Ke=yt[0],nt=yt[1],Ke<0||Ke>Ee[0]._length||nt<0||nt>xe[0]._length)return u.unhoverRaw(q,se)}if(se.pointerX=Ke+Ee[0]._offset,se.pointerY=nt+xe[0]._offset,"xval"in se?rt=y.flat(ie,se.xval):rt=y.p2c(Ee,Ke),"yval"in se?st=y.flat(ie,se.yval):st=y.p2c(xe,nt),!P(rt[0])||!P(st[0]))return x.warn("Fx.hover failed",se,q),u.unhoverRaw(q,se)}var Yt=1/0;function Xt(Pr,Wr){for(vt=0;vt<We.length;vt++)if(At=We[vt],!(!At||!At[0]||!At[0].trace)&&(et=At[0].trace,!(et.visible!==!0||et._length===0)&&["carpet","contourcarpet"].indexOf(et._module.name)===-1)){if(et.type==="splom"?(Ve=0,_e=ie[Ve]):(_e=y.getSubplot(et),Ve=ie.indexOf(_e)),Ze=Xe,y.isUnifiedHover(Ze)&&(Ze=Ze.charAt(0)),be={cd:At,trace:et,xa:Ee[Ve],ya:xe[Ve],maxHoverDistance:ut,maxSpikeDistance:dt,index:!1,distance:Math.min(Yt,ut),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:et.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ce[_e]&&(be.subplot=ce[_e]._subplot),ce._splomScenes&&ce._splomScenes[et.uid]&&(be.scene=ce._splomScenes[et.uid]),me=at.length,Ze==="array"){var Vr=se[vt];"pointNumber"in Vr?(be.index=Vr.pointNumber,Ze="closest"):(Ze="","xval"in Vr&&(He=Vr.xval,Ze="x"),"yval"in Vr&&(Ie=Vr.yval,Ze=Ze?"closest":"y"))}else Pr!==void 0&&Wr!==void 0?(He=Pr,Ie=Wr):(He=rt[Ve],Ie=st[Ve]);if(ut!==0)if(et._module&&et._module.hoverPoints){var on=et._module.hoverPoints(be,He,Ie,Ze,{finiteRange:!0,hoverLayer:ce._hoverlayer});if(on)for(var yn,mn=0;mn<on.length;mn++)yn=on[mn],P(yn.x0)&&P(yn.y0)&&at.push(V(yn,Xe))}else x.log("Unrecognized trace type in hover:",et);if(Xe==="closest"&&at.length>me&&(at.splice(0,me),Yt=at[0].distance),Ae&&dt!==0&&at.length===0){be.distance=dt,be.index=!1;var Ln=et._module.hoverPoints(be,He,Ie,"closest",{hoverLayer:ce._hoverlayer});if(Ln&&(Ln=Ln.filter(function(na){return na.spikeDistance<=dt})),Ln&&Ln.length){var zn,aa=Ln.filter(function(na){return na.xa.showspikes&&na.xa.spikesnap!=="hovered data"});if(aa.length){var ha=aa[0];P(ha.x0)&&P(ha.y0)&&(zn=kt(ha),(!Me.vLinePoint||Me.vLinePoint.spikeDistance>zn.spikeDistance)&&(Me.vLinePoint=zn))}var pa=Ln.filter(function(na){return na.ya.showspikes&&na.ya.spikesnap!=="hovered data"});if(pa.length){var ua=pa[0];P(ua.x0)&&P(ua.y0)&&(zn=kt(ua),(!Me.hLinePoint||Me.hLinePoint.spikeDistance>zn.spikeDistance)&&(Me.hLinePoint=zn))}}}}}Xt();function St(Pr,Wr,Vr){for(var on=null,yn=1/0,mn,Ln=0;Ln<Pr.length;Ln++)mn=Pr[Ln].spikeDistance,Vr&&Ln===0&&(mn=-1/0),mn<=yn&&mn<=Wr&&(on=Pr[Ln],yn=mn);return on}function kt(Pr){return Pr?{xa:Pr.xa,ya:Pr.ya,x:Pr.xSpike!==void 0?Pr.xSpike:(Pr.x0+Pr.x1)/2,y:Pr.ySpike!==void 0?Pr.ySpike:(Pr.y0+Pr.y1)/2,distance:Pr.distance,spikeDistance:Pr.spikeDistance,curveNumber:Pr.trace.index,color:Pr.color,pointNumber:Pr.index}:null}var Kt={fullLayout:ce,container:ce._hoverlayer,event:se},mr=q._spikepoints,mt={vLinePoint:Me.vLinePoint,hLinePoint:Me.hLinePoint};q._spikepoints=mt;var Zt=function(){at.sort(function(Pr,Wr){return Pr.distance-Wr.distance}),at=ue(at,Xe)};Zt();var Qt=Xe.charAt(0),yr=(Qt==="x"||Qt==="y")&&at[0]&&s[at[0].trace.type];if(Ae&&dt!==0&&at.length!==0){var sr=at.filter(function(Pr){return Pr.ya.showspikes}),bt=St(sr,dt,yr);Me.hLinePoint=kt(bt);var lt=at.filter(function(Pr){return Pr.xa.showspikes}),Tt=St(lt,dt,yr);Me.vLinePoint=kt(Tt)}if(at.length===0){var Ct=u.unhoverRaw(q,se);return Ae&&(Me.hLinePoint!==null||Me.vLinePoint!==null)&&re(mr)&&W(q,Me,Kt),Ct}if(Ae&&re(mr)&&W(q,Me,Kt),y.isXYhover(Ze)&&at[0].length!==0&&at[0].trace.type!=="splom"){var It=at[0];b[It.trace.type]?at=at.filter(function(Pr){return Pr.trace.index===It.trace.index}):at=[It];var Dt=at.length,Vt=J("x",It,ce),Bt=J("y",It,ce);Xt(Vt,Bt);var $t=[],fr={},cr=0,dr=function(Pr){var Wr=b[Pr.trace.type]?T(Pr):Pr.trace.index;if(!fr[Wr])cr++,fr[Wr]=cr,$t.push(Pr);else{var Vr=fr[Wr]-1,on=$t[Vr];Vr>0&&Math.abs(Pr.distance)<Math.abs(on.distance)&&($t[Vr]=Pr)}},Ye;for(Ye=0;Ye<Dt;Ye++)dr(at[Ye]);for(Ye=at.length-1;Ye>Dt-1;Ye--)dr(at[Ye]);at=$t,Zt()}var je=q._hoverdata,zt=[],Ft=X(q),Jt=oe(q);for(ht=0;ht<at.length;ht++){var tr=at[ht],ur=y.makeEventData(tr,tr.trace,tr.cd);if(tr.hovertemplate!==!1){var nr=!1;tr.cd[tr.index]&&tr.cd[tr.index].ht&&(nr=tr.cd[tr.index].ht),tr.hovertemplate=nr||tr.trace.hovertemplate||!1}if(tr.xa&&tr.ya){var Nt=tr.x0+tr.xa._offset,hr=tr.x1+tr.xa._offset,gr=tr.y0+tr.ya._offset,br=tr.y1+tr.ya._offset,vr=Math.min(Nt,hr),Gr=Math.max(Nt,hr),Dr=Math.min(gr,br),_r=Math.max(gr,br);ur.bbox={x0:vr+Jt,x1:Gr+Jt,y0:Dr+Ft,y1:_r+Ft}}tr.eventData=[ur],zt.push(ur)}q._hoverdata=zt;var hn=Xe==="y"&&(We.length>1||at.length>1)||Xe==="closest"&&Te&&at.length>1,nn=n.combine(ce.plot_bgcolor||n.background,ce.paper_bgcolor),Pn=_(at,{gd:q,hovermode:Xe,rotateLabels:hn,bgColor:nn,container:ce._hoverlayer,outerContainer:ce._paper.node(),commonLabelOpts:ce.hoverlabel,hoverdistance:ce.hoverdistance}),Cn=Pn.hoverLabels;if(y.isUnifiedHover(Xe)||(F(Cn,hn,ce,Pn.commonLabelBoundingBox),z(Cn,hn,ce._invScaleX,ce._invScaleY)),le&&le.tagName){var Ar=l.getComponentMethod("annotations","hasClickToShow")(q,zt);t(g.select(le),Ar?"pointer":"")}!le||K||!$(q,se,je)||(je&&q.emit("plotly_unhover",{event:se,points:je}),q.emit("plotly_hover",{event:se,points:q._hoverdata,xaxes:Ee,yaxes:xe,xvals:rt,yvals:st}))}function T(q){return[q.trace.index,q.index,q.x0,q.y0,q.name,q.attr,q.xa?q.xa._id:"",q.ya?q.ya._id:""].join(",")}var k=/<extra>([\s\S]*)<\/extra>/;function _(q,se){var Q=se.gd,K=Q._fullLayout,le=se.hovermode,ie=se.rotateLabels,ce=se.bgColor,ye=se.container,Ce=se.outerContainer,Ae=se.commonLabelOpts||{};if(q.length===0)return[[]];var ke=se.fontFamily||h.HOVERFONT,we=se.fontSize||h.HOVERFONTSIZE,Ee=q[0],xe=Ee.xa,Pe=Ee.ya,Ue=le.charAt(0),Be=Ue+"Label",Ne=Ee[Be];if(Ne===void 0&&xe.type==="multicategory")for(var Xe=0;Xe<q.length&&(Ne=q[Xe][Be],Ne===void 0);Xe++);var ut=Y(Q,Ce),dt=ut.top,at=ut.width,We=ut.height,rt=Ne!==void 0&&Ee.distance<=se.hoverdistance&&(le==="x"||le==="y");if(rt){var st=!0,ht,vt;for(ht=0;ht<q.length;ht++)if(st&&q[ht].zLabel===void 0&&(st=!1),vt=q[ht].hoverinfo||q[ht].trace.hoverinfo,vt){var At=Array.isArray(vt)?vt:vt.split("+");if(At.indexOf("all")===-1&&At.indexOf(le)===-1){rt=!1;break}}st&&(rt=!1)}var et=ye.selectAll("g.axistext").data(rt?[0]:[]);et.enter().append("g").classed("axistext",!0),et.exit().remove();var _e={minX:0,maxX:0,minY:0,maxY:0};if(et.each(function(){var Dt=g.select(this),Vt=x.ensureSingle(Dt,"path","",function(_r){_r.style({"stroke-width":"1px"})}),Bt=x.ensureSingle(Dt,"text","",function(_r){_r.attr("data-notex",1)}),$t=Ae.bgcolor||n.defaultLine,fr=Ae.bordercolor||n.contrast($t),cr=n.contrast($t),dr={family:Ae.font.family||ke,size:Ae.font.size||we,color:Ae.font.color||cr};Vt.style({fill:$t,stroke:fr}),Bt.text(Ne).call(i.font,dr).call(r.positionText,0,0).call(r.convertToTspans,Q),Dt.attr("transform","");var Ye=Y(Q,Bt.node()),je,zt;if(le==="x"){var Ft=xe.side==="top"?"-":"";Bt.attr("text-anchor","middle").call(r.positionText,0,xe.side==="top"?dt-Ye.bottom-m-E:dt-Ye.top+m+E),je=xe._offset+(Ee.x0+Ee.x1)/2,zt=Pe._offset+(xe.side==="top"?0:Pe._length);var Jt=Ye.width/2+E,tr=je;je<Jt?tr=Jt:je>K.width-Jt&&(tr=K.width-Jt),Vt.attr("d","M"+(je-tr)+",0L"+(je-tr+m)+","+Ft+m+"H"+Jt+"v"+Ft+(E*2+Ye.height)+"H"+-Jt+"V"+Ft+m+"H"+(je-tr-m)+"Z"),je=tr,_e.minX=je-Jt,_e.maxX=je+Jt,xe.side==="top"?(_e.minY=zt-(E*2+Ye.height),_e.maxY=zt-E):(_e.minY=zt+E,_e.maxY=zt+(E*2+Ye.height))}else{var ur,nr,Nt;Pe.side==="right"?(ur="start",nr=1,Nt="",je=xe._offset+xe._length):(ur="end",nr=-1,Nt="-",je=xe._offset),zt=Pe._offset+(Ee.y0+Ee.y1)/2,Bt.attr("text-anchor",ur),Vt.attr("d","M0,0L"+Nt+m+","+m+"V"+(E+Ye.height/2)+"h"+Nt+(E*2+Ye.width)+"V-"+(E+Ye.height/2)+"H"+Nt+m+"V-"+m+"Z"),_e.minY=zt-(E+Ye.height/2),_e.maxY=zt+(E+Ye.height/2),Pe.side==="right"?(_e.minX=je+m,_e.maxX=je+m+(E*2+Ye.width)):(_e.minX=je-m-(E*2+Ye.width),_e.maxX=je-m);var hr=Ye.height/2,gr=dt-Ye.top-hr,br="clip"+K._uid+"commonlabel"+Pe._id,vr;if(je<Ye.width+2*E+m){vr="M-"+(m+E)+"-"+hr+"h-"+(Ye.width-E)+"V"+hr+"h"+(Ye.width-E)+"Z";var Gr=Ye.width-je+E;r.positionText(Bt,Gr,gr),ur==="end"&&Bt.selectAll("tspan").each(function(){var _r=g.select(this),hn=i.tester.append("text").text(_r.text()).call(i.font,dr),nn=Y(Q,hn.node());Math.round(nn.width)<Math.round(Ye.width)&&_r.attr("x",Gr-nn.width),hn.remove()})}else r.positionText(Bt,nr*(E+m),gr),vr=null;var Dr=K._topclips.selectAll("#"+br).data(vr?[0]:[]);Dr.enter().append("clipPath").attr("id",br).append("path"),Dr.exit().remove(),Dr.select("path").attr("d",vr),i.setClipUrl(Bt,vr?br:null,Q)}Dt.attr("transform",M(je,zt))}),y.isUnifiedHover(le)){ye.selectAll("g.hovertext").remove();var Ve=q.filter(function(Dt){return Dt.hoverinfo!=="none"});if(Ve.length===0)return[];var Ze=K.hoverlabel,He=Ze.font,Ie={showlegend:!0,legend:{title:{text:Ne,font:He},font:He,bgcolor:Ze.bgcolor,bordercolor:Ze.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:K.legend?K.legend.traceorder:void 0,orientation:"v"}},be={font:He};S(Ie,be,Q._fullData);var me=be.legend;me.entries=[];for(var Me=0;Me<Ve.length;Me++){var Te=Ve[Me];if(Te.hoverinfo!=="none"){var Oe=B(Te,!0,le,K,Ne),Ke=Oe[0],nt=Oe[1];Te.name=nt,nt!==""?Te.text=nt+" : "+Ke:Te.text=Ke;var pt=Te.cd[Te.index];pt&&(pt.mc&&(Te.mc=pt.mc),pt.mcc&&(Te.mc=pt.mcc),pt.mlc&&(Te.mlc=pt.mlc),pt.mlcc&&(Te.mlc=pt.mlcc),pt.mlw&&(Te.mlw=pt.mlw),pt.mrc&&(Te.mrc=pt.mrc),pt.dir&&(Te.dir=pt.dir)),Te._distinct=!0,me.entries.push([Te])}}me.entries.sort(function(Dt,Vt){return Dt[0].trace.index-Vt[0].trace.index}),me.layer=ye,me._inHover=!0,me._groupTitleFont=Ze.grouptitlefont,c(Q,me);var yt=ye.select("g.legend"),Yt=Y(Q,yt.node()),Xt=Yt.width+2*E,St=Yt.height+2*E,kt=Ve[0],Kt=(kt.x0+kt.x1)/2,mr=(kt.y0+kt.y1)/2,mt=!(l.traceIs(kt.trace,"bar-like")||l.traceIs(kt.trace,"box-violin")),Zt,Qt;Ue==="y"?mt?(Qt=mr-E,Zt=mr+E):(Qt=Math.min.apply(null,Ve.map(function(Dt){return Math.min(Dt.y0,Dt.y1)})),Zt=Math.max.apply(null,Ve.map(function(Dt){return Math.max(Dt.y0,Dt.y1)}))):Qt=Zt=x.mean(Ve.map(function(Dt){return(Dt.y0+Dt.y1)/2}))-St/2;var yr,sr;Ue==="x"?mt?(yr=Kt+E,sr=Kt-E):(yr=Math.max.apply(null,Ve.map(function(Dt){return Math.max(Dt.x0,Dt.x1)})),sr=Math.min.apply(null,Ve.map(function(Dt){return Math.min(Dt.x0,Dt.x1)}))):yr=sr=x.mean(Ve.map(function(Dt){return(Dt.x0+Dt.x1)/2}))-Xt/2;var bt=xe._offset,lt=Pe._offset;Zt+=lt,yr+=bt,sr+=bt-Xt,Qt+=lt-St;var Tt,Ct;return yr+Xt<at&&yr>=0?Tt=yr:sr+Xt<at&&sr>=0?Tt=sr:bt+Xt<at?Tt=bt:yr-Kt<Kt-sr+Xt?Tt=at-Xt:Tt=0,Tt+=E,Zt+St<We&&Zt>=0?Ct=Zt:Qt+St<We&&Qt>=0?Ct=Qt:lt+St<We?Ct=lt:Zt-mr<mr-Qt+St?Ct=We-St:Ct=0,Ct+=E,yt.attr("transform",M(Tt-1,Ct-1)),yt}var It=ye.selectAll("g.hovertext").data(q,function(Dt){return T(Dt)});return It.enter().append("g").classed("hovertext",!0).each(function(){var Dt=g.select(this);Dt.append("rect").call(n.fill,n.addOpacity(ce,.8)),Dt.append("text").classed("name",!0),Dt.append("path").style("stroke-width","1px"),Dt.append("text").classed("nums",!0).call(i.font,ke,we)}),It.exit().remove(),It.each(function(Dt){var Vt=g.select(this).attr("transform",""),Bt=Dt.color;Array.isArray(Bt)&&(Bt=Bt[Dt.eventData[0].pointNumber]);var $t=Dt.bgcolor||Bt,fr=n.combine(n.opacity($t)?$t:n.defaultLine,ce),cr=n.combine(n.opacity(Bt)?Bt:n.defaultLine,ce),dr=Dt.borderColor||n.contrast(fr),Ye=B(Dt,rt,le,K,Ne,Vt),je=Ye[0],zt=Ye[1],Ft=Vt.select("text.nums").call(i.font,Dt.fontFamily||ke,Dt.fontSize||we,Dt.fontColor||dr).text(je).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q),Jt=Vt.select("text.name"),tr=0,ur=0;if(zt&&zt!==je){Jt.call(i.font,Dt.fontFamily||ke,Dt.fontSize||we,cr).text(zt).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q);var nr=Y(Q,Jt.node());tr=nr.width+2*E,ur=nr.height+2*E}else Jt.remove(),Vt.select("rect").remove();Vt.select("path").style({fill:fr,stroke:dr});var Nt=Dt.xa._offset+(Dt.x0+Dt.x1)/2,hr=Dt.ya._offset+(Dt.y0+Dt.y1)/2,gr=Math.abs(Dt.x1-Dt.x0),br=Math.abs(Dt.y1-Dt.y0),vr=Y(Q,Ft.node()),Gr=vr.width/K._invScaleX,Dr=vr.height/K._invScaleY;Dt.ty0=(dt-vr.top)/K._invScaleY,Dt.bx=Gr+2*E,Dt.by=Math.max(Dr+2*E,ur),Dt.anchor="start",Dt.txwidth=Gr,Dt.tx2width=tr,Dt.offset=0;var _r=(Gr+m+E+tr)*K._invScaleX,hn,nn;if(ie)Dt.pos=Nt,hn=hr+br/2+_r<=We,nn=hr-br/2-_r>=0,(Dt.idealAlign==="top"||!hn)&&nn?(hr-=br/2,Dt.anchor="end"):hn?(hr+=br/2,Dt.anchor="start"):Dt.anchor="middle",Dt.crossPos=hr;else{if(Dt.pos=hr,hn=Nt+gr/2+_r<=at,nn=Nt-gr/2-_r>=0,(Dt.idealAlign==="left"||!hn)&&nn)Nt-=gr/2,Dt.anchor="end";else if(hn)Nt+=gr/2,Dt.anchor="start";else{Dt.anchor="middle";var Pn=_r/2,Cn=Nt+Pn-at,Ar=Nt-Pn;Cn>0&&(Nt-=Cn),Ar<0&&(Nt+=-Ar)}Dt.crossPos=Nt}Ft.attr("text-anchor",Dt.anchor),tr&&Jt.attr("text-anchor",Dt.anchor),Vt.attr("transform",M(Nt,hr)+(ie?v(o):""))}),{hoverLabels:It,commonLabelBoundingBox:_e}}function B(q,se,Q,K,le,ie){var ce="",ye="";q.nameOverride!==void 0&&(q.name=q.nameOverride),q.name&&(q.trace._meta&&(q.name=x.templateString(q.name,q.trace._meta)),ce=ne(q.name,q.nameLength));var Ce=Q.charAt(0),Ae=Ce==="x"?"y":"x";q.zLabel!==void 0?(q.xLabel!==void 0&&(ye+="x: "+q.xLabel+"<br>"),q.yLabel!==void 0&&(ye+="y: "+q.yLabel+"<br>"),q.trace.type!=="choropleth"&&q.trace.type!=="choroplethmapbox"&&(ye+=(ye?"z: ":"")+q.zLabel)):se&&q[Ce+"Label"]===le?ye=q[Ae+"Label"]||"":q.xLabel===void 0?q.yLabel!==void 0&&q.trace.type!=="scattercarpet"&&(ye=q.yLabel):q.yLabel===void 0?ye=q.xLabel:ye="("+q.xLabel+", "+q.yLabel+")",(q.text||q.text===0)&&!Array.isArray(q.text)&&(ye+=(ye?"<br>":"")+q.text),q.extraText!==void 0&&(ye+=(ye?"<br>":"")+q.extraText),ie&&ye===""&&!q.hovertemplate&&(ce===""&&ie.remove(),ye=ce);var ke=q.hovertemplate||!1;if(ke){var we=q.hovertemplateLabels||q;q[Ce+"Label"]!==le&&(we[Ce+"other"]=we[Ce+"Val"],we[Ce+"otherLabel"]=we[Ce+"Label"]),ye=x.hovertemplateString(ke,we,K._d3locale,q.eventData[0]||{},q.trace._meta),ye=ye.replace(k,function(Ee,xe){return ce=ne(xe,q.nameLength),""})}return[ye,ce]}function F(q,se,Q,K){var le=se?"xa":"ya",ie=se?"ya":"xa",ce=0,ye=1,Ce=q.size(),Ae=new Array(Ce),ke=0,we=K.minX,Ee=K.maxX,xe=K.minY,Pe=K.maxY,Ue=function(He){return He*Q._invScaleX},Be=function(He){return He*Q._invScaleY};q.each(function(He){var Ie=He[le],be=He[ie],me=Ie._id.charAt(0)==="x",Me=Ie.range;ke===0&&Me&&Me[0]>Me[1]!==me&&(ye=-1);var Te=0,Oe=me?Q.width:Q.height;if(Q.hovermode==="x"||Q.hovermode==="y"){var Ke=O(He,se),nt=He.anchor,pt=nt==="end"?-1:1,yt,Yt;if(nt==="middle")yt=He.crossPos+(me?Be(Ke.y-He.by/2):Ue(He.bx/2+He.tx2width/2)),Yt=yt+(me?Be(He.by):Ue(He.bx));else if(me)yt=He.crossPos+Be(m+Ke.y)-Be(He.by/2-m),Yt=yt+Be(He.by);else{var Xt=Ue(pt*m+Ke.x),St=Xt+Ue(pt*He.bx);yt=He.crossPos+Math.min(Xt,St),Yt=He.crossPos+Math.max(Xt,St)}me?xe!==void 0&&Pe!==void 0&&Math.min(Yt,Pe)-Math.max(yt,xe)>1&&(be.side==="left"?(Te=be._mainLinePosition,Oe=Q.width):Oe=be._mainLinePosition):we!==void 0&&Ee!==void 0&&Math.min(Yt,Ee)-Math.max(yt,we)>1&&(be.side==="top"?(Te=be._mainLinePosition,Oe=Q.height):Oe=be._mainLinePosition)}Ae[ke++]=[{datum:He,traceIndex:He.trace.index,dp:0,pos:He.pos,posref:He.posref,size:He.by*(me?w:1)/2,pmin:Te,pmax:Oe}]}),Ae.sort(function(He,Ie){return He[0].posref-Ie[0].posref||ye*(Ie[0].traceIndex-He[0].traceIndex)});var Ne,Xe,ut,dt,at,We,rt;function st(He){var Ie=He[0],be=He[He.length-1];if(Xe=Ie.pmin-Ie.pos-Ie.dp+Ie.size,ut=be.pos+be.dp+be.size-Ie.pmax,Xe>.01){for(at=He.length-1;at>=0;at--)He[at].dp+=Xe;Ne=!1}if(!(ut<.01)){if(Xe<-.01){for(at=He.length-1;at>=0;at--)He[at].dp-=ut;Ne=!1}if(Ne){var me=0;for(dt=0;dt<He.length;dt++)We=He[dt],We.pos+We.dp+We.size>Ie.pmax&&me++;for(dt=He.length-1;dt>=0&&!(me<=0);dt--)We=He[dt],We.pos>Ie.pmax-1&&(We.del=!0,me--);for(dt=0;dt<He.length&&!(me<=0);dt++)if(We=He[dt],We.pos<Ie.pmin+1)for(We.del=!0,me--,ut=We.size*2,at=He.length-1;at>=0;at--)He[at].dp-=ut;for(dt=He.length-1;dt>=0&&!(me<=0);dt--)We=He[dt],We.pos+We.dp+We.size>Ie.pmax&&(We.del=!0,me--)}}}for(;!Ne&&ce<=Ce;){for(ce++,Ne=!0,dt=0;dt<Ae.length-1;){var ht=Ae[dt],vt=Ae[dt+1],At=ht[ht.length-1],et=vt[0];if(Xe=At.pos+At.dp+At.size-et.pos-et.dp+et.size,Xe>.01&&At.pmin===et.pmin&&At.pmax===et.pmax){for(at=vt.length-1;at>=0;at--)vt[at].dp+=Xe;for(ht.push.apply(ht,vt),Ae.splice(dt+1,1),rt=0,at=ht.length-1;at>=0;at--)rt+=ht[at].dp;for(ut=rt/ht.length,at=ht.length-1;at>=0;at--)ht[at].dp-=ut;Ne=!1}else dt++}Ae.forEach(st)}for(dt=Ae.length-1;dt>=0;dt--){var _e=Ae[dt];for(at=_e.length-1;at>=0;at--){var Ve=_e[at],Ze=Ve.datum;Ze.offset=Ve.dp,Ze.del=Ve.del}}}function O(q,se){var Q=0,K=q.offset;return se&&(K*=-C,Q=q.offset*A),{x:Q,y:K}}function N(q){var se={start:1,end:-1,middle:0}[q.anchor],Q=se*(m+E),K=Q+se*(q.txwidth+E),le=q.anchor==="middle";return le&&(Q-=q.tx2width/2,K+=q.txwidth/2+E),{alignShift:se,textShiftX:Q,text2ShiftX:K}}function z(q,se,Q,K){var le=function(ce){return ce*Q},ie=function(ce){return ce*K};q.each(function(ce){var ye=g.select(this);if(ce.del)return ye.remove();var Ce=ye.select("text.nums"),Ae=ce.anchor,ke=Ae==="end"?-1:1,we=N(ce),Ee=O(ce,se),xe=Ee.x,Pe=Ee.y,Ue=Ae==="middle";ye.select("path").attr("d",Ue?"M-"+le(ce.bx/2+ce.tx2width/2)+","+ie(Pe-ce.by/2)+"h"+le(ce.bx)+"v"+ie(ce.by)+"h-"+le(ce.bx)+"Z":"M0,0L"+le(ke*m+xe)+","+ie(m+Pe)+"v"+ie(ce.by/2-m)+"h"+le(ke*ce.bx)+"v-"+ie(ce.by)+"H"+le(ke*m+xe)+"V"+ie(Pe-m)+"Z");var Be=xe+we.textShiftX,Ne=Pe+ce.ty0-ce.by/2+E,Xe=ce.textAlign||"auto";Xe!=="auto"&&(Xe==="left"&&Ae!=="start"?(Ce.attr("text-anchor","start"),Be=Ue?-ce.bx/2-ce.tx2width/2+E:-ce.bx-E):Xe==="right"&&Ae!=="end"&&(Ce.attr("text-anchor","end"),Be=Ue?ce.bx/2-ce.tx2width/2-E:ce.bx+E)),Ce.call(r.positionText,le(Be),ie(Ne)),ce.tx2width&&(ye.select("text.name").call(r.positionText,le(we.text2ShiftX+we.alignShift*E+xe),ie(Pe+ce.ty0-ce.by/2+E)),ye.select("rect").call(i.setRect,le(we.text2ShiftX+(we.alignShift-1)*ce.tx2width/2+xe),ie(Pe-ce.by/2-1),le(ce.tx2width),ie(ce.by+2)))})}function V(q,se){var Q=q.index,K=q.trace||{},le=q.cd[0],ie=q.cd[Q]||{};function ce(Ee){return Ee||P(Ee)&&Ee===0}var ye=Array.isArray(Q)?function(Ee,xe){var Pe=x.castOption(le,Q,Ee);return ce(Pe)?Pe:x.extractOption({},K,"",xe)}:function(Ee,xe){return x.extractOption(ie,K,Ee,xe)};function Ce(Ee,xe,Pe){var Ue=ye(xe,Pe);ce(Ue)&&(q[Ee]=Ue)}if(Ce("hoverinfo","hi","hoverinfo"),Ce("bgcolor","hbg","hoverlabel.bgcolor"),Ce("borderColor","hbc","hoverlabel.bordercolor"),Ce("fontFamily","htf","hoverlabel.font.family"),Ce("fontSize","hts","hoverlabel.font.size"),Ce("fontColor","htc","hoverlabel.font.color"),Ce("nameLength","hnl","hoverlabel.namelength"),Ce("textAlign","hta","hoverlabel.align"),q.posref=se==="y"||se==="closest"&&K.orientation==="h"?q.xa._offset+(q.x0+q.x1)/2:q.ya._offset+(q.y0+q.y1)/2,q.x0=x.constrain(q.x0,0,q.xa._length),q.x1=x.constrain(q.x1,0,q.xa._length),q.y0=x.constrain(q.y0,0,q.ya._length),q.y1=x.constrain(q.y1,0,q.ya._length),q.xLabelVal!==void 0&&(q.xLabel="xLabel"in q?q.xLabel:f.hoverLabelText(q.xa,q.xLabelVal,K.xhoverformat),q.xVal=q.xa.c2d(q.xLabelVal)),q.yLabelVal!==void 0&&(q.yLabel="yLabel"in q?q.yLabel:f.hoverLabelText(q.ya,q.yLabelVal,K.yhoverformat),q.yVal=q.ya.c2d(q.yLabelVal)),q.zLabelVal!==void 0&&q.zLabel===void 0&&(q.zLabel=String(q.zLabelVal)),!isNaN(q.xerr)&&!(q.xa.type==="log"&&q.xerr<=0)){var Ae=f.tickText(q.xa,q.xa.c2l(q.xerr),"hover").text;q.xerrneg!==void 0?q.xLabel+=" +"+Ae+" / -"+f.tickText(q.xa,q.xa.c2l(q.xerrneg),"hover").text:q.xLabel+=" ± "+Ae,se==="x"&&(q.distance+=1)}if(!isNaN(q.yerr)&&!(q.ya.type==="log"&&q.yerr<=0)){var ke=f.tickText(q.ya,q.ya.c2l(q.yerr),"hover").text;q.yerrneg!==void 0?q.yLabel+=" +"+ke+" / -"+f.tickText(q.ya,q.ya.c2l(q.yerrneg),"hover").text:q.yLabel+=" ± "+ke,se==="y"&&(q.distance+=1)}var we=q.hoverinfo||q.trace.hoverinfo;return we&&we!=="all"&&(we=Array.isArray(we)?we:we.split("+"),we.indexOf("x")===-1&&(q.xLabel=void 0),we.indexOf("y")===-1&&(q.yLabel=void 0),we.indexOf("z")===-1&&(q.zLabel=void 0),we.indexOf("text")===-1&&(q.text=void 0),we.indexOf("name")===-1&&(q.name=void 0)),q}function W(q,se,Q){var K=Q.container,le=Q.fullLayout,ie=le._size,ce=Q.event,ye=!!se.hLinePoint,Ce=!!se.vLinePoint,Ae,ke;if(K.selectAll(".spikeline").remove(),!!(Ce||ye)){var we=n.combine(le.plot_bgcolor,le.paper_bgcolor);if(ye){var Ee=se.hLinePoint,xe,Pe;Ae=Ee&&Ee.xa,ke=Ee&&Ee.ya;var Ue=ke.spikesnap;Ue==="cursor"?(xe=ce.pointerX,Pe=ce.pointerY):(xe=Ae._offset+Ee.x,Pe=ke._offset+Ee.y);var Be=a.readability(Ee.color,we)<1.5?n.contrast(we):Ee.color,Ne=ke.spikemode,Xe=ke.spikethickness,ut=ke.spikecolor||Be,dt=f.getPxPosition(q,ke),at,We;if(Ne.indexOf("toaxis")!==-1||Ne.indexOf("across")!==-1){if(Ne.indexOf("toaxis")!==-1&&(at=dt,We=xe),Ne.indexOf("across")!==-1){var rt=ke._counterDomainMin,st=ke._counterDomainMax;ke.anchor==="free"&&(rt=Math.min(rt,ke.position),st=Math.max(st,ke.position)),at=ie.l+rt*ie.w,We=ie.l+st*ie.w}K.insert("line",":first-child").attr({x1:at,x2:We,y1:Pe,y2:Pe,"stroke-width":Xe,stroke:ut,"stroke-dasharray":i.dashStyle(ke.spikedash,Xe)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:at,x2:We,y1:Pe,y2:Pe,"stroke-width":Xe+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}Ne.indexOf("marker")!==-1&&K.insert("circle",":first-child").attr({cx:dt+(ke.side!=="right"?Xe:-Xe),cy:Pe,r:Xe,fill:ut}).classed("spikeline",!0)}if(Ce){var ht=se.vLinePoint,vt,At;Ae=ht&&ht.xa,ke=ht&&ht.ya;var et=Ae.spikesnap;et==="cursor"?(vt=ce.pointerX,At=ce.pointerY):(vt=Ae._offset+ht.x,At=ke._offset+ht.y);var _e=a.readability(ht.color,we)<1.5?n.contrast(we):ht.color,Ve=Ae.spikemode,Ze=Ae.spikethickness,He=Ae.spikecolor||_e,Ie=f.getPxPosition(q,Ae),be,me;if(Ve.indexOf("toaxis")!==-1||Ve.indexOf("across")!==-1){if(Ve.indexOf("toaxis")!==-1&&(be=Ie,me=At),Ve.indexOf("across")!==-1){var Me=Ae._counterDomainMin,Te=Ae._counterDomainMax;Ae.anchor==="free"&&(Me=Math.min(Me,Ae.position),Te=Math.max(Te,Ae.position)),be=ie.t+(1-Te)*ie.h,me=ie.t+(1-Me)*ie.h}K.insert("line",":first-child").attr({x1:vt,x2:vt,y1:be,y2:me,"stroke-width":Ze,stroke:He,"stroke-dasharray":i.dashStyle(Ae.spikedash,Ze)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:vt,x2:vt,y1:be,y2:me,"stroke-width":Ze+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}Ve.indexOf("marker")!==-1&&K.insert("circle",":first-child").attr({cx:vt,cy:Ie-(Ae.side!=="top"?Ze:-Ze),r:Ze,fill:He}).classed("spikeline",!0)}}}function $(q,se,Q){if(!Q||Q.length!==q._hoverdata.length)return!0;for(var K=Q.length-1;K>=0;K--){var le=Q[K],ie=q._hoverdata[K];if(le.curveNumber!==ie.curveNumber||String(le.pointNumber)!==String(ie.pointNumber)||String(le.pointNumbers)!==String(ie.pointNumbers))return!0}return!1}function re(q,se){return!se||se.vLinePoint!==q._spikepoints.vLinePoint||se.hLinePoint!==q._spikepoints.hLinePoint}function ne(q,se){return r.plainText(q||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function ue(q,se){for(var Q=se.charAt(0),K=[],le=[],ie=[],ce=0;ce<q.length;ce++){var ye=q[ce];l.traceIs(ye.trace,"bar-like")||l.traceIs(ye.trace,"box-violin")?ie.push(ye):ye.trace[Q+"period"]?le.push(ye):K.push(ye)}return K.concat(le).concat(ie)}function J(q,se,Q){var K=se[q+"a"],le=se[q+"Val"],ie=se.cd[0];if(K.type==="category"||K.type==="multicategory")le=K._categoriesMap[le];else if(K.type==="date"){var ce=se.trace[q+"periodalignment"];if(ce){var ye=se.cd[se.index],Ce=ye[q+"Start"];Ce===void 0&&(Ce=ye[q]);var Ae=ye[q+"End"];Ae===void 0&&(Ae=ye[q]);var ke=Ae-Ce;ce==="end"?le+=ke:ce==="middle"&&(le+=ke/2)}le=K.d2c(le)}return ie&&ie.t&&ie.t.posLetter===K._id&&(Q.boxmode==="group"||Q.violinmode==="group")&&(le+=ie.t.dPos),le}function X(q){return q.offsetTop+q.clientTop}function oe(q){return q.offsetLeft+q.clientLeft}function Y(q,se){var Q=q._fullLayout,K=se.getBoundingClientRect(),le=K.left,ie=K.top,ce=le+K.width,ye=ie+K.height,Ce=x.apply3DTransform(Q._invTransform)(le,ie),Ae=x.apply3DTransform(Q._invTransform)(ce,ye),ke=Ce[0],we=Ce[1],Ee=Ae[0],xe=Ae[1];return{x:ke,y:we,width:Ee-ke,height:xe-we,top:Math.min(we,xe),left:Math.min(ke,Ee),right:Math.max(ke,Ee),bottom:Math.max(we,xe)}}},16132:function(j,H,e){var g=e(3400),P=e(76308),a=e(10624).isUnifiedHover;j.exports=function(M,v,p,r){r=r||{};var t=v.legend;function i(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(r.font||(r.font={}),i("size"),i("family"),i("color"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),g.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(j,H,e){var g=e(3400),P=e(65460);j.exports=function(x,M){function v(p,r){return M[p]!==void 0?M[p]:g.coerce(x,M,P,p,r)}return v("clickmode"),v("hovermode")}},93024:function(j,H,e){var g=e(33428),P=e(3400),a=e(86476),x=e(10624),M=e(65460),v=e(83292);j.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:M},attributes:e(55756),layoutAttributes:M,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:x.getDistanceFunction,getClosest:x.getClosest,inbox:x.inbox,quadrature:x.quadrature,appendArrayPointValue:x.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(i){var n=P.isD3Selection(i)?i:g.select(i);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(i,n,u){return P.castOption(i,n,"hoverlabel."+u)}function t(i,n,u){function f(l){return P.coerceHoverinfo({hoverinfo:l},{_module:i._module},n)}return P.castOption(i,u,"hoverinfo",f)}},65460:function(j,H,e){var g=e(92456),P=e(25376),a=P({editType:"none"});a.family.dflt=g.HOVERFONT,a.size.dflt=g.HOVERFONTSIZE,j.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(j,H,e){var g=e(3400),P=e(65460),a=e(41008),x=e(16132);j.exports=function(v,p){function r(l,y){return g.coerce(v,p,P,l,y)}var t=a(v,p);t&&(r("hoverdistance"),r("spikedistance"));var i=r("dragmode");i==="select"&&r("selectdirection");var n=p._has("mapbox"),u=p._has("geo"),f=p._basePlotModules.length;p.dragmode==="zoom"&&((n||u)&&f===1||n&&u&&f===2)&&(p.dragmode="pan"),x(v,p,r),g.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(j,H,e){var g=e(3400),P=e(16132),a=e(65460);j.exports=function(M,v){function p(r,t){return g.coerce(M,v,a,r,t)}P(M,v,p)}},12704:function(j,H,e){var g=e(3400),P=e(53756).counter,a=e(86968).u,x=e(33816).idRegex,M=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[x.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[x.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(u,f,l){var y=f[l+"axes"],h=Object.keys((u._splomAxes||{})[l]||{});if(Array.isArray(y))return y;if(h.length)return h}function r(u,f){var l=u.grid||{},y=p(f,l,"x"),h=p(f,l,"y");if(!u.grid&&!y&&!h)return;var S=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(y),o=Array.isArray(h),d=c&&y!==l.xaxes&&o&&h!==l.yaxes,w,A;S?(w=l.subplots.length,A=l.subplots[0].length):(o&&(w=h.length),c&&(A=y.length));var C=M.newContainer(f,"grid");function m(O,N){return g.coerce(l,C,v,O,N)}var E=m("rows",w),b=m("columns",A);if(!(E*b>1)){delete f.grid;return}if(!S&&!c&&!o){var s=m("pattern")==="independent";s&&(S=!0)}C._hasSubplotGrid=S;var L=m("roworder"),T=L==="top to bottom",k=S?.2:.1,_=S?.3:.1,B,F;d&&f._splomGridDflt&&(B=f._splomGridDflt.xside,F=f._splomGridDflt.yside),C._domains={x:t("x",m,k,B,b),y:t("y",m,_,F,E,T)}}function t(u,f,l,y,h,S){var c=f(u+"gap",l),o=f("domain."+u);f(u+"side",y);for(var d=new Array(h),w=o[0],A=(o[1]-w)/(h-c),C=A*(1-c),m=0;m<h;m++){var E=w+A*m;d[S?h-1-m:m]=[E,E+C]}return d}function i(u,f){var l=f.grid;if(!(!l||!l._domains)){var y=u.grid||{},h=f._subplots,S=l._hasSubplotGrid,c=l.rows,o=l.columns,d=l.pattern==="independent",w,A,C,m,E,b,s,L=l._axisMap={};if(S){var T=y.subplots||[];b=l.subplots=new Array(c);var k=1;for(w=0;w<c;w++){var _=b[w]=new Array(o),B=T[w]||[];for(A=0;A<o;A++)if(d?(E=k===1?"xy":"x"+k+"y"+k,k++):E=B[A],_[A]="",h.cartesian.indexOf(E)!==-1){if(s=E.indexOf("y"),C=E.slice(0,s),m=E.slice(s),L[C]!==void 0&&L[C]!==A||L[m]!==void 0&&L[m]!==w)continue;_[A]=E,L[C]=A,L[m]=w}}}else{var F=p(f,y,"x"),O=p(f,y,"y");l.xaxes=n(F,h.xaxis,o,L,"x"),l.yaxes=n(O,h.yaxis,c,L,"y")}var N=l._anchors={},z=l.roworder==="top to bottom";for(var V in L){var W=V.charAt(0),$=l[W+"side"],re,ne,ue;if($.length<8)N[V]="free";else if(W==="x"){if($.charAt(0)==="t"===z?(re=0,ne=1,ue=c):(re=c-1,ne=-1,ue=-1),S){var J=L[V];for(w=re;w!==ue;w+=ne)if(E=b[w][J],!!E&&(s=E.indexOf("y"),E.slice(0,s)===V)){N[V]=E.slice(s);break}}else for(w=re;w!==ue;w+=ne)if(m=l.yaxes[w],h.cartesian.indexOf(V+m)!==-1){N[V]=m;break}}else if($.charAt(0)==="l"?(re=0,ne=1,ue=o):(re=o-1,ne=-1,ue=-1),S){var X=L[V];for(w=re;w!==ue;w+=ne)if(E=b[X][w],!!E&&(s=E.indexOf("y"),E.slice(s)===V)){N[V]=E.slice(0,s);break}}else for(w=re;w!==ue;w+=ne)if(C=l.xaxes[w],h.cartesian.indexOf(C+V)!==-1){N[V]=C;break}}}}function n(u,f,l,y,h){var S=new Array(l),c;function o(d,w){f.indexOf(w)!==-1&&y[w]===void 0?(S[d]=w,y[w]=d):S[d]=""}if(Array.isArray(u))for(c=0;c<l;c++)o(c,u[c]);else for(o(0,h),c=1;c<l;c++)o(c,h+(c+1));return S}j.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:i}},65760:function(j,H,e){var g=e(33816),P=e(31780).templatedArray;e(36208),j.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(j,H,e){var g=e(38248),P=e(36896);j.exports=function(x,M,v,p){M=M||{};var r=v==="log"&&M.type==="linear",t=v==="linear"&&M.type==="log";if(r||t){for(var i=x._fullLayout.images,n=M._id.charAt(0),u,f,l=0;l<i.length;l++)if(u=i[l],f="images["+l+"].",u[n+"ref"]===M._id){var y=u[n],h=u["size"+n],S=null,c=null;if(r){S=P(y,M.range);var o=h/Math.pow(10,S)/2;c=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else S=Math.pow(10,y),c=S*(Math.pow(10,h/2)-Math.pow(10,-h/2));g(S)?g(c)||(c=null):(S=null,c=null),p(f+n,S),p(f+"size"+n,c)}}}},25024:function(j,H,e){var g=e(3400),P=e(54460),a=e(51272),x=e(65760),M="images";j.exports=function(r,t){var i={name:M,handleItemDefaults:v};a(r,t,i)};function v(p,r,t){function i(o,d){return g.coerce(p,r,x,o,d)}var n=i("source"),u=i("visible",!!n);if(!u)return r;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var f={_fullLayout:t},l=["x","y"],y=0;y<2;y++){var h=l[y],S=P.coerceRef(p,r,f,h,"paper",void 0);if(S!=="paper"){var c=P.getFromId(f,S);c._imgIndices.push(r._index)}P.coercePosition(r,f,i,S,h,0)}return r}},60963:function(j,H,e){var g=e(33428),P=e(43616),a=e(54460),x=e(79811),M=e(9616);j.exports=function(p){var r=p._fullLayout,t=[],i={},n=[],u,f;for(f=0;f<r.images.length;f++){var l=r.images[f];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){u=x.ref2id(l.xref)+x.ref2id(l.yref);var y=r._plots[u];if(!y){n.push(l);continue}y.mainplot&&(u=y.mainplot.id),i[u]||(i[u]=[]),i[u].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function S(m){var E=g.select(this);if(this._imgSrc!==m.source)if(E.attr("xmlns",M.svg),m.source&&m.source.slice(0,5)==="data:")E.attr("xlink:href",m.source),this._imgSrc=m.source;else{var b=new Promise((function(s){var L=new Image;this.img=L,L.setAttribute("crossOrigin","anonymous"),L.onerror=T,L.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var _=k.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var B=k.toDataURL("image/png");E.attr("xlink:href",B),s()},E.on("error",T),L.src=m.source,this._imgSrc=m.source;function T(){E.remove(),s()}}).bind(this));p._promises.push(b)}}function c(m){var E=g.select(this),b=a.getFromId(p,m.xref),s=a.getFromId(p,m.yref),L=a.getRefType(m.xref)==="domain",T=a.getRefType(m.yref)==="domain",k=r._size,_,B;b!==void 0?_=typeof m.xref=="string"&&L?b._length*m.sizex:Math.abs(b.l2p(m.sizex)-b.l2p(0)):_=m.sizex*k.w,s!==void 0?B=typeof m.yref=="string"&&T?s._length*m.sizey:Math.abs(s.l2p(m.sizey)-s.l2p(0)):B=m.sizey*k.h;var F=_*h.x[m.xanchor].offset,O=B*h.y[m.yanchor].offset,N=h.x[m.xanchor].sizing+h.y[m.yanchor].sizing,z,V;switch(b!==void 0?z=typeof m.xref=="string"&&L?b._length*m.x+b._offset:b.r2p(m.x)+b._offset:z=m.x*k.w+k.l,z+=F,s!==void 0?V=typeof m.yref=="string"&&T?s._length*(1-m.y)+s._offset:s.r2p(m.y)+s._offset:V=k.h-m.y*k.h+k.t,V+=O,m.sizing){case"fill":N+=" slice";break;case"stretch":N="none";break}E.attr({x:z,y:V,width:_,height:B,preserveAspectRatio:N,opacity:m.opacity});var W=b&&a.getRefType(m.xref)!=="domain"?b._id:"",$=s&&a.getRefType(m.yref)!=="domain"?s._id:"",re=W+$;P.setClipUrl(E,re?"clip"+r._uid+re:null,p)}var o=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);o.enter().append("image"),d.enter().append("image"),o.exit().remove(),d.exit().remove(),o.each(function(m){S.bind(this)(m),c.bind(this)(m)}),d.each(function(m){S.bind(this)(m),c.bind(this)(m)});var w=Object.keys(r._plots);for(f=0;f<w.length;f++){u=w[f];var A=r._plots[u];if(A.imagelayer){var C=A.imagelayer.selectAll("image").data(i[u]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(m){S.bind(this)(m),c.bind(this)(m)})}}}},7402:function(j,H,e){j.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(j,H,e){var g=e(25376),P=e(22548);j.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(j){j.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(j,H,e){var g=e(24040),P=e(3400),a=e(31780),x=e(45464),M=e(3800),v=e(64859),p=e(42451);function r(t,i,n,u){var f=i[t]||{},l=a.newContainer(n,t);function y(ue,J){return P.coerce(f,l,M,ue,J)}var h=P.coerceFont(y,"font",n.font);y("bgcolor",n.paper_bgcolor),y("bordercolor");var S=y("visible");if(S){for(var c,o=function(ue,J){var X=c._input,oe=c;return P.coerce(X,oe,x,ue,J)},d=n.font||{},w=P.coerceFont(y,"grouptitlefont",P.extendFlat({},d,{size:Math.round(d.size*1.1)})),A=0,C=!1,m="normal",E=(n.shapes||[]).filter(function(ue){return ue.showlegend}),b=u.concat(E).filter(function(ue){return t===(ue.legend||"legend")}),s=0;s<b.length;s++)if(c=b[s],!!c.visible){var L=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(A++,c.showlegend&&(C=!0,(!L&&g.traceIs(c,"pie-like")||c._input.showlegend===!0)&&A++),P.coerceFont(o,"legendgrouptitle.font",w)),(!L&&g.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(m=p.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(m=p.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var T=P.coerce(i,n,v,"showlegend",C&&A>(t==="legend"?1:0));if(T===!1&&(n[t]=void 0),!(T===!1&&!f.uirevision)&&(y("uirevision",n.uirevision),T!==!1)){y("borderwidth");var k=y("orientation"),_=y("yref"),B=y("xref"),F=k==="h",O=_==="paper",N=B==="paper",z,V,W,$="left";F?(z=0,g.getComponentMethod("rangeslider","isVisible")(i.xaxis)?O?(V=1.1,W="bottom"):(V=1,W="top"):O?(V=-.1,W="top"):(V=0,W="bottom")):(V=1,W="auto",N?z=1.02:(z=1,$="right")),P.coerce(f,l,{x:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:z}},"x"),P.coerce(f,l,{y:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:V}},"y"),y("traceorder",m),p.isGrouped(n[t])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("indentation"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",$),y("yanchor",W),y("valign"),P.noneOrAll(f,l,["x","y"]);var re=y("title.text");if(re){y("title.side",F?"left":"top");var ne=P.extendFlat({},h,{size:P.bigFont(h.size)});P.coerceFont(y,"title.font",ne)}}}}j.exports=function(i,n,u){var f,l=u.slice(),y=n.shapes;if(y)for(f=0;f<y.length;f++){var h=y[f];if(h.showlegend){var S={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(S)}}var c=["legend"];for(f=0;f<l.length;f++)P.pushUnique(c,l[f].legend);for(n._legends=[],f=0;f<c.length;f++){var o=c[f];r(o,i,n,l),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},31140:function(j,H,e){var g=e(33428),P=e(3400),a=e(7316),x=e(24040),M=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),i=e(33048),n=e(65196),u=e(84284),f=u.LINE_SPACING,l=u.FROM_TL,y=u.FROM_BR,h=e(35456),S=e(2012),c=e(42451),o=1,d=/^legend[0-9]*$/;j.exports=function(V,W){if(W)A(V,W);else{var $=V._fullLayout,re=$._legends,ne=$._infolayer.selectAll('[class^="legend"]');ne.each(function(){var oe=g.select(this),Y=oe.attr("class"),q=Y.split(" ")[0];q.match(d)&&re.indexOf(q)===-1&&oe.remove()});for(var ue=0;ue<re.length;ue++){var J=re[ue],X=V._fullLayout[J];A(V,X)}}};function w(z,V,W){if(!(V.title.side!=="top center"&&V.title.side!=="top right")){var $=V.title.font,re=$.size*f,ne=0,ue=z.node(),J=p.bBox(ue).width;V.title.side==="top center"?ne=.5*(V._width-2*W-2*n.titlePad-J):V.title.side==="top right"&&(ne=V._width-2*W-2*n.titlePad-J),t.positionText(z,W+n.titlePad+ne,W+re)}}function A(z,V){var W=V||{},$=z._fullLayout,re=N(W),ne,ue,J=W._inHover;if(J?(ue=W.layer,ne="hover"):(ue=$._infolayer,ne=re),!!ue){ne+=$._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var X;if(J){if(!W.entries)return;X=h(W.entries,W)}else{for(var oe=(z.calcdata||[]).slice(),Y=$.shapes,q=0;q<Y.length;q++){var se=Y[q];if(se.showlegend){var Q={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};oe.push([{trace:Q}])}}X=$.showlegend&&h(oe,W,$._legends.length>1)}var K=$.hiddenlabels||[];if(!J&&(!$.showlegend||!X.length))return ue.selectAll("."+re).remove(),$._topdefs.select("#"+ne).remove(),a.autoMargin(z,re);var le=P.ensureSingle(ue,"g",re,function(xe){J||xe.attr("pointer-events","all")}),ie=P.ensureSingleById($._topdefs,"clipPath",ne,function(xe){xe.append("rect")}),ce=P.ensureSingle(le,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});ce.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var ye=P.ensureSingle(le,"g","scrollbox"),Ce=W.title;W._titleWidth=0,W._titleHeight=0;var Ae;Ce.text?(Ae=P.ensureSingle(ye,"text",re+"titletext"),Ae.attr("text-anchor","start").call(p.font,Ce.font).text(Ce.text),L(Ae,ye,z,W,o)):ye.selectAll("."+re+"titletext").remove();var ke=P.ensureSingle(le,"rect","scrollbar",function(xe){xe.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),we=ye.selectAll("g.groups").data(X);we.enter().append("g").attr("class","groups"),we.exit().remove();var Ee=we.selectAll("g.traces").data(P.identity);Ee.enter().append("g").attr("class","traces"),Ee.exit().remove(),Ee.style("opacity",function(xe){var Pe=xe[0].trace;return x.traceIs(Pe,"pie-like")?K.indexOf(xe[0].label)!==-1?.5:1:Pe.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(E,z,W)}).call(S,z,W).each(function(){J||g.select(this).call(s,z,re)}),P.syncOrAsync([a.previousPromises,function(){return _(z,we,Ee,W)},function(){var xe=$._size,Pe=W.borderwidth,Ue=W.xref==="paper",Be=W.yref==="paper";if(Ce.text&&w(Ae,W,Pe),!J){var Ne,Xe;Ue?Ne=xe.l+xe.w*W.x-l[F(W)]*W._width:Ne=$.width*W.x-l[F(W)]*W._width,Be?Xe=xe.t+xe.h*(1-W.y)-l[O(W)]*W._effHeight:Xe=$.height*(1-W.y)-l[O(W)]*W._effHeight;var ut=B(z,re,Ne,Xe);if(ut)return;if($.margin.autoexpand){var dt=Ne,at=Xe;Ne=Ue?P.constrain(Ne,0,$.width-W._width):dt,Xe=Be?P.constrain(Xe,0,$.height-W._effHeight):at,Ne!==dt&&P.log("Constrain "+re+".x to make legend fit inside graph"),Xe!==at&&P.log("Constrain "+re+".y to make legend fit inside graph")}p.setTranslate(le,Ne,Xe)}if(ke.on(".drag",null),le.on("wheel",null),J||W._height<=W._maxHeight||z._context.staticPlot){var We=W._effHeight;J&&(We=W._height),ce.attr({width:W._width-Pe,height:We-Pe,x:Pe/2,y:Pe/2}),p.setTranslate(ye,0,0),ie.select("rect").attr({width:W._width-2*Pe,height:We-2*Pe,x:Pe,y:Pe}),p.setClipUrl(ye,ne,z),p.setRect(ke,0,0,0,0),delete W._scrollY}else{var rt=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),st=W._effHeight-rt-2*n.scrollBarMargin,ht=W._height-W._effHeight,vt=st/ht,At=Math.min(W._scrollY||0,ht);ce.attr({width:W._width-2*Pe+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Pe,x:Pe/2,y:Pe/2}),ie.select("rect").attr({width:W._width-2*Pe+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Pe,x:Pe,y:Pe+At}),p.setClipUrl(ye,ne,z),me(At,rt,vt),le.on("wheel",function(){At=P.constrain(W._scrollY+g.event.deltaY/st*ht,0,ht),me(At,rt,vt),At!==0&&At!==ht&&g.event.preventDefault()});var et,_e,Ve,Ze=function(nt,pt,yt){var Yt=(yt-pt)/vt+nt;return P.constrain(Yt,0,ht)},He=function(nt,pt,yt){var Yt=(pt-yt)/vt+nt;return P.constrain(Yt,0,ht)},Ie=g.behavior.drag().on("dragstart",function(){var nt=g.event.sourceEvent;nt.type==="touchstart"?et=nt.changedTouches[0].clientY:et=nt.clientY,Ve=At}).on("drag",function(){var nt=g.event.sourceEvent;nt.buttons===2||nt.ctrlKey||(nt.type==="touchmove"?_e=nt.changedTouches[0].clientY:_e=nt.clientY,At=Ze(Ve,et,_e),me(At,rt,vt))});ke.call(Ie);var be=g.behavior.drag().on("dragstart",function(){var nt=g.event.sourceEvent;nt.type==="touchstart"&&(et=nt.changedTouches[0].clientY,Ve=At)}).on("drag",function(){var nt=g.event.sourceEvent;nt.type==="touchmove"&&(_e=nt.changedTouches[0].clientY,At=He(Ve,et,_e),me(At,rt,vt))});ye.call(be)}function me(nt,pt,yt){W._scrollY=z._fullLayout[re]._scrollY=nt,p.setTranslate(ye,0,-nt),p.setRect(ke,W._width,n.scrollBarMargin+nt*yt,n.scrollBarWidth,pt),ie.select("rect").attr("y",Pe+nt)}if(z._context.edits.legendPosition){var Me,Te,Oe,Ke;le.classed("cursor-move",!0),v.init({element:le.node(),gd:z,prepFn:function(){var nt=p.getTranslate(le);Oe=nt.x,Ke=nt.y},moveFn:function(nt,pt){var yt=Oe+nt,Yt=Ke+pt;p.setTranslate(le,yt,Yt),Me=v.align(yt,W._width,xe.l,xe.l+xe.w,W.xanchor),Te=v.align(Yt+W._height,-W._height,xe.t+xe.h,xe.t,W.yanchor)},doneFn:function(){if(Me!==void 0&&Te!==void 0){var nt={};nt[re+".x"]=Me,nt[re+".y"]=Te,x.call("_guiRelayout",z,nt)}},clickFn:function(nt,pt){var yt=ue.selectAll("g.traces").filter(function(){var Yt=this.getBoundingClientRect();return pt.clientX>=Yt.left&&pt.clientX<=Yt.right&&pt.clientY>=Yt.top&&pt.clientY<=Yt.bottom});yt.size()>0&&m(z,le,yt,nt,pt)}})}}],z)}}function C(z,V,W){var $=z[0],re=$.width,ne=V.entrywidthmode,ue=$.trace.legendwidth||V.entrywidth;return ne==="fraction"?V._maxWidth*ue:W+(ue||re)}function m(z,V,W,$,re){var ne=W.data()[0][0].trace,ue={event:re,node:W.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};ne._group&&(ue.group=ne._group),x.traceIs(ne,"pie-like")&&(ue.label=W.datum()[0].label);var J=M.triggerHandler(z,"plotly_legendclick",ue);if($===1){if(J===!1)return;V._clickTimeout=setTimeout(function(){z._fullLayout&&i(W,z,$)},z._context.doubleClickDelay)}else if($===2){V._clickTimeout&&clearTimeout(V._clickTimeout),z._legendMouseDownTime=0;var X=M.triggerHandler(z,"plotly_legenddoubleclick",ue);X!==!1&&J!==!1&&i(W,z,$)}}function E(z,V,W){var $=N(W),re=z.data()[0][0],ne=re.trace,ue=x.traceIs(ne,"pie-like"),J=!W._inHover&&V._context.edits.legendText&&!ue,X=W._maxNameLength,oe,Y;re.groupTitle?(oe=re.groupTitle.text,Y=re.groupTitle.font):(Y=W.font,W.entries?oe=re.text:(oe=ue?re.label:ne.name,ne._meta&&(oe=P.templateString(oe,ne._meta))));var q=P.ensureSingle(z,"text",$+"text");q.attr("text-anchor","start").call(p.font,Y).text(J?b(oe,X):oe);var se=W.indentation+W.itemwidth+n.itemGap*2;t.positionText(q,se,0),J?q.call(t.makeEditable,{gd:V,text:oe}).call(L,z,V,W).on("edit",function(Q){this.text(b(Q,X)).call(L,z,V,W);var K=re.trace._fullInput||{},le={};if(x.hasTransform(K,"groupby")){var ie=x.getTransformIndices(K,"groupby"),ce=ie[ie.length-1],ye=P.keyedContainer(K,"transforms["+ce+"].styles","target","value.name");ye.set(re.trace._group,Q),le=ye.constructUpdate()}else le.name=Q;return K._isShape?x.call("_guiRelayout",V,"shapes["+ne.index+"].name",le.name):x.call("_guiRestyle",V,le,ne.index)}):L(q,z,V,W)}function b(z,V){var W=Math.max(4,V);if(z&&z.trim().length>=W/2)return z;z=z||"";for(var $=W-z.length;$>0;$--)z+=" ";return z}function s(z,V,W){var $=V._context.doubleClickDelay,re,ne=1,ue=P.ensureSingle(z,"rect",W+"toggle",function(J){V._context.staticPlot||J.style("cursor","pointer").attr("pointer-events","all"),J.call(r.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(ue.on("mousedown",function(){re=new Date().getTime(),re-V._legendMouseDownTime<$?ne+=1:(ne=1,V._legendMouseDownTime=re)}),ue.on("mouseup",function(){if(!(V._dragged||V._editing)){var J=V._fullLayout[W];new Date().getTime()-V._legendMouseDownTime>$&&(ne=Math.max(ne-1,1)),m(V,J,z,ne,g.event)}}))}function L(z,V,W,$,re){$._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,W,function(){T(V,W,$,re)})}function T(z,V,W,$){var re=z.data()[0][0];if(!W._inHover&&re&&!re.trace.showlegend){z.remove();return}var ne=z.select("g[class*=math-group]"),ue=ne.node(),J=N(W);W||(W=V._fullLayout[J]);var X=W.borderwidth,oe;$===o?oe=W.title.font:re.groupTitle?oe=re.groupTitle.font:oe=W.font;var Y=oe.size*f,q,se;if(ue){var Q=p.bBox(ue);q=Q.height,se=Q.width,$===o?p.setTranslate(ne,X,X+q*.75):p.setTranslate(ne,0,q*.25)}else{var K="."+J+($===o?"title":"")+"text",le=z.select(K),ie=t.lineCount(le),ce=le.node();if(q=Y*ie,se=ce?p.bBox(ce).width:0,$===o)W.title.side==="left"&&(se+=n.itemGap*2),t.positionText(le,X+n.titlePad,X+Y);else{var ye=n.itemGap*2+W.indentation+W.itemwidth;re.groupTitle&&(ye=n.itemGap,se-=W.indentation+W.itemwidth),t.positionText(le,ye,-Y*((ie-1)/2-.3))}}$===o?(W._titleWidth=se,W._titleHeight=q):(re.lineHeight=Y,re.height=Math.max(q,16)+3,re.width=se)}function k(z){var V=0,W=0,$=z.title.side;return $&&($.indexOf("left")!==-1&&(V=z._titleWidth),$.indexOf("top")!==-1&&(W=z._titleHeight)),[V,W]}function _(z,V,W,$){var re=z._fullLayout,ne=N($);$||($=re[ne]);var ue=re._size,J=c.isVertical($),X=c.isGrouped($),oe=$.entrywidthmode==="fraction",Y=$.borderwidth,q=2*Y,se=n.itemGap,Q=$.indentation+$.itemwidth+se*2,K=2*(Y+se),le=O($),ie=$.y<0||$.y===0&&le==="top",ce=$.y>1||$.y===1&&le==="bottom",ye=$.tracegroupgap,Ce={};$._maxHeight=Math.max(ie||ce?re.height/2:ue.h,30);var Ae=0;$._width=0,$._height=0;var ke=k($);if(J)W.each(function(Ve){var Ze=Ve[0].height;p.setTranslate(this,Y+ke[0],Y+ke[1]+$._height+Ze/2+se),$._height+=Ze,$._width=Math.max($._width,Ve[0].width)}),Ae=Q+$._width,$._width+=se+Q+q,$._height+=K,X&&(V.each(function(Ve,Ze){p.setTranslate(this,0,Ze*$.tracegroupgap)}),$._height+=($._lgroupsLength-1)*$.tracegroupgap);else{var we=F($),Ee=$.x<0||$.x===0&&we==="right",xe=$.x>1||$.x===1&&we==="left",Pe=ce||ie,Ue=re.width/2;$._maxWidth=Math.max(Ee?Pe&&we==="left"?ue.l+ue.w:Ue:xe?Pe&&we==="right"?ue.r+ue.w:Ue:ue.w,2*Q);var Be=0,Ne=0;W.each(function(Ve){var Ze=C(Ve,$,Q);Be=Math.max(Be,Ze),Ne+=Ze}),Ae=null;var Xe=0;if(X){var ut=0,dt=0,at=0;V.each(function(){var Ve=0,Ze=0;g.select(this).selectAll("g.traces").each(function(Ie){var be=C(Ie,$,Q),me=Ie[0].height;p.setTranslate(this,ke[0],ke[1]+Y+se+me/2+Ze),Ze+=me,Ve=Math.max(Ve,be),Ce[Ie[0].trace.legendgroup]=Ve});var He=Ve+se;dt>0&&He+Y+dt>$._maxWidth?(Xe=Math.max(Xe,dt),dt=0,at+=ut+ye,ut=Ze):ut=Math.max(ut,Ze),p.setTranslate(this,dt,at),dt+=He}),$._width=Math.max(Xe,dt)+Y,$._height=at+ut+K}else{var We=W.size(),rt=Ne+q+(We-1)*se<$._maxWidth,st=0,ht=0,vt=0,At=0;W.each(function(Ve){var Ze=Ve[0].height,He=C(Ve,$,Q),Ie=rt?He:Be;oe||(Ie+=se),Ie+Y+ht-se>=$._maxWidth&&(Xe=Math.max(Xe,At),ht=0,vt+=st,$._height+=st,st=0),p.setTranslate(this,ke[0]+Y+ht,ke[1]+Y+vt+Ze/2+se),At=ht+He+se,ht+=Ie,st=Math.max(st,Ze)}),rt?($._width=ht+q,$._height=st+K):($._width=Math.max(Xe,At)+q,$._height+=st+K)}}$._width=Math.ceil(Math.max($._width+ke[0],$._titleWidth+2*(Y+n.titlePad))),$._height=Math.ceil(Math.max($._height+ke[1],$._titleHeight+2*(Y+n.itemGap))),$._effHeight=Math.min($._height,$._maxHeight);var et=z._context.edits,_e=et.legendText||et.legendPosition;W.each(function(Ve){var Ze=g.select(this).select("."+ne+"toggle"),He=Ve[0].height,Ie=Ve[0].trace.legendgroup,be=C(Ve,$,Q);X&&Ie!==""&&(be=Ce[Ie]);var me=_e?Q:Ae||be;!J&&!oe&&(me+=se/2),p.setRect(Ze,0,-He/2,me,He)})}function B(z,V,W,$){var re=z._fullLayout,ne=re[V],ue=F(ne),J=O(ne),X=ne.xref==="paper",oe=ne.yref==="paper";z._fullLayout._reservedMargin[V]={};var Y=ne.y<.5?"b":"t",q=ne.x<.5?"l":"r",se={r:re.width-W,l:W+ne._width,b:re.height-$,t:$+ne._effHeight};if(X&&oe)return a.autoMargin(z,V,{x:ne.x,y:ne.y,l:ne._width*l[ue],r:ne._width*y[ue],b:ne._effHeight*y[J],t:ne._effHeight*l[J]});X?z._fullLayout._reservedMargin[V][Y]=se[Y]:oe||ne.orientation==="v"?z._fullLayout._reservedMargin[V][q]=se[q]:z._fullLayout._reservedMargin[V][Y]=se[Y]}function F(z){return P.isRightAnchor(z)?"right":P.isCenterAnchor(z)?"center":"left"}function O(z){return P.isBottomAnchor(z)?"bottom":P.isMiddleAnchor(z)?"middle":"top"}function N(z){return z._id||"legend"}},35456:function(j,H,e){var g=e(24040),P=e(42451);j.exports=function(x,M,v){var p=M._inHover,r=P.isGrouped(M),t=P.isReversed(M),i={},n=[],u=!1,f={},l=0,y=0,h,S;function c(z,V,W){if(M.visible!==!1&&!(v&&z!==M._id))if(V===""||!P.isGrouped(M)){var $="~~i"+l;n.push($),i[$]=[W],l++}else n.indexOf(V)===-1?(n.push(V),u=!0,i[V]=[W]):i[V].push(W)}for(h=0;h<x.length;h++){var o=x[h],d=o[0],w=d.trace,A=w.legend,C=w.legendgroup;if(!(!p&&(!w.visible||!w.showlegend)))if(g.traceIs(w,"pie-like"))for(f[C]||(f[C]={}),S=0;S<o.length;S++){var m=o[S].label;f[C][m]||(c(A,C,{label:m,color:o[S].color,i:o[S].i,trace:w,pts:o[S].pts}),f[C][m]=!0,y=Math.max(y,(m||"").length))}else c(A,C,d),y=Math.max(y,(w.name||"").length)}if(!n.length)return[];var E=!u||!r,b=[];for(h=0;h<n.length;h++){var s=i[n[h]];E?b.push(s[0]):b.push(s)}for(E&&(b=[b]),h=0;h<b.length;h++){var L=1/0;for(S=0;S<b[h].length;S++){var T=b[h][S].trace.legendrank;L>T&&(L=T)}b[h][0]._groupMinRank=L,b[h][0]._preGroupSort=h}var k=function(z,V){return z[0]._groupMinRank-V[0]._groupMinRank||z[0]._preGroupSort-V[0]._preGroupSort},_=function(z,V){return z.trace.legendrank-V.trace.legendrank||z._preSort-V._preSort};for(b.forEach(function(z,V){z[0]._preGroupSort=V}),b.sort(k),h=0;h<b.length;h++){b[h].forEach(function(z,V){z._preSort=V}),b[h].sort(_);var B=b[h][0].trace,F=null;for(S=0;S<b[h].length;S++){var O=b[h][S].trace.legendgrouptitle;if(O&&O.text){F=O,p&&(O.font=M._groupTitleFont);break}}if(t&&b[h].reverse(),F){var N=!1;for(S=0;S<b[h].length;S++)if(g.traceIs(b[h][S].trace,"pie-like")){N=!0;break}b[h].unshift({i:-1,groupTitle:F,noClick:N,trace:{showlegend:B.showlegend,legendgroup:B.legendgroup,visible:M.groupclick==="toggleitem"?!0:B.visible}})}for(S=0;S<b[h].length;S++)b[h][S]=[b[h][S]]}return M._lgroupsLength=b.length,M._maxNameLength=y,b}},33048:function(j,H,e){var g=e(24040),P=e(3400),a=P.pushUnique,x=!0;j.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var i=t.legend.itemclick,n=t.legend.itemdoubleclick,u=t.legend.groupclick;r===1&&i==="toggle"&&n==="toggleothers"&&x&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),x=!1;var f;if(r===1?f=i:r===2&&(f=n),!f)return;var l=u==="togglegroup",y=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var S=p._fullData,c=(t.shapes||[]).filter(function(Ue){return Ue.showlegend}),o=S.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var w=d.legendgroup,A,C,m,E,b,s,L={},T=[],k=[],_=[];function B(Ue,Be){var Ne=T.indexOf(Ue),Xe=L.visible;return Xe||(Xe=L.visible=[]),T.indexOf(Ue)===-1&&(T.push(Ue),Ne=T.length-1),Xe[Ne]=Be,Ne}var F=(t.shapes||[]).map(function(Ue){return Ue._input}),O=!1;function N(Ue,Be){F[Ue].visible=Be,O=!0}function z(Ue,Be){if(!(h.groupTitle&&!l)){var Ne=Ue._fullInput||Ue,Xe=Ne._isShape,ut=Ne.index;if(ut===void 0&&(ut=Ne._index),g.hasTransform(Ne,"groupby")){var dt=k[ut];if(!dt){var at=g.getTransformIndices(Ne,"groupby"),We=at[at.length-1];dt=P.keyedContainer(Ne,"transforms["+We+"].styles","target","value.visible"),k[ut]=dt}var rt=dt.get(Ue._group);rt===void 0&&(rt=!0),rt!==!1&&dt.set(Ue._group,Be),_[ut]=B(ut,Ne.visible!==!1)}else{var st=Ne.visible===!1?!1:Be;Xe?N(ut,st):B(ut,st)}}}var V=d.legend,W=d._fullInput,$=W&&W._isShape;if(!$&&g.traceIs(d,"pie-like")){var re=h.label,ne=y.indexOf(re);if(f==="toggle")ne===-1?y.push(re):y.splice(ne,1);else if(f==="toggleothers"){var ue=ne!==-1,J=[];for(A=0;A<p.calcdata.length;A++){var X=p.calcdata[A];for(C=0;C<X.length;C++){var oe=X[C],Y=oe.label;V===X[0].trace.legend&&re!==Y&&(y.indexOf(Y)===-1&&(ue=!0),a(y,Y),J.push(Y))}}if(!ue)for(var q=0;q<J.length;q++){var se=y.indexOf(J[q]);se!==-1&&y.splice(se,1)}}g.call("_guiRelayout",p,"hiddenlabels",y)}else{var Q=w&&w.length,K=[],le;if(Q)for(A=0;A<o.length;A++)le=o[A],le.visible&&le.legendgroup===w&&K.push(A);if(f==="toggle"){var ie;switch(d.visible){case!0:ie="legendonly";break;case!1:ie=!1;break;case"legendonly":ie=!0;break}if(Q)if(l)for(A=0;A<o.length;A++){var ce=o[A];ce.visible!==!1&&ce.legendgroup===w&&z(ce,ie)}else z(d,ie);else z(d,ie)}else if(f==="toggleothers"){var ye,Ce,Ae,ke,we,Ee=!0;for(A=0;A<o.length;A++)if(we=o[A],ye=we===d,Ae=we.showlegend!==!0,!(ye||Ae)&&(Ce=Q&&we.legendgroup===w,!Ce&&we.legend===V&&we.visible===!0&&!g.traceIs(we,"notLegendIsolatable"))){Ee=!1;break}for(A=0;A<o.length;A++)if(we=o[A],!(we.visible===!1||we.legend!==V)&&!g.traceIs(we,"notLegendIsolatable"))switch(d.visible){case"legendonly":z(we,!0);break;case!0:ke=Ee?!0:"legendonly",ye=we===d,Ae=we.showlegend!==!0&&!we.legendgroup,Ce=ye||Q&&we.legendgroup===w,z(we,Ce||Ae?!0:ke);break}}for(A=0;A<k.length;A++)if(m=k[A],!!m){var xe=m.constructUpdate(),Pe=Object.keys(xe);for(C=0;C<Pe.length;C++)E=Pe[C],s=L[E]=L[E]||[],s[_[A]]=xe[E]}for(b=Object.keys(L),A=0;A<b.length;A++)for(E=b[A],C=0;C<T.length;C++)L[E].hasOwnProperty(C)||(L[E][C]=void 0);O?g.call("_guiUpdate",p,L,{shapes:F},T):g.call("_guiRestyle",p,L,T)}}},42451:function(j,H){H.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},H.isVertical=function(g){return g.orientation!=="h"},H.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2780:function(j,H,e){j.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(j,H,e){var g=e(33428),P=e(24040),a=e(3400),x=a.strTranslate,M=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),i=e(69656).castOption,n=e(65196),u=12,f=5,l=2,y=10,h=5;j.exports=function(w,A,C){var m=A._fullLayout;C||(C=m.legend);var E=C.itemsizing==="constant",b=C.itemwidth,s=(b+n.itemGap*2)/2,L=x(s,0),T=function(J,X,oe,Y){var q;if(J+1)q=J;else if(X&&X.width>0)q=X.width;else return 0;return E?Y:Math.min(q,oe)};w.each(function(J){var X=g.select(this),oe=a.ensureSingle(X,"g","layers");oe.style("opacity",J[0].trace.opacity);var Y=C.indentation,q=C.valign,se=J[0].lineHeight,Q=J[0].height;if(q==="middle"&&Y===0||!se||!Q)oe.attr("transform",null);else{var K={top:1,bottom:-1}[q],le=K*(.5*(se-Q+3))||0,ie=C.indentation;oe.attr("transform",x(ie,le))}var ce=oe.selectAll("g.legendfill").data([J]);ce.enter().append("g").classed("legendfill",!0);var ye=oe.selectAll("g.legendlines").data([J]);ye.enter().append("g").classed("legendlines",!0);var Ce=oe.selectAll("g.legendsymbols").data([J]);Ce.enter().append("g").classed("legendsymbols",!0),Ce.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(ue).each(B).each(O).each(F).each(z).each(re).each($).each(k).each(_).each(V).each(W);function k(J){var X=c(J),oe=X.showFill,Y=X.showLine,q=X.showGradientLine,se=X.showGradientFill,Q=X.anyFill,K=X.anyLine,le=J[0],ie=le.trace,ce,ye,Ce=p(ie),Ae=Ce.colorscale,ke=Ce.reversescale,we=function(Xe){if(Xe.size())if(oe)M.fillGroupStyle(Xe,A,!0);else{var ut="legendfill-"+ie.uid;M.gradient(Xe,A,ut,S(ke),Ae,"fill")}},Ee=function(Xe){if(Xe.size()){var ut="legendline-"+ie.uid;M.lineGroupStyle(Xe),M.gradient(Xe,A,ut,S(ke),Ae,"stroke")}},xe=r.hasMarkers(ie)||!Q?"M5,0":K?"M5,-2":"M5,-3",Pe=g.select(this),Ue=Pe.select(".legendfill").selectAll("path").data(oe||se?[J]:[]);if(Ue.enter().append("path").classed("js-fill",!0),Ue.exit().remove(),Ue.attr("d",xe+"h"+b+"v6h-"+b+"z").call(we),Y||q){var Be=T(void 0,ie.line,y,f);ye=a.minExtend(ie,{line:{width:Be}}),ce=[a.minExtend(le,{trace:ye})]}var Ne=Pe.select(".legendlines").selectAll("path").data(Y||q?[ce]:[]);Ne.enter().append("path").classed("js-line",!0),Ne.exit().remove(),Ne.attr("d",xe+(q?"l"+b+",0.0001":"h"+b)).call(Y?M.lineGroupStyle:Ee)}function _(J){var X=c(J),oe=X.anyFill,Y=X.anyLine,q=X.showLine,se=X.showMarker,Q=J[0],K=Q.trace,le=!se&&!Y&&!oe&&r.hasText(K),ie,ce;function ye(Ue,Be,Ne,Xe){var ut=a.nestedProperty(K,Ue).get(),dt=a.isArrayOrTypedArray(ut)&&Be?Be(ut):ut;if(E&&dt&&Xe!==void 0&&(dt=Xe),Ne){if(dt<Ne[0])return Ne[0];if(dt>Ne[1])return Ne[1]}return dt}function Ce(Ue){return Q._distinct&&Q.index&&Ue[Q.index]?Ue[Q.index]:Ue[0]}if(se||le||q){var Ae={},ke={};if(se){Ae.mc=ye("marker.color",Ce),Ae.mx=ye("marker.symbol",Ce),Ae.mo=ye("marker.opacity",a.mean,[.2,1]),Ae.mlc=ye("marker.line.color",Ce),Ae.mlw=ye("marker.line.width",a.mean,[0,5],l),ke.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var we=ye("marker.size",a.mean,[2,16],u);Ae.ms=we,ke.marker.size=we}q&&(ke.line={width:ye("line.width",Ce,[0,10],f)}),le&&(Ae.tx="Aa",Ae.tp=ye("textposition",Ce),Ae.ts=10,Ae.tc=ye("textfont.color",Ce),Ae.tf=ye("textfont.family",Ce)),ie=[a.minExtend(Q,Ae)],ce=a.minExtend(K,ke),ce.selectedpoints=null,ce.texttemplate=null}var Ee=g.select(this).select("g.legendpoints"),xe=Ee.selectAll("path.scatterpts").data(se?ie:[]);xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),xe.exit().remove(),xe.call(M.pointStyle,ce,A),se&&(ie[0].mrc=3);var Pe=Ee.selectAll("g.pointtext").data(le?ie:[]);Pe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),Pe.exit().remove(),Pe.selectAll("text").call(M.textPointStyle,ce,A)}function B(J){var X=J[0].trace,oe=X.type==="waterfall";if(J[0]._distinct&&oe){var Y=J[0].trace[J[0].dir].marker;return J[0].mc=Y.color,J[0].mlw=Y.line.width,J[0].mlc=Y.line.color,N(J,this,"waterfall")}var q=[];X.visible&&oe&&(q=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(Q){var K=g.select(this),le=X[Q[0]].marker,ie=T(void 0,le.line,h,l);K.attr("d",Q[1]).style("stroke-width",ie+"px").call(v.fill,le.color),ie&&K.call(v.stroke,le.line.color)})}function F(J){N(J,this)}function O(J){N(J,this,"funnel")}function N(J,X,oe){var Y=J[0].trace,q=Y.marker||{},se=q.line||{},Q=q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",K=oe?Y.visible&&Y.type===oe:P.traceIs(Y,"bar"),le=g.select(X).select("g.legendpoints").selectAll("path.legend"+oe).data(K?[J]:[]);le.enter().append("path").classed("legend"+oe,!0).attr("d",Q).attr("transform",L),le.exit().remove(),le.each(function(ie){var ce=g.select(this),ye=ie[0],Ce=T(ye.mlw,q.line,h,l);ce.style("stroke-width",Ce+"px");var Ae=ye.mcc;if(!C._inHover&&"mc"in ye){var ke=p(q),we=ke.mid;we===void 0&&(we=(ke.max+ke.min)/2),Ae=M.tryColorscale(q,"")(we)}var Ee=Ae||ye.mc||q.color,xe=q.pattern,Pe=xe&&M.getPatternAttr(xe.shape,0,"");if(Pe){var Ue=M.getPatternAttr(xe.bgcolor,0,null),Be=M.getPatternAttr(xe.fgcolor,0,null),Ne=xe.fgopacity,Xe=o(xe.size,8,10),ut=o(xe.solidity,.5,1),dt="legend-"+Y.uid;ce.call(M.pattern,"legend",A,dt,Pe,Xe,ut,Ae,xe.fillmode,Ue,Be,Ne)}else ce.call(v.fill,Ee);Ce&&v.stroke(ce,ye.mlc||se.color)})}function z(J){var X=J[0].trace,oe=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(X.visible&&P.traceIs(X,"box-violin")?[J]:[]);oe.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),oe.exit().remove(),oe.each(function(){var Y=g.select(this);if((X.boxpoints==="all"||X.points==="all")&&v.opacity(X.fillcolor)===0&&v.opacity((X.line||{}).color)===0){var q=a.minExtend(X,{marker:{size:E?u:a.constrain(X.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});oe.call(M.pointStyle,q,A)}else{var se=T(void 0,X.line,h,l);Y.style("stroke-width",se+"px").call(v.fill,X.fillcolor),se&&v.stroke(Y,X.line.color)}})}function V(J){var X=J[0].trace,oe=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(X.visible&&X.type==="candlestick"?[J,J]:[]);oe.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(Y,q){var se=g.select(this),Q=X[q?"increasing":"decreasing"],K=T(void 0,Q.line,h,l);se.style("stroke-width",K+"px").call(v.fill,Q.fillcolor),K&&v.stroke(se,Q.line.color)})}function W(J){var X=J[0].trace,oe=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(X.visible&&X.type==="ohlc"?[J,J]:[]);oe.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(Y,q){var se=g.select(this),Q=X[q?"increasing":"decreasing"],K=T(void 0,Q.line,h,l);se.style("fill","none").call(M.dashLine,Q.line.dash,K),K&&v.stroke(se,Q.line.color)})}function $(J){ne(J,this,"pie")}function re(J){ne(J,this,"funnelarea")}function ne(J,X,oe){var Y=J[0],q=Y.trace,se=oe?q.visible&&q.type===oe:P.traceIs(q,oe),Q=g.select(X).select("g.legendpoints").selectAll("path.legend"+oe).data(se?[J]:[]);if(Q.enter().append("path").classed("legend"+oe,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),Q.exit().remove(),Q.size()){var K=q.marker||{},le=T(i(K.line.width,Y.pts),K.line,h,l),ie="pieLike",ce=a.minExtend(q,{marker:{line:{width:le}}},ie),ye=a.minExtend(Y,{trace:ce},ie);t(Q,ye,ce,A)}}function ue(J){var X=J[0].trace,oe,Y=[];if(X.visible)switch(X.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],oe=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],oe=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],oe="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],oe=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],oe=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],oe=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],oe=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],oe=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],oe=!1;break}var q=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(se,Q){var K=g.select(this),le=p(X),ie=le.colorscale,ce=le.reversescale,ye=function(we){if(we.size()){var Ee="legendfill-"+X.uid;M.gradient(we,A,Ee,S(ce,oe==="radial"),ie,"fill")}},Ce;if(ie){if(!oe){var ke=ie.length;Ce=Q===0?ie[ce?ke-1:0][1]:Q===1?ie[ce?0:ke-1][1]:ie[Math.floor((ke-1)/2)][1]}}else{var Ae=X.vertexcolor||X.facecolor||X.color;Ce=a.isArrayOrTypedArray(Ae)?Ae[Q]||Ae[0]:Ae}K.attr("d",se[0]),Ce?K.call(v.fill,Ce):K.call(ye)})}};function S(d,w){var A=w?"radial":"horizontal";return A+(d?"":"reversed")}function c(d){var w=d[0].trace,A=w.contours,C=r.hasLines(w),m=r.hasMarkers(w),E=w.visible&&w.fill&&w.fill!=="none",b=!1,s=!1;if(A){var L=A.coloring;L==="lines"?b=!0:C=L==="none"||L==="heatmap"||A.showlines,A.type==="constraint"?E=A._operation!=="=":(L==="fill"||L==="heatmap")&&(s=!0)}return{showMarker:m,showLine:C,showFill:E,showGradientLine:b,showGradientFill:s,anyLine:C||b,anyFill:E||s}}function o(d,w,A){return d&&a.isArrayOrTypedArray(d)?w:d>A?A:d}},66540:function(j,H,e){e(76052),j.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(j,H,e){var g=e(24040),P=e(7316),a=e(79811),x=e(9224),M=e(4016).eraseActiveShape,v=e(3400),p=v._,r=j.exports={};r.toImage={name:"toImage",title:function(d){var w=d._context.toImageButtonOptions||{},A=w.format||"png";return A==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:x.camera,click:function(d){var w=d._context.toImageButtonOptions,A={format:w.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(C){C in w&&(A[C]=w[C])}),g.call("downloadImage",d,A).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:x.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:x.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:x.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:x.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:x.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:x.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:x.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:x.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:x.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:x.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:x.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:x.eraseshape,click:M},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:x.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:x.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:x.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:x.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:x.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:x.tooltip_compare,gravity:"ne",click:t};function t(d,w){var A=w.currentTarget,C=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,E=d._fullLayout,b={},s=a.list(d,null,!0),L=E._cartesianSpikesEnabled,T,k;if(C==="zoom"){var _=m==="in"?.5:2,B=(1+_)/2,F=(1-_)/2,O;for(k=0;k<s.length;k++)if(T=s[k],!T.fixedrange)if(O=T._name,m==="auto")b[O+".autorange"]=!0;else if(m==="reset")T._rangeInitial0===void 0&&T._rangeInitial1===void 0?b[O+".autorange"]=!0:T._rangeInitial0===void 0?(b[O+".autorange"]=T._autorangeInitial,b[O+".range"]=[null,T._rangeInitial1]):T._rangeInitial1===void 0?(b[O+".range"]=[T._rangeInitial0,null],b[O+".autorange"]=T._autorangeInitial):b[O+".range"]=[T._rangeInitial0,T._rangeInitial1],T._showSpikeInitial!==void 0&&(b[O+".showspikes"]=T._showSpikeInitial,L==="on"&&!T._showSpikeInitial&&(L="off"));else{var N=[T.r2l(T.range[0]),T.r2l(T.range[1])],z=[B*N[0]+F*N[1],B*N[1]+F*N[0]];b[O+".range[0]"]=T.l2r(z[0]),b[O+".range[1]"]=T.l2r(z[1])}}else C==="hovermode"&&(m==="x"||m==="y")&&(m=E._isHoriz?"y":"x",A.setAttribute("data-val",m)),b[C]=m;E._cartesianSpikesEnabled=L,g.call("_guiRelayout",d,b)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:x.zoombox,click:i},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:x.pan,click:i},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:x["3d_rotate"],click:i},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:x["z-axis"],click:i};function i(d,w){for(var A=w.currentTarget,C=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,E=d._fullLayout._subplots.gl3d||[],b={},s=C.split("."),L=0;L<E.length;L++)b[E[L]+"."+s[1]]=m;var T=m==="pan"?m:"zoom";b.dragmode=T,g.call("_guiRelayout",d,b)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:x.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:x.movie,click:n};function n(d,w){for(var A=w.currentTarget,C=A.getAttribute("data-attr"),m=C==="resetLastSave",E=C==="resetDefault",b=d._fullLayout,s=b._subplots.gl3d||[],L={},T=0;T<s.length;T++){var k=s[T],_=k+".camera",B=k+".aspectratio",F=k+".aspectmode",O=b[k]._scene,N;m?(L[_+".up"]=O.viewInitial.up,L[_+".eye"]=O.viewInitial.eye,L[_+".center"]=O.viewInitial.center,N=!0):E&&(L[_+".up"]=null,L[_+".eye"]=null,L[_+".center"]=null,N=!0),N&&(L[B+".x"]=O.viewInitial.aspectratio.x,L[B+".y"]=O.viewInitial.aspectratio.y,L[B+".z"]=O.viewInitial.aspectratio.z,L[F]=O.viewInitial.aspectmode)}g.call("_guiRelayout",d,L)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:x.tooltip_basic,gravity:"ne",click:f};function u(d,w){var A=w.currentTarget,C=A._previousVal,m=d._fullLayout,E=m._subplots.gl3d||[],b=["xaxis","yaxis","zaxis"],s={},L={};if(C)L=C,A._previousVal=null;else{for(var T=0;T<E.length;T++){var k=E[T],_=m[k],B=k+".hovermode";s[B]=_.hovermode,L[B]=!1;for(var F=0;F<3;F++){var O=b[F],N=k+"."+O+".showspikes";L[N]=!1,s[N]=_[O].showspikes}}A._previousVal=s}return L}function f(d,w){var A=u(d,w);g.call("_guiRelayout",d,A)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:x.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:x.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:x.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:x.tooltip_basic,gravity:"ne",click:h};function l(d,w){for(var A=w.currentTarget,C=A.getAttribute("data-attr"),m=A.getAttribute("data-val")||!0,E=d._fullLayout,b=E._subplots.geo||[],s=0;s<b.length;s++){var L=b[s],T=E[L];if(C==="zoom"){var k=T.projection.scale,_=m==="in"?2*k:.5*k;g.call("_guiRelayout",d,L+".projection.scale",_)}}C==="reset"&&o(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:x.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:x.tooltip_basic,gravity:"ne",click:h};function y(d){var w=d._fullLayout;return w.hovermode?!1:w._has("cartesian")?w._isHoriz?"y":"x":"closest"}function h(d){var w=y(d);g.call("_guiRelayout",d,"hovermode",w)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:x.home,click:function(d){for(var w={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<d._fullData.length;A++){var C=d._fullData[A]._viewInitial;w["node.groups"].push(C.node.groups.slice()),w["node.x"].push(C.node.x.slice()),w["node.y"].push(C.node.y.slice())}g.call("restyle",d,w)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:x.tooltip_basic,gravity:"ne",click:function(d,w){var A=u(d,w);A.hovermode=y(d),g.call("_guiRelayout",d,A)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:x.home,click:function(d,w){var A=w.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),t(d,w),A.setAttribute("data-attr","resetLastSave"),n(d,w),o(d,"geo"),o(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:x.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var w=d._fullLayout,A=w._cartesianSpikesEnabled;w._cartesianSpikesEnabled=A==="on"?"off":"on",g.call("_guiRelayout",d,S(d))}};function S(d){for(var w=d._fullLayout,A=w._cartesianSpikesEnabled==="on",C=a.list(d,null,!0),m={},E=0;E<C.length;E++){var b=C[E];m[b._name+".showspikes"]=A?!0:b._showSpikeInitial}return m}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:x.home,click:function(d){o(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:x.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:x.zoom_minus,click:c};function c(d,w){for(var A=w.currentTarget,C=A.getAttribute("data-val"),m=d._fullLayout,E=m._subplots.mapbox||[],b=1.05,s={},L=0;L<E.length;L++){var T=E[L],k=m[T].zoom,_=C==="in"?b*k:k/b;s[T+".zoom"]=_}g.call("_guiRelayout",d,s)}function o(d,w){for(var A=d._fullLayout,C=A._subplots[w]||[],m={},E=0;E<C.length;E++)for(var b=C[E],s=A[b]._subplot,L=s.viewInitial,T=Object.keys(L),k=0;k<T.length;k++){var _=T[k];m[b+"."+_]=L[_]}g.call("_guiRelayout",d,m)}},76052:function(j,H,e){var g=e(44248),P=Object.keys(g),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],x=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),M=[],v=function(p){if(x.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();M.indexOf(r)===-1&&M.push(r),M.indexOf(t)===-1&&M.push(t)}};P.forEach(function(p){v(g[p])}),M.sort(),j.exports={DRAW_MODES:a,backButtons:x,foreButtons:M}},90824:function(j,H,e){var g=e(3400),P=e(76308),a=e(31780),x=e(66540);j.exports=function(v,p){var r=v.modebar||{},t=a.newContainer(p,"modebar");function i(u,f){return g.coerce(r,t,x,u,f)}i("orientation"),i("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));i("color",P.addOpacity(n,.3)),i("activecolor",P.addOpacity(n,.7)),i("uirevision",p.uirevision),i("add"),i("remove")}},45460:function(j,H,e){j.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(j,H,e){var g=e(79811),P=e(43028),a=e(24040),x=e(10624).isUnifiedHover,M=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;j.exports=function(h){var S=h._fullLayout,c=h._context,o=S._modeBar;if(!c.displayModeBar&&!c.watermark){o&&(o.destroy(),delete S._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,w;Array.isArray(d)&&d.length?w=l(d):!c.displayModeBar&&c.watermark?w=[]:w=t(h),o?o.update(h,w):S._modeBar=M(h,w)};function t(y){var h=y._fullLayout,S=y._fullData,c=y._context;function o(Q,K){if(typeof K=="string"){if(K.toLowerCase()===Q.toLowerCase())return!0}else{var le=K.name,ie=K._cat||K.name;if(le===Q||ie===Q.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var w=h.modebar.remove;typeof w=="string"&&(w=[w]);var A=c.modeBarButtonsToAdd.concat(d.filter(function(Q){for(var K=0;K<c.modeBarButtonsToRemove.length;K++)if(o(Q,c.modeBarButtonsToRemove[K]))return!1;return!0})),C=c.modeBarButtonsToRemove.concat(w.filter(function(Q){for(var K=0;K<c.modeBarButtonsToAdd.length;K++)if(o(Q,c.modeBarButtonsToAdd[K]))return!1;return!0})),m=h._has("cartesian"),E=h._has("gl3d"),b=h._has("geo"),s=h._has("pie"),L=h._has("funnelarea"),T=h._has("gl2d"),k=h._has("ternary"),_=h._has("mapbox"),B=h._has("polar"),F=h._has("smith"),O=h._has("sankey"),N=i(h),z=x(h.hovermode),V=[];function W(Q){if(Q.length){for(var K=[],le=0;le<Q.length;le++){for(var ie=Q[le],ce=v[ie],ye=ce.name.toLowerCase(),Ce=(ce._cat||ce.name).toLowerCase(),Ae=!1,ke=0;ke<C.length;ke++){var we=C[ke].toLowerCase();if(we===ye||we===Ce){Ae=!0;break}}Ae||K.push(v[ie])}V.push(K)}}var $=["toImage"];c.showEditInChartStudio?$.push("editInChartStudio"):c.showSendToCloud&&$.push("sendDataToCloud"),W($);var re=[],ne=[],ue=[],J=[];(m||T||s||L||k)+b+E+_+B+F>1?(ne=["toggleHover"],ue=["resetViews"]):b?(re=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],ue=["resetGeo"]):E?(ne=["hoverClosest3d"],ue=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(re=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],ue=["resetViewMapbox"]):T?ne=["hoverClosestGl2d"]:s?ne=["hoverClosestPie"]:O?(ne=["hoverClosestCartesian","hoverCompareCartesian"],ue=["resetViewSankey"]):ne=["toggleHover"],m&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(u(S)||z)&&(ne=[]),(m||T)&&!N&&(re=["zoomIn2d","zoomOut2d","autoScale2d"],ue[0]!=="resetViews"&&(ue=["resetScale2d"])),E?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||T)&&!N||k?J=["zoom2d","pan2d"]:_||b?J=["pan2d"]:B&&(J=["zoom2d"]),n(S)&&J.push("select2d","lasso2d");var X=[],oe=function(Q){X.indexOf(Q)===-1&&ne.indexOf(Q)!==-1&&X.push(Q)};if(Array.isArray(A)){for(var Y=[],q=0;q<A.length;q++){var se=A[q];typeof se=="string"?(se=se.toLowerCase(),p.indexOf(se)!==-1?(h._has("mapbox")||h._has("cartesian"))&&J.push(se):se==="togglespikelines"?oe("toggleSpikelines"):se==="togglehover"?oe("toggleHover"):se==="hovercompare"?oe("hoverCompareCartesian"):se==="hoverclosest"?(oe("hoverClosestCartesian"),oe("hoverClosestGeo"),oe("hoverClosest3d"),oe("hoverClosestGl2d"),oe("hoverClosestPie")):se==="v1hovermode"&&(oe("toggleHover"),oe("hoverClosestCartesian"),oe("hoverCompareCartesian"),oe("hoverClosestGeo"),oe("hoverClosest3d"),oe("hoverClosestGl2d"),oe("hoverClosestPie"))):Y.push(se)}A=Y}return W(J),W(re.concat(ue)),W(X),f(V,A)}function i(y){for(var h=g.list({_fullLayout:y},null,!0),S=0;S<h.length;S++)if(!h[S].fixedrange)return!1;return!0}function n(y){for(var h=!1,S=0;S<y.length&&!h;S++){var c=y[S];!c._module||!c._module.selectPoints||(a.traceIs(c,"scatter-like")?(P.hasMarkers(c)||P.hasText(c))&&(h=!0):a.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function u(y){for(var h=0;h<y.length;h++)if(!a.traceIs(y[h],"noHover"))return!1;return!0}function f(y,h){if(h.length)if(Array.isArray(h[0]))for(var S=0;S<h.length;S++)y.push(h[S]);else y.push(h);return y}function l(y){for(var h=r([],y),S=0;S<h.length;S++)for(var c=h[S],o=0;o<c.length;o++){var d=c[o];if(typeof d=="string")if(v[d]!==void 0)h[S][o]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(j,H,e){var g=e(33428),P=e(38248),a=e(3400),x=e(9224),M=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,u){this.graphInfo=n;var f=this.graphInfo._context,l=this.graphInfo._fullLayout,y="modebar-"+l._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var h=l.modebar,S=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(y),a.addRelatedStyleRule(y,S+"#"+y+" .modebar-group","background-color: "+h.bgcolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+h.color),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+h.activecolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(u),o=this.hasLogo!==f.displaylogo,d=this.locale!==f.locale;if(this.locale=f.locale,(c||o||d)&&(this.removeAllButtons(),this.updateButtons(u),f.watermark||f.displaylogo)){var w=this.getLogo();f.watermark&&(w.className=w.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(w,this.element.childNodes[0]):this.element.appendChild(w),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var u=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var l=u.createGroup();f.forEach(function(y){var h=y.name;if(!h)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");u.buttonsNames.push(h);var S=u.createButton(y);u.buttonElements.push(S),l.appendChild(S)}),u.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var u=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&f.setAttribute("data-title",l),n.attr!==void 0&&f.setAttribute("data-attr",n.attr);var y=n.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),f.setAttribute("data-val",y));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(c){n.click(u.graphInfo,c),u.updateActiveButton(c.currentTarget)}),f.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(f).classed("active",!0);var S=n.icon;return typeof S=="function"?f.appendChild(S()):f.appendChild(this.createIcon(S||x.question)),f.setAttribute("data-gravity",n.gravity||"n"),f},r.createIcon=function(n){var u=P(n.height)?Number(n.height):n.ascent-n.descent,f="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(f,"svg"),l.setAttribute("viewBox",[0,0,n.width,u].join(" ")),l.setAttribute("class","icon");var y=document.createElementNS(f,"path");y.setAttribute("d",n.path),n.transform?y.setAttribute("transform",n.transform):n.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(y)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var u=this.graphInfo._fullLayout,f=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var y=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),S=l.getAttribute("data-toggle")==="true",c=g.select(l);if(S)h===f&&c.classed("active",!c.classed("active"));else{var o=h===null?h:a.nestedProperty(u,h).get();c.classed("active",o===y)}})},r.hasButtons=function(n){var u=this.buttons;if(!u||n.length!==u.length)return!1;for(var f=0;f<n.length;++f){if(n[f].length!==u[f].length)return!1;for(var l=0;l<n[f].length;l++)if(n[f][l].name!==u[f][l].name)return!1}return!0};function t(n){return n+" (v"+M+")"}r.getLogo=function(){var n=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",t(a._(this.graphInfo,"Produced with Plotly.js"))),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(x.newplotlylogo)),n.appendChild(u),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function i(n,u){var f=n._fullLayout,l=new p({graphInfo:n,container:f._modebardiv.node(),buttons:u});return f._privateplot&&g.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}j.exports=i},26680:function(j,H,e){var g=e(25376),P=e(22548),a=e(31780).templatedArray,x=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});j.exports={visible:{valType:"boolean",editType:"plot"},buttons:x,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(j){j.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(j,H,e){var g=e(3400),P=e(76308),a=e(31780),x=e(51272),M=e(26680),v=e(85984);j.exports=function(i,n,u,f,l){var y=i.rangeselector||{},h=a.newContainer(n,"rangeselector");function S(A,C){return g.coerce(y,h,M,A,C)}var c=x(y,h,{name:"buttons",handleItemDefaults:p,calendar:l}),o=S("visible",c.length>0);if(o){var d=r(n,u,f);S("x",d[0]),S("y",d[1]),g.noneOrAll(i,n,["x","y"]),S("xanchor"),S("yanchor"),g.coerceFont(S,"font",u.font);var w=S("bgcolor");S("activecolor",P.contrast(w,v.lightAmount,v.darkAmount)),S("bordercolor"),S("borderwidth")}};function p(t,i,n,u){var f=u.calendar;function l(S,c){return g.coerce(t,i,M.buttons,S,c)}var y=l("visible");if(y){var h=l("step");h!=="all"&&(f&&f!=="gregorian"&&(h==="month"||h==="year")?i.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,i,n){for(var u=n.filter(function(h){return i[h].anchor===t._id}),f=0,l=0;l<u.length;l++){var y=i[u[l]].domain;y&&(f=Math.max(y[1],f))}return[t.domain[0],f+v.yPad]}},50216:function(j,H,e){var g=e(33428),P=e(24040),a=e(7316),x=e(76308),M=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),i=e(84284),n=i.LINE_SPACING,u=i.FROM_TL,f=i.FROM_BR,l=e(85984),y=e(48040);j.exports=function(E){var b=E._fullLayout,s=b._infolayer.selectAll(".rangeselector").data(h(E),S);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(L){var T=g.select(this),k=L,_=k.rangeselector,B=T.selectAll("g.button").data(v.filterVisible(_.buttons));B.enter().append("g").classed("button",!0),B.exit().remove(),B.each(function(F){var O=g.select(this),N=y(k,F);F._isActive=c(k,F,N),O.call(o,_,F),O.call(w,_,F,E),O.on("click",function(){E._dragged||P.call("_guiRelayout",E,N)}),O.on("mouseover",function(){F._isHovered=!0,O.call(o,_,F)}),O.on("mouseout",function(){F._isHovered=!1,O.call(o,_,F)})}),C(E,B,_,k._name,T)})};function h(m){for(var E=t.list(m,"x",!0),b=[],s=0;s<E.length;s++){var L=E[s];L.rangeselector&&L.rangeselector.visible&&b.push(L)}return b}function S(m){return m._id}function c(m,E,b){if(E.step==="all")return m.autorange===!0;var s=Object.keys(b);return m.range[0]===b[s[0]]&&m.range[1]===b[s[1]]}function o(m,E,b){var s=v.ensureSingle(m,"rect","selector-rect",function(L){L.attr("shape-rendering","crispEdges")});s.attr({rx:l.rx,ry:l.ry}),s.call(x.stroke,E.bordercolor).call(x.fill,d(E,b)).style("stroke-width",E.borderwidth+"px")}function d(m,E){return E._isActive||E._isHovered?m.activecolor:m.bgcolor}function w(m,E,b,s){function L(k){r.convertToTspans(k,s)}var T=v.ensureSingle(m,"text","selector-text",function(k){k.attr("text-anchor","middle")});T.call(M.font,E.font).text(A(b,s._fullLayout._meta)).call(L)}function A(m,E){return m.label?E?v.templateString(m.label,E):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function C(m,E,b,s,L){var T=0,k=0,_=b.borderwidth;E.each(function(){var V=g.select(this),W=V.select(".selector-text"),$=b.font.size*n,re=Math.max($*r.lineCount(W),16)+3;k=Math.max(k,re)}),E.each(function(){var V=g.select(this),W=V.select(".selector-rect"),$=V.select(".selector-text"),re=$.node()&&M.bBox($.node()).width,ne=b.font.size*n,ue=r.lineCount($),J=Math.max(re+10,l.minButtonWidth);V.attr("transform",p(_+T,_)),W.attr({x:0,y:0,width:J,height:k}),r.positionText($,J/2,k/2-(ue-1)*ne/2+3),T+=J+5});var B=m._fullLayout._size,F=B.l+B.w*b.x,O=B.t+B.h*(1-b.y),N="left";v.isRightAnchor(b)&&(F-=T,N="right"),v.isCenterAnchor(b)&&(F-=T/2,N="center");var z="top";v.isBottomAnchor(b)&&(O-=k,z="bottom"),v.isMiddleAnchor(b)&&(O-=k/2,z="middle"),T=Math.ceil(T),k=Math.ceil(k),F=Math.round(F),O=Math.round(O),a.autoMargin(m,s+"-range-selector",{x:b.x,y:b.y,l:T*u[N],r:T*f[N],b:k*f[z],t:k*u[z]}),L.attr("transform",p(F,O))}},48040:function(j,H,e){var g=e(73220),P=e(3400).titleCase;j.exports=function(M,v){var p=M._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=a(M,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function a(x,M){var v=x.range,p=new Date(x.r2l(v[1])),r=M.step,t=g["utc"+P(r)],i=M.count,n;switch(M.stepmode){case"backward":n=x.l2r(+t.offset(p,-i));break;case"todate":var u=t.offset(p,-i);n=x.l2r(+t.ceil(u));break}var f=v[1];return[n,f]}},41152:function(j,H,e){j.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(j,H,e){var g=e(22548);j.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(j,H,e){var g=e(79811).list,P=e(19280).getAutoRange,a=e(74636);j.exports=function(M){for(var v=g(M,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(M,r))}}},74636:function(j){j.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(j,H,e){var g=e(3400),P=e(31780),a=e(79811),x=e(11200),M=e(10936);j.exports=function(p,r,t){var i=p[t],n=r[t];if(!(i.rangeslider||r._requestRangeslider[n._id]))return;g.isPlainObject(i.rangeslider)||(i.rangeslider={});var u=i.rangeslider,f=P.newContainer(n,"rangeslider");function l(s,L){return g.coerce(u,f,x,s,L)}var y,h;function S(s,L){return g.coerce(y,h,M,s,L)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(u.range)),l("range");var o=r._subplots;if(o)for(var d=o.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===a.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),w=g.simpleMap(d,a.id2name),A=0;A<w.length;A++){var C=w[A];y=u[C]||{},h=P.newContainer(f,C,"yaxis");var m=r[C],E;y.range&&m.isValidRange(y.range)&&(E="fixed");var b=S("rangemode",E);b!=="match"&&S("range",m.range.slice())}f._input=u}}},20060:function(j,H,e){var g=e(33428),P=e(24040),a=e(7316),x=e(3400),M=x.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),i=e(79811),n=e(86476),u=e(93972),f=e(74636);j.exports=function(E){for(var b=E._fullLayout,s=b._rangeSliderData,L=0;L<s.length;L++){var T=s[L][f.name];T._clipId=T._id+"-"+b._uid}function k(B){return B._name}var _=b._infolayer.selectAll("g."+f.containerClassName).data(s,k);_.exit().each(function(B){var F=B[f.name];b._topdefs.select("#"+F._clipId).remove()}).remove(),s.length!==0&&(_.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),_.each(function(B){var F=g.select(this),O=B[f.name],N=b[i.id2name(B.anchor)],z=O[i.id2name(B.anchor)];if(O.range){var V=x.simpleMap(O.range,B.r2l),W=x.simpleMap(B.range,B.r2l),$;W[0]<W[1]?$=[Math.min(V[0],W[0]),Math.max(V[1],W[1])]:$=[Math.max(V[0],W[0]),Math.min(V[1],W[1])],O.range=O._input.range=x.simpleMap($,B.l2r)}B.cleanRange("rangeslider.range");var re=b._size,ne=B.domain;O._width=re.w*(ne[1]-ne[0]);var ue=Math.round(re.l+re.w*ne[0]),J=Math.round(re.t+re.h*(1-B._counterDomainMin)+(B.side==="bottom"?B._depth:0)+O._offsetShift+f.extraPad);F.attr("transform",M(ue,J)),O._rl=x.simpleMap(O.range,B.r2l);var X=O._rl[0],oe=O._rl[1],Y=oe-X;if(O.p2d=function(Ae){return Ae/O._width*Y+X},O.d2p=function(Ae){return(Ae-X)/Y*O._width},B.rangebreaks){var q=B.locateBreaks(X,oe);if(q.length){var se,Q,K=0;for(se=0;se<q.length;se++)Q=q[se],K+=Q.max-Q.min;var le=O._width/(oe-X-K),ie=[-le*X];for(se=0;se<q.length;se++)Q=q[se],ie.push(ie[ie.length-1]-le*(Q.max-Q.min));for(O.d2p=function(Ae){for(var ke=ie[0],we=0;we<q.length;we++){var Ee=q[we];if(Ae>=Ee.max)ke=ie[we+1];else if(Ae<Ee.min)break}return ke+le*Ae},se=0;se<q.length;se++)Q=q[se],Q.pmin=O.d2p(Q.min),Q.pmax=O.d2p(Q.max);O.p2d=function(Ae){for(var ke=ie[0],we=0;we<q.length;we++){var Ee=q[we];if(Ae>=Ee.pmax)ke=ie[we+1];else if(Ae<Ee.pmin)break}return(Ae-ke)/le}}}if(z.rangemode!=="match"){var ce=N.r2l(z.range[0]),ye=N.r2l(z.range[1]),Ce=ye-ce;O.d2pOppAxis=function(Ae){return(Ae-ce)/Ce*O._height}}F.call(c,E,B,O).call(o,E,B,O).call(d,E,B,O).call(A,E,B,O,z).call(C,E,B,O).call(m,E,B,O),y(F,E,B,O),S(F,E,B,O,N,z),B.side==="bottom"&&r.draw(E,B._id+"title",{propContainer:B,propName:B._name+".title",placeholder:b._dfltTitle.x,attributes:{x:B._offset+B._length/2,y:J+O._height+O._offsetShift+10+1.5*B.title.font.size,"text-anchor":"middle"}})}))};function l(E){return typeof E.clientX=="number"?E.clientX:E.touches&&E.touches.length>0?E.touches[0].clientX:0}function y(E,b,s,L){if(b._context.staticPlot)return;var T=E.select("rect."+f.slideBoxClassName).node(),k=E.select("rect."+f.grabAreaMinClassName).node(),_=E.select("rect."+f.grabAreaMaxClassName).node();function B(){var F=g.event,O=F.target,N=l(F),z=N-E.node().getBoundingClientRect().left,V=L.d2p(s._rl[0]),W=L.d2p(s._rl[1]),$=n.coverSlip();this.addEventListener("touchmove",re),this.addEventListener("touchend",ne),$.addEventListener("mousemove",re),$.addEventListener("mouseup",ne);function re(ue){var J=l(ue),X=+J-N,oe,Y,q;switch(O){case T:if(q="ew-resize",V+X>s._length||W+X<0)return;oe=V+X,Y=W+X;break;case k:if(q="col-resize",V+X>s._length)return;oe=V+X,Y=W;break;case _:if(q="col-resize",W+X<0)return;oe=V,Y=W+X;break;default:q="ew-resize",oe=z,Y=z+X;break}if(Y<oe){var se=Y;Y=oe,oe=se}L._pixelMin=oe,L._pixelMax=Y,u(g.select($),q),h(E,b,s,L)}function ne(){$.removeEventListener("mousemove",re),$.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",re),this.removeEventListener("touchend",ne),x.removeElement($)}}E.on("mousedown",B),E.on("touchstart",B)}function h(E,b,s,L){function T(B){return s.l2r(x.constrain(B,L._rl[0],L._rl[1]))}var k=T(L.p2d(L._pixelMin)),_=T(L.p2d(L._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",b,s._name+".range",[k,_])})}function S(E,b,s,L,T,k){var _=f.handleWidth/2;function B(ue){return x.constrain(ue,0,L._width)}function F(ue){return x.constrain(ue,0,L._height)}function O(ue){return x.constrain(ue,-_,L._width+_)}var N=B(L.d2p(s._rl[0])),z=B(L.d2p(s._rl[1]));if(E.select("rect."+f.slideBoxClassName).attr("x",N).attr("width",z-N),E.select("rect."+f.maskMinClassName).attr("width",N),E.select("rect."+f.maskMaxClassName).attr("x",z).attr("width",L._width-z),k.rangemode!=="match"){var V=L._height-F(L.d2pOppAxis(T._rl[1])),W=L._height-F(L.d2pOppAxis(T._rl[0]));E.select("rect."+f.maskMinOppAxisClassName).attr("x",N).attr("height",V).attr("width",z-N),E.select("rect."+f.maskMaxOppAxisClassName).attr("x",N).attr("y",W).attr("height",L._height-W).attr("width",z-N),E.select("rect."+f.slideBoxClassName).attr("y",V).attr("height",W-V)}var $=.5,re=Math.round(O(N-_))-$,ne=Math.round(O(z-_))+$;E.select("g."+f.grabberMinClassName).attr("transform",M(re,$)),E.select("g."+f.grabberMaxClassName).attr("transform",M(ne,$))}function c(E,b,s,L){var T=x.ensureSingle(E,"rect",f.bgClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),k=L.borderwidth%2===0?L.borderwidth:L.borderwidth-1,_=-L._offsetShift,B=v.crispRound(b,L.borderwidth);T.attr({width:L._width+k,height:L._height+k,transform:M(_,_),"stroke-width":B}).call(p.stroke,L.bordercolor).call(p.fill,L.bgcolor)}function o(E,b,s,L){var T=b._fullLayout,k=x.ensureSingleById(T._topdefs,"clipPath",L._clipId,function(_){_.append("rect").attr({x:0,y:0})});k.select("rect").attr({width:L._width,height:L._height})}function d(E,b,s,L){var T=b.calcdata,k=E.selectAll("g."+f.rangePlotClassName).data(s._subplotsWith,x.identity);k.enter().append("g").attr("class",function(B){return f.rangePlotClassName+" "+B}).call(v.setClipUrl,L._clipId,b),k.order(),k.exit().remove();var _;k.each(function(B,F){var O=g.select(this),N=F===0,z=i.getFromId(b,B,"y"),V=z._name,W=L[V],$={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:L.range.slice(),calendar:s.calendar},width:L._width,height:L._height,margin:{t:0,b:0,l:0,r:0}},_context:b._context};s.rangebreaks&&($.layout.xaxis.rangebreaks=s.rangebreaks),$.layout[V]={type:z.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&($.layout[V].rangebreaks=z.rangebreaks),a.supplyDefaults($);var re=$._fullLayout.xaxis,ne=$._fullLayout[V];re.clearCalc(),re.setScale(),ne.clearCalc(),ne.setScale();var ue={id:B,plotgroup:O,xaxis:re,yaxis:ne,isRangePlot:!0};N?_=ue:(ue.mainplot="xy",ue.mainplotinfo=_),t.rangePlot(b,ue,w(T,B))})}function w(E,b){for(var s=[],L=0;L<E.length;L++){var T=E[L],k=T[0].trace;k.xaxis+k.yaxis===b&&s.push(T)}return s}function A(E,b,s,L,T){var k=x.ensureSingle(E,"rect",f.maskMinClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})});k.attr("height",L._height).call(p.fill,f.maskColor);var _=x.ensureSingle(E,"rect",f.maskMaxClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});if(_.attr("height",L._height).call(p.fill,f.maskColor),T.rangemode!=="match"){var B=x.ensureSingle(E,"rect",f.maskMinOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});B.attr("width",L._width).call(p.fill,f.maskOppAxisColor);var F=x.ensureSingle(E,"rect",f.maskMaxOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",L._width).style("border-top",f.maskOppBorder).call(p.fill,f.maskOppAxisColor)}}function C(E,b,s,L){if(!b._context.staticPlot){var T=x.ensureSingle(E,"rect",f.slideBoxClassName,function(k){k.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});T.attr({height:L._height,fill:f.slideBoxFill})}}function m(E,b,s,L){var T=x.ensureSingle(E,"g",f.grabberMinClassName),k=x.ensureSingle(E,"g",f.grabberMaxClassName),_={x:0,width:f.handleWidth,rx:f.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},B={y:Math.round(L._height/4),height:Math.round(L._height/2)},F=x.ensureSingle(T,"rect",f.handleMinClassName,function(W){W.attr(_)});F.attr(B);var O=x.ensureSingle(k,"rect",f.handleMaxClassName,function(W){W.attr(_)});O.attr(B);var N={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:b._context.staticPlot?void 0:f.grabAreaCursor},z=x.ensureSingle(T,"rect",f.grabAreaMinClassName,function(W){W.attr(N)});z.attr("height",L._height);var V=x.ensureSingle(k,"rect",f.grabAreaMaxClassName,function(W){W.attr(N)});V.attr("height",L._height)}},97944:function(j,H,e){var g=e(79811),P=e(72736),a=e(74636),x=e(84284).LINE_SPACING,M=a.name;function v(p){var r=p&&p[M];return r&&r.visible}H.isVisible=v,H.makeData=function(p){var r=g.list({_fullLayout:p},"x",!0),t=p.margin,i=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var u=r[n];if(v(u)){i.push(u);var f=u[M];f._id=M+u._id,f._height=(p.height-t.b-t.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}p._rangeSliderData=i},H.autoMarginOpts=function(p,r){var t=p._fullLayout,i=r[M],n=r._id.charAt(0),u=0,f=0;if(r.side==="bottom"&&(u=r._depth,r.title.text!==t._dfltTitle[n])){f=1.5*r.title.font.size+10+i._offsetShift;var l=(r.title.text.match(P.BR_TAG_ALL)||[]).length;f+=l*r.title.font.size*x}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:i._height+u+Math.max(t.margin.b,f),pad:a.extraPad+i._offsetShift*2}}},49692:function(j,H,e){var g=e(3400),P=e(11200),a=e(10936),x=e(97944);j.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},P,{yaxis:a})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:x.isVisible,makeData:x.makeData,autoMarginOpts:x.autoMarginOpts}},10936:function(j){j.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(j,H,e){var g=e(13916),P=e(52904).line,a=e(98192).u,x=e(92880).extendFlat,M=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),j.exports=M(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:x({},g.xref,{}),yref:x({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:x({},P.width,{min:1,dflt:1}),dash:x({},a,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(j){j.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(j,H,e){var g=e(3400),P=e(54460),a=e(51272),x=e(93956),M=e(65152);j.exports=function(r,t){a(r,t,{name:"selections",handleItemDefaults:v});for(var i=t.selections,n=0;n<i.length;n++){var u=i[n];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function i(T,k){return g.coerce(p,r,x,T,k)}var n=i("path"),u=n?"path":"rect",f=i("type",u),l=f!=="path";l&&delete r.path,i("opacity"),i("line.color"),i("line.width"),i("line.dash");for(var y=["x","y"],h=0;h<2;h++){var S=y[h],c={_fullLayout:t},o,d,w,A=P.coerceRef(p,r,c,S);if(o=P.getFromId(c,A),o._selectionIndices.push(r._index),w=M.rangeToShapePosition(o),d=M.shapePositionToRange(o),l){var C=S+"0",m=S+"1",E=p[C],b=p[m];p[C]=d(p[C],!0),p[m]=d(p[m],!0),P.coercePosition(r,c,i,A,C),P.coercePosition(r,c,i,A,m);var s=r[C],L=r[m];s!==void 0&&L!==void 0&&(r[C]=w(s),r[m]=w(L),p[C]=E,p[m]=b)}}l&&g.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(j,H,e){var g=e(9856).readPaths,P=e(55496),a=e(1936).clearOutlineControllers,x=e(76308),M=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;j.exports={draw:t,drawOne:n,activateLastSelection:l};function t(h){var S=h._fullLayout;a(h),S._selectionLayer.selectAll("path").remove();for(var c in S._plots){var o=S._plots[c].selectionLayer;o&&o.selectAll("path").remove()}for(var d=0;d<S.selections.length;d++)n(h,d)}function i(h){return h._context.editSelection}function n(h,S){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+S+'"]').remove();var c=p.makeSelectionsOptionsAndPlotinfo(h,S),o=c.options,d=c.plotinfo;if(!o._input)return;w(h._fullLayout._selectionLayer);function w(A){var C=r(h,o),m={"data-index":S,"fill-rule":"evenodd",d:C},E=o.opacity,b="rgba(0,0,0,0)",s=o.line.color||x.contrast(h._fullLayout.plot_bgcolor),L=o.line.width,T=o.line.dash;L||(L=5,T="solid");var k=i(h)&&h._fullLayout._activeSelectionIndex===S;k&&(b=h._fullLayout.activeselection.fillcolor,E=h._fullLayout.activeselection.opacity);for(var _=[],B=1;B>=0;B--){var F=A.append("path").attr(m).style("opacity",B?.1:E).call(x.stroke,s).call(x.fill,b).call(M.dashLine,B?"solid":T,B?4+L:L);if(u(F,h,o),k){var O=v(h.layout,"selections",o);F.style({cursor:"move"});var N={element:F.node(),plotinfo:d,gd:h,editHelpers:O,isActiveSelection:!0},z=g(C,h);P(z,F,N)}else F.style("pointer-events",B?"all":"none");_[B]=F}var V=_[0],W=_[1];W.node().addEventListener("click",function(){return f(h,V)})}}function u(h,S,c){var o=c.xref+c.yref;M.setClipUrl(h,"clip"+S._fullLayout._uid+o,S)}function f(h,S){if(i(h)){var c=S.node(),o=+c.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){y(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=y,t(h)}}}function l(h){if(i(h)){var S=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=S,h._fullLayout._deactivateSelection=y,t(h)}}function y(h){if(i(h)){var S=h._fullLayout._activeSelectionIndex;S>=0&&(a(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(j,H,e){var g=e(98192).u,P=e(92880).extendFlat;j.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(j){j.exports=function(e,g,P){P("newselection.mode");var a=P("newselection.line.width");a&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(j,H,e){var g=e(72760),P=g.selectMode,a=e(1936),x=a.clearOutline,M=e(9856),v=M.readPaths,p=M.writePaths,r=M.fixDatesForPaths;j.exports=function(i,n){if(i.length){var u=i[0][0];if(u){var f=u.getAttribute("d"),l=n.gd,y=l._fullLayout.newselection,h=n.plotinfo,S=h.xaxis,c=h.yaxis,o=n.isActiveSelection,d=n.dragmode,w=(l.layout||{}).selections||[];if(!P(d)&&o!==void 0){var A=l._fullLayout._activeSelectionIndex;if(A<w.length)switch(l._fullLayout.selections[A].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(f,l,h,o),m={xref:S._id,yref:c._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},E;C.length===1&&(E=C[0]),E&&E.length===5&&d==="select"?(m.type="rect",m.x0=E[0][1],m.y0=E[0][2],m.x1=E[2][1],m.y1=E[2][2]):(m.type="path",S&&c&&r(C,S,c),m.path=p(C),E=null),x(l);for(var b=n.editHelpers,s=(b||{}).modifyItem,L=[],T=0;T<w.length;T++){var k=l._fullLayout.selections[T];if(!k){L[T]=k;continue}if(L[T]=k._input,o!==void 0&&T===l._fullLayout._activeSelectionIndex){var _=m;switch(k.type){case"rect":s("x0",_.x0),s("x1",_.x1),s("y0",_.y0),s("y1",_.y1);break;case"path":s("path",_.path);break}}}return o===void 0?(L.push(m),L):b?b.getUpdateObj():{}}}}},5840:function(j,H,e){var g=e(3400).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function a(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function x(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function M(v){return g(v.xaxis._offset,v.yaxis._offset)}j.exports={p2r:P,r2p:a,axValue:x,getTransform:M}},22676:function(j,H,e){var g=e(23640),P=e(43156);j.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(j,H,e){var g=e(14756),P=e(61456),a=e(24040),x=e(43616).dashStyle,M=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,i=r.rectMode,n=r.drawMode,u=r.openMode,f=r.selectMode,l=e(65152),y=e(85448),h=e(55496),S=e(1936).clearOutline,c=e(9856),o=c.handleEllipse,d=c.readPaths,w=e(93940).newShapes,A=e(5968),C=e(23640).activateLastSelection,m=e(3400),E=m.sorterAsc,b=e(92065),s=e(91200),L=e(79811).getFromId,T=e(73696),k=e(39172).redrawReglTraces,_=e(83280),B=_.MINSELECT,F=b.filter,O=b.tester,N=e(5840),z=N.p2r,V=N.axValue,W=N.getTransform;function $(He){return He.subplot!==void 0}function re(He,Ie,be,me,Me){var Te=!$(me),Oe=t(Me),Ke=i(Me),nt=u(Me),pt=n(Me),yt=f(Me),Yt=Me==="drawline",Xt=Me==="drawcircle",St=Yt||Xt,kt=me.gd,Kt=kt._fullLayout,mr=yt&&Kt.newselection.mode==="immediate"&&Te,mt=Kt._zoomlayer,Zt=me.element.getBoundingClientRect(),Qt=me.plotinfo,yr=W(Qt),sr=Ie-Zt.left,bt=be-Zt.top;Kt._calcInverseTransform(kt);var lt=m.apply3DTransform(Kt._invTransform)(sr,bt);sr=lt[0],bt=lt[1];var Tt=Kt._invScaleX,Ct=Kt._invScaleY,It=sr,Dt=bt,Vt="M"+sr+","+bt,Bt=me.xaxes[0],$t=me.yaxes[0],fr=Bt._length,cr=$t._length,dr=He.altKey&&!(n(Me)&&nt),Ye,je,zt,Ft,Jt,tr,ur;Y(He,kt,me),Oe&&(Ye=F([[sr,bt]],_.BENDPX));var nr=mt.selectAll("path.select-outline-"+Qt.id).data([1]),Nt=pt?Kt.newshape:Kt.newselection;pt&&(me.hasText=Nt.label.text||Nt.label.texttemplate);var hr=pt&&!nt?Nt.fillcolor:"rgba(0,0,0,0)",gr=Nt.line.color||(Te?M.contrast(kt._fullLayout.plot_bgcolor):"#7f7f7f");nr.enter().append("path").attr("class","select-outline select-outline-"+Qt.id).style({opacity:pt?Nt.opacity/2:1,"stroke-dasharray":x(Nt.line.dash,Nt.line.width),"stroke-width":Nt.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,gr).call(M.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!pt).attr("transform",yr).attr("d",Vt+"Z");var br=mt.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",yr).attr("d","M0,0Z");if(pt&&me.hasText){var vr=mt.select(".label-temp");vr.empty()&&(vr=mt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Gr=Kt._uid+_.SELECTID,Dr=[],_r=le(kt,me.xaxes,me.yaxes,me.subplot);mr&&!He.shiftKey&&(me._clearSubplotSelections=function(){if(Te){var nn=Bt._id,Pn=$t._id;dt(kt,nn,Pn,_r);for(var Cn=(kt.layout||{}).selections||[],Ar=[],Pr=!1,Wr=0;Wr<Cn.length;Wr++){var Vr=Kt.selections[Wr];Vr.xref!==nn||Vr.yref!==Pn?Ar.push(Cn[Wr]):Pr=!0}Pr&&(kt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",kt,{selections:Ar}))}});var hn=et(me);me.moveFn=function(nn,Pn){me._clearSubplotSelections&&(me._clearSubplotSelections(),me._clearSubplotSelections=void 0),It=Math.max(0,Math.min(fr,Tt*nn+sr)),Dt=Math.max(0,Math.min(cr,Ct*Pn+bt));var Cn=Math.abs(It-sr),Ar=Math.abs(Dt-bt);if(Ke){var Pr,Wr,Vr;if(yt){var on=Kt.selectdirection;switch(on==="any"?Ar<Math.min(Cn*.6,B)?Pr="h":Cn<Math.min(Ar*.6,B)?Pr="v":Pr="d":Pr=on,Pr){case"h":Wr=Xt?cr/2:0,Vr=cr;break;case"v":Wr=Xt?fr/2:0,Vr=fr;break}}if(pt)switch(Kt.newshape.drawdirection){case"vertical":Pr="h",Wr=Xt?cr/2:0,Vr=cr;break;case"horizontal":Pr="v",Wr=Xt?fr/2:0,Vr=fr;break;case"ortho":Cn<Ar?(Pr="h",Wr=bt,Vr=Dt):(Pr="v",Wr=sr,Vr=It);break;default:Pr="d"}Pr==="h"?(Ft=St?o(Xt,[It,Wr],[It,Vr]):[[sr,Wr],[sr,Vr],[It,Vr],[It,Wr]],Ft.xmin=St?It:Math.min(sr,It),Ft.xmax=St?It:Math.max(sr,It),Ft.ymin=Math.min(Wr,Vr),Ft.ymax=Math.max(Wr,Vr),br.attr("d","M"+Ft.xmin+","+(bt-B)+"h-4v"+2*B+"h4ZM"+(Ft.xmax-1)+","+(bt-B)+"h4v"+2*B+"h-4Z")):Pr==="v"?(Ft=St?o(Xt,[Wr,Dt],[Vr,Dt]):[[Wr,bt],[Wr,Dt],[Vr,Dt],[Vr,bt]],Ft.xmin=Math.min(Wr,Vr),Ft.xmax=Math.max(Wr,Vr),Ft.ymin=St?Dt:Math.min(bt,Dt),Ft.ymax=St?Dt:Math.max(bt,Dt),br.attr("d","M"+(sr-B)+","+Ft.ymin+"v-4h"+2*B+"v4ZM"+(sr-B)+","+(Ft.ymax-1)+"v4h"+2*B+"v-4Z")):Pr==="d"&&(Ft=St?o(Xt,[sr,bt],[It,Dt]):[[sr,bt],[sr,Dt],[It,Dt],[It,bt]],Ft.xmin=Math.min(sr,It),Ft.xmax=Math.max(sr,It),Ft.ymin=Math.min(bt,Dt),Ft.ymax=Math.max(bt,Dt),br.attr("d","M0,0Z"))}else Oe&&(Ye.addPt([It,Dt]),Ft=Ye.filtered);if(me.selectionDefs&&me.selectionDefs.length?(zt=xe(me.mergedPolygons,Ft,dr),Ft.subtract=dr,je=oe(me.selectionDefs.concat([Ft]))):(zt=[Ft],je=O(Ft)),h(Ue(zt,nt),nr,me),yt){var yn=Ne(kt,!1),mn=yn.eventData?yn.eventData.points.slice():[];yn=Ne(kt,!1,je,_r,me),je=yn.selectionTesters,ur=yn.eventData;var Ln;Ye?Ln=Ye.filtered:Ln=ht(zt),s.throttle(Gr,_.SELECTDELAY,function(){Dr=Be(je,_r);for(var zn=Dr.slice(),aa=0;aa<mn.length;aa++){for(var ha=mn[aa],pa=!1,ua=0;ua<zn.length;ua++)if(zn[ua].curveNumber===ha.curveNumber&&zn[ua].pointNumber===ha.pointNumber){pa=!0;break}pa||zn.push(ha)}zn.length&&(ur||(ur={}),ur.points=zn),hn(ur,Ln),_e(kt,ur)})}},me.clickFn=function(nn,Pn){if(br.remove(),kt._fullLayout._activeShapeIndex>=0){kt._fullLayout._deactivateShape(kt);return}if(!pt){var Cn=Kt.clickmode;s.done(Gr).then(function(){if(s.clear(Gr),nn===2){for(nr.remove(),Jt=0;Jt<_r.length;Jt++)tr=_r[Jt],tr._module.selectPoints(tr,!1);if(we(kt,_r),Q(me),Ze(kt),_r.length){var Ar=_r[0].xaxis,Pr=_r[0].yaxis;if(Ar&&Pr){for(var Wr=[],Vr=kt._fullLayout.selections,on=0;on<Vr.length;on++){var yn=Vr[on];yn&&(yn.xref!==Ar._id||yn.yref!==Pr._id)&&Wr.push(yn)}Wr.length<Vr.length&&(kt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",kt,{selections:Wr}))}}}else Cn.indexOf("select")>-1&&ne(Pn,kt,me.xaxes,me.yaxes,me.subplot,me,nr),Cn==="event"&&Ve(kt,void 0);v.click(kt,Pn,Qt.id)}).catch(m.error)}},me.doneFn=function(){br.remove(),s.done(Gr).then(function(){s.clear(Gr),!mr&&Ft&&me.selectionDefs&&(Ft.subtract=dr,me.selectionDefs.push(Ft),me.mergedPolygons.length=0,[].push.apply(me.mergedPolygons,zt)),(mr||pt)&&Q(me,mr),me.doneFnCompleted&&me.doneFnCompleted(Dr),yt&&Ve(kt,ur)}).catch(m.error)}}function ne(He,Ie,be,me,Me,Te,Oe){var Ke=Ie._hoverdata,nt=Ie._fullLayout,pt=nt.clickmode,yt=pt.indexOf("event")>-1,Yt=[],Xt,St,kt,Kt,mr,mt,Zt,Qt,yr,sr;if(ce(Ke)){Y(He,Ie,Te),Xt=le(Ie,be,me,Me);var bt=ye(Ke,Xt),lt=bt.pointNumbers.length>0;if(lt?Ae(Xt,bt):ke(Xt)&&(Zt=Ce(bt))){for(Oe&&Oe.remove(),sr=0;sr<Xt.length;sr++)St=Xt[sr],St._module.selectPoints(St,!1);we(Ie,Xt),Q(Te),yt&&Ze(Ie)}else{Qt=He.shiftKey&&(Zt!==void 0?Zt:Ce(bt)),kt=ue(bt.pointNumber,bt.searchInfo,Qt);var Tt=Te.selectionDefs.concat([kt]);for(Kt=oe(Tt),sr=0;sr<Xt.length;sr++)if(mr=Xt[sr]._module.selectPoints(Xt[sr],Kt),mt=Pe(mr,Xt[sr]),Yt.length)for(var Ct=0;Ct<mt.length;Ct++)Yt.push(mt[Ct]);else Yt=mt;if(yr={points:Yt},we(Ie,Xt,yr),kt&&Te&&Te.selectionDefs.push(kt),Oe){var It=Te.mergedPolygons,Dt=u(Te.dragmode);h(Ue(It,Dt),Oe,Te)}yt&&Ve(Ie,yr)}}}function ue(He,Ie,be){return{pointNumber:He,searchInfo:Ie,subtract:!!be}}function J(He){return"pointNumber"in He&&"searchInfo"in He}function X(He){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ie,be,me,Me){var Te=He.searchInfo.cd[0].trace._expandedIndex,Oe=Me.cd[0].trace._expandedIndex;return Oe===Te&&me===He.pointNumber},isRect:!1,degenerate:!1,subtract:!!He.subtract}}function oe(He){if(!He.length)return;for(var Ie=[],be=J(He[0])?0:He[0][0][0],me=be,Me=J(He[0])?0:He[0][0][1],Te=Me,Oe=0;Oe<He.length;Oe++)if(J(He[Oe]))Ie.push(X(He[Oe]));else{var Ke=O(He[Oe]);Ke.subtract=!!He[Oe].subtract,Ie.push(Ke),be=Math.min(be,Ke.xmin),me=Math.max(me,Ke.xmax),Me=Math.min(Me,Ke.ymin),Te=Math.max(Te,Ke.ymax)}function nt(pt,yt,Yt,Xt){for(var St=!1,kt=0;kt<Ie.length;kt++)Ie[kt].contains(pt,yt,Yt,Xt)&&(St=!Ie[kt].subtract);return St}return{xmin:be,xmax:me,ymin:Me,ymax:Te,pts:[],contains:nt,isRect:!1,degenerate:!1}}function Y(He,Ie,be){var me=Ie._fullLayout,Me=be.plotinfo,Te=be.dragmode,Oe=me._lastSelectedSubplot&&me._lastSelectedSubplot===Me.id,Ke=(He.shiftKey||He.altKey)&&!(n(Te)&&u(Te));Oe&&Ke&&Me.selection&&Me.selection.selectionDefs&&!be.selectionDefs?(be.selectionDefs=Me.selection.selectionDefs,be.mergedPolygons=Me.selection.mergedPolygons):(!Ke||!Me.selection)&&Q(be),Oe||(S(Ie),me._lastSelectedSubplot=Me.id)}function q(He){return He._fullLayout._activeShapeIndex>=0}function se(He){return He._fullLayout._activeSelectionIndex>=0}function Q(He,Ie){var be=He.dragmode,me=He.plotinfo,Me=He.gd;q(Me)&&Me._fullLayout._deactivateShape(Me),se(Me)&&Me._fullLayout._deactivateSelection(Me);var Te=Me._fullLayout,Oe=Te._zoomlayer,Ke=n(be),nt=f(be);if(Ke||nt){var pt=Oe.selectAll(".select-outline-"+me.id);if(pt&&Me._fullLayout._outlining){var yt;Ke&&(yt=w(pt,He)),yt&&a.call("_guiRelayout",Me,{shapes:yt});var Yt;nt&&!$(He)&&(Yt=A(pt,He)),Yt&&(Me._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Me,{selections:Yt}).then(function(){Ie&&C(Me)})),Me._fullLayout._outlining=!1}}me.selection={},me.selection.selectionDefs=He.selectionDefs=[],me.selection.mergedPolygons=He.mergedPolygons=[]}function K(He){return He._id}function le(He,Ie,be,me){if(!He.calcdata)return[];var Me=[],Te=Ie.map(K),Oe=be.map(K),Ke,nt,pt;for(pt=0;pt<He.calcdata.length;pt++)if(Ke=He.calcdata[pt],nt=Ke[0].trace,!(nt.visible!==!0||!nt._module||!nt._module.selectPoints))if($({subplot:me})&&(nt.subplot===me||nt.geo===me))Me.push(ie(nt._module,Ke,Ie[0],be[0]));else if(nt.type==="splom"){if(nt._xaxes[Te[0]]&&nt._yaxes[Oe[0]]){var yt=ie(nt._module,Ke,Ie[0],be[0]);yt.scene=He._fullLayout._splomScenes[nt.uid],Me.push(yt)}}else if(nt.type==="sankey"){var Yt=ie(nt._module,Ke,Ie[0],be[0]);Me.push(Yt)}else{if(Te.indexOf(nt.xaxis)===-1&&(!nt._xA||!nt._xA.overlaying)||Oe.indexOf(nt.yaxis)===-1&&(!nt._yA||!nt._yA.overlaying))continue;Me.push(ie(nt._module,Ke,L(He,nt.xaxis),L(He,nt.yaxis)))}return Me}function ie(He,Ie,be,me){return{_module:He,cd:Ie,xaxis:be,yaxis:me}}function ce(He){return He&&Array.isArray(He)&&He[0].hoverOnBox!==!0}function ye(He,Ie){var be=He[0],me=-1,Me=[],Te,Oe;for(Oe=0;Oe<Ie.length;Oe++)if(Te=Ie[Oe],be.fullData._expandedIndex===Te.cd[0].trace._expandedIndex){if(be.hoverOnBox===!0)break;be.pointNumber!==void 0?me=be.pointNumber:be.binNumber!==void 0&&(me=be.binNumber,Me=be.pointNumbers);break}return{pointNumber:me,pointNumbers:Me,searchInfo:Te}}function Ce(He){var Ie=He.searchInfo.cd[0].trace,be=He.pointNumber,me=He.pointNumbers,Me=me.length>0,Te=Me?me[0]:be;return Ie.selectedpoints?Ie.selectedpoints.indexOf(Te)>-1:!1}function Ae(He,Ie){var be=[],me,Me,Te,Oe;for(Oe=0;Oe<He.length;Oe++)me=He[Oe],me.cd[0].trace.selectedpoints&&me.cd[0].trace.selectedpoints.length>0&&be.push(me);if(be.length===1&&(Te=be[0]===Ie.searchInfo,Te&&(Me=Ie.searchInfo.cd[0].trace,Me.selectedpoints.length===Ie.pointNumbers.length))){for(Oe=0;Oe<Ie.pointNumbers.length;Oe++)if(Me.selectedpoints.indexOf(Ie.pointNumbers[Oe])<0)return!1;return!0}return!1}function ke(He){var Ie=0,be,me,Me;for(Me=0;Me<He.length;Me++)if(be=He[Me],me=be.cd[0].trace,me.selectedpoints&&(me.selectedpoints.length>1||(Ie+=me.selectedpoints.length,Ie>1)))return!1;return Ie===1}function we(He,Ie,be){var me;for(me=0;me<Ie.length;me++){var Me=Ie[me].cd[0].trace._fullInput,Te=He._fullLayout._tracePreGUI[Me.uid]||{};Te.selectedpoints===void 0&&(Te.selectedpoints=Me._input.selectedpoints||null)}var Oe;if(be){var Ke=be.points||[];for(me=0;me<Ie.length;me++)Oe=Ie[me].cd[0].trace,Oe._input.selectedpoints=Oe._fullInput.selectedpoints=[],Oe._fullInput!==Oe&&(Oe.selectedpoints=[]);for(var nt=0;nt<Ke.length;nt++){var pt=Ke[nt],yt=pt.data,Yt=pt.fullData,Xt=pt.pointIndex,St=pt.pointIndices;St?([].push.apply(yt.selectedpoints,St),Oe._fullInput!==Oe&&[].push.apply(Yt.selectedpoints,St)):(yt.selectedpoints.push(Xt),Oe._fullInput!==Oe&&Yt.selectedpoints.push(Xt))}}else for(me=0;me<Ie.length;me++)Oe=Ie[me].cd[0].trace,delete Oe.selectedpoints,delete Oe._input.selectedpoints,Oe._fullInput!==Oe&&delete Oe._fullInput.selectedpoints;Ee(He,Ie)}function Ee(He,Ie){for(var be=!1,me=0;me<Ie.length;me++){var Me=Ie[me],Te=Me.cd;a.traceIs(Te[0].trace,"regl")&&(be=!0);var Oe=Me._module,Ke=Oe.styleOnSelect||Oe.style;Ke&&(Ke(He,Te,Te[0].node3),Te[0].nodeRangePlot3&&Ke(He,Te,Te[0].nodeRangePlot3))}be&&(T(He),k(He))}function xe(He,Ie,be){for(var me=be?g.difference:g.union,Me=me({regions:He},{regions:[Ie]}),Te=Me.regions.reverse(),Oe=0;Oe<Te.length;Oe++){var Ke=Te[Oe];Ke.subtract=rt(Ke,Te.slice(0,Oe))}return Te}function Pe(He,Ie){if(Array.isArray(He))for(var be=Ie.cd,me=Ie.cd[0].trace,Me=0;Me<He.length;Me++)He[Me]=p(He[Me],me,be);return He}function Ue(He,Ie){for(var be=[],me=0;me<He.length;me++){be[me]=[];for(var Me=0;Me<He[me].length;Me++){be[me][Me]=[],be[me][Me][0]=Me?"L":"M";for(var Te=0;Te<He[me][Me].length;Te++)be[me][Me].push(He[me][Me][Te])}Ie||be[me].push(["Z",be[me][0][1],be[me][0][2]])}return be}function Be(He,Ie){for(var be=[],me,Me,Te=0;Te<Ie.length;Te++){var Oe=Ie[Te];Me=Oe._module.selectPoints(Oe,He),me=Pe(Me,Oe),be=be.concat(me)}return be}function Ne(He,Ie,be,me,Me){var Te=!!me,Oe,Ke,nt;Me&&(Oe=Me.plotinfo,Ke=Me.xaxes[0]._id,nt=Me.yaxes[0]._id);var pt=[],yt=[],Yt=We(He),Xt=He._fullLayout;if(Oe){var St=Xt._zoomlayer,kt=Xt.dragmode,Kt=n(kt),mr=f(kt);if(Kt||mr){var mt=L(He,Ke,"x"),Zt=L(He,nt,"y");if(mt&&Zt){var Qt=St.selectAll(".select-outline-"+Oe.id);if(Qt&&He._fullLayout._outlining&&Qt.length){for(var yr=Qt[0][0],sr=yr.getAttribute("d"),bt=d(sr,He,Oe),lt=[],Tt=0;Tt<bt.length;Tt++){for(var Ct=bt[Tt],It=[],Dt=0;Dt<Ct.length;Dt++)It.push([st(mt,Ct[Dt][1]),st(Zt,Ct[Dt][2])]);It.xref=Ke,It.yref=nt,It.subtract=rt(It,lt),lt.push(It)}Yt=Yt.concat(lt)}}}}var Vt=Ke&&nt?[Ke+nt]:Xt._subplots.cartesian;Xe(He);for(var Bt={},$t=0;$t<Vt.length;$t++){var fr=Vt[$t],cr=fr.indexOf("y"),dr=fr.slice(0,cr),Ye=fr.slice(cr),je=Ke&&nt?be:void 0;if(je=at(Yt,dr,Ye,je),je){var zt=me;if(!Te){var Ft=L(He,dr,"x"),Jt=L(He,Ye,"y");zt=le(He,[Ft],[Jt],fr);for(var tr=0;tr<zt.length;tr++){var ur=zt[tr],nr=ur.cd[0],Nt=nr.trace;if(ur._module.name==="scattergl"&&!nr.t.xpx){var hr=Nt.x,gr=Nt.y,br=Nt._length;nr.t.xpx=[],nr.t.ypx=[];for(var vr=0;vr<br;vr++)nr.t.xpx[vr]=Ft.c2p(hr[vr]),nr.t.ypx[vr]=Jt.c2p(gr[vr])}ur._module.name==="splom"&&(Bt[Nt.uid]||(Bt[Nt.uid]=!0))}}var Gr=Be(je,zt);pt=pt.concat(Gr),yt=yt.concat(zt)}}var Dr={points:pt};we(He,yt,Dr);var _r=Xt.clickmode,hn=_r.indexOf("event")>-1&&Ie;if(!Oe&&Ie){var nn=We(He,!0);if(nn.length){var Pn=nn[0].xref,Cn=nn[0].yref;if(Pn&&Cn){var Ar=ht(nn),Pr=At([L(He,Pn,"x"),L(He,Cn,"y")]);Pr(Dr,Ar)}}He._fullLayout._noEmitSelectedAtStart?He._fullLayout._noEmitSelectedAtStart=!1:hn&&Ve(He,Dr),Xt._reselect=!1}if(!Oe&&Xt._deselect){var Wr=Xt._deselect;Ke=Wr.xref,nt=Wr.yref,ut(Ke,nt,yt)||dt(He,Ke,nt,me),hn&&(Dr.points.length?Ve(He,Dr):Ze(He)),Xt._deselect=!1}return{eventData:Dr,selectionTesters:be}}function Xe(He){var Ie=He.calcdata;if(Ie)for(var be=0;be<Ie.length;be++){var me=Ie[be][0],Me=me.trace,Te=He._fullLayout._splomScenes;if(Te){var Oe=Te[Me.uid];Oe&&(Oe.selectBatch=[])}}}function ut(He,Ie,be){for(var me=0;me<be.length;me++){var Me=be[me];if(Me.xaxis&&Me.xaxis._id===He&&Me.yaxis&&Me.yaxis._id===Ie)return!0}return!1}function dt(He,Ie,be,me){me=le(He,[L(He,Ie,"x")],[L(He,be,"y")],Ie+be);for(var Me=0;Me<me.length;Me++){var Te=me[Me];Te._module.selectPoints(Te,!1)}we(He,me)}function at(He,Ie,be,me){for(var Me,Te=0;Te<He.length;Te++){var Oe=He[Te];if(!(Ie!==Oe.xref||be!==Oe.yref))if(Me){var Ke=!!Oe.subtract;Me=xe(Me,Oe,Ke),me=oe(Me)}else Me=[Oe],me=O(Oe)}return me}function We(He,Ie){for(var be=[],me=He._fullLayout,Me=me.selections,Te=Me.length,Oe=0;Oe<Te;Oe++)if(!(Ie&&Oe!==me._activeSelectionIndex)){var Ke=Me[Oe];if(Ke){var nt=Ke.xref,pt=Ke.yref,yt=L(He,nt,"x"),Yt=L(He,pt,"y"),Xt,St,kt,Kt,mr;if(Ke.type==="rect"){mr=[];var mt=st(yt,Ke.x0),Zt=st(yt,Ke.x1),Qt=st(Yt,Ke.y0),yr=st(Yt,Ke.y1);mr=[[mt,Qt],[mt,yr],[Zt,yr],[Zt,Qt]],Xt=Math.min(mt,Zt),St=Math.max(mt,Zt),kt=Math.min(Qt,yr),Kt=Math.max(Qt,yr),mr.xmin=Xt,mr.xmax=St,mr.ymin=kt,mr.ymax=Kt,mr.xref=nt,mr.yref=pt,mr.subtract=!1,mr.isRect=!0,be.push(mr)}else if(Ke.type==="path")for(var sr=Ke.path.split("Z"),bt=[],lt=0;lt<sr.length;lt++){var Tt=sr[lt];if(Tt){Tt+="Z";var Ct=l.extractPathCoords(Tt,y.paramIsX,"raw"),It=l.extractPathCoords(Tt,y.paramIsY,"raw");Xt=1/0,St=-1/0,kt=1/0,Kt=-1/0,mr=[];for(var Dt=0;Dt<Ct.length;Dt++){var Vt=st(yt,Ct[Dt]),Bt=st(Yt,It[Dt]);mr.push([Vt,Bt]),Xt=Math.min(Vt,Xt),St=Math.max(Vt,St),kt=Math.min(Bt,kt),Kt=Math.max(Bt,Kt)}mr.xmin=Xt,mr.xmax=St,mr.ymin=kt,mr.ymax=Kt,mr.xref=nt,mr.yref=pt,mr.subtract=rt(mr,bt),bt.push(mr),be.push(mr)}}}}return be}function rt(He,Ie){for(var be=!1,me=0;me<Ie.length;me++)for(var Me=Ie[me],Te=0;Te<He.length;Te++)if(P(He[Te],Me)){be=!be;break}return be}function st(He,Ie){return He.type==="date"&&(Ie=Ie.replace("_"," ")),He.type==="log"?He.c2p(Ie):He.r2p(Ie,null,He.calendar)}function ht(He){for(var Ie=He.length,be=[],me=0;me<Ie;me++){var Me=He[me];be=be.concat(Me),be=be.concat([Me[0]])}return vt(be)}function vt(He){return He.isRect=He.length===5&&He[0][0]===He[4][0]&&He[0][1]===He[4][1]&&He[0][0]===He[1][0]&&He[2][0]===He[3][0]&&He[0][1]===He[3][1]&&He[1][1]===He[2][1]||He[0][1]===He[1][1]&&He[2][1]===He[3][1]&&He[0][0]===He[3][0]&&He[1][0]===He[2][0],He.isRect&&(He.xmin=Math.min(He[0][0],He[2][0]),He.xmax=Math.max(He[0][0],He[2][0]),He.ymin=Math.min(He[0][1],He[2][1]),He.ymax=Math.max(He[0][1],He[2][1])),He}function At(He){return function(Ie,be){for(var me,Me,Te=0;Te<He.length;Te++){var Oe=He[Te],Ke=Oe._id,nt=Ke.charAt(0);if(be.isRect){me||(me={});var pt=be[nt+"min"],yt=be[nt+"max"];pt!==void 0&&yt!==void 0&&(me[Ke]=[z(Oe,pt),z(Oe,yt)].sort(E))}else Me||(Me={}),Me[Ke]=be.map(V(Oe))}me&&(Ie.range=me),Me&&(Ie.lassoPoints=Me)}}function et(He){var Ie=He.plotinfo;return Ie.fillRangeItems||At(He.xaxes.concat(He.yaxes))}function _e(He,Ie){He.emit("plotly_selecting",Ie)}function Ve(He,Ie){Ie&&(Ie.selections=(He.layout||{}).selections||[]),He.emit("plotly_selected",Ie)}function Ze(He){He.emit("plotly_deselect",null)}j.exports={reselect:Ne,prepSelect:re,clearOutline:S,clearSelectionsCache:Q,selectOnClick:ne}},46056:function(j,H,e){var g=e(13916),P=e(25376),a=e(52904).line,x=e(98192).u,M=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);j.exports=v("shape",{visible:M({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},p.legend,{editType:"calc+arraydraw"}),legendgroup:M({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:M({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:M({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},a.color,{editType:"arraydraw"}),width:M({},a.width,{editType:"calc+arraydraw"}),dash:M({},x,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(j,H,e){var g=e(3400),P=e(54460),a=e(85448),x=e(65152);j.exports=function(i){var n=i._fullLayout,u=g.filterVisible(n.shapes);if(!(!u.length||!i._fullData.length))for(var f=0;f<u.length;f++){var l=u[f];l._extremes={};var y,h,S=P.getRefType(l.xref),c=P.getRefType(l.yref);if(l.xref!=="paper"&&S!=="domain"){var o=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;y=P.getFromId(i,l.xref),h=r(y,o,d,l.path,a.paramIsX),h&&(l._extremes[y._id]=P.findExtremes(y,h,M(l)))}if(l.yref!=="paper"&&c!=="domain"){var w=l.ysizemode==="pixel"?l.yanchor:l.y0,A=l.ysizemode==="pixel"?l.yanchor:l.y1;y=P.getFromId(i,l.yref),h=r(y,w,A,l.path,a.paramIsY),h&&(l._extremes[y._id]=P.findExtremes(y,h,v(l)))}}};function M(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,i,n,u,f,l){var y=t/2,h=l;if(i==="pixel"){var S=f?x.extractPathCoords(f,l?a.paramIsY:a.paramIsX):[n,u],c=g.aggNums(Math.max,null,S),o=g.aggNums(Math.min,null,S),d=o<0?Math.abs(o)+y:y,w=c>0?c+y:y;return{ppad:y,ppadplus:h?d:w,ppadminus:h?w:d}}else return{ppad:y}}function r(t,i,n,u,f){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(i!==void 0)return[l(i),l(n)];if(u){var y=1/0,h=-1/0,S=u.match(a.segmentRE),c,o,d,w,A;for(t.type==="date"&&(l=x.decodeDate(l)),c=0;c<S.length;c++)o=S[c],d=f[o.charAt(0)].drawn,d!==void 0&&(w=S[c].substr(1).match(a.paramRE),!(!w||w.length<d)&&(A=l(w[d]),A<y&&(y=A),A>h&&(h=A)));if(h>=y)return[y,h]}}},85448:function(j){j.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(j,H,e){var g=e(3400),P=e(54460),a=e(51272),x=e(46056),M=e(65152);j.exports=function(t,i){a(t,i,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,i){function n(J,X){return g.coerce(r,t,x,J,X)}t._isShape=!0;var u=n("visible");if(u){var f=n("showlegend");f&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),y=l?"path":"rect",h=n("type",y),S=h!=="path";S&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),d=n("ysizemode"),w=["x","y"],A=0;A<2;A++){var C=w[A],m=C+"anchor",E=C==="x"?o:d,b={_fullLayout:i},s,L,T,k=P.coerceRef(r,t,b,C,void 0,"paper"),_=P.getRefType(k);if(_==="range"?(s=P.getFromId(b,k),s._shapeIndices.push(t._index),T=M.rangeToShapePosition(s),L=M.shapePositionToRange(s)):L=T=g.identity,S){var B=.25,F=.75,O=C+"0",N=C+"1",z=r[O],V=r[N];r[O]=L(r[O],!0),r[N]=L(r[N],!0),E==="pixel"?(n(O,0),n(N,10)):(P.coercePosition(t,b,n,k,O,B),P.coercePosition(t,b,n,k,N,F)),t[O]=T(t[O]),t[N]=T(t[N]),r[O]=z,r[N]=V}if(E==="pixel"){var W=r[m];r[m]=L(r[m],!0),P.coercePosition(t,b,n,k,m,.25),t[m]=T(t[m]),r[m]=W}}S&&g.noneOrAll(r,t,["x0","x1","y0","y1"]);var $=h==="line",re,ne;if(S&&(re=n("label.texttemplate")),re||(ne=n("label.text")),ne||re){n("label.textangle");var ue=n("label.textposition",$?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v($,ue)),n("label.padding"),g.coerceFont(n,"label.font",i.font)}}}},60728:function(j,H,e){var g=e(3400),P=e(54460),a=e(72736),x=e(43616),M=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;j.exports=function(f,l,y,h){if(h.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var S;if(y.label.texttemplate){var c={};if(y.type!=="path"){var o=P.getFromId(f,y.xref),d=P.getFromId(f,y.yref);for(var w in r){var A=r[w](y,o,d);A!==void 0&&(c[w]=A)}}S=g.texttemplateStringForShapes(y.label.texttemplate,{},f._fullLayout._d3locale,c)}else S=y.label.text;var C={"data-index":l},m=y.label.font,E={"data-notex":1},b=h.append("g").attr(C).classed("shape-label",!0),s=b.append("text").attr(E).classed("shape-label-text",!0).text(S),L,T,k,_;if(y.path){var B=p(f,y),F=M(B,f);L=1/0,k=1/0,T=-1/0,_=-1/0;for(var O=0;O<F.length;O++)for(var N=0;N<F[O].length;N++)for(var z=F[O][N],V=1;V<z.length;V+=2){var W=z[V],$=z[V+1];L=Math.min(L,W),T=Math.max(T,W),k=Math.min(k,$),_=Math.max(_,$)}}else{var re=P.getFromId(f,y.xref),ne=P.getRefType(y.xref),ue=P.getFromId(f,y.yref),J=P.getRefType(y.yref),X=v.getDataToPixel(f,re,!1,ne),oe=v.getDataToPixel(f,ue,!0,J);L=X(y.x0),T=X(y.x1),k=oe(y.y0),_=oe(y.y1)}var Y=y.label.textangle;Y==="auto"&&(y.type==="line"?Y=i(L,k,T,_):Y=0),s.call(function(ie){return ie.call(x.font,m).attr({}),a.convertToTspans(ie,f),ie});var q=x.bBox(s.node()),se=n(L,k,T,_,y,Y,q),Q=se.textx,K=se.texty,le=se.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[le],y:K,x:Q,transform:"rotate("+Y+","+Q+","+K+")"}).call(a.positionText,Q,K)}};function i(u,f,l,y){var h,S;return S=Math.abs(l-u),l>=u?h=f-y:h=y-f,-180/Math.PI*Math.atan2(h,S)}function n(u,f,l,y,h,S,c){var o=h.label.textposition,d=h.label.textangle,w=h.label.padding,A=h.type,C=Math.PI/180*S,m=Math.sin(C),E=Math.cos(C),b=h.label.xanchor,s=h.label.yanchor,L,T,k,_;if(A==="line"){o==="start"?(L=u,T=f):o==="end"?(L=l,T=y):(L=(u+l)/2,T=(f+y)/2),b==="auto"&&(o==="start"?d==="auto"?l>u?b="left":l<u?b="right":b="center":l>u?b="right":l<u?b="left":b="center":o==="end"?d==="auto"?l>u?b="right":l<u?b="left":b="center":l>u?b="left":l<u?b="right":b="center":b="center");var B={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(d==="auto"){var O=F[s];k=-w*m*O,_=w*E*O}else{var N=B[b],z=F[s];k=w*N,_=w*z}L=L+k,T=T+_}else k=w+3,o.indexOf("right")!==-1?(L=Math.max(u,l)-k,b==="auto"&&(b="right")):o.indexOf("left")!==-1?(L=Math.min(u,l)+k,b==="auto"&&(b="left")):(L=(u+l)/2,b==="auto"&&(b="center")),o.indexOf("top")!==-1?T=Math.min(f,y):o.indexOf("bottom")!==-1?T=Math.max(f,y):T=(f+y)/2,_=w,s==="bottom"?T=T-_:s==="top"&&(T=T+_);var V=t[s],W=h.label.font.size,$=c.height,re=($*V-W)*m,ne=-($*V-W)*E;return{textx:L+re,texty:T+ne,xanchor:b}}},55496:function(j,H,e){var g=e(3400),P=g.strTranslate,a=e(86476),x=e(72760),M=x.drawMode,v=x.selectMode,p=e(24040),r=e(76308),t=e(7e3),i=t.i000,n=t.i090,u=t.i180,f=t.i270,l=e(1936),y=l.clearOutlineControllers,h=e(9856),S=h.pointsOnRectangle,c=h.pointsOnEllipse,o=h.writePaths,d=e(93940).newShapes,w=e(93940).createShapeObj,A=e(5968),C=e(60728);j.exports=function s(L,T,k,_){_||(_=0);var B=k.gd;function F(){s(L,T,k,_++),(c(L[0])||k.hasText)&&O({redrawing:!0})}function O(xe){var Pe={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,Pe=d(T,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,Pe=A(T,k),B._fullLayout._reselect=!0),Object.keys(Pe).length&&p.call((xe||{}).redrawing?"relayout":"_guiRelayout",B,Pe)}var N=B._fullLayout,z=N._zoomlayer,V=k.dragmode,W=M(V),$=v(V);(W||$)&&(B._fullLayout._outlining=!0),y(B),T.attr("d",o(L));var re,ne,ue,J,X;if(!_&&(k.isActiveShape||k.isActiveSelection)){X=m([],L);var oe=z.append("g").attr("class","outline-controllers");ce(oe),Ee()}if(W&&k.hasText){var Y=z.select(".label-temp"),q=w(T,k,k.dragmode);C(B,"label-temp",q,Y)}function se(xe){ue=+xe.srcElement.getAttribute("data-i"),J=+xe.srcElement.getAttribute("data-j"),re[ue][J].moveFn=Q}function Q(xe,Pe){if(L.length){var Ue=X[ue][J][1],Be=X[ue][J][2],Ne=L[ue],Xe=Ne.length;if(S(Ne)){var ut=xe,dt=Pe;if(k.isActiveSelection){var at=E(Ne,J);at[1]===Ne[J][1]?dt=0:ut=0}for(var We=0;We<Xe;We++)if(We!==J){var rt=Ne[We];rt[1]===Ne[J][1]&&(rt[1]=Ue+ut),rt[2]===Ne[J][2]&&(rt[2]=Be+dt)}if(Ne[J][1]=Ue+ut,Ne[J][2]=Be+dt,!S(Ne))for(var st=0;st<Xe;st++)for(var ht=0;ht<Ne[st].length;ht++)Ne[st][ht]=X[ue][st][ht]}else Ne[J][1]=Ue+xe,Ne[J][2]=Be+Pe;F()}}function K(){O()}function le(){if(L.length&&L[ue]&&L[ue].length){for(var xe=[],Pe=0;Pe<L[ue].length;Pe++)Pe!==J&&xe.push(L[ue][Pe]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&(J===0&&(xe[0][0]="M"),L[ue]=xe,F(),O())}}function ie(xe,Pe){if(xe===2){ue=+Pe.srcElement.getAttribute("data-i"),J=+Pe.srcElement.getAttribute("data-j");var Ue=L[ue];!S(Ue)&&!c(Ue)&&le()}}function ce(xe){re=[];for(var Pe=0;Pe<L.length;Pe++){var Ue=L[Pe],Be=S(Ue),Ne=!Be&&c(Ue);re[Pe]=[];for(var Xe=Ue.length,ut=0;ut<Xe;ut++)if(Ue[ut][0]!=="Z"&&!(Ne&&ut!==i&&ut!==n&&ut!==u&&ut!==f)){var dt=Be&&k.isActiveSelection,at;dt&&(at=E(Ue,ut));var We=Ue[ut][1],rt=Ue[ut][2],st=xe.append(dt?"rect":"circle").attr("data-i",Pe).attr("data-j",ut).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(dt){var ht=at[1]-We,vt=at[2]-rt,At=vt?5:Math.max(Math.min(25,Math.abs(ht)-5),5),et=ht?5:Math.max(Math.min(25,Math.abs(vt)-5),5);st.classed(vt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",At).attr("height",et).attr("x",We-At/2).attr("y",rt-et/2).attr("transform",P(ht/2,vt/2))}else st.classed("cursor-grab",!0).attr("r",5).attr("cx",We).attr("cy",rt);re[Pe][ut]={element:st.node(),gd:B,prepFn:se,doneFn:K,clickFn:ie},a.init(re[Pe][ut])}}}function ye(xe,Pe){if(L.length)for(var Ue=0;Ue<L.length;Ue++)for(var Be=0;Be<L[Ue].length;Be++)for(var Ne=0;Ne+2<L[Ue][Be].length;Ne+=2)L[Ue][Be][Ne+1]=X[Ue][Be][Ne+1]+xe,L[Ue][Be][Ne+2]=X[Ue][Be][Ne+2]+Pe}function Ce(xe,Pe){ye(xe,Pe),F()}function Ae(xe){ue=+xe.srcElement.getAttribute("data-i"),ue||(ue=0),ne[ue].moveFn=Ce}function ke(){O()}function we(xe){xe===2&&b(B)}function Ee(){if(ne=[],!!L.length){var xe=0;ne[xe]={element:T[0][0],gd:B,prepFn:Ae,doneFn:ke,clickFn:we},a.init(ne[xe])}}};function m(s,L){for(var T=0;T<L.length;T++){var k=L[T];s[T]=[];for(var _=0;_<k.length;_++){s[T][_]=[];for(var B=0;B<k[_].length;B++)s[T][_][B]=k[_][B]}}return s}function E(s,L){var T=s[L][1],k=s[L][2],_=s.length,B,F,O;return B=(L+1)%_,F=s[B][1],O=s[B][2],F===T&&O===k&&(B=(L+2)%_,F=s[B][1],O=s[B][2]),[B,F,O]}function b(s){if(v(s._fullLayout.dragmode)){y(s);var L=s._fullLayout._activeSelectionIndex,T=(s.layout||{}).selections||[];if(L<T.length){for(var k=[],_=0;_<T.length;_++)_!==L&&k.push(T[_]);delete s._fullLayout._activeSelectionIndex;var B=s._fullLayout.selections[L];s._fullLayout._deselect={xref:B.xref,yref:B.yref},p.call("_guiRelayout",s,{selections:k})}}}},4016:function(j,H,e){var g=e(33428),P=e(24040),a=e(3400),x=e(54460),M=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),i=e(43616),n=e(31780).arrayEditor,u=e(86476),f=e(93972),l=e(85448),y=e(65152),h=y.getPathString;j.exports={draw:S,drawOne:d,eraseActiveShape:b,drawLabel:p};function S(s){var L=s._fullLayout;L._shapeUpperLayer.selectAll("path").remove(),L._shapeLowerLayer.selectAll("path").remove(),L._shapeUpperLayer.selectAll("text").remove(),L._shapeLowerLayer.selectAll("text").remove();for(var T in L._plots){var k=L._plots[T].shapelayer;k&&(k.selectAll("path").remove(),k.selectAll("text").remove())}for(var _=0;_<L.shapes.length;_++)L.shapes[_].visible===!0&&d(s,_)}function c(s){return!!s._fullLayout._outlining}function o(s){return!s._context.edits.shapePosition}function d(s,L){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+L+'"]').remove();var T=y.makeShapesOptionsAndPlotinfo(s,L),k=T.options,_=T.plotinfo;if(!k._input||k.visible!==!0)return;if(k.layer!=="below")F(s._fullLayout._shapeUpperLayer);else if(k.xref==="paper"||k.yref==="paper")F(s._fullLayout._shapeLowerLayer);else if(_._hadPlotinfo){var B=_.mainplotinfo||_;F(B.shapelayer)}else F(s._fullLayout._shapeLowerLayer);function F(O){var N=h(s,k),z={"data-index":L,"fill-rule":k.fillrule,d:N},V=k.opacity,W=k.fillcolor,$=k.line.width?k.line.color:"rgba(0,0,0,0)",re=k.line.width,ne=k.line.dash;!re&&k.editable===!0&&(re=5,ne="solid");var ue=N[N.length-1]!=="Z",J=o(s)&&k.editable&&s._fullLayout._activeShapeIndex===L;J&&(W=ue?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,V=s._fullLayout.activeshape.opacity);var X=O.append("g").classed("shape-group",!0).attr({"data-index":L}),oe=X.append("path").attr(z).style("opacity",V).call(t.stroke,$).call(t.fill,W).call(i.dashLine,ne,re);w(X,s,k),p(s,L,k,X);var Y;if((J||s._context.edits.shapePosition)&&(Y=n(s.layout,"shapes",k)),J){oe.style({cursor:"move"});var q={element:oe.node(),plotinfo:_,gd:s,editHelpers:Y,hasText:k.label.text||k.label.texttemplate,isActiveShape:!0},se=M(N,s);v(se,oe,q)}else s._context.edits.shapePosition?A(s,oe,k,L,O,Y):k.editable===!0&&oe.style("pointer-events",ue||t.opacity(W)*V<=.5?"stroke":"all");oe.node().addEventListener("click",function(){return m(s,oe)})}}function w(s,L,T){var k=(T.xref+T.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(s,k?"clip"+L._fullLayout._uid+k:null,L)}function A(s,L,T,k,_,B){var F=10,O=10,N=T.xsizemode==="pixel",z=T.ysizemode==="pixel",V=T.type==="line",W=T.type==="path",$=B.modifyItem,re,ne,ue,J,X,oe,Y,q,se,Q,K,le,ie,ce,ye,Ce=g.select(L.node().parentNode),Ae=x.getFromId(s,T.xref),ke=x.getRefType(T.xref),we=x.getFromId(s,T.yref),Ee=x.getRefType(T.yref),xe=y.getDataToPixel(s,Ae,!1,ke),Pe=y.getDataToPixel(s,we,!0,Ee),Ue=y.getPixelToData(s,Ae,!1,ke),Be=y.getPixelToData(s,we,!0,Ee),Ne=dt(),Xe={element:Ne.node(),gd:s,prepFn:rt,doneFn:st,clickFn:ht},ut;u.init(Xe),Ne.node().onmousemove=We;function dt(){return V?at():L}function at(){var Ze=10,He=Math.max(T.line.width,Ze),Ie=_.append("g").attr("data-index",k).attr("drag-helper",!0);Ie.append("path").attr("d",L.attr("d")).style({cursor:"move","stroke-width":He,"stroke-opacity":"0"});var be={"fill-opacity":"0"},me=Math.max(He/2,Ze);return Ie.append("circle").attr({"data-line-point":"start-point",cx:N?xe(T.xanchor)+T.x0:xe(T.x0),cy:z?Pe(T.yanchor)-T.y0:Pe(T.y0),r:me}).style(be).classed("cursor-grab",!0),Ie.append("circle").attr({"data-line-point":"end-point",cx:N?xe(T.xanchor)+T.x1:xe(T.x1),cy:z?Pe(T.yanchor)-T.y1:Pe(T.y1),r:me}).style(be).classed("cursor-grab",!0),Ie}function We(Ze){if(c(s)){ut=null;return}if(V)Ze.target.tagName==="path"?ut="move":ut=Ze.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var He=Xe.element.getBoundingClientRect(),Ie=He.right-He.left,be=He.bottom-He.top,me=Ze.clientX-He.left,Me=Ze.clientY-He.top,Te=!W&&Ie>F&&be>O&&!Ze.shiftKey?u.getCursor(me/Ie,1-Me/be):"move";f(L,Te),ut=Te.split("-")[0]}}function rt(Ze){c(s)||(N&&(X=xe(T.xanchor)),z&&(oe=Pe(T.yanchor)),T.type==="path"?ye=T.path:(re=N?T.x0:xe(T.x0),ne=z?T.y0:Pe(T.y0),ue=N?T.x1:xe(T.x1),J=z?T.y1:Pe(T.y1)),re<ue?(se=re,ie="x0",Q=ue,ce="x1"):(se=ue,ie="x1",Q=re,ce="x0"),!z&&ne<J||z&&ne>J?(Y=ne,K="y0",q=J,le="y1"):(Y=J,K="y1",q=ne,le="y0"),We(Ze),et(_,T),Ve(L,T,s),Xe.moveFn=ut==="move"?vt:At,Xe.altKey=Ze.altKey)}function st(){c(s)||(f(L),_e(_),w(L,s,T),P.call("_guiRelayout",s,B.getUpdateObj()))}function ht(){c(s)||_e(_)}function vt(Ze,He){if(T.type==="path"){var Ie=function(Me){return Me},be=Ie,me=Ie;N?$("xanchor",T.xanchor=Ue(X+Ze)):(be=function(Te){return Ue(xe(Te)+Ze)},Ae&&Ae.type==="date"&&(be=y.encodeDate(be))),z?$("yanchor",T.yanchor=Be(oe+He)):(me=function(Te){return Be(Pe(Te)+He)},we&&we.type==="date"&&(me=y.encodeDate(me))),$("path",T.path=C(ye,be,me))}else N?$("xanchor",T.xanchor=Ue(X+Ze)):($("x0",T.x0=Ue(re+Ze)),$("x1",T.x1=Ue(ue+Ze))),z?$("yanchor",T.yanchor=Be(oe+He)):($("y0",T.y0=Be(ne+He)),$("y1",T.y1=Be(J+He)));L.attr("d",h(s,T)),et(_,T),p(s,k,T,Ce)}function At(Ze,He){if(W){var Ie=function(mt){return mt},be=Ie,me=Ie;N?$("xanchor",T.xanchor=Ue(X+Ze)):(be=function(Zt){return Ue(xe(Zt)+Ze)},Ae&&Ae.type==="date"&&(be=y.encodeDate(be))),z?$("yanchor",T.yanchor=Be(oe+He)):(me=function(Zt){return Be(Pe(Zt)+He)},we&&we.type==="date"&&(me=y.encodeDate(me))),$("path",T.path=C(ye,be,me))}else if(V){if(ut==="resize-over-start-point"){var Me=re+Ze,Te=z?ne-He:ne+He;$("x0",T.x0=N?Me:Ue(Me)),$("y0",T.y0=z?Te:Be(Te))}else if(ut==="resize-over-end-point"){var Oe=ue+Ze,Ke=z?J-He:J+He;$("x1",T.x1=N?Oe:Ue(Oe)),$("y1",T.y1=z?Ke:Be(Ke))}}else{var nt=function(mt){return ut.indexOf(mt)!==-1},pt=nt("n"),yt=nt("s"),Yt=nt("w"),Xt=nt("e"),St=pt?Y+He:Y,kt=yt?q+He:q,Kt=Yt?se+Ze:se,mr=Xt?Q+Ze:Q;z&&(pt&&(St=Y-He),yt&&(kt=q-He)),(!z&&kt-St>O||z&&St-kt>O)&&($(K,T[K]=z?St:Be(St)),$(le,T[le]=z?kt:Be(kt))),mr-Kt>F&&($(ie,T[ie]=N?Kt:Ue(Kt)),$(ce,T[ce]=N?mr:Ue(mr)))}L.attr("d",h(s,T)),et(_,T),p(s,k,T,Ce)}function et(Ze,He){(N||z)&&Ie();function Ie(){var be=He.type!=="path",me=Ze.selectAll(".visual-cue").data([0]),Me=1;me.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Me}).classed("visual-cue",!0);var Te=xe(N?He.xanchor:a.midRange(be?[He.x0,He.x1]:y.extractPathCoords(He.path,l.paramIsX))),Oe=Pe(z?He.yanchor:a.midRange(be?[He.y0,He.y1]:y.extractPathCoords(He.path,l.paramIsY)));if(Te=y.roundPositionForSharpStrokeRendering(Te,Me),Oe=y.roundPositionForSharpStrokeRendering(Oe,Me),N&&z){var Ke="M"+(Te-1-Me)+","+(Oe-1-Me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";me.attr("d",Ke)}else if(N){var nt="M"+(Te-1-Me)+","+(Oe-9-Me)+"v18 h2 v-18 Z";me.attr("d",nt)}else{var pt="M"+(Te-9-Me)+","+(Oe-1-Me)+"h18 v2 h-18 Z";me.attr("d",pt)}}}function _e(Ze){Ze.selectAll(".visual-cue").remove()}function Ve(Ze,He,Ie){var be=He.xref,me=He.yref,Me=x.getFromId(Ie,be),Te=x.getFromId(Ie,me),Oe="";be!=="paper"&&!Me.autorange&&(Oe+=be),me!=="paper"&&!Te.autorange&&(Oe+=me),i.setClipUrl(Ze,Oe?"clip"+Ie._fullLayout._uid+Oe:null,Ie)}}function C(s,L,T){return s.replace(l.segmentRE,function(k){var _=0,B=k.charAt(0),F=l.paramIsX[B],O=l.paramIsY[B],N=l.numParams[B],z=k.substr(1).replace(l.paramRE,function(V){return _>=N||(F[_]?V=L(V):O[_]&&(V=T(V)),_++),V});return B+z})}function m(s,L){if(o(s)){var T=L.node(),k=+T.getAttribute("data-index");if(k>=0){if(k===s._fullLayout._activeShapeIndex){E(s);return}s._fullLayout._activeShapeIndex=k,s._fullLayout._deactivateShape=E,S(s)}}}function E(s){if(o(s)){var L=s._fullLayout._activeShapeIndex;L>=0&&(r(s),delete s._fullLayout._activeShapeIndex,S(s))}}function b(s){if(o(s)){r(s);var L=s._fullLayout._activeShapeIndex,T=(s.layout||{}).shapes||[];if(L<T.length){for(var k=[],_=0;_<T.length;_++)_!==L&&k.push(T[_]);return delete s._fullLayout._activeShapeIndex,P.call("_guiRelayout",s,{shapes:k})}}}},92872:function(j,H,e){var g=e(67824).overrideAll,P=e(45464),a=e(25376),x=e(98192).u,M=e(92880).extendFlat,v=e(21776).ye,p=e(97728);j.exports=g({newshape:{visible:M({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},P.legend,{}),legendgroup:M({},P.legendgroup,{}),legendgrouptitle:{text:M({},P.legendgrouptitle.text,{}),font:a({})},legendrank:M({},P.legendrank,{}),legendwidth:M({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},x,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(j){var H=32;j.exports={CIRCLE_SIDES:H,i000:0,i090:H/4,i180:H/2,i270:H/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(j,H,e){var g=e(76308),P=e(3400);function a(x,M){return x?"bottom":M.indexOf("top")!==-1?"top":M.indexOf("bottom")!==-1?"bottom":"middle"}j.exports=function(M,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(M||{}).plot_bgcolor||"#FFF";p("newshape.line.color",g.contrast(t)),p("newshape.line.dash")}var i=M.dragmode==="drawline",n=p("newshape.label.text"),u=p("newshape.label.texttemplate");if(n||u){p("newshape.label.textangle");var f=p("newshape.label.textposition",i?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",a(i,f)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(j,H,e){var g=e(21984),P=e(7e3),a=P.CIRCLE_SIDES,x=P.SQRT2,M=e(5840),v=M.p2r,p=M.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];H.writePaths=function(u){var f=u.length;if(!f)return"M0,0Z";for(var l="",y=0;y<f;y++)for(var h=u[y].length,S=0;S<h;S++){var c=u[y][S][0];if(c==="Z")l+="Z";else for(var o=u[y][S].length,d=0;d<o;d++){var w=d;c==="Q"||c==="S"?w=t[d]:c==="C"&&(w=r[d]),l+=u[y][S][w],d>0&&d<o-1&&(l+=",")}}return l},H.readPaths=function(u,f,l,y){var h=g(u),S=[],c=-1,o=function(){c++,S[c]=[]},d,w=0,A=0,C,m,E=function(){C=w,m=A};E();for(var b=0;b<h.length;b++){var s=[],L,T,k,_,B=h[b][0],F=B;switch(B){case"M":o(),w=+h[b][1],A=+h[b][2],s.push([F,w,A]),E();break;case"Q":case"S":L=+h[b][1],k=+h[b][2],w=+h[b][3],A=+h[b][4],s.push([F,w,A,L,k]);break;case"C":L=+h[b][1],k=+h[b][2],T=+h[b][3],_=+h[b][4],w=+h[b][5],A=+h[b][6],s.push([F,w,A,L,k,T,_]);break;case"T":case"L":w=+h[b][1],A=+h[b][2],s.push([F,w,A]);break;case"H":F="L",w=+h[b][1],s.push([F,w,A]);break;case"V":F="L",A=+h[b][1],s.push([F,w,A]);break;case"A":F="L";var O=+h[b][1],N=+h[b][2];+h[b][4]||(O=-O,N=-N);var z=w-O,V=A;for(d=1;d<=a/2;d++){var W=2*Math.PI*d/a;s.push([F,z+O*Math.cos(W),V+N*Math.sin(W)])}break;case"Z":(w!==C||A!==m)&&(w=C,A=m,s.push([F,w,A]));break}for(var $=(l||{}).domain,re=f._fullLayout._size,ne=l&&l.xsizemode==="pixel",ue=l&&l.ysizemode==="pixel",J=y===!1,X=0;X<s.length;X++){for(d=0;d+2<7;d+=2){var oe=s[X][d+1],Y=s[X][d+2];oe===void 0||Y===void 0||(w=oe,A=Y,l&&(l.xaxis&&l.xaxis.p2r?(J&&(oe-=l.xaxis._offset),ne?oe=p(l.xaxis,l.xanchor)+oe:oe=v(l.xaxis,oe)):(J&&(oe-=re.l),$?oe=$.x[0]+oe/re.w:oe=oe/re.w),l.yaxis&&l.yaxis.p2r?(J&&(Y-=l.yaxis._offset),ue?Y=p(l.yaxis,l.yanchor)-Y:Y=v(l.yaxis,Y)):(J&&(Y-=re.t),$?Y=$.y[1]-Y/re.h:Y=1-Y/re.h)),s[X][d+1]=oe,s[X][d+2]=Y)}S[c].push(s[X].slice())}}return S};function i(u,f){return Math.abs(u-f)<=1e-6}function n(u,f){var l=f[1]-u[1],y=f[2]-u[2];return Math.sqrt(l*l+y*y)}H.pointsOnRectangle=function(u){var f=u.length;if(f!==5)return!1;for(var l=1;l<3;l++){var y=u[0][l]-u[1][l],h=u[3][l]-u[2][l];if(!i(y,h))return!1;var S=u[0][l]-u[3][l],c=u[1][l]-u[2][l];if(!i(S,c))return!1}return!i(u[0][1],u[1][1])&&!i(u[0][1],u[3][1])?!1:!!(n(u[0],u[1])*n(u[0],u[3]))},H.pointsOnEllipse=function(u){var f=u.length;if(f!==a+1)return!1;f=a;for(var l=0;l<f;l++){var y=(f*2-l)%f,h=(f/2+y)%f,S=(f/2+l)%f;if(!i(n(u[l],u[S]),n(u[y],u[h])))return!1}return!0},H.handleEllipse=function(u,f,l){if(!u)return[f,l];var y=H.ellipseOver({x0:f[0],y0:f[1],x1:l[0],y1:l[1]}),h=(y.x1+y.x0)/2,S=(y.y1+y.y0)/2,c=(y.x1-y.x0)/2,o=(y.y1-y.y0)/2;c||(c=o=o/x),o||(o=c=c/x);for(var d=[],w=0;w<a;w++){var A=w*2*Math.PI/a;d.push([h+c*Math.cos(A),S+o*Math.sin(A)])}return d},H.ellipseOver=function(u){var f=u.x0,l=u.y0,y=u.x1,h=u.y1,S=y-f,c=h-l;f-=S,l-=c;var o=(f+y)/2,d=(l+h)/2,w=x;return S*=w,c*=w,{x0:o-S,y0:d-c,x1:o+S,y1:d+c}},H.fixDatesForPaths=function(u,f,l){var y=f.type==="date",h=l.type==="date";if(!y&&!h)return u;for(var S=0;S<u.length;S++)for(var c=0;c<u[S].length;c++)for(var o=0;o+2<u[S][c].length;o+=2)y&&(u[S][c][o+1]=u[S][c][o+1].replace(" ","_")),h&&(u[S][c][o+2]=u[S][c][o+2].replace(" ","_"));return u}},93940:function(j,H,e){var g=e(72760),P=g.drawMode,a=g.openMode,x=e(7e3),M=x.i000,v=x.i090,p=x.i180,r=x.i270,t=x.cos45,i=x.sin45,n=e(5840),u=n.p2r,f=n.r2p,l=e(1936),y=l.clearOutline,h=e(9856),S=h.readPaths,c=h.writePaths,o=h.ellipseOver,d=h.fixDatesForPaths;function w(C,m){if(C.length){var E=C[0][0];if(E){var b=m.gd,s=m.isActiveShape,L=m.dragmode,T=(b.layout||{}).shapes||[];if(!P(L)&&s!==void 0){var k=b._fullLayout._activeShapeIndex;if(k<T.length)switch(b._fullLayout.shapes[k].type){case"rect":L="drawrect";break;case"circle":L="drawcircle";break;case"line":L="drawline";break;case"path":var _=T[k].path||"";_[_.length-1]==="Z"?L="drawclosedpath":L="drawopenpath";break}}var B=A(C,m,L);y(b);for(var F=m.editHelpers,O=(F||{}).modifyItem,N=[],z=0;z<T.length;z++){var V=b._fullLayout.shapes[z];if(N[z]=V._input,s!==void 0&&z===b._fullLayout._activeShapeIndex){var W=B;switch(V.type){case"line":case"rect":case"circle":O("x0",W.x0),O("x1",W.x1),O("y0",W.y0),O("y1",W.y1);break;case"path":O("path",W.path);break}}}return s===void 0?(N.push(B),N):F?F.getUpdateObj():{}}}}function A(C,m,E){var b=C[0][0],s=m.gd,L=b.getAttribute("d"),T=s._fullLayout.newshape,k=m.plotinfo,_=m.isActiveShape,B=k.xaxis,F=k.yaxis,O=!!k.domain||!k.xaxis,N=!!k.domain||!k.yaxis,z=a(E),V=S(L,s,k,_),W={editable:!0,visible:T.visible,name:T.name,showlegend:T.showlegend,legend:T.legend,legendwidth:T.legendwidth,legendgroup:T.legendgroup,legendgrouptitle:{text:T.legendgrouptitle.text,font:T.legendgrouptitle.font},legendrank:T.legendrank,label:T.label,xref:O?"paper":B._id,yref:N?"paper":F._id,layer:T.layer,opacity:T.opacity,line:{color:T.line.color,width:T.line.width,dash:T.line.dash}};z||(W.fillcolor=T.fillcolor,W.fillrule=T.fillrule);var $;if(V.length===1&&($=V[0]),$&&$.length===5&&E==="drawrect")W.type="rect",W.x0=$[0][1],W.y0=$[0][2],W.x1=$[2][1],W.y1=$[2][2];else if($&&E==="drawline")W.type="line",W.x0=$[0][1],W.y0=$[0][2],W.x1=$[1][1],W.y1=$[1][2];else if($&&E==="drawcircle"){W.type="circle";var re=$[M][1],ne=$[v][1],ue=$[p][1],J=$[r][1],X=$[M][2],oe=$[v][2],Y=$[p][2],q=$[r][2],se=k.xaxis&&(k.xaxis.type==="date"||k.xaxis.type==="log"),Q=k.yaxis&&(k.yaxis.type==="date"||k.yaxis.type==="log");se&&(re=f(k.xaxis,re),ne=f(k.xaxis,ne),ue=f(k.xaxis,ue),J=f(k.xaxis,J)),Q&&(X=f(k.yaxis,X),oe=f(k.yaxis,oe),Y=f(k.yaxis,Y),q=f(k.yaxis,q));var K=(ne+J)/2,le=(X+Y)/2,ie=(J-ne+ue-re)/2,ce=(q-oe+Y-X)/2,ye=o({x0:K,y0:le,x1:K+ie*t,y1:le+ce*i});se&&(ye.x0=u(k.xaxis,ye.x0),ye.x1=u(k.xaxis,ye.x1)),Q&&(ye.y0=u(k.yaxis,ye.y0),ye.y1=u(k.yaxis,ye.y1)),W.x0=ye.x0,W.y0=ye.y0,W.x1=ye.x1,W.y1=ye.y1}else W.type="path",B&&F&&d(V,B,F),W.path=c(V),$=null;return W}j.exports={newShapes:w,createShapeObj:A}},1936:function(j){function H(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}j.exports={clearOutlineControllers:H,clearOutline:e}},65152:function(j,H,e){var g=e(85448),P=e(3400),a=e(54460);H.rangeToShapePosition=function(M){return M.type==="log"?M.r2d:function(v){return v}},H.shapePositionToRange=function(M){return M.type==="log"?M.d2r:function(v){return v}},H.decodeDate=function(M){return function(v){return v.replace&&(v=v.replace("_"," ")),M(v)}},H.encodeDate=function(M){return function(v){return M(v).replace(" ","_")}},H.extractPathCoords=function(M,v,p){var r=[],t=M.match(g.segmentRE);return t.forEach(function(i){var n=v[i.charAt(0)].drawn;if(n!==void 0){var u=i.substr(1).match(g.paramRE);if(!(!u||u.length<n)){var f=u[n],l=p?f:P.cleanNumber(f);r.push(l)}}}),r},H.getDataToPixel=function(M,v,p,r){var t=M._fullLayout._size,i;if(v)if(r==="domain")i=function(u){return v._length*(p?1-u:u)+v._offset};else{var n=H.shapePositionToRange(v);i=function(u){return v._offset+v.r2p(n(u,!0))},v.type==="date"&&(i=H.decodeDate(i))}else p?i=function(u){return t.t+t.h*(1-u)}:i=function(u){return t.l+t.w*u};return i},H.getPixelToData=function(M,v,p,r){var t=M._fullLayout._size,i;if(v)if(r==="domain")i=function(u){var f=(u-v._offset)/v._length;return p?1-f:f};else{var n=H.rangeToShapePosition(v);i=function(u){return n(v.p2r(u-v._offset))}}else p?i=function(u){return 1-(u-t.t)/t.h}:i=function(u){return(u-t.l)/t.w};return i},H.roundPositionForSharpStrokeRendering=function(M,v){var p=Math.round(v%2)===1,r=Math.round(M);return p?r+.5:r},H.makeShapesOptionsAndPlotinfo=function(M,v){var p=M._fullLayout.shapes[v]||{},r=M._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=M._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=M._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},H.makeSelectionsOptionsAndPlotinfo=function(M,v){var p=M._fullLayout.selections[v]||{},r=M._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=M._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=M._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},H.getPathString=function(M,v){var p=v.type,r=a.getRefType(v.xref),t=a.getRefType(v.yref),i=a.getFromId(M,v.xref),n=a.getFromId(M,v.yref),u=M._fullLayout._size,f,l,y,h,S,c,o,d;if(i?r==="domain"?l=function(k){return i._offset+i._length*k}:(f=H.shapePositionToRange(i),l=function(k){return i._offset+i.r2p(f(k,!0))}):l=function(k){return u.l+u.w*k},n?t==="domain"?h=function(k){return n._offset+n._length*(1-k)}:(y=H.shapePositionToRange(n),h=function(k){return n._offset+n.r2p(y(k,!0))}):h=function(k){return u.t+u.h*(1-k)},p==="path")return i&&i.type==="date"&&(l=H.decodeDate(l)),n&&n.type==="date"&&(h=H.decodeDate(h)),x(v,l,h);if(v.xsizemode==="pixel"){var w=l(v.xanchor);S=w+v.x0,c=w+v.x1}else S=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var A=h(v.yanchor);o=A-v.y0,d=A-v.y1}else o=h(v.y0),d=h(v.y1);if(p==="line")return"M"+S+","+o+"L"+c+","+d;if(p==="rect")return"M"+S+","+o+"H"+c+"V"+d+"H"+S+"Z";var C=(S+c)/2,m=(o+d)/2,E=Math.abs(C-S),b=Math.abs(m-o),s="A"+E+","+b,L=C+E+","+m,T=C+","+(m-b);return"M"+L+s+" 0 1,1 "+T+s+" 0 0,1 "+L+"Z"};function x(M,v,p){var r=M.path,t=M.xsizemode,i=M.ysizemode,n=M.xanchor,u=M.yanchor;return r.replace(g.segmentRE,function(f){var l=0,y=f.charAt(0),h=g.paramIsX[y],S=g.paramIsY[y],c=g.numParams[y],o=f.substr(1).replace(g.paramRE,function(d){return h[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):S[l]&&(i==="pixel"?d=p(u)-Number(d):d=p(d)),l++,l>c&&(d="X"),d});return l>c&&(o=o.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+f)),y+o})}},41592:function(j,H,e){var g=e(4016);j.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:g.draw,drawOne:g.drawOne}},97728:function(j){function H(f,l){return l?l.d2l(f):f}function e(f,l){return l?l.l2d(f):f}function g(f){return f.x0}function P(f){return f.x1}function a(f){return f.y0}function x(f){return f.y1}function M(f,l){return H(f.x1,l)-H(f.x0,l)}function v(f,l,y){return H(f.y1,y)-H(f.y0,y)}function p(f,l){return Math.abs(M(f,l))}function r(f,l,y){return Math.abs(v(f,l,y))}function t(f,l,y){return f.type!=="line"?void 0:Math.sqrt(Math.pow(M(f,l),2)+Math.pow(v(f,l,y),2))}function i(f,l){return e((H(f.x1,l)+H(f.x0,l))/2,l)}function n(f,l,y){return e((H(f.y1,y)+H(f.y0,y))/2,y)}function u(f,l,y){return f.type!=="line"?void 0:v(f,l,y)/M(f,l)}j.exports={x0:g,x1:P,y0:a,y1:x,slope:u,dx:M,dy:v,width:p,height:r,length:t,xcenter:i,ycenter:n}},89861:function(j,H,e){var g=e(25376),P=e(66741),a=e(92880).extendDeepAll,x=e(67824).overrideAll,M=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});j.exports=x(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(j){j.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(j,H,e){var g=e(3400),P=e(51272),a=e(89861),x=e(60876),M=x.name,v=a.steps;j.exports=function(i,n){P(i,n,{name:M,handleItemDefaults:p})};function p(t,i,n){function u(d,w){return g.coerce(t,i,a,d,w)}for(var f=P(t,i,{name:"steps",handleItemDefaults:r}),l=0,y=0;y<f.length;y++)f[y].visible&&l++;var h;if(l<2?h=i.visible=!1:h=u("visible"),!!h){i._stepCount=l;var S=i._visibleSteps=g.filterVisible(f),c=u("active");(f[c]||{}).visible||(i.active=S[0]._index),u("x"),u("y"),g.noneOrAll(t,i,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),g.coerceFont(u,"font",n.font);var o=u("currentvalue.visible");o&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),g.coerceFont(u,"currentvalue.font",i.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function r(t,i){function n(l,y){return g.coerce(t,i,v,l,y)}var u;if(t.method!=="skip"&&!Array.isArray(t.args)?u=i.visible=!1:u=n("visible"),u){n("method"),n("args");var f=n("label","step-"+i._index);n("value",f),n("execute")}}},79664:function(j,H,e){var g=e(33428),P=e(7316),a=e(76308),x=e(43616),M=e(3400),v=M.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),i=e(84284),n=i.LINE_SPACING,u=i.FROM_TL,f=i.FROM_BR;j.exports=function(O){var N=O._context.staticPlot,z=O._fullLayout,V=y(z,O),W=z._infolayer.selectAll("g."+t.containerClassName).data(V.length>0?[0]:[]);W.enter().append("g").classed(t.containerClassName,!0).style("cursor",N?null:"ew-resize");function $(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),P.autoMargin(O,l(J))}if(W.exit().each(function(){g.select(this).selectAll("g."+t.groupClassName).each($)}).remove(),V.length!==0){var re=W.selectAll("g."+t.groupClassName).data(V,h);re.enter().append("g").classed(t.groupClassName,!0),re.exit().each($).remove();for(var ne=0;ne<V.length;ne++){var ue=V[ne];S(O,ue)}re.each(function(J){var X=g.select(this);s(J),P.manageCommandObserver(O,J,J._visibleSteps,function(oe){var Y=X.data()[0];Y.active!==oe.index&&(Y._dragging||m(O,X,Y,oe.index,!1,!0))}),c(O,g.select(this),J)})}};function l(F){return t.autoMarginIdRoot+F._index}function y(F,O){for(var N=F[t.name],z=[],V=0;V<N.length;V++){var W=N[V];W.visible&&(W._gd=O,z.push(W))}return z}function h(F){return F._index}function S(F,O){var N=x.tester.selectAll("g."+t.labelGroupClass).data(O._visibleSteps);N.enter().append("g").classed(t.labelGroupClass,!0);var z=0,V=0;N.each(function(q){var se=g.select(this),Q=w(se,{step:q},O),K=Q.node();if(K){var le=x.bBox(K);V=Math.max(V,le.height),z=Math.max(z,le.width)}}),N.remove();var W=O._dims={};W.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var $=F._fullLayout._size;W.lx=$.l+$.w*O.x,W.ly=$.t+$.h*(1-O.y),O.lenmode==="fraction"?W.outerLength=Math.round($.w*O.len):W.outerLength=O.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-O.pad.l-O.pad.r);var re=W.inputAreaLength-2*t.stepInset,ne=re/(O._stepCount-1),ue=z+t.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(ue/ne)),W.labelHeight=V,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,O.currentvalue.visible){var J=x.tester.append("g");N.each(function(q){var se=o(J,O,q.label),Q=se.node()&&x.bBox(se.node())||{width:0,height:0},K=p.lineCount(se);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(Q.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(Q.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,K)}),W.currentValueTotalHeight=W.currentValueHeight+O.currentvalue.offset,J.remove()}W.height=W.currentValueTotalHeight+t.tickOffset+O.ticklen+t.labelOffset+W.labelHeight+O.pad.t+O.pad.b;var X="left";M.isRightAnchor(O)&&(W.lx-=W.outerLength,X="right"),M.isCenterAnchor(O)&&(W.lx-=W.outerLength/2,X="center");var oe="top";M.isBottomAnchor(O)&&(W.ly-=W.height,oe="bottom"),M.isMiddleAnchor(O)&&(W.ly-=W.height/2,oe="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var Y={y:O.y,b:W.height*f[oe],t:W.height*u[oe]};O.lenmode==="fraction"?(Y.l=0,Y.xl=O.x-O.len*u[X],Y.r=0,Y.xr=O.x+O.len*f[X]):(Y.x=O.x,Y.l=W.outerLength*u[X],Y.r=W.outerLength*f[X]),P.autoMargin(F,l(O),Y)}function c(F,O,N){(N.steps[N.active]||{}).visible||(N.active=N._visibleSteps[0]._index),O.call(o,N).call(B,N).call(A,N).call(b,N).call(_,F,N).call(d,F,N);var z=N._dims;x.setTranslate(O,z.lx+N.pad.l,z.ly+N.pad.t),O.call(L,N,!1),O.call(o,N)}function o(F,O,N){if(O.currentvalue.visible){var z=O._dims,V,W;switch(O.currentvalue.xanchor){case"right":V=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,W="left";break;case"center":V=z.inputAreaLength*.5,W="middle";break;default:V=t.currentValueInset,W="left"}var $=M.ensureSingle(F,"text",t.labelClass,function(oe){oe.attr({"text-anchor":W,"data-notex":1})}),re=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof N=="string")re+=N;else{var ne=O.steps[O.active].label,ue=O._gd._fullLayout._meta;ue&&(ne=M.templateString(ne,ue)),re+=ne}O.currentvalue.suffix&&(re+=O.currentvalue.suffix),$.call(x.font,O.currentvalue.font).text(re).call(p.convertToTspans,O._gd);var J=p.lineCount($),X=(z.currentValueMaxLines+1-J)*O.currentvalue.font.size*n;return p.positionText($,V,X),$}}function d(F,O,N){var z=M.ensureSingle(F,"rect",t.gripRectClass,function(V){V.call(E,O,F,N).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(a.stroke,N.bordercolor).call(a.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px")}function w(F,O,N){var z=M.ensureSingle(F,"text",t.labelClass,function($){$.attr({"text-anchor":"middle","data-notex":1})}),V=O.step.label,W=N._gd._fullLayout._meta;return W&&(V=M.templateString(V,W)),z.call(x.font,N.font).text(V).call(p.convertToTspans,N._gd),z}function A(F,O){var N=M.ensureSingle(F,"g",t.labelsClass),z=O._dims,V=N.selectAll("g."+t.labelGroupClass).data(z.labelSteps);V.enter().append("g").classed(t.labelGroupClass,!0),V.exit().remove(),V.each(function(W){var $=g.select(this);$.call(w,W,O),x.setTranslate($,T(O,W.fraction),t.tickOffset+O.ticklen+O.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function C(F,O,N,z,V){var W=Math.round(z*(N._stepCount-1)),$=N._visibleSteps[W]._index;$!==N.active&&m(F,O,N,$,!0,V)}function m(F,O,N,z,V,W){var $=N.active;N.active=z,r(F.layout,t.name,N).applyUpdate("active",z);var re=N.steps[N.active];O.call(L,N,W),O.call(o,N),F.emit("plotly_sliderchange",{slider:N,step:N.steps[N.active],interaction:V,previousActive:$}),re&&re.method&&V&&(O._nextMethod?(O._nextMethod.step=re,O._nextMethod.doCallback=V,O._nextMethod.doTransition=W):(O._nextMethod={step:re,doCallback:V,doTransition:W},O._nextMethodRaf=window.requestAnimationFrame(function(){var ne=O._nextMethod.step;ne.method&&(ne.execute&&P.executeAPICommand(F,ne.method,ne.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function E(F,O,N){if(O._context.staticPlot)return;var z=N.node(),V=g.select(O);function W(){return N.data()[0]}function $(){var re=W();O.emit("plotly_sliderstart",{slider:re});var ne=N.select("."+t.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),ne.call(a.fill,re.activebgcolor);var ue=k(re,g.mouse(z)[0]);C(O,N,re,ue,!0),re._dragging=!0;function J(){var oe=W(),Y=k(oe,g.mouse(z)[0]);C(O,N,oe,Y,!1)}V.on("mousemove",J),V.on("touchmove",J);function X(){var oe=W();oe._dragging=!1,ne.call(a.fill,oe.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),O.emit("plotly_sliderend",{slider:oe,step:oe.steps[oe.active]})}V.on("mouseup",X),V.on("touchend",X)}F.on("mousedown",$),F.on("touchstart",$)}function b(F,O){var N=F.selectAll("rect."+t.tickRectClass).data(O._visibleSteps),z=O._dims;N.enter().append("rect").classed(t.tickRectClass,!0),N.exit().remove(),N.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),N.each(function(V,W){var $=W%z.labelStride===0,re=g.select(this);re.attr({height:$?O.ticklen:O.minorticklen}).call(a.fill,O.tickcolor),x.setTranslate(re,T(O,W/(O._stepCount-1))-.5*O.tickwidth,($?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function s(F){var O=F._dims;O.labelSteps=[];for(var N=F._stepCount,z=0;z<N;z+=O.labelStride)O.labelSteps.push({fraction:z/(N-1),step:F._visibleSteps[z]})}function L(F,O,N){for(var z=F.select("rect."+t.gripRectClass),V=0,W=0;W<O._stepCount;W++)if(O._visibleSteps[W]._index===O.active){V=W;break}var $=T(O,V/(O._stepCount-1));if(!O._invokingCommand){var re=z;N&&O.transition.duration>0&&(re=re.transition().duration(O.transition.duration).ease(O.transition.easing)),re.attr("transform",v($-t.gripWidth*.5,O._dims.currentValueTotalHeight))}}function T(F,O){var N=F._dims;return N.inputAreaStart+t.stepInset+(N.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,O))}function k(F,O){var N=F._dims;return Math.min(1,Math.max(0,(O-t.stepInset-N.inputAreaStart)/(N.inputAreaLength-2*t.stepInset-2*N.inputAreaStart)))}function _(F,O,N){var z=N._dims,V=M.ensureSingle(F,"rect",t.railTouchRectClass,function(W){W.call(E,O,F,N).style("pointer-events","all")});V.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+N.ticklen+z.labelHeight)}).call(a.fill,N.bgcolor).attr("opacity",0),x.setTranslate(V,0,z.currentValueTotalHeight)}function B(F,O){var N=O._dims,z=N.inputAreaLength-t.railInset*2,V=M.ensureSingle(F,"rect",t.railRectClass);V.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),x.setTranslate(V,t.railInset,(N.inputAreaWidth-t.railWidth)*.5+N.currentValueTotalHeight)}},97544:function(j,H,e){var g=e(60876);j.exports={moduleType:"component",name:g.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(j,H,e){var g=e(33428),P=e(38248),a=e(7316),x=e(24040),M=e(3400),v=M.strTranslate,p=e(43616),r=e(76308),t=e(72736),i=e(13448),n=e(84284).OPPOSITE_SIDE,u=/ [XY][0-9]* /;function f(l,y,h){var S=h.propContainer,c=h.propName,o=h.placeholder,d=h.traceIndex,w=h.avoid||{},A=h.attributes,C=h.transform,m=h.containerGroup,E=l._fullLayout,b=1,s=!1,L=S.title,T=(L&&L.text?L.text:"").trim(),k=L&&L.font?L.font:{},_=k.family,B=k.size,F=k.color,O;c==="title.text"?O="titleText":c.indexOf("axis")!==-1?O="axisTitleText":c.indexOf("colorbar"!==-1)&&(O="colorbarTitleText");var N=l._context.edits[O];T===""?b=0:T.replace(u," % ")===o.replace(u," % ")&&(b=.2,s=!0,N||(T="")),h._meta?T=M.templateString(T,h._meta):E._meta&&(T=M.templateString(T,E._meta));var z=T||N,V;m||(m=M.ensureSingle(E._infolayer,"g","g-"+y),V=E._hColorbarMoveTitle);var W=m.selectAll("text").data(z?[0]:[]);if(W.enter().append("text"),W.text(T).attr("class",y),W.exit().remove(),!z)return m;function $(J){M.syncOrAsync([re,ne],J)}function re(J){var X;return!C&&V&&(C={}),C?(X="",C.rotate&&(X+="rotate("+[C.rotate,A.x,A.y]+")"),(C.offset||V)&&(X+=v(0,(C.offset||0)-(V||0)))):X=null,J.attr("transform",X),J.style({"font-family":_,"font-size":g.round(B,2)+"px",fill:r.rgb(F),opacity:b*r.opacity(F),"font-weight":a.fontWeight}).attr(A).call(t.convertToTspans,l),a.previousPromises(l)}function ne(J){var X=g.select(J.node().parentNode);if(w&&w.selection&&w.side&&T){X.attr("transform",null);var oe=n[w.side],Y=w.side==="left"||w.side==="top"?-1:1,q=P(w.pad)?w.pad:2,se=p.bBox(X.node()),Q={t:0,b:0,l:0,r:0},K=l._fullLayout._reservedMargin;for(var le in K)for(var ie in K[le]){var ce=K[le][ie];Q[ie]=Math.max(Q[ie],ce)}var ye={left:Q.l,top:Q.t,right:E.width-Q.r,bottom:E.height-Q.b},Ce=w.maxShift||Y*(ye[w.side]-se[w.side]),Ae=0;if(Ce<0)Ae=Ce;else{var ke=w.offsetLeft||0,we=w.offsetTop||0;se.left-=ke,se.right-=ke,se.top-=we,se.bottom-=we,w.selection.each(function(){var xe=p.bBox(this);M.bBoxIntersect(se,xe,q)&&(Ae=Math.max(Ae,Y*(xe[w.side]-se[oe])+q))}),Ae=Math.min(Ce,Ae),S._titleScoot=Math.abs(Ae)}if(Ae>0||Ce<0){var Ee={left:[-Ae,0],right:[Ae,0],top:[0,-Ae],bottom:[0,Ae]}[w.side];X.attr("transform",v(Ee[0],Ee[1]))}}}W.call($);function ue(){b=0,s=!0,W.text(o).on("mouseover.opacity",function(){g.select(this).transition().duration(i.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(i.HIDE_PLACEHOLDER).style("opacity",0)})}return N&&(T?W.on(".opacity",null):ue(),W.call(t.makeEditable,{gd:l}).on("edit",function(J){d!==void 0?x.call("_guiRestyle",l,c,J,d):x.call("_guiRelayout",l,c,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(J){this.text(J||" ").call(t.positionText,A.x,A.y)})),W.classed("js-placeholder",s),m}j.exports={draw:f}},88444:function(j,H,e){var g=e(25376),P=e(22548),a=e(92880).extendFlat,x=e(67824).overrideAll,M=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});j.exports=x(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(M({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(j){j.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(j,H,e){var g=e(3400),P=e(51272),a=e(88444),x=e(73712),M=x.name,v=a.buttons;j.exports=function(i,n){var u={name:M,handleItemDefaults:p};P(i,n,u)};function p(t,i,n){function u(y,h){return g.coerce(t,i,a,y,h)}var f=P(t,i,{name:"buttons",handleItemDefaults:r}),l=u("visible",f.length>0);l&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),g.noneOrAll(t,i,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),g.coerceFont(u,"font",n.font),u("bgcolor",n.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function r(t,i){function n(f,l){return g.coerce(t,i,v,f,l)}var u=n("visible",t.method==="skip"||Array.isArray(t.args));u&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(j,H,e){var g=e(33428),P=e(7316),a=e(76308),x=e(43616),M=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),i=e(37400);j.exports=function(k){var _=k._fullLayout,B=M.filterVisible(_[t.name]);function F(ne){P.autoMargin(k,b(ne))}var O=_._menulayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);if(O.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){g.select(this).selectAll("g."+t.headerGroupClassName).each(F)}).remove(),B.length!==0){var N=O.selectAll("g."+t.headerGroupClassName).data(B,n);N.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=M.ensureSingle(O,"g",t.dropdownButtonGroupClassName,function(ne){ne.style("pointer-events","all")}),V=0;V<B.length;V++){var W=B[V];E(k,W)}var $="updatemenus"+_._uid,re=new i(k,z,$);N.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(L)),N.exit().each(function(ne){z.call(L),F(ne)}).remove(),N.each(function(ne){var ue=g.select(this),J=ne.type==="dropdown"?z:null;P.manageCommandObserver(k,ne,ne.buttons,function(X){l(k,ne,ne.buttons[X.index],ue,J,re,X.index,!0)}),ne.type==="dropdown"?(y(k,ue,z,re,ne),f(z,ne)&&h(k,ue,z,re,ne)):h(k,ue,null,null,ne)})}};function n(T){return T._index}function u(T){return+T.attr(t.menuIndexAttrName)==-1}function f(T,k){return+T.attr(t.menuIndexAttrName)===k._index}function l(T,k,_,B,F,O,N,z){k.active=N,p(T.layout,t.name,k).applyUpdate("active",N),k.type==="buttons"?h(T,B,null,null,k):k.type==="dropdown"&&(F.attr(t.menuIndexAttrName,"-1"),y(T,B,F,O,k),z||h(T,B,F,O,k))}function y(T,k,_,B,F){var O=M.ensureSingle(k,"g",t.headerClassName,function(ne){ne.style("pointer-events","all")}),N=F._dims,z=F.active,V=F.buttons[z]||t.blankHeaderOpts,W={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},$={width:N.headerWidth,height:N.headerHeight};O.call(o,F,V,T).call(s,F,W,$);var re=M.ensureSingle(k,"text",t.headerArrowClassName,function(ne){ne.attr("text-anchor","end").call(x.font,F.font).text(t.arrowSymbol[F.direction])});re.attr({x:N.headerWidth-t.arrowOffsetX+F.pad.l,y:N.headerHeight/2+t.textOffsetY+F.pad.t}),O.on("click",function(){_.call(L,String(f(_,F)?-1:F._index)),h(T,k,_,B,F)}),O.on("mouseover",function(){O.call(C)}),O.on("mouseout",function(){O.call(m,F)}),x.setTranslate(k,N.lx,N.ly)}function h(T,k,_,B,F){_||(_=k,_.attr("pointer-events","all"));var O=!u(_)||F.type==="buttons"?F.buttons:[],N=F.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=_.selectAll("g."+N).data(M.filterVisible(O)),V=z.enter().append("g").classed(N,!0),W=z.exit();F.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var $=0,re=0,ne=F._dims,ue=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(ue?re=ne.headerHeight+t.gapButtonHeader:$=ne.headerWidth+t.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(re=-t.gapButtonHeader+t.gapButton-ne.openHeight),F.type==="dropdown"&&F.direction==="left"&&($=-t.gapButtonHeader+t.gapButton-ne.openWidth);var J={x:ne.lx+$+F.pad.l,y:ne.ly+re+F.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},X={l:J.x+F.borderwidth,t:J.y+F.borderwidth};z.each(function(oe,Y){var q=g.select(this);q.call(o,F,oe,T).call(s,F,J),q.on("click",function(){g.event.defaultPrevented||(oe.execute&&(oe.args2&&F.active===Y?(l(T,F,oe,k,_,B,-1),P.executeAPICommand(T,oe.method,oe.args2)):(l(T,F,oe,k,_,B,Y),P.executeAPICommand(T,oe.method,oe.args))),T.emit("plotly_buttonclicked",{menu:F,button:oe,active:F.active}))}),q.on("mouseover",function(){q.call(C)}),q.on("mouseout",function(){q.call(m,F),z.call(A,F)})}),z.call(A,F),ue?(X.w=Math.max(ne.openWidth,ne.headerWidth),X.h=J.y-X.t):(X.w=J.x-X.l,X.h=Math.max(ne.openHeight,ne.headerHeight)),X.direction=F.direction,B&&(z.size()?S(T,k,_,B,F,X):c(B))}function S(T,k,_,B,F,O){var N=F.direction,z=N==="up"||N==="down",V=F._dims,W=F.active,$,re,ne;if(z)for(re=0,ne=0;ne<W;ne++)re+=V.heights[ne]+t.gapButton;else for($=0,ne=0;ne<W;ne++)$+=V.widths[ne]+t.gapButton;B.enable(O,$,re),B.hbar&&B.hbar.attr("opacity","0").transition().attr("opacity","1"),B.vbar&&B.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(T){var k=!!T.hbar,_=!!T.vbar;k&&T.hbar.transition().attr("opacity","0").each("end",function(){k=!1,_||T.disable()}),_&&T.vbar.transition().attr("opacity","0").each("end",function(){_=!1,k||T.disable()})}function o(T,k,_,B){T.call(d,k).call(w,k,_,B)}function d(T,k){var _=M.ensureSingle(T,"rect",t.itemRectClassName,function(B){B.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});_.call(a.stroke,k.bordercolor).call(a.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function w(T,k,_,B){var F=M.ensureSingle(T,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),O=_.label,N=B._fullLayout._meta;N&&(O=M.templateString(O,N)),F.call(x.font,k.font).text(O).call(v.convertToTspans,B)}function A(T,k){var _=k.active;T.each(function(B,F){var O=g.select(this);F===_&&k.showactive&&O.select("rect."+t.itemRectClassName).call(a.fill,t.activeColor)})}function C(T){T.select("rect."+t.itemRectClassName).call(a.fill,t.hoverColor)}function m(T,k){T.select("rect."+t.itemRectClassName).call(a.fill,k.bgcolor)}function E(T,k){var _=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},B=x.tester.selectAll("g."+t.dropdownButtonClassName).data(M.filterVisible(k.buttons));B.enter().append("g").classed(t.dropdownButtonClassName,!0);var F=["up","down"].indexOf(k.direction)!==-1;B.each(function($,re){var ne=g.select(this);ne.call(o,k,$,T);var ue=ne.select("."+t.itemTextClassName),J=ue.node()&&x.bBox(ue.node()).width,X=Math.max(J+t.textPadX,t.minWidth),oe=k.font.size*r,Y=v.lineCount(ue),q=Math.max(oe*Y,t.minHeight)+t.textOffsetY;q=Math.ceil(q),X=Math.ceil(X),_.widths[re]=X,_.heights[re]=q,_.height1=Math.max(_.height1,q),_.width1=Math.max(_.width1,X),F?(_.totalWidth=Math.max(_.totalWidth,X),_.openWidth=_.totalWidth,_.totalHeight+=q+t.gapButton,_.openHeight+=q+t.gapButton):(_.totalWidth+=X+t.gapButton,_.openWidth+=X+t.gapButton,_.totalHeight=Math.max(_.totalHeight,q),_.openHeight=_.totalHeight)}),F?_.totalHeight-=t.gapButton:_.totalWidth-=t.gapButton,_.headerWidth=_.width1+t.arrowPadX,_.headerHeight=_.height1,k.type==="dropdown"&&(F?(_.width1+=t.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=t.arrowPadX),B.remove();var O=_.totalWidth+k.pad.l+k.pad.r,N=_.totalHeight+k.pad.t+k.pad.b,z=T._fullLayout._size;_.lx=z.l+z.w*k.x,_.ly=z.t+z.h*(1-k.y);var V="left";M.isRightAnchor(k)&&(_.lx-=O,V="right"),M.isCenterAnchor(k)&&(_.lx-=O/2,V="center");var W="top";M.isBottomAnchor(k)&&(_.ly-=N,W="bottom"),M.isMiddleAnchor(k)&&(_.ly-=N/2,W="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),P.autoMargin(T,b(k),{x:k.x,y:k.y,l:O*({right:1,center:.5}[V]||0),r:O*({left:1,center:.5}[V]||0),b:N*({top:1,middle:.5}[W]||0),t:N*({bottom:1,middle:.5}[W]||0)})}function b(T){return t.autoMarginIdRoot+T._index}function s(T,k,_,B){B=B||{};var F=T.select("."+t.itemRectClassName),O=T.select("."+t.itemTextClassName),N=k.borderwidth,z=_.index,V=k._dims;x.setTranslate(T,N+_.x,N+_.y);var W=["up","down"].indexOf(k.direction)!==-1,$=B.height||(W?V.heights[z]:V.height1);F.attr({x:0,y:0,width:B.width||(W?V.width1:V.widths[z]),height:$});var re=k.font.size*r,ne=v.lineCount(O),ue=(ne-1)*re/2;v.positionText(O,t.textOffsetX,$/2-ue+t.textOffsetY),W?_.y+=V.heights[z]+_.yPad:_.x+=V.widths[z]+_.xPad,_.index++}function L(T,k){T.attr(t.menuIndexAttrName,k||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(j,H,e){var g=e(73712);j.exports={moduleType:"component",name:g.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(j,H,e){j.exports=M;var g=e(33428),P=e(76308),a=e(43616),x=e(3400);function M(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(p,r,t){var i=this.gd._fullLayout,n=i.width,u=i.height;this.position=p;var f=this.position.l,l=this.position.w,y=this.position.t,h=this.position.h,S=this.position.direction,c=S==="down",o=S==="left",d=S==="right",w=S==="up",A=l,C=h,m,E,b,s;!c&&!o&&!d&&!w&&(this.position.direction="down",c=!0);var L=c||w;L?(m=f,E=m+A,c?(b=y,s=Math.min(b+C,u),C=s-b):(s=y+C,b=Math.max(s-C,0),C=s-b)):(b=y,s=b+C,o?(E=f+A,m=Math.max(E-A,0),A=E-m):(m=f,E=Math.min(m+A,n),A=E-m)),this._box={l:m,t:b,w:A,h:C};var T=l>A,k=M.barLength+2*M.barPad,_=M.barWidth+2*M.barPad,B=f,F=y+h;F+_>u&&(F=u-_);var O=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,M.barColor),T?(this.hbar=O.attr({rx:M.barRadius,ry:M.barRadius,x:B,y:F,width:k,height:_}),this._hbarXMin=B+k/2,this._hbarTranslateMax=A-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var N=h>C,z=M.barWidth+2*M.barPad,V=M.barLength+2*M.barPad,W=f+l,$=y;W+z>n&&(W=n-z);var re=this.container.selectAll("rect.scrollbar-vertical").data(N?[0]:[]);re.exit().on(".drag",null).remove(),re.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,M.barColor),N?(this.vbar=re.attr({rx:M.barRadius,ry:M.barRadius,x:W,y:$,width:z,height:V}),this._vbarYMin=$+V/2,this._vbarTranslateMax=C-V):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ne=this.id,ue=m-.5,J=N?E+z+.5:E+.5,X=b-.5,oe=T?s+_+.5:s+.5,Y=i._topdefs.selectAll("#"+ne).data(T||N?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",ne).append("rect"),T||N?(this._clipRect=Y.select("rect").attr({x:Math.floor(ue),y:Math.floor(X),width:Math.ceil(J)-Math.floor(ue),height:Math.ceil(oe)-Math.floor(X)}),this.container.call(a.setClipUrl,ne,this.gd),this.bg.attr({x:f,y,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),T||N){var q=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var se=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(se),N&&this.vbar.on(".drag",null).call(se)}this.setTranslate(r,t)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=g.event.dx),this.vbar&&(r-=g.event.dy),this.setTranslate(p,r)},M.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=g.event.deltaY),this.vbar&&(r+=g.event.deltaY),this.setTranslate(p,r)},M.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,i=t+this._hbarTranslateMax,n=x.constrain(g.event.x,t,i),u=(n-t)/(i-t),f=this.position.w-this._box.w;p=u*f}if(this.vbar){var l=r+this._vbarYMin,y=l+this._vbarTranslateMax,h=x.constrain(g.event.y,l,y),S=(h-l)/(y-l),c=this.position.h-this._box.h;r=S*c}this.setTranslate(p,r)},M.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(p=x.constrain(p||0,0,t),r=x.constrain(r||0,0,i),this.translateX=p,this.translateY=r,this.container.call(a.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(a.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var u=r/i;this.vbar.call(a.setTranslate,p,r+u*this._vbarTranslateMax)}}},84284:function(j){j.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(j){j.exports={axisRefDescription:function(H,e,g){return["If set to a",H,"axis id (e.g. *"+H+"* or","*"+H+"2*), the `"+H+"` position refers to a",H,"coordinate. If set to *paper*, the `"+H+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",H,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+H+"2 domain* refers to the domain of the second",H," axis and a",H,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",H,"axis."].join(" ")}}},48164:function(j){j.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(j){j.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(j){j.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(j){j.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(j){j.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(j){j.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(j){j.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(j,H){H.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],H.STYLE=H.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(j,H){H.xmlns="http://www.w3.org/2000/xmlns/",H.svg="http://www.w3.org/2000/svg",H.xlink="http://www.w3.org/1999/xlink",H.svgAttrs={xmlns:H.svg,"xmlns:xlink":H.xlink}},64884:function(j,H,e){H.version=e(25788).version,e(88324),e(79288);for(var g=e(24040),P=H.register=g.register,a=e(22448),x=Object.keys(a),M=0;M<x.length;M++){var v=x[M];v.charAt(0)!=="_"&&(H[v]=a[v]),P({moduleType:"apiMethod",name:v,fn:a[v]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),H.Icons=e(9224);var p=e(93024),r=e(7316);H.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},H.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},H.Snapshot=e(78904),H.PlotSchema=e(73060)},9224:function(j){j.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(j,H){H.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},H.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},H.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},H.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},H.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},H.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},11864:function(j,H,e){var g=e(20435),P=g.mod,a=g.modHalf,x=Math.PI,M=2*x;function v(S){return S/180*x}function p(S){return S/x*180}function r(S){return Math.abs(S[1]-S[0])>M-1e-14}function t(S,c){return a(c-S,M)}function i(S,c){return Math.abs(t(S,c))}function n(S,c){if(r(c))return!0;var o,d;c[0]<c[1]?(o=c[0],d=c[1]):(o=c[1],d=c[0]),o=P(o,M),d=P(d,M),o>d&&(d+=M);var w=P(S,M),A=w+M;return w>=o&&w<=d||A>=o&&A<=d}function u(S,c,o,d){if(!n(c,d))return!1;var w,A;return o[0]<o[1]?(w=o[0],A=o[1]):(w=o[1],A=o[0]),S>=w&&S<=A}function f(S,c,o,d,w,A,C){w=w||0,A=A||0;var m=r([o,d]),E,b,s,L,T;m?(E=0,b=x,s=M):o<d?(E=o,s=d):(E=d,s=o),S<c?(L=S,T=c):(L=c,T=S);function k(O,N){return[O*Math.cos(N)+w,A-O*Math.sin(N)]}var _=Math.abs(s-E)<=x?0:1;function B(O,N,z){return"A"+[O,O]+" "+[0,_,z]+" "+k(O,N)}var F;return m?L===null?F="M"+k(T,E)+B(T,b,0)+B(T,s,0)+"Z":F="M"+k(L,E)+B(L,b,0)+B(L,s,0)+"ZM"+k(T,E)+B(T,b,1)+B(T,s,1)+"Z":L===null?(F="M"+k(T,E)+B(T,s,0),C&&(F+="L0,0Z")):F="M"+k(L,E)+"L"+k(T,E)+B(T,s,0)+"L"+k(L,s)+B(L,E,1)+"Z",F}function l(S,c,o,d,w){return f(null,S,c,o,d,w,0)}function y(S,c,o,d,w){return f(null,S,c,o,d,w,1)}function h(S,c,o,d,w,A){return f(S,c,o,d,w,A,1)}j.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:i,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:u,pathArc:l,pathSector:y,pathAnnulus:h}},38116:function(j,H,e){var g=e(83160).decode,P=e(63620),a=Array.isArray,x=ArrayBuffer,M=DataView;function v(f){return x.isView(f)&&!(f instanceof M)}H.isTypedArray=v;function p(f){return a(f)||v(f)}H.isArrayOrTypedArray=p;function r(f){return!p(f[0])}H.isArray1D=r,H.ensureArray=function(f,l){return a(f)||(f=[]),f.length=l,f};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function i(f){return f.constructor===ArrayBuffer}H.isArrayBuffer=i,H.decodeTypedArraySpec=function(f){var l=[],y=n(f),h=y.dtype,S=t[h];if(!S)throw new Error('Error in dtype: "'+h+'"');var c=S.BYTES_PER_ELEMENT,o=y.bdata;i(o)||(o=g(o));var d=y.shape===void 0?[o.byteLength/c]:(""+y.shape).split(",");d.reverse();var w=d.length,A,C,m=+d[0],E=c*m,b=0;if(w===1)l=new S(o);else if(w===2)for(A=+d[1],C=0;C<A;C++)l[C]=new S(o,b,m),b+=E;else if(w===3){A=+d[1];for(var s=+d[2],L=0;L<s;L++)for(l[L]=[],C=0;C<A;C++)l[L][C]=new S(o,b,m),b+=E}else throw new Error("ndim: "+w+'is not supported with the shape:"'+y.shape+'"');return l.bdata=y.bdata,l.dtype=y.dtype,l.shape=d.reverse().join(","),f._inputArray=l,l},H.isTypedArraySpec=function(f){return P(f)&&f.hasOwnProperty("dtype")&&typeof f.dtype=="string"&&f.hasOwnProperty("bdata")&&(typeof f.bdata=="string"||i(f.bdata))&&(f.shape===void 0||f.hasOwnProperty("shape")&&(typeof f.shape=="string"||typeof f.shape=="number"))};function n(f){return{bdata:f.bdata,dtype:f.dtype,shape:f.shape}}H.concat=function(){var f=[],l=!0,y=0,h,S,c,o,d,w,A,C;for(c=0;c<arguments.length;c++)o=arguments[c],w=o.length,w&&(S?f.push(o):(S=o,d=w),a(o)?h=!1:(l=!1,y?h!==o.constructor&&(h=!1):h=o.constructor),y+=w);if(!y)return[];if(!f.length)return S;if(l)return S.concat.apply(S,f);if(h){for(A=new h(y),A.set(S),c=0;c<f.length;c++)o=f[c],A.set(o,d),d+=o.length;return A}for(A=new Array(y),C=0;C<S.length;C++)A[C]=S[C];for(c=0;c<f.length;c++){for(o=f[c],C=0;C<o.length;C++)A[d+C]=o[C];d+=C}return A},H.maxRowLength=function(f){return u(f,Math.max,0)},H.minRowLength=function(f){return u(f,Math.min,1/0)};function u(f,l,y){if(p(f))if(p(f[0])){for(var h=y,S=0;S<f.length;S++)h=l(h,f[S].length);return h}else return f.length;return 0}},54037:function(j,H,e){var g=e(38248),P=e(39032).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;j.exports=function(M){return typeof M=="string"&&(M=M.replace(a,"")),g(M)?Number(M):P}},73696:function(j){j.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(j){j.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(j,H,e){var g=e(38248),P=e(49760),a=e(45464),x=e(88304),M=e(76308),v=e(13448).DESELECTDIM,p=e(22296),r=e(53756).counter,t=e(20435).modHalf,i=e(38116).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;H.valObjectMeta={data_array:{coerceFunction:function(l,y,h){y.set(i(l)?l:n(l)?u(l):h)}},enumerated:{coerceFunction:function(l,y,h,S){S.coerceNumber&&(l=+l),S.values.indexOf(l)===-1?y.set(h):y.set(l)},validateFunction:function(l,y){y.coerceNumber&&(l=+l);for(var h=y.values,S=0;S<h.length;S++){var c=String(h[S]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var o=new RegExp(c.substr(1,c.length-2));if(o.test(l))return!0}else if(l===h[S])return!0}return!1}},boolean:{coerceFunction:function(l,y,h){l===!0||l===!1?y.set(l):y.set(h)}},number:{coerceFunction:function(l,y,h,S){!g(l)||S.min!==void 0&&l<S.min||S.max!==void 0&&l>S.max?y.set(h):y.set(+l)}},integer:{coerceFunction:function(l,y,h,S){l%1||!g(l)||S.min!==void 0&&l<S.min||S.max!==void 0&&l>S.max?y.set(h):y.set(+l)}},string:{coerceFunction:function(l,y,h,S){if(typeof l!="string"){var c=typeof l=="number";S.strict===!0||!c?y.set(h):y.set(String(l))}else S.noBlank&&!l?y.set(h):y.set(l)}},color:{coerceFunction:function(l,y,h){P(l).isValid()?y.set(l):y.set(h)}},colorlist:{coerceFunction:function(l,y,h){function S(c){return P(c).isValid()}!Array.isArray(l)||!l.length?y.set(h):l.every(S)?y.set(l):y.set(h)}},colorscale:{coerceFunction:function(l,y,h){y.set(x.get(l,h))}},angle:{coerceFunction:function(l,y,h){l==="auto"?y.set("auto"):g(l)?y.set(t(+l,360)):y.set(h)}},subplotid:{coerceFunction:function(l,y,h,S){var c=S.regex||r(h);if(typeof l=="string"&&c.test(l)){y.set(l);return}y.set(h)},validateFunction:function(l,y){var h=y.dflt;return l===h?!0:typeof l!="string"?!1:!!r(h).test(l)}},flaglist:{coerceFunction:function(l,y,h,S){if((S.extras||[]).indexOf(l)!==-1){y.set(l);return}if(typeof l!="string"){y.set(h);return}for(var c=l.split("+"),o=0;o<c.length;){var d=c[o];S.flags.indexOf(d)===-1||c.indexOf(d)<o?c.splice(o,1):o++}c.length?y.set(c.join("+")):y.set(h)}},any:{coerceFunction:function(l,y,h){l===void 0?y.set(h):y.set(n(l)?u(l):l)}},info_array:{coerceFunction:function(l,y,h,S){function c(B,F,O){var N,z={set:function(V){N=V}};return O===void 0&&(O=F.dflt),H.valObjectMeta[F.valType].coerceFunction(B,z,O,F),N}if(n(l)&&(l=u(l)),!i(l)){y.set(h);return}var o=S.dimensions===2||S.dimensions==="1-2"&&Array.isArray(l)&&i(l[0]),d=S.items,w=[],A=Array.isArray(d),C=A&&o&&i(d[0]),m=o&&A&&!C,E=A&&!m?d.length:l.length,b,s,L,T,k,_;if(h=Array.isArray(h)?h:[],o)for(b=0;b<E;b++)for(w[b]=[],L=i(l[b])?l[b]:[],m?k=d.length:A?k=d[b].length:k=L.length,s=0;s<k;s++)m?T=d[s]:A?T=d[b][s]:T=d,_=c(L[s],T,(h[b]||[])[s]),_!==void 0&&(w[b][s]=_);else for(b=0;b<E;b++)_=c(l[b],A?d[b]:d,h[b]),_!==void 0&&(w[b]=_);y.set(w)},validateFunction:function(l,y){if(!i(l))return!1;var h=y.items,S=Array.isArray(h),c=y.dimensions===2;if(!y.freeLength&&l.length!==h.length)return!1;for(var o=0;o<l.length;o++)if(c){if(!i(l[o])||!y.freeLength&&l[o].length!==h[o].length)return!1;for(var d=0;d<l[o].length;d++)if(!f(l[o][d],S?h[o][d]:h))return!1}else if(!f(l[o],S?h[o]:h))return!1;return!0}}},H.coerce=function(l,y,h,S,c){var o=p(h,S).get(),d=p(l,S),w=p(y,S),A=d.get(),C=y._template;if(A===void 0&&C&&(A=p(C,S).get(),C=0),c===void 0&&(c=o.dflt),o.arrayOk){if(i(A))return w.set(A),A;if(n(A))return A=u(A),w.set(A),A}var m=H.valObjectMeta[o.valType].coerceFunction;m(A,w,c,o);var E=w.get();return C&&E===c&&!f(A,o)&&(A=p(C,S).get(),m(A,w,c,o),E=w.get()),E},H.coerce2=function(l,y,h,S,c){var o=p(l,S),d=H.coerce(l,y,h,S,c),w=o.get();return w!=null?d:!1},H.coerceFont=function(l,y,h){var S={};return h=h||{},S.family=l(y+".family",h.family),S.size=l(y+".size",h.size),S.color=l(y+".color",h.color),S},H.coercePattern=function(l,y,h,S){var c=l(y+".shape");if(c){l(y+".solidity"),l(y+".size");var o=l(y+".fillmode"),d=o==="overlay";if(!S){var w=l(y+".bgcolor",d?h:void 0);l(y+".fgcolor",d?M.contrast(w):h)}l(y+".fgopacity",d?.5:1)}},H.coerceHoverinfo=function(l,y,h){var S=y._module.attributes,c=S.hoverinfo?S:a,o=c.hoverinfo,d;if(h._dataLength===1){var w=o.dflt==="all"?o.flags.slice():o.dflt.split("+");w.splice(w.indexOf("name"),1),d=w.join("+")}return H.coerce(l,y,c,"hoverinfo",d)},H.coerceSelectionMarkerOpacity=function(l,y){if(l.marker){var h=l.marker.opacity;if(h!==void 0){var S,c;!i(h)&&!l.selected&&!l.unselected&&(S=h,c=v*h),y("selected.marker.opacity",S),y("unselected.marker.opacity",c)}}};function f(l,y){var h=H.valObjectMeta[y.valType];if(y.arrayOk&&i(l))return!0;if(h.validateFunction)return h.validateFunction(l,y);var S={},c=S,o={set:function(d){c=d}};return h.coerceFunction(l,o,S,y),c!==S}H.validate=f},67555:function(j,H,e){var g=e(94336).Yn,P=e(38248),a=e(24248),x=e(20435).mod,M=e(39032),v=M.BADNUM,p=M.ONEDAY,r=M.ONEHOUR,t=M.ONEMIN,i=M.ONESEC,n=M.EPOCHJD,u=e(24040),f=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function S(F){return F&&u.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}H.dateTick0=function(F,O){var N=c(F,!!O);if(O<2)return N;var z=H.dateTime2ms(N,F);return z+=p*(O-1),H.ms2DateTime(z,0,F)};function c(F,O){return S(F)?O?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:u.getComponentMethod("calendars","CANONICAL_TICK")[F]:O?"2000-01-02":"2000-01-01"}H.dfltRange=function(F){return S(F)?u.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},H.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var o,d;H.dateTime2ms=function(F,O){if(H.isJSDate(F)){var N=F.getTimezoneOffset()*t,z=(F.getUTCMinutes()-F.getMinutes())*t+(F.getUTCSeconds()-F.getSeconds())*i+(F.getUTCMilliseconds()-F.getMilliseconds());if(z){var V=3*t;N=N-V/2+x(z-N+V/2,V)}return F=Number(F)-N,F>=o&&F<=d?F:v}if(typeof F!="string"&&typeof F!="number")return v;F=String(F);var W=S(O),$=F.charAt(0);W&&($==="G"||$==="g")&&(F=F.substr(1),O="");var re=W&&O.substr(0,7)==="chinese",ne=F.match(re?y:l);if(!ne)return v;var ue=ne[1],J=ne[3]||"1",X=Number(ne[5]||1),oe=Number(ne[7]||0),Y=Number(ne[9]||0),q=Number(ne[11]||0);if(W){if(ue.length===2)return v;ue=Number(ue);var se;try{var Q=u.getComponentMethod("calendars","getCal")(O);if(re){var K=J.charAt(J.length-1)==="i";J=parseInt(J,10),se=Q.newDate(ue,Q.toMonthIndex(ue,J,K),X)}else se=Q.newDate(ue,Number(J),X)}catch{return v}return se?(se.toJD()-n)*p+oe*r+Y*t+q*i:v}ue.length===2?ue=(Number(ue)+2e3-h)%100+h:ue=Number(ue),J-=1;var le=new Date(Date.UTC(2e3,J,X,oe,Y));return le.setUTCFullYear(ue),le.getUTCMonth()!==J||le.getUTCDate()!==X?v:le.getTime()+q*i},o=H.MIN_MS=H.dateTime2ms("-9999"),d=H.MAX_MS=H.dateTime2ms("9999-12-31 23:59:59.9999"),H.isDateTime=function(F,O){return H.dateTime2ms(F,O)!==v};function w(F,O){return String(F+Math.pow(10,O)).substr(1)}var A=90*p,C=3*r,m=5*t;H.ms2DateTime=function(F,O,N){if(typeof F!="number"||!(F>=o&&F<=d))return v;O||(O=0);var z=Math.floor(x(F+.05,1)*10),V=Math.round(F-z/10),W,$,re,ne,ue,J;if(S(N)){var X=Math.floor(V/p)+n,oe=Math.floor(x(F,p));try{W=u.getComponentMethod("calendars","getCal")(N).fromJD(X).formatDate("yyyy-mm-dd")}catch{W=f("G%Y-%m-%d")(new Date(V))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;$=O<A?Math.floor(oe/r):0,re=O<A?Math.floor(oe%r/t):0,ne=O<C?Math.floor(oe%t/i):0,ue=O<m?oe%i*10+z:0}else J=new Date(V),W=f("%Y-%m-%d")(J),$=O<A?J.getUTCHours():0,re=O<A?J.getUTCMinutes():0,ne=O<C?J.getUTCSeconds():0,ue=O<m?J.getUTCMilliseconds()*10+z:0;return E(W,$,re,ne,ue)},H.ms2DateTimeLocal=function(F){if(!(F>=o+p&&F<=d-p))return v;var O=Math.floor(x(F+.05,1)*10),N=new Date(Math.round(F-O/10)),z=g("%Y-%m-%d")(N),V=N.getHours(),W=N.getMinutes(),$=N.getSeconds(),re=N.getUTCMilliseconds()*10+O;return E(z,V,W,$,re)};function E(F,O,N,z,V){if((O||N||z||V)&&(F+=" "+w(O,2)+":"+w(N,2),(z||V)&&(F+=":"+w(z,2),V))){for(var W=4;V%10===0;)W-=1,V/=10;F+="."+w(V,W)}return F}H.cleanDate=function(F,O,N){if(F===v)return O;if(H.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(S(N))return a.error("JS Dates and milliseconds are incompatible with world calendars",F),O;if(F=H.ms2DateTimeLocal(+F),!F&&O!==void 0)return O}else if(!H.isDateTime(F,N))return a.error("unrecognized date",F),O;return F};var b=/%\d?f/g,s=/%h/g,L={1:"1",2:"1",3:"2",4:"2"};function T(F,O,N,z){F=F.replace(b,function(W){var $=Math.min(+W.charAt(1)||6,6),re=(O/1e3%1+2).toFixed($).substr(2).replace(/0+$/,"")||"0";return re});var V=new Date(Math.floor(O+.05));if(F=F.replace(s,function(){return L[N("%q")(V)]}),S(z))try{F=u.getComponentMethod("calendars","worldCalFmt")(F,O,z)}catch{return"Invalid"}return N(F)(V)}var k=[59,59.9,59.99,59.999,59.9999];function _(F,O){var N=x(F+.05,p),z=w(Math.floor(N/r),2)+":"+w(x(Math.floor(N/t),60),2);if(O!=="M"){P(O)||(O=0);var V=Math.min(x(F/i,60),k[O]),W=(100+V).toFixed(O).substr(1);O>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+W}return z}H.formatDate=function(F,O,N,z,V,W){if(V=S(V)&&V,!O)if(N==="y")O=W.year;else if(N==="m")O=W.month;else if(N==="d")O=W.dayMonth+`
`+W.year;else return _(F,N)+`
`+T(W.dayMonthYear,F,z,V);return T(O,F,z,V)};var B=3*p;H.incrementMonth=function(F,O,N){N=S(N)&&N;var z=x(F,p);if(F=Math.round(F-z),N)try{var V=Math.round(F/p)+n,W=u.getComponentMethod("calendars","getCal")(N),$=W.fromJD(V);return O%12?W.add($,O,"m"):W.add($,O/12,"y"),($.toJD()-n)*p+z}catch{a.error("invalid ms "+F+" in calendar "+N)}var re=new Date(F+B);return re.setUTCMonth(re.getUTCMonth()+O)+z-B},H.findExactDates=function(F,O){for(var N=0,z=0,V=0,W=0,$,re,ne=S(O)&&u.getComponentMethod("calendars","getCal")(O),ue=0;ue<F.length;ue++){if(re=F[ue],!P(re)){W++;continue}if(!(re%p))if(ne)try{$=ne.fromJD(re/p+n),$.day()===1?$.month()===1?N++:z++:V++}catch{}else $=new Date(re),$.getUTCDate()===1?$.getUTCMonth()===0?N++:z++:V++}z+=N,V+=z;var J=F.length-W;return{exactYears:N/J,exactMonths:z/J,exactDays:V/J}}},52200:function(j,H,e){var g=e(33428),P=e(24248),a=e(52248),x=e(36524);function M(h){var S;if(typeof h=="string"){if(S=document.getElementById(h),S===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return S}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var S=g.select(h);return S.node()instanceof HTMLElement&&S.size()&&S.classed("js-plotly-plot")}function p(h){var S=h&&h.parentNode;S&&S.removeChild(h)}function r(h,S){t("global",h,S)}function t(h,S,c){var o="plotly.js-style-"+h,d=document.getElementById(o);d||(d=document.createElement("style"),d.setAttribute("id",o),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var w=d.sheet;w.insertRule?w.insertRule(S+"{"+c+"}",0):w.addRule?w.addRule(S,c,0):P.warn("addStyleRule failed")}function i(h){var S="plotly.js-style-"+h,c=document.getElementById(S);c&&p(c)}function n(h){var S=f(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return S.forEach(function(o){var d=u(o);if(d){var w=a.convertCssMatrix(d);c=x.multiply(c,c,w)}}),c}function u(h){var S=window.getComputedStyle(h,null),c=S.getPropertyValue("-webkit-transform")||S.getPropertyValue("-moz-transform")||S.getPropertyValue("-ms-transform")||S.getPropertyValue("-o-transform")||S.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function f(h){for(var S=[];l(h);)S.push(h),h=h.parentNode;return S}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function y(h,S){return h&&S&&h.top===S.top&&h.left===S.left&&h.right===S.right&&h.bottom===S.bottom}j.exports={getGraphDiv:M,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:i,getFullTransformMatrix:n,getElementTransformMatrix:u,getElementAndAncestors:f,equalDomRects:y}},95924:function(j,H,e){var g=e(61252).EventEmitter,P={init:function(a){if(a._ev instanceof g)return a;var x=new g,M=new g;return a._ev=x,a._internalEv=M,a.on=x.on.bind(x),a.once=x.once.bind(x),a.removeListener=x.removeListener.bind(x),a.removeAllListeners=x.removeAllListeners.bind(x),a._internalOn=M.on.bind(M),a._internalOnce=M.once.bind(M),a._removeInternalListener=M.removeListener.bind(M),a._removeAllInternalListeners=M.removeAllListeners.bind(M),a.emit=function(v,p){typeof jQuery<"u"&&jQuery(a).trigger(v,p),x.emit(v,p),M.emit(v,p)},a},triggerHandler:function(a,x,M){var v,p;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(x,M));var r=a._ev;if(!r)return v;var t=r._events[x];if(!t)return v;function i(u){if(u.listener){if(r.removeListener(x,u.listener),!u.fired)return u.fired=!0,u.listener.apply(r,[M])}else return u.apply(r,[M])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)i(t[n]);return p=i(t[n]),v!==void 0?v:p},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};j.exports=P},92880:function(j,H,e){var g=e(63620),P=Array.isArray;function a(M,v){var p,r;for(p=0;p<M.length;p++){if(r=M[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}H.extendFlat=function(){return x(arguments,!1,!1,!1)},H.extendDeep=function(){return x(arguments,!0,!1,!1)},H.extendDeepAll=function(){return x(arguments,!0,!0,!1)},H.extendDeepNoArrays=function(){return x(arguments,!0,!1,!0)};function x(M,v,p,r){var t=M[0],i=M.length,n,u,f,l,y,h,S;if(i===2&&P(t)&&P(M[1])&&t.length===0){if(S=a(M[1],t),S)return t;t.splice(0,t.length)}for(var c=1;c<i;c++){n=M[c];for(u in n)f=t[u],l=n[u],r&&P(l)?t[u]=l:v&&l&&(g(l)||(y=P(l)))?(y?(y=!1,h=f&&P(f)?f:[]):h=f&&g(f)?f:{},t[u]=x([h,l],v,p,r)):(typeof l<"u"||p)&&(t[u]=l)}return t}},68944:function(j){j.exports=function(e){for(var g={},P=[],a=0,x=0;x<e.length;x++){var M=e[x];g[M]!==1&&(g[M]=1,P[a++]=M)}return P}},43880:function(j){j.exports=function(a){for(var x=g(a)?e:H,M=[],v=0;v<a.length;v++){var p=a[v];x(p)&&M.push(p)}return M};function H(P){return P.visible===!0}function e(P){var a=P[0].trace;return a.visible===!0&&a._length!==0}function g(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(j,H,e){var g=e(33428),P=e(36116),a=e(40440),x=e(77844),M=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),i=e(92065),n=Object.keys(P),u={"ISO-3":v,"USA-states":v,"country names":f};function f(w){for(var A=0;A<n.length;A++){var C=n[A],m=new RegExp(P[C]);if(m.test(w.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+w+"."),!1}function l(w,A,C){if(!A||typeof A!="string")return!1;var m=u[w](A),E,b,s;if(m){if(w==="USA-states")for(E=[],s=0;s<C.length;s++)b=C[s],b.properties&&b.properties.gu&&b.properties.gu==="USA"&&E.push(b);else E=C;for(s=0;s<E.length;s++)if(b=E[s],b.id===m)return b;p.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function y(w){var A=w.geometry,C=A.coordinates,m=w.id,E=[],b,s,L,T;function k(_){for(var B=0;B<_.length-1;B++)if(_[B][0]>0&&_[B+1][0]<0)return B;return null}switch(m==="RUS"||m==="FJI"?b=function(_){var B;if(k(_)===null)B=_;else for(B=new Array(_.length),T=0;T<_.length;T++)B[T]=[_[T][0]<0?_[T][0]+360:_[T][0],_[T][1]];E.push(i.tester(B))}:m==="ATA"?b=function(_){var B=k(_);if(B===null)return E.push(i.tester(_));var F=new Array(_.length+1),O=0;for(T=0;T<_.length;T++)T>B?F[O++]=[_[T][0]+360,_[T][1]]:T===B?(F[O++]=_[T],F[O++]=[_[T][0],-90]):F[O++]=_[T];var N=i.tester(F);N.pts.pop(),E.push(N)}:b=function(_){E.push(i.tester(_))},A.type){case"MultiPolygon":for(s=0;s<C.length;s++)for(L=0;L<C[s].length;L++)b(C[s][L]);break;case"Polygon":for(s=0;s<C.length;s++)b(C[s]);break}return E}function h(w){var A=w.geojson,C=window.PlotlyGeoAssets||{},m=typeof A=="string"?C[A]:A;return r(m)?m:(p.error("Oops ... something went wrong when fetching "+A),!1)}function S(w){var A=w[0].trace,C=h(A);if(!C)return!1;var m={},E=[],b;for(b=0;b<A._length;b++){var s=w[b];(s.loc||s.loc===0)&&(m[s.loc]=s)}function L(_){var B=t(_,A.featureidkey||"id").get(),F=m[B];if(F){var O=_.geometry;if(O.type==="Polygon"||O.type==="MultiPolygon"){var N={type:"Feature",id:B,geometry:O,properties:{}};N.properties.ct=c(N),F.fIn=_,F.fOut=N,E.push(N)}else p.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[B]}switch(C.type){case"FeatureCollection":var T=C.features;for(b=0;b<T.length;b++)L(T[b]);break;case"Feature":L(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in m)p.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return E}function c(w){var A=w.geometry,C;if(A.type==="MultiPolygon")for(var m=A.coordinates,E=0,b=0;b<m.length;b++){var s={type:"Polygon",coordinates:m[b]},L=a.default(s);L>E&&(E=L,C=s)}else C=A;return x.default(C).geometry.coordinates}function o(w){var A=window.PlotlyGeoAssets||{},C=[];function m(T){return new Promise(function(k,_){g.json(T,function(B,F){if(B){delete A[T];var O=B.status===404?'GeoJSON at URL "'+T+'" does not exist.':"Unexpected error while fetching from "+T;return _(new Error(O))}return A[T]=F,k(F)})})}function E(T){return new Promise(function(k,_){var B=0,F=setInterval(function(){if(A[T]&&A[T]!=="pending")return clearInterval(F),k(A[T]);if(B>100)return clearInterval(F),_("Unexpected error while fetching from "+T);B++},50)})}for(var b=0;b<w.length;b++){var s=w[b][0].trace,L=s.geojson;typeof L=="string"&&(A[L]?A[L]==="pending"&&C.push(E(L)):(A[L]="pending",C.push(m(L))))}return C}function d(w){return M.default(w)}j.exports={locationToFeature:l,feature2polygons:y,getTraceGeojson:h,extractTraceFeature:S,fetchTraceGeoData:o,computeBbox:d}},44808:function(j,H,e){var g=e(39032).BADNUM;H.calcTraceToLineCoords=function(P){for(var a=P[0].trace,x=a.connectgaps,M=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==g?v.push(t):!x&&v.length>0&&(M.push(v),v=[])}return v.length>0&&M.push(v),M},H.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},H.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var a=new Array(P.length),x=0;x<P.length;x++)a[x]=[P[x]];return{type:"MultiPolygon",coordinates:a}},H.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(j,H,e){var g=e(20435).mod;H.segmentsIntersect=P;function P(p,r,t,i,n,u,f,l){var y=t-p,h=n-p,S=f-n,c=i-r,o=u-r,d=l-u,w=y*d-S*c;if(w===0)return null;var A=(h*d-S*o)/w,C=(h*c-y*o)/w;return C<0||C>1||A<0||A>1?null:{x:p+y*A,y:r+c*A}}H.segmentDistance=function(r,t,i,n,u,f,l,y){if(P(r,t,i,n,u,f,l,y))return 0;var h=i-r,S=n-t,c=l-u,o=y-f,d=h*h+S*S,w=c*c+o*o,A=Math.min(a(h,S,d,u-r,f-t),a(h,S,d,l-r,y-t),a(c,o,w,r-u,t-f),a(c,o,w,i-u,n-f));return Math.sqrt(A)};function a(p,r,t,i,n){var u=i*p+n*r;if(u<0)return i*i+n*n;if(u>t){var f=i-p,l=n-r;return f*f+l*l}else{var y=i*r-n*p;return y*y/t}}var x,M,v;H.getTextLocation=function(r,t,i,n){if((r!==M||n!==v)&&(x={},M=r,v=n),x[i])return x[i];var u=r.getPointAtLength(g(i-n/2,t)),f=r.getPointAtLength(g(i+n/2,t)),l=Math.atan((f.y-u.y)/(f.x-u.x)),y=r.getPointAtLength(g(i,t)),h=(y.x*4+u.x+f.x)/6,S=(y.y*4+u.y+f.y)/6,c={x:h,y:S,theta:l};return x[i]=c,c},H.clearLocationCache=function(){M=null},H.getVisibleSegment=function(r,t,i){var n=t.left,u=t.right,f=t.top,l=t.bottom,y=0,h=r.getTotalLength(),S=h,c,o;function d(A){var C=r.getPointAtLength(A);A===0?c=C:A===h&&(o=C);var m=C.x<n?n-C.x:C.x>u?C.x-u:0,E=C.y<f?f-C.y:C.y>l?C.y-l:0;return Math.sqrt(m*m+E*E)}for(var w=d(y);w;){if(y+=w+i,y>S)return;w=d(y)}for(w=d(S);w;){if(S-=w+i,y>S)return;w=d(S)}return{min:y,max:S,len:S-y,total:h,isClosed:y===0&&S===h&&Math.abs(c.x-o.x)<.1&&Math.abs(c.y-o.y)<.1}},H.findPointOnPath=function(r,t,i,n){n=n||{};for(var u=n.pathLength||r.getTotalLength(),f=n.tolerance||.001,l=n.iterationLimit||30,y=r.getPointAtLength(0)[i]>r.getPointAtLength(u)[i]?-1:1,h=0,S=0,c=u,o,d,w;h<l;){if(o=(S+c)/2,d=r.getPointAtLength(o),w=d[i]-t,Math.abs(w)<f)return d;y*w>0?c=o:S=o,h++}return d}},33040:function(j,H,e){var g=e(38248),P=e(49760),a=e(72160),x=e(8932),M=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=a(M),r=1;function t(l,y){var h=l;return h[3]*=y,h}function i(l){if(g(l))return p;var y=a(l);return y.length?y:p}function n(l){return g(l)?l:r}function u(l,y,h){var S=l.color;S&&S._inputArray&&(S=S._inputArray);var c=v(S),o=v(y),d=x.extractOpts(l),w=[],A,C,m,E,b;if(d.colorscale!==void 0?A=x.makeColorScaleFuncFromTrace(l):A=i,c?C=function(L,T){return L[T]===void 0?p:a(A(L[T]))}:C=i,o?m=function(L,T){return L[T]===void 0?r:n(L[T])}:m=n,c||o)for(var s=0;s<h;s++)E=C(S,s),b=m(y,s),w[s]=t(E,b);else w=t(a(S),y);return w}function f(l){var y=x.extractOpts(l),h=y.colorscale;return y.reversescale&&(h=x.flipScale(y.colorscale)),h.map(function(S){var c=S[0],o=P(S[1]),d=o.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}j.exports={formatColor:u,parseColorScale:f}},71688:function(j,H,e){var g=e(35536);function P(a){return[a]}j.exports={keyFun:function(a){return a.key},repeat:P,descend:g,wrap:P,unwrap:function(a){return a[0]}}},35536:function(j){j.exports=function(e){return e}},1396:function(j){j.exports=function(e,g){if(!g)return e;var P=1/Math.abs(g),a=P>1?(P*e+P*g)/P:e+g,x=String(a).length;if(x>16){var M=String(g).length,v=String(e).length;if(x>=v+M){var p=parseFloat(a).toPrecision(12);p.indexOf("e+")===-1&&(a=+p)}}return a}},3400:function(j,H,e){var g=e(33428),P=e(94336).E9,a=e(57624).E9,x=e(38248),M=e(39032),v=M.FP_SAFE,p=-v,r=M.BADNUM,t=j.exports={};t.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var i={};t.warnBadFormat=function(q){var se=String(q);i[se]||(i[se]=1,t.warn('encountered bad format: "'+se+'"'))},t.noFormat=function(q){return String(q)},t.numberFormat=function(q){var se;try{se=a(t.adjustFormat(q))}catch{return t.warnBadFormat(q),t.noFormat}return se},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var u=e(20435);t.mod=u.mod,t.modHalf=u.modHalf;var f=e(63064);t.valObjectMeta=f.valObjectMeta,t.coerce=f.coerce,t.coerce2=f.coerce2,t.coerceFont=f.coerceFont,t.coercePattern=f.coercePattern,t.coerceHoverinfo=f.coerceHoverinfo,t.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,t.validate=f.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var y=e(14952);t.findBin=y.findBin,t.sorterAsc=y.sorterAsc,t.sorterDes=y.sorterDes,t.distinctVals=y.distinctVals,t.roundUp=y.roundUp,t.sort=y.sort,t.findIndexOfMin=y.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var S=e(52248);t.init2dArray=S.init2dArray,t.transposeRagged=S.transposeRagged,t.dot=S.dot,t.translationMatrix=S.translationMatrix,t.rotationMatrix=S.rotationMatrix,t.rotationXYMatrix=S.rotationXYMatrix,t.apply3DTransform=S.apply3DTransform,t.apply2DTransform=S.apply2DTransform,t.apply2DTransform2=S.apply2DTransform2,t.convertCssMatrix=S.convertCssMatrix,t.inverseTransformMatrix=S.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var o=e(98308);t.isLeftAnchor=o.isLeftAnchor,t.isCenterAnchor=o.isCenterAnchor,t.isRightAnchor=o.isRightAnchor,t.isTopAnchor=o.isTopAnchor,t.isMiddleAnchor=o.isMiddleAnchor,t.isBottomAnchor=o.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var w=e(92880);t.extendFlat=w.extendFlat,t.extendDeep=w.extendDeep,t.extendDeepAll=w.extendDeepAll,t.extendDeepNoArrays=w.extendDeepNoArrays;var A=e(24248);t.log=A.log,t.warn=A.warn,t.error=A.error;var C=e(53756);t.counterRegex=C.counter;var m=e(91200);t.throttle=m.throttle,t.throttleDone=m.done,t.clearThrottle=m.clear;var E=e(52200);t.getGraphDiv=E.getGraphDiv,t.isPlotDiv=E.isPlotDiv,t.removeElement=E.removeElement,t.addStyleRule=E.addStyleRule,t.addRelatedStyleRule=E.addRelatedStyleRule,t.deleteRelatedStyleRule=E.deleteRelatedStyleRule,t.getFullTransformMatrix=E.getFullTransformMatrix,t.getElementTransformMatrix=E.getElementTransformMatrix,t.getElementAndAncestors=E.getElementAndAncestors,t.equalDomRects=E.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(se){return x(se)?(se=Number(se),se>v||se<p?r:se):r},t.isIndex=function(q,se){return se!==void 0&&q>=se?!1:x(q)&&q>=0&&q%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(q,se){for(var Q=new Array(se),K=0;K<se;K++)Q[K]=q;return Q},t.swapAttrs=function(q,se,Q,K){Q||(Q="x"),K||(K="y");for(var le=0;le<se.length;le++){var ie=se[le],ce=t.nestedProperty(q,ie.replace("?",Q)),ye=t.nestedProperty(q,ie.replace("?",K)),Ce=ce.get();ce.set(ye.get()),ye.set(Ce)}},t.raiseToTop=function(se){se.parentNode.appendChild(se)},t.cancelTransition=function(q){return q.transition().duration(0)},t.constrain=function(q,se,Q){return se>Q?Math.max(Q,Math.min(se,q)):Math.max(se,Math.min(Q,q))},t.bBoxIntersect=function(q,se,Q){return Q=Q||0,q.left<=se.right+Q&&se.left<=q.right+Q&&q.top<=se.bottom+Q&&se.top<=q.bottom+Q},t.simpleMap=function(q,se,Q,K,le){for(var ie=q.length,ce=new Array(ie),ye=0;ye<ie;ye++)ce[ye]=se(q[ye],Q,K,le);return ce},t.randstr=function q(se,Q,K,le){if(K||(K=16),Q===void 0&&(Q=24),Q<=0)return"0";var ie=Math.log(Math.pow(2,Q))/Math.log(K),ce="",ye,Ce,Ae;for(ye=2;ie===1/0;ye*=2)ie=Math.log(Math.pow(2,Q/ye))/Math.log(K)*ye;var ke=ie-Math.floor(ie);for(ye=0;ye<Math.floor(ie);ye++)Ae=Math.floor(Math.random()*K).toString(K),ce=Ae+ce;ke&&(Ce=Math.pow(K,ke),Ae=Math.floor(Math.random()*Ce).toString(K),ce=Ae+ce);var we=parseInt(ce,K);return se&&se[ce]||we!==1/0&&we>=Math.pow(2,Q)?le>10?(t.warn("randstr failed uniqueness"),ce):q(se,Q,K,(le||0)+1):ce},t.OptionControl=function(q,se){q||(q={}),se||(se="opt");var Q={};return Q.optionList=[],Q._newoption=function(K){K[se]=q,Q[K.name]=K,Q.optionList.push(K)},Q["_"+se]=q,Q},t.smooth=function(q,se){if(se=Math.round(se)||0,se<2)return q;var Q=q.length,K=2*Q,le=2*se-1,ie=new Array(le),ce=new Array(Q),ye,Ce,Ae,ke;for(ye=0;ye<le;ye++)ie[ye]=(1-Math.cos(Math.PI*(ye+1)/se))/(2*se);for(ye=0;ye<Q;ye++){for(ke=0,Ce=0;Ce<le;Ce++)Ae=ye+Ce+1-se,Ae<-Q?Ae-=K*Math.round(Ae/K):Ae>=K&&(Ae-=K*Math.floor(Ae/K)),Ae<0?Ae=-1-Ae:Ae>=Q&&(Ae=K-1-Ae),ke+=q[Ae]*ie[Ce];ce[ye]=ke}return ce},t.syncOrAsync=function(q,se,Q){var K,le;function ie(){return t.syncOrAsync(q,se,Q)}for(;q.length;)if(le=q.splice(0,1)[0],K=le(se),K&&K.then)return K.then(ie);return Q&&Q(se)},t.stripTrailingSlash=function(q){return q.substr(-1)==="/"?q.substr(0,q.length-1):q},t.noneOrAll=function(q,se,Q){if(q){var K=!1,le=!0,ie,ce;for(ie=0;ie<Q.length;ie++)ce=q[Q[ie]],ce!=null?K=!0:le=!1;if(K&&!le)for(ie=0;ie<Q.length;ie++)q[Q[ie]]=se[Q[ie]]}},t.mergeArray=function(q,se,Q,K){var le=typeof K=="function";if(t.isArrayOrTypedArray(q))for(var ie=Math.min(q.length,se.length),ce=0;ce<ie;ce++){var ye=q[ce];se[ce][Q]=le?K(ye):ye}},t.mergeArrayCastPositive=function(q,se,Q){return t.mergeArray(q,se,Q,function(K){var le=+K;return isFinite(le)&&le>0?le:0})},t.fillArray=function(q,se,Q,K){if(K=K||t.identity,t.isArrayOrTypedArray(q))for(var le=0;le<se.length;le++)se[le][Q]=K(q[le])},t.castOption=function(q,se,Q,K){K=K||t.identity;var le=t.nestedProperty(q,Q).get();return t.isArrayOrTypedArray(le)?Array.isArray(se)&&t.isArrayOrTypedArray(le[se[0]])?K(le[se[0]][se[1]]):K(le[se]):le},t.extractOption=function(q,se,Q,K){if(Q in q)return q[Q];var le=t.nestedProperty(se,K).get();if(!Array.isArray(le))return le};function b(q){var se={};for(var Q in q)for(var K=q[Q],le=0;le<K.length;le++)se[K[le]]=+Q;return se}t.tagSelected=function(q,se,Q){var K=se.selectedpoints,le=se._indexToPoints,ie;le&&(ie=b(le));function ce(we){return we!==void 0&&we<q.length}for(var ye=0;ye<K.length;ye++){var Ce=K[ye];if(t.isIndex(Ce)||t.isArrayOrTypedArray(Ce)&&t.isIndex(Ce[0])&&t.isIndex(Ce[1])){var Ae=ie?ie[Ce]:Ce,ke=Q?Q[Ae]:Ae;ce(ke)&&(q[ke].selected=1)}}},t.selIndices2selPoints=function(q){var se=q.selectedpoints,Q=q._indexToPoints;if(Q){for(var K=b(Q),le=[],ie=0;ie<se.length;ie++){var ce=se[ie];if(t.isIndex(ce)){var ye=K[ce];t.isIndex(ye)&&le.push(ye)}}return le}else return se},t.getTargetArray=function(q,se){var Q=se.target;if(typeof Q=="string"&&Q){var K=t.nestedProperty(q,Q).get();return t.isArrayOrTypedArray(K)?K:!1}else if(t.isArrayOrTypedArray(Q))return Q;return!1};function s(q,se,Q){var K={};typeof se!="object"&&(se={});var le=Q==="pieLike"?-1:3,ie=Object.keys(q),ce,ye,Ce;for(ce=0;ce<ie.length;ce++)ye=ie[ce],Ce=q[ye],!(ye.charAt(0)==="_"||typeof Ce=="function")&&(ye==="module"?K[ye]=Ce:Array.isArray(Ce)?ye==="colorscale"||le===-1?K[ye]=Ce.slice():K[ye]=Ce.slice(0,le):t.isTypedArray(Ce)?le===-1?K[ye]=Ce.subarray():K[ye]=Ce.subarray(0,le):Ce&&typeof Ce=="object"?K[ye]=s(q[ye],se[ye],Q):K[ye]=Ce);for(ie=Object.keys(se),ce=0;ce<ie.length;ce++)ye=ie[ce],Ce=se[ye],(typeof Ce!="object"||!(ye in K)||typeof K[ye]!="object")&&(K[ye]=Ce);return K}t.minExtend=s,t.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},t.containsAny=function(q,se){for(var Q=0;Q<se.length;Q++)if(q.indexOf(se[Q])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var L=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return L.test(window.navigator.userAgent)};var T=/iPad|iPhone|iPod/;t.isIOS=function(){return T.test(window.navigator.userAgent)};var k=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var q=k.exec(window.navigator.userAgent);if(q&&q.length===2){var se=parseInt(q[1]);if(!isNaN(se))return se}return null},t.isD3Selection=function(q){return q instanceof g.selection},t.ensureSingle=function(q,se,Q,K){var le=q.select(se+(Q?"."+Q:""));if(le.size())return le;var ie=q.append(se);return Q&&ie.classed(Q,!0),K&&ie.call(K),ie},t.ensureSingleById=function(q,se,Q,K){var le=q.select(se+"#"+Q);if(le.size())return le;var ie=q.append(se).attr("id",Q);return K&&ie.call(K),ie},t.objectFromPath=function(q,se){for(var Q=q.split("."),K,le=K={},ie=0;ie<Q.length;ie++){var ce=Q[ie],ye=null,Ce=Q[ie].match(/(.*)\[([0-9]+)\]/);Ce?(ce=Ce[1],ye=Ce[2],K=K[ce]=[],ie===Q.length-1?K[ye]=se:K[ye]={},K=K[ye]):(ie===Q.length-1?K[ce]=se:K[ce]={},K=K[ce])}return le};var _=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(q){return q.slice(0,2)==="__"}t.expandObjectPaths=function(q){var se,Q,K,le,ie,ce,ye;if(typeof q=="object"&&!Array.isArray(q)){for(Q in q)if(q.hasOwnProperty(Q))if(se=Q.match(_)){if(le=q[Q],K=se[1],F(K))continue;delete q[Q],q[K]=t.extendDeepNoArrays(q[K]||{},t.objectFromPath(Q,t.expandObjectPaths(le))[K])}else if(se=Q.match(B)){if(le=q[Q],K=se[1],F(K))continue;if(ie=parseInt(se[2]),delete q[Q],q[K]=q[K]||[],se[3]===".")ye=se[4],ce=q[K][ie]=q[K][ie]||{},t.extendDeepNoArrays(ce,t.objectFromPath(ye,t.expandObjectPaths(le)));else{if(F(K))continue;q[K][ie]=t.expandObjectPaths(le)}}else{if(F(Q))continue;q[Q]=t.expandObjectPaths(q[Q])}}return q},t.numSeparate=function(q,se,Q){if(Q||(Q=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof q=="number"&&(q=String(q));var K=/(\d+)(\d{3})/,le=se.charAt(0),ie=se.charAt(1),ce=q.split("."),ye=ce[0],Ce=ce.length>1?le+ce[1]:"";if(ie&&(ce.length>1||ye.length>4||Q))for(;K.test(ye);)ye=ye.replace(K,"$1"+ie+"$2");return ye+Ce},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;t.templateString=function(q,se){var Q={};return q.replace(t.TEMPLATE_STRING_REGEX,function(K,le){var ie;return O.test(le)?ie=se[le]:(Q[le]=Q[le]||t.nestedProperty(se,le).get,ie=Q[le]()),t.isValidTextValue(ie)?ie:""})};var N={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ne.apply(N,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ne.apply(z,arguments)};var V=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W(q){var se=q.match(V);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:q,op:null,number:null}}var $={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ne.apply($,arguments)};var re=/^[:|\|]/;function ne(q,se,Q){var K=this,le=arguments;se||(se={});var ie={};return q.replace(t.TEMPLATE_STRING_REGEX,function(ce,ye,Ce){var Ae=ye==="xother"||ye==="yother",ke=ye==="_xother"||ye==="_yother",we=ye==="_xother_"||ye==="_yother_",Ee=ye==="xother_"||ye==="yother_",xe=Ae||ke||Ee||we,Pe=ye;(ke||we)&&(Pe=Pe.substring(1)),(Ee||we)&&(Pe=Pe.substring(0,Pe.length-1));var Ue=null,Be=null;if(K.parseMultDiv){var Ne=W(Pe);Pe=Ne.key,Ue=Ne.op,Be=Ne.number}var Xe;if(xe){if(Xe=se[Pe],Xe===void 0)return""}else{var ut,dt;for(dt=3;dt<le.length;dt++)if(ut=le[dt],!!ut){if(ut.hasOwnProperty(Pe)){Xe=ut[Pe];break}if(O.test(Pe)||(Xe=t.nestedProperty(ut,Pe).get(),Xe=ie[Pe]||t.nestedProperty(ut,Pe).get(),Xe&&(ie[Pe]=Xe)),Xe!==void 0)break}}if(Xe!==void 0&&(Ue==="*"&&(Xe*=Be),Ue==="/"&&(Xe/=Be)),Xe===void 0&&K)return K.count<K.max&&(t.warn("Variable '"+Pe+"' in "+K.name+" could not be found!"),Xe=ce),K.count===K.max&&t.warn("Too many "+K.name+" warnings - additional warnings will be suppressed"),K.count++,ce;if(Ce){var at;if(Ce[0]===":"&&(at=Q?Q.numberFormat:t.numberFormat,Xe!==""&&(Xe=at(Ce.replace(re,""))(Xe))),Ce[0]==="|"){at=Q?Q.timeFormat:P;var We=t.dateTime2ms(Xe);Xe=t.formatDate(We,Ce.replace(re,""),!1,at)}}else{var rt=Pe+"Label";se.hasOwnProperty(rt)&&(Xe=se[rt])}return xe&&(Xe="("+Xe+")",(ke||we)&&(Xe=" "+Xe),(Ee||we)&&(Xe=Xe+" ")),Xe})}var ue=48,J=57;t.subplotSort=function(q,se){for(var Q=Math.min(q.length,se.length)+1,K=0,le=0,ie=0;ie<Q;ie++){var ce=q.charCodeAt(ie)||0,ye=se.charCodeAt(ie)||0,Ce=ce>=ue&&ce<=J,Ae=ye>=ue&&ye<=J;if(Ce&&(K=10*K+ce-ue),Ae&&(le=10*le+ye-ue),!Ce||!Ae){if(K!==le)return K-le;if(ce!==ye)return ce-ye}}return le-K};var X=2e9;t.seedPseudoRandom=function(){X=2e9},t.pseudoRandom=function(){var q=X;return X=(69069*X+1)%4294967296,Math.abs(X-q)<429496729?t.pseudoRandom():X/4294967296},t.fillText=function(q,se,Q){var K=Array.isArray(Q)?function(ce){Q.push(ce)}:function(ce){Q.text=ce},le=t.extractOption(q,se,"htx","hovertext");if(t.isValidTextValue(le))return K(le);var ie=t.extractOption(q,se,"tx","text");if(t.isValidTextValue(ie))return K(ie)},t.isValidTextValue=function(q){return q||q===0},t.formatPercent=function(q,se){se=se||0;for(var Q=(Math.round(100*q*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",K=0;K<se;K++)Q.indexOf(".")!==-1&&(Q=Q.replace("0%","%"),Q=Q.replace(".%","%"));return Q},t.isHidden=function(q){var se=window.getComputedStyle(q).display;return!se||se==="none"},t.strTranslate=function(q,se){return q||se?"translate("+q+","+se+")":""},t.strRotate=function(q){return q?"rotate("+q+")":""},t.strScale=function(q){return q!==1?"scale("+q+")":""},t.getTextTransform=function(q){var se=q.noCenter,Q=q.textX,K=q.textY,le=q.targetX,ie=q.targetY,ce=q.anchorX||0,ye=q.anchorY||0,Ce=q.rotate,Ae=q.scale;return Ae?Ae>1&&(Ae=1):Ae=0,t.strTranslate(le-Ae*(Q+ce),ie-Ae*(K+ye))+t.strScale(Ae)+(Ce?"rotate("+Ce+(se?"":" "+Q+" "+K)+")":"")},t.setTransormAndDisplay=function(q,se){q.attr("transform",t.getTextTransform(se)),q.style("display",se.scale?null:"none")},t.ensureUniformFontSize=function(q,se){var Q=t.extendFlat({},se);return Q.size=Math.max(se.size,q._fullLayout.uniformtext.minsize||0),Q},t.join2=function(q,se,Q){var K=q.length;return K>1?q.slice(0,-1).join(se)+Q+q[K-1]:q.join(se)},t.bigFont=function(q){return Math.round(1.2*q)};var oe=t.getFirefoxVersion(),Y=oe!==null&&oe<86;t.getPositionFromD3Event=function(){return Y?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},63620:function(j){j.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(j,H,e){var g=e(22296),P=/^\w*$/,a=0,x=1,M=2,v=3,p=4;j.exports=function(t,i,n,u){n=n||"name",u=u||"value";var f,l,y,h={};i&&i.length?(y=g(t,i),l=y.get()):l=t,i=i||"";var S={};if(l)for(f=0;f<l.length;f++)S[l[f][n]]=f;var c=P.test(u),o={set:function(d,w){var A=w===null?p:a;if(!l){if(!y||A===p)return;l=[],y.set(l)}var C=S[d];if(C===void 0){if(A===p)return;A=A|v,C=l.length,S[d]=C}else w!==(c?l[C][u]:g(l[C],u).get())&&(A=A|M);var m=l[C]=l[C]||{};return m[n]=d,c?m[u]=w:g(m,u).set(w),w!==null&&(A=A&~p),h[C]=h[C]|A,o},get:function(d){if(l){var w=S[d];if(w!==void 0)return c?l[w][u]:g(l[w],u).get()}},rename:function(d,w){var A=S[d];return A===void 0||(h[A]=h[A]|x,S[w]=A,delete S[d],l[A][n]=w),o},remove:function(d){var w=S[d];if(w===void 0)return o;var A=l[w];if(Object.keys(A).length>2)return h[w]=h[w]|M,o.set(d,null);if(c){for(f=w;f<l.length;f++)h[f]=h[f]|v;for(f=w;f<l.length;f++)S[l[f][n]]--;l.splice(w,1),delete S[d]}else g(A,u).set(null),h[w]=h[w]|M|p;return o},constructUpdate:function(){for(var d,w,A={},C=Object.keys(h),m=0;m<C.length;m++)w=C[m],d=i+"["+w+"]",l[w]?(h[w]&x&&(A[d+"."+n]=l[w][n]),h[w]&M&&(c?A[d+"."+u]=h[w]&p?null:l[w][u]:A[d+"."+u]=h[w]&p?null:g(l[w],u).get())):A[d]=null;return A}};return o}},98356:function(j,H,e){var g=e(24040);j.exports=function(a,x){for(var M=a._context.locale,v=0;v<2;v++){for(var p=a._context.locales,r=0;r<2;r++){var t=(p[M]||{}).dictionary;if(t){var i=t[x];if(i)return i}p=g.localeRegistry}var n=M.split("-")[0];if(n===M)break;M=n}return x}},24248:function(j,H,e){var g=e(20556).dfltConfig,P=e(41792),a=j.exports={};a.log=function(){var x;if(g.logging>1){var M=["LOG:"];for(x=0;x<arguments.length;x++)M.push(arguments[x]);console.trace.apply(console,M)}if(g.notifyOnLogging>1){var v=[];for(x=0;x<arguments.length;x++)v.push(arguments[x]);P(v.join("<br>"),"long")}},a.warn=function(){var x;if(g.logging>0){var M=["WARN:"];for(x=0;x<arguments.length;x++)M.push(arguments[x]);console.trace.apply(console,M)}if(g.notifyOnLogging>0){var v=[];for(x=0;x<arguments.length;x++)v.push(arguments[x]);P(v.join("<br>"),"stick")}},a.error=function(){var x;if(g.logging>0){var M=["ERROR:"];for(x=0;x<arguments.length;x++)M.push(arguments[x]);console.error.apply(console,M)}if(g.notifyOnLogging>0){var v=[];for(x=0;x<arguments.length;x++)v.push(arguments[x]);P(v.join("<br>"),"stick")}}},30988:function(j,H,e){var g=e(33428);j.exports=function(a,x,M){var v=a.selectAll("g."+M.replace(/\s/g,".")).data(x,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",M),v.order();var p=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=g.select(this)}),v}},52248:function(j,H,e){var g=e(36524);H.init2dArray=function(P,a){for(var x=new Array(P),M=0;M<P;M++)x[M]=new Array(a);return x},H.transposeRagged=function(P){var a=0,x=P.length,M,v;for(M=0;M<x;M++)a=Math.max(a,P[M].length);var p=new Array(a);for(M=0;M<a;M++)for(p[M]=new Array(x),v=0;v<x;v++)p[M][v]=P[v][M];return p},H.dot=function(P,a){if(!(P.length&&a.length)||P.length!==a.length)return null;var x=P.length,M,v;if(P[0].length)for(M=new Array(x),v=0;v<x;v++)M[v]=H.dot(P[v],a);else if(a[0].length){var p=H.transposeRagged(a);for(M=new Array(p.length),v=0;v<p.length;v++)M[v]=H.dot(P,p[v])}else for(M=0,v=0;v<x;v++)M+=P[v]*a[v];return M},H.translationMatrix=function(P,a){return[[1,0,P],[0,1,a],[0,0,1]]},H.rotationMatrix=function(P){var a=P*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},H.rotationXYMatrix=function(P,a,x){return H.dot(H.dot(H.translationMatrix(a,x),H.rotationMatrix(P)),H.translationMatrix(-a,-x))},H.apply3DTransform=function(P){return function(){var a=arguments,x=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return H.dot(P,[x[0],x[1],x[2],1]).slice(0,3)}},H.apply2DTransform=function(P){return function(){var a=arguments;a.length===3&&(a=a[0]);var x=arguments.length===1?a[0]:[a[0],a[1]];return H.dot(P,[x[0],x[1],1]).slice(0,2)}},H.apply2DTransform2=function(P){var a=H.apply2DTransform(P);return function(x){return a(x.slice(0,2)).concat(a(x.slice(2,4)))}},H.convertCssMatrix=function(P){if(P){var a=P.length;if(a===16)return P;if(a===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},H.inverseTransformMatrix=function(P){var a=[];return g.invert(a,P),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},20435:function(j){function H(g,P){var a=g%P;return a<0?a+P:a}function e(g,P){return Math.abs(g)>P/2?g-Math.round(g/P)*P:g}j.exports={mod:H,modHalf:e}},22296:function(j,H,e){var g=e(38248),P=e(38116).isArrayOrTypedArray;j.exports=function(u,f){if(g(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var l=f.split("."),y,h,S,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(y=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])l[c]=y[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=y[2].substr(1,y[2].length-2).split("]["),S=0;S<h.length;S++)c++,l.splice(c,0,Number(h[S]))}c++}return typeof u!="object"?i(u,f,l):{set:v(u,l,f),get:a(u,l),astr:f,parts:l,obj:u}};function a(n,u){return function(){var f=n,l,y,h,S,c;for(S=0;S<u.length-1;S++){if(l=u[S],l===-1){for(y=!0,h=[],c=0;c<f.length;c++)h[c]=a(f[c],u.slice(S+1))(),h[c]!==h[0]&&(y=!1);return y?h[0]:h}if(typeof l=="number"&&!P(f)||(f=f[l],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(h=f[u[S]],h!==null))return h}}var x=/(^|\.)args\[/;function M(n,u){return n===void 0||n===null&&!u.match(x)}function v(n,u,f){return function(l){var y=n,h="",S=M(l,f),c,o;for(o=0;o<u.length-1;o++){if(c=u[o],typeof c=="number"&&!P(y))throw"array index but container is not an array";if(c===-1){if(S=!r(y,u.slice(o+1),l,f),S)break;return}if(!t(y,c,u[o+1],S))break;if(y=y[c],typeof y!="object"||y===null)throw"container is not an object";h=p(h,c)}if(S){if(o===u.length-1&&(delete y[u[o]],Array.isArray(y)&&+u[o]===y.length-1))for(;y.length&&y[y.length-1]===void 0;)y.pop()}else y[u[o]]=l}}function p(n,u){var f=u;return g(u)?f="["+u+"]":n&&(f="."+u),n+f}function r(n,u,f,l){var y=P(f),h=!0,S=f,c=l.replace("-1",0),o=y?!1:M(f,c),d=u[0],w;for(w=0;w<n.length;w++)c=l.replace("-1",w),y&&(S=f[w%f.length],o=M(S,c)),o&&(h=!1),t(n,w,d,o)&&v(n[w],u,l.replace("-1",w))(S);return h}function t(n,u,f,l){if(n[u]===void 0){if(l)return!1;typeof f=="number"?n[u]=[]:n[u]={}}return!0}function i(n,u,f){return{set:function(){throw"bad container"},get:function(){},astr:u,parts:f,obj:n}}},16628:function(j){j.exports=function(){}},41792:function(j,H,e){var g=e(33428),P=e(38248),a=[];j.exports=function(x,M){if(a.indexOf(x)!==-1)return;a.push(x);var v=1e3;P(M)?v=M:M==="long"&&(v=3e3);var p=g.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(a);function t(i){i.duration(700).style("opacity",0).each("end",function(n){var u=a.indexOf(n);u!==-1&&a.splice(u,1),g.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var u=n.append("p"),f=i.split(/<br\s*\/?>/g),l=0;l<f.length;l++)l&&u.append("br"),u.append("span").text(f[l]);M==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(j,H,e){var g=e(93972),P="data-savedcursor",a="!!";j.exports=function(M,v){var p=M.attr(P);if(v){if(!p){for(var r=(M.attr("class")||"").split(" "),t=0;t<r.length;t++){var i=r[t];i.indexOf("cursor-")===0&&M.attr(P,i.substr(7)).classed(i,!1)}M.attr(P)||M.attr(P,a)}g(M,v)}else p&&(M.attr(P,null),p===a?g(M):g(M,p))}},92065:function(j,H,e){var g=e(52248).dot,P=e(39032).BADNUM,a=j.exports={};a.tester=function(M){var v=M.slice(),p=v[0][0],r=p,t=v[0][1],i=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),i=Math.max(i,v[n][1]);var u=!1,f;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(u=!0,f=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(u=!0,f=function(c){return c[1]===v[0][1]}));function l(c,o){var d=c[0],w=c[1];return!(d===P||d<p||d>r||w===P||w<t||w>i||o&&f(c))}function y(c,o){var d=c[0],w=c[1];if(d===P||d<p||d>r||w===P||w<t||w>i)return!1;var A=v.length,C=v[0][0],m=v[0][1],E=0,b,s,L,T,k;for(b=1;b<A;b++)if(s=C,L=m,C=v[b][0],m=v[b][1],T=Math.min(s,C),!(d<T||d>Math.max(s,C)||w>Math.max(L,m)))if(w<Math.min(L,m))d!==T&&E++;else{if(C===s?k=w:k=L+(d-s)*(m-L)/(C-s),w===k)return!(b===1&&o);w<=k&&d!==T&&E++}return E%2===1}var h=!0,S=v[0];for(n=1;n<v.length;n++)if(S[0]!==v[n][0]||S[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:i,pts:v,contains:u?l:y,isRect:u,degenerate:h}},a.isSegmentBent=function(M,v,p,r){var t=M[v],i=[M[p][0]-t[0],M[p][1]-t[1]],n=g(i,i),u=Math.sqrt(n),f=[-i[1]/u,i[0]/u],l,y,h;for(l=v+1;l<p;l++)if(y=[M[l][0]-t[0],M[l][1]-t[1]],h=g(y,i),h<0||h>n||Math.abs(g(y,f))>r)return!0;return!1},a.filter=function(M,v){var p=[M[0]],r=0,t=0;function i(u){M.push(u);var f=p.length,l=r;p.splice(t+1);for(var y=l+1;y<M.length;y++)(y===M.length-1||a.isSegmentBent(M,l,y+1,v))&&(p.push(M[y]),p.length<f-2&&(r=y,t=p.length-1),l=y)}if(M.length>1){var n=M.pop();i(n)}return{addPt:i,raw:M,filtered:p}}},5048:function(j,H,e){var g=e(16576),P=e(28624);j.exports=function(x,M,v){var p=x._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:x._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:M||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(i){x&&x.emit&&x.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),r||g({container:p._glcontainer.node()}),r}},34296:function(j,H,e){var g=e(38248),P=e(25928);j.exports=function(M){var v;if(M&&M.hasOwnProperty("userAgent")?v=M.userAgent:v=a(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var i=r[t];if(i.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var u=r[n];if(u.substr(0,8)==="Version/"){var f=u.substr(8).split(".")[0];if(g(f)&&(f=+f),f>=13)return!0}}}return p};function a(){var x;return typeof navigator<"u"&&(x=navigator.userAgent),x&&x.headers&&typeof x.headers["user-agent"]=="string"&&(x=x.headers["user-agent"]),x}},52416:function(j){j.exports=function(e,g){if(g instanceof RegExp){for(var P=g.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===P)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},94552:function(j,H,e){var g=e(3400),P=e(20556).dfltConfig;function a(M,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===M?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?g.extendDeep([],r):g.extendDeepAll({},r):p[t]=r;return p}var x={};x.add=function(M,v,p,r,t){var i,n;if(M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},n=M.undoQueue.index,M.autoplay){M.undoQueue.inSequence||(M.autoplay=!1);return}!M.undoQueue.sequence||M.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},M.undoQueue.queue.splice(n,M.undoQueue.queue.length-n,i),M.undoQueue.index+=1):i=M.undoQueue.queue[n-1],M.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(v),i.undo.args.unshift(p),i.redo.calls.push(r),i.redo.args.push(t)),M.undoQueue.queue.length>P.queueLength&&(M.undoQueue.queue.shift(),M.undoQueue.index--)},x.startSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!0,M.undoQueue.beginSequence=!0},x.stopSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!1,M.undoQueue.beginSequence=!1},x.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)x.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},x.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)x.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},x.plotDo=function(M,v,p){M.autoplay=!0,p=a(M,p),v.apply(null,p)},j.exports=x},53756:function(j,H){H.counter=function(e,g,P,a){var x=(g||"")+(P?"":"$"),M=a===!1?"":"^";return e==="xy"?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+x):new RegExp(M+e+"([2-9]|[1-9][0-9]+)?"+x)}},23193:function(j){var H=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;j.exports=function(g,P){for(;P;){var a=g.match(H);if(a)g=a[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return g&&P.charAt(0)!=="["?g+"."+P:g+P}},51528:function(j,H,e){var g=e(38116).isArrayOrTypedArray,P=e(63620);j.exports=function a(x,M){for(var v in M){var p=M[v],r=x[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in x)continue;x[v]=p}else if(g(p)&&g(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),i=0;i<t;i++)r[i]!==p[i]&&P(p[i])&&P(r[i])&&a(r[i],p[i])}else P(p)&&P(r)&&(a(r,p),Object.keys(r).length||delete x[v])}}},14952:function(j,H,e){var g=e(38248),P=e(24248),a=e(35536),x=e(39032).BADNUM,M=1e-9;H.findBin=function(i,n,u){if(g(n.start))return u?Math.ceil((i-n.start)/n.size-M)-1:Math.floor((i-n.start)/n.size+M);var f=0,l=n.length,y=0,h=l>1?(n[l-1]-n[0])/(l-1):1,S,c;for(h>=0?c=u?v:p:c=u?t:r,i+=h*M*(u?-1:1)*(h>=0?1:-1);f<l&&y++<100;)S=Math.floor((f+l)/2),c(n[S],i)?f=S+1:l=S;return y>90&&P.log("Long binary search..."),f-1};function v(i,n){return i<n}function p(i,n){return i<=n}function r(i,n){return i>n}function t(i,n){return i>=n}H.sorterAsc=function(i,n){return i-n},H.sorterDes=function(i,n){return n-i},H.distinctVals=function(i){var n=i.slice();n.sort(H.sorterAsc);var u;for(u=n.length-1;u>-1&&n[u]===x;u--);for(var f=n[u]-n[0]||1,l=f/(u||1)/1e4,y=[],h,S=0;S<=u;S++){var c=n[S],o=c-h;h===void 0?(y.push(c),h=c):o>l&&(f=Math.min(f,o),y.push(c),h=c)}return{vals:y,minDiff:f}},H.roundUp=function(i,n,u){for(var f=0,l=n.length-1,y,h=0,S=u?0:1,c=u?1:0,o=u?Math.ceil:Math.floor;f<l&&h++<100;)y=o((f+l)/2),n[y]<=i?f=y+S:l=y-c;return n[f]},H.sort=function(i,n){for(var u=0,f=0,l=1;l<i.length;l++){var y=n(i[l],i[l-1]);if(y<0?u=1:y>0&&(f=1),u&&f)return i.sort(n)}return f?i:i.reverse()},H.findIndexOfMin=function(i,n){n=n||a;for(var u=1/0,f,l=0;l<i.length;l++){var y=n(i[l]);y<u&&(u=y,f=l)}return f}},93972:function(j){j.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),g&&e.classed("cursor-"+g,!0)}},16576:function(j,H,e){var g=e(76308),P=function(){};j.exports=function(x){for(var M in x)typeof x[M]=="function"&&(x[M]=P);x.destroy=function(){x.container.parentNode.removeChild(x.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),x.container.appendChild(v),x.container.style.background="#FFFFFF",x.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(j){j.exports=function(e){return Object.keys(e).sort()}},63084:function(j,H,e){var g=e(38248),P=e(38116).isArrayOrTypedArray;H.aggNums=function(a,x,M,v){var p,r;if((!v||v>M.length)&&(v=M.length),g(x)||(x=!1),P(M[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=H.aggNums(a,x,M[p]);M=r}for(p=0;p<v;p++)g(x)?g(M[p])&&(x=a(+x,+M[p])):x=M[p];return x},H.len=function(a){return H.aggNums(function(x){return x+1},0,a)},H.mean=function(a,x){return x||(x=H.len(a)),H.aggNums(function(M,v){return M+v},0,a)/x},H.midRange=function(a){if(!(a===void 0||a.length===0))return(H.aggNums(Math.max,null,a)+H.aggNums(Math.min,null,a))/2},H.variance=function(a,x,M){return x||(x=H.len(a)),g(M)||(M=H.mean(a,x)),H.aggNums(function(v,p){return v+Math.pow(p-M,2)},0,a)/x},H.stdev=function(a,x,M){return Math.sqrt(H.variance(a,x,M))},H.median=function(a){var x=a.slice().sort();return H.interp(x,.5)},H.interp=function(a,x){if(!g(x))throw"n should be a finite number";if(x=x*a.length-.5,x<0)return a[0];if(x>a.length-1)return a[a.length-1];var M=x%1;return M*a[Math.ceil(x)]+(1-M)*a[Math.floor(x)]}},43080:function(j,H,e){var g=e(72160);function P(a){return a?g(a):[0,0,0,1]}j.exports=P},9188:function(j,H,e){var g=e(2264),P=e(43616),a=e(3400),x=null;function M(){if(x!==null)return x;x=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(g.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")x=p.some(function(u){return r.apply(null,u)});else{var t=P.tester.append("image").attr("style",g.STYLE),i=window.getComputedStyle(t.node()),n=i.imageRendering;x=p.some(function(u){var f=u[1];return n===f||n===f.toLowerCase()}),t.remove()}}return x}j.exports=M},72736:function(j,H,e){var g=e(33428),P=e(3400),a=P.strTranslate,x=e(9616),M=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;H.convertToTspans=function(N,z,V){var W=N.text(),$=!N.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax<"u"&&W.match(v),re=g.select(N.node().parentNode);if(re.empty())return;var ne=N.attr("class")?N.attr("class").split(" ")[0]:"text";ne+="-math",re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove(),N.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function ue(){re.empty()||(ne=N.attr("class")+"-math",re.select("svg."+ne).remove()),N.text("").style("white-space","pre");var J=_(N.node(),W);J&&N.style("pointer-events","all"),H.positionText(N),V&&V.call(N)}return $?(z&&z._promises||[]).push(new Promise(function(J){N.style("display","none");var X=parseInt(N.node().style.fontSize,10),oe={fontSize:X};n($[2],oe,function(Y,q,se){re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove();var Q=Y&&Y.select("svg");if(!Q||!Q.node()){ue(),J();return}var K=re.append("g").classed(ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});K.node().appendChild(Q.node()),q&&q.node()&&Q.node().insertBefore(q.node().cloneNode(!0),Q.node().firstChild);var le=se.width,ie=se.height;Q.attr({class:ne,height:ie,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ce=N.node().style.fill||"black",ye=Q.select("g");ye.attr({fill:ce,stroke:ce});var Ce=ye.node().getBoundingClientRect(),Ae=Ce.width,ke=Ce.height;(Ae>le||ke>ie)&&(Q.style("overflow","hidden"),Ce=Q.node().getBoundingClientRect(),Ae=Ce.width,ke=Ce.height);var we=+N.attr("x"),Ee=+N.attr("y"),xe=X||N.node().getBoundingClientRect().height,Pe=-xe/4;if(ne[0]==="y")K.attr({transform:"rotate("+[-90,we,Ee]+")"+a(-Ae/2,Pe-ke/2)});else if(ne[0]==="l")Ee=Pe-ke/2;else if(ne[0]==="a"&&ne.indexOf("atitle")!==0)we=0,Ee=Pe;else{var Ue=N.attr("text-anchor");we=we-Ae*(Ue==="middle"?.5:Ue==="end"?1:0),Ee=Ee+Pe-ke/2}Q.attr({x:we,y:Ee}),V&&V.call(N,K),J(K)})})):ue(),N};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(N){return N.replace(p,"\\lt ").replace(r,"\\gt ")}var i=[["$","$"],["\\(","\\)"]];function n(N,z,V){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){P.warn("No MathJax version:",MathJax.version);return}var $,re,ne,ue,J=function(){return re=P.extendDeepAll({},MathJax.Hub.config),ne=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},X=function(){re=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i},oe=function(){if($=MathJax.Hub.config.menuSettings.renderer,$!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){$=MathJax.config.startup.output,$!=="svg"&&(MathJax.config.startup.output="svg")},q=function(){var ce="math-output-"+P.randstr({},64);ue=g.select("body").append("div").attr({id:ce}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(N));var ye=ue.node();return W===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},se=function(){var ce=ue.select(W===2?".MathJax_SVG":".MathJax"),ye=!ce.empty()&&ue.select("svg").node();if(!ye)P.log("There was an error in the tex syntax.",N),V();else{var Ce=ye.getBoundingClientRect(),Ae;W===2?Ae=g.select("body").select("#MathJax_SVG_glyphs"):Ae=ce.select("defs"),V(ce,Ae,Ce)}ue.remove()},Q=function(){if($!=="SVG")return MathJax.Hub.setRenderer($)},K=function(){$!=="svg"&&(MathJax.config.startup.output=$)},le=function(){return ne!==void 0&&(MathJax.Hub.processSectionDelay=ne),MathJax.Hub.Config(re)},ie=function(){MathJax.config=re};W===2?MathJax.Hub.Queue(J,oe,q,se,Q,le):W===3&&(X(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),se(),K(),ie()}))}var u={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},y="​",h=["http:","https:","mailto:","",void 0,":"],S=H.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;H.BR_TAG_ALL=/<br(\s+.*)?>/gi;var w=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(N,z){if(!N)return null;var V=N.match(z),W=V&&(V[3]||V[4]);return W&&T(W)}var b=/(^|;)\s*color:/;H.plainText=function(N,z){z=z||{};for(var V=z.len!==void 0&&z.len!==-1?z.len:1/0,W=z.allowedTags!==void 0?z.allowedTags:["br"],$="...",re=$.length,ne=N.split(c),ue=[],J="",X=0,oe=0;oe<ne.length;oe++){var Y=ne[oe],q=Y.match(o),se=q&&q[2].toLowerCase();if(se)W.indexOf(se)!==-1&&(ue.push(Y),J=se);else{var Q=Y.length;if(X+Q<V)ue.push(Y),X+=Q;else if(X<V){var K=V-X;J&&(J!=="br"||K<=re||Q<=re)&&ue.pop(),V>re?ue.push(Y.substr(0,K-re)+$):ue.push(Y.substr(0,K));break}J=""}}return ue.join("")};var s={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},L=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function T(N){return N.replace(L,function(z,V){var W;return V.charAt(0)==="#"?W=k(V.charAt(1)==="x"?parseInt(V.substr(2),16):parseInt(V.substr(1),10)):W=s[V],W||z})}H.convertEntities=T;function k(N){if(!(N>1114111)){var z=String.fromCodePoint;if(z)return z(N);var V=String.fromCharCode;return N<=65535?V(N):V((N>>10)+55232,N%1024+56320)}}function _(N,z){z=z.replace(S," ");var V=!1,W=[],$,re=-1;function ne(){re++;var ke=document.createElementNS(x.svg,"tspan");g.select(ke).attr({class:"line",dy:re*M+"em"}),N.appendChild(ke),$=ke;var we=W;if(W=[{node:ke}],we.length>1)for(var Ee=1;Ee<we.length;Ee++)ue(we[Ee])}function ue(ke){var we=ke.type,Ee={},xe;if(we==="a"){xe="a";var Pe=ke.target,Ue=ke.href,Be=ke.popup;Ue&&(Ee={"xlink:xlink:show":Pe==="_blank"||Pe.charAt(0)!=="_"?"new":"replace",target:Pe,"xlink:xlink:href":Ue},Be&&(Ee.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Be+'");return false;'))}else xe="tspan";ke.style&&(Ee.style=ke.style);var Ne=document.createElementNS(x.svg,xe);if(we==="sup"||we==="sub"){J($,y),$.appendChild(Ne);var Xe=document.createElementNS(x.svg,"tspan");J(Xe,y),g.select(Xe).attr("dy",l[we]),Ee.dy=f[we],$.appendChild(Ne),$.appendChild(Xe)}else $.appendChild(Ne);g.select(Ne).attr(Ee),$=ke.node=Ne,W.push(ke)}function J(ke,we){ke.appendChild(document.createTextNode(we))}function X(ke){if(W.length===1){P.log("Ignoring unexpected end tag </"+ke+">.",z);return}var we=W.pop();ke!==we.type&&P.log("Start tag <"+we.type+"> doesnt match end tag <"+ke+">. Pretending it did match.",z),$=W[W.length-1].node}var oe=d.test(z);oe?ne():($=N,W=[{node:N}]);for(var Y=z.split(c),q=0;q<Y.length;q++){var se=Y[q],Q=se.match(o),K=Q&&Q[2].toLowerCase(),le=u[K];if(K==="br")ne();else if(le===void 0)J($,T(se));else if(Q[1])X(K);else{var ie=Q[4],ce={type:K},ye=E(ie,w);if(ye?(ye=ye.replace(b,"$1 fill:"),le&&(ye+=";"+le)):le&&(ye=le),ye&&(ce.style=ye),K==="a"){V=!0;var Ce=E(ie,A);if(Ce){var Ae=B(Ce);Ae&&(ce.href=Ae,ce.target=E(ie,C)||"_blank",ce.popup=E(ie,m))}}ue(ce)}}return V}function B(N){var z=encodeURI(decodeURI(N)),V=document.createElement("a"),W=document.createElement("a");V.href=N,W.href=z;var $=V.protocol,re=W.protocol;return h.indexOf($)!==-1&&h.indexOf(re)!==-1?z:""}H.sanitizeHTML=function(z){z=z.replace(S," ");for(var V=document.createElement("p"),W=V,$=[],re=z.split(c),ne=0;ne<re.length;ne++){var ue=re[ne],J=ue.match(o),X=J&&J[2].toLowerCase();if(X in u)if(J[1])$.length&&(W=$.pop());else{var oe=J[4],Y=E(oe,w),q=Y?{style:Y}:{};if(X==="a"){var se=E(oe,A);if(se){var Q=B(se);if(Q){q.href=Q;var K=E(oe,C);K&&(q.target=K)}}}var le=document.createElement(X);W.appendChild(le),g.select(le).attr(q),W=le,$.push(le)}else W.appendChild(document.createTextNode(T(ue)))}var ie="innerHTML";return V[ie]},H.lineCount=function(z){return z.selectAll("tspan.line").size()||1},H.positionText=function(z,V,W){return z.each(function(){var $=g.select(this);function re(J,X){return X===void 0?(X=$.attr(J),X===null&&($.attr(J,0),X=0)):$.attr(J,X),X}var ne=re("x",V),ue=re("y",W);this.nodeName==="text"&&$.selectAll("tspan.line").attr({x:ne,y:ue})})};function F(N,z,V){var W=V.horizontalAlign,$=V.verticalAlign||"top",re=N.node().getBoundingClientRect(),ne=z.node().getBoundingClientRect(),ue,J,X;return $==="bottom"?J=function(){return re.bottom-ue.height}:$==="middle"?J=function(){return re.top+(re.height-ue.height)/2}:J=function(){return re.top},W==="right"?X=function(){return re.right-ue.width}:W==="center"?X=function(){return re.left+(re.width-ue.width)/2}:X=function(){return re.left},function(){ue=this.node().getBoundingClientRect();var oe=X()-ne.left,Y=J()-ne.top,q=V.gd||{};if(V.gd){q._fullLayout._calcInverseTransform(q);var se=P.apply3DTransform(q._fullLayout._invTransform)(oe,Y);oe=se[0],Y=se[1]}return this.style({top:Y+"px",left:oe+"px","z-index":1e3}),this}}var O="1px ";H.makeTextShadow=function(N){var z=O,V=O,W=O;return z+V+W+N+", -"+z+"-"+V+W+N+", "+z+"-"+V+W+N+", -"+z+V+W+N},H.makeEditable=function(N,z){var V=z.gd,W=z.delegate,$=g.dispatch("edit","input","cancel"),re=W||N;if(N.style({"pointer-events":W?"none":"all"}),N.size()!==1)throw new Error("boo");function ne(){J(),N.style({opacity:0});var X=re.attr("class"),oe;X?oe="."+X.split(" ")[0]+"-math-group":oe="[class*=-math-group]",oe&&g.select(N.node().parentNode).select(oe).style({opacity:0})}function ue(X){var oe=X.node(),Y=document.createRange();Y.selectNodeContents(oe);var q=window.getSelection();q.removeAllRanges(),q.addRange(Y),oe.focus()}function J(){var X=g.select(V),oe=X.select(".svg-container"),Y=oe.append("div"),q=N.node().style,se=parseFloat(q.fontSize||12),Q=z.text;Q===void 0&&(Q=N.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":se,color:z.fill||q.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(F(N,oe,z)).on("blur",function(){V._editing=!1,N.text(this.textContent).style({opacity:1});var K=g.select(this).attr("class"),le;K?le="."+K.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&g.select(N.node().parentNode).select(le).style({opacity:0});var ie=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),$.edit.call(N,ie)}).on("focus",function(){var K=this;V._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===K)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){g.event.which===27?(V._editing=!1,N.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),$.cancel.call(N,this.textContent)):($.input.call(N,this.textContent),g.select(this).call(F(N,oe,z)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(ue)}return z.immediate?ne():re.on("click",ne),g.rebind(N,$,"on")}},91200:function(j,H){var e={};H.throttle=function(a,x,M){var v=e[a],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[a]={ts:0,timer:null}}g(v);function t(){M(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+x){t();return}v.timer=setTimeout(function(){t(),v.timer=null},x)},H.done=function(P){var a=e[P];return!a||!a.timer?Promise.resolve():new Promise(function(x){var M=a.onDone;a.onDone=function(){M&&M(),x(),a.onDone=null}})},H.clear=function(P){if(P)g(e[P]),delete e[P];else for(var a in e)H.clear(a)};function g(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(j,H,e){var g=e(38248);j.exports=function(a,x){if(a>0)return Math.log(a)/Math.LN10;var M=Math.log(Math.min(x[0],x[1]))/Math.LN10;return g(M)||(M=Math.log(Math.max(x[0],x[1]))/Math.LN10-6),M}},59972:function(j,H,e){var g=j.exports={},P=e(79552).locationmodeToLayer,a=e(55712).NO;g.getTopojsonName=function(x){return[x.scope.replace(/ /g,"-"),"_",x.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(x,M){return x+M+".json"},g.getTopojsonFeatures=function(x,M){var v=P[x.locationmode],p=M.objects[v];return a(M,p).features}},11680:function(j){j.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(j){j.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(j,H,e){var g=e(24040);j.exports=function(a){for(var x=g.layoutArrayContainers,M=g.layoutArrayRegexes,v=a.split("[")[0],p,r,t=0;t<M.length;t++)if(r=a.match(M[t]),r&&r.index===0){p=r[0];break}if(p||(p=x[x.indexOf(v)]),!p)return!1;var i=a.substr(p.length);return i?(r=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(j,H,e){var g=e(92880).extendFlat,P=e(63620),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},x={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=a.flags.slice().concat(["fullReplot"]),v=x.flags.slice().concat("layoutReplot");j.exports={traces:a,layout:x,traceFlags:function(){return p(M)},layoutFlags:function(){return p(v)},update:function(i,n){var u=n.editType;if(u&&u!=="none")for(var f=u.split("+"),l=0;l<f.length;l++)i[f[l]]=!0},overrideAll:r};function p(i){for(var n={},u=0;u<i.length;u++)n[i[u]]=!1;return n}function r(i,n,u){var f=g({},i);for(var l in f){var y=f[l];P(y)&&(f[l]=t(y,n,u,l))}return u==="from-root"&&(f.editType=n),f}function t(i,n,u,f){if(i.valType){var l=g({},i);if(l.editType=n,Array.isArray(i.items)){l.items=new Array(i.items.length);for(var y=0;y<i.items.length;y++)l.items[y]=t(i.items[y],n)}return l}else return r(i,n,f.charAt(0)==="_"?"nested":"from-root")}},93404:function(j,H,e){var g=e(38248),P=e(61784),a=e(24040),x=e(3400),M=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,i=a.traceIs;H.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&x.log("Clearing previous rejected promises from queue."),d._promises=[]},H.cleanLayout=function(d){var w,A;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(M.subplotsRegistry.cartesian||{}).attrRegex,m=(M.subplotsRegistry.polar||{}).attrRegex,E=(M.subplotsRegistry.ternary||{}).attrRegex,b=(M.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(d);for(w=0;w<s.length;w++){var L=s[w];if(C&&C.test(L)){var T=d[L];T.anchor&&T.anchor!=="free"&&(T.anchor=r(T.anchor)),T.overlaying&&(T.overlaying=r(T.overlaying)),T.type||(T.isdate?T.type="date":T.islog?T.type="log":T.isdate===!1&&T.islog===!1&&(T.type="linear")),(T.autorange==="withzero"||T.autorange==="tozero")&&(T.autorange=!0,T.rangemode="tozero"),T.insiderange&&delete T.range,delete T.islog,delete T.isdate,delete T.categories,h(T,"domain")&&delete T.domain,T.autotick!==void 0&&(T.tickmode===void 0&&(T.tickmode=T.autotick?"auto":"linear"),delete T.autotick),u(T)}else if(m&&m.test(L)){var k=d[L];u(k.radialaxis)}else if(E&&E.test(L)){var _=d[L];u(_.aaxis),u(_.baxis),u(_.caxis)}else if(b&&b.test(L)){var B=d[L],F=B.cameraposition;if(Array.isArray(F)&&F[0].length===4){var O=F[0],N=F[1],z=F[2],V=P([],O),W=[];for(A=0;A<3;++A)W[A]=N[A]+z*V[2+4*A];B.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:N[0],y:N[1],z:N[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}u(B.xaxis),u(B.yaxis),u(B.zaxis)}}var $=Array.isArray(d.annotations)?d.annotations.length:0;for(w=0;w<$;w++){var re=d.annotations[w];x.isPlainObject(re)&&(re.ref&&(re.ref==="paper"?(re.xref="paper",re.yref="paper"):re.ref==="data"&&(re.xref="x",re.yref="y"),delete re.ref),n(re,"xref"),n(re,"yref"))}var ne=Array.isArray(d.shapes)?d.shapes.length:0;for(w=0;w<ne;w++){var ue=d.shapes[w];x.isPlainObject(ue)&&(n(ue,"xref"),n(ue,"yref"))}var J=Array.isArray(d.images)?d.images.length:0;for(w=0;w<J;w++){var X=d.images[w];x.isPlainObject(X)&&(n(X,"xref"),n(X,"yref"))}var oe=d.legend;return oe&&(oe.x>3?(oe.x=1.02,oe.xanchor="left"):oe.x<-2&&(oe.x=-.02,oe.xanchor="right"),oe.y>3?(oe.y=1.02,oe.yanchor="bottom"):oe.y<-2&&(oe.y=-.02,oe.yanchor="top")),u(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&H.cleanLayout(d.template.layout),d};function n(d,w){var A=d[w],C=w.charAt(0);A&&A!=="paper"&&(d[w]=r(A,C,!0))}function u(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),w("titlefont","font"),w("titleposition","position"),w("titleside","side"),w("titleoffset","offset"));function w(A,C){var m=d[A],E=d.title&&d.title[C];m&&!E&&(d.title||(d.title={}),d.title[C]=d[A],delete d[A])}}H.cleanData=function(d){for(var w=0;w<d.length;w++){var A=d[w],C;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var m=p.defaults,E=A.error_y.color||(i(A,"bar")?p.defaultLine:m[w%m.length]);A.error_y.color=p.addOpacity(p.rgb(E),p.opacity(E)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(i(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",H.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&H.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=r(A.xaxis,"x")),A.yaxis&&(A.yaxis=r(A.yaxis,"y")),i(A,"gl3d")&&A.scene&&(A.scene=M.subplotsRegistry.gl3d.cleanId(A.scene)),!i(A,"pie-like")&&!i(A,"bar-like"))if(Array.isArray(A.textposition))for(C=0;C<A.textposition.length;C++)A.textposition[C]=y(A.textposition[C]);else A.textposition&&(A.textposition=y(A.textposition));var b=a.getModule(A);if(b&&b.colorbar){var s=b.colorbar.container,L=s?A[s]:A;L&&L.colorscale&&(L.colorscale==="YIGnBu"&&(L.colorscale="YlGnBu"),L.colorscale==="YIOrRd"&&(L.colorscale="YlOrRd"))}if(A.type==="surface"&&x.isPlainObject(A.contours)){var T=["x","y","z"];for(C=0;C<T.length;C++){var k=A.contours[T[C]];x.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var _=(A.increasing||{}).showlegend!==!1,B=(A.decreasing||{}).showlegend!==!1,F=f(A.increasing),O=f(A.decreasing);if(F!==!1&&O!==!1){var N=l(F,O,_,B);N&&(A.name=N)}else(F||O)&&!A.name&&(A.name=F||O)}if(Array.isArray(A.transforms)){var z=A.transforms;for(C=0;C<z.length;C++){var V=z[C];if(x.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var W=V.styles,$=Object.keys(W);V.styles=[];for(var re=0;re<$.length;re++)V.styles.push({target:$[re],value:W[$[re]]})}break}}}h(A,"line")&&delete A.line,"marker"in A&&(h(A.marker,"line")&&delete A.marker.line,h(A,"marker")&&delete A.marker),p.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),u(A),A.colorbar&&u(A.colorbar),A.marker&&A.marker.colorbar&&u(A.marker.colorbar),A.line&&A.line.colorbar&&u(A.line.colorbar),A.aaxis&&u(A.aaxis),A.baxis&&u(A.baxis)}};function f(d){if(!x.isPlainObject(d))return!1;var w=d.name;return delete d.name,delete d.showlegend,(typeof w=="string"||typeof w=="number")&&String(w)}function l(d,w,A,C){if(A&&!C)return d;if(C&&!A||!d.trim())return w;if(!w.trim())return d;var m=Math.min(d.length,w.length),E;for(E=0;E<m&&d.charAt(E)===w.charAt(E);E++);var b=d.substr(0,E);return b.trim()}function y(d){var w="middle",A="center";return typeof d=="string"&&(d.indexOf("top")!==-1?w="top":d.indexOf("bottom")!==-1&&(w="bottom"),d.indexOf("left")!==-1?A="left":d.indexOf("right")!==-1&&(A="right")),w+" "+A}function h(d,w){return w in d&&typeof d[w]=="object"&&Object.keys(d[w]).length===0}H.swapXYData=function(d){var w;if(x.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var A=d.error_y,C="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);x.swapAttrs(d,["error_?.copy_ystyle"]),C&&x.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var m=d.hoverinfo.split("+");for(w=0;w<m.length;w++)m[w]==="x"?m[w]="y":m[w]==="y"&&(m[w]="x");d.hoverinfo=m.join("+")}},H.coerceTraceIndices=function(d,w){if(g(w))return[w];if(!Array.isArray(w)||!w.length)return d.data.map(function(m,E){return E});if(Array.isArray(w)){for(var A=[],C=0;C<w.length;C++)x.isIndex(w[C],d.data.length)?A.push(w[C]):x.warn("trace index (",w[C],") is not a number or is out of bounds");return A}return w},H.manageArrayContainers=function(d,w,A){var C=d.obj,m=d.parts,E=m.length,b=m[E-1],s=g(b);if(s&&w===null){var L=m.slice(0,E-1).join("."),T=x.nestedProperty(C,L).get();T.splice(b,1)}else s&&d.get()===void 0&&d.get()===void 0&&(A[d.astr]=null),d.set(w)};var S=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var w=d.search(S);if(w>0)return d.substr(0,w)}H.hasParent=function(d,w){for(var A=c(w);A;){if(A in d)return!0;A=c(A)}return!1};var o=["x","y","z"];H.clearAxisTypes=function(d,w,A){for(var C=0;C<w.length;C++)for(var m=d._fullData[C],E=0;E<3;E++){var b=t(d,m,o[E]);if(b&&b.type!=="log"){var s=b._name,L=b._id.substr(1);if(L.substr(0,5)==="scene"){if(A[L]!==void 0)continue;s=L+"."+s}var T=s+".type";A[s]===void 0&&A[T]===void 0&&x.nestedProperty(d.layout,T).set(null)}}}},22448:function(j,H,e){var g=e(36424);H._doPlot=g._doPlot,H.newPlot=g.newPlot,H.restyle=g.restyle,H.relayout=g.relayout,H.redraw=g.redraw,H.update=g.update,H._guiRestyle=g._guiRestyle,H._guiRelayout=g._guiRelayout,H._guiUpdate=g._guiUpdate,H._storeDirectGUIEdit=g._storeDirectGUIEdit,H.react=g.react,H.extendTraces=g.extendTraces,H.prependTraces=g.prependTraces,H.addTraces=g.addTraces,H.deleteTraces=g.deleteTraces,H.moveTraces=g.moveTraces,H.purge=g.purge,H.addFrames=g.addFrames,H.deleteFrames=g.deleteFrames,H.animate=g.animate,H.setPlotConfig=g.setPlotConfig;var P=e(52200).getGraphDiv,a=e(4016).eraseActiveShape;H.deleteActiveShape=function(M){return a(P(M))},H.toImage=e(67024),H.validate=e(21480),H.downloadImage=e(39792);var x=e(94828);H.makeTemplate=x.makeTemplate,H.validateTemplate=x.validateTemplate},17680:function(j,H,e){var g=e(63620),P=e(16628),a=e(24248),x=e(14952).sorterAsc,M=e(24040);H.containerArrayMatch=e(69820);var v=H.isAddVal=function(t){return t==="add"||g(t)},p=H.isRemoveVal=function(t){return t===null||t==="remove"};H.applyContainerArrayChanges=function(t,i,n,u,f){var l=i.astr,y=M.getComponentMethod(l,"supplyLayoutDefaults"),h=M.getComponentMethod(l,"draw"),S=M.getComponentMethod(l,"drawOne"),c=u.replot||u.recalc||y===P||h===P,o=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",l);var w=n[""][""];if(p(w))i.set(null);else if(Array.isArray(w))i.set(w);else return a.warn("Unrecognized full array edit value",l,w),!0;return c?!1:(y(o,d),h(t),!0)}var A=Object.keys(n).map(Number).sort(x),C=i.get(),m=C||[],E=f(d,l).get(),b=[],s=-1,L=m.length,T,k,_,B,F,O,N,z;for(T=0;T<A.length;T++){if(_=A[T],B=n[_],F=Object.keys(B),O=B[""],N=v(O),_<0||_>m.length-(N?0:1)){a.warn("index out of range",l,_);continue}if(O!==void 0)F.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,_),p(O)?b.push(_):N?(O==="add"&&(O={}),m.splice(_,0,O),E&&E.splice(_,0,{})):a.warn("Unrecognized full object edit value",l,_,O),s===-1&&(s=_);else for(k=0;k<F.length;k++)z=l+"["+_+"].",f(m[_],F[k],z).set(B[F[k]])}for(T=b.length-1;T>=0;T--)m.splice(b[T],1),E&&E.splice(b[T],1);if(m.length?C||i.set(m):i.set(null),c)return!1;if(y(o,d),S!==P){var V;if(s===-1)V=A;else{for(L=Math.max(m.length,L),V=[],T=0;T<A.length&&(_=A[T],!(_>=s));T++)V.push(_);for(T=s;T<L;T++)V.push(T)}for(T=0;T<V.length;T++)S(t,V[T])}else h(t);return!0}},36424:function(j,H,e){var g=e(33428),P=e(38248),a=e(52264),x=e(3400),M=x.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),i=e(7316),n=e(54460),u=e(96312),f=e(94724),l=e(43616),y=e(76308),h=e(42464).initInteractions,S=e(9616),c=e(22676).clearOutline,o=e(20556).dfltConfig,d=e(17680),w=e(93404),A=e(39172),C=e(67824),m=e(33816).AX_NAME_PATTERN,E=0,b=5;function s(Te,Oe,Ke,nt){var pt;if(Te=x.getGraphDiv(Te),v.init(Te),x.isPlainObject(Oe)){var yt=Oe;Oe=yt.data,Ke=yt.layout,nt=yt.config,pt=yt.frames}var Yt=v.triggerHandler(Te,"plotly_beforeplot",[Oe,Ke,nt]);if(Yt===!1)return Promise.reject();!Oe&&!Ke&&!x.isPlotDiv(Te)&&x.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Te);function Xt(){if(pt)return H.addFrames(Te,pt)}B(Te,nt),Ke||(Ke={}),g.select(Te).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(Te._promises)||(Te._promises=[]);var St=(Te.data||[]).length===0&&Array.isArray(Oe);Array.isArray(Oe)&&(w.cleanData(Oe),St?Te.data=Oe:Te.data.push.apply(Te.data,Oe),Te.empty=!1),(!Te.layout||St)&&(Te.layout=w.cleanLayout(Ke)),i.supplyDefaults(Te);var kt=Te._fullLayout,Kt=kt._has("cartesian");kt._replotting=!0,(St||kt._shouldCreateBgLayer)&&(Me(Te),kt._shouldCreateBgLayer&&delete kt._shouldCreateBgLayer),l.initGradients(Te),l.initPatterns(Te),St&&n.saveShowSpikeInitial(Te);var mr=!Te.calcdata||Te.calcdata.length!==(Te._fullData||[]).length;mr&&i.doCalcdata(Te);for(var mt=0;mt<Te.calcdata.length;mt++)Te.calcdata[mt][0].trace=Te._fullData[mt];Te._context.responsive?Te._responsiveChartHandler||(Te._responsiveChartHandler=function(){x.isHidden(Te)||i.resize(Te)},window.addEventListener("resize",Te._responsiveChartHandler)):x.clearResponsive(Te);var Zt=x.extendFlat({},kt._size),Qt=0;function yr(){for(var Vt=kt._basePlotModules,Bt=0;Bt<Vt.length;Bt++)Vt[Bt].drawFramework&&Vt[Bt].drawFramework(Te);!kt._glcanvas&&kt._has("gl")&&(kt._glcanvas=kt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),kt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var $t=Te._context.plotGlPixelRatio;if(kt._glcanvas){kt._glcanvas.attr("width",kt.width*$t).attr("height",kt.height*$t).style("width",kt.width+"px").style("height",kt.height+"px");var fr=kt._glcanvas.data()[0].regl;if(fr&&(Math.floor(kt.width*$t)!==fr._gl.drawingBufferWidth||Math.floor(kt.height*$t)!==fr._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Qt)x.error(cr);else return x.log(cr+" Clearing graph and plotting again."),i.cleanPlot([],{},Te._fullData,kt),i.supplyDefaults(Te),kt=Te._fullLayout,i.doCalcdata(Te),Qt++,yr()}}return kt.modebar.orientation==="h"?kt._modebardiv.style("height",null).style("width","100%"):kt._modebardiv.style("width",null).style("height",kt.height+"px"),i.previousPromises(Te)}function sr(){if(i.clearAutoMarginIds(Te),A.drawMarginPushers(Te),n.allowAutoMargin(Te),Te._fullLayout.title.text&&Te._fullLayout.title.automargin&&i.allowAutoMargin(Te,"title.automargin"),kt._has("pie"))for(var Vt=Te._fullData,Bt=0;Bt<Vt.length;Bt++){var $t=Vt[Bt];$t.type==="pie"&&$t.automargin&&i.allowAutoMargin(Te,"pie."+$t.uid+".automargin")}return i.doAutoMargin(Te),i.previousPromises(Te)}function bt(){if(i.didMarginChange(Zt,kt._size))return x.syncOrAsync([sr,A.layoutStyles],Te)}function lt(){if(!mr){Tt();return}return x.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),Tt],Te)}function Tt(){Te._transitioning||(A.doAutoRangeAndConstraints(Te),St&&n.saveRangeInitial(Te),r.getComponentMethod("rangeslider","calcAutorange")(Te))}function Ct(){return n.draw(Te,St?"":"redraw")}var It=[i.previousPromises,Xt,yr,sr,bt];Kt&&It.push(lt),It.push(A.layoutStyles),Kt&&It.push(Ct,function(Bt){var $t=Bt._fullLayout._insideTickLabelsUpdaterange;if($t)return Bt._fullLayout._insideTickLabelsUpdaterange=void 0,Ce(Bt,$t).then(function(){n.saveRangeInitial(Bt,!0)})}),It.push(A.drawData,A.finalDraw,h,i.addLinks,i.rehover,i.redrag,i.reselect,i.doAutoMargin,i.previousPromises);var Dt=x.syncOrAsync(It,Te);return(!Dt||!Dt.then)&&(Dt=Promise.resolve()),Dt.then(function(){return L(Te),Te})}function L(Te){var Oe=Te._fullLayout;Oe._redrawFromAutoMarginCount?Oe._redrawFromAutoMarginCount--:Te.emit("plotly_afterplot")}function T(Te){return x.extendFlat(o,Te)}function k(Te,Oe){try{Te._fullLayout._paper.style("background",Oe)}catch(Ke){x.error(Ke)}}function _(Te,Oe){var Ke=y.combine(Oe,"white");k(Te,Ke)}function B(Te,Oe){if(!Te._context){Te._context=x.extendDeep({},o);var Ke=g.select("base");Te._context._baseUrl=Ke.size()&&Ke.attr("href")?window.location.href.split("#")[0]:""}var nt=Te._context,pt,yt,Yt;if(Oe){for(yt=Object.keys(Oe),pt=0;pt<yt.length;pt++)Yt=yt[pt],!(Yt==="editable"||Yt==="edits")&&Yt in nt&&(Yt==="setBackground"&&Oe[Yt]==="opaque"?nt[Yt]=_:nt[Yt]=Oe[Yt]);Oe.plot3dPixelRatio&&!nt.plotGlPixelRatio&&(nt.plotGlPixelRatio=nt.plot3dPixelRatio);var Xt=Oe.editable;if(Xt!==void 0)for(nt.editable=Xt,yt=Object.keys(nt.edits),pt=0;pt<yt.length;pt++)nt.edits[yt[pt]]=Xt;if(Oe.edits)for(yt=Object.keys(Oe.edits),pt=0;pt<yt.length;pt++)Yt=yt[pt],Yt in nt.edits&&(nt.edits[Yt]=Oe.edits[Yt]);nt._exportedPlot=Oe._exportedPlot}nt.staticPlot&&(nt.editable=!1,nt.edits={},nt.autosizable=!1,nt.scrollZoom=!1,nt.doubleClick=!1,nt.showTips=!1,nt.showLink=!1,nt.displayModeBar=!1),nt.displayModeBar==="hover"&&!a&&(nt.displayModeBar=!0),(nt.setBackground==="transparent"||typeof nt.setBackground!="function")&&(nt.setBackground=k),nt._hasZeroHeight=nt._hasZeroHeight||Te.clientHeight===0,nt._hasZeroWidth=nt._hasZeroWidth||Te.clientWidth===0;var St=nt.scrollZoom,kt=nt._scrollZoom={};if(St===!0)kt.cartesian=1,kt.gl3d=1,kt.geo=1,kt.mapbox=1;else if(typeof St=="string"){var Kt=St.split("+");for(pt=0;pt<Kt.length;pt++)kt[Kt[pt]]=1}else St!==!1&&(kt.gl3d=1,kt.geo=1,kt.mapbox=1)}function F(Te){if(Te=x.getGraphDiv(Te),!x.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);return w.cleanData(Te.data),w.cleanLayout(Te.layout),Te.calcdata=void 0,H._doPlot(Te).then(function(){return Te.emit("plotly_redraw"),Te})}function O(Te,Oe,Ke,nt){return Te=x.getGraphDiv(Te),i.cleanPlot([],{},Te._fullData||[],Te._fullLayout||{}),i.purge(Te),H._doPlot(Te,Oe,Ke,nt)}function N(Te,Oe){var Ke=Oe+1,nt=[],pt,yt;for(pt=0;pt<Te.length;pt++)yt=Te[pt],yt<0?nt.push(Ke+yt):nt.push(yt);return nt}function z(Te,Oe,Ke){var nt,pt;for(nt=0;nt<Oe.length;nt++){if(pt=Oe[nt],pt!==parseInt(pt,10))throw new Error("all values in "+Ke+" must be integers");if(pt>=Te.data.length||pt<-Te.data.length)throw new Error(Ke+" must be valid indices for gd.data.");if(Oe.indexOf(pt,nt+1)>-1||pt>=0&&Oe.indexOf(-Te.data.length+pt)>-1||pt<0&&Oe.indexOf(Te.data.length+pt)>-1)throw new Error("each index in "+Ke+" must be unique.")}}function V(Te,Oe,Ke){if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(typeof Oe>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Oe)||(Oe=[Oe]),z(Te,Oe,"currentIndices"),typeof Ke<"u"&&!Array.isArray(Ke)&&(Ke=[Ke]),typeof Ke<"u"&&z(Te,Ke,"newIndices"),typeof Ke<"u"&&Oe.length!==Ke.length)throw new Error("current and new indices must be of equal length.")}function W(Te,Oe,Ke){var nt,pt;if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(typeof Oe>"u")throw new Error("traces must be defined.");for(Array.isArray(Oe)||(Oe=[Oe]),nt=0;nt<Oe.length;nt++)if(pt=Oe[nt],typeof pt!="object"||Array.isArray(pt)||pt===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ke<"u"&&!Array.isArray(Ke)&&(Ke=[Ke]),typeof Ke<"u"&&Ke.length!==Oe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function $(Te,Oe,Ke,nt){var pt=x.isPlainObject(nt);if(!Array.isArray(Te.data))throw new Error("gd.data must be an array");if(!x.isPlainObject(Oe))throw new Error("update must be a key:value object");if(typeof Ke>"u")throw new Error("indices must be an integer or array of integers");z(Te,Ke,"indices");for(var yt in Oe){if(!Array.isArray(Oe[yt])||Oe[yt].length!==Ke.length)throw new Error("attribute "+yt+" must be an array of length equal to indices array length");if(pt&&(!(yt in nt)||!Array.isArray(nt[yt])||nt[yt].length!==Oe[yt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function re(Te,Oe,Ke,nt){var pt=x.isPlainObject(nt),yt=[],Yt,Xt,St,kt,Kt;Array.isArray(Ke)||(Ke=[Ke]),Ke=N(Ke,Te.data.length-1);for(var mr in Oe)for(var mt=0;mt<Ke.length;mt++){if(Yt=Te.data[Ke[mt]],St=M(Yt,mr),Xt=St.get(),kt=Oe[mr][mt],!x.isArrayOrTypedArray(kt))throw new Error("attribute: "+mr+" index: "+mt+" must be an array");if(!x.isArrayOrTypedArray(Xt))throw new Error("cannot extend missing or non-array attribute: "+mr);if(Xt.constructor!==kt.constructor)throw new Error("cannot extend array with an array of a different type: "+mr);Kt=pt?nt[mr][mt]:nt,P(Kt)||(Kt=-1),yt.push({prop:St,target:Xt,insert:kt,maxp:Math.floor(Kt)})}return yt}function ne(Te,Oe,Ke,nt,pt){$(Te,Oe,Ke,nt);for(var yt=re(Te,Oe,Ke,nt),Yt={},Xt={},St=0;St<yt.length;St++){var kt=yt[St].prop,Kt=yt[St].maxp,mr=pt(yt[St].target,yt[St].insert,Kt);kt.set(mr[0]),Array.isArray(Yt[kt.astr])||(Yt[kt.astr]=[]),Yt[kt.astr].push(mr[1]),Array.isArray(Xt[kt.astr])||(Xt[kt.astr]=[]),Xt[kt.astr].push(yt[St].target.length)}return{update:Yt,maxPoints:Xt}}function ue(Te,Oe){var Ke=new Te.constructor(Te.length+Oe.length);return Ke.set(Te),Ke.set(Oe,Te.length),Ke}function J(Te,Oe,Ke,nt){Te=x.getGraphDiv(Te);function pt(St,kt,Kt){var mr,mt;if(x.isTypedArray(St))if(Kt<0){var Zt=new St.constructor(0),Qt=ue(St,kt);Kt<0?(mr=Qt,mt=Zt):(mr=Zt,mt=Qt)}else if(mr=new St.constructor(Kt),mt=new St.constructor(St.length+kt.length-Kt),Kt===kt.length)mr.set(kt),mt.set(St);else if(Kt<kt.length){var yr=kt.length-Kt;mr.set(kt.subarray(yr)),mt.set(St),mt.set(kt.subarray(0,yr),St.length)}else{var sr=Kt-kt.length,bt=St.length-sr;mr.set(St.subarray(bt)),mr.set(kt,sr),mt.set(St.subarray(0,bt))}else mr=St.concat(kt),mt=Kt>=0&&Kt<mr.length?mr.splice(0,mr.length-Kt):[];return[mr,mt]}var yt=ne(Te,Oe,Ke,nt,pt),Yt=H.redraw(Te),Xt=[Te,yt.update,Ke,yt.maxPoints];return p.add(Te,H.prependTraces,Xt,J,arguments),Yt}function X(Te,Oe,Ke,nt){Te=x.getGraphDiv(Te);function pt(St,kt,Kt){var mr,mt;if(x.isTypedArray(St))if(Kt<=0){var Zt=new St.constructor(0),Qt=ue(kt,St);Kt<0?(mr=Qt,mt=Zt):(mr=Zt,mt=Qt)}else if(mr=new St.constructor(Kt),mt=new St.constructor(St.length+kt.length-Kt),Kt===kt.length)mr.set(kt),mt.set(St);else if(Kt<kt.length){var yr=kt.length-Kt;mr.set(kt.subarray(0,yr)),mt.set(kt.subarray(yr)),mt.set(St,yr)}else{var sr=Kt-kt.length;mr.set(kt),mr.set(St.subarray(0,sr),kt.length),mt.set(St.subarray(sr))}else mr=kt.concat(St),mt=Kt>=0&&Kt<mr.length?mr.splice(Kt,mr.length):[];return[mr,mt]}var yt=ne(Te,Oe,Ke,nt,pt),Yt=H.redraw(Te),Xt=[Te,yt.update,Ke,yt.maxPoints];return p.add(Te,H.extendTraces,Xt,X,arguments),Yt}function oe(Te,Oe,Ke){Te=x.getGraphDiv(Te);var nt=[],pt=H.deleteTraces,yt=oe,Yt=[Te,nt],Xt=[Te,Oe],St,kt;for(W(Te,Oe,Ke),Array.isArray(Oe)||(Oe=[Oe]),Oe=Oe.map(function(Kt){return x.extendFlat({},Kt)}),w.cleanData(Oe),St=0;St<Oe.length;St++)Te.data.push(Oe[St]);for(St=0;St<Oe.length;St++)nt.push(-Oe.length+St);if(typeof Ke>"u")return kt=H.redraw(Te),p.add(Te,pt,Yt,yt,Xt),kt;Array.isArray(Ke)||(Ke=[Ke]);try{V(Te,nt,Ke)}catch(Kt){throw Te.data.splice(Te.data.length-Oe.length,Oe.length),Kt}return p.startSequence(Te),p.add(Te,pt,Yt,yt,Xt),kt=H.moveTraces(Te,nt,Ke),p.stopSequence(Te),kt}function Y(Te,Oe){Te=x.getGraphDiv(Te);var Ke=[],nt=H.addTraces,pt=Y,yt=[Te,Ke,Oe],Yt=[Te,Oe],Xt,St;if(typeof Oe>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Oe)||(Oe=[Oe]),z(Te,Oe,"indices"),Oe=N(Oe,Te.data.length-1),Oe.sort(x.sorterDes),Xt=0;Xt<Oe.length;Xt+=1)St=Te.data.splice(Oe[Xt],1)[0],Ke.push(St);var kt=H.redraw(Te);return p.add(Te,nt,yt,pt,Yt),kt}function q(Te,Oe,Ke){Te=x.getGraphDiv(Te);var nt=[],pt=[],yt=q,Yt=q,Xt=[Te,Ke,Oe],St=[Te,Oe,Ke],kt;if(V(Te,Oe,Ke),Oe=Array.isArray(Oe)?Oe:[Oe],typeof Ke>"u")for(Ke=[],kt=0;kt<Oe.length;kt++)Ke.push(-Oe.length+kt);for(Ke=Array.isArray(Ke)?Ke:[Ke],Oe=N(Oe,Te.data.length-1),Ke=N(Ke,Te.data.length-1),kt=0;kt<Te.data.length;kt++)Oe.indexOf(kt)===-1&&nt.push(Te.data[kt]);for(kt=0;kt<Oe.length;kt++)pt.push({newIndex:Ke[kt],trace:Te.data[Oe[kt]]});for(pt.sort(function(mr,mt){return mr.newIndex-mt.newIndex}),kt=0;kt<pt.length;kt+=1)nt.splice(pt[kt].newIndex,0,pt[kt].trace);Te.data=nt;var Kt=H.redraw(Te);return p.add(Te,yt,Xt,Yt,St),Kt}function se(Te,Oe,Ke,nt){Te=x.getGraphDiv(Te),w.clearPromiseQueue(Te);var pt={};if(typeof Oe=="string")pt[Oe]=Ke;else if(x.isPlainObject(Oe))pt=x.extendFlat({},Oe),nt===void 0&&(nt=Ke);else return x.warn("Restyle fail.",Oe,Ke,nt),Promise.reject();Object.keys(pt).length&&(Te.changed=!0);var yt=w.coerceTraceIndices(Te,nt),Yt=ce(Te,pt,yt),Xt=Yt.flags;Xt.calc&&(Te.calcdata=void 0),Xt.clearAxisTypes&&w.clearAxisTypes(Te,yt,{});var St=[];Xt.fullReplot?St.push(H._doPlot):(St.push(i.previousPromises),i.supplyDefaults(Te),Xt.markerSize&&(i.doCalcdata(Te),ke(St)),Xt.style&&St.push(A.doTraceStyle),Xt.colorbars&&St.push(A.doColorBars),St.push(L)),St.push(i.rehover,i.redrag,i.reselect),p.add(Te,se,[Te,Yt.undoit,Yt.traces],se,[Te,Yt.redoit,Yt.traces]);var kt=x.syncOrAsync(St,Te);return(!kt||!kt.then)&&(kt=Promise.resolve()),kt.then(function(){return Te.emit("plotly_restyle",Yt.eventData),Te})}function Q(Te){return Te===void 0?null:Te}function K(Te,Oe){return Oe?function(Ke,nt,pt){var yt=M(Ke,nt),Yt=yt.set;return yt.set=function(Xt){var St=(pt||"")+nt;le(St,yt.get(),Xt,Te),Yt(Xt)},yt}:M}function le(Te,Oe,Ke,nt){if(Array.isArray(Oe)||Array.isArray(Ke))for(var pt=Array.isArray(Oe)?Oe:[],yt=Array.isArray(Ke)?Ke:[],Yt=Math.max(pt.length,yt.length),Xt=0;Xt<Yt;Xt++)le(Te+"["+Xt+"]",pt[Xt],yt[Xt],nt);else if(x.isPlainObject(Oe)||x.isPlainObject(Ke)){var St=x.isPlainObject(Oe)?Oe:{},kt=x.isPlainObject(Ke)?Ke:{},Kt=x.extendFlat({},St,kt);for(var mr in Kt)le(Te+"."+mr,St[mr],kt[mr],nt)}else nt[Te]===void 0&&(nt[Te]=Q(Oe))}function ie(Te,Oe,Ke){for(var nt in Ke){var pt=M(Te,nt);le(nt,pt.get(),Ke[nt],Oe)}}function ce(Te,Oe,Ke){var nt=Te._fullLayout,pt=Te._fullData,yt=Te.data,Yt=nt._guiEditing,Xt=K(nt._preGUI,Yt),St=x.extendDeepAll({},Oe),kt;ye(Oe);var Kt=C.traceFlags(),mr={},mt={},Zt;function Qt(){return Ke.map(function(){})}function yr(Cn){var Ar=n.id2name(Cn);Zt.indexOf(Ar)===-1&&Zt.push(Ar)}function sr(Cn){return"LAYOUT"+Cn+".autorange"}function bt(Cn){return"LAYOUT"+Cn+".range"}function lt(Cn){for(var Ar=Cn;Ar<pt.length;Ar++)if(pt[Ar]._input===yt[Cn])return pt[Ar]}function Tt(Cn,Ar,Pr){if(Array.isArray(Cn)){Cn.forEach(function(yn){Tt(yn,Ar,Pr)});return}if(!(Cn in Oe||w.hasParent(Oe,Cn))){var Wr;if(Cn.substr(0,6)==="LAYOUT")Wr=Xt(Te.layout,Cn.replace("LAYOUT",""));else{var Vr=Ke[Pr],on=nt._tracePreGUI[lt(Vr)._fullInput.uid];Wr=K(on,Yt)(yt[Vr],Cn)}Cn in mt||(mt[Cn]=Qt()),mt[Cn][Pr]===void 0&&(mt[Cn][Pr]=Q(Wr.get())),Ar!==void 0&&Wr.set(Ar)}}function Ct(Cn){return function(Ar){return pt[Ar][Cn]}}function It(Cn){return function(Ar,Pr){return Ar===!1?pt[Ke[Pr]][Cn]:null}}for(var Dt in Oe){if(w.hasParent(Oe,Dt))throw new Error("cannot set "+Dt+" and a parent attribute simultaneously");var Vt=Oe[Dt],Bt,$t,fr,cr,dr,Ye;if((Dt==="autobinx"||Dt==="autobiny")&&(Dt=Dt.charAt(Dt.length-1)+"bins",Array.isArray(Vt)?Vt=Vt.map(It(Dt)):Vt===!1?Vt=Ke.map(Ct(Dt)):Vt=null),mr[Dt]=Vt,Dt.substr(0,6)==="LAYOUT"){fr=Xt(Te.layout,Dt.replace("LAYOUT","")),mt[Dt]=[Q(fr.get())],fr.set(Array.isArray(Vt)?Vt[0]:Vt),Kt.calc=!0;continue}for(mt[Dt]=Qt(),kt=0;kt<Ke.length;kt++){Bt=yt[Ke[kt]],$t=lt(Ke[kt]);var je=nt._tracePreGUI[$t._fullInput.uid];if(fr=K(je,Yt)(Bt,Dt),cr=fr.get(),dr=Array.isArray(Vt)?Vt[kt%Vt.length]:Vt,dr!==void 0){var zt=fr.parts[fr.parts.length-1],Ft=Dt.substr(0,Dt.length-zt.length-1),Jt=Ft?Ft+".":"",tr=Ft?M($t,Ft).get():$t;if(Ye=t.getTraceValObject($t,fr.parts),Ye&&Ye.impliedEdits&&dr!==null)for(var ur in Ye.impliedEdits)Tt(x.relativeAttr(Dt,ur),Ye.impliedEdits[ur],kt);else if((zt==="thicknessmode"||zt==="lenmode")&&cr!==dr&&(dr==="fraction"||dr==="pixels")&&tr){var nr=nt._size,Nt=tr.orient,hr=Nt==="top"||Nt==="bottom";if(zt==="thicknessmode"){var gr=hr?nr.h:nr.w;Tt(Jt+"thickness",tr.thickness*(dr==="fraction"?1/gr:gr),kt)}else{var br=hr?nr.w:nr.h;Tt(Jt+"len",tr.len*(dr==="fraction"?1/br:br),kt)}}else if(Dt==="type"&&(dr==="pie"!=(cr==="pie")||dr==="funnelarea"!=(cr==="funnelarea"))){var vr="x",Gr="y";(dr==="bar"||cr==="bar")&&Bt.orientation==="h"&&(vr="y",Gr="x"),x.swapAttrs(Bt,["?","?src"],"labels",vr),x.swapAttrs(Bt,["d?","?0"],"label",vr),x.swapAttrs(Bt,["?","?src"],"values",Gr),cr==="pie"||cr==="funnelarea"?(M(Bt,"marker.color").set(M(Bt,"marker.colors").get()),nt._pielayer.selectAll("g.trace").remove()):r.traceIs(Bt,"cartesian")&&M(Bt,"marker.colors").set(M(Bt,"marker.color").get())}mt[Dt][kt]=Q(cr);var Dr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Dr.indexOf(Dt)!==-1){if(Dt==="orientation"){fr.set(dr);var _r=Bt.x&&!Bt.y?"h":"v";if((fr.get()||_r)===$t.orientation)continue}else Dt==="orientationaxes"&&(Bt.orientation={v:"h",h:"v"}[$t.orientation]);w.swapXYData(Bt),Kt.calc=Kt.clearAxisTypes=!0}else i.dataArrayContainers.indexOf(fr.parts[0])!==-1?(w.manageArrayContainers(fr,dr,mt),Kt.calc=!0):(Ye?Ye.arrayOk&&!r.traceIs($t,"regl")&&(x.isArrayOrTypedArray(dr)||x.isArrayOrTypedArray(cr))?Kt.calc=!0:C.update(Kt,Ye):Kt.calc=!0,fr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Dt)!==-1&&n.swap(Te,Ke),Dt==="orientationaxes"){var hn=M(Te.layout,"hovermode"),nn=hn.get();nn==="x"?hn.set("y"):nn==="y"?hn.set("x"):nn==="x unified"?hn.set("y unified"):nn==="y unified"&&hn.set("x unified")}if(["orientation","type"].indexOf(Dt)!==-1){for(Zt=[],kt=0;kt<Ke.length;kt++){var Pn=yt[Ke[kt]];r.traceIs(Pn,"cartesian")&&(yr(Pn.xaxis||"x"),yr(Pn.yaxis||"y"))}Tt(Zt.map(sr),!0,0),Tt(Zt.map(bt),[0,1],0)}}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),{flags:Kt,undoit:mt,redoit:mr,traces:Ke,eventData:x.extendDeepNoArrays([],[St,Ke])}}function ye(Te){var Oe=x.counterRegex("axis",".title",!1,!1),Ke=/colorbar\.title$/,nt=Object.keys(Te),pt,yt,Yt;for(pt=0;pt<nt.length;pt++)yt=nt[pt],Yt=Te[yt],(yt==="title"||Oe.test(yt)||Ke.test(yt))&&(typeof Yt=="string"||typeof Yt=="number")?Xt(yt,yt.replace("title","title.text")):yt.indexOf("titlefont")>-1&&yt.indexOf("grouptitlefont")===-1?Xt(yt,yt.replace("titlefont","title.font")):yt.indexOf("titleposition")>-1?Xt(yt,yt.replace("titleposition","title.position")):yt.indexOf("titleside")>-1?Xt(yt,yt.replace("titleside","title.side")):yt.indexOf("titleoffset")>-1&&Xt(yt,yt.replace("titleoffset","title.offset"));function Xt(St,kt){Te[kt]=Te[St],delete Te[St]}}function Ce(Te,Oe,Ke){Te=x.getGraphDiv(Te),w.clearPromiseQueue(Te);var nt={};if(typeof Oe=="string")nt[Oe]=Ke;else if(x.isPlainObject(Oe))nt=x.extendFlat({},Oe);else return x.warn("Relayout fail.",Oe,Ke),Promise.reject();Object.keys(nt).length&&(Te.changed=!0);var pt=Pe(Te,nt),yt=pt.flags;yt.calc&&(Te.calcdata=void 0);var Yt=[i.previousPromises];yt.layoutReplot?Yt.push(A.layoutReplot):Object.keys(nt).length&&(Ae(Te,yt,pt)||i.supplyDefaults(Te),yt.legend&&Yt.push(A.doLegend),yt.layoutstyle&&Yt.push(A.layoutStyles),yt.axrange&&ke(Yt,pt.rangesAltered),yt.ticks&&Yt.push(A.doTicksRelayout),yt.modebar&&Yt.push(A.doModeBar),yt.camera&&Yt.push(A.doCamera),yt.colorbars&&Yt.push(A.doColorBars),Yt.push(L)),Yt.push(i.rehover,i.redrag,i.reselect),p.add(Te,Ce,[Te,pt.undoit],Ce,[Te,pt.redoit]);var Xt=x.syncOrAsync(Yt,Te);return(!Xt||!Xt.then)&&(Xt=Promise.resolve(Te)),Xt.then(function(){return Te.emit("plotly_relayout",pt.eventData),Te})}function Ae(Te,Oe,Ke){var nt=Te._fullLayout;if(!Oe.axrange)return!1;for(var pt in Oe)if(pt!=="axrange"&&Oe[pt])return!1;var yt,Yt,Xt=function(Zt,Qt){return x.coerce(yt,Yt,f,Zt,Qt)},St={};for(var kt in Ke.rangesAltered){var Kt=n.id2name(kt);if(yt=Te.layout[Kt],Yt=nt[Kt],u(yt,Yt,Xt,St),Yt._matchGroup){for(var mr in Yt._matchGroup)if(mr!==kt){var mt=nt[n.id2name(mr)];mt.autorange=Yt.autorange,mt.range=Yt.range.slice(),mt._input.range=Yt.range.slice()}}}return!0}function ke(Te,Oe){var Ke=Oe?function(nt){var pt=[],yt=!0;for(var Yt in Oe){var Xt=n.getFromId(nt,Yt);if(pt.push(Yt),(Xt.ticklabelposition||"").indexOf("inside")!==-1&&Xt._anchorAxis&&pt.push(Xt._anchorAxis._id),Xt._matchGroup)for(var St in Xt._matchGroup)Oe[St]||pt.push(St)}return n.draw(nt,pt,{skipTitle:yt})}:function(nt){return n.draw(nt,"redraw")};Te.push(c,A.doAutoRangeAndConstraints,Ke,A.drawData,A.finalDraw)}var we=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ee=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Pe(Te,Oe){var Ke=Te.layout,nt=Te._fullLayout,pt=nt._guiEditing,yt=K(nt._preGUI,pt),Yt=Object.keys(Oe),Xt=n.list(Te),St=x.extendDeepAll({},Oe),kt={},Kt,mr,mt;for(ye(Oe),Yt=Object.keys(Oe),mr=0;mr<Yt.length;mr++)if(Yt[mr].indexOf("allaxes")===0){for(mt=0;mt<Xt.length;mt++){var Zt=Xt[mt]._id.substr(1),Qt=Zt.indexOf("scene")!==-1?Zt+".":"",yr=Yt[mr].replace("allaxes",Qt+Xt[mt]._name);Oe[yr]||(Oe[yr]=Oe[Yt[mr]])}delete Oe[Yt[mr]]}var sr=C.layoutFlags(),bt={},lt={};function Tt(on,yn){if(Array.isArray(on)){on.forEach(function(Ln){Tt(Ln,yn)});return}if(!(on in Oe||w.hasParent(Oe,on))){var mn=yt(Ke,on);on in lt||(lt[on]=Q(mn.get())),yn!==void 0&&mn.set(yn)}}var Ct={},It;function Dt(on){var yn=n.name2id(on.split(".")[0]);return Ct[yn]=1,yn}for(var Vt in Oe){if(w.hasParent(Oe,Vt))throw new Error("cannot set "+Vt+" and a parent attribute simultaneously");for(var Bt=yt(Ke,Vt),$t=Oe[Vt],fr=Bt.parts.length,cr=fr-1;cr>0&&typeof Bt.parts[cr]!="string";)cr--;var dr=Bt.parts[cr],Ye=Bt.parts[cr-1]+"."+dr,je=Bt.parts.slice(0,cr).join("."),zt=M(Te.layout,je).get(),Ft=M(nt,je).get(),Jt=Bt.get();if($t!==void 0){bt[Vt]=$t,lt[Vt]=dr==="reverse"?$t:Q(Jt);var tr=t.getLayoutValObject(nt,Bt.parts);if(tr&&tr.impliedEdits&&$t!==null)for(var ur in tr.impliedEdits)Tt(x.relativeAttr(Vt,ur),tr.impliedEdits[ur]);if(["width","height"].indexOf(Vt)!==-1)if($t){Tt("autosize",null);var nr=Vt==="height"?"width":"height";Tt(nr,nt[nr])}else nt[Vt]=Te._initialAutoSize[Vt];else if(Vt==="autosize")Tt("width",$t?null:nt.width),Tt("height",$t?null:nt.height);else if(Ye.match(we))Dt(Ye),M(nt,je+"._inputRange").set(null);else if(Ye.match(Ee)){Dt(Ye),M(nt,je+"._inputRange").set(null);var Nt=M(nt,je).get();Nt._inputDomain&&(Nt._input.domain=Nt._inputDomain.slice())}else Ye.match(xe)&&M(nt,je+"._inputDomain").set(null);if(dr==="type"){It=zt;var hr=Ft.type==="linear"&&$t==="log",gr=Ft.type==="log"&&$t==="linear";if(hr||gr){if(!It||!It.range)Tt(je+".autorange",!0);else if(Ft.autorange)hr&&(It.range=It.range[1]>It.range[0]?[1,2]:[2,1]);else{var br=It.range[0],vr=It.range[1];hr?(br<=0&&vr<=0&&Tt(je+".autorange",!0),br<=0?br=vr/1e6:vr<=0&&(vr=br/1e6),Tt(je+".range[0]",Math.log(br)/Math.LN10),Tt(je+".range[1]",Math.log(vr)/Math.LN10)):(Tt(je+".range[0]",Math.pow(10,br)),Tt(je+".range[1]",Math.pow(10,vr)))}Array.isArray(nt._subplots.polar)&&nt._subplots.polar.length&&nt[Bt.parts[0]]&&Bt.parts[1]==="radialaxis"&&delete nt[Bt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Te,Ft,$t,Tt),r.getComponentMethod("images","convertCoords")(Te,Ft,$t,Tt)}else Tt(je+".autorange",!0),Tt(je+".range",null);M(nt,je+"._inputRange").set(null)}else if(dr.match(m)){var Gr=M(nt,Vt).get(),Dr=($t||{}).type;(!Dr||Dr==="-")&&(Dr="linear"),r.getComponentMethod("annotations","convertCoords")(Te,Gr,Dr,Tt),r.getComponentMethod("images","convertCoords")(Te,Gr,Dr,Tt)}var _r=d.containerArrayMatch(Vt);if(_r){Kt=_r.array,mr=_r.index;var hn=_r.property,nn=tr||{editType:"calc"};mr!==""&&hn===""&&(d.isAddVal($t)?lt[Vt]=null:d.isRemoveVal($t)?lt[Vt]=(M(Ke,Kt).get()||[])[mr]:x.warn("unrecognized full object value",Oe)),C.update(sr,nn),kt[Kt]||(kt[Kt]={});var Pn=kt[Kt][mr];Pn||(Pn=kt[Kt][mr]={}),Pn[hn]=$t,delete Oe[Vt]}else dr==="reverse"?(zt.range?zt.range.reverse():(Tt(je+".autorange",!0),zt.range=[1,0]),Ft.autorange?sr.calc=!0:sr.plot=!0):(Vt==="dragmode"&&($t===!1&&Jt!==!1||$t!==!1&&Jt===!1)||nt._has("scatter-like")&&nt._has("regl")&&Vt==="dragmode"&&($t==="lasso"||$t==="select")&&!(Jt==="lasso"||Jt==="select")||nt._has("gl2d")?sr.plot=!0:tr?C.update(sr,tr):sr.calc=!0,Bt.set($t))}}for(Kt in kt){var Cn=d.applyContainerArrayChanges(Te,yt(Ke,Kt),kt[Kt],sr,yt);Cn||(sr.plot=!0)}for(var Ar in Ct){It=n.getFromId(Te,Ar);var Pr=It&&It._constraintGroup;if(Pr){sr.calc=!0;for(var Wr in Pr)Ct[Wr]||(n.getFromId(Te,Wr)._constraintShrinkable=!0)}}(Ue(Te)||Oe.height||Oe.width)&&(sr.plot=!0);var Vr=nt.shapes;for(mr=0;mr<Vr.length;mr++)if(Vr[mr].showlegend){sr.calc=!0;break}return(sr.plot||sr.calc)&&(sr.layoutReplot=!0),{flags:sr,rangesAltered:Ct,undoit:lt,redoit:bt,eventData:St}}function Ue(Te){var Oe=Te._fullLayout,Ke=Oe.width,nt=Oe.height;return Te.layout.autosize&&i.plotAutoSize(Te,Te.layout,Oe),Oe.width!==Ke||Oe.height!==nt}function Be(Te,Oe,Ke,nt){Te=x.getGraphDiv(Te),w.clearPromiseQueue(Te),x.isPlainObject(Oe)||(Oe={}),x.isPlainObject(Ke)||(Ke={}),Object.keys(Oe).length&&(Te.changed=!0),Object.keys(Ke).length&&(Te.changed=!0);var pt=w.coerceTraceIndices(Te,nt),yt=ce(Te,x.extendFlat({},Oe),pt),Yt=yt.flags,Xt=Pe(Te,x.extendFlat({},Ke)),St=Xt.flags;(Yt.calc||St.calc)&&(Te.calcdata=void 0),Yt.clearAxisTypes&&w.clearAxisTypes(Te,pt,Ke);var kt=[];St.layoutReplot?kt.push(A.layoutReplot):Yt.fullReplot?kt.push(H._doPlot):(kt.push(i.previousPromises),Ae(Te,St,Xt)||i.supplyDefaults(Te),Yt.style&&kt.push(A.doTraceStyle),(Yt.colorbars||St.colorbars)&&kt.push(A.doColorBars),St.legend&&kt.push(A.doLegend),St.layoutstyle&&kt.push(A.layoutStyles),St.axrange&&ke(kt,Xt.rangesAltered),St.ticks&&kt.push(A.doTicksRelayout),St.modebar&&kt.push(A.doModeBar),St.camera&&kt.push(A.doCamera),kt.push(L)),kt.push(i.rehover,i.redrag,i.reselect),p.add(Te,Be,[Te,yt.undoit,Xt.undoit,yt.traces],Be,[Te,yt.redoit,Xt.redoit,yt.traces]);var Kt=x.syncOrAsync(kt,Te);return(!Kt||!Kt.then)&&(Kt=Promise.resolve(Te)),Kt.then(function(){return Te.emit("plotly_update",{data:yt.eventData,layout:Xt.eventData}),Te})}function Ne(Te){return function(Ke){Ke._fullLayout._guiEditing=!0;var nt=Te.apply(null,arguments);return Ke._fullLayout._guiEditing=!1,nt}}var Xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ut=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function dt(Te,Oe){for(var Ke=0;Ke<Oe.length;Ke++){var nt=Oe[Ke],pt=Te.match(nt.pattern);if(pt){var yt=pt[1]||"";return{head:yt,tail:Te.substr(yt.length+1),attr:nt.attr}}}}function at(Te,Oe){var Ke=M(Oe,Te).get();if(Ke!==void 0)return Ke;var nt=Te.split(".");for(nt.pop();nt.length>1;)if(nt.pop(),Ke=M(Oe,nt.join(".")+".uirevision").get(),Ke!==void 0)return Ke;return Oe.uirevision}function We(Te,Oe){for(var Ke=0;Ke<Oe.length;Ke++)if(Oe[Ke]._fullInput.uid===Te)return Ke;return-1}function rt(Te,Oe,Ke){for(var nt=0;nt<Oe.length;nt++)if(Oe[nt].uid===Te)return nt;return!Oe[Ke]||Oe[Ke].uid?-1:Ke}function st(Te,Oe){var Ke=x.isPlainObject(Te),nt=Array.isArray(Te);return Ke||nt?(Ke&&x.isPlainObject(Oe)||nt&&Array.isArray(Oe))&&JSON.stringify(Te)===JSON.stringify(Oe):Te===Oe}function ht(Te,Oe,Ke,nt){var pt=nt._preGUI,yt,Yt,Xt,St,kt,Kt,mr,mt,Zt,Qt,yr=[],sr={},bt={};for(yt in pt){if(kt=dt(yt,Xe),kt){if(Zt=kt.head,Qt=kt.tail,Yt=kt.attr||Zt+".uirevision",Xt=M(nt,Yt).get(),St=Xt&&at(Yt,Oe),St&&St===Xt){if(Kt=pt[yt],Kt===null&&(Kt=void 0),mr=M(Oe,yt),mt=mr.get(),st(mt,Kt)){mt===void 0&&Qt==="autorange"&&yr.push(Zt),mr.set(Q(M(nt,yt).get()));continue}else if(Qt==="autorange"||Qt.substr(0,6)==="range["){var lt=pt[Zt+".range[0]"],Tt=pt[Zt+".range[1]"],Ct=pt[Zt+".autorange"];if(Ct||Ct===null&&lt===null&&Tt===null){if(!(Zt in sr)){var It=M(Oe,Zt).get();sr[Zt]=It&&(It.autorange||It.autorange!==!1&&(!It.range||It.range.length!==2))}if(sr[Zt]){mr.set(Q(M(nt,yt).get()));continue}}}}}else x.warn("unrecognized GUI edit: "+yt);delete pt[yt],kt&&kt.tail.substr(0,6)==="range["&&(bt[kt.head]=1)}for(var Dt=0;Dt<yr.length;Dt++){var Vt=yr[Dt];if(bt[Vt]){var Bt=M(Oe,Vt).get();Bt&&delete Bt.autorange}}var $t=nt._tracePreGUI;for(var fr in $t){var cr=$t[fr],dr=null,Ye;for(yt in cr){if(!dr){var je=We(fr,Ke);if(je<0){delete $t[fr];break}var zt=Ke[je];Ye=zt._fullInput;var Ft=rt(fr,Te,Ye.index);if(Ft<0){delete $t[fr];break}dr=Te[Ft]}if(kt=dt(yt,ut),kt){if(kt.attr?(Xt=M(nt,kt.attr).get(),St=Xt&&at(kt.attr,Oe)):(Xt=Ye.uirevision,St=dr.uirevision,St===void 0&&(St=Oe.uirevision)),St&&St===Xt&&(Kt=cr[yt],Kt===null&&(Kt=void 0),mr=M(dr,yt),mt=mr.get(),st(mt,Kt))){mr.set(Q(M(Ye,yt).get()));continue}}else x.warn("unrecognized GUI edit: "+yt+" in trace uid "+fr);delete cr[yt]}}}function vt(Te,Oe,Ke,nt){var pt,yt;function Yt(){return H.addFrames(Te,pt)}Te=x.getGraphDiv(Te),w.clearPromiseQueue(Te);var Xt=Te._fullData,St=Te._fullLayout;if(!x.isPlotDiv(Te)||!Xt||!St)yt=H.newPlot(Te,Oe,Ke,nt);else{if(x.isPlainObject(Oe)){var kt=Oe;Oe=kt.data,Ke=kt.layout,nt=kt.config,pt=kt.frames}var Kt=!1;if(nt){var mr=x.extendDeep({},Te._context);Te._context=void 0,B(Te,nt),Kt=Ve(mr,Te._context)}Te.data=Oe||[],w.cleanData(Te.data),Te.layout=Ke||{},w.cleanLayout(Te.layout),ht(Te.data,Te.layout,Xt,St),i.supplyDefaults(Te,{skipUpdateCalc:!0});var mt=Te._fullData,Zt=Te._fullLayout,Qt=Zt.datarevision===void 0,yr=Zt.transition,sr=et(Te,St,Zt,Qt,yr),bt=sr.newDataRevision,lt=At(Te,Xt,mt,Qt,yr,bt);if(Ue(Te)&&(sr.layoutReplot=!0),lt.calc||sr.calc){Te.calcdata=void 0;for(var Tt=Object.getOwnPropertyNames(Zt),Ct=0;Ct<Tt.length;Ct++){var It=Tt[Ct],Dt=It.substring(0,5);if(Dt==="xaxis"||Dt==="yaxis"){var Vt=Zt[It]._emptyCategories;Vt&&Vt()}}}else i.supplyDefaultsUpdateCalc(Te.calcdata,mt);var Bt=[];if(pt&&(Te._transitionData={},i.createTransitionData(Te),Bt.push(Yt)),Zt.transition&&!Kt&&(lt.anim||sr.anim))sr.ticks&&Bt.push(A.doTicksRelayout),i.doCalcdata(Te),A.doAutoRangeAndConstraints(Te),Bt.push(function(){return i.transitionFromReact(Te,lt,sr,St)});else if(lt.fullReplot||sr.layoutReplot||Kt)Te._fullLayout._skipDefaults=!0,Bt.push(H._doPlot);else{for(var $t in sr.arrays){var fr=sr.arrays[$t];if(fr.length){var cr=r.getComponentMethod($t,"drawOne");if(cr!==x.noop)for(var dr=0;dr<fr.length;dr++)cr(Te,fr[dr]);else{var Ye=r.getComponentMethod($t,"draw");if(Ye===x.noop)throw new Error("cannot draw components: "+$t);Ye(Te)}}}Bt.push(i.previousPromises),lt.style&&Bt.push(A.doTraceStyle),(lt.colorbars||sr.colorbars)&&Bt.push(A.doColorBars),sr.legend&&Bt.push(A.doLegend),sr.layoutstyle&&Bt.push(A.layoutStyles),sr.axrange&&ke(Bt),sr.ticks&&Bt.push(A.doTicksRelayout),sr.modebar&&Bt.push(A.doModeBar),sr.camera&&Bt.push(A.doCamera),Bt.push(L)}Bt.push(i.rehover,i.redrag,i.reselect),yt=x.syncOrAsync(Bt,Te),(!yt||!yt.then)&&(yt=Promise.resolve(Te))}return yt.then(function(){return Te.emit("plotly_react",{data:Oe,layout:Ke}),Te})}function At(Te,Oe,Ke,nt,pt,yt){var Yt=Oe.length===Ke.length;if(!pt&&!Yt)return{fullReplot:!0,calc:!0};var Xt=C.traceFlags();Xt.arrays={},Xt.nChanges=0,Xt.nChangesAnim=0;var St,kt;function Kt(Zt){var Qt=t.getTraceValObject(kt,Zt);return!kt._module.animatable&&Qt.anim&&(Qt.anim=!1),Qt}var mr={getValObject:Kt,flags:Xt,immutable:nt,transition:pt,newDataRevision:yt,gd:Te},mt={};for(St=0;St<Oe.length;St++)if(Ke[St]){if(kt=Ke[St]._fullInput,i.hasMakesDataTransform(kt)&&(kt=Ke[St]),mt[kt.uid])continue;mt[kt.uid]=1,_e(Oe[St]._fullInput,kt,[],mr)}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),pt&&Xt.nChanges&&Xt.nChangesAnim&&(Xt.anim=Xt.nChanges===Xt.nChangesAnim&&Yt?"all":"some"),Xt}function et(Te,Oe,Ke,nt,pt){var yt=C.layoutFlags();yt.arrays={},yt.rangesAltered={},yt.nChanges=0,yt.nChangesAnim=0;function Yt(St){return t.getLayoutValObject(Ke,St)}var Xt={getValObject:Yt,flags:yt,immutable:nt,transition:pt,gd:Te};return _e(Oe,Ke,[],Xt),(yt.plot||yt.calc)&&(yt.layoutReplot=!0),pt&&yt.nChanges&&yt.nChangesAnim&&(yt.anim=yt.nChanges===yt.nChangesAnim?"all":"some"),yt}function _e(Te,Oe,Ke,nt){var pt,yt,Yt,Xt=nt.getValObject,St=nt.flags,kt=nt.immutable,Kt=nt.inArray,mr=nt.arrayIndex;function mt(){var je=pt.editType;if(Kt&&je.indexOf("arraydraw")!==-1){x.pushUnique(St.arrays[Kt],mr);return}C.update(St,pt),je!=="none"&&St.nChanges++,nt.transition&&pt.anim&&St.nChangesAnim++,(we.test(Yt)||Ee.test(Yt))&&(St.rangesAltered[Ke[0]]=1),xe.test(Yt)&&M(Oe,"_inputDomain").set(null),yt==="datarevision"&&(St.newDataRevision=1)}function Zt(je){return je.valType==="data_array"||je.arrayOk}for(yt in Te){if(St.calc&&!nt.transition)return;var Qt=Te[yt],yr=Oe[yt],sr=Ke.concat(yt);if(Yt=sr.join("."),!(yt.charAt(0)==="_"||typeof Qt=="function"||Qt===yr)){if((yt==="tick0"||yt==="dtick")&&Ke[0]!=="geo"){var bt=Oe.tickmode;if(bt==="auto"||bt==="array"||!bt)continue}if(!(yt==="range"&&Oe.autorange)&&!((yt==="zmin"||yt==="zmax")&&Oe.type==="contourcarpet")&&(pt=Xt(sr),!!pt&&!(pt._compareAsJSON&&JSON.stringify(Qt)===JSON.stringify(yr)))){var lt=pt.valType,Tt,Ct=Zt(pt),It=Array.isArray(Qt),Dt=Array.isArray(yr);if(It&&Dt){var Vt="_input_"+yt,Bt=Te[Vt],$t=Oe[Vt];if(Array.isArray(Bt)&&Bt===$t)continue}if(yr===void 0)Ct&&It?St.calc=!0:mt();else if(pt._isLinkedToArray){var fr=[],cr=!1;Kt||(St.arrays[yt]=fr);var dr=Math.min(Qt.length,yr.length),Ye=Math.max(Qt.length,yr.length);if(dr!==Ye)if(pt.editType==="arraydraw")cr=!0;else{mt();continue}for(Tt=0;Tt<dr;Tt++)_e(Qt[Tt],yr[Tt],sr.concat(Tt),x.extendFlat({inArray:yt,arrayIndex:Tt},nt));if(cr)for(Tt=dr;Tt<Ye;Tt++)fr.push(Tt)}else!lt&&x.isPlainObject(Qt)?_e(Qt,yr,sr,nt):Ct?It&&Dt?(kt&&(St.calc=!0),(kt||nt.newDataRevision)&&mt()):It!==Dt?St.calc=!0:mt():It&&Dt?(Qt.length!==yr.length||String(Qt)!==String(yr))&&mt():mt()}}}for(yt in Oe)if(!(yt in Te||yt.charAt(0)==="_"||typeof Oe[yt]=="function"))if(pt=Xt(Ke.concat(yt)),Zt(pt)&&Array.isArray(Oe[yt])){St.calc=!0;return}else mt()}function Ve(Te,Oe){var Ke;for(Ke in Te)if(Ke.charAt(0)!=="_"){var nt=Te[Ke],pt=Oe[Ke];if(nt!==pt)if(x.isPlainObject(nt)&&x.isPlainObject(pt)){if(Ve(nt,pt))return!0}else if(Array.isArray(nt)&&Array.isArray(pt)){if(nt.length!==pt.length)return!0;for(var yt=0;yt<nt.length;yt++)if(nt[yt]!==pt[yt])if(x.isPlainObject(nt[yt])&&x.isPlainObject(pt[yt])){if(Ve(nt[yt],pt[yt]))return!0}else return!0}else return!0}}function Ze(Te,Oe,Ke){if(Te=x.getGraphDiv(Te),!x.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var nt=Te._transitionData;nt._frameQueue||(nt._frameQueue=[]),Ke=i.supplyAnimationDefaults(Ke);var pt=Ke.transition,yt=Ke.frame;nt._frameWaitingCnt===void 0&&(nt._frameWaitingCnt=0);function Yt(kt){return Array.isArray(pt)?kt>=pt.length?pt[0]:pt[kt]:pt}function Xt(kt){return Array.isArray(yt)?kt>=yt.length?yt[0]:yt[kt]:yt}function St(kt,Kt){var mr=0;return function(){if(kt&&++mr===Kt)return kt()}}return new Promise(function(kt,Kt){function mr(){if(nt._frameQueue.length!==0){for(;nt._frameQueue.length;){var dr=nt._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}Te.emit("plotly_animationinterrupted",[])}}function mt(dr){if(dr.length!==0){for(var Ye=0;Ye<dr.length;Ye++){var je;dr[Ye].type==="byname"?je=i.computeFrame(Te,dr[Ye].name):je=dr[Ye].data;var zt=Xt(Ye),Ft=Yt(Ye);Ft.duration=Math.min(Ft.duration,zt.duration);var Jt={frame:je,name:dr[Ye].name,frameOpts:zt,transitionOpts:Ft};Ye===dr.length-1&&(Jt.onComplete=St(kt,2),Jt.onInterrupt=Kt),nt._frameQueue.push(Jt)}Ke.mode==="immediate"&&(nt._lastFrameAt=-1/0),nt._animationRaf||yr()}}function Zt(){Te.emit("plotly_animated"),window.cancelAnimationFrame(nt._animationRaf),nt._animationRaf=null}function Qt(){nt._currentFrame&&nt._currentFrame.onComplete&&nt._currentFrame.onComplete();var dr=nt._currentFrame=nt._frameQueue.shift();if(dr){var Ye=dr.name?dr.name.toString():null;Te._fullLayout._currentFrame=Ye,nt._lastFrameAt=Date.now(),nt._timeToNext=dr.frameOpts.duration,i.transition(Te,dr.frame.data,dr.frame.layout,w.coerceTraceIndices(Te,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),Te.emit("plotly_animatingframe",{name:Ye,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Zt()}function yr(){Te.emit("plotly_animating"),nt._lastFrameAt=-1/0,nt._timeToNext=0,nt._runningTransitions=0,nt._currentFrame=null;var dr=function(){nt._animationRaf=window.requestAnimationFrame(dr),Date.now()-nt._lastFrameAt>nt._timeToNext&&Qt()};dr()}var sr=0;function bt(dr){return Array.isArray(pt)?sr>=pt.length?dr.transitionOpts=pt[sr]:dr.transitionOpts=pt[0]:dr.transitionOpts=pt,sr++,dr}var lt,Tt,Ct=[],It=Oe==null,Dt=Array.isArray(Oe),Vt=!It&&!Dt&&x.isPlainObject(Oe);if(Vt)Ct.push({type:"object",data:bt(x.extendFlat({},Oe))});else if(It||["string","number"].indexOf(typeof Oe)!==-1)for(lt=0;lt<nt._frames.length;lt++)Tt=nt._frames[lt],Tt&&(It||String(Tt.group)===String(Oe))&&Ct.push({type:"byname",name:String(Tt.name),data:bt({name:Tt.name})});else if(Dt)for(lt=0;lt<Oe.length;lt++){var Bt=Oe[lt];["number","string"].indexOf(typeof Bt)!==-1?(Bt=String(Bt),Ct.push({type:"byname",name:Bt,data:bt({name:Bt})})):x.isPlainObject(Bt)&&Ct.push({type:"object",data:bt(x.extendFlat({},Bt))})}for(lt=0;lt<Ct.length;lt++)if(Tt=Ct[lt],Tt.type==="byname"&&!nt._frameHash[Tt.data.name]){x.warn('animate failure: frame not found: "'+Tt.data.name+'"'),Kt();return}["next","immediate"].indexOf(Ke.mode)!==-1&&mr(),Ke.direction==="reverse"&&Ct.reverse();var $t=Te._fullLayout._currentFrame;if($t&&Ke.fromcurrent){var fr=-1;for(lt=0;lt<Ct.length;lt++)if(Tt=Ct[lt],Tt.type==="byname"&&Tt.name===$t){fr=lt;break}if(fr>0&&fr<Ct.length-1){var cr=[];for(lt=0;lt<Ct.length;lt++)Tt=Ct[lt],(Ct[lt].type!=="byname"||lt>fr)&&cr.push(Tt);Ct=cr}}Ct.length>0?mt(Ct):(Te.emit("plotly_animated"),kt())})}function He(Te,Oe,Ke){if(Te=x.getGraphDiv(Te),Oe==null)return Promise.resolve();if(!x.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var nt,pt,yt,Yt,Xt=Te._transitionData._frames,St=Te._transitionData._frameHash;if(!Array.isArray(Oe))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Oe);var kt=Xt.length+Oe.length*2,Kt=[],mr={};for(nt=Oe.length-1;nt>=0;nt--)if(x.isPlainObject(Oe[nt])){var mt=Oe[nt].name,Zt=(St[mt]||mr[mt]||{}).name,Qt=Oe[nt].name,yr=St[Zt]||mr[Zt];Zt&&Qt&&typeof Qt=="number"&&yr&&E<b&&(E++,x.warn('addFrames: overwriting frame "'+(St[Zt]||mr[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===b&&x.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),mr[mt]={name:mt},Kt.push({frame:i.supplyFrameDefaults(Oe[nt]),index:Ke&&Ke[nt]!==void 0&&Ke[nt]!==null?Ke[nt]:kt+nt})}Kt.sort(function(Vt,Bt){return Vt.index>Bt.index?-1:Vt.index<Bt.index?1:0});var sr=[],bt=[],lt=Xt.length;for(nt=Kt.length-1;nt>=0;nt--){if(pt=Kt[nt].frame,typeof pt.name=="number"&&x.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!pt.name)for(;St[pt.name="frame "+Te._transitionData._counter++];);if(St[pt.name]){for(yt=0;yt<Xt.length&&(Xt[yt]||{}).name!==pt.name;yt++);sr.push({type:"replace",index:yt,value:pt}),bt.unshift({type:"replace",index:yt,value:Xt[yt]})}else Yt=Math.max(0,Math.min(Kt[nt].index,lt)),sr.push({type:"insert",index:Yt,value:pt}),bt.unshift({type:"delete",index:Yt}),lt++}var Tt=i.modifyFrames,Ct=i.modifyFrames,It=[Te,bt],Dt=[Te,sr];return p&&p.add(Te,Tt,It,Ct,Dt),i.modifyFrames(Te,sr)}function Ie(Te,Oe){if(Te=x.getGraphDiv(Te),!x.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);var Ke,nt,pt=Te._transitionData._frames,yt=[],Yt=[];if(!Oe)for(Oe=[],Ke=0;Ke<pt.length;Ke++)Oe.push(Ke);for(Oe=Oe.slice(),Oe.sort(),Ke=Oe.length-1;Ke>=0;Ke--)nt=Oe[Ke],yt.push({type:"delete",index:nt}),Yt.unshift({type:"insert",index:nt,value:pt[nt]});var Xt=i.modifyFrames,St=i.modifyFrames,kt=[Te,Yt],Kt=[Te,yt];return p&&p.add(Te,Xt,kt,St,Kt),i.modifyFrames(Te,yt)}function be(Te){Te=x.getGraphDiv(Te);var Oe=Te._fullLayout||{},Ke=Te._fullData||[];return i.cleanPlot([],{},Ke,Oe),i.purge(Te),v.purge(Te),Oe._container&&Oe._container.remove(),delete Te._context,Te}function me(Te){var Oe=Te._fullLayout,Ke=Te.getBoundingClientRect();if(!x.equalDomRects(Ke,Oe._lastBBox)){var nt=Oe._invTransform=x.inverseTransformMatrix(x.getFullTransformMatrix(Te));Oe._invScaleX=Math.sqrt(nt[0][0]*nt[0][0]+nt[0][1]*nt[0][1]+nt[0][2]*nt[0][2]),Oe._invScaleY=Math.sqrt(nt[1][0]*nt[1][0]+nt[1][1]*nt[1][1]+nt[1][2]*nt[1][2]),Oe._lastBBox=Ke}}function Me(Te){var Oe=g.select(Te),Ke=Te._fullLayout;if(Ke._calcInverseTransform=me,Ke._calcInverseTransform(Te),Ke._container=Oe.selectAll(".plot-container").data([0]),Ke._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ke._paperdiv=Ke._container.selectAll(".svg-container").data([0]),Ke._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ke._glcontainer=Ke._paperdiv.selectAll(".gl-container").data([{}]),Ke._glcontainer.enter().append("div").classed("gl-container",!0),Ke._paperdiv.selectAll(".main-svg").remove(),Ke._paperdiv.select(".modebar-container").remove(),Ke._paper=Ke._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ke._toppaper=Ke._paperdiv.append("svg").classed("main-svg",!0),Ke._modebardiv=Ke._paperdiv.append("div"),delete Ke._modeBar,Ke._hoverpaper=Ke._paperdiv.append("svg").classed("main-svg",!0),!Ke._uid){var nt={};g.selectAll("defs").each(function(){this.id&&(nt[this.id.split("-")[1]]=1)}),Ke._uid=x.randstr(nt)}Ke._paperdiv.selectAll(".main-svg").attr(S.svgAttrs),Ke._defs=Ke._paper.append("defs").attr("id","defs-"+Ke._uid),Ke._clips=Ke._defs.append("g").classed("clips",!0),Ke._topdefs=Ke._toppaper.append("defs").attr("id","topdefs-"+Ke._uid),Ke._topclips=Ke._topdefs.append("g").classed("clips",!0),Ke._bgLayer=Ke._paper.append("g").classed("bglayer",!0),Ke._draggers=Ke._paper.append("g").classed("draglayer",!0);var pt=Ke._paper.append("g").classed("layer-below",!0);Ke._imageLowerLayer=pt.append("g").classed("imagelayer",!0),Ke._shapeLowerLayer=pt.append("g").classed("shapelayer",!0),Ke._cartesianlayer=Ke._paper.append("g").classed("cartesianlayer",!0),Ke._polarlayer=Ke._paper.append("g").classed("polarlayer",!0),Ke._smithlayer=Ke._paper.append("g").classed("smithlayer",!0),Ke._ternarylayer=Ke._paper.append("g").classed("ternarylayer",!0),Ke._geolayer=Ke._paper.append("g").classed("geolayer",!0),Ke._funnelarealayer=Ke._paper.append("g").classed("funnelarealayer",!0),Ke._pielayer=Ke._paper.append("g").classed("pielayer",!0),Ke._iciclelayer=Ke._paper.append("g").classed("iciclelayer",!0),Ke._treemaplayer=Ke._paper.append("g").classed("treemaplayer",!0),Ke._sunburstlayer=Ke._paper.append("g").classed("sunburstlayer",!0),Ke._indicatorlayer=Ke._toppaper.append("g").classed("indicatorlayer",!0),Ke._glimages=Ke._paper.append("g").classed("glimages",!0);var yt=Ke._toppaper.append("g").classed("layer-above",!0);Ke._imageUpperLayer=yt.append("g").classed("imagelayer",!0),Ke._shapeUpperLayer=yt.append("g").classed("shapelayer",!0),Ke._selectionLayer=Ke._toppaper.append("g").classed("selectionlayer",!0),Ke._infolayer=Ke._toppaper.append("g").classed("infolayer",!0),Ke._menulayer=Ke._toppaper.append("g").classed("menulayer",!0),Ke._zoomlayer=Ke._toppaper.append("g").classed("zoomlayer",!0),Ke._hoverlayer=Ke._hoverpaper.append("g").classed("hoverlayer",!0),Ke._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Te.emit("plotly_framework")}H.animate=Ze,H.addFrames=He,H.deleteFrames=Ie,H.addTraces=oe,H.deleteTraces=Y,H.extendTraces=J,H.moveTraces=q,H.prependTraces=X,H.newPlot=O,H._doPlot=s,H.purge=be,H.react=vt,H.redraw=F,H.relayout=Ce,H.restyle=se,H.setPlotConfig=T,H.update=Be,H._guiRelayout=Ne(Ce),H._guiRestyle=Ne(se),H._guiUpdate=Ne(Be),H._storeDirectGUIEdit=ie},20556:function(j){var H={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(P,a){for(var x in P){var M=P[x];M.valType?a[x]=M.dflt:(a[x]||(a[x]={}),g(M,a[x]))}}g(H,e),j.exports={configAttributes:H,dfltConfig:e}},73060:function(j,H,e){var g=e(24040),P=e(3400),a=e(45464),x=e(64859),M=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,i=P.isPlainObject,n=P.isArrayOrTypedArray,u=P.nestedProperty,f=P.valObjectMeta,l="_isSubplotObj",y="_isLinkedToArray",h="_arrayAttrRegexps",S="_deprecated",c=[l,y,h,S];H.IS_SUBPLOT_OBJ=l,H.IS_LINKED_TO_ARRAY=y,H.DEPRECATED=S,H.UNDERSCORE_ATTRS=c,H.get=function(){var B={};g.allTypes.forEach(function(O){B[O]=A(O)});var F={};return Object.keys(g.transformsRegistry).forEach(function(O){F[O]=m(O)}),{defs:{valObjects:f,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:B,layout:C(),transforms:F,frames:E(),animation:b(v),config:b(p)}},H.crawl=function(B,F,O,N){var z=O||0;N=N||"",Object.keys(B).forEach(function(V){var W=B[V];if(c.indexOf(V)===-1){var $=(N?N+".":"")+V;F(W,V,B,z,$),!H.isValObject(W)&&i(W)&&V!=="impliedEdits"&&H.crawl(W,F,z+1,$)}})},H.isValObject=function(B){return B&&B.valType!==void 0},H.findArrayAttributes=function(B){var F=[],O=[],N=[],z,V;function W(X,oe,Y,q){O=O.slice(0,q).concat([oe]),N=N.slice(0,q).concat([X&&X._isLinkedToArray]);var se=X&&(X.valType==="data_array"||X.arrayOk===!0)&&!(O[q-1]==="colorbar"&&(oe==="ticktext"||oe==="tickvals"));se&&$(z,0,"")}function $(X,oe,Y){var q=X[O[oe]],se=Y+O[oe];if(oe===O.length-1)n(q)&&F.push(V+se);else if(N[oe]){if(Array.isArray(q))for(var Q=0;Q<q.length;Q++)i(q[Q])&&$(q[Q],oe+1,se+"["+Q+"].")}else i(q)&&$(q,oe+1,se+".")}z=B,V="",H.crawl(a,W),B._module&&B._module.attributes&&H.crawl(B._module.attributes,W);var re=B.transforms;if(re)for(var ne=0;ne<re.length;ne++){var ue=re[ne],J=ue._module;J&&(V="transforms["+ne+"].",z=ue,H.crawl(J.attributes,W))}return F},H.getTraceValObject=function(B,F){var O=F[0],N=1,z,V;if(O==="transforms"){if(F.length===1)return a.transforms;var W=B.transforms;if(!Array.isArray(W)||!W.length)return!1;var $=F[1];if(!w($)||$>=W.length)return!1;z=(g.transformsRegistry[W[$].type]||{}).attributes,V=z&&z[F[2]],N=3}else{var re=B._module;if(re||(re=(g.modules[B.type||a.type.dflt]||{})._module),!re)return!1;if(z=re.attributes,V=z&&z[O],!V){var ne=re.basePlotModule;ne&&ne.attributes&&(V=ne.attributes[O])}V||(V=a[O])}return d(V,F,N)},H.getLayoutValObject=function(B,F){var O=o(B,F[0]);return d(O,F,1)};function o(B,F){var O,N,z,V,W=B._basePlotModules;if(W){var $;for(O=0;O<W.length;O++){if(z=W[O],z.attrRegex&&z.attrRegex.test(F)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!$&&z.layoutAttributes&&($=z.layoutAttributes)}var re=z.baseLayoutAttrOverrides;if(re&&F in re)return re[F]}if($)return $}var ne=B._modules;if(ne){for(O=0;O<ne.length;O++)if(V=ne[O].layoutAttributes,V&&F in V)return V[F]}for(N in g.componentsRegistry){if(z=g.componentsRegistry[N],z.name==="colorscale"&&F.indexOf("coloraxis")===0)return z.layoutAttributes[F];if(!z.schema&&F===z.name)return z.layoutAttributes}return F in x?x[F]:!1}function d(B,F,O){if(!B)return!1;if(B._isLinkedToArray){if(w(F[O]))O++;else if(O<F.length)return!1}for(;O<F.length;O++){var N=B[F[O]];if(i(N))B=N;else break;if(O===F.length-1)break;if(B._isLinkedToArray){if(O++,!w(F[O]))return!1}else if(B.valType==="info_array"){O++;var z=F[O];if(!w(z))return!1;var V=B.items;if(Array.isArray(V)){if(z>=V.length)return!1;if(B.dimensions===2){if(O++,F.length===O)return B;var W=F[O];if(!w(W))return!1;B=V[z][W]}else B=V[z]}else B=V}}return B}function w(B){return B===Math.round(B)&&B>=0}function A(B){var F,O;F=g.modules[B]._module,O=F.basePlotModule;var N={};N.type=null;var z=t({},a),V=t({},F.attributes);H.crawl(V,function(re,ne,ue,J,X){u(z,X).set(void 0),re===void 0&&u(V,X).set(void 0)}),t(N,z),g.traceIs(B,"noOpacity")&&delete N.opacity,g.traceIs(B,"showLegend")||(delete N.showlegend,delete N.legendgroup),g.traceIs(B,"noHover")&&(delete N.hoverinfo,delete N.hoverlabel),F.selectPoints||delete N.selectedpoints,t(N,V),O.attributes&&t(N,O.attributes),N.type=B;var W={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:B,attributes:b(N)};if(F.layoutAttributes){var $={};t($,F.layoutAttributes),W.layoutAttributes=b($)}return F.animatable||H.crawl(W,function(re){H.isValObject(re)&&"anim"in re&&delete re.anim}),W}function C(){var B={},F,O;t(B,x);for(F in g.subplotsRegistry)if(O=g.subplotsRegistry[F],!!O.layoutAttributes)if(Array.isArray(O.attr))for(var N=0;N<O.attr.length;N++)k(B,O,O.attr[N]);else{var z=O.attr==="subplot"?O.name:O.attr;k(B,O,z)}for(F in g.componentsRegistry){O=g.componentsRegistry[F];var V=O.schema;if(V&&(V.subplots||V.layout)){var W=V.subplots;if(W&&W.xaxis&&!W.yaxis)for(var $ in W.xaxis)delete B.yaxis[$];delete B.xaxis.shift,delete B.xaxis.autoshift}else O.name==="colorscale"?t(B,O.layoutAttributes):O.layoutAttributes&&_(B,O.layoutAttributes,O.name)}return{layoutAttributes:b(B)}}function m(B){var F=g.transformsRegistry[B],O=t({},F.attributes);return Object.keys(g.componentsRegistry).forEach(function(N){var z=g.componentsRegistry[N];z.schema&&z.schema.transforms&&z.schema.transforms[B]&&Object.keys(z.schema.transforms[B]).forEach(function(V){_(O,z.schema.transforms[B][V],V)})}),{attributes:b(O)}}function E(){var B={frames:t({},M)};return b(B),B.frames}function b(B){return s(B),L(B),T(B),B}function s(B){function F(N){return{valType:"string",editType:"none"}}function O(N,z,V){H.isValObject(N)?(N.arrayOk===!0||N.valType==="data_array")&&(V[z+"src"]=F()):i(N)&&(N.role="object")}H.crawl(B,O)}function L(B){function F(O,N,z){if(O){var V=O[y];V&&(delete O[y],z[N]={items:{}},z[N].items[V]=O,z[N].role="object")}}H.crawl(B,F)}function T(B){function F(O){for(var N in O)if(i(O[N]))F(O[N]);else if(Array.isArray(O[N]))for(var z=0;z<O[N].length;z++)F(O[N][z]);else O[N]instanceof RegExp&&(O[N]=O[N].toString())}F(B)}function k(B,F,O){var N=u(B,O),z=t({},F.layoutAttributes);z[l]=!0,N.set(z)}function _(B,F,O){var N=u(B,O);N.set(t(N.get()||{},F))}},31780:function(j,H,e){var g=e(3400),P=e(45464),a="templateitemname",x={name:{valType:"string",editType:"none"}};x[a]={valType:"string",editType:"calc"},H.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=x.name,r[a]=x[a],r},H.traceTemplater=function(p){var r={},t,i;for(t in p)i=p[t],Array.isArray(i)&&i.length&&(r[t]=0);function n(u){t=g.coerce(u,{},P,"type");var f={type:t,_template:null};if(t in r){i=p[t];var l=r[t]%i.length;r[t]++,f._template=i[l]}return f}return{newTrace:n}},H.newContainer=function(p,r,t){var i=p._template,n=i&&(i[r]||t&&i[t]);g.isPlainObject(n)||(n=null);var u=p[r]={_template:n};return u},H.arrayTemplater=function(p,r,t){var i=p._template,n=i&&i[v(r)],u=i&&i[r];(!Array.isArray(u)||!u.length)&&(u=[]);var f={};function l(h){var S={name:h.name,_input:h},c=S[a]=h[a];if(!M(c))return S._template=n,S;for(var o=0;o<u.length;o++){var d=u[o];if(d.name===c)return f[c]=1,S._template=d,S}return S[t]=h[t]||!1,S._template=!1,S}function y(){for(var h=[],S=0;S<u.length;S++){var c=u[S],o=c.name;if(M(o)&&!f[o]){var d={_template:c,name:o,_input:{_templateitemname:o}};d[a]=c[a],h.push(d),f[o]=1}}return h}return{newItem:l,defaultItems:y}};function M(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}H.arrayDefaultKey=v,H.arrayEditor=function(p,r,t){var i=(g.nestedProperty(p,r).get()||[]).length,n=t._index,u=n>=i&&(t._input||{})._templateitemname;u&&(n=i);var f=r+"["+n+"]",l;function y(){l={},u&&(l[f]={},l[f][a]=u)}y();function h(d,w){l[d]=w}function S(d,w){u?g.nestedProperty(l[f],d).set(w):l[f+"."+d]=w}function c(){var d=l;return y(),d}function o(d,w){d&&S(d,w);var A=c();for(var C in A)g.nestedProperty(p,C).set(A[C])}return{modifyBase:h,modifyItem:S,getUpdateObj:c,applyUpdate:o}}},39172:function(j,H,e){var g=e(33428),P=e(24040),a=e(7316),x=e(3400),M=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),i=e(45460),n=e(54460),u=e(84284),f=e(71888),l=f.enforce,y=f.clean,h=e(19280).doAutoRange,S="start",c="middle",o="end";H.layoutStyles=function(O){return x.syncOrAsync([a.doAutoMargin,w],O)};function d(O,N,z){for(var V=0;V<z.length;V++){var W=z[V][0],$=z[V][1];if(!(W[0]>=O[1]||W[1]<=O[0])&&$[0]<N[1]&&$[1]>N[0])return!0}return!1}function w(O){var N=O._fullLayout,z=N._size,V=z.p,W=n.list(O,"",!0),$,re,ne,ue,J,X;if(N._paperdiv.style({width:O._context.responsive&&N.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":N.width+"px",height:O._context.responsive&&N.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":N.height+"px"}).selectAll(".main-svg").call(r.setSize,N.width,N.height),O._context.setBackground(O,N.paper_bgcolor),H.drawMainTitle(O),i.manage(O),!N._has("cartesian"))return a.previousPromises(O);function oe(be,me,Me){var Te=be._lw/2;if(be._id.charAt(0)==="x"){if(me){if(Me==="top")return me._offset-V-Te}else return z.t+z.h*(1-(be.position||0))+Te%1;return me._offset+me._length+V+Te}if(me){if(Me==="right")return me._offset+me._length+V+Te}else return z.l+z.w*(be.position||0)+Te%1;return me._offset-V-Te}for($=0;$<W.length;$++){ue=W[$];var Y=ue._anchorAxis;ue._linepositions={},ue._lw=r.crispRound(O,ue.linewidth,1),ue._mainLinePosition=oe(ue,Y,ue.side),ue._mainMirrorPosition=ue.mirror&&Y?oe(ue,Y,u.OPPOSITE_SIDE[ue.side]):null}var q=[],se=[],Q=[],K=p.opacity(N.paper_bgcolor)===1&&p.opacity(N.plot_bgcolor)===1&&N.paper_bgcolor===N.plot_bgcolor;for(re in N._plots)if(ne=N._plots[re],ne.mainplot)ne.bg&&ne.bg.remove(),ne.bg=void 0;else{var le=ne.xaxis.domain,ie=ne.yaxis.domain,ce=ne.plotgroup;if(d(le,ie,Q)){var ye=ce.node(),Ce=ne.bg=x.ensureSingle(ce,"rect","bg");ye.insertBefore(Ce.node(),ye.childNodes[0]),se.push(re)}else ce.select("rect.bg").remove(),Q.push([le,ie]),K||(q.push(re),se.push(re))}var Ae=N._bgLayer.selectAll(".bg").data(q);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(be){N._plots[be].bg=g.select(this)}),$=0;$<se.length;$++)ne=N._plots[se[$]],J=ne.xaxis,X=ne.yaxis,ne.bg&&J._offset!==void 0&&X._offset!==void 0&&ne.bg.call(r.setRect,J._offset-V,X._offset-V,J._length+2*V,X._length+2*V).call(p.fill,N.plot_bgcolor).style("stroke-width",0);if(!N._hasOnlyLargeSploms)for(re in N._plots){ne=N._plots[re],J=ne.xaxis,X=ne.yaxis;var ke=ne.clipId="clip"+N._uid+re+"plot",we=x.ensureSingleById(N._clips,"clipPath",ke,function(be){be.classed("plotclip",!0).append("rect")});ne.clipRect=we.select("rect").attr({width:J._length,height:X._length}),r.setTranslate(ne.plot,J._offset,X._offset);var Ee,xe;ne._hasClipOnAxisFalse?(Ee=null,xe=ke):(Ee=ke,xe=null),r.setClipUrl(ne.plot,Ee,O),ne.layerClipId=xe}var Pe,Ue,Be,Ne,Xe,ut,dt,at,We,rt,st,ht,vt;function At(be){return"M"+Pe+","+be+"H"+Ue}function et(be){return"M"+J._offset+","+be+"h"+J._length}function _e(be){return"M"+be+","+at+"V"+dt}function Ve(be){return X._shift!==void 0&&(be+=X._shift),"M"+be+","+X._offset+"v"+X._length}function Ze(be,me,Me){if(!be.showline||re!==be._mainSubplot)return"";if(!be._anchorAxis)return Me(be._mainLinePosition);var Te=me(be._mainLinePosition);return be.mirror&&(Te+=me(be._mainMirrorPosition)),Te}for(re in N._plots){ne=N._plots[re],J=ne.xaxis,X=ne.yaxis;var He="M0,0";A(J,re)&&(Xe=m(J,"left",X,W),Pe=J._offset-(Xe?V+Xe:0),ut=m(J,"right",X,W),Ue=J._offset+J._length+(ut?V+ut:0),Be=oe(J,X,"bottom"),Ne=oe(J,X,"top"),vt=!J._anchorAxis||re!==J._mainSubplot,vt&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[re]=[Be,Ne]),He=Ze(J,At,et),vt&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(He+=At(Be)+At(Ne)),ne.xlines.style("stroke-width",J._lw+"px").call(p.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),ne.xlines.attr("d",He);var Ie="M0,0";A(X,re)&&(st=m(X,"bottom",J,W),dt=X._offset+X._length+(st?V:0),ht=m(X,"top",J,W),at=X._offset-(ht?V:0),We=oe(X,J,"left"),rt=oe(X,J,"right"),vt=!X._anchorAxis||re!==X._mainSubplot,vt&&(X.mirror==="allticks"||X.mirror==="all")&&(X._linepositions[re]=[We,rt]),Ie=Ze(X,_e,Ve),vt&&X.showline&&(X.mirror==="all"||X.mirror==="allticks")&&(Ie+=_e(We)+_e(rt)),ne.ylines.style("stroke-width",X._lw+"px").call(p.stroke,X.showline?X.linecolor:"rgba(0,0,0,0)")),ne.ylines.attr("d",Ie)}return n.makeClipPaths(O),a.previousPromises(O)}function A(O,N){return(O.ticks||O.showline)&&(N===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function C(O,N,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var V=z._anchorAxis;if(!V)return!1;var W=u.FROM_BL[N];return z.side===N?V.domain[W]===O.domain[W]:z.mirror&&V.domain[1-W]===O.domain[1-W]}function m(O,N,z,V){if(C(O,N,z))return z._lw;for(var W=0;W<V.length;W++){var $=V[W];if($._mainAxis===z._mainAxis&&C(O,N,$))return $._lw}return 0}H.drawMainTitle=function(O){var N=O._fullLayout.title,z=O._fullLayout,V=B(z),W=F(z),$=k(z,W),re=T(z,V);if(t.draw(O,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:re,y:$,"text-anchor":V,dy:W}}),N.text&&N.automargin){var ne=g.selectAll(".gtitle"),ue=r.bBox(ne.node()).height,J=s(O,N,ue);if(J>0){L(O,$,J,ue),ne.attr({x:re,y:$,"text-anchor":V,dy:_(N.yanchor)}).call(M.positionText,re,$);var X=(N.text.match(M.BR_TAG_ALL)||[]).length;if(X){var oe=u.LINE_SPACING*X+u.MID_SHIFT;N.y===0&&(oe=-oe),ne.selectAll(".line").each(function(){var Y=+this.getAttribute("dy").slice(0,-2)-oe+"em";this.setAttribute("dy",Y)})}}}};function E(O,N,z,V,W){var $=N.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,re=x.isTopAnchor(N)?V:V-W,ne=z==="b"?$-re:re;return x.isTopAnchor(N)&&z==="t"||x.isBottomAnchor(N)&&z==="b"?!1:ne<W}function b(O,N,z,V,W){var $=0;return z==="middle"&&($+=W/2),O==="t"?(z==="top"&&($+=W),$+=V-N*V):(z==="bottom"&&($+=W),$+=N*V),$}function s(O,N,z){var V=N.y,W=N.yanchor,$=V>.5?"t":"b",re=O._fullLayout.margin[$],ne=0;return N.yref==="paper"?ne=z+N.pad.t+N.pad.b:N.yref==="container"&&(ne=b($,V,W,O._fullLayout.height,z)+N.pad.t+N.pad.b),ne>re?ne:0}function L(O,N,z,V){var W="title.automargin",$=O._fullLayout.title,re=$.y>.5?"t":"b",ne={x:$.x,y:$.y,t:0,b:0},ue={};$.yref==="paper"&&E(O,$,re,N,V)?ne[re]=z:$.yref==="container"&&(ue[re]=z,O._fullLayout._reservedMargin[W]=ue),a.allowAutoMargin(O,W),a.autoMargin(O,W,ne)}function T(O,N){var z=O.title,V=O._size,W=0;switch(N===S?W=z.pad.l:N===o&&(W=-z.pad.r),z.xref){case"paper":return V.l+V.w*z.x+W;case"container":default:return O.width*z.x+W}}function k(O,N){var z=O.title,V=O._size,W=0;if(N==="0em"||!N?W=-z.pad.b:N===u.CAP_SHIFT+"em"&&(W=z.pad.t),z.y==="auto")return V.t/2;switch(z.yref){case"paper":return V.t+V.h-V.h*z.y+W;case"container":default:return O.height-O.height*z.y+W}}function _(O){return O==="top"?u.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function B(O){var N=O.title,z=c;return x.isRightAnchor(N)?z=o:x.isLeftAnchor(N)&&(z=S),z}function F(O){var N=O.title,z="0em";return x.isTopAnchor(N)?z=u.CAP_SHIFT+"em":x.isMiddleAnchor(N)&&(z=u.MID_SHIFT+"em"),z}H.doTraceStyle=function(O){var N=O.calcdata,z=[],V;for(V=0;V<N.length;V++){var W=N[V],$=W[0]||{},re=$.trace||{},ne=re._module||{},ue=ne.arraysToCalcdata;ue&&ue(W,re);var J=ne.editStyle;J&&z.push({fn:J,cd0:$})}if(z.length){for(V=0;V<z.length;V++){var X=z[V];X.fn(O,X.cd0)}v(O),H.redrawReglTraces(O)}return a.style(O),P.getComponentMethod("legend","draw")(O),a.previousPromises(O)},H.doColorBars=function(O){return P.getComponentMethod("colorbar","draw")(O),a.previousPromises(O)},H.layoutReplot=function(O){var N=O.layout;return O.layout=void 0,P.call("_doPlot",O,"",N)},H.doLegend=function(O){return P.getComponentMethod("legend","draw")(O),a.previousPromises(O)},H.doTicksRelayout=function(O){return n.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(O),v(O),H.redrawReglTraces(O)),H.drawMainTitle(O),a.previousPromises(O)},H.doModeBar=function(O){var N=O._fullLayout;i.manage(O);for(var z=0;z<N._basePlotModules.length;z++){var V=N._basePlotModules[z].updateFx;V&&V(O)}return a.previousPromises(O)},H.doCamera=function(O){for(var N=O._fullLayout,z=N._subplots.gl3d,V=0;V<z.length;V++){var W=N[z[V]],$=W._scene;$.setViewport(W)}},H.drawData=function(O){var N=O._fullLayout;v(O);for(var z=N._basePlotModules,V=0;V<z.length;V++)z[V].plot(O);return H.redrawReglTraces(O),a.style(O),P.getComponentMethod("selections","draw")(O),P.getComponentMethod("shapes","draw")(O),P.getComponentMethod("annotations","draw")(O),P.getComponentMethod("images","draw")(O),N._replotting=!1,a.previousPromises(O)},H.redrawReglTraces=function(O){var N=O._fullLayout;if(N._has("regl")){var z=O._fullData,V=[],W=[],$,re;for(N._hasOnlyLargeSploms&&N._splomGrid.draw(),$=0;$<z.length;$++){var ne=z[$];ne.visible===!0&&ne._length!==0&&(ne.type==="splom"?N._splomScenes[ne.uid].draw():ne.type==="scattergl"?x.pushUnique(V,ne.xaxis+ne.yaxis):ne.type==="scatterpolargl"&&x.pushUnique(W,ne.subplot))}for($=0;$<V.length;$++)re=N._plots[V[$]],re._scene&&re._scene.draw();for($=0;$<W.length;$++)re=N[W[$]]._subplot,re._scene&&re._scene.draw()}},H.doAutoRangeAndConstraints=function(O){for(var N=n.list(O,"",!0),z,V={},W=0;W<N.length;W++)if(z=N[W],!V[z._id]){V[z._id]=1,y(O,z),h(O,z);var $=z._matchGroup;if($)for(var re in $){var ne=n.getFromId(O,re);h(O,ne,z.range),V[re]=1}}l(O)},H.finalDraw=function(O){P.getComponentMethod("rangeslider","draw")(O),P.getComponentMethod("rangeselector","draw")(O)},H.drawMarginPushers=function(O){P.getComponentMethod("legend","draw")(O),P.getComponentMethod("rangeselector","draw")(O),P.getComponentMethod("sliders","draw")(O),P.getComponentMethod("updatemenus","draw")(O),P.getComponentMethod("colorbar","draw")(O)}},94828:function(j,H,e){var g=e(3400),P=g.isPlainObject,a=e(73060),x=e(7316),M=e(45464),v=e(31780),p=e(20556).dfltConfig;H.makeTemplate=function(h){h=g.isPlainObject(h)?h:g.getGraphDiv(h),h=g.extendDeep({_context:p},{data:h.data,layout:h.layout}),x.supplyDefaults(h);var S=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var o={data:{},layout:{}};S.forEach(function(T){var k={};i(T,k,u.bind(null,T));var _=g.coerce(T,{},M,"type"),B=o.data[_];B||(B=o.data[_]=[]),B.push(k)}),i(c,o.layout,n.bind(null,c)),delete o.layout.template;var d=c.template;if(P(d)){var w=d.layout,A,C,m,E,b,s;P(w)&&r(w,o.layout);var L=d.data;if(P(L)){for(C in o.data)if(m=L[C],Array.isArray(m)){for(b=o.data[C],s=b.length,E=m.length,A=0;A<s;A++)r(m[A%E],b[A]);for(A=s;A<E;A++)b.push(g.extendDeep({},m[A]))}for(C in L)C in o.data||(o.data[C]=g.extendDeep([],L[C]))}}return o};function r(h,S){h=g.extendDeep({},h);var c=Object.keys(h).sort(),o,d;function w(b,s,L){if(P(s)&&P(b))r(b,s);else if(Array.isArray(s)&&Array.isArray(b)){var T=v.arrayTemplater({_template:h},L);for(d=0;d<s.length;d++){var k=s[d],_=T.newItem(k)._template;_&&r(_,k)}var B=T.defaultItems();for(d=0;d<B.length;d++)s.push(B[d]._template);for(d=0;d<s.length;d++)delete s[d].templateitemname}}for(o=0;o<c.length;o++){var A=c[o],C=h[A];if(A in S?w(C,S[A],A):S[A]=C,t(A)===A)for(var m in S){var E=t(m);m!==E&&E===A&&!(m in h)&&w(C,S[m],A)}}}function t(h){return h.replace(/[0-9]+$/,"")}function i(h,S,c,o,d){var w=d&&c(d);for(var A in h){var C=h[A],m=f(h,A,o),E=f(h,A,d),b=c(E);if(!b){var s=t(A);s!==A&&(E=f(h,s,d),b=c(E))}if(!(w&&w===b)&&!(!b||b._noTemplating||b.valType==="data_array"||b.arrayOk&&Array.isArray(C)))if(!b.valType&&P(C))i(C,S,c,m,E);else if(b._isLinkedToArray&&Array.isArray(C))for(var L=!1,T=0,k={},_=0;_<C.length;_++){var B=C[_];if(P(B)){var F=B.name;if(F)k[F]||(i(B,S,c,f(C,T,m),f(C,T,E)),T++,k[F]=1);else if(!L){var O=v.arrayDefaultKey(A),N=f(h,O,o),z=f(C,T,m);i(B,S,c,z,f(C,T,E));var V=g.nestedProperty(S,z),W=g.nestedProperty(S,N);W.set(V.get()),V.set(null),L=!0}}}else{var $=g.nestedProperty(S,m);$.set(C)}}}function n(h,S){return a.getLayoutValObject(h,g.nestedProperty({},S).parts)}function u(h,S){return a.getTraceValObject(h,g.nestedProperty({},S).parts)}function f(h,S,c){var o;return c?Array.isArray(h)?o=c+"["+S+"]":o=c+"."+S:o=S,o}H.validateTemplate=function(h,S){var c=g.extendDeep({},{_context:p,data:h.data,layout:h.layout}),o=c.layout||{};P(S)||(S=o.template||{});var d=S.layout,w=S.data,A=[];c.layout=o,c.layout.template=S,x.supplyDefaults(c);var C=c._fullLayout,m=c._fullData,E={};function b(N,z){for(var V in N)if(V.charAt(0)!=="_"&&P(N[V])){var W=t(V),$=[],re;for(re=0;re<z.length;re++)$.push(f(N,V,z[re])),W!==V&&$.push(f(N,W,z[re]));for(re=0;re<$.length;re++)E[$[re]]=1;b(N[V],$)}}function s(N,z){for(var V in N)if(V.indexOf("defaults")===-1&&P(N[V])){var W=f(N,V,z);E[W]?s(N[V],W):A.push({code:"unused",path:W})}}if(P(d)?(b(C,["layout"]),s(d,"layout")):A.push({code:"layout"}),!P(w))A.push({code:"data"});else{for(var L={},T,k=0;k<m.length;k++){var _=m[k];T=_.type,L[T]=(L[T]||0)+1,_._fullInput._template||A.push({code:"missing",index:_._fullInput.index,traceType:T})}for(T in w){var B=w[T].length,F=L[T]||0;B>F?A.push({code:"unused",traceType:T,templateCount:B,dataCount:F}):F>B&&A.push({code:"reused",traceType:T,templateCount:B,dataCount:F})}}function O(N,z){for(var V in N)if(V.charAt(0)!=="_"){var W=N[V],$=f(N,V,z);P(W)?(Array.isArray(N)&&W._template===!1&&W.templateitemname&&A.push({code:"missing",path:$,templateitemname:W.templateitemname}),O(W,$)):Array.isArray(W)&&l(W)&&O(W,$)}}if(O({data:m,layout:C},""),A.length)return A.map(y)};function l(h){for(var S=0;S<h.length;S++)if(P(h[S]))return!0}function y(h){var S;switch(h.code){case"data":S="The template has no key data.";break;case"layout":S="The template has no key layout.";break;case"missing":h.path?S="There are no templates for item "+h.path+" with name "+h.templateitemname:S="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?S="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?S="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":S="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":S="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=S,h}},67024:function(j,H,e){var g=e(38248),P=e(36424),a=e(7316),x=e(3400),M=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function i(n,u){u=u||{};var f,l,y,h;x.isPlainObject(n)?(f=n.data||[],l=n.layout||{},y=n.config||{},h={}):(n=x.getGraphDiv(n),f=x.extendDeep([],n.data),l=x.extendDeep({},n.layout),y=n._context,h=n._fullLayout||{});function S(F){return!(F in u)||x.validate(u[F],t[F])}if(!S("width")&&u.width!==null||!S("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!S("format"))throw new Error("Export format is not "+x.join2(t.format.values,", "," or ")+".");var c={};function o(F,O){return x.coerce(u,c,t,F,O)}var d=o("format"),w=o("width"),A=o("height"),C=o("scale"),m=o("setBackground"),E=o("imageDataOnly"),b=document.createElement("div");b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);var s=x.extendFlat({},l);w?s.width=w:u.width===null&&g(h.width)&&(s.width=h.width),A?s.height=A:u.height===null&&g(h.height)&&(s.height=h.height);var L=x.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),T=M.getRedrawFunc(b);function k(){return new Promise(function(F){setTimeout(F,M.getDelay(b._fullLayout))})}function _(){return new Promise(function(F,O){var N=v(b,d,C),z=b._fullLayout.width,V=b._fullLayout.height;function W(){P.purge(b),document.body.removeChild(b)}if(d==="full-json"){var $=a.graphJson(b,!1,"keepdata","object",!0,!0);return $.version=r,$=JSON.stringify($),W(),F(E?$:M.encodeJSON($))}if(W(),d==="svg")return F(E?N:M.encodeSVG(N));var re=document.createElement("canvas");re.id=x.randstr(),p({format:d,width:z,height:V,scale:C,canvas:re,svg:N,promise:!0}).then(F).catch(O)})}function B(F){return E?F.replace(M.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,O){P.newPlot(b,f,s,L).then(T).then(k).then(_).then(function(N){F(B(N))}).catch(function(N){O(N)})})}j.exports=i},21480:function(j,H,e){var g=e(3400),P=e(7316),a=e(73060),x=e(20556).dfltConfig,M=g.isPlainObject,v=Array.isArray,p=g.isArrayOrTypedArray;j.exports=function(o,d){o===void 0&&(o=[]),d===void 0&&(d={});var w=a.get(),A=[],C={_context:g.extendFlat({},x)},m,E;v(o)?(C.data=g.extendDeep([],o),m=o):(C.data=[],m=[],A.push(u("array","data"))),M(d)?(C.layout=g.extendDeep({},d),E=d):(C.layout={},E={},arguments.length>1&&A.push(u("object","layout"))),P.supplyDefaults(C);for(var b=C._fullData,s=m.length,L=0;L<s;L++){var T=m[L],k=["data",L];if(!M(T)){A.push(u("object",k));continue}var _=b[L],B=_.type,F=w.traces[B].attributes;F.type={valType:"enumerated",values:[B]},_.visible===!1&&T.visible!==!1&&A.push(u("invisible",k)),r(T,_,F,A,k);var O=T.transforms,N=_.transforms;if(O){v(O)||A.push(u("array",k,["transforms"])),k.push("transforms");for(var z=0;z<O.length;z++){var V=["transforms",z],W=O[z].type;if(!M(O[z])){A.push(u("object",k,V));continue}var $=w.transforms[W]?w.transforms[W].attributes:{};$.type={valType:"enumerated",values:Object.keys(w.transforms)},r(O[z],N[z],$,A,k,V)}}}var re=C._fullLayout,ne=t(w,b);return r(E,re,ne,A,"layout"),A.length===0?void 0:A};function r(c,o,d,w,A,C){C=C||[];for(var m=Object.keys(c),E=0;E<m.length;E++){var b=m[E];if(b!=="transforms"){var s=C.slice();s.push(b);var L=c[b],T=o[b],k=l(d,b),_=(k||{}).valType,B=_==="info_array",F=_==="colorscale",O=(k||{}).items;if(!f(d,b))w.push(u("schema",A,s));else if(M(L)&&M(T)&&_!=="any")r(L,T,k,w,A,s);else if(B&&v(L)){L.length>T.length&&w.push(u("unused",A,s.concat(T.length)));var N=T.length,z=Array.isArray(O);z&&(N=Math.min(N,O.length));var V,W,$,re,ne;if(k.dimensions===2)for(W=0;W<N;W++)if(v(L[W])){L[W].length>T[W].length&&w.push(u("unused",A,s.concat(W,T[W].length)));var ue=T[W].length;for(V=0;V<(z?Math.min(ue,O[W].length):ue);V++)$=z?O[W][V]:O,re=L[W][V],ne=T[W][V],g.validate(re,$)?ne!==re&&ne!==+re&&w.push(u("dynamic",A,s.concat(W,V),re,ne)):w.push(u("value",A,s.concat(W,V),re))}else w.push(u("array",A,s.concat(W),L[W]));else for(W=0;W<N;W++)$=z?O[W]:O,re=L[W],ne=T[W],g.validate(re,$)?ne!==re&&ne!==+re&&w.push(u("dynamic",A,s.concat(W),re,ne)):w.push(u("value",A,s.concat(W),re))}else if(k.items&&!B&&v(L)){var J=O[Object.keys(O)[0]],X=[],oe,Y;for(oe=0;oe<T.length;oe++){var q=T[oe]._index||oe;if(Y=s.slice(),Y.push(q),M(L[q])&&M(T[oe])){X.push(q);var se=L[q],Q=T[oe];M(se)&&se.visible!==!1&&Q.visible===!1?w.push(u("invisible",A,Y)):r(se,Q,J,w,A,Y)}}for(oe=0;oe<L.length;oe++)Y=s.slice(),Y.push(oe),M(L[oe])?X.indexOf(oe)===-1&&w.push(u("unused",A,Y)):w.push(u("object",A,Y,L[oe]))}else!M(L)&&M(T)?w.push(u("object",A,s,L)):!p(L)&&p(T)&&!B&&!F?w.push(u("array",A,s,L)):b in o?g.validate(L,k)?k.valType==="enumerated"&&(k.coerceNumber&&L!==+T||L!==T)&&w.push(u("dynamic",A,s,L,T)):w.push(u("value",A,s,L)):w.push(u("unused",A,s,L))}}return w}function t(c,o){for(var d=c.layout.layoutAttributes,w=0;w<o.length;w++){var A=o[w],C=c.traces[A.type],m=C.layoutAttributes;m&&(A.subplot?g.extendFlat(d[C.attributes.subplot.dflt],m):g.extendFlat(d,m))}return d}var i={object:function(c,o){var d;return c==="layout"&&o===""?d="The layout argument":c[0]==="data"&&o===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+o,d+" must be linked to an object container"},array:function(c,o){var d;return c==="data"?d="The data argument":d=n(c)+"key "+o,d+" must be linked to an array container"},schema:function(c,o){return n(c)+"key "+o+" is not part of the schema"},unused:function(c,o,d){var w=M(d)?"container":"key";return n(c)+w+" "+o+" did not get coerced"},dynamic:function(c,o,d,w){return[n(c)+"key",o,"(set to '"+d+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(c,o){return(o?n(c)+"item "+o:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,o,d){return[n(c)+"key "+o,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function u(c,o,d,w,A){d=d||"";var C,m;v(o)?(C=o[0],m=o[1]):(C=o,m=null);var E=S(d),b=i[c](o,E,w,A);return g.log(b),{code:c,container:C,trace:m,path:d,astr:E,msg:b}}function f(c,o){var d=h(o),w=d.keyMinusId,A=d.id;return w in c&&c[w]._isSubplotObj&&A?!0:o in c}function l(c,o){if(o in c)return c[o];var d=h(o);return c[d.keyMinusId]}var y=g.counterRegex("([a-z]+)");function h(c){var o=c.match(y);return{keyMinusId:o&&o[1],id:o&&o[2]}}function S(c){if(!v(c))return String(c);for(var o="",d=0;d<c.length;d++){var w=c[d];typeof w=="number"?o=o.substr(0,o.length-1)+"["+w+"]":o+=w,d<c.length-1&&(o+=".")}return o}},85656:function(j){j.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(j,H,e){var g=e(3400),P=e(31780);j.exports=function(x,M,v){var p=v.name,r=v.inclusionAttr||"visible",t=M[p],i=g.isArrayOrTypedArray(x[p])?x[p]:[],n=M[p]=[],u=P.arrayTemplater(M,p,r),f,l;for(f=0;f<i.length;f++){var y=i[f];g.isPlainObject(y)?l=u.newItem(y):(l=u.newItem({}),l[r]=!1),l._index=f,l[r]!==!1&&v.handleItemDefaults(y,l,M,v),n.push(l)}var h=u.defaultItems();for(f=0;f<h.length;f++)l=h[f],l._index=n.length,v.handleItemDefaults({},l,M,v,{}),n.push(l);if(g.isArrayOrTypedArray(t)){var S=Math.min(t.length,n.length);for(f=0;f<S;f++)g.relinkPrivateKeys(n[f],t[f])}return n}},45464:function(j,H,e){var g=e(25376),P=e(55756);j.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(j,H,e){var g=e(38248),P=e(3400),a=P.dateTime2ms,x=P.incrementMonth,M=e(39032),v=M.ONEAVGMONTH;j.exports=function(r,t,i,n){if(t.type!=="date")return{vals:n};var u=r[i+"periodalignment"];if(!u)return{vals:n};var f=r[i+"period"],l;if(g(f)){if(f=+f,f<=0)return{vals:n}}else if(typeof f=="string"&&f.charAt(0)==="M"){var y=+f.substring(1);if(y>0&&Math.round(y)===y)l=y;else return{vals:n}}for(var h=t.calendar,S=u==="start",c=u==="end",o=r[i+"period0"],d=a(o,h)||0,w=[],A=[],C=[],m=n.length,E=0;E<m;E++){var b=n[E],s,L,T;if(l){for(s=Math.round((b-d)/(l*v)),T=x(d,l*s,h);T>b;)T=x(T,-l,h);for(;T<=b;)T=x(T,l,h);L=x(T,-l,h)}else{for(s=Math.round((b-d)/f),T=d+s*f;T>b;)T-=f;for(;T<=b;)T+=f;L=T-f}w[E]=S?L:c?T:(L+T)/2,A[E]=L,C[E]=T}return{vals:w,starts:A,ends:C}}},26720:function(j){j.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(j,H,e){var g=e(33428),P=e(38248),a=e(3400),x=e(39032).FP_SAFE,M=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;j.exports={applyAutorangeOptions:s,getAutoRange:i,makePadFn:u,doAutoRange:h,findExtremes:S,concatExtremes:y};function i(L,T){var k,_,B=[],F=L._fullLayout,O=u(F,T,0),N=u(F,T,1),z=y(L,T),V=z.min,W=z.max;if(V.length===0||W.length===0)return a.simpleMap(T.range,T.r2l);var $=V[0].val,re=W[0].val;for(k=1;k<V.length&&$===re;k++)$=Math.min($,V[k].val);for(k=1;k<W.length&&$===re;k++)re=Math.max(re,W[k].val);var ne=T.autorange,ue=ne==="reversed"||ne==="min reversed"||ne==="max reversed";if(!ue&&T.range){var J=a.simpleMap(T.range,T.r2l);ue=J[1]<J[0]}T.autorange==="reversed"&&(T.autorange=!0);var X=T.rangemode,oe=X==="tozero",Y=X==="nonnegative",q=T._length,se=q/10,Q=0,K,le,ie,ce,ye,Ce;for(k=0;k<V.length;k++)for(K=V[k],_=0;_<W.length;_++)le=W[_],Ce=le.val-K.val-n(T,K.val,le.val),Ce>0&&(ye=q-O(K)-N(le),ye>se?Ce/ye>Q&&(ie=K,ce=le,Q=Ce/ye):Ce/q>Q&&(ie={val:K.val,nopad:1},ce={val:le.val,nopad:1},Q=Ce/q));function Ae(Pe,Ue){return Math.max(Pe,N(Ue))}if($===re){var ke=$-1,we=$+1;if(oe)if($===0)B=[0,1];else{var Ee=($>0?W:V).reduce(Ae,0),xe=$/(1-Math.min(.5,Ee/q));B=$>0?[0,xe]:[xe,0]}else Y?B=[Math.max(0,ke),Math.max(1,we)]:B=[ke,we]}else oe?(ie.val>=0&&(ie={val:0,nopad:1}),ce.val<=0&&(ce={val:0,nopad:1})):Y&&(ie.val-Q*O(ie)<0&&(ie={val:0,nopad:1}),ce.val<=0&&(ce={val:1,nopad:1})),Q=(ce.val-ie.val-n(T,K.val,le.val))/(q-O(ie)-N(ce)),B=[ie.val-Q*O(ie),ce.val+Q*N(ce)];return B=s(B,T),T.limitRange&&T.limitRange(),ue&&B.reverse(),a.simpleMap(B,T.l2r||Number)}function n(L,T,k){var _=0;if(L.rangebreaks)for(var B=L.locateBreaks(T,k),F=0;F<B.length;F++){var O=B[F];_+=O.max-O.min}return _}function u(L,T,k){var _=.05*T._length,B=T._anchorAxis||{};if((T.ticklabelposition||"").indexOf("inside")!==-1||(B.ticklabelposition||"").indexOf("inside")!==-1){var F=T.isReversed();if(!F){var O=a.simpleMap(T.range,T.r2l);F=O[1]<O[0]}F&&(k=!k)}var N=0;return t(L,T._id)||(N=l(L,T,k)),_=Math.max(N,_),T.constrain==="domain"&&T._inputDomain&&(_*=(T._inputDomain[1]-T._inputDomain[0])/(T.domain[1]-T.domain[0])),function(V){return V.nopad?0:V.pad+(V.extrapad?_:N)}}var f=3;function l(L,T,k){var _=0,B=T._id.charAt(0)==="x";for(var F in L._plots){var O=L._plots[F];if(!(T._id!==O.xaxis._id&&T._id!==O.yaxis._id)){var N=(B?O.yaxis:O.xaxis)||{};if((N.ticklabelposition||"").indexOf("inside")!==-1&&(!k&&(N.side==="left"||N.side==="bottom")||k&&(N.side==="top"||N.side==="right"))){if(N._vals){var z=a.deg2rad(N._tickAngles[N._id+"tick"]||0),V=Math.abs(Math.cos(z)),W=Math.abs(Math.sin(z));if(!N._vals[0].bb){var $=N._id+"tick",re=N._selections[$];re.each(function(Y){var q=g.select(this),se=q.select(".text-math-group");se.empty()&&(Y.bb=v.bBox(q.node()))})}for(var ne=0;ne<N._vals.length;ne++){var ue=N._vals[ne],J=ue.bb;if(J){var X=2*f+J.width,oe=2*f+J.height;_=Math.max(_,B?Math.max(X*V,oe*W):Math.max(oe*V,X*W))}}}N.ticks==="inside"&&N.ticklabelposition==="inside"&&(_+=N.ticklen||0)}}}return _}function y(L,T,k){var _=T._id,B=L._fullData,F=L._fullLayout,O=[],N=[],z,V,W;function $(X,oe){for(z=0;z<oe.length;z++){var Y=X[oe[z]],q=(Y._extremes||{})[_];if(Y.visible===!0&&q){for(V=0;V<q.min.length;V++)W=q.min[V],c(O,W.val,W.pad,{extrapad:W.extrapad});for(V=0;V<q.max.length;V++)W=q.max[V],o(N,W.val,W.pad,{extrapad:W.extrapad})}}}if($(B,T._traceIndices),$(F.annotations||[],T._annIndices||[]),$(F.shapes||[],T._shapeIndices||[]),T._matchGroup&&!k){for(var re in T._matchGroup)if(re!==T._id){var ne=r(L,re),ue=y(L,ne,!0),J=T._length/ne._length;for(V=0;V<ue.min.length;V++)W=ue.min[V],c(O,W.val,W.pad*J,{extrapad:W.extrapad});for(V=0;V<ue.max.length;V++)W=ue.max[V],o(N,W.val,W.pad*J,{extrapad:W.extrapad})}}return{min:O,max:N}}function h(L,T,k){if(T.setScale(),T.autorange){T.range=k?k.slice():i(L,T),T._r=T.range.slice(),T._rl=a.simpleMap(T._r,T.r2l);var _=T._input,B={};B[T._attr+".range"]=T.range,B[T._attr+".autorange"]=T.autorange,M.call("_storeDirectGUIEdit",L.layout,L._fullLayout._preGUI,B),_.range=T.range.slice(),_.autorange=T.autorange}var F=T._anchorAxis;if(F&&F.rangeslider){var O=F.rangeslider[T._name];O&&O.rangemode==="auto"&&(O.range=i(L,T)),F._input.rangeslider[T._name]=a.extendFlat({},O)}}function S(L,T,k){k||(k={}),L._m||L.setScale();var _=[],B=[],F=T.length,O=k.padded||!1,N=k.tozero&&(L.type==="linear"||L.type==="-"),z=L.type==="log",V=!1,W=k.vpadLinearized||!1,$,re,ne,ue,J,X,oe,Y,q;function se(Ae){if(Array.isArray(Ae))return V=!0,function(we){return Math.max(Number(Ae[we]||0),0)};var ke=Math.max(Number(Ae||0),0);return function(){return ke}}var Q=se((L._m>0?k.ppadplus:k.ppadminus)||k.ppad||0),K=se((L._m>0?k.ppadminus:k.ppadplus)||k.ppad||0),le=se(k.vpadplus||k.vpad),ie=se(k.vpadminus||k.vpad);if(!V){if(Y=1/0,q=-1/0,z)for($=0;$<F;$++)re=T[$],re<Y&&re>0&&(Y=re),re>q&&re<x&&(q=re);else for($=0;$<F;$++)re=T[$],re<Y&&re>-x&&(Y=re),re>q&&re<x&&(q=re);T=[Y,q],F=2}var ce={tozero:N,extrapad:O};function ye(Ae){ne=T[Ae],P(ne)&&(X=Q(Ae),oe=K(Ae),W?(ue=L.c2l(ne)-ie(Ae),J=L.c2l(ne)+le(Ae)):(Y=ne-ie(Ae),q=ne+le(Ae),z&&Y<q/10&&(Y=q/10),ue=L.c2l(Y),J=L.c2l(q)),N&&(ue=Math.min(0,ue),J=Math.max(0,J)),w(ue)&&c(_,ue,oe,ce),w(J)&&o(B,J,X,ce))}var Ce=Math.min(6,F);for($=0;$<Ce;$++)ye($);for($=F-1;$>=Ce;$--)ye($);return{min:_,max:B,opts:k}}function c(L,T,k,_){d(L,T,k,_,A)}function o(L,T,k,_){d(L,T,k,_,C)}function d(L,T,k,_,B){for(var F=_.tozero,O=_.extrapad,N=!0,z=0;z<L.length&&N;z++){var V=L[z];if(B(V.val,T)&&V.pad>=k&&(V.extrapad||!O)){N=!1;break}else B(T,V.val)&&V.pad<=k&&(O||!V.extrapad)&&(L.splice(z,1),z--)}if(N){var W=F&&T===0;L.push({val:T,pad:W?0:k,extrapad:W?!1:O})}}function w(L){return P(L)&&Math.abs(L)<x}function A(L,T){return L<=T}function C(L,T){return L>=T}function m(L,T){var k=T.autorangeoptions;return k&&k.minallowed!==void 0&&b(T,k.minallowed,k.maxallowed)?k.minallowed:k&&k.clipmin!==void 0&&b(T,k.clipmin,k.clipmax)?Math.max(L,T.d2l(k.clipmin)):L}function E(L,T){var k=T.autorangeoptions;return k&&k.maxallowed!==void 0&&b(T,k.minallowed,k.maxallowed)?k.maxallowed:k&&k.clipmax!==void 0&&b(T,k.clipmin,k.clipmax)?Math.min(L,T.d2l(k.clipmax)):L}function b(L,T,k){return T!==void 0&&k!==void 0?(T=L.d2l(T),k=L.d2l(k),T<k):!0}function s(L,T){if(!T||!T.autorangeoptions)return L;var k=L[0],_=L[1],B=T.autorangeoptions.include;if(B!==void 0){var F=T.d2l(k),O=T.d2l(_);a.isArrayOrTypedArray(B)||(B=[B]);for(var N=0;N<B.length;N++){var z=T.d2l(B[N]);F>=z&&(F=z,k=z),O<=z&&(O=z,_=z)}}return k=m(k,T),_=E(_,T),[k,_]}},76808:function(j){j.exports=function(e,g,P){var a,x;if(P){var M=g==="reversed"||g==="min reversed"||g==="max reversed";a=P[M?1:0],x=P[M?0:1]}var v=e("autorangeoptions.minallowed",x===null?a:void 0),p=e("autorangeoptions.maxallowed",a===null?x:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(j,H,e){var g=e(33428),P=e(38248),a=e(7316),x=e(24040),M=e(3400),v=M.strTranslate,p=e(72736),r=e(81668),t=e(76308),i=e(43616),n=e(94724),u=e(98728),f=e(39032),l=f.ONEMAXYEAR,y=f.ONEAVGYEAR,h=f.ONEMINYEAR,S=f.ONEMAXQUARTER,c=f.ONEAVGQUARTER,o=f.ONEMINQUARTER,d=f.ONEMAXMONTH,w=f.ONEAVGMONTH,A=f.ONEMINMONTH,C=f.ONEWEEK,m=f.ONEDAY,E=m/2,b=f.ONEHOUR,s=f.ONEMIN,L=f.ONESEC,T=f.MINUS_SIGN,k=f.BADNUM,_={K:"zeroline"},B={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},N={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(84284),W=V.MID_SHIFT,$=V.CAP_SHIFT,re=V.LINE_SPACING,ne=V.OPPOSITE_SIDE,ue=3,J=j.exports={};J.setConvert=e(78344);var X=e(52976),oe=e(79811),Y=oe.idSort,q=oe.isLinked;J.id2name=oe.id2name,J.name2id=oe.name2id,J.cleanId=oe.cleanId,J.list=oe.list,J.listIds=oe.listIds,J.getFromId=oe.getFromId,J.getFromTrace=oe.getFromTrace;var se=e(19280);J.getAutoRange=se.getAutoRange,J.findExtremes=se.findExtremes;var Q=1e-4;function K(Ye){var je=(Ye[1]-Ye[0])*Q;return[Ye[0]-je,Ye[1]+je]}J.coerceRef=function(Ye,je,zt,Ft,Jt,tr){var ur=Ft.charAt(Ft.length-1),nr=zt._fullLayout._subplots[ur+"axis"],Nt=Ft+"ref",hr={};return Jt||(Jt=nr[0]||(typeof tr=="string"?tr:tr[0])),tr||(tr=Jt),nr=nr.concat(nr.map(function(gr){return gr+" domain"})),hr[Nt]={valType:"enumerated",values:nr.concat(tr?typeof tr=="string"?[tr]:tr:[]),dflt:Jt},M.coerce(Ye,je,hr,Nt)},J.getRefType=function(Ye){return Ye===void 0?Ye:Ye==="paper"?"paper":Ye==="pixel"?"pixel":/( domain)$/.test(Ye)?"domain":"range"},J.coercePosition=function(Ye,je,zt,Ft,Jt,tr){var ur,nr,Nt=J.getRefType(Ft);if(Nt!=="range")ur=M.ensureNumber,nr=zt(Jt,tr);else{var hr=J.getFromId(je,Ft);tr=hr.fraction2r(tr),nr=zt(Jt,tr),ur=hr.cleanPos}Ye[Jt]=ur(nr)},J.cleanPosition=function(Ye,je,zt){var Ft=zt==="paper"||zt==="pixel"?M.ensureNumber:J.getFromId(je,zt).cleanPos;return Ft(Ye)},J.redrawComponents=function(Ye,je){je=je||J.listIds(Ye);var zt=Ye._fullLayout;function Ft(Jt,tr,ur,nr){for(var Nt=x.getComponentMethod(Jt,tr),hr={},gr=0;gr<je.length;gr++)for(var br=zt[J.id2name(je[gr])],vr=br[ur],Gr=0;Gr<vr.length;Gr++){var Dr=vr[Gr];if(!hr[Dr]&&(Nt(Ye,Dr),hr[Dr]=1,nr))return}}Ft("annotations","drawOne","_annIndices"),Ft("shapes","drawOne","_shapeIndices"),Ft("images","draw","_imgIndices",!0),Ft("selections","drawOne","_selectionIndices")};var le=J.getDataConversions=function(Ye,je,zt,Ft){var Jt,tr=zt==="x"||zt==="y"||zt==="z"?zt:Ft;if(M.isArrayOrTypedArray(tr)){if(Jt={type:X(Ft,void 0,{autotypenumbers:Ye._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(Jt),Jt.type==="category")for(var ur=0;ur<Ft.length;ur++)Jt.d2c(Ft[ur])}else Jt=J.getFromTrace(Ye,je,tr);return Jt?{d2c:Jt.d2c,c2d:Jt.c2d}:tr==="ids"?{d2c:ce,c2d:ce}:{d2c:ie,c2d:ie}};function ie(Ye){return+Ye}function ce(Ye){return String(Ye)}J.getDataToCoordFunc=function(Ye,je,zt,Ft){return le(Ye,je,zt,Ft).d2c},J.counterLetter=function(Ye){var je=Ye.charAt(0);if(je==="x")return"y";if(je==="y")return"x"},J.minDtick=function(Ye,je,zt,Ft){["log","category","multicategory"].indexOf(Ye.type)!==-1||!Ft?Ye._minDtick=0:Ye._minDtick===void 0?(Ye._minDtick=je,Ye._forceTick0=zt):Ye._minDtick&&((Ye._minDtick/je+1e-6)%1<2e-6&&((zt-Ye._forceTick0)/je%1+1.000001)%1<2e-6?(Ye._minDtick=je,Ye._forceTick0=zt):((je/Ye._minDtick+1e-6)%1>2e-6||((zt-Ye._forceTick0)/Ye._minDtick%1+1.000001)%1>2e-6)&&(Ye._minDtick=0))},J.saveRangeInitial=function(Ye,je){for(var zt=J.list(Ye,"",!0),Ft=!1,Jt=0;Jt<zt.length;Jt++){var tr=zt[Jt],ur=tr._rangeInitial0===void 0&&tr._rangeInitial1===void 0,nr=ur||tr.range[0]!==tr._rangeInitial0||tr.range[1]!==tr._rangeInitial1,Nt=tr.autorange;(ur&&Nt!==!0||je&&nr)&&(tr._rangeInitial0=Nt==="min"||Nt==="max reversed"?void 0:tr.range[0],tr._rangeInitial1=Nt==="max"||Nt==="min reversed"?void 0:tr.range[1],tr._autorangeInitial=Nt,Ft=!0)}return Ft},J.saveShowSpikeInitial=function(Ye,je){for(var zt=J.list(Ye,"",!0),Ft=!1,Jt="on",tr=0;tr<zt.length;tr++){var ur=zt[tr],nr=ur._showSpikeInitial===void 0,Nt=nr||ur.showspikes!==ur._showspikes;(nr||je&&Nt)&&(ur._showSpikeInitial=ur.showspikes,Ft=!0),Jt==="on"&&!ur.showspikes&&(Jt="off")}return Ye._fullLayout._cartesianSpikesEnabled=Jt,Ft},J.autoBin=function(Ye,je,zt,Ft,Jt,tr){var ur=M.aggNums(Math.min,null,Ye),nr=M.aggNums(Math.max,null,Ye);if(je.type==="category"||je.type==="multicategory")return{start:ur-.5,end:nr+.5,size:Math.max(1,Math.round(tr)||1),_dataSpan:nr-ur};Jt||(Jt=je.calendar);var Nt;if(je.type==="log"?Nt={type:"linear",range:[ur,nr]}:Nt={type:je.type,range:M.simpleMap([ur,nr],je.c2r,0,Jt),calendar:Jt},J.setConvert(Nt),tr=tr&&u.dtick(tr,Nt.type),tr)Nt.dtick=tr,Nt.tick0=u.tick0(void 0,Nt.type,Jt);else{var hr;if(zt)hr=(nr-ur)/zt;else{var gr=M.distinctVals(Ye),br=Math.pow(10,Math.floor(Math.log(gr.minDiff)/Math.LN10)),vr=br*M.roundUp(gr.minDiff/br,[.9,1.9,4.9,9.9],!0);hr=Math.max(vr,2*M.stdev(Ye)/Math.pow(Ye.length,Ft?.25:.4)),P(hr)||(hr=1)}J.autoTicks(Nt,hr)}var Gr=Nt.dtick,Dr=J.tickIncrement(J.tickFirst(Nt),Gr,"reverse",Jt),_r,hn;if(typeof Gr=="number")Dr=ye(Dr,Ye,Nt,ur,nr),hn=1+Math.floor((nr-Dr)/Gr),_r=Dr+hn*Gr;else for(Nt.dtick.charAt(0)==="M"&&(Dr=Ce(Dr,Ye,Gr,ur,Jt)),_r=Dr,hn=0;_r<=nr;)_r=J.tickIncrement(_r,Gr,!1,Jt),hn++;return{start:je.c2r(Dr,0,Jt),end:je.c2r(_r,0,Jt),size:Gr,_dataSpan:nr-ur}};function ye(Ye,je,zt,Ft,Jt){var tr=0,ur=0,nr=0,Nt=0;function hr(Gr){return(1+(Gr-Ye)*100/zt.dtick)%100<2}for(var gr=0;gr<je.length;gr++)je[gr]%1===0?nr++:P(je[gr])||Nt++,hr(je[gr])&&tr++,hr(je[gr]+zt.dtick/2)&&ur++;var br=je.length-Nt;if(nr===br&&zt.type!=="date")zt.dtick<1?Ye=Ft-.5*zt.dtick:(Ye-=.5,Ye+zt.dtick<Ft&&(Ye+=zt.dtick));else if(ur<br*.1&&(tr>br*.3||hr(Ft)||hr(Jt))){var vr=zt.dtick/2;Ye+=Ye+vr<Ft?vr:-vr}return Ye}function Ce(Ye,je,zt,Ft,Jt){var tr=M.findExactDates(je,Jt),ur=.8;if(tr.exactDays>ur){var nr=Number(zt.substr(1));tr.exactYears>ur&&nr%12===0?Ye=J.tickIncrement(Ye,"M6","reverse")+m*1.5:tr.exactMonths>ur?Ye=J.tickIncrement(Ye,"M1","reverse")+m*15.5:Ye-=E;var Nt=J.tickIncrement(Ye,zt);if(Nt<=Ft)return Nt}return Ye}J.prepMinorTicks=function(Ye,je,zt){if(!je.minor.dtick){delete Ye.dtick;var Ft=je.dtick&&P(je._tmin),Jt;if(Ft){var tr=J.tickIncrement(je._tmin,je.dtick,!0);Jt=[je._tmin,tr*.99+je._tmin*.01]}else{var ur=M.simpleMap(je.range,je.r2l);Jt=[ur[0],.8*ur[0]+.2*ur[1]]}if(Ye.range=M.simpleMap(Jt,je.l2r),Ye._isMinor=!0,J.prepTicks(Ye,zt),Ft){var nr=P(je.dtick),Nt=P(Ye.dtick),hr=nr?je.dtick:+je.dtick.substring(1),gr=Nt?Ye.dtick:+Ye.dtick.substring(1);nr&&Nt?Ae(hr,gr)?hr===2*C&&gr===2*m&&(Ye.dtick=C):hr===2*C&&gr===3*m?Ye.dtick=C:hr===C&&!(je._input.minor||{}).nticks?Ye.dtick=m:ke(hr/gr,2.5)?Ye.dtick=hr/2:Ye.dtick=hr:String(je.dtick).charAt(0)==="M"?Nt?Ye.dtick="M1":Ae(hr,gr)?hr>=12&&gr===2&&(Ye.dtick="M3"):Ye.dtick=je.dtick:String(Ye.dtick).charAt(0)==="L"?String(je.dtick).charAt(0)==="L"?Ae(hr,gr)||(Ye.dtick=ke(hr/gr,2.5)?je.dtick/2:je.dtick):Ye.dtick="D1":Ye.dtick==="D2"&&+je.dtick>1&&(Ye.dtick=1)}Ye.range=je.range}je.minor._tick0Init===void 0&&(Ye.tick0=je.tick0)};function Ae(Ye,je){return Math.abs((Ye/je+.5)%1-.5)<.001}function ke(Ye,je){return Math.abs(Ye/je-1)<.001}J.prepTicks=function(Ye,je){var zt=M.simpleMap(Ye.range,Ye.r2l,void 0,void 0,je);if(Ye.tickmode==="auto"||!Ye.dtick){var Ft=Ye.nticks,Jt;Ft||(Ye.type==="category"||Ye.type==="multicategory"?(Jt=Ye.tickfont?M.bigFont(Ye.tickfont.size||12):15,Ft=Ye._length/Jt):(Jt=Ye._id.charAt(0)==="y"?40:80,Ft=M.constrain(Ye._length/Jt,4,9)+1),Ye._name==="radialaxis"&&(Ft*=2)),Ye.minor&&Ye.minor.tickmode!=="array"||Ye.tickmode==="array"&&(Ft*=100),Ye._roughDTick=Math.abs(zt[1]-zt[0])/Ft,J.autoTicks(Ye,Ye._roughDTick),Ye._minDtick>0&&Ye.dtick<Ye._minDtick*2&&(Ye.dtick=Ye._minDtick,Ye.tick0=Ye.l2r(Ye._forceTick0))}Ye.ticklabelmode==="period"&&Ee(Ye),Ye.tick0||(Ye.tick0=Ye.type==="date"?"2000-01-01":0),Ye.type==="date"&&Ye.dtick<.1&&(Ye.dtick=.1),ht(Ye)};function we(Ye){return+Ye.substring(1)}function Ee(Ye){var je;function zt(){return!(P(Ye.dtick)||Ye.dtick.charAt(0)!=="M")}var Ft=zt(),Jt=J.getTickFormat(Ye);if(Jt){var tr=Ye._dtickInit!==Ye.dtick;/%[fLQsSMX]/.test(Jt)||(/%[HI]/.test(Jt)?(je=b,tr&&!Ft&&Ye.dtick<b&&(Ye.dtick=b)):/%p/.test(Jt)?(je=E,tr&&!Ft&&Ye.dtick<E&&(Ye.dtick=E)):/%[Aadejuwx]/.test(Jt)?(je=m,tr&&!Ft&&Ye.dtick<m&&(Ye.dtick=m)):/%[UVW]/.test(Jt)?(je=C,tr&&!Ft&&Ye.dtick<C&&(Ye.dtick=C)):/%[Bbm]/.test(Jt)?(je=w,tr&&(Ft?we(Ye.dtick)<1:Ye.dtick<A)&&(Ye.dtick="M1")):/%[q]/.test(Jt)?(je=c,tr&&(Ft?we(Ye.dtick)<3:Ye.dtick<o)&&(Ye.dtick="M3")):/%[Yy]/.test(Jt)&&(je=y,tr&&(Ft?we(Ye.dtick)<12:Ye.dtick<h)&&(Ye.dtick="M12")))}Ft=zt(),Ft&&Ye.tick0===Ye._dowTick0&&(Ye.tick0=Ye._rawTick0),Ye._definedDelta=je}function xe(Ye,je,zt){for(var Ft=0;Ft<Ye.length;Ft++){var Jt=Ye[Ft].value,tr=Ft,ur=Ft+1;Ft<Ye.length-1?(tr=Ft,ur=Ft+1):Ft>0?(tr=Ft-1,ur=Ft):(tr=Ft,ur=Ft);var nr=Ye[tr].value,Nt=Ye[ur].value,hr=Math.abs(Nt-nr),gr=zt||hr,br=0;gr>=h?hr>=h&&hr<=l?br=hr:br=y:zt===c&&gr>=o?hr>=o&&hr<=S?br=hr:br=c:gr>=A?hr>=A&&hr<=d?br=hr:br=w:zt===C&&gr>=C?br=C:gr>=m?br=m:zt===E&&gr>=E?br=E:zt===b&&gr>=b&&(br=b);var vr;br>=hr&&(br=hr,vr=!0);var Gr=Jt+br;if(je.rangebreaks&&br>0){for(var Dr=84,_r=0,hn=0;hn<Dr;hn++){var nn=(hn+.5)/Dr;je.maskBreaks(Jt*(1-nn)+nn*Gr)!==k&&_r++}br*=_r/Dr,br||(Ye[Ft].drop=!0),vr&&hr>C&&(br=hr)}(br>0||Ft===0)&&(Ye[Ft].periodX=Jt+br/2)}}J.calcTicks=function(je,zt){for(var Ft=je.type,Jt=je.calendar,tr=je.ticklabelstep,ur=je.ticklabelmode==="period",nr=M.simpleMap(je.range,je.r2l,void 0,void 0,zt),Nt=nr[1]<nr[0],hr=Math.min(nr[0],nr[1]),gr=Math.max(nr[0],nr[1]),br=Math.max(1e3,je._length||0),vr=[],Gr=[],Dr=[],_r=[],hn=je.minor&&(je.minor.ticks||je.minor.showgrid),nn=1;nn>=(hn?0:1);nn--){var Pn=!nn;nn?(je._dtickInit=je.dtick,je._tick0Init=je.tick0):(je.minor._dtickInit=je.minor.dtick,je.minor._tick0Init=je.minor.tick0);var Cn=nn?je:M.extendFlat({},je,je.minor);if(Pn?J.prepMinorTicks(Cn,je,zt):J.prepTicks(Cn,zt),Cn.tickmode==="array"){nn?(Dr=[],vr=Be(je,!Pn)):(_r=[],Gr=Be(je,!Pn));continue}if(Cn.tickmode==="sync"){Dr=[],vr=Ue(je);continue}var Ar=K(nr),Pr=Ar[0],Wr=Ar[1],Vr=P(Cn.dtick),on=Ft==="log"&&!(Vr||Cn.dtick.charAt(0)==="L"),yn=J.tickFirst(Cn,zt);if(nn){if(je._tmin=yn,yn<Pr!==Nt)break;(Ft==="category"||Ft==="multicategory")&&(Wr=Nt?Math.max(-.5,Wr):Math.min(je._categories.length-.5,Wr))}var mn=null,Ln=yn,zn;if(nn){var aa;Vr?aa=je.dtick:Ft==="date"?typeof je.dtick=="string"&&je.dtick.charAt(0)==="M"&&(aa=w*je.dtick.substring(1)):aa=je._roughDTick,zn=Math.round((je.r2l(Ln)-je.r2l(je.tick0))/aa)-1}var ha=Cn.dtick;for(Cn.rangebreaks&&Cn._tick0Init!==Cn.tick0&&(Ln=Bt(Ln,je),Nt||(Ln=J.tickIncrement(Ln,ha,!Nt,Jt))),nn&&ur&&(Ln=J.tickIncrement(Ln,ha,!Nt,Jt),zn--);Nt?Ln>=Wr:Ln<=Wr;Ln=J.tickIncrement(Ln,ha,Nt,Jt)){if(nn&&zn++,Cn.rangebreaks&&!Nt){if(Ln<Pr)continue;if(Cn.maskBreaks(Ln)===k&&Bt(Ln,Cn)>=gr)break}if(Dr.length>br||Ln===mn)break;mn=Ln;var pa={value:Ln};nn?(on&&Ln!==(Ln|0)&&(pa.simpleLabel=!0),tr>1&&zn%tr&&(pa.skipLabel=!0),Dr.push(pa)):(pa.minor=!0,_r.push(pa))}}if(hn){var ua=je.minor.ticks==="inside"&&je.ticks==="outside"||je.minor.ticks==="outside"&&je.ticks==="inside";if(!ua){for(var na=Dr.map(function(vn){return vn.value}),Tr=[],an=0;an<_r.length;an++){var qr=_r[an],pn=qr.value;if(na.indexOf(pn)===-1){for(var jn=!1,An=0;!jn&&An<Dr.length;An++)1e7+Dr[An].value===1e7+pn&&(jn=!0);jn||Tr.push(qr)}}_r=Tr}}ur&&xe(Dr,je,je._definedDelta);var Sn;if(je.rangebreaks){var Un=je._id.charAt(0)==="y",$n=1;je.tickmode==="auto"&&($n=je.tickfont?je.tickfont.size:12);var ya=NaN;for(Sn=Dr.length-1;Sn>-1;Sn--){if(Dr[Sn].drop){Dr.splice(Sn,1);continue}Dr[Sn].value=Bt(Dr[Sn].value,je);var _a=je.c2p(Dr[Sn].value);(Un?ya>_a-$n:ya<_a+$n)?Dr.splice(Nt?Sn+1:Sn,1):ya=_a}}Vt(je)&&Math.abs(nr[1]-nr[0])===360&&Dr.pop(),je._tmax=(Dr[Dr.length-1]||{}).value,je._prevDateHead="",je._inCalcTicks=!0;var Er,zr=function(vn){vn.text="",je._prevDateHead=Er};Dr=Dr.concat(_r);var Sr,Nr;for(Sn=0;Sn<Dr.length;Sn++){var wn=Dr[Sn].minor,kn=Dr[Sn].value;wn?Gr.push({x:kn,minor:!0}):(Er=je._prevDateHead,Sr=J.tickText(je,kn,!1,Dr[Sn].simpleLabel),Nr=Dr[Sn].periodX,Nr!==void 0&&(Sr.periodX=Nr,(Nr>gr||Nr<hr)&&(Nr>gr&&(Sr.periodX=gr),Nr<hr&&(Sr.periodX=hr),zr(Sr))),Dr[Sn].skipLabel&&zr(Sr),vr.push(Sr))}return vr=vr.concat(Gr),je._inCalcTicks=!1,ur&&vr.length&&(vr[0].noTick=!0),vr};function Pe(Ye,je){return Ye.rangebreaks&&(je=je.filter(function(zt){return Ye.maskBreaks(zt.x)!==k})),je}function Ue(Ye){var je=Ye._mainAxis,zt=[];if(je._vals){for(var Ft=0;Ft<je._vals.length;Ft++)if(!je._vals[Ft].noTick){var Jt=je.l2p(je._vals[Ft].x),tr=Ye.p2l(Jt),ur=J.tickText(Ye,tr);je._vals[Ft].minor&&(ur.minor=!0,ur.text=""),zt.push(ur)}}return zt=Pe(Ye,zt),zt}function Be(Ye,je){var zt=M.simpleMap(Ye.range,Ye.r2l),Ft=K(zt),Jt=Math.min(Ft[0],Ft[1]),tr=Math.max(Ft[0],Ft[1]),ur=Ye.type==="category"?Ye.d2l_noadd:Ye.d2l;Ye.type==="log"&&String(Ye.dtick).charAt(0)!=="L"&&(Ye.dtick="L"+Math.pow(10,Math.floor(Math.min(Ye.range[0],Ye.range[1]))-1));for(var nr=[],Nt=0;Nt<=1;Nt++)if(!(je!==void 0&&(je&&Nt||je===!1&&!Nt))&&!(Nt&&!Ye.minor)){var hr=Nt?Ye.minor.tickvals:Ye.tickvals,gr=Nt?[]:Ye.ticktext;if(hr){M.isArrayOrTypedArray(gr)||(gr=[]);for(var br=0;br<hr.length;br++){var vr=ur(hr[br]);if(vr>Jt&&vr<tr){var Gr=J.tickText(Ye,vr,!1,String(gr[br]));Nt&&(Gr.minor=!0,Gr.text=""),nr.push(Gr)}}}}return nr=Pe(Ye,nr),nr}var Ne=[2,5,10],Xe=[1,2,3,6,12],ut=[1,2,5,10,15,30],dt=[1,2,3,7,14],at=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],We=[-.301,0,.301,.699,1],rt=[15,30,45,90,180];function st(Ye,je,zt){return je*M.roundUp(Ye/je,zt)}J.autoTicks=function(Ye,je,zt){var Ft;function Jt(br){return Math.pow(br,Math.floor(Math.log(je)/Math.LN10))}if(Ye.type==="date"){Ye.tick0=M.dateTick0(Ye.calendar,0);var tr=2*je;if(tr>y)je/=y,Ft=Jt(10),Ye.dtick="M"+12*st(je,Ft,Ne);else if(tr>w)je/=w,Ye.dtick="M"+st(je,1,Xe);else if(tr>m){if(Ye.dtick=st(je,m,Ye._hasDayOfWeekBreaks?[1,2,7,14]:dt),!zt){var ur=J.getTickFormat(Ye),nr=Ye.ticklabelmode==="period";nr&&(Ye._rawTick0=Ye.tick0),/%[uVW]/.test(ur)?Ye.tick0=M.dateTick0(Ye.calendar,2):Ye.tick0=M.dateTick0(Ye.calendar,1),nr&&(Ye._dowTick0=Ye.tick0)}}else tr>b?Ye.dtick=st(je,b,Xe):tr>s?Ye.dtick=st(je,s,ut):tr>L?Ye.dtick=st(je,L,ut):(Ft=Jt(10),Ye.dtick=st(je,Ft,Ne))}else if(Ye.type==="log"){Ye.tick0=0;var Nt=M.simpleMap(Ye.range,Ye.r2l);if(Ye._isMinor&&(je*=1.5),je>.7)Ye.dtick=Math.ceil(je);else if(Math.abs(Nt[1]-Nt[0])<1){var hr=1.5*Math.abs((Nt[1]-Nt[0])/je);je=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/hr,Ft=Jt(10),Ye.dtick="L"+st(je,Ft,Ne)}else Ye.dtick=je>.3?"D2":"D1"}else Ye.type==="category"||Ye.type==="multicategory"?(Ye.tick0=0,Ye.dtick=Math.ceil(Math.max(je,1))):Vt(Ye)?(Ye.tick0=0,Ft=1,Ye.dtick=st(je,Ft,rt)):(Ye.tick0=0,Ft=Jt(10),Ye.dtick=st(je,Ft,Ne));if(Ye.dtick===0&&(Ye.dtick=1),!P(Ye.dtick)&&typeof Ye.dtick!="string"){var gr=Ye.dtick;throw Ye.dtick=1,"ax.dtick error: "+String(gr)}};function ht(Ye){var je=Ye.dtick;if(Ye._tickexponent=0,!P(je)&&typeof je!="string"&&(je=1),(Ye.type==="category"||Ye.type==="multicategory")&&(Ye._tickround=null),Ye.type==="date"){var zt=Ye.r2l(Ye.tick0),Ft=Ye.l2r(zt).replace(/(^-|i)/g,""),Jt=Ft.length;if(String(je).charAt(0)==="M")Jt>10||Ft.substr(5)!=="01-01"?Ye._tickround="d":Ye._tickround=+je.substr(1)%12===0?"y":"m";else if(je>=m&&Jt<=10||je>=m*15)Ye._tickround="d";else if(je>=s&&Jt<=16||je>=b)Ye._tickround="M";else if(je>=L&&Jt<=19||je>=s)Ye._tickround="S";else{var tr=Ye.l2r(zt+je).replace(/^-/,"").length;Ye._tickround=Math.max(Jt,tr)-20,Ye._tickround<0&&(Ye._tickround=4)}}else if(P(je)||je.charAt(0)==="L"){var ur=Ye.range.map(Ye.r2d||Number);P(je)||(je=Number(je.substr(1))),Ye._tickround=2-Math.floor(Math.log(je)/Math.LN10+.01);var nr=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),Nt=Math.floor(Math.log(nr)/Math.LN10+.01),hr=Ye.minexponent===void 0?3:Ye.minexponent;Math.abs(Nt)>hr&&(me(Ye.exponentformat)&&!Me(Nt)?Ye._tickexponent=3*Math.round((Nt-1)/3):Ye._tickexponent=Nt)}else Ye._tickround=null}J.tickIncrement=function(Ye,je,zt,Ft){var Jt=zt?-1:1;if(P(je))return M.increment(Ye,Jt*je);var tr=je.charAt(0),ur=Jt*Number(je.substr(1));if(tr==="M")return M.incrementMonth(Ye,ur,Ft);if(tr==="L")return Math.log(Math.pow(10,Ye)+ur)/Math.LN10;if(tr==="D"){var nr=je==="D2"?We:at,Nt=Ye+Jt*.01,hr=M.roundUp(M.mod(Nt,1),nr,zt);return Math.floor(Nt)+Math.log(g.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(je)},J.tickFirst=function(Ye,je){var zt=Ye.r2l||Number,Ft=M.simpleMap(Ye.range,zt,void 0,void 0,je),Jt=Ft[1]<Ft[0],tr=Jt?Math.floor:Math.ceil,ur=K(Ft)[0],nr=Ye.dtick,Nt=zt(Ye.tick0);if(P(nr)){var hr=tr((ur-Nt)/nr)*nr+Nt;return(Ye.type==="category"||Ye.type==="multicategory")&&(hr=M.constrain(hr,0,Ye._categories.length-1)),hr}var gr=nr.charAt(0),br=Number(nr.substr(1));if(gr==="M"){for(var vr=0,Gr=Nt,Dr,_r,hn;vr<10;){if(Dr=J.tickIncrement(Gr,nr,Jt,Ye.calendar),(Dr-ur)*(Gr-ur)<=0)return Jt?Math.min(Gr,Dr):Math.max(Gr,Dr);_r=(ur-(Gr+Dr)/2)/(Dr-Gr),hn=gr+(Math.abs(Math.round(_r))||1)*br,Gr=J.tickIncrement(Gr,hn,_r<0?!Jt:Jt,Ye.calendar),vr++}return M.error("tickFirst did not converge",Ye),Gr}else{if(gr==="L")return Math.log(tr((Math.pow(10,ur)-Nt)/br)*br+Nt)/Math.LN10;if(gr==="D"){var nn=nr==="D2"?We:at,Pn=M.roundUp(M.mod(ur,1),nn,Jt);return Math.floor(ur)+Math.log(g.round(Math.pow(10,Pn),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},J.tickText=function(Ye,je,zt,Ft){var Jt=vt(Ye,je),tr=Ye.tickmode==="array",ur=zt||tr,nr=Ye.type,Nt=nr==="category"?Ye.d2l_noadd:Ye.d2l,hr,gr=function(hn){var nn=Ye.l2p(hn);return nn>=0&&nn<=Ye._length?hn:null};if(tr&&M.isArrayOrTypedArray(Ye.ticktext)){var br=M.simpleMap(Ye.range,Ye.r2l),vr=(Math.abs(br[1]-br[0])-(Ye._lBreaks||0))/1e4;for(hr=0;hr<Ye.ticktext.length&&!(Math.abs(je-Nt(Ye.tickvals[hr]))<vr);hr++);if(hr<Ye.ticktext.length)return Jt.text=String(Ye.ticktext[hr]),Jt.xbnd=[gr(Jt.x-.5),gr(Jt.x+Ye.dtick-.5)],Jt}function Gr(hn){if(hn===void 0)return!0;if(zt)return hn==="none";var nn={first:Ye._tmin,last:Ye._tmax}[hn];return hn!=="all"&&je!==nn}var Dr=zt?"never":Ye.exponentformat!=="none"&&Gr(Ye.showexponent)?"hide":"";if(nr==="date"?At(Ye,Jt,zt,ur):nr==="log"?et(Ye,Jt,zt,ur,Dr):nr==="category"?_e(Ye,Jt):nr==="multicategory"?Ve(Ye,Jt,zt):Vt(Ye)?He(Ye,Jt,zt,ur,Dr):Ze(Ye,Jt,zt,ur,Dr),Ft||(Ye.tickprefix&&!Gr(Ye.showtickprefix)&&(Jt.text=Ye.tickprefix+Jt.text),Ye.ticksuffix&&!Gr(Ye.showticksuffix)&&(Jt.text+=Ye.ticksuffix)),Ye.labelalias&&Ye.labelalias.hasOwnProperty(Jt.text)){var _r=Ye.labelalias[Jt.text];typeof _r=="string"&&(Jt.text=_r)}return(Ye.tickson==="boundaries"||Ye.showdividers)&&(Jt.xbnd=[gr(Jt.x-.5),gr(Jt.x+Ye.dtick-.5)]),Jt},J.hoverLabelText=function(Ye,je,zt){zt&&(Ye=M.extendFlat({},Ye,{hoverformat:zt}));var Ft=M.isArrayOrTypedArray(je)?je[0]:je,Jt=M.isArrayOrTypedArray(je)?je[1]:void 0;if(Jt!==void 0&&Jt!==Ft)return J.hoverLabelText(Ye,Ft,zt)+" - "+J.hoverLabelText(Ye,Jt,zt);var tr=Ye.type==="log"&&Ft<=0,ur=J.tickText(Ye,Ye.c2l(tr?-Ft:Ft),"hover").text;return tr?Ft===0?"0":T+ur:ur};function vt(Ye,je,zt){var Ft=Ye.tickfont||{};return{x:je,dx:0,dy:0,text:zt||"",fontSize:Ft.size,font:Ft.family,fontColor:Ft.color}}function At(Ye,je,zt,Ft){var Jt=Ye._tickround,tr=zt&&Ye.hoverformat||J.getTickFormat(Ye);Ft=!tr&&Ft,Ft&&(P(Jt)?Jt=4:Jt={y:"m",m:"d",d:"M",M:"S",S:4}[Jt]);var ur=M.formatDate(je.x,tr,Jt,Ye._dateFormat,Ye.calendar,Ye._extraFormat),nr,Nt=ur.indexOf(`
`);if(Nt!==-1&&(nr=ur.substr(Nt+1),ur=ur.substr(0,Nt)),Ft&&(nr!==void 0&&(ur==="00:00:00"||ur==="00:00")?(ur=nr,nr=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),nr)if(zt)Jt==="d"?ur+=", "+nr:ur=nr+(ur?", "+ur:"");else if(!Ye._inCalcTicks||Ye._prevDateHead!==nr)Ye._prevDateHead=nr,ur+="<br>"+nr;else{var hr=$t(Ye),gr=Ye._trueSide||Ye.side;(!hr&&gr==="top"||hr&&gr==="bottom")&&(ur+="<br> ")}je.text=ur}function et(Ye,je,zt,Ft,Jt){var tr=Ye.dtick,ur=je.x,nr=Ye.tickformat,Nt=typeof tr=="string"&&tr.charAt(0);if(Jt==="never"&&(Jt=""),Ft&&Nt!=="L"&&(tr="L3",Nt="L"),nr||Nt==="L")je.text=Te(Math.pow(10,ur),Ye,Jt,Ft);else if(P(tr)||Nt==="D"&&M.mod(ur+.01,1)<.1){var hr=Math.round(ur),gr=Math.abs(hr),br=Ye.exponentformat;br==="power"||me(br)&&Me(hr)?(hr===0?je.text=1:hr===1?je.text="10":je.text="10<sup>"+(hr>1?"":T)+gr+"</sup>",je.fontSize*=1.25):(br==="e"||br==="E")&&gr>2?je.text="1"+br+(hr>0?"+":T)+gr:(je.text=Te(Math.pow(10,ur),Ye,"","fakehover"),tr==="D1"&&Ye._id.charAt(0)==="y"&&(je.dy-=je.fontSize/6))}else if(Nt==="D")je.text=String(Math.round(Math.pow(10,M.mod(ur,1)))),je.fontSize*=.75;else throw"unrecognized dtick "+String(tr);if(Ye.dtick==="D1"){var vr=String(je.text).charAt(0);(vr==="0"||vr==="1")&&(Ye._id.charAt(0)==="y"?je.dx-=je.fontSize/4:(je.dy+=je.fontSize/2,je.dx+=(Ye.range[1]>Ye.range[0]?1:-1)*je.fontSize*(ur<0?.5:.25)))}}function _e(Ye,je){var zt=Ye._categories[Math.round(je.x)];zt===void 0&&(zt=""),je.text=String(zt)}function Ve(Ye,je,zt){var Ft=Math.round(je.x),Jt=Ye._categories[Ft]||[],tr=Jt[1]===void 0?"":String(Jt[1]),ur=Jt[0]===void 0?"":String(Jt[0]);zt?je.text=ur+" - "+tr:(je.text=tr,je.text2=ur)}function Ze(Ye,je,zt,Ft,Jt){Jt==="never"?Jt="":Ye.showexponent==="all"&&Math.abs(je.x/Ye.dtick)<1e-6&&(Jt="hide"),je.text=Te(je.x,Ye,Jt,Ft)}function He(Ye,je,zt,Ft,Jt){if(Ye.thetaunit==="radians"&&!zt){var tr=je.x/180;if(tr===0)je.text="0";else{var ur=Ie(tr);if(ur[1]>=100)je.text=Te(M.deg2rad(je.x),Ye,Jt,Ft);else{var nr=je.x<0;ur[1]===1?ur[0]===1?je.text="π":je.text=ur[0]+"π":je.text=["<sup>",ur[0],"</sup>","⁄","<sub>",ur[1],"</sub>","π"].join(""),nr&&(je.text=T+je.text)}}}else je.text=Te(je.x,Ye,Jt,Ft)}function Ie(Ye){function je(nr,Nt){return Math.abs(nr-Nt)<=1e-6}function zt(nr,Nt){return je(Nt,0)?nr:zt(Nt,nr%Nt)}function Ft(nr){for(var Nt=1;!je(Math.round(nr*Nt)/Nt,nr);)Nt*=10;return Nt}var Jt=Ft(Ye),tr=Ye*Jt,ur=Math.abs(zt(tr,Jt));return[Math.round(tr/ur),Math.round(Jt/ur)]}var be=["f","p","n","μ","m","","k","M","G","T"];function me(Ye){return Ye==="SI"||Ye==="B"}function Me(Ye){return Ye>14||Ye<-15}function Te(Ye,je,zt,Ft){var Jt=Ye<0,tr=je._tickround,ur=zt||je.exponentformat||"B",nr=je._tickexponent,Nt=J.getTickFormat(je),hr=je.separatethousands;if(Ft){var gr={exponentformat:ur,minexponent:je.minexponent,dtick:je.showexponent==="none"?je.dtick:P(Ye)&&Math.abs(Ye)||1,range:je.showexponent==="none"?je.range.map(je.r2d):[0,Ye||1]};ht(gr),tr=(Number(gr._tickround)||0)+4,nr=gr._tickexponent,je.hoverformat&&(Nt=je.hoverformat)}if(Nt)return je._numFormat(Nt)(Ye).replace(/-/g,T);var br=Math.pow(10,-tr)/2;if(ur==="none"&&(nr=0),Ye=Math.abs(Ye),Ye<br)Ye="0",Jt=!1;else{if(Ye+=br,nr&&(Ye*=Math.pow(10,-nr),tr+=nr),tr===0)Ye=String(Math.floor(Ye));else if(tr<0){Ye=String(Math.round(Ye)),Ye=Ye.substr(0,Ye.length+tr);for(var vr=tr;vr<0;vr++)Ye+="0"}else{Ye=String(Ye);var Gr=Ye.indexOf(".")+1;Gr&&(Ye=Ye.substr(0,Gr+tr).replace(/\.?0+$/,""))}Ye=M.numSeparate(Ye,je._separators,hr)}if(nr&&ur!=="hide"){me(ur)&&Me(nr)&&(ur="power");var Dr;nr<0?Dr=T+-nr:ur!=="power"?Dr="+"+nr:Dr=String(nr),ur==="e"||ur==="E"?Ye+=ur+Dr:ur==="power"?Ye+="×10<sup>"+Dr+"</sup>":ur==="B"&&nr===9?Ye+="B":me(ur)&&(Ye+=be[nr/3+5])}return Jt?T+Ye:Ye}J.getTickFormat=function(Ye){var je;function zt(Nt){return typeof Nt!="string"?Nt:Number(Nt.replace("M",""))*w}function Ft(Nt,hr){var gr=["L","D"];if(typeof Nt==typeof hr){if(typeof Nt=="number")return Nt-hr;var br=gr.indexOf(Nt.charAt(0)),vr=gr.indexOf(hr.charAt(0));return br===vr?Number(Nt.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):br-vr}else return typeof Nt=="number"?1:-1}function Jt(Nt,hr,gr){var br=gr||function(Dr){return Dr},vr=hr[0],Gr=hr[1];return(!vr&&typeof vr!="number"||br(vr)<=br(Nt))&&(!Gr&&typeof Gr!="number"||br(Gr)>=br(Nt))}function tr(Nt,hr){var gr=hr[0]===null,br=hr[1]===null,vr=Ft(Nt,hr[0])>=0,Gr=Ft(Nt,hr[1])<=0;return(gr||vr)&&(br||Gr)}var ur,nr;if(Ye.tickformatstops&&Ye.tickformatstops.length>0)switch(Ye.type){case"date":case"linear":{for(je=0;je<Ye.tickformatstops.length;je++)if(nr=Ye.tickformatstops[je],nr.enabled&&Jt(Ye.dtick,nr.dtickrange,zt)){ur=nr;break}break}case"log":{for(je=0;je<Ye.tickformatstops.length;je++)if(nr=Ye.tickformatstops[je],nr.enabled&&tr(Ye.dtick,nr.dtickrange)){ur=nr;break}break}}return ur?ur.value:Ye.tickformat},J.getSubplots=function(Ye,je){var zt=Ye._fullLayout._subplots,Ft=zt.cartesian.concat(zt.gl2d||[]),Jt=je?J.findSubplotsWithAxis(Ft,je):Ft;return Jt.sort(function(tr,ur){var nr=tr.substr(1).split("y"),Nt=ur.substr(1).split("y");return nr[0]===Nt[0]?+nr[1]-+Nt[1]:+nr[0]-+Nt[0]}),Jt},J.findSubplotsWithAxis=function(Ye,je){for(var zt=new RegExp(je._id.charAt(0)==="x"?"^"+je._id+"y":je._id+"$"),Ft=[],Jt=0;Jt<Ye.length;Jt++){var tr=Ye[Jt];zt.test(tr)&&Ft.push(tr)}return Ft},J.makeClipPaths=function(Ye){var je=Ye._fullLayout;if(!je._hasOnlyLargeSploms){var zt={_offset:0,_length:je.width,_id:""},Ft={_offset:0,_length:je.height,_id:""},Jt=J.list(Ye,"x",!0),tr=J.list(Ye,"y",!0),ur=[],nr,Nt;for(nr=0;nr<Jt.length;nr++)for(ur.push({x:Jt[nr],y:Ft}),Nt=0;Nt<tr.length;Nt++)nr===0&&ur.push({x:zt,y:tr[Nt]}),ur.push({x:Jt[nr],y:tr[Nt]});var hr=je._clips.selectAll(".axesclip").data(ur,function(gr){return gr.x._id+gr.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gr){return"clip"+je._uid+gr.x._id+gr.y._id}).append("rect"),hr.exit().remove(),hr.each(function(gr){g.select(this).select("rect").attr({x:gr.x._offset||0,y:gr.y._offset||0,width:gr.x._length||1,height:gr.y._length||1})})}},J.draw=function(Ye,je,zt){var Ft=Ye._fullLayout;je==="redraw"&&Ft._paper.selectAll("g.subplot").each(function(Nt){var hr=Nt[0],gr=Ft._plots[hr];if(gr){var br=gr.xaxis,vr=gr.yaxis;gr.xaxislayer.selectAll("."+br._id+"tick").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick").remove(),gr.xaxislayer.selectAll("."+br._id+"tick2").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick2").remove(),gr.xaxislayer.selectAll("."+br._id+"divider").remove(),gr.yaxislayer.selectAll("."+vr._id+"divider").remove(),gr.minorGridlayer&&gr.minorGridlayer.selectAll("path").remove(),gr.gridlayer&&gr.gridlayer.selectAll("path").remove(),gr.zerolinelayer&&gr.zerolinelayer.selectAll("path").remove(),Ft._infolayer.select(".g-"+br._id+"title").remove(),Ft._infolayer.select(".g-"+vr._id+"title").remove()}});var Jt=!je||je==="redraw"?J.listIds(Ye):je,tr=J.list(Ye),ur=tr.filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});Jt.map(function(Nt){var hr=J.getFromId(Ye,Nt);if(hr.tickmode==="sync"&&hr.overlaying){var gr=Jt.findIndex(function(br){return br===hr.overlaying});gr>=0&&Jt.unshift(Jt.splice(gr,1).shift())}});var nr={false:{left:0,right:0}};return M.syncOrAsync(Jt.map(function(Nt){return function(){if(Nt){var hr=J.getFromId(Ye,Nt);zt||(zt={}),zt.axShifts=nr,zt.overlayingShiftedAx=ur;var gr=J.drawOne(Ye,hr,zt);return hr._shiftPusher&&cr(hr,hr._fullDepth||0,nr,!0),hr._r=hr.range.slice(),hr._rl=M.simpleMap(hr._r,hr.r2l),gr}}}))},J.drawOne=function(Ye,je,zt){zt=zt||{};var Ft=zt.axShifts||{},Jt=zt.overlayingShiftedAx||[],tr,ur,nr;je.setScale();var Nt=Ye._fullLayout,hr=je._id,gr=hr.charAt(0),br=J.counterLetter(hr),vr=Nt._plots[je._mainSubplot];if(!vr)return;if(je._shiftPusher=je.autoshift||Jt.indexOf(je._id)!==-1||Jt.indexOf(je.overlaying)!==-1,je._shiftPusher&je.anchor==="free"){var Gr=je.linewidth/2||0;je.ticks==="inside"&&(Gr+=je.ticklen),cr(je,Gr,Ft,!0),cr(je,je.shift||0,Ft,!1)}(zt.skipTitle!==!0||je._shift===void 0)&&(je._shift=dr(je,Ft));var Dr=vr[gr+"axislayer"],_r=je._mainLinePosition,hn=_r+=je._shift,nn=je._mainMirrorPosition,Pn=je._vals=J.calcTicks(je),Cn=[je.mirror,hn,nn].join("_");for(tr=0;tr<Pn.length;tr++)Pn[tr].axInfo=Cn;je._selections={},je._tickAngles&&(je._prevTickAngles=je._tickAngles),je._tickAngles={},je._depth=null;var Ar={};function Pr(Hr){var Qr=hr+(Hr||"tick");return Ar[Qr]||(Ar[Qr]=yt(je,Qr,hn)),Ar[Qr]}if(je.visible){var Wr=J.makeTransTickFn(je),Vr=J.makeTransTickLabelFn(je),on,yn,mn=je.ticks==="inside",Ln=je.ticks==="outside";if(je.tickson==="boundaries"){var zn=Ke(je,Pn);yn=J.clipEnds(je,zn),on=mn?yn:zn}else yn=J.clipEnds(je,Pn),on=mn&&je.ticklabelmode!=="period"?yn:Pn;var aa=je._gridVals=yn,ha=pt(je,Pn);if(!Nt._hasOnlyLargeSploms){var pa=je._subplotsWith,ua={};for(tr=0;tr<pa.length;tr++){ur=pa[tr],nr=Nt._plots[ur];var na=nr[br+"axis"],Tr=na._mainAxis._id;if(!ua[Tr]){ua[Tr]=1;var an=gr==="x"?"M0,"+na._offset+"v"+na._length:"M"+na._offset+",0h"+na._length;J.drawGrid(Ye,je,{vals:aa,counterAxis:na,layer:nr.gridlayer.select("."+hr),minorLayer:nr.minorGridlayer.select("."+hr),path:an,transFn:Wr}),J.drawZeroLine(Ye,je,{counterAxis:na,layer:nr.zerolinelayer,path:an,transFn:Wr})}}}var qr,pn=J.getTickSigns(je),jn=J.getTickSigns(je,"minor");if(je.ticks||je.minor&&je.minor.ticks){var An=J.makeTickPath(je,hn,pn[2]),Sn=J.makeTickPath(je,hn,jn[2],{minor:!0}),Un,$n,ya,_a;if(je._anchorAxis&&je.mirror&&je.mirror!==!0?(Un=J.makeTickPath(je,nn,pn[3]),$n=J.makeTickPath(je,nn,jn[3],{minor:!0}),ya=An+Un,_a=Sn+$n):(Un="",$n="",ya=An,_a=Sn),je.showdividers&&Ln&&je.tickson==="boundaries"){var Er={};for(tr=0;tr<ha.length;tr++)Er[ha[tr].x]=1;qr=function(Hr){return Er[Hr.x]?Un:ya}}else qr=function(Hr){return Hr.minor?_a:ya}}if(J.drawTicks(Ye,je,{vals:on,layer:Dr,path:qr,transFn:Wr}),je.mirror==="allticks"){var zr=Object.keys(je._linepositions||{});for(tr=0;tr<zr.length;tr++){ur=zr[tr],nr=Nt._plots[ur];var Sr=je._linepositions[ur]||[],Nr=Sr[0],wn=Sr[1],kn=Sr[2],vn=J.makeTickPath(je,Nr,kn?pn[0]:jn[0],{minor:kn})+J.makeTickPath(je,wn,kn?pn[1]:jn[1],{minor:kn});J.drawTicks(Ye,je,{vals:on,layer:nr[gr+"axislayer"],path:vn,transFn:Wr})}}var ln=[];if(ln.push(function(){return J.drawLabels(Ye,je,{vals:Pn,layer:Dr,plotinfo:nr,transFn:Vr,labelFns:J.makeLabelFns(je,hn)})}),je.type==="multicategory"){var Cr={x:2,y:10}[gr];ln.push(function(){var Hr={x:"height",y:"width"}[gr],Qr=Pr()[Hr]+Cr+(je._tickAngles[hr+"tick"]?je.tickfont.size*re:0);return J.drawLabels(Ye,je,{vals:nt(je,Pn),layer:Dr,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Wr,labelFns:J.makeLabelFns(je,hn+Qr*pn[4])})}),ln.push(function(){return je._depth=pn[4]*(Pr("tick2")[je.side]-hn),kt(Ye,je,{vals:ha,layer:Dr,path:J.makeTickPath(je,hn,pn[4],{len:je._depth}),transFn:Wr})})}else je.title.hasOwnProperty("standoff")&&ln.push(function(){je._depth=pn[4]*(Pr()[je.side]-hn)});var Zr=x.getComponentMethod("rangeslider","isVisible")(je);return!zt.skipTitle&&!(Zr&&je.side==="bottom")&&ln.push(function(){return mr(Ye,je)}),ln.push(function(){var Hr=je.side.charAt(0),Qr=ne[je.side].charAt(0),Tn=J.getPxPosition(Ye,je),Rn=Ln?je.ticklen:0,Dn,Vn,Nn,ma;(je.automargin||Zr||je._shiftPusher)&&(je.type==="multicategory"?Dn=Pr("tick2"):(Dn=Pr(),gr==="x"&&Hr==="b"&&(je._depth=Math.max(Dn.width>0?Dn.bottom-Tn:0,Rn))));var oa=0,ga=0;if(je._shiftPusher&&(oa=Math.max(Rn,Dn.height>0?Hr==="l"?Tn-Dn.left:Dn.right-Tn:0),je.title.text!==Nt._dfltTitle[gr]&&(ga=(je._titleStandoff||0)+(je._titleScoot||0),Hr==="l"&&(ga+=Kt(je))),je._fullDepth=Math.max(oa,ga)),je.automargin){Vn={x:0,y:0,r:0,l:0,t:0,b:0};var Pa=[0,1],pi=typeof je._shift=="number"?je._shift:0;if(gr==="x"){if(Hr==="b"?Vn[Hr]=je._depth:(Vn[Hr]=je._depth=Math.max(Dn.width>0?Tn-Dn.top:0,Rn),Pa.reverse()),Dn.width>0){var ri=Dn.right-(je._offset+je._length);ri>0&&(Vn.xr=1,Vn.r=ri);var Vo=je._offset-Dn.left;Vo>0&&(Vn.xl=0,Vn.l=Vo)}}else if(Hr==="l"?(je._depth=Math.max(Dn.height>0?Tn-Dn.left:0,Rn),Vn[Hr]=je._depth-pi):(je._depth=Math.max(Dn.height>0?Dn.right-Tn:0,Rn),Vn[Hr]=je._depth+pi,Pa.reverse()),Dn.height>0){var ko=Dn.bottom-(je._offset+je._length);ko>0&&(Vn.yb=0,Vn.b=ko);var ao=je._offset-Dn.top;ao>0&&(Vn.yt=1,Vn.t=ao)}Vn[br]=je.anchor==="free"?je.position:je._anchorAxis.domain[Pa[0]],je.title.text!==Nt._dfltTitle[gr]&&(Vn[Hr]+=Kt(je)+(je.title.standoff||0)),je.mirror&&je.anchor!=="free"&&(Nn={x:0,y:0,r:0,l:0,t:0,b:0},Nn[Qr]=je.linewidth,je.mirror&&je.mirror!==!0&&(Nn[Qr]+=Rn),je.mirror===!0||je.mirror==="ticks"?Nn[br]=je._anchorAxis.domain[Pa[1]]:(je.mirror==="all"||je.mirror==="allticks")&&(Nn[br]=[je._counterDomainMin,je._counterDomainMax][Pa[1]]))}Zr&&(ma=x.getComponentMethod("rangeslider","autoMarginOpts")(Ye,je)),typeof je.automargin=="string"&&(Oe(Vn,je.automargin),Oe(Nn,je.automargin)),a.autoMargin(Ye,sr(je),Vn),a.autoMargin(Ye,bt(je),Nn),a.autoMargin(Ye,lt(je),ma)}),M.syncOrAsync(ln)}};function Oe(Ye,je){if(Ye){var zt=Object.keys(z).reduce(function(Ft,Jt){return je.indexOf(Jt)!==-1&&z[Jt].forEach(function(tr){Ft[tr]=1}),Ft},{});Object.keys(Ye).forEach(function(Ft){zt[Ft]||(Ft.length===1?Ye[Ft]=0:delete Ye[Ft])})}}function Ke(Ye,je){var zt=[],Ft,Jt=function(tr,ur){var nr=tr.xbnd[ur];nr!==null&&zt.push(M.extendFlat({},tr,{x:nr}))};if(je.length){for(Ft=0;Ft<je.length;Ft++)Jt(je[Ft],0);Jt(je[Ft-1],1)}return zt}function nt(Ye,je){for(var zt=[],Ft={},Jt=0;Jt<je.length;Jt++){var tr=je[Jt];Ft[tr.text2]?Ft[tr.text2].push(tr.x):Ft[tr.text2]=[tr.x]}for(var ur in Ft)zt.push(vt(Ye,M.interp(Ft[ur],.5),ur));return zt}function pt(Ye,je){var zt=[],Ft,Jt,tr=je.length&&je[je.length-1].x<je[0].x,ur=function(Nt,hr){var gr=Nt.xbnd[hr];gr!==null&&zt.push(M.extendFlat({},Nt,{x:gr}))};if(Ye.showdividers&&je.length){for(Ft=0;Ft<je.length;Ft++){var nr=je[Ft];nr.text2!==Jt&&ur(nr,tr?1:0),Jt=nr.text2}ur(je[Ft-1],tr?0:1)}return zt}function yt(Ye,je,zt){var Ft,Jt,tr,ur;if(Ye._selections[je].size())Ft=1/0,Jt=-1/0,tr=1/0,ur=-1/0,Ye._selections[je].each(function(){var Nt=yr(this),hr=i.bBox(Nt.node().parentNode);Ft=Math.min(Ft,hr.top),Jt=Math.max(Jt,hr.bottom),tr=Math.min(tr,hr.left),ur=Math.max(ur,hr.right)});else{var nr=J.makeLabelFns(Ye,zt);Ft=Jt=nr.yFn({dx:0,dy:0,fontSize:0}),tr=ur=nr.xFn({dx:0,dy:0,fontSize:0})}return{top:Ft,bottom:Jt,left:tr,right:ur,height:Jt-Ft,width:ur-tr}}J.getTickSigns=function(Ye,je){var zt=Ye._id.charAt(0),Ft={x:"top",y:"right"}[zt],Jt=Ye.side===Ft?1:-1,tr=[-1,1,Jt,-Jt],ur=je?(Ye.minor||{}).ticks:Ye.ticks;return ur!=="inside"==(zt==="x")&&(tr=tr.map(function(nr){return-nr})),Ye.side&&tr.push({l:-1,t:-1,r:1,b:1}[Ye.side.charAt(0)]),tr},J.makeTransTickFn=function(Ye){return Ye._id.charAt(0)==="x"?function(je){return v(Ye._offset+Ye.l2p(je.x),0)}:function(je){return v(0,Ye._offset+Ye.l2p(je.x))}},J.makeTransTickLabelFn=function(Ye){var je=Xt(Ye),zt=je[0],Ft=je[1];return Ye._id.charAt(0)==="x"?function(Jt){return v(zt+Ye._offset+Ye.l2p(Yt(Jt)),Ft)}:function(Jt){return v(Ft,zt+Ye._offset+Ye.l2p(Yt(Jt)))}};function Yt(Ye){return Ye.periodX!==void 0?Ye.periodX:Ye.x}function Xt(Ye){var je=Ye.ticklabelposition||"",zt=function(Gr){return je.indexOf(Gr)!==-1},Ft=zt("top"),Jt=zt("left"),tr=zt("right"),ur=zt("bottom"),nr=zt("inside"),Nt=ur||Jt||Ft||tr;if(!Nt&&!nr)return[0,0];var hr=Ye.side,gr=Nt?(Ye.tickwidth||0)/2:0,br=ue,vr=Ye.tickfont?Ye.tickfont.size:12;return(ur||Ft)&&(gr+=vr*$,br+=(Ye.linewidth||0)/2),(Jt||tr)&&(gr+=(Ye.linewidth||0)/2,br+=ue),nr&&hr==="top"&&(br-=vr*(1-$)),(Jt||Ft)&&(gr=-gr),(hr==="bottom"||hr==="right")&&(br=-br),[Nt?gr:0,nr?br:0]}J.makeTickPath=function(Ye,je,zt,Ft){Ft||(Ft={});var Jt=Ft.minor;if(Jt&&!Ye.minor)return"";var tr=Ft.len!==void 0?Ft.len:Jt?Ye.minor.ticklen:Ye.ticklen,ur=Ye._id.charAt(0),nr=(Ye.linewidth||1)/2;return ur==="x"?"M0,"+(je+nr*zt)+"v"+tr*zt:"M"+(je+nr*zt)+",0h"+tr*zt},J.makeLabelFns=function(Ye,je,zt){var Ft=Ye.ticklabelposition||"",Jt=function(zn){return Ft.indexOf(zn)!==-1},tr=Jt("top"),ur=Jt("left"),nr=Jt("right"),Nt=Jt("bottom"),hr=Nt||ur||tr||nr,gr=Jt("inside"),br=Ft==="inside"&&Ye.ticks==="inside"||!gr&&Ye.ticks==="outside"&&Ye.tickson!=="boundaries",vr=0,Gr=0,Dr=br?Ye.ticklen:0;if(gr?Dr*=-1:hr&&(Dr=0),br&&(vr+=Dr,zt)){var _r=M.deg2rad(zt);vr=Dr*Math.cos(_r)+1,Gr=Dr*Math.sin(_r)}Ye.showticklabels&&(br||Ye.showline)&&(vr+=.2*Ye.tickfont.size),vr+=(Ye.linewidth||1)/2*(gr?-1:1);var hn={labelStandoff:vr,labelShift:Gr},nn,Pn,Cn,Ar,Pr=0,Wr=Ye.side,Vr=Ye._id.charAt(0),on=Ye.tickangle,yn;if(Vr==="x")yn=!gr&&Wr==="bottom"||gr&&Wr==="top",Ar=yn?1:-1,gr&&(Ar*=-1),nn=Gr*Ar,Pn=je+vr*Ar,Cn=yn?1:-.2,Math.abs(on)===90&&(gr?Cn+=W:on===-90&&Wr==="bottom"?Cn=$:on===90&&Wr==="top"?Cn=W:Cn=.5,Pr=W/2*(on/90)),hn.xFn=function(zn){return zn.dx+nn+Pr*zn.fontSize},hn.yFn=function(zn){return zn.dy+Pn+zn.fontSize*Cn},hn.anchorFn=function(zn,aa){if(hr){if(ur)return"end";if(nr)return"start"}return!P(aa)||aa===0||aa===180?"middle":aa*Ar<0!==gr?"end":"start"},hn.heightFn=function(zn,aa,ha){return aa<-60||aa>60?-.5*ha:Ye.side==="top"!==gr?-ha:0};else if(Vr==="y"){if(yn=!gr&&Wr==="left"||gr&&Wr==="right",Ar=yn?1:-1,gr&&(Ar*=-1),nn=vr,Pn=Gr*Ar,Cn=0,!gr&&Math.abs(on)===90&&(on===-90&&Wr==="left"||on===90&&Wr==="right"?Cn=$:Cn=.5),gr){var mn=P(on)?+on:0;if(mn!==0){var Ln=M.deg2rad(mn);Pr=Math.abs(Math.sin(Ln))*$*Ar,Cn=0}}hn.xFn=function(zn){return zn.dx+je-(nn+zn.fontSize*Cn)*Ar+Pr*zn.fontSize},hn.yFn=function(zn){return zn.dy+Pn+zn.fontSize*W},hn.anchorFn=function(zn,aa){return P(aa)&&Math.abs(aa)===90?"middle":yn?"end":"start"},hn.heightFn=function(zn,aa,ha){return Ye.side==="right"&&(aa*=-1),aa<-30?-ha:aa<30?-.5*ha:0}}return hn};function St(Ye){return[Ye.text,Ye.x,Ye.axInfo,Ye.font,Ye.fontSize,Ye.fontColor].join("_")}J.drawTicks=function(Ye,je,zt){zt=zt||{};var Ft=je._id+"tick",Jt=[].concat(je.minor&&je.minor.ticks?zt.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(je.ticks?zt.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),tr=zt.layer.selectAll("path."+Ft).data(Jt,St);tr.exit().remove(),tr.enter().append("path").classed(Ft,1).classed("ticks",1).classed("crisp",zt.crisp!==!1).each(function(ur){return t.stroke(g.select(this),ur.minor?je.minor.tickcolor:je.tickcolor)}).style("stroke-width",function(ur){return i.crispRound(Ye,ur.minor?je.minor.tickwidth:je.tickwidth,1)+"px"}).attr("d",zt.path).style("display",null),fr(je,[O]),tr.attr("transform",zt.transFn)},J.drawGrid=function(Ye,je,zt){if(zt=zt||{},je.tickmode!=="sync"){var Ft=je._id+"grid",Jt=je.minor&&je.minor.showgrid,tr=Jt?zt.vals.filter(function(nn){return nn.minor}):[],ur=je.showgrid?zt.vals.filter(function(nn){return!nn.minor}):[],nr=zt.counterAxis;if(nr&&J.shouldShowZeroLine(Ye,je,nr))for(var Nt=je.tickmode==="array",hr=0;hr<ur.length;hr++){var gr=ur[hr].x;if(Nt?!gr:Math.abs(gr)<je.dtick/100)if(ur=ur.slice(0,hr).concat(ur.slice(hr+1)),Nt)hr--;else break}je._gw=i.crispRound(Ye,je.gridwidth,1);for(var br=Jt?i.crispRound(Ye,je.minor.gridwidth,1):0,vr=zt.layer,Gr=zt.minorLayer,Dr=1;Dr>=0;Dr--){var _r=Dr?vr:Gr;if(_r){var hn=_r.selectAll("path."+Ft).data(Dr?ur:tr,St);hn.exit().remove(),hn.enter().append("path").classed(Ft,1).classed("crisp",zt.crisp!==!1),hn.attr("transform",zt.transFn).attr("d",zt.path).each(function(nn){return t.stroke(g.select(this),nn.minor?je.minor.gridcolor:je.gridcolor||"#ddd")}).style("stroke-dasharray",function(nn){return i.dashStyle(nn.minor?je.minor.griddash:je.griddash,nn.minor?je.minor.gridwidth:je.gridwidth)}).style("stroke-width",function(nn){return(nn.minor?br:je._gw)+"px"}).style("display",null),typeof zt.path=="function"&&hn.attr("d",zt.path)}}fr(je,[B,F])}},J.drawZeroLine=function(Ye,je,zt){zt=zt||zt;var Ft=je._id+"zl",Jt=J.shouldShowZeroLine(Ye,je,zt.counterAxis),tr=zt.layer.selectAll("path."+Ft).data(Jt?[{x:0,id:je._id}]:[]);tr.exit().remove(),tr.enter().append("path").classed(Ft,1).classed("zl",1).classed("crisp",zt.crisp!==!1).each(function(){zt.layer.selectAll("path").sort(function(ur,nr){return Y(ur.id,nr.id)})}),tr.attr("transform",zt.transFn).attr("d",zt.path).call(t.stroke,je.zerolinecolor||t.defaultLine).style("stroke-width",i.crispRound(Ye,je.zerolinewidth,je._gw||1)+"px").style("display",null),fr(je,[_])},J.drawLabels=function(Ye,je,zt){zt=zt||{};var Ft=Ye._fullLayout,Jt=je._id,tr=zt.cls||Jt+"tick",ur=zt.vals.filter(function(Tr){return Tr.text}),nr=zt.labelFns,Nt=zt.secondary?0:je.tickangle,hr=(je._prevTickAngles||{})[tr],gr=zt.layer.selectAll("g."+tr).data(je.showticklabels?ur:[],St),br=[];gr.enter().append("g").classed(tr,1).append("text").attr("text-anchor","middle").each(function(Tr){var an=g.select(this),qr=Ye._promises.length;an.call(p.positionText,nr.xFn(Tr),nr.yFn(Tr)).call(i.font,Tr.font,Tr.fontSize,Tr.fontColor).text(Tr.text).call(p.convertToTspans,Ye),Ye._promises[qr]?br.push(Ye._promises.pop().then(function(){vr(an,Nt)})):vr(an,Nt)}),fr(je,[N]),gr.exit().remove(),zt.repositionOnUpdate&&gr.each(function(Tr){g.select(this).select("text").call(p.positionText,nr.xFn(Tr),nr.yFn(Tr))});function vr(Tr,an){Tr.each(function(qr){var pn=g.select(this),jn=pn.select(".text-math-group"),An=nr.anchorFn(qr,an),Sn=zt.transFn.call(pn.node(),qr)+(P(an)&&+an!=0?" rotate("+an+","+nr.xFn(qr)+","+(nr.yFn(qr)-qr.fontSize/2)+")":""),Un=p.lineCount(pn),$n=re*qr.fontSize,ya=nr.heightFn(qr,P(an)?+an:0,(Un-1)*$n);if(ya&&(Sn+=v(0,ya)),jn.empty()){var _a=pn.select("text");_a.attr({transform:Sn,"text-anchor":An}),_a.style("opacity",1),je._adjustTickLabelsOverflow&&je._adjustTickLabelsOverflow()}else{var Er=i.bBox(jn.node()).width,zr=Er*{end:-.5,start:.5}[An];jn.attr("transform",Sn+v(zr,0))}})}je._adjustTickLabelsOverflow=function(){var Tr=je.ticklabeloverflow;if(!(!Tr||Tr==="allow")){var an=Tr.indexOf("hide")!==-1,qr=je._id.charAt(0)==="x",pn=0,jn=qr?Ye._fullLayout.width:Ye._fullLayout.height;if(Tr.indexOf("domain")!==-1){var An=M.simpleMap(je.range,je.r2l);pn=je.l2p(An[0])+je._offset,jn=je.l2p(An[1])+je._offset}var Sn=Math.min(pn,jn),Un=Math.max(pn,jn),$n=je.side,ya=1/0,_a=-1/0;gr.each(function(Nr){var wn=g.select(this),kn=wn.select(".text-math-group");if(kn.empty()){var vn=i.bBox(wn.node()),ln=0;qr?(vn.right>Un||vn.left<Sn)&&(ln=1):(vn.bottom>Un||vn.top+(je.tickangle?0:Nr.fontSize/4)<Sn)&&(ln=1);var Cr=wn.select("text");ln?an&&Cr.style("opacity",0):(Cr.style("opacity",1),$n==="bottom"||$n==="right"?ya=Math.min(ya,qr?vn.top:vn.left):ya=-1/0,$n==="top"||$n==="left"?_a=Math.max(_a,qr?vn.bottom:vn.right):_a=1/0)}});for(var Er in Ft._plots){var zr=Ft._plots[Er];if(!(je._id!==zr.xaxis._id&&je._id!==zr.yaxis._id)){var Sr=qr?zr.yaxis:zr.xaxis;Sr&&(Sr["_visibleLabelMin_"+je._id]=ya,Sr["_visibleLabelMax_"+je._id]=_a)}}}},je._hideCounterAxisInsideTickLabels=function(Tr){var an=je._id.charAt(0)==="x",qr=[];for(var pn in Ft._plots){var jn=Ft._plots[pn];je._id!==jn.xaxis._id&&je._id!==jn.yaxis._id||qr.push(an?jn.yaxis:jn.xaxis)}qr.forEach(function(An,Sn){An&&$t(An)&&(Tr||[_,F,B,O,N]).forEach(function(Un){var $n=Un.K==="tick"&&Un.L==="text"&&je.ticklabelmode==="period",ya=Ft._plots[je._mainSubplot],_a;Un.K===_.K?_a=ya.zerolinelayer.selectAll("."+je._id+"zl"):Un.K===F.K?_a=ya.minorGridlayer.selectAll("."+je._id):Un.K===B.K?_a=ya.gridlayer.selectAll("."+je._id):_a=ya[je._id.charAt(0)+"axislayer"],_a.each(function(){var Er=g.select(this);Un.L&&(Er=Er.selectAll(Un.L)),Er.each(function(zr){var Sr=je.l2p($n?Yt(zr):zr.x)+je._offset,Nr=g.select(this);Sr<je["_visibleLabelMax_"+An._id]&&Sr>je["_visibleLabelMin_"+An._id]?Nr.style("display","none"):Un.K==="tick"&&!Sn&&Nr.style("display",null)})})})})},vr(gr,hr+1?hr:Nt);function Gr(){return br.length&&Promise.all(br)}var Dr=null;function _r(){if(vr(gr,Nt),ur.length&&je.autotickangles&&(je.type!=="log"||String(je.dtick).charAt(0)!=="D")){Dr=je.autotickangles[0];var Tr=0,an=[],qr,pn=1;if(gr.each(function(Rn){Tr=Math.max(Tr,Rn.fontSize);var Dn=je.l2p(Rn.x),Vn=yr(this),Nn=i.bBox(Vn.node());pn=Math.max(pn,p.lineCount(Vn)),an.push({top:0,bottom:10,height:10,left:Dn-Nn.width/2,right:Dn+Nn.width/2+2,width:Nn.width+2})}),(je.tickson==="boundaries"||je.showdividers)&&!zt.secondary){var jn=2;for(je.ticks&&(jn+=je.tickwidth/2),qr=0;qr<an.length;qr++){var An=ur[qr].xbnd,Sn=an[qr];if(An[0]!==null&&Sn.left-je.l2p(An[0])<jn||An[1]!==null&&je.l2p(An[1])-Sn.right<jn){Dr=90;break}}}else{var Un=ur.length,$n=Math.abs((ur[Un-1].x-ur[0].x)*je._m)/(Un-1),ya=je.ticklabelposition||"",_a=function(Rn){return ya.indexOf(Rn)!==-1},Er=_a("top"),zr=_a("left"),Sr=_a("right"),Nr=_a("bottom"),wn=Nr||zr||Er||Sr,kn=wn?(je.tickwidth||0)+2*ue:0,vn=$n,ln=Tr*1.25*pn,Cr=Math.sqrt(Math.pow(vn,2)+Math.pow(ln,2)),Zr=vn/Cr,Hr=je.autotickangles.map(function(Rn){return Rn*Math.PI/180}),Qr=Hr.find(function(Rn){return Math.abs(Math.cos(Rn))<=Zr});Qr===void 0&&(Qr=Hr.reduce(function(Rn,Dn){return Math.abs(Math.cos(Rn))<Math.abs(Math.cos(Dn))?Rn:Dn},Hr[0]));var Tn=Qr*(180/Math.PI);for(qr=0;qr<an.length-1;qr++)if(M.bBoxIntersect(an[qr],an[qr+1],kn)){Dr=Tn;break}}Dr&&vr(gr,Dr)}}je._selections&&(je._selections[tr]=gr);var hn=[Gr];je.automargin&&Ft._redrawFromAutoMarginCount&&hr===90?(Dr=hr,hn.push(function(){vr(gr,hr)})):hn.push(_r),je._tickAngles&&hn.push(function(){je._tickAngles[tr]=Dr===null?P(Nt)?Nt:0:Dr});var nn=function(){var Tr=0,an=0;return gr.each(function(qr,pn){var jn=yr(this),An=jn.select(".text-math-group");if(An.empty()){var Sn;je._vals[pn]&&(Sn=je._vals[pn].bb||i.bBox(jn.node()),je._vals[pn].bb=Sn),Tr=Math.max(Tr,Sn.width),an=Math.max(an,Sn.height)}}),{labelsMaxW:Tr,labelsMaxH:an}},Pn=je._anchorAxis;if(Pn&&(Pn.autorange||Pn.insiderange)&&$t(je)&&!q(Ft,je._id)&&(Ft._insideTickLabelsUpdaterange||(Ft._insideTickLabelsUpdaterange={}),Pn.autorange&&(Ft._insideTickLabelsUpdaterange[Pn._name+".autorange"]=Pn.autorange,hn.push(nn)),Pn.insiderange)){var Cn=nn(),Ar=je._id.charAt(0)==="y"?Cn.labelsMaxW:Cn.labelsMaxH;Ar+=2*ue,je.ticklabelposition==="inside"&&(Ar+=je.ticklen||0);var Pr=je.side==="right"||je.side==="top"?1:-1,Wr=Pr===1?1:0,Vr=Pr===1?0:1,on=[];on[Vr]=Pn.range[Vr];var yn=Pn.range,mn=Pn.r2p(yn[Wr]),Ln=Pn.r2p(yn[Vr]),zn=Ft._insideTickLabelsUpdaterange[Pn._name+".range"];if(zn){var aa=Pn.r2p(zn[Wr]),ha=Pn.r2p(zn[Vr]),pa=Pr*(je._id.charAt(0)==="y"?1:-1);pa*mn<pa*aa&&(mn=aa,on[Wr]=yn[Wr]=zn[Wr]),pa*Ln>pa*ha&&(Ln=ha,on[Vr]=yn[Vr]=zn[Vr])}var ua=Math.abs(Ln-mn);ua-Ar>0?(ua-=Ar,Ar*=1+Ar/ua):Ar=0,je._id.charAt(0)!=="y"&&(Ar=-Ar),on[Wr]=Pn.p2r(Pn.r2p(yn[Wr])+Pr*Ar),Pn.autorange==="min"||Pn.autorange==="max reversed"?(on[0]=null,Pn._rangeInitial0=void 0,Pn._rangeInitial1=void 0):(Pn.autorange==="max"||Pn.autorange==="min reversed")&&(on[1]=null,Pn._rangeInitial0=void 0,Pn._rangeInitial1=void 0),Ft._insideTickLabelsUpdaterange[Pn._name+".range"]=on}var na=M.syncOrAsync(hn);return na&&na.then&&Ye._promises.push(na),na};function kt(Ye,je,zt){var Ft=je._id+"divider",Jt=zt.vals,tr=zt.layer.selectAll("path."+Ft).data(Jt,St);tr.exit().remove(),tr.enter().insert("path",":first-child").classed(Ft,1).classed("crisp",1).call(t.stroke,je.dividercolor).style("stroke-width",i.crispRound(Ye,je.dividerwidth,1)+"px"),tr.attr("transform",zt.transFn).attr("d",zt.path)}J.getPxPosition=function(Ye,je){var zt=Ye._fullLayout._size,Ft=je._id.charAt(0),Jt=je.side,tr;if(je.anchor!=="free"?tr=je._anchorAxis:Ft==="x"?tr={_offset:zt.t+(1-(je.position||0))*zt.h,_length:0}:Ft==="y"&&(tr={_offset:zt.l+(je.position||0)*zt.w+je._shift,_length:0}),Jt==="top"||Jt==="left")return tr._offset;if(Jt==="bottom"||Jt==="right")return tr._offset+tr._length};function Kt(Ye){var je=Ye.title.font.size,zt=(Ye.title.text.match(p.BR_TAG_ALL)||[]).length;return Ye.title.hasOwnProperty("standoff")?zt?je*($+zt*re):je*$:zt?je*(zt+1)*re:je}function mr(Ye,je){var zt=Ye._fullLayout,Ft=je._id,Jt=Ft.charAt(0),tr=je.title.font.size,ur;if(je.title.hasOwnProperty("standoff"))ur=je._depth+je.title.standoff+Kt(je);else{var nr=$t(je);if(je.type==="multicategory")ur=je._depth;else{var Nt=1.5*tr;nr&&(Nt=.5*tr,je.ticks==="outside"&&(Nt+=je.ticklen)),ur=10+Nt+(je.linewidth?je.linewidth-1:0)}nr||(Jt==="x"?ur+=je.side==="top"?tr*(je.showticklabels?1:0):tr*(je.showticklabels?1.5:.5):ur+=je.side==="right"?tr*(je.showticklabels?1:.5):tr*(je.showticklabels?.5:0))}var hr=J.getPxPosition(Ye,je),gr,br,vr;Jt==="x"?(br=je._offset+je._length/2,vr=je.side==="top"?hr-ur:hr+ur):(vr=je._offset+je._length/2,br=je.side==="right"?hr+ur:hr-ur,gr={rotate:"-90",offset:0});var Gr;if(je.type!=="multicategory"){var Dr=je._selections[je._id+"tick"];if(Gr={selection:Dr,side:je.side},Dr&&Dr.node()&&Dr.node().parentNode){var _r=i.getTranslate(Dr.node().parentNode);Gr.offsetLeft=_r.x,Gr.offsetTop=_r.y}je.title.hasOwnProperty("standoff")&&(Gr.pad=0)}return je._titleStandoff=ur,r.draw(Ye,Ft+"title",{propContainer:je,propName:je._name+".title.text",placeholder:zt._dfltTitle[Jt],avoid:Gr,transform:gr,attributes:{x:br,y:vr,"text-anchor":"middle"}})}J.shouldShowZeroLine=function(Ye,je,zt){var Ft=M.simpleMap(je.range,je.r2l);return Ft[0]*Ft[1]<=0&&je.zeroline&&(je.type==="linear"||je.type==="-")&&!(je.rangebreaks&&je.maskBreaks(0)===k)&&(mt(je,0)||!Zt(Ye,je,zt,Ft)||Qt(Ye,je))},J.clipEnds=function(Ye,je){return je.filter(function(zt){return mt(Ye,zt.x)})};function mt(Ye,je){var zt=Ye.l2p(je);return zt>1&&zt<Ye._length-1}function Zt(Ye,je,zt,Ft){var Jt=zt._mainAxis;if(!Jt)return;var tr=Ye._fullLayout,ur=je._id.charAt(0),nr=J.counterLetter(je._id),Nt=je._offset+(Math.abs(Ft[0])<Math.abs(Ft[1])==(ur==="x")?0:je._length);function hr(Dr){if(!Dr.showline||!Dr.linewidth)return!1;var _r=Math.max((Dr.linewidth+je.zerolinewidth)/2,1);function hn(Cn){return typeof Cn=="number"&&Math.abs(Cn-Nt)<_r}if(hn(Dr._mainLinePosition)||hn(Dr._mainMirrorPosition))return!0;var nn=Dr._linepositions||{};for(var Pn in nn)if(hn(nn[Pn][0])||hn(nn[Pn][1]))return!0}var gr=tr._plots[zt._mainSubplot];if(!(gr.mainplotinfo||gr).overlays.length)return hr(zt);for(var br=J.list(Ye,nr),vr=0;vr<br.length;vr++){var Gr=br[vr];if(Gr._mainAxis===Jt&&hr(Gr))return!0}}function Qt(Ye,je){for(var zt=Ye._fullData,Ft=je._mainSubplot,Jt=je._id.charAt(0),tr=0;tr<zt.length;tr++){var ur=zt[tr];if(ur.visible===!0&&ur.xaxis+ur.yaxis===Ft&&(x.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Jt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Jt))return!0}return!1}function yr(Ye){var je=g.select(Ye),zt=je.select(".text-math-group");return zt.empty()?je.select("text"):zt}J.allowAutoMargin=function(Ye){for(var je=J.list(Ye,"",!0),zt=0;zt<je.length;zt++){var Ft=je[zt];Ft.automargin&&(a.allowAutoMargin(Ye,sr(Ft)),Ft.mirror&&a.allowAutoMargin(Ye,bt(Ft))),x.getComponentMethod("rangeslider","isVisible")(Ft)&&a.allowAutoMargin(Ye,lt(Ft))}};function sr(Ye){return Ye._id+".automargin"}function bt(Ye){return sr(Ye)+".mirror"}function lt(Ye){return Ye._id+".rangeslider"}J.swap=function(Ye,je){for(var zt=Tt(Ye,je),Ft=0;Ft<zt.length;Ft++)It(Ye,zt[Ft].x,zt[Ft].y)};function Tt(Ye,je){var zt=[],Ft,Jt;for(Ft=0;Ft<je.length;Ft++){var tr=[],ur=Ye._fullData[je[Ft]].xaxis,nr=Ye._fullData[je[Ft]].yaxis;if(!(!ur||!nr)){for(Jt=0;Jt<zt.length;Jt++)(zt[Jt].x.indexOf(ur)!==-1||zt[Jt].y.indexOf(nr)!==-1)&&tr.push(Jt);if(!tr.length){zt.push({x:[ur],y:[nr]});continue}var Nt=zt[tr[0]],hr;if(tr.length>1)for(Jt=1;Jt<tr.length;Jt++)hr=zt[tr[Jt]],Ct(Nt.x,hr.x),Ct(Nt.y,hr.y);Ct(Nt.x,[ur]),Ct(Nt.y,[nr])}}return zt}function Ct(Ye,je){for(var zt=0;zt<je.length;zt++)Ye.indexOf(je[zt])===-1&&Ye.push(je[zt])}function It(Ye,je,zt){var Ft=[],Jt=[],tr=Ye.layout,ur,nr;for(ur=0;ur<je.length;ur++)Ft.push(J.getFromId(Ye,je[ur]));for(ur=0;ur<zt.length;ur++)Jt.push(J.getFromId(Ye,zt[ur]));var Nt=Object.keys(n),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],gr=["linear","log"];for(ur=0;ur<Nt.length;ur++){var br=Nt[ur],vr=Ft[0][br],Gr=Jt[0][br],Dr=!0,_r=!1,hn=!1;if(!(br.charAt(0)==="_"||typeof vr=="function"||hr.indexOf(br)!==-1)){for(nr=1;nr<Ft.length&&Dr;nr++){var nn=Ft[nr][br];br==="type"&&gr.indexOf(vr)!==-1&&gr.indexOf(nn)!==-1&&vr!==nn?_r=!0:nn!==vr&&(Dr=!1)}for(nr=1;nr<Jt.length&&Dr;nr++){var Pn=Jt[nr][br];br==="type"&&gr.indexOf(Gr)!==-1&&gr.indexOf(Pn)!==-1&&Gr!==Pn?hn=!0:Jt[nr][br]!==Gr&&(Dr=!1)}Dr&&(_r&&(tr[Ft[0]._name].type="linear"),hn&&(tr[Jt[0]._name].type="linear"),Dt(tr,br,Ft,Jt,Ye._fullLayout._dfltTitle))}}for(ur=0;ur<Ye._fullLayout.annotations.length;ur++){var Cn=Ye._fullLayout.annotations[ur];je.indexOf(Cn.xref)!==-1&&zt.indexOf(Cn.yref)!==-1&&M.swapAttrs(tr.annotations[ur],["?"])}}function Dt(Ye,je,zt,Ft,Jt){var tr=M.nestedProperty,ur=tr(Ye[zt[0]._name],je).get(),nr=tr(Ye[Ft[0]._name],je).get(),Nt;for(je==="title"&&(ur&&ur.text===Jt.x&&(ur.text=Jt.y),nr&&nr.text===Jt.y&&(nr.text=Jt.x)),Nt=0;Nt<zt.length;Nt++)tr(Ye,zt[Nt]._name+"."+je).set(nr);for(Nt=0;Nt<Ft.length;Nt++)tr(Ye,Ft[Nt]._name+"."+je).set(ur)}function Vt(Ye){return Ye._id==="angularaxis"}function Bt(Ye,je){for(var zt=je._rangebreaks.length,Ft=0;Ft<zt;Ft++){var Jt=je._rangebreaks[Ft];if(Ye>=Jt.min&&Ye<Jt.max)return Jt.max}return Ye}function $t(Ye){return(Ye.ticklabelposition||"").indexOf("inside")!==-1}function fr(Ye,je){$t(Ye._anchorAxis||{})&&Ye._hideCounterAxisInsideTickLabels&&Ye._hideCounterAxisInsideTickLabels(je)}function cr(Ye,je,zt,Ft){var Jt=Ye.anchor!=="free"&&(Ye.overlaying===void 0||Ye.overlaying===!1)?Ye._id:Ye.overlaying,tr;Ft?tr=Ye.side==="right"?je:-je:tr=je,Jt in zt||(zt[Jt]={}),Ye.side in zt[Jt]||(zt[Jt][Ye.side]=0),zt[Jt][Ye.side]+=tr}function dr(Ye,je){return Ye.autoshift?je[Ye.overlaying][Ye.side]:Ye.shift||0}},52976:function(j,H,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM,x=P.isArrayOrTypedArray,M=P.isDateTime,v=P.cleanNumber,p=Math.round;j.exports=function(y,h,S){var c=y,o=S.noMultiCategory;if(x(c)&&!c.length)return"-";if(!o&&f(c))return"multicategory";if(o&&Array.isArray(c[0])){for(var d=[],w=0;w<c.length;w++)if(x(c[w]))for(var A=0;A<c[w].length;A++)d.push(c[w][A]);c=d}if(i(c,h))return"date";var C=S.autotypenumbers!=="strict";return u(c,C)?"category":t(c,C)?"linear":"-"};function r(l,y){return y?g(l):typeof l=="number"}function t(l,y){for(var h=l.length,S=0;S<h;S++)if(r(l[S],y))return!0;return!1}function i(l,y){for(var h=l.length,S=n(h),c=0,o=0,d={},w=0;w<h;w+=S){var A=p(w),C=l[A],m=String(C);d[m]||(d[m]=1,M(C,y)&&c++,g(C)&&o++)}return c>o*2}function n(l){return Math.max(1,(l-1)/1e3)}function u(l,y){for(var h=l.length,S=n(h),c=0,o=0,d={},w=0;w<h;w+=S){var A=p(w),C=l[A],m=String(C);if(!d[m]){d[m]=1;var E=typeof C;E==="boolean"?o++:(y?v(C)!==a:E==="number")?c++:E==="string"&&o++}}return o>c*2}function f(l){return x(l[0])&&x(l[1])}},28336:function(j,H,e){var g=e(38248),P=e(24040),a=e(3400),x=e(31780),M=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),i=e(42568),n=e(22416),u=e(42136),f=e(96312),l=e(78344),y=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;j.exports=function(w,A,C,m,E){var b=m.letter,s=m.font||{},L=m.splomStash||{},T=C("visible",!m.visibleDflt),k=A._template||{},_=A.type||k.type||"-",B;if(_==="date"){var F=P.getComponentMethod("calendars","handleDefaults");F(w,A,"calendar",m.calendar),m.noTicklabelmode||(B=C("ticklabelmode"))}var O="";(!m.noTicklabelposition||_==="multicategory")&&(O=a.coerce(w,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:B==="period"?["outside","inside"]:b==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),m.noTicklabeloverflow||C("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":_==="category"||_==="multicategory"?"allow":"hide past div"),l(A,E),f(w,A,C,m),n(w,A,C,m),_!=="category"&&!m.noHover&&C("hoverformat");var N=C("color"),z=N!==v.color.dflt?N:s.color,V=L.label||E._dfltTitle[b];if(i(w,A,C,_,m),!T)return A;C("title.text",V),a.coerceFont(C,"title.font",{family:s.family,size:a.bigFont(s.size),color:z}),p(w,A,C,_);var W=m.hasMinor;if(W&&(x.newContainer(A,"minor"),p(w,A,C,_,{isMinor:!0})),t(w,A,C,_,m),r(w,A,C,m),W){var $=m.isMinor;m.isMinor=!0,r(w,A,C,m),m.isMinor=$}u(w,A,C,{dfltColor:N,bgColor:m.bgColor,showGrid:m.showGrid,hasMinor:W,attributes:v}),W&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&C("mirror");var re=_==="multicategory";if(!m.noTickson&&(_==="category"||re)&&(A.ticks||A.showgrid)){var ne;re&&(ne="boundaries");var ue=C("tickson",ne);ue==="boundaries"&&delete A.ticklabelposition}if(re){var J=C("showdividers");J&&(C("dividercolor"),C("dividerwidth"))}if(_==="date")if(M(w,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:S}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var X=0;X<A.rangebreaks.length;X++)if(A.rangebreaks[X].pattern===y){A._hasDayOfWeekBreaks=!0;break}if(l(A,E),E._has("scattergl")||E._has("splom"))for(var oe=0;oe<m.data.length;oe++){var Y=m.data[oe];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,a.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return A};function S(d,w,A){function C(B,F){return a.coerce(d,w,v.rangebreaks,B,F)}var m=C("enabled");if(m){var E=C("bounds");if(E&&E.length>=2){var b="",s,L;if(E.length===2){for(s=0;s<2;s++)if(L=o(E[s]),L){b=y;break}}var T=C("pattern",b);if(T===y)for(s=0;s<2;s++)L=o(E[s]),L&&(w.bounds[s]=E[s]=L-1);if(T)for(s=0;s<2;s++)switch(L=E[s],T){case y:if(!g(L)){w.enabled=!1;return}if(L=+L,L!==Math.floor(L)||L<0||L>=7){w.enabled=!1;return}w.bounds[s]=E[s]=L;break;case h:if(!g(L)){w.enabled=!1;return}if(L=+L,L<0||L>24){w.enabled=!1;return}w.bounds[s]=E[s]=L;break}if(A.autorange===!1){var k=A.range;if(k[0]<k[1]){if(E[0]<k[0]&&E[1]>k[1]){w.enabled=!1;return}}else if(E[0]>k[0]&&E[1]<k[1]){w.enabled=!1;return}}}else{var _=C("values");if(_&&_.length)C("dvalue");else{w.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(j,H,e){var g=e(26880),P=g.FORMAT_LINK,a=g.DATE_FORMAT_LINK;function x(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?M:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function M(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return M(p,r)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}j.exports={axisHoverFormat:x,descriptionOnlyNumbers:M,descriptionWithDates:v}},79811:function(j,H,e){var g=e(24040),P=e(33816);H.id2name=function(M){if(!(typeof M!="string"||!M.match(P.AX_ID_PATTERN))){var v=M.split(" ")[0].substr(1);return v==="1"&&(v=""),M.charAt(0)+"axis"+v}},H.name2id=function(M){if(M.match(P.AX_NAME_PATTERN)){var v=M.substr(5);return v==="1"&&(v=""),M.charAt(0)+v}},H.cleanId=function(M,v,p){var r=/( domain)$/.test(M);if(!(typeof M!="string"||!M.match(P.AX_ID_PATTERN))&&!(v&&M.charAt(0)!==v)&&!(r&&!p)){var t=M.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),M.charAt(0)+t+(r&&p?" domain":"")}},H.list=function(x,M,v){var p=x._fullLayout;if(!p)return[];var r=H.listIds(x,M),t=new Array(r.length),i;for(i=0;i<r.length;i++){var n=r[i];t[i]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var u=p._subplots.gl3d||[];for(i=0;i<u.length;i++){var f=p[u[i]];M?t.push(f[M+"axis"]):t.push(f.xaxis,f.yaxis,f.zaxis)}}return t},H.listIds=function(x,M){var v=x._fullLayout;if(!v)return[];var p=v._subplots;return M?p[M+"axis"]:p.xaxis.concat(p.yaxis)},H.getFromId=function(x,M,v){var p=x._fullLayout;return M=M===void 0||typeof M!="string"?M:M.replace(" domain",""),v==="x"?M=M.replace(/y[0-9]*/,""):v==="y"&&(M=M.replace(/x[0-9]*/,"")),p[H.id2name(M)]},H.getFromTrace=function(x,M,v){var p=x._fullLayout,r=null;if(g.traceIs(M,"gl3d")){var t=M.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=H.getFromId(x,M[v+"axis"]||v);return r},H.idSort=function(x,M){var v=x.charAt(0),p=M.charAt(0);return v!==p?v>p?1:-1:+(x.substr(1)||1)-+(M.substr(1)||1)},H.ref2id=function(x){return/^[xyz]/.test(x)?x.split(" ")[0]:!1};function a(x,M){if(M&&M.length){for(var v=0;v<M.length;v++)if(M[v][x])return!0}return!1}H.isLinked=function(x,M){return a(M,x._axisMatchGroups)||a(M,x._axisConstraintGroups)}},22416:function(j,H,e){var g=e(38116).isTypedArraySpec;function P(a,x){var M=x.dataAttr||a._id.charAt(0),v={},p,r,t;if(x.axData)p=x.axData;else for(p=[],r=0;r<x.data.length;r++){var i=x.data[r];i[M+"axis"]===a._id&&p.push(i)}for(r=0;r<p.length;r++){var n=p[r][M];for(t=0;t<n.length;t++){var u=n[t];u!=null&&(v[u]=1)}}return Object.keys(v)}j.exports=function(x,M,v,p){if(M.type==="category"){var r=x.categoryarray,t=Array.isArray(r)&&r.length>0||g(r),i;t&&(i="array");var n=v("categoryorder",i),u;n==="array"&&(u=v("categoryarray")),!t&&n==="array"&&(n=M.categoryorder="trace"),n==="trace"?M._initialCategories=[]:n==="array"?M._initialCategories=u.slice():(u=P(M,p).sort(),n==="category ascending"?M._initialCategories=u:n==="category descending"&&(M._initialCategories=u.reverse()))}}},98728:function(j,H,e){var g=e(38248),P=e(3400),a=e(39032),x=a.ONEDAY,M=a.ONEWEEK;H.dtick=function(v,p){var r=p==="log",t=p==="date",i=p==="category",n=t?x:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:i?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var u=v.charAt(0),f=v.substr(1);return f=g(f)?Number(f):0,f<=0||!(t&&u==="M"&&f===Math.round(f)||r&&u==="L"||r&&u==="D"&&(f===1||f===2))?n:v},H.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%M===0?1:0));if(!(t==="D1"||t==="D2"))return g(v)?Number(v):0}},33816:function(j,H,e){var g=e(53756).counter;j.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(j,H,e){var g=e(3400),P=e(19280),a=e(79811).id2name,x=e(94724),M=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;H.handleDefaults=function(h,S,c){var o=c.axIds,d=c.axHasImage,w=S._axisConstraintGroups=[],A=S._axisMatchGroups=[],C,m,E,b,s,L,T,k;for(C=0;C<o.length;C++)b=a(o[C]),s=h[b],L=S[b],t(s,L,{axIds:o,layoutOut:S,hasImage:d[b]});function _(re,ne){for(C=0;C<re.length;C++){m=re[C];for(E in m)S[a(E)][ne]=m}}for(_(A,"_matchGroup"),C=0;C<w.length;C++){m=w[C];for(E in m)if(L=S[a(E)],L.fixedrange){for(var B in m){var F=a(B);(h[F]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),S[F].fixedrange=!0}break}}for(C=0;C<w.length;){m=w[C];for(E in m){L=S[a(E)],L._matchGroup&&Object.keys(L._matchGroup).length===Object.keys(m).length&&(w.splice(C,1),C--);break}C++}_(w,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],N=!1,z=!1;function V(){k=L[T],T==="rangebreaks"&&(z=L._hasDayOfWeekBreaks)}for(C=0;C<A.length;C++){m=A[C];for(var W=0;W<O.length;W++){T=O[W],k=null;var $;for(E in m)if(b=a(E),s=h[b],L=S[b],T in L){if(!L.matches&&($=L,T in s)){V();break}k===null&&T in s&&V()}if(T==="range"&&k&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(N=!0),T==="autorange"&&k===null&&N&&(k=!1),k===null&&T in $&&(k=$[T]),k!==null)for(E in m)L=S[a(E)],L[T]=T==="range"?k.slice():k,T==="rangebreaks"&&(L._hasDayOfWeekBreaks=z,v(L,S))}}};function t(h,S,c){var o=c.axIds,d=c.layoutOut,w=c.hasImage,A=d._axisConstraintGroups,C=d._axisMatchGroups,m=S._id,E=m.charAt(0),b=((d._splomAxes||{})[E]||{})[m]||{},s=S._id,L=s.charAt(0)==="x";S._matchGroup=null,S._constraintGroup=null;function T(X,oe){return g.coerce(h,S,x,X,oe)}T("constrain",w?"domain":"range"),g.coerce(h,S,{constraintoward:{valType:"enumerated",values:L?["left","center","right"]:["bottom","middle","top"],dflt:L?"center":"middle"}},"constraintoward");var k=S.type,_,B,F=[];for(_=0;_<o.length;_++)if(B=o[_],B!==s){var O=d[a(B)];O.type===k&&F.push(B)}var N=n(A,s);if(N){var z=[];for(_=0;_<F.length;_++)B=F[_],N[B]||z.push(B);F=z}var V=F.length,W,$;V&&(h.matches||b.matches)&&(W=g.coerce(h,S,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(b.matches)!==-1?b.matches:void 0}},"matches"));var re=w&&!L?S.anchor:void 0;if(V&&!W&&(h.scaleanchor||re)&&($=g.coerce(h,S,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",re)),W){S._matchGroup=u(C,s,W,1);var ne=d[a(W)],ue=i(d,S)/i(d,ne);L!==(W.charAt(0)==="x")&&(ue=(L?"x":"y")+ue),u(A,s,W,ue)}else h.matches&&o.indexOf(h.matches)!==-1&&g.warn("ignored "+S._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if($){var J=T("scaleratio");J||(J=S.scaleratio=1),u(A,s,$,J)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&g.warn("ignored "+S._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function i(h,S){var c=S.domain;return c||(c=h[a(S.overlaying)].domain),c[1]-c[0]}function n(h,S){for(var c=0;c<h.length;c++)if(h[c][S])return h[c];return null}function u(h,S,c,o){var d,w,A,C,m,E=n(h,S);E===null?(E={},E[S]=1,m=h.length,h.push(E)):m=h.indexOf(E);var b=Object.keys(E);for(d=0;d<h.length;d++)if(A=h[d],d!==m&&A[c]){var s=A[c];for(w=0;w<b.length;w++)C=b[w],A[C]=f(s,f(o,E[C]));h.splice(m,1);return}if(o!==1)for(w=0;w<b.length;w++){var L=b[w];E[L]=f(o,E[L])}E[c]=1}function f(h,S){var c="",o="",d,w;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof S=="string"&&(o=S.match(/^[xy]*/)[0],w=o.length,S=+S.substr(w));var A=h*S;return!d&&!w?A:!d||!w||c.charAt(0)===o.charAt(0)?c+o+h*S:d===w?A:(d>w?c.substr(w):o.substr(d))+A}function l(h,S){for(var c=S._size,o=c.h/c.w,d={},w=Object.keys(h),A=0;A<w.length;A++){var C=w[A],m=h[C];if(typeof m=="string"){var E=m.match(/^[xy]*/)[0],b=E.length;m=+m.substr(b);for(var s=E.charAt(0)==="y"?o:1/o,L=0;L<b;L++)m*=s}d[C]=m}return d}H.enforce=function(S){var c=S._fullLayout,o=c._axisConstraintGroups||[],d,w,A,C,m,E,b,s;for(d=0;d<o.length;d++){A=l(o[d],c);var L=Object.keys(A),T=1/0,k=0,_=1/0,B={},F={},O=!1;for(w=0;w<L.length;w++)C=L[w],F[C]=m=c[a(C)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),B[C]=E=Math.abs(m._m)/A[C],T=Math.min(T,E),(m.constrain==="domain"||!m._constraintShrinkable)&&(_=Math.min(_,E)),delete m._constraintShrinkable,k=Math.max(k,E),m.constrain==="domain"&&(O=!0);if(!(T>p*k&&!O)){for(w=0;w<L.length;w++)if(C=L[w],E=B[C],m=F[C],b=m.constrain,E!==_||b==="domain")if(s=E/_,b==="range")M(m,s);else{var N=m._inputDomain,z=(m.domain[1]-m.domain[0])/(N[1]-N[0]),V=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(s/=z,s*V<1){m.domain=m._input.domain=N.slice(),M(m,s);continue}if(V<1&&(m.range=m._input.range=m._inputRange.slice(),s*=V),m.autorange){var W=m.r2l(m.range[0]),$=m.r2l(m.range[1]),re=(W+$)/2,ne=re,ue=re,J=Math.abs($-re),X=re-J*s*1.0001,oe=re+J*s*1.0001,Y=P.makePadFn(c,m,0),q=P.makePadFn(c,m,1);y(m,s);var se=Math.abs(m._m),Q=P.concatExtremes(S,m),K=Q.min,le=Q.max,ie,ce;for(ce=0;ce<K.length;ce++)ie=K[ce].val-Y(K[ce])/se,ie>X&&ie<ne&&(ne=ie);for(ce=0;ce<le.length;ce++)ie=le[ce].val+q(le[ce])/se,ie<oe&&ie>ue&&(ue=ie);var ye=(ue-ne)/(2*J);s/=ye,ne=m.l2r(ne),ue=m.l2r(ue),m.range=m._input.range=W<$?[ne,ue]:[ue,ne]}y(m,s)}}}},H.getAxisGroup=function(S,c){for(var o=S._axisMatchGroups,d=0;d<o.length;d++){var w=o[d];if(w[c])return"g"+d}return c},H.clean=function(S,c){if(c._inputDomain){for(var o=!1,d=c._id,w=S._fullLayout._axisConstraintGroups,A=0;A<w.length;A++)if(w[A][d]){o=!0;break}(!o||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function y(h,S){var c=h._inputDomain,o=r[h.constraintoward],d=c[0]+(c[1]-c[0])*o;h.domain=h._input.domain=[d+(c[0]-d)/S,d+(c[1]-d)/S],h.setScale()}},51184:function(j,H,e){var g=e(33428),P=e(3400),a=P.numberFormat,x=e(49760),M=e(89184),v=e(24040),p=P.strTranslate,r=e(72736),t=e(76308),i=e(43616),n=e(93024),u=e(54460),f=e(93972),l=e(86476),y=e(72760),h=y.selectingOrDrawing,S=y.freeMode,c=e(84284).FROM_TL,o=e(73696),d=e(39172).redrawReglTraces,w=e(7316),A=e(79811).getFromId,C=e(22676).prepSelect,m=e(22676).clearOutline,E=e(22676).selectOnClick,b=e(21160),s=e(33816),L=s.MINDRAG,T=s.MINZOOM,k=!0;function _(ie,ce,ye,Ce,Ae,ke,we,Ee){var xe=ie._fullLayout._zoomlayer,Pe=we+Ee==="nsew",Ue=(we+Ee).length===1,Be,Ne,Xe,ut,dt,at,We,rt,st,ht,vt,At,et,_e,Ve,Ze,He,Ie,be,me,Me,Te,Oe;ye+=ce.yaxis._shift;function Ke(){if(Be=ce.xaxis,Ne=ce.yaxis,st=Be._length,ht=Ne._length,We=Be._offset,rt=Ne._offset,Xe={},Xe[Be._id]=Be,ut={},ut[Ne._id]=Ne,we&&Ee)for(var nr=ce.overlays,Nt=0;Nt<nr.length;Nt++){var hr=nr[Nt].xaxis;Xe[hr._id]=hr;var gr=nr[Nt].yaxis;ut[gr._id]=gr}dt=le(Xe),at=le(ut),et=O(dt,Ee),_e=O(at,we),Ve=!_e&&!et,At=Q(ie,ie._fullLayout._axisMatchGroups,Xe,ut),vt=Q(ie,ie._fullLayout._axisConstraintGroups,Xe,ut,At);var br=vt.isSubplotConstrained||At.isSubplotConstrained;Ze=Ee||br,He=we||br;var vr=ie._fullLayout;Ie=vr._has("scattergl"),be=vr._has("splom"),me=vr._has("svg")}Ke();var nt=$(_e+et,ie._fullLayout.dragmode,Pe),pt=F(ce,we+Ee+"drag",nt,ye,Ce,Ae,ke);if(Ve&&!Pe)return pt.onmousedown=null,pt.style.pointerEvents="none",pt;var yt={element:pt,gd:ie,plotinfo:ce};yt.prepFn=function(nr,Nt,hr){var gr=yt.dragmode,br=ie._fullLayout.dragmode;br!==gr&&(yt.dragmode=br),Ke(),Te=ie._fullLayout._invScaleX,Oe=ie._fullLayout._invScaleY,Ve||(Pe?nr.shiftKey?br==="pan"?br="zoom":h(br)||(br="pan"):nr.ctrlKey&&(br="pan"):br="pan"),S(br)?yt.minDrag=1:yt.minDrag=void 0,h(br)?(yt.xaxes=dt,yt.yaxes=at,C(nr,Nt,hr,yt,br)):(yt.clickFn=Xt,h(gr)&&Yt(),Ve||(br==="zoom"?(yt.moveFn=Tt,yt.doneFn=It,yt.minDrag=1,lt(nr,Nt,hr)):br==="pan"&&(yt.moveFn=cr,yt.doneFn=zt))),ie._fullLayout._redrag=function(){var vr=ie._dragdata;if(vr&&vr.element===pt){var Gr=ie._fullLayout.dragmode;h(Gr)||(Ke(),Ft([0,0,st,ht]),yt.moveFn(vr.dx,vr.dy))}}};function Yt(){yt.plotinfo.selection=!1,m(ie)}function Xt(nr,Nt){var hr=yt.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var gr=hr._fullLayout.clickmode;if(X(hr),nr===2&&!Ue&&je(),Pe)gr.indexOf("select")>-1&&E(Nt,hr,dt,at,ce.id,yt),gr.indexOf("event")>-1&&n.click(hr,Nt,ce.id);else if(nr===1&&Ue){var br=we?Ne:Be,vr=we==="s"||Ee==="w"?0:1,Gr=br._name+".range["+vr+"]",Dr=N(br,vr),_r="left",hn="middle";if(br.fixedrange)return;we?(hn=we==="n"?"top":"bottom",br.side==="right"&&(_r="right")):Ee==="e"&&(_r="right"),hr._context.showAxisRangeEntryBoxes&&g.select(pt).call(r.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(Dr),fill:br.tickfont?br.tickfont.color:"#444",horizontalAlign:_r,verticalAlign:hn}).on("edit",function(nn){var Pn=br.d2r(nn);Pn!==void 0&&v.call("_guiRelayout",hr,Gr,Pn)})}}l.init(yt);var St,kt,Kt,mr,mt,Zt,Qt,yr,sr,bt;function lt(nr,Nt,hr){var gr=pt.getBoundingClientRect();St=Nt-gr.left,kt=hr-gr.top,ie._fullLayout._calcInverseTransform(ie);var br=P.apply3DTransform(ie._fullLayout._invTransform)(St,kt);St=br[0],kt=br[1],Kt={l:St,r:St,w:0,t:kt,b:kt,h:0},mr=ie._hmpixcount?ie._hmlumcount/ie._hmpixcount:x(ie._fullLayout.plot_bgcolor).getLuminance(),mt="M0,0H"+st+"V"+ht+"H0V0",Zt=!1,Qt="xy",bt=!1,yr=re(xe,mr,We,rt,mt),sr=ne(xe,We,rt)}function Tt(nr,Nt){if(ie._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(st,Te*nr+St)),gr=Math.max(0,Math.min(ht,Oe*Nt+kt)),br=Math.abs(hr-St),vr=Math.abs(gr-kt);Kt.l=Math.min(St,hr),Kt.r=Math.max(St,hr),Kt.t=Math.min(kt,gr),Kt.b=Math.max(kt,gr);function Gr(){Qt="",Kt.r=Kt.l,Kt.t=Kt.b,sr.attr("d","M0,0Z")}if(vt.isSubplotConstrained)br>T||vr>T?(Qt="xy",br/st>vr/ht?(vr=br*ht/st,kt>gr?Kt.t=kt-vr:Kt.b=kt+vr):(br=vr*st/ht,St>hr?Kt.l=St-br:Kt.r=St+br),sr.attr("d",se(Kt))):Gr();else if(At.isSubplotConstrained)if(br>T||vr>T){Qt="xy";var Dr=Math.min(Kt.l/st,(ht-Kt.b)/ht),_r=Math.max(Kt.r/st,(ht-Kt.t)/ht);Kt.l=Dr*st,Kt.r=_r*st,Kt.b=(1-Dr)*ht,Kt.t=(1-_r)*ht,sr.attr("d",se(Kt))}else Gr();else!_e||vr<Math.min(Math.max(br*.6,L),T)?br<L||!et?Gr():(Kt.t=0,Kt.b=ht,Qt="x",sr.attr("d",Y(Kt,kt))):!et||br<Math.min(vr*.6,T)?(Kt.l=0,Kt.r=st,Qt="y",sr.attr("d",q(Kt,St))):(Qt="xy",sr.attr("d",se(Kt)));Kt.w=Kt.r-Kt.l,Kt.h=Kt.b-Kt.t,Qt&&(bt=!0),ie._dragged=bt,ue(yr,sr,Kt,mt,Zt,mr),Ct(),ie.emit("plotly_relayouting",Me),Zt=!0}function Ct(){Me={},(Qt==="xy"||Qt==="x")&&(z(dt,Kt.l/st,Kt.r/st,Me,vt.xaxes),dr("x",Me)),(Qt==="xy"||Qt==="y")&&(z(at,(ht-Kt.b)/ht,(ht-Kt.t)/ht,Me,vt.yaxes),dr("y",Me))}function It(){Ct(),X(ie),zt(),oe(ie)}var Dt=[0,0,st,ht],Vt=null,Bt=s.REDRAWDELAY,$t=ce.mainplot?ie._fullLayout._plots[ce.mainplot]:ce;function fr(nr){if(!ie._context._scrollZoom.cartesian&&!ie._fullLayout._enablescrollzoom)return;if(Yt(),ie._transitioningWithDuration){nr.preventDefault(),nr.stopPropagation();return}Ke(),clearTimeout(Vt);var Nt=-nr.deltaY;if(isFinite(Nt)||(Nt=nr.wheelDelta/10),!isFinite(Nt)){P.log("Did not find wheel motion attributes: ",nr);return}var hr=Math.exp(-Math.min(Math.max(Nt,-20),20)/200),gr=$t.draglayer.select(".nsewdrag").node().getBoundingClientRect(),br=(nr.clientX-gr.left)/gr.width,vr=(gr.bottom-nr.clientY)/gr.height,Gr;function Dr(_r,hn,nn){if(_r.fixedrange)return;var Pn=P.simpleMap(_r.range,_r.r2l),Cn=Pn[0]+(Pn[1]-Pn[0])*hn;function Ar(Pr){return _r.l2r(Cn+(Pr-Cn)*nn)}_r.range=Pn.map(Ar)}if(Ze){for(Ee||(br=.5),Gr=0;Gr<dt.length;Gr++)Dr(dt[Gr],br,hr);dr("x"),Dt[2]*=hr,Dt[0]+=Dt[2]*br*(1/hr-1)}if(He){for(we||(vr=.5),Gr=0;Gr<at.length;Gr++)Dr(at[Gr],vr,hr);dr("y"),Dt[3]*=hr,Dt[1]+=Dt[3]*(1-vr)*(1/hr-1)}Ft(Dt),Ye(),ie.emit("plotly_relayouting",Me),Vt=setTimeout(function(){ie._fullLayout&&(Dt=[0,0,st,ht],zt())},Bt),nr.preventDefault()}we.length*Ee.length!==1&&K(pt,fr);function cr(nr,Nt){if(nr=nr*Te,Nt=Nt*Oe,ie._transitioningWithDuration)return;if(ie._fullLayout._replotting=!0,et==="ew"||_e==="ns"){var hr=et?-nr:0,gr=_e?-Nt:0;if(At.isSubplotConstrained){if(et&&_e){var br=(nr/st-Nt/ht)/2;nr=br*st,Nt=-br*ht,hr=-nr,gr=-Nt}_e?hr=-gr*st/ht:gr=-hr*ht/st}et&&(V(dt,nr),dr("x")),_e&&(V(at,Nt),dr("y")),Ft([hr,gr,st,ht]),Ye(),ie.emit("plotly_relayouting",Me);return}function vr(Ar,Pr,Wr){for(var Vr=1-Pr,on,yn,mn=0;mn<Ar.length;mn++){var Ln=Ar[mn];if(!Ln.fixedrange){on=Ln,yn=Ln._rl[Vr]+(Ln._rl[Pr]-Ln._rl[Vr])/W(Wr/Ln._length);var zn=Ln.l2r(yn);zn!==!1&&zn!==void 0&&(Ln.range[Pr]=zn)}}return on._length*(on._rl[Pr]-yn)/(on._rl[Pr]-on._rl[Vr])}var Gr=et==="w"==(_e==="n")?1:-1;if(et&&_e&&(vt.isSubplotConstrained||At.isSubplotConstrained)){var Dr=(nr/st+Gr*Nt/ht)/2;nr=Dr*st,Nt=Gr*Dr*ht}var _r,hn;if(et==="w"?nr=vr(dt,0,nr):et==="e"?nr=vr(dt,1,-nr):et||(nr=0),_e==="n"?Nt=vr(at,1,Nt):_e==="s"?Nt=vr(at,0,-Nt):_e||(Nt=0),_r=et==="w"?nr:0,hn=_e==="n"?Nt:0,vt.isSubplotConstrained&&!At.isSubplotConstrained||At.isSubplotConstrained&&et&&_e&&Gr>0){var nn;if(At.isSubplotConstrained||!et&&_e.length===1){for(nn=0;nn<dt.length;nn++)dt[nn].range=dt[nn]._r.slice(),b(dt[nn],1-Nt/ht);nr=Nt*st/ht,_r=nr/2}if(At.isSubplotConstrained||!_e&&et.length===1){for(nn=0;nn<at.length;nn++)at[nn].range=at[nn]._r.slice(),b(at[nn],1-nr/st);Nt=nr*ht/st,hn=Nt/2}}(!At.isSubplotConstrained||!_e)&&dr("x"),(!At.isSubplotConstrained||!et)&&dr("y");var Pn=st-nr,Cn=ht-Nt;At.isSubplotConstrained&&!(et&&_e)&&(et?(hn=_r?0:nr*ht/st,Cn=Pn*ht/st):(_r=hn?0:Nt*st/ht,Pn=Cn*st/ht)),Ft([_r,hn,Pn,Cn]),Ye(),ie.emit("plotly_relayouting",Me)}function dr(nr,Nt){for(var hr=At.isSubplotConstrained?{x:at,y:dt}[nr]:At[nr+"axes"],gr=At.isSubplotConstrained?{x:dt,y:at}[nr]:[],br=0;br<hr.length;br++){var vr=hr[br],Gr=vr._id,Dr=At.xLinks[Gr]||At.yLinks[Gr],_r=gr[0]||Xe[Dr]||ut[Dr];_r&&(Nt?(Nt[vr._name+".range[0]"]=Nt[_r._name+".range[0]"],Nt[vr._name+".range[1]"]=Nt[_r._name+".range[1]"]):vr.range=_r.range.slice())}}function Ye(){var nr=[],Nt;function hr(Gr){for(Nt=0;Nt<Gr.length;Nt++)Gr[Nt].fixedrange||nr.push(Gr[Nt]._id)}function gr(Gr,Dr){for(Nt=0;Nt<Gr.length;Nt++){var _r=Gr[Nt],hn=_r[Dr];!_r.fixedrange&&hn.tickmode==="sync"&&nr.push(hn._id)}}for(Ze&&(hr(dt),hr(vt.xaxes),hr(At.xaxes),gr(ce.overlays,"xaxis")),He&&(hr(at),hr(vt.yaxes),hr(At.yaxes),gr(ce.overlays,"yaxis")),Me={},Nt=0;Nt<nr.length;Nt++){var br=nr[Nt],vr=A(ie,br);u.drawOne(ie,vr,{skipTitle:!0}),Me[vr._name+".range[0]"]=vr.range[0],Me[vr._name+".range[1]"]=vr.range[1]}u.redrawComponents(ie,nr)}function je(){if(!ie._transitioningWithDuration){var nr=ie._context.doubleClick,Nt=[];et&&(Nt=Nt.concat(dt)),_e&&(Nt=Nt.concat(at)),At.xaxes&&(Nt=Nt.concat(At.xaxes)),At.yaxes&&(Nt=Nt.concat(At.yaxes));var hr={},gr,br;if(nr==="reset+autosize")for(nr="autosize",br=0;br<Nt.length;br++){gr=Nt[br];var vr=gr._rangeInitial0,Gr=gr._rangeInitial1,Dr=vr!==void 0||Gr!==void 0;if(Dr&&(vr!==void 0&&vr!==gr.range[0]||Gr!==void 0&&Gr!==gr.range[1])||!Dr&&gr.autorange!==!0){nr="reset";break}}if(nr==="autosize")for(br=0;br<Nt.length;br++)gr=Nt[br],gr.fixedrange||(hr[gr._name+".autorange"]=!0);else if(nr==="reset"){for((et||vt.isSubplotConstrained)&&(Nt=Nt.concat(vt.xaxes)),_e&&!vt.isSubplotConstrained&&(Nt=Nt.concat(vt.yaxes)),vt.isSubplotConstrained&&(et?_e||(Nt=Nt.concat(at)):Nt=Nt.concat(dt)),br=0;br<Nt.length;br++)if(gr=Nt[br],!gr.fixedrange){var _r=gr._name,hn=gr._autorangeInitial;gr._rangeInitial0===void 0&&gr._rangeInitial1===void 0?hr[_r+".autorange"]=!0:gr._rangeInitial0===void 0?(hr[_r+".autorange"]=hn,hr[_r+".range"]=[null,gr._rangeInitial1]):gr._rangeInitial1===void 0?(hr[_r+".range"]=[gr._rangeInitial0,null],hr[_r+".autorange"]=hn):hr[_r+".range"]=[gr._rangeInitial0,gr._rangeInitial1]}}ie.emit("plotly_doubleclick",null),v.call("_guiRelayout",ie,hr)}}function zt(){Ft([0,0,st,ht]),P.syncOrAsync([w.previousPromises,function(){ie._fullLayout._replotting=!1,v.call("_guiRelayout",ie,Me)}],ie)}function Ft(nr){var Nt=ie._fullLayout,hr=Nt._plots,gr=Nt._subplots.cartesian,br,vr,Gr,Dr;if(be&&v.subplotsRegistry.splom.drag(ie),Ie){for(br=0;br<gr.length;br++)if(vr=hr[gr[br]],Gr=vr.xaxis,Dr=vr.yaxis,vr._scene){var _r=P.simpleMap(Gr.range,Gr.r2l),hn=P.simpleMap(Dr.range,Dr.r2l);Gr.limitRange&&Gr.limitRange(),Dr.limitRange&&Dr.limitRange(),_r=Gr.range,hn=Dr.range,vr._scene.update({range:[_r[0],hn[0],_r[1],hn[1]]})}}if((be||Ie)&&(o(ie),d(ie)),me){var nn=nr[2]/Be._length,Pn=nr[3]/Ne._length;for(br=0;br<gr.length;br++){vr=hr[gr[br]],Gr=vr.xaxis,Dr=vr.yaxis;var Cn=(Ze||At.isSubplotConstrained)&&!Gr.fixedrange&&Xe[Gr._id],Ar=(He||At.isSubplotConstrained)&&!Dr.fixedrange&&ut[Dr._id],Pr,Wr,Vr,on;if(Cn?(Pr=nn,Vr=Ee||At.isSubplotConstrained?nr[0]:ur(Gr,Pr)):At.xaHash[Gr._id]?(Pr=nn,Vr=nr[0]*Gr._length/Be._length):At.yaHash[Gr._id]?(Pr=Pn,Vr=_e==="ns"?-nr[1]*Gr._length/Ne._length:ur(Gr,Pr,{n:"top",s:"bottom"}[_e])):(Pr=Jt(Gr,nn,Pn),Vr=tr(Gr,Pr)),Pr>1&&(Gr.maxallowed!==void 0&&Ze===(Gr.range[0]<Gr.range[1]?"e":"w")||Gr.minallowed!==void 0&&Ze===(Gr.range[0]<Gr.range[1]?"w":"e"))&&(Pr=1,Vr=0),Ar?(Wr=Pn,on=we||At.isSubplotConstrained?nr[1]:ur(Dr,Wr)):At.yaHash[Dr._id]?(Wr=Pn,on=nr[1]*Dr._length/Ne._length):At.xaHash[Dr._id]?(Wr=nn,on=et==="ew"?-nr[0]*Dr._length/Be._length:ur(Dr,Wr,{e:"right",w:"left"}[et])):(Wr=Jt(Dr,nn,Pn),on=tr(Dr,Wr)),Wr>1&&(Dr.maxallowed!==void 0&&He===(Dr.range[0]<Dr.range[1]?"n":"s")||Dr.minallowed!==void 0&&He===(Dr.range[0]<Dr.range[1]?"s":"n"))&&(Wr=1,on=0),!(!Pr&&!Wr)){Pr||(Pr=1),Wr||(Wr=1);var yn=Gr._offset-Vr/Pr,mn=Dr._offset-on/Wr;vr.clipRect.call(i.setTranslate,Vr,on).call(i.setScale,Pr,Wr),vr.plot.call(i.setTranslate,yn,mn).call(i.setScale,1/Pr,1/Wr),(Pr!==vr.xScaleFactor||Wr!==vr.yScaleFactor)&&(i.setPointGroupScale(vr.zoomScalePts,Pr,Wr),i.setTextPointsScale(vr.zoomScaleTxt,Pr,Wr)),i.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Pr,vr.yScaleFactor=Wr}}}}function Jt(nr,Nt,hr){return nr.fixedrange?0:Ze&&vt.xaHash[nr._id]?Nt:He&&(vt.isSubplotConstrained?vt.xaHash:vt.yaHash)[nr._id]?hr:0}function tr(nr,Nt){return Nt?(nr.range=nr._r.slice(),b(nr,Nt),ur(nr,Nt)):0}function ur(nr,Nt,hr){return nr._length*(1-Nt)*c[hr||nr.constraintoward||"middle"]}return pt}function B(ie,ce,ye,Ce){var Ae=P.ensureSingle(ie.draglayer,ce,ye,function(ke){ke.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ie.id)});return Ae.call(f,Ce),Ae.node()}function F(ie,ce,ye,Ce,Ae,ke,we){var Ee=B(ie,"rect",ce,ye);return g.select(Ee).call(i.setRect,Ce,Ae,ke,we),Ee}function O(ie,ce){for(var ye=0;ye<ie.length;ye++)if(!ie[ye].fixedrange)return ce;return""}function N(ie,ce){var ye=ie.range[ce],Ce=Math.abs(ye-ie.range[1-ce]),Ae;return ie.type==="date"?ye:ie.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(Ce)/Math.LN10))+3,a("."+Ae+"g")(Math.pow(10,ye))):(Ae=Math.floor(Math.log(Math.abs(ye))/Math.LN10)-Math.floor(Math.log(Ce)/Math.LN10)+4,a("."+String(Ae)+"g")(ye))}function z(ie,ce,ye,Ce,Ae){for(var ke=0;ke<ie.length;ke++){var we=ie[ke];if(!we.fixedrange)if(we.rangebreaks){var Ee=we._id.charAt(0)==="y",xe=Ee?1-ce:ce,Pe=Ee?1-ye:ye;Ce[we._name+".range[0]"]=we.l2r(we.p2l(xe*we._length)),Ce[we._name+".range[1]"]=we.l2r(we.p2l(Pe*we._length))}else{var Ue=we._rl[0],Be=we._rl[1]-Ue;Ce[we._name+".range[0]"]=we.l2r(Ue+Be*ce),Ce[we._name+".range[1]"]=we.l2r(Ue+Be*ye)}}if(Ae&&Ae.length){var Ne=(ce+(1-ye))/2;z(Ae,Ne,1-Ne,Ce,[])}}function V(ie,ce){for(var ye=0;ye<ie.length;ye++){var Ce=ie[ye];if(!Ce.fixedrange){if(Ce.rangebreaks){var Ae=0,ke=Ce._length,we=Ce.p2l(Ae+ce)-Ce.p2l(Ae),Ee=Ce.p2l(ke+ce)-Ce.p2l(ke),xe=(we+Ee)/2;Ce.range=[Ce.l2r(Ce._rl[0]-xe),Ce.l2r(Ce._rl[1]-xe)]}else Ce.range=[Ce.l2r(Ce._rl[0]-ce/Ce._m),Ce.l2r(Ce._rl[1]-ce/Ce._m)];Ce.limitRange&&Ce.limitRange()}}}function W(ie){return 1-(ie>=0?Math.min(ie,.9):1/(1/Math.max(ie,-.3)+3.222))}function $(ie,ce,ye){return ie?ie==="nsew"?ye?"":ce==="pan"?"move":"crosshair":ie.toLowerCase()+"-resize":"pointer"}function re(ie,ce,ye,Ce,Ae){return ie.append("path").attr("class","zoombox").style({fill:ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ye,Ce)).attr("d",Ae+"Z")}function ne(ie,ce,ye){return ie.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(ce,ye)).attr("d","M0,0Z")}function ue(ie,ce,ye,Ce,Ae,ke){ie.attr("d",Ce+"M"+ye.l+","+ye.t+"v"+ye.h+"h"+ye.w+"v-"+ye.h+"h-"+ye.w+"Z"),J(ie,ce,Ae,ke)}function J(ie,ce,ye,Ce){ye||(ie.transition().style("fill",Ce>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ce.transition().style("opacity",1).duration(200))}function X(ie){g.select(ie).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function oe(ie){k&&ie.data&&ie._context.showTips&&(P.notifier(P._(ie,"Double-click to zoom back out"),"long"),k=!1)}function Y(ie,ce){return"M"+(ie.l-.5)+","+(ce-T-.5)+"h-3v"+(2*T+1)+"h3ZM"+(ie.r+.5)+","+(ce-T-.5)+"h3v"+(2*T+1)+"h-3Z"}function q(ie,ce){return"M"+(ce-T-.5)+","+(ie.t-.5)+"v-3h"+(2*T+1)+"v3ZM"+(ce-T-.5)+","+(ie.b+.5)+"v3h"+(2*T+1)+"v-3Z"}function se(ie){var ce=Math.floor(Math.min(ie.b-ie.t,ie.r-ie.l,T)/2);return"M"+(ie.l-3.5)+","+(ie.t-.5+ce)+"h3v"+-ce+"h"+ce+"v-3h-"+(ce+3)+"ZM"+(ie.r+3.5)+","+(ie.t-.5+ce)+"h-3v"+-ce+"h"+-ce+"v-3h"+(ce+3)+"ZM"+(ie.r+3.5)+","+(ie.b+.5-ce)+"h-3v"+ce+"h"+-ce+"v3h"+(ce+3)+"ZM"+(ie.l-3.5)+","+(ie.b+.5-ce)+"h3v"+ce+"h"+ce+"v3h-"+(ce+3)+"Z"}function Q(ie,ce,ye,Ce,Ae){for(var ke=!1,we={},Ee={},xe,Pe,Ue,Be,Ne=(Ae||{}).xaHash,Xe=(Ae||{}).yaHash,ut=0;ut<ce.length;ut++){var dt=ce[ut];for(xe in ye)if(dt[xe]){for(Ue in dt)!(Ae&&(Ne[Ue]||Xe[Ue]))&&!(Ue.charAt(0)==="x"?ye:Ce)[Ue]&&(we[Ue]=xe);for(Pe in Ce)!(Ae&&(Ne[Pe]||Xe[Pe]))&&dt[Pe]&&(ke=!0)}for(Pe in Ce)if(dt[Pe])for(Be in dt)!(Ae&&(Ne[Be]||Xe[Be]))&&!(Be.charAt(0)==="x"?ye:Ce)[Be]&&(Ee[Be]=Pe)}ke&&(P.extendFlat(we,Ee),Ee={});var at={},We=[];for(Ue in we){var rt=A(ie,Ue);We.push(rt),at[rt._id]=rt}var st={},ht=[];for(Be in Ee){var vt=A(ie,Be);ht.push(vt),st[vt._id]=vt}return{xaHash:at,yaHash:st,xaxes:We,yaxes:ht,xLinks:we,yLinks:Ee,isSubplotConstrained:ke}}function K(ie,ce){if(!M)ie.onwheel!==void 0?ie.onwheel=ce:ie.onmousewheel!==void 0?ie.onmousewheel=ce:ie.isAddedWheelEvent||(ie.isAddedWheelEvent=!0,ie.addEventListener("wheel",ce,{passive:!1}));else{var ye=ie.onwheel!==void 0?"wheel":"mousewheel";ie._onwheel&&ie.removeEventListener(ye,ie._onwheel),ie._onwheel=ce,ie.addEventListener(ye,ce,{passive:!1})}}function le(ie){var ce=[];for(var ye in ie)ce.push(ie[ye]);return ce}j.exports={makeDragBox:_,makeDragger:B,makeRectDragger:F,makeZoombox:re,makeCorners:ne,updateZoombox:ue,xyCorners:se,transitionZoombox:J,removeZoombox:X,showDoubleClickNotifier:oe,attachWheelEventHandler:K}},42464:function(j,H,e){var g=e(33428),P=e(93024),a=e(86476),x=e(93972),M=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;H.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){g.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var i=Object.keys(t._plots||{}).sort(function(u,f){if((t._plots[u].mainplot&&!0)===(t._plots[f].mainplot&&!0)){var l=u.split("y"),y=f.split("y");return l[0]===y[0]?Number(l[1]||1)-Number(y[1]||1):Number(l[0]||1)-Number(y[0]||1)}return t._plots[u].mainplot?1:-1});i.forEach(function(u){var f=t._plots[u],l=f.xaxis,y=f.yaxis;if(!f.mainplot){var h=M(r,f,l._offset,y._offset,l._length,y._length,"ns","ew");h.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===u&&r._fullLayout._plots[u]&&P.hover(r,o,u)},P.hover(r,o,u),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=u},h.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,a.unhover(r,o))},r._context.showAxisDragHandles&&(M(r,f,l._offset-v,y._offset-v,v,v,"n","w"),M(r,f,l._offset+l._length,y._offset-v,v,v,"n","e"),M(r,f,l._offset-v,y._offset+y._length,v,v,"s","w"),M(r,f,l._offset+l._length,y._offset+y._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(u===l._mainSubplot){var S=l._mainLinePosition;l.side==="top"&&(S-=v),M(r,f,l._offset+l._length*.1,S,l._length*.8,v,"","ew"),M(r,f,l._offset,S,l._length*.1,v,"","w"),M(r,f,l._offset+l._length*.9,S,l._length*.1,v,"","e")}if(u===y._mainSubplot){var c=y._mainLinePosition;y.side!=="right"&&(c-=v),M(r,f,c,y._offset+y._length*.1,v,y._length*.8,"ns",""),M(r,f,c,y._offset+y._length*.9,v,y._length*.1,"s",""),M(r,f,c,y._offset,v,y._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(u){u.target=r._fullLayout._lasthover,P.hover(r,u,t._hoversubplot)},n.onclick=function(u){u.target=r._fullLayout._lasthover,P.click(r,u)},n.onmousedown=function(u){r._fullLayout._lasthover.onmousedown(u)},H.updateFx(r)}},H.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";x(r._draggers,t)}},36632:function(j,H,e){var g=e(24040),P=e(3400),a=e(79811);j.exports=function(M){return function(p,r){var t=p[M];if(Array.isArray(t))for(var i=g.subplotsRegistry.cartesian,n=i.idRegex,u=r._subplots,f=u.xaxis,l=u.yaxis,y=u.cartesian,h=r._has("cartesian")||r._has("gl2d"),S=0;S<t.length;S++){var c=t[S];if(P.isPlainObject(c)){var o=a.cleanId(c.xref,"x",!1),d=a.cleanId(c.yref,"y",!1),w=n.x.test(o),A=n.y.test(d);if(w||A){h||P.pushUnique(r._basePlotModules,i);var C=!1;w&&f.indexOf(o)===-1&&(f.push(o),C=!0),A&&l.indexOf(d)===-1&&(l.push(d),C=!0),C&&w&&A&&y.push(o+d)}}}}}},57952:function(j,H,e){var g=e(33428),P=e(24040),a=e(3400),x=e(7316),M=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),i=a.ensureSingle;function n(S,c,o){return a.ensureSingle(S,c,o,function(d){d.datum(o)})}H.name="cartesian",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=r.idRegex,H.attrRegex=r.attrRegex,H.attributes=e(26720),H.layoutAttributes=e(94724),H.supplyLayoutDefaults=e(67352),H.transitionAxes=e(73736),H.finalizeSubplots=function(S,c){var o=c._subplots,d=o.xaxis,w=o.yaxis,A=o.cartesian,C=A.concat(o.gl2d||[]),m={},E={},b,s,L;for(b=0;b<C.length;b++){var T=C[b].split("y");m[T[0]]=1,E["y"+T[1]]=1}for(b=0;b<d.length;b++)s=d[b],m[s]||(L=(S[p.id2name(s)]||{}).anchor,r.idRegex.y.test(L)||(L="y"),A.push(s+L),C.push(s+L),E[L]||(E[L]=1,a.pushUnique(w,L)));for(b=0;b<w.length;b++)L=w[b],E[L]||(s=(S[p.id2name(L)]||{}).anchor,r.idRegex.x.test(s)||(s="x"),A.push(s+L),C.push(s+L),m[s]||(m[s]=1,a.pushUnique(d,s)));if(!C.length){s="",L="";for(var k in S)if(r.attrRegex.test(k)){var _=k.charAt(0);_==="x"?(!s||+k.substr(5)<+s.substr(5))&&(s=k):(!L||+k.substr(5)<+L.substr(5))&&(L=k)}s=s?p.name2id(s):"x",L=L?p.name2id(L):"y",d.push(s),w.push(L),A.push(s+L)}},H.plot=function(S,c,o,d){var w=S._fullLayout,A=w._subplots.cartesian,C=S.calcdata,m;if(!Array.isArray(c))for(c=[],m=0;m<C.length;m++)c.push(m);for(m=0;m<A.length;m++){for(var E=A[m],b=w._plots[E],s=[],L,T=0;T<C.length;T++){var k=C[T],_=k[0].trace;_.xaxis+_.yaxis===E&&((c.indexOf(_.index)!==-1||_.carpet)&&(L&&L[0].trace.xaxis+L[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&s.indexOf(L)===-1&&s.push(L),s.push(k)),L=k)}u(S,b,s,o,d)}};function u(S,c,o,d,w){for(var A=r.traceLayerClasses,C=S._fullLayout,m=C._modules,E,b,s,L=[],T=[],k=0;k<m.length;k++){E=m[k];var _=E.name,B=P.modules[_].categories;if(B.svg){var F=E.layerName||_+"layer",O=E.plot;b=v(o,O),s=b[0],o=b[1],s.length&&L.push({i:A.indexOf(F),className:F,plotMethod:O,cdModule:s}),B.zoomScale&&T.push("."+F)}}L.sort(function(V,W){return V.i-W.i});var N=c.plot.selectAll("g.mlayer").data(L,function(V){return V.className});if(N.enter().append("g").attr("class",function(V){return V.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),N.exit().remove(),N.order(),N.each(function(V){var W=g.select(this),$=V.className;V.plotMethod(S,c,V.cdModule,W,d,w),r.clipOnAxisFalseQuery.indexOf("."+$)===-1&&M.setClipUrl(W,c.layerClipId,S)}),C._has("scattergl")&&(E=P.getModule("scattergl"),s=v(o,E)[0],E.plot(S,c,s)),!S._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),T.length)){var z=c.plot.selectAll(T.join(",")).selectAll(".trace");c.zoomScalePts=z.selectAll("path.point"),c.zoomScaleTxt=z.selectAll(".textpoint")}}H.clean=function(S,c,o,d){var w=d._plots||{},A=c._plots||{},C=d._subplots||{},m,E,b;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(b in w)m=w[b],m.plotgroup&&m.plotgroup.remove();var s=d._has&&d._has("gl"),L=c._has&&c._has("gl");if(s&&!L)for(b in w)m=w[b],m._scene&&m._scene.destroy();if(C.xaxis&&C.yaxis){var T=p.listIds({_fullLayout:d});for(E=0;E<T.length;E++){var k=T[E];c[p.id2name(k)]||d._infolayer.selectAll(".g-"+k+"title").remove()}}var _=d._has&&d._has("cartesian"),B=c._has&&c._has("cartesian");if(_&&!B)y(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(E=0;E<C.cartesian.length;E++){var F=C.cartesian[E];if(!A[F]){var O="."+F+",."+F+"-x,."+F+"-y";d._cartesianlayer.selectAll(O).remove(),h(F,d)}}},H.drawFramework=function(S){var c=S._fullLayout,o=f(S),d=c._cartesianlayer.selectAll(".subplot").data(o,String);d.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),d.order(),d.exit().call(y,c),d.each(function(w){var A=w[0],C=c._plots[A];C.plotgroup=g.select(this),l(S,C),C.draglayer=i(c._draggers,"g",A)})},H.rangePlot=function(S,c,o){l(S,c),u(S,c,o),x.style(S)};function f(S){var c=S._fullLayout,o=c._subplots.cartesian,d=o.length,w,A,C,m,E,b,s=[],L=[];for(w=0;w<d;w++){C=o[w],m=c._plots[C],E=m.xaxis,b=m.yaxis;var T=E._mainAxis,k=b._mainAxis,_=T._id+k._id,B=c._plots[_];m.overlays=[],_!==C&&B?(m.mainplot=_,m.mainplotinfo=B,L.push(C)):(m.mainplot=void 0,m.mainplotinfo=void 0,s.push(C))}for(w=0;w<L.length;w++)C=L[w],m=c._plots[C],m.mainplotinfo.overlays.push(m);var F=s.concat(L),O=new Array(d);for(w=0;w<d;w++){C=F[w],m=c._plots[C],E=m.xaxis,b=m.yaxis;var N=[C,E.layer,b.layer,E.overlaying||"",b.overlaying||""];for(A=0;A<m.overlays.length;A++)N.push(m.overlays[A].id);O[w]=N}return O}function l(S,c){var o=c.plotgroup,d=c.id,w=r.layerValue2layerClass[c.xaxis.layer],A=r.layerValue2layerClass[c.yaxis.layer],C=S._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var E=c.mainplotinfo,b=E.plotgroup,s=d+"-x",L=d+"-y";c.minorGridlayer=E.minorGridlayer,c.gridlayer=E.gridlayer,c.zerolinelayer=E.zerolinelayer,i(E.overlinesBelow,"path",s),i(E.overlinesBelow,"path",L),i(E.overaxesBelow,"g",s),i(E.overaxesBelow,"g",L),c.plot=i(E.overplot,"g",d),i(E.overlinesAbove,"path",s),i(E.overlinesAbove,"path",L),i(E.overaxesAbove,"g",s),i(E.overaxesAbove,"g",L),c.xlines=b.select(".overlines-"+w).select("."+s),c.ylines=b.select(".overlines-"+A).select("."+L),c.xaxislayer=b.select(".overaxes-"+w).select("."+s),c.yaxislayer=b.select(".overaxes-"+A).select("."+L)}else if(C)c.xlines=i(o,"path","xlines-above"),c.ylines=i(o,"path","ylines-above"),c.xaxislayer=i(o,"g","xaxislayer-above"),c.yaxislayer=i(o,"g","yaxislayer-above");else{var m=i(o,"g","layer-subplot");c.shapelayer=i(m,"g","shapelayer"),c.imagelayer=i(m,"g","imagelayer"),c.minorGridlayer=i(o,"g","minor-gridlayer"),c.gridlayer=i(o,"g","gridlayer"),c.zerolinelayer=i(o,"g","zerolinelayer"),i(o,"path","xlines-below"),i(o,"path","ylines-below"),c.overlinesBelow=i(o,"g","overlines-below"),i(o,"g","xaxislayer-below"),i(o,"g","yaxislayer-below"),c.overaxesBelow=i(o,"g","overaxes-below"),c.plot=i(o,"g","plot"),c.overplot=i(o,"g","overplot"),c.xlines=i(o,"path","xlines-above"),c.ylines=i(o,"path","ylines-above"),c.overlinesAbove=i(o,"g","overlines-above"),i(o,"g","xaxislayer-above"),i(o,"g","yaxislayer-above"),c.overaxesAbove=i(o,"g","overaxes-above"),c.xlines=o.select(".xlines-"+w),c.ylines=o.select(".ylines-"+A),c.xaxislayer=o.select(".xaxislayer-"+w),c.yaxislayer=o.select(".yaxislayer-"+A)}C||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(T){return T[0]}).sort(p.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(T){return T[0]}).sort(p.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function y(S,c){if(S){var o={};S.each(function(E){var b=E[0],s=g.select(this);s.remove(),h(b,c),o[b]=!0});for(var d in c._plots)for(var w=c._plots[d],A=w.overlays||[],C=0;C<A.length;C++){var m=A[C];o[m.id]&&m.plot.selectAll(".trace").remove()}}}function h(S,c){c._draggers.selectAll("g."+S).remove(),c._defs.select("#clip"+c._uid+S+"plot").remove()}H.toSVG=function(S){var c=S._fullLayout._glimages,o=g.select(S).selectAll(".svg-container"),d=o.filter(function(A,C){return C===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function w(){var A=this,C=A.toDataURL("image/png"),m=c.append("svg:image");m.attr({xmlns:t.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})}d.each(w)},H.updateFx=e(42464).updateFx},94724:function(j,H,e){var g=e(25376),P=e(22548),a=e(98192).u,x=e(92880).extendFlat,M=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,i=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},u=x({},n,{values:n.values.slice().concat(["sync"])});function f(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},S={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=5),b}function o(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=1),b}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},w={valType:"color",dflt:P.lightLine,editType:"ticks"};function A(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=1),b}var C=x({},a,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};j.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[i,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:u,nticks:f(),tick0:l,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:S,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:o(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:x({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:w,gridwidth:A(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:f("minor"),tick0:l,dtick:y,tickvals:h,ticks:S,ticklen:c("minor"),tickwidth:o("minor"),tickcolor:d,gridcolor:w,gridwidth:A("minor"),griddash:C,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},67352:function(j,H,e){var g=e(3400),P=e(76308),a=e(10624).isUnifiedHover,x=e(41008),M=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),i=e(71888),n=e(37668),u=e(79811),f=u.id2name,l=u.name2id,y=e(33816).AX_ID_PATTERN,h=e(24040),S=h.traceIs,c=h.getComponentMethod;function o(d,w,A){Array.isArray(d[w])?d[w].push(A):d[w]=[A]}j.exports=function(w,A,C){var m=A.autotypenumbers,E={},b={},s={},L={},T={},k={},_={},B={},F={},O={},N,z;for(N=0;N<C.length;N++){var V=C[N];if(!(!S(V,"cartesian")&&!S(V,"gl2d"))){var W;if(V.xaxis)W=f(V.xaxis),o(E,W,V);else if(V.xaxes)for(z=0;z<V.xaxes.length;z++)o(E,f(V.xaxes[z]),V);var $;if(V.yaxis)$=f(V.yaxis),o(E,$,V);else if(V.yaxes)for(z=0;z<V.yaxes.length;z++)o(E,f(V.yaxes[z]),V);if(V.type==="funnel"?V.orientation==="h"?(W&&(b[W]=!0),$&&(_[$]=!0)):$&&(s[$]=!0):V.type==="image"?($&&(B[$]=!0),W&&(B[W]=!0)):($&&(T[$]=!0,k[$]=!0),(!S(V,"carpet")||V.type==="carpet"&&!V._cheater)&&W&&(L[W]=!0)),V.type==="carpet"&&V._cheater&&W&&(b[W]=!0),S(V,"2dMap")&&(F[W]=!0,F[$]=!0),S(V,"oriented")){var re=V.orientation==="h"?$:W;O[re]=!0}}}var ne=A._subplots,ue=ne.xaxis,J=ne.yaxis,X=g.simpleMap(ue,f),oe=g.simpleMap(J,f),Y=X.concat(oe),q=P.background;ue.length&&J.length&&(q=g.coerce(w,A,v,"plot_bgcolor"));var se=P.combine(q,A.paper_bgcolor),Q,K,le,ie,ce;function ye(){var Te=E[Q]||[];ce._traceIndices=Te.map(function(Oe){return Oe._expandedIndex}),ce._annIndices=[],ce._shapeIndices=[],ce._selectionIndices=[],ce._imgIndices=[],ce._subplotsWith=[],ce._counterAxes=[],ce._name=ce._attr=Q,ce._id=K}function Ce(Te,Oe){return g.coerce(ie,ce,p,Te,Oe)}function Ae(Te,Oe){return g.coerce2(ie,ce,p,Te,Oe)}function ke(Te){return Te==="x"?J:ue}function we(Te,Oe){for(var Ke=Te==="x"?X:oe,nt=[],pt=0;pt<Ke.length;pt++){var yt=Ke[pt];yt!==Oe&&!(w[yt]||{}).overlaying&&nt.push(l(yt))}return nt}var Ee={x:ke("x"),y:ke("y")},xe=Ee.x.concat(Ee.y),Pe={},Ue=[];function Be(){var Te=ie.matches;y.test(Te)&&xe.indexOf(Te)===-1&&(Pe[Te]=ie.type,Ue=Object.keys(Pe))}var Ne=x(w,A),Xe=a(Ne);for(N=0;N<Y.length;N++){Q=Y[N],K=l(Q),le=Q.charAt(0),g.isPlainObject(w[Q])||(w[Q]={}),ie=w[Q],ce=M.newContainer(A,Q,le+"axis"),ye();var ut=le==="x"&&!L[Q]&&b[Q]||le==="y"&&!T[Q]&&s[Q],dt=le==="y"&&(!k[Q]&&_[Q]||B[Q]),at={hasMinor:!0,letter:le,font:A.font,outerTicks:F[Q],showGrid:!O[Q],data:E[Q]||[],bgColor:se,calendar:A.calendar,automargin:!0,visibleDflt:ut,reverseDflt:dt,autotypenumbersDflt:m,splomStash:((A._splomAxes||{})[le]||{})[K],noAutotickangles:le==="y"};Ce("uirevision",A.uirevision),r(ie,ce,Ce,at),t(ie,ce,Ce,at,A);var We=Xe&&le===Ne.charAt(0),rt=Ae("spikecolor",Xe?ce.color:void 0),st=Ae("spikethickness",Xe?1.5:void 0),ht=Ae("spikedash",Xe?"dot":void 0),vt=Ae("spikemode",Xe?"across":void 0),At=Ae("spikesnap"),et=Ce("showspikes",!!We||!!rt||!!st||!!ht||!!vt||!!At);et||(delete ce.spikecolor,delete ce.spikethickness,delete ce.spikedash,delete ce.spikemode,delete ce.spikesnap);var _e=f(ie.overlaying),Ve=[0,1];if(A[_e]!==void 0){var Ze=f(A[_e].anchor);A[Ze]!==void 0&&(Ve=A[Ze].domain)}n(ie,ce,Ce,{letter:le,counterAxes:Ee[le],overlayableAxes:we(le,Q),grid:A.grid,overlayingDomain:Ve}),Ce("title.standoff"),Be(),ce._input=ie}for(N=0;N<Ue.length;){K=Ue[N++],Q=f(K),le=Q.charAt(0),g.isPlainObject(w[Q])||(w[Q]={}),ie=w[Q],ce=M.newContainer(A,Q,le+"axis"),ye();var He={letter:le,font:A.font,outerTicks:F[Q],showGrid:!O[Q],data:[],bgColor:se,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((A._splomAxes||{})[le]||{})[K]};Ce("uirevision",A.uirevision),ce.type=Pe[K]||"linear",t(ie,ce,Ce,He,A),n(ie,ce,Ce,{letter:le,counterAxes:Ee[le],overlayableAxes:we(le,Q),grid:A.grid}),Ce("fixedrange"),Be(),ce._input=ie}var Ie=c("rangeslider","handleDefaults"),be=c("rangeselector","handleDefaults");for(N=0;N<X.length;N++)Q=X[N],ie=w[Q],ce=A[Q],Ie(w,A,Q),ce.type==="date"&&be(ie,ce,A,oe,ce.calendar),Ce("fixedrange");for(N=0;N<oe.length;N++){Q=oe[N],ie=w[Q],ce=A[Q];var me=A[f(ce.anchor)],Me=c("rangeslider","isVisible")(me);Ce("fixedrange",Me)}i.handleDefaults(w,A,{axIds:xe.concat(Ue).sort(u.idSort),axHasImage:B})}},42136:function(j,H,e){var g=e(49760).mix,P=e(22548),a=e(3400);j.exports=function(M,v,p,r){r=r||{};var t=r.dfltColor;function i(s,L){return a.coerce2(M,v,r.attributes,s,L)}var n=i("linecolor",t),u=i("linewidth"),f=p("showline",r.showLine||!!n||!!u);f||(delete v.linecolor,delete v.linewidth);var l=g(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),y=i("gridcolor",l),h=i("gridwidth"),S=i("griddash"),c=p("showgrid",r.showGrid||!!y||!!h||!!S);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var o=g(v.gridcolor,r.bgColor,67).toRgbString(),d=i("minor.gridcolor",o),w=i("minor.gridwidth",v.gridwidth||1),A=i("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!w||!!A);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var m=i("zerolinecolor",t),E=i("zerolinewidth"),b=p("zeroline",r.showGrid||!!m||!!E);b||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(j,H,e){var g=e(38248),P=e(3400);j.exports=function(x,M,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],i=p.letter,n=p.grid,u=p.overlayingDomain,f,l,y,h,S,c;n&&(l=n._domains[i][n._axisMap[M._id]],f=n._anchors[M._id],l&&(y=n[i+"side"].split(" ")[0],h=n.domain[i][y==="right"||y==="top"?1:0])),l=l||[0,1],f=f||(g(x.position)?"free":r[0]||"free"),y=y||(i==="x"?"bottom":"left"),h=h||0,S=0,c=!1;var o=P.coerce(x,M,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:f}},"anchor"),d=P.coerce(x,M,{side:{valType:"enumerated",values:i==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(o==="free"){if(i==="y"){var w=v("autoshift");w&&(h=d==="left"?u[0]:u[1],c=M.automargin?M.automargin:!0,S=d==="left"?-3:3),v("shift",S)}v("position",h)}v("automargin",c);var A=!1;if(t.length&&(A=P.coerce(x,M,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!A){var C=v("domain",l);C[0]>C[1]-.000244140625&&(M.domain=l),P.noneOrAll(x.domain,M.domain,l),M.tickmode==="sync"&&(M.tickmode="auto")}return v("layer"),M}},42568:function(j,H,e){var g=e(85024);j.exports=function(a,x,M,v,p){p||(p={});var r=p.tickSuffixDflt,t=g(a),i=M("tickprefix");i&&M("showtickprefix",t);var n=M("ticksuffix",r);n&&M("showticksuffix",t)}},96312:function(j,H,e){var g=e(76808);j.exports=function(a,x,M,v){var p=x._template||{},r=x.type||p.type||"-";M("minallowed"),M("maxallowed");var t=M("range");if(!t){var i;!v.noInsiderange&&r!=="log"&&(i=M("insiderange"),i&&(i[0]===null||i[1]===null)&&(x.insiderange=!1,i=void 0),i&&(t=M("range",i)))}var n=x.getAutorangeDflt(t,v),u=M("autorange",n),f;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(u==="reversed"||u===!0)||t[0]!==null&&(u==="min"||u==="max reversed")||t[1]!==null&&(u==="max"||u==="min reversed"))&&(t=void 0,delete x.range,x.autorange=!0,f=!0),f||(n=x.getAutorangeDflt(t,v),u=M("autorange",n)),u&&(g(M,u,t),(r==="linear"||r==="-")&&M("rangemode")),x.cleanRange()}},21160:function(j,H,e){var g=e(84284).FROM_BL;j.exports=function(a,x,M){M===void 0&&(M=g[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],p=v[0]+(v[1]-v[0])*M;a.range=a._input.range=[a.l2r(p+(v[0]-p)*x),a.l2r(p+(v[1]-p)*x)],a.setScale()}},78344:function(j,H,e){var g=e(33428),P=e(94336).E9,a=e(3400),x=a.numberFormat,M=e(38248),v=a.cleanNumber,p=a.ms2DateTime,r=a.dateTime2ms,t=a.ensureNumber,i=a.isArrayOrTypedArray,n=e(39032),u=n.FP_SAFE,f=n.BADNUM,l=n.LOG_CLIP,y=n.ONEWEEK,h=n.ONEDAY,S=n.ONEHOUR,c=n.ONEMIN,o=n.ONESEC,d=e(79811),w=e(33816),A=w.HOUR_PATTERN,C=w.WEEKDAY_PATTERN;function m(b){return Math.pow(10,b)}function E(b){return b!=null}j.exports=function(s,L){L=L||{};var T=s._id||"x",k=T.charAt(0);function _(Y,q){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&q&&s.range&&s.range.length===2){var se=s.range[0],Q=s.range[1];return .5*(se+Q-2*l*Math.abs(se-Q))}else return f}function B(Y,q,se,Q){if((Q||{}).msUTC&&M(Y))return+Y;var K=r(Y,se||s.calendar);if(K===f)if(M(Y)){Y=+Y;var le=Math.floor(a.mod(Y+.05,1)*10),ie=Math.round(Y-le/10);K=r(new Date(ie))+le/10}else return f;return K}function F(Y,q,se){return p(Y,q,se||s.calendar)}function O(Y){return s._categories[Math.round(Y)]}function N(Y){if(E(Y)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[Y]!==void 0)return s._categoriesMap[Y];s._categories.push(typeof Y=="number"?String(Y):Y);var q=s._categories.length-1;return s._categoriesMap[Y]=q,q}return f}function z(Y,q){for(var se=new Array(q),Q=0;Q<q;Q++){var K=(Y[0]||[])[Q],le=(Y[1]||[])[Q];se[Q]=V([K,le])}return se}function V(Y){if(s._categoriesMap)return s._categoriesMap[Y]}function W(Y){var q=V(Y);if(q!==void 0)return q;if(M(Y))return+Y}function $(Y){return M(Y)?+Y:V(Y)}function re(Y,q,se){return g.round(se+q*Y,2)}function ne(Y,q,se){return(Y-se)/q}var ue=function(q){return M(q)?re(q,s._m,s._b):f},J=function(Y){return ne(Y,s._m,s._b)};if(s.rangebreaks){var X=k==="y";ue=function(Y){if(!M(Y))return f;var q=s._rangebreaks.length;if(!q)return re(Y,s._m,s._b);var se=X;s.range[0]>s.range[1]&&(se=!se);for(var Q=se?-1:1,K=Q*Y,le=0,ie=0;ie<q;ie++){var ce=Q*s._rangebreaks[ie].min,ye=Q*s._rangebreaks[ie].max;if(K<ce)break;if(K>ye)le=ie+1;else{le=K<(ce+ye)/2?ie:ie+1;break}}var Ce=s._B[le]||0;return isFinite(Ce)?re(Y,s._m2,Ce):0},J=function(Y){var q=s._rangebreaks.length;if(!q)return ne(Y,s._m,s._b);for(var se=0,Q=0;Q<q&&!(Y<s._rangebreaks[Q].pmin);Q++)Y>s._rangebreaks[Q].pmax&&(se=Q+1);return ne(Y,s._m2,s._B[se])}}s.c2l=s.type==="log"?_:t,s.l2c=s.type==="log"?m:t,s.l2p=ue,s.p2l=J,s.c2p=s.type==="log"?function(Y,q){return ue(_(Y,q))}:ue,s.p2c=s.type==="log"?function(Y){return m(J(Y))}:J,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(Y){return s.l2p(v(Y))},s.p2d=s.p2r=J,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(Y,q){return _(v(Y),q)},s.r2d=s.r2c=function(Y){return m(v(Y))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=_,s.l2d=m,s.d2p=function(Y,q){return s.l2p(s.d2r(Y,q))},s.p2d=function(Y){return m(J(Y))},s.r2p=function(Y){return s.l2p(v(Y))},s.p2r=J,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=a.identity,s.d2c=s.r2c=s.d2l=s.r2l=B,s.c2d=s.c2r=s.l2d=s.l2r=F,s.d2p=s.r2p=function(Y,q,se){return s.l2p(B(Y,0,se))},s.p2d=s.p2r=function(Y,q,se){return F(J(Y),q,se)},s.cleanPos=function(Y){return a.cleanDate(Y,f,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=N,s.r2d=s.c2d=s.l2d=O,s.d2r=s.d2l_noadd=W,s.r2c=function(Y){var q=$(Y);return q!==void 0?q:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=$,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return O(J(Y))},s.r2p=s.d2p,s.p2r=J,s.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=O,s.d2r=s.d2l_noadd=W,s.r2c=function(Y){var q=W(Y);return q!==void 0?q:s.fraction2r(.5)},s.r2c_just_indices=V,s.l2r=s.c2r=t,s.r2l=W,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return O(J(Y))},s.r2p=s.d2p,s.p2r=J,s.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},s.setupMultiCategory=function(Y){var q=s._traceIndices,se,Q,K=s._matchGroup;if(K&&s._categories.length===0){for(var le in K)if(le!==T){var ie=L[d.id2name(le)];q=q.concat(ie._traceIndices)}}var ce=[[0,{}],[0,{}]],ye=[];for(se=0;se<q.length;se++){var Ce=Y[q[se]];if(k in Ce){var Ae=Ce[k],ke=Ce._length||a.minRowLength(Ae);if(i(Ae[0])&&i(Ae[1]))for(Q=0;Q<ke;Q++){var we=Ae[0][Q],Ee=Ae[1][Q];E(we)&&E(Ee)&&(ye.push([we,Ee]),we in ce[0][1]||(ce[0][1][we]=ce[0][0]++),Ee in ce[1][1]||(ce[1][1][Ee]=ce[1][0]++))}}}for(ye.sort(function(xe,Pe){var Ue=ce[0][1],Be=Ue[xe[0]]-Ue[Pe[0]];if(Be)return Be;var Ne=ce[1][1];return Ne[xe[1]]-Ne[Pe[1]]}),se=0;se<ye.length;se++)N(ye[se])}),s.fraction2r=function(Y){var q=s.r2l(s.range[0]),se=s.r2l(s.range[1]);return s.l2r(q+Y*(se-q))},s.r2fraction=function(Y){var q=s.r2l(s.range[0]),se=s.r2l(s.range[1]);return(s.r2l(Y)-q)/(se-q)},s.limitRange=function(Y){var q=s.minallowed,se=s.maxallowed;if(!(q===void 0&&se===void 0)){Y||(Y="range");var Q=a.nestedProperty(s,Y).get(),K=a.simpleMap(Q,s.r2l),le=K[1]<K[0];le&&K.reverse();var ie=a.simpleMap([q,se],s.r2l);if(q!==void 0&&K[0]<ie[0]&&(Q[le?1:0]=q),se!==void 0&&K[1]>ie[1]&&(Q[le?0:1]=se),Q[0]===Q[1]){var ce=s.l2r(q),ye=s.l2r(se);if(q!==void 0){var Ce=ce+1;se!==void 0&&(Ce=Math.min(Ce,ye)),Q[le?1:0]=Ce}if(se!==void 0){var Ae=ye+1;q!==void 0&&(Ae=Math.max(Ae,ce)),Q[le?0:1]=Ae}}}},s.cleanRange=function(Y,q){s._cleanRange(Y,q),s.limitRange(Y)},s._cleanRange=function(Y,q){q||(q={}),Y||(Y="range");var se=a.nestedProperty(s,Y).get(),Q,K;if(s.type==="date"?K=a.dfltRange(s.calendar):k==="y"?K=w.DFLTRANGEY:s._name==="realaxis"?K=[0,1]:K=q.dfltRange||w.DFLTRANGEX,K=K.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&(K[0]=0),!se||se.length!==2){a.nestedProperty(s,Y).set(K);return}var le=se[0]===null,ie=se[1]===null;for(s.type==="date"&&!s.autorange&&(se[0]=a.cleanDate(se[0],f,s.calendar),se[1]=a.cleanDate(se[1],f,s.calendar)),Q=0;Q<2;Q++)if(s.type==="date"){if(!a.isDateTime(se[Q],s.calendar)){s[Y]=K;break}if(s.r2l(se[0])===s.r2l(se[1])){var ce=a.constrain(s.r2l(se[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);se[0]=s.l2r(ce-1e3),se[1]=s.l2r(ce+1e3);break}}else{if(!M(se[Q]))if(!(le||ie)&&M(se[1-Q]))se[Q]=se[1-Q]*(Q?10:.1);else{s[Y]=K;break}if(se[Q]<-u?se[Q]=-u:se[Q]>u&&(se[Q]=u),se[0]===se[1]){var ye=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=ye,se[1]+=ye}}},s.setScale=function(Y){var q=L._size;if(s.overlaying){var se=d.getFromId({_fullLayout:L},s.overlaying);s.domain=se.domain}var Q=Y&&s._r?"_r":"range",K=s.calendar;s.cleanRange(Q);var le=s.r2l(s[Q][0],K),ie=s.r2l(s[Q][1],K),ce=k==="y";if(ce?(s._offset=q.t+(1-s.domain[1])*q.h,s._length=q.h*(s.domain[1]-s.domain[0]),s._m=s._length/(le-ie),s._b=-s._m*ie):(s._offset=q.l+s.domain[0]*q.w,s._length=q.w*(s.domain[1]-s.domain[0]),s._m=s._length/(ie-le),s._b=-s._m*le),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var ye,Ce;if(s._rangebreaks=s.locateBreaks(Math.min(le,ie),Math.max(le,ie)),s._rangebreaks.length){for(ye=0;ye<s._rangebreaks.length;ye++)Ce=s._rangebreaks[ye],s._lBreaks+=Math.abs(Ce.max-Ce.min);var Ae=ce;le>ie&&(Ae=!Ae),Ae&&s._rangebreaks.reverse();var ke=Ae?-1:1;for(s._m2=ke*s._length/(Math.abs(ie-le)-s._lBreaks),s._B.push(-s._m2*(ce?ie:le)),ye=0;ye<s._rangebreaks.length;ye++)Ce=s._rangebreaks[ye],s._B.push(s._B[s._B.length-1]-ke*s._m2*(Ce.max-Ce.min));for(ye=0;ye<s._rangebreaks.length;ye++)Ce=s._rangebreaks[ye],Ce.pmin=ue(Ce.min),Ce.pmax=ue(Ce.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw L._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(Y){var q=s.rangebreaks||[],se,Q,K,le,ie;q._cachedPatterns||(q._cachedPatterns=q.map(function(Ue){return Ue.enabled&&Ue.bounds?a.simpleMap(Ue.bounds,Ue.pattern?v:s.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(Ue){return Ue.enabled&&Ue.values?a.simpleMap(Ue.values,s.d2c).sort(a.sorterAsc):null}));for(var ce=0;ce<q.length;ce++){var ye=q[ce];if(ye.enabled){if(ye.bounds){var Ce=ye.pattern;switch(se=q._cachedPatterns[ce],Q=se[0],K=se[1],Ce){case C:ie=new Date(Y),le=ie.getUTCDay(),Q>K&&(K+=7,le<Q&&(le+=7));break;case A:ie=new Date(Y);var Ae=ie.getUTCHours(),ke=ie.getUTCMinutes(),we=ie.getUTCSeconds(),Ee=ie.getUTCMilliseconds();le=Ae+(ke/60+we/3600+Ee/36e5),Q>K&&(K+=24,le<Q&&(le+=24));break;case"":le=Y;break}if(le>=Q&&le<K)return f}else for(var xe=q._cachedValues[ce],Pe=0;Pe<xe.length;Pe++)if(Q=xe[Pe],K=Q+ye.dvalue,Y>=Q&&Y<K)return f}}return Y},s.locateBreaks=function(Y,q){var se,Q,K,le,ie=[];if(!s.rangebreaks)return ie;var ce=s.rangebreaks.slice().sort(function(Ne,Xe){return Ne.pattern===C&&Xe.pattern===A?-1:Xe.pattern===C&&Ne.pattern===A?1:0}),ye=function(Ne,Xe){if(Ne=a.constrain(Ne,Y,q),Xe=a.constrain(Xe,Y,q),Ne!==Xe){for(var ut=!0,dt=0;dt<ie.length;dt++){var at=ie[dt];Ne<at.max&&Xe>=at.min&&(Ne<at.min&&(at.min=Ne),Xe>at.max&&(at.max=Xe),ut=!1)}ut&&ie.push({min:Ne,max:Xe})}};for(se=0;se<ce.length;se++){var Ce=ce[se];if(Ce.enabled)if(Ce.bounds){var Ae=Y,ke=q;Ce.pattern&&(Ae=Math.floor(Ae)),Q=a.simpleMap(Ce.bounds,Ce.pattern?v:s.r2l),K=Q[0],le=Q[1];var we=new Date(Ae),Ee,xe;switch(Ce.pattern){case C:xe=y,Ee=((le<K?7:0)+(le-K))*h,Ae+=K*h-(we.getUTCDay()*h+we.getUTCHours()*S+we.getUTCMinutes()*c+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;case A:xe=h,Ee=((le<K?24:0)+(le-K))*S,Ae+=K*S-(we.getUTCHours()*S+we.getUTCMinutes()*c+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;default:Ae=Math.min(Q[0],Q[1]),ke=Math.max(Q[0],Q[1]),xe=ke-Ae,Ee=xe}for(var Pe=Ae;Pe<ke;Pe+=xe)ye(Pe,Pe+Ee)}else for(var Ue=a.simpleMap(Ce.values,s.d2c),Be=0;Be<Ue.length;Be++)K=Ue[Be],le=K+Ce.dvalue,ye(K,le)}return ie.sort(function(Ne,Xe){return Ne.min-Xe.min}),ie},s.makeCalcdata=function(Y,q,se){var Q,K,le,ie,ce=s.type,ye=ce==="date"&&Y[q+"calendar"];if(q in Y){if(Q=Y[q],ie=Y._length||a.minRowLength(Q),a.isTypedArray(Q)&&(ce==="linear"||ce==="log")){if(ie===Q.length)return Q;if(Q.subarray)return Q.subarray(0,ie)}if(ce==="multicategory")return z(Q,ie);for(K=new Array(ie),le=0;le<ie;le++)K[le]=s.d2c(Q[le],0,ye,se)}else{var Ce=q+"0"in Y?s.d2c(Y[q+"0"],0,ye):0,Ae=Y["d"+q]?Number(Y["d"+q]):1;for(Q=Y[{x:"y",y:"x"}[q]],ie=Y._length||Q.length,K=new Array(ie),le=0;le<ie;le++)K[le]=Ce+le*Ae}if(s.rangebreaks)for(le=0;le<ie;le++)K[le]=s.maskBreaks(K[le]);return K},s.isValidRange=function(Y,q){return Array.isArray(Y)&&Y.length===2&&(q&&Y[0]===null||M(s.r2l(Y[0])))&&(q&&Y[1]===null||M(s.r2l(Y[1])))},s.getAutorangeDflt=function(Y,q){var se=!s.isValidRange(Y,"nullOk");return se&&q&&q.reverseDflt?se="reversed":Y&&(Y[0]===null&&Y[1]===null?se=!0:Y[0]===null&&Y[1]!==null?se="min":Y[0]!==null&&Y[1]===null&&(se="max")),se},s.isReversed=function(){var Y=s.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},s.isPtWithinRange=function(Y,q){var se=s.c2l(Y[k],null,q),Q=s.r2l(s.range[0]),K=s.r2l(s.range[1]);return Q<K?Q<=se&&se<=K:K<=se&&se<=Q},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var Y=s._matchGroup;if(Y){var q=null,se=null;for(var Q in Y){var K=L[d.id2name(Q)];if(K._categories){q=K._categories,se=K._categoriesMap;break}}q&&se?(s._categories=q,s._categoriesMap=se):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var le=0;le<s._initialCategories.length;le++)N(s._initialCategories[le])},s.sortByInitialCategories=function(){var Y=[];if(s._emptyCategories(),s._initialCategories)for(var q=0;q<s._initialCategories.length;q++)N(s._initialCategories[q]);Y=Y.concat(s._traceIndices);var se=s._matchGroup;for(var Q in se)if(T!==Q){var K=L[d.id2name(Q)];K._categories=s._categories,K._categoriesMap=s._categoriesMap,Y=Y.concat(K._traceIndices)}return Y};var oe=L._d3locale;s.type==="date"&&(s._dateFormat=oe?oe.timeFormat:P,s._extraFormat=L._extraFormat),s._separators=L.separators,s._numFormat=oe?oe.numberFormat:x,delete s._minDtick,delete s._forceTick0}},85024:function(j){j.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],P=g.filter(function(x){return e[x]!==void 0}),a=function(x){return e[x]===e[P[0]]};if(P.every(a)||P.length===1)return e[P[0]]}},95936:function(j,H,e){var g=e(3400),P=e(76308).contrast,a=e(94724),x=e(85024),M=e(51272);j.exports=function(r,t,i,n,u){u||(u={});var f=i("labelalias");g.isPlainObject(f)||delete t.labelalias;var l=x(r),y=i("showticklabels");if(y){var h=u.font||{},S=t.color,c=t.ticklabelposition||"",o=c.indexOf("inside")!==-1?P(u.bgColor):S&&S!==a.color.dflt?S:h.color;if(g.coerceFont(i,"tickfont",{family:h.family,size:h.size,color:o}),!u.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&i("ticklabelstep"),!u.noAng){var d=i("tickangle");!u.noAutotickangles&&d==="auto"&&i("autotickangles")}if(n!=="category"){var w=i("tickformat");M(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!u.noExp&&!w&&n!=="date"&&(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}};function v(p,r){function t(n,u){return g.coerce(p,r,a.tickformatstops,n,u)}var i=t("enabled");i&&(t("dtickrange"),t("value"))}},25404:function(j,H,e){var g=e(3400),P=e(94724);j.exports=function(x,M,v,p){var r=p.isMinor,t=r?x.minor||{}:x,i=r?M.minor:M,n=r?P.minor:P,u=r?"minor.":"",f=g.coerce2(t,i,n,"ticklen",r?(M.ticklen||5)*.6:void 0),l=g.coerce2(t,i,n,"tickwidth",r?M.tickwidth||1:void 0),y=g.coerce2(t,i,n,"tickcolor",(r?M.tickcolor:void 0)||i.color),h=v(u+"ticks",!r&&p.outerTicks||f||l||y?"outside":"");h||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(j,H,e){var g=e(98728),P=e(3400).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,x=e(38116).decodeTypedArraySpec;j.exports=function(v,p,r,t,i){i||(i={});var n=i.isMinor,u=n?v.minor||{}:v,f=n?p.minor:p,l=n?"minor.":"";function y(C){var m=u[C];return a(m)&&(m=x(m)),m!==void 0?m:(f._template||{})[C]}var h=y("tick0"),S=y("dtick"),c=y("tickvals"),o=P(c)?"array":S?"linear":"auto",d=r(l+"tickmode",o);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var w=f.dtick=g.dtick(S,t);f.tick0=g.tick0(h,t,p.calendar,w)}else if(t!=="multicategory"){var A=r(l+"tickvals");A===void 0?f.tickmode="auto":n||r("ticktext")}}},73736:function(j,H,e){var g=e(33428),P=e(24040),a=e(3400),x=e(43616),M=e(54460);j.exports=function(p,r,t,i){var n=p._fullLayout;if(r.length===0){M.redrawComponents(p);return}function u(A){var C=A.xaxis,m=A.yaxis;n._defs.select("#"+A.clipId+"> rect").call(x.setTranslate,0,0).call(x.setScale,1,1),A.plot.call(x.setTranslate,C._offset,m._offset).call(x.setScale,1,1);var E=A.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(x.setPointGroupScale,1,1),E.selectAll(".textpoint").call(x.setTextPointsScale,1,1),E.call(x.hideOutsideRangePoints,A)}function f(A,C){var m=A.plotinfo,E=m.xaxis,b=m.yaxis,s=E._length,L=b._length,T=!!A.xr1,k=!!A.yr1,_=[];if(T){var B=a.simpleMap(A.xr0,E.r2l),F=a.simpleMap(A.xr1,E.r2l),O=B[1]-B[0],N=F[1]-F[0];_[0]=(B[0]*(1-C)+C*F[0]-B[0])/(B[1]-B[0])*s,_[2]=s*(1-C+C*N/O),E.range[0]=E.l2r(B[0]*(1-C)+C*F[0]),E.range[1]=E.l2r(B[1]*(1-C)+C*F[1])}else _[0]=0,_[2]=s;if(k){var z=a.simpleMap(A.yr0,b.r2l),V=a.simpleMap(A.yr1,b.r2l),W=z[1]-z[0],$=V[1]-V[0];_[1]=(z[1]*(1-C)+C*V[1]-z[1])/(z[0]-z[1])*L,_[3]=L*(1-C+C*$/W),b.range[0]=E.l2r(z[0]*(1-C)+C*V[0]),b.range[1]=b.l2r(z[1]*(1-C)+C*V[1])}else _[1]=0,_[3]=L;M.drawOne(p,E,{skipTitle:!0}),M.drawOne(p,b,{skipTitle:!0}),M.redrawComponents(p,[E._id,b._id]);var re=T?s/_[2]:1,ne=k?L/_[3]:1,ue=T?_[0]:0,J=k?_[1]:0,X=T?_[0]/_[2]*s:0,oe=k?_[1]/_[3]*L:0,Y=E._offset-X,q=b._offset-oe;m.clipRect.call(x.setTranslate,ue,J).call(x.setScale,1/re,1/ne),m.plot.call(x.setTranslate,Y,q).call(x.setScale,re,ne),x.setPointGroupScale(m.zoomScalePts,1/re,1/ne),x.setTextPointsScale(m.zoomScaleTxt,1/re,1/ne)}var l;i&&(l=i());function y(){for(var A={},C=0;C<r.length;C++){var m=r[C],E=m.plotinfo.xaxis,b=m.plotinfo.yaxis;m.xr1&&(A[E._name+".range"]=m.xr1.slice()),m.yr1&&(A[b._name+".range"]=m.yr1.slice())}return l&&l(),P.call("relayout",p,A).then(function(){for(var s=0;s<r.length;s++)u(r[s].plotinfo)})}function h(){for(var A={},C=0;C<r.length;C++){var m=r[C],E=m.plotinfo.xaxis,b=m.plotinfo.yaxis;m.xr0&&(A[E._name+".range"]=m.xr0.slice()),m.yr0&&(A[b._name+".range"]=m.yr0.slice())}return P.call("relayout",p,A).then(function(){for(var s=0;s<r.length;s++)u(r[s].plotinfo)})}var S,c,o,d=g.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function w(){c=Date.now();for(var A=Math.min(1,(c-S)/t.duration),C=d(A),m=0;m<r.length;m++)f(r[m],C);c-S>t.duration?(y(),o=window.cancelAnimationFrame(w)):o=window.requestAnimationFrame(w)}return S=Date.now(),o=window.requestAnimationFrame(w),Promise.resolve()}},14944:function(j,H,e){var g=e(24040).traceIs,P=e(52976);j.exports=function(r,t,i,n){i("autotypenumbers",n.autotypenumbersDflt);var u=i("type",(n.splomStash||{}).type);u==="-"&&(a(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function a(p,r){if(p.type==="-"){var t=p._id,i=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=i);var u=x(r,t,i);if(u){if(u.type==="histogram"&&i==={v:"y",h:"x"}[u.orientation||"v"]){p.type="linear";return}var f=i+"calendar",l=u[f],y={noMultiCategory:!g(u,"cartesian")||g(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&i==={h:"x",v:"y"}[u.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=p.autotypenumbers,v(u,i)){var h=M(u),S=[];for(n=0;n<r.length;n++){var c=r[n];!g(c,"box-violin")||(c[i+"axis"]||i)!==t||(c[h]!==void 0?S.push(c[h][0]):c.name!==void 0?S.push(c.name):S.push("text"),c[f]!==l&&(l=void 0))}p.type=P(S,l,y)}else if(u.type==="splom"){var o=u.dimensions,d=o[u._axesDim[t]];d.visible&&(p.type=P(d.values,l,y))}else p.type=P(u[i]||[u[i+"0"]],l,y)}}}function x(p,r,t){for(var i=0;i<p.length;i++){var n=p[i];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function M(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=M(p),i=g(p,"box-violin"),n=g(p._fullInput||{},"candlestick");return i&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(j,H,e){var g=e(24040),P=e(3400);H.manageCommandObserver=function(r,t,i,n){var u={},f=!0;t&&t._commandObserver&&(u=t._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var l=H.hasSimpleAPICommandBindings(r,i,u.lookupTable);if(t&&t._commandObserver){if(l)return u;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,u}if(l){a(r,l,u.cache),u.check=function(){if(f){var c=a(r,l,u.cache);return c.changed&&n&&u.lookupTable[c.value]!==void 0&&(u.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:u.lookupTable[c.value]})).then(u.enable,u.enable)),c.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<y.length;h++)r._internalOn(y[h],u.check);u.remove=function(){for(var S=0;S<y.length;S++)r._removeInternalListener(y[S],u.check)}}else P.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){f=!1},u.enable=function(){f=!0},t&&(t._commandObserver=u),u},H.hasSimpleAPICommandBindings=function(r,t,i){var n,u=t.length,f;for(n=0;n<u;n++){var l,y=t[n],h=y.method,S=y.args;if(Array.isArray(S)||(S=[]),!h)return!1;var c=H.computeAPICommandBindings(r,h,S);if(c.length!==1)return!1;if(!f)f=c[0],Array.isArray(f.traces)&&f.traces.sort();else{if(l=c[0],l.type!==f.type||l.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var o=0;o<f.traces.length;o++)if(f.traces[o]!==l.traces[o])return!1}else return!1;else if(l.prop!==f.prop)return!1}l=c[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;i&&(i[d]=n)}return f};function a(r,t,i){var n,u,f,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return u=P.nestedProperty(n,t.prop).get(),f=i[t.type]=i[t.type]||{},f.hasOwnProperty(t.prop)&&f[t.prop]!==u&&(l=!0),f[t.prop]=u,{changed:l,value:u}}H.executeAPICommand=function(r,t,i){if(t==="skip")return Promise.resolve();var n=g.apiMethodRegistry[t],u=[r];Array.isArray(i)||(i=[]);for(var f=0;f<i.length;f++)u.push(i[f]);return n.apply(null,u).catch(function(l){return P.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},H.computeAPICommandBindings=function(r,t,i){var n;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=v(r,i);break;case"relayout":n=M(r,i);break;case"update":n=v(r,[i[0],i[2]]).concat(M(r,[i[1]]));break;case"animate":n=x(r,i);break;default:n=[]}return n};function x(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function M(r,t){var i=[],n=t[0],u={};if(typeof n=="string")u[n]=t[1];else if(P.isPlainObject(n))u=n;else return i;return p(u,function(f,l,y){i.push({type:"layout",prop:f,value:y})},"",0),i}function v(r,t){var i,n,u,f,l=[];if(n=t[0],u=t[1],i=t[2],f={},typeof n=="string")f[n]=u;else if(P.isPlainObject(n))f=n,i===void 0&&(i=u);else return l;return i===void 0&&(i=null),p(f,function(y,h,S){var c,o;if(Array.isArray(S)){o=S.slice();var d=Math.min(o.length,r.data.length);i&&(d=Math.min(d,i.length)),c=[];for(var w=0;w<d;w++)c[w]=i?i[w]:w}else o=S,c=i?i.slice():null;if(c===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(c)){if(!Array.isArray(o)){var A=o;o=[];for(var C=0;C<c.length;C++)o[C]=A}o.length=Math.min(c.length,o.length)}l.push({type:"data",prop:y,traces:c,value:o})},"",0),l}function p(r,t,i,n){Object.keys(r).forEach(function(u){var f=r[u];if(u[0]!=="_"){var l=i+(n>0?".":"")+u;P.isPlainObject(f)?p(f,t,l,n+1):t(l,u,f)}})}},86968:function(j,H,e){var g=e(92880).extendFlat;H.u=function(P,a){P=P||{},a=a||{};var x={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,a.description&&""+a.description;var M={x:g({},x,{}),y:g({},x,{}),editType:P.editType};return P.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:P.editType},M.column={valType:"integer",min:0,dflt:0,editType:P.editType}),M},H.Q=function(P,a,x,M){var v=M&&M.x||[0,1],p=M&&M.y||[0,1],r=a.grid;if(r){var t=x("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var i=x("domain.row");i!==void 0&&(i<r.rows?p=r._domains.y[i]:delete P.domain.row)}var n=x("domain.x",v),u=x("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),u[0]<u[1]||(P.domain.y=p.slice())}},25376:function(j){j.exports=function(H){var e=H.editType,g=H.colorEditType;g===void 0&&(g=e);var P={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:g},editType:e};return H.autoSize&&(P.size.dflt="auto"),H.autoColor&&(P.color.dflt="auto"),H.arrayOk&&(P.family.arrayOk=!0,P.size.arrayOk=!0,P.color.arrayOk=!0),P}},16672:function(j){j.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(j,H){H.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},H.axesNames=["lonaxis","lataxis"],H.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},H.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},H.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},H.clipPad=.001,H.precision=.1,H.landColor="#F0DC82",H.waterColor="#3399FF",H.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},H.sphereSVG={type:"Sphere"},H.fillLayers={ocean:1,land:1,lakes:1},H.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},H.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],H.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],H.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(j,H,e){var g=e(33428),P=e(83356),a=P.geoPath,x=P.geoDistance,M=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),i=e(43616),n=e(93024),u=e(7316),f=e(54460),l=e(19280).getAutoRange,y=e(86476),h=e(22676).prepSelect,S=e(22676).clearOutline,c=e(22676).selectOnClick,o=e(79248),d=e(79552),w=e(27144),A=e(59972),C=e(55712).NO;function m(T){this.id=T.id,this.graphDiv=T.graphDiv,this.container=T.container,this.topojsonURL=T.topojsonURL,this.isStatic=T.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=m.prototype;j.exports=function(k){return new m(k)},E.plot=function(T,k,_,B){var F=this;if(B)return F.update(T,k,!0);F._geoCalcData=T,F._fullLayout=k;var O=k[this.id],N=[],z=!1;for(var V in d.layerNameToAdjective)if(V!=="frame"&&O["show"+V]){z=!0;break}for(var W=!1,$=0;$<T.length;$++){var re=T[0][0].trace;re._geo=F,re.locationmode&&(z=!0);var ne=re.marker;if(ne){var ue=ne.angle,J=ne.angleref;(ue||J==="north"||J==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,z){var X=A.getTopojsonName(O);(F.topojson===null||X!==F.topojsonName)&&(F.topojsonName=X,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&N.push(F.fetchTopojson()))}N=N.concat(w.fetchTraceGeoData(T)),_.push(new Promise(function(oe,Y){Promise.all(N).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(T,k),oe()}).catch(Y)}))},E.fetchTopojson=function(){var T=this,k=A.getTopojsonPath(T.topojsonURL,T.topojsonName);return new Promise(function(_,B){g.json(k,function(F,O){if(F)return F.status===404?B(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):B(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[T.topojsonName]=O,_()})})},E.update=function(T,k,_){var B=k[this.id];this.hasChoropleth=!1;for(var F=0;F<T.length;F++){var O=T[F],N=O[0].trace;N.type==="choropleth"&&(this.hasChoropleth=!0),N.visible===!0&&N._length>0&&N._module.calcGeoJSON(O,k)}if(!_){var z=this.updateProjection(T,k);if(z)return;(!this.viewInitial||this.scope!==B.scope)&&this.saveViewInitial(B)}this.scope=B.scope,this.updateBaseLayers(k,B),this.updateDims(k,B),this.updateFx(k,B),u.generalUpdatePerTraceModule(this.graphDiv,this,T,B);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},E.updateProjection=function(T,k){var _=this.graphDiv,B=k[this.id],F=k._size,O=B.domain,N=B.projection,z=B.lonaxis,V=B.lataxis,W=z._ax,$=V._ax,re=this.projection=b(B),ne=[[F.l+F.w*O.x[0],F.t+F.h*(1-O.y[1])],[F.l+F.w*O.x[1],F.t+F.h*(1-O.y[0])]],ue=B.center||{},J=N.rotation||{},X=z.range||[],oe=V.range||[];if(B.fitbounds){W._length=ne[1][0]-ne[0][0],$._length=ne[1][1]-ne[0][1],W.range=l(_,W),$.range=l(_,$);var Y=(W.range[0]+W.range[1])/2,q=($.range[0]+$.range[1])/2;if(B._isScoped)ue={lon:Y,lat:q};else if(B._isClipped){ue={lon:Y,lat:q},J={lon:Y,lat:q,roll:J.roll};var se=N.type,Q=d.lonaxisSpan[se]/2||180,K=d.lataxisSpan[se]/2||90;X=[Y-Q,Y+Q],oe=[q-K,q+K]}else ue={lon:Y,lat:q},J={lon:Y,lat:J.lat,roll:J.roll}}re.center([ue.lon-J.lon,ue.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(N.parallels);var le=L(X,oe);re.fitExtent(ne,le);var ie=this.bounds=re.getBounds(le),ce=this.fitScale=re.scale(),ye=re.translate();if(B.fitbounds){var Ce=re.getBounds(L(W.range,$.range)),Ae=Math.min((ie[1][0]-ie[0][0])/(Ce[1][0]-Ce[0][0]),(ie[1][1]-ie[0][1])/(Ce[1][1]-Ce[0][1]));isFinite(Ae)?re.scale(Ae*ce):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else re.scale(N.scale*ce);var ke=this.midPt=[(ie[0][0]+ie[1][0])/2,(ie[0][1]+ie[1][1])/2];if(re.translate([ye[0]+(ke[0]-ye[0]),ye[1]+(ke[1]-ye[1])]).clipExtent(ie),B._isAlbersUsa){var we=re([ue.lon,ue.lat]),Ee=re.translate();re.translate([Ee[0]-(we[0]-Ee[0]),Ee[1]-(we[1]-Ee[1])])}},E.updateBaseLayers=function(T,k){var _=this,B=_.topojson,F=_.layers,O=_.basePaths;function N(ne){return ne==="lonaxis"||ne==="lataxis"}function z(ne){return!!d.lineLayers[ne]}function V(ne){return!!d.fillLayers[ne]}var W=this.hasChoropleth?d.layersForChoropleth:d.layers,$=W.filter(function(ne){return z(ne)||V(ne)?k["show"+ne]:N(ne)?k[ne].showgrid:!0}),re=_.framework.selectAll(".layer").data($,String);re.exit().each(function(ne){delete F[ne],delete O[ne],g.select(this).remove()}),re.enter().append("g").attr("class",function(ne){return"layer "+ne}).each(function(ne){var ue=F[ne]=g.select(this);ne==="bg"?_.bgRect=ue.append("rect").style("pointer-events","all"):N(ne)?O[ne]=ue.append("path").style("fill","none"):ne==="backplot"?ue.append("g").classed("choroplethlayer",!0):ne==="frontplot"?ue.append("g").classed("scatterlayer",!0):z(ne)?O[ne]=ue.append("path").style("fill","none").style("stroke-miterlimit",2):V(ne)&&(O[ne]=ue.append("path").style("stroke","none"))}),re.order(),re.each(function(ne){var ue=O[ne],J=d.layerNameToAdjective[ne];ne==="frame"?ue.datum(d.sphereSVG):z(ne)||V(ne)?ue.datum(C(B,B.objects[ne])):N(ne)&&ue.datum(s(ne,k,T)).call(t.stroke,k[ne].gridcolor).call(i.dashLine,k[ne].griddash,k[ne].gridwidth),z(ne)?ue.call(t.stroke,k[J+"color"]).call(i.dashLine,"",k[J+"width"]):V(ne)&&ue.call(t.fill,k[J+"color"])})},E.updateDims=function(T,k){var _=this.bounds,B=(k.framewidth||0)/2,F=_[0][0]-B,O=_[0][1]-B,N=_[1][0]-F+B,z=_[1][1]-O+B;i.setRect(this.clipRect,F,O,N,z),this.bgRect.call(i.setRect,F,O,N,z).call(t.fill,k.bgcolor),this.xaxis._offset=F,this.xaxis._length=N,this.yaxis._offset=O,this.yaxis._length=z},E.updateFx=function(T,k){var _=this,B=_.graphDiv,F=_.bgRect,O=T.dragmode,N=T.clickmode;if(_.isStatic)return;function z(){var re=_.viewInitial,ne={};for(var ue in re)ne[_.id+"."+ue]=re[ue];v.call("_guiRelayout",B,ne),B.emit("plotly_doubleclick",null)}function V(re){return _.projection.invert([re[0]+_.xaxis._offset,re[1]+_.yaxis._offset])}var W=function(re,ne){if(ne.isRect){var ue=re.range={};ue[_.id]=[V([ne.xmin,ne.ymin]),V([ne.xmax,ne.ymax])]}else{var J=re.lassoPoints={};J[_.id]=ne.map(V)}},$={element:_.bgRect.node(),gd:B,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:W},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(re){re===2&&S(B)}};O==="pan"?(F.node().onmousedown=null,F.call(o(_,k)),F.on("dblclick.zoom",z),B._context._scrollZoom.geo||F.on("wheel.zoom",null)):(O==="select"||O==="lasso")&&(F.on(".zoom",null),$.prepFn=function(re,ne,ue){h(re,ne,ue,$,O)},y.init($)),F.on("mousemove",function(){var re=_.projection.invert(p.getPositionFromD3Event());if(!re)return y.unhover(B,g.event);_.xaxis.p2c=function(){return re[0]},_.yaxis.p2c=function(){return re[1]},n.hover(B,g.event,_.id)}),F.on("mouseout",function(){B._dragging||y.unhover(B,g.event)}),F.on("click",function(){O!=="select"&&O!=="lasso"&&(N.indexOf("select")>-1&&c(g.event,B,[_.xaxis],[_.yaxis],_.id,$),N.indexOf("event")>-1&&n.click(B,g.event))})},E.makeFramework=function(){var T=this,k=T.graphDiv,_=k._fullLayout,B="clip"+_._uid+T.id;T.clipDef=_._clips.append("clipPath").attr("id",B),T.clipRect=T.clipDef.append("rect"),T.framework=g.select(T.container).append("g").attr("class","geo "+T.id).call(i.setClipUrl,B,k),T.project=function(F){var O=T.projection(F);return O?[O[0]-T.xaxis._offset,O[1]-T.yaxis._offset]:[null,null]},T.xaxis={_id:"x",c2p:function(F){return T.project(F)[0]}},T.yaxis={_id:"y",c2p:function(F){return T.project(F)[1]}},T.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(T.mockAxis,_)},E.saveViewInitial=function(T){var k=T.center||{},_=T.projection,B=_.rotation||{};this.viewInitial={fitbounds:T.fitbounds,"projection.scale":_.scale};var F;T._isScoped?F={"center.lon":k.lon,"center.lat":k.lat}:T._isClipped?F={"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:F={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":B.lon},p.extendFlat(this.viewInitial,F)},E.render=function(T){this._hasMarkerAngles&&T?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var T=this.projection,k=T.getPath(),_;function B(O){var N=T(O.lonlat);return N?r(N[0],N[1]):null}function F(O){return T.isLonLatOverEdges(O.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",k);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(O){return k(O.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",F).attr("transform",B)};function b(T){var k=T.projection,_=k.type,B=d.projNames[_];B="geo"+p.titleCase(B);for(var F=P[B]||M[B],O=F(),N=T._isSatellite?Math.acos(1/k.distance)*180/Math.PI:T._isClipped?d.lonaxisSpan[_]/2:null,z=["center","rotate","parallels","clipExtent"],V=function(re){return re?O:[]},W=0;W<z.length;W++){var $=z[W];typeof O[$]!="function"&&(O[$]=V)}return O.isLonLatOverEdges=function(re){if(O(re)===null)return!0;if(N){var ne=O.rotate(),ue=x(re,[-ne[0],-ne[1]]),J=N*Math.PI/180;return ue>J}else return!1},O.getPath=function(){return a().projection(O)},O.getBounds=function(re){return O.getPath().bounds(re)},O.precision(d.precision),T._isSatellite&&O.tilt(k.tilt).distance(k.distance),N&&O.clipAngle(N-d.clipPad),O}function s(T,k,_){var B=1e-6,F=2.5,O=k[T],N=d.scopeDefaults[k.scope],z,V,W;T==="lonaxis"?(z=N.lonaxisRange,V=N.lataxisRange,W=function(q,se){return[q,se]}):T==="lataxis"&&(z=N.lataxisRange,V=N.lonaxisRange,W=function(q,se){return[se,q]});var $={type:"linear",range:[z[0],z[1]-B],tick0:O.tick0,dtick:O.dtick};f.setConvert($,_);var re=f.calcTicks($);!k.isScoped&&T==="lonaxis"&&re.pop();for(var ne=re.length,ue=new Array(ne),J=0;J<ne;J++)for(var X=re[J].x,oe=ue[J]=[],Y=V[0];Y<V[1]+F;Y+=F)oe.push(W(X,Y));return{type:"MultiLineString",coordinates:ue}}function L(T,k){var _=d.clipPad,B=T[0]+_,F=T[1]-_,O=k[0]+_,N=k[1]-_;B>0&&F<0&&(F+=360);var z=(F-B)/4;return{type:"Polygon",coordinates:[[[B,O],[B,N],[B+z,N],[B+2*z,N],[B+3*z,N],[F,N],[F,O],[F-z,O],[F-2*z,O],[F-3*z,O],[B,O]]]}}},10816:function(j,H,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(43520),x="geo",M=P(x),v={};v[x]={valType:"subplotid",dflt:x,editType:"calc"};function p(i){for(var n=i._fullLayout,u=i.calcdata,f=n._subplots[x],l=0;l<f.length;l++){var y=f[l],h=g(u,x,y),S=n[y],c=S._subplot;c||(c=a({id:y,graphDiv:i,container:n._geolayer.node(),topojsonURL:i._context.topojsonURL,staticPlot:i._context.staticPlot}),n[y]._subplot=c),c.plot(h,n,i._promises)}}function r(i,n,u,f){for(var l=f._subplots[x]||[],y=0;y<l.length;y++){var h=l[y],S=f[h]._subplot;!n[h]&&S&&(S.framework.remove(),S.clipDef.remove())}}function t(i){for(var n=i._fullLayout,u=n._subplots[x],f=0;f<u.length;f++){var l=n[u[f]],y=l._subplot;y.updateFx(n,l)}}j.exports={attr:x,name:x,idRoot:x,idRegex:M,attrRegex:M,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(j,H,e){var g=e(22548),P=e(86968).u,a=e(98192).u,x=e(79552),M=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},r=j.exports=M({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(x.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(x.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:x.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:x.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:x.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:x.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(j,H,e){var g=e(3400),P=e(168),a=e(84888).op,x=e(79552),M=e(40384),v=x.axesNames;j.exports=function(t,i,n){P(t,i,n,{type:"geo",attributes:M,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,i,n){var u=a(n.fullData,"geo",n.id),f=u.map(function(oe){return oe._expandedIndex}),l=i("resolution"),y=i("scope"),h=x.scopeDefaults[y],S=i("projection.type",h.projType),c=t._isAlbersUsa=S==="albers usa";c&&(y=t.scope="usa");var o=t._isScoped=y!=="world",d=t._isSatellite=S==="satellite",w=t._isConic=S.indexOf("conic")!==-1||S==="albers",A=t._isClipped=!!x.lonaxisSpan[S];if(r.visible===!1){var C=g.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var m=i("visible"),E,b=0;b<v.length;b++){var s=v[b],L=[30,10][b],T;if(o)T=h[s+"Range"];else{var k=x[s+"Span"],_=(k[S]||k["*"])/2,B=i("projection.rotation."+s.substr(0,3),h.projRotate[b]);T=[B-_,B+_]}var F=i(s+".range",T);i(s+".tick0"),i(s+".dtick",L),E=i(s+".showgrid",m?void 0:!1),E&&(i(s+".gridcolor"),i(s+".gridwidth"),i(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:f,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var O=t.lonaxis.range,N=t.lataxis.range,z=O[0],V=O[1];z>0&&V<0&&(V+=360);var W=(z+V)/2,$;if(!c){var re=o?h.projRotate:[W,0,0];$=i("projection.rotation.lon",re[0]),i("projection.rotation.lat",re[1]),i("projection.rotation.roll",re[2]),E=i("showcoastlines",!o&&m),E&&(i("coastlinecolor"),i("coastlinewidth")),E=i("showocean",m?void 0:!1),E&&i("oceancolor")}var ne,ue;if(c?(ne=-96.6,ue=38.7):(ne=o?W:$,ue=(N[0]+N[1])/2),i("center.lon",ne),i("center.lat",ue),d&&(i("projection.tilt"),i("projection.distance")),w){var J=h.projParallels||[0,60];i("projection.parallels",J)}i("projection.scale"),E=i("showland",m?void 0:!1),E&&i("landcolor"),E=i("showlakes",m?void 0:!1),E&&i("lakecolor"),E=i("showrivers",m?void 0:!1),E&&(i("rivercolor"),i("riverwidth")),E=i("showcountries",o&&y!=="usa"&&m),E&&(i("countrycolor"),i("countrywidth")),(y==="usa"||y==="north america"&&l===50)&&(i("showsubunits",m),i("subunitcolor"),i("subunitwidth")),o||(E=i("showframe",m),E&&(i("framecolor"),i("framewidth"))),i("bgcolor");var X=i("fitbounds");X&&(delete t.projection.scale,o?(delete t.center.lon,delete t.center.lat):A?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(j,H,e){var g=e(33428),P=e(3400),a=e(24040),x=Math.PI/180,M=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(s,L){var T=s.projection,k;return L._isScoped?k=n:L._isClipped?k=f:k=u,k(s,T)}j.exports=r;function t(s,L){return g.behavior.zoom().translate(L.translate()).scale(L.scale())}function i(s,L,T){var k=s.id,_=s.graphDiv,B=_.layout,F=B[k],O=_._fullLayout,N=O[k],z={},V={};function W($,re){z[k+"."+$]=P.nestedProperty(F,$).get(),a.call("_storeDirectGUIEdit",B,O._preGUI,z);var ne=P.nestedProperty(N,$);ne.get()!==re&&(ne.set(re),P.nestedProperty(F,$).set(re),V[k+"."+$]=re)}T(W),W("projection.scale",L.scale()/s.fitScale),W("fitbounds",!1),_.emit("plotly_relayout",V)}function n(s,L){var T=t(s,L);function k(){g.select(this).style(v)}function _(){L.scale(g.event.scale).translate(g.event.translate),s.render(!0);var O=L.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/s.fitScale,"geo.center.lon":O[0],"geo.center.lat":O[1]})}function B(O){var N=L.invert(s.midPt);O("center.lon",N[0]),O("center.lat",N[1])}function F(){g.select(this).style(p),i(s,L,B)}return T.on("zoomstart",k).on("zoom",_).on("zoomend",F),T}function u(s,L){var T=t(s,L),k=2,_,B,F,O,N,z,V,W,$;function re(Y){return L.invert(Y)}function ne(Y){var q=re(Y);if(!q)return!0;var se=L(q);return Math.abs(se[0]-Y[0])>k||Math.abs(se[1]-Y[1])>k}function ue(){g.select(this).style(v),_=g.mouse(this),B=L.rotate(),F=L.translate(),O=B,N=re(_)}function J(){if(z=g.mouse(this),ne(_)){T.scale(L.scale()),T.translate(L.translate());return}L.scale(g.event.scale),L.translate([F[0],g.event.translate[1]]),N?re(z)&&(W=re(z),V=[O[0]+(W[0]-N[0]),B[1],B[2]],L.rotate(V),O=V):(_=z,N=re(_)),$=!0,s.render(!0);var Y=L.rotate(),q=L.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/s.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-Y[0]})}function X(){g.select(this).style(p),$&&i(s,L,oe)}function oe(Y){var q=L.rotate(),se=L.invert(s.midPt);Y("projection.rotation.lon",-q[0]),Y("center.lon",se[0]),Y("center.lat",se[1])}return T.on("zoomstart",ue).on("zoom",J).on("zoomend",X),T}function f(s,L){L.rotate(),L.scale();var T=t(s,L),k=b(T,"zoomstart","zoom","zoomend"),_=0,B=T.on,F;T.on("zoomstart",function(){g.select(this).style(v);var W=g.mouse(this),$=L.rotate(),re=$,ne=L.translate(),ue=y($);F=l(L,W),B.call(T,"zoom",function(){var J=g.mouse(this);if(L.scale(g.event.scale),!F)W=J,F=l(L,W);else if(l(L,J)){L.rotate($).translate(ne);var X=l(L,J),oe=S(F,X),Y=A(h(ue,oe)),q=c(Y,F,re);(!isFinite(q[0])||!isFinite(q[1])||!isFinite(q[2]))&&(q=re),L.rotate(q),re=q}N(k.of(this,arguments))}),O(k.of(this,arguments))}).on("zoomend",function(){g.select(this).style(p),B.call(T,"zoom",null),z(k.of(this,arguments)),i(s,L,V)}).on("zoom.redraw",function(){s.render(!0);var W=L.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/s.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function O(W){_++||W({type:"zoomstart"})}function N(W){W({type:"zoom"})}function z(W){--_||W({type:"zoomend"})}function V(W){var $=L.rotate();W("projection.rotation.lon",-$[0]),W("projection.rotation.lat",-$[1])}return g.rebind(T,k,"on")}function l(s,L){var T=s.invert(L);return T&&isFinite(T[0])&&isFinite(T[1])&&C(T)}function y(s){var L=.5*s[0]*x,T=.5*s[1]*x,k=.5*s[2]*x,_=Math.sin(L),B=Math.cos(L),F=Math.sin(T),O=Math.cos(T),N=Math.sin(k),z=Math.cos(k);return[B*O*z+_*F*N,_*O*z-B*F*N,B*F*z+_*O*N,B*O*N-_*F*z]}function h(s,L){var T=s[0],k=s[1],_=s[2],B=s[3],F=L[0],O=L[1],N=L[2],z=L[3];return[T*F-k*O-_*N-B*z,T*O+k*F+_*z-B*N,T*N-k*z+_*F+B*O,T*z+k*N-_*O+B*F]}function S(s,L){if(!(!s||!L)){var T=E(s,L),k=Math.sqrt(m(T,T)),_=.5*Math.acos(Math.max(-1,Math.min(1,m(s,L)))),B=Math.sin(_)/k;return k&&[Math.cos(_),T[2]*B,-T[1]*B,T[0]*B]}}function c(s,L,T){var k=w(L,2,s[0]);k=w(k,1,s[1]),k=w(k,0,s[2]-T[2]);var _=L[0],B=L[1],F=L[2],O=k[0],N=k[1],z=k[2],V=Math.atan2(B,_)*M,W=Math.sqrt(_*_+B*B),$,re;Math.abs(N)>W?(re=(N>0?90:-90)-V,$=0):(re=Math.asin(N/W)*M-V,$=Math.sqrt(W*W-N*N));var ne=180-re-2*V,ue=(Math.atan2(z,O)-Math.atan2(F,$))*M,J=(Math.atan2(z,O)-Math.atan2(F,-$))*M,X=o(T[0],T[1],re,ue),oe=o(T[0],T[1],ne,J);return X<=oe?[re,ue,T[2]]:[ne,J,T[2]]}function o(s,L,T,k){var _=d(T-s),B=d(k-L);return Math.sqrt(_*_+B*B)}function d(s){return(s%360+540)%360-180}function w(s,L,T){var k=T*x,_=s.slice(),B=L===0?1:0,F=L===2?1:2,O=Math.cos(k),N=Math.sin(k);return _[B]=s[B]*O-s[F]*N,_[F]=s[F]*O+s[B]*N,_}function A(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*M,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*M]}function C(s){var L=s[0]*x,T=s[1]*x,k=Math.cos(T);return[k*Math.cos(L),k*Math.sin(L),Math.sin(T)]}function m(s,L){for(var T=0,k=0,_=s.length;k<_;++k)T+=s[k]*L[k];return T}function E(s,L){return[s[1]*L[2]-s[2]*L[1],s[2]*L[0]-s[0]*L[2],s[0]*L[1]-s[1]*L[0]]}function b(s){for(var L=0,T=arguments.length,k=[];++L<T;)k.push(arguments[L]);var _=g.dispatch.apply(null,k);return _.of=function(B,F){return function(O){var N;try{N=O.sourceEvent=g.event,O.target=s,g.event=O,_[O.type].apply(B,F)}finally{g.event=N}}},_}},84888:function(j,H,e){var g=e(24040),P=e(33816).SUBPLOT_PATTERN;H.KY=function(a,x,M){var v=g.subplotsRegistry[x];if(!v)return[];for(var p=v.attr,r=[],t=0;t<a.length;t++){var i=a[t],n=i[0].trace;n[p]===M&&r.push(i)}return r},H._M=function(a,x){var M=[],v=[],p;if(typeof x=="string"?p=g.getModule(x).plot:typeof x=="function"?p=x:p=x.plot,!p)return[M,a];for(var r=0;r<a.length;r++){var t=a[r],i=t[0].trace;i.visible!==!0||i._length===0||(i._module&&i._module.plot===p?M.push(t):v.push(t))}return[M,v]},H.op=function(x,M,v){if(!g.subplotsRegistry[M])return[];var p=g.subplotsRegistry[M].attr,r=[],t,i,n;if(M==="gl2d"){var u=v.match(P);i="x"+u[1],n="y"+u[2]}for(var f=0;f<x.length;f++)t=x[f],M==="gl2d"&&g.traceIs(t,"gl2d")?t[p[0]]===i&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(j,H,e){var g=e(62644),P=e(97264),a=e(29128),x=e(33816),M=e(89184);j.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,i=r.glplot,n=new v(t,i);function u(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function f(){for(var y=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,S=r.yaxis._id,c=0;c<y.length;c++)if(y[c][h]!==-1){if(y[c][S]!==-1)return!0;break}return!1}n.mouseListener=g(t,l),t.addEventListener("touchstart",function(y){var h=a(y.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),y.preventDefault()},M?{passive:!1}:!1),t.addEventListener("touchmove",function(y){y.preventDefault();var h=a(y.changedTouches[0],t);l(1,h[0],h[1]),y.preventDefault()},M?{passive:!1}:!1),t.addEventListener("touchend",function(y){l(0,n.lastPos[0],n.lastPos[1]),y.preventDefault()},M?{passive:!1}:!1);function l(y,h,S){var c=r.calcDataBox(),o=i.viewBox,d=n.lastPos[0],w=n.lastPos[1],A=x.MINDRAG*i.pixelRatio,C=x.MINZOOM*i.pixelRatio,m,E;h*=i.pixelRatio,S*=i.pixelRatio,S=o[3]-o[1]-S;function b(B,F,O){var N=Math.min(F,O),z=Math.max(F,O);N!==z?(c[B]=N,c[B+2]=z,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(y){var s=h/(o[2]-o[0])*(c[2]-c[0])+c[0],L=S/(o[3]-o[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=s,n.boxStart[1]=L,n.dragStart[0]=h,n.dragStart[1]=S),n.boxEnd[0]=s,n.boxEnd[1]=L,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var T=Math.abs(n.dragStart[0]-h)<C,k=Math.abs(n.dragStart[1]-S)<C;if(f()&&!(T&&k)){m=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var _=(c[3]-c[1])/(c[2]-c[0]);Math.abs(m*_)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(m)*_*(E>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(_)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(_))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/_*(m>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(_)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(_)))}else T&&(n.boxEnd[0]=n.boxStart[0]),k&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(m=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],m||E?(m&&(b(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),E&&(b(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,y?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=S),Math.abs(n.dragStart[0]-h)<A&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-S)<A&&(S=n.dragStart[1]),m=(d-h)*(c[2]-c[0])/(i.viewBox[2]-i.viewBox[0]),E=(w-S)*(c[3]-c[1])/(i.viewBox[3]-i.viewBox[1]),c[0]+=m,c[2]+=m,c[1]+=E,c[3]+=E,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=S}return n.wheelListener=P(t,function(y,h){if(!r.scrollZoom)return!1;var S=r.calcDataBox(),c=i.viewBox,o=n.lastPos[0],d=n.lastPos[1],w=Math.exp(5*h/(c[3]-c[1])),A=o/(c[2]-c[0])*(S[2]-S[0])+S[0],C=d/(c[3]-c[1])*(S[3]-S[1])+S[1];return S[0]=(S[0]-A)*w+A,S[2]=(S[2]-A)*w+A,S[1]=(S[1]-C)*w+C,S[3]=(S[3]-C)*w+C,r.setRanges(S),n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(j,H,e){var g=e(54460),P=e(43080);function a(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var x=a.prototype,M=["xaxis","yaxis"];x.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,i,n,u,f,l,y,h,S,c;for(S=0;S<2;++S){r=M[S];var o=r.charAt(0);for(t=p[this.scene[r]._name],i=t.title.text===this.scene.fullLayout._dfltTitle[o]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[S+c]=!1,this.labels[S+c]=i,this.labelColor[S+c]=P(t.title.font.color),this.labelFont[S+c]=t.title.font.family,this.labelSize[S+c]=t.title.font.size,this.labelPad[S+c]=this.getLabelPad(r,t),this.tickEnable[S+c]=!1,this.tickColor[S+c]=P((t.tickfont||{}).color),this.tickAngle[S+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[S+c]=this.getTickPad(t),this.tickMarkLength[S+c]=0,this.tickMarkWidth[S+c]=t.tickwidth||0,this.tickMarkColor[S+c]=P(t.tickcolor),this.borderLineEnable[S+c]=!1,this.borderLineColor[S+c]=P(t.linecolor),this.borderLineWidth[S+c]=t.linewidth||0;l=this.hasSharedAxis(t),u=this.hasAxisInDfltPos(r,t)&&!l,f=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,y=l?String(n).indexOf("all")!==-1:!!n,h=l?n==="allticks":String(n).indexOf("ticks")!==-1,u?this.labelEnable[S]=!0:f&&(this.labelEnable[S+2]=!0),u?this.tickEnable[S]=t.showticklabels:f&&(this.tickEnable[S+2]=t.showticklabels),(u||y)&&(this.borderLineEnable[S]=t.showline),(f||y)&&(this.borderLineEnable[S+2]=t.showline),(u||h)&&(this.tickMarkLength[S]=this.getTickMarkLength(t)),(f||h)&&(this.tickMarkLength[S+2]=this.getTickMarkLength(t)),this.gridLineEnable[S]=t.showgrid,this.gridLineColor[S]=P(t.gridcolor),this.gridLineWidth[S]=t.gridwidth,this.zeroLineEnable[S]=t.zeroline,this.zeroLineColor[S]=P(t.zerolinecolor),this.zeroLineWidth[S]=t.zerolinewidth}},x.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,i=g.findSubplotsWithAxis(t,p);return i.indexOf(r.id)!==0},x.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},x.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},x.getLabelPad=function(p,r){var t=1.5,i=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+i*(t+(n?1:0)):-10+i*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0))},x.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},x.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new a(p)}j.exports=v},39952:function(j,H,e){var g=e(67824).overrideAll,P=e(17188),a=e(64859),x=e(9616),M=e(33816),v=e(57952),p=e(65460),r=e(84888).op;H.name="gl2d",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=M.idRegex,H.attrRegex=M.attrRegex,H.attributes=e(26720),H.supplyLayoutDefaults=function(t,i,n){i._has("cartesian")||v.supplyLayoutDefaults(t,i,n)},H.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),H.baseLayoutAttrOverrides=g({plot_bgcolor:a.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),H.plot=function(i){for(var n=i._fullLayout,u=i._fullData,f=n._subplots.gl2d,l=0;l<f.length;l++){var y=f[l],h=n._plots[y],S=r(u,"gl2d",y),c=h._scene2d;c===void 0&&(c=new P({id:y,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(S,i.calcdata,n,i.layout)}},H.clean=function(t,i,n,u){for(var f=u._subplots.gl2d||[],l=0;l<f.length;l++){var y=f[l],h=u._plots[y];if(h._scene2d){var S=r(t,"gl2d",y);S.length===0&&(h._scene2d.destroy(),delete u._plots[y])}}v.clean.apply(this,arguments)},H.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},H.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,u=0;u<n.length;u++){var f=i._plots[n[u]],l=f._scene2d,y=l.toImage("png"),h=i._glimages.append("svg:image");h.attr({xmlns:x.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},H.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,u=0;u<n.length;u++){var f=i._plots[n[u]]._scene2d;f.updateFx(i.dragmode)}}},17188:function(j,H,e){var g=e(24040),P=e(54460),a=e(93024),x=e(67792).gl_plot2d,M=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),i=e(16576),n=e(71888),u=n.enforce,f=n.clean,l=e(19280).doAutoRange,y=e(72760),h=y.drawMode,S=y.selectMode,c=["xaxis","yaxis"],o,d,w=e(33816).SUBPLOT_PATTERN;function A(E,b){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(b),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(b),this.glplot=x(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=M(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}j.exports=A;var C=A.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(o=document.createElement("canvas"),d=p({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=d}else{var E=this.container.querySelector(".gl-canvas-focus"),b=p({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!b){i(this),this.stopped=!0;return}this.canvas=E,this.gl=b}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var L=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",L.style["z-index"]=20,L.style["pointer-events"]="none";var T=this.mouseContainer=document.createElement("div");T.style.position="absolute",T.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(L),k.appendChild(T);var _=this;T.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),T.addEventListener("mouseover",function(){_.isMouseOver=!0})},C.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var b=this.glplot.gl,s=b.drawingBufferWidth,L=b.drawingBufferHeight;b.clearColor(1,1,1,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),b.bindFramebuffer(b.FRAMEBUFFER,null);var T=new Uint8Array(s*L*4);b.readPixels(0,0,s,L,b.RGBA,b.UNSIGNED_BYTE,T);for(var k=0,_=L-1;k<_;++k,--_)for(var B=0;B<s;++B)for(var F=0;F<4;++F){var O=T[4*(s*k+B)+F];T[4*(s*k+B)+F]=T[4*(s*_+B)+F],T[4*(s*_+B)+F]=O}var N=document.createElement("canvas");N.width=s,N.height=L;var z=N.getContext("2d",{willReadFrequently:!0}),V=z.createImageData(s,L);V.data.set(T),z.putImageData(V,0,0);var W;switch(E){case"jpeg":W=N.toDataURL("image/jpeg");break;case"webp":W=N.toDataURL("image/webp");break;default:W=N.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),W},C.updateSize=function(E){E||(E=this.canvas);var b=this.pixelRatio,s=this.fullLayout,L=s.width,T=s.height,k=Math.ceil(b*L)|0,_=Math.ceil(b*T)|0;return(E.width!==k||E.height!==_)&&(E.width=k,E.height=_),E},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],b=0;b<2;++b)for(var s=0;s<E[b].length;++s)E[b][s].text=E[b][s].text+"";return E};function m(E,b){for(var s=0;s<2;++s){var L=E[s],T=b[s];if(L.length!==T.length)return!0;for(var k=0;k<L.length;++k)if(L[k].x!==T[k].x)return!0}return!1}C.updateRefs=function(E){this.fullLayout=E;var b=this.id.match(w),s="xaxis"+b[1],L="yaxis"+b[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[L]},C.relayoutCallback=function(){var E=this.graphDiv,b=this.xaxis,s=this.yaxis,L=E.layout,T={},k=T[b._name+".range"]=b.range.slice(),_=T[s._name+".range"]=s.range.slice();T[b._name+".autorange"]=b.autorange,T[s._name+".autorange"]=s.autorange,g.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,T);var B=L[b._name];B.range=k,B.autorange=b.autorange;var F=L[s._name];F.range=_,F.autorange=s.autorange,T.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",T)},C.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var b=this.computeTickMarks(),s=this.glplotOptions.ticks;m(b,s)&&(this.glplotOptions.ticks=b,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var E=this.graphDiv,b=this.fullLayout.annotations,s=0;s<b.length;s++){var L=b[s];L.xref===this.xaxis._id&&L.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(E,s)}},C.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(b){E[b].dispose(),delete E[b]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(E,b,s){var L=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,b),this.updateFx(s.dragmode);var T=s.width,k=s.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(s),_.screenBox=[0,0,T,k];var B={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};f(B,this.xaxis),f(B,this.yaxis);var F=s._size,O=this.xaxis.domain,N=this.yaxis.domain;_.viewBox=[F.l+O[0]*F.w,F.b+N[0]*F.h,T-F.r-(1-O[1])*F.w,k-F.t-(1-N[1])*F.h],this.mouseContainer.style.width=F.w*(O[1]-O[0])+"px",this.mouseContainer.style.height=F.h*(N[1]-N[0])+"px",this.mouseContainer.height=F.h*(N[1]-N[0]),this.mouseContainer.style.left=F.l+O[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-N[1])*F.h+"px";var z,V;for(V=0;V<2;++V)z=this[c[V]],z._length=_.viewBox[V+2]-_.viewBox[V],l(this.graphDiv,z),z.setScale();u(B),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(s),L.update(_),this.glplot.draw()},C.calcDataBox=function(){var E=this.xaxis,b=this.yaxis,s=E.range,L=b.range,T=E.r2l,k=b.r2l;return[T(s[0]),k(L[0]),T(s[1]),k(L[1])]},C.setRanges=function(E){var b=this.xaxis,s=this.yaxis,L=b.l2r,T=s.l2r;b.range=[L(E[0]),L(E[2])],s.range=[T(E[1]),T(E[3])]},C.updateTraces=function(E,b){var s=Object.keys(this.traces),L,T,k;this.fullData=E;e:for(L=0;L<s.length;L++){var _=s[L],B=this.traces[_];for(T=0;T<E.length;T++)if(k=E[T],k.uid===_&&k.type===B.type)continue e;B.dispose(),delete this.traces[_]}for(L=0;L<E.length;L++){k=E[L];var F=b[L],O=this.traces[k.uid];O?O.update(k,F):(O=k._module.plot(this,k,F),this.traces[k.uid]=O)}this.glplot.objects.sort(function(N,z){return N._trace.index-z._trace.index})},C.updateFx=function(E){S(E)||h(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(E,b){for(var s=E.trace.uid,L=E.pointIndex,T,k=0;k<this.fullData.length;k++)this.fullData[k].uid===s&&(T=this.fullData[k]);var _={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:T.index,pointNumber:L,data:T._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(_,T,L),this.graphDiv.emit(b,{points:[_]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,b=this.camera,s=b.mouseListener,L=this.lastButtonState===1&&s.buttons===0,T=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var k=s.x*E.pixelRatio,_=this.canvas.height-E.pixelRatio*s.y,B;if(b.boxEnabled&&T.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(b.boxStart[0],b.boxEnd[0]),Math.min(b.boxStart[1],b.boxEnd[1]),Math.max(b.boxStart[0],b.boxEnd[0]),Math.max(b.boxStart[1],b.boxEnd[1])],O=0;O<2;O++)b.boxStart[O]===b.boxEnd[O]&&(F[O]=E.dataBox[O],F[O+2]=E.dataBox[O+2]);E.setDirty()}else if(!b.panning&&this.isMouseOver){this.selectBox.enabled=!1;var N=T._size,z=this.xaxis.domain,V=this.yaxis.domain;B=E.pick(k/E.pixelRatio+N.l+z[0]*N.w,_/E.pixelRatio-(N.t+(1-V[1])*N.h));var W=B&&B.object._trace.handlePick(B);if(W&&L&&this.emitPointAction(W,"plotly_click"),B&&B.object._trace.hoverinfo!=="skip"&&T.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var $=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:B.dataCoord}),$.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(B.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(B.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(W,"plotly_hover");var re=this.fullData[$.trace.index]||{},ne=$.pointIndex,ue=a.castHoverinfo(re,T,ne);if(ue&&ue!=="all"){var J=ue.split("+");J.indexOf("x")===-1&&($.traceCoord[0]=void 0),J.indexOf("y")===-1&&($.traceCoord[1]=void 0),J.indexOf("z")===-1&&($.traceCoord[2]=void 0),J.indexOf("text")===-1&&($.textLabel=void 0),J.indexOf("name")===-1&&($.name=void 0)}a.loneHover({x:$.screenCoord[0],y:$.screenCoord[1],xLabel:this.hoverFormatter("xaxis",$.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",$.traceCoord[1]),zLabel:$.traceCoord[2],text:$.textLabel,name:$.name,color:a.castHoverOption(re,ne,"bgcolor")||$.color,borderColor:a.castHoverOption(re,ne,"bordercolor"),fontFamily:a.castHoverOption(re,ne,"font.family"),fontSize:a.castHoverOption(re,ne,"font.size"),fontColor:a.castHoverOption(re,ne,"font.color"),nameLength:a.castHoverOption(re,ne,"namelength"),textAlign:a.castHoverOption(re,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}B||this.unhover(),E.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},C.hoverFormatter=function(E,b){if(b!==void 0){var s=this[E];return P.tickText(s,s.c2l(b),"hover").text}}},12536:function(j,H,e){var g=e(67824).overrideAll,P=e(65460),a=e(98432),x=e(84888).op,M=e(3400),v=e(9616),p="gl3d",r="scene";H.name=p,H.attr=r,H.idRoot=r,H.idRegex=H.attrRegex=M.counterRegex("scene"),H.attributes=e(6636),H.layoutAttributes=e(346),H.baseLayoutAttrOverrides=g({hoverlabel:P.hoverlabel},"plot","nested"),H.supplyLayoutDefaults=e(5208),H.plot=function(i){for(var n=i._fullLayout,u=i._fullData,f=n._subplots[p],l=0;l<f.length;l++){var y=f[l],h=x(u,p,y),S=n[y],c=S.camera,o=S._scene;o||(o=new a({id:y,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:c},n),S._scene=o),o.viewInitial||(o.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),o.plot(h,n,i.layout)}},H.clean=function(t,i,n,u){for(var f=u._subplots[p]||[],l=0;l<f.length;l++){var y=f[l];!i[y]&&u[y]._scene&&(u[y]._scene.destroy(),u._infolayer&&u._infolayer.selectAll(".annotation-"+y).remove())}},H.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots[p],u=i._size,f=0;f<n.length;f++){var l=i[n[f]],y=l.domain,h=l._scene,S=h.toImage("png"),c=i._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":S,x:u.l+u.w*y.x[0],y:u.t+u.h*(1-y.y[1]),width:u.w*(y.x[1]-y.x[0]),height:u.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),h.destroy()}},H.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return n==="1"&&(n=""),r+n}},H.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots[p],u=0;u<n.length;u++){var f=i[n[u]]._scene;f.updateFx(i.dragmode,i.hovermode)}}},6636:function(j){j.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(j,H,e){var g=e(76308),P=e(94724),a=e(92880).extendFlat,x=e(67824).overrideAll;j.exports=x({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:a({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:a({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:a({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(j,H,e){var g=e(49760).mix,P=e(3400),a=e(31780),x=e(86140),M=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*(204-68)/(255-68);j.exports=function(i,n,u){var f,l;function y(c,o){return P.coerce(f,l,x,c,o)}for(var h=0;h<p.length;h++){var S=p[h];f=i[S]||{},l=a.newContainer(n,S),l._id=S[0]+u.scene,l._name=S,M(f,l,y,u),v(f,l,y,{font:u.font,letter:S[0],data:u.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:u.bgColor,calendar:u.calendar},u.fullLayout),y("gridcolor",g(l.color,u.bgColor,r).toRgbString()),y("title.text",S[0]),l.setScale=P.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",l.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},44728:function(j,H,e){var g=e(43080),P=e(3400),a=["xaxis","yaxis","zaxis"];function x(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var M=x.prototype;M.merge=function(p,r){for(var t=this,i=0;i<3;++i){var n=r[a[i]];if(!n.visible){t.tickEnable[i]=!1,t.labelEnable[i]=!1,t.lineEnable[i]=!1,t.lineTickEnable[i]=!1,t.gridEnable[i]=!1,t.zeroEnable[i]=!1,t.backgroundEnable[i]=!1;continue}t.labels[i]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[i]=g(n.title.font.color)),n.title.font.family&&(t.labelFont[i]=n.title.font.family),n.title.font.size&&(t.labelSize[i]=n.title.font.size)),"showline"in n&&(t.lineEnable[i]=n.showline),"linecolor"in n&&(t.lineColor[i]=g(n.linecolor)),"linewidth"in n&&(t.lineWidth[i]=n.linewidth),"showgrid"in n&&(t.gridEnable[i]=n.showgrid),"gridcolor"in n&&(t.gridColor[i]=g(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[i]=n.gridwidth),n.type==="log"?t.zeroEnable[i]=!1:"zeroline"in n&&(t.zeroEnable[i]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[i]=g(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[i]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[i]=!0:t.lineTickEnable[i]=!1,"ticklen"in n&&(t.lineTickLength[i]=t._defaultLineTickLength[i]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[i]=g(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[i]=n.tickwidth),"tickangle"in n&&(t.tickAngle[i]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[i]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[i]=g(n.tickfont.color)),n.tickfont.family&&(t.tickFont[i]=n.tickfont.family),n.tickfont.size&&(t.tickSize[i]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[i]=!0,t.lineMirror[i]=!0):n.mirror===!0?(t.lineTickMirror[i]=!1,t.lineMirror[i]=!0):(t.lineTickMirror[i]=!1,t.lineMirror[i]=!1):t.lineMirror[i]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[i]=!0,t.backgroundColor[i]=g(n.backgroundcolor)):t.backgroundEnable[i]=!1}};function v(p,r){var t=new x;return t.merge(p,r),t}j.exports=v},5208:function(j,H,e){var g=e(3400),P=e(76308),a=e(24040),x=e(168),M=e(64380),v=e(346),p=e(84888).op,r="gl3d";j.exports=function(n,u,f){var l=u._basePlotModules.length>1;function y(h){if(!l){var S=g.validate(n[h],v[h]);if(S)return n[h]}}x(n,u,f,{type:r,attributes:v,handleDefaults:t,fullLayout:u,font:u.font,fullData:f,getDfltFromLayout:y,autotypenumbersDflt:u.autotypenumbers,paper_bgcolor:u.paper_bgcolor,calendar:u.calendar})};function t(i,n,u,f){for(var l=u("bgcolor"),y=P.combine(l,f.paper_bgcolor),h=["up","center","eye"],S=0;S<h.length;S++)u("camera."+h[S]+".x"),u("camera."+h[S]+".y"),u("camera."+h[S]+".z");u("camera.projection.type");var c=!!u("aspectratio.x")&&!!u("aspectratio.y")&&!!u("aspectratio.z"),o=c?"manual":"auto",d=u("aspectmode",o);c||(i.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),i.aspectmode=n.aspectmode);var w=p(f.fullData,r,f.id);M(i,n,{font:f.font,scene:f.id,data:w,bgColor:y,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(i,n,f);var A=f.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",i.camera&&i.camera.up){var C=i.camera.up.x,m=i.camera.up.y,E=i.camera.up.z;E!==0&&(!C||!m||!E||E/Math.sqrt(C*C+m*m+E*E)>.999)&&(A="turntable")}else A="turntable";u("dragmode",A),u("hovermode",f.getDfltFromLayout("hovermode"))}},346:function(j,H,e){var g=e(86140),P=e(86968).u,a=e(92880).extendFlat,x=e(3400).counterRegex;function M(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}j.exports={_arrayAttrRegexps:[x("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(M(0,0,1),{}),center:a(M(0,0,0),{}),eye:a(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(j,H,e){var g=e(43080),P=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var x=a.prototype;x.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=g(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function M(v){var p=new a;return p.merge(v),p}j.exports=M},87152:function(j,H,e){j.exports=M;var g=e(54460),P=e(3400),a=["xaxis","yaxis","zaxis"];function x(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],i=new Array(t.length),n=0;n<t.length;++n)i[n]=t[n].x;p[r]=i}return p}function M(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var u=t[a[n]];if(u._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(u._length)===1/0||isNaN(u._length))i[n]=[];else{u._input_range=u.range.slice(),u.range[0]=r[n].lo/v.dataScale[n],u.range[1]=r[n].hi/v.dataScale[n],u._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),u.range[0]===u.range[1]&&(u.range[0]-=1,u.range[1]+=1);var f=u.tickmode;if(u.tickmode==="auto"){u.tickmode="linear";var l=u.nticks||P.constrain(u._length/40,4,9);g.autoTicks(u,Math.abs(u.range[1]-u.range[0])/l)}for(var y=g.calcTicks(u,{msUTC:!0}),h=0;h<y.length;++h)y[h].x=y[h].x*v.dataScale[n],u.type==="date"&&(y[h].text=y[h].text.replace(/\<br\>/g," "));i[n]=y,u.tickmode=f}}p.ticks=i;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=x(i)}},94424:function(j){function H(g,P){var a=[0,0,0,0],x,M;for(x=0;x<4;++x)for(M=0;M<4;++M)a[M]+=g[4*x+M]*P[x];return a}function e(g,P){var a=H(g.projection,H(g.view,H(g.model,[P[0],P[1],P[2],1])));return a}j.exports=e},98432:function(j,H,e){var g=e(67792).gl_plot3d,P=g.createCamera,a=g.createScene,x=e(5408),M=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),i=e(93024),n=e(43080),u=e(16576),f=e(94424),l=e(44728),y=e(9020),h=e(87152),S=e(19280).applyAutorangeOptions,c,o,d=!1;function w(_,B){var F=document.createElement("div"),O=_.container;this.graphDiv=_.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",F.appendChild(N),this.svgContainer=N,F.id=_.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",O.appendChild(F),this.fullLayout=B,this.id=_.id||"scene",this.fullSceneLayout=B[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(B,B[this.id]),this.spikeOptions=y(B[this.id]),this.container=F,this.staticMode=!!_.staticPlot,this.pixelRatio=this.pixelRatio||_.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=w.prototype;A.prepareOptions=function(){var _=this,B={canvas:_.canvas,gl:_.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:_.container,axes:_.axesOptions,spikes:_.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:_.camera,pixelRatio:_.pixelRatio};if(_.staticMode){if(!o&&(c=document.createElement("canvas"),o=x({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");B.gl=o,B.canvas=c}return B};var C=!0;A.tryCreatePlot=function(){var _=this,B=_.prepareOptions(),F=!0;try{_.glplot=a(B)}catch{if(_.staticMode||!C||r)F=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=B.glOptions.preserveDrawingBuffer=!0,_.glplot=a(B)}catch{r=B.glOptions.preserveDrawingBuffer=!1,F=!1}}}return C=!1,F},A.initializeGLCamera=function(){var _=this,B=_.fullSceneLayout.camera,F=B.projection.type==="orthographic";_.camera=P(_.container,{center:[B.center.x,B.center.y,B.center.z],eye:[B.eye.x,B.eye.y,B.eye.z],up:[B.up.x,B.up.y,B.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var _=this;_.initializeGLCamera();var B=_.tryCreatePlot();if(!B)return u(_);_.traces={},_.make4thDimension();var F=_.graphDiv,O=F.layout,N=function(){var V={};return _.isCameraChanged(O)&&(V[_.id+".camera"]=_.getCamera()),_.isAspectChanged(O)&&(V[_.id+".aspectratio"]=_.glplot.getAspectratio(),O[_.id].aspectmode!=="manual"&&(_.fullSceneLayout.aspectmode=O[_.id].aspectmode=V[_.id+".aspectmode"]="manual")),V},z=function(V){if(V.fullSceneLayout.dragmode!==!1){var W=N();V.saveLayout(O),V.graphDiv.emit("plotly_relayout",W)}};return _.glplot.canvas&&(_.glplot.canvas.addEventListener("mouseup",function(){z(_)}),_.glplot.canvas.addEventListener("touchstart",function(){d=!0}),_.glplot.canvas.addEventListener("wheel",function(V){if(F._context._scrollZoom.gl3d){if(_.camera._ortho){var W=V.deltaX>V.deltaY?1.1:.9090909090909091,$=_.glplot.getAspectratio();_.glplot.setAspectratio({x:W*$.x,y:W*$.y,z:W*$.z})}z(_)}},M?{passive:!1}:!1),_.glplot.canvas.addEventListener("mousemove",function(){if(_.fullSceneLayout.dragmode!==!1&&_.camera.mouseListener.buttons!==0){var V=N();_.graphDiv.emit("plotly_relayouting",V)}}),_.staticMode||_.glplot.canvas.addEventListener("webglcontextlost",function(V){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:V,layer:_.id})},!1)),_.glplot.oncontextloss=function(){_.recoverContext()},_.glplot.onrender=function(){_.render()},!0},A.render=function(){var _=this,B=_.graphDiv,F,O=_.svgContainer,N=_.container.getBoundingClientRect();B._fullLayout._calcInverseTransform(B);var z=B._fullLayout._invScaleX,V=B._fullLayout._invScaleY,W=N.width*z,$=N.height*V;O.setAttributeNS(null,"viewBox","0 0 "+W+" "+$),O.setAttributeNS(null,"width",W),O.setAttributeNS(null,"height",$),h(_),_.glplot.axes.update(_.axesOptions);for(var re=Object.keys(_.traces),ne=null,ue=_.glplot.selection,J=0;J<re.length;++J)F=_.traces[re[J]],F.data.hoverinfo!=="skip"&&F.handlePick(ue)&&(ne=F),F.setContourLevels&&F.setContourLevels();function X(ke,we,Ee){var xe=_.fullSceneLayout[ke+"axis"];return xe.type!=="log"&&(we=xe.d2l(we)),t.hoverLabelText(xe,we,Ee)}if(ne!==null){var oe=f(_.glplot.cameraParams,ue.dataCoordinate);F=ne.data;var Y=B._fullData[F.index],q=ue.index,se={xLabel:X("x",ue.traceCoordinate[0],F.xhoverformat),yLabel:X("y",ue.traceCoordinate[1],F.yhoverformat),zLabel:X("z",ue.traceCoordinate[2],F.zhoverformat)},Q=i.castHoverinfo(Y,_.fullLayout,q),K=(Q||"").split("+"),le=Q&&Q==="all";!Y.hovertemplate&&!le&&(K.indexOf("x")===-1&&(se.xLabel=void 0),K.indexOf("y")===-1&&(se.yLabel=void 0),K.indexOf("z")===-1&&(se.zLabel=void 0),K.indexOf("text")===-1&&(ue.textLabel=void 0),K.indexOf("name")===-1&&(ne.name=void 0));var ie,ce=[];F.type==="cone"||F.type==="streamtube"?(se.uLabel=X("x",ue.traceCoordinate[3],F.uhoverformat),(le||K.indexOf("u")!==-1)&&ce.push("u: "+se.uLabel),se.vLabel=X("y",ue.traceCoordinate[4],F.vhoverformat),(le||K.indexOf("v")!==-1)&&ce.push("v: "+se.vLabel),se.wLabel=X("z",ue.traceCoordinate[5],F.whoverformat),(le||K.indexOf("w")!==-1)&&ce.push("w: "+se.wLabel),se.normLabel=ue.traceCoordinate[6].toPrecision(3),(le||K.indexOf("norm")!==-1)&&ce.push("norm: "+se.normLabel),F.type==="streamtube"&&(se.divergenceLabel=ue.traceCoordinate[7].toPrecision(3),(le||K.indexOf("divergence")!==-1)&&ce.push("divergence: "+se.divergenceLabel)),ue.textLabel&&ce.push(ue.textLabel),ie=ce.join("<br>")):F.type==="isosurface"||F.type==="volume"?(se.valueLabel=t.hoverLabelText(_._mockAxis,_._mockAxis.d2l(ue.traceCoordinate[3]),F.valuehoverformat),ce.push("value: "+se.valueLabel),ue.textLabel&&ce.push(ue.textLabel),ie=ce.join("<br>")):ie=ue.textLabel;var ye={x:ue.traceCoordinate[0],y:ue.traceCoordinate[1],z:ue.traceCoordinate[2],data:Y._input,fullData:Y,curveNumber:Y.index,pointNumber:q};i.appendArrayPointValue(ye,Y,q),F._module.eventData&&(ye=Y._module.eventData(ye,ue,Y,{},q));var Ce={points:[ye]};if(_.fullSceneLayout.hovermode){var Ae=[];i.loneHover({trace:Y,x:(.5+.5*oe[0]/oe[3])*W,y:(.5-.5*oe[1]/oe[3])*$,xLabel:se.xLabel,yLabel:se.yLabel,zLabel:se.zLabel,text:ie,name:ne.name,color:i.castHoverOption(Y,q,"bgcolor")||ne.color,borderColor:i.castHoverOption(Y,q,"bordercolor"),fontFamily:i.castHoverOption(Y,q,"font.family"),fontSize:i.castHoverOption(Y,q,"font.size"),fontColor:i.castHoverOption(Y,q,"font.color"),nameLength:i.castHoverOption(Y,q,"namelength"),textAlign:i.castHoverOption(Y,q,"align"),hovertemplate:p.castOption(Y,q,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ye,se),eventData:[ye]},{container:O,gd:B,inOut_bbox:Ae}),ye.bbox=Ae[0]}ue.distance<5&&(ue.buttons||d)?B.emit("plotly_click",Ce):B.emit("plotly_hover",Ce),this.oldEventData=Ce}else i.loneUnhover(O),this.oldEventData&&B.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;_.drawAnnotations(_)},A.recoverContext=function(){var _=this;_.glplot.dispose();var B=function(){if(_.glplot.gl.isContextLost()){requestAnimationFrame(B);return}if(!_.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}_.plot.apply(_,_.plotArgs)};requestAnimationFrame(B)};var m=["xaxis","yaxis","zaxis"];function E(_,B,F){for(var O=_.fullSceneLayout,N=0;N<3;N++){var z=m[N],V=z.charAt(0),W=O[z],$=B[V],re=B[V+"calendar"],ne=B["_"+V+"length"];if(!p.isArrayOrTypedArray($))F[0][N]=Math.min(F[0][N],0),F[1][N]=Math.max(F[1][N],ne-1);else for(var ue,J=0;J<(ne||$.length);J++)if(p.isArrayOrTypedArray($[J]))for(var X=0;X<$[J].length;++X)ue=W.d2l($[J][X],0,re),!isNaN(ue)&&isFinite(ue)&&(F[0][N]=Math.min(F[0][N],ue),F[1][N]=Math.max(F[1][N],ue));else ue=W.d2l($[J],0,re),!isNaN(ue)&&isFinite(ue)&&(F[0][N]=Math.min(F[0][N],ue),F[1][N]=Math.max(F[1][N],ue))}}function b(_,B){for(var F=_.fullSceneLayout,O=F.annotations||[],N=0;N<3;N++)for(var z=m[N],V=z.charAt(0),W=F[z],$=0;$<O.length;$++){var re=O[$];if(re.visible){var ne=W.r2l(re[V]);!isNaN(ne)&&isFinite(ne)&&(B[0][N]=Math.min(B[0][N],ne),B[1][N]=Math.max(B[1][N],ne))}}}A.plot=function(_,B,F){var O=this;if(O.plotArgs=[_,B,F],!O.glplot.contextLost){var N,z,V,W,$,re,ne=B[O.id],ue=F[O.id];O.fullLayout=B,O.fullSceneLayout=ne,O.axesOptions.merge(B,ne),O.spikeOptions.merge(ne),O.setViewport(ne),O.updateFx(ne.dragmode,ne.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(n(ne.bgcolor)),O.setConvert($),_?Array.isArray(_)||(_=[_]):_=[];var J=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(V=0;V<_.length;++V)N=_[V],!(N.visible!==!0||N._length===0)&&E(this,N,J);b(this,J);var X=[1,1,1];for(W=0;W<3;++W)J[1][W]===J[0][W]?X[W]=1:X[W]=1/(J[1][W]-J[0][W]);for(O.dataScale=X,O.convertAnnotations(this),V=0;V<_.length;++V)N=_[V],!(N.visible!==!0||N._length===0)&&(z=O.traces[N.uid],z?z.data.type===N.type?z.update(N):(z.dispose(),z=N._module.plot(this,N),O.traces[N.uid]=z):(z=N._module.plot(this,N),O.traces[N.uid]=z),z.name=N.name);var oe=Object.keys(O.traces);e:for(V=0;V<oe.length;++V){for(W=0;W<_.length;++W)if(_[W].uid===oe[V]&&_[W].visible===!0&&_[W]._length!==0)continue e;z=O.traces[oe[V]],z.dispose(),delete O.traces[oe[V]]}O.glplot.objects.sort(function(dt,at){return dt._trace.data.index-at._trace.data.index});var Y=[[0,0,0],[0,0,0]],q={};for(V=0;V<3;++V){$=ne[m[V]],re=$.type,re in q?(q[re].acc*=X[V],q[re].count+=1):q[re]={acc:X[V],count:1};var se;if($.autorange){Y[0][V]=1/0,Y[1][V]=-1/0;var Q=O.glplot.objects,K=O.fullSceneLayout.annotations||[],le=$._name.charAt(0);for(W=0;W<Q.length;W++){var ie=Q[W],ce=ie.bounds,ye=ie._trace.data._pad||0;ie.constructor.name==="ErrorBars"&&$._lowerLogErrorBound?Y[0][V]=Math.min(Y[0][V],$._lowerLogErrorBound):Y[0][V]=Math.min(Y[0][V],ce[0][V]/X[V]-ye),Y[1][V]=Math.max(Y[1][V],ce[1][V]/X[V]+ye)}for(W=0;W<K.length;W++){var Ce=K[W];if(Ce.visible){var Ae=$.r2l(Ce[le]);Y[0][V]=Math.min(Y[0][V],Ae),Y[1][V]=Math.max(Y[1][V],Ae)}}if("rangemode"in $&&$.rangemode==="tozero"&&(Y[0][V]=Math.min(Y[0][V],0),Y[1][V]=Math.max(Y[1][V],0)),Y[0][V]>Y[1][V])Y[0][V]=-1,Y[1][V]=1;else{var ke=Y[1][V]-Y[0][V];Y[0][V]-=ke/32,Y[1][V]+=ke/32}if(se=[Y[0][V],Y[1][V]],se=S(se,$),Y[0][V]=se[0],Y[1][V]=se[1],$.isReversed()){var we=Y[0][V];Y[0][V]=Y[1][V],Y[1][V]=we}}else se=$.range,Y[0][V]=$.r2l(se[0]),Y[1][V]=$.r2l(se[1]);Y[0][V]===Y[1][V]&&(Y[0][V]-=1,Y[1][V]+=1),$.range=[Y[0][V],Y[1][V]],$.limitRange(),O.glplot.setBounds(V,{min:$.range[0]*X[V],max:$.range[1]*X[V]})}var Ee,xe=ne.aspectmode;if(xe==="cube")Ee=[1,1,1];else if(xe==="manual"){var Pe=ne.aspectratio;Ee=[Pe.x,Pe.y,Pe.z]}else if(xe==="auto"||xe==="data"){var Ue=[1,1,1];for(V=0;V<3;++V){$=ne[m[V]],re=$.type;var Be=q[re];Ue[V]=Math.pow(Be.acc,1/Be.count)/X[V]}xe==="data"||Math.max.apply(null,Ue)/Math.min.apply(null,Ue)<=4?Ee=Ue:Ee=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ne.aspectratio.x=ue.aspectratio.x=Ee[0],ne.aspectratio.y=ue.aspectratio.y=Ee[1],ne.aspectratio.z=ue.aspectratio.z=Ee[2],O.glplot.setAspectratio(ne.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:ne.aspectratio.x,y:ne.aspectratio.y,z:ne.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=ne.aspectmode);var Ne=ne.domain||null,Xe=B._size||null;if(Ne&&Xe){var ut=O.container.style;ut.position="absolute",ut.left=Xe.l+Ne.x[0]*Xe.w+"px",ut.top=Xe.t+(1-Ne.y[1])*Xe.h+"px",ut.width=Xe.w*(Ne.x[1]-Ne.x[0])+"px",ut.height=Xe.h*(Ne.y[1]-Ne.y[0])+"px"}O.glplot.redraw()}},A.destroy=function(){var _=this;_.glplot&&(_.camera.mouseListener.enabled=!1,_.container.removeEventListener("wheel",_.camera.wheelListener),_.camera=null,_.glplot.dispose(),_.container.parentNode.removeChild(_.container),_.glplot=null)};function s(_){return[[_.eye.x,_.eye.y,_.eye.z],[_.center.x,_.center.y,_.center.z],[_.up.x,_.up.y,_.up.z]]}function L(_){return{up:{x:_.up[0],y:_.up[1],z:_.up[2]},center:{x:_.center[0],y:_.center[1],z:_.center[2]},eye:{x:_.eye[0],y:_.eye[1],z:_.eye[2]},projection:{type:_._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var _=this;return _.camera.view.recalcMatrix(_.camera.view.lastT()),L(_.camera)},A.setViewport=function(_){var B=this,F=_.camera;B.camera.lookAt.apply(this,s(F)),B.glplot.setAspectratio(_.aspectratio);var O=F.projection.type==="orthographic",N=B.camera._ortho;O!==N&&(B.glplot.redraw(),B.glplot.clearRGBA(),B.glplot.dispose(),B.initializeGLPlot())},A.isCameraChanged=function(_){var B=this,F=B.getCamera(),O=p.nestedProperty(_,B.id+".camera"),N=O.get();function z(re,ne,ue,J){var X=["up","center","eye"],oe=["x","y","z"];return ne[X[ue]]&&re[X[ue]][oe[J]]===ne[X[ue]][oe[J]]}var V=!1;if(N===void 0)V=!0;else{for(var W=0;W<3;W++)for(var $=0;$<3;$++)if(!z(F,N,W,$)){V=!0;break}(!N.projection||F.projection&&F.projection.type!==N.projection.type)&&(V=!0)}return V},A.isAspectChanged=function(_){var B=this,F=B.glplot.getAspectratio(),O=p.nestedProperty(_,B.id+".aspectratio"),N=O.get();return N===void 0||N.x!==F.x||N.y!==F.y||N.z!==F.z},A.saveLayout=function(_){var B=this,F=B.fullLayout,O,N,z,V,W,$,re=B.isCameraChanged(_),ne=B.isAspectChanged(_),ue=re||ne;if(ue){var J={};if(re&&(O=B.getCamera(),N=p.nestedProperty(_,B.id+".camera"),z=N.get(),J[B.id+".camera"]=z),ne&&(V=B.glplot.getAspectratio(),W=p.nestedProperty(_,B.id+".aspectratio"),$=W.get(),J[B.id+".aspectratio"]=$),v.call("_storeDirectGUIEdit",_,F._preGUI,J),re){N.set(O);var X=p.nestedProperty(F,B.id+".camera");X.set(O)}if(ne){W.set(V);var oe=p.nestedProperty(F,B.id+".aspectratio");oe.set(V),B.glplot.redraw()}}return ue},A.updateFx=function(_,B){var F=this,O=F.camera;if(O)if(_==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(_==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var N=F.graphDiv,z=N._fullLayout,V=F.fullSceneLayout.camera,W=V.up.x,$=V.up.y,re=V.up.z;if(re/Math.sqrt(W*W+$*$+re*re)<.999){var ne=F.id+".camera.up",ue={x:0,y:0,z:1},J={};J[ne]=ue;var X=N.layout;v.call("_storeDirectGUIEdit",X,z._preGUI,J),V.up=ue,p.nestedProperty(X,ne).set(ue)}}else O.keyBindingMode=_;F.fullSceneLayout.hovermode=B};function T(_,B,F){for(var O=0,N=F-1;O<N;++O,--N)for(var z=0;z<B;++z)for(var V=0;V<4;++V){var W=4*(B*O+z)+V,$=4*(B*N+z)+V,re=_[W];_[W]=_[$],_[$]=re}}function k(_,B,F){for(var O=0;O<F;++O)for(var N=0;N<B;++N){var z=4*(B*O+N),V=_[z+3];if(V>0)for(var W=255/V,$=0;$<3;++$)_[z+$]=Math.min(W*_[z+$],255)}}A.toImage=function(_){var B=this;_||(_="png"),B.staticMode&&B.container.appendChild(c),B.glplot.redraw();var F=B.glplot.gl,O=F.drawingBufferWidth,N=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var z=new Uint8Array(O*N*4);F.readPixels(0,0,O,N,F.RGBA,F.UNSIGNED_BYTE,z),T(z,O,N),k(z,O,N);var V=document.createElement("canvas");V.width=O,V.height=N;var W=V.getContext("2d",{willReadFrequently:!0}),$=W.createImageData(O,N);$.data.set(z),W.putImageData($,0,0);var re;switch(_){case"jpeg":re=V.toDataURL("image/jpeg");break;case"webp":re=V.toDataURL("image/webp");break;default:re=V.toDataURL("image/png")}return B.staticMode&&B.container.removeChild(c),re},A.setConvert=function(){for(var _=this,B=0;B<3;B++){var F=_.fullSceneLayout[m[B]];t.setConvert(F,_.fullLayout),F.setScale=p.noop}},A.make4thDimension=function(){var _=this,B=_.graphDiv,F=B._fullLayout;_._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(_._mockAxis,F)},j.exports=w},52094:function(j){j.exports=function(e,g,P,a){a=a||e.length;for(var x=new Array(a),M=0;M<a;M++)x[M]=[e[M],g[M],P[M]];return x}},64859:function(j,H,e){var g=e(25376),P=e(85656),a=e(22548),x=e(92872),M=e(34200),v=e(66741),p=e(92880).extendFlat,r=g({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=a.defaultLine,j.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:x.newshape,activeshape:x.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},47552:function(j,H,e){var g=e(95376),P="1.13.4",a='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',x=['© <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:x,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:x,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=g(p);j.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(j,H,e){var g=e(3400);j.exports=function(a,x){var M=a.split(" "),v=M[0],p=M[1],r=g.isArrayOrTypedArray(x)?g.mean(x):x,t=.5+r/100,i=1.5+r/100,n=["",""],u=[0,0];switch(v){case"top":n[0]="top",u[1]=-i;break;case"bottom":n[0]="bottom",u[1]=i;break}switch(p){case"left":n[1]="right",u[0]=-t;break;case"right":n[1]="left",u[0]=t;break}var f;return n[0]&&n[1]?f=n.join("-"):n[0]?f=n[0]:n[1]?f=n[1]:f="center",{anchor:f,offset:u}}},33688:function(j,H,e){var g=e(3480),P=e(3400),a=P.strTranslate,x=P.strScale,M=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),i=e(14440),n="mapbox",u=H.constants=e(47552);H.name=n,H.attr="subplot",H.idRoot=n,H.idRegex=H.attrRegex=P.counterRegex(n),H.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},H.layoutAttributes=e(5232),H.supplyLayoutDefaults=e(5976),H.plot=function(h){var S=h._fullLayout,c=h.calcdata,o=S._subplots[n];if(g.version!==u.requiredVersion)throw new Error(u.wrongVersionErrorMsg);var d=f(h,o);g.accessToken=d;for(var w=0;w<o.length;w++){var A=o[w],C=M(c,n,A),m=S[A],E=m._subplot;E||(E=new i(h,A),S[A]._subplot=E),E.viewInitial||(E.viewInitial={center:P.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),E.plot(C,S,h._promises)}},H.clean=function(y,h,S,c){for(var o=c._subplots[n]||[],d=0;d<o.length;d++){var w=o[d];!h[w]&&c[w]._subplot&&c[w]._subplot.destroy()}},H.toSVG=function(y){for(var h=y._fullLayout,S=h._subplots[n],c=h._size,o=0;o<S.length;o++){var d=h[S[o]],w=d.domain,A=d._subplot,C=A.toImage("png"),m=h._glimages.append("svg:image");m.attr({xmlns:v.svg,"xlink:href":C,x:c.l+c.w*w.x[0],y:c.t+c.h*(1-w.y[1]),width:c.w*(w.x[1]-w.x[0]),height:c.h*(w.y[1]-w.y[0]),preserveAspectRatio:"none"});var E=p.select(d._subplot.div),b=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!b){var s=h._glimages.append("g");s.attr("transform",a(c.l+c.w*w.x[0]+10,c.t+c.h*(1-w.y[0])-31)),s.append("path").attr("d",u.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",u.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",u.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",u.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var L=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),T=h._glimages.append("g"),k=T.append("text");k.text(L).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":L});var _=r.bBox(k.node()),B=c.w*(w.x[1]-w.x[0]);if(_.width>B/2){var F=L.split("|").join("<br>");k.text(F).attr("data-unformatted",F).call(t.convertToTspans,y),_=r.bBox(k.node())}k.attr("transform",a(-3,-_.height+8)),T.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;_.width+6>B&&(O=B/(_.width+6));var N=[c.l+c.w*w.x[1],c.t+c.h*(1-w.y[0])];T.attr("transform",a(N[0],N[1])+x(O))}};function f(y,h){var S=y._fullLayout,c=y._context;if(c.mapboxAccessToken==="")return"";for(var o=[],d=[],w=!1,A=!1,C=0;C<h.length;C++){var m=S[h[C]],E=m.accesstoken;l(m.style)&&(E?P.pushUnique(o,E):(l(m._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),w=!0),A=!0)),E&&P.pushUnique(d,E)}if(A){var b=w?u.noAccessTokenErrorMsg:u.missingStyleErrorMsg;throw P.error(b),new Error(b)}return o.length?(o.length>1&&P.warn(u.multipleTokensErrorMsg),o[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(y){return typeof y=="string"&&(u.styleValuesMapbox.indexOf(y)!==-1||y.indexOf("mapbox://")===0||y.indexOf("stamen")===0)}H.updateFx=function(y){for(var h=y._fullLayout,S=h._subplots[n],c=0;c<S.length;c++){var o=h[S[c]]._subplot;o.updateFx(h)}}},22360:function(j,H,e){var g=e(3400),P=e(72736).sanitizeHTML,a=e(89032),x=e(47552);function M(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=x.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=M.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(i){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},v.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},v.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(i){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var u=this.findFollowingMapboxLayerId(this.lookupBelow());u!==null&&this.subplot.map.moveLayer(this.idLayer,u)},v.updateSource=function(i){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,!!p(i)){var u=t(i);n.addSource(this.idSource,u)}},v.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var n=this.subplot.getMapLayers(),u=0;u<n.length;u++){var f=n[u].id;if(typeof f=="string"&&f.indexOf(x.traceLayerPrefix)===0){i=f;break}}return i},v.updateLayer=function(i){var n=this.subplot,u=r(i),f=this.lookupBelow(),l=this.findFollowingMapboxLayerId(f);this.removeLayer(),p(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:u.layout,paint:u.paint},l),this.layerType=i.type,this.below=f},v.updateStyle=function(i){if(p(i)){var n=r(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},v.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)};function p(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var u=0;u<n.length;u++)if(typeof n[u]!="string"||n[u].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(i){var n={},u={};switch(i.type){case"circle":g.extendFlat(u,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":g.extendFlat(u,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":g.extendFlat(u,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var f=i.symbol,l=a(f.textposition,f.iconsize);g.extendFlat(n,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":f.placement}),g.extendFlat(u,{"icon-color":i.color,"text-color":f.textfont.color,"text-opacity":i.opacity});break;case"raster":g.extendFlat(u,{"raster-fade-duration":0,"raster-opacity":i.opacity});break}return{layout:n,paint:u}}function t(i){var n=i.sourcetype,u=i.source,f={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof u=="string"?"url":"tiles":n==="raster"?(l="tiles",f.tileSize=256):n==="image"&&(l="url",f.coordinates=i.coordinates),f[l]=u,i.sourceattribution&&(f.attribution=P(i.sourceattribution)),f}j.exports=function(n,u,f){var l=new M(n,u);return l.update(f),l}},5232:function(j,H,e){var g=e(3400),P=e(76308).defaultLine,a=e(86968).u,x=e(25376),M=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=x({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var i=j.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:g.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root");i.uirevision={valType:"any",editType:"none"}},5976:function(j,H,e){var g=e(3400),P=e(168),a=e(51272),x=e(5232);j.exports=function(r,t,i){P(r,t,i,{type:"mapbox",attributes:x,handleDefaults:M,partition:"y",accessToken:t._mapboxAccessToken})};function M(p,r,t,i){t("accesstoken",i.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),u=t("bounds.east"),f=t("bounds.south"),l=t("bounds.north");(n===void 0||u===void 0||f===void 0||l===void 0)&&delete r.bounds,a(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(y,h){return g.coerce(p,r,x.layers,y,h)}var i=t("visible");if(i){var n=t("sourcetype"),u=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var f;u&&(f="raster");var l=t("type",f);u&&l!=="raster"&&(l=r.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),g.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(j,H,e){var g=e(3480),P=e(3400),a=e(27144),x=e(24040),M=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,i=r.selectMode,n=e(22676).prepSelect,u=e(22676).clearOutline,f=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,y=e(47552),h=e(22360);function S(C,m){this.id=m,this.gd=C;var E=C._fullLayout,b=C._context;this.container=E._glcontainer.node(),this.isStatic=b.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=S.prototype;c.plot=function(C,m,E){var b=this,s=m[b.id];b.map&&s.accesstoken!==b.accessToken&&(b.map.remove(),b.map=null,b.styleObj=null,b.traceHash={},b.layerList=[]);var L;b.map?L=new Promise(function(T,k){b.updateMap(C,m,T,k)}):L=new Promise(function(T,k){b.createMap(C,m,T,k)}),E.push(L)},c.createMap=function(C,m,E,b){var s=this,L=m[s.id],T=s.styleObj=d(L.style,m);s.accessToken=L.accesstoken;var k=L.bounds,_=k?[[k.west,k.south],[k.east,k.north]]:null,B=s.map=new g.Map({container:s.div,style:T.style,center:A(L.center),zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,maxBounds:_,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));B._canvas.style.left="0px",B._canvas.style.top="0px",s.rejectOnError(b),s.isStatic||s.initFx(C,m);var F=[];F.push(new Promise(function(O){B.once("load",O)})),F=F.concat(a.fetchTraceGeoData(C)),Promise.all(F).then(function(){s.fillBelowLookup(C,m),s.updateData(C),s.updateLayout(m),s.resolveOnRender(E)}).catch(b)},c.updateMap=function(C,m,E,b){var s=this,L=s.map,T=m[this.id];s.rejectOnError(b);var k=[],_=d(T.style,m);JSON.stringify(s.styleObj)!==JSON.stringify(_)&&(s.styleObj=_,L.setStyle(_.style),s.traceHash={},k.push(new Promise(function(B){L.once("styledata",B)}))),k=k.concat(a.fetchTraceGeoData(C)),Promise.all(k).then(function(){s.fillBelowLookup(C,m),s.updateData(C),s.updateLayout(m),s.resolveOnRender(E)}).catch(b)},c.fillBelowLookup=function(C,m){var E=m[this.id],b=E.layers,s,L,T=this.belowLookup={},k=!1;for(s=0;s<C.length;s++){var _=C[s][0].trace,B=_._module;typeof _.below=="string"?L=_.below:B.getBelow&&(L=B.getBelow(_,this)),L===""&&(k=!0),T["trace-"+_.uid]=L||""}for(s=0;s<b.length;s++){var F=b[s];typeof F.below=="string"?L=F.below:k?L="traces":L="",T["layout-"+s]=L}var O={},N,z;for(N in T)L=T[N],O[L]?O[L].push(N):O[L]=[N];for(L in O){var V=O[L];if(V.length>1)for(s=0;s<V.length;s++)N=V[s],N.indexOf("trace-")===0?(z=N.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):N.indexOf("layout-")===0&&(z=N.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(C){var m=this.traceHash,E,b,s,L,T=C.slice().sort(function(O,N){return o[O[0].trace.type]-o[N[0].trace.type]});for(s=0;s<T.length;s++){var k=T[s];b=k[0].trace,E=m[b.uid];var _=!1;E&&(E.type===b.type?(E.update(k),_=!0):E.dispose()),!_&&b._module&&(m[b.uid]=b._module.plot(this,k))}var B=Object.keys(m);e:for(s=0;s<B.length;s++){var F=B[s];for(L=0;L<C.length;L++)if(b=C[L][0].trace,F===b.uid)continue e;E=m[F],E.dispose(),delete m[F]}},c.updateLayout=function(C){var m=this.map,E=C[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(A(E.center)),m.setZoom(E.zoom),m.setBearing(E.bearing),m.setPitch(E.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},c.resolveOnRender=function(C){var m=this.map;m.on("render",function E(){m.loaded()&&(m.off("render",E),setTimeout(C,10))})},c.rejectOnError=function(C){var m=this.map;function E(){C(new Error(y.mapOnErrorMsg))}m.once("error",E),m.once("style.error",E),m.once("source.error",E),m.once("tile.error",E),m.once("layer.error",E)},c.createFramework=function(C){var m=this,E=m.div=document.createElement("div");E.id=m.uid,E.style.position="absolute",m.container.appendChild(E),m.xaxis={_id:"x",c2p:function(b){return m.project(b).x}},m.yaxis={_id:"y",c2p:function(b){return m.project(b).y}},m.updateFramework(C),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(m.mockAxis,C)},c.initFx=function(C,m){var E=this,b=E.gd,s=E.map;s.on("moveend",function(k){if(E.map){var _=b._fullLayout;if(k.originalEvent||E.wheeling){var B=_[E.id];x.call("_storeDirectGUIEdit",b.layout,_._preGUI,E.getViewEdits(B));var F=E.getView();B._input.center=B.center=F.center,B._input.zoom=B.zoom=F.zoom,B._input.bearing=B.bearing=F.bearing,B._input.pitch=B.pitch=F.pitch,b.emit("plotly_relayout",E.getViewEditsWithDerived(F))}k.originalEvent&&k.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),_._rehover&&_._rehover()}}),s.on("wheel",function(){E.wheeling=!0}),s.on("mousemove",function(k){var _=E.div.getBoundingClientRect(),B=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return _},E.xaxis.p2c=function(){return s.unproject(B).lng},E.yaxis.p2c=function(){return s.unproject(B).lat},b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===E.id&&b._fullLayout[E.id]&&p.hover(b,k,E.id)},p.hover(b,k,E.id),b._fullLayout._hoversubplot=E.id});function L(){p.loneUnhover(m._hoverlayer)}s.on("dragstart",function(){E.dragging=!0,L()}),s.on("zoomstart",L),s.on("mouseout",function(){b._fullLayout._hoversubplot=null});function T(){var k=E.getView();b.emit("plotly_relayouting",E.getViewEditsWithDerived(k))}s.on("drag",T),s.on("zoom",T),s.on("dblclick",function(){var k=b._fullLayout[E.id];x.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,E.getViewEdits(k));var _=E.viewInitial;s.setCenter(A(_.center)),s.setZoom(_.zoom),s.setBearing(_.bearing),s.setPitch(_.pitch);var B=E.getView();k._input.center=k.center=B.center,k._input.zoom=k.zoom=B.zoom,k._input.bearing=k.bearing=B.bearing,k._input.pitch=k.pitch=B.pitch,b.emit("plotly_doubleclick",null),b.emit("plotly_relayout",E.getViewEditsWithDerived(B))}),E.clearOutline=function(){f(E.dragOptions),u(E.dragOptions.gd)},E.onClickInPanFn=function(k){return function(_){var B=b._fullLayout.clickmode;B.indexOf("select")>-1&&l(_.originalEvent,b,[E.xaxis],[E.yaxis],E.id,k),B.indexOf("event")>-1&&p.click(b,_.originalEvent)}}},c.updateFx=function(C){var m=this,E=m.map,b=m.gd;if(m.isStatic)return;function s(_){var B=m.map.unproject(_);return[B.lng,B.lat]}var L=C.dragmode,T;T=function(_,B){if(B.isRect){var F=_.range={};F[m.id]=[s([B.xmin,B.ymin]),s([B.xmax,B.ymax])]}else{var O=_.lassoPoints={};O[m.id]=B.map(s)}};var k=m.dragOptions;m.dragOptions=P.extendDeep(k||{},{dragmode:C.dragmode,element:m.div,gd:b,plotinfo:{id:m.id,domain:C[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:T},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),E.off("click",m.onClickInPanHandler),i(L)||t(L)?(E.dragPan.disable(),E.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(_,B,F){n(_,B,F,m.dragOptions,L)},v.init(m.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),E.on("click",m.onClickInPanHandler))},c.updateFramework=function(C){var m=C[this.id].domain,E=C._size,b=this.div.style;b.width=E.w*(m.x[1]-m.x[0])+"px",b.height=E.h*(m.y[1]-m.y[0])+"px",b.left=E.l+m.x[0]*E.w+"px",b.top=E.t+(1-m.y[1])*E.h+"px",this.xaxis._offset=E.l+m.x[0]*E.w,this.xaxis._length=E.w*(m.x[1]-m.x[0]),this.yaxis._offset=E.t+(1-m.y[1])*E.h,this.yaxis._length=E.h*(m.y[1]-m.y[0])},c.updateLayers=function(C){var m=C[this.id],E=m.layers,b=this.layerList,s;if(E.length!==b.length){for(s=0;s<b.length;s++)b[s].dispose();for(b=this.layerList=[],s=0;s<E.length;s++)b.push(h(this,s,E[s]))}else for(s=0;s<E.length;s++)b[s].update(E[s])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(C,m,E){for(var b in E)this.map[m](C,b,E[b])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(C,m){var E=this.map;if(typeof m=="string"){if(m===""){E.addLayer(C,m);return}for(var b=this.getMapLayers(),s=0;s<b.length;s++)if(m===b[s].id){E.addLayer(C,m);return}P.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(C)},c.project=function(C){return this.map.project(new g.LngLat(C[0],C[1]))},c.getView=function(){var C=this.map,m=C.getCenter(),E=m.lng,b=m.lat,s={lon:E,lat:b},L=C.getCanvas(),T=parseInt(L.style.width),k=parseInt(L.style.height);return{center:s,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([T,0]).toArray(),C.unproject([T,k]).toArray(),C.unproject([0,k]).toArray()]}}},c.getViewEdits=function(C){for(var m=this.id,E=["center","zoom","bearing","pitch"],b={},s=0;s<E.length;s++){var L=E[s];b[m+"."+L]=C[L]}return b},c.getViewEditsWithDerived=function(C){var m=this.id,E=this.getViewEdits(C);return E[m+"._derived"]=C._derived,E};function d(C,m){var E={};if(P.isPlainObject(C))E.id=C.id,E.style=C;else if(typeof C=="string")if(E.id=C,y.styleValuesMapbox.indexOf(C)!==-1)E.style=w(C);else if(y.stylesNonMapbox[C]){E.style=y.stylesNonMapbox[C];var b=E.style.sources["plotly-"+C],s=b?b.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=m._mapboxAccessToken)}else E.style=C;else E.id=y.styleValueDflt,E.style=w(y.styleValueDflt);return E.transition={duration:0,delay:0},E}function w(C){return y.styleUrlPrefix+C+"-"+y.styleUrlSuffix}function A(C){return[C.lon,C.lat]}j.exports=S},66741:function(j){j.exports=function(H){var e=H.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(j,H,e){var g=e(33428),P=e(94336).m_,a=e(57624).SO,x=e(38248),M=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),i=e(76308),n=e(39032).BADNUM,u=e(79811),f=e(1936).clearOutline,l=e(55308),y=e(85656),h=e(16672),S=e(84888)._M,c=t.relinkPrivateKeys,o=t._,d=j.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859),d.fontWeight="normal";var w=d.transformsRegistry,A=e(62460);d.executeAPICommand=A.executeAPICommand,d.computeAPICommandBindings=A.computeAPICommandBindings,d.manageCommandObserver=A.manageCommandObserver,d.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,d.redrawText=function(Y){return Y=t.getGraphDiv(Y),new Promise(function(q){setTimeout(function(){Y._fullLayout&&(v.getComponentMethod("annotations","draw")(Y),v.getComponentMethod("legend","draw")(Y),v.getComponentMethod("colorbar","draw")(Y),q(d.previousPromises(Y)))},300)})},d.resize=function(Y){Y=t.getGraphDiv(Y);var q,se=new Promise(function(Q,K){(!Y||t.isHidden(Y))&&K(new Error("Resize must be passed a displayed plot div element.")),Y._redrawTimer&&clearTimeout(Y._redrawTimer),Y._resolveResize&&(q=Y._resolveResize),Y._resolveResize=Q,Y._redrawTimer=setTimeout(function(){if(!Y.layout||Y.layout.width&&Y.layout.height||t.isHidden(Y)){Q(Y);return}delete Y.layout.width,delete Y.layout.height;var le=Y.changed;Y.autoplay=!0,v.call("relayout",Y,{autosize:!0}).then(function(){Y.changed=le,Y._resolveResize===Q&&(delete Y._resolveResize,Q(Y))})},100)});return q&&q(se),se},d.previousPromises=function(Y){if((Y._promises||[]).length)return Promise.all(Y._promises).then(function(){Y._promises=[]})},d.addLinks=function(Y){if(!(!Y._context.showLink&&!Y._context.showSources)){var q=Y._fullLayout,se=t.ensureSingle(q._paper,"text","js-plot-link-container",function(ye){ye.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var Ce=g.select(this);Ce.append("tspan").classed("js-link-to-tool",!0),Ce.append("tspan").classed("js-link-spacer",!0),Ce.append("tspan").classed("js-sourcelinks",!0)})}),Q=se.node(),K={y:q._paper.attr("height")-9};document.body.contains(Q)&&Q.getComputedTextLength()>=q.width-20?(K["text-anchor"]="start",K.x=5):(K["text-anchor"]="end",K.x=q._paper.attr("width")-7),se.attr(K);var le=se.select(".js-link-to-tool"),ie=se.select(".js-link-spacer"),ce=se.select(".js-sourcelinks");Y._context.showSources&&Y._context.showSources(Y),Y._context.showLink&&C(Y,le),ie.text(le.text()&&ce.text()?" - ":"")}};function C(Y,q){q.text("");var se=q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Y._context.linkText+" "+String.fromCharCode(187));if(Y._context.sendData)se.on("click",function(){d.sendDataToCloud(Y)});else{var Q=window.location.pathname.split("/"),K=window.location.search;se.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Q[2].split(".")[0]+"/"+Q[1]+K})}}d.sendDataToCloud=function(Y){var q=(window.PLOTLYENV||{}).BASE_URL||Y._context.plotlyServerURL;if(q){Y.emit("plotly_beforeexport");var se=g.select(Y).append("div").attr("id","hiddenform").style("display","none"),Q=se.append("form").attr({action:q+"/external",method:"post",target:"_blank"}),K=Q.append("input").attr({type:"text",name:"data"});return K.node().value=d.graphJson(Y,!1,"keepdata"),Q.node().submit(),se.remove(),Y.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(Y,q){var se=q&&q.skipUpdateCalc,Q=Y._fullLayout||{};if(Q._skipDefaults){delete Q._skipDefaults;return}var K=Y._fullLayout={},le=Y.layout||{},ie=Y._fullData||[],ce=Y._fullData=[],ye=Y.data||[],Ce=Y.calcdata||[],Ae=Y._context||{},ke;Y._transitionData||d.createTransitionData(Y),K._dfltTitle={plot:o(Y,"Click to enter Plot title"),x:o(Y,"Click to enter X axis title"),y:o(Y,"Click to enter Y axis title"),colorbar:o(Y,"Click to enter Colorscale title"),annotation:o(Y,"new text")},K._traceWord=o(Y,"trace");var we=L(Y,m);if(K._mapboxAccessToken=Ae.mapboxAccessToken,Q._initialAutoSizeIsDone){var Ee=Q.width,xe=Q.height;d.supplyLayoutGlobalDefaults(le,K,we),le.width||(K.width=Ee),le.height||(K.height=xe),d.sanitizeMargins(K)}else{d.supplyLayoutGlobalDefaults(le,K,we);var Pe=!le.width||!le.height,Ue=K.autosize,Be=Ae.autosizable,Ne=Pe&&(Ue||Be);Ne?d.plotAutoSize(Y,le,K):Pe&&d.sanitizeMargins(K),!Ue&&Pe&&(le.width=K.width,le.height=K.height)}K._d3locale=T(we,K.separators),K._extraFormat=L(Y,E),K._initialAutoSizeIsDone=!0,K._dataLength=ye.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var Xe=K._subplots=s(),ut=K._splomAxes={x:{},y:{}},dt=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=b(ie,ye),K._globalTransforms=(Y._context||{}).globalTransforms,d.supplyDataDefaults(ye,ce,le,K);var at=Object.keys(ut.x),We=Object.keys(ut.y);if(at.length>1&&We.length>1){for(v.getComponentMethod("grid","sizeDefaults")(le,K),ke=0;ke<at.length;ke++)t.pushUnique(Xe.xaxis,at[ke]);for(ke=0;ke<We.length;ke++)t.pushUnique(Xe.yaxis,We[ke]);for(var rt in dt)t.pushUnique(Xe.cartesian,rt)}if(K._has=d._hasPlotType.bind(K),ie.length===ce.length)for(ke=0;ke<ce.length;ke++)c(ce[ke],ie[ke]);d.supplyLayoutModuleDefaults(le,K,ce,Y._transitionData);var st=K._visibleModules,ht=[];for(ke=0;ke<st.length;ke++){var vt=st[ke].crossTraceDefaults;vt&&t.pushUnique(ht,vt)}for(ke=0;ke<ht.length;ke++)ht[ke](ce,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&at.length>15&&We.length>15&&K.shapes.length===0&&K.images.length===0,d.linkSubplots(ce,K,ie,Q),d.cleanPlot(ce,K,ie,Q);var At=!!(Q._has&&Q._has("gl2d")),et=!!(K._has&&K._has("gl2d")),_e=!!(Q._has&&Q._has("cartesian")),Ve=!!(K._has&&K._has("cartesian")),Ze=_e||At,He=Ve||et;Ze&&!He?Q._bgLayer.remove():He&&!Ze&&(K._shouldCreateBgLayer=!0),Q._zoomlayer&&!Y._dragging&&f({_fullLayout:Q}),k(ce,K),c(K,Q),v.getComponentMethod("colorscale","crossTraceDefaults")(ce,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var Ie=K._tracePreGUI,be={},me;for(me in Ie)be[me]="old";for(ke=0;ke<ce.length;ke++)me=ce[ke]._fullInput.uid,be[me]||(Ie[me]={}),be[me]="new";for(me in be)be[me]==="old"&&delete Ie[me];N(K),v.getComponentMethod("rangeslider","makeData")(K),!se&&Ce.length===ce.length&&d.supplyDefaultsUpdateCalc(Ce,ce)},d.supplyDefaultsUpdateCalc=function(Y,q){for(var se=0;se<q.length;se++){var Q=q[se],K=(Y[se]||[])[0];if(K&&K.trace){var le=K.trace;if(le._hasCalcTransform){var ie=le._arrayAttrs,ce,ye,Ce;for(ce=0;ce<ie.length;ce++)ye=ie[ce],Ce=t.nestedProperty(le,ye).get().slice(),t.nestedProperty(Q,ye).set(Ce)}K.trace=Q}}};function b(Y,q){var se=q.length,Q=[],K,le;for(K=0;K<Y.length;K++){var ie=Y[K]._fullInput;ie!==le&&Q.push(ie),le=ie}var ce=Q.length,ye=new Array(se),Ce={};function Ae(Ee,xe){ye[xe]=Ee,Ce[Ee]=1}function ke(Ee,xe){if(Ee&&typeof Ee=="string"&&!Ce[Ee])return Ae(Ee,xe),!0}for(K=0;K<se;K++){var we=q[K].uid;typeof we=="number"&&(we=String(we)),!ke(we,K)&&(K<ce&&ke(Q[K].uid,K)||Ae(t.randstr(Ce),K))}return ye}function s(){var Y=v.collectableSubplotTypes,q={},se,Q;if(!Y){Y=[];var K=v.subplotsRegistry;for(var le in K){var ie=K[le],ce=ie.attr;if(ce&&(Y.push(le),Array.isArray(ce)))for(Q=0;Q<ce.length;Q++)t.pushUnique(Y,ce[Q])}}for(se=0;se<Y.length;se++)q[Y[se]]=[];return q}function L(Y,q){var se=Y._context.locale;se||(se="en-US");var Q=!1,K={};function le(ke){for(var we=!0,Ee=0;Ee<q.length;Ee++){var xe=q[Ee];K[xe]||(ke[xe]?K[xe]=ke[xe]:we=!1)}we&&(Q=!0)}for(var ie=0;ie<2;ie++){for(var ce=Y._context.locales,ye=0;ye<2;ye++){var Ce=(ce[se]||{}).format;if(Ce&&(le(Ce),Q))break;ce=v.localeRegistry}var Ae=se.split("-")[0];if(Q||Ae===se)break;se=Ae}return Q||le(v.localeRegistry.en.format),K}function T(Y,q){return Y.decimal=q.charAt(0),Y.thousands=q.charAt(1),{numberFormat:function(se){try{se=a(Y).format(t.adjustFormat(se))}catch{return t.warnBadFormat(se),t.noFormat}return se},timeFormat:P(Y).utcFormat}}function k(Y,q){var se,Q=[];q.meta&&(se=q._meta={meta:q.meta,layout:{meta:q.meta}});for(var K=0;K<Y.length;K++){var le=Y[K];le.meta?Q[le.index]=le._meta={meta:le.meta}:q.meta&&(le._meta={meta:q.meta}),q.meta&&(le._meta.layout={meta:q.meta})}Q.length&&(se||(se=q._meta={}),se.data=Q)}d.createTransitionData=function(Y){Y._transitionData||(Y._transitionData={}),Y._transitionData._frames||(Y._transitionData._frames=[]),Y._transitionData._frameHash||(Y._transitionData._frameHash={}),Y._transitionData._counter||(Y._transitionData._counter=0),Y._transitionData._interruptCallbacks||(Y._transitionData._interruptCallbacks=[])},d._hasPlotType=function(Y){var q,se=this._basePlotModules||[];for(q=0;q<se.length;q++)if(se[q].name===Y)return!0;var Q=this._modules||[];for(q=0;q<Q.length;q++){var K=Q[q].name;if(K===Y)return!0;var le=v.modules[K];if(le&&le.categories[Y])return!0}return!1},d.cleanPlot=function(Y,q,se,Q){var K,le,ie=Q._basePlotModules||[];for(K=0;K<ie.length;K++){var ce=ie[K];ce.clean&&ce.clean(Y,q,se,Q)}var ye=Q._has&&Q._has("gl"),Ce=q._has&&q._has("gl");ye&&!Ce&&Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.selectAll(".no-webgl").remove(),Q._glcanvas=null);var Ae=!!Q._infolayer;e:for(K=0;K<se.length;K++){var ke=se[K],we=ke.uid;for(le=0;le<Y.length;le++){var Ee=Y[le];if(we===Ee.uid)continue e}Ae&&Q._infolayer.select(".cb"+we).remove()}},d.linkSubplots=function(Y,q,se,Q){var K,le,ie=Q._plots||{},ce=q._plots={},ye=q._subplots,Ce={_fullData:Y,_fullLayout:q},Ae=ye.cartesian.concat(ye.gl2d||[]);for(K=0;K<Ae.length;K++){var ke=Ae[K],we=ie[ke],Ee=u.getFromId(Ce,ke,"x"),xe=u.getFromId(Ce,ke,"y"),Pe;for(we?Pe=ce[ke]=we:(Pe=ce[ke]={},Pe.id=ke),Ee._counterAxes.push(xe._id),xe._counterAxes.push(Ee._id),Ee._subplotsWith.push(ke),xe._subplotsWith.push(ke),Pe.xaxis=Ee,Pe.yaxis=xe,Pe._hasClipOnAxisFalse=!1,le=0;le<Y.length;le++){var Ue=Y[le];if(Ue.xaxis===Pe.xaxis._id&&Ue.yaxis===Pe.yaxis._id&&Ue.cliponaxis===!1){Pe._hasClipOnAxisFalse=!0;break}}}var Be=u.list(Ce,null,!0),Ne;for(K=0;K<Be.length;K++){Ne=Be[K];var Xe=null;Ne.overlaying&&(Xe=u.getFromId(Ce,Ne.overlaying),Xe&&Xe.overlaying&&(Ne.overlaying=!1,Xe=null)),Ne._mainAxis=Xe||Ne,Xe&&(Ne.domain=Xe.domain.slice()),Ne._anchorAxis=Ne.anchor==="free"?null:u.getFromId(Ce,Ne.anchor)}for(K=0;K<Be.length;K++)if(Ne=Be[K],Ne._counterAxes.sort(u.idSort),Ne._subplotsWith.sort(t.subplotSort),Ne._mainSubplot=_(Ne,q),Ne._counterAxes.length&&(Ne.spikemode&&Ne.spikemode.indexOf("across")!==-1||Ne.automargin&&Ne.mirror&&Ne.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Ne))){var ut=1,dt=0;for(le=0;le<Ne._counterAxes.length;le++){var at=u.getFromId(Ce,Ne._counterAxes[le]);ut=Math.min(ut,at.domain[0]),dt=Math.max(dt,at.domain[1])}ut<dt&&(Ne._counterDomainMin=ut,Ne._counterDomainMax=dt)}};function _(Y,q){var se={_fullLayout:q},Q=Y._id.charAt(0)==="x",K=Y._mainAxis._anchorAxis,le="",ie="",ce="";if(K&&(ce=K._mainAxis._id,le=Q?Y._id+ce:ce+Y._id),!le||!q._plots[le]){le="";for(var ye=Y._counterAxes,Ce=0;Ce<ye.length;Ce++){var Ae=ye[Ce],ke=Q?Y._id+Ae:Ae+Y._id;ie||(ie=ke);var we=u.getFromId(se,Ae);if(ce&&we.overlaying===ce){le=ke;break}}}return le||ie}d.clearExpandedTraceDefaultColors=function(Y){var q,se,Q;function K(ie,ce,ye,Ce){se[Ce]=ce,se.length=Ce+1,ie.valType==="color"&&ie.dflt===void 0&&q.push(se.join("."))}for(se=[],q=Y._module._colorAttrs,q||(Y._module._colorAttrs=q=[],p.crawl(Y._module.attributes,K)),Q=0;Q<q.length;Q++){var le=t.nestedProperty(Y,"_input."+q[Q]);le.get()||t.nestedProperty(Y,q[Q]).set(null)}},d.supplyDataDefaults=function(Y,q,se,Q){var K=Q._modules,le=Q._visibleModules,ie=Q._basePlotModules,ce=0,ye=0,Ce,Ae,ke;Q._transformModules=[];function we(We){q.push(We);var rt=We._module;rt&&(t.pushUnique(K,rt),We.visible===!0&&t.pushUnique(le,rt),t.pushUnique(ie,We._module.basePlotModule),ce++,We._input.visible!==!1&&ye++)}var Ee={},xe=[],Pe=(se.template||{}).data||{},Ue=r.traceTemplater(Pe);for(Ce=0;Ce<Y.length;Ce++){if(ke=Y[Ce],Ae=Ue.newTrace(ke),Ae.uid=Q._traceUids[Ce],d.supplyTraceDefaults(ke,Ae,ye,Q,Ce),Ae.index=Ce,Ae._input=ke,Ae._expandedIndex=ce,Ae.transforms&&Ae.transforms.length)for(var Be=ke.visible!==!1&&Ae.visible===!1,Ne=F(Ae,q,se,Q),Xe=0;Xe<Ne.length;Xe++){var ut=Ne[Xe],dt={_template:Ae._template,type:Ae.type,uid:Ae.uid+Xe};Be&&ut.visible===!1&&delete ut.visible,d.supplyTraceDefaults(ut,dt,ce,Q,Ce),c(dt,ut),dt.index=Ce,dt._input=ke,dt._fullInput=Ae,dt._expandedIndex=ce,dt._expandedInput=ut,we(dt)}else Ae._fullInput=Ae,Ae._expandedInput=Ae,we(Ae);v.traceIs(Ae,"carpetAxis")&&(Ee[Ae.carpet]=Ae),v.traceIs(Ae,"carpetDependent")&&xe.push(Ce)}for(Ce=0;Ce<xe.length;Ce++)if(Ae=q[xe[Ce]],!!Ae.visible){var at=Ee[Ae.carpet];if(Ae._carpet=at,!at||!at.visible){Ae.visible=!1;continue}Ae.xaxis=at.xaxis,Ae.yaxis=at.yaxis}},d.supplyAnimationDefaults=function(Y){Y=Y||{};var q,se={};function Q(K,le){return t.coerce(Y||{},se,y,K,le)}if(Q("mode"),Q("direction"),Q("fromcurrent"),Array.isArray(Y.frame))for(se.frame=[],q=0;q<Y.frame.length;q++)se.frame[q]=d.supplyAnimationFrameDefaults(Y.frame[q]||{});else se.frame=d.supplyAnimationFrameDefaults(Y.frame||{});if(Array.isArray(Y.transition))for(se.transition=[],q=0;q<Y.transition.length;q++)se.transition[q]=d.supplyAnimationTransitionDefaults(Y.transition[q]||{});else se.transition=d.supplyAnimationTransitionDefaults(Y.transition||{});return se},d.supplyAnimationFrameDefaults=function(Y){var q={};function se(Q,K){return t.coerce(Y||{},q,y.frame,Q,K)}return se("duration"),se("redraw"),q},d.supplyAnimationTransitionDefaults=function(Y){var q={};function se(Q,K){return t.coerce(Y||{},q,y.transition,Q,K)}return se("duration"),se("easing"),q},d.supplyFrameDefaults=function(Y){var q={};function se(Q,K){return t.coerce(Y,q,h,Q,K)}return se("group"),se("name"),se("traces"),se("baseframe"),se("data"),se("layout"),q},d.supplyTraceDefaults=function(Y,q,se,Q,K){var le=Q.colorway||i.defaults,ie=le[se%le.length],ce;function ye(Xe,ut){return t.coerce(Y,q,d.attributes,Xe,ut)}var Ce=ye("visible");ye("type"),ye("name",Q._traceWord+" "+K),ye("uirevision",Q.uirevision);var Ae=d.getModule(q);if(q._module=Ae,Ae){var ke=Ae.basePlotModule,we=ke.attr,Ee=ke.attributes;if(we&&Ee){var xe=Q._subplots,Pe="";if(Ce||ke.name!=="gl2d"){if(Array.isArray(we))for(ce=0;ce<we.length;ce++){var Ue=we[ce],Be=t.coerce(Y,q,Ee,Ue);xe[Ue]&&t.pushUnique(xe[Ue],Be),Pe+=Be}else Pe=t.coerce(Y,q,Ee,we);xe[ke.name]&&t.pushUnique(xe[ke.name],Pe)}}}if(Ce){if(ye("customdata"),ye("ids"),ye("meta"),v.traceIs(q,"showLegend")?(t.coerce(Y,q,Ae.attributes.showlegend?Ae.attributes:d.attributes,"showlegend"),ye("legend"),ye("legendwidth"),ye("legendgroup"),ye("legendgrouptitle.text"),ye("legendrank"),q._dfltShowLegend=!0):q._dfltShowLegend=!1,Ae&&Ae.supplyDefaults(Y,q,ie,Q),v.traceIs(q,"noOpacity")||ye("opacity"),v.traceIs(q,"notLegendIsolatable")&&(q.visible=!!q.visible),v.traceIs(q,"noHover")||(q.hovertemplate||t.coerceHoverinfo(Y,q,Q),q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(Y,q,ie,Q)),Ae&&Ae.selectPoints){var Ne=ye("selectedpoints");t.isTypedArray(Ne)&&(q.selectedpoints=Array.from(Ne))}d.supplyTransformDefaults(Y,q,Q)}return q};function B(Y){var q=Y.transforms;if(Array.isArray(q)&&q.length)for(var se=0;se<q.length;se++){var Q=q[se],K=Q._module||w[Q.type];if(K&&K.makesData)return!0}return!1}d.hasMakesDataTransform=B,d.supplyTransformDefaults=function(Y,q,se){if(q._length||B(Y)){var Q=se._globalTransforms||[],K=se._transformModules||[];if(!(!Array.isArray(Y.transforms)&&Q.length===0))for(var le=Y.transforms||[],ie=Q.concat(le),ce=q.transforms=[],ye=0;ye<ie.length;ye++){var Ce=ie[ye],Ae=Ce.type,ke=w[Ae],we,Ee=!(Ce._module&&Ce._module===ke),xe=ke&&typeof ke.transform=="function";ke||t.warn("Unrecognized transform type "+Ae+"."),ke&&ke.supplyDefaults&&(Ee||xe)?(we=ke.supplyDefaults(Ce,q,se,Y),we.type=Ae,we._module=ke,t.pushUnique(K,ke)):we=t.extendFlat({},Ce),ce.push(we)}}};function F(Y,q,se,Q){for(var K=Y.transforms,le=[Y],ie=0;ie<K.length;ie++){var ce=K[ie],ye=w[ce.type];ye&&ye.transform&&(le=ye.transform(le,{transform:ce,fullTrace:Y,fullData:q,layout:se,fullLayout:Q,transformIndex:ie}))}return le}d.supplyLayoutGlobalDefaults=function(Y,q,se){function Q(ke,we){return t.coerce(Y,q,d.layoutAttributes,ke,we)}var K=Y.template;t.isPlainObject(K)&&(q.template=K,q._template=K.layout,q._dataTemplate=K.data),Q("autotypenumbers");var le=t.coerceFont(Q,"font"),ie=le.size;t.coerceFont(Q,"title.font",t.extendFlat({},le,{size:Math.round(ie*1.4)})),Q("title.text",q._dfltTitle.plot),Q("title.xref");var ce=Q("title.yref");Q("title.pad.t"),Q("title.pad.r"),Q("title.pad.b"),Q("title.pad.l");var ye=Q("title.automargin");Q("title.x"),Q("title.xanchor"),Q("title.y"),Q("title.yanchor"),ye&&(ce==="paper"&&(q.title.y!==0&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y===0?"top":"bottom")),ce==="container"&&(q.title.y==="auto"&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y<.5?"bottom":"top")));var Ce=Q("uniformtext.mode");Ce&&Q("uniformtext.minsize"),Q("autosize",!(Y.width&&Y.height)),Q("width"),Q("height"),Q("minreducedwidth"),Q("minreducedheight"),Q("margin.l"),Q("margin.r"),Q("margin.t"),Q("margin.b"),Q("margin.pad"),Q("margin.autoexpand"),Y.width&&Y.height&&d.sanitizeMargins(q),v.getComponentMethod("grid","sizeDefaults")(Y,q),Q("paper_bgcolor"),Q("separators",se.decimal+se.thousands),Q("hidesources"),Q("colorway"),Q("datarevision");var Ae=Q("uirevision");Q("editrevision",Ae),Q("selectionrevision",Ae),v.getComponentMethod("modebar","supplyLayoutDefaults")(Y,q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Y,q,Q),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Y,q,Q),Q("meta"),t.isPlainObject(Y.transition)&&(Q("transition.duration"),Q("transition.easing"),Q("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(Y,q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Y,q,Q),t.coerce(Y,q,l,"scattermode")};function O(Y){return typeof Y=="string"&&Y.substr(Y.length-2)==="px"&&parseFloat(Y)}d.plotAutoSize=function(q,se,Q){var K=q._context||{},le=K.frameMargins,ie,ce,ye=t.isPlotDiv(q);if(ye&&q.emit("plotly_autosize"),K.fillFrame)ie=window.innerWidth,ce=window.innerHeight,document.body.style.overflow="hidden";else{var Ce=ye?window.getComputedStyle(q):{};if(ie=O(Ce.width)||O(Ce.maxWidth)||Q.width,ce=O(Ce.height)||O(Ce.maxHeight)||Q.height,x(le)&&le>0){var Ae=1-2*le;ie=Math.round(Ae*ie),ce=Math.round(Ae*ce)}}var ke=d.layoutAttributes.width.min,we=d.layoutAttributes.height.min;ie<ke&&(ie=ke),ce<we&&(ce=we);var Ee=!se.width&&Math.abs(Q.width-ie)>1,xe=!se.height&&Math.abs(Q.height-ce)>1;(xe||Ee)&&(Ee&&(Q.width=ie),xe&&(Q.height=ce)),q._initialAutoSize||(q._initialAutoSize={width:ie,height:ce}),d.sanitizeMargins(Q)},d.supplyLayoutModuleDefaults=function(Y,q,se,Q){var K=v.componentsRegistry,le=q._basePlotModules,ie,ce,ye,Ce=v.subplotsRegistry.cartesian;for(ie in K)ye=K[ie],ye.includeBasePlot&&ye.includeBasePlot(Y,q);le.length||le.push(Ce),q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(Y,q),Ce.finalizeSubplots(Y,q));for(var Ae in q._subplots)q._subplots[Ae].sort(t.subplotSort);for(ce=0;ce<le.length;ce++)ye=le[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,q,se);var ke=q._modules;for(ce=0;ce<ke.length;ce++)ye=ke[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,q,se);var we=q._transformModules;for(ce=0;ce<we.length;ce++)ye=we[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,q,se,Q);for(ie in K)ye=K[ie],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,q,se)},d.purge=function(Y){var q=Y._fullLayout||{};q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.remove(),q._glcanvas=null),q._modeBar&&q._modeBar.destroy(),Y._transitionData&&(Y._transitionData._interruptCallbacks&&(Y._transitionData._interruptCallbacks.length=0),Y._transitionData._animationRaf&&window.cancelAnimationFrame(Y._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Y),delete Y.data,delete Y.layout,delete Y._fullData,delete Y._fullLayout,delete Y.calcdata,delete Y.empty,delete Y.fid,delete Y.undoqueue,delete Y.undonum,delete Y.autoplay,delete Y.changed,delete Y._promises,delete Y._redrawTimer,delete Y._hmlumcount,delete Y._hmpixcount,delete Y._transitionData,delete Y._transitioning,delete Y._initialAutoSize,delete Y._transitioningWithDuration,delete Y._dragging,delete Y._dragged,delete Y._dragdata,delete Y._hoverdata,delete Y._snapshotInProgress,delete Y._editing,delete Y._mouseDownTime,delete Y._legendMouseDownTime,Y.removeAllListeners&&Y.removeAllListeners()},d.style=function(Y){var q=Y._fullLayout._visibleModules,se=[],Q;for(Q=0;Q<q.length;Q++){var K=q[Q];K.style&&t.pushUnique(se,K.style)}for(Q=0;Q<se.length;Q++)se[Q](Y)},d.sanitizeMargins=function(Y){if(!(!Y||!Y.margin)){var q=Y.width,se=Y.height,Q=Y.margin,K=q-(Q.l+Q.r),le=se-(Q.t+Q.b),ie;K<0&&(ie=(q-1)/(Q.l+Q.r),Q.l=Math.floor(ie*Q.l),Q.r=Math.floor(ie*Q.r)),le<0&&(ie=(se-1)/(Q.t+Q.b),Q.t=Math.floor(ie*Q.t),Q.b=Math.floor(ie*Q.b))}},d.clearAutoMarginIds=function(Y){Y._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(Y,q){Y._fullLayout._pushmarginIds[q]=1};function N(Y){var q=Y.margin;if(!Y._size){var se=Y._size={l:Math.round(q.l),r:Math.round(q.r),t:Math.round(q.t),b:Math.round(q.b),p:Math.round(q.pad)};se.w=Math.round(Y.width)-se.l-se.r,se.h=Math.round(Y.height)-se.t-se.b}Y._pushmargin||(Y._pushmargin={}),Y._pushmarginIds||(Y._pushmarginIds={}),Y._reservedMargin||(Y._reservedMargin={})}var z=2,V=2;d.autoMargin=function(Y,q,se){var Q=Y._fullLayout,K=Q.width,le=Q.height,ie=Q.margin,ce=Q.minreducedwidth,ye=Q.minreducedheight,Ce=t.constrain(K-ie.l-ie.r,z,ce),Ae=t.constrain(le-ie.t-ie.b,V,ye),ke=Math.max(0,K-Ce),we=Math.max(0,le-Ae),Ee=Q._pushmargin,xe=Q._pushmarginIds;if(ie.autoexpand!==!1){if(!se)delete Ee[q],delete xe[q];else{var Pe=se.pad;if(Pe===void 0&&(Pe=Math.min(12,ie.l,ie.r,ie.t,ie.b)),ke){var Ue=(se.l+se.r)/ke;Ue>1&&(se.l/=Ue,se.r/=Ue)}if(we){var Be=(se.t+se.b)/we;Be>1&&(se.t/=Be,se.b/=Be)}var Ne=se.xl!==void 0?se.xl:se.x,Xe=se.xr!==void 0?se.xr:se.x,ut=se.yt!==void 0?se.yt:se.y,dt=se.yb!==void 0?se.yb:se.y;Ee[q]={l:{val:Ne,size:se.l+Pe},r:{val:Xe,size:se.r+Pe},b:{val:dt,size:se.b+Pe},t:{val:ut,size:se.t+Pe}},xe[q]=1}if(!Q._replotting)return d.doAutoMargin(Y)}};function W(Y){if("_redrawFromAutoMarginCount"in Y._fullLayout)return!1;var q=u.list(Y,"",!0);for(var se in q)if(q[se].autoshift||q[se].shift)return!0;return!1}d.doAutoMargin=function(Y){var q=Y._fullLayout,se=q.width,Q=q.height;q._size||(q._size={}),N(q);var K=q._size,le=q.margin,ie={t:0,b:0,l:0,r:0},ce=t.extendFlat({},K),ye=le.l,Ce=le.r,Ae=le.t,ke=le.b,we=q._pushmargin,Ee=q._pushmarginIds,xe=q.minreducedwidth,Pe=q.minreducedheight;if(le.autoexpand!==!1){for(var Ue in we)Ee[Ue]||delete we[Ue];var Be=Y._fullLayout._reservedMargin;for(var Ne in Be)for(var Xe in Be[Ne]){var ut=Be[Ne][Xe];ie[Xe]=Math.max(ie[Xe],ut)}we.base={l:{val:0,size:ye},r:{val:1,size:Ce},t:{val:1,size:Ae},b:{val:0,size:ke}};for(var dt in ie){var at=0;for(var We in we)We!=="base"&&x(we[We][dt].size)&&(at=we[We][dt].size>at?we[We][dt].size:at);var rt=Math.max(0,le[dt]-at);ie[dt]=Math.max(0,ie[dt]-rt)}for(var st in we){var ht=we[st].l||{},vt=we[st].b||{},At=ht.val,et=ht.size,_e=vt.val,Ve=vt.size,Ze=se-ie.r-ie.l,He=Q-ie.t-ie.b;for(var Ie in we){if(x(et)&&we[Ie].r){var be=we[Ie].r.val,me=we[Ie].r.size;if(be>At){var Me=(et*be+(me-Ze)*At)/(be-At),Te=(me*(1-At)+(et-Ze)*(1-be))/(be-At);Me+Te>ye+Ce&&(ye=Me,Ce=Te)}}if(x(Ve)&&we[Ie].t){var Oe=we[Ie].t.val,Ke=we[Ie].t.size;if(Oe>_e){var nt=(Ve*Oe+(Ke-He)*_e)/(Oe-_e),pt=(Ke*(1-_e)+(Ve-He)*(1-Oe))/(Oe-_e);nt+pt>ke+Ae&&(ke=nt,Ae=pt)}}}}}var yt=t.constrain(se-le.l-le.r,z,xe),Yt=t.constrain(Q-le.t-le.b,V,Pe),Xt=Math.max(0,se-yt),St=Math.max(0,Q-Yt);if(Xt){var kt=(ye+Ce)/Xt;kt>1&&(ye/=kt,Ce/=kt)}if(St){var Kt=(ke+Ae)/St;Kt>1&&(ke/=Kt,Ae/=Kt)}if(K.l=Math.round(ye)+ie.l,K.r=Math.round(Ce)+ie.r,K.t=Math.round(Ae)+ie.t,K.b=Math.round(ke)+ie.b,K.p=Math.round(le.pad),K.w=Math.round(se)-K.l-K.r,K.h=Math.round(Q)-K.t-K.b,!q._replotting&&(d.didMarginChange(ce,K)||W(Y))){"_redrawFromAutoMarginCount"in q?q._redrawFromAutoMarginCount++:q._redrawFromAutoMarginCount=1;var mr=3*(1+Object.keys(Ee).length);if(q._redrawFromAutoMarginCount<mr)return v.call("_doPlot",Y);q._size=ce,t.warn("Too many auto-margin redraws.")}$(Y)};function $(Y){var q=u.list(Y,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(se){for(var Q=0;Q<q.length;Q++){var K=q[Q][se];K&&K()}})}var re=["l","r","t","b","p","w","h"];d.didMarginChange=function(Y,q){for(var se=0;se<re.length;se++){var Q=re[se],K=Y[Q],le=q[Q];if(!x(K)||Math.abs(le-K)>1)return!0}return!1},d.graphJson=function(Y,q,se,Q,K,le){(K&&q&&!Y._fullData||K&&!q&&!Y._fullLayout)&&d.supplyDefaults(Y);var ie=K?Y._fullData:Y.data,ce=K?Y._fullLayout:Y.layout,ye=(Y._transitionData||{})._frames;function Ce(we,Ee){if(typeof we=="function")return Ee?"_function_":null;if(t.isPlainObject(we)){var xe={},Pe;return Object.keys(we).sort().forEach(function(Xe){if(["_","["].indexOf(Xe.charAt(0))===-1){if(typeof we[Xe]=="function"){Ee&&(xe[Xe]="_function");return}if(se==="keepdata"){if(Xe.substr(Xe.length-3)==="src")return}else if(se==="keepstream"){if(Pe=we[Xe+"src"],typeof Pe=="string"&&Pe.indexOf(":")>0&&!t.isPlainObject(we.stream))return}else if(se!=="keepall"&&(Pe=we[Xe+"src"],typeof Pe=="string"&&Pe.indexOf(":")>0))return;xe[Xe]=Ce(we[Xe],Ee)}}),xe}var Ue=Array.isArray(we),Be=t.isTypedArray(we);if((Ue||Be)&&we.dtype&&we.shape){var Ne=we.bdata;return Ce({dtype:we.dtype,shape:we.shape,bdata:t.isArrayBuffer(Ne)?M.encode(Ne):Ne},Ee)}return Ue?we.map(function(Xe){return Ce(Xe,Ee)}):Be?t.simpleMap(we,t.identity):t.isJSDate(we)?t.ms2DateTimeLocal(+we):we}var Ae={data:(ie||[]).map(function(we){var Ee=Ce(we);return q&&delete Ee.fit,Ee})};if(!q&&(Ae.layout=Ce(ce),K)){var ke=ce._size;Ae.layout.computed={margin:{b:ke.b,l:ke.l,r:ke.r,t:ke.t}}}return ye&&(Ae.frames=Ce(ye)),le&&(Ae.config=Ce(Y._context,!0)),Q==="object"?Ae:JSON.stringify(Ae)},d.modifyFrames=function(Y,q){var se,Q,K,le=Y._transitionData._frames,ie=Y._transitionData._frameHash;for(se=0;se<q.length;se++)switch(Q=q[se],Q.type){case"replace":K=Q.value;var ce=(le[Q.index]||{}).name,ye=K.name;le[Q.index]=ie[ye]=K,ye!==ce&&(delete ie[ce],ie[ye]=K);break;case"insert":K=Q.value,ie[K.name]=K,le.splice(Q.index,0,K);break;case"delete":K=le[Q.index],delete ie[K.name],le.splice(Q.index,1);break}return Promise.resolve()},d.computeFrame=function(Y,q){var se=Y._transitionData._frameHash,Q,K,le,ie;if(!q)throw new Error("computeFrame must be given a string frame name");var ce=se[q.toString()];if(!ce)return!1;for(var ye=[ce],Ce=[ce.name];ce.baseframe&&(ce=se[ce.baseframe.toString()])&&Ce.indexOf(ce.name)===-1;)ye.push(ce),Ce.push(ce.name);for(var Ae={};ce=ye.pop();)if(ce.layout&&(Ae.layout=d.extendLayout(Ae.layout,ce.layout)),ce.data){if(Ae.data||(Ae.data=[]),K=ce.traces,!K)for(K=[],Q=0;Q<ce.data.length;Q++)K[Q]=Q;for(Ae.traces||(Ae.traces=[]),Q=0;Q<ce.data.length;Q++)le=K[Q],le!=null&&(ie=Ae.traces.indexOf(le),ie===-1&&(ie=Ae.data.length,Ae.traces[ie]=le),Ae.data[ie]=d.extendTrace(Ae.data[ie],ce.data[Q]))}return Ae},d.recomputeFrameHash=function(Y){for(var q=Y._transitionData._frameHash={},se=Y._transitionData._frames,Q=0;Q<se.length;Q++){var K=se[Q];K&&K.name&&(q[K.name]=K)}},d.extendObjectWithContainers=function(Y,q,se){var Q,K,le,ie,ce,ye,Ce,Ae,ke=t.extendDeepNoArrays({},q||{}),we=t.expandObjectPaths(ke),Ee={};if(se&&se.length)for(le=0;le<se.length;le++)Q=t.nestedProperty(we,se[le]),K=Q.get(),K===void 0?t.nestedProperty(Ee,se[le]).set(null):(Q.set(null),t.nestedProperty(Ee,se[le]).set(K));if(Y=t.extendDeepNoArrays(Y||{},we),se&&se.length){for(le=0;le<se.length;le++)if(ce=t.nestedProperty(Ee,se[le]),Ce=ce.get(),!!Ce){for(ye=t.nestedProperty(Y,se[le]),Ae=ye.get(),Array.isArray(Ae)||(Ae=[],ye.set(Ae)),ie=0;ie<Ce.length;ie++){var xe=Ce[ie];xe===null?Ae[ie]=null:Ae[ie]=d.extendObjectWithContainers(Ae[ie],xe)}ye.set(Ae)}}return Y},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(Y,q){return d.extendObjectWithContainers(Y,q,d.dataArrayContainers)},d.extendLayout=function(Y,q){return d.extendObjectWithContainers(Y,q,d.layoutArrayContainers)},d.transition=function(Y,q,se,Q,K,le){var ie={redraw:K.redraw},ce={},ye=[];return ie.prepareFn=function(){for(var Ce=Array.isArray(q)?q.length:0,Ae=Q.slice(0,Ce),ke=0;ke<Ae.length;ke++){var we=Ae[ke],Ee=Y._fullData[we],xe=Ee._module;if(xe){if(xe.animatable){var Pe=xe.basePlotModule.name;ce[Pe]||(ce[Pe]=[]),ce[Pe].push(we)}Y.data[Ae[ke]]=d.extendTrace(Y.data[Ae[ke]],q[ke])}}var Ue=t.expandObjectPaths(t.extendDeepNoArrays({},se)),Be=/^[xy]axis[0-9]*$/;for(var Ne in Ue)Be.test(Ne)&&delete Ue[Ne].range;d.extendLayout(Y.layout,Ue),delete Y.calcdata,d.supplyDefaults(Y),d.doCalcdata(Y);var Xe=t.expandObjectPaths(se);if(Xe){var ut=Y._fullLayout._plots;for(var dt in ut){var at=ut[dt],We=at.xaxis,rt=at.yaxis,st=We.range.slice(),ht=rt.range.slice(),vt=null,At=null,et=null,_e=null;Array.isArray(Xe[We._name+".range"])?vt=Xe[We._name+".range"].slice():Array.isArray((Xe[We._name]||{}).range)&&(vt=Xe[We._name].range.slice()),Array.isArray(Xe[rt._name+".range"])?At=Xe[rt._name+".range"].slice():Array.isArray((Xe[rt._name]||{}).range)&&(At=Xe[rt._name].range.slice()),st&&vt&&(We.r2l(st[0])!==We.r2l(vt[0])||We.r2l(st[1])!==We.r2l(vt[1]))&&(et={xr0:st,xr1:vt}),ht&&At&&(rt.r2l(ht[0])!==rt.r2l(At[0])||rt.r2l(ht[1])!==rt.r2l(At[1]))&&(_e={yr0:ht,yr1:At}),(et||_e)&&ye.push(t.extendFlat({plotinfo:at},et,_e))}}return Promise.resolve()},ie.runFn=function(Ce){var Ae,ke=Y._fullLayout._basePlotModules,we=ye.length,Ee;if(se)for(Ee=0;Ee<ke.length;Ee++)ke[Ee].transitionAxes&&ke[Ee].transitionAxes(Y,ye,le,Ce);we?(Ae=t.extendFlat({},le),Ae.duration=0,delete ce.cartesian):Ae=le;for(var xe in ce){var Pe=ce[xe],Ue=Y._fullData[Pe[0]]._module;Ue.basePlotModule.plot(Y,Pe,Ae,Ce)}},ne(Y,le,ie)},d.transitionFromReact=function(Y,q,se,Q){var K=Y._fullLayout,le=K.transition,ie={},ce=[];return ie.prepareFn=function(){var ye=K._plots;ie.redraw=!1,q.anim==="some"&&(ie.redraw=!0),se.anim==="some"&&(ie.redraw=!0);for(var Ce in ye){var Ae=ye[Ce],ke=Ae.xaxis,we=Ae.yaxis,Ee=Q[ke._name].range.slice(),xe=Q[we._name].range.slice(),Pe=ke.range.slice(),Ue=we.range.slice();ke.setScale(),we.setScale();var Be=null,Ne=null;(ke.r2l(Ee[0])!==ke.r2l(Pe[0])||ke.r2l(Ee[1])!==ke.r2l(Pe[1]))&&(Be={xr0:Ee,xr1:Pe}),(we.r2l(xe[0])!==we.r2l(Ue[0])||we.r2l(xe[1])!==we.r2l(Ue[1]))&&(Ne={yr0:xe,yr1:Ue}),(Be||Ne)&&ce.push(t.extendFlat({plotinfo:Ae},Be,Ne))}return Promise.resolve()},ie.runFn=function(ye){for(var Ce=Y._fullData,Ae=Y._fullLayout,ke=Ae._basePlotModules,we,Ee,xe,Pe=[],Ue=0;Ue<Ce.length;Ue++)Pe.push(Ue);function Be(){if(Y._fullLayout)for(var Xe=0;Xe<ke.length;Xe++)ke[Xe].transitionAxes&&ke[Xe].transitionAxes(Y,ce,we,ye)}function Ne(){if(Y._fullLayout)for(var Xe=0;Xe<ke.length;Xe++)ke[Xe].plot(Y,xe,Ee,ye)}ce.length&&q.anim?le.ordering==="traces first"?(we=t.extendFlat({},le,{duration:0}),xe=Pe,Ee=le,setTimeout(Be,le.duration),Ne()):(we=le,xe=null,Ee=t.extendFlat({},le,{duration:0}),setTimeout(Ne,we.duration),Be()):ce.length?(we=le,Be()):q.anim&&(xe=Pe,Ee=le,Ne())},ne(Y,le,ie)};function ne(Y,q,se){var Q=!1;function K(ke){var we=Promise.resolve();if(!ke)return we;for(;ke.length;)we=we.then(ke.shift());return we}function le(ke){if(ke)for(;ke.length;)ke.shift()}function ie(){return Y.emit("plotly_transitioning",[]),new Promise(function(ke){Y._transitioning=!0,q.duration>0&&(Y._transitioningWithDuration=!0),Y._transitionData._interruptCallbacks.push(function(){Q=!0}),se.redraw&&Y._transitionData._interruptCallbacks.push(function(){return v.call("redraw",Y)}),Y._transitionData._interruptCallbacks.push(function(){Y.emit("plotly_transitioninterrupted",[])});var we=0,Ee=0;function xe(){return we++,function(){Ee++,!Q&&Ee===we&&ce(ke)}}se.runFn(xe),setTimeout(xe())})}function ce(ke){if(Y._transitionData)return le(Y._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(se.redraw)return v.call("redraw",Y)}).then(function(){Y._transitioning=!1,Y._transitioningWithDuration=!1,Y.emit("plotly_transitioned",[])}).then(ke)}function ye(){if(Y._transitionData)return Y._transitioning=!1,K(Y._transitionData._interruptCallbacks)}var Ce=[d.previousPromises,ye,se.prepareFn,d.rehover,d.reselect,ie],Ae=t.syncOrAsync(Ce,Y);return(!Ae||!Ae.then)&&(Ae=Promise.resolve()),Ae.then(function(){return Y})}d.doCalcdata=function(Y,q){var se=u.list(Y),Q=Y._fullData,K=Y._fullLayout,le,ie,ce,ye,Ce=new Array(Q.length),Ae=(Y.calcdata||[]).slice();for(Y.calcdata=Ce,K._numBoxes=0,K._numViolins=0,K._violinScaleGroupStats={},Y._hmpixcount=0,Y._hmlumcount=0,K._piecolormap={},K._sunburstcolormap={},K._treemapcolormap={},K._iciclecolormap={},K._funnelareacolormap={},ce=0;ce<Q.length;ce++)if(Array.isArray(q)&&q.indexOf(ce)===-1){Ce[ce]=Ae[ce];continue}for(ce=0;ce<Q.length;ce++)le=Q[ce],le._arrayAttrs=p.findArrayAttributes(le),le._extremes={};var ke=K._subplots.polar||[];for(ce=0;ce<ke.length;ce++)se.push(K[ke[ce]].radialaxis,K[ke[ce]].angularaxis);for(var we in K._colorAxes){var Ee=K[we];Ee.cauto!==!1&&(delete Ee.cmin,delete Ee.cmax)}var xe=!1;function Pe(Ne){if(le=Q[Ne],ie=le._module,le.visible===!0&&le.transforms){if(ie&&ie.calc){var Xe=ie.calc(Y,le);Xe[0]&&Xe[0].t&&Xe[0].t._scene&&delete Xe[0].t._scene.dirty}for(ye=0;ye<le.transforms.length;ye++){var ut=le.transforms[ye];ie=w[ut.type],ie&&ie.calcTransform&&(le._hasCalcTransform=!0,xe=!0,ie.calcTransform(Y,le,ut))}}}function Ue(Ne,Xe){if(le=Q[Ne],ie=le._module,!!ie.isContainer===Xe){var ut=[];if(le.visible===!0&&le._length!==0){delete le._indexToPoints;var dt=le.transforms||[];for(ye=dt.length-1;ye>=0;ye--)if(dt[ye].enabled){le._indexToPoints=dt[ye]._indexToPoints;break}ie&&ie.calc&&(ut=ie.calc(Y,le))}(!Array.isArray(ut)||!ut[0])&&(ut=[{x:n,y:n}]),ut[0].t||(ut[0].t={}),ut[0].trace=le,Ce[Ne]=ut}}for(X(se,Q,K),ce=0;ce<Q.length;ce++)Ue(ce,!0);for(ce=0;ce<Q.length;ce++)Pe(ce);for(xe&&X(se,Q,K),ce=0;ce<Q.length;ce++)Ue(ce,!0);for(ce=0;ce<Q.length;ce++)Ue(ce,!1);oe(Y);var Be=J(se,Y);if(Be.length){for(K._numBoxes=0,K._numViolins=0,ce=0;ce<Be.length;ce++)Ue(Be[ce],!0);for(ce=0;ce<Be.length;ce++)Ue(Be[ce],!1);oe(Y)}v.getComponentMethod("fx","calc")(Y),v.getComponentMethod("errorbars","calc")(Y)};var ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function J(Y,q){var se=[],Q,K,le,ie,ce;function ye(Ie,be,me){var Me=be._id.charAt(0);if(Ie==="histogram2dcontour"){var Te=be._counterAxes[0],Oe=u.getFromId(q,Te),Ke=Me==="x"||Te==="x"&&Oe.type==="category",nt=Me==="y"||Te==="y"&&Oe.type==="category";return function(pt,yt){return pt===0||yt===0||Ke&&pt===me[yt].length-1||nt&&yt===me.length-1?-1:(Me==="y"?yt:pt)-1}}else return function(pt,yt){return Me==="y"?yt:pt}}var Ce={min:function(Ie){return t.aggNums(Math.min,null,Ie)},max:function(Ie){return t.aggNums(Math.max,null,Ie)},sum:function(Ie){return t.aggNums(function(be,me){return be+me},null,Ie)},total:function(Ie){return t.aggNums(function(be,me){return be+me},null,Ie)},mean:function(Ie){return t.mean(Ie)},median:function(Ie){return t.median(Ie)}};function Ae(Ie,be){return Ie[1]-be[1]}function ke(Ie,be){return be[1]-Ie[1]}for(Q=0;Q<Y.length;Q++){var we=Y[Q];if(we.type==="category"){var Ee=we.categoryorder.match(ue);if(Ee){var xe=Ee[1],Pe=Ee[2],Ue=we._id.charAt(0),Be=Ue==="x",Ne=[];for(K=0;K<we._categories.length;K++)Ne.push([we._categories[K],[]]);for(K=0;K<we._traceIndices.length;K++){var Xe=we._traceIndices[K],ut=q._fullData[Xe];if(ut.visible===!0){var dt=ut.type;v.traceIs(ut,"histogram")&&(delete ut._xautoBinFinished,delete ut._yautoBinFinished);var at=dt==="splom",We=dt==="scattergl",rt=q.calcdata[Xe];for(le=0;le<rt.length;le++){var st=rt[le],ht,vt;if(at){var At=ut._axesDim[we._id];if(!Be){var et=ut._diag[At][0];et&&(we=q._fullLayout[u.id2name(et)])}var _e=st.trace.dimensions[At].values;for(ie=0;ie<_e.length;ie++)for(ht=we._categoriesMap[_e[ie]],ce=0;ce<st.trace.dimensions.length;ce++)if(ce!==At){var Ve=st.trace.dimensions[ce];Ne[ht][1].push(Ve.values[ie])}}else if(We){for(ie=0;ie<st.t.x.length;ie++)Be?(ht=st.t.x[ie],vt=st.t.y[ie]):(ht=st.t.y[ie],vt=st.t.x[ie]),Ne[ht][1].push(vt);st.t&&st.t._scene&&delete st.t._scene.dirty}else if(st.hasOwnProperty("z")){vt=st.z;var Ze=ye(ut.type,we,vt);for(ie=0;ie<vt.length;ie++)for(ce=0;ce<vt[ie].length;ce++)ht=Ze(ce,ie),ht+1&&Ne[ht][1].push(vt[ie][ce])}else for(ht=st.p,ht===void 0&&(ht=st[Ue]),vt=st.s,vt===void 0&&(vt=st.v),vt===void 0&&(vt=Be?st.y:st.x),Array.isArray(vt)||(vt===void 0?vt=[]:vt=[vt]),ie=0;ie<vt.length;ie++)Ne[ht][1].push(vt[ie])}}}we._categoriesValue=Ne;var He=[];for(K=0;K<Ne.length;K++)He.push([Ne[K][0],Ce[xe](Ne[K][1])]);He.sort(Pe==="descending"?ke:Ae),we._categoriesAggregatedValue=He,we._initialCategories=He.map(function(Ie){return Ie[0]}),se=se.concat(we.sortByInitialCategories())}}}return se}function X(Y,q,se){var Q={};function K(ye){ye.clearCalc(),ye.type==="multicategory"&&ye.setupMultiCategory(q),Q[ye._id]=1}t.simpleMap(Y,K);for(var le=se._axisMatchGroups||[],ie=0;ie<le.length;ie++)for(var ce in le[ie])Q[ce]||K(se[u.id2name(ce)])}function oe(Y){var q=Y._fullLayout,se=q._visibleModules,Q={},K,le,ie;for(le=0;le<se.length;le++){var ce=se[le],ye=ce.crossTraceCalc;if(ye){var Ce=ce.basePlotModule.name;Q[Ce]?t.pushUnique(Q[Ce],ye):Q[Ce]=[ye]}}for(ie in Q){var Ae=Q[ie],ke=q._subplots[ie];if(Array.isArray(ke))for(K=0;K<ke.length;K++){var we=ke[K],Ee=ie==="cartesian"?q._plots[we]:q[we];for(le=0;le<Ae.length;le++)Ae[le](Y,Ee,we)}else for(le=0;le<Ae.length;le++)Ae[le](Y)}}d.rehover=function(Y){Y._fullLayout._rehover&&Y._fullLayout._rehover()},d.redrag=function(Y){Y._fullLayout._redrag&&Y._fullLayout._redrag()},d.reselect=function(Y){var q=Y._fullLayout,se=(Y.layout||{}).selections,Q=q._previousSelections;q._previousSelections=se;var K=q._reselect||JSON.stringify(se)!==JSON.stringify(Q);v.getComponentMethod("selections","reselect")(Y,K)},d.generalUpdatePerTraceModule=function(Y,q,se,Q){var K=q.traceHash,le={},ie;for(ie=0;ie<se.length;ie++){var ce=se[ie],ye=ce[0].trace;ye.visible&&(le[ye.type]=le[ye.type]||[],le[ye.type].push(ce))}for(var Ce in K)if(!le[Ce]){var Ae=K[Ce][0],ke=Ae[0].trace;ke.visible=!1,le[Ce]=[Ae]}for(var we in le){var Ee=le[we],xe=Ee[0][0].trace._module;xe.plot(Y,q,t.filterVisible(Ee),Q)}q.traceHash=le},d.plotBasePlot=function(Y,q,se,Q,K){var le=v.getModule(Y),ie=S(q.calcdata,le)[0];le.plot(q,ie,Q,K)},d.cleanBasePlot=function(Y,q,se,Q,K){var le=K._has&&K._has(Y),ie=se._has&&se._has(Y);le&&!ie&&K["_"+Y+"layer"].selectAll("g.trace").remove()}},39360:function(j){j.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(j,H,e){var g=e(3400),P=e(92065).tester,a=g.findIndexOfMin,x=g.isAngleInsideSector,M=g.angleDelta,v=g.angleDist;function p(o,d,w,A,C){if(!x(d,A))return!1;var m,E;w[0]<w[1]?(m=w[0],E=w[1]):(m=w[1],E=w[0]);var b=P(u(m,A[0],A[1],C)),s=P(u(E,A[0],A[1],C)),L=[o*Math.cos(d),o*Math.sin(d)];return s.contains(L)&&!b.contains(L)}function r(o,d,w,A){var C,m,E=A[0],b=A[1],s=y(Math.sin(d)-Math.sin(o)),L=y(Math.cos(d)-Math.cos(o)),T=Math.tan(w),k=y(1/T),_=s/L,B=b-_*E;return k?s&&L?(C=B/(T-_),m=T*C):L?(C=b*k,m=b):(C=E,m=E*T):s&&L?(C=0,m=B):L?(C=0,m=b):C=m=NaN,[C,m]}function t(o,d,w,A){var C=-d*w,m=d*d+1,E=2*(d*C-w),b=C*C+w*w-o*o,s=Math.sqrt(E*E-4*m*b),L=(-E+s)/(2*m),T=(-E-s)/(2*m);return[[L,d*L+C+A],[T,d*T+C+A]]}function i(o,d){var w=d.length,A=new Array(w+1),C;for(C=0;C<w;C++){var m=d[C];A[C]=[o*Math.cos(m),o*Math.sin(m)]}return A[C]=A[0].slice(),A}function n(o,d,w,A){var C=A.length,m=[],E,b;function s(z){return[o*Math.cos(z),o*Math.sin(z)]}function L(z,V,W){return r(z,V,W,s(z))}function T(z){return g.mod(z,C)}function k(z){return x(z,[d,w])}var _=a(A,function(z){return k(z)?v(z,d):1/0}),B=L(A[_],A[T(_-1)],d);for(m.push(B),E=_,b=0;b<C;E++,b++){var F=A[T(E)];if(!k(F))break;m.push(s(F))}var O=a(A,function(z){return k(z)?v(z,w):1/0}),N=L(A[O],A[T(O+1)],w);return m.push(N),m.push([0,0]),m.push(m[0].slice()),m}function u(o,d,w,A){return g.isFullCircle([d,w])?i(o,A):n(o,d,w,A)}function f(o,d,w,A){for(var C=1/0,m=1/0,E=u(o,d,w,A),b=0;b<E.length;b++){var s=E[b];C=Math.min(C,s[0]),m=Math.min(m,-s[1])}return[C,m]}function l(o,d){var w=function(m){var E=M(m,o);return E>0?E:1/0},A=a(d,w),C=g.mod(A+1,d.length);return[d[A],d[C]]}function y(o){return Math.abs(o)>1e-10?o:0}function h(o,d,w){d=d||0,w=w||0;for(var A=o.length,C=new Array(A),m=0;m<A;m++){var E=o[m];C[m]=[d+E[0],w-E[1]]}return C}function S(o,d,w,A,C,m){var E=u(o,d,w,A);return"M"+h(E,C,m).join("L")}function c(o,d,w,A,C,m,E){var b,s;o<d?(b=o,s=d):(b=d,s=o);var L=h(u(b,w,A,C),m,E),T=h(u(s,w,A,C),m,E);return"M"+T.reverse().join("L")+"M"+L.join("L")}j.exports={isPtInsidePolygon:p,findPolygonOffset:f,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:y,pathPolygon:S,pathPolygonAnnulus:c}},40872:function(j,H,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(62400),x=e(39360),M=x.attr,v=x.name,p=P(v),r={};r[M]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var u=n._fullLayout,f=n.calcdata,l=u._subplots[v],y=0;y<l.length;y++){var h=l[y],S=g(f,v,h),c=u[h]._subplot;c||(c=a(n,h),u[h]._subplot=c),c.plot(S,u,n._promises)}}function i(n,u,f,l){for(var y=l._subplots[v]||[],h=l._has&&l._has("gl"),S=u._has&&u._has("gl"),c=h&&!S,o=0;o<y.length;o++){var d=y[o],w=l[d]._subplot;if(!u[d]&&w){w.framework.remove(),w.layers["radial-axis-title"].remove();for(var A in w.clipPaths)w.clipPaths[A].remove()}c&&w._scene&&(w._scene.destroy(),w._scene=null)}}j.exports={attr:M,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:i,toSVG:e(57952).toSVG}},95300:function(j,H,e){var g=e(22548),P=e(94724),a=e(86968).u,x=e(3400).extendFlat,M=e(67824).overrideAll,v=M({color:P.color,showline:x({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:x({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=M({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:x({},P.visible,{dflt:!0}),type:x({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:x({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:x({},P.minallowed,{editType:"plot"}),maxallowed:x({},P.maxallowed,{editType:"plot"}),range:x({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:x({},P.title.text,{editType:"plot",dflt:""}),font:x({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};x(r,v,p);var t={visible:x({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};x(t,v,p),j.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(j,H,e){var g=e(3400),P=e(76308),a=e(31780),x=e(168),M=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),i=e(22416),n=e(42136),u=e(76808),f=e(52976),l=e(95300),y=e(57696),h=e(39360),S=h.axisNames;function c(d,w,A,C){var m=A("bgcolor");C.bgColor=P.combine(m,C.paper_bgcolor);var E=A("sector");A("hole");var b=M(C.fullData,h.name,C.id),s=C.layoutOut,L;function T(q,se){return A(L+"."+q,se)}for(var k=0;k<S.length;k++){L=S[k],g.isPlainObject(d[L])||(d[L]={});var _=d[L],B=a.newContainer(w,L);B._id=B._name=L,B._attr=C.id+"."+L,B._traceIndices=b.map(function(q){return q._expandedIndex});var F=h.axisName2dataArray[L],O=o(_,B,T,b,F,C);i(_,B,T,{axData:b,dataAttr:F});var N=T("visible");switch(y(B,w,s),T("uirevision",w.uirevision),B._m=1,L){case"radialaxis":T("minallowed"),T("maxallowed");var z=T("range"),V=B.getAutorangeDflt(z),W=T("autorange",V),$;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(W==="reversed"||W===!0)||z[0]!==null&&(W==="min"||W==="max reversed")||z[1]!==null&&(W==="max"||W==="min reversed"))&&(z=void 0,delete B.range,B.autorange=!0,$=!0),$||(V=B.getAutorangeDflt(z),W=T("autorange",V)),_.autorange=W,W&&(u(T,W,z),(O==="linear"||O==="-")&&T("rangemode"),B.isReversed()&&(B._m=-1)),B.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(O==="date"){g.log("Polar plots do not support date angular axes yet.");for(var re=0;re<b.length;re++)b[re].visible=!1;O=_.type=B.type="linear"}T(O==="linear"?"thetaunit":"period");var ne=T("direction");T("rotation",{counterclockwise:0,clockwise:90}[ne]);break}if(t(_,B,T,B.type,{tickSuffixDflt:B.thetaunit==="degrees"?"°":void 0}),N){var ue,J,X,oe,Y=C.font||{};ue=T("color"),J=ue===_.color?ue:Y.color,X=Y.size,oe=Y.family,v(_,B,T,B.type),r(_,B,T,B.type,{font:{color:J,size:X,family:oe},noAutotickangles:L==="angularaxis"}),p(_,B,T,{outerTicks:!0}),n(_,B,T,{dfltColor:ue,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[L]}),T("layer"),L==="radialaxis"&&(T("side"),T("angle",E[0]),T("title.text"),g.coerceFont(T,"title.font",{color:J,size:g.bigFont(X),family:oe}))}O!=="category"&&T("hoverformat"),B._input=_}w.angularaxis.type==="category"&&A("gridshape")}function o(d,w,A,C,m,E){var b=A("autotypenumbers",E.autotypenumbersDflt),s=A("type");if(s==="-"){for(var L,T=0;T<C.length;T++)if(C[T].visible){L=C[T];break}L&&L[m]&&(w.type=f(L[m],"gregorian",{noMultiCategory:!0,autotypenumbers:b})),w.type==="-"?w.type="linear":d.type=w.type}return w.type}j.exports=function(w,A,C){x(w,A,C,{type:h.name,attributes:l,handleDefaults:c,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:C,layoutOut:A})}},62400:function(j,H,e){var g=e(33428),P=e(49760),a=e(24040),x=e(3400),M=x.strRotate,v=x.strTranslate,p=e(76308),r=e(43616),t=e(7316),i=e(54460),n=e(78344),u=e(57696),f=e(19280).doAutoRange,l=e(51184),y=e(86476),h=e(93024),S=e(81668),c=e(22676).prepSelect,o=e(22676).selectOnClick,d=e(22676).clearOutline,w=e(93972),A=e(73696),C=e(39172).redrawReglTraces,m=e(84284).MID_SHIFT,E=e(39360),b=e(57384),s=e(36416),L=s.smith,T=s.reactanceArc,k=s.resistanceArc,_=s.smithTransform,B=x._,F=x.mod,O=x.deg2rad,N=x.rad2deg;function z(ue,J,X){this.isSmith=X||!1,this.id=J,this.gd=ue,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var oe=ue._fullLayout,Y="clip"+oe._uid+J;this.clipIds.forTraces=Y+"-for-traces",this.clipPaths.forTraces=oe._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=oe["_"+(X?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(q){return this.isSmith?0:q.hole},this.getSector=function(q){return this.isSmith?[0,360]:q.sector},this.getRadial=function(q){return this.isSmith?q.realaxis:q.radialaxis},this.getAngular=function(q){return this.isSmith?q.imaginaryaxis:q.angularaxis},X||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=z.prototype;j.exports=function(J,X,oe){return new z(J,X,oe)},V.plot=function(ue,J){for(var X=this,oe=J[X.id],Y=!1,q=0;q<ue.length;q++){var se=ue[q][0].trace;if(se.cliponaxis===!1){Y=!0;break}}X._hasClipOnAxisFalse=Y,X.updateLayers(J,oe),X.updateLayout(J,oe),t.generalUpdatePerTraceModule(X.gd,X,ue,oe),X.updateFx(J,oe),X.isSmith&&(delete oe.realaxis.range,delete oe.imaginaryaxis.range)},V.updateLayers=function(ue,J){var X=this,oe=X.isSmith,Y=X.layers,q=X.getRadial(J),se=X.getAngular(J),Q=E.layerNames,K=Q.indexOf("frontplot"),le=Q.slice(0,K),ie=se.layer==="below traces",ce=q.layer==="below traces";ie&&le.push("angular-line"),ce&&le.push("radial-line"),ie&&le.push("angular-axis"),ce&&le.push("radial-axis"),le.push("frontplot"),ie||le.push("angular-line"),ce||le.push("radial-line"),ie||le.push("angular-axis"),ce||le.push("radial-axis");var ye=(oe?"smith":"polar")+"sublayer",Ce=X.framework.selectAll("."+ye).data(le,String);Ce.enter().append("g").attr("class",function(Ae){return ye+" "+Ae}).each(function(Ae){var ke=Y[Ae]=g.select(this);switch(Ae){case"frontplot":oe||ke.append("g").classed("barlayer",!0),ke.append("g").classed("scatterlayer",!0);break;case"backplot":ke.append("g").classed("maplayer",!0);break;case"plotbg":Y.bg=ke.append("path");break;case"radial-grid":ke.style("fill","none");break;case"angular-grid":ke.style("fill","none");break;case"radial-line":ke.append("line").style("fill","none");break;case"angular-line":ke.append("path").style("fill","none");break}}),Ce.order()},V.updateLayout=function(ue,J){var X=this,oe=X.layers,Y=ue._size,q=X.getRadial(J),se=X.getAngular(J),Q=J.domain.x,K=J.domain.y;X.xOffset=Y.l+Y.w*Q[0],X.yOffset=Y.t+Y.h*(1-K[1]);var le=X.xLength=Y.w*(Q[1]-Q[0]),ie=X.yLength=Y.h*(K[1]-K[0]),ce=X.getSector(J);X.sectorInRad=ce.map(O);var ye=X.sectorBBox=$(ce),Ce=ye[2]-ye[0],Ae=ye[3]-ye[1],ke=ie/le,we=Math.abs(Ae/Ce),Ee,xe,Pe,Ue,Be;ke>we?(Ee=le,xe=le*we,Be=(ie-xe)/Y.h/2,Pe=[Q[0],Q[1]],Ue=[K[0]+Be,K[1]-Be]):(Ee=ie/we,xe=ie,Be=(le-Ee)/Y.w/2,Pe=[Q[0]+Be,Q[1]-Be],Ue=[K[0],K[1]]),X.xLength2=Ee,X.yLength2=xe,X.xDomain2=Pe,X.yDomain2=Ue;var Ne=X.xOffset2=Y.l+Y.w*Pe[0],Xe=X.yOffset2=Y.t+Y.h*(1-Ue[1]),ut=X.radius=Ee/Ce,dt=X.innerRadius=X.getHole(J)*ut,at=X.cx=Ne-ut*ye[0],We=X.cy=Xe+ut*ye[3],rt=X.cxx=at-Ne,st=X.cyy=We-Xe,ht=q.side,vt;ht==="counterclockwise"?(vt=ht,ht="top"):ht==="clockwise"&&(vt=ht,ht="bottom"),X.radialAxis=X.mockAxis(ue,J,q,{_id:"x",side:ht,_trueSide:vt,domain:[dt/Y.w,ut/Y.w]}),X.angularAxis=X.mockAxis(ue,J,se,{side:"right",domain:[0,Math.PI],autorange:!1}),X.doAutoRange(ue,J),X.updateAngularAxis(ue,J),X.updateRadialAxis(ue,J),X.updateRadialAxisTitle(ue,J),X.xaxis=X.mockCartesianAxis(ue,J,{_id:"x",domain:Pe}),X.yaxis=X.mockCartesianAxis(ue,J,{_id:"y",domain:Ue});var At=X.pathSubplot();X.clipPaths.forTraces.select("path").attr("d",At).attr("transform",v(rt,st)),oe.frontplot.attr("transform",v(Ne,Xe)).call(r.setClipUrl,X._hasClipOnAxisFalse?null:X.clipIds.forTraces,X.gd),oe.bg.attr("d",At).attr("transform",v(at,We)).call(p.fill,J.bgcolor)},V.mockAxis=function(ue,J,X,oe){var Y=x.extendFlat({},X,oe);return u(Y,J,ue),Y},V.mockCartesianAxis=function(ue,J,X){var oe=this,Y=oe.isSmith,q=X._id,se=x.extendFlat({type:"linear"},X);n(se,ue);var Q={x:[0,2],y:[1,3]};return se.setRange=function(){var K=oe.sectorBBox,le=Q[q],ie=oe.radialAxis._rl,ce=(ie[1]-ie[0])/(1-oe.getHole(J));se.range=[K[le[0]]*ce,K[le[1]]*ce]},se.isPtWithinRange=q==="x"&&!Y?function(K){return oe.isPtInside(K)}:function(){return!0},se.setRange(),se.setScale(),se},V.doAutoRange=function(ue,J){var X=this,oe=X.gd,Y=X.radialAxis,q=X.getRadial(J);f(oe,Y);var se=Y.range;if(q.range=se.slice(),q._input.range=se.slice(),Y._rl=[Y.r2l(se[0],null,"gregorian"),Y.r2l(se[1],null,"gregorian")],Y.minallowed!==void 0){var Q=Y.r2l(Y.minallowed);Y._rl[0]>Y._rl[1]?Y._rl[1]=Math.max(Y._rl[1],Q):Y._rl[0]=Math.max(Y._rl[0],Q)}if(Y.maxallowed!==void 0){var K=Y.r2l(Y.maxallowed);Y._rl[0]<Y._rl[1]?Y._rl[1]=Math.min(Y._rl[1],K):Y._rl[0]=Math.min(Y._rl[0],K)}},V.updateRadialAxis=function(ue,J){var X=this,oe=X.gd,Y=X.layers,q=X.radius,se=X.innerRadius,Q=X.cx,K=X.cy,le=X.getRadial(J),ie=F(X.getSector(J)[0],360),ce=X.radialAxis,ye=se<q,Ce=X.isSmith;Ce||(X.fillViewInitialKey("radialaxis.angle",le.angle),X.fillViewInitialKey("radialaxis.range",ce.range.slice()),ce.setGeometry()),ce.tickangle==="auto"&&ie>90&&ie<=270&&(ce.tickangle=180);var Ae=Ce?function(ut){var dt=_(X,L([ut.x,0]));return v(dt[0]-Q,dt[1]-K)}:function(ut){return v(ce.l2p(ut.x)+se,0)},ke=Ce?function(ut){return k(X,ut.x,-1/0,1/0)}:function(ut){return X.pathArc(ce.r2p(ut.x)+se)},we=W(le);if(X.radialTickLayout!==we&&(Y["radial-axis"].selectAll(".xtick").remove(),X.radialTickLayout=we),ye){ce.setScale();var Ee=0,xe=Ce?(ce.tickvals||[]).filter(function(ut){return ut>=0}).map(function(ut){return i.tickText(ce,ut,!0,!1)}):i.calcTicks(ce),Pe=Ce?xe:i.clipEnds(ce,xe),Ue=i.getTickSigns(ce)[2];Ce&&((ce.ticks==="top"&&ce.side==="bottom"||ce.ticks==="bottom"&&ce.side==="top")&&(Ue=-Ue),ce.ticks==="top"&&ce.side==="top"&&(Ee=-ce.ticklen),ce.ticks==="bottom"&&ce.side==="bottom"&&(Ee=ce.ticklen)),i.drawTicks(oe,ce,{vals:xe,layer:Y["radial-axis"],path:i.makeTickPath(ce,0,Ue),transFn:Ae,crisp:!1}),i.drawGrid(oe,ce,{vals:Pe,layer:Y["radial-grid"],path:ke,transFn:x.noop,crisp:!1}),i.drawLabels(oe,ce,{vals:xe,layer:Y["radial-axis"],transFn:Ae,labelFns:i.makeLabelFns(ce,Ee)})}var Be=X.radialAxisAngle=X.vangles?N(re(O(le.angle),X.vangles)):le.angle,Ne=v(Q,K),Xe=Ne+M(-Be);ne(Y["radial-axis"],ye&&(le.showticklabels||le.ticks),{transform:Xe}),ne(Y["radial-grid"],ye&&le.showgrid,{transform:Ce?"":Ne}),ne(Y["radial-line"].select("line"),ye&&le.showline,{x1:Ce?-q:se,y1:0,x2:q,y2:0,transform:Xe}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},V.updateRadialAxisTitle=function(ue,J,X){if(!this.isSmith){var oe=this,Y=oe.gd,q=oe.radius,se=oe.cx,Q=oe.cy,K=oe.getRadial(J),le=oe.id+"title",ie=0;if(K.title){var ce=r.bBox(oe.layers["radial-axis"].node()).height,ye=K.title.font.size,Ce=K.side;ie=Ce==="top"?ye:Ce==="counterclockwise"?-(ce+ye*.4):ce+ye*.8}var Ae=X!==void 0?X:oe.radialAxisAngle,ke=O(Ae),we=Math.cos(ke),Ee=Math.sin(ke),xe=se+q/2*we+ie*Ee,Pe=Q-q/2*Ee+ie*we;oe.layers["radial-axis-title"]=S.draw(Y,le,{propContainer:K,propName:oe.id+".radialaxis.title",placeholder:B(Y,"Click to enter radial axis title"),attributes:{x:xe,y:Pe,"text-anchor":"middle"},transform:{rotate:-Ae}})}},V.updateAngularAxis=function(ue,J){var X=this,oe=X.gd,Y=X.layers,q=X.radius,se=X.innerRadius,Q=X.cx,K=X.cy,le=X.getAngular(J),ie=X.angularAxis,ce=X.isSmith;ce||(X.fillViewInitialKey("angularaxis.rotation",le.rotation),ie.setGeometry(),ie.setScale());var ye=ce?function(dt){var at=_(X,L([0,dt.x]));return Math.atan2(at[0]-Q,at[1]-K)-Math.PI/2}:function(dt){return ie.t2g(dt.x)};ie.type==="linear"&&ie.thetaunit==="radians"&&(ie.tick0=N(ie.tick0),ie.dtick=N(ie.dtick));var Ce=function(dt){return v(Q+q*Math.cos(dt),K-q*Math.sin(dt))},Ae=ce?function(dt){var at=_(X,L([0,dt.x]));return v(at[0],at[1])}:function(dt){return Ce(ye(dt))},ke=ce?function(dt){var at=_(X,L([0,dt.x])),We=Math.atan2(at[0]-Q,at[1]-K)-Math.PI/2;return v(at[0],at[1])+M(-N(We))}:function(dt){var at=ye(dt);return Ce(at)+M(-N(at))},we=ce?function(dt){return T(X,dt.x,0,1/0)}:function(dt){var at=ye(dt),We=Math.cos(at),rt=Math.sin(at);return"M"+[Q+se*We,K-se*rt]+"L"+[Q+q*We,K-q*rt]},Ee=i.makeLabelFns(ie,0),xe=Ee.labelStandoff,Pe={};Pe.xFn=function(dt){var at=ye(dt);return Math.cos(at)*xe},Pe.yFn=function(dt){var at=ye(dt),We=Math.sin(at)>0?.2:1;return-Math.sin(at)*(xe+dt.fontSize*We)+Math.abs(Math.cos(at))*(dt.fontSize*m)},Pe.anchorFn=function(dt){var at=ye(dt),We=Math.cos(at);return Math.abs(We)<.1?"middle":We>0?"start":"end"},Pe.heightFn=function(dt,at,We){var rt=ye(dt);return-.5*(1+Math.sin(rt))*We};var Ue=W(le);X.angularTickLayout!==Ue&&(Y["angular-axis"].selectAll("."+ie._id+"tick").remove(),X.angularTickLayout=Ue);var Be=ce?[1/0].concat(ie.tickvals||[]).map(function(dt){return i.tickText(ie,dt,!0,!1)}):i.calcTicks(ie);ce&&(Be[0].text="∞",Be[0].fontSize*=1.75);var Ne;if(J.gridshape==="linear"?(Ne=Be.map(ye),x.angleDelta(Ne[0],Ne[1])<0&&(Ne=Ne.slice().reverse())):Ne=null,X.vangles=Ne,ie.type==="category"&&(Be=Be.filter(function(dt){return x.isAngleInsideSector(ye(dt),X.sectorInRad)})),ie.visible){var Xe=ie.ticks==="inside"?-1:1,ut=(ie.linewidth||1)/2;i.drawTicks(oe,ie,{vals:Be,layer:Y["angular-axis"],path:"M"+Xe*ut+",0h"+Xe*ie.ticklen,transFn:ke,crisp:!1}),i.drawGrid(oe,ie,{vals:Be,layer:Y["angular-grid"],path:we,transFn:x.noop,crisp:!1}),i.drawLabels(oe,ie,{vals:Be,layer:Y["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Pe})}ne(Y["angular-line"].select("path"),le.showline,{d:X.pathSubplot(),transform:v(Q,K)}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},V.updateFx=function(ue,J){if(!this.gd._context.staticPlot){var X=!this.isSmith;X&&(this.updateAngularDrag(ue),this.updateRadialDrag(ue,J,0),this.updateRadialDrag(ue,J,1)),this.updateHoverAndMainDrag(ue)}},V.updateHoverAndMainDrag=function(ue){var J=this,X=J.isSmith,oe=J.gd,Y=J.layers,q=ue._zoomlayer,se=E.MINZOOM,Q=E.OFFEDGE,K=J.radius,le=J.innerRadius,ie=J.cx,ce=J.cy,ye=J.cxx,Ce=J.cyy,Ae=J.sectorInRad,ke=J.vangles,we=J.radialAxis,Ee=b.clampTiny,xe=b.findXYatLength,Pe=b.findEnclosingVertexAngles,Ue=E.cornerHalfWidth,Be=E.cornerLen/2,Ne,Xe,ut=l.makeDragger(Y,"path","maindrag",ue.dragmode===!1?"none":"crosshair");g.select(ut).attr("d",J.pathSubplot()).attr("transform",v(ie,ce)),ut.onmousemove=function(St){h.hover(oe,St,J.id),oe._fullLayout._lasthover=ut,oe._fullLayout._hoversubplot=J.id},ut.onmouseout=function(St){oe._dragging||y.unhover(oe,St)};var dt={element:ut,gd:oe,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]},at,We,rt,st,ht,vt,At,et,_e;function Ve(St,kt){return Math.sqrt(St*St+kt*kt)}function Ze(St,kt){return Ve(St-ye,kt-Ce)}function He(St,kt){return Math.atan2(Ce-kt,St-ye)}function Ie(St,kt){return[St*Math.cos(kt),St*Math.sin(-kt)]}function be(St,kt){if(St===0)return J.pathSector(2*Ue);var Kt=Be/St,mr=kt-Kt,mt=kt+Kt,Zt=Math.max(0,Math.min(St,K)),Qt=Zt-Ue,yr=Zt+Ue;return"M"+Ie(Qt,mr)+"A"+[Qt,Qt]+" 0,0,0 "+Ie(Qt,mt)+"L"+Ie(yr,mt)+"A"+[yr,yr]+" 0,0,1 "+Ie(yr,mr)+"Z"}function me(St,kt,Kt){if(St===0)return J.pathSector(2*Ue);var mr=Ie(St,kt),mt=Ie(St,Kt),Zt=Ee((mr[0]+mt[0])/2),Qt=Ee((mr[1]+mt[1])/2),yr,sr;if(Zt&&Qt){var bt=Qt/Zt,lt=-1/bt,Tt=xe(Ue,bt,Zt,Qt);yr=xe(Be,lt,Tt[0][0],Tt[0][1]),sr=xe(Be,lt,Tt[1][0],Tt[1][1])}else{var Ct,It;Qt?(Ct=Be,It=Ue):(Ct=Ue,It=Be),yr=[[Zt-Ct,Qt-It],[Zt+Ct,Qt-It]],sr=[[Zt-Ct,Qt+It],[Zt+Ct,Qt+It]]}return"M"+yr.join("L")+"L"+sr.reverse().join("L")+"Z"}function Me(){rt=null,st=null,ht=J.pathSubplot(),vt=!1;var St=oe._fullLayout[J.id];At=P(St.bgcolor).getLuminance(),et=l.makeZoombox(q,At,ie,ce,ht),et.attr("fill-rule","evenodd"),_e=l.makeCorners(q,ie,ce),d(oe)}function Te(St,kt){return kt=Math.max(Math.min(kt,K),le),St<Q?St=0:K-St<Q?St=K:kt<Q?kt=0:K-kt<Q&&(kt=K),Math.abs(kt-St)>se?(St<kt?(rt=St,st=kt):(rt=kt,st=St),!0):(rt=null,st=null,!1)}function Oe(St,kt){St=St||ht,kt=kt||"M0,0Z",et.attr("d",St),_e.attr("d",kt),l.transitionZoombox(et,_e,vt,At),vt=!0;var Kt={};Yt(Kt),oe.emit("plotly_relayouting",Kt)}function Ke(St,kt){St=St*Ne,kt=kt*Xe;var Kt=at+St,mr=We+kt,mt=Ze(at,We),Zt=Math.min(Ze(Kt,mr),K),Qt=He(at,We),yr,sr;Te(mt,Zt)&&(yr=ht+J.pathSector(st),rt&&(yr+=J.pathSector(rt)),sr=be(rt,Qt)+be(st,Qt)),Oe(yr,sr)}function nt(St,kt,Kt,mr){var mt=b.findIntersectionXY(Kt,mr,Kt,[St-ye,Ce-kt]);return Ve(mt[0],mt[1])}function pt(St,kt){var Kt=at+St,mr=We+kt,mt=He(at,We),Zt=He(Kt,mr),Qt=Pe(mt,ke),yr=Pe(Zt,ke),sr=nt(at,We,Qt[0],Qt[1]),bt=Math.min(nt(Kt,mr,yr[0],yr[1]),K),lt,Tt;Te(sr,bt)&&(lt=ht+J.pathSector(st),rt&&(lt+=J.pathSector(rt)),Tt=[me(rt,Qt[0],Qt[1]),me(st,Qt[0],Qt[1])].join(" ")),Oe(lt,Tt)}function yt(){if(l.removeZoombox(oe),!(rt===null||st===null)){var St={};Yt(St),l.showDoubleClickNotifier(oe),a.call("_guiRelayout",oe,St)}}function Yt(St){var kt=we._rl,Kt=(kt[1]-kt[0])/(1-le/K)/K,mr=[kt[0]+(rt-le)*Kt,kt[0]+(st-le)*Kt];St[J.id+".radialaxis.range"]=mr}function Xt(St,kt){var Kt=oe._fullLayout.clickmode;if(l.removeZoombox(oe),St===2){var mr={};for(var mt in J.viewInitial)mr[J.id+"."+mt]=J.viewInitial[mt];oe.emit("plotly_doubleclick",null),a.call("_guiRelayout",oe,mr)}Kt.indexOf("select")>-1&&St===1&&o(kt,oe,[J.xaxis],[J.yaxis],J.id,dt),Kt.indexOf("event")>-1&&h.click(oe,kt,J.id)}dt.prepFn=function(St,kt,Kt){var mr=oe._fullLayout.dragmode,mt=ut.getBoundingClientRect();oe._fullLayout._calcInverseTransform(oe);var Zt=oe._fullLayout._invTransform;Ne=oe._fullLayout._invScaleX,Xe=oe._fullLayout._invScaleY;var Qt=x.apply3DTransform(Zt)(kt-mt.left,Kt-mt.top);if(at=Qt[0],We=Qt[1],ke){var yr=b.findPolygonOffset(K,Ae[0],Ae[1],ke);at+=ye+yr[0],We+=Ce+yr[1]}switch(mr){case"zoom":dt.clickFn=Xt,X||(ke?dt.moveFn=pt:dt.moveFn=Ke,dt.doneFn=yt,Me());break;case"select":case"lasso":c(St,kt,Kt,dt,mr);break}},y.init(dt)},V.updateRadialDrag=function(ue,J,X){var oe=this,Y=oe.gd,q=oe.layers,se=oe.radius,Q=oe.innerRadius,K=oe.cx,le=oe.cy,ie=oe.radialAxis,ce=E.radialDragBoxSize,ye=ce/2;if(!ie.visible)return;var Ce=O(oe.radialAxisAngle),Ae=ie._rl,ke=Ae[0],we=Ae[1],Ee=Ae[X],xe=.75*(Ae[1]-Ae[0])/(1-oe.getHole(J))/se,Pe,Ue,Be;X?(Pe=K+(se+ye)*Math.cos(Ce),Ue=le-(se+ye)*Math.sin(Ce),Be="radialdrag"):(Pe=K+(Q-ye)*Math.cos(Ce),Ue=le-(Q-ye)*Math.sin(Ce),Be="radialdrag-inner");var Ne=l.makeRectDragger(q,Be,"crosshair",-ye,-ye,ce,ce),Xe={element:Ne,gd:Y};ue.dragmode===!1&&(Xe.dragmode=!1),ne(g.select(Ne),ie.visible&&Q<se,{transform:v(Pe,Ue)});var ut,dt,at;function We(At,et){if(ut)ut(At,et);else{var _e=[At,-et],Ve=[Math.cos(Ce),Math.sin(Ce)],Ze=Math.abs(x.dot(_e,Ve)/Math.sqrt(x.dot(_e,_e)));isNaN(Ze)||(ut=Ze<.5?ht:vt)}var He={};rt(He),Y.emit("plotly_relayouting",He)}function rt(At){dt!==null?At[oe.id+".radialaxis.angle"]=dt:at!==null&&(At[oe.id+".radialaxis.range["+X+"]"]=at)}function st(){dt!==null?a.call("_guiRelayout",Y,oe.id+".radialaxis.angle",dt):at!==null&&a.call("_guiRelayout",Y,oe.id+".radialaxis.range["+X+"]",at)}function ht(At,et){if(X!==0){var _e=Pe+At,Ve=Ue+et;dt=Math.atan2(le-Ve,_e-K),oe.vangles&&(dt=re(dt,oe.vangles)),dt=N(dt);var Ze=v(K,le)+M(-dt);q["radial-axis"].attr("transform",Ze),q["radial-line"].select("line").attr("transform",Ze);var He=oe.gd._fullLayout,Ie=He[oe.id];oe.updateRadialAxisTitle(He,Ie,dt)}}function vt(At,et){var _e=x.dot([At,-et],[Math.cos(Ce),Math.sin(Ce)]);if(at=Ee-xe*_e,xe>0!=(X?at>ke:at<we)){at=null;return}var Ve=Y._fullLayout,Ze=Ve[oe.id];ie.range[X]=at,ie._rl[X]=at,oe.updateRadialAxis(Ve,Ze),oe.xaxis.setRange(),oe.xaxis.setScale(),oe.yaxis.setRange(),oe.yaxis.setScale();var He=!1;for(var Ie in oe.traceHash){var be=oe.traceHash[Ie],me=x.filterVisible(be),Me=be[0][0].trace._module;Me.plot(Y,oe,me,Ze),a.traceIs(Ie,"gl")&&me.length&&(He=!0)}He&&(A(Y),C(Y))}Xe.prepFn=function(){ut=null,dt=null,at=null,Xe.moveFn=We,Xe.doneFn=st,d(Y)},Xe.clampFn=function(At,et){return Math.sqrt(At*At+et*et)<E.MINDRAG&&(At=0,et=0),[At,et]},y.init(Xe)},V.updateAngularDrag=function(ue){var J=this,X=J.gd,oe=J.layers,Y=J.radius,q=J.angularAxis,se=J.cx,Q=J.cy,K=J.cxx,le=J.cyy,ie=E.angularDragBoxSize,ce=l.makeDragger(oe,"path","angulardrag",ue.dragmode===!1?"none":"move"),ye={element:ce,gd:X};ue.dragmode===!1?ye.dragmode=!1:g.select(ce).attr("d",J.pathAnnulus(Y,Y+ie)).attr("transform",v(se,Q)).call(w,"move");function Ce(at,We){return Math.atan2(le+ie-We,at-K-ie)}var Ae=oe.frontplot.select(".scatterlayer").selectAll(".trace"),ke=Ae.selectAll(".point"),we=Ae.selectAll(".textpoint"),Ee,xe,Pe,Ue,Be,Ne;function Xe(at,We){var rt=J.gd._fullLayout,st=rt[J.id],ht=Ee+at*ue._invScaleX,vt=xe+We*ue._invScaleY,At=Ce(ht,vt),et=N(At-Ne);if(Ue=Pe+et,oe.frontplot.attr("transform",v(J.xOffset2,J.yOffset2)+M([-et,K,le])),J.vangles){Be=J.radialAxisAngle+et;var _e=v(se,Q)+M(-et),Ve=v(se,Q)+M(-Be);oe.bg.attr("transform",_e),oe["radial-grid"].attr("transform",_e),oe["radial-axis"].attr("transform",Ve),oe["radial-line"].select("line").attr("transform",Ve),J.updateRadialAxisTitle(rt,st,Be)}else J.clipPaths.forTraces.select("path").attr("transform",v(K,le)+M(et));ke.each(function(){var Te=g.select(this),Oe=r.getTranslate(Te);Te.attr("transform",v(Oe.x,Oe.y)+M([et]))}),we.each(function(){var Te=g.select(this),Oe=Te.select("text"),Ke=r.getTranslate(Te);Te.attr("transform",M([et,Oe.attr("x"),Oe.attr("y")])+v(Ke.x,Ke.y))}),q.rotation=x.modHalf(Ue,360),J.updateAngularAxis(rt,st),J._hasClipOnAxisFalse&&!x.isFullCircle(J.sectorInRad)&&Ae.call(r.hideOutsideRangePoints,J);var Ze=!1;for(var He in J.traceHash)if(a.traceIs(He,"gl")){var Ie=J.traceHash[He],be=x.filterVisible(Ie),me=Ie[0][0].trace._module;me.plot(X,J,be,st),be.length&&(Ze=!0)}Ze&&(A(X),C(X));var Me={};ut(Me),X.emit("plotly_relayouting",Me)}function ut(at){at[J.id+".angularaxis.rotation"]=Ue,J.vangles&&(at[J.id+".radialaxis.angle"]=Be)}function dt(){we.select("text").attr("transform",null);var at={};ut(at),a.call("_guiRelayout",X,at)}ye.prepFn=function(at,We,rt){var st=ue[J.id];Pe=st.angularaxis.rotation;var ht=ce.getBoundingClientRect();Ee=We-ht.left,xe=rt-ht.top,X._fullLayout._calcInverseTransform(X);var vt=x.apply3DTransform(ue._invTransform)(Ee,xe);Ee=vt[0],xe=vt[1],Ne=Ce(Ee,xe),ye.moveFn=Xe,ye.doneFn=dt,d(X)},J.vangles&&!x.isFullCircle(J.sectorInRad)&&(ye.prepFn=x.noop,w(g.select(ce),null)),y.init(ye)},V.isPtInside=function(ue){if(this.isSmith)return!0;var J=this.sectorInRad,X=this.vangles,oe=this.angularAxis.c2g(ue.theta),Y=this.radialAxis,q=Y.c2l(ue.r),se=Y._rl,Q=X?b.isPtInsidePolygon:x.isPtInsideSector;return Q(q,oe,se,J,X)},V.pathArc=function(ue){var J=this.sectorInRad,X=this.vangles,oe=X?b.pathPolygon:x.pathArc;return oe(ue,J[0],J[1],X)},V.pathSector=function(ue){var J=this.sectorInRad,X=this.vangles,oe=X?b.pathPolygon:x.pathSector;return oe(ue,J[0],J[1],X)},V.pathAnnulus=function(ue,J){var X=this.sectorInRad,oe=this.vangles,Y=oe?b.pathPolygonAnnulus:x.pathAnnulus;return Y(ue,J,X[0],X[1],oe)},V.pathSubplot=function(){var ue=this.innerRadius,J=this.radius;return ue?this.pathAnnulus(ue,J):this.pathSector(J)},V.fillViewInitialKey=function(ue,J){ue in this.viewInitial||(this.viewInitial[ue]=J)};function W(ue){var J=ue.ticks+String(ue.ticklen)+String(ue.showticklabels);return"side"in ue&&(J+=ue.side),J}function $(ue){var J=ue[0],X=ue[1],oe=X-J,Y=F(J,360),q=Y+oe,se=Math.cos(O(Y)),Q=Math.sin(O(Y)),K=Math.cos(O(q)),le=Math.sin(O(q)),ie,ce,ye,Ce;return Y<=90&&q>=90||Y>90&&q>=450?Ce=1:Q<=0&&le<=0?Ce=0:Ce=Math.max(Q,le),Y<=180&&q>=180||Y>180&&q>=540?ie=-1:se>=0&&K>=0?ie=0:ie=Math.min(se,K),Y<=270&&q>=270||Y>270&&q>=630?ce=-1:Q>=0&&le>=0?ce=0:ce=Math.min(Q,le),q>=360?ye=1:se<=0&&K<=0?ye=0:ye=Math.max(se,K),[ie,ce,ye,Ce]}function re(ue,J){var X=function(Y){return x.angleDist(ue,Y)},oe=x.findIndexOfMin(J,X);return J[oe]}function ne(ue,J,X){return J?(ue.attr("display",null),ue.attr(X)):ue&&ue.attr("display","none"),ue}},57696:function(j,H,e){var g=e(3400),P=e(78344),a=g.deg2rad,x=g.rad2deg;j.exports=function(i,n,u){switch(P(i,u),i._id){case"x":case"radialaxis":M(i,n);break;case"angularaxis":r(i,n);break}};function M(t,i){var n=i._subplot;t.setGeometry=function(){var u=t._rl[0],f=t._rl[1],l=n.innerRadius,y=(n.radius-l)/(f-u),h=l/y,S=u>f?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var o=t.c2l(c)-u;return(S(o)?o:0)+h},t.g2c=function(c){return t.l2c(c+u-h)},t.g2p=function(c){return c*y},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,i){return i==="degrees"?a(t):t}function p(t,i){return i==="degrees"?x(t):t}function r(t,i){var n=t.type;if(n==="linear"){var u=t.d2c,f=t.c2d;t.d2c=function(l,y){return v(u(l),y)},t.c2d=function(l,y){return f(p(l,y))}}t.makeCalcdata=function(l,y){var h=l[y],S=l._length,c,o,d=function(E){return t.d2c(E,l.thetaunit)};if(h)for(c=new Array(S),o=0;o<S;o++)c[o]=d(h[o]);else{var w=y+"0",A="d"+y,C=w in l?d(l[w]):0,m=l[A]?d(l[A]):(t.period||2*Math.PI)/S;for(c=new Array(S),o=0;o<S;o++)c[o]=C+o*m}return c},t.setGeometry=function(){var l=i.sector,y=l.map(a),h={clockwise:-1,counterclockwise:1}[t.direction],S=a(t.rotation),c=function(b){return h*b+S},o=function(b){return(b-S)/h},d,w,A,C;switch(n){case"linear":w=d=g.identity,C=a,A=x,t.range=g.isFullCircle(y)?[l[0],l[0]+360]:y.map(o).map(x);break;case"category":var m=t._categories.length,E=t.period?Math.max(t.period,m):m;E===0&&(E=1),w=C=function(b){return b*2*Math.PI/E},d=A=function(b){return b*E/Math.PI/2},t.range=[0,E];break}t.c2g=function(b){return c(w(b))},t.g2c=function(b){return d(o(b))},t.t2g=function(b){return c(C(b))},t.g2t=function(b){return A(o(b))}}}},55012:function(j){j.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(j){function H(M){return M<0?-1:M>0?1:0}function e(M){var v=M[0],p=M[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function g(M,v){var p=v[0],r=v[1];return[p*M.radius+M.cx,-r*M.radius+M.cy]}function P(M,v){return v*M.radius}function a(M,v,p,r){var t=g(M,e([p,v])),i=t[0],n=t[1],u=g(M,e([r,v])),f=u[0],l=u[1];if(v===0)return["M"+i+","+n,"L"+f+","+l].join(" ");var y=P(M,1/Math.abs(v));return["M"+i+","+n,"A"+y+","+y+" 0 0,"+(v<0?1:0)+" "+f+","+l].join(" ")}function x(M,v,p,r){var t=P(M,1/(v+1)),i=g(M,e([v,p])),n=i[0],u=i[1],f=g(M,e([v,r])),l=f[0],y=f[1];if(H(p)!==H(r)){var h=g(M,e([v,0])),S=h[0],c=h[1];return["M"+n+","+u,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+S+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+y].join(" ")}return["M"+n+","+u,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+y].join(" ")}j.exports={smith:e,reactanceArc:a,resistanceArc:x,smithTransform:g}},47788:function(j,H,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(62400),x=e(55012),M=x.attr,v=x.name,p=P(v),r={};r[M]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var u=n._fullLayout,f=n.calcdata,l=u._subplots[v],y=0;y<l.length;y++){var h=l[y],S=g(f,v,h),c=u[h]._subplot;c||(c=a(n,h,!0),u[h]._subplot=c),c.plot(S,u,n._promises)}}function i(n,u,f,l){for(var y=l._subplots[v]||[],h=0;h<y.length;h++){var S=y[h],c=l[S]._subplot;if(!u[S]&&c){c.framework.remove();for(var o in c.clipPaths)c.clipPaths[o].remove()}}}j.exports={attr:M,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:i,toSVG:e(57952).toSVG}},6183:function(j,H,e){var g=e(22548),P=e(94724),a=e(86968).u,x=e(3400).extendFlat,M=e(67824).overrideAll,v=M({color:P.color,showline:x({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:x({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=M({ticklen:P.ticklen,tickwidth:x({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=x({visible:x({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:x({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=x({visible:x({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);j.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(j,H,e){var g=e(3400),P=e(76308),a=e(31780),x=e(168),M=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),i=e(6183),n=e(55012),u=n.axisNames,f=y(function(h){return g.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(S){return-S}).concat([0]).concat(h)},String);function l(h,S,c,o){var d=c("bgcolor");o.bgColor=P.combine(d,o.paper_bgcolor);var w=M(o.fullData,n.name,o.id),A=o.layoutOut,C;function m(V,W){return c(C+"."+V,W)}for(var E=0;E<u.length;E++){C=u[E],g.isPlainObject(h[C])||(h[C]={});var b=h[C],s=a.newContainer(S,C);s._id=s._name=C,s._attr=o.id+"."+C,s._traceIndices=w.map(function(V){return V._expandedIndex});var L=m("visible");if(s.type="linear",t(s,A),v(b,s,m,s.type),L){var T=C==="realaxis";if(T&&m("side"),T)m("tickvals");else{var k=f(S.realaxis.tickvals||i.realaxis.tickvals.dflt);m("tickvals",k)}g.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var _,B,F,O,N=o.font||{};L&&(_=m("color"),B=_===b.color?_:N.color,F=N.size,O=N.family),p(b,s,m,s.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!T,noExp:!0,font:{color:B,size:F,family:O}}),g.coerce2(h,S,i,C+".ticklen"),g.coerce2(h,S,i,C+".tickwidth"),g.coerce2(h,S,i,C+".tickcolor",S.color);var z=m("ticks");z||(delete S[C].ticklen,delete S[C].tickwidth,delete S[C].tickcolor),r(b,s,m,{dfltColor:_,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[C]}),m("layer")}m("hoverformat"),delete s.type,s._input=b}}j.exports=function(S,c,o){x(S,c,o,{noUirevision:!0,type:n.name,attributes:i,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:o,layoutOut:c})};function y(h,S){var c={};return function(o){var d=S?S(o):o;if(d in c)return c[d];var w=h(o);return c[d]=w,w}}},168:function(j,H,e){var g=e(3400),P=e(31780),a=e(86968).Q;j.exports=function(M,v,p,r){var t=r.type,i=r.attributes,n=r.handleDefaults,u=r.partition||"x",f=v._subplots[t],l=f.length,y=l&&f[0].replace(/\d+$/,""),h,S;function c(A,C){return g.coerce(h,S,i,A,C)}for(var o=0;o<l;o++){var d=f[o];M[d]?h=M[d]:h=M[d]={},S=P.newContainer(v,d,y),r.noUirevision||c("uirevision",v.uirevision);var w={};w[u]=[o/l,(o+1)/l],a(S,v,c,w),r.id=d,n(h,S,c,r)}}},21776:function(j,H,e){var g=e(26880);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function P(a){var x=a.description?" "+a.description:"",M=a.keys||[];if(M.length>0){for(var v=[],p=0;p<M.length;p++)v[p]="`"+M[p]+"`";x=x+"Finally, the template string has access to ",M.length===1?x=x+"variable "+v[0]:x=x+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return x}H.Ks=function(a,x){a=a||{},x=x||{},P(x);var M={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(M.arrayOk=!0),M},H.Gw=function(a,x){a=a||{},x=x||{},P(x);var M={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(M.arrayOk=!0),M},H.ye=function(a,x){a=a||{},x=x||{},a.newshape,P(x);var M={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return M}},19352:function(j,H,e){var g=e(24696),P=e(84888).KY,a=e(3400).counterRegex,x="ternary";H.name=x;var M=H.attr="subplot";H.idRoot=x,H.idRegex=H.attrRegex=a(x);var v=H.attributes={};v[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},H.layoutAttributes=e(86379),H.supplyLayoutDefaults=e(38536),H.plot=function(r){for(var t=r._fullLayout,i=r.calcdata,n=t._subplots[x],u=0;u<n.length;u++){var f=n[u],l=P(i,x,f),y=t[f]._subplot;y||(y=new g({id:f,graphDiv:r,container:t._ternarylayer.node()},t),t[f]._subplot=y),y.plot(l,t,r._promises)}},H.clean=function(p,r,t,i){for(var n=i._subplots[x]||[],u=0;u<n.length;u++){var f=n[u],l=i[f]._subplot;!r[f]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(j,H,e){var g=e(22548),P=e(86968).u,a=e(94724),x=e(67824).overrideAll,M=e(92880).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:M({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:M({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:M({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},p=j.exports=x({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(j,H,e){var g=e(76308),P=e(31780),a=e(3400),x=e(168),M=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),i=e(86379),n=["aaxis","baxis","caxis"];j.exports=function(y,h,S){x(y,h,S,{type:"ternary",attributes:i,handleDefaults:u,font:h.font,paper_bgcolor:h.paper_bgcolor})};function u(l,y,h,S){var c=h("bgcolor"),o=h("sum");S.bgColor=g.combine(c,S.paper_bgcolor);for(var d,w,A,C=0;C<n.length;C++)d=n[C],w=l[d]||{},A=P.newContainer(y,d),A._name=d,f(w,A,S,y);var m=y.aaxis,E=y.baxis,b=y.caxis;m.min+E.min+b.min>=o&&(m.min=0,E.min=0,b.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function f(l,y,h,S){var c=i[y._name];function o(s,L){return a.coerce(l,y,c,s,L)}o("uirevision",S.uirevision),y.type="linear";var d=o("color"),w=d!==c.color.dflt?d:h.font.color,A=y._name,C=A.charAt(0).toUpperCase(),m="Component "+C,E=o("title.text",m);y._hovertitle=E===m?E:C,a.coerceFont(o,"title.font",{family:h.font.family,size:a.bigFont(h.font.size),color:w}),o("min"),r(l,y,o,"linear"),v(l,y,o,"linear"),M(l,y,o,"linear",{noAutotickangles:!0}),p(l,y,o,{outerTicks:!0});var b=o("showticklabels");b&&(a.coerceFont(o,"tickfont",{family:h.font.family,size:h.font.size,color:w}),o("tickangle"),o("tickformat")),t(l,y,o,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),o("hoverformat"),o("layer")}},24696:function(j,H,e){var g=e(33428),P=e(49760),a=e(24040),x=e(3400),M=x.strTranslate,v=x._,p=e(76308),r=e(43616),t=e(78344),i=e(92880).extendFlat,n=e(7316),u=e(54460),f=e(86476),l=e(93024),y=e(72760),h=y.freeMode,S=y.rectMode,c=e(81668),o=e(22676).prepSelect,d=e(22676).selectOnClick,w=e(22676).clearOutline,A=e(22676).clearSelectionsCache,C=e(33816);function m(N,z){this.id=N.id,this.graphDiv=N.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}j.exports=m;var E=m.prototype;E.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},E.plot=function(N,z){var V=this,W=z[V.id],$=z._size;V._hasClipOnAxisFalse=!1;for(var re=0;re<N.length;re++){var ne=N[re][0].trace;if(ne.cliponaxis===!1){V._hasClipOnAxisFalse=!0;break}}V.updateLayers(W),V.adjustLayout(W,$),n.generalUpdatePerTraceModule(V.graphDiv,V,N,W),V.layers.plotbg.select("path").call(p.fill,W.bgcolor)},E.makeFramework=function(N){var z=this,V=z.graphDiv,W=N[z.id],$=z.clipId="clip"+z.layoutId+z.id,re=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=x.ensureSingleById(N._clips,"clipPath",$,function(ne){ne.append("path").attr("d","M0,0Z")}),z.clipDefRelative=x.ensureSingleById(N._clips,"clipPath",re,function(ne){ne.append("path").attr("d","M0,0Z")}),z.plotContainer=x.ensureSingle(z.container,"g",z.id),z.updateLayers(W),r.setClipUrl(z.layers.backplot,$,V),r.setClipUrl(z.layers.grids,$,V)},E.updateLayers=function(N){var z=this,V=z.layers,W=["draglayer","plotbg","backplot","grids"];N.aaxis.layer==="below traces"&&W.push("aaxis","aline"),N.baxis.layer==="below traces"&&W.push("baxis","bline"),N.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),N.aaxis.layer==="above traces"&&W.push("aaxis","aline"),N.baxis.layer==="above traces"&&W.push("baxis","bline"),N.caxis.layer==="above traces"&&W.push("caxis","cline");var $=z.plotContainer.selectAll("g.toplevel").data(W,String),re=["agrid","bgrid","cgrid"];$.enter().append("g").attr("class",function(ne){return"toplevel "+ne}).each(function(ne){var ue=g.select(this);V[ne]=ue,ne==="frontplot"?ue.append("g").classed("scatterlayer",!0):ne==="backplot"?ue.append("g").classed("maplayer",!0):ne==="plotbg"?ue.append("path").attr("d","M0,0Z"):ne==="aline"||ne==="bline"||ne==="cline"?ue.append("path"):ne==="grids"&&re.forEach(function(J){V[J]=ue.append("g").classed("grid "+J,!0)})}),$.order()};var b=Math.sqrt(4/3);E.adjustLayout=function(N,z){var V=this,W=N.domain,$=(W.x[0]+W.x[1])/2,re=(W.y[0]+W.y[1])/2,ne=W.x[1]-W.x[0],ue=W.y[1]-W.y[0],J=ne*z.w,X=ue*z.h,oe=N.sum,Y=N.aaxis.min,q=N.baxis.min,se=N.caxis.min,Q,K,le,ie,ce,ye;J>b*X?(ie=X,le=ie*b):(le=J,ie=le/b),ce=ne*le/J,ye=ue*ie/X,Q=z.l+z.w*$-le/2,K=z.t+z.h*(1-re)-ie/2,V.x0=Q,V.y0=K,V.w=le,V.h=ie,V.sum=oe,V.xaxis={type:"linear",range:[Y+2*se-oe,oe-Y-2*q],domain:[$-ce/2,$+ce/2],_id:"x"},t(V.xaxis,V.graphDiv._fullLayout),V.xaxis.setScale(),V.xaxis.isPtWithinRange=function(Xe){return Xe.a>=V.aaxis.range[0]&&Xe.a<=V.aaxis.range[1]&&Xe.b>=V.baxis.range[1]&&Xe.b<=V.baxis.range[0]&&Xe.c>=V.caxis.range[1]&&Xe.c<=V.caxis.range[0]},V.yaxis={type:"linear",range:[Y,oe-q-se],domain:[re-ye/2,re+ye/2],_id:"y"},t(V.yaxis,V.graphDiv._fullLayout),V.yaxis.setScale(),V.yaxis.isPtWithinRange=function(){return!0};var Ce=V.yaxis.domain[0],Ae=V.aaxis=i({},N.aaxis,{range:[Y,oe-q-se],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[Ce,Ce+ye*b],anchor:"free",position:0,_id:"y",_length:le});t(Ae,V.graphDiv._fullLayout),Ae.setScale();var ke=V.baxis=i({},N.baxis,{range:[oe-Y-se,q],side:"bottom",domain:V.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});t(ke,V.graphDiv._fullLayout),ke.setScale();var we=V.caxis=i({},N.caxis,{range:[oe-Y-q,se],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[Ce,Ce+ye*b],anchor:"free",position:0,_id:"y",_length:le});t(we,V.graphDiv._fullLayout),we.setScale();var Ee="M"+Q+","+(K+ie)+"h"+le+"l-"+le/2+",-"+ie+"Z";V.clipDef.select("path").attr("d",Ee),V.layers.plotbg.select("path").attr("d",Ee);var xe="M0,"+ie+"h"+le+"l-"+le/2+",-"+ie+"Z";V.clipDefRelative.select("path").attr("d",xe);var Pe=M(Q,K);V.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Pe),V.clipDefRelative.select("path").attr("transform",null);var Ue=M(Q-ke._offset,K+ie);V.layers.baxis.attr("transform",Ue),V.layers.bgrid.attr("transform",Ue);var Be=M(Q+le/2,K)+"rotate(30)"+M(0,-Ae._offset);V.layers.aaxis.attr("transform",Be),V.layers.agrid.attr("transform",Be);var Ne=M(Q+le/2,K)+"rotate(-30)"+M(0,-we._offset);V.layers.caxis.attr("transform",Ne),V.layers.cgrid.attr("transform",Ne),V.drawAxes(!0),V.layers.aline.select("path").attr("d",Ae.showline?"M"+Q+","+(K+ie)+"l"+le/2+",-"+ie:"M0,0").call(p.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),V.layers.bline.select("path").attr("d",ke.showline?"M"+Q+","+(K+ie)+"h"+le:"M0,0").call(p.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),V.layers.cline.select("path").attr("d",we.showline?"M"+(Q+le/2)+","+K+"l"+le/2+","+ie:"M0,0").call(p.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),V.graphDiv._context.staticPlot||V.initInteractions(),r.setClipUrl(V.layers.frontplot,V._hasClipOnAxisFalse?null:V.clipId,V.graphDiv)},E.drawAxes=function(N){var z=this,V=z.graphDiv,W=z.id.substr(7)+"title",$=z.layers,re=z.aaxis,ne=z.baxis,ue=z.caxis;if(z.drawAx(re),z.drawAx(ne),z.drawAx(ue),N){var J=Math.max(re.showticklabels?re.tickfont.size/2:0,(ue.showticklabels?ue.tickfont.size*.75:0)+(ue.ticks==="outside"?ue.ticklen*.87:0)),X=(ne.showticklabels?ne.tickfont.size:0)+(ne.ticks==="outside"?ne.ticklen:0)+3;$["a-title"]=c.draw(V,"a"+W,{propContainer:re,propName:z.id+".aaxis.title",placeholder:v(V,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-re.title.font.size/3-J,"text-anchor":"middle"}}),$["b-title"]=c.draw(V,"b"+W,{propContainer:ne,propName:z.id+".baxis.title",placeholder:v(V,"Click to enter Component B title"),attributes:{x:z.x0-X,y:z.y0+z.h+ne.title.font.size*.83+X,"text-anchor":"middle"}}),$["c-title"]=c.draw(V,"c"+W,{propContainer:ue,propName:z.id+".caxis.title",placeholder:v(V,"Click to enter Component C title"),attributes:{x:z.x0+z.w+X,y:z.y0+z.h+ue.title.font.size*.83+X,"text-anchor":"middle"}})}},E.drawAx=function(N){var z=this,V=z.graphDiv,W=N._name,$=W.charAt(0),re=N._id,ne=z.layers[W],ue=30,J=$+"tickLayout",X=s(N);z[J]!==X&&(ne.selectAll("."+re+"tick").remove(),z[J]=X),N.setScale();var oe=u.calcTicks(N),Y=u.clipEnds(N,oe),q=u.makeTransTickFn(N),se=u.getTickSigns(N)[2],Q=x.deg2rad(ue),K=se*(N.linewidth||1)/2,le=se*N.ticklen,ie=z.w,ce=z.h,ye=$==="b"?"M0,"+K+"l"+Math.sin(Q)*le+","+Math.cos(Q)*le:"M"+K+",0l"+Math.cos(Q)*le+","+-Math.sin(Q)*le,Ce={a:"M0,0l"+ce+",-"+ie/2,b:"M0,0l-"+ie/2+",-"+ce,c:"M0,0l-"+ce+","+ie/2}[$];u.drawTicks(V,N,{vals:N.ticks==="inside"?Y:oe,layer:ne,path:ye,transFn:q,crisp:!1}),u.drawGrid(V,N,{vals:Y,layer:z.layers[$+"grid"],path:Ce,transFn:q,crisp:!1}),u.drawLabels(V,N,{vals:oe,layer:ne,transFn:q,labelFns:u.makeLabelFns(N,0,ue)})};function s(N){return N.ticks+String(N.ticklen)+String(N.showticklabels)}var L=C.MINZOOM/2+.87,T="m-0.87,.5h"+L+"v3h-"+(L+5.2)+"l"+(L/2+2.6)+",-"+(L*.87+4.5)+"l2.6,1.5l-"+L/2+","+L*.87+"Z",k="m0.87,.5h-"+L+"v3h"+(L+5.2)+"l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-2.6,1.5l"+L/2+","+L*.87+"Z",_="m0,1l"+L/2+","+L*.87+"l2.6,-1.5l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-"+(L/2+2.6)+","+(L*.87+4.5)+"l2.6,1.5l"+L/2+",-"+L*.87+"Z",B="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;E.clearOutline=function(){A(this.dragOptions),w(this.dragOptions.gd)},E.initInteractions=function(){var N=this,z=N.layers.plotbg.select("path").node(),V=N.graphDiv,W=V._fullLayout._zoomlayer,$,re;this.dragOptions={element:z,gd:V,plotinfo:{id:N.id,domain:V._fullLayout[N.id].domain,xaxis:N.xaxis,yaxis:N.yaxis},subplot:N.id,prepFn:function(Ue,Be,Ne){N.dragOptions.xaxes=[N.xaxis],N.dragOptions.yaxes=[N.yaxis],$=V._fullLayout._invScaleX,re=V._fullLayout._invScaleY;var Xe=N.dragOptions.dragmode=V._fullLayout.dragmode;h(Xe)?N.dragOptions.minDrag=1:N.dragOptions.minDrag=void 0,Xe==="zoom"?(N.dragOptions.moveFn=ke,N.dragOptions.clickFn=ie,N.dragOptions.doneFn=we,ce(Ue,Be,Ne)):Xe==="pan"?(N.dragOptions.moveFn=xe,N.dragOptions.clickFn=ie,N.dragOptions.doneFn=Pe,Ee(),N.clearOutline(V)):(S(Xe)||h(Xe))&&o(Ue,Be,Ne,N.dragOptions,Xe)}};var ne,ue,J,X,oe,Y,q,se,Q,K;function le(Ue){var Be={};return Be[N.id+".aaxis.min"]=Ue.a,Be[N.id+".baxis.min"]=Ue.b,Be[N.id+".caxis.min"]=Ue.c,Be}function ie(Ue,Be){var Ne=V._fullLayout.clickmode;O(V),Ue===2&&(V.emit("plotly_doubleclick",null),a.call("_guiRelayout",V,le({a:0,b:0,c:0}))),Ne.indexOf("select")>-1&&Ue===1&&d(Be,V,[N.xaxis],[N.yaxis],N.id,N.dragOptions),Ne.indexOf("event")>-1&&l.click(V,Be,N.id)}function ce(Ue,Be,Ne){var Xe=z.getBoundingClientRect();ne=Be-Xe.left,ue=Ne-Xe.top,V._fullLayout._calcInverseTransform(V);var ut=V._fullLayout._invTransform,dt=x.apply3DTransform(ut)(ne,ue);ne=dt[0],ue=dt[1],J={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},oe=J,X=N.aaxis.range[1]-J.a,Y=P(N.graphDiv._fullLayout[N.id].bgcolor).getLuminance(),q="M0,"+N.h+"L"+N.w/2+", 0L"+N.w+","+N.h+"Z",se=!1,Q=W.append("path").attr("class","zoombox").attr("transform",M(N.x0,N.y0)).style({fill:Y>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",q),K=W.append("path").attr("class","zoombox-corners").attr("transform",M(N.x0,N.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),N.clearOutline(V)}function ye(Ue,Be){return 1-Be/N.h}function Ce(Ue,Be){return 1-(Ue+(N.h-Be)/Math.sqrt(3))/N.w}function Ae(Ue,Be){return(Ue-(N.h-Be)/Math.sqrt(3))/N.w}function ke(Ue,Be){var Ne=ne+Ue*$,Xe=ue+Be*re,ut=Math.max(0,Math.min(1,ye(ne,ue),ye(Ne,Xe))),dt=Math.max(0,Math.min(1,Ce(ne,ue),Ce(Ne,Xe))),at=Math.max(0,Math.min(1,Ae(ne,ue),Ae(Ne,Xe))),We=(ut/2+at)*N.w,rt=(1-ut/2-dt)*N.w,st=(We+rt)/2,ht=rt-We,vt=(1-ut)*N.h,At=vt-ht/b;ht<C.MINZOOM?(oe=J,Q.attr("d",q),K.attr("d","M0,0Z")):(oe={a:J.a+ut*X,b:J.b+dt*X,c:J.c+at*X},Q.attr("d",q+"M"+We+","+vt+"H"+rt+"L"+st+","+At+"L"+We+","+vt+"Z"),K.attr("d","M"+ne+","+ue+B+"M"+We+","+vt+T+"M"+rt+","+vt+k+"M"+st+","+At+_)),se||(Q.transition().style("fill",Y>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200),se=!0),V.emit("plotly_relayouting",le(oe))}function we(){O(V),oe!==J&&(a.call("_guiRelayout",V,le(oe)),F&&V.data&&V._context.showTips&&(x.notifier(v(V,"Double-click to zoom back out"),"long"),F=!1))}function Ee(){J={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},oe=J}function xe(Ue,Be){var Ne=Ue/N.xaxis._m,Xe=Be/N.yaxis._m;oe={a:J.a-Xe,b:J.b+(Ne+Xe)/2,c:J.c-(Ne-Xe)/2};var ut=[oe.a,oe.b,oe.c].sort(x.sorterAsc),dt={a:ut.indexOf(oe.a),b:ut.indexOf(oe.b),c:ut.indexOf(oe.c)};ut[0]<0&&(ut[1]+ut[0]/2<0?(ut[2]+=ut[0]+ut[1],ut[0]=ut[1]=0):(ut[2]+=ut[0]/2,ut[1]+=ut[0]/2,ut[0]=0),oe={a:ut[dt.a],b:ut[dt.b],c:ut[dt.c]},Be=(J.a-oe.a)*N.yaxis._m,Ue=(J.c-oe.c-J.b+oe.b)*N.xaxis._m);var at=M(N.x0+Ue,N.y0+Be);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",at);var We=M(-Ue,-Be);N.clipDefRelative.select("path").attr("transform",We),N.aaxis.range=[oe.a,N.sum-oe.b-oe.c],N.baxis.range=[N.sum-oe.a-oe.c,oe.b],N.caxis.range=[N.sum-oe.a-oe.b,oe.c],N.drawAxes(!1),N._hasClipOnAxisFalse&&N.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,N),V.emit("plotly_relayouting",le(oe))}function Pe(){a.call("_guiRelayout",V,le(oe))}z.onmousemove=function(Ue){l.hover(V,Ue,N.id),V._fullLayout._lasthover=z,V._fullLayout._hoversubplot=N.id},z.onmouseout=function(Ue){V._dragging||f.unhover(V,Ue)},f.init(this.dragOptions)};function O(N){g.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(j,H,e){var g=e(24248),P=e(16628),a=e(52416),x=e(63620),M=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,i=v.extendDeepAll;H.modules={},H.allCategories={},H.allTypes=[],H.subplotsRegistry={},H.transformsRegistry={},H.componentsRegistry={},H.layoutArrayContainers=[],H.layoutArrayRegexes=[],H.traceLayoutAttributes={},H.localeRegistry={},H.apiMethodRegistry={},H.collectableSubplotTypes=null,H.register=function(A){if(H.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<A.length;C++){var m=A[C];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":l(m);break;case"component":f(m);break;case"locale":y(m);break;case"apiMethod":var E=m.name;H.apiMethodRegistry[E]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},H.getModule=function(w){var A=H.modules[d(w)];return A?A._module:!1},H.traceIs=function(w,A){if(w=d(w),w==="various")return!1;var C=H.modules[w];return C||(w&&g.log("Unrecognized trace type "+w+"."),C=H.modules[p.type.dflt]),!!C.categories[A]},H.getTransformIndices=function(w,A){for(var C=[],m=w.transforms||[],E=0;E<m.length;E++)m[E].type===A&&C.push(E);return C},H.hasTransform=function(w,A){for(var C=w.transforms||[],m=0;m<C.length;m++)if(C[m].type===A)return!0;return!1},H.getComponentMethod=function(w,A){var C=H.componentsRegistry[w];return C&&C[A]||P},H.call=function(){var w=arguments[0],A=[].slice.call(arguments,1);return H.apiMethodRegistry[w].apply(null,A)};function n(w){var A=w.name,C=w.categories,m=w.meta;if(H.modules[A]){g.log("Type "+A+" already registered");return}H.subplotsRegistry[w.basePlotModule.name]||u(w.basePlotModule);for(var E={},b=0;b<C.length;b++)E[C[b]]=!0,H.allCategories[C[b]]=!0;H.modules[A]={_module:w,categories:E},m&&Object.keys(m).length&&(H.modules[A].meta=m),H.allTypes.push(A);for(var s in H.componentsRegistry)S(s,A);w.layoutAttributes&&t(H.traceLayoutAttributes,w.layoutAttributes);var L=w.basePlotModule,T=L.name;if(T==="mapbox"){var k=L.constants.styleRules;for(var _ in k)M(".js-plotly-plot .plotly .mapboxgl-"+_,k[_])}(T==="geo"||T==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(w){var A=w.name;if(H.subplotsRegistry[A]){g.log("Plot type "+A+" already registered.");return}h(w),H.subplotsRegistry[A]=w;for(var C in H.componentsRegistry)o(C,w.name)}function f(w){if(typeof w.name!="string")throw new Error("Component module *name* must be a string.");var A=w.name;H.componentsRegistry[A]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&a(H.layoutArrayContainers,A),h(w));for(var C in H.modules)S(A,C);for(var m in H.subplotsRegistry)o(A,m);for(var E in H.transformsRegistry)c(A,E);w.schema&&w.schema.layout&&i(r,w.schema.layout)}function l(w){if(typeof w.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+w.name,C=typeof w.transform=="function",m=typeof w.calcTransform=="function";if(!C&&!m)throw new Error(A+" is missing a *transform* or *calcTransform* method.");C&&m&&g.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),x(w.attributes)||g.log(A+" registered without an *attributes* object."),typeof w.supplyDefaults!="function"&&g.log(A+" registered without a *supplyDefaults* method."),H.transformsRegistry[w.name]=w;for(var E in H.componentsRegistry)c(E,w.name)}function y(w){var A=w.name,C=A.split("-")[0],m=w.dictionary,E=w.format,b=m&&Object.keys(m).length,s=E&&Object.keys(E).length,L=H.localeRegistry,T=L[A];if(T||(L[A]=T={}),C!==A){var k=L[C];k||(L[C]=k={}),b&&k.dictionary===T.dictionary&&(k.dictionary=m),s&&k.format===T.format&&(k.format=E)}b&&(T.dictionary=m),s&&(T.format=E)}function h(w){if(w.layoutAttributes){var A=w.layoutAttributes._arrayAttrRegexps;if(A)for(var C=0;C<A.length;C++)a(H.layoutArrayRegexes,A[C])}}function S(w,A){var C=H.componentsRegistry[w].schema;if(!(!C||!C.traces)){var m=C.traces[A];m&&i(H.modules[A]._module.attributes,m)}}function c(w,A){var C=H.componentsRegistry[w].schema;if(!(!C||!C.transforms)){var m=C.transforms[A];m&&i(H.transformsRegistry[A].attributes,m)}}function o(w,A){var C=H.componentsRegistry[w].schema;if(!(!C||!C.subplots)){var m=H.subplotsRegistry[A],E=m.layoutAttributes,b=m.attr==="subplot"?m.name:m.attr;Array.isArray(b)&&(b=b[0]);var s=C.subplots[b];E&&s&&i(E,s)}}function d(w){return typeof w=="object"&&(w=w.type),w}},91536:function(j,H,e){var g=e(24040),P=e(3400),a=P.extendFlat,x=P.extendDeep;function M(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}j.exports=function(r,t){var i,n=r.data,u=r.layout,f=x([],n),l=x({},u,M(t.tileClass)),y=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(i=0;i<h.length;i++)v(h[i])&&(l[h[i]].title={text:""});for(i=0;i<f.length;i++){var S=f[i];S.showscale=!1,S.marker&&(S.marker.showscale=!1),g.traceIs(S,"pie-like")&&(S.textposition="none")}}if(Array.isArray(t.annotations))for(i=0;i<t.annotations.length;i++)l.annotations.push(t.annotations[i]);var c=Object.keys(l).filter(function(C){return C.match(/^scene\d*$/)});if(c.length){var o={};for(t.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<c.length;i++){var d=l[c[i]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,o),a(d.yaxis,o),a(d.zaxis,o),d._scene=null}}var w=document.createElement("div");t.tileClass&&(w.className=t.tileClass);var A={gd:w,td:w,layout:l,data:f,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return t.setBackground!=="transparent"&&(A.config.setBackground=t.setBackground||"opaque"),A.gd.defaultLayout=M(t.tileClass),A}},39792:function(j,H,e){var g=e(3400),P=e(67024),a=e(48616),x=e(81792);function M(v,p){var r;return g.isPlainObject(v)||(r=g.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),g.isIE()&&p.format!=="svg"&&i(new Error(x.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),u=p.filename||v.fn||"newplot";u+="."+p.format.replace("-","."),n.then(function(f){return r&&(r._snapshotInProgress=!1),a(f,u,p.format)}).then(function(f){t(f)}).catch(function(f){r&&(r._snapshotInProgress=!1),i(f)})})}j.exports=M},48616:function(j,H,e){var g=e(3400),P=e(81792);function a(x,M,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(i,n){var u,f;if(g.isIE())return u=P.createBlob(x,"svg"),window.navigator.msSaveBlob(u,M),u=null,i(M);if(r)return u=P.createBlob(x,v),f=P.createObjectURL(u),p.href=f,p.download=M,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(f),u=null,i(M);if(g.isSafari()){var l=v==="svg"?",":";base64,";return P.octetStream(l+encodeURIComponent(x)),i(M)}n(new Error("download error"))});return t}j.exports=a},81792:function(j,H,e){var g=e(24040);H.getDelay=function(x){return x._has&&(x._has("gl3d")||x._has("gl2d")||x._has("mapbox"))?500:0},H.getRedrawFunc=function(x){return function(){g.getComponentMethod("colorbar","draw")(x)}},H.encodeSVG=function(x){return"data:image/svg+xml,"+encodeURIComponent(x)},H.encodeJSON=function(x){return"data:application/json,"+encodeURIComponent(x)};var P=window.URL||window.webkitURL;H.createObjectURL=function(x){return P.createObjectURL(x)},H.revokeObjectURL=function(x){return P.revokeObjectURL(x)},H.createBlob=function(x,M){if(M==="svg")return new window.Blob([x],{type:"image/svg+xml;charset=utf-8"});if(M==="full-json")return new window.Blob([x],{type:"application/json;charset=utf-8"});var v=a(window.atob(x));return new window.Blob([v],{type:"image/"+M})},H.octetStream=function(x){document.location.href="data:application/octet-stream"+x};function a(x){for(var M=x.length,v=new ArrayBuffer(M),p=new Uint8Array(v),r=0;r<M;r++)p[r]=x.charCodeAt(r);return v}H.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,H.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(j,H,e){var g=e(81792),P={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};j.exports=P},63268:function(j,H,e){var g=e(3400),P=e(61252).EventEmitter,a=e(81792);function x(M){var v=M.emitter||new P,p=new Promise(function(r,t){var i=window.Image,n=M.svg,u=M.format||"png";if(g.isIE()&&u!=="svg"){var f=new Error(a.MSG_IE_BAD_FORMAT);return t(f),M.promise?p:v.emit("error",f)}var l=M.canvas,y=M.scale||1,h=M.width||300,S=M.height||150,c=y*h,o=y*S,d=l.getContext("2d",{willReadFrequently:!0}),w=new i,A,C;u==="svg"||g.isSafari()?C=a.encodeSVG(n):(A=a.createBlob(n,"svg"),C=a.createObjectURL(A)),l.width=c,l.height=o,w.onload=function(){var m;switch(A=null,a.revokeObjectURL(C),u!=="svg"&&d.drawImage(w,0,0,c,o),u){case"jpeg":m=l.toDataURL("image/jpeg");break;case"png":m=l.toDataURL("image/png");break;case"webp":m=l.toDataURL("image/webp");break;case"svg":m=C;break;default:var E="Image format is not jpeg, png, svg or webp.";if(t(new Error(E)),!M.promise)return v.emit("error",E)}r(m),M.promise||v.emit("success",m)},w.onerror=function(m){if(A=null,a.revokeObjectURL(C),t(m),!M.promise)return v.emit("error",m)},w.src=C});return M.promise?p:v}j.exports=x},61808:function(j,H,e){var g=e(61252).EventEmitter,P=e(24040),a=e(3400),x=e(81792),M=e(91536),v=e(37164),p=e(63268);function r(t,i){var n=new g,u=M(t,{format:"png"}),f=u.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function l(){var h=x.getDelay(f._fullLayout);setTimeout(function(){var S=v(f),c=document.createElement("canvas");c.id=a.randstr(),n=p({format:i.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:c,emitter:n,svg:S}),n.clean=function(){f&&document.body.removeChild(f)}},h)}var y=x.getRedrawFunc(f);return P.call("_doPlot",f,u.data,u.layout,u.config).then(y).then(l).catch(function(h){n.emit("error",h)}),n}j.exports=r},37164:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=e(76308),M=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var u=g.select("body").append("div").style({display:"none"}).html(""),f=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":u.html(l).text()});return u.remove(),f}function i(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}j.exports=function(u,f,l){var y=u._fullLayout,h=y._paper,S=y._toppaper,c=y.width,o=y.height,d;h.insert("rect",":first-child").call(a.setRect,0,0,c,o).call(x.fill,y.paper_bgcolor);var w=y._basePlotModules||[];for(d=0;d<w.length;d++){var A=w[d];A.toSVG&&A.toSVG(u)}if(S){var C=S.node().childNodes,m=Array.prototype.slice.call(C);for(d=0;d<m.length;d++){var E=m[d];E.childNodes.length&&h.node().appendChild(E)}}y._draggers&&y._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var L=this.style.fontFamily;L&&L.indexOf('"')!==-1&&s.style("font-family",L.replace(v,p))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=g.select(this),L=this.style.fill;L&&L.indexOf("url(")!==-1&&s.style("fill",L.replace(v,p));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&s.style("stroke",T.replace(v,p))}),(f==="pdf"||f==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(M.xmlns,"xmlns",M.svg),h.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),f==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*o),h.attr("viewBox","0 0 "+c+" "+o));var b=new window.XMLSerializer().serializeToString(h.node());return b=t(b),b=i(b),b=b.replace(r,"'"),P.isIE()&&(b=b.replace(/"/gi,"'"),b=b.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),b=b.replace(/(\\')/gi,'"')),b}},84664:function(j,H,e){var g=e(3400);j.exports=function(a,x){for(var M=0;M<a.length;M++)a[M].i=M;g.mergeArray(x.text,a,"tx"),g.mergeArray(x.hovertext,a,"htx");var v=x.marker;if(v){g.mergeArray(v.opacity,a,"mo",!0),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},20832:function(j,H,e){var g=e(52904),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(21776).Gw,M=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,i=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,u=n.line,f=t({},u.width,{dflt:0}),l=t({width:f,editType:"calc"},M("marker.line")),y=t({line:l,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});j.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:g.text,texttemplate:x({editType:"plot"},{keys:p.eventDataKeys}),hovertext:g.hovertext,hovertemplate:a({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},i,{}),insidetextfont:t({},i,{}),outsidetextfont:t({},i,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(j,H,e){var g=e(54460),P=e(1220),a=e(94288).hasColorscale,x=e(47128),M=e(84664),v=e(4500);j.exports=function(r,t){var i=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),u,f,l,y,h,S,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(u=i.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),y=P(t,n,"y",l),h=!!t.yperiodalignment,S="y"):(u=n.makeCalcdata(t,"y",c),l=i.makeCalcdata(t,"x"),y=P(t,i,"x",l),h=!!t.xperiodalignment,S="x"),f=y.vals;for(var o=Math.min(f.length,u.length),d=new Array(o),w=0;w<o;w++)d[w]={p:f[w],s:u[w]},h&&(d[w].orig_p=l[w],d[w][S+"End"]=y.ends[w],d[w][S+"Start"]=y.starts[w]),t.ids&&(d[w].id=String(t.ids[w]));return a(t,"marker")&&x(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&x(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(d,t),v(d,t),d}},78048:function(j){j.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(j,H,e){var g=e(38248),P=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,x=e(24040),M=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(T,k){for(var _=k.xaxis,B=k.yaxis,F=T._fullLayout,O=T._fullData,N=T.calcdata,z=[],V=[],W=0;W<O.length;W++){var $=O[W];if($.visible===!0&&x.traceIs($,"bar")&&$.xaxis===_._id&&$.yaxis===B._id&&($.orientation==="h"?z.push(N[W]):V.push(N[W]),$._computePh))for(var re=T.calcdata[W],ne=0;ne<re.length;ne++)typeof re[ne].ph0=="function"&&(re[ne].ph0=re[ne].ph0()),typeof re[ne].ph1=="function"&&(re[ne].ph1=re[ne].ph1())}var ue={xCat:_.type==="category"||_.type==="multicategory",yCat:B.type==="category"||B.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};t(T,_,B,V,ue),t(T,B,_,z,ue)}function t(T,k,_,B,F){if(B.length){var O,N,z,V,W;switch(u(_,B),F.mode){case"overlay":f(k,_,B,F);break;case"group":for(O=[],N=[],z=0;z<B.length;z++)V=B[z],W=V[0].trace,W.offset===void 0?N.push(V):O.push(V);N.length&&l(T,k,_,N,F),O.length&&f(k,_,O,F);break;case"stack":case"relative":for(O=[],N=[],z=0;z<B.length;z++)V=B[z],W=V[0].trace,W.base===void 0?N.push(V):O.push(V);n(N),N.length&&y(T,k,_,N,F),O.length&&f(k,_,O,F);break}i(B),s(B,k)}}function i(T){var k,_,B,F,O,N,z;for(k=0;k<T.length;k++)_=T[k],B=_[0].trace,F=_[0].t,F.cornerradiusvalue===void 0&&(O=B.marker?B.marker.cornerradius:void 0,O!==void 0&&(N=g(O)?+O:+O.slice(0,-1),z=g(O)?"px":"%",F.cornerradiusvalue=N,F.cornerradiusform=z))}function n(T){if(!(T.length<2)){var k,_,B,F,O,N,z;for(k=0;k<T.length&&(_=T[k],B=_[0].trace,O=B.marker?B.marker.cornerradius:void 0,O===void 0);k++);if(O!==void 0)for(N=g(O)?+O:+O.slice(0,-1),z=g(O)?"px":"%",k=0;k<T.length;k++)_=T[k],F=_[0].t,F.cornerradiusvalue=N,F.cornerradiusform=z}}function u(T,k){var _,B;for(_=0;_<k.length;_++){var F=k[_],O=F[0].trace,N=O.type==="funnel"?O._base:O.base,z,V=O.orientation==="h"?O.xcalendar:O.ycalendar,W=T.type==="category"||T.type==="multicategory"?function(){return null}:T.d2c;if(P(N)){for(B=0;B<Math.min(N.length,F.length);B++)z=W(N[B],0,V),g(z)?(F[B].b=+z,F[B].hasB=1):F[B].b=0;for(;B<F.length;B++)F[B].b=0}else{z=W(N,0,V);var $=g(z);for(z=$?z:0,B=0;B<F.length;B++)F[B].b=z,$&&(F[B].hasB=1)}}}function f(T,k,_,B){for(var F=0;F<_.length;F++){var O=_[F],N=new p([O],{posAxis:T,sepNegVal:!1,overlapNoMerge:!B.norm});h(T,N,B),B.norm?(C(N),E(k,N,B)):w(k,N)}}function l(T,k,_,B,F){var O=new p(B,{posAxis:k,sepNegVal:!1,overlapNoMerge:!F.norm});S(T,k,O,F),m(O,k),F.norm?(C(O),E(_,O,F)):w(_,O)}function y(T,k,_,B,F){var O=new p(B,{posAxis:k,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});h(k,O,F),A(_,O,F);for(var N=0;N<B.length;N++)for(var z=B[N],V=0;V<z.length;V++){var W=z[V];if(W.s!==a){var $=W.b+W.s===O.get(W.p,W.s);$&&(W._outmost=!0)}}F.norm&&E(_,O,F)}function h(T,k,_){for(var B=k.minDiff,F=k.traces,O=B*(1-_.gap),N=O,z=N*(1-(_.groupgap||0)),V=-z/2,W=0;W<F.length;W++){var $=F[W],re=$[0].t;re.barwidth=z,re.poffset=V,re.bargroupwidth=O,re.bardelta=B}k.binWidth=F[0][0].t.barwidth/100,c(k),o(T,k),d(T,k)}function S(T,k,_,B){for(var F=T._fullLayout,O=_.positions,N=_.distinctPositions,z=_.minDiff,V=_.traces,W=V.length,$=O.length!==N.length,re=z*(1-B.gap),ne=v(F,k._id)+V[0][0].trace.orientation,ue=F._alignmentOpts[ne]||{},J=0;J<W;J++){var X=V[J],oe=X[0].trace,Y=ue[oe.alignmentgroup]||{},q=Object.keys(Y.offsetGroups||{}).length,se;q?se=re/q:se=$?re/W:re;var Q=se*(1-(B.groupgap||0)),K;q?K=((2*oe._offsetIndex+1-q)*se-Q)/2:K=$?((2*J+1-W)*se-Q)/2:-Q/2;var le=X[0].t;le.barwidth=Q,le.poffset=K,le.bargroupwidth=re,le.bardelta=z}_.binWidth=V[0][0].t.barwidth/100,c(_),o(k,_),d(k,_,$)}function c(T){var k=T.traces,_,B;for(_=0;_<k.length;_++){var F=k[_],O=F[0],N=O.trace,z=O.t,V=N._offset||N.offset,W=z.poffset,$;if(P(V)){for($=Array.prototype.slice.call(V,0,F.length),B=0;B<$.length;B++)g($[B])||($[B]=W);for(B=$.length;B<F.length;B++)$.push(W);z.poffset=$}else V!==void 0&&(z.poffset=V);var re=N._width||N.width,ne=z.barwidth;if(P(re)){var ue=Array.prototype.slice.call(re,0,F.length);for(B=0;B<ue.length;B++)g(ue[B])||(ue[B]=ne);for(B=ue.length;B<F.length;B++)ue.push(ne);if(z.barwidth=ue,V===void 0){for($=[],B=0;B<F.length;B++)$.push(W+(ne-ue[B])/2);z.poffset=$}}else re!==void 0&&(z.barwidth=re,V===void 0&&(z.poffset=W+(ne-re)/2))}}function o(T,k){for(var _=k.traces,B=L(T),F=0;F<_.length;F++)for(var O=_[F],N=O[0].t,z=N.poffset,V=P(z),W=N.barwidth,$=P(W),re=0;re<O.length;re++){var ne=O[re],ue=ne.w=$?W[re]:W;ne.p===void 0&&(ne.p=ne[B],ne["orig_"+B]=ne[B]);var J=(V?z[re]:z)+ue/2;ne[B]=ne.p+J}}function d(T,k,_){var B=k.traces,F=k.minDiff,O=F/2;M.minDtick(T,k.minDiff,k.distinctPositions[0],_);for(var N=0;N<B.length;N++){var z=B[N],V=z[0],W=V.trace,$=[],re,ne,ue,J;for(J=0;J<z.length;J++)re=z[J],ne=re.p-O,ue=re.p+O,$.push(ne,ue);if(W.width||W.offset){var X=V.t,oe=X.poffset,Y=X.barwidth,q=P(oe),se=P(Y);for(J=0;J<z.length;J++){re=z[J];var Q=q?oe[J]:oe,K=se?Y[J]:Y;ne=re.p+Q,ue=ne+K,$.push(ne,ue)}}W._extremes[T._id]=M.findExtremes(T,$,{padded:!1})}}function w(T,k){for(var _=k.traces,B=L(T),F=0;F<_.length;F++){for(var O=_[F],N=O[0].trace,z=N.type==="scatter",V=N.orientation==="v",W=[],$=!1,re=0;re<O.length;re++){var ne=O[re],ue=z?0:ne.b,J=z?V?ne.y:ne.x:ue+ne.s;ne[B]=J,W.push(J),ne.hasB&&W.push(ue),(!ne.hasB||!ne.b)&&($=!0)}N._extremes[T._id]=M.findExtremes(T,W,{tozero:$,padded:!0})}}function A(T,k,_){var B=L(T),F=k.traces,O,N,z,V,W,$;for(V=0;V<F.length;V++)if(O=F[V],N=O[0].trace,N.type==="funnel")for(W=0;W<O.length;W++)$=O[W],$.s!==a&&k.put($.p,-.5*$.s);for(V=0;V<F.length;V++){O=F[V],N=O[0].trace,z=N.type==="funnel";var re=[];for(W=0;W<O.length;W++)if($=O[W],$.s!==a){var ne;z?ne=$.s:ne=$.s+$.b;var ue=k.put($.p,ne),J=ue+ne;$.b=ue,$[B]=J,_.norm||(re.push(J),$.hasB&&re.push(ue))}_.norm||(N._extremes[T._id]=M.findExtremes(T,re,{tozero:!0,padded:!0}))}}function C(T){for(var k=T.traces,_=0;_<k.length;_++)for(var B=k[_],F=0;F<B.length;F++){var O=B[F];O.s!==a&&T.put(O.p,O.b+O.s)}}function m(T,k){for(var _=T.traces,B=0;B<_.length;B++){var F=_[B],O=F[0].trace;if(O.base===void 0)for(var N=new p([F],{posAxis:k,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<F.length;z++){var V=F[z];if(V.p!==a){var W=N.put(V.p,V.b+V.s);W&&(V.b=W)}}}}function E(T,k,_){var B=k.traces,F=L(T),O=_.norm==="fraction"?1:100,N=O/1e9,z=T.l2c(T.c2l(0)),V=_.mode==="stack"?O:z;function W(K){return g(T.c2l(K))&&(K<z-N||K>V+N||!g(z))}for(var $=0;$<B.length;$++){for(var re=B[$],ne=re[0].trace,ue=[],J=!1,X=!1,oe=0;oe<re.length;oe++){var Y=re[oe];if(Y.s!==a){var q=Math.abs(O/k.get(Y.p,Y.s));Y.b*=q,Y.s*=q;var se=Y.b,Q=se+Y.s;Y[F]=Q,ue.push(Q),X=X||W(Q),Y.hasB&&(ue.push(se),X=X||W(se)),(!Y.hasB||!Y.b)&&(J=!0)}}ne._extremes[T._id]=M.findExtremes(T,ue,{tozero:J,padded:X})}}function b(T,k,_,B){for(var F=L(B),O=0;O<T.length;O++)for(var N=T[O],z=0;z<N.length;z++){var V=N[z],W=V[F];V._sMin=k[W],V._sMax=_[W]}}function s(T,k){var _=L(k),B={},F,O,N,z=1/0,V=-1/0;for(F=0;F<T.length;F++)for(N=T[F],O=0;O<N.length;O++){var W=N[O].p;g(W)&&(z=Math.min(z,W),V=Math.max(V,W))}var $=1e4/(V-z),re=B.round=function(ce){return String(Math.round($*(ce-z)))},ne={},ue={},J=T.some(function(ce){var ye=ce[0].trace;return"marker"in ye&&ye.marker.cornerradius});for(F=0;F<T.length;F++){N=T[F],N[0].t.extents=B;var X=N[0].t.poffset,oe=P(X);for(O=0;O<N.length;O++){var Y=N[O],q=Y[_]-Y.w/2;if(g(q)){var se=Y[_]+Y.w/2,Q=re(Y.p);B[Q]?B[Q]=[Math.min(q,B[Q][0]),Math.max(se,B[Q][1])]:B[Q]=[q,se]}if(Y.p0=Y.p+(oe?X[O]:X),Y.p1=Y.p0+Y.w,Y.s0=Y.b,Y.s1=Y.s0+Y.s,J){var K=Math.min(Y.s0,Y.s1)||0,le=Math.max(Y.s0,Y.s1)||0,ie=Y[_];ne[ie]=ie in ne?Math.min(ne[ie],K):K,ue[ie]=ie in ue?Math.max(ue[ie],le):le}}}J&&b(T,ne,ue,k)}function L(T){return T._id.charAt(0)}j.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(j,H,e){var g=e(38248),P=e(3400),a=e(76308),x=e(24040),M=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),i=P.coerceFont;function n(y,h,S,c){function o(m,E){return P.coerce(y,h,t,m,E)}var d=M(y,h,c,o);if(!d){h.visible=!1;return}v(y,h,c,o),o("xhoverformat"),o("yhoverformat"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var w=o("textposition");l(y,h,c,o,w,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(y,h,o,S,c);var A=(h.marker.line||{}).color,C=x.getComponentMethod("errorbars","supplyDefaults");C(y,h,A||a.defaultLine,{axis:"y"}),C(y,h,A||a.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(h,o)}function u(y,h){var S,c;function o(A,C){return P.coerce(c._input,c,t,A,C)}for(var d=0;d<y.length;d++)if(c=y[d],c.type==="bar"){S=c._input;var w=o("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=f(w)),h.barmode==="group"&&r(S,c,h,o)}}function f(y){if(g(y)){if(y=+y,y>=0)return y}else if(typeof y=="string"&&(y=y.trim(),y.slice(-1)==="%"&&g(y.slice(0,-1))&&(y=+y.slice(0,-1),y>=0)))return y+"%"}function l(y,h,S,c,o,d){d=d||{};var w=d.moduleHasSelected!==!1,A=d.moduleHasUnselected!==!1,C=d.moduleHasConstrain!==!1,m=d.moduleHasCliponaxis!==!1,E=d.moduleHasTextangle!==!1,b=d.moduleHasInsideanchor!==!1,s=!!d.hasPathbar,L=Array.isArray(o)||o==="auto",T=L||o==="inside",k=L||o==="outside";if(T||k){var _=i(c,"textfont",S.font),B=P.extendFlat({},_),F=y.textfont&&y.textfont.color,O=!F;if(O&&delete B.color,i(c,"insidetextfont",B),s){var N=P.extendFlat({},_);O&&delete N.color,i(c,"pathbar.textfont",N)}k&&i(c,"outsidetextfont",_),w&&c("selected.textfont.color"),A&&c("unselected.textfont.color"),C&&c("constraintext"),m&&c("cliponaxis"),E&&c("textangle"),c("texttemplate")}T&&b&&c("insidetextanchor")}j.exports={supplyDefaults:n,crossTraceDefaults:u,handleText:l,validateCornerradius:f}},52160:function(j){j.exports=function(e,g,P){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(j,H,e){var g=e(38248),P=e(49760),a=e(3400).isArrayOrTypedArray;H.coerceString=function(x,M,v){if(typeof M=="string"){if(M||!x.noBlank)return M}else if((typeof M=="number"||M===!0)&&!x.strict)return String(M);return v!==void 0?v:x.dflt},H.coerceNumber=function(x,M,v){if(g(M)){M=+M;var p=x.min,r=x.max,t=p!==void 0&&M<p||r!==void 0&&M>r;if(!t)return M}return v!==void 0?v:x.dflt},H.coerceColor=function(x,M,v){return P(M).isValid()?M:v!==void 0?v:x.dflt},H.coerceEnumerated=function(x,M,v){return x.coerceNumber&&(M=+M),x.values.indexOf(M)!==-1?M:v!==void 0?v:x.dflt},H.getValue=function(x,M){var v;return a(x)?M<x.length&&(v=x[M]):v=x,v},H.getLineWidth=function(x,M){var v=0<M.mlw?M.mlw:a(x.marker.line.width)?0:x.marker.line.width;return v}},63400:function(j,H,e){var g=e(93024),P=e(24040),a=e(76308),x=e(3400).fillText,M=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,u,f,l,y){var h=t(n,u,f,l,y);if(h){var S=h.cd,c=S[0].trace,o=S[h.index];return h.color=i(c,o),P.getComponentMethod("errorbars","hoverInfo")(o,c,h),[h]}}function t(n,u,f,l,y){var h=n.cd,S=h[0].trace,c=h[0].t,o=l==="closest",d=S.type==="waterfall",w=n.maxHoverDistance,A=n.maxSpikeDistance,C,m,E,b,s,L,T;S.orientation==="h"?(C=f,m=u,E="y",b="x",s=ue,L=$):(C=u,m=f,E="x",b="y",L=ue,s=$);var k=S[E+"period"],_=o||k;function B(ce){return O(ce,-1)}function F(ce){return O(ce,1)}function O(ce,ye){var Ce=ce.w;return ce[E]+ye*Ce/2}function N(ce){return ce[E+"End"]-ce[E+"Start"]}var z=o?B:k?function(ce){return ce.p-N(ce)/2}:function(ce){return Math.min(B(ce),ce.p-c.bardelta/2)},V=o?F:k?function(ce){return ce.p+N(ce)/2}:function(ce){return Math.max(F(ce),ce.p+c.bardelta/2)};function W(ce,ye,Ce){return y.finiteRange&&(Ce=0),g.inbox(ce-C,ye-C,Ce+Math.min(1,Math.abs(ye-ce)/T)-1)}function $(ce){return W(z(ce),V(ce),w)}function re(ce){return W(B(ce),F(ce),A)}function ne(ce){var ye=ce[b];if(d){var Ce=Math.abs(ce.rawS)||0;m>0?ye+=Ce:m<0&&(ye-=Ce)}return ye}function ue(ce){var ye=m,Ce=ce.b,Ae=ne(ce);return g.inbox(Ce-ye,Ae-ye,w+(Ae-ye)/(Ae-Ce)-1)}function J(ce){var ye=m,Ce=ce.b,Ae=ne(ce);return g.inbox(Ce-ye,Ae-ye,A+(Ae-ye)/(Ae-Ce)-1)}var X=n[E+"a"],oe=n[b+"a"];T=Math.abs(X.r2c(X.range[1])-X.r2c(X.range[0]));function Y(ce){return(s(ce)+L(ce))/2}var q=g.getDistanceFunction(l,s,L,Y);if(g.getClosest(h,q,n),n.index!==!1&&h[n.index].p!==p){_||(z=function(ce){return Math.min(B(ce),ce.p-c.bargroupwidth/2)},V=function(ce){return Math.max(F(ce),ce.p+c.bargroupwidth/2)});var se=n.index,Q=h[se],K=S.base?Q.b+Q.s:Q.s;n[b+"0"]=n[b+"1"]=oe.c2p(Q[b],!0),n[b+"LabelVal"]=K;var le=c.extents[c.extents.round(Q.p)];n[E+"0"]=X.c2p(o?z(Q):le[0],!0),n[E+"1"]=X.c2p(o?V(Q):le[1],!0);var ie=Q.orig_p!==void 0;return n[E+"LabelVal"]=ie?Q.orig_p:Q.p,n.labelLabel=v(X,n[E+"LabelVal"],S[E+"hoverformat"]),n.valueLabel=v(oe,n[b+"LabelVal"],S[b+"hoverformat"]),n.baseLabel=v(oe,Q.b,S[b+"hoverformat"]),n.spikeDistance=(J(Q)+re(Q))/2,n[E+"Spike"]=X.c2p(Q.p,!0),x(Q,S,n),n.hovertemplate=S.hovertemplate,n}}function i(n,u){var f=u.mcc||n.marker.color,l=u.mlcc||n.marker.line.color,y=M(n,u);if(a.opacity(f))return f;if(a.opacity(l)&&y)return l}j.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:i}},51132:function(j,H,e){j.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(j){j.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(j,H,e){var g=e(24040),P=e(54460),a=e(3400),x=e(39324),M=e(31508).validateCornerradius;j.exports=function(v,p,r){function t(d,w){return a.coerce(v,p,x,d,w)}for(var i=!1,n=!1,u=!1,f={},l=t("barmode"),y=0;y<r.length;y++){var h=r[y];if(g.traceIs(h,"bar")&&h.visible)i=!0;else continue;if(l==="group"){var S=h.xaxis+h.yaxis;f[S]&&(u=!0),f[S]=!0}if(h.visible&&h.type==="histogram"){var c=P.getFromId({_fullLayout:p},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!i){delete p.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!u?0:.2),t("bargroupgap");var o=t("barcornerradius");p.barcornerradius=M(o)}},98184:function(j,H,e){var g=e(33428),P=e(38248),a=e(3400),x=e(72736),M=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,u=e(60100),f=e(60444),l=e(78048),y=e(20832),h=y.text,S=y.textposition,c=e(10624).appendArrayPointValue,o=l.TEXTPAD;function d($){return $.id}function w($){if($.ids)return d}function A($){return($>0)-($<0)}function C($,re){return $<re?1:-1}function m($,re,ne,ue){var J=[],X=[],oe=ue?re:ne,Y=ue?ne:re;return J[0]=oe.c2p($.s0,!0),X[0]=Y.c2p($.p0,!0),J[1]=oe.c2p($.s1,!0),X[1]=Y.c2p($.p1,!0),ue?[J,X]:[X,J]}function E($,re,ne,ue){if(!re.uniformtext.mode&&b(ne)){var J;return ue&&(J=ue()),$.transition().duration(ne.duration).ease(ne.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()})}else return $}function b($){return $&&$.duration>0}function s($,re,ne,ue,J,X){var oe=re.xaxis,Y=re.yaxis,q=$._fullLayout,se=$._context.staticPlot;J||(J={mode:q.barmode,norm:q.barmode,gap:q.bargap,groupgap:q.bargroupgap},n("bar",q));var Q=a.makeTraceGroups(ue,ne,"trace bars").each(function(K){var le=g.select(this),ie=K[0].trace,ce=K[0].t,ye=ie.type==="waterfall",Ce=ie.type==="funnel",Ae=ie.type==="histogram",ke=ie.type==="bar",we=ke||Ce,Ee=0;ye&&ie.connector.visible&&ie.connector.mode==="between"&&(Ee=ie.connector.line.width/2);var xe=ie.orientation==="h",Pe=b(J),Ue=a.ensureSingle(le,"g","points"),Be=w(ie),Ne=Ue.selectAll("g.point").data(a.identity,Be);Ne.enter().append("g").classed("point",!0),Ne.exit().remove(),Ne.each(function(ut,dt){var at=g.select(this),We=m(ut,oe,Y,xe),rt=We[0][0],st=We[0][1],ht=We[1][0],vt=We[1][1],At=(xe?st-rt:vt-ht)===0;At&&we&&f.getLineWidth(ie,ut)&&(At=!1),At||(At=!P(rt)||!P(st)||!P(ht)||!P(vt)),ut.isBlank=At,At&&(xe?st=rt:vt=ht),Ee&&!At&&(xe?(rt-=C(rt,st)*Ee,st+=C(rt,st)*Ee):(ht-=C(ht,vt)*Ee,vt+=C(ht,vt)*Ee));var et,_e;if(ie.type==="waterfall"){if(!At){var Ve=ie[ut.dir].marker;et=Ve.line.width,_e=Ve.color}}else et=f.getLineWidth(ie,ut),_e=ut.mc||ie.marker.color;function Ze(lt){var Tt=g.round(et/2%1,2);return J.gap===0&&J.groupgap===0?g.round(Math.round(lt)-Tt,2):lt}function He(lt,Tt,Ct){return Ct&&lt===Tt?lt:Math.abs(lt-Tt)>=2?Ze(lt):lt>Tt?Math.ceil(lt):Math.floor(lt)}var Ie=M.opacity(_e),be=Ie<1||et>.01?Ze:He;$._context.staticPlot||(rt=be(rt,st,xe),st=be(st,rt,xe),ht=be(ht,vt,!xe),vt=be(vt,ht,!xe));var me=xe?oe.c2p:Y.c2p,Me;ut.s0>0?Me=ut._sMax:ut.s0<0?Me=ut._sMin:Me=ut.s1>0?ut._sMax:ut._sMin;function Te(lt,Tt){if(!lt)return 0;var Ct=Math.abs(xe?vt-ht:st-rt),It=Math.abs(xe?st-rt:vt-ht),Dt=be(Math.abs(me(Me,!0)-me(0,!0))),Vt=ut.hasB?Math.min(Ct/2,It/2):Math.min(Ct/2,Dt),Bt;if(Tt==="%"){var $t=Math.min(50,lt);Bt=Ct*($t/100)}else Bt=lt;return be(Math.max(Math.min(Bt,Vt),0))}var Oe=ke||Ae?Te(ce.cornerradiusvalue,ce.cornerradiusform):0,Ke,nt,pt="M"+rt+","+ht+"V"+vt+"H"+st+"V"+ht+"Z",yt=0;if(Oe&&ut.s){var Yt=A(ut.s0)===0||A(ut.s)===A(ut.s0)?ut.s1:ut.s0;if(yt=be(ut.hasB?0:Math.abs(me(Me,!0)-me(Yt,!0))),yt<Oe){var Xt=C(rt,st),St=C(ht,vt),kt=Xt===-St?1:0;if(xe)if(ut.hasB)Ke="M"+(rt+Oe*Xt)+","+ht+"A "+Oe+","+Oe+" 0 0 "+kt+" "+rt+","+(ht+Oe*St)+"V"+(vt-Oe*St)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+(rt+Oe*Xt)+","+vt+"H"+(st-Oe*Xt)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+st+","+(vt-Oe*St)+"V"+(ht+Oe*St)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+(st-Oe*Xt)+","+ht+"Z";else{nt=Math.abs(st-rt)+yt;var Kt=nt<Oe?Oe-Math.sqrt(nt*(2*Oe-nt)):0,mr=yt>0?Math.sqrt(yt*(2*Oe-yt)):0,mt=Xt>0?Math.max:Math.min;Ke="M"+rt+","+ht+"V"+(vt-Kt*St)+"H"+mt(st-(Oe-yt)*Xt,rt)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+st+","+(vt-Oe*St-mr)+"V"+(ht+Oe*St+mr)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+mt(st-(Oe-yt)*Xt,rt)+","+(ht+Kt*St)+"Z"}else if(ut.hasB)Ke="M"+(rt+Oe*Xt)+","+ht+"A "+Oe+","+Oe+" 0 0 "+kt+" "+rt+","+(ht+Oe*St)+"V"+(vt-Oe*St)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+(rt+Oe*Xt)+","+vt+"H"+(st-Oe*Xt)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+st+","+(vt-Oe*St)+"V"+(ht+Oe*St)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+(st-Oe*Xt)+","+ht+"Z";else{nt=Math.abs(vt-ht)+yt;var Zt=nt<Oe?Oe-Math.sqrt(nt*(2*Oe-nt)):0,Qt=yt>0?Math.sqrt(yt*(2*Oe-yt)):0,yr=St>0?Math.max:Math.min;Ke="M"+(rt+Zt*Xt)+","+ht+"V"+yr(vt-(Oe-yt)*St,ht)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+(rt+Oe*Xt-Qt)+","+vt+"H"+(st-Oe*Xt+Qt)+"A "+Oe+","+Oe+" 0 0 "+kt+" "+(st-Zt*Xt)+","+yr(vt-(Oe-yt)*St,ht)+"V"+ht+"Z"}}else Ke=pt}else Ke=pt;var sr=E(a.ensureSingle(at,"path"),q,J,X);if(sr.style("vector-effect",se?"none":"non-scaling-stroke").attr("d",isNaN((st-rt)*(vt-ht))||At&&$._context.staticPlot?"M0,0Z":Ke).call(v.setClipUrl,re.layerClipId,$),!q.uniformtext.mode&&Pe){var bt=v.makePointStyleFns(ie);v.singlePointStyle(ut,sr,ie,bt,$)}L($,re,at,K,dt,rt,st,ht,vt,Oe,yt,J,X),re.layerClipId&&v.hideOutsideRangePoint(ut,at.select("text"),oe,Y,ie.xcalendar,ie.ycalendar)});var Xe=ie.cliponaxis===!1;v.setClipUrl(le,Xe?null:re.layerClipId,$)});p.getComponentMethod("errorbars","plot")($,Q,re,J)}function L($,re,ne,ue,J,X,oe,Y,q,se,Q,K,le){var ie=re.xaxis,ce=re.yaxis,ye=$._fullLayout,Ce;function Ae(nt,pt,yt){var Yt=a.ensureSingle(nt,"text").text(pt).attr({class:"bartext bartext-"+Ce,"text-anchor":"middle","data-notex":1}).call(v.font,yt).call(x.convertToTspans,$);return Yt}var ke=ue[0].trace,we=ke.orientation==="h",Ee=N(ye,ue,J,ie,ce);Ce=z(ke,J);var xe=K.mode==="stack"||K.mode==="relative",Pe=ue[J],Ue=!xe||Pe._outmost,Be=Pe.hasB,Ne=se&&se-Q>o;if(!Ee||Ce==="none"||(Pe.isBlank||X===oe||Y===q)&&(Ce==="auto"||Ce==="inside")){ne.select("text").remove();return}var Xe=ye.font,ut=u.getBarColor(ue[J],ke),dt=u.getInsideTextFont(ke,J,Xe,ut),at=u.getOutsideTextFont(ke,J,Xe),We=ke.insidetextanchor||"end",rt=ne.datum();we?ie.type==="log"&&rt.s0<=0&&(ie.range[0]<ie.range[1]?X=0:X=ie._length):ce.type==="log"&&rt.s0<=0&&(ce.range[0]<ce.range[1]?Y=ce._length:Y=0);var st=Math.abs(oe-X),ht=Math.abs(q-Y),vt=st-2*o,At=ht-2*o,et,_e,Ve,Ze,He;if(Ce==="outside"&&!Ue&&!Pe.hasB&&(Ce="inside"),Ce==="auto")if(Ue){Ce="inside",He=a.ensureUniformFontSize($,dt),et=Ae(ne,Ee,He),_e=v.bBox(et.node()),Ve=_e.width,Ze=_e.height;var Ie=Ve>0&&Ze>0,be;Ne?Be?be=T(vt-2*se,At,Ve,Ze,we)||T(vt,At-2*se,Ve,Ze,we):we?be=T(vt-(se-Q),At,Ve,Ze,we)||T(vt,At-2*(se-Q),Ve,Ze,we):be=T(vt,At-(se-Q),Ve,Ze,we)||T(vt-2*(se-Q),At,Ve,Ze,we):be=T(vt,At,Ve,Ze,we),Ie&&be?Ce="inside":(Ce="outside",et.remove(),et=null)}else Ce="inside";if(!et){He=a.ensureUniformFontSize($,Ce==="outside"?at:dt),et=Ae(ne,Ee,He);var me=et.attr("transform");if(et.attr("transform",""),_e=v.bBox(et.node()),Ve=_e.width,Ze=_e.height,et.attr("transform",me),Ve<=0||Ze<=0){et.remove();return}}var Me=ke.textangle,Te,Oe;Ce==="outside"?(Oe=ke.constraintext==="both"||ke.constraintext==="outside",Te=O(X,oe,Y,q,_e,{isHorizontal:we,constrained:Oe,angle:Me})):(Oe=ke.constraintext==="both"||ke.constraintext==="inside",Te=B(X,oe,Y,q,_e,{isHorizontal:we,constrained:Oe,angle:Me,anchor:We,hasB:Be,r:se,overhead:Q})),Te.fontSize=He.size,i(ke.type==="histogram"?"bar":ke.type,Te,ye),Pe.transform=Te;var Ke=E(et,ye,K,le);a.setTransormAndDisplay(Ke,Te)}function T($,re,ne,ue,J){if($<0||re<0)return!1;var X=ne<=$&&ue<=re,oe=ne<=re&&ue<=$,Y=J?$>=ne*(re/ue):re>=ue*($/ne);return X||oe||Y}function k($){return $==="auto"?0:$}function _($,re){var ne=Math.PI/180*re,ue=Math.abs(Math.sin(ne)),J=Math.abs(Math.cos(ne));return{x:$.width*J+$.height*ue,y:$.width*ue+$.height*J}}function B($,re,ne,ue,J,X){var oe=!!X.isHorizontal,Y=!!X.constrained,q=X.angle||0,se=X.anchor,Q=se==="end",K=se==="start",le=X.leftToRight||0,ie=(le+1)/2,ce=1-ie,ye=X.hasB,Ce=X.r,Ae=X.overhead,ke=J.width,we=J.height,Ee=Math.abs(re-$),xe=Math.abs(ue-ne),Pe=Ee>2*o&&xe>2*o?o:0;Ee-=2*Pe,xe-=2*Pe;var Ue=k(q);q==="auto"&&!(ke<=Ee&&we<=xe)&&(ke>Ee||we>xe)&&(!(ke>xe||we>Ee)||ke<we!=Ee<xe)&&(Ue+=90);var Be=_(J,Ue),Ne,Xe;if(Ce&&Ce-Ae>o){var ut=F($,re,ne,ue,Be,Ce,Ae,oe,ye);Ne=ut.scale,Xe=ut.pad}else Ne=1,Y&&(Ne=Math.min(1,Ee/Be.x,xe/Be.y)),Xe=0;var dt=J.left*ce+J.right*ie,at=(J.top+J.bottom)/2,We=($+o)*ce+(re-o)*ie,rt=(ne+ue)/2,st=0,ht=0;if(K||Q){var vt=(oe?Be.x:Be.y)/2;Ce&&(Q||ye)&&(Pe+=Xe);var At=oe?C($,re):C(ne,ue);oe?K?(We=$+At*Pe,st=-At*vt):(We=re-At*Pe,st=At*vt):K?(rt=ne+At*Pe,ht=-At*vt):(rt=ue-At*Pe,ht=At*vt)}return{textX:dt,textY:at,targetX:We,targetY:rt,anchorX:st,anchorY:ht,scale:Ne,rotate:Ue}}function F($,re,ne,ue,J,X,oe,Y,q){var se=Math.max(0,Math.abs(re-$)-2*o),Q=Math.max(0,Math.abs(ue-ne)-2*o),K=X-o,le=oe?K-Math.sqrt(K*K-(K-oe)*(K-oe)):K,ie=q?K*2:Y?K-oe:2*le,ce=q?K*2:Y?2*le:K-oe,ye,Ce,Ae,ke,we;return J.y/J.x>=Q/(se-ie)?ke=Q/J.y:J.y/J.x<=(Q-ce)/se?ke=se/J.x:!q&&Y?(ye=J.x*J.x+J.y*J.y/4,Ce=-2*J.x*(se-K)-J.y*(Q/2-K),Ae=(se-K)*(se-K)+(Q/2-K)*(Q/2-K)-K*K,ke=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)):q?(ye=(J.x*J.x+J.y*J.y)/4,Ce=-J.x*(se/2-K)-J.y*(Q/2-K),Ae=(se/2-K)*(se/2-K)+(Q/2-K)*(Q/2-K)-K*K,ke=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)):(ye=J.x*J.x/4+J.y*J.y,Ce=-J.x*(se/2-K)-2*J.y*(Q-K),Ae=(se/2-K)*(se/2-K)+(Q-K)*(Q-K)-K*K,ke=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)),ke=Math.min(1,ke),Y?we=Math.max(0,K-Math.sqrt(Math.max(0,K*K-(K-(Q-J.y*ke)/2)*(K-(Q-J.y*ke)/2)))-oe):we=Math.max(0,K-Math.sqrt(Math.max(0,K*K-(K-(se-J.x*ke)/2)*(K-(se-J.x*ke)/2)))-oe),{scale:ke,pad:we}}function O($,re,ne,ue,J,X){var oe=!!X.isHorizontal,Y=!!X.constrained,q=X.angle||0,se=J.width,Q=J.height,K=Math.abs(re-$),le=Math.abs(ue-ne),ie;oe?ie=le>2*o?o:0:ie=K>2*o?o:0;var ce=1;Y&&(ce=oe?Math.min(1,le/Q):Math.min(1,K/se));var ye=k(q),Ce=_(J,ye),Ae=(oe?Ce.x:Ce.y)/2,ke=(J.left+J.right)/2,we=(J.top+J.bottom)/2,Ee=($+re)/2,xe=(ne+ue)/2,Pe=0,Ue=0,Be=oe?C(re,$):C(ne,ue);return oe?(Ee=re-Be*ie,Pe=Be*Ae):(xe=ue+Be*ie,Ue=-Be*Ae),{textX:ke,textY:we,targetX:Ee,targetY:xe,anchorX:Pe,anchorY:Ue,scale:ce,rotate:ye}}function N($,re,ne,ue,J){var X=re[0].trace,oe=X.texttemplate,Y;return oe?Y=V($,re,ne,ue,J):X.textinfo?Y=W(re,ne,ue,J):Y=f.getValue(X.text,ne),f.coerceString(h,Y)}function z($,re){var ne=f.getValue($.textposition,re);return f.coerceEnumerated(S,ne)}function V($,re,ne,ue,J){var X=re[0].trace,oe=a.castOption(X,ne,"texttemplate");if(!oe)return"";var Y=X.type==="histogram",q=X.type==="waterfall",se=X.type==="funnel",Q=X.orientation==="h",K,le,ie,ce;Q?(K="y",le=J,ie="x",ce=ue):(K="x",le=ue,ie="y",ce=J);function ye(Pe){return r(le,le.c2l(Pe),!0).text}function Ce(Pe){return r(ce,ce.c2l(Pe),!0).text}var Ae=re[ne],ke={};ke.label=Ae.p,ke.labelLabel=ke[K+"Label"]=ye(Ae.p);var we=a.castOption(X,Ae.i,"text");(we===0||we)&&(ke.text=we),ke.value=Ae.s,ke.valueLabel=ke[ie+"Label"]=Ce(Ae.s);var Ee={};c(Ee,X,Ae.i),(Y||Ee.x===void 0)&&(Ee.x=Q?ke.value:ke.label),(Y||Ee.y===void 0)&&(Ee.y=Q?ke.label:ke.value),(Y||Ee.xLabel===void 0)&&(Ee.xLabel=Q?ke.valueLabel:ke.labelLabel),(Y||Ee.yLabel===void 0)&&(Ee.yLabel=Q?ke.labelLabel:ke.valueLabel),q&&(ke.delta=+Ae.rawS||Ae.s,ke.deltaLabel=Ce(ke.delta),ke.final=Ae.v,ke.finalLabel=Ce(ke.final),ke.initial=ke.final-ke.delta,ke.initialLabel=Ce(ke.initial)),se&&(ke.value=Ae.s,ke.valueLabel=Ce(ke.value),ke.percentInitial=Ae.begR,ke.percentInitialLabel=a.formatPercent(Ae.begR),ke.percentPrevious=Ae.difR,ke.percentPreviousLabel=a.formatPercent(Ae.difR),ke.percentTotal=Ae.sumR,ke.percenTotalLabel=a.formatPercent(Ae.sumR));var xe=a.castOption(X,Ae.i,"customdata");return xe&&(ke.customdata=xe),a.texttemplateString(oe,ke,$._d3locale,Ee,ke,X._meta||{})}function W($,re,ne,ue){var J=$[0].trace,X=J.orientation==="h",oe=J.type==="waterfall",Y=J.type==="funnel";function q(xe){var Pe=X?ue:ne;return r(Pe,xe,!0).text}function se(xe){var Pe=X?ne:ue;return r(Pe,+xe,!0).text}var Q=J.textinfo,K=$[re],le=Q.split("+"),ie=[],ce,ye=function(xe){return le.indexOf(xe)!==-1};if(ye("label")&&ie.push(q($[re].p)),ye("text")&&(ce=a.castOption(J,K.i,"text"),(ce===0||ce)&&ie.push(ce)),oe){var Ce=+K.rawS||K.s,Ae=K.v,ke=Ae-Ce;ye("initial")&&ie.push(se(ke)),ye("delta")&&ie.push(se(Ce)),ye("final")&&ie.push(se(Ae))}if(Y){ye("value")&&ie.push(se(K.s));var we=0;ye("percent initial")&&we++,ye("percent previous")&&we++,ye("percent total")&&we++;var Ee=we>1;ye("percent initial")&&(ce=a.formatPercent(K.begR),Ee&&(ce+=" of initial"),ie.push(ce)),ye("percent previous")&&(ce=a.formatPercent(K.difR),Ee&&(ce+=" of previous"),ie.push(ce)),ye("percent total")&&(ce=a.formatPercent(K.sumR),Ee&&(ce+=" of total"),ie.push(ce))}return ie.join("<br>")}j.exports={plot:s,toMoveInsideBar:B}},45784:function(j){j.exports=function(g,P){var a=g.cd,x=g.xaxis,M=g.yaxis,v=a[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],i;if(P===!1)for(i=0;i<a.length;i++)a[i].selected=0;else for(i=0;i<a.length;i++){var n=a[i],u="ct"in n?n.ct:H(n,x,M,r,p);P.contains(u,!1,i,g)?(t.push({pointNumber:i,x:x.c2d(n.x),y:M.c2d(n.y)}),n.selected=1):n.selected=0}return t};function H(e,g,P,a,x){var M=g.c2p(a?e.s0:e.p0,!0),v=g.c2p(a?e.s1:e.p1,!0),p=P.c2p(a?e.p0:e.s0,!0),r=P.c2p(a?e.p1:e.s1,!0);return x?[(M+v)/2,(p+r)/2]:a?[v,(p+r)/2]:[(M+v)/2,r]}},72592:function(j,H,e){j.exports=P;var g=e(3400).distinctVals;function P(a,x){this.traces=a,this.sepNegVal=x.sepNegVal,this.overlapNoMerge=x.overlapNoMerge;for(var M=1/0,v=x.posAxis._id.charAt(0),p=[],r=0;r<a.length;r++){for(var t=a[r],i=0;i<t.length;i++){var n=t[i],u=n.p;u===void 0&&(u=n[v]),u!==void 0&&p.push(u)}t[0]&&t[0].width1&&(M=Math.min(t[0].width1,M))}this.positions=p;var f=g(p);this.distinctPositions=f.vals,f.vals.length===1&&M!==1/0?this.minDiff=M:this.minDiff=Math.min(f.minDiff,M);var l=(x.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(x,M){var v=this.getLabel(x,M),p=this.bins[v]||0;return this.bins[v]=p+M,p},P.prototype.get=function(x,M){var v=this.getLabel(x,M);return this.bins[v]||0},P.prototype.getLabel=function(x,M){var v=M<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?x:Math.round(x/this.binWidth);return v+p}},60100:function(j,H,e){var g=e(33428),P=e(76308),a=e(43616),x=e(3400),M=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,i=p.outsidetextfont,n=e(60444);function u(m){var E=g.select(m).selectAll("g.barlayer").selectAll("g.trace");v(m,E,"bar");var b=E.size(),s=m._fullLayout;E.style("opacity",function(L){return L[0].trace.opacity}).each(function(L){(s.barmode==="stack"&&b>1||s.bargap===0&&s.bargroupgap===0&&!L[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(L){var T=g.select(this),k=L[0].trace;f(T,k,m)}),M.getComponentMethod("errorbars","style")(E)}function f(m,E,b){a.pointStyle(m.selectAll("path"),E,b),l(m,E,b)}function l(m,E,b){m.selectAll("text").each(function(s){var L=g.select(this),T=x.ensureUniformFontSize(b,c(L,s,E,b));a.font(L,T)})}function y(m,E,b){var s=E[0].trace;s.selectedpoints?h(b,s,m):(f(b,s,m),M.getComponentMethod("errorbars","style")(b))}function h(m,E,b){a.selectedPointStyle(m.selectAll("path"),E),S(m.selectAll("text"),E,b)}function S(m,E,b){m.each(function(s){var L=g.select(this),T;if(s.selected){T=x.ensureUniformFontSize(b,c(L,s,E,b));var k=E.selected.textfont&&E.selected.textfont.color;k&&(T.color=k),a.font(L,T)}else a.selectedTextStyle(L,E)})}function c(m,E,b,s){var L=s._fullLayout.font,T=b.textfont;if(m.classed("bartext-inside")){var k=C(E,b);T=d(b,E.i,L,k)}else m.classed("bartext-outside")&&(T=w(b,E.i,L));return T}function o(m,E,b){return A(r,m.textfont,E,b)}function d(m,E,b,s){var L=o(m,E,b),T=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[E]===void 0;return T&&(L={color:P.contrast(s),family:L.family,size:L.size}),A(t,m.insidetextfont,E,L)}function w(m,E,b){var s=o(m,E,b);return A(i,m.outsidetextfont,E,s)}function A(m,E,b,s){E=E||{};var L=n.getValue(E.family,b),T=n.getValue(E.size,b),k=n.getValue(E.color,b);return{family:n.coerceString(m.family,L,s.family),size:n.coerceNumber(m.size,T,s.size),color:n.coerceColor(m.color,k,s.color)}}function C(m,E){return E.type==="waterfall"?E[m.dir].marker.color:m.mcc||m.mc||E.marker.color}j.exports={style:u,styleTextPoints:l,styleOnSelect:y,getInsideTextFont:d,getOutsideTextFont:w,getBarColor:C,resizeText:v}},55592:function(j,H,e){var g=e(76308),P=e(94288).hasColorscale,a=e(27260),x=e(3400).coercePattern;j.exports=function(v,p,r,t,i){var n=r("marker.color",t),u=P(v,"marker");u&&a(v,p,i,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",g.defaultLine),P(v,"marker.line")&&a(v,p,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),x(r,"marker.pattern",n,u),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(j,H,e){var g=e(33428),P=e(3400);function a(p,r,t){var i=p._fullLayout,n=i["_"+t+"Text_minsize"];if(n){var u=i.uniformtext.mode==="hide",f;switch(t){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}r.selectAll(f).each(function(l){var y=l.transform;if(y){y.scale=u&&y.hide?0:n/y.fontSize;var h=g.select(this).select("text");P.setTransormAndDisplay(h,y)}})}}function x(p,r,t){if(t.uniformtext.mode){var i=v(p),n=t.uniformtext.minsize,u=r.scale*r.fontSize;r.hide=u<n,t[i]=t[i]||1/0,r.hide||(t[i]=Math.min(t[i],Math.max(u,n)))}}function M(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}j.exports={recordMinTextSize:x,clearMinTextSize:M,resizeText:a}},78100:function(j,H,e){var g=e(21776).Ks,P=e(92880).extendFlat,a=e(8319),x=e(20832);j.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:P({},x.base,{}),offset:P({},x.offset,{}),width:P({},x.width,{}),text:P({},x.text,{}),hovertext:P({},x.hovertext,{}),marker:M(),hoverinfo:a.hoverinfo,hovertemplate:g(),selected:x.selected,unselected:x.unselected};function M(){var v=P({},x.marker);return delete v.cornerradius,v}},47056:function(j,H,e){var g=e(94288).hasColorscale,P=e(47128),a=e(3400).isArrayOrTypedArray,x=e(84664),M=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,u){for(var f=n._fullLayout,l=u.subplot,y=f[l].radialaxis,h=f[l].angularaxis,S=y.makeCalcdata(u,"r"),c=h.makeCalcdata(u,"theta"),o=u._length,d=new Array(o),w=S,A=c,C=0;C<o;C++)d[C]={p:A[C],s:w[C]};function m(E){var b=u[E];b!==void 0&&(u["_"+E]=a(b)?h.makeCalcdata(u,E):h.d2c(b,u.thetaunit))}return h.type==="linear"&&(m("width"),m("offset")),g(u,"marker")&&P(n,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),g(u,"marker.line")&&P(n,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}),x(d,u),v(d,u),d}function i(n,u,f){for(var l=n.calcdata,y=[],h=0;h<l.length;h++){var S=l[h],c=S[0].trace;c.visible===!0&&p(c,"bar")&&c.subplot===f&&y.push(S)}var o=r({},u.radialaxis,{_id:"x"}),d=u.angularaxis;M(n,d,o,y,{mode:u.barmode,norm:u.barnorm,gap:u.bargap,groupgap:u.bargroupgap})}j.exports={calc:t,crossTraceCalc:i}},70384:function(j,H,e){var g=e(3400),P=e(85968).handleRThetaDefaults,a=e(55592),x=e(78100);j.exports=function(v,p,r,t){function i(u,f){return g.coerce(v,p,x,u,f)}var n=P(v,p,t,i);if(!n){p.visible=!1;return}i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(v,p,i,r,t),g.coerceSelectionMarkerOpacity(p,i)}},68896:function(j,H,e){var g=e(93024),P=e(3400),a=e(63400).getTraceColor,x=P.fillText,M=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;j.exports=function(r,t,i){var n=r.cd,u=n[0].trace,f=r.subplot,l=f.radialAxis,y=f.angularAxis,h=f.vangles,S=h?v:P.isPtInsideSector,c=r.maxHoverDistance,o=y._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),w=Math.atan2(i,t);l.range[0]>l.range[1]&&(w+=Math.PI);var A=function(b){return S(d,w,[b.rp0,b.rp1],[b.thetag0,b.thetag1],h)?c+Math.min(1,Math.abs(b.thetag1-b.thetag0)/o)-1+(b.rp1-d)/(b.rp1-b.rp0)-1:1/0};if(g.getClosest(n,A,r),r.index!==!1){var C=r.index,m=n[C];r.x0=r.x1=m.ct[0],r.y0=r.y1=m.ct[1];var E=P.extendFlat({},m,{r:m.s,theta:m.p});return x(m,u,r),M(E,u,f,r),r.hovertemplate=u.hovertemplate,r.color=a(u,m),r.xLabelVal=r.yLabelVal=void 0,m.s<0&&(r.idealAlign="left"),[r]}}},94456:function(j,H,e){j.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(j){j.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(j,H,e){var g=e(3400),P=e(9320);j.exports=function(a,x,M){var v={},p;function r(n,u){return g.coerce(a[p]||{},x[p],P,n,u)}for(var t=0;t<M.length;t++){var i=M[t];i.type==="barpolar"&&i.visible===!0&&(p=i.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(j,H,e){var g=e(33428),P=e(38248),a=e(3400),x=e(43616),M=e(57384);j.exports=function(r,t,i){var n=r._context.staticPlot,u=t.xaxis,f=t.yaxis,l=t.radialAxis,y=t.angularAxis,h=v(t),S=t.layers.frontplot.select("g.barlayer");a.makeTraceGroups(S,i,"trace bars").each(function(){var c=g.select(this),o=a.ensureSingle(c,"g","points"),d=o.selectAll("g.point").data(a.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(w){var A=g.select(this),C=w.rp0=l.c2p(w.s0),m=w.rp1=l.c2p(w.s1),E=w.thetag0=y.c2g(w.p0),b=w.thetag1=y.c2g(w.p1),s;if(!P(C)||!P(m)||!P(E)||!P(b)||C===m||E===b)s="M0,0Z";else{var L=l.c2g(w.s1),T=(E+b)/2;w.ct=[u.c2p(L*Math.cos(T)),f.c2p(L*Math.sin(T))],s=h(C,m,E,b)}a.ensureSingle(A,"path").attr("d",s)}),x.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(i,n,u,f){var l,y;a.angleDelta(u,f)>0?(l=u,y=f):(l=f,y=u);var h=M.findEnclosingVertexAngles(l,p.vangles)[0],S=M.findEnclosingVertexAngles(y,p.vangles)[1],c=[h,(l+y)/2,S];return M.pathPolygonAnnulus(i,n,l,y,c,r,t)}:function(i,n,u,f){return a.pathAnnulus(i,n,u,f,r,t)}}},63188:function(j,H,e){var g=e(98304),P=e(52904),a=e(20832),x=e(22548),M=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=P.marker,t=r.line;j.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:x.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:p({},P.text,{}),hovertext:p({},P.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(j,H,e){var g=e(38248),P=e(54460),a=e(1220),x=e(3400),M=e(39032).BADNUM,v=x._;j.exports=function(w,A){var C=w._fullLayout,m=P.getFromId(w,A.xaxis||"x"),E=P.getFromId(w,A.yaxis||"y"),b=[],s=A.type==="violin"?"_numViolins":"_numBoxes",L,T,k,_,B,F,O;A.orientation==="h"?(k=m,_="x",B=E,F="y",O=!!A.yperiodalignment):(k=E,_="y",B=m,F="x",O=!!A.xperiodalignment);var N=p(A,F,B,C[s]),z=N[0],V=N[1],W=x.distinctVals(z,B),$=W.vals,re=W.minDiff/2,ne,ue,J,X,oe,Y,q=(A.boxpoints||A.points)==="all"?x.identity:function(At){return At.v<ne.lf||At.v>ne.uf};if(A._hasPreCompStats){var se=A[_],Q=function(At){return k.d2c((A[At]||[])[L])},K=1/0,le=-1/0;for(L=0;L<A._length;L++){var ie=z[L];if(g(ie)){if(ne={},ne.pos=ne[F]=ie,O&&V&&(ne.orig_p=V[L]),ne.q1=Q("q1"),ne.med=Q("median"),ne.q3=Q("q3"),ue=[],se&&x.isArrayOrTypedArray(se[L]))for(T=0;T<se[L].length;T++)Y=k.d2c(se[L][T]),Y!==M&&(oe={v:Y,i:[L,T]},n(oe,A,[L,T]),ue.push(oe));if(ne.pts=ue.sort(f),J=ne[_]=ue.map(l),X=J.length,ne.med!==M&&ne.q1!==M&&ne.q3!==M&&ne.med>=ne.q1&&ne.q3>=ne.med){var ce=Q("lowerfence");ne.lf=ce!==M&&ce<=ne.q1?ce:y(ne,J,X);var ye=Q("upperfence");ne.uf=ye!==M&&ye>=ne.q3?ye:h(ne,J,X);var Ce=Q("mean");ne.mean=Ce!==M?Ce:X?x.mean(J,X):(ne.q1+ne.q3)/2;var Ae=Q("sd");ne.sd=Ce!==M&&Ae>=0?Ae:X?x.stdev(J,X,ne.mean):ne.q3-ne.q1,ne.lo=S(ne),ne.uo=c(ne);var ke=Q("notchspan");ke=ke!==M&&ke>0?ke:o(ne,X),ne.ln=ne.med-ke,ne.un=ne.med+ke;var we=ne.lf,Ee=ne.uf;A.boxpoints&&J.length&&(we=Math.min(we,J[0]),Ee=Math.max(Ee,J[X-1])),A.notched&&(we=Math.min(we,ne.ln),Ee=Math.max(Ee,ne.un)),ne.min=we,ne.max=Ee}else{x.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ne.q1,"median = "+ne.med,"q3 = "+ne.q3].join(`
`));var xe;ne.med!==M?xe=ne.med:ne.q1!==M?ne.q3!==M?xe=(ne.q1+ne.q3)/2:xe=ne.q1:ne.q3!==M?xe=ne.q3:xe=0,ne.med=xe,ne.q1=ne.q3=xe,ne.lf=ne.uf=xe,ne.mean=ne.sd=xe,ne.ln=ne.un=xe,ne.min=ne.max=xe}K=Math.min(K,ne.min),le=Math.max(le,ne.max),ne.pts2=ue.filter(q),b.push(ne)}}A._extremes[k._id]=P.findExtremes(k,[K,le],{padded:!0})}else{var Pe=k.makeCalcdata(A,_),Ue=r($,re),Be=$.length,Ne=t(Be);for(L=0;L<A._length;L++)if(Y=Pe[L],!!g(Y)){var Xe=x.findBin(z[L],Ue);Xe>=0&&Xe<Be&&(oe={v:Y,i:L},n(oe,A,L),Ne[Xe].push(oe))}var ut=1/0,dt=-1/0,at=A.quartilemethod,We=at==="exclusive",rt=at==="inclusive";for(L=0;L<Be;L++)if(Ne[L].length>0){if(ne={},ne.pos=ne[F]=$[L],ue=ne.pts=Ne[L].sort(f),J=ne[_]=ue.map(l),X=J.length,ne.min=J[0],ne.max=J[X-1],ne.mean=x.mean(J,X),ne.sd=x.stdev(J,X,ne.mean)*A.sdmultiple,ne.med=x.interp(J,.5),X%2&&(We||rt)){var st,ht;We?(st=J.slice(0,X/2),ht=J.slice(X/2+1)):rt&&(st=J.slice(0,X/2+1),ht=J.slice(X/2)),ne.q1=x.interp(st,.5),ne.q3=x.interp(ht,.5)}else ne.q1=x.interp(J,.25),ne.q3=x.interp(J,.75);ne.lf=y(ne,J,X),ne.uf=h(ne,J,X),ne.lo=S(ne),ne.uo=c(ne);var vt=o(ne,X);ne.ln=ne.med-vt,ne.un=ne.med+vt,ut=Math.min(ut,ne.ln),dt=Math.max(dt,ne.un),ne.pts2=ue.filter(q),b.push(ne)}A.notched&&x.isTypedArray(Pe)&&(Pe=Array.from(Pe)),A._extremes[k._id]=P.findExtremes(k,A.notched?Pe.concat([ut,dt]):Pe,{padded:!0})}return u(b,A),b.length>0?(b[0].t={num:C[s],dPos:re,posLetter:F,valLetter:_,labels:{med:v(w,"median:"),min:v(w,"min:"),q1:v(w,"q1:"),q3:v(w,"q3:"),max:v(w,"max:"),mean:A.boxmean==="sd"||A.sizemode==="sd"?v(w,"mean ± σ:").replace("σ",A.sdmultiple===1?"σ":A.sdmultiple+"σ"):v(w,"mean:"),lf:v(w,"lower fence:"),uf:v(w,"upper fence:")}},C[s]++,b):[{t:{empty:!0}}]};function p(d,w,A,C){var m=w in d,E=w+"0"in d,b="d"+w in d;if(m||E&&b){var s=A.makeCalcdata(d,w),L=a(d,A,w,s).vals;return[L,s]}var T;E?T=d[w+"0"]:"name"in d&&(A.type==="category"||g(d.name)&&["linear","log"].indexOf(A.type)!==-1||x.isDateTime(d.name)&&A.type==="date")?T=d.name:T=C;for(var k=A.type==="multicategory"?A.r2c_just_indices(T):A.d2c(T,0,d[w+"calendar"]),_=d._length,B=new Array(_),F=0;F<_;F++)B[F]=k;return[B]}function r(d,w){for(var A=d.length,C=new Array(A+1),m=0;m<A;m++)C[m]=d[m]-w;return C[A]=d[A-1]+w,C}function t(d){for(var w=new Array(d),A=0;A<d;A++)w[A]=[];return w}var i={text:"tx",hovertext:"htx"};function n(d,w,A){for(var C in i)x.isArrayOrTypedArray(w[C])&&(Array.isArray(A)?x.isArrayOrTypedArray(w[C][A[0]])&&(d[i[C]]=w[C][A[0]][A[1]]):d[i[C]]=w[C][A])}function u(d,w){if(x.isArrayOrTypedArray(w.selectedpoints))for(var A=0;A<d.length;A++){for(var C=d[A].pts||[],m={},E=0;E<C.length;E++)m[C[E].i]=E;x.tagSelected(C,w,m)}}function f(d,w){return d.v-w.v}function l(d){return d.v}function y(d,w,A){return A===0?d.q1:Math.min(d.q1,w[Math.min(x.findBin(2.5*d.q1-1.5*d.q3,w,!0)+1,A-1)])}function h(d,w,A){return A===0?d.q3:Math.max(d.q3,w[Math.max(x.findBin(2.5*d.q3-1.5*d.q1,w),0)])}function S(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function o(d,w){return w===0?0:1.57*(d.q3-d.q1)/Math.sqrt(w)}},96404:function(j,H,e){var g=e(54460),P=e(3400),a=e(71888).getAxisGroup,x=["v","h"];function M(p,r){for(var t=p.calcdata,i=r.xaxis,n=r.yaxis,u=0;u<x.length;u++){for(var f=x[u],l=f==="h"?n:i,y=[],h=0;h<t.length;h++){var S=t[h],c=S[0].t,o=S[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!c.empty&&(o.orientation||"v")===f&&o.xaxis===i._id&&o.yaxis===n._id&&y.push(h)}v("box",p,y,l)}}function v(p,r,t,i){var n=r.calcdata,u=r._fullLayout,f=i._id,l=f.charAt(0),y,h,S,c=[],o=0;for(y=0;y<t.length;y++)for(S=n[t[y]],h=0;h<S.length;h++)c.push(i.c2l(S[h].pos,!0)),o+=(S[h].pts2||[]).length;if(c.length){var d=P.distinctVals(c);(i.type==="category"||i.type==="multicategory")&&(d.minDiff=1);var w=d.minDiff/2;g.minDtick(i,d.minDiff,d.vals[0],!0);var A=p==="violin"?"_numViolins":"_numBoxes",C=u[A],m=u[p+"mode"]==="group"&&C>1,E=1-u[p+"gap"],b=1-u[p+"groupgap"];for(y=0;y<t.length;y++){S=n[t[y]];var s=S[0].trace,L=S[0].t,T=s.width,k=s.side,_,B,F,O;if(T)_=B=O=T/2,F=0;else if(_=w,m){var N=a(u,i._id)+s.orientation,z=u._alignmentOpts[N]||{},V=z[s.alignmentgroup]||{},W=Object.keys(V.offsetGroups||{}).length,$=W||C,re=W?s._offsetIndex:L.num;B=_*E*b/$,F=2*_*(-.5+(re+.5)/$)*E,O=_*E/$}else B=_*E*b,F=0,O=_;L.dPos=_,L.bPos=F,L.bdPos=B,L.wHover=O;var ne,ue,J=F+B,X,oe,Y,q,se,Q,K=!!T,le=(s.boxpoints||s.points)&&o>0;if(k==="positive"?(ne=_*(T?1:.5),X=J,ue=X=F):k==="negative"?(ne=X=F,ue=_*(T?1:.5),oe=J):(ne=ue=_,X=oe=J),le){var ie=s.pointpos,ce=s.jitter,ye=s.marker.size/2,Ce=0;ie+ce>=0&&(Ce=J*(ie+ce),Ce>ne?(K=!0,se=ye,Y=Ce):Ce>X&&(se=ye,Y=ne)),Ce<=ne&&(Y=ne);var Ae=0;ie-ce<=0&&(Ae=-J*(ie-ce),Ae>ue?(K=!0,Q=ye,q=Ae):Ae>oe&&(Q=ye,q=ue)),Ae<=ue&&(q=ue)}else Y=ne,q=ue;var ke=new Array(S.length);for(h=0;h<S.length;h++)ke[h]=S[h].pos;s._extremes[f]=g.findExtremes(i,ke,{padded:K,vpadminus:q,vpadplus:Y,vpadLinearized:!0,ppadminus:{x:Q,y:se}[l],ppadplus:{x:se,y:Q}[l]})}}}j.exports={crossTraceCalc:M,setPositionOffset:v}},90624:function(j,H,e){var g=e(3400),P=e(24040),a=e(76308),x=e(31147),M=e(20011),v=e(52976),p=e(63188);function r(u,f,l,y){function h(b,s){return g.coerce(u,f,p,b,s)}if(t(u,f,h,y),f.visible!==!1){x(u,f,y,h),h("xhoverformat"),h("yhoverformat");var S=f._hasPreCompStats;S&&(h("lowerfence"),h("upperfence")),h("line.color",(u.marker||{}).color||l),h("line.width"),h("fillcolor",a.addOpacity(f.line.color,.5));var c=!1;if(S){var o=h("mean"),d=h("sd");o&&o.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var w=h("sizemode"),A;w==="quartiles"&&(A=h("boxmean",c)),h("showwhiskers",w==="quartiles"),(w==="sd"||A==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var C=!1;if(S){var m=h("notchspan");m&&m.length&&(C=!0)}else g.validate(u.notchwidth,p.notchwidth)&&(C=!0);var E=h("notched",C);E&&h("notchwidth"),i(u,f,h,{prefix:"box"})}}function t(u,f,l,y){function h(W){var $=0;return W&&W.length&&($+=1,g.isArrayOrTypedArray(W[0])&&W[0].length&&($+=1)),$}function S(W){return g.validate(u[W],p[W])}var c=l("y"),o=l("x"),d;if(f.type==="box"){var w=l("q1"),A=l("median"),C=l("q3");f._hasPreCompStats=w&&w.length&&A&&A.length&&C&&C.length,d=Math.min(g.minRowLength(w),g.minRowLength(A),g.minRowLength(C))}var m=h(c),E=h(o),b=m&&g.minRowLength(c),s=E&&g.minRowLength(o),L=y.calendar,T={autotypenumbers:y.autotypenumbers},k,_;if(f._hasPreCompStats)switch(String(E)+String(m)){case"00":var B=S("x0")||S("dx"),F=S("y0")||S("dy");F&&!B?k="h":k="v",_=d;break;case"10":k="v",_=Math.min(d,s);break;case"20":k="h",_=Math.min(d,o.length);break;case"01":k="h",_=Math.min(d,b);break;case"02":k="v",_=Math.min(d,c.length);break;case"12":k="v",_=Math.min(d,s,c.length);break;case"21":k="h",_=Math.min(d,o.length,b);break;case"11":_=0;break;case"22":var O=!1,N;for(N=0;N<o.length;N++)if(v(o[N],L,T)==="category"){O=!0;break}if(O)k="v",_=Math.min(d,s,c.length);else{for(N=0;N<c.length;N++)if(v(c[N],L,T)==="category"){O=!0;break}O?(k="h",_=Math.min(d,o.length,b)):(k="v",_=Math.min(d,s,c.length))}break}else m>0?(k="v",E>0?_=Math.min(s,b):_=Math.min(b)):E>0?(k="h",_=Math.min(s)):_=0;if(!_){f.visible=!1;return}f._length=_;var z=l("orientation",k);f._hasPreCompStats?z==="v"&&E===0?(l("x0",0),l("dx",1)):z==="h"&&m===0&&(l("y0",0),l("dy",1)):z==="v"&&E===0?l("x0"):z==="h"&&m===0&&l("y0");var V=P.getComponentMethod("calendars","handleTraceDefaults");V(u,f,["x","y"],y)}function i(u,f,l,y){var h=y.prefix,S=g.coerce2(u,f,p,"marker.outliercolor"),c=l("marker.line.outliercolor"),o="outliers";f._hasPreCompStats?o="all":(S||c)&&(o="suspectedoutliers");var d=l(h+"points",o);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",f.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",f.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete f.marker;var w=l("hoveron");(w==="all"||w.indexOf("points")!==-1)&&l("hovertemplate"),g.coerceSelectionMarkerOpacity(f,l)}function n(u,f){var l,y;function h(o){return g.coerce(y._input,y,p,o)}for(var S=0;S<u.length;S++){y=u[S];var c=y.type;(c==="box"||c==="violin")&&(l=y._input,f[c+"mode"]==="group"&&M(l,y,f,h))}}j.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(j){j.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},27576:function(j,H,e){var g=e(54460),P=e(3400),a=e(93024),x=e(76308),M=P.fillText;function v(t,i,n,u){var f=t.cd,l=f[0].trace,y=l.hoveron,h=[],S;return y.indexOf("boxes")!==-1&&(h=h.concat(p(t,i,n,u))),y.indexOf("points")!==-1&&(S=r(t,i,n)),u==="closest"?S?[S]:h:(S&&h.push(S),h)}function p(t,i,n,u){var f=t.cd,l=t.xa,y=t.ya,h=f[0].trace,S=f[0].t,c=h.type==="violin",o,d,w,A,C,m,E,b,s,L,T,k=S.bdPos,_,B,F=S.wHover,O=function(Ae){return w.c2l(Ae.pos)+S.bPos-w.c2l(m)};c&&h.side!=="both"?(h.side==="positive"&&(s=function(Ae){var ke=O(Ae);return a.inbox(ke,ke+F,L)},_=k,B=0),h.side==="negative"&&(s=function(Ae){var ke=O(Ae);return a.inbox(ke-F,ke,L)},_=0,B=k)):(s=function(Ae){var ke=O(Ae);return a.inbox(ke-F,ke+F,L)},_=B=k);var N;c?N=function(Ae){return a.inbox(Ae.span[0]-C,Ae.span[1]-C,L)}:N=function(Ae){return a.inbox(Ae.min-C,Ae.max-C,L)},h.orientation==="h"?(C=i,m=n,E=N,b=s,o="y",w=y,d="x",A=l):(C=n,m=i,E=s,b=N,o="x",w=l,d="y",A=y);var z=Math.min(1,k/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));L=t.maxHoverDistance-z,T=t.maxSpikeDistance-z;function V(Ae){return(E(Ae)+b(Ae))/2}var W=a.getDistanceFunction(u,E,b,V);if(a.getClosest(f,W,t),t.index===!1)return[];var $=f[t.index],re=h.line.color,ne=(h.marker||{}).color;x.opacity(re)&&h.line.width?t.color=re:x.opacity(ne)&&h.boxpoints?t.color=ne:t.color=h.fillcolor,t[o+"0"]=w.c2p($.pos+S.bPos-B,!0),t[o+"1"]=w.c2p($.pos+S.bPos+_,!0),t[o+"LabelVal"]=$.orig_p!==void 0?$.orig_p:$.pos;var ue=o+"Spike";t.spikeDistance=V($)*T/L,t[ue]=w.c2p($.pos,!0);var J=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,X=h.boxpoints||h.points,oe=X&&J?["max","uf","q3","med","mean","q1","lf","min"]:X&&!J?["max","uf","q3","med","q1","lf","min"]:!X&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Y=A.range[1]<A.range[0];h.orientation===(Y?"v":"h")&&oe.reverse();for(var q=t.spikeDistance,se=t[ue],Q=[],K=0;K<oe.length;K++){var le=oe[K];if(le in $){var ie=$[le],ce=A.c2p(ie,!0),ye=P.extendFlat({},t);ye.attr=le,ye[d+"0"]=ye[d+"1"]=ce,ye[d+"LabelVal"]=ie,ye[d+"Label"]=(S.labels?S.labels[le]+" ":"")+g.hoverLabelText(A,ie,h[d+"hoverformat"]),ye.hoverOnBox=!0,le==="mean"&&"sd"in $&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ye[d+"err"]=$.sd),ye.hovertemplate=!1,Q.push(ye)}}t.name="",t.spikeDistance=void 0,t[ue]=void 0;for(var Ce=0;Ce<Q.length;Ce++)Q[Ce].attr!=="med"?(Q[Ce].name="",Q[Ce].spikeDistance=void 0,Q[Ce][ue]=void 0):(Q[Ce].spikeDistance=q,Q[Ce][ue]=se);return Q}function r(t,i,n){for(var u=t.cd,f=t.xa,l=t.ya,y=u[0].trace,h=f.c2p(i),S=l.c2p(n),c,o=function(N){var z=Math.max(3,N.mrc||0);return Math.max(Math.abs(f.c2p(N.x)-h)-z,1-3/z)},d=function(N){var z=Math.max(3,N.mrc||0);return Math.max(Math.abs(l.c2p(N.y)-S)-z,1-3/z)},w=a.quadrature(o,d),A=!1,C,m,E=0;E<u.length;E++){C=u[E];for(var b=0;b<(C.pts||[]).length;b++){m=C.pts[b];var s=w(m);s<=t.distance&&(t.distance=s,A=[E,b])}}if(!A)return!1;C=u[A[0]],m=C.pts[A[1]];var L=f.c2p(m.x,!0),T=l.c2p(m.y,!0),k=m.mrc||1;c=P.extendFlat({},t,{index:m.i,color:(y.marker||{}).color,name:y.name,x0:L-k,x1:L+k,y0:T-k,y1:T+k,spikeDistance:t.distance,hovertemplate:y.hovertemplate});var _=C.orig_p,B=_!==void 0?_:C.pos,F;y.orientation==="h"?(F=l,c.xLabelVal=m.x,c.yLabelVal=B):(F=f,c.xLabelVal=B,c.yLabelVal=m.y);var O=F._id.charAt(0);return c[O+"Spike"]=F.c2p(C.pos,!0),M(m,y,c),c}j.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(j,H,e){j.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(j){j.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(j,H,e){var g=e(24040),P=e(3400),a=e(16560);function x(v,p,r,t,i){for(var n=i+"Layout",u=!1,f=0;f<r.length;f++){var l=r[f];if(g.traceIs(l,n)){u=!0;break}}u&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}function M(v,p,r){function t(i,n){return P.coerce(v,p,a,i,n)}x(v,p,r,t,"box")}j.exports={supplyLayoutDefaults:M,_supply:x}},18728:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=5,M=.01;function v(i,n,u,f){var l=i._context.staticPlot,y=n.xaxis,h=n.yaxis;P.makeTraceGroups(f,u,"trace boxes").each(function(S){var c=g.select(this),o=S[0],d=o.t,w=o.trace;if(d.wdPos=d.bdPos*w.whiskerwidth,w.visible!==!0||d.empty){c.remove();return}var A,C;w.orientation==="h"?(A=h,C=y):(A=y,C=h),p(c,{pos:A,val:C},w,d,l),r(c,{x:y,y:h},w,d),t(c,{pos:A,val:C},w,d)})}function p(i,n,u,f,l){var y=u.orientation==="h",h=n.val,S=n.pos,c=!!S.rangebreaks,o=f.bPos,d=f.wdPos||0,w=f.bPosPxOffset||0,A=u.whiskerwidth||0,C=u.showwhiskers!==!1,m=u.notched||!1,E=m?1-2*u.notchwidth:1,b,s;Array.isArray(f.bdPos)?(b=f.bdPos[0],s=f.bdPos[1]):(b=f.bdPos,s=f.bdPos);var L=i.selectAll("path.box").data(u.type!=="violin"||u.box.visible?P.identity:[]);L.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),L.exit().remove(),L.each(function(T){if(T.empty)return g.select(this).attr("d","M0,0Z");var k=S.c2l(T.pos+o,!0),_=S.l2p(k-b)+w,B=S.l2p(k+s)+w,F=c?(_+B)/2:S.l2p(k)+w,O=u.whiskerwidth,N=c?_*O+(1-O)*F:S.l2p(k-d)+w,z=c?B*O+(1-O)*F:S.l2p(k+d)+w,V=S.l2p(k-b*E)+w,W=S.l2p(k+s*E)+w,$=u.sizemode==="sd",re=h.c2p($?T.mean-T.sd:T.q1,!0),ne=$?h.c2p(T.mean+T.sd,!0):h.c2p(T.q3,!0),ue=P.constrain($?h.c2p(T.mean,!0):h.c2p(T.med,!0),Math.min(re,ne)+1,Math.max(re,ne)-1),J=T.lf===void 0||u.boxpoints===!1||$,X=h.c2p(J?T.min:T.lf,!0),oe=h.c2p(J?T.max:T.uf,!0),Y=h.c2p(T.ln,!0),q=h.c2p(T.un,!0);y?g.select(this).attr("d","M"+ue+","+V+"V"+W+"M"+re+","+_+"V"+B+(m?"H"+Y+"L"+ue+","+W+"L"+q+","+B:"")+"H"+ne+"V"+_+(m?"H"+q+"L"+ue+","+V+"L"+Y+","+_:"")+"Z"+(C?"M"+re+","+F+"H"+X+"M"+ne+","+F+"H"+oe+(A===0?"":"M"+X+","+N+"V"+z+"M"+oe+","+N+"V"+z):"")):g.select(this).attr("d","M"+V+","+ue+"H"+W+"M"+_+","+re+"H"+B+(m?"V"+Y+"L"+W+","+ue+"L"+B+","+q:"")+"V"+ne+"H"+_+(m?"V"+q+"L"+V+","+ue+"L"+_+","+Y:"")+"Z"+(C?"M"+F+","+re+"V"+X+"M"+F+","+ne+"V"+oe+(A===0?"":"M"+N+","+X+"H"+z+"M"+N+","+oe+"H"+z):""))})}function r(i,n,u,f){var l=n.x,y=n.y,h=f.bdPos,S=f.bPos,c=u.boxpoints||u.points;P.seedPseudoRandom();var o=function(A){return A.forEach(function(C){C.t=f,C.trace=u}),A},d=i.selectAll("g.points").data(c?o:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var w=d.selectAll("path").data(function(A){var C,m=A.pts2,E=Math.max((A.max-A.min)/10,A.q3-A.q1),b=E*1e-9,s=E*M,L=[],T=0,k;if(u.jitter){if(E===0)for(T=1,L=new Array(m.length),C=0;C<m.length;C++)L[C]=1;else for(C=0;C<m.length;C++){var _=Math.max(0,C-x),B=m[_].v,F=Math.min(m.length-1,C+x),O=m[F].v;c!=="all"&&(m[C].v<A.lf?O=Math.min(O,A.lf):B=Math.max(B,A.uf));var N=Math.sqrt(s*(F-_)/(O-B+b))||0;N=P.constrain(Math.abs(N),0,1),L.push(N),T=Math.max(N,T)}k=u.jitter*2/(T||1)}for(C=0;C<m.length;C++){var z=m[C],V=z.v,W=u.jitter?k*L[C]*(P.pseudoRandom()-.5):0,$=A.pos+S+h*(u.pointpos+W);u.orientation==="h"?(z.y=$,z.x=V):(z.x=$,z.y=V),c==="suspectedoutliers"&&V<A.uo&&V>A.lo&&(z.so=!0)}return m});w.enter().append("path").classed("point",!0),w.exit().remove(),w.call(a.translatePoints,l,y)}function t(i,n,u,f){var l=n.val,y=n.pos,h=!!y.rangebreaks,S=f.bPos,c=f.bPosPxOffset||0,o=u.boxmean||(u.meanline||{}).visible,d,w;Array.isArray(f.bdPos)?(d=f.bdPos[0],w=f.bdPos[1]):(d=f.bdPos,w=f.bdPos);var A=i.selectAll("path.mean").data(u.type==="box"&&u.boxmean||u.type==="violin"&&u.box.visible&&u.meanline.visible?P.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(C){var m=y.c2l(C.pos+S,!0),E=y.l2p(m-d)+c,b=y.l2p(m+w)+c,s=h?(E+b)/2:y.l2p(m)+c,L=l.c2p(C.mean,!0),T=l.c2p(C.mean-C.sd,!0),k=l.c2p(C.mean+C.sd,!0);u.orientation==="h"?g.select(this).attr("d","M"+L+","+E+"V"+b+(o==="sd"?"m0,0L"+T+","+s+"L"+L+","+E+"L"+k+","+s+"Z":"")):g.select(this).attr("d","M"+E+","+L+"H"+b+(o==="sd"?"m0,0L"+s+","+T+"L"+E+","+L+"L"+s+","+k+"Z":""))})}j.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(j){j.exports=function(e,g){var P=e.cd,a=e.xaxis,x=e.yaxis,M=[],v,p;if(g===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=a.c2p(r.x),i=x.c2p(r.y);g.contains([t,i],null,r.i,e)?(M.push({pointNumber:r.i,x:a.c2d(r.x),y:x.c2d(r.y)}),r.selected=1):r.selected=0}return M}},25776:function(j,H,e){var g=e(33428),P=e(76308),a=e(43616);function x(v,p,r){var t=r||g.select(v).selectAll("g.trace.boxes");t.style("opacity",function(i){return i[0].trace.opacity}),t.each(function(i){var n=g.select(this),u=i[0].trace,f=u.line.width;function l(S,c,o,d){S.style("stroke-width",c+"px").call(P.stroke,o).call(P.fill,d)}var y=n.selectAll("path.box");if(u.type==="candlestick")y.each(function(S){if(!S.empty){var c=g.select(this),o=u[S.dir];l(c,o.line.width,o.line.color,o.fillcolor),c.style("opacity",u.selectedpoints&&!S.selected?.3:1)}});else{l(y,f,u.line.color,u.fillcolor),n.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(P.stroke,u.line.color);var h=n.selectAll("path.point");a.pointStyle(h,u,v)}})}function M(v,p,r){var t=p[0].trace,i=r.selectAll("path.point");t.selectedpoints?a.selectedPointStyle(i,t):a.pointStyle(i,t,v)}j.exports={style:x,styleOnSelect:M}},64216:function(j,H,e){var g=e(3400).extendFlat,P=e(29736).axisHoverFormat,a=e(20279),x=e(63188);function M(v){return{line:{color:g({},x.line.color,{dflt:v}),width:x.line.width,editType:"style"},fillcolor:x.fillcolor,editType:"style"}}j.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:g({},x.line.width,{}),editType:"style"},increasing:M(a.increasing.line.color.dflt),decreasing:M(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:g({},x.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},46283:function(j,H,e){var g=e(3400),P=e(54460),a=e(1220),x=e(42812).calcCommon;j.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),i=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),u=a(p,t,"x",n).vals,f=x(v,p,n,u,i,M);return f.length?(g.extendFlat(f[0].t,{num:r._numBoxes,dPos:g.distinctVals(u).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,f):[{t:{empty:!0}}]};function M(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(j,H,e){var g=e(3400),P=e(76308),a=e(52744),x=e(31147),M=e(64216);j.exports=function(r,t,i,n){function u(l,y){return g.coerce(r,t,M,l,y)}var f=a(r,t,u,n);if(!f){t.visible=!1;return}x(r,t,n,u,{x:!0}),u("xhoverformat"),u("yhoverformat"),u("line.width"),v(r,t,u,"increasing"),v(r,t,u,"decreasing"),u("text"),u("hovertext"),u("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0};function v(p,r,t,i){var n=t(i+".line.color");t(i+".line.width",r.line.width),t(i+".fillcolor",P.addOpacity(n,.5))}},61712:function(j,H,e){j.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(j,H,e){var g=e(63856),P=e(31780);j.exports=function(M,v,p,r,t){var i=r("a");i||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),a(M,v,p,t)};function a(x,M,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var i=t.charAt(0),n=x[t]||{},u=P.newContainer(M,t),f={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:i+"axis",letter:i,font:M.font,name:t,data:x[i],calendar:M.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,u,f),u._categories=u._categories||[],!x[t]&&n.type!=="-"&&(x[t]={type:n.type})})}},51676:function(j,H,e){var g=e(3400).isArrayOrTypedArray;j.exports=function(a){return P(a,0)};function P(a,x){if(!g(a)||x>=10)return null;for(var M=1/0,v=-1/0,p=a.length,r=0;r<p;r++){var t=a[r];if(g(t)){var i=P(t,x+1);i&&(M=Math.min(i[0],M),v=Math.max(i[1],v))}else M=Math.min(t,M),v=Math.max(t,v)}return[M,v]}},85720:function(j,H,e){var g=e(25376),P=e(98692),a=e(22548),x=g({editType:"calc"});x.family.dflt='"Open Sans", verdana, arial, sans-serif',x.size.dflt=12,x.color.dflt=a.defaultLine,j.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:x,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},77712:function(j,H,e){var g=e(3400).isArrayOrTypedArray;j.exports=function(P,a,x,M){var v,p,r,t,i,n,u,f,l,y,h,S,c,o=g(x)?"a":"b",d=o==="a"?P.aaxis:P.baxis,w=d.smoothing,A=o==="a"?P.a2i:P.b2j,C=o==="a"?x:M,m=o==="a"?M:x,E=o==="a"?a.a.length:a.b.length,b=o==="a"?a.b.length:a.a.length,s=Math.floor(o==="a"?P.b2j(m):P.a2i(m)),L=o==="a"?function(re){return P.evalxy([],re,s)}:function(re){return P.evalxy([],s,re)};w&&(r=Math.max(0,Math.min(b-2,s)),t=s-r,p=o==="a"?function(re,ne){return P.dxydi([],re,r,ne,t)}:function(re,ne){return P.dxydj([],r,re,t,ne)});var T=A(C[0]),k=A(C[1]),_=T<k?1:-1,B=(k-T)*1e-8,F=_>0?Math.floor:Math.ceil,O=_>0?Math.ceil:Math.floor,N=_>0?Math.min:Math.max,z=_>0?Math.max:Math.min,V=F(T+B),W=O(k-B);u=L(T);var $=[[u]];for(v=V;v*_<W*_;v+=_)i=[],h=z(T,v),S=N(k,v+_),c=S-h,n=Math.max(0,Math.min(E-2,Math.floor(.5*(h+S)))),f=L(S),w&&(l=p(n,h-n),y=p(n,S-n),i.push([u[0]+l[0]/3*c,u[1]+l[1]/3*c]),i.push([f[0]-y[0]/3*c,f[1]-y[1]/3*c])),i.push(f),$.push(i),u=f;return $}},98692:function(j,H,e){var g=e(25376),P=e(22548),a=e(94724),x=e(29736).descriptionWithDates,M=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;j.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},a.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:x("tick label")},tickformatstops:M(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(j,H,e){var g=e(85720),P=e(76308).addOpacity,a=e(24040),x=e(3400),M=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),i=e(52976);j.exports=function(f,l,y){var h=y.letter,S=y.font||{},c=g[h+"axis"];function o(V,W){return x.coerce(f,l,c,V,W)}function d(V,W){return x.coerce2(f,l,c,V,W)}y.name&&(l._name=y.name,l._id=y.name),o("autotypenumbers",y.autotypenumbersDflt);var w=o("type");if(w==="-"&&(y.data&&n(l,y.data),l.type==="-"?l.type="linear":w=f.type=l.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),l.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),l._hovertitle=h,w==="date"){var A=a.getComponentMethod("calendars","handleDefaults");A(f,l,"calendar",y.calendar)}t(l,y.fullLayout),l.c2p=x.identity;var C=o("color",y.dfltColor),m=C===f.color?C:S.color,E=o("title.text");E&&(x.coerceFont(o,"title.font",{family:S.family,size:x.bigFont(S.size),color:m}),o("title.offset")),o("tickangle");var b=o("autorange",!l.isValidRange(f.range));b&&o("rangemode"),o("range"),l.cleanRange(),o("fixedrange"),M(f,l,o,w),p(f,l,o,w,y),v(f,l,o,w,y),r(f,l,o,{data:y.data,dataAttr:h});var s=d("gridcolor",P(C,.3)),L=d("gridwidth"),T=d("griddash"),k=o("showgrid");k||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var _=d("startlinecolor",C),B=d("startlinewidth",L),F=o("startline",l.showgrid||!!_||!!B);F||(delete l.startlinecolor,delete l.startlinewidth);var O=d("endlinecolor",C),N=d("endlinewidth",L),z=o("endline",l.showgrid||!!O||!!N);return z||(delete l.endlinecolor,delete l.endlinewidth),k?(o("minorgridcount"),o("minorgridwidth",L),o("minorgriddash",T),o("minorgridcolor",P(s,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,o("tickmode"),l};function n(u,f){if(u.type==="-"){var l=u._id,y=l.charAt(0),h=y+"calendar",S=u[h];u.type=i(f,S,{autotypenumbers:u.autotypenumbers})}}},58744:function(j,H,e){var g=e(54460),P=e(3400).isArray1D,a=e(60776),x=e(51676),M=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),i=e(2872),n=e(81e3);j.exports=function(f,l){var y=g.getFromId(f,l.xaxis),h=g.getFromId(f,l.yaxis),S=l.aaxis,c=l.baxis,o=l.x,d=l.y,w=[];o&&P(o)&&w.push("x"),d&&P(d)&&w.push("y"),w.length&&i(l,S,c,"a","b",w);var A=l._a=l._a||l.a,C=l._b=l._b||l.b;o=l._x||l.x,d=l._y||l.y;var m={};if(l._cheater){var E=S.cheatertype==="index"?A.length:A,b=c.cheatertype==="index"?C.length:C;o=a(E,b,l.cheaterslope)}l._x=o=r(o),l._y=d=r(d),t(o,A,C),t(d,A,C),n(l),l.setScale();var s=x(o),L=x(d),T=.5*(s[1]-s[0]),k=.5*(s[1]+s[0]),_=.5*(L[1]-L[0]),B=.5*(L[1]+L[0]),F=1.3;return s=[k-T*F,k+T*F],L=[B-_*F,B+_*F],l._extremes[y._id]=g.findExtremes(y,s,{padded:!0}),l._extremes[h._id]=g.findExtremes(h,L,{padded:!0}),M(l,"a","b"),M(l,"b","a"),v(l,S),v(l,c),m.clipsegments=p(l._xctrl,l._yctrl,S,c),m.x=o,m.y=d,m.a=A,m.b=C,[m]}},24944:function(j){j.exports=function(e,g,P,a){var x,M,v,p=[],r=!!P.smoothing,t=!!a.smoothing,i=e[0].length-1,n=e.length-1;for(x=0,M=[],v=[];x<=i;x++)M[x]=e[0][x],v[x]=g[0][x];for(p.push({x:M,y:v,bicubic:r}),x=0,M=[],v=[];x<=n;x++)M[x]=e[x][i],v[x]=g[x][i];for(p.push({x:M,y:v,bicubic:t}),x=i,M=[],v=[];x>=0;x--)M[i-x]=e[n][x],v[i-x]=g[n][x];for(p.push({x:M,y:v,bicubic:r}),x=n,M=[],v=[];x>=0;x--)M[n-x]=e[x][0],v[n-x]=g[x][0];return p.push({x:M,y:v,bicubic:t}),p}},19216:function(j,H,e){var g=e(54460),P=e(92880).extendFlat;j.exports=function(x,M,v){var p,r,t,i,n,u,f,l,y,h,S,c,o,d,w=x["_"+M],A=x[M+"axis"],C=A._gridlines=[],m=A._minorgridlines=[],E=A._boundarylines=[],b=x["_"+v],s=x[v+"axis"];A.tickmode==="array"&&(A.tickvals=w.slice());var L=x._xctrl,T=x._yctrl,k=L[0].length,_=L.length,B=x._a.length,F=x._b.length;g.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var O=A.smoothing?3:1;function N(V){var W,$,re,ne,ue,J,X,oe,Y,q,se,Q,K=[],le=[],ie={};if(M==="b")for($=x.b2j(V),re=Math.floor(Math.max(0,Math.min(F-2,$))),ne=$-re,ie.length=F,ie.crossLength=B,ie.xy=function(ce){return x.evalxy([],ce,$)},ie.dxy=function(ce,ye){return x.dxydi([],ce,re,ye,ne)},W=0;W<B;W++)J=Math.min(B-2,W),X=W-J,oe=x.evalxy([],W,$),s.smoothing&&W>0&&(Y=x.dxydi([],W-1,re,0,ne),K.push(ue[0]+Y[0]/3),le.push(ue[1]+Y[1]/3),q=x.dxydi([],W-1,re,1,ne),K.push(oe[0]-q[0]/3),le.push(oe[1]-q[1]/3)),K.push(oe[0]),le.push(oe[1]),ue=oe;else for(W=x.a2i(V),J=Math.floor(Math.max(0,Math.min(B-2,W))),X=W-J,ie.length=B,ie.crossLength=F,ie.xy=function(ce){return x.evalxy([],W,ce)},ie.dxy=function(ce,ye){return x.dxydj([],J,ce,X,ye)},$=0;$<F;$++)re=Math.min(F-2,$),ne=$-re,oe=x.evalxy([],W,$),s.smoothing&&$>0&&(se=x.dxydj([],J,$-1,X,0),K.push(ue[0]+se[0]/3),le.push(ue[1]+se[1]/3),Q=x.dxydj([],J,$-1,X,1),K.push(oe[0]-Q[0]/3),le.push(oe[1]-Q[1]/3)),K.push(oe[0]),le.push(oe[1]),ue=oe;return ie.axisLetter=M,ie.axis=A,ie.crossAxis=s,ie.value=V,ie.constvar=v,ie.index=l,ie.x=K,ie.y=le,ie.smoothing=s.smoothing,ie}function z(V){var W,$,re,ne,ue,J=[],X=[],oe={};if(oe.length=w.length,oe.crossLength=b.length,M==="b")for(re=Math.max(0,Math.min(F-2,V)),ue=Math.min(1,Math.max(0,V-re)),oe.xy=function(Y){return x.evalxy([],Y,V)},oe.dxy=function(Y,q){return x.dxydi([],Y,re,q,ue)},W=0;W<k;W++)J[W]=L[V*O][W],X[W]=T[V*O][W];else for($=Math.max(0,Math.min(B-2,V)),ne=Math.min(1,Math.max(0,V-$)),oe.xy=function(Y){return x.evalxy([],V,Y)},oe.dxy=function(Y,q){return x.dxydj([],$,Y,ne,q)},W=0;W<_;W++)J[W]=L[W][V*O],X[W]=T[W][V*O];return oe.axisLetter=M,oe.axis=A,oe.crossAxis=s,oe.value=w[V],oe.constvar=v,oe.index=V,oe.x=J,oe.y=X,oe.smoothing=s.smoothing,oe}if(A.tickmode==="array"){for(i=5e-15,n=[Math.floor((w.length-1-A.arraytick0)/A.arraydtick*(1+i)),Math.ceil(-A.arraytick0/A.arraydtick/(1+i))].sort(function(V,W){return V-W}),u=n[0]-1,f=n[1]+1,l=u;l<f;l++)r=A.arraytick0+A.arraydtick*l,!(r<0||r>w.length-1)&&C.push(P(z(r),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=u;l<f;l++)if(t=A.arraytick0+A.arraydtick*l,S=Math.min(t+A.arraydtick,w.length-1),!(t<0||t>w.length-1)&&!(S<0||S>w.length-1))for(c=w[t],o=w[S],p=0;p<A.minorgridcount;p++)d=S-t,!(d<=0)&&(h=c+(o-c)*(p+1)/(A.minorgridcount+1)*(A.arraydtick/d),!(h<w[0]||h>w[w.length-1])&&m.push(P(N(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&E.push(P(z(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(P(z(w.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(i=5e-15,n=[Math.floor((w[w.length-1]-A.tick0)/A.dtick*(1+i)),Math.ceil((w[0]-A.tick0)/A.dtick/(1+i))].sort(function(V,W){return V-W}),u=n[0],f=n[1],l=u;l<=f;l++)y=A.tick0+A.dtick*l,C.push(P(N(y),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=u-1;l<f+1;l++)for(y=A.tick0+A.dtick*l,p=0;p<A.minorgridcount;p++)h=y+A.dtick*(p+1)/(A.minorgridcount+1),!(h<w[0]||h>w[w.length-1])&&m.push(P(N(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&E.push(P(N(w[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(P(N(w[w.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},14724:function(j,H,e){var g=e(54460),P=e(92880).extendFlat;j.exports=function(x,M){var v,p,r,t,i,n=M._labels=[],u=M._gridlines;for(v=0;v<u.length;v++)i=u[v],["start","both"].indexOf(M.showticklabels)!==-1&&(p=g.tickText(M,i.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:i.xy(0),dxy:i.dxy(0,0),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),n.push(p)),["end","both"].indexOf(M.showticklabels)!==-1&&(p=g.tickText(M,i.value),P(p,{endAnchor:!1,xy:i.xy(i.crossLength-1),dxy:i.dxy(i.crossLength-2,1),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),n.push(p))}},62284:function(j){var H=.5;j.exports=function(g,P,a,x){var M=g[0]-P[0],v=g[1]-P[1],p=a[0]-P[0],r=a[1]-P[1],t=Math.pow(M*M+v*v,H/2),i=Math.pow(p*p+r*r,H/2),n=(i*i*M-t*t*p)*x,u=(i*i*v-t*t*r)*x,f=i*(t+i)*3,l=t*(t+i)*3;return[[P[0]+(f&&n/f),P[1]+(f&&u/f)],[P[0]-(l&&n/l),P[1]-(l&&u/l)]]}},60776:function(j,H,e){var g=e(3400).isArrayOrTypedArray;j.exports=function(P,a,x){var M,v,p,r,t,i,n=[],u=g(P)?P.length:P,f=g(a)?a.length:a,l=g(P)?P:null,y=g(a)?a:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(u-1)),y&&(r=(y.length-1)/(y[y.length-1]-y[0])/(f-1));var h,S=1/0,c=-1/0;for(v=0;v<f;v++)for(n[v]=[],i=y?(y[v]-y[0])*r:v/(f-1),M=0;M<u;M++)t=l?(l[M]-l[0])*p:M/(u-1),h=t-i*x,S=Math.min(h,S),c=Math.max(h,c),n[v][M]=h;var o=1/(c-S),d=-S*o;for(v=0;v<f;v++)for(M=0;M<u;M++)n[v][M]=o*n[v][M]+d;return n}},30180:function(j,H,e){var g=e(62284),P=e(3400).ensureArray;function a(x,M,v){var p=-.5*v[0]+1.5*M[0],r=-.5*v[1]+1.5*M[1];return[(2*p+x[0])/3,(2*r+x[1])/3]}j.exports=function(M,v,p,r,t,i){var n,u,f,l,y,h,S,c,o,d,w=p[0].length,A=p.length,C=t?3*w-2:w,m=i?3*A-2:A;for(M=P(M,m),v=P(v,m),f=0;f<m;f++)M[f]=P(M[f],C),v[f]=P(v[f],C);for(u=0,l=0;u<A;u++,l+=i?3:1)for(y=M[l],h=v[l],S=p[u],c=r[u],n=0,f=0;n<w;n++,f+=t?3:1)y[f]=S[n],h[f]=c[n];if(t)for(u=0,l=0;u<A;u++,l+=i?3:1){for(n=1,f=3;n<w-1;n++,f+=3)o=g([p[u][n-1],r[u][n-1]],[p[u][n],r[u][n]],[p[u][n+1],r[u][n+1]],t),M[l][f-1]=o[0][0],v[l][f-1]=o[0][1],M[l][f+1]=o[1][0],v[l][f+1]=o[1][1];d=a([M[l][0],v[l][0]],[M[l][2],v[l][2]],[M[l][3],v[l][3]]),M[l][1]=d[0],v[l][1]=d[1],d=a([M[l][C-1],v[l][C-1]],[M[l][C-3],v[l][C-3]],[M[l][C-4],v[l][C-4]]),M[l][C-2]=d[0],v[l][C-2]=d[1]}if(i)for(f=0;f<C;f++){for(l=3;l<m-3;l+=3)o=g([M[l-3][f],v[l-3][f]],[M[l][f],v[l][f]],[M[l+3][f],v[l+3][f]],i),M[l-1][f]=o[0][0],v[l-1][f]=o[0][1],M[l+1][f]=o[1][0],v[l+1][f]=o[1][1];d=a([M[0][f],v[0][f]],[M[2][f],v[2][f]],[M[3][f],v[3][f]]),M[1][f]=d[0],v[1][f]=d[1],d=a([M[m-1][f],v[m-1][f]],[M[m-3][f],v[m-3][f]],[M[m-4][f],v[m-4][f]]),M[m-2][f]=d[0],v[m-2][f]=d[1]}if(t&&i)for(l=1;l<m;l+=(l+1)%3===0?2:1){for(f=3;f<C-3;f+=3)o=g([M[l][f-3],v[l][f-3]],[M[l][f],v[l][f]],[M[l][f+3],v[l][f+3]],t),M[l][f-1]=.5*(M[l][f-1]+o[0][0]),v[l][f-1]=.5*(v[l][f-1]+o[0][1]),M[l][f+1]=.5*(M[l][f+1]+o[1][0]),v[l][f+1]=.5*(v[l][f+1]+o[1][1]);d=a([M[l][0],v[l][0]],[M[l][2],v[l][2]],[M[l][3],v[l][3]]),M[l][1]=.5*(M[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=a([M[l][C-1],v[l][C-1]],[M[l][C-3],v[l][C-3]],[M[l][C-4],v[l][C-4]]),M[l][C-2]=.5*(M[l][C-2]+d[0]),v[l][C-2]=.5*(v[l][C-2]+d[1])}return[M,v]}},24588:function(j){j.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(j){j.exports=function(H,e,g){return e&&g?function(P,a,x,M,v){P||(P=[]);var p,r,t,i,n,u;a*=3,x*=3;var f=M*M,l=1-M,y=l*l,h=l*M*2,S=-3*y,c=3*(y-h),o=3*(h-f),d=3*f,w=v*v,A=w*v,C=1-v,m=C*C,E=m*C;for(u=0;u<H.length;u++)n=H[u],p=S*n[x][a]+c*n[x][a+1]+o*n[x][a+2]+d*n[x][a+3],r=S*n[x+1][a]+c*n[x+1][a+1]+o*n[x+1][a+2]+d*n[x+1][a+3],t=S*n[x+2][a]+c*n[x+2][a+1]+o*n[x+2][a+2]+d*n[x+2][a+3],i=S*n[x+3][a]+c*n[x+3][a+1]+o*n[x+3][a+2]+d*n[x+3][a+3],P[u]=E*p+3*(m*v*r+C*w*t)+A*i;return P}:e?function(P,a,x,M,v){P||(P=[]);var p,r,t,i;a*=3;var n=M*M,u=1-M,f=u*u,l=u*M*2,y=-3*f,h=3*(f-l),S=3*(l-n),c=3*n,o=1-v;for(t=0;t<H.length;t++)i=H[t],p=y*i[x][a]+h*i[x][a+1]+S*i[x][a+2]+c*i[x][a+3],r=y*i[x+1][a]+h*i[x+1][a+1]+S*i[x+1][a+2]+c*i[x+1][a+3],P[t]=o*p+v*r;return P}:g?function(P,a,x,M,v){P||(P=[]);var p,r,t,i,n,u;x*=3;var f=v*v,l=f*v,y=1-v,h=y*y,S=h*y;for(n=0;n<H.length;n++)u=H[n],p=u[x][a+1]-u[x][a],r=u[x+1][a+1]-u[x+1][a],t=u[x+2][a+1]-u[x+2][a],i=u[x+3][a+1]-u[x+3][a],P[n]=S*p+3*(h*v*r+y*f*t)+l*i;return P}:function(P,a,x,M,v){P||(P=[]);var p,r,t,i,n=1-v;for(t=0;t<H.length;t++)i=H[t],p=i[x][a+1]-i[x][a],r=i[x+1][a+1]-i[x+1][a],P[t]=n*p+v*r;return P}}},24464:function(j){j.exports=function(H,e,g){return e&&g?function(P,a,x,M,v){P||(P=[]);var p,r,t,i,n,u;a*=3,x*=3;var f=M*M,l=f*M,y=1-M,h=y*y,S=h*y,c=v*v,o=1-v,d=o*o,w=o*v*2,A=-3*d,C=3*(d-w),m=3*(w-c),E=3*c;for(u=0;u<H.length;u++)n=H[u],p=A*n[x][a]+C*n[x+1][a]+m*n[x+2][a]+E*n[x+3][a],r=A*n[x][a+1]+C*n[x+1][a+1]+m*n[x+2][a+1]+E*n[x+3][a+1],t=A*n[x][a+2]+C*n[x+1][a+2]+m*n[x+2][a+2]+E*n[x+3][a+2],i=A*n[x][a+3]+C*n[x+1][a+3]+m*n[x+2][a+3]+E*n[x+3][a+3],P[u]=S*p+3*(h*M*r+y*f*t)+l*i;return P}:e?function(P,a,x,M,v){P||(P=[]);var p,r,t,i,n,u;a*=3;var f=v*v,l=f*v,y=1-v,h=y*y,S=h*y;for(n=0;n<H.length;n++)u=H[n],p=u[x+1][a]-u[x][a],r=u[x+1][a+1]-u[x][a+1],t=u[x+1][a+2]-u[x][a+2],i=u[x+1][a+3]-u[x][a+3],P[n]=S*p+3*(h*v*r+y*f*t)+l*i;return P}:g?function(P,a,x,M,v){P||(P=[]);var p,r,t,i;x*=3;var n=1-M,u=v*v,f=1-v,l=f*f,y=f*v*2,h=-3*l,S=3*(l-y),c=3*(y-u),o=3*u;for(t=0;t<H.length;t++)i=H[t],p=h*i[x][a]+S*i[x+1][a]+c*i[x+2][a]+o*i[x+3][a],r=h*i[x][a+1]+S*i[x+1][a+1]+c*i[x+2][a+1]+o*i[x+3][a+1],P[t]=n*p+M*r;return P}:function(P,a,x,M,v){P||(P=[]);var p,r,t,i,n=1-M;for(t=0;t<H.length;t++)i=H[t],p=i[x+1][a]-i[x][a],r=i[x+1][a+1]-i[x][a+1],P[t]=n*p+M*r;return P}}},29056:function(j){j.exports=function(H,e,g,P,a){var x=e-2,M=g-2;return P&&a?function(v,p,r){v||(v=[]);var t,i,n,u,f,l,y=Math.max(0,Math.min(Math.floor(p),x)),h=Math.max(0,Math.min(Math.floor(r),M)),S=Math.max(0,Math.min(1,p-y)),c=Math.max(0,Math.min(1,r-h));y*=3,h*=3;var o=S*S,d=o*S,w=1-S,A=w*w,C=A*w,m=c*c,E=m*c,b=1-c,s=b*b,L=s*b;for(l=0;l<H.length;l++)f=H[l],t=C*f[h][y]+3*(A*S*f[h][y+1]+w*o*f[h][y+2])+d*f[h][y+3],i=C*f[h+1][y]+3*(A*S*f[h+1][y+1]+w*o*f[h+1][y+2])+d*f[h+1][y+3],n=C*f[h+2][y]+3*(A*S*f[h+2][y+1]+w*o*f[h+2][y+2])+d*f[h+2][y+3],u=C*f[h+3][y]+3*(A*S*f[h+3][y+1]+w*o*f[h+3][y+2])+d*f[h+3][y+3],v[l]=L*t+3*(s*c*i+b*m*n)+E*u;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),x)),i=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-i)),f,l,y,h,S,c;t*=3;var o=n*n,d=o*n,w=1-n,A=w*w,C=A*w,m=1-u;for(S=0;S<H.length;S++)c=H[S],f=m*c[i][t]+u*c[i+1][t],l=m*c[i][t+1]+u*c[i+1][t+1],y=m*c[i][t+2]+u*c[i+1][t+1],h=m*c[i][t+3]+u*c[i+1][t+1],v[S]=C*f+3*(A*n*l+w*o*y)+d*h;return v}:a?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),x)),i=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-i)),f,l,y,h,S,c;i*=3;var o=u*u,d=o*u,w=1-u,A=w*w,C=A*w,m=1-n;for(S=0;S<H.length;S++)c=H[S],f=m*c[i][t]+n*c[i][t+1],l=m*c[i+1][t]+n*c[i+1][t+1],y=m*c[i+2][t]+n*c[i+2][t+1],h=m*c[i+3][t]+n*c[i+3][t+1],v[S]=C*f+3*(A*u*l+w*o*y)+d*h;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),x)),i=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-i)),f,l,y,h,S=1-u,c=1-n;for(y=0;y<H.length;y++)h=H[y],f=c*h[i][t]+n*h[i][t+1],l=c*h[i+1][t]+n*h[i+1][t+1],v[y]=S*f+u*l;return v}}},38356:function(j,H,e){var g=e(3400),P=e(86411),a=e(93504),x=e(85720),M=e(22548);j.exports=function(p,r,t,i){function n(l,y){return g.coerce(p,r,x,l,y)}r._clipPathId="clip"+r.uid+"carpet";var u=n("color",M.defaultLine);if(g.coerceFont(n,"font"),n("carpet"),a(p,r,i,n,u),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var f=P(p,r,n);f||(r.visible=!1),r._cheater&&n("cheaterslope")}},95856:function(j,H,e){j.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(j){j.exports=function(H,e){for(var g=H._fullData.length,P,a=0;a<g;a++){var x=H._fullData[a];if(x.index!==e.index&&x.type==="carpet"&&(P||(P=x),x.carpet===e.carpet))return x}return P}},53416:function(j){j.exports=function(e,g,P){if(e.length===0)return"";var a,x=[],M=P?3:1;for(a=0;a<e.length;a+=M)x.push(e[a]+","+g[a]),P&&a<e.length-M&&(x.push("C"),x.push([e[a+1]+","+g[a+1],e[a+2]+","+g[a+2]+" "].join(" ")));return x.join(P?"":"L")}},87072:function(j,H,e){var g=e(3400).isArrayOrTypedArray;j.exports=function(a,x,M){var v;for(g(a)?a.length>x.length&&(a=a.slice(0,x.length)):a=[],v=0;v<x.length;v++)a[v]=M(x[v]);return a}},15584:function(j){j.exports=function(e,g,P,a,x,M){var v=x[0]*e.dpdx(g),p=x[1]*e.dpdy(P),r=1,t=1;if(M){var i=Math.sqrt(x[0]*x[0]+x[1]*x[1]),n=Math.sqrt(M[0]*M[0]+M[1]*M[1]),u=(x[0]*M[0]+x[1]*M[1])/i/n;t=Math.max(0,u)}var f=Math.atan2(p,v)*180/Math.PI;return f<-90?(f+=180,r=-r):f>90&&(f-=180,r=-r),{angle:f,flip:r,p:e.c2p(a,g,P),offsetMultplier:t}}},164:function(j,H,e){var g=e(33428),P=e(43616),a=e(87072),x=e(53416),M=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,i=e(84284);j.exports=function(o,d,w,A){var C=o._context.staticPlot,m=d.xaxis,E=d.yaxis,b=o._fullLayout,s=b._clips;p.makeTraceGroups(A,w,"trace").each(function(L){var T=g.select(this),k=L[0],_=k.trace,B=_.aaxis,F=_.baxis,O=p.ensureSingle(T,"g","minorlayer"),N=p.ensureSingle(T,"g","majorlayer"),z=p.ensureSingle(T,"g","boundarylayer"),V=p.ensureSingle(T,"g","labellayer");T.style("opacity",_.opacity),u(m,E,N,B,"a",B._gridlines,!0),u(m,E,N,F,"b",F._gridlines,!0),u(m,E,O,B,"a",B._minorgridlines,!0),u(m,E,O,F,"b",F._minorgridlines,!0),u(m,E,z,B,"a-boundary",B._boundarylines,C),u(m,E,z,F,"b-boundary",F._boundarylines,C);var W=f(o,m,E,_,k,V,B._labels,"a-label"),$=f(o,m,E,_,k,V,F._labels,"b-label");l(o,V,_,k,m,E,W,$),n(_,k,s,m,E)})};function n(c,o,d,w,A){var C,m,E,b,s=d.select("#"+c._clipPathId);s.size()||(s=d.append("clipPath").classed("carpetclip",!0));var L=p.ensureSingle(s,"path","carpetboundary"),T=o.clipsegments,k=[];for(b=0;b<T.length;b++)C=T[b],m=a([],C.x,w.c2p),E=a([],C.y,A.c2p),k.push(x(m,E,C.bicubic));var _="M"+k.join("L")+"Z";s.attr("id",c._clipPathId),L.attr("d",_)}function u(c,o,d,w,A,C,m){var E="const-"+A+"-lines",b=d.selectAll("."+E).data(C);b.enter().append("path").classed(E,!0).style("vector-effect",m?"none":"non-scaling-stroke"),b.each(function(s){var L=s,T=L.x,k=L.y,_=a([],T,c.c2p),B=a([],k,o.c2p),F="M"+x(_,B,L.smoothing),O=g.select(this);O.attr("d",F).style("stroke-width",L.width).style("stroke",L.color).style("stroke-dasharray",P.dashStyle(L.dash,L.width)).style("fill","none")}),b.exit().remove()}function f(c,o,d,w,A,C,m,E){var b=C.selectAll("text."+E).data(m);b.enter().append("text").classed(E,!0);var s=0,L={};return b.each(function(T,k){var _;if(T.axis.tickangle==="auto")_=M(w,o,d,T.xy,T.dxy);else{var B=(T.axis.tickangle+180)*Math.PI/180;_=M(w,o,d,T.xy,[Math.cos(B),Math.sin(B)])}k||(L={angle:_.angle,flip:_.flip});var F=(T.endAnchor?-1:1)*_.flip,O=g.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(P.font,T.font).text(T.text).call(v.convertToTspans,c),N=P.bBox(this);O.attr("transform",t(_.p[0],_.p[1])+r(_.angle)+t(T.axis.labelpadding*F,N.height*.3)),s=Math.max(s,N.width+T.axis.labelpadding)}),b.exit().remove(),L.maxExtent=s,L}function l(c,o,d,w,A,C,m,E){var b,s,L,T,k=p.aggNums(Math.min,null,d.a),_=p.aggNums(Math.max,null,d.a),B=p.aggNums(Math.min,null,d.b),F=p.aggNums(Math.max,null,d.b);b=.5*(k+_),s=B,L=d.ab2xy(b,s,!0),T=d.dxyda_rough(b,s),m.angle===void 0&&p.extendFlat(m,M(d,A,C,L,d.dxydb_rough(b,s))),S(c,o,d,w,L,T,d.aaxis,A,C,m,"a-title"),b=k,s=.5*(B+F),L=d.ab2xy(b,s,!0),T=d.dxydb_rough(b,s),E.angle===void 0&&p.extendFlat(E,M(d,A,C,L,d.dxyda_rough(b,s))),S(c,o,d,w,L,T,d.baxis,A,C,E,"b-title")}var y=i.LINE_SPACING,h=(1-i.MID_SHIFT)/y+1;function S(c,o,d,w,A,C,m,E,b,s,L){var T=[];m.title.text&&T.push(m.title.text);var k=o.selectAll("text."+L).data(T),_=s.maxExtent;k.enter().append("text").classed(L,!0),k.each(function(){var B=M(d,E,b,A,C);["start","both"].indexOf(m.showticklabels)===-1&&(_=0);var F=m.title.font.size;_+=F+m.title.offset;var O=s.angle+(s.flip<0?180:0),N=(O-B.angle+450)%360,z=N>90&&N<270,V=g.select(this);V.text(m.title.text).call(v.convertToTspans,c),z&&(_=(-v.lineCount(V)+h)*y*F-_),V.attr("transform",t(B.p[0],B.p[1])+r(B.angle)+t(0,_)).attr("text-anchor","middle").call(P.font,m.title.font)}),k.exit().remove()}},81e3:function(j,H,e){var g=e(24588),P=e(14952).findBin,a=e(30180),x=e(29056),M=e(26435),v=e(24464);j.exports=function(r){var t=r._a,i=r._b,n=t.length,u=i.length,f=r.aaxis,l=r.baxis,y=t[0],h=t[n-1],S=i[0],c=i[u-1],o=t[t.length-1]-t[0],d=i[i.length-1]-i[0],w=o*g.RELATIVE_CULL_TOLERANCE,A=d*g.RELATIVE_CULL_TOLERANCE;y-=w,h+=w,S-=A,c+=A,r.isVisible=function(C,m){return C>y&&C<h&&m>S&&m<c},r.isOccluded=function(C,m){return C<y||C>h||m<S||m>c},r.setScale=function(){var C=r._x,m=r._y,E=a(r._xctrl,r._yctrl,C,m,f.smoothing,l.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=x([r._xctrl,r._yctrl],n,u,f.smoothing,l.smoothing),r.dxydi=M([r._xctrl,r._yctrl],f.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],f.smoothing,l.smoothing)},r.i2a=function(C){var m=Math.max(0,Math.floor(C[0]),n-2),E=C[0]-m;return(1-E)*t[m]+E*t[m+1]},r.j2b=function(C){var m=Math.max(0,Math.floor(C[1]),n-2),E=C[1]-m;return(1-E)*i[m]+E*i[m+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var m=Math.max(0,Math.min(P(C,t),n-2)),E=t[m],b=t[m+1];return Math.max(0,Math.min(n-1,m+(C-E)/(b-E)))},r.b2j=function(C){var m=Math.max(0,Math.min(P(C,i),u-2)),E=i[m],b=i[m+1];return Math.max(0,Math.min(u-1,m+(C-E)/(b-E)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,m){return r.evalxy([],C,m)},r.ab2xy=function(C,m,E){if(!E&&(C<t[0]||C>t[n-1]|m<i[0]||m>i[u-1]))return[!1,!1];var b=r.a2i(C),s=r.b2j(m),L=r.evalxy([],b,s);if(E){var T=0,k=0,_=[],B,F,O,N;C<t[0]?(B=0,F=0,T=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(B=n-2,F=1,T=(C-t[n-1])/(t[n-1]-t[n-2])):(B=Math.max(0,Math.min(n-2,Math.floor(b))),F=b-B),m<i[0]?(O=0,N=0,k=(m-i[0])/(i[1]-i[0])):m>i[u-1]?(O=u-2,N=1,k=(m-i[u-1])/(i[u-1]-i[u-2])):(O=Math.max(0,Math.min(u-2,Math.floor(s))),N=s-O),T&&(r.dxydi(_,B,O,F,N),L[0]+=_[0]*T,L[1]+=_[1]*T),k&&(r.dxydj(_,B,O,F,N),L[0]+=_[0]*k,L[1]+=_[1]*k)}return L},r.c2p=function(C,m,E){return[m.c2p(C[0]),E.c2p(C[1])]},r.p2x=function(C,m,E){return[m.p2c(C[0]),E.p2c(C[1])]},r.dadi=function(C){var m=Math.max(0,Math.min(t.length-2,C));return t[m+1]-t[m]},r.dbdj=function(C){var m=Math.max(0,Math.min(i.length-2,C));return i[m+1]-i[m]},r.dxyda=function(C,m,E,b){var s=r.dxydi(null,C,m,E,b),L=r.dadi(C,E);return[s[0]/L,s[1]/L]},r.dxydb=function(C,m,E,b){var s=r.dxydj(null,C,m,E,b),L=r.dbdj(m,b);return[s[0]/L,s[1]/L]},r.dxyda_rough=function(C,m,E){var b=o*(E||.1),s=r.ab2xy(C+b,m,!0),L=r.ab2xy(C-b,m,!0);return[(s[0]-L[0])*.5/b,(s[1]-L[1])*.5/b]},r.dxydb_rough=function(C,m,E){var b=d*(E||.1),s=r.ab2xy(C,m+b,!0),L=r.ab2xy(C,m-b,!0);return[(s[0]-L[0])*.5/b,(s[1]-L[1])*.5/b]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},51512:function(j,H,e){var g=e(3400);j.exports=function(a,x,M){var v,p,r,t=[],i=[],n=a[0].length,u=a.length;function f($,re){var ne=0,ue,J=0;return $>0&&(ue=a[re][$-1])!==void 0&&(J++,ne+=ue),$<n-1&&(ue=a[re][$+1])!==void 0&&(J++,ne+=ue),re>0&&(ue=a[re-1][$])!==void 0&&(J++,ne+=ue),re<u-1&&(ue=a[re+1][$])!==void 0&&(J++,ne+=ue),ne/Math.max(1,J)}var l=0;for(v=0;v<n;v++)for(p=0;p<u;p++)a[p][v]===void 0&&(t.push(v),i.push(p),a[p][v]=f(v,p)),l=Math.max(l,Math.abs(a[p][v]));if(!t.length)return a;var y,h,S,c,o,d,w,A,C,m,E,b=1e-5,s=0,L=100,T=0,k=t.length;do{for(s=0,r=0;r<k;r++){v=t[r],p=i[r];var _=0,B=0,F,O,N,z,V,W;v===0?(V=Math.min(n-1,2),N=x[V],z=x[1],F=a[p][V],O=a[p][1],B+=O+(O-F)*(x[0]-z)/(z-N),_++):v===n-1&&(V=Math.max(0,n-3),N=x[V],z=x[n-2],F=a[p][V],O=a[p][n-2],B+=O+(O-F)*(x[n-1]-z)/(z-N),_++),(v===0||v===n-1)&&p>0&&p<u-1&&(y=M[p+1]-M[p],h=M[p]-M[p-1],B+=(h*a[p+1][v]+y*a[p-1][v])/(h+y),_++),p===0?(W=Math.min(u-1,2),N=M[W],z=M[1],F=a[W][v],O=a[1][v],B+=O+(O-F)*(M[0]-z)/(z-N),_++):p===u-1&&(W=Math.max(0,u-3),N=M[W],z=M[u-2],F=a[W][v],O=a[u-2][v],B+=O+(O-F)*(M[u-1]-z)/(z-N),_++),(p===0||p===u-1)&&v>0&&v<n-1&&(y=x[v+1]-x[v],h=x[v]-x[v-1],B+=(h*a[p][v+1]+y*a[p][v-1])/(h+y),_++),_?B/=_:(S=x[v+1]-x[v],c=x[v]-x[v-1],o=M[p+1]-M[p],d=M[p]-M[p-1],w=S*c*(S+c),A=o*d*(o+d),B=(w*(d*a[p+1][v]+o*a[p-1][v])+A*(c*a[p][v+1]+S*a[p][v-1]))/(A*(c+S)+w*(d+o))),C=B-a[p][v],m=C/l,s+=m*m,E=_?0:.85,a[p][v]+=C*(1+E)}s=Math.sqrt(s)}while(T++<L&&s>b);return g.log("Smoother converged to",s,"after",T,"iterations"),a}},86411:function(j,H,e){var g=e(3400).isArray1D;j.exports=function(a,x,M){var v=M("x"),p=v&&v.length,r=M("y"),t=r&&r.length;if(!p&&!t)return!1;if(x._cheater=!v,(!p||g(v))&&(!t||g(r))){var i=p?v.length:1/0;t&&(i=Math.min(i,r.length)),x.a&&x.a.length&&(i=Math.min(i,x.a.length)),x.b&&x.b.length&&(i=Math.min(i,x.b.length)),x._length=i}else x._length=null;return!0}},83372:function(j,H,e){var g=e(21776).Ks,P=e(6096),a=e(49084),x=e(45464),M=e(22548).defaultLine,v=e(92880).extendFlat,p=P.marker.line;j.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:M}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},x.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},x.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(j,H,e){var g=e(38248),P=e(39032).BADNUM,a=e(47128),x=e(20148),M=e(4500);function v(p){return p&&typeof p=="string"}j.exports=function(r,t){var i=t._length,n=new Array(i),u;t.geojson?u=function(S){return v(S)||g(S)}:u=v;for(var f=0;f<i;f++){var l=n[f]={},y=t.locations[f],h=t.z[f];u(y)&&g(h)?(l.loc=y,l.z=h):(l.loc=null,l.z=P),l.index=f}return x(n,t),a(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),M(n,t),n}},30972:function(j,H,e){var g=e(3400),P=e(27260),a=e(83372);j.exports=function(M,v,p,r){function t(h,S){return g.coerce(M,v,a,h,S)}var i=t("locations"),n=t("z");if(!(i&&i.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(i.length,n.length);var u=t("geojson"),f;(typeof u=="string"&&u!==""||g.isPlainObject(u))&&(f="geojson-id");var l=t("locationmode",f);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var y=t("marker.line.width");y&&t("marker.line.color"),t("marker.opacity"),P(M,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},52428:function(j){j.exports=function(e,g,P,a,x){e.location=g.location,e.z=g.z;var M=a[x];return M.fIn&&M.fIn.properties&&(e.properties=M.fIn.properties),e.ct=M.ct,e}},69224:function(j,H,e){var g=e(54460),P=e(83372),a=e(3400).fillText;j.exports=function(v,p,r){var t=v.cd,i=t[0].trace,n=v.subplot,u,f,l,y,h=[p,r],S=[p+360,r];for(f=0;f<t.length;f++)if(u=t[f],y=!1,u._polygons){for(l=0;l<u._polygons.length;l++)u._polygons[l].contains(h)&&(y=!y),u._polygons[l].contains(S)&&(y=!y);if(y)break}if(!(!y||!u))return v.x0=v.x1=v.xa.c2p(u.ct),v.y0=v.y1=v.ya.c2p(u.ct),v.index=u.index,v.location=u.loc,v.z=u.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(u.z),"hover").text,v.hovertemplate=u.hovertemplate,x(v,i,u),[v]};function x(M,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),i=r==="all"?P.hoverinfo.flags:r.split("+"),n=i.indexOf("name")!==-1,u=i.indexOf("location")!==-1,f=i.indexOf("z")!==-1,l=i.indexOf("text")!==-1,y=!n&&u,h=[];y?M.nameOverride=t:(n&&(M.nameOverride=v.name),u&&h.push(t)),f&&h.push(M.zLabel),l&&a(p,v,h),M.extraText=h.join("<br>")}}},54272:function(j,H,e){j.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(j,H,e){var g=e(33428),P=e(3400),a=e(27144),x=e(59972).getTopojsonFeatures,M=e(19280).findExtremes,v=e(7947).style;function p(t,i,n){var u=i.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(u,n,"trace choropleth").each(function(f){var l=g.select(this),y=l.selectAll("path.choroplethlocation").data(P.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),v(t,f)})}function r(t,i){for(var n=t[0].trace,u=i[n.geo],f=u._subplot,l=n.locationmode,y=n._length,h=l==="geojson-id"?a.extractTraceFeature(t):x(n,f.topojson),S=[],c=[],o=0;o<y;o++){var d=t[o],w=l==="geojson-id"?d.fOut:a.locationToFeature(l,d.loc,h);if(w){d.geojson=w,d.ct=w.properties.ct,d._polygons=a.feature2polygons(w);var A=a.computeBbox(w);S.push(A[0],A[2]),c.push(A[1],A[3])}else d.geojson=null}if(u.fitbounds==="geojson"&&l==="geojson-id"){var C=a.computeBbox(a.getTraceGeojson(n));S=[C[0],C[2]],c=[C[1],C[3]]}var m={padded:!0};n._extremes.lon=M(u.lonaxis._ax,S,m),n._extremes.lat=M(u.lataxis._ax,c,m)}j.exports={calcGeoJSON:r,plot:p}},17328:function(j){j.exports=function(e,g){var P=e.cd,a=e.xaxis,x=e.yaxis,M=[],v,p,r,t,i;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=a.c2p(r),i=x.c2p(r),g.contains([t,i],null,v,e)?(M.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return M}},7947:function(j,H,e){var g=e(33428),P=e(76308),a=e(43616),x=e(8932);function M(r,t){t&&v(r,t)}function v(r,t){var i=t[0].trace,n=t[0].node3,u=n.selectAll(".choroplethlocation"),f=i.marker||{},l=f.line||{},y=x.makeColorScaleFuncFromTrace(i);u.each(function(h){g.select(this).attr("fill",y(h.z)).call(P.stroke,h.mlc||l.color).call(a.dashLine,"",h.mlw||l.width||0).style("opacity",f.opacity)}),a.selectedPointStyle(u,i)}function p(r,t){var i=t[0].node3,n=t[0].trace;n.selectedpoints?a.selectedPointStyle(i.selectAll(".choroplethlocation"),n):v(r,t)}j.exports={style:M,styleOnSelect:p}},45608:function(j,H,e){var g=e(83372),P=e(49084),a=e(21776).Ks,x=e(45464),M=e(92880).extendFlat;j.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:M({},g.marker.line.color,{editType:"plot"}),width:M({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:M({},x.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(j,H,e){var g=e(38248),P=e(3400),a=e(8932),x=e(43616),M=e(44808).makeBlank,v=e(27144);function p(t){var i=t[0].trace,n=i.visible===!0&&i._length!==0,u={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},l=i._opts={fill:u,line:f,geojson:M()};if(!n)return l;var y=v.extractTraceFeature(t);if(!y)return l;var h=a.makeColorScaleFuncFromTrace(i),S=i.marker,c=S.line||{},o;P.isArrayOrTypedArray(S.opacity)&&(o=function(s){var L=s.mo;return g(L)?+P.constrain(L,0,1):0});var d;P.isArrayOrTypedArray(c.color)&&(d=function(s){return s.mlc});var w;P.isArrayOrTypedArray(c.width)&&(w=function(s){return s.mlw});for(var A=0;A<t.length;A++){var C=t[A],m=C.fOut;if(m){var E=m.properties;E.fc=h(C.z),o&&(E.mo=o(C)),d&&(E.mlc=d(C)),w&&(E.mlw=w(C)),C.ct=E.ct,C._polygons=v.feature2polygons(m)}}var b=o?{type:"identity",property:"mo"}:S.opacity;return P.extendFlat(u.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":b}),P.extendFlat(f.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":w?{type:"identity",property:"mlw"}:c.width,"line-opacity":b}),u.layout.visibility="visible",f.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:y},r(t),l}function r(t){var i=t[0].trace,n=i._opts,u;if(i.selectedpoints){for(var f=x.makeSelectedPointStyleFns(i),l=0;l<t.length;l++){var y=t[l];y.fOut&&(y.fOut.properties.mo2=f.selectedOpacityFn(y))}u={type:"identity",property:"mo2"}}else u=P.isArrayOrTypedArray(i.marker.opacity)?{type:"identity",property:"mo"}:i.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":u}),P.extendFlat(n.line.paint,{"line-opacity":u}),n}j.exports={convert:p,convertOnSelect:r}},9352:function(j,H,e){var g=e(3400),P=e(27260),a=e(45608);j.exports=function(M,v,p,r){function t(l,y){return g.coerce(M,v,a,l,y)}var i=t("locations"),n=t("z"),u=t("geojson");if(!g.isArrayOrTypedArray(i)||!i.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof u=="string"&&u!==""||g.isPlainObject(u))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var f=t("marker.line.width");f&&t("marker.line.color"),t("marker.opacity"),P(M,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},85404:function(j,H,e){j.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(g,P){if(P){var a=P[0].trace;a._glTrace.updateOnSelect(P)}},getBelow:function(g,P){for(var a=P.getMapLayers(),x=a.length-2;x>=0;x--){var M=a[x].id;if(typeof M=="string"&&M.indexOf("water")===0){for(var v=x+1;v<a.length;v++)if(M=a[v].id,typeof M=="string"&&M.indexOf("plotly-")===-1)return M}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(j,H,e){var g=e(13504).convert,P=e(13504).convertOnSelect,a=e(47552).traceLayerPrefix;function x(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",a+p+"-fill"],["line",a+p+"-line"]],this.below=null}var M=x.prototype;M.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},M.updateOnSelect=function(v){this._update(P(v))},M._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var i=0;i<r.length;i++){var n=r[i],u=n[0],f=n[1],l=v[u];p.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(f,"setPaintProperty",l.paint)}},M._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var u=t[n],f=u[0],l=v[f];r.addLayer({type:f,id:u[1],source:i,layout:l.layout,paint:l.paint},p)}},M._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},M.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},j.exports=function(p,r){var t=r[0].trace,i=new x(p,t.uid),n=i.sourceId,u=g(r),f=i.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:u.geojson}),i._addLayers(u,f),r[0].trace._glTrace=i,i}},86040:function(j,H,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(52948),M=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=x[t]}),p.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,j.exports=p},83344:function(j,H,e){var g=e(47128);j.exports=function(a,x){for(var M=x.u,v=x.v,p=x.w,r=Math.min(x.x.length,x.y.length,x.z.length,M.length,v.length,p.length),t=-1/0,i=1/0,n=0;n<r;n++){var u=M[n],f=v[n],l=p[n],y=Math.sqrt(u*u+f*f+l*l);t=Math.max(t,y),i=Math.min(i,y)}x._len=r,x._normMax=t,g(a,x,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(j,H,e){var g=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,a=e(3400).simpleMap,x=e(33040).parseColorScale,M=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(y,h){this.scene=y,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(y){if(y.object===this.mesh){var h=y.index=y.data.index,S=this.data.x[h],c=this.data.y[h],o=this.data.z[h],d=this.data.u[h],w=this.data.v[h],A=this.data.w[h];y.traceCoordinate=[S,c,o,d,w,A,Math.sqrt(d*d+w*w+A*A)];var C=this.data.hovertext||this.data.text;return v(C)&&C[h]!==void 0?y.textLabel=C[h]:C&&(y.textLabel=C),!0}};var i={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},u={tip:1,tail:1,cm:.75,center:.5};function f(y,h){var S=y.fullSceneLayout,c=y.dataScale,o={};function d(m,E){var b=S[E],s=c[i[E]];return a(m,function(L){return b.d2l(L)*s})}o.vectors=p(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),o.positions=p(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var w=M(h);o.colormap=x(h),o.vertexIntensityBounds=[w.min/h._normMax,w.max/h._normMax],o.coneOffset=n[h.anchor],h.sizemode==="scaled"?o.coneSize=h.sizeref||.5:o.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5;var A=g(o),C=h.lightposition;return A.lightPosition=[C.x,C.y,C.z],A.ambient=h.lighting.ambient,A.diffuse=h.lighting.diffuse,A.specular=h.lighting.specular,A.roughness=h.lighting.roughness,A.fresnel=h.lighting.fresnel,A.opacity=h.opacity,h._pad=u[h.anchor]*A.vectorScale*A.coneScale*h._normMax,A}t.update=function(y){this.data=y;var h=f(this.scene,y);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(y,h){var S=y.glplot.gl,c=f(y,h),o=P(S,c),d=new r(y,h.uid);return d.mesh=o,d.data=h,o._trace=d,y.glplot.add(o),d}j.exports=l},86096:function(j,H,e){var g=e(3400),P=e(27260),a=e(86040);j.exports=function(M,v,p,r){function t(h,S){return g.coerce(M,v,a,h,S)}var i=t("u"),n=t("v"),u=t("w"),f=t("x"),l=t("y"),y=t("z");if(!i||!i.length||!n||!n.length||!u||!u.length||!f||!f.length||!l||!l.length||!y||!y.length){v.visible=!1;return}t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(M,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(j,H,e){j.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(g,P){return g.norm=P.traceCoordinate[6],g},meta:{}}},67104:function(j,H,e){var g=e(83328),P=e(52904),a=e(29736),x=a.axisHoverFormat,M=a.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,i=e(69104),n=i.COMPARISON_OPS2,u=i.INTERVAL_OPS,f=P.line;j.exports=t({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z",1),hovertemplate:g.hovertemplate,texttemplate:t({},g.texttemplate,{}),textfont:t({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:t({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},f.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(j,H,e){var g=e(8932),P=e(19512),a=e(54444),x=e(46960);j.exports=function(v,p){var r=P(v,p),t=r[0].z;a(p,t);var i=p.contours,n=g.extractOpts(p),u;if(i.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var f=i.start,l=x(i),y=i.size||1,h=Math.floor((l-f)/y)+1;isFinite(y)||(y=1,h=1);var S=f-y/2,c=S+h*y;u=[S,c]}else u=t;return g.calc(v,p,{vals:u,cLetter:"z"}),r}},56008:function(j){j.exports=function(H,e){var g=H[0],P=g.z,a;switch(e.type){case"levels":var x=Math.min(P[0][0],P[0][1]);for(a=0;a<H.length;a++){var M=H[a];M.prefixBoundary=!M.edgepaths.length&&(x>M.level||M.starts.length&&x===M.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,p=g.y.length,r=-1/0,t=1/0;for(a=0;a<p;a++)t=Math.min(t,P[a][0]),t=Math.min(t,P[a][v-1]),r=Math.max(r,P[a][0]),r=Math.max(r,P[a][v-1]);for(a=1;a<v-1;a++)t=Math.min(t,P[0][a]),t=Math.min(t,P[p-1][a]),r=Math.max(r,P[0][a]),r=Math.max(r,P[p-1][a]);var i=e.value,n,u;switch(e._operation){case">":i>r&&(g.prefixBoundary=!0);break;case"<":(i<t||g.starts.length&&i===t)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]),(u<t||n>r||g.starts.length&&u===t)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]),n<t&&u>r&&(g.prefixBoundary=!0);break}break}}},55296:function(j,H,e){var g=e(8932),P=e(41076),a=e(46960);function x(M,v,p){var r=v.contours,t=v.line,i=r.size||1,n=r.coloring,u=P(v,{isColorbar:!0});if(n==="heatmap"){var f=g.extractOpts(v);p._fillgradient=f.reversescale?g.flipScale(f.colorscale):f.colorscale,p._zrange=[f.min,f.max]}else n==="fill"&&(p._fillcolor=u);p._line={color:n==="lines"?u:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:a(r),size:i}}j.exports={min:"zmin",max:"zmax",calc:x}},93252:function(j){j.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(j,H,e){var g=e(38248),P=e(17428),a=e(76308),x=a.addOpacity,M=a.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;j.exports=function(u,f,l,y,h,S){var c=f.contours,o,d,w,A=l("contours.operation");if(c._operation=r[A],i(l,c),A==="="?o=c.showlines=!0:(o=l("contours.showlines"),w=l("fillcolor",x((u.line||{}).color||h,.5))),o){var C=w&&M(w)?x(f.fillcolor,1):h;d=l("line.color",C),l("line.width",2),l("line.dash")}l("line.smoothing"),P(l,y,d,S)};function i(n,u){var f;t.indexOf(u.operation)===-1?(n("contours.value",[0,1]),p(u.value)?u.value.length>2?u.value=u.value.slice(2):u.length===0?u.value=[0,1]:u.length<2?(f=parseFloat(u.value[0]),u.value=[f,f+1]):u.value=[parseFloat(u.value[0]),parseFloat(u.value[1])]:g(u.value)&&(f=parseFloat(u.value),u.value=[f,f+1])):(n("contours.value",0),g(u.value)||(p(u.value)?u.value=parseFloat(u.value[0]):u.value=0))}},3212:function(j,H,e){var g=e(69104),P=e(38248);j.exports={"[]":x("[]"),"][":x("]["),">":M(">"),"<":M("<"),"=":M("=")};function a(v,p){var r=Array.isArray(p),t;function i(n){return P(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?t=i(r?p[0]:p):g.INTERVAL_OPS.indexOf(v)!==-1?t=r?[i(p[0]),i(p[1])]:[i(p),i(p)]:g.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(i):[i(p)]),t}function x(v){return function(p){p=a(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function M(v){return function(p){return p=a(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(j){j.exports=function(e,g,P,a){var x=a("contours.start"),M=a("contours.end"),v=x===!1||M===!1,p=P("contours.size"),r;v?r=g.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},82172:function(j,H,e){var g=e(3400);j.exports=function(a,x){var M,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(x){case"=":case"<":return a;case">":for(a.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=a[0],M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=r(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=r(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=r(v.starts[M]);return a;case"][":var i=r;r=t,t=i;case"[]":for(a.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=P(a[0]),p=P(a[1]),M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=r(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=r(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=r(v.starts[M]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(a){return g.extendFlat({},a,{edgepaths:g.extendDeep([],a.edgepaths),paths:g.extendDeep([],a.paths),starts:g.extendDeep([],a.starts)})}},57004:function(j,H,e){var g=e(3400),P=e(51264),a=e(31147),x=e(95536),M=e(84952),v=e(97680),p=e(39096),r=e(67104);j.exports=function(i,n,u,f){function l(c,o){return g.coerce(i,n,r,c,o)}function y(c){return g.coerce2(i,n,r,c)}var h=P(i,n,l,f);if(!h){n.visible=!1;return}a(i,n,f,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var S=l("contours.type")==="constraint";l("connectgaps",g.isArray1D(n.z)),S?x(i,n,l,f,u):(M(i,n,l,y),v(i,n,l,f)),n.contours&&n.contours.coloring==="heatmap"&&p(l,f)}},61512:function(j,H,e){var g=e(3400),P=e(3212),a=e(46960);j.exports=function(M,v,p){for(var r=M.type==="constraint"?P[M._operation](M.value):M,t=r.size,i=[],n=a(r),u=p.trace._carpetTrace,f=u?{xaxis:u.aaxis,yaxis:u.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<n;l+=t)if(i.push(g.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},f)),i.length>1e3){g.warn("Too many contours, clipping at 1000",M);break}return i}},46960:function(j){j.exports=function(e){return e.end+e.size/1e6}},88748:function(j,H,e){var g=e(3400),P=e(93252);j.exports=function(t,i,n){var u,f,l,y,h;for(i=i||.01,n=n||.01,l=0;l<t.length;l++){for(y=t[l],h=0;h<y.starts.length;h++)f=y.starts[h],M(y,f,"edge",i,n);for(u=0;Object.keys(y.crossings).length&&u<1e4;)u++,f=Object.keys(y.crossings)[0].split(",").map(Number),M(y,f,void 0,i,n);u===1e4&&g.log("Infinite loop in contour?")}};function a(r,t,i,n){return Math.abs(r[0]-t[0])<i&&Math.abs(r[1]-t[1])<n}function x(r,t){var i=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(i*i+n*n)}function M(r,t,i,n,u){var f=t.join(","),l=r.crossings[f],y=v(l,i,t),h=[p(r,t,[-y[0],-y[1]])],S=r.z.length,c=r.z[0].length,o=t.slice(),d=y.slice(),w;for(w=0;w<1e4;w++){if(l>20?(l=P.CHOOSESADDLE[l][(y[0]||y[1])<0?0:1],r.crossings[f]=P.SADDLEREMAINDER[l]):delete r.crossings[f],y=P.NEWDELTA[l],!y){g.log("Found bad marching index:",l,t,r.level);break}h.push(p(r,t,y)),t[0]+=y[0],t[1]+=y[1],f=t.join(","),a(h[h.length-1],h[h.length-2],n,u)&&h.pop();var A=y[0]&&(t[0]<0||t[0]>c-2)||y[1]&&(t[1]<0||t[1]>S-2),C=t[0]===o[0]&&t[1]===o[1]&&y[0]===d[0]&&y[1]===d[1];if(C||i&&A)break;l=r.crossings[f]}w===1e4&&g.log("Infinite loop in contour?");var m=a(h[0],h[h.length-1],n,u),E=0,b=.2*r.smoothing,s=[],L=0,T,k,_,B,F,O,N,z,V,W,$;for(w=1;w<h.length;w++)N=x(h[w],h[w-1]),E+=N,s.push(N);var re=E/s.length*b;function ne(X){return h[X%h.length]}for(w=h.length-2;w>=L;w--)if(T=s[w],T<re){for(_=0,k=w-1;k>=L&&T+s[k]<re;k--)T+=s[k];if(m&&w===h.length-2)for(_=0;_<k&&T+s[_]<re;_++)T+=s[_];F=w-k+_+1,O=Math.floor((w+k+_+2)/2),!m&&w===h.length-2?B=h[h.length-1]:!m&&k===-1?B=h[0]:F%2?B=ne(O):B=[(ne(O)[0]+ne(O+1)[0])/2,(ne(O)[1]+ne(O+1)[1])/2],h.splice(k+1,w-k+1,B),w=k+1,_&&(L=_),m&&(w===h.length-2?h[_]=h[h.length-1]:w===0&&(h[h.length-1]=h[0]))}for(h.splice(0,L),w=0;w<h.length;w++)h[w].length=2;if(!(h.length<2))if(m)h.pop(),r.paths.push(h);else{i||g.log("Unclosed interior contour?",r.level,o.join(","),h.join("L"));var ue=!1;for(z=0;z<r.edgepaths.length;z++)if(W=r.edgepaths[z],!ue&&a(W[0],h[h.length-1],n,u)){h.pop(),ue=!0;var J=!1;for(V=0;V<r.edgepaths.length;V++)if($=r.edgepaths[V],a($[$.length-1],h[0],n,u)){J=!0,h.shift(),r.edgepaths.splice(z,1),V===z?r.paths.push(h.concat($)):(V>z&&V--,r.edgepaths[V]=$.concat(h,W));break}J||(r.edgepaths[z]=h.concat(W))}for(z=0;z<r.edgepaths.length&&!ue;z++)W=r.edgepaths[z],a(W[W.length-1],h[0],n,u)&&(h.shift(),r.edgepaths[z]=W.concat(h),ue=!0);ue||r.edgepaths.push(h)}}function v(r,t,i){var n=0,u=0;return r>20&&t?r===208||r===1114?n=i[0]===0?1:-1:u=i[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?u=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?u=-1:n=-1,[n,u]}function p(r,t,i){var n=t[0]+Math.max(i[0],0),u=t[1]+Math.max(i[1],0),f=r.z[u][n],l=r.xaxis,y=r.yaxis;if(i[1]){var h=(r.level-f)/(r.z[u][n+1]-f),S=(h!==1?(1-h)*l.c2l(r.x[n]):0)+(h!==0?h*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(S),!0),y.c2p(r.y[u],!0),n+h,u]}else{var c=(r.level-f)/(r.z[u+1][n]-f),o=(c!==1?(1-c)*y.c2l(r.y[u]):0)+(c!==0?c*y.c2l(r.y[u+1]):0);return[l.c2p(r.x[n],!0),y.c2p(y.l2c(o),!0),n,u+c]}}},38200:function(j,H,e){var g=e(76308),P=e(55512);j.exports=function(x,M,v,p,r){r||(r={}),r.isContour=!0;var t=P(x,M,v,p,r);return t&&t.forEach(function(i){var n=i.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?i.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(i.color=g.addOpacity(n.line.color,1)))}),t}},66240:function(j,H,e){j.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(j,H,e){var g=e(3400);j.exports=function(a,x,M,v){v||(v={});var p=a("contours.showlabels");if(p){var r=x.font;g.coerceFont(a,"contours.labelfont",{family:r.family,size:r.size,color:M}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},41076:function(j,H,e){var g=e(33428),P=e(8932),a=e(46960);j.exports=function(M){var v=M.contours,p=v.start,r=a(v),t=v.size||1,i=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,u=P.extractOpts(M);isFinite(t)||(t=1,i=1);var f=u.reversescale?P.flipScale(u.colorscale):u.colorscale,l=f.length,y=new Array(l),h=new Array(l),S,c,o=u.min,d=u.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)S=f[c],y[c]=S[0]*(d-o)+o,h[c]=S[1];var w=g.extent([o,d,v.start,v.start+t*(i-1)]),A=w[o<d?0:1],C=w[o<d?1:0];A!==o&&(y.splice(0,0,A),h.splice(0,0,h[0])),C!==d&&(y.push(C),h.push(h[h.length-1]))}else{var m=M._input&&typeof M._input.zmin=="number"&&typeof M._input.zmax=="number";for(m&&(p<=o||r>=d)&&(p<=o&&(p=o),r>=d&&(r=d),i=Math.floor((r-p)/t)+1,n=0),c=0;c<l;c++)S=f[c],y[c]=(S[0]*(i+n-1)-n/2)*t+p,h[c]=S[1];(m||M.autocontour)&&(y[0]>o&&(y.unshift(o),h.unshift(h[0])),y[y.length-1]<d&&(y.push(d),h.push(h[h.length-1])))}return P.makeColorScaleFunc({domain:y,range:h},{noNumericCheck:!0})}},72424:function(j,H,e){var g=e(93252);j.exports=function(x){var M=x[0].z,v=M.length,p=M[0].length,r=v===2||p===2,t,i,n,u,f,l,y,h,S;for(i=0;i<v-1;i++)for(u=[],i===0&&(u=u.concat(g.BOTTOMSTART)),i===v-2&&(u=u.concat(g.TOPSTART)),t=0;t<p-1;t++)for(n=u.slice(),t===0&&(n=n.concat(g.LEFTSTART)),t===p-2&&(n=n.concat(g.RIGHTSTART)),f=t+","+i,l=[[M[i][t],M[i][t+1]],[M[i+1][t],M[i+1][t+1]]],S=0;S<x.length;S++)h=x[S],y=P(h.level,l),y&&(h.crossings[f]=y,n.indexOf(y)!==-1&&(h.starts.push([t,i]),r&&n.indexOf(y,n.indexOf(y)+1)!==-1&&h.starts.push([t,i])))};function P(a,x){var M=(x[0][0]>a?0:1)+(x[0][1]>a?0:2)+(x[1][1]>a?0:4)+(x[1][0]>a?0:8);if(M===5||M===10){var v=(x[0][0]+x[0][1]+x[1][0]+x[1][1])/4;return a>v?M===5?713:1114:M===5?104:208}return M===15?0:M}},23676:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=e(8932),M=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),i=e(88748),n=e(61512),u=e(82172),f=e(56008),l=e(93252),y=l.LABELOPTIMIZER;H.plot=function(m,E,b,s){var L=E.xaxis,T=E.yaxis;P.makeTraceGroups(s,b,"contour").each(function(k){var _=g.select(this),B=k[0],F=B.trace,O=B.x,N=B.y,z=F.contours,V=n(z,E,B),W=P.ensureSingle(_,"g","heatmapcoloring"),$=[];z.coloring==="heatmap"&&($=[k]),r(m,E,$,W),t(V),i(V);var re=L.c2p(O[0],!0),ne=L.c2p(O[O.length-1],!0),ue=T.c2p(N[0],!0),J=T.c2p(N[N.length-1],!0),X=[[re,J],[ne,J],[ne,ue],[re,ue]],oe=V;z.type==="constraint"&&(oe=u(V,z._operation)),h(_,X,z),S(_,oe,X,z),o(_,V,m,B,z),w(_,E,m,B,X)})};function h(C,m,E){var b=P.ensureSingle(C,"g","contourbg"),s=b.selectAll("path").data(E.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function S(C,m,E,b){var s=b.coloring==="fill"||b.type==="constraint"&&b._operation!=="=",L="M"+E.join("L")+"Z";s&&f(m,b);var T=P.ensureSingle(C,"g","contourfill"),k=T.selectAll("path").data(s?m:[]);k.enter().append("path"),k.exit().remove(),k.each(function(_){var B=(_.prefixBoundary?L:"")+c(_,E);B?g.select(this).attr("d",B).style("stroke","none"):g.select(this).remove()})}function c(C,m){var E="",b=0,s=C.edgepaths.map(function(re,ne){return ne}),L=!0,T,k,_,B,F,O;function N(re){return Math.abs(re[1]-m[0][1])<.01}function z(re){return Math.abs(re[1]-m[2][1])<.01}function V(re){return Math.abs(re[0]-m[0][0])<.01}function W(re){return Math.abs(re[0]-m[2][0])<.01}for(;s.length;){for(O=a.smoothopen(C.edgepaths[b],C.smoothing),E+=L?O:O.replace(/^M/,"L"),s.splice(s.indexOf(b),1),T=C.edgepaths[b][C.edgepaths[b].length-1],B=-1,_=0;_<4;_++){if(!T){P.log("Missing end?",b,C);break}for(N(T)&&!W(T)?k=m[1]:V(T)?k=m[0]:z(T)?k=m[3]:W(T)&&(k=m[2]),F=0;F<C.edgepaths.length;F++){var $=C.edgepaths[F][0];Math.abs(T[0]-k[0])<.01?Math.abs(T[0]-$[0])<.01&&($[1]-T[1])*(k[1]-$[1])>=0&&(k=$,B=F):Math.abs(T[1]-k[1])<.01?Math.abs(T[1]-$[1])<.01&&($[0]-T[0])*(k[0]-$[0])>=0&&(k=$,B=F):P.log("endpt to newendpt is not vert. or horz.",T,k,$)}if(T=k,B>=0)break;E+="L"+k}if(B===C.edgepaths.length){P.log("unclosed perimeter path");break}b=B,L=s.indexOf(b)===-1,L&&(b=s[0],E+="Z")}for(b=0;b<C.paths.length;b++)E+=a.smoothclosed(C.paths[b],C.smoothing);return E}function o(C,m,E,b,s){var L=E._context.staticPlot,T=P.ensureSingle(C,"g","contourlines"),k=s.showlines!==!1,_=s.showlabels,B=k&&_,F=H.createLines(T,k||_,m,L),O=H.createLineClip(T,B,E,b.trace.uid),N=C.selectAll("g.contourlabels").data(_?[0]:[]);if(N.exit().remove(),N.enter().append("g").classed("contourlabels",!0),_){var z=[],V=[];P.clearLocationCache();var W=H.labelFormatter(E,b),$=a.tester.append("text").attr("data-notex",1).call(a.font,s.labelfont),re=m[0].xaxis,ne=m[0].yaxis,ue=re._length,J=ne._length,X=re.range,oe=ne.range,Y=P.aggNums(Math.min,null,b.x),q=P.aggNums(Math.max,null,b.x),se=P.aggNums(Math.min,null,b.y),Q=P.aggNums(Math.max,null,b.y),K=Math.max(re.c2p(Y,!0),0),le=Math.min(re.c2p(q,!0),ue),ie=Math.max(ne.c2p(Q,!0),0),ce=Math.min(ne.c2p(se,!0),J),ye={};X[0]<X[1]?(ye.left=K,ye.right=le):(ye.left=le,ye.right=K),oe[0]<oe[1]?(ye.top=ie,ye.bottom=ce):(ye.top=ce,ye.bottom=ie),ye.middle=(ye.top+ye.bottom)/2,ye.center=(ye.left+ye.right)/2,z.push([[ye.left,ye.top],[ye.right,ye.top],[ye.right,ye.bottom],[ye.left,ye.bottom]]);var Ce=Math.sqrt(ue*ue+J*J),Ae=l.LABELDISTANCE*Ce/Math.max(1,m.length/l.LABELINCREASE);F.each(function(ke){var we=H.calcTextOpts(ke.level,W,$,E);g.select(this).selectAll("path").each(function(){var Ee=this,xe=P.getVisibleSegment(Ee,ye,we.height/2);if(xe&&!(xe.len<(we.width+we.height)*l.LABELMIN))for(var Pe=Math.min(Math.ceil(xe.len/Ae),l.LABELMAX),Ue=0;Ue<Pe;Ue++){var Be=H.findBestTextLocation(Ee,xe,we,V,ye);if(!Be)break;H.addLabelData(Be,we,V,z)}})}),$.remove(),H.drawLabels(N,V,E,O,B?z:null)}_&&!k&&F.remove()}H.createLines=function(C,m,E,b){var s=E[0].smoothing,L=C.selectAll("g.contourlevel").data(m?E:[]);if(L.exit().remove(),L.enter().append("g").classed("contourlevel",!0),m){var T=L.selectAll("path.openline").data(function(_){return _.pedgepaths||_.edgepaths});T.exit().remove(),T.enter().append("path").classed("openline",!0),T.attr("d",function(_){return a.smoothopen(_,s)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var k=L.selectAll("path.closedline").data(function(_){return _.ppaths||_.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(_){return a.smoothclosed(_,s)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return L},H.createLineClip=function(C,m,E,b){var s=E._fullLayout._clips,L=m?"clipline"+b:null,T=s.selectAll("#"+L).data(m?[0]:[]);return T.exit().remove(),T.enter().append("clipPath").classed("contourlineclip",!0).attr("id",L),a.setClipUrl(C,L,E),T},H.labelFormatter=function(C,m){var E=C._fullLayout,b=m.trace,s=b.contours,L={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)L.tickformat=s.labelformat,p(L,E);else{var T=x.extractOpts(b);if(T&&T.colorbar&&T.colorbar._axis)L=T.colorbar._axis;else{if(s.type==="constraint"){var k=s.value;P.isArrayOrTypedArray(k)?L.range=[k[0],k[k.length-1]]:L.range=[k,k]}else L.range=[s.start,s.end],L.nticks=(s.end-s.start)/s.size;L.range[0]===L.range[1]&&(L.range[1]+=L.range[0]||1),L.nticks||(L.nticks=1e3),p(L,E),v.prepTicks(L),L._tmin=null,L._tmax=null}}return function(_){return v.tickText(L,_).text}},H.calcTextOpts=function(C,m,E,b){var s=m(C);E.text(s).call(M.convertToTspans,b);var L=E.node(),T=a.bBox(L,!0);return{text:s,width:T.width,height:T.height,fontSize:+L.style["font-size"].replace("px",""),level:C,dy:(T.top+T.bottom)/2}},H.findBestTextLocation=function(C,m,E,b,s){var L=E.width,T,k,_,B,F;m.isClosed?(k=m.len/y.INITIALSEARCHPOINTS,T=m.min+k/2,_=m.max):(k=(m.len-L)/(y.INITIALSEARCHPOINTS+1),T=m.min+k+L/2,_=m.max-(k+L)/2);for(var O=1/0,N=0;N<y.ITERATIONS;N++){for(var z=T;z<_;z+=k){var V=P.getTextLocation(C,m.total,z,L),W=d(V,E,b,s);W<O&&(O=W,F=V,B=z)}if(O>y.MAXCOST*2)break;N&&(k/=2),T=B-k/2,_=T+k*1.5}if(O<=y.MAXCOST)return F};function d(C,m,E,b){var s=m.width/2,L=m.height/2,T=C.x,k=C.y,_=C.theta,B=Math.cos(_)*s,F=Math.sin(_)*s,O=(T>b.center?b.right-T:T-b.left)/(B+Math.abs(Math.sin(_)*L)),N=(k>b.middle?b.bottom-k:k-b.top)/(Math.abs(F)+Math.cos(_)*L);if(O<1||N<1)return 1/0;var z=y.EDGECOST*(1/(O-1)+1/(N-1));z+=y.ANGLECOST*_*_;for(var V=T-B,W=k-F,$=T+B,re=k+F,ne=0;ne<E.length;ne++){var ue=E[ne],J=Math.cos(ue.theta)*ue.width/2,X=Math.sin(ue.theta)*ue.width/2,oe=P.segmentDistance(V,W,$,re,ue.x-J,ue.y-X,ue.x+J,ue.y+X)*2/(m.height+ue.height),Y=ue.level===m.level,q=Y?y.SAMELEVELDISTANCE:1;if(oe<=q)return 1/0;var se=y.NEIGHBORCOST*(Y?y.SAMELEVELFACTOR:1);z+=se/(oe-q)}return z}H.addLabelData=function(C,m,E,b){var s=m.fontSize,L=m.width+s/3,T=Math.max(0,m.height-s/3),k=C.x,_=C.y,B=C.theta,F=Math.sin(B),O=Math.cos(B),N=function(V,W){return[k+V*O-W*F,_+V*F+W*O]},z=[N(-L/2,-T/2),N(-L/2,T/2),N(L/2,T/2),N(L/2,-T/2)];E.push({text:m.text,x:k,y:_,dy:m.dy,theta:B,level:m.level,width:L,height:T}),b.push(z)},H.drawLabels=function(C,m,E,b,s){var L=C.selectAll("text").data(m,function(B){return B.text+","+B.x+","+B.y+","+B.theta});if(L.exit().remove(),L.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(B){var F=B.x+Math.sin(B.theta)*B.dy,O=B.y-Math.cos(B.theta)*B.dy;g.select(this).text(B.text).attr({x:F,y:O,transform:"rotate("+180*B.theta/Math.PI+" "+F+" "+O+")"}).call(M.convertToTspans,E)}),s){for(var T="",k=0;k<s.length;k++)T+="M"+s[k].join("L")+"Z";var _=P.ensureSingle(b,"path","");_.attr("d",T)}};function w(C,m,E,b,s){var L=b.trace,T=E._fullLayout._clips,k="clip"+L.uid,_=T.selectAll("#"+k).data(L.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",k),_.exit().remove(),L.connectgaps===!1){var B={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:b.x,y:b.y,z:A(b),smoothing:0};t([B]),i([B]),f([B],{type:"levels"});var F=P.ensureSingle(_,"path","");F.attr("d",(B.prefixBoundary?"M"+s.join("L")+"Z":"")+c(B,s))}else k=null;a.setClipUrl(C,k,E)}function A(C){var m=C.trace._emptypoints,E=[],b=C.z.length,s=C.z[0].length,L,T=[],k;for(L=0;L<s;L++)T.push(1);for(L=0;L<b;L++)E.push(T.slice());for(L=0;L<m.length;L++)k=m[L],E[k[0]][k[1]]=0;return C.zmask=E,E}},54444:function(j,H,e){var g=e(54460),P=e(3400);j.exports=function(M,v){var p=M.contours;if(M.autocontour){var r=M.zmin,t=M.zmax;(M.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(M.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var i=a(r,t,M.ncontours);p.size=i.dtick,p.start=g.tickFirst(i),i.range.reverse(),p.end=g.tickFirst(i),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),M._input.contours||(M._input.contours={}),P.extendFlat(M._input.contours,{start:p.start,end:p.end,size:p.size}),M._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,u=p.end,f=M._input.contours;if(n>u&&(p.start=f.start=u,u=p.end=f.end=n,n=p.start),!(p.size>0)){var l;n===u?l=1:l=a(n,u,M.ncontours).dtick,f.size=p.size=l}}};function a(x,M,v){var p={type:"linear",range:[x,M]};return g.autoTicks(p,(M-x)/(v||15)),p}},52440:function(j,H,e){var g=e(33428),P=e(43616),a=e(41648),x=e(41076);j.exports=function(v){var p=g.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=g.select(this),i=r[0].trace,n=i.contours,u=i.line,f=n.size||1,l=n.start,y=n.type==="constraint",h=!y&&n.coloring==="lines",S=!y&&n.coloring==="fill",c=h||S?x(i):null;t.selectAll("g.contourlevel").each(function(w){g.select(this).selectAll("path").call(P.lineGroupStyle,u.width,h?c(w.level):u.color,u.dash)});var o=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(w){P.font(g.select(this),{family:o.family,size:o.size,color:o.color||(h?c(w.level):u.color)})}),y)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(S){var d;t.selectAll("g.contourfill path").style("fill",function(w){return d===void 0&&(d=w.level),c(w.level+.5*f)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",c(d-.5*f))}}),a(v)}},97680:function(j,H,e){var g=e(27260),P=e(17428);j.exports=function(x,M,v,p,r){var t=v("contours.coloring"),i,n="";t==="fill"&&(i=v("contours.showlines")),i!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(x.showlegend!==!0&&(M.showlegend=!1),M._dfltShowLegend=!1,g(x,M,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},37960:function(j,H,e){var g=e(83328),P=e(67104),a=e(49084),x=e(92880).extendFlat,M=P.contours;j.exports=x({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},30572:function(j,H,e){var g=e(47128),P=e(3400),a=e(2872),x=e(26136),M=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),i=e(54444);j.exports=function(f,l){var y=l._carpetTrace=t(f,l);if(!(!y||!y.visible||y.visible==="legendonly")){if(!l.a||!l.b){var h=f.data[y.index],S=f.data[l.index];S.a||(S.a=h.a),S.b||(S.b=h.b),r(S,l,l._defaultColor,f._fullLayout)}var c=n(f,l);return i(l,l._z),c}};function n(u,f){var l=f._carpetTrace,y=l.aaxis,h=l.baxis,S,c,o,d,w,A,C;y._minDtick=0,h._minDtick=0,P.isArray1D(f.z)&&a(f,y,h,"a","b",["z"]),S=f._a=f._a||f.a,d=f._b=f._b||f.b,S=S?y.makeCalcdata(f,"_a"):[],d=d?h.makeCalcdata(f,"_b"):[],c=f.a0||0,o=f.da||1,w=f.b0||0,A=f.db||1,C=f._z=x(f._z||f.z,f.transpose),f._emptypoints=v(C),M(C,f._emptypoints);var m=P.maxRowLength(C),E=f.xtype==="scaled"?"":S,b=p(f,E,c,o,m,y),s=f.ytype==="scaled"?"":d,L=p(f,s,w,A,C.length,h),T={a:b,b:L,z:C};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&g(u,f,{vals:C,containerStr:"",cLetter:"z"}),[T]}},3252:function(j,H,e){var g=e(3400),P=e(51264),a=e(37960),x=e(95536),M=e(84952),v=e(97680);j.exports=function(r,t,i,n){function u(h,S){return g.coerce(r,t,a,h,S)}function f(h){return g.coerce2(r,t,a,h)}if(u("carpet"),r.a&&r.b){var l=P(r,t,u,n,"a","b");if(!l){t.visible=!1;return}u("text");var y=u("contours.type")==="constraint";y?x(r,t,u,n,i,{hasHover:!1}):(M(r,t,u,f),v(r,t,u,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},40448:function(j,H,e){j.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(j,H,e){var g=e(33428),P=e(87072),a=e(53416),x=e(43616),M=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),i=e(82172),n=e(61512),u=e(56008),f=e(50948),l=e(77712);j.exports=function(E,b,s,L){var T=b.xaxis,k=b.yaxis;M.makeTraceGroups(L,s,"contour").each(function(_){var B=g.select(this),F=_[0],O=F.trace,N=O._carpetTrace=f(E,O),z=E.calcdata[N.index][0];if(!N.visible||N.visible==="legendonly")return;var V=F.a,W=F.b,$=O.contours,re=n($,b,F),ne=$.type==="constraint",ue=$._operation,J=ne?ue==="="?"lines":"fill":$.coloring;function X(Ce){var Ae=N.ab2xy(Ce[0],Ce[1],!0);return[T.c2p(Ae[0]),k.c2p(Ae[1])]}var oe=[[V[0],W[W.length-1]],[V[V.length-1],W[W.length-1]],[V[V.length-1],W[0]],[V[0],W[0]]];v(re);var Y=(V[V.length-1]-V[0])*1e-8,q=(W[W.length-1]-W[0])*1e-8;p(re,Y,q);var se=re;$.type==="constraint"&&(se=i(re,ue)),y(re,X);var Q,K,le,ie,ce=[];for(ie=z.clipsegments.length-1;ie>=0;ie--)Q=z.clipsegments[ie],K=P([],Q.x,T.c2p),le=P([],Q.y,k.c2p),K.reverse(),le.reverse(),ce.push(a(K,le,Q.bicubic));var ye="M"+ce.join("L")+"Z";w(B,z.clipsegments,T,k,ne,J),A(O,B,T,k,se,oe,X,N,z,J,ye),h(B,re,E,F,$,b,N),x.setClipUrl(B,N._clipPathId,E)})};function y(m,E){var b,s,L,T,k,_,B,F,O;for(b=0;b<m.length;b++){for(T=m[b],k=T.pedgepaths=[],_=T.ppaths=[],s=0;s<T.edgepaths.length;s++){for(O=T.edgepaths[s],B=[],L=0;L<O.length;L++)B[L]=E(O[L]);k.push(B)}for(s=0;s<T.paths.length;s++){for(O=T.paths[s],F=[],L=0;L<O.length;L++)F[L]=E(O[L]);_.push(F)}}}function h(m,E,b,s,L,T,k){var _=b._context.staticPlot,B=M.ensureSingle(m,"g","contourlines"),F=L.showlines!==!1,O=L.showlabels,N=F&&O,z=r.createLines(B,F||O,E,_),V=r.createLineClip(B,N,b,s.trace.uid),W=m.selectAll("g.contourlabels").data(O?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),O){var $=T.xaxis,re=T.yaxis,ne=$._length,ue=re._length,J=[[[0,0],[ne,0],[ne,ue],[0,ue]]],X=[];M.clearLocationCache();var oe=r.labelFormatter(b,s),Y=x.tester.append("text").attr("data-notex",1).call(x.font,L.labelfont),q={left:0,right:ne,center:ne/2,top:0,bottom:ue,middle:ue/2},se=Math.sqrt(ne*ne+ue*ue),Q=t.LABELDISTANCE*se/Math.max(1,E.length/t.LABELINCREASE);z.each(function(K){var le=r.calcTextOpts(K.level,oe,Y,b);g.select(this).selectAll("path").each(function(ie){var ce=this,ye=M.getVisibleSegment(ce,q,le.height/2);if(ye&&(S(ce,ie,K,ye,k,le.height),!(ye.len<(le.width+le.height)*t.LABELMIN)))for(var Ce=Math.min(Math.ceil(ye.len/Q),t.LABELMAX),Ae=0;Ae<Ce;Ae++){var ke=r.findBestTextLocation(ce,ye,le,X,q);if(!ke)break;r.addLabelData(ke,le,X,J)}})}),Y.remove(),r.drawLabels(W,X,b,V,N?J:null)}O&&!F&&z.remove()}function S(m,E,b,s,L,T){for(var k,_=0;_<b.pedgepaths.length;_++)E===b.pedgepaths[_]&&(k=b.edgepaths[_]);if(!k)return;var B=L.a[0],F=L.a[L.a.length-1],O=L.b[0],N=L.b[L.b.length-1];function z(ne,ue){var J=0,X,oe=.1;return(Math.abs(ne[0]-B)<oe||Math.abs(ne[0]-F)<oe)&&(X=o(L.dxydb_rough(ne[0],ne[1],oe)),J=Math.max(J,T*d(ue,X)/2)),(Math.abs(ne[1]-O)<oe||Math.abs(ne[1]-N)<oe)&&(X=o(L.dxyda_rough(ne[0],ne[1],oe)),J=Math.max(J,T*d(ue,X)/2)),J}var V=c(m,0,1),W=c(m,s.total,s.total-1),$=z(k[0],V),re=s.total-z(k[k.length-1],W);s.min<$&&(s.min=$),s.max>re&&(s.max=re),s.len=s.max-s.min}function c(m,E,b){var s=m.getPointAtLength(E),L=m.getPointAtLength(b),T=L.x-s.x,k=L.y-s.y,_=Math.sqrt(T*T+k*k);return[T/_,k/_]}function o(m){var E=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/E,m[1]/E]}function d(m,E){var b=Math.abs(m[0]*E[0]+m[1]*E[1]),s=Math.sqrt(1-b*b);return s/b}function w(m,E,b,s,L,T){var k,_,B,F,O=M.ensureSingle(m,"g","contourbg"),N=O.selectAll("path").data(T==="fill"&&!L?[0]:[]);N.enter().append("path"),N.exit().remove();var z=[];for(F=0;F<E.length;F++)k=E[F],_=P([],k.x,b.c2p),B=P([],k.y,s.c2p),z.push(a(_,B,k.bicubic));N.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function A(m,E,b,s,L,T,k,_,B,F,O){var N=F==="fill";N&&u(L,m.contours);var z=M.ensureSingle(E,"g","contourfill"),V=z.selectAll("path").data(N?L:[]);V.enter().append("path"),V.exit().remove(),V.each(function(W){var $=(W.prefixBoundary?O:"")+C(m,W,T,k,_,B,b,s);$?g.select(this).attr("d",$).style("stroke","none"):g.select(this).remove()})}function C(m,E,b,s,L,T,k,_){var B,F="",O=E.edgepaths.map(function(le,ie){return ie}),N=!0,z,V,W,$,re,ne,ue=Math.abs(b[0][0]-b[2][0])*1e-4,J=Math.abs(b[0][1]-b[2][1])*1e-4;function X(le){return Math.abs(le[1]-b[0][1])<J}function oe(le){return Math.abs(le[1]-b[2][1])<J}function Y(le){return Math.abs(le[0]-b[0][0])<ue}function q(le){return Math.abs(le[0]-b[2][0])<ue}function se(le,ie){var ce,ye,Ce,Ae,ke="";for(X(le)&&!q(le)||oe(le)&&!Y(le)?(Ae=L.aaxis,Ce=l(L,T,[le[0],ie[0]],.5*(le[1]+ie[1]))):(Ae=L.baxis,Ce=l(L,T,.5*(le[0]+ie[0]),[le[1],ie[1]])),ce=1;ce<Ce.length;ce++)for(ke+=Ae.smoothing?"C":"L",ye=0;ye<Ce[ce].length;ye++){var we=Ce[ce][ye];ke+=[k.c2p(we[0]),_.c2p(we[1])]+" "}return ke}for(B=0,z=null;O.length;){var Q=E.edgepaths[B][0];for(z&&(F+=se(z,Q)),ne=x.smoothopen(E.edgepaths[B].map(s),E.smoothing),F+=N?ne:ne.replace(/^M/,"L"),O.splice(O.indexOf(B),1),z=E.edgepaths[B][E.edgepaths[B].length-1],$=-1,W=0;W<4;W++){if(!z){M.log("Missing end?",B,E);break}for(X(z)&&!q(z)?V=b[1]:Y(z)?V=b[0]:oe(z)?V=b[3]:q(z)&&(V=b[2]),re=0;re<E.edgepaths.length;re++){var K=E.edgepaths[re][0];Math.abs(z[0]-V[0])<ue?Math.abs(z[0]-K[0])<ue&&(K[1]-z[1])*(V[1]-K[1])>=0&&(V=K,$=re):Math.abs(z[1]-V[1])<J?Math.abs(z[1]-K[1])<J&&(K[0]-z[0])*(V[0]-K[0])>=0&&(V=K,$=re):M.log("endpt to newendpt is not vert. or horz.",z,V,K)}if($>=0)break;F+=se(z,V),z=V}if($===E.edgepaths.length){M.log("unclosed perimeter path");break}B=$,N=O.indexOf(B)===-1,N&&(B=O[0],F+=se(z,V)+"Z",z=null)}for(B=0;B<E.paths.length;B++)F+=x.smoothclosed(E.paths[B].map(s),E.smoothing);return F}},33928:function(j,H,e){var g=e(49084),P=e(21776).Ks,a=e(45464),x=e(31512),M=e(92880).extendFlat;j.exports=M({lon:x.lon,lat:x.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:x.text,hovertext:x.hovertext,hoverinfo:M({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:M({},a.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(j,H,e){var g=e(38248),P=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,x=e(47128),M=e(3400)._;j.exports=function(p,r){for(var t=r._length,i=new Array(t),n=r.z,u=P(n)&&n.length,f=0;f<t;f++){var l=i[f]={},y=r.lon[f],h=r.lat[f];if(l.lonlat=g(y)&&g(h)?[+y,+h]:[a,a],u){var S=n[f];l.z=g(S)?S:a}}return x(p,r,{vals:u?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:M(p,"lat:")+" ",lon:M(p,"lon:")+" "}}),i}},4629:function(j,H,e){var g=e(38248),P=e(3400),a=e(76308),x=e(8932),M=e(39032).BADNUM,v=e(44808).makeBlank;j.exports=function(r){var t=r[0].trace,i=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},u=t._opts={heatmap:n,geojson:v()};if(!i)return u;var f=[],l,y=t.z,h=t.radius,S=P.isArrayOrTypedArray(y)&&y.length,c=P.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var o=r[l],d=o.lonlat;if(d[0]!==M){var w={};if(S){var A=o.z;w.z=A!==M?A:0}c&&(w.r=g(h[l])&&h[l]>0?+h[l]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:w})}}var C=x.extractOpts(t),m=C.reversescale?x.flipScale(C.colorscale):C.colorscale,E=m[0][1],b=a.opacity(E)<1?E:a.addOpacity(E,0),s=["interpolate",["linear"],["heatmap-density"],0,b];for(l=1;l<m.length;l++)s.push(m[l][0],m[l][1]);var L=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return P.extendFlat(u.heatmap.paint,{"heatmap-weight":S?L:1/(C.max-C.min),"heatmap-color":s,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),u.geojson={type:"FeatureCollection",features:f},u.heatmap.layout.visibility="visible",u}},97664:function(j,H,e){var g=e(3400),P=e(27260),a=e(33928);j.exports=function(M,v,p,r){function t(f,l){return g.coerce(M,v,a,f,l)}var i=t("lon")||[],n=t("lat")||[],u=Math.min(i.length,n.length);if(!u){v.visible=!1;return}v._length=u,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(M,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(j){j.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},25336:function(j,H,e){var g=e(54460),P=e(63312).hoverPoints,a=e(63312).getExtraText;j.exports=function(M,v,p){var r=P(M,v,p);if(r){var t=r[0],i=t.cd,n=i[0].trace,u=i[t.index];if(delete t.color,"z"in u){var f=t.subplot.mockAxis;t.z=u.z,t.zLabel=g.tickText(f,f.c2l(u.z),"hover").text}return t.extraText=a(n,u,i[0].t.labels),[t]}}},15088:function(j,H,e){j.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(g,P){for(var a=P.getMapLayers(),x=0;x<a.length;x++){var M=a[x],v=M.id;if(M.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(j,H,e){var g=e(4629),P=e(47552).traceLayerPrefix;function a(M,v){this.type="densitymapbox",this.subplot=M,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var x=a.prototype;x.update=function(M){var v=this.subplot,p=this.layerList,r=g(M),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var i=0;i<p.length;i++){var n=p[i],u=n[0],f=n[1],l=r[u];v.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(f,"setPaintProperty",l.paint)}},x._addLayers=function(M,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,i=0;i<r.length;i++){var n=r[i],u=n[0],f=M[u];p.addLayer({type:u,id:n[1],source:t,layout:f.layout,paint:f.paint},v)}},x._removeLayers=function(){for(var M=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)M.removeLayer(v[p][1])},x.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},j.exports=function(v,p){var r=p[0].trace,t=new a(v,r.uid),i=t.sourceId,n=g(p),u=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,u),t}},74248:function(j,H,e){var g=e(3400);j.exports=function(a,x){for(var M=0;M<a.length;M++)a[M].i=M;g.mergeArray(x.text,a,"tx"),g.mergeArray(x.hovertext,a,"htx");var v=x.marker;if(v){g.mergeArray(v.opacity,a,"mo"),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},20088:function(j,H,e){var g=e(20832),P=e(52904).line,a=e(45464),x=e(29736).axisHoverFormat,M=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);j.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),hovertext:g.hovertext,hovertemplate:M({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:r({},g.insidetextanchor,{dflt:"middle"}),textangle:r({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:r({},g.orientation,{}),offset:r({},g.offset,{arrayOk:!1}),width:r({},g.width,{arrayOk:!1}),marker:i(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup};function i(){var n=r({},g.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(j,H,e){var g=e(54460),P=e(1220),a=e(74248),x=e(4500),M=e(39032).BADNUM;j.exports=function(r,t){var i=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),u,f,l,y,h,S,c,o;t.orientation==="h"?(u=i.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),y=P(t,n,"y",l),h=!!t.yperiodalignment,S="y"):(u=n.makeCalcdata(t,"y"),l=i.makeCalcdata(t,"x"),y=P(t,i,"x",l),h=!!t.xperiodalignment,S="x"),f=y.vals;var d=Math.min(f.length,u.length),w=new Array(d);for(t._base=[],c=0;c<d;c++){u[c]<0&&(u[c]=M);var A=!1;u[c]!==M&&c+1<d&&u[c+1]!==M&&(A=!0),o=w[c]={p:f[c],s:u[c],cNext:A},t._base[c]=-.5*o.s,h&&(w[c].orig_p=l[c],w[c][S+"End"]=y.ends[c],w[c][S+"Start"]=y.starts[c]),t.ids&&(o.id=String(t.ids[c])),c===0&&(w[0].vTotal=0),w[0].vTotal+=v(o.s),o.begR=v(o.s)/v(w[0].s)}var C;for(c=0;c<d;c++)o=w[c],o.s!==M&&(o.sumR=o.s/w[0].vTotal,o.difR=C!==void 0?o.s/C:1,C=o.s);return a(w,t),x(w,t),w};function v(p){return p===M?0:p}},74732:function(j){j.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(j,H,e){var g=e(96376).setGroupPositions;j.exports=function(a,x){var M=a._fullLayout,v=a._fullData,p=a.calcdata,r=x.xaxis,t=x.yaxis,i=[],n=[],u=[],f,l;for(l=0;l<v.length;l++){var y=v[l],h=y.orientation==="h";y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="funnel"&&(f=p[l],h?u.push(f):n.push(f),i.push(f))}var S={mode:M.funnelmode,norm:M.funnelnorm,gap:M.funnelgap,groupgap:M.funnelgroupgap};for(g(a,r,t,n,S),g(a,t,r,u,S),l=0;l<i.length;l++){f=i[l];for(var c=0;c<f.length;c++)c+1<f.length&&(f[c].nextP0=f[c+1].p0,f[c].nextS0=f[c+1].s0,f[c].nextP1=f[c+1].p1,f[c].nextS1=f[c+1].s1)}}},45432:function(j,H,e){var g=e(3400),P=e(20011),a=e(31508).handleText,x=e(43980),M=e(31147),v=e(20088),p=e(76308);function r(n,u,f,l){function y(A,C){return g.coerce(n,u,v,A,C)}var h=x(n,u,l,y);if(!h){u.visible=!1;return}M(n,u,l,y),y("xhoverformat"),y("yhoverformat"),y("orientation",u.y&&!u.x?"v":"h"),y("offset"),y("width");var S=y("text");y("hovertext"),y("hovertemplate");var c=y("textposition");a(n,u,l,y,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u.textposition!=="none"&&!u.texttemplate&&y("textinfo",g.isArrayOrTypedArray(S)?"text+value":"value");var o=y("marker.color",f);y("marker.line.color",p.defaultLine),y("marker.line.width");var d=y("connector.visible");if(d){y("connector.fillcolor",t(o));var w=y("connector.line.width");w&&(y("connector.line.color"),y("connector.line.dash"))}}function t(n){var u=g.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(u,.5*p.opacity(u))}function i(n,u){var f,l;function y(S){return g.coerce(l._input,l,v,S)}if(u.funnelmode==="group")for(var h=0;h<n.length;h++)l=n[h],f=l._input,P(f,l,u,y)}j.exports={supplyDefaults:r,crossTraceDefaults:i}},34580:function(j){j.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},31488:function(j,H,e){var g=e(76308).opacity,P=e(63400).hoverOnBars,a=e(3400).formatPercent;j.exports=function(v,p,r,t,i){var n=P(v,p,r,t,i);if(n){var u=n.cd,f=u[0].trace,l=f.orientation==="h",y=n.index,h=u[y],S=l?"x":"y";n[S+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=a(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=a(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=a(h.sumR,1);var c=h.hi||f.hoverinfo,o=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",w=c.split("+"),A=function(C){return d||w.indexOf(C)!==-1};A("percent initial")&&o.push(n.percentInitialLabel+" of initial"),A("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),A("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=x(f,h),[n]}};function x(M,v){var p=M.marker,r=v.mc||p.color,t=v.mlc||p.line.color,i=v.mlw||p.line.width;if(g(r))return r;if(g(t)&&i)return t}},94704:function(j,H,e){j.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(j){j.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(j,H,e){var g=e(3400),P=e(7076);j.exports=function(a,x,M){var v=!1;function p(i,n){return g.coerce(a,x,P,i,n)}for(var r=0;r<M.length;r++){var t=M[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=e(39032).BADNUM,M=e(98184),v=e(82744).clearMinTextSize;j.exports=function(n,u,f,l){var y=n._fullLayout;v("funnel",y),p(n,u,f,l),r(n,u,f,l),M.plot(n,u,f,l,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})};function p(i,n,u,f){var l=n.xaxis,y=n.yaxis;P.makeTraceGroups(f,u,"trace bars").each(function(h){var S=g.select(this),c=h[0].trace,o=P.ensureSingle(S,"g","regions");if(!c.connector||!c.connector.visible){o.remove();return}var d=c.orientation==="h",w=o.selectAll("g.region").data(P.identity);w.enter().append("g").classed("region",!0),w.exit().remove();var A=w.size();w.each(function(C,m){if(!(m!==A-1&&!C.cNext)){var E=t(C,l,y,d),b=E[0],s=E[1],L="";b[0]!==x&&s[0]!==x&&b[1]!==x&&s[1]!==x&&b[2]!==x&&s[2]!==x&&b[3]!==x&&s[3]!==x&&(d?L+="M"+b[0]+","+s[1]+"L"+b[2]+","+s[2]+"H"+b[3]+"L"+b[1]+","+s[1]+"Z":L+="M"+b[1]+","+s[1]+"L"+b[2]+","+s[3]+"V"+s[2]+"L"+b[1]+","+s[0]+"Z"),L===""&&(L="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,n.layerClipId,i)}})})}function r(i,n,u,f){var l=n.xaxis,y=n.yaxis;P.makeTraceGroups(f,u,"trace bars").each(function(h){var S=g.select(this),c=h[0].trace,o=P.ensureSingle(S,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){o.remove();return}var d=c.orientation==="h",w=o.selectAll("g.line").data(P.identity);w.enter().append("g").classed("line",!0),w.exit().remove();var A=w.size();w.each(function(C,m){if(!(m!==A-1&&!C.cNext)){var E=t(C,l,y,d),b=E[0],s=E[1],L="";b[3]!==void 0&&s[3]!==void 0&&(d?(L+="M"+b[0]+","+s[1]+"L"+b[2]+","+s[2],L+="M"+b[1]+","+s[1]+"L"+b[3]+","+s[2]):(L+="M"+b[1]+","+s[1]+"L"+b[2]+","+s[3],L+="M"+b[1]+","+s[0]+"L"+b[2]+","+s[2])),L===""&&(L="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,n.layerClipId,i)}})})}function t(i,n,u,f){var l=[],y=[],h=f?n:u,S=f?u:n;return l[0]=h.c2p(i.s0,!0),y[0]=S.c2p(i.p0,!0),l[1]=h.c2p(i.s1,!0),y[1]=S.c2p(i.p1,!0),l[2]=h.c2p(i.nextS0,!0),y[2]=S.c2p(i.nextP0,!0),l[3]=h.c2p(i.nextS1,!0),y[3]=S.c2p(i.nextP1,!0),f?[l,y]:[y,l]}},44544:function(j,H,e){var g=e(33428),P=e(43616),a=e(76308),x=e(13448).DESELECTDIM,M=e(60100),v=e(82744).resizeText,p=M.styleTextPoints;function r(t,i,n){var u=n||g.select(t).selectAll("g.funnellayer").selectAll("g.trace");v(t,u,"funnel"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var l=g.select(this),y=f[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var S=y.marker;g.select(this).call(a.fill,h.mc||S.color).call(a.stroke,h.mlc||S.line.color).call(P.dashLine,S.line.dash,h.mlw||S.line.width).style("opacity",y.selectedpoints&&!h.selected?x:1)}}),p(l,y,t),l.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(a.fill,y.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=y.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}j.exports={style:r}},22332:function(j,H,e){var g=e(74996),P=e(45464),a=e(86968).u,x=e(21776).Ks,M=e(21776).Gw,v=e(92880).extendFlat;j.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:x({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(j,H,e){var g=e(7316);H.name="funnelarea",H.plot=function(P,a,x,M){g.plotBasePlot(H.name,P,a,x,M)},H.clean=function(P,a,x,M){g.cleanBasePlot(H.name,P,a,x,M)}},54e3:function(j,H,e){var g=e(45768);function P(x,M){return g.calc(x,M)}function a(x){g.crossTraceCalc(x,{type:"funnelarea"})}j.exports={calc:P,crossTraceCalc:a}},92688:function(j,H,e){var g=e(3400),P=e(22332),a=e(86968).Q,x=e(31508).handleText,M=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;j.exports=function(r,t,i,n){function u(A,C){return g.coerce(r,t,P,A,C)}var f=u("labels"),l=u("values"),y=M(f,l),h=y.len;if(t._hasLabels=y.hasLabels,t._hasValues=y.hasValues,!t._hasLabels&&t._hasValues&&(u("label0"),u("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,u),u("scalegroup");var S=u("text"),c=u("texttemplate"),o;if(c||(o=u("textinfo",Array.isArray(S)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),c||o&&o!=="none"){var d=u("textposition");x(r,t,n,u,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else o==="none"&&u("textposition","none");a(t,n,u);var w=u("title.text");w&&(u("title.position"),g.coerceFont(u,"title.font",n.font)),u("aspectratio"),u("baseratio")}},62396:function(j,H,e){j.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(j,H,e){var g=e(85204).hiddenlabels;j.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(j,H,e){var g=e(3400),P=e(61280);j.exports=function(x,M){function v(p,r){return g.coerce(x,M,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",M.colorway),v("extendfunnelareacolors")}},39472:function(j,H,e){var g=e(33428),P=e(43616),a=e(3400),x=a.strScale,M=a.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,u=e(69656),f=e(37820),l=f.attachFxHandlers,y=f.determineInsideTextFont,h=f.layoutAreas,S=f.prerenderTitles,c=f.positionTitleOutside,o=f.formatSliceLabel;j.exports=function(m,E){var b=m._context.staticPlot,s=m._fullLayout;n("funnelarea",s),S(E,m),h(E,s._size),a.makeTraceGroups(s._funnelarealayer,E,"trace").each(function(L){var T=g.select(this),k=L[0],_=k.trace;A(L),T.each(function(){var B=g.select(this).selectAll("g.slice").data(L);B.enter().append("g").classed("slice",!0),B.exit().remove(),B.each(function(O,N){if(O.hidden){g.select(this).selectAll("path,g").remove();return}O.pointNumber=O.i,O.curveNumber=_.index;var z=k.cx,V=k.cy,W=g.select(this),$=W.selectAll("path.surface").data([O]);$.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),W.call(l,m,L);var re="M"+(z+O.TR[0])+","+(V+O.TR[1])+d(O.TR,O.BR)+d(O.BR,O.BL)+d(O.BL,O.TL)+"Z";$.attr("d",re),o(m,O,k);var ne=u.castOption(_.textposition,O.pts),ue=W.selectAll("g.slicetext").data(O.text&&ne!=="none"?[0]:[]);ue.enter().append("g").classed("slicetext",!0),ue.exit().remove(),ue.each(function(){var J=a.ensureSingle(g.select(this),"text","",function(le){le.attr("data-notex",1)}),X=a.ensureUniformFontSize(m,y(_,O,s.font));J.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,X).call(v.convertToTspans,m);var oe=P.bBox(J.node()),Y,q,se,Q=Math.min(O.BL[1],O.BR[1])+V,K=Math.max(O.TL[1],O.TR[1])+V;q=Math.max(O.TL[0],O.BL[0])+z,se=Math.min(O.TR[0],O.BR[0])+z,Y=r(q,se,Q,K,oe,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Y.fontSize=X.size,i(_.type,Y,s),L[N].transform=Y,a.setTransormAndDisplay(J,Y)})});var F=g.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var O=a.ensureSingle(g.select(this),"text","",function(V){V.attr("data-notex",1)}),N=_.title.text;_._meta&&(N=a.templateString(N,_._meta)),O.text(N).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,_.title.font).call(v.convertToTspans,m);var z=c(k,s._size);O.attr("transform",M(z.x,z.y)+x(Math.min(1,z.scale))+M(z.tx,z.ty))})})})};function d(C,m){var E=m[0]-C[0],b=m[1]-C[1];return"l"+E+","+b}function w(C,m){return[.5*(C[0]+m[0]),.5*(C[1]+m[1])]}function A(C){if(!C.length)return;var m=C[0],E=m.trace,b=E.aspectratio,s=E.baseratio;s>.999&&(s=.999);var L=Math.pow(s,2),T=m.vTotal,k=T*L/(1-L),_=T,B=k/T;function F(){var ie=Math.sqrt(B);return{x:ie,y:-ie}}function O(){var ie=F();return[ie.x,ie.y]}var N,z=[];z.push(O());var V,W;for(V=C.length-1;V>-1;V--)if(W=C[V],!W.hidden){var $=W.v/_;B+=$,z.push(O())}var re=1/0,ne=-1/0;for(V=0;V<z.length;V++)N=z[V],re=Math.min(re,N[1]),ne=Math.max(ne,N[1]);for(V=0;V<z.length;V++)z[V][1]-=(ne+re)/2;var ue=z[z.length-1][0],J=m.r,X=(ne-re)/2,oe=J/ue,Y=J/X*b;for(m.r=Y*X,V=0;V<z.length;V++)z[V][0]*=oe,z[V][1]*=Y;N=z[0];var q=[-N[0],N[1]],se=[N[0],N[1]],Q=0;for(V=C.length-1;V>-1;V--)if(W=C[V],!W.hidden){Q+=1;var K=z[Q][0],le=z[Q][1];W.TL=[-K,le],W.TR=[K,le],W.BL=q,W.BR=se,W.pxmid=w(W.TR,W.BR),q=W.TL,se=W.TR}}},62096:function(j,H,e){var g=e(33428),P=e(10528),a=e(82744).resizeText;j.exports=function(M){var v=M._fullLayout._funnelarealayer.selectAll(".trace");a(M,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,i=g.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){g.select(this).call(P,n,t,M)})})}},83328:function(j,H,e){var g=e(52904),P=e(45464),a=e(25376),x=e(29736).axisHoverFormat,M=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;j.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},g.x,{impliedEdits:{xtype:"array"}}),x0:r({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},g.y,{impliedEdits:{ytype:"array"}}),y0:r({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z",1),hovertemplate:M(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(j,H,e){var g=e(24040),P=e(3400),a=e(54460),x=e(1220),M=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),i=e(11240),n=e(35744),u=e(39032).BADNUM;j.exports=function(h,S){var c=a.getFromId(h,S.xaxis||"x"),o=a.getFromId(h,S.yaxis||"y"),d=g.traceIs(S,"contour"),w=g.traceIs(S,"histogram"),A=g.traceIs(S,"gl2d"),C=d?"best":S.zsmooth,m,E,b,s,L,T,k,_,B,F,O;if(c._minDtick=0,o._minDtick=0,w)O=M(h,S),s=O.orig_x,m=O.x,E=O.x0,b=O.dx,_=O.orig_y,L=O.y,T=O.y0,k=O.dy,B=O.z;else{var N=S.z;P.isArray1D(N)?(p(S,c,o,"x","y",["z"]),m=S._x,L=S._y,N=S._z):(s=S.x?c.makeCalcdata(S,"x"):[],_=S.y?o.makeCalcdata(S,"y"):[],m=x(S,c,"x",s).vals,L=x(S,o,"y",_).vals,S._x=m,S._y=L),E=S.x0,b=S.dx,T=S.y0,k=S.dy,B=r(N,S,c,o)}(c.rangebreaks||o.rangebreaks)&&(B=l(m,L,B),w||(m=f(m),L=f(L),S._x=m,S._y=L)),!w&&(d||S.connectgaps)&&(S._emptypoints=i(B),t(B,S._emptypoints));function z(oe){C=S._input.zsmooth=S.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+oe)}function V(oe){if(oe.length>1){var Y=(oe[oe.length-1]-oe[0])/(oe.length-1),q=Math.abs(Y/100);for(F=0;F<oe.length-1;F++)if(Math.abs(oe[F+1]-oe[F]-Y)>q)return!1}return!0}S._islinear=!1,c.type==="log"||o.type==="log"?C==="fast"&&z("log axis found"):V(m)?V(L)?S._islinear=!0:C==="fast"&&z("y scale is not linear"):C==="fast"&&z("x scale is not linear");var W=P.maxRowLength(B),$=S.xtype==="scaled"?"":m,re=n(S,$,E,b,W,c),ne=S.ytype==="scaled"?"":L,ue=n(S,ne,T,k,B.length,o);A||(S._extremes[c._id]=a.findExtremes(c,re),S._extremes[o._id]=a.findExtremes(o,ue));var J={x:re,y:ue,z:B,text:S._text||S.text,hovertext:S._hovertext||S.hovertext};if(S.xperiodalignment&&s&&(J.orig_x=s),S.yperiodalignment&&_&&(J.orig_y=_),$&&$.length===re.length-1&&(J.xCenter=$),ne&&ne.length===ue.length-1&&(J.yCenter=ne),w&&(J.xRanges=O.xRanges,J.yRanges=O.yRanges,J.pts=O.pts),d||v(h,S,{vals:B,cLetter:"z"}),d&&S.contours&&S.contours.coloring==="heatmap"){var X={type:S.type==="contour"?"heatmap":"histogram2d",xcalendar:S.xcalendar,ycalendar:S.ycalendar};J.xfill=n(X,$,E,b,W,c),J.yfill=n(X,ne,T,k,B.length,o)}return[J]};function f(y){for(var h=[],S=y.length,c=0;c<S;c++){var o=y[c];o!==u&&h.push(o)}return h}function l(y,h,S){for(var c=[],o=-1,d=0;d<S.length;d++)if(h[d]!==u){o++,c[o]=[];for(var w=0;w<S[d].length;w++)y[w]!==u&&c[o].push(S[d][w])}return c}},26136:function(j,H,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM;j.exports=function(M,v,p,r){var t,i,n,u,f,l;function y(w){if(g(w))return+w}if(v&&v.transpose){for(t=0,f=0;f<M.length;f++)t=Math.max(t,M[f].length);if(t===0)return!1;n=function(w){return w.length},u=function(w,A,C){return(w[C]||[])[A]}}else t=M.length,n=function(w,A){return w[A].length},u=function(w,A,C){return(w[A]||[])[C]};var h=function(w,A,C){return A===a||C===a?a:u(w,A,C)};function S(w){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&w&&w.type==="category"&&v["_"+w._id.charAt(0)].length){var A=w._id.charAt(0),C={},m=v["_"+A+"CategoryMap"]||v[A];for(f=0;f<m.length;f++)C[m[f]]=f;return function(E){var b=C[w._categories[E]];return b+1?b:a}}else return P.identity}var c=S(p),o=S(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(f=0;f<t;f++)for(p&&p.type==="category"?i=p._categories.length:i=n(M,f),d[f]=new Array(i),l=0;l<i;l++)d[f][l]=y(h(M,o(f),c(l)));return d}},96288:function(j){j.exports={min:"zmin",max:"zmax"}},2872:function(j,H,e){var g=e(3400),P=e(39032).BADNUM,a=e(1220);j.exports=function(M,v,p,r,t,i){var n=M._length,u=v.makeCalcdata(M,r),f=p.makeCalcdata(M,t);u=a(M,v,r,u).vals,f=a(M,p,t,f).vals;var l=M.text,y=l!==void 0&&g.isArray1D(l),h=M.hovertext,S=h!==void 0&&g.isArray1D(h),c,o,d=g.distinctVals(u),w=d.vals,A=g.distinctVals(f),C=A.vals,m=[],E,b,s=C.length,L=w.length;for(c=0;c<i.length;c++)m[c]=g.init2dArray(s,L);y&&(E=g.init2dArray(s,L)),S&&(b=g.init2dArray(s,L));var T=g.init2dArray(s,L);for(c=0;c<n;c++)if(u[c]!==P&&f[c]!==P){var k=g.findBin(u[c]+d.minDiff/2,w),_=g.findBin(f[c]+A.minDiff/2,C);for(o=0;o<i.length;o++){var B=i[o],F=M[B],O=m[o];O[_][k]=F[c],T[_][k]=c}y&&(E[_][k]=l[c]),S&&(b[_][k]=h[c])}for(M["_"+r]=w,M["_"+t]=C,o=0;o<i.length;o++)M["_"+i[o]]=m[o];y&&(M._text=E),S&&(M._hovertext=b),v&&v.type==="category"&&(M["_"+r+"CategoryMap"]=w.map(function(N){return v._categories[N]})),p&&p.type==="category"&&(M["_"+t+"CategoryMap"]=C.map(function(N){return p._categories[N]})),M._after2before=T}},24480:function(j,H,e){var g=e(3400),P=e(51264),a=e(39096),x=e(31147),M=e(82748),v=e(27260),p=e(83328);j.exports=function(t,i,n,u){function f(y,h){return g.coerce(t,i,p,y,h)}var l=P(t,i,f,u);if(!l){i.visible=!1;return}x(t,i,u,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),a(f,u),M(t,i,f,u),f("hoverongaps"),f("connectgaps",g.isArray1D(i.z)&&i.zsmooth!==!1),v(t,i,u,f,{prefix:"",cLetter:"z"})}},11240:function(j,H,e){var g=e(3400).maxRowLength;j.exports=function(a){var x=[],M={},v=[],p=a[0],r=[],t=[0,0,0],i=g(a),n,u,f,l,y,h,S,c;for(u=0;u<a.length;u++)for(n=r,r=p,p=a[u+1]||[],f=0;f<i;f++)r[f]===void 0&&(h=(r[f-1]!==void 0?1:0)+(r[f+1]!==void 0?1:0)+(n[f]!==void 0?1:0)+(p[f]!==void 0?1:0),h?(u===0&&h++,f===0&&h++,u===a.length-1&&h++,f===r.length-1&&h++,h<4&&(M[[u,f]]=[u,f,h]),x.push([u,f,h])):v.push([u,f]));for(;v.length;){for(S={},c=!1,y=v.length-1;y>=0;y--)l=v[y],u=l[0],f=l[1],h=((M[[u-1,f]]||t)[2]+(M[[u+1,f]]||t)[2]+(M[[u,f-1]]||t)[2]+(M[[u,f+1]]||t)[2])/20,h&&(S[l]=[u,f,h],v.splice(y,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in S)M[l]=S[l],x.push(S[l])}return x.sort(function(o,d){return d[2]-o[2]})}},55512:function(j,H,e){var g=e(93024),P=e(3400),a=P.isArrayOrTypedArray,x=e(54460),M=e(8932).extractOpts;j.exports=function(p,r,t,i,n){n||(n={});var u=n.isContour,f=p.cd[0],l=f.trace,y=p.xa,h=p.ya,S=f.x,c=f.y,o=f.z,d=f.xCenter,w=f.yCenter,A=f.zmask,C=l.zhoverformat,m=S,E=c,b,s,L,T;if(p.index!==!1){try{L=Math.round(p.index[1]),T=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(L<0||L>=o[0].length||T<0||T>o.length)return}else{if(g.inbox(r-S[0],r-S[S.length-1],0)>0||g.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(u){var k;for(m=[2*S[0]-S[1]],k=1;k<S.length;k++)m.push((S[k]+S[k-1])/2);for(m.push([2*S[S.length-1]-S[S.length-2]]),E=[2*c[0]-c[1]],k=1;k<c.length;k++)E.push((c[k]+c[k-1])/2);E.push([2*c[c.length-1]-c[c.length-2]])}L=Math.max(0,Math.min(m.length-2,P.findBin(r,m))),T=Math.max(0,Math.min(E.length-2,P.findBin(t,E)))}var _=y.c2p(S[L]),B=y.c2p(S[L+1]),F=h.c2p(c[T]),O=h.c2p(c[T+1]),N,z;u?(N=f.orig_x||S,z=f.orig_y||c,B=_,b=N[L],O=F,s=z[T]):(N=f.orig_x||d||S,z=f.orig_y||w||c,b=d?N[L]:(N[L]+N[L+1])/2,s=w?z[T]:(z[T]+z[T+1])/2,y&&y.type==="category"&&(b=S[L]),h&&h.type==="category"&&(s=c[T]),l.zsmooth&&(_=B=y.c2p(b),F=O=h.c2p(s)));var V=o[T][L];if(A&&!A[T][L]&&(V=void 0),!(V===void 0&&!l.hoverongaps)){var W;a(f.hovertext)&&a(f.hovertext[T])?W=f.hovertext[T][L]:a(f.text)&&a(f.text[T])&&(W=f.text[T][L]);var $=M(l),re={type:"linear",range:[$.min,$.max],hoverformat:C,_separators:y._separators,_numFormat:y._numFormat},ne=x.tickText(re,V,"hover").text;return[P.extendFlat(p,{index:l._after2before?l._after2before[T][L]:[T,L],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:_,x1:B,y0:F,y1:O,xLabelVal:b,yLabelVal:s,zLabelVal:V,zLabel:ne,text:W})]}}},81932:function(j,H,e){j.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(j,H,e){var g=e(3400),P=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function x(v){return .5-.25*Math.min(1,v*.5)}j.exports=function(p,r){var t=1,i;for(M(p,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&t>P;i++)t=M(p,r,x(t));return t>P&&g.log("interp2d didn't converge quickly",t),p};function M(v,p,r){var t=0,i,n,u,f,l,y,h,S,c,o,d,w,A;for(f=0;f<p.length;f++){for(i=p[f],n=i[0],u=i[1],d=v[n][u],o=0,c=0,l=0;l<4;l++)y=a[l],h=v[n+y[0]],h&&(S=h[u+y[1]],S!==void 0&&(o===0?w=A=S:(w=Math.min(w,S),A=Math.max(A,S)),c++,o+=S));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][u]=o/c,d===void 0?c<4&&(t=1):(v[n][u]=(1+r)*v[n][u]-r*d,A>w&&(t=Math.max(t,Math.abs(v[n][u]-d)/(A-w))))}return t}},39096:function(j,H,e){var g=e(3400);j.exports=function(a,x){a("texttemplate");var M=g.extendFlat({},x.font,{color:"auto",size:"auto"});g.coerceFont(a,"textfont",M)}},35744:function(j,H,e){var g=e(24040),P=e(3400).isArrayOrTypedArray;j.exports=function(x,M,v,p,r,t){var i=[],n=g.traceIs(x,"contour"),u=g.traceIs(x,"histogram"),f=g.traceIs(x,"gl2d"),l,y,h,S=P(M)&&M.length>1;if(S&&!u&&t.type!=="category"){var c=M.length;if(c<=r){if(n||f)i=Array.from(M).slice(0,r);else if(r===1)t.type==="log"?i=[.5*M[0],2*M[0]]:i=[M[0]-.5,M[0]+.5];else if(t.type==="log"){for(i=[Math.pow(M[0],1.5)/Math.pow(M[1],.5)],h=1;h<c;h++)i.push(Math.sqrt(M[h-1]*M[h]));i.push(Math.pow(M[c-1],1.5)/Math.pow(M[c-2],.5))}else{for(i=[1.5*M[0]-.5*M[1]],h=1;h<c;h++)i.push((M[h-1]+M[h])*.5);i.push(1.5*M[c-1]-.5*M[c-2])}if(c<r){var o=i[i.length-1],d;if(t.type==="log")for(d=o/i[i.length-2],h=c;h<r;h++)o*=d,i.push(o);else for(d=o-i[i.length-2],h=c;h<r;h++)o+=d,i.push(o)}}else return n?M.slice(0,r):M.slice(0,r+1)}else{var w=x[t._id.charAt(0)+"calendar"];if(u)l=t.r2c(v,0,w);else if(P(M)&&M.length===1)l=M[0];else if(v===void 0)l=0;else{var A=t.type==="log"?t.d2c:t.r2c;l=A(v,0,w)}for(y=p||1,h=n||f?0:-.5;h<r;h++)i.push(l+y*h)}return i}},41420:function(j,H,e){var g=e(33428),P=e(49760),a=e(24040),x=e(43616),M=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),i=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,u=e(9616),f=e(84284),l=f.LINE_SPACING,y=e(9188),h=e(2264).STYLE,S="heatmap-label";function c(C){return C.selectAll("g."+S)}function o(C){c(C).remove()}j.exports=function(C,m,E,b){var s=m.xaxis,L=m.yaxis;v.makeTraceGroups(b,E,"hm").each(function(T){var k=g.select(this),_=T[0],B=_.trace,F=B.xgap||0,O=B.ygap||0,N=_.z,z=_.x,V=_.y,W=_.xCenter,$=_.yCenter,re=a.traceIs(B,"contour"),ne=re?"best":B.zsmooth,ue=N.length,J=v.maxRowLength(N),X=!1,oe=!1,Y,q,se,Q,K,le,ie,ce;for(le=0;Y===void 0&&le<z.length-1;)Y=s.c2p(z[le]),le++;for(le=z.length-1;q===void 0&&le>0;)q=s.c2p(z[le]),le--;for(q<Y&&(se=q,q=Y,Y=se,X=!0),le=0;Q===void 0&&le<V.length-1;)Q=L.c2p(V[le]),le++;for(le=V.length-1;K===void 0&&le>0;)K=L.c2p(V[le]),le--;K<Q&&(se=Q,Q=K,K=se,oe=!0),re&&(W=z,$=V,z=_.xfill,V=_.yfill);var ye="default";if(ne?ye=ne==="best"?"smooth":"fast":B._islinear&&F===0&&O===0&&y()&&(ye="fast"),ye!=="fast"){var Ce=ne==="best"?0:.5;Y=Math.max(-Ce*s._length,Y),q=Math.min((1+Ce)*s._length,q),Q=Math.max(-Ce*L._length,Q),K=Math.min((1+Ce)*L._length,K)}var Ae=Math.round(q-Y),ke=Math.round(K-Q),we=Y>=s._length||q<=0||Q>=L._length||K<=0;if(we){var Ee=k.selectAll("image").data([]);Ee.exit().remove(),o(k);return}var xe,Pe;ye==="fast"?(xe=J,Pe=ue):(xe=Ae,Pe=ke);var Ue=document.createElement("canvas");Ue.width=xe,Ue.height=Pe;var Be=Ue.getContext("2d",{willReadFrequently:!0}),Ne=n(B,{noNumericCheck:!0,returnArray:!0}),Xe,ut;ye==="fast"?(Xe=X?function(on){return J-1-on}:v.identity,ut=oe?function(on){return ue-1-on}:v.identity):(Xe=function(on){return v.constrain(Math.round(s.c2p(z[on])-Y),0,Ae)},ut=function(on){return v.constrain(Math.round(L.c2p(V[on])-Q),0,ke)});var dt=ut(0),at=[dt,dt],We=X?0:1,rt=oe?0:1,st=0,ht=0,vt=0,At=0,et,_e,Ve,Ze,He;function Ie(on,yn){if(on!==void 0){var mn=Ne(on);return mn[0]=Math.round(mn[0]),mn[1]=Math.round(mn[1]),mn[2]=Math.round(mn[2]),st+=yn,ht+=mn[0]*yn,vt+=mn[1]*yn,At+=mn[2]*yn,mn}return[0,0,0,0]}function be(on,yn,mn,Ln){var zn=on[mn.bin0];if(zn===void 0)return Ie(void 0,1);var aa=on[mn.bin1],ha=yn[mn.bin0],pa=yn[mn.bin1],ua=aa-zn||0,na=ha-zn||0,Tr;return aa===void 0?pa===void 0?Tr=0:ha===void 0?Tr=2*(pa-zn):Tr=(2*pa-ha-zn)*2/3:pa===void 0?ha===void 0?Tr=0:Tr=(2*zn-aa-ha)*2/3:ha===void 0?Tr=(2*pa-aa-zn)*2/3:Tr=pa+zn-aa-ha,Ie(zn+mn.frac*ua+Ln.frac*(na+mn.frac*Tr))}if(ye!=="default"){var me=0,Me;try{Me=new Uint8Array(xe*Pe*4)}catch{Me=new Array(xe*Pe*4)}if(ye==="smooth"){var Te=W||z,Oe=$||V,Ke=new Array(Te.length),nt=new Array(Oe.length),pt=new Array(Ae),yt=W?w:d,Yt=$?w:d,Xt,St,kt;for(le=0;le<Te.length;le++)Ke[le]=Math.round(s.c2p(Te[le])-Y);for(le=0;le<Oe.length;le++)nt[le]=Math.round(L.c2p(Oe[le])-Q);for(le=0;le<Ae;le++)pt[le]=yt(le,Ke);for(ie=0;ie<ke;ie++)for(Xt=Yt(ie,nt),St=N[Xt.bin0],kt=N[Xt.bin1],le=0;le<Ae;le++,me+=4)He=be(St,kt,pt[le],Xt),A(Me,me,He)}else for(ie=0;ie<ue;ie++)for(Ze=N[ie],at=ut(ie),le=0;le<J;le++)He=Ie(Ze[le],1),me=(at*J+Xe(le))*4,A(Me,me,He);var Kt=Be.createImageData(xe,Pe);try{Kt.data.set(Me)}catch{var mr=Kt.data,mt=mr.length;for(ie=0;ie<mt;ie++)mr[ie]=Me[ie]}Be.putImageData(Kt,0,0)}else{var Zt=Math.floor(F/2),Qt=Math.floor(O/2);for(ie=0;ie<ue;ie++)if(Ze=N[ie],at.reverse(),at[rt]=ut(ie+1),!(at[0]===at[1]||at[0]===void 0||at[1]===void 0))for(_e=Xe(0),et=[_e,_e],le=0;le<J;le++)et.reverse(),et[We]=Xe(le+1),!(et[0]===et[1]||et[0]===void 0||et[1]===void 0)&&(Ve=Ze[le],He=Ie(Ve,(et[1]-et[0])*(at[1]-at[0])),Be.fillStyle="rgba("+He.join(",")+")",Be.fillRect(et[0]+Zt,at[0]+Qt,et[1]-et[0]-F,at[1]-at[0]-O))}ht=Math.round(ht/st),vt=Math.round(vt/st),At=Math.round(At/st);var yr=P("rgb("+ht+","+vt+","+At+")");C._hmpixcount=(C._hmpixcount||0)+st,C._hmlumcount=(C._hmlumcount||0)+st*yr.getLuminance();var sr=k.selectAll("image").data(T);sr.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),sr.attr({height:ke,width:Ae,x:Y,y:Q,"xlink:href":Ue.toDataURL("image/png")}),ye==="fast"&&!ne&&sr.attr("style",h),o(k);var bt=B.texttemplate;if(bt){var lt=i(B),Tt={type:"linear",range:[lt.min,lt.max],_separators:s._separators,_numFormat:s._numFormat},Ct=B.type==="histogram2dcontour",It=B.type==="contour",Dt=It?1:0,Vt=It?ue-1:ue,Bt=It?1:0,$t=It?J-1:J,fr=[];for(le=Dt;le<Vt;le++){var cr;if(It)cr=_.y[le];else if(Ct){if(le===0||le===ue-1)continue;cr=_.y[le]}else if(_.yCenter)cr=_.yCenter[le];else{if(le+1===ue&&_.y[le+1]===void 0)continue;cr=(_.y[le]+_.y[le+1])/2}var dr=Math.round(L.c2p(cr));if(!(0>dr||dr>L._length))for(ie=Bt;ie<$t;ie++){var Ye;if(It)Ye=_.x[ie];else if(Ct){if(ie===0||ie===J-1)continue;Ye=_.x[ie]}else if(_.xCenter)Ye=_.xCenter[ie];else{if(ie+1===J&&_.x[ie+1]===void 0)continue;Ye=(_.x[ie]+_.x[ie+1])/2}var je=Math.round(s.c2p(Ye));if(!(0>je||je>s._length)){var zt=r({x:Ye,y:cr},B,C._fullLayout);zt.x=Ye,zt.y=cr;var Ft=_.z[le][ie];Ft===void 0?(zt.z="",zt.zLabel=""):(zt.z=Ft,zt.zLabel=M.tickText(Tt,Ft,"hover").text);var Jt=_.text&&_.text[le]&&_.text[le][ie];(Jt===void 0||Jt===!1)&&(Jt=""),zt.text=Jt;var tr=v.texttemplateString(bt,zt,C._fullLayout._d3locale,zt,B._meta||{});if(tr){var ur=tr.split("<br>"),nr=ur.length,Nt=0;for(ce=0;ce<nr;ce++)Nt=Math.max(Nt,ur[ce].length);fr.push({l:nr,c:Nt,t:tr,x:je,y:dr,z:Ft})}}}}var hr=B.textfont,gr=hr.family,br=hr.size,vr=C._fullLayout.font.size;if(!br||br==="auto"){var Gr=1/0,Dr=1/0,_r=0,hn=0;for(ce=0;ce<fr.length;ce++){var nn=fr[ce];if(_r=Math.max(_r,nn.l),hn=Math.max(hn,nn.c),ce<fr.length-1){var Pn=fr[ce+1],Cn=Math.abs(Pn.x-nn.x),Ar=Math.abs(Pn.y-nn.y);Cn&&(Gr=Math.min(Gr,Cn)),Ar&&(Dr=Math.min(Dr,Ar))}}!isFinite(Gr)||!isFinite(Dr)?br=vr:(Gr-=F,Dr-=O,Gr/=hn,Dr/=_r,Gr/=l/2,Dr/=l,br=Math.min(Math.floor(Gr),Math.floor(Dr),vr))}if(br<=0||!isFinite(br))return;var Pr=function(on){return on.x},Wr=function(on){return on.y-br*(on.l*l/2-1)},Vr=c(k).data(fr);Vr.enter().append("g").classed(S,1).append("text").attr("text-anchor","middle").each(function(on){var yn=g.select(this),mn=hr.color;(!mn||mn==="auto")&&(mn=t.contrast(on.z===void 0?C._fullLayout.plot_bgcolor:"rgba("+Ne(on.z).join()+")")),yn.attr("data-notex",1).call(p.positionText,Pr(on),Wr(on)).call(x.font,gr,br,mn).text(on.t).call(p.convertToTspans,C)})}})};function d(C,m){var E=m.length-2,b=v.constrain(v.findBin(C,m),0,E),s=m[b],L=m[b+1],T=v.constrain(b+(C-s)/(L-s)-.5,0,E),k=Math.round(T),_=Math.abs(T-k);return!T||T===E||!_?{bin0:k,bin1:k,frac:0}:{bin0:k,frac:_,bin1:Math.round(k+_/(T-k))}}function w(C,m){var E=m.length-1,b=v.constrain(v.findBin(C,m),0,E),s=m[b],L=m[b+1],T=(C-s)/(L-s)||0;return T<=0?{bin0:b,bin1:b,frac:0}:T<.5?{bin0:b,bin1:b+1,frac:T}:{bin0:b+1,bin1:b,frac:1-T}}function A(C,m,E){C[m]=E[0],C[m+1]=E[1],C[m+2]=E[2],C[m+3]=Math.round(E[3]*255)}},41648:function(j,H,e){var g=e(33428);j.exports=function(a){g.select(a).selectAll(".hm image").style("opacity",function(x){return x.trace.opacity})}},82748:function(j){j.exports=function(e,g,P){var a=P("zsmooth");a===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(j,H,e){var g=e(38248),P=e(3400),a=e(24040);j.exports=function(p,r,t,i,n,u){var f=t("z");n=n||"x",u=u||"y";var l,y;if(f===void 0||!f.length)return 0;if(P.isArray1D(f)){l=t(n),y=t(u);var h=P.minRowLength(l),S=P.minRowLength(y);if(h===0||S===0)return 0;r._length=Math.min(h,S,f.length)}else{if(l=x(n,t),y=x(u,t),!M(f))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var c=a.getComponentMethod("calendars","handleTraceDefaults");return c(p,r,[n,u],i),!0};function x(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function M(v){for(var p=!0,r=!1,t=!1,i,n=0;n<v.length;n++){if(i=v[n],!P.isArrayOrTypedArray(i)){p=!1;break}i.length>0&&(r=!0);for(var u=0;u<i.length;u++)if(g(i[u])){t=!0;break}}return p&&r&&t}},74512:function(j,H,e){for(var g=e(83328),P=e(49084),a=e(92880).extendFlat,x=e(67824).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<M.length;p++){var r=M[p];v[r]=g[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,P("",{cLetter:"z",autoColorDflt:!1})),j.exports=x(v,"calc","nested")},84656:function(j,H,e){var g=e(67792).gl_heatmap2d,P=e(54460),a=e(43080);function x(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(r.glplot,this.options),this.heatmap._trace=this}var M=x.prototype;M.handlePick=function(r){var t=this.options,i=t.shape,n=r.pointId,u=n%i[0],f=Math.floor(n/i[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[u],t.y[f],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[f,u],hoverinfo:this.hoverinfo}},M.update=function(r,t){var i=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=i.z;this.options.z=[].concat.apply([],n);var u=n[0].length,f=n.length;this.options.shape=[u,f],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var y=this.scene.xaxis,h=this.scene.yaxis,S,c;r.zsmooth===!1&&(S={ppad:i.x[1]-i.x[0]},c={ppad:i.y[1]-i.y[0]}),r._extremes[y._id]=P.findExtremes(y,i.x,S),r._extremes[h._id]=P.findExtremes(h,i.y,c)},M.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,i=r.zmin,n=r.zmax,u=t.length,f=new Array(u),l=new Array(4*u),y=0;y<u;y++){var h=t[y],S=a(h[1]);f[y]=i+h[0]*(n-i);for(var c=0;c<4;c++)l[4*y+c]=S[c]}return{colorLevels:f,colorValues:l}}function p(r,t,i){var n=new x(r,t.uid);return n.update(t,i),n}j.exports=p},86464:function(j,H,e){var g=e(3400),P=e(51264),a=e(27260),x=e(74512);j.exports=function(v,p,r,t){function i(u,f){return g.coerce(v,p,x,u,f)}var n=P(v,p,i,t);if(!n){p.visible=!1;return}i("text"),i("zsmooth"),a(v,p,t,i,{prefix:"",cLetter:"z"})}},45536:function(j,H,e){j.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(j,H,e){var g=e(20832),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(21776).Gw,M=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;j.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},g.text,{}),hovertext:r({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:p.eventDataKeys}),texttemplate:x({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},g.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir}}},2e3:function(j){j.exports=function(e,g){for(var P=e.length,a=0,x=0;x<P;x++)g[x]?(e[x]/=g[x],a+=e[x]):e[x]=null;return a}},11120:function(j){j.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(j,H,e){var g=e(38248);j.exports={count:function(P,a,x){return x[P]++,1},sum:function(P,a,x,M){var v=M[a];return g(v)?(v=Number(v),x[P]+=v,v):0},avg:function(P,a,x,M,v){var p=M[a];return g(p)&&(p=Number(p),x[P]+=p,v[P]++),0},min:function(P,a,x,M){var v=M[a];if(g(v))if(v=Number(v),g(x[P])){if(x[P]>v){var p=v-x[P];return x[P]=v,p}}else return x[P]=v,v;return 0},max:function(P,a,x,M){var v=M[a];if(g(v))if(v=Number(v),g(x[P])){if(x[P]<v){var p=v-x[P];return x[P]=v,p}}else return x[P]=v,v;return 0}}},67712:function(j,H,e){var g=e(39032),P=g.ONEAVGYEAR,a=g.ONEAVGMONTH,x=g.ONEDAY,M=g.ONEHOUR,v=g.ONEMIN,p=g.ONESEC,r=e(54460).tickIncrement;j.exports=function(l,y,h,S,c){var o=-1.1*y,d=-.1*y,w=l-d,A=h[0],C=h[1],m=Math.min(t(A+d,A+w,S,c),t(C+d,C+w,S,c)),E=Math.min(t(A+o,A+d,S,c),t(C+o,C+d,S,c)),b,s;if(m>E&&E<Math.abs(C-A)/4e3?(b=m,s=!1):(b=Math.min(m,E),s=!0),S.type==="date"&&b>x){var L=b===P?1:6,T=b===P?"M12":"M1";return function(k,_){var B=S.c2d(k,P,c),F=B.indexOf("-",L);F>0&&(B=B.substr(0,F));var O=S.d2c(B,0,c);if(O<k){var N=r(O,T,!1,c);(O+N)/2<k+l&&(O=N)}return _&&s?r(O,T,!0,c):O}}return function(k,_){var B=b*Math.round(k/b);return B+b/10<k&&B+b*.9<k+l&&(B+=b),_&&s&&(B-=b),B}};function t(f,l,y,h){if(f*l<=0)return 1/0;for(var S=Math.abs(l-f),c=y.type==="date",o=i(S,c),d=0;d<10;d++){var w=i(o*80,c);if(o===w)break;if(n(w,f,l,c,y,h))o=w;else break}return o}function i(f,l){return l&&f>p?f>x?f>P*1.1?P:f>a*1.1?a:x:f>M?M:f>v?v:p:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function n(f,l,y,h,S,c){if(h&&f>x){var o=u(l,S,c),d=u(y,S,c),w=f===P?0:1;return o[w]!==d[w]}return Math.floor(y/f)-Math.floor(l/f)>.1}function u(f,l,y){var h=l.c2d(f,P,y).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(j,H,e){var g=e(38248),P=e(3400),a=e(24040),x=e(54460),M=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function i(y,h){var S=[],c=[],o=h.orientation==="h",d=x.getFromId(y,o?h.yaxis:h.xaxis),w=o?"y":"x",A={x:"y",y:"x"}[w],C=h[w+"calendar"],m=h.cumulative,E,b=n(y,h,d,w),s=b[0],L=b[1],T=typeof s.size=="string",k=[],_=T?k:s,B=[],F=[],O=[],N=0,z=h.histnorm,V=h.histfunc,W=z.indexOf("density")!==-1,$,re,ne;m.enabled&&W&&(z=z.replace(/ ?density$/,""),W=!1);var ue=V==="max"||V==="min",J=ue?null:0,X=v.count,oe=p[z],Y=!1,q=function(Be){return d.r2c(Be,0,C)},se;for(P.isArrayOrTypedArray(h[A])&&V!=="count"&&(se=h[A],Y=V==="avg",X=v[V]),E=q(s.start),re=q(s.end)+(E-x.tickIncrement(E,s.size,!1,C))/1e6;E<re&&S.length<1e6&&($=x.tickIncrement(E,s.size,!1,C),S.push((E+$)/2),c.push(J),O.push([]),k.push(E),W&&B.push(1/($-E)),Y&&F.push(0),!($<=E));)E=$;k.push(E),!T&&d.type==="date"&&(_={start:q(_.start),end:q(_.end),size:_.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var Q=h["_"+w+"bingroup"],K={leftGap:1/0,rightGap:1/0};Q&&(y._fullLayout._roundFnOpts[Q]||(y._fullLayout._roundFnOpts[Q]=K),K=y._fullLayout._roundFnOpts[Q]);var le=c.length,ie=!0,ce=K.leftGap,ye=K.rightGap,Ce={};for(E=0;E<L.length;E++){var Ae=L[E];ne=P.findBin(Ae,_),ne>=0&&ne<le&&(N+=X(ne,E,c,se,F),ie&&O[ne].length&&Ae!==L[O[ne][0]]&&(ie=!1),O[ne].push(E),Ce[E]=ne,ce=Math.min(ce,Ae-k[ne]),ye=Math.min(ye,k[ne+1]-Ae))}K.leftGap=ce,K.rightGap=ye;var ke;ie||(ke=function(Be,Ne){return function(){var Xe=y._fullLayout._roundFnOpts[Q];return t(Xe.leftGap,Xe.rightGap,k,d,C)(Be,Ne)}}),Y&&(N=r(c,F)),oe&&oe(c,N,B),m.enabled&&l(c,m.direction,m.currentbin);var we=Math.min(S.length,c.length),Ee=[],xe=0,Pe=we-1;for(E=0;E<we;E++)if(c[E]){xe=E;break}for(E=we-1;E>=xe;E--)if(c[E]){Pe=E;break}for(E=xe;E<=Pe;E++)if(g(S[E])&&g(c[E])){var Ue={p:S[E],s:c[E],b:0};m.enabled||(Ue.pts=O[E],ie?Ue.ph0=Ue.ph1=O[E].length?L[O[E][0]]:S[E]:(h._computePh=!0,Ue.ph0=ke(k[E]),Ue.ph1=ke(k[E+1],!0))),Ee.push(Ue)}return Ee.length===1&&(Ee[0].width1=x.tickIncrement(Ee[0].p,s.size,!1,C)-Ee[0].p),M(Ee,h),P.isArrayOrTypedArray(h.selectedpoints)&&P.tagSelected(Ee,h,Ce),Ee}function n(y,h,S,c,o){var d=c+"bins",w=y._fullLayout,A=h["_"+c+"bingroup"],C=w._histogramBinOpts[A],m=w.barmode==="overlay",E,b,s,L,T,k,_,B=function(Ae){return S.r2c(Ae,0,L)},F=function(Ae){return S.c2r(Ae,0,L)},O=S.type==="date"?function(Ae){return Ae||Ae===0?P.cleanDate(Ae,null,L):null}:function(Ae){return g(Ae)?Number(Ae):null};function N(Ae,ke,we){ke[Ae+"Found"]?(ke[Ae]=O(ke[Ae]),ke[Ae]===null&&(ke[Ae]=we[Ae])):(k[Ae]=ke[Ae]=we[Ae],P.nestedProperty(b[0],d+"."+Ae).set(we[Ae]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{b=C.traces;var z=[],V=!0,W=!1,$=!1;for(E=0;E<b.length;E++)if(s=b[E],s.visible){var re=C.dirs[E];T=s["_"+re+"pos0"]=S.makeCalcdata(s,re),z=P.concat(z,T),delete s["_"+c+"autoBinFinished"],h.visible===!0&&(V?V=!1:(delete s._autoBin,s["_"+c+"autoBinFinished"]=1),a.traceIs(s,"2dMap")&&(W=!0),s.type==="histogram2dcontour"&&($=!0))}L=b[0][c+"calendar"];var ne=x.autoBin(z,S,C.nbins,W,L,C.sizeFound&&C.size),ue=b[0]._autoBin={};if(k=ue[C.dirs[0]]={},$&&(C.size||(ne.start=F(x.tickIncrement(B(ne.start),ne.size,!0,L))),C.end===void 0&&(ne.end=F(x.tickIncrement(B(ne.end),ne.size,!1,L)))),m&&!a.traceIs(h,"2dMap")&&ne._dataSpan===0&&S.type!=="category"&&S.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(o)return[ne,T,!0];ne=u(y,h,S,c,d)}_=s.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?ne.start=F(x.tickIncrement(B(ne.start),ne.size,!0,L)):ne.end=F(x.tickIncrement(B(ne.end),ne.size,!1,L))),C.size=ne.size,C.sizeFound||(k.size=ne.size,P.nestedProperty(b[0],d+".size").set(ne.size)),N("start",C,ne),N("end",C,ne)}T=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var J=h._input[d]||{},X=P.extendFlat({},C),oe=C.start,Y=S.r2l(J.start),q=Y!==void 0;if((C.startFound||q)&&Y!==S.r2l(oe)){var se=q?Y:P.aggNums(Math.min,null,T),Q={type:S.type==="category"||S.type==="multicategory"?"linear":S.type,r2l:S.r2l,dtick:C.size,tick0:oe,calendar:L,range:[se,x.tickIncrement(se,C.size,!1,L)].map(S.l2r)},K=x.tickFirst(Q);K>S.r2l(se)&&(K=x.tickIncrement(K,C.size,!0,L)),X.start=S.l2r(K),q||P.nestedProperty(h,d+".start").set(X.start)}var le=C.end,ie=S.r2l(J.end),ce=ie!==void 0;if((C.endFound||ce)&&ie!==S.r2l(le)){var ye=ce?ie:P.aggNums(Math.max,null,T);X.end=S.l2r(ye),ce||P.nestedProperty(h,d+".start").set(X.end)}var Ce="autobin"+c;return h._input[Ce]===!1&&(h._input[d]=P.extendFlat({},h[d]||{}),delete h._input[Ce],delete h[Ce]),[X,T]}function u(y,h,S,c,o){var d=y._fullLayout,w=f(y,h),A=!1,C=1/0,m=[h],E,b,s;for(E=0;E<w.length;E++)if(b=w[E],b===h)A=!0;else if(!A)s=d._histogramBinOpts[b["_"+c+"bingroup"]],C=Math.min(C,s.size||b[o].size);else{var L=n(y,b,S,c,!0),T=L[0],k=L[2];b["_"+c+"autoBinFinished"]=1,b["_"+c+"pos0"]=L[1],k?m.push(b):C=Math.min(C,T.size)}var _=new Array(m.length);for(E=0;E<m.length;E++)for(var B=m[E]["_"+c+"pos0"],F=0;F<B.length;F++)if(B[F]!==void 0){_[E]=B[F];break}for(isFinite(C)||(C=P.distinctVals(_).minDiff),E=0;E<m.length;E++){b=m[E];var O=b[c+"calendar"],N={start:S.c2r(_[E]-C/2,0,O),end:S.c2r(_[E]+C/2,0,O),size:C};b._input[o]=b[o]=N,s=d._histogramBinOpts[b["_"+c+"bingroup"]],s&&P.extendFlat(s,N)}return h[o]}function f(y,h){for(var S=h.xaxis,c=h.yaxis,o=h.orientation,d=[],w=y._fullData,A=0;A<w.length;A++){var C=w[A];C.type==="histogram"&&C.visible===!0&&C.orientation===o&&C.xaxis===S&&C.yaxis===c&&d.push(C)}return d}function l(y,h,S){var c,o,d;function w(C){d=y[C],y[C]/=2}function A(C){o=y[C],y[C]=d+o/2,d+=o}if(S==="half")if(h==="increasing")for(w(0),c=1;c<y.length;c++)A(c);else for(w(y.length-1),c=y.length-2;c>=0;c--)A(c);else if(h==="increasing"){for(c=1;c<y.length;c++)y[c]+=y[c-1];S==="exclude"&&(y.unshift(0),y.pop())}else{for(c=y.length-2;c>=0;c--)y[c]+=y[c+1];S==="exclude"&&(y.push(0),y.shift())}}j.exports={calc:i,calcAllAutoBins:n}},73316:function(j){j.exports={eventDataKeys:["binNumber"]}},80536:function(j,H,e){var g=e(3400),P=e(79811),a=e(24040).traceIs,x=e(20011),M=e(31508).validateCornerradius,v=g.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];j.exports=function(n,u){var f=u._histogramBinOpts={},l=[],y={},h=[],S,c,o,d,w,A,C;function m(ne,ue){return g.coerce(S._input,S,S._module.attributes,ne,ue)}function E(ne){return ne.orientation==="v"?"x":"y"}function b(ne,ue){var J=P.getFromTrace({_fullLayout:u},ne,ue);return J.type}function s(ne,ue,J){var X=ne.uid+"__"+J;ue||(ue=X);var oe=b(ne,J),Y=ne[J+"calendar"]||"",q=f[ue],se=!0;q&&(oe===q.axType&&Y===q.calendar?(se=!1,q.traces.push(ne),q.dirs.push(J)):(ue=X,oe!==q.axType&&g.warn(["Attempted to group the bins of trace",ne.index,"set on a","type:"+oe,"axis","with bins on","type:"+q.axType,"axis."].join(" ")),Y!==q.calendar&&g.warn(["Attempted to group the bins of trace",ne.index,"set with a",Y,"calendar","with bins",q.calendar?"on a "+q.calendar+" calendar":"w/o a set calendar"].join(" ")))),se&&(f[ue]={traces:[ne],dirs:[J],axType:oe,calendar:ne[J+"calendar"]||""}),ne["_"+J+"bingroup"]=ue}for(w=0;w<n.length;w++)if(S=n[w],a(S,"histogram")){if(l.push(S),delete S._xautoBinFinished,delete S._yautoBinFinished,S.type==="histogram"){var L=m("marker.cornerradius",u.barcornerradius);S.marker&&(S.marker.cornerradius=M(L))}a(S,"2dMap")||x(S._input,S,u,m)}var T=u._alignmentOpts||{};for(w=0;w<l.length;w++){if(S=l[w],o="",!a(S,"2dMap")){if(d=E(S),u.barmode==="group"&&S.alignmentgroup){var k=S[d+"axis"],_=p(u,k)+S.orientation;(T[_]||{})[S.alignmentgroup]&&(o=_)}!o&&u.barmode!=="overlay"&&(o=p(u,S.xaxis)+p(u,S.yaxis)+E(S))}o?(y[o]||(y[o]=[]),y[o].push(S)):h.push(S)}for(o in y){if(c=y[o],c.length===1){h.push(c[0]);continue}var B=!1;for(c.length&&(S=c[0],B=m("bingroup")),o=B||o,w=0;w<c.length;w++){S=c[w];var F=S._input.bingroup;F&&F!==o&&g.warn(["Trace",S.index,"must match","within bingroup",o+".","Ignoring its bingroup:",F,"setting."].join(" ")),S.bingroup=o,s(S,o,E(S))}}for(w=0;w<h.length;w++){S=h[w];var O=m("bingroup");if(a(S,"2dMap"))for(C=0;C<2;C++){d=t[C];var N=m(d+"bingroup",O?O+"__"+d:null);s(S,N,d)}else s(S,O,E(S))}for(o in f){var z=f[o];for(c=z.traces,A=0;A<r.length;A++){var V=r[A],W=V.name,$,re;if(!(W==="nbins"&&z.sizeFound)){for(w=0;w<c.length;w++){if(S=c[w],d=z.dirs[w],$=V.aStr[d],v(S._input,$).get()!==void 0){z[W]=m($),z[W+"Found"]=!0;break}re=(S._autoBin||{})[d]||{},re[W]&&v(S,$).set(re[W])}if(W==="start"||W==="end")for(;w<c.length;w++)S=c[w],S["_"+d+"bingroup"]&&(re=(S._autoBin||{})[d]||{},m($,re[W]));W==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(S=c[0],z[W]=m($))}}}}},6616:function(j,H,e){var g=e(24040),P=e(3400),a=e(76308),x=e(31508).handleText,M=e(55592),v=e(40196);j.exports=function(r,t,i,n){function u(E,b){return P.coerce(r,t,v,E,b)}var f=u("x"),l=u("y"),y=u("cumulative.enabled");y&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text");var h=u("textposition");x(r,t,n,u,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat");var S=u("orientation",l&&!f?"h":"v"),c=S==="v"?"x":"y",o=S==="v"?"y":"x",d=f&&l?Math.min(P.minRowLength(f)&&P.minRowLength(l)):P.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var w=g.getComponentMethod("calendars","handleTraceDefaults");w(r,t,["x","y"],n);var A=t[o];A&&u("histfunc"),u("histnorm"),u("autobin"+c),M(r,t,u,i,n),P.coerceSelectionMarkerOpacity(t,u);var C=(t.marker.line||{}).color,m=g.getComponentMethod("errorbars","supplyDefaults");m(r,t,C||a.defaultLine,{axis:"y"}),m(r,t,C||a.defaultLine,{axis:"x",inherit:"y"})}},84980:function(j){j.exports=function(e,g,P,a,x){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(P.cumulative||{}).enabled){var M=Array.isArray(x)?a[0].pts[x[0]][x[1]]:a[x].pts;e.pointNumbers=M,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<M.length;p++)v=v.concat(P._indexToPoints[M[p]])}else v=M;e.pointIndices=v}return e}},43339:function(j,H,e){var g=e(63400).hoverPoints,P=e(54460).hoverLabelText;j.exports=function(x,M,v,p,r){var t=g(x,M,v,p,r);if(t){x=t[0];var i=x.cd[x.index],n=x.cd[0].trace;if(!n.cumulative.enabled){var u=n.orientation==="h"?"y":"x";x[u+"Label"]=P(x[u+"a"],[i.ph0,i.ph1],n[u+"hoverformat"])}return t}}},42600:function(j,H,e){j.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(j){j.exports={percent:function(H,e){for(var g=H.length,P=100/e,a=0;a<g;a++)H[a]*=P},probability:function(H,e){for(var g=H.length,P=0;P<g;P++)H[P]/=e},density:function(H,e,g,P){var a=H.length;P=P||1;for(var x=0;x<a;x++)H[x]*=g[x]*P},"probability density":function(H,e,g,P){var a=H.length;P&&(e/=P);for(var x=0;x<a;x++)H[x]*=g[x]/e}}},37008:function(j,H,e){var g=e(40196),P=e(11120),a=e(83328),x=e(45464),M=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;j.exports=t({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:P("x"),nbinsy:g.nbinsy,ybins:P("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:t({},g.bingroup,{}),xbingroup:t({},g.bingroup,{}),ybingroup:t({},g.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:t({},x.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(j,H,e){var g=e(3400),P=e(54460),a=e(16964),x=e(10648),M=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;j.exports=function(u,f){var l=P.getFromId(u,f.xaxis),y=P.getFromId(u,f.yaxis),h=f.xcalendar,S=f.ycalendar,c=function(He){return l.r2c(He,0,h)},o=function(He){return y.r2c(He,0,S)},d=function(He){return l.c2r(He,0,h)},w=function(He){return y.c2r(He,0,S)},A,C,m,E,b=p(u,f,l,"x"),s=b[0],L=b[1],T=p(u,f,y,"y"),k=T[0],_=T[1],B=f._length;L.length>B&&L.splice(B,L.length-B),_.length>B&&_.splice(B,_.length-B);var F=[],O=[],N=[],z=typeof s.size=="string",V=typeof k.size=="string",W=[],$=[],re=z?W:s,ne=V?$:k,ue=0,J=[],X=[],oe=f.histnorm,Y=f.histfunc,q=oe.indexOf("density")!==-1,se=Y==="max"||Y==="min",Q=se?null:0,K=a.count,le=x[oe],ie=!1,ce=[],ye=[],Ce="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";Ce&&Y!=="count"&&(ie=Y==="avg",K=a[Y]);var Ae=s.size,ke=c(s.start),we=c(s.end)+(ke-P.tickIncrement(ke,Ae,!1,h))/1e6;for(A=ke;A<we;A=P.tickIncrement(A,Ae,!1,h))O.push(Q),W.push(A),ie&&N.push(0);W.push(A);var Ee=O.length,xe=(A-ke)/Ee,Pe=d(ke+xe/2),Ue=k.size,Be=o(k.start),Ne=o(k.end)+(Be-P.tickIncrement(Be,Ue,!1,S))/1e6;for(A=Be;A<Ne;A=P.tickIncrement(A,Ue,!1,S)){F.push(O.slice()),$.push(A);var Xe=new Array(Ee);for(C=0;C<Ee;C++)Xe[C]=[];X.push(Xe),ie&&J.push(N.slice())}$.push(A);var ut=F.length,dt=(A-Be)/ut,at=w(Be+dt/2);q&&(ce=r(O.length,re,xe,z),ye=r(F.length,ne,dt,V)),!z&&l.type==="date"&&(re=t(c,re)),!V&&y.type==="date"&&(ne=t(o,ne));var We=!0,rt=!0,st=new Array(Ee),ht=new Array(ut),vt=1/0,At=1/0,et=1/0,_e=1/0;for(A=0;A<B;A++){var Ve=L[A],Ze=_[A];m=g.findBin(Ve,re),E=g.findBin(Ze,ne),m>=0&&m<Ee&&E>=0&&E<ut&&(ue+=K(m,A,F[E],Ce,J[E]),X[E][m].push(A),We&&(st[m]===void 0?st[m]=Ve:st[m]!==Ve&&(We=!1)),rt&&(ht[E]===void 0?ht[E]=Ze:ht[E]!==Ze&&(rt=!1)),vt=Math.min(vt,Ve-W[m]),At=Math.min(At,W[m+1]-Ve),et=Math.min(et,Ze-$[E]),_e=Math.min(_e,$[E+1]-Ze))}if(ie)for(E=0;E<ut;E++)ue+=M(F[E],J[E]);if(le)for(E=0;E<ut;E++)le(F[E],ue,ce,ye[E]);return{x:L,xRanges:i(W,We&&st,vt,At,l,h),x0:Pe,dx:xe,y:_,yRanges:i($,rt&&ht,et,_e,y,S),y0:at,dy:dt,z:F,pts:X}};function r(n,u,f,l){var y=new Array(n),h;if(l)for(h=0;h<n;h++)y[h]=1/(u[h+1]-u[h]);else{var S=1/f;for(h=0;h<n;h++)y[h]=S}return y}function t(n,u){return{start:n(u.start),end:n(u.end),size:u.size}}function i(n,u,f,l,y,h){var S,c=n.length-1,o=new Array(c),d=v(f,l,n,y,h);for(S=0;S<c;S++){var w=(u||[])[S];o[S]=w===void 0?[d(n[S]),d(n[S+1],!0)]:[w,w]}return o}},99784:function(j,H,e){var g=e(3400),P=e(56408),a=e(82748),x=e(27260),M=e(39096),v=e(37008);j.exports=function(r,t,i,n){function u(f,l){return g.coerce(r,t,v,f,l)}P(r,t,u,n),t.visible!==!1&&(a(r,t,u,n),x(r,t,n,u,{prefix:"",cLetter:"z"}),u("hovertemplate"),M(u,n),u("xhoverformat"),u("yhoverformat"))}},59576:function(j,H,e){var g=e(55512),P=e(54460).hoverLabelText;j.exports=function(x,M,v,p,r){var t=g(x,M,v,p,r);if(t){x=t[0];var i=x.index,n=i[0],u=i[1],f=x.cd[0],l=f.trace,y=f.xRanges[u],h=f.yRanges[n];return x.xLabel=P(x.xa,[y[0],y[1]],l.xhoverformat),x.yLabel=P(x.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(j,H,e){j.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(j,H,e){var g=e(24040),P=e(3400);j.exports=function(x,M,v,p){var r=v("x"),t=v("y"),i=P.minRowLength(r),n=P.minRowLength(t);if(!i||!n){M.visible=!1;return}M._length=Math.min(i,n);var u=g.getComponentMethod("calendars","handleTraceDefaults");u(x,M,["x","y"],p);var f=v("z")||v("marker.color");f&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(j,H,e){var g=e(37008),P=e(67104),a=e(49084),x=e(29736).axisHoverFormat,M=e(92880).extendFlat;j.exports=M({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:M({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z",1),hovertemplate:g.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(j,H,e){var g=e(3400),P=e(56408),a=e(84952),x=e(97680),M=e(39096),v=e(81220);j.exports=function(r,t,i,n){function u(l,y){return g.coerce(r,t,v,l,y)}function f(l){return g.coerce2(r,t,v,l)}P(r,t,u,n),t.visible!==!1&&(a(r,t,u,f),x(r,t,u,n),u("xhoverformat"),u("yhoverformat"),u("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&M(u,n))}},65664:function(j,H,e){j.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(j,H,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(49084),x=e(86968).u,M=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,i=e(98192).c;j.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:i,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:M.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:r.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:M.sort,root:v.root,domain:x({name:"icicle",trace:!0,editType:"calc"})}},59564:function(j,H,e){var g=e(7316);H.name="icicle",H.plot=function(P,a,x,M){g.plotBasePlot(H.name,P,a,x,M)},H.clean=function(P,a,x,M){g.cleanBasePlot(H.name,P,a,x,M)}},73876:function(j,H,e){var g=e(3776);H.r=function(P,a){return g.calc(P,a)},H.q=function(P){return g._runCrossTraceCalc("icicle",P)}},7045:function(j,H,e){var g=e(3400),P=e(97376),a=e(76308),x=e(86968).Q,M=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;j.exports=function(u,f,l,y){function h(m,E){return g.coerce(u,f,P,m,E)}var S=h("labels"),c=h("parents");if(!S||!S.length||!c||!c.length){f.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),f.texttemplate||h("textinfo",g.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var w=h("pathbar.visible"),A="auto";M(u,f,y,h,A,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(u,f,y,h);var C=f._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;C&&i(u,f,y,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",C?1:.7),f._hovered={marker:{line:{width:2,color:a.contrast(y.paper_bgcolor)}}},w&&(h("pathbar.thickness",f.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),x(f,y,h),f._length=null}},67880:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=e(72736),M=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,n=!1;j.exports=function(f,l,y,h,S){var c=S.width,o=S.height,d=S.viewX,w=S.viewY,A=S.pathSlice,C=S.toMoveInsideSlice,m=S.strTransform,E=S.hasTransition,b=S.handleSlicesExit,s=S.makeUpdateSliceInterpolator,L=S.makeUpdateTextInterpolator,T=S.prevEntry,k={},_=f._context.staticPlot,B=f._fullLayout,F=l[0],O=F.trace,N=O.textposition.indexOf("left")!==-1,z=O.textposition.indexOf("right")!==-1,V=O.textposition.indexOf("bottom")!==-1,W=M(y,[c,o],{flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,orientation:O.tiling.orientation,pad:{inner:O.tiling.pad},maxDepth:O._maxDepth}),$=W.descendants(),re=1/0,ne=-1/0;$.forEach(function(Y){var q=Y.depth;q>=O._maxDepth?(Y.x0=Y.x1=(Y.x0+Y.x1)/2,Y.y0=Y.y1=(Y.y0+Y.y1)/2):(re=Math.min(re,q),ne=Math.max(ne,q))}),h=h.data($,r.getPtId),O._maxVisibleLayers=isFinite(ne)?ne-re+1:0,h.enter().append("g").classed("slice",!0),b(h,n,k,[c,o],A),h.order();var ue=null;if(E&&T){var J=r.getPtId(T);h.each(function(Y){ue===null&&r.getPtId(Y)===J&&(ue={x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1})})}var X=function(){return ue||{x0:0,x1:c,y0:0,y1:o}},oe=h;return E&&(oe=oe.transition().each("end",function(){var Y=g.select(this);r.setSliceCursor(Y,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),oe.each(function(Y){Y._x0=d(Y.x0),Y._x1=d(Y.x1),Y._y0=w(Y.y0),Y._y1=w(Y.y1),Y._hoverX=d(Y.x1-O.tiling.pad),Y._hoverY=w(V?Y.y1-O.tiling.pad/2:Y.y0+O.tiling.pad/2);var q=g.select(this),se=P.ensureSingle(q,"path","surface",function(ie){ie.style("pointer-events",_?"none":"all")});E?se.transition().attrTween("d",function(ie){var ce=s(ie,n,X(),[c,o],{orientation:O.tiling.orientation,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1});return function(ye){return A(ce(ye))}}):se.attr("d",A),q.call(t,y,f,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),se.call(v,Y,O,f,{hovered:!1}),Y.x0===Y.x1||Y.y0===Y.y1?Y._text="":Y._text=i(Y,y,O,l,B)||"";var Q=P.ensureSingle(q,"g","slicetext"),K=P.ensureSingle(Q,"text","",function(ie){ie.attr("data-notex",1)}),le=P.ensureUniformFontSize(f,r.determineTextFont(O,Y,B.font));K.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":N?"start":"middle").call(a.font,le).call(x.convertToTspans,f),Y.textBB=a.bBox(K.node()),Y.transform=C(Y,{fontSize:le.size}),Y.transform.fontSize=le.size,E?K.transition().attrTween("transform",function(ie){var ce=L(ie,n,X(),[c,o]);return function(ye){return m(ce(ye))}}):K.attr("transform",m(Y))}),ue}},29044:function(j,H,e){j.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(j){j.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(j,H,e){var g=e(3400),P=e(90676);j.exports=function(x,M){function v(p,r){return g.coerce(x,M,P,p,r)}v("iciclecolorway",M.colorway),v("extendiciclecolors")}},25132:function(j,H,e){var g=e(74148),P=e(83024);j.exports=function(x,M,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",i=v.maxDepth,n=M[0],u=M[1];i&&(n=(x.height+1)*M[0]/Math.min(x.height+1,i),u=(x.height+1)*M[1]/Math.min(x.height+1,i));var f=g.partition().padding(v.pad.inner).size(t?[M[1],n]:[M[0],u])(x);return(t||p||r)&&P(f,M,{swapXY:t,flipX:p,flipY:r}),f}},38364:function(j,H,e){var g=e(95808),P=e(67880);j.exports=function(x,M,v,p){return g(x,M,v,p,{type:"icicle",drawDescendants:P})}},47192:function(j,H,e){var g=e(33428),P=e(76308),a=e(3400),x=e(82744).resizeText,M=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");x(r,t,"icicle"),t.each(function(i){var n=g.select(this),u=i[0],f=u.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(p,l,f,r)})})}function p(r,t,i,n){var u=t.data.data,f=!t.children,l=u.i,y=a.castOption(i,l,"marker.line.color")||P.defaultLine,h=a.castOption(i,l,"marker.line.width")||0;r.call(M,t,i,n).style("stroke-width",h).call(P.stroke,y).style("opacity",f?i.leaf.opacity:null)}j.exports={style:v,styleOne:p}},95188:function(j,H,e){for(var g=e(45464),P=e(21776).Ks,a=e(92880).extendFlat,x=e(47797).colormodel,M=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],r=0;r<M.length;r++){var t=x[M[r]];v.push("For the `"+M[r]+"` colormodel, it is ["+(t.zminDflt||t.min).join(", ")+"]."),p.push("For the `"+M[r]+"` colormodel, it is ["+(t.zmaxDflt||t.max).join(", ")+"].")}j.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:M,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:P({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(j,H,e){var g=e(3400),P=e(47797),a=e(38248),x=e(54460),M=e(3400).maxRowLength,v=e(18712).i;j.exports=function(n,u){var f,l;if(u._hasZ)f=u.z.length,l=M(u.z);else if(u._hasSource){var y=v(u.source);f=y.height,l=y.width}var h=x.getFromId(n,u.xaxis||"x"),S=x.getFromId(n,u.yaxis||"y"),c=h.d2c(u.x0)-u.dx/2,o=S.d2c(u.y0)-u.dy/2,d,w=[c,c+l*u.dx],A=[o,o+f*u.dy];if(h&&h.type==="log")for(d=0;d<l;d++)w.push(c+d*u.dx);if(S&&S.type==="log")for(d=0;d<f;d++)A.push(o+d*u.dy);u._extremes[h._id]=x.findExtremes(h,w),u._extremes[S._id]=x.findExtremes(S,A),u._scaler=t(u);var C={x0:c,y0:o,z:u.z,w:l,h:f};return[C]};function p(i,n,u,f){return function(l){return g.constrain((l-i)*n,u,f)}}function r(i,n){return function(u){return g.constrain(u,i,n)}}function t(i){var n=P.colormodel[i.colormodel],u=n.colormodel||i.colormodel,f=u.length;i._sArray=[];for(var l=0;l<f;l++)n.min[l]!==i.zmin[l]||n.max[l]!==i.zmax[l]?i._sArray.push(p(i.zmin[l],(n.max[l]-n.min[l])/(i.zmax[l]-i.zmin[l]),n.min[l],n.max[l])):i._sArray.push(r(n.min[l],n.max[l]));return function(y){for(var h=y.slice(0,f),S=0;S<f;S++){var c=h[S];if(!a(c))return!1;h[S]=i._sArray[S](c)}return h}}},47797:function(j){j.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(H){return H.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(H){var e=H.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(H){var e=H.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(j,H,e){var g=e(3400),P=e(95188),a=e(47797),x=e(81792).IMAGE_URL_PREFIX;j.exports=function(v,p){function r(n,u){return g.coerce(v,p,P,n,u)}r("source"),p.source&&!p.source.match(x)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var i;p._hasZ?(r("colormodel","rgb"),i=a.colormodel[p.colormodel],r("zmin",i.zminDflt||i.min),r("zmax",i.zmaxDflt||i.max)):p._hasSource&&(p.colormodel="rgba256",i=a.colormodel[p.colormodel],p.zmin=i.zminDflt,p.zmax=i.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null}},79972:function(j){j.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},18712:function(j,H,e){var g=e(19480),P=e(81792).IMAGE_URL_PREFIX,a=e(33576).Buffer;H.i=function(x){var M=x.replace(P,""),v=new a(M,"base64");return g(v)}},24892:function(j,H,e){var g=e(93024),P=e(3400),a=P.isArrayOrTypedArray,x=e(47797);j.exports=function(v,p,r){var t=v.cd[0],i=t.trace,n=v.xa,u=v.ya;if(!(g.inbox(p-t.x0,p-(t.x0+t.w*i.dx),0)>0||g.inbox(r-t.y0,r-(t.y0+t.h*i.dy),0)>0)){var f=Math.floor((p-t.x0)/i.dx),l=Math.floor(Math.abs(r-t.y0)/i.dy),y;if(i._hasZ?y=t.z[l][f]:i._hasSource&&(y=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(f,l,1,1).data),!!y){var h=t.hi||i.hoverinfo,S;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(S=!0)}var o=x.colormodel[i.colormodel],d=o.colormodel||i.colormodel,w=d.length,A=i._scaler(y),C=o.suffix,m=[];(i.hovertemplate||S)&&(m.push("["+[A[0]+C[0],A[1]+C[1],A[2]+C[2]].join(", ")),w===4&&m.push(", "+A[3]+C[3]),m.push("]"),m=m.join(""),v.extraText=d.toUpperCase()+": "+m);var E;a(i.hovertext)&&a(i.hovertext[l])?E=i.hovertext[l][f]:a(i.text)&&a(i.text[l])&&(E=i.text[l][f]);var b=u.c2p(t.y0+(l+.5)*i.dy),s=t.x0+(f+.5)*i.dx,L=t.y0+(l+.5)*i.dy,T="["+y.slice(0,i.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[l,f],x0:n.c2p(t.x0+f*i.dx),x1:n.c2p(t.x0+(f+1)*i.dx),y0:b,y1:b,color:A,xVal:s,xLabelVal:s,yVal:L,yLabelVal:L,zLabelVal:T,text:E,hovertemplateLabels:{zLabel:T,colorLabel:m,"color[0]Label":A[0]+C[0],"color[1]Label":A[1]+C[1],"color[2]Label":A[2]+C[2],"color[3]Label":A[3]+C[3]}})]}}}},48928:function(j,H,e){j.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(j,H,e){var g=e(33428),P=e(3400),a=P.strTranslate,x=e(9616),M=e(47797),v=e(9188),p=e(2264).STYLE;j.exports=function(t,i,n,u){var f=i.xaxis,l=i.yaxis,y=!t._context._exportedPlot&&v();P.makeTraceGroups(u,n,"im").each(function(h){var S=g.select(this),c=h[0],o=c.trace,d=(o.zsmooth==="fast"||o.zsmooth===!1&&y)&&!o._hasZ&&o._hasSource&&f.type==="linear"&&l.type==="linear";o._realImage=d;var w=c.z,A=c.x0,C=c.y0,m=c.w,E=c.h,b=o.dx,s=o.dy,L,T,k,_,B,F;for(F=0;L===void 0&&F<m;)L=f.c2p(A+F*b),F++;for(F=m;T===void 0&&F>0;)T=f.c2p(A+F*b),F--;for(F=0;_===void 0&&F<E;)_=l.c2p(C+F*s),F++;for(F=E;B===void 0&&F>0;)B=l.c2p(C+F*s),F--;if(T<L&&(k=T,T=L,L=k),B<_&&(k=_,_=B,B=k),!d){var O=.5;L=Math.max(-O*f._length,L),T=Math.min((1+O)*f._length,T),_=Math.max(-O*l._length,_),B=Math.min((1+O)*l._length,B)}var N=Math.round(T-L),z=Math.round(B-_),V=N<=0||z<=0;if(V){var W=S.selectAll("image").data([]);W.exit().remove();return}function $(Q){var K=document.createElement("canvas");K.width=N,K.height=z;var le=K.getContext("2d",{willReadFrequently:!0}),ie=function(Be){return P.constrain(Math.round(f.c2p(A+Be*b)-L),0,N)},ce=function(Be){return P.constrain(Math.round(l.c2p(C+Be*s)-_),0,z)},ye=M.colormodel[o.colormodel],Ce=ye.colormodel||o.colormodel,Ae=ye.fmt,ke;for(F=0;F<c.w;F++){var we=ie(F),Ee=ie(F+1);if(!(Ee===we||isNaN(Ee)||isNaN(we)))for(var xe=0;xe<c.h;xe++){var Pe=ce(xe),Ue=ce(xe+1);Ue===Pe||isNaN(Ue)||isNaN(Pe)||!Q(F,xe)||(ke=o._scaler(Q(F,xe)),ke?le.fillStyle=Ce+"("+Ae(ke).join(",")+")":le.fillStyle="rgba(0,0,0,0)",le.fillRect(we,Pe,Ee-we,Ue-Pe))}}return K}var re=S.selectAll("image").data([h]);re.enter().append("svg:image").attr({xmlns:x.svg,preserveAspectRatio:"none"}),re.exit().remove();var ne=o.zsmooth===!1?p:"";if(d){var ue=P.simpleMap(f.range,f.r2l),J=P.simpleMap(l.range,l.r2l),X=ue[1]<ue[0],oe=J[1]>J[0];if(X||oe){var Y=L+N/2,q=_+z/2;ne+="transform:"+a(Y+"px",q+"px")+"scale("+(X?-1:1)+","+(oe?-1:1)+")"+a(-Y+"px",-q+"px")+";"}}re.attr("style",ne);var se=new Promise(function(Q){if(o._hasZ)Q();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===m&&o._canvas.el.height===E&&o._canvas.source===o.source)Q();else{var K=document.createElement("canvas");K.width=m,K.height=E;var le=K.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ie=o._image;ie.onload=function(){le.drawImage(ie,0,0),o._canvas={el:K,source:o.source},Q()},ie.setAttribute("src",o.source)}}).then(function(){var Q,K;if(o._hasZ)K=$(function(ce,ye){var Ce=w[ye][ce];return P.isTypedArray(Ce)&&(Ce=Array.from(Ce)),Ce}),Q=K.toDataURL("image/png");else if(o._hasSource)if(d)Q=o.source;else{var le=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ie=le.getImageData(0,0,m,E).data;K=$(function(ce,ye){var Ce=4*(ye*m+ce);return[ie[Ce],ie[Ce+1],ie[Ce+2],ie[Ce+3]]}),Q=K.toDataURL("image/png")}re.attr({"xlink:href":Q,height:z,width:N,x:L,y:_})});t._promises.push(se)})}},28576:function(j,H,e){var g=e(33428);j.exports=function(a){g.select(a).selectAll(".im image").style("opacity",function(x){return x[0].trace.opacity})}},89864:function(j,H,e){var g=e(92880).extendFlat,P=e(92880).extendDeep,a=e(67824).overrideAll,x=e(25376),M=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),i=e(29736).descriptionOnlyNumbers,n=x({editType:"plot",colorEditType:"plot"}),u={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",P({},u,{range:f}));j.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:i("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:i("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},u,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:f,visible:g({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:g({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:x({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:g({},u.line.color,{}),width:g({},u.line.width,{dflt:1}),editType:"plot"},thickness:g({},u.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(j,H,e){var g=e(7316);H.name="indicator",H.plot=function(P,a,x,M){g.plotBasePlot(H.name,P,a,x,M)},H.clean=function(P,a,x,M){g.cleanBasePlot(H.name,P,a,x,M)}},79136:function(j){function H(e,g){var P=[],a=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var x=g._lastValue,M=x;return g._hasDelta&&typeof g.delta.reference=="number"&&(M=g.delta.reference),P[0]={y:a,lastY:x,delta:a-M,relativeDelta:(a-M)/M},P}j.exports={calc:H}},12096:function(j){j.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(j,H,e){var g=e(3400),P=e(89864),a=e(86968).Q,x=e(31780),M=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),i=e(42568);function n(f,l,y,h){function S(B,F){return g.coerce(f,l,P,B,F)}a(l,h,S),S("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=S("value");l._range=[0,typeof c=="number"?1.5*c:1];var o=new Array(2),d;l._hasNumber&&(S("number.valueformat"),S("number.font.color",h.font.color),S("number.font.family",h.font.family),S("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,o[0]=!0),S("number.prefix"),S("number.suffix"),d=l.number.font.size);var w;l._hasDelta&&(S("delta.font.color",h.font.color),S("delta.font.family",h.font.family),S("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),o[1]=!0),S("delta.reference",l.value),S("delta.relative"),S("delta.valueformat",l.delta.relative?"2%":""),S("delta.increasing.symbol"),S("delta.increasing.color"),S("delta.decreasing.symbol"),S("delta.decreasing.color"),S("delta.position"),S("delta.prefix"),S("delta.suffix"),w=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||o[0])&&(!l._hasDelta||o[1])||!1,S("title.font.color",h.font.color),S("title.font.family",h.font.family),S("title.font.size",.25*(d||w||v.defaultNumberFontSize)),S("title.text");var A,C,m,E;function b(B,F){return g.coerce(A,C,P.gauge,B,F)}function s(B,F){return g.coerce(m,E,P.gauge.axis,B,F)}if(l._hasGauge){A=f.gauge,A||(A={}),C=x.newContainer(l,"gauge"),b("shape");var L=l._isBullet=l.gauge.shape==="bullet";L||S("title.align","center");var T=l._isAngular=l.gauge.shape==="angular";T||S("align","center"),b("bgcolor",h.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var k=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);b("bar.thickness",k),M(A,C,{name:"steps",handleItemDefaults:u}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),m={},A&&(m=A.axis||{}),E=x.newContainer(C,"axis"),s("visible"),l._range=s("range",l._range);var _={noAutotickangles:!0,outerTicks:!0};p(m,E,s,"linear"),i(m,E,s,"linear",_),t(m,E,s,"linear",_),r(m,E,s,_)}else S("title.align","center"),S("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function u(f,l){function y(h,S){return g.coerce(f,l,P.gauge.steps,h,S)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}j.exports={supplyDefaults:n}},43480:function(j,H,e){j.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(j,H,e){var g=e(33428),P=e(67756).qy,a=e(67756).Gz,x=e(3400),M=x.strScale,v=x.strTranslate,p=x.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),i=e(12096),n=e(72736),u=e(54460),f=e(28336),l=e(37668),y=e(94724),h=e(76308),S={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},o=/[yzafpnµmkMGTPEZY]/;function d(_){return _&&_.duration>0}j.exports=function(B,F,O,N){var z=B._fullLayout,V;d(O)&&N&&(V=N()),x.makeTraceGroups(z._indicatorlayer,F,"trace").each(function(W){var $=W[0],re=$.trace,ne=g.select(this),ue=re._hasGauge,J=re._isAngular,X=re._isBullet,oe=re.domain,Y={w:z._size.w*(oe.x[1]-oe.x[0]),h:z._size.h*(oe.y[1]-oe.y[0]),l:z._size.l+z._size.w*oe.x[0],r:z._size.r+z._size.w*(1-oe.x[1]),t:z._size.t+z._size.h*(1-oe.y[1]),b:z._size.b+z._size.h*oe.y[0]},q=Y.l+Y.w/2,se=Y.t+Y.h/2,Q=Math.min(Y.w/2,Y.h),K=i.innerRadius*Q,le,ie,ce,ye=re.align||"center";if(ie=se,!ue)le=Y.l+c[ye]*Y.w,ce=function(Ne){return s(Ne,Y.w,Y.h)};else if(J&&(le=q,ie=se+Q/2,ce=function(Ne){return L(Ne,.9*K)}),X){var Ce=i.bulletPadding,Ae=1-i.bulletNumberDomainSize+Ce;le=Y.l+(Ae+(1-Ae)*c[ye])*Y.w,ce=function(Ne){return s(Ne,(i.bulletNumberDomainSize-Ce)*Y.w,Y.h)}}C(B,ne,W,{numbersX:le,numbersY:ie,numbersScaler:ce,transitionOpts:O,onComplete:V});var ke,we;ue&&(ke={range:re.gauge.axis.range,color:re.gauge.bgcolor,line:{color:re.gauge.bordercolor,width:0},thickness:1},we={range:re.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:re.gauge.bordercolor,width:re.gauge.borderwidth},thickness:1});var Ee=ne.selectAll("g.angular").data(J?W:[]);Ee.exit().remove();var xe=ne.selectAll("g.angularaxis").data(J?W:[]);xe.exit().remove(),J&&A(B,ne,W,{radius:Q,innerRadius:K,gauge:Ee,layer:xe,size:Y,gaugeBg:ke,gaugeOutline:we,transitionOpts:O,onComplete:V});var Pe=ne.selectAll("g.bullet").data(X?W:[]);Pe.exit().remove();var Ue=ne.selectAll("g.bulletaxis").data(X?W:[]);Ue.exit().remove(),X&&w(B,ne,W,{gauge:Pe,layer:Ue,size:Y,gaugeBg:ke,gaugeOutline:we,transitionOpts:O,onComplete:V});var Be=ne.selectAll("text.title").data(W);Be.exit().remove(),Be.enter().append("text").classed("title",!0),Be.attr("text-anchor",function(){return X?S.right:S[re.title.align]}).text(re.title.text).call(t.font,re.title.font).call(n.convertToTspans,B),Be.attr("transform",function(){var Ne=Y.l+Y.w*c[re.title.align],Xe,ut=i.titlePadding,dt=t.bBox(Be.node());if(ue){if(J)if(re.gauge.axis.visible){var at=t.bBox(xe.node());Xe=at.top-ut-dt.bottom}else Xe=Y.t+Y.h/2-Q/2-dt.bottom-ut;X&&(Xe=ie-(dt.top+dt.bottom)/2,Ne=Y.l-i.bulletPadding*Y.w)}else Xe=re._numbersTop-ut-dt.bottom;return v(Ne,Xe)})})};function w(_,B,F,O){var N=F[0].trace,z=O.gauge,V=O.layer,W=O.gaugeBg,$=O.gaugeOutline,re=O.size,ne=N.domain,ue=O.transitionOpts,J=O.onComplete,X,oe,Y,q,se;z.enter().append("g").classed("bullet",!0),z.attr("transform",v(re.l,re.t)),V.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),V.selectAll("g.xbulletaxistick,path,text").remove();var Q=re.h,K=N.gauge.bar.thickness*Q,le=ne.x[0],ie=ne.x[0]+(ne.x[1]-ne.x[0])*(N._hasNumber||N._hasDelta?1-i.bulletNumberDomainSize:1);X=b(_,N.gauge.axis),X._id="xbulletaxis",X.domain=[le,ie],X.setScale(),oe=u.calcTicks(X),Y=u.makeTransTickFn(X),q=u.getTickSigns(X)[2],se=re.t+re.h,X.visible&&(u.drawTicks(_,X,{vals:X.ticks==="inside"?u.clipEnds(X,oe):oe,layer:V,path:u.makeTickPath(X,se,q),transFn:Y}),u.drawLabels(_,X,{vals:oe,layer:V,transFn:Y,labelFns:u.makeLabelFns(X,se)}));function ce(xe){xe.attr("width",function(Pe){return Math.max(0,X.c2p(Pe.range[1])-X.c2p(Pe.range[0]))}).attr("x",function(Pe){return X.c2p(Pe.range[0])}).attr("y",function(Pe){return .5*(1-Pe.thickness)*Q}).attr("height",function(Pe){return Pe.thickness*Q})}var ye=[W].concat(N.gauge.steps),Ce=z.selectAll("g.bg-bullet").data(ye);Ce.enter().append("g").classed("bg-bullet",!0).append("rect"),Ce.select("rect").call(ce).call(m),Ce.exit().remove();var Ae=z.selectAll("g.value-bullet").data([N.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",K).attr("y",(Q-K)/2).call(m),d(ue)?Ae.select("rect").transition().duration(ue.duration).ease(ue.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,X.c2p(Math.min(N.gauge.axis.range[1],F[0].y)))):Ae.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,X.c2p(Math.min(N.gauge.axis.range[1],F[0].y))):0),Ae.exit().remove();var ke=F.filter(function(){return N.gauge.threshold.value||N.gauge.threshold.value===0}),we=z.selectAll("g.threshold-bullet").data(ke);we.enter().append("g").classed("threshold-bullet",!0).append("line"),we.select("line").attr("x1",X.c2p(N.gauge.threshold.value)).attr("x2",X.c2p(N.gauge.threshold.value)).attr("y1",(1-N.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-N.gauge.threshold.thickness)/2)*Q).call(h.stroke,N.gauge.threshold.line.color).style("stroke-width",N.gauge.threshold.line.width),we.exit().remove();var Ee=z.selectAll("g.gauge-outline").data([$]);Ee.enter().append("g").classed("gauge-outline",!0).append("rect"),Ee.select("rect").call(ce).call(m),Ee.exit().remove()}function A(_,B,F,O){var N=F[0].trace,z=O.size,V=O.radius,W=O.innerRadius,$=O.gaugeBg,re=O.gaugeOutline,ne=[z.l+z.w/2,z.t+z.h/2+V/2],ue=O.gauge,J=O.layer,X=O.transitionOpts,oe=O.onComplete,Y=Math.PI/2;function q(We){var rt=N.gauge.axis.range[0],st=N.gauge.axis.range[1],ht=(We-rt)/(st-rt)*Math.PI-Y;return ht<-Y?-Y:ht>Y?Y:ht}function se(We){return g.svg.arc().innerRadius((W+V)/2-We/2*(V-W)).outerRadius((W+V)/2+We/2*(V-W)).startAngle(-Y)}function Q(We){We.attr("d",function(rt){return se(rt.thickness).startAngle(q(rt.range[0])).endAngle(q(rt.range[1]))()})}var K,le,ie,ce;ue.enter().append("g").classed("angular",!0),ue.attr("transform",v(ne[0],ne[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),K=b(_,N.gauge.axis),K.type="linear",K.range=N.gauge.axis.range,K._id="xangularaxis",K.ticklabeloverflow="allow",K.setScale();var ye=function(We){return(K.range[0]-We.x)/(K.range[1]-K.range[0])*Math.PI+Math.PI},Ce={},Ae=u.makeLabelFns(K,0),ke=Ae.labelStandoff;Ce.xFn=function(We){var rt=ye(We);return Math.cos(rt)*ke},Ce.yFn=function(We){var rt=ye(We),st=Math.sin(rt)>0?.2:1;return-Math.sin(rt)*(ke+We.fontSize*st)+Math.abs(Math.cos(rt))*(We.fontSize*r)},Ce.anchorFn=function(We){var rt=ye(We),st=Math.cos(rt);return Math.abs(st)<.1?"middle":st>0?"start":"end"},Ce.heightFn=function(We,rt,st){var ht=ye(We);return-.5*(1+Math.sin(ht))*st};var we=function(We){return v(ne[0]+V*Math.cos(We),ne[1]-V*Math.sin(We))};ie=function(We){return we(ye(We))};var Ee=function(We){var rt=ye(We);return we(rt)+"rotate("+-p(rt)+")"};if(le=u.calcTicks(K),ce=u.getTickSigns(K)[2],K.visible){ce=K.ticks==="inside"?-1:1;var xe=(K.linewidth||1)/2;u.drawTicks(_,K,{vals:le,layer:J,path:"M"+ce*xe+",0h"+ce*K.ticklen,transFn:Ee}),u.drawLabels(_,K,{vals:le,layer:J,transFn:ie,labelFns:Ce})}var Pe=[$].concat(N.gauge.steps),Ue=ue.selectAll("g.bg-arc").data(Pe);Ue.enter().append("g").classed("bg-arc",!0).append("path"),Ue.select("path").call(Q).call(m),Ue.exit().remove();var Be=se(N.gauge.bar.thickness),Ne=ue.selectAll("g.value-arc").data([N.gauge.bar]);Ne.enter().append("g").classed("value-arc",!0).append("path");var Xe=Ne.select("path");d(X)?(Xe.transition().duration(X.duration).ease(X.easing).each("end",function(){oe&&oe()}).each("interrupt",function(){oe&&oe()}).attrTween("d",E(Be,q(F[0].lastY),q(F[0].y))),N._lastValue=F[0].y):Xe.attr("d",typeof F[0].y=="number"?Be.endAngle(q(F[0].y)):"M0,0Z"),Xe.call(m),Ne.exit().remove(),Pe=[];var ut=N.gauge.threshold.value;(ut||ut===0)&&Pe.push({range:[ut,ut],color:N.gauge.threshold.color,line:{color:N.gauge.threshold.line.color,width:N.gauge.threshold.line.width},thickness:N.gauge.threshold.thickness});var dt=ue.selectAll("g.threshold-arc").data(Pe);dt.enter().append("g").classed("threshold-arc",!0).append("path"),dt.select("path").call(Q).call(m),dt.exit().remove();var at=ue.selectAll("g.gauge-outline").data([re]);at.enter().append("g").classed("gauge-outline",!0).append("path"),at.select("path").call(Q).call(m),at.exit().remove()}function C(_,B,F,O){var N=F[0].trace,z=O.numbersX,V=O.numbersY,W=N.align||"center",$=S[W],re=O.transitionOpts,ne=O.onComplete,ue=x.ensureSingle(B,"g","numbers"),J,X,oe,Y=[];N._hasNumber&&Y.push("number"),N._hasDelta&&(Y.push("delta"),N.delta.position==="left"&&Y.reverse());var q=ue.selectAll("text").data(Y);q.enter().append("text"),q.attr("text-anchor",function(){return $}).attr("class",function(we){return we}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),q.exit().remove();function se(we,Ee,xe,Pe){if(we.match("s")&&xe>=0!=Pe>=0&&!Ee(xe).slice(-1).match(o)&&!Ee(Pe).slice(-1).match(o)){var Ue=we.slice().replace("s","f").replace(/\d+/,function(Ne){return parseInt(Ne)-1}),Be=b(_,{tickformat:Ue});return function(Ne){return Math.abs(Ne)<1?u.tickText(Be,Ne).text:Ee(Ne)}}else return Ee}function Q(){var we=b(_,{tickformat:N.number.valueformat},N._range);we.setScale(),u.prepTicks(we);var Ee=function(Ne){return u.tickText(we,Ne).text},xe=N.number.suffix,Pe=N.number.prefix,Ue=ue.select("text.number");function Be(){var Ne=typeof F[0].y=="number"?Pe+Ee(F[0].y)+xe:"-";Ue.text(Ne).call(t.font,N.number.font).call(n.convertToTspans,_)}return d(re)?Ue.transition().duration(re.duration).ease(re.easing).each("end",function(){Be(),ne&&ne()}).each("interrupt",function(){Be(),ne&&ne()}).attrTween("text",function(){var Ne=g.select(this),Xe=a(F[0].lastY,F[0].y);N._lastValue=F[0].y;var ut=se(N.number.valueformat,Ee,F[0].lastY,F[0].y);return function(dt){Ne.text(Pe+ut(Xe(dt))+xe)}}):Be(),J=T(Pe+Ee(F[0].y)+xe,N.number.font,$,_),Ue}function K(){var we=b(_,{tickformat:N.delta.valueformat},N._range);we.setScale(),u.prepTicks(we);var Ee=function(dt){return u.tickText(we,dt).text},xe=N.delta.suffix,Pe=N.delta.prefix,Ue=function(dt){var at=N.delta.relative?dt.relativeDelta:dt.delta;return at},Be=function(dt,at){return dt===0||typeof dt!="number"||isNaN(dt)?"-":(dt>0?N.delta.increasing.symbol:N.delta.decreasing.symbol)+Pe+at(dt)+xe},Ne=function(dt){return dt.delta>=0?N.delta.increasing.color:N.delta.decreasing.color};N._deltaLastValue===void 0&&(N._deltaLastValue=Ue(F[0]));var Xe=ue.select("text.delta");Xe.call(t.font,N.delta.font).call(h.fill,Ne({delta:N._deltaLastValue}));function ut(){Xe.text(Be(Ue(F[0]),Ee)).call(h.fill,Ne(F[0])).call(n.convertToTspans,_)}return d(re)?Xe.transition().duration(re.duration).ease(re.easing).tween("text",function(){var dt=g.select(this),at=Ue(F[0]),We=N._deltaLastValue,rt=se(N.delta.valueformat,Ee,We,at),st=a(We,at);return N._deltaLastValue=at,function(ht){dt.text(Be(st(ht),rt)),dt.call(h.fill,Ne({delta:st(ht)}))}}).each("end",function(){ut(),ne&&ne()}).each("interrupt",function(){ut(),ne&&ne()}):ut(),X=T(Be(Ue(F[0]),Ee),N.delta.font,$,_),Xe}var le=N.mode+N.align,ie;if(N._hasDelta&&(ie=K(),le+=N.delta.position+N.delta.font.size+N.delta.font.family+N.delta.valueformat,le+=N.delta.increasing.symbol+N.delta.decreasing.symbol,oe=X),N._hasNumber&&(Q(),le+=N.number.font.size+N.number.font.family+N.number.valueformat+N.number.suffix+N.number.prefix,oe=J),N._hasDelta&&N._hasNumber){var ce=[(J.left+J.right)/2,(J.top+J.bottom)/2],ye=[(X.left+X.right)/2,(X.top+X.bottom)/2],Ce,Ae,ke=.75*N.delta.font.size;N.delta.position==="left"&&(Ce=k(N,"deltaPos",0,-1*(J.width*c[N.align]+X.width*(1-c[N.align])+ke),le,Math.min),Ae=ce[1]-ye[1],oe={width:J.width+X.width+ke,height:Math.max(J.height,X.height),left:X.left+Ce,right:J.right,top:Math.min(J.top,X.top+Ae),bottom:Math.max(J.bottom,X.bottom+Ae)}),N.delta.position==="right"&&(Ce=k(N,"deltaPos",0,J.width*(1-c[N.align])+X.width*c[N.align]+ke,le,Math.max),Ae=ce[1]-ye[1],oe={width:J.width+X.width+ke,height:Math.max(J.height,X.height),left:J.left,right:X.right+Ce,top:Math.min(J.top,X.top+Ae),bottom:Math.max(J.bottom,X.bottom+Ae)}),N.delta.position==="bottom"&&(Ce=null,Ae=X.height,oe={width:Math.max(J.width,X.width),height:J.height+X.height,left:Math.min(J.left,X.left),right:Math.max(J.right,X.right),top:J.bottom-J.height,bottom:J.bottom+X.height}),N.delta.position==="top"&&(Ce=null,Ae=J.top,oe={width:Math.max(J.width,X.width),height:J.height+X.height,left:Math.min(J.left,X.left),right:Math.max(J.right,X.right),top:J.bottom-J.height-X.height,bottom:J.bottom}),ie.attr({dx:Ce,dy:Ae})}(N._hasNumber||N._hasDelta)&&ue.attr("transform",function(){var we=O.numbersScaler(oe);le+=we[2];var Ee=k(N,"numbersScale",1,we[0],le,Math.min),xe;N._scaleNumbers||(Ee=1),N._isAngular?xe=V-Ee*oe.bottom:xe=V-Ee*(oe.top+oe.bottom)/2,N._numbersTop=Ee*oe.top+xe;var Pe=oe[W];W==="center"&&(Pe=(oe.left+oe.right)/2);var Ue=z-Ee*Pe;return Ue=k(N,"numbersTranslate",0,Ue,le,Math.max),v(Ue,xe)+M(Ee)})}function m(_){_.each(function(B){h.stroke(g.select(this),B.line.color)}).each(function(B){h.fill(g.select(this),B.color)}).style("stroke-width",function(B){return B.line.width})}function E(_,B,F){return function(){var O=P(B,F);return function(N){return _.endAngle(O(N))()}}}function b(_,B,F){var O=_._fullLayout,N=x.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},B),z={type:"linear",_id:"x"+B._id},V={letter:"x",font:O.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function W($,re){return x.coerce(N,z,y,$,re)}return f(N,z,W,V,O),l(N,z,W,V),z}function s(_,B,F){var O=Math.min(B/_.width,F/_.height);return[O,_,B+"x"+F]}function L(_,B){var F=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),O=B/F;return[O,_,B]}function T(_,B,F,O){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),z=g.select(N);return z.text(_).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",_).call(n.convertToTspans,O).call(t.font,B),t.bBox(z.node())}function k(_,B,F,O,N,z){var V="_cache"+B;_[V]&&_[V].key===N||(_[V]={key:N,value:F});var W=x.aggNums(z,null,[_[V].value,O],2);return _[V].value=W,W}},50048:function(j,H,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(52948),M=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var i=j.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},M.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:x.opacity,lightposition:x.lightposition,lighting:x.lighting,flatshading:x.flatshading,contour:x.contour,hoverinfo:v({},M.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},62624:function(j,H,e){var g=e(47128),P=e(3832).processGrid,a=e(3832).filter;j.exports=function(M,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,i=0;i<v._len;i++){var n=v._value[i];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,g(M,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(j,H,e){var g=e(67792).gl_mesh3d,P=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,x=e(43080),M=e(8932).extractOpts,v=e(52094),p=function(f,l){for(var y=l.length-1;y>0;y--){var h=Math.min(l[y],l[y-1]),S=Math.max(l[y],l[y-1]);if(S>h&&h<f&&f<=S)return{id:y,distRatio:(S-f)/(S-h)}}return{id:0,distRatio:0}};function r(f,l,y){this.scene=f,this.uid=y,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(f){if(f.object===this.mesh){var l=f.data.index,y=this.data._meshX[l],h=this.data._meshY[l],S=this.data._meshZ[l],c=this.data._Ys.length,o=this.data._Zs.length,d=p(y,this.data._Xs).id,w=p(h,this.data._Ys).id,A=p(S,this.data._Zs).id,C=f.index=A+o*w+o*c*d;f.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var m=this.data.hovertext||this.data.text;return a(m)&&m[C]!==void 0?f.textLabel=m[C]:m&&(f.textLabel=m),!0}},t.update=function(f){var l=this.scene,y=l.fullSceneLayout;this.data=n(f);function h(w,A,C,m){return A.map(function(E){return w.d2l(E,0,m)*C})}var S=v(h(y.xaxis,f._meshX,l.dataScale[0],f.xcalendar),h(y.yaxis,f._meshY,l.dataScale[1],f.ycalendar),h(y.zaxis,f._meshZ,l.dataScale[2],f.zcalendar)),c=v(f._meshI,f._meshJ,f._meshK),o={positions:S,cells:c,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:x(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},d=M(f);o.vertexIntensity=f._meshIntensity,o.vertexIntensityBounds=[d.min,d.max],o.colormap=P(f),this.mesh.update(o)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(f){f._meshI=[],f._meshJ=[],f._meshK=[];var l=f.surface.show,y=f.spaceframe.show,h=f.surface.fill,S=f.spaceframe.fill,c=!1,o=!1,d=0,w,A,C=f._Xs,m=f._Ys,E=f._Zs,b=C.length,s=m.length,L=E.length,T=i.indexOf(f._gridFill.replace(/-/g,"").replace(/\+/g,"")),k=function(Ze,He,Ie){switch(T){case 5:return Ie+L*He+L*s*Ze;case 4:return Ie+L*Ze+L*b*He;case 3:return He+s*Ie+s*L*Ze;case 2:return He+s*Ze+s*b*Ie;case 1:return Ze+b*Ie+b*L*He;default:return Ze+b*He+b*s*Ie}},_=f._minValues,B=f._maxValues,F=f._vMin,O=f._vMax,N,z,V,W;function $(Ze,He,Ie){for(var be=W.length,me=A;me<be;me++)if(Ze===N[me]&&He===z[me]&&Ie===V[me])return me;return-1}function re(){A=w}function ne(){N=[],z=[],V=[],W=[],w=0,re()}function ue(Ze,He,Ie,be){return N.push(Ze),z.push(He),V.push(Ie),W.push(be),w++,w-1}function J(Ze,He,Ie){return f._meshI.push(Ze),f._meshJ.push(He),f._meshK.push(Ie),d++,d-1}function X(Ze,He,Ie){for(var be=[],me=0;me<Ze.length;me++)be[me]=(Ze[me]+He[me]+Ie[me])/3;return be}function oe(Ze,He,Ie){for(var be=[],me=0;me<Ze.length;me++)be[me]=Ze[me]*(1-Ie)+Ie*He[me];return be}var Y;function q(Ze){Y=Ze}function se(Ze,He){var Ie=Ze[0],be=Ze[1],me=Ze[2],Me=X(Ie,be,me),Te=Math.sqrt(1-Y),Oe=oe(Me,Ie,Te),Ke=oe(Me,be,Te),nt=oe(Me,me,Te),pt=He[0],yt=He[1],Yt=He[2];return{xyzv:[[Ie,be,Ke],[Ke,Oe,Ie],[be,me,nt],[nt,Ke,be],[me,Ie,Oe],[Oe,nt,me]],abc:[[pt,yt,-1],[-1,-1,pt],[yt,Yt,-1],[-1,-1,yt],[Yt,pt,-1],[-1,-1,Yt]]}}function Q(Ze,He){return Ze==="all"||Ze===null?!0:Ze.indexOf(He)>-1}function K(Ze,He){return Ze===null?He:Ze}function le(Ze,He,Ie){re();var be=[He],me=[Ie];if(Y>=1)be=[He],me=[Ie];else if(Y>0){var Me=se(He,Ie);be=Me.xyzv,me=Me.abc}for(var Te=0;Te<be.length;Te++){He=be[Te],Ie=me[Te];for(var Oe=[],Ke=0;Ke<3;Ke++){var nt=He[Ke][0],pt=He[Ke][1],yt=He[Ke][2],Yt=He[Ke][3],Xt=Ie[Ke]>-1?Ie[Ke]:$(nt,pt,yt);Xt>-1?Oe[Ke]=Xt:Oe[Ke]=ue(nt,pt,yt,K(Ze,Yt))}J(Oe[0],Oe[1],Oe[2])}}function ie(Ze,He,Ie){var be=function(me,Me,Te){le(Ze,[He[me],He[Me],He[Te]],[Ie[me],Ie[Me],Ie[Te]])};be(0,1,2),be(2,3,0)}function ce(Ze,He,Ie){var be=function(me,Me,Te){le(Ze,[He[me],He[Me],He[Te]],[Ie[me],Ie[Me],Ie[Te]])};be(0,1,2),be(3,0,1),be(2,3,0),be(1,2,3)}function ye(Ze,He,Ie,be){var me=Ze[3];me<Ie&&(me=Ie),me>be&&(me=be);for(var Me=(Ze[3]-me)/(Ze[3]-He[3]+1e-9),Te=[],Oe=0;Oe<4;Oe++)Te[Oe]=(1-Me)*Ze[Oe]+Me*He[Oe];return Te}function Ce(Ze,He,Ie){return Ze>=He&&Ze<=Ie}function Ae(Ze){var He=.001*(O-F);return Ze>=F-He&&Ze<=O+He}function ke(Ze){for(var He=[],Ie=0;Ie<4;Ie++){var be=Ze[Ie];He.push([f._x[be],f._y[be],f._z[be],f._value[be]])}return He}var we=3;function Ee(Ze,He,Ie,be,me,Me){Me||(Me=1),Ie=[-1,-1,-1];var Te=!1,Oe=[Ce(He[0][3],be,me),Ce(He[1][3],be,me),Ce(He[2][3],be,me)];if(!Oe[0]&&!Oe[1]&&!Oe[2])return!1;var Ke=function(pt,yt,Yt){return Ae(yt[0][3])&&Ae(yt[1][3])&&Ae(yt[2][3])?(le(pt,yt,Yt),!0):Me<we?Ee(pt,yt,Yt,F,O,++Me):!1};if(Oe[0]&&Oe[1]&&Oe[2])return Ke(Ze,He,Ie)||Te;var nt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(pt){if(Oe[pt[0]]&&Oe[pt[1]]&&!Oe[pt[2]]){var yt=He[pt[0]],Yt=He[pt[1]],Xt=He[pt[2]],St=ye(Xt,yt,be,me),kt=ye(Xt,Yt,be,me);Te=Ke(Ze,[kt,St,yt],[-1,-1,Ie[pt[0]]])||Te,Te=Ke(Ze,[yt,Yt,kt],[Ie[pt[0]],Ie[pt[1]],-1])||Te,nt=!0}}),nt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(pt){if(Oe[pt[0]]&&!Oe[pt[1]]&&!Oe[pt[2]]){var yt=He[pt[0]],Yt=He[pt[1]],Xt=He[pt[2]],St=ye(Yt,yt,be,me),kt=ye(Xt,yt,be,me);Te=Ke(Ze,[kt,St,yt],[-1,-1,Ie[pt[0]]])||Te,nt=!0}}),Te}function xe(Ze,He,Ie,be){var me=!1,Me=ke(He),Te=[Ce(Me[0][3],Ie,be),Ce(Me[1][3],Ie,be),Ce(Me[2][3],Ie,be),Ce(Me[3][3],Ie,be)];if(!Te[0]&&!Te[1]&&!Te[2]&&!Te[3])return me;if(Te[0]&&Te[1]&&Te[2]&&Te[3])return o&&(me=ce(Ze,Me,He)||me),me;var Oe=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ke){if(Te[Ke[0]]&&Te[Ke[1]]&&Te[Ke[2]]&&!Te[Ke[3]]){var nt=Me[Ke[0]],pt=Me[Ke[1]],yt=Me[Ke[2]],Yt=Me[Ke[3]];if(o)me=le(Ze,[nt,pt,yt],[He[Ke[0]],He[Ke[1]],He[Ke[2]]])||me;else{var Xt=ye(Yt,nt,Ie,be),St=ye(Yt,pt,Ie,be),kt=ye(Yt,yt,Ie,be);me=le(null,[Xt,St,kt],[-1,-1,-1])||me}Oe=!0}}),Oe||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ke){if(Te[Ke[0]]&&Te[Ke[1]]&&!Te[Ke[2]]&&!Te[Ke[3]]){var nt=Me[Ke[0]],pt=Me[Ke[1]],yt=Me[Ke[2]],Yt=Me[Ke[3]],Xt=ye(yt,nt,Ie,be),St=ye(yt,pt,Ie,be),kt=ye(Yt,pt,Ie,be),Kt=ye(Yt,nt,Ie,be);o?(me=le(Ze,[nt,Kt,Xt],[He[Ke[0]],-1,-1])||me,me=le(Ze,[pt,St,kt],[He[Ke[1]],-1,-1])||me):me=ie(null,[Xt,St,kt,Kt],[-1,-1,-1,-1])||me,Oe=!0}}),Oe)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ke){if(Te[Ke[0]]&&!Te[Ke[1]]&&!Te[Ke[2]]&&!Te[Ke[3]]){var nt=Me[Ke[0]],pt=Me[Ke[1]],yt=Me[Ke[2]],Yt=Me[Ke[3]],Xt=ye(pt,nt,Ie,be),St=ye(yt,nt,Ie,be),kt=ye(Yt,nt,Ie,be);o?(me=le(Ze,[nt,Xt,St],[He[Ke[0]],-1,-1])||me,me=le(Ze,[nt,St,kt],[He[Ke[0]],-1,-1])||me,me=le(Ze,[nt,kt,Xt],[He[Ke[0]],-1,-1])||me):me=le(null,[Xt,St,kt],[-1,-1,-1])||me,Oe=!0}}),me}function Pe(Ze,He,Ie,be,me,Me,Te,Oe,Ke,nt,pt){var yt=!1;return c&&(Q(Ze,"A")&&(yt=xe(null,[He,Ie,be,Me],nt,pt)||yt),Q(Ze,"B")&&(yt=xe(null,[Ie,be,me,Ke],nt,pt)||yt),Q(Ze,"C")&&(yt=xe(null,[Ie,Me,Te,Ke],nt,pt)||yt),Q(Ze,"D")&&(yt=xe(null,[be,Me,Oe,Ke],nt,pt)||yt),Q(Ze,"E")&&(yt=xe(null,[Ie,be,Me,Ke],nt,pt)||yt)),o&&(yt=xe(Ze,[Ie,be,Me,Ke],nt,pt)||yt),yt}function Ue(Ze,He,Ie,be,me,Me,Te,Oe){return[Oe[0]===!0?!0:Ee(Ze,ke([He,Ie,be]),[He,Ie,be],Me,Te),Oe[1]===!0?!0:Ee(Ze,ke([be,me,He]),[be,me,He],Me,Te)]}function Be(Ze,He,Ie,be,me,Me,Te,Oe,Ke){return Oe?Ue(Ze,He,Ie,me,be,Me,Te,Ke):Ue(Ze,Ie,me,be,He,Me,Te,Ke)}function Ne(Ze,He,Ie,be,me,Me,Te){var Oe=!1,Ke,nt,pt,yt,Yt=function(){Oe=Ee(Ze,[Ke,nt,pt],[-1,-1,-1],me,Me)||Oe,Oe=Ee(Ze,[pt,yt,Ke],[-1,-1,-1],me,Me)||Oe},Xt=Te[0],St=Te[1],kt=Te[2];return Xt&&(Ke=oe(ke([k(He,Ie-0,be-0)])[0],ke([k(He-1,Ie-0,be-0)])[0],Xt),nt=oe(ke([k(He,Ie-0,be-1)])[0],ke([k(He-1,Ie-0,be-1)])[0],Xt),pt=oe(ke([k(He,Ie-1,be-1)])[0],ke([k(He-1,Ie-1,be-1)])[0],Xt),yt=oe(ke([k(He,Ie-1,be-0)])[0],ke([k(He-1,Ie-1,be-0)])[0],Xt),Yt()),St&&(Ke=oe(ke([k(He-0,Ie,be-0)])[0],ke([k(He-0,Ie-1,be-0)])[0],St),nt=oe(ke([k(He-0,Ie,be-1)])[0],ke([k(He-0,Ie-1,be-1)])[0],St),pt=oe(ke([k(He-1,Ie,be-1)])[0],ke([k(He-1,Ie-1,be-1)])[0],St),yt=oe(ke([k(He-1,Ie,be-0)])[0],ke([k(He-1,Ie-1,be-0)])[0],St),Yt()),kt&&(Ke=oe(ke([k(He-0,Ie-0,be)])[0],ke([k(He-0,Ie-0,be-1)])[0],kt),nt=oe(ke([k(He-0,Ie-1,be)])[0],ke([k(He-0,Ie-1,be-1)])[0],kt),pt=oe(ke([k(He-1,Ie-1,be)])[0],ke([k(He-1,Ie-1,be-1)])[0],kt),yt=oe(ke([k(He-1,Ie-0,be)])[0],ke([k(He-1,Ie-0,be-1)])[0],kt),Yt()),Oe}function Xe(Ze,He,Ie,be,me,Me,Te,Oe,Ke,nt,pt,yt){var Yt=Ze;return yt?(c&&Ze==="even"&&(Yt=null),Pe(Yt,He,Ie,be,me,Me,Te,Oe,Ke,nt,pt)):(c&&Ze==="odd"&&(Yt=null),Pe(Yt,Ke,Oe,Te,Me,me,be,Ie,He,nt,pt))}function ut(Ze,He,Ie,be,me){for(var Me=[],Te=0,Oe=0;Oe<He.length;Oe++)for(var Ke=He[Oe],nt=1;nt<L;nt++)for(var pt=1;pt<s;pt++)Me.push(Be(Ze,k(Ke,pt-1,nt-1),k(Ke,pt-1,nt),k(Ke,pt,nt-1),k(Ke,pt,nt),Ie,be,(Ke+pt+nt)%2,me&&me[Te]?me[Te]:[])),Te++;return Me}function dt(Ze,He,Ie,be,me){for(var Me=[],Te=0,Oe=0;Oe<He.length;Oe++)for(var Ke=He[Oe],nt=1;nt<b;nt++)for(var pt=1;pt<L;pt++)Me.push(Be(Ze,k(nt-1,Ke,pt-1),k(nt,Ke,pt-1),k(nt-1,Ke,pt),k(nt,Ke,pt),Ie,be,(nt+Ke+pt)%2,me&&me[Te]?me[Te]:[])),Te++;return Me}function at(Ze,He,Ie,be,me){for(var Me=[],Te=0,Oe=0;Oe<He.length;Oe++)for(var Ke=He[Oe],nt=1;nt<s;nt++)for(var pt=1;pt<b;pt++)Me.push(Be(Ze,k(pt-1,nt-1,Ke),k(pt-1,nt,Ke),k(pt,nt-1,Ke),k(pt,nt,Ke),Ie,be,(pt+nt+Ke)%2,me&&me[Te]?me[Te]:[])),Te++;return Me}function We(Ze,He,Ie){for(var be=1;be<L;be++)for(var me=1;me<s;me++)for(var Me=1;Me<b;Me++)Xe(Ze,k(Me-1,me-1,be-1),k(Me-1,me-1,be),k(Me-1,me,be-1),k(Me-1,me,be),k(Me,me-1,be-1),k(Me,me-1,be),k(Me,me,be-1),k(Me,me,be),He,Ie,(Me+me+be)%2)}function rt(Ze,He,Ie){o=!0,We(Ze,He,Ie),o=!1}function st(Ze,He,Ie){c=!0,We(Ze,He,Ie),c=!1}function ht(Ze,He,Ie,be,me,Me){for(var Te=[],Oe=0,Ke=0;Ke<He.length;Ke++)for(var nt=He[Ke],pt=1;pt<L;pt++)for(var yt=1;yt<s;yt++)Te.push(Ne(Ze,nt,yt,pt,Ie,be,me[Ke],Me&&Me[Oe]?Me[Oe]:[])),Oe++;return Te}function vt(Ze,He,Ie,be,me,Me){for(var Te=[],Oe=0,Ke=0;Ke<He.length;Ke++)for(var nt=He[Ke],pt=1;pt<b;pt++)for(var yt=1;yt<L;yt++)Te.push(Ne(Ze,pt,nt,yt,Ie,be,me[Ke],Me&&Me[Oe]?Me[Oe]:[])),Oe++;return Te}function At(Ze,He,Ie,be,me,Me){for(var Te=[],Oe=0,Ke=0;Ke<He.length;Ke++)for(var nt=He[Ke],pt=1;pt<s;pt++)for(var yt=1;yt<b;yt++)Te.push(Ne(Ze,yt,pt,nt,Ie,be,me[Ke],Me&&Me[Oe]?Me[Oe]:[])),Oe++;return Te}function et(Ze,He){for(var Ie=[],be=Ze;be<He;be++)Ie.push(be);return Ie}function _e(){for(var Ze=0;Ze<b;Ze++)for(var He=0;He<s;He++)for(var Ie=0;Ie<L;Ie++){var be=k(Ze,He,Ie);ue(f._x[be],f._y[be],f._z[be],f._value[be])}}function Ve(){ne(),_e();var Ze=null;if(y&&S&&(q(S),rt(Ze,F,O)),l&&h){q(h);for(var He=f.surface.pattern,Ie=f.surface.count,be=0;be<Ie;be++){var me=Ie===1?.5:be/(Ie-1),Me=(1-me)*F+me*O,Te=Math.abs(Me-_),Oe=Math.abs(Me-B),Ke=Te>Oe?[_,Me]:[Me,B];st(He,Ke[0],Ke[1])}}var nt=[[Math.min(F,B),Math.max(F,B)],[Math.min(_,O),Math.max(_,O)]];["x","y","z"].forEach(function(pt){for(var yt=[],Yt=0;Yt<nt.length;Yt++){var Xt=0,St=nt[Yt][0],kt=nt[Yt][1],Kt=f.slices[pt];if(Kt.show&&Kt.fill){q(Kt.fill);var mr=[],mt=[],Zt=[];if(Kt.locations.length)for(var Qt=0;Qt<Kt.locations.length;Qt++){var yr=p(Kt.locations[Qt],pt==="x"?C:pt==="y"?m:E);yr.distRatio===0?mr.push(yr.id):yr.id>0&&(mt.push(yr.id),pt==="x"?Zt.push([yr.distRatio,0,0]):pt==="y"?Zt.push([0,yr.distRatio,0]):Zt.push([0,0,yr.distRatio]))}else pt==="x"?mr=et(1,b-1):pt==="y"?mr=et(1,s-1):mr=et(1,L-1);mt.length>0&&(pt==="x"?yt[Xt]=ht(Ze,mt,St,kt,Zt,yt[Xt]):pt==="y"?yt[Xt]=vt(Ze,mt,St,kt,Zt,yt[Xt]):yt[Xt]=At(Ze,mt,St,kt,Zt,yt[Xt]),Xt++),mr.length>0&&(pt==="x"?yt[Xt]=ut(Ze,mr,St,kt,yt[Xt]):pt==="y"?yt[Xt]=dt(Ze,mr,St,kt,yt[Xt]):yt[Xt]=at(Ze,mr,St,kt,yt[Xt]),Xt++)}var sr=f.caps[pt];sr.show&&sr.fill&&(q(sr.fill),pt==="x"?yt[Xt]=ut(Ze,[0,b-1],St,kt,yt[Xt]):pt==="y"?yt[Xt]=dt(Ze,[0,s-1],St,kt,yt[Xt]):yt[Xt]=at(Ze,[0,L-1],St,kt,yt[Xt]),Xt++)}}),d===0&&ne(),f._meshX=N,f._meshY=z,f._meshZ=V,f._meshIntensity=W,f._Xs=C,f._Ys=m,f._Zs=E}return Ve(),f}function u(f,l){var y=f.glplot.gl,h=g({gl:y}),S=new r(f,h,l.uid);return h._trace=S,S.update(l),f.glplot.add(h),S}j.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:u}},70548:function(j,H,e){var g=e(3400),P=e(24040),a=e(50048),x=e(27260);function M(p,r,t,i){function n(u,f){return g.coerce(p,r,a,u,f)}v(p,r,t,i,n)}function v(p,r,t,i,n){var u=n("isomin"),f=n("isomax");f!=null&&u!==void 0&&u!==null&&u>f&&(r.isomin=null,r.isomax=null);var l=n("x"),y=n("y"),h=n("z"),S=n("value");if(!l||!l.length||!y||!y.length||!h||!h.length||!S||!S.length){r.visible=!1;return}var c=P.getComponentMethod("calendars","handleTraceDefaults");c(p,r,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(A){n(A+"hoverformat");var C="caps."+A,m=n(C+".show");m&&n(C+".fill");var E="slices."+A,b=n(E+".show");b&&(n(E+".fill"),n(E+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var w=n("contour.show");w&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){n(A)}),x(p,r,i,n,{prefix:"",cLetter:"c"}),r._length=null}j.exports={supplyDefaults:M,supplyIsoDefaults:v}},6296:function(j,H,e){j.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(j,H,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(16716),M=e(45464),v=e(92880).extendFlat;j.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:x.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},x.contours.x.show,{}),color:x.contours.x.color,width:x.contours.x.width,editType:"calc"},lightposition:{x:v({},x.lightposition.x,{dflt:1e5}),y:v({},x.lightposition.y,{dflt:1e5}),z:v({},x.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},x.lighting),hoverinfo:v({},M.hoverinfo,{editType:"calc"}),showlegend:v({},M.showlegend,{dflt:!1})})},1876:function(j,H,e){var g=e(47128);j.exports=function(a,x){x.intensity&&g(a,x,{vals:x.intensity,containerStr:"",cLetter:"c"})}},576:function(j,H,e){var g=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,a=e(67792).alpha_shape,x=e(67792).convex_hull,M=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function i(c,o,d){this.scene=c,this.uid=d,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(c){if(c.object===this.mesh){var o=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[o],this.data.y[o],this.data.z[o]];var d=this.data.hovertext||this.data.text;return v(d)&&d[o]!==void 0?c.textLabel=d[o]:d&&(c.textLabel=d),!0}};function u(c){for(var o=[],d=c.length,w=0;w<d;w++)o[w]=p(c[w]);return o}function f(c,o,d,w){for(var A=[],C=o.length,m=0;m<C;m++)A[m]=c.d2l(o[m],0,w)*d;return A}function l(c){for(var o=[],d=c.length,w=0;w<d;w++)o[w]=Math.round(c[w]);return o}function y(c,o){for(var d=["x","y","z"].indexOf(c),w=[],A=o.length,C=0;C<A;C++)w[C]=[o[C][(d+1)%3],o[C][(d+2)%3]];return P(w)}function h(c,o){for(var d=c.length,w=0;w<d;w++)if(c[w]<=-.5||c[w]>=o-.5)return!1;return!0}n.update=function(c){var o=this.scene,d=o.fullSceneLayout;this.data=c;var w=c.x.length,A=t(f(d.xaxis,c.x,o.dataScale[0],c.xcalendar),f(d.yaxis,c.y,o.dataScale[1],c.ycalendar),f(d.zaxis,c.z,o.dataScale[2],c.zcalendar)),C;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,w)||!h(c.j,w)||!h(c.k,w))return;C=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?C=x(A):c.alphahull>0?C=a(c.alphahull,A):C=y(c.delaunayaxis,A);var m={positions:A,cells:C,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:p(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var E=r(c);this.color="#fff";var b=c.intensitymode;m[b+"Intensity"]=c.intensity,m[b+"IntensityBounds"]=[E.min,E.max],m.colormap=M(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],m.vertexColors=u(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],m.cellColors=u(c.facecolor)):(this.color=c.color,m.meshColor=p(c.color));this.mesh.update(m)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function S(c,o){var d=c.glplot.gl,w=g({gl:d}),A=new i(c,w,o.uid);return w._trace=A,A.update(o),c.glplot.add(w),A}j.exports=S},74212:function(j,H,e){var g=e(24040),P=e(3400),a=e(27260),x=e(52948);j.exports=function(v,p,r,t){function i(y,h){return P.coerce(v,p,x,y,h)}function n(y){var h=y.map(function(S){var c=i(S);return c&&P.isArrayOrTypedArray(c)?c:null});return h.every(function(S){return S&&S.length===h[0].length})&&h}var u=n(["x","y","z"]);if(!u){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var f=g.getComponentMethod("calendars","handleTraceDefaults");f(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){i(y)});var l=i("contour.show");l&&(i("contour.color"),i("contour.width")),"intensity"in v?(i("intensity"),i("intensitymode"),a(v,p,t,i,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?i("facecolor"):"vertexcolor"in v?i("vertexcolor"):i("color",r)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),p._length=null}},7404:function(j,H,e){j.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(j,H,e){var g=e(3400).extendFlat,P=e(52904),a=e(29736).axisHoverFormat,x=e(98192).u,M=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function i(n){return{line:{color:g({},t.color,{dflt:n}),width:t.width,dash:x,editType:"style"},editType:"style"}}j.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},t.width,{}),dash:g({},x,{}),editType:"style"},increasing:i(p),decreasing:i(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(j,H,e){var g=e(3400),P=g._,a=e(54460),x=e(1220),M=e(39032).BADNUM;function v(i,n){var u=a.getFromId(i,n.xaxis),f=a.getFromId(i,n.yaxis),l=t(i,u,n),y=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var S=n._xcalc;n._xcalc=null;var c=r(i,n,h,S,f,p);return n._extremes[u._id]=a.findExtremes(u,S,{vpad:y/2}),c.length?(g.extendFlat(c[0].t,{wHover:y/2,tickLen:l}),c):[{t:{empty:!0}}]}function p(i,n,u,f){return{o:i,h:n,l:u,c:f}}function r(i,n,u,f,l,y){for(var h=l.makeCalcdata(n,"open"),S=l.makeCalcdata(n,"high"),c=l.makeCalcdata(n,"low"),o=l.makeCalcdata(n,"close"),d=g.isArrayOrTypedArray(n.text),w=g.isArrayOrTypedArray(n.hovertext),A=!0,C=null,m=!!n.xperiodalignment,E=[],b=0;b<f.length;b++){var s=f[b],L=h[b],T=S[b],k=c[b],_=o[b];if(s!==M&&L!==M&&T!==M&&k!==M&&_!==M){_===L?C!==null&&_!==C&&(A=_>C):A=_>L,C=_;var B=y(L,T,k,_);B.pos=s,B.yc=(L+_)/2,B.i=b,B.dir=A?"increasing":"decreasing",B.x=B.pos,B.y=[k,T],m&&(B.orig_p=u[b]),d&&(B.tx=n.text[b]),w&&(B.htx=n.hovertext[b]),E.push(B)}else E.push({pos:s,empty:!0})}return n._extremes[l._id]=a.findExtremes(l,g.concat(c,S),{padded:!0}),E.length&&(E[0].t={labels:{open:P(i,"open:")+" ",high:P(i,"high:")+" ",low:P(i,"low:")+" ",close:P(i,"close:")+" "}}),E}function t(i,n,u){var f=u._minDiff;if(!f){var l=i._fullData,y=[];f=1/0;var h;for(h=0;h<l.length;h++){var S=l[h];if(S.type==="ohlc"&&S.visible===!0&&S.xaxis===n._id){y.push(S);var c=n.makeCalcdata(S,"x");S._origX=c;var o=x(u,n,"x",c).vals;S._xcalc=o;var d=g.distinctVals(o).minDiff;d&&isFinite(d)&&(f=Math.min(f,d))}}for(f===1/0&&(f=1),h=0;h<y.length;h++)y[h]._minDiff=f}return f*u.tickwidth}j.exports={calc:v,calcCommon:r}},23860:function(j,H,e){var g=e(3400),P=e(52744),a=e(31147),x=e(20279);j.exports=function(p,r,t,i){function n(f,l){return g.coerce(p,r,x,f,l)}var u=P(p,r,n,i);if(!u){r.visible=!1;return}a(p,r,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),M(p,r,n,"increasing"),M(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[r.xaxis]=!0};function M(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(j,H,e){var g=e(54460),P=e(3400),a=e(93024),x=e(76308),M=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(u,f,l,y){var h=u.cd,S=h[0].trace;return S.hoverlabel.split?i(u,f,l,y):n(u,f,l,y)}function t(u,f,l,y){var h=u.cd,S=u.xa,c=h[0].trace,o=h[0].t,d=c.type,w=d==="ohlc"?"l":"min",A=d==="ohlc"?"h":"max",C,m,E=o.bPos||0,b=function(W){return W.pos+E-f},s=o.bdPos||o.tickLen,L=o.wHover,T=Math.min(1,s/Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0])));C=u.maxHoverDistance-T,m=u.maxSpikeDistance-T;function k(W){var $=b(W);return a.inbox($-L,$+L,C)}function _(W){var $=W[w],re=W[A];return $===re||a.inbox($-l,re-l,C)}function B(W){return(k(W)+_(W))/2}var F=a.getDistanceFunction(y,k,_,B);if(a.getClosest(h,F,u),u.index===!1)return null;var O=h[u.index];if(O.empty)return null;var N=O.dir,z=c[N],V=z.line.color;return x.opacity(V)&&z.line.width?u.color=V:u.color=z.fillcolor,u.x0=S.c2p(O.pos+E-s,!0),u.x1=S.c2p(O.pos+E+s,!0),u.xLabelVal=O.orig_p!==void 0?O.orig_p:O.pos,u.spikeDistance=B(O)*m/C,u.xSpike=S.c2p(O.pos,!0),u}function i(u,f,l,y){var h=u.cd,S=u.ya,c=h[0].trace,o=h[0].t,d=[],w=t(u,f,l,y);if(!w)return[];var A=w.index,C=h[A],m=C.hi||c.hoverinfo,E=m.split("+"),b=m==="all",s=b||E.indexOf("y")!==-1;if(!s)return[];for(var L=["high","open","close","low"],T={},k=0;k<L.length;k++){var _=L[k],B=c[_][w.index],F=S.c2p(B,!0),O;B in T?(O=T[B],O.yLabel+="<br>"+o.labels[_]+g.hoverLabelText(S,B,c.yhoverformat)):(O=P.extendFlat({},w),O.y0=O.y1=F,O.yLabelVal=B,O.yLabel=o.labels[_]+g.hoverLabelText(S,B,c.yhoverformat),O.name="",d.push(O),T[B]=O)}return d}function n(u,f,l,y){var h=u.cd,S=u.ya,c=h[0].trace,o=h[0].t,d=t(u,f,l,y);if(!d)return[];var w=d.index,A=h[w],C=d.index=A.i,m=A.dir;function E(B){return o.labels[B]+g.hoverLabelText(S,c[B][C],c.yhoverformat)}var b=A.hi||c.hoverinfo,s=b.split("+"),L=b==="all",T=L||s.indexOf("y")!==-1,k=L||s.indexOf("text")!==-1,_=T?[E("open"),E("high"),E("low"),E("close")+"  "+p[m]]:[];return k&&M(A,c,_),d.extraText=_.join("<br>"),d.y0=d.y1=S.c2p(A.yc,!0),[d]}j.exports={hoverPoints:r,hoverSplit:i,hoverOnPoints:n}},65456:function(j,H,e){j.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(j,H,e){var g=e(24040),P=e(3400);j.exports=function(x,M,v,p){var r=v("x"),t=v("open"),i=v("high"),n=v("low"),u=v("close");v("hoverlabel.split");var f=g.getComponentMethod("calendars","handleTraceDefaults");if(f(x,M,["x"],p),!!(t&&i&&n&&u)){var l=Math.min(t.length,i.length,n.length,u.length);return r&&(l=Math.min(l,P.minRowLength(r))),M._length=l,l}}},36664:function(j,H,e){var g=e(33428),P=e(3400);j.exports=function(x,M,v,p){var r=M.yaxis,t=M.xaxis,i=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var u=g.select(this),f=n[0],l=f.t,y=f.trace;if(y.visible!==!0||l.empty){u.remove();return}var h=l.tickLen,S=u.selectAll("path").data(P.identity);S.enter().append("path"),S.exit().remove(),S.attr("d",function(c){if(c.empty)return"M0,0Z";var o=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),w=i?(o+d)/2:t.c2p(c.pos,!0),A=r.c2p(c.o,!0),C=r.c2p(c.h,!0),m=r.c2p(c.l,!0),E=r.c2p(c.c,!0);return"M"+o+","+A+"H"+w+"M"+w+","+C+"V"+m+"M"+d+","+E+"H"+w})})}},97384:function(j){j.exports=function(e,g){var P=e.cd,a=e.xaxis,x=e.yaxis,M=[],v,p=P[0].t.bPos||0;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];g.contains([a.c2p(r.pos+p),x.c2p(r.yc)],null,r.i,e)?(M.push({pointNumber:r.i,x:a.c2d(r.pos),y:x.c2d(r.yc)}),r.selected=1):r.selected=0}return M}},14008:function(j,H,e){var g=e(33428),P=e(43616),a=e(76308);j.exports=function(M,v,p){var r=p||g.select(M).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var i=t[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var u=i[n.dir].line;g.select(this).style("fill","none").call(a.stroke,u.color).call(P.dashLine,u.dash,u.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(j,H,e){var g=e(92880).extendFlat,P=e(45464),a=e(25376),x=e(49084),M=e(21776).Ks,v=e(86968).u,p=g({editType:"calc"},x("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});j.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(j,H,e){var g=e(84888)._M,P=e(60268),a="parcats";H.name=a,H.plot=function(x,M,v,p){var r=g(x.calcdata,a);if(r.length){var t=r[0];P(x,t,v,p)}},H.clean=function(x,M,v,p){var r=p._has&&p._has("parcats"),t=M._has&&M._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(j,H,e){var g=e(71688).wrap,P=e(94288).hasColorscale,a=e(47128),x=e(68944),M=e(43616),v=e(3400),p=e(38248);j.exports=function(o,d){var w=v.filterVisible(d.dimensions);if(w.length===0)return[];var A=w.map(function(J){var X;if(J.categoryorder==="trace")X=null;else if(J.categoryorder==="array")X=J.categoryarray;else{X=x(J.values);for(var oe=!0,Y=0;Y<X.length;Y++)if(!p(X[Y])){oe=!1;break}X.sort(oe?v.sorterAsc:void 0),J.categoryorder==="category descending"&&(X=X.reverse())}return l(J.values,X)}),C,m,E;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],y(w),w.forEach(function(J,X){h(J,A[X])});var b=d.line,s;b?(P(d,"line")&&a(o,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),s=M.tryColorscale(b)):s=v.identity;function L(J){var X,oe;return v.isArrayOrTypedArray(b.color)?(X=b.color[J%b.color.length],oe=X):X=b.color,{color:s(X),rawColor:oe}}var T=w[0].values.length,k={},_=A.map(function(J){return J.inds});E=0;var B,F;for(B=0;B<T;B++){var O=[];for(F=0;F<_.length;F++)O.push(_[F][B]);m=C[B%C.length],E+=m;var N=L(B),z=O+"-"+N.rawColor;k[z]===void 0&&(k[z]=u(O,N.color,N.rawColor)),f(k[z],B,m)}var V=w.map(function(J,X){return t(X,J._index,J._displayindex,J.label,E)});for(B=0;B<T;B++)for(m=C[B%C.length],F=0;F<V.length;F++){var W=V[F].containerInd,$=A[F].inds[B],re=V[F].categories;if(re[$]===void 0){var ne=d.dimensions[W]._categoryarray[$],ue=d.dimensions[W]._ticktext[$];re[$]=i(F,$,ne,ue)}n(re[$],B,m)}return g(r(V,k,E))};function r(c,o,d){var w=c.map(function(A){return A.categories.length}).reduce(function(A,C){return Math.max(A,C)});return{dimensions:c,paths:o,trace:void 0,maxCats:w,count:d}}function t(c,o,d,w,A){return{dimensionInd:c,containerInd:o,displayInd:d,dimensionLabel:w,count:A,categories:[],dragX:null}}function i(c,o,d,w){return{dimensionInd:c,categoryInd:o,categoryValue:d,displayInd:o,categoryLabel:w,valueInds:[],count:0,dragY:null}}function n(c,o,d){c.valueInds.push(o),c.count+=d}function u(c,o,d){return{categoryInds:c,color:o,rawColor:d,valueInds:[],count:0}}function f(c,o,d){c.valueInds.push(o),c.count+=d}function l(c,o){o==null?o=[]:o=o.map(function(s){return s});var d={},w={},A=[];o.forEach(function(s,L){d[s]=0,w[s]=L});for(var C=0;C<c.length;C++){var m=c[C],E;d[m]===void 0?(d[m]=1,E=o.push(m)-1,w[m]=E):(d[m]++,E=w[m]),A.push(E)}var b=o.map(function(s){return d[s]});return{uniqueValues:o,uniqueCounts:b,inds:A}}function y(c){var o=c.map(function(w){return w.displayindex}),d;if(S(o))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,o){c._categoryarray=o.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<o.uniqueValues.length;d++)c._ticktext.push(o.uniqueValues[d])}function S(c){for(var o=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||o[c[d]]!==void 0)return!1;o[c[d]]=!0}return!0}},76671:function(j,H,e){var g=e(3400),P=e(94288).hasColorscale,a=e(27260),x=e(86968).Q,M=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,u,f,l,y){y("line.shape"),y("line.hovertemplate");var h=y("line.color",l.colorway[0]);if(P(n,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return y("line.colorscale"),a(n,u,l,y,{prefix:"line.",cLetter:"c"}),h.length;u.line.color=f}return 1/0}function i(n,u){function f(d,w){return g.coerce(n,u,v.dimensions,d,w)}var l=f("values"),y=f("visible");if(l&&l.length||(y=u.visible=!1),y){f("label"),f("displayindex",u._index);var h=n.categoryarray,S=g.isArrayOrTypedArray(h)&&h.length>0||r(h),c;S&&(c="array");var o=f("categoryorder",c);o==="array"?(f("categoryarray"),f("ticktext")):(delete n.categoryarray,delete n.ticktext),!S&&o==="array"&&(u.categoryorder="trace")}}j.exports=function(u,f,l,y){function h(w,A){return g.coerce(u,f,v,w,A)}var S=M(u,f,{name:"dimensions",handleItemDefaults:i}),c=t(u,f,l,y,h);x(f,y,h),(!Array.isArray(S)||!S.length)&&(f.visible=!1),p(f,S,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var o={family:y.font.family,size:Math.round(y.font.size),color:y.font.color};g.coerceFont(h,"labelfont",o);var d={family:y.font.family,size:Math.round(y.font.size/1.2),color:y.font.color};g.coerceFont(h,"tickfont",d)}},22020:function(j,H,e){j.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(j,H,e){var g=e(33428),P=e(67756).Gz,a=e(36424),x=e(93024),M=e(3400),v=M.strTranslate,p=e(43616),r=e(49760),t=e(72736);function i(Y,q,se,Q){var K=q._context.staticPlot,le=Y.map(ne.bind(0,q,se)),ie=Q.selectAll("g.parcatslayer").data([null]);ie.enter().append("g").attr("class","parcatslayer").style("pointer-events",K?"none":"all");var ce=ie.selectAll("g.trace.parcats").data(le,n),ye=ce.enter().append("g").attr("class","trace parcats");ce.attr("transform",function(Xe){return v(Xe.x,Xe.y)}),ye.append("g").attr("class","paths");var Ce=ce.select("g.paths"),Ae=Ce.selectAll("path.path").data(function(Xe){return Xe.paths},n);Ae.attr("fill",function(Xe){return Xe.model.color});var ke=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Xe){return Xe.model.color}).attr("fill-opacity",0);o(ke),Ae.attr("d",function(Xe){return Xe.svgD}),ke.empty()||Ae.sort(f),Ae.exit().remove(),Ae.on("mouseover",l).on("mouseout",y).on("click",c),ye.append("g").attr("class","dimensions");var we=ce.select("g.dimensions"),Ee=we.selectAll("g.dimension").data(function(Xe){return Xe.dimensions},n);Ee.enter().append("g").attr("class","dimension"),Ee.attr("transform",function(Xe){return v(Xe.x,0)}),Ee.exit().remove();var xe=Ee.selectAll("g.category").data(function(Xe){return Xe.categories},n),Pe=xe.enter().append("g").attr("class","category");xe.attr("transform",function(Xe){return v(0,Xe.y)}),Pe.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(Xe){return Xe.width}).attr("height",function(Xe){return Xe.height}),A(Pe);var Ue=xe.selectAll("rect.bandrect").data(function(Xe){return Xe.bands},n);Ue.each(function(){M.raiseToTop(this)}),Ue.attr("fill",function(Xe){return Xe.color});var Be=Ue.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Xe){return Xe.color}).attr("fill-opacity",0);Ue.attr("fill",function(Xe){return Xe.color}).attr("width",function(Xe){return Xe.width}).attr("height",function(Xe){return Xe.height}).attr("y",function(Xe){return Xe.y}).attr("cursor",function(Xe){return Xe.parcatsViewModel.arrangement==="fixed"?"default":Xe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Be),Ue.exit().remove(),Pe.append("text").attr("class","catlabel").attr("pointer-events","none");var Ne=q._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(Xe){return u(Xe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(Ne)).style("fill","rgb(0, 0, 0)").attr("x",function(Xe){return u(Xe)?Xe.width+5:-5}).attr("y",function(Xe){return Xe.height/2}).text(function(Xe){return Xe.model.categoryLabel}).each(function(Xe){p.font(g.select(this),Xe.parcatsViewModel.categorylabelfont),t.convertToTspans(g.select(this),q)}),Pe.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Xe){return Xe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Xe){return Xe.width/2}).attr("y",-5).text(function(Xe,ut){return ut===0?Xe.parcatsViewModel.model.dimensions[Xe.model.dimensionInd].dimensionLabel:null}).each(function(Xe){p.font(g.select(this),Xe.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",O),xe.exit().remove(),Ee.call(g.behavior.drag().origin(function(Xe){return{x:Xe.x,y:0}}).on("dragstart",N).on("drag",z).on("dragend",V)),ce.each(function(Xe){Xe.traceSelection=g.select(this),Xe.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),Xe.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ce.exit().remove()}j.exports=function(Y,q,se,Q){i(se,Y,Q,q)};function n(Y){return Y.key}function u(Y){var q=Y.parcatsViewModel.dimensions.length,se=Y.parcatsViewModel.dimensions[q-1].model.dimensionInd;return Y.model.dimensionInd===se}function f(Y,q){return Y.model.rawColor>q.model.rawColor?1:Y.model.rawColor<q.model.rawColor?-1:0}function l(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){M.raiseToTop(this),d(g.select(this));var q=h(Y),se=S(Y);if(Y.parcatsViewModel.graphDiv.emit("plotly_hover",{points:q,event:g.event,constraints:se}),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Q=g.mouse(this)[0],K=Y.parcatsViewModel.graphDiv,le=Y.parcatsViewModel.trace,ie=K._fullLayout,ce=ie._paperdiv.node().getBoundingClientRect(),ye=Y.parcatsViewModel.graphDiv.getBoundingClientRect(),Ce,Ae,ke;for(ke=0;ke<Y.leftXs.length-1;ke++)if(Y.leftXs[ke]+Y.dimWidths[ke]-2<=Q&&Q<=Y.leftXs[ke+1]+2){var we=Y.parcatsViewModel.dimensions[ke],Ee=Y.parcatsViewModel.dimensions[ke+1];Ce=(we.x+we.width+Ee.x)/2,Ae=(Y.topYs[ke]+Y.topYs[ke+1]+Y.height)/2;break}var xe=Y.parcatsViewModel.x+Ce,Pe=Y.parcatsViewModel.y+Ae,Ue=r.mostReadable(Y.model.color,["black","white"]),Be=Y.model.count,Ne=Be/Y.parcatsViewModel.model.count,Xe={countLabel:Be,probabilityLabel:Ne.toFixed(3)},ut=[];Y.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ut.push(["Count:",Xe.countLabel].join(" ")),Y.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ut.push(["P:",Xe.probabilityLabel].join(" "));var dt=ut.join("<br>"),at=g.mouse(K)[0];x.loneHover({trace:le,x:xe-ce.left+ye.left,y:Pe-ce.top+ye.top,text:dt,color:Y.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ue,idealAlign:at<xe?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:Xe,eventData:[{data:le._input,fullData:le,count:Be,probability:Ne}]},{container:ie._hoverlayer.node(),outerContainer:ie._paper.node(),gd:K})}}}function y(Y){if(!Y.parcatsViewModel.dragDimension&&(o(g.select(this)),x.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Y.parcatsViewModel.pathSelection.sort(f),Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var q=h(Y),se=S(Y);Y.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:q,event:g.event,constraints:se})}}function h(Y){for(var q=[],se=W(Y.parcatsViewModel),Q=0;Q<Y.model.valueInds.length;Q++){var K=Y.model.valueInds[Q];q.push({curveNumber:se,pointNumber:K})}return q}function S(Y){for(var q={},se=Y.parcatsViewModel.model.dimensions,Q=0;Q<se.length;Q++){var K=se[Q],le=K.categories[Y.model.categoryInds[Q]];q[K.containerInd]=le.categoryValue}return Y.model.rawColor!==void 0&&(q.color=Y.model.rawColor),q}function c(Y){if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=h(Y),se=S(Y);Y.parcatsViewModel.graphDiv.emit("plotly_click",{points:q,event:g.event,constraints:se})}}function o(Y){Y.attr("fill",function(q){return q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(Y){Y.attr("fill-opacity",.8).attr("stroke",function(q){return r.mostReadable(q.model.color,["black","white"])}).attr("stroke-width",.3)}function w(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(Y){Y.attr("stroke","black").attr("stroke-width",1.5)}function m(Y){Y.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(Y){var q=Y.parcatsViewModel.pathSelection,se=Y.categoryViewModel.model.dimensionInd,Q=Y.categoryViewModel.model.categoryInd;return q.filter(function(K){return K.model.categoryInds[se]===Q&&K.model.color===Y.color})}function b(Y){var q=g.select(Y.parentNode).selectAll("rect.bandrect");q.each(function(se){var Q=E(se);d(Q),Q.each(function(){M.raiseToTop(this)})}),w(g.select(Y.parentNode))}function s(Y){var q=g.select(Y).datum(),se=E(q);d(se),se.each(function(){M.raiseToTop(this)}),g.select(Y.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===q.color}).each(function(){M.raiseToTop(this),C(g.select(this))})}function L(Y,q,se){var Q=g.select(Y).datum(),K=Q.categoryViewModel.model,le=Q.parcatsViewModel.graphDiv,ie=g.select(Y.parentNode).selectAll("rect.bandrect"),ce=[];ie.each(function(Ce){var Ae=E(Ce);Ae.each(function(ke){Array.prototype.push.apply(ce,h(ke))})});var ye={};ye[K.dimensionInd]=K.categoryValue,le.emit(q,{points:ce,event:se,constraints:ye})}function T(Y,q,se){var Q=g.select(Y).datum(),K=Q.categoryViewModel.model,le=Q.parcatsViewModel.graphDiv,ie=E(Q),ce=[];ie.each(function(Ce){Array.prototype.push.apply(ce,h(Ce))});var ye={};ye[K.dimensionInd]=K.categoryValue,Q.rawColor!==void 0&&(ye.color=Q.rawColor),le.emit(q,{points:ce,event:se,constraints:ye})}function k(Y,q,se){Y._fullLayout._calcInverseTransform(Y);var Q=Y._fullLayout._invScaleX,K=Y._fullLayout._invScaleY,le=g.select(se.parentNode).select("rect.catrect"),ie=le.node().getBoundingClientRect(),ce=le.datum(),ye=ce.parcatsViewModel,Ce=ye.model.dimensions[ce.model.dimensionInd],Ae=ye.trace,ke=ie.top+ie.height/2,we,Ee;ye.dimensions.length>1&&Ce.displayInd===ye.dimensions.length-1?(we=ie.left,Ee="left"):(we=ie.left+ie.width,Ee="right");var xe=ce.model.count,Pe=ce.model.categoryLabel,Ue=xe/ce.parcatsViewModel.model.count,Be={countLabel:xe,categoryLabel:Pe,probabilityLabel:Ue.toFixed(3)},Ne=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ne.push(["Count:",Be.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ne.push(["P("+Be.categoryLabel+"):",Be.probabilityLabel].join(" "));var Xe=Ne.join("<br>");return{trace:Ae,x:Q*(we-q.left),y:K*(ke-q.top),text:Xe,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ee,hovertemplate:Ae.hovertemplate,hovertemplateLabels:Be,eventData:[{data:Ae._input,fullData:Ae,count:xe,category:Pe,probability:Ue}]}}function _(Y,q,se){var Q=[];return g.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var K=this;Q.push(k(Y,q,K))}),Q}function B(Y,q,se){Y._fullLayout._calcInverseTransform(Y);var Q=Y._fullLayout._invScaleX,K=Y._fullLayout._invScaleY,le=se.getBoundingClientRect(),ie=g.select(se).datum(),ce=ie.categoryViewModel,ye=ce.parcatsViewModel,Ce=ye.model.dimensions[ce.model.dimensionInd],Ae=ye.trace,ke=le.y+le.height/2,we,Ee;ye.dimensions.length>1&&Ce.displayInd===ye.dimensions.length-1?(we=le.left,Ee="left"):(we=le.left+le.width,Ee="right");var xe=ce.model.categoryLabel,Pe=ie.parcatsViewModel.model.count,Ue=0;ie.categoryViewModel.bands.forEach(function(ht){ht.color===ie.color&&(Ue+=ht.count)});var Be=ce.model.count,Ne=0;ye.pathSelection.each(function(ht){ht.model.color===ie.color&&(Ne+=ht.model.count)});var Xe=Ue/Pe,ut=Ue/Ne,dt=Ue/Be,at={countLabel:Pe,categoryLabel:xe,probabilityLabel:Xe.toFixed(3)},We=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&We.push(["Count:",at.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(We.push("P(color ∩ "+xe+"): "+at.probabilityLabel),We.push("P("+xe+" | color): "+ut.toFixed(3)),We.push("P(color | "+xe+"): "+dt.toFixed(3)));var rt=We.join("<br>"),st=r.mostReadable(ie.color,["black","white"]);return{trace:Ae,x:Q*(we-q.left),y:K*(ke-q.top),text:rt,color:ie.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:st,fontSize:10,idealAlign:Ee,hovertemplate:Ae.hovertemplate,hovertemplateLabels:at,eventData:[{data:Ae._input,fullData:Ae,category:xe,count:Pe,probability:Xe,categorycount:Be,colorcount:Ne,bandcolorcount:Ue}]}}function F(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=g.mouse(this)[1];if(q<-1)return;var se=Y.parcatsViewModel.graphDiv,Q=se._fullLayout,K=Q._paperdiv.node().getBoundingClientRect(),le=Y.parcatsViewModel.hoveron,ie=this;if(le==="color"?(s(ie),T(ie,"plotly_hover",g.event)):(b(ie),L(ie,"plotly_hover",g.event)),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ce;le==="category"?ce=k(se,K,ie):le==="color"?ce=B(se,K,ie):le==="dimension"&&(ce=_(se,K,ie)),ce&&x.loneHover(ce,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:se})}}}function O(Y){var q=Y.parcatsViewModel;if(!q.dragDimension&&(o(q.pathSelection),A(q.dimensionSelection.selectAll("g.category")),m(q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),x.loneUnhover(q.graphDiv._fullLayout._hoverlayer.node()),q.pathSelection.sort(f),q.hoverinfoItems.indexOf("skip")===-1)){var se=Y.parcatsViewModel.hoveron,Q=this;se==="color"?T(Q,"plotly_unhover",g.event):L(Q,"plotly_unhover",g.event)}}function N(Y){Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragDimensionDisplayInd=Y.model.displayInd,Y.initialDragDimensionDisplayInds=Y.parcatsViewModel.model.dimensions.map(function(q){return q.displayInd}),Y.dragHasMoved=!1,Y.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(q){var se=g.mouse(this)[0],Q=g.mouse(this)[1];-2<=se&&se<=q.width+2&&-2<=Q&&Q<=q.height+2&&(Y.dragCategoryDisplayInd=q.model.displayInd,Y.initialDragCategoryDisplayInds=Y.model.categories.map(function(K){return K.displayInd}),q.model.dragY=q.y,M.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function(K){K.y<Q&&Q<=K.y+K.height&&(Y.potentialClickBand=this)}))}),Y.parcatsViewModel.dragDimension=Y,x.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragHasMoved=!0,Y.dragDimensionDisplayInd!==null)){var q=Y.dragDimensionDisplayInd,se=q-1,Q=q+1,K=Y.parcatsViewModel.dimensions[q];if(Y.dragCategoryDisplayInd!==null){var le=K.categories[Y.dragCategoryDisplayInd];le.model.dragY+=g.event.dy;var ie=le.model.dragY,ce=le.model.displayInd,ye=K.categories,Ce=ye[ce-1],Ae=ye[ce+1];Ce!==void 0&&ie<Ce.y+Ce.height/2&&(le.model.displayInd=Ce.model.displayInd,Ce.model.displayInd=ce),Ae!==void 0&&ie+le.height>Ae.y+Ae.height/2&&(le.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=ce),Y.dragCategoryDisplayInd=le.model.displayInd}if(Y.dragCategoryDisplayInd===null||Y.parcatsViewModel.arrangement==="freeform"){K.model.dragX=g.event.x;var ke=Y.parcatsViewModel.dimensions[se],we=Y.parcatsViewModel.dimensions[Q];ke!==void 0&&K.model.dragX<ke.x+ke.width&&(K.model.displayInd=ke.model.displayInd,ke.model.displayInd=q),we!==void 0&&K.model.dragX+K.width>we.x&&(K.model.displayInd=we.model.displayInd,we.model.displayInd=Y.dragDimensionDisplayInd),Y.dragDimensionDisplayInd=K.model.displayInd}X(Y.parcatsViewModel),J(Y.parcatsViewModel),re(Y.parcatsViewModel),$(Y.parcatsViewModel)}}function V(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&Y.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var q={},se=W(Y.parcatsViewModel),Q=Y.parcatsViewModel.model.dimensions.map(function(we){return we.displayInd}),K=Y.initialDragDimensionDisplayInds.some(function(we,Ee){return we!==Q[Ee]});K&&Q.forEach(function(we,Ee){var xe=Y.parcatsViewModel.model.dimensions[Ee].containerInd;q["dimensions["+xe+"].displayindex"]=we});var le=!1;if(Y.dragCategoryDisplayInd!==null){var ie=Y.model.categories.map(function(we){return we.displayInd});if(le=Y.initialDragCategoryDisplayInds.some(function(we,Ee){return we!==ie[Ee]}),le){var ce=Y.model.categories.slice().sort(function(we,Ee){return we.displayInd-Ee.displayInd}),ye=ce.map(function(we){return we.categoryValue}),Ce=ce.map(function(we){return we.categoryLabel});q["dimensions["+Y.model.containerInd+"].categoryarray"]=[ye],q["dimensions["+Y.model.containerInd+"].ticktext"]=[Ce],q["dimensions["+Y.model.containerInd+"].categoryorder"]="array"}}if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Y.dragHasMoved&&Y.potentialClickBand&&(Y.parcatsViewModel.hoveron==="color"?T(Y.potentialClickBand,"plotly_click",g.event.sourceEvent):L(Y.potentialClickBand,"plotly_click",g.event.sourceEvent)),Y.model.dragX=null,Y.dragCategoryDisplayInd!==null){var Ae=Y.parcatsViewModel.dimensions[Y.dragDimensionDisplayInd].categories[Y.dragCategoryDisplayInd];Ae.model.dragY=null,Y.dragCategoryDisplayInd=null}Y.dragDimensionDisplayInd=null,Y.parcatsViewModel.dragDimension=null,Y.dragHasMoved=null,Y.potentialClickBand=null,X(Y.parcatsViewModel),J(Y.parcatsViewModel);var ke=g.transition().duration(300).ease("cubic-in-out");ke.each(function(){re(Y.parcatsViewModel,!0),$(Y.parcatsViewModel,!0)}).each("end",function(){(K||le)&&a.restyle(Y.parcatsViewModel.graphDiv,q,[se])})}}function W(Y){for(var q,se=Y.graphDiv._fullData,Q=0;Q<se.length;Q++)if(Y.key===se[Q].uid){q=Q;break}return q}function $(Y,q){q===void 0&&(q=!1);function se(Q){return q?Q.transition():Q}Y.pathSelection.data(function(Q){return Q.paths},n),se(Y.pathSelection).attr("d",function(Q){return Q.svgD})}function re(Y,q){q===void 0&&(q=!1);function se(ye){return q?ye.transition():ye}Y.dimensionSelection.data(function(ye){return ye.dimensions},n);var Q=Y.dimensionSelection.selectAll("g.category").data(function(ye){return ye.categories},n);se(Y.dimensionSelection).attr("transform",function(ye){return v(ye.x,0)}),se(Q).attr("transform",function(ye){return v(0,ye.y)});var K=Q.select(".dimlabel");K.text(function(ye,Ce){return Ce===0?ye.parcatsViewModel.model.dimensions[ye.model.dimensionInd].dimensionLabel:null});var le=Q.select(".catlabel");le.attr("text-anchor",function(ye){return u(ye)?"start":"end"}).attr("x",function(ye){return u(ye)?ye.width+5:-5}).each(function(ye){var Ce,Ae;u(ye)?(Ce=ye.width+5,Ae="start"):(Ce=-5,Ae="end"),g.select(this).selectAll("tspan").attr("x",Ce).attr("text-anchor",Ae)});var ie=Q.selectAll("rect.bandrect").data(function(ye){return ye.bands},n),ce=ie.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ye){return ye.color}).attr("fill-opacity",0);ie.attr("fill",function(ye){return ye.color}).attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}).attr("y",function(ye){return ye.y}),m(ce),ie.each(function(){M.raiseToTop(this)}),ie.exit().remove()}function ne(Y,q,se){var Q=se[0],K=q.margin||{l:80,r:80,t:100,b:80},le=Q.trace,ie=le.domain,ce=q.width,ye=q.height,Ce=Math.floor(ce*(ie.x[1]-ie.x[0])),Ae=Math.floor(ye*(ie.y[1]-ie.y[0])),ke=ie.x[0]*ce+K.l,we=q.height-ie.y[1]*q.height+K.t,Ee=le.line.shape,xe;le.hoverinfo==="all"?xe=["count","probability"]:xe=(le.hoverinfo||"").split("+");var Pe={trace:le,key:le.uid,model:Q,x:ke,y:we,width:Ce,height:Ae,hoveron:le.hoveron,hoverinfoItems:xe,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Ee,dragDimension:null,margin:K,paths:[],dimensions:[],graphDiv:Y,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(X(Pe),J(Pe)),Pe}function ue(Y,q,se,Q,K){var le=[],ie=[],ce,ye;for(ye=0;ye<se.length-1;ye++)ce=P(se[ye]+Y[ye],Y[ye+1]),le.push(ce(K)),ie.push(ce(1-K));var Ce="M "+Y[0]+","+q[0];for(Ce+="l"+se[0]+",0 ",ye=1;ye<se.length;ye++)Ce+="C"+le[ye-1]+","+q[ye-1]+" "+ie[ye-1]+","+q[ye]+" "+Y[ye]+","+q[ye],Ce+="l"+se[ye]+",0 ";for(Ce+="l0,"+Q+" ",Ce+="l -"+se[se.length-1]+",0 ",ye=se.length-2;ye>=0;ye--)Ce+="C"+ie[ye]+","+(q[ye+1]+Q)+" "+le[ye]+","+(q[ye]+Q)+" "+(Y[ye]+se[ye])+","+(q[ye]+Q),Ce+="l-"+se[ye]+",0 ";return Ce+="Z",Ce}function J(Y){var q=Y.dimensions,se=Y.model,Q=q.map(function(et){return et.categories.map(function(_e){return _e.y})}),K=Y.model.dimensions.map(function(et){return et.categories.map(function(_e){return _e.displayInd})}),le=Y.model.dimensions.map(function(et){return et.displayInd}),ie=Y.dimensions.map(function(et){return et.model.dimensionInd}),ce=q.map(function(et){return et.x}),ye=q.map(function(et){return et.width}),Ce=[];for(var Ae in se.paths)se.paths.hasOwnProperty(Ae)&&Ce.push(se.paths[Ae]);function ke(et){var _e=et.categoryInds.map(function(Ze,He){return K[He][Ze]}),Ve=ie.map(function(Ze){return _e[Ze]});return Ve}Ce.sort(function(et,_e){var Ve=ke(et),Ze=ke(_e);return Y.sortpaths==="backward"&&(Ve.reverse(),Ze.reverse()),Ve.push(et.valueInds[0]),Ze.push(_e.valueInds[0]),Y.bundlecolors&&(Ve.unshift(et.rawColor),Ze.unshift(_e.rawColor)),Ve<Ze?-1:Ve>Ze?1:0});for(var we=new Array(Ce.length),Ee=q[0].model.count,xe=q[0].categories.map(function(et){return et.height}).reduce(function(et,_e){return et+_e}),Pe=0;Pe<Ce.length;Pe++){var Ue=Ce[Pe],Be;Ee>0?Be=xe*(Ue.count/Ee):Be=0;for(var Ne=new Array(Q.length),Xe=0;Xe<Ue.categoryInds.length;Xe++){var ut=Ue.categoryInds[Xe],dt=K[Xe][ut],at=le[Xe];Ne[at]=Q[at][dt],Q[at][dt]+=Be;var We=Y.dimensions[at].categories[dt],rt=We.bands.length,st=We.bands[rt-1];if(st===void 0||Ue.rawColor!==st.rawColor){var ht=st===void 0?0:st.y+st.height;We.bands.push({key:ht,color:Ue.color,rawColor:Ue.rawColor,height:Be,width:We.width,count:Ue.count,y:ht,categoryViewModel:We,parcatsViewModel:Y})}else{var vt=We.bands[rt-1];vt.height+=Be,vt.count+=Ue.count}}var At;Y.pathShape==="hspline"?At=ue(ce,Ne,ye,Be,.5):At=ue(ce,Ne,ye,Be,0),we[Pe]={key:Ue.valueInds[0],model:Ue,height:Be,leftXs:ce,topYs:Ne,dimWidths:ye,svgD:At,parcatsViewModel:Y}}Y.paths=we}function X(Y){var q=Y.model.dimensions.map(function(ie){return{displayInd:ie.displayInd,dimensionInd:ie.dimensionInd}});q.sort(function(ie,ce){return ie.displayInd-ce.displayInd});var se=[];for(var Q in q){var K=q[Q].dimensionInd,le=Y.model.dimensions[K];se.push(oe(Y,le))}Y.dimensions=se}function oe(Y,q){var se=40,Q=16,K=Y.model.dimensions.length,le=q.displayInd,ie,ce,ye;K>1?ie=(Y.width-2*se-Q)/(K-1):ie=0,ce=se,ye=ce+ie*le;var Ce=[],Ae=Y.model.maxCats,ke=q.categories.length,we=8,Ee=q.count,xe=Y.height-we*(Ae-1),Pe,Ue,Be,Ne,Xe,ut=(Ae-ke)*we/2,dt=q.categories.map(function(at){return{displayInd:at.displayInd,categoryInd:at.categoryInd}});for(dt.sort(function(at,We){return at.displayInd-We.displayInd}),Xe=0;Xe<ke;Xe++)Ne=dt[Xe].categoryInd,Ue=q.categories[Ne],Ee>0?Pe=Ue.count/Ee*xe:Pe=0,Be={key:Ue.valueInds[0],model:Ue,width:Q,height:Pe,y:Ue.dragY!==null?Ue.dragY:ut,bands:[],parcatsViewModel:Y},ut=ut+Pe+we,Ce.push(Be);return{key:q.dimensionInd,x:q.dragX!==null?q.dragX:ye,y:0,width:Q,model:q,categories:Ce,parcatsViewModel:Y,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(j,H,e){var g=e(51036);j.exports=function(a,x,M,v){var p=a._fullLayout,r=p._paper,t=p._size;g(a,r,x,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},M,v)}},82296:function(j,H,e){var g=e(49084),P=e(94724),a=e(25376),x=e(86968).u,M=e(92880).extendFlat,v=e(31780).templatedArray;j.exports={domain:x({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},P.tickvals,{editType:"plot"}),ticktext:M({},P.ticktext,{editType:"plot"}),tickformat:M({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(j,H,e){var g=e(30140),P=e(33428),a=e(71688).keyFun,x=e(71688).repeat,M=e(3400).sorterAsc,v=e(3400).strTranslate,p=g.bar.snapRatio;function r(V,W){return V*(1-p)+W*p}var t=g.bar.snapClose;function i(V,W){return V*(1-t)+W*t}function n(V,W,$,re){if(u($,re))return $;var ne=V?-1:1,ue=0,J=W.length-1;if(ne<0){var X=ue;ue=J,J=X}for(var oe=W[ue],Y=oe,q=ue;ne*q<ne*J;q+=ne){var se=q+ne,Q=W[se];if(ne*$<ne*i(oe,Q))return r(oe,Y);if(ne*$<ne*Q||se===J)return r(Q,oe);Y=oe,oe=Q}}function u(V,W){for(var $=0;$<W.length;$++)if(V>=W[$][0]&&V<=W[$][1])return!0;return!1}function f(V){V.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function l(V){V.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(V){if(!V.brush.filterSpecified)return"0,"+V.height;for(var W=h(V.brush.filter.getConsolidated(),V.height),$=[0],re,ne,ue,J=W.length?W[0][0]:null,X=0;X<W.length;X++)re=W[X],ne=re[1]-re[0],$.push(J),$.push(ne),ue=X+1,ue<W.length&&(J=W[ue][0]-re[1]);return $.push(V.height),$}function h(V,W){return V.map(function($){return $.map(function(re){return Math.max(0,re*W)}).sort(M)})}function S(V,W){var $=g.bar.handleHeight;if(!(W>V[1]+$||W<V[0]-$))return W>=.9*V[1]+.1*V[0]?"n":W<=.9*V[0]+.1*V[1]?"s":"ns"}function c(){P.select(document.body).style("cursor",null)}function o(V){V.attr("stroke-dasharray",y)}function d(V,W){var $=P.select(V).selectAll(".highlight, .highlight-shadow"),re=W?$.transition().duration(g.bar.snapDuration).each("end",W):$;o(re)}function w(V,W){var $=V.brush,re=$.filterSpecified,ne=NaN,ue={},J;if(re){var X=V.height,oe=$.filter.getConsolidated(),Y=h(oe,X),q=NaN,se=NaN,Q=NaN;for(J=0;J<=Y.length;J++){var K=Y[J];if(K&&K[0]<=W&&W<=K[1]){q=J;break}else if(se=J?J-1:NaN,K&&K[0]>W){Q=J;break}}if(ne=q,isNaN(ne)&&(isNaN(se)||isNaN(Q)?ne=isNaN(se)?Q:se:ne=W-Y[se][1]<Y[Q][0]-W?se:Q),!isNaN(ne)){var le=Y[ne],ie=S(le,W);ie&&(ue.interval=oe[ne],ue.intervalPix=le,ue.region=ie)}}if(V.ordinal&&!ue.region){var ce=V.unitTickvals,ye=V.unitToPaddedPx.invert(W);for(J=0;J<ce.length;J++){var Ce=[ce[Math.max(J-1,0)]*.25+ce[J]*.75,ce[Math.min(J+1,ce.length-1)]*.25+ce[J]*.75];if(ye>=Ce[0]&&ye<=Ce[1]){ue.clickableOrdinalRange=Ce;break}}}return ue}function A(V,W){P.event.sourceEvent.stopPropagation();var $=W.height-P.mouse(V)[1]-2*g.verticalPadding,re=W.unitToPaddedPx.invert($),ne=W.brush,ue=w(W,$),J=ue.interval,X=ne.svgBrush;if(X.wasDragged=!1,X.grabbingBar=ue.region==="ns",X.grabbingBar){var oe=J.map(W.unitToPaddedPx);X.grabPoint=$-oe[0]-g.verticalPadding,X.barLength=oe[1]-oe[0]}X.clickableOrdinalRange=ue.clickableOrdinalRange,X.stayingIntervals=W.multiselect&&ne.filterSpecified?ne.filter.getConsolidated():[],J&&(X.stayingIntervals=X.stayingIntervals.filter(function(Y){return Y[0]!==J[0]&&Y[1]!==J[1]})),X.startExtent=ue.region?J[ue.region==="s"?1:0]:re,W.parent.inBrushDrag=!0,X.brushStartCallback()}function C(V,W){P.event.sourceEvent.stopPropagation();var $=W.height-P.mouse(V)[1]-2*g.verticalPadding,re=W.brush.svgBrush;re.wasDragged=!0,re._dragging=!0,re.grabbingBar?re.newExtent=[$-re.grabPoint,$+re.barLength-re.grabPoint].map(W.unitToPaddedPx.invert):re.newExtent=[re.startExtent,W.unitToPaddedPx.invert($)].sort(M),W.brush.filterSpecified=!0,re.extent=re.stayingIntervals.concat([re.newExtent]),re.brushCallback(W),d(V.parentNode)}function m(V,W){var $=W.brush,re=$.filter,ne=$.svgBrush;ne._dragging||(E(V,W),C(V,W),W.brush.svgBrush.wasDragged=!1),ne._dragging=!1;var ue=P.event;ue.sourceEvent.stopPropagation();var J=ne.grabbingBar;if(ne.grabbingBar=!1,ne.grabLocation=void 0,W.parent.inBrushDrag=!1,c(),!ne.wasDragged){ne.wasDragged=void 0,ne.clickableOrdinalRange?$.filterSpecified&&W.multiselect?ne.extent.push(ne.clickableOrdinalRange):(ne.extent=[ne.clickableOrdinalRange],$.filterSpecified=!0):J?(ne.extent=ne.stayingIntervals,ne.extent.length===0&&_($)):_($),ne.brushCallback(W),d(V.parentNode),ne.brushEndCallback($.filterSpecified?re.getConsolidated():[]);return}var X=function(){re.set(re.getConsolidated())};if(W.ordinal){var oe=W.unitTickvals;oe[oe.length-1]<oe[0]&&oe.reverse(),ne.newExtent=[n(0,oe,ne.newExtent[0],ne.stayingIntervals),n(1,oe,ne.newExtent[1],ne.stayingIntervals)];var Y=ne.newExtent[1]>ne.newExtent[0];ne.extent=ne.stayingIntervals.concat(Y?[ne.newExtent]:[]),ne.extent.length||_($),ne.brushCallback(W),Y?d(V.parentNode,X):(X(),d(V.parentNode))}else X();ne.brushEndCallback($.filterSpecified?re.getConsolidated():[])}function E(V,W){var $=W.height-P.mouse(V)[1]-2*g.verticalPadding,re=w(W,$),ne="crosshair";re.clickableOrdinalRange?ne="pointer":re.region&&(ne=re.region+"-resize"),P.select(document.body).style("cursor",ne)}function b(V){V.on("mousemove",function(W){P.event.preventDefault(),W.parent.inBrushDrag||E(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||c()}).call(P.behavior.drag().on("dragstart",function(W){A(this,W)}).on("drag",function(W){C(this,W)}).on("dragend",function(W){m(this,W)}))}function s(V,W){return V[0]-W[0]}function L(V,W,$){var re=$._context.staticPlot,ne=V.selectAll(".background").data(x);ne.enter().append("rect").classed("background",!0).call(f).call(l).style("pointer-events",re?"none":"auto").attr("transform",v(0,g.verticalPadding)),ne.call(b).attr("height",function(X){return X.height-g.verticalPadding});var ue=V.selectAll(".highlight-shadow").data(x);ue.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",W).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),ue.attr("y1",function(X){return X.height}).call(o);var J=V.selectAll(".highlight").data(x);J.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(X){return X.height}).call(o)}function T(V,W,$){var re=V.selectAll("."+g.cn.axisBrush).data(x,a);re.enter().append("g").classed(g.cn.axisBrush,!0),L(re,W,$)}function k(V){return V.svgBrush.extent.map(function(W){return W.slice()})}function _(V){V.filterSpecified=!1,V.svgBrush.extent=[[-1/0,1/0]]}function B(V){return function($){var re=$.brush,ne=k(re),ue=ne.slice();re.filter.set(ue),V()}}function F(V){for(var W=V.slice(),$=[],re,ne=W.shift();ne;){for(re=ne.slice();(ne=W.shift())&&ne[0]<=re[1];)re[1]=Math.max(re[1],ne[1]);$.push(re)}return $.length===1&&$[0][0]>$[0][1]&&($=[]),$}function O(){var V=[],W,$;return{set:function(re){V=re.map(function(ne){return ne.slice().sort(M)}).sort(s),V.length===1&&V[0][0]===-1/0&&V[0][1]===1/0&&(V=[[0,-1]]),W=F(V),$=V.reduce(function(ne,ue){return[Math.min(ne[0],ue[0]),Math.max(ne[1],ue[1])]},[1/0,-1/0])},get:function(){return V.slice()},getConsolidated:function(){return W},getBounds:function(){return $}}}function N(V,W,$,re,ne,ue){var J=O();return J.set($),{filter:J,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:re,brushCallback:B(ne),brushEndCallback:ue}}}function z(V,W){if(Array.isArray(V[0])?(V=V.map(function(re){return re.sort(M)}),W.multiselect?V=F(V.sort(s)):V=[V[0]]):V=[V.sort(M)],W.tickvals){var $=W.tickvals.slice().sort(M);if(V=V.map(function(re){var ne=[n(0,$,re[0],[]),n(1,$,re[1],[])];if(ne[1]>ne[0])return ne}).filter(function(re){return re}),!V.length)return}return V.length>1?V:V[0]}j.exports={makeBrush:N,ensureAxisBrush:T,cleanRanges:z}},61664:function(j,H,e){j.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(j,H,e){var g=e(33428),P=e(84888)._M,a=e(24196),x=e(9616);H.name="parcoords",H.plot=function(M){var v=P(M.calcdata,"parcoords")[0];v.length&&a(M,v)},H.clean=function(M,v,p,r){var t=r._has&&r._has("parcoords"),i=v._has&&v._has("parcoords");t&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},H.toSVG=function(M){var v=M._fullLayout._glimages,p=g.select(M).selectAll(".svg-container"),r=p.filter(function(i,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var i=this,n=i.toDataURL("image/png"),u=v.append("svg:image");u.attr({xmlns:x.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}r.each(t),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(j,H,e){var g=e(3400).isArrayOrTypedArray,P=e(8932),a=e(71688).wrap;j.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&g(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=x(p._length),t=[[0,p.line.color],[1,p.line.color]]),a({lineColor:r,cscale:t})};function x(M){for(var v=new Array(M),p=0;p<M;p++)v[p]=.5;return v}},30140:function(j){j.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(j,H,e){var g=e(3400),P=e(94288).hasColorscale,a=e(27260),x=e(86968).Q,M=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,i=e(26284);function n(f,l,y,h,S){var c=S("line.color",y);if(P(f,"line")&&g.isArrayOrTypedArray(c)){if(c.length)return S("line.colorscale"),a(f,l,h,S,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=y}return 1/0}function u(f,l,y,h){function S(A,C){return g.coerce(f,l,p.dimensions,A,C)}var c=S("values"),o=S("visible");if(c&&c.length||(o=l.visible=!1),o){S("label"),S("tickvals"),S("ticktext"),S("tickformat");var d=S("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,h.layout),S("multiselect");var w=S("constraintrange");w&&(l.constraintrange=r.cleanRanges(w,l))}}j.exports=function(l,y,h,S){function c(C,m){return g.coerce(l,y,p,C,m)}var o=l.dimensions;Array.isArray(o)&&o.length>t&&(g.log("parcoords traces support up to "+t+" dimensions at the moment"),o.splice(t));var d=M(l,y,{name:"dimensions",layout:S,handleItemDefaults:u}),w=n(l,y,h,S,c);x(y,S,c),(!Array.isArray(d)||!d.length)&&(y.visible=!1),i(y,d,"values",w);var A={family:S.font.family,size:Math.round(S.font.size/1.2),color:S.font.color};g.coerceFont(c,"labelfont",A),g.coerceFont(c,"tickfont",A),g.coerceFont(c,"rangefont",A),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(j,H,e){var g=e(3400).isTypedArray;H.convertTypedArray=function(P){return g(P)?Array.prototype.slice.call(P):P},H.isOrdinal=function(P){return!!P.tickvals},H.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(j,H,e){var g=e(61664);g.plot=e(24196),j.exports=g},51352:function(j,H,e){var g=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),a=e(30140).maxDimensionCount,x=e(3400),M=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(m){m.read({x:0,y:0,width:1,height:1,data:p})}function n(m,E,b,s,L){var T=m._gl;T.enable(T.SCISSOR_TEST),T.scissor(E,b,s,L),m.clear({color:[0,0,0,0],depth:1})}function u(m,E,b,s,L,T){var k=T.key;function _(B){var F=Math.min(s,L-B*s);B===0&&(window.cancelAnimationFrame(b.currentRafs[k]),delete b.currentRafs[k],n(m,T.scissorX,T.scissorY,T.scissorWidth,T.viewBoxSize[1])),!b.clearOnly&&(T.count=2*F,T.offset=2*B*s,E(T),B*s+F<L&&(b.currentRafs[k]=window.requestAnimationFrame(function(){_(B+1)})),b.drawCompleted=!1)}b.drawCompleted||(i(m),b.drawCompleted=!0),_(0)}function f(m){return Math.max(M,Math.min(1-M,m))}function l(m,E){for(var b=new Array(256),s=0;s<256;s++)b[s]=m(s/255).concat(E);return b}function y(m,E){return(m>>>8*E)%256/255}function h(m,E,b){for(var s=new Array(m*(a+4)),L=0,T=0;T<m;T++){for(var k=0;k<a;k++)s[L++]=k<E.length?E[k].paddedUnitValues[T]:.5;s[L++]=y(T,2),s[L++]=y(T,1),s[L++]=y(T,0),s[L++]=f(b[T])}return s}function S(m,E,b){for(var s=new Array(E*8),L=0,T=0;T<E;T++)for(var k=0;k<2;k++)for(var _=0;_<4;_++){var B=m*4+_,F=b[T*64+B];B===63&&k===0&&(F*=-1),s[L++]=F}return s}function c(m){var E="0"+m;return E.substr(E.length-2)}function o(m){return m<a?"p"+c(m+1)+"_"+c(m+4):"colors"}function d(m,E,b){for(var s=0;s<=a;s+=4)m[o(s)](S(s/4,E,b))}function w(m){for(var E={},b=0;b<=a;b+=4)E[o(b)]=m.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return E}function A(m,E,b,s,L,T,k,_,B,F,O,N,z,V){for(var W=[[],[]],$=0;$<64;$++)W[0][$]=$===L?1:0,W[1][$]=$===T?1:0;k*=V,_*=V,B*=V,F*=V;var re=m.lines.canvasOverdrag*V,ne=m.domain,ue=m.canvasWidth*V,J=m.canvasHeight*V,X=m.pad.l*V,oe=m.pad.b*V,Y=m.layoutHeight*V,q=m.layoutWidth*V,se=m.deselectedLines.color,Q=m.deselectedLines.opacity,K=x.extendFlat({key:O,resolution:[ue,J],viewBoxPos:[k+re,_],viewBoxSize:[B,F],i0:L,i1:T,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:N,contextColor:[se[0]/255,se[1]/255,se[2]/255,Q!=="auto"?se[3]*Q:Math.max(1/255,Math.pow(1/m.lines.color.length,1/3))],scissorX:(s===E?0:k+re)+(X-re)+q*ne.x[0],scissorWidth:(s===b?ue-k+re:B+.5)+(s===E?k+re:0),scissorY:_+oe+Y*ne.y[0],scissorHeight:F,viewportX:X-re+q*ne.x[0],viewportY:oe+Y*ne.y[0],viewportWidth:ue,viewportHeight:J},z);return K}function C(m){var E=v-1,b=Math.max(0,Math.floor(m[0]*E),0),s=Math.min(E,Math.ceil(m[1]*E),E);return[Math.min(b,s),Math.max(b,s)]}j.exports=function(m,E){var b=E.context,s=E.pick,L=E.regl,T=L._gl,k=T.getParameter(T.ALIASED_LINE_WIDTH_RANGE),_=Math.max(k[0],Math.min(k[1],E.viewModel.plotGlPixelRatio)),B={currentRafs:{},drawCompleted:!0,clearOnly:!1},F,O,N,z,V=w(L),W,$=L.texture(t),re=[];ue(E);var ne=L({profile:!1,blend:{enable:b,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!b,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:L.prop("scissorX"),y:L.prop("scissorY"),width:L.prop("scissorWidth"),height:L.prop("scissorHeight")}},viewport:{x:L.prop("viewportX"),y:L.prop("viewportY"),width:L.prop("viewportWidth"),height:L.prop("viewportHeight")},dither:!1,vert:g,frag:P,primitive:"lines",lineWidth:_,attributes:V,uniforms:{resolution:L.prop("resolution"),viewBoxPos:L.prop("viewBoxPos"),viewBoxSize:L.prop("viewBoxSize"),dim0A:L.prop("dim0A"),dim1A:L.prop("dim1A"),dim0B:L.prop("dim0B"),dim1B:L.prop("dim1B"),dim0C:L.prop("dim0C"),dim1C:L.prop("dim1C"),dim0D:L.prop("dim0D"),dim1D:L.prop("dim1D"),loA:L.prop("loA"),hiA:L.prop("hiA"),loB:L.prop("loB"),hiB:L.prop("hiB"),loC:L.prop("loC"),hiC:L.prop("hiC"),loD:L.prop("loD"),hiD:L.prop("hiD"),palette:$,contextColor:L.prop("contextColor"),maskTexture:L.prop("maskTexture"),drwLayer:L.prop("drwLayer"),maskHeight:L.prop("maskHeight")},offset:L.prop("offset"),count:L.prop("count")});function ue(se){F=se.model,O=se.viewModel,N=O.dimensions.slice(),z=N[0]?N[0].values.length:0;var Q=F.lines,K=s?Q.color.map(function(ie,ce){return ce/Q.color.length}):Q.color,le=h(z,N,K);d(V,z,le),!b&&!s&&($=L.texture(x.extendFlat({data:l(F.unitToColor,255)},t)))}function J(se){var Q,K,le,ie=[[],[]];for(le=0;le<64;le++){var ce=!se&&le<N.length?N[le].brush.filter.getBounds():[-1/0,1/0];ie[0][le]=ce[0],ie[1][le]=ce[1]}var ye=v*8,Ce=new Array(ye);for(Q=0;Q<ye;Q++)Ce[Q]=255;if(!se)for(Q=0;Q<N.length;Q++){var Ae=Q%8,ke=(Q-Ae)/8,we=Math.pow(2,Ae),Ee=N[Q],xe=Ee.brush.filter.get();if(!(xe.length<2)){var Pe=C(xe[0])[1];for(K=1;K<xe.length;K++){var Ue=C(xe[K]);for(le=Pe+1;le<Ue[0];le++)Ce[le*8+ke]&=~we;Pe=Math.max(Pe,Ue[1])}}}var Be={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ce};return W?W(Be):W=L.texture(Be),{maskTexture:W,maskHeight:v,loA:ie[0].slice(0,16),loB:ie[0].slice(16,32),loC:ie[0].slice(32,48),loD:ie[0].slice(48,64),hiA:ie[1].slice(0,16),hiB:ie[1].slice(16,32),hiC:ie[1].slice(32,48),hiD:ie[1].slice(48,64)}}function X(se,Q,K){var le=se.length,ie,ce,ye,Ce=1/0,Ae=-1/0;for(ie=0;ie<le;ie++)se[ie].dim0.canvasX<Ce&&(Ce=se[ie].dim0.canvasX,ce=ie),se[ie].dim1.canvasX>Ae&&(Ae=se[ie].dim1.canvasX,ye=ie);le===0&&n(L,0,0,F.canvasWidth,F.canvasHeight);var ke=J(b);for(ie=0;ie<le;ie++){var we=se[ie],Ee=we.dim0.crossfilterDimensionIndex,xe=we.dim1.crossfilterDimensionIndex,Pe=we.canvasX,Ue=we.canvasY,Be=Pe+we.panelSizeX,Ne=we.plotGlPixelRatio;if(Q||!re[Ee]||re[Ee][0]!==Pe||re[Ee][1]!==Be){re[Ee]=[Pe,Be];var Xe=A(F,ce,ye,ie,Ee,xe,Pe,Ue,we.panelSizeX,we.panelSizeY,we.dim0.crossfilterDimensionIndex,b?0:s?2:1,ke,Ne);B.clearOnly=K;var ut=Q?F.lines.blockLineCount:z;u(L,ne,B,ut,z,Xe)}}}function oe(se,Q){return L.read({x:se,y:Q,width:1,height:1,data:r}),r}function Y(se,Q,K,le){var ie=new Uint8Array(4*K*le);return L.read({x:se,y:Q,width:K,height:le,data:ie}),ie}function q(){m.style["pointer-events"]="none",$.destroy(),W&&W.destroy();for(var se in V)V[se].destroy()}return{render:X,readPixel:oe,readPixels:Y,destroy:q,update:ue}}},26284:function(j){j.exports=function(H,e,g,P){P||(P=1/0);var a,x;for(a=0;a<e.length;a++)x=e[a],x.visible&&(P=Math.min(P,x[g].length));for(P===1/0&&(P=0),H._length=P,a=0;a<e.length;a++)x=e[a],x.visible&&(x._length=P);return P}},36336:function(j,H,e){var g=e(33428),P=e(3400),a=P.isArrayOrTypedArray,x=P.numberFormat,M=e(96824),v=e(54460),p=P.strRotate,r=P.strTranslate,t=e(72736),i=e(43616),n=e(8932),u=e(71688),f=u.keyFun,l=u.repeat,y=u.unwrap,h=e(95724),S=e(30140),c=e(71864),o=e(51352);function d(re,ne,ue){return P.aggNums(re,null,ne,ue)}function w(re,ne){return C(d(Math.min,re,ne),d(Math.max,re,ne))}function A(re){var ne=re.range;return ne?C(ne[0],ne[1]):w(re.values,re._length)}function C(re,ne){return(isNaN(re)||!isFinite(re))&&(re=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),re===ne&&(re===0?(re-=1,ne+=1):(re*=.9,ne*=1.1)),[re,ne]}function m(re,ne){return ne?function(ue,J){var X=ne[J];return X??re(ue)}:re}function E(re,ne,ue,J,X){var oe=A(ue);return J?g.scale.ordinal().domain(J.map(m(x(ue.tickformat),X))).range(J.map(function(Y){var q=(Y-oe[0])/(oe[1]-oe[0]);return re-ne+q*(2*ne-re)})):g.scale.linear().domain(oe).range([re-ne,ne])}function b(re,ne){return g.scale.linear().range([ne,re-ne])}function s(re,ne){return g.scale.linear().domain(A(re)).range([ne,1-ne])}function L(re){if(re.tickvals){var ne=A(re);return g.scale.ordinal().domain(re.tickvals).range(re.tickvals.map(function(ue){return(ue-ne[0])/(ne[1]-ne[0])}))}}function T(re){var ne=re.map(function(oe){return oe[0]}),ue=re.map(function(oe){var Y=M(oe[1]);return g.rgb("rgb("+Y[0]+","+Y[1]+","+Y[2]+")")}),J=function(oe){return function(Y){return Y[oe]}},X="rgb".split("").map(function(oe){return g.scale.linear().clamp(!0).domain(ne).range(ue.map(J(oe)))});return function(oe){return X.map(function(Y){return Y(oe)})}}function k(re){return re.dimensions.some(function(ne){return ne.brush.filterSpecified})}function _(re,ne,ue){var J=y(ne),X=J.trace,oe=h.convertTypedArray(J.lineColor),Y=X.line,q={color:M(X.unselected.line.color),opacity:X.unselected.line.opacity},se=n.extractOpts(Y),Q=se.reversescale?n.flipScale(J.cscale):J.cscale,K=X.domain,le=X.dimensions,ie=re.width,ce=X.labelangle,ye=X.labelside,Ce=X.labelfont,Ae=X.tickfont,ke=X.rangefont,we=P.extendDeepNoArrays({},Y,{color:oe.map(g.scale.linear().domain(A({values:oe,range:[se.min,se.max],_length:X._length}))),blockLineCount:S.blockLineCount,canvasOverdrag:S.overdrag*S.canvasPixelRatio}),Ee=Math.floor(ie*(K.x[1]-K.x[0])),xe=Math.floor(re.height*(K.y[1]-K.y[0])),Pe=re.margin||{l:80,r:80,t:100,b:80},Ue=Ee,Be=xe;return{key:ue,colCount:le.filter(h.isVisible).length,dimensions:le,tickDistance:S.tickDistance,unitToColor:T(Q),lines:we,deselectedLines:q,labelAngle:ce,labelSide:ye,labelFont:Ce,tickFont:Ae,rangeFont:ke,layoutWidth:ie,layoutHeight:re.height,domain:K,translateX:K.x[0]*ie,translateY:re.height-K.y[1]*re.height,pad:Pe,canvasWidth:Ue*S.canvasPixelRatio+2*we.canvasOverdrag,canvasHeight:Be*S.canvasPixelRatio,width:Ue,height:Be,canvasPixelRatio:S.canvasPixelRatio}}function B(re,ne,ue){var J=ue.width,X=ue.height,oe=ue.dimensions,Y=ue.canvasPixelRatio,q=function(ie){return J*ie/Math.max(1,ue.colCount-1)},se=S.verticalPadding/X,Q=b(X,S.verticalPadding),K={key:ue.key,xScale:q,model:ue,inBrushDrag:!1},le={};return K.dimensions=oe.filter(h.isVisible).map(function(ie,ce){var ye=s(ie,se),Ce=le[ie.label];le[ie.label]=(Ce||0)+1;var Ae=ie.label+(Ce?"__"+Ce:""),ke=ie.constraintrange,we=ke&&ke.length;we&&!a(ke[0])&&(ke=[ke]);var Ee=we?ke.map(function(We){return We.map(ye)}):[[-1/0,1/0]],xe=function(){var We=K;We.focusLayer&&We.focusLayer.render(We.panels,!0);var rt=k(We);!re.contextShown()&&rt?(We.contextLayer&&We.contextLayer.render(We.panels,!0),re.contextShown(!0)):re.contextShown()&&!rt&&(We.contextLayer&&We.contextLayer.render(We.panels,!0,!0),re.contextShown(!1))},Pe=ie.values;Pe.length>ie._length&&(Pe=Pe.slice(0,ie._length));var Ue=ie.tickvals,Be;function Ne(We,rt){return{val:We,text:Be[rt]}}function Xe(We,rt){return We.val-rt.val}if(a(Ue)&&Ue.length){P.isTypedArray(Ue)&&(Ue=Array.from(Ue)),Be=ie.ticktext,!a(Be)||!Be.length?Be=Ue.map(x(ie.tickformat)):Be.length>Ue.length?Be=Be.slice(0,Ue.length):Ue.length>Be.length&&(Ue=Ue.slice(0,Be.length));for(var ut=1;ut<Ue.length;ut++)if(Ue[ut]<Ue[ut-1]){for(var dt=Ue.map(Ne).sort(Xe),at=0;at<Ue.length;at++)Ue[at]=dt[at].val,Be[at]=dt[at].text;break}}else Ue=void 0;return Pe=h.convertTypedArray(Pe),{key:Ae,label:ie.label,tickFormat:ie.tickformat,tickvals:Ue,ticktext:Be,ordinal:h.isOrdinal(ie),multiselect:ie.multiselect,xIndex:ce,crossfilterDimensionIndex:ce,visibleIndex:ie._index,height:X,values:Pe,paddedUnitValues:Pe.map(ye),unitTickvals:Ue&&Ue.map(ye),xScale:q,x:q(ce),canvasX:q(ce)*Y,unitToPaddedPx:Q,domainScale:E(X,S.verticalPadding,ie,Ue,Be),ordinalScale:L(ie),parent:K,model:ue,brush:c.makeBrush(re,we,Ee,function(){re.linePickActive(!1)},xe,function(We){if(K.focusLayer.render(K.panels,!0),K.pickLayer&&K.pickLayer.render(K.panels,!0),re.linePickActive(!0),ne&&ne.filterChanged){var rt=ye.invert,st=We.map(function(ht){return ht.map(rt).sort(P.sorterAsc)}).sort(function(ht,vt){return ht[0]-vt[0]});ne.filterChanged(K.key,ie._index,st)}})}}),K}function F(re){re.classed(S.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function O(){var re=!0,ne=!1;return{linePickActive:function(ue){return arguments.length?re=!!ue:re},contextShown:function(ue){return arguments.length?ne=!!ue:ne}}}function N(re,ne){var ue=ne==="top"?1:-1,J=re*Math.PI/180,X=Math.sin(J),oe=Math.cos(J);return{dir:ue,dx:X,dy:oe,degrees:re}}function z(re,ne,ue){for(var J=ne.panels||(ne.panels=[]),X=re.data(),oe=0;oe<X.length-1;oe++){var Y=J[oe]||(J[oe]={}),q=X[oe],se=X[oe+1];Y.dim0=q,Y.dim1=se,Y.canvasX=q.canvasX,Y.panelSizeX=se.canvasX-q.canvasX,Y.panelSizeY=ne.model.canvasHeight,Y.y=0,Y.canvasY=0,Y.plotGlPixelRatio=ue}}function V(re){for(var ne=0;ne<re.length;ne++)for(var ue=0;ue<re[ne].length;ue++)for(var J=re[ne][ue].trace,X=J.dimensions,oe=0;oe<X.length;oe++){var Y=X[oe].values,q=X[oe]._ax;q&&(q.range?q.range=C(q.range[0],q.range[1]):q.range=w(Y,J._length),q.dtick||(q.dtick=.01*(Math.abs(q.range[1]-q.range[0])||1)),q.tickformat=X[oe].tickformat,v.calcTicks(q),q.cleanRange())}}function W(re,ne){return v.tickText(re._ax,ne,!1).text}function $(re,ne){if(re.ordinal)return"";var ue=re.domainScale.domain(),J=ue[ne?ue.length-1:0];return W(re.model.dimensions[re.visibleIndex],J)}j.exports=function(ne,ue,J,X){var oe=ne._context.staticPlot,Y=ne._fullLayout,q=Y._toppaper,se=Y._glcontainer,Q=ne._context.plotGlPixelRatio,K=ne._fullLayout.paper_bgcolor;V(ue);var le=O(),ie=ue.filter(function(at){return y(at).trace.visible}).map(_.bind(0,J)).map(B.bind(0,le,X));se.each(function(at,We){return P.extendFlat(at,ie[We])});var ce=se.selectAll(".gl-canvas").each(function(at){at.viewModel=ie[0],at.viewModel.plotGlPixelRatio=Q,at.viewModel.paperColor=K,at.model=at.viewModel?at.viewModel.model:null}),ye=null,Ce=ce.filter(function(at){return at.pick});Ce.style("pointer-events",oe?"none":"auto").on("mousemove",function(at){if(le.linePickActive()&&at.lineLayer&&X&&X.hover){var We=g.event,rt=this.width,st=this.height,ht=g.mouse(this),vt=ht[0],At=ht[1];if(vt<0||At<0||vt>=rt||At>=st)return;var et=at.lineLayer.readPixel(vt,st-1-At),_e=et[3]!==0,Ve=_e?et[2]+256*(et[1]+256*et[0]):null,Ze={x:vt,y:At,clientX:We.clientX,clientY:We.clientY,dataIndex:at.model.key,curveNumber:Ve};Ve!==ye&&(_e?X.hover(Ze):X.unhover&&X.unhover(Ze),ye=Ve)}}),ce.style("opacity",function(at){return at.pick?0:1}),q.style("background","rgba(255, 255, 255, 0)");var Ae=q.selectAll("."+S.cn.parcoords).data(ie,f);Ae.exit().remove(),Ae.enter().append("g").classed(S.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(at){return r(at.model.translateX,at.model.translateY)});var ke=Ae.selectAll("."+S.cn.parcoordsControlView).data(l,f);ke.enter().append("g").classed(S.cn.parcoordsControlView,!0),ke.attr("transform",function(at){return r(at.model.pad.l,at.model.pad.t)});var we=ke.selectAll("."+S.cn.yAxis).data(function(at){return at.dimensions},f);we.enter().append("g").classed(S.cn.yAxis,!0),ke.each(function(at){z(we,at,Q)}),ce.each(function(at){if(at.viewModel){!at.lineLayer||X?at.lineLayer=o(this,at):at.lineLayer.update(at),(at.key||at.key===0)&&(at.viewModel[at.key]=at.lineLayer);var We=!at.context||X;at.lineLayer.render(at.viewModel.panels,We)}}),we.attr("transform",function(at){return r(at.xScale(at.xIndex),0)}),we.call(g.behavior.drag().origin(function(at){return at}).on("drag",function(at){var We=at.parent;le.linePickActive(!1),at.x=Math.max(-S.overdrag,Math.min(at.model.width+S.overdrag,g.event.x)),at.canvasX=at.x*at.model.canvasPixelRatio,we.sort(function(rt,st){return rt.x-st.x}).each(function(rt,st){rt.xIndex=st,rt.x=at===rt?rt.x:rt.xScale(rt.xIndex),rt.canvasX=rt.x*rt.model.canvasPixelRatio}),z(we,We,Q),we.filter(function(rt){return Math.abs(at.xIndex-rt.xIndex)!==0}).attr("transform",function(rt){return r(rt.xScale(rt.xIndex),0)}),g.select(this).attr("transform",r(at.x,0)),we.each(function(rt,st,ht){ht===at.parent.key&&(We.dimensions[st]=rt)}),We.contextLayer&&We.contextLayer.render(We.panels,!1,!k(We)),We.focusLayer.render&&We.focusLayer.render(We.panels)}).on("dragend",function(at){var We=at.parent;at.x=at.xScale(at.xIndex),at.canvasX=at.x*at.model.canvasPixelRatio,z(we,We,Q),g.select(this).attr("transform",function(rt){return r(rt.x,0)}),We.contextLayer&&We.contextLayer.render(We.panels,!1,!k(We)),We.focusLayer&&We.focusLayer.render(We.panels),We.pickLayer&&We.pickLayer.render(We.panels,!0),le.linePickActive(!0),X&&X.axesMoved&&X.axesMoved(We.key,We.dimensions.map(function(rt){return rt.crossfilterDimensionIndex}))})),we.exit().remove();var Ee=we.selectAll("."+S.cn.axisOverlays).data(l,f);Ee.enter().append("g").classed(S.cn.axisOverlays,!0),Ee.selectAll("."+S.cn.axis).remove();var xe=Ee.selectAll("."+S.cn.axis).data(l,f);xe.enter().append("g").classed(S.cn.axis,!0),xe.each(function(at){var We=at.model.height/at.model.tickDistance,rt=at.domainScale,st=rt.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(We,at.tickFormat).tickValues(at.ordinal?st:null).tickFormat(function(ht){return h.isOrdinal(at)?ht:W(at.model.dimensions[at.visibleIndex],ht)}).scale(rt)),i.font(xe.selectAll("text"),at.model.tickFont)}),xe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),xe.selectAll("text").style("text-shadow",t.makeTextShadow(K)).style("cursor","default");var Pe=Ee.selectAll("."+S.cn.axisHeading).data(l,f);Pe.enter().append("g").classed(S.cn.axisHeading,!0);var Ue=Pe.selectAll("."+S.cn.axisTitle).data(l,f);Ue.enter().append("text").classed(S.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",oe?"none":"auto"),Ue.text(function(at){return at.label}).each(function(at){var We=g.select(this);i.font(We,at.model.labelFont),t.convertToTspans(We,ne)}).attr("transform",function(at){var We=N(at.model.labelAngle,at.model.labelSide),rt=S.axisTitleOffset;return(We.dir>0?"":r(0,2*rt+at.model.height))+p(We.degrees)+r(-rt*We.dx,-rt*We.dy)}).attr("text-anchor",function(at){var We=N(at.model.labelAngle,at.model.labelSide),rt=Math.abs(We.dx),st=Math.abs(We.dy);return 2*rt>st?We.dir*We.dx<0?"start":"end":"middle"});var Be=Ee.selectAll("."+S.cn.axisExtent).data(l,f);Be.enter().append("g").classed(S.cn.axisExtent,!0);var Ne=Be.selectAll("."+S.cn.axisExtentTop).data(l,f);Ne.enter().append("g").classed(S.cn.axisExtentTop,!0),Ne.attr("transform",r(0,-S.axisExtentOffset));var Xe=Ne.selectAll("."+S.cn.axisExtentTopText).data(l,f);Xe.enter().append("text").classed(S.cn.axisExtentTopText,!0).call(F),Xe.text(function(at){return $(at,!0)}).each(function(at){i.font(g.select(this),at.model.rangeFont)});var ut=Be.selectAll("."+S.cn.axisExtentBottom).data(l,f);ut.enter().append("g").classed(S.cn.axisExtentBottom,!0),ut.attr("transform",function(at){return r(0,at.model.height+S.axisExtentOffset)});var dt=ut.selectAll("."+S.cn.axisExtentBottomText).data(l,f);dt.enter().append("text").classed(S.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(F),dt.text(function(at){return $(at,!1)}).each(function(at){i.font(g.select(this),at.model.rangeFont)}),c.ensureAxisBrush(Ee,K,ne)}},24196:function(j,H,e){var g=e(36336),P=e(5048),a=e(95724).isVisible,x={};function M(r,t,i){var n=t.indexOf(i),u=r.indexOf(n);return u===-1&&(u+=t.length),u}function v(r,t){return function(n,u){return M(r,t,n)-M(r,t,u)}}var p=j.exports=function(t,i){var n=t._fullLayout,u=P(t,[],x);if(u){var f={},l={},y={},h={},S=n._size;i.forEach(function(A,C){var m=A[0].trace;y[C]=m.index;var E=h[C]=m._fullInput.index;f[C]=t.data[E].dimensions,l[C]=t.data[E].dimensions.slice()});var c=function(A,C,m){var E=l[A][C],b=m.map(function(B){return B.slice()}),s="dimensions["+C+"].constraintrange",L=n._tracePreGUI[t._fullData[y[A]]._fullInput.uid];if(L[s]===void 0){var T=E.constraintrange;L[s]=T||null}var k=t._fullData[y[A]].dimensions[C];b.length?(b.length===1&&(b=b[0]),E.constraintrange=b,k.constraintrange=b.slice(),b=[b]):(delete E.constraintrange,delete k.constraintrange,b=null);var _={};_[s]=b,t.emit("plotly_restyle",[_,[h[A]]])},o=function(A){t.emit("plotly_hover",A)},d=function(A){t.emit("plotly_unhover",A)},w=function(A,C){var m=v(C,l[A].filter(a));f[A].sort(m),l[A].filter(function(E){return!a(E)}).sort(function(E){return l[A].indexOf(E)}).forEach(function(E){f[A].splice(f[A].indexOf(E),1),f[A].splice(l[A].indexOf(E),0,E)}),t.emit("plotly_restyle",[{dimensions:[f[A]]},[h[A]]])};g(t,i,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{filterChanged:c,hover:o,unhover:d,axesMoved:w})}};p.reglPrecompiled=x},74996:function(j,H,e){var g=e(45464),P=e(86968).u,a=e(25376),x=e(22548),M=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});j.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:x.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(j,H,e){var g=e(7316);H.name="pie",H.plot=function(P,a,x,M){g.plotBasePlot(H.name,P,a,x,M)},H.clean=function(P,a,x,M){g.cleanBasePlot(H.name,P,a,x,M)}},45768:function(j,H,e){var g=e(38248),P=e(49760),a=e(76308),x={};function M(t,i){var n=[],u=t._fullLayout,f=u.hiddenlabels||[],l=i.labels,y=i.marker.colors||[],h=i.values,S=i._length,c=i._hasValues&&S,o,d;if(i.dlabel)for(l=new Array(S),o=0;o<S;o++)l[o]=String(i.label0+o*i.dlabel);var w={},A=v(u["_"+i.type+"colormap"]),C=0,m=!1;for(o=0;o<S;o++){var E,b,s;if(c){if(E=h[o],!g(E))continue;E=+E}else E=1;b=l[o],(b===void 0||b==="")&&(b=o),b=String(b);var L=w[b];L===void 0?(w[b]=n.length,s=f.indexOf(b)!==-1,s||(C+=E),n.push({v:E,label:b,color:A(y[o],b),i:o,pts:[o],hidden:s})):(m=!0,d=n[L],d.v+=E,d.pts.push(o),d.hidden||(C+=E),d.color===!1&&y[o]&&(d.color=A(y[o],b)))}n=n.filter(function(k){return k.v>=0});var T=i.type==="funnelarea"?m:i.sort;return T&&n.sort(function(k,_){return _.v-k.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,u){return!n||(n=P(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),t[u]||(t[u]=n),n)}}function p(t,i){var n=(i||{}).type;n||(n="pie");var u=t._fullLayout,f=t.calcdata,l=u[n+"colorway"],y=u["_"+n+"colormap"];u["extend"+n+"colors"]&&(l=r(l,x));for(var h=0,S=0;S<f.length;S++){var c=f[S],o=c[0].trace.type;if(o===n)for(var d=0;d<c.length;d++){var w=c[d];w.color===!1&&(y[w.label]?w.color=y[w.label]:(y[w.label]=w.color=l[h%l.length],h++))}}}function r(t,i){var n,u=JSON.stringify(t),f=i[u];if(!f){for(f=t.slice(),n=0;n<t.length;n++)f.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)f.push(P(t[n]).darken(20).toHexString());i[u]=f}return f}j.exports={calc:M,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(j,H,e){var g=e(38248),P=e(3400),a=e(74996),x=e(86968).Q,M=e(31508).handleText,v=e(3400).coercePattern;function p(i,n){var u=P.isArrayOrTypedArray(i),f=P.isArrayOrTypedArray(n),l=Math.min(u?i.length:1/0,f?n.length:1/0);if(isFinite(l)||(l=0),l&&f){for(var y,h=0;h<l;h++){var S=n[h];if(g(S)&&S>0){y=!0;break}}y||(l=0)}return{hasLabels:u,hasValues:f,len:l}}function r(i,n,u,f,l){var y=f("marker.line.width");y&&f("marker.line.color",l?void 0:u.paper_bgcolor);var h=f("marker.colors");v(f,"marker.pattern",h),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=u.paper_bgcolor)}function t(i,n,u,f){function l(L,T){return P.coerce(i,n,a,L,T)}var y=l("labels"),h=l("values"),S=p(y,h),c=S.len;if(n._hasLabels=S.hasLabels,n._hasValues=S.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!c){n.visible=!1;return}n._length=c,r(i,n,f,l,!0),l("scalegroup");var o=l("text"),d=l("texttemplate"),w;if(d||(w=l("textinfo",P.isArrayOrTypedArray(o)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||w&&w!=="none"){var A=l("textposition");M(i,n,f,l,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(A)||A==="auto",m=C||A==="outside";m&&l("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&l("insidetextorientation")}else w==="none"&&l("textposition","none");x(n,f,l);var E=l("hole"),b=l("title.text");if(b){var s=l("title.position",E?"middle center":"top center");!E&&s==="middle center"&&(n.title.position="top center"),P.coerceFont(l,"title.font",f.font)}l("sort"),l("direction"),l("rotation"),l("pull")}j.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(j,H,e){var g=e(10624).appendArrayMultiPointValues;j.exports=function(a,x){var M={curveNumber:x.index,pointNumbers:a.pts,data:x._input,fullData:x,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(M.pointNumber=M.i=a.pts[0]),g(M,x,a.pts),x.type==="funnelarea"&&(delete M.v,delete M.i),M}},21552:function(j,H,e){var g=e(43616),P=e(76308);j.exports=function(x,M,v,p){var r=v.marker.pattern;r&&r.shape?g.pointStyle(x,v,p,M):P.fill(x,M.color)}},69656:function(j,H,e){var g=e(3400);function P(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}H.formatPiePercent=function(x,M){var v=P((x*100).toPrecision(3));return g.numSeparate(v,M)+"%"},H.formatPieValue=function(x,M){var v=P(x.toPrecision(10));return g.numSeparate(v,M)},H.getFirstFilled=function(x,M){if(g.isArrayOrTypedArray(x))for(var v=0;v<M.length;v++){var p=x[M[v]];if(p||p===0||p==="")return p}},H.castOption=function(x,M){if(g.isArrayOrTypedArray(x))return H.getFirstFilled(x,M);if(x)return x},H.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},75792:function(j,H,e){j.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(j){j.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(j,H,e){var g=e(3400),P=e(85204);j.exports=function(x,M){function v(p,r){return g.coerce(x,M,P,p,r)}v("hiddenlabels"),v("piecolorway",M.colorway),v("extendpiecolors")}},37820:function(j,H,e){var g=e(33428),P=e(7316),a=e(93024),x=e(76308),M=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),i=e(82744),n=i.recordMinTextSize,u=i.clearMinTextSize,f=e(78048).TEXTPAD,l=e(69656),y=e(53644),h=e(3400).isValidTextValue;function S(X,oe){var Y=X._context.staticPlot,q=X._fullLayout,se=q._size;u("pie",q),A(oe,X),W(oe,se);var Q=v.makeTraceGroups(q._pielayer,oe,"trace").each(function(K){var le=g.select(this),ie=K[0],ce=ie.trace;re(K),le.attr("stroke-linejoin","round"),le.each(function(){var ye=g.select(this).selectAll("g.slice").data(K);ye.enter().append("g").classed("slice",!0),ye.exit().remove();var Ce=[[[],[]],[[],[]]],Ae=!1;ye.each(function(Ne,Xe){if(Ne.hidden){g.select(this).selectAll("path,g").remove();return}Ne.pointNumber=Ne.i,Ne.curveNumber=ce.index,Ce[Ne.pxmid[1]<0?0:1][Ne.pxmid[0]<0?0:1].push(Ne);var ut=ie.cx,dt=ie.cy,at=g.select(this),We=at.selectAll("path.surface").data([Ne]);if(We.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),at.call(o,X,K),ce.pull){var rt=+l.castOption(ce.pull,Ne.pts)||0;rt>0&&(ut+=rt*Ne.pxmid[0],dt+=rt*Ne.pxmid[1])}Ne.cxFinal=ut,Ne.cyFinal=dt;function st(Ze,He,Ie,be){var me=be*(He[0]-Ze[0]),Me=be*(He[1]-Ze[1]);return"a"+be*ie.r+","+be*ie.r+" 0 "+Ne.largeArc+(Ie?" 1 ":" 0 ")+me+","+Me}var ht=ce.hole;if(Ne.v===ie.vTotal){var vt="M"+(ut+Ne.px0[0])+","+(dt+Ne.px0[1])+st(Ne.px0,Ne.pxmid,!0,1)+st(Ne.pxmid,Ne.px0,!0,1)+"Z";ht?We.attr("d","M"+(ut+ht*Ne.px0[0])+","+(dt+ht*Ne.px0[1])+st(Ne.px0,Ne.pxmid,!1,ht)+st(Ne.pxmid,Ne.px0,!1,ht)+"Z"+vt):We.attr("d",vt)}else{var At=st(Ne.px0,Ne.px1,!0,1);if(ht){var et=1-ht;We.attr("d","M"+(ut+ht*Ne.px1[0])+","+(dt+ht*Ne.px1[1])+st(Ne.px1,Ne.px0,!1,ht)+"l"+et*Ne.px0[0]+","+et*Ne.px0[1]+At+"Z")}else We.attr("d","M"+ut+","+dt+"l"+Ne.px0[0]+","+Ne.px0[1]+At+"Z")}ue(X,Ne,ie);var _e=l.castOption(ce.textposition,Ne.pts),Ve=at.selectAll("g.slicetext").data(Ne.text&&_e!=="none"?[0]:[]);Ve.enter().append("g").classed("slicetext",!0),Ve.exit().remove(),Ve.each(function(){var Ze=v.ensureSingle(g.select(this),"text","",function(Ke){Ke.attr("data-notex",1)}),He=v.ensureUniformFontSize(X,_e==="outside"?d(ce,Ne,q.font):w(ce,Ne,q.font));Ze.text(Ne.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,He).call(t.convertToTspans,X);var Ie=M.bBox(Ze.node()),be;if(_e==="outside")be=_(Ie,Ne);else if(be=C(Ie,Ne,ie),_e==="auto"&&be.scale<1){var me=v.ensureUniformFontSize(X,ce.outsidetextfont);Ze.call(M.font,me),Ie=M.bBox(Ze.node()),be=_(Ie,Ne)}var Me=be.textPosAngle,Te=Me===void 0?Ne.pxmid:ne(ie.r,Me);if(be.targetX=ut+Te[0]*be.rCenter+(be.x||0),be.targetY=dt+Te[1]*be.rCenter+(be.y||0),J(be,Ie),be.outside){var Oe=be.targetY;Ne.yLabelMin=Oe-Ie.height/2,Ne.yLabelMid=Oe,Ne.yLabelMax=Oe+Ie.height/2,Ne.labelExtraX=0,Ne.labelExtraY=0,Ae=!0}be.fontSize=He.size,n(ce.type,be,q),K[Xe].transform=be,v.setTransormAndDisplay(Ze,be)})});var ke=g.select(this).selectAll("g.titletext").data(ce.title.text?[0]:[]);if(ke.enter().append("g").classed("titletext",!0),ke.exit().remove(),ke.each(function(){var Ne=v.ensureSingle(g.select(this),"text","",function(dt){dt.attr("data-notex",1)}),Xe=ce.title.text;ce._meta&&(Xe=v.templateString(Xe,ce._meta)),Ne.text(Xe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,ce.title.font).call(t.convertToTspans,X);var ut;ce.title.position==="middle center"?ut=B(ie):ut=F(ie,se),Ne.attr("transform",r(ut.x,ut.y)+p(Math.min(1,ut.scale))+r(ut.tx,ut.ty))}),Ae&&V(Ce,ce),c(ye,ce),Ae&&ce.automargin){var we=M.bBox(le.node()),Ee=ce.domain,xe=se.w*(Ee.x[1]-Ee.x[0]),Pe=se.h*(Ee.y[1]-Ee.y[0]),Ue=(.5*xe-ie.r)/se.w,Be=(.5*Pe-ie.r)/se.h;P.autoMargin(X,"pie."+ce.uid+".automargin",{xl:Ee.x[0]-Ue,xr:Ee.x[1]+Ue,yb:Ee.y[0]-Be,yt:Ee.y[1]+Be,l:Math.max(ie.cx-ie.r-we.left,0),r:Math.max(we.right-(ie.cx+ie.r),0),b:Math.max(we.bottom-(ie.cy+ie.r),0),t:Math.max(ie.cy-ie.r-we.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var K=g.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)}function c(X,oe){X.each(function(Y){var q=g.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){q.select("path.textline").remove();return}var se=q.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,v.setTransormAndDisplay(se,Y.transform);var Q=Y.cxFinal+Y.pxmid[0],K=Y.cyFinal+Y.pxmid[1],le="M"+Q+","+K,ie=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var ce=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],ye=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(ce)>Math.abs(ye)?le+="l"+ye*Y.pxmid[0]/Y.pxmid[1]+","+ye+"H"+(Q+Y.labelExtraX+ie):le+="l"+Y.labelExtraX+","+ce+"v"+(ye-ce)+"h"+ie}else le+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+ie;v.ensureSingle(q,"path","textline").call(x.stroke,oe.outsidetextfont.color).attr({"stroke-width":Math.min(2,oe.outsidetextfont.size/8),d:le,fill:"none"})})}function o(X,oe,Y){var q=Y[0],se=q.cx,Q=q.cy,K=q.trace,le=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),X.on("mouseover",function(ie){var ce=oe._fullLayout,ye=oe._fullData[K.index];if(!(oe._dragging||ce.hovermode===!1)){var Ce=ye.hoverinfo;if(Array.isArray(Ce)&&(Ce=a.castHoverinfo({hoverinfo:[l.castOption(Ce,ie.pts)],_module:K._module},ce,0)),Ce==="all"&&(Ce="label+text+value+percent+name"),ye.hovertemplate||Ce!=="none"&&Ce!=="skip"&&Ce){var Ae=ie.rInscribed||0,ke=se+ie.pxmid[0]*(1-Ae),we=Q+ie.pxmid[1]*(1-Ae),Ee=ce.separators,xe=[];if(Ce&&Ce.indexOf("label")!==-1&&xe.push(ie.label),ie.text=l.castOption(ye.hovertext||ye.text,ie.pts),Ce&&Ce.indexOf("text")!==-1){var Pe=ie.text;v.isValidTextValue(Pe)&&xe.push(Pe)}ie.value=ie.v,ie.valueLabel=l.formatPieValue(ie.v,Ee),Ce&&Ce.indexOf("value")!==-1&&xe.push(ie.valueLabel),ie.percent=ie.v/q.vTotal,ie.percentLabel=l.formatPiePercent(ie.percent,Ee),Ce&&Ce.indexOf("percent")!==-1&&xe.push(ie.percentLabel);var Ue=ye.hoverlabel,Be=Ue.font,Ne=[];a.loneHover({trace:K,x0:ke-Ae*q.r,x1:ke+Ae*q.r,y:we,_x0:le?se+ie.TL[0]:ke-Ae*q.r,_x1:le?se+ie.TR[0]:ke+Ae*q.r,_y0:le?Q+ie.TL[1]:we-Ae*q.r,_y1:le?Q+ie.BL[1]:we+Ae*q.r,text:xe.join("<br>"),name:ye.hovertemplate||Ce.indexOf("name")!==-1?ye.name:void 0,idealAlign:ie.pxmid[0]<0?"left":"right",color:l.castOption(Ue.bgcolor,ie.pts)||ie.color,borderColor:l.castOption(Ue.bordercolor,ie.pts),fontFamily:l.castOption(Be.family,ie.pts),fontSize:l.castOption(Be.size,ie.pts),fontColor:l.castOption(Be.color,ie.pts),nameLength:l.castOption(Ue.namelength,ie.pts),textAlign:l.castOption(Ue.align,ie.pts),hovertemplate:l.castOption(ye.hovertemplate,ie.pts),hovertemplateLabels:ie,eventData:[y(ie,ye)]},{container:ce._hoverlayer.node(),outerContainer:ce._paper.node(),gd:oe,inOut_bbox:Ne}),ie.bbox=Ne[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,oe.emit("plotly_hover",{points:[y(ie,ye)],event:g.event})}}),X.on("mouseout",function(ie){var ce=oe._fullLayout,ye=oe._fullData[K.index],Ce=g.select(this).datum();K._hasHoverEvent&&(ie.originalEvent=g.event,oe.emit("plotly_unhover",{points:[y(Ce,ye)],event:g.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(a.loneUnhover(ce._hoverlayer.node()),K._hasHoverLabel=!1)}),X.on("click",function(ie){var ce=oe._fullLayout,ye=oe._fullData[K.index];oe._dragging||ce.hovermode===!1||(oe._hoverdata=[y(ie,ye)],a.click(oe,g.event))})}function d(X,oe,Y){var q=l.castOption(X.outsidetextfont.color,oe.pts)||l.castOption(X.textfont.color,oe.pts)||Y.color,se=l.castOption(X.outsidetextfont.family,oe.pts)||l.castOption(X.textfont.family,oe.pts)||Y.family,Q=l.castOption(X.outsidetextfont.size,oe.pts)||l.castOption(X.textfont.size,oe.pts)||Y.size;return{color:q,family:se,size:Q}}function w(X,oe,Y){var q=l.castOption(X.insidetextfont.color,oe.pts);!q&&X._input.textfont&&(q=l.castOption(X._input.textfont.color,oe.pts));var se=l.castOption(X.insidetextfont.family,oe.pts)||l.castOption(X.textfont.family,oe.pts)||Y.family,Q=l.castOption(X.insidetextfont.size,oe.pts)||l.castOption(X.textfont.size,oe.pts)||Y.size;return{color:q||x.contrast(oe.color),family:se,size:Q}}function A(X,oe){for(var Y,q,se=0;se<X.length;se++)if(Y=X[se][0],q=Y.trace,q.title.text){var Q=q.title.text;q._meta&&(Q=v.templateString(Q,q._meta));var K=M.tester.append("text").attr("data-notex",1).text(Q).call(M.font,q.title.font).call(t.convertToTspans,oe),le=M.bBox(K.node(),!0);Y.titleBox={width:le.width,height:le.height},K.remove()}}function C(X,oe,Y){var q=Y.r||oe.rpx1,se=oe.rInscribed,Q=oe.startangle===oe.stopangle;if(Q)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var K=oe.ring,le=K===1&&Math.abs(oe.startangle-oe.stopangle)===Math.PI*2,ie=oe.halfangle,ce=oe.midangle,ye=Y.trace.insidetextorientation,Ce=ye==="horizontal",Ae=ye==="tangential",ke=ye==="radial",we=ye==="auto",Ee=[],xe;if(!we){var Pe=function(at,We){if(m(oe,at)){var rt=Math.abs(at-oe.startangle),st=Math.abs(at-oe.stopangle),ht=rt<st?rt:st;We==="tan"?xe=b(X,q,K,ht,0):xe=E(X,q,K,ht,Math.PI/2),xe.textPosAngle=at,Ee.push(xe)}},Ue;if(Ce||Ae){for(Ue=4;Ue>=-4;Ue-=2)Pe(Math.PI*Ue,"tan");for(Ue=4;Ue>=-4;Ue-=2)Pe(Math.PI*(Ue+1),"tan")}if(Ce||ke){for(Ue=4;Ue>=-4;Ue-=2)Pe(Math.PI*(Ue+1.5),"rad");for(Ue=4;Ue>=-4;Ue-=2)Pe(Math.PI*(Ue+.5),"rad")}}if(le||we||Ce){var Be=Math.sqrt(X.width*X.width+X.height*X.height);if(xe={scale:se*q*2/Be,rCenter:1-se,rotate:0},xe.textPosAngle=(oe.startangle+oe.stopangle)/2,xe.scale>=1)return xe;Ee.push(xe)}(we||ke)&&(xe=E(X,q,K,ie,ce),xe.textPosAngle=(oe.startangle+oe.stopangle)/2,Ee.push(xe)),(we||Ae)&&(xe=b(X,q,K,ie,ce),xe.textPosAngle=(oe.startangle+oe.stopangle)/2,Ee.push(xe));for(var Ne=0,Xe=0,ut=0;ut<Ee.length;ut++){var dt=Ee[ut].scale;if(Xe<dt&&(Xe=dt,Ne=ut),!we&&Xe>=1)break}return Ee[Ne]}function m(X,oe){var Y=X.startangle,q=X.stopangle;return Y>oe&&oe>q||Y<oe&&oe<q}function E(X,oe,Y,q,se){oe=Math.max(0,oe-2*f);var Q=X.width/X.height,K=T(Q,q,oe,Y);return{scale:K*2/X.height,rCenter:s(Q,K/oe),rotate:L(se)}}function b(X,oe,Y,q,se){oe=Math.max(0,oe-2*f);var Q=X.height/X.width,K=T(Q,q,oe,Y);return{scale:K*2/X.width,rCenter:s(Q,K/oe),rotate:L(se+Math.PI/2)}}function s(X,oe){return Math.cos(oe)-X*oe}function L(X){return(180/Math.PI*X+720)%180-90}function T(X,oe,Y,q){var se=X+1/(2*Math.tan(oe));return Y*Math.min(1/(Math.sqrt(se*se+.5)+se),q/(Math.sqrt(X*X+q/2)+X))}function k(X,oe){return X.v===oe.vTotal&&!oe.trace.hole?1:Math.min(1/(1+1/Math.sin(X.halfangle)),X.ring/2)}function _(X,oe){var Y=oe.pxmid[0],q=oe.pxmid[1],se=X.width/2,Q=X.height/2;return Y<0&&(se*=-1),q<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(Q)*(se>0?1:-1)/2,y:Q/(1+Y*Y/(q*q)),outside:!0}}function B(X){var oe=Math.sqrt(X.titleBox.width*X.titleBox.width+X.titleBox.height*X.titleBox.height);return{x:X.cx,y:X.cy,scale:X.trace.hole*X.r*2/oe,tx:0,ty:-X.titleBox.height/2+X.trace.title.font.size}}function F(X,oe){var Y=1,q=1,se,Q=X.trace,K={x:X.cx,y:X.cy},le={tx:0,ty:0};le.ty+=Q.title.font.size,se=z(Q),Q.title.position.indexOf("top")!==-1?(K.y-=(1+se)*X.r,le.ty-=X.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(K.y+=(1+se)*X.r);var ie=O(X.r,X.trace.aspectratio),ce=oe.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(ce=ce+ie,K.x-=(1+se)*ie,le.tx+=X.titleBox.width/2):Q.title.position.indexOf("center")!==-1?ce*=2:Q.title.position.indexOf("right")!==-1&&(ce=ce+ie,K.x+=(1+se)*ie,le.tx-=X.titleBox.width/2),Y=ce/X.titleBox.width,q=N(X,oe)/X.titleBox.height,{x:K.x,y:K.y,scale:Math.min(Y,q),tx:le.tx,ty:le.ty}}function O(X,oe){return X/(oe===void 0?1:oe)}function N(X,oe){var Y=X.trace,q=oe.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(X.titleBox.height,q/2)}function z(X){var oe=X.pull;if(!oe)return 0;var Y;if(v.isArrayOrTypedArray(oe))for(oe=0,Y=0;Y<X.pull.length;Y++)X.pull[Y]>oe&&(oe=X.pull[Y]);return oe}function V(X,oe){var Y,q,se,Q,K,le,ie,ce,ye,Ce,Ae,ke,we;function Ee(Be,Ne){return Be.pxmid[1]-Ne.pxmid[1]}function xe(Be,Ne){return Ne.pxmid[1]-Be.pxmid[1]}function Pe(Be,Ne){Ne||(Ne={});var Xe=Ne.labelExtraY+(q?Ne.yLabelMax:Ne.yLabelMin),ut=q?Be.yLabelMin:Be.yLabelMax,dt=q?Be.yLabelMax:Be.yLabelMin,at=Be.cyFinal+K(Be.px0[1],Be.px1[1]),We=Xe-ut,rt,st,ht,vt,At,et;if(We*ie>0&&(Be.labelExtraY=We),!!v.isArrayOrTypedArray(oe.pull))for(st=0;st<Ce.length;st++)ht=Ce[st],!(ht===Be||(l.castOption(oe.pull,Be.pts)||0)>=(l.castOption(oe.pull,ht.pts)||0))&&((Be.pxmid[1]-ht.pxmid[1])*ie>0?(vt=ht.cyFinal+K(ht.px0[1],ht.px1[1]),We=vt-ut-Be.labelExtraY,We*ie>0&&(Be.labelExtraY+=We)):(dt+Be.labelExtraY-at)*ie>0&&(rt=3*le*Math.abs(st-Ce.indexOf(Be)),At=ht.cxFinal+Q(ht.px0[0],ht.px1[0]),et=At+rt-(Be.cxFinal+Be.pxmid[0])-Be.labelExtraX,et*le>0&&(Be.labelExtraX+=et)))}for(q=0;q<2;q++)for(se=q?Ee:xe,K=q?Math.max:Math.min,ie=q?1:-1,Y=0;Y<2;Y++){for(Q=Y?Math.max:Math.min,le=Y?1:-1,ce=X[q][Y],ce.sort(se),ye=X[1-q][Y],Ce=ye.concat(ce),ke=[],Ae=0;Ae<ce.length;Ae++)ce[Ae].yLabelMid!==void 0&&ke.push(ce[Ae]);for(we=!1,Ae=0;q&&Ae<ye.length;Ae++)if(ye[Ae].yLabelMid!==void 0){we=ye[Ae];break}for(Ae=0;Ae<ke.length;Ae++){var Ue=Ae&&ke[Ae-1];we&&!Ae&&(Ue=we),Pe(ke[Ae],Ue)}}}function W(X,oe){for(var Y=[],q=0;q<X.length;q++){var se=X[q][0],Q=se.trace,K=Q.domain,le=oe.w*(K.x[1]-K.x[0]),ie=oe.h*(K.y[1]-K.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(ie-=N(se,oe));var ce=le/2,ye=ie/2;Q.type==="funnelarea"&&!Q.scalegroup&&(ye/=Q.aspectratio),se.r=Math.min(ce,ye)/(1+z(Q)),se.cx=oe.l+oe.w*(Q.domain.x[1]+Q.domain.x[0])/2,se.cy=oe.t+oe.h*(1-Q.domain.y[0])-ie/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(se.cy-=N(se,oe)),Q.scalegroup&&Y.indexOf(Q.scalegroup)===-1&&Y.push(Q.scalegroup)}$(X,Y)}function $(X,oe){for(var Y,q,se,Q=0;Q<oe.length;Q++){var K=1/0,le=oe[Q];for(q=0;q<X.length;q++)if(Y=X[q][0],se=Y.trace,se.scalegroup===le){var ie;if(se.type==="pie")ie=Y.r*Y.r;else if(se.type==="funnelarea"){var ce,ye;se.aspectratio>1?(ce=Y.r,ye=ce/se.aspectratio):(ye=Y.r,ce=ye*se.aspectratio),ce*=(1+se.baseratio)/2,ie=ce*ye}K=Math.min(K,ie/Y.vTotal)}for(q=0;q<X.length;q++)if(Y=X[q][0],se=Y.trace,se.scalegroup===le){var Ce=K*Y.vTotal;se.type==="funnelarea"&&(Ce/=(1+se.baseratio)/2,Ce/=se.aspectratio),Y.r=Math.sqrt(Ce)}}}function re(X){var oe=X[0],Y=oe.r,q=oe.trace,se=l.getRotationAngle(q.rotation),Q=2*Math.PI/oe.vTotal,K="px0",le="px1",ie,ce,ye;if(q.direction==="counterclockwise"){for(ie=0;ie<X.length&&X[ie].hidden;ie++);if(ie===X.length)return;se+=Q*X[ie].v,Q*=-1,K="px1",le="px0"}for(ye=ne(Y,se),ie=0;ie<X.length;ie++)ce=X[ie],!ce.hidden&&(ce[K]=ye,ce.startangle=se,se+=Q*ce.v/2,ce.pxmid=ne(Y,se),ce.midangle=se,se+=Q*ce.v/2,ye=ne(Y,se),ce.stopangle=se,ce[le]=ye,ce.largeArc=ce.v>oe.vTotal/2?1:0,ce.halfangle=Math.PI*Math.min(ce.v/oe.vTotal,.5),ce.ring=1-q.hole,ce.rInscribed=k(ce,oe))}function ne(X,oe){return[X*Math.sin(oe),-X*Math.cos(oe)]}function ue(X,oe,Y){var q=X._fullLayout,se=Y.trace,Q=se.texttemplate,K=se.textinfo;if(!Q&&K&&K!=="none"){var le=K.split("+"),ie=function(Ne){return le.indexOf(Ne)!==-1},ce=ie("label"),ye=ie("text"),Ce=ie("value"),Ae=ie("percent"),ke=q.separators,we;if(we=ce?[oe.label]:[],ye){var Ee=l.getFirstFilled(se.text,oe.pts);h(Ee)&&we.push(Ee)}Ce&&we.push(l.formatPieValue(oe.v,ke)),Ae&&we.push(l.formatPiePercent(oe.v/Y.vTotal,ke)),oe.text=we.join("<br>")}function xe(Ne){return{label:Ne.label,value:Ne.v,valueLabel:l.formatPieValue(Ne.v,q.separators),percent:Ne.v/Y.vTotal,percentLabel:l.formatPiePercent(Ne.v/Y.vTotal,q.separators),color:Ne.color,text:Ne.text,customdata:v.castOption(se,Ne.i,"customdata")}}if(Q){var Pe=v.castOption(se,oe.i,"texttemplate");if(!Pe)oe.text="";else{var Ue=xe(oe),Be=l.getFirstFilled(se.text,oe.pts);(h(Be)||Be==="")&&(Ue.text=Be),oe.text=v.texttemplateString(Pe,Ue,X._fullLayout._d3locale,Ue,se._meta||{})}}}function J(X,oe){var Y=X.rotate*Math.PI/180,q=Math.cos(Y),se=Math.sin(Y),Q=(oe.left+oe.right)/2,K=(oe.top+oe.bottom)/2;X.textX=Q*q-K*se,X.textY=Q*se+K*q,X.noCenter=!0}j.exports={plot:S,formatSliceLabel:ue,transformInsideText:C,determineInsideTextFont:w,positionTitleOutside:F,prerenderTitles:A,layoutAreas:W,attachFxHandlers:o,computeTransform:J}},22152:function(j,H,e){var g=e(33428),P=e(10528),a=e(82744).resizeText;j.exports=function(M){var v=M._fullLayout._pielayer.selectAll(".trace");a(M,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,i=g.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){g.select(this).call(P,n,t,M)})})}},10528:function(j,H,e){var g=e(76308),P=e(69656).castOption,a=e(21552);j.exports=function(M,v,p,r){var t=p.marker.line,i=P(t.color,v.pts)||g.defaultLine,n=P(t.width,v.pts)||0;M.call(a,v,p,r).style("stroke-width",n).call(g.stroke,i)}},35484:function(j,H,e){var g=e(52904);j.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(j,H,e){var g=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,a=e(43080),x=e(19280).findExtremes,M=e(44928);function v(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[i*2],this.pickXYData[i*2+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:P(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=M(t,{})},p.updateFast=function(t){var i=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,u=this.pickXYData=t.xy,f=t.xbounds&&t.ybounds,l=t.indices,y,h,S,c=this.bounds,o,d,w;if(u){if(S=u,y=u.length>>>1,f)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(w=0;w<y;w++)o=S[w*2],d=S[w*2+1],o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(l)h=l;else for(h=new Int32Array(y),w=0;w<y;w++)h[w]=w}else for(y=i.length,S=new Float32Array(2*y),h=new Int32Array(y),w=0;w<y;w++)o=i[w],d=n[w],h[w]=w,S[w*2]=o,S[w*2+1]=d,o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=S;var A=a(t.marker.color),C=a(t.marker.border.color),m=t.opacity*t.marker.opacity;A[3]*=m,this.pointcloudOptions.color=A;var E=t.marker.blend;if(E===null){var b=100;E=i.length<b||n.length<b}this.pointcloudOptions.blend=E,C[3]*=m,this.pointcloudOptions.borderColor=C;var s=t.marker.sizemin,L=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=L,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var T=this.scene.xaxis,k=this.scene.yaxis,_=L/2||.5;t._extremes[T._id]=x(T,[c[0],c[2]],{ppad:_}),t._extremes[k._id]=x(k,[c[1],c[3]],{ppad:_})},p.dispose=function(){this.pointcloud.dispose()};function r(t,i){var n=new v(t,i.uid);return n.update(i),n}j.exports=r},41904:function(j,H,e){var g=e(3400),P=e(35484);j.exports=function(x,M,v){function p(r,t){return g.coerce(x,M,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),x.xy&&x.xy instanceof Float32Array&&(M.xy=x.xy),x.indices&&x.indices instanceof Int32Array&&(M.indices=x.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),M._length=null}},156:function(j,H,e){j.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(j,H,e){var g=e(25376),P=e(45464),a=e(22548),x=e(55756),M=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,i=e(92880).extendFlat,n=e(67824).overrideAll,u=j.exports=n({hoverinfo:i({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:x.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:x.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:x.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:i(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");u.transforms=void 0},10760:function(j,H,e){var g=e(67824).overrideAll,P=e(84888)._M,a=e(59596),x=e(65460),M=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),i="sankey";H.name=i,H.baseLayoutAttrOverrides=g({hoverlabel:x.hoverlabel},"plot","nested"),H.plot=function(u){var f=P(u.calcdata,i)[0];a(u,f),H.updateFx(u)},H.clean=function(u,f,l,y){var h=y._has&&y._has(i),S=f._has&&f._has(i);h&&!S&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},H.updateFx=function(u){for(var f=0;f<u._fullData.length;f++)n(u,f)};function n(u,f){var l=u._fullData[f],y=u._fullLayout,h=y.dragmode,S=y.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){M(c,S);var o={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},w={gd:u,element:c.node(),plotinfo:{id:f,xaxis:o,yaxis:d,fillRangeItems:r.noop},subplot:f,xaxes:[o],yaxes:[d],doneFnCompleted:function(A){var C=u._fullData[f],m,E=C.node.groups.slice(),b=[];function s(_){for(var B=C._sankey.graph.nodes,F=0;F<B.length;F++)if(B[F].pointNumber===_)return B[F]}for(var L=0;L<A.length;L++){var T=s(A[L].pointNumber);if(T)if(T.group){for(var k=0;k<T.childrenNodes.length;k++)b.push(T.childrenNodes[k].pointNumber);E[T.pointNumber-C.node._count]=!1}else b.push(T.pointNumber)}m=E.filter(Boolean).concat([b]),t.call("_guiRestyle",u,{"node.groups":[m]},f)}};w.prepFn=function(A,C,m){p(A,C,m,w,h)},v.init(w)}}},48068:function(j,H,e){var g=e(78484),P=e(3400),a=e(71688).wrap,x=P.isArrayOrTypedArray,M=P.isIndex,v=e(8932);function p(t){var i=t.node,n=t.link,u=[],f=x(n.color),l=x(n.hovercolor),y=x(n.customdata),h={},S={},c=n.colorscales.length,o;for(o=0;o<c;o++){var d=n.colorscales[o],w=v.extractScale(d,{cLetter:"c"}),A=v.makeColorScaleFunc(w);S[d.label]=A}var C=0;for(o=0;o<n.value.length;o++)n.source[o]>C&&(C=n.source[o]),n.target[o]>C&&(C=n.target[o]);var m=C+1;t.node._count=m;var E,b=t.node.groups,s={};for(o=0;o<b.length;o++){var L=b[o];for(E=0;E<L.length;E++){var T=L[E],k=m+o;s.hasOwnProperty(T)?P.warn("Node "+T+" is already part of a group."):s[T]=k}}var _={source:[],target:[]};for(o=0;o<n.value.length;o++){var B=n.value[o],F=n.source[o],O=n.target[o];if(B>0&&M(F,m)&&M(O,m)&&!(s.hasOwnProperty(F)&&s.hasOwnProperty(O)&&s[F]===s[O])){s.hasOwnProperty(O)&&(O=s[O]),s.hasOwnProperty(F)&&(F=s[F]),F=+F,O=+O,h[F]=h[O]=!0;var N="";n.label&&n.label[o]&&(N=n.label[o]);var z=null;N&&S.hasOwnProperty(N)&&(z=S[N]),u.push({pointNumber:o,label:N,color:f?n.color[o]:n.color,hovercolor:l?n.hovercolor[o]:n.hovercolor,customdata:y?n.customdata[o]:n.customdata,concentrationscale:z,source:F,target:O,value:+B}),_.source.push(F),_.target.push(O)}}var V=m+b.length,W=x(i.color),$=x(i.customdata),re=[];for(o=0;o<V;o++)if(h[o]){var ne=i.label[o];re.push({group:o>m-1,childrenNodes:[],pointNumber:o,label:ne,color:W?i.color[o]:i.color,customdata:$?i.customdata[o]:i.customdata})}var ue=!1;return r(V,_.source,_.target)&&(ue=!0),{circular:ue,links:u,nodes:re,groups:b,groupLookup:s}}function r(t,i,n){for(var u=P.init2dArray(t,0),f=0;f<Math.min(i.length,n.length);f++)if(P.isIndex(i[f],t)&&P.isIndex(n[f],t)){if(i[f]===n[f])return!0;u[i[f]].push(n[f])}var l=g(u);return l.components.some(function(y){return y.length>1})}j.exports=function(i,n){var u=p(n);return a({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},11820:function(j){j.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(j,H,e){var g=e(3400),P=e(41440),a=e(76308),x=e(49760),M=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);j.exports=function(n,u,f,l){function y(k,_){return g.coerce(n,u,P,k,_)}var h=g.extendDeep(l.hoverlabel,n.hoverlabel),S=n.node,c=p.newContainer(u,"node");function o(k,_){return g.coerce(S,c,P.node,k,_)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(S,c,o,h),o("hovertemplate"),o("align");var d=l.colorway,w=function(k){return d[k%d.length]};o("color",c.label.map(function(k,_){return a.addOpacity(w(_),.8)})),o("customdata");var A=n.link||{},C=p.newContainer(u,"link");function m(k,_){return g.coerce(A,C,P.link,k,_)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),v(A,C,m,h),m("hovertemplate");var E=x(l.paper_bgcolor).getLuminance()<.333,b=E?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=m("color",b);function L(k){var _=x(k);if(!_.isValid())return k;var B=_.getAlpha();return B<=.8?_.setAlpha(B+.2):_=E?_.brighten():_.darken(),_.toRgbString()}m("hovercolor",Array.isArray(s)?s.map(L):L(s)),m("customdata"),r(A,C,{name:"colorscales",handleItemDefaults:t}),M(u,l,y),y("orientation"),y("valueformat"),y("valuesuffix");var T;c.x.length&&c.y.length&&(T="freeform"),y("arrangement",T),g.coerceFont(y,"textfont",g.extendFlat({},l.font)),u._length=null};function t(i,n){function u(f,l){return g.coerce(i,n,P.link.colorscales,f,l)}u("label"),u("cmin"),u("cmax"),u("colorscale")}},45499:function(j,H,e){j.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(j,H,e){var g=e(33428),P=e(3400),a=P.numberFormat,x=e(83248),M=e(93024),v=e(76308),p=e(11820).cn,r=P._;function t(d){return d!==""}function i(d,w){return d.filter(function(A){return A.key===w.traceId})}function n(d,w){g.select(d).select("path").style("fill-opacity",w),g.select(d).select("rect").style("fill-opacity",w)}function u(d){g.select(d).select("text.name").style("fill","black")}function f(d){return function(w){return d.node.sourceLinks.indexOf(w.link)!==-1||d.node.targetLinks.indexOf(w.link)!==-1}}function l(d){return function(w){return w.node.sourceLinks.indexOf(d.link)!==-1||w.node.targetLinks.indexOf(d.link)!==-1}}function y(d,w,A){w&&A&&i(A,w).selectAll("."+p.sankeyLink).filter(f(w)).call(S.bind(0,w,A,!1))}function h(d,w,A){w&&A&&i(A,w).selectAll("."+p.sankeyLink).filter(f(w)).call(c.bind(0,w,A,!1))}function S(d,w,A,C){C.style("fill",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverHue}).style("fill-opacity",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverAlpha}),C.each(function(m){var E=m.link.label;E!==""&&i(w,d).selectAll("."+p.sankeyLink).filter(function(b){return b.link.label===E}).style("fill",function(b){if(!b.link.concentrationscale)return b.tinyColorHoverHue}).style("fill-opacity",function(b){if(!b.link.concentrationscale)return b.tinyColorHoverAlpha})}),A&&i(w,d).selectAll("."+p.sankeyNode).filter(l(d)).call(y)}function c(d,w,A,C){C.style("fill",function(m){return m.tinyColorHue}).style("fill-opacity",function(m){return m.tinyColorAlpha}),C.each(function(m){var E=m.link.label;E!==""&&i(w,d).selectAll("."+p.sankeyLink).filter(function(b){return b.link.label===E}).style("fill",function(b){return b.tinyColorHue}).style("fill-opacity",function(b){return b.tinyColorAlpha})}),A&&i(w,d).selectAll(p.sankeyNode).filter(l(d)).call(h)}function o(d,w){var A=d.hoverlabel||{},C=P.nestedProperty(A,w).get();return Array.isArray(C)?!1:C}j.exports=function(w,A){for(var C=w._fullLayout,m=C._paper,E=C._size,b=0;b<w._fullData.length;b++)if(w._fullData[b].visible&&w._fullData[b].type===p.sankey&&!w._fullData[b]._viewInitial){var s=w._fullData[b].node;w._fullData[b]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var L=function(ne,ue){var J=ue.link;J.originalEvent=g.event,w._hoverdata=[J],M.click(w,{target:!0})},T=function(ne,ue,J){w._fullLayout.hovermode!==!1&&(g.select(ne).call(S.bind(0,ue,J,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,w.emit("plotly_hover",{event:g.event,points:[ue.link]})))},k=r(w,"source:")+" ",_=r(w,"target:")+" ",B=r(w,"concentration:")+" ",F=r(w,"incoming flow count:")+" ",O=r(w,"outgoing flow count:")+" ",N=function(ne,ue){if(w._fullLayout.hovermode===!1)return;var J=ue.link.trace.link;if(J.hoverinfo==="none"||J.hoverinfo==="skip")return;var X=[];function oe(ie){var ce,ye;ie.circular?(ce=(ie.circularPathData.leftInnerExtent+ie.circularPathData.rightInnerExtent)/2,ye=ie.circularPathData.verticalFullExtent):(ce=(ie.source.x1+ie.target.x0)/2,ye=(ie.y0+ie.y1)/2);var Ce=[ce,ye];return ie.trace.orientation==="v"&&Ce.reverse(),Ce[0]+=ue.parent.translateX,Ce[1]+=ue.parent.translateY,Ce}for(var Y=0,q=0;q<ue.flow.links.length;q++){var se=ue.flow.links[q];if(!(w._fullLayout.hovermode==="closest"&&ue.link.pointNumber!==se.pointNumber)){ue.link.pointNumber===se.pointNumber&&(Y=q),se.fullData=se.trace,J=ue.link.trace.link;var Q=oe(se),K={valueLabel:a(ue.valueFormat)(se.value)+ue.valueSuffix};X.push({x:Q[0],y:Q[1],name:K.valueLabel,text:[se.label||"",k+se.source.label,_+se.target.label,se.concentrationscale?B+a("%0.2f")(se.flow.labelConcentration):""].filter(t).join("<br>"),color:o(J,"bgcolor")||v.addOpacity(se.color,1),borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:g.event.x<Q[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[se]})}}var le=M.loneHover(X,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:w,anchorIndex:Y});le.each(function(){var ie=this;ue.link.concentrationscale||n(ie,.65),u(ie)})},z=function(ne,ue,J){w._fullLayout.hovermode!==!1&&(g.select(ne).call(c.bind(0,ue,J,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,w.emit("plotly_unhover",{event:g.event,points:[ue.link]})),M.loneUnhover(C._hoverlayer.node()))},V=function(ne,ue,J){var X=ue.node;X.originalEvent=g.event,w._hoverdata=[X],g.select(ne).call(h,ue,J),M.click(w,{target:!0})},W=function(ne,ue,J){w._fullLayout.hovermode!==!1&&(g.select(ne).call(y,ue,J),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,w.emit("plotly_hover",{event:g.event,points:[ue.node]})))},$=function(ne,ue){if(w._fullLayout.hovermode!==!1){var J=ue.node.trace.node;if(!(J.hoverinfo==="none"||J.hoverinfo==="skip")){var X=g.select(ne).select("."+p.nodeRect),oe=w._fullLayout._paperdiv.node().getBoundingClientRect(),Y=X.node().getBoundingClientRect(),q=Y.left-2-oe.left,se=Y.right+2-oe.left,Q=Y.top+Y.height/4-oe.top,K={valueLabel:a(ue.valueFormat)(ue.node.value)+ue.valueSuffix};ue.node.fullData=ue.node.trace,w._fullLayout._calcInverseTransform(w);var le=w._fullLayout._invScaleX,ie=w._fullLayout._invScaleY,ce=M.loneHover({x0:le*q,x1:le*se,y:ie*Q,name:a(ue.valueFormat)(ue.node.value)+ue.valueSuffix,text:[ue.node.label,F+ue.node.targetLinks.length,O+ue.node.sourceLinks.length].filter(t).join("<br>"),color:o(J,"bgcolor")||ue.tinyColorHue,borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[ue.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:w});n(ce,.85),u(ce)}}},re=function(ne,ue,J){w._fullLayout.hovermode!==!1&&(g.select(ne).call(h,ue,J),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,w.emit("plotly_unhover",{event:g.event,points:[ue.node]})),M.loneUnhover(C._hoverlayer.node()))};x(w,m,A,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:T,follow:N,unhover:z,select:L},nodeEvents:{hover:W,follow:$,unhover:re,select:V}})}},83248:function(j,H,e){var g=e(49812),P=e(67756).Gz,a=e(33428),x=e(26800),M=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),i=e(3400),n=i.strTranslate,u=i.strRotate,f=e(71688),l=f.keyFun,y=f.repeat,h=f.unwrap,S=e(72736),c=e(24040),o=e(84284),d=o.CAP_SHIFT,w=o.LINE_SPACING,A=3;function C(oe,Y,q){var se=h(Y),Q=se.trace,K=Q.domain,le=Q.orientation==="h",ie=Q.node.pad,ce=Q.node.thickness,ye={justify:x.sankeyJustify,left:x.sankeyLeft,right:x.sankeyRight,center:x.sankeyCenter}[Q.node.align],Ce=oe.width*(K.x[1]-K.x[0]),Ae=oe.height*(K.y[1]-K.y[0]),ke=se._nodes,we=se._links,Ee=se.circular,xe;Ee?xe=M.sankeyCircular().circularLinkGap(0):xe=x.sankey(),xe.iterations(v.sankeyIterations).size(le?[Ce,Ae]:[Ae,Ce]).nodeWidth(ce).nodePadding(ie).nodeId(function(et){return et.pointNumber}).nodeAlign(ye).nodes(ke).links(we);var Pe=xe();xe.nodePadding()<ie&&i.warn("node.pad was reduced to ",xe.nodePadding()," to fit within the figure.");var Ue,Be,Ne;for(var Xe in se._groupLookup){var ut=parseInt(se._groupLookup[Xe]),dt;for(Ue=0;Ue<Pe.nodes.length;Ue++)if(Pe.nodes[Ue].pointNumber===ut){dt=Pe.nodes[Ue];break}if(dt){var at={pointNumber:parseInt(Xe),x0:dt.x0,x1:dt.x1,y0:dt.y0,y1:dt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Pe.nodes.unshift(at),dt.childrenNodes.unshift(at)}}function We(){for(Ue=0;Ue<Pe.nodes.length;Ue++){var et=Pe.nodes[Ue],_e={},Ve,Ze;for(Be=0;Be<et.targetLinks.length;Be++)Ze=et.targetLinks[Be],Ve=Ze.source.pointNumber+":"+Ze.target.pointNumber,_e.hasOwnProperty(Ve)||(_e[Ve]=[]),_e[Ve].push(Ze);var He=Object.keys(_e);for(Be=0;Be<He.length;Be++){Ve=He[Be];var Ie=_e[Ve],be=0,me={};for(Ne=0;Ne<Ie.length;Ne++)Ze=Ie[Ne],me[Ze.label]||(me[Ze.label]=0),me[Ze.label]+=Ze.value,be+=Ze.value;for(Ne=0;Ne<Ie.length;Ne++)Ze=Ie[Ne],Ze.flow={value:be,labelConcentration:me[Ze.label]/be,concentration:Ze.value/be,links:Ie},Ze.concentrationscale&&(Ze.color=p(Ze.concentrationscale(Ze.flow.labelConcentration)))}var Me=0;for(Be=0;Be<et.sourceLinks.length;Be++)Me+=et.sourceLinks[Be].value;for(Be=0;Be<et.sourceLinks.length;Be++)Ze=et.sourceLinks[Be],Ze.concentrationOut=Ze.value/Me;var Te=0;for(Be=0;Be<et.targetLinks.length;Be++)Te+=et.targetLinks[Be].value;for(Be=0;Be<et.targetLinks.length;Be++)Ze=et.targetLinks[Be],Ze.concenrationIn=Ze.value/Te}}We();function rt(et){et.forEach(function(_e){var Ve,Ze,He=0,Ie=_e.length,be;for(_e.sort(function(me,Me){return me.y0-Me.y0}),be=0;be<Ie;++be)Ve=_e[be],Ve.y0>=He||(Ze=He-Ve.y0,Ze>1e-6&&(Ve.y0+=Ze,Ve.y1+=Ze)),He=Ve.y1+ie})}function st(et){var _e=et.map(function(Me,Te){return{x0:Me.x0,index:Te}}).sort(function(Me,Te){return Me.x0-Te.x0}),Ve=[],Ze=-1,He,Ie=-1/0,be;for(Ue=0;Ue<_e.length;Ue++){var me=et[_e[Ue].index];me.x0>Ie+ce&&(Ze+=1,He=me.x0),Ie=me.x0,Ve[Ze]||(Ve[Ze]=[]),Ve[Ze].push(me),be=He-me.x0,me.x0+=be,me.x1+=be}return Ve}if(Q.node.x.length&&Q.node.y.length){for(Ue=0;Ue<Math.min(Q.node.x.length,Q.node.y.length,Pe.nodes.length);Ue++)if(Q.node.x[Ue]&&Q.node.y[Ue]){var ht=[Q.node.x[Ue]*Ce,Q.node.y[Ue]*Ae];Pe.nodes[Ue].x0=ht[0]-ce/2,Pe.nodes[Ue].x1=ht[0]+ce/2;var vt=Pe.nodes[Ue].y1-Pe.nodes[Ue].y0;Pe.nodes[Ue].y0=ht[1]-vt/2,Pe.nodes[Ue].y1=ht[1]+vt/2}if(Q.arrangement==="snap"){ke=Pe.nodes;var At=st(ke);rt(At)}xe.update(Pe)}return{circular:Ee,key:q,trace:Q,guid:i.randstr(),horizontal:le,width:Ce,height:Ae,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:K.x[0]*oe.width+oe.margin.l,translateY:oe.height-K.y[1]*oe.height+oe.margin.t,dragParallel:le?Ae:Ce,dragPerpendicular:le?Ce:Ae,arrangement:Q.arrangement,sankey:xe,graph:Pe,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(oe,Y,q){var se=p(Y.color),Q=p(Y.hovercolor),K=Y.source.label+"|"+Y.target.label,le=K+"__"+q;return Y.trace=oe.trace,Y.curveNumber=oe.trace.index,{circular:oe.circular,key:le,traceId:oe.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:r.tinyRGB(se),tinyColorAlpha:se.getAlpha(),tinyColorHoverHue:r.tinyRGB(Q),tinyColorHoverAlpha:Q.getAlpha(),linkPath:b,linkLineColor:oe.linkLineColor,linkLineWidth:oe.linkLineWidth,linkArrowLength:oe.linkArrowLength,valueFormat:oe.valueFormat,valueSuffix:oe.valueSuffix,sankey:oe.sankey,parent:oe,interactionState:oe.interactionState,flow:Y.flow}}function E(oe,Y){var q="",se=oe.width/2,Q=oe.circularPathData;return oe.circularLinkType==="top"?q="M "+(Q.targetX-Y)+" "+(Q.targetY+se)+" L"+(Q.rightInnerExtent-Y)+" "+(Q.targetY+se)+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightSmallArcRadius+se)+" 0 0 1 "+(Q.rightFullExtent-se-Y)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-se-Y)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightLargeArcRadius+se)+" 0 0 1 "+(Q.rightInnerExtent-Y)+" "+(Q.verticalFullExtent-se)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-se)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftLargeArcRadius+se)+" 0 0 1 "+(Q.leftFullExtent+se)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+se)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftSmallArcRadius+se)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+se)+"L"+Q.sourceX+" "+(Q.sourceY+se)+"L"+Q.sourceX+" "+(Q.sourceY-se)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-se)+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftSmallArcRadius-se)+" 0 0 0 "+(Q.leftFullExtent-se)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-se)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftLargeArcRadius-se)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+se)+"L"+(Q.rightInnerExtent-Y)+" "+(Q.verticalFullExtent+se)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightLargeArcRadius-se)+" 0 0 0 "+(Q.rightFullExtent+se-Y)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+se-Y)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightSmallArcRadius-se)+" 0 0 0 "+(Q.rightInnerExtent-Y)+" "+(Q.targetY-se)+"L"+(Q.targetX-Y)+" "+(Q.targetY-se)+(Y>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":q="M "+(Q.targetX-Y)+" "+(Q.targetY-se)+" L"+(Q.rightInnerExtent-Y)+" "+(Q.targetY-se)+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightSmallArcRadius+se)+" 0 0 0 "+(Q.rightFullExtent-se-Y)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-se-Y)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightLargeArcRadius+se)+" 0 0 0 "+(Q.rightInnerExtent-Y)+" "+(Q.verticalFullExtent+se)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+se)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftLargeArcRadius+se)+" 0 0 0 "+(Q.leftFullExtent+se)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+se)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftSmallArcRadius+se)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-se)+"L"+Q.sourceX+" "+(Q.sourceY-se)+"L"+Q.sourceX+" "+(Q.sourceY+se)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+se)+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftSmallArcRadius-se)+" 0 0 1 "+(Q.leftFullExtent-se)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-se)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftLargeArcRadius-se)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-se)+"L"+(Q.rightInnerExtent-Y)+" "+(Q.verticalFullExtent-se)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightLargeArcRadius-se)+" 0 0 1 "+(Q.rightFullExtent+se-Y)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+se-Y)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightSmallArcRadius-se)+" 0 0 1 "+(Q.rightInnerExtent-Y)+" "+(Q.targetY+se)+"L"+(Q.targetX-Y)+" "+(Q.targetY+se)+(Y>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z",q}function b(){var oe=.5;function Y(q){var se=q.linkArrowLength;if(q.link.circular)return E(q.link,se);var Q=Math.abs((q.link.target.x0-q.link.source.x1)/2);se>Q&&(se=Q);var K=q.link.source.x1,le=q.link.target.x0-se,ie=P(K,le),ce=ie(oe),ye=ie(1-oe),Ce=q.link.y0-q.link.width/2,Ae=q.link.y0+q.link.width/2,ke=q.link.y1-q.link.width/2,we=q.link.y1+q.link.width/2,Ee="M"+K+","+Ce,xe="C"+ce+","+Ce+" "+ye+","+ke+" "+le+","+ke,Pe="C"+ye+","+we+" "+ce+","+Ae+" "+K+","+Ae,Ue=se>0?"L"+(le+se)+","+(ke+q.link.width/2):"";return Ue+="L"+le+","+we,Ee+xe+Ue+Pe+"Z"}return Y}function s(oe,Y){var q=p(Y.color),se=v.nodePadAcross,Q=oe.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var K=Y.dx,le=Math.max(.5,Y.dy),ie="node_"+Y.pointNumber;return Y.group&&(ie=i.randstr()),Y.trace=oe.trace,Y.curveNumber=oe.trace.index,{index:Y.pointNumber,key:ie,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:oe.key,trace:oe.trace,node:Y,nodePad:oe.nodePad,nodeLineColor:oe.nodeLineColor,nodeLineWidth:oe.nodeLineWidth,textFont:oe.textFont,size:oe.horizontal?oe.height:oe.width,visibleWidth:Math.ceil(K),visibleHeight:le,zoneX:-se,zoneY:-Q,zoneWidth:K+2*se,zoneHeight:le+2*Q,labelY:oe.horizontal?Y.dy/2+1:Y.dx/2+1,left:Y.originalLayer===1,sizeAcross:oe.width,forceLayouts:oe.forceLayouts,horizontal:oe.horizontal,darkBackground:q.getBrightness()<=128,tinyColorHue:r.tinyRGB(q),tinyColorAlpha:q.getAlpha(),valueFormat:oe.valueFormat,valueSuffix:oe.valueSuffix,sankey:oe.sankey,graph:oe.graph,arrangement:oe.arrangement,uniqueNodeLabelPathId:[oe.guid,oe.key,ie].join("_"),interactionState:oe.interactionState,figure:oe}}function L(oe){oe.attr("transform",function(Y){return n(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function T(oe){oe.call(L)}function k(oe,Y){oe.call(T),Y.attr("d",b())}function _(oe){oe.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function B(oe){return oe.link.width>1||oe.linkLineWidth>0}function F(oe){var Y=n(oe.translateX,oe.translateY);return Y+(oe.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function O(oe,Y,q){oe.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.hover(this,se,Y),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.unhover(this,se,Y),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(q.unhover(this,se,Y),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&q.select(this,se,Y)})}function N(oe,Y,q,se){var Q=a.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if(K.arrangement!=="fixed"&&(i.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(ie){se._fullLayout._dragCover=ie}),i.raiseToTop(this),K.interactionState.dragInProgress=K.node,ne(K.node),K.interactionState.hovered&&(q.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),K.arrangement==="snap")){var le=K.traceId+"|"+K.key;K.forceLayouts[le]?K.forceLayouts[le].alpha(1):z(oe,le,K),V(oe,Y,K,le,se)}}).on("drag",function(K){if(K.arrangement!=="fixed"){var le=a.event.x,ie=a.event.y;K.arrangement==="snap"?(K.node.x0=le-K.visibleWidth/2,K.node.x1=le+K.visibleWidth/2,K.node.y0=ie-K.visibleHeight/2,K.node.y1=ie+K.visibleHeight/2):(K.arrangement==="freeform"&&(K.node.x0=le-K.visibleWidth/2,K.node.x1=le+K.visibleWidth/2),ie=Math.max(0,Math.min(K.size-K.visibleHeight/2,ie)),K.node.y0=ie-K.visibleHeight/2,K.node.y1=ie+K.visibleHeight/2),ne(K.node),K.arrangement!=="snap"&&(K.sankey.update(K.graph),k(oe.filter(ue(K)),Y))}}).on("dragend",function(K){if(K.arrangement!=="fixed"){K.interactionState.dragInProgress=!1;for(var le=0;le<K.node.childrenNodes.length;le++)K.node.childrenNodes[le].x=K.node.x,K.node.childrenNodes[le].y=K.node.y;K.arrangement!=="snap"&&$(K,se)}});oe.on(".drag",null).call(Q)}function z(oe,Y,q,se){J(q.graph.nodes);var Q=q.graph.nodes.filter(function(K){return K.originalX===q.node.originalX}).filter(function(K){return!K.partOfGroup});q.forceLayouts[Y]=g.forceSimulation(Q).alphaDecay(0).force("collide",g.forceCollide().radius(function(K){return K.dy/2+q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",W(oe,Y,Q,q)).stop()}function V(oe,Y,q,se,Q){window.requestAnimationFrame(function K(){var le;for(le=0;le<v.forceTicksPerFrame;le++)q.forceLayouts[se].tick();var ie=q.graph.nodes;if(X(ie),q.sankey.update(q.graph),k(oe.filter(ue(q)),Y),q.forceLayouts[se].alpha()>0)window.requestAnimationFrame(K);else{var ce=q.node.originalX;q.node.x0=ce-q.visibleWidth/2,q.node.x1=ce+q.visibleWidth/2,$(q,Q)}})}function W(oe,Y,q,se){return function(){for(var K=0,le=0;le<q.length;le++){var ie=q[le];ie===se.interactionState.dragInProgress?(ie.x=ie.lastDraggedX,ie.y=ie.lastDraggedY):(ie.vx=(ie.originalX-ie.x)/v.forceTicksPerFrame,ie.y=Math.min(se.size-ie.dy/2,Math.max(ie.dy/2,ie.y))),K=Math.max(K,Math.abs(ie.vx),Math.abs(ie.vy))}!se.interactionState.dragInProgress&&K<.1&&se.forceLayouts[Y].alpha()>0&&se.forceLayouts[Y].alpha(0)}}function $(oe,Y){for(var q=[],se=[],Q=0;Q<oe.graph.nodes.length;Q++){var K=(oe.graph.nodes[Q].x0+oe.graph.nodes[Q].x1)/2,le=(oe.graph.nodes[Q].y0+oe.graph.nodes[Q].y1)/2;q.push(K/oe.figure.width),se.push(le/oe.figure.height)}c.call("_guiRestyle",Y,{"node.x":[q],"node.y":[se]},oe.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function re(oe){var Y=[],q;for(q=0;q<oe.length;q++)oe[q].originalX=(oe[q].x0+oe[q].x1)/2,oe[q].originalY=(oe[q].y0+oe[q].y1)/2,Y.indexOf(oe[q].originalX)===-1&&Y.push(oe[q].originalX);for(Y.sort(function(se,Q){return se-Q}),q=0;q<oe.length;q++)oe[q].originalLayerIndex=Y.indexOf(oe[q].originalX),oe[q].originalLayer=oe[q].originalLayerIndex/(Y.length-1)}function ne(oe){oe.lastDraggedX=oe.x0+oe.dx/2,oe.lastDraggedY=oe.y0+oe.dy/2}function ue(oe){return function(Y){return Y.node.originalX===oe.node.originalX}}function J(oe){for(var Y=0;Y<oe.length;Y++)oe[Y].y=(oe[Y].y0+oe[Y].y1)/2,oe[Y].x=(oe[Y].x0+oe[Y].x1)/2}function X(oe){for(var Y=0;Y<oe.length;Y++)oe[Y].y0=oe[Y].y-oe[Y].dy/2,oe[Y].y1=oe[Y].y0+oe[Y].dy,oe[Y].x0=oe[Y].x-oe[Y].dx/2,oe[Y].x1=oe[Y].x0+oe[Y].dx}j.exports=function(oe,Y,q,se,Q){var K=oe._context.staticPlot,le=!1;i.ensureSingle(oe._fullLayout._infolayer,"g","first-render",function(){le=!0});var ie=oe._fullLayout._dragCover,ce=q.filter(function(Pe){return h(Pe).trace.visible}).map(C.bind(null,se)),ye=Y.selectAll("."+v.cn.sankey).data(ce,l);ye.exit().remove(),ye.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",F),ye.each(function(Pe,Ue){oe._fullData[Ue]._sankey=Pe;var Be="bgsankey-"+Pe.trace.uid+"-"+Ue;i.ensureSingle(oe._fullLayout._draggers,"rect",Be),oe._fullData[Ue]._bgRect=a.select("."+Be),oe._fullData[Ue]._bgRect.style("pointer-events",K?"none":"all").attr("width",Pe.width).attr("height",Pe.height).attr("x",Pe.translateX).attr("y",Pe.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ye.transition().ease(v.ease).duration(v.duration).attr("transform",F);var Ce=ye.selectAll("."+v.cn.sankeyLinks).data(y,l);Ce.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Ae=Ce.selectAll("."+v.cn.sankeyLink).data(function(Pe){var Ue=Pe.graph.links;return Ue.filter(function(Be){return Be.value}).map(m.bind(null,Pe))},l);Ae.enter().append("path").classed(v.cn.sankeyLink,!0).call(O,ye,Q.linkEvents),Ae.style("stroke",function(Pe){return B(Pe)?r.tinyRGB(p(Pe.linkLineColor)):Pe.tinyColorHue}).style("stroke-opacity",function(Pe){return B(Pe)?r.opacity(Pe.linkLineColor):Pe.tinyColorAlpha}).style("fill",function(Pe){return Pe.tinyColorHue}).style("fill-opacity",function(Pe){return Pe.tinyColorAlpha}).style("stroke-width",function(Pe){return B(Pe)?Pe.linkLineWidth:1}).attr("d",b()),Ae.style("opacity",function(){return oe._context.staticPlot||le||ie?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Ae.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var ke=ye.selectAll("."+v.cn.sankeyNodeSet).data(y,l);ke.enter().append("g").classed(v.cn.sankeyNodeSet,!0),ke.style("cursor",function(Pe){switch(Pe.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var we=ke.selectAll("."+v.cn.sankeyNode).data(function(Pe){var Ue=Pe.graph.nodes;return re(Ue),Ue.map(s.bind(null,Pe))},l);we.enter().append("g").classed(v.cn.sankeyNode,!0).call(L).style("opacity",function(Pe){return(oe._context.staticPlot||le)&&!Pe.partOfGroup?1:0}),we.call(O,ye,Q.nodeEvents).call(N,Ae,Q,oe),we.transition().ease(v.ease).duration(v.duration).call(L).style("opacity",function(Pe){return Pe.partOfGroup?0:1}),we.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ee=we.selectAll("."+v.cn.nodeRect).data(y);Ee.enter().append("rect").classed(v.cn.nodeRect,!0).call(_),Ee.style("stroke-width",function(Pe){return Pe.nodeLineWidth}).style("stroke",function(Pe){return r.tinyRGB(p(Pe.nodeLineColor))}).style("stroke-opacity",function(Pe){return r.opacity(Pe.nodeLineColor)}).style("fill",function(Pe){return Pe.tinyColorHue}).style("fill-opacity",function(Pe){return Pe.tinyColorAlpha}),Ee.transition().ease(v.ease).duration(v.duration).call(_);var xe=we.selectAll("."+v.cn.nodeLabel).data(y);xe.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(Pe){return Pe.node.label}).each(function(Pe){var Ue=a.select(this);t.font(Ue,Pe.textFont),S.convertToTspans(Ue,oe)}).style("text-shadow",S.makeTextShadow(oe._fullLayout.paper_bgcolor)).attr("text-anchor",function(Pe){return Pe.horizontal&&Pe.left?"end":"start"}).attr("transform",function(Pe){var Ue=a.select(this),Be=S.lineCount(Ue),Ne=Pe.textFont.size*((Be-1)*w-d),Xe=Pe.nodeLineWidth/2+A,ut=((Pe.horizontal?Pe.visibleHeight:Pe.visibleWidth)-Ne)/2;Pe.horizontal&&(Pe.left?Xe=-Xe:Xe+=Pe.visibleWidth);var dt=Pe.horizontal?"":"scale(-1,1)"+u(90);return n(Pe.horizontal?Xe:ut,Pe.horizontal?ut:Xe)+dt}),xe.transition().ease(v.ease).duration(v.duration)}},81128:function(j){j.exports=function(e,g){for(var P=e.cd,a=[],x=P[0].trace,M=x._sankey.graph.nodes,v=0;v<M.length;v++){var p=M[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];x.orientation==="v"&&r.reverse(),g&&g.contains(r,!1,v,e)&&a.push({pointNumber:p.pointNumber})}}return a}},20148:function(j,H,e){var g=e(3400);j.exports=function(a,x){for(var M=0;M<a.length;M++)a[M].i=M;g.mergeArray(x.text,a,"tx"),g.mergeArray(x.texttemplate,a,"txt"),g.mergeArray(x.hovertext,a,"htx"),g.mergeArray(x.customdata,a,"data"),g.mergeArray(x.textposition,a,"tp"),x.textfont&&(g.mergeArrayCastPositive(x.textfont.size,a,"ts"),g.mergeArray(x.textfont.color,a,"tc"),g.mergeArray(x.textfont.family,a,"tf"));var v=x.marker;if(v){g.mergeArrayCastPositive(v.size,a,"ms"),g.mergeArrayCastPositive(v.opacity,a,"mo"),g.mergeArray(v.symbol,a,"mx"),g.mergeArray(v.angle,a,"ma"),g.mergeArray(v.standoff,a,"mf"),g.mergeArray(v.color,a,"mc");var p=v.line;v.line&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(g.mergeArray(r.type,a,"mgt"),g.mergeArray(r.color,a,"mgc"))}}},52904:function(j,H,e){var g=e(29736).axisHoverFormat,P=e(21776).Gw,a=e(21776).Ks,x=e(49084),M=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),i=e(92880).extendFlat,n=e(98304);function u(y){return{valType:"any",dflt:0,editType:"calc"}}function f(y){return{valType:"any",editType:"calc"}}function l(y){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}j.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:u(),yperiod:u(),xperiod0:f(),yperiod0:f(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:i({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:i({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:i({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:i({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},x("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},x("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(j,H,e){var g=e(38248),P=e(3400),a=e(54460),x=e(1220),M=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function i(h,S){var c=h._fullLayout,o=S._xA=a.getFromId(h,S.xaxis||"x","x"),d=S._yA=a.getFromId(h,S.yaxis||"y","y"),w=o.makeCalcdata(S,"x"),A=d.makeCalcdata(S,"y"),C=x(S,o,"x",w),m=x(S,d,"y",A),E=C.vals,b=m.vals,s=S._length,L=new Array(s),T=S.ids,k=y(S,c,o,d),_=!1,B,F,O,N,z,V;f(c,S);var W="x",$="y",re;if(k)P.pushUnique(k.traceIndices,S._expandedIndex),B=k.orientation==="v",B?($="s",re="x"):(W="s",re="y"),z=k.stackgaps==="interpolate";else{var ne=u(S,s);n(h,S,o,d,E,b,ne)}var ue=!!S.xperiodalignment,J=!!S.yperiodalignment;for(F=0;F<s;F++){var X=L[F]={},oe=g(E[F]),Y=g(b[F]);oe&&Y?(X[W]=E[F],X[$]=b[F],ue&&(X.orig_x=w[F],X.xEnd=C.ends[F],X.xStart=C.starts[F]),J&&(X.orig_y=A[F],X.yEnd=m.ends[F],X.yStart=m.starts[F])):k&&(B?oe:Y)?(X[re]=B?E[F]:b[F],X.gap=!0,z?(X.s=M,_=!0):X.s=0):X[W]=X[$]=M,T&&(X.id=String(T[F]))}if(r(L,S),p(h,S),t(L,S),k){for(F=0;F<L.length;)L[F][re]===M?L.splice(F,1):F++;if(P.sort(L,function(K,le){return K[re]-le[re]||K.i-le.i}),_){for(F=0;F<L.length-1&&L[F].gap;)F++;for(V=L[F].s,V||(V=L[F].s=0),O=0;O<F;O++)L[O].s=V;for(N=L.length-1;N>F&&L[N].gap;)N--;for(V=L[N].s,O=L.length-1;O>N;O--)L[O].s=V;for(;F<N;)if(F++,L[F].gap){for(O=F+1;L[O].gap;)O++;for(var q=L[F-1][re],se=L[F-1].s,Q=(L[O].s-se)/(L[O][re]-q);F<O;)L[F].s=se+(L[F][re]-q)*Q,F++}}}return L}function n(h,S,c,o,d,w,A){var C=S._length,m=h._fullLayout,E=c._id,b=o._id,s=m._firstScatter[l(S)]===S.uid,L=(y(S,m,c,o)||{}).orientation,T=S.fill;c._minDtick=0,o._minDtick=0;var k={padded:!0},_={padded:!0};A&&(k.ppad=_.ppad=A);var B=C<2||d[0]!==d[C-1]||w[0]!==w[C-1];B&&(T==="tozerox"||T==="tonextx"&&(s||L==="h"))?k.tozero=!0:!(S.error_y||{}).visible&&(T==="tonexty"||T==="tozeroy"||!v.hasMarkers(S)&&!v.hasText(S))&&(k.padded=!1,k.ppad=0),B&&(T==="tozeroy"||T==="tonexty"&&(s||L==="v"))?_.tozero=!0:(T==="tonextx"||T==="tozerox")&&(_.padded=!1),E&&(S._extremes[E]=a.findExtremes(c,d,k)),b&&(S._extremes[b]=a.findExtremes(o,w,_))}function u(h,S){if(v.hasMarkers(h)){var c=h.marker,o=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(E){return Math.max(Math.sqrt((E||0)/o),3)}:d=function(E){return Math.max((E||0)/o,3)},P.isArrayOrTypedArray(c.size)){var w={type:"linear"};a.setConvert(w);for(var A=w.makeCalcdata(h.marker,"size"),C=new Array(S),m=0;m<S;m++)C[m]=d(A[m]);return C}else return d(c.size)}}function f(h,S){var c=l(S),o=h._firstScatter;o[c]||(o[c]=S.uid)}function l(h){var S=h.stackgroup;return h.xaxis+h.yaxis+h.type+(S?"-"+S:"")}function y(h,S,c,o){var d=h.stackgroup;if(d){var w=S._scatterStackOpts[c._id+o._id][d],A=w.orientation==="v"?o:c;if(A.type==="linear"||A.type==="log")return w}}j.exports={calc:i,calcMarkerSize:u,calcAxisExpansion:n,setFirstScatter:f,getStackOpts:y}},4500:function(j,H,e){var g=e(3400);j.exports=function(a,x){g.isArrayOrTypedArray(x.selectedpoints)&&g.tagSelected(a,x)}},90136:function(j,H,e){var g=e(94288).hasColorscale,P=e(47128),a=e(43028);j.exports=function(M,v){a.hasLines(v)&&g(v,"line")&&P(M,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(g(v,"marker")&&P(M,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&P(M,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(j){j.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(j,H,e){var g=e(16356),P=e(96376).setGroupPositions;function a(v,p){for(var r=p.xaxis,t=p.yaxis,i=v._fullLayout,n=v._fullData,u=v.calcdata,f=[],l=[],y=0;y<n.length;y++){var h=n[y];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?f.push(u[y]):h.orientation==="v"&&l.push(u[y]))}var S={mode:i.scattermode,gap:i.scattergap};P(v,r,t,l,S),P(v,t,r,f,S)}j.exports=function(p,r){p._fullLayout.scattermode==="group"&&a(p,r);var t=r.xaxis,i=r.yaxis,n=t._id+i._id,u=p._fullLayout._scatterStackOpts[n];if(u){var f=p.calcdata,l,y,h,S,c,o,d,w,A,C,m,E,b,s,L;for(var T in u){C=u[T];var k=C.traceIndices;if(k.length){for(m=C.stackgaps==="interpolate",E=C.groupnorm,C.orientation==="v"?(b="x",s="y"):(b="y",s="x"),L=new Array(k.length),l=0;l<L.length;l++)L[l]=!1;o=f[k[0]];var _=new Array(o.length);for(l=0;l<o.length;l++)_[l]=o[l][b];for(l=1;l<k.length;l++){for(c=f[k[l]],y=h=0;y<c.length;y++){for(d=c[y][b];d>_[h]&&h<_.length;h++)x(c,y,_[h],l,L,m,b),y++;if(d!==_[h]){for(S=0;S<l;S++)x(f[k[S]],h,d,S,L,m,b);_.splice(h,0,d)}h++}for(;h<_.length;h++)x(c,y,_[h],l,L,m,b),y++}var B=_.length;for(y=0;y<o.length;y++){for(w=o[y][s]=o[y].s,l=1;l<k.length;l++)c=f[k[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=B,w+=c[y].s,c[y][s]=w;if(E)for(A=(E==="fraction"?w:w/100)||1,l=0;l<k.length;l++){var F=f[k[l]][y];F[s]/=A,F.sNorm=F.s/A}}for(l=0;l<k.length;l++){c=f[k[l]];var O=c[0].trace,N=g.calcMarkerSize(O,O._rawLength),z=Array.isArray(N);if(N&&L[l]||z){var V=N;for(N=new Array(B),y=0;y<B;y++)N[y]=c[y].gap?0:z?V[c[y].i]:V}var W=new Array(B),$=new Array(B);for(y=0;y<B;y++)W[y]=c[y].x,$[y]=c[y].y;g.calcAxisExpansion(p,O,t,i,W,$,N),c[0].t.orientation=C.orientation}}}}};function x(v,p,r,t,i,n,u){i[t]=!0;var f={i:null,gap:!0,s:0};if(f[u]=r,v.splice(p,0,f),p&&r===v[p-1][u]){var l=v[p-1];f.s=l.s,f.i=l.i,f.gap=l.gap}else n&&(f.s=M(v,p,r,u));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function M(v,p,r,t){var i=v[p-1],n=v[p+1];return n?i?i.s+(n.s-i.s)*(r-i[t])/(n[t]-i[t]):n.s:i.s}},35036:function(j,H,e){var g=e(3400),P=e(20011),a=e(52904);j.exports=function(M,v){var p,r,t;function i(y){return g.coerce(r._input,r,a,y)}if(v.scattermode==="group")for(t=0;t<M.length;t++)r=M[t],r.type==="scatter"&&(p=r._input,P(p,r,v,i));for(t=0;t<M.length;t++){var n=M[t];if(n.type==="scatter"){var u=n.fill;if(!(u==="none"||u==="toself")&&(n.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var f=t-1;f>=0;f--){var l=M[f];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(j,H,e){var g=e(3400),P=e(24040),a=e(52904),x=e(88200),M=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),i=e(66828),n=e(11731),u=e(124),f=e(70840),l=e(3400).coercePattern;j.exports=function(h,S,c,o){function d(L,T){return g.coerce(h,S,a,L,T)}var w=v(h,S,o,d);if(w||(S.visible=!1),!!S.visible){p(h,S,o,d),d("xhoverformat"),d("yhoverformat");var A=r(h,S,o,d);o.scattermode==="group"&&S.orientation===void 0&&d("orientation","v");var C=!A&&w<x.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),M.hasMarkers(S)&&t(h,S,c,o,d,{gradient:!0}),M.hasLines(S)&&(i(h,S,c,o,d,{backoff:!0}),n(h,S,d),d("connectgaps"),d("line.simplify")),M.hasText(S)&&(d("texttemplate"),u(h,S,o,d));var m=[];(M.hasMarkers(S)||M.hasText(S))&&(d("cliponaxis"),d("marker.maxdisplayed"),m.push("points")),d("fill",A?A.fillDflt:"none"),S.fill!=="none"&&(f(h,S,c,d,{moduleHasFillgradient:!0}),M.hasLines(S)||n(h,S,d),l(d,"fillpattern",S.fillcolor,!1));var E=(S.line||{}).color,b=(S.marker||{}).color;(S.fill==="tonext"||S.fill==="toself")&&m.push("fills"),d("hoveron",m.join("+")||"points"),S.hoveron!=="fills"&&d("hovertemplate");var s=P.getComponentMethod("errorbars","supplyDefaults");s(h,S,E||b||c,{axis:"y"}),s(h,S,E||b||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(S,d)}}},98304:function(j){j.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(j,H,e){var g=e(76308),P=e(3400).isArrayOrTypedArray;function a(x){for(var M=g.interpolate(x[0][1],x[1][1],.5),v=2;v<x.length;v++){var p=g.interpolate(x[v-1][1],x[v][1],.5);M=g.interpolate(M,p,x[v-1][0]/x[v][0])}return M}j.exports=function(M,v,p,r,t){t||(t={});var i=!1;if(v.marker){var n=v.marker.color,u=(v.marker.line||{}).color;n&&!P(n)?i=n:u&&!P(u)&&(i=u)}var f;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var y=r("fillgradient.colorscale");y&&(f=a(y))}}r("fillcolor",g.addOpacity((v.line||{}).color||i||f||p,.5))}},76688:function(j,H,e){var g=e(54460);j.exports=function(a,x,M){var v={},p={_fullLayout:M},r=g.getFromTrace(p,x,"x"),t=g.getFromTrace(p,x,"y"),i=a.orig_x;i===void 0&&(i=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=g.tickText(r,r.c2l(i),!0).text,v.yLabel=g.tickText(t,t.c2l(n),!0).text,v}},44928:function(j,H,e){var g=e(76308),P=e(43028);j.exports=function(x,M){var v,p;if(x.mode==="lines")return v=x.line.color,v&&g.opacity(v)?v:x.fillcolor;if(x.mode==="none")return x.fill?x.fillcolor:"";var r=M.mcc||(x.marker||{}).color,t=M.mlcc||((x.marker||{}).line||{}).color;return p=r&&g.opacity(r)?r:t&&g.opacity(t)&&(M.mlw||((x.marker||{}).line||{}).width)?t:"",p?g.opacity(p)<.3?g.addOpacity(p,.3):p:(v=(x.line||{}).color,v&&g.opacity(v)&&P.hasLines(x)&&x.line.width?v:x.fillcolor)}},20011:function(j,H,e){var g=e(71888).getAxisGroup;j.exports=function(a,x,M,v){var p=x.orientation,r=x[{v:"x",h:"y"}[p]+"axis"],t=g(M,r)+p,i=M._alignmentOpts||{},n=v("alignmentgroup"),u=i[t];u||(u=i[t]={});var f=u[n];f?f.traces.push(x):f=u[n]={traces:[x],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var l=v("offsetgroup"),y=f.offsetGroups,h=y[l];l&&(h||(h=y[l]={offsetIndex:Object.keys(y).length}),x._offsetIndex=h.offsetIndex)}},98723:function(j,H,e){var g=e(3400),P=e(93024),a=e(24040),x=e(44928),M=e(76308),v=g.fillText;j.exports=function(r,t,i,n){var u=r.cd,f=u[0].trace,l=r.xa,y=r.ya,h=l.c2p(t),S=y.c2p(i),c=[h,S],o=f.hoveron||"",d=f.mode.indexOf("markers")!==-1?3:.5,w=!!f.xperiodalignment,A=!!f.yperiodalignment;if(o.indexOf("points")!==-1){var C=function(re){if(w){var ne=l.c2p(re.xStart),ue=l.c2p(re.xEnd);return h>=Math.min(ne,ue)&&h<=Math.max(ne,ue)?0:1/0}var J=Math.max(3,re.mrc||0),X=1-1/J,oe=Math.abs(l.c2p(re.x)-h);return oe<J?X*oe/J:oe-J+X},m=function(re){if(A){var ne=y.c2p(re.yStart),ue=y.c2p(re.yEnd);return S>=Math.min(ne,ue)&&S<=Math.max(ne,ue)?0:1/0}var J=Math.max(3,re.mrc||0),X=1-1/J,oe=Math.abs(y.c2p(re.y)-S);return oe<J?X*oe/J:oe-J+X},E=function(re){var ne=Math.max(d,re.mrc||0),ue=l.c2p(re.x)-h,J=y.c2p(re.y)-S;return Math.max(Math.sqrt(ue*ue+J*J)-ne,1-d/ne)},b=P.getDistanceFunction(n,C,m,E);if(P.getClosest(u,b,r),r.index!==!1){var s=u[r.index],L=l.c2p(s.x,!0),T=y.c2p(s.y,!0),k=s.mrc||1;r.index=s.i;var _=u[0].t.orientation,B=_&&(s.sNorm||s.s),F=_==="h"?B:s.orig_x!==void 0?s.orig_x:s.x,O=_==="v"?B:s.orig_y!==void 0?s.orig_y:s.y;return g.extendFlat(r,{color:x(f,s),x0:L-k,x1:L+k,xLabelVal:F,y0:T-k,y1:T+k,yLabelVal:O,spikeDistance:E(s),hovertemplate:f.hovertemplate}),v(s,f,r),a.getComponentMethod("errorbars","hoverInfo")(s,f,r),[r]}}function N(re){if(!re)return!1;var ne=re.node();try{var ue=new DOMPoint(c[0],c[1]);return ne.isPointInFill(ue)}catch{var J=ne.ownerSVGElement.createSVGPoint();return J.x=c[0],J.y=c[1],ne.isPointInFill(J)}}function z(re){var ne,ue=[],J=1/0,X=-1/0,oe=1/0,Y=-1/0,q;for(ne=0;ne<re.length;ne++){var se=re[ne];se.contains(c)&&(ue.push(se),oe=Math.min(oe,se.ymin),Y=Math.max(Y,se.ymax))}if(ue.length===0)return null;oe=Math.max(oe,0),Y=Math.min(Y,y._length),q=(oe+Y)/2;var Q,K,le,ie,ce,ye,Ce;for(ne=0;ne<ue.length;ne++)for(K=ue[ne].pts,Q=1;Q<K.length;Q++)ye=K[Q-1][1],Ce=K[Q][1],ye>q!=Ce>=q&&(ie=K[Q-1][0],ce=K[Q][0],Ce-ye&&(le=ie+(ce-ie)*(q-ye)/(Ce-ye),J=Math.min(J,le),X=Math.max(X,le)));return J=Math.max(J,0),X=Math.min(X,l._length),{x0:J,x1:X,y0:q,y1:q}}if(o.indexOf("fills")!==-1&&f._fillElement){var V=N(f._fillElement)&&!N(f._fillExclusionElement);if(V){var W=z(f._polygons);W===null&&(W={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var $=M.defaultLine;return M.opacity(f.fillcolor)?$=f.fillcolor:M.opacity((f.line||{}).color)&&($=f.line.color),g.extendFlat(r,{distance:r.maxHoverDistance,x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1,color:$,hovertemplate:!1}),delete r.index,f.text&&!g.isArrayOrTypedArray(f.text)?r.text=String(f.text):r.text=f.name,[r]}}}},65875:function(j,H,e){var g=e(43028);j.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(j){j.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(j,H,e){var g=e(3400),P=e(55308);j.exports=function(a,x){function M(p,r){return g.coerce(a,x,P,p,r)}var v=x.barmode==="group";x.scattermode==="group"&&M("scattergap",v?x.bargap:.2)}},66828:function(j,H,e){var g=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,a=e(27260);j.exports=function(M,v,p,r,t,i){i||(i={});var n=(M.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(M,"line"))a(M,v,r,t,{prefix:"line.",cLetter:"c"});else{var u=(g(n)?!1:n)||p;t("line.color",u)}t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(j,H,e){var g=e(43616),P=e(39032),a=P.BADNUM,x=P.LOG_CLIP,M=x+.5,v=x-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,i=e(88200);j.exports=function(u,f){var l=f.trace||{},y=f.xaxis,h=f.yaxis,S=y.type==="log",c=h.type==="log",o=y._length,d=h._length,w=f.backoff,A=l.marker,C=f.connectGaps,m=f.baseTolerance,E=f.shape,b=E==="linear",s=l.fill&&l.fill!=="none",L=[],T=i.minTolerance,k=u.length,_=new Array(k),B=0,F,O,N,z,V,W,$,re,ne,ue,J,X,oe,Y,q,se;function Q(pt){var yt=u[pt];if(!yt)return!1;var Yt=f.linearized?y.l2p(yt.x):y.c2p(yt.x),Xt=f.linearized?h.l2p(yt.y):h.c2p(yt.y);if(Yt===a){if(S&&(Yt=y.c2p(yt.x,!0)),Yt===a)return!1;c&&Xt===a&&(Yt*=Math.abs(y._m*d*(y._m>0?M:v)/(h._m*o*(h._m>0?M:v)))),Yt*=1e3}if(Xt===a){if(c&&(Xt=h.c2p(yt.y,!0)),Xt===a)return!1;Xt*=1e3}return[Yt,Xt]}function K(pt,yt,Yt,Xt){var St=Yt-pt,kt=Xt-yt,Kt=.5-pt,mr=.5-yt,mt=St*St+kt*kt,Zt=St*Kt+kt*mr;if(Zt>0&&Zt<mt){var Qt=Kt*kt-mr*St;if(Qt*Qt<mt)return!0}}var le,ie;function ce(pt,yt){var Yt=pt[0]/o,Xt=pt[1]/d,St=Math.max(0,-Yt,Yt-1,-Xt,Xt-1);return St&&le!==void 0&&K(Yt,Xt,le,ie)&&(St=0),St&&yt&&K(Yt,Xt,yt[0]/o,yt[1]/d)&&(St=0),(1+i.toleranceGrowth*St)*m}function ye(pt,yt){var Yt=pt[0]-yt[0],Xt=pt[1]-yt[1];return Math.sqrt(Yt*Yt+Xt*Xt)}var Ce=i.maxScreensAway,Ae=-o*Ce,ke=o*(1+Ce),we=-d*Ce,Ee=d*(1+Ce),xe=[[Ae,we,ke,we],[ke,we,ke,Ee],[ke,Ee,Ae,Ee],[Ae,Ee,Ae,we]],Pe,Ue,Be,Ne,Xe,ut;function dt(pt,yt){for(var Yt=[],Xt=0,St=0;St<4;St++){var kt=xe[St],Kt=r(pt[0],pt[1],yt[0],yt[1],kt[0],kt[1],kt[2],kt[3]);Kt&&(!Xt||Math.abs(Kt.x-Yt[0][0])>1||Math.abs(Kt.y-Yt[0][1])>1)&&(Kt=[Kt.x,Kt.y],Xt&&ye(Kt,pt)<ye(Yt[0],pt)?Yt.unshift(Kt):Yt.push(Kt),Xt++)}return Yt}function at(pt){if(pt[0]<Ae||pt[0]>ke||pt[1]<we||pt[1]>Ee)return[t(pt[0],Ae,ke),t(pt[1],we,Ee)]}function We(pt,yt){if(pt[0]===yt[0]&&(pt[0]===Ae||pt[0]===ke)||pt[1]===yt[1]&&(pt[1]===we||pt[1]===Ee))return!0}function rt(pt,yt){var Yt=[],Xt=at(pt),St=at(yt);return Xt&&St&&We(Xt,St)||(Xt&&Yt.push(Xt),St&&Yt.push(St)),Yt}function st(pt,yt,Yt){return function(Xt,St){var kt=at(Xt),Kt=at(St),mr=[];if(kt&&Kt&&We(kt,Kt))return mr;kt&&mr.push(kt),Kt&&mr.push(Kt);var mt=2*p.constrain((Xt[pt]+St[pt])/2,yt,Yt)-((kt||Xt)[pt]+(Kt||St)[pt]);if(mt){var Zt;kt&&Kt?Zt=mt>0==kt[pt]>Kt[pt]?kt:Kt:Zt=kt||Kt,Zt[pt]+=mt}return mr}}var ht;E==="linear"||E==="spline"?ht=dt:E==="hv"||E==="vh"?ht=rt:E==="hvh"?ht=st(0,Ae,ke):E==="vhv"&&(ht=st(1,we,Ee));function vt(pt,yt){var Yt=yt[0]-pt[0],Xt=(yt[1]-pt[1])/Yt,St=(pt[1]*yt[0]-yt[1]*pt[0])/Yt;return St>0?[Xt>0?Ae:ke,Ee]:[Xt>0?ke:Ae,we]}function At(pt){var yt=pt[0],Yt=pt[1],Xt=yt===_[B-1][0],St=Yt===_[B-1][1];if(!(Xt&&St))if(B>1){var kt=yt===_[B-2][0],Kt=Yt===_[B-2][1];Xt&&(yt===Ae||yt===ke)&&kt?Kt?B--:_[B-1]=pt:St&&(Yt===we||Yt===Ee)&&Kt?kt?B--:_[B-1]=pt:_[B++]=pt}else _[B++]=pt}function et(pt){_[B-1][0]!==pt[0]&&_[B-1][1]!==pt[1]&&At([Be,Ne]),At(pt),Xe=null,Be=Ne=0}var _e=p.isArrayOrTypedArray(A);function Ve(pt){if(pt&&w&&(pt.i=F,pt.d=u,pt.trace=l,pt.marker=_e?A[pt.i]:A,pt.backoff=w),le=pt[0]/o,ie=pt[1]/d,Pe=pt[0]<Ae?Ae:pt[0]>ke?ke:0,Ue=pt[1]<we?we:pt[1]>Ee?Ee:0,Pe||Ue){if(!B)_[B++]=[Pe||pt[0],Ue||pt[1]];else if(Xe){var yt=ht(Xe,pt);yt.length>1&&(et(yt[0]),_[B++]=yt[1])}else ut=ht(_[B-1],pt)[0],_[B++]=ut;var Yt=_[B-1];Pe&&Ue&&(Yt[0]!==Pe||Yt[1]!==Ue)?(Xe&&(Be!==Pe&&Ne!==Ue?At(Be&&Ne?vt(Xe,pt):[Be||Pe,Ne||Ue]):Be&&Ne&&At([Be,Ne])),At([Pe,Ue])):Be-Pe&&Ne-Ue&&At([Pe||Be,Ue||Ne]),Xe=pt,Be=Pe,Ne=Ue}else Xe&&et(ht(Xe,pt)[0]),_[B++]=pt}for(F=0;F<k;F++)if(O=Q(F),!!O){for(B=0,Xe=null,Ve(O),F++;F<k;F++){if(z=Q(F),!z){if(C)continue;break}if(!b||!f.simplify){Ve(z);continue}var Ze=Q(F+1);if(ue=ye(z,O),!(!(s&&(B===0||B===k-1))&&ue<ce(z,Ze)*T)){for(re=[(z[0]-O[0])/ue,(z[1]-O[1])/ue],V=O,J=ue,X=Y=q=0,$=!1,N=z,F++;F<u.length;F++){if(W=Ze,Ze=Q(F+1),!W){if(C)continue;break}if(ne=[W[0]-O[0],W[1]-O[1]],se=ne[0]*re[1]-ne[1]*re[0],Y=Math.min(Y,se),q=Math.max(q,se),q-Y>ce(W,Ze))break;N=W,oe=ne[0]*re[0]+ne[1]*re[1],oe>J?(J=oe,z=W,$=!1):oe<X&&(X=oe,V=W,$=!0)}if($?(Ve(z),N!==V&&Ve(V)):(V!==O&&Ve(V),N!==z&&Ve(z)),Ve(N),F>=u.length||!W)break;Ve(W),O=W}}Xe&&At([Be||Xe[0],Ne||Xe[1]]),L.push(_.slice(0,B))}var He=E.slice(E.length-1);if(w&&He!=="h"&&He!=="v"){for(var Ie=!1,be=-1,me=[],Me=0;Me<L.length;Me++)for(var Te=0;Te<L[Me].length-1;Te++){var Oe=L[Me][Te],Ke=L[Me][Te+1],nt=g.applyBackoff(Ke,Oe);(nt[0]!==Ke[0]||nt[1]!==Ke[1])&&(Ie=!0),me[be+1]||(be++,me[be]=[Oe,[nt[0],nt[1]]])}return Ie?me:L}return L}},11731:function(j){j.exports=function(e,g,P){var a=P("line.shape");a==="spline"&&P("line.smoothing")}},14328:function(j){var H={tonextx:1,tonexty:1,tonext:1};j.exports=function(g,P,a){var x,M,v,p,r,t={},i=!1,n=-1,u=0,f=-1;for(M=0;M<a.length;M++)x=a[M][0].trace,v=x.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=u,u++):x.fill in H&&f>=0?r=f:(r=f=u,u++),r<n&&(i=!0),x._groupIndex=n=r;var l=a.slice();i&&l.sort(function(h,S){var c=h[0].trace,o=S[0].trace;return c._groupIndex-o._groupIndex||c.index-o.index});var y={};for(M=0;M<l.length;M++)x=l[M][0].trace,v=x.stackgroup||"",x.visible===!0?(x._nexttrace=null,x.fill in H&&(p=y[v],x._prevtrace=p||null,p&&(p._nexttrace=x)),x._ownfill=x.fill&&(x.fill.substr(0,6)==="tozero"||x.fill==="toself"||x.fill.substr(0,2)==="to"&&!x._prevtrace),y[v]=x):x._prevtrace=x._nexttrace=x._ownfill=null;return l}},7152:function(j,H,e){var g=e(38248);j.exports=function(a,x){x||(x=2);var M=a.marker,v=M.sizeref||1,p=M.sizemin||0,r=M.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var i=r(t/x);return g(i)&&i>0?Math.max(i,p):0}}},5528:function(j){j.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(j,H,e){var g=e(76308),P=e(94288).hasColorscale,a=e(27260),x=e(43028);j.exports=function(v,p,r,t,i,n){var u=x.isBubble(v),f=(v.line||{}).color,l;if(n=n||{},f&&(r=f),i("marker.symbol"),i("marker.opacity",u?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",r),P(v,"marker")&&a(v,p,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(f&&!Array.isArray(f)&&p.marker.color!==f?l=f:u?l=g.background:l=g.defaultLine,i("marker.line.color",l),P(v,"marker.line")&&a(v,p,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",u?1:0)),u&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient){var y=i("marker.gradient.type");y!=="none"&&i("marker.gradient.color")}}},31147:function(j,H,e){var g=e(3400).dateTick0,P=e(39032),a=P.ONEWEEK;function x(M,v){return M%a===0?g(v,1):g(v,0)}j.exports=function(v,p,r,t,i){if(i||(i={x:!0,y:!0}),i.x){var n=t("xperiod");n&&(t("xperiod0",x(n,p.xcalendar)),t("xperiodalignment"))}if(i.y){var u=t("yperiod");u&&(t("yperiod0",x(u,p.ycalendar)),t("yperiodalignment"))}}},96504:function(j,H,e){var g=e(33428),P=e(24040),a=e(3400),x=a.ensureSingle,M=a.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),i=e(92065).tester;j.exports=function(y,h,S,c,o,d){var w,A,C=!o,m=!!o&&o.duration>0,E=t(y,h,S);if(w=c.selectAll("g.trace").data(E,function(s){return s[0].trace.uid}),w.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),w.order(),n(y,w,h),m){d&&(A=d());var b=g.transition().duration(o.duration).ease(o.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});b.each(function(){c.selectAll("g.trace").each(function(s,L){u(y,L,h,s,E,this,o)})})}else w.each(function(s,L){u(y,L,h,s,E,this,o)});C&&w.exit().remove(),c.selectAll("path:not([d])").remove()};function n(l,y,h){y.each(function(S){var c=x(g.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var o=S[0].trace,d=[];o._ownfill&&d.push("_ownFill"),o._nexttrace&&d.push("_nextFill");var w=c.selectAll("g").data(d,M);w.enter().append("g"),w.exit().each(function(A){o[A]=null}).remove(),w.order().each(function(A){o[A]=x(g.select(this),"path","js-fill")})})}function u(l,y,h,S,c,o,d){var w=l._context.staticPlot,A;f(l,y,h,S,c);var C=!!d&&d.duration>0;function m(At){return C?At.transition():At}var E=h.xaxis,b=h.yaxis,s=S[0].trace,L=s.line,T=g.select(o),k=x(T,"g","errorbars"),_=x(T,"g","lines"),B=x(T,"g","points"),F=x(T,"g","text");if(P.getComponentMethod("errorbars","plot")(l,k,h,d),s.visible!==!0)return;m(T).style("opacity",s.opacity);var O,N,z=s.fill.charAt(s.fill.length-1);z!=="x"&&z!=="y"&&(z="");var V,W;z==="y"?(V=1,W=b.c2p(0,!0)):z==="x"&&(V=0,W=E.c2p(0,!0)),S[0][h.isRangePlot?"nodeRangePlot3":"node3"]=T;var $="",re=[],ne=s._prevtrace,ue=null,J=null;ne&&($=ne._prevRevpath||"",N=ne._nextFill,re=ne._ownPolygons,ue=ne._fillsegments,J=ne._fillElement);var X,oe,Y="",q="",se,Q,K,le,ie,ce,ye=[];s._polygons=[];var Ce=[],Ae=[],ke=a.noop;if(O=s._ownFill,p.hasLines(s)||s.fill!=="none"){N&&N.datum(S),["hv","vh","hvh","vhv"].indexOf(L.shape)!==-1?(se=v.steps(L.shape),Q=v.steps(L.shape.split("").reverse().join(""))):L.shape==="spline"?se=Q=function(At){var et=At[At.length-1];return At.length>1&&At[0][0]===et[0]&&At[0][1]===et[1]?v.smoothclosed(At.slice(1),L.smoothing):v.smoothopen(At,L.smoothing)}:se=Q=function(At){return"M"+At.join("L")},K=function(At){return Q(At.reverse())},Ae=r(S,{xaxis:E,yaxis:b,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(L.width||1,3)/4,shape:L.shape,backoff:L.backoff,simplify:L.simplify,fill:s.fill}),Ce=new Array(Ae.length);var we=0;for(A=0;A<Ae.length;A++){var Ee,xe=Ae[A];!Ee||!z?(Ee=xe.slice(),Ce[we]=Ee,we++):Ee.push.apply(Ee,xe)}s._fillElement=null,s._fillExclusionElement=J,s._fillsegments=Ce.slice(0,we),Ce=s._fillsegments,Ae.length&&(le=Ae[0][0].slice(),ie=Ae[Ae.length-1],ce=ie[ie.length-1].slice()),ke=function(At){return function(et){if(X=se(et),oe=K(et),Y?z?(Y+="L"+X.substr(1),q=oe+("L"+q.substr(1))):(Y+="Z"+X,q=oe+"Z"+q):(Y=X,q=oe),p.hasLines(s)){var _e=g.select(this);if(_e.datum(S),At)m(_e.style("opacity",0).attr("d",X).call(v.lineGroupStyle)).style("opacity",1);else{var Ve=m(_e);Ve.attr("d",X),v.singleLineStyle(S,Ve)}}}}}var Pe=_.selectAll(".js-line").data(Ae);m(Pe.exit()).style("opacity",0).remove(),Pe.each(ke(!1)),Pe.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ke(!0)),v.setClipUrl(Pe,h.layerClipId,l);function Ue(At){m(At).attr("d","M0,0Z")}var Be=function(){var At=new Array(Ce.length);for(A=0;A<Ce.length;A++)At[A]=i(Ce[A]);return At},Ne=function(At){var et,_e;if(!At||At.length===0)for(et=new Array(Ce.length),_e=0;_e<Ce.length;_e++){var Ve=Ce[_e][0].slice(),Ze=Ce[_e][Ce[_e].length-1].slice();Ve[V]=Ze[V]=W;var He=[Ze,Ve],Ie=He.concat(Ce[_e]);et[_e]=i(Ie)}else{for(et=new Array(At.length-1+Ce.length),_e=0;_e<At.length-1;_e++)et[_e]=i(At[_e]);var be=At[At.length-1].slice();for(be.reverse(),_e=0;_e<Ce.length;_e++)et[At.length-1+_e]=i(Ce[_e].concat(be))}return et};Ae.length?(O?(O.datum(S),le&&ce&&(z?(le[V]=ce[V]=W,m(O).attr("d","M"+ce+"L"+le+"L"+Y.substr(1)).call(v.singleFillStyle,l),ye=Ne(null)):(m(O).attr("d",Y+"Z").call(v.singleFillStyle,l),ye=Be())),s._polygons=ye,s._fillElement=O):N&&(s.fill.substr(0,6)==="tonext"&&Y&&$?(s.fill==="tonext"?(m(N).attr("d",Y+"Z"+$+"Z").call(v.singleFillStyle,l),ye=Be(),s._polygons=ye.concat(re)):(m(N).attr("d",Y+"L"+$.substr(1)+"Z").call(v.singleFillStyle,l),ye=Ne(ue),s._polygons=ye),s._fillElement=N):Ue(N)),s._prevRevpath=q):(O?Ue(O):N&&Ue(N),s._prevRevpath=null),s._ownPolygons=ye;function Xe(At){return At.filter(function(et){return!et.gap&&et.vis})}function ut(At){return At.filter(function(et){return et.vis})}function dt(At){return At.filter(function(et){return!et.gap})}function at(At){return At.id}function We(At){if(At.ids)return at}function rt(){return!1}function st(At,et,_e){var Ve,Ze,He,Ie=_e[0].trace,be=p.hasMarkers(Ie),me=p.hasText(Ie),Me=We(Ie),Te=rt,Oe=rt;if(be||me){var Ke=M,nt=Ie.stackgroup,pt=nt&&l._fullLayout._scatterStackOpts[E._id+b._id][nt].stackgaps==="infer zero";Ie.marker.maxdisplayed||Ie._needsCull?Ke=pt?ut:Xe:nt&&!pt&&(Ke=dt),be&&(Te=Ke),me&&(Oe=Ke)}Ze=At.selectAll("path.point"),Ve=Ze.data(Te,Me);var yt=Ve.enter().append("path").classed("point",!0);C&&yt.call(v.pointStyle,Ie,l).call(v.translatePoints,E,b).style("opacity",0).transition().style("opacity",1),Ve.order();var Yt;be&&(Yt=v.makePointStyleFns(Ie)),Ve.each(function(Xt){var St=g.select(this),kt=m(St);He=v.translatePoint(Xt,kt,E,b),He?(v.singlePointStyle(Xt,kt,Ie,Yt,l),h.layerClipId&&v.hideOutsideRangePoint(Xt,kt,E,b,Ie.xcalendar,Ie.ycalendar),Ie.customdata&&St.classed("plotly-customdata",Xt.data!==null&&Xt.data!==void 0)):kt.remove()}),C?Ve.exit().transition().style("opacity",0).remove():Ve.exit().remove(),Ze=et.selectAll("g"),Ve=Ze.data(Oe,Me),Ve.enter().append("g").classed("textpoint",!0).append("text"),Ve.order(),Ve.each(function(Xt){var St=g.select(this),kt=m(St.select("text"));He=v.translatePoint(Xt,kt,E,b),He?h.layerClipId&&v.hideOutsideRangePoint(Xt,St,E,b,Ie.xcalendar,Ie.ycalendar):St.remove()}),Ve.selectAll("text").call(v.textPointStyle,Ie,l).each(function(Xt){var St=E.c2p(Xt.x),kt=b.c2p(Xt.y);g.select(this).selectAll("tspan.line").each(function(){m(g.select(this)).attr({x:St,y:kt})})}),Ve.exit().remove()}B.datum(S),F.datum(S),st(B,F,S);var ht=s.cliponaxis===!1,vt=ht?null:h.layerClipId;v.setClipUrl(B,vt,l),v.setClipUrl(F,vt,l)}function f(l,y,h,S,c){var o=h.xaxis,d=h.yaxis,w=g.extent(a.simpleMap(o.range,o.r2c)),A=g.extent(a.simpleMap(d.range,d.r2c)),C=S[0].trace;if(p.hasMarkers(C)){var m=C.marker.maxdisplayed;if(m!==0){var E=S.filter(function(T){return T.x>=w[0]&&T.x<=w[1]&&T.y>=A[0]&&T.y<=A[1]}),b=Math.ceil(E.length/m),s=0;c.forEach(function(T,k){var _=T[0].trace;p.hasMarkers(_)&&_.marker.maxdisplayed>0&&k<y&&s++});var L=Math.round(s*b/3+Math.floor(s/3)*b/7.1);S.forEach(function(T){delete T.vis}),E.forEach(function(T,k){Math.round((k+L)%b)===0&&(T.vis=!0)})}}}},91560:function(j,H,e){var g=e(43028);j.exports=function(a,x){var M=a.cd,v=a.xaxis,p=a.yaxis,r=[],t=M[0].trace,i,n,u,f,l=!g.hasMarkers(t)&&!g.hasText(t);if(l)return[];if(x===!1)for(i=0;i<M.length;i++)M[i].selected=0;else for(i=0;i<M.length;i++)n=M[i],u=v.c2p(n.x),f=p.c2p(n.y),n.i!==null&&x.contains([u,f],!1,i,a)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(j){var H=["orientation","groupnorm","stackgaps"];j.exports=function(g,P,a,x){var M=a._scatterStackOpts,v=x("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=M[p];r||(r=M[p]={});var t=r[v],i=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},i=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},u=0;u<H.length;u++){var f=H[u],l=f+"Found";if(!t[l]){var y=g[f]!==void 0,h=f==="orientation";if((y||i)&&(t[f]=x(f,n[f]),h&&(t.fillDflt=t[f]==="h"?"tonextx":"tonexty"),y&&(t[l]=!0,!i&&(delete t.traces[0][f],h))))for(var S=0;S<t.traces.length-1;S++){var c=t.traces[S];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(j,H,e){var g=e(33428),P=e(43616),a=e(24040);function x(r){var t=g.select(r).selectAll("g.trace.scatter");t.style("opacity",function(i){return i[0].trace.opacity}),t.selectAll("g.points").each(function(i){var n=g.select(this),u=i.trace||i[0].trace;M(n,u,r)}),t.selectAll("g.text").each(function(i){var n=g.select(this),u=i.trace||i[0].trace;v(n,u,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),a.getComponentMethod("errorbars","style")(t)}function M(r,t,i){P.pointStyle(r.selectAll("path.point"),t,i)}function v(r,t,i){P.textPointStyle(r.selectAll("text"),t,i)}function p(r,t,i){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(i.selectAll("path.point"),n),P.selectedTextStyle(i.selectAll("text"),n)):(M(i,n,r),v(i,n,r))}j.exports={style:x,stylePoints:M,styleText:v,styleOnSelect:p}},43028:function(j,H,e){var g=e(3400),P=e(38116).isTypedArraySpec;j.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var x=a.marker;return g.isPlainObject(x)&&(g.isArrayOrTypedArray(x.size)||P(x.size))}}},124:function(j,H,e){var g=e(3400);j.exports=function(P,a,x,M,v){v=v||{},M("textposition"),g.coerceFont(M,"textfont",v.font||x.font),v.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},43980:function(j,H,e){var g=e(3400),P=e(24040);j.exports=function(x,M,v,p){var r=p("x"),t=p("y"),i,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(x,M,["x","y"],v),r){var u=g.minRowLength(r);t?i=Math.min(u,g.minRowLength(t)):(i=u,p("y0"),p("dy"))}else{if(!t)return 0;i=g.minRowLength(t),p("x0"),p("dx")}return M._length=i,i}},91592:function(j,H,e){var g=e(52904),P=e(49084),a=e(29736).axisHoverFormat,x=e(21776).Ks,M=e(21776).Gw,v=e(45464),p=e(99168),r=e(87792),t=e(92880).extendFlat,i=e(67824).overrideAll,n=e(95376),u=g.line,f=g.marker,l=f.line,y=t({width:u.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},P("line"));function h(c){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var S=j.exports=i({x:g.x,y:g.y,z:{valType:"data_array"},text:t({},g.text,{}),texttemplate:M({},{}),hovertext:t({},g.hovertext,{}),hovertemplate:x(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:t({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h(),y:h(),z:h()},connectgaps:g.connectgaps,line:y,marker:t({symbol:{valType:"enumerated",values:n(r),dflt:"circle",arrayOk:!0},size:t({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:t({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:t({width:t({},l.width,{arrayOk:!1})},P("marker.line"))},P("marker")),textposition:t({},g.textposition,{dflt:"top center"}),textfont:{color:g.textfont.color,size:g.textfont.size,family:t({},g.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:t({},v.hoverinfo)},"calc","nested");S.x.editType=S.y.editType=S.z.editType="calc+clearAxisTypes"},41484:function(j,H,e){var g=e(20148),P=e(90136);j.exports=function(x,M){var v=[{x:!1,y:!1,trace:M,t:{}}];return g(v,M),P(x,M),v}},45156:function(j,H,e){var g=e(24040);function P(M,v,p,r){if(!v||!v.visible)return null;for(var t=g.getComponentMethod("errorbars","makeComputeError")(v),i=new Array(M.length),n=0;n<M.length;n++){var u=t(+M[n],n);if(r.type==="log"){var f=r.c2l(M[n]),l=M[n]-u[0],y=M[n]+u[1];if(i[n]=[(r.c2l(l,!0)-f)*p,(r.c2l(y,!0)-f)*p],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else i[n]=[-u[0]*p,u[1]*p]}return i}function a(M){for(var v=0;v<M.length;v++)if(M[v])return M[v].length;return 0}function x(M,v,p){var r=[P(M.x,M.error_x,v[0],p.xaxis),P(M.y,M.error_y,v[1],p.yaxis),P(M.z,M.error_z,v[2],p.zaxis)],t=a(r);if(t===0)return null;for(var i=new Array(t),n=0;n<t;n++){for(var u=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(r[f])for(var l=0;l<2;l++)u[l][f]=r[f][n][l];i[n]=u}return i}j.exports=x},41064:function(j,H,e){var g=e(67792).gl_line3d,P=e(67792).gl_scatter3d,a=e(67792).gl_error3d,x=e(67792).gl_mesh3d,M=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),i=e(99168),n=e(87792),u=e(54460),f=e(10624).appendArrayPointValue,l=e(45156);function y(T,k){this.scene=T,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=y.prototype;h.handlePick=function(T){if(T.object&&(T.object===this.linePlot||T.object===this.delaunayMesh||T.object===this.textMarkers||T.object===this.scatterPlot)){var k=T.index=T.data.index;return T.object.highlight&&T.object.highlight(null),this.scatterPlot&&(T.object=this.scatterPlot,this.scatterPlot.highlight(T.data)),T.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(T.textLabel=this.textLabels[k]):T.textLabel=this.textLabels),T.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function S(T,k,_){var B=(_+1)%3,F=(_+2)%3,O=[],N=[],z;for(z=0;z<T.length;++z){var V=T[z];isNaN(V[B])||!isFinite(V[B])||isNaN(V[F])||!isFinite(V[F])||(O.push([V[B],V[F]]),N.push(z))}var W=M(O);for(z=0;z<W.length;++z)for(var $=W[z],re=0;re<$.length;++re)$[re]=N[$[re]];return{positions:T,cells:W,meshColor:k}}function c(T){for(var k=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],B=[1,1,1],F=0;F<3;F++){var O=T[F];O&&O.copy_zstyle!==!1&&T[2].visible!==!1&&(O=T[2]),!(!O||!O.visible)&&(k[F]=O.width/2,_[F]=p(O.color),B[F]=O.thickness)}return{capSize:k,color:_,lineWidth:B}}function o(T){return T==null?0:T.indexOf("left")>-1?-1:T.indexOf("right")>-1?1:0}function d(T){return T==null?0:T.indexOf("top")>-1?-1:T.indexOf("bottom")>-1?1:0}function w(T){var k=0,_=0,B=[k,_];if(Array.isArray(T))for(var F=0;F<T.length;F++)B[F]=[k,_],T[F]&&(B[F][0]=o(T[F]),B[F][1]=d(T[F]));else B[0]=o(T),B[1]=d(T);return B}function A(T,k){return k(T*4)}function C(T){return n[T]}function m(T,k,_,B,F){var O=null;if(v.isArrayOrTypedArray(T)){O=[];for(var N=0;N<k;N++)T[N]===void 0?O[N]=B:O[N]=_(T[N],F)}else O=_(T,v.identity);return O}function E(T,k){var _=[],B=T.fullSceneLayout,F=T.dataScale,O=B.xaxis,N=B.yaxis,z=B.zaxis,V=k.marker,W=k.line,$=k.x||[],re=k.y||[],ne=k.z||[],ue=$.length,J=k.xcalendar,X=k.ycalendar,oe=k.zcalendar,Y,q,se,Q,K,le;for(K=0;K<ue;K++)Y=O.d2l($[K],0,J)*F[0],q=N.d2l(re[K],0,X)*F[1],se=z.d2l(ne[K],0,oe)*F[2],_[K]=[Y,q,se];if(Array.isArray(k.text))le=k.text;else if(v.isTypedArray(k.text))le=Array.from(k.text);else if(k.text!==void 0)for(le=new Array(ue),K=0;K<ue;K++)le[K]=k.text;function ie(dt,at){var We=B[dt];return u.tickText(We,We.d2l(at),!0).text}var ce=k.texttemplate;if(ce){var ye=T.fullLayout,Ce=ye._d3locale,Ae=Array.isArray(ce),ke=Ae?Math.min(ce.length,ue):ue,we=Ae?function(dt){return ce[dt]}:function(){return ce};for(le=new Array(ke),K=0;K<ke;K++){var Ee={x:$[K],y:re[K],z:ne[K]},xe={xLabel:ie("xaxis",$[K]),yLabel:ie("yaxis",re[K]),zLabel:ie("zaxis",ne[K])},Pe={};f(Pe,k,K);var Ue=k._meta||{};le[K]=v.texttemplateString(we(K),xe,Ce,Pe,Ee,Ue)}}if(Q={position:_,mode:k.mode,text:le},"line"in k&&(Q.lineColor=r(W,1,ue),Q.lineWidth=W.width,Q.lineDashes=W.dash),"marker"in k){var Be=t(k);Q.scatterColor=r(V,1,ue),Q.scatterSize=m(V.size,ue,A,20,Be),Q.scatterMarker=m(V.symbol,ue,C,"●"),Q.scatterLineWidth=V.line.width,Q.scatterLineColor=r(V.line,1,ue),Q.scatterAngle=0}"textposition"in k&&(Q.textOffset=w(k.textposition),Q.textColor=r(k.textfont,1,ue),Q.textSize=m(k.textfont.size,ue,v.identity,12),Q.textFont=k.textfont.family,Q.textAngle=0);var Ne=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],K=0;K<3;++K){var Xe=k.projection[Ne[K]];(Q.project[K]=Xe.show)&&(Q.projectOpacity[K]=Xe.opacity,Q.projectScale[K]=Xe.scale)}Q.errorBounds=l(k,F,B);var ut=c([k.error_x,k.error_y,k.error_z]);return Q.errorColor=ut.color,Q.errorLineWidth=ut.lineWidth,Q.errorCapSize=ut.capSize,Q.delaunayAxis=k.surfaceaxis,Q.delaunayColor=p(k.surfacecolor),Q}function b(T){if(v.isArrayOrTypedArray(T)){var k=T[0];return v.isArrayOrTypedArray(k)&&(T=k),"rgb("+T.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function s(T){return v.isArrayOrTypedArray(T)?T.length===4&&typeof T[0]=="number"?b(T):T.map(b):null}h.update=function(T){var k=this.scene.glplot.gl,_,B,F,O,N=i.solid;this.data=T;var z=E(this.scene,T);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in i&&(N=i[z.lineDashes]),this.color=s(z.scatterColor)||s(z.lineColor),this.dataPoints=z.position,_={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:T.opacity,connectGaps:T.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=g(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=T.opacity;if(T.marker&&T.marker.opacity!==void 0&&(V*=T.marker.opacity),B={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:V,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(B):(this.scatterPlot=P(B),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:T.opacity},this.textLabels=T.hovertext||T.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=P(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:T.opacity},this.errorBars?z.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=a(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var W=S(z.position,z.delaunayColor,z.delaunayAxis);W.opacity=T.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=k,this.delaunayMesh=x(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function L(T,k){var _=new y(T,k.uid);return _.update(k),_}j.exports=L},83484:function(j,H,e){var g=e(24040),P=e(3400),a=e(43028),x=e(74428),M=e(66828),v=e(124),p=e(91592);j.exports=function(i,n,u,f){function l(A,C){return P.coerce(i,n,p,A,C)}var y=r(i,n,l,f);if(!y){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),a.hasMarkers(n)&&x(i,n,u,f,l,{noSelect:!0,noAngle:!0}),a.hasLines(n)&&(l("connectgaps"),M(i,n,u,f,l)),a.hasText(n)&&(l("texttemplate"),v(i,n,f,l,{noSelect:!0}));var h=(n.line||{}).color,S=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||S);for(var c=["x","y","z"],o=0;o<3;++o){var d="projection."+c[o];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var w=g.getComponentMethod("errorbars","supplyDefaults");w(i,n,h||S||u,{axis:"z"}),w(i,n,h||S||u,{axis:"y",inherit:"z"}),w(i,n,h||S||u,{axis:"x",inherit:"z"})};function r(t,i,n,u){var f=0,l=n("x"),y=n("y"),h=n("z"),S=g.getComponentMethod("calendars","handleTraceDefaults");return S(t,i,["x","y","z"],u),l&&y&&h&&(f=Math.min(l.length,y.length,h.length),i._length=i._xlength=i._ylength=i._zlength=f),f}},3296:function(j,H,e){j.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(j,H,e){var g=e(98304),P=e(52904),a=e(45464),x=e(21776).Ks,M=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=P.marker,t=P.line,i=r.line;j.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},P.mode,{dflt:"markers"}),text:p({},P.text,{}),texttemplate:M({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:p({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:i.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:p({},a.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:x()}},48228:function(j,H,e){var g=e(38248),P=e(90136),a=e(20148),x=e(4500),M=e(16356).calcMarkerSize,v=e(50948);j.exports=function(r,t){var i=t._carpetTrace=v(r,t);if(!(!i||!i.visible||i.visible==="legendonly")){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var u=t._length,f=new Array(u),l,y,h=!1;for(n=0;n<u;n++)if(l=t.a[n],y=t.b[n],g(l)&&g(y)){var S=i.ab2xy(+l,+y,!0),c=i.isVisible(+l,+y);c||(h=!0),f[n]={x:S[0],y:S[1],a:l,b:y,vis:c}}else f[n]={x:!1,y:!1};return t._needsCull=h,f[0].carpet=i,f[0].trace=t,M(t,u),P(r,t),a(f,t),x(f,t),f}}},6176:function(j,H,e){var g=e(3400),P=e(88200),a=e(43028),x=e(74428),M=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);j.exports=function(n,u,f,l){function y(A,C){return g.coerce(n,u,t,A,C)}y("carpet"),u.xaxis="x",u.yaxis="y";var h=y("a"),S=y("b"),c=Math.min(h.length,S.length);if(!c){u.visible=!1;return}u._length=c,y("text"),y("texttemplate"),y("hovertext");var o=c<P.PTS_LINESONLY?"lines+markers":"lines";y("mode",o),a.hasMarkers(u)&&x(n,u,f,l,y,{gradient:!0}),a.hasLines(u)&&(M(n,u,f,l,y,{backoff:!0}),v(n,u,y),y("connectgaps")),a.hasText(u)&&p(n,u,l,y);var d=[];(a.hasMarkers(u)||a.hasText(u))&&(y("marker.maxdisplayed"),d.push("points")),y("fill"),u.fill!=="none"&&(r(n,u,f,y),a.hasLines(u)||v(n,u,y)),(u.fill==="tonext"||u.fill==="toself")&&d.push("fills");var w=y("hoveron",d.join("+")||"points");w!=="fills"&&y("hovertemplate"),g.coerceSelectionMarkerOpacity(u,y)}},89307:function(j){j.exports=function(e,g,P,a,x){var M=a[x];return e.a=M.a,e.b=M.b,e.y=M.y,e}},52364:function(j){j.exports=function(e,g){var P={},a=g._carpet,x=a.ab2ij([e.a,e.b]),M=Math.floor(x[0]),v=x[0]-M,p=Math.floor(x[1]),r=x[1]-p,t=a.evalxy([],M,p,v,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(j,H,e){var g=e(98723),P=e(3400).fillText;j.exports=function(x,M,v,p){var r=g(x,M,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var i=1-t.y0/x.ya._length,n=x.xa._length,u=n*i/2,f=n-u;return t.x0=Math.max(Math.min(t.x0,f),u),t.x1=Math.max(Math.min(t.x1,f),u),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var y=t.trace,h=y._carpet,S=y._module.formatLabels(l,y);t.yLabel=S.yLabel,delete t.text;var c=[];function o(A,C){var m;A.labelprefix&&A.labelprefix.length>0?m=A.labelprefix.replace(/ = $/,""):m=A._hovertitle,c.push(m+": "+C.toFixed(3)+A.labelsuffix)}if(!y.hovertemplate){var d=l.hi||y.hoverinfo,w=d.split("+");w.indexOf("all")!==-1&&(w=["a","b","text"]),w.indexOf("a")!==-1&&o(h.aaxis,l.a),w.indexOf("b")!==-1&&o(h.baxis,l.b),c.push("y: "+t.yLabel),w.indexOf("text")!==-1&&P(l,y,c),t.extraText=c.join("<br>")}return r}},4184:function(j,H,e){j.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(j,H,e){var g=e(96504),P=e(54460),a=e(43616);j.exports=function(M,v,p,r){var t,i,n,u=p[0][0].carpet,f=P.getFromId(M,u.xaxis||"x"),l=P.getFromId(M,u.yaxis||"y"),y={xaxis:f,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)i=p[t][0].trace,i._xA=f,i._yA=l;for(g(M,y,p,r),t=0;t<p.length;t++)i=p[t][0].trace,n=r.selectAll("g.trace"+i.uid+" .js-line"),a.setClipUrl(n,p[t][0].carpet._clipPathId,M)}},6096:function(j,H,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),x=e(52904),M=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,i=x.marker,n=x.line,u=i.line;j.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},x.mode,{dflt:"markers"}),text:r({},x.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},x.hovertext,{}),textfont:x.textfont,textposition:x.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:x.connectgaps,marker:r({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:r({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:r({width:u.width},v("marker.line")),gradient:i.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a(),selected:x.selected,unselected:x.unselected,hoverinfo:r({},M.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},25212:function(j,H,e){var g=e(38248),P=e(39032).BADNUM,a=e(90136),x=e(20148),M=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}j.exports=function(i,n){var u=v(n.locations),f=u?n.locations.length:n._length,l=new Array(f),y;n.geojson?y=function(w){return r(w)||g(w)}:y=r;for(var h=0;h<f;h++){var S=l[h]={};if(u){var c=n.locations[h];S.loc=y(c)?c:null}else{var o=n.lon[h],d=n.lat[h];g(o)&&g(d)?S.lonlat=[+o,+d]:S.lonlat=[P,P]}}return x(l,n),a(i,n),M(l,n),f&&(l[0].t={labels:{lat:p(i,"lat:")+" ",lon:p(i,"lon:")+" "}}),l}},86188:function(j,H,e){var g=e(3400),P=e(43028),a=e(74428),x=e(66828),M=e(124),v=e(70840),p=e(6096);j.exports=function(t,i,n,u){function f(w,A){return g.coerce(t,i,p,w,A)}var l=f("locations"),y;if(l&&l.length){var h=f("geojson"),S;(typeof h=="string"&&h!==""||g.isPlainObject(h))&&(S="geojson-id");var c=f("locationmode",S);c==="geojson-id"&&f("featureidkey"),y=l.length}else{var o=f("lon")||[],d=f("lat")||[];y=Math.min(o.length,d.length)}if(!y){i.visible=!1;return}i._length=y,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),P.hasMarkers(i)&&a(t,i,n,u,f,{gradient:!0}),P.hasLines(i)&&(x(t,i,n,u,f),f("connectgaps")),P.hasText(i)&&(f("texttemplate"),M(t,i,u,f)),f("fill"),i.fill!=="none"&&v(t,i,n,f),g.coerceSelectionMarkerOpacity(i,f)}},58544:function(j){j.exports=function(e,g,P,a,x){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var M=a[x];return M.fIn&&M.fIn.properties&&(e.properties=M.fIn.properties),e}},56696:function(j,H,e){var g=e(54460);j.exports=function(a,x,M){var v={},p=M[x.geo]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(j,H,e){var g=e(93024),P=e(39032).BADNUM,a=e(44928),x=e(3400).fillText,M=e(6096);j.exports=function(r,t,i){var n=r.cd,u=n[0].trace,f=r.xa,l=r.ya,y=r.subplot,h=y.projection.isLonLatOverEdges,S=y.project;function c(E){var b=E.lonlat;if(b[0]===P||h(b))return 1/0;var s=S(b),L=S([t,i]),T=Math.abs(s[0]-L[0]),k=Math.abs(s[1]-L[1]),_=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(T*T+k*k)-_,1-3/_)}if(g.getClosest(n,c,r),r.index!==!1){var o=n[r.index],d=o.lonlat,w=[f.c2p(d),l.c2p(d)],A=o.mrc||1;r.x0=w[0]-A,r.x1=w[0]+A,r.y0=w[1]-A,r.y1=w[1]+A,r.loc=o.loc,r.lon=d[0],r.lat=d[1];var C={};C[u.geo]={_subplot:y};var m=u._module.formatLabels(o,u,C);return r.lonLabel=m.lonLabel,r.latLabel=m.latLabel,r.color=a(u,o),r.extraText=v(u,o,r,n[0].t.labels),r.hovertemplate=u.hovertemplate,[r]}};function v(p,r,t,i){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,u=n==="all"?M.hoverinfo.flags:n.split("+"),f=u.indexOf("location")!==-1&&Array.isArray(p.locations),l=u.indexOf("lon")!==-1,y=u.indexOf("lat")!==-1,h=u.indexOf("text")!==-1,S=[];function c(o){return o+"°"}return f?S.push(r.loc):l&&y?S.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?S.push(i.lon+c(t.lonLabel)):y&&S.push(i.lat+c(t.latLabel)),h&&x(r,p,S),S.join("<br>")}},36952:function(j,H,e){j.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(j,H,e){var g=e(33428),P=e(3400),a=e(59972).getTopojsonFeatures,x=e(44808),M=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),i=e(25064);function n(f,l,y){var h=l.layers.frontplot.select(".scatterlayer"),S=P.makeTraceGroups(h,y,"trace scattergeo");function c(o,d){o.lonlat[0]===p&&g.select(d).remove()}S.selectAll("*").remove(),S.each(function(o){var d=g.select(this),w=o[0].trace;if(t.hasLines(w)||w.fill!=="none"){var A=x.calcTraceToLineCoords(o),C=w.fill!=="none"?x.makePolygon(A):x.makeLine(A);d.selectAll("path.js-line").data([{geojson:C,trace:w}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(w)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),t.hasText(w)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(m){c(m,this)}),i(f,o)})}function u(f,l){var y=f[0].trace,h=l[y.geo],S=h._subplot,c=y._length,o,d;if(P.isArrayOrTypedArray(y.locations)){var w=y.locationmode,A=w==="geojson-id"?M.extractTraceFeature(f):a(y,S.topojson);for(o=0;o<c;o++){d=f[o];var C=w==="geojson-id"?d.fOut:M.locationToFeature(w,d.loc,A);d.lonlat=C?C.properties.ct:[p,p]}}var m={padded:!0},E,b;if(h.fitbounds==="geojson"&&y.locationmode==="geojson-id"){var s=M.computeBbox(M.getTraceGeojson(y));E=[s[0],s[2]],b=[s[1],s[3]]}else{for(E=new Array(c),b=new Array(c),o=0;o<c;o++)d=f[o],E[o]=d.lonlat[0],b[o]=d.lonlat[1];m.ppad=r(y,c)}y._extremes.lon=v(h.lonaxis._ax,E,m),y._extremes.lat=v(h.lataxis._ax,b,m)}j.exports={calcGeoJSON:u,plot:n}},8796:function(j,H,e){var g=e(43028),P=e(39032).BADNUM;j.exports=function(x,M){var v=x.cd,p=x.xaxis,r=x.yaxis,t=[],i=v[0].trace,n,u,f,l,y,h=!g.hasMarkers(i)&&!g.hasText(i);if(h)return[];if(M===!1)for(y=0;y<v.length;y++)v[y].selected=0;else for(y=0;y<v.length;y++)n=v[y],u=n.lonlat,u[0]!==P&&(f=p.c2p(u),l=r.c2p(u),M.contains([f,l],null,y,x)?(t.push({pointNumber:y,lon:u[0],lat:u[1]}),n.selected=1):n.selected=0);return t}},25064:function(j,H,e){var g=e(33428),P=e(43616),a=e(76308),x=e(49224),M=x.stylePoints,v=x.styleText;j.exports=function(t,i){i&&p(t,i)};function p(r,t){var i=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),M(n,i,r),v(n,i,r),n.selectAll("path.js-line").style("fill","none").each(function(u){var f=g.select(this),l=u.trace,y=l.line||{};f.call(a.stroke,y.color).call(P.dashLine,y.dash||"",y.width||0),l.fill!=="none"&&f.call(a.fill,l.fillcolor)})}},2876:function(j,H,e){var g=e(45464),P=e(98304),a=e(52904),x=e(29736).axisHoverFormat,M=e(49084),v=e(95376),p=e(92880).extendFlat,r=e(67824).overrideAll,t=e(67072).DASHES,i=a.line,n=a.marker,u=n.line,f=j.exports=r({x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),text:a.text,hovertext:a.hovertext,textposition:a.textposition,textfont:a.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:v(t),dflt:"solid"}},marker:p({},M("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:p({},M("marker.line"),{width:u.width})}),connectgaps:a.connectgaps,fill:p({},a.fill,{dflt:"none"}),fillcolor:P(),selected:{marker:a.selected.marker,textfont:a.selected.textfont},unselected:{marker:a.unselected.marker,textfont:a.unselected.textfont},opacity:g.opacity},"calc","nested");f.x.editType=f.y.editType=f.x0.editType=f.y0.editType="calc+clearAxisTypes",f.hovertemplate=a.hovertemplate,f.texttemplate=a.texttemplate},64628:function(j,H,e){var g=e(41272);j.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:g.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(j,H,e){var g=e(3108),P=e(3400),a=e(79811),x=e(19280).findExtremes,M=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,i=e(90136),n=e(84236),u=e(74588),f=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;j.exports=function(c,o){var d=c._fullLayout,w=o._xA=a.getFromId(c,o.xaxis,"x"),A=o._yA=a.getFromId(c,o.yaxis,"y"),C=d._plots[o.xaxis+o.yaxis],m=o._length,E=m>=l,b=m*2,s={},L,T=w.makeCalcdata(o,"x"),k=A.makeCalcdata(o,"y"),_=M(o,w,"x",T),B=M(o,A,"y",k),F=_.vals,O=B.vals;o._x=F,o._y=O,o.xperiodalignment&&(o._origX=T,o._xStarts=_.starts,o._xEnds=_.ends),o.yperiodalignment&&(o._origY=k,o._yStarts=B.starts,o._yEnds=B.ends);var N=new Array(b),z=new Array(m);for(L=0;L<m;L++)N[L*2]=F[L]===f?NaN:F[L],N[L*2+1]=O[L]===f?NaN:O[L],z[L]=L;if(w.type==="log")for(L=0;L<b;L+=2)N[L]=w.c2l(N[L]);if(A.type==="log")for(L=1;L<b;L+=2)N[L]=A.c2l(N[L]);E&&w.type!=="log"&&A.type!=="log"?s.tree=g(N):s.ids=z,i(c,o);var V=h(c,C,o,N,F,O),W=u(c,C);t(d,o);var $;return E?V.marker&&($=V.marker.sizeAvg||Math.max(V.marker.size,3)):$=p(o,m),r(c,o,w,A,F,O,$),V.errorX&&y(o,w,V.errorX),V.errorY&&y(o,A,V.errorY),V.fill&&!W.fill2d&&(W.fill2d=!0),V.marker&&!W.scatter2d&&(W.scatter2d=!0),V.line&&!W.line2d&&(W.line2d=!0),(V.errorX||V.errorY)&&!W.error2d&&(W.error2d=!0),V.text&&!W.glText&&(W.glText=!0),V.marker&&(V.marker.snap=m),W.lineOptions.push(V.line),W.errorXOptions.push(V.errorX),W.errorYOptions.push(V.errorY),W.fillOptions.push(V.fill),W.markerOptions.push(V.marker),W.markerSelectedOptions.push(V.markerSel),W.markerUnselectedOptions.push(V.markerUnsel),W.textOptions.push(V.text),W.textSelectedOptions.push(V.textSel),W.textUnselectedOptions.push(V.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),s._scene=W,s.index=W.count,s.x=F,s.y=O,s.positions=N,W.count++,[{x:!1,y:!1,t:s,trace:o}]};function y(S,c,o){var d=S._extremes[c._id],w=x(c,o._bnds,{padded:!0});d.min=d.min.concat(w.min),d.max=d.max.concat(w.max)}function h(S,c,o,d,w,A){var C=n.style(S,o);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&P.extendFlat(C.line,n.linePositions(S,o,d)),C.errorX||C.errorY){var m=n.errorBarPositions(S,o,d,w,A);C.errorX&&P.extendFlat(C.errorX,m.x),C.errorY&&P.extendFlat(C.errorY,m.y)}return C.text&&(P.extendFlat(C.text,{positions:d},n.textPosition(S,o,C.text,C.marker)),P.extendFlat(C.textSel,{positions:d},n.textPosition(S,o,C.text,C.markerSel)),P.extendFlat(C.textUnsel,{positions:d},n.textPosition(S,o,C.text,C.markerUnsel))),C}},67072:function(j){var H=20;j.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:H,SYMBOL_STROKE:H/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(j,H,e){var g=e(38248),P=e(20472),a=e(72160),x=e(24040),M=e(3400),v=M.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,i=e(43028),n=e(7152),u=e(80088),f=e(67072),l=e(13448).DESELECTDIM,y={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function S(B,F){var O,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=B._context.plotGlPixelRatio;if(F.visible!==!0)return N;if(i.hasText(F)&&(N.text=c(B,F),N.textSel=w(B,F,F.selected),N.textUnsel=w(B,F,F.unselected)),i.hasMarkers(F)&&(N.marker=o(B,F),N.markerSel=d(B,F,F.selected),N.markerUnsel=d(B,F,F.unselected),!F.unselected&&v(F.marker.opacity))){var V=F.marker.opacity;for(N.markerUnsel.opacity=new Array(V.length),O=0;O<V.length;O++)N.markerUnsel.opacity[O]=l*V[O]}if(i.hasLines(F)){N.line={overlay:!0,thickness:F.line.width*z,color:F.line.color,opacity:F.opacity};var W=(f.DASHES[F.line.dash]||[1]).slice();for(O=0;O<W.length;++O)W[O]*=F.line.width*z;N.line.dashes=W}return F.error_x&&F.error_x.visible&&(N.errorX=A(F,F.error_x,z)),F.error_y&&F.error_y.visible&&(N.errorY=A(F,F.error_y,z)),F.fill&&F.fill!=="none"&&(N.fill={closed:!0,fill:F.fillcolor,thickness:0}),N}function c(B,F){var O=B._fullLayout,N=F._length,z=F.textfont,V=F.textposition,W=v(V)?V:[V],$=z.color,re=z.size,ne=z.family,ue={},J,X=B._context.plotGlPixelRatio,oe=F.texttemplate;if(oe){ue.text=[];var Y=O._d3locale,q=Array.isArray(oe),se=q?Math.min(oe.length,N):N,Q=q?function(Ae){return oe[Ae]}:function(){return oe};for(J=0;J<se;J++){var K={i:J},le=F._module.formatLabels(K,F,O),ie={};h(ie,F,J);var ce=F._meta||{};ue.text.push(M.texttemplateString(Q(J),le,Y,ie,K,ce))}}else v(F.text)&&F.text.length<N?ue.text=F.text.slice():ue.text=F.text;if(v(ue.text))for(J=ue.text.length;J<N;J++)ue.text[J]="";for(ue.opacity=F.opacity,ue.font={},ue.align=[],ue.baseline=[],J=0;J<W.length;J++){var ye=W[J].split(/\s+/);switch(ye[1]){case"left":ue.align.push("right");break;case"right":ue.align.push("left");break;default:ue.align.push(ye[1])}switch(ye[0]){case"top":ue.baseline.push("bottom");break;case"bottom":ue.baseline.push("top");break;default:ue.baseline.push(ye[0])}}if(v($))for(ue.color=new Array(N),J=0;J<N;J++)ue.color[J]=$[J];else ue.color=$;if(v(re)||v(ne))for(ue.font=new Array(N),J=0;J<N;J++){var Ce=ue.font[J]={};Ce.size=(M.isTypedArray(re)?re[J]:v(re)?g(re[J])?re[J]:0:re)*X,Ce.family=v(ne)?ne[J]:ne}else ue.font={size:re*X,family:ne};return ue}function o(B,F){var O=F._length,N=F.marker,z={},V,W=v(N.symbol),$=v(N.angle),re=v(N.color),ne=v(N.line.color),ue=v(N.opacity),J=v(N.size),X=v(N.line.width),oe;if(W||(oe=u.isOpenSymbol(N.symbol)),W||re||ne||ue||$){z.symbols=new Array(O),z.angles=new Array(O),z.colors=new Array(O),z.borderColors=new Array(O);var Y=N.symbol,q=N.angle,se=t(N,N.opacity,O),Q=t(N.line,N.opacity,O);if(!v(Q[0])){var K=Q;for(Q=Array(O),V=0;V<O;V++)Q[V]=K}if(!v(se[0])){var le=se;for(se=Array(O),V=0;V<O;V++)se[V]=le}if(!v(Y)){var ie=Y;for(Y=Array(O),V=0;V<O;V++)Y[V]=ie}if(!v(q)){var ce=q;for(q=Array(O),V=0;V<O;V++)q[V]=ce}for(z.symbols=Y,z.angles=q,z.colors=se,z.borderColors=Q,V=0;V<O;V++)W&&(oe=u.isOpenSymbol(N.symbol[V])),oe&&(Q[V]=se[V].slice(),se[V]=se[V].slice(),se[V][3]=0);for(z.opacity=F.opacity,z.markers=new Array(O),V=0;V<O;V++)z.markers[V]=L({mx:z.symbols[V],ma:z.angles[V]},F)}else oe?(z.color=a(N.color,"uint8"),z.color[3]=0,z.borderColor=a(N.color,"uint8")):(z.color=a(N.color,"uint8"),z.borderColor=a(N.line.color,"uint8")),z.opacity=F.opacity*N.opacity,z.marker=L({mx:N.symbol,ma:N.angle},F);var ye=1,Ce=n(F,ye),Ae;if(J||X){var ke=z.sizes=new Array(O),we=z.borderSizes=new Array(O),Ee=0,xe;if(J){for(V=0;V<O;V++)ke[V]=Ce(N.size[V]),Ee+=ke[V];xe=Ee/O}else for(Ae=Ce(N.size),V=0;V<O;V++)ke[V]=Ae;if(X)for(V=0;V<O;V++)we[V]=N.line.width[V];else for(Ae=N.line.width,V=0;V<O;V++)we[V]=Ae;z.sizeAvg=xe}else z.size=Ce(N&&N.size||10),z.borderSizes=Ce(N.line.width);return z}function d(B,F,O){var N=F.marker,z={};return O&&(O.marker&&O.marker.symbol?z=o(B,M.extendFlat({},N,O.marker)):O.marker&&(O.marker.size&&(z.size=O.marker.size),O.marker.color&&(z.colors=O.marker.color),O.marker.opacity!==void 0&&(z.opacity=O.marker.opacity))),z}function w(B,F,O){var N={};if(!O)return N;if(O.textfont){var z={opacity:1,text:F.text,texttemplate:F.texttemplate,textposition:F.textposition,textfont:M.extendFlat({},F.textfont)};O.textfont&&M.extendFlat(z.textfont,O.textfont),N=c(B,z)}return N}function A(B,F,O){var N={capSize:F.width*2*O,lineWidth:F.thickness*O,color:F.color};return F.copy_ystyle&&(N=B.error_y),N}var C=f.SYMBOL_SDF_SIZE,m=f.SYMBOL_SIZE,E=f.SYMBOL_STROKE,b={},s=p.symbolFuncs[0](m*.05);function L(B,F){var O=B.mx;if(O==="circle")return null;var N,z,V=p.symbolNumber(O),W=p.symbolFuncs[V%100],$=!!p.symbolNoDot[V%100],re=!!p.symbolNoFill[V%100],ne=u.isDotSymbol(O);if(B.ma&&(O+="_"+B.ma),b[O])return b[O];var ue=p.getMarkerAngle(B,F);return ne&&!$?N=W(m*1.1,ue)+s:N=W(m,ue),z=P(N,{w:C,h:C,viewBox:[-m,-m,m,m],stroke:re?E:-E}),b[O]=z,z||null}function T(B,F,O){var N=O.length,z=N/2,V,W;if(i.hasLines(F)&&z)if(F.line.shape==="hv"){for(V=[],W=0;W<z-1;W++)isNaN(O[W*2])||isNaN(O[W*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(O[W*2],O[W*2+1]),!isNaN(O[W*2+2])&&!isNaN(O[W*2+3])?V.push(O[W*2+2],O[W*2+1]):V.push(NaN,NaN));V.push(O[N-2],O[N-1])}else if(F.line.shape==="hvh"){for(V=[],W=0;W<z-1;W++)if(isNaN(O[W*2])||isNaN(O[W*2+1])||isNaN(O[W*2+2])||isNaN(O[W*2+3]))!isNaN(O[W*2])&&!isNaN(O[W*2+1])?V.push(O[W*2],O[W*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var $=(O[W*2]+O[W*2+2])/2;V.push(O[W*2],O[W*2+1],$,O[W*2+1],$,O[W*2+3])}V.push(O[N-2],O[N-1])}else if(F.line.shape==="vhv"){for(V=[],W=0;W<z-1;W++)if(isNaN(O[W*2])||isNaN(O[W*2+1])||isNaN(O[W*2+2])||isNaN(O[W*2+3]))!isNaN(O[W*2])&&!isNaN(O[W*2+1])?V.push(O[W*2],O[W*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var re=(O[W*2+1]+O[W*2+3])/2;V.push(O[W*2],O[W*2+1],O[W*2],re,O[W*2+2],re)}V.push(O[N-2],O[N-1])}else if(F.line.shape==="vh"){for(V=[],W=0;W<z-1;W++)isNaN(O[W*2])||isNaN(O[W*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(O[W*2],O[W*2+1]),!isNaN(O[W*2+2])&&!isNaN(O[W*2+3])?V.push(O[W*2],O[W*2+3]):V.push(NaN,NaN));V.push(O[N-2],O[N-1])}else V=O;var ne=!1;for(W=0;W<V.length;W++)if(isNaN(V[W])){ne=!0;break}var ue=ne||V.length>f.TOO_MANY_POINTS||i.hasMarkers(F)?"rect":"round";if(ne&&F.connectgaps){var J=V[0],X=V[1];for(W=0;W<V.length;W+=2)isNaN(V[W])||isNaN(V[W+1])?(V[W]=J,V[W+1]=X):(J=V[W],X=V[W+1])}return{join:ue,positions:V}}function k(B,F,O,N,z){var V=x.getComponentMethod("errorbars","makeComputeError"),W=r.getFromId(B,F.xaxis,"x"),$=r.getFromId(B,F.yaxis,"y"),re=O.length/2,ne={};function ue(J,X){var oe=X._id.charAt(0),Y=F["error_"+oe];if(Y&&Y.visible&&(X.type==="linear"||X.type==="log")){for(var q=V(Y),se={x:0,y:1}[oe],Q={x:[0,1,2,3],y:[2,3,0,1]}[oe],K=new Float64Array(4*re),le=1/0,ie=-1/0,ce=0,ye=0;ce<re;ce++,ye+=4){var Ce=J[ce];if(g(Ce)){var Ae=O[ce*2+se],ke=q(Ce,ce),we=ke[0],Ee=ke[1];if(g(we)&&g(Ee)){var xe=Ce-we,Pe=Ce+Ee;K[ye+Q[0]]=Ae-X.c2l(xe),K[ye+Q[1]]=X.c2l(Pe)-Ae,K[ye+Q[2]]=0,K[ye+Q[3]]=0,le=Math.min(le,Ce-we),ie=Math.max(ie,Ce+Ee)}}}ne[oe]={positions:O,errors:K,_bnds:[le,ie]}}}return ue(N,W),ue(z,$),ne}function _(B,F,O,N){var z=F._length,V={},W;if(i.hasMarkers(F)){var $=O.font,re=O.align,ne=O.baseline;for(V.offset=new Array(z),W=0;W<z;W++){var ue=N.sizes?N.sizes[W]:N.size,J=v($)?$[W].size:$.size,X=v(re)?re.length>1?re[W]:re[0]:re,oe=v(ne)?ne.length>1?ne[W]:ne[0]:ne,Y=y[X],q=y[oe],se=ue?ue/.8+1:0,Q=-q*se-q*.5;V.offset[W]=[Y*se/J,Q/J]}}return V}j.exports={style:S,markerStyle:o,markerSelection:d,linePositions:T,errorBarPositions:k,textPosition:_}},80220:function(j,H,e){var g=e(3400),P=e(24040),a=e(80088),x=e(2876),M=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),i=e(66828),n=e(70840),u=e(124);j.exports=function(l,y,h,S){function c(b,s){return g.coerce(l,y,x,b,s)}var o=l.marker?a.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),w=p(l,y,S,c);if(!w){y.visible=!1;return}r(l,y,S,c),c("xhoverformat"),c("yhoverformat");var A=w<M.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",A),v.hasMarkers(y)&&(t(l,y,h,S,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",o||d?1:0)),v.hasLines(y)&&(c("connectgaps"),i(l,y,h,S,c),c("line.shape")),v.hasText(y)&&(c("texttemplate"),u(l,y,S,c));var C=(y.line||{}).color,m=(y.marker||{}).color;c("fill"),y.fill!=="none"&&n(l,y,h,c);var E=P.getComponentMethod("errorbars","supplyDefaults");E(l,y,C||m||h,{axis:"y"}),E(l,y,C||m||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(y,c)}},26768:function(j,H,e){var g=e(3400),P=e(76308),a=e(13448).DESELECTDIM;function x(M){var v=M[0],p=v.trace,r=v.t,t=r._scene,i=r.index,n=t.selectBatch[i],u=t.unselectBatch[i],f=t.textOptions[i],l=t.textSelectedOptions[i]||{},y=t.textUnselectedOptions[i]||{},h=g.extendFlat({},f),S,c;if(n.length||u.length){var o=l.color,d=y.color,w=f.color,A=g.isArrayOrTypedArray(w);for(h.color=new Array(p._length),S=0;S<n.length;S++)c=n[S],h.color[c]=o||(A?w[c]:w);for(S=0;S<u.length;S++){c=u[S];var C=A?w[c]:w;h.color[c]=d||(o?C:P.addOpacity(C,a))}}t.glText[i].update(h)}j.exports={styleTextSelection:x}},99396:function(j,H,e){var g=e(76688);j.exports=function(a,x,M){var v=a.i;return"x"in a||(a.x=x._x[v]),"y"in a||(a.y=x._y[v]),g(a,x,M)}},80088:function(j,H,e){var g=e(67072);H.isOpenSymbol=function(P){return typeof P=="string"?g.OPEN_RE.test(P):P%200>100},H.isDotSymbol=function(P){return typeof P=="string"?g.DOT_RE.test(P):P>200}},41272:function(j,H,e){var g=e(24040),P=e(3400),a=e(44928);function x(v,p,r,t){var i=v.cd,n=i[0].t,u=i[0].trace,f=v.xa,l=v.ya,y=n.x,h=n.y,S=f.c2p(p),c=l.c2p(r),o=v.distance,d;if(n.tree){var w=f.p2c(S-o),A=f.p2c(S+o),C=l.p2c(c-o),m=l.p2c(c+o);t==="x"?d=n.tree.range(Math.min(w,A),Math.min(l._rl[0],l._rl[1]),Math.max(w,A),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(w,A),Math.min(C,m),Math.max(w,A),Math.max(C,m))}else d=n.ids;var E,b,s,L,T,k,_,B,F,O=o;if(t==="x"){var N=!!u.xperiodalignment,z=!!u.yperiodalignment;for(T=0;T<d.length;T++){if(E=d[T],s=y[E],k=Math.abs(f.c2p(s)-S),N){var V=f.c2p(u._xStarts[E]),W=f.c2p(u._xEnds[E]);k=S>=Math.min(V,W)&&S<=Math.max(V,W)?0:1/0}if(k<O){if(O=k,L=h[E],_=l.c2p(L)-c,z){var $=l.c2p(u._yStarts[E]),re=l.c2p(u._yEnds[E]);_=c>=Math.min($,re)&&c<=Math.max($,re)?0:1/0}F=Math.sqrt(k*k+_*_),b=d[T]}}}else for(T=d.length-1;T>-1;T--)E=d[T],s=y[E],L=h[E],k=f.c2p(s)-S,_=l.c2p(L)-c,B=Math.sqrt(k*k+_*_),B<O&&(O=F=B,b=E);return v.index=b,v.distance=O,v.dxy=F,b===void 0?[v]:[M(v,y,h,u)]}function M(v,p,r,t){var i=v.xa,n=v.ya,u=v.distance,f=v.dxy,l=v.index,y={pointNumber:l,x:p[l],y:r[l]};y.tx=P.isArrayOrTypedArray(t.text)?t.text[l]:t.text,y.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,y.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,y.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(y.ts=P.isArrayOrTypedArray(h.size)?h.size[l]:h.size,y.tc=Array.isArray(h.color)?h.color[l]:h.color,y.tf=Array.isArray(h.family)?h.family[l]:h.family);var S=t.marker;S&&(y.ms=P.isArrayOrTypedArray(S.size)?S.size[l]:S.size,y.mo=P.isArrayOrTypedArray(S.opacity)?S.opacity[l]:S.opacity,y.mx=P.isArrayOrTypedArray(S.symbol)?S.symbol[l]:S.symbol,y.ma=P.isArrayOrTypedArray(S.angle)?S.angle[l]:S.angle,y.mc=P.isArrayOrTypedArray(S.color)?S.color[l]:S.color);var c=S&&S.line;c&&(y.mlc=Array.isArray(c.color)?c.color[l]:c.color,y.mlw=P.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var o=S&&S.gradient;o&&o.type!=="none"&&(y.mgt=Array.isArray(o.type)?o.type[l]:o.type,y.mgc=Array.isArray(o.color)?o.color[l]:o.color);var d=i.c2p(y.x,!0),w=n.c2p(y.y,!0),A=y.mrc||1,C=t.hoverlabel;C&&(y.hbg=Array.isArray(C.bgcolor)?C.bgcolor[l]:C.bgcolor,y.hbc=Array.isArray(C.bordercolor)?C.bordercolor[l]:C.bordercolor,y.hts=P.isArrayOrTypedArray(C.font.size)?C.font.size[l]:C.font.size,y.htc=Array.isArray(C.font.color)?C.font.color[l]:C.font.color,y.htf=Array.isArray(C.font.family)?C.font.family[l]:C.font.family,y.hnl=P.isArrayOrTypedArray(C.namelength)?C.namelength[l]:C.namelength);var m=t.hoverinfo;m&&(y.hi=Array.isArray(m)?m[l]:m);var E=t.hovertemplate;E&&(y.ht=Array.isArray(E)?E[l]:E);var b={};b[v.index]=y;var s=t._origX,L=t._origY,T=P.extendFlat({},v,{color:a(t,y),x0:d-A,x1:d+A,xLabelVal:s?s[l]:y.x,y0:w-A,y1:w+A,yLabelVal:L?L[l]:y.y,cd:b,distance:u,spikeDistance:f,hovertemplate:y.ht});return y.htx?T.text=y.htx:y.tx?T.text=y.tx:t.text&&(T.text=t.text),P.fillText(y,t,T),g.getComponentMethod("errorbars","hoverInfo")(y,t,T),T}j.exports={hoverPoints:x,calcHover:M}},38983:function(j,H,e){var g=e(64628);g.plot=e(89876),j.exports=g},89876:function(j,H,e){var g=e(38540),P=e(13472),a=e(24544),x=e(23352),M=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),i=e(26768).styleTextSelection,n={};function u(l,y,h,S){var c=l._size,o=l.width*S,d=l.height*S,w=c.l*S,A=c.b*S,C=c.r*S,m=c.t*S,E=c.w*S,b=c.h*S;return[w+y.domain[0]*E,A+h.domain[0]*b,o-C-(1-y.domain[1])*E,d-m-(1-h.domain[1])*b]}var f=j.exports=function(y,h,S){if(S.length){var c=y._fullLayout,o=h._scene,d=h.xaxis,w=h.yaxis,A,C;if(o){var m=p(y,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!m){o.init();return}var E=o.count,b=c._glcanvas.data()[0].regl;if(t(y,h,S),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&b.clear({}),o.error2d===!0&&(o.error2d=a(b)),o.line2d===!0&&(o.line2d=P(b)),o.scatter2d===!0&&(o.scatter2d=g(b)),o.fill2d===!0&&(o.fill2d=P(b)),o.glText===!0)for(o.glText=new Array(E),A=0;A<E;A++)o.glText[A]=new x(b);if(o.glText){if(E>o.glText.length){var s=E-o.glText.length;for(A=0;A<s;A++)o.glText.push(new x(b))}else if(E<o.glText.length){var L=o.glText.length-E,T=o.glText.splice(E,L);T.forEach(function(Q){Q.destroy()})}for(A=0;A<E;A++)o.glText[A].update(o.textOptions[A])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(Q){if(Q&&Q.positions){for(var K=Q.positions,le=0;le<K.length&&(isNaN(K[le])||isNaN(K[le+1]));)le+=2;for(var ie=K.length-2;ie>le&&(isNaN(K[ie])||isNaN(K[ie+1]));)ie-=2;Q.positions=K.slice(le,ie+2)}return Q}),o.line2d.update(o.lineOptions)),o.error2d){var k=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(k)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=M.repeat(null,E),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(Q,K){var le=S[K];if(!(!Q||!le||!le[0]||!le[0].trace)){var ie=le[0],ce=ie.trace,ye=ie.t,Ce=o.lineOptions[K],Ae,ke,we=[];ce._ownfill&&we.push(K),ce._nexttrace&&we.push(K+1),we.length&&(o.fillOrder[K]=we);var Ee=[],xe=Ce&&Ce.positions||ye.positions,Pe,Ue;if(ce.fill==="tozeroy"){for(Pe=0;Pe<xe.length&&isNaN(xe[Pe+1]);)Pe+=2;for(Ue=xe.length-2;Ue>Pe&&isNaN(xe[Ue+1]);)Ue-=2;xe[Pe+1]!==0&&(Ee=[xe[Pe],0]),Ee=Ee.concat(xe.slice(Pe,Ue+2)),xe[Ue+1]!==0&&(Ee=Ee.concat([xe[Ue],0]))}else if(ce.fill==="tozerox"){for(Pe=0;Pe<xe.length&&isNaN(xe[Pe]);)Pe+=2;for(Ue=xe.length-2;Ue>Pe&&isNaN(xe[Ue]);)Ue-=2;xe[Pe]!==0&&(Ee=[0,xe[Pe+1]]),Ee=Ee.concat(xe.slice(Pe,Ue+2)),xe[Ue]!==0&&(Ee=Ee.concat([0,xe[Ue+1]]))}else if(ce.fill==="toself"||ce.fill==="tonext"){for(Ee=[],Ae=0,Q.splitNull=!0,ke=0;ke<xe.length;ke+=2)(isNaN(xe[ke])||isNaN(xe[ke+1]))&&(Ee=Ee.concat(xe.slice(Ae,ke)),Ee.push(xe[Ae],xe[Ae+1]),Ee.push(null,null),Ae=ke+2);Ee=Ee.concat(xe.slice(Ae)),Ae&&Ee.push(xe[Ae],xe[Ae+1])}else{var Be=ce._nexttrace;if(Be){var Ne=o.lineOptions[K+1];if(Ne){var Xe=Ne.positions;if(ce.fill==="tonexty"){for(Ee=xe.slice(),K=Math.floor(Xe.length/2);K--;){var ut=Xe[K*2],dt=Xe[K*2+1];isNaN(ut)||isNaN(dt)||Ee.push(ut,dt)}Q.fill=Be.fillcolor}}}}if(ce._prevtrace&&ce._prevtrace.fill==="tonext"){var at=o.lineOptions[K-1].positions,We=Ee.length/2;Ae=We;var rt=[Ae];for(ke=0;ke<at.length;ke+=2)(isNaN(at[ke])||isNaN(at[ke+1]))&&(rt.push(ke/2+We+1),Ae=ke+2);Ee=Ee.concat(at),Q.hole=rt}return Q.fillmode=ce.fill,Q.opacity=ce.opacity,Q.positions=Ee,Q}}),o.fill2d.update(o.fillOptions))}var _=c.dragmode,B=v(_),F=c.clickmode.indexOf("select")>-1;for(A=0;A<E;A++){var O=S[A][0],N=O.trace,z=O.t,V=z.index,W=N._length,$=z.x,re=z.y;if(N.selectedpoints||B||F){if(B||(B=!0),N.selectedpoints){var ne=o.selectBatch[V]=M.selIndices2selPoints(N),ue={};for(C=0;C<ne.length;C++)ue[ne[C]]=1;var J=[];for(C=0;C<W;C++)ue[C]||J.push(C);o.unselectBatch[V]=J}var X=z.xpx=new Array(W),oe=z.ypx=new Array(W);for(C=0;C<W;C++)X[C]=d.c2p($[C]),oe[C]=w.c2p(re[C])}else z.xpx=z.ypx=null}if(B){if(o.select2d||(o.select2d=g(c._glcanvas.data()[1].regl)),o.scatter2d){var Y=new Array(E);for(A=0;A<E;A++)Y[A]=o.selectBatch[A].length||o.unselectBatch[A].length?o.markerUnselectedOptions[A]:{};o.scatter2d.update(Y)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&S.forEach(function(Q){var K=((Q||[])[0]||{}).trace||{};r.hasText(K)&&i(Q)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var q={viewport:u(c,d,w,y._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(w._rl||w.range)[0],(d._rl||d.range)[1],(w._rl||w.range)[1]]},se=M.repeat(q,o.count);o.fill2d&&o.fill2d.update(se),o.line2d&&o.line2d.update(se),o.error2d&&o.error2d.update(se.concat(se)),o.scatter2d&&o.scatter2d.update(se),o.select2d&&o.select2d.update(se),o.glText&&o.glText.forEach(function(Q){Q.update(q)})}}};f.reglPrecompiled=n},74588:function(j,H,e){var g=e(3400);j.exports=function(a,x){var M=x._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return x._scene||(M=x._scene={},M.init=function(){g.extendFlat(M,p,v)},M.init(),M.update=function(t){var i=g.repeat(t,M.count);if(M.fill2d&&M.fill2d.update(i),M.scatter2d&&M.scatter2d.update(i),M.line2d&&M.line2d.update(i),M.error2d&&M.error2d.update(i.concat(i)),M.select2d&&M.select2d.update(i),M.glText)for(var n=0;n<M.count;n++)M.glText[n].update(t)},M.draw=function(){for(var t=M.count,i=M.fill2d,n=M.error2d,u=M.line2d,f=M.scatter2d,l=M.glText,y=M.select2d,h=M.selectBatch,S=M.unselectBatch,c=0;c<t;c++){if(i&&M.fillOrder[c]&&i.draw(M.fillOrder[c]),u&&M.lineOptions[c]&&u.draw(c),n&&(M.errorXOptions[c]&&n.draw(c),M.errorYOptions[c]&&n.draw(c+t)),f&&M.markerOptions[c])if(S[c].length){var o=g.repeat([],M.count);o[c]=S[c],f.draw(o)}else h[c].length||f.draw(c);l[c]&&M.textOptions[c]&&l[c].render()}y&&y.draw(h),M.dirty=!1},M.destroy=function(){M.fill2d&&M.fill2d.destroy&&M.fill2d.destroy(),M.scatter2d&&M.scatter2d.destroy&&M.scatter2d.destroy(),M.error2d&&M.error2d.destroy&&M.error2d.destroy(),M.line2d&&M.line2d.destroy&&M.line2d.destroy(),M.select2d&&M.select2d.destroy&&M.select2d.destroy(),M.glText&&M.glText.forEach(function(t){t.destroy&&t.destroy()}),M.lineOptions=null,M.fillOptions=null,M.markerOptions=null,M.markerSelectedOptions=null,M.markerUnselectedOptions=null,M.errorXOptions=null,M.errorYOptions=null,M.textOptions=null,M.textSelectedOptions=null,M.textUnselectedOptions=null,M.selectBatch=null,M.unselectBatch=null,x._scene=null}),M.dirty||g.extendFlat(M,v),M}},73224:function(j,H,e){var g=e(43028),P=e(26768).styleTextSelection;j.exports=function(x,M){var v=x.cd,p=x.xaxis,r=x.yaxis,t=[],i=v[0].trace,n=v[0].t,u=i._length,f=n.x,l=n.y,y=n._scene,h=n.index;if(!y)return t;var S=g.hasText(i),c=g.hasMarkers(i),o=!c&&!S;if(i.visible!==!0||o)return t;var d=[],w=[];if(M!==!1&&!M.degenerate)for(var A=0;A<u;A++)M.contains([n.xpx[A],n.ypx[A]],!1,A,x)?(d.push(A),t.push({pointNumber:A,x:p.c2d(f[A]),y:r.c2d(l[A])})):w.push(A);if(c){var C=y.scatter2d;if(!d.length&&!w.length){var m=new Array(y.count);m[h]=y.markerOptions[h],C.update.apply(C,m)}else if(!y.selectBatch[h].length&&!y.unselectBatch[h].length){var E=new Array(y.count);E[h]=y.markerUnselectedOptions[h],C.update.apply(C,E)}}return y.selectBatch[h]=d,y.unselectBatch[h]=w,S&&P(v),t}},31512:function(j,H,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),x=e(6096),M=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,i=e(67824).overrideAll,n=e(5232),u=x.line,f=x.marker;j.exports=i({lon:x.lon,lat:x.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},f.opacity,{dflt:1})},mode:t({},M.mode,{dflt:"markers"}),text:t({},M.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},M.hovertext,{}),line:{color:u.color,width:u.width},connectgaps:M.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:f.opacity,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode},r("marker")),fill:x.fill,fillcolor:a(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:M.selected.marker},unselected:{marker:M.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},59392:function(j,H,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM,x=e(44808),M=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(89032),i=e(10624).appendArrayPointValue,n=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;j.exports=function(w,A){var C=A[0].trace,m=C.visible===!0&&C._length!==0,E=C.fill!=="none",b=r.hasLines(C),s=r.hasMarkers(C),L=r.hasText(C),T=s&&C.marker.symbol==="circle",k=s&&C.marker.symbol!=="circle",_=C.cluster&&C.cluster.enabled,B=f("fill"),F=f("line"),O=f("circle"),N=f("symbol"),z={fill:B,line:F,circle:O,symbol:N};if(!m)return z;var V;if((E||b)&&(V=x.calcTraceToLineCoords(A)),E&&(B.geojson=x.makePolygon(V),B.layout.visibility="visible",P.extendFlat(B.paint,{"fill-color":C.fillcolor})),b&&(F.geojson=x.makeLine(V),F.layout.visibility="visible",P.extendFlat(F.paint,{"line-width":C.line.width,"line-color":C.line.color,"line-opacity":C.opacity})),T){var W=l(A);O.geojson=W.geojson,O.layout.visibility="visible",_&&(O.filter=["!",["has","point_count"]],z.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(C.cluster.color,C.cluster.step),"circle-radius":o(C.cluster.size,C.cluster.step),"circle-opacity":o(C.cluster.opacity,C.cluster.step)}},z.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),P.extendFlat(O.paint,{"circle-color":W.mcc,"circle-radius":W.mrc,"circle-opacity":W.mo})}if(T&&_&&(O.filter=["!",["has","point_count"]]),(k||L)&&(N.geojson=y(A,w),P.extendFlat(N.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),k&&(P.extendFlat(N.layout,{"icon-size":C.marker.size/10}),"angle"in C.marker&&C.marker.angle!=="auto"&&P.extendFlat(N.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),N.layout["icon-allow-overlap"]=C.marker.allowoverlap,P.extendFlat(N.paint,{"icon-opacity":C.opacity*C.marker.opacity,"icon-color":C.marker.color})),L)){var $=(C.marker||{}).size,re=t(C.textposition,$);P.extendFlat(N.layout,{"text-size":C.textfont.size,"text-anchor":re.anchor,"text-offset":re.offset,"text-font":C.textfont.family.split(", ")}),P.extendFlat(N.paint,{"text-color":C.textfont.color,"text-opacity":C.opacity})}return z};function f(d){return{type:d,geojson:x.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(d){var w=d[0].trace,A=w.marker,C=w.selectedpoints,m=P.isArrayOrTypedArray(A.color),E=P.isArrayOrTypedArray(A.size),b=P.isArrayOrTypedArray(A.opacity),s;function L($){return w.opacity*$}function T($){return $/2}var k;m&&(M.hasColorscale(w,"marker")?k=M.makeColorScaleFuncFromTrace(A):k=P.identity);var _;E&&(_=p(w));var B;b&&(B=function($){var re=g($)?+P.constrain($,0,1):0;return L(re)});var F=[];for(s=0;s<d.length;s++){var O=d[s],N=O.lonlat;if(!c(N)){var z={};k&&(z.mcc=O.mcc=k(O.mc)),_&&(z.mrc=O.mrc=_(O.ms)),B&&(z.mo=B(O.mo)),C&&(z.selected=O.selected||0),F.push({type:"Feature",id:s+1,geometry:{type:"Point",coordinates:N},properties:z})}}var V;if(C)for(V=v.makeSelectedPointStyleFns(w),s=0;s<F.length;s++){var W=F[s].properties;V.selectedOpacityFn&&(W.mo=L(V.selectedOpacityFn(W))),V.selectedColorFn&&(W.mcc=V.selectedColorFn(W)),V.selectedSizeFn&&(W.mrc=V.selectedSizeFn(W))}return{geojson:{type:"FeatureCollection",features:F},mcc:m||V&&V.selectedColorFn?{type:"identity",property:"mcc"}:A.color,mrc:E||V&&V.selectedSizeFn?{type:"identity",property:"mrc"}:T(A.size),mo:b||V&&V.selectedOpacityFn?{type:"identity",property:"mo"}:L(A.opacity)}}function y(d,w){for(var A=w._fullLayout,C=d[0].trace,m=C.marker||{},E=m.symbol,b=m.angle,s=E!=="circle"?h(E):S,L=b!=="auto"?h(b,!0):S,T=r.hasText(C)?h(C.text):S,k=[],_=0;_<d.length;_++){var B=d[_];if(!c(B.lonlat)){var F=C.texttemplate,O;if(F){var N=Array.isArray(F)?F[_]||"":F,z=C._module.formatLabels(B,C,A),V={};i(V,C,B.i);var W=C._meta||{};O=P.texttemplateString(N,z,A._d3locale,V,B,W)}else O=T(_);O&&(O=O.replace(n,"").replace(u,`
`)),k.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:s(_),angle:L(_),text:O}})}}return{type:"FeatureCollection",features:k}}function h(d,w){return P.isArrayOrTypedArray(d)?w?function(A){return g(d[A])?+d[A]:0}:function(A){return d[A]}:d?function(){return d}:S}function S(){return""}function c(d){return d[0]===a}function o(d,w){var A;if(P.isArrayOrTypedArray(d)&&P.isArrayOrTypedArray(w)){A=["step",["get","point_count"],d[0]];for(var C=1;C<d.length;C++)A.push(w[C-1],d[C])}else A=d;return A}},15752:function(j,H,e){var g=e(3400),P=e(43028),a=e(74428),x=e(66828),M=e(124),v=e(70840),p=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];j.exports=function(n,u,f,l){function y(E,b){return g.coerce(n,u,p,E,b)}function h(E,b){return g.coerce2(n,u,p,E,b)}var S=t(n,u,y);if(!S){u.visible=!1;return}if(y("text"),y("texttemplate"),y("hovertext"),y("hovertemplate"),y("mode"),y("below"),P.hasMarkers(u)){a(n,u,f,l,y,{noLine:!0,noAngle:!0}),y("marker.allowoverlap"),y("marker.angle");var c=u.marker;c.symbol!=="circle"&&(g.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),g.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}P.hasLines(u)&&(x(n,u,f,l,y,{noDash:!0}),y("connectgaps"));var o=h("cluster.maxzoom"),d=h("cluster.step"),w=h("cluster.color",u.marker&&u.marker.color||f),A=h("cluster.size"),C=h("cluster.opacity"),m=o!==!1||d!==!1||w!==!1||A!==!1||C!==!1;y("cluster.enabled",m),P.hasText(u)&&M(n,u,l,y,{noSelect:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),y("fill"),u.fill!=="none"&&v(n,u,f,y),g.coerceSelectionMarkerOpacity(u,y)};function t(i,n,u){var f=u("lon")||[],l=u("lat")||[],y=Math.min(f.length,l.length);return n._length=y,y}},37920:function(j){j.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},11960:function(j,H,e){var g=e(54460);j.exports=function(a,x,M){var v={},p=M[x.subplot]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(j,H,e){var g=e(93024),P=e(3400),a=e(44928),x=P.fillText,M=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,i,n){var u=t.cd,f=u[0].trace,l=t.xa,y=t.ya,h=t.subplot,S=[],c=v+f.uid+"-circle",o=f.cluster&&f.cluster.enabled;if(o){var d=h.map.queryRenderedFeatures(null,{layers:[c]});S=d.map(function(F){return F.id})}var w=i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360),A=w*360,C=i-A;function m(F){var O=F.lonlat;if(O[0]===M||o&&S.indexOf(F.i+1)===-1)return 1/0;var N=P.modHalf(O[0],360),z=O[1],V=h.project([N,z]),W=V.x-l.c2p([C,z]),$=V.y-y.c2p([N,n]),re=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(W*W+$*$)-re,1-3/re)}if(g.getClosest(u,m,t),t.index!==!1){var E=u[t.index],b=E.lonlat,s=[P.modHalf(b[0],360)+A,b[1]],L=l.c2p(s),T=y.c2p(s),k=E.mrc||1;t.x0=L-k,t.x1=L+k,t.y0=T-k,t.y1=T+k;var _={};_[f.subplot]={_subplot:h};var B=f._module.formatLabels(E,f,_);return t.lonLabel=B.lonLabel,t.latLabel=B.latLabel,t.color=a(f,E),t.extraText=r(f,E,u[0].t.labels),t.hovertemplate=f.hovertemplate,[t]}}function r(t,i,n){if(t.hovertemplate)return;var u=i.hi||t.hoverinfo,f=u.split("+"),l=f.indexOf("all")!==-1,y=f.indexOf("lon")!==-1,h=f.indexOf("lat")!==-1,S=i.lonlat,c=[];function o(d){return d+"°"}return l||y&&h?c.push("("+o(S[1])+", "+o(S[0])+")"):y?c.push(n.lon+o(S[0])):h&&c.push(n.lat+o(S[1])),(l||f.indexOf("text")!==-1)&&x(i,t,c),c.join("<br>")}j.exports={hoverPoints:p,getExtraText:r}},11572:function(j,H,e){j.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(g,P){if(P){var a=P[0].trace;a._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(j,H,e){var g=e(3400),P=e(59392),a=e(47552).traceLayerPrefix,x={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(p,r,t,i){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=i,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:a+r+"-fill",line:a+r+"-line",circle:a+r+"-circle",symbol:a+r+"-symbol",cluster:a+r+"-cluster",clusterCount:a+r+"-cluster-count"},this.below=null}var v=M.prototype;v.addSource=function(p,r,t){var i={type:"geojson",data:r.geojson};t&&t.enabled&&g.extendFlat(i,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],i)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var i={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(i.filter=r.filter);for(var n=this.layerIds[p],u,f=this.subplot.getMapLayers(),l=0;l<f.length;l++)if(f[l].id===n){u=!0;break}u?(this.subplot.setOptions(n,"setLayoutProperty",i.layout),i.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",i.paint)):this.subplot.addLayer(i,t)},v.update=function(r){var t=r[0].trace,i=this.subplot,n=i.map,u=P(i.gd,r),f=i.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),y=!!this.clusterEnabled,h=this;function S(b){b||h.addSource("circle",u.circle,t.cluster);for(var s=x.cluster,L=0;L<s.length;L++){var T=s[L],k=u[T];h.addLayer(T,k,f)}}function c(b){for(var s=x.cluster,L=s.length-1;L>=0;L--){var T=s[L];n.removeLayer(h.layerIds[T])}b||n.removeSource(h.sourceIds.circle)}function o(b){for(var s=x.nonCluster,L=0;L<s.length;L++){var T=s[L],k=u[T];b||h.addSource(T,k),h.addLayer(T,k,f)}}function d(b){for(var s=x.nonCluster,L=s.length-1;L>=0;L--){var T=s[L];n.removeLayer(h.layerIds[T]),b||n.removeSource(h.sourceIds[T])}}function w(b){y?c(b):d(b)}function A(b){l?S(b):o(b)}function C(){for(var b=l?x.cluster:x.nonCluster,s=0;s<b.length;s++){var L=b[s],T=u[L];T&&(i.setOptions(h.layerIds[L],"setLayoutProperty",T.layout),T.layout.visibility==="visible"&&(L!=="cluster"&&h.setSourceData(L,T),i.setOptions(h.layerIds[L],"setPaintProperty",T.paint)))}}var m=this.isHidden,E=t.visible!==!0;E?m||w():m?E||A():y!==l?(w(),A()):(this.below!==f&&(w(!0),A(!0)),C()),this.clusterEnabled=l,this.isHidden=E,this.below=f,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?x.cluster:x.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},j.exports=function(r,t){var i=t[0].trace,n=i.cluster&&i.cluster.enabled,u=i.visible!==!0,f=new M(r,i.uid,n,u),l=P(r.gd,t),y=f.below=r.belowLookup["trace-"+i.uid],h,S,c;if(n)for(f.addSource("circle",l.circle,i.cluster),h=0;h<x.cluster.length;h++)S=x.cluster[h],c=l[S],f.addLayer(S,c,y);else for(h=0;h<x.nonCluster.length;h++)S=x.nonCluster[h],c=l[S],f.addSource(S,c,i.cluster),f.addLayer(S,c,y);return t[0].trace._glTrace=f,f}},404:function(j,H,e){var g=e(3400),P=e(43028),a=e(39032).BADNUM;j.exports=function(M,v){var p=M.cd,r=M.xaxis,t=M.yaxis,i=[],n=p[0].trace,u;if(!P.hasMarkers(n))return[];if(v===!1)for(u=0;u<p.length;u++)p[u].selected=0;else for(u=0;u<p.length;u++){var f=p[u],l=f.lonlat;if(l[0]!==a){var y=[g.modHalf(l[0],360),l[1]],h=[r.c2p(y),t.c2p(y)];v.contains(h,null,u,M)?(i.push({pointNumber:u,lon:l[0],lat:l[1]}),f.selected=1):f.selected=0}}return i}},8319:function(j,H,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(92880).extendFlat,x=e(98304),M=e(52904),v=e(45464),p=M.line;j.exports={mode:M.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:M.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:M.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:M.connectgaps,marker:M.marker,cliponaxis:a({},M.cliponaxis,{dflt:!1}),textposition:M.textposition,textfont:M.textfont,fill:a({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:x(),hoverinfo:a({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:M.hoveron,hovertemplate:g(),selected:M.selected,unselected:M.unselected}},58320:function(j,H,e){var g=e(38248),P=e(39032).BADNUM,a=e(54460),x=e(90136),M=e(20148),v=e(4500),p=e(16356).calcMarkerSize;j.exports=function(t,i){for(var n=t._fullLayout,u=i.subplot,f=n[u].radialaxis,l=n[u].angularaxis,y=f.makeCalcdata(i,"r"),h=l.makeCalcdata(i,"theta"),S=i._length,c=new Array(S),o=0;o<S;o++){var d=y[o],w=h[o],A=c[o]={};g(d)&&g(w)?(A.r=d,A.theta=w):A.r=P}var C=p(i,S);return i._extremes.x=a.findExtremes(f,y,{ppad:C}),x(t,i),M(c,i),v(c,i),c}},85968:function(j,H,e){var g=e(3400),P=e(43028),a=e(74428),x=e(66828),M=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function i(u,f,l,y){function h(o,d){return g.coerce(u,f,t,o,d)}var S=n(u,f,y,h);if(!S){f.visible=!1;return}h("thetaunit"),h("mode",S<r?"lines+markers":"lines"),h("text"),h("hovertext"),f.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(f)&&a(u,f,l,y,h,{gradient:!0}),P.hasLines(f)&&(x(u,f,l,y,h,{backoff:!0}),M(u,f,h),h("connectgaps")),P.hasText(f)&&(h("texttemplate"),v(u,f,y,h));var c=[];(P.hasMarkers(f)||P.hasText(f))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),f.fill!=="none"&&(p(u,f,l,h),P.hasLines(f)||M(u,f,h)),(f.fill==="tonext"||f.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,h)}function n(u,f,l,y){var h=y("r"),S=y("theta");g.isTypedArray(h)&&(f.r=h=Array.from(h)),g.isTypedArray(S)&&(f.theta=S=Array.from(S));var c;if(h)S?c=Math.min(h.length,S.length):(c=h.length,y("theta0"),y("dtheta"));else{if(!S)return 0;c=f.theta.length,y("r0"),y("dr")}return f._length=c,c}j.exports={handleRThetaDefaults:n,supplyDefaults:i}},22852:function(j,H,e){var g=e(3400),P=e(54460);j.exports=function(x,M,v){var p={},r=v[M.subplot]._subplot,t,i;r?(t=r.radialAxis,i=r.angularAxis):(r=v[M.subplot],t=r.radialaxis,i=r.angularaxis);var n=t.c2l(x.r);p.rLabel=P.tickText(t,n,!0).text;var u=i.thetaunit==="degrees"?g.rad2deg(x.theta):x.theta;return p.thetaLabel=P.tickText(i,u,!0).text,p}},8504:function(j,H,e){var g=e(98723);function P(x,M,v,p){var r=g(x,M,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=x.subplot,n=t.cd[t.index],u=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,u,i,t),t.hovertemplate=u.hovertemplate,r}}function a(x,M,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="θ";var i={};i[M.subplot]={_subplot:v};var n=M._module.formatLabels(x,M,i);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var u=x.hi||M.hoverinfo,f=[];function l(h,S){f.push(h._hovertitle+": "+S)}if(!M.hovertemplate){var y=u.split("+");y.indexOf("all")!==-1&&(y=["r","theta","text"]),y.indexOf("r")!==-1&&l(r,p.rLabel),y.indexOf("theta")!==-1&&l(t,p.thetaLabel),y.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}j.exports={hoverPoints:P,makeHoverPointText:a}},76924:function(j,H,e){j.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(j,H,e){var g=e(96504),P=e(39032).BADNUM;j.exports=function(x,M,v){for(var p=M.layers.frontplot.select("g.scatterlayer"),r=M.xaxis,t=M.yaxis,i={xaxis:r,yaxis:t,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},n=M.radialAxis,u=M.angularAxis,f=0;f<v.length;f++)for(var l=v[f],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[y],S=h.r;if(S===P)h.x=h.y=P;else{var c=n.c2g(S),o=u.c2g(h.theta);h.x=c*Math.cos(o),h.y=c*Math.sin(o)}}g(x,i,v,p)}},24396:function(j,H,e){var g=e(8319),P=e(2876),a=e(21776).Gw;j.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},27160:function(j,H,e){j.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(j,H,e){var g=e(90136),P=e(16356).calcMarkerSize,a=e(84236),x=e(54460),M=e(67072).TOO_MANY_POINTS;j.exports=function(p,r){var t=p._fullLayout,i=r.subplot,n=t[i].radialaxis,u=t[i].angularaxis,f=r._r=n.makeCalcdata(r,"r"),l=r._theta=u.makeCalcdata(r,"theta"),y=r._length,h={};y<f.length&&(f=f.slice(0,y)),y<l.length&&(l=l.slice(0,y)),h.r=f,h.theta=l,g(p,r);var S=h.opts=a.style(p,r),c;return y<M?c=P(r,y):S.marker&&(c=2*(S.marker.sizeAvg||Math.max(S.marker.size,3))),r._extremes.x=x.findExtremes(n,f,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(j,H,e){var g=e(3400),P=e(43028),a=e(85968).handleRThetaDefaults,x=e(74428),M=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);j.exports=function(n,u,f,l){function y(S,c){return g.coerce(n,u,t,S,c)}var h=a(n,u,l,y);if(!h){u.visible=!1;return}y("thetaunit"),y("mode",h<r?"lines+markers":"lines"),y("text"),y("hovertext"),u.hoveron!=="fills"&&y("hovertemplate"),P.hasMarkers(u)&&x(n,u,f,l,y,{noAngleRef:!0,noStandOff:!0}),P.hasLines(u)&&(M(n,u,f,l,y),y("connectgaps")),P.hasText(u)&&(y("texttemplate"),v(n,u,l,y)),y("fill"),u.fill!=="none"&&p(n,u,f,y),g.coerceSelectionMarkerOpacity(u,y)}},94120:function(j,H,e){var g=e(22852);j.exports=function(a,x,M){var v=a.i;return"r"in a||(a.r=x._r[v]),"theta"in a||(a.theta=x._theta[v]),g(a,x,M)}},1600:function(j,H,e){var g=e(41272),P=e(8504).makeHoverPointText;function a(x,M,v,p){var r=x.cd,t=r[0].t,i=t.r,n=t.theta,u=g.hoverPoints(x,M,v,p);if(!(!u||u[0].index===!1)){var f=u[0];if(f.index===void 0)return u;var l=x.subplot,y=f.cd[f.index],h=f.trace;if(y.r=i[f.index],y.theta=n[f.index],!!l.isPtInside(y))return f.xLabelVal=void 0,f.yLabelVal=void 0,P(y,h,l,f),u}}j.exports={hoverPoints:a}},62944:function(j,H,e){var g=e(27160);g.plot=e(56512),j.exports=g},56512:function(j,H,e){var g=e(3108),P=e(38248),a=e(89876),x=e(74588),M=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};j.exports=function(i,n,u){if(u.length){var f=n.radialAxis,l=n.angularAxis,y=x(i,n);return u.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var S=h[0],c=S.trace,o=S.t,d=c._length,w=o.r,A=o.theta,C=o.opts,m,E=w.slice(),b=A.slice();for(m=0;m<w.length;m++)n.isPtInside({r:w[m],theta:A[m]})||(E[m]=NaN,b[m]=NaN);var s=new Array(d*2),L=Array(d),T=Array(d);for(m=0;m<d;m++){var k=E[m],_,B;if(P(k)){var F=f.c2g(k),O=l.c2g(b[m],c.thetaunit);_=F*Math.cos(O),B=F*Math.sin(O)}else _=B=NaN;L[m]=s[m*2]=_,T[m]=s[m*2+1]=B}o.tree=g(s),C.marker&&d>=p&&(C.marker.cluster=o.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=s),C.line&&s.length>1&&v.extendFlat(C.line,M.linePositions(i,c,s)),C.text&&(v.extendFlat(C.text,{positions:s},M.textPosition(i,c,C.text,C.marker)),v.extendFlat(C.textSel,{positions:s},M.textPosition(i,c,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:s},M.textPosition(i,c,C.text,C.markerUnsel))),C.fill&&!y.fill2d&&(y.fill2d=!0),C.marker&&!y.scatter2d&&(y.scatter2d=!0),C.line&&!y.line2d&&(y.line2d=!0),C.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(C.line),y.fillOptions.push(C.fill),y.markerOptions.push(C.marker),y.markerSelectedOptions.push(C.markerSel),y.markerUnselectedOptions.push(C.markerUnsel),y.textOptions.push(C.text),y.textSelectedOptions.push(C.textSel),y.textUnselectedOptions.push(C.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),o.x=L,o.y=T,o.rawx=L,o.rawy=T,o.r=w,o.theta=A,o.positions=s,o._scene=y,o.index=y.count,y.count++}}),a(i,n,u)}},j.exports.reglPrecompiled=r},69496:function(j,H,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(92880).extendFlat,x=e(98304),M=e(52904),v=e(45464),p=M.line;j.exports={mode:M.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:M.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:M.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:M.connectgaps,marker:M.marker,cliponaxis:a({},M.cliponaxis,{dflt:!1}),textposition:M.textposition,textfont:M.textfont,fill:a({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:x(),hoverinfo:a({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:M.hoveron,hovertemplate:g(),selected:M.selected,unselected:M.unselected}},47507:function(j,H,e){var g=e(38248),P=e(39032).BADNUM,a=e(90136),x=e(20148),M=e(4500),v=e(16356).calcMarkerSize;j.exports=function(r,t){for(var i=r._fullLayout,n=t.subplot,u=i[n].realaxis,f=i[n].imaginaryaxis,l=u.makeCalcdata(t,"real"),y=f.makeCalcdata(t,"imag"),h=t._length,S=new Array(h),c=0;c<h;c++){var o=l[c],d=y[c],w=S[c]={};g(o)&&g(d)?(w.real=o,w.imag=d):w.real=P}return v(t,h),a(r,t),x(S,t),M(S,t),S}},76716:function(j,H,e){var g=e(3400),P=e(43028),a=e(74428),x=e(66828),M=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);j.exports=function(u,f,l,y){function h(o,d){return g.coerce(u,f,t,o,d)}var S=i(u,f,y,h);if(!S){f.visible=!1;return}h("mode",S<r?"lines+markers":"lines"),h("text"),h("hovertext"),f.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(f)&&a(u,f,l,y,h,{gradient:!0}),P.hasLines(f)&&(x(u,f,l,y,h,{backoff:!0}),M(u,f,h),h("connectgaps")),P.hasText(f)&&(h("texttemplate"),v(u,f,y,h));var c=[];(P.hasMarkers(f)||P.hasText(f))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),f.fill!=="none"&&(p(u,f,l,h),P.hasLines(f)||M(u,f,h)),(f.fill==="tonext"||f.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,h)};function i(n,u,f,l){var y=l("real"),h=l("imag"),S;return y&&h&&(S=Math.min(y.length,h.length)),g.isTypedArray(y)&&(u.real=y=Array.from(y)),g.isTypedArray(h)&&(u.imag=h=Array.from(h)),u._length=S,S}},49504:function(j,H,e){var g=e(54460);j.exports=function(a,x,M){var v={},p=M[x.subplot]._subplot;return v.realLabel=g.tickText(p.radialAxis,a.real,!0).text,v.imagLabel=g.tickText(p.angularAxis,a.imag,!0).text,v}},25292:function(j,H,e){var g=e(98723);function P(x,M,v,p){var r=g(x,M,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=x.subplot,n=t.cd[t.index],u=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,u,i,t),t.hovertemplate=u.hovertemplate,r}}function a(x,M,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var i={};i[M.subplot]={_subplot:v};var n=M._module.formatLabels(x,M,i);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var u=x.hi||M.hoverinfo,f=[];function l(h,S){f.push(h._hovertitle+": "+S)}if(!M.hovertemplate){var y=u.split("+");y.indexOf("all")!==-1&&(y=["real","imag","text"]),y.indexOf("real")!==-1&&l(r,p.realLabel),y.indexOf("imag")!==-1&&l(t,p.imagLabel),y.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}j.exports={hoverPoints:P,makeHoverPointText:a}},95443:function(j,H,e){j.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(j,H,e){var g=e(96504),P=e(39032).BADNUM,a=e(36416),x=a.smith;j.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),i=p.xaxis,n=p.yaxis,u={xaxis:i,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},f=0;f<r.length;f++)for(var l=r[f],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=i,l[0].trace._yA=n);var h=l[y],S=h.real;if(S===P)h.x=h.y=P;else{var c=x([S,h.imag]);h.x=c[0],h.y=c[1]}}g(v,u,r,t)}},5896:function(j,H,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),x=e(52904),M=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=x.marker,i=x.line,n=t.line;j.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},x.mode,{dflt:"markers"}),text:r({},x.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},x.hovertext,{}),line:{color:i.color,width:i.width,dash:p,backoff:i.backoff,shape:r({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:x.connectgaps,cliponaxis:x.cliponaxis,fill:r({},x.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:x.textfont,textposition:x.textposition,selected:x.selected,unselected:x.unselected,hoverinfo:r({},M.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:x.hoveron,hovertemplate:g()}},34335:function(j,H,e){var g=e(38248),P=e(90136),a=e(20148),x=e(4500),M=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};j.exports=function(t,i){var n=t._fullLayout[i.subplot],u=n.sum,f=i.sum||u,l={a:i.a,b:i.b,c:i.c},y,h,S,c,o,d;for(y=0;y<v.length;y++)if(S=v[y],!l[S]){for(o=l[p[S][0]],d=l[p[S][1]],c=new Array(o.length),h=0;h<o.length;h++)c[h]=f-o[h]-d[h];l[S]=c}var w=i._length,A=new Array(w),C,m,E,b,s,L;for(y=0;y<w;y++)C=l.a[y],m=l.b[y],E=l.c[y],g(C)&&g(m)&&g(E)?(C=+C,m=+m,E=+E,b=u/(C+m+E),b!==1&&(C*=b,m*=b,E*=b),L=C,s=E-m,A[y]={x:s,y:L,a:C,b:m,c:E}):A[y]={x:!1,y:!1};return M(i,w),P(t,i),a(A,i),x(A,i),A}},84256:function(j,H,e){var g=e(3400),P=e(88200),a=e(43028),x=e(74428),M=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);j.exports=function(n,u,f,l){function y(A,C){return g.coerce(n,u,t,A,C)}var h=y("a"),S=y("b"),c=y("c"),o;if(h?(o=h.length,S?(o=Math.min(o,S.length),c&&(o=Math.min(o,c.length))):c?o=Math.min(o,c.length):o=0):S&&c&&(o=Math.min(S.length,c.length)),!o){u.visible=!1;return}u._length=o,y("sum"),y("text"),y("hovertext"),u.hoveron!=="fills"&&y("hovertemplate");var d=o<P.PTS_LINESONLY?"lines+markers":"lines";y("mode",d),a.hasMarkers(u)&&x(n,u,f,l,y,{gradient:!0}),a.hasLines(u)&&(M(n,u,f,l,y,{backoff:!0}),v(n,u,y),y("connectgaps")),a.hasText(u)&&(y("texttemplate"),p(n,u,l,y));var w=[];(a.hasMarkers(u)||a.hasText(u))&&(y("cliponaxis"),y("marker.maxdisplayed"),w.push("points")),y("fill"),u.fill!=="none"&&(r(n,u,f,y),a.hasLines(u)||v(n,u,y)),(u.fill==="tonext"||u.fill==="toself")&&w.push("fills"),y("hoveron",w.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,y)}},97476:function(j){j.exports=function(e,g,P,a,x){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),a[x]){var M=a[x];e.a=M.a,e.b=M.b,e.c=M.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},90404:function(j,H,e){var g=e(54460);j.exports=function(a,x,M){var v={},p=M[x.subplot]._subplot;return v.aLabel=g.tickText(p.aaxis,a.a,!0).text,v.bLabel=g.tickText(p.baxis,a.b,!0).text,v.cLabel=g.tickText(p.caxis,a.c,!0).text,v}},26596:function(j,H,e){var g=e(98723);j.exports=function(a,x,M,v){var p=g(a,x,M,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/a.ya._length,i=a.xa._length,n=i*t/2,u=i-n;return r.x0=Math.max(Math.min(r.x0,u),n),r.x1=Math.max(Math.min(r.x1,u),n),p}var f=r.cd[r.index],l=r.trace,y=r.subplot;r.a=f.a,r.b=f.b,r.c=f.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:y};var S=l._module.formatLabels(f,l,h);r.aLabel=S.aLabel,r.bLabel=S.bLabel,r.cLabel=S.cLabel;var c=f.hi||l.hoverinfo,o=[];function d(A,C){o.push(A._hovertitle+": "+C)}if(!l.hovertemplate){var w=c.split("+");w.indexOf("all")!==-1&&(w=["a","b","c"]),w.indexOf("a")!==-1&&d(y.aaxis,r.aLabel),w.indexOf("b")!==-1&&d(y.baxis,r.bLabel),w.indexOf("c")!==-1&&d(y.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=l.hovertemplate,p}},34864:function(j,H,e){j.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(j,H,e){var g=e(96504);j.exports=function(a,x,M){var v=x.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=x.xaxis,r=x.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:x._hasClipOnAxisFalse?x.clipIdRelative:null},i=x.layers.frontplot.select("g.scatterlayer"),n=0;n<M.length;n++){var u=M[n];u.length&&(u[0].trace._xA=p,u[0].trace._yA=r)}g(a,t,M,i)}},44524:function(j,H,e){var g=e(52904),P=e(49084),a=e(29736).axisHoverFormat,x=e(21776).Ks,M=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=g.marker,i=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},i.width,{editType:"calc"}),editType:"calc"}),u=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});u.color.editType=u.cmin.editType=u.cmax.editType="style";function f(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}j.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},M.text,{}),hovertext:r({},M.hovertext,{}),hovertemplate:x(),xhoverformat:a("x"),yhoverformat:a("y"),marker:u,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},28888:function(j,H,e){var g=e(24040),P=e(12704);j.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},g.register(P)},99332:function(j,H,e){var g=e(13472),P=e(24040),a=e(5048),x=e(84888)._M,M=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function i(h){var S=h._fullLayout,c=P.getModule(r),o=x(h.calcdata,c)[0],d=a(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(S._hasOnlyLargeSploms&&f(h),c.plot(h,{},o))}function n(h){var S=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&f(h);for(var o=0;o<S.length;o++){var d=S[o][0],w=d.trace,A=c._splomScenes[w.uid];w.type==="splom"&&A&&A.matrix&&u(h,w,A)}}function u(h,S,c){for(var o=c.matrixOptions.data.length,d=S._visibleDims,w=c.viewOpts.ranges=new Array(o),A=0;A<d.length;A++){var C=d[A],m=w[A]=new Array(4),E=v(h,S._diag[C][0]);E&&(m[0]=E.r2l(E.range[0]),m[2]=E.r2l(E.range[1]));var b=v(h,S._diag[C][1]);b&&(m[1]=b.r2l(b.range[0]),m[3]=b.r2l(b.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:w},{ranges:w}):c.matrix.update({ranges:w})}function f(h){var S=h._fullLayout,c=S._glcanvas.data()[0].regl,o=S._splomGrid;o||(o=S._splomGrid=g(c)),o.update(l(h))}function l(h){var S=h._context.plotGlPixelRatio,c=h._fullLayout,o=c._size,d=[0,0,c.width*S,c.height*S],w={},A;function C(W,$,re,ne,ue,J){re*=S,ne*=S,ue*=S,J*=S;var X=$[W+"color"],oe=$[W+"width"],Y=String(X+oe);Y in w?w[Y].data.push(NaN,NaN,re,ne,ue,J):w[Y]={data:[re,ne,ue,J],join:"rect",thickness:oe*S,color:X,viewport:d,range:d,overlay:!1}}for(A in c._splomSubplots){var m=c._plots[A],E=m.xaxis,b=m.yaxis,s=E._gridVals,L=b._gridVals,T=E._offset,k=E._length,_=b._length,B=o.b+b.domain[0]*o.h,F=-b._m,O=-F*b.r2l(b.range[0],b.calendar),N,z;if(E.showgrid)for(A=0;A<s.length;A++)N=T+E.l2p(s[A].x),C("grid",E,N,B,N,B+_);if(b.showgrid)for(A=0;A<L.length;A++)z=B+O+F*L[A].x,C("grid",b,T,z,T+k,z);p(h,E,b)&&(N=T+E.l2p(0),C("zeroline",E,N,B,N,B+_)),p(h,b,E)&&(z=B+O+0,C("zeroline",b,T,z,T+k,z))}var V=[];for(A in w)V.push(w[A]);return V}function y(h,S,c,o){var d={},w;if(o._splomScenes){for(w=0;w<h.length;w++){var A=h[w];A.type==="splom"&&(d[A.uid]=1)}for(w=0;w<c.length;w++){var C=c[w];if(!d[C.uid]){var m=o._splomScenes[C.uid];m&&m.destroy&&m.destroy(),o._splomScenes[C.uid]=null,delete o._splomScenes[C.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!S._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),M.clean(h,S,c,o)}j.exports={name:r,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:i,drag:n,updateGrid:f,clean:y,updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:t}},66821:function(j,H,e){var g=e(3400),P=e(79811),a=e(16356).calcMarkerSize,x=e(16356).calcAxisExpansion,M=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,i=e(67072).TOO_MANY_POINTS;j.exports=function(u,f){var l=f.dimensions,y=f._length,h={},S=h.cdata=[],c=h.data=[],o=f._visibleDims=[],d,w,A,C,m;function E(k,_){for(var B=k.makeCalcdata({v:_.values,vcalendar:f.calendar},"v"),F=0;F<B.length;F++)B[F]=B[F]===t?NaN:B[F];S.push(B),c.push(k.type==="log"?g.simpleMap(B,k.c2l):B)}for(d=0;d<l.length;d++)if(A=l[d],A.visible){if(C=P.getFromId(u,f._diag[d][0]),m=P.getFromId(u,f._diag[d][1]),C&&m&&C.type!==m.type){g.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(E(C,A),m&&m.type==="category"&&(m._categories=C._categories.slice())):E(m,A),o.push(d)}M(u,f),g.extendFlat(h,p(u,f));var b=S.length,s=b*y>i,L;for(s?L=h.sizeAvg||Math.max(h.size,3):L=a(f,y),w=0;w<o.length;w++)d=o[w],A=l[d],C=P.getFromId(u,f._diag[d][0])||{},m=P.getFromId(u,f._diag[d][1])||{},x(u,f,C,m,S[w],S[w],L);var T=r(u,f);return T.matrix||(T.matrix=!0),T.matrixOptions=h,T.selectedOptions=v(u,f,f.selected),T.unselectedOptions=v(u,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},69544:function(j,H,e){var g=e(3400),P=e(51272),a=e(44524),x=e(43028),M=e(74428),v=e(26284),p=e(80088).isOpenSymbol;j.exports=function(n,u,f,l){function y(C,m){return g.coerce(n,u,a,C,m)}var h=P(n,u,{name:"dimensions",handleItemDefaults:r}),S=y("diagonal.visible"),c=y("showupperhalf"),o=y("showlowerhalf"),d=v(u,h,"values");if(!d||!S&&!c&&!o){u.visible=!1;return}y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),M(n,u,f,l,y,{noAngleRef:!0,noStandOff:!0});var w=p(u.marker.symbol),A=x.isBubble(u);y("marker.line.width",w||A?1:0),t(n,u,l,y),g.coerceSelectionMarkerOpacity(u,y)};function r(i,n){function u(l,y){return g.coerce(i,n,a.dimensions,l,y)}u("label");var f=u("values");f&&f.length?u("visible"):n.visible=!1,u("axis.type"),u("axis.matches")}function t(i,n,u,f){var l=n.dimensions,y=l.length,h=n.showupperhalf,S=n.showlowerhalf,c=n.diagonal.visible,o,d,w=new Array(y),A=new Array(y);for(o=0;o<y;o++){var C=o?o+1:"";w[o]="x"+C,A[o]="y"+C}var m=f("xaxes",w),E=f("yaxes",A),b=n._diag=new Array(y);n._xaxes={},n._yaxes={};var s=[],L=[];function T(W,$,re,ne){if(W){var ue=W.charAt(0),J=u._splomAxes[ue];if(n["_"+ue+"axes"][W]=1,ne.push(W),!(W in J)){var X=J[W]={};re&&(X.label=re.label||"",re.visible&&re.axis&&(re.axis.type&&(X.type=re.axis.type),re.axis.matches&&(X.matches=$)))}}}var k=!c&&!S,_=!c&&!h;for(n._axesDim={},o=0;o<y;o++){var B=l[o],F=o===0,O=o===y-1,N=F&&k||O&&_?void 0:m[o],z=F&&_||O&&k?void 0:E[o];T(N,z,B,s),T(z,N,B,L),b[o]=[N,z],n._axesDim[N]=o,n._axesDim[z]=o}for(o=0;o<s.length;o++)for(d=0;d<L.length;d++){var V=s[o]+L[d];(o>d&&h||o<d&&S||o===d&&(c||!S||!h))&&(u._splomSubplots[V]=1)}(!S||!c&&h&&S)&&(u._splomGridDflt.xside="bottom",u._splomGridDflt.yside="left")}},83156:function(j,H,e){var g=e(3400),P=e(90136),a=e(84236).markerStyle;j.exports=function(M,v){var p=v.trace,r=M._fullLayout._splomScenes[p.uid];if(r){P(M,p),g.extendFlat(r.matrixOptions,a(M,p));var t=g.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(j,H){H.getDimIndex=function(g,P){for(var a=P._id,x=a.charAt(0),M={x:0,y:1}[x],v=g._visibleDims,p=0;p<v.length;p++){var r=v[p];if(g._diag[r][M]===a)return p}return!1}},72248:function(j,H,e){var g=e(50328),P=e(41272).calcHover;function a(x,M,v){var p=x.cd,r=p[0].trace,t=x.scene,i=t.matrixOptions.cdata,n=x.xa,u=x.ya,f=n.c2p(M),l=u.c2p(v),y=x.distance,h=g.getDimIndex(r,n),S=g.getDimIndex(r,u);if(h===!1||S===!1)return[x];for(var c=i[h],o=i[S],d,w,A=y,C=0;C<c.length;C++){var m=c[C],E=o[C],b=n.c2p(m)-f,s=u.c2p(E)-l,L=Math.sqrt(b*b+s*s);L<A&&(A=w=L,d=C)}return x.index=d,x.distance=A,x.dxy=w,d===void 0?[x]:[P(x,c,o,r)]}j.exports={hoverPoints:a}},97924:function(j,H,e){var g=e(28888);g.basePlotModule=e(99332),j.exports=g},54840:function(j,H,e){var g=e(55795),P=e(3400),a=e(79811),x=e(72760).selectMode;j.exports=function(p,r,t){if(t.length)for(var i=0;i<t.length;i++)M(p,t[i][0])};function M(v,p){var r=v._fullLayout,t=r._size,i=p.trace,n=p.t,u=r._splomScenes[i.uid],f=u.matrixOptions,l=f.cdata,y=r._glcanvas.data()[0].regl,h=r.dragmode,S,c,o,d,w;if(l.length!==0){f.lower=i.showupperhalf,f.upper=i.showlowerhalf,f.diagonal=i.diagonal.visible;var A=i._visibleDims,C=l.length,m=u.viewOpts={};for(m.ranges=new Array(C),m.domains=new Array(C),w=0;w<A.length;w++){o=A[w];var E=m.ranges[w]=new Array(4),b=m.domains[w]=new Array(4);S=a.getFromId(v,i._diag[o][0]),S&&(E[0]=S._rl[0],E[2]=S._rl[1],b[0]=S.domain[0],b[2]=S.domain[1]),c=a.getFromId(v,i._diag[o][1]),c&&(E[1]=c._rl[0],E[3]=c._rl[1],b[1]=c.domain[0],b[3]=c.domain[1])}var s=v._context.plotGlPixelRatio,L=t.l*s,T=t.b*s,k=t.w*s,_=t.h*s;m.viewport=[L,T,k+L,_+T],u.matrix===!0&&(u.matrix=g(y));var B=r.clickmode.indexOf("select")>-1,F=x(h)||!!i.selectedpoints||B,O=!0;if(F){var N=i._length;if(i.selectedpoints){u.selectBatch=i.selectedpoints;var z=i.selectedpoints,V={};for(o=0;o<z.length;o++)V[z[o]]=!0;var W=[];for(o=0;o<N;o++)V[o]||W.push(o);u.unselectBatch=W}var $=n.xpx=new Array(C),re=n.ypx=new Array(C);for(w=0;w<A.length;w++){if(o=A[w],S=a.getFromId(v,i._diag[o][0]),S)for($[w]=new Array(N),d=0;d<N;d++)$[w][d]=S.c2p(l[w][d]);if(c=a.getFromId(v,i._diag[o][1]),c)for(re[w]=new Array(N),d=0;d<N;d++)re[w][d]=c.c2p(l[w][d])}if(u.selectBatch.length||u.unselectBatch.length){var ne=P.extendFlat({},f,u.unselectedOptions,m),ue=P.extendFlat({},f,u.selectedOptions,m);u.matrix.update(ne,ue),O=!1}}else n.xpx=n.ypx=null;if(O){var J=P.extendFlat({},f,m);u.matrix.update(J,null)}}}},72308:function(j,H,e){var g=e(3400);j.exports=function(a,x){var M=a._fullLayout,v=x.uid,p=M._splomScenes;p||(p=M._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},i=p[x.uid];return i||(i=p[v]=g.extendFlat({},r,t),i.draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||g.extendFlat(i,r),i}},62500:function(j,H,e){var g=e(3400),P=g.pushUnique,a=e(43028),x=e(50328);j.exports=function(v,p){var r=v.cd,t=r[0].trace,i=r[0].t,n=v.scene,u=n.matrixOptions.cdata,f=v.xaxis,l=v.yaxis,y=[];if(!n)return y;var h=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||h)return y;var S=x.getDimIndex(t,f),c=x.getDimIndex(t,l);if(S===!1||c===!1)return y;var o=i.xpx[S],d=i.ypx[c],w=u[S],A=u[c],C=(v.scene.selectBatch||[]).slice(),m=[];if(p!==!1&&!p.degenerate)for(var E=0;E<w.length;E++)p.contains([o[E],d[E]],null,E,v)?(y.push({pointNumber:E,x:w[E],y:A[E]}),P(C,E)):C.indexOf(E)!==-1?P(C,E):m.push(E);var b=n.matrixOptions;return!C.length&&!m.length?n.matrix.update(b,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},b,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=m,y}},90167:function(j,H,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,x=e(52948),M=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=x[t]}),p.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,j.exports=p},3832:function(j,H,e){var g=e(3400),P=e(47128);function a(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=x(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var i=0,n,u,f;r.starts&&(n=v(r.starts.x||[]),u=v(r.starts.y||[]),f=v(r.starts.z||[]),i=Math.min(n.length,u.length,f.length)),r._startsX=n||[],r._startsY=u||[],r._startsZ=f||[];var l=0,y=1/0,h;for(h=0;h<r._len;h++){var S=r._u[h],c=r._v[h],o=r._w[h],d=Math.sqrt(S*S+c*c+o*o);l=Math.max(l,d),y=Math.min(y,d)}for(P(p,r,{vals:[y,l],containerStr:"",cLetter:"c"}),h=0;h<i;h++){var w=n[h];t.xMax=Math.max(t.xMax,w),t.xMin=Math.min(t.xMin,w);var A=u[h];t.yMax=Math.max(t.yMax,A),t.yMin=Math.min(t.yMin,A);var C=f[h];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=i,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function x(p){var r=p._x,t=p._y,i=p._z,n=p._len,u,f,l,y=-1/0,h=1/0,S=-1/0,c=1/0,o=-1/0,d=1/0,w="",A,C,m,E,b,s,L,T,k;for(n&&(E=r[0],s=t[0],T=i[0]),n>1&&(b=r[n-1],L=t[n-1],k=i[n-1]),u=0;u<n;u++)y=Math.max(y,r[u]),h=Math.min(h,r[u]),S=Math.max(S,t[u]),c=Math.min(c,t[u]),o=Math.max(o,i[u]),d=Math.min(d,i[u]),!A&&r[u]!==E&&(A=!0,w+="x"),!C&&t[u]!==s&&(C=!0,w+="y"),!m&&i[u]!==T&&(m=!0,w+="z");A||(w+="x"),C||(w+="y"),m||(w+="z");var _=M(p._x),B=M(p._y),F=M(p._z);w=w.replace("x",(E>b?"-":"+")+"x"),w=w.replace("y",(s>L?"-":"+")+"y"),w=w.replace("z",(T>k?"-":"+")+"z");var O=function(){n=0,_=[],B=[],F=[]};(!n||n<_.length*B.length*F.length)&&O();var N=function(ce){return ce==="x"?r:ce==="y"?t:i},z=function(ce){return ce==="x"?_:ce==="y"?B:F},V=function(ce){return ce[n-1]<ce[0]?-1:1},W=N(w[1]),$=N(w[3]),re=N(w[5]),ne=z(w[1]).length,ue=z(w[3]).length,J=z(w[5]).length,X=!1,oe=function(ce,ye,Ce){return ne*(ue*ce+ye)+Ce},Y=V(N(w[1])),q=V(N(w[3])),se=V(N(w[5]));for(u=0;u<J-1;u++){for(f=0;f<ue-1;f++){for(l=0;l<ne-1;l++){var Q=oe(u,f,l),K=oe(u,f,l+1),le=oe(u,f+1,l),ie=oe(u+1,f,l);if((!(W[Q]*Y<W[K]*Y)||!($[Q]*q<$[le]*q)||!(re[Q]*se<re[ie]*se))&&(X=!0),X)break}if(X)break}if(X)break}return X&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:h,yMin:c,zMin:d,xMax:y,yMax:S,zMax:o,Xs:_,Ys:B,Zs:F,len:n,fill:w}}function M(p){return g.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),g.isTypedArray(p))return p.subarray(0,r);for(var t=[],i=0;i<r;i++)t[i]=+p[i];return t}j.exports={calc:a,filter:v,processGrid:x}},25668:function(j,H,e){var g=e(67792).gl_streamtube3d,P=g.createTubeMesh,a=e(3400),x=e(33040).parseColorScale,M=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(l,y){this.scene=l,this.uid=y,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var y=this.scene.fullSceneLayout,h=this.scene.dataScale;function S(d,w){var A=y[w],C=h[p[w]];return A.l2c(d)/C}if(l.object===this.mesh){var c=l.data.position,o=l.data.velocity;return l.traceCoordinate=[S(c[0],"xaxis"),S(c[1],"yaxis"),S(c[2],"zaxis"),S(o[0],"xaxis"),S(o[1],"yaxis"),S(o[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function i(l){var y=l.length,h;return y>2?h=l.slice(1,y-1):y===2?h=[(l[0]+l[1])/2]:h=l,h}function n(l){var y=l.length;return y===1?[.5,.5]:[l[1]-l[0],l[y-1]-l[y-2]]}function u(l,y){var h=l.fullSceneLayout,S=l.dataScale,c=y._len,o={};function d(ue,J){var X=h[J],oe=S[p[J]];return a.simpleMap(ue,function(Y){return X.d2l(Y)*oe})}if(o.vectors=v(d(y._u,"xaxis"),d(y._v,"yaxis"),d(y._w,"zaxis"),c),!c)return{positions:[],cells:[]};var w=d(y._Xs,"xaxis"),A=d(y._Ys,"yaxis"),C=d(y._Zs,"zaxis");o.meshgrid=[w,A,C],o.gridFill=y._gridFill;var m=y._slen;if(m)o.startingPositions=v(d(y._startsX,"xaxis"),d(y._startsY,"yaxis"),d(y._startsZ,"zaxis"));else{for(var E=A[0],b=i(w),s=i(C),L=new Array(b.length*s.length),T=0,k=0;k<b.length;k++)for(var _=0;_<s.length;_++)L[T++]=[b[k],E,s[_]];o.startingPositions=L}o.colormap=x(y),o.tubeSize=y.sizeref,o.maxLength=y.maxdisplayed;var B=d(y._xbnds,"xaxis"),F=d(y._ybnds,"yaxis"),O=d(y._zbnds,"zaxis"),N=n(w),z=n(A),V=n(C),W=[[B[0]-N[0],F[0]-z[0],O[0]-V[0]],[B[1]+N[1],F[1]+z[1],O[1]+V[1]]],$=g(o,W),re=M(y);$.vertexIntensityBounds=[re.min/y._normMax,re.max/y._normMax];var ne=y.lightposition;return $.lightPosition=[ne.x,ne.y,ne.z],$.ambient=y.lighting.ambient,$.diffuse=y.lighting.diffuse,$.specular=y.lighting.specular,$.roughness=y.lighting.roughness,$.fresnel=y.lighting.fresnel,$.opacity=y.opacity,y._pad=$.tubeScale*y.sizeref*2,$}t.update=function(l){this.data=l;var y=u(this.scene,l);this.mesh.update(y)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(l,y){var h=l.glplot.gl,S=u(l,y),c=P(h,S),o=new r(l,y.uid);return o.mesh=c,o.data=y,c._trace=o,l.glplot.add(c),o}j.exports=f},54304:function(j,H,e){var g=e(3400),P=e(27260),a=e(90167);j.exports=function(M,v,p,r){function t(h,S){return g.coerce(M,v,a,h,S)}var i=t("u"),n=t("v"),u=t("w"),f=t("x"),l=t("y"),y=t("z");if(!i||!i.length||!n||!n.length||!u||!u.length||!f||!f.length||!l||!l.length||!y||!y.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(M,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(j,H,e){j.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(g,P){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=P.traceCoordinate[3],g.tubev=P.traceCoordinate[4],g.tubew=P.traceCoordinate[5],g.norm=P.traceCoordinate[6],g.divergence=P.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},424:function(j,H,e){var g=e(45464),P=e(21776).Ks,a=e(21776).Gw,x=e(49084),M=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;j.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},x("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(j,H,e){var g=e(7316);H.name="sunburst",H.plot=function(P,a,x,M){g.plotBasePlot(H.name,P,a,x,M)},H.clean=function(P,a,x,M){g.cleanBasePlot(H.name,P,a,x,M)}},3776:function(j,H,e){var g=e(74148),P=e(38248),a=e(3400),x=e(8932).makeColorScaleFuncFromTrace,M=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},i={},n={};H.calc=function(f,l){var y=f._fullLayout,h=l.ids,S=a.isArrayOrTypedArray(h),c=l.labels,o=l.parents,d=l.values,w=a.isArrayOrTypedArray(d),A=[],C={},m={},E=function(Y,q){C[Y]?C[Y].push(q):C[Y]=[q],m[q]=1},b=function(Y){return Y||typeof Y=="number"},s=function(Y){return!w||P(d[Y])&&d[Y]>=0},L,T,k;S?(L=Math.min(h.length,o.length),T=function(Y){return b(h[Y])&&s(Y)},k=function(Y){return String(h[Y])}):(L=Math.min(c.length,o.length),T=function(Y){return b(c[Y])&&s(Y)},k=function(Y){return String(c[Y])}),w&&(L=Math.min(L,d.length));for(var _=0;_<L;_++)if(T(_)){var B=k(_),F=b(o[_])?String(o[_]):"",O={i:_,id:B,pid:F,label:b(c[_])?String(c[_]):""};w&&(O.v=+d[_]),A.push(O),E(F,B)}if(C[""]){if(C[""].length>1){for(var V=a.randstr(),W=0;W<A.length;W++)A[W].pid===""&&(A[W].pid=V);A.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var N=[],z;for(z in C)m[z]||N.push(z);if(N.length===1)z=N[0],A.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return a.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",N.join(", ")].join(" "))}var $;try{$=g.stratify().id(function(Y){return Y.id}).parentId(function(Y){return Y.pid})(A)}catch(Y){return a.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",Y.message].join(" "))}var re=g.hierarchy($),ne=!1;if(w)switch(l.branchvalues){case"remainder":re.sum(function(Y){return Y.data.v});break;case"total":re.each(function(Y){var q=Y.data.data,se=q.v;if(Y.children){var Q=Y.children.reduce(function(K,le){return K+le.data.data.v},0);if((q.hasImpliedRoot||q.hasMultipleRoots)&&(se=Q),se<Q*r)return ne=!0,a.warn(["Total value for node",Y.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,Q].join(" "))}Y.value=se});break}else u(re,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ne){l.sort&&re.sort(function(Y,q){return q.value-Y.value});var ue,J,X=l.marker.colors||[],oe=!!X.length;return l._hasColorscale?(oe||(X=w?l.values:l._values),p(f,l,{vals:X,containerStr:"marker",cLetter:"c"}),J=x(l.marker)):ue=M(y["_"+l.type+"colormap"]),re.each(function(Y){var q=Y.data.data;q.color=l._hasColorscale?J(X[q.i]):ue(X[q.i],q.id)}),A[0].hierarchy=re,A}},H._runCrossTraceCalc=function(f,l){var y=l._fullLayout,h=l.calcdata,S=y[f+"colorway"],c=y["_"+f+"colormap"];y["extend"+f+"colors"]&&(S=v(S,f==="icicle"?n:f==="treemap"?i:t));var o=0,d;function w(E){var b=E.data.data,s=b.id;b.color===!1&&(c[s]?b.color=c[s]:E.parent?E.parent.parent?b.color=E.parent.data.data.color:(c[s]=b.color=S[o%S.length],o++):b.color=d)}for(var A=0;A<h.length;A++){var C=h[A],m=C[0];m.trace.type===f&&m.hierarchy&&(d=m.trace.root.color,m.hierarchy.each(w))}},H.crossTraceCalc=function(f){return H._runCrossTraceCalc("sunburst",f)};function u(f,l,y){var h=0,S=f.children;if(S){for(var c=S.length,o=0;o<c;o++)h+=u(S[o],l,y);y.branches&&h++}else y.leaves&&h++;return f.value=f.data.data.value=h,l._values||(l._values=[]),l._values[f.data.data.i]=h,h}},27328:function(j){j.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(j,H,e){var g=e(3400),P=e(424),a=e(86968).Q,x=e(31508).handleText,M=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;j.exports=function(i,n,u,f){function l(w,A){return g.coerce(i,n,P,w,A)}var y=l("labels"),h=l("parents");if(!y||!y.length||!h||!h.length){n.visible=!1;return}var S=l("values");S&&S.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),M(i,n,f,l);var c=n._hasColorscale=p(i,"marker","colors")||(i.marker||{}).coloraxis;c&&r(i,n,f,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var o=l("text");l("texttemplate"),n.texttemplate||l("textinfo",g.isArrayOrTypedArray(o)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";x(i,n,f,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(n,f,l),n._length=null}},60404:function(j,H,e){var g=e(43616),P=e(76308);j.exports=function(x,M,v,p,r){var t=M.data.data,i=t.i,n=r||t.color;if(i>=0){M.i=t.i;var u=v.marker;u.pattern?(!u.colors||!u.pattern.shape)&&(u.color=n,M.color=n):(u.color=n,M.color=n),g.pointStyle(x,v,p,M)}else P.fill(x,n)}},45716:function(j,H,e){var g=e(33428),P=e(24040),a=e(10624).appendArrayPointValue,x=e(93024),M=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;j.exports=function(u,f,l,y,h){var S=y[0],c=S.trace,o=S.hierarchy,d=c.type==="sunburst",w=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var A=function(E){var b=l._fullLayout;if(!(l._dragging||b.hovermode===!1)){var s=l._fullData[c.index],L=E.data.data,T=L.i,k=p.isHierarchyRoot(E),_=p.getParent(o,E),B=p.getValue(E),F=function(K){return M.castOption(s,T,K)},O=F("hovertemplate"),N=x.castHoverinfo(s,b,T),z=b.separators,V;if(O||N&&N!=="none"&&N!=="skip"){var W,$;d&&(W=S.cx+E.pxmid[0]*(1-E.rInscribed),$=S.cy+E.pxmid[1]*(1-E.rInscribed)),w&&(W=E._hoverX,$=E._hoverY);var re={},ne=[],ue=[],J=function(K){return ne.indexOf(K)!==-1};N&&(ne=N==="all"?s._module.attributes.hoverinfo.flags:N.split("+")),re.label=L.label,J("label")&&re.label&&ue.push(re.label),L.hasOwnProperty("v")&&(re.value=L.v,re.valueLabel=t(re.value,z),J("value")&&ue.push(re.valueLabel)),re.currentPath=E.currentPath=p.getPath(E.data),J("current path")&&!k&&ue.push(re.currentPath);var X,oe=[],Y=function(){oe.indexOf(X)===-1&&(ue.push(X),oe.push(X))};re.percentParent=E.percentParent=B/p.getValue(_),re.parent=E.parentString=p.getPtLabel(_),J("percent parent")&&(X=p.formatPercent(re.percentParent,z)+" of "+re.parent,Y()),re.percentEntry=E.percentEntry=B/p.getValue(f),re.entry=E.entry=p.getPtLabel(f),J("percent entry")&&!k&&!E.onPathbar&&(X=p.formatPercent(re.percentEntry,z)+" of "+re.entry,Y()),re.percentRoot=E.percentRoot=B/p.getValue(o),re.root=E.root=p.getPtLabel(o),J("percent root")&&!k&&(X=p.formatPercent(re.percentRoot,z)+" of "+re.root,Y()),re.text=F("hovertext")||F("text"),J("text")&&(X=re.text,M.isValidTextValue(X)&&ue.push(X)),V=[i(E,s,h.eventDataKeys)];var q={trace:s,y:$,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:ue.join("<br>"),name:O||J("name")?s.name:void 0,color:F("hoverlabel.bgcolor")||L.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:re,eventData:V};d&&(q.x0=W-E.rInscribed*E.rpx1,q.x1=W+E.rInscribed*E.rpx1,q.idealAlign=E.pxmid[0]<0?"left":"right"),w&&(q.x=W,q.idealAlign=W<0?"left":"right");var se=[];x.loneHover(q,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:l,inOut_bbox:se}),V[0].bbox=se[0],c._hasHoverLabel=!0}if(w){var Q=u.select("path.surface");h.styleOne(Q,E,s,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:V||[i(E,s,h.eventDataKeys)],event:g.event})}},C=function(E){var b=l._fullLayout,s=l._fullData[c.index],L=g.select(this).datum();if(c._hasHoverEvent&&(E.originalEvent=g.event,l.emit("plotly_unhover",{points:[i(L,s,h.eventDataKeys)],event:g.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(x.loneUnhover(b._hoverlayer.node()),c._hasHoverLabel=!1),w){var T=u.select("path.surface");h.styleOne(T,L,s,l,{hovered:!1})}},m=function(E){var b=l._fullLayout,s=l._fullData[c.index],L=d&&(p.isHierarchyRoot(E)||p.isLeaf(E)),T=p.getPtId(E),k=p.isEntry(E)?p.findEntryWithChild(o,T):p.findEntryWithLevel(o,T),_=p.getPtId(k),B={points:[i(E,s,h.eventDataKeys)],event:g.event};L||(B.nextLevel=_);var F=v.triggerHandler(l,"plotly_"+c.type+"click",B);if(F!==!1&&b.hovermode&&(l._hoverdata=[i(E,s,h.eventDataKeys)],x.click(l,g.event)),!L&&F!==!1&&!l._dragging&&!l._transitioning){P.call("_storeDirectGUIEdit",s,b._tracePreGUI[s.uid],{level:s.level});var O={data:[{level:_}],traces:[c.index]},N={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};x.loneUnhover(b._hoverlayer.node()),P.call("animate",l,O,N)}};u.on("mouseover",A),u.on("mouseout",C),u.on("click",m)};function i(n,u,f){for(var l=n.data.data,y={curveNumber:u.index,pointNumber:l.i,data:u._input,fullData:u},h=0;h<f.length;h++){var S=f[h];S in n&&(y[S]=n[S])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(y.parent=n.parentString),a(y,u,l.i),y}},78176:function(j,H,e){var g=e(3400),P=e(76308),a=e(93972),x=e(69656);H.findEntryWithLevel=function(r,t){var i;return t&&r.eachAfter(function(n){if(H.getPtId(n)===t)return i=n.copy()}),i||r},H.findEntryWithChild=function(r,t){var i;return r.eachAfter(function(n){for(var u=n.children||[],f=0;f<u.length;f++){var l=u[f];if(H.getPtId(l)===t)return i=n.copy()}}),i||r},H.isEntry=function(r){return!r.parent},H.isLeaf=function(r){return!r.children},H.getPtId=function(r){return r.data.data.id},H.getPtLabel=function(r){return r.data.data.label},H.getValue=function(r){return r.value},H.isHierarchyRoot=function(r){return p(r)===""},H.setSliceCursor=function(r,t,i){var n=i.isTransitioning;if(!n){var u=r.datum();n=i.hideOnRoot&&H.isHierarchyRoot(u)||i.hideOnLeaves&&H.isLeaf(u)}a(r,n?null:"pointer")};function M(r,t,i){return{color:H.getOutsideTextFontKey("color",r,t,i),family:H.getOutsideTextFontKey("family",r,t,i),size:H.getOutsideTextFontKey("size",r,t,i)}}function v(r,t,i,n){var u=(n||{}).onPathbar,f=t.data.data,l=f.i,y=g.castOption(r,l,(u?"pathbar.textfont":"insidetextfont")+".color");return!y&&r._input.textfont&&(y=g.castOption(r._input,l,"textfont.color")),{color:y||P.contrast(f.color),family:H.getInsideTextFontKey("family",r,t,i,n),size:H.getInsideTextFontKey("size",r,t,i,n)}}H.getInsideTextFontKey=function(r,t,i,n,u){var f=(u||{}).onPathbar,l=f?"pathbar.textfont":"insidetextfont",y=i.data.data.i;return g.castOption(t,y,l+"."+r)||g.castOption(t,y,"textfont."+r)||n.size},H.getOutsideTextFontKey=function(r,t,i,n){var u=i.data.data.i;return g.castOption(t,u,"outsidetextfont."+r)||g.castOption(t,u,"textfont."+r)||n.size},H.isOutsideText=function(r,t){return!r._hasColorscale&&H.isHierarchyRoot(t)},H.determineTextFont=function(r,t,i,n){return H.isOutsideText(r,t)?M(r,t,i):v(r,t,i,n)},H.hasTransition=function(r){return!!(r&&r.duration>0)},H.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},H.isHeader=function(r,t){return!(H.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}H.getParent=function(r,t){return H.findEntryWithLevel(r,p(t))},H.listPath=function(r,t){var i=r.parent;if(!i)return[];var n=t?[i.data[t]]:[i];return H.listPath(i,t).concat(n)},H.getPath=function(r){return H.listPath(r,"label").join("/")+"/"},H.formatValue=x.formatPieValue,H.formatPercent=function(r,t){var i=g.formatPercent(r,0);return i==="0%"&&(i=x.formatPiePercent(r,t)),i}},5621:function(j,H,e){j.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(j){j.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(j,H,e){var g=e(3400),P=e(84920);j.exports=function(x,M){function v(p,r){return g.coerce(x,M,P,p,r)}v("sunburstcolorway",M.colorway),v("extendsunburstcolors")}},96488:function(j,H,e){var g=e(33428),P=e(74148),a=e(67756).qy,x=e(43616),M=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,i=e(37820),n=e(69656).getRotationAngle,u=i.computeTransform,f=i.transformInsideText,l=e(85676).styleOne,y=e(60100).resizeText,h=e(45716),S=e(27328),c=e(78176);H.plot=function(m,E,b,s){var L=m._fullLayout,T=L._sunburstlayer,k,_,B=!b,F=!L.uniformtext.mode&&c.hasTransition(b);if(t("sunburst",L),k=T.selectAll("g.trace.sunburst").data(E,function(N){return N[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),F){s&&(_=s());var O=g.transition().duration(b.duration).ease(b.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});O.each(function(){T.selectAll("g.trace").each(function(N){o(m,N,this,b)})})}else k.each(function(N){o(m,N,this,b)}),L.uniformtext.mode&&y(m,L._sunburstlayer.selectAll(".trace"),"sunburst");B&&k.exit().remove()};function o(m,E,b,s){var L=m._context.staticPlot,T=m._fullLayout,k=!T.uniformtext.mode&&c.hasTransition(s),_=g.select(b),B=_.selectAll("g.slice"),F=E[0],O=F.trace,N=F.hierarchy,z=c.findEntryWithLevel(N,O.level),V=c.getMaxDepth(O),W=T._size,$=O.domain,re=W.w*($.x[1]-$.x[0]),ne=W.h*($.y[1]-$.y[0]),ue=.5*Math.min(re,ne),J=F.cx=W.l+W.w*($.x[1]+$.x[0])/2,X=F.cy=W.t+W.h*(1-$.y[0])-ne/2;if(!z)return B.remove();var oe=null,Y={};k&&B.each(function(Xe){Y[c.getPtId(Xe)]={rpx0:Xe.rpx0,rpx1:Xe.rpx1,x0:Xe.x0,x1:Xe.x1,transform:Xe.transform},!oe&&c.isEntry(Xe)&&(oe=Xe)});var q=d(z).descendants(),se=z.height+1,Q=0,K=V;F.hasMultipleRoots&&c.isHierarchyRoot(z)&&(q=q.slice(1),se-=1,Q=1,K+=1),q=q.filter(function(Xe){return Xe.y1<=K});var le=n(O.rotation);le&&q.forEach(function(Xe){Xe.x0+=le,Xe.x1+=le});var ie=Math.min(se,V),ce=function(Xe){return(Xe-Q)/ie*ue},ye=function(Xe,ut){return[Xe*Math.cos(ut),-Xe*Math.sin(ut)]},Ce=function(Xe){return M.pathAnnulus(Xe.rpx0,Xe.rpx1,Xe.x0,Xe.x1,J,X)},Ae=function(Xe){return J+A(Xe)[0]*(Xe.transform.rCenter||0)+(Xe.transform.x||0)},ke=function(Xe){return X+A(Xe)[1]*(Xe.transform.rCenter||0)+(Xe.transform.y||0)};B=B.data(q,c.getPtId),B.enter().append("g").classed("slice",!0),k?B.exit().transition().each(function(){var Xe=g.select(this),ut=Xe.select("path.surface");ut.transition().attrTween("d",function(at){var We=Pe(at);return function(rt){return Ce(We(rt))}});var dt=Xe.select("g.slicetext");dt.attr("opacity",0)}).remove():B.exit().remove(),B.order();var we=null;if(k&&oe){var Ee=c.getPtId(oe);B.each(function(Xe){we===null&&c.getPtId(Xe)===Ee&&(we=Xe.x1)})}var xe=B;k&&(xe=xe.transition().each("end",function(){var Xe=g.select(this);c.setSliceCursor(Xe,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(Xe){var ut=g.select(this),dt=M.ensureSingle(ut,"path","surface",function(vt){vt.style("pointer-events",L?"none":"all")});Xe.rpx0=ce(Xe.y0),Xe.rpx1=ce(Xe.y1),Xe.xmid=(Xe.x0+Xe.x1)/2,Xe.pxmid=ye(Xe.rpx1,Xe.xmid),Xe.midangle=-(Xe.xmid-Math.PI/2),Xe.startangle=-(Xe.x0-Math.PI/2),Xe.stopangle=-(Xe.x1-Math.PI/2),Xe.halfangle=.5*Math.min(M.angleDelta(Xe.x0,Xe.x1)||Math.PI,Math.PI),Xe.ring=1-Xe.rpx0/Xe.rpx1,Xe.rInscribed=w(Xe),k?dt.transition().attrTween("d",function(vt){var At=Ue(vt);return function(et){return Ce(At(et))}}):dt.attr("d",Ce),ut.call(h,z,m,E,{eventDataKeys:S.eventDataKeys,transitionTime:S.CLICK_TRANSITION_TIME,transitionEasing:S.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),dt.call(l,Xe,O,m);var at=M.ensureSingle(ut,"g","slicetext"),We=M.ensureSingle(at,"text","",function(vt){vt.attr("data-notex",1)}),rt=M.ensureUniformFontSize(m,c.determineTextFont(O,Xe,T.font));We.text(H.formatSliceLabel(Xe,z,O,E,T)).classed("slicetext",!0).attr("text-anchor","middle").call(x.font,rt).call(v.convertToTspans,m);var st=x.bBox(We.node());Xe.transform=f(st,Xe,F),Xe.transform.targetX=Ae(Xe),Xe.transform.targetY=ke(Xe);var ht=function(vt,At){var et=vt.transform;return u(et,At),et.fontSize=rt.size,r(O.type,et,T),M.getTextTransform(et)};k?We.transition().attrTween("transform",function(vt){var At=Be(vt);return function(et){return ht(At(et),st)}}):We.attr("transform",ht(Xe,st))});function Pe(Xe){var ut=c.getPtId(Xe),dt=Y[ut],at=Y[c.getPtId(z)],We;if(at){var rt=(Xe.x1>at.x1?2*Math.PI:0)+le;We=Xe.rpx1<at.rpx1?{x0:Xe.x0,x1:Xe.x1,rpx0:0,rpx1:0}:{x0:rt,x1:rt,rpx0:Xe.rpx0,rpx1:Xe.rpx1}}else{var st,ht=c.getPtId(Xe.parent);B.each(function(Ve){if(c.getPtId(Ve)===ht)return st=Ve});var vt=st.children,At;vt.forEach(function(Ve,Ze){if(c.getPtId(Ve)===ut)return At=Ze});var et=vt.length,_e=a(st.x0,st.x1);We={rpx0:ue,rpx1:ue,x0:_e(At/et),x1:_e((At+1)/et)}}return a(dt,We)}function Ue(Xe){var ut=Y[c.getPtId(Xe)],dt,at={x0:Xe.x0,x1:Xe.x1,rpx0:Xe.rpx0,rpx1:Xe.rpx1};if(ut)dt=ut;else if(oe)if(Xe.parent)if(we){var We=(Xe.x1>we?2*Math.PI:0)+le;dt={x0:We,x1:We}}else dt={rpx0:ue,rpx1:ue},M.extendFlat(dt,Ne(Xe));else dt={rpx0:0,rpx1:0};else dt={x0:le,x1:le};return a(dt,at)}function Be(Xe){var ut=Y[c.getPtId(Xe)],dt,at=Xe.transform;if(ut)dt=ut;else if(dt={rpx1:Xe.rpx1,transform:{textPosAngle:at.textPosAngle,scale:0,rotate:at.rotate,rCenter:at.rCenter,x:at.x,y:at.y}},oe)if(Xe.parent)if(we){var We=Xe.x1>we?2*Math.PI:0;dt.x0=dt.x1=We}else M.extendFlat(dt,Ne(Xe));else dt.x0=dt.x1=le;else dt.x0=dt.x1=le;var rt=a(dt.transform.textPosAngle,Xe.transform.textPosAngle),st=a(dt.rpx1,Xe.rpx1),ht=a(dt.x0,Xe.x0),vt=a(dt.x1,Xe.x1),At=a(dt.transform.scale,at.scale),et=a(dt.transform.rotate,at.rotate),_e=at.rCenter===0?3:dt.transform.rCenter===0?1/3:1,Ve=a(dt.transform.rCenter,at.rCenter),Ze=function(He){return Ve(Math.pow(He,_e))};return function(He){var Ie=st(He),be=ht(He),me=vt(He),Me=Ze(He),Te=ye(Ie,(be+me)/2),Oe=rt(He),Ke={pxmid:Te,rpx1:Ie,transform:{textPosAngle:Oe,rCenter:Me,x:at.x,y:at.y}};return r(O.type,at,T),{transform:{targetX:Ae(Ke),targetY:ke(Ke),scale:At(He),rotate:et(He),rCenter:Me}}}}function Ne(Xe){var ut=Xe.parent,dt=Y[c.getPtId(ut)],at={};if(dt){var We=ut.children,rt=We.indexOf(Xe),st=We.length,ht=a(dt.x0,dt.x1);at.x0=ht(rt/st),at.x1=ht(rt/st)}else at.x0=at.x1=0;return at}}function d(m){return P.partition().size([2*Math.PI,m.height+1])(m)}H.formatSliceLabel=function(m,E,b,s,L){var T=b.texttemplate,k=b.textinfo;if(!T&&(!k||k==="none"))return"";var _=L.separators,B=s[0],F=m.data.data,O=B.hierarchy,N=c.isHierarchyRoot(m),z=c.getParent(O,m),V=c.getValue(m);if(!T){var W=k.split("+"),$=function(Q){return W.indexOf(Q)!==-1},re=[],ne;if($("label")&&F.label&&re.push(F.label),F.hasOwnProperty("v")&&$("value")&&re.push(c.formatValue(F.v,_)),!N){$("current path")&&re.push(c.getPath(m.data));var ue=0;$("percent parent")&&ue++,$("percent entry")&&ue++,$("percent root")&&ue++;var J=ue>1;if(ue){var X,oe=function(Q){ne=c.formatPercent(X,_),J&&(ne+=" of "+Q),re.push(ne)};$("percent parent")&&!N&&(X=V/c.getValue(z),oe("parent")),$("percent entry")&&(X=V/c.getValue(E),oe("entry")),$("percent root")&&(X=V/c.getValue(O),oe("root"))}}return $("text")&&(ne=M.castOption(b,F.i,"text"),M.isValidTextValue(ne)&&re.push(ne)),re.join("<br>")}var Y=M.castOption(b,F.i,"texttemplate");if(!Y)return"";var q={};F.label&&(q.label=F.label),F.hasOwnProperty("v")&&(q.value=F.v,q.valueLabel=c.formatValue(F.v,_)),q.currentPath=c.getPath(m.data),N||(q.percentParent=V/c.getValue(z),q.percentParentLabel=c.formatPercent(q.percentParent,_),q.parent=c.getPtLabel(z)),q.percentEntry=V/c.getValue(E),q.percentEntryLabel=c.formatPercent(q.percentEntry,_),q.entry=c.getPtLabel(E),q.percentRoot=V/c.getValue(O),q.percentRootLabel=c.formatPercent(q.percentRoot,_),q.root=c.getPtLabel(O),F.hasOwnProperty("color")&&(q.color=F.color);var se=M.castOption(b,F.i,"text");return(M.isValidTextValue(se)||se==="")&&(q.text=se),q.customdata=M.castOption(b,F.i,"customdata"),M.texttemplateString(Y,q,L._d3locale,q,b._meta||{})};function w(m){return m.rpx0===0&&M.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function A(m){return C(m.rpx1,m.transform.textPosAngle)}function C(m,E){return[m*Math.sin(E),-m*Math.cos(E)]}},85676:function(j,H,e){var g=e(33428),P=e(76308),a=e(3400),x=e(82744).resizeText,M=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");x(r,t,"sunburst"),t.each(function(i){var n=g.select(this),u=i[0],f=u.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(p,l,f,r)})})}function p(r,t,i,n){var u=t.data.data,f=!t.children,l=u.i,y=a.castOption(i,l,"marker.line.color")||P.defaultLine,h=a.castOption(i,l,"marker.line.width")||0;r.call(M,t,i,n).style("stroke-width",h).call(P.stroke,y).style("opacity",f?i.leaf.opacity:null)}j.exports={style:v,styleOne:p}},16716:function(j,H,e){var g=e(76308),P=e(49084),a=e(29736).axisHoverFormat,x=e(21776).Ks,M=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=j.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:x(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},M.hoverinfo),showlegend:v({},M.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(j,H,e){var g=e(47128);j.exports=function(a,x){x.surfacecolor?g(a,x,{vals:x.surfacecolor,containerStr:"",cLetter:"c"}):g(a,x,{vals:x.z,containerStr:"",cLetter:"c"})}},79164:function(j,H,e){var g=e(67792).gl_surface3d,P=e(67792).ndarray,a=e(67792).ndarray_linear_interpolate.d2,x=e(70448),M=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function i(s,L,T){this.scene=s,this.uid=T,this.surface=L,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=i.prototype;n.getXat=function(s,L,T,k){var _=v(this.data.x)?v(this.data.x[0])?this.data.x[L][s]:this.data.x[s]:s;return T===void 0?_:k.d2l(_,0,T)},n.getYat=function(s,L,T,k){var _=v(this.data.y)?v(this.data.y[0])?this.data.y[L][s]:this.data.y[L]:L;return T===void 0?_:k.d2l(_,0,T)},n.getZat=function(s,L,T,k){var _=this.data.z[L][s];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[L][s]),T===void 0?_:k.d2l(_,0,T)},n.handlePick=function(s){if(s.object===this.surface){var L=(s.data.index[0]-1)/this.dataScaleX-1,T=(s.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(L),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(T),this.data._ylength-1),0);s.index=[k,_],s.traceCoordinate=[this.getXat(k,_),this.getYat(k,_),this.getZat(k,_)],s.dataCoordinate=[this.getXat(k,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var B=0;B<3;B++){var F=s.dataCoordinate[B];F!=null&&(s.dataCoordinate[B]*=this.scene.dataScale[B])}var O=this.data.hovertext||this.data.text;return v(O)&&O[_]&&O[_][k]!==void 0?s.textLabel=O[_][k]:O?s.textLabel=O:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function u(s){var L=s[0].rgb,T=s[s.length-1].rgb;return L[0]===T[0]&&L[1]===T[1]&&L[2]===T[2]&&L[3]===T[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(s,L){if(s<L)return 0;for(var T=0;Math.floor(s%L)===0;)s/=L,T++;return T}function y(s){for(var L=[],T=0;T<f.length;T++){var k=f[T];L.push(l(s,k))}return L}function h(s){for(var L=y(s),T=s,k=0;k<f.length;k++)if(L[k]>0){T=f[k];break}return T}function S(s,L){if(!(s<1||L<1)){for(var T=y(s),k=y(L),_=1,B=0;B<f.length;B++)_*=Math.pow(f[B],Math.max(T[B],k[B]));return _}}function c(s){if(s.length!==0){for(var L=1,T=0;T<s.length;T++)L=S(L,s[T]);return L}}n.calcXnums=function(s){var L,T=[];for(L=1;L<s;L++){var k=this.getXat(L-1,0),_=this.getXat(L,0);_!==k&&k!==void 0&&k!==null&&_!==void 0&&_!==null?T[L-1]=Math.abs(_-k):T[L-1]=0}var B=0;for(L=1;L<s;L++)B+=T[L-1];for(L=1;L<s;L++)T[L-1]===0?T[L-1]=1:T[L-1]=Math.round(B/T[L-1]);return T},n.calcYnums=function(s){var L,T=[];for(L=1;L<s;L++){var k=this.getYat(0,L-1),_=this.getYat(0,L);_!==k&&k!==void 0&&k!==null&&_!==void 0&&_!==null?T[L-1]=Math.abs(_-k):T[L-1]=0}var B=0;for(L=1;L<s;L++)B+=T[L-1];for(L=1;L<s;L++)T[L-1]===0?T[L-1]=1:T[L-1]=Math.round(B/T[L-1]);return T};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=o[9],w=o[13];n.estimateScale=function(s,L){for(var T=L===0?this.calcXnums(s):this.calcYnums(s),k=1+c(T);k<d;)k*=2;for(;k>w;)k--,k/=h(k),k++,k<d&&(k=w);var _=Math.round(k/s);return _>1?_:1};function A(s,L,T){var k=T[8]+T[2]*L[0]+T[5]*L[1];return s[0]=(T[6]+T[0]*L[0]+T[3]*L[1])/k,s[1]=(T[7]+T[1]*L[0]+T[4]*L[1])/k,s}function C(s,L,T){return m(s,L,A,T),s}function m(s,L,T,k){for(var _=[0,0],B=s.shape[0],F=s.shape[1],O=0;O<B;O++)for(var N=0;N<F;N++)T(_,[O,N],k),s.set(O,N,a(L,_[0],_[1]));return s}n.refineCoords=function(s){for(var L=this.dataScaleX,T=this.dataScaleY,k=s[0].shape[0],_=s[0].shape[1],B=Math.floor(s[0].shape[0]*L+1)|0,F=Math.floor(s[0].shape[1]*T+1)|0,O=1+k+1,N=1+_+1,z=P(new Float32Array(O*N),[O,N]),V=[1/L,0,0,0,1/T,0,0,0,1],W=0;W<s.length;++W){this.surface.padField(z,s[W]);var $=P(new Float32Array(B*F),[B,F]);C($,z,V),s[W]=$}};function E(s,L){for(var T=!1,k=0;k<s.length;k++)if(L===s[k]){T=!0;break}T===!1&&s.push(L)}n.setContourLevels=function(){var s=[[],[],[]],L=[!1,!1,!1],T=!1,k,_,B;for(k=0;k<3;++k)if(this.showContour[k]&&(T=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(L[k]=!0,_=this.contourStart[k];_<this.contourEnd[k];_+=this.contourSize[k])B=_*this.scene.dataScale[k],E(s[k],B);if(T){var F=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(F[k]=L[k]?s[k]:this.scene.contourLevels[k]);this.surface.update({levels:F})}},n.update=function(s){var L=this.scene,T=L.fullSceneLayout,k=this.surface,_=p(s),B=L.dataScale,F=s.z[0].length,O=s._ylength,N=L.contourLevels;this.data=s;var z,V,W,$,re=[];for(z=0;z<3;z++)for(re[z]=[],V=0;V<F;V++)re[z][V]=[];for(V=0;V<F;V++)for(W=0;W<O;W++)re[0][V][W]=this.getXat(V,W,s.xcalendar,T.xaxis),re[1][V][W]=this.getYat(V,W,s.ycalendar,T.yaxis),re[2][V][W]=this.getZat(V,W,s.zcalendar,T.zaxis);if(s.connectgaps)for(s._emptypoints=M(re[2]),x(re[2],s._emptypoints),s._interpolatedZ=[],V=0;V<F;V++)for(s._interpolatedZ[V]=[],W=0;W<O;W++)s._interpolatedZ[V][W]=re[2][V][W];for(z=0;z<3;z++)for(V=0;V<F;V++)for(W=0;W<O;W++)$=re[z][V][W],$==null?re[z][V][W]=NaN:$=re[z][V][W]*=B[z];for(z=0;z<3;z++)for(V=0;V<F;V++)for(W=0;W<O;W++)$=re[z][V][W],$!=null&&(this.minValues[z]>$&&(this.minValues[z]=$),this.maxValues[z]<$&&(this.maxValues[z]=$));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(V=0;V<F;V++)for(W=0;W<O;W++)$=re[z][V][W],$!=null&&(re[z][V][W]-=this.objectOffset[z]);var ne=[P(new Float32Array(F*O),[F,O]),P(new Float32Array(F*O),[F,O]),P(new Float32Array(F*O),[F,O])];for(z=0;z<3;z++)for(V=0;V<F;V++)for(W=0;W<O;W++)ne[z].set(V,W,re[z][V][W]);re=[];var ue={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},J=t(s);if(ue.intensityBounds=[J.min,J.max],s.surfacecolor){var X=P(new Float32Array(F*O),[F,O]);for(V=0;V<F;V++)for(W=0;W<O;W++)X.set(V,W,s.surfacecolor[W][V]);ne.push(X)}else ue.intensityBounds[0]*=B[2],ue.intensityBounds[1]*=B[2];(w<ne[0].shape[0]||w<ne[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ne[0].shape[0],0),this.dataScaleY=this.estimateScale(ne[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ne)),s.surfacecolor&&(ue.intensity=ne.pop());var oe=[!0,!0,!0],Y=["x","y","z"];for(z=0;z<3;++z){var q=s.contours[Y[z]];oe[z]=q.highlight,ue.showContour[z]=q.show||q.highlight,ue.showContour[z]&&(ue.contourProject[z]=[q.project.x,q.project.y,q.project.z],q.show?(this.showContour[z]=!0,ue.levels[z]=N[z],k.highlightColor[z]=ue.contourColor[z]=r(q.color),q.usecolormap?k.highlightTint[z]=ue.contourTint[z]=0:k.highlightTint[z]=ue.contourTint[z]=1,ue.contourWidth[z]=q.width,this.contourStart[z]=q.start,this.contourEnd[z]=q.end,this.contourSize[z]=q.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),q.highlight&&(ue.dynamicColor[z]=r(q.highlightcolor),ue.dynamicWidth[z]=q.highlightwidth))}u(_)&&(ue.vertexColor=!0),ue.objectOffset=this.objectOffset,ue.coords=ne,k.update(ue),k.visible=s.visible,k.enableDynamic=oe,k.enableHighlight=oe,k.snapToData=!0,"lighting"in s&&(k.ambientLight=s.lighting.ambient,k.diffuseLight=s.lighting.diffuse,k.specularLight=s.lighting.specular,k.roughness=s.lighting.roughness,k.fresnel=s.lighting.fresnel),"lightposition"in s&&(k.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function b(s,L){var T=s.glplot.gl,k=g({gl:T}),_=new i(s,k,L.uid);return k._trace=_,_.update(L),s.glplot.add(k),_}j.exports=b},60192:function(j,H,e){var g=e(24040),P=e(3400),a=e(27260),x=e(16716),M=.1;function v(n,u){for(var f=[],l=32,y=0;y<l;y++){var h=y/(l-1),S=u+(1-u)*(1-Math.pow(Math.sin(n*h*Math.PI),2));f.push([h,Math.max(0,Math.min(1,S))])}return f}function p(n){var u=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var f=0;f<n.length;f++){var l=n[f];if(l.length!==2||+l[0]<u)return!1;u=+l[0]}return!0}function r(n,u,f,l){var y,h;function S(s,L){return P.coerce(n,u,x,s,L)}var c=S("x"),o=S("y"),d=S("z");if(!d||!d.length||c&&c.length<1||o&&o.length<1){u.visible=!1;return}u._xlength=Array.isArray(c)&&P.isArrayOrTypedArray(c[0])?d.length:d[0].length,u._ylength=d.length;var w=g.getComponentMethod("calendars","handleTraceDefaults");w(n,u,["x","y","z"],l),S("text"),S("hovertext"),S("hovertemplate"),S("xhoverformat"),S("yhoverformat"),S("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){S(s)});var A=S("surfacecolor"),C=["x","y","z"];for(y=0;y<3;++y){var m="contours."+C[y],E=S(m+".show"),b=S(m+".highlight");if(E||b)for(h=0;h<3;++h)S(m+".project."+C[h]);E&&(S(m+".color"),S(m+".width"),S(m+".usecolormap")),b&&(S(m+".highlightcolor"),S(m+".highlightwidth")),S(m+".start"),S(m+".end"),S(m+".size")}A||(i(n,"zmin","cmin"),i(n,"zmax","cmax"),i(n,"zauto","cauto")),a(n,u,l,S,{prefix:"",cLetter:"c"}),t(n,u,l,S),u._length=null}function t(n,u,f,l){var y=l("opacityscale");y==="max"?u.opacityscale=[[0,M],[1,1]]:y==="min"?u.opacityscale=[[0,1],[1,M]]:y==="extremes"?u.opacityscale=v(1,M):p(y)||(u.opacityscale=void 0)}function i(n,u,f){u in n&&!(f in n)&&(n[f]=n[u])}j.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(j,H,e){j.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(j,H,e){var g=e(13916),P=e(92880).extendFlat,a=e(67824).overrideAll,x=e(25376),M=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=j.exports=a({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},x({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},x({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(j,H,e){var g=e(84888)._M,P=e(24752),a="table";H.name=a,H.plot=function(x){var M=g(x.calcdata,a)[0];M.length&&P(x,M)},H.clean=function(x,M,v,p){var r=p._has&&p._has(a),t=M._has&&M._has(a);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(j,H,e){var g=e(71688).wrap;j.exports=function(){return g({})}},23536:function(j){j.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(j,H,e){var g=e(23536),P=e(92880).extendFlat,a=e(38248),x=e(38116).isTypedArray,M=e(38116).isArrayOrTypedArray;j.exports=function(y,h){var S=r(h.cells.values),c=function($){return $.slice(h.header.values.length,$.length)},o=r(h.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var d=o.concat(c(S).map(function(){return t((o[0]||[""]).length)})),w=h.domain,A=Math.floor(y._fullLayout._size.w*(w.x[1]-w.x[0])),C=Math.floor(y._fullLayout._size.h*(w.y[1]-w.y[0])),m=h.header.values.length?d[0].map(function(){return h.header.height}):[g.emptyHeaderHeight],E=S.length?S[0].map(function(){return h.cells.height}):[],b=m.reduce(p,0),s=C-b,L=s+g.uplift,T=u(E,L),k=u(m,b),_=n(k,[]),B=n(T,_),F={},O=h._fullInput.columnorder;M(O)&&(O=Array.from(O)),O=O.concat(c(S.map(function($,re){return re})));var N=d.map(function($,re){var ne=M(h.columnwidth)?h.columnwidth[Math.min(re,h.columnwidth.length-1)]:h.columnwidth;return a(ne)?Number(ne):1}),z=N.reduce(p,0);N=N.map(function($){return $/z*A});var V=Math.max(v(h.header.line.width),v(h.cells.line.width)),W={key:h.uid+y._context.staticPlot,translateX:w.x[0]*y._fullLayout._size.w,translateY:y._fullLayout._size.h*(1-w.y[1]),size:y._fullLayout._size,width:A,maxLineWidth:V,height:C,columnOrder:O,groupHeight:C,rowBlocks:B,headerRowBlocks:_,scrollY:0,cells:P({},h.cells,{values:S}),headerCells:P({},h.header,{values:d}),gdColumns:d.map(function($){return $[0]}),gdColumnsOriginalOrder:d.map(function($){return $[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function($,re){var ne=F[$];F[$]=(ne||0)+1;var ue=$+"__"+F[$];return{key:ue,label:$,specIndex:re,xIndex:O[re],xScale:i,x:void 0,calcdata:void 0,columnWidth:N[re]}})};return W.columns.forEach(function($){$.calcdata=W,$.x=i($)}),W};function v(l){if(M(l)){for(var y=0,h=0;h<l.length;h++)y=Math.max(y,v(l[h]));return y}return l}function p(l,y){return l+y}function r(l){var y=l.slice(),h=1/0,S=0,c;for(c=0;c<y.length;c++)x(y[c])?y[c]=Array.from(y[c]):M(y[c])||(y[c]=[y[c]]),h=Math.min(h,y[c].length),S=Math.max(S,y[c].length);if(h!==S)for(c=0;c<y.length;c++){var o=S-y[c].length;o&&(y[c]=y[c].concat(t(o)))}return y}function t(l){for(var y=new Array(l),h=0;h<l;h++)y[h]="";return y}function i(l){return l.calcdata.columns.reduce(function(y,h){return h.xIndex<l.xIndex?y+h.columnWidth:y},0)}function n(l,y){var h=Object.keys(l);return h.map(function(S){return P({},l[S],{auxiliaryBlocks:y})})}function u(l,y){for(var h={},S,c=0,o=0,d=f(),w=0,A=0,C=0;C<l.length;C++)S=l[C],d.rows.push({rowIndex:C,rowHeight:S}),o+=S,(o>=y||C===l.length-1)&&(h[c]=d,d.key=A++,d.firstRowIndex=w,d.lastRowIndex=C,d=f(),c+=o,w=C+1,o=0);return h}function f(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(j,H,e){var g=e(92880).extendFlat;H.splitToPanels=function(a){var x=[0,0],M=g({},a,{key:"header",type:"header",page:0,prevPages:x,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:g({},a.calcdata,{cells:a.calcdata.headerCells})}),v=g({},a,{key:"cells1",type:"cells",page:0,prevPages:x,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),p=g({},a,{key:"cells2",type:"cells",page:1,prevPages:x,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,p,M]},H.splitToCells=function(a){var x=P(a);return(a.values||[]).slice(x[0],x[1]).map(function(M,v){var p=typeof M=="string"&&M.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:x[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:M}})};function P(a){var x=a.rowBlocks[a.page],M=x?x.rows[0].rowIndex:0,v=x?M+x.rows.length:0;return[M,v]}},53212:function(j,H,e){var g=e(3400),P=e(60520),a=e(86968).Q;function x(M,v){for(var p=M.columnorder||[],r=M.header.values.length,t=p.slice(0,r),i=t.slice().sort(function(f,l){return f-l}),n=t.map(function(f){return i.indexOf(f)}),u=n.length;u<r;u++)n.push(u);v("columnorder",n)}j.exports=function(v,p,r,t){function i(n,u){return g.coerce(v,p,P,n,u)}a(p,t,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),g.coerceFont(i,"header.font",g.extendFlat({},t.font)),x(p,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),g.coerceFont(i,"cells.font",g.extendFlat({},t.font)),p._length=null}},41724:function(j,H,e){j.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(j,H,e){var g=e(23536),P=e(33428),a=e(3400),x=a.numberFormat,M=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,i=e(3400).cancelTransition,n=e(55992),u=e(53056),f=e(76308);j.exports=function(le,ie){var ce=!le._context.staticPlot,ye=le._fullLayout._paper.selectAll("."+g.cn.table).data(ie.map(function(at){var We=M.unwrap(at),rt=We.trace;return n(le,rt)}),M.keyFun);ye.exit().remove(),ye.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ye.attr("width",function(at){return at.width+at.size.l+at.size.r}).attr("height",function(at){return at.height+at.size.t+at.size.b}).attr("transform",function(at){return t(at.translateX,at.translateY)});var Ce=ye.selectAll("."+g.cn.tableControlView).data(M.repeat,M.keyFun),Ae=Ce.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(ce){var ke="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(at){Ce.filter(function(We){return at===We}).call(c,le)}).on(ke,function(at){if(!at.scrollbarState.wheeling){at.scrollbarState.wheeling=!0;var We=at.scrollY+P.event.deltaY,rt=$(le,Ce,null,We)(at);rt||(P.event.stopPropagation(),P.event.preventDefault()),at.scrollbarState.wheeling=!1}}).call(c,le,!0)}Ce.attr("transform",function(at){return t(at.size.l,at.size.t)});var we=Ce.selectAll("."+g.cn.scrollBackground).data(M.repeat,M.keyFun);we.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),we.attr("width",function(at){return at.width}).attr("height",function(at){return at.height}),Ce.each(function(at){v.setClipUrl(P.select(this),y(le,at),le)});var Ee=Ce.selectAll("."+g.cn.yColumn).data(function(at){return at.columns},M.keyFun);Ee.enter().append("g").classed(g.cn.yColumn,!0),Ee.exit().remove(),Ee.attr("transform",function(at){return t(at.x,0)}),ce&&Ee.call(P.behavior.drag().origin(function(at){var We=P.select(this);return F(We,at,-g.uplift),r(this),at.calcdata.columnDragInProgress=!0,c(Ce.filter(function(rt){return at.calcdata.key===rt.key}),le),at}).on("drag",function(at){var We=P.select(this),rt=function(vt){return(at===vt?P.event.x:vt.x)+vt.columnWidth/2};at.x=Math.max(-g.overdrag,Math.min(at.calcdata.width+g.overdrag-at.columnWidth,P.event.x));var st=S(Ee).filter(function(vt){return vt.calcdata.key===at.calcdata.key}),ht=st.sort(function(vt,At){return rt(vt)-rt(At)});ht.forEach(function(vt,At){vt.xIndex=At,vt.x=at===vt?vt.x:vt.xScale(vt)}),Ee.filter(function(vt){return at!==vt}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(vt){return t(vt.x,0)}),We.call(i).attr("transform",t(at.x,-g.uplift))}).on("dragend",function(at){var We=P.select(this),rt=at.calcdata;at.x=at.xScale(at),at.calcdata.columnDragInProgress=!1,F(We,at,0),_(le,rt,rt.columns.map(function(st){return st.xIndex}))})),Ee.each(function(at){v.setClipUrl(P.select(this),h(le,at),le)});var xe=Ee.selectAll("."+g.cn.columnBlock).data(u.splitToPanels,M.keyFun);xe.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(at){return at.key}),xe.style("cursor",function(at){return at.dragHandle?"ew-resize":at.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Pe=xe.filter(N),Ue=xe.filter(O);ce&&Ue.call(P.behavior.drag().origin(function(at){return P.event.stopPropagation(),at}).on("drag",$(le,Ce,-1)).on("dragend",function(){})),o(le,Ce,Pe,xe),o(le,Ce,Ue,xe);var Be=Ce.selectAll("."+g.cn.scrollAreaClip).data(M.repeat,M.keyFun);Be.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(at){return y(le,at)});var Ne=Be.selectAll("."+g.cn.scrollAreaClipRect).data(M.repeat,M.keyFun);Ne.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),Ne.attr("width",function(at){return at.width+2*g.overdrag}).attr("height",function(at){return at.height+g.uplift});var Xe=Ee.selectAll("."+g.cn.columnBoundary).data(M.repeat,M.keyFun);Xe.enter().append("g").classed(g.cn.columnBoundary,!0);var ut=Ee.selectAll("."+g.cn.columnBoundaryClippath).data(M.repeat,M.keyFun);ut.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),ut.attr("id",function(at){return h(le,at)});var dt=ut.selectAll("."+g.cn.columnBoundaryRect).data(M.repeat,M.keyFun);dt.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),dt.attr("width",function(at){return at.columnWidth+2*l(at)}).attr("height",function(at){return at.calcdata.height+2*l(at)+g.uplift}).attr("x",function(at){return-l(at)}).attr("y",function(at){return-l(at)}),W(null,Ue,Ce)};function l(K){return Math.ceil(K.calcdata.maxLineWidth/2)}function y(K,le){return"clip"+K._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function h(K,le){return"clip"+K._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function S(K){return[].concat.apply([],K.map(function(le){return le})).map(function(le){return le.__data__})}function c(K,le,ie){function ce(Ee){var xe=Ee.rowBlocks;return oe(xe,xe.length-1)+(xe.length?Y(xe[xe.length-1],1/0):1)}var ye=K.selectAll("."+g.cn.scrollbarKit).data(M.repeat,M.keyFun);ye.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ye.each(function(Ee){var xe=Ee.scrollbarState;xe.totalHeight=ce(Ee),xe.scrollableAreaHeight=Ee.groupHeight-z(Ee),xe.currentlyVisibleHeight=Math.min(xe.totalHeight,xe.scrollableAreaHeight),xe.ratio=xe.currentlyVisibleHeight/xe.totalHeight,xe.barLength=Math.max(xe.ratio*xe.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),xe.barWiggleRoom=xe.currentlyVisibleHeight-xe.barLength,xe.wiggleRoom=Math.max(0,xe.totalHeight-xe.scrollableAreaHeight),xe.topY=xe.barWiggleRoom===0?0:Ee.scrollY/xe.wiggleRoom*xe.barWiggleRoom,xe.bottomY=xe.topY+xe.barLength,xe.dragMultiplier=xe.wiggleRoom/xe.barWiggleRoom}).attr("transform",function(Ee){var xe=Ee.width+g.scrollbarWidth/2+g.scrollbarOffset;return t(xe,z(Ee))});var Ce=ye.selectAll("."+g.cn.scrollbar).data(M.repeat,M.keyFun);Ce.enter().append("g").classed(g.cn.scrollbar,!0);var Ae=Ce.selectAll("."+g.cn.scrollbarSlider).data(M.repeat,M.keyFun);Ae.enter().append("g").classed(g.cn.scrollbarSlider,!0),Ae.attr("transform",function(Ee){return t(0,Ee.scrollbarState.topY||0)});var ke=Ae.selectAll("."+g.cn.scrollbarGlyph).data(M.repeat,M.keyFun);ke.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),ke.attr("y2",function(Ee){return Ee.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||ie?0:.4}),ke.transition().delay(0).duration(0),ke.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var we=Ce.selectAll("."+g.cn.scrollbarCaptureZone).data(M.repeat,M.keyFun);we.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ee){var xe=P.event.y,Pe=this.getBoundingClientRect(),Ue=Ee.scrollbarState,Be=xe-Pe.top,Ne=P.scale.linear().domain([0,Ue.scrollableAreaHeight]).range([0,Ue.totalHeight]).clamp(!0);Ue.topY<=Be&&Be<=Ue.bottomY||$(le,K,null,Ne(Be-Ue.barLength/2))(Ee)}).call(P.behavior.drag().origin(function(Ee){return P.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee}).on("drag",$(le,K)).on("dragend",function(){})),we.attr("y2",function(Ee){return Ee.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(ke.remove(),we.remove())}function o(K,le,ie,ce){var ye=d(ie),Ce=w(ye);E(Ce);var Ae=A(Ce);s(Ae);var ke=m(Ce),we=C(ke);b(we),L(we,le,ce,K),X(Ce)}function d(K){var le=K.selectAll("."+g.cn.columnCells).data(M.repeat,M.keyFun);return le.enter().append("g").classed(g.cn.columnCells,!0),le.exit().remove(),le}function w(K){var le=K.selectAll("."+g.cn.columnCell).data(u.splitToCells,function(ie){return ie.keyWithinBlock});return le.enter().append("g").classed(g.cn.columnCell,!0),le.exit().remove(),le}function A(K){var le=K.selectAll("."+g.cn.cellRect).data(M.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("rect").classed(g.cn.cellRect,!0),le}function C(K){var le=K.selectAll("."+g.cn.cellText).data(M.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),le}function m(K){var le=K.selectAll("."+g.cn.cellTextHolder).data(M.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}function E(K){K.each(function(le,ie){var ce=le.calcdata.cells.font,ye=le.column.specIndex,Ce={size:B(ce.size,ye,ie),color:B(ce.color,ye,ie),family:B(ce.family,ye,ie)};le.rowNumber=le.key,le.align=B(le.calcdata.cells.align,ye,ie),le.cellBorderWidth=B(le.calcdata.cells.line.width,ye,ie),le.font=Ce})}function b(K){K.each(function(le){v.font(P.select(this),le.font)})}function s(K){K.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var ie=P.select(this);f.stroke(ie,B(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),f.fill(ie,B(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}function L(K,le,ie,ce){K.text(function(ye){var Ce=ye.column.specIndex,Ae=ye.rowNumber,ke=ye.value,we=typeof ke=="string",Ee=we&&ke.match(/<br>/i),xe=!we||Ee;ye.mayHaveMarkup=we&&ke.match(/[<&>]/);var Pe=T(ke);ye.latex=Pe;var Ue=Pe?"":B(ye.calcdata.cells.prefix,Ce,Ae)||"",Be=Pe?"":B(ye.calcdata.cells.suffix,Ce,Ae)||"",Ne=Pe?null:B(ye.calcdata.cells.format,Ce,Ae)||null,Xe=Ue+(Ne?x(Ne)(ye.value):ye.value)+Be,ut;ye.wrappingNeeded=!ye.wrapped&&!xe&&!Pe&&(ut=k(Xe)),ye.cellHeightMayIncrease=Ee||Pe||ye.mayHaveMarkup||(ut===void 0?k(Xe):ut),ye.needsConvertToTspans=ye.mayHaveMarkup||ye.wrappingNeeded||ye.latex;var dt;if(ye.wrappingNeeded){var at=g.wrapSplitCharacter===" "?Xe.replace(/<a href=/ig,"<a_href="):Xe,We=at.split(g.wrapSplitCharacter),rt=g.wrapSplitCharacter===" "?We.map(function(st){return st.replace(/<a_href=/ig,"<a href=")}):We;ye.fragments=rt.map(function(st){return{text:st,width:null}}),ye.fragments.push({fragment:g.wrapSpacer,width:null}),dt=rt.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete ye.fragments,dt=Xe;return dt}).attr("dy",function(ye){return ye.needsConvertToTspans?0:"0.75em"}).each(function(ye){var Ce=this,Ae=P.select(Ce),ke=ye.wrappingNeeded?ne:ue;ye.needsConvertToTspans?p.convertToTspans(Ae,ce,ke(ie,Ce,le,ce,ye)):P.select(Ce.parentNode).attr("transform",function(we){return t(J(we),g.cellPad)}).attr("text-anchor",function(we){return{left:"start",center:"middle",right:"end"}[we.align]})})}function T(K){return typeof K=="string"&&K.match(g.latexCheck)}function k(K){return K.indexOf(g.wrapSplitCharacter)!==-1}function _(K,le,ie){var ce=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(ye,Ce){return ie[ce.indexOf(ye)]-ie[ce.indexOf(Ce)]}),le.columnorder=ie,K.emit("plotly_restyle")}function B(K,le,ie){if(a.isArrayOrTypedArray(K)){var ce=K[Math.min(le,K.length-1)];return a.isArrayOrTypedArray(ce)?ce[Math.min(ie,ce.length-1)]:ce}else return K}function F(K,le,ie){K.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",t(le.x,ie))}function O(K){return K.type==="cells"}function N(K){return K.type==="header"}function z(K){var le=K.rowBlocks.length?K.rowBlocks[0].auxiliaryBlocks:[];return le.reduce(function(ie,ce){return ie+Y(ce,1/0)},0)}function V(K,le,ie){for(var ce=[],ye=0,Ce=0;Ce<K.length;Ce++){for(var Ae=K[Ce],ke=Ae.rows,we=0,Ee=0;Ee<ke.length;Ee++)we+=ke[Ee].rowHeight;Ae.allRowsHeight=we;var xe=ye+we,Pe=le,Ue=Pe+ie;Pe<xe&&Ue>ye&&ce.push(Ce),ye+=we}return ce}function W(K,le,ie){var ce=S(le)[0];if(ce!==void 0){var ye=ce.rowBlocks,Ce=ce.calcdata,Ae=oe(ye,ye.length),ke=ce.calcdata.groupHeight-z(ce),we=Ce.scrollY=Math.max(0,Math.min(Ae-ke,Ce.scrollY)),Ee=V(ye,we,ke);Ee.length===1&&(Ee[0]===ye.length-1?Ee.unshift(Ee[0]-1):Ee.push(Ee[0]+1)),Ee[0]%2&&Ee.reverse(),le.each(function(xe,Pe){xe.page=Ee[Pe],xe.scrollY=we}),le.attr("transform",function(xe){var Pe=oe(xe.rowBlocks,xe.page)-xe.scrollY;return t(0,Pe)}),K&&(re(K,ie,le,Ee,ce.prevPages,ce,0),re(K,ie,le,Ee,ce.prevPages,ce,1),c(ie,K))}}function $(K,le,ie,ce){return function(Ce){var Ae=Ce.calcdata?Ce.calcdata:Ce,ke=le.filter(function(Pe){return Ae.key===Pe.key}),we=ie||Ae.scrollbarState.dragMultiplier,Ee=Ae.scrollY;Ae.scrollY=ce===void 0?Ae.scrollY+we*P.event.dy:ce;var xe=ke.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(O);return W(K,xe,ke),Ae.scrollY===Ee}}function re(K,le,ie,ce,ye,Ce,Ae){var ke=ce[Ae]!==ye[Ae];ke&&(clearTimeout(Ce.currentRepaint[Ae]),Ce.currentRepaint[Ae]=setTimeout(function(){var we=ie.filter(function(Ee,xe){return xe===Ae&&ce[xe]!==ye[xe]});o(K,le,we,ie),ye[Ae]=ce[Ae]}))}function ne(K,le,ie,ce){return function(){var Ce=P.select(le.parentNode);Ce.each(function(Ae){var ke=Ae.fragments;Ce.selectAll("tspan.line").each(function(Xe,ut){ke[ut].width=this.getComputedTextLength()});var we=ke[ke.length-1].width,Ee=ke.slice(0,-1),xe=[],Pe,Ue,Be=0,Ne=Ae.column.columnWidth-2*g.cellPad;for(Ae.value="";Ee.length;)Pe=Ee.shift(),Ue=Pe.width+we,Be+Ue>Ne&&(Ae.value+=xe.join(g.wrapSpacer)+g.lineBreaker,xe=[],Be=0),xe.push(Pe.text),Be+=Ue;Be&&(Ae.value+=xe.join(g.wrapSpacer)),Ae.wrapped=!0}),Ce.selectAll("tspan.line").remove(),L(Ce.select("."+g.cn.cellText),ie,K,ce),P.select(le.parentNode.parentNode).call(X)}}function ue(K,le,ie,ce,ye){return function(){if(!ye.settledY){var Ae=P.select(le.parentNode),ke=se(ye),we=ye.key-ke.firstRowIndex,Ee=ke.rows[we].rowHeight,xe=ye.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*g.cellPad:Ee,Pe=Math.max(xe,Ee),Ue=Pe-ke.rows[we].rowHeight;Ue&&(ke.rows[we].rowHeight=Pe,K.selectAll("."+g.cn.columnCell).call(X),W(null,K.filter(O),0),c(ie,ce,!0)),Ae.attr("transform",function(){var Be=this,Ne=Be.parentNode,Xe=Ne.getBoundingClientRect(),ut=P.select(Be.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),dt=Be.transform.baseVal.consolidate(),at=ut.top-Xe.top+(dt?dt.matrix.f:g.cellPad);return t(J(ye,P.select(Be.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),at)}),ye.settledY=!0}}}function J(K,le){switch(K.align){case"left":return g.cellPad;case"right":return K.column.columnWidth-(le||0)-g.cellPad;case"center":return(K.column.columnWidth-(le||0))/2;default:return g.cellPad}}function X(K){K.attr("transform",function(le){var ie=le.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,ke){return Ae+Y(ke,1/0)},0),ce=se(le),ye=Y(ce,le.key),Ce=ye+ie;return t(0,Ce)}).selectAll("."+g.cn.cellRect).attr("height",function(le){return Q(se(le),le.key).rowHeight})}function oe(K,le){for(var ie=0,ce=le-1;ce>=0;ce--)ie+=q(K[ce]);return ie}function Y(K,le){for(var ie=0,ce=0;ce<K.rows.length&&K.rows[ce].rowIndex<le;ce++)ie+=K.rows[ce].rowHeight;return ie}function q(K){var le=K.allRowsHeight;if(le!==void 0)return le;for(var ie=0,ce=0;ce<K.rows.length;ce++)ie+=K.rows[ce].rowHeight;return K.allRowsHeight=ie,ie}function se(K){return K.rowBlocks[K.page]}function Q(K,le){return K.rows[le-K.firstRowIndex]}},40516:function(j,H,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(49084),x=e(86968).u,M=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;j.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:p.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:r({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:v.root,domain:x({name:"treemap",trace:!0,editType:"calc"})}},79516:function(j,H,e){var g=e(7316);H.name="treemap",H.plot=function(P,a,x,M){g.plotBasePlot(H.name,P,a,x,M)},H.clean=function(P,a,x,M){g.cleanBasePlot(H.name,P,a,x,M)}},97840:function(j,H,e){var g=e(3776);H.r=function(P,a){return g.calc(P,a)},H.q=function(P){return g._runCrossTraceCalc("treemap",P)}},32984:function(j){j.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(j,H,e){var g=e(3400),P=e(40516),a=e(76308),x=e(86968).Q,M=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;j.exports=function(u,f,l,y){function h(s,L){return g.coerce(u,f,P,s,L)}var S=h("labels"),c=h("parents");if(!S||!S.length||!c||!c.length){f.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var w=h("text");h("texttemplate"),f.texttemplate||h("textinfo",g.isArrayOrTypedArray(w)?"text+label":"label"),h("hovertext"),h("hovertemplate");var A=h("pathbar.visible"),C="auto";M(u,f,y,h,C,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var m=f.textposition.indexOf("bottom")!==-1;p(u,f,y,h);var E=f._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;E?i(u,f,y,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(f.marker.colors||[]).length);var b=f.textfont.size*2;h("marker.pad.t",m?b/4:b),h("marker.pad.l",b/4),h("marker.pad.r",b/4),h("marker.pad.b",m?b:b/4),h("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:a.contrast(y.paper_bgcolor)}}},A&&(h("pathbar.thickness",f.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),x(f,y,h),f._length=null}},95808:function(j,H,e){var g=e(33428),P=e(78176),a=e(82744),x=a.clearMinTextSize,M=e(60100).resizeText,v=e(52960);j.exports=function(r,t,i,n,u){var f=u.type,l=u.drawDescendants,y=r._fullLayout,h=y["_"+f+"layer"],S,c,o=!i;if(x(f,y),S=h.selectAll("g.trace."+f).data(t,function(w){return w[0].trace.uid}),S.enter().append("g").classed("trace",!0).classed(f,!0),S.order(),!y.uniformtext.mode&&P.hasTransition(i)){n&&(c=n());var d=g.transition().duration(i.duration).ease(i.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(w){v(r,w,this,i,l)})})}else S.each(function(w){v(r,w,this,i,l)}),y.uniformtext.mode&&M(r,h.selectAll(".trace"),f);o&&S.exit().remove()}},27336:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=e(72736),M=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=!0;j.exports=function(u,f,l,y,h){var S=h.barDifY,c=h.width,o=h.height,d=h.viewX,w=h.viewY,A=h.pathSlice,C=h.toMoveInsideSlice,m=h.strTransform,E=h.hasTransition,b=h.handleSlicesExit,s=h.makeUpdateSliceInterpolator,L=h.makeUpdateTextInterpolator,T={},k=u._context.staticPlot,_=u._fullLayout,B=f[0],F=B.trace,O=B.hierarchy,N=c/F._entryDepth,z=r.listPath(l.data,"id"),V=M(O.copy(),[c,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();V=V.filter(function($){var re=z.indexOf($.data.id);return re===-1?!1:($.x0=N*re,$.x1=N*(re+1),$.y0=S,$.y1=S+o,$.onPathbar=!0,!0)}),V.reverse(),y=y.data(V,r.getPtId),y.enter().append("g").classed("pathbar",!0),b(y,i,T,[c,o],A),y.order();var W=y;E&&(W=W.transition().each("end",function(){var $=g.select(this);r.setSliceCursor($,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function($){$._x0=d($.x0),$._x1=d($.x1),$._y0=w($.y0),$._y1=w($.y1),$._hoverX=d($.x1-Math.min(c,o)/2),$._hoverY=w($.y1-o/2);var re=g.select(this),ne=P.ensureSingle(re,"path","surface",function(oe){oe.style("pointer-events",k?"none":"all")});E?ne.transition().attrTween("d",function(oe){var Y=s(oe,i,T,[c,o]);return function(q){return A(Y(q))}}):ne.attr("d",A),re.call(t,l,u,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:u._transitioning}),ne.call(v,$,F,u,{hovered:!1}),$._text=(r.getPtLabel($)||"").split("<br>").join(" ")||"";var ue=P.ensureSingle(re,"g","slicetext"),J=P.ensureSingle(ue,"text","",function(oe){oe.attr("data-notex",1)}),X=P.ensureUniformFontSize(u,r.determineTextFont(F,$,_.font,{onPathbar:!0}));J.text($._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,X).call(x.convertToTspans,u),$.textBB=a.bBox(J.node()),$.transform=C($,{fontSize:X.size,onPathbar:!0}),$.transform.fontSize=X.size,E?J.transition().attrTween("transform",function(oe){var Y=L(oe,i,T,[c,o]);return function(q){return m(Y(q))}}):J.attr("transform",m($))})}},76477:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=e(72736),M=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,n=!1;j.exports=function(f,l,y,h,S){var c=S.width,o=S.height,d=S.viewX,w=S.viewY,A=S.pathSlice,C=S.toMoveInsideSlice,m=S.strTransform,E=S.hasTransition,b=S.handleSlicesExit,s=S.makeUpdateSliceInterpolator,L=S.makeUpdateTextInterpolator,T=S.prevEntry,k={},_=f._context.staticPlot,B=f._fullLayout,F=l[0],O=F.trace,N=O.textposition.indexOf("left")!==-1,z=O.textposition.indexOf("right")!==-1,V=O.textposition.indexOf("bottom")!==-1,W=!V&&!O.marker.pad.t||V&&!O.marker.pad.b,$=M(y,[c,o],{packing:O.tiling.packing,squarifyratio:O.tiling.squarifyratio,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,pad:{inner:O.tiling.pad,top:O.marker.pad.t,left:O.marker.pad.l,right:O.marker.pad.r,bottom:O.marker.pad.b}}),re=$.descendants(),ne=1/0,ue=-1/0;re.forEach(function(q){var se=q.depth;se>=O._maxDepth?(q.x0=q.x1=(q.x0+q.x1)/2,q.y0=q.y1=(q.y0+q.y1)/2):(ne=Math.min(ne,se),ue=Math.max(ue,se))}),h=h.data(re,r.getPtId),O._maxVisibleLayers=isFinite(ue)?ue-ne+1:0,h.enter().append("g").classed("slice",!0),b(h,n,k,[c,o],A),h.order();var J=null;if(E&&T){var X=r.getPtId(T);h.each(function(q){J===null&&r.getPtId(q)===X&&(J={x0:q.x0,x1:q.x1,y0:q.y0,y1:q.y1})})}var oe=function(){return J||{x0:0,x1:c,y0:0,y1:o}},Y=h;return E&&(Y=Y.transition().each("end",function(){var q=g.select(this);r.setSliceCursor(q,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(q){var se=r.isHeader(q,O);q._x0=d(q.x0),q._x1=d(q.x1),q._y0=w(q.y0),q._y1=w(q.y1),q._hoverX=d(q.x1-O.marker.pad.r),q._hoverY=w(V?q.y1-O.marker.pad.b/2:q.y0+O.marker.pad.t/2);var Q=g.select(this),K=P.ensureSingle(Q,"path","surface",function(Ae){Ae.style("pointer-events",_?"none":"all")});E?K.transition().attrTween("d",function(Ae){var ke=s(Ae,n,oe(),[c,o]);return function(we){return A(ke(we))}}):K.attr("d",A),Q.call(t,y,f,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),K.call(v,q,O,f,{hovered:!1}),q.x0===q.x1||q.y0===q.y1?q._text="":se?q._text=W?"":r.getPtLabel(q)||"":q._text=i(q,y,O,l,B)||"";var le=P.ensureSingle(Q,"g","slicetext"),ie=P.ensureSingle(le,"text","",function(Ae){Ae.attr("data-notex",1)}),ce=P.ensureUniformFontSize(f,r.determineTextFont(O,q,B.font)),ye=q._text||" ",Ce=se&&ye.indexOf("<br>")===-1;ie.text(ye).classed("slicetext",!0).attr("text-anchor",z?"end":N||Ce?"start":"middle").call(a.font,ce).call(x.convertToTspans,f),q.textBB=a.bBox(ie.node()),q.transform=C(q,{fontSize:ce.size,isHeader:se}),q.transform.fontSize=ce.size,E?ie.transition().attrTween("transform",function(Ae){var ke=L(Ae,n,oe(),[c,o]);return function(we){return m(ke(we))}}):ie.attr("transform",m(q))}),J}},83024:function(j){j.exports=function H(e,g,P){var a;P.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),P.flipX&&(a=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-a),P.flipY&&(a=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-a);var x=e.children;if(x)for(var M=0;M<x.length;M++)H(x[M],g,P)}},31991:function(j,H,e){j.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(j){j.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(j,H,e){var g=e(3400),P=e(45392);j.exports=function(x,M){function v(p,r){return g.coerce(x,M,P,p,r)}v("treemapcolorway",M.colorway),v("extendtreemapcolors")}},13832:function(j,H,e){var g=e(74148),P=e(83024);j.exports=function(M,v,p){var r=p.flipX,t=p.flipY,i=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],u=p.pad[r?"right":"left"],f=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],y;i&&(y=u,u=n,n=y,y=f,f=l,l=y);var h=g.treemap().tile(a(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(u).paddingRight(f).paddingTop(n).paddingBottom(l).size(i?[v[1],v[0]]:v)(M);return(i||r||t)&&P(h,v,{swapXY:i,flipX:r,flipY:t}),h};function a(x,M){switch(x){case"squarify":return g.treemapSquarify.ratio(M);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},53264:function(j,H,e){var g=e(95808),P=e(76477);j.exports=function(x,M,v,p){return g(x,M,v,p,{type:"treemap",drawDescendants:P})}},52960:function(j,H,e){var g=e(33428),P=e(67756).qy,a=e(78176),x=e(3400),M=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,i=e(32984),n=e(27336);function u(f){return a.isHierarchyRoot(f)?"":a.getPtId(f)}j.exports=function(l,y,h,S,c){var o=l._fullLayout,d=y[0],w=d.trace,A=w.type,C=A==="icicle",m=d.hierarchy,E=a.findEntryWithLevel(m,w.level),b=g.select(h),s=b.selectAll("g.pathbar"),L=b.selectAll("g.slice");if(!E){s.remove(),L.remove();return}var T=a.isHierarchyRoot(E),k=!o.uniformtext.mode&&a.hasTransition(S),_=a.getMaxDepth(w),B=function(_e){return _e.data.depth-E.data.depth<_},F=o._size,O=w.domain,N=F.w*(O.x[1]-O.x[0]),z=F.h*(O.y[1]-O.y[0]),V=N,W=w.pathbar.thickness,$=w.marker.line.width+i.gapWithPathbar,re=w.pathbar.visible?w.pathbar.side.indexOf("bottom")>-1?z+$:-(W+$):0,ne={x0:V,x1:V,y0:re,y1:re+W},ue=function(_e,Ve,Ze){var He=w.tiling.pad,Ie=function(Te){return Te-He<=Ve.x0},be=function(Te){return Te+He>=Ve.x1},me=function(Te){return Te-He<=Ve.y0},Me=function(Te){return Te+He>=Ve.y1};return _e.x0===Ve.x0&&_e.x1===Ve.x1&&_e.y0===Ve.y0&&_e.y1===Ve.y1?{x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1}:{x0:Ie(_e.x0-He)?0:be(_e.x0-He)?Ze[0]:_e.x0,x1:Ie(_e.x1+He)?0:be(_e.x1+He)?Ze[0]:_e.x1,y0:me(_e.y0-He)?0:Me(_e.y0-He)?Ze[1]:_e.y0,y1:me(_e.y1+He)?0:Me(_e.y1+He)?Ze[1]:_e.y1}},J=null,X={},oe={},Y=null,q=function(_e,Ve){return Ve?X[u(_e)]:oe[u(_e)]},se=function(_e,Ve,Ze,He){if(Ve)return X[u(m)]||ne;var Ie=oe[w.level]||Ze;return B(_e)?ue(_e,Ie,He):{}};d.hasMultipleRoots&&T&&_++,w._maxDepth=_,w._backgroundColor=o.paper_bgcolor,w._entryDepth=E.data.depth,w._atRootLevel=T;var Q=-N/2+F.l+F.w*(O.x[1]+O.x[0])/2,K=-z/2+F.t+F.h*(1-(O.y[1]+O.y[0])/2),le=function(_e){return Q+_e},ie=function(_e){return K+_e},ce=ie(0),ye=le(0),Ce=function(_e){return ye+_e},Ae=function(_e){return ce+_e};function ke(_e,Ve){return _e+","+Ve}var we=Ce(0),Ee=function(_e){_e.x=Math.max(we,_e.x)},xe=w.pathbar.edgeshape,Pe=function(_e){var Ve=Ce(Math.max(Math.min(_e.x0,_e.x0),0)),Ze=Ce(Math.min(Math.max(_e.x1,_e.x1),V)),He=Ae(_e.y0),Ie=Ae(_e.y1),be=W/2,me={},Me={};me.x=Ve,Me.x=Ze,me.y=Me.y=(He+Ie)/2;var Te={x:Ve,y:He},Oe={x:Ze,y:He},Ke={x:Ze,y:Ie},nt={x:Ve,y:Ie};return xe===">"?(Te.x-=be,Oe.x-=be,Ke.x-=be,nt.x-=be):xe==="/"?(Ke.x-=be,nt.x-=be,me.x-=be/2,Me.x-=be/2):xe==="\\"?(Te.x-=be,Oe.x-=be,me.x-=be/2,Me.x-=be/2):xe==="<"&&(me.x-=be,Me.x-=be),Ee(Te),Ee(nt),Ee(me),Ee(Oe),Ee(Ke),Ee(Me),"M"+ke(Te.x,Te.y)+"L"+ke(Oe.x,Oe.y)+"L"+ke(Me.x,Me.y)+"L"+ke(Ke.x,Ke.y)+"L"+ke(nt.x,nt.y)+"L"+ke(me.x,me.y)+"Z"},Ue=w[C?"tiling":"marker"].pad,Be=function(_e){return w.textposition.indexOf(_e)!==-1},Ne=Be("top"),Xe=Be("left"),ut=Be("right"),dt=Be("bottom"),at=function(_e){var Ve=le(_e.x0),Ze=le(_e.x1),He=ie(_e.y0),Ie=ie(_e.y1),be=Ze-Ve,me=Ie-He;if(!be||!me)return"";var Me=w.marker.cornerradius||0,Te=Math.min(Me,be/2,me/2);Te&&_e.data&&_e.data.data&&_e.data.data.label&&(Ne&&(Te=Math.min(Te,Ue.t)),Xe&&(Te=Math.min(Te,Ue.l)),ut&&(Te=Math.min(Te,Ue.r)),dt&&(Te=Math.min(Te,Ue.b)));var Oe=function(Ke,nt){return Te?"a"+ke(Te,Te)+" 0 0 1 "+ke(Ke,nt):""};return"M"+ke(Ve,He+Te)+Oe(Te,-Te)+"L"+ke(Ze-Te,He)+Oe(Te,Te)+"L"+ke(Ze,Ie-Te)+Oe(-Te,Te)+"L"+ke(Ve+Te,Ie)+Oe(-Te,-Te)+"Z"},We=function(_e,Ve){var Ze=_e.x0,He=_e.x1,Ie=_e.y0,be=_e.y1,me=_e.textBB,Me=Ne||Ve.isHeader&&!dt,Te=Me?"start":dt?"end":"middle",Oe=Be("right"),Ke=Be("left")||Ve.onPathbar,nt=Ke?-1:Oe?1:0;if(Ve.isHeader){if(Ze+=(C?Ue:Ue.l)-M,He-=(C?Ue:Ue.r)-M,Ze>=He){var pt=(Ze+He)/2;Ze=pt,He=pt}var yt;dt?(yt=be-(C?Ue:Ue.b),Ie<yt&&yt<be&&(Ie=yt)):(yt=Ie+(C?Ue:Ue.t),Ie<yt&&yt<be&&(be=yt))}var Yt=p(Ze,He,Ie,be,me,{isHorizontal:!1,constrained:!0,angle:0,anchor:Te,leftToRight:nt});return Yt.fontSize=Ve.fontSize,Yt.targetX=le(Yt.targetX),Yt.targetY=ie(Yt.targetY),isNaN(Yt.targetX)||isNaN(Yt.targetY)?{}:(Ze!==He&&Ie!==be&&t(w.type,Yt,o),{scale:Yt.scale,rotate:Yt.rotate,textX:Yt.textX,textY:Yt.textY,anchorX:Yt.anchorX,anchorY:Yt.anchorY,targetX:Yt.targetX,targetY:Yt.targetY})},rt=function(_e,Ve){for(var Ze,He=0,Ie=_e;!Ze&&He<_;)He++,Ie=Ie.parent,Ie?Ze=q(Ie,Ve):He=_;return Ze||{}},st=function(_e,Ve,Ze,He){var Ie=q(_e,Ve),be;if(Ve)be=ne;else{var me=q(E,Ve);me?be=ue(_e,me,He):be={}}return P(Ie,be)},ht=function(_e,Ve,Ze,He,Ie){var be=q(_e,Ve),me;if(be)me=be;else if(Ve)me=ne;else if(J)if(_e.parent){var Me=Y||Ze;Me&&!Ve?me=ue(_e,Me,He):(me={},x.extendFlat(me,rt(_e,Ve)))}else me=x.extendFlat({},_e),C&&(Ie.orientation==="h"?Ie.flipX?me.x0=_e.x1:me.x1=0:Ie.flipY?me.y0=_e.y1:me.y1=0);else me={};return P(me,{x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1})},vt=function(_e,Ve,Ze,He){var Ie=q(_e,Ve),be={},me=se(_e,Ve,Ze,He);x.extendFlat(be,{transform:We({x0:me.x0,x1:me.x1,y0:me.y0,y1:me.y1,textBB:_e.textBB,_text:_e._text},{isHeader:a.isHeader(_e,w)})}),Ie?be=Ie:_e.parent&&x.extendFlat(be,rt(_e,Ve));var Me=_e.transform;return _e.x0!==_e.x1&&_e.y0!==_e.y1&&t(w.type,Me,o),P(be,{transform:{scale:Me.scale,rotate:Me.rotate,textX:Me.textX,textY:Me.textY,anchorX:Me.anchorX,anchorY:Me.anchorY,targetX:Me.targetX,targetY:Me.targetY}})},At=function(_e,Ve,Ze,He,Ie){var be=He[0],me=He[1];k?_e.exit().transition().each(function(){var Me=g.select(this),Te=Me.select("path.surface");Te.transition().attrTween("d",function(Ke){var nt=st(Ke,Ve,Ze,[be,me]);return function(pt){return Ie(nt(pt))}});var Oe=Me.select("g.slicetext");Oe.attr("opacity",0)}).remove():_e.exit().remove()},et=function(_e){var Ve=_e.transform;return _e.x0!==_e.x1&&_e.y0!==_e.y1&&t(w.type,Ve,o),x.getTextTransform({textX:Ve.textX,textY:Ve.textY,anchorX:Ve.anchorX,anchorY:Ve.anchorY,targetX:Ve.targetX,targetY:Ve.targetY,scale:Ve.scale,rotate:Ve.rotate})};k&&(s.each(function(_e){X[u(_e)]={x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1},_e.transform&&(X[u(_e)].transform={textX:_e.transform.textX,textY:_e.transform.textY,anchorX:_e.transform.anchorX,anchorY:_e.transform.anchorY,targetX:_e.transform.targetX,targetY:_e.transform.targetY,scale:_e.transform.scale,rotate:_e.transform.rotate})}),L.each(function(_e){oe[u(_e)]={x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1},_e.transform&&(oe[u(_e)].transform={textX:_e.transform.textX,textY:_e.transform.textY,anchorX:_e.transform.anchorX,anchorY:_e.transform.anchorY,targetX:_e.transform.targetX,targetY:_e.transform.targetY,scale:_e.transform.scale,rotate:_e.transform.rotate}),!J&&a.isEntry(_e)&&(J=_e)})),Y=c(l,y,E,L,{width:N,height:z,viewX:le,viewY:ie,pathSlice:at,toMoveInsideSlice:We,prevEntry:J,makeUpdateSliceInterpolator:ht,makeUpdateTextInterpolator:vt,handleSlicesExit:At,hasTransition:k,strTransform:et}),w.pathbar.visible?n(l,y,E,s,{barDifY:re,width:V,height:W,viewX:Ce,viewY:Ae,pathSlice:Pe,toMoveInsideSlice:We,makeUpdateSliceInterpolator:ht,makeUpdateTextInterpolator:vt,handleSlicesExit:At,hasTransition:k,strTransform:et}):s.remove()}},66192:function(j,H,e){var g=e(33428),P=e(76308),a=e(3400),x=e(78176),M=e(82744).resizeText,v=e(60404);function p(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");M(t,i,"treemap"),i.each(function(n){var u=g.select(this),f=n[0],l=f.trace;u.style("opacity",l.opacity),u.selectAll("path.surface").each(function(y){g.select(this).call(r,y,l,t,{hovered:!1})})})}function r(t,i,n,u,f){var l=(f||{}).hovered,y=i.data.data,h=y.i,S,c,o=y.color,d=x.isHierarchyRoot(i),w=1;if(l)S=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&o===n.root.color)w=100,S="rgba(0,0,0,0)",c=0;else if(S=a.castOption(n,h,"marker.line.color")||P.defaultLine,c=a.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var A=n.marker.depthfade;if(A){var C=P.combine(P.addOpacity(n._backgroundColor,.75),o),m;if(A===!0){var E=x.getMaxDepth(n);isFinite(E)?x.isLeaf(i)?m=0:m=n._maxVisibleLayers-(i.data.depth-n._entryDepth):m=i.data.height+1}else m=i.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var b=0;b<m;b++){var s=.5*b/m;o=P.combine(P.addOpacity(C,s),o)}}}t.call(v,i,n,u,o).style("stroke-width",c).call(P.stroke,S).style("opacity",w)}j.exports={style:p,styleOne:r}},13988:function(j,H,e){var g=e(63188),P=e(92880).extendFlat,a=e(29736).axisHoverFormat;j.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:P({},g.name,{}),orientation:P({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:P({},g.boxpoints,{}),jitter:P({},g.jitter,{}),pointpos:P({},g.pointpos,{}),width:P({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(j,H,e){var g=e(3400),P=e(54460),a=e(62555),x=e(63800),M=e(39032).BADNUM;j.exports=function(i,n){var u=a(i,n);if(u[0].t.empty)return u;for(var f=i._fullLayout,l=P.getFromId(i,n[n.orientation==="h"?"xaxis":"yaxis"]),y=1/0,h=-1/0,S=0,c=0,o=0;o<u.length;o++){var d=u[o],w=d.pts.map(x.extractVal),A=d.bandwidth=p(n,d,w),C=d.span=r(n,d,l,A);if(d.min===d.max&&A===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=A,S=Math.max(S,1);else{var m=C[1]-C[0],E=Math.ceil(m/(A/3)),b=m/E;if(!isFinite(b)||!isFinite(E))return g.error("Something went wrong with computing the violin span"),u[0].t.empty=!0,u;var s=x.makeKDE(d,n,w);d.density=new Array(E);for(var L=0,T=C[0];T<C[1]+b/2;L++,T+=b){var k=s(T);d.density[L]={v:k,t:T},S=Math.max(S,k)}}c=Math.max(c,w.length),y=Math.min(y,C[0]),h=Math.max(h,C[1])}var _=P.findExtremes(l,[y,h],{padded:!0});if(n._extremes[l._id]=_,n.width)u[0].t.maxKDE=S;else{var B=f._violinScaleGroupStats,F=n.scalegroup,O=B[F];O?(O.maxKDE=Math.max(O.maxKDE,S),O.maxCount=Math.max(O.maxCount,c)):B[F]={maxKDE:S,maxCount:c}}return u[0].t.labels.kde=g._(i,"kde:"),u};function v(t,i,n){var u=Math.min(i,n/1.349);return 1.059*u*Math.pow(t,-.2)}function p(t,i,n){var u=i.max-i.min;if(!u)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,u/1e4);var f=n.length,l=g.stdev(n,f-1,i.mean);return Math.max(v(f,l,i.q3-i.q1),u/100)}function r(t,i,n,u){var f=t.spanmode,l=t.span||[],y=[i.min,i.max],h=[i.min-2*u,i.max+2*u],S;function c(d){var w=l[d],A=n.type==="multicategory"?n.r2c(w):n.d2c(w,0,t[i.valLetter+"calendar"]);return A===M?h[d]:A}f==="soft"?S=h:f==="hard"?S=y:S=[c(0),c(1)];var o={type:"linear",range:S};return P.setConvert(o),o.cleanRange(),S}},14348:function(j,H,e){var g=e(96404).setPositionOffset,P=["v","h"];j.exports=function(x,M){for(var v=x.calcdata,p=M.xaxis,r=M.yaxis,t=0;t<P.length;t++){for(var i=P[t],n=i==="h"?r:p,u=[],f=0;f<v.length;f++){var l=v[f],y=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!y.empty&&h.orientation===i&&h.xaxis===p._id&&h.yaxis===r._id&&u.push(f)}g("violin",x,u,n)}}},36240:function(j,H,e){var g=e(3400),P=e(76308),a=e(90624),x=e(13988);j.exports=function(v,p,r,t){function i(b,s){return g.coerce(v,p,x,b,s)}function n(b,s){return g.coerce2(v,p,x,b,s)}if(a.handleSampleDefaults(v,p,i,t),p.visible!==!1){i("bandwidth"),i("side");var u=i("width");u||(i("scalegroup",p.name),i("scalemode"));var f=i("span"),l;Array.isArray(f)&&(l="manual"),i("spanmode",l);var y=i("line.color",(v.marker||{}).color||r),h=i("line.width"),S=i("fillcolor",P.addOpacity(p.line.color,.5));a.handlePointsDefaults(v,p,i,{prefix:""});var c=n("box.width"),o=n("box.fillcolor",S),d=n("box.line.color",y),w=n("box.line.width",h),A=i("box.visible",!!(c||o||d||w));A||(p.box={visible:!1});var C=n("meanline.color",y),m=n("meanline.width",h),E=i("meanline.visible",!!(C||m));E||(p.meanline={visible:!1}),i("quartilemethod")}}},63800:function(j,H,e){var g=e(3400),P={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};H.makeKDE=function(a,x,M){var v=M.length,p=P.gaussian,r=a.bandwidth,t=1/(v*r);return function(i){for(var n=0,u=0;u<v;u++)n+=p((i-M[u])/r);return t*n}},H.getPositionOnKdePath=function(a,x,M){var v,p;x.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=g.findPointOnPath(a.path,M,p,{pathLength:a.pathLength}),t=a.posCenterPx,i=r[v],n=x.side==="both"?2*t-i:t;return[i,n]},H.getKdeValue=function(a,x,M){var v=a.pts.map(H.extractVal),p=H.makeKDE(a,x,v);return p(M)/a.posDensityScale},H.extractVal=function(a){return a.v}},78e3:function(j,H,e){var g=e(76308),P=e(3400),a=e(54460),x=e(27576),M=e(63800);j.exports=function(p,r,t,i,n){n||(n={});var u=n.hoverLayer,f=p.cd,l=f[0].trace,y=l.hoveron,h=y.indexOf("violins")!==-1,S=y.indexOf("kde")!==-1,c=[],o,d;if(h||S){var w=x.hoverOnBoxes(p,r,t,i);if(S&&w.length>0){var A=p.xa,C=p.ya,m,E,b,s,L;l.orientation==="h"?(L=r,m="y",b=C,E="x",s=A):(L=t,m="x",b=A,E="y",s=C);var T=f[p.index];if(L>=T.span[0]&&L<=T.span[1]){var k=P.extendFlat({},p),_=s.c2p(L,!0),B=M.getKdeValue(T,l,L),F=M.getPositionOnKdePath(T,l,_),O=b._offset,N=b._length;k[m+"0"]=F[0],k[m+"1"]=F[1],k[E+"0"]=k[E+"1"]=_,k[E+"Label"]=E+": "+a.hoverLabelText(s,L,l[E+"hoverformat"])+", "+f[0].t.labels.kde+" "+B.toFixed(3);for(var z=0,V=0;V<w.length;V++)if(w[V].attr==="med"){z=V;break}k.spikeDistance=w[z].spikeDistance;var W=m+"Spike";k[W]=w[z][W],w[z].spikeDistance=void 0,w[z][W]=void 0,k.hovertemplate=!1,c.push(k),d={},d[m+"1"]=P.constrain(O+F[0],O,O+N),d[m+"2"]=P.constrain(O+F[1],O,O+N),d[E+"1"]=d[E+"2"]=s._offset+_}}h&&(c=c.concat(w))}y.indexOf("points")!==-1&&(o=x.hoverOnPoints(p,r,t));var $=u.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return $.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),$.exit().remove(),$.attr(d).call(g.stroke,p.color),i==="closest"?o?[o]:c:(o&&c.push(o),c)}},22869:function(j,H,e){j.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(j,H,e){var g=e(16560),P=e(3400).extendFlat;j.exports={violinmode:P({},g.boxmode,{}),violingap:P({},g.boxgap,{}),violingroupgap:P({},g.boxgroupgap,{})}},8939:function(j,H,e){var g=e(3400),P=e(98228),a=e(68832);j.exports=function(M,v,p){function r(t,i){return g.coerce(M,v,P,t,i)}a._supply(M,v,p,r,"violin")}},5140:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=e(18728),M=e(52340),v=e(63800);j.exports=function(r,t,i,n){var u=r._context.staticPlot,f=r._fullLayout,l=t.xaxis,y=t.yaxis;function h(S,c){var o=M(S,{xaxis:l,yaxis:y,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(o[0],1)}P.makeTraceGroups(n,i,"trace violins").each(function(S){var c=g.select(this),o=S[0],d=o.t,w=o.trace;if(w.visible!==!0||d.empty){c.remove();return}var A=d.bPos,C=d.bdPos,m=t[d.valLetter+"axis"],E=t[d.posLetter+"axis"],b=w.side==="both",s=b||w.side==="positive",L=b||w.side==="negative",T=c.selectAll("path.violin").data(P.identity);T.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","violin"),T.exit().remove(),T.each(function(V){var W=g.select(this),$=V.density,re=$.length,ne=E.c2l(V.pos+A,!0),ue=E.l2p(ne),J;if(w.width)J=d.maxKDE/C;else{var X=f._violinScaleGroupStats[w.scalegroup];J=w.scalemode==="count"?X.maxKDE/C*(X.maxCount/V.pts.length):X.maxKDE/C}var oe,Y,q,se,Q,K,le;if(s){for(K=new Array(re),se=0;se<re;se++)le=K[se]={},le[d.posLetter]=ne+$[se].v/J,le[d.valLetter]=m.c2l($[se].t,!0);oe=h(K,w)}if(L){for(K=new Array(re),Q=0,se=re-1;Q<re;Q++,se--)le=K[Q]={},le[d.posLetter]=ne-$[se].v/J,le[d.valLetter]=m.c2l($[se].t,!0);Y=h(K,w)}if(b)q=oe+"L"+Y.substr(1)+"Z";else{var ie=[ue,m.c2p($[0].t)],ce=[ue,m.c2p($[re-1].t)];w.orientation==="h"&&(ie.reverse(),ce.reverse()),s?q="M"+ie+"L"+oe.substr(1)+"L"+ce:q="M"+ce+"L"+Y.substr(1)+"L"+ie}W.attr("d",q),V.posCenterPx=ue,V.posDensityScale=J*C,V.path=W.node(),V.pathLength=V.path.getTotalLength()/(b?2:1)});var k=w.box,_=k.width,B=(k.line||{}).width,F,O;b?(F=C*_,O=0):s?(F=[0,C*_/2],O=B*{x:1,y:-1}[d.posLetter]):(F=[C*_/2,0],O=B*{x:-1,y:1}[d.posLetter]),x.plotBoxAndWhiskers(c,{pos:E,val:m},w,{bPos:A,bdPos:F,bPosPxOffset:O}),x.plotBoxMean(c,{pos:E,val:m},w,{bPos:A,bdPos:F,bPosPxOffset:O});var N;!w.box.visible&&w.meanline.visible&&(N=P.identity);var z=c.selectAll("path.meanline").data(N||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",u?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(V){var W=m.c2p(V.mean,!0),$=v.getPositionOnKdePath(V,w,W);g.select(this).attr("d",w.orientation==="h"?"M"+W+","+$[0]+"V"+$[1]:"M"+$[0]+","+W+"H"+$[1])}),x.plotPoints(c,{x:l,y},w,d)})}},95908:function(j,H,e){var g=e(33428),P=e(76308),a=e(49224).stylePoints;j.exports=function(M){var v=g.select(M).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=g.select(this),i=r.box||{},n=i.line||{},u=r.meanline||{},f=u.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,i.fillcolor);var l={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};t.selectAll("path.mean").style(l).call(P.stroke,u.color),t.selectAll("path.meanline").style(l).call(P.stroke,u.color),a(t,r,M)})}},58168:function(j,H,e){var g=e(49084),P=e(50048),a=e(16716),x=e(45464),M=e(92880).extendFlat,v=e(67824).overrideAll,p=j.exports=v(M({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:a.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:M({},x.hoverinfo),showlegend:M({},x.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(j,H,e){var g=e(67792).gl_mesh3d,P=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,x=e(43080),M=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(u,f,l){this.scene=u,this.uid=l,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(u){if(u.object===this.mesh){var f=u.data.index,l=this.data._meshX[f],y=this.data._meshY[f],h=this.data._meshZ[f],S=this.data._Ys.length,c=this.data._Zs.length,o=p(l,this.data._Xs).id,d=p(y,this.data._Ys).id,w=p(h,this.data._Zs).id,A=u.index=w+c*d+c*S*o;u.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var C=this.data.hovertext||this.data.text;return a(C)&&C[A]!==void 0?u.textLabel=C[A]:C&&(u.textLabel=C),!0}},i.update=function(u){var f=this.scene,l=f.fullSceneLayout;this.data=r(u);function y(d,w,A,C){return w.map(function(m){return d.d2l(m,0,C)*A})}var h=v(y(l.xaxis,u._meshX,f.dataScale[0],u.xcalendar),y(l.yaxis,u._meshY,f.dataScale[1],u.ycalendar),y(l.zaxis,u._meshZ,f.dataScale[2],u.zcalendar)),S=v(u._meshI,u._meshJ,u._meshK),c={positions:h,cells:S,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,opacityscale:u.opacityscale,contourEnable:u.contour.show,contourColor:x(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},o=M(u);c.vertexIntensity=u._meshIntensity,c.vertexIntensityBounds=[o.min,o.max],c.colormap=P(u),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(u,f){var l=u.glplot.gl,y=g({gl:l}),h=new t(u,y,f.uid);return y._trace=h,h.update(f),u.glplot.add(y),h}j.exports=n},12448:function(j,H,e){var g=e(3400),P=e(58168),a=e(70548).supplyIsoDefaults,x=e(60192).opacityscaleDefaults;j.exports=function(v,p,r,t){function i(n,u){return g.coerce(v,p,P,n,u)}a(v,p,r,t,i),x(v,p,t,i)}},67776:function(j,H,e){j.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(j,H,e){var g=e(20832),P=e(52904).line,a=e(45464),x=e(29736).axisHoverFormat,M=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function i(n){return{marker:{color:r({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}j.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),hovertext:g.hovertext,hovertemplate:M({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:i(),decreasing:i(),totals:i(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup}},73540:function(j,H,e){var g=e(54460),P=e(1220),a=e(3400).mergeArray,x=e(4500),M=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}j.exports=function(t,i){var n=g.getFromId(t,i.xaxis||"x"),u=g.getFromId(t,i.yaxis||"y"),f,l,y,h,S,c;i.orientation==="h"?(f=n.makeCalcdata(i,"x"),y=u.makeCalcdata(i,"y"),h=P(i,u,"y",y),S=!!i.yperiodalignment,c="y"):(f=u.makeCalcdata(i,"y"),y=n.makeCalcdata(i,"x"),h=P(i,n,"x",y),S=!!i.xperiodalignment,c="x"),l=h.vals;for(var o=Math.min(l.length,f.length),d=new Array(o),w=0,A,C=!1,m=0;m<o;m++){var E=f[m]||0,b=!1;(f[m]!==M||p(i.measure[m])||v(i.measure[m]))&&m+1<o&&(f[m+1]!==M||p(i.measure[m+1])||v(i.measure[m+1]))&&(b=!0);var s=d[m]={i:m,p:l[m],s:E,rawS:E,cNext:b};v(i.measure[m])?(w=s.s,s.isSum=!0,s.dir="totals",s.s=w):p(i.measure[m])?(s.isSum=!0,s.dir="totals",s.s=w):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",A=s.s,s.s=w+A,w+=A),s.dir==="totals"&&(C=!0),S&&(d[m].orig_p=y[m],d[m][c+"End"]=h.ends[m],d[m][c+"Start"]=h.starts[m]),i.ids&&(s.id=String(i.ids[m])),s.v=(i.base||0)+w}return d.length&&(d[0].hasTotals=C),a(i.text,d,"tx"),a(i.hovertext,d,"htx"),x(d,i),d}},10213:function(j){j.exports={eventDataKeys:["initial","delta","final"]}},50152:function(j,H,e){var g=e(96376).setGroupPositions;j.exports=function(a,x){var M=a._fullLayout,v=a._fullData,p=a.calcdata,r=x.xaxis,t=x.yaxis,i=[],n=[],u=[],f,l;for(l=0;l<v.length;l++){var y=v[l];y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="waterfall"&&(f=p[l],y.orientation==="h"?u.push(f):n.push(f),i.push(f))}var h={mode:M.waterfallmode,norm:M.waterfallnorm,gap:M.waterfallgap,groupgap:M.waterfallgroupgap};for(g(a,r,t,n,h),g(a,t,r,u,h),l=0;l<i.length;l++){f=i[l];for(var S=0;S<f.length;S++){var c=f[S];c.isSum===!1&&(c.s0+=S===0?0:f[S-1].s),S+1<f.length&&(f[S].nextP0=f[S+1].p0,f[S].nextS0=f[S+1].s0)}}}},24224:function(j,H,e){var g=e(3400),P=e(20011),a=e(31508).handleText,x=e(43980),M=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,i=r.DECREASING.COLOR,n="#4499FF";function u(y,h,S){y(h+".marker.color",S),y(h+".marker.line.color",p.defaultLine),y(h+".marker.line.width")}function f(y,h,S,c){function o(m,E){return g.coerce(y,h,v,m,E)}var d=x(y,h,c,o);if(!d){h.visible=!1;return}M(y,h,c,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var w=o("textposition");a(y,h,c,o,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),u(o,"increasing",t),u(o,"decreasing",i),u(o,"totals",n);var A=o("connector.visible");if(A){o("connector.mode");var C=o("connector.line.width");C&&(o("connector.line.color"),o("connector.line.dash"))}}function l(y,h){var S,c;function o(w){return g.coerce(c._input,c,v,w)}if(h.waterfallmode==="group")for(var d=0;d<y.length;d++)c=y[d],S=c._input,P(S,c,h,o)}j.exports={supplyDefaults:f,crossTraceDefaults:l}},53256:function(j){j.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},94196:function(j,H,e){var g=e(54460).hoverLabelText,P=e(76308).opacity,a=e(63400).hoverOnBars,x=e(48164),M={increasing:x.INCREASING.SYMBOL,decreasing:x.DECREASING.SYMBOL};j.exports=function(r,t,i,n,u){var f=a(r,t,i,n,u);if(!f)return;var l=f.cd,y=l[0].trace,h=y.orientation==="h",S=h?"x":"y",c=h?r.xa:r.ya;function o(T){return g(c,T,y[S+"hoverformat"])}var d=f.index,w=l[d],A=w.isSum?w.b+w.s:w.rawS;f.initial=w.b+w.s-A,f.delta=A,f.final=f.initial+f.delta;var C=o(Math.abs(f.delta));f.deltaLabel=A<0?"("+C+")":C,f.finalLabel=o(f.final),f.initialLabel=o(f.initial);var m=w.hi||y.hoverinfo,E=[];if(m&&m!=="none"&&m!=="skip"){var b=m==="all",s=m.split("+"),L=function(T){return b||s.indexOf(T)!==-1};w.isSum||(L("final")&&(h?!L("x"):!L("y"))&&E.push(f.finalLabel),L("delta")&&(A<0?E.push(f.deltaLabel+" "+M.decreasing):E.push(f.deltaLabel+" "+M.increasing)),L("initial")&&E.push("Initial: "+f.initialLabel))}return E.length&&(f.extraText=E.join("<br>")),f.color=v(y,w),[f]};function v(p,r){var t=p[r.dir].marker,i=t.color,n=t.line.color,u=t.line.width;if(P(i))return i;if(P(n)&&u)return n}},95952:function(j,H,e){j.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(j){j.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(j,H,e){var g=e(3400),P=e(91352);j.exports=function(a,x,M){var v=!1;function p(i,n){return g.coerce(a,x,P,i,n)}for(var r=0;r<M.length;r++){var t=M[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(j,H,e){var g=e(33428),P=e(3400),a=e(43616),x=e(39032).BADNUM,M=e(98184),v=e(82744).clearMinTextSize;j.exports=function(i,n,u,f){var l=i._fullLayout;v("waterfall",l),M.plot(i,n,u,f,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(i,n,u,f)};function p(t,i,n,u){var f=i.xaxis,l=i.yaxis;P.makeTraceGroups(u,n,"trace bars").each(function(y){var h=g.select(this),S=y[0].trace,c=P.ensureSingle(h,"g","lines");if(!S.connector||!S.connector.visible){c.remove();return}var o=S.orientation==="h",d=S.connector.mode,w=c.selectAll("g.line").data(P.identity);w.enter().append("g").classed("line",!0),w.exit().remove();var A=w.size();w.each(function(C,m){if(!(m!==A-1&&!C.cNext)){var E=r(C,f,l,o),b=E[0],s=E[1],L="";b[0]!==x&&s[0]!==x&&b[1]!==x&&s[1]!==x&&(d==="spanning"&&!C.isSum&&m>0&&(o?L+="M"+b[0]+","+s[1]+"V"+s[0]:L+="M"+b[1]+","+s[0]+"H"+b[0]),d!=="between"&&(C.isSum||m<A-1)&&(o?L+="M"+b[1]+","+s[0]+"V"+s[1]:L+="M"+b[0]+","+s[1]+"H"+b[1]),b[2]!==x&&s[2]!==x&&(o?L+="M"+b[1]+","+s[1]+"V"+s[2]:L+="M"+b[1]+","+s[1]+"H"+b[2])),L===""&&(L="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,i.layerClipId,t)}})})}function r(t,i,n,u){var f=[],l=[],y=u?i:n,h=u?n:i;return f[0]=y.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),f[1]=y.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),f[2]=y.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),u?[f,l]:[l,f]}},12252:function(j,H,e){var g=e(33428),P=e(43616),a=e(76308),x=e(13448).DESELECTDIM,M=e(60100),v=e(82744).resizeText,p=M.styleTextPoints;function r(t,i,n){var u=n||g.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");v(t,u,"waterfall"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var l=g.select(this),y=f[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var S=y[h.dir].marker;g.select(this).call(a.fill,S.color).call(a.stroke,S.line.color).call(P.dashLine,S.line.dash,S.line.width).style("opacity",y.selectedpoints&&!h.selected?x:1)}}),p(l,y,t),l.selectAll(".lines").each(function(){var h=y.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}j.exports={style:r}},84224:function(j,H,e){var g=e(54460),P=e(3400),a=e(73060),x=e(60468).W,M=e(39032).BADNUM;H.moduleType="transform",H.name="aggregate";var v=H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;H.supplyDefaults=function(f,l){var y={},h;function S(T,k){return P.coerce(f,y,v,T,k)}var c=S("enabled");if(!c)return y;var o=a.findArrayAttributes(l),d={};for(h=0;h<o.length;h++)d[o[h]]=1;var w=S("groups");if(!Array.isArray(w)){if(!d[w])return y.enabled=!1,y;d[w]=0}var A=f.aggregations||[],C=y.aggregations=new Array(A.length),m;function E(T,k){return P.coerce(A[h],m,p,T,k)}for(h=0;h<A.length;h++){m={_index:h};var b=E("target"),s=E("func"),L=E("enabled");L&&b&&(d[b]||s==="count"&&d[b]===void 0)?(s==="stddev"&&E("funcmode"),d[b]=0,C[h]=m):C[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)d[o[h]]&&C.push({target:o[h],func:p.func.dflt,enabled:!0,_index:-1});return y},H.calcTransform=function(f,l,y){if(y.enabled){var h=y.groups,S=P.getTargetArray(l,{target:h});if(S){var c,o,d,w,A={},C={},m=[],E=x(l.transforms,y),b=S.length;for(l._length&&(b=Math.min(b,l._length)),c=0;c<b;c++)o=S[c],d=A[o],d===void 0?(A[o]=m.length,w=[c],m.push(w),C[A[o]]=E(c)):(m[d].push(c),C[A[o]]=(C[A[o]]||[]).concat(E(c)));y._indexToPoints=C;var s=y.aggregations;for(c=0;c<s.length;c++)r(f,l,m,s[c]);typeof h=="string"&&r(f,l,m,{target:h,func:"first",enabled:!0}),l._length=m.length}}};function r(f,l,y,h){if(h.enabled){for(var S=h.target,c=P.nestedProperty(l,S),o=c.get(),d=g.getDataConversions(f,l,S,o),w=t(h,d),A=new Array(y.length),C=0;C<y.length;C++)A[C]=w(o,y[C]);c.set(A),h.func==="count"&&P.pushUnique(l._arrayAttrs,S)}}function t(f,l){var y=f.func,h=l.d2c,S=l.c2d;switch(y){case"count":return i;case"first":return n;case"last":return u;case"sum":return function(c,o){for(var d=0,w=0;w<o.length;w++){var A=h(c[o[w]]);A!==M&&(d+=A)}return S(d)};case"avg":return function(c,o){for(var d=0,w=0,A=0;A<o.length;A++){var C=h(c[o[A]]);C!==M&&(d+=C,w++)}return w?S(d/w):M};case"min":return function(c,o){for(var d=1/0,w=0;w<o.length;w++){var A=h(c[o[w]]);A!==M&&(d=Math.min(d,A))}return d===1/0?M:S(d)};case"max":return function(c,o){for(var d=-1/0,w=0;w<o.length;w++){var A=h(c[o[w]]);A!==M&&(d=Math.max(d,A))}return d===-1/0?M:S(d)};case"range":return function(c,o){for(var d=1/0,w=-1/0,A=0;A<o.length;A++){var C=h(c[o[A]]);C!==M&&(d=Math.min(d,C),w=Math.max(w,C))}return w===-1/0||d===1/0?M:S(w-d)};case"change":return function(c,o){var d=h(c[o[0]]),w=h(c[o[o.length-1]]);return d===M||w===M?M:S(w-d)};case"median":return function(c,o){for(var d=[],w=0;w<o.length;w++){var A=h(c[o[w]]);A!==M&&d.push(A)}if(!d.length)return M;d.sort(P.sorterAsc);var C=(d.length-1)/2;return S((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(c,o){for(var d={},w=0,A=M,C=0;C<o.length;C++){var m=h(c[o[C]]);if(m!==M){var E=d[m]=(d[m]||0)+1;E>w&&(w=E,A=m)}}return w?S(A):M};case"rms":return function(c,o){for(var d=0,w=0,A=0;A<o.length;A++){var C=h(c[o[A]]);C!==M&&(d+=C*C,w++)}return w?S(Math.sqrt(d/w)):M};case"stddev":return function(c,o){var d=0,w=0,A=1,C=M,m;for(m=0;m<o.length&&C===M;m++)C=h(c[o[m]]);if(C===M)return M;for(;m<o.length;m++){var E=h(c[o[m]]);if(E!==M){var b=E-C;d+=b,w+=b*b,A++}}var s=f.funcmode==="sample"?A-1:A;return s?Math.sqrt((w-d*d/A)/s):0}}}function i(f,l){return l.length}function n(f,l){return f[l[0]]}function u(f,l){return f[l[l.length-1]]}},76744:function(j,H,e){var g=e(3400),P=e(24040),a=e(54460),x=e(60468).W,M=e(69104),v=M.COMPARISON_OPS,p=M.INTERVAL_OPS,r=M.SET_OPS;H.moduleType="transform",H.name="filter",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},H.supplyDefaults=function(i){var n={};function u(h,S){return g.coerce(i,n,H.attributes,h,S)}var f=u("enabled");if(f){var l=u("target");if(g.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;u("preservegaps"),u("operation"),u("value");var y=P.getComponentMethod("calendars","handleDefaults");y(i,n,"valuecalendar",null),y(i,n,"targetcalendar",null)}return n},H.calcTransform=function(i,n,u){if(!u.enabled)return;var f=g.getTargetArray(n,u);if(!f)return;var l=u.target,y=f.length;n._length&&(y=Math.min(y,n._length));var h=u.targetcalendar,S=n._arrayAttrs,c=u.preservegaps;if(typeof l=="string"){var o=g.nestedProperty(n,l+"calendar").get();o&&(h=o)}var d=a.getDataToCoordFunc(i,n,l,f),w=t(u,d,h),A={},C={},m=0;function E(_,B){for(var F=0;F<S.length;F++){var O=g.nestedProperty(n,S[F]);_(O,B)}}var b,s;c?(b=function(_){A[_.astr]=g.extendDeep([],_.get()),_.set(new Array(y))},s=function(_,B){var F=A[_.astr][B];_.get()[B]=F}):(b=function(_){A[_.astr]=g.extendDeep([],_.get()),_.set([])},s=function(_,B){var F=A[_.astr][B];_.get().push(F)}),E(b);for(var L=x(n.transforms,u),T=0;T<y;T++){var k=w(f[T]);k?(E(s,T),C[m++]=L(T)):c&&m++}u._indexToPoints=C,n._length=m};function t(i,n,u){var f=i.operation,l=i.value,y=g.isArrayOrTypedArray(l);function h(d){return d.indexOf(f)!==-1}var S=function(d){return n(d,0,i.valuecalendar)},c=function(d){return n(d,0,u)},o;switch(h(v)?o=S(y?l[0]:l):h(p)?o=y?[S(l[0]),S(l[1])]:[S(l),S(l)]:h(r)&&(o=y?l.map(S):[S(l)]),f){case"=":return function(d){return c(d)===o};case"!=":return function(d){return c(d)!==o};case"<":return function(d){return c(d)<o};case"<=":return function(d){return c(d)<=o};case">":return function(d){return c(d)>o};case">=":return function(d){return c(d)>=o};case"[]":return function(d){var w=c(d);return w>=o[0]&&w<=o[1]};case"()":return function(d){var w=c(d);return w>o[0]&&w<o[1]};case"[)":return function(d){var w=c(d);return w>=o[0]&&w<o[1]};case"(]":return function(d){var w=c(d);return w>o[0]&&w<=o[1]};case"][":return function(d){var w=c(d);return w<=o[0]||w>=o[1]};case")(":return function(d){var w=c(d);return w<o[0]||w>o[1]};case"](":return function(d){var w=c(d);return w<=o[0]||w>o[1]};case")[":return function(d){var w=c(d);return w<o[0]||w>=o[1]};case"{}":return function(d){return o.indexOf(c(d))!==-1};case"}{":return function(d){return o.indexOf(c(d))===-1}}}},32028:function(j,H,e){var g=e(3400),P=e(73060),a=e(7316),x=e(60468).W;H.moduleType="transform",H.name="groupby",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},H.supplyDefaults=function(v,p,r){var t,i={};function n(S,c){return g.coerce(v,i,H.attributes,S,c)}var u=n("enabled");if(!u)return i;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var f=v.styles,l=i.styles=[];if(f)for(t=0;t<f.length;t++){var y=l[t]={};g.coerce(f[t],l[t],H.attributes.styles,"target");var h=g.coerce(f[t],l[t],H.attributes.styles,"value");g.isPlainObject(h)?y.value=g.extendDeep({},h):h&&delete y.value}return i},H.transform=function(v,p){var r,t,i,n=[];for(t=0;t<v.length;t++)for(r=M(v[t],p),i=0;i<r.length;i++)n.push(r[i]);return n};function M(v,p){var r,t,i,n,u,f,l,y,h,S,c=p.transform,o=p.transformIndex,d=v.transforms[o].groups,w=x(v.transforms,c);if(!g.isArrayOrTypedArray(d)||d.length===0)return[v];var A=g.filterUnique(d),C=new Array(A.length),m=d.length,E=P.findArrayAttributes(v),b=c.styles||[],s={};for(r=0;r<b.length;r++)s[b[r].target]=b[r].value;c.styles&&(S=g.keyedContainer(c,"styles","target","value.name"));var L={},T={};for(r=0;r<A.length;r++){f=A[r],L[f]=r,T[f]=0,l=C[r]=g.extendDeepNoArrays({},v),l._group=f,l.transforms[o]._indexToPoints={};var k=null;for(S&&(k=S.get(f)),k||k===""?l.name=k:l.name=g.templateString(c.nameformat,{trace:v.name,group:f}),y=l.transforms,l.transforms=[],t=0;t<y.length;t++)l.transforms[t]=g.extendDeepNoArrays({},y[t]);for(t=0;t<E.length;t++)g.nestedProperty(l,E[t]).set([])}for(i=0;i<E.length;i++){for(n=E[i],t=0,h=[];t<A.length;t++)h[t]=g.nestedProperty(C[t],n).get();for(u=g.nestedProperty(v,n).get(),t=0;t<m;t++)h[L[d[t]]].push(u[t])}for(t=0;t<m;t++){l=C[L[d[t]]];var _=l.transforms[o]._indexToPoints;_[T[d[t]]]=w(t),T[d[t]]++}for(r=0;r<A.length;r++)f=A[r],l=C[r],a.clearExpandedTraceDefaultColors(l),l=g.extendDeepNoArrays(l,s[f]||{});return C}},60468:function(j,H){H.W=function(e,g){for(var P,a,x=0;x<e.length&&(P=e[x],P!==g);x++)!P._indexToPoints||P.enabled===!1||(a=P._indexToPoints);var M=a?function(v){return a[v]}:function(v){return[v]};return M}},76272:function(j,H,e){var g=e(3400),P=e(54460),a=e(60468).W,x=e(39032).BADNUM;H.moduleType="transform",H.name="sort",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},H.supplyDefaults=function(p){var r={};function t(n,u){return g.coerce(p,r,H.attributes,n,u)}var i=t("enabled");return i&&(t("target"),t("order")),r},H.calcTransform=function(p,r,t){if(t.enabled){var i=g.getTargetArray(r,t);if(i){var n=t.target,u=i.length;r._length&&(u=Math.min(u,r._length));var f=r._arrayAttrs,l=P.getDataToCoordFunc(p,r,n,i),y=M(t,i,l,u),h=a(r.transforms,t),S={},c,o;for(c=0;c<f.length;c++){var d=g.nestedProperty(r,f[c]),w=d.get(),A=new Array(u);for(o=0;o<u;o++)A[o]=w[y[o]];d.set(A)}for(o=0;o<u;o++)S[o]=h(y[o]);t._indexToPoints=S,r._length=u}}};function M(p,r,t,i){var n=new Array(i),u=new Array(i),f;for(f=0;f<i;f++)n[f]={v:r[f],i:f};for(n.sort(v(p,t)),f=0;f<i;f++)u[f]=n[f].i;return u}function v(p,r){switch(p.order){case"ascending":return function(t,i){var n=r(t.v),u=r(i.v);return n===x?1:u===x?-1:n-u};case"descending":return function(t,i){var n=r(t.v),u=r(i.v);return n===x?1:u===x?-1:u-n}}}},25788:function(j,H){H.version="2.30.1"},67792:function(j,H,e){var g=e(4168);(function(a,x){j.exports=x()})(self,function(){return function(){var P={7386:function(v,p,r){v.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(be,me){if(!(be instanceof me))throw new TypeError("Cannot call a class as a function")}function i(be,me){for(var Me=0;Me<me.length;Me++){var Te=me[Me];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(be,Te.key,Te)}}function n(be,me,Me){return me&&i(be.prototype,me),Me&&i(be,Me),Object.defineProperty(be,"prototype",{writable:!1}),be}function u(be,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(me&&me.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),me&&f(be,me)}function f(be,me){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,Oe){return Te.__proto__=Oe,Te},f(be,me)}function l(be){var me=S();return function(){var Te=c(be),Oe;if(me){var Ke=c(this).constructor;Oe=Reflect.construct(Te,arguments,Ke)}else Oe=Te.apply(this,arguments);return y(this,Oe)}}function y(be,me){if(me&&(o(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(be)}function h(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(be){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},c(be)}function o(be){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},o(be)}var d=r(3910),w=r(3187),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=b,p.h2=50;var C=2147483647;b.TYPED_ARRAY_SUPPORT=m(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{var be=new Uint8Array(1),me={foo:function(){return 42}};return Object.setPrototypeOf(me,Uint8Array.prototype),Object.setPrototypeOf(be,me),be.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function E(be){if(be>C)throw new RangeError('The value "'+be+'" is invalid for option "size"');var me=new Uint8Array(be);return Object.setPrototypeOf(me,b.prototype),me}function b(be,me,Me){if(typeof be=="number"){if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(be)}return s(be,me,Me)}b.poolSize=8192;function s(be,me,Me){if(typeof be=="string")return _(be,me);if(ArrayBuffer.isView(be))return F(be);if(be==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(be));if(_e(be,ArrayBuffer)||be&&_e(be.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(be,SharedArrayBuffer)||be&&_e(be.buffer,SharedArrayBuffer)))return O(be,me,Me);if(typeof be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Te=be.valueOf&&be.valueOf();if(Te!=null&&Te!==be)return b.from(Te,me,Me);var Oe=N(be);if(Oe)return Oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof be[Symbol.toPrimitive]=="function")return b.from(be[Symbol.toPrimitive]("string"),me,Me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(be))}b.from=function(be,me,Me){return s(be,me,Me)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function L(be){if(typeof be!="number")throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function T(be,me,Me){return L(be),be<=0?E(be):me!==void 0?typeof Me=="string"?E(be).fill(me,Me):E(be).fill(me):E(be)}b.alloc=function(be,me,Me){return T(be,me,Me)};function k(be){return L(be),E(be<0?0:z(be)|0)}b.allocUnsafe=function(be){return k(be)},b.allocUnsafeSlow=function(be){return k(be)};function _(be,me){if((typeof me!="string"||me==="")&&(me="utf8"),!b.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Me=V(be,me)|0,Te=E(Me),Oe=Te.write(be,me);return Oe!==Me&&(Te=Te.slice(0,Oe)),Te}function B(be){for(var me=be.length<0?0:z(be.length)|0,Me=E(me),Te=0;Te<me;Te+=1)Me[Te]=be[Te]&255;return Me}function F(be){if(_e(be,Uint8Array)){var me=new Uint8Array(be);return O(me.buffer,me.byteOffset,me.byteLength)}return B(be)}function O(be,me,Me){if(me<0||be.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<me+(Me||0))throw new RangeError('"length" is outside of buffer bounds');var Te;return me===void 0&&Me===void 0?Te=new Uint8Array(be):Me===void 0?Te=new Uint8Array(be,me):Te=new Uint8Array(be,me,Me),Object.setPrototypeOf(Te,b.prototype),Te}function N(be){if(b.isBuffer(be)){var me=z(be.length)|0,Me=E(me);return Me.length===0||be.copy(Me,0,0,me),Me}if(be.length!==void 0)return typeof be.length!="number"||Ve(be.length)?E(0):B(be);if(be.type==="Buffer"&&Array.isArray(be.data))return B(be.data)}function z(be){if(be>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return be|0}b.isBuffer=function(me){return me!=null&&me._isBuffer===!0&&me!==b.prototype},b.compare=function(me,Me){if(_e(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),_e(Me,Uint8Array)&&(Me=b.from(Me,Me.offset,Me.byteLength)),!b.isBuffer(me)||!b.isBuffer(Me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===Me)return 0;for(var Te=me.length,Oe=Me.length,Ke=0,nt=Math.min(Te,Oe);Ke<nt;++Ke)if(me[Ke]!==Me[Ke]){Te=me[Ke],Oe=Me[Ke];break}return Te<Oe?-1:Oe<Te?1:0},b.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(me,Me){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(me.length===0)return b.alloc(0);var Te;if(Me===void 0)for(Me=0,Te=0;Te<me.length;++Te)Me+=me[Te].length;var Oe=b.allocUnsafe(Me),Ke=0;for(Te=0;Te<me.length;++Te){var nt=me[Te];if(_e(nt,Uint8Array))Ke+nt.length>Oe.length?(b.isBuffer(nt)||(nt=b.from(nt)),nt.copy(Oe,Ke)):Uint8Array.prototype.set.call(Oe,nt,Ke);else if(b.isBuffer(nt))nt.copy(Oe,Ke);else throw new TypeError('"list" argument must be an Array of Buffers');Ke+=nt.length}return Oe};function V(be,me){if(b.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||_e(be,ArrayBuffer))return be.byteLength;if(typeof be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(be));var Me=be.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&Me===0)return 0;for(var Oe=!1;;)switch(me){case"ascii":case"latin1":case"binary":return Me;case"utf8":case"utf-8":return st(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me*2;case"hex":return Me>>>1;case"base64":return At(be).length;default:if(Oe)return Te?-1:st(be).length;me=(""+me).toLowerCase(),Oe=!0}}b.byteLength=V;function W(be,me,Me){var Te=!1;if((me===void 0||me<0)&&(me=0),me>this.length||((Me===void 0||Me>this.length)&&(Me=this.length),Me<=0)||(Me>>>=0,me>>>=0,Me<=me))return"";for(be||(be="utf8");;)switch(be){case"hex":return ce(this,me,Me);case"utf8":case"utf-8":return se(this,me,Me);case"ascii":return le(this,me,Me);case"latin1":case"binary":return ie(this,me,Me);case"base64":return q(this,me,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,me,Me);default:if(Te)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),Te=!0}}b.prototype._isBuffer=!0;function $(be,me,Me){var Te=be[me];be[me]=be[Me],be[Me]=Te}b.prototype.swap16=function(){var me=this.length;if(me%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Me=0;Me<me;Me+=2)$(this,Me,Me+1);return this},b.prototype.swap32=function(){var me=this.length;if(me%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Me=0;Me<me;Me+=4)$(this,Me,Me+3),$(this,Me+1,Me+2);return this},b.prototype.swap64=function(){var me=this.length;if(me%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Me=0;Me<me;Me+=8)$(this,Me,Me+7),$(this,Me+1,Me+6),$(this,Me+2,Me+5),$(this,Me+3,Me+4);return this},b.prototype.toString=function(){var me=this.length;return me===0?"":arguments.length===0?se(this,0,me):W.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(me){if(!b.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me?!0:b.compare(this,me)===0},b.prototype.inspect=function(){var me="",Me=p.h2;return me=this.toString("hex",0,Me).replace(/(.{2})/g,"$1 ").trim(),this.length>Me&&(me+=" ... "),"<Buffer "+me+">"},A&&(b.prototype[A]=b.prototype.inspect),b.prototype.compare=function(me,Me,Te,Oe,Ke){if(_e(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),!b.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(me));if(Me===void 0&&(Me=0),Te===void 0&&(Te=me?me.length:0),Oe===void 0&&(Oe=0),Ke===void 0&&(Ke=this.length),Me<0||Te>me.length||Oe<0||Ke>this.length)throw new RangeError("out of range index");if(Oe>=Ke&&Me>=Te)return 0;if(Oe>=Ke)return-1;if(Me>=Te)return 1;if(Me>>>=0,Te>>>=0,Oe>>>=0,Ke>>>=0,this===me)return 0;for(var nt=Ke-Oe,pt=Te-Me,yt=Math.min(nt,pt),Yt=this.slice(Oe,Ke),Xt=me.slice(Me,Te),St=0;St<yt;++St)if(Yt[St]!==Xt[St]){nt=Yt[St],pt=Xt[St];break}return nt<pt?-1:pt<nt?1:0};function re(be,me,Me,Te,Oe){if(be.length===0)return-1;if(typeof Me=="string"?(Te=Me,Me=0):Me>2147483647?Me=2147483647:Me<-2147483648&&(Me=-2147483648),Me=+Me,Ve(Me)&&(Me=Oe?0:be.length-1),Me<0&&(Me=be.length+Me),Me>=be.length){if(Oe)return-1;Me=be.length-1}else if(Me<0)if(Oe)Me=0;else return-1;if(typeof me=="string"&&(me=b.from(me,Te)),b.isBuffer(me))return me.length===0?-1:ne(be,me,Me,Te,Oe);if(typeof me=="number")return me=me&255,typeof Uint8Array.prototype.indexOf=="function"?Oe?Uint8Array.prototype.indexOf.call(be,me,Me):Uint8Array.prototype.lastIndexOf.call(be,me,Me):ne(be,[me],Me,Te,Oe);throw new TypeError("val must be string, number or Buffer")}function ne(be,me,Me,Te,Oe){var Ke=1,nt=be.length,pt=me.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(be.length<2||me.length<2)return-1;Ke=2,nt/=2,pt/=2,Me/=2}function yt(Kt,mr){return Ke===1?Kt[mr]:Kt.readUInt16BE(mr*Ke)}var Yt;if(Oe){var Xt=-1;for(Yt=Me;Yt<nt;Yt++)if(yt(be,Yt)===yt(me,Xt===-1?0:Yt-Xt)){if(Xt===-1&&(Xt=Yt),Yt-Xt+1===pt)return Xt*Ke}else Xt!==-1&&(Yt-=Yt-Xt),Xt=-1}else for(Me+pt>nt&&(Me=nt-pt),Yt=Me;Yt>=0;Yt--){for(var St=!0,kt=0;kt<pt;kt++)if(yt(be,Yt+kt)!==yt(me,kt)){St=!1;break}if(St)return Yt}return-1}b.prototype.includes=function(me,Me,Te){return this.indexOf(me,Me,Te)!==-1},b.prototype.indexOf=function(me,Me,Te){return re(this,me,Me,Te,!0)},b.prototype.lastIndexOf=function(me,Me,Te){return re(this,me,Me,Te,!1)};function ue(be,me,Me,Te){Me=Number(Me)||0;var Oe=be.length-Me;Te?(Te=Number(Te),Te>Oe&&(Te=Oe)):Te=Oe;var Ke=me.length;Te>Ke/2&&(Te=Ke/2);var nt;for(nt=0;nt<Te;++nt){var pt=parseInt(me.substr(nt*2,2),16);if(Ve(pt))return nt;be[Me+nt]=pt}return nt}function J(be,me,Me,Te){return et(st(me,be.length-Me),be,Me,Te)}function X(be,me,Me,Te){return et(ht(me),be,Me,Te)}function oe(be,me,Me,Te){return et(At(me),be,Me,Te)}function Y(be,me,Me,Te){return et(vt(me,be.length-Me),be,Me,Te)}b.prototype.write=function(me,Me,Te,Oe){if(Me===void 0)Oe="utf8",Te=this.length,Me=0;else if(Te===void 0&&typeof Me=="string")Oe=Me,Te=this.length,Me=0;else if(isFinite(Me))Me=Me>>>0,isFinite(Te)?(Te=Te>>>0,Oe===void 0&&(Oe="utf8")):(Oe=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ke=this.length-Me;if((Te===void 0||Te>Ke)&&(Te=Ke),me.length>0&&(Te<0||Me<0)||Me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var nt=!1;;)switch(Oe){case"hex":return ue(this,me,Me,Te);case"utf8":case"utf-8":return J(this,me,Me,Te);case"ascii":case"latin1":case"binary":return X(this,me,Me,Te);case"base64":return oe(this,me,Me,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,me,Me,Te);default:if(nt)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),nt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(be,me,Me){return me===0&&Me===be.length?d.fromByteArray(be):d.fromByteArray(be.slice(me,Me))}function se(be,me,Me){Me=Math.min(be.length,Me);for(var Te=[],Oe=me;Oe<Me;){var Ke=be[Oe],nt=null,pt=Ke>239?4:Ke>223?3:Ke>191?2:1;if(Oe+pt<=Me){var yt=void 0,Yt=void 0,Xt=void 0,St=void 0;switch(pt){case 1:Ke<128&&(nt=Ke);break;case 2:yt=be[Oe+1],(yt&192)===128&&(St=(Ke&31)<<6|yt&63,St>127&&(nt=St));break;case 3:yt=be[Oe+1],Yt=be[Oe+2],(yt&192)===128&&(Yt&192)===128&&(St=(Ke&15)<<12|(yt&63)<<6|Yt&63,St>2047&&(St<55296||St>57343)&&(nt=St));break;case 4:yt=be[Oe+1],Yt=be[Oe+2],Xt=be[Oe+3],(yt&192)===128&&(Yt&192)===128&&(Xt&192)===128&&(St=(Ke&15)<<18|(yt&63)<<12|(Yt&63)<<6|Xt&63,St>65535&&St<1114112&&(nt=St))}}nt===null?(nt=65533,pt=1):nt>65535&&(nt-=65536,Te.push(nt>>>10&1023|55296),nt=56320|nt&1023),Te.push(nt),Oe+=pt}return K(Te)}var Q=4096;function K(be){var me=be.length;if(me<=Q)return String.fromCharCode.apply(String,be);for(var Me="",Te=0;Te<me;)Me+=String.fromCharCode.apply(String,be.slice(Te,Te+=Q));return Me}function le(be,me,Me){var Te="";Me=Math.min(be.length,Me);for(var Oe=me;Oe<Me;++Oe)Te+=String.fromCharCode(be[Oe]&127);return Te}function ie(be,me,Me){var Te="";Me=Math.min(be.length,Me);for(var Oe=me;Oe<Me;++Oe)Te+=String.fromCharCode(be[Oe]);return Te}function ce(be,me,Me){var Te=be.length;(!me||me<0)&&(me=0),(!Me||Me<0||Me>Te)&&(Me=Te);for(var Oe="",Ke=me;Ke<Me;++Ke)Oe+=Ze[be[Ke]];return Oe}function ye(be,me,Me){for(var Te=be.slice(me,Me),Oe="",Ke=0;Ke<Te.length-1;Ke+=2)Oe+=String.fromCharCode(Te[Ke]+Te[Ke+1]*256);return Oe}b.prototype.slice=function(me,Me){var Te=this.length;me=~~me,Me=Me===void 0?Te:~~Me,me<0?(me+=Te,me<0&&(me=0)):me>Te&&(me=Te),Me<0?(Me+=Te,Me<0&&(Me=0)):Me>Te&&(Me=Te),Me<me&&(Me=me);var Oe=this.subarray(me,Me);return Object.setPrototypeOf(Oe,b.prototype),Oe};function Ce(be,me,Me){if(be%1!==0||be<0)throw new RangeError("offset is not uint");if(be+me>Me)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(me,Me,Te){me=me>>>0,Me=Me>>>0,Te||Ce(me,Me,this.length);for(var Oe=this[me],Ke=1,nt=0;++nt<Me&&(Ke*=256);)Oe+=this[me+nt]*Ke;return Oe},b.prototype.readUintBE=b.prototype.readUIntBE=function(me,Me,Te){me=me>>>0,Me=Me>>>0,Te||Ce(me,Me,this.length);for(var Oe=this[me+--Me],Ke=1;Me>0&&(Ke*=256);)Oe+=this[me+--Me]*Ke;return Oe},b.prototype.readUint8=b.prototype.readUInt8=function(me,Me){return me=me>>>0,Me||Ce(me,1,this.length),this[me]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(me,Me){return me=me>>>0,Me||Ce(me,2,this.length),this[me]|this[me+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(me,Me){return me=me>>>0,Me||Ce(me,2,this.length),this[me]<<8|this[me+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+this[me+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),this[me]*16777216+(this[me+1]<<16|this[me+2]<<8|this[me+3])},b.prototype.readBigUInt64LE=He(function(me){me=me>>>0,dt(me,"offset");var Me=this[me],Te=this[me+7];(Me===void 0||Te===void 0)&&at(me,this.length-8);var Oe=Me+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24),Ke=this[++me]+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+Te*Math.pow(2,24);return BigInt(Oe)+(BigInt(Ke)<<BigInt(32))}),b.prototype.readBigUInt64BE=He(function(me){me=me>>>0,dt(me,"offset");var Me=this[me],Te=this[me+7];(Me===void 0||Te===void 0)&&at(me,this.length-8);var Oe=Me*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me],Ke=this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Te;return(BigInt(Oe)<<BigInt(32))+BigInt(Ke)}),b.prototype.readIntLE=function(me,Me,Te){me=me>>>0,Me=Me>>>0,Te||Ce(me,Me,this.length);for(var Oe=this[me],Ke=1,nt=0;++nt<Me&&(Ke*=256);)Oe+=this[me+nt]*Ke;return Ke*=128,Oe>=Ke&&(Oe-=Math.pow(2,8*Me)),Oe},b.prototype.readIntBE=function(me,Me,Te){me=me>>>0,Me=Me>>>0,Te||Ce(me,Me,this.length);for(var Oe=Me,Ke=1,nt=this[me+--Oe];Oe>0&&(Ke*=256);)nt+=this[me+--Oe]*Ke;return Ke*=128,nt>=Ke&&(nt-=Math.pow(2,8*Me)),nt},b.prototype.readInt8=function(me,Me){return me=me>>>0,Me||Ce(me,1,this.length),this[me]&128?(255-this[me]+1)*-1:this[me]},b.prototype.readInt16LE=function(me,Me){me=me>>>0,Me||Ce(me,2,this.length);var Te=this[me]|this[me+1]<<8;return Te&32768?Te|4294901760:Te},b.prototype.readInt16BE=function(me,Me){me=me>>>0,Me||Ce(me,2,this.length);var Te=this[me+1]|this[me]<<8;return Te&32768?Te|4294901760:Te},b.prototype.readInt32LE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},b.prototype.readInt32BE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},b.prototype.readBigInt64LE=He(function(me){me=me>>>0,dt(me,"offset");var Me=this[me],Te=this[me+7];(Me===void 0||Te===void 0)&&at(me,this.length-8);var Oe=this[me+4]+this[me+5]*Math.pow(2,8)+this[me+6]*Math.pow(2,16)+(Te<<24);return(BigInt(Oe)<<BigInt(32))+BigInt(Me+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24))}),b.prototype.readBigInt64BE=He(function(me){me=me>>>0,dt(me,"offset");var Me=this[me],Te=this[me+7];(Me===void 0||Te===void 0)&&at(me,this.length-8);var Oe=(Me<<24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me];return(BigInt(Oe)<<BigInt(32))+BigInt(this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Te)}),b.prototype.readFloatLE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),w.read(this,me,!0,23,4)},b.prototype.readFloatBE=function(me,Me){return me=me>>>0,Me||Ce(me,4,this.length),w.read(this,me,!1,23,4)},b.prototype.readDoubleLE=function(me,Me){return me=me>>>0,Me||Ce(me,8,this.length),w.read(this,me,!0,52,8)},b.prototype.readDoubleBE=function(me,Me){return me=me>>>0,Me||Ce(me,8,this.length),w.read(this,me,!1,52,8)};function Ae(be,me,Me,Te,Oe,Ke){if(!b.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(me>Oe||me<Ke)throw new RangeError('"value" argument is out of bounds');if(Me+Te>be.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(me,Me,Te,Oe){if(me=+me,Me=Me>>>0,Te=Te>>>0,!Oe){var Ke=Math.pow(2,8*Te)-1;Ae(this,me,Me,Te,Ke,0)}var nt=1,pt=0;for(this[Me]=me&255;++pt<Te&&(nt*=256);)this[Me+pt]=me/nt&255;return Me+Te},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(me,Me,Te,Oe){if(me=+me,Me=Me>>>0,Te=Te>>>0,!Oe){var Ke=Math.pow(2,8*Te)-1;Ae(this,me,Me,Te,Ke,0)}var nt=Te-1,pt=1;for(this[Me+nt]=me&255;--nt>=0&&(pt*=256);)this[Me+nt]=me/pt&255;return Me+Te},b.prototype.writeUint8=b.prototype.writeUInt8=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,1,255,0),this[Me]=me&255,Me+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,2,65535,0),this[Me]=me&255,this[Me+1]=me>>>8,Me+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,2,65535,0),this[Me]=me>>>8,this[Me+1]=me&255,Me+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,4,4294967295,0),this[Me+3]=me>>>24,this[Me+2]=me>>>16,this[Me+1]=me>>>8,this[Me]=me&255,Me+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,4,4294967295,0),this[Me]=me>>>24,this[Me+1]=me>>>16,this[Me+2]=me>>>8,this[Me+3]=me&255,Me+4};function ke(be,me,Me,Te,Oe){ut(me,Te,Oe,be,Me,7);var Ke=Number(me&BigInt(4294967295));be[Me++]=Ke,Ke=Ke>>8,be[Me++]=Ke,Ke=Ke>>8,be[Me++]=Ke,Ke=Ke>>8,be[Me++]=Ke;var nt=Number(me>>BigInt(32)&BigInt(4294967295));return be[Me++]=nt,nt=nt>>8,be[Me++]=nt,nt=nt>>8,be[Me++]=nt,nt=nt>>8,be[Me++]=nt,Me}function we(be,me,Me,Te,Oe){ut(me,Te,Oe,be,Me,7);var Ke=Number(me&BigInt(4294967295));be[Me+7]=Ke,Ke=Ke>>8,be[Me+6]=Ke,Ke=Ke>>8,be[Me+5]=Ke,Ke=Ke>>8,be[Me+4]=Ke;var nt=Number(me>>BigInt(32)&BigInt(4294967295));return be[Me+3]=nt,nt=nt>>8,be[Me+2]=nt,nt=nt>>8,be[Me+1]=nt,nt=nt>>8,be[Me]=nt,Me+8}b.prototype.writeBigUInt64LE=He(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,me,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=He(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return we(this,me,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(me,Me,Te,Oe){if(me=+me,Me=Me>>>0,!Oe){var Ke=Math.pow(2,8*Te-1);Ae(this,me,Me,Te,Ke-1,-Ke)}var nt=0,pt=1,yt=0;for(this[Me]=me&255;++nt<Te&&(pt*=256);)me<0&&yt===0&&this[Me+nt-1]!==0&&(yt=1),this[Me+nt]=(me/pt>>0)-yt&255;return Me+Te},b.prototype.writeIntBE=function(me,Me,Te,Oe){if(me=+me,Me=Me>>>0,!Oe){var Ke=Math.pow(2,8*Te-1);Ae(this,me,Me,Te,Ke-1,-Ke)}var nt=Te-1,pt=1,yt=0;for(this[Me+nt]=me&255;--nt>=0&&(pt*=256);)me<0&&yt===0&&this[Me+nt+1]!==0&&(yt=1),this[Me+nt]=(me/pt>>0)-yt&255;return Me+Te},b.prototype.writeInt8=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,1,127,-128),me<0&&(me=255+me+1),this[Me]=me&255,Me+1},b.prototype.writeInt16LE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,2,32767,-32768),this[Me]=me&255,this[Me+1]=me>>>8,Me+2},b.prototype.writeInt16BE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,2,32767,-32768),this[Me]=me>>>8,this[Me+1]=me&255,Me+2},b.prototype.writeInt32LE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,4,2147483647,-2147483648),this[Me]=me&255,this[Me+1]=me>>>8,this[Me+2]=me>>>16,this[Me+3]=me>>>24,Me+4},b.prototype.writeInt32BE=function(me,Me,Te){return me=+me,Me=Me>>>0,Te||Ae(this,me,Me,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[Me]=me>>>24,this[Me+1]=me>>>16,this[Me+2]=me>>>8,this[Me+3]=me&255,Me+4},b.prototype.writeBigInt64LE=He(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,me,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=He(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return we(this,me,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(be,me,Me,Te,Oe,Ke){if(Me+Te>be.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("Index out of range")}function xe(be,me,Me,Te,Oe){return me=+me,Me=Me>>>0,Oe||Ee(be,me,Me,4),w.write(be,me,Me,Te,23,4),Me+4}b.prototype.writeFloatLE=function(me,Me,Te){return xe(this,me,Me,!0,Te)},b.prototype.writeFloatBE=function(me,Me,Te){return xe(this,me,Me,!1,Te)};function Pe(be,me,Me,Te,Oe){return me=+me,Me=Me>>>0,Oe||Ee(be,me,Me,8),w.write(be,me,Me,Te,52,8),Me+8}b.prototype.writeDoubleLE=function(me,Me,Te){return Pe(this,me,Me,!0,Te)},b.prototype.writeDoubleBE=function(me,Me,Te){return Pe(this,me,Me,!1,Te)},b.prototype.copy=function(me,Me,Te,Oe){if(!b.isBuffer(me))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!Oe&&Oe!==0&&(Oe=this.length),Me>=me.length&&(Me=me.length),Me||(Me=0),Oe>0&&Oe<Te&&(Oe=Te),Oe===Te||me.length===0||this.length===0)return 0;if(Me<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),me.length-Me<Oe-Te&&(Oe=me.length-Me+Te);var Ke=Oe-Te;return this===me&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Me,Te,Oe):Uint8Array.prototype.set.call(me,this.subarray(Te,Oe),Me),Ke},b.prototype.fill=function(me,Me,Te,Oe){if(typeof me=="string"){if(typeof Me=="string"?(Oe=Me,Me=0,Te=this.length):typeof Te=="string"&&(Oe=Te,Te=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!b.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(me.length===1){var Ke=me.charCodeAt(0);(Oe==="utf8"&&Ke<128||Oe==="latin1")&&(me=Ke)}}else typeof me=="number"?me=me&255:typeof me=="boolean"&&(me=Number(me));if(Me<0||this.length<Me||this.length<Te)throw new RangeError("Out of range index");if(Te<=Me)return this;Me=Me>>>0,Te=Te===void 0?this.length:Te>>>0,me||(me=0);var nt;if(typeof me=="number")for(nt=Me;nt<Te;++nt)this[nt]=me;else{var pt=b.isBuffer(me)?me:b.from(me,Oe),yt=pt.length;if(yt===0)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(nt=0;nt<Te-Me;++nt)this[nt+Me]=pt[nt%yt]}return this};var Ue={};function Be(be,me,Me){Ue[be]=function(Te){u(Ke,Te);var Oe=l(Ke);function Ke(){var nt;return t(this,Ke),nt=Oe.call(this),Object.defineProperty(h(nt),"message",{value:me.apply(h(nt),arguments),writable:!0,configurable:!0}),nt.name="".concat(nt.name," [").concat(be,"]"),nt.stack,delete nt.name,nt}return n(Ke,[{key:"code",get:function(){return be},set:function(pt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(be,"]: ").concat(this.message)}}]),Ke}(Me)}Be("ERR_BUFFER_OUT_OF_BOUNDS",function(be){return be?"".concat(be," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Be("ERR_INVALID_ARG_TYPE",function(be,me){return'The "'.concat(be,'" argument must be of type number. Received type ').concat(o(me))},TypeError),Be("ERR_OUT_OF_RANGE",function(be,me,Me){var Te='The value of "'.concat(be,'" is out of range.'),Oe=Me;return Number.isInteger(Me)&&Math.abs(Me)>Math.pow(2,32)?Oe=Ne(String(Me)):typeof Me=="bigint"&&(Oe=String(Me),(Me>Math.pow(BigInt(2),BigInt(32))||Me<-Math.pow(BigInt(2),BigInt(32)))&&(Oe=Ne(Oe)),Oe+="n"),Te+=" It must be ".concat(me,". Received ").concat(Oe),Te},RangeError);function Ne(be){for(var me="",Me=be.length,Te=be[0]==="-"?1:0;Me>=Te+4;Me-=3)me="_".concat(be.slice(Me-3,Me)).concat(me);return"".concat(be.slice(0,Me)).concat(me)}function Xe(be,me,Me){dt(me,"offset"),(be[me]===void 0||be[me+Me]===void 0)&&at(me,be.length-(Me+1))}function ut(be,me,Me,Te,Oe,Ke){if(be>Me||be<me){var nt=typeof me=="bigint"?"n":"",pt;throw Ke>3?me===0||me===BigInt(0)?pt=">= 0".concat(nt," and < 2").concat(nt," ** ").concat((Ke+1)*8).concat(nt):pt=">= -(2".concat(nt," ** ").concat((Ke+1)*8-1).concat(nt,") and < 2 ** ")+"".concat((Ke+1)*8-1).concat(nt):pt=">= ".concat(me).concat(nt," and <= ").concat(Me).concat(nt),new Ue.ERR_OUT_OF_RANGE("value",pt,be)}Xe(Te,Oe,Ke)}function dt(be,me){if(typeof be!="number")throw new Ue.ERR_INVALID_ARG_TYPE(me,"number",be)}function at(be,me,Me){throw Math.floor(be)!==be?(dt(be,Me),new Ue.ERR_OUT_OF_RANGE(Me||"offset","an integer",be)):me<0?new Ue.ERR_BUFFER_OUT_OF_BOUNDS:new Ue.ERR_OUT_OF_RANGE(Me||"offset",">= ".concat(Me?1:0," and <= ").concat(me),be)}var We=/[^+/0-9A-Za-z-_]/g;function rt(be){if(be=be.split("=")[0],be=be.trim().replace(We,""),be.length<2)return"";for(;be.length%4!==0;)be=be+"=";return be}function st(be,me){me=me||1/0;for(var Me,Te=be.length,Oe=null,Ke=[],nt=0;nt<Te;++nt){if(Me=be.charCodeAt(nt),Me>55295&&Me<57344){if(!Oe){if(Me>56319){(me-=3)>-1&&Ke.push(239,191,189);continue}else if(nt+1===Te){(me-=3)>-1&&Ke.push(239,191,189);continue}Oe=Me;continue}if(Me<56320){(me-=3)>-1&&Ke.push(239,191,189),Oe=Me;continue}Me=(Oe-55296<<10|Me-56320)+65536}else Oe&&(me-=3)>-1&&Ke.push(239,191,189);if(Oe=null,Me<128){if((me-=1)<0)break;Ke.push(Me)}else if(Me<2048){if((me-=2)<0)break;Ke.push(Me>>6|192,Me&63|128)}else if(Me<65536){if((me-=3)<0)break;Ke.push(Me>>12|224,Me>>6&63|128,Me&63|128)}else if(Me<1114112){if((me-=4)<0)break;Ke.push(Me>>18|240,Me>>12&63|128,Me>>6&63|128,Me&63|128)}else throw new Error("Invalid code point")}return Ke}function ht(be){for(var me=[],Me=0;Me<be.length;++Me)me.push(be.charCodeAt(Me)&255);return me}function vt(be,me){for(var Me,Te,Oe,Ke=[],nt=0;nt<be.length&&!((me-=2)<0);++nt)Me=be.charCodeAt(nt),Te=Me>>8,Oe=Me%256,Ke.push(Oe),Ke.push(Te);return Ke}function At(be){return d.toByteArray(rt(be))}function et(be,me,Me,Te){var Oe;for(Oe=0;Oe<Te&&!(Oe+Me>=me.length||Oe>=be.length);++Oe)me[Oe+Me]=be[Oe];return Oe}function _e(be,me){return be instanceof me||be!=null&&be.constructor!=null&&be.constructor.name!=null&&be.constructor.name===me.name}function Ve(be){return be!==be}var Ze=function(){for(var be="0123456789abcdef",me=new Array(256),Me=0;Me<16;++Me)for(var Te=Me*16,Oe=0;Oe<16;++Oe)me[Te+Oe]=be[Me]+be[Oe];return me}();function He(be){return typeof BigInt>"u"?Ie:be}function Ie(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=i,v.exports.isMobile=i,v.exports.default=i;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function i(n){n||(n={});var u=n.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var f=p.test(u)&&!r.test(u)||!!n.tablet&&t.test(u);return!f&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(f=!0),f}},3910:function(v,p){p.byteLength=y,p.toByteArray=S,p.fromByteArray=d;for(var r=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=n.length;u<f;++u)r[u]=n[u],t[n.charCodeAt(u)]=u;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function l(w){var A=w.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=w.indexOf("=");C===-1&&(C=A);var m=C===A?0:4-C%4;return[C,m]}function y(w){var A=l(w),C=A[0],m=A[1];return(C+m)*3/4-m}function h(w,A,C){return(A+C)*3/4-C}function S(w){var A,C=l(w),m=C[0],E=C[1],b=new i(h(w,m,E)),s=0,L=E>0?m-4:m,T;for(T=0;T<L;T+=4)A=t[w.charCodeAt(T)]<<18|t[w.charCodeAt(T+1)]<<12|t[w.charCodeAt(T+2)]<<6|t[w.charCodeAt(T+3)],b[s++]=A>>16&255,b[s++]=A>>8&255,b[s++]=A&255;return E===2&&(A=t[w.charCodeAt(T)]<<2|t[w.charCodeAt(T+1)]>>4,b[s++]=A&255),E===1&&(A=t[w.charCodeAt(T)]<<10|t[w.charCodeAt(T+1)]<<4|t[w.charCodeAt(T+2)]>>2,b[s++]=A>>8&255,b[s++]=A&255),b}function c(w){return r[w>>18&63]+r[w>>12&63]+r[w>>6&63]+r[w&63]}function o(w,A,C){for(var m,E=[],b=A;b<C;b+=3)m=(w[b]<<16&16711680)+(w[b+1]<<8&65280)+(w[b+2]&255),E.push(c(m));return E.join("")}function d(w){for(var A,C=w.length,m=C%3,E=[],b=16383,s=0,L=C-m;s<L;s+=b)E.push(o(w,s,s+b>L?L:s+b));return m===1?(A=w[C-1],E.push(r[A>>2]+r[A<<4&63]+"==")):m===2&&(A=(w[C-2]<<8)+w[C-1],E.push(r[A>>10]+r[A>>4&63]+r[A<<2&63]+"=")),E.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,i,n,u){var f,l,y=u*8-n-1,h=(1<<y)-1,S=h>>1,c=-7,o=i?u-1:0,d=i?-1:1,w=r[t+o];for(o+=d,f=w&(1<<-c)-1,w>>=-c,c+=y;c>0;f=f*256+r[t+o],o+=d,c-=8);for(l=f&(1<<-c)-1,f>>=-c,c+=n;c>0;l=l*256+r[t+o],o+=d,c-=8);if(f===0)f=1-S;else{if(f===h)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,n),f=f-S}return(w?-1:1)*l*Math.pow(2,f-n)},p.write=function(r,t,i,n,u,f){var l,y,h,S=f*8-u-1,c=(1<<S)-1,o=c>>1,d=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:f-1,A=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(y=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+o>=1?t+=d/h:t+=d*Math.pow(2,1-o),t*h>=2&&(l++,h/=2),l+o>=c?(y=0,l=c):l+o>=1?(y=(t*h-1)*Math.pow(2,u),l=l+o):(y=t*Math.pow(2,o-1)*Math.pow(2,u),l=0));u>=8;r[i+w]=y&255,w+=A,y/=256,u-=8);for(l=l<<u|y,S+=u;S>0;r[i+w]=l&255,w+=A,l/=256,S-=8);r[i+w-A]|=C*128}},1152:function(v,p,r){v.exports=l;var t=r(3440),i=r(7774),n=r(9298);function u(y,h){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(S){return y[S]}),this._mode=h,this._active=y[h],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=u.prototype;f.flush=function(y){for(var h=this._controllerList,S=0;S<h.length;++S)h[S].flush(y)},f.idle=function(y){for(var h=this._controllerList,S=0;S<h.length;++S)h[S].idle(y)},f.lookAt=function(y,h,S,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].lookAt(y,h,S,c)},f.rotate=function(y,h,S,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].rotate(y,h,S,c)},f.pan=function(y,h,S,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].pan(y,h,S,c)},f.translate=function(y,h,S,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].translate(y,h,S,c)},f.setMatrix=function(y,h){for(var S=this._controllerList,c=0;c<S.length;++c)S[c].setMatrix(y,h)},f.setDistanceLimits=function(y,h){for(var S=this._controllerList,c=0;c<S.length;++c)S[c].setDistanceLimits(y,h)},f.setDistance=function(y,h){for(var S=this._controllerList,c=0;c<S.length;++c)S[c].setDistance(y,h)},f.recalcMatrix=function(y){this._active.recalcMatrix(y)},f.getDistance=function(y){return this._active.getDistance(y)},f.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},f.lastT=function(){return this._active.lastT()},f.setMode=function(y){if(y!==this._mode){var h=this._controllerNames.indexOf(y);if(!(h<0)){var S=this._active,c=this._controllerList[h],o=Math.max(S.lastT(),c.lastT());S.recalcMatrix(o),c.setMatrix(o,S.computedMatrix),this._active=c,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function l(y){y=y||{};var h=y.eye||[0,0,1],S=y.center||[0,0,0],c=y.up||[0,1,0],o=y.distanceLimits||[0,1/0],d=y.mode||"turntable",w=t(),A=i(),C=n();return w.setDistanceLimits(o[0],o[1]),w.lookAt(0,h,S,c),A.setDistanceLimits(o[0],o[1]),A.lookAt(0,h,S,c),C.setDistanceLimits(o[0],o[1]),C.lookAt(0,h,S,c),new u({turntable:w,orbit:A,matrix:C},d)}},8126:function(v,p,r){var t=typeof WeakMap>"u"?r(5346):WeakMap,i=r(5827),n=r(2944),u=new t;function f(l){var y=u.get(l),h=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var S=i(l,new Float32Array([-1,-1,-1,4,4,-1]));y=n(l,[{buffer:S,type:l.FLOAT,size:2}]),y._triangleBuffer=S,u.set(l,y)}y.bind(),l.drawArrays(l.TRIANGLES,0,3),y.unbind()}v.exports=f},8008:function(v,p,r){var t=r(4930);v.exports=i;function i(n,u,f){u=typeof u=="number"?u:1,f=f||": ";var l=n.split(/\r?\n/),y=String(l.length+u-1).length;return l.map(function(h,S){var c=S+u,o=String(c).length,d=t(c,y-o);return d+f+h}).join(`
`)}},2153:function(v,p,r){v.exports=n;var t=r(417);function i(u,f){for(var l=new Array(f+1),y=0;y<u.length;++y)l[y]=u[y];for(var y=0;y<=u.length;++y){for(var h=u.length;h<=f;++h){for(var S=new Array(f),c=0;c<f;++c)S[c]=Math.pow(h+1-y,c);l[h]=S}var o=t.apply(void 0,l);if(o)return!0}return!1}function n(u){var f=u.length;if(f===0)return[];if(f===1)return[0];for(var l=u[0].length,y=[u[0]],h=[0],S=1;S<f;++S){if(y.push(u[S]),!i(y,l)){y.pop();continue}if(h.push(S),h.length===l+1)return h}return h}},4653:function(v,p,r){v.exports=n;var t=r(4419),i=r(1778);function n(u,f){return t(f).filter(function(l){for(var y=new Array(l.length),h=0;h<l.length;++h)y[h]=f[l[h]];return i(y)*u<1})}},2350:function(v,p,r){v.exports=n;var t=r(4653),i=r(8691);function n(u,f){return i(t(u,f))}},7896:function(v){v.exports=function(r){return atob(r)}},957:function(v,p,r){v.exports=n;var t=r(6606);function i(u){for(var f=0,l=0;l<u.length;++l)f+=u[l];return f}function n(u,f){for(var l=f.length,y=new Array(l+1),h=0;h<l;++h){for(var S=new Array(l+1),c=0;c<=l;++c)S[c]=u[c][h];y[h]=S}y[l]=new Array(l+1);for(var h=0;h<=l;++h)y[l][h]=1;for(var o=new Array(l+1),h=0;h<l;++h)o[h]=f[h];o[l]=1;var d=t(y,o),w=i(d[l+1]);w===0&&(w=1);for(var A=new Array(l+1),h=0;h<=l;++h)A[h]=i(d[h])/w;return A}},1539:function(v,p,r){var t=r(8524);v.exports=i;function i(n,u){return t(n[0].mul(u[1]).add(u[0].mul(n[1])),n[1].mul(u[1]))}},8846:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},9189:function(v,p,r){var t=r(8524);v.exports=i;function i(n,u){return t(n[0].mul(u[1]),n[1].mul(u[0]))}},5125:function(v,p,r){var t=r(234),i=r(3218),n=r(5514),u=r(2813),f=r(8524),l=r(9189);v.exports=y;function y(h,S){if(t(h))return S?l(h,y(S)):[h[0].clone(),h[1].clone()];var c=0,o,d;if(i(h))o=h.clone();else if(typeof h=="string")o=u(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))o=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;o=n(h)}}if(t(S))o.mul(S[1]),d=S[0].clone();else if(i(S))d=S.clone();else if(typeof S=="string")d=u(S);else if(!S)d=n(1);else if(S===Math.floor(S))d=n(S);else{for(;S!==Math.floor(S);)S=S*Math.pow(2,256),c+=256;d=n(S)}return c>0?o=o.ushln(c):c<0&&(d=d.ushln(-c)),f(o,d)}},234:function(v,p,r){var t=r(3218);v.exports=i;function i(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},4275:function(v,p,r){var t=r(1928);v.exports=i;function i(n){return n.cmp(new t(0))}},9958:function(v,p,r){var t=r(4275);v.exports=i;function i(n){var u=n.length,f=n.words,l=0;if(u===1)l=f[0];else if(u===2)l=f[0]+f[1]*67108864;else for(var y=0;y<u;y++){var h=f[y];l+=h*Math.pow(67108864,y)}return t(n)*l}},1112:function(v,p,r){var t=r(8362),i=r(2288).countTrailingZeros;v.exports=n;function n(u){var f=i(t.lo(u));if(f<32)return f;var l=i(t.hi(u));return l>20?52:l+32}},3218:function(v,p,r){r(1928),v.exports=t;function t(i){return i&&typeof i=="object"&&!!i.words}},5514:function(v,p,r){var t=r(1928),i=r(8362);v.exports=n;function n(u){var f=i.exponent(u);return f<52?new t(u):new t(u*Math.pow(2,52-f)).ushln(f-52)}},8524:function(v,p,r){var t=r(5514),i=r(4275);v.exports=n;function n(u,f){var l=i(u),y=i(f);if(l===0)return[t(0),t(1)];if(y===0)return[t(0),t(0)];y<0&&(u=u.neg(),f=f.neg());var h=u.gcd(f);return h.cmpn(1)?[u.div(h),f.div(h)]:[u,f]}},2813:function(v,p,r){var t=r(1928);v.exports=i;function i(n){return new t(n)}},3962:function(v,p,r){var t=r(8524);v.exports=i;function i(n,u){return t(n[0].mul(u[0]),n[1].mul(u[1]))}},4951:function(v,p,r){var t=r(4275);v.exports=i;function i(n){return t(n[0])*t(n[1])}},4354:function(v,p,r){var t=r(8524);v.exports=i;function i(n,u){return t(n[0].mul(u[1]).sub(n[1].mul(u[0])),n[1].mul(u[1]))}},7999:function(v,p,r){var t=r(9958),i=r(1112);v.exports=n;function n(u){var f=u[0],l=u[1];if(f.cmpn(0)===0)return 0;var y=f.abs().divmod(l.abs()),h=y.div,S=t(h),c=y.mod,o=f.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return o*S;if(S){var d=i(S)+4,w=t(c.ushln(d).divRound(l));return o*(S+w*Math.pow(2,-d))}else{var A=l.bitLength()-c.bitLength()+53,w=t(c.ushln(A).divRound(l));return A<1023?o*w*Math.pow(2,-A):(w*=Math.pow(2,-1023),o*w*Math.pow(2,1023-A))}}},5070:function(v){function p(f,l,y,h,S){for(var c=S+1;h<=S;){var o=h+S>>>1,d=f[o],w=y!==void 0?y(d,l):d-l;w>=0?(c=o,S=o-1):h=o+1}return c}function r(f,l,y,h,S){for(var c=S+1;h<=S;){var o=h+S>>>1,d=f[o],w=y!==void 0?y(d,l):d-l;w>0?(c=o,S=o-1):h=o+1}return c}function t(f,l,y,h,S){for(var c=h-1;h<=S;){var o=h+S>>>1,d=f[o],w=y!==void 0?y(d,l):d-l;w<0?(c=o,h=o+1):S=o-1}return c}function i(f,l,y,h,S){for(var c=h-1;h<=S;){var o=h+S>>>1,d=f[o],w=y!==void 0?y(d,l):d-l;w<=0?(c=o,h=o+1):S=o-1}return c}function n(f,l,y,h,S){for(;h<=S;){var c=h+S>>>1,o=f[c],d=y!==void 0?y(o,l):o-l;if(d===0)return c;d<=0?h=c+1:S=c-1}return-1}function u(f,l,y,h,S,c){return typeof y=="function"?c(f,l,y,h===void 0?0:h|0,S===void 0?f.length-1:S|0):c(f,l,void 0,y===void 0?0:y|0,h===void 0?f.length-1:h|0)}v.exports={ge:function(f,l,y,h,S){return u(f,l,y,h,S,p)},gt:function(f,l,y,h,S){return u(f,l,y,h,S,r)},lt:function(f,l,y,h,S){return u(f,l,y,h,S,t)},le:function(f,l,y,h,S){return u(f,l,y,h,S,i)},eq:function(f,l,y,h,S){return u(f,l,y,h,S,n)}}},2288:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var u=n>>r-1;return(n^u)-u},p.min=function(n,u){return u^(n^u)&-(n<u)},p.max=function(n,u){return n^(n^u)&-(n<u)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var u,f;return u=(n>65535)<<4,n>>>=u,f=(n>255)<<3,n>>>=f,u|=f,f=(n>15)<<2,n>>>=f,u|=f,f=(n>3)<<1,n>>>=f,u|=f,u|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var u=0;u<256;++u){var f=u,l=u,y=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--y;n[u]=l<<y&255}})(i),p.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},p.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},p.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,u,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},p.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>t(n)+1}},1928:function(v,p,r){v=r.nmd(v),function(t,i){function n(N,z){if(!N)throw new Error(z||"Assertion failed")}function u(N,z){N.super_=z;var V=function(){};V.prototype=z.prototype,N.prototype=new V,N.prototype.constructor=N}function f(N,z,V){if(f.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((z==="le"||z==="be")&&(V=z,z=10),this._init(N||0,z||10,V||"be"))}typeof t=="object"?t.exports=f:i.BN=f,f.BN=f,f.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(6601).Buffer}catch{}f.isBN=function(z){return z instanceof f?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===f.wordSize&&Array.isArray(z.words)},f.max=function(z,V){return z.cmp(V)>0?z:V},f.min=function(z,V){return z.cmp(V)<0?z:V},f.prototype._init=function(z,V,W){if(typeof z=="number")return this._initNumber(z,V,W);if(typeof z=="object")return this._initArray(z,V,W);V==="hex"&&(V=16),n(V===(V|0)&&V>=2&&V<=36),z=z.toString().replace(/\s+/g,"");var $=0;z[0]==="-"&&($++,this.negative=1),$<z.length&&(V===16?this._parseHex(z,$,W):(this._parseBase(z,V,$),W==="le"&&this._initArray(this.toArray(),V,W)))},f.prototype._initNumber=function(z,V,W){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),V,W)},f.prototype._initArray=function(z,V,W){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var re,ne,ue=0;if(W==="be")for($=z.length-1,re=0;$>=0;$-=3)ne=z[$]|z[$-1]<<8|z[$-2]<<16,this.words[re]|=ne<<ue&67108863,this.words[re+1]=ne>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,re++);else if(W==="le")for($=0,re=0;$<z.length;$+=3)ne=z[$]|z[$+1]<<8|z[$+2]<<16,this.words[re]|=ne<<ue&67108863,this.words[re+1]=ne>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,re++);return this.strip()};function y(N,z){var V=N.charCodeAt(z);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function h(N,z,V){var W=y(N,V);return V-1>=z&&(W|=y(N,V-1)<<4),W}f.prototype._parseHex=function(z,V,W){this.length=Math.ceil((z.length-V)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var re=0,ne=0,ue;if(W==="be")for($=z.length-1;$>=V;$-=2)ue=h(z,V,$)<<re,this.words[ne]|=ue&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=ue>>>26):re+=8;else{var J=z.length-V;for($=J%2===0?V+1:V;$<z.length;$+=2)ue=h(z,V,$)<<re,this.words[ne]|=ue&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=ue>>>26):re+=8}this.strip()};function S(N,z,V,W){for(var $=0,re=Math.min(N.length,V),ne=z;ne<re;ne++){var ue=N.charCodeAt(ne)-48;$*=W,ue>=49?$+=ue-49+10:ue>=17?$+=ue-17+10:$+=ue}return $}f.prototype._parseBase=function(z,V,W){this.words=[0],this.length=1;for(var $=0,re=1;re<=67108863;re*=V)$++;$--,re=re/V|0;for(var ne=z.length-W,ue=ne%$,J=Math.min(ne,ne-ue)+W,X=0,oe=W;oe<J;oe+=$)X=S(z,oe,oe+$,V),this.imuln(re),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(ue!==0){var Y=1;for(X=S(z,oe,z.length,V),oe=0;oe<ue;oe++)Y*=V;this.imuln(Y),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this.strip()},f.prototype.copy=function(z){z.words=new Array(this.length);for(var V=0;V<this.length;V++)z.words[V]=this.words[V];z.length=this.length,z.negative=this.negative,z.red=this.red},f.prototype.clone=function(){var z=new f(null);return this.copy(z),z},f.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(z,V){z=z||10,V=V|0||1;var W;if(z===16||z==="hex"){W="";for(var $=0,re=0,ne=0;ne<this.length;ne++){var ue=this.words[ne],J=((ue<<$|re)&16777215).toString(16);re=ue>>>24-$&16777215,re!==0||ne!==this.length-1?W=c[6-J.length]+J+W:W=J+W,$+=2,$>=26&&($-=26,ne--)}for(re!==0&&(W=re.toString(16)+W);W.length%V!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(z===(z|0)&&z>=2&&z<=36){var X=o[z],oe=d[z];W="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var q=Y.modn(oe).toString(z);Y=Y.idivn(oe),Y.isZero()?W=q+W:W=c[X-q.length]+q+W}for(this.isZero()&&(W="0"+W);W.length%V!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}n(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(z,V){return n(typeof l<"u"),this.toArrayLike(l,z,V)},f.prototype.toArray=function(z,V){return this.toArrayLike(Array,z,V)},f.prototype.toArrayLike=function(z,V,W){var $=this.byteLength(),re=W||Math.max(1,$);n($<=re,"byte array longer than desired length"),n(re>0,"Requested array length <= 0"),this.strip();var ne=V==="le",ue=new z(re),J,X,oe=this.clone();if(ne){for(X=0;!oe.isZero();X++)J=oe.andln(255),oe.iushrn(8),ue[X]=J;for(;X<re;X++)ue[X]=0}else{for(X=0;X<re-$;X++)ue[X]=0;for(X=0;!oe.isZero();X++)J=oe.andln(255),oe.iushrn(8),ue[re-X-1]=J}return ue},Math.clz32?f.prototype._countBits=function(z){return 32-Math.clz32(z)}:f.prototype._countBits=function(z){var V=z,W=0;return V>=4096&&(W+=13,V>>>=13),V>=64&&(W+=7,V>>>=7),V>=8&&(W+=4,V>>>=4),V>=2&&(W+=2,V>>>=2),W+V},f.prototype._zeroBits=function(z){if(z===0)return 26;var V=z,W=0;return V&8191||(W+=13,V>>>=13),V&127||(W+=7,V>>>=7),V&15||(W+=4,V>>>=4),V&3||(W+=2,V>>>=2),V&1||W++,W},f.prototype.bitLength=function(){var z=this.words[this.length-1],V=this._countBits(z);return(this.length-1)*26+V};function w(N){for(var z=new Array(N.bitLength()),V=0;V<z.length;V++){var W=V/26|0,$=V%26;z[V]=(N.words[W]&1<<$)>>>$}return z}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,V=0;V<this.length;V++){var W=this._zeroBits(this.words[V]);if(z+=W,W!==26)break}return z},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},f.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var V=0;V<z.length;V++)this.words[V]=this.words[V]|z.words[V];return this.strip()},f.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},f.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},f.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},f.prototype.iuand=function(z){var V;this.length>z.length?V=z:V=this;for(var W=0;W<V.length;W++)this.words[W]=this.words[W]&z.words[W];return this.length=V.length,this.strip()},f.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},f.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},f.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},f.prototype.iuxor=function(z){var V,W;this.length>z.length?(V=this,W=z):(V=z,W=this);for(var $=0;$<W.length;$++)this.words[$]=V.words[$]^W.words[$];if(this!==V)for(;$<V.length;$++)this.words[$]=V.words[$];return this.length=V.length,this.strip()},f.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},f.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},f.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},f.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var V=Math.ceil(z/26)|0,W=z%26;this._expand(V),W>0&&V--;for(var $=0;$<V;$++)this.words[$]=~this.words[$]&67108863;return W>0&&(this.words[$]=~this.words[$]&67108863>>26-W),this.strip()},f.prototype.notn=function(z){return this.clone().inotn(z)},f.prototype.setn=function(z,V){n(typeof z=="number"&&z>=0);var W=z/26|0,$=z%26;return this._expand(W+1),V?this.words[W]=this.words[W]|1<<$:this.words[W]=this.words[W]&~(1<<$),this.strip()},f.prototype.iadd=function(z){var V;if(this.negative!==0&&z.negative===0)return this.negative=0,V=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,V=this.isub(z),z.negative=1,V._normSign();var W,$;this.length>z.length?(W=this,$=z):(W=z,$=this);for(var re=0,ne=0;ne<$.length;ne++)V=(W.words[ne]|0)+($.words[ne]|0)+re,this.words[ne]=V&67108863,re=V>>>26;for(;re!==0&&ne<W.length;ne++)V=(W.words[ne]|0)+re,this.words[ne]=V&67108863,re=V>>>26;if(this.length=W.length,re!==0)this.words[this.length]=re,this.length++;else if(W!==this)for(;ne<W.length;ne++)this.words[ne]=W.words[ne];return this},f.prototype.add=function(z){var V;return z.negative!==0&&this.negative===0?(z.negative=0,V=this.sub(z),z.negative^=1,V):z.negative===0&&this.negative!==0?(this.negative=0,V=z.sub(this),this.negative=1,V):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},f.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var V=this.iadd(z);return z.negative=1,V._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var W=this.cmp(z);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,re;W>0?($=this,re=z):($=z,re=this);for(var ne=0,ue=0;ue<re.length;ue++)V=($.words[ue]|0)-(re.words[ue]|0)+ne,ne=V>>26,this.words[ue]=V&67108863;for(;ne!==0&&ue<$.length;ue++)V=($.words[ue]|0)+ne,ne=V>>26,this.words[ue]=V&67108863;if(ne===0&&ue<$.length&&$!==this)for(;ue<$.length;ue++)this.words[ue]=$.words[ue];return this.length=Math.max(this.length,ue),$!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(z){return this.clone().isub(z)};function A(N,z,V){V.negative=z.negative^N.negative;var W=N.length+z.length|0;V.length=W,W=W-1|0;var $=N.words[0]|0,re=z.words[0]|0,ne=$*re,ue=ne&67108863,J=ne/67108864|0;V.words[0]=ue;for(var X=1;X<W;X++){for(var oe=J>>>26,Y=J&67108863,q=Math.min(X,z.length-1),se=Math.max(0,X-N.length+1);se<=q;se++){var Q=X-se|0;$=N.words[Q]|0,re=z.words[se]|0,ne=$*re+Y,oe+=ne/67108864|0,Y=ne&67108863}V.words[X]=Y|0,J=oe|0}return J!==0?V.words[X]=J|0:V.length--,V.strip()}var C=function(z,V,W){var $=z.words,re=V.words,ne=W.words,ue=0,J,X,oe,Y=$[0]|0,q=Y&8191,se=Y>>>13,Q=$[1]|0,K=Q&8191,le=Q>>>13,ie=$[2]|0,ce=ie&8191,ye=ie>>>13,Ce=$[3]|0,Ae=Ce&8191,ke=Ce>>>13,we=$[4]|0,Ee=we&8191,xe=we>>>13,Pe=$[5]|0,Ue=Pe&8191,Be=Pe>>>13,Ne=$[6]|0,Xe=Ne&8191,ut=Ne>>>13,dt=$[7]|0,at=dt&8191,We=dt>>>13,rt=$[8]|0,st=rt&8191,ht=rt>>>13,vt=$[9]|0,At=vt&8191,et=vt>>>13,_e=re[0]|0,Ve=_e&8191,Ze=_e>>>13,He=re[1]|0,Ie=He&8191,be=He>>>13,me=re[2]|0,Me=me&8191,Te=me>>>13,Oe=re[3]|0,Ke=Oe&8191,nt=Oe>>>13,pt=re[4]|0,yt=pt&8191,Yt=pt>>>13,Xt=re[5]|0,St=Xt&8191,kt=Xt>>>13,Kt=re[6]|0,mr=Kt&8191,mt=Kt>>>13,Zt=re[7]|0,Qt=Zt&8191,yr=Zt>>>13,sr=re[8]|0,bt=sr&8191,lt=sr>>>13,Tt=re[9]|0,Ct=Tt&8191,It=Tt>>>13;W.negative=z.negative^V.negative,W.length=19,J=Math.imul(q,Ve),X=Math.imul(q,Ze),X=X+Math.imul(se,Ve)|0,oe=Math.imul(se,Ze);var Dt=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,J=Math.imul(K,Ve),X=Math.imul(K,Ze),X=X+Math.imul(le,Ve)|0,oe=Math.imul(le,Ze),J=J+Math.imul(q,Ie)|0,X=X+Math.imul(q,be)|0,X=X+Math.imul(se,Ie)|0,oe=oe+Math.imul(se,be)|0;var Vt=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,J=Math.imul(ce,Ve),X=Math.imul(ce,Ze),X=X+Math.imul(ye,Ve)|0,oe=Math.imul(ye,Ze),J=J+Math.imul(K,Ie)|0,X=X+Math.imul(K,be)|0,X=X+Math.imul(le,Ie)|0,oe=oe+Math.imul(le,be)|0,J=J+Math.imul(q,Me)|0,X=X+Math.imul(q,Te)|0,X=X+Math.imul(se,Me)|0,oe=oe+Math.imul(se,Te)|0;var Bt=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,J=Math.imul(Ae,Ve),X=Math.imul(Ae,Ze),X=X+Math.imul(ke,Ve)|0,oe=Math.imul(ke,Ze),J=J+Math.imul(ce,Ie)|0,X=X+Math.imul(ce,be)|0,X=X+Math.imul(ye,Ie)|0,oe=oe+Math.imul(ye,be)|0,J=J+Math.imul(K,Me)|0,X=X+Math.imul(K,Te)|0,X=X+Math.imul(le,Me)|0,oe=oe+Math.imul(le,Te)|0,J=J+Math.imul(q,Ke)|0,X=X+Math.imul(q,nt)|0,X=X+Math.imul(se,Ke)|0,oe=oe+Math.imul(se,nt)|0;var $t=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+($t>>>26)|0,$t&=67108863,J=Math.imul(Ee,Ve),X=Math.imul(Ee,Ze),X=X+Math.imul(xe,Ve)|0,oe=Math.imul(xe,Ze),J=J+Math.imul(Ae,Ie)|0,X=X+Math.imul(Ae,be)|0,X=X+Math.imul(ke,Ie)|0,oe=oe+Math.imul(ke,be)|0,J=J+Math.imul(ce,Me)|0,X=X+Math.imul(ce,Te)|0,X=X+Math.imul(ye,Me)|0,oe=oe+Math.imul(ye,Te)|0,J=J+Math.imul(K,Ke)|0,X=X+Math.imul(K,nt)|0,X=X+Math.imul(le,Ke)|0,oe=oe+Math.imul(le,nt)|0,J=J+Math.imul(q,yt)|0,X=X+Math.imul(q,Yt)|0,X=X+Math.imul(se,yt)|0,oe=oe+Math.imul(se,Yt)|0;var fr=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(fr>>>26)|0,fr&=67108863,J=Math.imul(Ue,Ve),X=Math.imul(Ue,Ze),X=X+Math.imul(Be,Ve)|0,oe=Math.imul(Be,Ze),J=J+Math.imul(Ee,Ie)|0,X=X+Math.imul(Ee,be)|0,X=X+Math.imul(xe,Ie)|0,oe=oe+Math.imul(xe,be)|0,J=J+Math.imul(Ae,Me)|0,X=X+Math.imul(Ae,Te)|0,X=X+Math.imul(ke,Me)|0,oe=oe+Math.imul(ke,Te)|0,J=J+Math.imul(ce,Ke)|0,X=X+Math.imul(ce,nt)|0,X=X+Math.imul(ye,Ke)|0,oe=oe+Math.imul(ye,nt)|0,J=J+Math.imul(K,yt)|0,X=X+Math.imul(K,Yt)|0,X=X+Math.imul(le,yt)|0,oe=oe+Math.imul(le,Yt)|0,J=J+Math.imul(q,St)|0,X=X+Math.imul(q,kt)|0,X=X+Math.imul(se,St)|0,oe=oe+Math.imul(se,kt)|0;var cr=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(cr>>>26)|0,cr&=67108863,J=Math.imul(Xe,Ve),X=Math.imul(Xe,Ze),X=X+Math.imul(ut,Ve)|0,oe=Math.imul(ut,Ze),J=J+Math.imul(Ue,Ie)|0,X=X+Math.imul(Ue,be)|0,X=X+Math.imul(Be,Ie)|0,oe=oe+Math.imul(Be,be)|0,J=J+Math.imul(Ee,Me)|0,X=X+Math.imul(Ee,Te)|0,X=X+Math.imul(xe,Me)|0,oe=oe+Math.imul(xe,Te)|0,J=J+Math.imul(Ae,Ke)|0,X=X+Math.imul(Ae,nt)|0,X=X+Math.imul(ke,Ke)|0,oe=oe+Math.imul(ke,nt)|0,J=J+Math.imul(ce,yt)|0,X=X+Math.imul(ce,Yt)|0,X=X+Math.imul(ye,yt)|0,oe=oe+Math.imul(ye,Yt)|0,J=J+Math.imul(K,St)|0,X=X+Math.imul(K,kt)|0,X=X+Math.imul(le,St)|0,oe=oe+Math.imul(le,kt)|0,J=J+Math.imul(q,mr)|0,X=X+Math.imul(q,mt)|0,X=X+Math.imul(se,mr)|0,oe=oe+Math.imul(se,mt)|0;var dr=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(dr>>>26)|0,dr&=67108863,J=Math.imul(at,Ve),X=Math.imul(at,Ze),X=X+Math.imul(We,Ve)|0,oe=Math.imul(We,Ze),J=J+Math.imul(Xe,Ie)|0,X=X+Math.imul(Xe,be)|0,X=X+Math.imul(ut,Ie)|0,oe=oe+Math.imul(ut,be)|0,J=J+Math.imul(Ue,Me)|0,X=X+Math.imul(Ue,Te)|0,X=X+Math.imul(Be,Me)|0,oe=oe+Math.imul(Be,Te)|0,J=J+Math.imul(Ee,Ke)|0,X=X+Math.imul(Ee,nt)|0,X=X+Math.imul(xe,Ke)|0,oe=oe+Math.imul(xe,nt)|0,J=J+Math.imul(Ae,yt)|0,X=X+Math.imul(Ae,Yt)|0,X=X+Math.imul(ke,yt)|0,oe=oe+Math.imul(ke,Yt)|0,J=J+Math.imul(ce,St)|0,X=X+Math.imul(ce,kt)|0,X=X+Math.imul(ye,St)|0,oe=oe+Math.imul(ye,kt)|0,J=J+Math.imul(K,mr)|0,X=X+Math.imul(K,mt)|0,X=X+Math.imul(le,mr)|0,oe=oe+Math.imul(le,mt)|0,J=J+Math.imul(q,Qt)|0,X=X+Math.imul(q,yr)|0,X=X+Math.imul(se,Qt)|0,oe=oe+Math.imul(se,yr)|0;var Ye=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,J=Math.imul(st,Ve),X=Math.imul(st,Ze),X=X+Math.imul(ht,Ve)|0,oe=Math.imul(ht,Ze),J=J+Math.imul(at,Ie)|0,X=X+Math.imul(at,be)|0,X=X+Math.imul(We,Ie)|0,oe=oe+Math.imul(We,be)|0,J=J+Math.imul(Xe,Me)|0,X=X+Math.imul(Xe,Te)|0,X=X+Math.imul(ut,Me)|0,oe=oe+Math.imul(ut,Te)|0,J=J+Math.imul(Ue,Ke)|0,X=X+Math.imul(Ue,nt)|0,X=X+Math.imul(Be,Ke)|0,oe=oe+Math.imul(Be,nt)|0,J=J+Math.imul(Ee,yt)|0,X=X+Math.imul(Ee,Yt)|0,X=X+Math.imul(xe,yt)|0,oe=oe+Math.imul(xe,Yt)|0,J=J+Math.imul(Ae,St)|0,X=X+Math.imul(Ae,kt)|0,X=X+Math.imul(ke,St)|0,oe=oe+Math.imul(ke,kt)|0,J=J+Math.imul(ce,mr)|0,X=X+Math.imul(ce,mt)|0,X=X+Math.imul(ye,mr)|0,oe=oe+Math.imul(ye,mt)|0,J=J+Math.imul(K,Qt)|0,X=X+Math.imul(K,yr)|0,X=X+Math.imul(le,Qt)|0,oe=oe+Math.imul(le,yr)|0,J=J+Math.imul(q,bt)|0,X=X+Math.imul(q,lt)|0,X=X+Math.imul(se,bt)|0,oe=oe+Math.imul(se,lt)|0;var je=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(je>>>26)|0,je&=67108863,J=Math.imul(At,Ve),X=Math.imul(At,Ze),X=X+Math.imul(et,Ve)|0,oe=Math.imul(et,Ze),J=J+Math.imul(st,Ie)|0,X=X+Math.imul(st,be)|0,X=X+Math.imul(ht,Ie)|0,oe=oe+Math.imul(ht,be)|0,J=J+Math.imul(at,Me)|0,X=X+Math.imul(at,Te)|0,X=X+Math.imul(We,Me)|0,oe=oe+Math.imul(We,Te)|0,J=J+Math.imul(Xe,Ke)|0,X=X+Math.imul(Xe,nt)|0,X=X+Math.imul(ut,Ke)|0,oe=oe+Math.imul(ut,nt)|0,J=J+Math.imul(Ue,yt)|0,X=X+Math.imul(Ue,Yt)|0,X=X+Math.imul(Be,yt)|0,oe=oe+Math.imul(Be,Yt)|0,J=J+Math.imul(Ee,St)|0,X=X+Math.imul(Ee,kt)|0,X=X+Math.imul(xe,St)|0,oe=oe+Math.imul(xe,kt)|0,J=J+Math.imul(Ae,mr)|0,X=X+Math.imul(Ae,mt)|0,X=X+Math.imul(ke,mr)|0,oe=oe+Math.imul(ke,mt)|0,J=J+Math.imul(ce,Qt)|0,X=X+Math.imul(ce,yr)|0,X=X+Math.imul(ye,Qt)|0,oe=oe+Math.imul(ye,yr)|0,J=J+Math.imul(K,bt)|0,X=X+Math.imul(K,lt)|0,X=X+Math.imul(le,bt)|0,oe=oe+Math.imul(le,lt)|0,J=J+Math.imul(q,Ct)|0,X=X+Math.imul(q,It)|0,X=X+Math.imul(se,Ct)|0,oe=oe+Math.imul(se,It)|0;var zt=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(zt>>>26)|0,zt&=67108863,J=Math.imul(At,Ie),X=Math.imul(At,be),X=X+Math.imul(et,Ie)|0,oe=Math.imul(et,be),J=J+Math.imul(st,Me)|0,X=X+Math.imul(st,Te)|0,X=X+Math.imul(ht,Me)|0,oe=oe+Math.imul(ht,Te)|0,J=J+Math.imul(at,Ke)|0,X=X+Math.imul(at,nt)|0,X=X+Math.imul(We,Ke)|0,oe=oe+Math.imul(We,nt)|0,J=J+Math.imul(Xe,yt)|0,X=X+Math.imul(Xe,Yt)|0,X=X+Math.imul(ut,yt)|0,oe=oe+Math.imul(ut,Yt)|0,J=J+Math.imul(Ue,St)|0,X=X+Math.imul(Ue,kt)|0,X=X+Math.imul(Be,St)|0,oe=oe+Math.imul(Be,kt)|0,J=J+Math.imul(Ee,mr)|0,X=X+Math.imul(Ee,mt)|0,X=X+Math.imul(xe,mr)|0,oe=oe+Math.imul(xe,mt)|0,J=J+Math.imul(Ae,Qt)|0,X=X+Math.imul(Ae,yr)|0,X=X+Math.imul(ke,Qt)|0,oe=oe+Math.imul(ke,yr)|0,J=J+Math.imul(ce,bt)|0,X=X+Math.imul(ce,lt)|0,X=X+Math.imul(ye,bt)|0,oe=oe+Math.imul(ye,lt)|0,J=J+Math.imul(K,Ct)|0,X=X+Math.imul(K,It)|0,X=X+Math.imul(le,Ct)|0,oe=oe+Math.imul(le,It)|0;var Ft=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,J=Math.imul(At,Me),X=Math.imul(At,Te),X=X+Math.imul(et,Me)|0,oe=Math.imul(et,Te),J=J+Math.imul(st,Ke)|0,X=X+Math.imul(st,nt)|0,X=X+Math.imul(ht,Ke)|0,oe=oe+Math.imul(ht,nt)|0,J=J+Math.imul(at,yt)|0,X=X+Math.imul(at,Yt)|0,X=X+Math.imul(We,yt)|0,oe=oe+Math.imul(We,Yt)|0,J=J+Math.imul(Xe,St)|0,X=X+Math.imul(Xe,kt)|0,X=X+Math.imul(ut,St)|0,oe=oe+Math.imul(ut,kt)|0,J=J+Math.imul(Ue,mr)|0,X=X+Math.imul(Ue,mt)|0,X=X+Math.imul(Be,mr)|0,oe=oe+Math.imul(Be,mt)|0,J=J+Math.imul(Ee,Qt)|0,X=X+Math.imul(Ee,yr)|0,X=X+Math.imul(xe,Qt)|0,oe=oe+Math.imul(xe,yr)|0,J=J+Math.imul(Ae,bt)|0,X=X+Math.imul(Ae,lt)|0,X=X+Math.imul(ke,bt)|0,oe=oe+Math.imul(ke,lt)|0,J=J+Math.imul(ce,Ct)|0,X=X+Math.imul(ce,It)|0,X=X+Math.imul(ye,Ct)|0,oe=oe+Math.imul(ye,It)|0;var Jt=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,J=Math.imul(At,Ke),X=Math.imul(At,nt),X=X+Math.imul(et,Ke)|0,oe=Math.imul(et,nt),J=J+Math.imul(st,yt)|0,X=X+Math.imul(st,Yt)|0,X=X+Math.imul(ht,yt)|0,oe=oe+Math.imul(ht,Yt)|0,J=J+Math.imul(at,St)|0,X=X+Math.imul(at,kt)|0,X=X+Math.imul(We,St)|0,oe=oe+Math.imul(We,kt)|0,J=J+Math.imul(Xe,mr)|0,X=X+Math.imul(Xe,mt)|0,X=X+Math.imul(ut,mr)|0,oe=oe+Math.imul(ut,mt)|0,J=J+Math.imul(Ue,Qt)|0,X=X+Math.imul(Ue,yr)|0,X=X+Math.imul(Be,Qt)|0,oe=oe+Math.imul(Be,yr)|0,J=J+Math.imul(Ee,bt)|0,X=X+Math.imul(Ee,lt)|0,X=X+Math.imul(xe,bt)|0,oe=oe+Math.imul(xe,lt)|0,J=J+Math.imul(Ae,Ct)|0,X=X+Math.imul(Ae,It)|0,X=X+Math.imul(ke,Ct)|0,oe=oe+Math.imul(ke,It)|0;var tr=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(tr>>>26)|0,tr&=67108863,J=Math.imul(At,yt),X=Math.imul(At,Yt),X=X+Math.imul(et,yt)|0,oe=Math.imul(et,Yt),J=J+Math.imul(st,St)|0,X=X+Math.imul(st,kt)|0,X=X+Math.imul(ht,St)|0,oe=oe+Math.imul(ht,kt)|0,J=J+Math.imul(at,mr)|0,X=X+Math.imul(at,mt)|0,X=X+Math.imul(We,mr)|0,oe=oe+Math.imul(We,mt)|0,J=J+Math.imul(Xe,Qt)|0,X=X+Math.imul(Xe,yr)|0,X=X+Math.imul(ut,Qt)|0,oe=oe+Math.imul(ut,yr)|0,J=J+Math.imul(Ue,bt)|0,X=X+Math.imul(Ue,lt)|0,X=X+Math.imul(Be,bt)|0,oe=oe+Math.imul(Be,lt)|0,J=J+Math.imul(Ee,Ct)|0,X=X+Math.imul(Ee,It)|0,X=X+Math.imul(xe,Ct)|0,oe=oe+Math.imul(xe,It)|0;var ur=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(ur>>>26)|0,ur&=67108863,J=Math.imul(At,St),X=Math.imul(At,kt),X=X+Math.imul(et,St)|0,oe=Math.imul(et,kt),J=J+Math.imul(st,mr)|0,X=X+Math.imul(st,mt)|0,X=X+Math.imul(ht,mr)|0,oe=oe+Math.imul(ht,mt)|0,J=J+Math.imul(at,Qt)|0,X=X+Math.imul(at,yr)|0,X=X+Math.imul(We,Qt)|0,oe=oe+Math.imul(We,yr)|0,J=J+Math.imul(Xe,bt)|0,X=X+Math.imul(Xe,lt)|0,X=X+Math.imul(ut,bt)|0,oe=oe+Math.imul(ut,lt)|0,J=J+Math.imul(Ue,Ct)|0,X=X+Math.imul(Ue,It)|0,X=X+Math.imul(Be,Ct)|0,oe=oe+Math.imul(Be,It)|0;var nr=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(nr>>>26)|0,nr&=67108863,J=Math.imul(At,mr),X=Math.imul(At,mt),X=X+Math.imul(et,mr)|0,oe=Math.imul(et,mt),J=J+Math.imul(st,Qt)|0,X=X+Math.imul(st,yr)|0,X=X+Math.imul(ht,Qt)|0,oe=oe+Math.imul(ht,yr)|0,J=J+Math.imul(at,bt)|0,X=X+Math.imul(at,lt)|0,X=X+Math.imul(We,bt)|0,oe=oe+Math.imul(We,lt)|0,J=J+Math.imul(Xe,Ct)|0,X=X+Math.imul(Xe,It)|0,X=X+Math.imul(ut,Ct)|0,oe=oe+Math.imul(ut,It)|0;var Nt=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,J=Math.imul(At,Qt),X=Math.imul(At,yr),X=X+Math.imul(et,Qt)|0,oe=Math.imul(et,yr),J=J+Math.imul(st,bt)|0,X=X+Math.imul(st,lt)|0,X=X+Math.imul(ht,bt)|0,oe=oe+Math.imul(ht,lt)|0,J=J+Math.imul(at,Ct)|0,X=X+Math.imul(at,It)|0,X=X+Math.imul(We,Ct)|0,oe=oe+Math.imul(We,It)|0;var hr=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(hr>>>26)|0,hr&=67108863,J=Math.imul(At,bt),X=Math.imul(At,lt),X=X+Math.imul(et,bt)|0,oe=Math.imul(et,lt),J=J+Math.imul(st,Ct)|0,X=X+Math.imul(st,It)|0,X=X+Math.imul(ht,Ct)|0,oe=oe+Math.imul(ht,It)|0;var gr=(ue+J|0)+((X&8191)<<13)|0;ue=(oe+(X>>>13)|0)+(gr>>>26)|0,gr&=67108863,J=Math.imul(At,Ct),X=Math.imul(At,It),X=X+Math.imul(et,Ct)|0,oe=Math.imul(et,It);var br=(ue+J|0)+((X&8191)<<13)|0;return ue=(oe+(X>>>13)|0)+(br>>>26)|0,br&=67108863,ne[0]=Dt,ne[1]=Vt,ne[2]=Bt,ne[3]=$t,ne[4]=fr,ne[5]=cr,ne[6]=dr,ne[7]=Ye,ne[8]=je,ne[9]=zt,ne[10]=Ft,ne[11]=Jt,ne[12]=tr,ne[13]=ur,ne[14]=nr,ne[15]=Nt,ne[16]=hr,ne[17]=gr,ne[18]=br,ue!==0&&(ne[19]=ue,W.length++),W};Math.imul||(C=A);function m(N,z,V){V.negative=z.negative^N.negative,V.length=N.length+z.length;for(var W=0,$=0,re=0;re<V.length-1;re++){var ne=$;$=0;for(var ue=W&67108863,J=Math.min(re,z.length-1),X=Math.max(0,re-N.length+1);X<=J;X++){var oe=re-X,Y=N.words[oe]|0,q=z.words[X]|0,se=Y*q,Q=se&67108863;ne=ne+(se/67108864|0)|0,Q=Q+ue|0,ue=Q&67108863,ne=ne+(Q>>>26)|0,$+=ne>>>26,ne&=67108863}V.words[re]=ue,W=ne,ne=$}return W!==0?V.words[re]=W:V.length--,V.strip()}function E(N,z,V){var W=new b;return W.mulp(N,z,V)}f.prototype.mulTo=function(z,V){var W,$=this.length+z.length;return this.length===10&&z.length===10?W=C(this,z,V):$<63?W=A(this,z,V):$<1024?W=m(this,z,V):W=E(this,z,V),W};function b(N,z){this.x=N,this.y=z}b.prototype.makeRBT=function(z){for(var V=new Array(z),W=f.prototype._countBits(z)-1,$=0;$<z;$++)V[$]=this.revBin($,W,z);return V},b.prototype.revBin=function(z,V,W){if(z===0||z===W-1)return z;for(var $=0,re=0;re<V;re++)$|=(z&1)<<V-re-1,z>>=1;return $},b.prototype.permute=function(z,V,W,$,re,ne){for(var ue=0;ue<ne;ue++)$[ue]=V[z[ue]],re[ue]=W[z[ue]]},b.prototype.transform=function(z,V,W,$,re,ne){this.permute(ne,z,V,W,$,re);for(var ue=1;ue<re;ue<<=1)for(var J=ue<<1,X=Math.cos(2*Math.PI/J),oe=Math.sin(2*Math.PI/J),Y=0;Y<re;Y+=J)for(var q=X,se=oe,Q=0;Q<ue;Q++){var K=W[Y+Q],le=$[Y+Q],ie=W[Y+Q+ue],ce=$[Y+Q+ue],ye=q*ie-se*ce;ce=q*ce+se*ie,ie=ye,W[Y+Q]=K+ie,$[Y+Q]=le+ce,W[Y+Q+ue]=K-ie,$[Y+Q+ue]=le-ce,Q!==J&&(ye=X*q-oe*se,se=X*se+oe*q,q=ye)}},b.prototype.guessLen13b=function(z,V){var W=Math.max(V,z)|1,$=W&1,re=0;for(W=W/2|0;W;W=W>>>1)re++;return 1<<re+1+$},b.prototype.conjugate=function(z,V,W){if(!(W<=1))for(var $=0;$<W/2;$++){var re=z[$];z[$]=z[W-$-1],z[W-$-1]=re,re=V[$],V[$]=-V[W-$-1],V[W-$-1]=-re}},b.prototype.normalize13b=function(z,V){for(var W=0,$=0;$<V/2;$++){var re=Math.round(z[2*$+1]/V)*8192+Math.round(z[2*$]/V)+W;z[$]=re&67108863,re<67108864?W=0:W=re/67108864|0}return z},b.prototype.convert13b=function(z,V,W,$){for(var re=0,ne=0;ne<V;ne++)re=re+(z[ne]|0),W[2*ne]=re&8191,re=re>>>13,W[2*ne+1]=re&8191,re=re>>>13;for(ne=2*V;ne<$;++ne)W[ne]=0;n(re===0),n((re&-8192)===0)},b.prototype.stub=function(z){for(var V=new Array(z),W=0;W<z;W++)V[W]=0;return V},b.prototype.mulp=function(z,V,W){var $=2*this.guessLen13b(z.length,V.length),re=this.makeRBT($),ne=this.stub($),ue=new Array($),J=new Array($),X=new Array($),oe=new Array($),Y=new Array($),q=new Array($),se=W.words;se.length=$,this.convert13b(z.words,z.length,ue,$),this.convert13b(V.words,V.length,oe,$),this.transform(ue,ne,J,X,$,re),this.transform(oe,ne,Y,q,$,re);for(var Q=0;Q<$;Q++){var K=J[Q]*Y[Q]-X[Q]*q[Q];X[Q]=J[Q]*q[Q]+X[Q]*Y[Q],J[Q]=K}return this.conjugate(J,X,$),this.transform(J,X,se,ne,$,re),this.conjugate(se,ne,$),this.normalize13b(se,$),W.negative=z.negative^V.negative,W.length=z.length+V.length,W.strip()},f.prototype.mul=function(z){var V=new f(null);return V.words=new Array(this.length+z.length),this.mulTo(z,V)},f.prototype.mulf=function(z){var V=new f(null);return V.words=new Array(this.length+z.length),E(this,z,V)},f.prototype.imul=function(z){return this.clone().mulTo(z,this)},f.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var V=0,W=0;W<this.length;W++){var $=(this.words[W]|0)*z,re=($&67108863)+(V&67108863);V>>=26,V+=$/67108864|0,V+=re>>>26,this.words[W]=re&67108863}return V!==0&&(this.words[W]=V,this.length++),this},f.prototype.muln=function(z){return this.clone().imuln(z)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(z){var V=w(z);if(V.length===0)return new f(1);for(var W=this,$=0;$<V.length&&V[$]===0;$++,W=W.sqr());if(++$<V.length)for(var re=W.sqr();$<V.length;$++,re=re.sqr())V[$]!==0&&(W=W.mul(re));return W},f.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var V=z%26,W=(z-V)/26,$=67108863>>>26-V<<26-V,re;if(V!==0){var ne=0;for(re=0;re<this.length;re++){var ue=this.words[re]&$,J=(this.words[re]|0)-ue<<V;this.words[re]=J|ne,ne=ue>>>26-V}ne&&(this.words[re]=ne,this.length++)}if(W!==0){for(re=this.length-1;re>=0;re--)this.words[re+W]=this.words[re];for(re=0;re<W;re++)this.words[re]=0;this.length+=W}return this.strip()},f.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},f.prototype.iushrn=function(z,V,W){n(typeof z=="number"&&z>=0);var $;V?$=(V-V%26)/26:$=0;var re=z%26,ne=Math.min((z-re)/26,this.length),ue=67108863^67108863>>>re<<re,J=W;if($-=ne,$=Math.max(0,$),J){for(var X=0;X<ne;X++)J.words[X]=this.words[X];J.length=ne}if(ne!==0)if(this.length>ne)for(this.length-=ne,X=0;X<this.length;X++)this.words[X]=this.words[X+ne];else this.words[0]=0,this.length=1;var oe=0;for(X=this.length-1;X>=0&&(oe!==0||X>=$);X--){var Y=this.words[X]|0;this.words[X]=oe<<26-re|Y>>>re,oe=Y&ue}return J&&oe!==0&&(J.words[J.length++]=oe),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(z,V,W){return n(this.negative===0),this.iushrn(z,V,W)},f.prototype.shln=function(z){return this.clone().ishln(z)},f.prototype.ushln=function(z){return this.clone().iushln(z)},f.prototype.shrn=function(z){return this.clone().ishrn(z)},f.prototype.ushrn=function(z){return this.clone().iushrn(z)},f.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var V=z%26,W=(z-V)/26,$=1<<V;if(this.length<=W)return!1;var re=this.words[W];return!!(re&$)},f.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var V=z%26,W=(z-V)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(V!==0&&W++,this.length=Math.min(W,this.length),V!==0){var $=67108863^67108863>>>V<<V;this.words[this.length-1]&=$}return this.strip()},f.prototype.maskn=function(z){return this.clone().imaskn(z)},f.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},f.prototype._iaddn=function(z){this.words[0]+=z;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},f.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},f.prototype.addn=function(z){return this.clone().iaddn(z)},f.prototype.subn=function(z){return this.clone().isubn(z)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(z,V,W){var $=z.length+W,re;this._expand($);var ne,ue=0;for(re=0;re<z.length;re++){ne=(this.words[re+W]|0)+ue;var J=(z.words[re]|0)*V;ne-=J&67108863,ue=(ne>>26)-(J/67108864|0),this.words[re+W]=ne&67108863}for(;re<this.length-W;re++)ne=(this.words[re+W]|0)+ue,ue=ne>>26,this.words[re+W]=ne&67108863;if(ue===0)return this.strip();for(n(ue===-1),ue=0,re=0;re<this.length;re++)ne=-(this.words[re]|0)+ue,ue=ne>>26,this.words[re]=ne&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(z,V){var W=this.length-z.length,$=this.clone(),re=z,ne=re.words[re.length-1]|0,ue=this._countBits(ne);W=26-ue,W!==0&&(re=re.ushln(W),$.iushln(W),ne=re.words[re.length-1]|0);var J=$.length-re.length,X;if(V!=="mod"){X=new f(null),X.length=J+1,X.words=new Array(X.length);for(var oe=0;oe<X.length;oe++)X.words[oe]=0}var Y=$.clone()._ishlnsubmul(re,1,J);Y.negative===0&&($=Y,X&&(X.words[J]=1));for(var q=J-1;q>=0;q--){var se=($.words[re.length+q]|0)*67108864+($.words[re.length+q-1]|0);for(se=Math.min(se/ne|0,67108863),$._ishlnsubmul(re,se,q);$.negative!==0;)se--,$.negative=0,$._ishlnsubmul(re,1,q),$.isZero()||($.negative^=1);X&&(X.words[q]=se)}return X&&X.strip(),$.strip(),V!=="div"&&W!==0&&$.iushrn(W),{div:X||null,mod:$}},f.prototype.divmod=function(z,V,W){if(n(!z.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var $,re,ne;return this.negative!==0&&z.negative===0?(ne=this.neg().divmod(z,V),V!=="mod"&&($=ne.div.neg()),V!=="div"&&(re=ne.mod.neg(),W&&re.negative!==0&&re.iadd(z)),{div:$,mod:re}):this.negative===0&&z.negative!==0?(ne=this.divmod(z.neg(),V),V!=="mod"&&($=ne.div.neg()),{div:$,mod:ne.mod}):this.negative&z.negative?(ne=this.neg().divmod(z.neg(),V),V!=="div"&&(re=ne.mod.neg(),W&&re.negative!==0&&re.isub(z)),{div:ne.div,mod:re}):z.length>this.length||this.cmp(z)<0?{div:new f(0),mod:this}:z.length===1?V==="div"?{div:this.divn(z.words[0]),mod:null}:V==="mod"?{div:null,mod:new f(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new f(this.modn(z.words[0]))}:this._wordDiv(z,V)},f.prototype.div=function(z){return this.divmod(z,"div",!1).div},f.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},f.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},f.prototype.divRound=function(z){var V=this.divmod(z);if(V.mod.isZero())return V.div;var W=V.div.negative!==0?V.mod.isub(z):V.mod,$=z.ushrn(1),re=z.andln(1),ne=W.cmp($);return ne<0||re===1&&ne===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},f.prototype.modn=function(z){n(z<=67108863);for(var V=(1<<26)%z,W=0,$=this.length-1;$>=0;$--)W=(V*W+(this.words[$]|0))%z;return W},f.prototype.idivn=function(z){n(z<=67108863);for(var V=0,W=this.length-1;W>=0;W--){var $=(this.words[W]|0)+V*67108864;this.words[W]=$/z|0,V=$%z}return this.strip()},f.prototype.divn=function(z){return this.clone().idivn(z)},f.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var V=this,W=z.clone();V.negative!==0?V=V.umod(z):V=V.clone();for(var $=new f(1),re=new f(0),ne=new f(0),ue=new f(1),J=0;V.isEven()&&W.isEven();)V.iushrn(1),W.iushrn(1),++J;for(var X=W.clone(),oe=V.clone();!V.isZero();){for(var Y=0,q=1;!(V.words[0]&q)&&Y<26;++Y,q<<=1);if(Y>0)for(V.iushrn(Y);Y-- >0;)($.isOdd()||re.isOdd())&&($.iadd(X),re.isub(oe)),$.iushrn(1),re.iushrn(1);for(var se=0,Q=1;!(W.words[0]&Q)&&se<26;++se,Q<<=1);if(se>0)for(W.iushrn(se);se-- >0;)(ne.isOdd()||ue.isOdd())&&(ne.iadd(X),ue.isub(oe)),ne.iushrn(1),ue.iushrn(1);V.cmp(W)>=0?(V.isub(W),$.isub(ne),re.isub(ue)):(W.isub(V),ne.isub($),ue.isub(re))}return{a:ne,b:ue,gcd:W.iushln(J)}},f.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var V=this,W=z.clone();V.negative!==0?V=V.umod(z):V=V.clone();for(var $=new f(1),re=new f(0),ne=W.clone();V.cmpn(1)>0&&W.cmpn(1)>0;){for(var ue=0,J=1;!(V.words[0]&J)&&ue<26;++ue,J<<=1);if(ue>0)for(V.iushrn(ue);ue-- >0;)$.isOdd()&&$.iadd(ne),$.iushrn(1);for(var X=0,oe=1;!(W.words[0]&oe)&&X<26;++X,oe<<=1);if(X>0)for(W.iushrn(X);X-- >0;)re.isOdd()&&re.iadd(ne),re.iushrn(1);V.cmp(W)>=0?(V.isub(W),$.isub(re)):(W.isub(V),re.isub($))}var Y;return V.cmpn(1)===0?Y=$:Y=re,Y.cmpn(0)<0&&Y.iadd(z),Y},f.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var V=this.clone(),W=z.clone();V.negative=0,W.negative=0;for(var $=0;V.isEven()&&W.isEven();$++)V.iushrn(1),W.iushrn(1);do{for(;V.isEven();)V.iushrn(1);for(;W.isEven();)W.iushrn(1);var re=V.cmp(W);if(re<0){var ne=V;V=W,W=ne}else if(re===0||W.cmpn(1)===0)break;V.isub(W)}while(!0);return W.iushln($)},f.prototype.invm=function(z){return this.egcd(z).a.umod(z)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(z){return this.words[0]&z},f.prototype.bincn=function(z){n(typeof z=="number");var V=z%26,W=(z-V)/26,$=1<<V;if(this.length<=W)return this._expand(W+1),this.words[W]|=$,this;for(var re=$,ne=W;re!==0&&ne<this.length;ne++){var ue=this.words[ne]|0;ue+=re,re=ue>>>26,ue&=67108863,this.words[ne]=ue}return re!==0&&(this.words[ne]=re,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(z){var V=z<0;if(this.negative!==0&&!V)return-1;if(this.negative===0&&V)return 1;this.strip();var W;if(this.length>1)W=1;else{V&&(z=-z),n(z<=67108863,"Number is too big");var $=this.words[0]|0;W=$===z?0:$<z?-1:1}return this.negative!==0?-W|0:W},f.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var V=this.ucmp(z);return this.negative!==0?-V|0:V},f.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var V=0,W=this.length-1;W>=0;W--){var $=this.words[W]|0,re=z.words[W]|0;if($!==re){$<re?V=-1:$>re&&(V=1);break}}return V},f.prototype.gtn=function(z){return this.cmpn(z)===1},f.prototype.gt=function(z){return this.cmp(z)===1},f.prototype.gten=function(z){return this.cmpn(z)>=0},f.prototype.gte=function(z){return this.cmp(z)>=0},f.prototype.ltn=function(z){return this.cmpn(z)===-1},f.prototype.lt=function(z){return this.cmp(z)===-1},f.prototype.lten=function(z){return this.cmpn(z)<=0},f.prototype.lte=function(z){return this.cmp(z)<=0},f.prototype.eqn=function(z){return this.cmpn(z)===0},f.prototype.eq=function(z){return this.cmp(z)===0},f.red=function(z){return new F(z)},f.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},f.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(z){return this.red=z,this},f.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},f.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},f.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},f.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},f.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},f.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},f.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},f.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},f.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var s={k256:null,p224:null,p192:null,p25519:null};function L(N,z){this.name=N,this.p=new f(z,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var z=new f(null);return z.words=new Array(Math.ceil(this.n/13)),z},L.prototype.ireduce=function(z){var V=z,W;do this.split(V,this.tmp),V=this.imulK(V),V=V.iadd(this.tmp),W=V.bitLength();while(W>this.n);var $=W<this.n?-1:V.ucmp(this.p);return $===0?(V.words[0]=0,V.length=1):$>0?V.isub(this.p):V.strip!==void 0?V.strip():V._strip(),V},L.prototype.split=function(z,V){z.iushrn(this.n,0,V)},L.prototype.imulK=function(z){return z.imul(this.k)};function T(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(T,L),T.prototype.split=function(z,V){for(var W=4194303,$=Math.min(z.length,9),re=0;re<$;re++)V.words[re]=z.words[re];if(V.length=$,z.length<=9){z.words[0]=0,z.length=1;return}var ne=z.words[9];for(V.words[V.length++]=ne&W,re=10;re<z.length;re++){var ue=z.words[re]|0;z.words[re-10]=(ue&W)<<4|ne>>>22,ne=ue}ne>>>=22,z.words[re-10]=ne,ne===0&&z.length>10?z.length-=10:z.length-=9},T.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var V=0,W=0;W<z.length;W++){var $=z.words[W]|0;V+=$*977,z.words[W]=V&67108863,V=$*64+(V/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function k(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(k,L);function _(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(_,L);function B(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(B,L),B.prototype.imulK=function(z){for(var V=0,W=0;W<z.length;W++){var $=(z.words[W]|0)*19+V,re=$&67108863;$>>>=26,z.words[W]=re,V=$}return V!==0&&(z.words[z.length++]=V),z},f._prime=function(z){if(s[z])return s[z];var V;if(z==="k256")V=new T;else if(z==="p224")V=new k;else if(z==="p192")V=new _;else if(z==="p25519")V=new B;else throw new Error("Unknown prime "+z);return s[z]=V,V};function F(N){if(typeof N=="string"){var z=f._prime(N);this.m=z.p,this.prime=z}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}F.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},F.prototype._verify2=function(z,V){n((z.negative|V.negative)===0,"red works only with positives"),n(z.red&&z.red===V.red,"red works only with red numbers")},F.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},F.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},F.prototype.add=function(z,V){this._verify2(z,V);var W=z.add(V);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},F.prototype.iadd=function(z,V){this._verify2(z,V);var W=z.iadd(V);return W.cmp(this.m)>=0&&W.isub(this.m),W},F.prototype.sub=function(z,V){this._verify2(z,V);var W=z.sub(V);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},F.prototype.isub=function(z,V){this._verify2(z,V);var W=z.isub(V);return W.cmpn(0)<0&&W.iadd(this.m),W},F.prototype.shl=function(z,V){return this._verify1(z),this.imod(z.ushln(V))},F.prototype.imul=function(z,V){return this._verify2(z,V),this.imod(z.imul(V))},F.prototype.mul=function(z,V){return this._verify2(z,V),this.imod(z.mul(V))},F.prototype.isqr=function(z){return this.imul(z,z.clone())},F.prototype.sqr=function(z){return this.mul(z,z)},F.prototype.sqrt=function(z){if(z.isZero())return z.clone();var V=this.m.andln(3);if(n(V%2===1),V===3){var W=this.m.add(new f(1)).iushrn(2);return this.pow(z,W)}for(var $=this.m.subn(1),re=0;!$.isZero()&&$.andln(1)===0;)re++,$.iushrn(1);n(!$.isZero());var ne=new f(1).toRed(this),ue=ne.redNeg(),J=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new f(2*X*X).toRed(this);this.pow(X,J).cmp(ue)!==0;)X.redIAdd(ue);for(var oe=this.pow(X,$),Y=this.pow(z,$.addn(1).iushrn(1)),q=this.pow(z,$),se=re;q.cmp(ne)!==0;){for(var Q=q,K=0;Q.cmp(ne)!==0;K++)Q=Q.redSqr();n(K<se);var le=this.pow(oe,new f(1).iushln(se-K-1));Y=Y.redMul(le),oe=le.redSqr(),q=q.redMul(oe),se=K}return Y},F.prototype.invm=function(z){var V=z._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},F.prototype.pow=function(z,V){if(V.isZero())return new f(1).toRed(this);if(V.cmpn(1)===0)return z.clone();var W=4,$=new Array(1<<W);$[0]=new f(1).toRed(this),$[1]=z;for(var re=2;re<$.length;re++)$[re]=this.mul($[re-1],z);var ne=$[0],ue=0,J=0,X=V.bitLength()%26;for(X===0&&(X=26),re=V.length-1;re>=0;re--){for(var oe=V.words[re],Y=X-1;Y>=0;Y--){var q=oe>>Y&1;if(ne!==$[0]&&(ne=this.sqr(ne)),q===0&&ue===0){J=0;continue}ue<<=1,ue|=q,J++,!(J!==W&&(re!==0||Y!==0))&&(ne=this.mul(ne,$[ue]),J=0,ue=0)}X=26}return ne},F.prototype.convertTo=function(z){var V=z.umod(this.m);return V===z?V.clone():V},F.prototype.convertFrom=function(z){var V=z.clone();return V.red=null,V},f.mont=function(z){return new O(z)};function O(N){F.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(O,F),O.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},O.prototype.convertFrom=function(z){var V=this.imod(z.mul(this.rinv));return V.red=null,V},O.prototype.imul=function(z,V){if(z.isZero()||V.isZero())return z.words[0]=0,z.length=1,z;var W=z.imul(V),$=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=W.isub($).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},O.prototype.mul=function(z,V){if(z.isZero()||V.isZero())return new f(0)._forceRed(this);var W=z.mul(V),$=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=W.isub($).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},O.prototype.invm=function(z){var V=this.imod(z._invmp(this.m).mul(this.r2));return V._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(r){var t,i,n,u=r.length,f=0;for(t=0;t<u;++t)f+=r[t].length;var l=new Array(f),y=0;for(t=0;t<u;++t){var h=r[t],S=h.length;for(i=0;i<S;++i){var c=l[y++]=new Array(S-1),o=0;for(n=0;n<S;++n)n!==i&&(c[o++]=h[n]);if(i&1){var d=c[1];c[1]=c[0],c[0]=d}}}return l}},2569:function(v,p,r){v.exports=o;var t=r(5306),i=r(1390),n=r(2337);function u(d,w){for(var A=0;A<d;++A)if(!(w[A]<=w[A+d]))return!0;return!1}function f(d,w,A,C){for(var m=0,E=0,b=0,s=d.length;b<s;++b){var L=d[b];if(!u(w,L)){for(var T=0;T<2*w;++T)A[m++]=L[T];C[E++]=b}}return E}function l(d,w,A,C){var m=d.length,E=w.length;if(!(m<=0||E<=0)){var b=d[0].length>>>1;if(!(b<=0)){var s,L=t.mallocDouble(2*b*m),T=t.mallocInt32(m);if(m=f(d,b,L,T),m>0){if(b===1&&C)i.init(m),s=i.sweepComplete(b,A,0,m,L,T,0,m,L,T);else{var k=t.mallocDouble(2*b*E),_=t.mallocInt32(E);E=f(w,b,k,_),E>0&&(i.init(m+E),b===1?s=i.sweepBipartite(b,A,0,m,L,T,0,E,k,_):s=n(b,A,C,m,L,T,E,k,_),t.free(k),t.free(_))}t.free(L),t.free(T)}return s}}}var y;function h(d,w){y.push([d,w])}function S(d){return y=[],l(d,d,h,!0),y}function c(d,w){return y=[],l(d,w,h,!1),y}function o(d,w,A){switch(arguments.length){case 1:return S(d);case 2:return typeof w=="function"?l(d,d,w,!0):c(d,w);case 3:return l(d,w,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function r(){function n(l,y,h,S,c,o,d,w,A,C,m){for(var E=2*l,b=S,s=E*S;b<c;++b,s+=E){var L=o[y+s],T=o[y+s+l],k=d[b];e:for(var _=w,B=E*w;_<A;++_,B+=E){var F=C[y+B],O=C[y+B+l],N=m[_];if(!(O<L||T<F)){for(var z=y+1;z<l;++z){var V=o[z+s],W=o[z+l+s],$=C[z+B],re=C[z+l+B];if(W<$||re<V)continue e}var ne=h(k,N);if(ne!==void 0)return ne}}}}function u(l,y,h,S,c,o,d,w,A,C,m){for(var E=2*l,b=w,s=E*w;b<A;++b,s+=E){var L=C[y+s],T=C[y+s+l],k=m[b];e:for(var _=S,B=E*S;_<c;++_,B+=E){var F=o[y+B],O=o[y+B+l],N=d[_];if(!(T<F||O<L)){for(var z=y+1;z<l;++z){var V=o[z+B],W=o[z+l+B],$=C[z+s],re=C[z+l+s];if(W<$||re<V)continue e}var ne=h(N,k);if(ne!==void 0)return ne}}}}function f(l,y,h,S,c,o,d,w,A,C,m){return c-S>A-w?n(l,y,h,S,c,o,d,w,A,C,m):u(l,y,h,S,c,o,d,w,A,C,m)}return f}function t(){function n(h,S,c,o,d,w,A,C,m,E,b){for(var s=2*h,L=o,T=s*o;L<d;++L,T+=s){var k=w[S+T],_=w[S+T+h],B=A[L];e:for(var F=C,O=s*C;F<m;++F,O+=s){var N=E[S+O],z=b[F];if(!(N<=k||_<N)){for(var V=S+1;V<h;++V){var W=w[V+T],$=w[V+h+T],re=E[V+O],ne=E[V+h+O];if($<re||ne<W)continue e}var ue=c(z,B);if(ue!==void 0)return ue}}}}function u(h,S,c,o,d,w,A,C,m,E,b){for(var s=2*h,L=o,T=s*o;L<d;++L,T+=s){var k=w[S+T],_=w[S+T+h],B=A[L];e:for(var F=C,O=s*C;F<m;++F,O+=s){var N=E[S+O],z=b[F];if(!(N<k||_<N)){for(var V=S+1;V<h;++V){var W=w[V+T],$=w[V+h+T],re=E[V+O],ne=E[V+h+O];if($<re||ne<W)continue e}var ue=c(B,z);if(ue!==void 0)return ue}}}}function f(h,S,c,o,d,w,A,C,m,E,b){for(var s=2*h,L=C,T=s*C;L<m;++L,T+=s){var k=E[S+T],_=b[L];e:for(var B=o,F=s*o;B<d;++B,F+=s){var O=w[S+F],N=w[S+F+h],z=A[B];if(!(k<=O||N<k)){for(var V=S+1;V<h;++V){var W=w[V+F],$=w[V+h+F],re=E[V+T],ne=E[V+h+T];if($<re||ne<W)continue e}var ue=c(_,z);if(ue!==void 0)return ue}}}}function l(h,S,c,o,d,w,A,C,m,E,b){for(var s=2*h,L=C,T=s*C;L<m;++L,T+=s){var k=E[S+T],_=b[L];e:for(var B=o,F=s*o;B<d;++B,F+=s){var O=w[S+F],N=w[S+F+h],z=A[B];if(!(k<O||N<k)){for(var V=S+1;V<h;++V){var W=w[V+F],$=w[V+h+F],re=E[V+T],ne=E[V+h+T];if($<re||ne<W)continue e}var ue=c(z,_);if(ue!==void 0)return ue}}}}function y(h,S,c,o,d,w,A,C,m,E,b,s){return w-d>E-m?o?n(h,S,c,d,w,A,C,m,E,b,s):u(h,S,c,d,w,A,C,m,E,b,s):o?f(h,S,c,d,w,A,C,m,E,b,s):l(h,S,c,d,w,A,C,m,E,b,s)}return y}function i(n){return n?r():t()}p.partial=i(!1),p.full=i(!0)},2337:function(v,p,r){v.exports=N;var t=r(5306),i=r(2288),n=r(7333),u=n.partial,f=n.full,l=r(1390),y=r(2464),h=r(122),S=128,c=1<<22,o=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),w=h("lo===p0"),A=h("lo<p0"),C=h("hi<=p0"),m=h("lo<=p0&&p0<=hi"),E=h("lo<p0&&p0<=hi"),b=6,s=2,L=1024,T=t.mallocInt32(L),k=t.mallocDouble(L);function _(z,V){var W=8*i.log2(V+1)*(z+1)|0,$=i.nextPow2(b*W);T.length<$&&(t.free(T),T=t.mallocInt32($));var re=i.nextPow2(s*W);k.length<re&&(t.free(k),k=t.mallocDouble(re))}function B(z,V,W,$,re,ne,ue,J,X){var oe=b*z;T[oe]=V,T[oe+1]=W,T[oe+2]=$,T[oe+3]=re,T[oe+4]=ne,T[oe+5]=ue;var Y=s*z;k[Y]=J,k[Y+1]=X}function F(z,V,W,$,re,ne,ue,J,X,oe,Y){var q=2*z,se=X*q,Q=oe[se+V];e:for(var K=re,le=re*q;K<ne;++K,le+=q){var ie=ue[le+V],ce=ue[le+V+z];if(!(Q<ie||ce<Q)&&!($&&Q===ie)){for(var ye=J[K],Ce=V+1;Ce<z;++Ce){var ie=ue[le+Ce],ce=ue[le+Ce+z],Ae=oe[se+Ce],ke=oe[se+Ce+z];if(ce<Ae||ke<ie)continue e}var we;if($?we=W(Y,ye):we=W(ye,Y),we!==void 0)return we}}}function O(z,V,W,$,re,ne,ue,J,X,oe){var Y=2*z,q=J*Y,se=X[q+V];e:for(var Q=$,K=$*Y;Q<re;++Q,K+=Y){var le=ue[Q];if(le!==oe){var ie=ne[K+V],ce=ne[K+V+z];if(!(se<ie||ce<se)){for(var ye=V+1;ye<z;++ye){var ie=ne[K+ye],ce=ne[K+ye+z],Ce=X[q+ye],Ae=X[q+ye+z];if(ce<Ce||Ae<ie)continue e}var ke=W(le,oe);if(ke!==void 0)return ke}}}}function N(z,V,W,$,re,ne,ue,J,X){_(z,$+ue);var oe=0,Y=2*z,q;for(B(oe++,0,0,$,0,ue,W?16:0,-1/0,1/0),W||B(oe++,0,0,ue,0,$,1,-1/0,1/0);oe>0;){oe-=1;var se=oe*b,Q=T[se],K=T[se+1],le=T[se+2],ie=T[se+3],ce=T[se+4],ye=T[se+5],Ce=oe*s,Ae=k[Ce],ke=k[Ce+1],we=ye&1,Ee=!!(ye&16),xe=re,Pe=ne,Ue=J,Be=X;if(we&&(xe=J,Pe=X,Ue=re,Be=ne),!(ye&2&&(le=A(z,Q,K,le,xe,Pe,ke),K>=le))&&!(ye&4&&(K=C(z,Q,K,le,xe,Pe,Ae),K>=le))){var Ne=le-K,Xe=ce-ie;if(Ee){if(z*Ne*(Ne+Xe)<o){if(q=l.scanComplete(z,Q,V,K,le,xe,Pe,ie,ce,Ue,Be),q!==void 0)return q;continue}}else if(z*Math.min(Ne,Xe)<S){if(q=u(z,Q,V,we,K,le,xe,Pe,ie,ce,Ue,Be),q!==void 0)return q;continue}else if(z*Ne*Xe<c){if(q=l.scanBipartite(z,Q,V,we,K,le,xe,Pe,ie,ce,Ue,Be),q!==void 0)return q;continue}var ut=d(z,Q,K,le,xe,Pe,Ae,ke);if(K<ut)if(z*(ut-K)<S){if(q=f(z,Q+1,V,K,ut,xe,Pe,ie,ce,Ue,Be),q!==void 0)return q}else if(Q===z-2){if(we?q=l.sweepBipartite(z,V,ie,ce,Ue,Be,K,ut,xe,Pe):q=l.sweepBipartite(z,V,K,ut,xe,Pe,ie,ce,Ue,Be),q!==void 0)return q}else B(oe++,Q+1,K,ut,ie,ce,we,-1/0,1/0),B(oe++,Q+1,ie,ce,K,ut,we^1,-1/0,1/0);if(ut<le){var dt=y(z,Q,ie,ce,Ue,Be),at=Ue[Y*dt+Q],We=w(z,Q,dt,ce,Ue,Be,at);if(We<ce&&B(oe++,Q,ut,le,We,ce,(we|4)+(Ee?16:0),at,ke),ie<dt&&B(oe++,Q,ut,le,ie,dt,(we|2)+(Ee?16:0),Ae,at),dt+1===We){if(Ee?q=O(z,Q,V,ut,le,xe,Pe,dt,Ue,Be[dt]):q=F(z,Q,V,we,ut,le,xe,Pe,dt,Ue,Be[dt]),q!==void 0)return q}else if(dt<We){var rt;if(Ee){if(rt=m(z,Q,ut,le,xe,Pe,at),ut<rt){var st=w(z,Q,ut,rt,xe,Pe,at);if(Q===z-2){if(ut<st&&(q=l.sweepComplete(z,V,ut,st,xe,Pe,dt,We,Ue,Be),q!==void 0)||st<rt&&(q=l.sweepBipartite(z,V,st,rt,xe,Pe,dt,We,Ue,Be),q!==void 0))return q}else ut<st&&B(oe++,Q+1,ut,st,dt,We,16,-1/0,1/0),st<rt&&(B(oe++,Q+1,st,rt,dt,We,0,-1/0,1/0),B(oe++,Q+1,dt,We,st,rt,1,-1/0,1/0))}}else we?rt=E(z,Q,ut,le,xe,Pe,at):rt=m(z,Q,ut,le,xe,Pe,at),ut<rt&&(Q===z-2?we?q=l.sweepBipartite(z,V,dt,We,Ue,Be,ut,rt,xe,Pe):q=l.sweepBipartite(z,V,ut,rt,xe,Pe,dt,We,Ue,Be):(B(oe++,Q+1,ut,rt,dt,We,we,-1/0,1/0),B(oe++,Q+1,dt,We,ut,rt,we^1,-1/0,1/0)))}}}}}},2464:function(v,p,r){v.exports=f;var t=r(122),i=t("lo<p0"),n=8;function u(l,y,h,S,c,o){for(var d=2*l,w=d*(h+1)+y,A=h+1;A<S;++A,w+=d)for(var C=c[w],m=A,E=d*(A-1);m>h&&c[E+y]>C;--m,E-=d){for(var b=E,s=E+d,L=0;L<d;++L,++b,++s){var T=c[b];c[b]=c[s],c[s]=T}var k=o[m];o[m]=o[m-1],o[m-1]=k}}function f(l,y,h,S,c,o){if(S<=h+1)return h;for(var d=h,w=S,A=S+h>>>1,C=2*l,m=A,E=c[C*A+y];d<w;){if(w-d<n){u(l,y,d,w,c,o),E=c[C*A+y];break}var b=w-d,s=Math.random()*b+d|0,L=c[C*s+y],T=Math.random()*b+d|0,k=c[C*T+y],_=Math.random()*b+d|0,B=c[C*_+y];L<=k?B>=k?(m=T,E=k):L>=B?(m=s,E=L):(m=_,E=B):k>=B?(m=T,E=k):B>=L?(m=s,E=L):(m=_,E=B);for(var N=C*(w-1),z=C*m,F=0;F<C;++F,++N,++z){var O=c[N];c[N]=c[z],c[z]=O}var V=o[w-1];o[w-1]=o[m],o[m]=V,m=i(l,y,d,w-1,c,o,E);for(var N=C*(w-1),z=C*m,F=0;F<C;++F,++N,++z){var O=c[N];c[N]=c[z],c[z]=O}var V=o[w-1];if(o[w-1]=o[m],o[m]=V,A<m){for(w=m-1;d<w&&c[C*(w-1)+y]===E;)w-=1;w+=1}else if(m<A)for(d=m+1;d<w&&c[C*d+y]===E;)d+=1;else break}return i(l,y,h,A,c,o,c[C*A+y])}},122:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":i,"lo<=p0":n,"hi<=p0":u,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":y};function r(h){return p[h]}function t(h,S,c,o,d,w,A){for(var C=2*h,m=C*c,E=m,b=c,s=S,L=h+S,T=c;o>T;++T,m+=C){var k=d[m+s];if(k===A)if(b===T)b+=1,E+=C;else{for(var _=0;C>_;++_){var B=d[m+_];d[m+_]=d[E],d[E++]=B}var F=w[T];w[T]=w[b],w[b++]=F}}return b}function i(h,S,c,o,d,w,A){for(var C=2*h,m=C*c,E=m,b=c,s=S,L=h+S,T=c;o>T;++T,m+=C){var k=d[m+s];if(k<A)if(b===T)b+=1,E+=C;else{for(var _=0;C>_;++_){var B=d[m+_];d[m+_]=d[E],d[E++]=B}var F=w[T];w[T]=w[b],w[b++]=F}}return b}function n(h,S,c,o,d,w,A){for(var C=2*h,m=C*c,E=m,b=c,s=S,L=h+S,T=c;o>T;++T,m+=C){var k=d[m+L];if(k<=A)if(b===T)b+=1,E+=C;else{for(var _=0;C>_;++_){var B=d[m+_];d[m+_]=d[E],d[E++]=B}var F=w[T];w[T]=w[b],w[b++]=F}}return b}function u(h,S,c,o,d,w,A){for(var C=2*h,m=C*c,E=m,b=c,s=S,L=h+S,T=c;o>T;++T,m+=C){var k=d[m+L];if(k<=A)if(b===T)b+=1,E+=C;else{for(var _=0;C>_;++_){var B=d[m+_];d[m+_]=d[E],d[E++]=B}var F=w[T];w[T]=w[b],w[b++]=F}}return b}function f(h,S,c,o,d,w,A){for(var C=2*h,m=C*c,E=m,b=c,s=S,L=h+S,T=c;o>T;++T,m+=C){var k=d[m+s],_=d[m+L];if(k<=A&&A<=_)if(b===T)b+=1,E+=C;else{for(var B=0;C>B;++B){var F=d[m+B];d[m+B]=d[E],d[E++]=F}var O=w[T];w[T]=w[b],w[b++]=O}}return b}function l(h,S,c,o,d,w,A){for(var C=2*h,m=C*c,E=m,b=c,s=S,L=h+S,T=c;o>T;++T,m+=C){var k=d[m+s],_=d[m+L];if(k<A&&A<=_)if(b===T)b+=1,E+=C;else{for(var B=0;C>B;++B){var F=d[m+B];d[m+B]=d[E],d[E++]=F}var O=w[T];w[T]=w[b],w[b++]=O}}return b}function y(h,S,c,o,d,w,A,C){for(var m=2*h,E=m*c,b=E,s=c,L=S,T=h+S,k=c;o>k;++k,E+=m){var _=d[E+L],B=d[E+T];if(!(_>=A)&&!(C>=B))if(s===k)s+=1,b+=m;else{for(var F=0;m>F;++F){var O=d[E+F];d[E+F]=d[b],d[b++]=O}var N=w[k];w[k]=w[s],w[s++]=N}}return s}},309:function(v){v.exports=r;var p=32;function r(S,c){c<=4*p?t(0,c-1,S):h(0,c-1,S)}function t(S,c,o){for(var d=2*(S+1),w=S+1;w<=c;++w){for(var A=o[d++],C=o[d++],m=w,E=d-2;m-- >S;){var b=o[E-2],s=o[E-1];if(b<A)break;if(b===A&&s<C)break;o[E]=b,o[E+1]=s,E-=2}o[E]=A,o[E+1]=C}}function i(S,c,o){S*=2,c*=2;var d=o[S],w=o[S+1];o[S]=o[c],o[S+1]=o[c+1],o[c]=d,o[c+1]=w}function n(S,c,o){S*=2,c*=2,o[S]=o[c],o[S+1]=o[c+1]}function u(S,c,o,d){S*=2,c*=2,o*=2;var w=d[S],A=d[S+1];d[S]=d[c],d[S+1]=d[c+1],d[c]=d[o],d[c+1]=d[o+1],d[o]=w,d[o+1]=A}function f(S,c,o,d,w){S*=2,c*=2,w[S]=w[c],w[c]=o,w[S+1]=w[c+1],w[c+1]=d}function l(S,c,o){S*=2,c*=2;var d=o[S],w=o[c];return d<w?!1:d===w?o[S+1]>o[c+1]:!0}function y(S,c,o,d){S*=2;var w=d[S];return w<c?!0:w===c?d[S+1]<o:!1}function h(S,c,o){var d=(c-S+1)/6|0,w=S+d,A=c-d,C=S+c>>1,m=C-d,E=C+d,b=w,s=m,L=C,T=E,k=A,_=S+1,B=c-1,F=0;l(b,s,o)&&(F=b,b=s,s=F),l(T,k,o)&&(F=T,T=k,k=F),l(b,L,o)&&(F=b,b=L,L=F),l(s,L,o)&&(F=s,s=L,L=F),l(b,T,o)&&(F=b,b=T,T=F),l(L,T,o)&&(F=L,L=T,T=F),l(s,k,o)&&(F=s,s=k,k=F),l(s,L,o)&&(F=s,s=L,L=F),l(T,k,o)&&(F=T,T=k,k=F);for(var O=o[2*s],N=o[2*s+1],z=o[2*T],V=o[2*T+1],W=2*b,$=2*L,re=2*k,ne=2*w,ue=2*C,J=2*A,X=0;X<2;++X){var oe=o[W+X],Y=o[$+X],q=o[re+X];o[ne+X]=oe,o[ue+X]=Y,o[J+X]=q}n(m,S,o),n(E,c,o);for(var se=_;se<=B;++se)if(y(se,O,N,o))se!==_&&i(se,_,o),++_;else if(!y(se,z,V,o))for(;;)if(y(B,z,V,o)){y(B,O,N,o)?(u(se,_,B,o),++_,--B):(i(se,B,o),--B);break}else{if(--B<se)break;continue}f(S,_-1,O,N,o),f(c,B+1,z,V,o),_-2-S<=p?t(S,_-2,o):h(S,_-2,o),c-(B+2)<=p?t(B+2,c,o):h(B+2,c,o),B-_<=p?t(_,B,o):h(_,B,o)}},1390:function(v,p,r){v.exports={init:w,sweepBipartite:m,sweepComplete:E,scanBipartite:b,scanComplete:s};var t=r(5306),i=r(2288),n=r(309),u=1<<28,f=1024,l=t.mallocInt32(f),y=t.mallocInt32(f),h=t.mallocInt32(f),S=t.mallocInt32(f),c=t.mallocInt32(f),o=t.mallocInt32(f),d=t.mallocDouble(f*8);function w(L){var T=i.nextPow2(L);l.length<T&&(t.free(l),l=t.mallocInt32(T)),y.length<T&&(t.free(y),y=t.mallocInt32(T)),h.length<T&&(t.free(h),h=t.mallocInt32(T)),S.length<T&&(t.free(S),S=t.mallocInt32(T)),c.length<T&&(t.free(c),c=t.mallocInt32(T)),o.length<T&&(t.free(o),o=t.mallocInt32(T));var k=8*T;d.length<k&&(t.free(d),d=t.mallocDouble(k))}function A(L,T,k,_){var B=T[_],F=L[k-1];L[B]=F,T[F]=B}function C(L,T,k,_){L[k]=_,T[_]=k}function m(L,T,k,_,B,F,O,N,z,V){for(var W=0,$=2*L,re=L-1,ne=$-1,ue=k;ue<_;++ue){var J=F[ue],X=$*ue;d[W++]=B[X+re],d[W++]=-(J+1),d[W++]=B[X+ne],d[W++]=J}for(var ue=O;ue<N;++ue){var J=V[ue]+u,oe=$*ue;d[W++]=z[oe+re],d[W++]=-J,d[W++]=z[oe+ne],d[W++]=J}var Y=W>>>1;n(d,Y);for(var q=0,se=0,ue=0;ue<Y;++ue){var Q=d[2*ue+1]|0;if(Q>=u)Q=Q-u|0,A(h,S,se--,Q);else if(Q>=0)A(l,y,q--,Q);else if(Q<=-u){Q=-Q-u|0;for(var K=0;K<q;++K){var le=T(l[K],Q);if(le!==void 0)return le}C(h,S,se++,Q)}else{Q=-Q-1|0;for(var K=0;K<se;++K){var le=T(Q,h[K]);if(le!==void 0)return le}C(l,y,q++,Q)}}}function E(L,T,k,_,B,F,O,N,z,V){for(var W=0,$=2*L,re=L-1,ne=$-1,ue=k;ue<_;++ue){var J=F[ue]+1<<1,X=$*ue;d[W++]=B[X+re],d[W++]=-J,d[W++]=B[X+ne],d[W++]=J}for(var ue=O;ue<N;++ue){var J=V[ue]+1<<1,oe=$*ue;d[W++]=z[oe+re],d[W++]=-J|1,d[W++]=z[oe+ne],d[W++]=J|1}var Y=W>>>1;n(d,Y);for(var q=0,se=0,Q=0,ue=0;ue<Y;++ue){var K=d[2*ue+1]|0,le=K&1;if(ue<Y-1&&K>>1===d[2*ue+3]>>1&&(le=2,ue+=1),K<0){for(var ie=-(K>>1)-1,ce=0;ce<Q;++ce){var ye=T(c[ce],ie);if(ye!==void 0)return ye}if(le!==0)for(var ce=0;ce<q;++ce){var ye=T(l[ce],ie);if(ye!==void 0)return ye}if(le!==1)for(var ce=0;ce<se;++ce){var ye=T(h[ce],ie);if(ye!==void 0)return ye}le===0?C(l,y,q++,ie):le===1?C(h,S,se++,ie):le===2&&C(c,o,Q++,ie)}else{var ie=(K>>1)-1;le===0?A(l,y,q--,ie):le===1?A(h,S,se--,ie):le===2&&A(c,o,Q--,ie)}}}function b(L,T,k,_,B,F,O,N,z,V,W,$){var re=0,ne=2*L,ue=T,J=T+L,X=1,oe=1;_?oe=u:X=u;for(var Y=B;Y<F;++Y){var q=Y+X,se=ne*Y;d[re++]=O[se+ue],d[re++]=-q,d[re++]=O[se+J],d[re++]=q}for(var Y=z;Y<V;++Y){var q=Y+oe,Q=ne*Y;d[re++]=W[Q+ue],d[re++]=-q}var K=re>>>1;n(d,K);for(var le=0,Y=0;Y<K;++Y){var ie=d[2*Y+1]|0;if(ie<0){var q=-ie,ce=!1;if(q>=u?(ce=!_,q-=u):(ce=!!_,q-=1),ce)C(l,y,le++,q);else{var ye=$[q],Ce=ne*q,Ae=W[Ce+T+1],ke=W[Ce+T+1+L];e:for(var we=0;we<le;++we){var Ee=l[we],xe=ne*Ee;if(!(ke<O[xe+T+1]||O[xe+T+1+L]<Ae)){for(var Pe=T+2;Pe<L;++Pe)if(W[Ce+Pe+L]<O[xe+Pe]||O[xe+Pe+L]<W[Ce+Pe])continue e;var Ue=N[Ee],Be;if(_?Be=k(ye,Ue):Be=k(Ue,ye),Be!==void 0)return Be}}}}else A(l,y,le--,ie-X)}}function s(L,T,k,_,B,F,O,N,z,V,W){for(var $=0,re=2*L,ne=T,ue=T+L,J=_;J<B;++J){var X=J+u,oe=re*J;d[$++]=F[oe+ne],d[$++]=-X,d[$++]=F[oe+ue],d[$++]=X}for(var J=N;J<z;++J){var X=J+1,Y=re*J;d[$++]=V[Y+ne],d[$++]=-X}var q=$>>>1;n(d,q);for(var se=0,J=0;J<q;++J){var Q=d[2*J+1]|0;if(Q<0){var X=-Q;if(X>=u)l[se++]=X-u;else{X-=1;var K=W[X],le=re*X,ie=V[le+T+1],ce=V[le+T+1+L];e:for(var ye=0;ye<se;++ye){var Ce=l[ye],Ae=O[Ce];if(Ae===K)break;var ke=re*Ce;if(!(ce<F[ke+T+1]||F[ke+T+1+L]<ie)){for(var we=T+2;we<L;++we)if(V[le+we+L]<F[ke+we]||F[ke+we+L]<V[le+we])continue e;var Ee=k(Ae,K);if(Ee!==void 0)return Ee}}}}else{for(var X=Q-u,ye=se-1;ye>=0;--ye)if(l[ye]===X){for(var we=ye+1;we<se;++we)l[we-1]=l[we];break}--se}}}},7761:function(v,p,r){var t=r(9971),i=r(743),n=r(2161),u=r(7098);v.exports=S;function f(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,o){return c[0]-o[0]||c[1]-o[1]}function y(c){return c.map(f).sort(l)}function h(c,o,d){return o in c?c[o]:d}function S(c,o,d){Array.isArray(o)?(d=d||{},o=o||[]):(d=o||{},o=[]);var w=!!h(d,"delaunay",!0),A=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),m=!!h(d,"infinity",!1);if(!A&&!C||c.length===0)return[];var E=t(c,o);if(w||A!==C||m){for(var b=i(c.length,y(o)),s=0;s<E.length;++s){var L=E[s];b.addTriangle(L[0],L[1],L[2])}return w&&n(c,b),C?A?m?u(b,0,m):b.cells():u(b,1,m):u(b,-1)}else return E}},2161:function(v,p,r){var t=r(2227)[4];r(5070),v.exports=n;function i(u,f,l,y,h,S){var c=f.opposite(y,h);if(!(c<0)){if(h<y){var o=y;y=h,h=o,o=S,S=c,c=o}f.isConstraint(y,h)||t(u[y],u[h],u[S],u[c])<0&&l.push(y,h)}}function n(u,f){for(var l=[],y=u.length,h=f.stars,S=0;S<y;++S)for(var c=h[S],o=1;o<c.length;o+=2){var d=c[o];if(!(d<S)&&!f.isConstraint(S,d)){for(var w=c[o-1],A=-1,C=1;C<c.length;C+=2)if(c[C-1]===d){A=c[C];break}A<0||t(u[S],u[d],u[w],u[A])<0&&l.push(S,d)}}for(;l.length>0;){for(var d=l.pop(),S=l.pop(),w=-1,A=-1,c=h[S],m=1;m<c.length;m+=2){var E=c[m-1],b=c[m];E===d?A=b:b===d&&(w=E)}w<0||A<0||t(u[S],u[d],u[w],u[A])>=0||(f.flip(S,d),i(u,f,l,w,S,A),i(u,f,l,S,A,w),i(u,f,l,A,d,w),i(u,f,l,d,w,A))}}},7098:function(v,p,r){var t=r(5070);v.exports=y;function i(h,S,c,o,d,w,A){this.cells=h,this.neighbor=S,this.flags=o,this.constraint=c,this.active=d,this.next=w,this.boundary=A}var n=i.prototype;function u(h,S){return h[0]-S[0]||h[1]-S[1]||h[2]-S[2]}n.locate=function(){var h=[0,0,0];return function(S,c,o){var d=S,w=c,A=o;return c<o?c<S&&(d=c,w=o,A=S):o<S&&(d=o,w=S,A=c),d<0?-1:(h[0]=d,h[1]=w,h[2]=A,t.eq(this.cells,h,u))}}();function f(h,S){for(var c=h.cells(),o=c.length,d=0;d<o;++d){var w=c[d],A=w[0],C=w[1],m=w[2];C<m?C<A&&(w[0]=C,w[1]=m,w[2]=A):m<A&&(w[0]=m,w[1]=A,w[2]=C)}c.sort(u);for(var E=new Array(o),d=0;d<E.length;++d)E[d]=0;var b=[],s=[],L=new Array(3*o),T=new Array(3*o),k=null;S&&(k=[]);for(var _=new i(c,L,T,E,b,s,k),d=0;d<o;++d)for(var w=c[d],B=0;B<3;++B){var A=w[B],C=w[(B+1)%3],F=L[3*d+B]=_.locate(C,A,h.opposite(C,A)),O=T[3*d+B]=h.isConstraint(A,C);F<0&&(O?s.push(d):(b.push(d),E[d]=1),S&&k.push([C,A,-1]))}return _}function l(h,S,c){for(var o=0,d=0;d<h.length;++d)S[d]===c&&(h[o++]=h[d]);return h.length=o,h}function y(h,S,c){var o=f(h,c);if(S===0)return c?o.cells.concat(o.boundary):o.cells;for(var d=1,w=o.active,A=o.next,C=o.flags,m=o.cells,E=o.constraint,b=o.neighbor;w.length>0||A.length>0;){for(;w.length>0;){var s=w.pop();if(C[s]!==-d){C[s]=d,m[s];for(var L=0;L<3;++L){var T=b[3*s+L];T>=0&&C[T]===0&&(E[3*s+L]?A.push(T):(w.push(T),C[T]=d))}}}var k=A;A=w,w=k,A.length=0,d=-d}var _=l(m,C,S);return c?_.concat(o.boundary):_}},9971:function(v,p,r){var t=r(5070),i=r(417)[3],n=0,u=1,f=2;v.exports=A;function l(C,m,E,b,s){this.a=C,this.b=m,this.idx=E,this.lowerIds=b,this.upperIds=s}function y(C,m,E,b){this.a=C,this.b=m,this.type=E,this.idx=b}function h(C,m){var E=C.a[0]-m.a[0]||C.a[1]-m.a[1]||C.type-m.type;return E||C.type!==n&&(E=i(C.a,C.b,m.b),E)?E:C.idx-m.idx}function S(C,m){return i(C.a,C.b,m)}function c(C,m,E,b,s){for(var L=t.lt(m,b,S),T=t.gt(m,b,S),k=L;k<T;++k){for(var _=m[k],B=_.lowerIds,O=B.length;O>1&&i(E[B[O-2]],E[B[O-1]],b)>0;)C.push([B[O-1],B[O-2],s]),O-=1;B.length=O,B.push(s);for(var F=_.upperIds,O=F.length;O>1&&i(E[F[O-2]],E[F[O-1]],b)<0;)C.push([F[O-2],F[O-1],s]),O-=1;F.length=O,F.push(s)}}function o(C,m){var E;return C.a[0]<m.a[0]?E=i(C.a,C.b,m.a):E=i(m.b,m.a,C.a),E||(m.b[0]<C.b[0]?E=i(C.a,C.b,m.b):E=i(m.b,m.a,C.b),E||C.idx-m.idx)}function d(C,m,E){var b=t.le(C,E,o),s=C[b],L=s.upperIds,T=L[L.length-1];s.upperIds=[T],C.splice(b+1,0,new l(E.a,E.b,E.idx,[T],L))}function w(C,m,E){var b=E.a;E.a=E.b,E.b=b;var s=t.eq(C,E,o),L=C[s],T=C[s-1];T.upperIds=L.upperIds,C.splice(s,1)}function A(C,m){for(var E=C.length,b=m.length,s=[],L=0;L<E;++L)s.push(new y(C[L],null,n,L));for(var L=0;L<b;++L){var T=m[L],k=C[T[0]],_=C[T[1]];k[0]<_[0]?s.push(new y(k,_,f,L),new y(_,k,u,L)):k[0]>_[0]&&s.push(new y(_,k,f,L),new y(k,_,u,L))}s.sort(h);for(var B=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),F=[new l([B,1],[B,0],-1,[],[])],O=[],L=0,N=s.length;L<N;++L){var z=s[L],V=z.type;V===n?c(O,F,C,z.a,z.idx):V===f?d(F,C,z):w(F,C,z)}return O}},743:function(v,p,r){var t=r(5070);v.exports=f;function i(l,y){this.stars=l,this.edges=y}var n=i.prototype;function u(l,y,h){for(var S=1,c=l.length;S<c;S+=2)if(l[S-1]===y&&l[S]===h){l[S-1]=l[c-2],l[S]=l[c-1],l.length=c-2;return}}n.isConstraint=function(){var l=[0,0];function y(h,S){return h[0]-S[0]||h[1]-S[1]}return function(h,S){return l[0]=Math.min(h,S),l[1]=Math.max(h,S),t.eq(this.edges,l,y)>=0}}(),n.removeTriangle=function(l,y,h){var S=this.stars;u(S[l],y,h),u(S[y],h,l),u(S[h],l,y)},n.addTriangle=function(l,y,h){var S=this.stars;S[l].push(y,h),S[y].push(h,l),S[h].push(l,y)},n.opposite=function(l,y){for(var h=this.stars[y],S=1,c=h.length;S<c;S+=2)if(h[S]===l)return h[S-1];return-1},n.flip=function(l,y){var h=this.opposite(l,y),S=this.opposite(y,l);this.removeTriangle(l,y,h),this.removeTriangle(y,l,S),this.addTriangle(l,S,h),this.addTriangle(y,h,S)},n.edges=function(){for(var l=this.stars,y=[],h=0,S=l.length;h<S;++h)for(var c=l[h],o=0,d=c.length;o<d;o+=2)y.push([c[o],c[o+1]]);return y},n.cells=function(){for(var l=this.stars,y=[],h=0,S=l.length;h<S;++h)for(var c=l[h],o=0,d=c.length;o<d;o+=2){var w=c[o],A=c[o+1];h<Math.min(w,A)&&y.push([h,w,A])}return y};function f(l,y){for(var h=new Array(l),S=0;S<l;++S)h[S]=[];return new i(h,y)}},9887:function(v){v.exports=p;function p(r){for(var t=1,i=1;i<r.length;++i)for(var n=0;n<i;++n)if(r[i]<r[n])t=-t;else if(r[n]===r[i])return 0;return t}},9243:function(v,p,r){var t=r(3094),i=r(6606);function n(l,y){for(var h=0,S=l.length,c=0;c<S;++c)h+=l[c]*y[c];return h}function u(l){var y=l.length;if(y===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),S=t([l.length+1],1);h[y][y]=0;for(var c=0;c<y;++c){for(var o=0;o<=c;++o)h[o][c]=h[c][o]=2*n(l[c],l[o]);S[c]=n(l[c],l[c])}for(var d=i(h,S),w=0,A=d[y+1],c=0;c<A.length;++c)w+=A[c];for(var C=new Array(y),c=0;c<y;++c){for(var A=d[c],m=0,o=0;o<A.length;++o)m+=A[o];C[c]=m/w}return C}function f(l){if(l.length===0)return[];for(var y=l[0].length,h=t([y]),S=u(l),c=0;c<l.length;++c)for(var o=0;o<y;++o)h[o]+=l[c][o]*S[c];return h}f.barycenetric=u,v.exports=f},1778:function(v,p,r){v.exports=i;var t=r(9243);function i(n){for(var u=t(n),f=0,l=0;l<n.length;++l)for(var y=n[l],h=0;h<u.length;++h)f+=Math.pow(y[h]-u[h],2);return Math.sqrt(f/n.length)}},197:function(v,p,r){v.exports=k;var t=r(1731),i=r(2569),n=r(4434),u=r(5125),f=r(8846),l=r(7999),y=r(2826),h=r(8551),S=r(5528);function c(_){var B=l(_);return[h(B,-1/0),h(B,1/0)]}function o(_,B){for(var F=new Array(B.length),O=0;O<B.length;++O){var N=B[O],z=_[N[0]],V=_[N[1]];F[O]=[h(Math.min(z[0],V[0]),-1/0),h(Math.min(z[1],V[1]),-1/0),h(Math.max(z[0],V[0]),1/0),h(Math.max(z[1],V[1]),1/0)]}return F}function d(_){for(var B=new Array(_.length),F=0;F<_.length;++F){var O=_[F];B[F]=[h(O[0],-1/0),h(O[1],-1/0),h(O[0],1/0),h(O[1],1/0)]}return B}function w(_,B,F){var O=[];return i(F,function(N,z){var V=B[N],W=B[z];if(!(V[0]===W[0]||V[0]===W[1]||V[1]===W[0]||V[1]===W[1])){var $=_[V[0]],re=_[V[1]],ne=_[W[0]],ue=_[W[1]];n($,re,ne,ue)&&O.push([N,z])}}),O}function A(_,B,F,O){var N=[];return i(F,O,function(z,V){var W=B[z];if(!(W[0]===V||W[1]===V)){var $=_[V],re=_[W[0]],ne=_[W[1]];n(re,ne,$,$)&&N.push([z,V])}}),N}function C(_,B,F,O,N){var z,V,W=_.map(function(Ce){return[u(Ce[0]),u(Ce[1])]});for(z=0;z<F.length;++z){var $=F[z];V=$[0];var re=$[1],ne=B[V],ue=B[re],J=S(y(_[ne[0]]),y(_[ne[1]]),y(_[ue[0]]),y(_[ue[1]]));if(J){var X=_.length;_.push([l(J[0]),l(J[1])]),W.push(J),O.push([V,X],[re,X])}}for(O.sort(function(Ce,Ae){if(Ce[0]!==Ae[0])return Ce[0]-Ae[0];var ke=W[Ce[1]],we=W[Ae[1]];return f(ke[0],we[0])||f(ke[1],we[1])}),z=O.length-1;z>=0;--z){var oe=O[z];V=oe[0];var Y=B[V],q=Y[0],se=Y[1],Q=_[q],K=_[se];if((Q[0]-K[0]||Q[1]-K[1])<0){var le=q;q=se,se=le}Y[0]=q;var ie=Y[1]=oe[1],ce;for(N&&(ce=Y[2]);z>0&&O[z-1][0]===V;){var oe=O[--z],ye=oe[1];N?B.push([ie,ye,ce]):B.push([ie,ye]),ie=ye}N?B.push([ie,se,ce]):B.push([ie,se])}return W}function m(_,B,F){for(var O=B.length,N=new t(O),z=[],V=0;V<B.length;++V){var W=B[V],$=c(W[0]),re=c(W[1]);z.push([h($[0],-1/0),h(re[0],-1/0),h($[1],1/0),h(re[1],1/0)])}i(z,function(oe,Y){N.link(oe,Y)});for(var ne=!0,ue=new Array(O),V=0;V<O;++V){var J=N.find(V);J!==V&&(ne=!1,_[J]=[Math.min(_[V][0],_[J][0]),Math.min(_[V][1],_[J][1])])}if(ne)return null;for(var X=0,V=0;V<O;++V){var J=N.find(V);J===V?(ue[V]=X,_[X++]=_[V]):ue[V]=-1}_.length=X;for(var V=0;V<O;++V)ue[V]<0&&(ue[V]=ue[N.find(V)]);return ue}function E(_,B){return _[0]-B[0]||_[1]-B[1]}function b(_,B){var F=_[0]-B[0]||_[1]-B[1];return F||(_[2]<B[2]?-1:_[2]>B[2]?1:0)}function s(_,B,F){if(_.length!==0){if(B)for(var O=0;O<_.length;++O){var N=_[O],z=B[N[0]],V=B[N[1]];N[0]=Math.min(z,V),N[1]=Math.max(z,V)}else for(var O=0;O<_.length;++O){var N=_[O],z=N[0],V=N[1];N[0]=Math.min(z,V),N[1]=Math.max(z,V)}F?_.sort(b):_.sort(E);for(var W=1,O=1;O<_.length;++O){var $=_[O-1],re=_[O];re[0]===$[0]&&re[1]===$[1]&&(!F||re[2]===$[2])||(_[W++]=re)}_.length=W}}function L(_,B,F){var O=m(_,[],d(_));return s(B,O,F),!!O}function T(_,B,F){var O=o(_,B),N=w(_,B,O),z=d(_),V=A(_,B,O,z),W=C(_,B,N,V,F),$=m(_,W);return s(B,$,F),$?!0:N.length>0||V.length>0}function k(_,B,F){var O;if(F){O=B;for(var N=new Array(B.length),z=0;z<B.length;++z){var V=B[z];N[z]=[V[0],V[1],F[z]]}B=N}for(var W=L(_,B,!!F);T(_,B,!!F);)W=!0;if(F&&W){O.length=0,F.length=0;for(var z=0;z<B.length;++z){var V=B[z];O.push([V[0],V[1]]),F.push(V[2])}}return W}},5528:function(v,p,r){v.exports=S;var t=r(3962),i=r(9189),n=r(4354),u=r(4951),f=r(6695),l=r(7584),y=r(4469);function h(c,o){return n(t(c[0],o[1]),t(c[1],o[0]))}function S(c,o,d,w){var A=f(o,c),C=f(w,d),m=h(A,C);if(u(m)===0)return null;var E=f(c,d),b=h(C,E),s=i(b,m),L=y(A,s),T=l(c,L);return T}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,r){var t=r(5692),i=r(3578);v.exports=n;function n(y){var h,S,c,o,d,w,A,C,s,m,E;if(y||(y={}),C=(y.nshades||72)-1,A=y.format||"hex",w=y.colormap,w||(w="jet"),typeof w=="string"){if(w=w.toLowerCase(),!t[w])throw Error(w+" not a supported colorscale");d=t[w]}else if(Array.isArray(w))d=w.slice();else throw Error("unsupported colormap option",w);if(d.length>C+1)throw new Error(w+" map requires nshades to be at least size "+d.length);Array.isArray(y.alpha)?y.alpha.length!==2?m=[1,1]:m=y.alpha.slice():typeof y.alpha=="number"?m=[y.alpha,y.alpha]:m=[1,1],h=d.map(function(k){return Math.round(k.index*C)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var b=d.map(function(k,_){var B=d[_].index,F=d[_].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=m[0]+(m[1]-m[0])*B),F}),s=[];for(E=0;E<h.length-1;++E){o=h[E+1]-h[E],S=b[E],c=b[E+1];for(var L=0;L<o;L++){var T=L/o;s.push([Math.round(i(S[0],c[0],T)),Math.round(i(S[1],c[1],T)),Math.round(i(S[2],c[2],T)),i(S[3],c[3],T)])}}return s.push(d[d.length-1].rgb.concat(m[1])),A==="hex"?s=s.map(f):A==="rgbaString"?s=s.map(l):A==="float"&&(s=s.map(u)),s}function u(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function f(y){for(var h,S="#",c=0;c<3;++c)h=y[c],h=h.toString(16),S+=("00"+h).substr(h.length);return S}function l(y){return"rgba("+y.join(",")+")"}},9398:function(v,p,r){v.exports=y;var t=r(417),i=r(7538),n=r(87),u=r(2019),f=r(9662);function l(h,S,c){var o=n(h[0],-S[0]),d=n(h[1],-S[1]),w=n(c[0],-S[0]),A=n(c[1],-S[1]),C=f(u(o,w),u(d,A));return C[C.length-1]>=0}function y(h,S,c,o){var d=t(S,c,o);if(d===0){var w=i(t(h,S,c)),A=i(t(h,S,o));if(w===A){if(w===0){var C=l(h,S,c),m=l(h,S,o);return C===m?0:C?1:-1}return 0}else{if(A===0)return w>0||l(h,S,o)?-1:1;if(w===0)return A>0||l(h,S,c)?1:-1}return i(A-w)}var E=t(h,S,c);if(E>0)return d>0&&t(h,S,o)>0?1:-1;if(E<0)return d>0||t(h,S,o)>0?1:-1;var b=t(h,S,o);return b>0||l(h,S,c)?1:-1}},7538:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(v){v.exports=t;var p=Math.min;function r(i,n){return i-n}function t(i,n){var u=i.length,f=i.length-n.length;if(f)return f;switch(u){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||p(i[0],i[1])-p(n[0],n[1]);case 3:var l=i[0]+i[1],y=n[0]+n[1];if(f=l+i[2]-(y+n[2]),f)return f;var h=p(i[0],i[1]),S=p(n[0],n[1]);return p(h,i[2])-p(S,n[2])||p(h+i[2],l)-p(S+n[2],y);case 4:var c=i[0],o=i[1],d=i[2],w=i[3],A=n[0],C=n[1],m=n[2],E=n[3];return c+o+d+w-(A+C+m+E)||p(c,o,d,w)-p(A,C,m,E,A)||p(c+o,c+d,c+w,o+d,o+w,d+w)-p(A+C,A+m,A+E,C+m,C+E,m+E)||p(c+o+d,c+o+w,c+d+w,o+d+w)-p(A+C+m,A+C+E,A+m+E,C+m+E);default:for(var b=i.slice().sort(r),s=n.slice().sort(r),L=0;L<u;++L)if(f=b[L]-s[L],f)return f;return 0}}},1284:function(v,p,r){var t=r(9209),i=r(9887);v.exports=n;function n(u,f){return t(u,f)||i(u)-i(f)}},5537:function(v,p,r){var t=r(8950),i=r(8722),n=r(3332);v.exports=u;function u(f){var l=f.length;if(l===0)return[];if(l===1)return[[0]];var y=f[0].length;return y===0?[]:y===1?t(f):y===2?i(f):n(f,y)}},8950:function(v){v.exports=p;function p(r){for(var t=0,i=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(v,p,r){v.exports=i;var t=r(3266);function i(n){var u=t(n),f=u.length;if(f<=2)return[];for(var l=new Array(f),y=u[f-1],h=0;h<f;++h){var S=u[h];l[h]=[y,S],y=S}return l}},3332:function(v,p,r){v.exports=f;var t=r(2183),i=r(2153);function n(l,y){for(var h=l.length,S=new Array(h),c=0;c<y.length;++c)S[c]=l[y[c]];for(var o=y.length,c=0;c<h;++c)y.indexOf(c)<0&&(S[o++]=l[c]);return S}function u(l,y){for(var h=l.length,S=y.length,c=0;c<h;++c)for(var o=l[c],d=0;d<o.length;++d){var w=o[d];if(w<S)o[d]=y[w];else{w=w-S;for(var A=0;A<S;++A)w>=y[A]&&(w+=1);o[d]=w}}return l}function f(l,y){try{return t(l,!0)}catch{var h=i(l);if(h.length<=y)return[];var S=n(l,h),c=t(S,!0);return u(c,h)}}},9680:function(v){function p(t,i,n,u,f,l){var y=6*f*f-6*f,h=3*f*f-4*f+1,S=-6*f*f+6*f,c=3*f*f-2*f;if(t.length){l||(l=new Array(t.length));for(var o=t.length-1;o>=0;--o)l[o]=y*t[o]+h*i[o]+S*n[o]+c*u[o];return l}return y*t+h*i+S*n[o]+c*u}function r(t,i,n,u,f,l){var y=f-1,h=f*f,S=y*y,c=(1+2*f)*S,o=f*S,d=h*(3-2*f),w=h*y;if(t.length){l||(l=new Array(t.length));for(var A=t.length-1;A>=0;--A)l[A]=c*t[A]+o*i[A]+d*n[A]+w*u[A];return l}return c*t+o*i+d*n+w*u}v.exports=r,v.exports.derivative=p},4419:function(v,p,r){var t=r(2183),i=r(1215);v.exports=l;function n(y,h){this.point=y,this.index=h}function u(y,h){for(var S=y.point,c=h.point,o=S.length,d=0;d<o;++d){var w=c[d]-S[d];if(w)return w}return 0}function f(y,h,S){if(y===1)return S?[[-1,0]]:[];var c=h.map(function(C,m){return[C[0],m]});c.sort(function(C,m){return C[0]-m[0]});for(var o=new Array(y-1),d=1;d<y;++d){var w=c[d-1],A=c[d];o[d-1]=[w[1],A[1]]}return S&&o.push([-1,o[0][1]],[o[y-1][1],-1]),o}function l(y,h){var S=y.length;if(S===0)return[];var c=y[0].length;if(c<1)return[];if(c===1)return f(S,y,h);for(var o=new Array(S),d=1,w=0;w<S;++w){for(var A=y[w],C=new Array(c+1),m=0,E=0;E<c;++E){var b=A[E];C[E]=b,m+=b*b}C[c]=m,o[w]=new n(C,w),d=Math.max(m,d)}i(o,u),S=o.length;for(var s=new Array(S+c+1),L=new Array(S+c+1),T=(c+1)*(c+1)*d,k=new Array(c+1),w=0;w<=c;++w)k[w]=0;k[c]=T,s[0]=k.slice(),L[0]=-1;for(var w=0;w<=c;++w){var C=k.slice();C[w]=1,s[w+1]=C,L[w+1]=-1}for(var w=0;w<S;++w){var _=o[w];s[w+c+1]=_.point,L[w+c+1]=_.index}var B=t(s,!1);if(h?B=B.filter(function(F){for(var O=0,N=0;N<=c;++N){var z=L[F[N]];if(z<0&&++O>=2)return!1;F[N]=z}return!0}):B=B.filter(function(F){for(var O=0;O<=c;++O){var N=L[F[O]];if(N<0)return!1;F[O]=N}return!0}),c&1)for(var w=0;w<B.length;++w){var _=B[w],C=_[0];_[0]=_[1],_[1]=C}return B}},8362:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let d=function(C,m){return t[0]=C,t[1]=m,r[0]},w=function(C){return r[0]=C,t[0]},A=function(C){return r[0]=C,t[1]};var n=d,u=w,f=A;v.exports=function(m){return r[0]=m,[t[0],t[1]]},v.exports.pack=d,v.exports.lo=w,v.exports.hi=A}else if(t[0]===1072693248){let d=function(C,m){return t[1]=C,t[0]=m,r[0]},w=function(C){return r[0]=C,t[1]},A=function(C){return r[0]=C,t[0]};var l=d,y=w,h=A;v.exports=function(m){return r[0]=m,[t[1],t[0]]},v.exports.pack=d,v.exports.lo=w,v.exports.hi=A}else p=!1}if(!p){let d=function(C,m){return i.writeUInt32LE(C,0,!0),i.writeUInt32LE(m,4,!0),i.readDoubleLE(0,!0)},w=function(C){return i.writeDoubleLE(C,0,!0),i.readUInt32LE(0,!0)},A=function(C){return i.writeDoubleLE(C,0,!0),i.readUInt32LE(4,!0)};var S=d,c=w,o=A,i=new Buffer(8);v.exports=function(m){return i.writeDoubleLE(m,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},v.exports.pack=d,v.exports.lo=w,v.exports.hi=A}v.exports.sign=function(d){return v.exports.hi(d)>>>31},v.exports.exponent=function(d){var w=v.exports.hi(d);return(w<<1>>>21)-1023},v.exports.fraction=function(d){var w=v.exports.lo(d),A=v.exports.hi(d),C=A&(1<<20)-1;return A&2146435072&&(C+=1048576),[w,C]},v.exports.denormalized=function(d){var w=v.exports.hi(d);return!(w&2146435072)}},3094:function(v){function p(i,n,u){var f=i[u]|0;if(f<=0)return[];var l=new Array(f),y;if(u===i.length-1)for(y=0;y<f;++y)l[y]=n;else for(y=0;y<f;++y)l[y]=p(i,n,u+1);return l}function r(i,n){var u,f;for(u=new Array(i),f=0;f<i;++f)u[f]=n;return u}function t(i,n){switch(typeof n>"u"&&(n=0),typeof i){case"number":if(i>0)return r(i|0,n);break;case"object":if(typeof i.length=="number")return p(i,n,0);break}return[]}v.exports=t},8348:function(v,p,r){v.exports=i;var t=r(1215);function i(n,u){var f=n.length;if(typeof u!="number"){u=0;for(var l=0;l<f;++l){var y=n[l];u=Math.max(u,y[0],y[1])}u=(u|0)+1}u=u|0;for(var h=new Array(u),l=0;l<u;++l)h[l]=[];for(var l=0;l<f;++l){var y=n[l];h[y[0]].push(y[1]),h[y[1]].push(y[0])}for(var S=0;S<u;++S)t(h[S],function(c,o){return c-o});return h}},5795:function(v){v.exports=p;function p(r,t,i){var n=t||0,u=i||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[u*r[12]-r[8],u*r[13]-r[9],u*r[14]-r[10],u*r[15]-r[11]]]}},8444:function(v,p,r){v.exports=y;var t=r(9680),i=r(5070);function n(h,S,c){return Math.min(S,Math.max(h,c))}function u(h,S,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=S.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var f=u.prototype;f.flush=function(h){var S=i.gt(this._time,h)-1;S<=0||(this._time.splice(0,S),this._state.splice(0,S*this.dimension),this._velocity.splice(0,S*this.dimension))},f.curve=function(h){var S=this._time,c=S.length,o=i.le(S,h),d=this._scratch[0],w=this._state,A=this._velocity,C=this.dimension,m=this.bounds;if(o<0)for(var E=C-1,b=0;b<C;++b,--E)d[b]=w[E];else if(o>=c-1)for(var E=w.length-1,s=h-S[c-1],b=0;b<C;++b,--E)d[b]=w[E]+s*A[E];else{for(var E=C*(o+1)-1,L=S[o],T=S[o+1],k=T-L||1,_=this._scratch[1],B=this._scratch[2],F=this._scratch[3],O=this._scratch[4],N=!0,b=0;b<C;++b,--E)_[b]=w[E],F[b]=A[E]*k,B[b]=w[E+C],O[b]=A[E+C]*k,N=N&&_[b]===B[b]&&F[b]===O[b]&&F[b]===0;if(N)for(var b=0;b<C;++b)d[b]=_[b];else t(_,F,B,O,(h-L)/k,d)}for(var z=m[0],V=m[1],b=0;b<C;++b)d[b]=n(z[b],V[b],d[b]);return d},f.dcurve=function(h){var S=this._time,c=S.length,o=i.le(S,h),d=this._scratch[0],w=this._state,A=this._velocity,C=this.dimension;if(o>=c-1){var m=w.length-1;h-S[c-1];for(var E=0;E<C;++E,--m)d[E]=A[m]}else{for(var m=C*(o+1)-1,b=S[o],s=S[o+1],L=s-b||1,T=this._scratch[1],k=this._scratch[2],_=this._scratch[3],B=this._scratch[4],F=!0,E=0;E<C;++E,--m)T[E]=w[m],_[E]=A[m]*L,k[E]=w[m+C],B[E]=A[m+C]*L,F=F&&T[E]===k[E]&&_[E]===B[E]&&_[E]===0;if(F)for(var E=0;E<C;++E)d[E]=0;else{t.derivative(T,_,k,B,(h-b)/L,d);for(var E=0;E<C;++E)d[E]/=L}}return d},f.lastT=function(){var h=this._time;return h[h.length-1]},f.stable=function(){for(var h=this._velocity,S=h.length,c=this.dimension-1;c>=0;--c)if(h[--S])return!1;return!0},f.jump=function(h){var S=this.lastT(),c=this.dimension;if(!(h<S||arguments.length!==c+1)){var o=this._state,d=this._velocity,w=o.length-this.dimension,A=this.bounds,C=A[0],m=A[1];this._time.push(S,h);for(var E=0;E<2;++E)for(var b=0;b<c;++b)o.push(o[w++]),d.push(0);this._time.push(h);for(var b=c;b>0;--b)o.push(n(C[b-1],m[b-1],arguments[b])),d.push(0)}},f.push=function(h){var S=this.lastT(),c=this.dimension;if(!(h<S||arguments.length!==c+1)){var o=this._state,d=this._velocity,w=o.length-this.dimension,A=h-S,C=this.bounds,m=C[0],E=C[1],b=A>1e-6?1/A:0;this._time.push(h);for(var s=c;s>0;--s){var L=n(m[s-1],E[s-1],arguments[s]);o.push(L),d.push((L-o[w++])*b)}}},f.set=function(h){var S=this.dimension;if(!(h<this.lastT()||arguments.length!==S+1)){var c=this._state,o=this._velocity,d=this.bounds,w=d[0],A=d[1];this._time.push(h);for(var C=S;C>0;--C)c.push(n(w[C-1],A[C-1],arguments[C])),o.push(0)}},f.move=function(h){var S=this.lastT(),c=this.dimension;if(!(h<=S||arguments.length!==c+1)){var o=this._state,d=this._velocity,w=o.length-this.dimension,A=this.bounds,C=A[0],m=A[1],E=h-S,b=E>1e-6?1/E:0;this._time.push(h);for(var s=c;s>0;--s){var L=arguments[s];o.push(n(C[s-1],m[s-1],o[w++]+L)),d.push(L*b)}}},f.idle=function(h){var S=this.lastT();if(!(h<S)){var c=this.dimension,o=this._state,d=this._velocity,w=o.length-c,A=this.bounds,C=A[0],m=A[1],E=h-S;this._time.push(h);for(var b=c-1;b>=0;--b)o.push(n(C[b],m[b],o[w]+E*d[w])),d.push(0),w+=1}};function l(h){for(var S=new Array(h),c=0;c<h;++c)S[c]=0;return S}function y(h,S,c){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof h=="number"){var o=l(h);return new u(o,o,0)}else return new u(h,l(h.length),0);case 2:if(typeof S=="number"){var o=l(h.length);return new u(h,o,+S)}else c=0;case 3:if(h.length!==S.length)throw new Error("state and velocity lengths must match");return new u(h,S,c)}}},7080:function(v){v.exports=C;var p=0,r=1;function t(m,E,b,s,L,T){this._color=m,this.key=E,this.value=b,this.left=s,this.right=L,this._count=T}function i(m){return new t(m._color,m.key,m.value,m.left,m.right,m._count)}function n(m,E){return new t(m,E.key,E.value,E.left,E.right,E._count)}function u(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function f(m,E){this._compare=m,this.root=E}var l=f.prototype;Object.defineProperty(l,"keys",{get:function(){var m=[];return this.forEach(function(E,b){m.push(E)}),m}}),Object.defineProperty(l,"values",{get:function(){var m=[];return this.forEach(function(E,b){m.push(b)}),m}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(m,E){for(var b=this._compare,s=this.root,L=[],T=[];s;){var k=b(m,s.key);L.push(s),T.push(k),k<=0?s=s.left:s=s.right}L.push(new t(p,m,E,null,null,1));for(var _=L.length-2;_>=0;--_){var s=L[_];T[_]<=0?L[_]=new t(s._color,s.key,s.value,L[_+1],s.right,s._count+1):L[_]=new t(s._color,s.key,s.value,s.left,L[_+1],s._count+1)}for(var _=L.length-1;_>1;--_){var B=L[_-1],s=L[_];if(B._color===r||s._color===r)break;var F=L[_-2];if(F.left===B)if(B.left===s){var O=F.right;if(O&&O._color===p)B._color=r,F.right=n(r,O),F._color=p,_-=1;else{if(F._color=p,F.left=B.right,B._color=r,B.right=F,L[_-2]=B,L[_-1]=s,u(F),u(B),_>=3){var N=L[_-3];N.left===F?N.left=B:N.right=B}break}}else{var O=F.right;if(O&&O._color===p)B._color=r,F.right=n(r,O),F._color=p,_-=1;else{if(B.right=s.left,F._color=p,F.left=s.right,s._color=r,s.left=B,s.right=F,L[_-2]=s,L[_-1]=B,u(F),u(B),u(s),_>=3){var N=L[_-3];N.left===F?N.left=s:N.right=s}break}}else if(B.right===s){var O=F.left;if(O&&O._color===p)B._color=r,F.left=n(r,O),F._color=p,_-=1;else{if(F._color=p,F.right=B.left,B._color=r,B.left=F,L[_-2]=B,L[_-1]=s,u(F),u(B),_>=3){var N=L[_-3];N.right===F?N.right=B:N.left=B}break}}else{var O=F.left;if(O&&O._color===p)B._color=r,F.left=n(r,O),F._color=p,_-=1;else{if(B.left=s.right,F._color=p,F.right=s.left,s._color=r,s.right=B,s.left=F,L[_-2]=s,L[_-1]=B,u(F),u(B),u(s),_>=3){var N=L[_-3];N.right===F?N.right=s:N.left=s}break}}}return L[0]._color=r,new f(b,L[0])};function y(m,E){if(E.left){var b=y(m,E.left);if(b)return b}var b=m(E.key,E.value);if(b)return b;if(E.right)return y(m,E.right)}function h(m,E,b,s){var L=E(m,s.key);if(L<=0){if(s.left){var T=h(m,E,b,s.left);if(T)return T}var T=b(s.key,s.value);if(T)return T}if(s.right)return h(m,E,b,s.right)}function S(m,E,b,s,L){var T=b(m,L.key),k=b(E,L.key),_;if(T<=0&&(L.left&&(_=S(m,E,b,s,L.left),_)||k>0&&(_=s(L.key,L.value),_)))return _;if(k>0&&L.right)return S(m,E,b,s,L.right)}l.forEach=function(E,b,s){if(this.root)switch(arguments.length){case 1:return y(E,this.root);case 2:return h(b,this._compare,E,this.root);case 3:return this._compare(b,s)>=0?void 0:S(b,s,this._compare,E,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var m=[],E=this.root;E;)m.push(E),E=E.left;return new c(this,m)}}),Object.defineProperty(l,"end",{get:function(){for(var m=[],E=this.root;E;)m.push(E),E=E.right;return new c(this,m)}}),l.at=function(m){if(m<0)return new c(this,[]);for(var E=this.root,b=[];;){if(b.push(E),E.left){if(m<E.left._count){E=E.left;continue}m-=E.left._count}if(!m)return new c(this,b);if(m-=1,E.right){if(m>=E.right._count)break;E=E.right}else break}return new c(this,[])},l.ge=function(m){for(var E=this._compare,b=this.root,s=[],L=0;b;){var T=E(m,b.key);s.push(b),T<=0&&(L=s.length),T<=0?b=b.left:b=b.right}return s.length=L,new c(this,s)},l.gt=function(m){for(var E=this._compare,b=this.root,s=[],L=0;b;){var T=E(m,b.key);s.push(b),T<0&&(L=s.length),T<0?b=b.left:b=b.right}return s.length=L,new c(this,s)},l.lt=function(m){for(var E=this._compare,b=this.root,s=[],L=0;b;){var T=E(m,b.key);s.push(b),T>0&&(L=s.length),T<=0?b=b.left:b=b.right}return s.length=L,new c(this,s)},l.le=function(m){for(var E=this._compare,b=this.root,s=[],L=0;b;){var T=E(m,b.key);s.push(b),T>=0&&(L=s.length),T<0?b=b.left:b=b.right}return s.length=L,new c(this,s)},l.find=function(m){for(var E=this._compare,b=this.root,s=[];b;){var L=E(m,b.key);if(s.push(b),L===0)return new c(this,s);L<=0?b=b.left:b=b.right}return new c(this,[])},l.remove=function(m){var E=this.find(m);return E?E.remove():this},l.get=function(m){for(var E=this._compare,b=this.root;b;){var s=E(m,b.key);if(s===0)return b.value;s<=0?b=b.left:b=b.right}};function c(m,E){this.tree=m,this._stack=E}var o=c.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new c(this.tree,this._stack.slice())};function d(m,E){m.key=E.key,m.value=E.value,m.left=E.left,m.right=E.right,m._color=E._color,m._count=E._count}function w(m){for(var E,b,s,L,T=m.length-1;T>=0;--T){if(E=m[T],T===0){E._color=r;return}if(b=m[T-1],b.left===E){if(s=b.right,s.right&&s.right._color===p){if(s=b.right=i(s),L=s.right=i(s.right),b.right=s.left,s.left=b,s.right=L,s._color=b._color,E._color=r,b._color=r,L._color=r,u(b),u(s),T>1){var k=m[T-2];k.left===b?k.left=s:k.right=s}m[T-1]=s;return}else if(s.left&&s.left._color===p){if(s=b.right=i(s),L=s.left=i(s.left),b.right=L.left,s.left=L.right,L.left=b,L.right=s,L._color=b._color,b._color=r,s._color=r,E._color=r,u(b),u(s),u(L),T>1){var k=m[T-2];k.left===b?k.left=L:k.right=L}m[T-1]=L;return}if(s._color===r)if(b._color===p){b._color=r,b.right=n(p,s);return}else{b.right=n(p,s);continue}else{if(s=i(s),b.right=s.left,s.left=b,s._color=b._color,b._color=p,u(b),u(s),T>1){var k=m[T-2];k.left===b?k.left=s:k.right=s}m[T-1]=s,m[T]=b,T+1<m.length?m[T+1]=E:m.push(E),T=T+2}}else{if(s=b.left,s.left&&s.left._color===p){if(s=b.left=i(s),L=s.left=i(s.left),b.left=s.right,s.right=b,s.left=L,s._color=b._color,E._color=r,b._color=r,L._color=r,u(b),u(s),T>1){var k=m[T-2];k.right===b?k.right=s:k.left=s}m[T-1]=s;return}else if(s.right&&s.right._color===p){if(s=b.left=i(s),L=s.right=i(s.right),b.left=L.right,s.right=L.left,L.right=b,L.left=s,L._color=b._color,b._color=r,s._color=r,E._color=r,u(b),u(s),u(L),T>1){var k=m[T-2];k.right===b?k.right=L:k.left=L}m[T-1]=L;return}if(s._color===r)if(b._color===p){b._color=r,b.left=n(p,s);return}else{b.left=n(p,s);continue}else{if(s=i(s),b.left=s.right,s.right=b,s._color=b._color,b._color=p,u(b),u(s),T>1){var k=m[T-2];k.right===b?k.right=s:k.left=s}m[T-1]=s,m[T]=b,T+1<m.length?m[T+1]=E:m.push(E),T=T+2}}}}o.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var E=new Array(m.length),b=m[m.length-1];E[E.length-1]=new t(b._color,b.key,b.value,b.left,b.right,b._count);for(var s=m.length-2;s>=0;--s){var b=m[s];b.left===m[s+1]?E[s]=new t(b._color,b.key,b.value,E[s+1],b.right,b._count):E[s]=new t(b._color,b.key,b.value,b.left,E[s+1],b._count)}if(b=E[E.length-1],b.left&&b.right){var L=E.length;for(b=b.left;b.right;)E.push(b),b=b.right;var T=E[L-1];E.push(new t(b._color,T.key,T.value,b.left,b.right,b._count)),E[L-1].key=b.key,E[L-1].value=b.value;for(var s=E.length-2;s>=L;--s)b=E[s],E[s]=new t(b._color,b.key,b.value,b.left,E[s+1],b._count);E[L-1].left=E[L]}if(b=E[E.length-1],b._color===p){var k=E[E.length-2];k.left===b?k.left=null:k.right===b&&(k.right=null),E.pop();for(var s=0;s<E.length;++s)E[s]._count--;return new f(this.tree._compare,E[0])}else if(b.left||b.right){b.left?d(b,b.left):b.right&&d(b,b.right),b._color=r;for(var s=0;s<E.length-1;++s)E[s]._count--;return new f(this.tree._compare,E[0])}else{if(E.length===1)return new f(this.tree._compare,null);for(var s=0;s<E.length;++s)E[s]._count--;var _=E[E.length-2];w(E),_.left===b?_.left=null:_.right=null}return new f(this.tree._compare,E[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var m=0,E=this._stack;if(E.length===0){var b=this.tree.root;return b?b._count:0}else E[E.length-1].left&&(m=E[E.length-1].left._count);for(var s=E.length-2;s>=0;--s)E[s+1]===E[s].right&&(++m,E[s].left&&(m+=E[s].left._count));return m},enumerable:!0}),o.next=function(){var m=this._stack;if(m.length!==0){var E=m[m.length-1];if(E.right)for(E=E.right;E;)m.push(E),E=E.left;else for(m.pop();m.length>0&&m[m.length-1].right===E;)E=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var E=m.length-1;E>0;--E)if(m[E-1].left===m[E])return!0;return!1}}),o.update=function(m){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var b=new Array(E.length),s=E[E.length-1];b[b.length-1]=new t(s._color,s.key,m,s.left,s.right,s._count);for(var L=E.length-2;L>=0;--L)s=E[L],s.left===E[L+1]?b[L]=new t(s._color,s.key,s.value,b[L+1],s.right,s._count):b[L]=new t(s._color,s.key,s.value,s.left,b[L+1],s._count);return new f(this.tree._compare,b[0])},o.prev=function(){var m=this._stack;if(m.length!==0){var E=m[m.length-1];if(E.left)for(E=E.left;E;)m.push(E),E=E.right;else for(m.pop();m.length>0&&m[m.length-1].left===E;)E=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var E=m.length-1;E>0;--E)if(m[E-1].right===m[E])return!0;return!1}});function A(m,E){return m<E?-1:m>E?1:0}function C(m){return new f(m||A,null)}},7453:function(v,p,r){v.exports=s;var t=r(9557),i=r(1681),n=r(1011),u=r(2864),f=r(8468),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function y(L,T){return L[0]=T[0],L[1]=T[1],L[2]=T[2],L}function h(L){this.gl=L,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(L)}var S=h.prototype;S.update=function(L){L=L||{};function T(ne,ue,J){if(J in L){var X=L[J],oe=this[J],Y;(ne?Array.isArray(X)&&Array.isArray(X[0]):Array.isArray(X))?this[J]=Y=[ue(X[0]),ue(X[1]),ue(X[2])]:this[J]=Y=[ue(X),ue(X),ue(X)];for(var q=0;q<3;++q)if(Y[q]!==oe[q])return!0}return!1}var k=T.bind(this,!1,Number),_=T.bind(this,!1,Boolean),B=T.bind(this,!1,String),F=T.bind(this,!0,function(ne){if(Array.isArray(ne)){if(ne.length===3)return[+ne[0],+ne[1],+ne[2],1];if(ne.length===4)return[+ne[0],+ne[1],+ne[2],+ne[3]]}return[0,0,0,1]}),O,N=!1,z=!1;if("bounds"in L)for(var V=L.bounds,W=0;W<2;++W)for(var $=0;$<3;++$)V[W][$]!==this.bounds[W][$]&&(z=!0),this.bounds[W][$]=V[W][$];if("ticks"in L){O=L.ticks,N=!0,this.autoTicks=!1;for(var W=0;W<3;++W)this.tickSpacing[W]=0}else k("tickSpacing")&&(this.autoTicks=!0,z=!0);if(this._firstInit&&("ticks"in L||"tickSpacing"in L||(this.autoTicks=!0),z=!0,N=!0,this._firstInit=!1),z&&this.autoTicks&&(O=f.create(this.bounds,this.tickSpacing),N=!0),N){for(var W=0;W<3;++W)O[W].sort(function(ue,J){return ue.x-J.x});f.equal(O,this.ticks)?N=!1:this.ticks=O}_("tickEnable"),B("tickFont")&&(N=!0),k("tickSize"),k("tickAngle"),k("tickPad"),F("tickColor");var re=B("labels");B("labelFont")&&(re=!0),_("labelEnable"),k("labelSize"),k("labelPad"),F("labelColor"),_("lineEnable"),_("lineMirror"),k("lineWidth"),F("lineColor"),_("lineTickEnable"),_("lineTickMirror"),k("lineTickLength"),k("lineTickWidth"),F("lineTickColor"),_("gridEnable"),k("gridWidth"),F("gridColor"),_("zeroEnable"),F("zeroLineColor"),k("zeroLineWidth"),_("backgroundEnable"),F("backgroundColor"),this._text?this._text&&(re||N)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&N&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};function c(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new c,new c,new c];function d(L,T,k,_,B){for(var F=L.primalOffset,O=L.primalMinor,N=L.mirrorOffset,z=L.mirrorMinor,V=_[T],W=0;W<3;++W)if(T!==W){var $=F,re=N,ne=O,ue=z;V&1<<W&&($=N,re=F,ne=z,ue=O),$[W]=k[0][W],re[W]=k[1][W],B[W]>0?(ne[W]=-1,ue[W]=0):(ne[W]=0,ue[W]=1)}}var w=[0,0,0],A={model:l,view:l,projection:l,_ortho:!1};S.isOpaque=function(){return!0},S.isTransparent=function(){return!1},S.drawTransparent=function(L){};var C=0,m=[0,0,0],E=[0,0,0],b=[0,0,0];S.draw=function(L){L=L||A;for(var oe=this.gl,T=L.model||l,k=L.view||l,_=L.projection||l,B=this.bounds,F=L._ortho||!1,O=u(T,k,_,B,F),N=O.cubeEdges,z=O.axis,V=k[12],W=k[13],$=k[14],re=k[15],ne=F?2:1,ue=ne*this.pixelRatio*(_[3]*V+_[7]*W+_[11]*$+_[15]*re)/oe.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=N[J],this.lastCubeProps.axis[J]=z[J];for(var X=o,J=0;J<3;++J)d(o[J],J,this.bounds,N,z);for(var oe=this.gl,Y=w,J=0;J<3;++J)this.backgroundEnable[J]?Y[J]=z[J]:Y[J]=0;this._background.draw(T,k,_,B,Y,this.backgroundColor),this._lines.bind(T,k,_,this);for(var J=0;J<3;++J){var q=[0,0,0];z[J]>0?q[J]=B[1][J]:q[J]=B[0][J];for(var se=0;se<2;++se){var Q=(J+1+se)%3,K=(J+1+(se^1))%3;this.gridEnable[Q]&&this._lines.drawGrid(Q,K,this.bounds,q,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(var se=0;se<2;++se){var Q=(J+1+se)%3,K=(J+1+(se^1))%3;this.zeroEnable[K]&&Math.min(B[0][K],B[1][K])<=0&&Math.max(B[0][K],B[1][K])>=0&&this._lines.drawZero(Q,K,this.bounds,q,this.zeroLineColor[K],this.zeroLineWidth[K]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,X[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,X[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var le=y(m,X[J].primalMinor),ie=y(E,X[J].mirrorMinor),ce=this.lineTickLength,se=0;se<3;++se){var ye=ue/T[5*se];le[se]*=ce[se]*ye,ie[se]*=ce[se]*ye}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,X[J].primalOffset,le,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,X[J].mirrorOffset,ie,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(T,k,_,this.pixelRatio);var Ce,Ae=.5,ke,we;function Ee(Xe){we=[0,0,0],we[Xe]=1}function xe(Xe,ut,dt){var at=(Xe+1)%3,We=(Xe+2)%3,rt=ut[at],st=ut[We],ht=dt[at],vt=dt[We];if(rt>0&&vt>0){Ee(at);return}else if(rt>0&&vt<0){Ee(at);return}else if(rt<0&&vt>0){Ee(at);return}else if(rt<0&&vt<0){Ee(at);return}else if(st>0&&ht>0){Ee(We);return}else if(st>0&&ht<0){Ee(We);return}else if(st<0&&ht>0){Ee(We);return}else if(st<0&&ht<0){Ee(We);return}}for(var J=0;J<3;++J){for(var Pe=X[J].primalMinor,Ue=X[J].mirrorMinor,Be=y(b,X[J].primalOffset),se=0;se<3;++se)this.lineTickEnable[J]&&(Be[se]+=ue*Pe[se]*Math.max(this.lineTickLength[se],0)/T[5*se]);var Ne=[0,0,0];if(Ne[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,ke=1,Ce=[this.tickAlign[J],Ae,ke],Ce[0]==="auto"?Ce[0]=C:Ce[0]=parseInt(""+Ce[0]),we=[0,0,0],xe(J,Pe,Ue);for(var se=0;se<3;++se)Be[se]+=ue*Pe[se]*this.tickPad[se]/T[5*se];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Be,this.tickColor[J],Ne,we,Ce)}if(this.labelEnable[J]){ke=0,we=[0,0,0],this.labels[J].length>4&&(Ee(J),ke=1),Ce=[this.labelAlign[J],Ae,ke],Ce[0]==="auto"?Ce[0]=C:Ce[0]=parseInt(""+Ce[0]);for(var se=0;se<3;++se)Be[se]+=ue*Pe[se]*this.labelPad[se]/T[5*se];Be[J]+=.5*(B[0][J]+B[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Be,this.labelColor[J],[0,0,0],we,Ce)}}this._text.unbind()},S.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function s(L,T){var k=new h(L);return k.update(T),k}},1011:function(v,p,r){v.exports=l;var t=r(5827),i=r(2944),n=r(1943).bg;function u(y,h,S,c){this.gl=y,this.buffer=h,this.vao=S,this.shader=c}var f=u.prototype;f.draw=function(y,h,S,c,o,d){for(var w=!1,A=0;A<3;++A)w=w||o[A];if(w){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:h,projection:S,bounds:c,enable:o,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(y){for(var h=[],S=[],c=0,o=0;o<3;++o)for(var d=(o+1)%3,w=(o+2)%3,A=[0,0,0],C=[0,0,0],m=-1;m<=1;m+=2){S.push(c,c+2,c+1,c+1,c+2,c+3),A[o]=m,C[o]=m;for(var E=-1;E<=1;E+=2){A[d]=E;for(var b=-1;b<=1;b+=2)A[w]=b,h.push(A[0],A[1],A[2],C[0],C[1],C[2]),c+=1}var s=d;d=w,w=s}var L=t(y,new Float32Array(h)),T=t(y,new Uint16Array(S),y.ELEMENT_ARRAY_BUFFER),k=i(y,[{buffer:L,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:L,type:y.FLOAT,size:3,offset:12,stride:24}],T),_=n(y);return _.attributes.position.location=0,_.attributes.normal.location=1,new u(y,L,k,_)}},2864:function(v,p,r){v.exports=m;var t=r(2288),i=r(104),n=r(4670),u=r(417),f=new Array(16),l=new Array(8),y=new Array(8),h=new Array(3),S=[0,0,0];(function(){for(var E=0;E<8;++E)l[E]=[1,1,1,1],y[E]=[1,1,1]})();function c(E,b,s){for(var L=0;L<4;++L){E[L]=s[12+L];for(var T=0;T<3;++T)E[L]+=b[T]*s[4*T+L]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(E){for(var b=0;b<o.length;++b)if(E=n.positive(E,o[b]),E.length<3)return 0;for(var s=E[0],L=s[0]/s[3],T=s[1]/s[3],k=0,b=1;b+1<E.length;++b){var _=E[b],B=E[b+1],F=_[0]/_[3],O=_[1]/_[3],N=B[0]/B[3],z=B[1]/B[3],V=F-L,W=O-T,$=N-L,re=z-T;k+=Math.abs(V*re-W*$)}return k}var w=[1,1,1],A=[0,0,0],C={cubeEdges:w,axis:A};function m(E,b,s,L,T){i(f,b,E),i(f,s,f);for(var k=0,_=0;_<2;++_){h[2]=L[_][2];for(var B=0;B<2;++B){h[1]=L[B][1];for(var F=0;F<2;++F)h[0]=L[F][0],c(l[k],h,f),k+=1}}for(var O=-1,_=0;_<8;++_){for(var N=l[_][3],z=0;z<3;++z)y[_][z]=l[_][z]/N;T&&(y[_][2]*=-1),N<0&&(O<0||y[_][2]<y[O][2])&&(O=_)}if(O<0){O=0;for(var V=0;V<3;++V){for(var W=(V+2)%3,$=(V+1)%3,re=-1,ne=-1,ue=0;ue<2;++ue){var J=ue<<V,X=J+(ue<<W)+(1-ue<<$),oe=J+(1-ue<<W)+(ue<<$);u(y[J],y[X],y[oe],S)<0||(ue?re=1:ne=1)}if(re<0||ne<0){ne>re&&(O|=1<<V);continue}for(var ue=0;ue<2;++ue){var J=ue<<V,X=J+(ue<<W)+(1-ue<<$),oe=J+(1-ue<<W)+(ue<<$),Y=d([l[J],l[X],l[oe],l[J+(1<<W)+(1<<$)]]);ue?re=Y:ne=Y}if(ne>re){O|=1<<V;continue}}}for(var q=7^O,se=-1,_=0;_<8;++_)_===O||_===q||(se<0||y[se][1]>y[_][1])&&(se=_);for(var Q=-1,_=0;_<3;++_){var K=se^1<<_;if(!(K===O||K===q)){Q<0&&(Q=K);var $=y[K];$[0]<y[Q][0]&&(Q=K)}}for(var le=-1,_=0;_<3;++_){var K=se^1<<_;if(!(K===O||K===q||K===Q)){le<0&&(le=K);var $=y[K];$[0]>y[le][0]&&(le=K)}}var ie=w;ie[0]=ie[1]=ie[2]=0,ie[t.log2(Q^se)]=se&Q,ie[t.log2(se^le)]=se&le;var ce=le^7;ce===O||ce===q?(ce=Q^7,ie[t.log2(le^ce)]=ce&le):ie[t.log2(Q^ce)]=ce&Q;for(var ye=A,Ce=O,V=0;V<3;++V)Ce&1<<V?ye[V]=-1:ye[V]=1;return C}},1681:function(v,p,r){v.exports=w;var t=r(5827),i=r(2944),n=r(1943).j,u=[0,0,0],f=[0,0,0],l=[0,0,0],y=[0,0,0],h=[1,1];function S(A){return A[0]=A[1]=A[2]=0,A}function c(A,C){return A[0]=C[0],A[1]=C[1],A[2]=C[2],A}function o(A,C,m,E,b,s,L,T){this.gl=A,this.vertBuffer=C,this.vao=m,this.shader=E,this.tickCount=b,this.tickOffset=s,this.gridCount=L,this.gridOffset=T}var d=o.prototype;d.bind=function(A,C,m){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=C,this.shader.uniforms.projection=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(A,C,m,E,b){var s=S(f);this.shader.uniforms.majorAxis=f,s[A]=C[1][A]-C[0][A],this.shader.uniforms.minorAxis=s;var L=c(y,m);L[A]+=C[0][A],this.shader.uniforms.offset=L,this.shader.uniforms.lineWidth=b,this.shader.uniforms.color=E;var T=S(l);T[(A+2)%3]=1,this.shader.uniforms.screenAxis=T,this.vao.draw(this.gl.TRIANGLES,6);var T=S(l);T[(A+1)%3]=1,this.shader.uniforms.screenAxis=T,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(A,C,m,E,b){if(this.tickCount[A]){var s=S(u);s[A]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=b;var L=S(l);L[A]=1,this.shader.uniforms.screenAxis=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},d.drawGrid=function(A,C,m,E,b,s){if(this.gridCount[A]){var L=S(f);L[C]=m[1][C]-m[0][C],this.shader.uniforms.minorAxis=L;var T=c(y,E);T[C]+=m[0][C],this.shader.uniforms.offset=T;var k=S(u);k[A]=1,this.shader.uniforms.majorAxis=k;var _=S(l);_[A]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},d.drawZero=function(A,C,m,E,b,s){var L=S(f);this.shader.uniforms.majorAxis=L,L[A]=m[1][A]-m[0][A],this.shader.uniforms.minorAxis=L;var T=c(y,E);T[A]+=m[0][A],this.shader.uniforms.offset=T;var k=S(l);k[C]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function w(A,C,m){var E=[],b=[0,0,0],s=[0,0,0],L=[0,0,0],T=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var F=E.length/3|0,_=0;_<m[k].length;++_){var B=+m[k][_].x;E.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var N=E.length/3|0;b[k]=F,s[k]=N-F;for(var F=E.length/3|0,O=0;O<m[k].length;++O){var B=+m[k][O].x;E.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var N=E.length/3|0;L[k]=F,T[k]=N-F}var z=t(A,new Float32Array(E)),V=i(A,[{buffer:z,type:A.FLOAT,size:3,stride:0,offset:0}]),W=n(A);return W.attributes.position.location=0,new o(A,z,V,W,s,b,T,L)}},1943:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(S){return i(S,n,u,null,[{name:"position",type:"vec3"}])};var f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(S){return i(S,f,l,null,[{name:"position",type:"vec3"}])};var y=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(S){return i(S,y,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,r){v.exports=d;var t=r(5827),i=r(2944),n=r(875),u=r(1943).f,f=window||g.global||{},l=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var y=3;function h(w,A,C,m){this.gl=w,this.shader=A,this.buffer=C,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var S=h.prototype,c=[0,0];S.bind=function(w,A,C,m){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=w,E.view=A,E.projection=C,E.pixelScale=m,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},S.unbind=function(){this.vao.unbind()},S.update=function(w,A,C,m,E){var b=[];function s(z,V,W,$,re,ne){var ue=l[W];ue||(ue=l[W]={});var J=ue[V];J||(J=ue[V]=o(V,{triangles:!0,font:W,textAlign:"center",textBaseline:"middle",lineSpacing:re,styletags:ne}));for(var X=($||12)/12,oe=J.positions,Y=J.cells,q=0,se=Y.length;q<se;++q)for(var Q=Y[q],K=2;K>=0;--K){var le=oe[Q[K]];b.push(X*le[0],-X*le[1],z)}}for(var L=[0,0,0],T=[0,0,0],k=[0,0,0],_=[0,0,0],B=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){k[O]=b.length/y|0,s(.5*(w[0][O]+w[1][O]),A[O],C[O],12,B,F),_[O]=(b.length/y|0)-k[O],L[O]=b.length/y|0;for(var N=0;N<m[O].length;++N)m[O][N].text&&s(m[O][N].x,m[O][N].text,m[O][N].font||E,m[O][N].fontSize||12,B,F);T[O]=(b.length/y|0)-L[O]}this.buffer.update(b),this.tickOffset=L,this.tickCount=T,this.labelOffset=k,this.labelCount=_},S.drawTicks=function(w,A,C,m,E,b,s,L){this.tickCount[w]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=E,this.shader.uniforms.angle=C,this.shader.uniforms.scale=A,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w]))},S.drawLabel=function(w,A,C,m,E,b,s,L){this.labelCount[w]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=E,this.shader.uniforms.angle=C,this.shader.uniforms.scale=A,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.labelCount[w],this.labelOffset[w]))},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(w,A){try{return n(w,A)}catch(C){return console.warn('error vectorizing text:"'+w+'" error:',C),{cells:[],positions:[]}}}function d(w,A,C,m,E,b){var s=t(w),L=i(w,[{buffer:s,size:3}]),T=u(w);T.attributes.position.location=0;var k=new h(w,T,s,L);return k.update(A,C,m,E,b),k}},8468:function(v,p){p.create=t,p.equal=i;function r(n,u){var f=n+"",l=f.indexOf("."),y=0;l>=0&&(y=f.length-l-1);var h=Math.pow(10,y),S=Math.round(n*u*h),c=S+"";if(c.indexOf("e")>=0)return c;var o=S/h,d=S%h;S<0?(o=-Math.ceil(o)|0,d=-d|0):(o=Math.floor(o)|0,d=d|0);var w=""+o;if(S<0&&(w="-"+w),y){for(var A=""+d;A.length<y;)A="0"+A;return w+"."+A}else return w}function t(n,u){for(var f=[],l=0;l<3;++l){var y=[];.5*(n[0][l]+n[1][l]);for(var h=0;h*u[l]<=n[1][l];++h)y.push({x:h*u[l],text:r(u[l],h)});for(var h=-1;h*u[l]>=n[0][l];--h)y.push({x:h*u[l],text:r(u[l],h)});f.push(y)}return f}function i(n,u){for(var f=0;f<3;++f){if(n[f].length!==u[f].length)return!1;for(var l=0;l<n[f].length;++l){var y=n[f][l],h=u[f][l];if(y.x!==h.x||y.text!==h.text||y.font!==h.font||y.fontColor!==h.fontColor||y.fontSize!==h.fontSize||y.dx!==h.dx||y.dy!==h.dy)return!1}}return!0}},2771:function(v,p,r){v.exports=C;var t=r(5795),i=r(4670),n=r(2864),u=r(104),f=r(2142),l=r(6342),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function S(m,E,b){this.lo=m,this.hi=E,this.pixelsPerDataUnit=b}var c=[0,0,0,1],o=[0,0,0,1];function d(m,E,b,s,L){for(var T=0;T<3;++T){for(var k=c,_=o,B=0;B<3;++B)_[B]=k[B]=b[B];_[3]=k[3]=1,_[T]+=1,l(_,_,E),_[3]<0&&(m[T]=1/0),k[T]-=1,l(k,k,E),k[3]<0&&(m[T]=1/0);var F=(k[0]/k[3]-_[0]/_[3])*s,O=(k[1]/k[3]-_[1]/_[3])*L;m[T]=.25*Math.sqrt(F*F+O*O)}return m}var w=[new S(1/0,-1/0,1/0),new S(1/0,-1/0,1/0),new S(1/0,-1/0,1/0)],A=[0,0,0];function C(m,E,b,s,O){var T=E.model||y,k=E.view||y,_=E.projection||y,B=E._ortho||!1,F=m.bounds,O=O||n(T,k,_,F,B),N=O.axis;u(h,k,T),u(h,_,h);for(var z=w,V=0;V<3;++V)z[V].lo=1/0,z[V].hi=-1/0,z[V].pixelsPerDataUnit=1/0;var W=t(f(h,h));f(h,h);for(var $=0;$<3;++$){var re=($+1)%3,ne=($+2)%3,ue=A;e:for(var V=0;V<2;++V){var J=[];if(N[$]<0!=!!V){ue[$]=F[V][$];for(var X=0;X<2;++X){ue[re]=F[X^V][re];for(var oe=0;oe<2;++oe)ue[ne]=F[oe^X^V][ne],J.push(ue.slice())}for(var Y=B?5:4,X=Y;X===Y;++X){if(J.length===0)continue e;J=i.positive(J,W[X])}for(var X=0;X<J.length;++X)for(var ne=J[X],q=d(A,h,ne,b,s),oe=0;oe<3;++oe)z[oe].lo=Math.min(z[oe].lo,ne[oe]),z[oe].hi=Math.max(z[oe].hi,ne[oe]),oe!==$&&(z[oe].pixelsPerDataUnit=Math.min(z[oe].pixelsPerDataUnit,Math.abs(q[oe])))}}}return z}},5827:function(v,p,r){var t=r(5306),i=r(7498),n=r(5050),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(o,d,w,A,C){this.gl=o,this.type=d,this.handle=w,this.length=A,this.usage=C}var l=f.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function y(o,d,w,A,C,m){var E=C.length*C.BYTES_PER_ELEMENT;if(m<0)return o.bufferData(d,C,A),E;if(E+m>w)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(d,m,C),w}function h(o,d){for(var w=t.malloc(o.length,d),A=o.length,C=0;C<A;++C)w[C]=o[C];return w}function S(o,d){for(var w=1,A=d.length-1;A>=0;--A){if(d[A]!==w)return!1;w*=o[A]}return!0}l.update=function(o,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var w=o.dtype;if(u.indexOf(w)<0&&(w="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&w!=="uint16"?w="uint32":w="uint16"}if(w===o.dtype&&S(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=y(this.gl,this.type,this.length,this.usage,o.data,d):this.length=y(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),d);else{var C=t.malloc(o.size,w),m=n(C,o.shape);i.assign(m,o),d<0?this.length=y(this.gl,this.type,this.length,this.usage,C,d):this.length=y(this.gl,this.type,this.length,this.usage,C.subarray(0,o.size),d),t.free(C)}}else if(Array.isArray(o)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=h(o,"uint16"):E=h(o,"float32"),d<0?this.length=y(this.gl,this.type,this.length,this.usage,E,d):this.length=y(this.gl,this.type,this.length,this.usage,E.subarray(0,o.length),d),t.free(E)}else if(typeof o=="object"&&typeof o.length=="number")this.length=y(this.gl,this.type,this.length,this.usage,o,d);else if(typeof o=="number"||o===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function c(o,d,w,A){if(w=w||o.ARRAY_BUFFER,A=A||o.DYNAMIC_DRAW,w!==o.ARRAY_BUFFER&&w!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==o.DYNAMIC_DRAW&&A!==o.STATIC_DRAW&&A!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=o.createBuffer(),m=new f(o,w,C,0,A);return m.update(d),m}v.exports=c},1140:function(v,p,r){var t=r(2858);v.exports=function(n,u){var f=n.positions,l=n.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),y;for(var h=0,S=1/0,c=-1/0,o=1/0,d=-1/0,w=1/0,A=-1/0,C=null,m=null,E=[],b=1/0,s=!1,L=0;L<f.length;L++){var T=f[L];S=Math.min(T[0],S),c=Math.max(T[0],c),o=Math.min(T[1],o),d=Math.max(T[1],d),w=Math.min(T[2],w),A=Math.max(T[2],A);var k=l[L];if(t.length(k)>h&&(h=t.length(k)),L){var _=2*t.distance(C,T)/(t.length(m)+t.length(k));_?(b=Math.min(b,_),s=!1):s=!0}s||(C=T,m=k),E.push(k)}var B=[S,o,w],F=[c,d,A];u&&(u[0]=B,u[1]=F),h===0&&(h=1);var O=1/h;isFinite(b)||(b=1),y.vectorScale=b;var N=n.coneSize||.5;n.absoluteConeSize&&(N=n.absoluteConeSize*O),y.coneScale=N;for(var L=0,z=0;L<f.length;L++)for(var T=f[L],V=T[0],W=T[1],$=T[2],re=E[L],ne=t.length(re)*O,ue=0,J=8;ue<J;ue++){y.positions.push([V,W,$,z++]),y.positions.push([V,W,$,z++]),y.positions.push([V,W,$,z++]),y.positions.push([V,W,$,z++]),y.positions.push([V,W,$,z++]),y.positions.push([V,W,$,z++]),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vertexIntensity.push(ne,ne,ne),y.vertexIntensity.push(ne,ne,ne);var X=y.positions.length;y.cells.push([X-6,X-5,X-4],[X-3,X-2,X-1])}return y};var i=r(7234);v.exports.createMesh=r(5028),v.exports.createConeMesh=function(n,u){return v.exports.createMesh(n,u,{shaders:i,traceType:"cone"})}},5028:function(v,p,r){var t=r(5158),i=r(5827),n=r(2944),u=r(8931),f=r(104),l=r(7437),y=r(5050),h=r(9156),S=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(E,b,s,L,T,k,_,B,F,O,N){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=b,this.dirty=!0,this.triShader=s,this.pickShader=L,this.trianglePositions=T,this.triangleVectors=k,this.triangleColors=B,this.triangleUVs=F,this.triangleIds=_,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=N,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=S,this._view=S,this._projection=S,this._resolution=[1,1]}var o=c.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(E){this.pickId=E};function d(E){for(var b=h({colormap:E,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),L=0;L<256;++L){for(var T=b[L],k=0;k<3;++k)s[4*L+k]=T[k];s[4*L+3]=T[3]*255}return y(s,[256,256,4],[4,0,1])}function w(E){for(var b=E.length,s=new Array(b),L=0;L<b;++L)s[L]=E[L][2];return s}o.update=function(E){E=E||{};var b=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=b.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=b.LINEAR,this.texture.setPixels(d(E.colormap)),this.texture.generateMipmap());var s=E.cells,L=E.positions,T=E.vectors;if(!(!L||!s||!T)){var k=[],_=[],B=[],F=[],O=[];this.cells=s,this.positions=L,this.vectors=T;var N=E.meshColor||[1,1,1,1],z=E.vertexIntensity,V=1/0,W=-1/0;if(z)if(E.vertexIntensityBounds)V=+E.vertexIntensityBounds[0],W=+E.vertexIntensityBounds[1];else for(var $=0;$<z.length;++$){var re=z[$];V=Math.min(V,re),W=Math.max(W,re)}else for(var $=0;$<L.length;++$){var re=L[$][2];V=Math.min(V,re),W=Math.max(W,re)}z?this.intensity=z:this.intensity=w(L),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var $=0;$<L.length;++$)for(var ne=L[$],ue=0;ue<3;++ue)isNaN(ne[ue])||!isFinite(ne[ue])||(this.bounds[0][ue]=Math.min(this.bounds[0][ue],ne[ue]),this.bounds[1][ue]=Math.max(this.bounds[1][ue],ne[ue]));var J=0;e:for(var $=0;$<s.length;++$){var X=s[$];switch(X.length){case 3:for(var ue=0;ue<3;++ue)for(var oe=X[ue],ne=L[oe],Y=0;Y<3;++Y)if(isNaN(ne[Y])||!isFinite(ne[Y]))continue e;for(var ue=0;ue<3;++ue){var oe=X[2-ue],ne=L[oe];k.push(ne[0],ne[1],ne[2],ne[3]);var q=T[oe];_.push(q[0],q[1],q[2],q[3]||0);var se=N;se.length===3?B.push(se[0],se[1],se[2],1):B.push(se[0],se[1],se[2],se[3]);var Q;z?Q=[(z[oe]-V)/(W-V),0]:Q=[(ne[2]-V)/(W-V),0],F.push(Q[0],Q[1]),O.push($)}J+=1;break}}this.triangleCount=J,this.trianglePositions.update(k),this.triangleVectors.update(_),this.triangleColors.update(B),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(O))}},o.drawTransparent=o.draw=function(E){E=E||{};for(var b=this.gl,s=E.model||S,L=E.view||S,T=E.projection||S,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)k[0][_]=Math.max(k[0][_],this.clipBounds[0][_]),k[1][_]=Math.min(k[1][_],this.clipBounds[1][_]);var B={model:s,view:L,projection:T,inverseModel:S.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};B.inverseModel=l(B.inverseModel,B.model),b.disable(b.CULL_FACE),this.texture.bind(0);var F=new Array(16);f(F,B.view,B.model),f(F,B.projection,F),l(F,F);for(var _=0;_<3;++_)B.eyePosition[_]=F[12+_]/F[15];for(var O=F[15],_=0;_<3;++_)O+=this.lightPosition[_]*F[4*_+3];for(var _=0;_<3;++_){for(var N=F[12+_],z=0;z<3;++z)N+=F[4*z+_]*this.lightPosition[z];B.lightPosition[_]=N/O}if(this.triangleCount>0){var V=this.triShader;V.bind(),V.uniforms=B,this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(E){E=E||{};for(var b=this.gl,s=E.model||S,L=E.view||S,T=E.projection||S,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)k[0][_]=Math.max(k[0][_],this.clipBounds[0][_]),k[1][_]=Math.min(k[1][_],this.clipBounds[1][_]);this._model=[].slice.call(s),this._view=[].slice.call(L),this._projection=[].slice.call(T),this._resolution=[b.drawingBufferWidth,b.drawingBufferHeight];var B={model:s,view:L,projection:T,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=B,this.triangleCount>0&&(this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(E){if(!E||E.id!==this.pickId)return null;var b=E.value[0]+256*E.value[1]+65536*E.value[2],s=this.cells[b],L=this.positions[s[1]].slice(0,3),T={position:L,dataCoordinate:L,index:Math.floor(s[1]/48)};return this.traceType==="cone"?T.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(T.intensity=this.intensity[s[1]],T.velocity=this.vectors[s[1]].slice(0,3),T.divergence=this.vectors[s[1]][3],T.index=b),T},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(E,b){var s=t(E,b.meshShader.vertex,b.meshShader.fragment,null,b.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function C(E,b){var s=t(E,b.pickShader.vertex,b.pickShader.fragment,null,b.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function m(E,b,s){var L=s.shaders;arguments.length===1&&(b=E,E=b.gl);var T=A(E,L),k=C(E,L),_=u(E,y(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=E.LINEAR_MIPMAP_LINEAR,_.magFilter=E.LINEAR;var B=i(E),F=i(E),O=i(E),N=i(E),z=i(E),V=n(E,[{buffer:B,type:E.FLOAT,size:4},{buffer:z,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:E.FLOAT,size:4},{buffer:N,type:E.FLOAT,size:2},{buffer:F,type:E.FLOAT,size:4}]),W=new c(E,_,T,k,B,F,z,O,N,V,s.traceType||"cone");return W.update(b),W}v.exports=m},7234:function(v,p,r){var t=r(6832),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,r){var t=r(1950);v.exports=function(n){return t[n]}},3110:function(v,p,r){v.exports=c;var t=r(5827),i=r(2944),n=r(7667),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,d,w,A){this.gl=o,this.shader=A,this.buffer=d,this.vao=w,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=f.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(o){var d=this.gl,w=this.shader.uniforms;this.shader.bind();var A=w.view=o.view||u,C=w.projection=o.projection||u;w.model=o.model||u,w.clipBounds=this.clipBounds,w.opacity=this.opacity;var m=A[12],E=A[13],b=A[14],s=A[15],L=o._ortho||!1,T=L?2:1,k=T*this.pixelRatio*(C[3]*m+C[7]*E+C[11]*b+C[15]*s)/d.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)d.lineWidth(this.lineWidth[_]*this.pixelRatio),w.capSize=this.capSize[_]*k,this.lineCount[_]&&d.drawArrays(d.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function y(o,d){for(var w=0;w<3;++w)o[0][w]=Math.min(o[0][w],d[w]),o[1][w]=Math.max(o[1][w],d[w])}var h=function(){for(var o=new Array(3),d=0;d<3;++d){for(var w=[],A=1;A<=2;++A)for(var C=-1;C<=1;C+=2){var m=(A+d)%3,E=[0,0,0];E[m]=C,w.push(E)}o[d]=w}return o}();function S(o,d,w,A){for(var C=h[A],m=0;m<C.length;++m){var E=C[m];o.push(d[0],d[1],d[2],w[0],w[1],w[2],w[3],E[0],E[1],E[2])}return C.length}l.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=o.color||[[0,0,0],[0,0,0],[0,0,0]],w=o.position,A=o.error;if(Array.isArray(d[0])||(d=[d,d,d]),w&&A){var C=[],m=w.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var b=0;b<3;++b){this.lineOffset[b]=E;e:for(var s=0;s<m;++s){for(var L=w[s],T=0;T<3;++T)if(isNaN(L[T])||!isFinite(L[T]))continue e;var k=A[s],_=d[b];if(Array.isArray(_[0])&&(_=d[s]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][b])||isNaN(k[1][b]))){if(k[0][b]<0){var B=L.slice();B[b]+=k[0][b],C.push(L[0],L[1],L[2],_[0],_[1],_[2],_[3],0,0,0,B[0],B[1],B[2],_[0],_[1],_[2],_[3],0,0,0),y(this.bounds,B),E+=2+S(C,B,_,b)}if(k[1][b]>0){var B=L.slice();B[b]+=k[1][b],C.push(L[0],L[1],L[2],_[0],_[1],_[2],_[3],0,0,0,B[0],B[1],B[2],_[0],_[1],_[2],_[3],0,0,0),y(this.bounds,B),E+=2+S(C,B,_,b)}}}this.lineCount[b]=E-this.lineOffset[b]}this.buffer.update(C)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(o){var d=o.gl,w=t(d),A=i(d,[{buffer:w,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:w,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:w,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var m=new f(d,w,A,C);return m.update(o),m}},7667:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(f){return i(f,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,r){var t=r(8931);v.exports=E;var i=null,n,u,f,l;function y(b){var s=b.getParameter(b.FRAMEBUFFER_BINDING),L=b.getParameter(b.RENDERBUFFER_BINDING),T=b.getParameter(b.TEXTURE_BINDING_2D);return[s,L,T]}function h(b,s){b.bindFramebuffer(b.FRAMEBUFFER,s[0]),b.bindRenderbuffer(b.RENDERBUFFER,s[1]),b.bindTexture(b.TEXTURE_2D,s[2])}function S(b,s){var L=b.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);i=new Array(L+1);for(var T=0;T<=L;++T){for(var k=new Array(L),_=0;_<T;++_)k[_]=b.COLOR_ATTACHMENT0+_;for(var _=T;_<L;++_)k[_]=b.NONE;i[T]=k}}function c(b){switch(b){case n:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(b,s,L,T,k,_){if(!T)return null;var B=t(b,s,L,k,T);return B.magFilter=b.NEAREST,B.minFilter=b.NEAREST,B.mipSamples=1,B.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,_,b.TEXTURE_2D,B.handle,0),B}function d(b,s,L,T,k){var _=b.createRenderbuffer();return b.bindRenderbuffer(b.RENDERBUFFER,_),b.renderbufferStorage(b.RENDERBUFFER,T,s,L),b.framebufferRenderbuffer(b.FRAMEBUFFER,k,b.RENDERBUFFER,_),_}function w(b){var s=y(b.gl),L=b.gl,T=b.handle=L.createFramebuffer(),k=b._shape[0],_=b._shape[1],B=b.color.length,F=b._ext,O=b._useStencil,N=b._useDepth,z=b._colorType;L.bindFramebuffer(L.FRAMEBUFFER,T);for(var V=0;V<B;++V)b.color[V]=o(L,k,_,z,L.RGBA,L.COLOR_ATTACHMENT0+V);B===0?(b._color_rb=d(L,k,_,L.RGBA4,L.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(i[0])):B>1&&F.drawBuffersWEBGL(i[B]);var W=L.getExtension("WEBGL_depth_texture");W?O?b.depth=o(L,k,_,W.UNSIGNED_INT_24_8_WEBGL,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):N&&(b.depth=o(L,k,_,L.UNSIGNED_SHORT,L.DEPTH_COMPONENT,L.DEPTH_ATTACHMENT)):N&&O?b._depth_rb=d(L,k,_,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):N?b._depth_rb=d(L,k,_,L.DEPTH_COMPONENT16,L.DEPTH_ATTACHMENT):O&&(b._depth_rb=d(L,k,_,L.STENCIL_INDEX,L.STENCIL_ATTACHMENT));var $=L.checkFramebufferStatus(L.FRAMEBUFFER);if($!==L.FRAMEBUFFER_COMPLETE){b._destroyed=!0,L.bindFramebuffer(L.FRAMEBUFFER,null),L.deleteFramebuffer(b.handle),b.handle=null,b.depth&&(b.depth.dispose(),b.depth=null),b._depth_rb&&(L.deleteRenderbuffer(b._depth_rb),b._depth_rb=null);for(var V=0;V<b.color.length;++V)b.color[V].dispose(),b.color[V]=null;b._color_rb&&(L.deleteRenderbuffer(b._color_rb),b._color_rb=null),h(L,s),c($)}h(L,s)}function A(b,s,L,T,k,_,B,F){this.gl=b,this._shape=[s|0,L|0],this._destroyed=!1,this._ext=F,this.color=new Array(k);for(var O=0;O<k;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=T,this._useDepth=_,this._useStencil=B;var N=this,z=[s|0,L|0];Object.defineProperties(z,{0:{get:function(){return N._shape[0]},set:function(V){return N.width=V}},1:{get:function(){return N._shape[1]},set:function(V){return N.height=V}}}),this._shapeVector=z,w(this)}var C=A.prototype;function m(b,s,L){if(b._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(b._shape[0]===s&&b._shape[1]===L)){var T=b.gl,k=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(s<0||s>k||L<0||L>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");b._shape[0]=s,b._shape[1]=L;for(var _=y(T),B=0;B<b.color.length;++B)b.color[B].shape=b._shape;b._color_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,b._color_rb),T.renderbufferStorage(T.RENDERBUFFER,T.RGBA4,b._shape[0],b._shape[1])),b.depth&&(b.depth.shape=b._shape),b._depth_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,b._depth_rb),b._useDepth&&b._useStencil?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,b._shape[0],b._shape[1]):b._useDepth?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_COMPONENT16,b._shape[0],b._shape[1]):b._useStencil&&T.renderbufferStorage(T.RENDERBUFFER,T.STENCIL_INDEX,b._shape[0],b._shape[1])),T.bindFramebuffer(T.FRAMEBUFFER,b.handle);var F=T.checkFramebufferStatus(T.FRAMEBUFFER);F!==T.FRAMEBUFFER_COMPLETE&&(b.dispose(),h(T,_),c(F)),h(T,_)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(b){if(Array.isArray(b)||(b=[b|0,b|0]),b.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=b[0]|0,L=b[1]|0;return m(this,s,L),[s,L]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(b){return b=b|0,m(this,b,this._shape[1]),b},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(b){return b=b|0,m(this,this._shape[0],b),b},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,this.handle),b.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var b=this.gl;b.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(b.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(b.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(b,s,L,T){n||(n=b.FRAMEBUFFER_UNSUPPORTED,u=b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=b.getExtension("WEBGL_draw_buffers");if(!i&&k&&S(b,k),Array.isArray(s)&&(T=L,L=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var _=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(s<0||s>_||L<0||L>_)throw new Error("gl-fbo: Parameters are too large for FBO");T=T||{};var B=1;if("color"in T){if(B=Math.max(T.color|0,0),B<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(B>1)if(k){if(B>b.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+B+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=b.UNSIGNED_BYTE,O=b.getExtension("OES_texture_float");if(T.float&&B>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");F=b.FLOAT}else T.preferFloat&&B>0&&O&&(F=b.FLOAT);var N=!0;"depth"in T&&(N=!!T.depth);var z=!1;return"stencil"in T&&(z=!!T.stencil),new A(b,s,L,F,B,N,z,k)}},3530:function(v,p,r){var t=r(8974).sprintf,i=r(6603),n=r(9365),u=r(8008);v.exports=f;function f(l,y,h){var S=n(y)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===i.FRAGMENT_SHADER?"fragment":"vertex");for(var o=t(`Error compiling %s shader %s:
`,c,S),d=t("%s%s",o,l),w=l.split(`
`),A={},C=0;C<w.length;C++){var m=w[C];if(!(m===""||m==="\0")){var E=parseInt(m.split(":")[2]);if(isNaN(E))throw new Error(t("Could not parse error: %s",m));A[E]=m}}for(var b=u(y).split(`
`),C=0;C<b.length;C++)if(!(!A[C+3]&&!A[C+2]&&!A[C+1])){var s=b[C];if(o+=s+`
`,A[C+1]){var L=A[C+1];L=L.substr(L.split(":",3).join(":").length+1).trim(),o+=t(`^^^ %s

`,L)}}return{long:o.trim(),short:d.trim()}}},6386:function(v,p,r){v.exports=c;var t=r(5070),i=r(9560),n=r(5306),u=r(5158),f=r(5827),l=r(1292);function y(o,d,w,A,C,m,E){this.plot=o,this.shader=d,this.pickShader=w,this.positionBuffer=A,this.weightBuffer=C,this.colorBuffer=m,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=y.prototype,S=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,w=this.shader,A=this.bounds,C=this.numVertices;if(!(C<=0)){var m=d.gl,E=d.dataBox,b=A[2]-A[0],s=A[3]-A[1],L=E[2]-E[0],T=E[3]-E[1];o[0]=2*b/L,o[4]=2*s/T,o[6]=2*(A[0]-E[0])/L-1,o[7]=2*(A[1]-E[1])/T-1,w.bind();var k=w.uniforms;k.viewTransform=o,k.shape=this.shape;var _=w.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,C)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(w){var A=this.plot,C=this.pickShader,m=this.bounds,E=this.numVertices;if(!(E<=0)){var b=A.gl,s=A.dataBox,L=m[2]-m[0],T=m[3]-m[1],k=s[2]-s[0],_=s[3]-s[1];o[0]=2*L/k,o[4]=2*T/_,o[6]=2*(m[0]-s[0])/k-1,o[7]=2*(m[1]-s[1])/_-1;for(var B=0;B<4;++B)d[B]=w>>B*8&255;this.pickOffset=w,C.bind();var F=C.uniforms;F.viewTransform=o,F.pickOffset=d,F.shape=this.shape;var O=C.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(b.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(b.UNSIGNED_BYTE,!1),b.drawArrays(b.TRIANGLES,0,E),w+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,d,w){var A=this.pickOffset,C=this.shape[0]*this.shape[1];if(w<A||w>=A+C)return null;var m=w-A,E=this.xData,b=this.yData;return{object:this,pointId:m,dataCoord:[E[m%this.shape[0]],b[m/this.shape[0]|0]]}},h.update=function(o){o=o||{};var d=o.shape||[0,0],w=o.x||i(d[0]),A=o.y||i(d[1]),C=o.z||new Float32Array(d[0]*d[1]),m=o.zsmooth!==!1;this.xData=w,this.yData=A;var E=o.colorLevels||[0],b=o.colorValues||[0,0,0,1],s=E.length,L=this.bounds,T,k,_,B;m?(T=L[0]=w[0],k=L[1]=A[0],_=L[2]=w[w.length-1],B=L[3]=A[A.length-1]):(T=L[0]=w[0]+(w[1]-w[0])/2,k=L[1]=A[0]+(A[1]-A[0])/2,_=L[2]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2,B=L[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var F=1/(_-T),O=1/(B-k),N=d[0],z=d[1];this.shape=[N,z];var V=(m?(N-1)*(z-1):N*z)*(S.length>>>1);this.numVertices=V;for(var W=n.mallocUint8(V*4),$=n.mallocFloat32(V*2),re=n.mallocUint8(V*2),ne=n.mallocUint32(V),ue=0,J=m?N-1:N,X=m?z-1:z,oe=0;oe<X;++oe){var Y,q;m?(Y=O*(A[oe]-k),q=O*(A[oe+1]-k)):(Y=oe<z-1?O*(A[oe]-(A[oe+1]-A[oe])/2-k):O*(A[oe]-(A[oe]-A[oe-1])/2-k),q=oe<z-1?O*(A[oe]+(A[oe+1]-A[oe])/2-k):O*(A[oe]+(A[oe]-A[oe-1])/2-k));for(var se=0;se<J;++se){var Q,K;m?(Q=F*(w[se]-T),K=F*(w[se+1]-T)):(Q=se<N-1?F*(w[se]-(w[se+1]-w[se])/2-T):F*(w[se]-(w[se]-w[se-1])/2-T),K=se<N-1?F*(w[se]+(w[se+1]-w[se])/2-T):F*(w[se]+(w[se]-w[se-1])/2-T));for(var le=0;le<S.length;le+=2){var ie=S[le],ce=S[le+1],ye=m?(oe+ce)*N+(se+ie):oe*N+se,Ce=C[ye],Ae=t.le(E,Ce),ke,we,Ee,xe;if(Ae<0)ke=b[0],we=b[1],Ee=b[2],xe=b[3];else if(Ae===s-1)ke=b[4*s-4],we=b[4*s-3],Ee=b[4*s-2],xe=b[4*s-1];else{var Pe=(Ce-E[Ae])/(E[Ae+1]-E[Ae]),Ue=1-Pe,Be=4*Ae,Ne=4*(Ae+1);ke=Ue*b[Be]+Pe*b[Ne],we=Ue*b[Be+1]+Pe*b[Ne+1],Ee=Ue*b[Be+2]+Pe*b[Ne+2],xe=Ue*b[Be+3]+Pe*b[Ne+3]}W[4*ue]=255*ke,W[4*ue+1]=255*we,W[4*ue+2]=255*Ee,W[4*ue+3]=255*xe,$[2*ue]=Q*.5+K*.5,$[2*ue+1]=Y*.5+q*.5,re[2*ue]=ie,re[2*ue+1]=ce,ne[ue]=oe*N+se,ue+=1}}}this.positionBuffer.update($),this.weightBuffer.update(re),this.colorBuffer.update(W),this.idBuffer.update(ne),n.free($),n.free(W),n.free(re),n.free(ne)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(o,d){var w=o.gl,A=u(w,l.vertex,l.fragment),C=u(w,l.pickVertex,l.pickFragment),m=f(w),E=f(w),b=f(w),s=f(w),L=new y(o,A,C,m,E,b,s);return L.update(d),o.addObject(L),L}},1292:function(v,p,r){var t=r(6832);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(y){return i(y,n,u,null,l)},p.createPickShader=function(y){return i(y,n,f,null,l)}},6086:function(v,p,r){v.exports=b;var t=r(5827),i=r(2944),n=r(8931),u=new Uint8Array(4),f=new Float32Array(u.buffer);function l(s,L,T,k){return u[0]=k,u[1]=T,u[2]=L,u[3]=s,f[0]}var y=r(5070),h=r(5050),S=r(248),c=S.createShader,o=S.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(s,L){for(var T=0,k=0;k<3;++k){var _=s[k]-L[k];T+=_*_}return Math.sqrt(T)}function A(s){for(var L=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)L[0][T]=Math.max(s[0][T],L[0][T]),L[1][T]=Math.min(s[1][T],L[1][T]);return L}function C(s,L,T,k){this.arcLength=s,this.position=L,this.index=T,this.dataCoordinate=k}function m(s,L,T,k,_,B){this.gl=s,this.shader=L,this.pickShader=T,this.buffer=k,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=B,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=m.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(s){this.pickId=s},E.drawTransparent=E.draw=function(s){if(this.vertexCount){var L=this.gl,T=this.shader,k=this.vao;T.bind(),T.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(L.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},E.drawPick=function(s){if(this.vertexCount){var L=this.gl,T=this.pickShader,k=this.vao;T.bind(),T.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(L.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},E.update=function(s){var L,T;this.dirty=!0;var k=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],B=[],F=[],O=0,N=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=s.position||s.positions;if(V){var W=s.color||s.colors||[0,0,0,1],$=s.lineWidth||1,re=!1;e:for(L=1;L<V.length;++L){var ne=V[L-1],ue=V[L];for(B.push(O),F.push(ne.slice()),T=0;T<3;++T){if(isNaN(ne[T])||isNaN(ue[T])||!isFinite(ne[T])||!isFinite(ue[T])){if(!k&&_.length>0){for(var J=0;J<24;++J)_.push(_[_.length-12]);N+=2,re=!0}continue e}z[0][T]=Math.min(z[0][T],ne[T],ue[T]),z[1][T]=Math.max(z[1][T],ne[T],ue[T])}var X,oe;Array.isArray(W[0])?(X=W.length>L-1?W[L-1]:W.length>0?W[W.length-1]:[0,0,0,1],oe=W.length>L?W[L]:W.length>0?W[W.length-1]:[0,0,0,1]):X=oe=W,X.length===3&&(X=[X[0],X[1],X[2],1]),oe.length===3&&(oe=[oe[0],oe[1],oe[2],1]),!this.hasAlpha&&X[3]<1&&(this.hasAlpha=!0);var Y;Array.isArray($)?Y=$.length>L-1?$[L-1]:$.length>0?$[$.length-1]:[0,0,0,1]:Y=$;var q=O;if(O+=w(ne,ue),re){for(T=0;T<2;++T)_.push(ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],q,Y,X[0],X[1],X[2],X[3]);N+=2,re=!1}_.push(ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],q,Y,X[0],X[1],X[2],X[3],ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],q,-Y,X[0],X[1],X[2],X[3],ue[0],ue[1],ue[2],ne[0],ne[1],ne[2],O,-Y,oe[0],oe[1],oe[2],oe[3],ue[0],ue[1],ue[2],ne[0],ne[1],ne[2],O,Y,oe[0],oe[1],oe[2],oe[3]),N+=4}}if(this.buffer.update(_),B.push(O),F.push(V[V.length-1].slice()),this.bounds=z,this.vertexCount=N,this.points=F,this.arcLength=B,"dashes"in s){var se=s.dashes,Q=se.slice();for(Q.unshift(0),L=1;L<Q.length;++L)Q[L]=Q[L-1]+Q[L];var K=h(new Array(256*4),[256,1,4]);for(L=0;L<256;++L){for(T=0;T<4;++T)K.set(L,0,T,0);y.le(Q,Q[Q.length-1]*L/255)&1?K.set(L,0,0,0):K.set(L,0,0,255)}this.texture.setPixels(K)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(s){if(!s||s.id!==this.pickId)return null;var L=l(s.value[0],s.value[1],s.value[2],0),T=y.le(this.arcLength,L);if(T<0)return null;if(T===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),T);for(var k=this.points[T],_=this.points[Math.min(T+1,this.points.length-1)],B=(L-this.arcLength[T])/(this.arcLength[T+1]-this.arcLength[T]),F=1-B,O=[0,0,0],N=0;N<3;++N)O[N]=F*k[N]+B*_[N];var z=Math.min(B<.5?T:T+1,this.points.length-1);return new C(L,O,z,this.points[z])};function b(s){var L=s.gl||s.scene&&s.scene.gl,T=c(L);T.attributes.position.location=0,T.attributes.nextPosition.location=1,T.attributes.arcLength.location=2,T.attributes.lineWidth.location=3,T.attributes.color.location=4;var k=o(L);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var _=t(L),B=i(L,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),F=h(new Array(256*4),[256,1,4]),O=0;O<1024;++O)F.data[O]=255;var N=n(L,F);N.wrap=L.REPEAT;var z=new m(L,T,k,_,B,N);return z.update(s),z}},7332:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},9823:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],u=r[3],f=r[4],l=r[5],y=r[6],h=r[7],S=r[8],c=r[9],o=r[10],d=r[11],w=r[12],A=r[13],C=r[14],m=r[15],E=t*l-i*f,b=t*y-n*f,s=t*h-u*f,L=i*y-n*l,T=i*h-u*l,k=n*h-u*y,_=S*A-c*w,B=S*C-o*w,F=S*m-d*w,O=c*C-o*A,N=c*m-d*A,z=o*m-d*C;return E*z-b*N+s*O+L*F-T*B+k*_}},5950:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],u=t[2],f=t[3],l=i+i,y=n+n,h=u+u,S=i*l,c=n*l,o=n*y,d=u*l,w=u*y,A=u*h,C=f*l,m=f*y,E=f*h;return r[0]=1-o-A,r[1]=c+E,r[2]=d-m,r[3]=0,r[4]=c-E,r[5]=1-S-A,r[6]=w+C,r[7]=0,r[8]=d+m,r[9]=w-C,r[10]=1-S-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=t[3],y=n+n,h=u+u,S=f+f,c=n*y,o=n*h,d=n*S,w=u*h,A=u*S,C=f*S,m=l*y,E=l*h,b=l*S;return r[0]=1-(w+C),r[1]=o+b,r[2]=d-E,r[3]=0,r[4]=o-b,r[5]=1-(c+C),r[6]=A+m,r[7]=0,r[8]=d+E,r[9]=A-m,r[10]=1-(c+w),r[11]=0,r[12]=i[0],r[13]=i[1],r[14]=i[2],r[15]=1,r}},9947:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],u=t[2],f=t[3],l=t[4],y=t[5],h=t[6],S=t[7],c=t[8],o=t[9],d=t[10],w=t[11],A=t[12],C=t[13],m=t[14],E=t[15],b=i*y-n*l,s=i*h-u*l,L=i*S-f*l,T=n*h-u*y,k=n*S-f*y,_=u*S-f*h,B=c*C-o*A,F=c*m-d*A,O=c*E-w*A,N=o*m-d*C,z=o*E-w*C,V=d*E-w*m,W=b*V-s*z+L*N+T*O-k*F+_*B;return W?(W=1/W,r[0]=(y*V-h*z+S*N)*W,r[1]=(u*z-n*V-f*N)*W,r[2]=(C*_-m*k+E*T)*W,r[3]=(d*k-o*_-w*T)*W,r[4]=(h*O-l*V-S*F)*W,r[5]=(i*V-u*O+f*F)*W,r[6]=(m*L-A*_-E*s)*W,r[7]=(c*_-d*L+w*s)*W,r[8]=(l*z-y*O+S*B)*W,r[9]=(n*O-i*z-f*B)*W,r[10]=(A*k-C*L+E*b)*W,r[11]=(o*L-c*k-w*b)*W,r[12]=(y*F-l*N-h*B)*W,r[13]=(i*N-n*F+u*B)*W,r[14]=(C*s-A*T-m*b)*W,r[15]=(c*T-o*s+d*b)*W,r):null}},3012:function(v,p,r){var t=r(9947);v.exports=i;function i(n,u,f,l){var y,h,S,c,o,d,w,A,C,m,E=u[0],b=u[1],s=u[2],L=l[0],T=l[1],k=l[2],_=f[0],B=f[1],F=f[2];return Math.abs(E-_)<1e-6&&Math.abs(b-B)<1e-6&&Math.abs(s-F)<1e-6?t(n):(w=E-_,A=b-B,C=s-F,m=1/Math.sqrt(w*w+A*A+C*C),w*=m,A*=m,C*=m,y=T*C-k*A,h=k*w-L*C,S=L*A-T*w,m=Math.sqrt(y*y+h*h+S*S),m?(m=1/m,y*=m,h*=m,S*=m):(y=0,h=0,S=0),c=A*S-C*h,o=C*y-w*S,d=w*h-A*y,m=Math.sqrt(c*c+o*o+d*d),m?(m=1/m,c*=m,o*=m,d*=m):(c=0,o=0,d=0),n[0]=y,n[1]=c,n[2]=w,n[3]=0,n[4]=h,n[5]=o,n[6]=A,n[7]=0,n[8]=S,n[9]=d,n[10]=C,n[11]=0,n[12]=-(y*E+h*b+S*s),n[13]=-(c*E+o*b+d*s),n[14]=-(w*E+A*b+C*s),n[15]=1,n)}},104:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=t[3],y=t[4],h=t[5],S=t[6],c=t[7],o=t[8],d=t[9],w=t[10],A=t[11],C=t[12],m=t[13],E=t[14],b=t[15],s=i[0],L=i[1],T=i[2],k=i[3];return r[0]=s*n+L*y+T*o+k*C,r[1]=s*u+L*h+T*d+k*m,r[2]=s*f+L*S+T*w+k*E,r[3]=s*l+L*c+T*A+k*b,s=i[4],L=i[5],T=i[6],k=i[7],r[4]=s*n+L*y+T*o+k*C,r[5]=s*u+L*h+T*d+k*m,r[6]=s*f+L*S+T*w+k*E,r[7]=s*l+L*c+T*A+k*b,s=i[8],L=i[9],T=i[10],k=i[11],r[8]=s*n+L*y+T*o+k*C,r[9]=s*u+L*h+T*d+k*m,r[10]=s*f+L*S+T*w+k*E,r[11]=s*l+L*c+T*A+k*b,s=i[12],L=i[13],T=i[14],k=i[15],r[12]=s*n+L*y+T*o+k*C,r[13]=s*u+L*h+T*d+k*m,r[14]=s*f+L*S+T*w+k*E,r[15]=s*l+L*c+T*A+k*b,r}},5268:function(v){v.exports=p;function p(r,t,i,n,u,f,l){var y=1/(t-i),h=1/(n-u),S=1/(f-l);return r[0]=-2*y,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*S,r[11]=0,r[12]=(t+i)*y,r[13]=(u+n)*h,r[14]=(l+f)*S,r[15]=1,r}},1120:function(v){v.exports=p;function p(r,t,i,n,u){var f=1/Math.tan(t/2),l=1/(n-u);return r[0]=f/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(u+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*u*n*l,r[15]=0,r}},4422:function(v){v.exports=p;function p(r,t,i,n){var u=n[0],f=n[1],l=n[2],y=Math.sqrt(u*u+f*f+l*l),h,S,c,o,d,w,A,C,m,E,b,s,L,T,k,_,B,F,O,N,z,V,W,$;return Math.abs(y)<1e-6?null:(y=1/y,u*=y,f*=y,l*=y,h=Math.sin(i),S=Math.cos(i),c=1-S,o=t[0],d=t[1],w=t[2],A=t[3],C=t[4],m=t[5],E=t[6],b=t[7],s=t[8],L=t[9],T=t[10],k=t[11],_=u*u*c+S,B=f*u*c+l*h,F=l*u*c-f*h,O=u*f*c-l*h,N=f*f*c+S,z=l*f*c+u*h,V=u*l*c+f*h,W=f*l*c-u*h,$=l*l*c+S,r[0]=o*_+C*B+s*F,r[1]=d*_+m*B+L*F,r[2]=w*_+E*B+T*F,r[3]=A*_+b*B+k*F,r[4]=o*O+C*N+s*z,r[5]=d*O+m*N+L*z,r[6]=w*O+E*N+T*z,r[7]=A*O+b*N+k*z,r[8]=o*V+C*W+s*$,r[9]=d*V+m*W+L*$,r[10]=w*V+E*W+T*$,r[11]=A*V+b*W+k*$,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},6109:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),u=Math.cos(i),f=t[4],l=t[5],y=t[6],h=t[7],S=t[8],c=t[9],o=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=f*u+S*n,r[5]=l*u+c*n,r[6]=y*u+o*n,r[7]=h*u+d*n,r[8]=S*u-f*n,r[9]=c*u-l*n,r[10]=o*u-y*n,r[11]=d*u-h*n,r}},7115:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),u=Math.cos(i),f=t[0],l=t[1],y=t[2],h=t[3],S=t[8],c=t[9],o=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=f*u-S*n,r[1]=l*u-c*n,r[2]=y*u-o*n,r[3]=h*u-d*n,r[8]=f*n+S*u,r[9]=l*n+c*u,r[10]=y*n+o*u,r[11]=h*n+d*u,r}},5240:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),u=Math.cos(i),f=t[0],l=t[1],y=t[2],h=t[3],S=t[4],c=t[5],o=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=f*u+S*n,r[1]=l*u+c*n,r[2]=y*u+o*n,r[3]=h*u+d*n,r[4]=S*u-f*n,r[5]=c*u-l*n,r[6]=o*u-y*n,r[7]=d*u-h*n,r}},3668:function(v){v.exports=p;function p(r,t,i){var n=i[0],u=i[1],f=i[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*u,r[5]=t[5]*u,r[6]=t[6]*u,r[7]=t[7]*u,r[8]=t[8]*f,r[9]=t[9]*f,r[10]=t[10]*f,r[11]=t[11]*f,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},998:function(v){v.exports=p;function p(r,t,i){var n=i[0],u=i[1],f=i[2],l,y,h,S,c,o,d,w,A,C,m,E;return t===r?(r[12]=t[0]*n+t[4]*u+t[8]*f+t[12],r[13]=t[1]*n+t[5]*u+t[9]*f+t[13],r[14]=t[2]*n+t[6]*u+t[10]*f+t[14],r[15]=t[3]*n+t[7]*u+t[11]*f+t[15]):(l=t[0],y=t[1],h=t[2],S=t[3],c=t[4],o=t[5],d=t[6],w=t[7],A=t[8],C=t[9],m=t[10],E=t[11],r[0]=l,r[1]=y,r[2]=h,r[3]=S,r[4]=c,r[5]=o,r[6]=d,r[7]=w,r[8]=A,r[9]=C,r[10]=m,r[11]=E,r[12]=l*n+c*u+A*f+t[12],r[13]=y*n+o*u+C*f+t[13],r[14]=h*n+d*u+m*f+t[14],r[15]=S*n+w*u+E*f+t[15]),r}},2142:function(v){v.exports=p;function p(r,t){if(r===t){var i=t[1],n=t[2],u=t[3],f=t[6],l=t[7],y=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=i,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=f,r[11]=t[14],r[12]=u,r[13]=l,r[14]=y}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},4340:function(v,p,r){var t=r(957),i=r(7309);v.exports=y;function n(h,S){for(var c=[0,0,0,0],o=0;o<4;++o)for(var d=0;d<4;++d)c[d]+=h[4*o+d]*S[o];return c}function u(h,S,c,o,d){for(var w=n(o,n(c,n(S,[h[0],h[1],h[2],1]))),A=0;A<3;++A)w[A]/=w[3];return[.5*d[0]*(1+w[0]),.5*d[1]*(1-w[1])]}function f(h,S){if(h.length===2){for(var c=0,o=0,d=0;d<2;++d)c+=Math.pow(S[d]-h[0][d],2),o+=Math.pow(S[d]-h[1][d],2);return c=Math.sqrt(c),o=Math.sqrt(o),c+o<1e-6?[1,0]:[o/(c+o),c/(o+c)]}else if(h.length===3){var w=[0,0];return i(h[0],h[1],h[2],S,w),t(h,w)}return[]}function l(h,S){for(var c=[0,0,0],o=0;o<h.length;++o)for(var d=h[o],w=S[o],A=0;A<3;++A)c[A]+=w*d[A];return c}function y(h,S,c,o,d,w){if(h.length===1)return[0,h[0].slice()];for(var A=new Array(h.length),C=0;C<h.length;++C)A[C]=u(h[C],c,o,d,w);for(var m=0,E=1/0,C=0;C<A.length;++C){for(var b=0,s=0;s<2;++s)b+=Math.pow(A[C][s]-S[s],2);b<E&&(E=b,m=C)}for(var L=f(A,S),T=0,C=0;C<3;++C){if(L[C]<-.001||L[C]>1.0001)return null;T+=L[C]}return Math.abs(T-1)>.001?null:[m,l(h,L),L]}},2056:function(v,p,r){var t=r(6832),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),y=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),S=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:S,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:c,fragment:S,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:o,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,r){var t=1e-6,i=1e-6,n=r(5158),u=r(5827),f=r(2944),l=r(8931),y=r(115),h=r(104),S=r(7437),c=r(5050),o=r(9156),d=r(7212),w=r(5306),A=r(2056),C=r(4340),m=A.meshShader,E=A.wireShader,b=A.pointShader,s=A.pickShader,L=A.pointPickShader,T=A.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(J,X,oe,Y,q,se,Q,K,le,ie,ce,ye,Ce,Ae,ke,we,Ee,xe,Pe,Ue,Be,Ne,Xe,ut,dt,at,We){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=X,this.dirty=!0,this.triShader=oe,this.lineShader=Y,this.pointShader=q,this.pickShader=se,this.pointPickShader=Q,this.contourShader=K,this.trianglePositions=le,this.triangleColors=ce,this.triangleNormals=Ce,this.triangleUVs=ye,this.triangleIds=ie,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ke,this.edgeColors=Ee,this.edgeUVs=xe,this.edgeIds=we,this.edgeVAO=Pe,this.edgeCount=0,this.pointPositions=Ue,this.pointColors=Ne,this.pointUVs=Xe,this.pointSizes=ut,this.pointIds=Be,this.pointVAO=dt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=at,this.contourVAO=We,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var B=_.prototype;B.isOpaque=function(){return!this.hasAlpha},B.isTransparent=function(){return this.hasAlpha},B.pickSlots=1,B.setPickBase=function(J){this.pickId=J};function F(J,X){if(!X||!X.length)return 1;for(var oe=0;oe<X.length;++oe){if(X.length<2)return 1;if(X[oe][0]===J)return X[oe][1];if(X[oe][0]>J&&oe>0){var Y=(X[oe][0]-J)/(X[oe][0]-X[oe-1][0]);return X[oe][1]*(1-Y)+Y*X[oe-1][1]}}return 1}function O(J,X){for(var oe=o({colormap:J,nshades:256,format:"rgba"}),Y=new Uint8Array(256*4),q=0;q<256;++q){for(var se=oe[q],Q=0;Q<3;++Q)Y[4*q+Q]=se[Q];X?Y[4*q+3]=255*F(q/255,X):Y[4*q+3]=255*se[3]}return c(Y,[256,256,4],[4,0,1])}function N(J){for(var X=J.length,oe=new Array(X),Y=0;Y<X;++Y)oe[Y]=J[Y][2];return oe}B.highlight=function(J){if(!J||!this.contourEnable){this.contourCount=0;return}for(var X=d(this.cells,this.intensity,J.intensity),oe=X.cells,Y=X.vertexIds,q=X.vertexWeights,se=oe.length,Q=w.mallocFloat32(2*3*se),K=0,le=0;le<se;++le)for(var ie=oe[le],ce=0;ce<2;++ce){var ye=ie[0];ie.length===2&&(ye=ie[ce]);for(var Ce=Y[ye][0],Ae=Y[ye][1],ke=q[ye],we=1-ke,Ee=this.positions[Ce],xe=this.positions[Ae],Pe=0;Pe<3;++Pe)Q[K++]=ke*Ee[Pe]+we*xe[Pe]}this.contourCount=K/3|0,this.contourPositions.update(Q.subarray(0,K)),w.free(Q)},B.update=function(J){J=J||{};var X=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=l(X,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=X.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=X.LINEAR,this.texture.setPixels(O(J.colormap,this.opacityscale)),this.texture.generateMipmap());var oe=J.cells,Y=J.positions;if(!(!Y||!oe)){var q=[],se=[],Q=[],K=[],le=[],ie=[],ce=[],ye=[],Ce=[],Ae=[],ke=[],we=[],Ee=[],xe=[];this.cells=oe,this.positions=Y;var Pe=J.vertexNormals,Ue=J.cellNormals,Be=J.vertexNormalsEpsilon===void 0?t:J.vertexNormalsEpsilon,Ne=J.faceNormalsEpsilon===void 0?i:J.faceNormalsEpsilon;J.useFacetNormals&&!Ue&&(Ue=y.faceNormals(oe,Y,Ne)),!Ue&&!Pe&&(Pe=y.vertexNormals(oe,Y,Be));var Xe=J.vertexColors,ut=J.cellColors,dt=J.meshColor||[1,1,1,1],at=J.vertexUVs,We=J.vertexIntensity,rt=J.cellUVs,st=J.cellIntensity,ht=1/0,vt=-1/0;if(!at&&!rt)if(We)if(J.vertexIntensityBounds)ht=+J.vertexIntensityBounds[0],vt=+J.vertexIntensityBounds[1];else for(var At=0;At<We.length;++At){var et=We[At];ht=Math.min(ht,et),vt=Math.max(vt,et)}else if(st)if(J.cellIntensityBounds)ht=+J.cellIntensityBounds[0],vt=+J.cellIntensityBounds[1];else for(var At=0;At<st.length;++At){var et=st[At];ht=Math.min(ht,et),vt=Math.max(vt,et)}else for(var At=0;At<Y.length;++At){var et=Y[At][2];ht=Math.min(ht,et),vt=Math.max(vt,et)}We?this.intensity=We:st?this.intensity=st:this.intensity=N(Y),this.pickVertex=!(st||ut);var _e=J.pointSizes,Ve=J.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var At=0;At<Y.length;++At)for(var Ze=Y[At],He=0;He<3;++He)isNaN(Ze[He])||!isFinite(Ze[He])||(this.bounds[0][He]=Math.min(this.bounds[0][He],Ze[He]),this.bounds[1][He]=Math.max(this.bounds[1][He],Ze[He]));var Ie=0,be=0,me=0;e:for(var At=0;At<oe.length;++At){var Me=oe[At];switch(Me.length){case 1:for(var Te=Me[0],Ze=Y[Te],He=0;He<3;++He)if(isNaN(Ze[He])||!isFinite(Ze[He]))continue e;Ae.push(Ze[0],Ze[1],Ze[2]);var Oe;Xe?Oe=Xe[Te]:ut?Oe=ut[At]:Oe=dt,this.opacityscale&&We?se.push(Oe[0],Oe[1],Oe[2],this.opacity*F((We[Te]-ht)/(vt-ht),this.opacityscale)):Oe.length===3?ke.push(Oe[0],Oe[1],Oe[2],this.opacity):(ke.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0));var Ke;at?Ke=at[Te]:We?Ke=[(We[Te]-ht)/(vt-ht),0]:rt?Ke=rt[At]:st?Ke=[(st[At]-ht)/(vt-ht),0]:Ke=[(Ze[2]-ht)/(vt-ht),0],we.push(Ke[0],Ke[1]),_e?Ee.push(_e[Te]):Ee.push(Ve),xe.push(At),me+=1;break;case 2:for(var He=0;He<2;++He)for(var Te=Me[He],Ze=Y[Te],nt=0;nt<3;++nt)if(isNaN(Ze[nt])||!isFinite(Ze[nt]))continue e;for(var He=0;He<2;++He){var Te=Me[He],Ze=Y[Te];ie.push(Ze[0],Ze[1],Ze[2]);var Oe;Xe?Oe=Xe[Te]:ut?Oe=ut[At]:Oe=dt,this.opacityscale&&We?se.push(Oe[0],Oe[1],Oe[2],this.opacity*F((We[Te]-ht)/(vt-ht),this.opacityscale)):Oe.length===3?ce.push(Oe[0],Oe[1],Oe[2],this.opacity):(ce.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0));var Ke;at?Ke=at[Te]:We?Ke=[(We[Te]-ht)/(vt-ht),0]:rt?Ke=rt[At]:st?Ke=[(st[At]-ht)/(vt-ht),0]:Ke=[(Ze[2]-ht)/(vt-ht),0],ye.push(Ke[0],Ke[1]),Ce.push(At)}be+=1;break;case 3:for(var He=0;He<3;++He)for(var Te=Me[He],Ze=Y[Te],nt=0;nt<3;++nt)if(isNaN(Ze[nt])||!isFinite(Ze[nt]))continue e;for(var He=0;He<3;++He){var Te=Me[2-He],Ze=Y[Te];q.push(Ze[0],Ze[1],Ze[2]);var Oe;Xe?Oe=Xe[Te]:ut?Oe=ut[At]:Oe=dt,Oe?this.opacityscale&&We?se.push(Oe[0],Oe[1],Oe[2],this.opacity*F((We[Te]-ht)/(vt-ht),this.opacityscale)):Oe.length===3?se.push(Oe[0],Oe[1],Oe[2],this.opacity):(se.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var Ke;at?Ke=at[Te]:We?Ke=[(We[Te]-ht)/(vt-ht),0]:rt?Ke=rt[At]:st?Ke=[(st[At]-ht)/(vt-ht),0]:Ke=[(Ze[2]-ht)/(vt-ht),0],K.push(Ke[0],Ke[1]);var pt;Pe?pt=Pe[Te]:pt=Ue[At],Q.push(pt[0],pt[1],pt[2]),le.push(At)}Ie+=1;break}}this.pointCount=me,this.edgeCount=be,this.triangleCount=Ie,this.pointPositions.update(Ae),this.pointColors.update(ke),this.pointUVs.update(we),this.pointSizes.update(Ee),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(ie),this.edgeColors.update(ce),this.edgeUVs.update(ye),this.edgeIds.update(new Uint32Array(Ce)),this.trianglePositions.update(q),this.triangleColors.update(se),this.triangleUVs.update(K),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(le))}},B.drawTransparent=B.draw=function(J){J=J||{};for(var X=this.gl,oe=J.model||k,Y=J.view||k,q=J.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)se[0][Q]=Math.max(se[0][Q],this.clipBounds[0][Q]),se[1][Q]=Math.min(se[1][Q],this.clipBounds[1][Q]);var K={model:oe,view:Y,projection:q,inverseModel:k.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};K.inverseModel=S(K.inverseModel,K.model),X.disable(X.CULL_FACE),this.texture.bind(0);var le=new Array(16);h(le,K.view,K.model),h(le,K.projection,le),S(le,le);for(var Q=0;Q<3;++Q)K.eyePosition[Q]=le[12+Q]/le[15];for(var ie=le[15],Q=0;Q<3;++Q)ie+=this.lightPosition[Q]*le[4*Q+3];for(var Q=0;Q<3;++Q){for(var ce=le[12+Q],ye=0;ye<3;++ye)ce+=le[4*ye+Q]*this.lightPosition[ye];K.lightPosition[Q]=ce/ie}if(this.triangleCount>0){var Ce=this.triShader;Ce.bind(),Ce.uniforms=K,this.triangleVAO.bind(),X.drawArrays(X.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ce=this.lineShader;Ce.bind(),Ce.uniforms=K,this.edgeVAO.bind(),X.lineWidth(this.lineWidth*this.pixelRatio),X.drawArrays(X.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ce=this.pointShader;Ce.bind(),Ce.uniforms=K,this.pointVAO.bind(),X.drawArrays(X.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ce=this.contourShader;Ce.bind(),Ce.uniforms=K,this.contourVAO.bind(),X.drawArrays(X.LINES,0,this.contourCount),this.contourVAO.unbind()}},B.drawPick=function(J){J=J||{};for(var X=this.gl,oe=J.model||k,Y=J.view||k,q=J.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)se[0][Q]=Math.max(se[0][Q],this.clipBounds[0][Q]),se[1][Q]=Math.min(se[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(oe),this._view=[].slice.call(Y),this._projection=[].slice.call(q),this._resolution=[X.drawingBufferWidth,X.drawingBufferHeight];var K={model:oe,view:Y,projection:q,clipBounds:se,pickId:this.pickId/255},le=this.pickShader;if(le.bind(),le.uniforms=K,this.triangleCount>0&&(this.triangleVAO.bind(),X.drawArrays(X.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),X.lineWidth(this.lineWidth*this.pixelRatio),X.drawArrays(X.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var le=this.pointPickShader;le.bind(),le.uniforms=K,this.pointVAO.bind(),X.drawArrays(X.POINTS,0,this.pointCount),this.pointVAO.unbind()}},B.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var X=J.value[0]+256*J.value[1]+65536*J.value[2],oe=this.cells[X],Y=this.positions,q=new Array(oe.length),se=0;se<oe.length;++se)q[se]=Y[oe[se]];var Q=J.coord[0],K=J.coord[1];if(!this.pickVertex){var le=this.positions[oe[0]],ie=this.positions[oe[1]],ce=this.positions[oe[2]],ye=[(le[0]+ie[0]+ce[0])/3,(le[1]+ie[1]+ce[1])/3,(le[2]+ie[2]+ce[2])/3];return{_cellCenter:!0,position:[Q,K],index:X,cell:oe,cellId:X,intensity:this.intensity[X],dataCoordinate:ye}}var Ce=C(q,[Q*this.pixelRatio,this._resolution[1]-K*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ce)return null;for(var Ae=Ce[2],ke=0,se=0;se<oe.length;++se)ke+=Ae[se]*this.intensity[oe[se]];return{position:Ce[1],index:oe[Ce[0]],cell:oe,cellId:X,intensity:ke,dataCoordinate:this.positions[oe[Ce[0]]]}},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z(J){var X=n(J,m.vertex,m.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.normal.location=4,X}function V(J){var X=n(J,E.vertex,E.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X}function W(J){var X=n(J,b.vertex,b.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.pointSize.location=4,X}function $(J){var X=n(J,s.vertex,s.fragment);return X.attributes.position.location=0,X.attributes.id.location=1,X}function re(J){var X=n(J,L.vertex,L.fragment);return X.attributes.position.location=0,X.attributes.id.location=1,X.attributes.pointSize.location=4,X}function ne(J){var X=n(J,T.vertex,T.fragment);return X.attributes.position.location=0,X}function ue(J,X){arguments.length===1&&(X=J,J=X.gl);var oe=J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives");if(!oe)throw new Error("derivatives not supported");var Y=z(J),q=V(J),se=W(J),Q=$(J),K=re(J),le=ne(J),ie=l(J,c(new Uint8Array([255,255,255,255]),[1,1,4]));ie.generateMipmap(),ie.minFilter=J.LINEAR_MIPMAP_LINEAR,ie.magFilter=J.LINEAR;var ce=u(J),ye=u(J),Ce=u(J),Ae=u(J),ke=u(J),we=f(J,[{buffer:ce,type:J.FLOAT,size:3},{buffer:ke,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:J.FLOAT,size:4},{buffer:Ce,type:J.FLOAT,size:2},{buffer:Ae,type:J.FLOAT,size:3}]),Ee=u(J),xe=u(J),Pe=u(J),Ue=u(J),Be=f(J,[{buffer:Ee,type:J.FLOAT,size:3},{buffer:Ue,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:J.FLOAT,size:4},{buffer:Pe,type:J.FLOAT,size:2}]),Ne=u(J),Xe=u(J),ut=u(J),dt=u(J),at=u(J),We=f(J,[{buffer:Ne,type:J.FLOAT,size:3},{buffer:at,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Xe,type:J.FLOAT,size:4},{buffer:ut,type:J.FLOAT,size:2},{buffer:dt,type:J.FLOAT,size:1}]),rt=u(J),st=f(J,[{buffer:rt,type:J.FLOAT,size:3}]),ht=new _(J,ie,Y,q,se,Q,K,le,ce,ke,ye,Ce,Ae,we,Ee,Ue,xe,Pe,Be,Ne,at,Xe,ut,dt,We,rt,st);return ht.update(X),ht}v.exports=ue},4554:function(v,p,r){v.exports=l;var t=r(5827),i=r(5158),n=r(2709);function u(y,h,S){this.plot=y,this.vbo=h,this.shader=S}var f=u.prototype;f.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var y=[0,0],h=[0,0];return function(S,c,o,d,w){var A=this.plot,C=this.shader,m=A.gl;y[0]=S,y[1]=c,h[0]=o,h[1]=d,C.uniforms.lo=y,C.uniforms.hi=h,C.uniforms.color=w,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var h=y.gl,S=t(h,[0,0,0,1,1,0,1,1]),c=i(h,n.boxVert,n.lineFrag);return new u(y,S,c)}},3016:function(v,p,r){v.exports=h;var t=r(5827),i=r(5158),n=r(5070),u=r(2709);function f(S,c,o,d){this.plot=S,this.vbo=c,this.shader=o,this.tickShader=d,this.ticks=[[],[]]}function l(S,c){return S-c}var y=f.prototype;y.draw=function(){var S=[0,0],c=[0,0],o=[0,0];return function(){for(var d=this.plot,w=this.vbo,A=this.shader,C=this.ticks,m=d.gl,E=d._tickBounds,b=d.dataBox,s=d.viewBox,L=d.gridLineWidth,T=d.gridLineColor,k=d.gridLineEnable,_=d.pixelRatio,B=0;B<2;++B){var F=E[B],O=E[B+2],N=O-F,z=.5*(b[B+2]+b[B]),V=b[B+2]-b[B];c[B]=2*N/V,S[B]=2*(F-z)/V}A.bind(),w.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=S,A.uniforms.dataScale=c;for(var W=0,B=0;B<2;++B){o[0]=o[1]=0,o[B]=1,A.uniforms.dataAxis=o,A.uniforms.lineWidth=L[B]/(s[B+2]-s[B])*_,A.uniforms.color=T[B];var $=C[B].length*6;k[B]&&$&&m.drawArrays(m.TRIANGLES,W,$),W+=$}}}(),y.drawTickMarks=function(){var S=[0,0],c=[0,0],o=[1,0],d=[0,1],w=[0,0],A=[0,0];return function(){for(var C=this.plot,m=this.vbo,E=this.tickShader,b=this.ticks,s=C.gl,L=C._tickBounds,T=C.dataBox,k=C.viewBox,_=C.pixelRatio,B=C.screenBox,F=B[2]-B[0],O=B[3]-B[1],N=k[2]-k[0],z=k[3]-k[1],V=0;V<2;++V){var W=L[V],$=L[V+2],re=$-W,ne=.5*(T[V+2]+T[V]),ue=T[V+2]-T[V];c[V]=2*re/ue,S[V]=2*(W-ne)/ue}c[0]*=N/F,S[0]*=N/F,c[1]*=z/O,S[1]*=z/O,E.bind(),m.bind(),E.attributes.dataCoord.pointer();var J=E.uniforms;J.dataShift=S,J.dataScale=c;var X=C.tickMarkLength,oe=C.tickMarkWidth,Y=C.tickMarkColor,q=0,se=b[0].length*6,Q=Math.min(n.ge(b[0],(T[0]-L[0])/(L[2]-L[0]),l),b[0].length),K=Math.min(n.gt(b[0],(T[2]-L[0])/(L[2]-L[0]),l),b[0].length),le=q+6*Q,ie=6*Math.max(0,K-Q),ce=Math.min(n.ge(b[1],(T[1]-L[1])/(L[3]-L[1]),l),b[1].length),ye=Math.min(n.gt(b[1],(T[3]-L[1])/(L[3]-L[1]),l),b[1].length),Ce=se+6*ce,Ae=6*Math.max(0,ye-ce);w[0]=2*(k[0]-X[1])/F-1,w[1]=(k[3]+k[1])/O-1,A[0]=X[1]*_/F,A[1]=oe[1]*_/O,Ae&&(J.color=Y[1],J.tickScale=A,J.dataAxis=d,J.screenOffset=w,s.drawArrays(s.TRIANGLES,Ce,Ae)),w[0]=(k[2]+k[0])/F-1,w[1]=2*(k[1]-X[0])/O-1,A[0]=oe[0]*_/F,A[1]=X[0]*_/O,ie&&(J.color=Y[0],J.tickScale=A,J.dataAxis=o,J.screenOffset=w,s.drawArrays(s.TRIANGLES,le,ie)),w[0]=2*(k[2]+X[3])/F-1,w[1]=(k[3]+k[1])/O-1,A[0]=X[3]*_/F,A[1]=oe[3]*_/O,Ae&&(J.color=Y[3],J.tickScale=A,J.dataAxis=d,J.screenOffset=w,s.drawArrays(s.TRIANGLES,Ce,Ae)),w[0]=(k[2]+k[0])/F-1,w[1]=2*(k[3]+X[2])/O-1,A[0]=oe[2]*_/F,A[1]=X[2]*_/O,ie&&(J.color=Y[2],J.tickScale=A,J.dataAxis=o,J.screenOffset=w,s.drawArrays(s.TRIANGLES,le,ie))}}(),y.update=function(){var S=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(o){var d=o.ticks,w=o.bounds,A=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,m=[[],[]],E=0;E<2;++E)for(var b=m[E],s=d[E],L=w[E],T=w[E+2],k=0;k<s.length;++k){var _=(s[k].x-L)/(T-L);b.push(_);for(var B=0;B<6;++B)A[C++]=_,A[C++]=S[B],A[C++]=c[B]}this.ticks=m,this.vbo.update(A)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(S){var c=S.gl,o=t(c),d=i(c,u.gridVert,u.gridFrag),w=i(c,u.tickVert,u.gridFrag),A=new f(S,o,d,w);return A}},1154:function(v,p,r){v.exports=l;var t=r(5827),i=r(5158),n=r(2709);function u(y,h,S){this.plot=y,this.vbo=h,this.shader=S}var f=u.prototype;f.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var y=[0,0],h=[0,0];return function(S,c,o,d,w,A){var C=this.plot,m=this.shader,E=C.gl;y[0]=S,y[1]=c,h[0]=o,h[1]=d,m.uniforms.start=y,m.uniforms.end=h,m.uniforms.width=w*C.pixelRatio,m.uniforms.color=A,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var h=y.gl,S=t(h,[-1,-1,-1,1,1,-1,1,1]),c=i(h,n.lineVert,n.lineFrag),o=new u(y,S,c);return o}},2709:function(v,p,r){var t=r(6832),i=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,r){v.exports=h;var t=r(5827),i=r(5158),n=r(6946),u=r(5070),f=r(2709);function l(S,c,o){this.plot=S,this.vbo=c,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var y=l.prototype;y.drawTicks=function(){var S=[0,0],c=[0,0],o=[0,0];return function(d){var w=this.plot,A=this.shader,C=this.tickX[d],m=this.tickOffset[d],E=w.gl,b=w.viewBox,s=w.dataBox,L=w.screenBox,T=w.pixelRatio,k=w.tickEnable,_=w.tickPad,B=w.tickColor,F=w.tickAngle,O=w.labelEnable,N=w.labelPad,z=w.labelColor,V=w.labelAngle,W=this.labelOffset[d],$=this.labelCount[d],re=u.lt(C,s[d]),ne=u.le(C,s[d+2]);S[0]=S[1]=0,S[d]=1,c[d]=(b[2+d]+b[d])/(L[2+d]-L[d])-1;var ue=2/L[2+(d^1)]-L[d^1];c[d^1]=ue*b[d^1]-1,k[d]&&(c[d^1]-=ue*T*_[d],re<ne&&m[ne]>m[re]&&(A.uniforms.dataAxis=S,A.uniforms.screenOffset=c,A.uniforms.color=B[d],A.uniforms.angle=F[d],E.drawArrays(E.TRIANGLES,m[re],m[ne]-m[re]))),O[d]&&$&&(c[d^1]-=ue*T*N[d],A.uniforms.dataAxis=o,A.uniforms.screenOffset=c,A.uniforms.color=z[d],A.uniforms.angle=V[d],E.drawArrays(E.TRIANGLES,W,$)),c[d^1]=ue*b[2+(d^1)]-1,k[d+2]&&(c[d^1]+=ue*T*_[d+2],re<ne&&m[ne]>m[re]&&(A.uniforms.dataAxis=S,A.uniforms.screenOffset=c,A.uniforms.color=B[d+2],A.uniforms.angle=F[d+2],E.drawArrays(E.TRIANGLES,m[re],m[ne]-m[re]))),O[d+2]&&$&&(c[d^1]+=ue*T*N[d+2],A.uniforms.dataAxis=o,A.uniforms.screenOffset=c,A.uniforms.color=z[d+2],A.uniforms.angle=V[d+2],E.drawArrays(E.TRIANGLES,W,$))}}(),y.drawTitle=function(){var S=[0,0],c=[0,0];return function(){var o=this.plot,d=this.shader,w=o.gl,A=o.screenBox,C=o.titleCenter,m=o.titleAngle,E=o.titleColor,b=o.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)c[s]=2*(C[s]*b-A[s])/(A[2+s]-A[s])-1;d.bind(),d.uniforms.dataAxis=S,d.uniforms.screenOffset=c,d.uniforms.angle=m,d.uniforms.color=E,w.drawArrays(w.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var S=[0,0],c=[0,0],o=[0,0];return function(){var d=this.plot,w=this.shader,A=d._tickBounds,C=d.dataBox,m=d.screenBox,E=d.viewBox;w.bind();for(var b=0;b<2;++b){var s=A[b],L=A[b+2],T=L-s,k=.5*(C[b+2]+C[b]),_=C[b+2]-C[b],B=E[b],F=E[b+2],O=F-B,N=m[b],z=m[b+2],V=z-N;c[b]=2*T/_*O/V,S[b]=2*(s-k)/_*O/V}o[1]=2*d.pixelRatio/(m[3]-m[1]),o[0]=o[1]*(m[3]-m[1])/(m[2]-m[0]),w.uniforms.dataScale=c,w.uniforms.dataShift=S,w.uniforms.textScale=o,this.vbo.bind(),w.attributes.textCoordinate.pointer()}}(),y.update=function(S){var c=[],o=S.ticks,d=S.bounds,w,A,C,m,E;for(E=0;E<2;++E){var b=[Math.floor(c.length/3)],s=[-1/0],L=o[E];for(w=0;w<L.length;++w){var T=L[w],k=T.x,_=T.text,B=T.font||"sans-serif";m=T.fontSize||12;for(var F=1/(d[E+2]-d[E]),O=d[E],N=_.split(`
`),z=0;z<N.length;z++)for(C=n(B,N[z]).data,A=0;A<C.length;A+=2)c.push(C[A]*m,-C[A+1]*m-z*m*1.2,(k-O)*F);b.push(Math.floor(c.length/3)),s.push(k)}this.tickOffset[E]=b,this.tickX[E]=s}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(c.length/3),C=n(S.labelFont[E],S.labels[E],{textAlign:"center"}).data,m=S.labelSize[E],w=0;w<C.length;w+=2)c.push(C[w]*m,-C[w+1]*m,0);this.labelCount[E]=Math.floor(c.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(c.length/3),C=n(S.titleFont,S.title).data,m=S.titleSize,w=0;w<C.length;w+=2)c.push(C[w]*m,-C[w+1]*m,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(S){var c=S.gl,o=t(c),d=i(c,f.textVert,f.textFrag),w=new l(S,o,d);return w}},2117:function(v,p,r){v.exports=c;var t=r(2611),i=r(3016),n=r(5613),u=r(1154),f=r(4554);function l(o,d){this.gl=o,this.pickBuffer=d,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=l.prototype;y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){return function(){var o=this.gl,d=this.screenBox,w=this.viewBox,A=this.dataBox,C=this.pixelRatio,m=this.grid,E=this.line,b=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var L=this.borderColor;o.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(w[0],w[1],w[2]-w[0],w[3]-w[1]),o.viewport(w[0],w[1],w[2]-w[0],w[3]-w[1]);var T=this.backgroundColor;o.clearColor(T[0]*T[3],T[1]*T[3],T[2]*T[3],T[3]),o.clear(o.COLOR_BUFFER_BIT),m.draw();var k=this.zeroLineEnable,_=this.zeroLineColor,B=this.zeroLineWidth;if(k[0]||k[1]){E.bind();for(var F=0;F<2;++F)if(!(!k[F]||!(A[F]<=0&&A[F+2]>=0))){var O=d[F]-A[F]*(d[F+2]-d[F])/(A[F+2]-A[F]);F===0?E.drawLine(O,d[1],O,d[3],B[F],_[F]):E.drawLine(d[0],O,d[2],O,B[F],_[F])}}for(var F=0;F<s.length;++F)s[F].draw();o.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),E.bind();var N=this.borderLineEnable,z=this.borderLineWidth,V=this.borderLineColor;N[1]&&E.drawLine(w[0],w[1]-.5*z[1]*C,w[0],w[3]+.5*z[3]*C,z[1],V[1]),N[0]&&E.drawLine(w[0]-.5*z[0]*C,w[1],w[2]+.5*z[2]*C,w[1],z[0],V[0]),N[3]&&E.drawLine(w[2],w[1]-.5*z[1]*C,w[2],w[3]+.5*z[3]*C,z[3],V[3]),N[2]&&E.drawLine(w[0]-.5*z[0]*C,w[3],w[2]+.5*z[2]*C,w[3],z[2],V[2]),b.bind();for(var F=0;F<2;++F)b.drawTicks(F);this.titleEnable&&b.drawTitle();for(var W=this.overlays,F=0;F<W.length;++F)W[F].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),y.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var d=1,w=this.objects,A=0;A<w.length;++A)d=w[A].drawPick(d);o.end()}}}(),y.pick=function(){return function(o,d){if(!this.static){var w=this.pixelRatio,A=this.pickPixelRatio,C=this.viewBox,m=Math.round((o-C[0]/w)*A)|0,E=Math.round((d-C[1]/w)*A)|0,b=this.pickBuffer.query(m,E,this.pickRadius);if(!b)return null;for(var s=b.id+(b.value[0]<<8)+(b.value[1]<<16)+(b.value[2]<<24),L=this.objects,T=0;T<L.length;++T){var k=L[T].pick(m,E,s);if(k)return k}return null}}}();function h(o){for(var d=o.slice(),w=0;w<d.length;++w)d[w]=d[w].slice();return d}function S(o,d){return o.x-d.x}y.setScreenBox=function(o){var d=this.screenBox,w=this.pixelRatio;d[0]=Math.round(o[0]*w)|0,d[1]=Math.round(o[1]*w)|0,d[2]=Math.round(o[2]*w)|0,d[3]=Math.round(o[3]*w)|0,this.setDirty()},y.setDataBox=function(o){var d=this.dataBox,w=d[0]!==o[0]||d[1]!==o[1]||d[2]!==o[2]||d[3]!==o[3];w&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],this.setDirty())},y.setViewBox=function(o){var d=this.pixelRatio,w=this.viewBox;w[0]=Math.round(o[0]*d)|0,w[1]=Math.round(o[1]*d)|0,w[2]=Math.round(o[2]*d)|0,w[3]=Math.round(o[3]*d)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*A)|0,Math.round((o[3]-o[1])*A)|0],this.setDirty()},y.update=function(o){o=o||{};var d=this.gl;this.pixelRatio=o.pixelRatio||1;var w=this.pixelRatio;this.pickPixelRatio=Math.max(w,1),this.setScreenBox(o.screenBox||[0,0,d.drawingBufferWidth/w,d.drawingBufferHeight/w]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/w,.125*(this.screenBox[3]-this.screenBox[1])/w,.875*(this.screenBox[2]-this.screenBox[0])/w,.875*(this.screenBox[3]-this.screenBox[1])/w]);var A=this.viewBox,C=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(o.dataBox||[-10,-10/C,10,10/C]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(A[0]+A[2])/w,(A[3]+120)/w]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var m=o.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var b=0;b<2;++b){var s=m[b].slice(0);s.length!==0&&(s.sort(S),E[b]=Math.min(E[b],s[0].x),E[b+2]=Math.max(E[b+2],s[s.length-1].x))}this.grid.update({bounds:E,ticks:m}),this.text.update({bounds:E,ticks:m,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif"}),this.static=!!o.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},y.removeObject=function(o){for(var d=this.objects,w=0;w<d.length;++w)if(d[w]===o){d.splice(w,1),this.setDirty();break}},y.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},y.removeOverlay=function(o){for(var d=this.overlays,w=0;w<d.length;++w)if(d[w]===o){d.splice(w,1),this.setOverlayDirty();break}};function c(o){var d=o.gl,w=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),A=new l(d,w);return A.grid=i(A),A.text=n(A),A.line=u(A),A.box=f(A),A.update(o),A}},4296:function(v,p,r){v.exports=y;var t=r(8161),i=r(1152),n=r(6145),u=r(6475),f=r(2565),l=r(5233);function y(h,S){h=h||document.body,S=S||{};var c=[.01,1/0];"distanceLimits"in S&&(c[0]=S.distanceLimits[0],c[1]=S.distanceLimits[1]),"zoomMin"in S&&(c[0]=S.zoomMin),"zoomMax"in S&&(c[1]=S.zoomMax);var o=i({center:S.center||[0,0,0],up:S.up||[0,1,0],eye:S.eye||[0,0,10],mode:S.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0,A=h.clientWidth,C=h.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:S.delay||16,rotateSpeed:S.rotateSpeed||1,zoomSpeed:S.zoomSpeed||1,translateSpeed:S.translateSpeed||1,flipX:!!S.flipX,flipY:!!S.flipY,modes:o.modes,_ortho:S._ortho||S.projection&&S.projection.type==="orthographic"||!1,tick:function(){var E=t(),b=this.delay,s=E-2*b;o.idle(E-b),o.recalcMatrix(s),o.flush(E-(100+b*2));for(var L=!0,T=o.computedMatrix,k=0;k<16;++k)L=L&&d[k]===T[k],d[k]=T[k];var _=h.clientWidth===A&&h.clientHeight===C;return A=h.clientWidth,C=h.clientHeight,L?!_:(w=Math.exp(o.computedRadius[0]),!0)},lookAt:function(E,b,s){o.lookAt(o.lastT(),E,b,s)},rotate:function(E,b,s){o.rotate(o.lastT(),E,b,s)},pan:function(E,b,s){o.pan(o.lastT(),E,b,s)},translate:function(E,b,s){o.translate(o.lastT(),E,b,s)}};return Object.defineProperties(m,{matrix:{get:function(){return o.computedMatrix},set:function(E){return o.setMatrix(o.lastT(),E),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(E){var b=o.computedUp.slice(),s=o.computedEye.slice(),L=o.computedCenter.slice();if(o.setMode(E),E==="turntable"){var T=t();o._active.lookAt(T,s,L,b),o._active.lookAt(T+500,s,L,[0,0,1]),o._active.flush(T)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(E){return o.lookAt(o.lastT(),null,E),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(E){return o.lookAt(o.lastT(),E),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(E){return o.lookAt(o.lastT(),null,null,E),o.computedUp},enumerable:!0},distance:{get:function(){return w},set:function(E){return o.setDistance(o.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(c)},set:function(E){return o.setDistanceLimits(E),E},enumerable:!0}}),h.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=n(h,E),h.addEventListener("touchstart",function(b){var s=f(b.changedTouches[0],h);E(0,s[0],s[1],m._lastMods),E(1,s[0],s[1],m._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(b){var s=f(b.changedTouches[0],h);E(1,s[0],s[1],m._lastMods),b.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(b){E(0,m._lastX,m._lastY,m._lastMods)},l?{passive:!0}:!1);function E(b,s,L,T){var k=m.keyBindingMode;if(k!==!1){var _=k==="rotate",B=k==="pan",F=k==="zoom",O=!!T.control,N=!!T.alt,z=!!T.shift,V=!!(b&1),W=!!(b&2),$=!!(b&4),re=1/h.clientHeight,ne=re*(s-m._lastX),ue=re*(L-m._lastY),J=m.flipX?1:-1,X=m.flipY?1:-1,oe=Math.PI*m.rotateSpeed,Y=t();if(m._lastX!==-1&&m._lastY!==-1&&((_&&V&&!O&&!N&&!z||V&&!O&&!N&&z)&&o.rotate(Y,J*oe*ne,-X*oe*ue,0),(B&&V&&!O&&!N&&!z||W||V&&O&&!N&&!z)&&o.pan(Y,-m.translateSpeed*ne*w,m.translateSpeed*ue*w,0),F&&V&&!O&&!N&&!z||$||V&&!O&&N&&!z)){var q=-m.zoomSpeed*ue/window.innerHeight*(Y-o.lastT())*100;o.pan(Y,0,0,w*(Math.exp(q)-1))}return m._lastX=s,m._lastY=L,m._lastMods=T,!0}}m.wheelListener=u(h,function(b,s){if(m.keyBindingMode!==!1&&m.enableWheel){var L=m.flipX?1:-1,T=m.flipY?1:-1,k=t();if(Math.abs(b)>Math.abs(s))o.rotate(k,0,0,-b*L*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var _=-m.zoomSpeed*T*s/window.innerHeight*(k-o.lastT())/20;o.pan(k,0,0,w*(Math.exp(_)-1))}}},!0)},m.enableMouseListeners(),m}},8245:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(f){return i(f,n,u,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,r){var t=r(4296),i=r(7453),n=r(2771),u=r(6496),f=r(2611),l=r(4234),y=r(8126),h=r(6145),S=r(1120),c=r(5268),o=r(8245),d=r(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:E,createCamera:t};function w(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(s,L){var T=null;try{T=s.getContext("webgl",L),T||(T=s.getContext("experimental-webgl",L))}catch{return null}return T}function C(s){var L=Math.round(Math.log(Math.abs(s))/Math.log(10));if(L<0){var T=Math.round(Math.pow(10,-L));return Math.ceil(s*T)/T}else if(L>0){var T=Math.round(Math.pow(10,L));return Math.ceil(s/T)*T}return Math.ceil(s)}function m(s){return typeof s=="boolean"?s:!0}function E(s){s=s||{},s.camera=s.camera||{};var L=s.canvas;if(!L)if(L=document.createElement("canvas"),s.container){var T=s.container;T.appendChild(L)}else document.body.appendChild(L);var k=s.gl;if(k||(s.glOptions&&(d=!!s.glOptions.preserveDrawingBuffer),k=A(L,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!k)throw new Error("webgl not supported");var _=s.bounds||[[-10,-10,-10],[10,10,10]],B=new w,F=l(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!d}),O=o(k),N=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,z={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:N},V=s.axes||{},W=i(k,V);W.enable=!V.disable;var $=s.spikes||{},re=u(k,$),ne=[],ue=[],J=[],X=[],oe=!0,Q=!0,Y=new Array(16),q=new Array(16),se={view:null,projection:Y,model:q,_ortho:!1},Q=!0,K=[k.drawingBufferWidth,k.drawingBufferHeight],le=s.cameraObject||t(L,z),ie={gl:k,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:L,selection:B,camera:le,axes:W,axesPixels:null,spikes:re,bounds:_,objects:ne,shape:K,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:m(s.autoResize),autoBounds:m(s.autoBounds),autoScale:!!s.autoScale,autoCenter:m(s.autoCenter),clipToBounds:m(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ue){this.aspect[0]=Ue.x,this.aspect[1]=Ue.y,this.aspect[2]=Ue.z,Q=!0},setBounds:function(Ue,Be){this.bounds[0][Ue]=Be.min,this.bounds[1][Ue]=Be.max},setClearColor:function(Ue){this.clearColor=Ue},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ce=[k.drawingBufferWidth/ie.pixelRatio|0,k.drawingBufferHeight/ie.pixelRatio|0];function ye(){if(!ie._stopped&&ie.autoResize){var Ue=L.parentNode,Be=1,Ne=1;Ue&&Ue!==document.body?(Be=Ue.clientWidth,Ne=Ue.clientHeight):(Be=window.innerWidth,Ne=window.innerHeight);var Xe=Math.ceil(Be*ie.pixelRatio)|0,ut=Math.ceil(Ne*ie.pixelRatio)|0;if(Xe!==L.width||ut!==L.height){L.width=Xe,L.height=ut;var dt=L.style;dt.position=dt.position||"absolute",dt.left="0px",dt.top="0px",dt.width=Be+"px",dt.height=Ne+"px",oe=!0}}}ie.autoResize&&ye(),window.addEventListener("resize",ye);function Ce(){for(var Ue=ne.length,Be=X.length,Ne=0;Ne<Be;++Ne)J[Ne]=0;e:for(var Ne=0;Ne<Ue;++Ne){var Xe=ne[Ne],ut=Xe.pickSlots;if(!ut){ue[Ne]=-1;continue}for(var dt=0;dt<Be;++dt)if(J[dt]+ut<255){ue[Ne]=dt,Xe.setPickBase(J[dt]+1),J[dt]+=ut;continue e}var at=f(k,K);ue[Ne]=Be,X.push(at),J.push(ut),Xe.setPickBase(1),Be+=1}for(;Be>0&&J[Be-1]===0;)J.pop(),X.pop().dispose()}ie.update=function(Ue){ie._stopped||(oe=!0,Q=!0)},ie.add=function(Ue){ie._stopped||(Ue.axes=W,ne.push(Ue),ue.push(-1),oe=!0,Q=!0,Ce())},ie.remove=function(Ue){if(!ie._stopped){var Be=ne.indexOf(Ue);Be<0||(ne.splice(Be,1),ue.pop(),oe=!0,Q=!0,Ce())}},ie.dispose=function(){if(!ie._stopped&&(ie._stopped=!0,window.removeEventListener("resize",ye),L.removeEventListener("webglcontextlost",Ae),ie.mouseListener.enabled=!1,!ie.contextLost)){W.dispose(),re.dispose();for(var Ue=0;Ue<ne.length;++Ue)ne[Ue].dispose();F.dispose();for(var Ue=0;Ue<X.length;++Ue)X[Ue].dispose();O.dispose(),k=null,W=null,re=null,ne=[]}},ie._mouseRotating=!1,ie._prevButtons=0,ie.enableMouseListeners=function(){ie.mouseListener=h(L,function(Ue,Be,Ne){if(!ie._stopped){var Xe=X.length,ut=ne.length,dt=B.object;B.distance=1/0,B.mouse[0]=Be,B.mouse[1]=Ne,B.object=null,B.screen=null,B.dataCoordinate=B.dataPosition=null;var at=!1;if(Ue&&ie._prevButtons)ie._mouseRotating=!0;else{ie._mouseRotating&&(Q=!0),ie._mouseRotating=!1;for(var We=0;We<Xe;++We){var rt=X[We].query(Be,ce[1]-Ne-1,ie.pickRadius);if(rt){if(rt.distance>B.distance)continue;for(var st=0;st<ut;++st){var ht=ne[st];if(ue[st]===We){var vt=ht.pick(rt);vt&&(B.buttons=Ue,B.screen=rt.coord,B.distance=rt.distance,B.object=ht,B.index=vt.distance,B.dataPosition=vt.position,B.dataCoordinate=vt.dataCoordinate,B.data=vt,at=!0)}}}}}dt&&dt!==B.object&&(dt.highlight&&dt.highlight(null),oe=!0),B.object&&(B.object.highlight&&B.object.highlight(B.data),oe=!0),at=at||B.object!==dt,at&&ie.onselect&&ie.onselect(B),Ue&1&&!(ie._prevButtons&1)&&ie.onclick&&ie.onclick(B),ie._prevButtons=Ue}})};function Ae(){if(ie.contextLost)return!0;k.isContextLost()&&(ie.contextLost=!0,ie.mouseListener.enabled=!1,ie.selection.object=null,ie.oncontextloss&&ie.oncontextloss())}L.addEventListener("webglcontextlost",Ae);function ke(){if(!Ae()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Ue=ne.length,Be=X.length,Ne=0;Ne<Be;++Ne){var Xe=X[Ne];Xe.shape=ce,Xe.begin();for(var ut=0;ut<Ue;++ut)if(ue[ut]===Ne){var dt=ne[ut];dt.drawPick&&(dt.pixelRatio=1,dt.drawPick(se))}Xe.end()}}}var we=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=[we[0].slice(),we[1].slice()];function xe(){if(!Ae()){ye();var Ue=ie.camera.tick();se.view=ie.camera.matrix,oe=oe||Ue,Q=Q||Ue,W.pixelRatio=ie.pixelRatio,re.pixelRatio=ie.pixelRatio;var Be=ne.length,Ne=we[0],Xe=we[1];Ne[0]=Ne[1]=Ne[2]=1/0,Xe[0]=Xe[1]=Xe[2]=-1/0;for(var ut=0;ut<Be;++ut){var dt=ne[ut];dt.pixelRatio=ie.pixelRatio,dt.axes=ie.axes,oe=oe||!!dt.dirty,Q=Q||!!dt.dirty;var at=dt.bounds;if(at)for(var We=at[0],rt=at[1],st=0;st<3;++st)Ne[st]=Math.min(Ne[st],We[st]),Xe[st]=Math.max(Xe[st],rt[st])}var ht=ie.bounds;if(ie.autoBounds)for(var st=0;st<3;++st){if(Xe[st]<Ne[st])Ne[st]=-1,Xe[st]=1;else{Ne[st]===Xe[st]&&(Ne[st]-=1,Xe[st]+=1);var vt=.05*(Xe[st]-Ne[st]);Ne[st]=Ne[st]-vt,Xe[st]=Xe[st]+vt}ht[0][st]=Ne[st],ht[1][st]=Xe[st]}for(var At=!1,st=0;st<3;++st)At=At||Ee[0][st]!==ht[0][st]||Ee[1][st]!==ht[1][st],Ee[0][st]=ht[0][st],Ee[1][st]=ht[1][st];if(Q=Q||At,oe=oe||At,!!oe){if(At){for(var et=[0,0,0],ut=0;ut<3;++ut)et[ut]=C((ht[1][ut]-ht[0][ut])/10);W.autoTicks?W.update({bounds:ht,tickSpacing:et}):W.update({bounds:ht})}var _e=k.drawingBufferWidth,Ve=k.drawingBufferHeight;K[0]=_e,K[1]=Ve,ce[0]=Math.max(_e/ie.pixelRatio,1)|0,ce[1]=Math.max(Ve/ie.pixelRatio,1)|0,b(ie,N);for(var ut=0;ut<Be;++ut){var dt=ne[ut];dt.axesBounds=ht,ie.clipToBounds&&(dt.clipBounds=ht)}B.object&&(ie.snapToData?re.position=B.dataCoordinate:re.position=B.dataPosition,re.bounds=ht),Q&&(Q=!1,ke()),ie.axesPixels=n(ie.axes,se,_e,Ve),ie.onrender&&ie.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,_e,Ve),ie.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Ze=!1;W.enable&&(Ze=Ze||W.isTransparent(),W.draw(se)),re.axes=W,B.object&&re.draw(se),k.disable(k.CULL_FACE);for(var ut=0;ut<Be;++ut){var dt=ne[ut];dt.axes=W,dt.pixelRatio=ie.pixelRatio,dt.isOpaque&&dt.isOpaque()&&dt.draw(se),dt.isTransparent&&dt.isTransparent()&&(Ze=!0)}if(Ze){F.shape=K,F.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(se);for(var ut=0;ut<Be;++ut){var dt=ne[ut];dt.isOpaque&&dt.isOpaque()&&dt.draw(se)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(se);for(var ut=0;ut<Be;++ut){var dt=ne[ut];dt.isTransparent&&dt.isTransparent()&&dt.drawTransparent(se)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),O.bind(),F.color[0].bind(0),O.uniforms.accumBuffer=0,y(k),k.disable(k.BLEND)}oe=!1;for(var ut=0;ut<Be;++ut)ne[ut].dirty=!1}}}function Pe(){ie._stopped||ie.contextLost||(xe(),requestAnimationFrame(Pe))}return ie.enableMouseListeners(),Pe(),ie.redraw=function(){ie._stopped||(oe=!0,xe())},ie}function b(s,L){var T=s.bounds,k=s.cameraParams,_=k.projection,B=k.model,F=s.gl.drawingBufferWidth,O=s.gl.drawingBufferHeight,N=s.zNear,z=s.zFar,V=s.fovy,W=F/O;L?(c(_,-W,W,-1,1,N,z),k._ortho=!0):(S(_,V,W,N,z),k._ortho=!1);for(var $=0;$<16;++$)B[$]=0;B[15]=1;for(var re=0,$=0;$<3;++$)re=Math.max(re,T[1][$]-T[0][$]);for(var $=0;$<3;++$)s.autoScale?B[5*$]=s.aspect[$]/(T[1][$]-T[0][$]):B[5*$]=1/re,s.autoCenter&&(B[12+$]=-B[5*$]*.5*(T[0][$]+T[1][$]))}},8023:function(v,p,r){var t=r(6832);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,r){var t=r(5158),i=r(5827),n=r(5306),u=r(8023);v.exports=h;function f(S,c,o,d,w){this.plot=S,this.offsetBuffer=c,this.pickBuffer=o,this.shader=d,this.pickShader=w,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=f.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(S){var c;S=S||{};function o(b,s){return b in S?S[b]:s}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var d=S.positions.length>>>1,w=S.positions instanceof Float32Array,A=S.idToIndex instanceof Int32Array&&S.idToIndex.length>=d,C=S.positions,m=w?C:n.mallocFloat32(C.length),E=A?S.idToIndex:n.mallocInt32(d);if(w||m.set(C),!A)for(m.set(C),c=0;c<d;c++)E[c]=c;this.points=C,this.offsetBuffer.update(m),this.pickBuffer.update(E),w||n.free(m),A||n.free(E),this.pointCount=d,this.pickOffset=0};function y(S,c){var o=0,d=S.length>>>1,w;for(w=0;w<d;w++){var A=S[w*2],C=S[w*2+1];A>=c[0]&&A<=c[2]&&C>=c[1]&&C<=c[3]&&o++}return o}l.unifiedDraw=function(){var S=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(o){var d=o!==void 0,w=d?this.pickShader:this.shader,A=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return o;var m=C[2]-C[0],E=C[3]-C[1],b=y(this.points,C),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(b,.33333)));S[0]=2/m,S[4]=2/E,S[6]=-2*C[0]/m-1,S[7]=-2*C[1]/E-1,this.offsetBuffer.bind(),w.bind(),w.attributes.position.pointer(),w.uniforms.matrix=S,w.uniforms.color=this.color,w.uniforms.borderColor=this.borderColor,w.uniforms.pointCloud=s<5,w.uniforms.pointSize=s,w.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=o&255,c[1]=o>>8&255,c[2]=o>>16&255,c[3]=o>>24&255,this.pickBuffer.bind(),w.attributes.pickId.pointer(A.UNSIGNED_BYTE),w.uniforms.pickOffset=c,this.pickOffset=o);var L=A.getParameter(A.BLEND),T=A.getParameter(A.DITHER);return L&&!this.blend&&A.disable(A.BLEND),T&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),L&&!this.blend&&A.enable(A.BLEND),T&&A.enable(A.DITHER),o+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(S,c,o){var d=this.pickOffset,w=this.pointCount;if(o<d||o>=d+w)return null;var A=o-d,C=this.points;return{object:this,pointId:A,dataCoord:[C[2*A],C[2*A+1]]}};function h(S,c){var o=S.gl,d=i(o),w=i(o),A=t(o,u.pointVertex,u.pointFragment),C=t(o,u.pickVertex,u.pickFragment),m=new f(S,d,w,A,C);return m.update(c),S.addObject(m),m}},6093:function(v){v.exports=p;function p(r,t,i,n){var u=t[0],f=t[1],l=t[2],y=t[3],h=i[0],S=i[1],c=i[2],o=i[3],d,w,A,C,m;return w=u*h+f*S+l*c+y*o,w<0&&(w=-w,h=-h,S=-S,c=-c,o=-o),1-w>1e-6?(d=Math.acos(w),A=Math.sin(d),C=Math.sin((1-n)*d)/A,m=Math.sin(n*d)/A):(C=1-n,m=n),r[0]=C*u+m*h,r[1]=C*f+m*S,r[2]=C*l+m*c,r[3]=C*y+m*o,r}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,r){var t=r(875);v.exports=n;var i={};function n(u,f,l){var y=i[f];if(y||(y=i[f]={}),u in y)return y[u];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var S=t(u,h);h.triangles=!1;var c=t(u,h),o,d;if(l&&l!==1){for(o=0;o<S.positions.length;++o)for(d=0;d<S.positions[o].length;++d)S.positions[o][d]/=l;for(o=0;o<c.positions.length;++o)for(d=0;d<c.positions[o].length;++d)c.positions[o][d]/=l}var w=[[1/0,1/0],[-1/0,-1/0]],A=c.positions.length;for(o=0;o<A;++o){var C=c.positions[o];for(d=0;d<2;++d)w[0][d]=Math.min(w[0][d],C[d]),w[1][d]=Math.max(w[1][d],C[d])}return y[u]=[S,c,w]}},9282:function(v,p,r){var t=r(5158),i=r(6832),n=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),y=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],S={vertex:n,fragment:l,attributes:h},c={vertex:u,fragment:l,attributes:h},o={vertex:f,fragment:l,attributes:h},d={vertex:n,fragment:y,attributes:h},w={vertex:u,fragment:y,attributes:h},A={vertex:f,fragment:y,attributes:h};function C(m,E){var b=t(m,E),s=b.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,b}p.createPerspective=function(m){return C(m,S)},p.createOrtho=function(m){return C(m,c)},p.createProject=function(m){return C(m,o)},p.createPickPerspective=function(m){return C(m,d)},p.createPickOrtho=function(m){return C(m,w)},p.createPickProject=function(m){return C(m,A)}},2182:function(v,p,r){var t=r(3596),i=r(5827),n=r(2944),u=r(5306),f=r(104),l=r(9282),y=r(4123),h=r(8240),S=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ue;function c(J,X){var oe=J[0],Y=J[1],q=J[2],se=J[3];return J[0]=X[0]*oe+X[4]*Y+X[8]*q+X[12]*se,J[1]=X[1]*oe+X[5]*Y+X[9]*q+X[13]*se,J[2]=X[2]*oe+X[6]*Y+X[10]*q+X[14]*se,J[3]=X[3]*oe+X[7]*Y+X[11]*q+X[15]*se,J}function o(J,X,oe,Y){return c(Y,Y),c(Y,Y),c(Y,Y)}function d(J,X){this.index=J,this.dataCoordinate=this.position=X}function w(J){return J===!0||J>1?1:J}function A(J,X,oe,Y,q,se,Q,K,le,ie,ce,ye){this.gl=J,this.pixelRatio=1,this.shader=X,this.orthoShader=oe,this.projectShader=Y,this.pointBuffer=q,this.colorBuffer=se,this.glyphBuffer=Q,this.idBuffer=K,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ie,this.pickOrthoShader=ce,this.pickProjectShader=ye,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var C=A.prototype;C.pickSlots=1,C.setPickBase=function(J){this.pickId=J},C.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},C.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var m=[0,0],E=[0,0,0],b=[0,0,0],s=[0,0,0,1],L=[0,0,0,1],T=S.slice(),k=[0,0,0],_=[[0,0,0],[0,0,0]];function B(J){return J[0]=J[1]=J[2]=0,J}function F(J,X){return J[0]=X[0],J[1]=X[1],J[2]=X[2],J[3]=1,J}function O(J,X,oe,Y){return J[0]=X[0],J[1]=X[1],J[2]=X[2],J[oe]=Y,J}function N(J){for(var X=_,oe=0;oe<2;++oe)for(var Y=0;Y<3;++Y)X[oe][Y]=Math.max(Math.min(J[oe][Y],1e8),-1e8);return X}function z(J,X,oe,Y){var q=X.axesProject,se=X.gl,Q=J.uniforms,K=oe.model||S,le=oe.view||S,ie=oe.projection||S,ce=X.axesBounds,ye=N(X.clipBounds),Ce;X.axes&&X.axes.lastCubeProps?Ce=X.axes.lastCubeProps.axis:Ce=[1,1,1],m[0]=2/se.drawingBufferWidth,m[1]=2/se.drawingBufferHeight,J.bind(),Q.view=le,Q.projection=ie,Q.screenSize=m,Q.highlightId=X.highlightId,Q.highlightScale=X.highlightScale,Q.clipBounds=ye,Q.pickGroup=X.pickId/255,Q.pixelRatio=Y;for(var Ae=0;Ae<3;++Ae)if(q[Ae]){Q.scale=X.projectScale[Ae],Q.opacity=X.projectOpacity[Ae];for(var ke=T,we=0;we<16;++we)ke[we]=0;for(var we=0;we<4;++we)ke[5*we]=1;ke[5*Ae]=0,Ce[Ae]<0?ke[12+Ae]=ce[0][Ae]:ke[12+Ae]=ce[1][Ae],f(ke,K,ke),Q.model=ke;var Ee=(Ae+1)%3,xe=(Ae+2)%3,Pe=B(E),Ue=B(b);Pe[Ee]=1,Ue[xe]=1;var Be=o(ie,le,K,F(s,Pe)),Ne=o(ie,le,K,F(L,Ue));if(Math.abs(Be[1])>Math.abs(Ne[1])){var Xe=Be;Be=Ne,Ne=Xe,Xe=Pe,Pe=Ue,Ue=Xe;var ut=Ee;Ee=xe,xe=ut}Be[0]<0&&(Pe[Ee]=-1),Ne[1]>0&&(Ue[xe]=-1);for(var dt=0,at=0,we=0;we<4;++we)dt+=Math.pow(K[4*Ee+we],2),at+=Math.pow(K[4*xe+we],2);Pe[Ee]/=Math.sqrt(dt),Ue[xe]/=Math.sqrt(at),Q.axes[0]=Pe,Q.axes[1]=Ue,Q.fragClipBounds[0]=O(k,ye[0],Ae,-1e8),Q.fragClipBounds[1]=O(k,ye[1],Ae,1e8),X.vao.bind(),X.vao.draw(se.TRIANGLES,X.vertexCount),X.lineWidth>0&&(se.lineWidth(X.lineWidth*Y),X.vao.draw(se.LINES,X.lineVertexCount,X.vertexCount)),X.vao.unbind()}}var V=[-1e8,-1e8,-1e8],W=[1e8,1e8,1e8],$=[V,W];function re(J,X,oe,Y,q,se,Q){var K=oe.gl;if((se===oe.projectHasAlpha||Q)&&z(X,oe,Y,q),se===oe.hasAlpha||Q){J.bind();var le=J.uniforms;le.model=Y.model||S,le.view=Y.view||S,le.projection=Y.projection||S,m[0]=2/K.drawingBufferWidth,m[1]=2/K.drawingBufferHeight,le.screenSize=m,le.highlightId=oe.highlightId,le.highlightScale=oe.highlightScale,le.fragClipBounds=$,le.clipBounds=oe.axes.bounds,le.opacity=oe.opacity,le.pickGroup=oe.pickId/255,le.pixelRatio=q,oe.vao.bind(),oe.vao.draw(K.TRIANGLES,oe.vertexCount),oe.lineWidth>0&&(K.lineWidth(oe.lineWidth*q),oe.vao.draw(K.LINES,oe.lineVertexCount,oe.vertexCount)),oe.vao.unbind()}}C.draw=function(J){var X=this.useOrtho?this.orthoShader:this.shader;re(X,this.projectShader,this,J,this.pixelRatio,!1,!1)},C.drawTransparent=function(J){var X=this.useOrtho?this.orthoShader:this.shader;re(X,this.projectShader,this,J,this.pixelRatio,!0,!1)},C.drawPick=function(J){var X=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;re(X,this.pickProjectShader,this,J,1,!0,!0)},C.pick=function(J){if(!J||J.id!==this.pickId)return null;var X=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(X>=this.pointCount||X<0)return null;var oe=this.points[X],Y=this._selectResult;Y.index=X;for(var q=0;q<3;++q)Y.position[q]=Y.dataCoordinate[q]=oe[q];return Y},C.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var X=J.index,oe=X&255,Y=X>>8&255,q=X>>16&255;this.highlightId=[oe/255,Y/255,q/255,0]}};function ne(J,X,oe,Y){var q;Array.isArray(J)?X<J.length?q=J[X]:q=void 0:q=J,q=h(q);var se=!0;t(q)&&(q="▼",se=!1);var Q=y(q,oe,Y);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:se}}C.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var X=!!J.project;this.axesProject=[X,X,X]}if("projectScale"in J)if(Array.isArray(J.projectScale))this.projectScale=J.projectScale.slice();else{var oe=+J.projectScale;this.projectScale=[oe,oe,oe]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(Array.isArray(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var oe=+J.projectOpacity;this.projectOpacity=[oe,oe,oe]}for(var Y=0;Y<3;++Y)this.projectOpacity[Y]=w(this.projectOpacity[Y]),this.projectOpacity[Y]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=w(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var q=J.position,se=J.font||"normal",Q=J.alignment||[0,0],K,le;if(Q.length===2)K=Q[0],le=Q[1];else{K=[],le=[];for(var Y=0;Y<Q.length;++Y)K[Y]=Q[Y][0],le[Y]=Q[Y][1]}var ie=[1/0,1/0,1/0],ce=[-1/0,-1/0,-1/0],ye=J.glyph,Ce=J.color,Ae=J.size,ke=J.angle,we=J.lineColor,Ee=-1,xe=0,Pe=0,Ue=0;if(q.length){Ue=q.length;e:for(var Y=0;Y<Ue;++Y){for(var Be=q[Y],Ne=0;Ne<3;++Ne)if(isNaN(Be[Ne])||!isFinite(Be[Ne]))continue e;var Xe=ne(ye,Y,se,this.pixelRatio),ut=Xe.mesh,dt=Xe.lines,at=Xe.bounds;xe+=ut.cells.length*3,Pe+=dt.edges.length*2}}var We=xe+Pe,rt=u.mallocFloat(3*We),st=u.mallocFloat(4*We),ht=u.mallocFloat(2*We),vt=u.mallocUint32(We);if(We>0){var At=0,et=xe,_e=[0,0,0,1],Ve=[0,0,0,1],Ze=Array.isArray(Ce)&&Array.isArray(Ce[0]),He=Array.isArray(we)&&Array.isArray(we[0]);e:for(var Y=0;Y<Ue;++Y){Ee+=1;for(var Be=q[Y],Ne=0;Ne<3;++Ne){if(isNaN(Be[Ne])||!isFinite(Be[Ne]))continue e;ce[Ne]=Math.max(ce[Ne],Be[Ne]),ie[Ne]=Math.min(ie[Ne],Be[Ne])}var Xe=ne(ye,Y,se,this.pixelRatio),ut=Xe.mesh,dt=Xe.lines,at=Xe.bounds,Ie=Xe.visible;if(!Ie)_e=[1,1,1,0];else if(Array.isArray(Ce)){var be;if(Ze?Y<Ce.length?be=Ce[Y]:be=[0,0,0,0]:be=Ce,be.length===3){for(var Ne=0;Ne<3;++Ne)_e[Ne]=be[Ne];_e[3]=1}else if(be.length===4){for(var Ne=0;Ne<4;++Ne)_e[Ne]=be[Ne];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else _e[0]=_e[1]=_e[2]=0,_e[3]=1;if(!Ie)Ve=[1,1,1,0];else if(Array.isArray(we)){var be;if(He?Y<we.length?be=we[Y]:be=[0,0,0,0]:be=we,be.length===3){for(var Ne=0;Ne<3;++Ne)Ve[Ne]=be[Ne];Ve[Ne]=1}else if(be.length===4){for(var Ne=0;Ne<4;++Ne)Ve[Ne]=be[Ne];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else Ve[0]=Ve[1]=Ve[2]=0,Ve[3]=1;var me=.5;Ie?Array.isArray(Ae)?Y<Ae.length?me=+Ae[Y]:me=12:Ae?me=+Ae:this.useOrtho&&(me=12):me=0;var Me=0;Array.isArray(ke)?Y<ke.length?Me=+ke[Y]:Me=0:ke&&(Me=+ke);for(var Te=Math.cos(Me),Oe=Math.sin(Me),Be=q[Y],Ne=0;Ne<3;++Ne)ce[Ne]=Math.max(ce[Ne],Be[Ne]),ie[Ne]=Math.min(ie[Ne],Be[Ne]);var Ke=K,nt=le,Ke=0;Array.isArray(K)?Y<K.length?Ke=K[Y]:Ke=0:K&&(Ke=K);var nt=0;Array.isArray(le)?Y<le.length?nt=le[Y]:nt=0:le&&(nt=le),Ke*=Ke>0?1-at[0][0]:Ke<0?1+at[1][0]:1,nt*=nt>0?1-at[0][1]:nt<0?1+at[1][1]:1;for(var pt=[Ke,nt],kt=ut.cells||[],Kt=ut.positions||[],Ne=0;Ne<kt.length;++Ne)for(var yt=kt[Ne],Yt=0;Yt<3;++Yt){for(var Xt=0;Xt<3;++Xt)rt[3*At+Xt]=Be[Xt];for(var Xt=0;Xt<4;++Xt)st[4*At+Xt]=_e[Xt];vt[At]=Ee;var St=Kt[yt[Yt]];ht[2*At]=me*(Te*St[0]-Oe*St[1]+pt[0]),ht[2*At+1]=me*(Oe*St[0]+Te*St[1]+pt[1]),At+=1}for(var kt=dt.edges,Kt=dt.positions,Ne=0;Ne<kt.length;++Ne)for(var yt=kt[Ne],Yt=0;Yt<2;++Yt){for(var Xt=0;Xt<3;++Xt)rt[3*et+Xt]=Be[Xt];for(var Xt=0;Xt<4;++Xt)st[4*et+Xt]=Ve[Xt];vt[et]=Ee;var St=Kt[yt[Yt]];ht[2*et]=me*(Te*St[0]-Oe*St[1]+pt[0]),ht[2*et+1]=me*(Oe*St[0]+Te*St[1]+pt[1]),et+=1}}}this.bounds=[ie,ce],this.points=q,this.pointCount=q.length,this.vertexCount=xe,this.lineVertexCount=Pe,this.pointBuffer.update(rt),this.colorBuffer.update(st),this.glyphBuffer.update(ht),this.idBuffer.update(vt),u.free(rt),u.free(st),u.free(ht),u.free(vt)},C.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ue(J){var X=J.gl,oe=l.createPerspective(X),Y=l.createOrtho(X),q=l.createProject(X),se=l.createPickPerspective(X),Q=l.createPickOrtho(X),K=l.createPickProject(X),le=i(X),ie=i(X),ce=i(X),ye=i(X),Ce=n(X,[{buffer:le,size:3,type:X.FLOAT},{buffer:ie,size:4,type:X.FLOAT},{buffer:ce,size:2,type:X.FLOAT},{buffer:ye,size:4,type:X.UNSIGNED_BYTE,normalized:!0}]),Ae=new A(X,oe,Y,q,le,ie,ce,ye,Ce,se,Q,K);return Ae.update(J),Ae}},1884:function(v,p,r){var t=r(6832);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,r){var t=r(5158),i=r(5827),n=r(1884);v.exports=l;function u(y,h,S){this.plot=y,this.boxBuffer=h,this.boxShader=S,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=u.prototype;f.draw=function(){if(this.enabled){var y=this.plot,h=this.selectBox,S=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var o=this.outerColor,d=this.borderColor,w=y.box,A=y.screenBox,C=y.dataBox,m=y.viewBox,E=y.pixelRatio,b=(h[0]-C[0])*(m[2]-m[0])/(C[2]-C[0])+m[0],s=(h[1]-C[1])*(m[3]-m[1])/(C[3]-C[1])+m[1],L=(h[2]-C[0])*(m[2]-m[0])/(C[2]-C[0])+m[0],T=(h[3]-C[1])*(m[3]-m[1])/(C[3]-C[1])+m[1];if(b=Math.max(b,m[0]),s=Math.max(s,m[1]),L=Math.min(L,m[2]),T=Math.min(T,m[3]),!(L<b||T<s)){w.bind();var k=A[2]-A[0],_=A[3]-A[1];if(this.outerFill&&(w.drawBox(0,0,k,s,o),w.drawBox(0,s,b,T,o),w.drawBox(0,T,k,_,o),w.drawBox(L,s,k,T,o)),this.innerFill&&w.drawBox(b,s,L,T,c),S>0){var B=S*E;w.drawBox(b-B,s-B,L+B,s+B,d),w.drawBox(b-B,T-B,L+B,T+B,d),w.drawBox(b-B,s-B,b+B,T+B,d),w.drawBox(L-B,s-B,L+B,T+B,d)}}}},f.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(y,h){var S=y.gl,c=i(S,[0,0,0,1,1,0,1,1]),o=t(S,n.boxVertex,n.boxFragment),d=new u(y,c,o);return d.update(h),y.addOverlay(d),d}},2611:function(v,p,r){v.exports=S;var t=r(4234),i=r(5306),n=r(5050),u=r(2288).nextPow2,f=function(c,o,d){for(var w=1e8,A=-1,C=-1,m=c.shape[0],E=c.shape[1],b=0;b<m;b++)for(var s=0;s<E;s++){var L=c.get(b,s,0),T=c.get(b,s,1),k=c.get(b,s,2),_=c.get(b,s,3);if(L<255||T<255||k<255||_<255){var B=o-b,F=d-s,O=B*B+F*F;O<w&&(w=O,A=b,C=s)}}return[A,C,w]};function l(c,o,d,w,A){this.coord=[c,o],this.id=d,this.value=w,this.distance=A}function y(c,o,d){this.gl=c,this.fbo=o,this.buffer=d,this._readTimeout=null;var w=this;this._readCallback=function(){w.gl&&(o.bind(),c.readPixels(0,0,o.shape[0],o.shape[1],c.RGBA,c.UNSIGNED_BYTE,w.buffer),w._readTimeout=null)}}var h=y.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var o=this.fbo.shape[0],d=this.fbo.shape[1];if(d*o*4>this.buffer.length){i.free(this.buffer);for(var w=this.buffer=i.mallocUint8(u(d*o*4)),A=0;A<d*o*4;++A)w[A]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,o,d){if(!this.gl)return null;var w=this.fbo.shape.slice();c=c|0,o=o|0,typeof d!="number"&&(d=1);var A=Math.min(Math.max(c-d,0),w[0])|0,C=Math.min(Math.max(c+d,0),w[0])|0,m=Math.min(Math.max(o-d,0),w[1])|0,E=Math.min(Math.max(o+d,0),w[1])|0;if(C<=A||E<=m)return null;var b=[C-A,E-m],s=n(this.buffer,[b[0],b[1],4],[4,w[0]*4,1],4*(A+w[0]*m)),L=f(s.hi(b[0],b[1],1),d,d),T=L[0],k=L[1];if(T<0||Math.pow(this.radius,2)<L[2])return null;var _=s.get(T,k,0),B=s.get(T,k,1),F=s.get(T,k,2),O=s.get(T,k,3);return new l(T+A|0,k+m|0,_,[B,F,O],Math.sqrt(L[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function S(c,o){var d=o[0],w=o[1],A={},C=t(c,d,w,A),m=i.mallocUint8(d*w*4);return new y(c,C,m)}},5158:function(v,p,r){var t=r(9016),i=r(4280),n=r(3984),u=r(1628),f=r(2631),l=r(9068);function y(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=y.prototype;h.bind=function(){this.program||this._relink();var o,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),w=this.gl.lastAttribCount;if(d>w)for(o=w;o<d;o++)this.gl.enableVertexAttribArray(o);else if(w>d)for(o=d;o<w;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,d=0;d<o;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function S(o,d){return o.name<d.name?-1:1}h.update=function(o,d,w,A){if(!d||arguments.length===1){var C=o;o=C.vertex,d=C.fragment,w=C.uniforms,A=C.attributes}var m=this,E=m.gl,b=m._vref;m._vref=u.shader(E,E.VERTEX_SHADER,o),b&&b.dispose(),m.vertShader=m._vref.shader;var s=this._fref;if(m._fref=u.shader(E,E.FRAGMENT_SHADER,d),s&&s.dispose(),m.fragShader=m._fref.shader,!w||!A){var L=E.createProgram();if(E.attachShader(L,m.fragShader),E.attachShader(L,m.vertShader),E.linkProgram(L),!E.getProgramParameter(L,E.LINK_STATUS)){var T=E.getProgramInfoLog(L);throw new l(T,"Error linking program:"+T)}w=w||f.uniforms(E,L),A=A||f.attributes(E,L),E.deleteProgram(L)}A=A.slice(),A.sort(S);var k=[],_=[],B=[],F;for(F=0;F<A.length;++F){var O=A[F];if(O.type.indexOf("mat")>=0){for(var N=O.type.charAt(O.type.length-1)|0,z=new Array(N),V=0;V<N;++V)z[V]=B.length,_.push(O.name+"["+V+"]"),typeof O.location=="number"?B.push(O.location+V):Array.isArray(O.location)&&O.location.length===N&&typeof O.location[V]=="number"?B.push(O.location[V]|0):B.push(-1);k.push({name:O.name,type:O.type,locations:z})}else k.push({name:O.name,type:O.type,locations:[B.length]}),_.push(O.name),typeof O.location=="number"?B.push(O.location|0):B.push(-1)}var W=0;for(F=0;F<B.length;++F)if(B[F]<0){for(;B.indexOf(W)>=0;)W+=1;B[F]=W}var $=new Array(w.length);function re(){m.program=u.program(E,m._vref,m._fref,_,B);for(var ne=0;ne<w.length;++ne)$[ne]=E.getUniformLocation(m.program,w[ne].name)}re(),m._relink=re,m.types={uniforms:n(w),attributes:n(A)},m.attributes=i(E,m,k,B),Object.defineProperty(m,"uniforms",t(E,m,w,$))};function c(o,d,w,A,C){var m=new y(o);return m.update(d,w,A,C),m}v.exports=c},9068:function(v){function p(r,t,i){this.shortMessage=t||"",this.longMessage=i||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(i?`
`+i:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,r){v.exports=y;var t=r(9068);function i(h,S,c,o,d,w){this._gl=h,this._wrapper=S,this._index=c,this._locations=o,this._dimension=d,this._constFunc=w}var n=i.prototype;n.pointer=function(S,c,o,d){var w=this,A=w._gl,C=w._locations[w._index];A.vertexAttribPointer(C,w._dimension,S||A.FLOAT,!!c,o||0,d||0),A.enableVertexAttribArray(C)},n.set=function(h,S,c,o){return this._constFunc(this._locations[this._index],h,S,c,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var u=[function(h,S,c){return c.length===void 0?h.vertexAttrib1f(S,c):h.vertexAttrib1fv(S,c)},function(h,S,c,o){return c.length===void 0?h.vertexAttrib2f(S,c,o):h.vertexAttrib2fv(S,c)},function(h,S,c,o,d){return c.length===void 0?h.vertexAttrib3f(S,c,o,d):h.vertexAttrib3fv(S,c)},function(h,S,c,o,d,w){return c.length===void 0?h.vertexAttrib4f(S,c,o,d,w):h.vertexAttrib4fv(S,c)}];function f(h,S,c,o,d,w,A){var C=u[d],m=new i(h,S,c,o,d,C);Object.defineProperty(w,A,{set:function(E){return h.disableVertexAttribArray(o[c]),C(h,o[c],E),E},get:function(){return m},enumerable:!0})}function l(h,S,c,o,d,w,A){for(var C=new Array(d),m=new Array(d),E=0;E<d;++E)f(h,S,c[E],o,d,C,E),m[E]=C[E];Object.defineProperty(C,"location",{set:function(L){if(Array.isArray(L))for(var T=0;T<d;++T)m[T].location=L[T];else for(var T=0;T<d;++T)m[T].location=L+T;return L},get:function(){for(var L=new Array(d),T=0;T<d;++T)L[T]=o[c[T]];return L},enumerable:!0}),C.pointer=function(L,T,k,_){L=L||h.FLOAT,T=!!T,k=k||d*d,_=_||0;for(var B=0;B<d;++B){var F=o[c[B]];h.vertexAttribPointer(F,d,L,T,k,_+B*d),h.enableVertexAttribArray(F)}};var b=new Array(d),s=h["vertexAttrib"+d+"fv"];Object.defineProperty(w,A,{set:function(L){for(var T=0;T<d;++T){var k=o[c[T]];if(h.disableVertexAttribArray(k),Array.isArray(L[0]))s.call(h,k,L[T]);else{for(var _=0;_<d;++_)b[_]=L[d*T+_];s.call(h,k,b)}}return L},get:function(){return C},enumerable:!0})}function y(h,S,c,o){for(var d={},w=0,A=c.length;w<A;++w){var C=c[w],m=C.name,E=C.type,b=C.locations;switch(E){case"bool":case"int":case"float":f(h,S,b[0],o,1,d,m);break;default:if(E.indexOf("vec")>=0){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+E);f(h,S,b[0],o,s,d,m)}else if(E.indexOf("mat")>=0){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+E);l(h,S,b,o,s,d,m)}else throw new t("","Unknown data type for attribute "+m+": "+E);break}}return d}},9016:function(v,p,r){var t=r(3984),i=r(9068);v.exports=f;function n(l){return function(){return l}}function u(l,y){for(var h=new Array(l),S=0;S<l;++S)h[S]=y;return h}function f(l,y,h,S){function c(E){return function(b,s,L){return b.getUniform(s.program,L[E])}}function o(E){return function(s){for(var L=d("",E),T=0;T<L.length;++T){var k=L[T],_=k[0],B=k[1];if(S[B]){var F=s;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var O=_;if(_.indexOf(".")===0&&(O=_.slice(1)),O.indexOf("]")===O.length-1){var N=O.indexOf("["),z=O.slice(0,N),V=O.slice(N+1,O.length-1);F=z?s[z][V]:s[V]}else F=s[O]}var W=h[B].type,$;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(S[B],F);break;case"float":l.uniform1f(S[B],F);break;default:var re=W.indexOf("vec");if(0<=re&&re<=1&&W.length===4+re){if($=W.charCodeAt(W.length-1)-48,$<2||$>4)throw new i("","Invalid data type");switch(W.charAt(0)){case"b":case"i":l["uniform"+$+"iv"](S[B],F);break;case"v":l["uniform"+$+"fv"](S[B],F);break;default:throw new i("","Unrecognized data type for vector "+name+": "+W)}}else if(W.indexOf("mat")===0&&W.length===4){if($=W.charCodeAt(W.length-1)-48,$<2||$>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+W);l["uniformMatrix"+$+"fv"](S[B],!1,F);break}else throw new i("","Unknown uniform data type for "+name+": "+W)}}}}}function d(E,b){if(typeof b!="object")return[[E,b]];var s=[];for(var L in b){var T=b[L],k=E;parseInt(L)+""===L?k+="["+L+"]":k+="."+L,typeof T=="object"?s.push.apply(s,d(k,T)):s.push([k,T])}return s}function w(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var b=E.indexOf("vec");if(0<=b&&b<=1&&E.length===4+b){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new i("","Invalid data type");return E.charAt(0)==="b"?u(s,!1):u(s,0)}else if(E.indexOf("mat")===0&&E.length===4){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+E);return u(s*s,0)}else throw new i("","Unknown uniform data type for "+name+": "+E)}}function A(E,b,s){if(typeof s=="object"){var L=C(s);Object.defineProperty(E,b,{get:n(L),set:o(s),enumerable:!0,configurable:!1})}else S[s]?Object.defineProperty(E,b,{get:c(s),set:o(s),enumerable:!0,configurable:!1}):E[b]=w(h[s].type)}function C(E){var b;if(Array.isArray(E)){b=new Array(E.length);for(var s=0;s<E.length;++s)A(b,s,E[s])}else{b={};for(var L in E)A(b,L,E[L])}return b}var m=t(h,!0);return{get:n(C(m)),set:o(m),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(r,t){for(var i={},n=0;n<r.length;++n)for(var u=r[n].name,f=u.split("."),l=i,y=0;y<f.length;++y){var h=f[y].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var S=1;S<h.length;++S){var c=parseInt(h[S]);S<h.length-1||y<f.length-1?(c in l||(S<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=n:l[c]=r[n].type}}else y<f.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=n:l[h[0]]=r[n].type}return i}},2631:function(v,p){p.uniforms=n,p.attributes=u;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function i(f,l){if(!t){var y=Object.keys(r);t={};for(var h=0;h<y.length;++h){var S=y[h];t[f[S]]=r[S]}}return t[l]}function n(f,l){for(var y=f.getProgramParameter(l,f.ACTIVE_UNIFORMS),h=[],S=0;S<y;++S){var c=f.getActiveUniform(l,S);if(c){var o=i(f,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:o});else h.push({name:c.name,type:o})}}return h}function u(f,l){for(var y=f.getProgramParameter(l,f.ACTIVE_ATTRIBUTES),h=[],S=0;S<y;++S){var c=f.getActiveAttrib(l,S);c&&h.push({name:c.name,type:i(f,c.type)})}return h}},1628:function(v,p,r){p.shader=d,p.program=w;var t=r(9068),i=r(3530),n=typeof WeakMap>"u"?r(4037):WeakMap,u=new n,f=0;function l(A,C,m,E,b,s,L){this.id=A,this.src=C,this.type=m,this.shader=E,this.count=s,this.programs=[],this.cache=L}l.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,C=A.gl,m=this.programs,E=0,b=m.length;E<b;++E){var s=A.programs[m[E]];s&&(delete A.programs[E],C.deleteProgram(s))}C.deleteShader(this.shader),delete A.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function y(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var h=y.prototype;function S(A,C,m){var E=A.createShader(C);if(A.shaderSource(E,m),A.compileShader(E),!A.getShaderParameter(E,A.COMPILE_STATUS)){var b=A.getShaderInfoLog(E);try{var s=i(b,m,C)}catch(L){throw console.warn("Failed to format compiler error: "+L),new t(b,`Error compiling shader:
`+b)}throw new t(b,s.short,s.long)}return E}h.getShaderReference=function(A,C){var m=this.gl,E=this.shaders[A===m.FRAGMENT_SHADER|0],b=E[C];if(!b||!m.isShader(b.shader)){var s=S(m,A,C);b=E[C]=new l(f++,C,A,s,[],1,this)}else b.count+=1;return b};function c(A,C,m,E,b){var s=A.createProgram();A.attachShader(s,C),A.attachShader(s,m);for(var L=0;L<E.length;++L)A.bindAttribLocation(s,b[L],E[L]);if(A.linkProgram(s),!A.getProgramParameter(s,A.LINK_STATUS)){var T=A.getProgramInfoLog(s);throw new t(T,"Error linking program: "+T)}return s}h.getProgram=function(A,C,m,E){var b=[A.id,C.id,m.join(":"),E.join(":")].join("@"),s=this.programs[b];return(!s||!this.gl.isProgram(s))&&(this.programs[b]=s=c(this.gl,A.shader,C.shader,m,E),A.programs.push(b),C.programs.push(b)),s};function o(A){var C=u.get(A);return C||(C=new y(A),u.set(A,C)),C}function d(A,C,m){return o(A).getShaderReference(C,m)}function w(A,C,m,E,b){return o(A).getProgram(C,m,E,b)}},3050:function(v){v.exports=t;function p(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var i=this.enable,n=this.width,u=this.color,f=this.center,l=this.plot,y=l.line,h=l.dataBox,S=l.viewBox;if(y.bind(),h[0]<=f[0]&&f[0]<=h[2]&&h[1]<=f[1]&&f[1]<=h[3]){var c=S[0]+(f[0]-h[0])/(h[2]-h[0])*(S[2]-S[0]),o=S[1]+(f[1]-h[1])/(h[3]-h[1])*(S[3]-S[1]);i[0]&&y.drawLine(c,o,S[0],o,n[0],u[0]),i[1]&&y.drawLine(c,o,c,S[1],n[1],u[1]),i[2]&&y.drawLine(c,o,S[2],o,n[2],u[2]),i[3]&&y.drawLine(c,o,c,S[3],n[3],u[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(i,n){var u=new p(i);return u.update(n),i.addOverlay(u),u}},3540:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(f){return i(f,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,r){var t=r(5827),i=r(2944),n=r(3540);v.exports=c;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,d,w,A){this.gl=o,this.buffer=d,this.vao=w,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=f.prototype,y=[0,0,0],h=[0,0,0],S=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(o){},l.draw=function(o){var d=this.gl,w=this.vao,A=this.shader;w.bind(),A.bind();var C=o.model||u,m=o.view||u,E=o.projection||u,b;this.axes&&(b=this.axes.lastCubeProps.axis);for(var s=y,L=h,T=0;T<3;++T)b&&b[T]<0?(s[T]=this.bounds[0][T],L[T]=this.bounds[1][T]):(s[T]=this.bounds[1][T],L[T]=this.bounds[0][T]);S[0]=d.drawingBufferWidth,S[1]=d.drawingBufferHeight,A.uniforms.model=C,A.uniforms.view=m,A.uniforms.projection=E,A.uniforms.coordinates=[this.position,s,L],A.uniforms.colors=this.colors,A.uniforms.screenShape=S;for(var T=0;T<3;++T)A.uniforms.lineWidth=this.lineWidth[T]*this.pixelRatio,this.enabled[T]&&(w.draw(d.TRIANGLES,6,6*T),this.drawSides[T]&&w.draw(d.TRIANGLES,12,18+12*T));w.unbind()},l.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(o,d){var w=[];function A(s,L,T,k,_,B){var F=[s,L,T,0,0,0,1];F[k+3]=1,F[k]=_,w.push.apply(w,F),F[6]=-1,w.push.apply(w,F),F[k]=B,w.push.apply(w,F),w.push.apply(w,F),F[6]=1,w.push.apply(w,F),F[k]=_,w.push.apply(w,F)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var C=t(o,w),m=i(o,[{type:o.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:C,size:1,offset:24,stride:28}]),E=n(o);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var b=new f(o,C,m,E);return b.update(d),b}},9578:function(v,p,r){var t=r(6832),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,r){var t=r(2858),i=r(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(w,A,C,m){for(var E=w.points,b=w.velocities,s=w.divergences,L=[],T=[],k=[],_=[],B=[],F=[],O=0,N=0,z=i.create(),V=i.create(),W=8,$=0;$<E.length;$++){var re=E[$],ne=b[$],ue=s[$];A===0&&(ue=C*.05),N=t.length(ne)/m,z=i.create(),t.copy(z,ne),z[3]=ue;for(var J=0;J<W;J++)B[J]=[re[0],re[1],re[2],J];if(_.length>0)for(var J=0;J<W;J++){var X=(J+1)%W;L.push(_[J],B[J],B[X],B[X],_[X],_[J]),k.push(V,z,z,z,V,V),F.push(O,N,N,N,O,O);var oe=L.length;T.push([oe-6,oe-5,oe-4],[oe-3,oe-2,oe-1])}var Y=_;_=B,B=Y;var q=V;V=z,z=q;var se=O;O=N,N=se}return{positions:L,cells:T,vectors:k,vertexIntensity:F}},f=function(w,A,C,m){for(var E=0,b=0;b<w.length;b++)for(var s=w[b].velocities,L=0;L<s.length;L++)E=Math.max(E,t.length(s[L]));for(var T=w.map(function($){return u($,C,m,E)}),k=[],_=[],B=[],F=[],b=0;b<T.length;b++){var O=T[b],N=k.length;k=k.concat(O.positions),B=B.concat(O.vectors),F=F.concat(O.vertexIntensity);for(var L=0;L<O.cells.length;L++){var z=O.cells[L],V=[];_.push(V);for(var W=0;W<z.length;W++)V.push(z[W]+N)}}return{positions:k,cells:_,vectors:B,vertexIntensity:F,colormap:A}},l=function(w,A){var C=w.length,m;for(m=0;m<C;m++){var E=w[m];if(E===A)return m;if(E>A)return m-1}return m},y=function(w,A,C){return w<A?A:w>C?C:w},h=function(w,A,C){var m=A.vectors,E=A.meshgrid,b=w[0],s=w[1],L=w[2],T=E[0].length,k=E[1].length,_=E[2].length,B=l(E[0],b),F=l(E[1],s),O=l(E[2],L),N=B+1,z=F+1,V=O+1;if(B=y(B,0,T-1),N=y(N,0,T-1),F=y(F,0,k-1),z=y(z,0,k-1),O=y(O,0,_-1),V=y(V,0,_-1),B<0||F<0||O<0||N>T-1||z>k-1||V>_-1)return t.create();var W=E[0][B],$=E[0][N],re=E[1][F],ne=E[1][z],ue=E[2][O],J=E[2][V],X=(b-W)/($-W),oe=(s-re)/(ne-re),Y=(L-ue)/(J-ue);isFinite(X)||(X=.5),isFinite(oe)||(oe=.5),isFinite(Y)||(Y=.5);var q,se,Q,K,le,ie;switch(C.reversedX&&(B=T-1-B,N=T-1-N),C.reversedY&&(F=k-1-F,z=k-1-z),C.reversedZ&&(O=_-1-O,V=_-1-V),C.filled){case 5:le=O,ie=V,Q=F*_,K=z*_,q=B*_*k,se=N*_*k;break;case 4:le=O,ie=V,q=B*_,se=N*_,Q=F*_*T,K=z*_*T;break;case 3:Q=F,K=z,le=O*k,ie=V*k,q=B*k*_,se=N*k*_;break;case 2:Q=F,K=z,q=B*k,se=N*k,le=O*k*T,ie=V*k*T;break;case 1:q=B,se=N,le=O*T,ie=V*T,Q=F*T*_,K=z*T*_;break;default:q=B,se=N,Q=F*T,K=z*T,le=O*T*k,ie=V*T*k;break}var ce=m[q+Q+le],ye=m[q+Q+ie],Ce=m[q+K+le],Ae=m[q+K+ie],ke=m[se+Q+le],we=m[se+Q+ie],Ee=m[se+K+le],xe=m[se+K+ie],Pe=t.create(),Ue=t.create(),Be=t.create(),Ne=t.create();t.lerp(Pe,ce,ke,X),t.lerp(Ue,ye,we,X),t.lerp(Be,Ce,Ee,X),t.lerp(Ne,Ae,xe,X);var Xe=t.create(),ut=t.create();t.lerp(Xe,Pe,Be,oe),t.lerp(ut,Ue,Ne,oe);var dt=t.create();return t.lerp(dt,Xe,ut,Y),dt},S=function(w){var A=1/0;w.sort(function(b,s){return b-s});for(var C=w.length,m=1;m<C;m++){var E=Math.abs(w[m]-w[m-1]);E<A&&(A=E)}return A},c=function(w){for(var A=[],C=[],m=[],E={},b={},s={},L=w.length,T=0;T<L;T++){var k=w[T],_=k[0],B=k[1],F=k[2];E[_]||(A.push(_),E[_]=!0),b[B]||(C.push(B),b[B]=!0),s[F]||(m.push(F),s[F]=!0)}var O=S(A),N=S(C),z=S(m),V=Math.min(O,N,z);return isFinite(V)?V:1};v.exports=function(w,A){var C=w.startingPositions,m=w.maxLength||1e3,E=w.tubeSize||1,b=w.absoluteTubeSize,s=w.gridFill||"+x+y+z",L={};s.indexOf("-x")!==-1&&(L.reversedX=!0),s.indexOf("-y")!==-1&&(L.reversedY=!0),s.indexOf("-z")!==-1&&(L.reversedZ=!0),L.filled=n.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var T=w.getVelocity||function(we){return h(we,w,L)},k=w.getDivergence||function(we,Ee){var xe=t.create(),Pe=1e-4;t.add(xe,we,[Pe,0,0]);var Ue=T(xe);t.subtract(Ue,Ue,Ee),t.scale(Ue,Ue,1/Pe),t.add(xe,we,[0,Pe,0]);var Be=T(xe);t.subtract(Be,Be,Ee),t.scale(Be,Be,1/Pe),t.add(xe,we,[0,0,Pe]);var Ne=T(xe);return t.subtract(Ne,Ne,Ee),t.scale(Ne,Ne,1/Pe),t.add(xe,Ue,Be),t.add(xe,xe,Ne),xe},_=[],B=A[0][0],F=A[0][1],O=A[0][2],N=A[1][0],z=A[1][1],V=A[1][2],W=function(we){var Ee=we[0],xe=we[1],Pe=we[2];return!(Ee<B||Ee>N||xe<F||xe>z||Pe<O||Pe>V)},$=t.distance(A[0],A[1]),re=10*$/m,ne=re*re,ue=1,J=0,X=C.length;X>1&&(ue=c(C));for(var oe=0;oe<X;oe++){var Y=t.create();t.copy(Y,C[oe]);var q=[Y],se=[],Q=T(Y),K=Y;se.push(Q);var le=[],ie=k(Y,Q),ce=t.length(ie);isFinite(ce)&&ce>J&&(J=ce),le.push(ce),_.push({points:q,velocities:se,divergences:le});for(var ye=0;ye<m*100&&q.length<m&&W(Y);){ye++;var Ce=t.clone(Q),Ae=t.squaredLength(Ce);if(Ae===0)break;if(Ae>ne&&t.scale(Ce,Ce,re/Math.sqrt(Ae)),t.add(Ce,Ce,Y),Q=T(Ce),t.squaredDistance(K,Ce)-ne>-1e-4*ne){q.push(Ce),K=Ce,se.push(Q);var ie=k(Ce,Q),ce=t.length(ie);isFinite(ce)&&ce>J&&(J=ce),le.push(ce)}Y=Ce}}var ke=f(_,w.colormap,J,ue);return b?ke.tubeScale=b:(J===0&&(J=1),ke.tubeScale=E*.5*ue/J),ke};var o=r(9578),d=r(1140).createMesh;v.exports.createTubeMesh=function(w,A){return d(w,A,{shaders:o,traceType:"streamtube"})}},9054:function(v,p,r){var t=r(5158),i=r(6832),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(y){var h=t(y,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(y){var h=t(y,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(y){var h=t(y,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(y){var h=t(y,f,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,p,r){v.exports=se;var t=r(2288),i=r(5827),n=r(2944),u=r(8931),f=r(5306),l=r(9156),y=r(7498),h=r(7382),S=r(5050),c=r(4162),o=r(104),d=r(7437),w=r(5070),A=r(9144),C=r(9054),m=C.createShader,E=C.createContourShader,b=C.createPickShader,s=C.createPickContourShader,L=4*(4+3+3),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Q=0;Q<3;++Q){var K=_[Q],le=(Q+1)%3,ie=(Q+2)%3;K[le+0]=1,K[ie+3]=1,K[Q+6]=1}})();function B(Q,K,le,ie,ce){this.position=Q,this.index=K,this.uv=le,this.level=ie,this.dataCoordinate=ce}var F=256;function O(Q,K,le,ie,ce,ye,Ce,Ae,ke,we,Ee,xe,Pe,Ue,Be){this.gl=Q,this.shape=K,this.bounds=le,this.objectOffset=Be,this.intensityBounds=[],this._shader=ie,this._pickShader=ce,this._coordinateBuffer=ye,this._vao=Ce,this._colorMap=Ae,this._contourShader=ke,this._contourPickShader=we,this._contourBuffer=Ee,this._contourVAO=xe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Pe,this._dynamicVAO=Ue,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[S(f.mallocFloat(1024),[0,0]),S(f.mallocFloat(1024),[0,0]),S(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var N=O.prototype;N.genColormap=function(Q,K){var le=!1,ie=h([l({colormap:Q,nshades:F,format:"rgba"}).map(function(ce,ye){var Ce=K?z(ye/255,K):ce[3];return Ce<1&&(le=!0),[ce[0],ce[1],ce[2],255*Ce]})]);return y.divseq(ie,255),this.hasAlphaScale=le,ie},N.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},N.isOpaque=function(){return!this.isTransparent()},N.pickSlots=1,N.setPickBase=function(Q){this.pickId=Q};function z(Q,K){if(!K||!K.length)return 1;for(var le=0;le<K.length;++le){if(K.length<2)return 1;if(K[le][0]===Q)return K[le][1];if(K[le][0]>Q&&le>0){var ie=(K[le][0]-Q)/(K[le][0]-K[le-1][0]);return K[le][1]*(1-ie)+ie*K[le-1][1]}}return 1}var V=[0,0,0],W={showSurface:!1,showContour:!1,projections:[T.slice(),T.slice(),T.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function $(Q,K){var le,ie,ce,ye=K.axes&&K.axes.lastCubeProps.axis||V,Ce=K.showSurface,Ae=K.showContour;for(le=0;le<3;++le)for(Ce=Ce||K.surfaceProject[le],ie=0;ie<3;++ie)Ae=Ae||K.contourProject[le][ie];for(le=0;le<3;++le){var ke=W.projections[le];for(ie=0;ie<16;++ie)ke[ie]=0;for(ie=0;ie<4;++ie)ke[5*ie]=1;ke[5*le]=0,ke[12+le]=K.axesBounds[+(ye[le]>0)][le],o(ke,Q.model,ke);var we=W.clipBounds[le];for(ce=0;ce<2;++ce)for(ie=0;ie<3;++ie)we[ce][ie]=Q.clipBounds[ce][ie];we[0][le]=-1e8,we[1][le]=1e8}return W.showSurface=Ce,W.showContour=Ae,W}var re={model:T,view:T,projection:T,inverseModel:T.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=T.slice(),ue=[1,0,0,0,1,0,0,0,1];function J(Q,K){Q=Q||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var ie=re;ie.model=Q.model||T,ie.view=Q.view||T,ie.projection=Q.projection||T,ie.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ie.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ie.objectOffset=this.objectOffset,ie.contourColor=this.contourColor[0],ie.inverseModel=d(ie.inverseModel,ie.model);for(var ce=0;ce<2;++ce)for(var ye=ie.clipBounds[ce],Ce=0;Ce<3;++Ce)ye[Ce]=Math.min(Math.max(this.clipBounds[ce][Ce],-1e8),1e8);ie.kambient=this.ambientLight,ie.kdiffuse=this.diffuseLight,ie.kspecular=this.specularLight,ie.roughness=this.roughness,ie.fresnel=this.fresnel,ie.opacity=this.opacity,ie.height=0,ie.permutation=ue,ie.vertexColor=this.vertexColor;var Ae=ne;for(o(Ae,ie.view,ie.model),o(Ae,ie.projection,Ae),d(Ae,Ae),ce=0;ce<3;++ce)ie.eyePosition[ce]=Ae[12+ce]/Ae[15];var ke=Ae[15];for(ce=0;ce<3;++ce)ke+=this.lightPosition[ce]*Ae[4*ce+3];for(ce=0;ce<3;++ce){var we=Ae[12+ce];for(Ce=0;Ce<3;++Ce)we+=Ae[4*Ce+ce]*this.lightPosition[Ce];ie.lightPosition[ce]=we/ke}var Ee=$(ie,this);if(Ee.showSurface){for(this._shader.bind(),this._shader.uniforms=ie,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),ce=0;ce<3;++ce)!this.surfaceProject[ce]||!this.vertexCount||(this._shader.uniforms.model=Ee.projections[ce],this._shader.uniforms.clipBounds=Ee.clipBounds[ce],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var xe=this._contourShader;ie.kambient=1,ie.kdiffuse=0,ie.kspecular=0,ie.opacity=1,xe.bind(),xe.uniforms=ie;var Pe=this._contourVAO;for(Pe.bind(),ce=0;ce<3;++ce)for(xe.uniforms.permutation=_[ce],le.lineWidth(this.contourWidth[ce]*this.pixelRatio),Ce=0;Ce<this.contourLevels[ce].length;++Ce)Ce===this.highlightLevel[ce]?(xe.uniforms.contourColor=this.highlightColor[ce],xe.uniforms.contourTint=this.highlightTint[ce]):(Ce===0||Ce-1===this.highlightLevel[ce])&&(xe.uniforms.contourColor=this.contourColor[ce],xe.uniforms.contourTint=this.contourTint[ce]),this._contourCounts[ce][Ce]&&(xe.uniforms.height=this.contourLevels[ce][Ce],Pe.draw(le.LINES,this._contourCounts[ce][Ce],this._contourOffsets[ce][Ce]));for(ce=0;ce<3;++ce)for(xe.uniforms.model=Ee.projections[ce],xe.uniforms.clipBounds=Ee.clipBounds[ce],Ce=0;Ce<3;++Ce)if(this.contourProject[ce][Ce]){xe.uniforms.permutation=_[Ce],le.lineWidth(this.contourWidth[Ce]*this.pixelRatio);for(var Ue=0;Ue<this.contourLevels[Ce].length;++Ue)Ue===this.highlightLevel[Ce]?(xe.uniforms.contourColor=this.highlightColor[Ce],xe.uniforms.contourTint=this.highlightTint[Ce]):(Ue===0||Ue-1===this.highlightLevel[Ce])&&(xe.uniforms.contourColor=this.contourColor[Ce],xe.uniforms.contourTint=this.contourTint[Ce]),this._contourCounts[Ce][Ue]&&(xe.uniforms.height=this.contourLevels[Ce][Ue],Pe.draw(le.LINES,this._contourCounts[Ce][Ue],this._contourOffsets[Ce][Ue]))}for(Pe.unbind(),Pe=this._dynamicVAO,Pe.bind(),ce=0;ce<3;++ce)if(this._dynamicCounts[ce]!==0)for(xe.uniforms.model=ie.model,xe.uniforms.clipBounds=ie.clipBounds,xe.uniforms.permutation=_[ce],le.lineWidth(this.dynamicWidth[ce]*this.pixelRatio),xe.uniforms.contourColor=this.dynamicColor[ce],xe.uniforms.contourTint=this.dynamicTint[ce],xe.uniforms.height=this.dynamicLevel[ce],Pe.draw(le.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]),Ce=0;Ce<3;++Ce)this.contourProject[Ce][ce]&&(xe.uniforms.model=Ee.projections[Ce],xe.uniforms.clipBounds=Ee.clipBounds[Ce],Pe.draw(le.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]));Pe.unbind()}}N.draw=function(Q){return J.call(this,Q,!1)},N.drawTransparent=function(Q){return J.call(this,Q,!0)};var X={model:T,view:T,projection:T,inverseModel:T,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};N.drawPick=function(Q){Q=Q||{};var K=this.gl;K.disable(K.CULL_FACE);var le=X;le.model=Q.model||T,le.view=Q.view||T,le.projection=Q.projection||T,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=ue;for(var ie=0;ie<2;++ie)for(var ce=le.clipBounds[ie],ye=0;ye<3;++ye)ce[ye]=Math.min(Math.max(this.clipBounds[ie][ye],-1e8),1e8);var Ce=$(le,this);if(Ce.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw(K.TRIANGLES,this._vertexCount),ie=0;ie<3;++ie)this.surfaceProject[ie]&&(this._pickShader.uniforms.model=Ce.projections[ie],this._pickShader.uniforms.clipBounds=Ce.clipBounds[ie],this._vao.draw(K.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=le;var ke=this._contourVAO;for(ke.bind(),ye=0;ye<3;++ye)for(K.lineWidth(this.contourWidth[ye]*this.pixelRatio),Ae.uniforms.permutation=_[ye],ie=0;ie<this.contourLevels[ye].length;++ie)this._contourCounts[ye][ie]&&(Ae.uniforms.height=this.contourLevels[ye][ie],ke.draw(K.LINES,this._contourCounts[ye][ie],this._contourOffsets[ye][ie]));for(ie=0;ie<3;++ie)for(Ae.uniforms.model=Ce.projections[ie],Ae.uniforms.clipBounds=Ce.clipBounds[ie],ye=0;ye<3;++ye)if(this.contourProject[ie][ye]){Ae.uniforms.permutation=_[ye],K.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var we=0;we<this.contourLevels[ye].length;++we)this._contourCounts[ye][we]&&(Ae.uniforms.height=this.contourLevels[ye][we],ke.draw(K.LINES,this._contourCounts[ye][we],this._contourOffsets[ye][we]))}ke.unbind()}},N.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var K=this._field[2].shape,le=this._pickResult,ie=K[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,ce=Math.floor(ie),ye=ie-ce,Ce=K[1]*(Q.value[1]+(Q.value[2]&15)/16)/255,Ae=Math.floor(Ce),ke=Ce-Ae;ce+=1,Ae+=1;var we=le.position;we[0]=we[1]=we[2]=0;for(var Ee=0;Ee<2;++Ee)for(var xe=Ee?ye:1-ye,Pe=0;Pe<2;++Pe)for(var Ue=Pe?ke:1-ke,Be=ce+Ee,Ne=Ae+Pe,Xe=xe*Ue,ut=0;ut<3;++ut)we[ut]+=this._field[ut].get(Be,Ne)*Xe;for(var dt=this._pickResult.level,at=0;at<3;++at)if(dt[at]=w.le(this.contourLevels[at],we[at]),dt[at]<0)this.contourLevels[at].length>0&&(dt[at]=0);else if(dt[at]<this.contourLevels[at].length-1){var We=this.contourLevels[at][dt[at]],rt=this.contourLevels[at][dt[at]+1];Math.abs(We-we[at])>Math.abs(rt-we[at])&&(dt[at]+=1)}for(le.index[0]=ye<.5?ce:ce+1,le.index[1]=ke<.5?Ae:Ae+1,le.uv[0]=ie/K[0],le.uv[1]=Ce/K[1],ut=0;ut<3;++ut)le.dataCoordinate[ut]=this._field[ut].get(le.index[0],le.index[1]);return le},N.padField=function(Q,K){var le=K.shape.slice(),ie=Q.shape.slice();y.assign(Q.lo(1,1).hi(le[0],le[1]),K),y.assign(Q.lo(1).hi(le[0],1),K.hi(le[0],1)),y.assign(Q.lo(1,ie[1]-1).hi(le[0],1),K.lo(0,le[1]-1).hi(le[0],1)),y.assign(Q.lo(0,1).hi(1,le[1]),K.hi(1)),y.assign(Q.lo(ie[0]-1,1).hi(1,le[1]),K.lo(le[0]-1)),Q.set(0,0,K.get(0,0)),Q.set(0,ie[1]-1,K.get(0,le[1]-1)),Q.set(ie[0]-1,0,K.get(le[0]-1,0)),Q.set(ie[0]-1,ie[1]-1,K.get(le[0]-1,le[1]-1))};function oe(Q,K){return Array.isArray(Q)?[K(Q[0]),K(Q[1]),K(Q[2])]:[K(Q),K(Q),K(Q)]}function Y(Q){return Array.isArray(Q)?Q.length===3?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function q(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[Y(Q[0]),Y(Q[1]),Y(Q[2])];var K=Y(Q);return[K.slice(),K.slice(),K.slice()]}}N.update=function(Q){Q=Q||{},this.objectOffset=Q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=oe(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=oe(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=oe(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=q(Q.contourColor)),"contourProject"in Q&&(this.contourProject=oe(Q.contourProject,function(Ft){return oe(Ft,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=q(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=oe(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=oe(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var K=Q.field||Q.coords&&Q.coords[2]||null,le=!1;if(K||(this._field[2].shape[0]||this._field[2].shape[2]?K=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):K=this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var ie=(K.shape[0]+2)*(K.shape[1]+2);ie>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(t.nextPow2(ie))),this._field[2]=S(this._field[2].data,[K.shape[0]+2,K.shape[1]+2]),this.padField(this._field[2],K),this.shape=K.shape.slice();for(var ce=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(f.freeFloat(this._field[ye].data),this._field[ye].data=f.mallocFloat(this._field[2].size)),this._field[ye]=S(this._field[ye].data,[ce[0]+2,ce[1]+2]);if(Q.coords){var Ce=Q.coords;if(!Array.isArray(Ce)||Ce.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var Ae=Ce[ye];for(Pe=0;Pe<2;++Pe)if(Ae.shape[Pe]!==ce[Pe])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],Ae)}}else if(Q.ticks){var ke=Q.ticks;if(!Array.isArray(ke)||ke.length!==2)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var we=ke[ye];if((Array.isArray(we)||we.length)&&(we=S(we)),we.shape[0]!==ce[ye])throw new Error("gl-surface: invalid tick length");var Ee=S(we.data,ce);Ee.stride[ye]=we.stride[0],Ee.stride[ye^1]=0,this.padField(this._field[ye],Ee)}}else{for(ye=0;ye<2;++ye){var xe=[0,0];xe[ye]=1,this._field[ye]=S(this._field[ye].data,[ce[0]+2,ce[1]+2],xe,0)}this._field[0].set(0,0,0);for(var Pe=0;Pe<ce[0];++Pe)this._field[0].set(Pe+1,0,Pe);for(this._field[0].set(ce[0]+1,0,ce[0]-1),this._field[1].set(0,0,0),Pe=0;Pe<ce[1];++Pe)this._field[1].set(0,Pe+1,Pe);this._field[1].set(0,ce[1]+1,ce[1]-1)}var Ue=this._field,Be=S(f.mallocFloat(Ue[2].size*3*2),[3,ce[0]+2,ce[1]+2,2]);for(ye=0;ye<3;++ye)A(Be.pick(ye),Ue[ye],"mirror");var Ne=S(f.mallocFloat(Ue[2].size*3),[ce[0]+2,ce[1]+2,3]);for(ye=0;ye<ce[0]+2;++ye)for(Pe=0;Pe<ce[1]+2;++Pe){var Xe=Be.get(0,ye,Pe,0),ut=Be.get(0,ye,Pe,1),dt=Be.get(1,ye,Pe,0),at=Be.get(1,ye,Pe,1),We=Be.get(2,ye,Pe,0),rt=Be.get(2,ye,Pe,1),st=dt*rt-at*We,ht=We*ut-rt*Xe,vt=Xe*at-ut*dt,At=Math.sqrt(st*st+ht*ht+vt*vt);At<1e-8?(At=Math.max(Math.abs(st),Math.abs(ht),Math.abs(vt)),At<1e-8?(vt=1,ht=st=0,At=1):At=1/At):At=1/Math.sqrt(At),Ne.set(ye,Pe,0,st*At),Ne.set(ye,Pe,1,ht*At),Ne.set(ye,Pe,2,vt*At)}f.free(Be.data);var et=[1/0,1/0,1/0],_e=[-1/0,-1/0,-1/0],Ve=1/0,Ze=-1/0,He=(ce[0]-1)*(ce[1]-1)*6,Ie=f.mallocFloat(t.nextPow2(10*He)),be=0,me=0;for(ye=0;ye<ce[0]-1;++ye)e:for(Pe=0;Pe<ce[1]-1;++Pe){for(var Me=0;Me<2;++Me)for(var Te=0;Te<2;++Te)for(var Oe=0;Oe<3;++Oe){var Ke=this._field[Oe].get(1+ye+Me,1+Pe+Te);if(isNaN(Ke)||!isFinite(Ke))continue e}for(Oe=0;Oe<6;++Oe){var nt=ye+k[Oe][0],pt=Pe+k[Oe][1],yt=this._field[0].get(nt+1,pt+1),Yt=this._field[1].get(nt+1,pt+1);Ke=this._field[2].get(nt+1,pt+1),st=Ne.get(nt+1,pt+1,0),ht=Ne.get(nt+1,pt+1,1),vt=Ne.get(nt+1,pt+1,2),Q.intensity&&(Xt=Q.intensity.get(nt,pt));var Xt=Q.intensity?Q.intensity.get(nt,pt):Ke+this.objectOffset[2];Ie[be++]=nt,Ie[be++]=pt,Ie[be++]=yt,Ie[be++]=Yt,Ie[be++]=Ke,Ie[be++]=0,Ie[be++]=Xt,Ie[be++]=st,Ie[be++]=ht,Ie[be++]=vt,et[0]=Math.min(et[0],yt+this.objectOffset[0]),et[1]=Math.min(et[1],Yt+this.objectOffset[1]),et[2]=Math.min(et[2],Ke+this.objectOffset[2]),Ve=Math.min(Ve,Xt),_e[0]=Math.max(_e[0],yt+this.objectOffset[0]),_e[1]=Math.max(_e[1],Yt+this.objectOffset[1]),_e[2]=Math.max(_e[2],Ke+this.objectOffset[2]),Ze=Math.max(Ze,Xt),me+=1}}for(Q.intensityBounds&&(Ve=+Q.intensityBounds[0],Ze=+Q.intensityBounds[1]),ye=6;ye<be;ye+=10)Ie[ye]=(Ie[ye]-Ve)/(Ze-Ve);this._vertexCount=me,this._coordinateBuffer.update(Ie.subarray(0,be)),f.freeFloat(Ie),f.free(Ne.data),this.bounds=[et,_e],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==Ve||this.intensityBounds[1]!==Ze)&&(le=!0),this.intensityBounds=[Ve,Ze]}if("levels"in Q){var St=Q.levels;for(Array.isArray(St[0])?St=St.slice():St=[[],[],St],ye=0;ye<3;++ye)St[ye]=St[ye].slice(),St[ye].sort(function(Ft,Jt){return Ft-Jt});for(ye=0;ye<3;++ye)for(Pe=0;Pe<St[ye].length;++Pe)St[ye][Pe]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(St[ye].length!==this.contourLevels[ye].length){le=!0;break}for(Pe=0;Pe<St[ye].length;++Pe)if(St[ye][Pe]!==this.contourLevels[ye][Pe]){le=!0;break e}}this.contourLevels=St}if(le){Ue=this._field,ce=this.shape;for(var kt=[],Kt=0;Kt<3;++Kt){var mr=this.contourLevels[Kt],mt=[],Zt=[],Qt=[0,0,0];for(ye=0;ye<mr.length;++ye){var yr=c(this._field[Kt],mr[ye]);mt.push(kt.length/5|0),me=0;e:for(Pe=0;Pe<yr.cells.length;++Pe){var sr=yr.cells[Pe];for(Oe=0;Oe<2;++Oe){var bt=yr.positions[sr[Oe]],lt=bt[0],Tt=Math.floor(lt)|0,Ct=lt-Tt,It=bt[1],Dt=Math.floor(It)|0,Vt=It-Dt,Bt=!1;t:for(var $t=0;$t<3;++$t){Qt[$t]=0;var fr=(Kt+$t+1)%3;for(Me=0;Me<2;++Me){var cr=Me?Ct:1-Ct;for(nt=Math.min(Math.max(Tt+Me,0),ce[0])|0,Te=0;Te<2;++Te){var dr=Te?Vt:1-Vt;if(pt=Math.min(Math.max(Dt+Te,0),ce[1])|0,$t<2?Ke=this._field[fr].get(nt,pt):Ke=(this.intensity.get(nt,pt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ke)||isNaN(Ke)){Bt=!0;break t}var Ye=cr*dr;Qt[$t]+=Ye*Ke}}}if(!Bt)kt.push(Qt[0],Qt[1],bt[0],bt[1],Qt[2]),me+=1;else{if(Oe>0){for(var je=0;je<5;++je)kt.pop();me-=1}continue e}}}Zt.push(me)}this._contourOffsets[Kt]=mt,this._contourCounts[Kt]=Zt}var zt=f.mallocFloat(kt.length);for(ye=0;ye<kt.length;++ye)zt[ye]=kt[ye];this._contourBuffer.update(zt),f.freeFloat(zt)}},N.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)f.freeFloat(this._field[Q].data)},N.highlight=function(Q){var K;if(!Q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(K=0;K<3;++K)this.enableHighlight[K]?this.highlightLevel[K]=Q.level[K]:this.highlightLevel[K]=-1;var le;for(this.snapToData?le=Q.dataCoordinate:le=Q.position,K=0;K<3;++K)le[K]-=this.objectOffset[K];if(!((!this.enableDynamic[0]||le[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||le[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||le[2]===this.dynamicLevel[2]))){for(var ie=0,ce=this.shape,ye=f.mallocFloat(12*ce[0]*ce[1]),Ce=0;Ce<3;++Ce){if(!this.enableDynamic[Ce]){this.dynamicLevel[Ce]=NaN,this._dynamicCounts[Ce]=0;continue}this.dynamicLevel[Ce]=le[Ce];var Ae=(Ce+1)%3,ke=(Ce+2)%3,we=this._field[Ce],Ee=this._field[Ae],xe=this._field[ke],Pe=c(we,le[Ce]),Ue=Pe.cells,Be=Pe.positions;for(this._dynamicOffsets[Ce]=ie,K=0;K<Ue.length;++K)for(var Ne=Ue[K],Xe=0;Xe<2;++Xe){var ut=Be[Ne[Xe]],dt=+ut[0],at=dt|0,We=Math.min(at+1,ce[0])|0,rt=dt-at,st=1-rt,ht=+ut[1],vt=ht|0,At=Math.min(vt+1,ce[1])|0,et=ht-vt,_e=1-et,Ve=st*_e,Ze=st*et,He=rt*_e,Ie=rt*et,be=Ve*Ee.get(at,vt)+Ze*Ee.get(at,At)+He*Ee.get(We,vt)+Ie*Ee.get(We,At),me=Ve*xe.get(at,vt)+Ze*xe.get(at,At)+He*xe.get(We,vt)+Ie*xe.get(We,At);if(isNaN(be)||isNaN(me)){Xe&&(ie-=1);break}ye[2*ie+0]=be,ye[2*ie+1]=me,ie+=1}this._dynamicCounts[Ce]=ie-this._dynamicOffsets[Ce]}this._dynamicBuffer.update(ye.subarray(0,2*ie)),f.freeFloat(ye)}};function se(Q){var K=Q.gl,le=m(K),ie=b(K),ce=E(K),ye=s(K),Ce=i(K),Ae=n(K,[{buffer:Ce,size:4,stride:L,offset:0},{buffer:Ce,size:3,stride:L,offset:16},{buffer:Ce,size:3,stride:L,offset:28}]),ke=i(K),we=n(K,[{buffer:ke,size:4,stride:20,offset:0},{buffer:ke,size:1,stride:20,offset:16}]),Ee=i(K),xe=n(K,[{buffer:Ee,size:2,type:K.FLOAT}]),Pe=u(K,1,F,K.RGBA,K.UNSIGNED_BYTE);Pe.minFilter=K.LINEAR,Pe.magFilter=K.LINEAR;var Ue=new O(K,[0,0],[[0,0,0],[0,0,0]],le,ie,Ce,Ae,Pe,ce,ye,ke,we,Ee,xe,[0,0,0]),Be={levels:[[],[],[]]};for(var Ne in Q)Be[Ne]=Q[Ne];return Be.colormap=Be.colormap||"jet",Ue.update(Be),Ue}},8931:function(v,p,r){var t=r(5050),i=r(7498),n=r(5306);v.exports=s;var u=null,f=null,l=null;function y(L){u=[L.LINEAR,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_NEAREST],f=[L.NEAREST,L.LINEAR,L.NEAREST_MIPMAP_NEAREST,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_LINEAR],l=[L.REPEAT,L.CLAMP_TO_EDGE,L.MIRRORED_REPEAT]}function h(L){return typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&L instanceof HTMLVideoElement||typeof ImageData<"u"&&L instanceof ImageData}var S=function(L,T){i.muls(L,T,255)};function c(L,T,k){var _=L.gl,B=_.getParameter(_.MAX_TEXTURE_SIZE);if(T<0||T>B||k<0||k>B)throw new Error("gl-texture2d: Invalid texture size");return L._shape=[T,k],L.bind(),_.texImage2D(_.TEXTURE_2D,0,L.format,T,k,0,L.format,L.type,null),L._mipLevels=[0],L}function o(L,T,k,_,B,F){this.gl=L,this.handle=T,this.format=B,this.type=F,this._shape=[k,_],this._mipLevels=[0],this._magFilter=L.NEAREST,this._minFilter=L.NEAREST,this._wrapS=L.CLAMP_TO_EDGE,this._wrapT=L.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,N=[this._wrapS,this._wrapT];Object.defineProperties(N,[{get:function(){return O._wrapS},set:function(V){return O.wrapS=V}},{get:function(){return O._wrapT},set:function(V){return O.wrapT=V}}]),this._wrapVector=N;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return O._shape[0]},set:function(V){return O.width=V}},{get:function(){return O._shape[1]},set:function(V){return O.height=V}}]),this._shapeVector=z}var d=o.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(L){this.bind();var T=this.gl;if(this.type===T.FLOAT&&u.indexOf(L)>=0&&(T.getExtension("OES_texture_float_linear")||(L=T.NEAREST)),f.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,L),this._minFilter=L}},magFilter:{get:function(){return this._magFilter},set:function(L){this.bind();var T=this.gl;if(this.type===T.FLOAT&&u.indexOf(L)>=0&&(T.getExtension("OES_texture_float_linear")||(L=T.NEAREST)),f.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,L),this._magFilter=L}},mipSamples:{get:function(){return this._anisoSamples},set:function(L){var T=this._anisoSamples;if(this._anisoSamples=Math.max(L,1)|0,T!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(L){if(this.bind(),l.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,L),this._wrapS=L}},wrapT:{get:function(){return this._wrapT},set:function(L){if(this.bind(),l.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,L),this._wrapT=L}},wrap:{get:function(){return this._wrapVector},set:function(L){if(Array.isArray(L)||(L=[L,L]),L.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var T=0;T<2;++T)if(l.indexOf(L[T])<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);this._wrapS=L[0],this._wrapT=L[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),L}},shape:{get:function(){return this._shapeVector},set:function(L){if(!Array.isArray(L))L=[L|0,L|0];else if(L.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,L[0]|0,L[1]|0),[L[0]|0,L[1]|0]}},width:{get:function(){return this._shape[0]},set:function(L){return L=L|0,c(this,L,this._shape[1]),L}},height:{get:function(){return this._shape[1]},set:function(L){return L=L|0,c(this,this._shape[0],L),L}}}),d.bind=function(L){var T=this.gl;return L!==void 0&&T.activeTexture(T.TEXTURE0+(L|0)),T.bindTexture(T.TEXTURE_2D,this.handle),L!==void 0?L|0:T.getParameter(T.ACTIVE_TEXTURE)-T.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var L=Math.min(this._shape[0],this._shape[1]),T=0;L>0;++T,L>>>=1)this._mipLevels.indexOf(T)<0&&this._mipLevels.push(T)},d.setPixels=function(L,T,k,_){var B=this.gl;this.bind(),Array.isArray(T)?(_=k,k=T[1]|0,T=T[0]|0):(T=T||0,k=k||0),_=_||0;var F=h(L)?L:L.raw;if(F){var O=this._mipLevels.indexOf(_)<0;O?(B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(_)):B.texSubImage2D(B.TEXTURE_2D,_,T,k,this.format,this.type,F)}else if(L.shape&&L.stride&&L.data){if(L.shape.length<2||T+L.shape[1]>this._shape[1]>>>_||k+L.shape[0]>this._shape[0]>>>_||T<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(B,T,k,_,this.format,this.type,this._mipLevels,L)}else throw new Error("gl-texture2d: Unsupported data type")};function w(L,T){return L.length===3?T[2]===1&&T[1]===L[0]*L[2]&&T[0]===L[2]:T[0]===1&&T[1]===L[0]}function A(L,T,k,_,B,F,O,N){var z=N.dtype,V=N.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,$=0,re=w(V,N.stride.slice());if(z==="float32"?W=L.FLOAT:z==="float64"?(W=L.FLOAT,re=!1,z="float32"):z==="uint8"?W=L.UNSIGNED_BYTE:(W=L.UNSIGNED_BYTE,re=!1,z="uint8"),V.length===2)$=L.LUMINANCE,V=[V[0],V[1],1],N=t(N.data,V,[N.stride[0],N.stride[1],1],N.offset);else if(V.length===3){if(V[2]===1)$=L.ALPHA;else if(V[2]===2)$=L.LUMINANCE_ALPHA;else if(V[2]===3)$=L.RGB;else if(V[2]===4)$=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");V[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if(($===L.LUMINANCE||$===L.ALPHA)&&(B===L.LUMINANCE||B===L.ALPHA)&&($=B),$!==B)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ne=N.size,ue=O.indexOf(_)<0;if(ue&&O.push(_),W===F&&re)N.offset===0&&N.data.length===ne?ue?L.texImage2D(L.TEXTURE_2D,_,B,V[0],V[1],0,B,F,N.data):L.texSubImage2D(L.TEXTURE_2D,_,T,k,V[0],V[1],B,F,N.data):ue?L.texImage2D(L.TEXTURE_2D,_,B,V[0],V[1],0,B,F,N.data.subarray(N.offset,N.offset+ne)):L.texSubImage2D(L.TEXTURE_2D,_,T,k,V[0],V[1],B,F,N.data.subarray(N.offset,N.offset+ne));else{var J;F===L.FLOAT?J=n.mallocFloat32(ne):J=n.mallocUint8(ne);var X=t(J,V,[V[2],V[2]*V[0],1]);W===L.FLOAT&&F===L.UNSIGNED_BYTE?S(X,N):i.assign(X,N),ue?L.texImage2D(L.TEXTURE_2D,_,B,V[0],V[1],0,B,F,J.subarray(0,ne)):L.texSubImage2D(L.TEXTURE_2D,_,T,k,V[0],V[1],B,F,J.subarray(0,ne)),F===L.FLOAT?n.freeFloat32(J):n.freeUint8(J)}}function C(L){var T=L.createTexture();return L.bindTexture(L.TEXTURE_2D,T),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),T}function m(L,T,k,_,B){var F=L.getParameter(L.MAX_TEXTURE_SIZE);if(T<0||T>F||k<0||k>F)throw new Error("gl-texture2d: Invalid texture shape");if(B===L.FLOAT&&!L.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=C(L);return L.texImage2D(L.TEXTURE_2D,0,_,T,k,0,_,B,null),new o(L,O,T,k,_,B)}function E(L,T,k,_,B,F){var O=C(L);return L.texImage2D(L.TEXTURE_2D,0,B,B,F,T),new o(L,O,k,_,B,F)}function b(L,T){var k=T.dtype,_=T.shape.slice(),B=L.getParameter(L.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>B||_[1]<0||_[1]>B)throw new Error("gl-texture2d: Invalid texture size");var F=w(_,T.stride.slice()),O=0;k==="float32"?O=L.FLOAT:k==="float64"?(O=L.FLOAT,F=!1,k="float32"):k==="uint8"?O=L.UNSIGNED_BYTE:(O=L.UNSIGNED_BYTE,F=!1,k="uint8");var N=0;if(_.length===2)N=L.LUMINANCE,_=[_[0],_[1],1],T=t(T.data,_,[T.stride[0],T.stride[1],1],T.offset);else if(_.length===3)if(_[2]===1)N=L.ALPHA;else if(_[2]===2)N=L.LUMINANCE_ALPHA;else if(_[2]===3)N=L.RGB;else if(_[2]===4)N=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");O===L.FLOAT&&!L.getExtension("OES_texture_float")&&(O=L.UNSIGNED_BYTE,F=!1);var z,V,W=T.size;if(F)T.offset===0&&T.data.length===W?z=T.data:z=T.data.subarray(T.offset,T.offset+W);else{var $=[_[2],_[2]*_[0],1];V=n.malloc(W,k);var re=t(V,_,$,0);(k==="float32"||k==="float64")&&O===L.UNSIGNED_BYTE?S(re,T):i.assign(re,T),z=V.subarray(0,W)}var ne=C(L);return L.texImage2D(L.TEXTURE_2D,0,N,_[0],_[1],0,N,O,z),F||n.free(V),new o(L,ne,_[0],_[1],N,O)}function s(L){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||y(L),typeof arguments[1]=="number")return m(L,arguments[1],arguments[2],arguments[3]||L.RGBA,arguments[4]||L.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(L,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var T=arguments[1],k=h(T)?T:T.raw;if(k)return E(L,k,T.width|0,T.height|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(T.shape&&T.data&&T.stride)return b(L,T)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(r,t,i){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<i.length;++u){var f=i[u];if(f.buffer){var l=f.buffer,y=f.size||4,h=f.type||r.FLOAT,S=!!f.normalized,c=f.stride||0,o=f.offset||0;l.bind(),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,y,h,S,c,o)}else{if(typeof f=="number")r.vertexAttrib1f(u,f);else if(f.length===1)r.vertexAttrib1f(u,f[0]);else if(f.length===2)r.vertexAttrib2f(u,f[0],f[1]);else if(f.length===3)r.vertexAttrib3f(u,f[0],f[1],f[2]);else if(f.length===4)r.vertexAttrib4f(u,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(u)}}for(;u<n;++u)r.disableVertexAttribArray(u)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var u=0;u<n;++u)r.disableVertexAttribArray(u)}}v.exports=p},7220:function(v,p,r){var t=r(3056);function i(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}i.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},i.prototype.update=function(u,f,l){this._elements=f,this._attributes=u,this._elementsType=l||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(u,f,l){l=l||0;var y=this.gl;this._elements?y.drawElements(u,f,this._elementsType,l):y.drawArrays(u,l,f)};function n(u){return new i(u)}v.exports=n},3778:function(v,p,r){var t=r(3056);function i(f,l,y,h,S,c){this.location=f,this.dimension=l,this.a=y,this.b=h,this.c=S,this.d=c}i.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(f,l,y){this.gl=f,this._ext=l,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(f,l,y){if(this.bind(),t(this.gl,l,f),this.unbind(),this._attribs.length=0,f)for(var h=0;h<f.length;++h){var S=f[h];typeof S=="number"?this._attribs.push(new i(h,1,S)):Array.isArray(S)&&this._attribs.push(new i(h,S.length,S[0],S[1],S[2],S[3]))}this._useElements=!!l,this._elementsType=y||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(f,l,y){y=y||0;var h=this.gl;this._useElements?h.drawElements(f,l,this._elementsType,y):h.drawArrays(f,y,l)};function u(f,l){return new n(f,l,l.createVertexArrayOES())}v.exports=u},2944:function(v,p,r){var t=r(3778),i=r(7220);function n(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function u(f,l,y,h){var S=f.createVertexArray?new n(f):f.getExtension("OES_vertex_array_object"),c;return S?c=t(f,S):c=i(f),c.update(l,y,h),c}v.exports=u},2598:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}},5879:function(v,p,r){v.exports=u;var t=r(5415),i=r(899),n=r(9305);function u(f,l){var y=t(f[0],f[1],f[2]),h=t(l[0],l[1],l[2]);i(y,y),i(h,h);var S=n(y,h);return S>1?0:Math.acos(S)}},8827:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},7622:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8782:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8501:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=i[0],y=i[1],h=i[2];return r[0]=u*h-f*y,r[1]=f*l-n*h,r[2]=n*y-u*l,r}},5981:function(v,p,r){v.exports=r(8288)},8288:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2];return Math.sqrt(i*i+n*n+u*u)}},8629:function(v,p,r){v.exports=r(7979)},7979:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}},9305:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,r){v.exports=i;var t=r(154);function i(n,u){var f=n[0],l=n[1],y=n[2],h=u[0],S=u[1],c=u[2];return Math.abs(f-h)<=t*Math.max(1,Math.abs(f),Math.abs(h))&&Math.abs(l-S)<=t*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(y-c)<=t*Math.max(1,Math.abs(y),Math.abs(c))}},5777:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},3306:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},7447:function(v,p,r){v.exports=i;var t=r(8501)();function i(n,u,f,l,y,h){var S,c;for(u||(u=3),f||(f=0),l?c=Math.min(l*u+f,n.length):c=n.length,S=f;S<c;S+=u)t[0]=n[S],t[1]=n[S+1],t[2]=n[S+2],y(t,t,h),n[S]=t[0],n[S+1]=t[1],n[S+2]=t[2];return n}},5415:function(v){v.exports=p;function p(r,t,i){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=i,n}},2858:function(v,p,r){v.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},1468:function(v,p,r){v.exports=r(4693)},4693:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2];return Math.sqrt(t*t+i*i+n*n)}},1868:function(v){v.exports=p;function p(r,t,i,n){var u=t[0],f=t[1],l=t[2];return r[0]=u+n*(i[0]-u),r[1]=f+n*(i[1]-f),r[2]=l+n*(i[2]-l),r}},1716:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r}},3605:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r}},5733:function(v,p,r){v.exports=r(105)},105:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}},435:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},899:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],u=t[2],f=i*i+n*n+u*u;return f>0&&(f=1/Math.sqrt(f),r[0]=t[0]*f,r[1]=t[1]*f,r[2]=t[2]*f),r}},6660:function(v){v.exports=p;function p(r,t){t=t||1;var i=Math.random()*2*Math.PI,n=Math.random()*2-1,u=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(i)*u,r[1]=Math.sin(i)*u,r[2]=n*t,r}},392:function(v){v.exports=p;function p(r,t,i,n){var u=i[1],f=i[2],l=t[1]-u,y=t[2]-f,h=Math.sin(n),S=Math.cos(n);return r[0]=t[0],r[1]=u+l*S-y*h,r[2]=f+l*h+y*S,r}},3222:function(v){v.exports=p;function p(r,t,i,n){var u=i[0],f=i[2],l=t[0]-u,y=t[2]-f,h=Math.sin(n),S=Math.cos(n);return r[0]=u+y*h+l*S,r[1]=t[1],r[2]=f+y*S-l*h,r}},3388:function(v){v.exports=p;function p(r,t,i,n){var u=i[0],f=i[1],l=t[0]-u,y=t[1]-f,h=Math.sin(n),S=Math.cos(n);return r[0]=u+l*S-y*h,r[1]=f+l*h+y*S,r[2]=t[2],r}},1624:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},5685:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}},6722:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r}},831:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t,r[1]=i,r[2]=n,r}},5294:function(v,p,r){v.exports=r(6403)},3303:function(v,p,r){v.exports=r(4337)},6403:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2];return i*i+n*n+u*u}},4337:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2];return t*t+i*i+n*n}},8921:function(v,p,r){v.exports=r(911)},911:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}},9908:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2];return r[0]=n*i[0]+u*i[3]+f*i[6],r[1]=n*i[1]+u*i[4]+f*i[7],r[2]=n*i[2]+u*i[5]+f*i[8],r}},3255:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=i[3]*n+i[7]*u+i[11]*f+i[15];return l=l||1,r[0]=(i[0]*n+i[4]*u+i[8]*f+i[12])/l,r[1]=(i[1]*n+i[5]*u+i[9]*f+i[13])/l,r[2]=(i[2]*n+i[6]*u+i[10]*f+i[14])/l,r}},6568:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=i[0],y=i[1],h=i[2],S=i[3],c=S*n+y*f-h*u,o=S*u+h*n-l*f,d=S*f+l*u-y*n,w=-l*n-y*u-h*f;return r[0]=c*S+w*-l+o*-h-d*-y,r[1]=o*S+w*-y+d*-l-c*-h,r[2]=d*S+w*-h+c*-y-o*-l,r}},3433:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r[3]=t[3]+i[3],r}},1413:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},3470:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},5313:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2],f=t[3]-r[3];return Math.sqrt(i*i+n*n+u*u+f*f)}},205:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r[3]=t[3]/i[3],r}},4242:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},5680:function(v){v.exports=p;function p(r,t,i,n){var u=new Float32Array(4);return u[0]=r,u[1]=t,u[2]=i,u[3]=n,u}},4020:function(v,p,r){v.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},8177:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],u=r[3];return Math.sqrt(t*t+i*i+n*n+u*u)}},8746:function(v){v.exports=p;function p(r,t,i,n){var u=t[0],f=t[1],l=t[2],y=t[3];return r[0]=u+n*(i[0]-u),r[1]=f+n*(i[1]-f),r[2]=l+n*(i[2]-l),r[3]=y+n*(i[3]-y),r}},3030:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r[3]=Math.max(t[3],i[3]),r}},2170:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r[3]=Math.min(t[3],i[3]),r}},746:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r[3]=t[3]*i[3],r}},6459:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},381:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],u=t[2],f=t[3],l=i*i+n*n+u*u+f*f;return l>0&&(l=1/Math.sqrt(l),r[0]=i*l,r[1]=n*l,r[2]=u*l,r[3]=f*l),r}},3770:function(v,p,r){var t=r(381),i=r(5510);v.exports=n;function n(u,f){return f=f||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),t(u,u),i(u,u,f),u}},5510:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r}},4224:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r[3]=t[3]+i[3]*n,r}},6453:function(v){v.exports=p;function p(r,t,i,n,u){return r[0]=t,r[1]=i,r[2]=n,r[3]=u,r}},1542:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2],f=t[3]-r[3];return i*i+n*n+u*u+f*f}},9037:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],u=r[3];return t*t+i*i+n*n+u*u}},2705:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r[3]=t[3]-i[3],r}},6342:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=t[3];return r[0]=i[0]*n+i[4]*u+i[8]*f+i[12]*l,r[1]=i[1]*n+i[5]*u+i[9]*f+i[13]*l,r[2]=i[2]*n+i[6]*u+i[10]*f+i[14]*l,r[3]=i[3]*n+i[7]*u+i[11]*f+i[15]*l,r}},5022:function(v){v.exports=p;function p(r,t,i){var n=t[0],u=t[1],f=t[2],l=i[0],y=i[1],h=i[2],S=i[3],c=S*n+y*f-h*u,o=S*u+h*n-l*f,d=S*f+l*u-y*n,w=-l*n-y*u-h*f;return r[0]=c*S+w*-l+o*-h-d*-y,r[1]=o*S+w*-y+d*-l-c*-h,r[2]=d*S+w*-h+c*-y-o*-l,r[3]=t[3],r}},9365:function(v,p,r){var t=r(8096),i=r(7896);v.exports=n;function n(u){for(var f=Array.isArray(u)?u:t(u),l=0;l<f.length;l++){var y=f[l];if(y.type==="preprocessor"){var h=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var S=h[1],c=h[2];return(S?i(c):c).trim()}}}}},3193:function(v,p,r){v.exports=T;var t=r(399),i=r(9746),n=r(9525),u=r(9458),f=r(3585),l=999,y=9999,h=0,S=1,c=2,o=3,d=4,w=5,A=6,C=7,m=8,E=9,b=10,s=11,L=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function T(k){var _=0,B=0,F=l,O,N,z=[],V=[],W=1,$=0,re=0,ne=!1,ue=!1,J="",X;k=k||{};var oe=n,Y=t;k.version==="300 es"&&(oe=f,Y=u);for(var q={},se={},_=0;_<oe.length;_++)q[oe[_]]=!0;for(var _=0;_<Y.length;_++)se[Y[_]]=!0;return function(Be){return V=[],Be!==null?K(Be):le()};function Q(Be){Be.length&&V.push({type:L[F],data:Be,position:re,line:W,column:$})}function K(Be){_=0,Be.toString&&(Be=Be.toString()),J+=Be.replace(/\r\n/g,`
`),X=J.length;for(var Ne;O=J[_],_<X;){switch(Ne=_,F){case h:_=Ae();break;case S:_=Ce();break;case c:_=ye();break;case o:_=ke();break;case d:_=xe();break;case s:_=Ee();break;case w:_=Pe();break;case y:_=Ue();break;case E:_=ce();break;case l:_=ie();break}if(Ne!==_)switch(J[Ne]){case`
`:$=0,++W;break;default:++$;break}}return B+=_,J=J.slice(_),V}function le(Be){return z.length&&Q(z.join("")),F=b,Q("(eof)"),V}function ie(){return z=z.length?[]:z,N==="/"&&O==="*"?(re=B+_-1,F=h,N=O,_+1):N==="/"&&O==="/"?(re=B+_-1,F=S,N=O,_+1):O==="#"?(F=c,re=B+_,_):/\s/.test(O)?(F=E,re=B+_,_):(ne=/\d/.test(O),ue=/[^\w_]/.test(O),re=B+_,F=ne?d:ue?o:y,_)}function ce(){return/[^\s]/g.test(O)?(Q(z.join("")),F=l,_):(z.push(O),N=O,_+1)}function ye(){return(O==="\r"||O===`
`)&&N!=="\\"?(Q(z.join("")),F=l,_):(z.push(O),N=O,_+1)}function Ce(){return ye()}function Ae(){return O==="/"&&N==="*"?(z.push(O),Q(z.join("")),F=l,_+1):(z.push(O),N=O,_+1)}function ke(){if(N==="."&&/\d/.test(O))return F=w,_;if(N==="/"&&O==="*")return F=h,_;if(N==="/"&&O==="/")return F=S,_;if(O==="."&&z.length){for(;we(z););return F=w,_}if(O===";"||O===")"||O==="("){if(z.length)for(;we(z););return Q(O),F=l,_+1}var Be=z.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||Be){for(;we(z););return F=l,_}return z.push(O),N=O,_+1}function we(Be){var Ne=0,Xe,ut;do{if(Xe=i.indexOf(Be.slice(0,Be.length+Ne).join("")),ut=i[Xe],Xe===-1){if(Ne--+Be.length>0)continue;ut=Be.slice(0,1).join("")}return Q(ut),re+=ut.length,z=z.slice(ut.length),z.length}while(1)}function Ee(){return/[^a-fA-F0-9]/.test(O)?(Q(z.join("")),F=l,_):(z.push(O),N=O,_+1)}function xe(){return O==="."||/[eE]/.test(O)?(z.push(O),F=w,N=O,_+1):O==="x"&&z.length===1&&z[0]==="0"?(F=s,z.push(O),N=O,_+1):/[^\d]/.test(O)?(Q(z.join("")),F=l,_):(z.push(O),N=O,_+1)}function Pe(){return O==="f"&&(z.push(O),N=O,_+=1),/[eE]/.test(O)||(O==="-"||O==="+")&&/[eE]/.test(N)?(z.push(O),N=O,_+1):/[^\d]/.test(O)?(Q(z.join("")),F=l,_):(z.push(O),N=O,_+1)}function Ue(){if(/[^\d\w_]/.test(O)){var Be=z.join("");return se[Be]?F=m:q[Be]?F=C:F=A,Q(z.join("")),F=l,_}return z.push(O),N=O,_+1}}},3585:function(v,p,r){var t=r(9525);t=t.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,r){var t=r(399);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,r){var t=r(3193);v.exports=i;function i(n,u){var f=t(u),l=[];return l=l.concat(f(n)),l=l.concat(f(null)),l}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],i=0;i<p.length-1;i++)t.push(p[i],r[i]||"");return t.push(p[i]),t.join("")}},5233:function(v,p,r){var t=r(4846);function i(){var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{n=!1}return n}v.exports=t&&i()},2183:function(v,p,r){v.exports=o;var t=r(417),i=r(8211).H;function n(d,w,A){this.vertices=d,this.adjacent=w,this.boundary=A,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var w=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=w};function u(d,w,A){this.vertices=d,this.cell=w,this.index=A}function f(d,w){return i(d.vertices,w.vertices)}function l(d){return function(){var w=this.tuple;return d.apply(this,w)}}function y(d){var w=t[d+1];return w||(w=t),l(w)}var h=[];function S(d,w,A){this.dimension=d,this.vertices=w,this.simplices=A,this.interior=A.filter(function(E){return!E.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var m=h[d];m||(m=h[d]=y(d)),this.orient=m}var c=S.prototype;c.handleBoundaryDegeneracy=function(d,w){var A=this.dimension,C=this.vertices.length-1,m=this.tuple,E=this.vertices,b=[d];for(d.lastVisited=-C;b.length>0;){d=b.pop();for(var s=d.adjacent,L=0;L<=A;++L){var T=s[L];if(!(!T.boundary||T.lastVisited<=-C)){for(var k=T.vertices,_=0;_<=A;++_){var B=k[_];B<0?m[_]=w:m[_]=E[B]}var F=this.orient();if(F>0)return T;T.lastVisited=-C,F===0&&b.push(T)}}}return null},c.walk=function(d,w){var A=this.vertices.length-1,C=this.dimension,m=this.vertices,E=this.tuple,b=w?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[b];e:for(;!s.boundary;){for(var L=s.vertices,T=s.adjacent,k=0;k<=C;++k)E[k]=m[L[k]];s.lastVisited=A;for(var k=0;k<=C;++k){var _=T[k];if(!(_.lastVisited>=A)){var B=E[k];E[k]=d;var F=this.orient();if(E[k]=B,F<0){s=_;continue e}else _.boundary?_.lastVisited=-A:_.lastVisited=A}}return}return s},c.addPeaks=function(d,w){var A=this.vertices.length-1,C=this.dimension,m=this.vertices,E=this.tuple,b=this.interior,s=this.simplices,L=[w];w.lastVisited=A,w.vertices[w.vertices.indexOf(-1)]=A,w.boundary=!1,b.push(w);for(var T=[];L.length>0;){var w=L.pop(),k=w.vertices,_=w.adjacent,B=k.indexOf(A);if(!(B<0)){for(var F=0;F<=C;++F)if(F!==B){var O=_[F];if(!(!O.boundary||O.lastVisited>=A)){var N=O.vertices;if(O.lastVisited!==-A){for(var z=0,V=0;V<=C;++V)N[V]<0?(z=V,E[V]=d):E[V]=m[N[V]];var W=this.orient();if(W>0){N[z]=A,O.boundary=!1,b.push(O),L.push(O),O.lastVisited=A;continue}else O.lastVisited=-A}var $=O.adjacent,re=k.slice(),ne=_.slice(),ue=new n(re,ne,!0);s.push(ue);var J=$.indexOf(w);if(!(J<0)){$[J]=ue,ne[B]=O,re[F]=-1,ne[F]=w,_[F]=ue,ue.flip();for(var V=0;V<=C;++V){var X=re[V];if(!(X<0||X===A)){for(var oe=new Array(C-1),Y=0,q=0;q<=C;++q){var se=re[q];se<0||q===V||(oe[Y++]=se)}T.push(new u(oe,ue,V))}}}}}}}T.sort(f);for(var F=0;F+1<T.length;F+=2){var Q=T[F],K=T[F+1],le=Q.index,ie=K.index;le<0||ie<0||(Q.cell.adjacent[Q.index]=K.cell,K.cell.adjacent[K.index]=Q.cell)}},c.insert=function(d,w){var A=this.vertices;A.push(d);var C=this.walk(d,w);if(C){for(var m=this.dimension,E=this.tuple,b=0;b<=m;++b){var s=C.vertices[b];s<0?E[b]=d:E[b]=A[s]}var L=this.orient(E);L<0||L===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},c.boundary=function(){for(var d=this.dimension,w=[],A=this.simplices,C=A.length,m=0;m<C;++m){var E=A[m];if(E.boundary){for(var b=new Array(d),s=E.vertices,L=0,T=0,k=0;k<=d;++k)s[k]>=0?b[L++]=s[k]:T=k&1;if(T===(d&1)){var _=b[0];b[0]=b[1],b[1]=_}w.push(b)}}return w};function o(d,w){var A=d.length;if(A===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(A<=C)throw new Error("Must input at least d+1 points");var m=d.slice(0,C+1),E=t.apply(void 0,m);if(E===0)throw new Error("Input not in general position");for(var b=new Array(C+1),s=0;s<=C;++s)b[s]=s;E<0&&(b[0]=1,b[1]=0);for(var L=new n(b,new Array(C+1),!1),T=L.adjacent,k=new Array(C+2),s=0;s<=C;++s){for(var _=b.slice(),B=0;B<=C;++B)B===s&&(_[B]=-1);var F=_[0];_[0]=_[1],_[1]=F;var O=new n(_,new Array(C+1),!0);T[s]=O,k[s]=O}k[C+1]=L;for(var s=0;s<=C;++s)for(var _=T[s].vertices,N=T[s].adjacent,B=0;B<=C;++B){var z=_[B];if(z<0){N[B]=L;continue}for(var V=0;V<=C;++V)T[V].vertices.indexOf(z)<0&&(N[B]=T[V])}for(var W=new S(C,m,k),$=!!w,s=C+1;s<A;++s)W.insert(d[s],$);return W.boundary()}},9014:function(v,p,r){var t=r(5070),i=0,n=1,u=2;v.exports=L;function f(T,k,_,B,F){this.mid=T,this.left=k,this.right=_,this.leftPoints=B,this.rightPoints=F,this.count=(k?k.count:0)+(_?_.count:0)+B.length}var l=f.prototype;function y(T,k){T.mid=k.mid,T.left=k.left,T.right=k.right,T.leftPoints=k.leftPoints,T.rightPoints=k.rightPoints,T.count=k.count}function h(T,k){var _=E(k);T.mid=_.mid,T.left=_.left,T.right=_.right,T.leftPoints=_.leftPoints,T.rightPoints=_.rightPoints,T.count=_.count}function S(T,k){var _=T.intervals([]);_.push(k),h(T,_)}function c(T,k){var _=T.intervals([]),B=_.indexOf(k);return B<0?i:(_.splice(B,1),h(T,_),n)}l.intervals=function(T){return T.push.apply(T,this.leftPoints),this.left&&this.left.intervals(T),this.right&&this.right.intervals(T),T},l.insert=function(T){var k=this.count-this.leftPoints.length;if(this.count+=1,T[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?S(this,T):this.left.insert(T):this.left=E([T]);else if(T[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?S(this,T):this.right.insert(T):this.right=E([T]);else{var _=t.ge(this.leftPoints,T,C),B=t.ge(this.rightPoints,T,m);this.leftPoints.splice(_,0,T),this.rightPoints.splice(B,0,T)}},l.remove=function(T){var k=this.count-this.leftPoints;if(T[1]<this.mid){if(!this.left)return i;var _=this.right?this.right.count:0;if(4*_>3*(k-1))return c(this,T);var B=this.left.remove(T);return B===u?(this.left=null,this.count-=1,n):(B===n&&(this.count-=1),B)}else if(T[0]>this.mid){if(!this.right)return i;var F=this.left?this.left.count:0;if(4*F>3*(k-1))return c(this,T);var B=this.right.remove(T);return B===u?(this.right=null,this.count-=1,n):(B===n&&(this.count-=1),B)}else{if(this.count===1)return this.leftPoints[0]===T?u:i;if(this.leftPoints.length===1&&this.leftPoints[0]===T){if(this.left&&this.right){for(var O=this,N=this.left;N.right;)O=N,N=N.right;if(O===this)N.right=this.right;else{var z=this.left,B=this.right;O.count-=N.count,O.right=N.left,N.left=z,N.right=B}y(this,N),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?y(this,this.left):y(this,this.right);return n}for(var z=t.ge(this.leftPoints,T,C);z<this.leftPoints.length&&this.leftPoints[z][0]===T[0];++z)if(this.leftPoints[z]===T){this.count-=1,this.leftPoints.splice(z,1);for(var B=t.ge(this.rightPoints,T,m);B<this.rightPoints.length&&this.rightPoints[B][1]===T[1];++B)if(this.rightPoints[B]===T)return this.rightPoints.splice(B,1),n}return i}};function o(T,k,_){for(var B=0;B<T.length&&T[B][0]<=k;++B){var F=_(T[B]);if(F)return F}}function d(T,k,_){for(var B=T.length-1;B>=0&&T[B][1]>=k;--B){var F=_(T[B]);if(F)return F}}function w(T,k){for(var _=0;_<T.length;++_){var B=k(T[_]);if(B)return B}}l.queryPoint=function(T,k){if(T<this.mid){if(this.left){var _=this.left.queryPoint(T,k);if(_)return _}return o(this.leftPoints,T,k)}else if(T>this.mid){if(this.right){var _=this.right.queryPoint(T,k);if(_)return _}return d(this.rightPoints,T,k)}else return w(this.leftPoints,k)},l.queryInterval=function(T,k,_){if(T<this.mid&&this.left){var B=this.left.queryInterval(T,k,_);if(B)return B}if(k>this.mid&&this.right){var B=this.right.queryInterval(T,k,_);if(B)return B}return k<this.mid?o(this.leftPoints,k,_):T>this.mid?d(this.rightPoints,T,_):w(this.leftPoints,_)};function A(T,k){return T-k}function C(T,k){var _=T[0]-k[0];return _||T[1]-k[1]}function m(T,k){var _=T[1]-k[1];return _||T[0]-k[0]}function E(T){if(T.length===0)return null;for(var k=[],_=0;_<T.length;++_)k.push(T[_][0],T[_][1]);k.sort(A);for(var B=k[k.length>>1],F=[],O=[],N=[],_=0;_<T.length;++_){var z=T[_];z[1]<B?F.push(z):B<z[0]?O.push(z):N.push(z)}var V=N,W=N.slice();return V.sort(C),W.sort(m),new f(B,E(F),E(O),V,W)}function b(T){this.root=T}var s=b.prototype;s.insert=function(T){this.root?this.root.insert(T):this.root=new f(T[0],null,null,[T],[T])},s.remove=function(T){if(this.root){var k=this.root.remove(T);return k===u&&(this.root=null),k!==i}return!1},s.queryPoint=function(T,k){if(this.root)return this.root.queryPoint(T,k)},s.queryInterval=function(T,k,_){if(T<=k&&this.root)return this.root.queryInterval(T,k,_)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function L(T){return!T||T.length===0?new b(null):new b(E(T))}},9560:function(v){function p(r){for(var t=new Array(r),i=0;i<r;++i)t[i]=i;return t}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},3596:function(v){v.exports=function(p){for(var r=p.length,t,i=0;i<r;i++)if(t=p.charCodeAt(i),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(v){function p(r,t,i){return r*(1-i)+t*i}v.exports=p},7191:function(v,p,r){var t=r(4690),i=r(9823),n=r(7332),u=r(7787),f=r(7437),l=r(2142),y={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},h=i(),S=i(),c=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(E,b,s,L,T,k){if(b||(b=[0,0,0]),s||(s=[0,0,0]),L||(L=[0,0,0]),T||(T=[0,0,0,1]),k||(k=[0,0,0,1]),!t(h,E)||(n(S,h),S[3]=0,S[7]=0,S[11]=0,S[15]=1,Math.abs(u(S)<1e-8)))return!1;var _=h[3],B=h[7],F=h[11],O=h[12],N=h[13],z=h[14],V=h[15];if(_!==0||B!==0||F!==0){c[0]=_,c[1]=B,c[2]=F,c[3]=V;var W=f(S,S);if(!W)return!1;l(S,S),w(T,c,S)}else T[0]=T[1]=T[2]=0,T[3]=1;if(b[0]=O,b[1]=N,b[2]=z,A(o,h),s[0]=y.length(o[0]),y.normalize(o[0],o[0]),L[0]=y.dot(o[0],o[1]),C(o[1],o[1],o[0],1,-L[0]),s[1]=y.length(o[1]),y.normalize(o[1],o[1]),L[0]/=s[1],L[1]=y.dot(o[0],o[2]),C(o[2],o[2],o[0],1,-L[1]),L[2]=y.dot(o[1],o[2]),C(o[2],o[2],o[1],1,-L[2]),s[2]=y.length(o[2]),y.normalize(o[2],o[2]),L[1]/=s[2],L[2]/=s[2],y.cross(d,o[1],o[2]),y.dot(o[0],d)<0)for(var $=0;$<3;$++)s[$]*=-1,o[$][0]*=-1,o[$][1]*=-1,o[$][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(k[0]=-k[0]),o[0][2]>o[2][0]&&(k[1]=-k[1]),o[1][0]>o[0][1]&&(k[2]=-k[2]),!0};function w(m,E,b){var s=E[0],L=E[1],T=E[2],k=E[3];return m[0]=b[0]*s+b[4]*L+b[8]*T+b[12]*k,m[1]=b[1]*s+b[5]*L+b[9]*T+b[13]*k,m[2]=b[2]*s+b[6]*L+b[10]*T+b[14]*k,m[3]=b[3]*s+b[7]*L+b[11]*T+b[15]*k,m}function A(m,E){m[0][0]=E[0],m[0][1]=E[1],m[0][2]=E[2],m[1][0]=E[4],m[1][1]=E[5],m[1][2]=E[6],m[2][0]=E[8],m[2][1]=E[9],m[2][2]=E[10]}function C(m,E,b,s,L){m[0]=E[0]*s+b[0]*L,m[1]=E[1]*s+b[1]*L,m[2]=E[2]*s+b[2]*L}},4690:function(v){v.exports=function(r,t){var i=t[15];if(i===0)return!1;for(var n=1/i,u=0;u<16;u++)r[u]=t[u]*n;return!0}},7649:function(v,p,r){var t=r(1868),i=r(1102),n=r(7191),u=r(7787),f=r(1116),l=c(),y=c(),h=c();v.exports=S;function S(w,A,C,m){if(u(A)===0||u(C)===0)return!1;var E=n(A,l.translate,l.scale,l.skew,l.perspective,l.quaternion),b=n(C,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!E||!b?!1:(t(h.translate,l.translate,y.translate,m),t(h.skew,l.skew,y.skew,m),t(h.scale,l.scale,y.scale,m),t(h.perspective,l.perspective,y.perspective,m),f(h.quaternion,l.quaternion,y.quaternion,m),i(w,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:o(),scale:o(1),skew:o(),perspective:d(),quaternion:d()}}function o(w){return[w||0,w||0,w||0]}function d(){return[0,0,0,1]}},1102:function(v,p,r){var t={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};t.create();var i=t.create();v.exports=function(u,f,l,y,h,S){return t.identity(u),t.fromRotationTranslation(u,S,f),u[3]=h[0],u[7]=h[1],u[11]=h[2],u[15]=h[3],t.identity(i),y[2]!==0&&(i[9]=y[2],t.multiply(u,u,i)),y[1]!==0&&(i[9]=0,i[8]=y[1],t.multiply(u,u,i)),y[0]!==0&&(i[8]=0,i[4]=y[0],t.multiply(u,u,i)),t.scale(u,u,l),u}},9298:function(v,p,r){var t=r(5070),i=r(7649),n=r(7437),u=r(6109),f=r(7115),l=r(5240),y=r(3012),h=r(998);r(3668);var S=r(899),c=[0,0,0];v.exports=A;function o(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=o.prototype;d.recalcMatrix=function(C){var m=this._time,E=t.le(m,C),b=this.computedMatrix;if(!(E<0)){var s=this._components;if(E===m.length-1)for(var L=16*E,T=0;T<16;++T)b[T]=s[L++];else{for(var k=m[E+1]-m[E],L=16*E,_=this.prevMatrix,B=!0,T=0;T<16;++T)_[T]=s[L++];for(var F=this.nextMatrix,T=0;T<16;++T)F[T]=s[L++],B=B&&_[T]===F[T];if(k<1e-6||B)for(var T=0;T<16;++T)b[T]=_[T];else i(b,_,F,(C-m[E])/k)}var O=this.computedUp;O[0]=b[1],O[1]=b[5],O[2]=b[9],S(O,O);var N=this.computedInverse;n(N,b);var z=this.computedEye,V=N[15];z[0]=N[12]/V,z[1]=N[13]/V,z[2]=N[14]/V;for(var W=this.computedCenter,$=Math.exp(this.computedRadius[0]),T=0;T<3;++T)W[T]=z[T]-b[2+4*T]*$}},d.idle=function(C){if(!(C<this.lastT())){for(var m=this._components,E=m.length-16,b=0;b<16;++b)m.push(m[E++]);this._time.push(C)}},d.flush=function(C){var m=t.gt(this._time,C)-2;m<0||(this._time.splice(0,m),this._components.splice(0,16*m))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,m,E,b){this.recalcMatrix(C),m=m||this.computedEye,E=E||c,b=b||this.computedUp,this.setMatrix(C,y(this.computedMatrix,m,E,b));for(var s=0,L=0;L<3;++L)s+=Math.pow(E[L]-m[L],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},d.rotate=function(C,m,E,b){this.recalcMatrix(C);var s=this.computedInverse;m&&f(s,s,m),E&&u(s,s,E),b&&l(s,s,b),this.setMatrix(C,n(this.computedMatrix,s))};var w=[0,0,0];d.pan=function(C,m,E,b){w[0]=-(m||0),w[1]=-(E||0),w[2]=-(b||0),this.recalcMatrix(C);var s=this.computedInverse;h(s,s,w),this.setMatrix(C,n(s,s))},d.translate=function(C,m,E,b){w[0]=m||0,w[1]=E||0,w[2]=b||0,this.recalcMatrix(C);var s=this.computedMatrix;h(s,s,w),this.setMatrix(C,s)},d.setMatrix=function(C,m){if(!(C<this.lastT())){this._time.push(C);for(var E=0;E<16;++E)this._components.push(m[E])}},d.setDistance=function(C,m){this.computedRadius[0]=m},d.setDistanceLimits=function(C,m){var E=this._limits;E[0]=C,E[1]=m},d.getDistanceLimits=function(C){var m=this._limits;return C?(C[0]=m[0],C[1]=m[1],C):m};function A(C){C=C||{};var m=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(m)}},3266:function(v,p,r){v.exports=i;var t=r(417)[3];function i(n){var u=n.length;if(u<3){for(var d=new Array(u),f=0;f<u;++f)d[f]=f;return u===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(u),f=0;f<u;++f)l[f]=f;l.sort(function(m,E){var b=n[m][0]-n[E][0];return b||n[m][1]-n[E][1]});for(var y=[l[0],l[1]],h=[l[0],l[1]],f=2;f<u;++f){for(var S=l[f],c=n[S],o=y.length;o>1&&t(n[y[o-2]],n[y[o-1]],c)<=0;)o-=1,y.pop();for(y.push(S),o=h.length;o>1&&t(n[h[o-2]],n[h[o-1]],c)>=0;)o-=1,h.pop();h.push(S)}for(var d=new Array(h.length+y.length-2),w=0,f=0,A=y.length;f<A;++f)d[w++]=y[f];for(var C=h.length-2;C>0;--C)d[w++]=h[C];return d}},6145:function(v,p,r){v.exports=i;var t=r(4110);function i(n,u){u||(u=n,n=window);var f=0,l=0,y=0,h={shift:!1,alt:!1,control:!1,meta:!1},S=!1;function c(T){var k=!1;return"altKey"in T&&(k=k||T.altKey!==h.alt,h.alt=!!T.altKey),"shiftKey"in T&&(k=k||T.shiftKey!==h.shift,h.shift=!!T.shiftKey),"ctrlKey"in T&&(k=k||T.ctrlKey!==h.control,h.control=!!T.ctrlKey),"metaKey"in T&&(k=k||T.metaKey!==h.meta,h.meta=!!T.metaKey),k}function o(T,k){var _=t.x(k),B=t.y(k);"buttons"in k&&(T=k.buttons|0),(T!==f||_!==l||B!==y||c(k))&&(f=T|0,l=_||0,y=B||0,u&&u(f,l,y,h))}function d(T){o(0,T)}function w(){(f||l||y||h.shift||h.alt||h.meta||h.control)&&(l=y=0,f=0,h.shift=h.alt=h.control=h.meta=!1,u&&u(0,0,0,h))}function A(T){c(T)&&u&&u(f,l,y,h)}function C(T){t.buttons(T)===0?o(0,T):o(f,T)}function m(T){o(f|t.buttons(T),T)}function E(T){o(f&~t.buttons(T),T)}function b(){S||(S=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",m),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",w),n.addEventListener("keyup",A),n.addEventListener("keydown",A),n.addEventListener("keypress",A),n!==window&&(window.addEventListener("blur",w),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function s(){S&&(S=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",m),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",w),n.removeEventListener("keyup",A),n.removeEventListener("keydown",A),n.removeEventListener("keypress",A),n!==window&&(window.removeEventListener("blur",w),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}b();var L={element:n};return Object.defineProperties(L,{enabled:{get:function(){return S},set:function(T){T?b():s()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),L}},2565:function(v){var p={left:0,top:0};v.exports=r;function r(i,n,u){n=n||i.currentTarget||i.srcElement,Array.isArray(u)||(u=[0,0]);var f=i.clientX||0,l=i.clientY||0,y=t(n);return u[0]=f-y.left,u[1]=l-y.top,u}function t(i){return i===window||i===document||i===document.body?p:i.getBoundingClientRect()}},4110:function(v,p){function r(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var f=u.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in u){var f=u.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}p.buttons=r;function t(u){return u.target||u.srcElement||window}p.element=t;function i(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var f=t(u),l=f.getBoundingClientRect();return u.clientX-l.left}return 0}p.x=i;function n(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var f=t(u),l=f.getBoundingClientRect();return u.clientY-l.top}return 0}p.y=n},6475:function(v,p,r){var t=r(14);v.exports=i;function i(n,u,f){typeof n=="function"&&(f=!!u,u=n,n=window);var l=t("ex",n),y=function(h){f&&h.preventDefault();var S=h.deltaX||0,c=h.deltaY||0,o=h.deltaZ||0,d=h.deltaMode,w=1;switch(d){case 1:w=l;break;case 2:w=window.innerHeight;break}if(S*=w,c*=w,o*=w,S||c||o)return u(S,c,o,h)};return n.addEventListener("wheel",y),y}},9284:function(v,p,r){var t=r(5306);v.exports=u;var i={"false,0,1":function(l,y,h,S,c){return function(d,w,A,C){var m=d.shape[0]|0,E=d.shape[1]|0,b=d.data,s=d.offset|0,L=d.stride[0]|0,T=d.stride[1]|0,k=s,_,B=-L|0,F=0,O=-T|0,N=0,z=-L-T|0,V=0,W=L|0,$=T-L*m|0,re=0,ne=0,ue=0,J=2*m|0,X=S(J),oe=S(J),Y=0,q=0,se=-1,Q=-1,K=0,le=-m|0,ie=m|0,ce=0,ye=-m-1|0,Ce=m-1|0,Ae=0,ke=0,we=0;for(re=0;re<m;++re)X[Y++]=h(b[k],w,A,C),k+=W;if(k+=$,E>0){if(ne=1,X[Y++]=h(b[k],w,A,C),k+=W,m>0)for(re=1,_=b[k],q=X[Y]=h(_,w,A,C),K=X[Y+se],ce=X[Y+le],Ae=X[Y+ye],(q!==K||q!==ce||q!==Ae)&&(F=b[k+B],N=b[k+O],V=b[k+z],l(re,ne,_,F,N,V,q,K,ce,Ae,w,A,C),ke=oe[Y]=ue++),Y+=1,k+=W,re=2;re<m;++re)_=b[k],q=X[Y]=h(_,w,A,C),K=X[Y+se],ce=X[Y+le],Ae=X[Y+ye],(q!==K||q!==ce||q!==Ae)&&(F=b[k+B],N=b[k+O],V=b[k+z],l(re,ne,_,F,N,V,q,K,ce,Ae,w,A,C),ke=oe[Y]=ue++,Ae!==K&&y(oe[Y+se],ke,V,F,Ae,K,w,A,C)),Y+=1,k+=W;for(k+=$,Y=0,we=se,se=Q,Q=we,we=le,le=ie,ie=we,we=ye,ye=Ce,Ce=we,ne=2;ne<E;++ne){if(X[Y++]=h(b[k],w,A,C),k+=W,m>0)for(re=1,_=b[k],q=X[Y]=h(_,w,A,C),K=X[Y+se],ce=X[Y+le],Ae=X[Y+ye],(q!==K||q!==ce||q!==Ae)&&(F=b[k+B],N=b[k+O],V=b[k+z],l(re,ne,_,F,N,V,q,K,ce,Ae,w,A,C),ke=oe[Y]=ue++,Ae!==ce&&y(oe[Y+le],ke,N,V,ce,Ae,w,A,C)),Y+=1,k+=W,re=2;re<m;++re)_=b[k],q=X[Y]=h(_,w,A,C),K=X[Y+se],ce=X[Y+le],Ae=X[Y+ye],(q!==K||q!==ce||q!==Ae)&&(F=b[k+B],N=b[k+O],V=b[k+z],l(re,ne,_,F,N,V,q,K,ce,Ae,w,A,C),ke=oe[Y]=ue++,Ae!==ce&&y(oe[Y+le],ke,N,V,ce,Ae,w,A,C),Ae!==K&&y(oe[Y+se],ke,V,F,Ae,K,w,A,C)),Y+=1,k+=W;ne&1&&(Y=0),we=se,se=Q,Q=we,we=le,le=ie,ie=we,we=ye,ye=Ce,Ce=we,k+=$}}c(oe),c(X)}},"false,1,0":function(l,y,h,S,c){return function(d,w,A,C){var m=d.shape[0]|0,E=d.shape[1]|0,b=d.data,s=d.offset|0,L=d.stride[0]|0,T=d.stride[1]|0,k=s,_,B=-L|0,F=0,O=-T|0,N=0,z=-L-T|0,V=0,W=T|0,$=L-T*E|0,re=0,ne=0,ue=0,J=2*E|0,X=S(J),oe=S(J),Y=0,q=0,se=-1,Q=-1,K=0,le=-E|0,ie=E|0,ce=0,ye=-E-1|0,Ce=E-1|0,Ae=0,ke=0,we=0;for(ne=0;ne<E;++ne)X[Y++]=h(b[k],w,A,C),k+=W;if(k+=$,m>0){if(re=1,X[Y++]=h(b[k],w,A,C),k+=W,E>0)for(ne=1,_=b[k],q=X[Y]=h(_,w,A,C),ce=X[Y+le],K=X[Y+se],Ae=X[Y+ye],(q!==ce||q!==K||q!==Ae)&&(F=b[k+B],N=b[k+O],V=b[k+z],l(re,ne,_,F,N,V,q,ce,K,Ae,w,A,C),ke=oe[Y]=ue++),Y+=1,k+=W,ne=2;ne<E;++ne)_=b[k],q=X[Y]=h(_,w,A,C),ce=X[Y+le],K=X[Y+se],Ae=X[Y+ye],(q!==ce||q!==K||q!==Ae)&&(F=b[k+B],N=b[k+O],V=b[k+z],l(re,ne,_,F,N,V,q,ce,K,Ae,w,A,C),ke=oe[Y]=ue++,Ae!==K&&y(oe[Y+se],ke,N,V,K,Ae,w,A,C)),Y+=1,k+=W;for(k+=$,Y=0,we=le,le=ie,ie=we,we=se,se=Q,Q=we,we=ye,ye=Ce,Ce=we,re=2;re<m;++re){if(X[Y++]=h(b[k],w,A,C),k+=W,E>0)for(ne=1,_=b[k],q=X[Y]=h(_,w,A,C),ce=X[Y+le],K=X[Y+se],Ae=X[Y+ye],(q!==ce||q!==K||q!==Ae)&&(F=b[k+B],N=b[k+O],V=b[k+z],l(re,ne,_,F,N,V,q,ce,K,Ae,w,A,C),ke=oe[Y]=ue++,Ae!==ce&&y(oe[Y+le],ke,V,F,Ae,ce,w,A,C)),Y+=1,k+=W,ne=2;ne<E;++ne)_=b[k],q=X[Y]=h(_,w,A,C),ce=X[Y+le],K=X[Y+se],Ae=X[Y+ye],(q!==ce||q!==K||q!==Ae)&&(F=b[k+B],N=b[k+O],V=b[k+z],l(re,ne,_,F,N,V,q,ce,K,Ae,w,A,C),ke=oe[Y]=ue++,Ae!==K&&y(oe[Y+se],ke,N,V,K,Ae,w,A,C),Ae!==ce&&y(oe[Y+le],ke,V,F,Ae,ce,w,A,C)),Y+=1,k+=W;re&1&&(Y=0),we=le,le=ie,ie=we,we=se,se=Q,Q=we,we=ye,ye=Ce,Ce=we,k+=$}}c(oe),c(X)}}};function n(f,l,y,h,S,c){var o=[c,S].join(","),d=i[o];return d(f,l,y,t.mallocUint32,t.freeUint32)}function u(f){function l(w){throw new Error("ndarray-extract-contour: "+w)}typeof f!="object"&&l("Must specify arguments");var y=f.order;Array.isArray(y)||l("Must specify order");var h=f.arrayArguments||1;h<1&&l("Must have at least one array argument");var S=f.scalarArguments||0;S<0&&l("Scalar arg count must be > 0"),typeof f.vertex!="function"&&l("Must specify vertex creation function"),typeof f.cell!="function"&&l("Must specify cell creation function"),typeof f.phase!="function"&&l("Must specify phase function");for(var c=f.getters||[],o=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?o[d]=!0:o[d]=!1;return n(f.vertex,f.cell,f.phase,S,y,o)}},9144:function(v,p,r){var t=r(3094),i={zero:function(A,C,m,E){var b=A[0],s=m[0];E|=0;var L=0,T=s;for(L=0;L<b;++L)C[E]=0,E+=T},fdTemplate1:function(A,C,m,E,b,s,L){var T=A[0],k=m[0],_=s[0],B=-1*k,F=k;E|=0,L|=0;var O=0,N=k,z=_;for(O=0;O<T;++O)b[L]=.5*(C[E+B]-C[E+F]),E+=N,L+=z},fdTemplate2:function(A,C,m,E,b,s,L,T,k,_){var B=A[0],F=A[1],O=m[0],N=m[1],z=s[0],V=s[1],W=k[0],$=k[1],re=-1*O,ne=O,ue=-1*N,J=N;E|=0,L|=0,_|=0;var X=0,oe=0,Y=N,q=O-F*N,se=V,Q=z-F*V,K=$,le=W-F*$;for(oe=0;oe<B;++oe){for(X=0;X<F;++X)b[L]=.5*(C[E+re]-C[E+ne]),T[_]=.5*(C[E+ue]-C[E+J]),E+=Y,L+=se,_+=K;E+=q,L+=Q,_+=le}}},n={cdiff:function(A){var C={};return function(E,b,s){var L=E.dtype,T=E.order,k=b.dtype,_=b.order,B=s.dtype,F=s.order,O=[L,T.join(),k,_.join(),B,F.join()].join(),N=C[O];return N||(C[O]=N=A([L,T,k,_,B,F])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0,s.data,s.stride,s.offset|0)}},zero:function(A){var C={};return function(E){var b=E.dtype,s=E.order,L=[b,s.join()].join(),T=C[L];return T||(C[L]=T=A([b,s])),T(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(A){var C={};return function(E,b){var s=E.dtype,L=E.order,T=b.dtype,k=b.order,_=[s,L.join(),T,k.join()].join(),B=C[_];return B||(C[_]=B=A([s,L,T,k])),B(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0)}},fdTemplate2:function(A){var C={};return function(E,b,s){var L=E.dtype,T=E.order,k=b.dtype,_=b.order,B=s.dtype,F=s.order,O=[L,T.join(),k,_.join(),B,F.join()].join(),N=C[O];return N||(C[O]=N=A([L,T,k,_,B,F])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0,s.data,s.stride,s.offset|0)}}};function u(A){var C=n[A.funcName];return C(f.bind(void 0,A))}function f(A){return i[A.funcName]}function l(A){return u({funcName:A.funcName})}var y={},h={},S=l({funcName:"cdiff"}),c=l({funcName:"zero"});function o(A){return A in y?y[A]:y[A]=l({funcName:"fdTemplate"+A})}function d(A,C,m,E){return function(b,s){var L=s.shape.slice();return L[0]>2&&L[1]>2&&E(s.pick(-1,-1).lo(1,1).hi(L[0]-2,L[1]-2),b.pick(-1,-1,0).lo(1,1).hi(L[0]-2,L[1]-2),b.pick(-1,-1,1).lo(1,1).hi(L[0]-2,L[1]-2)),L[1]>2&&(m(s.pick(0,-1).lo(1).hi(L[1]-2),b.pick(0,-1,1).lo(1).hi(L[1]-2)),C(b.pick(0,-1,0).lo(1).hi(L[1]-2))),L[1]>2&&(m(s.pick(L[0]-1,-1).lo(1).hi(L[1]-2),b.pick(L[0]-1,-1,1).lo(1).hi(L[1]-2)),C(b.pick(L[0]-1,-1,0).lo(1).hi(L[1]-2))),L[0]>2&&(m(s.pick(-1,0).lo(1).hi(L[0]-2),b.pick(-1,0,0).lo(1).hi(L[0]-2)),C(b.pick(-1,0,1).lo(1).hi(L[0]-2))),L[0]>2&&(m(s.pick(-1,L[1]-1).lo(1).hi(L[0]-2),b.pick(-1,L[1]-1,0).lo(1).hi(L[0]-2)),C(b.pick(-1,L[1]-1,1).lo(1).hi(L[0]-2))),b.set(0,0,0,0),b.set(0,0,1,0),b.set(L[0]-1,0,0,0),b.set(L[0]-1,0,1,0),b.set(0,L[1]-1,0,0),b.set(0,L[1]-1,1,0),b.set(L[0]-1,L[1]-1,0,0),b.set(L[0]-1,L[1]-1,1,0),b}}function w(A){var C=A.join(),L=h[C];if(L)return L;for(var m=A.length,E=[S,c],b=1;b<=m;++b)E.push(o(b));var s=d,L=s.apply(void 0,E);return h[C]=L,L}v.exports=function(C,m,E){if(Array.isArray(E)||(typeof E=="string"?E=t(m.dimension,E):E=t(m.dimension,"clamp")),m.size===0)return C;if(m.dimension===0)return C.set(0),C;var b=w(E);return b(C,m)}},3581:function(v){function p(u,f){var l=Math.floor(f),y=f-l,h=0<=l&&l<u.shape[0],S=0<=l+1&&l+1<u.shape[0],c=h?+u.get(l):0,o=S?+u.get(l+1):0;return(1-y)*c+y*o}function r(u,f,l){var y=Math.floor(f),h=f-y,S=0<=y&&y<u.shape[0],c=0<=y+1&&y+1<u.shape[0],o=Math.floor(l),d=l-o,w=0<=o&&o<u.shape[1],A=0<=o+1&&o+1<u.shape[1],C=S&&w?u.get(y,o):0,m=S&&A?u.get(y,o+1):0,E=c&&w?u.get(y+1,o):0,b=c&&A?u.get(y+1,o+1):0;return(1-d)*((1-h)*C+h*E)+d*((1-h)*m+h*b)}function t(u,f,l,y){var h=Math.floor(f),S=f-h,c=0<=h&&h<u.shape[0],o=0<=h+1&&h+1<u.shape[0],d=Math.floor(l),w=l-d,A=0<=d&&d<u.shape[1],C=0<=d+1&&d+1<u.shape[1],m=Math.floor(y),E=y-m,b=0<=m&&m<u.shape[2],s=0<=m+1&&m+1<u.shape[2],L=c&&A&&b?u.get(h,d,m):0,T=c&&C&&b?u.get(h,d+1,m):0,k=o&&A&&b?u.get(h+1,d,m):0,_=o&&C&&b?u.get(h+1,d+1,m):0,B=c&&A&&s?u.get(h,d,m+1):0,F=c&&C&&s?u.get(h,d+1,m+1):0,O=o&&A&&s?u.get(h+1,d,m+1):0,N=o&&C&&s?u.get(h+1,d+1,m+1):0;return(1-E)*((1-w)*((1-S)*L+S*k)+w*((1-S)*T+S*_))+E*((1-w)*((1-S)*B+S*O)+w*((1-S)*F+S*N))}function i(u){var f=u.shape.length|0,l=new Array(f),y=new Array(f),h=new Array(f),S=new Array(f),c,o;for(c=0;c<f;++c)o=+arguments[c+1],l[c]=Math.floor(o),y[c]=o-l[c],h[c]=0<=l[c]&&l[c]<u.shape[c],S[c]=0<=l[c]+1&&l[c]+1<u.shape[c];var d=0,w,A,C;e:for(c=0;c<1<<f;++c){for(A=1,C=u.offset,w=0;w<f;++w)if(c&1<<w){if(!S[w])continue e;A*=y[w],C+=u.stride[w]*(l[w]+1)}else{if(!h[w])continue e;A*=1-y[w],C+=u.stride[w]*l[w]}d+=A*u.data[C]}return d}function n(u,f,l,y){switch(u.shape.length){case 0:return 0;case 1:return p(u,f);case 2:return r(u,f,l);case 3:return t(u,f,l,y);default:return i.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},7498:function(v,p){var r={"float64,2,1,0":function(){return function(h,S,c,o,d){var w=h[0],A=h[1],C=h[2],m=c[0],E=c[1],b=c[2];o|=0;var s=0,L=0,T=0,k=b,_=E-C*b,B=m-A*E;for(T=0;T<w;++T){for(L=0;L<A;++L){for(s=0;s<C;++s)S[o]/=d,o+=k;o+=_}o+=B}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,S,c,o,d,w,A,C){var m=h[0],E=h[1],b=h[2],s=c[0],L=c[1],T=c[2],k=w[0],_=w[1],B=w[2];o|=0,A|=0;for(var F=o,O=A,N=h[0]|0;N>0;){N<64?(m=N,N=0):(m=64,N-=64);for(var z=h[1]|0;z>0;){z<64?(E=z,z=0):(E=64,z-=64),o=F+N*s+z*L,A=O+N*k+z*_;var V=0,W=0,$=0,re=T,ne=s-b*T,ue=L-m*s,J=B,X=k-b*B,oe=_-m*k;for($=0;$<E;++$){for(W=0;W<m;++W){for(V=0;V<b;++V)S[o]=d[A]*C,o+=re,A+=J;o+=ne,A+=X}o+=ue,A+=oe}}}}},"float32,1,0,float32,1,0":function(){return function(h,S,c,o,d,w,A){var C=h[0],m=h[1],E=c[0],b=c[1],s=w[0],L=w[1];o|=0,A|=0;var T=0,k=0,_=b,B=E-m*b,F=L,O=s-m*L;for(k=0;k<C;++k){for(T=0;T<m;++T)S[o]=d[A],o+=_,A+=F;o+=B,A+=O}}},"float32,1,0,float32,0,1":function(){return function(h,S,c,o,d,w,A){var C=h[0],m=h[1],E=c[0],b=c[1],s=w[0],L=w[1];o|=0,A|=0;for(var T=o,k=A,_=h[1]|0;_>0;){_<64?(m=_,_=0):(m=64,_-=64);for(var B=h[0]|0;B>0;){B<64?(C=B,B=0):(C=64,B-=64),o=T+_*b+B*E,A=k+_*L+B*s;var F=0,O=0,N=b,z=E-m*b,V=L,W=s-m*L;for(O=0;O<C;++O){for(F=0;F<m;++F)S[o]=d[A],o+=N,A+=V;o+=z,A+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,S,c,o,d,w,A){var C=h[0],m=h[1],E=h[2],b=c[0],s=c[1],L=c[2],T=w[0],k=w[1],_=w[2];o|=0,A|=0;for(var B=o,F=A,O=h[2]|0;O>0;){O<64?(E=O,O=0):(E=64,O-=64);for(var N=h[0]|0;N>0;){N<64?(C=N,N=0):(C=64,N-=64);for(var z=h[1]|0;z>0;){z<64?(m=z,z=0):(m=64,z-=64),o=B+O*L+N*b+z*s,A=F+O*_+N*T+z*k;var V=0,W=0,$=0,re=L,ne=b-E*L,ue=s-C*b,J=_,X=T-E*_,oe=k-C*T;for($=0;$<m;++$){for(W=0;W<C;++W){for(V=0;V<E;++V)S[o]=d[A],o+=re,A+=J;o+=ne,A+=X}o+=ue,A+=oe}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,S,c,o,d,w,A){var C=h[0],m=h[1],E=h[2],b=c[0],s=c[1],L=c[2],T=w[0],k=w[1],_=w[2];o|=0,A|=0;var B=0,F=0,O=0,N=L,z=b-E*L,V=s-C*b,W=_,$=T-E*_,re=k-C*T;for(O=0;O<m;++O){for(F=0;F<C;++F){for(B=0;B<E;++B)S[o]=d[A],o+=N,A+=W;o+=z,A+=$}o+=V,A+=re}}}};function t(y,h){var S=h.join(","),c=r[S];return c()}var i=t,n={mul:function(y){var h={};return function(c,o,d){var w=c.dtype,A=c.order,C=o.dtype,m=o.order,E=d.dtype,b=d.order,s=[w,A.join(),C,m.join(),E,b.join()].join(),L=h[s];return L||(h[s]=L=y([w,A,C,m,E,b])),L(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},muls:function(y){var h={};return function(c,o,d){var w=c.dtype,A=c.order,C=o.dtype,m=o.order,E=[w,A.join(),C,m.join()].join(),b=h[E];return b||(h[E]=b=y([w,A,C,m])),b(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d)}},mulseq:function(y){var h={};return function(c,o){var d=c.dtype,w=c.order,A=[d,w.join()].join(),C=h[A];return C||(h[A]=C=y([d,w])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},div:function(y){var h={};return function(c,o,d){var w=c.dtype,A=c.order,C=o.dtype,m=o.order,E=d.dtype,b=d.order,s=[w,A.join(),C,m.join(),E,b.join()].join(),L=h[s];return L||(h[s]=L=y([w,A,C,m,E,b])),L(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},divs:function(y){var h={};return function(c,o,d){var w=c.dtype,A=c.order,C=o.dtype,m=o.order,E=[w,A.join(),C,m.join()].join(),b=h[E];return b||(h[E]=b=y([w,A,C,m])),b(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d)}},divseq:function(y){var h={};return function(c,o){var d=c.dtype,w=c.order,A=[d,w.join()].join(),C=h[A];return C||(h[A]=C=y([d,w])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},assign:function(y){var h={};return function(c,o){var d=c.dtype,w=c.order,A=o.dtype,C=o.order,m=[d,w.join(),A,C.join()].join(),E=h[m];return E||(h[m]=E=y([d,w,A,C])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0)}}};function u(y){var h=n[y.funcName];return h(i.bind(void 0,y))}function f(y){return u({funcName:y.funcName})}var l={mul:"*",div:"/"};(function(){for(var y in l)p[y]=f({funcName:y}),p[y+"s"]=f({funcName:y+"s"}),p[y+"seq"]=f({funcName:y+"seq"})})(),p.assign=f({funcName:"assign"})},7382:function(v,p,r){var t=r(5050),i=r(9262);v.exports=function(u,f){for(var l=[],y=u,h=1;Array.isArray(y);)l.push(y.length),h*=y.length,y=y[0];return l.length===0?t():(f||(f=t(new Float64Array(h),l)),i(f,u),f)}},9262:function(v){function p(){return function(f,l,y,h,S){var c=f[0],o=f[1],d=f[2],w=y[0],A=y[1],C=y[2],m=[0,0,0];h|=0;var E=0,b=0,s=0,L=C,T=A-d*C,k=w-o*A;for(s=0;s<c;++s){for(b=0;b<o;++b){for(E=0;E<d;++E){{var _=S,B;for(B=0;B<m.length-1;++B)_=_[m[B]];l[h]=_[m[m.length-1]]}h+=L,++m[2]}h+=T,m[2]-=d,++m[1]}h+=k,m[1]-=o,++m[0]}}}function r(){return p()}var t=r;function i(f){var l={};return function(h,S){var c=h.dtype,o=h.order,d=[c,o.join()].join(),w=l[d];return w||(l[d]=w=f([c,o])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,S)}}function n(f){return i(t.bind(void 0,f))}function u(f){return n({funcName:f.funcName})}v.exports=u({funcName:"convert"})},8139:function(v,p,r){var t=r(5306);function i(S){switch(S){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(S,c){return function(d,w,A,C,m,E,b,s,L,T,k){var _,B,F,O=d*m+C,N,z=S(s),V,W,$,re;for(_=d+1;_<=w;++_){for(B=_,O+=m,F=O,V=0,W=O,N=0;N<s;++N)z[V++]=A[W],W+=L;e:for(;B-- >d;){V=0,W=F-m;t:for(N=0;N<s;++N){if($=A[W],re=z[V],$<re)break e;if($>re)break t;W+=T,V+=k}for(V=F,W=F-m,N=0;N<s;++N)A[V]=A[W],V+=L,W+=L;F-=m}for(V=F,W=0,N=0;N<s;++N)A[V]=z[W++],V+=L}c(z)}}};function u(S,c){var o=i(c),d=[c,S].join(","),w=n[d];return o?w(o[0],o[1]):w()}var f={"uint32,1,0":function(S,c,o){return function d(w,A,C,m,E,b,s,L,T,k,_){var B=(A-w+1)/6|0,F=w+B,O=A-B,N=w+A>>1,z=N-B,V=N+B,W=F,$=z,re=N,ne=V,ue=O,J=w+1,X=A-1,oe=!0,Y,q,se,Q,K,le,ie,ce,ye,Ce=0,Ae=0,ke=0,we,Ee,xe,Pe,Ue,Be,Ne,Xe,ut,dt,at,We,rt,st,ht,vt,At=L,et=c(At),_e=c(At);Ee=E*W,xe=E*$,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=W,W=$,$=q;break e}if(ke<0)break e;vt+=k}Ee=E*ne,xe=E*ue,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=ne,ne=ue,ue=q;break e}if(ke<0)break e;vt+=k}Ee=E*W,xe=E*re,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=W,W=re,re=q;break e}if(ke<0)break e;vt+=k}Ee=E*$,xe=E*re,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=$,$=re,re=q;break e}if(ke<0)break e;vt+=k}Ee=E*W,xe=E*ne,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=W,W=ne,ne=q;break e}if(ke<0)break e;vt+=k}Ee=E*re,xe=E*ne,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=re,re=ne,ne=q;break e}if(ke<0)break e;vt+=k}Ee=E*$,xe=E*ue,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=$,$=ue,ue=q;break e}if(ke<0)break e;vt+=k}Ee=E*$,xe=E*re,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=$,$=re,re=q;break e}if(ke<0)break e;vt+=k}Ee=E*ne,xe=E*ue,vt=m;e:for(we=0;we<L;++we){if(ie=Ee+vt,ce=xe+vt,ke=C[ie]-C[ce],ke>0){q=ne,ne=ue,ue=q;break e}if(ke<0)break e;vt+=k}for(Ee=E*W,xe=E*$,Pe=E*re,Ue=E*ne,Be=E*ue,Ne=E*F,Xe=E*N,ut=E*O,ht=0,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,ye=Pe+vt,dt=Ue+vt,at=Be+vt,We=Ne+vt,rt=Xe+vt,st=ut+vt,et[ht]=C[ce],_e[ht]=C[dt],oe=oe&&et[ht]===_e[ht],se=C[ie],Q=C[ye],K=C[at],C[We]=se,C[rt]=Q,C[st]=K,++ht,vt+=T;for(Ee=E*z,xe=E*w,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,C[ie]=C[ce],vt+=T;for(Ee=E*V,xe=E*A,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,C[ie]=C[ce],vt+=T;if(oe)for(le=J;le<=X;++le){ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-et[ht],ke!==0)break e;ht+=_,ie+=k}if(ke!==0)if(ke<0){if(le!==J)for(Ee=E*le,xe=E*J,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=Y,vt+=T;++J}else for(;;){ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-et[ht],ke!==0)break e;ht+=_,ie+=k}if(ke>0)X--;else if(ke<0){for(Ee=E*le,xe=E*J,Pe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,ye=Pe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=C[ye],C[ye]=Y,vt+=T;++J,--X;break}else{for(Ee=E*le,xe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=Y,vt+=T;--X;break}}}else for(le=J;le<=X;++le){ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(Ce=C[ie]-et[ht],Ce!==0)break e;ht+=_,ie+=k}if(Ce<0){if(le!==J)for(Ee=E*le,xe=E*J,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=Y,vt+=T;++J}else{ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(Ae=C[ie]-_e[ht],Ae!==0)break e;ht+=_,ie+=k}if(Ae>0)for(;;){ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-_e[ht],ke!==0)break e;ht+=_,ie+=k}if(ke>0){if(--X<le)break;continue}else{ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-et[ht],ke!==0)break e;ht+=_,ie+=k}if(ke<0){for(Ee=E*le,xe=E*J,Pe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,ye=Pe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=C[ye],C[ye]=Y,vt+=T;++J,--X}else{for(Ee=E*le,xe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=Y,vt+=T;--X}break}}}}for(Ee=E*w,xe=E*(J-1),ht=0,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,C[ie]=C[ce],C[ce]=et[ht],++ht,vt+=T;for(Ee=E*A,xe=E*(X+1),ht=0,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,C[ie]=C[ce],C[ce]=_e[ht],++ht,vt+=T;if(J-2-w<=32?S(w,J-2,C,m,E,b,s,L,T,k,_):d(w,J-2,C,m,E,b,s,L,T,k,_),A-(X+2)<=32?S(X+2,A,C,m,E,b,s,L,T,k,_):d(X+2,A,C,m,E,b,s,L,T,k,_),oe){o(et),o(_e);return}if(J<F&&X>O){e:for(;;){for(ie=m+J*E,ht=0,vt=m,we=0;we<L;++we){if(C[ie]!==et[ht])break e;++ht,ie+=T}++J}e:for(;;){for(ie=m+X*E,ht=0,vt=m,we=0;we<L;++we){if(C[ie]!==_e[ht])break e;++ht,ie+=T}--X}for(le=J;le<=X;++le){ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(Ce=C[ie]-et[ht],Ce!==0)break e;ht+=_,ie+=k}if(Ce===0){if(le!==J)for(Ee=E*le,xe=E*J,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=Y,vt+=T;++J}else{ie=m+le*E,ht=0;e:for(we=0;we<L;++we){if(Ae=C[ie]-_e[ht],Ae!==0)break e;ht+=_,ie+=k}if(Ae===0)for(;;){ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-_e[ht],ke!==0)break e;ht+=_,ie+=k}if(ke===0){if(--X<le)break;continue}else{ie=m+X*E,ht=0;e:for(we=0;we<L;++we){if(ke=C[ie]-et[ht],ke!==0)break e;ht+=_,ie+=k}if(ke<0){for(Ee=E*le,xe=E*J,Pe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,ye=Pe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=C[ye],C[ye]=Y,vt+=T;++J,--X}else{for(Ee=E*le,xe=E*X,vt=m,we=0;we<L;++we)ie=Ee+vt,ce=xe+vt,Y=C[ie],C[ie]=C[ce],C[ce]=Y,vt+=T;--X}break}}}}}o(et),o(_e),X-J<=32?S(J,X,C,m,E,b,s,L,T,k,_):d(J,X,C,m,E,b,s,L,T,k,_)}}};function l(S,c,o){var d=i(c),w=[c,S].join(","),A=f[w];return S.length>1&&d?A(o,d[0],d[1]):A(o)}var y={"uint32,1,0":function(S,c){return function(o){var d=o.data,w=o.offset|0,A=o.shape,C=o.stride,m=C[0]|0,E=A[0]|0,b=C[1]|0,s=A[1]|0,L=b,T=b,k=1;E<=32?S(0,E-1,d,w,m,b,E,s,L,T,k):c(0,E-1,d,w,m,b,E,s,L,T,k)}}};function h(S,c){var o=[c,S].join(","),d=y[o],w=u(S,c),A=l(S,c,w);return d(w,A)}v.exports=h},8729:function(v,p,r){var t=r(8139),i={};function n(u){var f=u.order,l=u.dtype,y=[f,l],h=y.join(":"),S=i[h];return S||(i[h]=S=t(f,l)),S(u),u}v.exports=n},5050:function(v,p,r){var t=r(4780),i=typeof Float64Array<"u";function n(c,o){return c[0]-o[0]}function u(){var c=this.stride,o=new Array(c.length),d;for(d=0;d<o.length;++d)o[d]=[Math.abs(c[d]),d];o.sort(n);var w=new Array(o.length);for(d=0;d<w.length;++d)w[d]=o[d][1];return w}var f={T:function(c){function o(w){this.data=w}var d=o.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new o(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(A){return new o(A)}},0:function(c,o){function d(A,C){this.data=A,this.offset=C}var w=d.prototype;return w.dtype=c,w.index=function(){return this.offset},w.dimension=0,w.size=1,w.shape=w.stride=w.order=[],w.lo=w.hi=w.transpose=w.step=function(){return new d(this.data,this.offset)},w.pick=function(){return o(this.data)},w.valueOf=w.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},w.set=function(C){return c==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,m,E,b){return new d(C,b)}},1:function(c,o,d){function w(C,m,E,b){this.data=C,this.shape=[m],this.stride=[E],this.offset=b|0}var A=w.prototype;return A.dtype=c,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(m,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*m,E):this.data[this.offset+this.stride[0]*m]=E},A.get=function(m){return c==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},A.index=function(m){return this.offset+this.stride[0]*m},A.hi=function(m){return new w(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},A.lo=function(m){var E=this.offset,b=0,s=this.shape[0],L=this.stride[0];return typeof m=="number"&&m>=0&&(b=m|0,E+=L*b,s-=b),new w(this.data,s,L,E)},A.step=function(m){var E=this.shape[0],b=this.stride[0],s=this.offset,L=0,T=Math.ceil;return typeof m=="number"&&(L=m|0,L<0?(s+=b*(E-1),E=T(-E/L)):E=T(E/L),b*=L),new w(this.data,E,b,s)},A.transpose=function(m){m=m===void 0?0:m|0;var E=this.shape,b=this.stride;return new w(this.data,E[m],b[m],this.offset)},A.pick=function(m){var E=[],b=[],s=this.offset;typeof m=="number"&&m>=0?s=s+this.stride[0]*m|0:(E.push(this.shape[0]),b.push(this.stride[0]));var L=o[E.length+1];return L(this.data,E,b,s)},function(m,E,b,s){return new w(m,E[0],b[0],s)}},2:function(c,o,d){function w(C,m,E,b,s,L){this.data=C,this.shape=[m,E],this.stride=[b,s],this.offset=L|0}var A=w.prototype;return A.dtype=c,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(m,E,b){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E,b):this.data[this.offset+this.stride[0]*m+this.stride[1]*E]=b},A.get=function(m,E){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E):this.data[this.offset+this.stride[0]*m+this.stride[1]*E]},A.index=function(m,E){return this.offset+this.stride[0]*m+this.stride[1]*E},A.hi=function(m,E){return new w(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(m,E){var b=this.offset,s=0,L=this.shape[0],T=this.shape[1],k=this.stride[0],_=this.stride[1];return typeof m=="number"&&m>=0&&(s=m|0,b+=k*s,L-=s),typeof E=="number"&&E>=0&&(s=E|0,b+=_*s,T-=s),new w(this.data,L,T,k,_,b)},A.step=function(m,E){var b=this.shape[0],s=this.shape[1],L=this.stride[0],T=this.stride[1],k=this.offset,_=0,B=Math.ceil;return typeof m=="number"&&(_=m|0,_<0?(k+=L*(b-1),b=B(-b/_)):b=B(b/_),L*=_),typeof E=="number"&&(_=E|0,_<0?(k+=T*(s-1),s=B(-s/_)):s=B(s/_),T*=_),new w(this.data,b,s,L,T,k)},A.transpose=function(m,E){m=m===void 0?0:m|0,E=E===void 0?1:E|0;var b=this.shape,s=this.stride;return new w(this.data,b[m],b[E],s[m],s[E],this.offset)},A.pick=function(m,E){var b=[],s=[],L=this.offset;typeof m=="number"&&m>=0?L=L+this.stride[0]*m|0:(b.push(this.shape[0]),s.push(this.stride[0])),typeof E=="number"&&E>=0?L=L+this.stride[1]*E|0:(b.push(this.shape[1]),s.push(this.stride[1]));var T=o[b.length+1];return T(this.data,b,s,L)},function(m,E,b,s){return new w(m,E[0],E[1],b[0],b[1],s)}},3:function(c,o,d){function w(C,m,E,b,s,L,T,k){this.data=C,this.shape=[m,E,b],this.stride=[s,L,T],this.offset=k|0}var A=w.prototype;return A.dtype=c,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var m=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),b=Math.abs(this.stride[2]);return m>E?E>b?[2,1,0]:m>b?[1,2,0]:[1,0,2]:m>b?[2,0,1]:b>E?[0,1,2]:[0,2,1]}}),A.set=function(m,E,b,s){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b,s):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b]=s},A.get=function(m,E,b){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b]},A.index=function(m,E,b){return this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b},A.hi=function(m,E,b){return new w(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof b!="number"||b<0?this.shape[2]:b|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(m,E,b){var s=this.offset,L=0,T=this.shape[0],k=this.shape[1],_=this.shape[2],B=this.stride[0],F=this.stride[1],O=this.stride[2];return typeof m=="number"&&m>=0&&(L=m|0,s+=B*L,T-=L),typeof E=="number"&&E>=0&&(L=E|0,s+=F*L,k-=L),typeof b=="number"&&b>=0&&(L=b|0,s+=O*L,_-=L),new w(this.data,T,k,_,B,F,O,s)},A.step=function(m,E,b){var s=this.shape[0],L=this.shape[1],T=this.shape[2],k=this.stride[0],_=this.stride[1],B=this.stride[2],F=this.offset,O=0,N=Math.ceil;return typeof m=="number"&&(O=m|0,O<0?(F+=k*(s-1),s=N(-s/O)):s=N(s/O),k*=O),typeof E=="number"&&(O=E|0,O<0?(F+=_*(L-1),L=N(-L/O)):L=N(L/O),_*=O),typeof b=="number"&&(O=b|0,O<0?(F+=B*(T-1),T=N(-T/O)):T=N(T/O),B*=O),new w(this.data,s,L,T,k,_,B,F)},A.transpose=function(m,E,b){m=m===void 0?0:m|0,E=E===void 0?1:E|0,b=b===void 0?2:b|0;var s=this.shape,L=this.stride;return new w(this.data,s[m],s[E],s[b],L[m],L[E],L[b],this.offset)},A.pick=function(m,E,b){var s=[],L=[],T=this.offset;typeof m=="number"&&m>=0?T=T+this.stride[0]*m|0:(s.push(this.shape[0]),L.push(this.stride[0])),typeof E=="number"&&E>=0?T=T+this.stride[1]*E|0:(s.push(this.shape[1]),L.push(this.stride[1])),typeof b=="number"&&b>=0?T=T+this.stride[2]*b|0:(s.push(this.shape[2]),L.push(this.stride[2]));var k=o[s.length+1];return k(this.data,s,L,T)},function(m,E,b,s){return new w(m,E[0],E[1],E[2],b[0],b[1],b[2],s)}},4:function(c,o,d){function w(C,m,E,b,s,L,T,k,_,B){this.data=C,this.shape=[m,E,b,s],this.stride=[L,T,k,_],this.offset=B|0}var A=w.prototype;return A.dtype=c,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:d}),A.set=function(m,E,b,s,L){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s,L):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s]=L},A.get=function(m,E,b,s){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s]},A.index=function(m,E,b,s){return this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*b+this.stride[3]*s},A.hi=function(m,E,b,s){return new w(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof b!="number"||b<0?this.shape[2]:b|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(m,E,b,s){var L=this.offset,T=0,k=this.shape[0],_=this.shape[1],B=this.shape[2],F=this.shape[3],O=this.stride[0],N=this.stride[1],z=this.stride[2],V=this.stride[3];return typeof m=="number"&&m>=0&&(T=m|0,L+=O*T,k-=T),typeof E=="number"&&E>=0&&(T=E|0,L+=N*T,_-=T),typeof b=="number"&&b>=0&&(T=b|0,L+=z*T,B-=T),typeof s=="number"&&s>=0&&(T=s|0,L+=V*T,F-=T),new w(this.data,k,_,B,F,O,N,z,V,L)},A.step=function(m,E,b,s){var L=this.shape[0],T=this.shape[1],k=this.shape[2],_=this.shape[3],B=this.stride[0],F=this.stride[1],O=this.stride[2],N=this.stride[3],z=this.offset,V=0,W=Math.ceil;return typeof m=="number"&&(V=m|0,V<0?(z+=B*(L-1),L=W(-L/V)):L=W(L/V),B*=V),typeof E=="number"&&(V=E|0,V<0?(z+=F*(T-1),T=W(-T/V)):T=W(T/V),F*=V),typeof b=="number"&&(V=b|0,V<0?(z+=O*(k-1),k=W(-k/V)):k=W(k/V),O*=V),typeof s=="number"&&(V=s|0,V<0?(z+=N*(_-1),_=W(-_/V)):_=W(_/V),N*=V),new w(this.data,L,T,k,_,B,F,O,N,z)},A.transpose=function(m,E,b,s){m=m===void 0?0:m|0,E=E===void 0?1:E|0,b=b===void 0?2:b|0,s=s===void 0?3:s|0;var L=this.shape,T=this.stride;return new w(this.data,L[m],L[E],L[b],L[s],T[m],T[E],T[b],T[s],this.offset)},A.pick=function(m,E,b,s){var L=[],T=[],k=this.offset;typeof m=="number"&&m>=0?k=k+this.stride[0]*m|0:(L.push(this.shape[0]),T.push(this.stride[0])),typeof E=="number"&&E>=0?k=k+this.stride[1]*E|0:(L.push(this.shape[1]),T.push(this.stride[1])),typeof b=="number"&&b>=0?k=k+this.stride[2]*b|0:(L.push(this.shape[2]),T.push(this.stride[2])),typeof s=="number"&&s>=0?k=k+this.stride[3]*s|0:(L.push(this.shape[3]),T.push(this.stride[3]));var _=o[L.length+1];return _(this.data,L,T,k)},function(m,E,b,s){return new w(m,E[0],E[1],E[2],E[3],b[0],b[1],b[2],b[3],s)}},5:function(o,d,w){function A(m,E,b,s,L,T,k,_,B,F,O,N){this.data=m,this.shape=[E,b,s,L,T],this.stride=[k,_,B,F,O],this.offset=N|0}var C=A.prototype;return C.dtype=o,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:w}),C.set=function(E,b,s,L,T,k){return o==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*T,k):this.data[this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*T]=k},C.get=function(E,b,s,L,T){return o==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*T):this.data[this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*T]},C.index=function(E,b,s,L,T){return this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*s+this.stride[3]*L+this.stride[4]*T},C.hi=function(E,b,s,L,T){return new A(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof b!="number"||b<0?this.shape[1]:b|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof L!="number"||L<0?this.shape[3]:L|0,typeof T!="number"||T<0?this.shape[4]:T|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(E,b,s,L,T){var k=this.offset,_=0,B=this.shape[0],F=this.shape[1],O=this.shape[2],N=this.shape[3],z=this.shape[4],V=this.stride[0],W=this.stride[1],$=this.stride[2],re=this.stride[3],ne=this.stride[4];return typeof E=="number"&&E>=0&&(_=E|0,k+=V*_,B-=_),typeof b=="number"&&b>=0&&(_=b|0,k+=W*_,F-=_),typeof s=="number"&&s>=0&&(_=s|0,k+=$*_,O-=_),typeof L=="number"&&L>=0&&(_=L|0,k+=re*_,N-=_),typeof T=="number"&&T>=0&&(_=T|0,k+=ne*_,z-=_),new A(this.data,B,F,O,N,z,V,W,$,re,ne,k)},C.step=function(E,b,s,L,T){var k=this.shape[0],_=this.shape[1],B=this.shape[2],F=this.shape[3],O=this.shape[4],N=this.stride[0],z=this.stride[1],V=this.stride[2],W=this.stride[3],$=this.stride[4],re=this.offset,ne=0,ue=Math.ceil;return typeof E=="number"&&(ne=E|0,ne<0?(re+=N*(k-1),k=ue(-k/ne)):k=ue(k/ne),N*=ne),typeof b=="number"&&(ne=b|0,ne<0?(re+=z*(_-1),_=ue(-_/ne)):_=ue(_/ne),z*=ne),typeof s=="number"&&(ne=s|0,ne<0?(re+=V*(B-1),B=ue(-B/ne)):B=ue(B/ne),V*=ne),typeof L=="number"&&(ne=L|0,ne<0?(re+=W*(F-1),F=ue(-F/ne)):F=ue(F/ne),W*=ne),typeof T=="number"&&(ne=T|0,ne<0?(re+=$*(O-1),O=ue(-O/ne)):O=ue(O/ne),$*=ne),new A(this.data,k,_,B,F,O,N,z,V,W,$,re)},C.transpose=function(E,b,s,L,T){E=E===void 0?0:E|0,b=b===void 0?1:b|0,s=s===void 0?2:s|0,L=L===void 0?3:L|0,T=T===void 0?4:T|0;var k=this.shape,_=this.stride;return new A(this.data,k[E],k[b],k[s],k[L],k[T],_[E],_[b],_[s],_[L],_[T],this.offset)},C.pick=function(E,b,s,L,T){var k=[],_=[],B=this.offset;typeof E=="number"&&E>=0?B=B+this.stride[0]*E|0:(k.push(this.shape[0]),_.push(this.stride[0])),typeof b=="number"&&b>=0?B=B+this.stride[1]*b|0:(k.push(this.shape[1]),_.push(this.stride[1])),typeof s=="number"&&s>=0?B=B+this.stride[2]*s|0:(k.push(this.shape[2]),_.push(this.stride[2])),typeof L=="number"&&L>=0?B=B+this.stride[3]*L|0:(k.push(this.shape[3]),_.push(this.stride[3])),typeof T=="number"&&T>=0?B=B+this.stride[4]*T|0:(k.push(this.shape[4]),_.push(this.stride[4]));var F=d[k.length+1];return F(this.data,k,_,B)},function(E,b,s,L){return new A(E,b[0],b[1],b[2],b[3],b[4],s[0],s[1],s[2],s[3],s[4],L)}}};function l(c,o){var d=o===-1?"T":String(o),w=f[d];return o===-1?w(c):o===0?w(c,h[c][0]):w(c,h[c],u)}function y(c){if(t(c))return"buffer";if(i)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function S(c,o,d,w){if(c===void 0){var s=h.array[0];return s([])}else typeof c=="number"&&(c=[c]);o===void 0&&(o=[c.length]);var A=o.length;if(d===void 0){d=new Array(A);for(var C=A-1,m=1;C>=0;--C)d[C]=m,m*=o[C]}if(w===void 0){w=0;for(var C=0;C<A;++C)d[C]<0&&(w-=(o[C]-1)*d[C])}for(var E=y(c),b=h[E];b.length<=A+1;)b.push(l(E,b.length-1));var s=b[A+1];return s(c,o,d,w)}v.exports=S},8551:function(v,p,r){var t=r(8362),i=Math.pow(2,-1074),n=-1>>>0;v.exports=u;function u(f,l){if(isNaN(f)||isNaN(l))return NaN;if(f===l)return f;if(f===0)return l<0?-i:i;var y=t.hi(f),h=t.lo(f);return l>f==f>0?h===n?(y+=1,h=0):h+=1:h===0?(h=n,y-=1):h-=1,t.pack(h,y)}},115:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(i,n,u){for(var f=n.length,l=new Array(f),y=u===void 0?r:u,h=0;h<f;++h)l[h]=[0,0,0];for(var h=0;h<i.length;++h)for(var S=i[h],c=0,o=S[S.length-1],d=S[0],w=0;w<S.length;++w){c=o,o=d,d=S[(w+1)%S.length];for(var A=n[c],C=n[o],m=n[d],E=new Array(3),b=0,s=new Array(3),L=0,T=0;T<3;++T)E[T]=A[T]-C[T],b+=E[T]*E[T],s[T]=m[T]-C[T],L+=s[T]*s[T];if(b*L>y)for(var k=l[o],_=1/Math.sqrt(b*L),T=0;T<3;++T){var B=(T+1)%3,F=(T+2)%3;k[T]+=_*(s[B]*E[F]-s[F]*E[B])}}for(var h=0;h<f;++h){for(var k=l[h],O=0,T=0;T<3;++T)O+=k[T]*k[T];if(O>y)for(var _=1/Math.sqrt(O),T=0;T<3;++T)k[T]*=_;else for(var T=0;T<3;++T)k[T]=0}return l},p.faceNormals=function(i,n,u){for(var f=i.length,l=new Array(f),y=u===void 0?t:u,h=0;h<f;++h){for(var S=i[h],c=new Array(3),o=0;o<3;++o)c[o]=n[S[o]];for(var d=new Array(3),w=new Array(3),o=0;o<3;++o)d[o]=c[1][o]-c[0][o],w[o]=c[2][o]-c[0][o];for(var A=new Array(3),C=0,o=0;o<3;++o){var m=(o+1)%3,E=(o+2)%3;A[o]=d[m]*w[E]-d[E]*w[m],C+=A[o]*A[o]}C>y?C=1/Math.sqrt(C):C=0;for(var o=0;o<3;++o)A[o]*=C;l[h]=A}return l}},567:function(v){v.exports=p;function p(r,t,i,n,u,f,l,y,h,S){var c=t+f+S;if(o>0){var o=Math.sqrt(c+1);r[0]=.5*(l-h)/o,r[1]=.5*(y-n)/o,r[2]=.5*(i-f)/o,r[3]=.5*o}else{var d=Math.max(t,f,S),o=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*o,r[1]=.5*(u+i)/o,r[2]=.5*(y+n)/o,r[3]=.5*(l-h)/o):f>=d?(r[0]=.5*(i+u)/o,r[1]=.5*o,r[2]=.5*(h+l)/o,r[3]=.5*(y-n)/o):(r[0]=.5*(n+y)/o,r[1]=.5*(l+h)/o,r[2]=.5*o,r[3]=.5*(i-u)/o)}return r}},7774:function(v,p,r){v.exports=o;var t=r(8444),i=r(3012),n=r(5950),u=r(7437),f=r(567);function l(d,w,A){return Math.sqrt(Math.pow(d,2)+Math.pow(w,2)+Math.pow(A,2))}function y(d,w,A,C){return Math.sqrt(Math.pow(d,2)+Math.pow(w,2)+Math.pow(A,2)+Math.pow(C,2))}function h(d,w){var A=w[0],C=w[1],m=w[2],E=w[3],b=y(A,C,m,E);b>1e-6?(d[0]=A/b,d[1]=C/b,d[2]=m/b,d[3]=E/b):(d[0]=d[1]=d[2]=0,d[3]=1)}function S(d,w,A){this.radius=t([A]),this.center=t(w),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=S.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var w=this.computedRotation;h(w,w);var A=this.computedMatrix;n(A,w);var C=this.computedCenter,m=this.computedEye,E=this.computedUp,b=Math.exp(this.computedRadius[0]);m[0]=C[0]+b*A[2],m[1]=C[1]+b*A[6],m[2]=C[2]+b*A[10],E[0]=A[1],E[1]=A[5],E[2]=A[9];for(var s=0;s<3;++s){for(var L=0,T=0;T<3;++T)L+=A[s+4*T]*m[T];A[12+s]=-L}},c.getMatrix=function(d,w){this.recalcMatrix(d);var A=this.computedMatrix;if(w){for(var C=0;C<16;++C)w[C]=A[C];return w}return A},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,w,A,C){w=w||0,A=A||0,C=C||0,this.recalcMatrix(d);var m=this.computedMatrix,E=m[1],b=m[5],s=m[9],L=l(E,b,s);E/=L,b/=L,s/=L;var T=m[0],k=m[4],_=m[8],B=T*E+k*b+_*s;T-=E*B,k-=b*B,_-=s*B;var F=l(T,k,_);T/=F,k/=F,_/=F,m[2],m[6],m[10];var O=T*w+E*A,N=k*w+b*A,z=_*w+s*A;this.center.move(d,O,N,z);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+C),this.radius.set(d,Math.log(V))},c.rotate=function(d,w,A,C){this.recalcMatrix(d),w=w||0,A=A||0;var m=this.computedMatrix,E=m[0],b=m[4],s=m[8],L=m[1],T=m[5],k=m[9],_=m[2],B=m[6],F=m[10],O=w*E+A*L,N=w*b+A*T,z=w*s+A*k,V=-(B*z-F*N),W=-(F*O-_*z),$=-(_*N-B*O),re=Math.sqrt(Math.max(0,1-Math.pow(V,2)-Math.pow(W,2)-Math.pow($,2))),ne=y(V,W,$,re);ne>1e-6?(V/=ne,W/=ne,$/=ne,re/=ne):(V=W=$=0,re=1);var ue=this.computedRotation,J=ue[0],X=ue[1],oe=ue[2],Y=ue[3],q=J*re+Y*V+X*$-oe*W,se=X*re+Y*W+oe*V-J*$,Q=oe*re+Y*$+J*W-X*V,K=Y*re-J*V-X*W-oe*$;if(C){V=_,W=B,$=F;var le=Math.sin(C)/l(V,W,$);V*=le,W*=le,$*=le,re=Math.cos(w),q=q*re+K*V+se*$-Q*W,se=se*re+K*W+Q*V-q*$,Q=Q*re+K*$+q*W-se*V,K=K*re-q*V-se*W-Q*$}var ie=y(q,se,Q,K);ie>1e-6?(q/=ie,se/=ie,Q/=ie,K/=ie):(q=se=Q=0,K=1),this.rotation.set(d,q,se,Q,K)},c.lookAt=function(d,w,A,C){this.recalcMatrix(d),A=A||this.computedCenter,w=w||this.computedEye,C=C||this.computedUp;var m=this.computedMatrix;i(m,w,A,C);var E=this.computedRotation;f(E,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),h(E,E),this.rotation.set(d,E[0],E[1],E[2],E[3]);for(var b=0,s=0;s<3;++s)b+=Math.pow(A[s]-w[s],2);this.radius.set(d,.5*Math.log(Math.max(b,1e-6))),this.center.set(d,A[0],A[1],A[2])},c.translate=function(d,w,A,C){this.center.move(d,w||0,A||0,C||0)},c.setMatrix=function(d,w){var A=this.computedRotation;f(A,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),h(A,A),this.rotation.set(d,A[0],A[1],A[2],A[3]);var C=this.computedMatrix;u(C,w);var m=C[15];if(Math.abs(m)>1e-6){var E=C[12]/m,b=C[13]/m,s=C[14]/m;this.recalcMatrix(d);var L=Math.exp(this.computedRadius[0]);this.center.set(d,E-C[2]*L,b-C[6]*L,s-C[10]*L),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,w){w>0&&this.radius.set(d,Math.log(w))},c.setDistanceLimits=function(d,w){d>0?d=Math.log(d):d=-1/0,w>0?w=Math.log(w):w=1/0,w=Math.max(w,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=w},c.getDistanceLimits=function(d){var w=this.radius.bounds;return d?(d[0]=Math.exp(w[0][0]),d[1]=Math.exp(w[1][0]),d):[Math.exp(w[0][0]),Math.exp(w[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var w=this.lastT(),A=d.center;A&&this.center.set(w,A[0],A[1],A[2]);var C=d.rotation;C&&this.rotation.set(w,C[0],C[1],C[2],C[3]);var m=d.distance;m&&m>0&&this.radius.set(w,Math.log(m)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function o(d){d=d||{};var w=d.center||[0,0,0],A=d.rotation||[0,0,0,1],C=d.radius||1;w=[].slice.call(w,0,3),A=[].slice.call(A,0,4),h(A,A);var m=new S(A,w,Math.log(C));return m.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&m.lookAt(0,d.eye,d.center,d.up),m}},4930:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(6184);v.exports=function(n,u,f){return f=typeof f<"u"?f+"":" ",t(f,u)+n}},4405:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var i=parseFloat(r,10);return t[0]=i,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(v,p,r){v.exports=i;var t=r(9398);function i(n,u){for(var f=u.length|0,l=n.length,y=[new Array(f),new Array(f)],h=0;h<f;++h)y[0][h]=[],y[1][h]=[];for(var h=0;h<l;++h){var S=n[h];y[0][S[0]].push(S),y[1][S[1]].push(S)}for(var c=[],h=0;h<f;++h)y[0][h].length+y[1][h].length===0&&c.push([h]);function o(b,s){var L=y[s][b[s]];L.splice(L.indexOf(b),1)}function d(b,s,L){for(var T,k,_,B=0;B<2;++B)if(y[B][s].length>0){T=y[B][s][0],_=B;break}k=T[_^1];for(var F=0;F<2;++F)for(var O=y[F][s],N=0;N<O.length;++N){var z=O[N],V=z[F^1],W=t(u[b],u[s],u[k],u[V]);W>0&&(T=z,k=V,_=F)}return L||T&&o(T,_),k}function w(b,s){var L=y[s][b][0],T=[b];o(L,s);for(var k=L[s^1];;){for(;k!==b;)T.push(k),k=d(T[T.length-2],k,!1);if(y[0][b].length+y[1][b].length===0)break;var _=T[T.length-1],B=b,F=T[1],O=d(_,B,!0);if(t(u[_],u[B],u[F],u[O])<0)break;T.push(b),k=d(_,B)}return T}function A(b,s){return s[1]===s[s.length-1]}for(var h=0;h<f;++h)for(var C=0;C<2;++C){for(var m=[];y[C][h].length>0;){y[0][h].length;var E=w(h,C);A(m,E)?m.push.apply(m,E):(m.length>0&&c.push(m),m=E)}m.length>0&&c.push(m)}return c}},3959:function(v,p,r){v.exports=i;var t=r(8348);function i(n,u){for(var f=t(n,u.length),l=new Array(u.length),y=new Array(u.length),h=[],S=0;S<u.length;++S){var c=f[S].length;y[S]=c,l[S]=!0,c<=1&&h.push(S)}for(;h.length>0;){var o=h.pop();l[o]=!1;for(var d=f[o],S=0;S<d.length;++S){var w=d[S];--y[w]===0&&h.push(w)}}for(var A=new Array(u.length),C=[],S=0;S<u.length;++S)if(l[S]){var o=C.length;A[S]=o,C.push(u[S])}else A[S]=-1;for(var m=[],S=0;S<n.length;++S){var E=n[S];l[E[0]]&&l[E[1]]&&m.push([A[E[0]],A[E[1]]])}return[m,C]}},8040:function(v,p,r){v.exports=c;var t=r(8348),i=r(4166),n=r(211),u=r(9660),f=r(9662),l=r(1215),y=r(3959);function h(o,d){for(var w=new Array(o),A=0;A<o;++A)w[A]=d;return w}function S(o){for(var d=new Array(o),w=0;w<o;++w)d[w]=[];return d}function c(o,d){var K=y(o,d);o=K[0],d=K[1];var w=d.length;o.length;for(var A=t(o,d.length),C=0;C<w;++C)if(A[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var m=i(o,d);function E(ke){for(var we=ke.length,Ee=[0],xe=0;xe<we;++xe){var Pe=d[ke[xe]],Ue=d[ke[(xe+1)%we]],Be=u(-Pe[0],Pe[1]),Ne=u(-Pe[0],Ue[1]),Xe=u(Ue[0],Pe[1]),ut=u(Ue[0],Ue[1]);Ee=f(Ee,f(f(Be,Ne),f(Xe,ut)))}return Ee[Ee.length-1]>0}m=m.filter(E);for(var b=m.length,s=new Array(b),L=new Array(b),C=0;C<b;++C){s[C]=C;var T=new Array(b),k=m[C].map(function(we){return d[we]}),_=n([k]),B=0;e:for(var F=0;F<b;++F)if(T[F]=0,C!==F){for(var O=m[F],N=O.length,z=0;z<N;++z){var V=_(d[O[z]]);if(V!==0){V<0&&(T[F]=1,B+=1);continue e}}T[F]=1,B+=1}L[C]=[B,C,T]}L.sort(function(ke,we){return we[0]-ke[0]});for(var C=0;C<b;++C)for(var T=L[C],W=T[1],$=T[2],F=0;F<b;++F)$[F]&&(s[F]=W);for(var re=S(b),C=0;C<b;++C)re[C].push(s[C]),re[s[C]].push(C);for(var ne={},ue=h(w,!1),C=0;C<b;++C)for(var O=m[C],N=O.length,F=0;F<N;++F){var J=O[F],X=O[(F+1)%N],oe=Math.min(J,X)+":"+Math.max(J,X);if(oe in ne){var Y=ne[oe];re[Y].push(C),re[C].push(Y),ue[J]=ue[X]=!0}else ne[oe]=C}function q(ke){for(var we=ke.length,Ee=0;Ee<we;++Ee)if(!ue[ke[Ee]])return!1;return!0}for(var se=[],Q=h(b,-1),C=0;C<b;++C)s[C]===C&&!q(m[C])?(se.push(C),Q[C]=0):Q[C]=-1;for(var K=[];se.length>0;){var le=se.pop(),ie=re[le];l(ie,function(ke,we){return ke-we});var ce=ie.length,ye=Q[le],Ce;if(ye===0){var O=m[le];Ce=[O]}for(var C=0;C<ce;++C){var Ae=ie[C];if(!(Q[Ae]>=0)&&(Q[Ae]=ye^1,se.push(Ae),ye===0)){var O=m[Ae];q(O)||(O.reverse(),Ce.push(O))}}ye===0&&K.push(Ce)}return K}},211:function(v,p,r){v.exports=d;var t=r(417)[3],i=r(4385),n=r(9014),u=r(5070);function f(){return!0}function l(w){return function(A,C){var m=w[A];return m?!!m.queryPoint(C,f):!1}}function y(w){for(var A={},C=0;C<w.length;++C){var m=w[C],E=m[0][0],b=m[0][1],s=m[1][1],L=[Math.min(b,s),Math.max(b,s)];E in A?A[E].push(L):A[E]=[L]}for(var T={},k=Object.keys(A),C=0;C<k.length;++C){var _=A[k[C]];T[k[C]]=n(_)}return l(T)}function h(w,A){return function(C){var m=u.le(A,C[0]);if(m<0)return 1;var E=w[m];if(!E)if(m>0&&A[m]===C[0])E=w[m-1];else return 1;for(var b=1;E;){var s=E.key,L=t(C,s[0],s[1]);if(s[0][0]<s[1][0])if(L<0)E=E.left;else if(L>0)b=-1,E=E.right;else return 0;else if(L>0)E=E.left;else if(L<0)b=1,E=E.right;else return 0}return b}}function S(w){return 1}function c(w){return function(C){return w(C[0],C[1])?0:1}}function o(w,A){return function(m){return w(m[0],m[1])?0:A(m)}}function d(w){for(var A=w.length,C=[],m=[],E=0;E<A;++E)for(var b=w[E],s=b.length,L=s-1,T=0;T<s;L=T++){var k=b[L],_=b[T];k[0]===_[0]?m.push([k,_]):C.push([k,_])}if(C.length===0)return m.length===0?S:c(y(m));var B=i(C),F=h(B.slabs,B.coordinates);return m.length===0?F:o(y(m),F)}},7309:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function i(n,u,f,l,y){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)p[h]=n[h]-l[h],r[h]=u[h]-n[h],t[h]=f[h]-n[h];for(var S=0,c=0,o=0,d=0,w=0,A=0,h=0;h<l.length;++h){var C=r[h],m=t[h],E=p[h];S+=C*C,c+=C*m,o+=m*m,d+=E*C,w+=E*m,A+=E*E}var b=Math.abs(S*o-c*c),s=c*w-o*d,L=c*d-S*w,T;if(s+L<=b)if(s<0)L<0&&d<0?(L=0,-d>=S?(s=1,T=S+2*d+A):(s=-d/S,T=d*s+A)):(s=0,w>=0?(L=0,T=A):-w>=o?(L=1,T=o+2*w+A):(L=-w/o,T=w*L+A));else if(L<0)L=0,d>=0?(s=0,T=A):-d>=S?(s=1,T=S+2*d+A):(s=-d/S,T=d*s+A);else{var k=1/b;s*=k,L*=k,T=s*(S*s+c*L+2*d)+L*(c*s+o*L+2*w)+A}else{var _,B,F,O;s<0?(_=c+d,B=o+w,B>_?(F=B-_,O=S-2*c+o,F>=O?(s=1,L=0,T=S+2*d+A):(s=F/O,L=1-s,T=s*(S*s+c*L+2*d)+L*(c*s+o*L+2*w)+A)):(s=0,B<=0?(L=1,T=o+2*w+A):w>=0?(L=0,T=A):(L=-w/o,T=w*L+A))):L<0?(_=c+w,B=S+d,B>_?(F=B-_,O=S-2*c+o,F>=O?(L=1,s=0,T=o+2*w+A):(L=F/O,s=1-L,T=s*(S*s+c*L+2*d)+L*(c*s+o*L+2*w)+A)):(L=0,B<=0?(s=1,T=S+2*d+A):d>=0?(s=0,T=A):(s=-d/S,T=d*s+A))):(F=o+w-c-d,F<=0?(s=0,L=1,T=o+2*w+A):(O=S-2*c+o,F>=O?(s=1,L=0,T=S+2*d+A):(s=F/O,L=1-s,T=s*(S*s+c*L+2*d)+L*(c*s+o*L+2*w)+A)))}for(var N=1-s-L,h=0;h<l.length;++h)y[h]=N*n[h]+s*u[h]+L*f[h];return T<0?0:T}v.exports=i},1116:function(v,p,r){v.exports=r(6093)},7584:function(v,p,r){var t=r(1539);v.exports=i;function i(n,u){for(var f=n.length,l=new Array(f),y=0;y<f;++y)l[y]=t(n[y],u[y]);return l}},2826:function(v,p,r){v.exports=i;var t=r(5125);function i(n){for(var u=new Array(n.length),f=0;f<n.length;++f)u[f]=t(n[f]);return u}},4469:function(v,p,r){var t=r(5125),i=r(3962);v.exports=n;function n(u,f){for(var l=t(f),y=u.length,h=new Array(y),S=0;S<y;++S)h[S]=i(u[S],l);return h}},6695:function(v,p,r){var t=r(4354);v.exports=i;function i(n,u){for(var f=n.length,l=new Array(f),y=0;y<f;++y)l[y]=t(n[y],u[y]);return l}},7037:function(v,p,r){var t=r(9209),i=r(1284),n=r(9887);v.exports=u;function u(f){f.sort(i);for(var l=f.length,y=0,h=0;h<l;++h){var S=f[h],c=n(S);if(c!==0){if(y>0){var o=f[y-1];if(t(S,o)===0&&n(o)!==c){y-=1;continue}}f[y++]=S}}return f.length=y,f}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(i,n){if(typeof i!="string")throw new TypeError("expected a string");if(n===1)return i;if(n===2)return i+i;var u=i.length*n;if(r!==i||typeof r>"u")r=i,p="";else if(p.length>=u)return p.substr(0,u);for(;u>p.length&&n>1;)n&1&&(p+=i),n>>=1,i+=i;return p+=i,p=p.substr(0,u),p}},8161:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(r){for(var t=r.length,i=r[r.length-1],n=t,u=t-2;u>=0;--u){var f=i,l=r[u];i=f+l;var y=i-f,h=l-y;h&&(r[--n]=i,i=h)}for(var S=0,u=n;u<t;++u){var f=r[u],l=i;i=f+l;var y=i-f,h=l-y;h&&(r[S++]=h)}return r[S++]=i,r.length=S,r}},8167:function(v,p,r){var t=r(9660),i=r(9662),n=r(8289),u=r(402),f=6;function l(A,C,m,E){return function(s){return E(A(m(s[0][0],s[1][1]),m(-s[0][1],s[1][0])))}}function y(A,C,m,E){return function(s){return E(A(C(A(m(s[1][1],s[2][2]),m(-s[1][2],s[2][1])),s[0][0]),A(C(A(m(s[1][0],s[2][2]),m(-s[1][2],s[2][0])),-s[0][1]),C(A(m(s[1][0],s[2][1]),m(-s[1][1],s[2][0])),s[0][2]))))}}function h(A,C,m,E){return function(s){return E(A(A(C(A(C(A(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][1]),A(C(A(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),-s[1][2]),C(A(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),C(A(C(A(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][0]),A(C(A(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][2]),C(A(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),A(C(A(C(A(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),s[1][0]),A(C(A(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][1]),C(A(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),C(A(C(A(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][0]),A(C(A(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),-s[1][1]),C(A(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function S(A,C,m,E){return function(s){return E(A(A(C(A(A(C(A(C(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),A(C(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),C(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),C(A(C(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),A(C(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),C(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),A(C(A(C(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),A(C(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),C(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),C(A(C(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),A(C(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),C(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),C(A(A(C(A(C(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),A(C(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),C(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),C(A(C(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),A(C(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),C(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),A(C(A(C(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),A(C(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),C(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),C(A(C(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),A(C(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),C(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),A(C(A(A(C(A(C(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),A(C(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),C(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),C(A(C(A(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),A(C(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),C(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),A(C(A(C(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),A(C(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),C(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),C(A(C(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),A(C(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),C(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),A(C(A(A(C(A(C(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),A(C(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),C(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),C(A(C(A(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),A(C(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),C(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),A(C(A(C(A(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),A(C(A(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),C(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),C(A(C(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),A(C(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),C(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),C(A(A(C(A(C(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),A(C(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),C(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),C(A(C(A(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),A(C(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),C(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),A(C(A(C(A(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),A(C(A(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),C(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),C(A(C(A(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),A(C(A(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),C(A(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function c(A){var C=A===2?l:A===3?y:A===4?h:A===5?S:void 0;return C(i,n,t,u)}var o=[function(){return[0]},function(C){return[C[0][0]]}];function d(A,C,m,E,b,s,L,T){return function(_){switch(_.length){case 0:return A(_);case 1:return C(_);case 2:return m(_);case 3:return E(_);case 4:return b(_);case 5:return s(_)}var B=L[_.length];return B||(B=L[_.length]=T(_.length)),B(_)}}function w(){for(;o.length<f;)o.push(c(o.length));v.exports=d.apply(void 0,o.concat([o,c]));for(var A=0;A<o.length;++A)v.exports[A]=o[A]}w()},9130:function(v,p,r){var t=r(9660),i=r(9662);v.exports=n;function n(u,f){for(var l=t(u[0],f[0]),y=1;y<u.length;++y)l=i(l,t(u[y],f[y]));return l}},2227:function(v,p,r){var t=r(9660),i=r(9662),n=r(4078),u=r(8289),f=6;function l(b){var s=b===3?c:b===4?o:b===5?d:w;return s(i,n,t,u)}function y(){return 0}function h(){return 0}function S(){return 0}function c(b,s,L,T){function k(_,B,F){var O=L(_[0],_[0]),N=T(O,B[0]),z=T(O,F[0]),V=L(B[0],B[0]),W=T(V,_[0]),$=T(V,F[0]),re=L(F[0],F[0]),ne=T(re,_[0]),ue=T(re,B[0]),J=b(s(ue,$),s(W,N)),X=s(ne,z),oe=s(J,X);return oe[oe.length-1]}return k}function o(b,s,L,T){function k(_,B,F,O){var N=b(L(_[0],_[0]),L(_[1],_[1])),z=T(N,B[0]),V=T(N,F[0]),W=T(N,O[0]),$=b(L(B[0],B[0]),L(B[1],B[1])),re=T($,_[0]),ne=T($,F[0]),ue=T($,O[0]),J=b(L(F[0],F[0]),L(F[1],F[1])),X=T(J,_[0]),oe=T(J,B[0]),Y=T(J,O[0]),q=b(L(O[0],O[0]),L(O[1],O[1])),se=T(q,_[0]),Q=T(q,B[0]),K=T(q,F[0]),le=b(b(T(s(K,Y),B[1]),b(T(s(Q,ue),-F[1]),T(s(oe,ne),O[1]))),b(T(s(Q,ue),_[1]),b(T(s(se,W),-B[1]),T(s(re,z),O[1])))),ie=b(b(T(s(K,Y),_[1]),b(T(s(se,W),-F[1]),T(s(X,V),O[1]))),b(T(s(oe,ne),_[1]),b(T(s(X,V),-B[1]),T(s(re,z),F[1])))),ce=s(le,ie);return ce[ce.length-1]}return k}function d(b,s,L,T){function k(_,B,F,O,N){var z=b(L(_[0],_[0]),b(L(_[1],_[1]),L(_[2],_[2]))),V=T(z,B[0]),W=T(z,F[0]),$=T(z,O[0]),re=T(z,N[0]),ne=b(L(B[0],B[0]),b(L(B[1],B[1]),L(B[2],B[2]))),ue=T(ne,_[0]),J=T(ne,F[0]),X=T(ne,O[0]),oe=T(ne,N[0]),Y=b(L(F[0],F[0]),b(L(F[1],F[1]),L(F[2],F[2]))),q=T(Y,_[0]),se=T(Y,B[0]),Q=T(Y,O[0]),K=T(Y,N[0]),le=b(L(O[0],O[0]),b(L(O[1],O[1]),L(O[2],O[2]))),ie=T(le,_[0]),ce=T(le,B[0]),ye=T(le,F[0]),Ce=T(le,N[0]),Ae=b(L(N[0],N[0]),b(L(N[1],N[1]),L(N[2],N[2]))),ke=T(Ae,_[0]),we=T(Ae,B[0]),Ee=T(Ae,F[0]),xe=T(Ae,O[0]),Pe=b(b(b(T(b(T(s(xe,Ce),F[1]),b(T(s(Ee,K),-O[1]),T(s(ye,Q),N[1]))),B[2]),b(T(b(T(s(xe,Ce),B[1]),b(T(s(we,oe),-O[1]),T(s(ce,X),N[1]))),-F[2]),T(b(T(s(Ee,K),B[1]),b(T(s(we,oe),-F[1]),T(s(se,J),N[1]))),O[2]))),b(T(b(T(s(ye,Q),B[1]),b(T(s(ce,X),-F[1]),T(s(se,J),O[1]))),-N[2]),b(T(b(T(s(xe,Ce),B[1]),b(T(s(we,oe),-O[1]),T(s(ce,X),N[1]))),_[2]),T(b(T(s(xe,Ce),_[1]),b(T(s(ke,re),-O[1]),T(s(ie,$),N[1]))),-B[2])))),b(b(T(b(T(s(we,oe),_[1]),b(T(s(ke,re),-B[1]),T(s(ue,V),N[1]))),O[2]),b(T(b(T(s(ce,X),_[1]),b(T(s(ie,$),-B[1]),T(s(ue,V),O[1]))),-N[2]),T(b(T(s(ye,Q),B[1]),b(T(s(ce,X),-F[1]),T(s(se,J),O[1]))),_[2]))),b(T(b(T(s(ye,Q),_[1]),b(T(s(ie,$),-F[1]),T(s(q,W),O[1]))),-B[2]),b(T(b(T(s(ce,X),_[1]),b(T(s(ie,$),-B[1]),T(s(ue,V),O[1]))),F[2]),T(b(T(s(se,J),_[1]),b(T(s(q,W),-B[1]),T(s(ue,V),F[1]))),-O[2]))))),Ue=b(b(b(T(b(T(s(xe,Ce),F[1]),b(T(s(Ee,K),-O[1]),T(s(ye,Q),N[1]))),_[2]),T(b(T(s(xe,Ce),_[1]),b(T(s(ke,re),-O[1]),T(s(ie,$),N[1]))),-F[2])),b(T(b(T(s(Ee,K),_[1]),b(T(s(ke,re),-F[1]),T(s(q,W),N[1]))),O[2]),T(b(T(s(ye,Q),_[1]),b(T(s(ie,$),-F[1]),T(s(q,W),O[1]))),-N[2]))),b(b(T(b(T(s(Ee,K),B[1]),b(T(s(we,oe),-F[1]),T(s(se,J),N[1]))),_[2]),T(b(T(s(Ee,K),_[1]),b(T(s(ke,re),-F[1]),T(s(q,W),N[1]))),-B[2])),b(T(b(T(s(we,oe),_[1]),b(T(s(ke,re),-B[1]),T(s(ue,V),N[1]))),F[2]),T(b(T(s(se,J),_[1]),b(T(s(q,W),-B[1]),T(s(ue,V),F[1]))),-N[2])))),Be=s(Pe,Ue);return Be[Be.length-1]}return k}function w(b,s,L,T){function k(_,B,F,O,N,z){var V=b(b(L(_[0],_[0]),L(_[1],_[1])),b(L(_[2],_[2]),L(_[3],_[3]))),W=T(V,B[0]),$=T(V,F[0]),re=T(V,O[0]),ne=T(V,N[0]),ue=T(V,z[0]),J=b(b(L(B[0],B[0]),L(B[1],B[1])),b(L(B[2],B[2]),L(B[3],B[3]))),X=T(J,_[0]),oe=T(J,F[0]),Y=T(J,O[0]),q=T(J,N[0]),se=T(J,z[0]),Q=b(b(L(F[0],F[0]),L(F[1],F[1])),b(L(F[2],F[2]),L(F[3],F[3]))),K=T(Q,_[0]),le=T(Q,B[0]),ie=T(Q,O[0]),ce=T(Q,N[0]),ye=T(Q,z[0]),Ce=b(b(L(O[0],O[0]),L(O[1],O[1])),b(L(O[2],O[2]),L(O[3],O[3]))),Ae=T(Ce,_[0]),ke=T(Ce,B[0]),we=T(Ce,F[0]),Ee=T(Ce,N[0]),xe=T(Ce,z[0]),Pe=b(b(L(N[0],N[0]),L(N[1],N[1])),b(L(N[2],N[2]),L(N[3],N[3]))),Ue=T(Pe,_[0]),Be=T(Pe,B[0]),Ne=T(Pe,F[0]),Xe=T(Pe,O[0]),ut=T(Pe,z[0]),dt=b(b(L(z[0],z[0]),L(z[1],z[1])),b(L(z[2],z[2]),L(z[3],z[3]))),at=T(dt,_[0]),We=T(dt,B[0]),rt=T(dt,F[0]),st=T(dt,O[0]),ht=T(dt,N[0]),vt=b(b(b(T(b(b(T(b(T(s(ht,ut),O[1]),b(T(s(st,xe),-N[1]),T(s(Xe,Ee),z[1]))),F[2]),T(b(T(s(ht,ut),F[1]),b(T(s(rt,ye),-N[1]),T(s(Ne,ce),z[1]))),-O[2])),b(T(b(T(s(st,xe),F[1]),b(T(s(rt,ye),-O[1]),T(s(we,ie),z[1]))),N[2]),T(b(T(s(Xe,Ee),F[1]),b(T(s(Ne,ce),-O[1]),T(s(we,ie),N[1]))),-z[2]))),B[3]),b(T(b(b(T(b(T(s(ht,ut),O[1]),b(T(s(st,xe),-N[1]),T(s(Xe,Ee),z[1]))),B[2]),T(b(T(s(ht,ut),B[1]),b(T(s(We,se),-N[1]),T(s(Be,q),z[1]))),-O[2])),b(T(b(T(s(st,xe),B[1]),b(T(s(We,se),-O[1]),T(s(ke,Y),z[1]))),N[2]),T(b(T(s(Xe,Ee),B[1]),b(T(s(Be,q),-O[1]),T(s(ke,Y),N[1]))),-z[2]))),-F[3]),T(b(b(T(b(T(s(ht,ut),F[1]),b(T(s(rt,ye),-N[1]),T(s(Ne,ce),z[1]))),B[2]),T(b(T(s(ht,ut),B[1]),b(T(s(We,se),-N[1]),T(s(Be,q),z[1]))),-F[2])),b(T(b(T(s(rt,ye),B[1]),b(T(s(We,se),-F[1]),T(s(le,oe),z[1]))),N[2]),T(b(T(s(Ne,ce),B[1]),b(T(s(Be,q),-F[1]),T(s(le,oe),N[1]))),-z[2]))),O[3]))),b(b(T(b(b(T(b(T(s(st,xe),F[1]),b(T(s(rt,ye),-O[1]),T(s(we,ie),z[1]))),B[2]),T(b(T(s(st,xe),B[1]),b(T(s(We,se),-O[1]),T(s(ke,Y),z[1]))),-F[2])),b(T(b(T(s(rt,ye),B[1]),b(T(s(We,se),-F[1]),T(s(le,oe),z[1]))),O[2]),T(b(T(s(we,ie),B[1]),b(T(s(ke,Y),-F[1]),T(s(le,oe),O[1]))),-z[2]))),-N[3]),T(b(b(T(b(T(s(Xe,Ee),F[1]),b(T(s(Ne,ce),-O[1]),T(s(we,ie),N[1]))),B[2]),T(b(T(s(Xe,Ee),B[1]),b(T(s(Be,q),-O[1]),T(s(ke,Y),N[1]))),-F[2])),b(T(b(T(s(Ne,ce),B[1]),b(T(s(Be,q),-F[1]),T(s(le,oe),N[1]))),O[2]),T(b(T(s(we,ie),B[1]),b(T(s(ke,Y),-F[1]),T(s(le,oe),O[1]))),-N[2]))),z[3])),b(T(b(b(T(b(T(s(ht,ut),O[1]),b(T(s(st,xe),-N[1]),T(s(Xe,Ee),z[1]))),B[2]),T(b(T(s(ht,ut),B[1]),b(T(s(We,se),-N[1]),T(s(Be,q),z[1]))),-O[2])),b(T(b(T(s(st,xe),B[1]),b(T(s(We,se),-O[1]),T(s(ke,Y),z[1]))),N[2]),T(b(T(s(Xe,Ee),B[1]),b(T(s(Be,q),-O[1]),T(s(ke,Y),N[1]))),-z[2]))),_[3]),T(b(b(T(b(T(s(ht,ut),O[1]),b(T(s(st,xe),-N[1]),T(s(Xe,Ee),z[1]))),_[2]),T(b(T(s(ht,ut),_[1]),b(T(s(at,ue),-N[1]),T(s(Ue,ne),z[1]))),-O[2])),b(T(b(T(s(st,xe),_[1]),b(T(s(at,ue),-O[1]),T(s(Ae,re),z[1]))),N[2]),T(b(T(s(Xe,Ee),_[1]),b(T(s(Ue,ne),-O[1]),T(s(Ae,re),N[1]))),-z[2]))),-B[3])))),b(b(b(T(b(b(T(b(T(s(ht,ut),B[1]),b(T(s(We,se),-N[1]),T(s(Be,q),z[1]))),_[2]),T(b(T(s(ht,ut),_[1]),b(T(s(at,ue),-N[1]),T(s(Ue,ne),z[1]))),-B[2])),b(T(b(T(s(We,se),_[1]),b(T(s(at,ue),-B[1]),T(s(X,W),z[1]))),N[2]),T(b(T(s(Be,q),_[1]),b(T(s(Ue,ne),-B[1]),T(s(X,W),N[1]))),-z[2]))),O[3]),T(b(b(T(b(T(s(st,xe),B[1]),b(T(s(We,se),-O[1]),T(s(ke,Y),z[1]))),_[2]),T(b(T(s(st,xe),_[1]),b(T(s(at,ue),-O[1]),T(s(Ae,re),z[1]))),-B[2])),b(T(b(T(s(We,se),_[1]),b(T(s(at,ue),-B[1]),T(s(X,W),z[1]))),O[2]),T(b(T(s(ke,Y),_[1]),b(T(s(Ae,re),-B[1]),T(s(X,W),O[1]))),-z[2]))),-N[3])),b(T(b(b(T(b(T(s(Xe,Ee),B[1]),b(T(s(Be,q),-O[1]),T(s(ke,Y),N[1]))),_[2]),T(b(T(s(Xe,Ee),_[1]),b(T(s(Ue,ne),-O[1]),T(s(Ae,re),N[1]))),-B[2])),b(T(b(T(s(Be,q),_[1]),b(T(s(Ue,ne),-B[1]),T(s(X,W),N[1]))),O[2]),T(b(T(s(ke,Y),_[1]),b(T(s(Ae,re),-B[1]),T(s(X,W),O[1]))),-N[2]))),z[3]),T(b(b(T(b(T(s(st,xe),F[1]),b(T(s(rt,ye),-O[1]),T(s(we,ie),z[1]))),B[2]),T(b(T(s(st,xe),B[1]),b(T(s(We,se),-O[1]),T(s(ke,Y),z[1]))),-F[2])),b(T(b(T(s(rt,ye),B[1]),b(T(s(We,se),-F[1]),T(s(le,oe),z[1]))),O[2]),T(b(T(s(we,ie),B[1]),b(T(s(ke,Y),-F[1]),T(s(le,oe),O[1]))),-z[2]))),_[3]))),b(b(T(b(b(T(b(T(s(st,xe),F[1]),b(T(s(rt,ye),-O[1]),T(s(we,ie),z[1]))),_[2]),T(b(T(s(st,xe),_[1]),b(T(s(at,ue),-O[1]),T(s(Ae,re),z[1]))),-F[2])),b(T(b(T(s(rt,ye),_[1]),b(T(s(at,ue),-F[1]),T(s(K,$),z[1]))),O[2]),T(b(T(s(we,ie),_[1]),b(T(s(Ae,re),-F[1]),T(s(K,$),O[1]))),-z[2]))),-B[3]),T(b(b(T(b(T(s(st,xe),B[1]),b(T(s(We,se),-O[1]),T(s(ke,Y),z[1]))),_[2]),T(b(T(s(st,xe),_[1]),b(T(s(at,ue),-O[1]),T(s(Ae,re),z[1]))),-B[2])),b(T(b(T(s(We,se),_[1]),b(T(s(at,ue),-B[1]),T(s(X,W),z[1]))),O[2]),T(b(T(s(ke,Y),_[1]),b(T(s(Ae,re),-B[1]),T(s(X,W),O[1]))),-z[2]))),F[3])),b(T(b(b(T(b(T(s(rt,ye),B[1]),b(T(s(We,se),-F[1]),T(s(le,oe),z[1]))),_[2]),T(b(T(s(rt,ye),_[1]),b(T(s(at,ue),-F[1]),T(s(K,$),z[1]))),-B[2])),b(T(b(T(s(We,se),_[1]),b(T(s(at,ue),-B[1]),T(s(X,W),z[1]))),F[2]),T(b(T(s(le,oe),_[1]),b(T(s(K,$),-B[1]),T(s(X,W),F[1]))),-z[2]))),-O[3]),T(b(b(T(b(T(s(we,ie),B[1]),b(T(s(ke,Y),-F[1]),T(s(le,oe),O[1]))),_[2]),T(b(T(s(we,ie),_[1]),b(T(s(Ae,re),-F[1]),T(s(K,$),O[1]))),-B[2])),b(T(b(T(s(ke,Y),_[1]),b(T(s(Ae,re),-B[1]),T(s(X,W),O[1]))),F[2]),T(b(T(s(le,oe),_[1]),b(T(s(K,$),-B[1]),T(s(X,W),F[1]))),-O[2]))),z[3]))))),At=b(b(b(T(b(b(T(b(T(s(ht,ut),O[1]),b(T(s(st,xe),-N[1]),T(s(Xe,Ee),z[1]))),F[2]),T(b(T(s(ht,ut),F[1]),b(T(s(rt,ye),-N[1]),T(s(Ne,ce),z[1]))),-O[2])),b(T(b(T(s(st,xe),F[1]),b(T(s(rt,ye),-O[1]),T(s(we,ie),z[1]))),N[2]),T(b(T(s(Xe,Ee),F[1]),b(T(s(Ne,ce),-O[1]),T(s(we,ie),N[1]))),-z[2]))),_[3]),b(T(b(b(T(b(T(s(ht,ut),O[1]),b(T(s(st,xe),-N[1]),T(s(Xe,Ee),z[1]))),_[2]),T(b(T(s(ht,ut),_[1]),b(T(s(at,ue),-N[1]),T(s(Ue,ne),z[1]))),-O[2])),b(T(b(T(s(st,xe),_[1]),b(T(s(at,ue),-O[1]),T(s(Ae,re),z[1]))),N[2]),T(b(T(s(Xe,Ee),_[1]),b(T(s(Ue,ne),-O[1]),T(s(Ae,re),N[1]))),-z[2]))),-F[3]),T(b(b(T(b(T(s(ht,ut),F[1]),b(T(s(rt,ye),-N[1]),T(s(Ne,ce),z[1]))),_[2]),T(b(T(s(ht,ut),_[1]),b(T(s(at,ue),-N[1]),T(s(Ue,ne),z[1]))),-F[2])),b(T(b(T(s(rt,ye),_[1]),b(T(s(at,ue),-F[1]),T(s(K,$),z[1]))),N[2]),T(b(T(s(Ne,ce),_[1]),b(T(s(Ue,ne),-F[1]),T(s(K,$),N[1]))),-z[2]))),O[3]))),b(b(T(b(b(T(b(T(s(st,xe),F[1]),b(T(s(rt,ye),-O[1]),T(s(we,ie),z[1]))),_[2]),T(b(T(s(st,xe),_[1]),b(T(s(at,ue),-O[1]),T(s(Ae,re),z[1]))),-F[2])),b(T(b(T(s(rt,ye),_[1]),b(T(s(at,ue),-F[1]),T(s(K,$),z[1]))),O[2]),T(b(T(s(we,ie),_[1]),b(T(s(Ae,re),-F[1]),T(s(K,$),O[1]))),-z[2]))),-N[3]),T(b(b(T(b(T(s(Xe,Ee),F[1]),b(T(s(Ne,ce),-O[1]),T(s(we,ie),N[1]))),_[2]),T(b(T(s(Xe,Ee),_[1]),b(T(s(Ue,ne),-O[1]),T(s(Ae,re),N[1]))),-F[2])),b(T(b(T(s(Ne,ce),_[1]),b(T(s(Ue,ne),-F[1]),T(s(K,$),N[1]))),O[2]),T(b(T(s(we,ie),_[1]),b(T(s(Ae,re),-F[1]),T(s(K,$),O[1]))),-N[2]))),z[3])),b(T(b(b(T(b(T(s(ht,ut),F[1]),b(T(s(rt,ye),-N[1]),T(s(Ne,ce),z[1]))),B[2]),T(b(T(s(ht,ut),B[1]),b(T(s(We,se),-N[1]),T(s(Be,q),z[1]))),-F[2])),b(T(b(T(s(rt,ye),B[1]),b(T(s(We,se),-F[1]),T(s(le,oe),z[1]))),N[2]),T(b(T(s(Ne,ce),B[1]),b(T(s(Be,q),-F[1]),T(s(le,oe),N[1]))),-z[2]))),_[3]),T(b(b(T(b(T(s(ht,ut),F[1]),b(T(s(rt,ye),-N[1]),T(s(Ne,ce),z[1]))),_[2]),T(b(T(s(ht,ut),_[1]),b(T(s(at,ue),-N[1]),T(s(Ue,ne),z[1]))),-F[2])),b(T(b(T(s(rt,ye),_[1]),b(T(s(at,ue),-F[1]),T(s(K,$),z[1]))),N[2]),T(b(T(s(Ne,ce),_[1]),b(T(s(Ue,ne),-F[1]),T(s(K,$),N[1]))),-z[2]))),-B[3])))),b(b(b(T(b(b(T(b(T(s(ht,ut),B[1]),b(T(s(We,se),-N[1]),T(s(Be,q),z[1]))),_[2]),T(b(T(s(ht,ut),_[1]),b(T(s(at,ue),-N[1]),T(s(Ue,ne),z[1]))),-B[2])),b(T(b(T(s(We,se),_[1]),b(T(s(at,ue),-B[1]),T(s(X,W),z[1]))),N[2]),T(b(T(s(Be,q),_[1]),b(T(s(Ue,ne),-B[1]),T(s(X,W),N[1]))),-z[2]))),F[3]),T(b(b(T(b(T(s(rt,ye),B[1]),b(T(s(We,se),-F[1]),T(s(le,oe),z[1]))),_[2]),T(b(T(s(rt,ye),_[1]),b(T(s(at,ue),-F[1]),T(s(K,$),z[1]))),-B[2])),b(T(b(T(s(We,se),_[1]),b(T(s(at,ue),-B[1]),T(s(X,W),z[1]))),F[2]),T(b(T(s(le,oe),_[1]),b(T(s(K,$),-B[1]),T(s(X,W),F[1]))),-z[2]))),-N[3])),b(T(b(b(T(b(T(s(Ne,ce),B[1]),b(T(s(Be,q),-F[1]),T(s(le,oe),N[1]))),_[2]),T(b(T(s(Ne,ce),_[1]),b(T(s(Ue,ne),-F[1]),T(s(K,$),N[1]))),-B[2])),b(T(b(T(s(Be,q),_[1]),b(T(s(Ue,ne),-B[1]),T(s(X,W),N[1]))),F[2]),T(b(T(s(le,oe),_[1]),b(T(s(K,$),-B[1]),T(s(X,W),F[1]))),-N[2]))),z[3]),T(b(b(T(b(T(s(Xe,Ee),F[1]),b(T(s(Ne,ce),-O[1]),T(s(we,ie),N[1]))),B[2]),T(b(T(s(Xe,Ee),B[1]),b(T(s(Be,q),-O[1]),T(s(ke,Y),N[1]))),-F[2])),b(T(b(T(s(Ne,ce),B[1]),b(T(s(Be,q),-F[1]),T(s(le,oe),N[1]))),O[2]),T(b(T(s(we,ie),B[1]),b(T(s(ke,Y),-F[1]),T(s(le,oe),O[1]))),-N[2]))),_[3]))),b(b(T(b(b(T(b(T(s(Xe,Ee),F[1]),b(T(s(Ne,ce),-O[1]),T(s(we,ie),N[1]))),_[2]),T(b(T(s(Xe,Ee),_[1]),b(T(s(Ue,ne),-O[1]),T(s(Ae,re),N[1]))),-F[2])),b(T(b(T(s(Ne,ce),_[1]),b(T(s(Ue,ne),-F[1]),T(s(K,$),N[1]))),O[2]),T(b(T(s(we,ie),_[1]),b(T(s(Ae,re),-F[1]),T(s(K,$),O[1]))),-N[2]))),-B[3]),T(b(b(T(b(T(s(Xe,Ee),B[1]),b(T(s(Be,q),-O[1]),T(s(ke,Y),N[1]))),_[2]),T(b(T(s(Xe,Ee),_[1]),b(T(s(Ue,ne),-O[1]),T(s(Ae,re),N[1]))),-B[2])),b(T(b(T(s(Be,q),_[1]),b(T(s(Ue,ne),-B[1]),T(s(X,W),N[1]))),O[2]),T(b(T(s(ke,Y),_[1]),b(T(s(Ae,re),-B[1]),T(s(X,W),O[1]))),-N[2]))),F[3])),b(T(b(b(T(b(T(s(Ne,ce),B[1]),b(T(s(Be,q),-F[1]),T(s(le,oe),N[1]))),_[2]),T(b(T(s(Ne,ce),_[1]),b(T(s(Ue,ne),-F[1]),T(s(K,$),N[1]))),-B[2])),b(T(b(T(s(Be,q),_[1]),b(T(s(Ue,ne),-B[1]),T(s(X,W),N[1]))),F[2]),T(b(T(s(le,oe),_[1]),b(T(s(K,$),-B[1]),T(s(X,W),F[1]))),-N[2]))),-O[3]),T(b(b(T(b(T(s(we,ie),B[1]),b(T(s(ke,Y),-F[1]),T(s(le,oe),O[1]))),_[2]),T(b(T(s(we,ie),_[1]),b(T(s(Ae,re),-F[1]),T(s(K,$),O[1]))),-B[2])),b(T(b(T(s(ke,Y),_[1]),b(T(s(Ae,re),-B[1]),T(s(X,W),O[1]))),F[2]),T(b(T(s(le,oe),_[1]),b(T(s(K,$),-B[1]),T(s(X,W),F[1]))),-O[2]))),N[3]))))),et=s(vt,At);return et[et.length-1]}return k}var A=[y,h,S];function C(b){var s=A[b.length];return s||(s=A[b.length]=l(b.length)),s.apply(void 0,b)}function m(b,s,L,T,k,_,B,F){function O(N,z,V,W,$,re){switch(arguments.length){case 0:case 1:return 0;case 2:return T(N,z);case 3:return k(N,z,V);case 4:return _(N,z,V,W);case 5:return B(N,z,V,W,$);case 6:return F(N,z,V,W,$,re)}for(var ne=new Array(arguments.length),ue=0;ue<arguments.length;++ue)ne[ue]=arguments[ue];return b(ne)}return O}function E(){for(;A.length<=f;)A.push(l(A.length));v.exports=m.apply(void 0,[C].concat(A));for(var b=0;b<=f;++b)v.exports[b]=A[b]}E()},6606:function(v,p,r){var t=r(8167),i=6;function n(A){var C=A===2?l:A===3?y:A===4?h:A===5?S:c;return A<6?C(t[A]):C(t)}function u(){return[[0]]}function f(A,C){return[[C[0]],[A[0][0]]]}function l(A){return function(m,E){return[A([[+E[0],+m[0][1]],[+E[1],+m[1][1]]]),A([[+m[0][0],+E[0]],[+m[1][0],+E[1]]]),A(m)]}}function y(A){return function(m,E){return[A([[+E[0],+m[0][1],+m[0][2]],[+E[1],+m[1][1],+m[1][2]],[+E[2],+m[2][1],+m[2][2]]]),A([[+m[0][0],+E[0],+m[0][2]],[+m[1][0],+E[1],+m[1][2]],[+m[2][0],+E[2],+m[2][2]]]),A([[+m[0][0],+m[0][1],+E[0]],[+m[1][0],+m[1][1],+E[1]],[+m[2][0],+m[2][1],+E[2]]]),A(m)]}}function h(A){return function(m,E){return[A([[+E[0],+m[0][1],+m[0][2],+m[0][3]],[+E[1],+m[1][1],+m[1][2],+m[1][3]],[+E[2],+m[2][1],+m[2][2],+m[2][3]],[+E[3],+m[3][1],+m[3][2],+m[3][3]]]),A([[+m[0][0],+E[0],+m[0][2],+m[0][3]],[+m[1][0],+E[1],+m[1][2],+m[1][3]],[+m[2][0],+E[2],+m[2][2],+m[2][3]],[+m[3][0],+E[3],+m[3][2],+m[3][3]]]),A([[+m[0][0],+m[0][1],+E[0],+m[0][3]],[+m[1][0],+m[1][1],+E[1],+m[1][3]],[+m[2][0],+m[2][1],+E[2],+m[2][3]],[+m[3][0],+m[3][1],+E[3],+m[3][3]]]),A([[+m[0][0],+m[0][1],+m[0][2],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+E[3]]]),A(m)]}}function S(A){return function(m,E){return[A([[+E[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+E[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+E[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+E[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+E[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),A([[+m[0][0],+E[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+E[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+E[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+E[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+E[4],+m[4][2],+m[4][3],+m[4][4]]]),A([[+m[0][0],+m[0][1],+E[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+E[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+E[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+E[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+E[4],+m[4][3],+m[4][4]]]),A([[+m[0][0],+m[0][1],+m[0][2],+E[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+E[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+E[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+E[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+E[4],+m[4][4]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+E[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+E[4]]]),A(m)]}}function c(A){return function(m,E){return[A([[+E[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+E[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+E[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+E[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+E[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+E[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+E[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+E[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+E[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+E[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+E[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+E[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+E[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+E[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+E[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+E[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+E[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+E[5],+m[5][3],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+E[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+E[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+E[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+E[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+E[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+E[5],+m[5][4],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+E[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+E[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+E[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+E[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+E[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+E[5],+m[5][5]]]),A([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+E[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+E[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+E[5]]]),A(m)]}}var o=[u,f];function d(A,C,m,E,b,s,L,T){return function(_,B){switch(_.length){case 0:return A(_,B);case 1:return C(_,B);case 2:return m(_,B);case 3:return E(_,B);case 4:return b(_,B);case 5:return s(_,B)}var F=L[_.length];return F||(F=L[_.length]=T(_.length)),F(_,B)}}function w(){for(;o.length<i;)o.push(n(o.length));v.exports=d.apply(void 0,o.concat([o,n]));for(var A=0;A<i;++A)v.exports[A]=o[A]}w()},417:function(v,p,r){var t=r(9660),i=r(9662),n=r(8289),u=r(4078),f=5,l=11102230246251565e-32,y=(3+16*l)*l,h=(7+56*l)*l;function S(s,L,T,k){return function(B,F,O){var N=s(s(L(F[1],O[0]),L(-O[1],F[0])),s(L(B[1],F[0]),L(-F[1],B[0]))),z=s(L(B[1],O[0]),L(-O[1],B[0])),V=k(N,z);return V[V.length-1]}}function c(s,L,T,k){return function(B,F,O,N){var z=s(s(T(s(L(O[1],N[0]),L(-N[1],O[0])),F[2]),s(T(s(L(F[1],N[0]),L(-N[1],F[0])),-O[2]),T(s(L(F[1],O[0]),L(-O[1],F[0])),N[2]))),s(T(s(L(F[1],N[0]),L(-N[1],F[0])),B[2]),s(T(s(L(B[1],N[0]),L(-N[1],B[0])),-F[2]),T(s(L(B[1],F[0]),L(-F[1],B[0])),N[2])))),V=s(s(T(s(L(O[1],N[0]),L(-N[1],O[0])),B[2]),s(T(s(L(B[1],N[0]),L(-N[1],B[0])),-O[2]),T(s(L(B[1],O[0]),L(-O[1],B[0])),N[2]))),s(T(s(L(F[1],O[0]),L(-O[1],F[0])),B[2]),s(T(s(L(B[1],O[0]),L(-O[1],B[0])),-F[2]),T(s(L(B[1],F[0]),L(-F[1],B[0])),O[2])))),W=k(z,V);return W[W.length-1]}}function o(s,L,T,k){return function(B,F,O,N,z){var V=s(s(s(T(s(T(s(L(N[1],z[0]),L(-z[1],N[0])),O[2]),s(T(s(L(O[1],z[0]),L(-z[1],O[0])),-N[2]),T(s(L(O[1],N[0]),L(-N[1],O[0])),z[2]))),F[3]),s(T(s(T(s(L(N[1],z[0]),L(-z[1],N[0])),F[2]),s(T(s(L(F[1],z[0]),L(-z[1],F[0])),-N[2]),T(s(L(F[1],N[0]),L(-N[1],F[0])),z[2]))),-O[3]),T(s(T(s(L(O[1],z[0]),L(-z[1],O[0])),F[2]),s(T(s(L(F[1],z[0]),L(-z[1],F[0])),-O[2]),T(s(L(F[1],O[0]),L(-O[1],F[0])),z[2]))),N[3]))),s(T(s(T(s(L(O[1],N[0]),L(-N[1],O[0])),F[2]),s(T(s(L(F[1],N[0]),L(-N[1],F[0])),-O[2]),T(s(L(F[1],O[0]),L(-O[1],F[0])),N[2]))),-z[3]),s(T(s(T(s(L(N[1],z[0]),L(-z[1],N[0])),F[2]),s(T(s(L(F[1],z[0]),L(-z[1],F[0])),-N[2]),T(s(L(F[1],N[0]),L(-N[1],F[0])),z[2]))),B[3]),T(s(T(s(L(N[1],z[0]),L(-z[1],N[0])),B[2]),s(T(s(L(B[1],z[0]),L(-z[1],B[0])),-N[2]),T(s(L(B[1],N[0]),L(-N[1],B[0])),z[2]))),-F[3])))),s(s(T(s(T(s(L(F[1],z[0]),L(-z[1],F[0])),B[2]),s(T(s(L(B[1],z[0]),L(-z[1],B[0])),-F[2]),T(s(L(B[1],F[0]),L(-F[1],B[0])),z[2]))),N[3]),s(T(s(T(s(L(F[1],N[0]),L(-N[1],F[0])),B[2]),s(T(s(L(B[1],N[0]),L(-N[1],B[0])),-F[2]),T(s(L(B[1],F[0]),L(-F[1],B[0])),N[2]))),-z[3]),T(s(T(s(L(O[1],N[0]),L(-N[1],O[0])),F[2]),s(T(s(L(F[1],N[0]),L(-N[1],F[0])),-O[2]),T(s(L(F[1],O[0]),L(-O[1],F[0])),N[2]))),B[3]))),s(T(s(T(s(L(O[1],N[0]),L(-N[1],O[0])),B[2]),s(T(s(L(B[1],N[0]),L(-N[1],B[0])),-O[2]),T(s(L(B[1],O[0]),L(-O[1],B[0])),N[2]))),-F[3]),s(T(s(T(s(L(F[1],N[0]),L(-N[1],F[0])),B[2]),s(T(s(L(B[1],N[0]),L(-N[1],B[0])),-F[2]),T(s(L(B[1],F[0]),L(-F[1],B[0])),N[2]))),O[3]),T(s(T(s(L(F[1],O[0]),L(-O[1],F[0])),B[2]),s(T(s(L(B[1],O[0]),L(-O[1],B[0])),-F[2]),T(s(L(B[1],F[0]),L(-F[1],B[0])),O[2]))),-N[3]))))),W=s(s(s(T(s(T(s(L(N[1],z[0]),L(-z[1],N[0])),O[2]),s(T(s(L(O[1],z[0]),L(-z[1],O[0])),-N[2]),T(s(L(O[1],N[0]),L(-N[1],O[0])),z[2]))),B[3]),T(s(T(s(L(N[1],z[0]),L(-z[1],N[0])),B[2]),s(T(s(L(B[1],z[0]),L(-z[1],B[0])),-N[2]),T(s(L(B[1],N[0]),L(-N[1],B[0])),z[2]))),-O[3])),s(T(s(T(s(L(O[1],z[0]),L(-z[1],O[0])),B[2]),s(T(s(L(B[1],z[0]),L(-z[1],B[0])),-O[2]),T(s(L(B[1],O[0]),L(-O[1],B[0])),z[2]))),N[3]),T(s(T(s(L(O[1],N[0]),L(-N[1],O[0])),B[2]),s(T(s(L(B[1],N[0]),L(-N[1],B[0])),-O[2]),T(s(L(B[1],O[0]),L(-O[1],B[0])),N[2]))),-z[3]))),s(s(T(s(T(s(L(O[1],z[0]),L(-z[1],O[0])),F[2]),s(T(s(L(F[1],z[0]),L(-z[1],F[0])),-O[2]),T(s(L(F[1],O[0]),L(-O[1],F[0])),z[2]))),B[3]),T(s(T(s(L(O[1],z[0]),L(-z[1],O[0])),B[2]),s(T(s(L(B[1],z[0]),L(-z[1],B[0])),-O[2]),T(s(L(B[1],O[0]),L(-O[1],B[0])),z[2]))),-F[3])),s(T(s(T(s(L(F[1],z[0]),L(-z[1],F[0])),B[2]),s(T(s(L(B[1],z[0]),L(-z[1],B[0])),-F[2]),T(s(L(B[1],F[0]),L(-F[1],B[0])),z[2]))),O[3]),T(s(T(s(L(F[1],O[0]),L(-O[1],F[0])),B[2]),s(T(s(L(B[1],O[0]),L(-O[1],B[0])),-F[2]),T(s(L(B[1],F[0]),L(-F[1],B[0])),O[2]))),-z[3])))),$=k(V,W);return $[$.length-1]}}function d(s){var L=s===3?S:s===4?c:o;return L(i,t,n,u)}var w=d(3),A=d(4),C=[function(){return 0},function(){return 0},function(L,T){return T[0]-L[0]},function(L,T,k){var _=(L[1]-k[1])*(T[0]-k[0]),B=(L[0]-k[0])*(T[1]-k[1]),F=_-B,O;if(_>0){if(B<=0)return F;O=_+B}else if(_<0){if(B>=0)return F;O=-(_+B)}else return F;var N=y*O;return F>=N||F<=-N?F:w(L,T,k)},function(L,T,k,_){var B=L[0]-_[0],F=T[0]-_[0],O=k[0]-_[0],N=L[1]-_[1],z=T[1]-_[1],V=k[1]-_[1],W=L[2]-_[2],$=T[2]-_[2],re=k[2]-_[2],ne=F*V,ue=O*z,J=O*N,X=B*V,oe=B*z,Y=F*N,q=W*(ne-ue)+$*(J-X)+re*(oe-Y),se=(Math.abs(ne)+Math.abs(ue))*Math.abs(W)+(Math.abs(J)+Math.abs(X))*Math.abs($)+(Math.abs(oe)+Math.abs(Y))*Math.abs(re),Q=h*se;return q>Q||-q>Q?q:A(L,T,k,_)}];function m(s){var L=C[s.length];return L||(L=C[s.length]=d(s.length)),L.apply(void 0,s)}function E(s,L,T,k,_,B,F){return function(N,z,V,W,$){switch(arguments.length){case 0:case 1:return 0;case 2:return k(N,z);case 3:return _(N,z,V);case 4:return B(N,z,V,W);case 5:return F(N,z,V,W,$)}for(var re=new Array(arguments.length),ne=0;ne<arguments.length;++ne)re[ne]=arguments[ne];return s(re)}}function b(){for(;C.length<=f;)C.push(d(C.length));v.exports=E.apply(void 0,[m].concat(C));for(var s=0;s<=f;++s)v.exports[s]=C[s]}b()},2019:function(v,p,r){var t=r(9662),i=r(8289);v.exports=n;function n(u,f){if(u.length===1)return i(f,u[0]);if(f.length===1)return i(u,f[0]);if(u.length===0||f.length===0)return[0];var l=[0];if(u.length<f.length)for(var y=0;y<u.length;++y)l=t(l,i(f,u[y]));else for(var y=0;y<f.length;++y)l=t(l,i(u,f[y]));return l}},8289:function(v,p,r){var t=r(9660),i=r(87);v.exports=n;function n(u,f){var l=u.length;if(l===1){var y=t(u[0],f);return y[0]?y:[y[1]]}var h=new Array(2*l),S=[.1,.1],c=[.1,.1],o=0;t(u[0],f,S),S[0]&&(h[o++]=S[0]);for(var d=1;d<l;++d){t(u[d],f,c);var w=S[1];i(w,c[0],S),S[0]&&(h[o++]=S[0]);var A=c[1],C=S[1],m=A+C,E=m-A,b=C-E;S[1]=m,b&&(h[o++]=b)}return S[1]&&(h[o++]=S[1]),o===0&&(h[o++]=0),h.length=o,h}},4434:function(v,p,r){v.exports=n;var t=r(417)[3];function i(u,f,l,y){for(var h=0;h<2;++h){var S=u[h],c=f[h],o=Math.min(S,c),d=Math.max(S,c),w=l[h],A=y[h],C=Math.min(w,A),m=Math.max(w,A);if(m<o||d<C)return!1}return!0}function n(u,f,l,y){var h=t(u,l,y),S=t(f,l,y);if(h>0&&S>0||h<0&&S<0)return!1;var c=t(l,u,f),o=t(y,u,f);return c>0&&o>0||c<0&&o<0?!1:h===0&&S===0&&c===0&&o===0?i(u,f,l,y):!0}},4078:function(v){v.exports=r;function p(t,i){var n=t+i,u=n-t,f=n-u,l=i-u,y=t-f,h=y+l;return h?[h,n]:[n]}function r(t,i){var n=t.length|0,u=i.length|0;if(n===1&&u===1)return p(t[0],-i[0]);var f=n+u,l=new Array(f),y=0,h=0,S=0,c=Math.abs,o=t[h],d=c(o),w=-i[S],A=c(w),C,m;d<A?(m=o,h+=1,h<n&&(o=t[h],d=c(o))):(m=w,S+=1,S<u&&(w=-i[S],A=c(w))),h<n&&d<A||S>=u?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=w,S+=1,S<u&&(w=-i[S],A=c(w)));for(var E=C+m,b=E-C,s=m-b,L=s,T=E,k,_,B,F,O;h<n&&S<u;)d<A?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=w,S+=1,S<u&&(w=-i[S],A=c(w))),m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=T+E,_=k-T,B=k-_,F=E-_,O=T-B,L=O+F,T=k;for(;h<n;)C=o,m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=T+E,_=k-T,B=k-_,F=E-_,O=T-B,L=O+F,T=k,h+=1,h<n&&(o=t[h]);for(;S<u;)C=w,m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=T+E,_=k-T,B=k-_,F=E-_,O=T-B,L=O+F,T=k,S+=1,S<u&&(w=-i[S]);return L&&(l[y++]=L),T&&(l[y++]=T),y||(l[y++]=0),l.length=y,l}},9662:function(v){v.exports=r;function p(t,i){var n=t+i,u=n-t,f=n-u,l=i-u,y=t-f,h=y+l;return h?[h,n]:[n]}function r(t,i){var n=t.length|0,u=i.length|0;if(n===1&&u===1)return p(t[0],i[0]);var f=n+u,l=new Array(f),y=0,h=0,S=0,c=Math.abs,o=t[h],d=c(o),w=i[S],A=c(w),C,m;d<A?(m=o,h+=1,h<n&&(o=t[h],d=c(o))):(m=w,S+=1,S<u&&(w=i[S],A=c(w))),h<n&&d<A||S>=u?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=w,S+=1,S<u&&(w=i[S],A=c(w)));for(var E=C+m,b=E-C,s=m-b,L=s,T=E,k,_,B,F,O;h<n&&S<u;)d<A?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=w,S+=1,S<u&&(w=i[S],A=c(w))),m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=T+E,_=k-T,B=k-_,F=E-_,O=T-B,L=O+F,T=k;for(;h<n;)C=o,m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=T+E,_=k-T,B=k-_,F=E-_,O=T-B,L=O+F,T=k,h+=1,h<n&&(o=t[h]);for(;S<u;)C=w,m=L,E=C+m,b=E-C,s=m-b,s&&(l[y++]=s),k=T+E,_=k-T,B=k-_,F=E-_,O=T-B,L=O+F,T=k,S+=1,S<u&&(w=i[S]);return L&&(l[y++]=L),T&&(l[y++]=T),y||(l[y++]=0),l.length=y,l}},8691:function(v,p,r){v.exports=n;var t=r(2692),i=r(7037);function n(u){return i(t(u))}},7212:function(v,p,r){v.exports=o;var t=r(5050),i=r(5306),n=r(8729),u=r(1168);function f(d){for(var w=d.length,A=0,C=0;C<w;++C)A=Math.max(A,d[C].length)|0;return A-1}function l(d,w){for(var A=d.length,C=i.mallocUint8(A),m=0;m<A;++m)C[m]=d[m]<w|0;return C}function y(d,w){for(var A=d.length,C=w*(w+1)/2*A|0,m=i.mallocUint32(C*2),E=0,b=0;b<A;++b)for(var s=d[b],w=s.length,L=0;L<w;++L)for(var T=0;T<L;++T){var k=s[T],_=s[L];m[E++]=Math.min(k,_)|0,m[E++]=Math.max(k,_)|0}var B=E/2|0;n(t(m,[B,2]));for(var F=2,b=2;b<E;b+=2)m[b-2]===m[b]&&m[b-1]===m[b+1]||(m[F++]=m[b],m[F++]=m[b+1]);return t(m,[F/2|0,2])}function h(d,w,A,C){for(var m=d.data,E=d.shape[0],b=i.mallocDouble(E),s=0,L=0;L<E;++L){var T=m[2*L],k=m[2*L+1];if(A[T]!==A[k]){var _=w[T],B=w[k];m[2*s]=T,m[2*s+1]=k,b[s++]=(B-C)/(B-_)}}return d.shape[0]=s,t(b,[s])}function S(d,w){var A=i.mallocInt32(w*2),C=d.shape[0],m=d.data;A[0]=0;for(var E=0,b=0;b<C;++b){var s=m[2*b];if(s!==E){for(A[2*E+1]=b;++E<s;)A[2*E]=b,A[2*E+1]=b;A[2*E]=b}}for(A[2*E+1]=C;++E<w;)A[2*E]=A[2*E+1]=C;return A}function c(d){for(var w=d.shape[0]|0,A=d.data,C=new Array(w),m=0;m<w;++m)C[m]=[A[2*m],A[2*m+1]];return C}function o(d,w,A,C){A=A||0,typeof C>"u"&&(C=f(d));var m=d.length;if(m===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=l(w,+A),b=y(d,C),s=h(b,w,E,+A),L=S(b,w.length|0),T=u(C)(d,b.data,L,E),k=c(b),_=[].slice.call(s.data,0,s.shape[0]);return i.free(E),i.free(b.data),i.free(s.data),i.free(L),{cells:T,vertexIds:k,vertexWeights:_}}},1168:function(v){v.exports=r;var p=[function(){function i(n,u,f,l){for(var y=n.length,h=[],S=0;S<y;++S){var c=n[S];c.length}return h}return i},function(){function i(u,f,l,y){for(var h=Math.min(l,y)|0,S=Math.max(l,y)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,w=f[2*d+1];if(w===S)return d;S<w?o=d:c=d+1}return c}function n(u,f,l,y){for(var h=u.length,S=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===2){var w=(y[o[0]]<<0)+(y[o[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:S.push([i(l,f,o[0],o[1])]);break;case 2:S.push([i(l,f,o[1],o[0])]);break}}}return S}return n},function(){function i(u,f,l,y){for(var h=Math.min(l,y)|0,S=Math.max(l,y)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,w=f[2*d+1];if(w===S)return d;S<w?o=d:c=d+1}return c}function n(u,f,l,y){for(var h=u.length,S=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===3){var w=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2);if(w===0||w===7)continue;switch(w){case 0:break;case 1:S.push([i(l,f,o[0],o[2]),i(l,f,o[0],o[1])]);break;case 2:S.push([i(l,f,o[1],o[0]),i(l,f,o[1],o[2])]);break;case 3:S.push([i(l,f,o[0],o[2]),i(l,f,o[1],o[2])]);break;case 4:S.push([i(l,f,o[2],o[1]),i(l,f,o[2],o[0])]);break;case 5:S.push([i(l,f,o[2],o[1]),i(l,f,o[0],o[1])]);break;case 6:S.push([i(l,f,o[1],o[0]),i(l,f,o[2],o[0])]);break}}else if(d===2){var w=(y[o[0]]<<0)+(y[o[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:S.push([i(l,f,o[0],o[1])]);break;case 2:S.push([i(l,f,o[1],o[0])]);break}}}return S}return n},function(){function i(u,f,l,y){for(var h=Math.min(l,y)|0,S=Math.max(l,y)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,w=f[2*d+1];if(w===S)return d;S<w?o=d:c=d+1}return c}function n(u,f,l,y){for(var h=u.length,S=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===4){var w=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2)+(y[o[3]]<<3);if(w===0||w===15)continue;switch(w){case 0:break;case 1:S.push([i(l,f,o[0],o[1]),i(l,f,o[0],o[2]),i(l,f,o[0],o[3])]);break;case 2:S.push([i(l,f,o[1],o[2]),i(l,f,o[1],o[0]),i(l,f,o[1],o[3])]);break;case 3:S.push([i(l,f,o[1],o[2]),i(l,f,o[0],o[2]),i(l,f,o[0],o[3])],[i(l,f,o[1],o[3]),i(l,f,o[1],o[2]),i(l,f,o[0],o[3])]);break;case 4:S.push([i(l,f,o[2],o[0]),i(l,f,o[2],o[1]),i(l,f,o[2],o[3])]);break;case 5:S.push([i(l,f,o[0],o[1]),i(l,f,o[2],o[1]),i(l,f,o[0],o[3])],[i(l,f,o[2],o[1]),i(l,f,o[2],o[3]),i(l,f,o[0],o[3])]);break;case 6:S.push([i(l,f,o[2],o[0]),i(l,f,o[1],o[0]),i(l,f,o[1],o[3])],[i(l,f,o[2],o[3]),i(l,f,o[2],o[0]),i(l,f,o[1],o[3])]);break;case 7:S.push([i(l,f,o[0],o[3]),i(l,f,o[1],o[3]),i(l,f,o[2],o[3])]);break;case 8:S.push([i(l,f,o[3],o[1]),i(l,f,o[3],o[0]),i(l,f,o[3],o[2])]);break;case 9:S.push([i(l,f,o[3],o[1]),i(l,f,o[0],o[1]),i(l,f,o[0],o[2])],[i(l,f,o[3],o[2]),i(l,f,o[3],o[1]),i(l,f,o[0],o[2])]);break;case 10:S.push([i(l,f,o[1],o[0]),i(l,f,o[3],o[0]),i(l,f,o[1],o[2])],[i(l,f,o[3],o[0]),i(l,f,o[3],o[2]),i(l,f,o[1],o[2])]);break;case 11:S.push([i(l,f,o[1],o[2]),i(l,f,o[0],o[2]),i(l,f,o[3],o[2])]);break;case 12:S.push([i(l,f,o[3],o[0]),i(l,f,o[2],o[0]),i(l,f,o[2],o[1])],[i(l,f,o[3],o[1]),i(l,f,o[3],o[0]),i(l,f,o[2],o[1])]);break;case 13:S.push([i(l,f,o[0],o[1]),i(l,f,o[2],o[1]),i(l,f,o[3],o[1])]);break;case 14:S.push([i(l,f,o[2],o[0]),i(l,f,o[1],o[0]),i(l,f,o[3],o[0])]);break}}else if(d===3){var w=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2);if(w===0||w===7)continue;switch(w){case 0:break;case 1:S.push([i(l,f,o[0],o[2]),i(l,f,o[0],o[1])]);break;case 2:S.push([i(l,f,o[1],o[0]),i(l,f,o[1],o[2])]);break;case 3:S.push([i(l,f,o[0],o[2]),i(l,f,o[1],o[2])]);break;case 4:S.push([i(l,f,o[2],o[1]),i(l,f,o[2],o[0])]);break;case 5:S.push([i(l,f,o[2],o[1]),i(l,f,o[0],o[1])]);break;case 6:S.push([i(l,f,o[1],o[0]),i(l,f,o[2],o[0])]);break}}else if(d===2){var w=(y[o[0]]<<0)+(y[o[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:S.push([i(l,f,o[0],o[1])]);break;case 2:S.push([i(l,f,o[1],o[0])]);break}}}return S}return n}];function r(t){return p[t]()}},8211:function(v,p,r){r(2288),r(1731);function t(i,n){var u=i.length,f=i.length-n.length,l=Math.min;if(f)return f;switch(u){case 0:return 0;case 1:return i[0]-n[0];case 2:var o=i[0]+i[1]-n[0]-n[1];return o||l(i[0],i[1])-l(n[0],n[1]);case 3:var y=i[0]+i[1],h=n[0]+n[1];if(o=y+i[2]-(h+n[2]),o)return o;var S=l(i[0],i[1]),c=l(n[0],n[1]),o=l(S,i[2])-l(c,n[2]);return o||l(S+i[2],y)-l(c+n[2],h);default:var d=i.slice(0);d.sort();var w=n.slice(0);w.sort();for(var A=0;A<u;++A)if(f=d[A]-w[A],f)return f;return 0}}p.H=t},9392:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var u=n>>r-1;return(n^u)-u},p.min=function(n,u){return u^(n^u)&-(n<u)},p.max=function(n,u){return n^(n^u)&-(n<u)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var u,f;return u=(n>65535)<<4,n>>>=u,f=(n>255)<<3,n>>>=f,u|=f,f=(n>15)<<2,n>>>=f,u|=f,f=(n>3)<<1,n>>>=f,u|=f,u|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var u=0;u<256;++u){var f=u,l=u,y=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--y;n[u]=l<<y&255}})(i),p.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},p.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},p.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,u,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},p.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>t(n)+1}},6656:function(v,p,r){"use restrict";var t=r(9392),i=r(9521);function n(s){for(var L=0,T=Math.max,k=0,_=s.length;k<_;++k)L=T(L,s[k].length);return L-1}p.dimension=n;function u(s){for(var L=-1,T=Math.max,k=0,_=s.length;k<_;++k)for(var B=s[k],F=0,O=B.length;F<O;++F)L=T(L,B[F]);return L+1}p.countVertices=u;function f(s){for(var L=new Array(s.length),T=0,k=s.length;T<k;++T)L[T]=s[T].slice(0);return L}p.cloneCells=f;function l(s,L){var T=s.length,k=s.length-L.length,_=Math.min;if(k)return k;switch(T){case 0:return 0;case 1:return s[0]-L[0];case 2:var z=s[0]+s[1]-L[0]-L[1];return z||_(s[0],s[1])-_(L[0],L[1]);case 3:var B=s[0]+s[1],F=L[0]+L[1];if(z=B+s[2]-(F+L[2]),z)return z;var O=_(s[0],s[1]),N=_(L[0],L[1]),z=_(O,s[2])-_(N,L[2]);return z||_(O+s[2],B)-_(N+L[2],F);default:var V=s.slice(0);V.sort();var W=L.slice(0);W.sort();for(var $=0;$<T;++$)if(k=V[$]-W[$],k)return k;return 0}}p.compareCells=l;function y(s,L){return l(s[0],L[0])}function h(s,L){if(L){for(var T=s.length,k=new Array(T),_=0;_<T;++_)k[_]=[s[_],L[_]];k.sort(y);for(var _=0;_<T;++_)s[_]=k[_][0],L[_]=k[_][1];return s}else return s.sort(l),s}p.normalize=h;function S(s){if(s.length===0)return[];for(var L=1,T=s.length,k=1;k<T;++k){var _=s[k];if(l(_,s[k-1])){if(k===L){L++;continue}s[L++]=_}}return s.length=L,s}p.unique=S;function c(s,L){for(var T=0,k=s.length-1,_=-1;T<=k;){var B=T+k>>1,F=l(s[B],L);F<=0?(F===0&&(_=B),T=B+1):F>0&&(k=B-1)}return _}p.findCell=c;function o(s,L){for(var T=new Array(s.length),k=0,_=T.length;k<_;++k)T[k]=[];for(var B=[],k=0,F=L.length;k<F;++k)for(var O=L[k],N=O.length,z=1,V=1<<N;z<V;++z){B.length=t.popCount(z);for(var W=0,$=0;$<N;++$)z&1<<$&&(B[W++]=O[$]);var re=c(s,B);if(!(re<0))for(;T[re++].push(k),!(re>=s.length||l(s[re],B)!==0););}return T}p.incidence=o;function d(s,L){if(!L)return o(S(A(s,0)),s);for(var T=new Array(L),k=0;k<L;++k)T[k]=[];for(var k=0,_=s.length;k<_;++k)for(var B=s[k],F=0,O=B.length;F<O;++F)T[B[F]].push(k);return T}p.dual=d;function w(s){for(var L=[],T=0,k=s.length;T<k;++T)for(var _=s[T],B=_.length|0,F=1,O=1<<B;F<O;++F){for(var N=[],z=0;z<B;++z)F>>>z&1&&N.push(_[z]);L.push(N)}return h(L)}p.explode=w;function A(s,L){if(L<0)return[];for(var T=[],k=(1<<L+1)-1,_=0;_<s.length;++_)for(var B=s[_],F=k;F<1<<B.length;F=t.nextCombination(F)){for(var O=new Array(L+1),N=0,z=0;z<B.length;++z)F&1<<z&&(O[N++]=B[z]);T.push(O)}return h(T)}p.skeleton=A;function C(s){for(var L=[],T=0,k=s.length;T<k;++T)for(var _=s[T],B=0,F=_.length;B<F;++B){for(var O=new Array(_.length-1),N=0,z=0;N<F;++N)N!==B&&(O[z++]=_[N]);L.push(O)}return h(L)}p.boundary=C;function m(s,L){for(var T=new i(L),k=0;k<s.length;++k)for(var _=s[k],B=0;B<_.length;++B)for(var F=B+1;F<_.length;++F)T.link(_[B],_[F]);for(var O=[],N=T.ranks,k=0;k<N.length;++k)N[k]=-1;for(var k=0;k<s.length;++k){var z=T.find(s[k][0]);N[z]<0?(N[z]=O.length,O.push([s[k].slice(0)])):O[N[z]].push(s[k].slice(0))}return O}function E(s){for(var L=S(h(A(s,0))),T=new i(L.length),k=0;k<s.length;++k)for(var _=s[k],B=0;B<_.length;++B)for(var F=c(L,[_[B]]),O=B+1;O<_.length;++O)T.link(F,c(L,[_[O]]));for(var N=[],z=T.ranks,k=0;k<z.length;++k)z[k]=-1;for(var k=0;k<s.length;++k){var V=T.find(c(L,[s[k][0]]));z[V]<0?(z[V]=N.length,N.push([s[k].slice(0)])):N[z[V]].push(s[k].slice(0))}return N}function b(s,L){return L?m(s,L):E(s)}p.connectedComponents=b},9521:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var i=t[r];t[r]=t[i],r=i}return r},p.prototype.link=function(r,t){var i=this.find(r),n=this.find(t);if(i!==n){var u=this.ranks,f=this.roots,l=u[i],y=u[n];l<y?f[i]=n:y<l?f[n]=i:(f[n]=i,++u[i])}}},8243:function(v,p,r){v.exports=u;var t=r(417),i=r(6656);function n(f,l,y){var h=Math.abs(t(f,l,y)),S=Math.sqrt(Math.pow(l[0]-y[0],2)+Math.pow(l[1]-y[1],2));return h/S}function u(f,l,y){for(var h=l.length,S=f.length,c=new Array(h),o=new Array(h),d=new Array(h),w=new Array(h),A=0;A<h;++A)c[A]=o[A]=-1,d[A]=1/0,w[A]=!1;for(var A=0;A<S;++A){var C=f[A];if(C.length!==2)throw new Error("Input must be a graph");var m=C[1],E=C[0];o[E]!==-1?o[E]=-2:o[E]=m,c[m]!==-1?c[m]=-2:c[m]=E}function b(J){if(w[J])return 1/0;var X=c[J],oe=o[J];return X<0||oe<0?1/0:n(l[J],l[X],l[oe])}function s(J,X){var oe=N[J],Y=N[X];N[J]=Y,N[X]=oe,z[oe]=X,z[Y]=J}function L(J){return d[N[J]]}function T(J){return J&1?J-1>>1:(J>>1)-1}function k(J){for(var X=L(J);;){var oe=X,Y=2*J+1,q=2*(J+1),se=J;if(Y<W){var Q=L(Y);Q<oe&&(se=Y,oe=Q)}if(q<W){var K=L(q);K<oe&&(se=q)}if(se===J)return J;s(J,se),J=se}}function _(J){for(var X=L(J);J>0;){var oe=T(J);if(oe>=0){var Y=L(oe);if(X<Y){s(J,oe),J=oe;continue}}return J}}function B(){if(W>0){var J=N[0];return s(0,W-1),W-=1,k(0),J}return-1}function F(J,X){var oe=N[J];return d[oe]===X?J:(d[oe]=-1/0,_(J),B(),d[oe]=X,W+=1,_(W-1))}function O(J){if(!w[J]){w[J]=!0;var X=c[J],oe=o[J];c[oe]>=0&&(c[oe]=X),o[X]>=0&&(o[X]=oe),z[X]>=0&&F(z[X],b(X)),z[oe]>=0&&F(z[oe],b(oe))}}for(var N=[],z=new Array(h),A=0;A<h;++A){var V=d[A]=b(A);V<1/0?(z[A]=N.length,N.push(A)):z[A]=-1}for(var W=N.length,A=W>>1;A>=0;--A)k(A);for(;;){var $=B();if($<0||d[$]>y)break;O($)}for(var re=[],A=0;A<h;++A)w[A]||(z[A]=re.length,re.push(l[A].slice()));re.length;function ne(J,X){if(J[X]<0)return X;var oe=X,Y=X;do{var q=J[Y];if(!w[Y]||q<0||q===Y||(Y=q,q=J[Y],!w[Y]||q<0||q===Y))break;Y=q,oe=J[oe]}while(oe!==Y);for(var se=X;se!==Y;se=J[se])J[se]=Y;return Y}var ue=[];return f.forEach(function(J){var X=ne(c,J[0]),oe=ne(o,J[1]);if(X>=0&&oe>=0&&X!==oe){var Y=z[X],q=z[oe];Y!==q&&ue.push([Y,q])}}),i.unique(i.normalize(ue)),{positions:re,edges:ue}}},6638:function(v,p,r){v.exports=n;var t=r(417);function i(u,f){var l,y;if(f[0][0]<f[1][0])l=f[0],y=f[1];else if(f[0][0]>f[1][0])l=f[1],y=f[0];else{var h=Math.min(u[0][1],u[1][1]),S=Math.max(u[0][1],u[1][1]),c=Math.min(f[0][1],f[1][1]),o=Math.max(f[0][1],f[1][1]);return S<c?S-c:h>o?h-o:S-o}var d,w;u[0][1]<u[1][1]?(d=u[0],w=u[1]):(d=u[1],w=u[0]);var A=t(y,l,d);return A||(A=t(y,l,w),A)?A:w-y}function n(u,f){var l,y;if(f[0][0]<f[1][0])l=f[0],y=f[1];else if(f[0][0]>f[1][0])l=f[1],y=f[0];else return i(f,u);var h,S;if(u[0][0]<u[1][0])h=u[0],S=u[1];else if(u[0][0]>u[1][0])h=u[1],S=u[0];else return-i(u,f);var c=t(l,y,S),o=t(l,y,h);if(c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;if(c=t(S,h,y),o=t(S,h,l),c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;return y[0]-S[0]}},4385:function(v,p,r){v.exports=o;var t=r(5070),i=r(7080),n=r(417),u=r(6638);function f(d,w,A){this.slabs=d,this.coordinates=w,this.horizontal=A}var l=f.prototype;function y(d,w){return d.y-w}function h(d,w){for(var A=null;d;){var C=d.key,m,E;C[0][0]<C[1][0]?(m=C[0],E=C[1]):(m=C[1],E=C[0]);var b=n(m,E,w);if(b<0)d=d.left;else if(b>0)if(w[0]!==C[1][0])A=d,d=d.right;else{var s=h(d.right,w);if(s)return s;d=d.left}else{if(w[0]!==C[1][0])return d;var s=h(d.right,w);if(s)return s;d=d.left}}return A}l.castUp=function(d){var w=t.le(this.coordinates,d[0]);if(w<0)return-1;this.slabs[w];var A=h(this.slabs[w],d),C=-1;if(A&&(C=A.value),this.coordinates[w]===d[0]){var m=null;if(A&&(m=A.key),w>0){var E=h(this.slabs[w-1],d);E&&(m?u(E.key,m)>0&&(m=E.key,C=E.value):(C=E.value,m=E.key))}var b=this.horizontal[w];if(b.length>0){var s=t.ge(b,d[1],y);if(s<b.length){var L=b[s];if(d[1]===L.y){if(L.closed)return L.index;for(;s<b.length-1&&b[s+1].y===d[1];)if(s=s+1,L=b[s],L.closed)return L.index;if(L.y===d[1]&&!L.start){if(s=s+1,s>=b.length)return C;L=b[s]}}if(L.start)if(m){var T=n(m[0],m[1],[d[0],L.y]);m[0][0]>m[1][0]&&(T=-T),T>0&&(C=L.index)}else C=L.index;else L.y!==d[1]&&(C=L.index)}}}return C};function S(d,w,A,C){this.y=d,this.index=w,this.start=A,this.closed=C}function c(d,w,A,C){this.x=d,this.segment=w,this.create=A,this.index=C}function o(d){for(var w=d.length,A=2*w,C=new Array(A),m=0;m<w;++m){var E=d[m],b=E[0][0]<E[1][0];C[2*m]=new c(E[0][0],E,b,m),C[2*m+1]=new c(E[1][0],E,!b,m)}C.sort(function(O,N){var z=O.x-N.x;return z||(z=O.create-N.create,z)?z:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});for(var s=i(u),L=[],T=[],k=[],m=0;m<A;){for(var _=C[m].x,B=[];m<A;){var F=C[m];if(F.x!==_)break;m+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(B.push(new S(F.segment[0][1],F.index,!0,!0)),B.push(new S(F.segment[1][1],F.index,!1,!1))):(B.push(new S(F.segment[1][1],F.index,!0,!1)),B.push(new S(F.segment[0][1],F.index,!1,!0)))):F.create?s=s.insert(F.segment,F.index):s=s.remove(F.segment)}L.push(s.root),T.push(_),k.push(B)}return new f(L,T,k)}},4670:function(v,p,r){var t=r(9130),i=r(9662);v.exports=f,v.exports.positive=l,v.exports.negative=y;function n(h,S){var c=i(t(h,S),[S[S.length-1]]);return c[c.length-1]}function u(h,S,c,o){var d=o-S,w=-S/d;w<0?w=0:w>1&&(w=1);for(var A=1-w,C=h.length,m=new Array(C),E=0;E<C;++E)m[E]=w*h[E]+A*c[E];return m}function f(h,S){for(var c=[],o=[],d=n(h[h.length-1],S),w=h[h.length-1],A=h[0],C=0;C<h.length;++C,w=A){A=h[C];var m=n(A,S);if(d<0&&m>0||d>0&&m<0){var E=u(w,m,A,d);c.push(E),o.push(E.slice())}m<0?o.push(A.slice()):m>0?c.push(A.slice()):(c.push(A.slice()),o.push(A.slice())),d=m}return{positive:c,negative:o}}function l(h,S){for(var c=[],o=n(h[h.length-1],S),d=h[h.length-1],w=h[0],A=0;A<h.length;++A,d=w){w=h[A];var C=n(w,S);(o<0&&C>0||o>0&&C<0)&&c.push(u(d,C,w,o)),C>=0&&c.push(w.slice()),o=C}return c}function y(h,S){for(var c=[],o=n(h[h.length-1],S),d=h[h.length-1],w=h[0],A=0;A<h.length;++A,d=w){w=h[A];var C=n(w,S);(o<0&&C>0||o>0&&C<0)&&c.push(u(d,C,w,o)),C<=0&&c.push(w.slice()),o=C}return c}},8974:function(v,p,r){var t;(function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return f(y(h),arguments)}function u(h,S){return n.apply(null,[h].concat(S||[]))}function f(h,S){var c=1,o=h.length,d,w="",A,C,m,E,b,s,L,T;for(A=0;A<o;A++)if(typeof h[A]=="string")w+=h[A];else if(typeof h[A]=="object"){if(m=h[A],m.keys)for(d=S[c],C=0;C<m.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[C],m.keys[C-1]));d=d[m.keys[C]]}else m.param_no?d=S[m.param_no]:d=S[c++];if(i.not_type.test(m.type)&&i.not_primitive.test(m.type)&&d instanceof Function&&(d=d()),i.numeric_arg.test(m.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(i.number.test(m.type)&&(L=d>=0),m.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,m.width?parseInt(m.width):0);break;case"e":d=m.precision?parseFloat(d).toExponential(m.precision):parseFloat(d).toExponential();break;case"f":d=m.precision?parseFloat(d).toFixed(m.precision):parseFloat(d);break;case"g":d=m.precision?String(Number(d.toPrecision(m.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=m.precision?d.substring(0,m.precision):d;break;case"t":d=String(!!d),d=m.precision?d.substring(0,m.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=m.precision?d.substring(0,m.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=m.precision?d.substring(0,m.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}i.json.test(m.type)?w+=d:(i.number.test(m.type)&&(!L||m.sign)?(T=L?"+":"-",d=d.toString().replace(i.sign,"")):T="",b=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",s=m.width-(T+d).length,E=m.width&&s>0?b.repeat(s):"",w+=m.align?T+d+E:b==="0"?T+E+d:E+T+d)}return w}var l=Object.create(null);function y(h){if(l[h])return l[h];for(var S=h,c,o=[],d=0;S;){if((c=i.text.exec(S))!==null)o.push(c[0]);else if((c=i.modulo.exec(S))!==null)o.push("%");else if((c=i.placeholder.exec(S))!==null){if(c[2]){d|=1;var w=[],A=c[2],C=[];if((C=i.key.exec(A))!==null)for(w.push(C[1]);(A=A.substring(C[0].length))!=="";)if((C=i.key_access.exec(A))!==null)w.push(C[1]);else if((C=i.index_access.exec(A))!==null)w.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=w}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");S=S.substring(c[0].length)}return l[h]=o}p.sprintf=n,p.vsprintf=u,typeof window<"u"&&(window.sprintf=n,window.vsprintf=u,t=(function(){return{sprintf:n,vsprintf:u}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},4162:function(v,p,r){v.exports=y;var t=r(9284),i=r(9584),n={"2d":function(h,S,c){var o=h({order:S,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(w,A,C,m){return w>m|0},vertex:function(w,A,C,m,E,b,s,L,T,k,_,B,F){var O=(s<<0)+(L<<1)+(T<<2)+(k<<3)|0;if(!(O===0||O===15))switch(O){case 0:_.push([w-.5,A-.5]);break;case 1:_.push([w-.25-.25*(m+C-2*F)/(C-m),A-.25-.25*(E+C-2*F)/(C-E)]);break;case 2:_.push([w-.75-.25*(-m-C+2*F)/(m-C),A-.25-.25*(b+m-2*F)/(m-b)]);break;case 3:_.push([w-.5,A-.5-.5*(E+C+b+m-4*F)/(C-E+m-b)]);break;case 4:_.push([w-.25-.25*(b+E-2*F)/(E-b),A-.75-.25*(-E-C+2*F)/(E-C)]);break;case 5:_.push([w-.5-.5*(m+C+b+E-4*F)/(C-m+E-b),A-.5]);break;case 6:_.push([w-.5-.25*(-m-C+b+E)/(m-C+E-b),A-.5-.25*(-E-C+b+m)/(E-C+m-b)]);break;case 7:_.push([w-.75-.25*(b+E-2*F)/(E-b),A-.75-.25*(b+m-2*F)/(m-b)]);break;case 8:_.push([w-.75-.25*(-b-E+2*F)/(b-E),A-.75-.25*(-b-m+2*F)/(b-m)]);break;case 9:_.push([w-.5-.25*(m+C+-b-E)/(C-m+b-E),A-.5-.25*(E+C+-b-m)/(C-E+b-m)]);break;case 10:_.push([w-.5-.5*(-m-C+-b-E+4*F)/(m-C+b-E),A-.5]);break;case 11:_.push([w-.25-.25*(-b-E+2*F)/(b-E),A-.75-.25*(E+C-2*F)/(C-E)]);break;case 12:_.push([w-.5,A-.5-.5*(-E-C+-b-m+4*F)/(E-C+b-m)]);break;case 13:_.push([w-.75-.25*(m+C-2*F)/(C-m),A-.25-.25*(-b-m+2*F)/(b-m)]);break;case 14:_.push([w-.25-.25*(-m-C+2*F)/(m-C),A-.25-.25*(-E-C+2*F)/(E-C)]);break;case 15:_.push([w-.5,A-.5]);break}},cell:function(w,A,C,m,E,b,s,L,T){E?L.push([w,A]):L.push([A,w])}});return function(d,w){var A=[],C=[];return o(d,A,C,w),{positions:A,cells:C}}}};function u(h,S){var c=h.length+"d",o=n[c];if(o)return o(t,h,S)}function f(h,S){for(var c=i(h,S),o=c.length,d=new Array(o),w=new Array(o),A=0;A<o;++A)d[A]=[c[A]],w[A]=[A];return{positions:d,cells:w}}var l={};function y(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return f(h,d);var c=h.order.join()+"-"+h.dtype,o=l[c],d=+d||0;return o||(o=l[c]=u(h.order,h.dtype)),o(h,d)}},6946:function(v,p,r){v.exports=f;var t=r(875),i=window||g.global||{},n=i.__TEXT_CACHE||{};i.__TEXT_CACHE={};function u(l){for(var y=l.cells,h=l.positions,S=new Float32Array(y.length*6),c=0,o=0,d=0;d<y.length;++d)for(var w=y[d],A=0;A<3;++A){var C=h[w[A]];S[c++]=C[0],S[c++]=C[1]+1.4,o=Math.max(C[0],o)}return{data:S,shape:o}}function f(l,y,S){var S=S||{},c=n[l];c||(c=n[l]={" ":{data:new Float32Array(0),shape:.2}});var o=c[y];if(!o)if(y.length<=1||!/\d/.test(y))o=c[y]=u(t(y,{triangles:!0,font:l,textAlign:S.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=y.split(/(\d|\s)/),w=new Array(d.length),A=0,C=0,m=0;m<d.length;++m)w[m]=f(l,d[m]),A+=w[m].data.length,C+=w[m].shape,m>0&&(C+=.02);for(var E=new Float32Array(A),b=0,s=-.5*C,m=0;m<w.length;++m){for(var L=w[m].data,T=0;T<L.length;T+=2)E[b++]=L[T]+s,E[b++]=L[T+1];s+=w[m].shape+.02}o=c[y]={data:E,shape:C}}return o}},14:function(v,p,r){var t=r(4405);v.exports=f;var i=96;function n(l,y){var h=t(getComputedStyle(l).getPropertyValue(y));return h[0]*f(h[1],l)}function u(l,y){var h=document.createElement("div");h.style["font-size"]="128"+l,y.appendChild(h);var S=n(h,"font-size")/128;return y.removeChild(h),S}function f(l,y){switch(y=y||document.body,l=(l||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),l){case"%":return y.clientHeight/100;case"ch":case"ex":return u(l,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},3440:function(v,p,r){v.exports=w;var t=r(8444),i=r(7437),n=r(4422),u=r(903),f=r(899),l=r(9305);function y(A,C,m){return Math.sqrt(Math.pow(A,2)+Math.pow(C,2)+Math.pow(m,2))}function h(A){return Math.min(1,Math.max(-1,A))}function S(A){var C=Math.abs(A[0]),m=Math.abs(A[1]),E=Math.abs(A[2]),b=[0,0,0];C>Math.max(m,E)?b[2]=1:m>Math.max(C,E)?b[0]=1:b[1]=1;for(var s=0,L=0,T=0;T<3;++T)s+=A[T]*A[T],L+=b[T]*A[T];for(var T=0;T<3;++T)b[T]-=L/s*A[T];return f(b,b),b}function c(A,C,m,E,b,s,L,T){this.center=t(m),this.up=t(E),this.right=t(b),this.radius=t([s]),this.angle=t([L,T]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var o=c.prototype;o.setDistanceLimits=function(A,C){A>0?A=Math.log(A):A=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=C},o.getDistanceLimits=function(A){var C=this.radius.bounds[0];return A?(A[0]=Math.exp(C[0][0]),A[1]=Math.exp(C[1][0]),A):[Math.exp(C[0][0]),Math.exp(C[1][0])]},o.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var C=this.computedUp,m=this.computedRight,E=0,b=0,s=0;s<3;++s)b+=C[s]*m[s],E+=C[s]*C[s];for(var L=Math.sqrt(E),T=0,s=0;s<3;++s)m[s]-=C[s]*b/E,T+=m[s]*m[s],C[s]/=L;for(var k=Math.sqrt(T),s=0;s<3;++s)m[s]/=k;var _=this.computedToward;u(_,C,m),f(_,_);for(var B=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],O=this.computedAngle[1],N=Math.cos(F),z=Math.sin(F),V=Math.cos(O),W=Math.sin(O),$=this.computedCenter,re=N*V,ne=z*V,ue=W,J=-N*W,X=-z*W,oe=V,Y=this.computedEye,q=this.computedMatrix,s=0;s<3;++s){var se=re*m[s]+ne*_[s]+ue*C[s];q[4*s+1]=J*m[s]+X*_[s]+oe*C[s],q[4*s+2]=se,q[4*s+3]=0}var Q=q[1],K=q[5],le=q[9],ie=q[2],ce=q[6],ye=q[10],Ce=K*ye-le*ce,Ae=le*ie-Q*ye,ke=Q*ce-K*ie,we=y(Ce,Ae,ke);Ce/=we,Ae/=we,ke/=we,q[0]=Ce,q[4]=Ae,q[8]=ke;for(var s=0;s<3;++s)Y[s]=$[s]+q[2+4*s]*B;for(var s=0;s<3;++s){for(var T=0,Ee=0;Ee<3;++Ee)T+=q[s+4*Ee]*Y[Ee];q[12+s]=-T}q[15]=1},o.getMatrix=function(A,C){this.recalcMatrix(A);var m=this.computedMatrix;if(C){for(var E=0;E<16;++E)C[E]=m[E];return C}return m};var d=[0,0,0];o.rotate=function(A,C,m,E){if(this.angle.move(A,C,m),E){this.recalcMatrix(A);var b=this.computedMatrix;d[0]=b[2],d[1]=b[6],d[2]=b[10];for(var s=this.computedUp,L=this.computedRight,T=this.computedToward,k=0;k<3;++k)b[4*k]=s[k],b[4*k+1]=L[k],b[4*k+2]=T[k];n(b,b,E,d);for(var k=0;k<3;++k)s[k]=b[4*k],L[k]=b[4*k+1];this.up.set(A,s[0],s[1],s[2]),this.right.set(A,L[0],L[1],L[2])}},o.pan=function(A,C,m,E){C=C||0,m=m||0,E=E||0,this.recalcMatrix(A);var b=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=b[1],L=b[5],T=b[9],k=y(s,L,T);s/=k,L/=k,T/=k;var _=b[0],B=b[4],F=b[8],O=_*s+B*L+F*T;_-=s*O,B-=L*O,F-=T*O;var N=y(_,B,F);_/=N,B/=N,F/=N;var z=_*C+s*m,V=B*C+L*m,W=F*C+T*m;this.center.move(A,z,V,W);var $=Math.exp(this.computedRadius[0]);$=Math.max(1e-4,$+E),this.radius.set(A,Math.log($))},o.translate=function(A,C,m,E){this.center.move(A,C||0,m||0,E||0)},o.setMatrix=function(A,C,m,E){var b=1;typeof m=="number"&&(b=m|0),(b<0||b>3)&&(b=1);var s=(b+2)%3;C||(this.recalcMatrix(A),C=this.computedMatrix);var L=C[b],T=C[b+4],k=C[b+8];if(E){var B=Math.abs(L),F=Math.abs(T),O=Math.abs(k),N=Math.max(B,F,O);B===N?(L=L<0?-1:1,T=k=0):O===N?(k=k<0?-1:1,L=T=0):(T=T<0?-1:1,L=k=0)}else{var _=y(L,T,k);L/=_,T/=_,k/=_}var z=C[s],V=C[s+4],W=C[s+8],$=z*L+V*T+W*k;z-=L*$,V-=T*$,W-=k*$;var re=y(z,V,W);z/=re,V/=re,W/=re;var ne=T*W-k*V,ue=k*z-L*W,J=L*V-T*z,X=y(ne,ue,J);ne/=X,ue/=X,J/=X,this.center.jump(A,Be,Ne,Xe),this.radius.idle(A),this.up.jump(A,L,T,k),this.right.jump(A,z,V,W);var oe,Y;if(b===2){var q=C[1],se=C[5],Q=C[9],K=q*z+se*V+Q*W,le=q*ne+se*ue+Q*J;Ce<0?oe=-Math.PI/2:oe=Math.PI/2,Y=Math.atan2(le,K)}else{var ie=C[2],ce=C[6],ye=C[10],Ce=ie*L+ce*T+ye*k,Ae=ie*z+ce*V+ye*W,ke=ie*ne+ce*ue+ye*J;oe=Math.asin(h(Ce)),Y=Math.atan2(ke,Ae)}this.angle.jump(A,Y,oe),this.recalcMatrix(A);var we=C[2],Ee=C[6],xe=C[10],Pe=this.computedMatrix;i(Pe,C);var Ue=Pe[15],Be=Pe[12]/Ue,Ne=Pe[13]/Ue,Xe=Pe[14]/Ue,ut=Math.exp(this.computedRadius[0]);this.center.jump(A,Be-we*ut,Ne-Ee*ut,Xe-xe*ut)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},o.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},o.setDistance=function(A,C){C>0&&this.radius.set(A,Math.log(C))},o.lookAt=function(A,C,m,E){this.recalcMatrix(A),C=C||this.computedEye,m=m||this.computedCenter,E=E||this.computedUp;var b=E[0],s=E[1],L=E[2],T=y(b,s,L);if(!(T<1e-6)){b/=T,s/=T,L/=T;var k=C[0]-m[0],_=C[1]-m[1],B=C[2]-m[2],F=y(k,_,B);if(!(F<1e-6)){k/=F,_/=F,B/=F;var O=this.computedRight,N=O[0],z=O[1],V=O[2],W=b*N+s*z+L*V;N-=W*b,z-=W*s,V-=W*L;var $=y(N,z,V);if(!($<.01&&(N=s*B-L*_,z=L*k-b*B,V=b*_-s*k,$=y(N,z,V),$<1e-6))){N/=$,z/=$,V/=$,this.up.set(A,b,s,L),this.right.set(A,N,z,V),this.center.set(A,m[0],m[1],m[2]),this.radius.set(A,Math.log(F));var re=s*V-L*z,ne=L*N-b*V,ue=b*z-s*N,J=y(re,ne,ue);re/=J,ne/=J,ue/=J;var X=b*k+s*_+L*B,oe=N*k+z*_+V*B,Y=re*k+ne*_+ue*B,q=Math.asin(h(X)),se=Math.atan2(Y,oe),Q=this.angle._state,K=Q[Q.length-1],le=Q[Q.length-2];K=K%(2*Math.PI);var ie=Math.abs(K+2*Math.PI-se),ce=Math.abs(K-se),ye=Math.abs(K-2*Math.PI-se);ie<ce&&(K+=2*Math.PI),ye<ce&&(K-=2*Math.PI),this.angle.jump(this.angle.lastT(),K,le),this.angle.set(A,se,q)}}}};function w(A){A=A||{};var C=A.center||[0,0,0],m=A.up||[0,1,0],E=A.right||S(m),b=A.radius||1,s=A.theta||0,L=A.phi||0;if(C=[].slice.call(C,0,3),m=[].slice.call(m,0,3),f(m,m),E=[].slice.call(E,0,3),f(E,E),"eye"in A){var T=A.eye,k=[T[0]-C[0],T[1]-C[1],T[2]-C[2]];u(E,k,m),y(E[0],E[1],E[2])<1e-6?E=S(m):f(E,E),b=y(k[0],k[1],k[2]);var _=l(m,k)/b,B=l(E,k)/b;L=Math.acos(_),s=Math.acos(B)}return b=Math.log(b),new c(A.zoomMin,A.zoomMax,C,m,E,b,s,L)}},9660:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,i,n){var u=t*i,f=p*t,l=f-t,y=f-l,h=t-y,S=p*i,c=S-i,o=S-c,d=i-o,w=u-y*o,A=w-h*o,C=A-y*d,m=h*d-C;return n?(n[0]=m,n[1]=u,n):[m,u]}},87:function(v){v.exports=p;function p(r,t,i){var n=r+t,u=n-r,f=n-u,l=t-u,y=r-f;return i?(i[0]=y+l,i[1]=n,i):[y+l,n]}},5306:function(v,p,r){var t=r(2288),i=r(3094),n=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var u=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",y=r.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=i([32,0])),y.BIGUINT64||(y.BIGUINT64=i([32,0])),y.BIGINT64||(y.BIGINT64=i([32,0])),y.BUFFER||(y.BUFFER=i([32,0]));var h=y.DATA,S=y.BUFFER;p.free=function(N){if(n.isBuffer(N))S[t.log2(N.length)].push(N);else{if(Object.prototype.toString.call(N)!=="[object ArrayBuffer]"&&(N=N.buffer),!N)return;var z=N.length||N.byteLength,V=t.log2(z)|0;h[V].push(N)}};function c(O){if(O){var N=O.length||O.byteLength,z=t.log2(N);h[z].push(O)}}function o(O){c(O.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=o,p.freeArrayBuffer=c,p.freeBuffer=function(N){S[t.log2(N.length)].push(N)},p.malloc=function(N,z){if(z===void 0||z==="arraybuffer")return d(N);switch(z){case"uint8":return w(N);case"uint16":return A(N);case"uint32":return C(N);case"int8":return m(N);case"int16":return E(N);case"int32":return b(N);case"float":case"float32":return s(N);case"double":case"float64":return L(N);case"uint8_clamped":return T(N);case"bigint64":return _(N);case"biguint64":return k(N);case"buffer":return F(N);case"data":case"dataview":return B(N);default:return null}return null};function d(N){var N=t.nextPow2(N),z=t.log2(N),V=h[z];return V.length>0?V.pop():new ArrayBuffer(N)}p.mallocArrayBuffer=d;function w(O){return new Uint8Array(d(O),0,O)}p.mallocUint8=w;function A(O){return new Uint16Array(d(2*O),0,O)}p.mallocUint16=A;function C(O){return new Uint32Array(d(4*O),0,O)}p.mallocUint32=C;function m(O){return new Int8Array(d(O),0,O)}p.mallocInt8=m;function E(O){return new Int16Array(d(2*O),0,O)}p.mallocInt16=E;function b(O){return new Int32Array(d(4*O),0,O)}p.mallocInt32=b;function s(O){return new Float32Array(d(4*O),0,O)}p.mallocFloat32=p.mallocFloat=s;function L(O){return new Float64Array(d(8*O),0,O)}p.mallocFloat64=p.mallocDouble=L;function T(O){return u?new Uint8ClampedArray(d(O),0,O):w(O)}p.mallocUint8Clamped=T;function k(O){return f?new BigUint64Array(d(8*O),0,O):null}p.mallocBigUint64=k;function _(O){return l?new BigInt64Array(d(8*O),0,O):null}p.mallocBigInt64=_;function B(O){return new DataView(d(O),0,O)}p.mallocDataView=B;function F(O){O=t.nextPow2(O);var N=t.log2(O),z=S[N];return z.length>0?z.pop():new n(O)}p.mallocBuffer=F,p.clearCache=function(){for(var N=0;N<32;++N)y.UINT8[N].length=0,y.UINT16[N].length=0,y.UINT32[N].length=0,y.INT8[N].length=0,y.INT16[N].length=0,y.INT32[N].length=0,y.FLOAT[N].length=0,y.DOUBLE[N].length=0,y.BIGUINT64[N].length=0,y.BIGINT64[N].length=0,y.UINT8C[N].length=0,h[N].length=0,S[N].length=0}},1731:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var i=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[i]!==t;){var u=n[i];n[i]=t,i=u}return t},r.link=function(t,i){var n=this.find(t),u=this.find(i);if(n!==u){var f=this.ranks,l=this.roots,y=f[n],h=f[u];y<h?l[n]=u:h<y?l[u]=n:(l[u]=n,++f[n])}}},1215:function(v){function p(i,n){for(var u=1,f=i.length,l=i[0],y=i[0],h=1;h<f;++h)if(y=l,l=i[h],n(l,y)){if(h===u){u++;continue}i[u++]=l}return i.length=u,i}function r(i){for(var n=1,u=i.length,f=i[0],l=i[0],y=1;y<u;++y,l=f)if(l=f,f=i[y],f!==l){if(y===n){n++;continue}i[n++]=f}return i.length=n,i}function t(i,n,u){return i.length===0?i:n?(u||i.sort(n),p(i,n)):(u||i.sort(),r(i))}v.exports=t},875:function(v,p,r){v.exports=u;var t=r(712),i=null,n=null;typeof document<"u"&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,n=i.getContext("2d"));function u(f,l){return(typeof l!="object"||l===null)&&(l={}),t(f,l.canvas||i,l.context||n,l)}},712:function(v,p,r){v.exports=_,v.exports.processPixels=k;var t=r(4162),i=r(5050),n=r(8243),u=r(197),f=r(7761),l=r(8040),y="b",h="b|",S="i",c="i|",o="sup",d="+",w="+1",A="sub",C="-",m="-1";function E(B,F,O,N){for(var z="<"+B+">",V="</"+B+">",W=z.length,$=V.length,re=F[0]===d||F[0]===C,ne=0,ue=-$;ne>-1&&(ne=O.indexOf(z,ne),!(ne===-1||(ue=O.indexOf(V,ne+W),ue===-1)||ue<=ne));){for(var J=ne;J<ue+$;++J)if(J<ne+W||J>=ue)N[J]=null,O=O.substr(0,J)+" "+O.substr(J+1);else if(N[J]!==null){var X=N[J].indexOf(F[0]);X===-1?N[J]+=F:re&&(N[J]=N[J].substr(0,X+1)+(1+parseInt(N[J][X+1]))+N[J].substr(X+2))}var oe=ne+W,Y=O.substr(oe,ue-oe),q=Y.indexOf(z);q!==-1?ne=q:ne=ue+$}return N}function b(B,F,O){for(var N=F.textAlign||"start",z=F.textBaseline||"alphabetic",V=[1<<30,1<<30],W=[0,0],$=B.length,re=0;re<$;++re)for(var ne=B[re],ue=0;ue<2;++ue)V[ue]=Math.min(V[ue],ne[ue])|0,W[ue]=Math.max(W[ue],ne[ue])|0;var J=0;switch(N){case"center":J=-.5*(V[0]+W[0]);break;case"right":case"end":J=-W[0];break;case"left":case"start":J=-V[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+N+"'")}var X=0;switch(z){case"hanging":case"top":X=-V[1];break;case"middle":X=-.5*(V[1]+W[1]);break;case"alphabetic":case"ideographic":X=-3*O;break;case"bottom":X=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var oe=1/O;return"lineHeight"in F?oe*=+F.lineHeight:"width"in F?oe=F.width/(W[0]-V[0]):"height"in F&&(oe=F.height/(W[1]-V[1])),B.map(function(Y){return[oe*(Y[0]+J),oe*(Y[1]+X)]})}function s(B,F,O,N,z,V){O=O.replace(/\n/g,""),V.breaklines===!0?O=O.replace(/\<br\>/g,`
`):O=O.replace(/\<br\>/g," ");var W="",$=[];for(K=0;K<O.length;++K)$[K]=W;V.bolds===!0&&($=E(y,h,O,$)),V.italics===!0&&($=E(S,c,O,$)),V.superscripts===!0&&($=E(o,w,O,$)),V.subscripts===!0&&($=E(A,m,O,$));var re=[],ne="";for(K=0;K<O.length;++K)$[K]!==null&&(ne+=O[K],re.push($[K]));var ue=ne.split(`
`),J=ue.length,X=Math.round(z*N),oe=N,Y=N*2,q=0,se=J*X+Y;B.height<se&&(B.height=se),F.fillStyle="#000",F.fillRect(0,0,B.width,B.height),F.fillStyle="#fff";var Q,K,le,ie,ce,ye=0,Ce="";function Ae(){if(Ce!==""){var Xe=F.measureText(Ce).width;F.fillText(Ce,oe+le,Y+ie),le+=Xe}}function ke(){return""+Math.round(ce)+"px "}function we(Xe,ut){var dt=""+F.font;if(V.subscripts===!0){var at=Xe.indexOf(C),We=ut.indexOf(C),rt=at>-1?parseInt(Xe[1+at]):0,st=We>-1?parseInt(ut[1+We]):0;rt!==st&&(dt=dt.replace(ke(),"?px "),ce*=Math.pow(.75,st-rt),dt=dt.replace("?px ",ke())),ie+=.25*X*(st-rt)}if(V.superscripts===!0){var ht=Xe.indexOf(d),vt=ut.indexOf(d),At=ht>-1?parseInt(Xe[1+ht]):0,et=vt>-1?parseInt(ut[1+vt]):0;At!==et&&(dt=dt.replace(ke(),"?px "),ce*=Math.pow(.75,et-At),dt=dt.replace("?px ",ke())),ie-=.25*X*(et-At)}if(V.bolds===!0){var _e=Xe.indexOf(h)>-1,Ve=ut.indexOf(h)>-1;!_e&&Ve&&(Ze?dt=dt.replace("italic ","italic bold "):dt="bold "+dt),_e&&!Ve&&(dt=dt.replace("bold ",""))}if(V.italics===!0){var Ze=Xe.indexOf(c)>-1,He=ut.indexOf(c)>-1;!Ze&&He&&(dt="italic "+dt),Ze&&!He&&(dt=dt.replace("italic ",""))}F.font=dt}for(Q=0;Q<J;++Q){var Ee=ue[Q]+`
`;for(le=0,ie=Q*X,ce=N,Ce="",K=0;K<Ee.length;++K){var xe=K+ye<re.length?re[K+ye]:re[re.length-1];W===xe?Ce+=Ee[K]:(Ae(),Ce=Ee[K],xe!==void 0&&(we(W,xe),W=xe))}Ae(),ye+=Ee.length;var Pe=Math.round(le+2*oe)|0;q<Pe&&(q=Pe)}var Ue=q,Be=Y+X*J,Ne=i(F.getImageData(0,0,Ue,Be).data,[Be,Ue,4]);return Ne.pick(-1,-1,0).transpose(1,0)}function L(B,F){var O=t(B,128);return F?n(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}function T(B,F,O,N){var z=L(B,N),V=b(z.positions,F,O),W=z.edges,$=F.orientation==="ccw";if(u(V,W),F.polygons||F.polygon||F.polyline){for(var re=l(W,V),ne=new Array(re.length),ue=0;ue<re.length;++ue){for(var J=re[ue],X=new Array(J.length),oe=0;oe<J.length;++oe){for(var Y=J[oe],q=new Array(Y.length),se=0;se<Y.length;++se)q[se]=V[Y[se]].slice();$&&q.reverse(),X[oe]=q}ne[ue]=X}return ne}else return F.triangles||F.triangulate||F.triangle?{cells:f(V,W,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:W,positions:V}}function k(B,F,O){try{return T(B,F,O,!0)}catch{}try{return T(B,F,O,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(B,F,O,N){var z=64,V=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};N&&(N.size&&N.size>0&&(z=N.size),N.lineSpacing&&N.lineSpacing>0&&(V=N.lineSpacing),N.styletags&&N.styletags.breaklines&&(W.breaklines=!!N.styletags.breaklines),N.styletags&&N.styletags.bolds&&(W.bolds=!!N.styletags.bolds),N.styletags&&N.styletags.italics&&(W.italics=!!N.styletags.italics),N.styletags&&N.styletags.subscripts&&(W.subscripts=!!N.styletags.subscripts),N.styletags&&N.styletags.superscripts&&(W.superscripts=!!N.styletags.superscripts)),O.font=[N.fontStyle,N.fontVariant,N.fontWeight,z+"px",N.font].filter(function(re){return re}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr";var $=s(F,O,B,z,V,W);return k($,N,z)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(L){L.permitHostObjects___&&L.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new i,u=Object.freeze({});if(n.set(u,1),n.get(u)!==1)t=!0;else{v.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,l=Object.defineProperty,y=Object.isExtensible,h="weakmap:",S=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),o=new Uint8Array(c);crypto.getRandomValues(o),S=h+"rand:"+Array.prototype.map.call(o,function(L){return(L%36).toString(36)}).join("")+"___"}function d(L){return!(L.substr(0,h.length)==h&&L.substr(L.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(T){return f(T).filter(d)}}),"getPropertyNames"in Object){var w=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(T){return w(T).filter(d)}})}function A(L){if(L!==Object(L))throw new TypeError("Not an object: "+L);var T=L[S];if(T&&T.key===L)return T;if(y(L)){T={key:L};try{return l(L,S,{value:T,writable:!1,enumerable:!1,configurable:!1}),T}catch{return}}}(function(){var L=Object.freeze;l(Object,"freeze",{value:function(B){return A(B),L(B)}});var T=Object.seal;l(Object,"seal",{value:function(B){return A(B),T(B)}});var k=Object.preventExtensions;l(Object,"preventExtensions",{value:function(B){return A(B),k(B)}})})();function C(L){return L.prototype=null,Object.freeze(L)}var m=!1;function E(){!m&&typeof console<"u"&&(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var b=0,s=function(){this instanceof s||E();var L=[],T=[],k=b++;function _(N,z){var V,W=A(N);return W?k in W?W[k]:z:(V=L.indexOf(N),V>=0?T[V]:z)}function B(N){var z=A(N);return z?k in z:L.indexOf(N)>=0}function F(N,z){var V,W=A(N);return W?W[k]=z:(V=L.indexOf(N),V>=0?T[V]=z:(V=L.length,T[V]=z,L[V]=N)),this}function O(N){var z=A(N),V,W;return z?k in z&&delete z[k]:(V=L.indexOf(N),V<0?!1:(W=L.length-1,L[V]=void 0,T[V]=T[W],L[V]=L[W],L.length=W,T.length=W,!0))}return Object.create(s.prototype,{get___:{value:C(_)},has___:{value:C(B)},set___:{value:C(F)},delete___:{value:C(O)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(T,k){return this.get___(T,k)},writable:!0,configurable:!0},has:{value:function(T){return this.has___(T)},writable:!0,configurable:!0},set:{value:function(T,k){return this.set___(T,k)},writable:!0,configurable:!0},delete:{value:function(T){return this.delete___(T)},writable:!0,configurable:!0}}),typeof i=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function L(){this instanceof s||E();var T=new i,k=void 0,_=!1;function B(z,V){return k?T.has(z)?T.get(z):k.get___(z,V):T.get(z,V)}function F(z){return T.has(z)||(k?k.has___(z):!1)}var O;t?O=function(z,V){return T.set(z,V),T.has(z)||(k||(k=new s),k.set(z,V)),this}:O=function(z,V){if(_)try{T.set(z,V)}catch{k||(k=new s),k.set___(z,V)}else T.set(z,V);return this};function N(z){var V=!!T.delete(z);return k&&k.delete___(z)||V}return Object.create(s.prototype,{get___:{value:C(B)},has___:{value:C(F)},set___:{value:C(O)},delete___:{value:C(N)},permitHostObjects___:{value:C(function(z){if(z===r)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}L.prototype=s.prototype,v.exports=L,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},9222:function(v,p,r){var t=r(7178);v.exports=i;function i(){var n={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var f=u.valueOf(n);return f&&f.identity===n?f:t(u,n)}}},7178:function(v){v.exports=p;function p(r,t){var i={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(u){return u!==t?n.apply(this,arguments):i},writable:!0}),i}},4037:function(v,p,r){var t=r(9222);v.exports=i;function i(){var n=t();return{get:function(u,f){var l=n(u);return l.hasOwnProperty("value")?l.value:f},set:function(u,f){return n(u).value=f,this},has:function(u){return"value"in n(u)},delete:function(u){return delete n(u).value}}}},6183:function(v){function p(){return function(f,l,y,h,S,c){var o=f[0],d=y[0],w=[0],A=d;h|=0;var C=0,m=d;for(C=0;C<o;++C){{var E=l[h]-c,b=l[h+A]-c;E>=0!=b>=0&&S.push(w[0]+.5+.5*(E+b)/(E-b))}h+=m,++w[0]}}}function r(){return p()}var t=r;function i(f){var l={};return function(h,S,c){var o=h.dtype,d=h.order,w=[o,d.join()].join(),A=l[w];return A||(l[w]=A=f([o,d])),A(h.shape.slice(0),h.data,h.stride,h.offset|0,S,c)}}function n(f){return i(t.bind(void 0,f))}function u(f){return n({funcName:f.funcName})}v.exports=u({funcName:"zeroCrossings"})},9584:function(v,p,r){v.exports=i;var t=r(6183);function i(n,u){var f=[];return u=+u||0,t(n.hi(n.shape[0]-1),f,u),f}},6601:function(){}},a={};function x(v){var p=a[v];if(p!==void 0)return p.exports;var r=a[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,x),r.loaded=!0,r.exports}(function(){x.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){x.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var M=x(7386);return M}()})},33576:function(j,H,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function P(et,_e){for(var Ve=0;Ve<_e.length;Ve++){var Ze=_e[Ve];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(et,x(Ze.key),Ze)}}function a(et,_e,Ve){return _e&&P(et.prototype,_e),Ve&&P(et,Ve),Object.defineProperty(et,"prototype",{writable:!1}),et}function x(et){var _e=M(et,"string");return u(_e)==="symbol"?_e:String(_e)}function M(et,_e){if(u(et)!=="object"||et===null)return et;var Ve=et[Symbol.toPrimitive];if(Ve!==void 0){var Ze=Ve.call(et,_e||"default");if(u(Ze)!=="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function v(et,_e,Ve){function Ze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return _e=r(_e),p(et,Ze()?Reflect.construct(_e,Ve||[],r(et).constructor):_e.apply(et,Ve))}function p(et,_e){if(_e&&(u(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(et)}function r(et){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ve){return Ve.__proto__||Object.getPrototypeOf(Ve)},r(et)}function t(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function i(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),_e&&n(et,_e)}function n(et,_e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ze,He){return Ze.__proto__=He,Ze},n(et,_e)}function u(et){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},u(et)}var f=e(59968),l=e(35984),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=o,H.SlowBuffer=k,H.INSPECT_MAX_BYTES=50;var h=2147483647;H.kMaxLength=h,o.TYPED_ARRAY_SUPPORT=S(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function S(){try{var et=new Uint8Array(1),_e={foo:function(){return 42}};return Object.setPrototypeOf(_e,Uint8Array.prototype),Object.setPrototypeOf(et,_e),et.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function c(et){if(et>h)throw new RangeError('The value "'+et+'" is invalid for option "size"');var _e=new Uint8Array(et);return Object.setPrototypeOf(_e,o.prototype),_e}function o(et,_e,Ve){if(typeof et=="number"){if(typeof _e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(et)}return d(et,_e,Ve)}o.poolSize=8192;function d(et,_e,Ve){if(typeof et=="string")return m(et,_e);if(ArrayBuffer.isView(et))return b(et);if(et==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(et));if(rt(et,ArrayBuffer)||et&&rt(et.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rt(et,SharedArrayBuffer)||et&&rt(et.buffer,SharedArrayBuffer)))return s(et,_e,Ve);if(typeof et=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ze=et.valueOf&&et.valueOf();if(Ze!=null&&Ze!==et)return o.from(Ze,_e,Ve);var He=L(et);if(He)return He;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof et[Symbol.toPrimitive]=="function")return o.from(et[Symbol.toPrimitive]("string"),_e,Ve);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(et))}o.from=function(et,_e,Ve){return d(et,_e,Ve)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function w(et){if(typeof et!="number")throw new TypeError('"size" argument must be of type number');if(et<0)throw new RangeError('The value "'+et+'" is invalid for option "size"')}function A(et,_e,Ve){return w(et),et<=0?c(et):_e!==void 0?typeof Ve=="string"?c(et).fill(_e,Ve):c(et).fill(_e):c(et)}o.alloc=function(et,_e,Ve){return A(et,_e,Ve)};function C(et){return w(et),c(et<0?0:T(et)|0)}o.allocUnsafe=function(et){return C(et)},o.allocUnsafeSlow=function(et){return C(et)};function m(et,_e){if((typeof _e!="string"||_e==="")&&(_e="utf8"),!o.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);var Ve=_(et,_e)|0,Ze=c(Ve),He=Ze.write(et,_e);return He!==Ve&&(Ze=Ze.slice(0,He)),Ze}function E(et){for(var _e=et.length<0?0:T(et.length)|0,Ve=c(_e),Ze=0;Ze<_e;Ze+=1)Ve[Ze]=et[Ze]&255;return Ve}function b(et){if(rt(et,Uint8Array)){var _e=new Uint8Array(et);return s(_e.buffer,_e.byteOffset,_e.byteLength)}return E(et)}function s(et,_e,Ve){if(_e<0||et.byteLength<_e)throw new RangeError('"offset" is outside of buffer bounds');if(et.byteLength<_e+(Ve||0))throw new RangeError('"length" is outside of buffer bounds');var Ze;return _e===void 0&&Ve===void 0?Ze=new Uint8Array(et):Ve===void 0?Ze=new Uint8Array(et,_e):Ze=new Uint8Array(et,_e,Ve),Object.setPrototypeOf(Ze,o.prototype),Ze}function L(et){if(o.isBuffer(et)){var _e=T(et.length)|0,Ve=c(_e);return Ve.length===0||et.copy(Ve,0,0,_e),Ve}if(et.length!==void 0)return typeof et.length!="number"||st(et.length)?c(0):E(et);if(et.type==="Buffer"&&Array.isArray(et.data))return E(et.data)}function T(et){if(et>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return et|0}function k(et){return+et!=et&&(et=0),o.alloc(+et)}o.isBuffer=function(_e){return _e!=null&&_e._isBuffer===!0&&_e!==o.prototype},o.compare=function(_e,Ve){if(rt(_e,Uint8Array)&&(_e=o.from(_e,_e.offset,_e.byteLength)),rt(Ve,Uint8Array)&&(Ve=o.from(Ve,Ve.offset,Ve.byteLength)),!o.isBuffer(_e)||!o.isBuffer(Ve))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_e===Ve)return 0;for(var Ze=_e.length,He=Ve.length,Ie=0,be=Math.min(Ze,He);Ie<be;++Ie)if(_e[Ie]!==Ve[Ie]){Ze=_e[Ie],He=Ve[Ie];break}return Ze<He?-1:He<Ze?1:0},o.isEncoding=function(_e){switch(String(_e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(_e,Ve){if(!Array.isArray(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return o.alloc(0);var Ze;if(Ve===void 0)for(Ve=0,Ze=0;Ze<_e.length;++Ze)Ve+=_e[Ze].length;var He=o.allocUnsafe(Ve),Ie=0;for(Ze=0;Ze<_e.length;++Ze){var be=_e[Ze];if(rt(be,Uint8Array))Ie+be.length>He.length?(o.isBuffer(be)||(be=o.from(be)),be.copy(He,Ie)):Uint8Array.prototype.set.call(He,be,Ie);else if(o.isBuffer(be))be.copy(He,Ie);else throw new TypeError('"list" argument must be an Array of Buffers');Ie+=be.length}return He};function _(et,_e){if(o.isBuffer(et))return et.length;if(ArrayBuffer.isView(et)||rt(et,ArrayBuffer))return et.byteLength;if(typeof et!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(et));var Ve=et.length,Ze=arguments.length>2&&arguments[2]===!0;if(!Ze&&Ve===0)return 0;for(var He=!1;;)switch(_e){case"ascii":case"latin1":case"binary":return Ve;case"utf8":case"utf-8":return Xe(et).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ve*2;case"hex":return Ve>>>1;case"base64":return at(et).length;default:if(He)return Ze?-1:Xe(et).length;_e=(""+_e).toLowerCase(),He=!0}}o.byteLength=_;function B(et,_e,Ve){var Ze=!1;if((_e===void 0||_e<0)&&(_e=0),_e>this.length||((Ve===void 0||Ve>this.length)&&(Ve=this.length),Ve<=0)||(Ve>>>=0,_e>>>=0,Ve<=_e))return"";for(et||(et="utf8");;)switch(et){case"hex":return q(this,_e,Ve);case"utf8":case"utf-8":return ue(this,_e,Ve);case"ascii":return oe(this,_e,Ve);case"latin1":case"binary":return Y(this,_e,Ve);case"base64":return ne(this,_e,Ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,_e,Ve);default:if(Ze)throw new TypeError("Unknown encoding: "+et);et=(et+"").toLowerCase(),Ze=!0}}o.prototype._isBuffer=!0;function F(et,_e,Ve){var Ze=et[_e];et[_e]=et[Ve],et[Ve]=Ze}o.prototype.swap16=function(){var _e=this.length;if(_e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ve=0;Ve<_e;Ve+=2)F(this,Ve,Ve+1);return this},o.prototype.swap32=function(){var _e=this.length;if(_e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ve=0;Ve<_e;Ve+=4)F(this,Ve,Ve+3),F(this,Ve+1,Ve+2);return this},o.prototype.swap64=function(){var _e=this.length;if(_e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ve=0;Ve<_e;Ve+=8)F(this,Ve,Ve+7),F(this,Ve+1,Ve+6),F(this,Ve+2,Ve+5),F(this,Ve+3,Ve+4);return this},o.prototype.toString=function(){var _e=this.length;return _e===0?"":arguments.length===0?ue(this,0,_e):B.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(_e){if(!o.isBuffer(_e))throw new TypeError("Argument must be a Buffer");return this===_e?!0:o.compare(this,_e)===0},o.prototype.inspect=function(){var _e="",Ve=H.INSPECT_MAX_BYTES;return _e=this.toString("hex",0,Ve).replace(/(.{2})/g,"$1 ").trim(),this.length>Ve&&(_e+=" ... "),"<Buffer "+_e+">"},y&&(o.prototype[y]=o.prototype.inspect),o.prototype.compare=function(_e,Ve,Ze,He,Ie){if(rt(_e,Uint8Array)&&(_e=o.from(_e,_e.offset,_e.byteLength)),!o.isBuffer(_e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(_e));if(Ve===void 0&&(Ve=0),Ze===void 0&&(Ze=_e?_e.length:0),He===void 0&&(He=0),Ie===void 0&&(Ie=this.length),Ve<0||Ze>_e.length||He<0||Ie>this.length)throw new RangeError("out of range index");if(He>=Ie&&Ve>=Ze)return 0;if(He>=Ie)return-1;if(Ve>=Ze)return 1;if(Ve>>>=0,Ze>>>=0,He>>>=0,Ie>>>=0,this===_e)return 0;for(var be=Ie-He,me=Ze-Ve,Me=Math.min(be,me),Te=this.slice(He,Ie),Oe=_e.slice(Ve,Ze),Ke=0;Ke<Me;++Ke)if(Te[Ke]!==Oe[Ke]){be=Te[Ke],me=Oe[Ke];break}return be<me?-1:me<be?1:0};function O(et,_e,Ve,Ze,He){if(et.length===0)return-1;if(typeof Ve=="string"?(Ze=Ve,Ve=0):Ve>2147483647?Ve=2147483647:Ve<-2147483648&&(Ve=-2147483648),Ve=+Ve,st(Ve)&&(Ve=He?0:et.length-1),Ve<0&&(Ve=et.length+Ve),Ve>=et.length){if(He)return-1;Ve=et.length-1}else if(Ve<0)if(He)Ve=0;else return-1;if(typeof _e=="string"&&(_e=o.from(_e,Ze)),o.isBuffer(_e))return _e.length===0?-1:N(et,_e,Ve,Ze,He);if(typeof _e=="number")return _e=_e&255,typeof Uint8Array.prototype.indexOf=="function"?He?Uint8Array.prototype.indexOf.call(et,_e,Ve):Uint8Array.prototype.lastIndexOf.call(et,_e,Ve):N(et,[_e],Ve,Ze,He);throw new TypeError("val must be string, number or Buffer")}function N(et,_e,Ve,Ze,He){var Ie=1,be=et.length,me=_e.length;if(Ze!==void 0&&(Ze=String(Ze).toLowerCase(),Ze==="ucs2"||Ze==="ucs-2"||Ze==="utf16le"||Ze==="utf-16le")){if(et.length<2||_e.length<2)return-1;Ie=2,be/=2,me/=2,Ve/=2}function Me(pt,yt){return Ie===1?pt[yt]:pt.readUInt16BE(yt*Ie)}var Te;if(He){var Oe=-1;for(Te=Ve;Te<be;Te++)if(Me(et,Te)===Me(_e,Oe===-1?0:Te-Oe)){if(Oe===-1&&(Oe=Te),Te-Oe+1===me)return Oe*Ie}else Oe!==-1&&(Te-=Te-Oe),Oe=-1}else for(Ve+me>be&&(Ve=be-me),Te=Ve;Te>=0;Te--){for(var Ke=!0,nt=0;nt<me;nt++)if(Me(et,Te+nt)!==Me(_e,nt)){Ke=!1;break}if(Ke)return Te}return-1}o.prototype.includes=function(_e,Ve,Ze){return this.indexOf(_e,Ve,Ze)!==-1},o.prototype.indexOf=function(_e,Ve,Ze){return O(this,_e,Ve,Ze,!0)},o.prototype.lastIndexOf=function(_e,Ve,Ze){return O(this,_e,Ve,Ze,!1)};function z(et,_e,Ve,Ze){Ve=Number(Ve)||0;var He=et.length-Ve;Ze?(Ze=Number(Ze),Ze>He&&(Ze=He)):Ze=He;var Ie=_e.length;Ze>Ie/2&&(Ze=Ie/2);var be;for(be=0;be<Ze;++be){var me=parseInt(_e.substr(be*2,2),16);if(st(me))return be;et[Ve+be]=me}return be}function V(et,_e,Ve,Ze){return We(Xe(_e,et.length-Ve),et,Ve,Ze)}function W(et,_e,Ve,Ze){return We(ut(_e),et,Ve,Ze)}function $(et,_e,Ve,Ze){return We(at(_e),et,Ve,Ze)}function re(et,_e,Ve,Ze){return We(dt(_e,et.length-Ve),et,Ve,Ze)}o.prototype.write=function(_e,Ve,Ze,He){if(Ve===void 0)He="utf8",Ze=this.length,Ve=0;else if(Ze===void 0&&typeof Ve=="string")He=Ve,Ze=this.length,Ve=0;else if(isFinite(Ve))Ve=Ve>>>0,isFinite(Ze)?(Ze=Ze>>>0,He===void 0&&(He="utf8")):(He=Ze,Ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ie=this.length-Ve;if((Ze===void 0||Ze>Ie)&&(Ze=Ie),_e.length>0&&(Ze<0||Ve<0)||Ve>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var be=!1;;)switch(He){case"hex":return z(this,_e,Ve,Ze);case"utf8":case"utf-8":return V(this,_e,Ve,Ze);case"ascii":case"latin1":case"binary":return W(this,_e,Ve,Ze);case"base64":return $(this,_e,Ve,Ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,_e,Ve,Ze);default:if(be)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),be=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(et,_e,Ve){return _e===0&&Ve===et.length?f.fromByteArray(et):f.fromByteArray(et.slice(_e,Ve))}function ue(et,_e,Ve){Ve=Math.min(et.length,Ve);for(var Ze=[],He=_e;He<Ve;){var Ie=et[He],be=null,me=Ie>239?4:Ie>223?3:Ie>191?2:1;if(He+me<=Ve){var Me=void 0,Te=void 0,Oe=void 0,Ke=void 0;switch(me){case 1:Ie<128&&(be=Ie);break;case 2:Me=et[He+1],(Me&192)===128&&(Ke=(Ie&31)<<6|Me&63,Ke>127&&(be=Ke));break;case 3:Me=et[He+1],Te=et[He+2],(Me&192)===128&&(Te&192)===128&&(Ke=(Ie&15)<<12|(Me&63)<<6|Te&63,Ke>2047&&(Ke<55296||Ke>57343)&&(be=Ke));break;case 4:Me=et[He+1],Te=et[He+2],Oe=et[He+3],(Me&192)===128&&(Te&192)===128&&(Oe&192)===128&&(Ke=(Ie&15)<<18|(Me&63)<<12|(Te&63)<<6|Oe&63,Ke>65535&&Ke<1114112&&(be=Ke))}}be===null?(be=65533,me=1):be>65535&&(be-=65536,Ze.push(be>>>10&1023|55296),be=56320|be&1023),Ze.push(be),He+=me}return X(Ze)}var J=4096;function X(et){var _e=et.length;if(_e<=J)return String.fromCharCode.apply(String,et);for(var Ve="",Ze=0;Ze<_e;)Ve+=String.fromCharCode.apply(String,et.slice(Ze,Ze+=J));return Ve}function oe(et,_e,Ve){var Ze="";Ve=Math.min(et.length,Ve);for(var He=_e;He<Ve;++He)Ze+=String.fromCharCode(et[He]&127);return Ze}function Y(et,_e,Ve){var Ze="";Ve=Math.min(et.length,Ve);for(var He=_e;He<Ve;++He)Ze+=String.fromCharCode(et[He]);return Ze}function q(et,_e,Ve){var Ze=et.length;(!_e||_e<0)&&(_e=0),(!Ve||Ve<0||Ve>Ze)&&(Ve=Ze);for(var He="",Ie=_e;Ie<Ve;++Ie)He+=ht[et[Ie]];return He}function se(et,_e,Ve){for(var Ze=et.slice(_e,Ve),He="",Ie=0;Ie<Ze.length-1;Ie+=2)He+=String.fromCharCode(Ze[Ie]+Ze[Ie+1]*256);return He}o.prototype.slice=function(_e,Ve){var Ze=this.length;_e=~~_e,Ve=Ve===void 0?Ze:~~Ve,_e<0?(_e+=Ze,_e<0&&(_e=0)):_e>Ze&&(_e=Ze),Ve<0?(Ve+=Ze,Ve<0&&(Ve=0)):Ve>Ze&&(Ve=Ze),Ve<_e&&(Ve=_e);var He=this.subarray(_e,Ve);return Object.setPrototypeOf(He,o.prototype),He};function Q(et,_e,Ve){if(et%1!==0||et<0)throw new RangeError("offset is not uint");if(et+_e>Ve)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(_e,Ve,Ze){_e=_e>>>0,Ve=Ve>>>0,Ze||Q(_e,Ve,this.length);for(var He=this[_e],Ie=1,be=0;++be<Ve&&(Ie*=256);)He+=this[_e+be]*Ie;return He},o.prototype.readUintBE=o.prototype.readUIntBE=function(_e,Ve,Ze){_e=_e>>>0,Ve=Ve>>>0,Ze||Q(_e,Ve,this.length);for(var He=this[_e+--Ve],Ie=1;Ve>0&&(Ie*=256);)He+=this[_e+--Ve]*Ie;return He},o.prototype.readUint8=o.prototype.readUInt8=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,1,this.length),this[_e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,2,this.length),this[_e]|this[_e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,2,this.length),this[_e]<<8|this[_e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,4,this.length),(this[_e]|this[_e+1]<<8|this[_e+2]<<16)+this[_e+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,4,this.length),this[_e]*16777216+(this[_e+1]<<16|this[_e+2]<<8|this[_e+3])},o.prototype.readBigUInt64LE=vt(function(_e){_e=_e>>>0,Pe(_e,"offset");var Ve=this[_e],Ze=this[_e+7];(Ve===void 0||Ze===void 0)&&Ue(_e,this.length-8);var He=Ve+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24),Ie=this[++_e]+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+Ze*Math.pow(2,24);return BigInt(He)+(BigInt(Ie)<<BigInt(32))}),o.prototype.readBigUInt64BE=vt(function(_e){_e=_e>>>0,Pe(_e,"offset");var Ve=this[_e],Ze=this[_e+7];(Ve===void 0||Ze===void 0)&&Ue(_e,this.length-8);var He=Ve*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e],Ie=this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Ze;return(BigInt(He)<<BigInt(32))+BigInt(Ie)}),o.prototype.readIntLE=function(_e,Ve,Ze){_e=_e>>>0,Ve=Ve>>>0,Ze||Q(_e,Ve,this.length);for(var He=this[_e],Ie=1,be=0;++be<Ve&&(Ie*=256);)He+=this[_e+be]*Ie;return Ie*=128,He>=Ie&&(He-=Math.pow(2,8*Ve)),He},o.prototype.readIntBE=function(_e,Ve,Ze){_e=_e>>>0,Ve=Ve>>>0,Ze||Q(_e,Ve,this.length);for(var He=Ve,Ie=1,be=this[_e+--He];He>0&&(Ie*=256);)be+=this[_e+--He]*Ie;return Ie*=128,be>=Ie&&(be-=Math.pow(2,8*Ve)),be},o.prototype.readInt8=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,1,this.length),this[_e]&128?(255-this[_e]+1)*-1:this[_e]},o.prototype.readInt16LE=function(_e,Ve){_e=_e>>>0,Ve||Q(_e,2,this.length);var Ze=this[_e]|this[_e+1]<<8;return Ze&32768?Ze|4294901760:Ze},o.prototype.readInt16BE=function(_e,Ve){_e=_e>>>0,Ve||Q(_e,2,this.length);var Ze=this[_e+1]|this[_e]<<8;return Ze&32768?Ze|4294901760:Ze},o.prototype.readInt32LE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,4,this.length),this[_e]|this[_e+1]<<8|this[_e+2]<<16|this[_e+3]<<24},o.prototype.readInt32BE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,4,this.length),this[_e]<<24|this[_e+1]<<16|this[_e+2]<<8|this[_e+3]},o.prototype.readBigInt64LE=vt(function(_e){_e=_e>>>0,Pe(_e,"offset");var Ve=this[_e],Ze=this[_e+7];(Ve===void 0||Ze===void 0)&&Ue(_e,this.length-8);var He=this[_e+4]+this[_e+5]*Math.pow(2,8)+this[_e+6]*Math.pow(2,16)+(Ze<<24);return(BigInt(He)<<BigInt(32))+BigInt(Ve+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24))}),o.prototype.readBigInt64BE=vt(function(_e){_e=_e>>>0,Pe(_e,"offset");var Ve=this[_e],Ze=this[_e+7];(Ve===void 0||Ze===void 0)&&Ue(_e,this.length-8);var He=(Ve<<24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e];return(BigInt(He)<<BigInt(32))+BigInt(this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Ze)}),o.prototype.readFloatLE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,4,this.length),l.read(this,_e,!0,23,4)},o.prototype.readFloatBE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,4,this.length),l.read(this,_e,!1,23,4)},o.prototype.readDoubleLE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,8,this.length),l.read(this,_e,!0,52,8)},o.prototype.readDoubleBE=function(_e,Ve){return _e=_e>>>0,Ve||Q(_e,8,this.length),l.read(this,_e,!1,52,8)};function K(et,_e,Ve,Ze,He,Ie){if(!o.isBuffer(et))throw new TypeError('"buffer" argument must be a Buffer instance');if(_e>He||_e<Ie)throw new RangeError('"value" argument is out of bounds');if(Ve+Ze>et.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(_e,Ve,Ze,He){if(_e=+_e,Ve=Ve>>>0,Ze=Ze>>>0,!He){var Ie=Math.pow(2,8*Ze)-1;K(this,_e,Ve,Ze,Ie,0)}var be=1,me=0;for(this[Ve]=_e&255;++me<Ze&&(be*=256);)this[Ve+me]=_e/be&255;return Ve+Ze},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(_e,Ve,Ze,He){if(_e=+_e,Ve=Ve>>>0,Ze=Ze>>>0,!He){var Ie=Math.pow(2,8*Ze)-1;K(this,_e,Ve,Ze,Ie,0)}var be=Ze-1,me=1;for(this[Ve+be]=_e&255;--be>=0&&(me*=256);)this[Ve+be]=_e/me&255;return Ve+Ze},o.prototype.writeUint8=o.prototype.writeUInt8=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,1,255,0),this[Ve]=_e&255,Ve+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,2,65535,0),this[Ve]=_e&255,this[Ve+1]=_e>>>8,Ve+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,2,65535,0),this[Ve]=_e>>>8,this[Ve+1]=_e&255,Ve+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,4,4294967295,0),this[Ve+3]=_e>>>24,this[Ve+2]=_e>>>16,this[Ve+1]=_e>>>8,this[Ve]=_e&255,Ve+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,4,4294967295,0),this[Ve]=_e>>>24,this[Ve+1]=_e>>>16,this[Ve+2]=_e>>>8,this[Ve+3]=_e&255,Ve+4};function le(et,_e,Ve,Ze,He){xe(_e,Ze,He,et,Ve,7);var Ie=Number(_e&BigInt(4294967295));et[Ve++]=Ie,Ie=Ie>>8,et[Ve++]=Ie,Ie=Ie>>8,et[Ve++]=Ie,Ie=Ie>>8,et[Ve++]=Ie;var be=Number(_e>>BigInt(32)&BigInt(4294967295));return et[Ve++]=be,be=be>>8,et[Ve++]=be,be=be>>8,et[Ve++]=be,be=be>>8,et[Ve++]=be,Ve}function ie(et,_e,Ve,Ze,He){xe(_e,Ze,He,et,Ve,7);var Ie=Number(_e&BigInt(4294967295));et[Ve+7]=Ie,Ie=Ie>>8,et[Ve+6]=Ie,Ie=Ie>>8,et[Ve+5]=Ie,Ie=Ie>>8,et[Ve+4]=Ie;var be=Number(_e>>BigInt(32)&BigInt(4294967295));return et[Ve+3]=be,be=be>>8,et[Ve+2]=be,be=be>>8,et[Ve+1]=be,be=be>>8,et[Ve]=be,Ve+8}o.prototype.writeBigUInt64LE=vt(function(_e){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,_e,Ve,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=vt(function(_e){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,_e,Ve,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(_e,Ve,Ze,He){if(_e=+_e,Ve=Ve>>>0,!He){var Ie=Math.pow(2,8*Ze-1);K(this,_e,Ve,Ze,Ie-1,-Ie)}var be=0,me=1,Me=0;for(this[Ve]=_e&255;++be<Ze&&(me*=256);)_e<0&&Me===0&&this[Ve+be-1]!==0&&(Me=1),this[Ve+be]=(_e/me>>0)-Me&255;return Ve+Ze},o.prototype.writeIntBE=function(_e,Ve,Ze,He){if(_e=+_e,Ve=Ve>>>0,!He){var Ie=Math.pow(2,8*Ze-1);K(this,_e,Ve,Ze,Ie-1,-Ie)}var be=Ze-1,me=1,Me=0;for(this[Ve+be]=_e&255;--be>=0&&(me*=256);)_e<0&&Me===0&&this[Ve+be+1]!==0&&(Me=1),this[Ve+be]=(_e/me>>0)-Me&255;return Ve+Ze},o.prototype.writeInt8=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,1,127,-128),_e<0&&(_e=255+_e+1),this[Ve]=_e&255,Ve+1},o.prototype.writeInt16LE=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,2,32767,-32768),this[Ve]=_e&255,this[Ve+1]=_e>>>8,Ve+2},o.prototype.writeInt16BE=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,2,32767,-32768),this[Ve]=_e>>>8,this[Ve+1]=_e&255,Ve+2},o.prototype.writeInt32LE=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,4,2147483647,-2147483648),this[Ve]=_e&255,this[Ve+1]=_e>>>8,this[Ve+2]=_e>>>16,this[Ve+3]=_e>>>24,Ve+4},o.prototype.writeInt32BE=function(_e,Ve,Ze){return _e=+_e,Ve=Ve>>>0,Ze||K(this,_e,Ve,4,2147483647,-2147483648),_e<0&&(_e=4294967295+_e+1),this[Ve]=_e>>>24,this[Ve+1]=_e>>>16,this[Ve+2]=_e>>>8,this[Ve+3]=_e&255,Ve+4},o.prototype.writeBigInt64LE=vt(function(_e){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,_e,Ve,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=vt(function(_e){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,_e,Ve,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(et,_e,Ve,Ze,He,Ie){if(Ve+Ze>et.length)throw new RangeError("Index out of range");if(Ve<0)throw new RangeError("Index out of range")}function ye(et,_e,Ve,Ze,He){return _e=+_e,Ve=Ve>>>0,He||ce(et,_e,Ve,4),l.write(et,_e,Ve,Ze,23,4),Ve+4}o.prototype.writeFloatLE=function(_e,Ve,Ze){return ye(this,_e,Ve,!0,Ze)},o.prototype.writeFloatBE=function(_e,Ve,Ze){return ye(this,_e,Ve,!1,Ze)};function Ce(et,_e,Ve,Ze,He){return _e=+_e,Ve=Ve>>>0,He||ce(et,_e,Ve,8),l.write(et,_e,Ve,Ze,52,8),Ve+8}o.prototype.writeDoubleLE=function(_e,Ve,Ze){return Ce(this,_e,Ve,!0,Ze)},o.prototype.writeDoubleBE=function(_e,Ve,Ze){return Ce(this,_e,Ve,!1,Ze)},o.prototype.copy=function(_e,Ve,Ze,He){if(!o.isBuffer(_e))throw new TypeError("argument should be a Buffer");if(Ze||(Ze=0),!He&&He!==0&&(He=this.length),Ve>=_e.length&&(Ve=_e.length),Ve||(Ve=0),He>0&&He<Ze&&(He=Ze),He===Ze||_e.length===0||this.length===0)return 0;if(Ve<0)throw new RangeError("targetStart out of bounds");if(Ze<0||Ze>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),_e.length-Ve<He-Ze&&(He=_e.length-Ve+Ze);var Ie=He-Ze;return this===_e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ve,Ze,He):Uint8Array.prototype.set.call(_e,this.subarray(Ze,He),Ve),Ie},o.prototype.fill=function(_e,Ve,Ze,He){if(typeof _e=="string"){if(typeof Ve=="string"?(He=Ve,Ve=0,Ze=this.length):typeof Ze=="string"&&(He=Ze,Ze=this.length),He!==void 0&&typeof He!="string")throw new TypeError("encoding must be a string");if(typeof He=="string"&&!o.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(_e.length===1){var Ie=_e.charCodeAt(0);(He==="utf8"&&Ie<128||He==="latin1")&&(_e=Ie)}}else typeof _e=="number"?_e=_e&255:typeof _e=="boolean"&&(_e=Number(_e));if(Ve<0||this.length<Ve||this.length<Ze)throw new RangeError("Out of range index");if(Ze<=Ve)return this;Ve=Ve>>>0,Ze=Ze===void 0?this.length:Ze>>>0,_e||(_e=0);var be;if(typeof _e=="number")for(be=Ve;be<Ze;++be)this[be]=_e;else{var me=o.isBuffer(_e)?_e:o.from(_e,He),Me=me.length;if(Me===0)throw new TypeError('The value "'+_e+'" is invalid for argument "value"');for(be=0;be<Ze-Ve;++be)this[be+Ve]=me[be%Me]}return this};var Ae={};function ke(et,_e,Ve){Ae[et]=function(Ze){i(He,Ze);function He(){var Ie;return g(this,He),Ie=v(this,He),Object.defineProperty(t(Ie),"message",{value:_e.apply(t(Ie),arguments),writable:!0,configurable:!0}),Ie.name="".concat(Ie.name," [").concat(et,"]"),Ie.stack,delete Ie.name,Ie}return a(He,[{key:"code",get:function(){return et},set:function(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(et,"]: ").concat(this.message)}}]),He}(Ve)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(et){return et?"".concat(et," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(et,_e){return'The "'.concat(et,'" argument must be of type number. Received type ').concat(u(_e))},TypeError),ke("ERR_OUT_OF_RANGE",function(et,_e,Ve){var Ze='The value of "'.concat(et,'" is out of range.'),He=Ve;return Number.isInteger(Ve)&&Math.abs(Ve)>Math.pow(2,32)?He=we(String(Ve)):typeof Ve=="bigint"&&(He=String(Ve),(Ve>Math.pow(BigInt(2),BigInt(32))||Ve<-Math.pow(BigInt(2),BigInt(32)))&&(He=we(He)),He+="n"),Ze+=" It must be ".concat(_e,". Received ").concat(He),Ze},RangeError);function we(et){for(var _e="",Ve=et.length,Ze=et[0]==="-"?1:0;Ve>=Ze+4;Ve-=3)_e="_".concat(et.slice(Ve-3,Ve)).concat(_e);return"".concat(et.slice(0,Ve)).concat(_e)}function Ee(et,_e,Ve){Pe(_e,"offset"),(et[_e]===void 0||et[_e+Ve]===void 0)&&Ue(_e,et.length-(Ve+1))}function xe(et,_e,Ve,Ze,He,Ie){if(et>Ve||et<_e){var be=typeof _e=="bigint"?"n":"",me;throw Ie>3?_e===0||_e===BigInt(0)?me=">= 0".concat(be," and < 2").concat(be," ** ").concat((Ie+1)*8).concat(be):me=">= -(2".concat(be," ** ").concat((Ie+1)*8-1).concat(be,") and < 2 ** ")+"".concat((Ie+1)*8-1).concat(be):me=">= ".concat(_e).concat(be," and <= ").concat(Ve).concat(be),new Ae.ERR_OUT_OF_RANGE("value",me,et)}Ee(Ze,He,Ie)}function Pe(et,_e){if(typeof et!="number")throw new Ae.ERR_INVALID_ARG_TYPE(_e,"number",et)}function Ue(et,_e,Ve){throw Math.floor(et)!==et?(Pe(et,Ve),new Ae.ERR_OUT_OF_RANGE(Ve||"offset","an integer",et)):_e<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(Ve||"offset",">= ".concat(Ve?1:0," and <= ").concat(_e),et)}var Be=/[^+/0-9A-Za-z-_]/g;function Ne(et){if(et=et.split("=")[0],et=et.trim().replace(Be,""),et.length<2)return"";for(;et.length%4!==0;)et=et+"=";return et}function Xe(et,_e){_e=_e||1/0;for(var Ve,Ze=et.length,He=null,Ie=[],be=0;be<Ze;++be){if(Ve=et.charCodeAt(be),Ve>55295&&Ve<57344){if(!He){if(Ve>56319){(_e-=3)>-1&&Ie.push(239,191,189);continue}else if(be+1===Ze){(_e-=3)>-1&&Ie.push(239,191,189);continue}He=Ve;continue}if(Ve<56320){(_e-=3)>-1&&Ie.push(239,191,189),He=Ve;continue}Ve=(He-55296<<10|Ve-56320)+65536}else He&&(_e-=3)>-1&&Ie.push(239,191,189);if(He=null,Ve<128){if((_e-=1)<0)break;Ie.push(Ve)}else if(Ve<2048){if((_e-=2)<0)break;Ie.push(Ve>>6|192,Ve&63|128)}else if(Ve<65536){if((_e-=3)<0)break;Ie.push(Ve>>12|224,Ve>>6&63|128,Ve&63|128)}else if(Ve<1114112){if((_e-=4)<0)break;Ie.push(Ve>>18|240,Ve>>12&63|128,Ve>>6&63|128,Ve&63|128)}else throw new Error("Invalid code point")}return Ie}function ut(et){for(var _e=[],Ve=0;Ve<et.length;++Ve)_e.push(et.charCodeAt(Ve)&255);return _e}function dt(et,_e){for(var Ve,Ze,He,Ie=[],be=0;be<et.length&&!((_e-=2)<0);++be)Ve=et.charCodeAt(be),Ze=Ve>>8,He=Ve%256,Ie.push(He),Ie.push(Ze);return Ie}function at(et){return f.toByteArray(Ne(et))}function We(et,_e,Ve,Ze){var He;for(He=0;He<Ze&&!(He+Ve>=_e.length||He>=et.length);++He)_e[He+Ve]=et[He];return He}function rt(et,_e){return et instanceof _e||et!=null&&et.constructor!=null&&et.constructor.name!=null&&et.constructor.name===_e.name}function st(et){return et!==et}var ht=function(){for(var et="0123456789abcdef",_e=new Array(256),Ve=0;Ve<16;++Ve)for(var Ze=Ve*16,He=0;He<16;++He)_e[Ze+He]=et[Ve]+et[He];return _e}();function vt(et){return typeof BigInt>"u"?At:et}function At(){throw new Error("BigInt not supported")}},25928:function(j){j.exports=P,j.exports.isMobile=P,j.exports.default=P;var H=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function P(a){a||(a={});var x=a.ua;if(!x&&typeof navigator<"u"&&(x=navigator.userAgent),x&&x.headers&&typeof x.headers["user-agent"]=="string"&&(x=x.headers["user-agent"]),typeof x!="string")return!1;var M=H.test(x)&&!e.test(x)||!!a.tablet&&g.test(x);return!M&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&x.indexOf("Macintosh")!==-1&&x.indexOf("Safari")!==-1&&(M=!0),M}},48932:function(j,H,e){e.r(H),e.d(H,{sankeyCenter:function(){return i},sankeyCircular:function(){return L},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var g=e(84706),P=e(34712),a=e(10132),x=e(6688),M=e.n(x);function v(Ae){return Ae.target.depth}function p(Ae){return Ae.depth}function r(Ae,ke){return ke-1-Ae.height}function t(Ae,ke){return Ae.sourceLinks.length?Ae.depth:ke-1}function i(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,g.SY)(Ae.sourceLinks,v)-1:0}function n(Ae){return function(){return Ae}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function f(Ae,ke){return y(Ae.source,ke.source)||Ae.index-ke.index}function l(Ae,ke){return y(Ae.target,ke.target)||Ae.index-ke.index}function y(Ae,ke){return Ae.partOfCycle===ke.partOfCycle?Ae.y0-ke.y0:Ae.circularLinkType==="top"||ke.circularLinkType==="bottom"?-1:1}function h(Ae){return Ae.value}function S(Ae){return(Ae.y0+Ae.y1)/2}function c(Ae){return S(Ae.source)}function o(Ae){return S(Ae.target)}function d(Ae){return Ae.index}function w(Ae){return Ae.nodes}function A(Ae){return Ae.links}function C(Ae,ke){var we=Ae.get(ke);if(!we)throw new Error("missing: "+ke);return we}function m(Ae,ke){return ke(Ae)}var E=25,b=10,s=.3;function L(){var Ae=0,ke=0,we=1,Ee=1,xe=24,Pe,Ue=d,Be=t,Ne=w,Xe=A,ut=32,dt=2,at,We=null;function rt(){var Ze={nodes:Ne.apply(null,arguments),links:Xe.apply(null,arguments)};st(Ze),T(Ze,Ue,We),ht(Ze),et(Ze),k(Ze,Ue),_e(Ze,ut,Ue),Ve(Ze);for(var He=4,Ie=0;Ie<He;Ie++)K(Ze,Ee,Ue),le(Ze,Ee,Ue),q(Ze,ke,Ee,Ue),K(Ze,Ee,Ue),le(Ze,Ee,Ue);return Ce(Ze,ke,Ee),z(Ze,dt,Ee,Ue),Ze}rt.nodeId=function(Ze){return arguments.length?(Ue=typeof Ze=="function"?Ze:n(Ze),rt):Ue},rt.nodeAlign=function(Ze){return arguments.length?(Be=typeof Ze=="function"?Ze:n(Ze),rt):Be},rt.nodeWidth=function(Ze){return arguments.length?(xe=+Ze,rt):xe},rt.nodePadding=function(Ze){return arguments.length?(Pe=+Ze,rt):Pe},rt.nodes=function(Ze){return arguments.length?(Ne=typeof Ze=="function"?Ze:n(Ze),rt):Ne},rt.links=function(Ze){return arguments.length?(Xe=typeof Ze=="function"?Ze:n(Ze),rt):Xe},rt.size=function(Ze){return arguments.length?(Ae=ke=0,we=+Ze[0],Ee=+Ze[1],rt):[we-Ae,Ee-ke]},rt.extent=function(Ze){return arguments.length?(Ae=+Ze[0][0],we=+Ze[1][0],ke=+Ze[0][1],Ee=+Ze[1][1],rt):[[Ae,ke],[we,Ee]]},rt.iterations=function(Ze){return arguments.length?(ut=+Ze,rt):ut},rt.circularLinkGap=function(Ze){return arguments.length?(dt=+Ze,rt):dt},rt.nodePaddingRatio=function(Ze){return arguments.length?(at=+Ze,rt):at},rt.sortNodes=function(Ze){return arguments.length?(We=Ze,rt):We},rt.update=function(Ze){return k(Ze,Ue),Ve(Ze),Ze.links.forEach(function(He){He.circular&&(He.circularLinkType=He.y0+He.y1<Ee?"top":"bottom",He.source.circularLinkType=He.circularLinkType,He.target.circularLinkType=He.circularLinkType)}),K(Ze,Ee,Ue,!1),le(Ze,Ee,Ue),z(Ze,dt,Ee,Ue),Ze};function st(Ze){Ze.nodes.forEach(function(Ie,be){Ie.index=be,Ie.sourceLinks=[],Ie.targetLinks=[]});var He=(0,P.kH)(Ze.nodes,Ue);return Ze.links.forEach(function(Ie,be){Ie.index=be;var me=Ie.source,Me=Ie.target;(typeof me>"u"?"undefined":u(me))!=="object"&&(me=Ie.source=C(He,me)),(typeof Me>"u"?"undefined":u(Me))!=="object"&&(Me=Ie.target=C(He,Me)),me.sourceLinks.push(Ie),Me.targetLinks.push(Ie)}),Ze}function ht(Ze){Ze.nodes.forEach(function(He){He.partOfCycle=!1,He.value=Math.max((0,g.oh)(He.sourceLinks,h),(0,g.oh)(He.targetLinks,h)),He.sourceLinks.forEach(function(Ie){Ie.circular&&(He.partOfCycle=!0,He.circularLinkType=Ie.circularLinkType)}),He.targetLinks.forEach(function(Ie){Ie.circular&&(He.partOfCycle=!0,He.circularLinkType=Ie.circularLinkType)})})}function vt(Ze){var He=0,Ie=0,be=0,me=0,Me=(0,g.kv)(Ze.nodes,function(Te){return Te.column});return Ze.links.forEach(function(Te){Te.circular&&(Te.circularLinkType=="top"?He=He+Te.width:Ie=Ie+Te.width,Te.target.column==0&&(me=me+Te.width),Te.source.column==Me&&(be=be+Te.width))}),He=He>0?He+E+b:He,Ie=Ie>0?Ie+E+b:Ie,be=be>0?be+E+b:be,me=me>0?me+E+b:me,{top:He,bottom:Ie,left:me,right:be}}function At(Ze,He){var Ie=(0,g.kv)(Ze.nodes,function(nt){return nt.column}),be=we-Ae,me=Ee-ke,Me=be+He.right+He.left,Te=me+He.top+He.bottom,Oe=be/Me,Ke=me/Te;return Ae=Ae*Oe+He.left,we=He.right==0?we:we*Oe,ke=ke*Ke+He.top,Ee=Ee*Ke,Ze.nodes.forEach(function(nt){nt.x0=Ae+nt.column*((we-Ae-xe)/Ie),nt.x1=nt.x0+xe}),Ke}function et(Ze){var He,Ie,be;for(He=Ze.nodes,Ie=[],be=0;He.length;++be,He=Ie,Ie=[])He.forEach(function(me){me.depth=be,me.sourceLinks.forEach(function(Me){Ie.indexOf(Me.target)<0&&!Me.circular&&Ie.push(Me.target)})});for(He=Ze.nodes,Ie=[],be=0;He.length;++be,He=Ie,Ie=[])He.forEach(function(me){me.height=be,me.targetLinks.forEach(function(Me){Ie.indexOf(Me.source)<0&&!Me.circular&&Ie.push(Me.source)})});Ze.nodes.forEach(function(me){me.column=Math.floor(Be.call(null,me,be))})}function _e(Ze,He,Ie){var be=(0,P.UJ)().key(function(nt){return nt.column}).sortKeys(g.XE).entries(Ze.nodes).map(function(nt){return nt.values});Te(Ie),Ke();for(var me=1,Me=He;Me>0;--Me)Oe(me*=.99,Ie),Ke();function Te(nt){if(at){var pt=1/0;be.forEach(function(St){var kt=Ee*at/(St.length+1);pt=kt<pt?kt:pt}),Pe=pt}var yt=(0,g.SY)(be,function(St){return(Ee-ke-(St.length-1)*Pe)/(0,g.oh)(St,h)});yt=yt*s,Ze.links.forEach(function(St){St.width=St.value*yt});var Yt=vt(Ze),Xt=At(Ze,Yt);yt=yt*Xt,Ze.links.forEach(function(St){St.width=St.value*yt}),be.forEach(function(St){var kt=St.length;St.forEach(function(Kt,mr){Kt.depth==be.length-1&&kt==1||Kt.depth==0&&kt==1?(Kt.y0=Ee/2-Kt.value*yt,Kt.y1=Kt.y0+Kt.value*yt):Kt.partOfCycle?F(Kt,nt)==0?(Kt.y0=Ee/2+mr,Kt.y1=Kt.y0+Kt.value*yt):Kt.circularLinkType=="top"?(Kt.y0=ke+mr,Kt.y1=Kt.y0+Kt.value*yt):(Kt.y0=Ee-Kt.value*yt-mr,Kt.y1=Kt.y0+Kt.value*yt):Yt.top==0||Yt.bottom==0?(Kt.y0=(Ee-ke)/kt*mr,Kt.y1=Kt.y0+Kt.value*yt):(Kt.y0=(Ee-ke)/2-kt/2+mr,Kt.y1=Kt.y0+Kt.value*yt)})})}function Oe(nt,pt){var yt=be.length;be.forEach(function(Yt){var Xt=Yt.length,St=Yt[0].depth;Yt.forEach(function(kt){var Kt;if((kt.sourceLinks.length||kt.targetLinks.length)&&!(kt.partOfCycle&&F(kt,pt)>0))if(St==0&&Xt==1)Kt=kt.y1-kt.y0,kt.y0=Ee/2-Kt/2,kt.y1=Ee/2+Kt/2;else if(St==yt-1&&Xt==1)Kt=kt.y1-kt.y0,kt.y0=Ee/2-Kt/2,kt.y1=Ee/2+Kt/2;else{var mr=0,mt=(0,g.mo)(kt.sourceLinks,o),Zt=(0,g.mo)(kt.targetLinks,c);mt&&Zt?mr=(mt+Zt)/2:mr=mt||Zt;var Qt=(mr-S(kt))*nt;kt.y0+=Qt,kt.y1+=Qt}})})}function Ke(){be.forEach(function(nt){var pt,yt,Yt=ke,Xt=nt.length,St;for(nt.sort(y),St=0;St<Xt;++St)pt=nt[St],yt=Yt-pt.y0,yt>0&&(pt.y0+=yt,pt.y1+=yt),Yt=pt.y1+Pe;if(yt=Yt-Pe-Ee,yt>0)for(Yt=pt.y0-=yt,pt.y1-=yt,St=Xt-2;St>=0;--St)pt=nt[St],yt=pt.y1+Pe-Yt,yt>0&&(pt.y0-=yt,pt.y1-=yt),Yt=pt.y0})}}function Ve(Ze){Ze.nodes.forEach(function(He){He.sourceLinks.sort(l),He.targetLinks.sort(f)}),Ze.nodes.forEach(function(He){var Ie=He.y0,be=Ie,me=He.y1,Me=me;He.sourceLinks.forEach(function(Te){Te.circular?(Te.y0=me-Te.width/2,me=me-Te.width):(Te.y0=Ie+Te.width/2,Ie+=Te.width)}),He.targetLinks.forEach(function(Te){Te.circular?(Te.y1=Me-Te.width/2,Me=Me-Te.width):(Te.y1=be+Te.width/2,be+=Te.width)})})}return rt}function T(Ae,ke,we){var Ee=0;if(we===null){for(var xe=[],Pe=0;Pe<Ae.links.length;Pe++){var Ue=Ae.links[Pe],Be=Ue.source.index,Ne=Ue.target.index;xe[Be]||(xe[Be]=[]),xe[Ne]||(xe[Ne]=[]),xe[Be].indexOf(Ne)===-1&&xe[Be].push(Ne)}var Xe=M()(xe);Xe.sort(function(We,rt){return We.length-rt.length});var ut={};for(Pe=0;Pe<Xe.length;Pe++){var dt=Xe[Pe],at=dt.slice(-2);ut[at[0]]||(ut[at[0]]={}),ut[at[0]][at[1]]=!0}Ae.links.forEach(function(We){var rt=We.target.index,st=We.source.index;rt===st||ut[st]&&ut[st][rt]?(We.circular=!0,We.circularLinkID=Ee,Ee=Ee+1):We.circular=!1})}else Ae.links.forEach(function(We){We.source[we]<We.target[we]?We.circular=!1:(We.circular=!0,We.circularLinkID=Ee,Ee=Ee+1)})}function k(Ae,ke){var we=0,Ee=0;Ae.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType||xe.target.circularLinkType?xe.circularLinkType=xe.source.circularLinkType?xe.source.circularLinkType:xe.target.circularLinkType:xe.circularLinkType=we<Ee?"top":"bottom",xe.circularLinkType=="top"?we=we+1:Ee=Ee+1,Ae.nodes.forEach(function(Pe){(m(Pe,ke)==m(xe.source,ke)||m(Pe,ke)==m(xe.target,ke))&&(Pe.circularLinkType=xe.circularLinkType)}))}),Ae.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType==xe.target.circularLinkType&&(xe.circularLinkType=xe.source.circularLinkType),ye(xe,ke)&&(xe.circularLinkType=xe.source.circularLinkType))})}function _(Ae){var ke=Math.abs(Ae.y1-Ae.y0),we=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(we/ke)}function B(Ae,ke){return Ae.source.column<ke.target.column?!1:!(Ae.target.column>ke.source.column)}function F(Ae,ke){var we=0;Ae.sourceLinks.forEach(function(xe){we=xe.circular&&!ye(xe,ke)?we+1:we});var Ee=0;return Ae.targetLinks.forEach(function(xe){Ee=xe.circular&&!ye(xe,ke)?Ee+1:Ee}),we+Ee}function O(Ae){var ke=Ae.source.sourceLinks,we=0;ke.forEach(function(Pe){we=Pe.circular?we+1:we});var Ee=Ae.target.targetLinks,xe=0;return Ee.forEach(function(Pe){xe=Pe.circular?xe+1:xe}),!(we>1||xe>1)}function N(Ae,ke,we){return Ae.sort(W),Ae.forEach(function(Ee,xe){var Pe=0;if(ye(Ee,we)&&O(Ee))Ee.circularPathData.verticalBuffer=Pe+Ee.width/2;else{var Ue=0;for(Ue;Ue<xe;Ue++)if(B(Ae[xe],Ae[Ue])){var Be=Ae[Ue].circularPathData.verticalBuffer+Ae[Ue].width/2+ke;Pe=Be>Pe?Be:Pe}Ee.circularPathData.verticalBuffer=Pe+Ee.width/2}}),Ae}function z(Ae,ke,we,Ee){var xe=5,Pe=(0,g.SY)(Ae.links,function(Ne){return Ne.source.y0});Ae.links.forEach(function(Ne){Ne.circular&&(Ne.circularPathData={})});var Ue=Ae.links.filter(function(Ne){return Ne.circularLinkType=="top"});N(Ue,ke,Ee);var Be=Ae.links.filter(function(Ne){return Ne.circularLinkType=="bottom"});N(Be,ke,Ee),Ae.links.forEach(function(Ne){if(Ne.circular){if(Ne.circularPathData.arcRadius=Ne.width+b,Ne.circularPathData.leftNodeBuffer=xe,Ne.circularPathData.rightNodeBuffer=xe,Ne.circularPathData.sourceWidth=Ne.source.x1-Ne.source.x0,Ne.circularPathData.sourceX=Ne.source.x0+Ne.circularPathData.sourceWidth,Ne.circularPathData.targetX=Ne.target.x0,Ne.circularPathData.sourceY=Ne.y0,Ne.circularPathData.targetY=Ne.y1,ye(Ne,Ee)&&O(Ne))Ne.circularPathData.leftSmallArcRadius=b+Ne.width/2,Ne.circularPathData.leftLargeArcRadius=b+Ne.width/2,Ne.circularPathData.rightSmallArcRadius=b+Ne.width/2,Ne.circularPathData.rightLargeArcRadius=b+Ne.width/2,Ne.circularLinkType=="bottom"?(Ne.circularPathData.verticalFullExtent=Ne.source.y1+E+Ne.circularPathData.verticalBuffer,Ne.circularPathData.verticalLeftInnerExtent=Ne.circularPathData.verticalFullExtent-Ne.circularPathData.leftLargeArcRadius,Ne.circularPathData.verticalRightInnerExtent=Ne.circularPathData.verticalFullExtent-Ne.circularPathData.rightLargeArcRadius):(Ne.circularPathData.verticalFullExtent=Ne.source.y0-E-Ne.circularPathData.verticalBuffer,Ne.circularPathData.verticalLeftInnerExtent=Ne.circularPathData.verticalFullExtent+Ne.circularPathData.leftLargeArcRadius,Ne.circularPathData.verticalRightInnerExtent=Ne.circularPathData.verticalFullExtent+Ne.circularPathData.rightLargeArcRadius);else{var Xe=Ne.source.column,ut=Ne.circularLinkType,dt=Ae.links.filter(function(rt){return rt.source.column==Xe&&rt.circularLinkType==ut});Ne.circularLinkType=="bottom"?dt.sort(re):dt.sort($);var at=0;dt.forEach(function(rt,st){rt.circularLinkID==Ne.circularLinkID&&(Ne.circularPathData.leftSmallArcRadius=b+Ne.width/2+at,Ne.circularPathData.leftLargeArcRadius=b+Ne.width/2+st*ke+at),at=at+rt.width}),Xe=Ne.target.column,dt=Ae.links.filter(function(rt){return rt.target.column==Xe&&rt.circularLinkType==ut}),Ne.circularLinkType=="bottom"?dt.sort(ue):dt.sort(ne),at=0,dt.forEach(function(rt,st){rt.circularLinkID==Ne.circularLinkID&&(Ne.circularPathData.rightSmallArcRadius=b+Ne.width/2+at,Ne.circularPathData.rightLargeArcRadius=b+Ne.width/2+st*ke+at),at=at+rt.width}),Ne.circularLinkType=="bottom"?(Ne.circularPathData.verticalFullExtent=Math.max(we,Ne.source.y1,Ne.target.y1)+E+Ne.circularPathData.verticalBuffer,Ne.circularPathData.verticalLeftInnerExtent=Ne.circularPathData.verticalFullExtent-Ne.circularPathData.leftLargeArcRadius,Ne.circularPathData.verticalRightInnerExtent=Ne.circularPathData.verticalFullExtent-Ne.circularPathData.rightLargeArcRadius):(Ne.circularPathData.verticalFullExtent=Pe-E-Ne.circularPathData.verticalBuffer,Ne.circularPathData.verticalLeftInnerExtent=Ne.circularPathData.verticalFullExtent+Ne.circularPathData.leftLargeArcRadius,Ne.circularPathData.verticalRightInnerExtent=Ne.circularPathData.verticalFullExtent+Ne.circularPathData.rightLargeArcRadius)}Ne.circularPathData.leftInnerExtent=Ne.circularPathData.sourceX+Ne.circularPathData.leftNodeBuffer,Ne.circularPathData.rightInnerExtent=Ne.circularPathData.targetX-Ne.circularPathData.rightNodeBuffer,Ne.circularPathData.leftFullExtent=Ne.circularPathData.sourceX+Ne.circularPathData.leftLargeArcRadius+Ne.circularPathData.leftNodeBuffer,Ne.circularPathData.rightFullExtent=Ne.circularPathData.targetX-Ne.circularPathData.rightLargeArcRadius-Ne.circularPathData.rightNodeBuffer}if(Ne.circular)Ne.path=V(Ne);else{var We=(0,a.ak)().source(function(rt){var st=rt.source.x0+(rt.source.x1-rt.source.x0),ht=rt.y0;return[st,ht]}).target(function(rt){var st=rt.target.x0,ht=rt.y1;return[st,ht]});Ne.path=We(Ne)}})}function V(Ae){var ke="";return Ae.circularLinkType=="top"?ke="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:ke="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,ke}function W(Ae,ke){return J(Ae)==J(ke)?Ae.circularLinkType=="bottom"?re(Ae,ke):$(Ae,ke):J(ke)-J(Ae)}function $(Ae,ke){return Ae.y0-ke.y0}function re(Ae,ke){return ke.y0-Ae.y0}function ne(Ae,ke){return Ae.y1-ke.y1}function ue(Ae,ke){return ke.y1-Ae.y1}function J(Ae){return Ae.target.column-Ae.source.column}function X(Ae){return Ae.target.x0-Ae.source.x1}function oe(Ae,ke){var we=_(Ae),Ee=X(ke)/Math.tan(we),xe=ce(Ae)=="up"?Ae.y1+Ee:Ae.y1-Ee;return xe}function Y(Ae,ke){var we=_(Ae),Ee=X(ke)/Math.tan(we),xe=ce(Ae)=="up"?Ae.y1-Ee:Ae.y1+Ee;return xe}function q(Ae,ke,we,Ee){Ae.links.forEach(function(xe){if(!xe.circular&&xe.target.column-xe.source.column>1){var Pe=xe.source.column+1,Ue=xe.target.column-1,Be=1,Ne=Ue-Pe+1;for(Be=1;Pe<=Ue;Pe++,Be++)Ae.nodes.forEach(function(Xe){if(Xe.column==Pe){var ut=Be/(Ne+1),dt=Math.pow(1-ut,3),at=3*ut*Math.pow(1-ut,2),We=3*Math.pow(ut,2)*(1-ut),rt=Math.pow(ut,3),st=dt*xe.y0+at*xe.y0+We*xe.y1+rt*xe.y1,ht=st-xe.width/2,vt=st+xe.width/2,At;ht>Xe.y0&&ht<Xe.y1?(At=Xe.y1-ht+10,At=Xe.circularLinkType=="bottom"?At:-At,Xe=Q(Xe,At,ke,we),Ae.nodes.forEach(function(et){m(et,Ee)==m(Xe,Ee)||et.column!=Xe.column||se(Xe,et)&&Q(et,At,ke,we)})):vt>Xe.y0&&vt<Xe.y1?(At=vt-Xe.y0+10,Xe=Q(Xe,At,ke,we),Ae.nodes.forEach(function(et){m(et,Ee)==m(Xe,Ee)||et.column!=Xe.column||et.y0<Xe.y1&&et.y1>Xe.y1&&Q(et,At,ke,we)})):ht<Xe.y0&&vt>Xe.y1&&(At=vt-Xe.y0+10,Xe=Q(Xe,At,ke,we),Ae.nodes.forEach(function(et){m(et,Ee)==m(Xe,Ee)||et.column!=Xe.column||et.y0<Xe.y1&&et.y1>Xe.y1&&Q(et,At,ke,we)}))}})}})}function se(Ae,ke){return Ae.y0>ke.y0&&Ae.y0<ke.y1||Ae.y1>ke.y0&&Ae.y1<ke.y1?!0:Ae.y0<ke.y0&&Ae.y1>ke.y1}function Q(Ae,ke,we,Ee){return Ae.y0+ke>=we&&Ae.y1+ke<=Ee&&(Ae.y0=Ae.y0+ke,Ae.y1=Ae.y1+ke,Ae.targetLinks.forEach(function(xe){xe.y1=xe.y1+ke}),Ae.sourceLinks.forEach(function(xe){xe.y0=xe.y0+ke})),Ae}function K(Ae,ke,we,Ee){Ae.nodes.forEach(function(xe){Ee&&xe.y+(xe.y1-xe.y0)>ke&&(xe.y=xe.y-(xe.y+(xe.y1-xe.y0)-ke));var Pe=Ae.links.filter(function(Ne){return m(Ne.source,we)==m(xe,we)}),Ue=Pe.length;Ue>1&&Pe.sort(function(Ne,Xe){if(!Ne.circular&&!Xe.circular){if(Ne.target.column==Xe.target.column)return Ne.y1-Xe.y1;if(ie(Ne,Xe)){if(Ne.target.column>Xe.target.column){var ut=Y(Xe,Ne);return Ne.y1-ut}if(Xe.target.column>Ne.target.column){var dt=Y(Ne,Xe);return dt-Xe.y1}}else return Ne.y1-Xe.y1}if(Ne.circular&&!Xe.circular)return Ne.circularLinkType=="top"?-1:1;if(Xe.circular&&!Ne.circular)return Xe.circularLinkType=="top"?1:-1;if(Ne.circular&&Xe.circular)return Ne.circularLinkType===Xe.circularLinkType&&Ne.circularLinkType=="top"?Ne.target.column===Xe.target.column?Ne.target.y1-Xe.target.y1:Xe.target.column-Ne.target.column:Ne.circularLinkType===Xe.circularLinkType&&Ne.circularLinkType=="bottom"?Ne.target.column===Xe.target.column?Xe.target.y1-Ne.target.y1:Ne.target.column-Xe.target.column:Ne.circularLinkType=="top"?-1:1});var Be=xe.y0;Pe.forEach(function(Ne){Ne.y0=Be+Ne.width/2,Be=Be+Ne.width}),Pe.forEach(function(Ne,Xe){if(Ne.circularLinkType=="bottom"){var ut=Xe+1,dt=0;for(ut;ut<Ue;ut++)dt=dt+Pe[ut].width;Ne.y0=xe.y1-dt-Ne.width/2}})})}function le(Ae,ke,we){Ae.nodes.forEach(function(Ee){var xe=Ae.links.filter(function(Be){return m(Be.target,we)==m(Ee,we)}),Pe=xe.length;Pe>1&&xe.sort(function(Be,Ne){if(!Be.circular&&!Ne.circular){if(Be.source.column==Ne.source.column)return Be.y0-Ne.y0;if(ie(Be,Ne)){if(Ne.source.column<Be.source.column){var Xe=oe(Ne,Be);return Be.y0-Xe}if(Be.source.column<Ne.source.column){var ut=oe(Be,Ne);return ut-Ne.y0}}else return Be.y0-Ne.y0}if(Be.circular&&!Ne.circular)return Be.circularLinkType=="top"?-1:1;if(Ne.circular&&!Be.circular)return Ne.circularLinkType=="top"?1:-1;if(Be.circular&&Ne.circular)return Be.circularLinkType===Ne.circularLinkType&&Be.circularLinkType=="top"?Be.source.column===Ne.source.column?Be.source.y1-Ne.source.y1:Be.source.column-Ne.source.column:Be.circularLinkType===Ne.circularLinkType&&Be.circularLinkType=="bottom"?Be.source.column===Ne.source.column?Be.source.y1-Ne.source.y1:Ne.source.column-Be.source.column:Be.circularLinkType=="top"?-1:1});var Ue=Ee.y0;xe.forEach(function(Be){Be.y1=Ue+Be.width/2,Ue=Ue+Be.width}),xe.forEach(function(Be,Ne){if(Be.circularLinkType=="bottom"){var Xe=Ne+1,ut=0;for(Xe;Xe<Pe;Xe++)ut=ut+xe[Xe].width;Be.y1=Ee.y1-ut-Be.width/2}})})}function ie(Ae,ke){return ce(Ae)==ce(ke)}function ce(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function ye(Ae,ke){return m(Ae.source,ke)==m(Ae.target,ke)}function Ce(Ae,ke,we){var Ee=Ae.nodes,xe=Ae.links,Pe=!1,Ue=!1;if(xe.forEach(function(at){at.circularLinkType=="top"?Pe=!0:at.circularLinkType=="bottom"&&(Ue=!0)}),Pe==!1||Ue==!1){var Be=(0,g.SY)(Ee,function(at){return at.y0}),Ne=(0,g.kv)(Ee,function(at){return at.y1}),Xe=Ne-Be,ut=we-ke,dt=ut/Xe;Ee.forEach(function(at){var We=(at.y1-at.y0)*dt;at.y0=(at.y0-Be)*dt,at.y1=at.y0+We}),xe.forEach(function(at){at.y0=(at.y0-Be)*dt,at.y1=(at.y1-Be)*dt,at.width=at.width*dt})}}},26800:function(j,H,e){e.r(H),e.d(H,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return x},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return M}});var g=e(84706),P=e(34712);function a(E){return E.target.depth}function x(E){return E.depth}function M(E,b){return b-1-E.height}function v(E,b){return E.sourceLinks.length?E.depth:b-1}function p(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,g.SY)(E.sourceLinks,a)-1:0}function r(E){return function(){return E}}function t(E,b){return n(E.source,b.source)||E.index-b.index}function i(E,b){return n(E.target,b.target)||E.index-b.index}function n(E,b){return E.y0-b.y0}function u(E){return E.value}function f(E){return(E.y0+E.y1)/2}function l(E){return f(E.source)*E.value}function y(E){return f(E.target)*E.value}function h(E){return E.index}function S(E){return E.nodes}function c(E){return E.links}function o(E,b){var s=E.get(b);if(!s)throw new Error("missing: "+b);return s}function d(){var E=0,b=0,s=1,L=1,T=24,k=8,_=h,B=v,F=S,O=c,N=32,z=2/3;function V(){var J={nodes:F.apply(null,arguments),links:O.apply(null,arguments)};return W(J),$(J),re(J),ne(J),ue(J),J}V.update=function(J){return ue(J),J},V.nodeId=function(J){return arguments.length?(_=typeof J=="function"?J:r(J),V):_},V.nodeAlign=function(J){return arguments.length?(B=typeof J=="function"?J:r(J),V):B},V.nodeWidth=function(J){return arguments.length?(T=+J,V):T},V.nodePadding=function(J){return arguments.length?(k=+J,V):k},V.nodes=function(J){return arguments.length?(F=typeof J=="function"?J:r(J),V):F},V.links=function(J){return arguments.length?(O=typeof J=="function"?J:r(J),V):O},V.size=function(J){return arguments.length?(E=b=0,s=+J[0],L=+J[1],V):[s-E,L-b]},V.extent=function(J){return arguments.length?(E=+J[0][0],s=+J[1][0],b=+J[0][1],L=+J[1][1],V):[[E,b],[s,L]]},V.iterations=function(J){return arguments.length?(N=+J,V):N};function W(J){J.nodes.forEach(function(oe,Y){oe.index=Y,oe.sourceLinks=[],oe.targetLinks=[]});var X=(0,P.kH)(J.nodes,_);J.links.forEach(function(oe,Y){oe.index=Y;var q=oe.source,se=oe.target;typeof q!="object"&&(q=oe.source=o(X,q)),typeof se!="object"&&(se=oe.target=o(X,se)),q.sourceLinks.push(oe),se.targetLinks.push(oe)})}function $(J){J.nodes.forEach(function(X){X.value=Math.max((0,g.oh)(X.sourceLinks,u),(0,g.oh)(X.targetLinks,u))})}function re(J){var X,oe,Y;for(X=J.nodes,oe=[],Y=0;X.length;++Y,X=oe,oe=[])X.forEach(function(se){se.depth=Y,se.sourceLinks.forEach(function(Q){oe.indexOf(Q.target)<0&&oe.push(Q.target)})});for(X=J.nodes,oe=[],Y=0;X.length;++Y,X=oe,oe=[])X.forEach(function(se){se.height=Y,se.targetLinks.forEach(function(Q){oe.indexOf(Q.source)<0&&oe.push(Q.source)})});var q=(s-E-T)/(Y-1);J.nodes.forEach(function(se){se.x1=(se.x0=E+Math.max(0,Math.min(Y-1,Math.floor(B.call(null,se,Y))))*q)+T})}function ne(J){var X=(0,P.UJ)().key(function(le){return le.x0}).sortKeys(g.XE).entries(J.nodes).map(function(le){return le.values});q(),K();for(var oe=1,Y=N;Y>0;--Y)Q(oe*=.99),K(),se(oe),K();function q(){var le=(0,g.kv)(X,function(ye){return ye.length}),ie=z*(L-b)/(le-1);k>ie&&(k=ie);var ce=(0,g.SY)(X,function(ye){return(L-b-(ye.length-1)*k)/(0,g.oh)(ye,u)});X.forEach(function(ye){ye.forEach(function(Ce,Ae){Ce.y1=(Ce.y0=Ae)+Ce.value*ce})}),J.links.forEach(function(ye){ye.width=ye.value*ce})}function se(le){X.forEach(function(ie){ie.forEach(function(ce){if(ce.targetLinks.length){var ye=((0,g.oh)(ce.targetLinks,l)/(0,g.oh)(ce.targetLinks,u)-f(ce))*le;ce.y0+=ye,ce.y1+=ye}})})}function Q(le){X.slice().reverse().forEach(function(ie){ie.forEach(function(ce){if(ce.sourceLinks.length){var ye=((0,g.oh)(ce.sourceLinks,y)/(0,g.oh)(ce.sourceLinks,u)-f(ce))*le;ce.y0+=ye,ce.y1+=ye}})})}function K(){X.forEach(function(le){var ie,ce,ye=b,Ce=le.length,Ae;for(le.sort(n),Ae=0;Ae<Ce;++Ae)ie=le[Ae],ce=ye-ie.y0,ce>0&&(ie.y0+=ce,ie.y1+=ce),ye=ie.y1+k;if(ce=ye-k-L,ce>0)for(ye=ie.y0-=ce,ie.y1-=ce,Ae=Ce-2;Ae>=0;--Ae)ie=le[Ae],ce=ie.y1+k-ye,ce>0&&(ie.y0-=ce,ie.y1-=ce),ye=ie.y0})}}function ue(J){J.nodes.forEach(function(X){X.sourceLinks.sort(i),X.targetLinks.sort(t)}),J.nodes.forEach(function(X){var oe=X.y0,Y=oe;X.sourceLinks.forEach(function(q){q.y0=oe+q.width/2,oe+=q.width}),X.targetLinks.forEach(function(q){q.y1=Y+q.width/2,Y+=q.width})})}return V}var w=e(10132);function A(E){return[E.source.x1,E.y0]}function C(E){return[E.target.x0,E.y1]}function m(){return(0,w.ak)().source(A).target(C)}},33428:function(j,H,e){var g,P;(function(){var a={version:"3.8.0"},x=[].slice,M=function(fe){return x.call(fe)},v=self.document;function p(fe){return fe&&(fe.ownerDocument||fe.document||fe).documentElement}function r(fe){return fe&&(fe.ownerDocument&&fe.ownerDocument.defaultView||fe.document&&fe||fe.defaultView)}if(v)try{M(v.documentElement.childNodes)[0].nodeType}catch{M=function(Le){for(var ze=Le.length,qe=new Array(ze);ze--;)qe[ze]=Le[ze];return qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,i=t.setAttribute,n=t.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;t.setAttribute=function(Le,ze){i.call(this,Le,ze+"")},t.setAttributeNS=function(Le,ze,qe){n.call(this,Le,ze,qe+"")},u.setProperty=function(Le,ze,qe){f.call(this,Le,ze+"",qe)}}a.ascending=l;function l(fe,Le){return fe<Le?-1:fe>Le?1:fe>=Le?0:NaN}a.descending=function(fe,Le){return Le<fe?-1:Le>fe?1:Le>=fe?0:NaN},a.min=function(fe,Le){var ze=-1,qe=fe.length,it,ct;if(arguments.length===1){for(;++ze<qe;)if((ct=fe[ze])!=null&&ct>=ct){it=ct;break}for(;++ze<qe;)(ct=fe[ze])!=null&&it>ct&&(it=ct)}else{for(;++ze<qe;)if((ct=Le.call(fe,fe[ze],ze))!=null&&ct>=ct){it=ct;break}for(;++ze<qe;)(ct=Le.call(fe,fe[ze],ze))!=null&&it>ct&&(it=ct)}return it},a.max=function(fe,Le){var ze=-1,qe=fe.length,it,ct;if(arguments.length===1){for(;++ze<qe;)if((ct=fe[ze])!=null&&ct>=ct){it=ct;break}for(;++ze<qe;)(ct=fe[ze])!=null&&ct>it&&(it=ct)}else{for(;++ze<qe;)if((ct=Le.call(fe,fe[ze],ze))!=null&&ct>=ct){it=ct;break}for(;++ze<qe;)(ct=Le.call(fe,fe[ze],ze))!=null&&ct>it&&(it=ct)}return it},a.extent=function(fe,Le){var ze=-1,qe=fe.length,it,ct,Pt;if(arguments.length===1){for(;++ze<qe;)if((ct=fe[ze])!=null&&ct>=ct){it=Pt=ct;break}for(;++ze<qe;)(ct=fe[ze])!=null&&(it>ct&&(it=ct),Pt<ct&&(Pt=ct))}else{for(;++ze<qe;)if((ct=Le.call(fe,fe[ze],ze))!=null&&ct>=ct){it=Pt=ct;break}for(;++ze<qe;)(ct=Le.call(fe,fe[ze],ze))!=null&&(it>ct&&(it=ct),Pt<ct&&(Pt=ct))}return[it,Pt]};function y(fe){return fe===null?NaN:+fe}function h(fe){return!isNaN(fe)}a.sum=function(fe,Le){var ze=0,qe=fe.length,it,ct=-1;if(arguments.length===1)for(;++ct<qe;)h(it=+fe[ct])&&(ze+=it);else for(;++ct<qe;)h(it=+Le.call(fe,fe[ct],ct))&&(ze+=it);return ze},a.mean=function(fe,Le){var ze=0,qe=fe.length,it,ct=-1,Pt=qe;if(arguments.length===1)for(;++ct<qe;)h(it=y(fe[ct]))?ze+=it:--Pt;else for(;++ct<qe;)h(it=y(Le.call(fe,fe[ct],ct)))?ze+=it:--Pt;if(Pt)return ze/Pt},a.quantile=function(fe,Le){var ze=(fe.length-1)*Le+1,qe=Math.floor(ze),it=+fe[qe-1],ct=ze-qe;return ct?it+ct*(fe[qe]-it):it},a.median=function(fe,Le){var ze=[],qe=fe.length,it,ct=-1;if(arguments.length===1)for(;++ct<qe;)h(it=y(fe[ct]))&&ze.push(it);else for(;++ct<qe;)h(it=y(Le.call(fe,fe[ct],ct)))&&ze.push(it);if(ze.length)return a.quantile(ze.sort(l),.5)},a.variance=function(fe,Le){var ze=fe.length,qe=0,it,ct,Pt=0,Mt=-1,jt=0;if(arguments.length===1)for(;++Mt<ze;)h(it=y(fe[Mt]))&&(ct=it-qe,qe+=ct/++jt,Pt+=ct*(it-qe));else for(;++Mt<ze;)h(it=y(Le.call(fe,fe[Mt],Mt)))&&(ct=it-qe,qe+=ct/++jt,Pt+=ct*(it-qe));if(jt>1)return Pt/(jt-1)},a.deviation=function(){var fe=a.variance.apply(this,arguments);return fe&&Math.sqrt(fe)};function S(fe){return{left:function(Le,ze,qe,it){for(arguments.length<3&&(qe=0),arguments.length<4&&(it=Le.length);qe<it;){var ct=qe+it>>>1;fe(Le[ct],ze)<0?qe=ct+1:it=ct}return qe},right:function(Le,ze,qe,it){for(arguments.length<3&&(qe=0),arguments.length<4&&(it=Le.length);qe<it;){var ct=qe+it>>>1;fe(Le[ct],ze)>0?it=ct:qe=ct+1}return qe}}}var c=S(l);a.bisectLeft=c.left,a.bisect=a.bisectRight=c.right,a.bisector=function(fe){return S(fe.length===1?function(Le,ze){return l(fe(Le),ze)}:fe)},a.shuffle=function(fe,Le,ze){(qe=arguments.length)<3&&(ze=fe.length,qe<2&&(Le=0));for(var qe=ze-Le,it,ct;qe;)ct=Math.random()*qe--|0,it=fe[qe+Le],fe[qe+Le]=fe[ct+Le],fe[ct+Le]=it;return fe},a.permute=function(fe,Le){for(var ze=Le.length,qe=new Array(ze);ze--;)qe[ze]=fe[Le[ze]];return qe},a.pairs=function(fe){for(var Le=0,ze=fe.length-1,qe=fe[0],it=new Array(ze<0?0:ze);Le<ze;)it[Le]=[qe,qe=fe[++Le]];return it},a.transpose=function(fe){if(!(ct=fe.length))return[];for(var Le=-1,ze=a.min(fe,o),qe=new Array(ze);++Le<ze;)for(var it=-1,ct,Pt=qe[Le]=new Array(ct);++it<ct;)Pt[it]=fe[it][Le];return qe};function o(fe){return fe.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(fe){var Le=[];for(var ze in fe)Le.push(ze);return Le},a.values=function(fe){var Le=[];for(var ze in fe)Le.push(fe[ze]);return Le},a.entries=function(fe){var Le=[];for(var ze in fe)Le.push({key:ze,value:fe[ze]});return Le},a.merge=function(fe){for(var Le=fe.length,ze,qe=-1,it=0,ct,Pt;++qe<Le;)it+=fe[qe].length;for(ct=new Array(it);--Le>=0;)for(Pt=fe[Le],ze=Pt.length;--ze>=0;)ct[--it]=Pt[ze];return ct};var d=Math.abs;a.range=function(fe,Le,ze){if(arguments.length<3&&(ze=1,arguments.length<2&&(Le=fe,fe=0)),(Le-fe)/ze===1/0)throw new Error("infinite range");var qe=[],it=w(d(ze)),ct=-1,Pt;if(fe*=it,Le*=it,ze*=it,ze<0)for(;(Pt=fe+ze*++ct)>Le;)qe.push(Pt/it);else for(;(Pt=fe+ze*++ct)<Le;)qe.push(Pt/it);return qe};function w(fe){for(var Le=1;fe*Le%1;)Le*=10;return Le}function A(fe,Le){for(var ze in Le)Object.defineProperty(fe.prototype,ze,{value:Le[ze],enumerable:!1})}a.map=function(fe,Le){var ze=new C;if(fe instanceof C)fe.forEach(function(Mt,jt){ze.set(Mt,jt)});else if(Array.isArray(fe)){var qe=-1,it=fe.length,ct;if(arguments.length===1)for(;++qe<it;)ze.set(qe,fe[qe]);else for(;++qe<it;)ze.set(Le.call(fe,ct=fe[qe],qe),ct)}else for(var Pt in fe)ze.set(Pt,fe[Pt]);return ze};function C(){this._=Object.create(null)}var m="__proto__",E="\0";A(C,{has:L,get:function(fe){return this._[b(fe)]},set:function(fe,Le){return this._[b(fe)]=Le},remove:T,keys:k,values:function(){var fe=[];for(var Le in this._)fe.push(this._[Le]);return fe},entries:function(){var fe=[];for(var Le in this._)fe.push({key:s(Le),value:this._[Le]});return fe},size:_,empty:B,forEach:function(fe){for(var Le in this._)fe.call(this,s(Le),this._[Le])}});function b(fe){return(fe+="")===m||fe[0]===E?E+fe:fe}function s(fe){return(fe+="")[0]===E?fe.slice(1):fe}function L(fe){return b(fe)in this._}function T(fe){return(fe=b(fe))in this._&&delete this._[fe]}function k(){var fe=[];for(var Le in this._)fe.push(s(Le));return fe}function _(){var fe=0;for(var Le in this._)++fe;return fe}function B(){for(var fe in this._)return!1;return!0}a.nest=function(){var fe={},Le=[],ze=[],qe,it;function ct(Mt,jt,Gt){if(Gt>=Le.length)return it?it.call(fe,jt):qe?jt.sort(qe):jt;for(var rr=-1,Lr=jt.length,Rr=Le[Gt++],$r,sn,Ir,Ur=new C,Kr;++rr<Lr;)(Kr=Ur.get($r=Rr(sn=jt[rr])))?Kr.push(sn):Ur.set($r,[sn]);return Mt?(sn=Mt(),Ir=function(fn,dn){sn.set(fn,ct(Mt,dn,Gt))}):(sn={},Ir=function(fn,dn){sn[fn]=ct(Mt,dn,Gt)}),Ur.forEach(Ir),sn}function Pt(Mt,jt){if(jt>=Le.length)return Mt;var Gt=[],rr=ze[jt++];return Mt.forEach(function(Lr,Rr){Gt.push({key:Lr,values:Pt(Rr,jt)})}),rr?Gt.sort(function(Lr,Rr){return rr(Lr.key,Rr.key)}):Gt}return fe.map=function(Mt,jt){return ct(jt,Mt,0)},fe.entries=function(Mt){return Pt(ct(a.map,Mt,0),0)},fe.key=function(Mt){return Le.push(Mt),fe},fe.sortKeys=function(Mt){return ze[Le.length-1]=Mt,fe},fe.sortValues=function(Mt){return qe=Mt,fe},fe.rollup=function(Mt){return it=Mt,fe},fe},a.set=function(fe){var Le=new F;if(fe)for(var ze=0,qe=fe.length;ze<qe;++ze)Le.add(fe[ze]);return Le};function F(){this._=Object.create(null)}A(F,{has:L,add:function(fe){return this._[b(fe+="")]=!0,fe},remove:T,values:k,size:_,empty:B,forEach:function(fe){for(var Le in this._)fe.call(this,s(Le))}}),a.behavior={};function O(fe){return fe}a.rebind=function(fe,Le){for(var ze=1,qe=arguments.length,it;++ze<qe;)fe[it=arguments[ze]]=N(fe,Le,Le[it]);return fe};function N(fe,Le,ze){return function(){var qe=ze.apply(Le,arguments);return qe===Le?fe:qe}}function z(fe,Le){if(Le in fe)return Le;Le=Le.charAt(0).toUpperCase()+Le.slice(1);for(var ze=0,qe=V.length;ze<qe;++ze){var it=V[ze]+Le;if(it in fe)return it}}var V=["webkit","ms","moz","Moz","o","O"];function W(){}a.dispatch=function(){for(var fe=new $,Le=-1,ze=arguments.length;++Le<ze;)fe[arguments[Le]]=re(fe);return fe};function $(){}$.prototype.on=function(fe,Le){var ze=fe.indexOf("."),qe="";if(ze>=0&&(qe=fe.slice(ze+1),fe=fe.slice(0,ze)),fe)return arguments.length<2?this[fe].on(qe):this[fe].on(qe,Le);if(arguments.length===2){if(Le==null)for(fe in this)this.hasOwnProperty(fe)&&this[fe].on(qe,null);return this}};function re(fe){var Le=[],ze=new C;function qe(){for(var it=Le,ct=-1,Pt=it.length,Mt;++ct<Pt;)(Mt=it[ct].on)&&Mt.apply(this,arguments);return fe}return qe.on=function(it,ct){var Pt=ze.get(it),Mt;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Le=Le.slice(0,Mt=Le.indexOf(Pt)).concat(Le.slice(Mt+1)),ze.remove(it)),ct&&Le.push(ze.set(it,{on:ct})),fe)},qe}a.event=null;function ne(){a.event.preventDefault()}function ue(){for(var fe=a.event,Le;Le=fe.sourceEvent;)fe=Le;return fe}function J(fe){for(var Le=new $,ze=0,qe=arguments.length;++ze<qe;)Le[arguments[ze]]=re(Le);return Le.of=function(it,ct){return function(Pt){try{var Mt=Pt.sourceEvent=a.event;Pt.target=fe,a.event=Pt,Le[Pt.type].apply(it,ct)}finally{a.event=Mt}}},Le}a.requote=function(fe){return fe.replace(X,"\\$&")};var X=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,oe={}.__proto__?function(fe,Le){fe.__proto__=Le}:function(fe,Le){for(var ze in Le)fe[ze]=Le[ze]};function Y(fe){return oe(fe,K),fe}var q=function(fe,Le){return Le.querySelector(fe)},se=function(fe,Le){return Le.querySelectorAll(fe)},Q=function(fe,Le){var ze=fe.matches||fe[z(fe,"matchesSelector")];return Q=function(qe,it){return ze.call(qe,it)},Q(fe,Le)};typeof Sizzle=="function"&&(q=function(fe,Le){return Sizzle(fe,Le)[0]||null},se=Sizzle,Q=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var K=a.selection.prototype=[];K.select=function(fe){var Le=[],ze,qe,it,ct;fe=le(fe);for(var Pt=-1,Mt=this.length;++Pt<Mt;){Le.push(ze=[]),ze.parentNode=(it=this[Pt]).parentNode;for(var jt=-1,Gt=it.length;++jt<Gt;)(ct=it[jt])?(ze.push(qe=fe.call(ct,ct.__data__,jt,Pt)),qe&&"__data__"in ct&&(qe.__data__=ct.__data__)):ze.push(null)}return Y(Le)};function le(fe){return typeof fe=="function"?fe:function(){return q(fe,this)}}K.selectAll=function(fe){var Le=[],ze,qe;fe=ie(fe);for(var it=-1,ct=this.length;++it<ct;)for(var Pt=this[it],Mt=-1,jt=Pt.length;++Mt<jt;)(qe=Pt[Mt])&&(Le.push(ze=M(fe.call(qe,qe.__data__,Mt,it))),ze.parentNode=qe);return Y(Le)};function ie(fe){return typeof fe=="function"?fe:function(){return se(fe,this)}}var ce="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:ye,qualify:function(fe){var Le=fe.indexOf(":"),ze=fe;return Le>=0&&(ze=fe.slice(0,Le))!=="xmlns"&&(fe=fe.slice(Le+1)),ye.hasOwnProperty(ze)?{space:ye[ze],local:fe}:fe}},K.attr=function(fe,Le){if(arguments.length<2){if(typeof fe=="string"){var ze=this.node();return fe=a.ns.qualify(fe),fe.local?ze.getAttributeNS(fe.space,fe.local):ze.getAttribute(fe)}for(Le in fe)this.each(Ce(Le,fe[Le]));return this}return this.each(Ce(fe,Le))};function Ce(fe,Le){fe=a.ns.qualify(fe);function ze(){this.removeAttribute(fe)}function qe(){this.removeAttributeNS(fe.space,fe.local)}function it(){this.setAttribute(fe,Le)}function ct(){this.setAttributeNS(fe.space,fe.local,Le)}function Pt(){var jt=Le.apply(this,arguments);jt==null?this.removeAttribute(fe):this.setAttribute(fe,jt)}function Mt(){var jt=Le.apply(this,arguments);jt==null?this.removeAttributeNS(fe.space,fe.local):this.setAttributeNS(fe.space,fe.local,jt)}return Le==null?fe.local?qe:ze:typeof Le=="function"?fe.local?Mt:Pt:fe.local?ct:it}function Ae(fe){return fe.trim().replace(/\s+/g," ")}K.classed=function(fe,Le){if(arguments.length<2){if(typeof fe=="string"){var ze=this.node(),qe=(fe=we(fe)).length,it=-1;if(Le=ze.classList){for(;++it<qe;)if(!Le.contains(fe[it]))return!1}else for(Le=ze.getAttribute("class");++it<qe;)if(!ke(fe[it]).test(Le))return!1;return!0}for(Le in fe)this.each(Ee(Le,fe[Le]));return this}return this.each(Ee(fe,Le))};function ke(fe){return new RegExp("(?:^|\\s+)"+a.requote(fe)+"(?:\\s+|$)","g")}function we(fe){return(fe+"").trim().split(/^|\s+/)}function Ee(fe,Le){fe=we(fe).map(xe);var ze=fe.length;function qe(){for(var ct=-1;++ct<ze;)fe[ct](this,Le)}function it(){for(var ct=-1,Pt=Le.apply(this,arguments);++ct<ze;)fe[ct](this,Pt)}return typeof Le=="function"?it:qe}function xe(fe){var Le=ke(fe);return function(ze,qe){if(it=ze.classList)return qe?it.add(fe):it.remove(fe);var it=ze.getAttribute("class")||"";qe?(Le.lastIndex=0,Le.test(it)||ze.setAttribute("class",Ae(it+" "+fe))):ze.setAttribute("class",Ae(it.replace(Le," ")))}}K.style=function(fe,Le,ze){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Le="");for(ze in fe)this.each(Pe(ze,fe[ze],Le));return this}if(qe<2){var it=this.node();return r(it).getComputedStyle(it,null).getPropertyValue(fe)}ze=""}return this.each(Pe(fe,Le,ze))};function Pe(fe,Le,ze){function qe(){this.style.removeProperty(fe)}function it(){this.style.setProperty(fe,Le,ze)}function ct(){var Pt=Le.apply(this,arguments);Pt==null?this.style.removeProperty(fe):this.style.setProperty(fe,Pt,ze)}return Le==null?qe:typeof Le=="function"?ct:it}K.property=function(fe,Le){if(arguments.length<2){if(typeof fe=="string")return this.node()[fe];for(Le in fe)this.each(Ue(Le,fe[Le]));return this}return this.each(Ue(fe,Le))};function Ue(fe,Le){function ze(){delete this[fe]}function qe(){this[fe]=Le}function it(){var ct=Le.apply(this,arguments);ct==null?delete this[fe]:this[fe]=ct}return Le==null?ze:typeof Le=="function"?it:qe}K.text=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Le=fe.apply(this,arguments);this.textContent=Le??""}:fe==null?function(){this.textContent=""}:function(){this.textContent=fe}):this.node().textContent},K.html=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Le=fe.apply(this,arguments);this.innerHTML=Le??""}:fe==null?function(){this.innerHTML=""}:function(){this.innerHTML=fe}):this.node().innerHTML},K.append=function(fe){return fe=Be(fe),this.select(function(){return this.appendChild(fe.apply(this,arguments))})};function Be(fe){function Le(){var qe=this.ownerDocument,it=this.namespaceURI;return it===ce&&qe.documentElement.namespaceURI===ce?qe.createElement(fe):qe.createElementNS(it,fe)}function ze(){return this.ownerDocument.createElementNS(fe.space,fe.local)}return typeof fe=="function"?fe:(fe=a.ns.qualify(fe)).local?ze:Le}K.insert=function(fe,Le){return fe=Be(fe),Le=le(Le),this.select(function(){return this.insertBefore(fe.apply(this,arguments),Le.apply(this,arguments)||null)})},K.remove=function(){return this.each(Ne)};function Ne(){var fe=this.parentNode;fe&&fe.removeChild(this)}K.data=function(fe,Le){var ze=-1,qe=this.length,it,ct;if(!arguments.length){for(fe=new Array(qe=(it=this[0]).length);++ze<qe;)(ct=it[ze])&&(fe[ze]=ct.__data__);return fe}function Pt(rr,Lr){var Rr,$r=rr.length,sn=Lr.length,Ir=Math.min($r,sn),Ur=new Array(sn),Kr=new Array(sn),fn=new Array($r),dn,en;if(Le){var Hn=new C,ea=new Array($r),fa;for(Rr=-1;++Rr<$r;)(dn=rr[Rr])&&(Hn.has(fa=Le.call(dn,dn.__data__,Rr))?fn[Rr]=dn:Hn.set(fa,dn),ea[Rr]=fa);for(Rr=-1;++Rr<sn;)(dn=Hn.get(fa=Le.call(Lr,en=Lr[Rr],Rr)))?dn!==!0&&(Ur[Rr]=dn,dn.__data__=en):Kr[Rr]=Xe(en),Hn.set(fa,!0);for(Rr=-1;++Rr<$r;)Rr in ea&&Hn.get(ea[Rr])!==!0&&(fn[Rr]=rr[Rr])}else{for(Rr=-1;++Rr<Ir;)dn=rr[Rr],en=Lr[Rr],dn?(dn.__data__=en,Ur[Rr]=dn):Kr[Rr]=Xe(en);for(;Rr<sn;++Rr)Kr[Rr]=Xe(Lr[Rr]);for(;Rr<$r;++Rr)fn[Rr]=rr[Rr]}Kr.update=Ur,Kr.parentNode=Ur.parentNode=fn.parentNode=rr.parentNode,Mt.push(Kr),jt.push(Ur),Gt.push(fn)}var Mt=We([]),jt=Y([]),Gt=Y([]);if(typeof fe=="function")for(;++ze<qe;)Pt(it=this[ze],fe.call(it,it.parentNode.__data__,ze));else for(;++ze<qe;)Pt(it=this[ze],fe);return jt.enter=function(){return Mt},jt.exit=function(){return Gt},jt};function Xe(fe){return{__data__:fe}}K.datum=function(fe){return arguments.length?this.property("__data__",fe):this.property("__data__")},K.filter=function(fe){var Le=[],ze,qe,it;typeof fe!="function"&&(fe=ut(fe));for(var ct=0,Pt=this.length;ct<Pt;ct++){Le.push(ze=[]),ze.parentNode=(qe=this[ct]).parentNode;for(var Mt=0,jt=qe.length;Mt<jt;Mt++)(it=qe[Mt])&&fe.call(it,it.__data__,Mt,ct)&&ze.push(it)}return Y(Le)};function ut(fe){return function(){return Q(this,fe)}}K.order=function(){for(var fe=-1,Le=this.length;++fe<Le;)for(var ze=this[fe],qe=ze.length-1,it=ze[qe],ct;--qe>=0;)(ct=ze[qe])&&(it&&it!==ct.nextSibling&&it.parentNode.insertBefore(ct,it),it=ct);return this},K.sort=function(fe){fe=dt.apply(this,arguments);for(var Le=-1,ze=this.length;++Le<ze;)this[Le].sort(fe);return this.order()};function dt(fe){return arguments.length||(fe=l),function(Le,ze){return Le&&ze?fe(Le.__data__,ze.__data__):!Le-!ze}}K.each=function(fe){return at(this,function(Le,ze,qe){fe.call(Le,Le.__data__,ze,qe)})};function at(fe,Le){for(var ze=0,qe=fe.length;ze<qe;ze++)for(var it=fe[ze],ct=0,Pt=it.length,Mt;ct<Pt;ct++)(Mt=it[ct])&&Le(Mt,ct,ze);return fe}K.call=function(fe){var Le=M(arguments);return fe.apply(Le[0]=this,Le),this},K.empty=function(){return!this.node()},K.node=function(){for(var fe=0,Le=this.length;fe<Le;fe++)for(var ze=this[fe],qe=0,it=ze.length;qe<it;qe++){var ct=ze[qe];if(ct)return ct}return null},K.size=function(){var fe=0;return at(this,function(){++fe}),fe};function We(fe){return oe(fe,rt),fe}var rt=[];a.selection.enter=We,a.selection.enter.prototype=rt,rt.append=K.append,rt.empty=K.empty,rt.node=K.node,rt.call=K.call,rt.size=K.size,rt.select=function(fe){for(var Le=[],ze,qe,it,ct,Pt,Mt=-1,jt=this.length;++Mt<jt;){it=(ct=this[Mt]).update,Le.push(ze=[]),ze.parentNode=ct.parentNode;for(var Gt=-1,rr=ct.length;++Gt<rr;)(Pt=ct[Gt])?(ze.push(it[Gt]=qe=fe.call(ct.parentNode,Pt.__data__,Gt,Mt)),qe.__data__=Pt.__data__):ze.push(null)}return Y(Le)},rt.insert=function(fe,Le){return arguments.length<2&&(Le=st(this)),K.insert.call(this,fe,Le)};function st(fe){var Le,ze;return function(qe,it,ct){var Pt=fe[ct].update,Mt=Pt.length,jt;for(ct!=ze&&(ze=ct,Le=0),it>=Le&&(Le=it+1);!(jt=Pt[Le])&&++Le<Mt;);return jt}}a.select=function(fe){var Le;return typeof fe=="string"?(Le=[q(fe,v)],Le.parentNode=v.documentElement):(Le=[fe],Le.parentNode=p(fe)),Y([Le])},a.selectAll=function(fe){var Le;return typeof fe=="string"?(Le=M(se(fe,v)),Le.parentNode=v.documentElement):(Le=M(fe),Le.parentNode=null),Y([Le])},K.on=function(fe,Le,ze){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Le=!1);for(ze in fe)this.each(ht(ze,fe[ze],Le));return this}if(qe<2)return(qe=this.node()["__on"+fe])&&qe._;ze=!1}return this.each(ht(fe,Le,ze))};function ht(fe,Le,ze){var qe="__on"+fe,it=fe.indexOf("."),ct=At;it>0&&(fe=fe.slice(0,it));var Pt=vt.get(fe);Pt&&(fe=Pt,ct=et);function Mt(){var rr=this[qe];rr&&(this.removeEventListener(fe,rr,rr.$),delete this[qe])}function jt(){var rr=ct(Le,M(arguments));Mt.call(this),this.addEventListener(fe,this[qe]=rr,rr.$=ze),rr._=Le}function Gt(){var rr=new RegExp("^__on([^.]+)"+a.requote(fe)+"$"),Lr;for(var Rr in this)if(Lr=Rr.match(rr)){var $r=this[Rr];this.removeEventListener(Lr[1],$r,$r.$),delete this[Rr]}}return it?Le?jt:Mt:Le?W:Gt}var vt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&vt.forEach(function(fe){"on"+fe in v&&vt.remove(fe)});function At(fe,Le){return function(ze){var qe=a.event;a.event=ze,Le[0]=this.__data__;try{fe.apply(this,Le)}finally{a.event=qe}}}function et(fe,Le){var ze=At(fe,Le);return function(qe){var it=this,ct=qe.relatedTarget;(!ct||ct!==it&&!(ct.compareDocumentPosition(it)&8))&&ze.call(it,qe)}}var _e,Ve=0;function Ze(fe){var Le=".dragsuppress-"+ ++Ve,ze="click"+Le,qe=a.select(r(fe)).on("touchmove"+Le,ne).on("dragstart"+Le,ne).on("selectstart"+Le,ne);if(_e==null&&(_e="onselectstart"in fe?!1:z(fe.style,"userSelect")),_e){var it=p(fe).style,ct=it[_e];it[_e]="none"}return function(Pt){if(qe.on(Le,null),_e&&(it[_e]=ct),Pt){var Mt=function(){qe.on(ze,null)};qe.on(ze,function(){ne(),Mt()},!0),setTimeout(Mt,0)}}}a.mouse=function(fe){return Ie(fe,ue())};var He=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ie(fe,Le){Le.changedTouches&&(Le=Le.changedTouches[0]);var ze=fe.ownerSVGElement||fe;if(ze.createSVGPoint){var qe=ze.createSVGPoint();if(He<0){var it=r(fe);if(it.scrollX||it.scrollY){ze=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ct=ze[0][0].getScreenCTM();He=!(ct.f||ct.e),ze.remove()}}return He?(qe.x=Le.pageX,qe.y=Le.pageY):(qe.x=Le.clientX,qe.y=Le.clientY),qe=qe.matrixTransform(fe.getScreenCTM().inverse()),[qe.x,qe.y]}var Pt=fe.getBoundingClientRect();return[Le.clientX-Pt.left-fe.clientLeft,Le.clientY-Pt.top-fe.clientTop]}a.touch=function(fe,Le,ze){if(arguments.length<3&&(ze=Le,Le=ue().changedTouches),Le){for(var qe=0,it=Le.length,ct;qe<it;++qe)if((ct=Le[qe]).identifier===ze)return Ie(fe,ct)}},a.behavior.drag=function(){var fe=J(it,"drag","dragstart","dragend"),Le=null,ze=ct(W,a.mouse,r,"mousemove","mouseup"),qe=ct(be,a.touch,O,"touchmove","touchend");function it(){this.on("mousedown.drag",ze).on("touchstart.drag",qe)}function ct(Pt,Mt,jt,Gt,rr){return function(){var Lr=this,Rr=a.event.target.correspondingElement||a.event.target,$r=Lr.parentNode,sn=fe.of(Lr,arguments),Ir=0,Ur=Pt(),Kr=".drag"+(Ur==null?"":"-"+Ur),fn,dn=a.select(jt(Rr)).on(Gt+Kr,ea).on(rr+Kr,fa),en=Ze(Rr),Hn=Mt($r,Ur);Le?(fn=Le.apply(Lr,arguments),fn=[fn.x-Hn[0],fn.y-Hn[1]]):fn=[0,0],sn({type:"dragstart"});function ea(){var Qn=Mt($r,Ur),ia,ca;Qn&&(ia=Qn[0]-Hn[0],ca=Qn[1]-Hn[1],Ir|=ia|ca,Hn=Qn,sn({type:"drag",x:Qn[0]+fn[0],y:Qn[1]+fn[1],dx:ia,dy:ca}))}function fa(){Mt($r,Ur)&&(dn.on(Gt+Kr,null).on(rr+Kr,null),en(Ir),sn({type:"dragend"}))}}}return it.origin=function(Pt){return arguments.length?(Le=Pt,it):Le},a.rebind(it,fe,"on")};function be(){return a.event.changedTouches[0].identifier}a.touches=function(fe,Le){return arguments.length<2&&(Le=ue().touches),Le?M(Le).map(function(ze){var qe=Ie(fe,ze);return qe.identifier=ze.identifier,qe}):[]};var me=1e-6,Me=me*me,Te=Math.PI,Oe=2*Te,Ke=Oe-me,nt=Te/2,pt=Te/180,yt=180/Te;function Yt(fe,Le,ze){return(Le[0]-fe[0])*(ze[1]-fe[1])-(Le[1]-fe[1])*(ze[0]-fe[0])}function Xt(fe){return fe>1?nt:fe<-1?-nt:Math.asin(fe)}function St(fe){return((fe=Math.exp(fe))-1/fe)/2}function kt(fe){return((fe=Math.exp(fe))+1/fe)/2}function Kt(fe){return((fe=Math.exp(2*fe))-1)/(fe+1)}var mr=Math.SQRT2,mt=2,Zt=4;a.interpolateZoom=function(fe,Le){var ze=fe[0],qe=fe[1],it=fe[2],ct=Le[0],Pt=Le[1],Mt=Le[2],jt=ct-ze,Gt=Pt-qe,rr=jt*jt+Gt*Gt,Lr,Rr;if(rr<Me)Rr=Math.log(Mt/it)/mr,Lr=function(fn){return[ze+fn*jt,qe+fn*Gt,it*Math.exp(mr*fn*Rr)]};else{var $r=Math.sqrt(rr),sn=(Mt*Mt-it*it+Zt*rr)/(2*it*mt*$r),Ir=(Mt*Mt-it*it-Zt*rr)/(2*Mt*mt*$r),Ur=Math.log(Math.sqrt(sn*sn+1)-sn),Kr=Math.log(Math.sqrt(Ir*Ir+1)-Ir);Rr=(Kr-Ur)/mr,Lr=function(fn){var dn=fn*Rr,en=kt(Ur),Hn=it/(mt*$r)*(en*Kt(mr*dn+Ur)-St(Ur));return[ze+Hn*jt,qe+Hn*Gt,it*en/kt(mr*dn+Ur)]}}return Lr.duration=Rr*1e3,Lr},a.behavior.zoom=function(){var fe={x:0,y:0,k:1},Le,ze,qe,it=[960,500],ct=Qt,Pt=250,Mt=0,jt="mousedown.zoom",Gt="mousemove.zoom",rr="mouseup.zoom",Lr,Rr="touchstart.zoom",$r,sn=J(dn,"zoomstart","zoom","zoomend"),Ir,Ur,Kr,fn;sr||(sr="onwheel"in v?(yr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(yr=function(){return a.event.wheelDelta},"mousewheel"):(yr=function(){return-a.event.detail},"MozMousePixelScroll"));function dn(Jn){Jn.on(jt,Fa).on(sr+".zoom",Ni).on("dblclick.zoom",ui).on(Rr,ni)}dn.event=function(Jn){Jn.each(function(){var Va=sn.of(this,arguments),Sa=fe;kr?a.select(this).transition().each("start.zoom",function(){fe=this.__chart__||{x:0,y:0,k:1},ca(Va)}).tween("zoom:zoom",function(){var Za=it[0],bi=it[1],ai=ze?ze[0]:Za/2,to=ze?ze[1]:bi/2,ro=a.interpolateZoom([(ai-fe.x)/fe.k,(to-fe.y)/fe.k,Za/fe.k],[(ai-Sa.x)/Sa.k,(to-Sa.y)/Sa.k,Za/Sa.k]);return function(so){var wi=ro(so),bo=Za/wi[2];this.__chart__=fe={x:ai-wi[0]*bo,y:to-wi[1]*bo,k:bo},Ba(Va)}}).each("interrupt.zoom",function(){Ea(Va)}).each("end.zoom",function(){Ea(Va)}):(this.__chart__=fe,ca(Va),Ba(Va),Ea(Va))})},dn.translate=function(Jn){return arguments.length?(fe={x:+Jn[0],y:+Jn[1],k:fe.k},ia(),dn):[fe.x,fe.y]},dn.scale=function(Jn){return arguments.length?(fe={x:fe.x,y:fe.y,k:null},ea(+Jn),ia(),dn):fe.k},dn.scaleExtent=function(Jn){return arguments.length?(ct=Jn==null?Qt:[+Jn[0],+Jn[1]],dn):ct},dn.center=function(Jn){return arguments.length?(qe=Jn&&[+Jn[0],+Jn[1]],dn):qe},dn.size=function(Jn){return arguments.length?(it=Jn&&[+Jn[0],+Jn[1]],dn):it},dn.duration=function(Jn){return arguments.length?(Pt=+Jn,dn):Pt},dn.x=function(Jn){return arguments.length?(Ur=Jn,Ir=Jn.copy(),fe={x:0,y:0,k:1},dn):Ur},dn.y=function(Jn){return arguments.length?(fn=Jn,Kr=Jn.copy(),fe={x:0,y:0,k:1},dn):fn};function en(Jn){return[(Jn[0]-fe.x)/fe.k,(Jn[1]-fe.y)/fe.k]}function Hn(Jn){return[Jn[0]*fe.k+fe.x,Jn[1]*fe.k+fe.y]}function ea(Jn){fe.k=Math.max(ct[0],Math.min(ct[1],Jn))}function fa(Jn,Va){Va=Hn(Va),fe.x+=Jn[0]-Va[0],fe.y+=Jn[1]-Va[1]}function Qn(Jn,Va,Sa,Za){Jn.__chart__={x:fe.x,y:fe.y,k:fe.k},ea(Math.pow(2,Za)),fa(ze=Va,Sa),Jn=a.select(Jn),Pt>0&&(Jn=Jn.transition().duration(Pt)),Jn.call(dn.event)}function ia(){Ur&&Ur.domain(Ir.range().map(function(Jn){return(Jn-fe.x)/fe.k}).map(Ir.invert)),fn&&fn.domain(Kr.range().map(function(Jn){return(Jn-fe.y)/fe.k}).map(Kr.invert))}function ca(Jn){Mt++||Jn({type:"zoomstart"})}function Ba(Jn){ia(),Jn({type:"zoom",scale:fe.k,translate:[fe.x,fe.y]})}function Ea(Jn){--Mt||(Jn({type:"zoomend"}),ze=null)}function Fa(){var Jn=this,Va=sn.of(Jn,arguments),Sa=0,Za=a.select(r(Jn)).on(Gt,to).on(rr,ro),bi=en(a.mouse(Jn)),ai=Ze(Jn);Ut.call(Jn),ca(Va);function to(){Sa=1,fa(a.mouse(Jn),bi),Ba(Va)}function ro(){Za.on(Gt,null).on(rr,null),ai(Sa),Ea(Va)}}function ni(){var Jn=this,Va=sn.of(Jn,arguments),Sa={},Za=0,bi,ai=".zoom-"+a.event.changedTouches[0].identifier,to="touchmove"+ai,ro="touchend"+ai,so=[],wi=a.select(Jn),bo=Ze(Jn);La(),ca(Va),wi.on(jt,null).on(Rr,La);function sa(){var lo=a.touches(Jn);return bi=fe.k,lo.forEach(function(ci){ci.identifier in Sa&&(Sa[ci.identifier]=en(ci))}),lo}function La(){var lo=a.event.target;a.select(lo).on(to,No).on(ro,Go),so.push(lo);for(var ci=a.event.changedTouches,Yi=0,Bi=ci.length;Yi<Bi;++Yi)Sa[ci[Yi].identifier]=null;var Ts=sa(),Vs=Date.now();if(Ts.length===1){if(Vs-$r<500){var Ci=Ts[0];Qn(Jn,Ci,Sa[Ci.identifier],Math.floor(Math.log(fe.k)/Math.LN2)+1),ne()}$r=Vs}else if(Ts.length>1){var Ci=Ts[0],ru=Ts[1],Ka=Ci[0]-ru[0],Li=Ci[1]-ru[1];Za=Ka*Ka+Li*Li}}function No(){var lo=a.touches(Jn),ci,Yi,Bi,Ts;Ut.call(Jn);for(var Vs=0,Ci=lo.length;Vs<Ci;++Vs,Ts=null)if(Bi=lo[Vs],Ts=Sa[Bi.identifier]){if(Yi)break;ci=Bi,Yi=Ts}if(Ts){var ru=(ru=Bi[0]-ci[0])*ru+(ru=Bi[1]-ci[1])*ru,Ka=Za&&Math.sqrt(ru/Za);ci=[(ci[0]+Bi[0])/2,(ci[1]+Bi[1])/2],Yi=[(Yi[0]+Ts[0])/2,(Yi[1]+Ts[1])/2],ea(Ka*bi)}$r=null,fa(ci,Yi),Ba(Va)}function Go(){if(a.event.touches.length){for(var lo=a.event.changedTouches,ci=0,Yi=lo.length;ci<Yi;++ci)delete Sa[lo[ci].identifier];for(var Bi in Sa)return void sa()}a.selectAll(so).on(ai,null),wi.on(jt,Fa).on(Rr,ni),bo(),Ea(Va)}}function Ni(){var Jn=sn.of(this,arguments);Lr?clearTimeout(Lr):(Ut.call(this),Le=en(ze=qe||a.mouse(this)),ca(Jn)),Lr=setTimeout(function(){Lr=null,Ea(Jn)},50),ne(),ea(Math.pow(2,yr()*.002)*fe.k),fa(ze,Le),Ba(Jn)}function ui(){var Jn=a.mouse(this),Va=Math.log(fe.k)/Math.LN2;Qn(this,Jn,en(Jn),a.event.shiftKey?Math.ceil(Va)-1:Math.floor(Va)+1)}return a.rebind(dn,sn,"on")};var Qt=[0,1/0],yr,sr;a.color=bt;function bt(){}bt.prototype.toString=function(){return this.rgb()+""},a.hsl=lt;function lt(fe,Le,ze){return this instanceof lt?(this.h=+fe,this.s=+Le,void(this.l=+ze)):arguments.length<2?fe instanceof lt?new lt(fe.h,fe.s,fe.l):br(""+fe,vr,lt):new lt(fe,Le,ze)}var Tt=lt.prototype=new bt;Tt.brighter=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new lt(this.h,this.s,this.l/fe)},Tt.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new lt(this.h,this.s,fe*this.l)},Tt.rgb=function(){return Ct(this.h,this.s,this.l)};function Ct(fe,Le,ze){var qe,it;fe=isNaN(fe)?0:(fe%=360)<0?fe+360:fe,Le=isNaN(Le)||Le<0?0:Le>1?1:Le,ze=ze<0?0:ze>1?1:ze,it=ze<=.5?ze*(1+Le):ze+Le-ze*Le,qe=2*ze-it;function ct(Mt){return Mt>360?Mt-=360:Mt<0&&(Mt+=360),Mt<60?qe+(it-qe)*Mt/60:Mt<180?it:Mt<240?qe+(it-qe)*(240-Mt)/60:qe}function Pt(Mt){return Math.round(ct(Mt)*255)}return new ur(Pt(fe+120),Pt(fe),Pt(fe-120))}a.hcl=It;function It(fe,Le,ze){return this instanceof It?(this.h=+fe,this.c=+Le,void(this.l=+ze)):arguments.length<2?fe instanceof It?new It(fe.h,fe.c,fe.l):fe instanceof Bt?zt(fe.l,fe.a,fe.b):zt((fe=Gr((fe=a.rgb(fe)).r,fe.g,fe.b)).l,fe.a,fe.b):new It(fe,Le,ze)}var Dt=It.prototype=new bt;Dt.brighter=function(fe){return new It(this.h,this.c,Math.min(100,this.l+$t*(arguments.length?fe:1)))},Dt.darker=function(fe){return new It(this.h,this.c,Math.max(0,this.l-$t*(arguments.length?fe:1)))},Dt.rgb=function(){return Vt(this.h,this.c,this.l).rgb()};function Vt(fe,Le,ze){return isNaN(fe)&&(fe=0),isNaN(Le)&&(Le=0),new Bt(ze,Math.cos(fe*=pt)*Le,Math.sin(fe)*Le)}a.lab=Bt;function Bt(fe,Le,ze){return this instanceof Bt?(this.l=+fe,this.a=+Le,void(this.b=+ze)):arguments.length<2?fe instanceof Bt?new Bt(fe.l,fe.a,fe.b):fe instanceof It?Vt(fe.h,fe.c,fe.l):Gr((fe=ur(fe)).r,fe.g,fe.b):new Bt(fe,Le,ze)}var $t=18,fr=.95047,cr=1,dr=1.08883,Ye=Bt.prototype=new bt;Ye.brighter=function(fe){return new Bt(Math.min(100,this.l+$t*(arguments.length?fe:1)),this.a,this.b)},Ye.darker=function(fe){return new Bt(Math.max(0,this.l-$t*(arguments.length?fe:1)),this.a,this.b)},Ye.rgb=function(){return je(this.l,this.a,this.b)};function je(fe,Le,ze){var qe=(fe+16)/116,it=qe+Le/500,ct=qe-ze/200;return it=Ft(it)*fr,qe=Ft(qe)*cr,ct=Ft(ct)*dr,new ur(tr(3.2404542*it-1.5371385*qe-.4985314*ct),tr(-.969266*it+1.8760108*qe+.041556*ct),tr(.0556434*it-.2040259*qe+1.0572252*ct))}function zt(fe,Le,ze){return fe>0?new It(Math.atan2(ze,Le)*yt,Math.sqrt(Le*Le+ze*ze),fe):new It(NaN,NaN,fe)}function Ft(fe){return fe>.206893034?fe*fe*fe:(fe-.13793103448275862)/7.787037}function Jt(fe){return fe>.008856?Math.pow(fe,.3333333333333333):7.787037*fe+.13793103448275862}function tr(fe){return Math.round(255*(fe<=.00304?12.92*fe:1.055*Math.pow(fe,.4166666666666667)-.055))}a.rgb=ur;function ur(fe,Le,ze){return this instanceof ur?(this.r=~~fe,this.g=~~Le,void(this.b=~~ze)):arguments.length<2?fe instanceof ur?new ur(fe.r,fe.g,fe.b):br(""+fe,ur,Ct):new ur(fe,Le,ze)}function nr(fe){return new ur(fe>>16,fe>>8&255,fe&255)}function Nt(fe){return nr(fe)+""}var hr=ur.prototype=new bt;hr.brighter=function(fe){fe=Math.pow(.7,arguments.length?fe:1);var Le=this.r,ze=this.g,qe=this.b,it=30;return!Le&&!ze&&!qe?new ur(it,it,it):(Le&&Le<it&&(Le=it),ze&&ze<it&&(ze=it),qe&&qe<it&&(qe=it),new ur(Math.min(255,Le/fe),Math.min(255,ze/fe),Math.min(255,qe/fe)))},hr.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new ur(fe*this.r,fe*this.g,fe*this.b)},hr.hsl=function(){return vr(this.r,this.g,this.b)},hr.toString=function(){return"#"+gr(this.r)+gr(this.g)+gr(this.b)};function gr(fe){return fe<16?"0"+Math.max(0,fe).toString(16):Math.min(255,fe).toString(16)}function br(fe,Le,ze){var qe=0,it=0,ct=0,Pt,Mt,jt;if(Pt=/([a-z]+)\((.*)\)/.exec(fe=fe.toLowerCase()),Pt)switch(Mt=Pt[2].split(","),Pt[1]){case"hsl":return ze(parseFloat(Mt[0]),parseFloat(Mt[1])/100,parseFloat(Mt[2])/100);case"rgb":return Le(_r(Mt[0]),_r(Mt[1]),_r(Mt[2]))}return(jt=hn.get(fe))?Le(jt.r,jt.g,jt.b):(fe!=null&&fe.charAt(0)==="#"&&!isNaN(jt=parseInt(fe.slice(1),16))&&(fe.length===4?(qe=(jt&3840)>>4,qe=qe>>4|qe,it=jt&240,it=it>>4|it,ct=jt&15,ct=ct<<4|ct):fe.length===7&&(qe=(jt&16711680)>>16,it=(jt&65280)>>8,ct=jt&255)),Le(qe,it,ct))}function vr(fe,Le,ze){var qe=Math.min(fe/=255,Le/=255,ze/=255),it=Math.max(fe,Le,ze),ct=it-qe,Pt,Mt,jt=(it+qe)/2;return ct?(Mt=jt<.5?ct/(it+qe):ct/(2-it-qe),fe==it?Pt=(Le-ze)/ct+(Le<ze?6:0):Le==it?Pt=(ze-fe)/ct+2:Pt=(fe-Le)/ct+4,Pt*=60):(Pt=NaN,Mt=jt>0&&jt<1?0:Pt),new lt(Pt,Mt,jt)}function Gr(fe,Le,ze){fe=Dr(fe),Le=Dr(Le),ze=Dr(ze);var qe=Jt((.4124564*fe+.3575761*Le+.1804375*ze)/fr),it=Jt((.2126729*fe+.7151522*Le+.072175*ze)/cr),ct=Jt((.0193339*fe+.119192*Le+.9503041*ze)/dr);return Bt(116*it-16,500*(qe-it),200*(it-ct))}function Dr(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function _r(fe){var Le=parseFloat(fe);return fe.charAt(fe.length-1)==="%"?Math.round(Le*2.55):Le}var hn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});hn.forEach(function(fe,Le){hn.set(fe,nr(Le))});function nn(fe){return typeof fe=="function"?fe:function(){return fe}}a.functor=nn,a.xhr=Pn(O);function Pn(fe){return function(Le,ze,qe){return arguments.length===2&&typeof ze=="function"&&(qe=ze,ze=null),Cn(Le,ze,fe,qe)}}function Cn(fe,Le,ze,qe){var it={},ct=a.dispatch("beforesend","progress","load","error"),Pt={},Mt=new XMLHttpRequest,jt=null;self.XDomainRequest&&!("withCredentials"in Mt)&&/^(http(s)?:)?\/\//.test(fe)&&(Mt=new XDomainRequest),"onload"in Mt?Mt.onload=Mt.onerror=Gt:Mt.onreadystatechange=function(){Mt.readyState>3&&Gt()};function Gt(){var rr=Mt.status,Lr;if(!rr&&Pr(Mt)||rr>=200&&rr<300||rr===304){try{Lr=ze.call(it,Mt)}catch(Rr){ct.error.call(it,Rr);return}ct.load.call(it,Lr)}else ct.error.call(it,Mt)}return Mt.onprogress=function(rr){var Lr=a.event;a.event=rr;try{ct.progress.call(it,Mt)}finally{a.event=Lr}},it.header=function(rr,Lr){return rr=(rr+"").toLowerCase(),arguments.length<2?Pt[rr]:(Lr==null?delete Pt[rr]:Pt[rr]=Lr+"",it)},it.mimeType=function(rr){return arguments.length?(Le=rr==null?null:rr+"",it):Le},it.responseType=function(rr){return arguments.length?(jt=rr,it):jt},it.response=function(rr){return ze=rr,it},["get","post"].forEach(function(rr){it[rr]=function(){return it.send.apply(it,[rr].concat(M(arguments)))}}),it.send=function(rr,Lr,Rr){if(arguments.length===2&&typeof Lr=="function"&&(Rr=Lr,Lr=null),Mt.open(rr,fe,!0),Le!=null&&!("accept"in Pt)&&(Pt.accept=Le+",*/*"),Mt.setRequestHeader)for(var $r in Pt)Mt.setRequestHeader($r,Pt[$r]);return Le!=null&&Mt.overrideMimeType&&Mt.overrideMimeType(Le),jt!=null&&(Mt.responseType=jt),Rr!=null&&it.on("error",Rr).on("load",function(sn){Rr(null,sn)}),ct.beforesend.call(it,Mt),Mt.send(Lr??null),it},it.abort=function(){return Mt.abort(),it},a.rebind(it,ct,"on"),qe==null?it:it.get(Ar(qe))}function Ar(fe){return fe.length===1?function(Le,ze){fe(Le==null?ze:null)}:fe}function Pr(fe){var Le=fe.responseType;return Le&&Le!=="text"?fe.response:fe.responseText}a.dsv=function(fe,Le){var ze=new RegExp('["'+fe+`
]`),qe=fe.charCodeAt(0);function it(Gt,rr,Lr){arguments.length<3&&(Lr=rr,rr=null);var Rr=Cn(Gt,Le,rr==null?ct:Pt(rr),Lr);return Rr.row=function($r){return arguments.length?Rr.response((rr=$r)==null?ct:Pt($r)):rr},Rr}function ct(Gt){return it.parse(Gt.responseText)}function Pt(Gt){return function(rr){return it.parse(rr.responseText,Gt)}}it.parse=function(Gt,rr){var Lr;return it.parseRows(Gt,function(Rr,$r){if(Lr)return Lr(Rr,$r-1);var sn=function(Ir){for(var Ur={},Kr=Rr.length,fn=0;fn<Kr;++fn)Ur[Rr[fn]]=Ir[fn];return Ur};Lr=rr?function(Ir,Ur){return rr(sn(Ir),Ur)}:sn})},it.parseRows=function(Gt,rr){var Lr={},Rr={},$r=[],sn=Gt.length,Ir=0,Ur=0,Kr,fn;function dn(){if(Ir>=sn)return Rr;if(fn)return fn=!1,Lr;var Hn=Ir;if(Gt.charCodeAt(Hn)===34){for(var ea=Hn;ea++<sn;)if(Gt.charCodeAt(ea)===34){if(Gt.charCodeAt(ea+1)!==34)break;++ea}Ir=ea+2;var fa=Gt.charCodeAt(ea+1);return fa===13?(fn=!0,Gt.charCodeAt(ea+2)===10&&++Ir):fa===10&&(fn=!0),Gt.slice(Hn+1,ea).replace(/""/g,'"')}for(;Ir<sn;){var fa=Gt.charCodeAt(Ir++),Qn=1;if(fa===10)fn=!0;else if(fa===13)fn=!0,Gt.charCodeAt(Ir)===10&&(++Ir,++Qn);else if(fa!==qe)continue;return Gt.slice(Hn,Ir-Qn)}return Gt.slice(Hn)}for(;(Kr=dn())!==Rr;){for(var en=[];Kr!==Lr&&Kr!==Rr;)en.push(Kr),Kr=dn();rr&&(en=rr(en,Ur++))==null||$r.push(en)}return $r},it.format=function(Gt){if(Array.isArray(Gt[0]))return it.formatRows(Gt);var rr=new F,Lr=[];return Gt.forEach(function(Rr){for(var $r in Rr)rr.has($r)||Lr.push(rr.add($r))}),[Lr.map(jt).join(fe)].concat(Gt.map(function(Rr){return Lr.map(function($r){return jt(Rr[$r])}).join(fe)})).join(`
`)},it.formatRows=function(Gt){return Gt.map(Mt).join(`
`)};function Mt(Gt){return Gt.map(jt).join(fe)}function jt(Gt){return ze.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return it},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Wr,Vr,on,yn,mn=this[z(this,"requestAnimationFrame")]||function(fe){setTimeout(fe,17)};a.timer=function(){Ln.apply(this,arguments)};function Ln(fe,Le,ze){var qe=arguments.length;qe<2&&(Le=0),qe<3&&(ze=Date.now());var it=ze+Le,ct={c:fe,t:it,n:null};return Vr?Vr.n=ct:Wr=ct,Vr=ct,on||(yn=clearTimeout(yn),on=1,mn(zn)),ct}function zn(){var fe=aa(),Le=ha()-fe;Le>24?(isFinite(Le)&&(clearTimeout(yn),yn=setTimeout(zn,Le)),on=0):(on=1,mn(zn))}a.timer.flush=function(){aa(),ha()};function aa(){for(var fe=Date.now(),Le=Wr;Le;)fe>=Le.t&&Le.c(fe-Le.t)&&(Le.c=null),Le=Le.n;return fe}function ha(){for(var fe,Le=Wr,ze=1/0;Le;)Le.c?(Le.t<ze&&(ze=Le.t),Le=(fe=Le).n):Le=fe?fe.n=Le.n:Wr=Le.n;return Vr=fe,ze}a.round=function(fe,Le){return Le?Math.round(fe*(Le=Math.pow(10,Le)))/Le:Math.round(fe)},a.geom={};function pa(fe){return fe[0]}function ua(fe){return fe[1]}a.geom.hull=function(fe){var Le=pa,ze=ua;if(arguments.length)return qe(fe);function qe(it){if(it.length<3)return[];var ct=nn(Le),Pt=nn(ze),Mt,jt=it.length,Gt=[],rr=[];for(Mt=0;Mt<jt;Mt++)Gt.push([+ct.call(this,it[Mt],Mt),+Pt.call(this,it[Mt],Mt),Mt]);for(Gt.sort(Tr),Mt=0;Mt<jt;Mt++)rr.push([Gt[Mt][0],-Gt[Mt][1]]);var Lr=na(Gt),Rr=na(rr),$r=Rr[0]===Lr[0],sn=Rr[Rr.length-1]===Lr[Lr.length-1],Ir=[];for(Mt=Lr.length-1;Mt>=0;--Mt)Ir.push(it[Gt[Lr[Mt]][2]]);for(Mt=+$r;Mt<Rr.length-sn;++Mt)Ir.push(it[Gt[Rr[Mt]][2]]);return Ir}return qe.x=function(it){return arguments.length?(Le=it,qe):Le},qe.y=function(it){return arguments.length?(ze=it,qe):ze},qe};function na(fe){for(var Le=fe.length,ze=[0,1],qe=2,it=2;it<Le;it++){for(;qe>1&&Yt(fe[ze[qe-2]],fe[ze[qe-1]],fe[it])<=0;)--qe;ze[qe++]=it}return ze.slice(0,qe)}function Tr(fe,Le){return fe[0]-Le[0]||fe[1]-Le[1]}a.geom.polygon=function(fe){return oe(fe,an),fe};var an=a.geom.polygon.prototype=[];an.area=function(){for(var fe=-1,Le=this.length,ze,qe=this[Le-1],it=0;++fe<Le;)ze=qe,qe=this[fe],it+=ze[1]*qe[0]-ze[0]*qe[1];return it*.5},an.centroid=function(fe){var Le=-1,ze=this.length,qe=0,it=0,ct,Pt=this[ze-1],Mt;for(arguments.length||(fe=-1/(6*this.area()));++Le<ze;)ct=Pt,Pt=this[Le],Mt=ct[0]*Pt[1]-Pt[0]*ct[1],qe+=(ct[0]+Pt[0])*Mt,it+=(ct[1]+Pt[1])*Mt;return[qe*fe,it*fe]},an.clip=function(fe){for(var Le,ze=jn(fe),qe=-1,it=this.length-jn(this),ct,Pt,Mt=this[it-1],jt,Gt,rr;++qe<it;){for(Le=fe.slice(),fe.length=0,jt=this[qe],Gt=Le[(Pt=Le.length-ze)-1],ct=-1;++ct<Pt;)rr=Le[ct],qr(rr,Mt,jt)?(qr(Gt,Mt,jt)||fe.push(pn(Gt,rr,Mt,jt)),fe.push(rr)):qr(Gt,Mt,jt)&&fe.push(pn(Gt,rr,Mt,jt)),Gt=rr;ze&&fe.push(fe[0]),Mt=jt}return fe};function qr(fe,Le,ze){return(ze[0]-Le[0])*(fe[1]-Le[1])<(ze[1]-Le[1])*(fe[0]-Le[0])}function pn(fe,Le,ze,qe){var it=fe[0],ct=ze[0],Pt=Le[0]-it,Mt=qe[0]-ct,jt=fe[1],Gt=ze[1],rr=Le[1]-jt,Lr=qe[1]-Gt,Rr=(Mt*(jt-Gt)-Lr*(it-ct))/(Lr*Pt-Mt*rr);return[it+Rr*Pt,jt+Rr*rr]}function jn(fe){var Le=fe[0],ze=fe[fe.length-1];return!(Le[0]-ze[0]||Le[1]-ze[1])}var An,Sn,Un,$n=[],ya,_a,Er=[];function zr(){Vo(this),this.edge=this.site=this.circle=null}function Sr(fe){var Le=$n.pop()||new zr;return Le.site=fe,Le}function Nr(fe){Rn(fe),Un.remove(fe),$n.push(fe),Vo(fe)}function wn(fe){var Le=fe.circle,ze=Le.x,qe=Le.cy,it={x:ze,y:qe},ct=fe.P,Pt=fe.N,Mt=[fe];Nr(fe);for(var jt=ct;jt.circle&&d(ze-jt.circle.x)<me&&d(qe-jt.circle.cy)<me;)ct=jt.P,Mt.unshift(jt),Nr(jt),jt=ct;Mt.unshift(jt),Rn(jt);for(var Gt=Pt;Gt.circle&&d(ze-Gt.circle.x)<me&&d(qe-Gt.circle.cy)<me;)Pt=Gt.N,Mt.push(Gt),Nr(Gt),Gt=Pt;Mt.push(Gt),Rn(Gt);var rr=Mt.length,Lr;for(Lr=1;Lr<rr;++Lr)Gt=Mt[Lr],jt=Mt[Lr-1],Pa(Gt.edge,jt.site,Gt.site,it);jt=Mt[0],Gt=Mt[rr-1],Gt.edge=oa(jt.site,Gt.site,null,it),Tn(jt),Tn(Gt)}function kn(fe){for(var Le=fe.x,ze=fe.y,qe,it,ct,Pt,Mt=Un._;Mt;)if(ct=vn(Mt,ze)-Le,ct>me)Mt=Mt.L;else if(Pt=Le-ln(Mt,ze),Pt>me){if(!Mt.R){qe=Mt;break}Mt=Mt.R}else{ct>-me?(qe=Mt.P,it=Mt):Pt>-me?(qe=Mt,it=Mt.N):qe=it=Mt;break}var jt=Sr(fe);if(Un.insert(qe,jt),!(!qe&&!it)){if(qe===it){Rn(qe),it=Sr(qe.site),Un.insert(jt,it),jt.edge=it.edge=oa(qe.site,jt.site),Tn(qe),Tn(it);return}if(!it){jt.edge=oa(qe.site,jt.site);return}Rn(qe),Rn(it);var Gt=qe.site,rr=Gt.x,Lr=Gt.y,Rr=fe.x-rr,$r=fe.y-Lr,sn=it.site,Ir=sn.x-rr,Ur=sn.y-Lr,Kr=2*(Rr*Ur-$r*Ir),fn=Rr*Rr+$r*$r,dn=Ir*Ir+Ur*Ur,en={x:(Ur*fn-$r*dn)/Kr+rr,y:(Rr*dn-Ir*fn)/Kr+Lr};Pa(it.edge,Gt,sn,en),jt.edge=oa(Gt,fe,null,en),it.edge=oa(fe,sn,null,en),Tn(qe),Tn(it)}}function vn(fe,Le){var ze=fe.site,qe=ze.x,it=ze.y,ct=it-Le;if(!ct)return qe;var Pt=fe.P;if(!Pt)return-1/0;ze=Pt.site;var Mt=ze.x,jt=ze.y,Gt=jt-Le;if(!Gt)return Mt;var rr=Mt-qe,Lr=1/ct-1/Gt,Rr=rr/Gt;return Lr?(-Rr+Math.sqrt(Rr*Rr-2*Lr*(rr*rr/(-2*Gt)-jt+Gt/2+it-ct/2)))/Lr+qe:(qe+Mt)/2}function ln(fe,Le){var ze=fe.N;if(ze)return vn(ze,Le);var qe=fe.site;return qe.y===Le?qe.x:1/0}function Cr(fe){this.site=fe,this.edges=[]}Cr.prototype.prepare=function(){for(var fe=this.edges,Le=fe.length,ze;Le--;)ze=fe[Le].edge,(!ze.b||!ze.a)&&fe.splice(Le,1);return fe.sort(Hr),fe.length};function Zr(fe){for(var Le=fe[0][0],ze=fe[1][0],qe=fe[0][1],it=fe[1][1],ct,Pt,Mt,jt,Gt=Sn,rr=Gt.length,Lr,Rr,$r,sn,Ir,Ur;rr--;)if(Lr=Gt[rr],!(!Lr||!Lr.prepare()))for($r=Lr.edges,sn=$r.length,Rr=0;Rr<sn;)Ur=$r[Rr].end(),Mt=Ur.x,jt=Ur.y,Ir=$r[++Rr%sn].start(),ct=Ir.x,Pt=Ir.y,(d(Mt-ct)>me||d(jt-Pt)>me)&&($r.splice(Rr,0,new pi(ga(Lr.site,Ur,d(Mt-Le)<me&&it-jt>me?{x:Le,y:d(ct-Le)<me?Pt:it}:d(jt-it)<me&&ze-Mt>me?{x:d(Pt-it)<me?ct:ze,y:it}:d(Mt-ze)<me&&jt-qe>me?{x:ze,y:d(ct-ze)<me?Pt:qe}:d(jt-qe)<me&&Mt-Le>me?{x:d(Pt-qe)<me?ct:Le,y:qe}:null),Lr.site,null)),++sn)}function Hr(fe,Le){return Le.angle-fe.angle}function Qr(){Vo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tn(fe){var Le=fe.P,ze=fe.N;if(!(!Le||!ze)){var qe=Le.site,it=fe.site,ct=ze.site;if(qe!==ct){var Pt=it.x,Mt=it.y,jt=qe.x-Pt,Gt=qe.y-Mt,rr=ct.x-Pt,Ur=ct.y-Mt,Lr=2*(jt*Ur-Gt*rr);if(!(Lr>=-Me)){var Rr=jt*jt+Gt*Gt,$r=rr*rr+Ur*Ur,sn=(Ur*Rr-Gt*$r)/Lr,Ir=(jt*$r-rr*Rr)/Lr,Ur=Ir+Mt,Kr=Er.pop()||new Qr;Kr.arc=fe,Kr.site=it,Kr.x=sn+Pt,Kr.y=Ur+Math.sqrt(sn*sn+Ir*Ir),Kr.cy=Ur,fe.circle=Kr;for(var fn=null,dn=_a._;dn;)if(Kr.y<dn.y||Kr.y===dn.y&&Kr.x<=dn.x)if(dn.L)dn=dn.L;else{fn=dn.P;break}else if(dn.R)dn=dn.R;else{fn=dn;break}_a.insert(fn,Kr),fn||(ya=Kr)}}}}function Rn(fe){var Le=fe.circle;Le&&(Le.P||(ya=Le.N),_a.remove(Le),Er.push(Le),Vo(Le),fe.circle=null)}function Dn(fe,Le,ze,qe){return function(it){var ct=it.a,Pt=it.b,Mt=ct.x,jt=ct.y,Gt=Pt.x,rr=Pt.y,Lr=0,Rr=1,$r=Gt-Mt,sn=rr-jt,Ir;if(Ir=fe-Mt,!(!$r&&Ir>0)){if(Ir/=$r,$r<0){if(Ir<Lr)return;Ir<Rr&&(Rr=Ir)}else if($r>0){if(Ir>Rr)return;Ir>Lr&&(Lr=Ir)}if(Ir=ze-Mt,!(!$r&&Ir<0)){if(Ir/=$r,$r<0){if(Ir>Rr)return;Ir>Lr&&(Lr=Ir)}else if($r>0){if(Ir<Lr)return;Ir<Rr&&(Rr=Ir)}if(Ir=Le-jt,!(!sn&&Ir>0)){if(Ir/=sn,sn<0){if(Ir<Lr)return;Ir<Rr&&(Rr=Ir)}else if(sn>0){if(Ir>Rr)return;Ir>Lr&&(Lr=Ir)}if(Ir=qe-jt,!(!sn&&Ir<0)){if(Ir/=sn,sn<0){if(Ir>Rr)return;Ir>Lr&&(Lr=Ir)}else if(sn>0){if(Ir<Lr)return;Ir<Rr&&(Rr=Ir)}return Lr>0&&(it.a={x:Mt+Lr*$r,y:jt+Lr*sn}),Rr<1&&(it.b={x:Mt+Rr*$r,y:jt+Rr*sn}),it}}}}}}function Vn(fe){for(var Le=An,ze=Dn(fe[0][0],fe[0][1],fe[1][0],fe[1][1]),qe=Le.length,it;qe--;)it=Le[qe],(!Nn(it,fe)||!ze(it)||d(it.a.x-it.b.x)<me&&d(it.a.y-it.b.y)<me)&&(it.a=it.b=null,Le.splice(qe,1))}function Nn(fe,Le){var ze=fe.b;if(ze)return!0;var qe=fe.a,it=Le[0][0],ct=Le[1][0],Pt=Le[0][1],Mt=Le[1][1],jt=fe.l,Gt=fe.r,rr=jt.x,Lr=jt.y,Rr=Gt.x,$r=Gt.y,sn=(rr+Rr)/2,Ir=(Lr+$r)/2,Ur,Kr;if($r===Lr){if(sn<it||sn>=ct)return;if(rr>Rr){if(!qe)qe={x:sn,y:Pt};else if(qe.y>=Mt)return;ze={x:sn,y:Mt}}else{if(!qe)qe={x:sn,y:Mt};else if(qe.y<Pt)return;ze={x:sn,y:Pt}}}else if(Ur=(rr-Rr)/($r-Lr),Kr=Ir-Ur*sn,Ur<-1||Ur>1)if(rr>Rr){if(!qe)qe={x:(Pt-Kr)/Ur,y:Pt};else if(qe.y>=Mt)return;ze={x:(Mt-Kr)/Ur,y:Mt}}else{if(!qe)qe={x:(Mt-Kr)/Ur,y:Mt};else if(qe.y<Pt)return;ze={x:(Pt-Kr)/Ur,y:Pt}}else if(Lr<$r){if(!qe)qe={x:it,y:Ur*it+Kr};else if(qe.x>=ct)return;ze={x:ct,y:Ur*ct+Kr}}else{if(!qe)qe={x:ct,y:Ur*ct+Kr};else if(qe.x<it)return;ze={x:it,y:Ur*it+Kr}}return fe.a=qe,fe.b=ze,!0}function ma(fe,Le){this.l=fe,this.r=Le,this.a=this.b=null}function oa(fe,Le,ze,qe){var it=new ma(fe,Le);return An.push(it),ze&&Pa(it,fe,Le,ze),qe&&Pa(it,Le,fe,qe),Sn[fe.i].edges.push(new pi(it,fe,Le)),Sn[Le.i].edges.push(new pi(it,Le,fe)),it}function ga(fe,Le,ze){var qe=new ma(fe,null);return qe.a=Le,qe.b=ze,An.push(qe),qe}function Pa(fe,Le,ze,qe){!fe.a&&!fe.b?(fe.a=qe,fe.l=Le,fe.r=ze):fe.l===ze?fe.b=qe:fe.a=qe}function pi(fe,Le,ze){var qe=fe.a,it=fe.b;this.edge=fe,this.site=Le,this.angle=ze?Math.atan2(ze.y-Le.y,ze.x-Le.x):fe.l===Le?Math.atan2(it.x-qe.x,qe.y-it.y):Math.atan2(qe.x-it.x,it.y-qe.y)}pi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ri(){this._=null}function Vo(fe){fe.U=fe.C=fe.L=fe.R=fe.P=fe.N=null}ri.prototype={insert:function(fe,Le){var ze,qe,it;if(fe){if(Le.P=fe,Le.N=fe.N,fe.N&&(fe.N.P=Le),fe.N=Le,fe.R){for(fe=fe.R;fe.L;)fe=fe.L;fe.L=Le}else fe.R=Le;ze=fe}else this._?(fe=zl(this._),Le.P=null,Le.N=fe,fe.P=fe.L=Le,ze=fe):(Le.P=Le.N=null,this._=Le,ze=null);for(Le.L=Le.R=null,Le.U=ze,Le.C=!0,fe=Le;ze&&ze.C;)qe=ze.U,ze===qe.L?(it=qe.R,it&&it.C?(ze.C=it.C=!1,qe.C=!0,fe=qe):(fe===ze.R&&(ko(this,ze),fe=ze,ze=fe.U),ze.C=!1,qe.C=!0,ao(this,qe))):(it=qe.L,it&&it.C?(ze.C=it.C=!1,qe.C=!0,fe=qe):(fe===ze.L&&(ao(this,ze),fe=ze,ze=fe.U),ze.C=!1,qe.C=!0,ko(this,qe))),ze=fe.U;this._.C=!1},remove:function(fe){fe.N&&(fe.N.P=fe.P),fe.P&&(fe.P.N=fe.N),fe.N=fe.P=null;var Le=fe.U,ze,qe=fe.L,it=fe.R,ct,Pt;if(qe?it?ct=zl(it):ct=qe:ct=it,Le?Le.L===fe?Le.L=ct:Le.R=ct:this._=ct,qe&&it?(Pt=ct.C,ct.C=fe.C,ct.L=qe,qe.U=ct,ct!==it?(Le=ct.U,ct.U=fe.U,fe=ct.R,Le.L=fe,ct.R=it,it.U=ct):(ct.U=Le,Le=ct,fe=ct.R)):(Pt=fe.C,fe=ct),fe&&(fe.U=Le),!Pt){if(fe&&fe.C){fe.C=!1;return}do{if(fe===this._)break;if(fe===Le.L){if(ze=Le.R,ze.C&&(ze.C=!1,Le.C=!0,ko(this,Le),ze=Le.R),ze.L&&ze.L.C||ze.R&&ze.R.C){(!ze.R||!ze.R.C)&&(ze.L.C=!1,ze.C=!0,ao(this,ze),ze=Le.R),ze.C=Le.C,Le.C=ze.R.C=!1,ko(this,Le),fe=this._;break}}else if(ze=Le.L,ze.C&&(ze.C=!1,Le.C=!0,ao(this,Le),ze=Le.L),ze.L&&ze.L.C||ze.R&&ze.R.C){(!ze.L||!ze.L.C)&&(ze.R.C=!1,ze.C=!0,ko(this,ze),ze=Le.L),ze.C=Le.C,Le.C=ze.L.C=!1,ao(this,Le),fe=this._;break}ze.C=!0,fe=Le,Le=Le.U}while(!fe.C);fe&&(fe.C=!1)}}};function ko(fe,Le){var ze=Le,qe=Le.R,it=ze.U;it?it.L===ze?it.L=qe:it.R=qe:fe._=qe,qe.U=it,ze.U=qe,ze.R=qe.L,ze.R&&(ze.R.U=ze),qe.L=ze}function ao(fe,Le){var ze=Le,qe=Le.L,it=ze.U;it?it.L===ze?it.L=qe:it.R=qe:fe._=qe,qe.U=it,ze.U=qe,ze.L=qe.R,ze.L&&(ze.L.U=ze),qe.R=ze}function zl(fe){for(;fe.L;)fe=fe.L;return fe}function Lf(fe,Le){var ze=fe.sort(pc).pop(),qe,it,ct;for(An=[],Sn=new Array(fe.length),Un=new ri,_a=new ri;;)if(ct=ya,ze&&(!ct||ze.y<ct.y||ze.y===ct.y&&ze.x<ct.x))(ze.x!==qe||ze.y!==it)&&(Sn[ze.i]=new Cr(ze),kn(ze),qe=ze.x,it=ze.y),ze=fe.pop();else if(ct)wn(ct.arc);else break;Le&&(Vn(Le),Zr(Le));var Pt={cells:Sn,edges:An};return Un=_a=An=Sn=null,Pt}function pc(fe,Le){return Le.y-fe.y||Le.x-fe.x}a.geom.voronoi=function(fe){var Le=pa,ze=ua,qe=Le,it=ze,ct=qa;if(fe)return Pt(fe);function Pt(jt){var Gt=new Array(jt.length),rr=ct[0][0],Lr=ct[0][1],Rr=ct[1][0],$r=ct[1][1];return Lf(Mt(jt),ct).cells.forEach(function(sn,Ir){var Ur=sn.edges,Kr=sn.site,fn=Gt[Ir]=Ur.length?Ur.map(function(dn){var en=dn.start();return[en.x,en.y]}):Kr.x>=rr&&Kr.x<=Rr&&Kr.y>=Lr&&Kr.y<=$r?[[rr,$r],[Rr,$r],[Rr,Lr],[rr,Lr]]:[];fn.point=jt[Ir]}),Gt}function Mt(jt){return jt.map(function(Gt,rr){return{x:Math.round(qe(Gt,rr)/me)*me,y:Math.round(it(Gt,rr)/me)*me,i:rr}})}return Pt.links=function(jt){return Lf(Mt(jt)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:jt[Gt.l.i],target:jt[Gt.r.i]}})},Pt.triangles=function(jt){var Gt=[];return Lf(Mt(jt)).cells.forEach(function(rr,Lr){for(var Rr=rr.site,$r=rr.edges.sort(Hr),sn=-1,Ir=$r.length,Ur,Kr=$r[Ir-1].edge,fn=Kr.l===Rr?Kr.r:Kr.l;++sn<Ir;)Ur=fn,Kr=$r[sn].edge,fn=Kr.l===Rr?Kr.r:Kr.l,Lr<Ur.i&&Lr<fn.i&&mu(Rr,Ur,fn)<0&&Gt.push([jt[Lr],jt[Ur.i],jt[fn.i]])}),Gt},Pt.x=function(jt){return arguments.length?(qe=nn(Le=jt),Pt):Le},Pt.y=function(jt){return arguments.length?(it=nn(ze=jt),Pt):ze},Pt.clipExtent=function(jt){return arguments.length?(ct=jt??qa,Pt):ct===qa?null:ct},Pt.size=function(jt){return arguments.length?Pt.clipExtent(jt&&[[0,0],jt]):ct===qa?null:ct&&ct[1]},Pt};var qa=[[-1e6,-1e6],[1e6,1e6]];function mu(fe,Le,ze){return(fe.x-ze.x)*(Le.y-fe.y)-(fe.x-Le.x)*(ze.y-fe.y)}a.geom.delaunay=function(fe){return a.geom.voronoi().triangles(fe)},a.geom.quadtree=function(fe,Le,ze,qe,it){var ct=pa,Pt=ua,Mt;if(Mt=arguments.length)return ct=Pf,Pt=Qi,Mt===3&&(it=ze,qe=Le,ze=Le=0),jt(fe);function jt(Gt){var rr,Lr=nn(ct),Rr=nn(Pt),$r,sn,Ir,Ur,Kr,fn,dn,en;if(Le!=null)Kr=Le,fn=ze,dn=qe,en=it;else if(dn=en=-(Kr=fn=1/0),$r=[],sn=[],Ur=Gt.length,Mt)for(Ir=0;Ir<Ur;++Ir)rr=Gt[Ir],rr.x<Kr&&(Kr=rr.x),rr.y<fn&&(fn=rr.y),rr.x>dn&&(dn=rr.x),rr.y>en&&(en=rr.y),$r.push(rr.x),sn.push(rr.y);else for(Ir=0;Ir<Ur;++Ir){var Hn=+Lr(rr=Gt[Ir],Ir),ea=+Rr(rr,Ir);Hn<Kr&&(Kr=Hn),ea<fn&&(fn=ea),Hn>dn&&(dn=Hn),ea>en&&(en=ea),$r.push(Hn),sn.push(ea)}var fa=dn-Kr,Qn=en-fn;fa>Qn?en=fn+fa:dn=Kr+Qn;function ia(Ea,Fa,ni,Ni,ui,Jn,Va,Sa){if(!(isNaN(ni)||isNaN(Ni)))if(Ea.leaf){var Za=Ea.x,bi=Ea.y;if(Za!=null)if(d(Za-ni)+d(bi-Ni)<.01)ca(Ea,Fa,ni,Ni,ui,Jn,Va,Sa);else{var ai=Ea.point;Ea.x=Ea.y=Ea.point=null,ca(Ea,ai,Za,bi,ui,Jn,Va,Sa),ca(Ea,Fa,ni,Ni,ui,Jn,Va,Sa)}else Ea.x=ni,Ea.y=Ni,Ea.point=Fa}else ca(Ea,Fa,ni,Ni,ui,Jn,Va,Sa)}function ca(Ea,Fa,ni,Ni,ui,Jn,Va,Sa){var Za=(ui+Va)*.5,bi=(Jn+Sa)*.5,ai=ni>=Za,to=Ni>=bi,ro=to<<1|ai;Ea.leaf=!1,Ea=Ea.nodes[ro]||(Ea.nodes[ro]=Mo()),ai?ui=Za:Va=Za,to?Jn=bi:Sa=bi,ia(Ea,Fa,ni,Ni,ui,Jn,Va,Sa)}var Ba=Mo();if(Ba.add=function(Ea){ia(Ba,Ea,+Lr(Ea,++Ir),+Rr(Ea,Ir),Kr,fn,dn,en)},Ba.visit=function(Ea){Nl(Ea,Ba,Kr,fn,dn,en)},Ba.find=function(Ea){return ef(Ba,Ea[0],Ea[1],Kr,fn,dn,en)},Ir=-1,Le==null){for(;++Ir<Ur;)ia(Ba,Gt[Ir],$r[Ir],sn[Ir],Kr,fn,dn,en);--Ir}else Gt.forEach(Ba.add);return $r=sn=Gt=rr=null,Ba}return jt.x=function(Gt){return arguments.length?(ct=Gt,jt):ct},jt.y=function(Gt){return arguments.length?(Pt=Gt,jt):Pt},jt.extent=function(Gt){return arguments.length?(Gt==null?Le=ze=qe=it=null:(Le=+Gt[0][0],ze=+Gt[0][1],qe=+Gt[1][0],it=+Gt[1][1]),jt):Le==null?null:[[Le,ze],[qe,it]]},jt.size=function(Gt){return arguments.length?(Gt==null?Le=ze=qe=it=null:(Le=ze=0,qe=+Gt[0],it=+Gt[1]),jt):Le==null?null:[qe-Le,it-ze]},jt};function Pf(fe){return fe.x}function Qi(fe){return fe.y}function Mo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Nl(fe,Le,ze,qe,it,ct){if(!fe(Le,ze,qe,it,ct)){var Pt=(ze+it)*.5,Mt=(qe+ct)*.5,jt=Le.nodes;jt[0]&&Nl(fe,jt[0],ze,qe,Pt,Mt),jt[1]&&Nl(fe,jt[1],Pt,qe,it,Mt),jt[2]&&Nl(fe,jt[2],ze,Mt,Pt,ct),jt[3]&&Nl(fe,jt[3],Pt,Mt,it,ct)}}function ef(fe,Le,ze,qe,it,ct,Pt){var Mt=1/0,jt;return function Gt(rr,Lr,Rr,$r,sn){if(!(Lr>ct||Rr>Pt||$r<qe||sn<it)){if(Ir=rr.point){var Ir,Ur=Le-rr.x,Kr=ze-rr.y,fn=Ur*Ur+Kr*Kr;if(fn<Mt){var dn=Math.sqrt(Mt=fn);qe=Le-dn,it=ze-dn,ct=Le+dn,Pt=ze+dn,jt=Ir}}for(var en=rr.nodes,Hn=(Lr+$r)*.5,ea=(Rr+sn)*.5,fa=Le>=Hn,Qn=ze>=ea,ia=Qn<<1|fa,ca=ia+4;ia<ca;++ia)if(rr=en[ia&3])switch(ia&3){case 0:Gt(rr,Lr,Rr,Hn,ea);break;case 1:Gt(rr,Hn,Rr,$r,ea);break;case 2:Gt(rr,Lr,ea,Hn,sn);break;case 3:Gt(rr,Hn,ea,$r,sn);break}}}(fe,qe,it,ct,Pt),jt}a.interpolateRgb=_i;function _i(fe,Le){fe=a.rgb(fe),Le=a.rgb(Le);var ze=fe.r,qe=fe.g,it=fe.b,ct=Le.r-ze,Pt=Le.g-qe,Mt=Le.b-it;return function(jt){return"#"+gr(Math.round(ze+ct*jt))+gr(Math.round(qe+Pt*jt))+gr(Math.round(it+Mt*jt))}}a.interpolateObject=Bl;function Bl(fe,Le){var ze={},qe={},it;for(it in fe)it in Le?ze[it]=oo(fe[it],Le[it]):qe[it]=fe[it];for(it in Le)it in fe||(qe[it]=Le[it]);return function(ct){for(it in ze)qe[it]=ze[it](ct);return qe}}a.interpolateNumber=zi;function zi(fe,Le){return fe=+fe,Le=+Le,function(ze){return fe*(1-ze)+Le*ze}}a.interpolateString=Gi;function Gi(fe,Le){var ze=Ul.lastIndex=io.lastIndex=0,qe,it,ct,Pt=-1,Mt=[],jt=[];for(fe=fe+"",Le=Le+"";(qe=Ul.exec(fe))&&(it=io.exec(Le));)(ct=it.index)>ze&&(ct=Le.slice(ze,ct),Mt[Pt]?Mt[Pt]+=ct:Mt[++Pt]=ct),(qe=qe[0])===(it=it[0])?Mt[Pt]?Mt[Pt]+=it:Mt[++Pt]=it:(Mt[++Pt]=null,jt.push({i:Pt,x:zi(qe,it)})),ze=io.lastIndex;return ze<Le.length&&(ct=Le.slice(ze),Mt[Pt]?Mt[Pt]+=ct:Mt[++Pt]=ct),Mt.length<2?jt[0]?(Le=jt[0].x,function(Gt){return Le(Gt)+""}):function(){return Le}:(Le=jt.length,function(Gt){for(var rr=0,Lr;rr<Le;++rr)Mt[(Lr=jt[rr]).i]=Lr.x(Gt);return Mt.join("")})}var Ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,io=new RegExp(Ul.source,"g");a.interpolate=oo;function oo(fe,Le){for(var ze=a.interpolators.length,qe;--ze>=0&&!(qe=a.interpolators[ze](fe,Le)););return qe}a.interpolators=[function(fe,Le){var ze=typeof Le;return(ze==="string"?hn.has(Le.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Le)?_i:Gi:Le instanceof bt?_i:Array.isArray(Le)?Ho:ze==="object"&&isNaN(Le)?Bl:zi)(fe,Le)}],a.interpolateArray=Ho;function Ho(fe,Le){var ze=[],qe=[],it=fe.length,ct=Le.length,Pt=Math.min(fe.length,Le.length),Mt;for(Mt=0;Mt<Pt;++Mt)ze.push(oo(fe[Mt],Le[Mt]));for(;Mt<it;++Mt)qe[Mt]=fe[Mt];for(;Mt<ct;++Mt)qe[Mt]=Le[Mt];return function(jt){for(Mt=0;Mt<Pt;++Mt)qe[Mt]=ze[Mt](jt);return qe}}var gc=function(){return O},Fo=a.map({linear:gc,poly:yc,quad:function(){return Zs},cubic:function(){return xs},sin:function(){return Lh},exp:function(){return tf},circle:function(){return Ph},elastic:Rh,back:Dh,bounce:function(){return If}}),Ch=a.map({in:O,out:qi,"in-out":Rf,"out-in":function(fe){return Rf(qi(fe))}});a.ease=function(fe){var Le=fe.indexOf("-"),ze=Le>=0?fe.slice(0,Le):fe,qe=Le>=0?fe.slice(Le+1):"in";return ze=Fo.get(ze)||gc,qe=Ch.get(qe)||O,ms(qe(ze.apply(null,x.call(arguments,1))))};function ms(fe){return function(Le){return Le<=0?0:Le>=1?1:fe(Le)}}function qi(fe){return function(Le){return 1-fe(1-Le)}}function Rf(fe){return function(Le){return .5*(Le<.5?fe(2*Le):2-fe(2-2*Le))}}function Zs(fe){return fe*fe}function xs(fe){return fe*fe*fe}function Df(fe){if(fe<=0)return 0;if(fe>=1)return 1;var Le=fe*fe,ze=Le*fe;return 4*(fe<.5?ze:3*(fe-Le)+ze-.75)}function yc(fe){return function(Le){return Math.pow(Le,fe)}}function Lh(fe){return 1-Math.cos(fe*nt)}function tf(fe){return Math.pow(2,10*(fe-1))}function Ph(fe){return 1-Math.sqrt(1-fe*fe)}function Rh(fe,Le){var ze;return arguments.length<2&&(Le=.45),arguments.length?ze=Le/Oe*Math.asin(1/fe):(fe=1,ze=Le/4),function(qe){return 1+fe*Math.pow(2,-10*qe)*Math.sin((qe-ze)*Oe/Le)}}function Dh(fe){return fe||(fe=1.70158),function(Le){return Le*Le*((fe+1)*Le-fe)}}function If(fe){return fe<.36363636363636365?7.5625*fe*fe:fe<.7272727272727273?7.5625*(fe-=.5454545454545454)*fe+.75:fe<.9090909090909091?7.5625*(fe-=.8181818181818182)*fe+.9375:7.5625*(fe-=.9545454545454546)*fe+.984375}a.interpolateHcl=Ih;function Ih(fe,Le){fe=a.hcl(fe),Le=a.hcl(Le);var ze=fe.h,qe=fe.c,it=fe.l,ct=Le.h-ze,Pt=Le.c-qe,Mt=Le.l-it;return isNaN(Pt)&&(Pt=0,qe=isNaN(qe)?Le.c:qe),isNaN(ct)?(ct=0,ze=isNaN(ze)?Le.h:ze):ct>180?ct-=360:ct<-180&&(ct+=360),function(jt){return Vt(ze+ct*jt,qe+Pt*jt,it+Mt*jt)+""}}a.interpolateHsl=_h;function _h(fe,Le){fe=a.hsl(fe),Le=a.hsl(Le);var ze=fe.h,qe=fe.s,it=fe.l,ct=Le.h-ze,Pt=Le.s-qe,Mt=Le.l-it;return isNaN(Pt)&&(Pt=0,qe=isNaN(qe)?Le.s:qe),isNaN(ct)?(ct=0,ze=isNaN(ze)?Le.h:ze):ct>180?ct-=360:ct<-180&&(ct+=360),function(jt){return Ct(ze+ct*jt,qe+Pt*jt,it+Mt*jt)+""}}a.interpolateLab=mc;function mc(fe,Le){fe=a.lab(fe),Le=a.lab(Le);var ze=fe.l,qe=fe.a,it=fe.b,ct=Le.l-ze,Pt=Le.a-qe,Mt=Le.b-it;return function(jt){return je(ze+ct*jt,qe+Pt*jt,it+Mt*jt)+""}}a.interpolateRound=xc;function xc(fe,Le){return Le-=fe,function(ze){return Math.round(fe+Le*ze)}}a.transform=function(fe){var Le=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(ze){if(ze!=null){Le.setAttribute("transform",ze);var qe=Le.transform.baseVal.consolidate()}return new pl(qe?qe.matrix:bc)})(fe)};function pl(fe){var Le=[fe.a,fe.b],ze=[fe.c,fe.d],qe=xu(Le),it=Vl(Le,ze),ct=xu(bu(ze,Le,-it))||0;Le[0]*ze[1]<ze[0]*Le[1]&&(Le[0]*=-1,Le[1]*=-1,qe*=-1,it*=-1),this.rotate=(qe?Math.atan2(Le[1],Le[0]):Math.atan2(-ze[0],ze[1]))*yt,this.translate=[fe.e,fe.f],this.scale=[qe,ct],this.skew=ct?Math.atan2(it,ct)*yt:0}pl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Vl(fe,Le){return fe[0]*Le[0]+fe[1]*Le[1]}function xu(fe){var Le=Math.sqrt(Vl(fe,fe));return Le&&(fe[0]/=Le,fe[1]/=Le),Le}function bu(fe,Le,ze){return fe[0]+=ze*Le[0],fe[1]+=ze*Le[1],fe}var bc={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=nf;function ks(fe){return fe.length?fe.pop()+",":""}function kh(fe,Le,ze,qe){if(fe[0]!==Le[0]||fe[1]!==Le[1]){var it=ze.push("translate(",null,",",null,")");qe.push({i:it-4,x:zi(fe[0],Le[0])},{i:it-2,x:zi(fe[1],Le[1])})}else(Le[0]||Le[1])&&ze.push("translate("+Le+")")}function rf(fe,Le,ze,qe){fe!==Le?(fe-Le>180?Le+=360:Le-fe>180&&(fe+=360),qe.push({i:ze.push(ks(ze)+"rotate(",null,")")-2,x:zi(fe,Le)})):Le&&ze.push(ks(ze)+"rotate("+Le+")")}function wc(fe,Le,ze,qe){fe!==Le?qe.push({i:ze.push(ks(ze)+"skewX(",null,")")-2,x:zi(fe,Le)}):Le&&ze.push(ks(ze)+"skewX("+Le+")")}function Tc(fe,Le,ze,qe){if(fe[0]!==Le[0]||fe[1]!==Le[1]){var it=ze.push(ks(ze)+"scale(",null,",",null,")");qe.push({i:it-4,x:zi(fe[0],Le[0])},{i:it-2,x:zi(fe[1],Le[1])})}else(Le[0]!==1||Le[1]!==1)&&ze.push(ks(ze)+"scale("+Le+")")}function nf(fe,Le){var ze=[],qe=[];return fe=a.transform(fe),Le=a.transform(Le),kh(fe.translate,Le.translate,ze,qe),rf(fe.rotate,Le.rotate,ze,qe),wc(fe.skew,Le.skew,ze,qe),Tc(fe.scale,Le.scale,ze,qe),fe=Le=null,function(it){for(var ct=-1,Pt=qe.length,Mt;++ct<Pt;)ze[(Mt=qe[ct]).i]=Mt.x(it);return ze.join("")}}function ts(fe,Le){return Le=(Le-=fe=+fe)||1/Le,function(ze){return(ze-fe)/Le}}function Hl(fe,Le){return Le=(Le-=fe=+fe)||1/Le,function(ze){return Math.max(0,Math.min(1,(ze-fe)/Le))}}a.layout={},a.layout.bundle=function(){return function(fe){for(var Le=[],ze=-1,qe=fe.length;++ze<qe;)Le.push(yl(fe[ze]));return Le}};function yl(fe){for(var Le=fe.source,ze=fe.target,qe=Ks(Le,ze),it=[Le];Le!==qe;)Le=Le.parent,it.push(Le);for(var ct=it.length;ze!==qe;)it.splice(ct,0,ze),ze=ze.parent;return it}function wu(fe){for(var Le=[],ze=fe.parent;ze!=null;)Le.push(fe),fe=ze,ze=ze.parent;return Le.push(fe),Le}function Ks(fe,Le){if(fe===Le)return fe;for(var ze=wu(fe),qe=wu(Le),it=ze.pop(),ct=qe.pop(),Pt=null;it===ct;)Pt=it,it=ze.pop(),ct=qe.pop();return Pt}a.layout.chord=function(){var fe={},Le,ze,qe,it,ct=0,Pt,Mt,jt;function Gt(){var Lr={},Rr=[],$r=a.range(it),sn=[],Ir,Ur,Kr,fn,dn;for(Le=[],ze=[],Ir=0,fn=-1;++fn<it;){for(Ur=0,dn=-1;++dn<it;)Ur+=qe[fn][dn];Rr.push(Ur),sn.push(a.range(it)),Ir+=Ur}for(Pt&&$r.sort(function(Ba,Ea){return Pt(Rr[Ba],Rr[Ea])}),Mt&&sn.forEach(function(Ba,Ea){Ba.sort(function(Fa,ni){return Mt(qe[Ea][Fa],qe[Ea][ni])})}),Ir=(Oe-ct*it)/Ir,Ur=0,fn=-1;++fn<it;){for(Kr=Ur,dn=-1;++dn<it;){var en=$r[fn],Hn=sn[en][dn],ea=qe[en][Hn],fa=Ur,Qn=Ur+=ea*Ir;Lr[en+"-"+Hn]={index:en,subindex:Hn,startAngle:fa,endAngle:Qn,value:ea}}ze[en]={index:en,startAngle:Kr,endAngle:Ur,value:Rr[en]},Ur+=ct}for(fn=-1;++fn<it;)for(dn=fn-1;++dn<it;){var ia=Lr[fn+"-"+dn],ca=Lr[dn+"-"+fn];(ia.value||ca.value)&&Le.push(ia.value<ca.value?{source:ca,target:ia}:{source:ia,target:ca})}jt&&rr()}function rr(){Le.sort(function(Lr,Rr){return jt((Lr.source.value+Lr.target.value)/2,(Rr.source.value+Rr.target.value)/2)})}return fe.matrix=function(Lr){return arguments.length?(it=(qe=Lr)&&qe.length,Le=ze=null,fe):qe},fe.padding=function(Lr){return arguments.length?(ct=Lr,Le=ze=null,fe):ct},fe.sortGroups=function(Lr){return arguments.length?(Pt=Lr,Le=ze=null,fe):Pt},fe.sortSubgroups=function(Lr){return arguments.length?(Mt=Lr,Le=null,fe):Mt},fe.sortChords=function(Lr){return arguments.length?(jt=Lr,Le&&rr(),fe):jt},fe.chords=function(){return Le||Gt(),Le},fe.groups=function(){return ze||Gt(),ze},fe},a.layout.force=function(){var fe={},Le=a.dispatch("start","tick","end"),ze,qe=[1,1],it,ct,Pt=.9,Mt=kf,jt=Fh,Gt=-30,rr=af,Lr=.1,Rr=.64,$r=[],sn=[],Ir,Ur,Kr;function fn(en){return function(Hn,ea,fa,Qn){if(Hn.point!==en){var ia=Hn.cx-en.x,ca=Hn.cy-en.y,Ba=Qn-ea,Ea=ia*ia+ca*ca;if(Ba*Ba/Rr<Ea){if(Ea<rr){var Fa=Hn.charge/Ea;en.px-=ia*Fa,en.py-=ca*Fa}return!0}if(Hn.point&&Ea&&Ea<rr){var Fa=Hn.pointCharge/Ea;en.px-=ia*Fa,en.py-=ca*Fa}}return!Hn.charge}}fe.tick=function(){if((ct*=.99)<.005)return ze=null,Le.end({type:"end",alpha:ct=0}),!0;var en=$r.length,Hn=sn.length,ea,fa,Qn,ia,ca,Ba,Ea,Fa,ni;for(fa=0;fa<Hn;++fa)Qn=sn[fa],ia=Qn.source,ca=Qn.target,Fa=ca.x-ia.x,ni=ca.y-ia.y,(Ba=Fa*Fa+ni*ni)&&(Ba=ct*Ur[fa]*((Ba=Math.sqrt(Ba))-Ir[fa])/Ba,Fa*=Ba,ni*=Ba,ca.x-=Fa*(Ea=ia.weight+ca.weight?ia.weight/(ia.weight+ca.weight):.5),ca.y-=ni*Ea,ia.x+=Fa*(Ea=1-Ea),ia.y+=ni*Ea);if((Ea=ct*Lr)&&(Fa=qe[0]/2,ni=qe[1]/2,fa=-1,Ea))for(;++fa<en;)Qn=$r[fa],Qn.x+=(Fa-Qn.x)*Ea,Qn.y+=(ni-Qn.y)*Ea;if(Gt)for(Pi(ea=a.geom.quadtree($r),ct,Kr),fa=-1;++fa<en;)(Qn=$r[fa]).fixed||ea.visit(fn(Qn));for(fa=-1;++fa<en;)Qn=$r[fa],Qn.fixed?(Qn.x=Qn.px,Qn.y=Qn.py):(Qn.x-=(Qn.px-(Qn.px=Qn.x))*Pt,Qn.y-=(Qn.py-(Qn.py=Qn.y))*Pt);Le.tick({type:"tick",alpha:ct})},fe.nodes=function(en){return arguments.length?($r=en,fe):$r},fe.links=function(en){return arguments.length?(sn=en,fe):sn},fe.size=function(en){return arguments.length?(qe=en,fe):qe},fe.linkDistance=function(en){return arguments.length?(Mt=typeof en=="function"?en:+en,fe):Mt},fe.distance=fe.linkDistance,fe.linkStrength=function(en){return arguments.length?(jt=typeof en=="function"?en:+en,fe):jt},fe.friction=function(en){return arguments.length?(Pt=+en,fe):Pt},fe.charge=function(en){return arguments.length?(Gt=typeof en=="function"?en:+en,fe):Gt},fe.chargeDistance=function(en){return arguments.length?(rr=en*en,fe):Math.sqrt(rr)},fe.gravity=function(en){return arguments.length?(Lr=+en,fe):Lr},fe.theta=function(en){return arguments.length?(Rr=en*en,fe):Math.sqrt(Rr)},fe.alpha=function(en){return arguments.length?(en=+en,ct?en>0?ct=en:(ze.c=null,ze.t=NaN,ze=null,Le.end({type:"end",alpha:ct=0})):en>0&&(Le.start({type:"start",alpha:ct=en}),ze=Ln(fe.tick)),fe):ct},fe.start=function(){var en,Hn=$r.length,ea=sn.length,fa=qe[0],Qn=qe[1],ia,ca;for(en=0;en<Hn;++en)(ca=$r[en]).index=en,ca.weight=0;for(en=0;en<ea;++en)ca=sn[en],typeof ca.source=="number"&&(ca.source=$r[ca.source]),typeof ca.target=="number"&&(ca.target=$r[ca.target]),++ca.source.weight,++ca.target.weight;for(en=0;en<Hn;++en)ca=$r[en],isNaN(ca.x)&&(ca.x=Ba("x",fa)),isNaN(ca.y)&&(ca.y=Ba("y",Qn)),isNaN(ca.px)&&(ca.px=ca.x),isNaN(ca.py)&&(ca.py=ca.y);if(Ir=[],typeof Mt=="function")for(en=0;en<ea;++en)Ir[en]=+Mt.call(this,sn[en],en);else for(en=0;en<ea;++en)Ir[en]=Mt;if(Ur=[],typeof jt=="function")for(en=0;en<ea;++en)Ur[en]=+jt.call(this,sn[en],en);else for(en=0;en<ea;++en)Ur[en]=jt;if(Kr=[],typeof Gt=="function")for(en=0;en<Hn;++en)Kr[en]=+Gt.call(this,$r[en],en);else for(en=0;en<Hn;++en)Kr[en]=Gt;function Ba(Ea,Fa){if(!ia){for(ia=new Array(Hn),ui=0;ui<Hn;++ui)ia[ui]=[];for(ui=0;ui<ea;++ui){var ni=sn[ui];ia[ni.source.index].push(ni.target),ia[ni.target.index].push(ni.source)}}for(var Ni=ia[en],ui=-1,Jn=Ni.length,Va;++ui<Jn;)if(!isNaN(Va=Ni[ui][Ea]))return Va;return Math.random()*Fa}return fe.resume()},fe.resume=function(){return fe.alpha(.1)},fe.stop=function(){return fe.alpha(0)},fe.drag=function(){if(it||(it=a.behavior.drag().origin(O).on("dragstart.force",bs).on("drag.force",dn).on("dragend.force",_f)),!arguments.length)return it;this.on("mouseover.force",jl).on("mouseout.force",rs).call(it)};function dn(en){en.px=a.event.x,en.py=a.event.y,fe.resume()}return a.rebind(fe,Le,"on")};function bs(fe){fe.fixed|=2}function _f(fe){fe.fixed&=-7}function jl(fe){fe.fixed|=4,fe.px=fe.x,fe.py=fe.y}function rs(fe){fe.fixed&=-5}function Pi(fe,Le,ze){var qe=0,it=0;if(fe.charge=0,!fe.leaf)for(var ct=fe.nodes,Pt=ct.length,Mt=-1,jt;++Mt<Pt;)jt=ct[Mt],jt!=null&&(Pi(jt,Le,ze),fe.charge+=jt.charge,qe+=jt.charge*jt.cx,it+=jt.charge*jt.cy);if(fe.point){fe.leaf||(fe.point.x+=Math.random()-.5,fe.point.y+=Math.random()-.5);var Gt=Le*ze[fe.point.index];fe.charge+=fe.pointCharge=Gt,qe+=Gt*fe.point.x,it+=Gt*fe.point.y}fe.cx=qe/fe.charge,fe.cy=it/fe.charge}var kf=20,Fh=1,af=1/0;a.layout.hierarchy=function(){var fe=sf,Le=of,ze=Yl;function qe(it){var ct=[it],Pt=[],Mt;for(it.depth=0;(Mt=ct.pop())!=null;)if(Pt.push(Mt),(Gt=Le.call(qe,Mt,Mt.depth))&&(jt=Gt.length)){for(var jt,Gt,rr;--jt>=0;)ct.push(rr=Gt[jt]),rr.parent=Mt,rr.depth=Mt.depth+1;ze&&(Mt.value=0),Mt.children=Gt}else ze&&(Mt.value=+ze.call(qe,Mt,Mt.depth)||0),delete Mt.children;return Oo(it,function(Lr){var Rr,$r;fe&&(Rr=Lr.children)&&Rr.sort(fe),ze&&($r=Lr.parent)&&($r.value+=Lr.value)}),Pt}return qe.sort=function(it){return arguments.length?(fe=it,qe):fe},qe.children=function(it){return arguments.length?(Le=it,qe):Le},qe.value=function(it){return arguments.length?(ze=it,qe):ze},qe.revalue=function(it){return ze&&(Wl(it,function(ct){ct.children&&(ct.value=0)}),Oo(it,function(ct){var Pt;ct.children||(ct.value=+ze.call(qe,ct,ct.depth)||0),(Pt=ct.parent)&&(Pt.value+=ct.value)})),it},qe};function Gl(fe,Le){return a.rebind(fe,Le,"sort","children","value"),fe.nodes=fe,fe.links=Oh,fe}function Wl(fe,Le){for(var ze=[fe];(fe=ze.pop())!=null;)if(Le(fe),(it=fe.children)&&(qe=it.length))for(var qe,it;--qe>=0;)ze.push(it[qe])}function Oo(fe,Le){for(var ze=[fe],qe=[];(fe=ze.pop())!=null;)if(qe.push(fe),(Pt=fe.children)&&(ct=Pt.length))for(var it=-1,ct,Pt;++it<ct;)ze.push(Pt[it]);for(;(fe=qe.pop())!=null;)Le(fe)}function of(fe){return fe.children}function Yl(fe){return fe.value}function sf(fe,Le){return Le.value-fe.value}function Oh(fe){return a.merge(fe.map(function(Le){return(Le.children||[]).map(function(ze){return{source:Le,target:ze}})}))}a.layout.partition=function(){var fe=a.layout.hierarchy(),Le=[1,1];function ze(ct,Pt,Mt,jt){var Gt=ct.children;if(ct.x=Pt,ct.y=ct.depth*jt,ct.dx=Mt,ct.dy=jt,Gt&&(Lr=Gt.length)){var rr=-1,Lr,Rr,$r;for(Mt=ct.value?Mt/ct.value:0;++rr<Lr;)ze(Rr=Gt[rr],Pt,$r=Rr.value*Mt,jt),Pt+=$r}}function qe(ct){var Pt=ct.children,Mt=0;if(Pt&&(Gt=Pt.length))for(var jt=-1,Gt;++jt<Gt;)Mt=Math.max(Mt,qe(Pt[jt]));return 1+Mt}function it(ct,Pt){var Mt=fe.call(this,ct,Pt);return ze(Mt[0],0,Le[0],Le[1]/qe(Mt[0])),Mt}return it.size=function(ct){return arguments.length?(Le=ct,it):Le},Gl(it,fe)},a.layout.pie=function(){var fe=Number,Le=Ac,ze=0,qe=Oe,it=0;function ct(Pt){var Mt=Pt.length,jt=Pt.map(function(fn,dn){return+fe.call(ct,fn,dn)}),Gt=+(typeof ze=="function"?ze.apply(this,arguments):ze),rr=(typeof qe=="function"?qe.apply(this,arguments):qe)-Gt,Lr=Math.min(Math.abs(rr)/Mt,+(typeof it=="function"?it.apply(this,arguments):it)),Rr=Lr*(rr<0?-1:1),$r=a.sum(jt),sn=$r?(rr-Mt*Rr)/$r:0,Ir=a.range(Mt),Ur=[],Kr;return Le!=null&&Ir.sort(Le===Ac?function(fn,dn){return jt[dn]-jt[fn]}:function(fn,dn){return Le(Pt[fn],Pt[dn])}),Ir.forEach(function(fn){Ur[fn]={data:Pt[fn],value:Kr=jt[fn],startAngle:Gt,endAngle:Gt+=Kr*sn+Rr,padAngle:Lr}}),Ur}return ct.value=function(Pt){return arguments.length?(fe=Pt,ct):fe},ct.sort=function(Pt){return arguments.length?(Le=Pt,ct):Le},ct.startAngle=function(Pt){return arguments.length?(ze=Pt,ct):ze},ct.endAngle=function(Pt){return arguments.length?(qe=Pt,ct):qe},ct.padAngle=function(Pt){return arguments.length?(it=Pt,ct):it},ct};var Ac={};a.layout.stack=function(){var fe=O,Le=Tu,ze=uf,qe=zf,it=Ff,ct=Of;function Pt(Mt,jt){if(!(sn=Mt.length))return Mt;var Gt=Mt.map(function(fn,dn){return fe.call(Pt,fn,dn)}),rr=Gt.map(function(fn){return fn.map(function(dn,en){return[it.call(Pt,dn,en),ct.call(Pt,dn,en)]})}),Lr=Le.call(Pt,rr,jt);Gt=a.permute(Gt,Lr),rr=a.permute(rr,Lr);var Rr=ze.call(Pt,rr,jt),$r=Gt[0].length,sn,Ir,Ur,Kr;for(Ur=0;Ur<$r;++Ur)for(qe.call(Pt,Gt[0][Ur],Kr=Rr[Ur],rr[0][Ur][1]),Ir=1;Ir<sn;++Ir)qe.call(Pt,Gt[Ir][Ur],Kr+=rr[Ir-1][Ur][1],rr[Ir][Ur][1]);return Mt}return Pt.values=function(Mt){return arguments.length?(fe=Mt,Pt):fe},Pt.order=function(Mt){return arguments.length?(Le=typeof Mt=="function"?Mt:Xl.get(Mt)||Tu,Pt):Le},Pt.offset=function(Mt){return arguments.length?(ze=typeof Mt=="function"?Mt:lf.get(Mt)||uf,Pt):ze},Pt.x=function(Mt){return arguments.length?(it=Mt,Pt):it},Pt.y=function(Mt){return arguments.length?(ct=Mt,Pt):ct},Pt.out=function(Mt){return arguments.length?(qe=Mt,Pt):qe},Pt};function Ff(fe){return fe.x}function Of(fe){return fe.y}function zf(fe,Le,ze){fe.y0=Le,fe.y=ze}var Xl=a.map({"inside-out":function(fe){var Le=fe.length,ze,qe,it=fe.map(gi),ct=fe.map(Sc),Pt=a.range(Le).sort(function(Lr,Rr){return it[Lr]-it[Rr]}),Mt=0,jt=0,Gt=[],rr=[];for(ze=0;ze<Le;++ze)qe=Pt[ze],Mt<jt?(Mt+=ct[qe],Gt.push(qe)):(jt+=ct[qe],rr.push(qe));return rr.reverse().concat(Gt)},reverse:function(fe){return a.range(fe.length).reverse()},default:Tu}),lf=a.map({silhouette:function(fe){var Le=fe.length,ze=fe[0].length,qe=[],it=0,ct,Pt,Mt,jt=[];for(Pt=0;Pt<ze;++Pt){for(ct=0,Mt=0;ct<Le;ct++)Mt+=fe[ct][Pt][1];Mt>it&&(it=Mt),qe.push(Mt)}for(Pt=0;Pt<ze;++Pt)jt[Pt]=(it-qe[Pt])/2;return jt},wiggle:function(fe){var Le=fe.length,ze=fe[0],qe=ze.length,it,ct,Pt,Mt,jt,Gt,rr,Lr,Rr,$r=[];for($r[0]=Lr=Rr=0,ct=1;ct<qe;++ct){for(it=0,Mt=0;it<Le;++it)Mt+=fe[it][ct][1];for(it=0,jt=0,rr=ze[ct][0]-ze[ct-1][0];it<Le;++it){for(Pt=0,Gt=(fe[it][ct][1]-fe[it][ct-1][1])/(2*rr);Pt<it;++Pt)Gt+=(fe[Pt][ct][1]-fe[Pt][ct-1][1])/rr;jt+=Gt*fe[it][ct][1]}$r[ct]=Lr-=Mt?jt/Mt*rr:0,Lr<Rr&&(Rr=Lr)}for(ct=0;ct<qe;++ct)$r[ct]-=Rr;return $r},expand:function(fe){var Le=fe.length,ze=fe[0].length,qe=1/Le,it,ct,Pt,Mt=[];for(ct=0;ct<ze;++ct){for(it=0,Pt=0;it<Le;it++)Pt+=fe[it][ct][1];if(Pt)for(it=0;it<Le;it++)fe[it][ct][1]/=Pt;else for(it=0;it<Le;it++)fe[it][ct][1]=qe}for(ct=0;ct<ze;++ct)Mt[ct]=0;return Mt},zero:uf});function Tu(fe){return a.range(fe.length)}function uf(fe){for(var Le=-1,ze=fe[0].length,qe=[];++Le<ze;)qe[Le]=0;return qe}function gi(fe){for(var Le=1,ze=0,qe=fe[0][1],it,ct=fe.length;Le<ct;++Le)(it=fe[Le][1])>qe&&(ze=Le,qe=it);return ze}function Sc(fe){return fe.reduce(ns,0)}function ns(fe,Le){return fe+Le[1]}a.layout.histogram=function(){var fe=!0,Le=Number,ze=ml,qe=Mc;function it(ct,Rr){for(var Mt=[],jt=ct.map(Le,this),Gt=ze.call(this,jt,Rr),rr=qe.call(this,Gt,jt,Rr),Lr,Rr=-1,$r=jt.length,sn=rr.length-1,Ir=fe?1:1/$r,Ur;++Rr<sn;)Lr=Mt[Rr]=[],Lr.dx=rr[Rr+1]-(Lr.x=rr[Rr]),Lr.y=0;if(sn>0)for(Rr=-1;++Rr<$r;)Ur=jt[Rr],Ur>=Gt[0]&&Ur<=Gt[1]&&(Lr=Mt[a.bisect(rr,Ur,1,sn)-1],Lr.y+=Ir,Lr.push(ct[Rr]));return Mt}return it.value=function(ct){return arguments.length?(Le=ct,it):Le},it.range=function(ct){return arguments.length?(ze=nn(ct),it):ze},it.bins=function(ct){return arguments.length?(qe=typeof ct=="number"?function(Pt){return Nf(Pt,ct)}:nn(ct),it):qe},it.frequency=function(ct){return arguments.length?(fe=!!ct,it):fe},it};function Mc(fe,Le){return Nf(fe,Math.ceil(Math.log(Le.length)/Math.LN2+1))}function Nf(fe,Le){for(var ze=-1,qe=+fe[0],it=(fe[1]-qe)/Le,ct=[];++ze<=Le;)ct[ze]=it*ze+qe;return ct}function ml(fe){return[a.min(fe),a.max(fe)]}a.layout.pack=function(){var fe=a.layout.hierarchy().sort(Js),Le=0,ze=[1,1],qe;function it(ct,Pt){var Mt=fe.call(this,ct,Pt),jt=Mt[0],Gt=ze[0],rr=ze[1],Lr=qe==null?Math.sqrt:typeof qe=="function"?qe:function(){return qe};if(jt.x=jt.y=0,Oo(jt,function($r){$r.r=+Lr($r.value)}),Oo(jt,as),Le){var Rr=Le*(qe?1:Math.max(2*jt.r/Gt,2*jt.r/rr))/2;Oo(jt,function($r){$r.r+=Rr}),Oo(jt,as),Oo(jt,function($r){$r.r-=Rr})}return $s(jt,Gt/2,rr/2,qe?1:1/Math.max(2*jt.r/Gt,2*jt.r/rr)),Mt}return it.size=function(ct){return arguments.length?(ze=ct,it):ze},it.radius=function(ct){return arguments.length?(qe=ct==null||typeof ct=="function"?ct:+ct,it):qe},it.padding=function(ct){return arguments.length?(Le=+ct,it):Le},Gl(it,fe)};function Js(fe,Le){return fe.value-Le.value}function ff(fe,Le){var ze=fe._pack_next;fe._pack_next=Le,Le._pack_prev=fe,Le._pack_next=ze,ze._pack_prev=Le}function ki(fe,Le){fe._pack_next=Le,Le._pack_prev=fe}function Au(fe,Le){var ze=Le.x-fe.x,qe=Le.y-fe.y,it=fe.r+Le.r;return .999*it*it>ze*ze+qe*qe}function as(fe){if(!(Le=fe.children)||!(Rr=Le.length))return;var Le,ze=1/0,qe=-1/0,it=1/0,ct=-1/0,Pt,Mt,jt,Gt,rr,Lr,Rr;function $r(en){ze=Math.min(en.x-en.r,ze),qe=Math.max(en.x+en.r,qe),it=Math.min(en.y-en.r,it),ct=Math.max(en.y+en.r,ct)}if(Le.forEach(Fs),Pt=Le[0],Pt.x=-Pt.r,Pt.y=0,$r(Pt),Rr>1&&(Mt=Le[1],Mt.x=Mt.r,Mt.y=0,$r(Mt),Rr>2))for(jt=Le[2],is(Pt,Mt,jt),$r(jt),ff(Pt,jt),Pt._pack_prev=jt,ff(jt,Mt),Mt=Pt._pack_next,Gt=3;Gt<Rr;Gt++){is(Pt,Mt,jt=Le[Gt]);var sn=0,Ir=1,Ur=1;for(rr=Mt._pack_next;rr!==Mt;rr=rr._pack_next,Ir++)if(Au(rr,jt)){sn=1;break}if(sn==1)for(Lr=Pt._pack_prev;Lr!==rr._pack_prev&&!Au(Lr,jt);Lr=Lr._pack_prev,Ur++);sn?(Ir<Ur||Ir==Ur&&Mt.r<Pt.r?ki(Pt,Mt=rr):ki(Pt=Lr,Mt),Gt--):(ff(Pt,jt),Mt=jt,$r(jt))}var Kr=(ze+qe)/2,fn=(it+ct)/2,dn=0;for(Gt=0;Gt<Rr;Gt++)jt=Le[Gt],jt.x-=Kr,jt.y-=fn,dn=Math.max(dn,jt.r+Math.sqrt(jt.x*jt.x+jt.y*jt.y));fe.r=dn,Le.forEach(xl)}function Fs(fe){fe._pack_next=fe._pack_prev=fe}function xl(fe){delete fe._pack_next,delete fe._pack_prev}function $s(fe,Le,ze,qe){var it=fe.children;if(fe.x=Le+=qe*fe.x,fe.y=ze+=qe*fe.y,fe.r*=qe,it)for(var ct=-1,Pt=it.length;++ct<Pt;)$s(it[ct],Le,ze,qe)}function is(fe,Le,ze){var qe=fe.r+ze.r,it=Le.x-fe.x,ct=Le.y-fe.y;if(qe&&(it||ct)){var Pt=Le.r+ze.r,Mt=it*it+ct*ct;Pt*=Pt,qe*=qe;var jt=.5+(qe-Pt)/(2*Mt),Gt=Math.sqrt(Math.max(0,2*Pt*(qe+Mt)-(qe-=Mt)*qe-Pt*Pt))/(2*Mt);ze.x=fe.x+jt*it+Gt*ct,ze.y=fe.y+jt*ct-Gt*it}else ze.x=fe.x+qe,ze.y=fe.y}a.layout.tree=function(){var fe=a.layout.hierarchy().sort(null).value(null),Le=Os,ze=[1,1],qe=null;function it(rr,Lr){var Rr=fe.call(this,rr,Lr),$r=Rr[0],sn=ct($r);if(Oo(sn,Pt),sn.parent.m=-sn.z,Wl(sn,Mt),qe)Wl($r,Gt);else{var Ir=$r,Ur=$r,Kr=$r;Wl($r,function(Hn){Hn.x<Ir.x&&(Ir=Hn),Hn.x>Ur.x&&(Ur=Hn),Hn.depth>Kr.depth&&(Kr=Hn)});var fn=Le(Ir,Ur)/2-Ir.x,dn=ze[0]/(Ur.x+Le(Ur,Ir)/2+fn),en=ze[1]/(Kr.depth||1);Wl($r,function(Hn){Hn.x=(Hn.x+fn)*dn,Hn.y=Hn.depth*en})}return Rr}function ct(rr){for(var Lr={A:null,children:[rr]},Rr=[Lr],$r;($r=Rr.pop())!=null;)for(var sn=$r.children,Ir,Ur=0,Kr=sn.length;Ur<Kr;++Ur)Rr.push((sn[Ur]=Ir={_:sn[Ur],parent:$r,children:(Ir=sn[Ur].children)&&Ir.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ur}).a=Ir);return Lr.children[0]}function Pt(rr){var Lr=rr.children,Rr=rr.parent.children,$r=rr.i?Rr[rr.i-1]:null;if(Lr.length){zh(rr);var sn=(Lr[0].z+Lr[Lr.length-1].z)/2;$r?(rr.z=$r.z+Le(rr._,$r._),rr.m=rr.z-sn):rr.z=sn}else $r&&(rr.z=$r.z+Le(rr._,$r._));rr.parent.A=jt(rr,$r,rr.parent.A||Rr[0])}function Mt(rr){rr._.x=rr.z+rr.parent.m,rr.m+=rr.parent.m}function jt(rr,Lr,Rr){if(Lr){for(var $r=rr,sn=rr,Ir=Lr,Ur=$r.parent.children[0],Kr=$r.m,fn=sn.m,dn=Ir.m,en=Ur.m,Hn;Ir=Xo(Ir),$r=os($r),Ir&&$r;)Ur=os(Ur),sn=Xo(sn),sn.a=rr,Hn=Ir.z+dn-$r.z-Kr+Le(Ir._,$r._),Hn>0&&(Su(Nh(Ir,rr,Rr),rr,Hn),Kr+=Hn,fn+=Hn),dn+=Ir.m,Kr+=$r.m,en+=Ur.m,fn+=sn.m;Ir&&!Xo(sn)&&(sn.t=Ir,sn.m+=dn-fn),$r&&!os(Ur)&&(Ur.t=$r,Ur.m+=Kr-en,Rr=rr)}return Rr}function Gt(rr){rr.x*=ze[0],rr.y=rr.depth*ze[1]}return it.separation=function(rr){return arguments.length?(Le=rr,it):Le},it.size=function(rr){return arguments.length?(qe=(ze=rr)==null?Gt:null,it):qe?null:ze},it.nodeSize=function(rr){return arguments.length?(qe=(ze=rr)==null?null:Gt,it):qe?ze:null},Gl(it,fe)};function Os(fe,Le){return fe.parent==Le.parent?1:2}function os(fe){var Le=fe.children;return Le.length?Le[0]:fe.t}function Xo(fe){var Le=fe.children,ze;return(ze=Le.length)?Le[ze-1]:fe.t}function Su(fe,Le,ze){var qe=ze/(Le.i-fe.i);Le.c-=qe,Le.s+=ze,fe.c+=qe,Le.z+=ze,Le.m+=ze}function zh(fe){for(var Le=0,ze=0,qe=fe.children,it=qe.length,ct;--it>=0;)ct=qe[it],ct.z+=Le,ct.m+=Le,Le+=ct.s+(ze+=ct.c)}function Nh(fe,Le,ze){return fe.a.parent===Le.parent?fe.a:ze}a.layout.cluster=function(){var fe=a.layout.hierarchy().sort(null).value(null),Le=Os,ze=[1,1],qe=!1;function it(ct,Pt){var Mt=fe.call(this,ct,Pt),jt=Mt[0],Gt,rr=0;Oo(jt,function(Ir){var Ur=Ir.children;Ur&&Ur.length?(Ir.x=Uh(Ur),Ir.y=Bh(Ur)):(Ir.x=Gt?rr+=Le(Ir,Gt):0,Ir.y=0,Gt=Ir)});var Lr=Bf(jt),Rr=Ec(jt),$r=Lr.x-Le(Lr,Rr)/2,sn=Rr.x+Le(Rr,Lr)/2;return Oo(jt,qe?function(Ir){Ir.x=(Ir.x-jt.x)*ze[0],Ir.y=(jt.y-Ir.y)*ze[1]}:function(Ir){Ir.x=(Ir.x-$r)/(sn-$r)*ze[0],Ir.y=(1-(jt.y?Ir.y/jt.y:1))*ze[1]}),Mt}return it.separation=function(ct){return arguments.length?(Le=ct,it):Le},it.size=function(ct){return arguments.length?(qe=(ze=ct)==null,it):qe?null:ze},it.nodeSize=function(ct){return arguments.length?(qe=(ze=ct)!=null,it):qe?ze:null},Gl(it,fe)};function Bh(fe){return 1+a.max(fe,function(Le){return Le.y})}function Uh(fe){return fe.reduce(function(Le,ze){return Le+ze.x},0)/fe.length}function Bf(fe){var Le=fe.children;return Le&&Le.length?Bf(Le[0]):fe}function Ec(fe){var Le=fe.children,ze;return Le&&(ze=Le.length)?Ec(Le[ze-1]):fe}a.layout.treemap=function(){var fe=a.layout.hierarchy(),Le=Math.round,ze=[1,1],qe=null,it=Zl,ct=!1,Pt,Mt="squarify",jt=.5*(1+Math.sqrt(5));function Gt(Ir,Ur){for(var Kr=-1,fn=Ir.length,dn,en;++Kr<fn;)en=(dn=Ir[Kr]).value*(Ur<0?0:Ur),dn.area=isNaN(en)||en<=0?0:en}function rr(Ir){var Ur=Ir.children;if(Ur&&Ur.length){var Kr=it(Ir),fn=[],dn=Ur.slice(),en,Hn=1/0,ea,fa=Mt==="slice"?Kr.dx:Mt==="dice"?Kr.dy:Mt==="slice-dice"?Ir.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),Qn;for(Gt(dn,Kr.dx*Kr.dy/Ir.value),fn.area=0;(Qn=dn.length)>0;)fn.push(en=dn[Qn-1]),fn.area+=en.area,Mt!=="squarify"||(ea=Rr(fn,fa))<=Hn?(dn.pop(),Hn=ea):(fn.area-=fn.pop().area,$r(fn,fa,Kr,!1),fa=Math.min(Kr.dx,Kr.dy),fn.length=fn.area=0,Hn=1/0);fn.length&&($r(fn,fa,Kr,!0),fn.length=fn.area=0),Ur.forEach(rr)}}function Lr(Ir){var Ur=Ir.children;if(Ur&&Ur.length){var Kr=it(Ir),fn=Ur.slice(),dn,en=[];for(Gt(fn,Kr.dx*Kr.dy/Ir.value),en.area=0;dn=fn.pop();)en.push(dn),en.area+=dn.area,dn.z!=null&&($r(en,dn.z?Kr.dx:Kr.dy,Kr,!fn.length),en.length=en.area=0);Ur.forEach(Lr)}}function Rr(Ir,Ur){for(var Kr=Ir.area,fn,dn=0,en=1/0,Hn=-1,ea=Ir.length;++Hn<ea;)(fn=Ir[Hn].area)&&(fn<en&&(en=fn),fn>dn&&(dn=fn));return Kr*=Kr,Ur*=Ur,Kr?Math.max(Ur*dn*jt/Kr,Kr/(Ur*en*jt)):1/0}function $r(Ir,Ur,Kr,fn){var dn=-1,en=Ir.length,Hn=Kr.x,ea=Kr.y,fa=Ur?Le(Ir.area/Ur):0,Qn;if(Ur==Kr.dx){for((fn||fa>Kr.dy)&&(fa=Kr.dy);++dn<en;)Qn=Ir[dn],Qn.x=Hn,Qn.y=ea,Qn.dy=fa,Hn+=Qn.dx=Math.min(Kr.x+Kr.dx-Hn,fa?Le(Qn.area/fa):0);Qn.z=!0,Qn.dx+=Kr.x+Kr.dx-Hn,Kr.y+=fa,Kr.dy-=fa}else{for((fn||fa>Kr.dx)&&(fa=Kr.dx);++dn<en;)Qn=Ir[dn],Qn.x=Hn,Qn.y=ea,Qn.dx=fa,ea+=Qn.dy=Math.min(Kr.y+Kr.dy-ea,fa?Le(Qn.area/fa):0);Qn.z=!1,Qn.dy+=Kr.y+Kr.dy-ea,Kr.x+=fa,Kr.dx-=fa}}function sn(Ir){var Ur=Pt||fe(Ir),Kr=Ur[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=ze[0],Kr.dy=ze[1]):Kr.dx=Kr.dy=0,Pt&&fe.revalue(Kr),Gt([Kr],Kr.dx*Kr.dy/Kr.value),(Pt?Lr:rr)(Kr),ct&&(Pt=Ur),Ur}return sn.size=function(Ir){return arguments.length?(ze=Ir,sn):ze},sn.padding=function(Ir){if(!arguments.length)return qe;function Ur(dn){var en=Ir.call(sn,dn,dn.depth);return en==null?Zl(dn):eo(dn,typeof en=="number"?[en,en,en,en]:en)}function Kr(dn){return eo(dn,Ir)}var fn;return it=(qe=Ir)==null?Zl:(fn=typeof Ir)=="function"?Ur:(fn==="number"&&(Ir=[Ir,Ir,Ir,Ir]),Kr),sn},sn.round=function(Ir){return arguments.length?(Le=Ir?Math.round:Number,sn):Le!=Number},sn.sticky=function(Ir){return arguments.length?(ct=Ir,Pt=null,sn):ct},sn.ratio=function(Ir){return arguments.length?(jt=Ir,sn):jt},sn.mode=function(Ir){return arguments.length?(Mt=Ir+"",sn):Mt},Gl(sn,fe)};function Zl(fe){return{x:fe.x,y:fe.y,dx:fe.dx,dy:fe.dy}}function eo(fe,Le){var ze=fe.x+Le[3],qe=fe.y+Le[0],it=fe.dx-Le[1]-Le[3],ct=fe.dy-Le[0]-Le[2];return it<0&&(ze+=it/2,it=0),ct<0&&(qe+=ct/2,ct=0),{x:ze,y:qe,dx:it,dy:ct}}a.random={normal:function(fe,Le){var ze=arguments.length;return ze<2&&(Le=1),ze<1&&(fe=0),function(){var qe,it,ct;do qe=Math.random()*2-1,it=Math.random()*2-1,ct=qe*qe+it*it;while(!ct||ct>1);return fe+Le*qe*Math.sqrt(-2*Math.log(ct)/ct)}},logNormal:function(){var fe=a.random.normal.apply(a,arguments);return function(){return Math.exp(fe())}},bates:function(fe){var Le=a.random.irwinHall(fe);return function(){return Le()/fe}},irwinHall:function(fe){return function(){for(var Le=0,ze=0;ze<fe;ze++)Le+=Math.random();return Le}}},a.scale={};function jo(fe){var Le=fe[0],ze=fe[fe.length-1];return Le<ze?[Le,ze]:[ze,Le]}function Kl(fe){return fe.rangeExtent?fe.rangeExtent():jo(fe.range())}function Cc(fe,Le,ze,qe){var it=ze(fe[0],fe[1]),ct=qe(Le[0],Le[1]);return function(Pt){return ct(it(Pt))}}function Mu(fe,Le){var ze=0,qe=fe.length-1,it=fe[ze],ct=fe[qe],Pt;return ct<it&&(Pt=ze,ze=qe,qe=Pt,Pt=it,it=ct,ct=Pt),fe[ze]=Le.floor(it),fe[qe]=Le.ceil(ct),fe}function zs(fe){return fe?{floor:function(Le){return Math.floor(Le/fe)*fe},ceil:function(Le){return Math.ceil(Le/fe)*fe}}:Vh}var Vh={floor:O,ceil:O};function Lc(fe,Le,ze,qe){var it=[],ct=[],Pt=0,Mt=Math.min(fe.length,Le.length)-1;for(fe[Mt]<fe[0]&&(fe=fe.slice().reverse(),Le=Le.slice().reverse());++Pt<=Mt;)it.push(ze(fe[Pt-1],fe[Pt])),ct.push(qe(Le[Pt-1],Le[Pt]));return function(jt){var Gt=a.bisect(fe,jt,1,Mt)-1;return ct[Gt](it[Gt](jt))}}a.scale.linear=function(){return Pc([0,1],[0,1],oo,!1)};function Pc(fe,Le,ze,qe){var it,ct;function Pt(){var jt=Math.min(fe.length,Le.length)>2?Lc:Cc,Gt=qe?Hl:ts;return it=jt(fe,Le,Gt,ze),ct=jt(Le,fe,Gt,oo),Mt}function Mt(jt){return it(jt)}return Mt.invert=function(jt){return ct(jt)},Mt.domain=function(jt){return arguments.length?(fe=jt.map(Number),Pt()):fe},Mt.range=function(jt){return arguments.length?(Le=jt,Pt()):Le},Mt.rangeRound=function(jt){return Mt.range(jt).interpolate(xc)},Mt.clamp=function(jt){return arguments.length?(qe=jt,Pt()):qe},Mt.interpolate=function(jt){return arguments.length?(ze=jt,Pt()):ze},Mt.ticks=function(jt){return ss(fe,jt)},Mt.tickFormat=function(jt,Gt){return d3_scale_linearTickFormat(fe,jt,Gt)},Mt.nice=function(jt){return Rc(fe,jt),Pt()},Mt.copy=function(){return Pc(fe,Le,ze,qe)},Pt()}function Uf(fe,Le){return a.rebind(fe,Le,"range","rangeRound","interpolate","clamp")}function Rc(fe,Le){return Mu(fe,zs(Eo(fe,Le)[2])),Mu(fe,zs(Eo(fe,Le)[2])),fe}function Eo(fe,Le){Le==null&&(Le=10);var ze=jo(fe),qe=ze[1]-ze[0],it=Math.pow(10,Math.floor(Math.log(qe/Le)/Math.LN10)),ct=Le/qe*it;return ct<=.15?it*=10:ct<=.35?it*=5:ct<=.75&&(it*=2),ze[0]=Math.ceil(ze[0]/it)*it,ze[1]=Math.floor(ze[1]/it)*it+it*.5,ze[2]=it,ze}function ss(fe,Le){return a.range.apply(a,Eo(fe,Le))}a.scale.log=function(){return Qs(a.scale.linear().domain([0,1]),10,!0,[1,10])};function Qs(fe,Le,ze,qe){function it(Mt){return(ze?Math.log(Mt<0?0:Mt):-Math.log(Mt>0?0:-Mt))/Math.log(Le)}function ct(Mt){return ze?Math.pow(Le,Mt):-Math.pow(Le,-Mt)}function Pt(Mt){return fe(it(Mt))}return Pt.invert=function(Mt){return ct(fe.invert(Mt))},Pt.domain=function(Mt){return arguments.length?(ze=Mt[0]>=0,fe.domain((qe=Mt.map(Number)).map(it)),Pt):qe},Pt.base=function(Mt){return arguments.length?(Le=+Mt,fe.domain(qe.map(it)),Pt):Le},Pt.nice=function(){var Mt=Mu(qe.map(it),ze?Math:Jl);return fe.domain(Mt),qe=Mt.map(ct),Pt},Pt.ticks=function(){var Mt=jo(qe),jt=[],Gt=Mt[0],rr=Mt[1],Lr=Math.floor(it(Gt)),Rr=Math.ceil(it(rr)),$r=Le%1?2:Le;if(isFinite(Rr-Lr)){if(ze){for(;Lr<Rr;Lr++)for(var sn=1;sn<$r;sn++)jt.push(ct(Lr)*sn);jt.push(ct(Lr))}else for(jt.push(ct(Lr));Lr++<Rr;)for(var sn=$r-1;sn>0;sn--)jt.push(ct(Lr)*sn);for(Lr=0;jt[Lr]<Gt;Lr++);for(Rr=jt.length;jt[Rr-1]>rr;Rr--);jt=jt.slice(Lr,Rr)}return jt},Pt.copy=function(){return Qs(fe.copy(),Le,ze,qe)},Uf(Pt,fe)}var Jl={floor:function(fe){return-Math.ceil(-fe)},ceil:function(fe){return-Math.floor(-fe)}};a.scale.pow=function(){return cf(a.scale.linear(),1,[0,1])};function cf(fe,Le,ze){var qe=bl(Le),it=bl(1/Le);function ct(Pt){return fe(qe(Pt))}return ct.invert=function(Pt){return it(fe.invert(Pt))},ct.domain=function(Pt){return arguments.length?(fe.domain((ze=Pt.map(Number)).map(qe)),ct):ze},ct.ticks=function(Pt){return ss(ze,Pt)},ct.tickFormat=function(Pt,Mt){return d3_scale_linearTickFormat(ze,Pt,Mt)},ct.nice=function(Pt){return ct.domain(Rc(ze,Pt))},ct.exponent=function(Pt){return arguments.length?(qe=bl(Le=Pt),it=bl(1/Le),fe.domain(ze.map(qe)),ct):Le},ct.copy=function(){return cf(fe.copy(),Le,ze)},Uf(ct,fe)}function bl(fe){return function(Le){return Le<0?-Math.pow(-Le,fe):Math.pow(Le,fe)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return wl([],{t:"range",a:[[]]})};function wl(fe,Le){var ze,qe,it;function ct(Mt){return qe[((ze.get(Mt)||(Le.t==="range"?ze.set(Mt,fe.push(Mt)):NaN))-1)%qe.length]}function Pt(Mt,jt){return a.range(fe.length).map(function(Gt){return Mt+jt*Gt})}return ct.domain=function(Mt){if(!arguments.length)return fe;fe=[],ze=new C;for(var jt=-1,Gt=Mt.length,rr;++jt<Gt;)ze.has(rr=Mt[jt])||ze.set(rr,fe.push(rr));return ct[Le.t].apply(ct,Le.a)},ct.range=function(Mt){return arguments.length?(qe=Mt,it=0,Le={t:"range",a:arguments},ct):qe},ct.rangePoints=function(Mt,jt){arguments.length<2&&(jt=0);var Gt=Mt[0],rr=Mt[1],Lr=fe.length<2?(Gt=(Gt+rr)/2,0):(rr-Gt)/(fe.length-1+jt);return qe=Pt(Gt+Lr*jt/2,Lr),it=0,Le={t:"rangePoints",a:arguments},ct},ct.rangeRoundPoints=function(Mt,jt){arguments.length<2&&(jt=0);var Gt=Mt[0],rr=Mt[1],Lr=fe.length<2?(Gt=rr=Math.round((Gt+rr)/2),0):(rr-Gt)/(fe.length-1+jt)|0;return qe=Pt(Gt+Math.round(Lr*jt/2+(rr-Gt-(fe.length-1+jt)*Lr)/2),Lr),it=0,Le={t:"rangeRoundPoints",a:arguments},ct},ct.rangeBands=function(Mt,jt,Gt){arguments.length<2&&(jt=0),arguments.length<3&&(Gt=jt);var rr=Mt[1]<Mt[0],Lr=Mt[rr-0],Rr=Mt[1-rr],$r=(Rr-Lr)/(fe.length-jt+2*Gt);return qe=Pt(Lr+$r*Gt,$r),rr&&qe.reverse(),it=$r*(1-jt),Le={t:"rangeBands",a:arguments},ct},ct.rangeRoundBands=function(Mt,jt,Gt){arguments.length<2&&(jt=0),arguments.length<3&&(Gt=jt);var rr=Mt[1]<Mt[0],Lr=Mt[rr-0],Rr=Mt[1-rr],$r=Math.floor((Rr-Lr)/(fe.length-jt+2*Gt));return qe=Pt(Lr+Math.round((Rr-Lr-(fe.length-jt)*$r)/2),$r),rr&&qe.reverse(),it=Math.round($r*(1-jt)),Le={t:"rangeRoundBands",a:arguments},ct},ct.rangeBand=function(){return it},ct.rangeExtent=function(){return jo(Le.a[0])},ct.copy=function(){return wl(fe,Le)},ct.domain(fe)}a.scale.category10=function(){return a.scale.ordinal().range(Dc)},a.scale.category20=function(){return a.scale.ordinal().range(Ns)},a.scale.category20b=function(){return a.scale.ordinal().range($l)},a.scale.category20c=function(){return a.scale.ordinal().range(qs)};var Dc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Nt),Ns=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Nt),$l=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Nt),qs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Nt);a.scale.quantile=function(){return Bs([],[])};function Bs(fe,Le){var ze;function qe(){var ct=0,Pt=Le.length;for(ze=[];++ct<Pt;)ze[ct-1]=a.quantile(fe,ct/Pt);return it}function it(ct){if(!isNaN(ct=+ct))return Le[a.bisect(ze,ct)]}return it.domain=function(ct){return arguments.length?(fe=ct.map(y).filter(h).sort(l),qe()):fe},it.range=function(ct){return arguments.length?(Le=ct,qe()):Le},it.quantiles=function(){return ze},it.invertExtent=function(ct){return ct=Le.indexOf(ct),ct<0?[NaN,NaN]:[ct>0?ze[ct-1]:fe[0],ct<ze.length?ze[ct]:fe[fe.length-1]]},it.copy=function(){return Bs(fe,Le)},qe()}a.scale.quantize=function(){return Eu(0,1,[0,1])};function Eu(fe,Le,ze){var qe,it;function ct(Mt){return ze[Math.max(0,Math.min(it,Math.floor(qe*(Mt-fe))))]}function Pt(){return qe=ze.length/(Le-fe),it=ze.length-1,ct}return ct.domain=function(Mt){return arguments.length?(fe=+Mt[0],Le=+Mt[Mt.length-1],Pt()):[fe,Le]},ct.range=function(Mt){return arguments.length?(ze=Mt,Pt()):ze},ct.invertExtent=function(Mt){return Mt=ze.indexOf(Mt),Mt=Mt<0?NaN:Mt/qe+fe,[Mt,Mt+1/qe]},ct.copy=function(){return Eu(fe,Le,ze)},Pt()}a.scale.threshold=function(){return Ql([.5],[0,1])};function Ql(fe,Le){function ze(qe){if(qe<=qe)return Le[a.bisect(fe,qe)]}return ze.domain=function(qe){return arguments.length?(fe=qe,ze):fe},ze.range=function(qe){return arguments.length?(Le=qe,ze):Le},ze.invertExtent=function(qe){return qe=Le.indexOf(qe),[fe[qe-1],fe[qe]]},ze.copy=function(){return Ql(fe,Le)},ze}a.scale.identity=function(){return hi([0,1])};function hi(fe){function Le(ze){return+ze}return Le.invert=Le,Le.domain=Le.range=function(ze){return arguments.length?(fe=ze.map(Le),Le):fe},Le.ticks=function(ze){return ss(fe,ze)},Le.tickFormat=function(ze,qe){return d3_scale_linearTickFormat(fe,ze,qe)},Le.copy=function(){return hi(fe)},Le}a.svg={};function ql(){return 0}a.svg.arc=function(){var fe=Ic,Le=eu,ze=ql,qe=hf,it=Cu,ct=vf,Pt=Vf;function Mt(){var Gt=Math.max(0,+fe.apply(this,arguments)),rr=Math.max(0,+Le.apply(this,arguments)),Lr=it.apply(this,arguments)-nt,Rr=ct.apply(this,arguments)-nt,$r=Math.abs(Rr-Lr),sn=Lr>Rr?0:1;if(rr<Gt&&(Ir=rr,rr=Gt,Gt=Ir),$r>=Ke)return jt(rr,sn)+(Gt?jt(Gt,1-sn):"")+"Z";var Ir,Ur,Kr,fn,dn=0,en=0,Hn,ea,fa,Qn,ia,ca,Ba,Ea,Fa=[];if((fn=(+Pt.apply(this,arguments)||0)/2)&&(Kr=qe===hf?Math.sqrt(Gt*Gt+rr*rr):+qe.apply(this,arguments),sn||(en*=-1),rr&&(en=Xt(Kr/rr*Math.sin(fn))),Gt&&(dn=Xt(Kr/Gt*Math.sin(fn)))),rr){Hn=rr*Math.cos(Lr+en),ea=rr*Math.sin(Lr+en),fa=rr*Math.cos(Rr-en),Qn=rr*Math.sin(Rr-en);var ni=Math.abs(Rr-Lr-2*en)<=Te?0:1;if(en&&Lu(Hn,ea,fa,Qn)===sn^ni){var Ni=(Lr+Rr)/2;Hn=rr*Math.cos(Ni),ea=rr*Math.sin(Ni),fa=Qn=null}}else Hn=ea=0;if(Gt){ia=Gt*Math.cos(Rr-dn),ca=Gt*Math.sin(Rr-dn),Ba=Gt*Math.cos(Lr+dn),Ea=Gt*Math.sin(Lr+dn);var ui=Math.abs(Lr-Rr+2*dn)<=Te?0:1;if(dn&&Lu(ia,ca,Ba,Ea)===1-sn^ui){var Jn=(Lr+Rr)/2;ia=Gt*Math.cos(Jn),ca=Gt*Math.sin(Jn),Ba=Ea=null}}else ia=ca=0;if($r>me&&(Ir=Math.min(Math.abs(rr-Gt)/2,+ze.apply(this,arguments)))>.001){Ur=Gt<rr^sn?0:1;var Va=Ir,Sa=Ir;if($r<Te){var Za=Ba==null?[ia,ca]:fa==null?[Hn,ea]:pn([Hn,ea],[Ba,Ea],[fa,Qn],[ia,ca]),bi=Hn-Za[0],ai=ea-Za[1],to=fa-Za[0],ro=Qn-Za[1],so=1/Math.sin(Math.acos((bi*to+ai*ro)/(Math.sqrt(bi*bi+ai*ai)*Math.sqrt(to*to+ro*ro)))/2),wi=Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1]);Sa=Math.min(Ir,(Gt-wi)/(so-1)),Va=Math.min(Ir,(rr-wi)/(so+1))}if(fa!=null){var bo=Pu(Ba==null?[ia,ca]:[Ba,Ea],[Hn,ea],rr,Va,sn),sa=Pu([fa,Qn],[ia,ca],rr,Va,sn);Ir===Va?Fa.push("M",bo[0],"A",Va,",",Va," 0 0,",Ur," ",bo[1],"A",rr,",",rr," 0 ",1-sn^Lu(bo[1][0],bo[1][1],sa[1][0],sa[1][1]),",",sn," ",sa[1],"A",Va,",",Va," 0 0,",Ur," ",sa[0]):Fa.push("M",bo[0],"A",Va,",",Va," 0 1,",Ur," ",sa[0])}else Fa.push("M",Hn,",",ea);if(Ba!=null){var La=Pu([Hn,ea],[Ba,Ea],Gt,-Sa,sn),No=Pu([ia,ca],fa==null?[Hn,ea]:[fa,Qn],Gt,-Sa,sn);Ir===Sa?Fa.push("L",No[0],"A",Sa,",",Sa," 0 0,",Ur," ",No[1],"A",Gt,",",Gt," 0 ",sn^Lu(No[1][0],No[1][1],La[1][0],La[1][1]),",",1-sn," ",La[1],"A",Sa,",",Sa," 0 0,",Ur," ",La[0]):Fa.push("L",No[0],"A",Sa,",",Sa," 0 0,",Ur," ",La[0])}else Fa.push("L",ia,",",ca)}else Fa.push("M",Hn,",",ea),fa!=null&&Fa.push("A",rr,",",rr," 0 ",ni,",",sn," ",fa,",",Qn),Fa.push("L",ia,",",ca),Ba!=null&&Fa.push("A",Gt,",",Gt," 0 ",ui,",",1-sn," ",Ba,",",Ea);return Fa.push("Z"),Fa.join("")}function jt(Gt,rr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+rr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+rr+" 0,"+Gt}return Mt.innerRadius=function(Gt){return arguments.length?(fe=nn(Gt),Mt):fe},Mt.outerRadius=function(Gt){return arguments.length?(Le=nn(Gt),Mt):Le},Mt.cornerRadius=function(Gt){return arguments.length?(ze=nn(Gt),Mt):ze},Mt.padRadius=function(Gt){return arguments.length?(qe=Gt==hf?hf:nn(Gt),Mt):qe},Mt.startAngle=function(Gt){return arguments.length?(it=nn(Gt),Mt):it},Mt.endAngle=function(Gt){return arguments.length?(ct=nn(Gt),Mt):ct},Mt.padAngle=function(Gt){return arguments.length?(Pt=nn(Gt),Mt):Pt},Mt.centroid=function(){var Gt=(+fe.apply(this,arguments)+ +Le.apply(this,arguments))/2,rr=(+it.apply(this,arguments)+ +ct.apply(this,arguments))/2-nt;return[Math.cos(rr)*Gt,Math.sin(rr)*Gt]},Mt};var hf="auto";function Ic(fe){return fe.innerRadius}function eu(fe){return fe.outerRadius}function Cu(fe){return fe.startAngle}function vf(fe){return fe.endAngle}function Vf(fe){return fe&&fe.padAngle}function Lu(fe,Le,ze,qe){return(fe-ze)*Le-(Le-qe)*fe>0?0:1}function Pu(fe,Le,ze,qe,it){var ct=fe[0]-Le[0],Pt=fe[1]-Le[1],Mt=(it?qe:-qe)/Math.sqrt(ct*ct+Pt*Pt),jt=Mt*Pt,Gt=-Mt*ct,rr=fe[0]+jt,Lr=fe[1]+Gt,Rr=Le[0]+jt,$r=Le[1]+Gt,sn=(rr+Rr)/2,Ir=(Lr+$r)/2,Ur=Rr-rr,Kr=$r-Lr,fn=Ur*Ur+Kr*Kr,dn=ze-qe,en=rr*$r-Rr*Lr,Hn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,dn*dn*fn-en*en)),ea=(en*Kr-Ur*Hn)/fn,fa=(-en*Ur-Kr*Hn)/fn,Qn=(en*Kr+Ur*Hn)/fn,ia=(-en*Ur+Kr*Hn)/fn,ca=ea-sn,Ba=fa-Ir,Ea=Qn-sn,Fa=ia-Ir;return ca*ca+Ba*Ba>Ea*Ea+Fa*Fa&&(ea=Qn,fa=ia),[[ea-jt,fa-Gt],[ea*ze/dn,fa*ze/dn]]}function el(){return!0}function Ru(fe){var Le=pa,ze=ua,qe=el,it=Wi,ct=it.key,Pt=.7;function Mt(jt){var Gt=[],rr=[],Lr=-1,Rr=jt.length,$r,sn=nn(Le),Ir=nn(ze);function Ur(){Gt.push("M",it(fe(rr),Pt))}for(;++Lr<Rr;)qe.call(this,$r=jt[Lr],Lr)?rr.push([+sn.call(this,$r,Lr),+Ir.call(this,$r,Lr)]):rr.length&&(Ur(),rr=[]);return rr.length&&Ur(),Gt.length?Gt.join(""):null}return Mt.x=function(jt){return arguments.length?(Le=jt,Mt):Le},Mt.y=function(jt){return arguments.length?(ze=jt,Mt):ze},Mt.defined=function(jt){return arguments.length?(qe=jt,Mt):qe},Mt.interpolate=function(jt){return arguments.length?(typeof jt=="function"?ct=it=jt:ct=(it=tl.get(jt)||Wi).key,Mt):ct},Mt.tension=function(jt){return arguments.length?(Pt=jt,Mt):Pt},Mt}a.svg.line=function(){return Ru(O)};var tl=a.map({linear:Wi,"linear-closed":ws,step:Hf,"step-before":Tl,"step-after":df,basis:tu,"basis-open":kc,"basis-closed":rl,bundle:jh,cardinal:_c,"cardinal-open":Du,"cardinal-closed":Hh,monotone:gf});tl.forEach(function(fe,Le){Le.key=fe,Le.closed=/-closed$/.test(fe)});function Wi(fe){return fe.length>1?fe.join("L"):fe+"Z"}function ws(fe){return fe.join("L")+"Z"}function Hf(fe){for(var Le=0,ze=fe.length,qe=fe[0],it=[qe[0],",",qe[1]];++Le<ze;)it.push("H",(qe[0]+(qe=fe[Le])[0])/2,"V",qe[1]);return ze>1&&it.push("H",qe[0]),it.join("")}function Tl(fe){for(var Le=0,ze=fe.length,qe=fe[0],it=[qe[0],",",qe[1]];++Le<ze;)it.push("V",(qe=fe[Le])[1],"H",qe[0]);return it.join("")}function df(fe){for(var Le=0,ze=fe.length,qe=fe[0],it=[qe[0],",",qe[1]];++Le<ze;)it.push("H",(qe=fe[Le])[0],"V",qe[1]);return it.join("")}function Du(fe,Le){return fe.length<4?Wi(fe):fe[1]+xo(fe.slice(1,-1),Iu(fe,Le))}function Hh(fe,Le){return fe.length<3?ws(fe):fe[0]+xo((fe.push(fe[0]),fe),Iu([fe[fe.length-2]].concat(fe,[fe[1]]),Le))}function _c(fe,Le){return fe.length<3?Wi(fe):fe[0]+xo(fe,Iu(fe,Le))}function xo(fe,Le){if(Le.length<1||fe.length!=Le.length&&fe.length!=Le.length+2)return Wi(fe);var ze=fe.length!=Le.length,qe="",it=fe[0],ct=fe[1],Pt=Le[0],Mt=Pt,jt=1;if(ze&&(qe+="Q"+(ct[0]-Pt[0]*2/3)+","+(ct[1]-Pt[1]*2/3)+","+ct[0]+","+ct[1],it=fe[1],jt=2),Le.length>1){Mt=Le[1],ct=fe[jt],jt++,qe+="C"+(it[0]+Pt[0])+","+(it[1]+Pt[1])+","+(ct[0]-Mt[0])+","+(ct[1]-Mt[1])+","+ct[0]+","+ct[1];for(var Gt=2;Gt<Le.length;Gt++,jt++)ct=fe[jt],Mt=Le[Gt],qe+="S"+(ct[0]-Mt[0])+","+(ct[1]-Mt[1])+","+ct[0]+","+ct[1]}if(ze){var rr=fe[jt];qe+="Q"+(ct[0]+Mt[0]*2/3)+","+(ct[1]+Mt[1]*2/3)+","+rr[0]+","+rr[1]}return qe}function Iu(fe,Le){for(var ze=[],qe=(1-Le)/2,it,ct=fe[0],Pt=fe[1],Mt=1,jt=fe.length;++Mt<jt;)it=ct,ct=Pt,Pt=fe[Mt],ze.push([qe*(Pt[0]-it[0]),qe*(Pt[1]-it[1])]);return ze}function tu(fe){if(fe.length<3)return Wi(fe);var Le=1,ze=fe.length,qe=fe[0],it=qe[0],ct=qe[1],Pt=[it,it,it,(qe=fe[1])[0]],Mt=[ct,ct,ct,qe[1]],jt=[it,",",ct,"L",zo(Us,Pt),",",zo(Us,Mt)];for(fe.push(fe[ze-1]);++Le<=ze;)qe=fe[Le],Pt.shift(),Pt.push(qe[0]),Mt.shift(),Mt.push(qe[1]),nl(jt,Pt,Mt);return fe.pop(),jt.push("L",qe),jt.join("")}function kc(fe){if(fe.length<4)return Wi(fe);for(var Le=[],ze=-1,qe=fe.length,it,ct=[0],Pt=[0];++ze<3;)it=fe[ze],ct.push(it[0]),Pt.push(it[1]);for(Le.push(zo(Us,ct)+","+zo(Us,Pt)),--ze;++ze<qe;)it=fe[ze],ct.shift(),ct.push(it[0]),Pt.shift(),Pt.push(it[1]),nl(Le,ct,Pt);return Le.join("")}function rl(fe){for(var Le,ze=-1,qe=fe.length,it=qe+4,ct,Pt=[],Mt=[];++ze<4;)ct=fe[ze%qe],Pt.push(ct[0]),Mt.push(ct[1]);for(Le=[zo(Us,Pt),",",zo(Us,Mt)],--ze;++ze<it;)ct=fe[ze%qe],Pt.shift(),Pt.push(ct[0]),Mt.shift(),Mt.push(ct[1]),nl(Le,Pt,Mt);return Le.join("")}function jh(fe,Le){var ze=fe.length-1;if(ze)for(var qe=fe[0][0],it=fe[0][1],ct=fe[ze][0]-qe,Pt=fe[ze][1]-it,Mt=-1,jt,Gt;++Mt<=ze;)jt=fe[Mt],Gt=Mt/ze,jt[0]=Le*jt[0]+(1-Le)*(qe+Gt*ct),jt[1]=Le*jt[1]+(1-Le)*(it+Gt*Pt);return tu(fe)}function zo(fe,Le){return fe[0]*Le[0]+fe[1]*Le[1]+fe[2]*Le[2]+fe[3]*Le[3]}var _u=[0,2/3,1/3,0],pf=[0,1/3,2/3,0],Us=[0,1/6,2/3,1/6];function nl(fe,Le,ze){fe.push("C",zo(_u,Le),",",zo(_u,ze),",",zo(pf,Le),",",zo(pf,ze),",",zo(Us,Le),",",zo(Us,ze))}function jf(fe,Le){return(Le[1]-fe[1])/(Le[0]-fe[0])}function ku(fe){for(var Le=0,ze=fe.length-1,qe=[],it=fe[0],ct=fe[1],Pt=qe[0]=jf(it,ct);++Le<ze;)qe[Le]=(Pt+(Pt=jf(it=ct,ct=fe[Le+1])))/2;return qe[Le]=Pt,qe}function Fu(fe){for(var Le=[],ze,qe,it,ct,Pt=ku(fe),Mt=-1,jt=fe.length-1;++Mt<jt;)ze=jf(fe[Mt],fe[Mt+1]),d(ze)<me?Pt[Mt]=Pt[Mt+1]=0:(qe=Pt[Mt]/ze,it=Pt[Mt+1]/ze,ct=qe*qe+it*it,ct>9&&(ct=ze*3/Math.sqrt(ct),Pt[Mt]=ct*qe,Pt[Mt+1]=ct*it));for(Mt=-1;++Mt<=jt;)ct=(fe[Math.min(jt,Mt+1)][0]-fe[Math.max(0,Mt-1)][0])/(6*(1+Pt[Mt]*Pt[Mt])),Le.push([ct||0,Pt[Mt]*ct||0]);return Le}function gf(fe){return fe.length<3?Wi(fe):fe[0]+xo(fe,Fu(fe))}a.svg.line.radial=function(){var fe=Ru(Fc);return fe.radius=fe.x,delete fe.x,fe.angle=fe.y,delete fe.y,fe};function Fc(fe){for(var Le,ze=-1,qe=fe.length,it,ct;++ze<qe;)Le=fe[ze],it=Le[0],ct=Le[1]-nt,Le[0]=it*Math.cos(ct),Le[1]=it*Math.sin(ct);return fe}function Ou(fe){var Le=pa,ze=pa,qe=0,it=ua,ct=el,Pt=Wi,Mt=Pt.key,jt=Pt,Gt="L",rr=.7;function Lr(Rr){var $r=[],sn=[],Ir=[],Ur=-1,Kr=Rr.length,fn,dn=nn(Le),en=nn(qe),Hn=Le===ze?function(){return fa}:nn(ze),ea=qe===it?function(){return Qn}:nn(it),fa,Qn;function ia(){$r.push("M",Pt(fe(Ir),rr),Gt,jt(fe(sn.reverse()),rr),"Z")}for(;++Ur<Kr;)ct.call(this,fn=Rr[Ur],Ur)?(sn.push([fa=+dn.call(this,fn,Ur),Qn=+en.call(this,fn,Ur)]),Ir.push([+Hn.call(this,fn,Ur),+ea.call(this,fn,Ur)])):sn.length&&(ia(),sn=[],Ir=[]);return sn.length&&ia(),$r.length?$r.join(""):null}return Lr.x=function(Rr){return arguments.length?(Le=ze=Rr,Lr):ze},Lr.x0=function(Rr){return arguments.length?(Le=Rr,Lr):Le},Lr.x1=function(Rr){return arguments.length?(ze=Rr,Lr):ze},Lr.y=function(Rr){return arguments.length?(qe=it=Rr,Lr):it},Lr.y0=function(Rr){return arguments.length?(qe=Rr,Lr):qe},Lr.y1=function(Rr){return arguments.length?(it=Rr,Lr):it},Lr.defined=function(Rr){return arguments.length?(ct=Rr,Lr):ct},Lr.interpolate=function(Rr){return arguments.length?(typeof Rr=="function"?Mt=Pt=Rr:Mt=(Pt=tl.get(Rr)||Wi).key,jt=Pt.reverse||Pt,Gt=Pt.closed?"M":"L",Lr):Mt},Lr.tension=function(Rr){return arguments.length?(rr=Rr,Lr):rr},Lr}Tl.reverse=df,df.reverse=Tl,a.svg.area=function(){return Ou(O)},a.svg.area.radial=function(){var fe=Ou(Fc);return fe.radius=fe.x,delete fe.x,fe.innerRadius=fe.x0,delete fe.x0,fe.outerRadius=fe.x1,delete fe.x1,fe.angle=fe.y,delete fe.y,fe.startAngle=fe.y0,delete fe.y0,fe.endAngle=fe.y1,delete fe.y1,fe};function Gf(fe){return fe.source}function Al(fe){return fe.target}a.svg.chord=function(){var fe=Gf,Le=Al,ze=Wf,qe=Cu,it=vf;function ct(rr,Lr){var Rr=Pt(this,fe,rr,Lr),$r=Pt(this,Le,rr,Lr);return"M"+Rr.p0+jt(Rr.r,Rr.p1,Rr.a1-Rr.a0)+(Mt(Rr,$r)?Gt(Rr.r,Rr.p1,Rr.r,Rr.p0):Gt(Rr.r,Rr.p1,$r.r,$r.p0)+jt($r.r,$r.p1,$r.a1-$r.a0)+Gt($r.r,$r.p1,Rr.r,Rr.p0))+"Z"}function Pt(rr,Lr,Rr,$r){var sn=Lr.call(rr,Rr,$r),Ir=ze.call(rr,sn,$r),Ur=qe.call(rr,sn,$r)-nt,Kr=it.call(rr,sn,$r)-nt;return{r:Ir,a0:Ur,a1:Kr,p0:[Ir*Math.cos(Ur),Ir*Math.sin(Ur)],p1:[Ir*Math.cos(Kr),Ir*Math.sin(Kr)]}}function Mt(rr,Lr){return rr.a0==Lr.a0&&rr.a1==Lr.a1}function jt(rr,Lr,Rr){return"A"+rr+","+rr+" 0 "+ +(Rr>Te)+",1 "+Lr}function Gt(rr,Lr,Rr,$r){return"Q 0,0 "+$r}return ct.radius=function(rr){return arguments.length?(ze=nn(rr),ct):ze},ct.source=function(rr){return arguments.length?(fe=nn(rr),ct):fe},ct.target=function(rr){return arguments.length?(Le=nn(rr),ct):Le},ct.startAngle=function(rr){return arguments.length?(qe=nn(rr),ct):qe},ct.endAngle=function(rr){return arguments.length?(it=nn(rr),ct):it},ct};function Wf(fe){return fe.radius}a.svg.diagonal=function(){var fe=Gf,Le=Al,ze=zu;function qe(it,ct){var Pt=fe.call(this,it,ct),Mt=Le.call(this,it,ct),jt=(Pt.y+Mt.y)/2,Gt=[Pt,{x:Pt.x,y:jt},{x:Mt.x,y:jt},Mt];return Gt=Gt.map(ze),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return qe.source=function(it){return arguments.length?(fe=nn(it),qe):fe},qe.target=function(it){return arguments.length?(Le=nn(it),qe):Le},qe.projection=function(it){return arguments.length?(ze=it,qe):ze},qe};function zu(fe){return[fe.x,fe.y]}a.svg.diagonal.radial=function(){var fe=a.svg.diagonal(),Le=zu,ze=fe.projection;return fe.projection=function(qe){return arguments.length?ze(Oc(Le=qe)):Le},fe};function Oc(fe){return function(){var Le=fe.apply(this,arguments),ze=Le[0],qe=Le[1]-nt;return[ze*Math.cos(qe),ze*Math.sin(qe)]}}a.svg.symbol=function(){var fe=ot,Le=$e;function ze(qe,it){return(wt.get(fe.call(this,qe,it))||xt)(Le.call(this,qe,it))}return ze.type=function(qe){return arguments.length?(fe=nn(qe),ze):fe},ze.size=function(qe){return arguments.length?(Le=nn(qe),ze):Le},ze};function $e(){return 64}function ot(){return"circle"}function xt(fe){var Le=Math.sqrt(fe/Te);return"M0,"+Le+"A"+Le+","+Le+" 0 1,1 0,"+-Le+"A"+Le+","+Le+" 0 1,1 0,"+Le+"Z"}var wt=a.map({circle:xt,cross:function(fe){var Le=Math.sqrt(fe/5)/2;return"M"+-3*Le+","+-Le+"H"+-Le+"V"+-3*Le+"H"+Le+"V"+-Le+"H"+3*Le+"V"+Le+"H"+Le+"V"+3*Le+"H"+-Le+"V"+Le+"H"+-3*Le+"Z"},diamond:function(fe){var Le=Math.sqrt(fe/(2*_t)),ze=Le*_t;return"M0,"+-Le+"L"+ze+",0 0,"+Le+" "+-ze+",0Z"},square:function(fe){var Le=Math.sqrt(fe)/2;return"M"+-Le+","+-Le+"L"+Le+","+-Le+" "+Le+","+Le+" "+-Le+","+Le+"Z"},"triangle-down":function(fe){var Le=Math.sqrt(fe/Ot),ze=Le*Ot/2;return"M0,"+ze+"L"+Le+","+-ze+" "+-Le+","+-ze+"Z"},"triangle-up":function(fe){var Le=Math.sqrt(fe/Ot),ze=Le*Ot/2;return"M0,"+-ze+"L"+Le+","+ze+" "+-Le+","+ze+"Z"}});a.svg.symbolTypes=wt.keys();var Ot=Math.sqrt(3),_t=Math.tan(30*pt);K.transition=function(fe){for(var Le=kr||++Mr,ze=In(fe),qe=[],it,ct,Pt=Br||{time:Date.now(),ease:Df,delay:0,duration:250},Mt=-1,jt=this.length;++Mt<jt;){qe.push(it=[]);for(var Gt=this[Mt],rr=-1,Lr=Gt.length;++rr<Lr;)(ct=Gt[rr])&&_n(ct,rr,ze,Le,Pt),it.push(ct)}return wr(qe,ze,Le)},K.interrupt=function(fe){return this.each(fe==null?Ut:pr(In(fe)))};var Ut=pr(In());function pr(fe){return function(){var Le,ze,qe;(Le=this[fe])&&(qe=Le[ze=Le.active])&&(qe.timer.c=null,qe.timer.t=NaN,--Le.count?delete Le[ze]:delete this[fe],Le.active+=.5,qe.event&&qe.event.interrupt.call(this,this.__data__,qe.index))}}function wr(fe,Le,ze){return oe(fe,ir),fe.namespace=Le,fe.id=ze,fe}var ir=[],Mr=0,kr,Br;ir.call=K.call,ir.empty=K.empty,ir.node=K.node,ir.size=K.size,a.transition=function(fe,Le){return fe&&fe.transition?kr?fe.transition(Le):fe:a.selection().transition(fe)},a.transition.prototype=ir,ir.select=function(fe){var Le=this.id,ze=this.namespace,qe=[],it,ct,Pt;fe=le(fe);for(var Mt=-1,jt=this.length;++Mt<jt;){qe.push(it=[]);for(var Gt=this[Mt],rr=-1,Lr=Gt.length;++rr<Lr;)(Pt=Gt[rr])&&(ct=fe.call(Pt,Pt.__data__,rr,Mt))?("__data__"in Pt&&(ct.__data__=Pt.__data__),_n(ct,rr,ze,Le,Pt[ze][Le]),it.push(ct)):it.push(null)}return wr(qe,ze,Le)},ir.selectAll=function(fe){var Le=this.id,ze=this.namespace,qe=[],it,ct,Pt,Mt,jt;fe=ie(fe);for(var Gt=-1,rr=this.length;++Gt<rr;)for(var Lr=this[Gt],Rr=-1,$r=Lr.length;++Rr<$r;)if(Pt=Lr[Rr]){jt=Pt[ze][Le],ct=fe.call(Pt,Pt.__data__,Rr,Gt),qe.push(it=[]);for(var sn=-1,Ir=ct.length;++sn<Ir;)(Mt=ct[sn])&&_n(Mt,sn,ze,Le,jt),it.push(Mt)}return wr(qe,ze,Le)},ir.filter=function(fe){var Le=[],ze,qe,it;typeof fe!="function"&&(fe=ut(fe));for(var ct=0,Pt=this.length;ct<Pt;ct++){Le.push(ze=[]);for(var qe=this[ct],Mt=0,jt=qe.length;Mt<jt;Mt++)(it=qe[Mt])&&fe.call(it,it.__data__,Mt,ct)&&ze.push(it)}return wr(Le,this.namespace,this.id)},ir.tween=function(fe,Le){var ze=this.id,qe=this.namespace;return arguments.length<2?this.node()[qe][ze].tween.get(fe):at(this,Le==null?function(it){it[qe][ze].tween.remove(fe)}:function(it){it[qe][ze].tween.set(fe,Le)})};function rn(fe,Le,ze,qe){var it=fe.id,ct=fe.namespace;return at(fe,typeof ze=="function"?function(Pt,Mt,jt){Pt[ct][it].tween.set(Le,qe(ze.call(Pt,Pt.__data__,Mt,jt)))}:(ze=qe(ze),function(Pt){Pt[ct][it].tween.set(Le,ze)}))}ir.attr=function(fe,Le){if(arguments.length<2){for(Le in fe)this.attr(Le,fe[Le]);return this}var ze=fe=="transform"?nf:oo,qe=a.ns.qualify(fe);function it(){this.removeAttribute(qe)}function ct(){this.removeAttributeNS(qe.space,qe.local)}function Pt(jt){return jt==null?it:(jt+="",function(){var Gt=this.getAttribute(qe),rr;return Gt!==jt&&(rr=ze(Gt,jt),function(Lr){this.setAttribute(qe,rr(Lr))})})}function Mt(jt){return jt==null?ct:(jt+="",function(){var Gt=this.getAttributeNS(qe.space,qe.local),rr;return Gt!==jt&&(rr=ze(Gt,jt),function(Lr){this.setAttributeNS(qe.space,qe.local,rr(Lr))})})}return rn(this,"attr."+fe,Le,qe.local?Mt:Pt)},ir.attrTween=function(fe,Le){var ze=a.ns.qualify(fe);function qe(ct,Pt){var Mt=Le.call(this,ct,Pt,this.getAttribute(ze));return Mt&&function(jt){this.setAttribute(ze,Mt(jt))}}function it(ct,Pt){var Mt=Le.call(this,ct,Pt,this.getAttributeNS(ze.space,ze.local));return Mt&&function(jt){this.setAttributeNS(ze.space,ze.local,Mt(jt))}}return this.tween("attr."+fe,ze.local?it:qe)},ir.style=function(fe,Le,ze){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Le="");for(ze in fe)this.style(ze,fe[ze],Le);return this}ze=""}function it(){this.style.removeProperty(fe)}function ct(Pt){return Pt==null?it:(Pt+="",function(){var Mt=r(this).getComputedStyle(this,null).getPropertyValue(fe),jt;return Mt!==Pt&&(jt=oo(Mt,Pt),function(Gt){this.style.setProperty(fe,jt(Gt),ze)})})}return rn(this,"style."+fe,Le,ct)},ir.styleTween=function(fe,Le,ze){arguments.length<3&&(ze="");function qe(it,ct){var Pt=Le.call(this,it,ct,r(this).getComputedStyle(this,null).getPropertyValue(fe));return Pt&&function(Mt){this.style.setProperty(fe,Pt(Mt),ze)}}return this.tween("style."+fe,qe)},ir.text=function(fe){return rn(this,"text",fe,bn)};function bn(fe){return fe==null&&(fe=""),function(){this.textContent=fe}}ir.remove=function(){var fe=this.namespace;return this.each("end.transition",function(){var Le;this[fe].count<2&&(Le=this.parentNode)&&Le.removeChild(this)})},ir.ease=function(fe){var Le=this.id,ze=this.namespace;return arguments.length<1?this.node()[ze][Le].ease:(typeof fe!="function"&&(fe=a.ease.apply(a,arguments)),at(this,function(qe){qe[ze][Le].ease=fe}))},ir.delay=function(fe){var Le=this.id,ze=this.namespace;return arguments.length<1?this.node()[ze][Le].delay:at(this,typeof fe=="function"?function(qe,it,ct){qe[ze][Le].delay=+fe.call(qe,qe.__data__,it,ct)}:(fe=+fe,function(qe){qe[ze][Le].delay=fe}))},ir.duration=function(fe){var Le=this.id,ze=this.namespace;return arguments.length<1?this.node()[ze][Le].duration:at(this,typeof fe=="function"?function(qe,it,ct){qe[ze][Le].duration=Math.max(1,fe.call(qe,qe.__data__,it,ct))}:(fe=Math.max(1,fe),function(qe){qe[ze][Le].duration=fe}))},ir.each=function(fe,Le){var ze=this.id,qe=this.namespace;if(arguments.length<2){var it=Br,ct=kr;try{kr=ze,at(this,function(Pt,Mt,jt){Br=Pt[qe][ze],fe.call(Pt,Pt.__data__,Mt,jt)})}finally{Br=it,kr=ct}}else at(this,function(Pt){var Mt=Pt[qe][ze];(Mt.event||(Mt.event=a.dispatch("start","end","interrupt"))).on(fe,Le)});return this},ir.transition=function(){for(var fe=this.id,Le=++Mr,ze=this.namespace,qe=[],it,ct,Pt,Mt,jt=0,Gt=this.length;jt<Gt;jt++){qe.push(it=[]);for(var ct=this[jt],rr=0,Lr=ct.length;rr<Lr;rr++)(Pt=ct[rr])&&(Mt=Pt[ze][fe],_n(Pt,rr,ze,Le,{time:Mt.time,ease:Mt.ease,delay:Mt.delay+Mt.duration,duration:Mt.duration})),it.push(Pt)}return wr(qe,ze,Le)};function In(fe){return fe==null?"__transition__":"__transition_"+fe+"__"}function _n(fe,Le,ze,qe,it){var ct=fe[ze]||(fe[ze]={active:0,count:0}),Pt=ct[qe],Mt,jt,Gt,rr,Lr;function Rr(Ir){var Ur=Pt.delay;if(jt.t=Ur+Mt,Ur<=Ir)return $r(Ir-Ur);jt.c=$r}function $r(Ir){var Ur=ct.active,Kr=ct[Ur];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ct.count,delete ct[Ur],Kr.event&&Kr.event.interrupt.call(fe,fe.__data__,Kr.index));for(var fn in ct)if(+fn<qe){var dn=ct[fn];dn.timer.c=null,dn.timer.t=NaN,--ct.count,delete ct[fn]}jt.c=sn,Ln(function(){return jt.c&&sn(Ir||1)&&(jt.c=null,jt.t=NaN),1},0,Mt),ct.active=qe,Pt.event&&Pt.event.start.call(fe,fe.__data__,Le),Lr=[],Pt.tween.forEach(function(en,Hn){(Hn=Hn.call(fe,fe.__data__,Le))&&Lr.push(Hn)}),rr=Pt.ease,Gt=Pt.duration}function sn(Ir){for(var Ur=Ir/Gt,Kr=rr(Ur),fn=Lr.length;fn>0;)Lr[--fn].call(fe,Kr);if(Ur>=1)return Pt.event&&Pt.event.end.call(fe,fe.__data__,Le),--ct.count?delete ct[qe]:delete fe[ze],1}Pt||(Mt=it.time,jt=Ln(Rr,0,Mt),Pt=ct[qe]={tween:new C,time:Mt,timer:jt,delay:it.delay,duration:it.duration,ease:it.ease,index:Le},it=null,++ct.count)}a.svg.axis=function(){var fe=a.scale.linear(),Le=Zn,ze=6,qe=6,it=3,ct=[10],Pt=null,Mt;function jt(Gt){Gt.each(function(){var rr=a.select(this),Lr=this.__chart__||fe,Rr=this.__chart__=fe.copy(),$r=Pt??(Rr.ticks?Rr.ticks.apply(Rr,ct):Rr.domain()),sn=Mt??(Rr.tickFormat?Rr.tickFormat.apply(Rr,ct):O),Ir=rr.selectAll(".tick").data($r,Rr),Ur=Ir.enter().insert("g",".domain").attr("class","tick").style("opacity",me),Kr=a.transition(Ir.exit()).style("opacity",me).remove(),fn=a.transition(Ir.order()).style("opacity",1),dn=Math.max(ze,0)+it,en,Hn=Kl(Rr),ea=rr.selectAll(".domain").data([0]),fa=(ea.enter().append("path").attr("class","domain"),a.transition(ea));Ur.append("line"),Ur.append("text");var Qn=Ur.select("line"),ia=fn.select("line"),ca=Ir.select("text").text(sn),Ba=Ur.select("text"),Ea=fn.select("text"),Fa=Le==="top"||Le==="left"?-1:1,ni,Ni,ui,Jn;if(Le==="bottom"||Le==="top"?(en=Da,ni="x",ui="y",Ni="x2",Jn="y2",ca.attr("dy",Fa<0?"0em":".71em").style("text-anchor","middle"),fa.attr("d","M"+Hn[0]+","+Fa*qe+"V0H"+Hn[1]+"V"+Fa*qe)):(en=Ia,ni="y",ui="x",Ni="y2",Jn="x2",ca.attr("dy",".32em").style("text-anchor",Fa<0?"end":"start"),fa.attr("d","M"+Fa*qe+","+Hn[0]+"H0V"+Hn[1]+"H"+Fa*qe)),Qn.attr(Jn,Fa*ze),Ba.attr(ui,Fa*dn),ia.attr(Ni,0).attr(Jn,Fa*ze),Ea.attr(ni,0).attr(ui,Fa*dn),Rr.rangeBand){var Va=Rr,Sa=Va.rangeBand()/2;Lr=Rr=function(Za){return Va(Za)+Sa}}else Lr.rangeBand?Lr=Rr:Kr.call(en,Rr,Lr);Ur.call(en,Lr,Rr),fn.call(en,Rr,Rr)})}return jt.scale=function(Gt){return arguments.length?(fe=Gt,jt):fe},jt.orient=function(Gt){return arguments.length?(Le=Gt in Ra?Gt+"":Zn,jt):Le},jt.ticks=function(){return arguments.length?(ct=M(arguments),jt):ct},jt.tickValues=function(Gt){return arguments.length?(Pt=Gt,jt):Pt},jt.tickFormat=function(Gt){return arguments.length?(Mt=Gt,jt):Mt},jt.tickSize=function(Gt){var rr=arguments.length;return rr?(ze=+Gt,qe=+arguments[rr-1],jt):ze},jt.innerTickSize=function(Gt){return arguments.length?(ze=+Gt,jt):ze},jt.outerTickSize=function(Gt){return arguments.length?(qe=+Gt,jt):qe},jt.tickPadding=function(Gt){return arguments.length?(it=+Gt,jt):it},jt.tickSubdivide=function(){return arguments.length&&jt},jt};var Zn="bottom",Ra={top:1,right:1,bottom:1,left:1};function Da(fe,Le,ze){fe.attr("transform",function(qe){var it=Le(qe);return"translate("+(isFinite(it)?it:ze(qe))+",0)"})}function Ia(fe,Le,ze){fe.attr("transform",function(qe){var it=Le(qe);return"translate(0,"+(isFinite(it)?it:ze(qe))+")"})}a.svg.brush=function(){var fe=J(rr,"brushstart","brush","brushend"),Le=null,ze=null,qe=[0,0],it=[0,0],ct,Pt,Mt=!0,jt=!0,Gt=Xa[0];function rr(Ir){Ir.each(function(){var Ur=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",sn).on("touchstart.brush",sn),Kr=Ur.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ur.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var fn=Ur.selectAll(".resize").data(Gt,O);fn.exit().remove(),fn.enter().append("g").attr("class",function(ea){return"resize "+ea}).style("cursor",function(ea){return za[ea]}).append("rect").attr("x",function(ea){return/[ew]$/.test(ea)?-3:null}).attr("y",function(ea){return/^[ns]/.test(ea)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),fn.style("display",rr.empty()?"none":null);var dn=a.transition(Ur),en=a.transition(Kr),Hn;Le&&(Hn=Kl(Le),en.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),Rr(dn)),ze&&(Hn=Kl(ze),en.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),$r(dn)),Lr(dn)})}rr.event=function(Ir){Ir.each(function(){var Ur=fe.of(this,arguments),Kr={x:qe,y:it,i:ct,j:Pt},fn=this.__chart__||Kr;this.__chart__=Kr,kr?a.select(this).transition().each("start.brush",function(){ct=fn.i,Pt=fn.j,qe=fn.x,it=fn.y,Ur({type:"brushstart"})}).tween("brush:brush",function(){var dn=Ho(qe,Kr.x),en=Ho(it,Kr.y);return ct=Pt=null,function(Hn){qe=Kr.x=dn(Hn),it=Kr.y=en(Hn),Ur({type:"brush",mode:"resize"})}}).each("end.brush",function(){ct=Kr.i,Pt=Kr.j,Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"})}):(Ur({type:"brushstart"}),Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"}))})};function Lr(Ir){Ir.selectAll(".resize").attr("transform",function(Ur){return"translate("+qe[+/e$/.test(Ur)]+","+it[+/^s/.test(Ur)]+")"})}function Rr(Ir){Ir.select(".extent").attr("x",qe[0]),Ir.selectAll(".extent,.n>rect,.s>rect").attr("width",qe[1]-qe[0])}function $r(Ir){Ir.select(".extent").attr("y",it[0]),Ir.selectAll(".extent,.e>rect,.w>rect").attr("height",it[1]-it[0])}function sn(){var Ir=this,Ur=a.select(a.event.target),Kr=fe.of(Ir,arguments),fn=a.select(Ir),dn=Ur.datum(),en=!/^(n|s)$/.test(dn)&&Le,Hn=!/^(e|w)$/.test(dn)&&ze,ea=Ur.classed("extent"),fa=Ze(Ir),Qn,ia=a.mouse(Ir),ca,Ba=a.select(r(Ir)).on("keydown.brush",ni).on("keyup.brush",Ni);if(a.event.changedTouches?Ba.on("touchmove.brush",ui).on("touchend.brush",Va):Ba.on("mousemove.brush",ui).on("mouseup.brush",Va),fn.interrupt().selectAll("*").interrupt(),ea)ia[0]=qe[0]-ia[0],ia[1]=it[0]-ia[1];else if(dn){var Ea=+/w$/.test(dn),Fa=+/^n/.test(dn);ca=[qe[1-Ea]-ia[0],it[1-Fa]-ia[1]],ia[0]=qe[Ea],ia[1]=it[Fa]}else a.event.altKey&&(Qn=ia.slice());fn.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Ur.style("cursor")),Kr({type:"brushstart"}),ui();function ni(){a.event.keyCode==32&&(ea||(Qn=null,ia[0]-=qe[1],ia[1]-=it[1],ea=2),ne())}function Ni(){a.event.keyCode==32&&ea==2&&(ia[0]+=qe[1],ia[1]+=it[1],ea=0,ne())}function ui(){var Sa=a.mouse(Ir),Za=!1;ca&&(Sa[0]+=ca[0],Sa[1]+=ca[1]),ea||(a.event.altKey?(Qn||(Qn=[(qe[0]+qe[1])/2,(it[0]+it[1])/2]),ia[0]=qe[+(Sa[0]<Qn[0])],ia[1]=it[+(Sa[1]<Qn[1])]):Qn=null),en&&Jn(Sa,Le,0)&&(Rr(fn),Za=!0),Hn&&Jn(Sa,ze,1)&&($r(fn),Za=!0),Za&&(Lr(fn),Kr({type:"brush",mode:ea?"move":"resize"}))}function Jn(Sa,Za,bi){var ai=Kl(Za),to=ai[0],ro=ai[1],so=ia[bi],wi=bi?it:qe,bo=wi[1]-wi[0],sa,La;if(ea&&(to-=so,ro-=bo+so),sa=(bi?jt:Mt)?Math.max(to,Math.min(ro,Sa[bi])):Sa[bi],ea?La=(sa+=so)+bo:(Qn&&(so=Math.max(to,Math.min(ro,2*Qn[bi]-sa))),so<sa?(La=sa,sa=so):La=so),wi[0]!=sa||wi[1]!=La)return bi?Pt=null:ct=null,wi[0]=sa,wi[1]=La,!0}function Va(){ui(),fn.style("pointer-events","all").selectAll(".resize").style("display",rr.empty()?"none":null),a.select("body").style("cursor",null),Ba.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),fa(),Kr({type:"brushend"})}}return rr.x=function(Ir){return arguments.length?(Le=Ir,Gt=Xa[!Le<<1|!ze],rr):Le},rr.y=function(Ir){return arguments.length?(ze=Ir,Gt=Xa[!Le<<1|!ze],rr):ze},rr.clamp=function(Ir){return arguments.length?(Le&&ze?(Mt=!!Ir[0],jt=!!Ir[1]):Le?Mt=!!Ir:ze&&(jt=!!Ir),rr):Le&&ze?[Mt,jt]:Le?Mt:ze?jt:null},rr.extent=function(Ir){var Ur,Kr,fn,dn,en;return arguments.length?(Le&&(Ur=Ir[0],Kr=Ir[1],ze&&(Ur=Ur[0],Kr=Kr[0]),ct=[Ur,Kr],Le.invert&&(Ur=Le(Ur),Kr=Le(Kr)),Kr<Ur&&(en=Ur,Ur=Kr,Kr=en),(Ur!=qe[0]||Kr!=qe[1])&&(qe=[Ur,Kr])),ze&&(fn=Ir[0],dn=Ir[1],Le&&(fn=fn[1],dn=dn[1]),Pt=[fn,dn],ze.invert&&(fn=ze(fn),dn=ze(dn)),dn<fn&&(en=fn,fn=dn,dn=en),(fn!=it[0]||dn!=it[1])&&(it=[fn,dn])),rr):(Le&&(ct?(Ur=ct[0],Kr=ct[1]):(Ur=qe[0],Kr=qe[1],Le.invert&&(Ur=Le.invert(Ur),Kr=Le.invert(Kr)),Kr<Ur&&(en=Ur,Ur=Kr,Kr=en))),ze&&(Pt?(fn=Pt[0],dn=Pt[1]):(fn=it[0],dn=it[1],ze.invert&&(fn=ze.invert(fn),dn=ze.invert(dn)),dn<fn&&(en=fn,fn=dn,dn=en))),Le&&ze?[[Ur,fn],[Kr,dn]]:Le?[Ur,Kr]:ze&&[fn,dn])},rr.clear=function(){return rr.empty()||(qe=[0,0],it=[0,0],ct=Pt=null),rr},rr.empty=function(){return!!Le&&qe[0]==qe[1]||!!ze&&it[0]==it[1]},a.rebind(rr,fe,"on")};var za={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Pn(function(fe){return fe.responseText}),a.json=function(fe,Le){return Cn(fe,"application/json",vi,Le)};function vi(fe){return JSON.parse(fe.responseText)}a.html=function(fe,Le){return Cn(fe,"text/html",Fi,Le)};function Fi(fe){var Le=v.createRange();return Le.selectNode(v.body),Le.createContextualFragment(fe.responseText)}a.xml=Pn(function(fe){return fe.responseXML}),g=a,P=typeof g=="function"?g.call(H,e,H,j):g,P!==void 0&&(j.exports=P)}).apply(self)},3480:function(j){(function(H,e){j.exports=e()})(this,function(){var H,e,g;function P(a,x){if(!H)H=x;else if(!e)e=x;else{var M="var sharedChunk = {}; ("+H+")(sharedChunk); ("+e+")(sharedChunk);",v={};H(v),g=x(v),typeof window<"u"&&(g.workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"})))}}return P(["exports"],function(a){function x(D,I){return I={exports:{}},D(I,I.exports),I.exports}var M="1.13.4",v=p;function p(D,I,G,ae){this.cx=3*D,this.bx=3*(G-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(ae-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ae,this.p2x=G,this.p2y=ae}p.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},p.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},p.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},p.prototype.solveCurveX=function(D,I){typeof I>"u"&&(I=1e-6);var G,ae,ve,Se,De;for(ve=D,De=0;De<8;De++){if(Se=this.sampleCurveX(ve)-D,Math.abs(Se)<I)return ve;var Qe=this.sampleCurveDerivativeX(ve);if(Math.abs(Qe)<1e-6)break;ve=ve-Se/Qe}if(G=0,ae=1,ve=D,ve<G)return G;if(ve>ae)return ae;for(;G<ae;){if(Se=this.sampleCurveX(ve),Math.abs(Se-D)<I)return ve;D>Se?G=ve:ae=ve,ve=(ae-G)*.5+G}return ve},p.prototype.solve=function(D,I){return this.sampleCurveY(this.solveCurveX(D,I))};var r=t;function t(D,I){this.x=D,this.y=I}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,I){return this.clone()._rotateAround(D,I)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var I=D.x-this.x,G=D.y-this.y;return I*I+G*G},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,I){return Math.atan2(this.x*I-this.y*D,this.x*D+this.y*I)},_matMult:function(D){var I=D[0]*this.x+D[1]*this.y,G=D[2]*this.x+D[3]*this.y;return this.x=I,this.y=G,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var I=Math.cos(D),G=Math.sin(D),ae=I*this.x-G*this.y,ve=G*this.x+I*this.y;return this.x=ae,this.y=ve,this},_rotateAround:function(D,I){var G=Math.cos(D),ae=Math.sin(D),ve=I.x+G*(this.x-I.x)-ae*(this.y-I.y),Se=I.y+ae*(this.x-I.x)+G*(this.y-I.y);return this.x=ve,this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(D){return D instanceof t?D:Array.isArray(D)?new t(D[0],D[1]):D};var i=typeof self<"u"?self:{};function n(D,I){if(Array.isArray(D)){if(!Array.isArray(I)||D.length!==I.length)return!1;for(var G=0;G<D.length;G++)if(!n(D[G],I[G]))return!1;return!0}if(typeof D=="object"&&D!==null&&I!==null){if(typeof I!="object")return!1;var ae=Object.keys(D);if(ae.length!==Object.keys(I).length)return!1;for(var ve in D)if(!n(D[ve],I[ve]))return!1;return!0}return D===I}var u=Math.pow(2,53)-1;function f(D){if(D<=0)return 0;if(D>=1)return 1;var I=D*D,G=I*D;return 4*(D<.5?G:3*(D-I)+G-.75)}function l(D,I,G,ae){var ve=new v(D,I,G,ae);return function(Se){return ve.solve(Se)}}var y=l(.25,.1,.25,1);function h(D,I,G){return Math.min(G,Math.max(I,D))}function S(D,I,G){var ae=G-I,ve=((D-I)%ae+ae)%ae+I;return ve===I?G:ve}function c(D,I,G){if(!D.length)return G(null,[]);var ae=D.length,ve=new Array(D.length),Se=null;D.forEach(function(De,Qe){I(De,function(gt,Et){gt&&(Se=gt),ve[Qe]=Et,--ae===0&&G(Se,ve)})})}function o(D){var I=[];for(var G in D)I.push(D[G]);return I}function d(D,I){var G=[];for(var ae in D)ae in I||G.push(ae);return G}function w(D){for(var I=[],G=arguments.length-1;G-- >0;)I[G]=arguments[G+1];for(var ae=0,ve=I;ae<ve.length;ae+=1){var Se=ve[ae];for(var De in Se)D[De]=Se[De]}return D}function A(D,I){for(var G={},ae=0;ae<I.length;ae++){var ve=I[ae];ve in D&&(G[ve]=D[ve])}return G}var C=1;function m(){return C++}function E(){function D(I){return I?(I^Math.random()*16>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function b(D){return D<=1?1:Math.pow(2,Math.ceil(Math.log(D)/Math.LN2))}function s(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function L(D,I){D.forEach(function(G){I[G]&&(I[G]=I[G].bind(I))})}function T(D,I){return D.indexOf(I,D.length-I.length)!==-1}function k(D,I,G){var ae={};for(var ve in D)ae[ve]=I.call(G||this,D[ve],ve,D);return ae}function _(D,I,G){var ae={};for(var ve in D)I.call(G||this,D[ve],ve,D)&&(ae[ve]=D[ve]);return ae}function B(D){return Array.isArray(D)?D.map(B):typeof D=="object"&&D?k(D,B):D}function F(D,I){for(var G=0;G<D.length;G++)if(I.indexOf(D[G])>=0)return!0;return!1}var O={};function N(D){O[D]||(typeof console<"u"&&console.warn(D),O[D]=!0)}function z(D,I,G){return(G.y-D.y)*(I.x-D.x)>(I.y-D.y)*(G.x-D.x)}function V(D){for(var I=0,G=0,ae=D.length,ve=ae-1,Se=void 0,De=void 0;G<ae;ve=G++)Se=D[G],De=D[ve],I+=(De.x-Se.x)*(Se.y+De.y);return I}function W(D){var I=D[0],G=D[1],ae=D[2];return G+=90,G*=Math.PI/180,ae*=Math.PI/180,{x:I*Math.cos(G)*Math.sin(ae),y:I*Math.sin(G)*Math.sin(ae),z:I*Math.cos(ae)}}function $(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function re(D){var I=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,G={};if(D.replace(I,function(ve,Se,De,Qe){var gt=De||Qe;return G[Se]=gt?gt.toLowerCase():!0,""}),G["max-age"]){var ae=parseInt(G["max-age"],10);isNaN(ae)?delete G["max-age"]:G["max-age"]=ae}return G}var ne=null;function ue(D){if(ne==null){var I=D.navigator?D.navigator.userAgent:null;ne=!!D.safari||!!(I&&(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return ne}function J(D){try{var I=i[D];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}function X(D){return i.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(I,G){return String.fromCharCode(+("0x"+G))}))}function oe(D){return decodeURIComponent(i.atob(D).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date),q=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame,se=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame,Q,K,le={now:Y,frame:function(I){var G=q(I);return{cancel:function(){return se(G)}}},getImageData:function(I,G){G===void 0&&(G=0);var ae=i.document.createElement("canvas"),ve=ae.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return ae.width=I.width,ae.height=I.height,ve.drawImage(I,0,0,I.width,I.height),ve.getImageData(-G,-G,I.width+2*G,I.height+2*G)},resolveURL:function(I){return Q||(Q=i.document.createElement("a")),Q.href=I,Q.href},hardwareConcurrency:i.navigator&&i.navigator.hardwareConcurrency||4,get devicePixelRatio(){return i.devicePixelRatio},get prefersReducedMotion(){return i.matchMedia?(K==null&&(K=i.matchMedia("(prefers-reduced-motion: reduce)")),K.matches):!1}},ie={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ce={supported:!1,testSupport:we},ye,Ce=!1,Ae,ke=!1;i.document&&(Ae=i.document.createElement("img"),Ae.onload=function(){ye&&Ee(ye),ye=null,ke=!0},Ae.onerror=function(){Ce=!0,ye=null},Ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function we(D){Ce||!Ae||(ke?Ee(D):ye=D)}function Ee(D){var I=D.createTexture();D.bindTexture(D.TEXTURE_2D,I);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,Ae),D.isContextLost())return;ce.supported=!0}catch{}D.deleteTexture(I),Ce=!0}var xe="01";function Pe(){for(var D="1",I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",G="",ae=0;ae<10;ae++)G+=I[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,Se=[D,xe,G].join(""),De=Date.now()+ve;return{token:Se,tokenExpiresAt:De}}var Ue=function(I,G){this._transformRequestFn=I,this._customAccessToken=G,this._createSkuToken()};Ue.prototype._createSkuToken=function(){var I=Pe();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Ue.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ue.prototype.transformRequest=function(I,G){return this._transformRequestFn?this._transformRequestFn(I,G)||{url:I}:{url:I}},Ue.prototype.normalizeStyleURL=function(I,G){if(!Be(I))return I;var ae=We(I);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||G)},Ue.prototype.normalizeGlyphsURL=function(I,G){if(!Be(I))return I;var ae=We(I);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||G)},Ue.prototype.normalizeSourceURL=function(I,G){if(!Be(I))return I;var ae=We(I);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||G)},Ue.prototype.normalizeSpriteURL=function(I,G,ae,ve){var Se=We(I);return Be(I)?(Se.path="/styles/v1"+Se.path+"/sprite"+G+ae,this._makeAPIURL(Se,this._customAccessToken||ve)):(Se.path+=""+G+ae,rt(Se))},Ue.prototype.normalizeTileURL=function(I,G){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!Be(I))return I;var ae=We(I),ve=/(\.(png|jpg)\d*)(?=$)/,Se=/^.+\/v4\//,De=le.devicePixelRatio>=2||G===512?"@2x":"",Qe=ce.supported?".webp":"$1";ae.path=ae.path.replace(ve,""+De+Qe),ae.path=ae.path.replace(Se,"/"),ae.path="/v4"+ae.path;var gt=this._customAccessToken||dt(ae.params)||ie.ACCESS_TOKEN;return ie.REQUIRE_ACCESS_TOKEN&&gt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,gt)},Ue.prototype.canonicalizeTileURL=function(I,G){var ae="/v4/",ve=/\.[\w]+$/,Se=We(I);if(!Se.path.match(/(^\/v4\/)/)||!Se.path.match(ve))return I;var De="mapbox://tiles/";De+=Se.path.replace(ae,"");var Qe=Se.params;return G&&(Qe=Qe.filter(function(gt){return!gt.match(/^access_token=/)})),Qe.length&&(De+="?"+Qe.join("&")),De},Ue.prototype.canonicalizeTileset=function(I,G){for(var ae=G?Be(G):!1,ve=[],Se=0,De=I.tiles||[];Se<De.length;Se+=1){var Qe=De[Se];Xe(Qe)?ve.push(this.canonicalizeTileURL(Qe,ae)):ve.push(Qe)}return ve},Ue.prototype._makeAPIURL=function(I,G){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=We(ie.API_URL);if(I.protocol=ve.protocol,I.authority=ve.authority,I.protocol==="http"){var Se=I.params.indexOf("secure");Se>=0&&I.params.splice(Se,1)}if(ve.path!=="/"&&(I.path=""+ve.path+I.path),!ie.REQUIRE_ACCESS_TOKEN)return rt(I);if(G=G||ie.ACCESS_TOKEN,!G)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(G[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return I.params=I.params.filter(function(De){return De.indexOf("access_token")===-1}),I.params.push("access_token="+G),rt(I)};function Be(D){return D.indexOf("mapbox:")===0}var Ne=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Xe(D){return Ne.test(D)}function ut(D){return D.indexOf("sku=")>0&&Xe(D)}function dt(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I],ve=ae.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var at=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function We(D){var I=D.match(at);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function rt(D){var I=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+I}var st="mapbox.eventData";function ht(D){if(!D)return null;var I=D.split(".");if(!I||I.length!==3)return null;try{var G=JSON.parse(oe(I[1]));return G}catch{return null}}var vt=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};vt.prototype.getStorageKey=function(I){var G=ht(ie.ACCESS_TOKEN),ae="";return G&&G.u?ae=X(G.u):ae=ie.ACCESS_TOKEN||"",I?st+"."+I+":"+ae:st+":"+ae},vt.prototype.fetchEventData=function(){var I=J("localStorage"),G=this.getStorageKey(),ae=this.getStorageKey("uuid");if(I)try{var ve=i.localStorage.getItem(G);ve&&(this.eventData=JSON.parse(ve));var Se=i.localStorage.getItem(ae);Se&&(this.anonId=Se)}catch{N("Unable to read from LocalStorage")}},vt.prototype.saveEventData=function(){var I=J("localStorage"),G=this.getStorageKey(),ae=this.getStorageKey("uuid");if(I)try{i.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&i.localStorage.setItem(G,JSON.stringify(this.eventData))}catch{N("Unable to write to LocalStorage")}},vt.prototype.processRequests=function(I){},vt.prototype.postEvent=function(I,G,ae,ve){var Se=this;if(ie.EVENTS_URL){var De=We(ie.EVENTS_URL);De.params.push("access_token="+(ve||ie.ACCESS_TOKEN||""));var Qe={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:xe,userId:this.anonId},gt=G?w(Qe,G):Qe,Et={url:rt(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([gt])};this.pendingRequest=Bt(Et,function(Rt){Se.pendingRequest=null,ae(Rt),Se.saveEventData(),Se.processRequests(ve)})}},vt.prototype.queueRequest=function(I,G){this.queue.push(I),this.processRequests(G)};var At=function(D){function I(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(ae,ve,Se,De){this.skuToken=Se,(ie.EVENTS_URL&&De||ie.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Qe){return Be(Qe)||Xe(Qe)}))&&this.queueRequest({id:ve,timestamp:Date.now()},De)},I.prototype.processRequests=function(ae){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var Se=this.queue.shift(),De=Se.id,Qe=Se.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=E()),this.postEvent(Qe,{skuToken:this.skuToken},function(gt){gt||De&&(ve.success[De]=!0)},ae))}},I}(vt),et=function(D){function I(G){D.call(this,"appUserTurnstile"),this._customAccessToken=G}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(ae,ve){ie.EVENTS_URL&&ie.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Se){return Be(Se)||Xe(Se)})&&this.queueRequest(Date.now(),ve)},I.prototype.processRequests=function(ae){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Se=ht(ie.ACCESS_TOKEN),De=Se?Se.u:ie.ACCESS_TOKEN,Qe=De!==this.eventData.tokenU;s(this.anonId)||(this.anonId=E(),Qe=!0);var gt=this.queue.shift();if(this.eventData.lastSuccess){var Et=new Date(this.eventData.lastSuccess),Rt=new Date(gt),Wt=(gt-this.eventData.lastSuccess)/(24*60*60*1e3);Qe=Qe||Wt>=1||Wt<-1||Et.getDate()!==Rt.getDate()}else Qe=!0;if(!Qe)return this.processRequests();this.postEvent(gt,{"enabled.telemetry":!1},function(ar){ar||(ve.eventData.lastSuccess=gt,ve.eventData.tokenU=De)},ae)}},I}(vt),_e=new et,Ve=_e.postTurnstileEvent.bind(_e),Ze=new At,He=Ze.postMapLoadEvent.bind(Ze),Ie="mapbox-tiles",be=500,me=50,Me=1e3*60*7,Te;function Oe(){i.caches&&!Te&&(Te=i.caches.open(Ie))}var Ke;function nt(D,I){if(Ke===void 0)try{new Response(new ReadableStream),Ke=!0}catch{Ke=!1}Ke?I(D.body):D.blob().then(I)}function pt(D,I,G){if(Oe(),!!Te){var ae={status:I.status,statusText:I.statusText,headers:new i.Headers};I.headers.forEach(function(De,Qe){return ae.headers.set(Qe,De)});var ve=re(I.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&ae.headers.set("Expires",new Date(G+ve["max-age"]*1e3).toUTCString());var Se=new Date(ae.headers.get("Expires")).getTime()-G;Se<Me||nt(I,function(De){var Qe=new i.Response(De,ae);Oe(),Te&&Te.then(function(gt){return gt.put(yt(D.url),Qe)}).catch(function(gt){return N(gt.message)})})}}}function yt(D){var I=D.indexOf("?");return I<0?D:D.slice(0,I)}function Yt(D,I){if(Oe(),!Te)return I(null);var G=yt(D.url);Te.then(function(ae){ae.match(G).then(function(ve){var Se=Xt(ve);ae.delete(G),Se&&ae.put(G,ve.clone()),I(null,ve,Se)}).catch(I)}).catch(I)}function Xt(D){if(!D)return!1;var I=new Date(D.headers.get("Expires")||0),G=re(D.headers.get("Cache-Control")||"");return I>Date.now()&&!G["no-cache"]}var St=1/0;function kt(D){St++,St>me&&(D.getActor().send("enforceCacheSizeLimit",be),St=0)}function Kt(D){Oe(),Te&&Te.then(function(I){I.keys().then(function(G){for(var ae=0;ae<G.length-D;ae++)I.delete(G[ae])})})}function mr(D){var I=i.caches.delete(Ie);D&&I.catch(D).then(function(){return D()})}function mt(D,I){be=D,me=I}var Zt;function Qt(){return Zt==null&&(Zt=i.OffscreenCanvas&&new i.OffscreenCanvas(1,1).getContext("2d")&&typeof i.createImageBitmap=="function"),Zt}var yr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yr);var sr=function(D){function I(G,ae,ve){ae===401&&Xe(ve)&&(G+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,G),this.status=ae,this.url=ve,this.name=this.constructor.name,this.message=G}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),bt=$()?function(){return self.worker&&self.worker.referrer}:function(){return(i.location.protocol==="blob:"?i.parent:i).location.href},lt=function(D){return/^file:/.test(D)||/^file:/.test(bt())&&!/^\w+:/.test(D)};function Tt(D,I){var G=new i.AbortController,ae=new i.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:bt(),signal:G.signal}),ve=!1,Se=!1,De=ut(ae.url);D.type==="json"&&ae.headers.set("Accept","application/json");var Qe=function(Et,Rt,Wt){if(!Se){if(Et&&Et.message!=="SecurityError"&&N(Et),Rt&&Wt)return gt(Rt);var ar=Date.now();i.fetch(ae).then(function(er){if(er.ok){var xr=De?er.clone():null;return gt(er,xr,ar)}else return I(new sr(er.statusText,er.status,D.url))}).catch(function(er){er.code!==20&&I(new Error(er.message))})}},gt=function(Et,Rt,Wt){(D.type==="arrayBuffer"?Et.arrayBuffer():D.type==="json"?Et.json():Et.text()).then(function(ar){Se||(Rt&&Wt&&pt(ae,Rt,Wt),ve=!0,I(null,ar,Et.headers.get("Cache-Control"),Et.headers.get("Expires")))}).catch(function(ar){Se||I(new Error(ar.message))})};return De?Yt(ae,Qe):Qe(null,null),{cancel:function(){Se=!0,ve||G.abort()}}}function Ct(D,I){var G=new i.XMLHttpRequest;G.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(G.responseType="arraybuffer");for(var ae in D.headers)G.setRequestHeader(ae,D.headers[ae]);return D.type==="json"&&(G.responseType="text",G.setRequestHeader("Accept","application/json")),G.withCredentials=D.credentials==="include",G.onerror=function(){I(new Error(G.statusText))},G.onload=function(){if((G.status>=200&&G.status<300||G.status===0)&&G.response!==null){var ve=G.response;if(D.type==="json")try{ve=JSON.parse(G.response)}catch(Se){return I(Se)}I(null,ve,G.getResponseHeader("Cache-Control"),G.getResponseHeader("Expires"))}else I(new sr(G.statusText,G.status,D.url))},G.send(D.body),{cancel:function(){return G.abort()}}}var It=function(D,I){if(!lt(D.url)){if(i.fetch&&i.Request&&i.AbortController&&i.Request.prototype.hasOwnProperty("signal"))return Tt(D,I);if($()&&self.worker&&self.worker.actor){var G=!0;return self.worker.actor.send("getResource",D,I,void 0,G)}}return Ct(D,I)},Dt=function(D,I){return It(w(D,{type:"json"}),I)},Vt=function(D,I){return It(w(D,{type:"arrayBuffer"}),I)},Bt=function(D,I){return It(w(D,{method:"POST"}),I)};function $t(D){var I=i.document.createElement("a");return I.href=D,I.protocol===i.document.location.protocol&&I.host===i.document.location.host}var fr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function cr(D,I,G,ae){var ve=new i.Image,Se=i.URL;ve.onload=function(){I(null,ve),Se.revokeObjectURL(ve.src),ve.onload=null,i.requestAnimationFrame(function(){ve.src=fr})},ve.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var De=new i.Blob([new Uint8Array(D)],{type:"image/png"});ve.cacheControl=G,ve.expires=ae,ve.src=D.byteLength?Se.createObjectURL(De):fr}function dr(D,I){var G=new i.Blob([new Uint8Array(D)],{type:"image/png"});i.createImageBitmap(G).then(function(ae){I(null,ae)}).catch(function(ae){I(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ye,je,zt=function(){Ye=[],je=0};zt();var Ft=function(D,I){if(ce.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),je>=ie.MAX_PARALLEL_IMAGE_REQUESTS){var G={requestParameters:D,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ye.push(G),G}je++;var ae=!1,ve=function(){if(!ae)for(ae=!0,je--;Ye.length&&je<ie.MAX_PARALLEL_IMAGE_REQUESTS;){var De=Ye.shift(),Qe=De.requestParameters,gt=De.callback,Et=De.cancelled;Et||(De.cancel=Ft(Qe,gt).cancel)}},Se=Vt(D,function(De,Qe,gt,Et){ve(),De?I(De):Qe&&(Qt()?dr(Qe,I):cr(Qe,I,gt,Et))});return{cancel:function(){Se.cancel(),ve()}}},Jt=function(D,I){var G=i.document.createElement("video");G.muted=!0,G.onloadstart=function(){I(null,G)};for(var ae=0;ae<D.length;ae++){var ve=i.document.createElement("source");$t(D[ae])||(G.crossOrigin="Anonymous"),ve.src=D[ae],G.appendChild(ve)}return{cancel:function(){}}};function tr(D,I,G){var ae=G[D]&&G[D].indexOf(I)!==-1;ae||(G[D]=G[D]||[],G[D].push(I))}function ur(D,I,G){if(G&&G[D]){var ae=G[D].indexOf(I);ae!==-1&&G[D].splice(ae,1)}}var nr=function(I,G){G===void 0&&(G={}),w(this,G),this.type=I},Nt=function(D){function I(G,ae){ae===void 0&&(ae={}),D.call(this,"error",w({error:G},ae))}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(nr),hr=function(){};hr.prototype.on=function(I,G){return this._listeners=this._listeners||{},tr(I,G,this._listeners),this},hr.prototype.off=function(I,G){return ur(I,G,this._listeners),ur(I,G,this._oneTimeListeners),this},hr.prototype.once=function(I,G){return this._oneTimeListeners=this._oneTimeListeners||{},tr(I,G,this._oneTimeListeners),this},hr.prototype.fire=function(I,G){typeof I=="string"&&(I=new nr(I,G||{}));var ae=I.type;if(this.listens(ae)){I.target=this;for(var ve=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],Se=0,De=ve;Se<De.length;Se+=1){var Qe=De[Se];Qe.call(this,I)}for(var gt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],Et=0,Rt=gt;Et<Rt.length;Et+=1){var Wt=Rt[Et];ur(ae,Wt,this._oneTimeListeners),Wt.call(this,I)}var ar=this._eventedParent;ar&&(w(I,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ar.fire(I))}else I instanceof Nt&&console.error(I.error);return this},hr.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},hr.prototype.setEventedParent=function(I,G){return this._eventedParent=I,this._eventedParentData=G,this};var gr=8,br={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},vr={"*":{type:"source"}},Gr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Dr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},_r={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},hn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},nn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Pn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Cn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Ar={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Pr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Wr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Vr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},on={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},yn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},mn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ln={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},aa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ha={type:"array",value:"*"},pa={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ua={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},na={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Tr={type:"array",value:"*",minimum:1},an={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},qr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],pn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},jn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},An={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Sn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Un={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},$n={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ya={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},_a={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Er={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},zr={"*":{type:"string"}},Sr={$version:gr,$root:br,sources:vr,source:Gr,source_vector:Dr,source_raster:_r,source_raster_dem:hn,source_geojson:nn,source_video:Pn,source_image:Cn,layer:Ar,layout:Pr,layout_background:Wr,layout_fill:Vr,layout_circle:on,layout_heatmap:yn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:mn,layout_symbol:Ln,layout_raster:zn,layout_hillshade:aa,filter:ha,filter_operator:pa,geometry_type:ua,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:na,expression:Tr,light:an,paint:qr,paint_fill:pn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:jn,paint_circle:An,paint_heatmap:Sn,paint_symbol:Un,paint_raster:$n,paint_hillshade:ya,paint_background:_a,transition:Er,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:zr},Nr=function(I,G,ae,ve){this.message=(I?I+": ":"")+ae,ve&&(this.identifier=ve),G!=null&&G.__line__&&(this.line=G.__line__)};function wn(D){var I=D.key,G=D.value;return G?[new Nr(I,G,"constants have been deprecated as of v8")]:[]}function kn(D){for(var I=[],G=arguments.length-1;G-- >0;)I[G]=arguments[G+1];for(var ae=0,ve=I;ae<ve.length;ae+=1){var Se=ve[ae];for(var De in Se)D[De]=Se[De]}return D}function vn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function ln(D){if(Array.isArray(D))return D.map(ln);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var I={};for(var G in D)I[G]=ln(D[G]);return I}return vn(D)}var Cr=function(D){function I(G,ae){D.call(this,ae),this.message=ae,this.key=G}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Error),Zr=function(I,G){G===void 0&&(G=[]),this.parent=I,this.bindings={};for(var ae=0,ve=G;ae<ve.length;ae+=1){var Se=ve[ae],De=Se[0],Qe=Se[1];this.bindings[De]=Qe}};Zr.prototype.concat=function(I){return new Zr(this,I)},Zr.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},Zr.prototype.has=function(I){return this.bindings[I]?!0:this.parent?this.parent.has(I):!1};var Hr={kind:"null"},Qr={kind:"number"},Tn={kind:"string"},Rn={kind:"boolean"},Dn={kind:"color"},Vn={kind:"object"},Nn={kind:"value"},ma={kind:"error"},oa={kind:"collator"},ga={kind:"formatted"},Pa={kind:"resolvedImage"};function pi(D,I){return{kind:"array",itemType:D,N:I}}function ri(D){if(D.kind==="array"){var I=ri(D.itemType);return typeof D.N=="number"?"array<"+I+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+I+">"}else return D.kind}var Vo=[Hr,Qr,Tn,Rn,Dn,ga,Vn,pi(Nn),Pa];function ko(D,I){if(I.kind==="error")return null;if(D.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!ko(D.itemType,I.itemType))&&(typeof D.N!="number"||D.N===I.N))return null}else{if(D.kind===I.kind)return null;if(D.kind==="value")for(var G=0,ae=Vo;G<ae.length;G+=1){var ve=ae[G];if(!ko(ve,I))return null}}return"Expected "+ri(D)+" but found "+ri(I)+" instead."}function ao(D,I){return I.some(function(G){return G.kind===D.kind})}function zl(D,I){return I.some(function(G){return G==="null"?D===null:G==="array"?Array.isArray(D):G==="object"?D&&!Array.isArray(D)&&typeof D=="object":G===typeof D})}var Lf=x(function(D,I){var G={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(Et){return Et=Math.round(Et),Et<0?0:Et>255?255:Et}function ve(Et){return Et<0?0:Et>1?1:Et}function Se(Et){return Et[Et.length-1]==="%"?ae(parseFloat(Et)/100*255):ae(parseInt(Et))}function De(Et){return Et[Et.length-1]==="%"?ve(parseFloat(Et)/100):ve(parseFloat(Et))}function Qe(Et,Rt,Wt){return Wt<0?Wt+=1:Wt>1&&(Wt-=1),Wt*6<1?Et+(Rt-Et)*Wt*6:Wt*2<1?Rt:Wt*3<2?Et+(Rt-Et)*(2/3-Wt)*6:Et}function gt(Et){var Rt=Et.replace(/ /g,"").toLowerCase();if(Rt in G)return G[Rt].slice();if(Rt[0]==="#"){if(Rt.length===4){var Wt=parseInt(Rt.substr(1),16);return Wt>=0&&Wt<=4095?[(Wt&3840)>>4|(Wt&3840)>>8,Wt&240|(Wt&240)>>4,Wt&15|(Wt&15)<<4,1]:null}else if(Rt.length===7){var Wt=parseInt(Rt.substr(1),16);return Wt>=0&&Wt<=16777215?[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255,1]:null}return null}var ar=Rt.indexOf("("),er=Rt.indexOf(")");if(ar!==-1&&er+1===Rt.length){var xr=Rt.substr(0,ar),Or=Rt.substr(ar+1,er-(ar+1)).split(","),un=1;switch(xr){case"rgba":if(Or.length!==4)return null;un=De(Or.pop());case"rgb":return Or.length!==3?null:[Se(Or[0]),Se(Or[1]),Se(Or[2]),un];case"hsla":if(Or.length!==4)return null;un=De(Or.pop());case"hsl":if(Or.length!==3)return null;var tn=(parseFloat(Or[0])%360+360)%360/360,En=De(Or[1]),xn=De(Or[2]),Mn=xn<=.5?xn*(En+1):xn+En-xn*En,On=xn*2-Mn;return[ae(Qe(On,Mn,tn+1/3)*255),ae(Qe(On,Mn,tn)*255),ae(Qe(On,Mn,tn-1/3)*255),un];default:return null}}return null}try{I.parseCSSColor=gt}catch{}}),pc=Lf.parseCSSColor,qa=function(I,G,ae,ve){ve===void 0&&(ve=1),this.r=I,this.g=G,this.b=ae,this.a=ve};qa.parse=function(I){if(I){if(I instanceof qa)return I;if(typeof I=="string"){var G=pc(I);if(G)return new qa(G[0]/255*G[3],G[1]/255*G[3],G[2]/255*G[3],G[3])}}},qa.prototype.toString=function(){var I=this.toArray(),G=I[0],ae=I[1],ve=I[2],Se=I[3];return"rgba("+Math.round(G)+","+Math.round(ae)+","+Math.round(ve)+","+Se+")"},qa.prototype.toArray=function(){var I=this,G=I.r,ae=I.g,ve=I.b,Se=I.a;return Se===0?[0,0,0,0]:[G*255/Se,ae*255/Se,ve*255/Se,Se]},qa.black=new qa(0,0,0,1),qa.white=new qa(1,1,1,1),qa.transparent=new qa(0,0,0,0),qa.red=new qa(1,0,0,1);var mu=function(I,G,ae){I?this.sensitivity=G?"variant":"case":this.sensitivity=G?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};mu.prototype.compare=function(I,G){return this.collator.compare(I,G)},mu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Pf=function(I,G,ae,ve,Se){this.text=I,this.image=G,this.scale=ae,this.fontStack=ve,this.textColor=Se},Qi=function(I){this.sections=I};Qi.fromString=function(I){return new Qi([new Pf(I,null,null,null,null)])},Qi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(I){return I.text.length!==0||I.image&&I.image.name.length!==0})},Qi.factory=function(I){return I instanceof Qi?I:Qi.fromString(I)},Qi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(I){return I.text}).join("")},Qi.prototype.serialize=function(){for(var I=["format"],G=0,ae=this.sections;G<ae.length;G+=1){var ve=ae[G];if(ve.image){I.push(["image",ve.image.name]);continue}I.push(ve.text);var Se={};ve.fontStack&&(Se["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(Se["font-scale"]=ve.scale),ve.textColor&&(Se["text-color"]=["rgba"].concat(ve.textColor.toArray())),I.push(Se)}return I};var Mo=function(I){this.name=I.name,this.available=I.available};Mo.prototype.toString=function(){return this.name},Mo.fromString=function(I){return I?new Mo({name:I,available:!1}):null},Mo.prototype.serialize=function(){return["image",this.name]};function Nl(D,I,G,ae){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof G=="number"&&G>=0&&G<=255)){var ve=typeof ae=="number"?[D,I,G,ae]:[D,I,G];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[D,I,G,ae].join(", ")+"]: 'a' must be between 0 and 1."}function ef(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof qa)return!0;if(D instanceof mu)return!0;if(D instanceof Qi)return!0;if(D instanceof Mo)return!0;if(Array.isArray(D)){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(!ef(ae))return!1}return!0}else if(typeof D=="object"){for(var ve in D)if(!ef(D[ve]))return!1;return!0}else return!1}function _i(D){if(D===null)return Hr;if(typeof D=="string")return Tn;if(typeof D=="boolean")return Rn;if(typeof D=="number")return Qr;if(D instanceof qa)return Dn;if(D instanceof mu)return oa;if(D instanceof Qi)return ga;if(D instanceof Mo)return Pa;if(Array.isArray(D)){for(var I=D.length,G,ae=0,ve=D;ae<ve.length;ae+=1){var Se=ve[ae],De=_i(Se);if(!G)G=De;else{if(G===De)continue;G=Nn;break}}return pi(G||Nn,I)}else return Vn}function Bl(D){var I=typeof D;return D===null?"":I==="string"||I==="number"||I==="boolean"?String(D):D instanceof qa||D instanceof Qi||D instanceof Mo?D.toString():JSON.stringify(D)}var zi=function(I,G){this.type=I,this.value=G};zi.parse=function(I,G){if(I.length!==2)return G.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!ef(I[1]))return G.error("invalid value");var ae=I[1],ve=_i(ae),Se=G.expectedType;return ve.kind==="array"&&ve.N===0&&Se&&Se.kind==="array"&&(typeof Se.N!="number"||Se.N===0)&&(ve=Se),new zi(ve,ae)},zi.prototype.evaluate=function(){return this.value},zi.prototype.eachChild=function(){},zi.prototype.outputDefined=function(){return!0},zi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof qa?["rgba"].concat(this.value.toArray()):this.value instanceof Qi?this.value.serialize():this.value};var Gi=function(I){this.name="ExpressionEvaluationError",this.message=I};Gi.prototype.toJSON=function(){return this.message};var Ul={string:Tn,number:Qr,boolean:Rn,object:Vn},io=function(I,G){this.type=I,this.args=G};io.parse=function(I,G){if(I.length<2)return G.error("Expected at least one argument.");var ae=1,ve,Se=I[0];if(Se==="array"){var De;if(I.length>2){var Qe=I[1];if(typeof Qe!="string"||!(Qe in Ul)||Qe==="object")return G.error('The item type argument of "array" must be one of string, number, boolean',1);De=Ul[Qe],ae++}else De=Nn;var gt;if(I.length>3){if(I[2]!==null&&(typeof I[2]!="number"||I[2]<0||I[2]!==Math.floor(I[2])))return G.error('The length argument to "array" must be a positive integer literal',2);gt=I[2],ae++}ve=pi(De,gt)}else ve=Ul[Se];for(var Et=[];ae<I.length;ae++){var Rt=G.parse(I[ae],ae,Nn);if(!Rt)return null;Et.push(Rt)}return new io(ve,Et)},io.prototype.evaluate=function(I){for(var G=0;G<this.args.length;G++){var ae=this.args[G].evaluate(I),ve=ko(this.type,_i(ae));if(ve){if(G===this.args.length-1)throw new Gi("Expected value to be of type "+ri(this.type)+", but found "+ri(_i(ae))+" instead.")}else return ae}return null},io.prototype.eachChild=function(I){this.args.forEach(I)},io.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},io.prototype.serialize=function(){var I=this.type,G=[I.kind];if(I.kind==="array"){var ae=I.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){G.push(ae.kind);var ve=I.N;(typeof ve=="number"||this.args.length>1)&&G.push(ve)}}return G.concat(this.args.map(function(Se){return Se.serialize()}))};var oo=function(I){this.type=ga,this.sections=I};oo.parse=function(I,G){if(I.length<2)return G.error("Expected at least one argument.");var ae=I[1];if(!Array.isArray(ae)&&typeof ae=="object")return G.error("First argument must be an image or text section.");for(var ve=[],Se=!1,De=1;De<=I.length-1;++De){var Qe=I[De];if(Se&&typeof Qe=="object"&&!Array.isArray(Qe)){Se=!1;var gt=null;if(Qe["font-scale"]&&(gt=G.parse(Qe["font-scale"],1,Qr),!gt))return null;var Et=null;if(Qe["text-font"]&&(Et=G.parse(Qe["text-font"],1,pi(Tn)),!Et))return null;var Rt=null;if(Qe["text-color"]&&(Rt=G.parse(Qe["text-color"],1,Dn),!Rt))return null;var Wt=ve[ve.length-1];Wt.scale=gt,Wt.font=Et,Wt.textColor=Rt}else{var ar=G.parse(I[De],1,Nn);if(!ar)return null;var er=ar.type.kind;if(er!=="string"&&er!=="value"&&er!=="null"&&er!=="resolvedImage")return G.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,ve.push({content:ar,scale:null,font:null,textColor:null})}}return new oo(ve)},oo.prototype.evaluate=function(I){var G=function(ae){var ve=ae.content.evaluate(I);return _i(ve)===Pa?new Pf("",ve,null,null,null):new Pf(Bl(ve),null,ae.scale?ae.scale.evaluate(I):null,ae.font?ae.font.evaluate(I).join(","):null,ae.textColor?ae.textColor.evaluate(I):null)};return new Qi(this.sections.map(G))},oo.prototype.eachChild=function(I){for(var G=0,ae=this.sections;G<ae.length;G+=1){var ve=ae[G];I(ve.content),ve.scale&&I(ve.scale),ve.font&&I(ve.font),ve.textColor&&I(ve.textColor)}},oo.prototype.outputDefined=function(){return!1},oo.prototype.serialize=function(){for(var I=["format"],G=0,ae=this.sections;G<ae.length;G+=1){var ve=ae[G];I.push(ve.content.serialize());var Se={};ve.scale&&(Se["font-scale"]=ve.scale.serialize()),ve.font&&(Se["text-font"]=ve.font.serialize()),ve.textColor&&(Se["text-color"]=ve.textColor.serialize()),I.push(Se)}return I};var Ho=function(I){this.type=Pa,this.input=I};Ho.parse=function(I,G){if(I.length!==2)return G.error("Expected two arguments.");var ae=G.parse(I[1],1,Tn);return ae?new Ho(ae):G.error("No image name provided.")},Ho.prototype.evaluate=function(I){var G=this.input.evaluate(I),ae=Mo.fromString(G);return ae&&I.availableImages&&(ae.available=I.availableImages.indexOf(G)>-1),ae},Ho.prototype.eachChild=function(I){I(this.input)},Ho.prototype.outputDefined=function(){return!1},Ho.prototype.serialize=function(){return["image",this.input.serialize()]};var gc={"to-boolean":Rn,"to-color":Dn,"to-number":Qr,"to-string":Tn},Fo=function(I,G){this.type=I,this.args=G};Fo.parse=function(I,G){if(I.length<2)return G.error("Expected at least one argument.");var ae=I[0];if((ae==="to-boolean"||ae==="to-string")&&I.length!==2)return G.error("Expected one argument.");for(var ve=gc[ae],Se=[],De=1;De<I.length;De++){var Qe=G.parse(I[De],De,Nn);if(!Qe)return null;Se.push(Qe)}return new Fo(ve,Se)},Fo.prototype.evaluate=function(I){if(this.type.kind==="boolean")return!!this.args[0].evaluate(I);if(this.type.kind==="color"){for(var G,ae,ve=0,Se=this.args;ve<Se.length;ve+=1){var De=Se[ve];if(G=De.evaluate(I),ae=null,G instanceof qa)return G;if(typeof G=="string"){var Qe=I.parseColor(G);if(Qe)return Qe}else if(Array.isArray(G)&&(G.length<3||G.length>4?ae="Invalid rbga value "+JSON.stringify(G)+": expected an array containing either three or four numeric values.":ae=Nl(G[0],G[1],G[2],G[3]),!ae))return new qa(G[0]/255,G[1]/255,G[2]/255,G[3])}throw new Gi(ae||"Could not parse color from value '"+(typeof G=="string"?G:String(JSON.stringify(G)))+"'")}else if(this.type.kind==="number"){for(var gt=null,Et=0,Rt=this.args;Et<Rt.length;Et+=1){var Wt=Rt[Et];if(gt=Wt.evaluate(I),gt===null)return 0;var ar=Number(gt);if(!isNaN(ar))return ar}throw new Gi("Could not convert "+JSON.stringify(gt)+" to number.")}else return this.type.kind==="formatted"?Qi.fromString(Bl(this.args[0].evaluate(I))):this.type.kind==="resolvedImage"?Mo.fromString(Bl(this.args[0].evaluate(I))):Bl(this.args[0].evaluate(I))},Fo.prototype.eachChild=function(I){this.args.forEach(I)},Fo.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Fo.prototype.serialize=function(){if(this.type.kind==="formatted")return new oo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Ho(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(G){I.push(G.serialize())}),I};var Ch=["Unknown","Point","LineString","Polygon"],ms=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ms.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ms.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ch[this.feature.type]:this.feature.type:null},ms.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ms.prototype.canonicalID=function(){return this.canonical},ms.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ms.prototype.parseColor=function(I){var G=this._parseColorCache[I];return G||(G=this._parseColorCache[I]=qa.parse(I)),G};var qi=function(I,G,ae,ve){this.name=I,this.type=G,this._evaluate=ae,this.args=ve};qi.prototype.evaluate=function(I){return this._evaluate(I,this.args)},qi.prototype.eachChild=function(I){this.args.forEach(I)},qi.prototype.outputDefined=function(){return!1},qi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},qi.parse=function(I,G){var ae,ve=I[0],Se=qi.definitions[ve];if(!Se)return G.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Se)?Se[0]:Se.type,Qe=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,gt=Qe.filter(function(Aa){var Ca=Aa[0];return!Array.isArray(Ca)||Ca.length===I.length-1}),Et=null,Rt=0,Wt=gt;Rt<Wt.length;Rt+=1){var ar=Wt[Rt],er=ar[0],xr=ar[1];Et=new bs(G.registry,G.path,null,G.scope);for(var Or=[],un=!1,tn=1;tn<I.length;tn++){var En=I[tn],xn=Array.isArray(er)?er[tn-1]:er.type,Mn=Et.parse(En,1+Or.length,xn);if(!Mn){un=!0;break}Or.push(Mn)}if(!un){if(Array.isArray(er)&&er.length!==Or.length){Et.error("Expected "+er.length+" arguments, but found "+Or.length+" instead.");continue}for(var On=0;On<Or.length;On++){var Wn=Array.isArray(er)?er[On]:er.type,ra=Or[On];Et.concat(On+1).checkSubtype(Wn,ra.type)}if(Et.errors.length===0)return new qi(ve,De,xr,Or)}}if(gt.length===1)(ae=G.errors).push.apply(ae,Et.errors);else{for(var qn=gt.length?gt:Qe,Ta=qn.map(function(Aa){var Ca=Aa[0];return Rf(Ca)}).join(" | "),da=[],wa=1;wa<I.length;wa++){var Ua=G.parse(I[wa],1+da.length);if(!Ua)return null;da.push(ri(Ua.type))}G.error("Expected arguments of type "+Ta+", but found ("+da.join(", ")+") instead.")}return null},qi.register=function(I,G){qi.definitions=G;for(var ae in G)I[ae]=qi};function Rf(D){return Array.isArray(D)?"("+D.map(ri).join(", ")+")":"("+ri(D.type)+"...)"}var Zs=function(I,G,ae){this.type=oa,this.locale=ae,this.caseSensitive=I,this.diacriticSensitive=G};Zs.parse=function(I,G){if(I.length!==2)return G.error("Expected one argument.");var ae=I[1];if(typeof ae!="object"||Array.isArray(ae))return G.error("Collator options argument must be an object.");var ve=G.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,Rn);if(!ve)return null;var Se=G.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,Rn);if(!Se)return null;var De=null;return ae.locale&&(De=G.parse(ae.locale,1,Tn),!De)?null:new Zs(ve,Se,De)},Zs.prototype.evaluate=function(I){return new mu(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},Zs.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},Zs.prototype.outputDefined=function(){return!1},Zs.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var xs=8192;function Df(D,I){D[0]=Math.min(D[0],I[0]),D[1]=Math.min(D[1],I[1]),D[2]=Math.max(D[2],I[0]),D[3]=Math.max(D[3],I[1])}function yc(D){return(180+D)/360}function Lh(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function tf(D,I){return!(D[0]<=I[0]||D[2]>=I[2]||D[1]<=I[1]||D[3]>=I[3])}function Ph(D,I){var G=yc(D[0]),ae=Lh(D[1]),ve=Math.pow(2,I.z);return[Math.round(G*ve*xs),Math.round(ae*ve*xs)]}function Rh(D,I,G){var ae=D[0]-I[0],ve=D[1]-I[1],Se=D[0]-G[0],De=D[1]-G[1];return ae*De-Se*ve===0&&ae*Se<=0&&ve*De<=0}function Dh(D,I,G){return I[1]>D[1]!=G[1]>D[1]&&D[0]<(G[0]-I[0])*(D[1]-I[1])/(G[1]-I[1])+I[0]}function If(D,I){for(var G=!1,ae=0,ve=I.length;ae<ve;ae++)for(var Se=I[ae],De=0,Qe=Se.length;De<Qe-1;De++){if(Rh(D,Se[De],Se[De+1]))return!1;Dh(D,Se[De],Se[De+1])&&(G=!G)}return G}function Ih(D,I){for(var G=0;G<I.length;G++)if(If(D,I[G]))return!0;return!1}function _h(D,I){return D[0]*I[1]-D[1]*I[0]}function mc(D,I,G,ae){var ve=D[0]-G[0],Se=D[1]-G[1],De=I[0]-G[0],Qe=I[1]-G[1],gt=ae[0]-G[0],Et=ae[1]-G[1],Rt=ve*Et-gt*Se,Wt=De*Et-gt*Qe;return Rt>0&&Wt<0||Rt<0&&Wt>0}function xc(D,I,G,ae){var ve=[I[0]-D[0],I[1]-D[1]],Se=[ae[0]-G[0],ae[1]-G[1]];return _h(Se,ve)===0?!1:!!(mc(D,I,G,ae)&&mc(G,ae,D,I))}function pl(D,I,G){for(var ae=0,ve=G;ae<ve.length;ae+=1)for(var Se=ve[ae],De=0;De<Se.length-1;++De)if(xc(D,I,Se[De],Se[De+1]))return!0;return!1}function Vl(D,I){for(var G=0;G<D.length;++G)if(!If(D[G],I))return!1;for(var ae=0;ae<D.length-1;++ae)if(pl(D[ae],D[ae+1],I))return!1;return!0}function xu(D,I){for(var G=0;G<I.length;G++)if(Vl(D,I[G]))return!0;return!1}function bu(D,I,G){for(var ae=[],ve=0;ve<D.length;ve++){for(var Se=[],De=0;De<D[ve].length;De++){var Qe=Ph(D[ve][De],G);Df(I,Qe),Se.push(Qe)}ae.push(Se)}return ae}function bc(D,I,G){for(var ae=[],ve=0;ve<D.length;ve++){var Se=bu(D[ve],I,G);ae.push(Se)}return ae}function ks(D,I,G,ae){if(D[0]<G[0]||D[0]>G[2]){var ve=ae*.5,Se=D[0]-G[0]>ve?-ae:G[0]-D[0]>ve?ae:0;Se===0&&(Se=D[0]-G[2]>ve?-ae:G[2]-D[0]>ve?ae:0),D[0]+=Se}Df(I,D)}function kh(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function rf(D,I,G,ae){for(var ve=Math.pow(2,ae.z)*xs,Se=[ae.x*xs,ae.y*xs],De=[],Qe=0,gt=D;Qe<gt.length;Qe+=1)for(var Et=gt[Qe],Rt=0,Wt=Et;Rt<Wt.length;Rt+=1){var ar=Wt[Rt],er=[ar.x+Se[0],ar.y+Se[1]];ks(er,I,G,ve),De.push(er)}return De}function wc(D,I,G,ae){for(var ve=Math.pow(2,ae.z)*xs,Se=[ae.x*xs,ae.y*xs],De=[],Qe=0,gt=D;Qe<gt.length;Qe+=1){for(var Et=gt[Qe],Rt=[],Wt=0,ar=Et;Wt<ar.length;Wt+=1){var er=ar[Wt],xr=[er.x+Se[0],er.y+Se[1]];Df(I,xr),Rt.push(xr)}De.push(Rt)}if(I[2]-I[0]<=ve/2){kh(I);for(var Or=0,un=De;Or<un.length;Or+=1)for(var tn=un[Or],En=0,xn=tn;En<xn.length;En+=1){var Mn=xn[En];ks(Mn,I,G,ve)}}return De}function Tc(D,I){var G=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ve=D.canonicalID();if(I.type==="Polygon"){var Se=bu(I.coordinates,ae,ve),De=rf(D.geometry(),G,ae,ve);if(!tf(G,ae))return!1;for(var Qe=0,gt=De;Qe<gt.length;Qe+=1){var Et=gt[Qe];if(!If(Et,Se))return!1}}if(I.type==="MultiPolygon"){var Rt=bc(I.coordinates,ae,ve),Wt=rf(D.geometry(),G,ae,ve);if(!tf(G,ae))return!1;for(var ar=0,er=Wt;ar<er.length;ar+=1){var xr=er[ar];if(!Ih(xr,Rt))return!1}}return!0}function nf(D,I){var G=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ve=D.canonicalID();if(I.type==="Polygon"){var Se=bu(I.coordinates,ae,ve),De=wc(D.geometry(),G,ae,ve);if(!tf(G,ae))return!1;for(var Qe=0,gt=De;Qe<gt.length;Qe+=1){var Et=gt[Qe];if(!Vl(Et,Se))return!1}}if(I.type==="MultiPolygon"){var Rt=bc(I.coordinates,ae,ve),Wt=wc(D.geometry(),G,ae,ve);if(!tf(G,ae))return!1;for(var ar=0,er=Wt;ar<er.length;ar+=1){var xr=er[ar];if(!xu(xr,Rt))return!1}}return!0}var ts=function(I,G){this.type=Rn,this.geojson=I,this.geometries=G};ts.parse=function(I,G){if(I.length!==2)return G.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(ef(I[1])){var ae=I[1];if(ae.type==="FeatureCollection")for(var ve=0;ve<ae.features.length;++ve){var Se=ae.features[ve].geometry.type;if(Se==="Polygon"||Se==="MultiPolygon")return new ts(ae,ae.features[ve].geometry)}else if(ae.type==="Feature"){var De=ae.geometry.type;if(De==="Polygon"||De==="MultiPolygon")return new ts(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new ts(ae,ae)}return G.error("'within' expression requires valid geojson object that contains polygon geometry type.")},ts.prototype.evaluate=function(I){if(I.geometry()!=null&&I.canonicalID()!=null){if(I.geometryType()==="Point")return Tc(I,this.geometries);if(I.geometryType()==="LineString")return nf(I,this.geometries)}return!1},ts.prototype.eachChild=function(){},ts.prototype.outputDefined=function(){return!0},ts.prototype.serialize=function(){return["within",this.geojson]};function Hl(D){if(D instanceof qi){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof ts)return!1;var I=!0;return D.eachChild(function(G){I&&!Hl(G)&&(I=!1)}),I}function yl(D){if(D instanceof qi&&D.name==="feature-state")return!1;var I=!0;return D.eachChild(function(G){I&&!yl(G)&&(I=!1)}),I}function wu(D,I){if(D instanceof qi&&I.indexOf(D.name)>=0)return!1;var G=!0;return D.eachChild(function(ae){G&&!wu(ae,I)&&(G=!1)}),G}var Ks=function(I,G){this.type=G.type,this.name=I,this.boundExpression=G};Ks.parse=function(I,G){if(I.length!==2||typeof I[1]!="string")return G.error("'var' expression requires exactly one string literal argument.");var ae=I[1];return G.scope.has(ae)?new Ks(ae,G.scope.get(ae)):G.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},Ks.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},Ks.prototype.eachChild=function(){},Ks.prototype.outputDefined=function(){return!1},Ks.prototype.serialize=function(){return["var",this.name]};var bs=function(I,G,ae,ve,Se){G===void 0&&(G=[]),ve===void 0&&(ve=new Zr),Se===void 0&&(Se=[]),this.registry=I,this.path=G,this.key=G.map(function(De){return"["+De+"]"}).join(""),this.scope=ve,this.errors=Se,this.expectedType=ae};bs.prototype.parse=function(I,G,ae,ve,Se){return Se===void 0&&(Se={}),G?this.concat(G,ae,ve)._parse(I,Se):this._parse(I,Se)},bs.prototype._parse=function(I,G){(I===null||typeof I=="string"||typeof I=="boolean"||typeof I=="number")&&(I=["literal",I]);function ae(Rt,Wt,ar){return ar==="assert"?new io(Wt,[Rt]):ar==="coerce"?new Fo(Wt,[Rt]):Rt}if(Array.isArray(I)){if(I.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=I[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[ve];if(Se){var De=Se.parse(I,this);if(!De)return null;if(this.expectedType){var Qe=this.expectedType,gt=De.type;if((Qe.kind==="string"||Qe.kind==="number"||Qe.kind==="boolean"||Qe.kind==="object"||Qe.kind==="array")&&gt.kind==="value")De=ae(De,Qe,G.typeAnnotation||"assert");else if((Qe.kind==="color"||Qe.kind==="formatted"||Qe.kind==="resolvedImage")&&(gt.kind==="value"||gt.kind==="string"))De=ae(De,Qe,G.typeAnnotation||"coerce");else if(this.checkSubtype(Qe,gt))return null}if(!(De instanceof zi)&&De.type.kind!=="resolvedImage"&&_f(De)){var Et=new ms;try{De=new zi(De.type,De.evaluate(Et))}catch(Rt){return this.error(Rt.message),null}}return De}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof I>"u"?this.error("'undefined' value invalid. Use null instead."):typeof I=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof I+" instead.")},bs.prototype.concat=function(I,G,ae){var ve=typeof I=="number"?this.path.concat(I):this.path,Se=ae?this.scope.concat(ae):this.scope;return new bs(this.registry,ve,G||null,Se,this.errors)},bs.prototype.error=function(I){for(var G=[],ae=arguments.length-1;ae-- >0;)G[ae]=arguments[ae+1];var ve=""+this.key+G.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new Cr(ve,I))},bs.prototype.checkSubtype=function(I,G){var ae=ko(I,G);return ae&&this.error(ae),ae};function _f(D){if(D instanceof Ks)return _f(D.boundExpression);if(D instanceof qi&&D.name==="error")return!1;if(D instanceof Zs)return!1;if(D instanceof ts)return!1;var I=D instanceof Fo||D instanceof io,G=!0;return D.eachChild(function(ae){I?G=G&&_f(ae):G=G&&ae instanceof zi}),G?Hl(D)&&wu(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function jl(D,I){for(var G=D.length-1,ae=0,ve=G,Se=0,De,Qe;ae<=ve;)if(Se=Math.floor((ae+ve)/2),De=D[Se],Qe=D[Se+1],De<=I){if(Se===G||I<Qe)return Se;ae=Se+1}else if(De>I)ve=Se-1;else throw new Gi("Input is not a number.");return 0}var rs=function(I,G,ae){this.type=I,this.input=G,this.labels=[],this.outputs=[];for(var ve=0,Se=ae;ve<Se.length;ve+=1){var De=Se[ve],Qe=De[0],gt=De[1];this.labels.push(Qe),this.outputs.push(gt)}};rs.parse=function(I,G){if(I.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return G.error("Expected an even number of arguments.");var ae=G.parse(I[1],1,Qr);if(!ae)return null;var ve=[],Se=null;G.expectedType&&G.expectedType.kind!=="value"&&(Se=G.expectedType);for(var De=1;De<I.length;De+=2){var Qe=De===1?-1/0:I[De],gt=I[De+1],Et=De,Rt=De+1;if(typeof Qe!="number")return G.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Et);if(ve.length&&ve[ve.length-1][0]>=Qe)return G.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Et);var Wt=G.parse(gt,Rt,Se);if(!Wt)return null;Se=Se||Wt.type,ve.push([Qe,Wt])}return new rs(Se,ae,ve)},rs.prototype.evaluate=function(I){var G=this.labels,ae=this.outputs;if(G.length===1)return ae[0].evaluate(I);var ve=this.input.evaluate(I);if(ve<=G[0])return ae[0].evaluate(I);var Se=G.length;if(ve>=G[Se-1])return ae[Se-1].evaluate(I);var De=jl(G,ve);return ae[De].evaluate(I)},rs.prototype.eachChild=function(I){I(this.input);for(var G=0,ae=this.outputs;G<ae.length;G+=1){var ve=ae[G];I(ve)}},rs.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},rs.prototype.serialize=function(){for(var I=["step",this.input.serialize()],G=0;G<this.labels.length;G++)G>0&&I.push(this.labels[G]),I.push(this.outputs[G].serialize());return I};function Pi(D,I,G){return D*(1-G)+I*G}function kf(D,I,G){return new qa(Pi(D.r,I.r,G),Pi(D.g,I.g,G),Pi(D.b,I.b,G),Pi(D.a,I.a,G))}function Fh(D,I,G){return D.map(function(ae,ve){return Pi(ae,I[ve],G)})}var af=Object.freeze({__proto__:null,number:Pi,color:kf,array:Fh}),Gl=.95047,Wl=1,Oo=1.08883,of=4/29,Yl=6/29,sf=3*Yl*Yl,Oh=Yl*Yl*Yl,Ac=Math.PI/180,Ff=180/Math.PI;function Of(D){return D>Oh?Math.pow(D,.3333333333333333):D/sf+of}function zf(D){return D>Yl?D*D*D:sf*(D-of)}function Xl(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function lf(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function Tu(D){var I=lf(D.r),G=lf(D.g),ae=lf(D.b),ve=Of((.4124564*I+.3575761*G+.1804375*ae)/Gl),Se=Of((.2126729*I+.7151522*G+.072175*ae)/Wl),De=Of((.0193339*I+.119192*G+.9503041*ae)/Oo);return{l:116*Se-16,a:500*(ve-Se),b:200*(Se-De),alpha:D.a}}function uf(D){var I=(D.l+16)/116,G=isNaN(D.a)?I:I+D.a/500,ae=isNaN(D.b)?I:I-D.b/200;return I=Wl*zf(I),G=Gl*zf(G),ae=Oo*zf(ae),new qa(Xl(3.2404542*G-1.5371385*I-.4985314*ae),Xl(-.969266*G+1.8760108*I+.041556*ae),Xl(.0556434*G-.2040259*I+1.0572252*ae),D.alpha)}function gi(D,I,G){return{l:Pi(D.l,I.l,G),a:Pi(D.a,I.a,G),b:Pi(D.b,I.b,G),alpha:Pi(D.alpha,I.alpha,G)}}function Sc(D){var I=Tu(D),G=I.l,ae=I.a,ve=I.b,Se=Math.atan2(ve,ae)*Ff;return{h:Se<0?Se+360:Se,c:Math.sqrt(ae*ae+ve*ve),l:G,alpha:D.a}}function ns(D){var I=D.h*Ac,G=D.c,ae=D.l;return uf({l:ae,a:Math.cos(I)*G,b:Math.sin(I)*G,alpha:D.alpha})}function Mc(D,I,G){var ae=I-D;return D+G*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function Nf(D,I,G){return{h:Mc(D.h,I.h,G),c:Pi(D.c,I.c,G),l:Pi(D.l,I.l,G),alpha:Pi(D.alpha,I.alpha,G)}}var ml={forward:Tu,reverse:uf,interpolate:gi},Js={forward:Sc,reverse:ns,interpolate:Nf},ff=Object.freeze({__proto__:null,lab:ml,hcl:Js}),ki=function(I,G,ae,ve,Se){this.type=I,this.operator=G,this.interpolation=ae,this.input=ve,this.labels=[],this.outputs=[];for(var De=0,Qe=Se;De<Qe.length;De+=1){var gt=Qe[De],Et=gt[0],Rt=gt[1];this.labels.push(Et),this.outputs.push(Rt)}};ki.interpolationFactor=function(I,G,ae,ve){var Se=0;if(I.name==="exponential")Se=Au(G,I.base,ae,ve);else if(I.name==="linear")Se=Au(G,1,ae,ve);else if(I.name==="cubic-bezier"){var De=I.controlPoints,Qe=new v(De[0],De[1],De[2],De[3]);Se=Qe.solve(Au(G,1,ae,ve))}return Se},ki.parse=function(I,G){var ae=I[0],ve=I[1],Se=I[2],De=I.slice(3);if(!Array.isArray(ve)||ve.length===0)return G.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var Qe=ve[1];if(typeof Qe!="number")return G.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Qe}}else if(ve[0]==="cubic-bezier"){var gt=ve.slice(1);if(gt.length!==4||gt.some(function(tn){return typeof tn!="number"||tn<0||tn>1}))return G.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:gt}}else return G.error("Unknown interpolation type "+String(ve[0]),1,0);if(I.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return G.error("Expected an even number of arguments.");if(Se=G.parse(Se,2,Qr),!Se)return null;var Et=[],Rt=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Rt=Dn:G.expectedType&&G.expectedType.kind!=="value"&&(Rt=G.expectedType);for(var Wt=0;Wt<De.length;Wt+=2){var ar=De[Wt],er=De[Wt+1],xr=Wt+3,Or=Wt+4;if(typeof ar!="number")return G.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(Et.length&&Et[Et.length-1][0]>=ar)return G.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var un=G.parse(er,Or,Rt);if(!un)return null;Rt=Rt||un.type,Et.push([ar,un])}return Rt.kind!=="number"&&Rt.kind!=="color"&&!(Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number")?G.error("Type "+ri(Rt)+" is not interpolatable."):new ki(Rt,ae,ve,Se,Et)},ki.prototype.evaluate=function(I){var G=this.labels,ae=this.outputs;if(G.length===1)return ae[0].evaluate(I);var ve=this.input.evaluate(I);if(ve<=G[0])return ae[0].evaluate(I);var Se=G.length;if(ve>=G[Se-1])return ae[Se-1].evaluate(I);var De=jl(G,ve),Qe=G[De],gt=G[De+1],Et=ki.interpolationFactor(this.interpolation,ve,Qe,gt),Rt=ae[De].evaluate(I),Wt=ae[De+1].evaluate(I);return this.operator==="interpolate"?af[this.type.kind.toLowerCase()](Rt,Wt,Et):this.operator==="interpolate-hcl"?Js.reverse(Js.interpolate(Js.forward(Rt),Js.forward(Wt),Et)):ml.reverse(ml.interpolate(ml.forward(Rt),ml.forward(Wt),Et))},ki.prototype.eachChild=function(I){I(this.input);for(var G=0,ae=this.outputs;G<ae.length;G+=1){var ve=ae[G];I(ve)}},ki.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},ki.prototype.serialize=function(){var I;this.interpolation.name==="linear"?I=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?I=["linear"]:I=["exponential",this.interpolation.base]:I=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var G=[this.operator,I,this.input.serialize()],ae=0;ae<this.labels.length;ae++)G.push(this.labels[ae],this.outputs[ae].serialize());return G};function Au(D,I,G,ae){var ve=ae-G,Se=D-G;return ve===0?0:I===1?Se/ve:(Math.pow(I,Se)-1)/(Math.pow(I,ve)-1)}var as=function(I,G){this.type=I,this.args=G};as.parse=function(I,G){if(I.length<2)return G.error("Expectected at least one argument.");var ae=null,ve=G.expectedType;ve&&ve.kind!=="value"&&(ae=ve);for(var Se=[],De=0,Qe=I.slice(1);De<Qe.length;De+=1){var gt=Qe[De],Et=G.parse(gt,1+Se.length,ae,void 0,{typeAnnotation:"omit"});if(!Et)return null;ae=ae||Et.type,Se.push(Et)}var Rt=ve&&Se.some(function(Wt){return ko(ve,Wt.type)});return Rt?new as(Nn,Se):new as(ae,Se)},as.prototype.evaluate=function(I){for(var G=null,ae=0,ve,Se=0,De=this.args;Se<De.length;Se+=1){var Qe=De[Se];if(ae++,G=Qe.evaluate(I),G&&G instanceof Mo&&!G.available&&(ve||(ve=G.name),G=null,ae===this.args.length&&(G=ve)),G!==null)break}return G},as.prototype.eachChild=function(I){this.args.forEach(I)},as.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},as.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(G){I.push(G.serialize())}),I};var Fs=function(I,G){this.type=G.type,this.bindings=[].concat(I),this.result=G};Fs.prototype.evaluate=function(I){return this.result.evaluate(I)},Fs.prototype.eachChild=function(I){for(var G=0,ae=this.bindings;G<ae.length;G+=1){var ve=ae[G];I(ve[1])}I(this.result)},Fs.parse=function(I,G){if(I.length<4)return G.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var ae=[],ve=1;ve<I.length-1;ve+=2){var Se=I[ve];if(typeof Se!="string")return G.error("Expected string, but found "+typeof Se+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(Se))return G.error("Variable names must contain only alphanumeric characters or '_'.",ve);var De=G.parse(I[ve+1],ve+1);if(!De)return null;ae.push([Se,De])}var Qe=G.parse(I[I.length-1],I.length-1,G.expectedType,ae);return Qe?new Fs(ae,Qe):null},Fs.prototype.outputDefined=function(){return this.result.outputDefined()},Fs.prototype.serialize=function(){for(var I=["let"],G=0,ae=this.bindings;G<ae.length;G+=1){var ve=ae[G],Se=ve[0],De=ve[1];I.push(Se,De.serialize())}return I.push(this.result.serialize()),I};var xl=function(I,G,ae){this.type=I,this.index=G,this.input=ae};xl.parse=function(I,G){if(I.length!==3)return G.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1,Qr),ve=G.parse(I[2],2,pi(G.expectedType||Nn));if(!ae||!ve)return null;var Se=ve.type;return new xl(Se.itemType,ae,ve)},xl.prototype.evaluate=function(I){var G=this.index.evaluate(I),ae=this.input.evaluate(I);if(G<0)throw new Gi("Array index out of bounds: "+G+" < 0.");if(G>=ae.length)throw new Gi("Array index out of bounds: "+G+" > "+(ae.length-1)+".");if(G!==Math.floor(G))throw new Gi("Array index must be an integer, but found "+G+" instead.");return ae[G]},xl.prototype.eachChild=function(I){I(this.index),I(this.input)},xl.prototype.outputDefined=function(){return!1},xl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var $s=function(I,G){this.type=Rn,this.needle=I,this.haystack=G};$s.parse=function(I,G){if(I.length!==3)return G.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1,Nn),ve=G.parse(I[2],2,Nn);return!ae||!ve?null:ao(ae.type,[Rn,Tn,Qr,Hr,Nn])?new $s(ae,ve):G.error("Expected first argument to be of type boolean, string, number or null, but found "+ri(ae.type)+" instead")},$s.prototype.evaluate=function(I){var G=this.needle.evaluate(I),ae=this.haystack.evaluate(I);if(!ae)return!1;if(!zl(G,["boolean","string","number","null"]))throw new Gi("Expected first argument to be of type boolean, string, number or null, but found "+ri(_i(G))+" instead.");if(!zl(ae,["string","array"]))throw new Gi("Expected second argument to be of type array or string, but found "+ri(_i(ae))+" instead.");return ae.indexOf(G)>=0},$s.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},$s.prototype.outputDefined=function(){return!0},$s.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var is=function(I,G,ae){this.type=Qr,this.needle=I,this.haystack=G,this.fromIndex=ae};is.parse=function(I,G){if(I.length<=2||I.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1,Nn),ve=G.parse(I[2],2,Nn);if(!ae||!ve)return null;if(!ao(ae.type,[Rn,Tn,Qr,Hr,Nn]))return G.error("Expected first argument to be of type boolean, string, number or null, but found "+ri(ae.type)+" instead");if(I.length===4){var Se=G.parse(I[3],3,Qr);return Se?new is(ae,ve,Se):null}else return new is(ae,ve)},is.prototype.evaluate=function(I){var G=this.needle.evaluate(I),ae=this.haystack.evaluate(I);if(!zl(G,["boolean","string","number","null"]))throw new Gi("Expected first argument to be of type boolean, string, number or null, but found "+ri(_i(G))+" instead.");if(!zl(ae,["string","array"]))throw new Gi("Expected second argument to be of type array or string, but found "+ri(_i(ae))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(I);return ae.indexOf(G,ve)}return ae.indexOf(G)},is.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},is.prototype.outputDefined=function(){return!1},is.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Os=function(I,G,ae,ve,Se,De){this.inputType=I,this.type=G,this.input=ae,this.cases=ve,this.outputs=Se,this.otherwise=De};Os.parse=function(I,G){if(I.length<5)return G.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!==1)return G.error("Expected an even number of arguments.");var ae,ve;G.expectedType&&G.expectedType.kind!=="value"&&(ve=G.expectedType);for(var Se={},De=[],Qe=2;Qe<I.length-1;Qe+=2){var gt=I[Qe],Et=I[Qe+1];Array.isArray(gt)||(gt=[gt]);var Rt=G.concat(Qe);if(gt.length===0)return Rt.error("Expected at least one branch label.");for(var Wt=0,ar=gt;Wt<ar.length;Wt+=1){var er=ar[Wt];if(typeof er!="number"&&typeof er!="string")return Rt.error("Branch labels must be numbers or strings.");if(typeof er=="number"&&Math.abs(er)>Number.MAX_SAFE_INTEGER)return Rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof er=="number"&&Math.floor(er)!==er)return Rt.error("Numeric branch labels must be integer values.");if(!ae)ae=_i(er);else if(Rt.checkSubtype(ae,_i(er)))return null;if(typeof Se[String(er)]<"u")return Rt.error("Branch labels must be unique.");Se[String(er)]=De.length}var xr=G.parse(Et,Qe,ve);if(!xr)return null;ve=ve||xr.type,De.push(xr)}var Or=G.parse(I[1],1,Nn);if(!Or)return null;var un=G.parse(I[I.length-1],I.length-1,ve);return!un||Or.type.kind!=="value"&&G.concat(1).checkSubtype(ae,Or.type)?null:new Os(ae,ve,Or,Se,De,un)},Os.prototype.evaluate=function(I){var G=this.input.evaluate(I),ae=_i(G)===this.inputType&&this.outputs[this.cases[G]]||this.otherwise;return ae.evaluate(I)},Os.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},Os.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},Os.prototype.serialize=function(){for(var I=this,G=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),ve=[],Se={},De=0,Qe=ae;De<Qe.length;De+=1){var gt=Qe[De],Et=Se[this.cases[gt]];Et===void 0?(Se[this.cases[gt]]=ve.length,ve.push([this.cases[gt],[gt]])):ve[Et][1].push(gt)}for(var Rt=function(Or){return I.inputType.kind==="number"?Number(Or):Or},Wt=0,ar=ve;Wt<ar.length;Wt+=1){var er=ar[Wt],Et=er[0],xr=er[1];xr.length===1?G.push(Rt(xr[0])):G.push(xr.map(Rt)),G.push(this.outputs[outputIndex$1].serialize())}return G.push(this.otherwise.serialize()),G};var os=function(I,G,ae){this.type=I,this.branches=G,this.otherwise=ae};os.parse=function(I,G){if(I.length<4)return G.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!==0)return G.error("Expected an odd number of arguments.");var ae;G.expectedType&&G.expectedType.kind!=="value"&&(ae=G.expectedType);for(var ve=[],Se=1;Se<I.length-1;Se+=2){var De=G.parse(I[Se],Se,Rn);if(!De)return null;var Qe=G.parse(I[Se+1],Se+1,ae);if(!Qe)return null;ve.push([De,Qe]),ae=ae||Qe.type}var gt=G.parse(I[I.length-1],I.length-1,ae);return gt?new os(ae,ve,gt):null},os.prototype.evaluate=function(I){for(var G=0,ae=this.branches;G<ae.length;G+=1){var ve=ae[G],Se=ve[0],De=ve[1];if(Se.evaluate(I))return De.evaluate(I)}return this.otherwise.evaluate(I)},os.prototype.eachChild=function(I){for(var G=0,ae=this.branches;G<ae.length;G+=1){var ve=ae[G],Se=ve[0],De=ve[1];I(Se),I(De)}I(this.otherwise)},os.prototype.outputDefined=function(){return this.branches.every(function(I){I[0];var G=I[1];return G.outputDefined()})&&this.otherwise.outputDefined()},os.prototype.serialize=function(){var I=["case"];return this.eachChild(function(G){I.push(G.serialize())}),I};var Xo=function(I,G,ae,ve){this.type=I,this.input=G,this.beginIndex=ae,this.endIndex=ve};Xo.parse=function(I,G){if(I.length<=2||I.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1,Nn),ve=G.parse(I[2],2,Qr);if(!ae||!ve)return null;if(!ao(ae.type,[pi(Nn),Tn,Nn]))return G.error("Expected first argument to be of type array or string, but found "+ri(ae.type)+" instead");if(I.length===4){var Se=G.parse(I[3],3,Qr);return Se?new Xo(ae.type,ae,ve,Se):null}else return new Xo(ae.type,ae,ve)},Xo.prototype.evaluate=function(I){var G=this.input.evaluate(I),ae=this.beginIndex.evaluate(I);if(!zl(G,["string","array"]))throw new Gi("Expected first argument to be of type array or string, but found "+ri(_i(G))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(I);return G.slice(ae,ve)}return G.slice(ae)},Xo.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},Xo.prototype.outputDefined=function(){return!1},Xo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Su(D,I){return D==="=="||D==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function zh(D,I,G){return I===G}function Nh(D,I,G){return I!==G}function Bh(D,I,G){return I<G}function Uh(D,I,G){return I>G}function Bf(D,I,G){return I<=G}function Ec(D,I,G){return I>=G}function Zl(D,I,G,ae){return ae.compare(I,G)===0}function eo(D,I,G,ae){return!Zl(D,I,G,ae)}function jo(D,I,G,ae){return ae.compare(I,G)<0}function Kl(D,I,G,ae){return ae.compare(I,G)>0}function Cc(D,I,G,ae){return ae.compare(I,G)<=0}function Mu(D,I,G,ae){return ae.compare(I,G)>=0}function zs(D,I,G){var ae=D!=="=="&&D!=="!=";return function(){function ve(Se,De,Qe){this.type=Rn,this.lhs=Se,this.rhs=De,this.collator=Qe,this.hasUntypedArgument=Se.type.kind==="value"||De.type.kind==="value"}return ve.parse=function(De,Qe){if(De.length!==3&&De.length!==4)return Qe.error("Expected two or three arguments.");var gt=De[0],Et=Qe.parse(De[1],1,Nn);if(!Et)return null;if(!Su(gt,Et.type))return Qe.concat(1).error('"'+gt+`" comparisons are not supported for type '`+ri(Et.type)+"'.");var Rt=Qe.parse(De[2],2,Nn);if(!Rt)return null;if(!Su(gt,Rt.type))return Qe.concat(2).error('"'+gt+`" comparisons are not supported for type '`+ri(Rt.type)+"'.");if(Et.type.kind!==Rt.type.kind&&Et.type.kind!=="value"&&Rt.type.kind!=="value")return Qe.error("Cannot compare types '"+ri(Et.type)+"' and '"+ri(Rt.type)+"'.");ae&&(Et.type.kind==="value"&&Rt.type.kind!=="value"?Et=new io(Rt.type,[Et]):Et.type.kind!=="value"&&Rt.type.kind==="value"&&(Rt=new io(Et.type,[Rt])));var Wt=null;if(De.length===4){if(Et.type.kind!=="string"&&Rt.type.kind!=="string"&&Et.type.kind!=="value"&&Rt.type.kind!=="value")return Qe.error("Cannot use collator to compare non-string types.");if(Wt=Qe.parse(De[3],3,oa),!Wt)return null}return new ve(Et,Rt,Wt)},ve.prototype.evaluate=function(De){var Qe=this.lhs.evaluate(De),gt=this.rhs.evaluate(De);if(ae&&this.hasUntypedArgument){var Et=_i(Qe),Rt=_i(gt);if(Et.kind!==Rt.kind||!(Et.kind==="string"||Et.kind==="number"))throw new Gi('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+Et.kind+", "+Rt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Wt=_i(Qe),ar=_i(gt);if(Wt.kind!=="string"||ar.kind!=="string")return I(De,Qe,gt)}return this.collator?G(De,Qe,gt,this.collator.evaluate(De)):I(De,Qe,gt)},ve.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var De=[D];return this.eachChild(function(Qe){De.push(Qe.serialize())}),De},ve}()}var Vh=zs("==",zh,Zl),Lc=zs("!=",Nh,eo),Pc=zs("<",Bh,jo),Uf=zs(">",Uh,Kl),Rc=zs("<=",Bf,Cc),Eo=zs(">=",Ec,Mu),ss=function(I,G,ae,ve,Se){this.type=Tn,this.number=I,this.locale=G,this.currency=ae,this.minFractionDigits=ve,this.maxFractionDigits=Se};ss.parse=function(I,G){if(I.length!==3)return G.error("Expected two arguments.");var ae=G.parse(I[1],1,Qr);if(!ae)return null;var ve=I[2];if(typeof ve!="object"||Array.isArray(ve))return G.error("NumberFormat options argument must be an object.");var Se=null;if(ve.locale&&(Se=G.parse(ve.locale,1,Tn),!Se))return null;var De=null;if(ve.currency&&(De=G.parse(ve.currency,1,Tn),!De))return null;var Qe=null;if(ve["min-fraction-digits"]&&(Qe=G.parse(ve["min-fraction-digits"],1,Qr),!Qe))return null;var gt=null;return ve["max-fraction-digits"]&&(gt=G.parse(ve["max-fraction-digits"],1,Qr),!gt)?null:new ss(ae,Se,De,Qe,gt)},ss.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},ss.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},ss.prototype.outputDefined=function(){return!1},ss.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var Qs=function(I){this.type=Qr,this.input=I};Qs.parse=function(I,G){if(I.length!==2)return G.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var ae=G.parse(I[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?G.error("Expected argument of type string or array, but found "+ri(ae.type)+" instead."):new Qs(ae):null},Qs.prototype.evaluate=function(I){var G=this.input.evaluate(I);if(typeof G=="string")return G.length;if(Array.isArray(G))return G.length;throw new Gi("Expected value to be of type string or array, but found "+ri(_i(G))+" instead.")},Qs.prototype.eachChild=function(I){I(this.input)},Qs.prototype.outputDefined=function(){return!1},Qs.prototype.serialize=function(){var I=["length"];return this.eachChild(function(G){I.push(G.serialize())}),I};var Jl={"==":Vh,"!=":Lc,">":Uf,"<":Pc,">=":Eo,"<=":Rc,array:io,at:xl,boolean:io,case:os,coalesce:as,collator:Zs,format:oo,image:Ho,in:$s,"index-of":is,interpolate:ki,"interpolate-hcl":ki,"interpolate-lab":ki,length:Qs,let:Fs,literal:zi,match:Os,number:io,"number-format":ss,object:io,slice:Xo,step:rs,string:io,"to-boolean":Fo,"to-color":Fo,"to-number":Fo,"to-string":Fo,var:Ks,within:ts};function cf(D,I){var G=I[0],ae=I[1],ve=I[2],Se=I[3];G=G.evaluate(D),ae=ae.evaluate(D),ve=ve.evaluate(D);var De=Se?Se.evaluate(D):1,Qe=Nl(G,ae,ve,De);if(Qe)throw new Gi(Qe);return new qa(G/255*De,ae/255*De,ve/255*De,De)}function bl(D,I){return D in I}function wl(D,I){var G=I[D];return typeof G>"u"?null:G}function Dc(D,I,G,ae){for(;G<=ae;){var ve=G+ae>>1;if(I[ve]===D)return!0;I[ve]>D?ae=ve-1:G=ve+1}return!1}function Ns(D){return{type:D}}qi.register(Jl,{error:[ma,[Tn],function(D,I){var G=I[0];throw new Gi(G.evaluate(D))}],typeof:[Tn,[Nn],function(D,I){var G=I[0];return ri(_i(G.evaluate(D)))}],"to-rgba":[pi(Qr,4),[Dn],function(D,I){var G=I[0];return G.evaluate(D).toArray()}],rgb:[Dn,[Qr,Qr,Qr],cf],rgba:[Dn,[Qr,Qr,Qr,Qr],cf],has:{type:Rn,overloads:[[[Tn],function(D,I){var G=I[0];return bl(G.evaluate(D),D.properties())}],[[Tn,Vn],function(D,I){var G=I[0],ae=I[1];return bl(G.evaluate(D),ae.evaluate(D))}]]},get:{type:Nn,overloads:[[[Tn],function(D,I){var G=I[0];return wl(G.evaluate(D),D.properties())}],[[Tn,Vn],function(D,I){var G=I[0],ae=I[1];return wl(G.evaluate(D),ae.evaluate(D))}]]},"feature-state":[Nn,[Tn],function(D,I){var G=I[0];return wl(G.evaluate(D),D.featureState||{})}],properties:[Vn,[],function(D){return D.properties()}],"geometry-type":[Tn,[],function(D){return D.geometryType()}],id:[Nn,[],function(D){return D.id()}],zoom:[Qr,[],function(D){return D.globals.zoom}],"heatmap-density":[Qr,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[Qr,[],function(D){return D.globals.lineProgress||0}],accumulated:[Nn,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[Qr,Ns(Qr),function(D,I){for(var G=0,ae=0,ve=I;ae<ve.length;ae+=1){var Se=ve[ae];G+=Se.evaluate(D)}return G}],"*":[Qr,Ns(Qr),function(D,I){for(var G=1,ae=0,ve=I;ae<ve.length;ae+=1){var Se=ve[ae];G*=Se.evaluate(D)}return G}],"-":{type:Qr,overloads:[[[Qr,Qr],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)-ae.evaluate(D)}],[[Qr],function(D,I){var G=I[0];return-G.evaluate(D)}]]},"/":[Qr,[Qr,Qr],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)/ae.evaluate(D)}],"%":[Qr,[Qr,Qr],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)%ae.evaluate(D)}],ln2:[Qr,[],function(){return Math.LN2}],pi:[Qr,[],function(){return Math.PI}],e:[Qr,[],function(){return Math.E}],"^":[Qr,[Qr,Qr],function(D,I){var G=I[0],ae=I[1];return Math.pow(G.evaluate(D),ae.evaluate(D))}],sqrt:[Qr,[Qr],function(D,I){var G=I[0];return Math.sqrt(G.evaluate(D))}],log10:[Qr,[Qr],function(D,I){var G=I[0];return Math.log(G.evaluate(D))/Math.LN10}],ln:[Qr,[Qr],function(D,I){var G=I[0];return Math.log(G.evaluate(D))}],log2:[Qr,[Qr],function(D,I){var G=I[0];return Math.log(G.evaluate(D))/Math.LN2}],sin:[Qr,[Qr],function(D,I){var G=I[0];return Math.sin(G.evaluate(D))}],cos:[Qr,[Qr],function(D,I){var G=I[0];return Math.cos(G.evaluate(D))}],tan:[Qr,[Qr],function(D,I){var G=I[0];return Math.tan(G.evaluate(D))}],asin:[Qr,[Qr],function(D,I){var G=I[0];return Math.asin(G.evaluate(D))}],acos:[Qr,[Qr],function(D,I){var G=I[0];return Math.acos(G.evaluate(D))}],atan:[Qr,[Qr],function(D,I){var G=I[0];return Math.atan(G.evaluate(D))}],min:[Qr,Ns(Qr),function(D,I){return Math.min.apply(Math,I.map(function(G){return G.evaluate(D)}))}],max:[Qr,Ns(Qr),function(D,I){return Math.max.apply(Math,I.map(function(G){return G.evaluate(D)}))}],abs:[Qr,[Qr],function(D,I){var G=I[0];return Math.abs(G.evaluate(D))}],round:[Qr,[Qr],function(D,I){var G=I[0],ae=G.evaluate(D);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[Qr,[Qr],function(D,I){var G=I[0];return Math.floor(G.evaluate(D))}],ceil:[Qr,[Qr],function(D,I){var G=I[0];return Math.ceil(G.evaluate(D))}],"filter-==":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1];return D.properties()[G.value]===ae.value}],"filter-id-==":[Rn,[Nn],function(D,I){var G=I[0];return D.id()===G.value}],"filter-type-==":[Rn,[Tn],function(D,I){var G=I[0];return D.geometryType()===G.value}],"filter-<":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1],ve=D.properties()[G.value],Se=ae.value;return typeof ve==typeof Se&&ve<Se}],"filter-id-<":[Rn,[Nn],function(D,I){var G=I[0],ae=D.id(),ve=G.value;return typeof ae==typeof ve&&ae<ve}],"filter->":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1],ve=D.properties()[G.value],Se=ae.value;return typeof ve==typeof Se&&ve>Se}],"filter-id->":[Rn,[Nn],function(D,I){var G=I[0],ae=D.id(),ve=G.value;return typeof ae==typeof ve&&ae>ve}],"filter-<=":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1],ve=D.properties()[G.value],Se=ae.value;return typeof ve==typeof Se&&ve<=Se}],"filter-id-<=":[Rn,[Nn],function(D,I){var G=I[0],ae=D.id(),ve=G.value;return typeof ae==typeof ve&&ae<=ve}],"filter->=":[Rn,[Tn,Nn],function(D,I){var G=I[0],ae=I[1],ve=D.properties()[G.value],Se=ae.value;return typeof ve==typeof Se&&ve>=Se}],"filter-id->=":[Rn,[Nn],function(D,I){var G=I[0],ae=D.id(),ve=G.value;return typeof ae==typeof ve&&ae>=ve}],"filter-has":[Rn,[Nn],function(D,I){var G=I[0];return G.value in D.properties()}],"filter-has-id":[Rn,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[Rn,[pi(Tn)],function(D,I){var G=I[0];return G.value.indexOf(D.geometryType())>=0}],"filter-id-in":[Rn,[pi(Nn)],function(D,I){var G=I[0];return G.value.indexOf(D.id())>=0}],"filter-in-small":[Rn,[Tn,pi(Nn)],function(D,I){var G=I[0],ae=I[1];return ae.value.indexOf(D.properties()[G.value])>=0}],"filter-in-large":[Rn,[Tn,pi(Nn)],function(D,I){var G=I[0],ae=I[1];return Dc(D.properties()[G.value],ae.value,0,ae.value.length-1)}],all:{type:Rn,overloads:[[[Rn,Rn],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)&&ae.evaluate(D)}],[Ns(Rn),function(D,I){for(var G=0,ae=I;G<ae.length;G+=1){var ve=ae[G];if(!ve.evaluate(D))return!1}return!0}]]},any:{type:Rn,overloads:[[[Rn,Rn],function(D,I){var G=I[0],ae=I[1];return G.evaluate(D)||ae.evaluate(D)}],[Ns(Rn),function(D,I){for(var G=0,ae=I;G<ae.length;G+=1){var ve=ae[G];if(ve.evaluate(D))return!0}return!1}]]},"!":[Rn,[Rn],function(D,I){var G=I[0];return!G.evaluate(D)}],"is-supported-script":[Rn,[Tn],function(D,I){var G=I[0],ae=D.globals&&D.globals.isSupportedScript;return ae?ae(G.evaluate(D)):!0}],upcase:[Tn,[Tn],function(D,I){var G=I[0];return G.evaluate(D).toUpperCase()}],downcase:[Tn,[Tn],function(D,I){var G=I[0];return G.evaluate(D).toLowerCase()}],concat:[Tn,Ns(Nn),function(D,I){return I.map(function(G){return Bl(G.evaluate(D))}).join("")}],"resolved-locale":[Tn,[oa],function(D,I){var G=I[0];return G.evaluate(D).resolvedLocale()}]});function $l(D){return{result:"success",value:D}}function qs(D){return{result:"error",value:D}}function Bs(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function Eu(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function Ql(D){return!!D.expression&&D.expression.interpolated}function hi(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function ql(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function hf(D){return D}function Ic(D,I){var G=I.type==="color",ae=D.stops&&typeof D.stops[0][0]=="object",ve=ae||D.property!==void 0,Se=ae||!ve,De=D.type||(Ql(I)?"exponential":"interval");if(G&&(D=kn({},D),D.stops&&(D.stops=D.stops.map(function(qn){return[qn[0],qa.parse(qn[1])]})),D.default?D.default=qa.parse(D.default):D.default=qa.parse(I.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!ff[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var Qe,gt,Et;if(De==="exponential")Qe=Vf;else if(De==="interval")Qe=vf;else if(De==="categorical"){Qe=Cu,gt=Object.create(null);for(var Rt=0,Wt=D.stops;Rt<Wt.length;Rt+=1){var ar=Wt[Rt];gt[ar[0]]=ar[1]}Et=typeof D.stops[0][0]}else if(De==="identity")Qe=Lu;else throw new Error('Unknown function type "'+De+'"');if(ae){for(var er={},xr=[],Or=0;Or<D.stops.length;Or++){var un=D.stops[Or],tn=un[0].zoom;er[tn]===void 0&&(er[tn]={zoom:tn,type:D.type,property:D.property,default:D.default,stops:[]},xr.push(tn)),er[tn].stops.push([un[0].value,un[1]])}for(var En=[],xn=0,Mn=xr;xn<Mn.length;xn+=1){var On=Mn[xn];En.push([er[On].zoom,Ic(er[On],I)])}var Wn={name:"linear"};return{kind:"composite",interpolationType:Wn,interpolationFactor:ki.interpolationFactor.bind(void 0,Wn),zoomStops:En.map(function(qn){return qn[0]}),evaluate:function(Ta,da){var wa=Ta.zoom;return Vf({stops:En,base:D.base},I,wa).evaluate(wa,da)}}}else if(Se){var ra=De==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:ra,interpolationFactor:ki.interpolationFactor.bind(void 0,ra),zoomStops:D.stops.map(function(qn){return qn[0]}),evaluate:function(qn){var Ta=qn.zoom;return Qe(D,I,Ta,gt,Et)}}}else return{kind:"source",evaluate:function(Ta,da){var wa=da&&da.properties?da.properties[D.property]:void 0;return wa===void 0?eu(D.default,I.default):Qe(D,I,wa,gt,Et)}}}function eu(D,I,G){if(D!==void 0)return D;if(I!==void 0)return I;if(G!==void 0)return G}function Cu(D,I,G,ae,ve){var Se=typeof G===ve?ae[G]:void 0;return eu(Se,D.default,I.default)}function vf(D,I,G){if(hi(G)!=="number")return eu(D.default,I.default);var ae=D.stops.length;if(ae===1||G<=D.stops[0][0])return D.stops[0][1];if(G>=D.stops[ae-1][0])return D.stops[ae-1][1];var ve=jl(D.stops.map(function(Se){return Se[0]}),G);return D.stops[ve][1]}function Vf(D,I,G){var ae=D.base!==void 0?D.base:1;if(hi(G)!=="number")return eu(D.default,I.default);var ve=D.stops.length;if(ve===1||G<=D.stops[0][0])return D.stops[0][1];if(G>=D.stops[ve-1][0])return D.stops[ve-1][1];var Se=jl(D.stops.map(function(Wt){return Wt[0]}),G),De=Pu(G,ae,D.stops[Se][0],D.stops[Se+1][0]),Qe=D.stops[Se][1],gt=D.stops[Se+1][1],Et=af[I.type]||hf;if(D.colorSpace&&D.colorSpace!=="rgb"){var Rt=ff[D.colorSpace];Et=function(Wt,ar){return Rt.reverse(Rt.interpolate(Rt.forward(Wt),Rt.forward(ar),De))}}return typeof Qe.evaluate=="function"?{evaluate:function(){for(var ar=[],er=arguments.length;er--;)ar[er]=arguments[er];var xr=Qe.evaluate.apply(void 0,ar),Or=gt.evaluate.apply(void 0,ar);if(!(xr===void 0||Or===void 0))return Et(xr,Or,De)}}:Et(Qe,gt,De)}function Lu(D,I,G){return I.type==="color"?G=qa.parse(G):I.type==="formatted"?G=Qi.fromString(G.toString()):I.type==="resolvedImage"?G=Mo.fromString(G.toString()):hi(G)!==I.type&&(I.type!=="enum"||!I.values[G])&&(G=void 0),eu(G,D.default,I.default)}function Pu(D,I,G,ae){var ve=ae-G,Se=D-G;return ve===0?0:I===1?Se/ve:(Math.pow(I,Se)-1)/(Math.pow(I,ve)-1)}var el=function(I,G){this.expression=I,this._warningHistory={},this._evaluator=new ms,this._defaultValue=G?_c(G):null,this._enumValues=G&&G.type==="enum"?G.values:null};el.prototype.evaluateWithoutErrorHandling=function(I,G,ae,ve,Se,De){return this._evaluator.globals=I,this._evaluator.feature=G,this._evaluator.featureState=ae,this._evaluator.canonical=ve,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},el.prototype.evaluate=function(I,G,ae,ve,Se,De){this._evaluator.globals=I,this._evaluator.feature=G||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=ve,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De||null;try{var Qe=this.expression.evaluate(this._evaluator);if(Qe==null||typeof Qe=="number"&&Qe!==Qe)return this._defaultValue;if(this._enumValues&&!(Qe in this._enumValues))throw new Gi("Expected value to be one of "+Object.keys(this._enumValues).map(function(gt){return JSON.stringify(gt)}).join(", ")+", but found "+JSON.stringify(Qe)+" instead.");return Qe}catch(gt){return this._warningHistory[gt.message]||(this._warningHistory[gt.message]=!0,typeof console<"u"&&console.warn(gt.message)),this._defaultValue}};function Ru(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in Jl}function tl(D,I){var G=new bs(Jl,[],I?Hh(I):void 0),ae=G.parse(D,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?$l(new el(ae,I)):qs(G.errors)}var Wi=function(I,G){this.kind=I,this._styleExpression=G,this.isStateDependent=I!=="constant"&&!yl(G.expression)};Wi.prototype.evaluateWithoutErrorHandling=function(I,G,ae,ve,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(I,G,ae,ve,Se,De)},Wi.prototype.evaluate=function(I,G,ae,ve,Se,De){return this._styleExpression.evaluate(I,G,ae,ve,Se,De)};var ws=function(I,G,ae,ve){this.kind=I,this.zoomStops=ae,this._styleExpression=G,this.isStateDependent=I!=="camera"&&!yl(G.expression),this.interpolationType=ve};ws.prototype.evaluateWithoutErrorHandling=function(I,G,ae,ve,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(I,G,ae,ve,Se,De)},ws.prototype.evaluate=function(I,G,ae,ve,Se,De){return this._styleExpression.evaluate(I,G,ae,ve,Se,De)},ws.prototype.interpolationFactor=function(I,G,ae){return this.interpolationType?ki.interpolationFactor(this.interpolationType,I,G,ae):0};function Hf(D,I){if(D=tl(D,I),D.result==="error")return D;var G=D.value.expression,ae=Hl(G);if(!ae&&!Bs(I))return qs([new Cr("","data expressions not supported")]);var ve=wu(G,["zoom"]);if(!ve&&!Eu(I))return qs([new Cr("","zoom expressions not supported")]);var Se=Du(G);if(!Se&&!ve)return qs([new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Se instanceof Cr)return qs([Se]);if(Se instanceof ki&&!Ql(I))return qs([new Cr("",'"interpolate" expressions cannot be used with this property')]);if(!Se)return $l(ae?new Wi("constant",D.value):new Wi("source",D.value));var De=Se instanceof ki?Se.interpolation:void 0;return $l(ae?new ws("camera",D.value,Se.labels,De):new ws("composite",D.value,Se.labels,De))}var Tl=function(I,G){this._parameters=I,this._specification=G,kn(this,Ic(this._parameters,this._specification))};Tl.deserialize=function(I){return new Tl(I._parameters,I._specification)},Tl.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};function df(D,I){if(ql(D))return new Tl(D,I);if(Ru(D)){var G=Hf(D,I);if(G.result==="error")throw new Error(G.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return G.value}else{var ae=D;return typeof D=="string"&&I.type==="color"&&(ae=qa.parse(D)),{kind:"constant",evaluate:function(){return ae}}}}function Du(D){var I=null;if(D instanceof Fs)I=Du(D.result);else if(D instanceof as)for(var G=0,ae=D.args;G<ae.length;G+=1){var ve=ae[G];if(I=Du(ve),I)break}else(D instanceof rs||D instanceof ki)&&D.input instanceof qi&&D.input.name==="zoom"&&(I=D);return I instanceof Cr||D.eachChild(function(Se){var De=Du(Se);De instanceof Cr?I=De:!I&&De?I=new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&De&&I!==De&&(I=new Cr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function Hh(D){var I={color:Dn,string:Tn,number:Qr,enum:Tn,boolean:Rn,formatted:ga,resolvedImage:Pa};return D.type==="array"?pi(I[D.value]||Nn,D.length):I[D.type]}function _c(D){return D.type==="color"&&ql(D.default)?new qa(0,0,0,0):D.type==="color"?qa.parse(D.default)||null:D.default===void 0?null:D.default}function xo(D){var I=D.key,G=D.value,ae=D.valueSpec||{},ve=D.objectElementValidators||{},Se=D.style,De=D.styleSpec,Qe=[],gt=hi(G);if(gt!=="object")return[new Nr(I,G,"object expected, "+gt+" found")];for(var Et in G){var Rt=Et.split(".")[0],Wt=ae[Rt]||ae["*"],ar=void 0;if(ve[Rt])ar=ve[Rt];else if(ae[Rt])ar=kr;else if(ve["*"])ar=ve["*"];else if(ae["*"])ar=kr;else{Qe.push(new Nr(I,G[Et],'unknown property "'+Et+'"'));continue}Qe=Qe.concat(ar({key:(I&&I+".")+Et,value:G[Et],valueSpec:Wt,style:Se,styleSpec:De,object:G,objectKey:Et},G))}for(var er in ae)ve[er]||ae[er].required&&ae[er].default===void 0&&G[er]===void 0&&Qe.push(new Nr(I,G,'missing required property "'+er+'"'));return Qe}function Iu(D){var I=D.value,G=D.valueSpec,ae=D.style,ve=D.styleSpec,Se=D.key,De=D.arrayElementValidator||kr;if(hi(I)!=="array")return[new Nr(Se,I,"array expected, "+hi(I)+" found")];if(G.length&&I.length!==G.length)return[new Nr(Se,I,"array length "+G.length+" expected, length "+I.length+" found")];if(G["min-length"]&&I.length<G["min-length"])return[new Nr(Se,I,"array length at least "+G["min-length"]+" expected, length "+I.length+" found")];var Qe={type:G.value,values:G.values};ve.$version<7&&(Qe.function=G.function),hi(G.value)==="object"&&(Qe=G.value);for(var gt=[],Et=0;Et<I.length;Et++)gt=gt.concat(De({array:I,arrayIndex:Et,value:I[Et],valueSpec:Qe,style:ae,styleSpec:ve,key:Se+"["+Et+"]"}));return gt}function tu(D){var I=D.key,G=D.value,ae=D.valueSpec,ve=hi(G);return ve==="number"&&G!==G&&(ve="NaN"),ve!=="number"?[new Nr(I,G,"number expected, "+ve+" found")]:"minimum"in ae&&G<ae.minimum?[new Nr(I,G,G+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&G>ae.maximum?[new Nr(I,G,G+" is greater than the maximum value "+ae.maximum)]:[]}function kc(D){var I=D.valueSpec,G=vn(D.value.type),ae,ve={},Se,De,Qe=G!=="categorical"&&D.value.property===void 0,gt=!Qe,Et=hi(D.value.stops)==="array"&&hi(D.value.stops[0])==="array"&&hi(D.value.stops[0][0])==="object",Rt=xo({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:Wt,default:xr}});return G==="identity"&&Qe&&Rt.push(new Nr(D.key,D.value,'missing required property "property"')),G!=="identity"&&!D.value.stops&&Rt.push(new Nr(D.key,D.value,'missing required property "stops"')),G==="exponential"&&D.valueSpec.expression&&!Ql(D.valueSpec)&&Rt.push(new Nr(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(gt&&!Bs(D.valueSpec)?Rt.push(new Nr(D.key,D.value,"property functions not supported")):Qe&&!Eu(D.valueSpec)&&Rt.push(new Nr(D.key,D.value,"zoom functions not supported"))),(G==="categorical"||Et)&&D.value.property===void 0&&Rt.push(new Nr(D.key,D.value,'"property" property is required')),Rt;function Wt(Or){if(G==="identity")return[new Nr(Or.key,Or.value,'identity function may not have a "stops" property')];var un=[],tn=Or.value;return un=un.concat(Iu({key:Or.key,value:tn,valueSpec:Or.valueSpec,style:Or.style,styleSpec:Or.styleSpec,arrayElementValidator:ar})),hi(tn)==="array"&&tn.length===0&&un.push(new Nr(Or.key,tn,"array must have at least one stop")),un}function ar(Or){var un=[],tn=Or.value,En=Or.key;if(hi(tn)!=="array")return[new Nr(En,tn,"array expected, "+hi(tn)+" found")];if(tn.length!==2)return[new Nr(En,tn,"array length 2 expected, length "+tn.length+" found")];if(Et){if(hi(tn[0])!=="object")return[new Nr(En,tn,"object expected, "+hi(tn[0])+" found")];if(tn[0].zoom===void 0)return[new Nr(En,tn,"object stop key must have zoom")];if(tn[0].value===void 0)return[new Nr(En,tn,"object stop key must have value")];if(De&&De>vn(tn[0].zoom))return[new Nr(En,tn[0].zoom,"stop zoom values must appear in ascending order")];vn(tn[0].zoom)!==De&&(De=vn(tn[0].zoom),Se=void 0,ve={}),un=un.concat(xo({key:En+"[0]",value:tn[0],valueSpec:{zoom:{}},style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{zoom:tu,value:er}}))}else un=un.concat(er({key:En+"[0]",value:tn[0],valueSpec:{},style:Or.style,styleSpec:Or.styleSpec},tn));return Ru(ln(tn[1]))?un.concat([new Nr(En+"[1]",tn[1],"expressions are not allowed in function stops.")]):un.concat(kr({key:En+"[1]",value:tn[1],valueSpec:I,style:Or.style,styleSpec:Or.styleSpec}))}function er(Or,un){var tn=hi(Or.value),En=vn(Or.value),xn=Or.value!==null?Or.value:un;if(!ae)ae=tn;else if(tn!==ae)return[new Nr(Or.key,xn,tn+" stop domain type must match previous stop domain type "+ae)];if(tn!=="number"&&tn!=="string"&&tn!=="boolean")return[new Nr(Or.key,xn,"stop domain value must be a number, string, or boolean")];if(tn!=="number"&&G!=="categorical"){var Mn="number expected, "+tn+" found";return Bs(I)&&G===void 0&&(Mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nr(Or.key,xn,Mn)]}return G==="categorical"&&tn==="number"&&(!isFinite(En)||Math.floor(En)!==En)?[new Nr(Or.key,xn,"integer expected, found "+En)]:G!=="categorical"&&tn==="number"&&Se!==void 0&&En<Se?[new Nr(Or.key,xn,"stop domain values must appear in ascending order")]:(Se=En,G==="categorical"&&En in ve?[new Nr(Or.key,xn,"stop domain values must be unique")]:(ve[En]=!0,[]))}function xr(Or){return kr({key:Or.key,value:Or.value,valueSpec:I,style:Or.style,styleSpec:Or.styleSpec})}}function rl(D){var I=(D.expressionContext==="property"?Hf:tl)(ln(D.value),D.valueSpec);if(I.result==="error")return I.value.map(function(ae){return new Nr(""+D.key+ae.key,D.value,ae.message)});var G=I.value.expression||I.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!G.outputDefined())return[new Nr(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!yl(G))return[new Nr(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!yl(G))return[new Nr(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!wu(G,["zoom","feature-state"]))return[new Nr(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!Hl(G))return[new Nr(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function jh(D){var I=D.value,G=D.key,ae=hi(I);return ae!=="boolean"?[new Nr(G,I,"boolean expected, "+ae+" found")]:[]}function zo(D){var I=D.key,G=D.value,ae=hi(G);return ae!=="string"?[new Nr(I,G,"color expected, "+ae+" found")]:pc(G)===null?[new Nr(I,G,'color expected, "'+G+'" found')]:[]}function _u(D){var I=D.key,G=D.value,ae=D.valueSpec,ve=[];return Array.isArray(ae.values)?ae.values.indexOf(vn(G))===-1&&ve.push(new Nr(I,G,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(G)+" found")):Object.keys(ae.values).indexOf(vn(G))===-1&&ve.push(new Nr(I,G,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(G)+" found")),ve}function pf(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var I=0,G=D.slice(1);I<G.length;I+=1){var ae=G[I];if(!pf(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var Us={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function nl(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};pf(D)||(D=Fu(D));var I=tl(D,Us);if(I.result==="error")throw new Error(I.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var G=ku(D);return{filter:function(ae,ve,Se){return I.value.evaluate(ae,ve,{},Se)},needGeometry:G}}function jf(D,I){return D<I?-1:D>I?1:0}function ku(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var I=1;I<D.length;I++)if(ku(D[I]))return!0;return!1}function Fu(D){if(!D)return!0;var I=D[0];if(D.length<=1)return I!=="any";var G=I==="=="?gf(D[1],D[2],"=="):I==="!="?Al(gf(D[1],D[2],"==")):I==="<"||I===">"||I==="<="||I===">="?gf(D[1],D[2],I):I==="any"?Fc(D.slice(1)):I==="all"?["all"].concat(D.slice(1).map(Fu)):I==="none"?["all"].concat(D.slice(1).map(Fu).map(Al)):I==="in"?Ou(D[1],D.slice(2)):I==="!in"?Al(Ou(D[1],D.slice(2))):I==="has"?Gf(D[1]):I==="!has"?Al(Gf(D[1])):I==="within"?D:!0;return G}function gf(D,I,G){switch(D){case"$type":return["filter-type-"+G,I];case"$id":return["filter-id-"+G,I];default:return["filter-"+G,D,I]}}function Fc(D){return["any"].concat(D.map(Fu))}function Ou(D,I){if(I.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(G){return typeof G!=typeof I[0]})?["filter-in-large",D,["literal",I.sort(jf)]]:["filter-in-small",D,["literal",I]]}}function Gf(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function Al(D){return["!",D]}function Wf(D){return pf(ln(D.value))?rl(kn({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):zu(D)}function zu(D){var I=D.value,G=D.key;if(hi(I)!=="array")return[new Nr(G,I,"array expected, "+hi(I)+" found")];var ae=D.styleSpec,ve,Se=[];if(I.length<1)return[new Nr(G,I,"filter array must have at least 1 element")];switch(Se=Se.concat(_u({key:G+"[0]",value:I[0],valueSpec:ae.filter_operator,style:D.style,styleSpec:D.styleSpec})),vn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&vn(I[1])==="$type"&&Se.push(new Nr(G,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&Se.push(new Nr(G,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(ve=hi(I[1]),ve!=="string"&&Se.push(new Nr(G+"[1]",I[1],"string expected, "+ve+" found")));for(var De=2;De<I.length;De++)ve=hi(I[De]),vn(I[1])==="$type"?Se=Se.concat(_u({key:G+"["+De+"]",value:I[De],valueSpec:ae.geometry_type,style:D.style,styleSpec:D.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&Se.push(new Nr(G+"["+De+"]",I[De],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var Qe=1;Qe<I.length;Qe++)Se=Se.concat(zu({key:G+"["+Qe+"]",value:I[Qe],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":ve=hi(I[1]),I.length!==2?Se.push(new Nr(G,I,'filter array for "'+I[0]+'" operator must have 2 elements')):ve!=="string"&&Se.push(new Nr(G+"[1]",I[1],"string expected, "+ve+" found"));break;case"within":ve=hi(I[1]),I.length!==2?Se.push(new Nr(G,I,'filter array for "'+I[0]+'" operator must have 2 elements')):ve!=="object"&&Se.push(new Nr(G+"[1]",I[1],"object expected, "+ve+" found"));break}return Se}function Oc(D,I){var G=D.key,ae=D.style,ve=D.styleSpec,Se=D.value,De=D.objectKey,Qe=ve[I+"_"+D.layerType];if(!Qe)return[];var gt=De.match(/^(.*)-transition$/);if(I==="paint"&&gt&&Qe[gt[1]]&&Qe[gt[1]].transition)return kr({key:G,value:Se,valueSpec:ve.transition,style:ae,styleSpec:ve});var Et=D.valueSpec||Qe[De];if(!Et)return[new Nr(G,Se,'unknown property "'+De+'"')];var Rt;if(hi(Se)==="string"&&Bs(Et)&&!Et.tokens&&(Rt=/^{([^}]+)}$/.exec(Se)))return[new Nr(G,Se,'"'+De+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Rt[1])+" }`.")];var Wt=[];return D.layerType==="symbol"&&(De==="text-field"&&ae&&!ae.glyphs&&Wt.push(new Nr(G,Se,'use of "text-field" requires a style "glyphs" property')),De==="text-font"&&ql(ln(Se))&&vn(Se.type)==="identity"&&Wt.push(new Nr(G,Se,'"text-font" does not support identity functions'))),Wt.concat(kr({key:D.key,value:Se,valueSpec:Et,style:ae,styleSpec:ve,expressionContext:"property",propertyType:I,propertyKey:De}))}function $e(D){return Oc(D,"paint")}function ot(D){return Oc(D,"layout")}function xt(D){var I=[],G=D.value,ae=D.key,ve=D.style,Se=D.styleSpec;!G.type&&!G.ref&&I.push(new Nr(ae,G,'either "type" or "ref" is required'));var De=vn(G.type),Qe=vn(G.ref);if(G.id)for(var gt=vn(G.id),Et=0;Et<D.arrayIndex;Et++){var Rt=ve.layers[Et];vn(Rt.id)===gt&&I.push(new Nr(ae,G.id,'duplicate layer id "'+G.id+'", previously used at line '+Rt.id.__line__))}if("ref"in G){["type","source","source-layer","filter","layout"].forEach(function(xr){xr in G&&I.push(new Nr(ae,G[xr],'"'+xr+'" is prohibited for ref layers'))});var Wt;ve.layers.forEach(function(xr){vn(xr.id)===Qe&&(Wt=xr)}),Wt?Wt.ref?I.push(new Nr(ae,G.ref,"ref cannot reference another ref layer")):De=vn(Wt.type):I.push(new Nr(ae,G.ref,'ref layer "'+Qe+'" not found'))}else if(De!=="background")if(!G.source)I.push(new Nr(ae,G,'missing required property "source"'));else{var ar=ve.sources&&ve.sources[G.source],er=ar&&vn(ar.type);ar?er==="vector"&&De==="raster"?I.push(new Nr(ae,G.source,'layer "'+G.id+'" requires a raster source')):er==="raster"&&De!=="raster"?I.push(new Nr(ae,G.source,'layer "'+G.id+'" requires a vector source')):er==="vector"&&!G["source-layer"]?I.push(new Nr(ae,G,'layer "'+G.id+'" must specify a "source-layer"')):er==="raster-dem"&&De!=="hillshade"?I.push(new Nr(ae,G.source,"raster-dem source can only be used with layer type 'hillshade'.")):De==="line"&&G.paint&&G.paint["line-gradient"]&&(er!=="geojson"||!ar.lineMetrics)&&I.push(new Nr(ae,G,'layer "'+G.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Nr(ae,G.source,'source "'+G.source+'" not found'))}return I=I.concat(xo({key:ae,value:G,valueSpec:Se.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return kr({key:ae+".type",value:G.type,valueSpec:Se.layer.type,style:D.style,styleSpec:D.styleSpec,object:G,objectKey:"type"})},filter:Wf,layout:function(Or){return xo({layer:G,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function(tn){return ot(kn({layerType:De},tn))}}})},paint:function(Or){return xo({layer:G,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function(tn){return $e(kn({layerType:De},tn))}}})}}})),I}function wt(D){var I=D.value,G=D.key,ae=hi(I);return ae!=="string"?[new Nr(G,I,"string expected, "+ae+" found")]:[]}var Ot={promoteId:Ut};function _t(D){var I=D.value,G=D.key,ae=D.styleSpec,ve=D.style;if(!I.type)return[new Nr(G,I,'"type" is required')];var Se=vn(I.type),De;switch(Se){case"vector":case"raster":case"raster-dem":return De=xo({key:G,value:I,valueSpec:ae["source_"+Se.replace("-","_")],style:D.style,styleSpec:ae,objectElementValidators:Ot}),De;case"geojson":if(De=xo({key:G,value:I,valueSpec:ae.source_geojson,style:ve,styleSpec:ae,objectElementValidators:Ot}),I.cluster)for(var Qe in I.clusterProperties){var gt=I.clusterProperties[Qe],Et=gt[0],Rt=gt[1],Wt=typeof Et=="string"?[Et,["accumulated"],["get",Qe]]:Et;De.push.apply(De,rl({key:G+"."+Qe+".map",value:Rt,expressionContext:"cluster-map"})),De.push.apply(De,rl({key:G+"."+Qe+".reduce",value:Wt,expressionContext:"cluster-reduce"}))}return De;case"video":return xo({key:G,value:I,valueSpec:ae.source_video,style:ve,styleSpec:ae});case"image":return xo({key:G,value:I,valueSpec:ae.source_image,style:ve,styleSpec:ae});case"canvas":return[new Nr(G,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return _u({key:G+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:ae})}}function Ut(D){var I=D.key,G=D.value;if(hi(G)==="string")return wt({key:I,value:G});var ae=[];for(var ve in G)ae.push.apply(ae,wt({key:I+"."+ve,value:G[ve]}));return ae}function pr(D){var I=D.value,G=D.styleSpec,ae=G.light,ve=D.style,Se=[],De=hi(I);if(I===void 0)return Se;if(De!=="object")return Se=Se.concat([new Nr("light",I,"object expected, "+De+" found")]),Se;for(var Qe in I){var gt=Qe.match(/^(.*)-transition$/);gt&&ae[gt[1]]&&ae[gt[1]].transition?Se=Se.concat(kr({key:Qe,value:I[Qe],valueSpec:G.transition,style:ve,styleSpec:G})):ae[Qe]?Se=Se.concat(kr({key:Qe,value:I[Qe],valueSpec:ae[Qe],style:ve,styleSpec:G})):Se=Se.concat([new Nr(Qe,I[Qe],'unknown property "'+Qe+'"')])}return Se}function wr(D){return wt(D).length===0?[]:rl(D)}function ir(D){return wt(D).length===0?[]:rl(D)}var Mr={"*":function(){return[]},array:Iu,boolean:jh,number:tu,color:zo,constants:wn,enum:_u,filter:Wf,function:kc,layer:xt,object:xo,source:_t,light:pr,string:wt,formatted:wr,resolvedImage:ir};function kr(D){var I=D.value,G=D.valueSpec,ae=D.styleSpec;if(G.expression&&ql(vn(I)))return kc(D);if(G.expression&&Ru(ln(I)))return rl(D);if(G.type&&Mr[G.type])return Mr[G.type](D);var ve=xo(kn({},D,{valueSpec:G.type?ae[G.type]:G}));return ve}function Br(D){var I=D.value,G=D.key,ae=wt(D);return ae.length||(I.indexOf("{fontstack}")===-1&&ae.push(new Nr(G,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&ae.push(new Nr(G,I,'"glyphs" url must include a "{range}" token'))),ae}function rn(D,I){I===void 0&&(I=Sr);var G=[];return G=G.concat(kr({key:"",value:D,valueSpec:I.$root,styleSpec:I,style:D,objectElementValidators:{glyphs:Br,"*":function(){return[]}}})),D.constants&&(G=G.concat(wn({key:"constants",value:D.constants,style:D,styleSpec:I}))),bn(G)}rn.source=In(_t),rn.light=In(pr),rn.layer=In(xt),rn.filter=In(Wf),rn.paintProperty=In($e),rn.layoutProperty=In(ot);function bn(D){return[].concat(D).sort(function(I,G){return I.line-G.line})}function In(D){return function(){for(var I=[],G=arguments.length;G--;)I[G]=arguments[G];return bn(D.apply(this,I))}}var _n=rn,Zn=_n.light,Ra=_n.paintProperty,Da=_n.layoutProperty;function Ia(D,I){var G=!1;if(I&&I.length)for(var ae=0,ve=I;ae<ve.length;ae+=1){var Se=ve[ae];D.fire(new Nt(new Error(Se.message))),G=!0}return G}var za=vi,Xa=3;function vi(D,I,G){var ae=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var ve=new Int32Array(this.arrayBuffer);D=ve[0],I=ve[1],G=ve[2],this.d=I+2*G;for(var Se=0;Se<this.d*this.d;Se++){var De=ve[Xa+Se],Qe=ve[Xa+Se+1];ae.push(De===Qe?null:ve.subarray(De,Qe))}var gt=ve[Xa+ae.length],Et=ve[Xa+ae.length+1];this.keys=ve.subarray(gt,Et),this.bboxes=ve.subarray(Et),this.insert=this._insertReadonly}else{this.d=I+2*G;for(var Rt=0;Rt<this.d*this.d;Rt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=D,this.padding=G,this.scale=I/D,this.uid=0;var Wt=G/I*D;this.min=-Wt,this.max=D+Wt}vi.prototype.insert=function(D,I,G,ae,ve){this._forEachCell(I,G,ae,ve,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(I),this.bboxes.push(G),this.bboxes.push(ae),this.bboxes.push(ve)},vi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},vi.prototype._insertCell=function(D,I,G,ae,ve,Se){this.cells[ve].push(Se)},vi.prototype.query=function(D,I,G,ae,ve){var Se=this.min,De=this.max;if(D<=Se&&I<=Se&&De<=G&&De<=ae&&!ve)return Array.prototype.slice.call(this.keys);var Qe=[],gt={};return this._forEachCell(D,I,G,ae,this._queryCell,Qe,gt,ve),Qe},vi.prototype._queryCell=function(D,I,G,ae,ve,Se,De,Qe){var gt=this.cells[ve];if(gt!==null)for(var Et=this.keys,Rt=this.bboxes,Wt=0;Wt<gt.length;Wt++){var ar=gt[Wt];if(De[ar]===void 0){var er=ar*4;(Qe?Qe(Rt[er+0],Rt[er+1],Rt[er+2],Rt[er+3]):D<=Rt[er+2]&&I<=Rt[er+3]&&G>=Rt[er+0]&&ae>=Rt[er+1])?(De[ar]=!0,Se.push(Et[ar])):De[ar]=!1}}},vi.prototype._forEachCell=function(D,I,G,ae,ve,Se,De,Qe){for(var gt=this._convertToCellCoord(D),Et=this._convertToCellCoord(I),Rt=this._convertToCellCoord(G),Wt=this._convertToCellCoord(ae),ar=gt;ar<=Rt;ar++)for(var er=Et;er<=Wt;er++){var xr=this.d*er+ar;if(!(Qe&&!Qe(this._convertFromCellCoord(ar),this._convertFromCellCoord(er),this._convertFromCellCoord(ar+1),this._convertFromCellCoord(er+1)))&&ve.call(this,D,I,G,ae,xr,Se,De,Qe))return}},vi.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},vi.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},vi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,I=Xa+this.cells.length+1+1,G=0,ae=0;ae<this.cells.length;ae++)G+=this.cells[ae].length;var ve=new Int32Array(I+G+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var Se=I,De=0;De<D.length;De++){var Qe=D[De];ve[Xa+De]=Se,ve.set(Qe,Se),Se+=Qe.length}return ve[Xa+D.length]=Se,ve.set(this.keys,Se),Se+=this.keys.length,ve[Xa+D.length+1]=Se,ve.set(this.bboxes,Se),Se+=this.bboxes.length,ve.buffer};var Fi=i.ImageData,fe=i.ImageBitmap,Le={};function ze(D,I,G){G===void 0&&(G={}),Object.defineProperty(I,"_classRegistryKey",{value:D,writeable:!1}),Le[D]={klass:I,omit:G.omit||[],shallow:G.shallow||[]}}ze("Object",Object),za.serialize=function(I,G){var ae=I.toArrayBuffer();return G&&G.push(ae),{buffer:ae}},za.deserialize=function(I){return new za(I.buffer)},ze("Grid",za),ze("Color",qa),ze("Error",Error),ze("ResolvedImage",Mo),ze("StylePropertyFunction",Tl),ze("StyleExpression",el,{omit:["_evaluator"]}),ze("ZoomDependentExpression",ws),ze("ZoomConstantExpression",Wi),ze("CompoundExpression",qi,{omit:["_evaluate"]});for(var qe in Jl)Jl[qe]._classRegistryKey||ze("Expression_"+qe,Jl[qe]);function it(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function ct(D){return fe&&D instanceof fe}function Pt(D,I){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(it(D)||ct(D))return I&&I.push(D),D;if(ArrayBuffer.isView(D)){var G=D;return I&&I.push(G.buffer),G}if(D instanceof Fi)return I&&I.push(D.data.buffer),D;if(Array.isArray(D)){for(var ae=[],ve=0,Se=D;ve<Se.length;ve+=1){var De=Se[ve];ae.push(Pt(De,I))}return ae}if(typeof D=="object"){var Qe=D.constructor,gt=Qe._classRegistryKey;if(!gt)throw new Error("can't serialize object of unregistered class");var Et=Qe.serialize?Qe.serialize(D,I):{};if(!Qe.serialize){for(var Rt in D)if(D.hasOwnProperty(Rt)&&!(Le[gt].omit.indexOf(Rt)>=0)){var Wt=D[Rt];Et[Rt]=Le[gt].shallow.indexOf(Rt)>=0?Wt:Pt(Wt,I)}D instanceof Error&&(Et.message=D.message)}if(Et.$name)throw new Error("$name property is reserved for worker serialization logic.");return gt!=="Object"&&(Et.$name=gt),Et}throw new Error("can't serialize object of type "+typeof D)}function Mt(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||it(D)||ct(D)||ArrayBuffer.isView(D)||D instanceof Fi)return D;if(Array.isArray(D))return D.map(Mt);if(typeof D=="object"){var I=D.$name||"Object",G=Le[I],ae=G.klass;if(!ae)throw new Error("can't deserialize unregistered class "+I);if(ae.deserialize)return ae.deserialize(D);for(var ve=Object.create(ae.prototype),Se=0,De=Object.keys(D);Se<De.length;Se+=1){var Qe=De[Se];if(Qe!=="$name"){var gt=D[Qe];ve[Qe]=Le[I].shallow.indexOf(Qe)>=0?gt:Mt(gt)}}return ve}throw new Error("can't deserialize object of type "+typeof D)}var jt=function(){this.first=!0};jt.prototype.update=function(I,G){var ae=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=G):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=G),I!==this.lastZoom?(this.lastZoom=I,this.lastFloorZoom=ae,!0):!1)};var Gt={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function rr(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(sn(ae.charCodeAt(0)))return!0}return!1}function Lr(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(!Rr(ae.charCodeAt(0)))return!1}return!0}function Rr(D){return!(Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D))}function $r(D){return D<11904?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)||Gt["Vertical Forms"](D)||Gt["Yi Radicals"](D)||Gt["Yi Syllables"](D))}function sn(D){return D===746||D===747?!0:D<4352?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Hangul Compatibility Jamo"](D)||Gt["Hangul Jamo Extended-A"](D)||Gt["Hangul Jamo Extended-B"](D)||Gt["Hangul Jamo"](D)||Gt["Hangul Syllables"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt.Kanbun(D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)&&D!==12540||Gt["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||Gt["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](D)||Gt["Unified Canadian Aboriginal Syllabics Extended"](D)||Gt["Vertical Forms"](D)||Gt["Yijing Hexagram Symbols"](D)||Gt["Yi Syllables"](D)||Gt["Yi Radicals"](D))}function Ir(D){return!!(Gt["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Gt["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Gt["Letterlike Symbols"](D)||Gt["Number Forms"](D)||Gt["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Gt["Control Pictures"](D)&&D!==9251||Gt["Optical Character Recognition"](D)||Gt["Enclosed Alphanumerics"](D)||Gt["Geometric Shapes"](D)||Gt["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Gt["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Gt["CJK Symbols and Punctuation"](D)||Gt.Katakana(D)||Gt["Private Use Area"](D)||Gt["CJK Compatibility Forms"](D)||Gt["Small Form Variants"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function Ur(D){return!(sn(D)||Ir(D))}function Kr(D){return Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function fn(D){return D>=1424&&D<=2303||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function dn(D,I){return!(!I&&fn(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Gt.Khmer(D))}function en(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(fn(ae.charCodeAt(0)))return!0}return!1}function Hn(D,I){for(var G=0,ae=D;G<ae.length;G+=1){var ve=ae[G];if(!dn(ve.charCodeAt(0),I))return!1}return!0}var ea={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},fa=null,Qn=ea.unavailable,ia=null,ca=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(Qn=ea.error),fa&&fa(D)};function Ba(){Ea.fire(new nr("pluginStateChange",{pluginStatus:Qn,pluginURL:ia}))}var Ea=new hr,Fa=function(){return Qn},ni=function(D){return D({pluginStatus:Qn,pluginURL:ia}),Ea.on("pluginStateChange",D),D},Ni=function(D,I,G){if(G===void 0&&(G=!1),Qn===ea.deferred||Qn===ea.loading||Qn===ea.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ia=le.resolveURL(D),Qn=ea.deferred,fa=I,Ba(),G||ui()},ui=function(){if(Qn!==ea.deferred||!ia)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qn=ea.loading,Ba(),ia&&Vt({url:ia},function(D){D?ca(D):(Qn=ea.loaded,Ba())})},Jn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Qn===ea.loaded||Jn.applyArabicShaping!=null},isLoading:function(){return Qn===ea.loading},setState:function(I){Qn=I.pluginStatus,ia=I.pluginURL},isParsed:function(){return Jn.applyArabicShaping!=null&&Jn.processBidirectionalText!=null&&Jn.processStyledBidirectionalText!=null},getPluginURL:function(){return ia}},Va=function(){!Jn.isLoading()&&!Jn.isLoaded()&&Fa()==="deferred"&&ui()},Sa=function(I,G){this.zoom=I,G?(this.now=G.now,this.fadeDuration=G.fadeDuration,this.zoomHistory=G.zoomHistory,this.transition=G.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new jt,this.transition={})};Sa.prototype.isSupportedScript=function(I){return Hn(I,Jn.isLoaded())},Sa.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Sa.prototype.getCrossfadeParameters=function(){var I=this.zoom,G=I-Math.floor(I),ae=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:G+(1-G)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*G}};var Za=function(I,G){this.property=I,this.value=G,this.expression=df(G===void 0?I.specification.default:G,I.specification)};Za.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Za.prototype.possiblyEvaluate=function(I,G,ae){return this.property.possiblyEvaluate(this,I,G,ae)};var bi=function(I){this.property=I,this.value=new Za(I,void 0)};bi.prototype.transitioned=function(I,G){return new to(this.property,this.value,G,w({},I.transition,this.transition),I.now)},bi.prototype.untransitioned=function(){return new to(this.property,this.value,null,{},0)};var ai=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};ai.prototype.getValue=function(I){return B(this._values[I].value.value)},ai.prototype.setValue=function(I,G){this._values.hasOwnProperty(I)||(this._values[I]=new bi(this._values[I].property)),this._values[I].value=new Za(this._values[I].property,G===null?void 0:B(G))},ai.prototype.getTransition=function(I){return B(this._values[I].transition)},ai.prototype.setTransition=function(I,G){this._values.hasOwnProperty(I)||(this._values[I]=new bi(this._values[I].property)),this._values[I].transition=B(G)||void 0},ai.prototype.serialize=function(){for(var I={},G=0,ae=Object.keys(this._values);G<ae.length;G+=1){var ve=ae[G],Se=this.getValue(ve);Se!==void 0&&(I[ve]=Se);var De=this.getTransition(ve);De!==void 0&&(I[ve+"-transition"]=De)}return I},ai.prototype.transitioned=function(I,G){for(var ae=new ro(this._properties),ve=0,Se=Object.keys(this._values);ve<Se.length;ve+=1){var De=Se[ve];ae._values[De]=this._values[De].transitioned(I,G._values[De])}return ae},ai.prototype.untransitioned=function(){for(var I=new ro(this._properties),G=0,ae=Object.keys(this._values);G<ae.length;G+=1){var ve=ae[G];I._values[ve]=this._values[ve].untransitioned()}return I};var to=function(I,G,ae,ve,Se){this.property=I,this.value=G,this.begin=Se+ve.delay||0,this.end=this.begin+ve.duration||0,I.specification.transition&&(ve.delay||ve.duration)&&(this.prior=ae)};to.prototype.possiblyEvaluate=function(I,G,ae){var ve=I.now||0,Se=this.value.possiblyEvaluate(I,G,ae),De=this.prior;if(De){if(ve>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(ve<this.begin)return De.possiblyEvaluate(I,G,ae);var Qe=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(I,G,ae),Se,f(Qe))}else return Se};var ro=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};ro.prototype.possiblyEvaluate=function(I,G,ae){for(var ve=new bo(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var Qe=De[Se];ve._values[Qe]=this._values[Qe].possiblyEvaluate(I,G,ae)}return ve},ro.prototype.hasTransition=function(){for(var I=0,G=Object.keys(this._values);I<G.length;I+=1){var ae=G[I];if(this._values[ae].prior)return!0}return!1};var so=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};so.prototype.getValue=function(I){return B(this._values[I].value)},so.prototype.setValue=function(I,G){this._values[I]=new Za(this._values[I].property,G===null?void 0:B(G))},so.prototype.serialize=function(){for(var I={},G=0,ae=Object.keys(this._values);G<ae.length;G+=1){var ve=ae[G],Se=this.getValue(ve);Se!==void 0&&(I[ve]=Se)}return I},so.prototype.possiblyEvaluate=function(I,G,ae){for(var ve=new bo(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var Qe=De[Se];ve._values[Qe]=this._values[Qe].possiblyEvaluate(I,G,ae)}return ve};var wi=function(I,G,ae){this.property=I,this.value=G,this.parameters=ae};wi.prototype.isConstant=function(){return this.value.kind==="constant"},wi.prototype.constantOr=function(I){return this.value.kind==="constant"?this.value.value:I},wi.prototype.evaluate=function(I,G,ae,ve){return this.property.evaluate(this.value,this.parameters,I,G,ae,ve)};var bo=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};bo.prototype.get=function(I){return this._values[I]};var sa=function(I){this.specification=I};sa.prototype.possiblyEvaluate=function(I,G){return I.expression.evaluate(G)},sa.prototype.interpolate=function(I,G,ae){var ve=af[this.specification.type];return ve?ve(I,G,ae):I};var La=function(I,G){this.specification=I,this.overrides=G};La.prototype.possiblyEvaluate=function(I,G,ae,ve){return I.expression.kind==="constant"||I.expression.kind==="camera"?new wi(this,{kind:"constant",value:I.expression.evaluate(G,null,{},ae,ve)},G):new wi(this,I.expression,G)},La.prototype.interpolate=function(I,G,ae){if(I.value.kind!=="constant"||G.value.kind!=="constant")return I;if(I.value.value===void 0||G.value.value===void 0)return new wi(this,{kind:"constant",value:void 0},I.parameters);var ve=af[this.specification.type];return ve?new wi(this,{kind:"constant",value:ve(I.value.value,G.value.value,ae)},I.parameters):I},La.prototype.evaluate=function(I,G,ae,ve,Se,De){return I.kind==="constant"?I.value:I.evaluate(G,ae,ve,Se,De)};var No=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ae,ve,Se,De){if(ae.value===void 0)return new wi(this,{kind:"constant",value:void 0},ve);if(ae.expression.kind==="constant"){var Qe=ae.expression.evaluate(ve,null,{},Se,De),gt=ae.property.specification.type==="resolvedImage",Et=gt&&typeof Qe!="string"?Qe.name:Qe,Rt=this._calculate(Et,Et,Et,ve);return new wi(this,{kind:"constant",value:Rt},ve)}else if(ae.expression.kind==="camera"){var Wt=this._calculate(ae.expression.evaluate({zoom:ve.zoom-1}),ae.expression.evaluate({zoom:ve.zoom}),ae.expression.evaluate({zoom:ve.zoom+1}),ve);return new wi(this,{kind:"constant",value:Wt},ve)}else return new wi(this,ae.expression,ve)},I.prototype.evaluate=function(ae,ve,Se,De,Qe,gt){if(ae.kind==="source"){var Et=ae.evaluate(ve,Se,De,Qe,gt);return this._calculate(Et,Et,Et,ve)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(ve.zoom)-1},Se,De),ae.evaluate({zoom:Math.floor(ve.zoom)},Se,De),ae.evaluate({zoom:Math.floor(ve.zoom)+1},Se,De),ve):ae.value},I.prototype._calculate=function(ae,ve,Se,De){var Qe=De.zoom;return Qe>De.zoomHistory.lastIntegerZoom?{from:ae,to:ve}:{from:Se,to:ve}},I.prototype.interpolate=function(ae){return ae},I}(La),Go=function(I){this.specification=I};Go.prototype.possiblyEvaluate=function(I,G,ae,ve){if(I.value!==void 0)if(I.expression.kind==="constant"){var Se=I.expression.evaluate(G,null,{},ae,ve);return this._calculate(Se,Se,Se,G)}else return this._calculate(I.expression.evaluate(new Sa(Math.floor(G.zoom-1),G)),I.expression.evaluate(new Sa(Math.floor(G.zoom),G)),I.expression.evaluate(new Sa(Math.floor(G.zoom+1),G)),G)},Go.prototype._calculate=function(I,G,ae,ve){var Se=ve.zoom;return Se>ve.zoomHistory.lastIntegerZoom?{from:I,to:G}:{from:ae,to:G}},Go.prototype.interpolate=function(I){return I};var lo=function(I){this.specification=I};lo.prototype.possiblyEvaluate=function(I,G,ae,ve){return!!I.expression.evaluate(G,null,{},ae,ve)},lo.prototype.interpolate=function(){return!1};var ci=function(I){this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var G in I){var ae=I[G];ae.specification.overridable&&this.overridableProperties.push(G);var ve=this.defaultPropertyValues[G]=new Za(ae,void 0),Se=this.defaultTransitionablePropertyValues[G]=new bi(ae);this.defaultTransitioningPropertyValues[G]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[G]=ve.possiblyEvaluate({})}};ze("DataDrivenProperty",La),ze("DataConstantProperty",sa),ze("CrossFadedDataDrivenProperty",No),ze("CrossFadedProperty",Go),ze("ColorRampProperty",lo);var Yi="-transition",Bi=function(D){function I(G,ae){if(D.call(this),this.id=G.id,this.type=G.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},G.type!=="custom"&&(G=G,this.metadata=G.metadata,this.minzoom=G.minzoom,this.maxzoom=G.maxzoom,G.type!=="background"&&(this.source=G.source,this.sourceLayer=G["source-layer"],this.filter=G.filter),ae.layout&&(this._unevaluatedLayout=new so(ae.layout)),ae.paint)){this._transitionablePaint=new ai(ae.paint);for(var ve in G.paint)this.setPaintProperty(ve,G.paint[ve],{validate:!1});for(var Se in G.layout)this.setLayoutProperty(Se,G.layout[Se],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new bo(ae.paint)}}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},I.prototype.setLayoutProperty=function(ae,ve,Se){if(Se===void 0&&(Se={}),ve!=null){var De="layers."+this.id+".layout."+ae;if(this._validate(Da,De,ae,ve,Se))return}if(ae==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(ae,ve)},I.prototype.getPaintProperty=function(ae){return T(ae,Yi)?this._transitionablePaint.getTransition(ae.slice(0,-Yi.length)):this._transitionablePaint.getValue(ae)},I.prototype.setPaintProperty=function(ae,ve,Se){if(Se===void 0&&(Se={}),ve!=null){var De="layers."+this.id+".paint."+ae;if(this._validate(Ra,De,ae,ve,Se))return!1}if(T(ae,Yi))return this._transitionablePaint.setTransition(ae.slice(0,-Yi.length),ve||void 0),!1;var Qe=this._transitionablePaint._values[ae],gt=Qe.property.specification["property-type"]==="cross-faded-data-driven",Et=Qe.value.isDataDriven(),Rt=Qe.value;this._transitionablePaint.setValue(ae,ve),this._handleSpecialPaintPropertyUpdate(ae);var Wt=this._transitionablePaint._values[ae].value,ar=Wt.isDataDriven();return ar||Et||gt||this._handleOverridablePaintPropertyUpdate(ae,Rt,Wt)},I.prototype._handleSpecialPaintPropertyUpdate=function(ae){},I.prototype._handleOverridablePaintPropertyUpdate=function(ae,ve,Se){return!1},I.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},I.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(ae,ve){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,ve)},I.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),_(ae,function(ve,Se){return ve!==void 0&&!(Se==="layout"&&!Object.keys(ve).length)&&!(Se==="paint"&&!Object.keys(ve).length)})},I.prototype._validate=function(ae,ve,Se,De,Qe){return Qe===void 0&&(Qe={}),Qe&&Qe.validate===!1?!1:Ia(this,ae.call(_n,{key:ve,layerType:this.type,objectKey:Se,value:De,styleSpec:Sr,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var ae in this.paint._values){var ve=this.paint.get(ae);if(!(!(ve instanceof wi)||!Bs(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},I}(hr),Ts={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Vs=function(I,G){this._structArray=I,this._pos1=G*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ci=128,ru=5,Ka=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ka.serialize=function(I,G){return I._trim(),G&&(I.isTransferred=!0,G.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},Ka.deserialize=function(I){var G=Object.create(this.prototype);return G.arrayBuffer=I.arrayBuffer,G.length=I.length,G.capacity=I.arrayBuffer.byteLength/G.bytesPerElement,G._refreshViews(),G},Ka.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ka.prototype.clear=function(){this.length=0},Ka.prototype.resize=function(I){this.reserve(I),this.length=I},Ka.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(this.capacity*ru),Ci),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var G=this.uint8;this._refreshViews(),G&&this.uint8.set(G)}},Ka.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Li(D,I){I===void 0&&(I=1);var G=0,ae=0,ve=D.map(function(De){var Qe=Gh(De.type),gt=G=np(G,Math.max(I,Qe)),Et=De.components||1;return ae=Math.max(ae,Qe),G+=Qe*Et,{name:De.name,type:De.type,components:Et,offset:gt}}),Se=np(G,Math.max(ae,I));return{members:ve,size:Se,alignment:I}}function Gh(D){return Ts[D].BYTES_PER_ELEMENT}function np(D,I){return Math.ceil(D/I)*I}var Yf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,ve)},I.prototype.emplace=function(ae,ve,Se){var De=ae*2;return this.int16[De+0]=ve,this.int16[De+1]=Se,ae},I}(Ka);Yf.prototype.bytesPerElement=4,ze("StructArrayLayout2i4",Yf);var Ld=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,ve,Se,De)},I.prototype.emplace=function(ae,ve,Se,De,Qe){var gt=ae*4;return this.int16[gt+0]=ve,this.int16[gt+1]=Se,this.int16[gt+2]=De,this.int16[gt+3]=Qe,ae},I}(Ka);Ld.prototype.bytesPerElement=8,ze("StructArrayLayout4i8",Ld);var yf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,ve,Se,De,Qe,gt)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt,Et){var Rt=ae*6;return this.int16[Rt+0]=ve,this.int16[Rt+1]=Se,this.int16[Rt+2]=De,this.int16[Rt+3]=Qe,this.int16[Rt+4]=gt,this.int16[Rt+5]=Et,ae},I}(Ka);yf.prototype.bytesPerElement=12,ze("StructArrayLayout2i4i12",yf);var zc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,ve,Se,De,Qe,gt)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt,Et){var Rt=ae*4,Wt=ae*8;return this.int16[Rt+0]=ve,this.int16[Rt+1]=Se,this.uint8[Wt+4]=De,this.uint8[Wt+5]=Qe,this.uint8[Wt+6]=gt,this.uint8[Wt+7]=Et,ae},I}(Ka);zc.prototype.bytesPerElement=8,ze("StructArrayLayout2i4ub8",zc);var Nc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,ve)},I.prototype.emplace=function(ae,ve,Se){var De=ae*2;return this.float32[De+0]=ve,this.float32[De+1]=Se,ae},I}(Ka);Nc.prototype.bytesPerElement=8,ze("StructArrayLayout2f8",Nc);var ls=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar){var er=this.length;return this.resize(er+1),this.emplace(er,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er){var xr=ae*10;return this.uint16[xr+0]=ve,this.uint16[xr+1]=Se,this.uint16[xr+2]=De,this.uint16[xr+3]=Qe,this.uint16[xr+4]=gt,this.uint16[xr+5]=Et,this.uint16[xr+6]=Rt,this.uint16[xr+7]=Wt,this.uint16[xr+8]=ar,this.uint16[xr+9]=er,ae},I}(Ka);ls.prototype.bytesPerElement=20,ze("StructArrayLayout10ui20",ls);var mf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr){var Or=this.length;return this.resize(Or+1),this.emplace(Or,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or){var un=ae*12;return this.int16[un+0]=ve,this.int16[un+1]=Se,this.int16[un+2]=De,this.int16[un+3]=Qe,this.uint16[un+4]=gt,this.uint16[un+5]=Et,this.uint16[un+6]=Rt,this.uint16[un+7]=Wt,this.int16[un+8]=ar,this.int16[un+9]=er,this.int16[un+10]=xr,this.int16[un+11]=Or,ae},I}(Ka);mf.prototype.bytesPerElement=24,ze("StructArrayLayout4i4ui4i24",mf);var Pd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ae,ve,Se)},I.prototype.emplace=function(ae,ve,Se,De){var Qe=ae*3;return this.float32[Qe+0]=ve,this.float32[Qe+1]=Se,this.float32[Qe+2]=De,ae},I}(Ka);Pd.prototype.bytesPerElement=12,ze("StructArrayLayout3f12",Pd);var Rd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},I.prototype.emplace=function(ae,ve){var Se=ae*1;return this.uint32[Se+0]=ve,ae},I}(Ka);Rd.prototype.bytesPerElement=4,ze("StructArrayLayout1ul4",Rd);var Wh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt){var ar=this.length;return this.resize(ar+1),this.emplace(ar,ae,ve,Se,De,Qe,gt,Et,Rt,Wt)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar){var er=ae*10,xr=ae*5;return this.int16[er+0]=ve,this.int16[er+1]=Se,this.int16[er+2]=De,this.int16[er+3]=Qe,this.int16[er+4]=gt,this.int16[er+5]=Et,this.uint32[xr+3]=Rt,this.uint16[er+8]=Wt,this.uint16[er+9]=ar,ae},I}(Ka);Wh.prototype.bytesPerElement=20,ze("StructArrayLayout6i1ul2ui20",Wh);var bv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,ve,Se,De,Qe,gt)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt,Et){var Rt=ae*6;return this.int16[Rt+0]=ve,this.int16[Rt+1]=Se,this.int16[Rt+2]=De,this.int16[Rt+3]=Qe,this.int16[Rt+4]=gt,this.int16[Rt+5]=Et,ae},I}(Ka);bv.prototype.bytesPerElement=12,ze("StructArrayLayout2i2i2i12",bv);var Nu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe){var gt=this.length;return this.resize(gt+1),this.emplace(gt,ae,ve,Se,De,Qe)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt){var Et=ae*4,Rt=ae*8;return this.float32[Et+0]=ve,this.float32[Et+1]=Se,this.float32[Et+2]=De,this.int16[Rt+6]=Qe,this.int16[Rt+7]=gt,ae},I}(Ka);Nu.prototype.bytesPerElement=16,ze("StructArrayLayout2f1f2i16",Nu);var As=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,ve,Se,De)},I.prototype.emplace=function(ae,ve,Se,De,Qe){var gt=ae*12,Et=ae*3;return this.uint8[gt+0]=ve,this.uint8[gt+1]=Se,this.float32[Et+1]=De,this.float32[Et+2]=Qe,ae},I}(Ka);As.prototype.bytesPerElement=12,ze("StructArrayLayout2ub2f12",As);var Bu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ae,ve,Se)},I.prototype.emplace=function(ae,ve,Se,De){var Qe=ae*3;return this.uint16[Qe+0]=ve,this.uint16[Qe+1]=Se,this.uint16[Qe+2]=De,ae},I}(Ka);Bu.prototype.bytesPerElement=6,ze("StructArrayLayout3ui6",Bu);var Yh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn){var On=ae*24,Wn=ae*12,ra=ae*48;return this.int16[On+0]=ve,this.int16[On+1]=Se,this.uint16[On+2]=De,this.uint16[On+3]=Qe,this.uint32[Wn+2]=gt,this.uint32[Wn+3]=Et,this.uint32[Wn+4]=Rt,this.uint16[On+10]=Wt,this.uint16[On+11]=ar,this.uint16[On+12]=er,this.float32[Wn+7]=xr,this.float32[Wn+8]=Or,this.uint8[ra+36]=un,this.uint8[ra+37]=tn,this.uint8[ra+38]=En,this.uint32[Wn+10]=xn,this.int16[On+22]=Mn,ae},I}(Ka);Yh.prototype.bytesPerElement=48,ze("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Yh);var wv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn,On,Wn,ra,qn,Ta,da,wa,Ua,Aa,Ca){var Ga=this.length;return this.resize(Ga+1),this.emplace(Ga,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn,On,Wn,ra,qn,Ta,da,wa,Ua,Aa,Ca)},I.prototype.emplace=function(ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn,On,Wn,ra,qn,Ta,da,wa,Ua,Aa,Ca,Ga){var Na=ae*34,oi=ae*17;return this.int16[Na+0]=ve,this.int16[Na+1]=Se,this.int16[Na+2]=De,this.int16[Na+3]=Qe,this.int16[Na+4]=gt,this.int16[Na+5]=Et,this.int16[Na+6]=Rt,this.int16[Na+7]=Wt,this.uint16[Na+8]=ar,this.uint16[Na+9]=er,this.uint16[Na+10]=xr,this.uint16[Na+11]=Or,this.uint16[Na+12]=un,this.uint16[Na+13]=tn,this.uint16[Na+14]=En,this.uint16[Na+15]=xn,this.uint16[Na+16]=Mn,this.uint16[Na+17]=On,this.uint16[Na+18]=Wn,this.uint16[Na+19]=ra,this.uint16[Na+20]=qn,this.uint16[Na+21]=Ta,this.uint16[Na+22]=da,this.uint32[oi+12]=wa,this.float32[oi+13]=Ua,this.float32[oi+14]=Aa,this.float32[oi+15]=Ca,this.float32[oi+16]=Ga,ae},I}(Ka);wv.prototype.bytesPerElement=68,ze("StructArrayLayout8i15ui1ul4f68",wv);var Bc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},I.prototype.emplace=function(ae,ve){var Se=ae*1;return this.float32[Se+0]=ve,ae},I}(Ka);Bc.prototype.bytesPerElement=4,ze("StructArrayLayout1f4",Bc);var Dd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ae,ve,Se)},I.prototype.emplace=function(ae,ve,Se,De){var Qe=ae*3;return this.int16[Qe+0]=ve,this.int16[Qe+1]=Se,this.int16[Qe+2]=De,ae},I}(Ka);Dd.prototype.bytesPerElement=6,ze("StructArrayLayout3i6",Dd);var xf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ae,ve,Se)},I.prototype.emplace=function(ae,ve,Se,De){var Qe=ae*2,gt=ae*4;return this.uint32[Qe+0]=ve,this.uint16[gt+2]=Se,this.uint16[gt+3]=De,ae},I}(Ka);xf.prototype.bytesPerElement=8,ze("StructArrayLayout1ul2ui8",xf);var Xh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,ve)},I.prototype.emplace=function(ae,ve,Se){var De=ae*2;return this.uint16[De+0]=ve,this.uint16[De+1]=Se,ae},I}(Ka);Xh.prototype.bytesPerElement=4,ze("StructArrayLayout2ui4",Xh);var Uc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},I.prototype.emplace=function(ae,ve){var Se=ae*1;return this.uint16[Se+0]=ve,ae},I}(Ka);Uc.prototype.bytesPerElement=2,ze("StructArrayLayout1ui2",Uc);var Xf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,ve,Se,De){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,ve,Se,De)},I.prototype.emplace=function(ae,ve,Se,De,Qe){var gt=ae*4;return this.float32[gt+0]=ve,this.float32[gt+1]=Se,this.float32[gt+2]=De,this.float32[gt+3]=Qe,ae},I}(Ka);Xf.prototype.bytesPerElement=16,ze("StructArrayLayout4f16",Xf);var ap=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var G={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return G.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},G.x1.get=function(){return this._structArray.int16[this._pos2+2]},G.y1.get=function(){return this._structArray.int16[this._pos2+3]},G.x2.get=function(){return this._structArray.int16[this._pos2+4]},G.y2.get=function(){return this._structArray.int16[this._pos2+5]},G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,G),I}(Vs);ap.prototype.size=20;var Id=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new ap(this,ae)},I}(Wh);ze("CollisionBoxArray",Id);var Zf=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},G.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},G.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},G.segment.get=function(){return this._structArray.uint16[this._pos2+10]},G.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},G.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},G.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},G.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},G.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},G.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},G.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},G.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},G.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},G.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},G.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,G),I}(Vs);Zf.prototype.size=48;var _d=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new Zf(this,ae)},I}(Yh);ze("PlacedSymbolArray",_d);var Vc=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},G.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},G.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},G.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},G.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},G.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},G.key.get=function(){return this._structArray.uint16[this._pos2+8]},G.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},G.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},G.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},G.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},G.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},G.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},G.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},G.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},G.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},G.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},G.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},G.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},G.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},G.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},G.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},G.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},G.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},G.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,G),I}(Vs);Vc.prototype.size=68;var ip=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new Vc(this,ae)},I}(wv);ze("SymbolInstanceArray",ip);var op=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},I}(Bc);ze("GlyphOffsetArray",op);var Sl=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getx=function(ae){return this.int16[ae*3+0]},I.prototype.gety=function(ae){return this.int16[ae*3+1]},I.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},I}(Dd);ze("SymbolLineVertexArray",Sl);var sp=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var G={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,G),I}(Vs);sp.prototype.size=8;var lp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new sp(this,ae)},I}(xf);ze("FeatureIndexArray",lp);var Jy=Li([{name:"a_pos",components:2,type:"Int16"}],4),up=Jy.members,uo=function(I){I===void 0&&(I=[]),this.segments=I};uo.prototype.prepareSegment=function(I,G,ae,ve){var Se=this.segments[this.segments.length-1];return I>uo.MAX_VERTEX_ARRAY_LENGTH&&N("Max vertices per segment is "+uo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!Se||Se.vertexLength+I>uo.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==ve)&&(Se={vertexOffset:G.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(Se.sortKey=ve),this.segments.push(Se)),Se},uo.prototype.get=function(){return this.segments},uo.prototype.destroy=function(){for(var I=0,G=this.segments;I<G.length;I+=1){var ae=G[I];for(var ve in ae.vaos)ae.vaos[ve].destroy()}},uo.simpleSegment=function(I,G,ae,ve){return new uo([{vertexOffset:I,primitiveOffset:G,vertexLength:ae,primitiveLength:ve,vaos:{},sortKey:0}])},uo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ze("SegmentVector",uo);function he(D,I){return D=h(Math.floor(D),0,255),I=h(Math.floor(I),0,255),256*D+I}var Z=Li([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),de=x(function(D){function I(G,ae){var ve,Se,De,Qe,gt,Et,Rt,Wt;for(ve=G.length&3,Se=G.length-ve,De=ae,gt=3432918353,Et=461845907,Wt=0;Wt<Se;)Rt=G.charCodeAt(Wt)&255|(G.charCodeAt(++Wt)&255)<<8|(G.charCodeAt(++Wt)&255)<<16|(G.charCodeAt(++Wt)&255)<<24,++Wt,Rt=(Rt&65535)*gt+(((Rt>>>16)*gt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*Et+(((Rt>>>16)*Et&65535)<<16)&4294967295,De^=Rt,De=De<<13|De>>>19,Qe=(De&65535)*5+(((De>>>16)*5&65535)<<16)&4294967295,De=(Qe&65535)+27492+(((Qe>>>16)+58964&65535)<<16);switch(Rt=0,ve){case 3:Rt^=(G.charCodeAt(Wt+2)&255)<<16;case 2:Rt^=(G.charCodeAt(Wt+1)&255)<<8;case 1:Rt^=G.charCodeAt(Wt)&255,Rt=(Rt&65535)*gt+(((Rt>>>16)*gt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*Et+(((Rt>>>16)*Et&65535)<<16)&4294967295,De^=Rt}return De^=G.length,De^=De>>>16,De=(De&65535)*2246822507+(((De>>>16)*2246822507&65535)<<16)&4294967295,De^=De>>>13,De=(De&65535)*3266489909+(((De>>>16)*3266489909&65535)<<16)&4294967295,De^=De>>>16,De>>>0}D.exports=I}),te=x(function(D){function I(G,ae){for(var ve=G.length,Se=ae^ve,De=0,Qe;ve>=4;)Qe=G.charCodeAt(De)&255|(G.charCodeAt(++De)&255)<<8|(G.charCodeAt(++De)&255)<<16|(G.charCodeAt(++De)&255)<<24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Qe^=Qe>>>24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)^Qe,ve-=4,++De;switch(ve){case 3:Se^=(G.charCodeAt(De+2)&255)<<16;case 2:Se^=(G.charCodeAt(De+1)&255)<<8;case 1:Se^=G.charCodeAt(De)&255,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)}return Se^=Se>>>13,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16),Se^=Se>>>15,Se>>>0}D.exports=I}),ge=de,Fe=de,Je=te;ge.murmur3=Fe,ge.murmur2=Je;var ft=function(){this.ids=[],this.positions=[],this.indexed=!1};ft.prototype.add=function(I,G,ae,ve){this.ids.push(Ht(I)),this.positions.push(G,ae,ve)},ft.prototype.getPositions=function(I){for(var G=Ht(I),ae=0,ve=this.ids.length-1;ae<ve;){var Se=ae+ve>>1;this.ids[Se]>=G?ve=Se:ae=Se+1}for(var De=[];this.ids[ae]===G;){var Qe=this.positions[3*ae],gt=this.positions[3*ae+1],Et=this.positions[3*ae+2];De.push({index:Qe,start:gt,end:Et}),ae++}return De},ft.serialize=function(I,G){var ae=new Float64Array(I.ids),ve=new Uint32Array(I.positions);return qt(ae,ve,0,ae.length-1),G&&G.push(ae.buffer,ve.buffer),{ids:ae,positions:ve}},ft.deserialize=function(I){var G=new ft;return G.ids=I.ids,G.positions=I.positions,G.indexed=!0,G};var Lt=Math.pow(2,53)-1;function Ht(D){var I=+D;return!isNaN(I)&&I<=Lt?I:ge(String(D))}function qt(D,I,G,ae){for(;G<ae;){for(var ve=D[G+ae>>1],Se=G-1,De=ae+1;;){do Se++;while(D[Se]<ve);do De--;while(D[De]>ve);if(Se>=De)break;lr(D,Se,De),lr(I,3*Se,3*De),lr(I,3*Se+1,3*De+1),lr(I,3*Se+2,3*De+2)}De-G<ae-De?(qt(D,I,G,De),G=De+1):(qt(D,I,De+1,ae),ae=De)}}function lr(D,I,G){var ae=D[I];D[I]=D[G],D[G]=ae}ze("FeaturePositionMap",ft);var or=function(I,G){this.gl=I.gl,this.location=G},Fr=function(D){function I(G,ae){D.call(this,G,ae),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},I}(or),Xr=function(D){function I(G,ae){D.call(this,G,ae),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},I}(or),Yr=function(D){function I(G,ae){D.call(this,G,ae),this.current=[0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},I}(or),jr=function(D){function I(G,ae){D.call(this,G,ae),this.current=[0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},I}(or),Jr=function(D){function I(G,ae){D.call(this,G,ae),this.current=[0,0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},I}(or),cn=function(D){function I(G,ae){D.call(this,G,ae),this.current=qa.transparent}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},I}(or),Fn=new Float32Array(16),Bn=function(D){function I(G,ae){D.call(this,G,ae),this.current=Fn}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var ve=1;ve<16;ve++)if(ae[ve]!==this.current[ve]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},I}(or);function Yn(D){return[he(255*D.r,255*D.g),he(255*D.b,255*D.a)]}var Xn=function(I,G,ae){this.value=I,this.uniformNames=G.map(function(ve){return"u_"+ve}),this.type=ae};Xn.prototype.setUniform=function(I,G,ae){I.set(ae.constantOr(this.value))},Xn.prototype.getBinding=function(I,G,ae){return this.type==="color"?new cn(I,G):new Xr(I,G)};var Gn=function(I,G){this.uniformNames=G.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Gn.prototype.setConstantPatternPositions=function(I,G){this.pixelRatioFrom=G.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=G.tlbr,this.patternTo=I.tlbr},Gn.prototype.setUniform=function(I,G,ae,ve){var Se=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Se&&I.set(Se)},Gn.prototype.getBinding=function(I,G,ae){return ae.substr(0,9)==="u_pattern"?new Jr(I,G):new Xr(I,G)};var Kn=function(I,G,ae,ve){this.expression=I,this.type=ae,this.maxValue=0,this.paintVertexAttributes=G.map(function(Se){return{name:"a_"+Se,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};Kn.prototype.populatePaintArray=function(I,G,ae,ve,Se){var De=this.paintVertexArray.length,Qe=this.expression.evaluate(new Sa(0),G,{},ve,[],Se);this.paintVertexArray.resize(I),this._setPaintValue(De,I,Qe)},Kn.prototype.updatePaintArray=function(I,G,ae,ve){var Se=this.expression.evaluate({zoom:0},ae,ve);this._setPaintValue(I,G,Se)},Kn.prototype._setPaintValue=function(I,G,ae){if(this.type==="color")for(var ve=Yn(ae),Se=I;Se<G;Se++)this.paintVertexArray.emplace(Se,ve[0],ve[1]);else{for(var De=I;De<G;De++)this.paintVertexArray.emplace(De,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},Kn.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Kn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ta=function(I,G,ae,ve,Se,De){this.expression=I,this.uniformNames=G.map(function(Qe){return"u_"+Qe+"_t"}),this.type=ae,this.useIntegerZoom=ve,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=G.map(function(Qe){return{name:"a_"+Qe,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new De};ta.prototype.populatePaintArray=function(I,G,ae,ve,Se){var De=this.expression.evaluate(new Sa(this.zoom),G,{},ve,[],Se),Qe=this.expression.evaluate(new Sa(this.zoom+1),G,{},ve,[],Se),gt=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(gt,I,De,Qe)},ta.prototype.updatePaintArray=function(I,G,ae,ve){var Se=this.expression.evaluate({zoom:this.zoom},ae,ve),De=this.expression.evaluate({zoom:this.zoom+1},ae,ve);this._setPaintValue(I,G,Se,De)},ta.prototype._setPaintValue=function(I,G,ae,ve){if(this.type==="color")for(var Se=Yn(ae),De=Yn(ve),Qe=I;Qe<G;Qe++)this.paintVertexArray.emplace(Qe,Se[0],Se[1],De[0],De[1]);else{for(var gt=I;gt<G;gt++)this.paintVertexArray.emplace(gt,ae,ve);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(ve))}},ta.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ta.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ta.prototype.setUniform=function(I,G){var ae=this.useIntegerZoom?Math.floor(G.zoom):G.zoom,ve=h(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);I.set(ve)},ta.prototype.getBinding=function(I,G,ae){return new Xr(I,G)};var la=function(I,G,ae,ve,Se,De){this.expression=I,this.type=G,this.useIntegerZoom=ae,this.zoom=ve,this.layerId=De,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};la.prototype.populatePaintArray=function(I,G,ae){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(ve,I,G.patterns&&G.patterns[this.layerId],ae)},la.prototype.updatePaintArray=function(I,G,ae,ve,Se){this._setPaintValues(I,G,ae.patterns&&ae.patterns[this.layerId],Se)},la.prototype._setPaintValues=function(I,G,ae,ve){if(!(!ve||!ae)){var Se=ae.min,De=ae.mid,Qe=ae.max,gt=ve[Se],Et=ve[De],Rt=ve[Qe];if(!(!gt||!Et||!Rt))for(var Wt=I;Wt<G;Wt++)this.zoomInPaintVertexArray.emplace(Wt,Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],gt.tl[0],gt.tl[1],gt.br[0],gt.br[1],Et.pixelRatio,gt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Wt,Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],Rt.tl[0],Rt.tl[1],Rt.br[0],Rt.br[1],Et.pixelRatio,Rt.pixelRatio)}},la.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,Z.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,Z.members,this.expression.isStateDependent))},la.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ba=function(I,G,ae){this.binders={},this._buffers=[];var ve=[];for(var Se in I.paint._values)if(ae(Se)){var De=I.paint.get(Se);if(!(!(De instanceof wi)||!Bs(De.property.specification))){var Qe=Oa(Se,I.type),gt=De.value,Et=De.property.specification.type,Rt=De.property.useIntegerZoom,Wt=De.property.specification["property-type"],ar=Wt==="cross-faded"||Wt==="cross-faded-data-driven";if(gt.kind==="constant")this.binders[Se]=ar?new Gn(gt.value,Qe):new Xn(gt.value,Qe,Et),ve.push("/u_"+Se);else if(gt.kind==="source"||ar){var er=Wa(Se,Et,"source");this.binders[Se]=ar?new la(gt,Et,Rt,G,er,I.id):new Kn(gt,Qe,Et,er),ve.push("/a_"+Se)}else{var xr=Wa(Se,Et,"composite");this.binders[Se]=new ta(gt,Qe,Et,Rt,G,xr),ve.push("/z_"+Se)}}}this.cacheKey=ve.sort().join("")};ba.prototype.getMaxValue=function(I){var G=this.binders[I];return G instanceof Kn||G instanceof ta?G.maxValue:0},ba.prototype.populatePaintArrays=function(I,G,ae,ve,Se){for(var De in this.binders){var Qe=this.binders[De];(Qe instanceof Kn||Qe instanceof ta||Qe instanceof la)&&Qe.populatePaintArray(I,G,ae,ve,Se)}},ba.prototype.setConstantPatternPositions=function(I,G){for(var ae in this.binders){var ve=this.binders[ae];ve instanceof Gn&&ve.setConstantPatternPositions(I,G)}},ba.prototype.updatePaintArrays=function(I,G,ae,ve,Se){var De=!1;for(var Qe in I)for(var gt=G.getPositions(Qe),Et=0,Rt=gt;Et<Rt.length;Et+=1){var Wt=Rt[Et],ar=ae.feature(Wt.index);for(var er in this.binders){var xr=this.binders[er];if((xr instanceof Kn||xr instanceof ta||xr instanceof la)&&xr.expression.isStateDependent===!0){var Or=ve.paint.get(er);xr.expression=Or.value,xr.updatePaintArray(Wt.start,Wt.end,ar,I[Qe],Se),De=!0}}}return De},ba.prototype.defines=function(){var I=[];for(var G in this.binders){var ae=this.binders[G];(ae instanceof Xn||ae instanceof Gn)&&I.push.apply(I,ae.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return I},ba.prototype.getBinderAttributes=function(){var I=[];for(var G in this.binders){var ae=this.binders[G];if(ae instanceof Kn||ae instanceof ta)for(var ve=0;ve<ae.paintVertexAttributes.length;ve++)I.push(ae.paintVertexAttributes[ve].name);else if(ae instanceof la)for(var Se=0;Se<Z.members.length;Se++)I.push(Z.members[Se].name)}return I},ba.prototype.getBinderUniforms=function(){var I=[];for(var G in this.binders){var ae=this.binders[G];if(ae instanceof Xn||ae instanceof Gn||ae instanceof ta)for(var ve=0,Se=ae.uniformNames;ve<Se.length;ve+=1){var De=Se[ve];I.push(De)}}return I},ba.prototype.getPaintVertexBuffers=function(){return this._buffers},ba.prototype.getUniforms=function(I,G){var ae=[];for(var ve in this.binders){var Se=this.binders[ve];if(Se instanceof Xn||Se instanceof Gn||Se instanceof ta)for(var De=0,Qe=Se.uniformNames;De<Qe.length;De+=1){var gt=Qe[De];if(G[gt]){var Et=Se.getBinding(I,G[gt],gt);ae.push({name:gt,property:ve,binding:Et})}}}return ae},ba.prototype.setUniforms=function(I,G,ae,ve){for(var Se=0,De=G;Se<De.length;Se+=1){var Qe=De[Se],gt=Qe.name,Et=Qe.property,Rt=Qe.binding;this.binders[Et].setUniform(Rt,ve,ae.get(Et),gt)}},ba.prototype.updatePaintBuffers=function(I){this._buffers=[];for(var G in this.binders){var ae=this.binders[G];if(I&&ae instanceof la){var ve=I.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(ae instanceof Kn||ae instanceof ta)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},ba.prototype.upload=function(I){for(var G in this.binders){var ae=this.binders[G];(ae instanceof Kn||ae instanceof ta||ae instanceof la)&&ae.upload(I)}this.updatePaintBuffers()},ba.prototype.destroy=function(){for(var I in this.binders){var G=this.binders[I];(G instanceof Kn||G instanceof ta||G instanceof la)&&G.destroy()}};var va=function(I,G,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var ve=0,Se=I;ve<Se.length;ve+=1){var De=Se[ve];this.programConfigurations[De.id]=new ba(De,G,ae)}this.needsUpload=!1,this._featureMap=new ft,this._bufferOffset=0};va.prototype.populatePaintArrays=function(I,G,ae,ve,Se,De){for(var Qe in this.programConfigurations)this.programConfigurations[Qe].populatePaintArrays(I,G,ve,Se,De);G.id!==void 0&&this._featureMap.add(G.id,ae,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},va.prototype.updatePaintArrays=function(I,G,ae,ve){for(var Se=0,De=ae;Se<De.length;Se+=1){var Qe=De[Se];this.needsUpload=this.programConfigurations[Qe.id].updatePaintArrays(I,this._featureMap,G,Qe,ve)||this.needsUpload}},va.prototype.get=function(I){return this.programConfigurations[I]},va.prototype.upload=function(I){if(this.needsUpload){for(var G in this.programConfigurations)this.programConfigurations[G].upload(I);this.needsUpload=!1}},va.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()};function Oa(D,I){var G={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return G[D]||[D.replace(I+"-","").replace(/-/g,"_")]}function $a(D){var I={"line-pattern":{source:ls,composite:ls},"fill-pattern":{source:ls,composite:ls},"fill-extrusion-pattern":{source:ls,composite:ls}};return I[D]}function Wa(D,I,G){var ae={color:{source:Nc,composite:Xf},number:{source:Bc,composite:Nc}},ve=$a(D);return ve&&ve[G]||ae[I][G]}ze("ConstantBinder",Xn),ze("CrossFadedConstantBinder",Gn),ze("SourceExpressionBinder",Kn),ze("CrossFadedCompositeBinder",la),ze("CompositeExpressionBinder",ta),ze("ProgramConfiguration",ba,{omit:["_buffers"]}),ze("ProgramConfigurationSet",va);var Ma=8192,Ya=15,Ha=Math.pow(2,Ya-1)-1,ii=-Ha-1;function ei(D){for(var I=Ma/D.extent,G=D.loadGeometry(),ae=0;ae<G.length;ae++)for(var ve=G[ae],Se=0;Se<ve.length;Se++){var De=ve[Se],Qe=Math.round(De.x*I),gt=Math.round(De.y*I);De.x=h(Qe,ii,Ha),De.y=h(gt,ii,Ha),(Qe<De.x||Qe>De.x+1||gt<De.y||gt>De.y+1)&&N("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return G}function Ai(D,I){return{type:D.type,id:D.id,properties:D.properties,geometry:I?ei(D):[]}}function Ja(D,I,G,ae,ve){D.emplaceBack(I*2+(ae+1)/2,G*2+(ve+1)/2)}var yi=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Yf,this.indexArray=new Bu,this.segments=new uo,this.programConfigurations=new va(I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};yi.prototype.populate=function(I,G,ae){var ve=this.layers[0],Se=[],De=null;ve.type==="circle"&&(De=ve.layout.get("circle-sort-key"));for(var Qe=0,gt=I;Qe<gt.length;Qe+=1){var Et=gt[Qe],Rt=Et.feature,Wt=Et.id,ar=Et.index,er=Et.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,Or=Ai(Rt,xr);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),Or,ae)){var un=De?De.evaluate(Or,{},ae):void 0,tn={id:Wt,properties:Rt.properties,type:Rt.type,sourceLayerIndex:er,index:ar,geometry:xr?Or.geometry:ei(Rt),patterns:{},sortKey:un};Se.push(tn)}}De&&Se.sort(function(da,wa){return da.sortKey-wa.sortKey});for(var En=0,xn=Se;En<xn.length;En+=1){var Mn=xn[En],On=Mn,Wn=On.geometry,ra=On.index,qn=On.sourceLayerIndex,Ta=I[ra].feature;this.addFeature(Mn,Wn,ra,ae),G.featureIndex.insert(Ta,Wn,ra,qn,this.index)}},yi.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,G,this.stateDependentLayers,ae)},yi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},yi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},yi.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,up),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},yi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},yi.prototype.addFeature=function(I,G,ae,ve){for(var Se=0,De=G;Se<De.length;Se+=1)for(var Qe=De[Se],gt=0,Et=Qe;gt<Et.length;gt+=1){var Rt=Et[gt],Wt=Rt.x,ar=Rt.y;if(!(Wt<0||Wt>=Ma||ar<0||ar>=Ma)){var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),xr=er.vertexLength;Ja(this.layoutVertexArray,Wt,ar,-1,-1),Ja(this.layoutVertexArray,Wt,ar,1,-1),Ja(this.layoutVertexArray,Wt,ar,1,1),Ja(this.layoutVertexArray,Wt,ar,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),er.vertexLength+=4,er.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,{},ve)},ze("CircleBucket",yi,{omit:["layers"]});function ja(D,I){for(var G=0;G<D.length;G++)if(us(I,D[G]))return!0;for(var ae=0;ae<I.length;ae++)if(us(D,I[ae]))return!0;return!!il(D,I)}function Qa(D,I,G){return!!(us(D,I)||nu(I,D,G))}function Ui(D,I){if(D.length===1)return au(I,D[0]);for(var G=0;G<I.length;G++)for(var ae=I[G],ve=0;ve<ae.length;ve++)if(us(D,ae[ve]))return!0;for(var Se=0;Se<D.length;Se++)if(au(I,D[Se]))return!0;for(var De=0;De<I.length;De++)if(il(D,I[De]))return!0;return!1}function wo(D,I,G){for(var ae=0;ae<I.length;ae++){var ve=I[ae];if(D.length>=3){for(var Se=0;Se<ve.length;Se++)if(us(D,ve[Se]))return!0}if(al(D,ve,G))return!0}return!1}function al(D,I,G){if(D.length>1){if(il(D,I))return!0;for(var ae=0;ae<I.length;ae++)if(nu(I[ae],D,G))return!0}for(var ve=0;ve<D.length;ve++)if(nu(D[ve],I,G))return!0;return!1}function il(D,I){if(D.length===0||I.length===0)return!1;for(var G=0;G<D.length-1;G++)for(var ae=D[G],ve=D[G+1],Se=0;Se<I.length-1;Se++){var De=I[Se],Qe=I[Se+1];if(Ml(ae,ve,De,Qe))return!0}return!1}function Ml(D,I,G,ae){return z(D,G,ae)!==z(I,G,ae)&&z(D,I,G)!==z(D,I,ae)}function nu(D,I,G){var ae=G*G;if(I.length===1)return D.distSqr(I[0])<ae;for(var ve=1;ve<I.length;ve++){var Se=I[ve-1],De=I[ve];if(Kf(D,Se,De)<ae)return!0}return!1}function Kf(D,I,G){var ae=I.distSqr(G);if(ae===0)return D.distSqr(I);var ve=((D.x-I.x)*(G.x-I.x)+(D.y-I.y)*(G.y-I.y))/ae;return ve<0?D.distSqr(I):ve>1?D.distSqr(G):D.distSqr(G.sub(I)._mult(ve)._add(I))}function au(D,I){for(var G=!1,ae,ve,Se,De=0;De<D.length;De++){ae=D[De];for(var Qe=0,gt=ae.length-1;Qe<ae.length;gt=Qe++)ve=ae[Qe],Se=ae[gt],ve.y>I.y!=Se.y>I.y&&I.x<(Se.x-ve.x)*(I.y-ve.y)/(Se.y-ve.y)+ve.x&&(G=!G)}return G}function us(D,I){for(var G=!1,ae=0,ve=D.length-1;ae<D.length;ve=ae++){var Se=D[ae],De=D[ve];Se.y>I.y!=De.y>I.y&&I.x<(De.x-Se.x)*(I.y-Se.y)/(De.y-Se.y)+Se.x&&(G=!G)}return G}function iu(D,I,G,ae,ve){for(var Se=0,De=D;Se<De.length;Se+=1){var Qe=De[Se];if(I<=Qe.x&&G<=Qe.y&&ae>=Qe.x&&ve>=Qe.y)return!0}var gt=[new r(I,G),new r(I,ve),new r(ae,ve),new r(ae,G)];if(D.length>2)for(var Et=0,Rt=gt;Et<Rt.length;Et+=1){var Wt=Rt[Et];if(us(D,Wt))return!0}for(var ar=0;ar<D.length-1;ar++){var er=D[ar],xr=D[ar+1];if(Ss(er,xr,gt))return!0}return!1}function Ss(D,I,G){var ae=G[0],ve=G[2];if(D.x<ae.x&&I.x<ae.x||D.x>ve.x&&I.x>ve.x||D.y<ae.y&&I.y<ae.y||D.y>ve.y&&I.y>ve.y)return!1;var Se=z(D,I,G[0]);return Se!==z(D,I,G[1])||Se!==z(D,I,G[2])||Se!==z(D,I,G[3])}function fs(D,I,G){var ae=I.paint.get(D).value;return ae.kind==="constant"?ae.value:G.programConfigurations.get(I.id).getMaxValue(D)}function El(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function Uu(D,I,G,ae,ve){if(!I[0]&&!I[1])return D;var Se=r.convert(I)._mult(ve);G==="viewport"&&Se._rotate(-ae);for(var De=[],Qe=0;Qe<D.length;Qe++){var gt=D[Qe];De.push(gt.sub(Se))}return De}var Cl=new ci({"circle-sort-key":new La(Sr.layout_circle["circle-sort-key"])}),Tv=new ci({"circle-radius":new La(Sr.paint_circle["circle-radius"]),"circle-color":new La(Sr.paint_circle["circle-color"]),"circle-blur":new La(Sr.paint_circle["circle-blur"]),"circle-opacity":new La(Sr.paint_circle["circle-opacity"]),"circle-translate":new sa(Sr.paint_circle["circle-translate"]),"circle-translate-anchor":new sa(Sr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new sa(Sr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new sa(Sr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new La(Sr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new La(Sr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new La(Sr.paint_circle["circle-stroke-opacity"])}),Hc={paint:Tv,layout:Cl},Co=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,I=0,G=arguments.length;G--;)I+=D[G]*D[G];return Math.sqrt(I)});function Av(){var D=new Co(4);return Co!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function Zh(D,I,G){var ae=I[0],ve=I[1],Se=I[2],De=I[3],Qe=Math.sin(G),gt=Math.cos(G);return D[0]=ae*gt+Se*Qe,D[1]=ve*gt+De*Qe,D[2]=ae*-Qe+Se*gt,D[3]=ve*-Qe+De*gt,D}function Zo(){var D=new Co(9);return Co!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function jc(D,I){var G=Math.sin(I),ae=Math.cos(I);return D[0]=ae,D[1]=G,D[2]=0,D[3]=-G,D[4]=ae,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function Sv(){var D=new Co(16);return Co!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function Mv(D){var I=new Co(16);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I[3]=D[3],I[4]=D[4],I[5]=D[5],I[6]=D[6],I[7]=D[7],I[8]=D[8],I[9]=D[9],I[10]=D[10],I[11]=D[11],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15],I}function Ev(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function Gc(D,I){var G=I[0],ae=I[1],ve=I[2],Se=I[3],De=I[4],Qe=I[5],gt=I[6],Et=I[7],Rt=I[8],Wt=I[9],ar=I[10],er=I[11],xr=I[12],Or=I[13],un=I[14],tn=I[15],En=G*Qe-ae*De,xn=G*gt-ve*De,Mn=G*Et-Se*De,On=ae*gt-ve*Qe,Wn=ae*Et-Se*Qe,ra=ve*Et-Se*gt,qn=Rt*Or-Wt*xr,Ta=Rt*un-ar*xr,da=Rt*tn-er*xr,wa=Wt*un-ar*Or,Ua=Wt*tn-er*Or,Aa=ar*tn-er*un,Ca=En*Aa-xn*Ua+Mn*wa+On*da-Wn*Ta+ra*qn;return Ca?(Ca=1/Ca,D[0]=(Qe*Aa-gt*Ua+Et*wa)*Ca,D[1]=(ve*Ua-ae*Aa-Se*wa)*Ca,D[2]=(Or*ra-un*Wn+tn*On)*Ca,D[3]=(ar*Wn-Wt*ra-er*On)*Ca,D[4]=(gt*da-De*Aa-Et*Ta)*Ca,D[5]=(G*Aa-ve*da+Se*Ta)*Ca,D[6]=(un*Mn-xr*ra-tn*xn)*Ca,D[7]=(Rt*ra-ar*Mn+er*xn)*Ca,D[8]=(De*Ua-Qe*da+Et*qn)*Ca,D[9]=(ae*da-G*Ua-Se*qn)*Ca,D[10]=(xr*Wn-Or*Mn+tn*En)*Ca,D[11]=(Wt*Mn-Rt*Wn-er*En)*Ca,D[12]=(Qe*Ta-De*wa-gt*qn)*Ca,D[13]=(G*wa-ae*Ta+ve*qn)*Ca,D[14]=(Or*xn-xr*On-un*En)*Ca,D[15]=(Rt*On-Wt*xn+ar*En)*Ca,D):null}function Wc(D,I,G){var ae=I[0],ve=I[1],Se=I[2],De=I[3],Qe=I[4],gt=I[5],Et=I[6],Rt=I[7],Wt=I[8],ar=I[9],er=I[10],xr=I[11],Or=I[12],un=I[13],tn=I[14],En=I[15],xn=G[0],Mn=G[1],On=G[2],Wn=G[3];return D[0]=xn*ae+Mn*Qe+On*Wt+Wn*Or,D[1]=xn*ve+Mn*gt+On*ar+Wn*un,D[2]=xn*Se+Mn*Et+On*er+Wn*tn,D[3]=xn*De+Mn*Rt+On*xr+Wn*En,xn=G[4],Mn=G[5],On=G[6],Wn=G[7],D[4]=xn*ae+Mn*Qe+On*Wt+Wn*Or,D[5]=xn*ve+Mn*gt+On*ar+Wn*un,D[6]=xn*Se+Mn*Et+On*er+Wn*tn,D[7]=xn*De+Mn*Rt+On*xr+Wn*En,xn=G[8],Mn=G[9],On=G[10],Wn=G[11],D[8]=xn*ae+Mn*Qe+On*Wt+Wn*Or,D[9]=xn*ve+Mn*gt+On*ar+Wn*un,D[10]=xn*Se+Mn*Et+On*er+Wn*tn,D[11]=xn*De+Mn*Rt+On*xr+Wn*En,xn=G[12],Mn=G[13],On=G[14],Wn=G[15],D[12]=xn*ae+Mn*Qe+On*Wt+Wn*Or,D[13]=xn*ve+Mn*gt+On*ar+Wn*un,D[14]=xn*Se+Mn*Et+On*er+Wn*tn,D[15]=xn*De+Mn*Rt+On*xr+Wn*En,D}function Xi(D,I,G){var ae=G[0],ve=G[1],Se=G[2],De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn;return I===D?(D[12]=I[0]*ae+I[4]*ve+I[8]*Se+I[12],D[13]=I[1]*ae+I[5]*ve+I[9]*Se+I[13],D[14]=I[2]*ae+I[6]*ve+I[10]*Se+I[14],D[15]=I[3]*ae+I[7]*ve+I[11]*Se+I[15]):(De=I[0],Qe=I[1],gt=I[2],Et=I[3],Rt=I[4],Wt=I[5],ar=I[6],er=I[7],xr=I[8],Or=I[9],un=I[10],tn=I[11],D[0]=De,D[1]=Qe,D[2]=gt,D[3]=Et,D[4]=Rt,D[5]=Wt,D[6]=ar,D[7]=er,D[8]=xr,D[9]=Or,D[10]=un,D[11]=tn,D[12]=De*ae+Rt*ve+xr*Se+I[12],D[13]=Qe*ae+Wt*ve+Or*Se+I[13],D[14]=gt*ae+ar*ve+un*Se+I[14],D[15]=Et*ae+er*ve+tn*Se+I[15]),D}function Ms(D,I,G){var ae=G[0],ve=G[1],Se=G[2];return D[0]=I[0]*ae,D[1]=I[1]*ae,D[2]=I[2]*ae,D[3]=I[3]*ae,D[4]=I[4]*ve,D[5]=I[5]*ve,D[6]=I[6]*ve,D[7]=I[7]*ve,D[8]=I[8]*Se,D[9]=I[9]*Se,D[10]=I[10]*Se,D[11]=I[11]*Se,D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15],D}function Es(D,I,G){var ae=Math.sin(G),ve=Math.cos(G),Se=I[4],De=I[5],Qe=I[6],gt=I[7],Et=I[8],Rt=I[9],Wt=I[10],ar=I[11];return I!==D&&(D[0]=I[0],D[1]=I[1],D[2]=I[2],D[3]=I[3],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[4]=Se*ve+Et*ae,D[5]=De*ve+Rt*ae,D[6]=Qe*ve+Wt*ae,D[7]=gt*ve+ar*ae,D[8]=Et*ve-Se*ae,D[9]=Rt*ve-De*ae,D[10]=Wt*ve-Qe*ae,D[11]=ar*ve-gt*ae,D}function Cv(D,I,G){var ae=Math.sin(G),ve=Math.cos(G),Se=I[0],De=I[1],Qe=I[2],gt=I[3],Et=I[4],Rt=I[5],Wt=I[6],ar=I[7];return I!==D&&(D[8]=I[8],D[9]=I[9],D[10]=I[10],D[11]=I[11],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[0]=Se*ve+Et*ae,D[1]=De*ve+Rt*ae,D[2]=Qe*ve+Wt*ae,D[3]=gt*ve+ar*ae,D[4]=Et*ve-Se*ae,D[5]=Rt*ve-De*ae,D[6]=Wt*ve-Qe*ae,D[7]=ar*ve-gt*ae,D}function kd(D,I,G,ae,ve){var Se=1/Math.tan(I/2),De;return D[0]=Se/G,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Se,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,ve!=null&&ve!==1/0?(De=1/(ae-ve),D[10]=(ve+ae)*De,D[14]=2*ve*ae*De):(D[10]=-1,D[14]=-2*ae),D}function $y(D,I,G,ae,ve,Se,De){var Qe=1/(I-G),gt=1/(ae-ve),Et=1/(Se-De);return D[0]=-2*Qe,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*gt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*Et,D[11]=0,D[12]=(I+G)*Qe,D[13]=(ve+ae)*gt,D[14]=(De+Se)*Et,D[15]=1,D}var Qy=Wc;function Kh(){var D=new Co(3);return Co!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function qy(D){var I=new Co(3);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I}function Lv(D,I,G){return D[0]=I[0]+G[0],D[1]=I[1]+G[1],D[2]=I[2]+G[2],D}function em(D,I,G){return D[0]=I[0]-G[0],D[1]=I[1]-G[1],D[2]=I[2]-G[2],D}function tm(D,I,G){return D[0]=I[0]*G,D[1]=I[1]*G,D[2]=I[2]*G,D}function Fd(D,I){var G=I[0],ae=I[1],ve=I[2],Se=G*G+ae*ae+ve*ve;return Se>0&&(Se=1/Math.sqrt(Se)),D[0]=I[0]*Se,D[1]=I[1]*Se,D[2]=I[2]*Se,D}function US(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]}function VS(D,I,G){var ae=I[0],ve=I[1],Se=I[2],De=G[0],Qe=G[1],gt=G[2];return D[0]=ve*gt-Se*Qe,D[1]=Se*De-ae*gt,D[2]=ae*Qe-ve*De,D}function HS(D,I,G){var ae=I[0],ve=I[1],Se=I[2];return D[0]=ae*G[0]+ve*G[3]+Se*G[6],D[1]=ae*G[1]+ve*G[4]+Se*G[7],D[2]=ae*G[2]+ve*G[5]+Se*G[8],D}var jS=em;(function(){var D=Kh();return function(I,G,ae,ve,Se,De){var Qe,gt;for(G||(G=3),ae||(ae=0),ve?gt=Math.min(ve*G+ae,I.length):gt=I.length,Qe=ae;Qe<gt;Qe+=G)D[0]=I[Qe],D[1]=I[Qe+1],D[2]=I[Qe+2],Se(D,D,De),I[Qe]=D[0],I[Qe+1]=D[1],I[Qe+2]=D[2];return I}})();function GS(){var D=new Co(4);return Co!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function WS(D,I,G){return D[0]=I[0]*G,D[1]=I[1]*G,D[2]=I[2]*G,D[3]=I[3]*G,D}function YS(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3]}function fp(D,I,G){var ae=I[0],ve=I[1],Se=I[2],De=I[3];return D[0]=G[0]*ae+G[4]*ve+G[8]*Se+G[12]*De,D[1]=G[1]*ae+G[5]*ve+G[9]*Se+G[13]*De,D[2]=G[2]*ae+G[6]*ve+G[10]*Se+G[14]*De,D[3]=G[3]*ae+G[7]*ve+G[11]*Se+G[15]*De,D}(function(){var D=GS();return function(I,G,ae,ve,Se,De){var Qe,gt;for(G||(G=4),ae||(ae=0),ve?gt=Math.min(ve*G+ae,I.length):gt=I.length,Qe=ae;Qe<gt;Qe+=G)D[0]=I[Qe],D[1]=I[Qe+1],D[2]=I[Qe+2],D[3]=I[Qe+3],Se(D,D,De),I[Qe]=D[0],I[Qe+1]=D[1],I[Qe+2]=D[2],I[Qe+3]=D[3];return I}})();function XS(){var D=new Co(2);return Co!=Float32Array&&(D[0]=0,D[1]=0),D}function ZS(D){var I=D[0],G=D[1];return I*I+G*G}var KS=ZS;(function(){var D=XS();return function(I,G,ae,ve,Se,De){var Qe,gt;for(G||(G=2),ae||(ae=0),ve?gt=Math.min(ve*G+ae,I.length):gt=I.length,Qe=ae;Qe<gt;Qe+=G)D[0]=I[Qe],D[1]=I[Qe+1],Se(D,D,De),I[Qe]=D[0],I[Qe+1]=D[1];return I}})();var JS=function(D){function I(G){D.call(this,G,Hc)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new yi(ae)},I.prototype.queryRadius=function(ae){var ve=ae;return fs("circle-radius",this,ve)+fs("circle-stroke-width",this,ve)+El(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(ae,ve,Se,De,Qe,gt,Et,Rt){for(var Wt=Uu(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),gt.angle,Et),ar=this.paint.get("circle-radius").evaluate(ve,Se),er=this.paint.get("circle-stroke-width").evaluate(ve,Se),xr=ar+er,Or=this.paint.get("circle-pitch-alignment")==="map",un=Or?Wt:$S(Wt,Rt),tn=Or?xr*Et:xr,En=0,xn=De;En<xn.length;En+=1)for(var Mn=xn[En],On=0,Wn=Mn;On<Wn.length;On+=1){var ra=Wn[On],qn=Or?ra:hb(ra,Rt),Ta=tn,da=fp([],[ra.x,ra.y,0,1],Rt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ta*=da[3]/gt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ta*=gt.cameraToCenterDistance/da[3]),Qa(un,qn,Ta))return!0}return!1},I}(Bi);function hb(D,I){var G=fp([],[D.x,D.y,0,1],I);return new r(G[0]/G[3],G[1]/G[3])}function $S(D,I){return D.map(function(G){return hb(G,I)})}var vb=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(yi);ze("HeatmapBucket",vb,{omit:["layers"]});function rm(D,I,G,ae){var ve=I.width,Se=I.height;if(!ae)ae=new Uint8Array(ve*Se*G);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==ve*Se*G)throw new RangeError("mismatched image size");return D.width=ve,D.height=Se,D.data=ae,D}function db(D,I,G){var ae=I.width,ve=I.height;if(!(ae===D.width&&ve===D.height)){var Se=rm({},{width:ae,height:ve},G);nm(D,Se,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ae),height:Math.min(D.height,ve)},G),D.width=ae,D.height=ve,D.data=Se.data}}function nm(D,I,G,ae,ve,Se){if(ve.width===0||ve.height===0)return I;if(ve.width>D.width||ve.height>D.height||G.x>D.width-ve.width||G.y>D.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>I.width||ve.height>I.height||ae.x>I.width-ve.width||ae.y>I.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var De=D.data,Qe=I.data,gt=0;gt<ve.height;gt++)for(var Et=((G.y+gt)*D.width+G.x)*Se,Rt=((ae.y+gt)*I.width+ae.x)*Se,Wt=0;Wt<ve.width*Se;Wt++)Qe[Rt+Wt]=De[Et+Wt];return I}var Jh=function(I,G){rm(this,I,1,G)};Jh.prototype.resize=function(I){db(this,I,1)},Jh.prototype.clone=function(){return new Jh({width:this.width,height:this.height},new Uint8Array(this.data))},Jh.copy=function(I,G,ae,ve,Se){nm(I,G,ae,ve,Se,1)};var Cs=function(I,G){rm(this,I,4,G)};Cs.prototype.resize=function(I){db(this,I,4)},Cs.prototype.replace=function(I,G){G?this.data.set(I):I instanceof Uint8ClampedArray?this.data=new Uint8Array(I.buffer):this.data=I},Cs.prototype.clone=function(){return new Cs({width:this.width,height:this.height},new Uint8Array(this.data))},Cs.copy=function(I,G,ae,ve,Se){nm(I,G,ae,ve,Se,4)},ze("AlphaImage",Jh),ze("RGBAImage",Cs);var QS=new ci({"heatmap-radius":new La(Sr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new La(Sr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new sa(Sr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new lo(Sr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new sa(Sr.paint_heatmap["heatmap-opacity"])}),qS={paint:QS};function pb(D){var I={},G=D.resolution||256,ae=D.clips?D.clips.length:1,ve=D.image||new Cs({width:G,height:ae}),Se=function(En,xn,Mn){I[D.evaluationKey]=Mn;var On=D.expression.evaluate(I);ve.data[En+xn+0]=Math.floor(On.r*255/On.a),ve.data[En+xn+1]=Math.floor(On.g*255/On.a),ve.data[En+xn+2]=Math.floor(On.b*255/On.a),ve.data[En+xn+3]=Math.floor(On.a*255)};if(D.clips)for(var Et=0,Rt=0;Et<ae;++Et,Rt+=G*4)for(var Wt=0,ar=0;Wt<G;Wt++,ar+=4){var er=Wt/(G-1),xr=D.clips[Et],Or=xr.start,un=xr.end,tn=Or*(1-er)+un*er;Se(Rt,ar,tn)}else for(var De=0,Qe=0;De<G;De++,Qe+=4){var gt=De/(G-1);Se(0,Qe,gt)}return ve}var eM=function(D){function I(G){D.call(this,G,qS),this._updateColorRamp()}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new vb(ae)},I.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=pb({expression:ae,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}(Bi),tM=new ci({"hillshade-illumination-direction":new sa(Sr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new sa(Sr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new sa(Sr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new sa(Sr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new sa(Sr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new sa(Sr.paint_hillshade["hillshade-accent-color"])}),rM={paint:tM},nM=function(D){function I(G){D.call(this,G,rM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}(Bi),aM=Li([{name:"a_pos",components:2,type:"Int16"}],4),iM=aM.members,am=cp,oM=cp;function cp(D,I,G){G=G||2;var ae=I&&I.length,ve=ae?I[0]*G:D.length,Se=gb(D,0,ve,G,!0),De=[];if(!Se||Se.next===Se.prev)return De;var Qe,gt,Et,Rt,Wt,ar,er;if(ae&&(Se=cM(D,I,Se,G)),D.length>80*G){Qe=Et=D[0],gt=Rt=D[1];for(var xr=G;xr<ve;xr+=G)Wt=D[xr],ar=D[xr+1],Wt<Qe&&(Qe=Wt),ar<gt&&(gt=ar),Wt>Et&&(Et=Wt),ar>Rt&&(Rt=ar);er=Math.max(Et-Qe,Rt-gt),er=er!==0?1/er:0}return Od(Se,De,G,Qe,gt,er),De}function gb(D,I,G,ae,ve){var Se,De;if(ve===sm(D,I,G,ae)>0)for(Se=I;Se<G;Se+=ae)De=xb(Se,D[Se],D[Se+1],De);else for(Se=G-ae;Se>=I;Se-=ae)De=xb(Se,D[Se],D[Se+1],De);return De&&hp(De,De.next)&&(Nd(De),De=De.next),De}function Yc(D,I){if(!D)return D;I||(I=D);var G=D,ae;do if(ae=!1,!G.steiner&&(hp(G,G.next)||fo(G.prev,G,G.next)===0)){if(Nd(G),G=I=G.prev,G===G.next)break;ae=!0}else G=G.next;while(ae||G!==I);return I}function Od(D,I,G,ae,ve,Se,De){if(D){!De&&Se&&gM(D,ae,ve,Se);for(var Qe=D,gt,Et;D.prev!==D.next;){if(gt=D.prev,Et=D.next,Se?lM(D,ae,ve,Se):sM(D)){I.push(gt.i/G),I.push(D.i/G),I.push(Et.i/G),Nd(D),D=Et.next,Qe=Et.next;continue}if(D=Et,D===Qe){De?De===1?(D=uM(Yc(D),I,G),Od(D,I,G,ae,ve,Se,2)):De===2&&fM(D,I,G,ae,ve,Se):Od(Yc(D),I,G,ae,ve,Se,1);break}}}}function sM(D){var I=D.prev,G=D,ae=D.next;if(fo(I,G,ae)>=0)return!1;for(var ve=D.next.next;ve!==D.prev;){if(Pv(I.x,I.y,G.x,G.y,ae.x,ae.y,ve.x,ve.y)&&fo(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function lM(D,I,G,ae){var ve=D.prev,Se=D,De=D.next;if(fo(ve,Se,De)>=0)return!1;for(var Qe=ve.x<Se.x?ve.x<De.x?ve.x:De.x:Se.x<De.x?Se.x:De.x,gt=ve.y<Se.y?ve.y<De.y?ve.y:De.y:Se.y<De.y?Se.y:De.y,Et=ve.x>Se.x?ve.x>De.x?ve.x:De.x:Se.x>De.x?Se.x:De.x,Rt=ve.y>Se.y?ve.y>De.y?ve.y:De.y:Se.y>De.y?Se.y:De.y,Wt=im(Qe,gt,I,G,ae),ar=im(Et,Rt,I,G,ae),er=D.prevZ,xr=D.nextZ;er&&er.z>=Wt&&xr&&xr.z<=ar;){if(er!==D.prev&&er!==D.next&&Pv(ve.x,ve.y,Se.x,Se.y,De.x,De.y,er.x,er.y)&&fo(er.prev,er,er.next)>=0||(er=er.prevZ,xr!==D.prev&&xr!==D.next&&Pv(ve.x,ve.y,Se.x,Se.y,De.x,De.y,xr.x,xr.y)&&fo(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;er&&er.z>=Wt;){if(er!==D.prev&&er!==D.next&&Pv(ve.x,ve.y,Se.x,Se.y,De.x,De.y,er.x,er.y)&&fo(er.prev,er,er.next)>=0)return!1;er=er.prevZ}for(;xr&&xr.z<=ar;){if(xr!==D.prev&&xr!==D.next&&Pv(ve.x,ve.y,Se.x,Se.y,De.x,De.y,xr.x,xr.y)&&fo(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function uM(D,I,G){var ae=D;do{var ve=ae.prev,Se=ae.next.next;!hp(ve,Se)&&yb(ve,ae,ae.next,Se)&&zd(ve,Se)&&zd(Se,ve)&&(I.push(ve.i/G),I.push(ae.i/G),I.push(Se.i/G),Nd(ae),Nd(ae.next),ae=D=Se),ae=ae.next}while(ae!==D);return Yc(ae)}function fM(D,I,G,ae,ve,Se){var De=D;do{for(var Qe=De.next.next;Qe!==De.prev;){if(De.i!==Qe.i&&xM(De,Qe)){var gt=mb(De,Qe);De=Yc(De,De.next),gt=Yc(gt,gt.next),Od(De,I,G,ae,ve,Se),Od(gt,I,G,ae,ve,Se);return}Qe=Qe.next}De=De.next}while(De!==D)}function cM(D,I,G,ae){var ve=[],Se,De,Qe,gt,Et;for(Se=0,De=I.length;Se<De;Se++)Qe=I[Se]*ae,gt=Se<De-1?I[Se+1]*ae:D.length,Et=gb(D,Qe,gt,ae,!1),Et===Et.next&&(Et.steiner=!0),ve.push(mM(Et));for(ve.sort(hM),Se=0;Se<ve.length;Se++)vM(ve[Se],G),G=Yc(G,G.next);return G}function hM(D,I){return D.x-I.x}function vM(D,I){if(I=dM(D,I),I){var G=mb(I,D);Yc(I,I.next),Yc(G,G.next)}}function dM(D,I){var G=I,ae=D.x,ve=D.y,Se=-1/0,De;do{if(ve<=G.y&&ve>=G.next.y&&G.next.y!==G.y){var Qe=G.x+(ve-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(Qe<=ae&&Qe>Se){if(Se=Qe,Qe===ae){if(ve===G.y)return G;if(ve===G.next.y)return G.next}De=G.x<G.next.x?G:G.next}}G=G.next}while(G!==I);if(!De)return null;if(ae===Se)return De;var gt=De,Et=De.x,Rt=De.y,Wt=1/0,ar;G=De;do ae>=G.x&&G.x>=Et&&ae!==G.x&&Pv(ve<Rt?ae:Se,ve,Et,Rt,ve<Rt?Se:ae,ve,G.x,G.y)&&(ar=Math.abs(ve-G.y)/(ae-G.x),zd(G,D)&&(ar<Wt||ar===Wt&&(G.x>De.x||G.x===De.x&&pM(De,G)))&&(De=G,Wt=ar)),G=G.next;while(G!==gt);return De}function pM(D,I){return fo(D.prev,D,I.prev)<0&&fo(I.next,D,D.next)<0}function gM(D,I,G,ae){var ve=D;do ve.z===null&&(ve.z=im(ve.x,ve.y,I,G,ae)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==D);ve.prevZ.nextZ=null,ve.prevZ=null,yM(ve)}function yM(D){var I,G,ae,ve,Se,De,Qe,gt,Et=1;do{for(G=D,D=null,Se=null,De=0;G;){for(De++,ae=G,Qe=0,I=0;I<Et&&(Qe++,ae=ae.nextZ,!!ae);I++);for(gt=Et;Qe>0||gt>0&&ae;)Qe!==0&&(gt===0||!ae||G.z<=ae.z)?(ve=G,G=G.nextZ,Qe--):(ve=ae,ae=ae.nextZ,gt--),Se?Se.nextZ=ve:D=ve,ve.prevZ=Se,Se=ve;G=ae}Se.nextZ=null,Et*=2}while(De>1);return D}function im(D,I,G,ae,ve){return D=32767*(D-G)*ve,I=32767*(I-ae)*ve,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,D|I<<1}function mM(D){var I=D,G=D;do(I.x<G.x||I.x===G.x&&I.y<G.y)&&(G=I),I=I.next;while(I!==D);return G}function Pv(D,I,G,ae,ve,Se,De,Qe){return(ve-De)*(I-Qe)-(D-De)*(Se-Qe)>=0&&(D-De)*(ae-Qe)-(G-De)*(I-Qe)>=0&&(G-De)*(Se-Qe)-(ve-De)*(ae-Qe)>=0}function xM(D,I){return D.next.i!==I.i&&D.prev.i!==I.i&&!bM(D,I)&&(zd(D,I)&&zd(I,D)&&wM(D,I)&&(fo(D.prev,D,I.prev)||fo(D,I.prev,I))||hp(D,I)&&fo(D.prev,D,D.next)>0&&fo(I.prev,I,I.next)>0)}function fo(D,I,G){return(I.y-D.y)*(G.x-I.x)-(I.x-D.x)*(G.y-I.y)}function hp(D,I){return D.x===I.x&&D.y===I.y}function yb(D,I,G,ae){var ve=dp(fo(D,I,G)),Se=dp(fo(D,I,ae)),De=dp(fo(G,ae,D)),Qe=dp(fo(G,ae,I));return!!(ve!==Se&&De!==Qe||ve===0&&vp(D,G,I)||Se===0&&vp(D,ae,I)||De===0&&vp(G,D,ae)||Qe===0&&vp(G,I,ae))}function vp(D,I,G){return I.x<=Math.max(D.x,G.x)&&I.x>=Math.min(D.x,G.x)&&I.y<=Math.max(D.y,G.y)&&I.y>=Math.min(D.y,G.y)}function dp(D){return D>0?1:D<0?-1:0}function bM(D,I){var G=D;do{if(G.i!==D.i&&G.next.i!==D.i&&G.i!==I.i&&G.next.i!==I.i&&yb(G,G.next,D,I))return!0;G=G.next}while(G!==D);return!1}function zd(D,I){return fo(D.prev,D,D.next)<0?fo(D,I,D.next)>=0&&fo(D,D.prev,I)>=0:fo(D,I,D.prev)<0||fo(D,D.next,I)<0}function wM(D,I){var G=D,ae=!1,ve=(D.x+I.x)/2,Se=(D.y+I.y)/2;do G.y>Se!=G.next.y>Se&&G.next.y!==G.y&&ve<(G.next.x-G.x)*(Se-G.y)/(G.next.y-G.y)+G.x&&(ae=!ae),G=G.next;while(G!==D);return ae}function mb(D,I){var G=new om(D.i,D.x,D.y),ae=new om(I.i,I.x,I.y),ve=D.next,Se=I.prev;return D.next=I,I.prev=D,G.next=ve,ve.prev=G,ae.next=G,G.prev=ae,Se.next=ae,ae.prev=Se,ae}function xb(D,I,G,ae){var ve=new om(D,I,G);return ae?(ve.next=ae.next,ve.prev=ae,ae.next.prev=ve,ae.next=ve):(ve.prev=ve,ve.next=ve),ve}function Nd(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function om(D,I,G){this.i=D,this.x=I,this.y=G,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}cp.deviation=function(D,I,G,ae){var ve=I&&I.length,Se=ve?I[0]*G:D.length,De=Math.abs(sm(D,0,Se,G));if(ve)for(var Qe=0,gt=I.length;Qe<gt;Qe++){var Et=I[Qe]*G,Rt=Qe<gt-1?I[Qe+1]*G:D.length;De-=Math.abs(sm(D,Et,Rt,G))}var Wt=0;for(Qe=0;Qe<ae.length;Qe+=3){var ar=ae[Qe]*G,er=ae[Qe+1]*G,xr=ae[Qe+2]*G;Wt+=Math.abs((D[ar]-D[xr])*(D[er+1]-D[ar+1])-(D[ar]-D[er])*(D[xr+1]-D[ar+1]))}return De===0&&Wt===0?0:Math.abs((Wt-De)/De)};function sm(D,I,G,ae){for(var ve=0,Se=I,De=G-ae;Se<G;Se+=ae)ve+=(D[De]-D[Se])*(D[Se+1]+D[De+1]),De=Se;return ve}cp.flatten=function(D){for(var I=D[0][0].length,G={vertices:[],holes:[],dimensions:I},ae=0,ve=0;ve<D.length;ve++){for(var Se=0;Se<D[ve].length;Se++)for(var De=0;De<I;De++)G.vertices.push(D[ve][Se][De]);ve>0&&(ae+=D[ve-1].length,G.holes.push(ae))}return G},am.default=oM;function TM(D,I,G,ae,ve){bb(D,I,G||0,ae||D.length-1,ve||AM)}function bb(D,I,G,ae,ve){for(;ae>G;){if(ae-G>600){var Se=ae-G+1,De=I-G+1,Qe=Math.log(Se),gt=.5*Math.exp(2*Qe/3),Et=.5*Math.sqrt(Qe*gt*(Se-gt)/Se)*(De-Se/2<0?-1:1),Rt=Math.max(G,Math.floor(I-De*gt/Se+Et)),Wt=Math.min(ae,Math.floor(I+(Se-De)*gt/Se+Et));bb(D,I,Rt,Wt,ve)}var ar=D[I],er=G,xr=ae;for(Bd(D,G,I),ve(D[ae],ar)>0&&Bd(D,G,ae);er<xr;){for(Bd(D,er,xr),er++,xr--;ve(D[er],ar)<0;)er++;for(;ve(D[xr],ar)>0;)xr--}ve(D[G],ar)===0?Bd(D,G,xr):(xr++,Bd(D,xr,ae)),xr<=I&&(G=xr+1),I<=xr&&(ae=xr-1)}}function Bd(D,I,G){var ae=D[I];D[I]=D[G],D[G]=ae}function AM(D,I){return D<I?-1:D>I?1:0}function lm(D,I){var G=D.length;if(G<=1)return[D];for(var ae=[],ve,Se,De=0;De<G;De++){var Qe=V(D[De]);Qe!==0&&(D[De].area=Math.abs(Qe),Se===void 0&&(Se=Qe<0),Se===Qe<0?(ve&&ae.push(ve),ve=[D[De]]):ve.push(D[De]))}if(ve&&ae.push(ve),I>1)for(var gt=0;gt<ae.length;gt++)ae[gt].length<=I||(TM(ae[gt],I,1,ae[gt].length-1,SM),ae[gt]=ae[gt].slice(0,I));return ae}function SM(D,I){return I.area-D.area}function um(D,I,G){for(var ae=G.patternDependencies,ve=!1,Se=0,De=I;Se<De.length;Se+=1){var Qe=De[Se],gt=Qe.paint.get(D+"-pattern");gt.isConstant()||(ve=!0);var Et=gt.constantOr(null);Et&&(ve=!0,ae[Et.to]=!0,ae[Et.from]=!0)}return ve}function fm(D,I,G,ae,ve){for(var Se=ve.patternDependencies,De=0,Qe=I;De<Qe.length;De+=1){var gt=Qe[De],Et=gt.paint.get(D+"-pattern"),Rt=Et.value;if(Rt.kind!=="constant"){var Wt=Rt.evaluate({zoom:ae-1},G,{},ve.availableImages),ar=Rt.evaluate({zoom:ae},G,{},ve.availableImages),er=Rt.evaluate({zoom:ae+1},G,{},ve.availableImages);Wt=Wt&&Wt.name?Wt.name:Wt,ar=ar&&ar.name?ar.name:ar,er=er&&er.name?er.name:er,Se[Wt]=!0,Se[ar]=!0,Se[er]=!0,G.patterns[gt.id]={min:Wt,mid:ar,max:er}}}return G}var MM=500,Vu=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Yf,this.indexArray=new Bu,this.indexArray2=new Xh,this.programConfigurations=new va(I.layers,I.zoom),this.segments=new uo,this.segments2=new uo,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Vu.prototype.populate=function(I,G,ae){this.hasPattern=um("fill",this.layers,G);for(var ve=this.layers[0].layout.get("fill-sort-key"),Se=[],De=0,Qe=I;De<Qe.length;De+=1){var gt=Qe[De],Et=gt.feature,Rt=gt.id,Wt=gt.index,ar=gt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,xr=Ai(Et,er);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),xr,ae)){var Or=ve?ve.evaluate(xr,{},ae,G.availableImages):void 0,un={id:Rt,properties:Et.properties,type:Et.type,sourceLayerIndex:ar,index:Wt,geometry:er?xr.geometry:ei(Et),patterns:{},sortKey:Or};Se.push(un)}}ve&&Se.sort(function(da,wa){return da.sortKey-wa.sortKey});for(var tn=0,En=Se;tn<En.length;tn+=1){var xn=En[tn],Mn=xn,On=Mn.geometry,Wn=Mn.index,ra=Mn.sourceLayerIndex;if(this.hasPattern){var qn=fm("fill",this.layers,xn,this.zoom,G);this.patternFeatures.push(qn)}else this.addFeature(xn,On,Wn,ae,{});var Ta=I[Wn].feature;G.featureIndex.insert(Ta,On,Wn,ra,this.index)}},Vu.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,G,this.stateDependentLayers,ae)},Vu.prototype.addFeatures=function(I,G,ae){for(var ve=0,Se=this.patternFeatures;ve<Se.length;ve+=1){var De=Se[ve];this.addFeature(De,De.geometry,De.index,G,ae)}},Vu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Vu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vu.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,iM),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},Vu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Vu.prototype.addFeature=function(I,G,ae,ve,Se){for(var De=0,Qe=lm(G,MM);De<Qe.length;De+=1){for(var gt=Qe[De],Et=0,Rt=0,Wt=gt;Rt<Wt.length;Rt+=1){var ar=Wt[Rt];Et+=ar.length}for(var er=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray),xr=er.vertexLength,Or=[],un=[],tn=0,En=gt;tn<En.length;tn+=1){var xn=En[tn];if(xn.length!==0){xn!==gt[0]&&un.push(Or.length/2);var Mn=this.segments2.prepareSegment(xn.length,this.layoutVertexArray,this.indexArray2),On=Mn.vertexLength;this.layoutVertexArray.emplaceBack(xn[0].x,xn[0].y),this.indexArray2.emplaceBack(On+xn.length-1,On),Or.push(xn[0].x),Or.push(xn[0].y);for(var Wn=1;Wn<xn.length;Wn++)this.layoutVertexArray.emplaceBack(xn[Wn].x,xn[Wn].y),this.indexArray2.emplaceBack(On+Wn-1,On+Wn),Or.push(xn[Wn].x),Or.push(xn[Wn].y);Mn.vertexLength+=xn.length,Mn.primitiveLength+=xn.length}}for(var ra=am(Or,un),qn=0;qn<ra.length;qn+=3)this.indexArray.emplaceBack(xr+ra[qn],xr+ra[qn+1],xr+ra[qn+2]);er.vertexLength+=Et,er.primitiveLength+=ra.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Se,ve)},ze("FillBucket",Vu,{omit:["layers","patternFeatures"]});var EM=new ci({"fill-sort-key":new La(Sr.layout_fill["fill-sort-key"])}),CM=new ci({"fill-antialias":new sa(Sr.paint_fill["fill-antialias"]),"fill-opacity":new La(Sr.paint_fill["fill-opacity"]),"fill-color":new La(Sr.paint_fill["fill-color"]),"fill-outline-color":new La(Sr.paint_fill["fill-outline-color"]),"fill-translate":new sa(Sr.paint_fill["fill-translate"]),"fill-translate-anchor":new sa(Sr.paint_fill["fill-translate-anchor"]),"fill-pattern":new No(Sr.paint_fill["fill-pattern"])}),LM={paint:CM,layout:EM},PM=function(D){function I(G){D.call(this,G,LM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ae,ve){D.prototype.recalculate.call(this,ae,ve);var Se=this.paint._values["fill-outline-color"];Se.value.kind==="constant"&&Se.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(ae){return new Vu(ae)},I.prototype.queryRadius=function(){return El(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(ae,ve,Se,De,Qe,gt,Et){var Rt=Uu(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),gt.angle,Et);return Ui(Rt,De)},I.prototype.isTileClipped=function(){return!0},I}(Bi),RM=Li([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),DM=RM.members,wb=Rv;function Rv(D,I,G,ae,ve){this.properties={},this.extent=G,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ae,this._values=ve,D.readFields(IM,this,I)}function IM(D,I,G){D==1?I.id=G.readVarint():D==2?_M(G,I):D==3?I.type=G.readVarint():D==4&&(I._geometry=G.pos)}function _M(D,I){for(var G=D.readVarint()+D.pos;D.pos<G;){var ae=I._keys[D.readVarint()],ve=I._values[D.readVarint()];I.properties[ae]=ve}}Rv.types=["Unknown","Point","LineString","Polygon"],Rv.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,G=1,ae=0,ve=0,Se=0,De=[],Qe;D.pos<I;){if(ae<=0){var gt=D.readVarint();G=gt&7,ae=gt>>3}if(ae--,G===1||G===2)ve+=D.readSVarint(),Se+=D.readSVarint(),G===1&&(Qe&&De.push(Qe),Qe=[]),Qe.push(new r(ve,Se));else if(G===7)Qe&&Qe.push(Qe[0].clone());else throw new Error("unknown command "+G)}return Qe&&De.push(Qe),De},Rv.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,G=1,ae=0,ve=0,Se=0,De=1/0,Qe=-1/0,gt=1/0,Et=-1/0;D.pos<I;){if(ae<=0){var Rt=D.readVarint();G=Rt&7,ae=Rt>>3}if(ae--,G===1||G===2)ve+=D.readSVarint(),Se+=D.readSVarint(),ve<De&&(De=ve),ve>Qe&&(Qe=ve),Se<gt&&(gt=Se),Se>Et&&(Et=Se);else if(G!==7)throw new Error("unknown command "+G)}return[De,gt,Qe,Et]},Rv.prototype.toGeoJSON=function(D,I,G){var ae=this.extent*Math.pow(2,G),ve=this.extent*D,Se=this.extent*I,De=this.loadGeometry(),Qe=Rv.types[this.type],gt,Et;function Rt(er){for(var xr=0;xr<er.length;xr++){var Or=er[xr],un=180-(Or.y+Se)*360/ae;er[xr]=[(Or.x+ve)*360/ae-180,360/Math.PI*Math.atan(Math.exp(un*Math.PI/180))-90]}}switch(this.type){case 1:var Wt=[];for(gt=0;gt<De.length;gt++)Wt[gt]=De[gt][0];De=Wt,Rt(De);break;case 2:for(gt=0;gt<De.length;gt++)Rt(De[gt]);break;case 3:for(De=kM(De),gt=0;gt<De.length;gt++)for(Et=0;Et<De[gt].length;Et++)Rt(De[gt][Et]);break}De.length===1?De=De[0]:Qe="Multi"+Qe;var ar={type:"Feature",geometry:{type:Qe,coordinates:De},properties:this.properties};return"id"in this&&(ar.id=this.id),ar};function kM(D){var I=D.length;if(I<=1)return[D];for(var G=[],ae,ve,Se=0;Se<I;Se++){var De=FM(D[Se]);De!==0&&(ve===void 0&&(ve=De<0),ve===De<0?(ae&&G.push(ae),ae=[D[Se]]):ae.push(D[Se]))}return ae&&G.push(ae),G}function FM(D){for(var I=0,G=0,ae=D.length,ve=ae-1,Se,De;G<ae;ve=G++)Se=D[G],De=D[ve],I+=(De.x-Se.x)*(Se.y+De.y);return I}var Tb=Ab;function Ab(D,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(OM,this,I),this.length=this._features.length}function OM(D,I,G){D===15?I.version=G.readVarint():D===1?I.name=G.readString():D===5?I.extent=G.readVarint():D===2?I._features.push(G.pos):D===3?I._keys.push(G.readString()):D===4&&I._values.push(zM(G))}function zM(D){for(var I=null,G=D.readVarint()+D.pos;D.pos<G;){var ae=D.readVarint()>>3;I=ae===1?D.readString():ae===2?D.readFloat():ae===3?D.readDouble():ae===4?D.readVarint64():ae===5?D.readVarint():ae===6?D.readSVarint():ae===7?D.readBoolean():null}return I}Ab.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var I=this._pbf.readVarint()+this._pbf.pos;return new wb(this._pbf,I,this.extent,this._keys,this._values)};var NM=BM;function BM(D,I){this.layers=D.readFields(UM,{},I)}function UM(D,I,G){if(D===3){var ae=new Tb(G,G.readVarint()+G.pos);ae.length&&(I[ae.name]=ae)}}var VM=NM,HM=wb,jM=Tb,Dv={VectorTile:VM,VectorTileFeature:HM,VectorTileLayer:jM},GM=Dv.VectorTileFeature.types,WM=500,cm=Math.pow(2,13);function Ud(D,I,G,ae,ve,Se,De,Qe){D.emplaceBack(I,G,Math.floor(ae*cm)*2+De,ve*cm*2,Se*cm*2,Math.round(Qe))}var Hu=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new yf,this.indexArray=new Bu,this.programConfigurations=new va(I.layers,I.zoom),this.segments=new uo,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Hu.prototype.populate=function(I,G,ae){this.features=[],this.hasPattern=um("fill-extrusion",this.layers,G);for(var ve=0,Se=I;ve<Se.length;ve+=1){var De=Se[ve],Qe=De.feature,gt=De.id,Et=De.index,Rt=De.sourceLayerIndex,Wt=this.layers[0]._featureFilter.needGeometry,ar=Ai(Qe,Wt);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),ar,ae)){var er={id:gt,sourceLayerIndex:Rt,index:Et,geometry:Wt?ar.geometry:ei(Qe),properties:Qe.properties,type:Qe.type,patterns:{}};this.hasPattern?this.features.push(fm("fill-extrusion",this.layers,er,this.zoom,G)):this.addFeature(er,er.geometry,Et,ae,{}),G.featureIndex.insert(Qe,er.geometry,Et,Rt,this.index,!0)}}},Hu.prototype.addFeatures=function(I,G,ae){for(var ve=0,Se=this.features;ve<Se.length;ve+=1){var De=Se[ve],Qe=De.geometry;this.addFeature(De,Qe,De.index,G,ae)}},Hu.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,G,this.stateDependentLayers,ae)},Hu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Hu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Hu.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,DM),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Hu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Hu.prototype.addFeature=function(I,G,ae,ve,Se){for(var De=0,Qe=lm(G,WM);De<Qe.length;De+=1){for(var gt=Qe[De],Et=0,Rt=0,Wt=gt;Rt<Wt.length;Rt+=1){var ar=Wt[Rt];Et+=ar.length}for(var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,Or=gt;xr<Or.length;xr+=1){var un=Or[xr];if(un.length!==0&&!XM(un))for(var tn=0,En=0;En<un.length;En++){var xn=un[En];if(En>=1){var Mn=un[En-1];if(!YM(xn,Mn)){er.vertexLength+4>uo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var On=xn.sub(Mn)._perp()._unit(),Wn=Mn.dist(xn);tn+Wn>32768&&(tn=0),Ud(this.layoutVertexArray,xn.x,xn.y,On.x,On.y,0,0,tn),Ud(this.layoutVertexArray,xn.x,xn.y,On.x,On.y,0,1,tn),tn+=Wn,Ud(this.layoutVertexArray,Mn.x,Mn.y,On.x,On.y,0,0,tn),Ud(this.layoutVertexArray,Mn.x,Mn.y,On.x,On.y,0,1,tn);var ra=er.vertexLength;this.indexArray.emplaceBack(ra,ra+2,ra+1),this.indexArray.emplaceBack(ra+1,ra+2,ra+3),er.vertexLength+=4,er.primitiveLength+=2}}}}if(er.vertexLength+Et>uo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray)),GM[I.type]==="Polygon"){for(var qn=[],Ta=[],da=er.vertexLength,wa=0,Ua=gt;wa<Ua.length;wa+=1){var Aa=Ua[wa];if(Aa.length!==0){Aa!==gt[0]&&Ta.push(qn.length/2);for(var Ca=0;Ca<Aa.length;Ca++){var Ga=Aa[Ca];Ud(this.layoutVertexArray,Ga.x,Ga.y,0,0,1,1,0),qn.push(Ga.x),qn.push(Ga.y)}}}for(var Na=am(qn,Ta),oi=0;oi<Na.length;oi+=3)this.indexArray.emplaceBack(da+Na[oi],da+Na[oi+2],da+Na[oi+1]);er.primitiveLength+=Na.length/3,er.vertexLength+=Et}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Se,ve)},ze("FillExtrusionBucket",Hu,{omit:["layers","features"]});function YM(D,I){return D.x===I.x&&(D.x<0||D.x>Ma)||D.y===I.y&&(D.y<0||D.y>Ma)}function XM(D){return D.every(function(I){return I.x<0})||D.every(function(I){return I.x>Ma})||D.every(function(I){return I.y<0})||D.every(function(I){return I.y>Ma})}var ZM=new ci({"fill-extrusion-opacity":new sa(Sr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new La(Sr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new sa(Sr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new sa(Sr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new No(Sr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new La(Sr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new La(Sr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new sa(Sr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),KM={paint:ZM},JM=function(D){function I(G){D.call(this,G,KM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new Hu(ae)},I.prototype.queryRadius=function(){return El(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(ae,ve,Se,De,Qe,gt,Et,Rt){var Wt=Uu(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),gt.angle,Et),ar=this.paint.get("fill-extrusion-height").evaluate(ve,Se),er=this.paint.get("fill-extrusion-base").evaluate(ve,Se),xr=qM(Wt,Rt,gt,0),Or=QM(De,er,ar,Rt),un=Or[0],tn=Or[1];return $M(un,tn,xr)},I}(Bi);function Vd(D,I){return D.x*I.x+D.y*I.y}function Sb(D,I){if(D.length===1){for(var G=0,ae=I[G++],ve;!ve||ae.equals(ve);)if(ve=I[G++],!ve)return 1/0;for(;G<I.length;G++){var Se=I[G],De=D[0],Qe=ve.sub(ae),gt=Se.sub(ae),Et=De.sub(ae),Rt=Vd(Qe,Qe),Wt=Vd(Qe,gt),ar=Vd(gt,gt),er=Vd(Et,Qe),xr=Vd(Et,gt),Or=Rt*ar-Wt*Wt,un=(ar*er-Wt*xr)/Or,tn=(Rt*xr-Wt*er)/Or,En=1-un-tn,xn=ae.z*En+ve.z*un+Se.z*tn;if(isFinite(xn))return xn}return 1/0}else{for(var Mn=1/0,On=0,Wn=I;On<Wn.length;On+=1){var ra=Wn[On];Mn=Math.min(Mn,ra.z)}return Mn}}function $M(D,I,G){var ae=1/0;Ui(G,I)&&(ae=Sb(G,I[0]));for(var ve=0;ve<I.length;ve++)for(var Se=I[ve],De=D[ve],Qe=0;Qe<Se.length-1;Qe++){var gt=Se[Qe],Et=Se[Qe+1],Rt=De[Qe],Wt=De[Qe+1],ar=[gt,Et,Wt,Rt,gt];ja(G,ar)&&(ae=Math.min(ae,Sb(G,ar)))}return ae===1/0?!1:ae}function QM(D,I,G,ae){for(var ve=[],Se=[],De=ae[8]*I,Qe=ae[9]*I,gt=ae[10]*I,Et=ae[11]*I,Rt=ae[8]*G,Wt=ae[9]*G,ar=ae[10]*G,er=ae[11]*G,xr=0,Or=D;xr<Or.length;xr+=1){for(var un=Or[xr],tn=[],En=[],xn=0,Mn=un;xn<Mn.length;xn+=1){var On=Mn[xn],Wn=On.x,ra=On.y,qn=ae[0]*Wn+ae[4]*ra+ae[12],Ta=ae[1]*Wn+ae[5]*ra+ae[13],da=ae[2]*Wn+ae[6]*ra+ae[14],wa=ae[3]*Wn+ae[7]*ra+ae[15],Ua=qn+De,Aa=Ta+Qe,Ca=da+gt,Ga=wa+Et,Na=qn+Rt,oi=Ta+Wt,xi=da+ar,si=wa+er,li=new r(Ua/Ga,Aa/Ga);li.z=Ca/Ga,tn.push(li);var ti=new r(Na/si,oi/si);ti.z=xi/si,En.push(ti)}ve.push(tn),Se.push(En)}return[ve,Se]}function qM(D,I,G,ae){for(var ve=[],Se=0,De=D;Se<De.length;Se+=1){var Qe=De[Se],gt=[Qe.x,Qe.y,ae,1];fp(gt,gt,I),ve.push(new r(gt[0]/gt[3],gt[1]/gt[3]))}return ve}var e8=Li([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),t8=e8.members,r8=Li([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),n8=r8.members,a8=Dv.VectorTileFeature.types,Mb=63,i8=Math.cos(75/2*(Math.PI/180)),o8=15,s8=20,l8=15,Eb=1/2,Cb=Math.pow(2,l8-1)/Eb,cs=function(I){var G=this;this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ae){return ae.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ae){G.gradients[ae.id]={}}),this.layoutVertexArray=new zc,this.layoutVertexArray2=new Nc,this.indexArray=new Bu,this.programConfigurations=new va(I.layers,I.zoom),this.segments=new uo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ae){return ae.isStateDependent()}).map(function(ae){return ae.id})};cs.prototype.populate=function(I,G,ae){this.hasPattern=um("line",this.layers,G);for(var ve=this.layers[0].layout.get("line-sort-key"),Se=[],De=0,Qe=I;De<Qe.length;De+=1){var gt=Qe[De],Et=gt.feature,Rt=gt.id,Wt=gt.index,ar=gt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,xr=Ai(Et,er);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),xr,ae)){var Or=ve?ve.evaluate(xr,{},ae):void 0,un={id:Rt,properties:Et.properties,type:Et.type,sourceLayerIndex:ar,index:Wt,geometry:er?xr.geometry:ei(Et),patterns:{},sortKey:Or};Se.push(un)}}ve&&Se.sort(function(da,wa){return da.sortKey-wa.sortKey});for(var tn=0,En=Se;tn<En.length;tn+=1){var xn=En[tn],Mn=xn,On=Mn.geometry,Wn=Mn.index,ra=Mn.sourceLayerIndex;if(this.hasPattern){var qn=fm("line",this.layers,xn,this.zoom,G);this.patternFeatures.push(qn)}else this.addFeature(xn,On,Wn,ae,{});var Ta=I[Wn].feature;G.featureIndex.insert(Ta,On,Wn,ra,this.index)}},cs.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,G,this.stateDependentLayers,ae)},cs.prototype.addFeatures=function(I,G,ae){for(var ve=0,Se=this.patternFeatures;ve<Se.length;ve+=1){var De=Se[ve];this.addFeature(De,De.geometry,De.index,G,ae)}},cs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},cs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},cs.prototype.upload=function(I){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=I.createVertexBuffer(this.layoutVertexArray2,n8)),this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,t8),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},cs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},cs.prototype.lineFeatureClips=function(I){if(I.properties&&I.properties.hasOwnProperty("mapbox_clip_start")&&I.properties.hasOwnProperty("mapbox_clip_end")){var G=+I.properties.mapbox_clip_start,ae=+I.properties.mapbox_clip_end;return{start:G,end:ae}}},cs.prototype.addFeature=function(I,G,ae,ve,Se){var De=this.layers[0].layout,Qe=De.get("line-join").evaluate(I,{}),gt=De.get("line-cap"),Et=De.get("line-miter-limit"),Rt=De.get("line-round-limit");this.lineClips=this.lineFeatureClips(I);for(var Wt=0,ar=G;Wt<ar.length;Wt+=1){var er=ar[Wt];this.addLine(er,I,Qe,gt,Et,Rt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Se,ve)},cs.prototype.addLine=function(I,G,ae,ve,Se,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Qe=0;Qe<I.length-1;Qe++)this.totalDistance+=I[Qe].dist(I[Qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var gt=a8[G.type]==="Polygon",Et=I.length;Et>=2&&I[Et-1].equals(I[Et-2]);)Et--;for(var Rt=0;Rt<Et-1&&I[Rt].equals(I[Rt+1]);)Rt++;if(!(Et<(gt?3:2))){ae==="bevel"&&(Se=1.05);var Wt=this.overscaling<=16?o8*Ma/(512*this.overscaling):0,ar=this.segments.prepareSegment(Et*10,this.layoutVertexArray,this.indexArray),er,xr=void 0,Or=void 0,un=void 0,tn=void 0;this.e1=this.e2=-1,gt&&(er=I[Et-2],tn=I[Rt].sub(er)._unit()._perp());for(var En=Rt;En<Et;En++)if(Or=En===Et-1?gt?I[Rt+1]:void 0:I[En+1],!(Or&&I[En].equals(Or))){tn&&(un=tn),er&&(xr=er),er=I[En],tn=Or?Or.sub(er)._unit()._perp():un,un=un||tn;var xn=un.add(tn);(xn.x!==0||xn.y!==0)&&xn._unit();var Mn=un.x*tn.x+un.y*tn.y,On=xn.x*tn.x+xn.y*tn.y,Wn=On!==0?1/On:1/0,ra=2*Math.sqrt(2-2*On),qn=On<i8&&xr&&Or,Ta=un.x*tn.y-un.y*tn.x>0;if(qn&&En>Rt){var da=er.dist(xr);if(da>2*Wt){var wa=er.sub(er.sub(xr)._mult(Wt/da)._round());this.updateDistance(xr,wa),this.addCurrentVertex(wa,un,0,0,ar),xr=wa}}var Ua=xr&&Or,Aa=Ua?ae:gt?"butt":ve;if(Ua&&Aa==="round"&&(Wn<De?Aa="miter":Wn<=2&&(Aa="fakeround")),Aa==="miter"&&Wn>Se&&(Aa="bevel"),Aa==="bevel"&&(Wn>2&&(Aa="flipbevel"),Wn<Se&&(Aa="miter")),xr&&this.updateDistance(xr,er),Aa==="miter")xn._mult(Wn),this.addCurrentVertex(er,xn,0,0,ar);else if(Aa==="flipbevel"){if(Wn>100)xn=tn.mult(-1);else{var Ca=Wn*un.add(tn).mag()/un.sub(tn).mag();xn._perp()._mult(Ca*(Ta?-1:1))}this.addCurrentVertex(er,xn,0,0,ar),this.addCurrentVertex(er,xn.mult(-1),0,0,ar)}else if(Aa==="bevel"||Aa==="fakeround"){var Ga=-Math.sqrt(Wn*Wn-1),Na=Ta?Ga:0,oi=Ta?0:Ga;if(xr&&this.addCurrentVertex(er,un,Na,oi,ar),Aa==="fakeround")for(var xi=Math.round(ra*180/Math.PI/s8),si=1;si<xi;si++){var li=si/xi;if(li!==.5){var ti=li-.5,Si=1.0904+Mn*(-3.2452+Mn*(3.55645-Mn*1.43519)),Ei=.848013+Mn*(-1.06021+Mn*.215638);li=li+li*ti*(li-1)*(Si*ti*ti+Ei)}var Vi=tn.sub(un)._mult(li)._add(un)._unit()._mult(Ta?-1:1);this.addHalfVertex(er,Vi.x,Vi.y,!1,Ta,0,ar)}Or&&this.addCurrentVertex(er,tn,-Na,-oi,ar)}else if(Aa==="butt")this.addCurrentVertex(er,xn,0,0,ar);else if(Aa==="square"){var Zi=xr?1:-1;this.addCurrentVertex(er,xn,Zi,Zi,ar)}else Aa==="round"&&(xr&&(this.addCurrentVertex(er,un,0,0,ar),this.addCurrentVertex(er,un,1,1,ar,!0)),Or&&(this.addCurrentVertex(er,tn,-1,-1,ar,!0),this.addCurrentVertex(er,tn,0,0,ar)));if(qn&&En<Et-1){var Po=er.dist(Or);if(Po>2*Wt){var vo=er.add(Or.sub(er)._mult(Wt/Po)._round());this.updateDistance(er,vo),this.addCurrentVertex(vo,tn,0,0,ar),er=vo}}}}},cs.prototype.addCurrentVertex=function(I,G,ae,ve,Se,De){De===void 0&&(De=!1);var Qe=G.x+G.y*ae,gt=G.y-G.x*ae,Et=-G.x+G.y*ve,Rt=-G.y-G.x*ve;this.addHalfVertex(I,Qe,gt,De,!1,ae,Se),this.addHalfVertex(I,Et,Rt,De,!0,-ve,Se),this.distance>Cb/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(I,G,ae,ve,Se,De))},cs.prototype.addHalfVertex=function(I,G,ae,ve,Se,De,Qe){var gt=I.x,Et=I.y,Rt=this.lineClips?this.scaledDistance*(Cb-1):this.scaledDistance,Wt=Rt*Eb;if(this.layoutVertexArray.emplaceBack((gt<<1)+(ve?1:0),(Et<<1)+(Se?1:0),Math.round(Mb*G)+128,Math.round(Mb*ae)+128,(De===0?0:De<0?-1:1)+1|(Wt&63)<<2,Wt>>6),this.lineClips){var ar=this.scaledDistance-this.lineClips.start,er=this.lineClips.end-this.lineClips.start,xr=ar/er;this.layoutVertexArray2.emplaceBack(xr,this.lineClipsArray.length)}var Or=Qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Or),Qe.primitiveLength++),Se?this.e2=Or:this.e1=Or},cs.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},cs.prototype.updateDistance=function(I,G){this.distance+=I.dist(G),this.updateScaledDistance()},ze("LineBucket",cs,{omit:["layers","patternFeatures"]});var u8=new ci({"line-cap":new sa(Sr.layout_line["line-cap"]),"line-join":new La(Sr.layout_line["line-join"]),"line-miter-limit":new sa(Sr.layout_line["line-miter-limit"]),"line-round-limit":new sa(Sr.layout_line["line-round-limit"]),"line-sort-key":new La(Sr.layout_line["line-sort-key"])}),f8=new ci({"line-opacity":new La(Sr.paint_line["line-opacity"]),"line-color":new La(Sr.paint_line["line-color"]),"line-translate":new sa(Sr.paint_line["line-translate"]),"line-translate-anchor":new sa(Sr.paint_line["line-translate-anchor"]),"line-width":new La(Sr.paint_line["line-width"]),"line-gap-width":new La(Sr.paint_line["line-gap-width"]),"line-offset":new La(Sr.paint_line["line-offset"]),"line-blur":new La(Sr.paint_line["line-blur"]),"line-dasharray":new Go(Sr.paint_line["line-dasharray"]),"line-pattern":new No(Sr.paint_line["line-pattern"]),"line-gradient":new lo(Sr.paint_line["line-gradient"])}),Lb={paint:f8,layout:u8},c8=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ae,ve){return ve=new Sa(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),D.prototype.possiblyEvaluate.call(this,ae,ve)},I.prototype.evaluate=function(ae,ve,Se,De){return ve=w({},ve,{zoom:Math.floor(ve.zoom)}),D.prototype.evaluate.call(this,ae,ve,Se,De)},I}(La),Pb=new c8(Lb.paint.properties["line-width"].specification);Pb.useIntegerZoom=!0;var h8=function(D){function I(G){D.call(this,G,Lb),this.gradientVersion=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(ae){if(ae==="line-gradient"){var ve=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ve._styleExpression.expression instanceof rs,this.gradientVersion=(this.gradientVersion+1)%u}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(ae,ve){D.prototype.recalculate.call(this,ae,ve),this.paint._values["line-floorwidth"]=Pb.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},I.prototype.createBucket=function(ae){return new cs(ae)},I.prototype.queryRadius=function(ae){var ve=ae,Se=Rb(fs("line-width",this,ve),fs("line-gap-width",this,ve)),De=fs("line-offset",this,ve);return Se/2+Math.abs(De)+El(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(ae,ve,Se,De,Qe,gt,Et){var Rt=Uu(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),gt.angle,Et),Wt=Et/2*Rb(this.paint.get("line-width").evaluate(ve,Se),this.paint.get("line-gap-width").evaluate(ve,Se)),ar=this.paint.get("line-offset").evaluate(ve,Se);return ar&&(De=v8(De,ar*Et)),wo(Rt,De,Wt)},I.prototype.isTileClipped=function(){return!0},I}(Bi);function Rb(D,I){return I>0?I+2*D:D}function v8(D,I){for(var G=[],ae=new r(0,0),ve=0;ve<D.length;ve++){for(var Se=D[ve],De=[],Qe=0;Qe<Se.length;Qe++){var gt=Se[Qe-1],Et=Se[Qe],Rt=Se[Qe+1],Wt=Qe===0?ae:Et.sub(gt)._unit()._perp(),ar=Qe===Se.length-1?ae:Rt.sub(Et)._unit()._perp(),er=Wt._add(ar)._unit(),xr=er.x*ar.x+er.y*ar.y;er._mult(1/xr),De.push(er._mult(I)._add(Et))}G.push(De)}return G}var d8=Li([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),p8=Li([{name:"a_projected_pos",components:3,type:"Float32"}],4);Li([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var g8=Li([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Li([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Db=Li([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),y8=Li([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Li([{name:"triangle",components:3,type:"Uint16"}]),Li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Li([{type:"Float32",name:"offsetX"}]),Li([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function m8(D,I,G){var ae=I.layout.get("text-transform").evaluate(G,{});return ae==="uppercase"?D=D.toLocaleUpperCase():ae==="lowercase"&&(D=D.toLocaleLowerCase()),Jn.applyArabicShaping&&(D=Jn.applyArabicShaping(D)),D}function x8(D,I,G){return D.sections.forEach(function(ae){ae.text=m8(ae.text,I,G)}),D}function b8(D){var I={},G={},ae=[],ve=0;function Se(tn){ae.push(D[tn]),ve++}function De(tn,En,xn){var Mn=G[tn];return delete G[tn],G[En]=Mn,ae[Mn].geometry[0].pop(),ae[Mn].geometry[0]=ae[Mn].geometry[0].concat(xn[0]),Mn}function Qe(tn,En,xn){var Mn=I[En];return delete I[En],I[tn]=Mn,ae[Mn].geometry[0].shift(),ae[Mn].geometry[0]=xn[0].concat(ae[Mn].geometry[0]),Mn}function gt(tn,En,xn){var Mn=xn?En[0][En[0].length-1]:En[0][0];return tn+":"+Mn.x+":"+Mn.y}for(var Et=0;Et<D.length;Et++){var Rt=D[Et],Wt=Rt.geometry,ar=Rt.text?Rt.text.toString():null;if(!ar){Se(Et);continue}var er=gt(ar,Wt),xr=gt(ar,Wt,!0);if(er in G&&xr in I&&G[er]!==I[xr]){var Or=Qe(er,xr,Wt),un=De(er,xr,ae[Or].geometry);delete I[er],delete G[xr],G[gt(ar,ae[un].geometry,!0)]=un,ae[Or].geometry=null}else er in G?De(er,xr,Wt):xr in I?Qe(er,xr,Wt):(Se(Et),I[er]=ve-1,G[xr]=ve-1)}return ae.filter(function(tn){return tn.geometry})}var Hd={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function w8(D){for(var I="",G=0;G<D.length;G++){var ae=D.charCodeAt(G+1)||null,ve=D.charCodeAt(G-1)||null,Se=(!ae||!Ur(ae)||Hd[D[G+1]])&&(!ve||!Ur(ve)||Hd[D[G-1]]);Se&&Hd[D[G]]?I+=Hd[D[G]]:I+=D[G]}return I}var Bo=24,T8=function(D,I,G,ae,ve){var Se,De,Qe=ve*8-ae-1,gt=(1<<Qe)-1,Et=gt>>1,Rt=-7,Wt=G?ve-1:0,ar=G?-1:1,er=D[I+Wt];for(Wt+=ar,Se=er&(1<<-Rt)-1,er>>=-Rt,Rt+=Qe;Rt>0;Se=Se*256+D[I+Wt],Wt+=ar,Rt-=8);for(De=Se&(1<<-Rt)-1,Se>>=-Rt,Rt+=ae;Rt>0;De=De*256+D[I+Wt],Wt+=ar,Rt-=8);if(Se===0)Se=1-Et;else{if(Se===gt)return De?NaN:(er?-1:1)*(1/0);De=De+Math.pow(2,ae),Se=Se-Et}return(er?-1:1)*De*Math.pow(2,Se-ae)},A8=function(D,I,G,ae,ve,Se){var De,Qe,gt,Et=Se*8-ve-1,Rt=(1<<Et)-1,Wt=Rt>>1,ar=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,er=ae?0:Se-1,xr=ae?1:-1,Or=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(Qe=isNaN(I)?1:0,De=Rt):(De=Math.floor(Math.log(I)/Math.LN2),I*(gt=Math.pow(2,-De))<1&&(De--,gt*=2),De+Wt>=1?I+=ar/gt:I+=ar*Math.pow(2,1-Wt),I*gt>=2&&(De++,gt/=2),De+Wt>=Rt?(Qe=0,De=Rt):De+Wt>=1?(Qe=(I*gt-1)*Math.pow(2,ve),De=De+Wt):(Qe=I*Math.pow(2,Wt-1)*Math.pow(2,ve),De=0));ve>=8;D[G+er]=Qe&255,er+=xr,Qe/=256,ve-=8);for(De=De<<ve|Qe,Et+=ve;Et>0;D[G+er]=De&255,er+=xr,De/=256,Et-=8);D[G+er-xr]|=Or*128},pp={read:T8,write:A8},gp=Mi;function Mi(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Mi.Varint=0,Mi.Fixed64=1,Mi.Bytes=2,Mi.Fixed32=5;var hm=65536*65536,Ib=1/hm,S8=12,_b=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Mi.prototype={destroy:function(){this.buf=null},readFields:function(D,I,G){for(G=G||this.length;this.pos<G;){var ae=this.readVarint(),ve=ae>>3,Se=this.pos;this.type=ae&7,D(ve,I,this),this.pos===Se&&this.skip(ae)}return I},readMessage:function(D,I){return this.readFields(D,I,this.readVarint()+this.pos)},readFixed32:function(){var D=yp(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=Fb(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=yp(this.buf,this.pos)+yp(this.buf,this.pos+4)*hm;return this.pos+=8,D},readSFixed64:function(){var D=yp(this.buf,this.pos)+Fb(this.buf,this.pos+4)*hm;return this.pos+=8,D},readFloat:function(){var D=pp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=pp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var I=this.buf,G,ae;return ae=I[this.pos++],G=ae&127,ae<128||(ae=I[this.pos++],G|=(ae&127)<<7,ae<128)||(ae=I[this.pos++],G|=(ae&127)<<14,ae<128)||(ae=I[this.pos++],G|=(ae&127)<<21,ae<128)?G:(ae=I[this.pos],G|=(ae&15)<<28,M8(G,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,I=this.pos;return this.pos=D,D-I>=S8&&_b?B8(this.buf,I,D):N8(this.buf,I,D)},readBytes:function(){var D=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,D);return this.pos=D,I},readPackedVarint:function(D,I){if(this.type!==Mi.Bytes)return D.push(this.readVarint(I));var G=Jf(this);for(D=D||[];this.pos<G;)D.push(this.readVarint(I));return D},readPackedSVarint:function(D){if(this.type!==Mi.Bytes)return D.push(this.readSVarint());var I=Jf(this);for(D=D||[];this.pos<I;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Mi.Bytes)return D.push(this.readBoolean());var I=Jf(this);for(D=D||[];this.pos<I;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Mi.Bytes)return D.push(this.readFloat());var I=Jf(this);for(D=D||[];this.pos<I;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Mi.Bytes)return D.push(this.readDouble());var I=Jf(this);for(D=D||[];this.pos<I;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Mi.Bytes)return D.push(this.readFixed32());var I=Jf(this);for(D=D||[];this.pos<I;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Mi.Bytes)return D.push(this.readSFixed32());var I=Jf(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Mi.Bytes)return D.push(this.readFixed64());var I=Jf(this);for(D=D||[];this.pos<I;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Mi.Bytes)return D.push(this.readSFixed64());var I=Jf(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed64());return D},skip:function(D){var I=D&7;if(I===Mi.Varint)for(;this.buf[this.pos++]>127;);else if(I===Mi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===Mi.Fixed32)this.pos+=4;else if(I===Mi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+I)},writeTag:function(D,I){this.writeVarint(D<<3|I)},realloc:function(D){for(var I=this.length||16;I<this.pos+D;)I*=2;if(I!==this.length){var G=new Uint8Array(I);G.set(this.buf),this.buf=G,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),_v(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),_v(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),_v(this.buf,D&-1,this.pos),_v(this.buf,Math.floor(D*Ib),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),_v(this.buf,D&-1,this.pos),_v(this.buf,Math.floor(D*Ib),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){E8(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var I=this.pos;this.pos=U8(this.buf,D,this.pos);var G=this.pos-I;G>=128&&kb(I,G,this),this.pos=I-1,this.writeVarint(G),this.pos+=G},writeFloat:function(D){this.realloc(4),pp.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),pp.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var I=D.length;this.writeVarint(I),this.realloc(I);for(var G=0;G<I;G++)this.buf[this.pos++]=D[G]},writeRawMessage:function(D,I){this.pos++;var G=this.pos;D(I,this);var ae=this.pos-G;ae>=128&&kb(G,ae,this),this.pos=G-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(D,I,G){this.writeTag(D,Mi.Bytes),this.writeRawMessage(I,G)},writePackedVarint:function(D,I){I.length&&this.writeMessage(D,P8,I)},writePackedSVarint:function(D,I){I.length&&this.writeMessage(D,R8,I)},writePackedBoolean:function(D,I){I.length&&this.writeMessage(D,_8,I)},writePackedFloat:function(D,I){I.length&&this.writeMessage(D,D8,I)},writePackedDouble:function(D,I){I.length&&this.writeMessage(D,I8,I)},writePackedFixed32:function(D,I){I.length&&this.writeMessage(D,k8,I)},writePackedSFixed32:function(D,I){I.length&&this.writeMessage(D,F8,I)},writePackedFixed64:function(D,I){I.length&&this.writeMessage(D,O8,I)},writePackedSFixed64:function(D,I){I.length&&this.writeMessage(D,z8,I)},writeBytesField:function(D,I){this.writeTag(D,Mi.Bytes),this.writeBytes(I)},writeFixed32Field:function(D,I){this.writeTag(D,Mi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(D,I){this.writeTag(D,Mi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(D,I){this.writeTag(D,Mi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(D,I){this.writeTag(D,Mi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(D,I){this.writeTag(D,Mi.Varint),this.writeVarint(I)},writeSVarintField:function(D,I){this.writeTag(D,Mi.Varint),this.writeSVarint(I)},writeStringField:function(D,I){this.writeTag(D,Mi.Bytes),this.writeString(I)},writeFloatField:function(D,I){this.writeTag(D,Mi.Fixed32),this.writeFloat(I)},writeDoubleField:function(D,I){this.writeTag(D,Mi.Fixed64),this.writeDouble(I)},writeBooleanField:function(D,I){this.writeVarintField(D,!!I)}};function M8(D,I,G){var ae=G.buf,ve,Se;if(Se=ae[G.pos++],ve=(Se&112)>>4,Se<128||(Se=ae[G.pos++],ve|=(Se&127)<<3,Se<128)||(Se=ae[G.pos++],ve|=(Se&127)<<10,Se<128)||(Se=ae[G.pos++],ve|=(Se&127)<<17,Se<128)||(Se=ae[G.pos++],ve|=(Se&127)<<24,Se<128)||(Se=ae[G.pos++],ve|=(Se&1)<<31,Se<128))return Iv(D,ve,I);throw new Error("Expected varint not more than 10 bytes")}function Jf(D){return D.type===Mi.Bytes?D.readVarint()+D.pos:D.pos+1}function Iv(D,I,G){return G?I*4294967296+(D>>>0):(I>>>0)*4294967296+(D>>>0)}function E8(D,I){var G,ae;if(D>=0?(G=D%4294967296|0,ae=D/4294967296|0):(G=~(-D%4294967296),ae=~(-D/4294967296),G^4294967295?G=G+1|0:(G=0,ae=ae+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),C8(G,ae,I),L8(ae,I)}function C8(D,I,G){G.buf[G.pos++]=D&127|128,D>>>=7,G.buf[G.pos++]=D&127|128,D>>>=7,G.buf[G.pos++]=D&127|128,D>>>=7,G.buf[G.pos++]=D&127|128,D>>>=7,G.buf[G.pos]=D&127}function L8(D,I){var G=(D&7)<<4;I.buf[I.pos++]|=G|((D>>>=3)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127)))))}function kb(D,I,G){var ae=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(Math.LN2*7));G.realloc(ae);for(var ve=G.pos-1;ve>=D;ve--)G.buf[ve+ae]=G.buf[ve]}function P8(D,I){for(var G=0;G<D.length;G++)I.writeVarint(D[G])}function R8(D,I){for(var G=0;G<D.length;G++)I.writeSVarint(D[G])}function D8(D,I){for(var G=0;G<D.length;G++)I.writeFloat(D[G])}function I8(D,I){for(var G=0;G<D.length;G++)I.writeDouble(D[G])}function _8(D,I){for(var G=0;G<D.length;G++)I.writeBoolean(D[G])}function k8(D,I){for(var G=0;G<D.length;G++)I.writeFixed32(D[G])}function F8(D,I){for(var G=0;G<D.length;G++)I.writeSFixed32(D[G])}function O8(D,I){for(var G=0;G<D.length;G++)I.writeFixed64(D[G])}function z8(D,I){for(var G=0;G<D.length;G++)I.writeSFixed64(D[G])}function yp(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+D[I+3]*16777216}function _v(D,I,G){D[G]=I,D[G+1]=I>>>8,D[G+2]=I>>>16,D[G+3]=I>>>24}function Fb(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+(D[I+3]<<24)}function N8(D,I,G){for(var ae="",ve=I;ve<G;){var Se=D[ve],De=null,Qe=Se>239?4:Se>223?3:Se>191?2:1;if(ve+Qe>G)break;var gt,Et,Rt;Qe===1?Se<128&&(De=Se):Qe===2?(gt=D[ve+1],(gt&192)===128&&(De=(Se&31)<<6|gt&63,De<=127&&(De=null))):Qe===3?(gt=D[ve+1],Et=D[ve+2],(gt&192)===128&&(Et&192)===128&&(De=(Se&15)<<12|(gt&63)<<6|Et&63,(De<=2047||De>=55296&&De<=57343)&&(De=null))):Qe===4&&(gt=D[ve+1],Et=D[ve+2],Rt=D[ve+3],(gt&192)===128&&(Et&192)===128&&(Rt&192)===128&&(De=(Se&15)<<18|(gt&63)<<12|(Et&63)<<6|Rt&63,(De<=65535||De>=1114112)&&(De=null))),De===null?(De=65533,Qe=1):De>65535&&(De-=65536,ae+=String.fromCharCode(De>>>10&1023|55296),De=56320|De&1023),ae+=String.fromCharCode(De),ve+=Qe}return ae}function B8(D,I,G){return _b.decode(D.subarray(I,G))}function U8(D,I,G){for(var ae=0,ve,Se;ae<I.length;ae++){if(ve=I.charCodeAt(ae),ve>55295&&ve<57344)if(Se)if(ve<56320){D[G++]=239,D[G++]=191,D[G++]=189,Se=ve;continue}else ve=Se-55296<<10|ve-56320|65536,Se=null;else{ve>56319||ae+1===I.length?(D[G++]=239,D[G++]=191,D[G++]=189):Se=ve;continue}else Se&&(D[G++]=239,D[G++]=191,D[G++]=189,Se=null);ve<128?D[G++]=ve:(ve<2048?D[G++]=ve>>6|192:(ve<65536?D[G++]=ve>>12|224:(D[G++]=ve>>18|240,D[G++]=ve>>12&63|128),D[G++]=ve>>6&63|128),D[G++]=ve&63|128)}return G}var vm=3;function V8(D,I,G){D===1&&G.readMessage(H8,I)}function H8(D,I,G){if(D===3){var ae=G.readMessage(j8,{}),ve=ae.id,Se=ae.bitmap,De=ae.width,Qe=ae.height,gt=ae.left,Et=ae.top,Rt=ae.advance;I.push({id:ve,bitmap:new Jh({width:De+2*vm,height:Qe+2*vm},Se),metrics:{width:De,height:Qe,left:gt,top:Et,advance:Rt}})}}function j8(D,I,G){D===1?I.id=G.readVarint():D===2?I.bitmap=G.readBytes():D===3?I.width=G.readVarint():D===4?I.height=G.readVarint():D===5?I.left=G.readSVarint():D===6?I.top=G.readSVarint():D===7&&(I.advance=G.readVarint())}function G8(D){return new gp(D).readFields(V8,[])}var Ob=vm;function zb(D){for(var I=0,G=0,ae=0,ve=D;ae<ve.length;ae+=1){var Se=ve[ae];I+=Se.w*Se.h,G=Math.max(G,Se.w)}D.sort(function(un,tn){return tn.h-un.h});for(var De=Math.max(Math.ceil(Math.sqrt(I/.95)),G),Qe=[{x:0,y:0,w:De,h:1/0}],gt=0,Et=0,Rt=0,Wt=D;Rt<Wt.length;Rt+=1)for(var ar=Wt[Rt],er=Qe.length-1;er>=0;er--){var xr=Qe[er];if(!(ar.w>xr.w||ar.h>xr.h)){if(ar.x=xr.x,ar.y=xr.y,Et=Math.max(Et,ar.y+ar.h),gt=Math.max(gt,ar.x+ar.w),ar.w===xr.w&&ar.h===xr.h){var Or=Qe.pop();er<Qe.length&&(Qe[er]=Or)}else ar.h===xr.h?(xr.x+=ar.w,xr.w-=ar.w):ar.w===xr.w?(xr.y+=ar.h,xr.h-=ar.h):(Qe.push({x:xr.x+ar.w,y:xr.y,w:xr.w-ar.w,h:ar.h}),xr.y+=ar.h,xr.h-=ar.h);break}}return{w:gt,h:Et,fill:I/(gt*Et)||0}}var Hs=1,mp=function(I,G){var ae=G.pixelRatio,ve=G.version,Se=G.stretchX,De=G.stretchY,Qe=G.content;this.paddedRect=I,this.pixelRatio=ae,this.stretchX=Se,this.stretchY=De,this.content=Qe,this.version=ve},jd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};jd.tl.get=function(){return[this.paddedRect.x+Hs,this.paddedRect.y+Hs]},jd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Hs,this.paddedRect.y+this.paddedRect.h-Hs]},jd.tlbr.get=function(){return this.tl.concat(this.br)},jd.displaySize.get=function(){return[(this.paddedRect.w-Hs*2)/this.pixelRatio,(this.paddedRect.h-Hs*2)/this.pixelRatio]},Object.defineProperties(mp.prototype,jd);var Gd=function(I,G){var ae={},ve={};this.haveRenderCallbacks=[];var Se=[];this.addImages(I,ae,Se),this.addImages(G,ve,Se);var De=zb(Se),Qe=De.w,gt=De.h,Et=new Cs({width:Qe||1,height:gt||1});for(var Rt in I){var Wt=I[Rt],ar=ae[Rt].paddedRect;Cs.copy(Wt.data,Et,{x:0,y:0},{x:ar.x+Hs,y:ar.y+Hs},Wt.data)}for(var er in G){var xr=G[er],Or=ve[er].paddedRect,un=Or.x+Hs,tn=Or.y+Hs,En=xr.data.width,xn=xr.data.height;Cs.copy(xr.data,Et,{x:0,y:0},{x:un,y:tn},xr.data),Cs.copy(xr.data,Et,{x:0,y:xn-1},{x:un,y:tn-1},{width:En,height:1}),Cs.copy(xr.data,Et,{x:0,y:0},{x:un,y:tn+xn},{width:En,height:1}),Cs.copy(xr.data,Et,{x:En-1,y:0},{x:un-1,y:tn},{width:1,height:xn}),Cs.copy(xr.data,Et,{x:0,y:0},{x:un+En,y:tn},{width:1,height:xn})}this.image=Et,this.iconPositions=ae,this.patternPositions=ve};Gd.prototype.addImages=function(I,G,ae){for(var ve in I){var Se=I[ve],De={x:0,y:0,w:Se.data.width+2*Hs,h:Se.data.height+2*Hs};ae.push(De),G[ve]=new mp(De,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},Gd.prototype.patchUpdatedImages=function(I,G){I.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in I.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],I.getImage(ae),G),this.patchUpdatedImage(this.patternPositions[ae],I.getImage(ae),G)},Gd.prototype.patchUpdatedImage=function(I,G,ae){if(!(!I||!G)&&I.version!==G.version){I.version=G.version;var ve=I.tl,Se=ve[0],De=ve[1];ae.update(G.data,void 0,{x:Se,y:De})}},ze("ImagePosition",mp),ze("ImageAtlas",Gd);var ol={horizontal:1,vertical:2,horizontalOnly:3},Wd=-17;function W8(D){for(var I=0,G=D;I<G.length;I+=1){var ae=G[I];if(ae.positionedGlyphs.length!==0)return!1}return!0}var Nb=57344,Bb=63743,kv=function(){this.scale=1,this.fontStack="",this.imageName=null};kv.forText=function(I,G){var ae=new kv;return ae.scale=I||1,ae.fontStack=G,ae},kv.forImage=function(I){var G=new kv;return G.imageName=I,G};var Ko=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Ko.fromFeature=function(I,G){for(var ae=new Ko,ve=0;ve<I.sections.length;ve++){var Se=I.sections[ve];Se.image?ae.addImageSection(Se):ae.addTextSection(Se,G)}return ae},Ko.prototype.length=function(){return this.text.length},Ko.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},Ko.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},Ko.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},Ko.prototype.verticalizePunctuation=function(){this.text=w8(this.text)},Ko.prototype.trim=function(){for(var I=0,G=0;G<this.text.length&&bf[this.text.charCodeAt(G)];G++)I++;for(var ae=this.text.length,ve=this.text.length-1;ve>=0&&ve>=I&&bf[this.text.charCodeAt(ve)];ve--)ae--;this.text=this.text.substring(I,ae),this.sectionIndex=this.sectionIndex.slice(I,ae)},Ko.prototype.substring=function(I,G){var ae=new Ko;return ae.text=this.text.substring(I,G),ae.sectionIndex=this.sectionIndex.slice(I,G),ae.sections=this.sections,ae},Ko.prototype.toString=function(){return this.text},Ko.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(G,ae){return Math.max(G,I.sections[ae].scale)},0)},Ko.prototype.addTextSection=function(I,G){this.text+=I.text,this.sections.push(kv.forText(I.scale,I.fontStack||G));for(var ae=this.sections.length-1,ve=0;ve<I.text.length;++ve)this.sectionIndex.push(ae)},Ko.prototype.addImageSection=function(I){var G=I.image?I.image.name:"";if(G.length===0){N("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){N("Reached maximum number of images "+(Bb-Nb+2));return}this.text+=String.fromCharCode(ae),this.sections.push(kv.forImage(G)),this.sectionIndex.push(this.sections.length-1)},Ko.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Bb?null:++this.imageSectionID:(this.imageSectionID=Nb,this.imageSectionID)};function Y8(D,I){for(var G=[],ae=D.text,ve=0,Se=0,De=I;Se<De.length;Se+=1){var Qe=De[Se];G.push(D.substring(ve,Qe)),ve=Qe}return ve<ae.length&&G.push(D.substring(ve,ae.length)),G}function xp(D,I,G,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or){var un=Ko.fromFeature(D,ve);Wt===ol.vertical&&un.verticalizePunctuation();var tn,En=Jn.processBidirectionalText,xn=Jn.processStyledBidirectionalText;if(En&&un.sections.length===1){tn=[];for(var Mn=En(un.toString(),dm(un,Et,Se,I,ae,er,xr)),On=0,Wn=Mn;On<Wn.length;On+=1){var ra=Wn[On],qn=new Ko;qn.text=ra,qn.sections=un.sections;for(var Ta=0;Ta<ra.length;Ta++)qn.sectionIndex.push(0);tn.push(qn)}}else if(xn){tn=[];for(var da=xn(un.text,un.sectionIndex,dm(un,Et,Se,I,ae,er,xr)),wa=0,Ua=da;wa<Ua.length;wa+=1){var Aa=Ua[wa],Ca=new Ko;Ca.text=Aa[0],Ca.sectionIndex=Aa[1],Ca.sections=un.sections,tn.push(Ca)}}else tn=Y8(un,dm(un,Et,Se,I,ae,er,xr));var Ga=[],Na={positionedLines:Ga,text:un.toString(),top:Rt[1],bottom:Rt[1],left:Rt[0],right:Rt[0],writingMode:Wt,iconsInText:!1,verticalizable:!1};return K8(Na,I,G,ae,tn,De,Qe,gt,Wt,Et,ar,Or),W8(Ga)?!1:Na}var bf={};bf[9]=!0,bf[10]=!0,bf[11]=!0,bf[12]=!0,bf[13]=!0,bf[32]=!0;var js={};js[10]=!0,js[32]=!0,js[38]=!0,js[40]=!0,js[41]=!0,js[43]=!0,js[45]=!0,js[47]=!0,js[173]=!0,js[183]=!0,js[8203]=!0,js[8208]=!0,js[8211]=!0,js[8231]=!0;function Ub(D,I,G,ae,ve,Se){if(I.imageName){var gt=ae[I.imageName];return gt?gt.displaySize[0]*I.scale*Bo/Se+ve:0}else{var De=G[I.fontStack],Qe=De&&De[D];return Qe?Qe.metrics.advance*I.scale+ve:0}}function X8(D,I,G,ae,ve,Se){for(var De=0,Qe=0;Qe<D.length();Qe++){var gt=D.getSection(Qe);De+=Ub(D.getCharCode(Qe),gt,ae,ve,I,Se)}var Et=Math.max(1,Math.ceil(De/G));return De/Et}function Vb(D,I,G,ae){var ve=Math.pow(D-I,2);return ae?D<I?ve/2:ve*2:ve+Math.abs(G)*G}function Z8(D,I,G){var ae=0;return D===10&&(ae-=1e4),G&&(ae+=150),(D===40||D===65288)&&(ae+=50),(I===41||I===65289)&&(ae+=50),ae}function Hb(D,I,G,ae,ve,Se){for(var De=null,Qe=Vb(I,G,ve,Se),gt=0,Et=ae;gt<Et.length;gt+=1){var Rt=Et[gt],Wt=I-Rt.x,ar=Vb(Wt,G,ve,Se)+Rt.badness;ar<=Qe&&(De=Rt,Qe=ar)}return{index:D,x:I,priorBreak:De,badness:Qe}}function jb(D){return D?jb(D.priorBreak).concat(D.index):[]}function dm(D,I,G,ae,ve,Se,De){if(Se!=="point")return[];if(!D)return[];for(var Qe=[],gt=X8(D,I,G,ae,ve,De),Et=D.text.indexOf("​")>=0,Rt=0,Wt=0;Wt<D.length();Wt++){var ar=D.getSection(Wt),er=D.getCharCode(Wt);if(bf[er]||(Rt+=Ub(er,ar,ae,ve,I,De)),Wt<D.length()-1){var xr=$r(er);(js[er]||xr||ar.imageName)&&Qe.push(Hb(Wt+1,Rt,gt,Qe,Z8(er,D.getCharCode(Wt+1),xr&&Et),!1))}}return jb(Hb(D.length(),Rt,gt,Qe,0,!0))}function pm(D){var I=.5,G=.5;switch(D){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":G=1;break;case"top":case"top-right":case"top-left":G=0;break}return{horizontalAlign:I,verticalAlign:G}}function K8(D,I,G,ae,ve,Se,De,Qe,gt,Et,Rt,Wt){for(var ar=0,er=Wd,xr=0,Or=0,un=Qe==="right"?1:Qe==="left"?0:.5,tn=0,En=0,xn=ve;En<xn.length;En+=1){var Mn=xn[En];Mn.trim();var On=Mn.getMaxScale(),Wn=(On-1)*Bo,ra={positionedGlyphs:[],lineOffset:0};D.positionedLines[tn]=ra;var qn=ra.positionedGlyphs,Ta=0;if(!Mn.length()){er+=Se,++tn;continue}for(var da=0;da<Mn.length();da++){var wa=Mn.getSection(da),Ua=Mn.getSectionIndex(da),Aa=Mn.getCharCode(da),Ca=0,Ga=null,Na=null,oi=null,xi=Bo,si=!(gt===ol.horizontal||!Rt&&!sn(Aa)||Rt&&(bf[Aa]||Kr(Aa)));if(wa.imageName){var Vi=ae[wa.imageName];if(!Vi)continue;oi=wa.imageName,D.iconsInText=D.iconsInText||!0,Na=Vi.paddedRect;var Zi=Vi.displaySize;wa.scale=wa.scale*Bo/Wt,Ga={width:Zi[0],height:Zi[1],left:Hs,top:-Ob,advance:si?Zi[1]:Zi[0]};var Po=Bo-Zi[1]*wa.scale;Ca=Wn+Po,xi=Ga.advance;var vo=si?Zi[0]*wa.scale-Bo*On:Zi[1]*wa.scale-Bo*On;vo>0&&vo>Ta&&(Ta=vo)}else{var li=G[wa.fontStack],ti=li&&li[Aa];if(ti&&ti.rect)Na=ti.rect,Ga=ti.metrics;else{var Si=I[wa.fontStack],Ei=Si&&Si[Aa];if(!Ei)continue;Ga=Ei.metrics}Ca=(On-wa.scale)*Bo}si?(D.verticalizable=!0,qn.push({glyph:Aa,imageName:oi,x:ar,y:er+Ca,vertical:si,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Ua,metrics:Ga,rect:Na}),ar+=xi*wa.scale+Et):(qn.push({glyph:Aa,imageName:oi,x:ar,y:er+Ca,vertical:si,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Ua,metrics:Ga,rect:Na}),ar+=Ga.advance*wa.scale+Et)}if(qn.length!==0){var Jo=ar-Et;xr=Math.max(Jo,xr),J8(qn,0,qn.length-1,un,Ta)}ar=0;var $o=Se*On+Ta;ra.lineOffset=Math.max(Ta,Wn),er+=$o,Or=Math.max($o,Or),++tn}var Ro=er-Wd,hs=pm(De),vs=hs.horizontalAlign,To=hs.verticalAlign;$8(D.positionedLines,un,vs,To,xr,Or,Se,Ro,ve.length),D.top+=-To*Ro,D.bottom=D.top+Ro,D.left+=-vs*xr,D.right=D.left+xr}function J8(D,I,G,ae,ve){if(!(!ae&&!ve))for(var Se=D[G],De=Se.metrics.advance*Se.scale,Qe=(D[G].x+De)*ae,gt=I;gt<=G;gt++)D[gt].x-=Qe,D[gt].y+=ve}function $8(D,I,G,ae,ve,Se,De,Qe,gt){var Et=(I-G)*ve,Rt=0;Se!==De?Rt=-Qe*ae-Wd:Rt=(-ae*gt+.5)*De;for(var Wt=0,ar=D;Wt<ar.length;Wt+=1)for(var er=ar[Wt],xr=0,Or=er.positionedGlyphs;xr<Or.length;xr+=1){var un=Or[xr];un.x+=Et,un.y+=Rt}}function Q8(D,I,G){var ae=pm(G),ve=ae.horizontalAlign,Se=ae.verticalAlign,De=I[0],Qe=I[1],gt=De-D.displaySize[0]*ve,Et=gt+D.displaySize[0],Rt=Qe-D.displaySize[1]*Se,Wt=Rt+D.displaySize[1];return{image:D,top:Rt,bottom:Wt,left:gt,right:Et}}function Gb(D,I,G,ae,ve,Se){var De=D.image,Qe;if(De.content){var gt=De.content,Et=De.pixelRatio||1;Qe=[gt[0]/Et,gt[1]/Et,De.displaySize[0]-gt[2]/Et,De.displaySize[1]-gt[3]/Et]}var Rt=I.left*Se,Wt=I.right*Se,ar,er,xr,Or;G==="width"||G==="both"?(Or=ve[0]+Rt-ae[3],er=ve[0]+Wt+ae[1]):(Or=ve[0]+(Rt+Wt-De.displaySize[0])/2,er=Or+De.displaySize[0]);var un=I.top*Se,tn=I.bottom*Se;return G==="height"||G==="both"?(ar=ve[1]+un-ae[0],xr=ve[1]+tn+ae[2]):(ar=ve[1]+(un+tn-De.displaySize[1])/2,xr=ar+De.displaySize[1]),{image:De,top:ar,right:er,bottom:xr,left:Or,collisionPadding:Qe}}var Fv=function(D){function I(G,ae,ve,Se){D.call(this,G,ae),this.angle=ve,Se!==void 0&&(this.segment=Se)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(r);ze("Anchor",Fv);var ju=128;function gm(D,I){var G=I.expression;if(G.kind==="constant"){var ae=G.evaluate(new Sa(D+1));return{kind:"constant",layoutSize:ae}}else{if(G.kind==="source")return{kind:"source"};for(var ve=G.zoomStops,Se=G.interpolationType,De=0;De<ve.length&&ve[De]<=D;)De++;De=Math.max(0,De-1);for(var Qe=De;Qe<ve.length&&ve[Qe]<D+1;)Qe++;Qe=Math.min(ve.length-1,Qe);var gt=ve[De],Et=ve[Qe];if(G.kind==="composite")return{kind:"composite",minZoom:gt,maxZoom:Et,interpolationType:Se};var Rt=G.evaluate(new Sa(gt)),Wt=G.evaluate(new Sa(Et));return{kind:"camera",minZoom:gt,maxZoom:Et,minSize:Rt,maxSize:Wt,interpolationType:Se}}}function Wb(D,I,G){var ae=I.uSize,ve=I.uSizeT,Se=G.lowerSize,De=G.upperSize;return D.kind==="source"?Se/ju:D.kind==="composite"?Pi(Se/ju,De/ju,ve):ae}function Yb(D,I){var G=0,ae=0;if(D.kind==="constant")ae=D.layoutSize;else if(D.kind!=="source"){var ve=D.interpolationType,Se=D.minZoom,De=D.maxZoom,Qe=ve?h(ki.interpolationFactor(ve,I,Se,De),0,1):0;D.kind==="camera"?ae=Pi(D.minSize,D.maxSize,Qe):G=Qe}return{uSizeT:G,uSize:ae}}var q8=Object.freeze({__proto__:null,getSizeData:gm,evaluateSizeForFeature:Wb,evaluateSizeForZoom:Yb,SIZE_PACK_FACTOR:ju});function Xb(D,I,G,ae,ve){if(I.segment===void 0)return!0;for(var Se=I,De=I.segment+1,Qe=0;Qe>-G/2;){if(De--,De<0)return!1;Qe-=D[De].dist(Se),Se=D[De]}Qe+=D[De].dist(D[De+1]),De++;for(var gt=[],Et=0;Qe<G/2;){var Rt=D[De-1],Wt=D[De],ar=D[De+1];if(!ar)return!1;var er=Rt.angleTo(Wt)-Wt.angleTo(ar);for(er=Math.abs((er+3*Math.PI)%(Math.PI*2)-Math.PI),gt.push({distance:Qe,angleDelta:er}),Et+=er;Qe-gt[0].distance>ae;)Et-=gt.shift().angleDelta;if(Et>ve)return!1;De++,Qe+=Wt.dist(ar)}return!0}function Zb(D){for(var I=0,G=0;G<D.length-1;G++)I+=D[G].dist(D[G+1]);return I}function Kb(D,I,G){return D?.6*I*G:0}function Jb(D,I){return Math.max(D?D.right-D.left:0,I?I.right-I.left:0)}function eE(D,I,G,ae,ve,Se){for(var De=Kb(G,ve,Se),Qe=Jb(G,ae)*Se,gt=0,Et=Zb(D)/2,Rt=0;Rt<D.length-1;Rt++){var Wt=D[Rt],ar=D[Rt+1],er=Wt.dist(ar);if(gt+er>Et){var xr=(Et-gt)/er,Or=Pi(Wt.x,ar.x,xr),un=Pi(Wt.y,ar.y,xr),tn=new Fv(Or,un,ar.angleTo(Wt),Rt);return tn._round(),!De||Xb(D,tn,Qe,De,I)?tn:void 0}gt+=er}}function tE(D,I,G,ae,ve,Se,De,Qe,gt){var Et=Kb(ae,Se,De),Rt=Jb(ae,ve),Wt=Rt*De,ar=D[0].x===0||D[0].x===gt||D[0].y===0||D[0].y===gt;I-Wt<I/4&&(I=Wt+I/4);var er=Se*2,xr=ar?I/2*Qe%I:(Rt/2+er)*De*Qe%I;return $b(D,xr,I,Et,G,Wt,ar,!1,gt)}function $b(D,I,G,ae,ve,Se,De,Qe,gt){for(var Et=Se/2,Rt=Zb(D),Wt=0,ar=I-G,er=[],xr=0;xr<D.length-1;xr++){for(var Or=D[xr],un=D[xr+1],tn=Or.dist(un),En=un.angleTo(Or);ar+G<Wt+tn;){ar+=G;var xn=(ar-Wt)/tn,Mn=Pi(Or.x,un.x,xn),On=Pi(Or.y,un.y,xn);if(Mn>=0&&Mn<gt&&On>=0&&On<gt&&ar-Et>=0&&ar+Et<=Rt){var Wn=new Fv(Mn,On,En,xr);Wn._round(),(!ae||Xb(D,Wn,Se,ae,ve))&&er.push(Wn)}}Wt+=tn}return!Qe&&!er.length&&!De&&(er=$b(D,Wt/2,G,ae,ve,Se,De,!0,gt)),er}function Qb(D,I,G,ae,ve){for(var Se=[],De=0;De<D.length;De++)for(var Qe=D[De],gt=void 0,Et=0;Et<Qe.length-1;Et++){var Rt=Qe[Et],Wt=Qe[Et+1];Rt.x<I&&Wt.x<I||(Rt.x<I?Rt=new r(I,Rt.y+(Wt.y-Rt.y)*((I-Rt.x)/(Wt.x-Rt.x)))._round():Wt.x<I&&(Wt=new r(I,Rt.y+(Wt.y-Rt.y)*((I-Rt.x)/(Wt.x-Rt.x)))._round()),!(Rt.y<G&&Wt.y<G)&&(Rt.y<G?Rt=new r(Rt.x+(Wt.x-Rt.x)*((G-Rt.y)/(Wt.y-Rt.y)),G)._round():Wt.y<G&&(Wt=new r(Rt.x+(Wt.x-Rt.x)*((G-Rt.y)/(Wt.y-Rt.y)),G)._round()),!(Rt.x>=ae&&Wt.x>=ae)&&(Rt.x>=ae?Rt=new r(ae,Rt.y+(Wt.y-Rt.y)*((ae-Rt.x)/(Wt.x-Rt.x)))._round():Wt.x>=ae&&(Wt=new r(ae,Rt.y+(Wt.y-Rt.y)*((ae-Rt.x)/(Wt.x-Rt.x)))._round()),!(Rt.y>=ve&&Wt.y>=ve)&&(Rt.y>=ve?Rt=new r(Rt.x+(Wt.x-Rt.x)*((ve-Rt.y)/(Wt.y-Rt.y)),ve)._round():Wt.y>=ve&&(Wt=new r(Rt.x+(Wt.x-Rt.x)*((ve-Rt.y)/(Wt.y-Rt.y)),ve)._round()),(!gt||!Rt.equals(gt[gt.length-1]))&&(gt=[Rt],Se.push(gt)),gt.push(Wt)))))}return Se}var Ov=Hs;function qb(D,I,G,ae){var ve=[],Se=D.image,De=Se.pixelRatio,Qe=Se.paddedRect.w-2*Ov,gt=Se.paddedRect.h-2*Ov,Et=D.right-D.left,Rt=D.bottom-D.top,Wt=Se.stretchX||[[0,Qe]],ar=Se.stretchY||[[0,gt]],er=function(li,ti){return li+ti[1]-ti[0]},xr=Wt.reduce(er,0),Or=ar.reduce(er,0),un=Qe-xr,tn=gt-Or,En=0,xn=xr,Mn=0,On=Or,Wn=0,ra=un,qn=0,Ta=tn;if(Se.content&&ae){var da=Se.content;En=bp(Wt,0,da[0]),Mn=bp(ar,0,da[1]),xn=bp(Wt,da[0],da[2]),On=bp(ar,da[1],da[3]),Wn=da[0]-En,qn=da[1]-Mn,ra=da[2]-da[0]-xn,Ta=da[3]-da[1]-On}var wa=function(li,ti,Si,Ei){var Vi=wp(li.stretch-En,xn,Et,D.left),Zi=Tp(li.fixed-Wn,ra,li.stretch,xr),Po=wp(ti.stretch-Mn,On,Rt,D.top),vo=Tp(ti.fixed-qn,Ta,ti.stretch,Or),Jo=wp(Si.stretch-En,xn,Et,D.left),$o=Tp(Si.fixed-Wn,ra,Si.stretch,xr),Ro=wp(Ei.stretch-Mn,On,Rt,D.top),hs=Tp(Ei.fixed-qn,Ta,Ei.stretch,Or),vs=new r(Vi,Po),To=new r(Jo,Po),ds=new r(Jo,Ro),sl=new r(Vi,Ro),qf=new r(Zi/De,vo/De),Kc=new r($o/De,hs/De),Jc=I*Math.PI/180;if(Jc){var $c=Math.sin(Jc),Gv=Math.cos(Jc),ou=[Gv,-$c,$c,Gv];vs._matMult(ou),To._matMult(ou),sl._matMult(ou),ds._matMult(ou)}var Lp=li.stretch+li.fixed,Sm=Si.stretch+Si.fixed,Pp=ti.stretch+ti.fixed,Mm=Ei.stretch+Ei.fixed,Ll={x:Se.paddedRect.x+Ov+Lp,y:Se.paddedRect.y+Ov+Pp,w:Sm-Lp,h:Mm-Pp},Wv=ra/De/Et,Rp=Ta/De/Rt;return{tl:vs,tr:To,bl:sl,br:ds,tex:Ll,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:qf,pixelOffsetBR:Kc,minFontScaleX:Wv,minFontScaleY:Rp,isSDF:G}};if(!ae||!Se.stretchX&&!Se.stretchY)ve.push(wa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Qe+1},{fixed:0,stretch:gt+1}));else for(var Ua=e3(Wt,un,xr),Aa=e3(ar,tn,Or),Ca=0;Ca<Ua.length-1;Ca++)for(var Ga=Ua[Ca],Na=Ua[Ca+1],oi=0;oi<Aa.length-1;oi++){var xi=Aa[oi],si=Aa[oi+1];ve.push(wa(Ga,xi,Na,si))}return ve}function bp(D,I,G){for(var ae=0,ve=0,Se=D;ve<Se.length;ve+=1){var De=Se[ve];ae+=Math.max(I,Math.min(G,De[1]))-Math.max(I,Math.min(G,De[0]))}return ae}function e3(D,I,G){for(var ae=[{fixed:-Ov,stretch:0}],ve=0,Se=D;ve<Se.length;ve+=1){var De=Se[ve],Qe=De[0],gt=De[1],Et=ae[ae.length-1];ae.push({fixed:Qe-Et.stretch,stretch:Et.stretch}),ae.push({fixed:Qe-Et.stretch,stretch:Et.stretch+(gt-Qe)})}return ae.push({fixed:I+Ov,stretch:G}),ae}function wp(D,I,G,ae){return D/I*G+ae}function Tp(D,I,G,ae){return D-I*G/ae}function rE(D,I,G,ae,ve,Se,De,Qe){for(var gt=ae.layout.get("text-rotate").evaluate(Se,{})*Math.PI/180,Et=[],Rt=0,Wt=I.positionedLines;Rt<Wt.length;Rt+=1)for(var ar=Wt[Rt],er=0,xr=ar.positionedGlyphs;er<xr.length;er+=1){var Or=xr[er];if(Or.rect){var un=Or.rect||{},tn=1,En=Ob+tn,xn=!0,Mn=1,On=0,Wn=(ve||Qe)&&Or.vertical,ra=Or.metrics.advance*Or.scale/2;if(Qe&&I.verticalizable){var qn=(Or.scale-1)*Bo,Ta=(Bo-Or.metrics.width*Or.scale)/2;On=ar.lineOffset/2-(Or.imageName?-Ta:qn)}if(Or.imageName){var da=De[Or.imageName];xn=da.sdf,Mn=da.pixelRatio,En=Hs/Mn}var wa=ve?[Or.x+ra,Or.y]:[0,0],Ua=ve?[0,0]:[Or.x+ra+G[0],Or.y+G[1]-On],Aa=[0,0];Wn&&(Aa=Ua,Ua=[0,0]);var Ca=(Or.metrics.left-En)*Or.scale-ra+Ua[0],Ga=(-Or.metrics.top-En)*Or.scale+Ua[1],Na=Ca+un.w*Or.scale/Mn,oi=Ga+un.h*Or.scale/Mn,xi=new r(Ca,Ga),si=new r(Na,Ga),li=new r(Ca,oi),ti=new r(Na,oi);if(Wn){var Si=new r(-ra,ra-Wd),Ei=-Math.PI/2,Vi=Bo/2-ra,Zi=Or.imageName?Vi:0,Po=new r(5-Wd-Vi,-Zi),vo=new(Function.prototype.bind.apply(r,[null].concat(Aa)));xi._rotateAround(Ei,Si)._add(Po)._add(vo),si._rotateAround(Ei,Si)._add(Po)._add(vo),li._rotateAround(Ei,Si)._add(Po)._add(vo),ti._rotateAround(Ei,Si)._add(Po)._add(vo)}if(gt){var Jo=Math.sin(gt),$o=Math.cos(gt),Ro=[$o,-Jo,Jo,$o];xi._matMult(Ro),si._matMult(Ro),li._matMult(Ro),ti._matMult(Ro)}var hs=new r(0,0),vs=new r(0,0),To=0,ds=0;Et.push({tl:xi,tr:si,bl:li,br:ti,tex:un,writingMode:I.writingMode,glyphOffset:wa,sectionIndex:Or.sectionIndex,isSDF:xn,pixelOffsetTL:hs,pixelOffsetBR:vs,minFontScaleX:To,minFontScaleY:ds})}}return Et}var Ap=function(I,G,ae,ve,Se,De,Qe,gt,Et,Rt){if(this.boxStartIndex=I.length,Et){var Wt=De.top,ar=De.bottom,er=De.collisionPadding;er&&(Wt-=er[1],ar+=er[3]);var xr=ar-Wt;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var Or=De.top*Qe-gt,un=De.bottom*Qe+gt,tn=De.left*Qe-gt,En=De.right*Qe+gt,xn=De.collisionPadding;if(xn&&(tn-=xn[0]*Qe,Or-=xn[1]*Qe,En+=xn[2]*Qe,un+=xn[3]*Qe),Rt){var Mn=new r(tn,Or),On=new r(En,Or),Wn=new r(tn,un),ra=new r(En,un),qn=Rt*Math.PI/180;Mn._rotate(qn),On._rotate(qn),Wn._rotate(qn),ra._rotate(qn),tn=Math.min(Mn.x,On.x,Wn.x,ra.x),En=Math.max(Mn.x,On.x,Wn.x,ra.x),Or=Math.min(Mn.y,On.y,Wn.y,ra.y),un=Math.max(Mn.y,On.y,Wn.y,ra.y)}I.emplaceBack(G.x,G.y,tn,Or,En,un,ae,ve,Se)}this.boxEndIndex=I.length},zv=function(I,G){if(I===void 0&&(I=[]),G===void 0&&(G=nE),this.data=I,this.length=this.data.length,this.compare=G,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};zv.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},zv.prototype.pop=function(){if(this.length!==0){var I=this.data[0],G=this.data.pop();return this.length--,this.length>0&&(this.data[0]=G,this._down(0)),I}},zv.prototype.peek=function(){return this.data[0]},zv.prototype._up=function(I){for(var G=this,ae=G.data,ve=G.compare,Se=ae[I];I>0;){var De=I-1>>1,Qe=ae[De];if(ve(Se,Qe)>=0)break;ae[I]=Qe,I=De}ae[I]=Se},zv.prototype._down=function(I){for(var G=this,ae=G.data,ve=G.compare,Se=this.length>>1,De=ae[I];I<Se;){var Qe=(I<<1)+1,gt=ae[Qe],Et=Qe+1;if(Et<this.length&&ve(ae[Et],gt)<0&&(Qe=Et,gt=ae[Et]),ve(gt,De)>=0)break;ae[I]=gt,I=Qe}ae[I]=De};function nE(D,I){return D<I?-1:D>I?1:0}function aE(D,I,G){I===void 0&&(I=1),G===void 0&&(G=!1);for(var ae=1/0,ve=1/0,Se=-1/0,De=-1/0,Qe=D[0],gt=0;gt<Qe.length;gt++){var Et=Qe[gt];(!gt||Et.x<ae)&&(ae=Et.x),(!gt||Et.y<ve)&&(ve=Et.y),(!gt||Et.x>Se)&&(Se=Et.x),(!gt||Et.y>De)&&(De=Et.y)}var Rt=Se-ae,Wt=De-ve,ar=Math.min(Rt,Wt),er=ar/2,xr=new zv([],iE);if(ar===0)return new r(ae,ve);for(var Or=ae;Or<Se;Or+=ar)for(var un=ve;un<De;un+=ar)xr.push(new Nv(Or+er,un+er,er,D));for(var tn=sE(D),En=xr.length;xr.length;){var xn=xr.pop();(xn.d>tn.d||!tn.d)&&(tn=xn,G&&console.log("found best %d after %d probes",Math.round(1e4*xn.d)/1e4,En)),!(xn.max-tn.d<=I)&&(er=xn.h/2,xr.push(new Nv(xn.p.x-er,xn.p.y-er,er,D)),xr.push(new Nv(xn.p.x+er,xn.p.y-er,er,D)),xr.push(new Nv(xn.p.x-er,xn.p.y+er,er,D)),xr.push(new Nv(xn.p.x+er,xn.p.y+er,er,D)),En+=4)}return G&&(console.log("num probes: "+En),console.log("best distance: "+tn.d)),tn.p}function iE(D,I){return I.max-D.max}function Nv(D,I,G,ae){this.p=new r(D,I),this.h=G,this.d=oE(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function oE(D,I){for(var G=!1,ae=1/0,ve=0;ve<I.length;ve++)for(var Se=I[ve],De=0,Qe=Se.length,gt=Qe-1;De<Qe;gt=De++){var Et=Se[De],Rt=Se[gt];Et.y>D.y!=Rt.y>D.y&&D.x<(Rt.x-Et.x)*(D.y-Et.y)/(Rt.y-Et.y)+Et.x&&(G=!G),ae=Math.min(ae,Kf(D,Et,Rt))}return(G?1:-1)*Math.sqrt(ae)}function sE(D){for(var I=0,G=0,ae=0,ve=D[0],Se=0,De=ve.length,Qe=De-1;Se<De;Qe=Se++){var gt=ve[Se],Et=ve[Qe],Rt=gt.x*Et.y-Et.x*gt.y;G+=(gt.x+Et.x)*Rt,ae+=(gt.y+Et.y)*Rt,I+=Rt*3}return new Nv(G/I,ae/I,0,D)}var Bv=7,ym=Number.POSITIVE_INFINITY;function t3(D,I){function G(ve,Se){var De=0,Qe=0;Se<0&&(Se=0);var gt=Se/Math.sqrt(2);switch(ve){case"top-right":case"top-left":Qe=gt-Bv;break;case"bottom-right":case"bottom-left":Qe=-gt+Bv;break;case"bottom":Qe=-Se+Bv;break;case"top":Qe=Se-Bv;break}switch(ve){case"top-right":case"bottom-right":De=-gt;break;case"top-left":case"bottom-left":De=gt;break;case"left":De=Se;break;case"right":De=-Se;break}return[De,Qe]}function ae(ve,Se,De){var Qe=0,gt=0;switch(Se=Math.abs(Se),De=Math.abs(De),ve){case"top-right":case"top-left":case"top":gt=De-Bv;break;case"bottom-right":case"bottom-left":case"bottom":gt=-De+Bv;break}switch(ve){case"top-right":case"bottom-right":case"right":Qe=-Se;break;case"top-left":case"bottom-left":case"left":Qe=Se;break}return[Qe,gt]}return I[1]!==ym?ae(D,I[0],I[1]):G(D,I[0])}function lE(D,I,G,ae,ve,Se,De){D.createArrays();var Qe=512*D.overscaling;D.tilePixelRatio=Ma/Qe,D.compareText={},D.iconsNeedLinear=!1;var gt=D.layers[0].layout,Et=D.layers[0]._unevaluatedLayout._values,Rt={};if(D.textSizeData.kind==="composite"){var Wt=D.textSizeData,ar=Wt.minZoom,er=Wt.maxZoom;Rt.compositeTextSizes=[Et["text-size"].possiblyEvaluate(new Sa(ar),De),Et["text-size"].possiblyEvaluate(new Sa(er),De)]}if(D.iconSizeData.kind==="composite"){var xr=D.iconSizeData,Or=xr.minZoom,un=xr.maxZoom;Rt.compositeIconSizes=[Et["icon-size"].possiblyEvaluate(new Sa(Or),De),Et["icon-size"].possiblyEvaluate(new Sa(un),De)]}Rt.layoutTextSize=Et["text-size"].possiblyEvaluate(new Sa(D.zoom+1),De),Rt.layoutIconSize=Et["icon-size"].possiblyEvaluate(new Sa(D.zoom+1),De),Rt.textMaxSize=Et["text-size"].possiblyEvaluate(new Sa(18));for(var tn=gt.get("text-line-height")*Bo,En=gt.get("text-rotation-alignment")==="map"&&gt.get("symbol-placement")!=="point",xn=gt.get("text-keep-upright"),Mn=gt.get("text-size"),On=function(){var qn=ra[Wn],Ta=gt.get("text-font").evaluate(qn,{},De).join(","),da=Mn.evaluate(qn,{},De),wa=Rt.layoutTextSize.evaluate(qn,{},De),Ua=Rt.layoutIconSize.evaluate(qn,{},De),Aa={horizontal:{},vertical:void 0},Ca=qn.text,Ga=[0,0];if(Ca){var Na=Ca.toString(),oi=gt.get("text-letter-spacing").evaluate(qn,{},De)*Bo,xi=Lr(Na)?oi:0,si=gt.get("text-anchor").evaluate(qn,{},De),li=gt.get("text-variable-anchor");if(!li){var ti=gt.get("text-radial-offset").evaluate(qn,{},De);ti?Ga=t3(si,[ti*Bo,ym]):Ga=gt.get("text-offset").evaluate(qn,{},De).map(function(qf){return qf*Bo})}var Si=En?"center":gt.get("text-justify").evaluate(qn,{},De),Ei=gt.get("symbol-placement"),Vi=Ei==="point"?gt.get("text-max-width").evaluate(qn,{},De)*Bo:0,Zi=function(){D.allowVerticalPlacement&&rr(Na)&&(Aa.vertical=xp(Ca,I,G,ve,Ta,Vi,tn,si,"left",xi,Ga,ol.vertical,!0,Ei,wa,da))};if(!En&&li){for(var Po=Si==="auto"?li.map(function(qf){return mm(qf)}):[Si],vo=!1,Jo=0;Jo<Po.length;Jo++){var $o=Po[Jo];if(!Aa.horizontal[$o])if(vo)Aa.horizontal[$o]=Aa.horizontal[0];else{var Ro=xp(Ca,I,G,ve,Ta,Vi,tn,"center",$o,xi,Ga,ol.horizontal,!1,Ei,wa,da);Ro&&(Aa.horizontal[$o]=Ro,vo=Ro.positionedLines.length===1)}}Zi()}else{Si==="auto"&&(Si=mm(si));var hs=xp(Ca,I,G,ve,Ta,Vi,tn,si,Si,xi,Ga,ol.horizontal,!1,Ei,wa,da);hs&&(Aa.horizontal[Si]=hs),Zi(),rr(Na)&&En&&xn&&(Aa.vertical=xp(Ca,I,G,ve,Ta,Vi,tn,si,Si,xi,Ga,ol.vertical,!1,Ei,wa,da))}}var vs=void 0,To=!1;if(qn.icon&&qn.icon.name){var ds=ae[qn.icon.name];ds&&(vs=Q8(ve[qn.icon.name],gt.get("icon-offset").evaluate(qn,{},De),gt.get("icon-anchor").evaluate(qn,{},De)),To=ds.sdf,D.sdfIcons===void 0?D.sdfIcons=ds.sdf:D.sdfIcons!==ds.sdf&&N("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ds.pixelRatio!==D.pixelRatio||gt.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var sl=n3(Aa.horizontal)||Aa.vertical;D.iconsInText=sl?sl.iconsInText:!1,(sl||vs)&&uE(D,qn,Aa,vs,ae,Rt,wa,Ua,Ga,To,De)},Wn=0,ra=D.features;Wn<ra.length;Wn+=1)On();Se&&D.generateCollisionDebugBuffers()}function mm(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function uE(D,I,G,ae,ve,Se,De,Qe,gt,Et,Rt){var Wt=Se.textMaxSize.evaluate(I,{});Wt===void 0&&(Wt=De);var ar=D.layers[0].layout,er=ar.get("icon-offset").evaluate(I,{},Rt),xr=n3(G.horizontal),Or=24,un=De/Or,tn=D.tilePixelRatio*un,En=D.tilePixelRatio*Wt/Or,xn=D.tilePixelRatio*Qe,Mn=D.tilePixelRatio*ar.get("symbol-spacing"),On=ar.get("text-padding")*D.tilePixelRatio,Wn=ar.get("icon-padding")*D.tilePixelRatio,ra=ar.get("text-max-angle")/180*Math.PI,qn=ar.get("text-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",Ta=ar.get("icon-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",da=ar.get("symbol-placement"),wa=Mn/2,Ua=ar.get("icon-text-fit"),Aa;ae&&Ua!=="none"&&(D.allowVerticalPlacement&&G.vertical&&(Aa=Gb(ae,G.vertical,Ua,ar.get("icon-text-fit-padding"),er,un)),xr&&(ae=Gb(ae,xr,Ua,ar.get("icon-text-fit-padding"),er,un)));var Ca=function(Gv,ou){ou.x<0||ou.x>=Ma||ou.y<0||ou.y>=Ma||fE(D,ou,Gv,G,ae,ve,Aa,D.layers[0],D.collisionBoxArray,I.index,I.sourceLayerIndex,D.index,tn,On,qn,gt,xn,Wn,Ta,er,I,Se,Et,Rt,De)};if(da==="line")for(var Ga=0,Na=Qb(I.geometry,0,0,Ma,Ma);Ga<Na.length;Ga+=1)for(var oi=Na[Ga],xi=tE(oi,Mn,ra,G.vertical||xr,ae,Or,En,D.overscaling,Ma),si=0,li=xi;si<li.length;si+=1){var ti=li[si],Si=xr;(!Si||!cE(D,Si.text,wa,ti))&&Ca(oi,ti)}else if(da==="line-center")for(var Ei=0,Vi=I.geometry;Ei<Vi.length;Ei+=1){var Zi=Vi[Ei];if(Zi.length>1){var Po=eE(Zi,ra,G.vertical||xr,ae,Or,En);Po&&Ca(Zi,Po)}}else if(I.type==="Polygon")for(var vo=0,Jo=lm(I.geometry,0);vo<Jo.length;vo+=1){var $o=Jo[vo],Ro=aE($o,16);Ca($o[0],new Fv(Ro.x,Ro.y,0))}else if(I.type==="LineString")for(var hs=0,vs=I.geometry;hs<vs.length;hs+=1){var To=vs[hs];Ca(To,new Fv(To[0].x,To[0].y,0))}else if(I.type==="Point")for(var ds=0,sl=I.geometry;ds<sl.length;ds+=1)for(var qf=sl[ds],Kc=0,Jc=qf;Kc<Jc.length;Kc+=1){var $c=Jc[Kc];Ca([$c],new Fv($c.x,$c.y,0))}}var Yd=255,Xc=Yd*ju;function r3(D,I,G,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr){var Or=rE(I,G,Qe,ve,Se,De,ae,D.allowVerticalPlacement),un=D.textSizeData,tn=null;un.kind==="source"?(tn=[ju*ve.layout.get("text-size").evaluate(De,{})],tn[0]>Xc&&N(D.layerIds[0]+': Value for "text-size" is >= '+Yd+'. Reduce your "text-size".')):un.kind==="composite"&&(tn=[ju*er.compositeTextSizes[0].evaluate(De,{},xr),ju*er.compositeTextSizes[1].evaluate(De,{},xr)],(tn[0]>Xc||tn[1]>Xc)&&N(D.layerIds[0]+': Value for "text-size" is >= '+Yd+'. Reduce your "text-size".')),D.addSymbols(D.text,Or,tn,Qe,Se,De,Et,I,gt.lineStartIndex,gt.lineLength,ar,xr);for(var En=0,xn=Rt;En<xn.length;En+=1){var Mn=xn[En];Wt[Mn]=D.text.placedSymbolArray.length-1}return Or.length*4}function n3(D){for(var I in D)return D[I];return null}function fE(D,I,G,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar,er,xr,Or,un,tn,En,xn,Mn,On,Wn,ra,qn){var Ta,da=D.addToLineVertexArray(I,G),wa,Ua,Aa,Ca,Ga=0,Na=0,oi=0,xi=0,si=-1,li=-1,ti={},Si=ge(""),Ei=0,Vi=0;if(Qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ta=Qe.layout.get("text-offset").evaluate(Mn,{},ra).map(function(Kd){return Kd*Bo}),Ei=Ta[0],Vi=Ta[1]):(Ei=Qe.layout.get("text-radial-offset").evaluate(Mn,{},ra)*Bo,Vi=ym),D.allowVerticalPlacement&&ae.vertical){var Zi=Qe.layout.get("text-rotate").evaluate(Mn,{},ra),Po=Zi+90,vo=ae.vertical;Aa=new Ap(gt,I,Et,Rt,Wt,vo,ar,er,xr,Po),De&&(Ca=new Ap(gt,I,Et,Rt,Wt,De,un,tn,xr,Po))}if(ve){var Jo=Qe.layout.get("icon-rotate").evaluate(Mn,{}),$o=Qe.layout.get("icon-text-fit")!=="none",Ro=qb(ve,Jo,Wn,$o),hs=De?qb(De,Jo,Wn,$o):void 0;Ua=new Ap(gt,I,Et,Rt,Wt,ve,un,tn,!1,Jo),Ga=Ro.length*4;var vs=D.iconSizeData,To=null;vs.kind==="source"?(To=[ju*Qe.layout.get("icon-size").evaluate(Mn,{})],To[0]>Xc&&N(D.layerIds[0]+': Value for "icon-size" is >= '+Yd+'. Reduce your "icon-size".')):vs.kind==="composite"&&(To=[ju*On.compositeIconSizes[0].evaluate(Mn,{},ra),ju*On.compositeIconSizes[1].evaluate(Mn,{},ra)],(To[0]>Xc||To[1]>Xc)&&N(D.layerIds[0]+': Value for "icon-size" is >= '+Yd+'. Reduce your "icon-size".')),D.addSymbols(D.icon,Ro,To,xn,En,Mn,!1,I,da.lineStartIndex,da.lineLength,-1,ra),si=D.icon.placedSymbolArray.length-1,hs&&(Na=hs.length*4,D.addSymbols(D.icon,hs,To,xn,En,Mn,ol.vertical,I,da.lineStartIndex,da.lineLength,-1,ra),li=D.icon.placedSymbolArray.length-1)}for(var ds in ae.horizontal){var sl=ae.horizontal[ds];if(!wa){Si=ge(sl.text);var qf=Qe.layout.get("text-rotate").evaluate(Mn,{},ra);wa=new Ap(gt,I,Et,Rt,Wt,sl,ar,er,xr,qf)}var Kc=sl.positionedLines.length===1;if(oi+=r3(D,I,sl,Se,Qe,xr,Mn,Or,da,ae.vertical?ol.horizontal:ol.horizontalOnly,Kc?Object.keys(ae.horizontal):[ds],ti,si,On,ra),Kc)break}ae.vertical&&(xi+=r3(D,I,ae.vertical,Se,Qe,xr,Mn,Or,da,ol.vertical,["vertical"],ti,li,On,ra));var Jc=wa?wa.boxStartIndex:D.collisionBoxArray.length,$c=wa?wa.boxEndIndex:D.collisionBoxArray.length,Gv=Aa?Aa.boxStartIndex:D.collisionBoxArray.length,ou=Aa?Aa.boxEndIndex:D.collisionBoxArray.length,Lp=Ua?Ua.boxStartIndex:D.collisionBoxArray.length,Sm=Ua?Ua.boxEndIndex:D.collisionBoxArray.length,Pp=Ca?Ca.boxStartIndex:D.collisionBoxArray.length,Mm=Ca?Ca.boxEndIndex:D.collisionBoxArray.length,Ll=-1,Wv=function(Kd,x3){return Kd&&Kd.circleDiameter?Math.max(Kd.circleDiameter,x3):x3};Ll=Wv(wa,Ll),Ll=Wv(Aa,Ll),Ll=Wv(Ua,Ll),Ll=Wv(Ca,Ll);var Rp=Ll>-1?1:0;Rp&&(Ll*=qn/Bo),D.glyphOffsetArray.length>=mi.MAX_GLYPHS&&N("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,Mn.sortKey),D.symbolInstances.emplaceBack(I.x,I.y,ti.right>=0?ti.right:-1,ti.center>=0?ti.center:-1,ti.left>=0?ti.left:-1,ti.vertical||-1,si,li,Si,Jc,$c,Gv,ou,Lp,Sm,Pp,Mm,Et,oi,xi,Ga,Na,Rp,0,ar,Ei,Vi,Ll)}function cE(D,I,G,ae){var ve=D.compareText;if(!(I in ve))ve[I]=[];else for(var Se=ve[I],De=Se.length-1;De>=0;De--)if(ae.dist(Se[De])<G)return!0;return ve[I].push(ae),!1}var hE=Dv.VectorTileFeature.types,vE=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Sp(D,I,G,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar){var er=Qe?Math.min(Xc,Math.round(Qe[0])):0,xr=Qe?Math.min(Xc,Math.round(Qe[1])):0;D.emplaceBack(I,G,Math.round(ae*32),Math.round(ve*32),Se,De,(er<<1)+(gt?1:0),xr,Et*16,Rt*16,Wt*256,ar*256)}function xm(D,I,G){D.emplaceBack(I.x,I.y,G),D.emplaceBack(I.x,I.y,G),D.emplaceBack(I.x,I.y,G),D.emplaceBack(I.x,I.y,G)}function dE(D){for(var I=0,G=D.sections;I<G.length;I+=1){var ae=G[I];if(en(ae.text))return!0}return!1}var Uv=function(I){this.layoutVertexArray=new mf,this.indexArray=new Bu,this.programConfigurations=I,this.segments=new uo,this.dynamicLayoutVertexArray=new Pd,this.opacityVertexArray=new Rd,this.placedSymbolArray=new _d};Uv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Uv.prototype.upload=function(I,G,ae,ve){this.isEmpty()||(ae&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,d8.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,G),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,p8.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,vE,!0),this.opacityVertexBuffer.itemSize=1),(ae||ve)&&this.programConfigurations.upload(I))},Uv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ze("SymbolBuffers",Uv);var Xd=function(I,G,ae){this.layoutVertexArray=new I,this.layoutAttributes=G,this.indexArray=new ae,this.segments=new uo,this.collisionVertexArray=new As};Xd.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,g8.members,!0)},Xd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ze("CollisionBuffers",Xd);var mi=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(gt){return gt.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ev([]),this.placementViewportMatrix=Ev([]);var G=this.layers[0],ae=G._unevaluatedLayout._values;this.textSizeData=gm(this.zoom,ae["text-size"]),this.iconSizeData=gm(this.zoom,ae["icon-size"]);var ve=this.layers[0].layout,Se=ve.get("symbol-sort-key"),De=ve.get("symbol-z-order");this.canOverlap=ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement"),this.sortFeaturesByKey=De!=="viewport-y"&&Se.constantOr(1)!==void 0;var Qe=De==="viewport-y"||De==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Qe&&this.canOverlap,ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(gt){return ol[gt]})),this.stateDependentLayerIds=this.layers.filter(function(gt){return gt.isStateDependent()}).map(function(gt){return gt.id}),this.sourceID=I.sourceID};mi.prototype.createArrays=function(){this.text=new Uv(new va(this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new Uv(new va(this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new op,this.lineVertexArray=new Sl,this.symbolInstances=new ip},mi.prototype.calculateGlyphDependencies=function(I,G,ae,ve,Se){for(var De=0;De<I.length;De++)if(G[I.charCodeAt(De)]=!0,(ae||ve)&&Se){var Qe=Hd[I.charAt(De)];Qe&&(G[Qe.charCodeAt(0)]=!0)}},mi.prototype.populate=function(I,G,ae){var ve=this.layers[0],Se=ve.layout,De=Se.get("text-font"),Qe=Se.get("text-field"),gt=Se.get("icon-image"),Et=(Qe.value.kind!=="constant"||Qe.value.value instanceof Qi&&!Qe.value.value.isEmpty()||Qe.value.value.toString().length>0)&&(De.value.kind!=="constant"||De.value.value.length>0),Rt=gt.value.kind!=="constant"||!!gt.value.value||Object.keys(gt.parameters).length>0,Wt=Se.get("symbol-sort-key");if(this.features=[],!(!Et&&!Rt)){for(var ar=G.iconDependencies,er=G.glyphDependencies,xr=G.availableImages,Or=new Sa(this.zoom),un=0,tn=I;un<tn.length;un+=1){var En=tn[un],xn=En.feature,Mn=En.id,On=En.index,Wn=En.sourceLayerIndex,ra=ve._featureFilter.needGeometry,qn=Ai(xn,ra);if(ve._featureFilter.filter(Or,qn,ae)){ra||(qn.geometry=ei(xn));var Ta=void 0;if(Et){var da=ve.getValueAndResolveTokens("text-field",qn,ae,xr),wa=Qi.factory(da);dE(wa)&&(this.hasRTLText=!0),(!this.hasRTLText||Fa()==="unavailable"||this.hasRTLText&&Jn.isParsed())&&(Ta=x8(wa,ve,qn))}var Ua=void 0;if(Rt){var Aa=ve.getValueAndResolveTokens("icon-image",qn,ae,xr);Aa instanceof Mo?Ua=Aa:Ua=Mo.fromString(Aa)}if(!(!Ta&&!Ua)){var Ca=this.sortFeaturesByKey?Wt.evaluate(qn,{},ae):void 0,Ga={id:Mn,text:Ta,icon:Ua,index:On,sourceLayerIndex:Wn,geometry:qn.geometry,properties:xn.properties,type:hE[xn.type],sortKey:Ca};if(this.features.push(Ga),Ua&&(ar[Ua.name]=!0),Ta){var Na=De.evaluate(qn,{},ae).join(","),oi=Se.get("text-rotation-alignment")==="map"&&Se.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ol.vertical)>=0;for(var xi=0,si=Ta.sections;xi<si.length;xi+=1){var li=si[xi];if(li.image)ar[li.image.name]=!0;else{var ti=rr(Ta.toString()),Si=li.fontStack||Na,Ei=er[Si]=er[Si]||{};this.calculateGlyphDependencies(li.text,Ei,oi,this.allowVerticalPlacement,ti)}}}}}}Se.get("symbol-placement")==="line"&&(this.features=b8(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Vi,Zi){return Vi.sortKey-Zi.sortKey})}},mi.prototype.update=function(I,G,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(I,G,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(I,G,this.layers,ae))},mi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},mi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mi.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mi.prototype.addToLineVertexArray=function(I,G){var ae=this.lineVertexArray.length;if(I.segment!==void 0){for(var ve=I.dist(G[I.segment+1]),Se=I.dist(G[I.segment]),De={},Qe=I.segment+1;Qe<G.length;Qe++)De[Qe]={x:G[Qe].x,y:G[Qe].y,tileUnitDistanceFromAnchor:ve},Qe<G.length-1&&(ve+=G[Qe+1].dist(G[Qe]));for(var gt=I.segment||0;gt>=0;gt--)De[gt]={x:G[gt].x,y:G[gt].y,tileUnitDistanceFromAnchor:Se},gt>0&&(Se+=G[gt-1].dist(G[gt]));for(var Et=0;Et<G.length;Et++){var Rt=De[Et];this.lineVertexArray.emplaceBack(Rt.x,Rt.y,Rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},mi.prototype.addSymbols=function(I,G,ae,ve,Se,De,Qe,gt,Et,Rt,Wt,ar){for(var er=I.indexArray,xr=I.layoutVertexArray,Or=I.segments.prepareSegment(4*G.length,xr,er,this.canOverlap?De.sortKey:void 0),un=this.glyphOffsetArray.length,tn=Or.vertexLength,En=this.allowVerticalPlacement&&Qe===ol.vertical?Math.PI/2:0,xn=De.text&&De.text.sections,Mn=0;Mn<G.length;Mn++){var On=G[Mn],Wn=On.tl,ra=On.tr,qn=On.bl,Ta=On.br,da=On.tex,wa=On.pixelOffsetTL,Ua=On.pixelOffsetBR,Aa=On.minFontScaleX,Ca=On.minFontScaleY,Ga=On.glyphOffset,Na=On.isSDF,oi=On.sectionIndex,xi=Or.vertexLength,si=Ga[1];Sp(xr,gt.x,gt.y,Wn.x,si+Wn.y,da.x,da.y,ae,Na,wa.x,wa.y,Aa,Ca),Sp(xr,gt.x,gt.y,ra.x,si+ra.y,da.x+da.w,da.y,ae,Na,Ua.x,wa.y,Aa,Ca),Sp(xr,gt.x,gt.y,qn.x,si+qn.y,da.x,da.y+da.h,ae,Na,wa.x,Ua.y,Aa,Ca),Sp(xr,gt.x,gt.y,Ta.x,si+Ta.y,da.x+da.w,da.y+da.h,ae,Na,Ua.x,Ua.y,Aa,Ca),xm(I.dynamicLayoutVertexArray,gt,En),er.emplaceBack(xi,xi+1,xi+2),er.emplaceBack(xi+1,xi+2,xi+3),Or.vertexLength+=4,Or.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ga[0]),(Mn===G.length-1||oi!==G[Mn+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(xr.length,De,De.index,{},ar,xn&&xn[oi])}I.placedSymbolArray.emplaceBack(gt.x,gt.y,un,this.glyphOffsetArray.length-un,tn,Et,Rt,gt.segment,ae?ae[0]:0,ae?ae[1]:0,ve[0],ve[1],Qe,0,!1,0,Wt)},mi.prototype._addCollisionDebugVertex=function(I,G,ae,ve,Se,De){return G.emplaceBack(0,0),I.emplaceBack(ae.x,ae.y,ve,Se,Math.round(De.x),Math.round(De.y))},mi.prototype.addCollisionDebugVertices=function(I,G,ae,ve,Se,De,Qe){var gt=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),Et=gt.vertexLength,Rt=Se.layoutVertexArray,Wt=Se.collisionVertexArray,ar=Qe.anchorX,er=Qe.anchorY;this._addCollisionDebugVertex(Rt,Wt,De,ar,er,new r(I,G)),this._addCollisionDebugVertex(Rt,Wt,De,ar,er,new r(ae,G)),this._addCollisionDebugVertex(Rt,Wt,De,ar,er,new r(ae,ve)),this._addCollisionDebugVertex(Rt,Wt,De,ar,er,new r(I,ve)),gt.vertexLength+=4;var xr=Se.indexArray;xr.emplaceBack(Et,Et+1),xr.emplaceBack(Et+1,Et+2),xr.emplaceBack(Et+2,Et+3),xr.emplaceBack(Et+3,Et),gt.primitiveLength+=4},mi.prototype.addDebugCollisionBoxes=function(I,G,ae,ve){for(var Se=I;Se<G;Se++){var De=this.collisionBoxArray.get(Se),Qe=De.x1,gt=De.y1,Et=De.x2,Rt=De.y2;this.addCollisionDebugVertices(Qe,gt,Et,Rt,ve?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,ae)}},mi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Xd(bv,Db.members,Xh),this.iconCollisionBox=new Xd(bv,Db.members,Xh);for(var I=0;I<this.symbolInstances.length;I++){var G=this.symbolInstances.get(I);this.addDebugCollisionBoxes(G.textBoxStartIndex,G.textBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.verticalTextBoxStartIndex,G.verticalTextBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.iconBoxStartIndex,G.iconBoxEndIndex,G,!1),this.addDebugCollisionBoxes(G.verticalIconBoxStartIndex,G.verticalIconBoxEndIndex,G,!1)}},mi.prototype._deserializeCollisionBoxesForSymbol=function(I,G,ae,ve,Se,De,Qe,gt,Et){for(var Rt={},Wt=G;Wt<ae;Wt++){var ar=I.get(Wt);Rt.textBox={x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,anchorPointX:ar.anchorPointX,anchorPointY:ar.anchorPointY},Rt.textFeatureIndex=ar.featureIndex;break}for(var er=ve;er<Se;er++){var xr=I.get(er);Rt.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},Rt.verticalTextFeatureIndex=xr.featureIndex;break}for(var Or=De;Or<Qe;Or++){var un=I.get(Or);Rt.iconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},Rt.iconFeatureIndex=un.featureIndex;break}for(var tn=gt;tn<Et;tn++){var En=I.get(tn);Rt.verticalIconBox={x1:En.x1,y1:En.y1,x2:En.x2,y2:En.y2,anchorPointX:En.anchorPointX,anchorPointY:En.anchorPointY},Rt.verticalIconFeatureIndex=En.featureIndex;break}return Rt},mi.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var G=0;G<this.symbolInstances.length;G++){var ae=this.symbolInstances.get(G);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},mi.prototype.hasTextData=function(){return this.text.segments.get().length>0},mi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mi.prototype.addIndicesForPlacedSymbol=function(I,G){for(var ae=I.placedSymbolArray.get(G),ve=ae.vertexStartIndex+ae.numGlyphs*4,Se=ae.vertexStartIndex;Se<ve;Se+=4)I.indexArray.emplaceBack(Se,Se+1,Se+2),I.indexArray.emplaceBack(Se+1,Se+2,Se+3)},mi.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var G=Math.sin(I),ae=Math.cos(I),ve=[],Se=[],De=[],Qe=0;Qe<this.symbolInstances.length;++Qe){De.push(Qe);var gt=this.symbolInstances.get(Qe);ve.push(Math.round(G*gt.anchorX+ae*gt.anchorY)|0),Se.push(gt.featureIndex)}return De.sort(function(Et,Rt){return ve[Et]-ve[Rt]||Se[Rt]-Se[Et]}),De},mi.prototype.addToSortKeyRanges=function(I,G){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===G?ae.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:G,symbolInstanceStart:I,symbolInstanceEnd:I+1})},mi.prototype.sortFeatures=function(I){var G=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,ve=this.symbolInstanceIndexes;ae<ve.length;ae+=1){var Se=ve[ae],De=this.symbolInstances.get(Se);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(Qe,gt,Et){Qe>=0&&Et.indexOf(Qe)===gt&&G.addIndicesForPlacedSymbol(G.text,Qe)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ze("SymbolBucket",mi,{omit:["layers","collisionBoxArray","features","compareText"]}),mi.MAX_GLYPHS=65535,mi.addDynamicAttributes=xm;function pE(D,I){return I.replace(/{([^{}]+)}/g,function(G,ae){return ae in D?String(D[ae]):""})}var gE=new ci({"symbol-placement":new sa(Sr.layout_symbol["symbol-placement"]),"symbol-spacing":new sa(Sr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new sa(Sr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new La(Sr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new sa(Sr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new sa(Sr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new sa(Sr.layout_symbol["icon-ignore-placement"]),"icon-optional":new sa(Sr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new sa(Sr.layout_symbol["icon-rotation-alignment"]),"icon-size":new La(Sr.layout_symbol["icon-size"]),"icon-text-fit":new sa(Sr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new sa(Sr.layout_symbol["icon-text-fit-padding"]),"icon-image":new La(Sr.layout_symbol["icon-image"]),"icon-rotate":new La(Sr.layout_symbol["icon-rotate"]),"icon-padding":new sa(Sr.layout_symbol["icon-padding"]),"icon-keep-upright":new sa(Sr.layout_symbol["icon-keep-upright"]),"icon-offset":new La(Sr.layout_symbol["icon-offset"]),"icon-anchor":new La(Sr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new sa(Sr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new sa(Sr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new sa(Sr.layout_symbol["text-rotation-alignment"]),"text-field":new La(Sr.layout_symbol["text-field"]),"text-font":new La(Sr.layout_symbol["text-font"]),"text-size":new La(Sr.layout_symbol["text-size"]),"text-max-width":new La(Sr.layout_symbol["text-max-width"]),"text-line-height":new sa(Sr.layout_symbol["text-line-height"]),"text-letter-spacing":new La(Sr.layout_symbol["text-letter-spacing"]),"text-justify":new La(Sr.layout_symbol["text-justify"]),"text-radial-offset":new La(Sr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new sa(Sr.layout_symbol["text-variable-anchor"]),"text-anchor":new La(Sr.layout_symbol["text-anchor"]),"text-max-angle":new sa(Sr.layout_symbol["text-max-angle"]),"text-writing-mode":new sa(Sr.layout_symbol["text-writing-mode"]),"text-rotate":new La(Sr.layout_symbol["text-rotate"]),"text-padding":new sa(Sr.layout_symbol["text-padding"]),"text-keep-upright":new sa(Sr.layout_symbol["text-keep-upright"]),"text-transform":new La(Sr.layout_symbol["text-transform"]),"text-offset":new La(Sr.layout_symbol["text-offset"]),"text-allow-overlap":new sa(Sr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new sa(Sr.layout_symbol["text-ignore-placement"]),"text-optional":new sa(Sr.layout_symbol["text-optional"])}),yE=new ci({"icon-opacity":new La(Sr.paint_symbol["icon-opacity"]),"icon-color":new La(Sr.paint_symbol["icon-color"]),"icon-halo-color":new La(Sr.paint_symbol["icon-halo-color"]),"icon-halo-width":new La(Sr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new La(Sr.paint_symbol["icon-halo-blur"]),"icon-translate":new sa(Sr.paint_symbol["icon-translate"]),"icon-translate-anchor":new sa(Sr.paint_symbol["icon-translate-anchor"]),"text-opacity":new La(Sr.paint_symbol["text-opacity"]),"text-color":new La(Sr.paint_symbol["text-color"],{runtimeType:Dn,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new La(Sr.paint_symbol["text-halo-color"]),"text-halo-width":new La(Sr.paint_symbol["text-halo-width"]),"text-halo-blur":new La(Sr.paint_symbol["text-halo-blur"]),"text-translate":new sa(Sr.paint_symbol["text-translate"]),"text-translate-anchor":new sa(Sr.paint_symbol["text-translate-anchor"])}),bm={paint:yE,layout:gE},Vv=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:Hr,this.defaultValue=I};Vv.prototype.evaluate=function(I){if(I.formattedSection){var G=this.defaultValue.property.overrides;if(G&&G.hasOverride(I.formattedSection))return G.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},Vv.prototype.eachChild=function(I){if(!this.defaultValue.isConstant()){var G=this.defaultValue.value;I(G._styleExpression.expression)}},Vv.prototype.outputDefined=function(){return!1},Vv.prototype.serialize=function(){return null},ze("FormatSectionOverride",Vv,{omit:["defaultValue"]});var mE=function(D){function I(G){D.call(this,G,bm)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ae,ve){if(D.prototype.recalculate.call(this,ae,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Se=this.layout.get("text-writing-mode");if(Se){for(var De=[],Qe=0,gt=Se;Qe<gt.length;Qe+=1){var Et=gt[Qe];De.indexOf(Et)<0&&De.push(Et)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(ae,ve,Se,De){var Qe=this.layout.get(ae).evaluate(ve,{},Se,De),gt=this._unevaluatedLayout._values[ae];return!gt.isDataDriven()&&!Ru(gt.value)&&Qe?pE(ve.properties,Qe):Qe},I.prototype.createBucket=function(ae){return new mi(ae)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var ae=0,ve=bm.paint.overridableProperties;ae<ve.length;ae+=1){var Se=ve[ae];if(I.hasPaintOverride(this.layout,Se)){var De=this.paint.get(Se),Qe=new Vv(De),gt=new el(Qe,De.property.specification),Et=null;De.value.kind==="constant"||De.value.kind==="source"?Et=new Wi("source",gt):Et=new ws("composite",gt,De.value.zoomStops,De.value._interpolationType),this.paint._values[Se]=new wi(De.property,Et,De.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(ae,ve,Se){return!this.layout||ve.isDataDriven()||Se.isDataDriven()?!1:I.hasPaintOverride(this.layout,ae)},I.hasPaintOverride=function(ae,ve){var Se=ae.get("text-field"),De=bm.paint.properties[ve],Qe=!1,gt=function(Wt){for(var ar=0,er=Wt;ar<er.length;ar+=1){var xr=er[ar];if(De.overrides&&De.overrides.hasOverride(xr)){Qe=!0;return}}};if(Se.value.kind==="constant"&&Se.value.value instanceof Qi)gt(Se.value.value.sections);else if(Se.value.kind==="source"){var Et=function(Wt){if(!Qe)if(Wt instanceof zi&&_i(Wt.value)===ga){var ar=Wt.value;gt(ar.sections)}else Wt instanceof oo?gt(Wt.sections):Wt.eachChild(Et)},Rt=Se.value;Rt._styleExpression&&Et(Rt._styleExpression.expression)}return Qe},I}(Bi),xE=new ci({"background-color":new sa(Sr.paint_background["background-color"]),"background-pattern":new Go(Sr.paint_background["background-pattern"]),"background-opacity":new sa(Sr.paint_background["background-opacity"])}),bE={paint:xE},wE=function(D){function I(G){D.call(this,G,bE)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Bi),TE=new ci({"raster-opacity":new sa(Sr.paint_raster["raster-opacity"]),"raster-hue-rotate":new sa(Sr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new sa(Sr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new sa(Sr.paint_raster["raster-brightness-max"]),"raster-saturation":new sa(Sr.paint_raster["raster-saturation"]),"raster-contrast":new sa(Sr.paint_raster["raster-contrast"]),"raster-resampling":new sa(Sr.paint_raster["raster-resampling"]),"raster-fade-duration":new sa(Sr.paint_raster["raster-fade-duration"])}),AE={paint:TE},SE=function(D){function I(G){D.call(this,G,AE)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Bi);function ME(D){var I=[],G=D.id;return G===void 0&&I.push({message:"layers."+G+': missing required property "id"'}),D.render===void 0&&I.push({message:"layers."+G+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&I.push({message:"layers."+G+': property "renderingMode" must be either "2d" or "3d"'}),I}var EE=function(D){function I(G){D.call(this,G,{}),this.implementation=G}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},I.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},I}(Bi),CE={circle:JS,heatmap:eM,hillshade:nM,fill:PM,"fill-extrusion":JM,line:h8,symbol:mE,background:wE,raster:SE};function LE(D){return D.type==="custom"?new EE(D):new CE[D.type](D)}var a3=i.HTMLImageElement,i3=i.HTMLCanvasElement,o3=i.HTMLVideoElement,s3=i.ImageData,Mp=i.ImageBitmap,$h=function(I,G,ae,ve){this.context=I,this.format=ae,this.texture=I.gl.createTexture(),this.update(G,ve)};$h.prototype.update=function(I,G,ae){var ve=I.width,Se=I.height,De=(!this.size||this.size[0]!==ve||this.size[1]!==Se)&&!ae,Qe=this,gt=Qe.context,Et=gt.gl;if(this.useMipmap=!!(G&&G.useMipmap),Et.bindTexture(Et.TEXTURE_2D,this.texture),gt.pixelStoreUnpackFlipY.set(!1),gt.pixelStoreUnpack.set(1),gt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Et.RGBA&&(!G||G.premultiply!==!1)),De)this.size=[ve,Se],I instanceof a3||I instanceof i3||I instanceof o3||I instanceof s3||Mp&&I instanceof Mp?Et.texImage2D(Et.TEXTURE_2D,0,this.format,this.format,Et.UNSIGNED_BYTE,I):Et.texImage2D(Et.TEXTURE_2D,0,this.format,ve,Se,0,this.format,Et.UNSIGNED_BYTE,I.data);else{var Rt=ae||{x:0,y:0},Wt=Rt.x,ar=Rt.y;I instanceof a3||I instanceof i3||I instanceof o3||I instanceof s3||Mp&&I instanceof Mp?Et.texSubImage2D(Et.TEXTURE_2D,0,Wt,ar,Et.RGBA,Et.UNSIGNED_BYTE,I):Et.texSubImage2D(Et.TEXTURE_2D,0,Wt,ar,ve,Se,Et.RGBA,Et.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Et.generateMipmap(Et.TEXTURE_2D)},$h.prototype.bind=function(I,G,ae){var ve=this,Se=ve.context,De=Se.gl;De.bindTexture(De.TEXTURE_2D,this.texture),ae===De.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=De.LINEAR),I!==this.filter&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,I),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,ae||I),this.filter=I),G!==this.wrap&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,G),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,G),this.wrap=G)},$h.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},$h.prototype.destroy=function(){var I=this.context,G=I.gl;G.deleteTexture(this.texture),this.texture=null};var wm=function(I){var G=this;this._callback=I,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){G._triggered=!1,G._callback()})};wm.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},wm.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Hv=function(I,G,ae){this.target=I,this.parent=G,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},L(["receive","process"],this),this.invoker=new wm(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=$()?I:i};Hv.prototype.send=function(I,G,ae,ve,Se){var De=this;Se===void 0&&(Se=!1);var Qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[Qe]=ae);var gt=ue(this.globalScope)?void 0:[];return this.target.postMessage({id:Qe,type:I,hasCallback:!!ae,targetMapId:ve,mustQueue:Se,sourceMapId:this.mapId,data:Pt(G,gt)},gt),{cancel:function(){ae&&delete De.callbacks[Qe],De.target.postMessage({id:Qe,type:"<cancel>",targetMapId:ve,sourceMapId:De.mapId})}}},Hv.prototype.receive=function(I){var G=I.data,ae=G.id;if(ae&&!(G.targetMapId&&this.mapId!==G.targetMapId))if(G.type==="<cancel>"){delete this.tasks[ae];var ve=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],ve&&ve()}else $()||G.mustQueue?(this.tasks[ae]=G,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,G)},Hv.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),G=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),G&&this.processTask(I,G)}},Hv.prototype.processTask=function(I,G){var ae=this;if(G.type==="<response>"){var ve=this.callbacks[I];delete this.callbacks[I],ve&&(G.error?ve(Mt(G.error)):ve(null,Mt(G.data)))}else{var Se=!1,De=ue(this.globalScope)?void 0:[],Qe=G.hasCallback?function(ar,er){Se=!0,delete ae.cancelCallbacks[I],ae.target.postMessage({id:I,type:"<response>",sourceMapId:ae.mapId,error:ar?Pt(ar):null,data:Pt(er,De)},De)}:function(ar){Se=!0},gt=null,Et=Mt(G.data);if(this.parent[G.type])gt=this.parent[G.type](G.sourceMapId,Et,Qe);else if(this.parent.getWorkerSource){var Rt=G.type.split("."),Wt=this.parent.getWorkerSource(G.sourceMapId,Rt[0],Et.source);gt=Wt[Rt[1]](Et,Qe)}else Qe(new Error("Could not find function "+G.type));!Se&&gt&&gt.cancel&&(this.cancelCallbacks[I]=gt.cancel)}},Hv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function PE(D,I,G){I=Math.pow(2,G)-I-1;var ae=l3(D*256,I*256,G),ve=l3((D+1)*256,(I+1)*256,G);return ae[0]+","+ae[1]+","+ve[0]+","+ve[1]}function l3(D,I,G){var ae=2*Math.PI*6378137/256/Math.pow(2,G),ve=D*ae-2*Math.PI*6378137/2,Se=I*ae-2*Math.PI*6378137/2;return[ve,Se]}var co=function(I,G){I&&(G?this.setSouthWest(I).setNorthEast(G):I.length===4?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};co.prototype.setNorthEast=function(I){return this._ne=I instanceof Ri?new Ri(I.lng,I.lat):Ri.convert(I),this},co.prototype.setSouthWest=function(I){return this._sw=I instanceof Ri?new Ri(I.lng,I.lat):Ri.convert(I),this},co.prototype.extend=function(I){var G=this._sw,ae=this._ne,ve,Se;if(I instanceof Ri)ve=I,Se=I;else if(I instanceof co){if(ve=I._sw,Se=I._ne,!ve||!Se)return this}else{if(Array.isArray(I))if(I.length===4||I.every(Array.isArray)){var De=I;return this.extend(co.convert(De))}else{var Qe=I;return this.extend(Ri.convert(Qe))}return this}return!G&&!ae?(this._sw=new Ri(ve.lng,ve.lat),this._ne=new Ri(Se.lng,Se.lat)):(G.lng=Math.min(ve.lng,G.lng),G.lat=Math.min(ve.lat,G.lat),ae.lng=Math.max(Se.lng,ae.lng),ae.lat=Math.max(Se.lat,ae.lat)),this},co.prototype.getCenter=function(){return new Ri((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},co.prototype.getSouthWest=function(){return this._sw},co.prototype.getNorthEast=function(){return this._ne},co.prototype.getNorthWest=function(){return new Ri(this.getWest(),this.getNorth())},co.prototype.getSouthEast=function(){return new Ri(this.getEast(),this.getSouth())},co.prototype.getWest=function(){return this._sw.lng},co.prototype.getSouth=function(){return this._sw.lat},co.prototype.getEast=function(){return this._ne.lng},co.prototype.getNorth=function(){return this._ne.lat},co.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},co.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},co.prototype.isEmpty=function(){return!(this._sw&&this._ne)},co.prototype.contains=function(I){var G=Ri.convert(I),ae=G.lng,ve=G.lat,Se=this._sw.lat<=ve&&ve<=this._ne.lat,De=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=ae&&ae>=this._ne.lng),Se&&De},co.convert=function(I){return!I||I instanceof co?I:new co(I)};var u3=63710088e-1,Ri=function(I,G){if(isNaN(I)||isNaN(G))throw new Error("Invalid LngLat object: ("+I+", "+G+")");if(this.lng=+I,this.lat=+G,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ri.prototype.wrap=function(){return new Ri(S(this.lng,-180,180),this.lat)},Ri.prototype.toArray=function(){return[this.lng,this.lat]},Ri.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ri.prototype.distanceTo=function(I){var G=Math.PI/180,ae=this.lat*G,ve=I.lat*G,Se=Math.sin(ae)*Math.sin(ve)+Math.cos(ae)*Math.cos(ve)*Math.cos((I.lng-this.lng)*G),De=u3*Math.acos(Math.min(Se,1));return De},Ri.prototype.toBounds=function(I){I===void 0&&(I=0);var G=40075017,ae=360*I/G,ve=ae/Math.cos(Math.PI/180*this.lat);return new co(new Ri(this.lng-ve,this.lat-ae),new Ri(this.lng+ve,this.lat+ae))},Ri.convert=function(I){if(I instanceof Ri)return I;if(Array.isArray(I)&&(I.length===2||I.length===3))return new Ri(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&typeof I=="object"&&I!==null)return new Ri(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var f3=2*Math.PI*u3;function c3(D){return f3*Math.cos(D*Math.PI/180)}function h3(D){return(180+D)/360}function v3(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function d3(D,I){return D/c3(I)}function RE(D){return D*360-180}function Tm(D){var I=180-D*360;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}function DE(D,I){return D*c3(Tm(I))}function IE(D){return 1/Math.cos(D*Math.PI/180)}var Qh=function(I,G,ae){ae===void 0&&(ae=0),this.x=+I,this.y=+G,this.z=+ae};Qh.fromLngLat=function(I,G){G===void 0&&(G=0);var ae=Ri.convert(I);return new Qh(h3(ae.lng),v3(ae.lat),d3(G,ae.lat))},Qh.prototype.toLngLat=function(){return new Ri(RE(this.x),Tm(this.y))},Qh.prototype.toAltitude=function(){return DE(this.z,this.y)},Qh.prototype.meterInMercatorCoordinateUnits=function(){return 1/f3*IE(Tm(this.y))};var qh=function(I,G,ae){this.z=I,this.x=G,this.y=ae,this.key=Zd(0,I,I,G,ae)};qh.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},qh.prototype.url=function(I,G){var ae=PE(this.x,this.y,this.z),ve=_E(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(G==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",ae)},qh.prototype.getTilePoint=function(I){var G=Math.pow(2,this.z);return new r((I.x*G-this.x)*Ma,(I.y*G-this.y)*Ma)},qh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var p3=function(I,G){this.wrap=I,this.canonical=G,this.key=Zd(I,G.z,G.z,G.x,G.y)},ho=function(I,G,ae,ve,Se){this.overscaledZ=I,this.wrap=G,this.canonical=new qh(ae,+ve,+Se),this.key=Zd(G,I,ae,ve,Se)};ho.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},ho.prototype.scaledTo=function(I){var G=this.canonical.z-I;return I>this.canonical.z?new ho(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ho(I,this.wrap,I,this.canonical.x>>G,this.canonical.y>>G)},ho.prototype.calculateScaledKey=function(I,G){var ae=this.canonical.z-I;return I>this.canonical.z?Zd(this.wrap*+G,I,this.canonical.z,this.canonical.x,this.canonical.y):Zd(this.wrap*+G,I,I,this.canonical.x>>ae,this.canonical.y>>ae)},ho.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var G=this.canonical.z-I.canonical.z;return I.overscaledZ===0||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>G&&I.canonical.y===this.canonical.y>>G},ho.prototype.children=function(I){if(this.overscaledZ>=I)return[new ho(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var G=this.canonical.z+1,ae=this.canonical.x*2,ve=this.canonical.y*2;return[new ho(G,this.wrap,G,ae,ve),new ho(G,this.wrap,G,ae+1,ve),new ho(G,this.wrap,G,ae,ve+1),new ho(G,this.wrap,G,ae+1,ve+1)]},ho.prototype.isLessThan=function(I){return this.wrap<I.wrap?!0:this.wrap>I.wrap?!1:this.overscaledZ<I.overscaledZ?!0:this.overscaledZ>I.overscaledZ?!1:this.canonical.x<I.canonical.x?!0:this.canonical.x>I.canonical.x?!1:this.canonical.y<I.canonical.y},ho.prototype.wrapped=function(){return new ho(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ho.prototype.unwrapTo=function(I){return new ho(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},ho.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ho.prototype.toUnwrapped=function(){return new p3(this.wrap,this.canonical)},ho.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ho.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new Qh(I.x-this.wrap,I.y))};function Zd(D,I,G,ae,ve){D*=2,D<0&&(D=D*-1-1);var Se=1<<G;return(Se*Se*D+Se*ve+ae).toString(36)+G.toString(36)+I.toString(36)}function _E(D,I,G){for(var ae="",ve,Se=D;Se>0;Se--)ve=1<<Se-1,ae+=(I&ve?1:0)+(G&ve?2:0);return ae}ze("CanonicalTileID",qh),ze("OverscaledTileID",ho,{omit:["posMatrix"]});var $f=function(I,G,ae){if(this.uid=I,G.height!==G.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return N('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=G.height;var ve=this.dim=G.height-2;this.data=new Uint32Array(G.data.buffer),this.encoding=ae||"mapbox";for(var Se=0;Se<ve;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(ve,Se)]=this.data[this._idx(ve-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,ve)]=this.data[this._idx(Se,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};$f.prototype.get=function(I,G){var ae=new Uint8Array(this.data.buffer),ve=this._idx(I,G)*4,Se=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Se(ae[ve],ae[ve+1],ae[ve+2])},$f.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},$f.prototype._idx=function(I,G){if(I<-1||I>=this.dim+1||G<-1||G>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(G+1)*this.stride+(I+1)},$f.prototype._unpackMapbox=function(I,G,ae){return(I*256*256+G*256+ae)/10-1e4},$f.prototype._unpackTerrarium=function(I,G,ae){return I*256+G+ae/256-32768},$f.prototype.getPixels=function(){return new Cs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},$f.prototype.backfillBorder=function(I,G,ae){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var ve=G*this.dim,Se=G*this.dim+this.dim,De=ae*this.dim,Qe=ae*this.dim+this.dim;switch(G){case-1:ve=Se-1;break;case 1:Se=ve+1;break}switch(ae){case-1:De=Qe-1;break;case 1:Qe=De+1;break}for(var gt=-G*this.dim,Et=-ae*this.dim,Rt=De;Rt<Qe;Rt++)for(var Wt=ve;Wt<Se;Wt++)this.data[this._idx(Wt,Rt)]=I.data[this._idx(Wt+gt,Rt+Et)]},ze("DEMData",$f);function kE(D,I){var G={};if(!I)return G;for(var ae=function(){var De=Se[ve],Qe=De.layerIds.map(function(Wt){return I.getLayer(Wt)}).filter(Boolean);if(Qe.length!==0){De.layers=Qe,De.stateDependentLayerIds&&(De.stateDependentLayers=De.stateDependentLayerIds.map(function(Wt){return Qe.filter(function(ar){return ar.id===Wt})[0]}));for(var gt=0,Et=Qe;gt<Et.length;gt+=1){var Rt=Et[gt];G[Rt.id]=De}}},ve=0,Se=D;ve<Se.length;ve+=1)ae();return G}var Ep=function(I){this._stringToNumber={},this._numberToString=[];for(var G=0;G<I.length;G++){var ae=I[G];this._stringToNumber[ae]=G,this._numberToString[G]=ae}};Ep.prototype.encode=function(I){return this._stringToNumber[I]},Ep.prototype.decode=function(I){return this._numberToString[I]};var Cp=function(I,G,ae,ve,Se){this.type="Feature",this._vectorTileFeature=I,I._z=G,I._x=ae,I._y=ve,this.properties=I.properties,this.id=Se},Am={geometry:{configurable:!0}};Am.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Am.geometry.set=function(D){this._geometry=D},Cp.prototype.toJSON=function(){var I={geometry:this.geometry};for(var G in this)G==="_geometry"||G==="_vectorTileFeature"||(I[G]=this[G]);return I},Object.defineProperties(Cp.prototype,Am);var jv=function(){this.state={},this.stateChanges={},this.deletedStates={}};jv.prototype.updateState=function(I,G,ae){var ve=String(G);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][ve]=this.stateChanges[I][ve]||{},w(this.stateChanges[I][ve],ae),this.deletedStates[I]===null){this.deletedStates[I]={};for(var Se in this.state[I])Se!==ve&&(this.deletedStates[I][Se]=null)}else{var De=this.deletedStates[I]&&this.deletedStates[I][ve]===null;if(De){this.deletedStates[I][ve]={};for(var Qe in this.state[I][ve])ae[Qe]||(this.deletedStates[I][ve][Qe]=null)}else for(var gt in ae){var Et=this.deletedStates[I]&&this.deletedStates[I][ve]&&this.deletedStates[I][ve][gt]===null;Et&&delete this.deletedStates[I][ve][gt]}}},jv.prototype.removeFeatureState=function(I,G,ae){var ve=this.deletedStates[I]===null;if(!ve){var Se=String(G);if(this.deletedStates[I]=this.deletedStates[I]||{},ae&&G!==void 0)this.deletedStates[I][Se]!==null&&(this.deletedStates[I][Se]=this.deletedStates[I][Se]||{},this.deletedStates[I][Se][ae]=null);else if(G!==void 0){var De=this.stateChanges[I]&&this.stateChanges[I][Se];if(De){this.deletedStates[I][Se]={};for(ae in this.stateChanges[I][Se])this.deletedStates[I][Se][ae]=null}else this.deletedStates[I][Se]=null}else this.deletedStates[I]=null}},jv.prototype.getState=function(I,G){var ae=String(G),ve=this.state[I]||{},Se=this.stateChanges[I]||{},De=w({},ve[ae],Se[ae]);if(this.deletedStates[I]===null)return{};if(this.deletedStates[I]){var Qe=this.deletedStates[I][G];if(Qe===null)return{};for(var gt in Qe)delete De[gt]}return De},jv.prototype.initializeTileState=function(I,G){I.setFeatureState(this.state,G)},jv.prototype.coalesceChanges=function(I,G){var ae={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var Se={};for(var De in this.stateChanges[ve])this.state[ve][De]||(this.state[ve][De]={}),w(this.state[ve][De],this.stateChanges[ve][De]),Se[De]=this.state[ve][De];ae[ve]=Se}for(var Qe in this.deletedStates){this.state[Qe]=this.state[Qe]||{};var gt={};if(this.deletedStates[Qe]===null)for(var Et in this.state[Qe])gt[Et]={},this.state[Qe][Et]={};else for(var Rt in this.deletedStates[Qe]){var Wt=this.deletedStates[Qe][Rt]===null;if(Wt)this.state[Qe][Rt]={};else for(var ar=0,er=Object.keys(this.deletedStates[Qe][Rt]);ar<er.length;ar+=1){var xr=er[ar];delete this.state[Qe][Rt][xr]}gt[Rt]=this.state[Qe][Rt]}ae[Qe]=ae[Qe]||{},w(ae[Qe],gt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Or in I){var un=I[Or];un.setFeatureState(ae,G)}};var Qf=function(I,G){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new za(Ma,16,0),this.grid3D=new za(Ma,16,0),this.featureIndexArray=new lp,this.promoteId=G};Qf.prototype.insert=function(I,G,ae,ve,Se,De){var Qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,ve,Se);for(var gt=De?this.grid3D:this.grid,Et=0;Et<G.length;Et++){for(var Rt=G[Et],Wt=[1/0,1/0,-1/0,-1/0],ar=0;ar<Rt.length;ar++){var er=Rt[ar];Wt[0]=Math.min(Wt[0],er.x),Wt[1]=Math.min(Wt[1],er.y),Wt[2]=Math.max(Wt[2],er.x),Wt[3]=Math.max(Wt[3],er.y)}Wt[0]<Ma&&Wt[1]<Ma&&Wt[2]>=0&&Wt[3]>=0&&gt.insert(Qe,Wt[0],Wt[1],Wt[2],Wt[3])}},Qf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Dv.VectorTile(new gp(this.rawTileData)).layers,this.sourceLayerCoder=new Ep(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Qf.prototype.query=function(I,G,ae,ve){var Se=this;this.loadVTLayers();for(var De=I.params||{},Qe=Ma/I.tileSize/I.scale,gt=nl(De.filter),Et=I.queryGeometry,Rt=I.queryPadding*Qe,Wt=y3(Et),ar=this.grid.query(Wt.minX-Rt,Wt.minY-Rt,Wt.maxX+Rt,Wt.maxY+Rt),er=y3(I.cameraQueryGeometry),xr=this.grid3D.query(er.minX-Rt,er.minY-Rt,er.maxX+Rt,er.maxY+Rt,function(Wn,ra,qn,Ta){return iu(I.cameraQueryGeometry,Wn-Rt,ra-Rt,qn+Rt,Ta+Rt)}),Or=0,un=xr;Or<un.length;Or+=1){var tn=un[Or];ar.push(tn)}ar.sort(FE);for(var En={},xn,Mn=function(Wn){var ra=ar[Wn];if(ra!==xn){xn=ra;var qn=Se.featureIndexArray.get(ra),Ta=null;Se.loadMatchingFeature(En,qn.bucketIndex,qn.sourceLayerIndex,qn.featureIndex,gt,De.layers,De.availableImages,G,ae,ve,function(da,wa,Ua){return Ta||(Ta=ei(da)),wa.queryIntersectsFeature(Et,da,Ua,Ta,Se.z,I.transform,Qe,I.pixelPosMatrix)})}},On=0;On<ar.length;On++)Mn(On);return En},Qf.prototype.loadMatchingFeature=function(I,G,ae,ve,Se,De,Qe,gt,Et,Rt,Wt){var ar=this.bucketLayerIDs[G];if(!(De&&!F(De,ar))){var er=this.sourceLayerCoder.decode(ae),xr=this.vtLayers[er],Or=xr.feature(ve);if(Se.needGeometry){var un=Ai(Or,!0);if(!Se.filter(new Sa(this.tileID.overscaledZ),un,this.tileID.canonical))return}else if(!Se.filter(new Sa(this.tileID.overscaledZ),Or))return;for(var tn=this.getId(Or,er),En=0;En<ar.length;En++){var xn=ar[En];if(!(De&&De.indexOf(xn)<0)){var Mn=gt[xn];if(Mn){var On={};tn!==void 0&&Rt&&(On=Rt.getState(Mn.sourceLayer||"_geojsonTileLayer",tn));var Wn=w({},Et[xn]);Wn.paint=g3(Wn.paint,Mn.paint,Or,On,Qe),Wn.layout=g3(Wn.layout,Mn.layout,Or,On,Qe);var ra=!Wt||Wt(Or,Mn,On);if(ra){var qn=new Cp(Or,this.z,this.x,this.y,tn);qn.layer=Wn;var Ta=I[xn];Ta===void 0&&(Ta=I[xn]=[]),Ta.push({featureIndex:ve,feature:qn,intersectionZ:ra})}}}}}},Qf.prototype.lookupSymbolFeatures=function(I,G,ae,ve,Se,De,Qe,gt){var Et={};this.loadVTLayers();for(var Rt=nl(Se),Wt=0,ar=I;Wt<ar.length;Wt+=1){var er=ar[Wt];this.loadMatchingFeature(Et,ae,ve,er,Rt,De,Qe,gt,G)}return Et},Qf.prototype.hasLayer=function(I){for(var G=0,ae=this.bucketLayerIDs;G<ae.length;G+=1)for(var ve=ae[G],Se=0,De=ve;Se<De.length;Se+=1){var Qe=De[Se];if(I===Qe)return!0}return!1},Qf.prototype.getId=function(I,G){var ae=I.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[G];ae=I.properties[ve],typeof ae=="boolean"&&(ae=Number(ae))}return ae},ze("FeatureIndex",Qf,{omit:["rawTileData","sourceLayerCoder"]});function g3(D,I,G,ae,ve){return k(D,function(Se,De){var Qe=I instanceof bo?I.get(De):null;return Qe&&Qe.evaluate?Qe.evaluate(G,ae,ve):Qe})}function y3(D){for(var I=1/0,G=1/0,ae=-1/0,ve=-1/0,Se=0,De=D;Se<De.length;Se+=1){var Qe=De[Se];I=Math.min(I,Qe.x),G=Math.min(G,Qe.y),ae=Math.max(ae,Qe.x),ve=Math.max(ve,Qe.y)}return{minX:I,minY:G,maxX:ae,maxY:ve}}function FE(D,I){return I-D}var OE=3e4,Lo=function(I,G){this.tileID=I,this.uid=m(),this.uses=0,this.tileSize=G,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Lo.prototype.registerFadeDuration=function(I){var G=I+this.timeAdded;G<le.now()||this.fadeEndTime&&G<this.fadeEndTime||(this.fadeEndTime=G)},Lo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Lo.prototype.loadVectorData=function(I,G,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!I){this.collisionBoxArray=new Id;return}I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=kE(I.buckets,G.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var Se=this.buckets[ve];if(Se instanceof mi)if(this.hasSymbolBuckets=!0,ae)Se.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var Qe=this.buckets[De];if(Qe instanceof mi&&Qe.hasRTLText){this.hasRTLText=!0,Va();break}}this.queryPadding=0;for(var gt in this.buckets){var Et=this.buckets[gt];this.queryPadding=Math.max(this.queryPadding,G.style.getLayer(gt).queryRadius(Et))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)},Lo.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Lo.prototype.getBucket=function(I){return this.buckets[I.id]},Lo.prototype.upload=function(I){for(var G in this.buckets){var ae=this.buckets[G];ae.uploadPending()&&ae.upload(I)}var ve=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new $h(I,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new $h(I,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},Lo.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},Lo.prototype.queryRenderedFeatures=function(I,G,ae,ve,Se,De,Qe,gt,Et,Rt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:Se,scale:De,tileSize:this.tileSize,pixelPosMatrix:Rt,transform:gt,params:Qe,queryPadding:this.queryPadding*Et},I,G,ae)},Lo.prototype.querySourceFeatures=function(I,G){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var ve=ae.loadVTLayers(),Se=G?G.sourceLayer:"",De=ve._geojsonTileLayer||ve[Se];if(De)for(var Qe=nl(G&&G.filter),gt=this.tileID.canonical,Et=gt.z,Rt=gt.x,Wt=gt.y,ar={z:Et,x:Rt,y:Wt},er=0;er<De.length;er++){var xr=De.feature(er);if(Qe.needGeometry){var Or=Ai(xr,!0);if(!Qe.filter(new Sa(this.tileID.overscaledZ),Or,this.tileID.canonical))continue}else if(!Qe.filter(new Sa(this.tileID.overscaledZ),xr))continue;var un=ae.getId(xr,Se),tn=new Cp(xr,Et,Rt,Wt,un);tn.tile=ar,I.push(tn)}}},Lo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Lo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Lo.prototype.setExpiryData=function(I){var G=this.expirationTime;if(I.cacheControl){var ae=re(I.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var ve=Date.now(),Se=!1;if(this.expirationTime>ve)Se=!1;else if(!G)Se=!0;else if(this.expirationTime<G)Se=!0;else{var De=this.expirationTime-G;De?this.expirationTime=ve+Math.max(De,OE):Se=!0}Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Lo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Lo.prototype.setFeatureState=function(I,G){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(I).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(G.style.hasLayer(ve)){var Se=this.buckets[ve],De=Se.layers[0].sourceLayer||"_geojsonTileLayer",Qe=ae[De],gt=I[De];if(!(!Qe||!gt||Object.keys(gt).length===0)){Se.update(gt,Qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Et=G&&G.style&&G.style.getLayer(ve);Et&&(this.queryPadding=Math.max(this.queryPadding,Et.queryRadius(Se)))}}}},Lo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Lo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<le.now()},Lo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Lo.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=le.now()+I},Lo.prototype.setDependencies=function(I,G){for(var ae={},ve=0,Se=G;ve<Se.length;ve+=1){var De=Se[ve];ae[De]=!0}this.dependencies[I]=ae},Lo.prototype.hasDependency=function(I,G){for(var ae=0,ve=I;ae<ve.length;ae+=1){var Se=ve[ae],De=this.dependencies[Se];if(De)for(var Qe=0,gt=G;Qe<gt.length;Qe+=1){var Et=gt[Qe];if(De[Et])return!0}}return!1};var zE=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Zc=i.performance,m3=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},Zc.mark(this._marks.start)};m3.prototype.finish=function(){Zc.mark(this._marks.end);var I=Zc.getEntriesByName(this._marks.measure);return I.length===0&&(Zc.measure(this._marks.measure,this._marks.start,this._marks.end),I=Zc.getEntriesByName(this._marks.measure),Zc.clearMarks(this._marks.start),Zc.clearMarks(this._marks.end),Zc.clearMeasures(this._marks.measure)),I},a.Actor=Hv,a.AlphaImage=Jh,a.CanonicalTileID=qh,a.CollisionBoxArray=Id,a.Color=qa,a.DEMData=$f,a.DataConstantProperty=sa,a.DictionaryCoder=Ep,a.EXTENT=Ma,a.ErrorEvent=Nt,a.EvaluationParameters=Sa,a.Event=nr,a.Evented=hr,a.FeatureIndex=Qf,a.FillBucket=Vu,a.FillExtrusionBucket=Hu,a.ImageAtlas=Gd,a.ImagePosition=mp,a.LineBucket=cs,a.LngLat=Ri,a.LngLatBounds=co,a.MercatorCoordinate=Qh,a.ONE_EM=Bo,a.OverscaledTileID=ho,a.Point=r,a.Point$1=r,a.Properties=ci,a.Protobuf=gp,a.RGBAImage=Cs,a.RequestManager=Ue,a.RequestPerformance=m3,a.ResourceType=yr,a.SegmentVector=uo,a.SourceFeatureState=jv,a.StructArrayLayout1ui2=Uc,a.StructArrayLayout2f1f2i16=Nu,a.StructArrayLayout2i4=Yf,a.StructArrayLayout3ui6=Bu,a.StructArrayLayout4i8=Ld,a.SymbolBucket=mi,a.Texture=$h,a.Tile=Lo,a.Transitionable=ai,a.Uniform1f=Xr,a.Uniform1i=Fr,a.Uniform2f=Yr,a.Uniform3f=jr,a.Uniform4f=Jr,a.UniformColor=cn,a.UniformMatrix4f=Bn,a.UnwrappedTileID=p3,a.ValidationError=Nr,a.WritingMode=ol,a.ZoomHistory=jt,a.add=Lv,a.addDynamicAttributes=xm,a.asyncAll=c,a.bezier=l,a.bindAll=L,a.browser=le,a.cacheEntryPossiblyAdded=kt,a.clamp=h,a.clearTileCache=mr,a.clipLine=Qb,a.clone=Mv,a.clone$1=B,a.clone$2=qy,a.collisionCircleLayout=y8,a.config=ie,a.create=Sv,a.create$1=Zo,a.create$2=Av,a.createCommonjsModule=x,a.createExpression=tl,a.createLayout=Li,a.createStyleLayer=LE,a.cross=VS,a.deepEqual=n,a.dot=US,a.dot$1=YS,a.ease=y,a.emitValidationErrors=Ia,a.endsWith=T,a.enforceCacheSizeLimit=Kt,a.evaluateSizeForFeature=Wb,a.evaluateSizeForZoom=Yb,a.evaluateVariableOffset=t3,a.evented=Ea,a.extend=w,a.featureFilter=nl,a.filterObject=_,a.fromRotation=jc,a.getAnchorAlignment=pm,a.getAnchorJustification=mm,a.getArrayBuffer=Vt,a.getImage=Ft,a.getJSON=Dt,a.getRTLTextPluginStatus=Fa,a.getReferrer=bt,a.getVideo=Jt,a.identity=Ev,a.invert=Gc,a.isChar=Gt,a.isMapboxURL=Be,a.keysDifference=d,a.makeRequest=It,a.mapObject=k,a.mercatorXfromLng=h3,a.mercatorYfromLat=v3,a.mercatorZfromAltitude=d3,a.mul=Qy,a.multiply=Wc,a.mvt=Dv,a.nextPowerOfTwo=b,a.normalize=Fd,a.number=Pi,a.offscreenCanvasSupported=Qt,a.ortho=$y,a.parseGlyphPBF=G8,a.pbf=gp,a.performSymbolLayout=lE,a.perspective=kd,a.pick=A,a.plugin=Jn,a.polygonIntersectsPolygon=ja,a.postMapLoadEvent=He,a.postTurnstileEvent=Ve,a.potpack=zb,a.refProperties=zE,a.register=ze,a.registerForPluginStateChange=ni,a.renderColorRamp=pb,a.rotate=Zh,a.rotateX=Es,a.rotateZ=Cv,a.scale=Ms,a.scale$1=WS,a.scale$2=tm,a.setCacheLimits=mt,a.setRTLTextPlugin=Ni,a.sphericalToCartesian=W,a.sqrLen=KS,a.styleSpec=Sr,a.sub=jS,a.symbolSize=q8,a.transformMat3=HS,a.transformMat4=fp,a.translate=Xi,a.triggerPluginCompletionEvent=ca,a.uniqueId=m,a.validateCustomStyleLayer=ME,a.validateLight=Zn,a.validateStyle=_n,a.values=o,a.vectorTile=Dv,a.version=M,a.warnOnce=N,a.webpSupported=ce,a.window=i,a.wrap=S}),P(["./shared"],function(a){function x(bt){var lt=typeof bt;if(lt==="number"||lt==="boolean"||lt==="string"||bt===void 0||bt===null)return JSON.stringify(bt);if(Array.isArray(bt)){for(var Tt="[",Ct=0,It=bt;Ct<It.length;Ct+=1){var Dt=It[Ct];Tt+=x(Dt)+","}return Tt+"]"}for(var Vt=Object.keys(bt).sort(),Bt="{",$t=0;$t<Vt.length;$t++)Bt+=JSON.stringify(Vt[$t])+":"+x(bt[Vt[$t]])+",";return Bt+"}"}function M(bt){for(var lt="",Tt=0,Ct=a.refProperties;Tt<Ct.length;Tt+=1){var It=Ct[Tt];lt+="/"+x(bt[It])}return lt}function v(bt,lt){for(var Tt={},Ct=0;Ct<bt.length;Ct++){var It=lt&&lt[bt[Ct].id]||M(bt[Ct]);lt&&(lt[bt[Ct].id]=It);var Dt=Tt[It];Dt||(Dt=Tt[It]=[]),Dt.push(bt[Ct])}var Vt=[];for(var Bt in Tt)Vt.push(Tt[Bt]);return Vt}var p=function(lt){this.keyCache={},lt&&this.replace(lt)};p.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},p.prototype.update=function(lt,Tt){for(var Ct=this,It=0,Dt=lt;It<Dt.length;It+=1){var Vt=Dt[It];this._layerConfigs[Vt.id]=Vt;var Bt=this._layers[Vt.id]=a.createStyleLayer(Vt);Bt._featureFilter=a.featureFilter(Bt.filter),this.keyCache[Vt.id]&&delete this.keyCache[Vt.id]}for(var $t=0,fr=Tt;$t<fr.length;$t+=1){var cr=fr[$t];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var dr=v(a.values(this._layerConfigs),this.keyCache),Ye=0,je=dr;Ye<je.length;Ye+=1){var zt=je[Ye],Ft=zt.map(function(hr){return Ct._layers[hr.id]}),Jt=Ft[0];if(Jt.visibility!=="none"){var tr=Jt.source||"",ur=this.familiesBySource[tr];ur||(ur=this.familiesBySource[tr]={});var nr=Jt.sourceLayer||"_geojsonTileLayer",Nt=ur[nr];Nt||(Nt=ur[nr]=[]),Nt.push(Ft)}}};var r=1,t=function(lt){var Tt={},Ct=[];for(var It in lt){var Dt=lt[It],Vt=Tt[It]={};for(var Bt in Dt){var $t=Dt[+Bt];if(!(!$t||$t.bitmap.width===0||$t.bitmap.height===0)){var fr={x:0,y:0,w:$t.bitmap.width+2*r,h:$t.bitmap.height+2*r};Ct.push(fr),Vt[Bt]={rect:fr,metrics:$t.metrics}}}}var cr=a.potpack(Ct),dr=cr.w,Ye=cr.h,je=new a.AlphaImage({width:dr||1,height:Ye||1});for(var zt in lt){var Ft=lt[zt];for(var Jt in Ft){var tr=Ft[+Jt];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var ur=Tt[zt][Jt].rect;a.AlphaImage.copy(tr.bitmap,je,{x:0,y:0},{x:ur.x+r,y:ur.y+r},tr.bitmap)}}}this.image=je,this.positions=Tt};a.register("GlyphAtlas",t);var i=function(lt){this.tileID=new a.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};i.prototype.parse=function(lt,Tt,Ct,It,Dt){var Vt=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new a.CollisionBoxArray;var Bt=new a.DictionaryCoder(Object.keys(lt.layers).sort()),$t=new a.FeatureIndex(this.tileID,this.promoteId);$t.bucketLayerIDs=[];var fr={},cr={featureIndex:$t,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ct},dr=Tt.familiesBySource[this.source];for(var Ye in dr){var je=lt.layers[Ye];if(je){je.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ye+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var zt=Bt.encode(Ye),Ft=[],Jt=0;Jt<je.length;Jt++){var tr=je.feature(Jt),ur=$t.getId(tr,Ye);Ft.push({feature:tr,id:ur,index:Jt,sourceLayerIndex:zt})}for(var nr=0,Nt=dr[Ye];nr<Nt.length;nr+=1){var hr=Nt[nr],gr=hr[0];if(!(gr.minzoom&&this.zoom<Math.floor(gr.minzoom))&&!(gr.maxzoom&&this.zoom>=gr.maxzoom)&&gr.visibility!=="none"){n(hr,this.zoom,Ct);var br=fr[gr.id]=gr.createBucket({index:$t.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zt,sourceID:this.source});br.populate(Ft,cr,this.tileID.canonical),$t.bucketLayerIDs.push(hr.map(function(Ar){return Ar.id}))}}}}var vr,Gr,Dr,_r,hn=a.mapObject(cr.glyphDependencies,function(Ar){return Object.keys(Ar).map(Number)});Object.keys(hn).length?It.send("getGlyphs",{uid:this.uid,stacks:hn},function(Ar,Pr){vr||(vr=Ar,Gr=Pr,Cn.call(Vt))}):Gr={};var nn=Object.keys(cr.iconDependencies);nn.length?It.send("getImages",{icons:nn,source:this.source,tileID:this.tileID,type:"icons"},function(Ar,Pr){vr||(vr=Ar,Dr=Pr,Cn.call(Vt))}):Dr={};var Pn=Object.keys(cr.patternDependencies);Pn.length?It.send("getImages",{icons:Pn,source:this.source,tileID:this.tileID,type:"patterns"},function(Ar,Pr){vr||(vr=Ar,_r=Pr,Cn.call(Vt))}):_r={},Cn.call(this);function Cn(){if(vr)return Dt(vr);if(Gr&&Dr&&_r){var Ar=new t(Gr),Pr=new a.ImageAtlas(Dr,_r);for(var Wr in fr){var Vr=fr[Wr];Vr instanceof a.SymbolBucket?(n(Vr.layers,this.zoom,Ct),a.performSymbolLayout(Vr,Gr,Ar.positions,Dr,Pr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Vr.hasPattern&&(Vr instanceof a.LineBucket||Vr instanceof a.FillBucket||Vr instanceof a.FillExtrusionBucket)&&(n(Vr.layers,this.zoom,Ct),Vr.addFeatures(cr,this.tileID.canonical,Pr.patternPositions))}this.status="done",Dt(null,{buckets:a.values(fr).filter(function(on){return!on.isEmpty()}),featureIndex:$t,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ar.image,imageAtlas:Pr,glyphMap:this.returnDependencies?Gr:null,iconMap:this.returnDependencies?Dr:null,glyphPositions:this.returnDependencies?Ar.positions:null})}}};function n(bt,lt,Tt){for(var Ct=new a.EvaluationParameters(lt),It=0,Dt=bt;It<Dt.length;It+=1){var Vt=Dt[It];Vt.recalculate(Ct,Tt)}}function u(bt,lt){var Tt=a.getArrayBuffer(bt.request,function(Ct,It,Dt,Vt){Ct?lt(Ct):It&&lt(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(It)),rawData:It,cacheControl:Dt,expires:Vt})});return function(){Tt.cancel(),lt()}}var f=function(lt,Tt,Ct,It){this.actor=lt,this.layerIndex=Tt,this.availableImages=Ct,this.loadVectorData=It||u,this.loading={},this.loaded={}};f.prototype.loadTile=function(lt,Tt){var Ct=this,It=lt.uid;this.loading||(this.loading={});var Dt=lt&&lt.request&&lt.request.collectResourceTiming?new a.RequestPerformance(lt.request):!1,Vt=this.loading[It]=new i(lt);Vt.abort=this.loadVectorData(lt,function(Bt,$t){if(delete Ct.loading[It],Bt||!$t)return Vt.status="done",Ct.loaded[It]=Vt,Tt(Bt);var fr=$t.rawData,cr={};$t.expires&&(cr.expires=$t.expires),$t.cacheControl&&(cr.cacheControl=$t.cacheControl);var dr={};if(Dt){var Ye=Dt.finish();Ye&&(dr.resourceTiming=JSON.parse(JSON.stringify(Ye)))}Vt.vectorTile=$t.vectorTile,Vt.parse($t.vectorTile,Ct.layerIndex,Ct.availableImages,Ct.actor,function(je,zt){if(je||!zt)return Tt(je);Tt(null,a.extend({rawTileData:fr.slice(0)},zt,cr,dr))}),Ct.loaded=Ct.loaded||{},Ct.loaded[It]=Vt})},f.prototype.reloadTile=function(lt,Tt){var Ct=this,It=this.loaded,Dt=lt.uid,Vt=this;if(It&&It[Dt]){var Bt=It[Dt];Bt.showCollisionBoxes=lt.showCollisionBoxes;var $t=function(fr,cr){var dr=Bt.reloadCallback;dr&&(delete Bt.reloadCallback,Bt.parse(Bt.vectorTile,Vt.layerIndex,Ct.availableImages,Vt.actor,dr)),Tt(fr,cr)};Bt.status==="parsing"?Bt.reloadCallback=$t:Bt.status==="done"&&(Bt.vectorTile?Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,$t):$t())}},f.prototype.abortTile=function(lt,Tt){var Ct=this.loading,It=lt.uid;Ct&&Ct[It]&&Ct[It].abort&&(Ct[It].abort(),delete Ct[It]),Tt()},f.prototype.removeTile=function(lt,Tt){var Ct=this.loaded,It=lt.uid;Ct&&Ct[It]&&delete Ct[It],Tt()};var l=a.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(lt,Tt){var Ct=lt.uid,It=lt.encoding,Dt=lt.rawImageData,Vt=l&&Dt instanceof l?this.getImageData(Dt):Dt,Bt=new a.DEMData(Ct,Vt,It);this.loaded=this.loaded||{},this.loaded[Ct]=Bt,Tt(null,Bt)},y.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var Tt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Tt.width,height:Tt.height},Tt.data)},y.prototype.removeTile=function(lt){var Tt=this.loaded,Ct=lt.uid;Tt&&Tt[Ct]&&delete Tt[Ct]};var h=S;function S(bt,lt){var Tt=bt&&bt.type,Ct;if(Tt==="FeatureCollection")for(Ct=0;Ct<bt.features.length;Ct++)S(bt.features[Ct],lt);else if(Tt==="GeometryCollection")for(Ct=0;Ct<bt.geometries.length;Ct++)S(bt.geometries[Ct],lt);else if(Tt==="Feature")S(bt.geometry,lt);else if(Tt==="Polygon")c(bt.coordinates,lt);else if(Tt==="MultiPolygon")for(Ct=0;Ct<bt.coordinates.length;Ct++)c(bt.coordinates[Ct],lt);return bt}function c(bt,lt){if(bt.length!==0){o(bt[0],lt);for(var Tt=1;Tt<bt.length;Tt++)o(bt[Tt],!lt)}}function o(bt,lt){for(var Tt=0,Ct=0,It=bt.length,Dt=It-1;Ct<It;Dt=Ct++)Tt+=(bt[Ct][0]-bt[Dt][0])*(bt[Dt][1]+bt[Ct][1]);Tt>=0!=!!lt&&bt.reverse()}var d=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(lt){this._feature=lt,this.extent=a.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};w.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],Tt=0,Ct=this._feature.geometry;Tt<Ct.length;Tt+=1){var It=Ct[Tt];lt.push([new a.Point$1(It[0],It[1])])}return lt}else{for(var Dt=[],Vt=0,Bt=this._feature.geometry;Vt<Bt.length;Vt+=1){for(var $t=Bt[Vt],fr=[],cr=0,dr=$t;cr<dr.length;cr+=1){var Ye=dr[cr];fr.push(new a.Point$1(Ye[0],Ye[1]))}Dt.push(fr)}return Dt}},w.prototype.toGeoJSON=function(lt,Tt,Ct){return d.call(this,lt,Tt,Ct)};var A=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=lt.length,this._features=lt};A.prototype.feature=function(lt){return new w(this._features[lt])};var C=a.vectorTile.VectorTileFeature,m=E;function E(bt,lt){this.options=lt||{},this.features=bt,this.length=bt.length}E.prototype.feature=function(bt){return new b(this.features[bt],this.options.extent)};function b(bt,lt){this.id=typeof bt.id=="number"?bt.id:void 0,this.type=bt.type,this.rawGeometry=bt.type===1?[bt.geometry]:bt.geometry,this.properties=bt.tags,this.extent=lt||4096}b.prototype.loadGeometry=function(){var bt=this.rawGeometry;this.geometry=[];for(var lt=0;lt<bt.length;lt++){for(var Tt=bt[lt],Ct=[],It=0;It<Tt.length;It++)Ct.push(new a.Point$1(Tt[It][0],Tt[It][1]));this.geometry.push(Ct)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var bt=this.geometry,lt=1/0,Tt=-1/0,Ct=1/0,It=-1/0,Dt=0;Dt<bt.length;Dt++)for(var Vt=bt[Dt],Bt=0;Bt<Vt.length;Bt++){var $t=Vt[Bt];lt=Math.min(lt,$t.x),Tt=Math.max(Tt,$t.x),Ct=Math.min(Ct,$t.y),It=Math.max(It,$t.y)}return[lt,Ct,Tt,It]},b.prototype.toGeoJSON=C.prototype.toGeoJSON;var s=_,L=_,T=B,k=m;function _(bt){var lt=new a.pbf;return F(bt,lt),lt.finish()}function B(bt,lt){lt=lt||{};var Tt={};for(var Ct in bt)Tt[Ct]=new m(bt[Ct].features,lt),Tt[Ct].name=Ct,Tt[Ct].version=lt.version,Tt[Ct].extent=lt.extent;return _({layers:Tt})}function F(bt,lt){for(var Tt in bt.layers)lt.writeMessage(3,O,bt.layers[Tt])}function O(bt,lt){lt.writeVarintField(15,bt.version||1),lt.writeStringField(1,bt.name||""),lt.writeVarintField(5,bt.extent||4096);var Tt,Ct={keys:[],values:[],keycache:{},valuecache:{}};for(Tt=0;Tt<bt.length;Tt++)Ct.feature=bt.feature(Tt),lt.writeMessage(2,N,Ct);var It=Ct.keys;for(Tt=0;Tt<It.length;Tt++)lt.writeStringField(3,It[Tt]);var Dt=Ct.values;for(Tt=0;Tt<Dt.length;Tt++)lt.writeMessage(4,re,Dt[Tt])}function N(bt,lt){var Tt=bt.feature;Tt.id!==void 0&&lt.writeVarintField(1,Tt.id),lt.writeMessage(2,z,bt),lt.writeVarintField(3,Tt.type),lt.writeMessage(4,$,Tt)}function z(bt,lt){var Tt=bt.feature,Ct=bt.keys,It=bt.values,Dt=bt.keycache,Vt=bt.valuecache;for(var Bt in Tt.properties){var $t=Dt[Bt];typeof $t>"u"&&(Ct.push(Bt),$t=Ct.length-1,Dt[Bt]=$t),lt.writeVarint($t);var fr=Tt.properties[Bt],cr=typeof fr;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(fr=JSON.stringify(fr));var dr=cr+":"+fr,Ye=Vt[dr];typeof Ye>"u"&&(It.push(fr),Ye=It.length-1,Vt[dr]=Ye),lt.writeVarint(Ye)}}function V(bt,lt){return(lt<<3)+(bt&7)}function W(bt){return bt<<1^bt>>31}function $(bt,lt){for(var Tt=bt.loadGeometry(),Ct=bt.type,It=0,Dt=0,Vt=Tt.length,Bt=0;Bt<Vt;Bt++){var $t=Tt[Bt],fr=1;Ct===1&&(fr=$t.length),lt.writeVarint(V(1,fr));for(var cr=Ct===3?$t.length-1:$t.length,dr=0;dr<cr;dr++){dr===1&&Ct!==1&&lt.writeVarint(V(2,cr-1));var Ye=$t[dr].x-It,je=$t[dr].y-Dt;lt.writeVarint(W(Ye)),lt.writeVarint(W(je)),It+=Ye,Dt+=je}Ct===3&&lt.writeVarint(V(7,1))}}function re(bt,lt){var Tt=typeof bt;Tt==="string"?lt.writeStringField(1,bt):Tt==="boolean"?lt.writeBooleanField(7,bt):Tt==="number"&&(bt%1!==0?lt.writeDoubleField(3,bt):bt<0?lt.writeSVarintField(6,bt):lt.writeVarintField(5,bt))}s.fromVectorTileJs=L,s.fromGeojsonVt=T,s.GeoJSONWrapper=k;function ne(bt,lt,Tt,Ct,It,Dt){if(!(It-Ct<=Tt)){var Vt=Ct+It>>1;ue(bt,lt,Vt,Ct,It,Dt%2),ne(bt,lt,Tt,Ct,Vt-1,Dt+1),ne(bt,lt,Tt,Vt+1,It,Dt+1)}}function ue(bt,lt,Tt,Ct,It,Dt){for(;It>Ct;){if(It-Ct>600){var Vt=It-Ct+1,Bt=Tt-Ct+1,$t=Math.log(Vt),fr=.5*Math.exp(2*$t/3),cr=.5*Math.sqrt($t*fr*(Vt-fr)/Vt)*(Bt-Vt/2<0?-1:1),dr=Math.max(Ct,Math.floor(Tt-Bt*fr/Vt+cr)),Ye=Math.min(It,Math.floor(Tt+(Vt-Bt)*fr/Vt+cr));ue(bt,lt,Tt,dr,Ye,Dt)}var je=lt[2*Tt+Dt],zt=Ct,Ft=It;for(J(bt,lt,Ct,Tt),lt[2*It+Dt]>je&&J(bt,lt,Ct,It);zt<Ft;){for(J(bt,lt,zt,Ft),zt++,Ft--;lt[2*zt+Dt]<je;)zt++;for(;lt[2*Ft+Dt]>je;)Ft--}lt[2*Ct+Dt]===je?J(bt,lt,Ct,Ft):(Ft++,J(bt,lt,Ft,It)),Ft<=Tt&&(Ct=Ft+1),Tt<=Ft&&(It=Ft-1)}}function J(bt,lt,Tt,Ct){X(bt,Tt,Ct),X(lt,2*Tt,2*Ct),X(lt,2*Tt+1,2*Ct+1)}function X(bt,lt,Tt){var Ct=bt[lt];bt[lt]=bt[Tt],bt[Tt]=Ct}function oe(bt,lt,Tt,Ct,It,Dt,Vt){for(var Bt=[0,bt.length-1,0],$t=[],fr,cr;Bt.length;){var dr=Bt.pop(),Ye=Bt.pop(),je=Bt.pop();if(Ye-je<=Vt){for(var zt=je;zt<=Ye;zt++)fr=lt[2*zt],cr=lt[2*zt+1],fr>=Tt&&fr<=It&&cr>=Ct&&cr<=Dt&&$t.push(bt[zt]);continue}var Ft=Math.floor((je+Ye)/2);fr=lt[2*Ft],cr=lt[2*Ft+1],fr>=Tt&&fr<=It&&cr>=Ct&&cr<=Dt&&$t.push(bt[Ft]);var Jt=(dr+1)%2;(dr===0?Tt<=fr:Ct<=cr)&&(Bt.push(je),Bt.push(Ft-1),Bt.push(Jt)),(dr===0?It>=fr:Dt>=cr)&&(Bt.push(Ft+1),Bt.push(Ye),Bt.push(Jt))}return $t}function Y(bt,lt,Tt,Ct,It,Dt){for(var Vt=[0,bt.length-1,0],Bt=[],$t=It*It;Vt.length;){var fr=Vt.pop(),cr=Vt.pop(),dr=Vt.pop();if(cr-dr<=Dt){for(var Ye=dr;Ye<=cr;Ye++)q(lt[2*Ye],lt[2*Ye+1],Tt,Ct)<=$t&&Bt.push(bt[Ye]);continue}var je=Math.floor((dr+cr)/2),zt=lt[2*je],Ft=lt[2*je+1];q(zt,Ft,Tt,Ct)<=$t&&Bt.push(bt[je]);var Jt=(fr+1)%2;(fr===0?Tt-It<=zt:Ct-It<=Ft)&&(Vt.push(dr),Vt.push(je-1),Vt.push(Jt)),(fr===0?Tt+It>=zt:Ct+It>=Ft)&&(Vt.push(je+1),Vt.push(cr),Vt.push(Jt))}return Bt}function q(bt,lt,Tt,Ct){var It=bt-Tt,Dt=lt-Ct;return It*It+Dt*Dt}var se=function(bt){return bt[0]},Q=function(bt){return bt[1]},K=function(lt,Tt,Ct,It,Dt){Tt===void 0&&(Tt=se),Ct===void 0&&(Ct=Q),It===void 0&&(It=64),Dt===void 0&&(Dt=Float64Array),this.nodeSize=It,this.points=lt;for(var Vt=lt.length<65536?Uint16Array:Uint32Array,Bt=this.ids=new Vt(lt.length),$t=this.coords=new Dt(lt.length*2),fr=0;fr<lt.length;fr++)Bt[fr]=fr,$t[2*fr]=Tt(lt[fr]),$t[2*fr+1]=Ct(lt[fr]);ne(Bt,$t,It,0,Bt.length-1,0)};K.prototype.range=function(lt,Tt,Ct,It){return oe(this.ids,this.coords,lt,Tt,Ct,It,this.nodeSize)},K.prototype.within=function(lt,Tt,Ct){return Y(this.ids,this.coords,lt,Tt,Ct,this.nodeSize)};var le={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(bt){return bt}},ie=function(lt){this.options=Pe(Object.create(le),lt),this.trees=new Array(this.options.maxZoom+1)};ie.prototype.load=function(lt){var Tt=this.options,Ct=Tt.log,It=Tt.minZoom,Dt=Tt.maxZoom,Vt=Tt.nodeSize;Ct&&console.time("total time");var Bt="prepare "+lt.length+" points";Ct&&console.time(Bt),this.points=lt;for(var $t=[],fr=0;fr<lt.length;fr++)lt[fr].geometry&&$t.push(ye(lt[fr],fr));this.trees[Dt+1]=new K($t,Ue,Be,Vt,Float32Array),Ct&&console.timeEnd(Bt);for(var cr=Dt;cr>=It;cr--){var dr=+Date.now();$t=this._cluster($t,cr),this.trees[cr]=new K($t,Ue,Be,Vt,Float32Array),Ct&&console.log("z%d: %d clusters in %dms",cr,$t.length,+Date.now()-dr)}return Ct&&console.timeEnd("total time"),this},ie.prototype.getClusters=function(lt,Tt){var Ct=((lt[0]+180)%360+360)%360-180,It=Math.max(-90,Math.min(90,lt[1])),Dt=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,Vt=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)Ct=-180,Dt=180;else if(Ct>Dt){var Bt=this.getClusters([Ct,It,180,Vt],Tt),$t=this.getClusters([-180,It,Dt,Vt],Tt);return Bt.concat($t)}for(var fr=this.trees[this._limitZoom(Tt)],cr=fr.range(ke(Ct),we(Vt),ke(Dt),we(It)),dr=[],Ye=0,je=cr;Ye<je.length;Ye+=1){var zt=je[Ye],Ft=fr.points[zt];dr.push(Ft.numPoints?Ce(Ft):this.points[Ft.index])}return dr},ie.prototype.getChildren=function(lt){var Tt=this._getOriginId(lt),Ct=this._getOriginZoom(lt),It="No cluster with the specified id.",Dt=this.trees[Ct];if(!Dt)throw new Error(It);var Vt=Dt.points[Tt];if(!Vt)throw new Error(It);for(var Bt=this.options.radius/(this.options.extent*Math.pow(2,Ct-1)),$t=Dt.within(Vt.x,Vt.y,Bt),fr=[],cr=0,dr=$t;cr<dr.length;cr+=1){var Ye=dr[cr],je=Dt.points[Ye];je.parentId===lt&&fr.push(je.numPoints?Ce(je):this.points[je.index])}if(fr.length===0)throw new Error(It);return fr},ie.prototype.getLeaves=function(lt,Tt,Ct){Tt=Tt||10,Ct=Ct||0;var It=[];return this._appendLeaves(It,lt,Tt,Ct,0),It},ie.prototype.getTile=function(lt,Tt,Ct){var It=this.trees[this._limitZoom(lt)],Dt=Math.pow(2,lt),Vt=this.options,Bt=Vt.extent,$t=Vt.radius,fr=$t/Bt,cr=(Ct-fr)/Dt,dr=(Ct+1+fr)/Dt,Ye={features:[]};return this._addTileFeatures(It.range((Tt-fr)/Dt,cr,(Tt+1+fr)/Dt,dr),It.points,Tt,Ct,Dt,Ye),Tt===0&&this._addTileFeatures(It.range(1-fr/Dt,cr,1,dr),It.points,Dt,Ct,Dt,Ye),Tt===Dt-1&&this._addTileFeatures(It.range(0,cr,fr/Dt,dr),It.points,-1,Ct,Dt,Ye),Ye.features.length?Ye:null},ie.prototype.getClusterExpansionZoom=function(lt){for(var Tt=this._getOriginZoom(lt)-1;Tt<=this.options.maxZoom;){var Ct=this.getChildren(lt);if(Tt++,Ct.length!==1)break;lt=Ct[0].properties.cluster_id}return Tt},ie.prototype._appendLeaves=function(lt,Tt,Ct,It,Dt){for(var Vt=this.getChildren(Tt),Bt=0,$t=Vt;Bt<$t.length;Bt+=1){var fr=$t[Bt],cr=fr.properties;if(cr&&cr.cluster?Dt+cr.point_count<=It?Dt+=cr.point_count:Dt=this._appendLeaves(lt,cr.cluster_id,Ct,It,Dt):Dt<It?Dt++:lt.push(fr),lt.length===Ct)break}return Dt},ie.prototype._addTileFeatures=function(lt,Tt,Ct,It,Dt,Vt){for(var Bt=0,$t=lt;Bt<$t.length;Bt+=1){var fr=$t[Bt],cr=Tt[fr],dr=cr.numPoints,Ye={type:1,geometry:[[Math.round(this.options.extent*(cr.x*Dt-Ct)),Math.round(this.options.extent*(cr.y*Dt-It))]],tags:dr?Ae(cr):this.points[cr.index].properties},je=void 0;dr?je=cr.id:this.options.generateId?je=cr.index:this.points[cr.index].id&&(je=this.points[cr.index].id),je!==void 0&&(Ye.id=je),Vt.features.push(Ye)}},ie.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(+lt,this.options.maxZoom+1))},ie.prototype._cluster=function(lt,Tt){for(var Ct=[],It=this.options,Dt=It.radius,Vt=It.extent,Bt=It.reduce,$t=It.minPoints,fr=Dt/(Vt*Math.pow(2,Tt)),cr=0;cr<lt.length;cr++){var dr=lt[cr];if(!(dr.zoom<=Tt)){dr.zoom=Tt;for(var Ye=this.trees[Tt+1],je=Ye.within(dr.x,dr.y,fr),zt=dr.numPoints||1,Ft=zt,Jt=0,tr=je;Jt<tr.length;Jt+=1){var ur=tr[Jt],nr=Ye.points[ur];nr.zoom>Tt&&(Ft+=nr.numPoints||1)}if(Ft>=$t){for(var Nt=dr.x*zt,hr=dr.y*zt,gr=Bt&&zt>1?this._map(dr,!0):null,br=(cr<<5)+(Tt+1)+this.points.length,vr=0,Gr=je;vr<Gr.length;vr+=1){var Dr=Gr[vr],_r=Ye.points[Dr];if(!(_r.zoom<=Tt)){_r.zoom=Tt;var hn=_r.numPoints||1;Nt+=_r.x*hn,hr+=_r.y*hn,_r.parentId=br,Bt&&(gr||(gr=this._map(dr,!0)),Bt(gr,this._map(_r)))}}dr.parentId=br,Ct.push(ce(Nt/Ft,hr/Ft,br,Ft,gr))}else if(Ct.push(dr),Ft>1)for(var nn=0,Pn=je;nn<Pn.length;nn+=1){var Cn=Pn[nn],Ar=Ye.points[Cn];Ar.zoom<=Tt||(Ar.zoom=Tt,Ct.push(Ar))}}}return Ct},ie.prototype._getOriginId=function(lt){return lt-this.points.length>>5},ie.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},ie.prototype._map=function(lt,Tt){if(lt.numPoints)return Tt?Pe({},lt.properties):lt.properties;var Ct=this.points[lt.index].properties,It=this.options.map(Ct);return Tt&&It===Ct?Pe({},It):It};function ce(bt,lt,Tt,Ct,It){return{x:bt,y:lt,zoom:1/0,id:Tt,parentId:-1,numPoints:Ct,properties:It}}function ye(bt,lt){var Tt=bt.geometry.coordinates,Ct=Tt[0],It=Tt[1];return{x:ke(Ct),y:we(It),zoom:1/0,index:lt,parentId:-1}}function Ce(bt){return{type:"Feature",id:bt.id,properties:Ae(bt),geometry:{type:"Point",coordinates:[Ee(bt.x),xe(bt.y)]}}}function Ae(bt){var lt=bt.numPoints,Tt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Pe(Pe({},bt.properties),{cluster:!0,cluster_id:bt.id,point_count:lt,point_count_abbreviated:Tt})}function ke(bt){return bt/360+.5}function we(bt){var lt=Math.sin(bt*Math.PI/180),Tt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return Tt<0?0:Tt>1?1:Tt}function Ee(bt){return(bt-.5)*360}function xe(bt){var lt=(180-bt*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Pe(bt,lt){for(var Tt in lt)bt[Tt]=lt[Tt];return bt}function Ue(bt){return bt.x}function Be(bt){return bt.y}function Ne(bt,lt,Tt,Ct){for(var It=Ct,Dt=Tt-lt>>1,Vt=Tt-lt,Bt,$t=bt[lt],fr=bt[lt+1],cr=bt[Tt],dr=bt[Tt+1],Ye=lt+3;Ye<Tt;Ye+=3){var je=Xe(bt[Ye],bt[Ye+1],$t,fr,cr,dr);if(je>It)Bt=Ye,It=je;else if(je===It){var zt=Math.abs(Ye-Dt);zt<Vt&&(Bt=Ye,Vt=zt)}}It>Ct&&(Bt-lt>3&&Ne(bt,lt,Bt,Ct),bt[Bt+2]=It,Tt-Bt>3&&Ne(bt,Bt,Tt,Ct))}function Xe(bt,lt,Tt,Ct,It,Dt){var Vt=It-Tt,Bt=Dt-Ct;if(Vt!==0||Bt!==0){var $t=((bt-Tt)*Vt+(lt-Ct)*Bt)/(Vt*Vt+Bt*Bt);$t>1?(Tt=It,Ct=Dt):$t>0&&(Tt+=Vt*$t,Ct+=Bt*$t)}return Vt=bt-Tt,Bt=lt-Ct,Vt*Vt+Bt*Bt}function ut(bt,lt,Tt,Ct){var It={id:typeof bt>"u"?null:bt,type:lt,geometry:Tt,tags:Ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return dt(It),It}function dt(bt){var lt=bt.geometry,Tt=bt.type;if(Tt==="Point"||Tt==="MultiPoint"||Tt==="LineString")at(bt,lt);else if(Tt==="Polygon"||Tt==="MultiLineString")for(var Ct=0;Ct<lt.length;Ct++)at(bt,lt[Ct]);else if(Tt==="MultiPolygon")for(Ct=0;Ct<lt.length;Ct++)for(var It=0;It<lt[Ct].length;It++)at(bt,lt[Ct][It])}function at(bt,lt){for(var Tt=0;Tt<lt.length;Tt+=3)bt.minX=Math.min(bt.minX,lt[Tt]),bt.minY=Math.min(bt.minY,lt[Tt+1]),bt.maxX=Math.max(bt.maxX,lt[Tt]),bt.maxY=Math.max(bt.maxY,lt[Tt+1])}function We(bt,lt){var Tt=[];if(bt.type==="FeatureCollection")for(var Ct=0;Ct<bt.features.length;Ct++)rt(Tt,bt.features[Ct],lt,Ct);else bt.type==="Feature"?rt(Tt,bt,lt):rt(Tt,{geometry:bt},lt);return Tt}function rt(bt,lt,Tt,Ct){if(lt.geometry){var It=lt.geometry.coordinates,Dt=lt.geometry.type,Vt=Math.pow(Tt.tolerance/((1<<Tt.maxZoom)*Tt.extent),2),Bt=[],$t=lt.id;if(Tt.promoteId?$t=lt.properties[Tt.promoteId]:Tt.generateId&&($t=Ct||0),Dt==="Point")st(It,Bt);else if(Dt==="MultiPoint")for(var fr=0;fr<It.length;fr++)st(It[fr],Bt);else if(Dt==="LineString")ht(It,Bt,Vt,!1);else if(Dt==="MultiLineString")if(Tt.lineMetrics){for(fr=0;fr<It.length;fr++)Bt=[],ht(It[fr],Bt,Vt,!1),bt.push(ut($t,"LineString",Bt,lt.properties));return}else vt(It,Bt,Vt,!1);else if(Dt==="Polygon")vt(It,Bt,Vt,!0);else if(Dt==="MultiPolygon")for(fr=0;fr<It.length;fr++){var cr=[];vt(It[fr],cr,Vt,!0),Bt.push(cr)}else if(Dt==="GeometryCollection"){for(fr=0;fr<lt.geometry.geometries.length;fr++)rt(bt,{id:$t,geometry:lt.geometry.geometries[fr],properties:lt.properties},Tt,Ct);return}else throw new Error("Input data is not a valid GeoJSON object.");bt.push(ut($t,Dt,Bt,lt.properties))}}function st(bt,lt){lt.push(At(bt[0])),lt.push(et(bt[1])),lt.push(0)}function ht(bt,lt,Tt,Ct){for(var It,Dt,Vt=0,Bt=0;Bt<bt.length;Bt++){var $t=At(bt[Bt][0]),fr=et(bt[Bt][1]);lt.push($t),lt.push(fr),lt.push(0),Bt>0&&(Ct?Vt+=(It*fr-$t*Dt)/2:Vt+=Math.sqrt(Math.pow($t-It,2)+Math.pow(fr-Dt,2))),It=$t,Dt=fr}var cr=lt.length-3;lt[2]=1,Ne(lt,0,cr,Tt),lt[cr+2]=1,lt.size=Math.abs(Vt),lt.start=0,lt.end=lt.size}function vt(bt,lt,Tt,Ct){for(var It=0;It<bt.length;It++){var Dt=[];ht(bt[It],Dt,Tt,Ct),lt.push(Dt)}}function At(bt){return bt/360+.5}function et(bt){var lt=Math.sin(bt*Math.PI/180),Tt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return Tt<0?0:Tt>1?1:Tt}function _e(bt,lt,Tt,Ct,It,Dt,Vt,Bt){if(Tt/=lt,Ct/=lt,Dt>=Tt&&Vt<Ct)return bt;if(Vt<Tt||Dt>=Ct)return null;for(var $t=[],fr=0;fr<bt.length;fr++){var cr=bt[fr],dr=cr.geometry,Ye=cr.type,je=It===0?cr.minX:cr.minY,zt=It===0?cr.maxX:cr.maxY;if(je>=Tt&&zt<Ct){$t.push(cr);continue}else if(zt<Tt||je>=Ct)continue;var Ft=[];if(Ye==="Point"||Ye==="MultiPoint")Ve(dr,Ft,Tt,Ct,It);else if(Ye==="LineString")Ze(dr,Ft,Tt,Ct,It,!1,Bt.lineMetrics);else if(Ye==="MultiLineString")Ie(dr,Ft,Tt,Ct,It,!1);else if(Ye==="Polygon")Ie(dr,Ft,Tt,Ct,It,!0);else if(Ye==="MultiPolygon")for(var Jt=0;Jt<dr.length;Jt++){var tr=[];Ie(dr[Jt],tr,Tt,Ct,It,!0),tr.length&&Ft.push(tr)}if(Ft.length){if(Bt.lineMetrics&&Ye==="LineString"){for(Jt=0;Jt<Ft.length;Jt++)$t.push(ut(cr.id,Ye,Ft[Jt],cr.tags));continue}(Ye==="LineString"||Ye==="MultiLineString")&&(Ft.length===1?(Ye="LineString",Ft=Ft[0]):Ye="MultiLineString"),(Ye==="Point"||Ye==="MultiPoint")&&(Ye=Ft.length===3?"Point":"MultiPoint"),$t.push(ut(cr.id,Ye,Ft,cr.tags))}}return $t.length?$t:null}function Ve(bt,lt,Tt,Ct,It){for(var Dt=0;Dt<bt.length;Dt+=3){var Vt=bt[Dt+It];Vt>=Tt&&Vt<=Ct&&(lt.push(bt[Dt]),lt.push(bt[Dt+1]),lt.push(bt[Dt+2]))}}function Ze(bt,lt,Tt,Ct,It,Dt,Vt){for(var Bt=He(bt),$t=It===0?me:Me,fr=bt.start,cr,dr,Ye=0;Ye<bt.length-3;Ye+=3){var je=bt[Ye],zt=bt[Ye+1],Ft=bt[Ye+2],Jt=bt[Ye+3],tr=bt[Ye+4],ur=It===0?je:zt,nr=It===0?Jt:tr,Nt=!1;Vt&&(cr=Math.sqrt(Math.pow(je-Jt,2)+Math.pow(zt-tr,2))),ur<Tt?nr>Tt&&(dr=$t(Bt,je,zt,Jt,tr,Tt),Vt&&(Bt.start=fr+cr*dr)):ur>Ct?nr<Ct&&(dr=$t(Bt,je,zt,Jt,tr,Ct),Vt&&(Bt.start=fr+cr*dr)):be(Bt,je,zt,Ft),nr<Tt&&ur>=Tt&&(dr=$t(Bt,je,zt,Jt,tr,Tt),Nt=!0),nr>Ct&&ur<=Ct&&(dr=$t(Bt,je,zt,Jt,tr,Ct),Nt=!0),!Dt&&Nt&&(Vt&&(Bt.end=fr+cr*dr),lt.push(Bt),Bt=He(bt)),Vt&&(fr+=cr)}var hr=bt.length-3;je=bt[hr],zt=bt[hr+1],Ft=bt[hr+2],ur=It===0?je:zt,ur>=Tt&&ur<=Ct&&be(Bt,je,zt,Ft),hr=Bt.length-3,Dt&&hr>=3&&(Bt[hr]!==Bt[0]||Bt[hr+1]!==Bt[1])&&be(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&lt.push(Bt)}function He(bt){var lt=[];return lt.size=bt.size,lt.start=bt.start,lt.end=bt.end,lt}function Ie(bt,lt,Tt,Ct,It,Dt){for(var Vt=0;Vt<bt.length;Vt++)Ze(bt[Vt],lt,Tt,Ct,It,Dt,!1)}function be(bt,lt,Tt,Ct){bt.push(lt),bt.push(Tt),bt.push(Ct)}function me(bt,lt,Tt,Ct,It,Dt){var Vt=(Dt-lt)/(Ct-lt);return bt.push(Dt),bt.push(Tt+(It-Tt)*Vt),bt.push(1),Vt}function Me(bt,lt,Tt,Ct,It,Dt){var Vt=(Dt-Tt)/(It-Tt);return bt.push(lt+(Ct-lt)*Vt),bt.push(Dt),bt.push(1),Vt}function Te(bt,lt){var Tt=lt.buffer/lt.extent,Ct=bt,It=_e(bt,1,-1-Tt,Tt,0,-1,2,lt),Dt=_e(bt,1,1-Tt,2+Tt,0,-1,2,lt);return(It||Dt)&&(Ct=_e(bt,1,-Tt,1+Tt,0,-1,2,lt)||[],It&&(Ct=Oe(It,1).concat(Ct)),Dt&&(Ct=Ct.concat(Oe(Dt,-1)))),Ct}function Oe(bt,lt){for(var Tt=[],Ct=0;Ct<bt.length;Ct++){var It=bt[Ct],Dt=It.type,Vt;if(Dt==="Point"||Dt==="MultiPoint"||Dt==="LineString")Vt=Ke(It.geometry,lt);else if(Dt==="MultiLineString"||Dt==="Polygon"){Vt=[];for(var Bt=0;Bt<It.geometry.length;Bt++)Vt.push(Ke(It.geometry[Bt],lt))}else if(Dt==="MultiPolygon")for(Vt=[],Bt=0;Bt<It.geometry.length;Bt++){for(var $t=[],fr=0;fr<It.geometry[Bt].length;fr++)$t.push(Ke(It.geometry[Bt][fr],lt));Vt.push($t)}Tt.push(ut(It.id,Dt,Vt,It.tags))}return Tt}function Ke(bt,lt){var Tt=[];Tt.size=bt.size,bt.start!==void 0&&(Tt.start=bt.start,Tt.end=bt.end);for(var Ct=0;Ct<bt.length;Ct+=3)Tt.push(bt[Ct]+lt,bt[Ct+1],bt[Ct+2]);return Tt}function nt(bt,lt){if(bt.transformed)return bt;var Tt=1<<bt.z,Ct=bt.x,It=bt.y,Dt,Vt,Bt;for(Dt=0;Dt<bt.features.length;Dt++){var $t=bt.features[Dt],fr=$t.geometry,cr=$t.type;if($t.geometry=[],cr===1)for(Vt=0;Vt<fr.length;Vt+=2)$t.geometry.push(pt(fr[Vt],fr[Vt+1],lt,Tt,Ct,It));else for(Vt=0;Vt<fr.length;Vt++){var dr=[];for(Bt=0;Bt<fr[Vt].length;Bt+=2)dr.push(pt(fr[Vt][Bt],fr[Vt][Bt+1],lt,Tt,Ct,It));$t.geometry.push(dr)}}return bt.transformed=!0,bt}function pt(bt,lt,Tt,Ct,It,Dt){return[Math.round(Tt*(bt*Ct-It)),Math.round(Tt*(lt*Ct-Dt))]}function yt(bt,lt,Tt,Ct,It){for(var Dt=lt===It.maxZoom?0:It.tolerance/((1<<lt)*It.extent),Vt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Tt,y:Ct,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Bt=0;Bt<bt.length;Bt++){Vt.numFeatures++,Yt(Vt,bt[Bt],Dt,It);var $t=bt[Bt].minX,fr=bt[Bt].minY,cr=bt[Bt].maxX,dr=bt[Bt].maxY;$t<Vt.minX&&(Vt.minX=$t),fr<Vt.minY&&(Vt.minY=fr),cr>Vt.maxX&&(Vt.maxX=cr),dr>Vt.maxY&&(Vt.maxY=dr)}return Vt}function Yt(bt,lt,Tt,Ct){var It=lt.geometry,Dt=lt.type,Vt=[];if(Dt==="Point"||Dt==="MultiPoint")for(var Bt=0;Bt<It.length;Bt+=3)Vt.push(It[Bt]),Vt.push(It[Bt+1]),bt.numPoints++,bt.numSimplified++;else if(Dt==="LineString")Xt(Vt,It,bt,Tt,!1,!1);else if(Dt==="MultiLineString"||Dt==="Polygon")for(Bt=0;Bt<It.length;Bt++)Xt(Vt,It[Bt],bt,Tt,Dt==="Polygon",Bt===0);else if(Dt==="MultiPolygon")for(var $t=0;$t<It.length;$t++){var fr=It[$t];for(Bt=0;Bt<fr.length;Bt++)Xt(Vt,fr[Bt],bt,Tt,!0,Bt===0)}if(Vt.length){var cr=lt.tags||null;if(Dt==="LineString"&&Ct.lineMetrics){cr={};for(var dr in lt.tags)cr[dr]=lt.tags[dr];cr.mapbox_clip_start=It.start/It.size,cr.mapbox_clip_end=It.end/It.size}var Ye={geometry:Vt,type:Dt==="Polygon"||Dt==="MultiPolygon"?3:Dt==="LineString"||Dt==="MultiLineString"?2:1,tags:cr};lt.id!==null&&(Ye.id=lt.id),bt.features.push(Ye)}}function Xt(bt,lt,Tt,Ct,It,Dt){var Vt=Ct*Ct;if(Ct>0&&lt.size<(It?Vt:Ct)){Tt.numPoints+=lt.length/3;return}for(var Bt=[],$t=0;$t<lt.length;$t+=3)(Ct===0||lt[$t+2]>Vt)&&(Tt.numSimplified++,Bt.push(lt[$t]),Bt.push(lt[$t+1])),Tt.numPoints++;It&&St(Bt,Dt),bt.push(Bt)}function St(bt,lt){for(var Tt=0,Ct=0,It=bt.length,Dt=It-2;Ct<It;Dt=Ct,Ct+=2)Tt+=(bt[Ct]-bt[Dt])*(bt[Ct+1]+bt[Dt+1]);if(Tt>0===lt)for(Ct=0,It=bt.length;Ct<It/2;Ct+=2){var Vt=bt[Ct],Bt=bt[Ct+1];bt[Ct]=bt[It-2-Ct],bt[Ct+1]=bt[It-1-Ct],bt[It-2-Ct]=Vt,bt[It-1-Ct]=Bt}}function kt(bt,lt){return new Kt(bt,lt)}function Kt(bt,lt){lt=this.options=mt(Object.create(this.options),lt);var Tt=lt.debug;if(Tt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ct=We(bt,lt);this.tiles={},this.tileCoords=[],Tt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ct=Te(Ct,lt),Ct.length&&this.splitTile(Ct,0,0,0),Tt&&(Ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Kt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Kt.prototype.splitTile=function(bt,lt,Tt,Ct,It,Dt,Vt){for(var Bt=[bt,lt,Tt,Ct],$t=this.options,fr=$t.debug;Bt.length;){Ct=Bt.pop(),Tt=Bt.pop(),lt=Bt.pop(),bt=Bt.pop();var cr=1<<lt,dr=mr(lt,Tt,Ct),Ye=this.tiles[dr];if(!Ye&&(fr>1&&console.time("creation"),Ye=this.tiles[dr]=yt(bt,lt,Tt,Ct,$t),this.tileCoords.push({z:lt,x:Tt,y:Ct}),fr)){fr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,Tt,Ct,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var je="z"+lt;this.stats[je]=(this.stats[je]||0)+1,this.total++}if(Ye.source=bt,It){if(lt===$t.maxZoom||lt===It)continue;var zt=1<<It-lt;if(Tt!==Math.floor(Dt/zt)||Ct!==Math.floor(Vt/zt))continue}else if(lt===$t.indexMaxZoom||Ye.numPoints<=$t.indexMaxPoints)continue;if(Ye.source=null,bt.length!==0){fr>1&&console.time("clipping");var Ft=.5*$t.buffer/$t.extent,Jt=.5-Ft,tr=.5+Ft,ur=1+Ft,nr,Nt,hr,gr,br,vr;nr=Nt=hr=gr=null,br=_e(bt,cr,Tt-Ft,Tt+tr,0,Ye.minX,Ye.maxX,$t),vr=_e(bt,cr,Tt+Jt,Tt+ur,0,Ye.minX,Ye.maxX,$t),bt=null,br&&(nr=_e(br,cr,Ct-Ft,Ct+tr,1,Ye.minY,Ye.maxY,$t),Nt=_e(br,cr,Ct+Jt,Ct+ur,1,Ye.minY,Ye.maxY,$t),br=null),vr&&(hr=_e(vr,cr,Ct-Ft,Ct+tr,1,Ye.minY,Ye.maxY,$t),gr=_e(vr,cr,Ct+Jt,Ct+ur,1,Ye.minY,Ye.maxY,$t),vr=null),fr>1&&console.timeEnd("clipping"),Bt.push(nr||[],lt+1,Tt*2,Ct*2),Bt.push(Nt||[],lt+1,Tt*2,Ct*2+1),Bt.push(hr||[],lt+1,Tt*2+1,Ct*2),Bt.push(gr||[],lt+1,Tt*2+1,Ct*2+1)}}},Kt.prototype.getTile=function(bt,lt,Tt){var Ct=this.options,It=Ct.extent,Dt=Ct.debug;if(bt<0||bt>24)return null;var Vt=1<<bt;lt=(lt%Vt+Vt)%Vt;var Bt=mr(bt,lt,Tt);if(this.tiles[Bt])return nt(this.tiles[Bt],It);Dt>1&&console.log("drilling down to z%d-%d-%d",bt,lt,Tt);for(var $t=bt,fr=lt,cr=Tt,dr;!dr&&$t>0;)$t--,fr=Math.floor(fr/2),cr=Math.floor(cr/2),dr=this.tiles[mr($t,fr,cr)];return!dr||!dr.source?null:(Dt>1&&console.log("found parent tile z%d-%d-%d",$t,fr,cr),Dt>1&&console.time("drilling down"),this.splitTile(dr.source,$t,fr,cr,bt,lt,Tt),Dt>1&&console.timeEnd("drilling down"),this.tiles[Bt]?nt(this.tiles[Bt],It):null)};function mr(bt,lt,Tt){return((1<<bt)*Tt+lt)*32+bt}function mt(bt,lt){for(var Tt in lt)bt[Tt]=lt[Tt];return bt}function Zt(bt,lt){var Tt=bt.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var Ct=this._geoJSONIndex.getTile(Tt.z,Tt.x,Tt.y);if(!Ct)return lt(null,null);var It=new A(Ct.features),Dt=s(It);(Dt.byteOffset!==0||Dt.byteLength!==Dt.buffer.byteLength)&&(Dt=new Uint8Array(Dt)),lt(null,{vectorTile:It,rawData:Dt.buffer})}var Qt=function(bt){function lt(Tt,Ct,It,Dt){bt.call(this,Tt,Ct,It,Zt),Dt&&(this.loadGeoJSON=Dt)}return bt&&(lt.__proto__=bt),lt.prototype=Object.create(bt&&bt.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(Ct,It){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=It,this._pendingLoadDataParams=Ct,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var Ct=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var It=this._pendingCallback,Dt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Vt=Dt&&Dt.request&&Dt.request.collectResourceTiming?new a.RequestPerformance(Dt.request):!1;this.loadGeoJSON(Dt,function(Bt,$t){if(Bt||!$t)return It(Bt);if(typeof $t!="object")return It(new Error("Input data given to '"+Dt.source+"' is not a valid GeoJSON object."));h($t,!0);try{if(Dt.filter){var fr=a.createExpression(Dt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(fr.result==="error")throw new Error(fr.value.map(function(je){return je.key+": "+je.message}).join(", "));var cr=$t.features.filter(function(je){return fr.value.evaluate({zoom:0},je)});$t={type:"FeatureCollection",features:cr}}Ct._geoJSONIndex=Dt.cluster?new ie(yr(Dt)).load($t.features):kt($t,Dt.geojsonVtOptions)}catch(je){return It(je)}Ct.loaded={};var dr={};if(Vt){var Ye=Vt.finish();Ye&&(dr.resourceTiming={},dr.resourceTiming[Dt.source]=JSON.parse(JSON.stringify(Ye)))}It(null,dr)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(Ct,It){var Dt=this.loaded,Vt=Ct.uid;return Dt&&Dt[Vt]?bt.prototype.reloadTile.call(this,Ct,It):this.loadTile(Ct,It)},lt.prototype.loadGeoJSON=function(Ct,It){if(Ct.request)a.getJSON(Ct.request,It);else if(typeof Ct.data=="string")try{return It(null,JSON.parse(Ct.data))}catch{return It(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))}else return It(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(Ct,It){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),It()},lt.prototype.getClusterExpansionZoom=function(Ct,It){try{It(null,this._geoJSONIndex.getClusterExpansionZoom(Ct.clusterId))}catch(Dt){It(Dt)}},lt.prototype.getClusterChildren=function(Ct,It){try{It(null,this._geoJSONIndex.getChildren(Ct.clusterId))}catch(Dt){It(Dt)}},lt.prototype.getClusterLeaves=function(Ct,It){try{It(null,this._geoJSONIndex.getLeaves(Ct.clusterId,Ct.limit,Ct.offset))}catch(Dt){It(Dt)}},lt}(f);function yr(bt){var lt=bt.superclusterOptions,Tt=bt.clusterProperties;if(!Tt||!lt)return lt;for(var Ct={},It={},Dt={accumulated:null,zoom:0},Vt={properties:null},Bt=Object.keys(Tt),$t=0,fr=Bt;$t<fr.length;$t+=1){var cr=fr[$t],dr=Tt[cr],Ye=dr[0],je=dr[1],zt=a.createExpression(je),Ft=a.createExpression(typeof Ye=="string"?[Ye,["accumulated"],["get",cr]]:Ye);Ct[cr]=zt.value,It[cr]=Ft.value}return lt.map=function(Jt){Vt.properties=Jt;for(var tr={},ur=0,nr=Bt;ur<nr.length;ur+=1){var Nt=nr[ur];tr[Nt]=Ct[Nt].evaluate(Dt,Vt)}return tr},lt.reduce=function(Jt,tr){Vt.properties=tr;for(var ur=0,nr=Bt;ur<nr.length;ur+=1){var Nt=nr[ur];Dt.accumulated=Jt[Nt],Jt[Nt]=It[Nt].evaluate(Dt,Vt)}},lt}var sr=function(lt){var Tt=this;this.self=lt,this.actor=new a.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:Qt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ct,It){if(Tt.workerSourceTypes[Ct])throw new Error('Worker source with name "'+Ct+'" already registered.');Tt.workerSourceTypes[Ct]=It},this.self.registerRTLTextPlugin=function(Ct){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Ct.applyArabicShaping,a.plugin.processBidirectionalText=Ct.processBidirectionalText,a.plugin.processStyledBidirectionalText=Ct.processStyledBidirectionalText}};return sr.prototype.setReferrer=function(lt,Tt){this.referrer=Tt},sr.prototype.setImages=function(lt,Tt,Ct){this.availableImages[lt]=Tt;for(var It in this.workerSources[lt]){var Dt=this.workerSources[lt][It];for(var Vt in Dt)Dt[Vt].availableImages=Tt}Ct()},sr.prototype.setLayers=function(lt,Tt,Ct){this.getLayerIndex(lt).replace(Tt),Ct()},sr.prototype.updateLayers=function(lt,Tt,Ct){this.getLayerIndex(lt).update(Tt.layers,Tt.removedIds),Ct()},sr.prototype.loadTile=function(lt,Tt,Ct){this.getWorkerSource(lt,Tt.type,Tt.source).loadTile(Tt,Ct)},sr.prototype.loadDEMTile=function(lt,Tt,Ct){this.getDEMWorkerSource(lt,Tt.source).loadTile(Tt,Ct)},sr.prototype.reloadTile=function(lt,Tt,Ct){this.getWorkerSource(lt,Tt.type,Tt.source).reloadTile(Tt,Ct)},sr.prototype.abortTile=function(lt,Tt,Ct){this.getWorkerSource(lt,Tt.type,Tt.source).abortTile(Tt,Ct)},sr.prototype.removeTile=function(lt,Tt,Ct){this.getWorkerSource(lt,Tt.type,Tt.source).removeTile(Tt,Ct)},sr.prototype.removeDEMTile=function(lt,Tt){this.getDEMWorkerSource(lt,Tt.source).removeTile(Tt)},sr.prototype.removeSource=function(lt,Tt,Ct){if(!(!this.workerSources[lt]||!this.workerSources[lt][Tt.type]||!this.workerSources[lt][Tt.type][Tt.source])){var It=this.workerSources[lt][Tt.type][Tt.source];delete this.workerSources[lt][Tt.type][Tt.source],It.removeSource!==void 0?It.removeSource(Tt,Ct):Ct()}},sr.prototype.loadWorkerSource=function(lt,Tt,Ct){try{this.self.importScripts(Tt.url),Ct()}catch(It){Ct(It.toString())}},sr.prototype.syncRTLPluginState=function(lt,Tt,Ct){try{a.plugin.setState(Tt);var It=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&It!=null){this.self.importScripts(It);var Dt=a.plugin.isParsed(),Vt=Dt?void 0:new Error("RTL Text Plugin failed to import scripts from "+It);Ct(Vt,Dt)}}catch(Bt){Ct(Bt.toString())}},sr.prototype.getAvailableImages=function(lt){var Tt=this.availableImages[lt];return Tt||(Tt=[]),Tt},sr.prototype.getLayerIndex=function(lt){var Tt=this.layerIndexes[lt];return Tt||(Tt=this.layerIndexes[lt]=new p),Tt},sr.prototype.getWorkerSource=function(lt,Tt,Ct){var It=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][Tt]||(this.workerSources[lt][Tt]={}),!this.workerSources[lt][Tt][Ct]){var Dt={send:function(Vt,Bt,$t){It.actor.send(Vt,Bt,$t,lt)}};this.workerSources[lt][Tt][Ct]=new this.workerSourceTypes[Tt](Dt,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][Tt][Ct]},sr.prototype.getDEMWorkerSource=function(lt,Tt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][Tt]||(this.demWorkerSources[lt][Tt]=new y),this.demWorkerSources[lt][Tt]},sr.prototype.enforceCacheSizeLimit=function(lt,Tt){a.enforceCacheSizeLimit(Tt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new sr(self)),sr}),P(["./shared"],function(a){var x=a.createCommonjsModule(function(he){he.exports?he.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=de);function Z(jr){return!de(jr)}function de(jr){if(!te())return"not a browser";if(!ge())return"insufficent Array support";if(!Fe())return"insufficient Function support";if(!Je())return"insufficient Object support";if(!ft())return"insufficient JSON support";if(!Lt())return"insufficient worker support";if(!Ht())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!lr())return"insufficient Canvas/getImageData support";if(!Fr(jr&&jr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function te(){return typeof window<"u"&&typeof document<"u"}function ge(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Fe(){return Function.prototype&&Function.prototype.bind}function Je(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ft(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Lt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var jr=new Blob([""],{type:"text/javascript"}),Jr=URL.createObjectURL(jr),cn,Fn;try{Fn=new Worker(Jr),cn=!0}catch{cn=!1}return Fn&&Fn.terminate(),URL.revokeObjectURL(Jr),cn}function Ht(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function lr(){var jr=document.createElement("canvas");jr.width=jr.height=1;var Jr=jr.getContext("2d");if(!Jr)return!1;var cn=Jr.getImageData(0,0,1,1);return cn&&cn.width===jr.width}var or={};function Fr(jr){return or[jr]===void 0&&(or[jr]=Yr(jr)),or[jr]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Xr(jr){var Jr=document.createElement("canvas"),cn=Object.create(Z.webGLContextAttributes);return cn.failIfMajorPerformanceCaveat=jr,Jr.probablySupportsContext?Jr.probablySupportsContext("webgl",cn)||Jr.probablySupportsContext("experimental-webgl",cn):Jr.supportsContext?Jr.supportsContext("webgl",cn)||Jr.supportsContext("experimental-webgl",cn):Jr.getContext("webgl",cn)||Jr.getContext("experimental-webgl",cn)}function Yr(jr){var Jr=Xr(jr);if(!Jr)return!1;var cn=Jr.createShader(Jr.VERTEX_SHADER);return!cn||Jr.isContextLost()?!1:(Jr.shaderSource(cn,"void main() {}"),Jr.compileShader(cn),Jr.getShaderParameter(cn,Jr.COMPILE_STATUS)===!0)}}),M={};M.create=function(he,Z,de){var te=a.window.document.createElement(he);return Z!==void 0&&(te.className=Z),de&&de.appendChild(te),te},M.createNS=function(he,Z){var de=a.window.document.createElementNS(he,Z);return de};var v=a.window.document&&a.window.document.documentElement.style;function p(he){if(!v)return he[0];for(var Z=0;Z<he.length;Z++)if(he[Z]in v)return he[Z];return he[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;M.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},M.enableDrag=function(){v&&r&&(v[r]=t)};var i=p(["transform","WebkitTransform"]);M.setTransform=function(he,Z){he.style[i]=Z};var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",u,u),a.window.removeEventListener("test",u,u)}catch{n=!1}M.addEventListener=function(he,Z,de,te){te===void 0&&(te={}),"passive"in te&&n?he.addEventListener(Z,de,te):he.addEventListener(Z,de,te.capture)},M.removeEventListener=function(he,Z,de,te){te===void 0&&(te={}),"passive"in te&&n?he.removeEventListener(Z,de,te):he.removeEventListener(Z,de,te.capture)};var f=function(he){he.preventDefault(),he.stopPropagation(),a.window.removeEventListener("click",f,!0)};M.suppressClick=function(){a.window.addEventListener("click",f,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",f,!0)},0)},M.mousePos=function(he,Z){var de=he.getBoundingClientRect();return new a.Point(Z.clientX-de.left-he.clientLeft,Z.clientY-de.top-he.clientTop)},M.touchPos=function(he,Z){for(var de=he.getBoundingClientRect(),te=[],ge=0;ge<Z.length;ge++)te.push(new a.Point(Z[ge].clientX-de.left-he.clientLeft,Z[ge].clientY-de.top-he.clientTop));return te},M.mouseButton=function(he){return typeof a.window.InstallTrigger<"u"&&he.button===2&&he.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:he.button},M.remove=function(he){he.parentNode&&he.parentNode.removeChild(he)};function l(he,Z,de){var te,ge,Fe,Je=a.browser.devicePixelRatio>1?"@2x":"",ft=a.getJSON(Z.transformRequest(Z.normalizeSpriteURL(he,Je,".json"),a.ResourceType.SpriteJSON),function(qt,lr){ft=null,Fe||(Fe=qt,te=lr,Ht())}),Lt=a.getImage(Z.transformRequest(Z.normalizeSpriteURL(he,Je,".png"),a.ResourceType.SpriteImage),function(qt,lr){Lt=null,Fe||(Fe=qt,ge=lr,Ht())});function Ht(){if(Fe)de(Fe);else if(te&&ge){var qt=a.browser.getImageData(ge),lr={};for(var or in te){var Fr=te[or],Xr=Fr.width,Yr=Fr.height,jr=Fr.x,Jr=Fr.y,cn=Fr.sdf,Fn=Fr.pixelRatio,Bn=Fr.stretchX,Yn=Fr.stretchY,Xn=Fr.content,Gn=new a.RGBAImage({width:Xr,height:Yr});a.RGBAImage.copy(qt,Gn,{x:jr,y:Jr},{x:0,y:0},{width:Xr,height:Yr}),lr[or]={data:Gn,pixelRatio:Fn,sdf:cn,stretchX:Bn,stretchY:Yn,content:Xn}}de(null,lr)}}return{cancel:function(){ft&&(ft.cancel(),ft=null),Lt&&(Lt.cancel(),Lt=null)}}}function y(he){var Z=he.userImage;if(Z&&Z.render){var de=Z.render();if(de)return he.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var h=1,S=function(he){function Z(){he.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(te){if(this.loaded!==te&&(this.loaded=te,te)){for(var ge=0,Fe=this.requestors;ge<Fe.length;ge+=1){var Je=Fe[ge],ft=Je.ids,Lt=Je.callback;this._notify(ft,Lt)}this.requestors=[]}},Z.prototype.getImage=function(te){return this.images[te]},Z.prototype.addImage=function(te,ge){this._validate(te,ge)&&(this.images[te]=ge)},Z.prototype._validate=function(te,ge){var Fe=!0;return this._validateStretch(ge.stretchX,ge.data&&ge.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchX" value'))),Fe=!1),this._validateStretch(ge.stretchY,ge.data&&ge.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchY" value'))),Fe=!1),this._validateContent(ge.content,ge)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "content" value'))),Fe=!1),Fe},Z.prototype._validateStretch=function(te,ge){if(!te)return!0;for(var Fe=0,Je=0,ft=te;Je<ft.length;Je+=1){var Lt=ft[Je];if(Lt[0]<Fe||Lt[1]<Lt[0]||ge<Lt[1])return!1;Fe=Lt[1]}return!0},Z.prototype._validateContent=function(te,ge){return te?!(te.length!==4||te[0]<0||ge.data.width<te[0]||te[1]<0||ge.data.height<te[1]||te[2]<0||ge.data.width<te[2]||te[3]<0||ge.data.height<te[3]||te[2]<te[0]||te[3]<te[1]):!0},Z.prototype.updateImage=function(te,ge){var Fe=this.images[te];ge.version=Fe.version+1,this.images[te]=ge,this.updatedImages[te]=!0},Z.prototype.removeImage=function(te){var ge=this.images[te];delete this.images[te],delete this.patterns[te],ge.userImage&&ge.userImage.onRemove&&ge.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(te,ge){var Fe=!0;if(!this.isLoaded())for(var Je=0,ft=te;Je<ft.length;Je+=1){var Lt=ft[Je];this.images[Lt]||(Fe=!1)}this.isLoaded()||Fe?this._notify(te,ge):this.requestors.push({ids:te,callback:ge})},Z.prototype._notify=function(te,ge){for(var Fe={},Je=0,ft=te;Je<ft.length;Je+=1){var Lt=ft[Je];this.images[Lt]||this.fire(new a.Event("styleimagemissing",{id:Lt}));var Ht=this.images[Lt];Ht?Fe[Lt]={data:Ht.data.clone(),pixelRatio:Ht.pixelRatio,sdf:Ht.sdf,version:Ht.version,stretchX:Ht.stretchX,stretchY:Ht.stretchY,content:Ht.content,hasRenderCallback:!!(Ht.userImage&&Ht.userImage.render)}:a.warnOnce('Image "'+Lt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ge(null,Fe)},Z.prototype.getPixelSize=function(){var te=this.atlasImage,ge=te.width,Fe=te.height;return{width:ge,height:Fe}},Z.prototype.getPattern=function(te){var ge=this.patterns[te],Fe=this.getImage(te);if(!Fe)return null;if(ge&&ge.position.version===Fe.version)return ge.position;if(ge)ge.position.version=Fe.version;else{var Je=Fe.data.width+h*2,ft=Fe.data.height+h*2,Lt={w:Je,h:ft,x:0,y:0},Ht=new a.ImagePosition(Lt,Fe);this.patterns[te]={bin:Lt,position:Ht}}return this._updatePatternAtlas(),this.patterns[te].position},Z.prototype.bind=function(te){var ge=te.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(te,this.atlasImage,ge.RGBA),this.atlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var te=[];for(var ge in this.patterns)te.push(this.patterns[ge].bin);var Fe=a.potpack(te),Je=Fe.w,ft=Fe.h,Lt=this.atlasImage;Lt.resize({width:Je||1,height:ft||1});for(var Ht in this.patterns){var qt=this.patterns[Ht],lr=qt.bin,or=lr.x+h,Fr=lr.y+h,Xr=this.images[Ht].data,Yr=Xr.width,jr=Xr.height;a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:or,y:Fr},{width:Yr,height:jr}),a.RGBAImage.copy(Xr,Lt,{x:0,y:jr-1},{x:or,y:Fr-1},{width:Yr,height:1}),a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:or,y:Fr+jr},{width:Yr,height:1}),a.RGBAImage.copy(Xr,Lt,{x:Yr-1,y:0},{x:or-1,y:Fr},{width:1,height:jr}),a.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:or+Yr,y:Fr},{width:1,height:jr})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(te){for(var ge=0,Fe=te;ge<Fe.length;ge+=1){var Je=Fe[ge];if(!this.callbackDispatchedThisFrame[Je]){this.callbackDispatchedThisFrame[Je]=!0;var ft=this.images[Je],Lt=y(ft);Lt&&this.updateImage(Je,ft)}}},Z}(a.Evented);function c(he,Z,de,te,ge){var Fe=Z*256,Je=Fe+255,ft=te.transformRequest(te.normalizeGlyphsURL(de).replace("{fontstack}",he).replace("{range}",Fe+"-"+Je),a.ResourceType.Glyphs);a.getArrayBuffer(ft,function(Lt,Ht){if(Lt)ge(Lt);else if(Ht){for(var qt={},lr=0,or=a.parseGlyphPBF(Ht);lr<or.length;lr+=1){var Fr=or[lr];qt[Fr.id]=Fr}ge(null,qt)}})}var o=A,d=A,w=1e20;function A(he,Z,de,te,ge,Fe){this.fontSize=he||24,this.buffer=Z===void 0?3:Z,this.cutoff=te||.25,this.fontFamily=ge||"sans-serif",this.fontWeight=Fe||"normal",this.radius=de||8;var Je=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Je,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Je*Je),this.gridInner=new Float64Array(Je*Je),this.f=new Float64Array(Je),this.d=new Float64Array(Je),this.z=new Float64Array(Je+1),this.v=new Int16Array(Je),this.middle=Math.round(Je/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(he){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(he,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var ge=Z.data[te*4+3]/255;this.gridOuter[te]=ge===1?0:ge===0?w:Math.pow(Math.max(0,.5-ge),2),this.gridInner[te]=ge===1?w:ge===0?0:Math.pow(Math.max(0,ge-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++){var Fe=this.gridOuter[te]-this.gridInner[te];de[te]=Math.max(0,Math.min(255,Math.round(255-255*(Fe/this.radius+this.cutoff))))}return de};function C(he,Z,de,te,ge,Fe,Je){for(var ft=0;ft<Z;ft++){for(var Lt=0;Lt<de;Lt++)te[Lt]=he[Lt*Z+ft];for(m(te,ge,Fe,Je,de),Lt=0;Lt<de;Lt++)he[Lt*Z+ft]=ge[Lt]}for(Lt=0;Lt<de;Lt++){for(ft=0;ft<Z;ft++)te[ft]=he[Lt*Z+ft];for(m(te,ge,Fe,Je,Z),ft=0;ft<Z;ft++)he[Lt*Z+ft]=Math.sqrt(ge[ft])}}function m(he,Z,de,te,ge){de[0]=0,te[0]=-w,te[1]=+w;for(var Fe=1,Je=0;Fe<ge;Fe++){for(var ft=(he[Fe]+Fe*Fe-(he[de[Je]]+de[Je]*de[Je]))/(2*Fe-2*de[Je]);ft<=te[Je];)Je--,ft=(he[Fe]+Fe*Fe-(he[de[Je]]+de[Je]*de[Je]))/(2*Fe-2*de[Je]);Je++,de[Je]=Fe,te[Je]=ft,te[Je+1]=+w}for(Fe=0,Je=0;Fe<ge;Fe++){for(;te[Je+1]<Fe;)Je++;Z[Fe]=(Fe-de[Je])*(Fe-de[Je])+he[de[Je]]}}o.default=d;var E=function(Z,de){this.requestManager=Z,this.localIdeographFontFamily=de,this.entries={}};E.prototype.setURL=function(Z){this.url=Z},E.prototype.getGlyphs=function(Z,de){var te=this,ge=[];for(var Fe in Z)for(var Je=0,ft=Z[Fe];Je<ft.length;Je+=1){var Lt=ft[Je];ge.push({stack:Fe,id:Lt})}a.asyncAll(ge,function(Ht,qt){var lr=Ht.stack,or=Ht.id,Fr=te.entries[lr];Fr||(Fr=te.entries[lr]={glyphs:{},requests:{},ranges:{}});var Xr=Fr.glyphs[or];if(Xr!==void 0){qt(null,{stack:lr,id:or,glyph:Xr});return}if(Xr=te._tinySDF(Fr,lr,or),Xr){Fr.glyphs[or]=Xr,qt(null,{stack:lr,id:or,glyph:Xr});return}var Yr=Math.floor(or/256);if(Yr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(Fr.ranges[Yr]){qt(null,{stack:lr,id:or,glyph:Xr});return}var jr=Fr.requests[Yr];jr||(jr=Fr.requests[Yr]=[],E.loadGlyphRange(lr,Yr,te.url,te.requestManager,function(Jr,cn){if(cn){for(var Fn in cn)te._doesCharSupportLocalGlyph(+Fn)||(Fr.glyphs[+Fn]=cn[+Fn]);Fr.ranges[Yr]=!0}for(var Bn=0,Yn=jr;Bn<Yn.length;Bn+=1){var Xn=Yn[Bn];Xn(Jr,cn)}delete Fr.requests[Yr]})),jr.push(function(Jr,cn){Jr?qt(Jr):cn&&qt(null,{stack:lr,id:or,glyph:cn[or]||null})})},function(Ht,qt){if(Ht)de(Ht);else if(qt){for(var lr={},or=0,Fr=qt;or<Fr.length;or+=1){var Xr=Fr[or],Yr=Xr.stack,jr=Xr.id,Jr=Xr.glyph;(lr[Yr]||(lr[Yr]={}))[jr]=Jr&&{id:Jr.id,bitmap:Jr.bitmap.clone(),metrics:Jr.metrics}}de(null,lr)}})},E.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](Z)||a.isChar["Hangul Syllables"](Z)||a.isChar.Hiragana(Z)||a.isChar.Katakana(Z))},E.prototype._tinySDF=function(Z,de,te){var ge=this.localIdeographFontFamily;if(ge&&this._doesCharSupportLocalGlyph(te)){var Fe=Z.tinySDF;if(!Fe){var Je="400";/bold/i.test(de)?Je="900":/medium/i.test(de)?Je="500":/light/i.test(de)&&(Je="200"),Fe=Z.tinySDF=new E.TinySDF(24,3,8,.25,ge,Je)}return{id:te,bitmap:new a.AlphaImage({width:30,height:30},Fe.draw(String.fromCharCode(te))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=c,E.TinySDF=o;var b=function(){this.specification=a.styleSpec.light.position};b.prototype.possiblyEvaluate=function(Z,de){return a.sphericalToCartesian(Z.expression.evaluate(de))},b.prototype.interpolate=function(Z,de,te){return{x:a.number(Z.x,de.x,te),y:a.number(Z.y,de.y,te),z:a.number(Z.z,de.z,te)}};var s=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new b,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),L="-transition",T=function(he){function Z(de){he.call(this),this._transitionable=new a.Transitionable(s),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(te,ge){if(ge===void 0&&(ge={}),!this._validate(a.validateLight,te,ge))for(var Fe in te){var Je=te[Fe];a.endsWith(Fe,L)?this._transitionable.setTransition(Fe.slice(0,-L.length),Je):this._transitionable.setValue(Fe,Je)}},Z.prototype.updateTransitions=function(te){this._transitioning=this._transitionable.transitioned(te,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(te){this.properties=this._transitioning.possiblyEvaluate(te)},Z.prototype._validate=function(te,ge,Fe){return Fe&&Fe.validate===!1?!1:a.emitValidationErrors(this,te.call(a.validateStyle,a.extend({value:ge,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},Z}(a.Evented),k=function(Z,de){this.width=Z,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(Z,de){var te=Z.join(",")+String(de);return this.dashEntry[te]||(this.dashEntry[te]=this.addDash(Z,de)),this.dashEntry[te]},k.prototype.getDashRanges=function(Z,de,te){var ge=Z.length%2===1,Fe=[],Je=ge?-Z[Z.length-1]*te:0,ft=Z[0]*te,Lt=!0;Fe.push({left:Je,right:ft,isDash:Lt,zeroLength:Z[0]===0});for(var Ht=Z[0],qt=1;qt<Z.length;qt++){Lt=!Lt;var lr=Z[qt];Je=Ht*te,Ht+=lr,ft=Ht*te,Fe.push({left:Je,right:ft,isDash:Lt,zeroLength:lr===0})}return Fe},k.prototype.addRoundDash=function(Z,de,te){for(var ge=de/2,Fe=-te;Fe<=te;Fe++)for(var Je=this.nextRow+te+Fe,ft=this.width*Je,Lt=0,Ht=Z[Lt],qt=0;qt<this.width;qt++){qt/Ht.right>1&&(Ht=Z[++Lt]);var lr=Math.abs(qt-Ht.left),or=Math.abs(qt-Ht.right),Fr=Math.min(lr,or),Xr=void 0,Yr=Fe/te*(ge+1);if(Ht.isDash){var jr=ge-Math.abs(Yr);Xr=Math.sqrt(Fr*Fr+jr*jr)}else Xr=ge-Math.sqrt(Fr*Fr+Yr*Yr);this.data[ft+qt]=Math.max(0,Math.min(255,Xr+128))}},k.prototype.addRegularDash=function(Z){for(var de=Z.length-1;de>=0;--de){var te=Z[de],ge=Z[de+1];te.zeroLength?Z.splice(de,1):ge&&ge.isDash===te.isDash&&(ge.left=te.left,Z.splice(de,1))}var Fe=Z[0],Je=Z[Z.length-1];Fe.isDash===Je.isDash&&(Fe.left=Je.left-this.width,Je.right=Fe.right+this.width);for(var ft=this.width*this.nextRow,Lt=0,Ht=Z[Lt],qt=0;qt<this.width;qt++){qt/Ht.right>1&&(Ht=Z[++Lt]);var lr=Math.abs(qt-Ht.left),or=Math.abs(qt-Ht.right),Fr=Math.min(lr,or),Xr=Ht.isDash?Fr:-Fr;this.data[ft+qt]=Math.max(0,Math.min(255,Xr+128))}},k.prototype.addDash=function(Z,de){var te=de?7:0,ge=2*te+1;if(this.nextRow+ge>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var Fe=0,Je=0;Je<Z.length;Je++)Fe+=Z[Je];if(Fe!==0){var ft=this.width/Fe,Lt=this.getDashRanges(Z,this.width,ft);de?this.addRoundDash(Lt,ft,te):this.addRegularDash(Lt)}var Ht={y:(this.nextRow+te+.5)/this.height,height:2*te/this.height,width:Fe};return this.nextRow+=ge,this.dirty=!0,Ht},k.prototype.bind=function(Z){var de=Z.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var _=function he(Z,de){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var te=this.workerPool.acquire(this.id),ge=0;ge<te.length;ge++){var Fe=te[ge],Je=new he.Actor(Fe,de,this.id);Je.name="Worker "+ge,this.actors.push(Je)}};_.prototype.broadcast=function(Z,de,te){te=te||function(){},a.asyncAll(this.actors,function(ge,Fe){ge.send(Z,de,Fe)},te)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=a.Actor;function B(he,Z,de){var te=function(ge,Fe){if(ge)return de(ge);if(Fe){var Je=a.pick(a.extend(Fe,he),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Fe.vector_layers&&(Je.vectorLayers=Fe.vector_layers,Je.vectorLayerIds=Je.vectorLayers.map(function(ft){return ft.id})),Je.tiles=Z.canonicalizeTileset(Je,he.url),de(null,Je)}};return he.url?a.getJSON(Z.transformRequest(Z.normalizeSourceURL(he.url),a.ResourceType.Source),te):a.browser.frame(function(){return te(null,he)})}var F=function(Z,de,te){this.bounds=a.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=de||0,this.maxzoom=te||24};F.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},F.prototype.contains=function(Z){var de=Math.pow(2,Z.z),te={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*de)},ge=Z.x>=te.minX&&Z.x<te.maxX&&Z.y>=te.minY&&Z.y<te.maxY;return ge};var O=function(he){function Z(de,te,ge,Fe){if(he.call(this),this.id=de,this.dispatcher=ge,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(te,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Fe)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(ge,Fe){te._tileJSONRequest=null,te._loaded=!0,ge?te.fire(new a.ErrorEvent(ge)):Fe&&(a.extend(te,Fe),Fe.bounds&&(te.tileBounds=new F(Fe.bounds,te.minzoom,te.maxzoom)),a.postTurnstileEvent(Fe.tiles,te.map._requestManager._customAccessToken),a.postMapLoadEvent(Fe.tiles,te.map._getMapId(),te.map._requestManager._skuToken,te.map._requestManager._customAccessToken),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setSourceProperty=function(te){this._tileJSONRequest&&this._tileJSONRequest.cancel(),te();var ge=this.map.style.sourceCaches[this.id];ge.clearTiles(),this.load()},Z.prototype.setTiles=function(te){var ge=this;return this.setSourceProperty(function(){ge._options.tiles=te}),this},Z.prototype.setUrl=function(te){var ge=this;return this.setSourceProperty(function(){ge.url=te,ge._options.url=te}),this},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return a.extend({},this._options)},Z.prototype.loadTile=function(te,ge){var Fe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme)),Je={request:this.map._requestManager.transformRequest(Fe,a.ResourceType.Tile),uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,tileSize:this.tileSize*te.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Je.request.collectResourceTiming=this._collectResourceTiming,!te.actor||te.state==="expired"?(te.actor=this.dispatcher.getActor(),te.request=te.actor.send("loadTile",Je,ft.bind(this))):te.state==="loading"?te.reloadCallback=ge:te.request=te.actor.send("reloadTile",Je,ft.bind(this));function ft(Lt,Ht){if(delete te.request,te.aborted)return ge(null);if(Lt&&Lt.status!==404)return ge(Lt);Ht&&Ht.resourceTiming&&(te.resourceTiming=Ht.resourceTiming),this.map._refreshExpiredTiles&&Ht&&te.setExpiryData(Ht),te.loadVectorData(Ht,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),ge(null),te.reloadCallback&&(this.loadTile(te,te.reloadCallback),te.reloadCallback=null)}},Z.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.actor&&te.actor.send("abortTile",{uid:te.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(te){te.unloadVectorData(),te.actor&&te.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),N=function(he){function Z(de,te,ge,Fe){he.call(this),this.id=de,this.dispatcher=ge,this.setEventedParent(Fe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},te),a.extend(this,a.pick(te,["url","scheme","tileSize"]))}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(ge,Fe){te._tileJSONRequest=null,te._loaded=!0,ge?te.fire(new a.ErrorEvent(ge)):Fe&&(a.extend(te,Fe),Fe.bounds&&(te.tileBounds=new F(Fe.bounds,te.minzoom,te.maxzoom)),a.postTurnstileEvent(Fe.tiles),a.postMapLoadEvent(Fe.tiles,te.map._getMapId(),te.map._requestManager._skuToken),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return a.extend({},this._options)},Z.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},Z.prototype.loadTile=function(te,ge){var Fe=this,Je=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=a.getImage(this.map._requestManager.transformRequest(Je,a.ResourceType.Tile),function(ft,Lt){if(delete te.request,te.aborted)te.state="unloaded",ge(null);else if(ft)te.state="errored",ge(ft);else if(Lt){Fe.map._refreshExpiredTiles&&te.setExpiryData(Lt),delete Lt.cacheControl,delete Lt.expires;var Ht=Fe.map.painter.context,qt=Ht.gl;te.texture=Fe.map.painter.getTileTexture(Lt.width),te.texture?te.texture.update(Lt,{useMipmap:!0}):(te.texture=new a.Texture(Ht,Lt,qt.RGBA,{useMipmap:!0}),te.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Ht.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Ht.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ht.extTextureFilterAnisotropicMax)),te.state="loaded",a.cacheEntryPossiblyAdded(Fe.dispatcher),ge(null)}})},Z.prototype.abortTile=function(te,ge){te.request&&(te.request.cancel(),delete te.request),ge()},Z.prototype.unloadTile=function(te,ge){te.texture&&this.map.painter.saveTileTexture(te.texture),ge()},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),z=function(he){function Z(de,te,ge,Fe){he.call(this,de,te,ge,Fe),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(te,ge){var Fe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=a.getImage(this.map._requestManager.transformRequest(Fe,a.ResourceType.Tile),Je.bind(this)),te.neighboringTiles=this._getNeighboringTiles(te.tileID);function Je(Lt,Ht){if(delete te.request,te.aborted)te.state="unloaded",ge(null);else if(Lt)te.state="errored",ge(Lt);else if(Ht){this.map._refreshExpiredTiles&&te.setExpiryData(Ht),delete Ht.cacheControl,delete Ht.expires;var qt=a.window.ImageBitmap&&Ht instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),lr=qt?Ht:a.browser.getImageData(Ht,1),or={uid:te.uid,coord:te.tileID,source:this.id,rawImageData:lr,encoding:this.encoding};(!te.actor||te.state==="expired")&&(te.actor=this.dispatcher.getActor(),te.actor.send("loadDEMTile",or,ft.bind(this)))}}function ft(Lt,Ht){Lt&&(te.state="errored",ge(Lt)),Ht&&(te.dem=Ht,te.needsHillshadePrepare=!0,te.state="loaded",ge(null))}},Z.prototype._getNeighboringTiles=function(te){var ge=te.canonical,Fe=Math.pow(2,ge.z),Je=(ge.x-1+Fe)%Fe,ft=ge.x===0?te.wrap-1:te.wrap,Lt=(ge.x+1+Fe)%Fe,Ht=ge.x+1===Fe?te.wrap+1:te.wrap,qt={};return qt[new a.OverscaledTileID(te.overscaledZ,ft,ge.z,Je,ge.y).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,Ht,ge.z,Lt,ge.y).key]={backfilled:!1},ge.y>0&&(qt[new a.OverscaledTileID(te.overscaledZ,ft,ge.z,Je,ge.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,te.wrap,ge.z,ge.x,ge.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,Ht,ge.z,Lt,ge.y-1).key]={backfilled:!1}),ge.y+1<Fe&&(qt[new a.OverscaledTileID(te.overscaledZ,ft,ge.z,Je,ge.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,te.wrap,ge.z,ge.x,ge.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(te.overscaledZ,Ht,ge.z,Lt,ge.y+1).key]={backfilled:!1}),qt},Z.prototype.unloadTile=function(te){te.demTexture&&this.map.painter.saveTileTexture(te.demTexture),te.fbo&&(te.fbo.destroy(),delete te.fbo),te.dem&&delete te.dem,delete te.neighboringTiles,te.state="unloaded",te.actor&&te.actor.send("removeDEMTile",{uid:te.uid,source:this.id})},Z}(N),V=function(he){function Z(de,te,ge,Fe){he.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ge.getActor(),this.setEventedParent(Fe),this._data=te.data,this._options=a.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],te.maxzoom!==void 0&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var Je=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(te.buffer!==void 0?te.buffer:128)*Je,tolerance:(te.tolerance!==void 0?te.tolerance:.375)*Je,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:te.clusterMaxZoom!==void 0?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,te.clusterMinPoints||2),extent:a.EXTENT,radius:(te.clusterRadius||50)*Je,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties,filter:te.filter},te.workerOptions)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ge){if(ge){te.fire(new a.ErrorEvent(ge));return}var Fe={dataType:"source",sourceDataType:"metadata"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(Fe.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new a.Event("data",Fe))})},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setData=function(te){var ge=this;return this._data=te,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Fe){if(Fe){ge.fire(new a.ErrorEvent(Fe));return}var Je={dataType:"source",sourceDataType:"content"};ge._collectResourceTiming&&ge._resourceTiming&&ge._resourceTiming.length>0&&(Je.resourceTiming=ge._resourceTiming,ge._resourceTiming=[]),ge.fire(new a.Event("data",Je))}),this},Z.prototype.getClusterExpansionZoom=function(te,ge){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:te,source:this.id},ge),this},Z.prototype.getClusterChildren=function(te,ge){return this.actor.send("geojson.getClusterChildren",{clusterId:te,source:this.id},ge),this},Z.prototype.getClusterLeaves=function(te,ge,Fe,Je){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:te,limit:ge,offset:Fe},Je),this},Z.prototype._updateWorkerData=function(te){var ge=this;this._loaded=!1;var Fe=a.extend({},this.workerOptions),Je=this._data;typeof Je=="string"?(Fe.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Je),a.ResourceType.Source),Fe.request.collectResourceTiming=this._collectResourceTiming):Fe.data=JSON.stringify(Je),this.actor.send(this.type+".loadData",Fe,function(ft,Lt){ge._removed||Lt&&Lt.abandoned||(ge._loaded=!0,Lt&&Lt.resourceTiming&&Lt.resourceTiming[ge.id]&&(ge._resourceTiming=Lt.resourceTiming[ge.id].slice(0)),ge.actor.send(ge.type+".coalesce",{source:Fe.source},null),te(ft))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(te,ge){var Fe=this,Je=te.actor?"reloadTile":"loadTile";te.actor=this.actor;var ft={type:this.type,uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};te.request=this.actor.send(Je,ft,function(Lt,Ht){return delete te.request,te.unloadVectorData(),te.aborted?ge(null):Lt?ge(Lt):(te.loadVectorData(Ht,Fe.map.painter,Je==="reloadTile"),ge(null))})},Z.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.aborted=!0},Z.prototype.unloadTile=function(te){te.unloadVectorData(),this.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),W=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),$=function(he){function Z(de,te,ge,Fe){he.call(this),this.id=de,this.dispatcher=ge,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Fe),this.options=te}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(te,ge){var Fe=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Je,ft){Fe._loaded=!0,Je?Fe.fire(new a.ErrorEvent(Je)):ft&&(Fe.image=ft,te&&(Fe.coordinates=te),ge&&ge(),Fe._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(te){var ge=this;return!this.image||!te.url?this:(this.options.url=te.url,this.load(te.coordinates,function(){ge.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setCoordinates=function(te){var ge=this;this.coordinates=te;var Fe=te.map(a.MercatorCoordinate.fromLngLat);this.tileID=re(Fe),this.minzoom=this.maxzoom=this.tileID.z;var Je=Fe.map(function(ft){return ge.tileID.getTilePoint(ft)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Je[0].x,Je[0].y,0,0),this._boundsArray.emplaceBack(Je[1].x,Je[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Je[3].x,Je[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Je[2].x,Je[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var te=this.map.painter.context,ge=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(te,this.image,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var Fe in this.tiles){var Je=this.tiles[Fe];Je.state!=="loaded"&&(Je.state="loaded",Je.texture=this.texture)}}},Z.prototype.loadTile=function(te,ge){this.tileID&&this.tileID.equals(te.tileID.canonical)?(this.tiles[String(te.tileID.wrap)]=te,te.buckets={},ge(null)):(te.state="errored",ge(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented);function re(he){for(var Z=1/0,de=1/0,te=-1/0,ge=-1/0,Fe=0,Je=he;Fe<Je.length;Fe+=1){var ft=Je[Fe];Z=Math.min(Z,ft.x),de=Math.min(de,ft.y),te=Math.max(te,ft.x),ge=Math.max(ge,ft.y)}var Lt=te-Z,Ht=ge-de,qt=Math.max(Lt,Ht),lr=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),or=Math.pow(2,lr);return new a.CanonicalTileID(lr,Math.floor((Z+te)/2*or),Math.floor((de+ge)/2*or))}var ne=function(he){function Z(de,te,ge,Fe){he.call(this,de,te,ge,Fe),this.roundZoom=!0,this.type="video",this.options=te}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1;var ge=this.options;this.urls=[];for(var Fe=0,Je=ge.urls;Fe<Je.length;Fe+=1){var ft=Je[Fe];this.urls.push(this.map._requestManager.transformRequest(ft,a.ResourceType.Source).url)}a.getVideo(this.urls,function(Lt,Ht){te._loaded=!0,Lt?te.fire(new a.ErrorEvent(Lt)):Ht&&(te.video=Ht,te.video.loop=!0,te.video.addEventListener("playing",function(){te.map.triggerRepaint()}),te.map&&te.video.play(),te._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(te){if(this.video){var ge=this.video.seekable;te<ge.start(0)||te>ge.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ge.start(0)+" and "+ge.end(0)+"-second mark."))):this.video.currentTime=te}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(te){this.map||(this.map=te,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var te=this.map.painter.context,ge=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,ge.RGBA,ge.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(te,this.video,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var Fe in this.tiles){var Je=this.tiles[Fe];Je.state!=="loaded"&&(Je.state="loaded",Je.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}($),ue=function(he){function Z(de,te,ge,Fe){he.call(this,de,te,ge,Fe),te.coordinates?(!Array.isArray(te.coordinates)||te.coordinates.length!==4||te.coordinates.some(function(Je){return!Array.isArray(Je)||Je.length!==2||Je.some(function(ft){return typeof ft!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'missing required property "coordinates"'))),te.animate&&typeof te.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),te.canvas?typeof te.canvas!="string"&&!(te.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=te,this.animate=te.animate!==void 0?te.animate:!0}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(te){this.map=te,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var te=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,te=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,te=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ge=this.map.painter.context,Fe=ge.gl;this.boundsBuffer||(this.boundsBuffer=ge.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(te||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(ge,this.canvas,Fe.RGBA,{premultiply:!0});for(var Je in this.tiles){var ft=this.tiles[Je];ft.state!=="loaded"&&(ft.state="loaded",ft.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var te=0,ge=[this.canvas.width,this.canvas.height];te<ge.length;te+=1){var Fe=ge[te];if(isNaN(Fe)||Fe<=0)return!0}return!1},Z}($),J={vector:O,raster:N,"raster-dem":z,geojson:V,video:ne,image:$,canvas:ue},X=function(he,Z,de,te){var ge=new J[Z.type](he,Z,de,te);if(ge.id!==he)throw new Error("Expected Source id to be "+he+" instead of "+ge.id);return a.bindAll(["load","abort","unload","serialize","prepare"],ge),ge},oe=function(he){return J[he]},Y=function(he,Z){J[he]=Z};function q(he,Z){var de=a.identity([]);return a.translate(de,de,[1,1,0]),a.scale(de,de,[he.width*.5,he.height*.5,1]),a.multiply(de,de,he.calculatePosMatrix(Z.toUnwrapped()))}function se(he,Z,de){if(he)for(var te=0,ge=he;te<ge.length;te+=1){var Fe=ge[te],Je=Z[Fe];if(Je&&Je.source===de&&Je.type==="fill-extrusion")return!0}else for(var ft in Z){var Lt=Z[ft];if(Lt.source===de&&Lt.type==="fill-extrusion")return!0}return!1}function Q(he,Z,de,te,ge,Fe){var Je=se(ge&&ge.layers,Z,he.id),ft=Fe.maxPitchScaleFactor(),Lt=he.tilesIn(te,ft,Je);Lt.sort(ie);for(var Ht=[],qt=0,lr=Lt;qt<lr.length;qt+=1){var or=lr[qt];Ht.push({wrappedTileID:or.tileID.wrapped().key,queryResults:or.tile.queryRenderedFeatures(Z,de,he._state,or.queryGeometry,or.cameraQueryGeometry,or.scale,ge,Fe,ft,q(he.transform,or.tileID))})}var Fr=ce(Ht);for(var Xr in Fr)Fr[Xr].forEach(function(Yr){var jr=Yr.feature,Jr=he.getFeatureState(jr.layer["source-layer"],jr.id);jr.source=jr.layer.source,jr.layer["source-layer"]&&(jr.sourceLayer=jr.layer["source-layer"]),jr.state=Jr});return Fr}function K(he,Z,de,te,ge,Fe,Je){for(var ft={},Lt=Fe.queryRenderedSymbols(te),Ht=[],qt=0,lr=Object.keys(Lt).map(Number);qt<lr.length;qt+=1){var or=lr[qt];Ht.push(Je[or])}Ht.sort(ie);for(var Fr=function(){var cn=Yr[Xr],Fn=cn.featureIndex.lookupSymbolFeatures(Lt[cn.bucketInstanceId],Z,cn.bucketIndex,cn.sourceLayerIndex,ge.filter,ge.layers,ge.availableImages,he);for(var Bn in Fn){var Yn=ft[Bn]=ft[Bn]||[],Xn=Fn[Bn];Xn.sort(function(la,ba){var va=cn.featureSortOrder;if(va){var Oa=va.indexOf(la.featureIndex),$a=va.indexOf(ba.featureIndex);return $a-Oa}else return ba.featureIndex-la.featureIndex});for(var Gn=0,Kn=Xn;Gn<Kn.length;Gn+=1){var ta=Kn[Gn];Yn.push(ta)}}},Xr=0,Yr=Ht;Xr<Yr.length;Xr+=1)Fr();var jr=function(cn){ft[cn].forEach(function(Fn){var Bn=Fn.feature,Yn=he[cn],Xn=de[Yn.source],Gn=Xn.getFeatureState(Bn.layer["source-layer"],Bn.id);Bn.source=Bn.layer.source,Bn.layer["source-layer"]&&(Bn.sourceLayer=Bn.layer["source-layer"]),Bn.state=Gn})};for(var Jr in ft)jr(Jr);return ft}function le(he,Z){for(var de=he.getRenderableIds().map(function(Lt){return he.getTileByID(Lt)}),te=[],ge={},Fe=0;Fe<de.length;Fe++){var Je=de[Fe],ft=Je.tileID.canonical.key;ge[ft]||(ge[ft]=!0,Je.querySourceFeatures(te,Z))}return te}function ie(he,Z){var de=he.tileID,te=Z.tileID;return de.overscaledZ-te.overscaledZ||de.canonical.y-te.canonical.y||de.wrap-te.wrap||de.canonical.x-te.canonical.x}function ce(he){for(var Z={},de={},te=0,ge=he;te<ge.length;te+=1){var Fe=ge[te],Je=Fe.queryResults,ft=Fe.wrappedTileID,Lt=de[ft]=de[ft]||{};for(var Ht in Je)for(var qt=Je[Ht],lr=Lt[Ht]=Lt[Ht]||{},or=Z[Ht]=Z[Ht]||[],Fr=0,Xr=qt;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr];lr[Yr.featureIndex]||(lr[Yr.featureIndex]=!0,or.push(Yr))}}return Z}var ye=function(Z,de){this.max=Z,this.onRemove=de,this.reset()};ye.prototype.reset=function(){for(var Z in this.data)for(var de=0,te=this.data[Z];de<te.length;de+=1){var ge=te[de];ge.timeout&&clearTimeout(ge.timeout),this.onRemove(ge.value)}return this.data={},this.order=[],this},ye.prototype.add=function(Z,de,te){var ge=this,Fe=Z.wrapped().key;this.data[Fe]===void 0&&(this.data[Fe]=[]);var Je={value:de,timeout:void 0};if(te!==void 0&&(Je.timeout=setTimeout(function(){ge.remove(Z,Je)},te)),this.data[Fe].push(Je),this.order.push(Fe),this.order.length>this.max){var ft=this._getAndRemoveByKey(this.order[0]);ft&&this.onRemove(ft)}return this},ye.prototype.has=function(Z){return Z.wrapped().key in this.data},ye.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},ye.prototype._getAndRemoveByKey=function(Z){var de=this.data[Z].shift();return de.timeout&&clearTimeout(de.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),de.value},ye.prototype.getByKey=function(Z){var de=this.data[Z];return de?de[0].value:null},ye.prototype.get=function(Z){if(!this.has(Z))return null;var de=this.data[Z.wrapped().key][0];return de.value},ye.prototype.remove=function(Z,de){if(!this.has(Z))return this;var te=Z.wrapped().key,ge=de===void 0?0:this.data[te].indexOf(de),Fe=this.data[te][ge];return this.data[te].splice(ge,1),Fe.timeout&&clearTimeout(Fe.timeout),this.data[te].length===0&&delete this.data[te],this.onRemove(Fe.value),this.order.splice(this.order.indexOf(te),1),this},ye.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},ye.prototype.filter=function(Z){var de=[];for(var te in this.data)for(var ge=0,Fe=this.data[te];ge<Fe.length;ge+=1){var Je=Fe[ge];Z(Je.value)||de.push(Je)}for(var ft=0,Lt=de;ft<Lt.length;ft+=1){var Ht=Lt[ft];this.remove(Ht.value.tileID,Ht)}};var Ce=function(Z,de,te){this.context=Z;var ge=Z.gl;this.buffer=ge.createBuffer(),this.dynamicDraw=!!te,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),ge.bufferData(ge.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?ge.DYNAMIC_DRAW:ge.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Ce.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ce.prototype.updateData=function(Z){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},Ce.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ke=function(Z,de,te,ge){this.length=de.length,this.attributes=te,this.itemSize=de.bytesPerElement,this.dynamicDraw=ge,this.context=Z;var Fe=Z.gl;this.buffer=Fe.createBuffer(),Z.bindVertexBuffer.set(this.buffer),Fe.bufferData(Fe.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?Fe.DYNAMIC_DRAW:Fe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};ke.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ke.prototype.updateData=function(Z){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,Z.arrayBuffer)},ke.prototype.enableAttributes=function(Z,de){for(var te=0;te<this.attributes.length;te++){var ge=this.attributes[te],Fe=de.attributes[ge.name];Fe!==void 0&&Z.enableVertexAttribArray(Fe)}},ke.prototype.setVertexAttribPointers=function(Z,de,te){for(var ge=0;ge<this.attributes.length;ge++){var Fe=this.attributes[ge],Je=de.attributes[Fe.name];Je!==void 0&&Z.vertexAttribPointer(Je,Fe.components,Z[Ae[Fe.type]],!1,this.itemSize,Fe.offset+this.itemSize*(te||0))}},ke.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var we=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};we.prototype.get=function(){return this.current},we.prototype.set=function(Z){},we.prototype.getDefault=function(){return this.default},we.prototype.setDefault=function(){this.set(this.default)};var Ee=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return a.Color.transparent},Z.prototype.set=function(te){var ge=this.current;te.r===ge.r&&te.g===ge.g&&te.b===ge.b&&te.a===ge.a&&!this.dirty||(this.gl.clearColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},Z}(we),xe=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearDepth(te),this.current=te,this.dirty=!1)},Z}(we),Pe=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearStencil(te),this.current=te,this.dirty=!1)},Z}(we),Ue=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&te[3]===ge[3]&&!this.dirty||(this.gl.colorMask(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},Z}(we),Be=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthMask(te),this.current=te,this.dirty=!1)},Z}(we),Ne=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.stencilMask(te),this.current=te,this.dirty=!1)},Z}(we),Xe=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(te){var ge=this.current;te.func===ge.func&&te.ref===ge.ref&&te.mask===ge.mask&&!this.dirty||(this.gl.stencilFunc(te.func,te.ref,te.mask),this.current=te,this.dirty=!1)},Z}(we),ut=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[te.KEEP,te.KEEP,te.KEEP]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&!this.dirty||(this.gl.stencilOp(te[0],te[1],te[2]),this.current=te,this.dirty=!1)},Z}(we),dt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.STENCIL_TEST):ge.disable(ge.STENCIL_TEST),this.current=te,this.dirty=!1}},Z}(we),at=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&!this.dirty||(this.gl.depthRange(te[0],te[1]),this.current=te,this.dirty=!1)},Z}(we),We=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.DEPTH_TEST):ge.disable(ge.DEPTH_TEST),this.current=te,this.dirty=!1}},Z}(we),rt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthFunc(te),this.current=te,this.dirty=!1)},Z}(we),st=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.BLEND):ge.disable(ge.BLEND),this.current=te,this.dirty=!1}},Z}(we),ht=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[te.ONE,te.ZERO]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&!this.dirty||(this.gl.blendFunc(te[0],te[1]),this.current=te,this.dirty=!1)},Z}(we),vt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return a.Color.transparent},Z.prototype.set=function(te){var ge=this.current;te.r===ge.r&&te.g===ge.g&&te.b===ge.b&&te.a===ge.a&&!this.dirty||(this.gl.blendColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},Z}(we),At=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.blendEquation(te),this.current=te,this.dirty=!1)},Z}(we),et=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.CULL_FACE):ge.disable(ge.CULL_FACE),this.current=te,this.dirty=!1}},Z}(we),_e=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.cullFace(te),this.current=te,this.dirty=!1)},Z}(we),Ve=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.frontFace(te),this.current=te,this.dirty=!1)},Z}(we),Ze=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.useProgram(te),this.current=te,this.dirty=!1)},Z}(we),He=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.activeTexture(te),this.current=te,this.dirty=!1)},Z}(we),Ie=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[0,0,te.drawingBufferWidth,te.drawingBufferHeight]},Z.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&te[3]===ge[3]&&!this.dirty||(this.gl.viewport(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},Z}(we),be=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindFramebuffer(ge.FRAMEBUFFER,te),this.current=te,this.dirty=!1}},Z}(we),me=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindRenderbuffer(ge.RENDERBUFFER,te),this.current=te,this.dirty=!1}},Z}(we),Me=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindTexture(ge.TEXTURE_2D,te),this.current=te,this.dirty=!1}},Z}(we),Te=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindBuffer(ge.ARRAY_BUFFER,te),this.current=te,this.dirty=!1}},Z}(we),Oe=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){var ge=this.gl;ge.bindBuffer(ge.ELEMENT_ARRAY_BUFFER,te),this.current=te,this.dirty=!1},Z}(we),Ke=function(he){function Z(de){he.call(this,de),this.vao=de.extVertexArrayObject}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){!this.vao||te===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(te),this.current=te,this.dirty=!1)},Z}(we),nt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_ALIGNMENT,te),this.current=te,this.dirty=!1}},Z}(we),pt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te),this.current=te,this.dirty=!1}},Z}(we),yt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,te),this.current=te,this.dirty=!1}},Z}(we),Yt=function(he){function Z(de,te){he.call(this,de),this.context=de,this.parent=te}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(we),Xt=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_2D,te,0),this.current=te,this.dirty=!1}},Z}(Yt),St=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferRenderbuffer(ge.FRAMEBUFFER,ge.DEPTH_ATTACHMENT,ge.RENDERBUFFER,te),this.current=te,this.dirty=!1}},Z}(Yt),kt=function(Z,de,te,ge){this.context=Z,this.width=de,this.height=te;var Fe=Z.gl,Je=this.framebuffer=Fe.createFramebuffer();this.colorAttachment=new Xt(Z,Je),ge&&(this.depthAttachment=new St(Z,Je))};kt.prototype.destroy=function(){var Z=this.context.gl,de=this.colorAttachment.get();if(de&&Z.deleteTexture(de),this.depthAttachment){var te=this.depthAttachment.get();te&&Z.deleteRenderbuffer(te)}Z.deleteFramebuffer(this.framebuffer)};var Kt=519,mr=function(Z,de,te){this.func=Z,this.mask=de,this.range=te};mr.ReadOnly=!1,mr.ReadWrite=!0,mr.disabled=new mr(Kt,mr.ReadOnly,[0,1]);var mt=519,Zt=7680,Qt=function(Z,de,te,ge,Fe,Je){this.test=Z,this.ref=de,this.mask=te,this.fail=ge,this.depthFail=Fe,this.pass=Je};Qt.disabled=new Qt({func:mt,mask:0},0,0,Zt,Zt,Zt);var yr=0,sr=1,bt=771,lt=function(Z,de,te){this.blendFunction=Z,this.blendColor=de,this.mask=te};lt.Replace=[sr,yr],lt.disabled=new lt(lt.Replace,a.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,a.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([sr,bt],a.Color.transparent,[!0,!0,!0,!0]);var Tt=1029,Ct=2305,It=function(Z,de,te){this.enable=Z,this.mode=de,this.frontFace=te};It.disabled=new It(!1,Tt,Ct),It.backCCW=new It(!0,Tt,Ct);var Dt=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ee(this),this.clearDepth=new xe(this),this.clearStencil=new Pe(this),this.colorMask=new Ue(this),this.depthMask=new Be(this),this.stencilMask=new Ne(this),this.stencilFunc=new Xe(this),this.stencilOp=new ut(this),this.stencilTest=new dt(this),this.depthRange=new at(this),this.depthTest=new We(this),this.depthFunc=new rt(this),this.blend=new st(this),this.blendFunc=new ht(this),this.blendColor=new vt(this),this.blendEquation=new At(this),this.cullFace=new et(this),this.cullFaceSide=new _e(this),this.frontFace=new Ve(this),this.program=new Ze(this),this.activeTexture=new He(this),this.viewport=new Ie(this),this.bindFramebuffer=new be(this),this.bindRenderbuffer=new me(this),this.bindTexture=new Me(this),this.bindVertexBuffer=new Te(this),this.bindElementBuffer=new Oe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ke(this),this.pixelStoreUnpack=new nt(this),this.pixelStoreUnpackPremultiplyAlpha=new pt(this),this.pixelStoreUnpackFlipY=new yt(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=Z.getParameter(Z.MAX_TEXTURE_SIZE)};Dt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Dt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Dt.prototype.createIndexBuffer=function(Z,de){return new Ce(this,Z,de)},Dt.prototype.createVertexBuffer=function(Z,de,te){return new ke(this,Z,de,te)},Dt.prototype.createRenderbuffer=function(Z,de,te){var ge=this.gl,Fe=ge.createRenderbuffer();return this.bindRenderbuffer.set(Fe),ge.renderbufferStorage(ge.RENDERBUFFER,Z,de,te),this.bindRenderbuffer.set(null),Fe},Dt.prototype.createFramebuffer=function(Z,de,te){return new kt(this,Z,de,te)},Dt.prototype.clear=function(Z){var de=Z.color,te=Z.depth,ge=this.gl,Fe=0;de&&(Fe|=ge.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof te<"u"&&(Fe|=ge.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(te),this.depthMask.set(!0)),ge.clear(Fe)},Dt.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},Dt.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},Dt.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},Dt.prototype.setColorMode=function(Z){a.deepEqual(Z.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},Dt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Vt=function(he){function Z(de,te,ge){var Fe=this;he.call(this),this.id=de,this.dispatcher=ge,this.on("data",function(Je){Je.dataType==="source"&&Je.sourceDataType==="metadata"&&(Fe._sourceLoaded=!0),Fe._sourceLoaded&&!Fe._paused&&Je.dataType==="source"&&Je.sourceDataType==="content"&&(Fe.reload(),Fe.transform&&Fe.update(Fe.transform))}),this.on("error",function(){Fe._sourceErrored=!0}),this._source=X(de,te,ge,this),this._tiles={},this._cache=new ye(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(te){this.map=te,this._maxTileCacheSize=te?te._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(te)},Z.prototype.onRemove=function(te){this._source&&this._source.onRemove&&this._source.onRemove(te)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var te in this._tiles){var ge=this._tiles[te];if(ge.state!=="loaded"&&ge.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var te=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,te&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(te,ge){return this._source.loadTile(te,ge)},Z.prototype._unloadTile=function(te){if(this._source.unloadTile)return this._source.unloadTile(te,function(){})},Z.prototype._abortTile=function(te){if(this._source.abortTile)return this._source.abortTile(te,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(te){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ge in this._tiles){var Fe=this._tiles[ge];Fe.upload(te),Fe.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return a.values(this._tiles).map(function(te){return te.tileID}).sort(Bt).map(function(te){return te.key})},Z.prototype.getRenderableIds=function(te){var ge=this,Fe=[];for(var Je in this._tiles)this._isIdRenderable(Je,te)&&Fe.push(this._tiles[Je]);return te?Fe.sort(function(ft,Lt){var Ht=ft.tileID,qt=Lt.tileID,lr=new a.Point(Ht.canonical.x,Ht.canonical.y)._rotate(ge.transform.angle),or=new a.Point(qt.canonical.x,qt.canonical.y)._rotate(ge.transform.angle);return Ht.overscaledZ-qt.overscaledZ||or.y-lr.y||or.x-lr.x}).map(function(ft){return ft.tileID.key}):Fe.map(function(ft){return ft.tileID}).sort(Bt).map(function(ft){return ft.key})},Z.prototype.hasRenderableParent=function(te){var ge=this.findLoadedParent(te,0);return ge?this._isIdRenderable(ge.tileID.key):!1},Z.prototype._isIdRenderable=function(te,ge){return this._tiles[te]&&this._tiles[te].hasData()&&!this._coveredTiles[te]&&(ge||!this._tiles[te].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var te in this._tiles)this._tiles[te].state!=="errored"&&this._reloadTile(te,"reloading")},Z.prototype._reloadTile=function(te,ge){var Fe=this._tiles[te];Fe&&(Fe.state!=="loading"&&(Fe.state=ge),this._loadTile(Fe,this._tileLoaded.bind(this,Fe,te,ge)))},Z.prototype._tileLoaded=function(te,ge,Fe,Je){if(Je){te.state="errored",Je.status!==404?this._source.fire(new a.ErrorEvent(Je,{tile:te})):this.update(this.transform);return}te.timeAdded=a.browser.now(),Fe==="expired"&&(te.refreshedUponExpiration=!0),this._setTileReloadTimer(ge,te),this.getSource().type==="raster-dem"&&te.dem&&this._backfillDEM(te),this._state.initializeTileState(te,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:te,coord:te.tileID}))},Z.prototype._backfillDEM=function(te){for(var ge=this.getRenderableIds(),Fe=0;Fe<ge.length;Fe++){var Je=ge[Fe];if(te.neighboringTiles&&te.neighboringTiles[Je]){var ft=this.getTileByID(Je);Lt(te,ft),Lt(ft,te)}}function Lt(Ht,qt){Ht.needsHillshadePrepare=!0;var lr=qt.tileID.canonical.x-Ht.tileID.canonical.x,or=qt.tileID.canonical.y-Ht.tileID.canonical.y,Fr=Math.pow(2,Ht.tileID.canonical.z),Xr=qt.tileID.key;lr===0&&or===0||Math.abs(or)>1||(Math.abs(lr)>1&&(Math.abs(lr+Fr)===1?lr+=Fr:Math.abs(lr-Fr)===1&&(lr-=Fr)),!(!qt.dem||!Ht.dem)&&(Ht.dem.backfillBorder(qt.dem,lr,or),Ht.neighboringTiles&&Ht.neighboringTiles[Xr]&&(Ht.neighboringTiles[Xr].backfilled=!0)))}},Z.prototype.getTile=function(te){return this.getTileByID(te.key)},Z.prototype.getTileByID=function(te){return this._tiles[te]},Z.prototype._retainLoadedChildren=function(te,ge,Fe,Je){for(var ft in this._tiles){var Lt=this._tiles[ft];if(!(Je[ft]||!Lt.hasData()||Lt.tileID.overscaledZ<=ge||Lt.tileID.overscaledZ>Fe)){for(var Ht=Lt.tileID;Lt&&Lt.tileID.overscaledZ>ge+1;){var qt=Lt.tileID.scaledTo(Lt.tileID.overscaledZ-1);Lt=this._tiles[qt.key],Lt&&Lt.hasData()&&(Ht=qt)}for(var lr=Ht;lr.overscaledZ>ge;)if(lr=lr.scaledTo(lr.overscaledZ-1),te[lr.key]){Je[Ht.key]=Ht;break}}}},Z.prototype.findLoadedParent=function(te,ge){if(te.key in this._loadedParentTiles){var Fe=this._loadedParentTiles[te.key];return Fe&&Fe.tileID.overscaledZ>=ge?Fe:null}for(var Je=te.overscaledZ-1;Je>=ge;Je--){var ft=te.scaledTo(Je),Lt=this._getLoadedTile(ft);if(Lt)return Lt}},Z.prototype._getLoadedTile=function(te){var ge=this._tiles[te.key];if(ge&&ge.hasData())return ge;var Fe=this._cache.getByKey(te.wrapped().key);return Fe},Z.prototype.updateCacheSize=function(te){var ge=Math.ceil(te.width/this._source.tileSize)+1,Fe=Math.ceil(te.height/this._source.tileSize)+1,Je=ge*Fe,ft=5,Lt=Math.floor(Je*ft),Ht=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Lt):Lt;this._cache.setMaxSize(Ht)},Z.prototype.handleWrapJump=function(te){var ge=this._prevLng===void 0?te:this._prevLng,Fe=te-ge,Je=Fe/360,ft=Math.round(Je);if(this._prevLng=te,ft){var Lt={};for(var Ht in this._tiles){var qt=this._tiles[Ht];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ft),Lt[qt.tileID.key]=qt}this._tiles=Lt;for(var lr in this._timers)clearTimeout(this._timers[lr]),delete this._timers[lr];for(var or in this._tiles){var Fr=this._tiles[or];this._setTileReloadTimer(or,Fr)}}},Z.prototype.update=function(te){var ge=this;if(this.transform=te,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(te),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Fe;this.used?this._source.tileID?Fe=te.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(la){return new a.OverscaledTileID(la.canonical.z,la.wrap,la.canonical.z,la.canonical.x,la.canonical.y)}):(Fe=te.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Fe=Fe.filter(function(la){return ge._source.hasTile(la)}))):Fe=[];var Je=te.coveringZoomLevel(this._source),ft=Math.max(Je-Z.maxOverzooming,this._source.minzoom),Lt=Math.max(Je+Z.maxUnderzooming,this._source.minzoom),Ht=this._updateRetainedTiles(Fe,Je);if($t(this._source.type)){for(var qt={},lr={},or=Object.keys(Ht),Fr=0,Xr=or;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr],jr=Ht[Yr],Jr=this._tiles[Yr];if(!(!Jr||Jr.fadeEndTime&&Jr.fadeEndTime<=a.browser.now())){var cn=this.findLoadedParent(jr,ft);cn&&(this._addTile(cn.tileID),qt[cn.tileID.key]=cn.tileID),lr[Yr]=jr}}this._retainLoadedChildren(lr,Je,Lt,Ht);for(var Fn in qt)Ht[Fn]||(this._coveredTiles[Fn]=!0,Ht[Fn]=qt[Fn])}for(var Bn in Ht)this._tiles[Bn].clearFadeHold();for(var Yn=a.keysDifference(this._tiles,Ht),Xn=0,Gn=Yn;Xn<Gn.length;Xn+=1){var Kn=Gn[Xn],ta=this._tiles[Kn];ta.hasSymbolBuckets&&!ta.holdingForFade()?ta.setHoldDuration(this.map._fadeDuration):(!ta.hasSymbolBuckets||ta.symbolFadeFinished())&&this._removeTile(Kn)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var te in this._tiles)this._tiles[te].holdingForFade()&&this._removeTile(te)},Z.prototype._updateRetainedTiles=function(te,ge){for(var Fe={},Je={},ft=Math.max(ge-Z.maxOverzooming,this._source.minzoom),Lt=Math.max(ge+Z.maxUnderzooming,this._source.minzoom),Ht={},qt=0,lr=te;qt<lr.length;qt+=1){var or=lr[qt],Fr=this._addTile(or);Fe[or.key]=or,!Fr.hasData()&&ge<this._source.maxzoom&&(Ht[or.key]=or)}this._retainLoadedChildren(Ht,ge,Lt,Fe);for(var Xr=0,Yr=te;Xr<Yr.length;Xr+=1){var jr=Yr[Xr],Jr=this._tiles[jr.key];if(!Jr.hasData()){if(ge+1>this._source.maxzoom){var cn=jr.children(this._source.maxzoom)[0],Fn=this.getTile(cn);if(Fn&&Fn.hasData()){Fe[cn.key]=cn;continue}}else{var Bn=jr.children(this._source.maxzoom);if(Fe[Bn[0].key]&&Fe[Bn[1].key]&&Fe[Bn[2].key]&&Fe[Bn[3].key])continue}for(var Yn=Jr.wasRequested(),Xn=jr.overscaledZ-1;Xn>=ft;--Xn){var Gn=jr.scaledTo(Xn);if(Je[Gn.key]||(Je[Gn.key]=!0,Jr=this.getTile(Gn),!Jr&&Yn&&(Jr=this._addTile(Gn)),Jr&&(Fe[Gn.key]=Gn,Yn=Jr.wasRequested(),Jr.hasData())))break}}}return Fe},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var te in this._tiles){for(var ge=[],Fe=void 0,Je=this._tiles[te].tileID;Je.overscaledZ>0;){if(Je.key in this._loadedParentTiles){Fe=this._loadedParentTiles[Je.key];break}ge.push(Je.key);var ft=Je.scaledTo(Je.overscaledZ-1);if(Fe=this._getLoadedTile(ft),Fe)break;Je=ft}for(var Lt=0,Ht=ge;Lt<Ht.length;Lt+=1){var qt=Ht[Lt];this._loadedParentTiles[qt]=Fe}}},Z.prototype._addTile=function(te){var ge=this._tiles[te.key];if(ge)return ge;ge=this._cache.getAndRemove(te),ge&&(this._setTileReloadTimer(te.key,ge),ge.tileID=te,this._state.initializeTileState(ge,this.map?this.map.painter:null),this._cacheTimers[te.key]&&(clearTimeout(this._cacheTimers[te.key]),delete this._cacheTimers[te.key],this._setTileReloadTimer(te.key,ge)));var Fe=!!ge;return Fe||(ge=new a.Tile(te,this._source.tileSize*te.overscaleFactor()),this._loadTile(ge,this._tileLoaded.bind(this,ge,te.key,ge.state))),ge?(ge.uses++,this._tiles[te.key]=ge,Fe||this._source.fire(new a.Event("dataloading",{tile:ge,coord:ge.tileID,dataType:"source"})),ge):null},Z.prototype._setTileReloadTimer=function(te,ge){var Fe=this;te in this._timers&&(clearTimeout(this._timers[te]),delete this._timers[te]);var Je=ge.getExpiryTimeout();Je&&(this._timers[te]=setTimeout(function(){Fe._reloadTile(te,"expired"),delete Fe._timers[te]},Je))},Z.prototype._removeTile=function(te){var ge=this._tiles[te];ge&&(ge.uses--,delete this._tiles[te],this._timers[te]&&(clearTimeout(this._timers[te]),delete this._timers[te]),!(ge.uses>0)&&(ge.hasData()&&ge.state!=="reloading"?this._cache.add(ge.tileID,ge,ge.getExpiryTimeout()):(ge.aborted=!0,this._abortTile(ge),this._unloadTile(ge))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var te in this._tiles)this._removeTile(te);this._cache.reset()},Z.prototype.tilesIn=function(te,ge,Fe){var Je=this,ft=[],Lt=this.transform;if(!Lt)return ft;for(var Ht=Fe?Lt.getCameraQueryGeometry(te):te,qt=te.map(function(Xn){return Lt.pointCoordinate(Xn)}),lr=Ht.map(function(Xn){return Lt.pointCoordinate(Xn)}),or=this.getIds(),Fr=1/0,Xr=1/0,Yr=-1/0,jr=-1/0,Jr=0,cn=lr;Jr<cn.length;Jr+=1){var Fn=cn[Jr];Fr=Math.min(Fr,Fn.x),Xr=Math.min(Xr,Fn.y),Yr=Math.max(Yr,Fn.x),jr=Math.max(jr,Fn.y)}for(var Bn=function(Xn){var Gn=Je._tiles[or[Xn]];if(!Gn.holdingForFade()){var Kn=Gn.tileID,ta=Math.pow(2,Lt.zoom-Gn.tileID.overscaledZ),la=ge*Gn.queryPadding*a.EXTENT/Gn.tileSize/ta,ba=[Kn.getTilePoint(new a.MercatorCoordinate(Fr,Xr)),Kn.getTilePoint(new a.MercatorCoordinate(Yr,jr))];if(ba[0].x-la<a.EXTENT&&ba[0].y-la<a.EXTENT&&ba[1].x+la>=0&&ba[1].y+la>=0){var va=qt.map(function($a){return Kn.getTilePoint($a)}),Oa=lr.map(function($a){return Kn.getTilePoint($a)});ft.push({tile:Gn,tileID:Kn,queryGeometry:va,cameraQueryGeometry:Oa,scale:ta})}}},Yn=0;Yn<or.length;Yn++)Bn(Yn);return ft},Z.prototype.getVisibleCoordinates=function(te){for(var ge=this,Fe=this.getRenderableIds(te).map(function(Ht){return ge._tiles[Ht].tileID}),Je=0,ft=Fe;Je<ft.length;Je+=1){var Lt=ft[Je];Lt.posMatrix=this.transform.calculatePosMatrix(Lt.toUnwrapped())}return Fe},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if($t(this._source.type))for(var te in this._tiles){var ge=this._tiles[te];if(ge.fadeEndTime!==void 0&&ge.fadeEndTime>=a.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(te,ge,Fe){te=te||"_geojsonTileLayer",this._state.updateState(te,ge,Fe)},Z.prototype.removeFeatureState=function(te,ge,Fe){te=te||"_geojsonTileLayer",this._state.removeFeatureState(te,ge,Fe)},Z.prototype.getFeatureState=function(te,ge){return te=te||"_geojsonTileLayer",this._state.getState(te,ge)},Z.prototype.setDependencies=function(te,ge,Fe){var Je=this._tiles[te];Je&&Je.setDependencies(ge,Fe)},Z.prototype.reloadTilesForDependencies=function(te,ge){for(var Fe in this._tiles){var Je=this._tiles[Fe];Je.hasDependency(te,ge)&&this._reloadTile(Fe,"reloading")}this._cache.filter(function(ft){return!ft.hasDependency(te,ge)})},Z}(a.Evented);Vt.maxOverzooming=10,Vt.maxUnderzooming=3;function Bt(he,Z){var de=Math.abs(he.wrap*2)-+(he.wrap<0),te=Math.abs(Z.wrap*2)-+(Z.wrap<0);return he.overscaledZ-Z.overscaledZ||te-de||Z.canonical.y-he.canonical.y||Z.canonical.x-he.canonical.x}function $t(he){return he==="raster"||he==="image"||he==="video"}function fr(){return new a.window.Worker(uo.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new fr);return this.active[Z]=!0,this.workers.slice()},dr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[cr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var Ye=Math.floor(a.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(Ye,6),1);var je;function zt(){return je||(je=new dr),je}function Ft(){var he=zt();he.acquire(cr)}function Jt(){var he=je;he&&(he.isPreloaded()&&he.numActive()===1?(he.release(cr),je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function tr(he,Z){var de={};for(var te in he)te!=="ref"&&(de[te]=he[te]);return a.refProperties.forEach(function(ge){ge in Z&&(de[ge]=Z[ge])}),de}function ur(he){he=he.slice();for(var Z=Object.create(null),de=0;de<he.length;de++)Z[he[de].id]=he[de];for(var te=0;te<he.length;te++)"ref"in he[te]&&(he[te]=tr(he[te],Z[he[te].ref]));return he}function nr(){var he={},Z=a.styleSpec.$version;for(var de in a.styleSpec.$root){var te=a.styleSpec.$root[de];if(te.required){var ge=null;de==="version"?ge=Z:te.type==="array"?ge=[]:ge={},ge!=null&&(he[de]=ge)}}return he}var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(he,Z,de){de.push({command:Nt.addSource,args:[he,Z[he]]})}function gr(he,Z,de){Z.push({command:Nt.removeSource,args:[he]}),de[he]=!0}function br(he,Z,de,te){gr(he,de,te),hr(he,Z,de)}function vr(he,Z,de){var te;for(te in he[de])if(he[de].hasOwnProperty(te)&&te!=="data"&&!a.deepEqual(he[de][te],Z[de][te]))return!1;for(te in Z[de])if(Z[de].hasOwnProperty(te)&&te!=="data"&&!a.deepEqual(he[de][te],Z[de][te]))return!1;return!0}function Gr(he,Z,de,te){he=he||{},Z=Z||{};var ge;for(ge in he)he.hasOwnProperty(ge)&&(Z.hasOwnProperty(ge)||gr(ge,de,te));for(ge in Z)Z.hasOwnProperty(ge)&&(he.hasOwnProperty(ge)?a.deepEqual(he[ge],Z[ge])||(he[ge].type==="geojson"&&Z[ge].type==="geojson"&&vr(he,Z,ge)?de.push({command:Nt.setGeoJSONSourceData,args:[ge,Z[ge].data]}):br(ge,Z,de,te)):hr(ge,Z,de))}function Dr(he,Z,de,te,ge,Fe){he=he||{},Z=Z||{};var Je;for(Je in he)he.hasOwnProperty(Je)&&(a.deepEqual(he[Je],Z[Je])||de.push({command:Fe,args:[te,Je,Z[Je],ge]}));for(Je in Z)!Z.hasOwnProperty(Je)||he.hasOwnProperty(Je)||a.deepEqual(he[Je],Z[Je])||de.push({command:Fe,args:[te,Je,Z[Je],ge]})}function _r(he){return he.id}function hn(he,Z){return he[Z.id]=Z,he}function nn(he,Z,de){he=he||[],Z=Z||[];var te=he.map(_r),ge=Z.map(_r),Fe=he.reduce(hn,{}),Je=Z.reduce(hn,{}),ft=te.slice(),Lt=Object.create(null),Ht,qt,lr,or,Fr,Xr,Yr;for(Ht=0,qt=0;Ht<te.length;Ht++)lr=te[Ht],Je.hasOwnProperty(lr)?qt++:(de.push({command:Nt.removeLayer,args:[lr]}),ft.splice(ft.indexOf(lr,qt),1));for(Ht=0,qt=0;Ht<ge.length;Ht++)lr=ge[ge.length-1-Ht],ft[ft.length-1-Ht]!==lr&&(Fe.hasOwnProperty(lr)?(de.push({command:Nt.removeLayer,args:[lr]}),ft.splice(ft.lastIndexOf(lr,ft.length-qt),1)):qt++,Xr=ft[ft.length-Ht],de.push({command:Nt.addLayer,args:[Je[lr],Xr]}),ft.splice(ft.length-Ht,0,lr),Lt[lr]=!0);for(Ht=0;Ht<ge.length;Ht++)if(lr=ge[Ht],or=Fe[lr],Fr=Je[lr],!(Lt[lr]||a.deepEqual(or,Fr))){if(!a.deepEqual(or.source,Fr.source)||!a.deepEqual(or["source-layer"],Fr["source-layer"])||!a.deepEqual(or.type,Fr.type)){de.push({command:Nt.removeLayer,args:[lr]}),Xr=ft[ft.lastIndexOf(lr)+1],de.push({command:Nt.addLayer,args:[Fr,Xr]});continue}Dr(or.layout,Fr.layout,de,lr,null,Nt.setLayoutProperty),Dr(or.paint,Fr.paint,de,lr,null,Nt.setPaintProperty),a.deepEqual(or.filter,Fr.filter)||de.push({command:Nt.setFilter,args:[lr,Fr.filter]}),(!a.deepEqual(or.minzoom,Fr.minzoom)||!a.deepEqual(or.maxzoom,Fr.maxzoom))&&de.push({command:Nt.setLayerZoomRange,args:[lr,Fr.minzoom,Fr.maxzoom]});for(Yr in or)or.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Dr(or[Yr],Fr[Yr],de,lr,Yr.slice(6),Nt.setPaintProperty):a.deepEqual(or[Yr],Fr[Yr])||de.push({command:Nt.setLayerProperty,args:[lr,Yr,Fr[Yr]]})));for(Yr in Fr)!Fr.hasOwnProperty(Yr)||or.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Dr(or[Yr],Fr[Yr],de,lr,Yr.slice(6),Nt.setPaintProperty):a.deepEqual(or[Yr],Fr[Yr])||de.push({command:Nt.setLayerProperty,args:[lr,Yr,Fr[Yr]]}))}}function Pn(he,Z){if(!he)return[{command:Nt.setStyle,args:[Z]}];var de=[];try{if(!a.deepEqual(he.version,Z.version))return[{command:Nt.setStyle,args:[Z]}];a.deepEqual(he.center,Z.center)||de.push({command:Nt.setCenter,args:[Z.center]}),a.deepEqual(he.zoom,Z.zoom)||de.push({command:Nt.setZoom,args:[Z.zoom]}),a.deepEqual(he.bearing,Z.bearing)||de.push({command:Nt.setBearing,args:[Z.bearing]}),a.deepEqual(he.pitch,Z.pitch)||de.push({command:Nt.setPitch,args:[Z.pitch]}),a.deepEqual(he.sprite,Z.sprite)||de.push({command:Nt.setSprite,args:[Z.sprite]}),a.deepEqual(he.glyphs,Z.glyphs)||de.push({command:Nt.setGlyphs,args:[Z.glyphs]}),a.deepEqual(he.transition,Z.transition)||de.push({command:Nt.setTransition,args:[Z.transition]}),a.deepEqual(he.light,Z.light)||de.push({command:Nt.setLight,args:[Z.light]});var te={},ge=[];Gr(he.sources,Z.sources,ge,te);var Fe=[];he.layers&&he.layers.forEach(function(Je){te[Je.source]?de.push({command:Nt.removeLayer,args:[Je.id]}):Fe.push(Je)}),de=de.concat(ge),nn(Fe,Z.layers,de)}catch(Je){console.warn("Unable to compute style diff:",Je),de=[{command:Nt.setStyle,args:[Z]}]}return de}var Cn=function(Z,de){this.reset(Z,de)};Cn.prototype.reset=function(Z,de){this.points=Z||[],this._distances=[0];for(var te=1;te<this.points.length;te++)this._distances[te]=this._distances[te-1]+this.points[te].dist(this.points[te-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Cn.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=a.clamp(Z,0,1);for(var de=1,te=this._distances[de],ge=Z*this.paddedLength+this.padding;te<ge&&de<this._distances.length;)te=this._distances[++de];var Fe=de-1,Je=this._distances[Fe],ft=te-Je,Lt=ft>0?(ge-Je)/ft:0;return this.points[Fe].mult(1-Lt).add(this.points[de].mult(Lt))};var Ar=function(Z,de,te){var ge=this.boxCells=[],Fe=this.circleCells=[];this.xCellCount=Math.ceil(Z/te),this.yCellCount=Math.ceil(de/te);for(var Je=0;Je<this.xCellCount*this.yCellCount;Je++)ge.push([]),Fe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=de,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};Ar.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ar.prototype.insert=function(Z,de,te,ge,Fe){this._forEachCell(de,te,ge,Fe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(de),this.bboxes.push(te),this.bboxes.push(ge),this.bboxes.push(Fe)},Ar.prototype.insertCircle=function(Z,de,te,ge){this._forEachCell(de-ge,te-ge,de+ge,te+ge,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(de),this.circles.push(te),this.circles.push(ge)},Ar.prototype._insertBoxCell=function(Z,de,te,ge,Fe,Je){this.boxCells[Fe].push(Je)},Ar.prototype._insertCircleCell=function(Z,de,te,ge,Fe,Je){this.circleCells[Fe].push(Je)},Ar.prototype._query=function(Z,de,te,ge,Fe,Je){if(te<0||Z>this.width||ge<0||de>this.height)return Fe?!1:[];var ft=[];if(Z<=0&&de<=0&&this.width<=te&&this.height<=ge){if(Fe)return!0;for(var Lt=0;Lt<this.boxKeys.length;Lt++)ft.push({key:this.boxKeys[Lt],x1:this.bboxes[Lt*4],y1:this.bboxes[Lt*4+1],x2:this.bboxes[Lt*4+2],y2:this.bboxes[Lt*4+3]});for(var Ht=0;Ht<this.circleKeys.length;Ht++){var qt=this.circles[Ht*3],lr=this.circles[Ht*3+1],or=this.circles[Ht*3+2];ft.push({key:this.circleKeys[Ht],x1:qt-or,y1:lr-or,x2:qt+or,y2:lr+or})}return Je?ft.filter(Je):ft}else{var Fr={hitTest:Fe,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,de,te,ge,this._queryCell,ft,Fr,Je),Fe?ft.length>0:ft}},Ar.prototype._queryCircle=function(Z,de,te,ge,Fe){var Je=Z-te,ft=Z+te,Lt=de-te,Ht=de+te;if(ft<0||Je>this.width||Ht<0||Lt>this.height)return ge?!1:[];var qt=[],lr={hitTest:ge,circle:{x:Z,y:de,radius:te},seenUids:{box:{},circle:{}}};return this._forEachCell(Je,Lt,ft,Ht,this._queryCellCircle,qt,lr,Fe),ge?qt.length>0:qt},Ar.prototype.query=function(Z,de,te,ge,Fe){return this._query(Z,de,te,ge,!1,Fe)},Ar.prototype.hitTest=function(Z,de,te,ge,Fe){return this._query(Z,de,te,ge,!0,Fe)},Ar.prototype.hitTestCircle=function(Z,de,te,ge){return this._queryCircle(Z,de,te,!0,ge)},Ar.prototype._queryCell=function(Z,de,te,ge,Fe,Je,ft,Lt){var Ht=ft.seenUids,qt=this.boxCells[Fe];if(qt!==null)for(var lr=this.bboxes,or=0,Fr=qt;or<Fr.length;or+=1){var Xr=Fr[or];if(!Ht.box[Xr]){Ht.box[Xr]=!0;var Yr=Xr*4;if(Z<=lr[Yr+2]&&de<=lr[Yr+3]&&te>=lr[Yr+0]&&ge>=lr[Yr+1]&&(!Lt||Lt(this.boxKeys[Xr]))){if(ft.hitTest)return Je.push(!0),!0;Je.push({key:this.boxKeys[Xr],x1:lr[Yr],y1:lr[Yr+1],x2:lr[Yr+2],y2:lr[Yr+3]})}}}var jr=this.circleCells[Fe];if(jr!==null)for(var Jr=this.circles,cn=0,Fn=jr;cn<Fn.length;cn+=1){var Bn=Fn[cn];if(!Ht.circle[Bn]){Ht.circle[Bn]=!0;var Yn=Bn*3;if(this._circleAndRectCollide(Jr[Yn],Jr[Yn+1],Jr[Yn+2],Z,de,te,ge)&&(!Lt||Lt(this.circleKeys[Bn]))){if(ft.hitTest)return Je.push(!0),!0;var Xn=Jr[Yn],Gn=Jr[Yn+1],Kn=Jr[Yn+2];Je.push({key:this.circleKeys[Bn],x1:Xn-Kn,y1:Gn-Kn,x2:Xn+Kn,y2:Gn+Kn})}}}},Ar.prototype._queryCellCircle=function(Z,de,te,ge,Fe,Je,ft,Lt){var Ht=ft.circle,qt=ft.seenUids,lr=this.boxCells[Fe];if(lr!==null)for(var or=this.bboxes,Fr=0,Xr=lr;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr];if(!qt.box[Yr]){qt.box[Yr]=!0;var jr=Yr*4;if(this._circleAndRectCollide(Ht.x,Ht.y,Ht.radius,or[jr+0],or[jr+1],or[jr+2],or[jr+3])&&(!Lt||Lt(this.boxKeys[Yr])))return Je.push(!0),!0}}var Jr=this.circleCells[Fe];if(Jr!==null)for(var cn=this.circles,Fn=0,Bn=Jr;Fn<Bn.length;Fn+=1){var Yn=Bn[Fn];if(!qt.circle[Yn]){qt.circle[Yn]=!0;var Xn=Yn*3;if(this._circlesCollide(cn[Xn],cn[Xn+1],cn[Xn+2],Ht.x,Ht.y,Ht.radius)&&(!Lt||Lt(this.circleKeys[Yn])))return Je.push(!0),!0}}},Ar.prototype._forEachCell=function(Z,de,te,ge,Fe,Je,ft,Lt){for(var Ht=this._convertToXCellCoord(Z),qt=this._convertToYCellCoord(de),lr=this._convertToXCellCoord(te),or=this._convertToYCellCoord(ge),Fr=Ht;Fr<=lr;Fr++)for(var Xr=qt;Xr<=or;Xr++){var Yr=this.xCellCount*Xr+Fr;if(Fe.call(this,Z,de,te,ge,Yr,Je,ft,Lt))return}},Ar.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},Ar.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},Ar.prototype._circlesCollide=function(Z,de,te,ge,Fe,Je){var ft=ge-Z,Lt=Fe-de,Ht=te+Je;return Ht*Ht>ft*ft+Lt*Lt},Ar.prototype._circleAndRectCollide=function(Z,de,te,ge,Fe,Je,ft){var Lt=(Je-ge)/2,Ht=Math.abs(Z-(ge+Lt));if(Ht>Lt+te)return!1;var qt=(ft-Fe)/2,lr=Math.abs(de-(Fe+qt));if(lr>qt+te)return!1;if(Ht<=Lt||lr<=qt)return!0;var or=Ht-Lt,Fr=lr-qt;return or*or+Fr*Fr<=te*te};function Pr(he,Z,de,te,ge){var Fe=a.create();return Z?(a.scale(Fe,Fe,[1/ge,1/ge,1]),de||a.rotateZ(Fe,Fe,te.angle)):a.multiply(Fe,te.labelPlaneMatrix,he),Fe}function Wr(he,Z,de,te,ge){if(Z){var Fe=a.clone(he);return a.scale(Fe,Fe,[ge,ge,1]),de||a.rotateZ(Fe,Fe,-te.angle),Fe}else return te.glCoordMatrix}function Vr(he,Z){var de=[he.x,he.y,0,1];Tr(de,de,Z);var te=de[3];return{point:new a.Point(de[0]/te,de[1]/te),signedDistanceFromCamera:te}}function on(he,Z){return .5+.5*(he/Z)}function yn(he,Z){var de=he[0]/he[3],te=he[1]/he[3],ge=de>=-Z[0]&&de<=Z[0]&&te>=-Z[1]&&te<=Z[1];return ge}function mn(he,Z,de,te,ge,Fe,Je,ft){var Lt=te?he.textSizeData:he.iconSizeData,Ht=a.evaluateSizeForZoom(Lt,de.transform.zoom),qt=[256/de.width*2+1,256/de.height*2+1],lr=te?he.text.dynamicLayoutVertexArray:he.icon.dynamicLayoutVertexArray;lr.clear();for(var or=he.lineVertexArray,Fr=te?he.text.placedSymbolArray:he.icon.placedSymbolArray,Xr=de.transform.width/de.transform.height,Yr=!1,jr=0;jr<Fr.length;jr++){var Jr=Fr.get(jr);if(Jr.hidden||Jr.writingMode===a.WritingMode.vertical&&!Yr){na(Jr.numGlyphs,lr);continue}Yr=!1;var cn=[Jr.anchorX,Jr.anchorY,0,1];if(a.transformMat4(cn,cn,Z),!yn(cn,qt)){na(Jr.numGlyphs,lr);continue}var Fn=cn[3],Bn=on(de.transform.cameraToCenterDistance,Fn),Yn=a.evaluateSizeForFeature(Lt,Ht,Jr),Xn=Je?Yn/Bn:Yn*Bn,Gn=new a.Point(Jr.anchorX,Jr.anchorY),Kn=Vr(Gn,ge).point,ta={},la=aa(Jr,Xn,!1,ft,Z,ge,Fe,he.glyphOffsetArray,or,lr,Kn,Gn,ta,Xr);Yr=la.useVertical,(la.notEnoughRoom||Yr||la.needsFlipping&&aa(Jr,Xn,!0,ft,Z,ge,Fe,he.glyphOffsetArray,or,lr,Kn,Gn,ta,Xr).notEnoughRoom)&&na(Jr.numGlyphs,lr)}te?he.text.dynamicLayoutVertexBuffer.updateData(lr):he.icon.dynamicLayoutVertexBuffer.updateData(lr)}function Ln(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt){var lr=ft.glyphStartIndex+ft.numGlyphs,or=ft.lineStartIndex,Fr=ft.lineStartIndex+ft.lineLength,Xr=Z.getoffsetX(ft.glyphStartIndex),Yr=Z.getoffsetX(lr-1),jr=pa(he*Xr,de,te,ge,Fe,Je,ft.segment,or,Fr,Lt,Ht,qt);if(!jr)return null;var Jr=pa(he*Yr,de,te,ge,Fe,Je,ft.segment,or,Fr,Lt,Ht,qt);return Jr?{first:jr,last:Jr}:null}function zn(he,Z,de,te){if(he===a.WritingMode.horizontal){var ge=Math.abs(de.y-Z.y),Fe=Math.abs(de.x-Z.x)*te;if(ge>Fe)return{useVertical:!0}}return(he===a.WritingMode.vertical?Z.y<de.y:Z.x>de.x)?{needsFlipping:!0}:null}function aa(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt,lr,or,Fr){var Xr=Z/24,Yr=he.lineOffsetX*Xr,jr=he.lineOffsetY*Xr,Jr;if(he.numGlyphs>1){var cn=he.glyphStartIndex+he.numGlyphs,Fn=he.lineStartIndex,Bn=he.lineStartIndex+he.lineLength,Yn=Ln(Xr,ft,Yr,jr,de,qt,lr,he,Lt,Fe,or);if(!Yn)return{notEnoughRoom:!0};var Xn=Vr(Yn.first.point,Je).point,Gn=Vr(Yn.last.point,Je).point;if(te&&!de){var Kn=zn(he.writingMode,Xn,Gn,Fr);if(Kn)return Kn}Jr=[Yn.first];for(var ta=he.glyphStartIndex+1;ta<cn-1;ta++)Jr.push(pa(Xr*ft.getoffsetX(ta),Yr,jr,de,qt,lr,he.segment,Fn,Bn,Lt,Fe,or));Jr.push(Yn.last)}else{if(te&&!de){var la=Vr(lr,ge).point,ba=he.lineStartIndex+he.segment+1,va=new a.Point(Lt.getx(ba),Lt.gety(ba)),Oa=Vr(va,ge),$a=Oa.signedDistanceFromCamera>0?Oa.point:ha(lr,va,la,1,ge),Wa=zn(he.writingMode,la,$a,Fr);if(Wa)return Wa}var Ma=pa(Xr*ft.getoffsetX(he.glyphStartIndex),Yr,jr,de,qt,lr,he.segment,he.lineStartIndex,he.lineStartIndex+he.lineLength,Lt,Fe,or);if(!Ma)return{notEnoughRoom:!0};Jr=[Ma]}for(var Ya=0,Ha=Jr;Ya<Ha.length;Ya+=1){var ii=Ha[Ya];a.addDynamicAttributes(Ht,ii.point,ii.angle)}return{}}function ha(he,Z,de,te,ge){var Fe=Vr(he.add(he.sub(Z)._unit()),ge).point,Je=de.sub(Fe);return de.add(Je._mult(te/Je.mag()))}function pa(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt,lr){var or=te?he-Z:he+Z,Fr=or>0?1:-1,Xr=0;te&&(Fr*=-1,Xr=Math.PI),Fr<0&&(Xr+=Math.PI);for(var Yr=Fr>0?ft+Je:ft+Je+1,jr=ge,Jr=ge,cn=0,Fn=0,Bn=Math.abs(or),Yn=[];cn+Fn<=Bn;){if(Yr+=Fr,Yr<ft||Yr>=Lt)return null;if(Jr=jr,Yn.push(jr),jr=lr[Yr],jr===void 0){var Xn=new a.Point(Ht.getx(Yr),Ht.gety(Yr)),Gn=Vr(Xn,qt);if(Gn.signedDistanceFromCamera>0)jr=lr[Yr]=Gn.point;else{var Kn=Yr-Fr,ta=cn===0?Fe:new a.Point(Ht.getx(Kn),Ht.gety(Kn));jr=ha(ta,Xn,Jr,Bn-cn+1,qt)}}cn+=Fn,Fn=Jr.dist(jr)}var la=(Bn-cn)/Fn,ba=jr.sub(Jr),va=ba.mult(la)._add(Jr);va._add(ba._unit()._perp()._mult(de*Fr));var Oa=Xr+Math.atan2(jr.y-Jr.y,jr.x-Jr.x);return Yn.push(va),{point:va,angle:Oa,path:Yn}}var ua=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function na(he,Z){for(var de=0;de<he;de++){var te=Z.length;Z.resize(te+4),Z.float32.set(ua,te*3)}}function Tr(he,Z,de){var te=Z[0],ge=Z[1];return he[0]=de[0]*te+de[4]*ge+de[12],he[1]=de[1]*te+de[5]*ge+de[13],he[3]=de[3]*te+de[7]*ge+de[15],he}var an=100,qr=function(Z,de,te){de===void 0&&(de=new Ar(Z.width+2*an,Z.height+2*an,25)),te===void 0&&(te=new Ar(Z.width+2*an,Z.height+2*an,25)),this.transform=Z,this.grid=de,this.ignoredGrid=te,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+an,this.screenBottomBoundary=Z.height+an,this.gridRightBoundary=Z.width+2*an,this.gridBottomBoundary=Z.height+2*an};qr.prototype.placeCollisionBox=function(Z,de,te,ge,Fe){var Je=this.projectAndGetPerspectiveRatio(ge,Z.anchorPointX,Z.anchorPointY),ft=te*Je.perspectiveRatio,Lt=Z.x1*ft+Je.point.x,Ht=Z.y1*ft+Je.point.y,qt=Z.x2*ft+Je.point.x,lr=Z.y2*ft+Je.point.y;return!this.isInsideGrid(Lt,Ht,qt,lr)||!de&&this.grid.hitTest(Lt,Ht,qt,lr,Fe)?{box:[],offscreen:!1}:{box:[Lt,Ht,qt,lr],offscreen:this.isOffscreen(Lt,Ht,qt,lr)}},qr.prototype.placeCollisionCircles=function(Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt,lr,or,Fr){var Xr=[],Yr=new a.Point(de.anchorX,de.anchorY),jr=Vr(Yr,Je),Jr=on(this.transform.cameraToCenterDistance,jr.signedDistanceFromCamera),cn=qt?Fe/Jr:Fe*Jr,Fn=cn/a.ONE_EM,Bn=Vr(Yr,ft).point,Yn={},Xn=de.lineOffsetX*Fn,Gn=de.lineOffsetY*Fn,Kn=Ln(Fn,ge,Xn,Gn,!1,Bn,Yr,de,te,ft,Yn),ta=!1,la=!1,ba=!0;if(Kn){for(var va=or*.5*Jr+Fr,Oa=new a.Point(-an,-an),$a=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Wa=new Cn,Ma=Kn.first,Ya=Kn.last,Ha=[],ii=Ma.path.length-1;ii>=1;ii--)Ha.push(Ma.path[ii]);for(var ei=1;ei<Ya.path.length;ei++)Ha.push(Ya.path[ei]);var Ai=va*2.5;if(Lt){var Ja=Ha.map(function(Cl){return Vr(Cl,Lt)});Ja.some(function(Cl){return Cl.signedDistanceFromCamera<=0})?Ha=[]:Ha=Ja.map(function(Cl){return Cl.point})}var yi=[];if(Ha.length>0){for(var ja=Ha[0].clone(),Qa=Ha[0].clone(),Ui=1;Ui<Ha.length;Ui++)ja.x=Math.min(ja.x,Ha[Ui].x),ja.y=Math.min(ja.y,Ha[Ui].y),Qa.x=Math.max(Qa.x,Ha[Ui].x),Qa.y=Math.max(Qa.y,Ha[Ui].y);ja.x>=Oa.x&&Qa.x<=$a.x&&ja.y>=Oa.y&&Qa.y<=$a.y?yi=[Ha]:Qa.x<Oa.x||ja.x>$a.x||Qa.y<Oa.y||ja.y>$a.y?yi=[]:yi=a.clipLine([Ha],Oa.x,Oa.y,$a.x,$a.y)}for(var wo=0,al=yi;wo<al.length;wo+=1){var il=al[wo];Wa.reset(il,va*.25);var Ml=0;Wa.length<=.5*va?Ml=1:Ml=Math.ceil(Wa.paddedLength/Ai)+1;for(var nu=0;nu<Ml;nu++){var Kf=nu/Math.max(Ml-1,1),au=Wa.lerp(Kf),us=au.x+an,iu=au.y+an;Xr.push(us,iu,va,0);var Ss=us-va,fs=iu-va,El=us+va,Uu=iu+va;if(ba=ba&&this.isOffscreen(Ss,fs,El,Uu),la=la||this.isInsideGrid(Ss,fs,El,Uu),!Z&&this.grid.hitTestCircle(us,iu,va,lr)&&(ta=!0,!Ht))return{circles:[],offscreen:!1,collisionDetected:ta}}}}return{circles:!Ht&&ta||!la?[]:Xr,offscreen:ba,collisionDetected:ta}},qr.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],te=1/0,ge=1/0,Fe=-1/0,Je=-1/0,ft=0,Lt=Z;ft<Lt.length;ft+=1){var Ht=Lt[ft],qt=new a.Point(Ht.x+an,Ht.y+an);te=Math.min(te,qt.x),ge=Math.min(ge,qt.y),Fe=Math.max(Fe,qt.x),Je=Math.max(Je,qt.y),de.push(qt)}for(var lr=this.grid.query(te,ge,Fe,Je).concat(this.ignoredGrid.query(te,ge,Fe,Je)),or={},Fr={},Xr=0,Yr=lr;Xr<Yr.length;Xr+=1){var jr=Yr[Xr],Jr=jr.key;if(or[Jr.bucketInstanceId]===void 0&&(or[Jr.bucketInstanceId]={}),!or[Jr.bucketInstanceId][Jr.featureIndex]){var cn=[new a.Point(jr.x1,jr.y1),new a.Point(jr.x2,jr.y1),new a.Point(jr.x2,jr.y2),new a.Point(jr.x1,jr.y2)];a.polygonIntersectsPolygon(de,cn)&&(or[Jr.bucketInstanceId][Jr.featureIndex]=!0,Fr[Jr.bucketInstanceId]===void 0&&(Fr[Jr.bucketInstanceId]=[]),Fr[Jr.bucketInstanceId].push(Jr.featureIndex))}}return Fr},qr.prototype.insertCollisionBox=function(Z,de,te,ge,Fe){var Je=de?this.ignoredGrid:this.grid,ft={bucketInstanceId:te,featureIndex:ge,collisionGroupID:Fe};Je.insert(ft,Z[0],Z[1],Z[2],Z[3])},qr.prototype.insertCollisionCircles=function(Z,de,te,ge,Fe){for(var Je=de?this.ignoredGrid:this.grid,ft={bucketInstanceId:te,featureIndex:ge,collisionGroupID:Fe},Lt=0;Lt<Z.length;Lt+=4)Je.insertCircle(ft,Z[Lt],Z[Lt+1],Z[Lt+2])},qr.prototype.projectAndGetPerspectiveRatio=function(Z,de,te){var ge=[de,te,0,1];Tr(ge,ge,Z);var Fe=new a.Point((ge[0]/ge[3]+1)/2*this.transform.width+an,(-ge[1]/ge[3]+1)/2*this.transform.height+an);return{point:Fe,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ge[3])}},qr.prototype.isOffscreen=function(Z,de,te,ge){return te<an||Z>=this.screenRightBoundary||ge<an||de>this.screenBottomBoundary},qr.prototype.isInsideGrid=function(Z,de,te,ge){return te>=0&&Z<this.gridRightBoundary&&ge>=0&&de<this.gridBottomBoundary},qr.prototype.getViewportMatrix=function(){var Z=a.identity([]);return a.translate(Z,Z,[-an,-an,0]),Z};function pn(he,Z,de){return Z*(a.EXTENT/(he.tileSize*Math.pow(2,de-he.tileID.overscaledZ)))}var jn=function(Z,de,te,ge){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?de:-de))):this.opacity=ge&&te?1:0,this.placed=te};jn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var An=function(Z,de,te,ge,Fe){this.text=new jn(Z?Z.text:null,de,te,Fe),this.icon=new jn(Z?Z.icon:null,de,ge,Fe)};An.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Sn=function(Z,de,te){this.text=Z,this.icon=de,this.skipFade=te},Un=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},$n=function(Z,de,te,ge,Fe){this.bucketInstanceId=Z,this.featureIndex=de,this.sourceLayerIndex=te,this.bucketIndex=ge,this.tileID=Fe},ya=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};ya.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var de=++this.maxGroupID;this.collisionGroups[Z]={ID:de,predicate:function(te){return te.collisionGroupID===de}}}return this.collisionGroups[Z]};function _a(he,Z,de,te,ge){var Fe=a.getAnchorAlignment(he),Je=Fe.horizontalAlign,ft=Fe.verticalAlign,Lt=-(Je-.5)*Z,Ht=-(ft-.5)*de,qt=a.evaluateVariableOffset(he,te);return new a.Point(Lt+qt[0]*ge,Ht+qt[1]*ge)}function Er(he,Z,de,te,ge,Fe){var Je=he.x1,ft=he.x2,Lt=he.y1,Ht=he.y2,qt=he.anchorPointX,lr=he.anchorPointY,or=new a.Point(Z,de);return te&&or._rotate(ge?Fe:-Fe),{x1:Je+or.x,y1:Lt+or.y,x2:ft+or.x,y2:Ht+or.y,anchorPointX:qt,anchorPointY:lr}}var zr=function(Z,de,te,ge){this.transform=Z.clone(),this.collisionIndex=new qr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new ya(te),this.collisionCircleArrays={},this.prevPlacement=ge,ge&&(ge.prevPlacement=void 0),this.placedOrientations={}};zr.prototype.getBucketParts=function(Z,de,te,ge){var Fe=te.getBucket(de),Je=te.latestFeatureIndex;if(!(!Fe||!Je||de.id!==Fe.layerIds[0])){var ft=te.collisionBoxArray,Lt=Fe.layers[0].layout,Ht=Math.pow(2,this.transform.zoom-te.tileID.overscaledZ),qt=te.tileSize/a.EXTENT,lr=this.transform.calculatePosMatrix(te.tileID.toUnwrapped()),or=Lt.get("text-pitch-alignment")==="map",Fr=Lt.get("text-rotation-alignment")==="map",Xr=pn(te,1,this.transform.zoom),Yr=Pr(lr,or,Fr,this.transform,Xr),jr=null;if(or){var Jr=Wr(lr,or,Fr,this.transform,Xr);jr=a.multiply([],this.transform.labelPlaneMatrix,Jr)}this.retainedQueryData[Fe.bucketInstanceId]=new $n(Fe.bucketInstanceId,Je,Fe.sourceLayerIndex,Fe.index,te.tileID);var cn={bucket:Fe,layout:Lt,posMatrix:lr,textLabelPlaneMatrix:Yr,labelToScreenMatrix:jr,scale:Ht,textPixelRatio:qt,holdingForFade:te.holdingForFade(),collisionBoxArray:ft,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(Fe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Fe.sourceID)};if(ge)for(var Fn=0,Bn=Fe.sortKeyRanges;Fn<Bn.length;Fn+=1){var Yn=Bn[Fn],Xn=Yn.sortKey,Gn=Yn.symbolInstanceStart,Kn=Yn.symbolInstanceEnd;Z.push({sortKey:Xn,symbolInstanceStart:Gn,symbolInstanceEnd:Kn,parameters:cn})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:Fe.symbolInstances.length,parameters:cn})}},zr.prototype.attemptAnchorPlacement=function(Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt,lr,or,Fr,Xr,Yr){var jr=[or.textOffset0,or.textOffset1],Jr=_a(Z,te,ge,jr,Fe),cn=this.collisionIndex.placeCollisionBox(Er(de,Jr.x,Jr.y,Je,ft,this.transform.angle),lr,Lt,Ht,qt.predicate);if(Yr){var Fn=this.collisionIndex.placeCollisionBox(Er(Yr,Jr.x,Jr.y,Je,ft,this.transform.angle),lr,Lt,Ht,qt.predicate);if(Fn.box.length===0)return}if(cn.box.length>0){var Bn;return this.prevPlacement&&this.prevPlacement.variableOffsets[or.crossTileID]&&this.prevPlacement.placements[or.crossTileID]&&this.prevPlacement.placements[or.crossTileID].text&&(Bn=this.prevPlacement.variableOffsets[or.crossTileID].anchor),this.variableOffsets[or.crossTileID]={textOffset:jr,width:te,height:ge,anchor:Z,textBoxScale:Fe,prevAnchor:Bn},this.markUsedJustification(Fr,Z,or,Xr),Fr.allowVerticalPlacement&&(this.markUsedOrientation(Fr,Xr,or),this.placedOrientations[or.crossTileID]=Xr),{shift:Jr,placedGlyphBoxes:cn}}},zr.prototype.placeLayerBucketPart=function(Z,de,te){var ge=this,Fe=Z.parameters,Je=Fe.bucket,ft=Fe.layout,Lt=Fe.posMatrix,Ht=Fe.textLabelPlaneMatrix,qt=Fe.labelToScreenMatrix,lr=Fe.textPixelRatio,or=Fe.holdingForFade,Fr=Fe.collisionBoxArray,Xr=Fe.partiallyEvaluatedTextSize,Yr=Fe.collisionGroup,jr=ft.get("text-optional"),Jr=ft.get("icon-optional"),cn=ft.get("text-allow-overlap"),Fn=ft.get("icon-allow-overlap"),Bn=ft.get("text-rotation-alignment")==="map",Yn=ft.get("text-pitch-alignment")==="map",Xn=ft.get("icon-text-fit")!=="none",Gn=ft.get("symbol-z-order")==="viewport-y",Kn=cn&&(Fn||!Je.hasIconData()||Jr),ta=Fn&&(cn||!Je.hasTextData()||jr);!Je.collisionArrays&&Fr&&Je.deserializeCollisionBoxes(Fr);var la=function(Ma,Ya){if(!de[Ma.crossTileID]){if(or){ge.placements[Ma.crossTileID]=new Sn(!1,!1,!1);return}var Ha=!1,ii=!1,ei=!0,Ai=null,Ja={box:null,offscreen:null},yi={box:null,offscreen:null},ja=null,Qa=null,Ui=null,wo=0,al=0,il=0;Ya.textFeatureIndex?wo=Ya.textFeatureIndex:Ma.useRuntimeCollisionCircles&&(wo=Ma.featureIndex),Ya.verticalTextFeatureIndex&&(al=Ya.verticalTextFeatureIndex);var Ml=Ya.textBox;if(Ml){var nu=function(Xi){var Ms=a.WritingMode.horizontal;if(Je.allowVerticalPlacement&&!Xi&&ge.prevPlacement){var Es=ge.prevPlacement.placedOrientations[Ma.crossTileID];Es&&(ge.placedOrientations[Ma.crossTileID]=Es,Ms=Es,ge.markUsedOrientation(Je,Ms,Ma))}return Ms},Kf=function(Xi,Ms){if(Je.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Ya.verticalTextBox)for(var Es=0,Cv=Je.writingModes;Es<Cv.length;Es+=1){var kd=Cv[Es];if(kd===a.WritingMode.vertical?(Ja=Ms(),yi=Ja):Ja=Xi(),Ja&&Ja.box&&Ja.box.length)break}else Ja=Xi()};if(ft.get("text-variable-anchor")){var Ss=ft.get("text-variable-anchor");if(ge.prevPlacement&&ge.prevPlacement.variableOffsets[Ma.crossTileID]){var fs=ge.prevPlacement.variableOffsets[Ma.crossTileID];Ss.indexOf(fs.anchor)>0&&(Ss=Ss.filter(function(Xi){return Xi!==fs.anchor}),Ss.unshift(fs.anchor))}var El=function(Xi,Ms,Es){for(var Cv=Xi.x2-Xi.x1,kd=Xi.y2-Xi.y1,$y=Ma.textBoxScale,Qy=Xn&&!Fn?Ms:null,Kh={box:[],offscreen:!1},qy=cn?Ss.length*2:Ss.length,Lv=0;Lv<qy;++Lv){var em=Ss[Lv%Ss.length],tm=Lv>=Ss.length,Fd=ge.attemptAnchorPlacement(em,Xi,Cv,kd,$y,Bn,Yn,lr,Lt,Yr,tm,Ma,Je,Es,Qy);if(Fd&&(Kh=Fd.placedGlyphBoxes,Kh&&Kh.box&&Kh.box.length)){Ha=!0,Ai=Fd.shift;break}}return Kh},Uu=function(){return El(Ml,Ya.iconBox,a.WritingMode.horizontal)},Cl=function(){var Xi=Ya.verticalTextBox,Ms=Ja&&Ja.box&&Ja.box.length;return Je.allowVerticalPlacement&&!Ms&&Ma.numVerticalGlyphVertices>0&&Xi?El(Xi,Ya.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};Kf(Uu,Cl),Ja&&(Ha=Ja.box,ei=Ja.offscreen);var Tv=nu(Ja&&Ja.box);if(!Ha&&ge.prevPlacement){var Hc=ge.prevPlacement.variableOffsets[Ma.crossTileID];Hc&&(ge.variableOffsets[Ma.crossTileID]=Hc,ge.markUsedJustification(Je,Hc.anchor,Ma,Tv))}}else{var au=function(Xi,Ms){var Es=ge.collisionIndex.placeCollisionBox(Xi,cn,lr,Lt,Yr.predicate);return Es&&Es.box&&Es.box.length&&(ge.markUsedOrientation(Je,Ms,Ma),ge.placedOrientations[Ma.crossTileID]=Ms),Es},us=function(){return au(Ml,a.WritingMode.horizontal)},iu=function(){var Xi=Ya.verticalTextBox;return Je.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Xi?au(Xi,a.WritingMode.vertical):{box:null,offscreen:null}};Kf(us,iu),nu(Ja&&Ja.box&&Ja.box.length)}}if(ja=Ja,Ha=ja&&ja.box&&ja.box.length>0,ei=ja&&ja.offscreen,Ma.useRuntimeCollisionCircles){var Co=Je.text.placedSymbolArray.get(Ma.centerJustifiedTextSymbolIndex),Av=a.evaluateSizeForFeature(Je.textSizeData,Xr,Co),Zh=ft.get("text-padding"),Zo=Ma.collisionCircleDiameter;Qa=ge.collisionIndex.placeCollisionCircles(cn,Co,Je.lineVertexArray,Je.glyphOffsetArray,Av,Lt,Ht,qt,te,Yn,Yr.predicate,Zo,Zh),Ha=cn||Qa.circles.length>0&&!Qa.collisionDetected,ei=ei&&Qa.offscreen}if(Ya.iconFeatureIndex&&(il=Ya.iconFeatureIndex),Ya.iconBox){var jc=function(Xi){var Ms=Xn&&Ai?Er(Xi,Ai.x,Ai.y,Bn,Yn,ge.transform.angle):Xi;return ge.collisionIndex.placeCollisionBox(Ms,Fn,lr,Lt,Yr.predicate)};yi&&yi.box&&yi.box.length&&Ya.verticalIconBox?(Ui=jc(Ya.verticalIconBox),ii=Ui.box.length>0):(Ui=jc(Ya.iconBox),ii=Ui.box.length>0),ei=ei&&Ui.offscreen}var Sv=jr||Ma.numHorizontalGlyphVertices===0&&Ma.numVerticalGlyphVertices===0,Mv=Jr||Ma.numIconVertices===0;if(!Sv&&!Mv?ii=Ha=ii&&Ha:Mv?Sv||(ii=ii&&Ha):Ha=ii&&Ha,Ha&&ja&&ja.box&&(yi&&yi.box&&al?ge.collisionIndex.insertCollisionBox(ja.box,ft.get("text-ignore-placement"),Je.bucketInstanceId,al,Yr.ID):ge.collisionIndex.insertCollisionBox(ja.box,ft.get("text-ignore-placement"),Je.bucketInstanceId,wo,Yr.ID)),ii&&Ui&&ge.collisionIndex.insertCollisionBox(Ui.box,ft.get("icon-ignore-placement"),Je.bucketInstanceId,il,Yr.ID),Qa&&(Ha&&ge.collisionIndex.insertCollisionCircles(Qa.circles,ft.get("text-ignore-placement"),Je.bucketInstanceId,wo,Yr.ID),te)){var Ev=Je.bucketInstanceId,Gc=ge.collisionCircleArrays[Ev];Gc===void 0&&(Gc=ge.collisionCircleArrays[Ev]=new Un);for(var Wc=0;Wc<Qa.circles.length;Wc+=4)Gc.circles.push(Qa.circles[Wc+0]),Gc.circles.push(Qa.circles[Wc+1]),Gc.circles.push(Qa.circles[Wc+2]),Gc.circles.push(Qa.collisionDetected?1:0)}ge.placements[Ma.crossTileID]=new Sn(Ha||Kn,ii||ta,ei||Je.justReloaded),de[Ma.crossTileID]=!0}};if(Gn)for(var ba=Je.getSortedSymbolIndexes(this.transform.angle),va=ba.length-1;va>=0;--va){var Oa=ba[va];la(Je.symbolInstances.get(Oa),Je.collisionArrays[Oa])}else for(var $a=Z.symbolInstanceStart;$a<Z.symbolInstanceEnd;$a++)la(Je.symbolInstances.get($a),Je.collisionArrays[$a]);if(te&&Je.bucketInstanceId in this.collisionCircleArrays){var Wa=this.collisionCircleArrays[Je.bucketInstanceId];a.invert(Wa.invProjMatrix,Lt),Wa.viewportMatrix=this.collisionIndex.getViewportMatrix()}Je.justReloaded=!1},zr.prototype.markUsedJustification=function(Z,de,te,ge){var Fe={left:te.leftJustifiedTextSymbolIndex,center:te.centerJustifiedTextSymbolIndex,right:te.rightJustifiedTextSymbolIndex},Je;ge===a.WritingMode.vertical?Je=te.verticalPlacedTextSymbolIndex:Je=Fe[a.getAnchorJustification(de)];for(var ft=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex,te.verticalPlacedTextSymbolIndex],Lt=0,Ht=ft;Lt<Ht.length;Lt+=1){var qt=Ht[Lt];qt>=0&&(Je>=0&&qt!==Je?Z.text.placedSymbolArray.get(qt).crossTileID=0:Z.text.placedSymbolArray.get(qt).crossTileID=te.crossTileID)}},zr.prototype.markUsedOrientation=function(Z,de,te){for(var ge=de===a.WritingMode.horizontal||de===a.WritingMode.horizontalOnly?de:0,Fe=de===a.WritingMode.vertical?de:0,Je=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex],ft=0,Lt=Je;ft<Lt.length;ft+=1){var Ht=Lt[ft];Z.text.placedSymbolArray.get(Ht).placedOrientation=ge}te.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).placedOrientation=Fe)},zr.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,te=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var ge=de?de.symbolFadeChange(Z):1,Fe=de?de.opacities:{},Je=de?de.variableOffsets:{},ft=de?de.placedOrientations:{};for(var Lt in this.placements){var Ht=this.placements[Lt],qt=Fe[Lt];qt?(this.opacities[Lt]=new An(qt,ge,Ht.text,Ht.icon),te=te||Ht.text!==qt.text.placed||Ht.icon!==qt.icon.placed):(this.opacities[Lt]=new An(null,ge,Ht.text,Ht.icon,Ht.skipFade),te=te||Ht.text||Ht.icon)}for(var lr in Fe){var or=Fe[lr];if(!this.opacities[lr]){var Fr=new An(or,ge,!1,!1);Fr.isHidden()||(this.opacities[lr]=Fr,te=te||or.text.placed||or.icon.placed)}}for(var Xr in Je)!this.variableOffsets[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.variableOffsets[Xr]=Je[Xr]);for(var Yr in ft)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=ft[Yr]);te?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:Z)},zr.prototype.updateLayerOpacities=function(Z,de){for(var te={},ge=0,Fe=de;ge<Fe.length;ge+=1){var Je=Fe[ge],ft=Je.getBucket(Z);ft&&Je.latestFeatureIndex&&Z.id===ft.layerIds[0]&&this.updateBucketOpacities(ft,te,Je.collisionBoxArray)}},zr.prototype.updateBucketOpacities=function(Z,de,te){var ge=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var Fe=Z.layers[0].layout,Je=new An(null,0,!1,!1,!0),ft=Fe.get("text-allow-overlap"),Lt=Fe.get("icon-allow-overlap"),Ht=Fe.get("text-variable-anchor"),qt=Fe.get("text-rotation-alignment")==="map",lr=Fe.get("text-pitch-alignment")==="map",or=Fe.get("icon-text-fit")!=="none",Fr=new An(null,0,ft&&(Lt||!Z.hasIconData()||Fe.get("icon-optional")),Lt&&(ft||!Z.hasTextData()||Fe.get("text-optional")),!0);!Z.collisionArrays&&te&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(te);for(var Xr=function(cn,Fn,Bn){for(var Yn=0;Yn<Fn/4;Yn++)cn.opacityVertexArray.emplaceBack(Bn)},Yr=function(cn){var Fn=Z.symbolInstances.get(cn),Bn=Fn.numHorizontalGlyphVertices,Yn=Fn.numVerticalGlyphVertices,Xn=Fn.crossTileID,Gn=de[Xn],Kn=ge.opacities[Xn];Gn?Kn=Je:Kn||(Kn=Fr,ge.opacities[Xn]=Kn),de[Xn]=!0;var ta=Bn>0||Yn>0,la=Fn.numIconVertices>0,ba=ge.placedOrientations[Fn.crossTileID],va=ba===a.WritingMode.vertical,Oa=ba===a.WritingMode.horizontal||ba===a.WritingMode.horizontalOnly;if(ta){var $a=Hr(Kn.text),Wa=va?Qr:$a;Xr(Z.text,Bn,Wa);var Ma=Oa?Qr:$a;Xr(Z.text,Yn,Ma);var Ya=Kn.text.isHidden();[Fn.rightJustifiedTextSymbolIndex,Fn.centerJustifiedTextSymbolIndex,Fn.leftJustifiedTextSymbolIndex].forEach(function(il){il>=0&&(Z.text.placedSymbolArray.get(il).hidden=Ya||va?1:0)}),Fn.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(Fn.verticalPlacedTextSymbolIndex).hidden=Ya||Oa?1:0);var Ha=ge.variableOffsets[Fn.crossTileID];Ha&&ge.markUsedJustification(Z,Ha.anchor,Fn,ba);var ii=ge.placedOrientations[Fn.crossTileID];ii&&(ge.markUsedJustification(Z,"left",Fn,ii),ge.markUsedOrientation(Z,ii,Fn))}if(la){var ei=Hr(Kn.icon),Ai=!(or&&Fn.verticalPlacedIconSymbolIndex&&va);if(Fn.placedIconSymbolIndex>=0){var Ja=Ai?ei:Qr;Xr(Z.icon,Fn.numIconVertices,Ja),Z.icon.placedSymbolArray.get(Fn.placedIconSymbolIndex).hidden=Kn.icon.isHidden()}if(Fn.verticalPlacedIconSymbolIndex>=0){var yi=Ai?Qr:ei;Xr(Z.icon,Fn.numVerticalIconVertices,yi),Z.icon.placedSymbolArray.get(Fn.verticalPlacedIconSymbolIndex).hidden=Kn.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var ja=Z.collisionArrays[cn];if(ja){var Qa=new a.Point(0,0);if(ja.textBox||ja.verticalTextBox){var Ui=!0;if(Ht){var wo=ge.variableOffsets[Xn];wo?(Qa=_a(wo.anchor,wo.width,wo.height,wo.textOffset,wo.textBoxScale),qt&&Qa._rotate(lr?ge.transform.angle:-ge.transform.angle)):Ui=!1}ja.textBox&&Sr(Z.textCollisionBox.collisionVertexArray,Kn.text.placed,!Ui||va,Qa.x,Qa.y),ja.verticalTextBox&&Sr(Z.textCollisionBox.collisionVertexArray,Kn.text.placed,!Ui||Oa,Qa.x,Qa.y)}var al=!!(!Oa&&ja.verticalIconBox);ja.iconBox&&Sr(Z.iconCollisionBox.collisionVertexArray,Kn.icon.placed,al,or?Qa.x:0,or?Qa.y:0),ja.verticalIconBox&&Sr(Z.iconCollisionBox.collisionVertexArray,Kn.icon.placed,!al,or?Qa.x:0,or?Qa.y:0)}}},jr=0;jr<Z.symbolInstances.length;jr++)Yr(jr);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var Jr=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=Jr.invProjMatrix,Z.placementViewportMatrix=Jr.viewportMatrix,Z.collisionCircleArray=Jr.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},zr.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},zr.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},zr.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},zr.prototype.stillRecent=function(Z,de){var te=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*te>Z},zr.prototype.setStale=function(){this.stale=!0};function Sr(he,Z,de,te,ge){he.emplaceBack(Z?1:0,de?1:0,te||0,ge||0),he.emplaceBack(Z?1:0,de?1:0,te||0,ge||0),he.emplaceBack(Z?1:0,de?1:0,te||0,ge||0),he.emplaceBack(Z?1:0,de?1:0,te||0,ge||0)}var Nr=Math.pow(2,25),wn=Math.pow(2,24),kn=Math.pow(2,17),vn=Math.pow(2,16),ln=Math.pow(2,9),Cr=Math.pow(2,8),Zr=Math.pow(2,1);function Hr(he){if(he.opacity===0&&!he.placed)return 0;if(he.opacity===1&&he.placed)return 4294967295;var Z=he.placed?1:0,de=Math.floor(he.opacity*127);return de*Nr+Z*wn+de*kn+Z*vn+de*ln+Z*Cr+de*Zr+Z}var Qr=0,Tn=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Tn.prototype.continuePlacement=function(Z,de,te,ge,Fe){for(var Je=this._bucketParts;this._currentTileIndex<Z.length;){var ft=Z[this._currentTileIndex];if(de.getBucketParts(Je,ge,ft,this._sortAcrossTiles),this._currentTileIndex++,Fe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Je.sort(function(Ht,qt){return Ht.sortKey-qt.sortKey}));this._currentPartIndex<Je.length;){var Lt=Je[this._currentPartIndex];if(de.placeLayerBucketPart(Lt,this._seenCrossTileIDs,te),this._currentPartIndex++,Fe())return!0}return!1};var Rn=function(Z,de,te,ge,Fe,Je,ft){this.placement=new zr(Z,Fe,Je,ft),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=te,this._showCollisionBoxes=ge,this._done=!1};Rn.prototype.isDone=function(){return this._done},Rn.prototype.continuePlacement=function(Z,de,te){for(var ge=this,Fe=a.browser.now(),Je=function(){var lr=a.browser.now()-Fe;return ge._forceFullPlacement?!1:lr>2};this._currentPlacementIndex>=0;){var ft=Z[this._currentPlacementIndex],Lt=de[ft],Ht=this.placement.collisionIndex.transform.zoom;if(Lt.type==="symbol"&&(!Lt.minzoom||Lt.minzoom<=Ht)&&(!Lt.maxzoom||Lt.maxzoom>Ht)){this._inProgressLayer||(this._inProgressLayer=new Tn(Lt));var qt=this._inProgressLayer.continuePlacement(te[Lt.source],this.placement,this._showCollisionBoxes,Lt,Je);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Rn.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var Dn=512/a.EXTENT/2,Vn=function(Z,de,te){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=te;for(var ge=0;ge<de.length;ge++){var Fe=de.get(ge),Je=Fe.key;this.indexedSymbolInstances[Je]||(this.indexedSymbolInstances[Je]=[]),this.indexedSymbolInstances[Je].push({crossTileID:Fe.crossTileID,coord:this.getScaledCoordinates(Fe,Z)})}};Vn.prototype.getScaledCoordinates=function(Z,de){var te=de.canonical.z-this.tileID.canonical.z,ge=Dn/Math.pow(2,te);return{x:Math.floor((de.canonical.x*a.EXTENT+Z.anchorX)*ge),y:Math.floor((de.canonical.y*a.EXTENT+Z.anchorY)*ge)}},Vn.prototype.findMatches=function(Z,de,te){for(var ge=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),Fe=0;Fe<Z.length;Fe++){var Je=Z.get(Fe);if(!Je.crossTileID){var ft=this.indexedSymbolInstances[Je.key];if(ft)for(var Lt=this.getScaledCoordinates(Je,de),Ht=0,qt=ft;Ht<qt.length;Ht+=1){var lr=qt[Ht];if(Math.abs(lr.coord.x-Lt.x)<=ge&&Math.abs(lr.coord.y-Lt.y)<=ge&&!te[lr.crossTileID]){te[lr.crossTileID]=!0,Je.crossTileID=lr.crossTileID;break}}}}};var Nn=function(){this.maxCrossTileID=0};Nn.prototype.generate=function(){return++this.maxCrossTileID};var ma=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ma.prototype.handleWrapJump=function(Z){var de=Math.round((Z-this.lng)/360);if(de!==0)for(var te in this.indexes){var ge=this.indexes[te],Fe={};for(var Je in ge){var ft=ge[Je];ft.tileID=ft.tileID.unwrapTo(ft.tileID.wrap+de),Fe[ft.tileID.key]=ft}this.indexes[te]=Fe}this.lng=Z},ma.prototype.addBucket=function(Z,de,te){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var ge=0;ge<de.symbolInstances.length;ge++){var Fe=de.symbolInstances.get(ge);Fe.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var Je=this.usedCrossTileIDs[Z.overscaledZ];for(var ft in this.indexes){var Lt=this.indexes[ft];if(Number(ft)>Z.overscaledZ)for(var Ht in Lt){var qt=Lt[Ht];qt.tileID.isChildOf(Z)&&qt.findMatches(de.symbolInstances,Z,Je)}else{var lr=Z.scaledTo(Number(ft)),or=Lt[lr.key];or&&or.findMatches(de.symbolInstances,Z,Je)}}for(var Fr=0;Fr<de.symbolInstances.length;Fr++){var Xr=de.symbolInstances.get(Fr);Xr.crossTileID||(Xr.crossTileID=te.generate(),Je[Xr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new Vn(Z,de.symbolInstances,de.bucketInstanceId),!0},ma.prototype.removeBucketCrossTileIDs=function(Z,de){for(var te in de.indexedSymbolInstances)for(var ge=0,Fe=de.indexedSymbolInstances[te];ge<Fe.length;ge+=1){var Je=Fe[ge];delete this.usedCrossTileIDs[Z][Je.crossTileID]}},ma.prototype.removeStaleBuckets=function(Z){var de=!1;for(var te in this.indexes){var ge=this.indexes[te];for(var Fe in ge)Z[ge[Fe].bucketInstanceId]||(this.removeBucketCrossTileIDs(te,ge[Fe]),delete ge[Fe],de=!0)}return de};var oa=function(){this.layerIndexes={},this.crossTileIDs=new Nn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};oa.prototype.addLayer=function(Z,de,te){var ge=this.layerIndexes[Z.id];ge===void 0&&(ge=this.layerIndexes[Z.id]=new ma);var Fe=!1,Je={};ge.handleWrapJump(te);for(var ft=0,Lt=de;ft<Lt.length;ft+=1){var Ht=Lt[ft],qt=Ht.getBucket(Z);!qt||Z.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),ge.addBucket(Ht.tileID,qt,this.crossTileIDs)&&(Fe=!0),Je[qt.bucketInstanceId]=!0)}return ge.removeStaleBuckets(Je)&&(Fe=!0),Fe},oa.prototype.pruneUnusedLayers=function(Z){var de={};Z.forEach(function(ge){de[ge]=!0});for(var te in this.layerIndexes)de[te]||delete this.layerIndexes[te]};var ga=function(he,Z){return a.emitValidationErrors(he,Z&&Z.filter(function(de){return de.identifier!=="source.canvas"}))},Pa=a.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),pi=a.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),ri=nr(),Vo=function(he){function Z(de,te){var ge=this;te===void 0&&(te={}),he.call(this),this.map=de,this.dispatcher=new _(zt(),this),this.imageManager=new S,this.imageManager.setEventedParent(this),this.glyphManager=new E(de._requestManager,te.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new oa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var Fe=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(Je){var ft={pluginStatus:Je.pluginStatus,pluginURL:Je.pluginURL};Fe.dispatcher.broadcast("syncRTLPluginState",ft,function(Lt,Ht){if(a.triggerPluginCompletionEvent(Lt),Ht){var qt=Ht.every(function(or){return or});if(qt)for(var lr in Fe.sourceCaches)Fe.sourceCaches[lr].reload()}})}),this.on("data",function(Je){if(!(Je.dataType!=="source"||Je.sourceDataType!=="metadata")){var ft=ge.sourceCaches[Je.sourceId];if(ft){var Lt=ft.getSource();if(!(!Lt||!Lt.vectorLayerIds))for(var Ht in ge._layers){var qt=ge._layers[Ht];qt.source===Lt.id&&ge._validateLayer(qt)}}}})}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(te,ge){var Fe=this;ge===void 0&&(ge={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Je=typeof ge.validate=="boolean"?ge.validate:!a.isMapboxURL(te);te=this.map._requestManager.normalizeStyleURL(te,ge.accessToken);var ft=this.map._requestManager.transformRequest(te,a.ResourceType.Style);this._request=a.getJSON(ft,function(Lt,Ht){Fe._request=null,Lt?Fe.fire(new a.ErrorEvent(Lt)):Ht&&Fe._load(Ht,Je)})},Z.prototype.loadJSON=function(te,ge){var Fe=this;ge===void 0&&(ge={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){Fe._request=null,Fe._load(te,ge.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ri,!1)},Z.prototype._load=function(te,ge){if(!(ge&&ga(this,a.validateStyle(te)))){this._loaded=!0,this.stylesheet=te;for(var Fe in te.sources)this.addSource(Fe,te.sources[Fe],{validate:!1});te.sprite?this._loadSprite(te.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(te.glyphs);var Je=ur(this.stylesheet.layers);this._order=Je.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ft=0,Lt=Je;ft<Lt.length;ft+=1){var Ht=Lt[ft];Ht=a.createStyleLayer(Ht),Ht.setEventedParent(this,{layer:{id:Ht.id}}),this._layers[Ht.id]=Ht,this._serializedLayers[Ht.id]=Ht.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},Z.prototype._loadSprite=function(te){var ge=this;this._spriteRequest=l(te,this.map._requestManager,function(Fe,Je){if(ge._spriteRequest=null,Fe)ge.fire(new a.ErrorEvent(Fe));else if(Je)for(var ft in Je)ge.imageManager.addImage(ft,Je[ft]);ge.imageManager.setLoaded(!0),ge._availableImages=ge.imageManager.listImages(),ge.dispatcher.broadcast("setImages",ge._availableImages),ge.fire(new a.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(te){var ge=this.sourceCaches[te.source];if(ge){var Fe=te.sourceLayer;if(Fe){var Je=ge.getSource();(Je.type==="geojson"||Je.vectorLayerIds&&Je.vectorLayerIds.indexOf(Fe)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+Fe+'" does not exist on source "'+Je.id+'" as specified by style layer "'+te.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var te in this.sourceCaches)if(!this.sourceCaches[te].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(te){for(var ge=[],Fe=0,Je=te;Fe<Je.length;Fe+=1){var ft=Je[Fe],Lt=this._layers[ft];Lt.type!=="custom"&&ge.push(Lt.serialize())}return ge},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var te in this.sourceCaches)if(this.sourceCaches[te].hasTransition())return!0;for(var ge in this._layers)if(this._layers[ge].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(te){if(this._loaded){var ge=this._changed;if(this._changed){var Fe=Object.keys(this._updatedLayers),Je=Object.keys(this._removedLayers);(Fe.length||Je.length)&&this._updateWorkerLayers(Fe,Je);for(var ft in this._updatedSources){var Lt=this._updatedSources[ft];Lt==="reload"?this._reloadSource(ft):Lt==="clear"&&this._clearSource(ft)}this._updateTilesForChangedImages();for(var Ht in this._updatedPaintProps)this._layers[Ht].updateTransitions(te);this.light.updateTransitions(te),this._resetUpdates()}var qt={};for(var lr in this.sourceCaches){var or=this.sourceCaches[lr];qt[lr]=or.used,or.used=!1}for(var Fr=0,Xr=this._order;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr],jr=this._layers[Yr];jr.recalculate(te,this._availableImages),!jr.isHidden(te.zoom)&&jr.source&&(this.sourceCaches[jr.source].used=!0)}for(var Jr in qt){var cn=this.sourceCaches[Jr];qt[Jr]!==cn.used&&cn.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Jr}))}this.light.recalculate(te),this.z=te.zoom,ge&&this.fire(new a.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var te=Object.keys(this._changedImages);if(te.length){for(var ge in this.sourceCaches)this.sourceCaches[ge].reloadTilesForDependencies(["icons","patterns"],te);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(te,ge){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(te),removedIds:ge})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(te){var ge=this;if(this._checkLoaded(),ga(this,a.validateStyle(te)))return!1;te=a.clone$1(te),te.layers=ur(te.layers);var Fe=Pn(this.serialize(),te).filter(function(ft){return!(ft.command in pi)});if(Fe.length===0)return!1;var Je=Fe.filter(function(ft){return!(ft.command in Pa)});if(Je.length>0)throw new Error("Unimplemented: "+Je.map(function(ft){return ft.command}).join(", ")+".");return Fe.forEach(function(ft){ft.command!=="setTransition"&&ge[ft.command].apply(ge,ft.args)}),this.stylesheet=te,!0},Z.prototype.addImage=function(te,ge){if(this.getImage(te))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(te,ge),this._afterImageUpdated(te)},Z.prototype.updateImage=function(te,ge){this.imageManager.updateImage(te,ge)},Z.prototype.getImage=function(te){return this.imageManager.getImage(te)},Z.prototype.removeImage=function(te){if(!this.getImage(te))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(te),this._afterImageUpdated(te)},Z.prototype._afterImageUpdated=function(te){this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(te,ge,Fe){var Je=this;if(Fe===void 0&&(Fe={}),this._checkLoaded(),this.sourceCaches[te]!==void 0)throw new Error("There is already a source with this ID");if(!ge.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ge).join(", ")+".");var ft=["vector","raster","geojson","video","image"],Lt=ft.indexOf(ge.type)>=0;if(!(Lt&&this._validate(a.validateStyle.source,"sources."+te,ge,null,Fe))){this.map&&this.map._collectResourceTiming&&(ge.collectResourceTiming=!0);var Ht=this.sourceCaches[te]=new Vt(te,ge,this.dispatcher);Ht.style=this,Ht.setEventedParent(this,function(){return{isSourceLoaded:Je.loaded(),source:Ht.serialize(),sourceId:te}}),Ht.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(te){if(this._checkLoaded(),this.sourceCaches[te]===void 0)throw new Error("There is no source with this ID");for(var ge in this._layers)if(this._layers[ge].source===te)return this.fire(new a.ErrorEvent(new Error('Source "'+te+'" cannot be removed while layer "'+ge+'" is using it.')));var Fe=this.sourceCaches[te];delete this.sourceCaches[te],delete this._updatedSources[te],Fe.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:te})),Fe.setEventedParent(null),Fe.clearTiles(),Fe.onRemove&&Fe.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(te,ge){this._checkLoaded();var Fe=this.sourceCaches[te].getSource();Fe.setData(ge),this._changed=!0},Z.prototype.getSource=function(te){return this.sourceCaches[te]&&this.sourceCaches[te].getSource()},Z.prototype.addLayer=function(te,ge,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var Je=te.id;if(this.getLayer(Je)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Je+'" already exists on this map')));return}var ft;if(te.type==="custom"){if(ga(this,a.validateCustomStyleLayer(te)))return;ft=a.createStyleLayer(te)}else{if(typeof te.source=="object"&&(this.addSource(Je,te.source),te=a.clone$1(te),te=a.extend(te,{source:Je})),this._validate(a.validateStyle.layer,"layers."+Je,te,{arrayIndex:-1},Fe))return;ft=a.createStyleLayer(te),this._validateLayer(ft),ft.setEventedParent(this,{layer:{id:Je}}),this._serializedLayers[ft.id]=ft.serialize()}var Lt=ge?this._order.indexOf(ge):this._order.length;if(ge&&Lt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}if(this._order.splice(Lt,0,Je),this._layerOrderChanged=!0,this._layers[Je]=ft,this._removedLayers[Je]&&ft.source&&ft.type!=="custom"){var Ht=this._removedLayers[Je];delete this._removedLayers[Je],Ht.type!==ft.type?this._updatedSources[ft.source]="clear":(this._updatedSources[ft.source]="reload",this.sourceCaches[ft.source].pause())}this._updateLayer(ft),ft.onAdd&&ft.onAdd(this.map)},Z.prototype.moveLayer=function(te,ge){this._checkLoaded(),this._changed=!0;var Fe=this._layers[te];if(!Fe){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be moved.")));return}if(te!==ge){var Je=this._order.indexOf(te);this._order.splice(Je,1);var ft=ge?this._order.indexOf(ge):this._order.length;if(ge&&ft===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}this._order.splice(ft,0,te),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(te){this._checkLoaded();var ge=this._layers[te];if(!ge){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be removed.")));return}ge.setEventedParent(null);var Fe=this._order.indexOf(te);this._order.splice(Fe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[te]=ge,delete this._layers[te],delete this._serializedLayers[te],delete this._updatedLayers[te],delete this._updatedPaintProps[te],ge.onRemove&&ge.onRemove(this.map)},Z.prototype.getLayer=function(te){return this._layers[te]},Z.prototype.hasLayer=function(te){return te in this._layers},Z.prototype.setLayerZoomRange=function(te,ge,Fe){this._checkLoaded();var Je=this.getLayer(te);if(!Je){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot have zoom extent.")));return}Je.minzoom===ge&&Je.maxzoom===Fe||(ge!=null&&(Je.minzoom=ge),Fe!=null&&(Je.maxzoom=Fe),this._updateLayer(Je))},Z.prototype.setFilter=function(te,ge,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var Je=this.getLayer(te);if(!Je){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Je.filter,ge)){if(ge==null){Je.filter=void 0,this._updateLayer(Je);return}this._validate(a.validateStyle.filter,"layers."+Je.id+".filter",ge,null,Fe)||(Je.filter=a.clone$1(ge),this._updateLayer(Je))}},Z.prototype.getFilter=function(te){return a.clone$1(this.getLayer(te).filter)},Z.prototype.setLayoutProperty=function(te,ge,Fe,Je){Je===void 0&&(Je={}),this._checkLoaded();var ft=this.getLayer(te);if(!ft){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(ft.getLayoutProperty(ge),Fe)||(ft.setLayoutProperty(ge,Fe,Je),this._updateLayer(ft))},Z.prototype.getLayoutProperty=function(te,ge){var Fe=this.getLayer(te);if(!Fe){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style.")));return}return Fe.getLayoutProperty(ge)},Z.prototype.setPaintProperty=function(te,ge,Fe,Je){Je===void 0&&(Je={}),this._checkLoaded();var ft=this.getLayer(te);if(!ft){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(ft.getPaintProperty(ge),Fe)){var Lt=ft.setPaintProperty(ge,Fe,Je);Lt&&this._updateLayer(ft),this._changed=!0,this._updatedPaintProps[te]=!0}},Z.prototype.getPaintProperty=function(te,ge){return this.getLayer(te).getPaintProperty(ge)},Z.prototype.setFeatureState=function(te,ge){this._checkLoaded();var Fe=te.source,Je=te.sourceLayer,ft=this.sourceCaches[Fe];if(ft===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var Lt=ft.getSource().type;if(Lt==="geojson"&&Je){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Lt==="vector"&&!Je){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}te.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ft.setFeatureState(Je,te.id,ge)},Z.prototype.removeFeatureState=function(te,ge){this._checkLoaded();var Fe=te.source,Je=this.sourceCaches[Fe];if(Je===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var ft=Je.getSource().type,Lt=ft==="vector"?te.sourceLayer:void 0;if(ft==="vector"&&!Lt){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ge&&typeof te.id!="string"&&typeof te.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Je.removeFeatureState(Lt,te.id,ge)},Z.prototype.getFeatureState=function(te){this._checkLoaded();var ge=te.source,Fe=te.sourceLayer,Je=this.sourceCaches[ge];if(Je===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ge+"' does not exist in the map's style.")));return}var ft=Je.getSource().type;if(ft==="vector"&&!Fe){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return te.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Je.getFeatureState(Fe,te.id)},Z.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(te){return te.serialize()}),layers:this._serializeLayers(this._order)},function(te){return te!==void 0})},Z.prototype._updateLayer=function(te){this._updatedLayers[te.id]=!0,te.source&&!this._updatedSources[te.source]&&this.sourceCaches[te.source].getSource().type!=="raster"&&(this._updatedSources[te.source]="reload",this.sourceCaches[te.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(te){for(var ge=this,Fe=function(Oa){return ge._layers[Oa].type==="fill-extrusion"},Je={},ft=[],Lt=this._order.length-1;Lt>=0;Lt--){var Ht=this._order[Lt];if(Fe(Ht)){Je[Ht]=Lt;for(var qt=0,lr=te;qt<lr.length;qt+=1){var or=lr[qt],Fr=or[Ht];if(Fr)for(var Xr=0,Yr=Fr;Xr<Yr.length;Xr+=1){var jr=Yr[Xr];ft.push(jr)}}}}ft.sort(function(Oa,$a){return $a.intersectionZ-Oa.intersectionZ});for(var Jr=[],cn=this._order.length-1;cn>=0;cn--){var Fn=this._order[cn];if(Fe(Fn))for(var Bn=ft.length-1;Bn>=0;Bn--){var Yn=ft[Bn].feature;if(Je[Yn.layer.id]<cn)break;Jr.push(Yn),ft.pop()}else for(var Xn=0,Gn=te;Xn<Gn.length;Xn+=1){var Kn=Gn[Xn],ta=Kn[Fn];if(ta)for(var la=0,ba=ta;la<ba.length;la+=1){var va=ba[la];Jr.push(va.feature)}}}return Jr},Z.prototype.queryRenderedFeatures=function(te,ge,Fe){ge&&ge.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",ge.filter,null,ge);var Je={};if(ge&&ge.layers){if(!Array.isArray(ge.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ft=0,Lt=ge.layers;ft<Lt.length;ft+=1){var Ht=Lt[ft],qt=this._layers[Ht];if(!qt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Ht+"' does not exist in the map's style and cannot be queried for features."))),[];Je[qt.source]=!0}}var lr=[];ge.availableImages=this._availableImages;for(var or in this.sourceCaches)ge.layers&&!Je[or]||lr.push(Q(this.sourceCaches[or],this._layers,this._serializedLayers,te,ge,Fe));return this.placement&&lr.push(K(this._layers,this._serializedLayers,this.sourceCaches,te,ge,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(lr)},Z.prototype.querySourceFeatures=function(te,ge){ge&&ge.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",ge.filter,null,ge);var Fe=this.sourceCaches[te];return Fe?le(Fe,ge):[]},Z.prototype.addSourceType=function(te,ge,Fe){if(Z.getSourceType(te))return Fe(new Error('A source type called "'+te+'" already exists.'));if(Z.setSourceType(te,ge),!ge.workerSourceURL)return Fe(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:te,url:ge.workerSourceURL},Fe)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(te,ge){ge===void 0&&(ge={}),this._checkLoaded();var Fe=this.light.getLight(),Je=!1;for(var ft in te)if(!a.deepEqual(te[ft],Fe[ft])){Je=!0;break}if(Je){var Lt={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(te,ge),this.light.updateTransitions(Lt)}},Z.prototype._validate=function(te,ge,Fe,Je,ft){return ft===void 0&&(ft={}),ft&&ft.validate===!1?!1:ga(this,te.call(a.validateStyle,a.extend({key:ge,style:this.serialize(),value:Fe,styleSpec:a.styleSpec},Je)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var te in this._layers){var ge=this._layers[te];ge.setEventedParent(null)}for(var Fe in this.sourceCaches)this.sourceCaches[Fe].clearTiles(),this.sourceCaches[Fe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(te){this.sourceCaches[te].clearTiles()},Z.prototype._reloadSource=function(te){this.sourceCaches[te].resume(),this.sourceCaches[te].reload()},Z.prototype._updateSources=function(te){for(var ge in this.sourceCaches)this.sourceCaches[ge].update(te)},Z.prototype._generateCollisionBoxes=function(){for(var te in this.sourceCaches)this._reloadSource(te)},Z.prototype._updatePlacement=function(te,ge,Fe,Je,ft){ft===void 0&&(ft=!1);for(var Lt=!1,Ht=!1,qt={},lr=0,or=this._order;lr<or.length;lr+=1){var Fr=or[lr],Xr=this._layers[Fr];if(Xr.type==="symbol"){if(!qt[Xr.source]){var Yr=this.sourceCaches[Xr.source];qt[Xr.source]=Yr.getRenderableIds(!0).map(function(Xn){return Yr.getTileByID(Xn)}).sort(function(Xn,Gn){return Gn.tileID.overscaledZ-Xn.tileID.overscaledZ||(Xn.tileID.isLessThan(Gn.tileID)?-1:1)})}var jr=this.crossTileSymbolIndex.addLayer(Xr,qt[Xr.source],te.center.lng);Lt=Lt||jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ft=ft||this._layerOrderChanged||Fe===0,(ft||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),te.zoom))&&(this.pauseablePlacement=new Rn(te,this._order,ft,ge,Fe,Je,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Ht=!0),Lt&&this.pauseablePlacement.placement.setStale()),Ht||Lt)for(var Jr=0,cn=this._order;Jr<cn.length;Jr+=1){var Fn=cn[Jr],Bn=this._layers[Fn];Bn.type==="symbol"&&this.placement.updateLayerOpacities(Bn,qt[Bn.source])}var Yn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return Yn},Z.prototype._releaseSymbolFadeTiles=function(){for(var te in this.sourceCaches)this.sourceCaches[te].releaseSymbolFadeTiles()},Z.prototype.getImages=function(te,ge,Fe){this.imageManager.getImages(ge.icons,Fe),this._updateTilesForChangedImages();var Je=this.sourceCaches[ge.source];Je&&Je.setDependencies(ge.tileID.key,ge.type,ge.icons)},Z.prototype.getGlyphs=function(te,ge,Fe){this.glyphManager.getGlyphs(ge.stacks,Fe)},Z.prototype.getResource=function(te,ge,Fe){return a.makeRequest(ge,Fe)},Z}(a.Evented);Vo.getSourceType=oe,Vo.setSourceType=Y,Vo.registerForPluginStateChange=a.registerForPluginStateChange;var ko=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),ao=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,zl=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Lf=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pc="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",qa=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Pf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qi=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Mo="void main() {gl_FragColor=vec4(1.0);}",Nl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ef=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_i=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Bl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,zi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Gi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Ul="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",io="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",oo="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Ho="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",gc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Fo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ch=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,ms=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qi=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Rf=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zs=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,xs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Df=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,yc=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,tf=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ph=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Rh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Dh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",If=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ih="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",_h=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,xc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Vl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,bu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,ks=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",rf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,wc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Tc=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,ts=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,yl=gi(ao,zl),wu=gi(Lf,pc),Ks=gi(qa,mu),bs=gi(Pf,Qi),_f=gi(Mo,Nl),jl=gi(ef,_i),rs=gi(Bl,zi),Pi=gi(Gi,Ul),kf=gi(io,oo),Fh=gi(Ho,gc),af=gi(Fo,Ch),Gl=gi(ms,qi),Wl=gi(Rf,Zs),Oo=gi(xs,Df),of=gi(yc,Lh),Yl=gi(tf,Ph),sf=gi(Rh,Dh),Oh=gi(If,Ih),Ac=gi(_h,mc),Ff=gi(xc,pl),Of=gi(Vl,xu),zf=gi(bu,bc),Xl=gi(ks,kh),lf=gi(rf,wc),Tu=gi(Tc,nf),uf=gi(ts,Hl);function gi(he,Z){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te=Z.match(/attribute ([\w]+) ([\w]+)/g),ge=he.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Fe=Z.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Je=Fe?Fe.concat(ge):ge,ft={};return he=he.replace(de,function(Lt,Ht,qt,lr,or){return ft[or]=!0,Ht==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
varying `+qt+" "+lr+" "+or+`;
#else
uniform `+qt+" "+lr+" u_"+or+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+or+`
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`}),Z=Z.replace(de,function(Lt,Ht,qt,lr,or){var Fr=lr==="float"?"vec2":"vec4",Xr=or.match(/color/)?"color":Fr;return ft[or]?Ht==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
uniform lowp float u_`+or+`_t;
attribute `+qt+" "+Fr+" a_"+or+`;
varying `+qt+" "+lr+" "+or+`;
#else
uniform `+qt+" "+lr+" u_"+or+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+or+`
    `+or+" = a_"+or+`;
#else
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+or+`
    `+or+" = unpack_mix_"+Xr+"(a_"+or+", u_"+or+`_t);
#else
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:Ht==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
uniform lowp float u_`+or+`_t;
attribute `+qt+" "+Fr+" a_"+or+`;
#else
uniform `+qt+" "+lr+" u_"+or+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+or+`
    `+qt+" "+lr+" "+or+" = a_"+or+`;
#else
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+or+`
    `+qt+" "+lr+" "+or+" = unpack_mix_"+Xr+"(a_"+or+", u_"+or+`_t);
#else
    `+qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`}),{fragmentSource:he,vertexSource:Z,staticAttributes:te,staticUniforms:Je}}var Sc=Object.freeze({__proto__:null,prelude:yl,background:wu,backgroundPattern:Ks,circle:bs,clippingMask:_f,heatmap:jl,heatmapTexture:rs,collisionBox:Pi,collisionCircle:kf,debug:Fh,fill:af,fillOutline:Gl,fillOutlinePattern:Wl,fillPattern:Oo,fillExtrusion:of,fillExtrusionPattern:Yl,hillshadePrepare:sf,hillshade:Oh,line:Ac,lineGradient:Ff,linePattern:Of,lineSDF:zf,raster:Xl,symbolIcon:lf,symbolSDF:Tu,symbolTextAndIcon:uf}),ns=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ns.prototype.bind=function(Z,de,te,ge,Fe,Je,ft,Lt){this.context=Z;for(var Ht=this.boundPaintVertexBuffers.length!==ge.length,qt=0;!Ht&&qt<ge.length;qt++)this.boundPaintVertexBuffers[qt]!==ge[qt]&&(Ht=!0);var lr=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==te||Ht||this.boundIndexBuffer!==Fe||this.boundVertexOffset!==Je||this.boundDynamicVertexBuffer!==ft||this.boundDynamicVertexBuffer2!==Lt;!Z.extVertexArrayObject||lr?this.freshBind(de,te,ge,Fe,Je,ft,Lt):(Z.bindVertexArrayOES.set(this.vao),ft&&ft.bind(),Fe&&Fe.dynamicDraw&&Fe.bind(),Lt&&Lt.bind())},ns.prototype.freshBind=function(Z,de,te,ge,Fe,Je,ft){var Lt,Ht=Z.numAttributes,qt=this.context,lr=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),Lt=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=te,this.boundIndexBuffer=ge,this.boundVertexOffset=Fe,this.boundDynamicVertexBuffer=Je,this.boundDynamicVertexBuffer2=ft;else{Lt=qt.currentNumAttributes||0;for(var or=Ht;or<Lt;or++)lr.disableVertexAttribArray(or)}de.enableAttributes(lr,Z);for(var Fr=0,Xr=te;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr];Yr.enableAttributes(lr,Z)}Je&&Je.enableAttributes(lr,Z),ft&&ft.enableAttributes(lr,Z),de.bind(),de.setVertexAttribPointers(lr,Z,Fe);for(var jr=0,Jr=te;jr<Jr.length;jr+=1){var cn=Jr[jr];cn.bind(),cn.setVertexAttribPointers(lr,Z,Fe)}Je&&(Je.bind(),Je.setVertexAttribPointers(lr,Z,Fe)),ge&&ge.bind(),ft&&(ft.bind(),ft.setVertexAttribPointers(lr,Z,Fe)),qt.currentNumAttributes=Ht},ns.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Mc(he){for(var Z=[],de=0;de<he.length;de++)if(he[de]!==null){var te=he[de].split(" ");Z.push(te.pop())}return Z}var Nf=function(Z,de,te,ge,Fe,Je){var ft=Z.gl;this.program=ft.createProgram();for(var Lt=Mc(te.staticAttributes),Ht=ge?ge.getBinderAttributes():[],qt=Lt.concat(Ht),lr=te.staticUniforms?Mc(te.staticUniforms):[],or=ge?ge.getBinderUniforms():[],Fr=lr.concat(or),Xr=[],Yr=0,jr=Fr;Yr<jr.length;Yr+=1){var Jr=jr[Yr];Xr.indexOf(Jr)<0&&Xr.push(Jr)}var cn=ge?ge.defines():[];Je&&cn.push("#define OVERDRAW_INSPECTOR;");var Fn=cn.concat(yl.fragmentSource,te.fragmentSource).join(`
`),Bn=cn.concat(yl.vertexSource,te.vertexSource).join(`
`),Yn=ft.createShader(ft.FRAGMENT_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Yn,Fn),ft.compileShader(Yn),ft.attachShader(this.program,Yn);var Xn=ft.createShader(ft.VERTEX_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Xn,Bn),ft.compileShader(Xn),ft.attachShader(this.program,Xn),this.attributes={};var Gn={};this.numAttributes=qt.length;for(var Kn=0;Kn<this.numAttributes;Kn++)qt[Kn]&&(ft.bindAttribLocation(this.program,Kn,qt[Kn]),this.attributes[qt[Kn]]=Kn);ft.linkProgram(this.program),ft.deleteShader(Xn),ft.deleteShader(Yn);for(var ta=0;ta<Xr.length;ta++){var la=Xr[ta];if(la&&!Gn[la]){var ba=ft.getUniformLocation(this.program,la);ba&&(Gn[la]=ba)}}this.fixedUniforms=Fe(Z,Gn),this.binderUniforms=ge?ge.getUniforms(Z,Gn):[]};Nf.prototype.draw=function(Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt,lr,or,Fr,Xr,Yr,jr){var Jr,cn=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(te),Z.setStencilMode(ge),Z.setColorMode(Fe),Z.setCullFace(Je);for(var Fn in this.fixedUniforms)this.fixedUniforms[Fn].set(ft[Fn]);Xr&&Xr.setUniforms(Z,this.binderUniforms,or,{zoom:Fr});for(var Bn=(Jr={},Jr[cn.LINES]=2,Jr[cn.TRIANGLES]=3,Jr[cn.LINE_STRIP]=1,Jr)[de],Yn=0,Xn=lr.get();Yn<Xn.length;Yn+=1){var Gn=Xn[Yn],Kn=Gn.vaos||(Gn.vaos={}),ta=Kn[Lt]||(Kn[Lt]=new ns);ta.bind(Z,this,Ht,Xr?Xr.getPaintVertexBuffers():[],qt,Gn.vertexOffset,Yr,jr),cn.drawElements(de,Gn.primitiveLength*Bn,cn.UNSIGNED_SHORT,Gn.primitiveOffset*Bn*2)}}};function ml(he,Z,de){var te=1/pn(de,1,Z.transform.tileZoom),ge=Math.pow(2,de.tileID.overscaledZ),Fe=de.tileSize*Math.pow(2,Z.transform.tileZoom)/ge,Je=Fe*(de.tileID.canonical.x+de.tileID.wrap*ge),ft=Fe*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[te,he.fromScale,he.toScale],u_fade:he.t,u_pixel_coord_upper:[Je>>16,ft>>16],u_pixel_coord_lower:[Je&65535,ft&65535]}}function Js(he,Z,de,te){var ge=de.imageManager.getPattern(he.from.toString()),Fe=de.imageManager.getPattern(he.to.toString()),Je=de.imageManager.getPixelSize(),ft=Je.width,Lt=Je.height,Ht=Math.pow(2,te.tileID.overscaledZ),qt=te.tileSize*Math.pow(2,de.transform.tileZoom)/Ht,lr=qt*(te.tileID.canonical.x+te.tileID.wrap*Ht),or=qt*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ge.tl,u_pattern_br_a:ge.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[ft,Lt],u_mix:Z.t,u_pattern_size_a:ge.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/pn(te,1,de.transform.tileZoom),u_pixel_coord_upper:[lr>>16,or>>16],u_pixel_coord_lower:[lr&65535,or&65535]}}var ff=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_lightpos:new a.Uniform3f(he,Z.u_lightpos),u_lightintensity:new a.Uniform1f(he,Z.u_lightintensity),u_lightcolor:new a.Uniform3f(he,Z.u_lightcolor),u_vertical_gradient:new a.Uniform1f(he,Z.u_vertical_gradient),u_opacity:new a.Uniform1f(he,Z.u_opacity)}},ki=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_lightpos:new a.Uniform3f(he,Z.u_lightpos),u_lightintensity:new a.Uniform1f(he,Z.u_lightintensity),u_lightcolor:new a.Uniform3f(he,Z.u_lightcolor),u_vertical_gradient:new a.Uniform1f(he,Z.u_vertical_gradient),u_height_factor:new a.Uniform1f(he,Z.u_height_factor),u_image:new a.Uniform1i(he,Z.u_image),u_texsize:new a.Uniform2f(he,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,Z.u_scale),u_fade:new a.Uniform1f(he,Z.u_fade),u_opacity:new a.Uniform1f(he,Z.u_opacity)}},Au=function(he,Z,de,te){var ge=Z.style.light,Fe=ge.properties.get("position"),Je=[Fe.x,Fe.y,Fe.z],ft=a.create$1();ge.properties.get("anchor")==="viewport"&&a.fromRotation(ft,-Z.transform.angle),a.transformMat3(Je,Je,ft);var Lt=ge.properties.get("color");return{u_matrix:he,u_lightpos:Je,u_lightintensity:ge.properties.get("intensity"),u_lightcolor:[Lt.r,Lt.g,Lt.b],u_vertical_gradient:+de,u_opacity:te}},as=function(he,Z,de,te,ge,Fe,Je){return a.extend(Au(he,Z,de,te),ml(Fe,Z,Je),{u_height_factor:-Math.pow(2,ge.overscaledZ)/Je.tileSize/8})},Fs=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix)}},xl=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_image:new a.Uniform1i(he,Z.u_image),u_texsize:new a.Uniform2f(he,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,Z.u_scale),u_fade:new a.Uniform1f(he,Z.u_fade)}},$s=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_world:new a.Uniform2f(he,Z.u_world)}},is=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_world:new a.Uniform2f(he,Z.u_world),u_image:new a.Uniform1i(he,Z.u_image),u_texsize:new a.Uniform2f(he,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,Z.u_scale),u_fade:new a.Uniform1f(he,Z.u_fade)}},Os=function(he){return{u_matrix:he}},os=function(he,Z,de,te){return a.extend(Os(he),ml(de,Z,te))},Xo=function(he,Z){return{u_matrix:he,u_world:Z}},Su=function(he,Z,de,te,ge){return a.extend(os(he,Z,de,te),{u_world:ge})},zh=function(he,Z){return{u_camera_to_center_distance:new a.Uniform1f(he,Z.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(he,Z.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(he,Z.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(he,Z.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(he,Z.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(he,Z.u_matrix)}},Nh=function(he,Z,de,te){var ge=he.transform,Fe,Je;if(te.paint.get("circle-pitch-alignment")==="map"){var ft=pn(de,1,ge.zoom);Fe=!0,Je=[ft,ft]}else Fe=!1,Je=ge.pixelsToGLUnits;return{u_camera_to_center_distance:ge.cameraToCenterDistance,u_scale_with_map:+(te.paint.get("circle-pitch-scale")==="map"),u_matrix:he.translatePosMatrix(Z.posMatrix,de,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+Fe,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Je}},Bh=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_camera_to_center_distance:new a.Uniform1f(he,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(he,Z.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(he,Z.u_extrude_scale),u_overscale_factor:new a.Uniform1f(he,Z.u_overscale_factor)}},Uh=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_inv_matrix:new a.UniformMatrix4f(he,Z.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(he,Z.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(he,Z.u_viewport_size)}},Bf=function(he,Z,de){var te=pn(de,1,Z.zoom),ge=Math.pow(2,Z.zoom-de.tileID.overscaledZ),Fe=de.tileID.overscaleFactor();return{u_matrix:he,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[Z.pixelsToGLUnits[0]/(te*ge),Z.pixelsToGLUnits[1]/(te*ge)],u_overscale_factor:Fe}},Ec=function(he,Z,de){return{u_matrix:he,u_inv_matrix:Z,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},Zl=function(he,Z){return{u_color:new a.UniformColor(he,Z.u_color),u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_overlay:new a.Uniform1i(he,Z.u_overlay),u_overlay_scale:new a.Uniform1f(he,Z.u_overlay_scale)}},eo=function(he,Z,de){return de===void 0&&(de=1),{u_matrix:he,u_color:Z,u_overlay:0,u_overlay_scale:de}},jo=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix)}},Kl=function(he){return{u_matrix:he}},Cc=function(he,Z){return{u_extrude_scale:new a.Uniform1f(he,Z.u_extrude_scale),u_intensity:new a.Uniform1f(he,Z.u_intensity),u_matrix:new a.UniformMatrix4f(he,Z.u_matrix)}},Mu=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_world:new a.Uniform2f(he,Z.u_world),u_image:new a.Uniform1i(he,Z.u_image),u_color_ramp:new a.Uniform1i(he,Z.u_color_ramp),u_opacity:new a.Uniform1f(he,Z.u_opacity)}},zs=function(he,Z,de,te){return{u_matrix:he,u_extrude_scale:pn(Z,1,de),u_intensity:te}},Vh=function(he,Z,de,te){var ge=a.create();a.ortho(ge,0,he.width,he.height,0,0,1);var Fe=he.context.gl;return{u_matrix:ge,u_world:[Fe.drawingBufferWidth,Fe.drawingBufferHeight],u_image:de,u_color_ramp:te,u_opacity:Z.paint.get("heatmap-opacity")}},Lc=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_image:new a.Uniform1i(he,Z.u_image),u_latrange:new a.Uniform2f(he,Z.u_latrange),u_light:new a.Uniform2f(he,Z.u_light),u_shadow:new a.UniformColor(he,Z.u_shadow),u_highlight:new a.UniformColor(he,Z.u_highlight),u_accent:new a.UniformColor(he,Z.u_accent)}},Pc=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_image:new a.Uniform1i(he,Z.u_image),u_dimension:new a.Uniform2f(he,Z.u_dimension),u_zoom:new a.Uniform1f(he,Z.u_zoom),u_unpack:new a.Uniform4f(he,Z.u_unpack)}},Uf=function(he,Z,de){var te=de.paint.get("hillshade-shadow-color"),ge=de.paint.get("hillshade-highlight-color"),Fe=de.paint.get("hillshade-accent-color"),Je=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Je-=he.transform.angle);var ft=!he.options.moving;return{u_matrix:he.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),ft),u_image:0,u_latrange:Eo(he,Z.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Je],u_shadow:te,u_highlight:ge,u_accent:Fe}},Rc=function(he,Z){var de=Z.stride,te=a.create();return a.ortho(te,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(te,te,[0,-a.EXTENT,0]),{u_matrix:te,u_image:1,u_dimension:[de,de],u_zoom:he.overscaledZ,u_unpack:Z.getUnpackVector()}};function Eo(he,Z){var de=Math.pow(2,Z.canonical.z),te=Z.canonical.y;return[new a.MercatorCoordinate(0,te/de).toLngLat().lat,new a.MercatorCoordinate(0,(te+1)/de).toLngLat().lat]}var ss=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_ratio:new a.Uniform1f(he,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,Z.u_units_to_pixels)}},Qs=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_ratio:new a.Uniform1f(he,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,Z.u_units_to_pixels),u_image:new a.Uniform1i(he,Z.u_image),u_image_height:new a.Uniform1f(he,Z.u_image_height)}},Jl=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_texsize:new a.Uniform2f(he,Z.u_texsize),u_ratio:new a.Uniform1f(he,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,Z.u_device_pixel_ratio),u_image:new a.Uniform1i(he,Z.u_image),u_units_to_pixels:new a.Uniform2f(he,Z.u_units_to_pixels),u_scale:new a.Uniform3f(he,Z.u_scale),u_fade:new a.Uniform1f(he,Z.u_fade)}},cf=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_ratio:new a.Uniform1f(he,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,Z.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(he,Z.u_patternscale_a),u_patternscale_b:new a.Uniform2f(he,Z.u_patternscale_b),u_sdfgamma:new a.Uniform1f(he,Z.u_sdfgamma),u_image:new a.Uniform1i(he,Z.u_image),u_tex_y_a:new a.Uniform1f(he,Z.u_tex_y_a),u_tex_y_b:new a.Uniform1f(he,Z.u_tex_y_b),u_mix:new a.Uniform1f(he,Z.u_mix)}},bl=function(he,Z,de){var te=he.transform;return{u_matrix:qs(he,Z,de),u_ratio:1/pn(Z,1,te.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},wl=function(he,Z,de,te){return a.extend(bl(he,Z,de),{u_image:0,u_image_height:te})},Dc=function(he,Z,de,te){var ge=he.transform,Fe=$l(Z,ge);return{u_matrix:qs(he,Z,de),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/pn(Z,1,ge.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[Fe,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/ge.pixelsToGLUnits[0],1/ge.pixelsToGLUnits[1]]}},Ns=function(he,Z,de,te,ge){var Fe=he.transform,Je=he.lineAtlas,ft=$l(Z,Fe),Lt=de.layout.get("line-cap")==="round",Ht=Je.getDash(te.from,Lt),qt=Je.getDash(te.to,Lt),lr=Ht.width*ge.fromScale,or=qt.width*ge.toScale;return a.extend(bl(he,Z,de),{u_patternscale_a:[ft/lr,-Ht.height/2],u_patternscale_b:[ft/or,-qt.height/2],u_sdfgamma:Je.width/(Math.min(lr,or)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ht.y,u_tex_y_b:qt.y,u_mix:ge.t})};function $l(he,Z){return 1/pn(he,1,Z.tileZoom)}function qs(he,Z,de){return he.translatePosMatrix(Z.tileID.posMatrix,Z,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var Bs=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_tl_parent:new a.Uniform2f(he,Z.u_tl_parent),u_scale_parent:new a.Uniform1f(he,Z.u_scale_parent),u_buffer_scale:new a.Uniform1f(he,Z.u_buffer_scale),u_fade_t:new a.Uniform1f(he,Z.u_fade_t),u_opacity:new a.Uniform1f(he,Z.u_opacity),u_image0:new a.Uniform1i(he,Z.u_image0),u_image1:new a.Uniform1i(he,Z.u_image1),u_brightness_low:new a.Uniform1f(he,Z.u_brightness_low),u_brightness_high:new a.Uniform1f(he,Z.u_brightness_high),u_saturation_factor:new a.Uniform1f(he,Z.u_saturation_factor),u_contrast_factor:new a.Uniform1f(he,Z.u_contrast_factor),u_spin_weights:new a.Uniform3f(he,Z.u_spin_weights)}},Eu=function(he,Z,de,te,ge){return{u_matrix:he,u_tl_parent:Z,u_scale_parent:de,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*ge.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ge.paint.get("raster-brightness-min"),u_brightness_high:ge.paint.get("raster-brightness-max"),u_saturation_factor:ql(ge.paint.get("raster-saturation")),u_contrast_factor:hi(ge.paint.get("raster-contrast")),u_spin_weights:Ql(ge.paint.get("raster-hue-rotate"))}};function Ql(he){he*=Math.PI/180;var Z=Math.sin(he),de=Math.cos(he);return[(2*de+1)/3,(-Math.sqrt(3)*Z-de+1)/3,(Math.sqrt(3)*Z-de+1)/3]}function hi(he){return he>0?1/(1-he):1+he}function ql(he){return he>0?1-1/(1.001-he):-he}var hf=function(he,Z){return{u_is_size_zoom_constant:new a.Uniform1i(he,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,Z.u_size_t),u_size:new a.Uniform1f(he,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(he,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(he,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,Z.u_coord_matrix),u_is_text:new a.Uniform1i(he,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(he,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(he,Z.u_texsize),u_texture:new a.Uniform1i(he,Z.u_texture)}},Ic=function(he,Z){return{u_is_size_zoom_constant:new a.Uniform1i(he,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,Z.u_size_t),u_size:new a.Uniform1f(he,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(he,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(he,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,Z.u_coord_matrix),u_is_text:new a.Uniform1i(he,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(he,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(he,Z.u_texsize),u_texture:new a.Uniform1i(he,Z.u_texture),u_gamma_scale:new a.Uniform1f(he,Z.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(he,Z.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(he,Z.u_is_halo)}},eu=function(he,Z){return{u_is_size_zoom_constant:new a.Uniform1i(he,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,Z.u_size_t),u_size:new a.Uniform1f(he,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(he,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(he,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,Z.u_coord_matrix),u_is_text:new a.Uniform1i(he,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(he,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(he,Z.u_texsize),u_texsize_icon:new a.Uniform2f(he,Z.u_texsize_icon),u_texture:new a.Uniform1i(he,Z.u_texture),u_texture_icon:new a.Uniform1i(he,Z.u_texture_icon),u_gamma_scale:new a.Uniform1f(he,Z.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(he,Z.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(he,Z.u_is_halo)}},Cu=function(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht){var qt=ge.transform;return{u_is_size_zoom_constant:+(he==="constant"||he==="source"),u_is_size_feature_constant:+(he==="constant"||he==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:qt.width/qt.height,u_fade_change:ge.options.fadeDuration?ge.symbolFadeChange:1,u_matrix:Fe,u_label_plane_matrix:Je,u_coord_matrix:ft,u_is_text:+Lt,u_pitch_with_map:+te,u_texsize:Ht,u_texture:0}},vf=function(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt){var lr=ge.transform;return a.extend(Cu(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht),{u_gamma_scale:te?Math.cos(lr._pitch)*lr.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+qt})},Vf=function(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht){return a.extend(vf(he,Z,de,te,ge,Fe,Je,ft,!0,Lt,!0),{u_texsize_icon:Ht,u_texture_icon:1})},Lu=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_opacity:new a.Uniform1f(he,Z.u_opacity),u_color:new a.UniformColor(he,Z.u_color)}},Pu=function(he,Z){return{u_matrix:new a.UniformMatrix4f(he,Z.u_matrix),u_opacity:new a.Uniform1f(he,Z.u_opacity),u_image:new a.Uniform1i(he,Z.u_image),u_pattern_tl_a:new a.Uniform2f(he,Z.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(he,Z.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(he,Z.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(he,Z.u_pattern_br_b),u_texsize:new a.Uniform2f(he,Z.u_texsize),u_mix:new a.Uniform1f(he,Z.u_mix),u_pattern_size_a:new a.Uniform2f(he,Z.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(he,Z.u_pattern_size_b),u_scale_a:new a.Uniform1f(he,Z.u_scale_a),u_scale_b:new a.Uniform1f(he,Z.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(he,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(he,Z.u_tile_units_to_pixels)}},el=function(he,Z,de){return{u_matrix:he,u_opacity:Z,u_color:de}},Ru=function(he,Z,de,te,ge,Fe){return a.extend(Js(te,Fe,de,ge),{u_matrix:he,u_opacity:Z})},tl={fillExtrusion:ff,fillExtrusionPattern:ki,fill:Fs,fillPattern:xl,fillOutline:$s,fillOutlinePattern:is,circle:zh,collisionBox:Bh,collisionCircle:Uh,debug:Zl,clippingMask:jo,heatmap:Cc,heatmapTexture:Mu,hillshade:Lc,hillshadePrepare:Pc,line:ss,lineGradient:Qs,linePattern:Jl,lineSDF:cf,raster:Bs,symbolIcon:hf,symbolSDF:Ic,symbolTextAndIcon:eu,background:Lu,backgroundPattern:Pu},Wi;function ws(he,Z,de,te,ge,Fe,Je){for(var ft=he.context,Lt=ft.gl,Ht=he.useProgram("collisionBox"),qt=[],lr=0,or=0,Fr=0;Fr<te.length;Fr++){var Xr=te[Fr],Yr=Z.getTile(Xr),jr=Yr.getBucket(de);if(jr){var Jr=Xr.posMatrix;(ge[0]!==0||ge[1]!==0)&&(Jr=he.translatePosMatrix(Xr.posMatrix,Yr,ge,Fe));var cn=Je?jr.textCollisionBox:jr.iconCollisionBox,Fn=jr.collisionCircleArray;if(Fn.length>0){var Bn=a.create(),Yn=Jr;a.mul(Bn,jr.placementInvProjMatrix,he.transform.glCoordMatrix),a.mul(Bn,Bn,jr.placementViewportMatrix),qt.push({circleArray:Fn,circleOffset:or,transform:Yn,invTransform:Bn}),lr+=Fn.length/4,or=lr}cn&&Ht.draw(ft,Lt.LINES,mr.disabled,Qt.disabled,he.colorModeForRenderPass(),It.disabled,Bf(Jr,he.transform,Yr),de.id,cn.layoutVertexBuffer,cn.indexBuffer,cn.segments,null,he.transform.zoom,null,null,cn.collisionVertexBuffer)}}if(!(!Je||!qt.length)){var Xn=he.useProgram("collisionCircle"),Gn=new a.StructArrayLayout2f1f2i16;Gn.resize(lr*4),Gn._trim();for(var Kn=0,ta=0,la=qt;ta<la.length;ta+=1)for(var ba=la[ta],va=0;va<ba.circleArray.length/4;va++){var Oa=va*4,$a=ba.circleArray[Oa+0],Wa=ba.circleArray[Oa+1],Ma=ba.circleArray[Oa+2],Ya=ba.circleArray[Oa+3];Gn.emplace(Kn++,$a,Wa,Ma,Ya,0),Gn.emplace(Kn++,$a,Wa,Ma,Ya,1),Gn.emplace(Kn++,$a,Wa,Ma,Ya,2),Gn.emplace(Kn++,$a,Wa,Ma,Ya,3)}(!Wi||Wi.length<lr*2)&&(Wi=Hf(lr));for(var Ha=ft.createIndexBuffer(Wi,!0),ii=ft.createVertexBuffer(Gn,a.collisionCircleLayout.members,!0),ei=0,Ai=qt;ei<Ai.length;ei+=1){var Ja=Ai[ei],yi=Ec(Ja.transform,Ja.invTransform,he.transform);Xn.draw(ft,Lt.TRIANGLES,mr.disabled,Qt.disabled,he.colorModeForRenderPass(),It.disabled,yi,de.id,ii,Ha,a.SegmentVector.simpleSegment(0,Ja.circleOffset*2,Ja.circleArray.length,Ja.circleArray.length/2),null,he.transform.zoom,null,null,null)}ii.destroy(),Ha.destroy()}}function Hf(he){var Z=he*2,de=new a.StructArrayLayout3ui6;de.resize(Z),de._trim();for(var te=0;te<Z;te++){var ge=te*6;de.uint16[ge+0]=te*4+0,de.uint16[ge+1]=te*4+1,de.uint16[ge+2]=te*4+2,de.uint16[ge+3]=te*4+2,de.uint16[ge+4]=te*4+3,de.uint16[ge+5]=te*4+0}return de}var Tl=a.identity(new Float32Array(16));function df(he,Z,de,te,ge){if(he.renderPass==="translucent"){var Fe=Qt.disabled,Je=he.colorModeForRenderPass(),ft=de.layout.get("text-variable-anchor");ft&&Hh(te,he,de,Z,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),ge),de.paint.get("icon-opacity").constantOr(1)!==0&&Iu(he,Z,de,te,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),Fe,Je),de.paint.get("text-opacity").constantOr(1)!==0&&Iu(he,Z,de,te,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),Fe,Je),Z.map.showCollisionBoxes&&(ws(he,Z,de,te,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),ws(he,Z,de,te,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function Du(he,Z,de,te,ge,Fe){var Je=a.getAnchorAlignment(he),ft=Je.horizontalAlign,Lt=Je.verticalAlign,Ht=-(ft-.5)*Z,qt=-(Lt-.5)*de,lr=a.evaluateVariableOffset(he,te);return new a.Point((Ht/ge+lr[0])*Fe,(qt/ge+lr[1])*Fe)}function Hh(he,Z,de,te,ge,Fe,Je){for(var ft=Z.transform,Lt=ge==="map",Ht=Fe==="map",qt=0,lr=he;qt<lr.length;qt+=1){var or=lr[qt],Fr=te.getTile(or),Xr=Fr.getBucket(de);if(!(!Xr||!Xr.text||!Xr.text.segments.get().length)){var Yr=Xr.textSizeData,jr=a.evaluateSizeForZoom(Yr,ft.zoom),Jr=pn(Fr,1,Z.transform.zoom),cn=Pr(or.posMatrix,Ht,Lt,Z.transform,Jr),Fn=de.layout.get("icon-text-fit")!=="none"&&Xr.hasIconData();if(jr){var Bn=Math.pow(2,ft.zoom-Fr.tileID.overscaledZ);_c(Xr,Lt,Ht,Je,a.symbolSize,ft,cn,or.posMatrix,Bn,jr,Fn)}}}}function _c(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt){var lr=he.text.placedSymbolArray,or=he.text.dynamicLayoutVertexArray,Fr=he.icon.dynamicLayoutVertexArray,Xr={};or.clear();for(var Yr=0;Yr<lr.length;Yr++){var jr=lr.get(Yr),Jr=he.allowVerticalPlacement&&!jr.placedOrientation,cn=!jr.hidden&&jr.crossTileID&&!Jr?te[jr.crossTileID]:null;if(!cn)na(jr.numGlyphs,or);else{var Fn=new a.Point(jr.anchorX,jr.anchorY),Bn=Vr(Fn,de?ft:Je),Yn=on(Fe.cameraToCenterDistance,Bn.signedDistanceFromCamera),Xn=ge.evaluateSizeForFeature(he.textSizeData,Ht,jr)*Yn/a.ONE_EM;de&&(Xn*=he.tilePixelRatio/Lt);for(var Gn=cn.width,Kn=cn.height,ta=cn.anchor,la=cn.textOffset,ba=cn.textBoxScale,va=Du(ta,Gn,Kn,la,ba,Xn),Oa=de?Vr(Fn.add(va),Je).point:Bn.point.add(Z?va.rotate(-Fe.angle):va),$a=he.allowVerticalPlacement&&jr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Wa=0;Wa<jr.numGlyphs;Wa++)a.addDynamicAttributes(or,Oa,$a);qt&&jr.associatedIconIndex>=0&&(Xr[jr.associatedIconIndex]={shiftedAnchor:Oa,angle:$a})}}if(qt){Fr.clear();for(var Ma=he.icon.placedSymbolArray,Ya=0;Ya<Ma.length;Ya++){var Ha=Ma.get(Ya);if(Ha.hidden)na(Ha.numGlyphs,Fr);else{var ii=Xr[Ya];if(!ii)na(Ha.numGlyphs,Fr);else for(var ei=0;ei<Ha.numGlyphs;ei++)a.addDynamicAttributes(Fr,ii.shiftedAnchor,ii.angle)}}he.icon.dynamicLayoutVertexBuffer.updateData(Fr)}he.text.dynamicLayoutVertexBuffer.updateData(or)}function xo(he,Z,de){return de.iconsInText&&Z?"symbolTextAndIcon":he?"symbolSDF":"symbolIcon"}function Iu(he,Z,de,te,ge,Fe,Je,ft,Lt,Ht,qt,lr){for(var or=he.context,Fr=or.gl,Xr=he.transform,Yr=ft==="map",jr=Lt==="map",Jr=Yr&&de.layout.get("symbol-placement")!=="point",cn=Yr&&!jr&&!Jr,Fn=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,Bn=!1,Yn=he.depthModeForSublayer(0,mr.ReadOnly),Xn=de.layout.get("text-variable-anchor"),Gn=[],Kn=0,ta=te;Kn<ta.length;Kn+=1){var la=ta[Kn],ba=Z.getTile(la),va=ba.getBucket(de);if(va){var Oa=ge?va.text:va.icon;if(!(!Oa||!Oa.segments.get().length)){var $a=Oa.programConfigurations.get(de.id),Wa=ge||va.sdfIcons,Ma=ge?va.textSizeData:va.iconSizeData,Ya=jr||Xr.pitch!==0,Ha=he.useProgram(xo(Wa,ge,va),$a),ii=a.evaluateSizeForZoom(Ma,Xr.zoom),ei=void 0,Ai=[0,0],Ja=void 0,yi=void 0,ja=null,Qa=void 0;if(ge){if(Ja=ba.glyphAtlasTexture,yi=Fr.LINEAR,ei=ba.glyphAtlasTexture.size,va.iconsInText){Ai=ba.imageAtlasTexture.size,ja=ba.imageAtlasTexture;var Ui=Ma.kind==="composite"||Ma.kind==="camera";Qa=Ya||he.options.rotating||he.options.zooming||Ui?Fr.LINEAR:Fr.NEAREST}}else{var wo=de.layout.get("icon-size").constantOr(0)!==1||va.iconsNeedLinear;Ja=ba.imageAtlasTexture,yi=Wa||he.options.rotating||he.options.zooming||wo||Ya?Fr.LINEAR:Fr.NEAREST,ei=ba.imageAtlasTexture.size}var al=pn(ba,1,he.transform.zoom),il=Pr(la.posMatrix,jr,Yr,he.transform,al),Ml=Wr(la.posMatrix,jr,Yr,he.transform,al),nu=Xn&&va.hasTextData(),Kf=de.layout.get("icon-text-fit")!=="none"&&nu&&va.hasIconData();Jr&&mn(va,la.posMatrix,he,ge,il,Ml,jr,Ht);var au=he.translatePosMatrix(la.posMatrix,ba,Fe,Je),us=Jr||ge&&Xn||Kf?Tl:il,iu=he.translatePosMatrix(Ml,ba,Fe,Je,!0),Ss=Wa&&de.paint.get(ge?"text-halo-width":"icon-halo-width").constantOr(1)!==0,fs=void 0;Wa?va.iconsInText?fs=Vf(Ma.kind,ii,cn,jr,he,au,us,iu,ei,Ai):fs=vf(Ma.kind,ii,cn,jr,he,au,us,iu,ge,ei,!0):fs=Cu(Ma.kind,ii,cn,jr,he,au,us,iu,ge,ei);var El={program:Ha,buffers:Oa,uniformValues:fs,atlasTexture:Ja,atlasTextureIcon:ja,atlasInterpolation:yi,atlasInterpolationIcon:Qa,isSDF:Wa,hasHalo:Ss};if(Fn&&va.canOverlap){Bn=!0;for(var Uu=Oa.segments.get(),Cl=0,Tv=Uu;Cl<Tv.length;Cl+=1){var Hc=Tv[Cl];Gn.push({segments:new a.SegmentVector([Hc]),sortKey:Hc.sortKey,state:El})}}else Gn.push({segments:Oa.segments,sortKey:0,state:El})}}}Bn&&Gn.sort(function(Sv,Mv){return Sv.sortKey-Mv.sortKey});for(var Co=0,Av=Gn;Co<Av.length;Co+=1){var Zh=Av[Co],Zo=Zh.state;if(or.activeTexture.set(Fr.TEXTURE0),Zo.atlasTexture.bind(Zo.atlasInterpolation,Fr.CLAMP_TO_EDGE),Zo.atlasTextureIcon&&(or.activeTexture.set(Fr.TEXTURE1),Zo.atlasTextureIcon&&Zo.atlasTextureIcon.bind(Zo.atlasInterpolationIcon,Fr.CLAMP_TO_EDGE)),Zo.isSDF){var jc=Zo.uniformValues;Zo.hasHalo&&(jc.u_is_halo=1,tu(Zo.buffers,Zh.segments,de,he,Zo.program,Yn,qt,lr,jc)),jc.u_is_halo=0}tu(Zo.buffers,Zh.segments,de,he,Zo.program,Yn,qt,lr,Zo.uniformValues)}}function tu(he,Z,de,te,ge,Fe,Je,ft,Lt){var Ht=te.context,qt=Ht.gl;ge.draw(Ht,qt.TRIANGLES,Fe,Je,ft,It.disabled,Lt,de.id,he.layoutVertexBuffer,he.indexBuffer,Z,de.paint,te.transform.zoom,he.programConfigurations.get(de.id),he.dynamicLayoutVertexBuffer,he.opacityVertexBuffer)}function kc(he,Z,de,te){if(he.renderPass==="translucent"){var ge=de.paint.get("circle-opacity"),Fe=de.paint.get("circle-stroke-width"),Je=de.paint.get("circle-stroke-opacity"),ft=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ge.constantOr(1)===0&&(Fe.constantOr(1)===0||Je.constantOr(1)===0))){for(var Lt=he.context,Ht=Lt.gl,qt=he.depthModeForSublayer(0,mr.ReadOnly),lr=Qt.disabled,or=he.colorModeForRenderPass(),Fr=[],Xr=0;Xr<te.length;Xr++){var Yr=te[Xr],jr=Z.getTile(Yr),Jr=jr.getBucket(de);if(Jr){var cn=Jr.programConfigurations.get(de.id),Fn=he.useProgram("circle",cn),Bn=Jr.layoutVertexBuffer,Yn=Jr.indexBuffer,Xn=Nh(he,Yr,jr,de),Gn={programConfiguration:cn,program:Fn,layoutVertexBuffer:Bn,indexBuffer:Yn,uniformValues:Xn};if(ft)for(var Kn=Jr.segments.get(),ta=0,la=Kn;ta<la.length;ta+=1){var ba=la[ta];Fr.push({segments:new a.SegmentVector([ba]),sortKey:ba.sortKey,state:Gn})}else Fr.push({segments:Jr.segments,sortKey:0,state:Gn})}}ft&&Fr.sort(function(Ja,yi){return Ja.sortKey-yi.sortKey});for(var va=0,Oa=Fr;va<Oa.length;va+=1){var $a=Oa[va],Wa=$a.state,Ma=Wa.programConfiguration,Ya=Wa.program,Ha=Wa.layoutVertexBuffer,ii=Wa.indexBuffer,ei=Wa.uniformValues,Ai=$a.segments;Ya.draw(Lt,Ht.TRIANGLES,qt,lr,or,It.disabled,ei,de.id,Ha,ii,Ai,de.paint,he.transform.zoom,Ma)}}}}function rl(he,Z,de,te){if(de.paint.get("heatmap-opacity")!==0)if(he.renderPass==="offscreen"){var ge=he.context,Fe=ge.gl,Je=Qt.disabled,ft=new lt([Fe.ONE,Fe.ONE],a.Color.transparent,[!0,!0,!0,!0]);jh(ge,he,de),ge.clear({color:a.Color.transparent});for(var Lt=0;Lt<te.length;Lt++){var Ht=te[Lt];if(!Z.hasRenderableParent(Ht)){var qt=Z.getTile(Ht),lr=qt.getBucket(de);if(lr){var or=lr.programConfigurations.get(de.id),Fr=he.useProgram("heatmap",or),Xr=he.transform,Yr=Xr.zoom;Fr.draw(ge,Fe.TRIANGLES,mr.disabled,Je,ft,It.disabled,zs(Ht.posMatrix,qt,Yr,de.paint.get("heatmap-intensity")),de.id,lr.layoutVertexBuffer,lr.indexBuffer,lr.segments,de.paint,he.transform.zoom,or)}}}ge.viewport.set([0,0,he.width,he.height])}else he.renderPass==="translucent"&&(he.context.setColorMode(he.colorModeForRenderPass()),_u(he,de))}function jh(he,Z,de){var te=he.gl;he.activeTexture.set(te.TEXTURE1),he.viewport.set([0,0,Z.width/4,Z.height/4]);var ge=de.heatmapFbo;if(ge)te.bindTexture(te.TEXTURE_2D,ge.colorAttachment.get()),he.bindFramebuffer.set(ge.framebuffer);else{var Fe=te.createTexture();te.bindTexture(te.TEXTURE_2D,Fe),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),ge=de.heatmapFbo=he.createFramebuffer(Z.width/4,Z.height/4,!1),zo(he,Z,Fe,ge)}}function zo(he,Z,de,te){var ge=he.gl,Fe=he.extRenderToTextureHalfFloat?he.extTextureHalfFloat.HALF_FLOAT_OES:ge.UNSIGNED_BYTE;ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,Z.width/4,Z.height/4,0,ge.RGBA,Fe,null),te.colorAttachment.set(de)}function _u(he,Z){var de=he.context,te=de.gl,ge=Z.heatmapFbo;if(ge){de.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,ge.colorAttachment.get()),de.activeTexture.set(te.TEXTURE1);var Fe=Z.colorRampTexture;Fe||(Fe=Z.colorRampTexture=new a.Texture(de,Z.colorRamp,te.RGBA)),Fe.bind(te.LINEAR,te.CLAMP_TO_EDGE),he.useProgram("heatmapTexture").draw(de,te.TRIANGLES,mr.disabled,Qt.disabled,he.colorModeForRenderPass(),It.disabled,Vh(he,Z,0,1),Z.id,he.viewportBuffer,he.quadTriangleIndexBuffer,he.viewportSegments,Z.paint,he.transform.zoom)}}function pf(he,Z,de,te){if(he.renderPass==="translucent"){var ge=de.paint.get("line-opacity"),Fe=de.paint.get("line-width");if(!(ge.constantOr(1)===0||Fe.constantOr(1)===0))for(var Je=he.depthModeForSublayer(0,mr.ReadOnly),ft=he.colorModeForRenderPass(),Lt=de.paint.get("line-dasharray"),Ht=de.paint.get("line-pattern"),qt=Ht.constantOr(1),lr=de.paint.get("line-gradient"),or=de.getCrossfadeParameters(),Fr=qt?"linePattern":Lt?"lineSDF":lr?"lineGradient":"line",Xr=he.context,Yr=Xr.gl,jr=!0,Jr=0,cn=te;Jr<cn.length;Jr+=1){var Fn=cn[Jr],Bn=Z.getTile(Fn);if(!(qt&&!Bn.patternsLoaded())){var Yn=Bn.getBucket(de);if(Yn){var Xn=Yn.programConfigurations.get(de.id),Gn=he.context.program.get(),Kn=he.useProgram(Fr,Xn),ta=jr||Kn.program!==Gn,la=Ht.constantOr(null);if(la&&Bn.imageAtlas){var ba=Bn.imageAtlas,va=ba.patternPositions[la.to.toString()],Oa=ba.patternPositions[la.from.toString()];va&&Oa&&Xn.setConstantPatternPositions(va,Oa)}var $a=qt?Dc(he,Bn,de,or):Lt?Ns(he,Bn,de,Lt,or):lr?wl(he,Bn,de,Yn.lineClipsArray.length):bl(he,Bn,de);if(qt)Xr.activeTexture.set(Yr.TEXTURE0),Bn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Xn.updatePaintBuffers(or);else if(Lt&&(ta||he.lineAtlas.dirty))Xr.activeTexture.set(Yr.TEXTURE0),he.lineAtlas.bind(Xr);else if(lr){var Wa=Yn.gradients[de.id],Ma=Wa.texture;if(de.gradientVersion!==Wa.version){var Ya=256;if(de.stepInterpolant){var Ha=Z.getSource().maxzoom,ii=Fn.canonical.z===Ha?Math.ceil(1<<he.transform.maxZoom-Fn.canonical.z):1,ei=Yn.maxLineLength/a.EXTENT,Ai=1024,Ja=ei*Ai*ii;Ya=a.clamp(a.nextPowerOfTwo(Ja),256,Xr.maxTextureSize)}Wa.gradient=a.renderColorRamp({expression:de.gradientExpression(),evaluationKey:"lineProgress",resolution:Ya,image:Wa.gradient||void 0,clips:Yn.lineClipsArray}),Wa.texture?Wa.texture.update(Wa.gradient):Wa.texture=new a.Texture(Xr,Wa.gradient,Yr.RGBA),Wa.version=de.gradientVersion,Ma=Wa.texture}Xr.activeTexture.set(Yr.TEXTURE0),Ma.bind(de.stepInterpolant?Yr.NEAREST:Yr.LINEAR,Yr.CLAMP_TO_EDGE)}Kn.draw(Xr,Yr.TRIANGLES,Je,he.stencilModeForClipping(Fn),ft,It.disabled,$a,de.id,Yn.layoutVertexBuffer,Yn.indexBuffer,Yn.segments,de.paint,he.transform.zoom,Xn,Yn.layoutVertexBuffer2),jr=!1}}}}}function Us(he,Z,de,te){var ge=de.paint.get("fill-color"),Fe=de.paint.get("fill-opacity");if(Fe.constantOr(1)!==0){var Je=he.colorModeForRenderPass(),ft=de.paint.get("fill-pattern"),Lt=he.opaquePassEnabledForLayer()&&!ft.constantOr(1)&&ge.constantOr(a.Color.transparent).a===1&&Fe.constantOr(0)===1?"opaque":"translucent";if(he.renderPass===Lt){var Ht=he.depthModeForSublayer(1,he.renderPass==="opaque"?mr.ReadWrite:mr.ReadOnly);nl(he,Z,de,te,Ht,Je,!1)}if(he.renderPass==="translucent"&&de.paint.get("fill-antialias")){var qt=he.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,mr.ReadOnly);nl(he,Z,de,te,qt,Je,!0)}}}function nl(he,Z,de,te,ge,Fe,Je){var ft=he.context.gl,Lt=de.paint.get("fill-pattern"),Ht=Lt&&Lt.constantOr(1),qt=de.getCrossfadeParameters(),lr,or,Fr,Xr,Yr;Je?(or=Ht&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",lr=ft.LINES):(or=Ht?"fillPattern":"fill",lr=ft.TRIANGLES);for(var jr=0,Jr=te;jr<Jr.length;jr+=1){var cn=Jr[jr],Fn=Z.getTile(cn);if(!(Ht&&!Fn.patternsLoaded())){var Bn=Fn.getBucket(de);if(Bn){var Yn=Bn.programConfigurations.get(de.id),Xn=he.useProgram(or,Yn);Ht&&(he.context.activeTexture.set(ft.TEXTURE0),Fn.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Yn.updatePaintBuffers(qt));var Gn=Lt.constantOr(null);if(Gn&&Fn.imageAtlas){var Kn=Fn.imageAtlas,ta=Kn.patternPositions[Gn.to.toString()],la=Kn.patternPositions[Gn.from.toString()];ta&&la&&Yn.setConstantPatternPositions(ta,la)}var ba=he.translatePosMatrix(cn.posMatrix,Fn,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Je)Xr=Bn.indexBuffer,Yr=Bn.segments,Fr=Ht?os(ba,he,qt,Fn):Os(ba);else{Xr=Bn.indexBuffer2,Yr=Bn.segments2;var va=[ft.drawingBufferWidth,ft.drawingBufferHeight];Fr=or==="fillOutlinePattern"&&Ht?Su(ba,he,qt,Fn,va):Xo(ba,va)}Xn.draw(he.context,lr,ge,he.stencilModeForClipping(cn),Fe,It.disabled,Fr,de.id,Bn.layoutVertexBuffer,Xr,Yr,de.paint,he.transform.zoom,Yn)}}}}function jf(he,Z,de,te){var ge=de.paint.get("fill-extrusion-opacity");if(ge!==0&&he.renderPass==="translucent"){var Fe=new mr(he.context.gl.LEQUAL,mr.ReadWrite,he.depthRangeFor3D);if(ge===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Je=he.colorModeForRenderPass();ku(he,Z,de,te,Fe,Qt.disabled,Je)}else ku(he,Z,de,te,Fe,Qt.disabled,lt.disabled),ku(he,Z,de,te,Fe,he.stencilModeFor3D(),he.colorModeForRenderPass())}}function ku(he,Z,de,te,ge,Fe,Je){for(var ft=he.context,Lt=ft.gl,Ht=de.paint.get("fill-extrusion-pattern"),qt=Ht.constantOr(1),lr=de.getCrossfadeParameters(),or=de.paint.get("fill-extrusion-opacity"),Fr=0,Xr=te;Fr<Xr.length;Fr+=1){var Yr=Xr[Fr],jr=Z.getTile(Yr),Jr=jr.getBucket(de);if(Jr){var cn=Jr.programConfigurations.get(de.id),Fn=he.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",cn);qt&&(he.context.activeTexture.set(Lt.TEXTURE0),jr.imageAtlasTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),cn.updatePaintBuffers(lr));var Bn=Ht.constantOr(null);if(Bn&&jr.imageAtlas){var Yn=jr.imageAtlas,Xn=Yn.patternPositions[Bn.to.toString()],Gn=Yn.patternPositions[Bn.from.toString()];Xn&&Gn&&cn.setConstantPatternPositions(Xn,Gn)}var Kn=he.translatePosMatrix(Yr.posMatrix,jr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),ta=de.paint.get("fill-extrusion-vertical-gradient"),la=qt?as(Kn,he,ta,or,Yr,lr,jr):Au(Kn,he,ta,or);Fn.draw(ft,ft.gl.TRIANGLES,ge,Fe,Je,It.backCCW,la,de.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,de.paint,he.transform.zoom,cn)}}}function Fu(he,Z,de,te){if(!(he.renderPass!=="offscreen"&&he.renderPass!=="translucent")){for(var ge=he.context,Fe=he.depthModeForSublayer(0,mr.ReadOnly),Je=he.colorModeForRenderPass(),ft=he.renderPass==="translucent"?he.stencilConfigForOverlap(te):[{},te],Lt=ft[0],Ht=ft[1],qt=0,lr=Ht;qt<lr.length;qt+=1){var or=lr[qt],Fr=Z.getTile(or);Fr.needsHillshadePrepare&&he.renderPass==="offscreen"?Fc(he,Fr,de,Fe,Qt.disabled,Je):he.renderPass==="translucent"&&gf(he,Fr,de,Fe,Lt[or.overscaledZ],Je)}ge.viewport.set([0,0,he.width,he.height])}}function gf(he,Z,de,te,ge,Fe){var Je=he.context,ft=Je.gl,Lt=Z.fbo;if(Lt){var Ht=he.useProgram("hillshade");Je.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_2D,Lt.colorAttachment.get());var qt=Uf(he,Z,de);Ht.draw(Je,ft.TRIANGLES,te,ge,Fe,It.disabled,qt,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function Fc(he,Z,de,te,ge,Fe){var Je=he.context,ft=Je.gl,Lt=Z.dem;if(Lt&&Lt.data){var Ht=Lt.dim,qt=Lt.stride,lr=Lt.getPixels();if(Je.activeTexture.set(ft.TEXTURE1),Je.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||he.getTileTexture(qt),Z.demTexture){var or=Z.demTexture;or.update(lr,{premultiply:!1}),or.bind(ft.NEAREST,ft.CLAMP_TO_EDGE)}else Z.demTexture=new a.Texture(Je,lr,ft.RGBA,{premultiply:!1}),Z.demTexture.bind(ft.NEAREST,ft.CLAMP_TO_EDGE);Je.activeTexture.set(ft.TEXTURE0);var Fr=Z.fbo;if(!Fr){var Xr=new a.Texture(Je,{width:Ht,height:Ht,data:null},ft.RGBA);Xr.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Fr=Z.fbo=Je.createFramebuffer(Ht,Ht,!0),Fr.colorAttachment.set(Xr.texture)}Je.bindFramebuffer.set(Fr.framebuffer),Je.viewport.set([0,0,Ht,Ht]),he.useProgram("hillshadePrepare").draw(Je,ft.TRIANGLES,te,ge,Fe,It.disabled,Rc(Z.tileID,Lt),de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function Ou(he,Z,de,te){if(he.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&te.length)for(var ge=he.context,Fe=ge.gl,Je=Z.getSource(),ft=he.useProgram("raster"),Lt=he.colorModeForRenderPass(),Ht=Je instanceof $?[{},te]:he.stencilConfigForOverlap(te),qt=Ht[0],lr=Ht[1],or=lr[lr.length-1].overscaledZ,Fr=!he.options.moving,Xr=0,Yr=lr;Xr<Yr.length;Xr+=1){var jr=Yr[Xr],Jr=he.depthModeForSublayer(jr.overscaledZ-or,de.paint.get("raster-opacity")===1?mr.ReadWrite:mr.ReadOnly,Fe.LESS),cn=Z.getTile(jr),Fn=he.transform.calculatePosMatrix(jr.toUnwrapped(),Fr);cn.registerFadeDuration(de.paint.get("raster-fade-duration"));var Bn=Z.findLoadedParent(jr,0),Yn=Gf(cn,Bn,Z,de,he.transform),Xn=void 0,Gn=void 0,Kn=de.paint.get("raster-resampling")==="nearest"?Fe.NEAREST:Fe.LINEAR;ge.activeTexture.set(Fe.TEXTURE0),cn.texture.bind(Kn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),ge.activeTexture.set(Fe.TEXTURE1),Bn?(Bn.texture.bind(Kn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),Xn=Math.pow(2,Bn.tileID.overscaledZ-cn.tileID.overscaledZ),Gn=[cn.tileID.canonical.x*Xn%1,cn.tileID.canonical.y*Xn%1]):cn.texture.bind(Kn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST);var ta=Eu(Fn,Gn||[0,0],Xn||1,Yn,de);Je instanceof $?ft.draw(ge,Fe.TRIANGLES,Jr,Qt.disabled,Lt,It.disabled,ta,de.id,Je.boundsBuffer,he.quadTriangleIndexBuffer,Je.boundsSegments):ft.draw(ge,Fe.TRIANGLES,Jr,qt[jr.overscaledZ],Lt,It.disabled,ta,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function Gf(he,Z,de,te,ge){var Fe=te.paint.get("raster-fade-duration");if(Fe>0){var Je=a.browser.now(),ft=(Je-he.timeAdded)/Fe,Lt=Z?(Je-Z.timeAdded)/Fe:-1,Ht=de.getSource(),qt=ge.coveringZoomLevel({tileSize:Ht.tileSize,roundZoom:Ht.roundZoom}),lr=!Z||Math.abs(Z.tileID.overscaledZ-qt)>Math.abs(he.tileID.overscaledZ-qt),or=lr&&he.refreshedUponExpiration?1:a.clamp(lr?ft:1-Lt,0,1);return he.refreshedUponExpiration&&ft>=1&&(he.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-or}:{opacity:or,mix:0}}else return{opacity:1,mix:0}}function Al(he,Z,de){var te=de.paint.get("background-color"),ge=de.paint.get("background-opacity");if(ge!==0){var Fe=he.context,Je=Fe.gl,ft=he.transform,Lt=ft.tileSize,Ht=de.paint.get("background-pattern");if(!he.isPatternMissing(Ht)){var qt=!Ht&&te.a===1&&ge===1&&he.opaquePassEnabledForLayer()?"opaque":"translucent";if(he.renderPass===qt){var lr=Qt.disabled,or=he.depthModeForSublayer(0,qt==="opaque"?mr.ReadWrite:mr.ReadOnly),Fr=he.colorModeForRenderPass(),Xr=he.useProgram(Ht?"backgroundPattern":"background"),Yr=ft.coveringTiles({tileSize:Lt});Ht&&(Fe.activeTexture.set(Je.TEXTURE0),he.imageManager.bind(he.context));for(var jr=de.getCrossfadeParameters(),Jr=0,cn=Yr;Jr<cn.length;Jr+=1){var Fn=cn[Jr],Bn=he.transform.calculatePosMatrix(Fn.toUnwrapped()),Yn=Ht?Ru(Bn,ge,he,Ht,{tileID:Fn,tileSize:Lt},jr):el(Bn,ge,te);Xr.draw(Fe,Je.TRIANGLES,or,lr,Fr,It.disabled,Yn,de.id,he.tileExtentBuffer,he.quadTriangleIndexBuffer,he.tileExtentSegments)}}}}}var Wf=new a.Color(1,0,0,1),zu=new a.Color(0,1,0,1),Oc=new a.Color(0,0,1,1),$e=new a.Color(1,0,1,1),ot=new a.Color(0,1,1,1);function xt(he){var Z=he.transform.padding,de=3;Ot(he,he.transform.height-(Z.top||0),de,Wf),Ot(he,Z.bottom||0,de,zu),_t(he,Z.left||0,de,Oc),_t(he,he.transform.width-(Z.right||0),de,$e);var te=he.transform.centerPoint;wt(he,te.x,he.transform.height-te.y,ot)}function wt(he,Z,de,te){var ge=20,Fe=2;Ut(he,Z-Fe/2,de-ge/2,Fe,ge,te),Ut(he,Z-ge/2,de-Fe/2,ge,Fe,te)}function Ot(he,Z,de,te){Ut(he,0,Z+de/2,he.transform.width,de,te)}function _t(he,Z,de,te){Ut(he,Z-de/2,0,de,he.transform.height,te)}function Ut(he,Z,de,te,ge,Fe){var Je=he.context,ft=Je.gl;ft.enable(ft.SCISSOR_TEST),ft.scissor(Z*a.browser.devicePixelRatio,de*a.browser.devicePixelRatio,te*a.browser.devicePixelRatio,ge*a.browser.devicePixelRatio),Je.clear({color:Fe}),ft.disable(ft.SCISSOR_TEST)}function pr(he,Z,de){for(var te=0;te<de.length;te++)wr(he,Z,de[te])}function wr(he,Z,de){var te=he.context,ge=te.gl,Fe=de.posMatrix,Je=he.useProgram("debug"),ft=mr.disabled,Lt=Qt.disabled,Ht=he.colorModeForRenderPass(),qt="$debug";te.activeTexture.set(ge.TEXTURE0),he.emptyTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),Je.draw(te,ge.LINE_STRIP,ft,Lt,Ht,It.disabled,eo(Fe,a.Color.red),qt,he.debugBuffer,he.tileBorderIndexBuffer,he.debugSegments);var lr=Z.getTileByID(de.key).latestRawTileData,or=lr&&lr.byteLength||0,Fr=Math.floor(or/1024),Xr=Z.getTile(de).tileSize,Yr=512/Math.min(Xr,512)*(de.overscaledZ/he.transform.zoom)*.5,jr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(jr+=" => "+de.overscaledZ);var Jr=jr+" "+Fr+"kb";ir(he,Jr),Je.draw(te,ge.TRIANGLES,ft,Lt,lt.alphaBlended,It.disabled,eo(Fe,a.Color.transparent,Yr),qt,he.debugBuffer,he.quadTriangleIndexBuffer,he.debugSegments)}function ir(he,Z){he.initDebugOverlayCanvas();var de=he.debugOverlayCanvas,te=he.context.gl,ge=he.debugOverlayCanvas.getContext("2d");ge.clearRect(0,0,de.width,de.height),ge.shadowColor="white",ge.shadowBlur=2,ge.lineWidth=1.5,ge.strokeStyle="white",ge.textBaseline="top",ge.font="bold 36px Open Sans, sans-serif",ge.fillText(Z,5,5),ge.strokeText(Z,5,5),he.debugOverlayTexture.update(de),he.debugOverlayTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)}function Mr(he,Z,de){var te=he.context,ge=de.implementation;if(he.renderPass==="offscreen"){var Fe=ge.prerender;Fe&&(he.setCustomLayerDefaults(),te.setColorMode(he.colorModeForRenderPass()),Fe.call(ge,te.gl,he.transform.customLayerMatrix()),te.setDirty(),he.setBaseState())}else if(he.renderPass==="translucent"){he.setCustomLayerDefaults(),te.setColorMode(he.colorModeForRenderPass()),te.setStencilMode(Qt.disabled);var Je=ge.renderingMode==="3d"?new mr(he.context.gl.LEQUAL,mr.ReadWrite,he.depthRangeFor3D):he.depthModeForSublayer(0,mr.ReadOnly);te.setDepthMode(Je),ge.render(te.gl,he.transform.customLayerMatrix()),te.setDirty(),he.setBaseState(),te.bindFramebuffer.set(null)}}var kr={symbol:df,circle:kc,heatmap:rl,line:pf,fill:Us,"fill-extrusion":jf,hillshade:Fu,raster:Ou,background:Al,debug:pr,custom:Mr},Br=function(Z,de){this.context=new Dt(Z),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Vt.maxUnderzooming+Vt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new oa,this.gpuTimers={}};Br.prototype.resize=function(Z,de){if(this.width=Z*a.browser.devicePixelRatio,this.height=de*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var te=0,ge=this.style._order;te<ge.length;te+=1){var Fe=ge[te];this.style._layers[Fe].resize()}},Br.prototype.setup=function(){var Z=this.context,de=new a.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(a.EXTENT,0),de.emplaceBack(0,a.EXTENT),de.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(de,ko.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var te=new a.StructArrayLayout2i4;te.emplaceBack(0,0),te.emplaceBack(a.EXTENT,0),te.emplaceBack(0,a.EXTENT),te.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=Z.createVertexBuffer(te,ko.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var ge=new a.StructArrayLayout4i8;ge.emplaceBack(0,0,0,0),ge.emplaceBack(a.EXTENT,0,a.EXTENT,0),ge.emplaceBack(0,a.EXTENT,0,a.EXTENT),ge.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(ge,W.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Fe=new a.StructArrayLayout2i4;Fe.emplaceBack(0,0),Fe.emplaceBack(1,0),Fe.emplaceBack(0,1),Fe.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(Fe,ko.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Je=new a.StructArrayLayout1ui2;Je.emplaceBack(0),Je.emplaceBack(1),Je.emplaceBack(3),Je.emplaceBack(2),Je.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer(Je);var ft=new a.StructArrayLayout3ui6;ft.emplaceBack(0,1,2),ft.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(ft),this.emptyTexture=new a.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var Lt=this.context.gl;this.stencilClearMode=new Qt({func:Lt.ALWAYS,mask:0},0,255,Lt.ZERO,Lt.ZERO,Lt.ZERO)},Br.prototype.clearStencil=function(){var Z=this.context,de=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var te=a.create();a.ortho(te,0,this.width,this.height,0,0,1),a.scale(te,te,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,de.TRIANGLES,mr.disabled,this.stencilClearMode,lt.disabled,It.disabled,Kl(te),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Br.prototype._renderTileClippingMasks=function(Z,de){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!de||!de.length)){this.currentStencilSource=Z.source;var te=this.context,ge=te.gl;this.nextStencilID+de.length>256&&this.clearStencil(),te.setColorMode(lt.disabled),te.setDepthMode(mr.disabled);var Fe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Je=0,ft=de;Je<ft.length;Je+=1){var Lt=ft[Je],Ht=this._tileClippingMaskIDs[Lt.key]=this.nextStencilID++;Fe.draw(te,ge.TRIANGLES,mr.disabled,new Qt({func:ge.ALWAYS,mask:0},Ht,255,ge.KEEP,ge.KEEP,ge.REPLACE),lt.disabled,It.disabled,Kl(Lt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Br.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,de=this.context.gl;return new Qt({func:de.NOTEQUAL,mask:255},Z,255,de.KEEP,de.KEEP,de.REPLACE)},Br.prototype.stencilModeForClipping=function(Z){var de=this.context.gl;return new Qt({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,de.KEEP,de.KEEP,de.REPLACE)},Br.prototype.stencilConfigForOverlap=function(Z){var de,te=this.context.gl,ge=Z.sort(function(Ht,qt){return qt.overscaledZ-Ht.overscaledZ}),Fe=ge[ge.length-1].overscaledZ,Je=ge[0].overscaledZ-Fe+1;if(Je>1){this.currentStencilSource=void 0,this.nextStencilID+Je>256&&this.clearStencil();for(var ft={},Lt=0;Lt<Je;Lt++)ft[Lt+Fe]=new Qt({func:te.GEQUAL,mask:255},Lt+this.nextStencilID,255,te.KEEP,te.KEEP,te.REPLACE);return this.nextStencilID+=Je,[ft,ge]}return[(de={},de[Fe]=Qt.disabled,de),ge]},Br.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var de=8,te=1/de;return new lt([Z.CONSTANT_COLOR,Z.ONE],new a.Color(te,te,te,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Br.prototype.depthModeForSublayer=function(Z,de,te){if(!this.opaquePassEnabledForLayer())return mr.disabled;var ge=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new mr(te||this.context.gl.LEQUAL,de,[ge,ge])},Br.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Br.prototype.render=function(Z,de){var te=this;this.style=Z,this.options=de,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var ge=this.style._order,Fe=this.style.sourceCaches;for(var Je in Fe){var ft=Fe[Je];ft.used&&ft.prepare(this.context)}var Lt={},Ht={},qt={};for(var lr in Fe){var or=Fe[lr];Lt[lr]=or.getVisibleCoordinates(),Ht[lr]=Lt[lr].slice().reverse(),qt[lr]=or.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Fr=0;Fr<ge.length;Fr++){var Xr=ge[Fr];if(this.style._layers[Xr].is3D()){this.opaquePassCutoff=Fr;break}}this.renderPass="offscreen";for(var Yr=0,jr=ge;Yr<jr.length;Yr+=1){var Jr=jr[Yr],cn=this.style._layers[Jr];if(!(!cn.hasOffscreenPass()||cn.isHidden(this.transform.zoom))){var Fn=Ht[cn.source];cn.type!=="custom"&&!Fn.length||this.renderLayer(this,Fe[cn.source],cn,Fn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ge.length-1;this.currentLayer>=0;this.currentLayer--){var Bn=this.style._layers[ge[this.currentLayer]],Yn=Fe[Bn.source],Xn=Lt[Bn.source];this._renderTileClippingMasks(Bn,Xn),this.renderLayer(this,Yn,Bn,Xn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ge.length;this.currentLayer++){var Gn=this.style._layers[ge[this.currentLayer]],Kn=Fe[Gn.source],ta=(Gn.type==="symbol"?qt:Ht)[Gn.source];this._renderTileClippingMasks(Gn,Lt[Gn.source]),this.renderLayer(this,Kn,Gn,ta)}if(this.options.showTileBoundaries){var la,ba,va=a.values(this.style._layers);va.forEach(function(Oa){Oa.source&&!Oa.isHidden(te.transform.zoom)&&(Oa.source!==(ba&&ba.id)&&(ba=te.style.sourceCaches[Oa.source]),(!la||la.getSource().maxzoom<ba.getSource().maxzoom)&&(la=ba))}),la&&kr.debug(this,la,la.getVisibleCoordinates())}this.options.showPadding&&xt(this),this.context.setDefault()},Br.prototype.renderLayer=function(Z,de,te,ge){te.isHidden(this.transform.zoom)||te.type!=="background"&&te.type!=="custom"&&!ge.length||(this.id=te.id,this.gpuTimingStart(te),kr[te.type](Z,de,te,ge,this.style.placement.variableOffsets),this.gpuTimingEnd())},Br.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var de=this.context.extTimerQuery,te=this.gpuTimers[Z.id];te||(te=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),te.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,te.query)}},Br.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},Br.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},Br.prototype.queryGpuTimers=function(Z){var de={};for(var te in Z){var ge=Z[te],Fe=this.context.extTimerQuery,Je=Fe.getQueryObjectEXT(ge.query,Fe.QUERY_RESULT_EXT)/(1e3*1e3);Fe.deleteQueryEXT(ge.query),de[te]=Je}return de},Br.prototype.translatePosMatrix=function(Z,de,te,ge,Fe){if(!te[0]&&!te[1])return Z;var Je=Fe?ge==="map"?this.transform.angle:0:ge==="viewport"?-this.transform.angle:0;if(Je){var ft=Math.sin(Je),Lt=Math.cos(Je);te=[te[0]*Lt-te[1]*ft,te[0]*ft+te[1]*Lt]}var Ht=[Fe?te[0]:pn(de,te[0],this.transform.zoom),Fe?te[1]:pn(de,te[1],this.transform.zoom),0],qt=new Float32Array(16);return a.translate(qt,Z,Ht),qt},Br.prototype.saveTileTexture=function(Z){var de=this._tileTextures[Z.size[0]];de?de.push(Z):this._tileTextures[Z.size[0]]=[Z]},Br.prototype.getTileTexture=function(Z){var de=this._tileTextures[Z];return de&&de.length>0?de.pop():null},Br.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var de=this.imageManager.getPattern(Z.from.toString()),te=this.imageManager.getPattern(Z.to.toString());return!de||!te},Br.prototype.useProgram=function(Z,de){this.cache=this.cache||{};var te=""+Z+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[te]||(this.cache[te]=new Nf(this.context,Z,Sc[Z],de,tl[Z],this._showOverdrawInspector)),this.cache[te]},Br.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Br.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},Br.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},Br.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var rn=function(Z,de){this.points=Z,this.planes=de};rn.fromInvProjectionMatrix=function(Z,de,te){var ge=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Fe=Math.pow(2,te),Je=ge.map(function(Ht){return a.transformMat4([],Ht,Z)}).map(function(Ht){return a.scale$1([],Ht,1/Ht[3]/de*Fe)}),ft=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Lt=ft.map(function(Ht){var qt=a.sub([],Je[Ht[0]],Je[Ht[1]]),lr=a.sub([],Je[Ht[2]],Je[Ht[1]]),or=a.normalize([],a.cross([],qt,lr)),Fr=-a.dot(or,Je[Ht[1]]);return or.concat(Fr)});return new rn(Je,Lt)};var bn=function(Z,de){this.min=Z,this.max=de,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};bn.prototype.quadrant=function(Z){for(var de=[Z%2===0,Z<2],te=a.clone$2(this.min),ge=a.clone$2(this.max),Fe=0;Fe<de.length;Fe++)te[Fe]=de[Fe]?this.min[Fe]:this.center[Fe],ge[Fe]=de[Fe]?this.center[Fe]:this.max[Fe];return ge[2]=this.max[2],new bn(te,ge)},bn.prototype.distanceX=function(Z){var de=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return de-Z[0]},bn.prototype.distanceY=function(Z){var de=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return de-Z[1]},bn.prototype.intersects=function(Z){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],te=!0,ge=0;ge<Z.planes.length;ge++){for(var Fe=Z.planes[ge],Je=0,ft=0;ft<de.length;ft++)Je+=a.dot$1(Fe,de[ft])>=0;if(Je===0)return 0;Je!==de.length&&(te=!1)}if(te)return 2;for(var Lt=0;Lt<3;Lt++){for(var Ht=Number.MAX_VALUE,qt=-Number.MAX_VALUE,lr=0;lr<Z.points.length;lr++){var or=Z.points[lr][Lt]-this.min[Lt];Ht=Math.min(Ht,or),qt=Math.max(qt,or)}if(qt<0||Ht>this.max[Lt]-this.min[Lt])return 0}return 1};var In=function(Z,de,te,ge){if(Z===void 0&&(Z=0),de===void 0&&(de=0),te===void 0&&(te=0),ge===void 0&&(ge=0),isNaN(Z)||Z<0||isNaN(de)||de<0||isNaN(te)||te<0||isNaN(ge)||ge<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=de,this.left=te,this.right=ge};In.prototype.interpolate=function(Z,de,te){return de.top!=null&&Z.top!=null&&(this.top=a.number(Z.top,de.top,te)),de.bottom!=null&&Z.bottom!=null&&(this.bottom=a.number(Z.bottom,de.bottom,te)),de.left!=null&&Z.left!=null&&(this.left=a.number(Z.left,de.left,te)),de.right!=null&&Z.right!=null&&(this.right=a.number(Z.right,de.right,te)),this},In.prototype.getCenter=function(Z,de){var te=a.clamp((this.left+Z-this.right)/2,0,Z),ge=a.clamp((this.top+de-this.bottom)/2,0,de);return new a.Point(te,ge)},In.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},In.prototype.clone=function(){return new In(this.top,this.bottom,this.left,this.right)},In.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var _n=function(Z,de,te,ge,Fe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Fe===void 0?!0:Fe,this._minZoom=Z||0,this._maxZoom=de||22,this._minPitch=te??0,this._maxPitch=ge??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new In,this._posMatrixCache={},this._alignedPosMatrixCache={}},Zn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};_n.prototype.clone=function(){var Z=new _n(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},Zn.minZoom.get=function(){return this._minZoom},Zn.minZoom.set=function(he){this._minZoom!==he&&(this._minZoom=he,this.zoom=Math.max(this.zoom,he))},Zn.maxZoom.get=function(){return this._maxZoom},Zn.maxZoom.set=function(he){this._maxZoom!==he&&(this._maxZoom=he,this.zoom=Math.min(this.zoom,he))},Zn.minPitch.get=function(){return this._minPitch},Zn.minPitch.set=function(he){this._minPitch!==he&&(this._minPitch=he,this.pitch=Math.max(this.pitch,he))},Zn.maxPitch.get=function(){return this._maxPitch},Zn.maxPitch.set=function(he){this._maxPitch!==he&&(this._maxPitch=he,this.pitch=Math.min(this.pitch,he))},Zn.renderWorldCopies.get=function(){return this._renderWorldCopies},Zn.renderWorldCopies.set=function(he){he===void 0?he=!0:he===null&&(he=!1),this._renderWorldCopies=he},Zn.worldSize.get=function(){return this.tileSize*this.scale},Zn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Zn.size.get=function(){return new a.Point(this.width,this.height)},Zn.bearing.get=function(){return-this.angle/Math.PI*180},Zn.bearing.set=function(he){var Z=-a.wrap(he,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Zn.pitch.get=function(){return this._pitch/Math.PI*180},Zn.pitch.set=function(he){var Z=a.clamp(he,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Zn.fov.get=function(){return this._fov/Math.PI*180},Zn.fov.set=function(he){he=Math.max(.01,Math.min(60,he)),this._fov!==he&&(this._unmodified=!1,this._fov=he/180*Math.PI,this._calcMatrices())},Zn.zoom.get=function(){return this._zoom},Zn.zoom.set=function(he){var Z=Math.min(Math.max(he,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Zn.center.get=function(){return this._center},Zn.center.set=function(he){he.lat===this._center.lat&&he.lng===this._center.lng||(this._unmodified=!1,this._center=he,this._constrain(),this._calcMatrices())},Zn.padding.get=function(){return this._edgeInsets.toJSON()},Zn.padding.set=function(he){this._edgeInsets.equals(he)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,he,1),this._calcMatrices())},Zn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},_n.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},_n.prototype.interpolatePadding=function(Z,de,te){this._unmodified=!1,this._edgeInsets.interpolate(Z,de,te),this._constrain(),this._calcMatrices()},_n.prototype.coveringZoomLevel=function(Z){var de=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,de)},_n.prototype.getVisibleUnwrappedCoordinates=function(Z){var de=[new a.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var te=this.pointCoordinate(new a.Point(0,0)),ge=this.pointCoordinate(new a.Point(this.width,0)),Fe=this.pointCoordinate(new a.Point(this.width,this.height)),Je=this.pointCoordinate(new a.Point(0,this.height)),ft=Math.floor(Math.min(te.x,ge.x,Fe.x,Je.x)),Lt=Math.floor(Math.max(te.x,ge.x,Fe.x,Je.x)),Ht=1,qt=ft-Ht;qt<=Lt+Ht;qt++)qt!==0&&de.push(new a.UnwrappedTileID(qt,Z));return de},_n.prototype.coveringTiles=function(Z){var de=this.coveringZoomLevel(Z),te=de;if(Z.minzoom!==void 0&&de<Z.minzoom)return[];Z.maxzoom!==void 0&&de>Z.maxzoom&&(de=Z.maxzoom);var ge=a.MercatorCoordinate.fromLngLat(this.center),Fe=Math.pow(2,de),Je=[Fe*ge.x,Fe*ge.y,0],ft=rn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),Lt=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Lt=de);var Ht=3,qt=function(va){return{aabb:new bn([va*Fe,0,0],[(va+1)*Fe,Fe,0]),zoom:0,x:0,y:0,wrap:va,fullyVisible:!1}},lr=[],or=[],Fr=de,Xr=Z.reparseOverscaled?te:de;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)lr.push(qt(-Yr)),lr.push(qt(Yr));for(lr.push(qt(0));lr.length>0;){var jr=lr.pop(),Jr=jr.x,cn=jr.y,Fn=jr.fullyVisible;if(!Fn){var Bn=jr.aabb.intersects(ft);if(Bn===0)continue;Fn=Bn===2}var Yn=jr.aabb.distanceX(Je),Xn=jr.aabb.distanceY(Je),Gn=Math.max(Math.abs(Yn),Math.abs(Xn)),Kn=Ht+(1<<Fr-jr.zoom)-2;if(jr.zoom===Fr||Gn>Kn&&jr.zoom>=Lt){or.push({tileID:new a.OverscaledTileID(jr.zoom===Fr?Xr:jr.zoom,jr.wrap,jr.zoom,Jr,cn),distanceSq:a.sqrLen([Je[0]-.5-Jr,Je[1]-.5-cn])});continue}for(var ta=0;ta<4;ta++){var la=(Jr<<1)+ta%2,ba=(cn<<1)+(ta>>1);lr.push({aabb:jr.aabb.quadrant(ta),zoom:jr.zoom+1,x:la,y:ba,wrap:jr.wrap,fullyVisible:Fn})}}return or.sort(function(va,Oa){return va.distanceSq-Oa.distanceSq}).map(function(va){return va.tileID})},_n.prototype.resize=function(Z,de){this.width=Z,this.height=de,this.pixelsToGLUnits=[2/Z,-2/de],this._constrain(),this._calcMatrices()},Zn.unmodified.get=function(){return this._unmodified},_n.prototype.zoomScale=function(Z){return Math.pow(2,Z)},_n.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},_n.prototype.project=function(Z){var de=a.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(Z.lng)*this.worldSize,a.mercatorYfromLat(de)*this.worldSize)},_n.prototype.unproject=function(Z){return new a.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},Zn.point.get=function(){return this.project(this.center)},_n.prototype.setLocationAtPoint=function(Z,de){var te=this.pointCoordinate(de),ge=this.pointCoordinate(this.centerPoint),Fe=this.locationCoordinate(Z),Je=new a.MercatorCoordinate(Fe.x-(te.x-ge.x),Fe.y-(te.y-ge.y));this.center=this.coordinateLocation(Je),this._renderWorldCopies&&(this.center=this.center.wrap())},_n.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},_n.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},_n.prototype.locationCoordinate=function(Z){return a.MercatorCoordinate.fromLngLat(Z)},_n.prototype.coordinateLocation=function(Z){return Z.toLngLat()},_n.prototype.pointCoordinate=function(Z){var de=0,te=[Z.x,Z.y,0,1],ge=[Z.x,Z.y,1,1];a.transformMat4(te,te,this.pixelMatrixInverse),a.transformMat4(ge,ge,this.pixelMatrixInverse);var Fe=te[3],Je=ge[3],ft=te[0]/Fe,Lt=ge[0]/Je,Ht=te[1]/Fe,qt=ge[1]/Je,lr=te[2]/Fe,or=ge[2]/Je,Fr=lr===or?0:(de-lr)/(or-lr);return new a.MercatorCoordinate(a.number(ft,Lt,Fr)/this.worldSize,a.number(Ht,qt,Fr)/this.worldSize)},_n.prototype.coordinatePoint=function(Z){var de=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return a.transformMat4(de,de,this.pixelMatrix),new a.Point(de[0]/de[3],de[1]/de[3])},_n.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},_n.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},_n.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},_n.prototype.calculatePosMatrix=function(Z,de){de===void 0&&(de=!1);var te=Z.key,ge=de?this._alignedPosMatrixCache:this._posMatrixCache;if(ge[te])return ge[te];var Fe=Z.canonical,Je=this.worldSize/this.zoomScale(Fe.z),ft=Fe.x+Math.pow(2,Fe.z)*Z.wrap,Lt=a.identity(new Float64Array(16));return a.translate(Lt,Lt,[ft*Je,Fe.y*Je,0]),a.scale(Lt,Lt,[Je/a.EXTENT,Je/a.EXTENT,1]),a.multiply(Lt,de?this.alignedProjMatrix:this.projMatrix,Lt),ge[te]=new Float32Array(Lt),ge[te]},_n.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},_n.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,de=90,te=-180,ge=180,Fe,Je,ft,Lt,Ht=this.size,qt=this._unmodified;if(this.latRange){var lr=this.latRange;Z=a.mercatorYfromLat(lr[1])*this.worldSize,de=a.mercatorYfromLat(lr[0])*this.worldSize,Fe=de-Z<Ht.y?Ht.y/(de-Z):0}if(this.lngRange){var or=this.lngRange;te=a.mercatorXfromLng(or[0])*this.worldSize,ge=a.mercatorXfromLng(or[1])*this.worldSize,Je=ge-te<Ht.x?Ht.x/(ge-te):0}var Fr=this.point,Xr=Math.max(Je||0,Fe||0);if(Xr){this.center=this.unproject(new a.Point(Je?(ge+te)/2:Fr.x,Fe?(de+Z)/2:Fr.y)),this.zoom+=this.scaleZoom(Xr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var Yr=Fr.y,jr=Ht.y/2;Yr-jr<Z&&(Lt=Z+jr),Yr+jr>de&&(Lt=de-jr)}if(this.lngRange){var Jr=Fr.x,cn=Ht.x/2;Jr-cn<te&&(ft=te+cn),Jr+cn>ge&&(ft=ge-cn)}(ft!==void 0||Lt!==void 0)&&(this.center=this.unproject(new a.Point(ft!==void 0?ft:Fr.x,Lt!==void 0?Lt:Fr.y))),this._unmodified=qt,this._constraining=!1}},_n.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var te=Math.PI/2+this._pitch,ge=this._fov*(.5+de.y/this.height),Fe=Math.sin(ge)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-te-ge,.01,Math.PI-.01)),Je=this.point,ft=Je.x,Lt=Je.y,Ht=Math.cos(Math.PI/2-this._pitch)*Fe+this.cameraToCenterDistance,qt=Ht*1.01,lr=this.height/50,or=new Float64Array(16);a.perspective(or,this._fov,this.width/this.height,lr,qt),or[8]=-de.x*2/this.width,or[9]=de.y*2/this.height,a.scale(or,or,[1,-1,1]),a.translate(or,or,[0,0,-this.cameraToCenterDistance]),a.rotateX(or,or,this._pitch),a.rotateZ(or,or,this.angle),a.translate(or,or,[-ft,-Lt,0]),this.mercatorMatrix=a.scale([],or,[this.worldSize,this.worldSize,this.worldSize]),a.scale(or,or,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=or,this.invProjMatrix=a.invert([],this.projMatrix);var Fr=this.width%2/2,Xr=this.height%2/2,Yr=Math.cos(this.angle),jr=Math.sin(this.angle),Jr=ft-Math.round(ft)+Yr*Fr+jr*Xr,cn=Lt-Math.round(Lt)+Yr*Xr+jr*Fr,Fn=new Float64Array(or);if(a.translate(Fn,Fn,[Jr>.5?Jr-1:Jr,cn>.5?cn-1:cn,0]),this.alignedProjMatrix=Fn,or=a.create(),a.scale(or,or,[this.width/2,-this.height/2,1]),a.translate(or,or,[1,-1,0]),this.labelPlaneMatrix=or,or=a.create(),a.scale(or,or,[1,-1,1]),a.translate(or,or,[-1,-1,0]),a.scale(or,or,[2/this.width,2/this.height,1]),this.glCoordMatrix=or,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),or=a.invert(new Float64Array(16),this.pixelMatrix),!or)throw new Error("failed to invert matrix");this.pixelMatrixInverse=or,this._posMatrixCache={},this._alignedPosMatrixCache={}}},_n.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new a.Point(0,0)),de=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],te=a.transformMat4(de,de,this.pixelMatrix);return te[3]/this.cameraToCenterDistance},_n.prototype.getCameraPoint=function(){var Z=this._pitch,de=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,de))},_n.prototype.getCameraQueryGeometry=function(Z){var de=this.getCameraPoint();if(Z.length===1)return[Z[0],de];for(var te=de.x,ge=de.y,Fe=de.x,Je=de.y,ft=0,Lt=Z;ft<Lt.length;ft+=1){var Ht=Lt[ft];te=Math.min(te,Ht.x),ge=Math.min(ge,Ht.y),Fe=Math.max(Fe,Ht.x),Je=Math.max(Je,Ht.y)}return[new a.Point(te,ge),new a.Point(Fe,ge),new a.Point(Fe,Je),new a.Point(te,Je),new a.Point(te,ge)]},Object.defineProperties(_n.prototype,Zn);function Ra(he,Z){var de=!1,te=null,ge=function(){te=null,de&&(he(),te=setTimeout(ge,Z),de=!1)};return function(){return de=!0,te||ge(),te}}var Da=function(Z){this._hashName=Z&&encodeURIComponent(Z),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ra(this._updateHashUnthrottled.bind(this),30*1e3/100)};Da.prototype.addTo=function(Z){return this._map=Z,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Da.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Da.prototype.getHashString=function(Z){var de=this._map.getCenter(),te=Math.round(this._map.getZoom()*100)/100,ge=Math.ceil((te*Math.LN2+Math.log(512/360/.5))/Math.LN10),Fe=Math.pow(10,ge),Je=Math.round(de.lng*Fe)/Fe,ft=Math.round(de.lat*Fe)/Fe,Lt=this._map.getBearing(),Ht=this._map.getPitch(),qt="";if(Z?qt+="/"+Je+"/"+ft+"/"+te:qt+=te+"/"+ft+"/"+Je,(Lt||Ht)&&(qt+="/"+Math.round(Lt*10)/10),Ht&&(qt+="/"+Math.round(Ht)),this._hashName){var lr=this._hashName,or=!1,Fr=a.window.location.hash.slice(1).split("&").map(function(Xr){var Yr=Xr.split("=")[0];return Yr===lr?(or=!0,Yr+"="+qt):Xr}).filter(function(Xr){return Xr});return or||Fr.push(lr+"="+qt),"#"+Fr.join("&")}return"#"+qt},Da.prototype._getCurrentHash=function(){var Z=this,de=a.window.location.hash.replace("#","");if(this._hashName){var te;return de.split("&").map(function(ge){return ge.split("=")}).forEach(function(ge){ge[0]===Z._hashName&&(te=ge)}),(te&&te[1]||"").split("/")}return de.split("/")},Da.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(te){return isNaN(te)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:de,pitch:+(Z[4]||0)}),!0}return!1},Da.prototype._updateHashUnthrottled=function(){var Z=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,Z)}catch{}};var Ia={linearity:.3,easing:a.bezier(0,0,.3,1)},za=a.extend({deceleration:2500,maxSpeed:1400},Ia),Xa=a.extend({deceleration:20,maxSpeed:1400},Ia),vi=a.extend({deceleration:1e3,maxSpeed:360},Ia),Fi=a.extend({deceleration:1e3,maxSpeed:90},Ia),fe=function(Z){this._map=Z,this.clear()};fe.prototype.clear=function(){this._inertiaBuffer=[]},fe.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:Z})},fe.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,de=a.browser.now(),te=160;Z.length>0&&de-Z[0].time>te;)Z.shift()},fe.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},te=0,ge=this._inertiaBuffer;te<ge.length;te+=1){var Fe=ge[te],Je=Fe.settings;de.zoom+=Je.zoomDelta||0,de.bearing+=Je.bearingDelta||0,de.pitch+=Je.pitchDelta||0,Je.panDelta&&de.pan._add(Je.panDelta),Je.around&&(de.around=Je.around),Je.pinchAround&&(de.pinchAround=Je.pinchAround)}var ft=this._inertiaBuffer[this._inertiaBuffer.length-1],Lt=ft.time-this._inertiaBuffer[0].time,Ht={};if(de.pan.mag()){var qt=ze(de.pan.mag(),Lt,a.extend({},za,Z||{}));Ht.offset=de.pan.mult(qt.amount/de.pan.mag()),Ht.center=this._map.transform.center,Le(Ht,qt)}if(de.zoom){var lr=ze(de.zoom,Lt,Xa);Ht.zoom=this._map.transform.zoom+lr.amount,Le(Ht,lr)}if(de.bearing){var or=ze(de.bearing,Lt,vi);Ht.bearing=this._map.transform.bearing+a.clamp(or.amount,-179,179),Le(Ht,or)}if(de.pitch){var Fr=ze(de.pitch,Lt,Fi);Ht.pitch=this._map.transform.pitch+Fr.amount,Le(Ht,Fr)}if(Ht.zoom||Ht.bearing){var Xr=de.pinchAround===void 0?de.around:de.pinchAround;Ht.around=Xr?this._map.unproject(Xr):this._map.getCenter()}return this.clear(),a.extend(Ht,{noMoveStart:!0})}};function Le(he,Z){(!he.duration||he.duration<Z.duration)&&(he.duration=Z.duration,he.easing=Z.easing)}function ze(he,Z,de){var te=de.maxSpeed,ge=de.linearity,Fe=de.deceleration,Je=a.clamp(he*ge/(Z/1e3),-te,te),ft=Math.abs(Je)/(Fe*ge);return{easing:de.easing,duration:ft*1e3,amount:Je*(ft/2)}}var qe=function(he){function Z(te,ge,Fe,Je){Je===void 0&&(Je={});var ft=M.mousePos(ge.getCanvasContainer(),Fe),Lt=ge.unproject(ft);he.call(this,te,a.extend({point:ft,lngLat:Lt,originalEvent:Fe},Je)),this._defaultPrevented=!1,this.target=ge}he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(a.Event),it=function(he){function Z(te,ge,Fe){var Je=te==="touchend"?Fe.changedTouches:Fe.touches,ft=M.touchPos(ge.getCanvasContainer(),Je),Lt=ft.map(function(lr){return ge.unproject(lr)}),Ht=ft.reduce(function(lr,or,Fr,Xr){return lr.add(or.div(Xr.length))},new a.Point(0,0)),qt=ge.unproject(Ht);he.call(this,te,{points:ft,point:Ht,lngLats:Lt,lngLat:qt,originalEvent:Fe}),this._defaultPrevented=!1}he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(a.Event),ct=function(he){function Z(te,ge,Fe){he.call(this,te,{originalEvent:Fe}),this._defaultPrevented=!1}he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(a.Event),Pt=function(Z,de){this._map=Z,this._clickTolerance=de.clickTolerance};Pt.prototype.reset=function(){delete this._mousedownPos},Pt.prototype.wheel=function(Z){return this._firePreventable(new ct(Z.type,this._map,Z))},Pt.prototype.mousedown=function(Z,de){return this._mousedownPos=de,this._firePreventable(new qe(Z.type,this._map,Z))},Pt.prototype.mouseup=function(Z){this._map.fire(new qe(Z.type,this._map,Z))},Pt.prototype.click=function(Z,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new qe(Z.type,this._map,Z))},Pt.prototype.dblclick=function(Z){return this._firePreventable(new qe(Z.type,this._map,Z))},Pt.prototype.mouseover=function(Z){this._map.fire(new qe(Z.type,this._map,Z))},Pt.prototype.mouseout=function(Z){this._map.fire(new qe(Z.type,this._map,Z))},Pt.prototype.touchstart=function(Z){return this._firePreventable(new it(Z.type,this._map,Z))},Pt.prototype.touchmove=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Pt.prototype.touchend=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Pt.prototype.touchcancel=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Pt.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var Mt=function(Z){this._map=Z};Mt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Mt.prototype.mousemove=function(Z){this._map.fire(new qe(Z.type,this._map,Z))},Mt.prototype.mousedown=function(){this._delayContextMenu=!0},Mt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Mt.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new qe(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},Mt.prototype.isEnabled=function(){return!0},Mt.prototype.isActive=function(){return!1},Mt.prototype.enable=function(){},Mt.prototype.disable=function(){};var jt=function(Z,de){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=de.clickTolerance||1};jt.prototype.isEnabled=function(){return!!this._enabled},jt.prototype.isActive=function(){return!!this._active},jt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},jt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},jt.prototype.mousedown=function(Z,de){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(M.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},jt.prototype.mousemoveWindow=function(Z,de){if(this._active){var te=de;if(!(this._lastPos.equals(te)||!this._box&&te.dist(this._startPos)<this._clickTolerance)){var ge=this._startPos;this._lastPos=te,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var Fe=Math.min(ge.x,te.x),Je=Math.max(ge.x,te.x),ft=Math.min(ge.y,te.y),Lt=Math.max(ge.y,te.y);M.setTransform(this._box,"translate("+Fe+"px,"+ft+"px)"),this._box.style.width=Je-Fe+"px",this._box.style.height=Lt-ft+"px"}}},jt.prototype.mouseupWindow=function(Z,de){var te=this;if(this._active&&Z.button===0){var ge=this._startPos,Fe=de;if(this.reset(),M.suppressClick(),ge.x===Fe.x&&ge.y===Fe.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function(Je){return Je.fitScreenCoordinates(ge,Fe,te._map.getBearing(),{linear:!0})}}}},jt.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},jt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},jt.prototype._fireEvent=function(Z,de){return this._map.fire(new a.Event(Z,{originalEvent:de}))};function Gt(he,Z){for(var de={},te=0;te<he.length;te++)de[he[te].identifier]=Z[te];return de}function rr(he){for(var Z=new a.Point(0,0),de=0,te=he;de<te.length;de+=1){var ge=te[de];Z._add(ge)}return Z.div(he.length)}var Lr=500,Rr=500,$r=30,sn=function(Z){this.reset(),this.numTouches=Z.numTouches};sn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},sn.prototype.touchstart=function(Z,de,te){(this.centroid||te.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),te.length===this.numTouches&&(this.centroid=rr(de),this.touches=Gt(te,de)))},sn.prototype.touchmove=function(Z,de,te){if(!(this.aborted||!this.centroid)){var ge=Gt(te,de);for(var Fe in this.touches){var Je=this.touches[Fe],ft=ge[Fe];(!ft||ft.dist(Je)>$r)&&(this.aborted=!0)}}},sn.prototype.touchend=function(Z,de,te){if((!this.centroid||Z.timeStamp-this.startTime>Rr)&&(this.aborted=!0),te.length===0){var ge=!this.aborted&&this.centroid;if(this.reset(),ge)return ge}};var Ir=function(Z){this.singleTap=new sn(Z),this.numTaps=Z.numTaps,this.reset()};Ir.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ir.prototype.touchstart=function(Z,de,te){this.singleTap.touchstart(Z,de,te)},Ir.prototype.touchmove=function(Z,de,te){this.singleTap.touchmove(Z,de,te)},Ir.prototype.touchend=function(Z,de,te){var ge=this.singleTap.touchend(Z,de,te);if(ge){var Fe=Z.timeStamp-this.lastTime<Lr,Je=!this.lastTap||this.lastTap.dist(ge)<$r;if((!Fe||!Je)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=ge,this.count===this.numTaps)return this.reset(),ge}};var Ur=function(){this._zoomIn=new Ir({numTouches:1,numTaps:2}),this._zoomOut=new Ir({numTouches:2,numTaps:1}),this.reset()};Ur.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ur.prototype.touchstart=function(Z,de,te){this._zoomIn.touchstart(Z,de,te),this._zoomOut.touchstart(Z,de,te)},Ur.prototype.touchmove=function(Z,de,te){this._zoomIn.touchmove(Z,de,te),this._zoomOut.touchmove(Z,de,te)},Ur.prototype.touchend=function(Z,de,te){var ge=this,Fe=this._zoomIn.touchend(Z,de,te),Je=this._zoomOut.touchend(Z,de,te);if(Fe)return this._active=!0,Z.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()+1,around:ft.unproject(Fe)},{originalEvent:Z})}};if(Je)return this._active=!0,Z.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()-1,around:ft.unproject(Je)},{originalEvent:Z})}}},Ur.prototype.touchcancel=function(){this.reset()},Ur.prototype.enable=function(){this._enabled=!0},Ur.prototype.disable=function(){this._enabled=!1,this.reset()},Ur.prototype.isEnabled=function(){return this._enabled},Ur.prototype.isActive=function(){return this._active};var Kr=0,fn=2,dn={};dn[Kr]=1,dn[fn]=2;function en(he,Z){var de=dn[Z];return he.buttons===void 0||(he.buttons&de)!==de}var Hn=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};Hn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hn.prototype._correctButton=function(Z,de){return!1},Hn.prototype._move=function(Z,de){return{}},Hn.prototype.mousedown=function(Z,de){if(!this._lastPoint){var te=M.mouseButton(Z);this._correctButton(Z,te)&&(this._lastPoint=de,this._eventButton=te)}},Hn.prototype.mousemoveWindow=function(Z,de){var te=this._lastPoint;if(te){if(Z.preventDefault(),en(Z,this._eventButton)){this.reset();return}if(!(!this._moved&&de.dist(te)<this._clickTolerance))return this._moved=!0,this._lastPoint=de,this._move(te,de)}},Hn.prototype.mouseupWindow=function(Z){if(this._lastPoint){var de=M.mouseButton(Z);de===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())}},Hn.prototype.enable=function(){this._enabled=!0},Hn.prototype.disable=function(){this._enabled=!1,this.reset()},Hn.prototype.isEnabled=function(){return this._enabled},Hn.prototype.isActive=function(){return this._active};var ea=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(te,ge){he.prototype.mousedown.call(this,te,ge),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(te,ge){return ge===Kr&&!te.ctrlKey},Z.prototype._move=function(te,ge){return{around:ge,panDelta:ge.sub(te)}},Z}(Hn),fa=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(te,ge){return ge===Kr&&te.ctrlKey||ge===fn},Z.prototype._move=function(te,ge){var Fe=.8,Je=(ge.x-te.x)*Fe;if(Je)return this._active=!0,{bearingDelta:Je}},Z.prototype.contextmenu=function(te){te.preventDefault()},Z}(Hn),Qn=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(te,ge){return ge===Kr&&te.ctrlKey||ge===fn},Z.prototype._move=function(te,ge){var Fe=-.5,Je=(ge.y-te.y)*Fe;if(Je)return this._active=!0,{pitchDelta:Je}},Z.prototype.contextmenu=function(te){te.preventDefault()},Z}(Hn),ia=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};ia.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},ia.prototype.touchstart=function(Z,de,te){return this._calculateTransform(Z,de,te)},ia.prototype.touchmove=function(Z,de,te){if(!(!this._active||te.length<this._minTouches))return Z.preventDefault(),this._calculateTransform(Z,de,te)},ia.prototype.touchend=function(Z,de,te){this._calculateTransform(Z,de,te),this._active&&te.length<this._minTouches&&this.reset()},ia.prototype.touchcancel=function(){this.reset()},ia.prototype._calculateTransform=function(Z,de,te){te.length>0&&(this._active=!0);var ge=Gt(te,de),Fe=new a.Point(0,0),Je=new a.Point(0,0),ft=0;for(var Lt in ge){var Ht=ge[Lt],qt=this._touches[Lt];qt&&(Fe._add(Ht),Je._add(Ht.sub(qt)),ft++,ge[Lt]=Ht)}if(this._touches=ge,!(ft<this._minTouches||!Je.mag())){var lr=Je.div(ft);if(this._sum._add(lr),!(this._sum.mag()<this._clickTolerance)){var or=Fe.div(ft);return{around:or,panDelta:lr}}}},ia.prototype.enable=function(){this._enabled=!0},ia.prototype.disable=function(){this._enabled=!1,this.reset()},ia.prototype.isEnabled=function(){return this._enabled},ia.prototype.isActive=function(){return this._active};var ca=function(){this.reset()};ca.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ca.prototype._start=function(Z){},ca.prototype._move=function(Z,de,te){return{}},ca.prototype.touchstart=function(Z,de,te){this._firstTwoTouches||te.length<2||(this._firstTwoTouches=[te[0].identifier,te[1].identifier],this._start([de[0],de[1]]))},ca.prototype.touchmove=function(Z,de,te){if(this._firstTwoTouches){Z.preventDefault();var ge=this._firstTwoTouches,Fe=ge[0],Je=ge[1],ft=Ba(te,de,Fe),Lt=Ba(te,de,Je);if(!(!ft||!Lt)){var Ht=this._aroundCenter?null:ft.add(Lt).div(2);return this._move([ft,Lt],Ht,Z)}}},ca.prototype.touchend=function(Z,de,te){if(this._firstTwoTouches){var ge=this._firstTwoTouches,Fe=ge[0],Je=ge[1],ft=Ba(te,de,Fe),Lt=Ba(te,de,Je);ft&&Lt||(this._active&&M.suppressClick(),this.reset())}},ca.prototype.touchcancel=function(){this.reset()},ca.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},ca.prototype.disable=function(){this._enabled=!1,this.reset()},ca.prototype.isEnabled=function(){return this._enabled},ca.prototype.isActive=function(){return this._active};function Ba(he,Z,de){for(var te=0;te<he.length;te++)if(he[te].identifier===de)return Z[te]}var Ea=.1;function Fa(he,Z){return Math.log(he/Z)/Math.LN2}var ni=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){he.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(te){this._startDistance=this._distance=te[0].dist(te[1])},Z.prototype._move=function(te,ge){var Fe=this._distance;if(this._distance=te[0].dist(te[1]),!(!this._active&&Math.abs(Fa(this._distance,this._startDistance))<Ea))return this._active=!0,{zoomDelta:Fa(this._distance,Fe),pinchAround:ge}},Z}(ca),Ni=25;function ui(he,Z){return he.angleWith(Z)*180/Math.PI}var Jn=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){he.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(te){this._startVector=this._vector=te[0].sub(te[1]),this._minDiameter=te[0].dist(te[1])},Z.prototype._move=function(te,ge){var Fe=this._vector;if(this._vector=te[0].sub(te[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ui(this._vector,Fe),pinchAround:ge}},Z.prototype._isBelowThreshold=function(te){this._minDiameter=Math.min(this._minDiameter,te.mag());var ge=Math.PI*this._minDiameter,Fe=Ni/ge*360,Je=ui(te,this._startVector);return Math.abs(Je)<Fe},Z}(ca);function Va(he){return Math.abs(he.y)>Math.abs(he.x)}var Sa=100,Za=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){he.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(te){this._lastPoints=te,Va(te[0].sub(te[1]))&&(this._valid=!1)},Z.prototype._move=function(te,ge,Fe){var Je=te[0].sub(this._lastPoints[0]),ft=te[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Je,ft,Fe.timeStamp),!!this._valid){this._lastPoints=te,this._active=!0;var Lt=(Je.y+ft.y)/2,Ht=-.5;return{pitchDelta:Lt*Ht}}},Z.prototype.gestureBeginsVertically=function(te,ge,Fe){if(this._valid!==void 0)return this._valid;var Je=2,ft=te.mag()>=Je,Lt=ge.mag()>=Je;if(!(!ft&&!Lt)){if(!ft||!Lt)return this._firstMove===void 0&&(this._firstMove=Fe),Fe-this._firstMove<Sa?void 0:!1;var Ht=te.y>0==ge.y>0;return Va(te)&&Va(ge)&&Ht}},Z}(ca),bi={panStep:100,bearingStep:15,pitchStep:10},ai=function(){var Z=bi;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep,this._rotationDisabled=!1};ai.prototype.reset=function(){this._active=!1},ai.prototype.keydown=function(Z){var de=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var te=0,ge=0,Fe=0,Je=0,ft=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:te=1;break;case 189:case 109:case 173:te=-1;break;case 37:Z.shiftKey?ge=-1:(Z.preventDefault(),Je=-1);break;case 39:Z.shiftKey?ge=1:(Z.preventDefault(),Je=1);break;case 38:Z.shiftKey?Fe=1:(Z.preventDefault(),ft=-1);break;case 40:Z.shiftKey?Fe=-1:(Z.preventDefault(),ft=1);break;default:return}return this._rotationDisabled&&(ge=0,Fe=0),{cameraAnimation:function(Lt){var Ht=Lt.getZoom();Lt.easeTo({duration:300,easeId:"keyboardHandler",easing:to,zoom:te?Math.round(Ht)+te*(Z.shiftKey?2:1):Ht,bearing:Lt.getBearing()+ge*de._bearingStep,pitch:Lt.getPitch()+Fe*de._pitchStep,offset:[-Je*de._panStep,-ft*de._panStep],center:Lt.getCenter()},{originalEvent:Z})}}}},ai.prototype.enable=function(){this._enabled=!0},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active},ai.prototype.disableRotation=function(){this._rotationDisabled=!0},ai.prototype.enableRotation=function(){this._rotationDisabled=!1};function to(he){return he*(2-he)}var ro=4.000244140625,so=1/100,wi=1/450,bo=2,sa=function(Z,de){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=so,this._wheelZoomRate=wi,a.bindAll(["_onTimeout"],this)};sa.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},sa.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},sa.prototype.isEnabled=function(){return!!this._enabled},sa.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},sa.prototype.isZooming=function(){return!!this._zooming},sa.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},sa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sa.prototype.wheel=function(Z){if(this.isEnabled()){var de=Z.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,te=a.browser.now(),ge=te-(this._lastWheelEventTime||0);this._lastWheelEventTime=te,de!==0&&de%ro===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":ge>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(ge*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),Z.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=Z,this._delta-=de,this._active||this._start(Z)),Z.preventDefault()}},sa.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},sa.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=M.mousePos(this._el,Z);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sa.prototype.renderFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var te=this._type==="wheel"&&Math.abs(this._delta)>ro?this._wheelZoomRate:this._defaultZoomRate,ge=bo/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&ge!==0&&(ge=1/ge);var Fe=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(Fe*ge))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Je=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,ft=this._startZoom,Lt=this._easing,Ht=!1,qt;if(this._type==="wheel"&&ft&&Lt){var lr=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),or=Lt(lr);qt=a.number(ft,Je,or),lr<1?this._frameId||(this._frameId=!0):Ht=!0}else qt=Je,Ht=!0;return this._active=!0,Ht&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ht,zoomDelta:qt-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sa.prototype._smoothOutEasing=function(Z){var de=a.ease;if(this._prevEase){var te=this._prevEase,ge=(a.browser.now()-te.start)/te.duration,Fe=te.easing(ge+.01)-te.easing(ge),Je=.27/Math.sqrt(Fe*Fe+1e-4)*.01,ft=Math.sqrt(.27*.27-Je*Je);de=a.bezier(Je,ft,.25,1)}return this._prevEase={start:a.browser.now(),duration:Z,easing:de},de},sa.prototype.reset=function(){this._active=!1};var La=function(Z,de){this._clickZoom=Z,this._tapZoom=de};La.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},La.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},La.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},La.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var No=function(){this.reset()};No.prototype.reset=function(){this._active=!1},No.prototype.dblclick=function(Z,de){return Z.preventDefault(),{cameraAnimation:function(te){te.easeTo({duration:300,zoom:te.getZoom()+(Z.shiftKey?-1:1),around:te.unproject(de)},{originalEvent:Z})}}},No.prototype.enable=function(){this._enabled=!0},No.prototype.disable=function(){this._enabled=!1,this.reset()},No.prototype.isEnabled=function(){return this._enabled},No.prototype.isActive=function(){return this._active};var Go=function(){this._tap=new Ir({numTouches:1,numTaps:1}),this.reset()};Go.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Go.prototype.touchstart=function(Z,de,te){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>Lr&&this.reset(),this._tapTime?te.length>0&&(this._swipePoint=de[0],this._swipeTouch=te[0].identifier):this._tap.touchstart(Z,de,te))},Go.prototype.touchmove=function(Z,de,te){if(!this._tapTime)this._tap.touchmove(Z,de,te);else if(this._swipePoint){if(te[0].identifier!==this._swipeTouch)return;var ge=de[0],Fe=ge.y-this._swipePoint.y;return this._swipePoint=ge,Z.preventDefault(),this._active=!0,{zoomDelta:Fe/128}}},Go.prototype.touchend=function(Z,de,te){if(this._tapTime)this._swipePoint&&te.length===0&&this.reset();else{var ge=this._tap.touchend(Z,de,te);ge&&(this._tapTime=Z.timeStamp)}},Go.prototype.touchcancel=function(){this.reset()},Go.prototype.enable=function(){this._enabled=!0},Go.prototype.disable=function(){this._enabled=!1,this.reset()},Go.prototype.isEnabled=function(){return this._enabled},Go.prototype.isActive=function(){return this._active};var lo=function(Z,de,te){this._el=Z,this._mousePan=de,this._touchPan=te};lo.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},lo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},lo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},lo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ci=function(Z,de,te){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=de,this._mousePitch=te};ci.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ci.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ci.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ci.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Yi=function(Z,de,te,ge){this._el=Z,this._touchZoom=de,this._touchRotate=te,this._tapDragZoom=ge,this._rotationDisabled=!1,this._enabled=!0};Yi.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Yi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Yi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Yi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Yi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Yi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Bi=function(he){return he.zoom||he.drag||he.pitch||he.rotate},Ts=function(he){function Z(){he.apply(this,arguments)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z}(a.Event);function Vs(he){return he.panDelta&&he.panDelta.mag()||he.zoomDelta||he.bearingDelta||he.pitchDelta}var Ci=function(Z,de){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fe(Z),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),a.bindAll(["handleEvent","handleWindowEvent"],this);var te=this._el;this._listeners=[[te,"touchstart",{passive:!0}],[te,"touchmove",{passive:!1}],[te,"touchend",void 0],[te,"touchcancel",void 0],[te,"mousedown",void 0],[te,"mousemove",void 0],[te,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[te,"mouseover",void 0],[te,"mouseout",void 0],[te,"dblclick",void 0],[te,"click",void 0],[te,"keydown",{capture:!1}],[te,"keyup",void 0],[te,"wheel",{passive:!1}],[te,"contextmenu",void 0],[a.window,"blur",void 0]];for(var ge=0,Fe=this._listeners;ge<Fe.length;ge+=1){var Je=Fe[ge],ft=Je[0],Lt=Je[1],Ht=Je[2];M.addEventListener(ft,Lt,ft===a.window.document?this.handleWindowEvent:this.handleEvent,Ht)}};Ci.prototype.destroy=function(){for(var Z=0,de=this._listeners;Z<de.length;Z+=1){var te=de[Z],ge=te[0],Fe=te[1],Je=te[2];M.removeEventListener(ge,Fe,ge===a.window.document?this.handleWindowEvent:this.handleEvent,Je)}},Ci.prototype._addDefaultHandlers=function(Z){var de=this._map,te=de.getCanvasContainer();this._add("mapEvent",new Pt(de,Z));var ge=de.boxZoom=new jt(de,Z);this._add("boxZoom",ge);var Fe=new Ur,Je=new No;de.doubleClickZoom=new La(Je,Fe),this._add("tapZoom",Fe),this._add("clickZoom",Je);var ft=new Go;this._add("tapDragZoom",ft);var Lt=de.touchPitch=new Za;this._add("touchPitch",Lt);var Ht=new fa(Z),qt=new Qn(Z);de.dragRotate=new ci(Z,Ht,qt),this._add("mouseRotate",Ht,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var lr=new ea(Z),or=new ia(Z);de.dragPan=new lo(te,lr,or),this._add("mousePan",lr),this._add("touchPan",or,["touchZoom","touchRotate"]);var Fr=new Jn,Xr=new ni;de.touchZoomRotate=new Yi(te,Xr,Fr,ft),this._add("touchRotate",Fr,["touchPan","touchZoom"]),this._add("touchZoom",Xr,["touchPan","touchRotate"]);var Yr=de.scrollZoom=new sa(de,this);this._add("scrollZoom",Yr,["mousePan"]);var jr=de.keyboard=new ai;this._add("keyboard",jr),this._add("blockableMapEvent",new Mt(de));for(var Jr=0,cn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Jr<cn.length;Jr+=1){var Fn=cn[Jr];Z.interactive&&Z[Fn]&&de[Fn].enable(Z[Fn])}},Ci.prototype._add=function(Z,de,te){this._handlers.push({handlerName:Z,handler:de,allowed:te}),this._handlersById[Z]=de},Ci.prototype.stop=function(Z){if(!this._updatingCamera){for(var de=0,te=this._handlers;de<te.length;de+=1){var ge=te[de],Fe=ge.handler;Fe.reset()}this._inertia.clear(),this._fireEvents({},{},Z),this._changes=[]}},Ci.prototype.isActive=function(){for(var Z=0,de=this._handlers;Z<de.length;Z+=1){var te=de[Z],ge=te.handler;if(ge.isActive())return!0}return!1},Ci.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ci.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ci.prototype.isMoving=function(){return!!Bi(this._eventsInProgress)||this.isZooming()},Ci.prototype._blockedByActive=function(Z,de,te){for(var ge in Z)if(ge!==te&&(!de||de.indexOf(ge)<0))return!0;return!1},Ci.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},Ci.prototype._getMapTouches=function(Z){for(var de=[],te=0,ge=Z;te<ge.length;te+=1){var Fe=ge[te],Je=Fe.target;this._el.contains(Je)&&de.push(Fe)}return de},Ci.prototype.handleEvent=function(Z,de){if(Z.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var te=Z.type==="renderFrame"?void 0:Z,ge={needsRenderFrame:!1},Fe={},Je={},ft=Z.touches?this._getMapTouches(Z.touches):void 0,Lt=ft?M.touchPos(this._el,ft):M.mousePos(this._el,Z),Ht=0,qt=this._handlers;Ht<qt.length;Ht+=1){var lr=qt[Ht],or=lr.handlerName,Fr=lr.handler,Xr=lr.allowed;if(Fr.isEnabled()){var Yr=void 0;this._blockedByActive(Je,Xr,or)?Fr.reset():Fr[de||Z.type]&&(Yr=Fr[de||Z.type](Z,Lt,ft),this.mergeHandlerResult(ge,Fe,Yr,or,te),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||Fr.isActive())&&(Je[or]=Fr)}}var jr={};for(var Jr in this._previousActiveHandlers)Je[Jr]||(jr[Jr]=te);this._previousActiveHandlers=Je,(Object.keys(jr).length||Vs(ge))&&(this._changes.push([ge,Fe,jr]),this._triggerRenderFrame()),(Object.keys(Je).length||Vs(ge))&&this._map._stop(!0),this._updatingCamera=!1;var cn=ge.cameraAnimation;cn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],cn(this._map))},Ci.prototype.mergeHandlerResult=function(Z,de,te,ge,Fe){if(te){a.extend(Z,te);var Je={handlerName:ge,originalEvent:te.originalEvent||Fe};te.zoomDelta!==void 0&&(de.zoom=Je),te.panDelta!==void 0&&(de.drag=Je),te.pitchDelta!==void 0&&(de.pitch=Je),te.bearingDelta!==void 0&&(de.rotate=Je)}},Ci.prototype._applyChanges=function(){for(var Z={},de={},te={},ge=0,Fe=this._changes;ge<Fe.length;ge+=1){var Je=Fe[ge],ft=Je[0],Lt=Je[1],Ht=Je[2];ft.panDelta&&(Z.panDelta=(Z.panDelta||new a.Point(0,0))._add(ft.panDelta)),ft.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+ft.zoomDelta),ft.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+ft.bearingDelta),ft.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+ft.pitchDelta),ft.around!==void 0&&(Z.around=ft.around),ft.pinchAround!==void 0&&(Z.pinchAround=ft.pinchAround),ft.noInertia&&(Z.noInertia=ft.noInertia),a.extend(de,Lt),a.extend(te,Ht)}this._updateMapTransform(Z,de,te),this._changes=[]},Ci.prototype._updateMapTransform=function(Z,de,te){var ge=this._map,Fe=ge.transform;if(!Vs(Z))return this._fireEvents(de,te,!0);var Je=Z.panDelta,ft=Z.zoomDelta,Lt=Z.bearingDelta,Ht=Z.pitchDelta,qt=Z.around,lr=Z.pinchAround;lr!==void 0&&(qt=lr),ge._stop(!0),qt=qt||ge.transform.centerPoint;var or=Fe.pointLocation(Je?qt.sub(Je):qt);Lt&&(Fe.bearing+=Lt),Ht&&(Fe.pitch+=Ht),ft&&(Fe.zoom+=ft),Fe.setLocationAtPoint(or,qt),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(de,te,!0)},Ci.prototype._fireEvents=function(Z,de,te){var ge=this,Fe=Bi(this._eventsInProgress),Je=Bi(Z),ft={};for(var Lt in Z){var Ht=Z[Lt],qt=Ht.originalEvent;this._eventsInProgress[Lt]||(ft[Lt+"start"]=qt),this._eventsInProgress[Lt]=Z[Lt]}!Fe&&Je&&this._fireEvent("movestart",Je.originalEvent);for(var lr in ft)this._fireEvent(lr,ft[lr]);Je&&this._fireEvent("move",Je.originalEvent);for(var or in Z){var Fr=Z[or],Xr=Fr.originalEvent;this._fireEvent(or,Xr)}var Yr={},jr;for(var Jr in this._eventsInProgress){var cn=this._eventsInProgress[Jr],Fn=cn.handlerName,Bn=cn.originalEvent;this._handlersById[Fn].isActive()||(delete this._eventsInProgress[Jr],jr=de[Fn]||Bn,Yr[Jr+"end"]=jr)}for(var Yn in Yr)this._fireEvent(Yn,Yr[Yn]);var Xn=Bi(this._eventsInProgress);if(te&&(Fe||Je)&&!Xn){this._updatingCamera=!0;var Gn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Kn=function(ta){return ta!==0&&-ge._bearingSnap<ta&&ta<ge._bearingSnap};Gn?(Kn(Gn.bearing||this._map.getBearing())&&(Gn.bearing=0),this._map.easeTo(Gn,{originalEvent:jr})):(this._map.fire(new a.Event("moveend",{originalEvent:jr})),Kn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Ci.prototype._fireEvent=function(Z,de){this._map.fire(new a.Event(Z,de?{originalEvent:de}:{}))},Ci.prototype._requestFrame=function(){var Z=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(de){delete Z._frameId,Z.handleEvent(new Ts("renderFrame",{timeStamp:de})),Z._applyChanges()})},Ci.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var ru=function(he){function Z(de,te){he.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=te.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(te,ge){return this.jumpTo({center:te},ge)},Z.prototype.panBy=function(te,ge,Fe){return te=a.Point.convert(te).mult(-1),this.panTo(this.transform.center,a.extend({offset:te},ge),Fe)},Z.prototype.panTo=function(te,ge,Fe){return this.easeTo(a.extend({center:te},ge),Fe)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(te,ge){return this.jumpTo({zoom:te},ge),this},Z.prototype.zoomTo=function(te,ge,Fe){return this.easeTo(a.extend({zoom:te},ge),Fe)},Z.prototype.zoomIn=function(te,ge){return this.zoomTo(this.getZoom()+1,te,ge),this},Z.prototype.zoomOut=function(te,ge){return this.zoomTo(this.getZoom()-1,te,ge),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(te,ge){return this.jumpTo({bearing:te},ge),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(te,ge){return this.jumpTo({padding:te},ge),this},Z.prototype.rotateTo=function(te,ge,Fe){return this.easeTo(a.extend({bearing:te},ge),Fe)},Z.prototype.resetNorth=function(te,ge){return this.rotateTo(0,a.extend({duration:1e3},te),ge),this},Z.prototype.resetNorthPitch=function(te,ge){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},te),ge),this},Z.prototype.snapToNorth=function(te,ge){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(te,ge):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(te,ge){return this.jumpTo({pitch:te},ge),this},Z.prototype.cameraForBounds=function(te,ge){te=a.LngLatBounds.convert(te);var Fe=ge&&ge.bearing||0;return this._cameraForBoxAndBearing(te.getNorthWest(),te.getSouthEast(),Fe,ge)},Z.prototype._cameraForBoxAndBearing=function(te,ge,Fe,Je){var ft={top:0,bottom:0,right:0,left:0};if(Je=a.extend({padding:ft,offset:[0,0],maxZoom:this.transform.maxZoom},Je),typeof Je.padding=="number"){var Lt=Je.padding;Je.padding={top:Lt,bottom:Lt,right:Lt,left:Lt}}Je.padding=a.extend(ft,Je.padding);var Ht=this.transform,qt=Ht.padding,lr=Ht.project(a.LngLat.convert(te)),or=Ht.project(a.LngLat.convert(ge)),Fr=lr.rotate(-Fe*Math.PI/180),Xr=or.rotate(-Fe*Math.PI/180),Yr=new a.Point(Math.max(Fr.x,Xr.x),Math.max(Fr.y,Xr.y)),jr=new a.Point(Math.min(Fr.x,Xr.x),Math.min(Fr.y,Xr.y)),Jr=Yr.sub(jr),cn=(Ht.width-(qt.left+qt.right+Je.padding.left+Je.padding.right))/Jr.x,Fn=(Ht.height-(qt.top+qt.bottom+Je.padding.top+Je.padding.bottom))/Jr.y;if(Fn<0||cn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Bn=Math.min(Ht.scaleZoom(Ht.scale*Math.min(cn,Fn)),Je.maxZoom),Yn=typeof Je.offset.x=="number"?new a.Point(Je.offset.x,Je.offset.y):a.Point.convert(Je.offset),Xn=(Je.padding.left-Je.padding.right)/2,Gn=(Je.padding.top-Je.padding.bottom)/2,Kn=new a.Point(Xn,Gn),ta=Kn.rotate(Fe*Math.PI/180),la=Yn.add(ta),ba=la.mult(Ht.scale/Ht.zoomScale(Bn)),va=Ht.unproject(lr.add(or).div(2).sub(ba));return{center:va,zoom:Bn,bearing:Fe}},Z.prototype.fitBounds=function(te,ge,Fe){return this._fitInternal(this.cameraForBounds(te,ge),ge,Fe)},Z.prototype.fitScreenCoordinates=function(te,ge,Fe,Je,ft){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(te)),this.transform.pointLocation(a.Point.convert(ge)),Fe,Je),Je,ft)},Z.prototype._fitInternal=function(te,ge,Fe){return te?(ge=a.extend(te,ge),delete ge.padding,ge.linear?this.easeTo(ge,Fe):this.flyTo(ge,Fe)):this},Z.prototype.jumpTo=function(te,ge){this.stop();var Fe=this.transform,Je=!1,ft=!1,Lt=!1;return"zoom"in te&&Fe.zoom!==+te.zoom&&(Je=!0,Fe.zoom=+te.zoom),te.center!==void 0&&(Fe.center=a.LngLat.convert(te.center)),"bearing"in te&&Fe.bearing!==+te.bearing&&(ft=!0,Fe.bearing=+te.bearing),"pitch"in te&&Fe.pitch!==+te.pitch&&(Lt=!0,Fe.pitch=+te.pitch),te.padding!=null&&!Fe.isPaddingEqual(te.padding)&&(Fe.padding=te.padding),this.fire(new a.Event("movestart",ge)).fire(new a.Event("move",ge)),Je&&this.fire(new a.Event("zoomstart",ge)).fire(new a.Event("zoom",ge)).fire(new a.Event("zoomend",ge)),ft&&this.fire(new a.Event("rotatestart",ge)).fire(new a.Event("rotate",ge)).fire(new a.Event("rotateend",ge)),Lt&&this.fire(new a.Event("pitchstart",ge)).fire(new a.Event("pitch",ge)).fire(new a.Event("pitchend",ge)),this.fire(new a.Event("moveend",ge))},Z.prototype.easeTo=function(te,ge){var Fe=this;this._stop(!1,te.easeId),te=a.extend({offset:[0,0],duration:500,easing:a.ease},te),(te.animate===!1||!te.essential&&a.browser.prefersReducedMotion)&&(te.duration=0);var Je=this.transform,ft=this.getZoom(),Lt=this.getBearing(),Ht=this.getPitch(),qt=this.getPadding(),lr="zoom"in te?+te.zoom:ft,or="bearing"in te?this._normalizeBearing(te.bearing,Lt):Lt,Fr="pitch"in te?+te.pitch:Ht,Xr="padding"in te?te.padding:Je.padding,Yr=a.Point.convert(te.offset),jr=Je.centerPoint.add(Yr),Jr=Je.pointLocation(jr),cn=a.LngLat.convert(te.center||Jr);this._normalizeCenter(cn);var Fn=Je.project(Jr),Bn=Je.project(cn).sub(Fn),Yn=Je.zoomScale(lr-ft),Xn,Gn;te.around&&(Xn=a.LngLat.convert(te.around),Gn=Je.locationPoint(Xn));var Kn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||lr!==ft,this._rotating=this._rotating||Lt!==or,this._pitching=this._pitching||Fr!==Ht,this._padding=!Je.isPaddingEqual(Xr),this._easeId=te.easeId,this._prepareEase(ge,te.noMoveStart,Kn),this._ease(function(ta){if(Fe._zooming&&(Je.zoom=a.number(ft,lr,ta)),Fe._rotating&&(Je.bearing=a.number(Lt,or,ta)),Fe._pitching&&(Je.pitch=a.number(Ht,Fr,ta)),Fe._padding&&(Je.interpolatePadding(qt,Xr,ta),jr=Je.centerPoint.add(Yr)),Xn)Je.setLocationAtPoint(Xn,Gn);else{var la=Je.zoomScale(Je.zoom-ft),ba=lr>ft?Math.min(2,Yn):Math.max(.5,Yn),va=Math.pow(ba,1-ta),Oa=Je.unproject(Fn.add(Bn.mult(ta*va)).mult(la));Je.setLocationAtPoint(Je.renderWorldCopies?Oa.wrap():Oa,jr)}Fe._fireMoveEvents(ge)},function(ta){Fe._afterEase(ge,ta)},te),this},Z.prototype._prepareEase=function(te,ge,Fe){Fe===void 0&&(Fe={}),this._moving=!0,!ge&&!Fe.moving&&this.fire(new a.Event("movestart",te)),this._zooming&&!Fe.zooming&&this.fire(new a.Event("zoomstart",te)),this._rotating&&!Fe.rotating&&this.fire(new a.Event("rotatestart",te)),this._pitching&&!Fe.pitching&&this.fire(new a.Event("pitchstart",te))},Z.prototype._fireMoveEvents=function(te){this.fire(new a.Event("move",te)),this._zooming&&this.fire(new a.Event("zoom",te)),this._rotating&&this.fire(new a.Event("rotate",te)),this._pitching&&this.fire(new a.Event("pitch",te))},Z.prototype._afterEase=function(te,ge){if(!(this._easeId&&ge&&this._easeId===ge)){delete this._easeId;var Fe=this._zooming,Je=this._rotating,ft=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Fe&&this.fire(new a.Event("zoomend",te)),Je&&this.fire(new a.Event("rotateend",te)),ft&&this.fire(new a.Event("pitchend",te)),this.fire(new a.Event("moveend",te))}},Z.prototype.flyTo=function(te,ge){var Fe=this;if(!te.essential&&a.browser.prefersReducedMotion){var Je=a.pick(te,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Je,ge)}this.stop(),te=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},te);var ft=this.transform,Lt=this.getZoom(),Ht=this.getBearing(),qt=this.getPitch(),lr=this.getPadding(),or="zoom"in te?a.clamp(+te.zoom,ft.minZoom,ft.maxZoom):Lt,Fr="bearing"in te?this._normalizeBearing(te.bearing,Ht):Ht,Xr="pitch"in te?+te.pitch:qt,Yr="padding"in te?te.padding:ft.padding,jr=ft.zoomScale(or-Lt),Jr=a.Point.convert(te.offset),cn=ft.centerPoint.add(Jr),Fn=ft.pointLocation(cn),Bn=a.LngLat.convert(te.center||Fn);this._normalizeCenter(Bn);var Yn=ft.project(Fn),Xn=ft.project(Bn).sub(Yn),Gn=te.curve,Kn=Math.max(ft.width,ft.height),ta=Kn/jr,la=Xn.mag();if("minZoom"in te){var ba=a.clamp(Math.min(te.minZoom,Lt,or),ft.minZoom,ft.maxZoom),va=Kn/ft.zoomScale(ba-Lt);Gn=Math.sqrt(va/la*2)}var Oa=Gn*Gn;function $a(ja){var Qa=(ta*ta-Kn*Kn+(ja?-1:1)*Oa*Oa*la*la)/(2*(ja?ta:Kn)*Oa*la);return Math.log(Math.sqrt(Qa*Qa+1)-Qa)}function Wa(ja){return(Math.exp(ja)-Math.exp(-ja))/2}function Ma(ja){return(Math.exp(ja)+Math.exp(-ja))/2}function Ya(ja){return Wa(ja)/Ma(ja)}var Ha=$a(0),ii=function(ja){return Ma(Ha)/Ma(Ha+Gn*ja)},ei=function(ja){return Kn*((Ma(Ha)*Ya(Ha+Gn*ja)-Wa(Ha))/Oa)/la},Ai=($a(1)-Ha)/Gn;if(Math.abs(la)<1e-6||!isFinite(Ai)){if(Math.abs(Kn-ta)<1e-6)return this.easeTo(te,ge);var Ja=ta<Kn?-1:1;Ai=Math.abs(Math.log(ta/Kn))/Gn,ei=function(){return 0},ii=function(ja){return Math.exp(Ja*Gn*ja)}}if("duration"in te)te.duration=+te.duration;else{var yi="screenSpeed"in te?+te.screenSpeed/Gn:+te.speed;te.duration=1e3*Ai/yi}return te.maxDuration&&te.duration>te.maxDuration&&(te.duration=0),this._zooming=!0,this._rotating=Ht!==Fr,this._pitching=Xr!==qt,this._padding=!ft.isPaddingEqual(Yr),this._prepareEase(ge,!1),this._ease(function(ja){var Qa=ja*Ai,Ui=1/ii(Qa);ft.zoom=ja===1?or:Lt+ft.scaleZoom(Ui),Fe._rotating&&(ft.bearing=a.number(Ht,Fr,ja)),Fe._pitching&&(ft.pitch=a.number(qt,Xr,ja)),Fe._padding&&(ft.interpolatePadding(lr,Yr,ja),cn=ft.centerPoint.add(Jr));var wo=ja===1?Bn:ft.unproject(Yn.add(Xn.mult(ei(Qa))).mult(Ui));ft.setLocationAtPoint(ft.renderWorldCopies?wo.wrap():wo,cn),Fe._fireMoveEvents(ge)},function(){return Fe._afterEase(ge)},te),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(te,ge){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Fe=this._onEaseEnd;delete this._onEaseEnd,Fe.call(this,ge)}if(!te){var Je=this.handlers;Je&&Je.stop(!1)}return this},Z.prototype._ease=function(te,ge,Fe){Fe.animate===!1||Fe.duration===0?(te(1),ge()):(this._easeStart=a.browser.now(),this._easeOptions=Fe,this._onEaseFrame=te,this._onEaseEnd=ge,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var te=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(te)),te<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(te,ge){te=a.wrap(te,-180,180);var Fe=Math.abs(te-ge);return Math.abs(te-360-ge)<Fe&&(te-=360),Math.abs(te+360-ge)<Fe&&(te+=360),te},Z.prototype._normalizeCenter=function(te){var ge=this.transform;if(!(!ge.renderWorldCopies||ge.lngRange)){var Fe=te.lng-ge.center.lng;te.lng+=Fe>180?-360:Fe<-180?360:0}},Z}(a.Evented),Ka=function(Z){Z===void 0&&(Z={}),this.options=Z,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ka.prototype.getDefaultPosition=function(){return"bottom-right"},Ka.prototype.onAdd=function(Z){var de=this.options&&this.options.compact;return this._map=Z,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=M.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ka.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ka.prototype._setElementTitle=function(Z,de){var te=this._map._getUIString("AttributionControl."+de);Z.title=te,Z.setAttribute("aria-label",te)},Ka.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ka.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(Z){var te=de.reduce(function(ge,Fe,Je){return Fe.value&&(ge+=Fe.key+"="+Fe.value+(Je<de.length-1?"&":"")),ge},"?");Z.href=a.config.FEEDBACK_URL+"/"+te+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow",this._setElementTitle(Z,"MapFeedback")}},Ka.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.sourceDataType==="visibility"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ka.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(Lt){return typeof Lt!="string"?"":Lt})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var te=this._map.style.sourceCaches;for(var ge in te){var Fe=te[ge];if(Fe.used){var Je=Fe.getSource();Je.attribution&&Z.indexOf(Je.attribution)<0&&Z.push(Je.attribution)}}Z.sort(function(Lt,Ht){return Lt.length-Ht.length}),Z=Z.filter(function(Lt,Ht){for(var qt=Ht+1;qt<Z.length;qt++)if(Z[qt].indexOf(Lt)>=0)return!1;return!0});var ft=Z.join(" | ");ft!==this._attribHTML&&(this._attribHTML=ft,Z.length?(this._innerContainer.innerHTML=ft,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ka.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Li=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Li.prototype.onAdd=function(Z){this._map=Z,this._container=M.create("div","mapboxgl-ctrl");var de=M.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Li.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Li.prototype.getDefaultPosition=function(){return"bottom-left"},Li.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Li.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var de in Z){var te=Z[de].getSource();if(te.mapbox_logo)return!0}return!1}},Li.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var de=Z[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var Gh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Gh.prototype.add=function(Z){var de=++this._id,te=this._queue;return te.push({callback:Z,id:de,cancelled:!1}),de},Gh.prototype.remove=function(Z){for(var de=this._currentlyRunning,te=de?this._queue.concat(de):this._queue,ge=0,Fe=te;ge<Fe.length;ge+=1){var Je=Fe[ge];if(Je.id===Z){Je.cancelled=!0;return}}},Gh.prototype.run=function(Z){Z===void 0&&(Z=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var te=0,ge=de;te<ge.length;te+=1){var Fe=ge[te];if(!Fe.cancelled&&(Fe.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Gh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var np={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Yf=a.window.HTMLImageElement,Ld=a.window.HTMLElement,yf=a.window.ImageBitmap,zc=-2,Nc=22,ls=0,mf=60,Pd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:zc,maxZoom:Nc,minPitch:ls,maxPitch:mf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Rd=function(he){function Z(te){var ge=this;if(te=a.extend({},Pd,te),te.minZoom!=null&&te.maxZoom!=null&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(te.minPitch!=null&&te.maxPitch!=null&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(te.minPitch!=null&&te.minPitch<ls)throw new Error("minPitch must be greater than or equal to "+ls);if(te.maxPitch!=null&&te.maxPitch>mf)throw new Error("maxPitch must be less than or equal to "+mf);var Fe=new _n(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(he.call(this,Fe,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new Gh,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},np,te.locale),this._clickTolerance=te.clickTolerance,this._requestManager=new a.RequestManager(te.transformRequest,te.accessToken),typeof te.container=="string"){if(this._container=a.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else if(te.container instanceof Ld)this._container=te.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(te.maxBounds&&this.setMaxBounds(te.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ge._update(!1)}),this.on("moveend",function(){return ge._update(!1)}),this.on("zoom",function(){return ge._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Ci(this,te);var Je=typeof te.hash=="string"&&te.hash||void 0;this._hash=te.hash&&new Da(Je).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,a.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new Ka({customAttribution:te.customAttribution})),this.addControl(new Li,te.logoPosition),this.on("style.load",function(){ge.transform.unmodified&&ge.jumpTo(ge.style.stylesheet)}),this.on("data",function(ft){ge._update(ft.dataType==="style"),ge.fire(new a.Event(ft.dataType+"data",ft))}),this.on("dataloading",function(ft){ge.fire(new a.Event(ft.dataType+"dataloading",ft))})}he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(ge,Fe){if(Fe===void 0&&(ge.getDefaultPosition?Fe=ge.getDefaultPosition():Fe="top-right"),!ge||!ge.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Je=ge.onAdd(this);this._controls.push(ge);var ft=this._controlPositions[Fe];return Fe.indexOf("bottom")!==-1?ft.insertBefore(Je,ft.firstChild):ft.appendChild(Je),this},Z.prototype.removeControl=function(ge){if(!ge||!ge.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Fe=this._controls.indexOf(ge);return Fe>-1&&this._controls.splice(Fe,1),ge.onRemove(this),this},Z.prototype.hasControl=function(ge){return this._controls.indexOf(ge)>-1},Z.prototype.resize=function(ge){var Fe=this._containerDimensions(),Je=Fe[0],ft=Fe[1];this._resizeCanvas(Je,ft),this.transform.resize(Je,ft),this.painter.resize(Je,ft);var Lt=!this._moving;return Lt&&(this.stop(),this.fire(new a.Event("movestart",ge)).fire(new a.Event("move",ge))),this.fire(new a.Event("resize",ge)),Lt&&this.fire(new a.Event("moveend",ge)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(ge){return this.transform.setMaxBounds(a.LngLatBounds.convert(ge)),this._update()},Z.prototype.setMinZoom=function(ge){if(ge=ge??zc,ge>=zc&&ge<=this.transform.maxZoom)return this.transform.minZoom=ge,this._update(),this.getZoom()<ge&&this.setZoom(ge),this;throw new Error("minZoom must be between "+zc+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(ge){if(ge=ge??Nc,ge>=this.transform.minZoom)return this.transform.maxZoom=ge,this._update(),this.getZoom()>ge&&this.setZoom(ge),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(ge){if(ge=ge??ls,ge<ls)throw new Error("minPitch must be greater than or equal to "+ls);if(ge>=ls&&ge<=this.transform.maxPitch)return this.transform.minPitch=ge,this._update(),this.getPitch()<ge&&this.setPitch(ge),this;throw new Error("minPitch must be between "+ls+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(ge){if(ge=ge??mf,ge>mf)throw new Error("maxPitch must be less than or equal to "+mf);if(ge>=this.transform.minPitch)return this.transform.maxPitch=ge,this._update(),this.getPitch()>ge&&this.setPitch(ge),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(ge){return this.transform.renderWorldCopies=ge,this._update()},Z.prototype.project=function(ge){return this.transform.locationPoint(a.LngLat.convert(ge))},Z.prototype.unproject=function(ge){return this.transform.pointLocation(a.Point.convert(ge))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(ge,Fe,Je){var ft=this,Lt;if(ge==="mouseenter"||ge==="mouseover"){var Ht=!1,qt=function(jr){var Jr=ft.getLayer(Fe)?ft.queryRenderedFeatures(jr.point,{layers:[Fe]}):[];Jr.length?Ht||(Ht=!0,Je.call(ft,new qe(ge,ft,jr.originalEvent,{features:Jr}))):Ht=!1},lr=function(){Ht=!1};return{layer:Fe,listener:Je,delegates:{mousemove:qt,mouseout:lr}}}else if(ge==="mouseleave"||ge==="mouseout"){var or=!1,Fr=function(jr){var Jr=ft.getLayer(Fe)?ft.queryRenderedFeatures(jr.point,{layers:[Fe]}):[];Jr.length?or=!0:or&&(or=!1,Je.call(ft,new qe(ge,ft,jr.originalEvent)))},Xr=function(jr){or&&(or=!1,Je.call(ft,new qe(ge,ft,jr.originalEvent)))};return{layer:Fe,listener:Je,delegates:{mousemove:Fr,mouseout:Xr}}}else{var Yr=function(jr){var Jr=ft.getLayer(Fe)?ft.queryRenderedFeatures(jr.point,{layers:[Fe]}):[];Jr.length&&(jr.features=Jr,Je.call(ft,jr),delete jr.features)};return{layer:Fe,listener:Je,delegates:(Lt={},Lt[ge]=Yr,Lt)}}},Z.prototype.on=function(ge,Fe,Je){if(Je===void 0)return he.prototype.on.call(this,ge,Fe);var ft=this._createDelegatedListener(ge,Fe,Je);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ge]=this._delegatedListeners[ge]||[],this._delegatedListeners[ge].push(ft);for(var Lt in ft.delegates)this.on(Lt,ft.delegates[Lt]);return this},Z.prototype.once=function(ge,Fe,Je){if(Je===void 0)return he.prototype.once.call(this,ge,Fe);var ft=this._createDelegatedListener(ge,Fe,Je);for(var Lt in ft.delegates)this.once(Lt,ft.delegates[Lt]);return this},Z.prototype.off=function(ge,Fe,Je){var ft=this;if(Je===void 0)return he.prototype.off.call(this,ge,Fe);var Lt=function(Ht){for(var qt=Ht[ge],lr=0;lr<qt.length;lr++){var or=qt[lr];if(or.layer===Fe&&or.listener===Je){for(var Fr in or.delegates)ft.off(Fr,or.delegates[Fr]);return qt.splice(lr,1),ft}}};return this._delegatedListeners&&this._delegatedListeners[ge]&&Lt(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(ge,Fe){if(!this.style)return[];Fe===void 0&&ge!==void 0&&!(ge instanceof a.Point)&&!Array.isArray(ge)&&(Fe=ge,ge=void 0),Fe=Fe||{},ge=ge||[[0,0],[this.transform.width,this.transform.height]];var Je;if(ge instanceof a.Point||typeof ge[0]=="number")Je=[a.Point.convert(ge)];else{var ft=a.Point.convert(ge[0]),Lt=a.Point.convert(ge[1]);Je=[ft,new a.Point(Lt.x,ft.y),Lt,new a.Point(ft.x,Lt.y),ft]}return this.style.queryRenderedFeatures(Je,Fe,this.transform)},Z.prototype.querySourceFeatures=function(ge,Fe){return this.style.querySourceFeatures(ge,Fe)},Z.prototype.setStyle=function(ge,Fe){return Fe=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Fe),Fe.diff!==!1&&Fe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ge?(this._diffStyle(ge,Fe),this):(this._localIdeographFontFamily=Fe.localIdeographFontFamily,this._updateStyle(ge,Fe))},Z.prototype._getUIString=function(ge){var Fe=this._locale[ge];if(Fe==null)throw new Error("Missing UI string '"+ge+"'");return Fe},Z.prototype._updateStyle=function(ge,Fe){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ge)this.style=new Vo(this,Fe||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ge=="string"?this.style.loadURL(ge):this.style.loadJSON(ge),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Vo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(ge,Fe){var Je=this;if(typeof ge=="string"){var ft=this._requestManager.normalizeStyleURL(ge),Lt=this._requestManager.transformRequest(ft,a.ResourceType.Style);a.getJSON(Lt,function(Ht,qt){Ht?Je.fire(new a.ErrorEvent(Ht)):qt&&Je._updateDiff(qt,Fe)})}else typeof ge=="object"&&this._updateDiff(ge,Fe)},Z.prototype._updateDiff=function(ge,Fe){try{this.style.setState(ge)&&this._update(!0)}catch(Je){a.warnOnce("Unable to perform style diff: "+(Je.message||Je.error||Je)+".  Rebuilding the style from scratch."),this._updateStyle(ge,Fe)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(ge,Fe){return this._lazyInitEmptyStyle(),this.style.addSource(ge,Fe),this._update(!0)},Z.prototype.isSourceLoaded=function(ge){var Fe=this.style&&this.style.sourceCaches[ge];if(Fe===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+ge+"'")));return}return Fe.loaded()},Z.prototype.areTilesLoaded=function(){var ge=this.style&&this.style.sourceCaches;for(var Fe in ge){var Je=ge[Fe],ft=Je._tiles;for(var Lt in ft){var Ht=ft[Lt];if(!(Ht.state==="loaded"||Ht.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(ge,Fe,Je){return this._lazyInitEmptyStyle(),this.style.addSourceType(ge,Fe,Je)},Z.prototype.removeSource=function(ge){return this.style.removeSource(ge),this._update(!0)},Z.prototype.getSource=function(ge){return this.style.getSource(ge)},Z.prototype.addImage=function(ge,Fe,Je){Je===void 0&&(Je={});var ft=Je.pixelRatio;ft===void 0&&(ft=1);var Lt=Je.sdf;Lt===void 0&&(Lt=!1);var Ht=Je.stretchX,qt=Je.stretchY,lr=Je.content;this._lazyInitEmptyStyle();var or=0;if(Fe instanceof Yf||yf&&Fe instanceof yf){var Fr=a.browser.getImageData(Fe),Xr=Fr.width,Yr=Fr.height,jr=Fr.data;this.style.addImage(ge,{data:new a.RGBAImage({width:Xr,height:Yr},jr),pixelRatio:ft,stretchX:Ht,stretchY:qt,content:lr,sdf:Lt,version:or})}else{if(Fe.width===void 0||Fe.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Jr=Fe.width,cn=Fe.height,Fn=Fe.data,Bn=Fe;this.style.addImage(ge,{data:new a.RGBAImage({width:Jr,height:cn},new Uint8Array(Fn)),pixelRatio:ft,stretchX:Ht,stretchY:qt,content:lr,sdf:Lt,version:or,userImage:Bn}),Bn.onAdd&&Bn.onAdd(this,ge)}},Z.prototype.updateImage=function(ge,Fe){var Je=this.style.getImage(ge);if(!Je)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ft=Fe instanceof Yf||yf&&Fe instanceof yf?a.browser.getImageData(Fe):Fe,Lt=ft.width,Ht=ft.height,qt=ft.data;if(Lt===void 0||Ht===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Lt!==Je.data.width||Ht!==Je.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var lr=!(Fe instanceof Yf||yf&&Fe instanceof yf);Je.data.replace(qt,lr),this.style.updateImage(ge,Je)},Z.prototype.hasImage=function(ge){return ge?!!this.style.getImage(ge):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(ge){this.style.removeImage(ge)},Z.prototype.loadImage=function(ge,Fe){a.getImage(this._requestManager.transformRequest(ge,a.ResourceType.Image),Fe)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(ge,Fe){return this._lazyInitEmptyStyle(),this.style.addLayer(ge,Fe),this._update(!0)},Z.prototype.moveLayer=function(ge,Fe){return this.style.moveLayer(ge,Fe),this._update(!0)},Z.prototype.removeLayer=function(ge){return this.style.removeLayer(ge),this._update(!0)},Z.prototype.getLayer=function(ge){return this.style.getLayer(ge)},Z.prototype.setLayerZoomRange=function(ge,Fe,Je){return this.style.setLayerZoomRange(ge,Fe,Je),this._update(!0)},Z.prototype.setFilter=function(ge,Fe,Je){return Je===void 0&&(Je={}),this.style.setFilter(ge,Fe,Je),this._update(!0)},Z.prototype.getFilter=function(ge){return this.style.getFilter(ge)},Z.prototype.setPaintProperty=function(ge,Fe,Je,ft){return ft===void 0&&(ft={}),this.style.setPaintProperty(ge,Fe,Je,ft),this._update(!0)},Z.prototype.getPaintProperty=function(ge,Fe){return this.style.getPaintProperty(ge,Fe)},Z.prototype.setLayoutProperty=function(ge,Fe,Je,ft){return ft===void 0&&(ft={}),this.style.setLayoutProperty(ge,Fe,Je,ft),this._update(!0)},Z.prototype.getLayoutProperty=function(ge,Fe){return this.style.getLayoutProperty(ge,Fe)},Z.prototype.setLight=function(ge,Fe){return Fe===void 0&&(Fe={}),this._lazyInitEmptyStyle(),this.style.setLight(ge,Fe),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(ge,Fe){return this.style.setFeatureState(ge,Fe),this._update()},Z.prototype.removeFeatureState=function(ge,Fe){return this.style.removeFeatureState(ge,Fe),this._update()},Z.prototype.getFeatureState=function(ge){return this.style.getFeatureState(ge)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var ge=0,Fe=0;return this._container&&(ge=this._container.clientWidth||400,Fe=this._container.clientHeight||300),[ge,Fe]},Z.prototype._detectMissingCSS=function(){var ge=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ge!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var ge=this._container;ge.classList.add("mapboxgl-map");var Fe=this._missingCSSCanary=M.create("div","mapboxgl-canary",ge);Fe.style.visibility="hidden",this._detectMissingCSS();var Je=this._canvasContainer=M.create("div","mapboxgl-canvas-container",ge);this._interactive&&Je.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",Je),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ft=this._containerDimensions();this._resizeCanvas(ft[0],ft[1]);var Lt=this._controlContainer=M.create("div","mapboxgl-control-container",ge),Ht=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Ht[qt]=M.create("div","mapboxgl-ctrl-"+qt,Lt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Z.prototype._resizeCanvas=function(ge,Fe){var Je=a.browser.devicePixelRatio||1;this._canvas.width=Je*ge,this._canvas.height=Je*Fe,this._canvas.style.width=ge+"px",this._canvas.style.height=Fe+"px"},Z.prototype._setupPainter=function(){var ge=a.extend({},x.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Fe=this._canvas.getContext("webgl",ge)||this._canvas.getContext("experimental-webgl",ge);if(!Fe){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Br(Fe,this.transform),a.webpSupported.testSupport(Fe)},Z.prototype._contextLost=function(ge){ge.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:ge}))},Z.prototype._contextRestored=function(ge){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:ge}))},Z.prototype._onMapScroll=function(ge){if(ge.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(ge){return this.style?(this._styleDirty=this._styleDirty||ge,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(ge){return this._update(),this._renderTaskQueue.add(ge)},Z.prototype._cancelRenderFrame=function(ge){this._renderTaskQueue.remove(ge)},Z.prototype._render=function(ge){var Fe=this,Je,ft=0,Lt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Je=Lt.createQueryEXT(),Lt.beginQueryEXT(Lt.TIME_ELAPSED_EXT,Je),ft=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ge),!this._removed){var Ht=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,lr=a.browser.now();this.style.zoomHistory.update(qt,lr);var or=new a.EvaluationParameters(qt,{now:lr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Fr=or.crossFadingFactor();(Fr!==1||Fr!==this._crossFadingFactor)&&(Ht=!0,this._crossFadingFactor=Fr),this.style.update(or)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Ht)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xr=a.browser.now()-ft;Lt.endQueryEXT(Lt.TIME_ELAPSED_EXT,Je),setTimeout(function(){var Jr=Lt.getQueryObjectEXT(Je,Lt.QUERY_RESULT_EXT)/1e6;Lt.deleteQueryEXT(Je),Fe.fire(new a.Event("gpu-timing-frame",{cpuTime:Xr,gpuTime:Jr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var Jr=Fe.painter.queryGpuTimers(Yr);Fe.fire(new a.Event("gpu-timing-layer",{layerTimes:Jr}))},50)}var jr=this._sourcesDirty||this._styleDirty||this._placementDirty;return jr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),this._loaded&&!this._fullyLoaded&&!jr&&(this._fullyLoaded=!0),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var ge=0,Fe=this._controls;ge<Fe.length;ge+=1){var Je=Fe[ge];Je.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ft=this.painter.context.gl.getExtension("WEBGL_lose_context");ft&&ft.loseContext&&ft.loseContext(),Wh(this._canvasContainer),Wh(this._controlContainer),Wh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},Z.prototype.triggerRepaint=function(){var ge=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(Fe){ge._frame=null,ge._render(Fe)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(ge){this._trackResize&&this.resize({originalEvent:ge})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(te){this._vertices=te,this._update()},Z.prototype._setCacheLimits=function(ge,Fe){a.setCacheLimits(ge,Fe)},de.version.get=function(){return a.version},Object.defineProperties(Z.prototype,de),Z}(ru);function Wh(he){he.parentNode&&he.parentNode.removeChild(he)}var bv={showCompass:!0,showZoom:!0,visualizePitch:!1},Nu=function(Z){var de=this;this.options=a.extend({},bv,Z),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(te){return te.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(te){return de._map.zoomIn({},{originalEvent:te})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(te){return de._map.zoomOut({},{originalEvent:te})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(te){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:te}):de._map.resetNorth({},{originalEvent:te})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Nu.prototype._updateZoomButtons=function(){var Z=this._map.getZoom(),de=Z===this._map.getMaxZoom(),te=Z===this._map.getMinZoom();this._zoomInButton.disabled=de,this._zoomOutButton.disabled=te,this._zoomInButton.setAttribute("aria-disabled",de.toString()),this._zoomOutButton.setAttribute("aria-disabled",te.toString())},Nu.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},Nu.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new As(this._map,this._compass,this.options.visualizePitch)),this._container},Nu.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Nu.prototype._createButton=function(Z,de){var te=M.create("button",Z,this._container);return te.type="button",te.addEventListener("click",de),te},Nu.prototype._setButtonTitle=function(Z,de){var te=this._map._getUIString("NavigationControl."+de);Z.title=te,Z.setAttribute("aria-label",te)};var As=function(Z,de,te){te===void 0&&(te=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new fa({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,te&&(this.mousePitch=new Qn({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener(de,"mousedown",this.mousedown),M.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(de,"touchmove",this.touchmove),M.addEventListener(de,"touchend",this.touchend),M.addEventListener(de,"touchcancel",this.reset)};As.prototype.down=function(Z,de){this.mouseRotate.mousedown(Z,de),this.mousePitch&&this.mousePitch.mousedown(Z,de),M.disableDrag()},As.prototype.move=function(Z,de){var te=this.map,ge=this.mouseRotate.mousemoveWindow(Z,de);if(ge&&ge.bearingDelta&&te.setBearing(te.getBearing()+ge.bearingDelta),this.mousePitch){var Fe=this.mousePitch.mousemoveWindow(Z,de);Fe&&Fe.pitchDelta&&te.setPitch(te.getPitch()+Fe.pitchDelta)}},As.prototype.off=function(){var Z=this.element;M.removeEventListener(Z,"mousedown",this.mousedown),M.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(Z,"touchmove",this.touchmove),M.removeEventListener(Z,"touchend",this.touchend),M.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},As.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(a.window,"mousemove",this.mousemove),M.removeEventListener(a.window,"mouseup",this.mouseup)},As.prototype.mousedown=function(Z){this.down(a.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),M.mousePos(this.element,Z)),M.addEventListener(a.window,"mousemove",this.mousemove),M.addEventListener(a.window,"mouseup",this.mouseup)},As.prototype.mousemove=function(Z){this.move(Z,M.mousePos(this.element,Z))},As.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},As.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},As.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=M.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},As.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},As.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Bu(he,Z,de){if(he=new a.LngLat(he.lng,he.lat),Z){var te=new a.LngLat(he.lng-360,he.lat),ge=new a.LngLat(he.lng+360,he.lat),Fe=de.locationPoint(he).distSqr(Z);de.locationPoint(te).distSqr(Z)<Fe?he=te:de.locationPoint(ge).distSqr(Z)<Fe&&(he=ge)}for(;Math.abs(he.lng-de.center.lng)>180;){var Je=de.locationPoint(he);if(Je.x>=0&&Je.y>=0&&Je.x<=de.width&&Je.y<=de.height)break;he.lng>de.center.lng?he.lng-=360:he.lng+=360}return he}var Yh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function wv(he,Z,de){var te=he.classList;for(var ge in Yh)te.remove("mapboxgl-"+de+"-anchor-"+ge);te.add("mapboxgl-"+de+"-anchor-"+Z)}var Bc=function(he){function Z(de,te){if(he.call(this),(de instanceof a.window.HTMLElement||te)&&(de=a.extend({element:de},te)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._scale=de&&de.scale||1,this._draggable=de&&de.draggable||!1,this._clickTolerance=de&&de.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var ge=M.createNS("http://www.w3.org/2000/svg","svg"),Fe=41,Je=27;ge.setAttributeNS(null,"display","block"),ge.setAttributeNS(null,"height",Fe+"px"),ge.setAttributeNS(null,"width",Je+"px"),ge.setAttributeNS(null,"viewBox","0 0 "+Je+" "+Fe);var ft=M.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"stroke","none"),ft.setAttributeNS(null,"stroke-width","1"),ft.setAttributeNS(null,"fill","none"),ft.setAttributeNS(null,"fill-rule","evenodd");var Lt=M.createNS("http://www.w3.org/2000/svg","g");Lt.setAttributeNS(null,"fill-rule","nonzero");var Ht=M.createNS("http://www.w3.org/2000/svg","g");Ht.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ht.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],lr=0,or=qt;lr<or.length;lr+=1){var Fr=or[lr],Xr=M.createNS("http://www.w3.org/2000/svg","ellipse");Xr.setAttributeNS(null,"opacity","0.04"),Xr.setAttributeNS(null,"cx","10.5"),Xr.setAttributeNS(null,"cy","5.80029008"),Xr.setAttributeNS(null,"rx",Fr.rx),Xr.setAttributeNS(null,"ry",Fr.ry),Ht.appendChild(Xr)}var Yr=M.createNS("http://www.w3.org/2000/svg","g");Yr.setAttributeNS(null,"fill",this._color);var jr=M.createNS("http://www.w3.org/2000/svg","path");jr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Yr.appendChild(jr);var Jr=M.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var cn=M.createNS("http://www.w3.org/2000/svg","path");cn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(cn);var Fn=M.createNS("http://www.w3.org/2000/svg","g");Fn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Fn.setAttributeNS(null,"fill","#FFFFFF");var Bn=M.createNS("http://www.w3.org/2000/svg","g");Bn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Yn=M.createNS("http://www.w3.org/2000/svg","circle");Yn.setAttributeNS(null,"fill","#000000"),Yn.setAttributeNS(null,"opacity","0.25"),Yn.setAttributeNS(null,"cx","5.5"),Yn.setAttributeNS(null,"cy","5.5"),Yn.setAttributeNS(null,"r","5.4999962");var Xn=M.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#FFFFFF"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962"),Bn.appendChild(Yn),Bn.appendChild(Xn),Lt.appendChild(Ht),Lt.appendChild(Yr),Lt.appendChild(Jr),Lt.appendChild(Fn),Lt.appendChild(Bn),ge.appendChild(Lt),ge.setAttributeNS(null,"height",Fe*this._scale+"px"),ge.setAttributeNS(null,"width",Je*this._scale+"px"),this._element.appendChild(ge),this._offset=a.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=a.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Gn){Gn.preventDefault()}),this._element.addEventListener("mousedown",function(Gn){Gn.preventDefault()}),wv(this._element,this._anchor,"marker"),this._popup=null}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(te){return this.remove(),this._map=te,te.getCanvasContainer().appendChild(this._element),te.on("move",this._update),te.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(te){return this._lngLat=a.LngLat.convert(te),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(te){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),te){if(!("offset"in te.options)){var ge=38.1,Fe=13.5,Je=Math.sqrt(Math.pow(Fe,2)/2);te.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ge],"bottom-left":[Je,(ge-Fe+Je)*-1],"bottom-right":[-Je,(ge-Fe+Je)*-1],left:[Fe,(ge-Fe)*-1],right:[-Fe,(ge-Fe)*-1]}:this._offset}this._popup=te,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(te){var ge=te.code,Fe=te.charCode||te.keyCode;(ge==="Space"||ge==="Enter"||Fe===32||Fe===13)&&this.togglePopup()},Z.prototype._onMapClick=function(te){var ge=te.originalEvent.target,Fe=this._element;this._popup&&(ge===Fe||Fe.contains(ge))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var te=this._popup;if(te)te.isOpen()?te.remove():te.addTo(this._map);else return this;return this},Z.prototype._update=function(te){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Bu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ge="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ge="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ge="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Fe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Fe="rotateX(0deg)":this._pitchAlignment==="map"&&(Fe="rotateX("+this._map.getPitch()+"deg)"),(!te||te.type==="moveend")&&(this._pos=this._pos.round()),M.setTransform(this._element,Yh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Fe+" "+ge)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(te){return this._offset=a.Point.convert(te),this._update(),this},Z.prototype._onMove=function(te){if(!this._isDragging){var ge=this._clickTolerance||this._map._clickTolerance;this._isDragging=te.point.dist(this._pointerdownPos)>=ge}this._isDragging&&(this._pos=te.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(te){this._element.contains(te.originalEvent.target)&&(te.preventDefault(),this._positionDelta=te.point.sub(this._pos).add(this._offset),this._pointerdownPos=te.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(te){return this._draggable=!!te,this._map&&(te?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(te){return this._rotation=te||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(te){return this._rotationAlignment=te||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(te){return this._pitchAlignment=te&&te!=="auto"?te:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(a.Evented),Dd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},xf;function Xh(he){xf!==void 0?he(xf):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){xf=Z.state!=="denied",he(xf)}):(xf=!!a.window.navigator.geolocation,he(xf))}var Uc=0,Xf=!1,ap=function(he){function Z(de){he.call(this),this.options=a.extend({},Dd,de),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(te){return this._map=te,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Xh(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Uc=0,Xf=!1},Z.prototype._isOutOfMapMaxBounds=function(te){var ge=this._map.getMaxBounds(),Fe=te.coords;return ge&&(Fe.longitude<ge.getWest()||Fe.longitude>ge.getEast()||Fe.latitude<ge.getSouth()||Fe.latitude>ge.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(te){if(this._map){if(this._isOutOfMapMaxBounds(te)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",te)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=te,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(te),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(te),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",te)),this._finish()}},Z.prototype._updateCamera=function(te){var ge=new a.LngLat(te.coords.longitude,te.coords.latitude),Fe=te.coords.accuracy,Je=this._map.getBearing(),ft=a.extend({bearing:Je},this.options.fitBoundsOptions);this._map.fitBounds(ge.toBounds(Fe),ft,{geolocateSource:!0})},Z.prototype._updateMarker=function(te){if(te){var ge=new a.LngLat(te.coords.longitude,te.coords.latitude);this._accuracyCircleMarker.setLngLat(ge).addTo(this._map),this._userLocationDotMarker.setLngLat(ge).addTo(this._map),this._accuracy=te.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var te=this._map._container.clientHeight/2,ge=this._map.unproject([0,te]),Fe=this._map.unproject([1,te]),Je=ge.distanceTo(Fe),ft=Math.ceil(2*this._accuracy/Je);this._circleElement.style.width=ft+"px",this._circleElement.style.height=ft+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(te){if(this._map){if(this.options.trackUserLocation)if(te.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ge=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ge,this._geolocateButton.setAttribute("aria-label",ge),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(te.code===3&&Xf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",te)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(te){var ge=this;if(this._container.addEventListener("contextmenu",function(ft){return ft.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",te===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Fe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Fe,this._geolocateButton.setAttribute("aria-label",Fe)}else{var Je=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Je,this._geolocateButton.setAttribute("aria-label",Je)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Bc(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Bc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ft){var Lt=ft.originalEvent&&ft.originalEvent.type==="resize";!ft.geolocateSource&&ge._watchState==="ACTIVE_LOCK"&&!Lt&&(ge._watchState="BACKGROUND",ge._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ge._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ge.fire(new a.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Uc--,Xf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Uc++;var te;Uc>1?(te={maximumAge:6e5,timeout:0},Xf=!0):(te=this.options.positionOptions,Xf=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,te)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(a.Evented),Id={maxWidth:100,unit:"metric"},Zf=function(Z){this.options=a.extend({},Id,Z),a.bindAll(["_onMove","setUnit"],this)};Zf.prototype.getDefaultPosition=function(){return"bottom-left"},Zf.prototype._onMove=function(){_d(this._map,this._container,this.options)},Zf.prototype.onAdd=function(Z){return this._map=Z,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Zf.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Zf.prototype.setUnit=function(Z){this.options.unit=Z,_d(this._map,this._container,this.options)};function _d(he,Z,de){var te=de&&de.maxWidth||100,ge=he._container.clientHeight/2,Fe=he.unproject([0,ge]),Je=he.unproject([te,ge]),ft=Fe.distanceTo(Je);if(de&&de.unit==="imperial"){var Lt=3.2808*ft;if(Lt>5280){var Ht=Lt/5280;Vc(Z,te,Ht,he._getUIString("ScaleControl.Miles"))}else Vc(Z,te,Lt,he._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var qt=ft/1852;Vc(Z,te,qt,he._getUIString("ScaleControl.NauticalMiles"))}else ft>=1e3?Vc(Z,te,ft/1e3,he._getUIString("ScaleControl.Kilometers")):Vc(Z,te,ft,he._getUIString("ScaleControl.Meters"))}function Vc(he,Z,de,te){var ge=op(de),Fe=ge/de;he.style.width=Z*Fe+"px",he.innerHTML=ge+"&nbsp;"+te}function ip(he){var Z=Math.pow(10,Math.ceil(-Math.log(he)/Math.LN10));return Math.round(he*Z)/Z}function op(he){var Z=Math.pow(10,(""+Math.floor(he)).length-1),de=he/Z;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:ip(de),Z*de}var Sl=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof a.window.HTMLElement?this._container=Z.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Sl.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Sl.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Sl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Sl.prototype._setupUI=function(){var Z=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Sl.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},Sl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Sl.prototype._isFullscreen=function(){return this._fullscreen},Sl.prototype._changeIcon=function(){var Z=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Sl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var sp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},lp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Jy=function(he){function Z(de){he.call(this),this.options=a.extend(Object.create(sp),de),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return he&&(Z.__proto__=he),Z.prototype=Object.create(he&&he.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(te){return this._map&&this.remove(),this._map=te,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(te){return this._lngLat=a.LngLat.convert(te),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(te){return this.setDOMContent(a.window.document.createTextNode(te))},Z.prototype.setHTML=function(te){var ge=a.window.document.createDocumentFragment(),Fe=a.window.document.createElement("body"),Je;for(Fe.innerHTML=te;Je=Fe.firstChild,!!Je;)ge.appendChild(Je);return this.setDOMContent(ge)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(te){return this.options.maxWidth=te,this._update(),this},Z.prototype.setDOMContent=function(te){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=M.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(te),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Z.prototype.addClassName=function(te){this._container&&this._container.classList.add(te)},Z.prototype.removeClassName=function(te){this._container&&this._container.classList.remove(te)},Z.prototype.setOffset=function(te){return this.options.offset=te,this._update(),this},Z.prototype.toggleClassName=function(te){if(this._container)return this._container.classList.toggle(te)},Z.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(te){this._update(te.point)},Z.prototype._onMouseMove=function(te){this._update(te.point)},Z.prototype._onDrag=function(te){this._update(te.point)},Z.prototype._update=function(te){var ge=this,Fe=this._lngLat||this._trackPointer;if(!(!this._map||!Fe||!this._content)&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Fr){return ge._container.classList.add(Fr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Bu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!te))){var Je=this._pos=this._trackPointer&&te?te:this._map.project(this._lngLat),ft=this.options.anchor,Lt=up(this.options.offset);if(!ft){var Ht=this._container.offsetWidth,qt=this._container.offsetHeight,lr;Je.y+Lt.bottom.y<qt?lr=["top"]:Je.y>this._map.transform.height-qt?lr=["bottom"]:lr=[],Je.x<Ht/2?lr.push("left"):Je.x>this._map.transform.width-Ht/2&&lr.push("right"),lr.length===0?ft="bottom":ft=lr.join("-")}var or=Je.add(Lt[ft]).round();M.setTransform(this._container,Yh[ft]+" translate("+or.x+"px,"+or.y+"px)"),wv(this._container,ft,"popup")}},Z.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var te=this._container.querySelector(lp);te&&te.focus()}},Z.prototype._onClose=function(){this.remove()},Z}(a.Evented);function up(he){if(he)if(typeof he=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(he,2)));return{center:new a.Point(0,0),top:new a.Point(0,he),"top-left":new a.Point(Z,Z),"top-right":new a.Point(-Z,Z),bottom:new a.Point(0,-he),"bottom-left":new a.Point(Z,-Z),"bottom-right":new a.Point(-Z,-Z),left:new a.Point(he,0),right:new a.Point(-he,0)}}else if(he instanceof a.Point||Array.isArray(he)){var de=a.Point.convert(he);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:a.Point.convert(he.center||[0,0]),top:a.Point.convert(he.top||[0,0]),"top-left":a.Point.convert(he["top-left"]||[0,0]),"top-right":a.Point.convert(he["top-right"]||[0,0]),bottom:a.Point.convert(he.bottom||[0,0]),"bottom-left":a.Point.convert(he["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(he["bottom-right"]||[0,0]),left:a.Point.convert(he.left||[0,0]),right:a.Point.convert(he.right||[0,0])};else return up(new a.Point(0,0))}var uo={version:a.version,supported:x,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Rd,NavigationControl:Nu,GeolocateControl:ap,AttributionControl:Ka,ScaleControl:Zf,FullscreenControl:Sl,Popup:Jy,Marker:Bc,Style:Vo,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:Ft,clearPrewarmedResources:Jt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(he){a.config.ACCESS_TOKEN=he},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(he){a.config.API_URL=he},get workerCount(){return dr.workerCount},set workerCount(he){dr.workerCount=he},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(he){a.config.MAX_PARALLEL_IMAGE_REQUESTS=he},clearStorage:function(Z){a.clearTileCache(Z)},workerUrl:""};return uo}),g})},3108:function(j,H,e){j.exports=e(26099)},26099:function(j,H,e){var g=e(64928),P=e(32420),a=e(51160),x=e(76752),M=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),i=e(76244),n=1073741824;j.exports=function(l,y){y||(y={}),l=p(l,"float64"),y=M(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(y.maxDepth,255),S=v(y.bounds,x(l,2));S[0]===S[2]&&S[2]++,S[1]===S[3]&&S[3]++;var c=u(l,S),o=l.length>>>1,d;y.dtype||(y.dtype="array"),typeof y.dtype=="string"?d=new(t(y.dtype))(o):y.dtype&&(d=y.dtype,Array.isArray(d)&&(d.length=o));for(var w=0;w<o;++w)d[w]=w;var A=[],C=[],m=[],E=[];B(0,0,1,d,0,1);for(var b=0,s=0;s<A.length;s++){var L=A[s];if(d.set)d.set(L,b);else for(var T=0,k=L.length;T<k;T++)d[T+b]=L[T];var _=b+A[s].length;E[s]=[b,_],b=_}return d.range=F,d;function B(z,V,W,$,re,ne){if(!$.length)return null;var ue=A[re]||(A[re]=[]),J=m[re]||(m[re]=[]),X=C[re]||(C[re]=[]),oe=ue.length;if(re++,re>h||ne>n){for(var Y=0;Y<$.length;Y++)ue.push($[Y]),J.push(ne),X.push(null,null,null,null);return oe}if(ue.push($[0]),J.push(ne),$.length<=1)return X.push(null,null,null,null),oe;for(var q=W*.5,se=z+q,Q=V+q,K=[],le=[],ie=[],ce=[],ye=1,Ce=$.length;ye<Ce;ye++){var Ae=$[ye],ke=c[Ae*2],we=c[Ae*2+1];ke<se?we<Q?K.push(Ae):le.push(Ae):we<Q?ie.push(Ae):ce.push(Ae)}return ne<<=2,X.push(B(z,V,q,K,re,ne),B(z,Q,q,le,re,ne+1),B(se,V,q,ie,re,ne+2),B(se,Q,q,ce,re,ne+3)),oe}function F(){for(var z=[],V=arguments.length;V--;)z[V]=arguments[V];var W;if(r(z[z.length-1])){var $=z.pop();!z.length&&($.x!=null||$.l!=null||$.left!=null)&&(z=[$],W={}),W=M($,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};z.length||(z=S);var re=a.apply(void 0,z),ne=[Math.min(re.x,re.x+re.width),Math.min(re.y,re.y+re.height),Math.max(re.x,re.x+re.width),Math.max(re.y,re.y+re.height)],ue=ne[0],J=ne[1],X=ne[2],oe=ne[3],Y=u([ue,J,X,oe],S),q=Y[0],se=Y[1],Q=Y[2],K=Y[3],le=v(W.level,A.length);if(W.d!=null){var ie;typeof W.d=="number"?ie=[W.d,W.d]:W.d.length&&(ie=W.d),le=Math.min(Math.max(Math.ceil(-i(Math.abs(ie[0])/(S[2]-S[0]))),Math.ceil(-i(Math.abs(ie[1])/(S[3]-S[1])))),le)}if(le=Math.min(le,A.length),W.lod)return O(q,se,Q,K,le);var ce=[];ye(0,0,1,0,0,1);function ye(Ae,ke,we,Ee,xe,Pe){if(!(xe===null||Pe===null)){var Ue=Ae+we,Be=ke+we;if(!(q>Ue||se>Be||Q<Ae||K<ke)&&!(Ee>=le)&&xe!==Pe){var Ne=A[Ee];Pe===void 0&&(Pe=Ne.length);for(var Xe=xe;Xe<Pe;Xe++){var ut=Ne[Xe],dt=l[ut*2],at=l[ut*2+1];dt>=ue&&dt<=X&&at>=J&&at<=oe&&ce.push(ut)}var We=C[Ee],rt=We[xe*4+0],st=We[xe*4+1],ht=We[xe*4+2],vt=We[xe*4+3],At=Ce(We,xe+1),et=we*.5,_e=Ee+1;ye(Ae,ke,et,_e,rt,st||ht||vt||At),ye(Ae,ke+et,et,_e,st,ht||vt||At),ye(Ae+et,ke,et,_e,ht,vt||At),ye(Ae+et,ke+et,et,_e,vt,At)}}}function Ce(Ae,ke){for(var we=null,Ee=0;we===null;)if(we=Ae[ke*4+Ee],Ee++,Ee>Ae.length)return null;return we}return ce}function O(z,V,W,$,re){for(var ne=[],ue=0;ue<re;ue++){var J=m[ue],X=E[ue][0],oe=N(z,V,ue),Y=N(W,$,ue),q=g.ge(J,oe),se=g.gt(J,Y,q,J.length-1);ne[ue]=[q+X,se+X]}return ne}function N(z,V,W){for(var $=1,re=.5,ne=.5,ue=.5,J=0;J<W;J++)$<<=2,$+=z<re?V<ne?0:1:V<ne?2:3,ue*=.5,re+=z<re?-ue:ue,ne+=V<ne?-ue:ue;return $}};function u(f,l){for(var y=l[0],h=l[1],S=l[2],c=l[3],o=1/(S-y),d=1/(c-h),w=new Array(f.length),A=0,C=f.length/2;A<C;A++)w[2*A]=P((f[2*A]-y)*o,0,1),w[2*A+1]=P((f[2*A+1]-h)*d,0,1);return w}},40440:function(j,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(3256),P=6378137;function a(r){return g.geomReduce(r,function(t,i){return t+x(i)},0)}H.default=a;function x(r){var t=0,i;switch(r.type){case"Polygon":return M(r.coordinates);case"MultiPolygon":for(i=0;i<r.coordinates.length;i++)t+=M(r.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function M(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var i=1;i<r.length;i++)t-=Math.abs(v(r[i]))}return t}function v(r){var t,i,n,u,f,l,y,h=0,S=r.length;if(S>2){for(y=0;y<S;y++)y===S-2?(u=S-2,f=S-1,l=0):y===S-1?(u=S-1,f=0,l=1):(u=y,f=y+1,l=y+2),t=r[u],i=r[f],n=r[l],h+=(p(n[0])-p(t[0]))*Math.sin(p(i[1]));h=h*P*P/2}return h}function p(r){return r*Math.PI/180}},46284:function(j,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,s,L){L===void 0&&(L={});var T={type:"Feature"};return(L.id===0||L.id)&&(T.id=L.id),L.bbox&&(T.bbox=L.bbox),T.properties=s||{},T.geometry=b,T}H.feature=e;function g(b,s,L){switch(b){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return x(s).geometry;case"MultiPoint":return i(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(b+" is invalid")}}H.geometry=g;function P(b,s,L){if(L===void 0&&(L={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(b[0])||!A(b[1]))throw new Error("coordinates must contain numbers");var T={type:"Point",coordinates:b};return e(T,s,L)}H.point=P;function a(b,s,L){return L===void 0&&(L={}),r(b.map(function(T){return P(T,s)}),L)}H.points=a;function x(b,s,L){L===void 0&&(L={});for(var T=0,k=b;T<k.length;T++){var _=k[T];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<_[_.length-1].length;B++)if(_[_.length-1][B]!==_[0][B])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:b};return e(F,s,L)}H.polygon=x;function M(b,s,L){return L===void 0&&(L={}),r(b.map(function(T){return x(T,s)}),L)}H.polygons=M;function v(b,s,L){if(L===void 0&&(L={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var T={type:"LineString",coordinates:b};return e(T,s,L)}H.lineString=v;function p(b,s,L){return L===void 0&&(L={}),r(b.map(function(T){return v(T,s)}),L)}H.lineStrings=p;function r(b,s){s===void 0&&(s={});var L={type:"FeatureCollection"};return s.id&&(L.id=s.id),s.bbox&&(L.bbox=s.bbox),L.features=b,L}H.featureCollection=r;function t(b,s,L){L===void 0&&(L={});var T={type:"MultiLineString",coordinates:b};return e(T,s,L)}H.multiLineString=t;function i(b,s,L){L===void 0&&(L={});var T={type:"MultiPoint",coordinates:b};return e(T,s,L)}H.multiPoint=i;function n(b,s,L){L===void 0&&(L={});var T={type:"MultiPolygon",coordinates:b};return e(T,s,L)}H.multiPolygon=n;function u(b,s,L){L===void 0&&(L={});var T={type:"GeometryCollection",geometries:b};return e(T,s,L)}H.geometryCollection=u;function f(b,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,s||0);return Math.round(b*L)/L}H.round=f;function l(b,s){s===void 0&&(s="kilometers");var L=H.factors[s];if(!L)throw new Error(s+" units is invalid");return b*L}H.radiansToLength=l;function y(b,s){s===void 0&&(s="kilometers");var L=H.factors[s];if(!L)throw new Error(s+" units is invalid");return b/L}H.lengthToRadians=y;function h(b,s){return c(y(b,s))}H.lengthToDegrees=h;function S(b){var s=b%360;return s<0&&(s+=360),s}H.bearingToAzimuth=S;function c(b){var s=b%(2*Math.PI);return s*180/Math.PI}H.radiansToDegrees=c;function o(b){var s=b%360;return s*Math.PI/180}H.degreesToRadians=o;function d(b,s,L){if(s===void 0&&(s="kilometers"),L===void 0&&(L="kilometers"),!(b>=0))throw new Error("length must be a positive number");return l(y(b,s),L)}H.convertLength=d;function w(b,s,L){if(s===void 0&&(s="meters"),L===void 0&&(L="kilometers"),!(b>=0))throw new Error("area must be a positive number");var T=H.areaFactors[s];if(!T)throw new Error("invalid original units");var k=H.areaFactors[L];if(!k)throw new Error("invalid final units");return b/T*k}H.convertArea=w;function A(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}H.isNumber=A;function C(b){return!!b&&b.constructor===Object}H.isObject=C;function m(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(s){if(!A(s))throw new Error("bbox must only contain numbers")})}H.validateBBox=m;function E(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}H.validateId=E},3256:function(j,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(46284);function P(o,d,w){if(o!==null)for(var A,C,m,E,b,s,L,T=0,k=0,_,B=o.type,F=B==="FeatureCollection",O=B==="Feature",N=F?o.features.length:1,z=0;z<N;z++){L=F?o.features[z].geometry:O?o.geometry:o,_=L?L.type==="GeometryCollection":!1,b=_?L.geometries.length:1;for(var V=0;V<b;V++){var W=0,$=0;if(E=_?L.geometries[V]:L,E!==null){s=E.coordinates;var re=E.type;switch(T=w&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,k,z,W,$)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(d(s[A],k,z,W,$)===!1)return!1;k++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(C=0;C<s[A].length-T;C++){if(d(s[A][C],k,z,W,$)===!1)return!1;k++}re==="MultiLineString"&&W++,re==="Polygon"&&$++}re==="Polygon"&&W++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for($=0,C=0;C<s[A].length;C++){for(m=0;m<s[A][C].length-T;m++){if(d(s[A][C][m],k,z,W,$)===!1)return!1;k++}$++}W++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(P(E.geometries[A],d,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,d,w,A){var C=w;return P(o,function(m,E,b,s,L){E===0&&w===void 0?C=m:C=d(C,m,E,b,s,L)},A),C}function x(o,d){var w;switch(o.type){case"FeatureCollection":for(w=0;w<o.features.length&&d(o.features[w].properties,w)!==!1;w++);break;case"Feature":d(o.properties,0);break}}function M(o,d,w){var A=w;return x(o,function(C,m){m===0&&w===void 0?A=C:A=d(A,C,m)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var w=0;w<o.features.length&&d(o.features[w],w)!==!1;w++);}function p(o,d,w){var A=w;return v(o,function(C,m){m===0&&w===void 0?A=C:A=d(A,C,m)}),A}function r(o){var d=[];return P(o,function(w){d.push(w)}),d}function t(o,d){var w,A,C,m,E,b,s,L,T,k,_=0,B=o.type==="FeatureCollection",F=o.type==="Feature",O=B?o.features.length:1;for(w=0;w<O;w++){for(b=B?o.features[w].geometry:F?o.geometry:o,L=B?o.features[w].properties:F?o.properties:{},T=B?o.features[w].bbox:F?o.bbox:void 0,k=B?o.features[w].id:F?o.id:void 0,s=b?b.type==="GeometryCollection":!1,E=s?b.geometries.length:1,C=0;C<E;C++){if(m=s?b.geometries[C]:b,m===null){if(d(null,_,L,T,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,_,L,T,k)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(d(m.geometries[A],_,L,T,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,d,w){var A=w;return t(o,function(C,m,E,b,s){m===0&&w===void 0?A=C:A=d(A,C,m,E,b,s)}),A}function n(o,d){t(o,function(w,A,C,m,E){var b=w===null?null:w.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(w,C,{bbox:m,id:E}),A,0)===!1?!1:void 0}var s;switch(b){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var L=0;L<w.coordinates.length;L++){var T=w.coordinates[L],k={type:s,coordinates:T};if(d(g.feature(k,C),A,L)===!1)return!1}})}function u(o,d,w){var A=w;return n(o,function(C,m,E){m===0&&E===0&&w===void 0?A=C:A=d(A,C,m,E)}),A}function f(o,d){n(o,function(w,A,C){var m=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,s=0,L=0,T=0;if(P(w,function(k,_,B,F,O){if(b===void 0||A>s||F>L||O>T){b=k,s=A,L=F,T=O,m=0;return}var N=g.lineString([b,k],w.properties);if(d(N,A,C,O,m)===!1)return!1;m++,b=k})===!1)return!1}}})}function l(o,d,w){var A=w,C=!1;return f(o,function(m,E,b,s,L){C===!1&&w===void 0?A=m:A=d(A,m,E,b,s,L),C=!0}),A}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(w,A,C){if(w.geometry!==null){var m=w.geometry.type,E=w.geometry.coordinates;switch(m){case"LineString":if(d(w,A,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(d(g.lineString(E[b],w.properties),A,C,b)===!1)return!1;break}}})}function h(o,d,w){var A=w;return y(o,function(C,m,E,b){m===0&&w===void 0?A=C:A=d(A,C,m,E,b)}),A}function S(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,b=o.features[w].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m-1),g.lineString([s[C][m],s[C][m+1]],E,d);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m-1),g.lineString([s[A][m],s[A][m+1]],E,d);case"MultiPolygon":return A<0&&(A=s.length+A),C<0&&(C=s[A].length+C),m<0&&(m=s[A][C].length-m-1),g.lineString([s[A][C][m],s[A][C][m+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,b=o.features[w].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":return g.point(s,E,d);case"MultiPoint":return A<0&&(A=s.length+A),g.point(s[A],E,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m),g.point(s[C][m],E,d);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m),g.point(s[A][m],E,d);case"MultiPolygon":return A<0&&(A=s.length+A),C<0&&(C=s[A].length+C),m<0&&(m=s[A][C].length-m),g.point(s[A][C][m],E,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=a,H.propEach=x,H.propReduce=M,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=i,H.flattenEach=n,H.flattenReduce=u,H.segmentEach=f,H.segmentReduce=l,H.lineEach=y,H.lineReduce=h,H.findSegment=S,H.findPoint=c},42428:function(j,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(84880);function P(a){var x=[1/0,1/0,-1/0,-1/0];return g.coordEach(a,function(M){x[0]>M[0]&&(x[0]=M[0]),x[1]>M[1]&&(x[1]=M[1]),x[2]<M[0]&&(x[2]=M[0]),x[3]<M[1]&&(x[3]=M[1])}),x}P.default=P,H.default=P},76796:function(j,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,s,L){L===void 0&&(L={});var T={type:"Feature"};return(L.id===0||L.id)&&(T.id=L.id),L.bbox&&(T.bbox=L.bbox),T.properties=s||{},T.geometry=b,T}H.feature=e;function g(b,s,L){switch(b){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return x(s).geometry;case"MultiPoint":return i(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(b+" is invalid")}}H.geometry=g;function P(b,s,L){if(L===void 0&&(L={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(b[0])||!A(b[1]))throw new Error("coordinates must contain numbers");var T={type:"Point",coordinates:b};return e(T,s,L)}H.point=P;function a(b,s,L){return L===void 0&&(L={}),r(b.map(function(T){return P(T,s)}),L)}H.points=a;function x(b,s,L){L===void 0&&(L={});for(var T=0,k=b;T<k.length;T++){var _=k[T];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<_[_.length-1].length;B++)if(_[_.length-1][B]!==_[0][B])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:b};return e(F,s,L)}H.polygon=x;function M(b,s,L){return L===void 0&&(L={}),r(b.map(function(T){return x(T,s)}),L)}H.polygons=M;function v(b,s,L){if(L===void 0&&(L={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var T={type:"LineString",coordinates:b};return e(T,s,L)}H.lineString=v;function p(b,s,L){return L===void 0&&(L={}),r(b.map(function(T){return v(T,s)}),L)}H.lineStrings=p;function r(b,s){s===void 0&&(s={});var L={type:"FeatureCollection"};return s.id&&(L.id=s.id),s.bbox&&(L.bbox=s.bbox),L.features=b,L}H.featureCollection=r;function t(b,s,L){L===void 0&&(L={});var T={type:"MultiLineString",coordinates:b};return e(T,s,L)}H.multiLineString=t;function i(b,s,L){L===void 0&&(L={});var T={type:"MultiPoint",coordinates:b};return e(T,s,L)}H.multiPoint=i;function n(b,s,L){L===void 0&&(L={});var T={type:"MultiPolygon",coordinates:b};return e(T,s,L)}H.multiPolygon=n;function u(b,s,L){L===void 0&&(L={});var T={type:"GeometryCollection",geometries:b};return e(T,s,L)}H.geometryCollection=u;function f(b,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,s||0);return Math.round(b*L)/L}H.round=f;function l(b,s){s===void 0&&(s="kilometers");var L=H.factors[s];if(!L)throw new Error(s+" units is invalid");return b*L}H.radiansToLength=l;function y(b,s){s===void 0&&(s="kilometers");var L=H.factors[s];if(!L)throw new Error(s+" units is invalid");return b/L}H.lengthToRadians=y;function h(b,s){return c(y(b,s))}H.lengthToDegrees=h;function S(b){var s=b%360;return s<0&&(s+=360),s}H.bearingToAzimuth=S;function c(b){var s=b%(2*Math.PI);return s*180/Math.PI}H.radiansToDegrees=c;function o(b){var s=b%360;return s*Math.PI/180}H.degreesToRadians=o;function d(b,s,L){if(s===void 0&&(s="kilometers"),L===void 0&&(L="kilometers"),!(b>=0))throw new Error("length must be a positive number");return l(y(b,s),L)}H.convertLength=d;function w(b,s,L){if(s===void 0&&(s="meters"),L===void 0&&(L="kilometers"),!(b>=0))throw new Error("area must be a positive number");var T=H.areaFactors[s];if(!T)throw new Error("invalid original units");var k=H.areaFactors[L];if(!k)throw new Error("invalid final units");return b/T*k}H.convertArea=w;function A(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}H.isNumber=A;function C(b){return!!b&&b.constructor===Object}H.isObject=C;function m(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(s){if(!A(s))throw new Error("bbox must only contain numbers")})}H.validateBBox=m;function E(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}H.validateId=E},84880:function(j,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(76796);function P(o,d,w){if(o!==null)for(var A,C,m,E,b,s,L,T=0,k=0,_,B=o.type,F=B==="FeatureCollection",O=B==="Feature",N=F?o.features.length:1,z=0;z<N;z++){L=F?o.features[z].geometry:O?o.geometry:o,_=L?L.type==="GeometryCollection":!1,b=_?L.geometries.length:1;for(var V=0;V<b;V++){var W=0,$=0;if(E=_?L.geometries[V]:L,E!==null){s=E.coordinates;var re=E.type;switch(T=w&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,k,z,W,$)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(d(s[A],k,z,W,$)===!1)return!1;k++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(C=0;C<s[A].length-T;C++){if(d(s[A][C],k,z,W,$)===!1)return!1;k++}re==="MultiLineString"&&W++,re==="Polygon"&&$++}re==="Polygon"&&W++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for($=0,C=0;C<s[A].length;C++){for(m=0;m<s[A][C].length-T;m++){if(d(s[A][C][m],k,z,W,$)===!1)return!1;k++}$++}W++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(P(E.geometries[A],d,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,d,w,A){var C=w;return P(o,function(m,E,b,s,L){E===0&&w===void 0?C=m:C=d(C,m,E,b,s,L)},A),C}function x(o,d){var w;switch(o.type){case"FeatureCollection":for(w=0;w<o.features.length&&d(o.features[w].properties,w)!==!1;w++);break;case"Feature":d(o.properties,0);break}}function M(o,d,w){var A=w;return x(o,function(C,m){m===0&&w===void 0?A=C:A=d(A,C,m)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var w=0;w<o.features.length&&d(o.features[w],w)!==!1;w++);}function p(o,d,w){var A=w;return v(o,function(C,m){m===0&&w===void 0?A=C:A=d(A,C,m)}),A}function r(o){var d=[];return P(o,function(w){d.push(w)}),d}function t(o,d){var w,A,C,m,E,b,s,L,T,k,_=0,B=o.type==="FeatureCollection",F=o.type==="Feature",O=B?o.features.length:1;for(w=0;w<O;w++){for(b=B?o.features[w].geometry:F?o.geometry:o,L=B?o.features[w].properties:F?o.properties:{},T=B?o.features[w].bbox:F?o.bbox:void 0,k=B?o.features[w].id:F?o.id:void 0,s=b?b.type==="GeometryCollection":!1,E=s?b.geometries.length:1,C=0;C<E;C++){if(m=s?b.geometries[C]:b,m===null){if(d(null,_,L,T,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,_,L,T,k)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(d(m.geometries[A],_,L,T,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,d,w){var A=w;return t(o,function(C,m,E,b,s){m===0&&w===void 0?A=C:A=d(A,C,m,E,b,s)}),A}function n(o,d){t(o,function(w,A,C,m,E){var b=w===null?null:w.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(w,C,{bbox:m,id:E}),A,0)===!1?!1:void 0}var s;switch(b){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var L=0;L<w.coordinates.length;L++){var T=w.coordinates[L],k={type:s,coordinates:T};if(d(g.feature(k,C),A,L)===!1)return!1}})}function u(o,d,w){var A=w;return n(o,function(C,m,E){m===0&&E===0&&w===void 0?A=C:A=d(A,C,m,E)}),A}function f(o,d){n(o,function(w,A,C){var m=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,s=0,L=0,T=0;if(P(w,function(k,_,B,F,O){if(b===void 0||A>s||F>L||O>T){b=k,s=A,L=F,T=O,m=0;return}var N=g.lineString([b,k],w.properties);if(d(N,A,C,O,m)===!1)return!1;m++,b=k})===!1)return!1}}})}function l(o,d,w){var A=w,C=!1;return f(o,function(m,E,b,s,L){C===!1&&w===void 0?A=m:A=d(A,m,E,b,s,L),C=!0}),A}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(w,A,C){if(w.geometry!==null){var m=w.geometry.type,E=w.geometry.coordinates;switch(m){case"LineString":if(d(w,A,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(d(g.lineString(E[b],w.properties),A,C,b)===!1)return!1;break}}})}function h(o,d,w){var A=w;return y(o,function(C,m,E,b){m===0&&w===void 0?A=C:A=d(A,C,m,E,b)}),A}function S(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,b=o.features[w].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m-1),g.lineString([s[C][m],s[C][m+1]],E,d);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m-1),g.lineString([s[A][m],s[A][m+1]],E,d);case"MultiPolygon":return A<0&&(A=s.length+A),C<0&&(C=s[A].length+C),m<0&&(m=s[A][C].length-m-1),g.lineString([s[A][C][m],s[A][C][m+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,b=o.features[w].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":return g.point(s,E,d);case"MultiPoint":return A<0&&(A=s.length+A),g.point(s[A],E,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m),g.point(s[C][m],E,d);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m),g.point(s[A][m],E,d);case"MultiPolygon":return A<0&&(A=s.length+A),C<0&&(C=s[A].length+C),m<0&&(m=s[A][C].length-m),g.point(s[A][C][m],E,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=a,H.propEach=x,H.propReduce=M,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=i,H.flattenEach=n,H.flattenReduce=u,H.segmentEach=f,H.segmentReduce=l,H.lineEach=y,H.lineReduce=h,H.findSegment=S,H.findPoint=c},77844:function(j,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(43752),P=e(49840);function a(x,M){M===void 0&&(M={});var v=0,p=0,r=0;return g.coordEach(x,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],M.properties)}H.default=a},49840:function(j,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius/1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:.91441111923921},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(F,O,N){N===void 0&&(N={});var z={type:"Feature"};return(N.id===0||N.id)&&(z.id=N.id),N.bbox&&(z.bbox=N.bbox),z.properties=O||{},z.geometry=F,z}H.feature=e;function g(F,O,N){switch(F){case"Point":return P(O).geometry;case"LineString":return v(O).geometry;case"Polygon":return x(O).geometry;case"MultiPoint":return i(O).geometry;case"MultiLineString":return t(O).geometry;case"MultiPolygon":return n(O).geometry;default:throw new Error(F+" is invalid")}}H.geometry=g;function P(F,O,N){N===void 0&&(N={});var z={type:"Point",coordinates:F};return e(z,O,N)}H.point=P;function a(F,O,N){return N===void 0&&(N={}),r(F.map(function(z){return P(z,O)}),N)}H.points=a;function x(F,O,N){N===void 0&&(N={});for(var z=0,V=F;z<V.length;z++){var W=V[z];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var $=0;$<W[W.length-1].length;$++)if(W[W.length-1][$]!==W[0][$])throw new Error("First and last Position are not equivalent.")}var re={type:"Polygon",coordinates:F};return e(re,O,N)}H.polygon=x;function M(F,O,N){return N===void 0&&(N={}),r(F.map(function(z){return x(z,O)}),N)}H.polygons=M;function v(F,O,N){if(N===void 0&&(N={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:F};return e(z,O,N)}H.lineString=v;function p(F,O,N){return N===void 0&&(N={}),r(F.map(function(z){return v(z,O)}),N)}H.lineStrings=p;function r(F,O){O===void 0&&(O={});var N={type:"FeatureCollection"};return O.id&&(N.id=O.id),O.bbox&&(N.bbox=O.bbox),N.features=F,N}H.featureCollection=r;function t(F,O,N){N===void 0&&(N={});var z={type:"MultiLineString",coordinates:F};return e(z,O,N)}H.multiLineString=t;function i(F,O,N){N===void 0&&(N={});var z={type:"MultiPoint",coordinates:F};return e(z,O,N)}H.multiPoint=i;function n(F,O,N){N===void 0&&(N={});var z={type:"MultiPolygon",coordinates:F};return e(z,O,N)}H.multiPolygon=n;function u(F,O,N){N===void 0&&(N={});var z={type:"GeometryCollection",geometries:F};return e(z,O,N)}H.geometryCollection=u;function f(F,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var N=Math.pow(10,O||0);return Math.round(F*N)/N}H.round=f;function l(F,O){O===void 0&&(O="kilometers");var N=H.factors[O];if(!N)throw new Error(O+" units is invalid");return F*N}H.radiansToLength=l;function y(F,O){O===void 0&&(O="kilometers");var N=H.factors[O];if(!N)throw new Error(O+" units is invalid");return F/N}H.lengthToRadians=y;function h(F,O){return c(y(F,O))}H.lengthToDegrees=h;function S(F){var O=F%360;return O<0&&(O+=360),O}H.bearingToAzimuth=S;function c(F){var O=F%(2*Math.PI);return O*180/Math.PI}H.radiansToDegrees=c;function o(F){var O=F%360;return O*Math.PI/180}H.degreesToRadians=o;function d(F,O,N){if(O===void 0&&(O="kilometers"),N===void 0&&(N="kilometers"),!(F>=0))throw new Error("length must be a positive number");return l(y(F,O),N)}H.convertLength=d;function w(F,O,N){if(O===void 0&&(O="meters"),N===void 0&&(N="kilometers"),!(F>=0))throw new Error("area must be a positive number");var z=H.areaFactors[O];if(!z)throw new Error("invalid original units");var V=H.areaFactors[N];if(!V)throw new Error("invalid final units");return F/z*V}H.convertArea=w;function A(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}H.isNumber=A;function C(F){return!!F&&F.constructor===Object}H.isObject=C;function m(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(O){if(!A(O))throw new Error("bbox must only contain numbers")})}H.validateBBox=m;function E(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}H.validateId=E;function b(){throw new Error("method has been renamed to `radiansToDegrees`")}H.radians2degrees=b;function s(){throw new Error("method has been renamed to `degreesToRadians`")}H.degrees2radians=s;function L(){throw new Error("method has been renamed to `lengthToDegrees`")}H.distanceToDegrees=L;function T(){throw new Error("method has been renamed to `lengthToRadians`")}H.distanceToRadians=T;function k(){throw new Error("method has been renamed to `radiansToLength`")}H.radiansToDistance=k;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}H.bearingToAngle=_;function B(){throw new Error("method has been renamed to `convertLength`")}H.convertDistance=B},43752:function(j,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(49840);function P(o,d,w){if(o!==null)for(var A,C,m,E,b,s,L,T=0,k=0,_,B=o.type,F=B==="FeatureCollection",O=B==="Feature",N=F?o.features.length:1,z=0;z<N;z++){L=F?o.features[z].geometry:O?o.geometry:o,_=L?L.type==="GeometryCollection":!1,b=_?L.geometries.length:1;for(var V=0;V<b;V++){var W=0,$=0;if(E=_?L.geometries[V]:L,E!==null){s=E.coordinates;var re=E.type;switch(T=w&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,k,z,W,$)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(d(s[A],k,z,W,$)===!1)return!1;k++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(C=0;C<s[A].length-T;C++){if(d(s[A][C],k,z,W,$)===!1)return!1;k++}re==="MultiLineString"&&W++,re==="Polygon"&&$++}re==="Polygon"&&W++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for($=0,C=0;C<s[A].length;C++){for(m=0;m<s[A][C].length-T;m++){if(d(s[A][C][m],k,z,W,$)===!1)return!1;k++}$++}W++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(P(E.geometries[A],d,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,d,w,A){var C=w;return P(o,function(m,E,b,s,L){E===0&&w===void 0?C=m:C=d(C,m,E,b,s,L)},A),C}function x(o,d){var w;switch(o.type){case"FeatureCollection":for(w=0;w<o.features.length&&d(o.features[w].properties,w)!==!1;w++);break;case"Feature":d(o.properties,0);break}}function M(o,d,w){var A=w;return x(o,function(C,m){m===0&&w===void 0?A=C:A=d(A,C,m)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var w=0;w<o.features.length&&d(o.features[w],w)!==!1;w++);}function p(o,d,w){var A=w;return v(o,function(C,m){m===0&&w===void 0?A=C:A=d(A,C,m)}),A}function r(o){var d=[];return P(o,function(w){d.push(w)}),d}function t(o,d){var w,A,C,m,E,b,s,L,T,k,_=0,B=o.type==="FeatureCollection",F=o.type==="Feature",O=B?o.features.length:1;for(w=0;w<O;w++){for(b=B?o.features[w].geometry:F?o.geometry:o,L=B?o.features[w].properties:F?o.properties:{},T=B?o.features[w].bbox:F?o.bbox:void 0,k=B?o.features[w].id:F?o.id:void 0,s=b?b.type==="GeometryCollection":!1,E=s?b.geometries.length:1,C=0;C<E;C++){if(m=s?b.geometries[C]:b,m===null){if(d(null,_,L,T,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,_,L,T,k)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<m.geometries.length;A++)if(d(m.geometries[A],_,L,T,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,d,w){var A=w;return t(o,function(C,m,E,b,s){m===0&&w===void 0?A=C:A=d(A,C,m,E,b,s)}),A}function n(o,d){t(o,function(w,A,C,m,E){var b=w===null?null:w.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(w,C,{bbox:m,id:E}),A,0)===!1?!1:void 0}var s;switch(b){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var L=0;L<w.coordinates.length;L++){var T=w.coordinates[L],k={type:s,coordinates:T};if(d(g.feature(k,C),A,L)===!1)return!1}})}function u(o,d,w){var A=w;return n(o,function(C,m,E){m===0&&E===0&&w===void 0?A=C:A=d(A,C,m,E)}),A}function f(o,d){n(o,function(w,A,C){var m=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,s=0,L=0,T=0;if(P(w,function(k,_,B,F,O){if(b===void 0||A>s||F>L||O>T){b=k,s=A,L=F,T=O,m=0;return}var N=g.lineString([b,k],w.properties);if(d(N,A,C,O,m)===!1)return!1;m++,b=k})===!1)return!1}}})}function l(o,d,w){var A=w,C=!1;return f(o,function(m,E,b,s,L){C===!1&&w===void 0?A=m:A=d(A,m,E,b,s,L),C=!0}),A}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(w,A,C){if(w.geometry!==null){var m=w.geometry.type,E=w.geometry.coordinates;switch(m){case"LineString":if(d(w,A,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(d(g.lineString(E[b],w.properties),A,C,b)===!1)return!1;break}}})}function h(o,d,w){var A=w;return y(o,function(C,m,E,b){m===0&&w===void 0?A=C:A=d(A,C,m,E,b)}),A}function S(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,b=o.features[w].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m-1),g.lineString([s[C][m],s[C][m+1]],E,d);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m-1),g.lineString([s[A][m],s[A][m+1]],E,d);case"MultiPolygon":return A<0&&(A=s.length+A),C<0&&(C=s[A].length+C),m<0&&(m=s[A][C].length-m-1),g.lineString([s[A][C][m],s[A][C][m+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,b;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,b=o.features[w].geometry;break;case"Feature":E=E||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var s=b.coordinates;switch(b.type){case"Point":return g.point(s,E,d);case"MultiPoint":return A<0&&(A=s.length+A),g.point(s[A],E,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],E,d);case"Polygon":return C<0&&(C=s.length+C),m<0&&(m=s[C].length+m),g.point(s[C][m],E,d);case"MultiLineString":return A<0&&(A=s.length+A),m<0&&(m=s[A].length+m),g.point(s[A][m],E,d);case"MultiPolygon":return A<0&&(A=s.length+A),C<0&&(C=s[A].length+C),m<0&&(m=s[A][C].length-m),g.point(s[A][C][m],E,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=a,H.propEach=x,H.propReduce=M,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=i,H.flattenEach=n,H.flattenReduce=u,H.segmentEach=f,H.segmentReduce=l,H.lineEach=y,H.lineReduce=h,H.findSegment=S,H.findPoint=c},49972:function(j){j.exports=H;function H(e){var g=0,P=0,a=0,x=0;return e.map(function(M){M=M.slice();var v=M[0],p=v.toUpperCase();if(v!=p)switch(M[0]=p,v){case"a":M[6]+=a,M[7]+=x;break;case"v":M[1]+=x;break;case"h":M[1]+=a;break;default:for(var r=1;r<M.length;)M[r++]+=a,M[r++]+=x}switch(p){case"Z":a=g,x=P;break;case"H":a=M[1];break;case"V":x=M[1];break;case"M":a=g=M[1],x=P=M[2];break;default:a=M[M.length-2],x=M[M.length-1]}return M})}},76752:function(j){j.exports=H;function H(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var P=Array(g*2),a=0;a<g;a++){for(var x=-1/0,M=1/0,v=a,p=e.length;v<p;v+=g)e[v]>x&&(x=e[v]),e[v]<M&&(M=e[v]);P[a]=M,P[g+a]=x}return P}},10272:function(j){j.exports=function(H,e,g){if(typeof Array.prototype.findIndex=="function")return H.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(H),a=P.length;if(a===0)return-1;for(var x=0;x<a;x++)if(e.call(g,P[x],x,P))return x;return-1}},71152:function(j,H,e){var g=e(76752);j.exports=P;function P(a,x,M){if(!a||a.length==null)throw Error("Argument should be an array");x==null&&(x=1),M==null&&(M=g(a,x));for(var v=0;v<x;v++){var p=M[x+v],r=M[v],t=v,i=a.length;if(p===1/0&&r===-1/0)for(t=v;t<i;t+=x)a[t]=a[t]===p?1:a[t]===r?0:.5;else if(p===1/0)for(t=v;t<i;t+=x)a[t]=a[t]===p?1:0;else if(r===-1/0)for(t=v;t<i;t+=x)a[t]=a[t]===r?0:1;else{var n=p-r;for(t=v;t<i;t+=x)isNaN(a[t])||(a[t]=n===0?.5:(a[t]-r)/n)}}return a}},67752:function(j){j.exports=function(e,g){var P=typeof e=="number",a=typeof g=="number";P&&!a?(g=e,e=0):!P&&!a&&(e=0,g=0),e=e|0,g=g|0;var x=g-e;if(x<0)throw new Error("array length must be positive");for(var M=new Array(x),v=0,p=e;v<x;v++,p++)M[v]=p;return M}},45408:function(j,H,e){var g=e(4168);function P($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ne){return typeof ne}:P=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},P($)}function a($,re){if(!($ instanceof re))throw new TypeError("Cannot call a class as a function")}var x=e(86832),M=x.codes,v=M.ERR_AMBIGUOUS_ARGUMENT,p=M.ERR_INVALID_ARG_TYPE,r=M.ERR_INVALID_ARG_VALUE,t=M.ERR_INVALID_RETURN_VALUE,i=M.ERR_MISSING_ARGS,n=e(26144),u=e(35840),f=u.inspect,l=e(35840).types,y=l.isPromise,h=l.isRegExp,S=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),o,d;function w(){var $=e(25116);o=$.isDeepEqual,d=$.isDeepStrictEqual}var A=!1,C=j.exports=L,m={};function E($){throw $.message instanceof Error?$.message:new n($)}function b($,re,ne,ue,J){var X=arguments.length,oe;if(X===0)oe="Failed";else if(X===1)ne=$,$=void 0;else{if(A===!1){A=!0;var Y=g.emitWarning?g.emitWarning:console.warn.bind(console);Y("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}X===2&&(ue="!=")}if(ne instanceof Error)throw ne;var q={actual:$,expected:re,operator:ue===void 0?"fail":ue,stackStartFn:J||b};ne!==void 0&&(q.message=ne);var se=new n(q);throw oe&&(se.message=oe,se.generatedMessage=!0),se}C.fail=b,C.AssertionError=n;function s($,re,ne,ue){if(!ne){var J=!1;if(re===0)J=!0,ue="No value argument passed to `assert.ok()`";else if(ue instanceof Error)throw ue;var X=new n({actual:ne,expected:!0,message:ue,operator:"==",stackStartFn:$});throw X.generatedMessage=J,X}}function L(){for(var $=arguments.length,re=new Array($),ne=0;ne<$;ne++)re[ne]=arguments[ne];s.apply(void 0,[L,re.length].concat(re))}C.ok=L,C.equal=function $(re,ne,ue){if(arguments.length<2)throw new i("actual","expected");re!=ne&&E({actual:re,expected:ne,message:ue,operator:"==",stackStartFn:$})},C.notEqual=function $(re,ne,ue){if(arguments.length<2)throw new i("actual","expected");re==ne&&E({actual:re,expected:ne,message:ue,operator:"!=",stackStartFn:$})},C.deepEqual=function $(re,ne,ue){if(arguments.length<2)throw new i("actual","expected");o===void 0&&w(),o(re,ne)||E({actual:re,expected:ne,message:ue,operator:"deepEqual",stackStartFn:$})},C.notDeepEqual=function $(re,ne,ue){if(arguments.length<2)throw new i("actual","expected");o===void 0&&w(),o(re,ne)&&E({actual:re,expected:ne,message:ue,operator:"notDeepEqual",stackStartFn:$})},C.deepStrictEqual=function $(re,ne,ue){if(arguments.length<2)throw new i("actual","expected");o===void 0&&w(),d(re,ne)||E({actual:re,expected:ne,message:ue,operator:"deepStrictEqual",stackStartFn:$})},C.notDeepStrictEqual=T;function T($,re,ne){if(arguments.length<2)throw new i("actual","expected");o===void 0&&w(),d($,re)&&E({actual:$,expected:re,message:ne,operator:"notDeepStrictEqual",stackStartFn:T})}C.strictEqual=function $(re,ne,ue){if(arguments.length<2)throw new i("actual","expected");c(re,ne)||E({actual:re,expected:ne,message:ue,operator:"strictEqual",stackStartFn:$})},C.notStrictEqual=function $(re,ne,ue){if(arguments.length<2)throw new i("actual","expected");c(re,ne)&&E({actual:re,expected:ne,message:ue,operator:"notStrictEqual",stackStartFn:$})};var k=function $(re,ne,ue){var J=this;a(this,$),ne.forEach(function(X){X in re&&(ue!==void 0&&typeof ue[X]=="string"&&h(re[X])&&re[X].test(ue[X])?J[X]=ue[X]:J[X]=re[X])})};function _($,re,ne,ue,J,X){if(!(ne in $)||!d($[ne],re[ne])){if(!ue){var oe=new k($,J),Y=new k(re,J,$),q=new n({actual:oe,expected:Y,operator:"deepStrictEqual",stackStartFn:X});throw q.actual=$,q.expected=re,q.operator=X.name,q}E({actual:$,expected:re,message:ue,operator:X.name,stackStartFn:X})}}function B($,re,ne,ue){if(typeof re!="function"){if(h(re))return re.test($);if(arguments.length===2)throw new p("expected",["Function","RegExp"],re);if(P($)!=="object"||$===null){var J=new n({actual:$,expected:re,message:ne,operator:"deepStrictEqual",stackStartFn:ue});throw J.operator=ue.name,J}var X=Object.keys(re);if(re instanceof Error)X.push("name","message");else if(X.length===0)throw new r("error",re,"may not be an empty object");return o===void 0&&w(),X.forEach(function(oe){typeof $[oe]=="string"&&h(re[oe])&&re[oe].test($[oe])||_($,re,oe,ne,X,ue)}),!0}return re.prototype!==void 0&&$ instanceof re?!0:Error.isPrototypeOf(re)?!1:re.call({},$)===!0}function F($){if(typeof $!="function")throw new p("fn","Function",$);try{$()}catch(re){return re}return m}function O($){return y($)||$!==null&&P($)==="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function N($){return Promise.resolve().then(function(){var re;if(typeof $=="function"){if(re=$(),!O(re))throw new t("instance of Promise","promiseFn",re)}else if(O($))re=$;else throw new p("promiseFn",["Function","Promise"],$);return Promise.resolve().then(function(){return re}).then(function(){return m}).catch(function(ne){return ne})})}function z($,re,ne,ue){if(typeof ne=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ne);if(P(re)==="object"&&re!==null){if(re.message===ne)throw new v("error/message",'The error message "'.concat(re.message,'" is identical to the message.'))}else if(re===ne)throw new v("error/message",'The error "'.concat(re,'" is identical to the message.'));ue=ne,ne=void 0}else if(ne!=null&&P(ne)!=="object"&&typeof ne!="function")throw new p("error",["Object","Error","Function","RegExp"],ne);if(re===m){var J="";ne&&ne.name&&(J+=" (".concat(ne.name,")")),J+=ue?": ".concat(ue):".";var X=$.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:ne,operator:$.name,message:"Missing expected ".concat(X).concat(J),stackStartFn:$})}if(ne&&!B(re,ne,ue,$))throw re}function V($,re,ne,ue){if(re!==m){if(typeof ne=="string"&&(ue=ne,ne=void 0),!ne||B(re,ne)){var J=ue?": ".concat(ue):".",X=$.name==="doesNotReject"?"rejection":"exception";E({actual:re,expected:ne,operator:$.name,message:"Got unwanted ".concat(X).concat(J,`
`)+'Actual message: "'.concat(re&&re.message,'"'),stackStartFn:$})}throw re}}C.throws=function $(re){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),J=1;J<ne;J++)ue[J-1]=arguments[J];z.apply(void 0,[$,F(re)].concat(ue))},C.rejects=function $(re){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),J=1;J<ne;J++)ue[J-1]=arguments[J];return N(re).then(function(X){return z.apply(void 0,[$,X].concat(ue))})},C.doesNotThrow=function $(re){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),J=1;J<ne;J++)ue[J-1]=arguments[J];V.apply(void 0,[$,F(re)].concat(ue))},C.doesNotReject=function $(re){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),J=1;J<ne;J++)ue[J-1]=arguments[J];return N(re).then(function(X){return V.apply(void 0,[$,X].concat(ue))})},C.ifError=function $(re){if(re!=null){var ne="ifError got unwanted exception: ";P(re)==="object"&&typeof re.message=="string"?re.message.length===0&&re.constructor?ne+=re.constructor.name:ne+=re.message:ne+=f(re);var ue=new n({actual:re,expected:null,operator:"ifError",message:ne,stackStartFn:$}),J=re.stack;if(typeof J=="string"){var X=J.split(`
`);X.shift();for(var oe=ue.stack.split(`
`),Y=0;Y<X.length;Y++){var q=oe.indexOf(X[Y]);if(q!==-1){oe=oe.slice(0,q);break}}ue.stack="".concat(oe.join(`
`),`
`).concat(X.join(`
`))}throw ue}};function W(){for(var $=arguments.length,re=new Array($),ne=0;ne<$;ne++)re[ne]=arguments[ne];s.apply(void 0,[W,re.length].concat(re))}C.strict=S(W,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},26144:function(j,H,e){var g=e(4168);function P(F){for(var O=1;O<arguments.length;O++){var N=arguments[O]!=null?arguments[O]:{},z=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(N).filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable}))),z.forEach(function(V){a(F,V,N[V])})}return F}function a(F,O,N){return O in F?Object.defineProperty(F,O,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[O]=N,F}function x(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}function M(F,O){for(var N=0;N<O.length;N++){var z=O[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(F,z.key,z)}}function v(F,O,N){return O&&M(F.prototype,O),N&&M(F,N),F}function p(F,O){return O&&(h(O)==="object"||typeof O=="function")?O:r(F)}function r(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function t(F,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),O&&l(F,O)}function i(F){var O=typeof Map=="function"?new Map:void 0;return i=function(z){if(z===null||!f(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(z))return O.get(z);O.set(z,V)}function V(){return u(z,arguments,y(this).constructor)}return V.prototype=Object.create(z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),l(V,z)},i(F)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(F,O,N){return n()?u=Reflect.construct:u=function(V,W,$){var re=[null];re.push.apply(re,W);var ne=Function.bind.apply(V,re),ue=new ne;return $&&l(ue,$.prototype),ue},u.apply(null,arguments)}function f(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function l(F,O){return l=Object.setPrototypeOf||function(z,V){return z.__proto__=V,z},l(F,O)}function y(F){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},y(F)}function h(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(N){return typeof N}:h=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},h(F)}var S=e(35840),c=S.inspect,o=e(86832),d=o.codes.ERR_INVALID_ARG_TYPE;function w(F,O,N){return(N===void 0||N>F.length)&&(N=F.length),F.substring(N-O.length,N)===O}function A(F,O){if(O=Math.floor(O),F.length==0||O==0)return"";var N=F.length*O;for(O=Math.floor(Math.log(O)/Math.log(2));O;)F+=F,O--;return F+=F.substring(0,N-F.length),F}var C="",m="",E="",b="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},L=10;function T(F){var O=Object.keys(F),N=Object.create(Object.getPrototypeOf(F));return O.forEach(function(z){N[z]=F[z]}),Object.defineProperty(N,"message",{value:F.message}),N}function k(F){return c(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(F,O,N){var z="",V="",W=0,$="",re=!1,ne=k(F),ue=ne.split(`
`),J=k(O).split(`
`),X=0,oe="";if(N==="strictEqual"&&h(F)==="object"&&h(O)==="object"&&F!==null&&O!==null&&(N="strictEqualObject"),ue.length===1&&J.length===1&&ue[0]!==J[0]){var Y=ue[0].length+J[0].length;if(Y<=L){if((h(F)!=="object"||F===null)&&(h(O)!=="object"||O===null)&&(F!==0||O!==0))return"".concat(s[N],`

`)+"".concat(ue[0]," !== ").concat(J[0],`
`)}else if(N!=="strictEqualObject"){var q=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(Y<q){for(;ue[0][X]===J[0][X];)X++;X>2&&(oe=`
  `.concat(A(" ",X),"^"),X=0)}}}for(var se=ue[ue.length-1],Q=J[J.length-1];se===Q&&(X++<2?$=`
  `.concat(se).concat($):z=se,ue.pop(),J.pop(),!(ue.length===0||J.length===0));)se=ue[ue.length-1],Q=J[J.length-1];var K=Math.max(ue.length,J.length);if(K===0){var le=ne.split(`
`);if(le.length>30)for(le[26]="".concat(C,"...").concat(b);le.length>27;)le.pop();return"".concat(s.notIdentical,`

`).concat(le.join(`
`),`
`)}X>3&&($=`
`.concat(C,"...").concat(b).concat($),re=!0),z!==""&&($=`
  `.concat(z).concat($),z="");var ie=0,ce=s[N]+`
`.concat(m,"+ actual").concat(b," ").concat(E,"- expected").concat(b),ye=" ".concat(C,"...").concat(b," Lines skipped");for(X=0;X<K;X++){var Ce=X-W;if(ue.length<X+1)Ce>1&&X>2&&(Ce>4?(V+=`
`.concat(C,"...").concat(b),re=!0):Ce>3&&(V+=`
  `.concat(J[X-2]),ie++),V+=`
  `.concat(J[X-1]),ie++),W=X,z+=`
`.concat(E,"-").concat(b," ").concat(J[X]),ie++;else if(J.length<X+1)Ce>1&&X>2&&(Ce>4?(V+=`
`.concat(C,"...").concat(b),re=!0):Ce>3&&(V+=`
  `.concat(ue[X-2]),ie++),V+=`
  `.concat(ue[X-1]),ie++),W=X,V+=`
`.concat(m,"+").concat(b," ").concat(ue[X]),ie++;else{var Ae=J[X],ke=ue[X],we=ke!==Ae&&(!w(ke,",")||ke.slice(0,-1)!==Ae);we&&w(Ae,",")&&Ae.slice(0,-1)===ke&&(we=!1,ke+=","),we?(Ce>1&&X>2&&(Ce>4?(V+=`
`.concat(C,"...").concat(b),re=!0):Ce>3&&(V+=`
  `.concat(ue[X-2]),ie++),V+=`
  `.concat(ue[X-1]),ie++),W=X,V+=`
`.concat(m,"+").concat(b," ").concat(ke),z+=`
`.concat(E,"-").concat(b," ").concat(Ae),ie+=2):(V+=z,z="",(Ce===1||X===0)&&(V+=`
  `.concat(ke),ie++))}if(ie>20&&X<K-2)return"".concat(ce).concat(ye,`
`).concat(V,`
`).concat(C,"...").concat(b).concat(z,`
`)+"".concat(C,"...").concat(b)}return"".concat(ce).concat(re?ye:"",`
`).concat(V).concat(z).concat($).concat(oe)}var B=function(F){t(O,F);function O(N){var z;if(x(this,O),h(N)!=="object"||N===null)throw new d("options","Object",N);var V=N.message,W=N.operator,$=N.stackStartFn,re=N.actual,ne=N.expected,ue=Error.stackTraceLimit;if(Error.stackTraceLimit=0,V!=null)z=p(this,y(O).call(this,String(V)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(C="\x1B[34m",m="\x1B[32m",b="\x1B[39m",E="\x1B[31m"):(C="",m="",b="",E="")),h(re)==="object"&&re!==null&&h(ne)==="object"&&ne!==null&&"stack"in re&&re instanceof Error&&"stack"in ne&&ne instanceof Error&&(re=T(re),ne=T(ne)),W==="deepStrictEqual"||W==="strictEqual")z=p(this,y(O).call(this,_(re,ne,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var J=s[W],X=k(re).split(`
`);if(W==="notStrictEqual"&&h(re)==="object"&&re!==null&&(J=s.notStrictEqualObject),X.length>30)for(X[26]="".concat(C,"...").concat(b);X.length>27;)X.pop();X.length===1?z=p(this,y(O).call(this,"".concat(J," ").concat(X[0]))):z=p(this,y(O).call(this,"".concat(J,`

`).concat(X.join(`
`),`
`)))}else{var oe=k(re),Y="",q=s[W];W==="notDeepEqual"||W==="notEqual"?(oe="".concat(s[W],`

`).concat(oe),oe.length>1024&&(oe="".concat(oe.slice(0,1021),"..."))):(Y="".concat(k(ne)),oe.length>512&&(oe="".concat(oe.slice(0,509),"...")),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),W==="deepEqual"||W==="equal"?oe="".concat(q,`

`).concat(oe,`

should equal

`):Y=" ".concat(W," ").concat(Y)),z=p(this,y(O).call(this,"".concat(oe).concat(Y)))}return Error.stackTraceLimit=ue,z.generatedMessage=!V,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=re,z.expected=ne,z.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(z),$),z.stack,z.name="AssertionError",p(z)}return v(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(z,V){return c(this,P({},V,{customInspect:!1,depth:0}))}}]),O}(i(Error));j.exports=B},86832:function(j,H,e){function g(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(c){return typeof c}:g=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g(h)}function P(h,S){if(!(h instanceof S))throw new TypeError("Cannot call a class as a function")}function a(h,S){return S&&(g(S)==="object"||typeof S=="function")?S:x(h)}function x(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function M(h){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},M(h)}function v(h,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(S&&S.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),S&&p(h,S)}function p(h,S){return p=Object.setPrototypeOf||function(o,d){return o.__proto__=d,o},p(h,S)}var r={},t,i;function n(h,S,c){c||(c=Error);function o(w,A,C){return typeof S=="string"?S:S(w,A,C)}var d=function(w){v(A,w);function A(C,m,E){var b;return P(this,A),b=a(this,M(A).call(this,o(C,m,E))),b.code=h,b}return A}(c);r[h]=d}function u(h,S){if(Array.isArray(h)){var c=h.length;return h=h.map(function(o){return String(o)}),c>2?"one of ".concat(S," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(S," ").concat(h[0]," or ").concat(h[1]):"of ".concat(S," ").concat(h[0])}else return"of ".concat(S," ").concat(String(h))}function f(h,S,c){return h.substr(!c||c<0?0:+c,S.length)===S}function l(h,S,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-S.length,c)===S}function y(h,S,c){return typeof c!="number"&&(c=0),c+S.length>h.length?!1:h.indexOf(S,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,S,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var o;typeof S=="string"&&f(S,"not ")?(o="must not be",S=S.replace(/^not /,"")):o="must be";var d;if(l(h," argument"))d="The ".concat(h," ").concat(o," ").concat(u(S,"type"));else{var w=y(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(w," ").concat(o," ").concat(u(S,"type"))}return d+=". Received type ".concat(g(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,S){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";i===void 0&&(i=e(35840));var o=i.inspect(S);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,S,c){var o;return c&&c.constructor&&c.constructor.name?o="instance of ".concat(c.constructor.name):o="type ".concat(g(c)),"Expected ".concat(h,' to be returned from the "').concat(S,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,S=new Array(h),c=0;c<h;c++)S[c]=arguments[c];t===void 0&&(t=e(45408)),t(S.length>0,"At least one arg needs to be specified");var o="The ",d=S.length;switch(S=S.map(function(w){return'"'.concat(w,'"')}),d){case 1:o+="".concat(S[0]," argument");break;case 2:o+="".concat(S[0]," and ").concat(S[1]," arguments");break;default:o+=S.slice(0,d-1).join(", "),o+=", and ".concat(S[d-1]," arguments");break}return"".concat(o," must be specified")},TypeError),j.exports.codes=r},25116:function(j,H,e){function g(Ee,xe){return x(Ee)||a(Ee,xe)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Ee,xe){var Pe=[],Ue=!0,Be=!1,Ne=void 0;try{for(var Xe=Ee[Symbol.iterator](),ut;!(Ue=(ut=Xe.next()).done)&&(Pe.push(ut.value),!(xe&&Pe.length===xe));Ue=!0);}catch(dt){Be=!0,Ne=dt}finally{try{!Ue&&Xe.return!=null&&Xe.return()}finally{if(Be)throw Ne}}return Pe}function x(Ee){if(Array.isArray(Ee))return Ee}function M(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(Pe){return typeof Pe}:M=function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},M(Ee)}var v=/a/g.flags!==void 0,p=function(xe){var Pe=[];return xe.forEach(function(Ue){return Pe.push(Ue)}),Pe},r=function(xe){var Pe=[];return xe.forEach(function(Ue,Be){return Pe.push([Be,Ue])}),Pe},t=Object.is?Object.is:e(39896),i=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function u(Ee){return Ee.call.bind(Ee)}var f=u(Object.prototype.hasOwnProperty),l=u(Object.prototype.propertyIsEnumerable),y=u(Object.prototype.toString),h=e(35840).types,S=h.isAnyArrayBuffer,c=h.isArrayBufferView,o=h.isDate,d=h.isMap,w=h.isRegExp,A=h.isSet,C=h.isNativeError,m=h.isBoxedPrimitive,E=h.isNumberObject,b=h.isStringObject,s=h.isBooleanObject,L=h.isBigIntObject,T=h.isSymbolObject,k=h.isFloat32Array,_=h.isFloat64Array;function B(Ee){if(Ee.length===0||Ee.length>10)return!0;for(var xe=0;xe<Ee.length;xe++){var Pe=Ee.charCodeAt(xe);if(Pe<48||Pe>57)return!0}return Ee.length===10&&Ee>=Math.pow(2,32)}function F(Ee){return Object.keys(Ee).filter(B).concat(i(Ee).filter(Object.prototype.propertyIsEnumerable.bind(Ee)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function O(Ee,xe){if(Ee===xe)return 0;for(var Pe=Ee.length,Ue=xe.length,Be=0,Ne=Math.min(Pe,Ue);Be<Ne;++Be)if(Ee[Be]!==xe[Be]){Pe=Ee[Be],Ue=xe[Be];break}return Pe<Ue?-1:Ue<Pe?1:0}var N=!0,z=!1,V=0,W=1,$=2,re=3;function ne(Ee,xe){return v?Ee.source===xe.source&&Ee.flags===xe.flags:RegExp.prototype.toString.call(Ee)===RegExp.prototype.toString.call(xe)}function ue(Ee,xe){if(Ee.byteLength!==xe.byteLength)return!1;for(var Pe=0;Pe<Ee.byteLength;Pe++)if(Ee[Pe]!==xe[Pe])return!1;return!0}function J(Ee,xe){return Ee.byteLength!==xe.byteLength?!1:O(new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength),new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength))===0}function X(Ee,xe){return Ee.byteLength===xe.byteLength&&O(new Uint8Array(Ee),new Uint8Array(xe))===0}function oe(Ee,xe){return E(Ee)?E(xe)&&t(Number.prototype.valueOf.call(Ee),Number.prototype.valueOf.call(xe)):b(Ee)?b(xe)&&String.prototype.valueOf.call(Ee)===String.prototype.valueOf.call(xe):s(Ee)?s(xe)&&Boolean.prototype.valueOf.call(Ee)===Boolean.prototype.valueOf.call(xe):L(Ee)?L(xe)&&BigInt.prototype.valueOf.call(Ee)===BigInt.prototype.valueOf.call(xe):T(xe)&&Symbol.prototype.valueOf.call(Ee)===Symbol.prototype.valueOf.call(xe)}function Y(Ee,xe,Pe,Ue){if(Ee===xe)return Ee!==0?!0:Pe?t(Ee,xe):!0;if(Pe){if(M(Ee)!=="object")return typeof Ee=="number"&&n(Ee)&&n(xe);if(M(xe)!=="object"||Ee===null||xe===null||Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(xe))return!1}else{if(Ee===null||M(Ee)!=="object")return xe===null||M(xe)!=="object"?Ee==xe:!1;if(xe===null||M(xe)!=="object")return!1}var Be=y(Ee),Ne=y(xe);if(Be!==Ne)return!1;if(Array.isArray(Ee)){if(Ee.length!==xe.length)return!1;var Xe=F(Ee),ut=F(xe);return Xe.length!==ut.length?!1:se(Ee,xe,Pe,Ue,W,Xe)}if(Be==="[object Object]"&&(!d(Ee)&&d(xe)||!A(Ee)&&A(xe)))return!1;if(o(Ee)){if(!o(xe)||Date.prototype.getTime.call(Ee)!==Date.prototype.getTime.call(xe))return!1}else if(w(Ee)){if(!w(xe)||!ne(Ee,xe))return!1}else if(C(Ee)||Ee instanceof Error){if(Ee.message!==xe.message||Ee.name!==xe.name)return!1}else if(c(Ee)){if(!Pe&&(k(Ee)||_(Ee))){if(!ue(Ee,xe))return!1}else if(!J(Ee,xe))return!1;var dt=F(Ee),at=F(xe);return dt.length!==at.length?!1:se(Ee,xe,Pe,Ue,V,dt)}else{if(A(Ee))return!A(xe)||Ee.size!==xe.size?!1:se(Ee,xe,Pe,Ue,$);if(d(Ee))return!d(xe)||Ee.size!==xe.size?!1:se(Ee,xe,Pe,Ue,re);if(S(Ee)){if(!X(Ee,xe))return!1}else if(m(Ee)&&!oe(Ee,xe))return!1}return se(Ee,xe,Pe,Ue,V)}function q(Ee,xe){return xe.filter(function(Pe){return l(Ee,Pe)})}function se(Ee,xe,Pe,Ue,Be,Ne){if(arguments.length===5){Ne=Object.keys(Ee);var Xe=Object.keys(xe);if(Ne.length!==Xe.length)return!1}for(var ut=0;ut<Ne.length;ut++)if(!f(xe,Ne[ut]))return!1;if(Pe&&arguments.length===5){var dt=i(Ee);if(dt.length!==0){var at=0;for(ut=0;ut<dt.length;ut++){var We=dt[ut];if(l(Ee,We)){if(!l(xe,We))return!1;Ne.push(We),at++}else if(l(xe,We))return!1}var rt=i(xe);if(dt.length!==rt.length&&q(xe,rt).length!==at)return!1}else{var st=i(xe);if(st.length!==0&&q(xe,st).length!==0)return!1}}if(Ne.length===0&&(Be===V||Be===W&&Ee.length===0||Ee.size===0))return!0;if(Ue===void 0)Ue={val1:new Map,val2:new Map,position:0};else{var ht=Ue.val1.get(Ee);if(ht!==void 0){var vt=Ue.val2.get(xe);if(vt!==void 0)return ht===vt}Ue.position++}Ue.val1.set(Ee,Ue.position),Ue.val2.set(xe,Ue.position);var At=Ae(Ee,xe,Pe,Ne,Ue,Be);return Ue.val1.delete(Ee),Ue.val2.delete(xe),At}function Q(Ee,xe,Pe,Ue){for(var Be=p(Ee),Ne=0;Ne<Be.length;Ne++){var Xe=Be[Ne];if(Y(xe,Xe,Pe,Ue))return Ee.delete(Xe),!0}return!1}function K(Ee){switch(M(Ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ee=+Ee;case"number":if(n(Ee))return!1}return!0}function le(Ee,xe,Pe){var Ue=K(Pe);return Ue??(xe.has(Ue)&&!Ee.has(Ue))}function ie(Ee,xe,Pe,Ue,Be){var Ne=K(Pe);if(Ne!=null)return Ne;var Xe=xe.get(Ne);return Xe===void 0&&!xe.has(Ne)||!Y(Ue,Xe,!1,Be)?!1:!Ee.has(Ne)&&Y(Ue,Xe,!1,Be)}function ce(Ee,xe,Pe,Ue){for(var Be=null,Ne=p(Ee),Xe=0;Xe<Ne.length;Xe++){var ut=Ne[Xe];if(M(ut)==="object"&&ut!==null)Be===null&&(Be=new Set),Be.add(ut);else if(!xe.has(ut)){if(Pe||!le(Ee,xe,ut))return!1;Be===null&&(Be=new Set),Be.add(ut)}}if(Be!==null){for(var dt=p(xe),at=0;at<dt.length;at++){var We=dt[at];if(M(We)==="object"&&We!==null){if(!Q(Be,We,Pe,Ue))return!1}else if(!Pe&&!Ee.has(We)&&!Q(Be,We,Pe,Ue))return!1}return Be.size===0}return!0}function ye(Ee,xe,Pe,Ue,Be,Ne){for(var Xe=p(Ee),ut=0;ut<Xe.length;ut++){var dt=Xe[ut];if(Y(Pe,dt,Be,Ne)&&Y(Ue,xe.get(dt),Be,Ne))return Ee.delete(dt),!0}return!1}function Ce(Ee,xe,Pe,Ue){for(var Be=null,Ne=r(Ee),Xe=0;Xe<Ne.length;Xe++){var ut=g(Ne[Xe],2),dt=ut[0],at=ut[1];if(M(dt)==="object"&&dt!==null)Be===null&&(Be=new Set),Be.add(dt);else{var We=xe.get(dt);if(We===void 0&&!xe.has(dt)||!Y(at,We,Pe,Ue)){if(Pe||!ie(Ee,xe,dt,at,Ue))return!1;Be===null&&(Be=new Set),Be.add(dt)}}}if(Be!==null){for(var rt=r(xe),st=0;st<rt.length;st++){var ht=g(rt[st],2),dt=ht[0],vt=ht[1];if(M(dt)==="object"&&dt!==null){if(!ye(Be,Ee,dt,vt,Pe,Ue))return!1}else if(!Pe&&(!Ee.has(dt)||!Y(Ee.get(dt),vt,!1,Ue))&&!ye(Be,Ee,dt,vt,!1,Ue))return!1}return Be.size===0}return!0}function Ae(Ee,xe,Pe,Ue,Be,Ne){var Xe=0;if(Ne===$){if(!ce(Ee,xe,Pe,Be))return!1}else if(Ne===re){if(!Ce(Ee,xe,Pe,Be))return!1}else if(Ne===W)for(;Xe<Ee.length;Xe++)if(f(Ee,Xe)){if(!f(xe,Xe)||!Y(Ee[Xe],xe[Xe],Pe,Be))return!1}else{if(f(xe,Xe))return!1;for(var ut=Object.keys(Ee);Xe<ut.length;Xe++){var dt=ut[Xe];if(!f(xe,dt)||!Y(Ee[dt],xe[dt],Pe,Be))return!1}return ut.length===Object.keys(xe).length}for(Xe=0;Xe<Ue.length;Xe++){var at=Ue[Xe];if(!Y(Ee[at],xe[at],Pe,Be))return!1}return!0}function ke(Ee,xe){return Y(Ee,xe,z)}function we(Ee,xe){return Y(Ee,xe,N)}j.exports={isDeepEqual:ke,isDeepStrictEqual:we}},83160:function(j,H,e){e.r(H),e.d(H,{decode:function(){return M},encode:function(){return x}});for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<g.length;a++)P[g.charCodeAt(a)]=a;var x=function(v){var p=new Uint8Array(v),r,t=p.length,i="";for(r=0;r<t;r+=3)i+=g[p[r]>>2],i+=g[(p[r]&3)<<4|p[r+1]>>4],i+=g[(p[r+1]&15)<<2|p[r+2]>>6],i+=g[p[r+2]&63];return t%3===2?i=i.substring(0,i.length-1)+"=":t%3===1&&(i=i.substring(0,i.length-2)+"=="),i},M=function(v){var p=v.length*.75,r=v.length,t,i=0,n,u,f,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var y=new ArrayBuffer(p),h=new Uint8Array(y);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],u=P[v.charCodeAt(t+1)],f=P[v.charCodeAt(t+2)],l=P[v.charCodeAt(t+3)],h[i++]=n<<2|u>>4,h[i++]=(u&15)<<4|f>>2,h[i++]=(f&3)<<6|l&63;return y}},59968:function(j,H){H.byteLength=p,H.toByteArray=t,H.fromByteArray=u;for(var e=[],g=[],P=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0,M=a.length;x<M;++x)e[x]=a[x],g[a.charCodeAt(x)]=x;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function v(f){var l=f.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");y===-1&&(y=l);var h=y===l?0:4-y%4;return[y,h]}function p(f){var l=v(f),y=l[0],h=l[1];return(y+h)*3/4-h}function r(f,l,y){return(l+y)*3/4-y}function t(f){var l,y=v(f),h=y[0],S=y[1],c=new P(r(f,h,S)),o=0,d=S>0?h-4:h,w;for(w=0;w<d;w+=4)l=g[f.charCodeAt(w)]<<18|g[f.charCodeAt(w+1)]<<12|g[f.charCodeAt(w+2)]<<6|g[f.charCodeAt(w+3)],c[o++]=l>>16&255,c[o++]=l>>8&255,c[o++]=l&255;return S===2&&(l=g[f.charCodeAt(w)]<<2|g[f.charCodeAt(w+1)]>>4,c[o++]=l&255),S===1&&(l=g[f.charCodeAt(w)]<<10|g[f.charCodeAt(w+1)]<<4|g[f.charCodeAt(w+2)]>>2,c[o++]=l>>8&255,c[o++]=l&255),c}function i(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function n(f,l,y){for(var h,S=[],c=l;c<y;c+=3)h=(f[c]<<16&16711680)+(f[c+1]<<8&65280)+(f[c+2]&255),S.push(i(h));return S.join("")}function u(f){for(var l,y=f.length,h=y%3,S=[],c=16383,o=0,d=y-h;o<d;o+=c)S.push(n(f,o,o+c>d?d:o+c));return h===1?(l=f[y-1],S.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(f[y-2]<<8)+f[y-1],S.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),S.join("")}},64928:function(j){function H(M,v,p,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,u=M[n],f=p!==void 0?p(u,v):u-v;f>=0?(i=n,t=n-1):r=n+1}return i}function e(M,v,p,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,u=M[n],f=p!==void 0?p(u,v):u-v;f>0?(i=n,t=n-1):r=n+1}return i}function g(M,v,p,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,u=M[n],f=p!==void 0?p(u,v):u-v;f<0?(i=n,r=n+1):t=n-1}return i}function P(M,v,p,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,u=M[n],f=p!==void 0?p(u,v):u-v;f<=0?(i=n,r=n+1):t=n-1}return i}function a(M,v,p,r,t){for(;r<=t;){var i=r+t>>>1,n=M[i],u=p!==void 0?p(n,v):n-v;if(u===0)return i;u<=0?r=i+1:t=i-1}return-1}function x(M,v,p,r,t,i){return typeof p=="function"?i(M,v,p,r===void 0?0:r|0,t===void 0?M.length-1:t|0):i(M,v,void 0,p===void 0?0:p|0,r===void 0?M.length-1:r|0)}j.exports={ge:function(M,v,p,r,t){return x(M,v,p,r,t,H)},gt:function(M,v,p,r,t){return x(M,v,p,r,t,e)},lt:function(M,v,p,r,t){return x(M,v,p,r,t,g)},le:function(M,v,p,r,t){return x(M,v,p,r,t,P)},eq:function(M,v,p,r,t){return x(M,v,p,r,t,a)}}},308:function(j,H){"use restrict";var e=32;H.INT_BITS=e,H.INT_MAX=2147483647,H.INT_MIN=-1<<e-1,H.sign=function(a){return(a>0)-(a<0)},H.abs=function(a){var x=a>>e-1;return(a^x)-x},H.min=function(a,x){return x^(a^x)&-(a<x)},H.max=function(a,x){return a^(a^x)&-(a<x)},H.isPow2=function(a){return!(a&a-1)&&!!a},H.log2=function(a){var x,M;return x=(a>65535)<<4,a>>>=x,M=(a>255)<<3,a>>>=M,x|=M,M=(a>15)<<2,a>>>=M,x|=M,M=(a>3)<<1,a>>>=M,x|=M,x|a>>1},H.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},H.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function g(a){var x=32;return a&=-a,a&&x--,a&65535&&(x-=16),a&16711935&&(x-=8),a&252645135&&(x-=4),a&858993459&&(x-=2),a&1431655765&&(x-=1),x}H.countTrailingZeros=g,H.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},H.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},H.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var P=new Array(256);(function(a){for(var x=0;x<256;++x){var M=x,v=x,p=7;for(M>>>=1;M;M>>>=1)v<<=1,v|=M&1,--p;a[x]=v<<p&255}})(P),H.reverse=function(a){return P[a&255]<<24|P[a>>>8&255]<<16|P[a>>>16&255]<<8|P[a>>>24&255]},H.interleave2=function(a,x){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,x&=65535,x=(x|x<<8)&16711935,x=(x|x<<4)&252645135,x=(x|x<<2)&858993459,x=(x|x<<1)&1431655765,a|x<<1},H.deinterleave2=function(a,x){return a=a>>>x&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},H.interleave3=function(a,x,M){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,x&=1023,x=(x|x<<16)&4278190335,x=(x|x<<8)&251719695,x=(x|x<<4)&3272356035,x=(x|x<<2)&1227133513,a|=x<<1,M&=1023,M=(M|M<<16)&4278190335,M=(M|M<<8)&251719695,M=(M|M<<4)&3272356035,M=(M|M<<2)&1227133513,a|M<<2},H.deinterleave3=function(a,x){return a=a>>>x&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},H.nextCombination=function(a){var x=a|a-1;return x+1|(~x&-~x)-1>>>g(a)+1}},29620:function(j,H,e){var g=e(32420);j.exports=a;var P=1e20;function a(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,i=p.channel||0,n,u,f,l,y,h,S,c,o,d,w;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,u=p.height,l=v,p.stride?h=p.stride:h=Math.floor(v.length/n/u)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,S=c.getContext("2d"),n=c.width,u=c.height,o=S.getImageData(0,0,n,u),l=o.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,S=v,n=c.width,u=c.height,o=S.getImageData(0,0,n,u),l=o.data,h=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,u=v.height,l=o.data,h=4);if(f=Math.max(n,u),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(y=l,l=Array(n*u),d=0,w=y.length;d<w;d++)l[d]=y[d*h+i]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(n*u),C=Array(n*u),m=Array(f),E=Array(f),b=Array(f+1),s=Array(f);for(d=0,w=n*u;d<w;d++){var L=l[d];A[d]=L===1?0:L===0?P:Math.pow(Math.max(0,.5-L),2),C[d]=L===1?P:L===0?0:Math.pow(Math.max(0,L-.5),2)}x(A,n,u,m,E,s,b),x(C,n,u,m,E,s,b);var T=window.Float32Array?new Float32Array(n*u):new Array(n*u);for(d=0,w=n*u;d<w;d++)T[d]=g(1-((A[d]-C[d])/t+r),0,1);return T}function x(v,p,r,t,i,n,u){for(var f=0;f<p;f++){for(var l=0;l<r;l++)t[l]=v[l*p+f];for(M(t,i,n,u,r),l=0;l<r;l++)v[l*p+f]=i[l]}for(l=0;l<r;l++){for(f=0;f<p;f++)t[f]=v[l*p+f];for(M(t,i,n,u,p),f=0;f<p;f++)v[l*p+f]=Math.sqrt(i[f])}}function M(v,p,r,t,i){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,u=0;n<i;n++){for(var f=(v[n]+n*n-(v[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);f<=t[u];)u--,f=(v[n]+n*n-(v[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);u++,r[u]=n,t[u]=f,t[u+1]=+P}for(n=0,u=0;n<i;n++){for(;t[u+1]<n;)u++;p[n]=(n-r[u])*(n-r[u])+v[r[u]]}}},99676:function(j,H,e){var g=e(53664),P=e(57916),a=P(g("String.prototype.indexOf"));j.exports=function(M,v){var p=g(M,!!v);return typeof p=="function"&&a(M,".prototype.")>-1?P(p):p}},57916:function(j,H,e){var g=e(8844),P=e(53664),a=e(14500),x=P("%TypeError%"),M=P("%Function.prototype.apply%"),v=P("%Function.prototype.call%"),p=P("%Reflect.apply%",!0)||g.call(v,M),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}j.exports=function(u){if(typeof u!="function")throw new x("a function is required");var f=p(g,v,arguments);return a(f,1+t(0,u.length-(arguments.length-1)),!0)};var i=function(){return p(g,M,arguments)};r?r(j.exports,"apply",{value:i}):j.exports.apply=i},32420:function(j){j.exports=H;function H(e,g,P){return g<P?e<g?g:e>P?P:e:e<P?P:e>g?g:e}},3808:function(j,H,e){var g=e(32420);j.exports=P,j.exports.to=P,j.exports.from=a;function P(x,M){M==null&&(M=!0);var v=x[0],p=x[1],r=x[2],t=x[3];t==null&&(t=M?1:255),M&&(v*=255,p*=255,r*=255,t*=255),v=g(v,0,255)&255,p=g(p,0,255)&255,r=g(r,0,255)&255,t=g(t,0,255)&255;var i=v*16777216+(p<<16)+(r<<8)+t;return i}function a(x,M){x=+x;var v=x>>>24,p=(x&16711680)>>>16,r=(x&65280)>>>8,t=x&255;return M===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(j){j.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(j,H,e){var g=e(96824),P=e(32420),a=e(72512);j.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=a(p),t=new r(4),i=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),x(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,i&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(i?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function x(M){return!!(M instanceof Uint8Array||M instanceof Uint8ClampedArray||Array.isArray(M)&&(M[0]>1||M[0]===0)&&(M[1]>1||M[1]===0)&&(M[2]>1||M[2]===0)&&(!M[3]||M[3]>1))}},96824:function(j,H,e){var g=e(95532),P=e(53576),a=e(32420);j.exports=function(M){var v,p=g(M);return p.space?(v=Array(3),v[0]=a(p.values[0],0,255),v[1]=a(p.values[1],0,255),v[2]=a(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(a(p.alpha,0,1)),v):[]}},95532:function(j,H,e){var g=e(17592);j.exports=a;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function a(x){var M,v=[],p=1,r;if(typeof x=="string")if(x=x.toLowerCase(),g[x])v=g[x].slice(),r="rgb";else if(x==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(x)){var t=x.slice(1),i=t.length,n=i<=4;p=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],i===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],i===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(M=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(x)){var u=M[1],f=u==="rgb",t=u.replace(/a$/,"");r=t;var i=t==="cmyk"?4:t==="gray"?1:3;v=M[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,S){if(/%$/.test(h))return S===i?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[S]==="h"){if(/deg$/.test(h))return parseFloat(h);if(P[h]!==void 0)return P[h]}return parseFloat(h)}),u===t&&v.push(1),p=f||v[i]===void 0?1:v[i],v=v.slice(0,i)}else x.length>10&&/[0-9](?:\s|\/)/.test(x)&&(v=x.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=x.match(/([a-z])/ig).join("").toLowerCase());else isNaN(x)?Array.isArray(x)||x.length?(v=[x[0],x[1],x[2]],r="rgb",p=x.length===4?x[3]:1):x instanceof Object&&(x.r!=null||x.red!=null||x.R!=null?(r="rgb",v=[x.r||x.red||x.R||0,x.g||x.green||x.G||0,x.b||x.blue||x.B||0]):(r="hsl",v=[x.h||x.hue||x.H||0,x.s||x.saturation||x.S||0,x.l||x.lightness||x.L||x.b||x.brightness]),p=x.a||x.alpha||x.opacity||1,x.opacity!=null&&(p/=100)):(r="rgb",v=[x>>>16,(x&65280)>>>8,x&255]);return{space:r,values:v,alpha:p}}},53576:function(j,H,e){var g=e(19336);j.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var a=P[0]/360,x=P[1]/100,M=P[2]/100,v,p,r,t,i;if(x===0)return i=M*255,[i,i,i];M<.5?p=M*(1+x):p=M+x-M*x,v=2*M-p,t=[0,0,0];for(var n=0;n<3;n++)r=a+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?i=v+(p-v)*6*r:2*r<1?i=p:3*r<2?i=v+(p-v)*(.6666666666666666-r)*6:i=v,t[n]=i*255;return t}},g.hsl=function(P){var a=P[0]/255,x=P[1]/255,M=P[2]/255,v=Math.min(a,x,M),p=Math.max(a,x,M),r=p-v,t,i,n;return p===v?t=0:a===p?t=(x-M)/r:x===p?t=2+(M-a)/r:M===p&&(t=4+(a-x)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?i=0:n<=.5?i=r/(p+v):i=r/(2-p-v),[t,i*100,n*100]}},19336:function(j){j.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(j){j.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(j,H,e){j.exports={parse:e(46416),stringify:e(49395)}},8744:function(j,H,e){var g=e(30584);j.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||g.indexOf(a)!==-1}}},46416:function(j,H,e){var g=e(92384),P=e(68194),a=e(3748),x=e(2904),M=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;j.exports=i;var t=i.cache={};function i(u){if(typeof u!="string")throw new Error("Font argument must be a string.");if(t[u])return t[u];if(u==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(u)!==-1)return t[u]={system:u};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(u,/\s+/),y;y=l.shift();){if(P.indexOf(y)!==-1)return["style","variant","weight","stretch"].forEach(function(S){f[S]=y}),t[u]=f;if(M.indexOf(y)!==-1){f.style=y;continue}if(y==="normal"||y==="small-caps"){f.variant=y;continue}if(v.indexOf(y)!==-1){f.stretch=y;continue}if(x.indexOf(y)!==-1){f.weight=y;continue}if(r(y)){var h=p(y,"/");if(f.size=h[0],h[1]!=null?f.lineHeight=n(h[1]):l[0]==="/"&&(l.shift(),f.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return f.family=p(l.join(" "),/\s*,\s*/).map(g),t[u]=f}throw new Error("Unknown or unsupported font token: "+y)}throw new Error("Missing required font-size.")}function n(u){var f=parseFloat(u);return f.toString()===u?f:u}},49395:function(j,H,e){var g=e(55616),P=e(8744).isSize,a=u(e(68194)),x=u(e(3748)),M=u(e(2904)),v=u(e(47916)),p=u(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},i={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};j.exports=function(l){if(l=g(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,x),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,M),n(l.stretch,p),l.size==null&&(l.size=i.size),typeof l.size=="number"&&(l.size+="px"),!P)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=i.family),Array.isArray(l.family)&&(l.family.length||(l.family=[i.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var y=[];return y.push(l.style),l.variant!==l.style&&y.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&y.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&y.push(l.stretch),y.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),y.push(l.family),y.filter(Boolean).join(" ")};function n(f,l){if(f&&!l[f]&&!a[f])throw Error("Unknown keyword `"+f+"`");return f}function u(f){for(var l={},y=0;y<f.length;y++)l[f[y]]=1;return l}},27940:function(j,H,e){var g=e(81680),P=e(18496),a=e(87396),x=e(95920),M=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,i;i=function(n,u,f){var l=P(u)&&a(u.value),y;return y=x(u),delete y.writable,delete y.value,y.get=function(){return!f.overwriteDefinition&&t.call(this,n)?l:(u.value=p.call(l,f.resolveContext?f.resolveContext(this):this),r(this,n,u),this[n])},y},j.exports=function(n){var u=M(arguments[1]);return g(u.resolveContext)&&a(u.resolveContext),v(n,function(f,l){return i(l,f,u)})}},21092:function(j,H,e){var g=e(81680),P=e(85488),a=e(38452),x=e(50868),M=e(71056),v=j.exports=function(p,r){var t,i,n,u,f;return arguments.length<2||typeof p!="string"?(u=r,r=p,p=null):u=arguments[2],g(p)?(t=M.call(p,"c"),i=M.call(p,"e"),n=M.call(p,"w")):(t=n=!0,i=!1),f={value:r,configurable:t,enumerable:i,writable:n},u?a(x(u),f):f};v.gs=function(p,r,t){var i,n,u,f;return typeof p!="string"?(u=t,t=r,r=p,p=null):u=arguments[3],g(r)?P(r)?g(t)?P(t)||(u=t,t=void 0):t=void 0:(u=r,r=t=void 0):r=void 0,g(p)?(i=M.call(p,"c"),n=M.call(p,"e")):(i=!0,n=!1),f={get:r,set:t,configurable:i,enumerable:n},u?a(x(u),f):f}},84706:function(j,H,e){e.d(H,{XE:function(){return g},kv:function(){return x},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return i}});function g(n,u){return n<u?-1:n>u?1:n>=u?0:NaN}function P(n){return n.length===1&&(n=a(n)),{left:function(u,f,l,y){for(l==null&&(l=0),y==null&&(y=u.length);l<y;){var h=l+y>>>1;n(u[h],f)<0?l=h+1:y=h}return l},right:function(u,f,l,y){for(l==null&&(l=0),y==null&&(y=u.length);l<y;){var h=l+y>>>1;n(u[h],f)>0?y=h:l=h+1}return l}}}function a(n){return function(u,f){return g(n(u),f)}}P(g);function x(n,u){var f=n.length,l=-1,y,h;if(u==null){for(;++l<f;)if((y=n[l])!=null&&y>=y)for(h=y;++l<f;)(y=n[l])!=null&&y>h&&(h=y)}else for(;++l<f;)if((y=u(n[l],l,n))!=null&&y>=y)for(h=y;++l<f;)(y=u(n[l],l,n))!=null&&y>h&&(h=y);return h}function M(n){return n===null?NaN:+n}function v(n,u){var f=n.length,l=f,y=-1,h,S=0;if(u==null)for(;++y<f;)isNaN(h=M(n[y]))?--l:S+=h;else for(;++y<f;)isNaN(h=M(u(n[y],y,n)))?--l:S+=h;if(l)return S/l}function p(n){for(var u=n.length,f,l=-1,y=0,h,S;++l<u;)y+=n[l].length;for(h=new Array(y);--u>=0;)for(S=n[u],f=S.length;--f>=0;)h[--y]=S[f];return h}function r(n,u){var f=n.length,l=-1,y,h;if(u==null){for(;++l<f;)if((y=n[l])!=null&&y>=y)for(h=y;++l<f;)(y=n[l])!=null&&h>y&&(h=y)}else for(;++l<f;)if((y=u(n[l],l,n))!=null&&y>=y)for(h=y;++l<f;)(y=u(n[l],l,n))!=null&&h>y&&(h=y);return h}function t(n,u,f){n=+n,u=+u,f=(y=arguments.length)<2?(u=n,n=0,1):y<3?1:+f;for(var l=-1,y=Math.max(0,Math.ceil((u-n)/f))|0,h=new Array(y);++l<y;)h[l]=n+l*f;return h}function i(n,u){var f=n.length,l=-1,y,h=0;if(u==null)for(;++l<f;)(y=+n[l])&&(h+=y);else for(;++l<f;)(y=+u(n[l],l,n))&&(h+=y);return h}},34712:function(j,H,e){e.d(H,{kH:function(){return x},UJ:function(){return M}});var g="$";function P(){}P.prototype=a.prototype={constructor:P,has:function(u){return g+u in this},get:function(u){return this[g+u]},set:function(u,f){return this[g+u]=f,this},remove:function(u){var f=g+u;return f in this&&delete this[f]},clear:function(){for(var u in this)u[0]===g&&delete this[u]},keys:function(){var u=[];for(var f in this)f[0]===g&&u.push(f.slice(1));return u},values:function(){var u=[];for(var f in this)f[0]===g&&u.push(this[f]);return u},entries:function(){var u=[];for(var f in this)f[0]===g&&u.push({key:f.slice(1),value:this[f]});return u},size:function(){var u=0;for(var f in this)f[0]===g&&++u;return u},empty:function(){for(var u in this)if(u[0]===g)return!1;return!0},each:function(u){for(var f in this)f[0]===g&&u(this[f],f.slice(1),this)}};function a(u,f){var l=new P;if(u instanceof P)u.each(function(o,d){l.set(d,o)});else if(Array.isArray(u)){var y=-1,h=u.length,S;if(f==null)for(;++y<h;)l.set(y,u[y]);else for(;++y<h;)l.set(f(S=u[y],y,u),S)}else if(u)for(var c in u)l.set(c,u[c]);return l}var x=a;function M(){var u=[],f=[],l,y,h;function S(o,d,w,A){if(d>=u.length)return l!=null&&o.sort(l),y!=null?y(o):o;for(var C=-1,m=o.length,E=u[d++],b,s,L=x(),T,k=w();++C<m;)(T=L.get(b=E(s=o[C])+""))?T.push(s):L.set(b,[s]);return L.each(function(_,B){A(k,B,S(_,d,w,A))}),k}function c(o,d){if(++d>u.length)return o;var w,A=f[d-1];return y!=null&&d>=u.length?w=o.entries():(w=[],o.each(function(C,m){w.push({key:m,values:c(C,d)})})),A!=null?w.sort(function(C,m){return A(C.key,m.key)}):w}return h={object:function(o){return S(o,0,v,p)},map:function(o){return S(o,0,r,t)},entries:function(o){return c(S(o,0,r,t),0)},key:function(o){return u.push(o),h},sortKeys:function(o){return f[u.length-1]=o,h},sortValues:function(o){return l=o,h},rollup:function(o){return y=o,h}}}function v(){return{}}function p(u,f,l){u[f]=l}function r(){return x()}function t(u,f,l){u.set(f,l)}function i(){}var n=x.prototype;i.prototype={constructor:i,has:n.has,add:function(u){return u+="",this[g+u]=u,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(j,H,e){e.r(H),e.d(H,{forceCenter:function(){return g},forceCollide:function(){return L},forceLink:function(){return B},forceManyBody:function(){return Xe},forceRadial:function(){return ut},forceSimulation:function(){return Ne},forceX:function(){return dt},forceY:function(){return at}});function g(We,rt){var st;We==null&&(We=0),rt==null&&(rt=0);function ht(){var vt,At=st.length,et,_e=0,Ve=0;for(vt=0;vt<At;++vt)et=st[vt],_e+=et.x,Ve+=et.y;for(_e=_e/At-We,Ve=Ve/At-rt,vt=0;vt<At;++vt)et=st[vt],et.x-=_e,et.y-=Ve}return ht.initialize=function(vt){st=vt},ht.x=function(vt){return arguments.length?(We=+vt,ht):We},ht.y=function(vt){return arguments.length?(rt=+vt,ht):rt},ht}function P(We){return function(){return We}}function a(){return(Math.random()-.5)*1e-6}function x(We){var rt=+this._x.call(null,We),st=+this._y.call(null,We);return M(this.cover(rt,st),rt,st,We)}function M(We,rt,st,ht){if(isNaN(rt)||isNaN(st))return We;var vt,At=We._root,et={data:ht},_e=We._x0,Ve=We._y0,Ze=We._x1,He=We._y1,Ie,be,me,Me,Te,Oe,Ke,nt;if(!At)return We._root=et,We;for(;At.length;)if((Te=rt>=(Ie=(_e+Ze)/2))?_e=Ie:Ze=Ie,(Oe=st>=(be=(Ve+He)/2))?Ve=be:He=be,vt=At,!(At=At[Ke=Oe<<1|Te]))return vt[Ke]=et,We;if(me=+We._x.call(null,At.data),Me=+We._y.call(null,At.data),rt===me&&st===Me)return et.next=At,vt?vt[Ke]=et:We._root=et,We;do vt=vt?vt[Ke]=new Array(4):We._root=new Array(4),(Te=rt>=(Ie=(_e+Ze)/2))?_e=Ie:Ze=Ie,(Oe=st>=(be=(Ve+He)/2))?Ve=be:He=be;while((Ke=Oe<<1|Te)===(nt=(Me>=be)<<1|me>=Ie));return vt[nt]=At,vt[Ke]=et,We}function v(We){var rt,st,ht=We.length,vt,At,et=new Array(ht),_e=new Array(ht),Ve=1/0,Ze=1/0,He=-1/0,Ie=-1/0;for(st=0;st<ht;++st)isNaN(vt=+this._x.call(null,rt=We[st]))||isNaN(At=+this._y.call(null,rt))||(et[st]=vt,_e[st]=At,vt<Ve&&(Ve=vt),vt>He&&(He=vt),At<Ze&&(Ze=At),At>Ie&&(Ie=At));if(Ve>He||Ze>Ie)return this;for(this.cover(Ve,Ze).cover(He,Ie),st=0;st<ht;++st)M(this,et[st],_e[st],We[st]);return this}function p(We,rt){if(isNaN(We=+We)||isNaN(rt=+rt))return this;var st=this._x0,ht=this._y0,vt=this._x1,At=this._y1;if(isNaN(st))vt=(st=Math.floor(We))+1,At=(ht=Math.floor(rt))+1;else{for(var et=vt-st,_e=this._root,Ve,Ze;st>We||We>=vt||ht>rt||rt>=At;)switch(Ze=(rt<ht)<<1|We<st,Ve=new Array(4),Ve[Ze]=_e,_e=Ve,et*=2,Ze){case 0:vt=st+et,At=ht+et;break;case 1:st=vt-et,At=ht+et;break;case 2:vt=st+et,ht=At-et;break;case 3:st=vt-et,ht=At-et;break}this._root&&this._root.length&&(this._root=_e)}return this._x0=st,this._y0=ht,this._x1=vt,this._y1=At,this}function r(){var We=[];return this.visit(function(rt){if(!rt.length)do We.push(rt.data);while(rt=rt.next)}),We}function t(We){return arguments.length?this.cover(+We[0][0],+We[0][1]).cover(+We[1][0],+We[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function i(We,rt,st,ht,vt){this.node=We,this.x0=rt,this.y0=st,this.x1=ht,this.y1=vt}function n(We,rt,st){var ht,vt=this._x0,At=this._y0,et,_e,Ve,Ze,He=this._x1,Ie=this._y1,be=[],me=this._root,Me,Te;for(me&&be.push(new i(me,vt,At,He,Ie)),st==null?st=1/0:(vt=We-st,At=rt-st,He=We+st,Ie=rt+st,st*=st);Me=be.pop();)if(!(!(me=Me.node)||(et=Me.x0)>He||(_e=Me.y0)>Ie||(Ve=Me.x1)<vt||(Ze=Me.y1)<At))if(me.length){var Oe=(et+Ve)/2,Ke=(_e+Ze)/2;be.push(new i(me[3],Oe,Ke,Ve,Ze),new i(me[2],et,Ke,Oe,Ze),new i(me[1],Oe,_e,Ve,Ke),new i(me[0],et,_e,Oe,Ke)),(Te=(rt>=Ke)<<1|We>=Oe)&&(Me=be[be.length-1],be[be.length-1]=be[be.length-1-Te],be[be.length-1-Te]=Me)}else{var nt=We-+this._x.call(null,me.data),pt=rt-+this._y.call(null,me.data),yt=nt*nt+pt*pt;if(yt<st){var Yt=Math.sqrt(st=yt);vt=We-Yt,At=rt-Yt,He=We+Yt,Ie=rt+Yt,ht=me.data}}return ht}function u(We){if(isNaN(He=+this._x.call(null,We))||isNaN(Ie=+this._y.call(null,We)))return this;var rt,st=this._root,ht,vt,At,et=this._x0,_e=this._y0,Ve=this._x1,Ze=this._y1,He,Ie,be,me,Me,Te,Oe,Ke;if(!st)return this;if(st.length)for(;;){if((Me=He>=(be=(et+Ve)/2))?et=be:Ve=be,(Te=Ie>=(me=(_e+Ze)/2))?_e=me:Ze=me,rt=st,!(st=st[Oe=Te<<1|Me]))return this;if(!st.length)break;(rt[Oe+1&3]||rt[Oe+2&3]||rt[Oe+3&3])&&(ht=rt,Ke=Oe)}for(;st.data!==We;)if(vt=st,!(st=st.next))return this;return(At=st.next)&&delete st.next,vt?(At?vt.next=At:delete vt.next,this):rt?(At?rt[Oe]=At:delete rt[Oe],(st=rt[0]||rt[1]||rt[2]||rt[3])&&st===(rt[3]||rt[2]||rt[1]||rt[0])&&!st.length&&(ht?ht[Ke]=st:this._root=st),this):(this._root=At,this)}function f(We){for(var rt=0,st=We.length;rt<st;++rt)this.remove(We[rt]);return this}function l(){return this._root}function y(){var We=0;return this.visit(function(rt){if(!rt.length)do++We;while(rt=rt.next)}),We}function h(We){var rt=[],st,ht=this._root,vt,At,et,_e,Ve;for(ht&&rt.push(new i(ht,this._x0,this._y0,this._x1,this._y1));st=rt.pop();)if(!We(ht=st.node,At=st.x0,et=st.y0,_e=st.x1,Ve=st.y1)&&ht.length){var Ze=(At+_e)/2,He=(et+Ve)/2;(vt=ht[3])&&rt.push(new i(vt,Ze,He,_e,Ve)),(vt=ht[2])&&rt.push(new i(vt,At,He,Ze,Ve)),(vt=ht[1])&&rt.push(new i(vt,Ze,et,_e,He)),(vt=ht[0])&&rt.push(new i(vt,At,et,Ze,He))}return this}function S(We){var rt=[],st=[],ht;for(this._root&&rt.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));ht=rt.pop();){var vt=ht.node;if(vt.length){var At,et=ht.x0,_e=ht.y0,Ve=ht.x1,Ze=ht.y1,He=(et+Ve)/2,Ie=(_e+Ze)/2;(At=vt[0])&&rt.push(new i(At,et,_e,He,Ie)),(At=vt[1])&&rt.push(new i(At,He,_e,Ve,Ie)),(At=vt[2])&&rt.push(new i(At,et,Ie,He,Ze)),(At=vt[3])&&rt.push(new i(At,He,Ie,Ve,Ze))}st.push(ht)}for(;ht=st.pop();)We(ht.node,ht.x0,ht.y0,ht.x1,ht.y1);return this}function c(We){return We[0]}function o(We){return arguments.length?(this._x=We,this):this._x}function d(We){return We[1]}function w(We){return arguments.length?(this._y=We,this):this._y}function A(We,rt,st){var ht=new C(rt??c,st??d,NaN,NaN,NaN,NaN);return We==null?ht:ht.addAll(We)}function C(We,rt,st,ht,vt,At){this._x=We,this._y=rt,this._x0=st,this._y0=ht,this._x1=vt,this._y1=At,this._root=void 0}function m(We){for(var rt={data:We.data},st=rt;We=We.next;)st=st.next={data:We.data};return rt}var E=A.prototype=C.prototype;E.copy=function(){var We=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),rt=this._root,st,ht;if(!rt)return We;if(!rt.length)return We._root=m(rt),We;for(st=[{source:rt,target:We._root=new Array(4)}];rt=st.pop();)for(var vt=0;vt<4;++vt)(ht=rt.source[vt])&&(ht.length?st.push({source:ht,target:rt.target[vt]=new Array(4)}):rt.target[vt]=m(ht));return We},E.add=x,E.addAll=v,E.cover=p,E.data=r,E.extent=t,E.find=n,E.remove=u,E.removeAll=f,E.root=l,E.size=y,E.visit=h,E.visitAfter=S,E.x=o,E.y=w;function b(We){return We.x+We.vx}function s(We){return We.y+We.vy}function L(We){var rt,st,ht=1,vt=1;typeof We!="function"&&(We=P(We==null?1:+We));function At(){for(var Ve,Ze=rt.length,He,Ie,be,me,Me,Te,Oe=0;Oe<vt;++Oe)for(He=A(rt,b,s).visitAfter(et),Ve=0;Ve<Ze;++Ve)Ie=rt[Ve],Me=st[Ie.index],Te=Me*Me,be=Ie.x+Ie.vx,me=Ie.y+Ie.vy,He.visit(Ke);function Ke(nt,pt,yt,Yt,Xt){var St=nt.data,kt=nt.r,Kt=Me+kt;if(St){if(St.index>Ie.index){var mr=be-St.x-St.vx,mt=me-St.y-St.vy,Zt=mr*mr+mt*mt;Zt<Kt*Kt&&(mr===0&&(mr=a(),Zt+=mr*mr),mt===0&&(mt=a(),Zt+=mt*mt),Zt=(Kt-(Zt=Math.sqrt(Zt)))/Zt*ht,Ie.vx+=(mr*=Zt)*(Kt=(kt*=kt)/(Te+kt)),Ie.vy+=(mt*=Zt)*Kt,St.vx-=mr*(Kt=1-Kt),St.vy-=mt*Kt)}return}return pt>be+Kt||Yt<be-Kt||yt>me+Kt||Xt<me-Kt}}function et(Ve){if(Ve.data)return Ve.r=st[Ve.data.index];for(var Ze=Ve.r=0;Ze<4;++Ze)Ve[Ze]&&Ve[Ze].r>Ve.r&&(Ve.r=Ve[Ze].r)}function _e(){if(rt){var Ve,Ze=rt.length,He;for(st=new Array(Ze),Ve=0;Ve<Ze;++Ve)He=rt[Ve],st[He.index]=+We(He,Ve,rt)}}return At.initialize=function(Ve){rt=Ve,_e()},At.iterations=function(Ve){return arguments.length?(vt=+Ve,At):vt},At.strength=function(Ve){return arguments.length?(ht=+Ve,At):ht},At.radius=function(Ve){return arguments.length?(We=typeof Ve=="function"?Ve:P(+Ve),_e(),At):We},At}var T=e(34712);function k(We){return We.index}function _(We,rt){var st=We.get(rt);if(!st)throw new Error("missing: "+rt);return st}function B(We){var rt=k,st=He,ht,vt=P(30),At,et,_e,Ve,Ze=1;We==null&&(We=[]);function He(Te){return 1/Math.min(_e[Te.source.index],_e[Te.target.index])}function Ie(Te){for(var Oe=0,Ke=We.length;Oe<Ze;++Oe)for(var nt=0,pt,yt,Yt,Xt,St,kt,Kt;nt<Ke;++nt)pt=We[nt],yt=pt.source,Yt=pt.target,Xt=Yt.x+Yt.vx-yt.x-yt.vx||a(),St=Yt.y+Yt.vy-yt.y-yt.vy||a(),kt=Math.sqrt(Xt*Xt+St*St),kt=(kt-At[nt])/kt*Te*ht[nt],Xt*=kt,St*=kt,Yt.vx-=Xt*(Kt=Ve[nt]),Yt.vy-=St*Kt,yt.vx+=Xt*(Kt=1-Kt),yt.vy+=St*Kt}function be(){if(et){var Te,Oe=et.length,Ke=We.length,nt=(0,T.kH)(et,rt),pt;for(Te=0,_e=new Array(Oe);Te<Ke;++Te)pt=We[Te],pt.index=Te,typeof pt.source!="object"&&(pt.source=_(nt,pt.source)),typeof pt.target!="object"&&(pt.target=_(nt,pt.target)),_e[pt.source.index]=(_e[pt.source.index]||0)+1,_e[pt.target.index]=(_e[pt.target.index]||0)+1;for(Te=0,Ve=new Array(Ke);Te<Ke;++Te)pt=We[Te],Ve[Te]=_e[pt.source.index]/(_e[pt.source.index]+_e[pt.target.index]);ht=new Array(Ke),me(),At=new Array(Ke),Me()}}function me(){if(et)for(var Te=0,Oe=We.length;Te<Oe;++Te)ht[Te]=+st(We[Te],Te,We)}function Me(){if(et)for(var Te=0,Oe=We.length;Te<Oe;++Te)At[Te]=+vt(We[Te],Te,We)}return Ie.initialize=function(Te){et=Te,be()},Ie.links=function(Te){return arguments.length?(We=Te,be(),Ie):We},Ie.id=function(Te){return arguments.length?(rt=Te,Ie):rt},Ie.iterations=function(Te){return arguments.length?(Ze=+Te,Ie):Ze},Ie.strength=function(Te){return arguments.length?(st=typeof Te=="function"?Te:P(+Te),me(),Ie):st},Ie.distance=function(Te){return arguments.length?(vt=typeof Te=="function"?Te:P(+Te),Me(),Ie):vt},Ie}var F={value:function(){}};function O(){for(var We=0,rt=arguments.length,st={},ht;We<rt;++We){if(!(ht=arguments[We]+"")||ht in st||/[\s.]/.test(ht))throw new Error("illegal type: "+ht);st[ht]=[]}return new N(st)}function N(We){this._=We}function z(We,rt){return We.trim().split(/^|\s+/).map(function(st){var ht="",vt=st.indexOf(".");if(vt>=0&&(ht=st.slice(vt+1),st=st.slice(0,vt)),st&&!rt.hasOwnProperty(st))throw new Error("unknown type: "+st);return{type:st,name:ht}})}N.prototype=O.prototype={constructor:N,on:function(We,rt){var st=this._,ht=z(We+"",st),vt,At=-1,et=ht.length;if(arguments.length<2){for(;++At<et;)if((vt=(We=ht[At]).type)&&(vt=V(st[vt],We.name)))return vt;return}if(rt!=null&&typeof rt!="function")throw new Error("invalid callback: "+rt);for(;++At<et;)if(vt=(We=ht[At]).type)st[vt]=W(st[vt],We.name,rt);else if(rt==null)for(vt in st)st[vt]=W(st[vt],We.name,null);return this},copy:function(){var We={},rt=this._;for(var st in rt)We[st]=rt[st].slice();return new N(We)},call:function(We,rt){if((vt=arguments.length-2)>0)for(var st=new Array(vt),ht=0,vt,At;ht<vt;++ht)st[ht]=arguments[ht+2];if(!this._.hasOwnProperty(We))throw new Error("unknown type: "+We);for(At=this._[We],ht=0,vt=At.length;ht<vt;++ht)At[ht].value.apply(rt,st)},apply:function(We,rt,st){if(!this._.hasOwnProperty(We))throw new Error("unknown type: "+We);for(var ht=this._[We],vt=0,At=ht.length;vt<At;++vt)ht[vt].value.apply(rt,st)}};function V(We,rt){for(var st=0,ht=We.length,vt;st<ht;++st)if((vt=We[st]).name===rt)return vt.value}function W(We,rt,st){for(var ht=0,vt=We.length;ht<vt;++ht)if(We[ht].name===rt){We[ht]=F,We=We.slice(0,ht).concat(We.slice(ht+1));break}return st!=null&&We.push({name:rt,value:st}),We}var $=O,re=0,ne=0,ue=0,J=1e3,X,oe,Y=0,q=0,se=0,Q=typeof performance=="object"&&performance.now?performance:Date,K=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(We){setTimeout(We,17)};function le(){return q||(K(ie),q=Q.now()+se)}function ie(){q=0}function ce(){this._call=this._time=this._next=null}ce.prototype=ye.prototype={constructor:ce,restart:function(We,rt,st){if(typeof We!="function")throw new TypeError("callback is not a function");st=(st==null?le():+st)+(rt==null?0:+rt),!this._next&&oe!==this&&(oe?oe._next=this:X=this,oe=this),this._call=We,this._time=st,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};function ye(We,rt,st){var ht=new ce;return ht.restart(We,rt,st),ht}function Ce(){le(),++re;for(var We=X,rt;We;)(rt=q-We._time)>=0&&We._call.call(null,rt),We=We._next;--re}function Ae(){q=(Y=Q.now())+se,re=ne=0;try{Ce()}finally{re=0,we(),q=0}}function ke(){var We=Q.now(),rt=We-Y;rt>J&&(se-=rt,Y=We)}function we(){for(var We,rt=X,st,ht=1/0;rt;)rt._call?(ht>rt._time&&(ht=rt._time),We=rt,rt=rt._next):(st=rt._next,rt._next=null,rt=We?We._next=st:X=st);oe=We,Ee(ht)}function Ee(We){if(!re){ne&&(ne=clearTimeout(ne));var rt=We-q;rt>24?(We<1/0&&(ne=setTimeout(Ae,We-Q.now()-se)),ue&&(ue=clearInterval(ue))):(ue||(Y=Q.now(),ue=setInterval(ke,J)),re=1,K(Ae))}}function xe(We){return We.x}function Pe(We){return We.y}var Ue=10,Be=Math.PI*(3-Math.sqrt(5));function Ne(We){var rt,st=1,ht=.001,vt=1-Math.pow(ht,1/300),At=0,et=.6,_e=(0,T.kH)(),Ve=ye(He),Ze=$("tick","end");We==null&&(We=[]);function He(){Ie(),Ze.call("tick",rt),st<ht&&(Ve.stop(),Ze.call("end",rt))}function Ie(Me){var Te,Oe=We.length,Ke;Me===void 0&&(Me=1);for(var nt=0;nt<Me;++nt)for(st+=(At-st)*vt,_e.each(function(pt){pt(st)}),Te=0;Te<Oe;++Te)Ke=We[Te],Ke.fx==null?Ke.x+=Ke.vx*=et:(Ke.x=Ke.fx,Ke.vx=0),Ke.fy==null?Ke.y+=Ke.vy*=et:(Ke.y=Ke.fy,Ke.vy=0);return rt}function be(){for(var Me=0,Te=We.length,Oe;Me<Te;++Me){if(Oe=We[Me],Oe.index=Me,Oe.fx!=null&&(Oe.x=Oe.fx),Oe.fy!=null&&(Oe.y=Oe.fy),isNaN(Oe.x)||isNaN(Oe.y)){var Ke=Ue*Math.sqrt(Me),nt=Me*Be;Oe.x=Ke*Math.cos(nt),Oe.y=Ke*Math.sin(nt)}(isNaN(Oe.vx)||isNaN(Oe.vy))&&(Oe.vx=Oe.vy=0)}}function me(Me){return Me.initialize&&Me.initialize(We),Me}return be(),rt={tick:Ie,restart:function(){return Ve.restart(He),rt},stop:function(){return Ve.stop(),rt},nodes:function(Me){return arguments.length?(We=Me,be(),_e.each(me),rt):We},alpha:function(Me){return arguments.length?(st=+Me,rt):st},alphaMin:function(Me){return arguments.length?(ht=+Me,rt):ht},alphaDecay:function(Me){return arguments.length?(vt=+Me,rt):+vt},alphaTarget:function(Me){return arguments.length?(At=+Me,rt):At},velocityDecay:function(Me){return arguments.length?(et=1-Me,rt):1-et},force:function(Me,Te){return arguments.length>1?(Te==null?_e.remove(Me):_e.set(Me,me(Te)),rt):_e.get(Me)},find:function(Me,Te,Oe){var Ke=0,nt=We.length,pt,yt,Yt,Xt,St;for(Oe==null?Oe=1/0:Oe*=Oe,Ke=0;Ke<nt;++Ke)Xt=We[Ke],pt=Me-Xt.x,yt=Te-Xt.y,Yt=pt*pt+yt*yt,Yt<Oe&&(St=Xt,Oe=Yt);return St},on:function(Me,Te){return arguments.length>1?(Ze.on(Me,Te),rt):Ze.on(Me)}}}function Xe(){var We,rt,st,ht=P(-30),vt,At=1,et=1/0,_e=.81;function Ve(be){var me,Me=We.length,Te=A(We,xe,Pe).visitAfter(He);for(st=be,me=0;me<Me;++me)rt=We[me],Te.visit(Ie)}function Ze(){if(We){var be,me=We.length,Me;for(vt=new Array(me),be=0;be<me;++be)Me=We[be],vt[Me.index]=+ht(Me,be,We)}}function He(be){var me=0,Me,Te,Oe=0,Ke,nt,pt;if(be.length){for(Ke=nt=pt=0;pt<4;++pt)(Me=be[pt])&&(Te=Math.abs(Me.value))&&(me+=Me.value,Oe+=Te,Ke+=Te*Me.x,nt+=Te*Me.y);be.x=Ke/Oe,be.y=nt/Oe}else{Me=be,Me.x=Me.data.x,Me.y=Me.data.y;do me+=vt[Me.data.index];while(Me=Me.next)}be.value=me}function Ie(be,me,Me,Te){if(!be.value)return!0;var Oe=be.x-rt.x,Ke=be.y-rt.y,nt=Te-me,pt=Oe*Oe+Ke*Ke;if(nt*nt/_e<pt)return pt<et&&(Oe===0&&(Oe=a(),pt+=Oe*Oe),Ke===0&&(Ke=a(),pt+=Ke*Ke),pt<At&&(pt=Math.sqrt(At*pt)),rt.vx+=Oe*be.value*st/pt,rt.vy+=Ke*be.value*st/pt),!0;if(be.length||pt>=et)return;(be.data!==rt||be.next)&&(Oe===0&&(Oe=a(),pt+=Oe*Oe),Ke===0&&(Ke=a(),pt+=Ke*Ke),pt<At&&(pt=Math.sqrt(At*pt)));do be.data!==rt&&(nt=vt[be.data.index]*st/pt,rt.vx+=Oe*nt,rt.vy+=Ke*nt);while(be=be.next)}return Ve.initialize=function(be){We=be,Ze()},Ve.strength=function(be){return arguments.length?(ht=typeof be=="function"?be:P(+be),Ze(),Ve):ht},Ve.distanceMin=function(be){return arguments.length?(At=be*be,Ve):Math.sqrt(At)},Ve.distanceMax=function(be){return arguments.length?(et=be*be,Ve):Math.sqrt(et)},Ve.theta=function(be){return arguments.length?(_e=be*be,Ve):Math.sqrt(_e)},Ve}function ut(We,rt,st){var ht,vt=P(.1),At,et;typeof We!="function"&&(We=P(+We)),rt==null&&(rt=0),st==null&&(st=0);function _e(Ze){for(var He=0,Ie=ht.length;He<Ie;++He){var be=ht[He],me=be.x-rt||1e-6,Me=be.y-st||1e-6,Te=Math.sqrt(me*me+Me*Me),Oe=(et[He]-Te)*At[He]*Ze/Te;be.vx+=me*Oe,be.vy+=Me*Oe}}function Ve(){if(ht){var Ze,He=ht.length;for(At=new Array(He),et=new Array(He),Ze=0;Ze<He;++Ze)et[Ze]=+We(ht[Ze],Ze,ht),At[Ze]=isNaN(et[Ze])?0:+vt(ht[Ze],Ze,ht)}}return _e.initialize=function(Ze){ht=Ze,Ve()},_e.strength=function(Ze){return arguments.length?(vt=typeof Ze=="function"?Ze:P(+Ze),Ve(),_e):vt},_e.radius=function(Ze){return arguments.length?(We=typeof Ze=="function"?Ze:P(+Ze),Ve(),_e):We},_e.x=function(Ze){return arguments.length?(rt=+Ze,_e):rt},_e.y=function(Ze){return arguments.length?(st=+Ze,_e):st},_e}function dt(We){var rt=P(.1),st,ht,vt;typeof We!="function"&&(We=P(We==null?0:+We));function At(_e){for(var Ve=0,Ze=st.length,He;Ve<Ze;++Ve)He=st[Ve],He.vx+=(vt[Ve]-He.x)*ht[Ve]*_e}function et(){if(st){var _e,Ve=st.length;for(ht=new Array(Ve),vt=new Array(Ve),_e=0;_e<Ve;++_e)ht[_e]=isNaN(vt[_e]=+We(st[_e],_e,st))?0:+rt(st[_e],_e,st)}}return At.initialize=function(_e){st=_e,et()},At.strength=function(_e){return arguments.length?(rt=typeof _e=="function"?_e:P(+_e),et(),At):rt},At.x=function(_e){return arguments.length?(We=typeof _e=="function"?_e:P(+_e),et(),At):We},At}function at(We){var rt=P(.1),st,ht,vt;typeof We!="function"&&(We=P(We==null?0:+We));function At(_e){for(var Ve=0,Ze=st.length,He;Ve<Ze;++Ve)He=st[Ve],He.vy+=(vt[Ve]-He.y)*ht[Ve]*_e}function et(){if(st){var _e,Ve=st.length;for(ht=new Array(Ve),vt=new Array(Ve),_e=0;_e<Ve;++_e)ht[_e]=isNaN(vt[_e]=+We(st[_e],_e,st))?0:+rt(st[_e],_e,st)}}return At.initialize=function(_e){st=_e,et()},At.strength=function(_e){return arguments.length?(rt=typeof _e=="function"?_e:P(+_e),et(),At):rt},At.y=function(_e){return arguments.length?(We=typeof _e=="function"?_e:P(+_e),et(),At):We},At}},57624:function(j,H,e){e.d(H,{E9:function(){return o},SO:function(){return S}});function g(w){return Math.abs(w=Math.round(w))>=1e21?w.toLocaleString("en").replace(/,/g,""):w.toString(10)}function P(w,A){if((C=(w=A?w.toExponential(A-1):w.toExponential()).indexOf("e"))<0)return null;var C,m=w.slice(0,C);return[m.length>1?m[0]+m.slice(2):m,+w.slice(C+1)]}function a(w){return w=P(Math.abs(w)),w?w[1]:NaN}function x(w,A){return function(C,m){for(var E=C.length,b=[],s=0,L=w[0],T=0;E>0&&L>0&&(T+L+1>m&&(L=Math.max(1,m-T)),b.push(C.substring(E-=L,E+L)),!((T+=L+1)>m));)L=w[s=(s+1)%w.length];return b.reverse().join(A)}}function M(w){return function(A){return A.replace(/[0-9]/g,function(C){return w[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(w){if(!(A=v.exec(w)))throw new Error("invalid format: "+w);var A;return new r({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}p.prototype=r.prototype;function r(w){this.fill=w.fill===void 0?" ":w.fill+"",this.align=w.align===void 0?">":w.align+"",this.sign=w.sign===void 0?"-":w.sign+"",this.symbol=w.symbol===void 0?"":w.symbol+"",this.zero=!!w.zero,this.width=w.width===void 0?void 0:+w.width,this.comma=!!w.comma,this.precision=w.precision===void 0?void 0:+w.precision,this.trim=!!w.trim,this.type=w.type===void 0?"":w.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(w){e:for(var A=w.length,C=1,m=-1,E;C<A;++C)switch(w[C]){case".":m=E=C;break;case"0":m===0&&(m=C),E=C;break;default:if(!+w[C])break e;m>0&&(m=0);break}return m>0?w.slice(0,m)+w.slice(E+1):w}var i;function n(w,A){var C=P(w,A);if(!C)return w+"";var m=C[0],E=C[1],b=E-(i=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,s=m.length;return b===s?m:b>s?m+new Array(b-s+1).join("0"):b>0?m.slice(0,b)+"."+m.slice(b):"0."+new Array(1-b).join("0")+P(w,Math.max(0,A+b-1))[0]}function u(w,A){var C=P(w,A);if(!C)return w+"";var m=C[0],E=C[1];return E<0?"0."+new Array(-E).join("0")+m:m.length>E+1?m.slice(0,E+1)+"."+m.slice(E+1):m+new Array(E-m.length+2).join("0")}var f={"%":function(w,A){return(w*100).toFixed(A)},b:function(w){return Math.round(w).toString(2)},c:function(w){return w+""},d:g,e:function(w,A){return w.toExponential(A)},f:function(w,A){return w.toFixed(A)},g:function(w,A){return w.toPrecision(A)},o:function(w){return Math.round(w).toString(8)},p:function(w,A){return u(w*100,A)},r:u,s:n,X:function(w){return Math.round(w).toString(16).toUpperCase()},x:function(w){return Math.round(w).toString(16)}};function l(w){return w}var y=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function S(w){var A=w.grouping===void 0||w.thousands===void 0?l:x(y.call(w.grouping,Number),w.thousands+""),C=w.currency===void 0?"":w.currency[0]+"",m=w.currency===void 0?"":w.currency[1]+"",E=w.decimal===void 0?".":w.decimal+"",b=w.numerals===void 0?l:M(y.call(w.numerals,String)),s=w.percent===void 0?"%":w.percent+"",L=w.minus===void 0?"-":w.minus+"",T=w.nan===void 0?"NaN":w.nan+"";function k(B){B=p(B);var F=B.fill,O=B.align,N=B.sign,z=B.symbol,V=B.zero,W=B.width,$=B.comma,re=B.precision,ne=B.trim,ue=B.type;ue==="n"?($=!0,ue="g"):f[ue]||(re===void 0&&(re=12),ne=!0,ue="g"),(V||F==="0"&&O==="=")&&(V=!0,F="0",O="=");var J=z==="$"?C:z==="#"&&/[boxX]/.test(ue)?"0"+ue.toLowerCase():"",X=z==="$"?m:/[%p]/.test(ue)?s:"",oe=f[ue],Y=/[defgprs%]/.test(ue);re=re===void 0?6:/[gprs]/.test(ue)?Math.max(1,Math.min(21,re)):Math.max(0,Math.min(20,re));function q(se){var Q=J,K=X,le,ie,ce;if(ue==="c")K=oe(se)+K,se="";else{se=+se;var ye=se<0||1/se<0;if(se=isNaN(se)?T:oe(Math.abs(se),re),ne&&(se=t(se)),ye&&+se==0&&N!=="+"&&(ye=!1),Q=(ye?N==="("?N:L:N==="-"||N==="("?"":N)+Q,K=(ue==="s"?h[8+i/3]:"")+K+(ye&&N==="("?")":""),Y){for(le=-1,ie=se.length;++le<ie;)if(ce=se.charCodeAt(le),48>ce||ce>57){K=(ce===46?E+se.slice(le+1):se.slice(le))+K,se=se.slice(0,le);break}}}$&&!V&&(se=A(se,1/0));var Ce=Q.length+se.length+K.length,Ae=Ce<W?new Array(W-Ce+1).join(F):"";switch($&&V&&(se=A(Ae+se,Ae.length?W-K.length:1/0),Ae=""),O){case"<":se=Q+se+K+Ae;break;case"=":se=Q+Ae+se+K;break;case"^":se=Ae.slice(0,Ce=Ae.length>>1)+Q+se+K+Ae.slice(Ce);break;default:se=Ae+Q+se+K;break}return b(se)}return q.toString=function(){return B+""},q}function _(B,F){var O=k((B=p(B),B.type="f",B)),N=Math.max(-8,Math.min(8,Math.floor(a(F)/3)))*3,z=Math.pow(10,-N),V=h[8+N/3];return function(W){return O(z*W)+V}}return{format:k,formatPrefix:_}}var c,o;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(w){return c=S(w),o=c.format,c.formatPrefix,c}},87108:function(j,H,e){e.r(H),e.d(H,{geoAiry:function(){return V},geoAiryRaw:function(){return z},geoAitoff:function(){return $},geoAitoffRaw:function(){return W},geoArmadillo:function(){return ne},geoArmadilloRaw:function(){return re},geoAugust:function(){return J},geoAugustRaw:function(){return ue},geoBaker:function(){return q},geoBakerRaw:function(){return Y},geoBerghaus:function(){return K},geoBerghausRaw:function(){return Q},geoBertin1953:function(){return we},geoBertin1953Raw:function(){return ke},geoBoggs:function(){return ut},geoBoggsRaw:function(){return Xe},geoBonne:function(){return st},geoBonneRaw:function(){return rt},geoBottomley:function(){return vt},geoBottomleyRaw:function(){return ht},geoBromley:function(){return et},geoBromleyRaw:function(){return At},geoChamberlin:function(){return Te},geoChamberlinAfrica:function(){return Me},geoChamberlinRaw:function(){return be},geoCollignon:function(){return Ke},geoCollignonRaw:function(){return Oe},geoCraig:function(){return pt},geoCraigRaw:function(){return nt},geoCraster:function(){return Xt},geoCrasterRaw:function(){return Yt},geoCylindricalEqualArea:function(){return kt},geoCylindricalEqualAreaRaw:function(){return St},geoCylindricalStereographic:function(){return mr},geoCylindricalStereographicRaw:function(){return Kt},geoEckert1:function(){return Zt},geoEckert1Raw:function(){return mt},geoEckert2:function(){return yr},geoEckert2Raw:function(){return Qt},geoEckert3:function(){return bt},geoEckert3Raw:function(){return sr},geoEckert4:function(){return Tt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return It},geoEckert5Raw:function(){return Ct},geoEckert6:function(){return Vt},geoEckert6Raw:function(){return Dt},geoEisenlohr:function(){return fr},geoEisenlohrRaw:function(){return $t},geoFahey:function(){return Ye},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return zt},geoFoucautRaw:function(){return je},geoFoucautSinusoidal:function(){return Jt},geoFoucautSinusoidalRaw:function(){return Ft},geoGilbert:function(){return hr},geoGingery:function(){return Gr},geoGingeryRaw:function(){return gr},geoGinzburg4:function(){return hn},geoGinzburg4Raw:function(){return _r},geoGinzburg5:function(){return Pn},geoGinzburg5Raw:function(){return nn},geoGinzburg6:function(){return Ar},geoGinzburg6Raw:function(){return Cn},geoGinzburg8:function(){return Wr},geoGinzburg8Raw:function(){return Pr},geoGinzburg9:function(){return on},geoGinzburg9Raw:function(){return Vr},geoGringorten:function(){return aa},geoGringortenQuincuncial:function(){return Vh},geoGringortenRaw:function(){return mn},geoGuyou:function(){return pn},geoGuyouRaw:function(){return Tr},geoHammer:function(){return ye},geoHammerRaw:function(){return ie},geoHammerRetroazimuthal:function(){return Un},geoHammerRetroazimuthalRaw:function(){return An},geoHealpix:function(){return ln},geoHealpixRaw:function(){return Sr},geoHill:function(){return Zr},geoHillRaw:function(){return Cr},geoHomolosine:function(){return Vn},geoHomolosineRaw:function(){return Dn},geoHufnagel:function(){return ma},geoHufnagelRaw:function(){return Nn},geoHyperelliptical:function(){return pi},geoHyperellipticalRaw:function(){return Pa},geoInterrupt:function(){return ao},geoInterruptedBoggs:function(){return Lf},geoInterruptedHomolosine:function(){return qa},geoInterruptedMollweide:function(){return Pf},geoInterruptedMollweideHemispheres:function(){return Mo},geoInterruptedQuarticAuthalic:function(){return Ks},geoInterruptedSinuMollweide:function(){return ef},geoInterruptedSinusoidal:function(){return Bl},geoKavrayskiy7:function(){return Gi},geoKavrayskiy7Raw:function(){return zi},geoLagrange:function(){return io},geoLagrangeRaw:function(){return Ul},geoLarrivee:function(){return gc},geoLarriveeRaw:function(){return Ho},geoLaskowski:function(){return Ch},geoLaskowskiRaw:function(){return Fo},geoLittrow:function(){return qi},geoLittrowRaw:function(){return ms},geoLoximuthal:function(){return Zs},geoLoximuthalRaw:function(){return Rf},geoMiller:function(){return Df},geoMillerRaw:function(){return xs},geoModifiedStereographic:function(){return pl},geoModifiedStereographicAlaska:function(){return If},geoModifiedStereographicGs48:function(){return Ih},geoModifiedStereographicGs50:function(){return _h},geoModifiedStereographicLee:function(){return xc},geoModifiedStereographicMiller:function(){return mc},geoModifiedStereographicRaw:function(){return yc},geoMollweide:function(){return Ue},geoMollweideRaw:function(){return Pe},geoMtFlatPolarParabolic:function(){return bc},geoMtFlatPolarParabolicRaw:function(){return bu},geoMtFlatPolarQuartic:function(){return kh},geoMtFlatPolarQuarticRaw:function(){return ks},geoMtFlatPolarSinusoidal:function(){return wc},geoMtFlatPolarSinusoidalRaw:function(){return rf},geoNaturalEarth:function(){return Tc.c},geoNaturalEarth2:function(){return ts},geoNaturalEarth2Raw:function(){return nf},geoNaturalEarthRaw:function(){return Tc.g},geoNellHammer:function(){return yl},geoNellHammerRaw:function(){return Hl},geoNicolosi:function(){return _f},geoNicolosiRaw:function(){return bs},geoPatterson:function(){return Yl},geoPattersonRaw:function(){return of},geoPeirceQuincuncial:function(){return Lc},geoPierceQuincuncial:function(){return Lc},geoPolyconic:function(){return Oh},geoPolyconicRaw:function(){return sf},geoPolyhedral:function(){return gi},geoPolyhedralButterfly:function(){return Au},geoPolyhedralCollignon:function(){return xl},geoPolyhedralWaterman:function(){return $s},geoProject:function(){return Bh},geoQuantize:function(){return Pc},geoQuincuncial:function(){return zs},geoRectangularPolyconic:function(){return Rc},geoRectangularPolyconicRaw:function(){return Uf},geoRobinson:function(){return Qs},geoRobinsonRaw:function(){return ss},geoSatellite:function(){return bl},geoSatelliteRaw:function(){return cf},geoSinuMollweide:function(){return Rn},geoSinuMollweideRaw:function(){return Tn},geoSinusoidal:function(){return We},geoSinusoidalRaw:function(){return at},geoStitch:function(){return Ru},geoTimes:function(){return Wi},geoTimesRaw:function(){return tl},geoTwoPointAzimuthal:function(){return df},geoTwoPointAzimuthalRaw:function(){return Hf},geoTwoPointAzimuthalUsa:function(){return Tl},geoTwoPointEquidistant:function(){return _c},geoTwoPointEquidistantRaw:function(){return Du},geoTwoPointEquidistantUsa:function(){return Hh},geoVanDerGrinten:function(){return Iu},geoVanDerGrinten2:function(){return kc},geoVanDerGrinten2Raw:function(){return tu},geoVanDerGrinten3:function(){return jh},geoVanDerGrinten3Raw:function(){return rl},geoVanDerGrinten4:function(){return _u},geoVanDerGrinten4Raw:function(){return zo},geoVanDerGrintenRaw:function(){return xo},geoWagner:function(){return nl},geoWagner4:function(){return Fc},geoWagner4Raw:function(){return gf},geoWagner6:function(){return Gf},geoWagner6Raw:function(){return Ou},geoWagner7:function(){return jf},geoWagnerRaw:function(){return Us},geoWiechel:function(){return Wf},geoWiechelRaw:function(){return Al},geoWinkel3:function(){return Oc},geoWinkel3Raw:function(){return zu}});var g=e(87952),P=Math.abs,a=Math.atan,x=Math.atan2,M=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,i=Math.min,n=Math.pow,u=Math.round,f=Math.sign||function($e){return $e>0?1:$e<0?-1:0},l=Math.sin,y=Math.tan,h=1e-6,S=1e-12,c=Math.PI,o=c/2,d=c/4,w=Math.SQRT1_2,A=k(2),C=k(c),m=c*2,E=180/c,b=c/180;function s($e){return $e?$e/Math.sin($e):1}function L($e){return $e>1?o:$e<-1?-o:Math.asin($e)}function T($e){return $e>1?0:$e<-1?c:Math.acos($e)}function k($e){return $e>0?Math.sqrt($e):0}function _($e){return $e=v(2*$e),($e-1)/($e+1)}function B($e){return(v($e)-v(-$e))/2}function F($e){return(v($e)+v(-$e))/2}function O($e){return r($e+k($e*$e+1))}function N($e){return r($e+k($e*$e-1))}function z($e){var ot=y($e/2),xt=2*r(M($e/2))/(ot*ot);function wt(Ot,_t){var Ut=M(Ot),pr=M(_t),wr=l(_t),ir=pr*Ut,Mr=-((1-ir?r((1+ir)/2)/(1-ir):-.5)+xt/(1+ir));return[Mr*pr*l(Ot),Mr*wr]}return wt.invert=function(Ot,_t){var Ut=k(Ot*Ot+_t*_t),pr=-$e/2,wr=50,ir;if(!Ut)return[0,0];do{var Mr=pr/2,kr=M(Mr),Br=l(Mr),rn=Br/kr,bn=-r(P(kr));pr-=ir=(2/rn*bn-xt*rn-Ut)/(-bn/(Br*Br)+1-xt/(2*kr*kr))*(kr<0?.7:1)}while(P(ir)>h&&--wr>0);var In=l(pr);return[x(Ot*In,Ut*M(pr)),L(_t*In/Ut)]},wt}function V(){var $e=o,ot=(0,g.U)(z),xt=ot($e);return xt.radius=function(wt){return arguments.length?ot($e=wt*b):$e*E},xt.scale(179.976).clipAngle(147)}function W($e,ot){var xt=M(ot),wt=s(T(xt*M($e/=2)));return[2*xt*l($e)*wt,l(ot)*wt]}W.invert=function($e,ot){if(!($e*$e+4*ot*ot>c*c+h)){var xt=$e,wt=ot,Ot=25;do{var _t=l(xt),Ut=l(xt/2),pr=M(xt/2),wr=l(wt),ir=M(wt),Mr=l(2*wt),kr=wr*wr,Br=ir*ir,rn=Ut*Ut,bn=1-Br*pr*pr,In=bn?T(ir*pr)*k(_n=1/bn):_n=0,_n,Zn=2*In*ir*Ut-$e,Ra=In*wr-ot,Da=_n*(Br*rn+In*ir*pr*kr),Ia=_n*(.5*_t*Mr-In*2*wr*Ut),za=_n*.25*(Mr*Ut-In*wr*Br*_t),Xa=_n*(kr*pr+In*rn*ir),vi=Ia*za-Xa*Da;if(!vi)break;var Fi=(Ra*Ia-Zn*Xa)/vi,fe=(Zn*za-Ra*Da)/vi;xt-=Fi,wt-=fe}while((P(Fi)>h||P(fe)>h)&&--Ot>0);return[xt,wt]}};function $(){return(0,g.c)(W).scale(152.63)}function re($e){var ot=l($e),xt=M($e),wt=$e>=0?1:-1,Ot=y(wt*$e),_t=(1+ot-xt)/2;function Ut(pr,wr){var ir=M(wr),Mr=M(pr/=2);return[(1+ir)*l(pr),(wt*wr>-x(Mr,Ot)-.001?0:-wt*10)+_t+l(wr)*xt-(1+ir)*ot*Mr]}return Ut.invert=function(pr,wr){var ir=0,Mr=0,kr=50;do{var Br=M(ir),rn=l(ir),bn=M(Mr),In=l(Mr),_n=1+bn,Zn=_n*rn-pr,Ra=_t+In*xt-_n*ot*Br-wr,Da=_n*Br/2,Ia=-rn*In,za=ot*_n*rn/2,Xa=xt*bn+ot*Br*In,vi=Ia*za-Xa*Da,Fi=(Ra*Ia-Zn*Xa)/vi/2,fe=(Zn*za-Ra*Da)/vi;P(fe)>2&&(fe/=2),ir-=Fi,Mr-=fe}while((P(Fi)>h||P(fe)>h)&&--kr>0);return wt*Mr>-x(M(ir),Ot)-.001?[ir*2,Mr]:null},Ut}function ne(){var $e=20*b,ot=$e>=0?1:-1,xt=y(ot*$e),wt=(0,g.U)(re),Ot=wt($e),_t=Ot.stream;return Ot.parallel=function(Ut){return arguments.length?(xt=y((ot=($e=Ut*b)>=0?1:-1)*$e),wt($e)):$e*E},Ot.stream=function(Ut){var pr=Ot.rotate(),wr=_t(Ut),ir=(Ot.rotate([0,0]),_t(Ut)),Mr=Ot.precision();return Ot.rotate(pr),wr.sphere=function(){ir.polygonStart(),ir.lineStart();for(var kr=ot*-180;ot*kr<180;kr+=ot*90)ir.point(kr,ot*90);if($e)for(;ot*(kr-=3*ot*Mr)>=-180;)ir.point(kr,ot*-x(M(kr*b/2),xt)*E);ir.lineEnd(),ir.polygonEnd()},wr},Ot.scale(218.695).center([0,28.0974])}function ue($e,ot){var xt=y(ot/2),wt=k(1-xt*xt),Ot=1+wt*M($e/=2),_t=l($e)*wt/Ot,Ut=xt/Ot,pr=_t*_t,wr=Ut*Ut;return[1.3333333333333333*_t*(3+pr-3*wr),1.3333333333333333*Ut*(3+3*pr-wr)]}ue.invert=function($e,ot){if($e*=.375,ot*=.375,!$e&&P(ot)>1)return null;var xt=$e*$e,wt=ot*ot,Ot=1+xt+wt,_t=k((Ot-k(Ot*Ot-4*ot*ot))/2),Ut=L(_t)/3,pr=_t?N(P(ot/_t))/3:O(P($e))/3,wr=M(Ut),ir=F(pr),Mr=ir*ir-wr*wr;return[f($e)*2*x(B(pr)*wr,.25-Mr),f(ot)*2*x(ir*l(Ut),.25+Mr)]};function J(){return(0,g.c)(ue).scale(66.1603)}var X=k(8),oe=r(1+A);function Y($e,ot){var xt=P(ot);return xt<d?[$e,r(y(d+ot/2))]:[$e*M(xt)*(2*A-1/l(xt)),f(ot)*(2*A*(xt-d)-r(y(xt/2)))]}Y.invert=function($e,ot){if((_t=P(ot))<oe)return[$e,2*a(v(ot))-o];var xt=d,wt=25,Ot,_t;do{var Ut=M(xt/2),pr=y(xt/2);xt-=Ot=(X*(xt-d)-r(pr)-_t)/(X-Ut*Ut/(2*pr))}while(P(Ot)>S&&--wt>0);return[$e/(M(xt)*(X-1/l(xt))),f(ot)*xt]};function q(){return(0,g.c)(Y).scale(112.314)}var se=e(69020);function Q($e){var ot=2*c/$e;function xt(wt,Ot){var _t=(0,se.O)(wt,Ot);if(P(wt)>o){var Ut=x(_t[1],_t[0]),pr=k(_t[0]*_t[0]+_t[1]*_t[1]),wr=ot*u((Ut-o)/ot)+o,ir=x(l(Ut-=wr),2-M(Ut));Ut=wr+L(c/pr*l(ir))-ir,_t[0]=pr*M(Ut),_t[1]=pr*l(Ut)}return _t}return xt.invert=function(wt,Ot){var _t=k(wt*wt+Ot*Ot);if(_t>o){var Ut=x(Ot,wt),pr=ot*u((Ut-o)/ot)+o,wr=Ut>pr?-1:1,ir=_t*M(pr-Ut),Mr=1/y(wr*T((ir-c)/k(c*(c-2*ir)+_t*_t)));Ut=pr+2*a((Mr+wr*k(Mr*Mr-3))/3),wt=_t*M(Ut),Ot=_t*l(Ut)}return se.O.invert(wt,Ot)},xt}function K(){var $e=5,ot=(0,g.U)(Q),xt=ot($e),wt=xt.stream,Ot=.01,_t=-M(Ot*b),Ut=l(Ot*b);return xt.lobes=function(pr){return arguments.length?ot($e=+pr):$e},xt.stream=function(pr){var wr=xt.rotate(),ir=wt(pr),Mr=(xt.rotate([0,0]),wt(pr));return xt.rotate(wr),ir.sphere=function(){Mr.polygonStart(),Mr.lineStart();for(var kr=0,Br=360/$e,rn=2*c/$e,bn=90-180/$e,In=o;kr<$e;++kr,bn-=Br,In-=rn)Mr.point(x(Ut*M(In),_t)*E,L(Ut*l(In))*E),bn<-90?(Mr.point(-90,-180-bn-Ot),Mr.point(-90,-180-bn+Ot)):(Mr.point(90,bn+Ot),Mr.point(90,bn-Ot));Mr.lineEnd(),Mr.polygonEnd()},ir},xt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(54724);function ie($e,ot){if(arguments.length<2&&(ot=$e),ot===1)return le.y;if(ot===1/0)return ce;function xt(wt,Ot){var _t=(0,le.y)(wt/ot,Ot);return _t[0]*=$e,_t}return xt.invert=function(wt,Ot){var _t=le.y.invert(wt/$e,Ot);return _t[0]*=ot,_t},xt}function ce($e,ot){return[$e*M(ot)/M(ot/=2),2*l(ot)]}ce.invert=function($e,ot){var xt=2*L(ot/2);return[$e*M(xt/2)/M(xt),xt]};function ye(){var $e=2,ot=(0,g.U)(ie),xt=ot($e);return xt.coefficient=function(wt){return arguments.length?ot($e=+wt):$e},xt.scale(169.529)}function Ce($e,ot,xt){var wt=100,Ot,_t,Ut;xt=xt===void 0?0:+xt,ot=+ot;do _t=$e(xt),Ut=$e(xt+h),_t===Ut&&(Ut=_t+h),xt-=Ot=-1*h*(_t-ot)/(_t-Ut);while(wt-- >0&&P(Ot)>h);return wt<0?NaN:xt}function Ae($e,ot,xt){return ot===void 0&&(ot=40),xt===void 0&&(xt=S),function(wt,Ot,_t,Ut){var pr,wr,ir;_t=_t===void 0?0:+_t,Ut=Ut===void 0?0:+Ut;for(var Mr=0;Mr<ot;Mr++){var kr=$e(_t,Ut),Br=kr[0]-wt,rn=kr[1]-Ot;if(P(Br)<xt&&P(rn)<xt)break;var bn=Br*Br+rn*rn;if(bn>pr){_t-=wr/=2,Ut-=ir/=2;continue}pr=bn;var In=(_t>0?-1:1)*xt,_n=(Ut>0?-1:1)*xt,Zn=$e(_t+In,Ut),Ra=$e(_t,Ut+_n),Da=(Zn[0]-kr[0])/In,Ia=(Zn[1]-kr[1])/In,za=(Ra[0]-kr[0])/_n,Xa=(Ra[1]-kr[1])/_n,vi=Xa*Da-Ia*za,Fi=(P(vi)<.5?.5:1)/vi;if(wr=(rn*za-Br*Xa)*Fi,ir=(Br*Ia-rn*Da)*Fi,_t+=wr,Ut+=ir,P(wr)<xt&&P(ir)<xt)break}return[_t,Ut]}}function ke(){var $e=ie(1.68,2),ot=1.4,xt=12;function wt(Ot,_t){if(Ot+_t<-ot){var Ut=(Ot-_t+1.6)*(Ot+_t+ot)/8;Ot+=Ut,_t-=.8*Ut*l(_t+c/2)}var pr=$e(Ot,_t),wr=(1-M(Ot*_t))/xt;return pr[1]<0&&(pr[0]*=1+wr),pr[1]>0&&(pr[1]*=1+wr/1.5*pr[0]*pr[0]),pr}return wt.invert=Ae(wt),wt}function we(){return(0,g.c)(ke()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ee($e,ot){var xt=$e*l(ot),wt=30,Ot;do ot-=Ot=(ot+l(ot)-xt)/(1+M(ot));while(P(Ot)>h&&--wt>0);return ot/2}function xe($e,ot,xt){function wt(Ot,_t){return[$e*Ot*M(_t=Ee(xt,_t)),ot*l(_t)]}return wt.invert=function(Ot,_t){return _t=L(_t/ot),[Ot/($e*M(_t)),L((2*_t+l(2*_t))/xt)]},wt}var Pe=xe(A/o,A,c);function Ue(){return(0,g.c)(Pe).scale(169.529)}var Be=2.00276,Ne=1.11072;function Xe($e,ot){var xt=Ee(c,ot);return[Be*$e/(1/M(ot)+Ne/M(xt)),(ot+A*l(xt))/Be]}Xe.invert=function($e,ot){var xt=Be*ot,wt=ot<0?-d:d,Ot=25,_t,Ut;do Ut=xt-A*l(wt),wt-=_t=(l(2*wt)+2*wt-c*l(Ut))/(2*M(2*wt)+2+c*M(Ut)*A*M(wt));while(P(_t)>h&&--Ot>0);return Ut=xt-A*l(wt),[$e*(1/M(Ut)+Ne/M(wt))/Be,Ut]};function ut(){return(0,g.c)(Xe).scale(160.857)}function dt($e){var ot=0,xt=(0,g.U)($e),wt=xt(ot);return wt.parallel=function(Ot){return arguments.length?xt(ot=Ot*b):ot*E},wt}function at($e,ot){return[$e*M(ot),ot]}at.invert=function($e,ot){return[$e/M(ot),ot]};function We(){return(0,g.c)(at).scale(152.63)}function rt($e){if(!$e)return at;var ot=1/y($e);function xt(wt,Ot){var _t=ot+$e-Ot,Ut=_t&&wt*M(Ot)/_t;return[_t*l(Ut),ot-_t*M(Ut)]}return xt.invert=function(wt,Ot){var _t=k(wt*wt+(Ot=ot-Ot)*Ot),Ut=ot+$e-_t;return[_t/M(Ut)*x(wt,Ot),Ut]},xt}function st(){return dt(rt).scale(123.082).center([0,26.1441]).parallel(45)}function ht($e){function ot(xt,wt){var Ot=o-wt,_t=Ot&&xt*$e*l(Ot)/Ot;return[Ot*l(_t)/$e,o-Ot*M(_t)]}return ot.invert=function(xt,wt){var Ot=xt*$e,_t=o-wt,Ut=k(Ot*Ot+_t*_t),pr=x(Ot,_t);return[(Ut?Ut/l(Ut):1)*pr/$e,o-Ut]},ot}function vt(){var $e=.5,ot=(0,g.U)(ht),xt=ot($e);return xt.fraction=function(wt){return arguments.length?ot($e=+wt):$e},xt.scale(158.837)}var At=xe(1,4/c,c);function et(){return(0,g.c)(At).scale(152.63)}var _e=e(24052),Ve=e(92992);function Ze($e,ot,xt,wt,Ot,_t){var Ut=M(_t),pr;if(P($e)>1||P(_t)>1)pr=T(xt*Ot+ot*wt*Ut);else{var wr=l($e/2),ir=l(_t/2);pr=2*L(k(wr*wr+ot*wt*ir*ir))}return P(pr)>h?[pr,x(wt*l(_t),ot*Ot-xt*wt*Ut)]:[0,0]}function He($e,ot,xt){return T(($e*$e+ot*ot-xt*xt)/(2*$e*ot))}function Ie($e){return $e-2*c*p(($e+c)/(2*c))}function be($e,ot,xt){for(var wt=[[$e[0],$e[1],l($e[1]),M($e[1])],[ot[0],ot[1],l(ot[1]),M(ot[1])],[xt[0],xt[1],l(xt[1]),M(xt[1])]],Ot=wt[2],_t,Ut=0;Ut<3;++Ut,Ot=_t)_t=wt[Ut],Ot.v=Ze(_t[1]-Ot[1],Ot[3],Ot[2],_t[3],_t[2],_t[0]-Ot[0]),Ot.point=[0,0];var pr=He(wt[0].v[0],wt[2].v[0],wt[1].v[0]),wr=He(wt[0].v[0],wt[1].v[0],wt[2].v[0]),ir=c-pr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Mr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*M(pr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*l(pr))];function kr(Br,rn){var bn=l(rn),In=M(rn),_n=new Array(3),Zn;for(Zn=0;Zn<3;++Zn){var Ra=wt[Zn];if(_n[Zn]=Ze(rn-Ra[1],Ra[3],Ra[2],In,bn,Br-Ra[0]),!_n[Zn][0])return Ra.point;_n[Zn][1]=Ie(_n[Zn][1]-Ra.v[1])}var Da=Mr.slice();for(Zn=0;Zn<3;++Zn){var Ia=Zn==2?0:Zn+1,za=He(wt[Zn].v[0],_n[Zn][0],_n[Ia][0]);_n[Zn][1]<0&&(za=-za),Zn?Zn==1?(za=wr-za,Da[0]-=_n[Zn][0]*M(za),Da[1]-=_n[Zn][0]*l(za)):(za=ir-za,Da[0]+=_n[Zn][0]*M(za),Da[1]+=_n[Zn][0]*l(za)):(Da[0]+=_n[Zn][0]*M(za),Da[1]-=_n[Zn][0]*l(za))}return Da[0]/=3,Da[1]/=3,Da}return kr}function me($e){return $e[0]*=b,$e[1]*=b,$e}function Me(){return Te([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Te($e,ot,xt){var wt=(0,_e.c)({type:"MultiPoint",coordinates:[$e,ot,xt]}),Ot=[-wt[0],-wt[1]],_t=(0,Ve.c)(Ot),Ut=be(me(_t($e)),me(_t(ot)),me(_t(xt)));Ut.invert=Ae(Ut);var pr=(0,g.c)(Ut).rotate(Ot),wr=pr.center;return delete pr.rotate,pr.center=function(ir){return arguments.length?wr(_t(ir)):_t.invert(wr())},pr.clipAngle(90)}function Oe($e,ot){var xt=k(1-l(ot));return[2/C*$e*xt,C*(1-xt)]}Oe.invert=function($e,ot){var xt=(xt=ot/C-1)*xt;return[xt>0?$e*k(c/xt)/2:0,L(1-xt)]};function Ke(){return(0,g.c)(Oe).scale(95.6464).center([0,30])}function nt($e){var ot=y($e);function xt(wt,Ot){return[wt,(wt?wt/l(wt):1)*(l(Ot)*M(wt)-ot*M(Ot))]}return xt.invert=ot?function(wt,Ot){wt&&(Ot*=l(wt)/wt);var _t=M(wt);return[wt,2*x(k(_t*_t+ot*ot-Ot*Ot)-_t,ot-Ot)]}:function(wt,Ot){return[wt,L(wt?Ot*y(wt)/wt:Ot)]},xt}function pt(){return dt(nt).scale(249.828).clipAngle(90)}var yt=k(3);function Yt($e,ot){return[yt*$e*(2*M(2*ot/3)-1)/C,yt*C*l(ot/3)]}Yt.invert=function($e,ot){var xt=3*L(ot/(yt*C));return[C*$e/(yt*(2*M(2*xt/3)-1)),xt]};function Xt(){return(0,g.c)(Yt).scale(156.19)}function St($e){var ot=M($e);function xt(wt,Ot){return[wt*ot,l(Ot)/ot]}return xt.invert=function(wt,Ot){return[wt/ot,L(Ot*ot)]},xt}function kt(){return dt(St).parallel(38.58).scale(195.044)}function Kt($e){var ot=M($e);function xt(wt,Ot){return[wt*ot,(1+ot)*y(Ot/2)]}return xt.invert=function(wt,Ot){return[wt/ot,a(Ot/(1+ot))*2]},xt}function mr(){return dt(Kt).scale(124.75)}function mt($e,ot){var xt=k(8/(3*c));return[xt*$e*(1-P(ot)/c),xt*ot]}mt.invert=function($e,ot){var xt=k(8/(3*c)),wt=ot/xt;return[$e/(xt*(1-P(wt)/c)),wt]};function Zt(){return(0,g.c)(mt).scale(165.664)}function Qt($e,ot){var xt=k(4-3*l(P(ot)));return[2/k(6*c)*$e*xt,f(ot)*k(2*c/3)*(2-xt)]}Qt.invert=function($e,ot){var xt=2-P(ot)/k(2*c/3);return[$e*k(6*c)/(2*xt),f(ot)*L((4-xt*xt)/3)]};function yr(){return(0,g.c)(Qt).scale(165.664)}function sr($e,ot){var xt=k(c*(4+c));return[2/xt*$e*(1+k(1-4*ot*ot/(c*c))),4/xt*ot]}sr.invert=function($e,ot){var xt=k(c*(4+c))/2;return[$e*xt/(1+k(1-ot*ot*(4+c)/(4*c))),ot*xt/2]};function bt(){return(0,g.c)(sr).scale(180.739)}function lt($e,ot){var xt=(2+o)*l(ot);ot/=2;for(var wt=0,Ot=1/0;wt<10&&P(Ot)>h;wt++){var _t=M(ot);ot-=Ot=(ot+l(ot)*(_t+2)-xt)/(2*_t*(1+_t))}return[2/k(c*(4+c))*$e*(1+M(ot)),2*k(c/(4+c))*l(ot)]}lt.invert=function($e,ot){var xt=ot*k((4+c)/c)/2,wt=L(xt),Ot=M(wt);return[$e/(2/k(c*(4+c))*(1+Ot)),L((wt+xt*(Ot+2))/(2+o))]};function Tt(){return(0,g.c)(lt).scale(180.739)}function Ct($e,ot){return[$e*(1+M(ot))/k(2+c),2*ot/k(2+c)]}Ct.invert=function($e,ot){var xt=k(2+c),wt=ot*xt/2;return[xt*$e/(1+M(wt)),wt]};function It(){return(0,g.c)(Ct).scale(173.044)}function Dt($e,ot){for(var xt=(1+o)*l(ot),wt=0,Ot=1/0;wt<10&&P(Ot)>h;wt++)ot-=Ot=(ot+l(ot)-xt)/(1+M(ot));return xt=k(2+c),[$e*(1+M(ot))/xt,2*ot/xt]}Dt.invert=function($e,ot){var xt=1+o,wt=k(xt/2);return[$e*2*wt/(1+M(ot*=wt)),L((ot+l(ot))/xt)]};function Vt(){return(0,g.c)(Dt).scale(173.044)}var Bt=3+2*A;function $t($e,ot){var xt=l($e/=2),wt=M($e),Ot=k(M(ot)),_t=M(ot/=2),Ut=l(ot)/(_t+A*wt*Ot),pr=k(2/(1+Ut*Ut)),wr=k((A*_t+(wt+xt)*Ot)/(A*_t+(wt-xt)*Ot));return[Bt*(pr*(wr-1/wr)-2*r(wr)),Bt*(pr*Ut*(wr+1/wr)-2*a(Ut))]}$t.invert=function($e,ot){if(!(_t=ue.invert($e/1.2,ot*1.065)))return null;var xt=_t[0],wt=_t[1],Ot=20,_t;$e/=Bt,ot/=Bt;do{var Ut=xt/2,pr=wt/2,wr=l(Ut),ir=M(Ut),Mr=l(pr),kr=M(pr),Br=M(wt),rn=k(Br),bn=Mr/(kr+A*ir*rn),In=bn*bn,_n=k(2/(1+In)),Zn=A*kr+(ir+wr)*rn,Ra=A*kr+(ir-wr)*rn,Da=Zn/Ra,Ia=k(Da),za=Ia-1/Ia,Xa=Ia+1/Ia,vi=_n*za-2*r(Ia)-$e,Fi=_n*bn*Xa-2*a(bn)-ot,fe=Mr&&w*rn*wr*In/Mr,Le=(A*ir*kr+rn)/(2*(kr+A*ir*rn)*(kr+A*ir*rn)*rn),ze=-.5*bn*_n*_n*_n,qe=ze*fe,it=ze*Le,ct=(ct=2*kr+A*rn*(ir-wr))*ct*Ia,Pt=(A*ir*kr*rn+Br)/ct,Mt=-(A*wr*Mr)/(rn*ct),jt=za*qe-2*Pt/Ia+_n*(Pt+Pt/Da),Gt=za*it-2*Mt/Ia+_n*(Mt+Mt/Da),rr=bn*Xa*qe-2*fe/(1+In)+_n*Xa*fe+_n*bn*(Pt-Pt/Da),Lr=bn*Xa*it-2*Le/(1+In)+_n*Xa*Le+_n*bn*(Mt-Mt/Da),Rr=Gt*rr-Lr*jt;if(!Rr)break;var $r=(Fi*Gt-vi*Lr)/Rr,sn=(vi*rr-Fi*jt)/Rr;xt-=$r,wt=t(-o,i(o,wt-sn))}while((P($r)>h||P(sn)>h)&&--Ot>0);return P(P(wt)-o)<h?[0,wt]:Ot&&[xt,wt]};function fr(){return(0,g.c)($t).scale(62.5271)}var cr=M(35*b);function dr($e,ot){var xt=y(ot/2);return[$e*cr*k(1-xt*xt),(1+cr)*xt]}dr.invert=function($e,ot){var xt=ot/(1+cr);return[$e&&$e/(cr*k(1-xt*xt)),2*a(xt)]};function Ye(){return(0,g.c)(dr).scale(137.152)}function je($e,ot){var xt=ot/2,wt=M(xt);return[2*$e/C*M(ot)*wt*wt,C*y(xt)]}je.invert=function($e,ot){var xt=a(ot/C),wt=M(xt),Ot=2*xt;return[$e*C/2/(M(Ot)*wt*wt),Ot]};function zt(){return(0,g.c)(je).scale(135.264)}function Ft($e){var ot=1-$e,xt=_t(c,0)[0]-_t(-c,0)[0],wt=_t(0,o)[1]-_t(0,-o)[1],Ot=k(2*wt/xt);function _t(wr,ir){var Mr=M(ir),kr=l(ir);return[Mr/(ot+$e*Mr)*wr,ot*ir+$e*kr]}function Ut(wr,ir){var Mr=_t(wr,ir);return[Mr[0]*Ot,Mr[1]/Ot]}function pr(wr){return Ut(0,wr)[1]}return Ut.invert=function(wr,ir){var Mr=Ce(pr,ir),kr=wr/Ot*($e+ot/M(Mr));return[kr,Mr]},Ut}function Jt(){var $e=.5,ot=(0,g.U)(Ft),xt=ot($e);return xt.alpha=function(wt){return arguments.length?ot($e=+wt):$e},xt.scale(168.725)}var tr=e(4888),ur=e(69604);function nr($e){return[$e[0]/2,L(y($e[1]/2*b))*E]}function Nt($e){return[$e[0]*2,2*a(l($e[1]*b))*E]}function hr($e){$e==null&&($e=tr.c);var ot=$e(),xt=(0,ur.c)().scale(E).precision(0).clipAngle(null).translate([0,0]);function wt(_t){return ot(nr(_t))}ot.invert&&(wt.invert=function(_t){return Nt(ot.invert(_t))}),wt.stream=function(_t){var Ut=ot.stream(_t),pr=xt.stream({point:function(wr,ir){Ut.point(wr/2,L(y(-ir/2*b))*E)},lineStart:function(){Ut.lineStart()},lineEnd:function(){Ut.lineEnd()},polygonStart:function(){Ut.polygonStart()},polygonEnd:function(){Ut.polygonEnd()}});return pr.sphere=Ut.sphere,pr};function Ot(_t){wt[_t]=function(){return arguments.length?(ot[_t].apply(ot,arguments),wt):ot[_t]()}}return wt.rotate=function(_t){return arguments.length?(xt.rotate(_t),wt):xt.rotate()},wt.center=function(_t){return arguments.length?(ot.center(nr(_t)),wt):Nt(ot.center())},Ot("angle"),Ot("clipAngle"),Ot("clipExtent"),Ot("fitExtent"),Ot("fitHeight"),Ot("fitSize"),Ot("fitWidth"),Ot("scale"),Ot("translate"),Ot("precision"),wt.scale(249.5)}function gr($e,ot){var xt=2*c/ot,wt=$e*$e;function Ot(_t,Ut){var pr=(0,se.O)(_t,Ut),wr=pr[0],ir=pr[1],Mr=wr*wr+ir*ir;if(Mr>wt){var kr=k(Mr),Br=x(ir,wr),rn=xt*u(Br/xt),bn=Br-rn,In=$e*M(bn),_n=($e*l(bn)-bn*l(In))/(o-In),Zn=br(bn,_n),Ra=(c-$e)/vr(Zn,In,c);wr=kr;var Da=50,Ia;do wr-=Ia=($e+vr(Zn,In,wr)*Ra-kr)/(Zn(wr)*Ra);while(P(Ia)>h&&--Da>0);ir=bn*l(wr),wr<o&&(ir-=_n*(wr-o));var za=l(rn),Xa=M(rn);pr[0]=wr*Xa-ir*za,pr[1]=wr*za+ir*Xa}return pr}return Ot.invert=function(_t,Ut){var pr=_t*_t+Ut*Ut;if(pr>wt){var wr=k(pr),ir=x(Ut,_t),Mr=xt*u(ir/xt),kr=ir-Mr;_t=wr*M(kr),Ut=wr*l(kr);for(var Br=_t-o,rn=l(_t),bn=Ut/rn,In=_t<o?1/0:0,_n=10;;){var Zn=$e*l(bn),Ra=$e*M(bn),Da=l(Ra),Ia=o-Ra,za=(Zn-bn*Da)/Ia,Xa=br(bn,za);if(P(In)<S||!--_n)break;bn-=In=(bn*rn-za*Br-Ut)/(rn-Br*2*(Ia*(Ra+bn*Zn*M(Ra)-Da)-Zn*(Zn-bn*Da))/(Ia*Ia))}wr=$e+vr(Xa,Ra,_t)*(c-$e)/vr(Xa,Ra,c),ir=Mr+bn,_t=wr*M(ir),Ut=wr*l(ir)}return se.O.invert(_t,Ut)},Ot}function br($e,ot){return function(xt){var wt=$e*M(xt);return xt<o&&(wt-=ot),k(1+wt*wt)}}function vr($e,ot,xt){for(var wt=50,Ot=(xt-ot)/wt,_t=$e(ot)+$e(xt),Ut=1,pr=ot;Ut<wt;++Ut)_t+=2*$e(pr+=Ot);return _t*.5*Ot}function Gr(){var $e=6,ot=30*b,xt=M(ot),wt=l(ot),Ot=(0,g.U)(gr),_t=Ot(ot,$e),Ut=_t.stream,pr=.01,wr=-M(pr*b),ir=l(pr*b);return _t.radius=function(Mr){return arguments.length?(xt=M(ot=Mr*b),wt=l(ot),Ot(ot,$e)):ot*E},_t.lobes=function(Mr){return arguments.length?Ot(ot,$e=+Mr):$e},_t.stream=function(Mr){var kr=_t.rotate(),Br=Ut(Mr),rn=(_t.rotate([0,0]),Ut(Mr));return _t.rotate(kr),Br.sphere=function(){rn.polygonStart(),rn.lineStart();for(var bn=0,In=2*c/$e,_n=0;bn<$e;++bn,_n-=In)rn.point(x(ir*M(_n),wr)*E,L(ir*l(_n))*E),rn.point(x(wt*M(_n-In/2),xt)*E,L(wt*l(_n-In/2))*E);rn.lineEnd(),rn.polygonEnd()},Br},_t.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Dr($e,ot,xt,wt,Ot,_t,Ut,pr){arguments.length<8&&(pr=0);function wr(ir,Mr){if(!Mr)return[$e*ir/c,0];var kr=Mr*Mr,Br=$e+kr*(ot+kr*(xt+kr*wt)),rn=Mr*(Ot-1+kr*(_t-pr+kr*Ut)),bn=(Br*Br+rn*rn)/(2*rn),In=ir*L(Br/bn)/c;return[bn*l(In),Mr*(1+kr*pr)+bn*(1-M(In))]}return wr.invert=function(ir,Mr){var kr=c*ir/$e,Br=Mr,rn,bn,In=50;do{var _n=Br*Br,Zn=$e+_n*(ot+_n*(xt+_n*wt)),Ra=Br*(Ot-1+_n*(_t-pr+_n*Ut)),Da=Zn*Zn+Ra*Ra,Ia=2*Ra,za=Da/Ia,Xa=za*za,vi=L(Zn/za)/c,Fi=kr*vi,fe=Zn*Zn,Le=(2*ot+_n*(4*xt+_n*6*wt))*Br,ze=Ot+_n*(3*_t+_n*5*Ut),qe=2*(Zn*Le+Ra*(ze-1)),it=2*(ze-1),ct=(qe*Ia-Da*it)/(Ia*Ia),Pt=M(Fi),Mt=l(Fi),jt=za*Pt,Gt=za*Mt,rr=kr/c*(1/k(1-fe/Xa))*(Le*za-Zn*ct)/Xa,Lr=Gt-ir,Rr=Br*(1+_n*pr)+za-jt-Mr,$r=ct*Mt+jt*rr,sn=jt*vi,Ir=1+ct-(ct*Pt-Gt*rr),Ur=Gt*vi,Kr=$r*Ur-Ir*sn;if(!Kr)break;kr-=rn=(Rr*$r-Lr*Ir)/Kr,Br-=bn=(Lr*Ur-Rr*sn)/Kr}while((P(rn)>h||P(bn)>h)&&--In>0);return[kr,Br]},wr}var _r=Dr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function hn(){return(0,g.c)(_r).scale(149.995)}var nn=Dr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Pn(){return(0,g.c)(nn).scale(153.93)}var Cn=Dr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ar(){return(0,g.c)(Cn).scale(130.945)}function Pr($e,ot){var xt=$e*$e,wt=ot*ot;return[$e*(1-.162388*wt)*(.87-952426e-9*xt*xt),ot*(1+wt/12)]}Pr.invert=function($e,ot){var xt=$e,wt=ot,Ot=50,_t;do{var Ut=wt*wt;wt-=_t=(wt*(1+Ut/12)-ot)/(1+Ut/4)}while(P(_t)>h&&--Ot>0);Ot=50,$e/=1-.162388*Ut;do{var pr=(pr=xt*xt)*pr;xt-=_t=(xt*(.87-952426e-9*pr)-$e)/(.87-.00476213*pr)}while(P(_t)>h&&--Ot>0);return[xt,wt]};function Wr(){return(0,g.c)(Pr).scale(131.747)}var Vr=Dr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function on(){return(0,g.c)(Vr).scale(131.087)}function yn($e){var ot=$e(o,0)[0]-$e(-o,0)[0];function xt(wt,Ot){var _t=wt>0?-.5:.5,Ut=$e(wt+_t*c,Ot);return Ut[0]-=_t*ot,Ut}return $e.invert&&(xt.invert=function(wt,Ot){var _t=wt>0?-.5:.5,Ut=$e.invert(wt+_t*ot,Ot),pr=Ut[0]-_t*c;return pr<-c?pr+=2*c:pr>c&&(pr-=2*c),Ut[0]=pr,Ut}),xt}function mn($e,ot){var xt=f($e),wt=f(ot),Ot=M(ot),_t=M($e)*Ot,Ut=l($e)*Ot,pr=l(wt*ot);$e=P(x(Ut,pr)),ot=L(_t),P($e-o)>h&&($e%=o);var wr=Ln($e>c/4?o-$e:$e,ot);return $e>c/4&&(pr=wr[0],wr[0]=-wr[1],wr[1]=-pr),wr[0]*=xt,wr[1]*=-wt,wr}mn.invert=function($e,ot){P($e)>1&&($e=f($e)*2-$e),P(ot)>1&&(ot=f(ot)*2-ot);var xt=f($e),wt=f(ot),Ot=-xt*$e,_t=-wt*ot,Ut=_t/Ot<1,pr=zn(Ut?_t:Ot,Ut?Ot:_t),wr=pr[0],ir=pr[1],Mr=M(ir);return Ut&&(wr=-o-wr),[xt*(x(l(wr)*Mr,-l(ir))+c),wt*L(M(wr)*Mr)]};function Ln($e,ot){if(ot===o)return[0,0];var xt=l(ot),wt=xt*xt,Ot=wt*wt,_t=1+Ot,Ut=1+3*Ot,pr=1-Ot,wr=L(1/k(_t)),ir=pr+wt*_t*wr,Mr=(1-xt)/ir,kr=k(Mr),Br=Mr*_t,rn=k(Br),bn=kr*pr,In,_n;if($e===0)return[0,-(bn+wt*rn)];var Zn=M(ot),Ra=1/Zn,Da=2*xt*Zn,Ia=(-3*wt+wr*Ut)*Da,za=(-ir*Zn-(1-xt)*Ia)/(ir*ir),Xa=.5*za/kr,vi=pr*Xa-2*wt*kr*Da,Fi=wt*_t*za+Mr*Ut*Da,fe=-Ra*Da,Le=-Ra*Fi,ze=-2*Ra*vi,qe=4*$e/c,it;if($e>.222*c||ot<c/4&&$e>.175*c){if(In=(bn+wt*k(Br*(1+Ot)-bn*bn))/(1+Ot),$e>c/4)return[In,In];var ct=In,Pt=.5*In;In=.5*(Pt+ct),_n=50;do{var Mt=k(Br-In*In),jt=In*(ze+fe*Mt)+Le*L(In/rn)-qe;if(!jt)break;jt<0?Pt=In:ct=In,In=.5*(Pt+ct)}while(P(ct-Pt)>h&&--_n>0)}else{In=h,_n=25;do{var Gt=In*In,rr=k(Br-Gt),Lr=ze+fe*rr,Rr=In*Lr+Le*L(In/rn)-qe,$r=Lr+(Le-fe*Gt)/rr;In-=it=rr?Rr/$r:0}while(P(it)>h&&--_n>0)}return[In,-bn-wt*k(Br-In*In)]}function zn($e,ot){for(var xt=0,wt=1,Ot=.5,_t=50;;){var Ut=Ot*Ot,pr=k(Ot),wr=L(1/k(1+Ut)),ir=1-Ut+Ot*(1+Ut)*wr,Mr=(1-pr)/ir,kr=k(Mr),Br=Mr*(1+Ut),rn=kr*(1-Ut),bn=Br-$e*$e,In=k(bn),_n=ot+rn+Ot*In;if(P(wt-xt)<S||--_t===0||_n===0)break;_n>0?xt=Ot:wt=Ot,Ot=.5*(xt+wt)}if(!_t)return null;var Zn=L(pr),Ra=M(Zn),Da=1/Ra,Ia=2*pr*Ra,za=(-3*Ot+wr*(1+3*Ut))*Ia,Xa=(-ir*Ra-(1-pr)*za)/(ir*ir),vi=.5*Xa/kr,Fi=(1-Ut)*vi-2*Ot*kr*Ia,fe=-2*Da*Fi,Le=-Da*Ia,ze=-Da*(Ot*(1+Ut)*Xa+Mr*(1+3*Ut)*Ia);return[c/4*($e*(fe+Le*In)+ze*L($e/k(Br))),Zn]}function aa(){return(0,g.c)(yn(mn)).scale(239.75)}function ha($e,ot,xt){var wt,Ot,_t;return $e?(wt=pa($e,xt),ot?(Ot=pa(ot,1-xt),_t=Ot[1]*Ot[1]+xt*wt[0]*wt[0]*Ot[0]*Ot[0],[[wt[0]*Ot[2]/_t,wt[1]*wt[2]*Ot[0]*Ot[1]/_t],[wt[1]*Ot[1]/_t,-wt[0]*wt[2]*Ot[0]*Ot[2]/_t],[wt[2]*Ot[1]*Ot[2]/_t,-xt*wt[0]*wt[1]*Ot[0]/_t]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(Ot=pa(ot,1-xt),[[0,Ot[0]/Ot[1]],[1/Ot[1],0],[Ot[2]/Ot[1],0]])}function pa($e,ot){var xt,wt,Ot,_t,Ut;if(ot<h)return _t=l($e),wt=M($e),xt=ot*($e-_t*wt)/4,[_t-xt*wt,wt+xt*_t,1-ot*_t*_t/2,$e-xt];if(ot>=1-h)return xt=(1-ot)/4,wt=F($e),_t=_($e),Ot=1/wt,Ut=wt*B($e),[_t+xt*(Ut-$e)/(wt*wt),Ot-xt*_t*Ot*(Ut-$e),Ot+xt*_t*Ot*(Ut+$e),2*a(v($e))-o+xt*(Ut-$e)/wt];var pr=[1,0,0,0,0,0,0,0,0],wr=[k(ot),0,0,0,0,0,0,0,0],ir=0;for(wt=k(1-ot),Ut=1;P(wr[ir]/pr[ir])>h&&ir<8;)xt=pr[ir++],wr[ir]=(xt-wt)/2,pr[ir]=(xt+wt)/2,wt=k(xt*wt),Ut*=2;Ot=Ut*pr[ir]*$e;do _t=wr[ir]*l(wt=Ot)/pr[ir],Ot=(L(_t)+Ot)/2;while(--ir);return[l(Ot),_t=M(Ot),_t/M(Ot-wt),Ot]}function ua($e,ot,xt){var wt=P($e),Ot=P(ot),_t=B(Ot);if(wt){var Ut=1/l(wt),pr=1/(y(wt)*y(wt)),wr=-(pr+xt*(_t*_t*Ut*Ut)-1+xt),ir=(xt-1)*pr,Mr=(-wr+k(wr*wr-4*ir))/2;return[na(a(1/k(Mr)),xt)*f($e),na(a(k((Mr/pr-1)/xt)),1-xt)*f(ot)]}return[0,na(a(_t),1-xt)*f(ot)]}function na($e,ot){if(!ot)return $e;if(ot===1)return r(y($e/2+d));for(var xt=1,wt=k(1-ot),Ot=k(ot),_t=0;P(Ot)>h;_t++){if($e%c){var Ut=a(wt*y($e)/xt);Ut<0&&(Ut+=c),$e+=Ut+~~($e/c)*c}else $e+=$e;Ot=(xt+wt)/2,wt=k(xt*wt),Ot=((xt=Ot)-wt)/2}return $e/(n(2,_t)*xt)}function Tr($e,ot){var xt=(A-1)/(A+1),wt=k(1-xt*xt),Ot=na(o,wt*wt),_t=-1,Ut=r(y(c/4+P(ot)/2)),pr=v(_t*Ut)/k(xt),wr=an(pr*M(_t*$e),pr*l(_t*$e)),ir=ua(wr[0],wr[1],wt*wt);return[-ir[1],(ot>=0?1:-1)*(.5*Ot-ir[0])]}function an($e,ot){var xt=$e*$e,wt=ot+1,Ot=1-xt-ot*ot;return[.5*(($e>=0?o:-o)-x(Ot,2*$e)),-.25*r(Ot*Ot+4*xt)+.5*r(wt*wt+xt)]}function qr($e,ot){var xt=ot[0]*ot[0]+ot[1]*ot[1];return[($e[0]*ot[0]+$e[1]*ot[1])/xt,($e[1]*ot[0]-$e[0]*ot[1])/xt]}Tr.invert=function($e,ot){var xt=(A-1)/(A+1),wt=k(1-xt*xt),Ot=na(o,wt*wt),_t=-1,Ut=ha(.5*Ot-ot,-$e,wt*wt),pr=qr(Ut[0],Ut[1]),wr=x(pr[1],pr[0])/_t;return[wr,2*a(v(.5/_t*r(xt*pr[0]*pr[0]+xt*pr[1]*pr[1])))-o]};function pn(){return(0,g.c)(yn(Tr)).scale(151.496)}var jn=e(61780);function An($e){var ot=l($e),xt=M($e),wt=Sn($e);wt.invert=Sn(-$e);function Ot(_t,Ut){var pr=wt(_t,Ut);_t=pr[0],Ut=pr[1];var wr=l(Ut),ir=M(Ut),Mr=M(_t),kr=T(ot*wr+xt*ir*Mr),Br=l(kr),rn=P(Br)>h?kr/Br:1;return[rn*xt*l(_t),(P(_t)>o?rn:-rn)*(ot*ir-xt*wr*Mr)]}return Ot.invert=function(_t,Ut){var pr=k(_t*_t+Ut*Ut),wr=-l(pr),ir=M(pr),Mr=pr*ir,kr=-Ut*wr,Br=pr*ot,rn=k(Mr*Mr+kr*kr-Br*Br),bn=x(Mr*Br+kr*rn,kr*Br-Mr*rn),In=(pr>o?-1:1)*x(_t*wr,pr*M(bn)*ir+Ut*l(bn)*wr);return wt.invert(In,bn)},Ot}function Sn($e){var ot=l($e),xt=M($e);return function(wt,Ot){var _t=M(Ot),Ut=M(wt)*_t,pr=l(wt)*_t,wr=l(Ot);return[x(pr,Ut*xt-wr*ot),L(wr*xt+Ut*ot)]}}function Un(){var $e=0,ot=(0,g.U)(An),xt=ot($e),wt=xt.rotate,Ot=xt.stream,_t=(0,jn.c)();return xt.parallel=function(Ut){if(!arguments.length)return $e*E;var pr=xt.rotate();return ot($e=Ut*b).rotate(pr)},xt.rotate=function(Ut){return arguments.length?(wt.call(xt,[Ut[0],Ut[1]-$e*E]),_t.center([-Ut[0],-Ut[1]]),xt):(Ut=wt.call(xt),Ut[1]+=$e*E,Ut)},xt.stream=function(Ut){return Ut=Ot(Ut),Ut.sphere=function(){Ut.polygonStart();var pr=.01,wr=_t.radius(90-pr)().coordinates[0],ir=wr.length-1,Mr=-1,kr;for(Ut.lineStart();++Mr<ir;)Ut.point((kr=wr[Mr])[0],kr[1]);for(Ut.lineEnd(),wr=_t.radius(90+pr)().coordinates[0],ir=wr.length-1,Ut.lineStart();--Mr>=0;)Ut.point((kr=wr[Mr])[0],kr[1]);Ut.lineEnd(),Ut.polygonEnd()},Ut},xt.scale(79.4187).parallel(45).clipAngle(179.999)}var $n=e(84706),ya=e(16016),_a=3,Er=L(1-1/_a)*E,zr=St(0);function Sr($e){var ot=Er*b,xt=Oe(c,ot)[0]-Oe(-c,ot)[0],wt=zr(0,ot)[1],Ot=Oe(0,ot)[1],_t=C-Ot,Ut=m/$e,pr=4/m,wr=wt+_t*_t*4/m;function ir(Mr,kr){var Br,rn=P(kr);if(rn>ot){var bn=i($e-1,t(0,p((Mr+c)/Ut)));Mr+=c*($e-1)/$e-bn*Ut,Br=Oe(Mr,rn),Br[0]=Br[0]*m/xt-m*($e-1)/(2*$e)+bn*m/$e,Br[1]=wt+(Br[1]-Ot)*4*_t/m,kr<0&&(Br[1]=-Br[1])}else Br=zr(Mr,kr);return Br[0]*=pr,Br[1]/=wr,Br}return ir.invert=function(Mr,kr){Mr/=pr,kr*=wr;var Br=P(kr);if(Br>wt){var rn=i($e-1,t(0,p((Mr+c)/Ut)));Mr=(Mr+c*($e-1)/$e-rn*Ut)*xt/m;var bn=Oe.invert(Mr,.25*(Br-wt)*m/_t+Ot);return bn[0]-=c*($e-1)/$e-rn*Ut,kr<0&&(bn[1]=-bn[1]),bn}return zr.invert(Mr,kr)},ir}function Nr($e,ot){return[$e,ot&1?90-h:Er]}function wn($e,ot){return[$e,ot&1?-90+h:-Er]}function kn($e){return[$e[0]*(1-h),$e[1]]}function vn($e){var ot=[].concat((0,$n.ik)(-180,180+$e/2,$e).map(Nr),(0,$n.ik)(180,-180-$e/2,-$e).map(wn));return{type:"Polygon",coordinates:[$e===180?ot.map(kn):ot]}}function ln(){var $e=4,ot=(0,g.U)(Sr),xt=ot($e),wt=xt.stream;return xt.lobes=function(Ot){return arguments.length?ot($e=+Ot):$e},xt.stream=function(Ot){var _t=xt.rotate(),Ut=wt(Ot),pr=(xt.rotate([0,0]),wt(Ot));return xt.rotate(_t),Ut.sphere=function(){(0,ya.c)(vn(180/$e),pr)},Ut},xt.scale(239.75)}function Cr($e){var ot=1+$e,xt=l(1/ot),wt=L(xt),Ot=2*k(c/(_t=c+4*wt*ot)),_t,Ut=.5*Ot*(ot+k($e*(2+$e))),pr=$e*$e,wr=ot*ot;function ir(Mr,kr){var Br=1-l(kr),rn,bn;if(Br&&Br<2){var In=o-kr,_n=25,Zn;do{var Ra=l(In),Da=M(In),Ia=wt+x(Ra,ot-Da),za=1+wr-2*ot*Da;In-=Zn=(In-pr*wt-ot*Ra+za*Ia-.5*Br*_t)/(2*ot*Ra*Ia)}while(P(Zn)>S&&--_n>0);rn=Ot*k(za),bn=Mr*Ia/c}else rn=Ot*($e+Br),bn=Mr*wt/c;return[rn*l(bn),Ut-rn*M(bn)]}return ir.invert=function(Mr,kr){var Br=Mr*Mr+(kr-=Ut)*kr,rn=(1+wr-Br/(Ot*Ot))/(2*ot),bn=T(rn),In=l(bn),_n=wt+x(In,ot-rn);return[L(Mr/k(Br))*c/_n,L(1-2*(bn-pr*wt-ot*In+(1+wr-2*ot*rn)*_n)/_t)]},ir}function Zr(){var $e=1,ot=(0,g.U)(Cr),xt=ot($e);return xt.ratio=function(wt){return arguments.length?ot($e=+wt):$e},xt.scale(167.774).center([0,18.67])}var Hr=.7109889596207567,Qr=.0528035274542;function Tn($e,ot){return ot>-Hr?($e=Pe($e,ot),$e[1]+=Qr,$e):at($e,ot)}Tn.invert=function($e,ot){return ot>-Hr?Pe.invert($e,ot-Qr):at.invert($e,ot)};function Rn(){return(0,g.c)(Tn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Dn($e,ot){return P(ot)>Hr?($e=Pe($e,ot),$e[1]-=ot>0?Qr:-Qr,$e):at($e,ot)}Dn.invert=function($e,ot){return P(ot)>Hr?Pe.invert($e,ot+(ot>0?Qr:-Qr)):at.invert($e,ot)};function Vn(){return(0,g.c)(Dn).scale(152.63)}function Nn($e,ot,xt,wt){var Ot=k(4*c/(2*xt+(1+$e-ot/2)*l(2*xt)+($e+ot)/2*l(4*xt)+ot/2*l(6*xt))),_t=k(wt*l(xt)*k((1+$e*M(2*xt)+ot*M(4*xt))/(1+$e+ot))),Ut=xt*wr(1);function pr(kr){return k(1+$e*M(2*kr)+ot*M(4*kr))}function wr(kr){var Br=kr*xt;return(2*Br+(1+$e-ot/2)*l(2*Br)+($e+ot)/2*l(4*Br)+ot/2*l(6*Br))/xt}function ir(kr){return pr(kr)*l(kr)}var Mr=function(kr,Br){var rn=xt*Ce(wr,Ut*l(Br)/xt,Br/c);isNaN(rn)&&(rn=xt*f(Br));var bn=Ot*pr(rn);return[bn*_t*kr/c*M(rn),bn/_t*l(rn)]};return Mr.invert=function(kr,Br){var rn=Ce(ir,Br*_t/Ot);return[kr*c/(M(rn)*Ot*_t*pr(rn)),L(xt*wr(rn/xt)/Ut)]},xt===0&&(Ot=k(wt/c),Mr=function(kr,Br){return[kr*Ot,l(Br)/Ot]},Mr.invert=function(kr,Br){return[kr/Ot,L(Br*Ot)]}),Mr}function ma(){var $e=1,ot=0,xt=45*b,wt=2,Ot=(0,g.U)(Nn),_t=Ot($e,ot,xt,wt);return _t.a=function(Ut){return arguments.length?Ot($e=+Ut,ot,xt,wt):$e},_t.b=function(Ut){return arguments.length?Ot($e,ot=+Ut,xt,wt):ot},_t.psiMax=function(Ut){return arguments.length?Ot($e,ot,xt=+Ut*b,wt):xt*E},_t.ratio=function(Ut){return arguments.length?Ot($e,ot,xt,wt=+Ut):wt},_t.scale(180.739)}function oa($e,ot,xt,wt,Ot,_t,Ut,pr,wr,ir,Mr){if(Mr.nanEncountered)return NaN;var kr,Br,rn,bn,In,_n,Zn,Ra,Da,Ia;if(kr=xt-ot,Br=$e(ot+kr*.25),rn=$e(xt-kr*.25),isNaN(Br)){Mr.nanEncountered=!0;return}if(isNaN(rn)){Mr.nanEncountered=!0;return}return bn=kr*(wt+4*Br+Ot)/12,In=kr*(Ot+4*rn+_t)/12,_n=bn+In,Ia=(_n-Ut)/15,ir>wr?(Mr.maxDepthCount++,_n+Ia):Math.abs(Ia)<pr?_n+Ia:(Zn=ot+kr*.5,Ra=oa($e,ot,Zn,wt,Br,Ot,bn,pr*.5,wr,ir+1,Mr),isNaN(Ra)?(Mr.nanEncountered=!0,NaN):(Da=oa($e,Zn,xt,Ot,rn,_t,In,pr*.5,wr,ir+1,Mr),isNaN(Da)?(Mr.nanEncountered=!0,NaN):Ra+Da))}function ga($e,ot,xt,wt,Ot){var _t={maxDepthCount:0,nanEncountered:!1};wt===void 0&&(wt=1e-8),Ot===void 0&&(Ot=20);var Ut=$e(ot),pr=$e(.5*(ot+xt)),wr=$e(xt),ir=(Ut+4*pr+wr)*(xt-ot)/6,Mr=oa($e,ot,xt,Ut,pr,wr,ir,wt,Ot,1,_t);return Mr}function Pa($e,ot,xt){function wt(rn){return $e+(1-$e)*n(1-n(rn,ot),1/ot)}function Ot(rn){return ga(wt,0,rn,1e-4)}for(var _t=1/Ot(1),Ut=1e3,pr=(1+1e-8)*_t,wr=[],ir=0;ir<=Ut;ir++)wr.push(Ot(ir/Ut)*pr);function Mr(rn){var bn=0,In=Ut,_n=Ut>>1;do wr[_n]>rn?In=_n:bn=_n,_n=bn+In>>1;while(_n>bn);var Zn=wr[_n+1]-wr[_n];return Zn&&(Zn=(rn-wr[_n+1])/Zn),(_n+1+Zn)/Ut}var kr=2*Mr(1)/c*_t/xt,Br=function(rn,bn){var In=Mr(P(l(bn))),_n=wt(In)*rn;return In/=kr,[_n,bn>=0?In:-In]};return Br.invert=function(rn,bn){var In;return bn*=kr,P(bn)<1&&(In=f(bn)*L(Ot(P(bn))*_t)),[rn/wt(P(bn)),In]},Br}function pi(){var $e=0,ot=2.5,xt=1.183136,wt=(0,g.U)(Pa),Ot=wt($e,ot,xt);return Ot.alpha=function(_t){return arguments.length?wt($e=+_t,ot,xt):$e},Ot.k=function(_t){return arguments.length?wt($e,ot=+_t,xt):ot},Ot.gamma=function(_t){return arguments.length?wt($e,ot,xt=+_t):xt},Ot.scale(152.63)}function ri($e,ot){return P($e[0]-ot[0])<h&&P($e[1]-ot[1])<h}function Vo($e,ot){for(var xt=-1,wt=$e.length,Ot=$e[0],_t,Ut,pr,wr=[];++xt<wt;){_t=$e[xt],Ut=(_t[0]-Ot[0])/ot,pr=(_t[1]-Ot[1])/ot;for(var ir=0;ir<ot;++ir)wr.push([Ot[0]+ir*Ut,Ot[1]+ir*pr]);Ot=_t}return wr.push(_t),wr}function ko($e){var ot=[],xt,wt,Ot,_t,Ut,pr,wr,ir=$e[0].length;for(wr=0;wr<ir;++wr)xt=$e[0][wr],wt=xt[0][0],Ot=xt[0][1],_t=xt[1][1],Ut=xt[2][0],pr=xt[2][1],ot.push(Vo([[wt+h,Ot+h],[wt+h,_t-h],[Ut-h,_t-h],[Ut-h,pr+h]],30));for(wr=$e[1].length-1;wr>=0;--wr)xt=$e[1][wr],wt=xt[0][0],Ot=xt[0][1],_t=xt[1][1],Ut=xt[2][0],pr=xt[2][1],ot.push(Vo([[Ut-h,pr-h],[Ut-h,_t+h],[wt+h,_t+h],[wt+h,Ot-h]],30));return{type:"Polygon",coordinates:[(0,$n.Uf)(ot)]}}function ao($e,ot,xt){var wt,Ot;function _t(wr,ir){for(var Mr=ir<0?-1:1,kr=ot[+(ir<0)],Br=0,rn=kr.length-1;Br<rn&&wr>kr[Br][2][0];++Br);var bn=$e(wr-kr[Br][1][0],ir);return bn[0]+=$e(kr[Br][1][0],Mr*ir>Mr*kr[Br][0][1]?kr[Br][0][1]:ir)[0],bn}xt?_t.invert=xt(_t):$e.invert&&(_t.invert=function(wr,ir){for(var Mr=Ot[+(ir<0)],kr=ot[+(ir<0)],Br=0,rn=Mr.length;Br<rn;++Br){var bn=Mr[Br];if(bn[0][0]<=wr&&wr<bn[1][0]&&bn[0][1]<=ir&&ir<bn[1][1]){var In=$e.invert(wr-$e(kr[Br][1][0],0)[0],ir);return In[0]+=kr[Br][1][0],ri(_t(In[0],In[1]),[wr,ir])?In:null}}});var Ut=(0,g.c)(_t),pr=Ut.stream;return Ut.stream=function(wr){var ir=Ut.rotate(),Mr=pr(wr),kr=(Ut.rotate([0,0]),pr(wr));return Ut.rotate(ir),Mr.sphere=function(){(0,ya.c)(wt,kr)},Mr},Ut.lobes=function(wr){return arguments.length?(wt=ko(wr),ot=wr.map(function(ir){return ir.map(function(Mr){return[[Mr[0][0]*b,Mr[0][1]*b],[Mr[1][0]*b,Mr[1][1]*b],[Mr[2][0]*b,Mr[2][1]*b]]})}),Ot=ot.map(function(ir){return ir.map(function(Mr){var kr=$e(Mr[0][0],Mr[0][1])[0],Br=$e(Mr[2][0],Mr[2][1])[0],rn=$e(Mr[1][0],Mr[0][1])[1],bn=$e(Mr[1][0],Mr[1][1])[1],In;return rn>bn&&(In=rn,rn=bn,bn=In),[[kr,rn],[Br,bn]]})}),Ut):ot.map(function(ir){return ir.map(function(Mr){return[[Mr[0][0]*E,Mr[0][1]*E],[Mr[1][0]*E,Mr[1][1]*E],[Mr[2][0]*E,Mr[2][1]*E]]})})},ot!=null&&Ut.lobes(ot),Ut}var zl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Lf(){return ao(Xe,zl).scale(160.857)}var pc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qa(){return ao(Dn,pc).scale(152.63)}var mu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Pf(){return ao(Pe,mu).scale(169.529)}var Qi=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Mo(){return ao(Pe,Qi).scale(169.529).rotate([20,0])}var Nl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function ef(){return ao(Tn,Nl,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var _i=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Bl(){return ao(at,_i).scale(152.63).rotate([-20,0])}function zi($e,ot){return[3/m*$e*k(c*c/3-ot*ot),ot]}zi.invert=function($e,ot){return[m/3*$e/k(c*c/3-ot*ot),ot]};function Gi(){return(0,g.c)(zi).scale(158.837)}function Ul($e){function ot(xt,wt){if(P(P(wt)-o)<h)return[0,wt<0?-2:2];var Ot=l(wt),_t=n((1+Ot)/(1-Ot),$e/2),Ut=.5*(_t+1/_t)+M(xt*=$e);return[2*l(xt)/Ut,(_t-1/_t)/Ut]}return ot.invert=function(xt,wt){var Ot=P(wt);if(P(Ot-2)<h)return xt?null:[0,f(wt)*o];if(Ot>2)return null;xt/=2,wt/=2;var _t=xt*xt,Ut=wt*wt,pr=2*wt/(1+_t+Ut);return pr=n((1+pr)/(1-pr),1/$e),[x(2*xt,1-_t-Ut)/$e,L((pr-1)/(pr+1))]},ot}function io(){var $e=.5,ot=(0,g.U)(Ul),xt=ot($e);return xt.spacing=function(wt){return arguments.length?ot($e=+wt):$e},xt.scale(124.75)}var oo=c/A;function Ho($e,ot){return[$e*(1+k(M(ot)))/2,ot/(M(ot/2)*M($e/6))]}Ho.invert=function($e,ot){var xt=P($e),wt=P(ot),Ot=h,_t=o;wt<oo?_t*=wt/oo:Ot+=6*T(oo/wt);for(var Ut=0;Ut<25;Ut++){var pr=l(_t),wr=k(M(_t)),ir=l(_t/2),Mr=M(_t/2),kr=l(Ot/6),Br=M(Ot/6),rn=.5*Ot*(1+wr)-xt,bn=_t/(Mr*Br)-wt,In=wr?-.25*Ot*pr/wr:0,_n=.5*(1+wr),Zn=(1+.5*_t*ir/Mr)/(Mr*Br),Ra=_t/Mr*(kr/6)/(Br*Br),Da=In*Ra-Zn*_n,Ia=(rn*Ra-bn*_n)/Da,za=(bn*In-rn*Zn)/Da;if(_t-=Ia,Ot-=za,P(Ia)<h&&P(za)<h)break}return[$e<0?-Ot:Ot,ot<0?-_t:_t]};function gc(){return(0,g.c)(Ho).scale(97.2672)}function Fo($e,ot){var xt=$e*$e,wt=ot*ot;return[$e*(.975534+wt*(-.119161+xt*-.0143059+wt*-.0547009)),ot*(1.00384+xt*(.0802894+wt*-.02855+xt*199025e-9)+wt*(.0998909+wt*-.0491032))]}Fo.invert=function($e,ot){var xt=f($e)*c,wt=ot/2,Ot=50;do{var _t=xt*xt,Ut=wt*wt,pr=xt*wt,wr=xt*(.975534+Ut*(-.119161+_t*-.0143059+Ut*-.0547009))-$e,ir=wt*(1.00384+_t*(.0802894+Ut*-.02855+_t*199025e-9)+Ut*(.0998909+Ut*-.0491032))-ot,Mr=.975534-Ut*(.119161+3*_t*.0143059+Ut*.0547009),kr=-pr*(2*.119161+4*.0547009*Ut+2*.0143059*_t),Br=pr*(2*.0802894+4*199025e-9*_t+2*-.02855*Ut),rn=1.00384+_t*(.0802894+199025e-9*_t)+Ut*(3*(.0998909-.02855*_t)-5*.0491032*Ut),bn=kr*Br-rn*Mr,In=(ir*kr-wr*rn)/bn,_n=(wr*Br-ir*Mr)/bn;xt-=In,wt-=_n}while((P(In)>h||P(_n)>h)&&--Ot>0);return Ot&&[xt,wt]};function Ch(){return(0,g.c)(Fo).scale(139.98)}function ms($e,ot){return[l($e)/M(ot),y(ot)*M($e)]}ms.invert=function($e,ot){var xt=$e*$e,wt=ot*ot,Ot=wt+1,_t=xt+Ot,Ut=$e?w*k((_t-k(_t*_t-4*xt))/xt):1/k(Ot);return[L($e*Ut),f(ot)*T(Ut)]};function qi(){return(0,g.c)(ms).scale(144.049).clipAngle(89.999)}function Rf($e){var ot=M($e),xt=y(d+$e/2);function wt(Ot,_t){var Ut=_t-$e,pr=P(Ut)<h?Ot*ot:P(pr=d+_t/2)<h||P(P(pr)-o)<h?0:Ot*Ut/r(y(pr)/xt);return[pr,Ut]}return wt.invert=function(Ot,_t){var Ut,pr=_t+$e;return[P(_t)<h?Ot/ot:P(Ut=d+pr/2)<h||P(P(Ut)-o)<h?0:Ot*r(y(Ut)/xt)/_t,pr]},wt}function Zs(){return dt(Rf).parallel(40).scale(158.837)}function xs($e,ot){return[$e,1.25*r(y(d+.4*ot))]}xs.invert=function($e,ot){return[$e,2.5*a(v(.8*ot))-.625*c]};function Df(){return(0,g.c)(xs).scale(108.318)}function yc($e){var ot=$e.length-1;function xt(wt,Ot){for(var _t=M(Ot),Ut=2/(1+_t*M(wt)),pr=Ut*_t*l(wt),wr=Ut*l(Ot),ir=ot,Mr=$e[ir],kr=Mr[0],Br=Mr[1],rn;--ir>=0;)Mr=$e[ir],kr=Mr[0]+pr*(rn=kr)-wr*Br,Br=Mr[1]+pr*Br+wr*rn;return kr=pr*(rn=kr)-wr*Br,Br=pr*Br+wr*rn,[kr,Br]}return xt.invert=function(wt,Ot){var _t=20,Ut=wt,pr=Ot;do{for(var wr=ot,ir=$e[wr],Mr=ir[0],kr=ir[1],Br=0,rn=0,bn;--wr>=0;)ir=$e[wr],Br=Mr+Ut*(bn=Br)-pr*rn,rn=kr+Ut*rn+pr*bn,Mr=ir[0]+Ut*(bn=Mr)-pr*kr,kr=ir[1]+Ut*kr+pr*bn;Br=Mr+Ut*(bn=Br)-pr*rn,rn=kr+Ut*rn+pr*bn,Mr=Ut*(bn=Mr)-pr*kr-wt,kr=Ut*kr+pr*bn-Ot;var In=Br*Br+rn*rn,_n,Zn;Ut-=_n=(Mr*Br+kr*rn)/In,pr-=Zn=(kr*Br-Mr*rn)/In}while(P(_n)+P(Zn)>h*h&&--_t>0);if(_t){var Ra=k(Ut*Ut+pr*pr),Da=2*a(Ra*.5),Ia=l(Da);return[x(Ut*Ia,Ra*M(Da)),Ra?L(pr*Ia/Ra):0]}},xt}var Lh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],tf=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ph=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Rh=[[.9245,0],[0,0],[.01943,0]],Dh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function If(){return pl(Lh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Ih(){return pl(tf,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function _h(){return pl(Ph,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function mc(){return pl(Rh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function xc(){return pl(Dh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function pl($e,ot){var xt=(0,g.c)(yc($e)).rotate(ot).clipAngle(90),wt=(0,Ve.c)(ot),Ot=xt.center;return delete xt.rotate,xt.center=function(_t){return arguments.length?Ot(wt(_t)):wt.invert(Ot())},xt}var Vl=k(6),xu=k(7);function bu($e,ot){var xt=L(7*l(ot)/(3*Vl));return[Vl*$e*(2*M(2*xt/3)-1)/xu,9*l(xt/3)/xu]}bu.invert=function($e,ot){var xt=3*L(ot*xu/9);return[$e*xu/(Vl*(2*M(2*xt/3)-1)),L(l(xt)*3*Vl/7)]};function bc(){return(0,g.c)(bu).scale(164.859)}function ks($e,ot){for(var xt=(1+w)*l(ot),wt=ot,Ot=0,_t;Ot<25&&(wt-=_t=(l(wt/2)+l(wt)-xt)/(.5*M(wt/2)+M(wt)),!(P(_t)<h));Ot++);return[$e*(1+2*M(wt)/M(wt/2))/(3*A),2*k(3)*l(wt/2)/k(2+A)]}ks.invert=function($e,ot){var xt=ot*k(2+A)/(2*k(3)),wt=2*L(xt);return[3*A*$e/(1+2*M(wt)/M(wt/2)),L((xt+l(wt))/(1+w))]};function kh(){return(0,g.c)(ks).scale(188.209)}function rf($e,ot){for(var xt=k(6/(4+c)),wt=(1+c/4)*l(ot),Ot=ot/2,_t=0,Ut;_t<25&&(Ot-=Ut=(Ot/2+l(Ot)-wt)/(.5+M(Ot)),!(P(Ut)<h));_t++);return[xt*(.5+M(Ot))*$e/1.5,xt*Ot]}rf.invert=function($e,ot){var xt=k(6/(4+c)),wt=ot/xt;return P(P(wt)-o)<h&&(wt=wt<0?-o:o),[1.5*$e/(xt*(.5+M(wt))),L((wt/2+l(wt))/(1+c/4))]};function wc(){return(0,g.c)(rf).scale(166.518)}var Tc=e(47984);function nf($e,ot){var xt=ot*ot,wt=xt*xt,Ot=xt*wt;return[$e*(.84719-.13063*xt+Ot*Ot*(-.04515+.05494*xt-.02326*wt+.00331*Ot)),ot*(1.01183+wt*wt*(-.02625+.01926*xt-.00396*wt))]}nf.invert=function($e,ot){var xt=ot,wt=25,Ot,_t,Ut,pr;do _t=xt*xt,Ut=_t*_t,xt-=Ot=(xt*(1.01183+Ut*Ut*(-.02625+.01926*_t-.00396*Ut))-ot)/(1.01183+Ut*Ut*(-.23625+.21186*_t+-.05148*Ut));while(P(Ot)>S&&--wt>0);return _t=xt*xt,Ut=_t*_t,pr=_t*Ut,[$e/(.84719-.13063*_t+pr*pr*(-.04515+.05494*_t-.02326*Ut+.00331*pr)),xt]};function ts(){return(0,g.c)(nf).scale(175.295)}function Hl($e,ot){return[$e*(1+M(ot))/2,2*(ot-y(ot/2))]}Hl.invert=function($e,ot){for(var xt=ot/2,wt=0,Ot=1/0;wt<10&&P(Ot)>h;++wt){var _t=M(ot/2);ot-=Ot=(ot-y(ot/2)-xt)/(1-.5/(_t*_t))}return[2*$e/(1+M(ot)),ot]};function yl(){return(0,g.c)(Hl).scale(152.63)}var wu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ks(){return ao(ie(1/0),wu).rotate([20,0]).scale(152.63)}function bs($e,ot){var xt=l(ot),wt=M(ot),Ot=f($e);if($e===0||P(ot)===o)return[0,ot];if(ot===0)return[$e,0];if(P($e)===o)return[$e*wt,o*xt];var _t=c/(2*$e)-2*$e/c,Ut=2*ot/c,pr=(1-Ut*Ut)/(xt-Ut),wr=_t*_t,ir=pr*pr,Mr=1+wr/ir,kr=1+ir/wr,Br=(_t*xt/pr-_t/2)/Mr,rn=(ir*xt/wr+pr/2)/kr,bn=Br*Br+wt*wt/Mr,In=rn*rn-(ir*xt*xt/wr+pr*xt-1)/kr;return[o*(Br+k(bn)*Ot),o*(rn+k(In<0?0:In)*f(-ot*_t)*Ot)]}bs.invert=function($e,ot){$e/=o,ot/=o;var xt=$e*$e,wt=ot*ot,Ot=xt+wt,_t=c*c;return[$e?(Ot-1+k((1-Ot)*(1-Ot)+4*xt))/(2*$e)*o:0,Ce(function(Ut){return Ot*(c*l(Ut)-2*Ut)*c+4*Ut*Ut*(ot-l(Ut))+2*c*Ut-_t*ot},0)]};function _f(){return(0,g.c)(bs).scale(127.267)}var jl=1.0148,rs=.23185,Pi=-.14499,kf=.02406,Fh=jl,af=5*rs,Gl=7*Pi,Wl=9*kf,Oo=1.790857183;function of($e,ot){var xt=ot*ot;return[$e,ot*(jl+xt*xt*(rs+xt*(Pi+kf*xt)))]}of.invert=function($e,ot){ot>Oo?ot=Oo:ot<-Oo&&(ot=-Oo);var xt=ot,wt;do{var Ot=xt*xt;xt-=wt=(xt*(jl+Ot*Ot*(rs+Ot*(Pi+kf*Ot)))-ot)/(Fh+Ot*Ot*(af+Ot*(Gl+Wl*Ot)))}while(P(wt)>h);return[$e,xt]};function Yl(){return(0,g.c)(of).scale(139.319)}function sf($e,ot){if(P(ot)<h)return[$e,0];var xt=y(ot),wt=$e*l(ot);return[l(wt)/xt,ot+(1-M(wt))/xt]}sf.invert=function($e,ot){if(P(ot)<h)return[$e,0];var xt=$e*$e+ot*ot,wt=ot*.5,Ot=10,_t;do{var Ut=y(wt),pr=1/M(wt),wr=xt-2*ot*wt+wt*wt;wt-=_t=(Ut*wr+2*(wt-ot))/(2+wr*pr*pr+2*(wt-ot)*Ut)}while(P(_t)>h&&--Ot>0);return Ut=y(wt),[(P(ot)<P(wt+1/Ut)?L($e*Ut):f(ot)*f($e)*(T(P($e*Ut))+o))/l(wt),wt]};function Oh(){return(0,g.c)(sf).scale(103.74)}var Ac=e(13696),Ff=e(27284);function Of($e,ot){var xt=lf($e[1],$e[0]),wt=lf(ot[1],ot[0]),Ot=uf(xt,wt),_t=Tu(xt)/Tu(wt);return Xl([1,0,$e[0][0],0,1,$e[0][1]],Xl([_t,0,0,0,_t,0],Xl([M(Ot),l(Ot),0,-l(Ot),M(Ot),0],[1,0,-ot[0][0],0,1,-ot[0][1]])))}function zf($e){var ot=1/($e[0]*$e[4]-$e[1]*$e[3]);return[ot*$e[4],-ot*$e[1],ot*($e[1]*$e[5]-$e[2]*$e[4]),-ot*$e[3],ot*$e[0],ot*($e[2]*$e[3]-$e[0]*$e[5])]}function Xl($e,ot){return[$e[0]*ot[0]+$e[1]*ot[3],$e[0]*ot[1]+$e[1]*ot[4],$e[0]*ot[2]+$e[1]*ot[5]+$e[2],$e[3]*ot[0]+$e[4]*ot[3],$e[3]*ot[1]+$e[4]*ot[4],$e[3]*ot[2]+$e[4]*ot[5]+$e[5]]}function lf($e,ot){return[$e[0]-ot[0],$e[1]-ot[1]]}function Tu($e){return k($e[0]*$e[0]+$e[1]*$e[1])}function uf($e,ot){return x($e[0]*ot[1]-$e[1]*ot[0],$e[0]*ot[0]+$e[1]*ot[1])}function gi($e,ot,xt){wt($e,{transform:null});function wt(ir,Mr){if(ir.edges=Nf(ir.face),Mr.face){var kr=ir.shared=Mc(ir.face,Mr.face),Br=Of(kr.map(Mr.project),kr.map(ir.project));ir.transform=Mr.transform?Xl(Mr.transform,Br):Br;for(var rn=Mr.edges,bn=0,In=rn.length;bn<In;++bn)ns(kr[0],rn[bn][1])&&ns(kr[1],rn[bn][0])&&(rn[bn]=ir),ns(kr[0],rn[bn][0])&&ns(kr[1],rn[bn][1])&&(rn[bn]=ir);for(rn=ir.edges,bn=0,In=rn.length;bn<In;++bn)ns(kr[0],rn[bn][0])&&ns(kr[1],rn[bn][1])&&(rn[bn]=Mr),ns(kr[0],rn[bn][1])&&ns(kr[1],rn[bn][0])&&(rn[bn]=Mr)}else ir.transform=Mr.transform;return ir.children&&ir.children.forEach(function(_n){wt(_n,ir)}),ir}function Ot(ir,Mr){var kr=ot(ir,Mr),Br=kr.project([ir*E,Mr*E]),rn;return(rn=kr.transform)?[rn[0]*Br[0]+rn[1]*Br[1]+rn[2],-(rn[3]*Br[0]+rn[4]*Br[1]+rn[5])]:(Br[1]=-Br[1],Br)}ml($e)&&(Ot.invert=function(ir,Mr){var kr=_t($e,[ir,-Mr]);return kr&&(kr[0]*=b,kr[1]*=b,kr)});function _t(ir,Mr){var kr=ir.project.invert,Br=ir.transform,rn=Mr;if(Br&&(Br=zf(Br),rn=[Br[0]*rn[0]+Br[1]*rn[1]+Br[2],Br[3]*rn[0]+Br[4]*rn[1]+Br[5]]),kr&&ir===Ut(bn=kr(rn)))return bn;for(var bn,In=ir.children,_n=0,Zn=In&&In.length;_n<Zn;++_n)if(bn=_t(In[_n],Mr))return bn}function Ut(ir){return ot(ir[0]*b,ir[1]*b)}var pr=(0,g.c)(Ot),wr=pr.stream;return pr.stream=function(ir){var Mr=pr.rotate(),kr=wr(ir),Br=(pr.rotate([0,0]),wr(ir));return pr.rotate(Mr),kr.sphere=function(){Br.polygonStart(),Br.lineStart(),Sc(Br,$e),Br.lineEnd(),Br.polygonEnd()},kr},pr.angle(xt==null?-30:xt*E)}function Sc($e,ot,xt){var wt,Ot=ot.edges,_t=Ot.length,Ut,pr={type:"MultiPoint",coordinates:ot.face},wr=ot.face.filter(function(In){return P(In[1])!==90}),ir=(0,Ac.c)({type:"MultiPoint",coordinates:wr}),Mr=!1,kr=-1,Br=ir[1][0]-ir[0][0],rn=Br===180||Br===360?[(ir[0][0]+ir[1][0])/2,(ir[0][1]+ir[1][1])/2]:(0,_e.c)(pr);if(xt)for(;++kr<_t&&Ot[kr]!==xt;);++kr;for(var bn=0;bn<_t;++bn)Ut=Ot[(bn+kr)%_t],Array.isArray(Ut)?(Mr||($e.point((wt=(0,Ff.c)(Ut[0],rn)(h))[0],wt[1]),Mr=!0),$e.point((wt=(0,Ff.c)(Ut[1],rn)(h))[0],wt[1])):(Mr=!1,Ut!==xt&&Sc($e,Ut,ot))}function ns($e,ot){return $e&&ot&&$e[0]===ot[0]&&$e[1]===ot[1]}function Mc($e,ot){for(var xt,wt,Ot=$e.length,_t=null,Ut=0;Ut<Ot;++Ut){xt=$e[Ut];for(var pr=ot.length;--pr>=0;)if(wt=ot[pr],xt[0]===wt[0]&&xt[1]===wt[1]){if(_t)return[_t,xt];_t=xt}}}function Nf($e){for(var ot=$e.length,xt=[],wt=$e[ot-1],Ot=0;Ot<ot;++Ot)xt.push([wt,wt=$e[Ot]]);return xt}function ml($e){return $e.project.invert||$e.children&&$e.children.some(ml)}var Js=e(53285),ff=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ki=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function($e){return $e.map(function(ot){return ff[ot]})});function Au($e){$e=$e||function(xt){var wt=(0,_e.c)({type:"MultiPoint",coordinates:xt});return(0,Js.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var ot=ki.map(function(xt){return{face:xt,project:$e(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,wt){var Ot=ot[xt];Ot&&(Ot.children||(Ot.children=[])).push(ot[wt])}),gi(ot[0],function(xt,wt){return ot[xt<-c/2?wt<0?6:4:xt<0?wt<0?2:0:xt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var as=2/k(3);function Fs($e,ot){var xt=Oe($e,ot);return[xt[0]*as,xt[1]]}Fs.invert=function($e,ot){return Oe.invert($e/as,ot)};function xl($e){$e=$e||function(xt){var wt=(0,_e.c)({type:"MultiPoint",coordinates:xt});return(0,g.c)(Fs).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var ot=ki.map(function(xt){return{face:xt,project:$e(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,wt){var Ot=ot[xt];Ot&&(Ot.children||(Ot.children=[])).push(ot[wt])}),gi(ot[0],function(xt,wt){return ot[xt<-c/2?wt<0?6:4:xt<0?wt<0?2:0:xt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function $s($e){$e=$e||function(Ut){var pr=Ut.length===6?(0,_e.c)({type:"MultiPoint",coordinates:Ut}):Ut[0];return(0,Js.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var ot=ki.map(function(Ut){for(var pr=Ut.map(Xo),wr=pr.length,ir=pr[wr-1],Mr,kr=[],Br=0;Br<wr;++Br)Mr=pr[Br],kr.push(os([ir[0]*.9486832980505138+Mr[0]*.31622776601683794,ir[1]*.9486832980505138+Mr[1]*.31622776601683794,ir[2]*.9486832980505138+Mr[2]*.31622776601683794]),os([Mr[0]*.9486832980505138+ir[0]*.31622776601683794,Mr[1]*.9486832980505138+ir[1]*.31622776601683794,Mr[2]*.9486832980505138+ir[2]*.31622776601683794])),ir=Mr;return kr}),xt=[],wt=[-1,0,0,1,0,1,4,5];ot.forEach(function(Ut,pr){for(var wr=ki[pr],ir=wr.length,Mr=xt[pr]=[],kr=0;kr<ir;++kr)ot.push([wr[kr],Ut[(kr*2+2)%(2*ir)],Ut[(kr*2+1)%(2*ir)]]),wt.push(pr),Mr.push(Os(Xo(Ut[(kr*2+2)%(2*ir)]),Xo(Ut[(kr*2+1)%(2*ir)])))});var Ot=ot.map(function(Ut){return{project:$e(Ut),face:Ut}});wt.forEach(function(Ut,pr){var wr=Ot[Ut];wr&&(wr.children||(wr.children=[])).push(Ot[pr])});function _t(Ut,pr){var wr=M(pr),ir=[wr*M(Ut),wr*l(Ut),l(pr)],Mr=Ut<-c/2?pr<0?6:4:Ut<0?pr<0?2:0:Ut<c/2?pr<0?3:1:pr<0?7:5,kr=xt[Mr];return Ot[is(kr[0],ir)<0?8+3*Mr:is(kr[1],ir)<0?8+3*Mr+1:is(kr[2],ir)<0?8+3*Mr+2:Mr]}return gi(Ot[0],_t).angle(-30).scale(110.625).center([0,45])}function is($e,ot){for(var xt=0,wt=$e.length,Ot=0;xt<wt;++xt)Ot+=$e[xt]*ot[xt];return Ot}function Os($e,ot){return[$e[1]*ot[2]-$e[2]*ot[1],$e[2]*ot[0]-$e[0]*ot[2],$e[0]*ot[1]-$e[1]*ot[0]]}function os($e){return[x($e[1],$e[0])*E,L(t(-1,i(1,$e[2])))*E]}function Xo($e){var ot=$e[0]*b,xt=$e[1]*b,wt=M(xt);return[wt*M(ot),wt*l(ot),l(xt)]}function Su(){}function zh($e){if((xt=$e.length)<4)return!1;for(var ot=0,xt,wt=$e[xt-1][1]*$e[0][0]-$e[xt-1][0]*$e[0][1];++ot<xt;)wt+=$e[ot-1][1]*$e[ot][0]-$e[ot-1][0]*$e[ot][1];return wt<=0}function Nh($e,ot){for(var xt=ot[0],wt=ot[1],Ot=!1,_t=0,Ut=$e.length,pr=Ut-1;_t<Ut;pr=_t++){var wr=$e[_t],ir=wr[0],Mr=wr[1],kr=$e[pr],Br=kr[0],rn=kr[1];Mr>wt^rn>wt&&xt<(Br-ir)*(wt-Mr)/(rn-Mr)+ir&&(Ot=!Ot)}return Ot}function Bh($e,ot){var xt=ot.stream,wt;if(!xt)throw new Error("invalid projection");switch($e&&$e.type){case"Feature":wt=Bf;break;case"FeatureCollection":wt=Uh;break;default:wt=Zl;break}return wt($e,xt)}function Uh($e,ot){return{type:"FeatureCollection",features:$e.features.map(function(xt){return Bf(xt,ot)})}}function Bf($e,ot){return{type:"Feature",id:$e.id,properties:$e.properties,geometry:Zl($e.geometry,ot)}}function Ec($e,ot){return{type:"GeometryCollection",geometries:$e.geometries.map(function(xt){return Zl(xt,ot)})}}function Zl($e,ot){if(!$e)return null;if($e.type==="GeometryCollection")return Ec($e,ot);var xt;switch($e.type){case"Point":xt=Kl;break;case"MultiPoint":xt=Kl;break;case"LineString":xt=Cc;break;case"MultiLineString":xt=Cc;break;case"Polygon":xt=Mu;break;case"MultiPolygon":xt=Mu;break;case"Sphere":xt=Mu;break;default:return null}return(0,ya.c)($e,ot(xt)),xt.result()}var eo=[],jo=[],Kl={point:function($e,ot){eo.push([$e,ot])},result:function(){var $e=eo.length?eo.length<2?{type:"Point",coordinates:eo[0]}:{type:"MultiPoint",coordinates:eo}:null;return eo=[],$e}},Cc={lineStart:Su,point:function($e,ot){eo.push([$e,ot])},lineEnd:function(){eo.length&&(jo.push(eo),eo=[])},result:function(){var $e=jo.length?jo.length<2?{type:"LineString",coordinates:jo[0]}:{type:"MultiLineString",coordinates:jo}:null;return jo=[],$e}},Mu={polygonStart:Su,lineStart:Su,point:function($e,ot){eo.push([$e,ot])},lineEnd:function(){var $e=eo.length;if($e){do eo.push(eo[0].slice());while(++$e<4);jo.push(eo),eo=[]}},polygonEnd:Su,result:function(){if(!jo.length)return null;var $e=[],ot=[];return jo.forEach(function(xt){zh(xt)?$e.push([xt]):ot.push(xt)}),ot.forEach(function(xt){var wt=xt[0];$e.some(function(Ot){if(Nh(Ot[0],wt))return Ot.push(xt),!0})||$e.push([xt])}),jo=[],$e.length?$e.length>1?{type:"MultiPolygon",coordinates:$e}:{type:"Polygon",coordinates:$e[0]}:null}};function zs($e){var ot=$e(o,0)[0]-$e(-o,0)[0];function xt(wt,Ot){var _t=P(wt)<o,Ut=$e(_t?wt:wt>0?wt-c:wt+c,Ot),pr=(Ut[0]-Ut[1])*w,wr=(Ut[0]+Ut[1])*w;if(_t)return[pr,wr];var ir=ot*w,Mr=pr>0^wr>0?-1:1;return[Mr*pr-f(wr)*ir,Mr*wr-f(pr)*ir]}return $e.invert&&(xt.invert=function(wt,Ot){var _t=(wt+Ot)*w,Ut=(Ot-wt)*w,pr=P(_t)<.5*ot&&P(Ut)<.5*ot;if(!pr){var wr=ot*w,ir=_t>0^Ut>0?-1:1,Mr=-ir*wt+(Ut>0?1:-1)*wr,kr=-ir*Ot+(_t>0?1:-1)*wr;_t=(-Mr-kr)*w,Ut=(Mr-kr)*w}var Br=$e.invert(_t,Ut);return pr||(Br[0]+=_t>0?c:-c),Br}),(0,g.c)(xt).rotate([-90,-90,45]).clipAngle(179.999)}function Vh(){return zs(mn).scale(176.423)}function Lc(){return zs(Tr).scale(111.48)}function Pc($e,ot){if(!(0<=(ot=+ot)&&ot<=20))throw new Error("invalid digits");function xt(ir){var Mr=ir.length,kr=2,Br=new Array(Mr);for(Br[0]=+ir[0].toFixed(ot),Br[1]=+ir[1].toFixed(ot);kr<Mr;)Br[kr]=ir[kr],++kr;return Br}function wt(ir){return ir.map(xt)}function Ot(ir){for(var Mr=xt(ir[0]),kr=[Mr],Br=1;Br<ir.length;Br++){var rn=xt(ir[Br]);(rn.length>2||rn[0]!=Mr[0]||rn[1]!=Mr[1])&&(kr.push(rn),Mr=rn)}return kr.length===1&&ir.length>1&&kr.push(xt(ir[ir.length-1])),kr}function _t(ir){return ir.map(Ot)}function Ut(ir){if(ir==null)return ir;var Mr;switch(ir.type){case"GeometryCollection":Mr={type:"GeometryCollection",geometries:ir.geometries.map(Ut)};break;case"Point":Mr={type:"Point",coordinates:xt(ir.coordinates)};break;case"MultiPoint":Mr={type:ir.type,coordinates:wt(ir.coordinates)};break;case"LineString":Mr={type:ir.type,coordinates:Ot(ir.coordinates)};break;case"MultiLineString":case"Polygon":Mr={type:ir.type,coordinates:_t(ir.coordinates)};break;case"MultiPolygon":Mr={type:"MultiPolygon",coordinates:ir.coordinates.map(_t)};break;default:return ir}return ir.bbox!=null&&(Mr.bbox=ir.bbox),Mr}function pr(ir){var Mr={type:"Feature",properties:ir.properties,geometry:Ut(ir.geometry)};return ir.id!=null&&(Mr.id=ir.id),ir.bbox!=null&&(Mr.bbox=ir.bbox),Mr}if($e!=null)switch($e.type){case"Feature":return pr($e);case"FeatureCollection":{var wr={type:"FeatureCollection",features:$e.features.map(pr)};return $e.bbox!=null&&(wr.bbox=$e.bbox),wr}default:return Ut($e)}return $e}function Uf($e){var ot=l($e);function xt(wt,Ot){var _t=ot?y(wt*ot/2)/ot:wt/2;if(!Ot)return[2*_t,-$e];var Ut=2*a(_t*l(Ot)),pr=1/y(Ot);return[l(Ut)*pr,Ot+(1-M(Ut))*pr-$e]}return xt.invert=function(wt,Ot){if(P(Ot+=$e)<h)return[ot?2*a(ot*wt/2)/ot:wt,0];var _t=wt*wt+Ot*Ot,Ut=0,pr=10,wr;do{var ir=y(Ut),Mr=1/M(Ut),kr=_t-2*Ot*Ut+Ut*Ut;Ut-=wr=(ir*kr+2*(Ut-Ot))/(2+kr*Mr*Mr+2*(Ut-Ot)*ir)}while(P(wr)>h&&--pr>0);var Br=wt*(ir=y(Ut)),rn=y(P(Ot)<P(Ut+1/ir)?L(Br)*.5:T(Br)*.5+c/4)/l(Ut);return[ot?2*a(ot*rn)/ot:2*rn,Ut]},xt}function Rc(){return dt(Uf).scale(131.215)}var Eo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Eo.forEach(function($e){$e[1]*=1.0144});function ss($e,ot){var xt=i(18,P(ot)*36/c),wt=p(xt),Ot=xt-wt,_t=(kr=Eo[wt])[0],Ut=kr[1],pr=(kr=Eo[++wt])[0],wr=kr[1],ir=(kr=Eo[i(19,++wt)])[0],Mr=kr[1],kr;return[$e*(pr+Ot*(ir-_t)/2+Ot*Ot*(ir-2*pr+_t)/2),(ot>0?o:-o)*(wr+Ot*(Mr-Ut)/2+Ot*Ot*(Mr-2*wr+Ut)/2)]}ss.invert=function($e,ot){var xt=ot/o,wt=xt*90,Ot=i(18,P(wt/5)),_t=t(0,p(Ot));do{var Ut=Eo[_t][1],pr=Eo[_t+1][1],wr=Eo[i(19,_t+2)][1],ir=wr-Ut,Mr=wr-2*pr+Ut,kr=2*(P(xt)-pr)/ir,Br=Mr/ir,rn=kr*(1-Br*kr*(1-2*Br*kr));if(rn>=0||_t===1){wt=(ot>=0?5:-5)*(rn+Ot);var bn=50,In;do Ot=i(18,P(wt)/5),_t=p(Ot),rn=Ot-_t,Ut=Eo[_t][1],pr=Eo[_t+1][1],wr=Eo[i(19,_t+2)][1],wt-=(In=(ot>=0?o:-o)*(pr+rn*(wr-Ut)/2+rn*rn*(wr-2*pr+Ut)/2)-ot)*E;while(P(In)>S&&--bn>0);break}}while(--_t>=0);var _n=Eo[_t][0],Zn=Eo[_t+1][0],Ra=Eo[i(19,_t+2)][0];return[$e/(Zn+rn*(Ra-_n)/2+rn*rn*(Ra-2*Zn+_n)/2),wt*b]};function Qs(){return(0,g.c)(ss).scale(152.63)}function Jl($e){function ot(xt,wt){var Ot=M(wt),_t=($e-1)/($e-Ot*M(xt));return[_t*Ot*l(xt),_t*l(wt)]}return ot.invert=function(xt,wt){var Ot=xt*xt+wt*wt,_t=k(Ot),Ut=($e-k(1-Ot*($e+1)/($e-1)))/(($e-1)/_t+_t/($e-1));return[x(xt*Ut,_t*k(1-Ut*Ut)),_t?L(wt*Ut/_t):0]},ot}function cf($e,ot){var xt=Jl($e);if(!ot)return xt;var wt=M(ot),Ot=l(ot);function _t(Ut,pr){var wr=xt(Ut,pr),ir=wr[1],Mr=ir*Ot/($e-1)+wt;return[wr[0]*wt/Mr,ir/Mr]}return _t.invert=function(Ut,pr){var wr=($e-1)/($e-1-pr*Ot);return xt.invert(wr*Ut,wr*pr*wt)},_t}function bl(){var $e=2,ot=0,xt=(0,g.U)(cf),wt=xt($e,ot);return wt.distance=function(Ot){return arguments.length?xt($e=+Ot,ot):$e},wt.tilt=function(Ot){return arguments.length?xt($e,ot=Ot*b):ot*E},wt.scale(432.147).clipAngle(T(1/$e)*E-1e-6)}var wl=1e-4,Dc=1e4,Ns=-180,$l=Ns+wl,qs=180,Bs=qs-wl,Eu=-90,Ql=Eu+wl,hi=90,ql=hi-wl;function hf($e){return $e.length>0}function Ic($e){return Math.floor($e*Dc)/Dc}function eu($e){return $e===Eu||$e===hi?[0,$e]:[Ns,Ic($e)]}function Cu($e){var ot=$e[0],xt=$e[1],wt=!1;return ot<=$l?(ot=Ns,wt=!0):ot>=Bs&&(ot=qs,wt=!0),xt<=Ql?(xt=Eu,wt=!0):xt>=ql&&(xt=hi,wt=!0),wt?[ot,xt]:$e}function vf($e){return $e.map(Cu)}function Vf($e,ot,xt){for(var wt=0,Ot=$e.length;wt<Ot;++wt){var _t=$e[wt].slice();xt.push({index:-1,polygon:ot,ring:_t});for(var Ut=0,pr=_t.length;Ut<pr;++Ut){var wr=_t[Ut],ir=wr[0],Mr=wr[1];if(ir<=$l||ir>=Bs||Mr<=Ql||Mr>=ql){_t[Ut]=Cu(wr);for(var kr=Ut+1;kr<pr;++kr){var Br=_t[kr],rn=Br[0],bn=Br[1];if(rn>$l&&rn<Bs&&bn>Ql&&bn<ql)break}if(kr===Ut+1)continue;if(Ut){var In={index:-1,polygon:ot,ring:_t.slice(0,Ut+1)};In.ring[In.ring.length-1]=eu(Mr),xt[xt.length-1]=In}else xt.pop();if(kr>=pr)break;xt.push({index:-1,polygon:ot,ring:_t=_t.slice(kr-1)}),_t[0]=eu(_t[0][1]),Ut=-1,pr=_t.length}}}}function Lu($e){var ot,xt=$e.length,wt={},Ot={},_t,Ut,pr,wr,ir;for(ot=0;ot<xt;++ot){if(_t=$e[ot],Ut=_t.ring[0],wr=_t.ring[_t.ring.length-1],Ut[0]===wr[0]&&Ut[1]===wr[1]){_t.polygon.push(_t.ring),$e[ot]=null;continue}_t.index=ot,wt[Ut]=Ot[wr]=_t}for(ot=0;ot<xt;++ot)if(_t=$e[ot],_t){if(Ut=_t.ring[0],wr=_t.ring[_t.ring.length-1],pr=Ot[Ut],ir=wt[wr],delete wt[Ut],delete Ot[wr],Ut[0]===wr[0]&&Ut[1]===wr[1]){_t.polygon.push(_t.ring);continue}pr?(delete Ot[Ut],delete wt[pr.ring[0]],pr.ring.pop(),$e[pr.index]=null,_t={index:-1,polygon:pr.polygon,ring:pr.ring.concat(_t.ring)},pr===ir?_t.polygon.push(_t.ring):(_t.index=xt++,$e.push(wt[_t.ring[0]]=Ot[_t.ring[_t.ring.length-1]]=_t))):ir?(delete wt[wr],delete Ot[ir.ring[ir.ring.length-1]],_t.ring.pop(),_t={index:xt++,polygon:ir.polygon,ring:_t.ring.concat(ir.ring)},$e[ir.index]=null,$e.push(wt[_t.ring[0]]=Ot[_t.ring[_t.ring.length-1]]=_t)):(_t.ring.push(_t.ring[0]),_t.polygon.push(_t.ring))}}function Pu($e){var ot={type:"Feature",geometry:el($e.geometry)};return $e.id!=null&&(ot.id=$e.id),$e.bbox!=null&&(ot.bbox=$e.bbox),$e.properties!=null&&(ot.properties=$e.properties),ot}function el($e){if($e==null)return $e;var ot,xt,wt,Ot;switch($e.type){case"GeometryCollection":ot={type:"GeometryCollection",geometries:$e.geometries.map(el)};break;case"Point":ot={type:"Point",coordinates:Cu($e.coordinates)};break;case"MultiPoint":case"LineString":ot={type:$e.type,coordinates:vf($e.coordinates)};break;case"MultiLineString":ot={type:"MultiLineString",coordinates:$e.coordinates.map(vf)};break;case"Polygon":{var _t=[];Vf($e.coordinates,_t,xt=[]),Lu(xt),ot={type:"Polygon",coordinates:_t};break}case"MultiPolygon":{xt=[],wt=-1,Ot=$e.coordinates.length;for(var Ut=new Array(Ot);++wt<Ot;)Vf($e.coordinates[wt],Ut[wt]=[],xt);Lu(xt),ot={type:"MultiPolygon",coordinates:Ut.filter(hf)};break}default:return $e}return $e.bbox!=null&&(ot.bbox=$e.bbox),ot}function Ru($e){if($e==null)return $e;switch($e.type){case"Feature":return Pu($e);case"FeatureCollection":{var ot={type:"FeatureCollection",features:$e.features.map(Pu)};return $e.bbox!=null&&(ot.bbox=$e.bbox),ot}default:return el($e)}}function tl($e,ot){var xt=y(ot/2),wt=l(d*xt);return[$e*(.74482-.34588*wt*wt),1.70711*xt]}tl.invert=function($e,ot){var xt=ot/1.70711,wt=l(d*xt);return[$e/(.74482-.34588*wt*wt),2*a(xt)]};function Wi(){return(0,g.c)(tl).scale(146.153)}function ws($e,ot,xt){var wt=(0,Ff.c)(ot,xt),Ot=wt(.5),_t=(0,Ve.c)([-Ot[0],-Ot[1]])(ot),Ut=wt.distance/2,pr=-L(l(_t[1]*b)/l(Ut)),wr=[-Ot[0],-Ot[1],-(_t[0]>0?c-pr:pr)*E],ir=(0,g.c)($e(Ut)).rotate(wr),Mr=(0,Ve.c)(wr),kr=ir.center;return delete ir.rotate,ir.center=function(Br){return arguments.length?kr(Mr(Br)):Mr.invert(kr())},ir.clipAngle(90)}function Hf($e){var ot=M($e);function xt(wt,Ot){var _t=(0,Js.Y)(wt,Ot);return _t[0]*=ot,_t}return xt.invert=function(wt,Ot){return Js.Y.invert(wt/ot,Ot)},xt}function Tl(){return df([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function df($e,ot){return ws(Hf,$e,ot)}function Du($e){if(!($e*=2))return se.O;var ot=-$e/2,xt=-ot,wt=$e*$e,Ot=y(xt),_t=.5/l(xt);function Ut(pr,wr){var ir=T(M(wr)*M(pr-ot)),Mr=T(M(wr)*M(pr-xt)),kr=wr<0?-1:1;return ir*=ir,Mr*=Mr,[(ir-Mr)/(2*$e),kr*k(4*wt*Mr-(wt-ir+Mr)*(wt-ir+Mr))/(2*$e)]}return Ut.invert=function(pr,wr){var ir=wr*wr,Mr=M(k(ir+(Br=pr+ot)*Br)),kr=M(k(ir+(Br=pr+xt)*Br)),Br,rn;return[x(rn=Mr-kr,Br=(Mr+kr)*Ot),(wr<0?-1:1)*T(k(Br*Br+rn*rn)*_t)]},Ut}function Hh(){return _c([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function _c($e,ot){return ws(Du,$e,ot)}function xo($e,ot){if(P(ot)<h)return[$e,0];var xt=P(ot/o),wt=L(xt);if(P($e)<h||P(P(ot)-o)<h)return[0,f(ot)*c*y(wt/2)];var Ot=M(wt),_t=P(c/$e-$e/c)/2,Ut=_t*_t,pr=Ot/(xt+Ot-1),wr=pr*(2/xt-1),ir=wr*wr,Mr=ir+Ut,kr=pr-ir,Br=Ut+pr;return[f($e)*c*(_t*kr+k(Ut*kr*kr-Mr*(pr*pr-ir)))/Mr,f(ot)*c*(wr*Br-_t*k((Ut+1)*Mr-Br*Br))/Mr]}xo.invert=function($e,ot){if(P(ot)<h)return[$e,0];if(P($e)<h)return[0,o*l(2*a(ot/c))];var xt=($e/=c)*$e,wt=(ot/=c)*ot,Ot=xt+wt,_t=Ot*Ot,Ut=-P(ot)*(1+Ot),pr=Ut-2*wt+xt,wr=-2*Ut+1+2*wt+_t,ir=wt/wr+(2*pr*pr*pr/(wr*wr*wr)-9*Ut*pr/(wr*wr))/27,Mr=(Ut-pr*pr/(3*wr))/wr,kr=2*k(-Mr/3),Br=T(3*ir/(Mr*kr))/3;return[c*(Ot-1+k(1+2*(xt-wt)+_t))/(2*$e),f(ot)*c*(-kr*M(Br+c/3)-pr/(3*wr))]};function Iu(){return(0,g.c)(xo).scale(79.4183)}function tu($e,ot){if(P(ot)<h)return[$e,0];var xt=P(ot/o),wt=L(xt);if(P($e)<h||P(P(ot)-o)<h)return[0,f(ot)*c*y(wt/2)];var Ot=M(wt),_t=P(c/$e-$e/c)/2,Ut=_t*_t,pr=Ot*(k(1+Ut)-_t*Ot)/(1+Ut*xt*xt);return[f($e)*c*pr,f(ot)*c*k(1-pr*(2*_t+pr))]}tu.invert=function($e,ot){if(!$e)return[0,o*l(2*a(ot/c))];var xt=P($e/c),wt=(1-xt*xt-(ot/=c)*ot)/(2*xt),Ot=wt*wt,_t=k(Ot+1);return[f($e)*c*(_t-wt),f(ot)*o*l(2*x(k((1-2*wt*xt)*(wt+_t)-xt),k(_t+wt+xt)))]};function kc(){return(0,g.c)(tu).scale(79.4183)}function rl($e,ot){if(P(ot)<h)return[$e,0];var xt=ot/o,wt=L(xt);if(P($e)<h||P(P(ot)-o)<h)return[0,c*y(wt/2)];var Ot=(c/$e-$e/c)/2,_t=xt/(1+M(wt));return[c*(f($e)*k(Ot*Ot+1-_t*_t)-Ot),c*_t]}rl.invert=function($e,ot){if(!ot)return[$e,0];var xt=ot/c,wt=(c*c*(1-xt*xt)-$e*$e)/(2*c*$e);return[$e?c*(f($e)*k(wt*wt+1)-wt):0,o*l(2*a(xt))]};function jh(){return(0,g.c)(rl).scale(79.4183)}function zo($e,ot){if(!ot)return[$e,0];var xt=P(ot);if(!$e||xt===o)return[0,ot];var wt=xt/o,Ot=wt*wt,_t=(8*wt-Ot*(Ot+2)-5)/(2*Ot*(wt-1)),Ut=_t*_t,pr=wt*_t,wr=Ot+Ut+2*pr,ir=wt+3*_t,Mr=$e/o,kr=Mr+1/Mr,Br=f(P($e)-o)*k(kr*kr-4),rn=Br*Br,bn=wr*(Ot+Ut*rn-1)+(1-Ot)*(Ot*(ir*ir+4*Ut)+12*pr*Ut+4*Ut*Ut),In=(Br*(wr+Ut-1)+2*k(bn))/(4*wr+rn);return[f($e)*o*In,f(ot)*o*k(1+Br*P(In)-In*In)]}zo.invert=function($e,ot){var xt;if(!$e||!ot)return[$e,ot];ot/=c;var wt=f($e)*$e/o,Ot=(wt*wt-1+4*ot*ot)/P(wt),_t=Ot*Ot,Ut=2*ot,pr=50;do{var wr=Ut*Ut,ir=(8*Ut-wr*(wr+2)-5)/(2*wr*(Ut-1)),Mr=(3*Ut-wr*Ut-10)/(2*wr*Ut),kr=ir*ir,Br=Ut*ir,rn=Ut+ir,bn=rn*rn,In=Ut+3*ir,_n=bn*(wr+kr*_t-1)+(1-wr)*(wr*(In*In+4*kr)+kr*(12*Br+4*kr)),Zn=-2*rn*(4*Br*kr+(1-4*wr+3*wr*wr)*(1+Mr)+kr*(-6+14*wr-_t+(-8+8*wr-2*_t)*Mr)+Br*(-8+12*wr+(-10+10*wr-_t)*Mr)),Ra=k(_n),Da=Ot*(bn+kr-1)+2*Ra-wt*(4*bn+_t),Ia=Ot*(2*ir*Mr+2*rn*(1+Mr))+Zn/Ra-8*rn*(Ot*(-1+kr+bn)+2*Ra)*(1+Mr)/(_t+4*bn);Ut-=xt=Da/Ia}while(xt>h&&--pr>0);return[f($e)*(k(Ot*Ot+4)+Ot)*c/4,o*Ut]};function _u(){return(0,g.c)(zo).scale(127.16)}function pf($e,ot,xt,wt,Ot){function _t(Ut,pr){var wr=xt*l(wt*pr),ir=k(1-wr*wr),Mr=k(2/(1+ir*M(Ut*=Ot)));return[$e*ir*Mr*l(Ut),ot*wr*Mr]}return _t.invert=function(Ut,pr){var wr=Ut/$e,ir=pr/ot,Mr=k(wr*wr+ir*ir),kr=2*L(Mr/2);return[x(Ut*y(kr),$e*Mr)/Ot,Mr&&L(pr*l(kr)/(ot*xt*Mr))/wt]},_t}function Us($e,ot,xt,wt){var Ot=c/3;$e=t($e,h),ot=t(ot,h),$e=i($e,o),ot=i(ot,c-h),xt=t(xt,0),xt=i(xt,100-h),wt=t(wt,h);var _t=xt/100+1,Ut=wt/100,pr=T(_t*M(Ot))/Ot,wr=l($e)/l(pr*o),ir=ot/c,Mr=k(Ut*l($e/2)/l(ot/2)),kr=Mr/k(ir*wr*pr),Br=1/(Mr*k(ir*wr*pr));return pf(kr,Br,wr,pr,ir)}function nl(){var $e=65*b,ot=60*b,xt=20,wt=200,Ot=(0,g.U)(Us),_t=Ot($e,ot,xt,wt);return _t.poleline=function(Ut){return arguments.length?Ot($e=+Ut*b,ot,xt,wt):$e*E},_t.parallels=function(Ut){return arguments.length?Ot($e,ot=+Ut*b,xt,wt):ot*E},_t.inflation=function(Ut){return arguments.length?Ot($e,ot,xt=+Ut,wt):xt},_t.ratio=function(Ut){return arguments.length?Ot($e,ot,xt,wt=+Ut):wt},_t.scale(163.775)}function jf(){return nl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var ku=4*c+3*k(3),Fu=2*k(2*c*k(3)/ku),gf=xe(Fu*k(3)/c,Fu,ku/6);function Fc(){return(0,g.c)(gf).scale(176.84)}function Ou($e,ot){return[$e*k(1-3*ot*ot/(c*c)),ot]}Ou.invert=function($e,ot){return[$e/k(1-3*ot*ot/(c*c)),ot]};function Gf(){return(0,g.c)(Ou).scale(152.63)}function Al($e,ot){var xt=M(ot),wt=M($e)*xt,Ot=1-wt,_t=M($e=x(l($e)*xt,-l(ot))),Ut=l($e);return xt=k(1-wt*wt),[Ut*xt-_t*Ot,-_t*xt-Ut*Ot]}Al.invert=function($e,ot){var xt=($e*$e+ot*ot)/-2,wt=k(-xt*(2+xt)),Ot=ot*xt+$e*wt,_t=$e*xt-ot*wt,Ut=k(_t*_t+Ot*Ot);return[x(wt*Ot,Ut*(1+xt)),Ut?-L(wt*_t/Ut):0]};function Wf(){return(0,g.c)(Al).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function zu($e,ot){var xt=W($e,ot);return[(xt[0]+$e/o)/2,(xt[1]+ot)/2]}zu.invert=function($e,ot){var xt=$e,wt=ot,Ot=25;do{var _t=M(wt),Ut=l(wt),pr=l(2*wt),wr=Ut*Ut,ir=_t*_t,Mr=l(xt),kr=M(xt/2),Br=l(xt/2),rn=Br*Br,bn=1-ir*kr*kr,In=bn?T(_t*kr)*k(_n=1/bn):_n=0,_n,Zn=.5*(2*In*_t*Br+xt/o)-$e,Ra=.5*(In*Ut+wt)-ot,Da=.5*_n*(ir*rn+In*_t*kr*wr)+.5/o,Ia=_n*(Mr*pr/4-In*Ut*Br),za=.125*_n*(pr*Br-In*Ut*ir*Mr),Xa=.5*_n*(wr*kr+In*rn*_t)+.5,vi=Ia*za-Xa*Da,Fi=(Ra*Ia-Zn*Xa)/vi,fe=(Zn*za-Ra*Da)/vi;xt-=Fi,wt-=fe}while((P(Fi)>h||P(fe)>h)&&--Ot>0);return[xt,wt]};function Oc(){return(0,g.c)(zu).scale(158.837)}},88728:function(j,H,e){e.d(H,{c:function(){return g}});function g(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(M){x(a,M,this.t),x(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new P;function x(M,v,p){var r=M.s=v+p,t=r-v,i=r-t;M.t=v-i+(p-t)}},95384:function(j,H,e){e.d(H,{cp:function(){return S},mQ:function(){return M},oB:function(){return u}});var g=e(88728),P=e(64528),a=e(70932),x=e(16016),M=(0,g.c)(),v=(0,g.c)(),p,r,t,i,n,u={point:a.c,lineStart:a.c,lineEnd:a.c,polygonStart:function(){M.reset(),u.lineStart=f,u.lineEnd=l},polygonEnd:function(){var c=+M;v.add(c<0?P.kD+c:c),this.lineStart=this.lineEnd=this.point=a.c},sphere:function(){v.add(P.kD)}};function f(){u.point=y}function l(){h(p,r)}function y(c,o){u.point=h,p=c,r=o,c*=P.qw,o*=P.qw,t=c,i=(0,P.W8)(o=o/2+P.wL),n=(0,P.g$)(o)}function h(c,o){c*=P.qw,o*=P.qw,o=o/2+P.wL;var d=c-t,w=d>=0?1:-1,A=w*d,C=(0,P.W8)(o),m=(0,P.g$)(o),E=n*m,b=i*C+E*(0,P.W8)(A),s=E*w*(0,P.g$)(A);M.add((0,P.WE)(s,b)),t=c,i=C,n=m}function S(c){return v.reset(),(0,x.c)(c,u),v*2}},13696:function(j,H,e){e.d(H,{c:function(){return L}});var g=e(88728),P=e(95384),a=e(84220),x=e(64528),M=e(16016),v,p,r,t,i,n,u,f,l=(0,g.c)(),y,h,S={point:c,lineStart:d,lineEnd:w,polygonStart:function(){S.point=A,S.lineStart=C,S.lineEnd=m,l.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),S.point=c,S.lineStart=d,S.lineEnd=w,P.mQ<0?(v=-(r=180),p=-(t=90)):l>x.Gg?t=90:l<-x.Gg&&(p=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function c(T,k){y.push(h=[v=T,r=T]),k<p&&(p=k),k>t&&(t=k)}function o(T,k){var _=(0,a.ux)([T*x.qw,k*x.qw]);if(f){var B=(0,a.CW)(f,_),F=[B[1],-B[0],0],O=(0,a.CW)(F,B);(0,a.cJ)(O),O=(0,a.G)(O);var N=T-i,z=N>0?1:-1,V=O[0]*x.oh*z,W,$=(0,x.a2)(N)>180;$^(z*i<V&&V<z*T)?(W=O[1]*x.oh,W>t&&(t=W)):(V=(V+360)%360-180,$^(z*i<V&&V<z*T)?(W=-O[1]*x.oh,W<p&&(p=W)):(k<p&&(p=k),k>t&&(t=k))),$?T<i?E(v,T)>E(v,r)&&(r=T):E(T,r)>E(v,r)&&(v=T):r>=v?(T<v&&(v=T),T>r&&(r=T)):T>i?E(v,T)>E(v,r)&&(r=T):E(T,r)>E(v,r)&&(v=T)}else y.push(h=[v=T,r=T]);k<p&&(p=k),k>t&&(t=k),f=_,i=T}function d(){S.point=o}function w(){h[0]=v,h[1]=r,S.point=c,f=null}function A(T,k){if(f){var _=T-i;l.add((0,x.a2)(_)>180?_+(_>0?360:-360):_)}else n=T,u=k;P.oB.point(T,k),o(T,k)}function C(){P.oB.lineStart()}function m(){A(n,u),P.oB.lineEnd(),(0,x.a2)(l)>x.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,f=null}function E(T,k){return(k-=T)<0?k+360:k}function b(T,k){return T[0]-k[0]}function s(T,k){return T[0]<=T[1]?T[0]<=k&&k<=T[1]:k<T[0]||T[1]<k}function L(T){var k,_,B,F,O,N,z;if(t=r=-(v=p=1/0),y=[],(0,M.c)(T,S),_=y.length){for(y.sort(b),k=1,B=y[0],O=[B];k<_;++k)F=y[k],s(B,F[0])||s(B,F[1])?(E(B[0],F[1])>E(B[0],B[1])&&(B[1]=F[1]),E(F[0],B[1])>E(B[0],B[1])&&(B[0]=F[0])):O.push(B=F);for(N=-1/0,_=O.length-1,k=0,B=O[_];k<=_;B=F,++k)F=O[k],(z=E(B[1],F[0]))>N&&(N=z,v=F[0],r=B[1])}return y=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(j,H,e){e.d(H,{CW:function(){return M},Ez:function(){return x},G:function(){return P},cJ:function(){return r},mg:function(){return v},ux:function(){return a},wx:function(){return p}});var g=e(64528);function P(t){return[(0,g.WE)(t[1],t[0]),(0,g.qR)(t[2])]}function a(t){var i=t[0],n=t[1],u=(0,g.W8)(n);return[u*(0,g.W8)(i),u*(0,g.g$)(i),(0,g.g$)(n)]}function x(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function M(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function v(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function p(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function r(t){var i=(0,g._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}},24052:function(j,H,e){e.d(H,{c:function(){return _}});var g=e(64528),P=e(70932),a=e(16016),x,M,v,p,r,t,i,n,u,f,l,y,h,S,c,o,d={sphere:P.c,point:w,lineStart:C,lineEnd:b,polygonStart:function(){d.lineStart=s,d.lineEnd=L},polygonEnd:function(){d.lineStart=C,d.lineEnd=b}};function w(B,F){B*=g.qw,F*=g.qw;var O=(0,g.W8)(F);A(O*(0,g.W8)(B),O*(0,g.g$)(B),(0,g.g$)(F))}function A(B,F,O){++x,v+=(B-v)/x,p+=(F-p)/x,r+=(O-r)/x}function C(){d.point=m}function m(B,F){B*=g.qw,F*=g.qw;var O=(0,g.W8)(F);S=O*(0,g.W8)(B),c=O*(0,g.g$)(B),o=(0,g.g$)(F),d.point=E,A(S,c,o)}function E(B,F){B*=g.qw,F*=g.qw;var O=(0,g.W8)(F),N=O*(0,g.W8)(B),z=O*(0,g.g$)(B),V=(0,g.g$)(F),W=(0,g.WE)((0,g._I)((W=c*V-o*z)*W+(W=o*N-S*V)*W+(W=S*z-c*N)*W),S*N+c*z+o*V);M+=W,t+=W*(S+(S=N)),i+=W*(c+(c=z)),n+=W*(o+(o=V)),A(S,c,o)}function b(){d.point=w}function s(){d.point=T}function L(){k(y,h),d.point=w}function T(B,F){y=B,h=F,B*=g.qw,F*=g.qw,d.point=k;var O=(0,g.W8)(F);S=O*(0,g.W8)(B),c=O*(0,g.g$)(B),o=(0,g.g$)(F),A(S,c,o)}function k(B,F){B*=g.qw,F*=g.qw;var O=(0,g.W8)(F),N=O*(0,g.W8)(B),z=O*(0,g.g$)(B),V=(0,g.g$)(F),W=c*V-o*z,$=o*N-S*V,re=S*z-c*N,ne=(0,g._I)(W*W+$*$+re*re),ue=(0,g.qR)(ne),J=ne&&-ue/ne;u+=J*W,f+=J*$,l+=J*re,M+=ue,t+=ue*(S+(S=N)),i+=ue*(c+(c=z)),n+=ue*(o+(o=V)),A(S,c,o)}function _(B){x=M=v=p=r=t=i=n=u=f=l=0,(0,a.c)(B,d);var F=u,O=f,N=l,z=F*F+O*O+N*N;return z<g.a8&&(F=t,O=i,N=n,M<g.Gg&&(F=v,O=p,N=r),z=F*F+O*O+N*N,z<g.a8)?[NaN,NaN]:[(0,g.WE)(O,F)*g.oh,(0,g.qR)(N/(0,g._I)(z))*g.oh]}},61780:function(j,H,e){e.d(H,{Q:function(){return M},c:function(){return p}});var g=e(84220);function P(r){return function(){return r}}var a=e(64528),x=e(92992);function M(r,t,i,n,u,f){if(i){var l=(0,a.W8)(t),y=(0,a.g$)(t),h=n*i;u==null?(u=t+n*a.kD,f=t-h/2):(u=v(l,u),f=v(l,f),(n>0?u<f:u>f)&&(u+=n*a.kD));for(var S,c=u;n>0?c>f:c<f;c-=h)S=(0,g.G)([l,-y*(0,a.W8)(c),-y*(0,a.g$)(c)]),r.point(S[0],S[1])}}function v(r,t){t=(0,g.ux)(t),t[0]-=r,(0,g.cJ)(t);var i=(0,a.mE)(-t[1]);return((-t[2]<0?-i:i)+a.kD-a.Gg)%a.kD}function p(){var r=P([0,0]),t=P(90),i=P(6),n,u,f={point:l};function l(h,S){n.push(h=u(h,S)),h[0]*=a.oh,h[1]*=a.oh}function y(){var h=r.apply(this,arguments),S=t.apply(this,arguments)*a.qw,c=i.apply(this,arguments)*a.qw;return n=[],u=(0,x.O)(-h[0]*a.qw,-h[1]*a.qw,0).invert,M(f,S,c,1),h={type:"Polygon",coordinates:[n]},n=u=null,h}return y.center=function(h){return arguments.length?(r=typeof h=="function"?h:P([+h[0],+h[1]]),y):r},y.radius=function(h){return arguments.length?(t=typeof h=="function"?h:P(+h),y):t},y.precision=function(h){return arguments.length?(i=typeof h=="function"?h:P(+h),y):i},y}},78284:function(j,H,e){var g=e(14229),P=e(64528);H.c=(0,g.c)(function(){return!0},a,M,[-P.pi,-P.or]);function a(v){var p=NaN,r=NaN,t=NaN,i;return{lineStart:function(){v.lineStart(),i=1},point:function(n,u){var f=n>0?P.pi:-P.pi,l=(0,P.a2)(n-p);(0,P.a2)(l-P.pi)<P.Gg?(v.point(p,r=(r+u)/2>0?P.or:-P.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(f,r),v.point(n,r),i=0):t!==f&&l>=P.pi&&((0,P.a2)(p-t)<P.Gg&&(p-=t*P.Gg),(0,P.a2)(n-f)<P.Gg&&(n-=f*P.Gg),r=x(p,r,n,u),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(f,r),i=0),v.point(p=n,r=u),t=f},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-i}}}function x(v,p,r,t){var i,n,u=(0,P.g$)(v-r);return(0,P.a2)(u)>P.Gg?(0,P.MQ)(((0,P.g$)(p)*(n=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(i=(0,P.W8)(p))*(0,P.g$)(v))/(i*n*u)):(p+t)/2}function M(v,p,r,t){var i;if(v==null)i=r*P.or,t.point(-P.pi,i),t.point(0,i),t.point(P.pi,i),t.point(P.pi,0),t.point(P.pi,-i),t.point(0,-i),t.point(-P.pi,-i),t.point(-P.pi,0),t.point(-P.pi,i);else if((0,P.a2)(v[0]-p[0])>P.Gg){var n=v[0]<p[0]?P.pi:-P.pi;i=r*n/2,t.point(-n,i),t.point(0,i),t.point(n,i)}else t.point(p[0],p[1])}},97208:function(j,H,e){e.d(H,{c:function(){return P}});var g=e(70932);function P(){var a=[],x;return{point:function(M,v,p){x.push([M,v,p])},lineStart:function(){a.push(x=[])},lineEnd:g.c,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var M=a;return a=[],x=null,M}}}},2728:function(j,H,e){e.d(H,{c:function(){return v}});var g=e(84220),P=e(61780),a=e(64528),x=e(41860),M=e(14229);function v(p){var r=(0,a.W8)(p),t=6*a.qw,i=r>0,n=(0,a.a2)(r)>a.Gg;function u(S,c,o,d){(0,P.Q)(d,p,t,o,S,c)}function f(S,c){return(0,a.W8)(S)*(0,a.W8)(c)>r}function l(S){var c,o,d,w,A;return{lineStart:function(){w=d=!1,A=1},point:function(C,m){var E=[C,m],b,s=f(C,m),L=i?s?0:h(C,m):s?h(C+(C<0?a.pi:-a.pi),m):0;if(!c&&(w=d=s)&&S.lineStart(),s!==d&&(b=y(c,E),(!b||(0,x.c)(c,b)||(0,x.c)(E,b))&&(E[2]=1)),s!==d)A=0,s?(S.lineStart(),b=y(E,c),S.point(b[0],b[1])):(b=y(c,E),S.point(b[0],b[1],2),S.lineEnd()),c=b;else if(n&&c&&i^s){var T;!(L&o)&&(T=y(E,c,!0))&&(A=0,i?(S.lineStart(),S.point(T[0][0],T[0][1]),S.point(T[1][0],T[1][1]),S.lineEnd()):(S.point(T[1][0],T[1][1]),S.lineEnd(),S.lineStart(),S.point(T[0][0],T[0][1],3)))}s&&(!c||!(0,x.c)(c,E))&&S.point(E[0],E[1]),c=E,d=s,o=L},lineEnd:function(){d&&S.lineEnd(),c=null},clean:function(){return A|(w&&d)<<1}}}function y(S,c,o){var d=(0,g.ux)(S),w=(0,g.ux)(c),A=[1,0,0],C=(0,g.CW)(d,w),m=(0,g.Ez)(C,C),E=C[0],b=m-E*E;if(!b)return!o&&S;var s=r*m/b,L=-r*E/b,T=(0,g.CW)(A,C),k=(0,g.wx)(A,s),_=(0,g.wx)(C,L);(0,g.mg)(k,_);var B=T,F=(0,g.Ez)(k,B),O=(0,g.Ez)(B,B),N=F*F-O*((0,g.Ez)(k,k)-1);if(!(N<0)){var z=(0,a._I)(N),V=(0,g.wx)(B,(-F-z)/O);if((0,g.mg)(V,k),V=(0,g.G)(V),!o)return V;var W=S[0],$=c[0],re=S[1],ne=c[1],ue;$<W&&(ue=W,W=$,$=ue);var J=$-W,X=(0,a.a2)(J-a.pi)<a.Gg,oe=X||J<a.Gg;if(!X&&ne<re&&(ue=re,re=ne,ne=ue),oe?X?re+ne>0^V[1]<((0,a.a2)(V[0]-W)<a.Gg?re:ne):re<=V[1]&&V[1]<=ne:J>a.pi^(W<=V[0]&&V[0]<=$)){var Y=(0,g.wx)(B,(-F+z)/O);return(0,g.mg)(Y,k),[V,(0,g.G)(Y)]}}}function h(S,c){var o=i?p:a.pi-p,d=0;return S<-o?d|=1:S>o&&(d|=2),c<-o?d|=4:c>o&&(d|=8),d}return(0,M.c)(f,l,u,i?[0,-p]:[-a.pi,p-a.pi])}},14229:function(j,H,e){e.d(H,{c:function(){return v}});var g=e(97208),P=e(32232),a=e(64528),x=e(58196),M=e(84706);function v(t,i,n,u){return function(f){var l=i(f),y=(0,g.c)(),h=i(y),S=!1,c,o,d,w={point:A,lineStart:m,lineEnd:E,polygonStart:function(){w.point=b,w.lineStart=s,w.lineEnd=L,o=[],c=[]},polygonEnd:function(){w.point=A,w.lineStart=m,w.lineEnd=E,o=(0,M.Uf)(o);var T=(0,x.c)(c,u);o.length?(S||(f.polygonStart(),S=!0),(0,P.c)(o,r,T,n,f)):T&&(S||(f.polygonStart(),S=!0),f.lineStart(),n(null,null,1,f),f.lineEnd()),S&&(f.polygonEnd(),S=!1),o=c=null},sphere:function(){f.polygonStart(),f.lineStart(),n(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function A(T,k){t(T,k)&&f.point(T,k)}function C(T,k){l.point(T,k)}function m(){w.point=C,l.lineStart()}function E(){w.point=A,l.lineEnd()}function b(T,k){d.push([T,k]),h.point(T,k)}function s(){h.lineStart(),d=[]}function L(){b(d[0][0],d[0][1]),h.lineEnd();var T=h.clean(),k=y.result(),_,B=k.length,F,O,N;if(d.pop(),c.push(d),d=null,!!B){if(T&1){if(O=k[0],(F=O.length-1)>0){for(S||(f.polygonStart(),S=!0),f.lineStart(),_=0;_<F;++_)f.point((N=O[_])[0],N[1]);f.lineEnd()}return}B>1&&T&2&&k.push(k.pop().concat(k.shift())),o.push(k.filter(p))}}return w}}function p(t){return t.length>1}function r(t,i){return((t=t.x)[0]<0?t[1]-a.or-a.Gg:a.or-t[1])-((i=i.x)[0]<0?i[1]-a.or-a.Gg:a.or-i[1])}},21676:function(j,H,e){e.d(H,{c:function(){return r}});var g=e(64528),P=e(97208);function a(t,i,n,u,f,l){var y=t[0],h=t[1],S=i[0],c=i[1],o=0,d=1,w=S-y,A=c-h,C;if(C=n-y,!(!w&&C>0)){if(C/=w,w<0){if(C<o)return;C<d&&(d=C)}else if(w>0){if(C>d)return;C>o&&(o=C)}if(C=f-y,!(!w&&C<0)){if(C/=w,w<0){if(C>d)return;C>o&&(o=C)}else if(w>0){if(C<o)return;C<d&&(d=C)}if(C=u-h,!(!A&&C>0)){if(C/=A,A<0){if(C<o)return;C<d&&(d=C)}else if(A>0){if(C>d)return;C>o&&(o=C)}if(C=l-h,!(!A&&C<0)){if(C/=A,A<0){if(C>d)return;C>o&&(o=C)}else if(A>0){if(C<o)return;C<d&&(d=C)}return o>0&&(t[0]=y+o*w,t[1]=h+o*A),d<1&&(i[0]=y+d*w,i[1]=h+d*A),!0}}}}}var x=e(32232),M=e(84706),v=1e9,p=-v;function r(t,i,n,u){function f(c,o){return t<=c&&c<=n&&i<=o&&o<=u}function l(c,o,d,w){var A=0,C=0;if(c==null||(A=y(c,d))!==(C=y(o,d))||S(c,o)<0^d>0)do w.point(A===0||A===3?t:n,A>1?u:i);while((A=(A+d+4)%4)!==C);else w.point(o[0],o[1])}function y(c,o){return(0,g.a2)(c[0]-t)<g.Gg?o>0?0:3:(0,g.a2)(c[0]-n)<g.Gg?o>0?2:1:(0,g.a2)(c[1]-i)<g.Gg?o>0?1:0:o>0?3:2}function h(c,o){return S(c.x,o.x)}function S(c,o){var d=y(c,1),w=y(o,1);return d!==w?d-w:d===0?o[1]-c[1]:d===1?c[0]-o[0]:d===2?c[1]-o[1]:o[0]-c[0]}return function(c){var o=c,d=(0,P.c)(),w,A,C,m,E,b,s,L,T,k,_,B={point:F,lineStart:V,lineEnd:W,polygonStart:N,polygonEnd:z};function F(re,ne){f(re,ne)&&o.point(re,ne)}function O(){for(var re=0,ne=0,ue=A.length;ne<ue;++ne)for(var J=A[ne],X=1,oe=J.length,Y=J[0],q,se,Q=Y[0],K=Y[1];X<oe;++X)q=Q,se=K,Y=J[X],Q=Y[0],K=Y[1],se<=u?K>u&&(Q-q)*(u-se)>(K-se)*(t-q)&&++re:K<=u&&(Q-q)*(u-se)<(K-se)*(t-q)&&--re;return re}function N(){o=d,w=[],A=[],_=!0}function z(){var re=O(),ne=_&&re,ue=(w=(0,M.Uf)(w)).length;(ne||ue)&&(c.polygonStart(),ne&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),ue&&(0,x.c)(w,h,re,l,c),c.polygonEnd()),o=c,w=A=C=null}function V(){B.point=$,A&&A.push(C=[]),k=!0,T=!1,s=L=NaN}function W(){w&&($(m,E),b&&T&&d.rejoin(),w.push(d.result())),B.point=F,T&&o.lineEnd()}function $(re,ne){var ue=f(re,ne);if(A&&C.push([re,ne]),k)m=re,E=ne,b=ue,k=!1,ue&&(o.lineStart(),o.point(re,ne));else if(ue&&T)o.point(re,ne);else{var J=[s=Math.max(p,Math.min(v,s)),L=Math.max(p,Math.min(v,L))],X=[re=Math.max(p,Math.min(v,re)),ne=Math.max(p,Math.min(v,ne))];a(J,X,t,i,n,u)?(T||(o.lineStart(),o.point(J[0],J[1])),o.point(X[0],X[1]),ue||o.lineEnd(),_=!1):ue&&(o.lineStart(),o.point(re,ne),_=!1)}s=re,L=ne,T=ue}return B}}},32232:function(j,H,e){e.d(H,{c:function(){return x}});var g=e(41860),P=e(64528);function a(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function x(v,p,r,t,i){var n=[],u=[],f,l;if(v.forEach(function(d){if(!((w=d.length-1)<=0)){var w,A=d[0],C=d[w],m;if((0,g.c)(A,C)){if(!A[2]&&!C[2]){for(i.lineStart(),f=0;f<w;++f)i.point((A=d[f])[0],A[1]);i.lineEnd();return}C[0]+=2*P.Gg}n.push(m=new a(A,d,null,!0)),u.push(m.o=new a(A,null,m,!1)),n.push(m=new a(C,d,null,!1)),u.push(m.o=new a(C,null,m,!0))}}),!!n.length){for(u.sort(p),M(n),M(u),f=0,l=u.length;f<l;++f)u[f].e=r=!r;for(var y=n[0],h,S;;){for(var c=y,o=!0;c.v;)if((c=c.n)===y)return;h=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(o)for(f=0,l=h.length;f<l;++f)i.point((S=h[f])[0],S[1]);else t(c.x,c.n.x,1,i);c=c.n}else{if(o)for(h=c.p.z,f=h.length-1;f>=0;--f)i.point((S=h[f])[0],S[1]);else t(c.x,c.p.x,-1,i);c=c.p}c=c.o,h=c.z,o=!o}while(!c.v);i.lineEnd()}}}function M(v){if(p=v.length){for(var p,r=0,t=v[0],i;++r<p;)t.n=i=v[r],i.p=t,t=i;t.n=i=v[0],i.p=t}}},68120:function(j,H,e){e.d(H,{c:function(){return g}});function g(P,a){function x(M,v){return M=P(M,v),a(M[0],M[1])}return P.invert&&a.invert&&(x.invert=function(M,v){return M=a.invert(M,v),M&&P.invert(M[0],M[1])}),x}},7376:function(j,H,e){e.d(H,{c:function(){return g}});function g(P){return P}},83356:function(j,H,e){e.r(H),e.d(H,{geoAlbers:function(){return yr},geoAlbersUsa:function(){return lt},geoArea:function(){return g.cp},geoAzimuthalEqualArea:function(){return Tt.c},geoAzimuthalEqualAreaRaw:function(){return Tt.y},geoAzimuthalEquidistant:function(){return Ct.c},geoAzimuthalEquidistantRaw:function(){return Ct.O},geoBounds:function(){return P.c},geoCentroid:function(){return a.c},geoCircle:function(){return x.c},geoClipAntimeridian:function(){return M.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return fr},geoConicEqualArea:function(){return Qt},geoConicEqualAreaRaw:function(){return Zt},geoConicEquidistant:function(){return je},geoConicEquidistantRaw:function(){return Ye},geoContains:function(){return N},geoDistance:function(){return b},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return Nt},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return gr.c},geoGnomonicRaw:function(){return gr.Y},geoGraticule:function(){return $},geoGraticule10:function(){return re},geoIdentity:function(){return vr},geoInterpolate:function(){return ne.c},geoLength:function(){return C},geoMercator:function(){return Vt},geoMercatorRaw:function(){return Dt},geoNaturalEarth1:function(){return Gr.c},geoNaturalEarth1Raw:function(){return Gr.g},geoOrthographic:function(){return Dr.c},geoOrthographicRaw:function(){return Dr.t},geoPath:function(){return kt},geoProjection:function(){return Kt.c},geoProjectionMutator:function(){return Kt.U},geoRotation:function(){return It.c},geoStereographic:function(){return nn},geoStereographicRaw:function(){return hn},geoStream:function(){return f.c},geoTransform:function(){return br.c},geoTransverseMercator:function(){return Cn},geoTransverseMercatorRaw:function(){return Pn}});var g=e(95384),P=e(13696),a=e(24052),x=e(61780),M=e(78284),v=e(2728),p=e(21676);function r(){var Ar=0,Pr=0,Wr=960,Vr=500,on,yn,mn;return mn={stream:function(Ln){return on&&yn===Ln?on:on=(0,p.c)(Ar,Pr,Wr,Vr)(yn=Ln)},extent:function(Ln){return arguments.length?(Ar=+Ln[0][0],Pr=+Ln[0][1],Wr=+Ln[1][0],Vr=+Ln[1][1],on=yn=null,mn):[[Ar,Pr],[Wr,Vr]]}}}var t=e(58196),i=e(88728),n=e(64528),u=e(70932),f=e(16016),l=(0,i.c)(),y,h,S,c={sphere:u.c,point:u.c,lineStart:o,lineEnd:u.c,polygonStart:u.c,polygonEnd:u.c};function o(){c.point=w,c.lineEnd=d}function d(){c.point=c.lineEnd=u.c}function w(Ar,Pr){Ar*=n.qw,Pr*=n.qw,y=Ar,h=(0,n.g$)(Pr),S=(0,n.W8)(Pr),c.point=A}function A(Ar,Pr){Ar*=n.qw,Pr*=n.qw;var Wr=(0,n.g$)(Pr),Vr=(0,n.W8)(Pr),on=(0,n.a2)(Ar-y),yn=(0,n.W8)(on),mn=(0,n.g$)(on),Ln=Vr*mn,zn=S*Wr-h*Vr*yn,aa=h*Wr+S*Vr*yn;l.add((0,n.WE)((0,n._I)(Ln*Ln+zn*zn),aa)),y=Ar,h=Wr,S=Vr}function C(Ar){return l.reset(),(0,f.c)(Ar,c),+l}var m=[null,null],E={type:"LineString",coordinates:m};function b(Ar,Pr){return m[0]=Ar,m[1]=Pr,C(E)}var s={Feature:function(Ar,Pr){return T(Ar.geometry,Pr)},FeatureCollection:function(Ar,Pr){for(var Wr=Ar.features,Vr=-1,on=Wr.length;++Vr<on;)if(T(Wr[Vr].geometry,Pr))return!0;return!1}},L={Sphere:function(){return!0},Point:function(Ar,Pr){return k(Ar.coordinates,Pr)},MultiPoint:function(Ar,Pr){for(var Wr=Ar.coordinates,Vr=-1,on=Wr.length;++Vr<on;)if(k(Wr[Vr],Pr))return!0;return!1},LineString:function(Ar,Pr){return _(Ar.coordinates,Pr)},MultiLineString:function(Ar,Pr){for(var Wr=Ar.coordinates,Vr=-1,on=Wr.length;++Vr<on;)if(_(Wr[Vr],Pr))return!0;return!1},Polygon:function(Ar,Pr){return B(Ar.coordinates,Pr)},MultiPolygon:function(Ar,Pr){for(var Wr=Ar.coordinates,Vr=-1,on=Wr.length;++Vr<on;)if(B(Wr[Vr],Pr))return!0;return!1},GeometryCollection:function(Ar,Pr){for(var Wr=Ar.geometries,Vr=-1,on=Wr.length;++Vr<on;)if(T(Wr[Vr],Pr))return!0;return!1}};function T(Ar,Pr){return Ar&&L.hasOwnProperty(Ar.type)?L[Ar.type](Ar,Pr):!1}function k(Ar,Pr){return b(Ar,Pr)===0}function _(Ar,Pr){for(var Wr,Vr,on,yn=0,mn=Ar.length;yn<mn;yn++){if(Vr=b(Ar[yn],Pr),Vr===0||yn>0&&(on=b(Ar[yn],Ar[yn-1]),on>0&&Wr<=on&&Vr<=on&&(Wr+Vr-on)*(1-Math.pow((Wr-Vr)/on,2))<n.a8*on))return!0;Wr=Vr}return!1}function B(Ar,Pr){return!!(0,t.c)(Ar.map(F),O(Pr))}function F(Ar){return Ar=Ar.map(O),Ar.pop(),Ar}function O(Ar){return[Ar[0]*n.qw,Ar[1]*n.qw]}function N(Ar,Pr){return(Ar&&s.hasOwnProperty(Ar.type)?s[Ar.type]:T)(Ar,Pr)}var z=e(84706);function V(Ar,Pr,Wr){var Vr=(0,z.ik)(Ar,Pr-n.Gg,Wr).concat(Pr);return function(on){return Vr.map(function(yn){return[on,yn]})}}function W(Ar,Pr,Wr){var Vr=(0,z.ik)(Ar,Pr-n.Gg,Wr).concat(Pr);return function(on){return Vr.map(function(yn){return[yn,on]})}}function $(){var Ar,Pr,Wr,Vr,on,yn,mn,Ln,zn=10,aa=zn,ha=90,pa=360,ua,na,Tr,an,qr=2.5;function pn(){return{type:"MultiLineString",coordinates:jn()}}function jn(){return(0,z.ik)((0,n.Km)(Vr/ha)*ha,Wr,ha).map(Tr).concat((0,z.ik)((0,n.Km)(Ln/pa)*pa,mn,pa).map(an)).concat((0,z.ik)((0,n.Km)(Pr/zn)*zn,Ar,zn).filter(function(An){return(0,n.a2)(An%ha)>n.Gg}).map(ua)).concat((0,z.ik)((0,n.Km)(yn/aa)*aa,on,aa).filter(function(An){return(0,n.a2)(An%pa)>n.Gg}).map(na))}return pn.lines=function(){return jn().map(function(An){return{type:"LineString",coordinates:An}})},pn.outline=function(){return{type:"Polygon",coordinates:[Tr(Vr).concat(an(mn).slice(1),Tr(Wr).reverse().slice(1),an(Ln).reverse().slice(1))]}},pn.extent=function(An){return arguments.length?pn.extentMajor(An).extentMinor(An):pn.extentMinor()},pn.extentMajor=function(An){return arguments.length?(Vr=+An[0][0],Wr=+An[1][0],Ln=+An[0][1],mn=+An[1][1],Vr>Wr&&(An=Vr,Vr=Wr,Wr=An),Ln>mn&&(An=Ln,Ln=mn,mn=An),pn.precision(qr)):[[Vr,Ln],[Wr,mn]]},pn.extentMinor=function(An){return arguments.length?(Pr=+An[0][0],Ar=+An[1][0],yn=+An[0][1],on=+An[1][1],Pr>Ar&&(An=Pr,Pr=Ar,Ar=An),yn>on&&(An=yn,yn=on,on=An),pn.precision(qr)):[[Pr,yn],[Ar,on]]},pn.step=function(An){return arguments.length?pn.stepMajor(An).stepMinor(An):pn.stepMinor()},pn.stepMajor=function(An){return arguments.length?(ha=+An[0],pa=+An[1],pn):[ha,pa]},pn.stepMinor=function(An){return arguments.length?(zn=+An[0],aa=+An[1],pn):[zn,aa]},pn.precision=function(An){return arguments.length?(qr=+An,ua=V(yn,on,90),na=W(Pr,Ar,qr),Tr=V(Ln,mn,90),an=W(Vr,Wr,qr),pn):qr},pn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function re(){return $()()}var ne=e(27284),ue=e(7376),J=(0,i.c)(),X=(0,i.c)(),oe,Y,q,se,Q={point:u.c,lineStart:u.c,lineEnd:u.c,polygonStart:function(){Q.lineStart=K,Q.lineEnd=ce},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=u.c,J.add((0,n.a2)(X)),X.reset()},result:function(){var Ar=J/2;return J.reset(),Ar}};function K(){Q.point=le}function le(Ar,Pr){Q.point=ie,oe=q=Ar,Y=se=Pr}function ie(Ar,Pr){X.add(se*Ar-q*Pr),q=Ar,se=Pr}function ce(){ie(oe,Y)}var ye=Q,Ce=e(73784),Ae=0,ke=0,we=0,Ee=0,xe=0,Pe=0,Ue=0,Be=0,Ne=0,Xe,ut,dt,at,We={point:rt,lineStart:st,lineEnd:At,polygonStart:function(){We.lineStart=et,We.lineEnd=_e},polygonEnd:function(){We.point=rt,We.lineStart=st,We.lineEnd=At},result:function(){var Ar=Ne?[Ue/Ne,Be/Ne]:Pe?[Ee/Pe,xe/Pe]:we?[Ae/we,ke/we]:[NaN,NaN];return Ae=ke=we=Ee=xe=Pe=Ue=Be=Ne=0,Ar}};function rt(Ar,Pr){Ae+=Ar,ke+=Pr,++we}function st(){We.point=ht}function ht(Ar,Pr){We.point=vt,rt(dt=Ar,at=Pr)}function vt(Ar,Pr){var Wr=Ar-dt,Vr=Pr-at,on=(0,n._I)(Wr*Wr+Vr*Vr);Ee+=on*(dt+Ar)/2,xe+=on*(at+Pr)/2,Pe+=on,rt(dt=Ar,at=Pr)}function At(){We.point=rt}function et(){We.point=Ve}function _e(){Ze(Xe,ut)}function Ve(Ar,Pr){We.point=Ze,rt(Xe=dt=Ar,ut=at=Pr)}function Ze(Ar,Pr){var Wr=Ar-dt,Vr=Pr-at,on=(0,n._I)(Wr*Wr+Vr*Vr);Ee+=on*(dt+Ar)/2,xe+=on*(at+Pr)/2,Pe+=on,on=at*Ar-dt*Pr,Ue+=on*(dt+Ar),Be+=on*(at+Pr),Ne+=on*3,rt(dt=Ar,at=Pr)}var He=We;function Ie(Ar){this._context=Ar}Ie.prototype={_radius:4.5,pointRadius:function(Ar){return this._radius=Ar,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ar,Pr){switch(this._point){case 0:{this._context.moveTo(Ar,Pr),this._point=1;break}case 1:{this._context.lineTo(Ar,Pr);break}default:{this._context.moveTo(Ar+this._radius,Pr),this._context.arc(Ar,Pr,this._radius,0,n.kD);break}}},result:u.c};var be=(0,i.c)(),me,Me,Te,Oe,Ke,nt={point:u.c,lineStart:function(){nt.point=pt},lineEnd:function(){me&&yt(Me,Te),nt.point=u.c},polygonStart:function(){me=!0},polygonEnd:function(){me=null},result:function(){var Ar=+be;return be.reset(),Ar}};function pt(Ar,Pr){nt.point=yt,Me=Oe=Ar,Te=Ke=Pr}function yt(Ar,Pr){Oe-=Ar,Ke-=Pr,be.add((0,n._I)(Oe*Oe+Ke*Ke)),Oe=Ar,Ke=Pr}var Yt=nt;function Xt(){this._string=[]}Xt.prototype={_radius:4.5,_circle:St(4.5),pointRadius:function(Ar){return(Ar=+Ar)!==this._radius&&(this._radius=Ar,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ar,Pr){switch(this._point){case 0:{this._string.push("M",Ar,",",Pr),this._point=1;break}case 1:{this._string.push("L",Ar,",",Pr);break}default:{this._circle==null&&(this._circle=St(this._radius)),this._string.push("M",Ar,",",Pr,this._circle);break}}},result:function(){if(this._string.length){var Ar=this._string.join("");return this._string=[],Ar}else return null}};function St(Ar){return"m0,"+Ar+"a"+Ar+","+Ar+" 0 1,1 0,"+-2*Ar+"a"+Ar+","+Ar+" 0 1,1 0,"+2*Ar+"z"}function kt(Ar,Pr){var Wr=4.5,Vr,on;function yn(mn){return mn&&(typeof Wr=="function"&&on.pointRadius(+Wr.apply(this,arguments)),(0,f.c)(mn,Vr(on))),on.result()}return yn.area=function(mn){return(0,f.c)(mn,Vr(ye)),ye.result()},yn.measure=function(mn){return(0,f.c)(mn,Vr(Yt)),Yt.result()},yn.bounds=function(mn){return(0,f.c)(mn,Vr(Ce.c)),Ce.c.result()},yn.centroid=function(mn){return(0,f.c)(mn,Vr(He)),He.result()},yn.projection=function(mn){return arguments.length?(Vr=mn==null?(Ar=null,ue.c):(Ar=mn).stream,yn):Ar},yn.context=function(mn){return arguments.length?(on=mn==null?(Pr=null,new Xt):new Ie(Pr=mn),typeof Wr!="function"&&on.pointRadius(Wr),yn):Pr},yn.pointRadius=function(mn){return arguments.length?(Wr=typeof mn=="function"?mn:(on.pointRadius(+mn),+mn),yn):Wr},yn.projection(Ar).context(Pr)}var Kt=e(87952);function mr(Ar){var Pr=0,Wr=n.pi/3,Vr=(0,Kt.U)(Ar),on=Vr(Pr,Wr);return on.parallels=function(yn){return arguments.length?Vr(Pr=yn[0]*n.qw,Wr=yn[1]*n.qw):[Pr*n.oh,Wr*n.oh]},on}function mt(Ar){var Pr=(0,n.W8)(Ar);function Wr(Vr,on){return[Vr*Pr,(0,n.g$)(on)/Pr]}return Wr.invert=function(Vr,on){return[Vr/Pr,(0,n.qR)(on*Pr)]},Wr}function Zt(Ar,Pr){var Wr=(0,n.g$)(Ar),Vr=(Wr+(0,n.g$)(Pr))/2;if((0,n.a2)(Vr)<n.Gg)return mt(Ar);var on=1+Wr*(2*Vr-Wr),yn=(0,n._I)(on)/Vr;function mn(Ln,zn){var aa=(0,n._I)(on-2*Vr*(0,n.g$)(zn))/Vr;return[aa*(0,n.g$)(Ln*=Vr),yn-aa*(0,n.W8)(Ln)]}return mn.invert=function(Ln,zn){var aa=yn-zn,ha=(0,n.WE)(Ln,(0,n.a2)(aa))*(0,n.kq)(aa);return aa*Vr<0&&(ha-=n.pi*(0,n.kq)(Ln)*(0,n.kq)(aa)),[ha/Vr,(0,n.qR)((on-(Ln*Ln+aa*aa)*Vr*Vr)/(2*Vr))]},mn}function Qt(){return mr(Zt).scale(155.424).center([0,33.6442])}function yr(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var sr=e(86420);function bt(Ar){var Pr=Ar.length;return{point:function(Wr,Vr){for(var on=-1;++on<Pr;)Ar[on].point(Wr,Vr)},sphere:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].sphere()},lineStart:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].lineStart()},lineEnd:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].lineEnd()},polygonStart:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].polygonStart()},polygonEnd:function(){for(var Wr=-1;++Wr<Pr;)Ar[Wr].polygonEnd()}}}function lt(){var Ar,Pr,Wr=yr(),Vr,on=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),yn,mn=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ln,zn,aa={point:function(ua,na){zn=[ua,na]}};function ha(ua){var na=ua[0],Tr=ua[1];return zn=null,Vr.point(na,Tr),zn||(yn.point(na,Tr),zn)||(Ln.point(na,Tr),zn)}ha.invert=function(ua){var na=Wr.scale(),Tr=Wr.translate(),an=(ua[0]-Tr[0])/na,qr=(ua[1]-Tr[1])/na;return(qr>=.12&&qr<.234&&an>=-.425&&an<-.214?on:qr>=.166&&qr<.234&&an>=-.214&&an<-.115?mn:Wr).invert(ua)},ha.stream=function(ua){return Ar&&Pr===ua?Ar:Ar=bt([Wr.stream(Pr=ua),on.stream(ua),mn.stream(ua)])},ha.precision=function(ua){return arguments.length?(Wr.precision(ua),on.precision(ua),mn.precision(ua),pa()):Wr.precision()},ha.scale=function(ua){return arguments.length?(Wr.scale(ua),on.scale(ua*.35),mn.scale(ua),ha.translate(Wr.translate())):Wr.scale()},ha.translate=function(ua){if(!arguments.length)return Wr.translate();var na=Wr.scale(),Tr=+ua[0],an=+ua[1];return Vr=Wr.translate(ua).clipExtent([[Tr-.455*na,an-.238*na],[Tr+.455*na,an+.238*na]]).stream(aa),yn=on.translate([Tr-.307*na,an+.201*na]).clipExtent([[Tr-.425*na+n.Gg,an+.12*na+n.Gg],[Tr-.214*na-n.Gg,an+.234*na-n.Gg]]).stream(aa),Ln=mn.translate([Tr-.205*na,an+.212*na]).clipExtent([[Tr-.214*na+n.Gg,an+.166*na+n.Gg],[Tr-.115*na-n.Gg,an+.234*na-n.Gg]]).stream(aa),pa()},ha.fitExtent=function(ua,na){return(0,sr.QX)(ha,ua,na)},ha.fitSize=function(ua,na){return(0,sr.UV)(ha,ua,na)},ha.fitWidth=function(ua,na){return(0,sr.Qx)(ha,ua,na)},ha.fitHeight=function(ua,na){return(0,sr.OW)(ha,ua,na)};function pa(){return Ar=Pr=null,ha}return ha.scale(1070)}var Tt=e(54724),Ct=e(69020),It=e(92992);function Dt(Ar,Pr){return[Ar,(0,n.Yz)((0,n.a6)((n.or+Pr)/2))]}Dt.invert=function(Ar,Pr){return[Ar,2*(0,n.MQ)((0,n.oN)(Pr))-n.or]};function Vt(){return Bt(Dt).scale(961/n.kD)}function Bt(Ar){var Pr=(0,Kt.c)(Ar),Wr=Pr.center,Vr=Pr.scale,on=Pr.translate,yn=Pr.clipExtent,mn=null,Ln,zn,aa;Pr.scale=function(pa){return arguments.length?(Vr(pa),ha()):Vr()},Pr.translate=function(pa){return arguments.length?(on(pa),ha()):on()},Pr.center=function(pa){return arguments.length?(Wr(pa),ha()):Wr()},Pr.clipExtent=function(pa){return arguments.length?(pa==null?mn=Ln=zn=aa=null:(mn=+pa[0][0],Ln=+pa[0][1],zn=+pa[1][0],aa=+pa[1][1]),ha()):mn==null?null:[[mn,Ln],[zn,aa]]};function ha(){var pa=n.pi*Vr(),ua=Pr((0,It.c)(Pr.rotate()).invert([0,0]));return yn(mn==null?[[ua[0]-pa,ua[1]-pa],[ua[0]+pa,ua[1]+pa]]:Ar===Dt?[[Math.max(ua[0]-pa,mn),Ln],[Math.min(ua[0]+pa,zn),aa]]:[[mn,Math.max(ua[1]-pa,Ln)],[zn,Math.min(ua[1]+pa,aa)]])}return ha()}function $t(Ar){return(0,n.a6)((n.or+Ar)/2)}function fr(Ar,Pr){var Wr=(0,n.W8)(Ar),Vr=Ar===Pr?(0,n.g$)(Ar):(0,n.Yz)(Wr/(0,n.W8)(Pr))/(0,n.Yz)($t(Pr)/$t(Ar)),on=Wr*(0,n.g3)($t(Ar),Vr)/Vr;if(!Vr)return Dt;function yn(mn,Ln){on>0?Ln<-n.or+n.Gg&&(Ln=-n.or+n.Gg):Ln>n.or-n.Gg&&(Ln=n.or-n.Gg);var zn=on/(0,n.g3)($t(Ln),Vr);return[zn*(0,n.g$)(Vr*mn),on-zn*(0,n.W8)(Vr*mn)]}return yn.invert=function(mn,Ln){var zn=on-Ln,aa=(0,n.kq)(Vr)*(0,n._I)(mn*mn+zn*zn),ha=(0,n.WE)(mn,(0,n.a2)(zn))*(0,n.kq)(zn);return zn*Vr<0&&(ha-=n.pi*(0,n.kq)(mn)*(0,n.kq)(zn)),[ha/Vr,2*(0,n.MQ)((0,n.g3)(on/aa,1/Vr))-n.or]},yn}function cr(){return mr(fr).scale(109.5).parallels([30,30])}var dr=e(69604);function Ye(Ar,Pr){var Wr=(0,n.W8)(Ar),Vr=Ar===Pr?(0,n.g$)(Ar):(Wr-(0,n.W8)(Pr))/(Pr-Ar),on=Wr/Vr+Ar;if((0,n.a2)(Vr)<n.Gg)return dr.u;function yn(mn,Ln){var zn=on-Ln,aa=Vr*mn;return[zn*(0,n.g$)(aa),on-zn*(0,n.W8)(aa)]}return yn.invert=function(mn,Ln){var zn=on-Ln,aa=(0,n.WE)(mn,(0,n.a2)(zn))*(0,n.kq)(zn);return zn*Vr<0&&(aa-=n.pi*(0,n.kq)(mn)*(0,n.kq)(zn)),[aa/Vr,on-(0,n.kq)(Vr)*(0,n._I)(mn*mn+zn*zn)]},yn}function je(){return mr(Ye).scale(131.154).center([0,13.9389])}var zt=1.340264,Ft=-.081106,Jt=893e-6,tr=.003796,ur=(0,n._I)(3)/2,nr=12;function Nt(Ar,Pr){var Wr=(0,n.qR)(ur*(0,n.g$)(Pr)),Vr=Wr*Wr,on=Vr*Vr*Vr;return[Ar*(0,n.W8)(Wr)/(ur*(zt+3*Ft*Vr+on*(7*Jt+9*tr*Vr))),Wr*(zt+Ft*Vr+on*(Jt+tr*Vr))]}Nt.invert=function(Ar,Pr){for(var Wr=Pr,Vr=Wr*Wr,on=Vr*Vr*Vr,yn=0,mn,Ln,zn;yn<nr&&(Ln=Wr*(zt+Ft*Vr+on*(Jt+tr*Vr))-Pr,zn=zt+3*Ft*Vr+on*(7*Jt+9*tr*Vr),Wr-=mn=Ln/zn,Vr=Wr*Wr,on=Vr*Vr*Vr,!((0,n.a2)(mn)<n.a8));++yn);return[ur*Ar*(zt+3*Ft*Vr+on*(7*Jt+9*tr*Vr))/(0,n.W8)(Wr),(0,n.qR)((0,n.g$)(Wr)/ur)]};function hr(){return(0,Kt.c)(Nt).scale(177.158)}var gr=e(53285),br=e(15196);function vr(){var Ar=1,Pr=0,Wr=0,Vr=1,on=1,yn=0,mn,Ln,zn=null,aa,ha,pa,ua=1,na=1,Tr=(0,br.s)({point:function(Sn,Un){var $n=An([Sn,Un]);this.stream.point($n[0],$n[1])}}),an=ue.c,qr,pn;function jn(){return ua=Ar*Vr,na=Ar*on,qr=pn=null,An}function An(Sn){var Un=Sn[0]*ua,$n=Sn[1]*na;if(yn){var ya=$n*mn-Un*Ln;Un=Un*mn+$n*Ln,$n=ya}return[Un+Pr,$n+Wr]}return An.invert=function(Sn){var Un=Sn[0]-Pr,$n=Sn[1]-Wr;if(yn){var ya=$n*mn+Un*Ln;Un=Un*mn-$n*Ln,$n=ya}return[Un/ua,$n/na]},An.stream=function(Sn){return qr&&pn===Sn?qr:qr=Tr(an(pn=Sn))},An.postclip=function(Sn){return arguments.length?(an=Sn,zn=aa=ha=pa=null,jn()):an},An.clipExtent=function(Sn){return arguments.length?(an=Sn==null?(zn=aa=ha=pa=null,ue.c):(0,p.c)(zn=+Sn[0][0],aa=+Sn[0][1],ha=+Sn[1][0],pa=+Sn[1][1]),jn()):zn==null?null:[[zn,aa],[ha,pa]]},An.scale=function(Sn){return arguments.length?(Ar=+Sn,jn()):Ar},An.translate=function(Sn){return arguments.length?(Pr=+Sn[0],Wr=+Sn[1],jn()):[Pr,Wr]},An.angle=function(Sn){return arguments.length?(yn=Sn%360*n.qw,Ln=(0,n.g$)(yn),mn=(0,n.W8)(yn),jn()):yn*n.oh},An.reflectX=function(Sn){return arguments.length?(Vr=Sn?-1:1,jn()):Vr<0},An.reflectY=function(Sn){return arguments.length?(on=Sn?-1:1,jn()):on<0},An.fitExtent=function(Sn,Un){return(0,sr.QX)(An,Sn,Un)},An.fitSize=function(Sn,Un){return(0,sr.UV)(An,Sn,Un)},An.fitWidth=function(Sn,Un){return(0,sr.Qx)(An,Sn,Un)},An.fitHeight=function(Sn,Un){return(0,sr.OW)(An,Sn,Un)},An}var Gr=e(47984),Dr=e(4888),_r=e(62280);function hn(Ar,Pr){var Wr=(0,n.W8)(Pr),Vr=1+(0,n.W8)(Ar)*Wr;return[Wr*(0,n.g$)(Ar)/Vr,(0,n.g$)(Pr)/Vr]}hn.invert=(0,_r.g)(function(Ar){return 2*(0,n.MQ)(Ar)});function nn(){return(0,Kt.c)(hn).scale(250).clipAngle(142)}function Pn(Ar,Pr){return[(0,n.Yz)((0,n.a6)((n.or+Pr)/2)),-Ar]}Pn.invert=function(Ar,Pr){return[-Pr,2*(0,n.MQ)((0,n.oN)(Ar))-n.or]};function Cn(){var Ar=Bt(Pn),Pr=Ar.center,Wr=Ar.rotate;return Ar.center=function(Vr){return arguments.length?Pr([-Vr[1],Vr[0]]):(Vr=Pr(),[Vr[1],-Vr[0]])},Ar.rotate=function(Vr){return arguments.length?Wr([Vr[0],Vr[1],Vr.length>2?Vr[2]+90:90]):(Vr=Wr(),[Vr[0],Vr[1],Vr[2]-90])},Wr([0,0,90]).scale(159.155)}},27284:function(j,H,e){e.d(H,{c:function(){return P}});var g=e(64528);function P(a,x){var M=a[0]*g.qw,v=a[1]*g.qw,p=x[0]*g.qw,r=x[1]*g.qw,t=(0,g.W8)(v),i=(0,g.g$)(v),n=(0,g.W8)(r),u=(0,g.g$)(r),f=t*(0,g.W8)(M),l=t*(0,g.g$)(M),y=n*(0,g.W8)(p),h=n*(0,g.g$)(p),S=2*(0,g.qR)((0,g._I)((0,g.SD)(r-v)+t*n*(0,g.SD)(p-M))),c=(0,g.g$)(S),o=S?function(d){var w=(0,g.g$)(d*=S)/c,A=(0,g.g$)(S-d)/c,C=A*f+w*y,m=A*l+w*h,E=A*i+w*u;return[(0,g.WE)(m,C)*g.oh,(0,g.WE)(E,(0,g._I)(C*C+m*m))*g.oh]}:function(){return[M*g.oh,v*g.oh]};return o.distance=S,o}},64528:function(j,H,e){e.d(H,{Gg:function(){return g},Km:function(){return f},MQ:function(){return i},SD:function(){return C},W8:function(){return u},WE:function(){return n},Yz:function(){return y},_I:function(){return o},a2:function(){return t},a6:function(){return d},a8:function(){return P},g$:function(){return S},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return w},oN:function(){return l},oh:function(){return p},or:function(){return x},pi:function(){return a},qR:function(){return A},qw:function(){return r},wL:function(){return M}});var g=1e-6,P=1e-12,a=Math.PI,x=a/2,M=a/4,v=a*2,p=180/a,r=a/180,t=Math.abs,i=Math.atan,n=Math.atan2,u=Math.cos,f=Math.ceil,l=Math.exp,y=Math.log,h=Math.pow,S=Math.sin,c=Math.sign||function(m){return m>0?1:m<0?-1:0},o=Math.sqrt,d=Math.tan;function w(m){return m>1?0:m<-1?a:Math.acos(m)}function A(m){return m>1?x:m<-1?-x:Math.asin(m)}function C(m){return(m=S(m/2))*m}},70932:function(j,H,e){e.d(H,{c:function(){return g}});function g(){}},73784:function(j,H,e){var g=e(70932),P=1/0,a=P,x=-P,M=x,v={point:p,lineStart:g.c,lineEnd:g.c,polygonStart:g.c,polygonEnd:g.c,result:function(){var r=[[P,a],[x,M]];return x=M=-(a=P=1/0),r}};function p(r,t){r<P&&(P=r),r>x&&(x=r),t<a&&(a=t),t>M&&(M=t)}H.c=v},41860:function(j,H,e){e.d(H,{c:function(){return P}});var g=e(64528);function P(a,x){return(0,g.a2)(a[0]-x[0])<g.Gg&&(0,g.a2)(a[1]-x[1])<g.Gg}},58196:function(j,H,e){e.d(H,{c:function(){return v}});var g=e(88728),P=e(84220),a=e(64528),x=(0,g.c)();function M(p){return(0,a.a2)(p[0])<=a.pi?p[0]:(0,a.kq)(p[0])*(((0,a.a2)(p[0])+a.pi)%a.kD-a.pi)}function v(p,r){var t=M(r),i=r[1],n=(0,a.g$)(i),u=[(0,a.g$)(t),-(0,a.W8)(t),0],f=0,l=0;x.reset(),n===1?i=a.or+a.Gg:n===-1&&(i=-a.or-a.Gg);for(var y=0,h=p.length;y<h;++y)if(c=(S=p[y]).length)for(var S,c,o=S[c-1],d=M(o),w=o[1]/2+a.wL,A=(0,a.g$)(w),C=(0,a.W8)(w),m=0;m<c;++m,d=b,A=L,C=T,o=E){var E=S[m],b=M(E),s=E[1]/2+a.wL,L=(0,a.g$)(s),T=(0,a.W8)(s),k=b-d,_=k>=0?1:-1,B=_*k,F=B>a.pi,O=A*L;if(x.add((0,a.WE)(O*_*(0,a.g$)(B),C*T+O*(0,a.W8)(B))),f+=F?k+_*a.kD:k,F^d>=t^b>=t){var N=(0,P.CW)((0,P.ux)(o),(0,P.ux)(E));(0,P.cJ)(N);var z=(0,P.CW)(u,N);(0,P.cJ)(z);var V=(F^k>=0?-1:1)*(0,a.qR)(z[2]);(i>V||i===V&&(N[0]||N[1]))&&(l+=F^k>=0?1:-1)}}return(f<-a.Gg||f<a.Gg&&x<-a.Gg)^l&1}},62280:function(j,H,e){e.d(H,{a:function(){return P},g:function(){return a}});var g=e(64528);function P(x){return function(M,v){var p=(0,g.W8)(M),r=(0,g.W8)(v),t=x(p*r);return[t*r*(0,g.g$)(M),t*(0,g.g$)(v)]}}function a(x){return function(M,v){var p=(0,g._I)(M*M+v*v),r=x(p),t=(0,g.g$)(r),i=(0,g.W8)(r);return[(0,g.WE)(M*t,p*i),(0,g.qR)(p&&v*t/p)]}}},54724:function(j,H,e){e.d(H,{c:function(){return M},y:function(){return x}});var g=e(64528),P=e(62280),a=e(87952),x=(0,P.a)(function(v){return(0,g._I)(2/(1+v))});x.invert=(0,P.g)(function(v){return 2*(0,g.qR)(v/2)});function M(){return(0,a.c)(x).scale(124.75).clipAngle(179.999)}},69020:function(j,H,e){e.d(H,{O:function(){return x},c:function(){return M}});var g=e(64528),P=e(62280),a=e(87952),x=(0,P.a)(function(v){return(v=(0,g.mE)(v))&&v/(0,g.g$)(v)});x.invert=(0,P.g)(function(v){return v});function M(){return(0,a.c)(x).scale(79.4188).clipAngle(179.999)}},69604:function(j,H,e){e.d(H,{c:function(){return a},u:function(){return P}});var g=e(87952);function P(x,M){return[x,M]}P.invert=P;function a(){return(0,g.c)(P).scale(152.63)}},86420:function(j,H,e){e.d(H,{OW:function(){return p},QX:function(){return x},Qx:function(){return v},UV:function(){return M}});var g=e(16016),P=e(73784);function a(r,t,i){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,g.c)(i,r.stream(P.c)),t(P.c.result()),n!=null&&r.clipExtent(n),r}function x(r,t,i){return a(r,function(n){var u=t[1][0]-t[0][0],f=t[1][1]-t[0][1],l=Math.min(u/(n[1][0]-n[0][0]),f/(n[1][1]-n[0][1])),y=+t[0][0]+(u-l*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(f-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([y,h])},i)}function M(r,t,i){return x(r,[[0,0],t],i)}function v(r,t,i){return a(r,function(n){var u=+t,f=u/(n[1][0]-n[0][0]),l=(u-f*(n[1][0]+n[0][0]))/2,y=-f*n[0][1];r.scale(150*f).translate([l,y])},i)}function p(r,t,i){return a(r,function(n){var u=+t,f=u/(n[1][1]-n[0][1]),l=-f*n[0][0],y=(u-f*(n[1][1]+n[0][1]))/2;r.scale(150*f).translate([l,y])},i)}},53285:function(j,H,e){e.d(H,{Y:function(){return x},c:function(){return M}});var g=e(64528),P=e(62280),a=e(87952);function x(v,p){var r=(0,g.W8)(p),t=(0,g.W8)(v)*r;return[r*(0,g.g$)(v)/t,(0,g.g$)(p)/t]}x.invert=(0,P.g)(g.MQ);function M(){return(0,a.c)(x).scale(144.049).clipAngle(60)}},87952:function(j,H,e){e.d(H,{c:function(){return d},U:function(){return w}});var g=e(78284),P=e(2728),a=e(21676),x=e(68120),M=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),i=e(84220),n=16,u=(0,v.W8)(30*v.qw);function f(A,C){return+C?y(A,C):l(A)}function l(A){return(0,r.s)({point:function(C,m){C=A(C,m),this.stream.point(C[0],C[1])}})}function y(A,C){function m(E,b,s,L,T,k,_,B,F,O,N,z,V,W){var $=_-E,re=B-b,ne=$*$+re*re;if(ne>4*C&&V--){var ue=L+O,J=T+N,X=k+z,oe=(0,v._I)(ue*ue+J*J+X*X),Y=(0,v.qR)(X/=oe),q=(0,v.a2)((0,v.a2)(X)-1)<v.Gg||(0,v.a2)(s-F)<v.Gg?(s+F)/2:(0,v.WE)(J,ue),se=A(q,Y),Q=se[0],K=se[1],le=Q-E,ie=K-b,ce=re*le-$*ie;(ce*ce/ne>C||(0,v.a2)(($*le+re*ie)/ne-.5)>.3||L*O+T*N+k*z<u)&&(m(E,b,s,L,T,k,Q,K,q,ue/=oe,J/=oe,X,V,W),W.point(Q,K),m(Q,K,q,ue,J,X,_,B,F,O,N,z,V,W))}}return function(E){var b,s,L,T,k,_,B,F,O,N,z,V,W={point:$,lineStart:re,lineEnd:ue,polygonStart:function(){E.polygonStart(),W.lineStart=J},polygonEnd:function(){E.polygonEnd(),W.lineStart=re}};function $(Y,q){Y=A(Y,q),E.point(Y[0],Y[1])}function re(){F=NaN,W.point=ne,E.lineStart()}function ne(Y,q){var se=(0,i.ux)([Y,q]),Q=A(Y,q);m(F,O,B,N,z,V,F=Q[0],O=Q[1],B=Y,N=se[0],z=se[1],V=se[2],n,E),E.point(F,O)}function ue(){W.point=$,E.lineEnd()}function J(){re(),W.point=X,W.lineEnd=oe}function X(Y,q){ne(b=Y,q),s=F,L=O,T=N,k=z,_=V,W.point=ne}function oe(){m(F,O,B,N,z,V,s,L,b,T,k,_,n,E),W.lineEnd=ue,ue()}return W}}var h=(0,r.s)({point:function(A,C){this.stream.point(A*v.qw,C*v.qw)}});function S(A){return(0,r.s)({point:function(C,m){var E=A(C,m);return this.stream.point(E[0],E[1])}})}function c(A,C,m,E,b){function s(L,T){return L*=E,T*=b,[C+A*L,m-A*T]}return s.invert=function(L,T){return[(L-C)/A*E,(m-T)/A*b]},s}function o(A,C,m,E,b,s){var L=(0,v.W8)(s),T=(0,v.g$)(s),k=L*A,_=T*A,B=L/A,F=T/A,O=(T*m-L*C)/A,N=(T*C+L*m)/A;function z(V,W){return V*=E,W*=b,[k*V-_*W+C,m-_*V-k*W]}return z.invert=function(V,W){return[E*(B*V-F*W+O),b*(N-F*V-B*W)]},z}function d(A){return w(function(){return A})()}function w(A){var C,m=150,E=480,b=250,s=0,L=0,T=0,k=0,_=0,B,F=0,O=1,N=1,z=null,V=g.c,W=null,$,re,ne,ue=M.c,J=.5,X,oe,Y,q,se;function Q(ce){return Y(ce[0]*v.qw,ce[1]*v.qw)}function K(ce){return ce=Y.invert(ce[0],ce[1]),ce&&[ce[0]*v.oh,ce[1]*v.oh]}Q.stream=function(ce){return q&&se===ce?q:q=h(S(B)(V(X(ue(se=ce)))))},Q.preclip=function(ce){return arguments.length?(V=ce,z=void 0,ie()):V},Q.postclip=function(ce){return arguments.length?(ue=ce,W=$=re=ne=null,ie()):ue},Q.clipAngle=function(ce){return arguments.length?(V=+ce?(0,P.c)(z=ce*v.qw):(z=null,g.c),ie()):z*v.oh},Q.clipExtent=function(ce){return arguments.length?(ue=ce==null?(W=$=re=ne=null,M.c):(0,a.c)(W=+ce[0][0],$=+ce[0][1],re=+ce[1][0],ne=+ce[1][1]),ie()):W==null?null:[[W,$],[re,ne]]},Q.scale=function(ce){return arguments.length?(m=+ce,le()):m},Q.translate=function(ce){return arguments.length?(E=+ce[0],b=+ce[1],le()):[E,b]},Q.center=function(ce){return arguments.length?(s=ce[0]%360*v.qw,L=ce[1]%360*v.qw,le()):[s*v.oh,L*v.oh]},Q.rotate=function(ce){return arguments.length?(T=ce[0]%360*v.qw,k=ce[1]%360*v.qw,_=ce.length>2?ce[2]%360*v.qw:0,le()):[T*v.oh,k*v.oh,_*v.oh]},Q.angle=function(ce){return arguments.length?(F=ce%360*v.qw,le()):F*v.oh},Q.reflectX=function(ce){return arguments.length?(O=ce?-1:1,le()):O<0},Q.reflectY=function(ce){return arguments.length?(N=ce?-1:1,le()):N<0},Q.precision=function(ce){return arguments.length?(X=f(oe,J=ce*ce),ie()):(0,v._I)(J)},Q.fitExtent=function(ce,ye){return(0,t.QX)(Q,ce,ye)},Q.fitSize=function(ce,ye){return(0,t.UV)(Q,ce,ye)},Q.fitWidth=function(ce,ye){return(0,t.Qx)(Q,ce,ye)},Q.fitHeight=function(ce,ye){return(0,t.OW)(Q,ce,ye)};function le(){var ce=o(m,0,0,O,N,F).apply(null,C(s,L)),ye=(F?o:c)(m,E-ce[0],b-ce[1],O,N,F);return B=(0,p.O)(T,k,_),oe=(0,x.c)(C,ye),Y=(0,x.c)(B,oe),X=f(oe,J),ie()}function ie(){return q=se=null,Q}return function(){return C=A.apply(this,arguments),Q.invert=C.invert&&K,le()}}},47984:function(j,H,e){e.d(H,{c:function(){return x},g:function(){return a}});var g=e(87952),P=e(64528);function a(M,v){var p=v*v,r=p*p;return[M*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}a.invert=function(M,v){var p=v,r=25,t;do{var i=p*p,n=i*i;p-=t=(p*(1.007226+i*(.015085+n*(-.044475+.028874*i-.005916*n)))-v)/(1.007226+i*(.045255+n*(-.311325+.259866*i-.06507600000000001*n)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[M/(.8707+(i=p*p)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),p]};function x(){return(0,g.c)(a).scale(175.295)}},4888:function(j,H,e){e.d(H,{c:function(){return M},t:function(){return x}});var g=e(64528),P=e(62280),a=e(87952);function x(v,p){return[(0,g.W8)(p)*(0,g.g$)(v),(0,g.g$)(p)]}x.invert=(0,P.g)(g.qR);function M(){return(0,a.c)(x).scale(249.5).clipAngle(90+g.Gg)}},92992:function(j,H,e){e.d(H,{O:function(){return x},c:function(){return r}});var g=e(68120),P=e(64528);function a(t,i){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,i]}a.invert=a;function x(t,i,n){return(t%=P.kD)?i||n?(0,g.c)(v(t),p(i,n)):v(t):i||n?p(i,n):a}function M(t){return function(i,n){return i+=t,[i>P.pi?i-P.kD:i<-P.pi?i+P.kD:i,n]}}function v(t){var i=M(t);return i.invert=M(-t),i}function p(t,i){var n=(0,P.W8)(t),u=(0,P.g$)(t),f=(0,P.W8)(i),l=(0,P.g$)(i);function y(h,S){var c=(0,P.W8)(S),o=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,w=(0,P.g$)(S),A=w*n+o*u;return[(0,P.WE)(d*f-A*l,o*n-w*u),(0,P.qR)(A*f+d*l)]}return y.invert=function(h,S){var c=(0,P.W8)(S),o=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,w=(0,P.g$)(S),A=w*f-d*l;return[(0,P.WE)(d*f+w*l,o*n+A*u),(0,P.qR)(A*n-o*u)]},y}function r(t){t=x(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function i(n){return n=t(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n}return i.invert=function(n){return n=t.invert(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n},i}},16016:function(j,H,e){e.d(H,{c:function(){return v}});function g(p,r){p&&a.hasOwnProperty(p.type)&&a[p.type](p,r)}var P={Feature:function(p,r){g(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,i=-1,n=t.length;++i<n;)g(t[i].geometry,r)}},a={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)p=t[i],r.point(p[0],p[1],p[2])},LineString:function(p,r){x(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)x(t[i],r,0)},Polygon:function(p,r){M(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)M(t[i],r)},GeometryCollection:function(p,r){for(var t=p.geometries,i=-1,n=t.length;++i<n;)g(t[i],r)}};function x(p,r,t){var i=-1,n=p.length-t,u;for(r.lineStart();++i<n;)u=p[i],r.point(u[0],u[1],u[2]);r.lineEnd()}function M(p,r){var t=-1,i=p.length;for(r.polygonStart();++t<i;)x(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):g(p,r)}},15196:function(j,H,e){e.d(H,{c:function(){return g},s:function(){return P}});function g(x){return{stream:P(x)}}function P(x){return function(M){var v=new a;for(var p in x)v[p]=x[p];return v.stream=M,v}}function a(){}a.prototype={constructor:a,point:function(x,M){this.stream.point(x,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(j,H,e){e.r(H),e.d(H,{cluster:function(){return r},hierarchy:function(){return A},pack:function(){return K},packEnclose:function(){return k},packSiblings:function(){return X},partition:function(){return Ae},stratify:function(){return Ue},tree:function(){return st},treemap:function(){return _e},treemapBinary:function(){return Ve},treemapDice:function(){return Ce},treemapResquarify:function(){return He},treemapSlice:function(){return ht},treemapSliceDice:function(){return Ze},treemapSquarify:function(){return et}});function g(Ie,be){return Ie.parent===be.parent?1:2}function P(Ie){return Ie.reduce(a,0)/Ie.length}function a(Ie,be){return Ie+be.x}function x(Ie){return 1+Ie.reduce(M,0)}function M(Ie,be){return Math.max(Ie,be.y)}function v(Ie){for(var be;be=Ie.children;)Ie=be[0];return Ie}function p(Ie){for(var be;be=Ie.children;)Ie=be[be.length-1];return Ie}function r(){var Ie=g,be=1,me=1,Me=!1;function Te(Oe){var Ke,nt=0;Oe.eachAfter(function(St){var kt=St.children;kt?(St.x=P(kt),St.y=x(kt)):(St.x=Ke?nt+=Ie(St,Ke):0,St.y=0,Ke=St)});var pt=v(Oe),yt=p(Oe),Yt=pt.x-Ie(pt,yt)/2,Xt=yt.x+Ie(yt,pt)/2;return Oe.eachAfter(Me?function(St){St.x=(St.x-Oe.x)*be,St.y=(Oe.y-St.y)*me}:function(St){St.x=(St.x-Yt)/(Xt-Yt)*be,St.y=(1-(Oe.y?St.y/Oe.y:1))*me})}return Te.separation=function(Oe){return arguments.length?(Ie=Oe,Te):Ie},Te.size=function(Oe){return arguments.length?(Me=!1,be=+Oe[0],me=+Oe[1],Te):Me?null:[be,me]},Te.nodeSize=function(Oe){return arguments.length?(Me=!0,be=+Oe[0],me=+Oe[1],Te):Me?[be,me]:null},Te}function t(Ie){var be=0,me=Ie.children,Me=me&&me.length;if(!Me)be=1;else for(;--Me>=0;)be+=me[Me].value;Ie.value=be}function i(){return this.eachAfter(t)}function n(Ie){var be=this,me,Me=[be],Te,Oe,Ke;do for(me=Me.reverse(),Me=[];be=me.pop();)if(Ie(be),Te=be.children,Te)for(Oe=0,Ke=Te.length;Oe<Ke;++Oe)Me.push(Te[Oe]);while(Me.length);return this}function u(Ie){for(var be=this,me=[be],Me,Te;be=me.pop();)if(Ie(be),Me=be.children,Me)for(Te=Me.length-1;Te>=0;--Te)me.push(Me[Te]);return this}function f(Ie){for(var be=this,me=[be],Me=[],Te,Oe,Ke;be=me.pop();)if(Me.push(be),Te=be.children,Te)for(Oe=0,Ke=Te.length;Oe<Ke;++Oe)me.push(Te[Oe]);for(;be=Me.pop();)Ie(be);return this}function l(Ie){return this.eachAfter(function(be){for(var me=+Ie(be.data)||0,Me=be.children,Te=Me&&Me.length;--Te>=0;)me+=Me[Te].value;be.value=me})}function y(Ie){return this.eachBefore(function(be){be.children&&be.children.sort(Ie)})}function h(Ie){for(var be=this,me=S(be,Ie),Me=[be];be!==me;)be=be.parent,Me.push(be);for(var Te=Me.length;Ie!==me;)Me.splice(Te,0,Ie),Ie=Ie.parent;return Me}function S(Ie,be){if(Ie===be)return Ie;var me=Ie.ancestors(),Me=be.ancestors(),Te=null;for(Ie=me.pop(),be=Me.pop();Ie===be;)Te=Ie,Ie=me.pop(),be=Me.pop();return Te}function c(){for(var Ie=this,be=[Ie];Ie=Ie.parent;)be.push(Ie);return be}function o(){var Ie=[];return this.each(function(be){Ie.push(be)}),Ie}function d(){var Ie=[];return this.eachBefore(function(be){be.children||Ie.push(be)}),Ie}function w(){var Ie=this,be=[];return Ie.each(function(me){me!==Ie&&be.push({source:me.parent,target:me})}),be}function A(Ie,be){var me=new s(Ie),Me=+Ie.value&&(me.value=Ie.value),Te,Oe=[me],Ke,nt,pt,yt;for(be==null&&(be=m);Te=Oe.pop();)if(Me&&(Te.value=+Te.data.value),(nt=be(Te.data))&&(yt=nt.length))for(Te.children=new Array(yt),pt=yt-1;pt>=0;--pt)Oe.push(Ke=Te.children[pt]=new s(nt[pt])),Ke.parent=Te,Ke.depth=Te.depth+1;return me.eachBefore(b)}function C(){return A(this).eachBefore(E)}function m(Ie){return Ie.children}function E(Ie){Ie.data=Ie.data.data}function b(Ie){var be=0;do Ie.height=be;while((Ie=Ie.parent)&&Ie.height<++be)}function s(Ie){this.data=Ie,this.depth=this.height=0,this.parent=null}s.prototype=A.prototype={constructor:s,count:i,each:n,eachAfter:f,eachBefore:u,sum:l,sort:y,path:h,ancestors:c,descendants:o,leaves:d,links:w,copy:C};var L=Array.prototype.slice;function T(Ie){for(var be=Ie.length,me,Me;be;)Me=Math.random()*be--|0,me=Ie[be],Ie[be]=Ie[Me],Ie[Me]=me;return Ie}function k(Ie){for(var be=0,me=(Ie=T(L.call(Ie))).length,Me=[],Te,Oe;be<me;)Te=Ie[be],Oe&&F(Oe,Te)?++be:(Oe=N(Me=_(Me,Te)),be=0);return Oe}function _(Ie,be){var me,Me;if(O(be,Ie))return[be];for(me=0;me<Ie.length;++me)if(B(be,Ie[me])&&O(V(Ie[me],be),Ie))return[Ie[me],be];for(me=0;me<Ie.length-1;++me)for(Me=me+1;Me<Ie.length;++Me)if(B(V(Ie[me],Ie[Me]),be)&&B(V(Ie[me],be),Ie[Me])&&B(V(Ie[Me],be),Ie[me])&&O(W(Ie[me],Ie[Me],be),Ie))return[Ie[me],Ie[Me],be];throw new Error}function B(Ie,be){var me=Ie.r-be.r,Me=be.x-Ie.x,Te=be.y-Ie.y;return me<0||me*me<Me*Me+Te*Te}function F(Ie,be){var me=Ie.r-be.r+1e-6,Me=be.x-Ie.x,Te=be.y-Ie.y;return me>0&&me*me>Me*Me+Te*Te}function O(Ie,be){for(var me=0;me<be.length;++me)if(!F(Ie,be[me]))return!1;return!0}function N(Ie){switch(Ie.length){case 1:return z(Ie[0]);case 2:return V(Ie[0],Ie[1]);case 3:return W(Ie[0],Ie[1],Ie[2])}}function z(Ie){return{x:Ie.x,y:Ie.y,r:Ie.r}}function V(Ie,be){var me=Ie.x,Me=Ie.y,Te=Ie.r,Oe=be.x,Ke=be.y,nt=be.r,pt=Oe-me,yt=Ke-Me,Yt=nt-Te,Xt=Math.sqrt(pt*pt+yt*yt);return{x:(me+Oe+pt/Xt*Yt)/2,y:(Me+Ke+yt/Xt*Yt)/2,r:(Xt+Te+nt)/2}}function W(Ie,be,me){var Me=Ie.x,Te=Ie.y,Oe=Ie.r,Ke=be.x,nt=be.y,pt=be.r,yt=me.x,Yt=me.y,Xt=me.r,St=Me-Ke,kt=Me-yt,Kt=Te-nt,mr=Te-Yt,mt=pt-Oe,Zt=Xt-Oe,Qt=Me*Me+Te*Te-Oe*Oe,yr=Qt-Ke*Ke-nt*nt+pt*pt,sr=Qt-yt*yt-Yt*Yt+Xt*Xt,bt=kt*Kt-St*mr,lt=(Kt*sr-mr*yr)/(bt*2)-Me,Tt=(mr*mt-Kt*Zt)/bt,Ct=(kt*yr-St*sr)/(bt*2)-Te,It=(St*Zt-kt*mt)/bt,Dt=Tt*Tt+It*It-1,Vt=2*(Oe+lt*Tt+Ct*It),Bt=lt*lt+Ct*Ct-Oe*Oe,$t=-(Dt?(Vt+Math.sqrt(Vt*Vt-4*Dt*Bt))/(2*Dt):Bt/Vt);return{x:Me+lt+Tt*$t,y:Te+Ct+It*$t,r:$t}}function $(Ie,be,me){var Me=Ie.x-be.x,Te,Oe,Ke=Ie.y-be.y,nt,pt,yt=Me*Me+Ke*Ke;yt?(Oe=be.r+me.r,Oe*=Oe,pt=Ie.r+me.r,pt*=pt,Oe>pt?(Te=(yt+pt-Oe)/(2*yt),nt=Math.sqrt(Math.max(0,pt/yt-Te*Te)),me.x=Ie.x-Te*Me-nt*Ke,me.y=Ie.y-Te*Ke+nt*Me):(Te=(yt+Oe-pt)/(2*yt),nt=Math.sqrt(Math.max(0,Oe/yt-Te*Te)),me.x=be.x+Te*Me-nt*Ke,me.y=be.y+Te*Ke+nt*Me)):(me.x=be.x+me.r,me.y=be.y)}function re(Ie,be){var me=Ie.r+be.r-1e-6,Me=be.x-Ie.x,Te=be.y-Ie.y;return me>0&&me*me>Me*Me+Te*Te}function ne(Ie){var be=Ie._,me=Ie.next._,Me=be.r+me.r,Te=(be.x*me.r+me.x*be.r)/Me,Oe=(be.y*me.r+me.y*be.r)/Me;return Te*Te+Oe*Oe}function ue(Ie){this._=Ie,this.next=null,this.previous=null}function J(Ie){if(!(Te=Ie.length))return 0;var be,me,Me,Te,Oe,Ke,nt,pt,yt,Yt,Xt;if(be=Ie[0],be.x=0,be.y=0,!(Te>1))return be.r;if(me=Ie[1],be.x=-me.r,me.x=be.r,me.y=0,!(Te>2))return be.r+me.r;$(me,be,Me=Ie[2]),be=new ue(be),me=new ue(me),Me=new ue(Me),be.next=Me.previous=me,me.next=be.previous=Me,Me.next=me.previous=be;e:for(nt=3;nt<Te;++nt){$(be._,me._,Me=Ie[nt]),Me=new ue(Me),pt=me.next,yt=be.previous,Yt=me._.r,Xt=be._.r;do if(Yt<=Xt){if(re(pt._,Me._)){me=pt,be.next=me,me.previous=be,--nt;continue e}Yt+=pt._.r,pt=pt.next}else{if(re(yt._,Me._)){be=yt,be.next=me,me.previous=be,--nt;continue e}Xt+=yt._.r,yt=yt.previous}while(pt!==yt.next);for(Me.previous=be,Me.next=me,be.next=me.previous=me=Me,Oe=ne(be);(Me=Me.next)!==me;)(Ke=ne(Me))<Oe&&(be=Me,Oe=Ke);me=be.next}for(be=[me._],Me=me;(Me=Me.next)!==me;)be.push(Me._);for(Me=k(be),nt=0;nt<Te;++nt)be=Ie[nt],be.x-=Me.x,be.y-=Me.y;return Me.r}function X(Ie){return J(Ie),Ie}function oe(Ie){return Ie==null?null:Y(Ie)}function Y(Ie){if(typeof Ie!="function")throw new Error;return Ie}function q(){return 0}function se(Ie){return function(){return Ie}}function Q(Ie){return Math.sqrt(Ie.value)}function K(){var Ie=null,be=1,me=1,Me=q;function Te(Oe){return Oe.x=be/2,Oe.y=me/2,Ie?Oe.eachBefore(le(Ie)).eachAfter(ie(Me,.5)).eachBefore(ce(1)):Oe.eachBefore(le(Q)).eachAfter(ie(q,1)).eachAfter(ie(Me,Oe.r/Math.min(be,me))).eachBefore(ce(Math.min(be,me)/(2*Oe.r))),Oe}return Te.radius=function(Oe){return arguments.length?(Ie=oe(Oe),Te):Ie},Te.size=function(Oe){return arguments.length?(be=+Oe[0],me=+Oe[1],Te):[be,me]},Te.padding=function(Oe){return arguments.length?(Me=typeof Oe=="function"?Oe:se(+Oe),Te):Me},Te}function le(Ie){return function(be){be.children||(be.r=Math.max(0,+Ie(be)||0))}}function ie(Ie,be){return function(me){if(Me=me.children){var Me,Te,Oe=Me.length,Ke=Ie(me)*be||0,nt;if(Ke)for(Te=0;Te<Oe;++Te)Me[Te].r+=Ke;if(nt=J(Me),Ke)for(Te=0;Te<Oe;++Te)Me[Te].r-=Ke;me.r=nt+Ke}}}function ce(Ie){return function(be){var me=be.parent;be.r*=Ie,me&&(be.x=me.x+Ie*be.x,be.y=me.y+Ie*be.y)}}function ye(Ie){Ie.x0=Math.round(Ie.x0),Ie.y0=Math.round(Ie.y0),Ie.x1=Math.round(Ie.x1),Ie.y1=Math.round(Ie.y1)}function Ce(Ie,be,me,Me,Te){for(var Oe=Ie.children,Ke,nt=-1,pt=Oe.length,yt=Ie.value&&(Me-be)/Ie.value;++nt<pt;)Ke=Oe[nt],Ke.y0=me,Ke.y1=Te,Ke.x0=be,Ke.x1=be+=Ke.value*yt}function Ae(){var Ie=1,be=1,me=0,Me=!1;function Te(Ke){var nt=Ke.height+1;return Ke.x0=Ke.y0=me,Ke.x1=Ie,Ke.y1=be/nt,Ke.eachBefore(Oe(be,nt)),Me&&Ke.eachBefore(ye),Ke}function Oe(Ke,nt){return function(pt){pt.children&&Ce(pt,pt.x0,Ke*(pt.depth+1)/nt,pt.x1,Ke*(pt.depth+2)/nt);var yt=pt.x0,Yt=pt.y0,Xt=pt.x1-me,St=pt.y1-me;Xt<yt&&(yt=Xt=(yt+Xt)/2),St<Yt&&(Yt=St=(Yt+St)/2),pt.x0=yt,pt.y0=Yt,pt.x1=Xt,pt.y1=St}}return Te.round=function(Ke){return arguments.length?(Me=!!Ke,Te):Me},Te.size=function(Ke){return arguments.length?(Ie=+Ke[0],be=+Ke[1],Te):[Ie,be]},Te.padding=function(Ke){return arguments.length?(me=+Ke,Te):me},Te}var ke="$",we={depth:-1},Ee={};function xe(Ie){return Ie.id}function Pe(Ie){return Ie.parentId}function Ue(){var Ie=xe,be=Pe;function me(Me){var Te,Oe,Ke=Me.length,nt,pt,yt,Yt=new Array(Ke),Xt,St,kt={};for(Oe=0;Oe<Ke;++Oe)Te=Me[Oe],yt=Yt[Oe]=new s(Te),(Xt=Ie(Te,Oe,Me))!=null&&(Xt+="")&&(St=ke+(yt.id=Xt),kt[St]=St in kt?Ee:yt);for(Oe=0;Oe<Ke;++Oe)if(yt=Yt[Oe],Xt=be(Me[Oe],Oe,Me),Xt==null||!(Xt+="")){if(nt)throw new Error("multiple roots");nt=yt}else{if(pt=kt[ke+Xt],!pt)throw new Error("missing: "+Xt);if(pt===Ee)throw new Error("ambiguous: "+Xt);pt.children?pt.children.push(yt):pt.children=[yt],yt.parent=pt}if(!nt)throw new Error("no root");if(nt.parent=we,nt.eachBefore(function(Kt){Kt.depth=Kt.parent.depth+1,--Ke}).eachBefore(b),nt.parent=null,Ke>0)throw new Error("cycle");return nt}return me.id=function(Me){return arguments.length?(Ie=Y(Me),me):Ie},me.parentId=function(Me){return arguments.length?(be=Y(Me),me):be},me}function Be(Ie,be){return Ie.parent===be.parent?1:2}function Ne(Ie){var be=Ie.children;return be?be[0]:Ie.t}function Xe(Ie){var be=Ie.children;return be?be[be.length-1]:Ie.t}function ut(Ie,be,me){var Me=me/(be.i-Ie.i);be.c-=Me,be.s+=me,Ie.c+=Me,be.z+=me,be.m+=me}function dt(Ie){for(var be=0,me=0,Me=Ie.children,Te=Me.length,Oe;--Te>=0;)Oe=Me[Te],Oe.z+=be,Oe.m+=be,be+=Oe.s+(me+=Oe.c)}function at(Ie,be,me){return Ie.a.parent===be.parent?Ie.a:me}function We(Ie,be){this._=Ie,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=be}We.prototype=Object.create(s.prototype);function rt(Ie){for(var be=new We(Ie,0),me,Me=[be],Te,Oe,Ke,nt;me=Me.pop();)if(Oe=me._.children)for(me.children=new Array(nt=Oe.length),Ke=nt-1;Ke>=0;--Ke)Me.push(Te=me.children[Ke]=new We(Oe[Ke],Ke)),Te.parent=me;return(be.parent=new We(null,0)).children=[be],be}function st(){var Ie=Be,be=1,me=1,Me=null;function Te(yt){var Yt=rt(yt);if(Yt.eachAfter(Oe),Yt.parent.m=-Yt.z,Yt.eachBefore(Ke),Me)yt.eachBefore(pt);else{var Xt=yt,St=yt,kt=yt;yt.eachBefore(function(Qt){Qt.x<Xt.x&&(Xt=Qt),Qt.x>St.x&&(St=Qt),Qt.depth>kt.depth&&(kt=Qt)});var Kt=Xt===St?1:Ie(Xt,St)/2,mr=Kt-Xt.x,mt=be/(St.x+Kt+mr),Zt=me/(kt.depth||1);yt.eachBefore(function(Qt){Qt.x=(Qt.x+mr)*mt,Qt.y=Qt.depth*Zt})}return yt}function Oe(yt){var Yt=yt.children,Xt=yt.parent.children,St=yt.i?Xt[yt.i-1]:null;if(Yt){dt(yt);var kt=(Yt[0].z+Yt[Yt.length-1].z)/2;St?(yt.z=St.z+Ie(yt._,St._),yt.m=yt.z-kt):yt.z=kt}else St&&(yt.z=St.z+Ie(yt._,St._));yt.parent.A=nt(yt,St,yt.parent.A||Xt[0])}function Ke(yt){yt._.x=yt.z+yt.parent.m,yt.m+=yt.parent.m}function nt(yt,Yt,Xt){if(Yt){for(var St=yt,kt=yt,Kt=Yt,mr=St.parent.children[0],mt=St.m,Zt=kt.m,Qt=Kt.m,yr=mr.m,sr;Kt=Xe(Kt),St=Ne(St),Kt&&St;)mr=Ne(mr),kt=Xe(kt),kt.a=yt,sr=Kt.z+Qt-St.z-mt+Ie(Kt._,St._),sr>0&&(ut(at(Kt,yt,Xt),yt,sr),mt+=sr,Zt+=sr),Qt+=Kt.m,mt+=St.m,yr+=mr.m,Zt+=kt.m;Kt&&!Xe(kt)&&(kt.t=Kt,kt.m+=Qt-Zt),St&&!Ne(mr)&&(mr.t=St,mr.m+=mt-yr,Xt=yt)}return Xt}function pt(yt){yt.x*=be,yt.y=yt.depth*me}return Te.separation=function(yt){return arguments.length?(Ie=yt,Te):Ie},Te.size=function(yt){return arguments.length?(Me=!1,be=+yt[0],me=+yt[1],Te):Me?null:[be,me]},Te.nodeSize=function(yt){return arguments.length?(Me=!0,be=+yt[0],me=+yt[1],Te):Me?[be,me]:null},Te}function ht(Ie,be,me,Me,Te){for(var Oe=Ie.children,Ke,nt=-1,pt=Oe.length,yt=Ie.value&&(Te-me)/Ie.value;++nt<pt;)Ke=Oe[nt],Ke.x0=be,Ke.x1=Me,Ke.y0=me,Ke.y1=me+=Ke.value*yt}var vt=(1+Math.sqrt(5))/2;function At(Ie,be,me,Me,Te,Oe){for(var Ke=[],nt=be.children,pt,yt,Yt=0,Xt=0,St=nt.length,kt,Kt,mr=be.value,mt,Zt,Qt,yr,sr,bt,lt;Yt<St;){kt=Te-me,Kt=Oe-Me;do mt=nt[Xt++].value;while(!mt&&Xt<St);for(Zt=Qt=mt,bt=Math.max(Kt/kt,kt/Kt)/(mr*Ie),lt=mt*mt*bt,sr=Math.max(Qt/lt,lt/Zt);Xt<St;++Xt){if(mt+=yt=nt[Xt].value,yt<Zt&&(Zt=yt),yt>Qt&&(Qt=yt),lt=mt*mt*bt,yr=Math.max(Qt/lt,lt/Zt),yr>sr){mt-=yt;break}sr=yr}Ke.push(pt={value:mt,dice:kt<Kt,children:nt.slice(Yt,Xt)}),pt.dice?Ce(pt,me,Me,Te,mr?Me+=Kt*mt/mr:Oe):ht(pt,me,Me,mr?me+=kt*mt/mr:Te,Oe),mr-=mt,Yt=Xt}return Ke}var et=function Ie(be){function me(Me,Te,Oe,Ke,nt){At(be,Me,Te,Oe,Ke,nt)}return me.ratio=function(Me){return Ie((Me=+Me)>1?Me:1)},me}(vt);function _e(){var Ie=et,be=!1,me=1,Me=1,Te=[0],Oe=q,Ke=q,nt=q,pt=q,yt=q;function Yt(St){return St.x0=St.y0=0,St.x1=me,St.y1=Me,St.eachBefore(Xt),Te=[0],be&&St.eachBefore(ye),St}function Xt(St){var kt=Te[St.depth],Kt=St.x0+kt,mr=St.y0+kt,mt=St.x1-kt,Zt=St.y1-kt;mt<Kt&&(Kt=mt=(Kt+mt)/2),Zt<mr&&(mr=Zt=(mr+Zt)/2),St.x0=Kt,St.y0=mr,St.x1=mt,St.y1=Zt,St.children&&(kt=Te[St.depth+1]=Oe(St)/2,Kt+=yt(St)-kt,mr+=Ke(St)-kt,mt-=nt(St)-kt,Zt-=pt(St)-kt,mt<Kt&&(Kt=mt=(Kt+mt)/2),Zt<mr&&(mr=Zt=(mr+Zt)/2),Ie(St,Kt,mr,mt,Zt))}return Yt.round=function(St){return arguments.length?(be=!!St,Yt):be},Yt.size=function(St){return arguments.length?(me=+St[0],Me=+St[1],Yt):[me,Me]},Yt.tile=function(St){return arguments.length?(Ie=Y(St),Yt):Ie},Yt.padding=function(St){return arguments.length?Yt.paddingInner(St).paddingOuter(St):Yt.paddingInner()},Yt.paddingInner=function(St){return arguments.length?(Oe=typeof St=="function"?St:se(+St),Yt):Oe},Yt.paddingOuter=function(St){return arguments.length?Yt.paddingTop(St).paddingRight(St).paddingBottom(St).paddingLeft(St):Yt.paddingTop()},Yt.paddingTop=function(St){return arguments.length?(Ke=typeof St=="function"?St:se(+St),Yt):Ke},Yt.paddingRight=function(St){return arguments.length?(nt=typeof St=="function"?St:se(+St),Yt):nt},Yt.paddingBottom=function(St){return arguments.length?(pt=typeof St=="function"?St:se(+St),Yt):pt},Yt.paddingLeft=function(St){return arguments.length?(yt=typeof St=="function"?St:se(+St),Yt):yt},Yt}function Ve(Ie,be,me,Me,Te){var Oe=Ie.children,Ke,nt=Oe.length,pt,yt=new Array(nt+1);for(yt[0]=pt=Ke=0;Ke<nt;++Ke)yt[Ke+1]=pt+=Oe[Ke].value;Yt(0,nt,Ie.value,be,me,Me,Te);function Yt(Xt,St,kt,Kt,mr,mt,Zt){if(Xt>=St-1){var Qt=Oe[Xt];Qt.x0=Kt,Qt.y0=mr,Qt.x1=mt,Qt.y1=Zt;return}for(var yr=yt[Xt],sr=kt/2+yr,bt=Xt+1,lt=St-1;bt<lt;){var Tt=bt+lt>>>1;yt[Tt]<sr?bt=Tt+1:lt=Tt}sr-yt[bt-1]<yt[bt]-sr&&Xt+1<bt&&--bt;var Ct=yt[bt]-yr,It=kt-Ct;if(mt-Kt>Zt-mr){var Dt=(Kt*It+mt*Ct)/kt;Yt(Xt,bt,Ct,Kt,mr,Dt,Zt),Yt(bt,St,It,Dt,mr,mt,Zt)}else{var Vt=(mr*It+Zt*Ct)/kt;Yt(Xt,bt,Ct,Kt,mr,mt,Vt),Yt(bt,St,It,Kt,Vt,mt,Zt)}}}function Ze(Ie,be,me,Me,Te){(Ie.depth&1?ht:Ce)(Ie,be,me,Me,Te)}var He=function Ie(be){function me(Me,Te,Oe,Ke,nt){if((pt=Me._squarify)&&pt.ratio===be)for(var pt,yt,Yt,Xt,St=-1,kt,Kt=pt.length,mr=Me.value;++St<Kt;){for(yt=pt[St],Yt=yt.children,Xt=yt.value=0,kt=Yt.length;Xt<kt;++Xt)yt.value+=Yt[Xt].value;yt.dice?Ce(yt,Te,Oe,Ke,Oe+=(nt-Oe)*yt.value/mr):ht(yt,Te,Oe,Te+=(Ke-Te)*yt.value/mr,nt),mr-=yt.value}else Me._squarify=pt=At(be,Me,Te,Oe,Ke,nt),pt.ratio=be}return me.ratio=function(Me){return Ie((Me=+Me)>1?Me:1)},me}(vt)},10132:function(j,H,e){e.d(H,{ak:function(){return h}});var g=Math.PI,P=2*g,a=1e-6,x=P-a;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new M}M.prototype=v.prototype={constructor:M,moveTo:function(S,c){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(S,c){this._+="L"+(this._x1=+S)+","+(this._y1=+c)},quadraticCurveTo:function(S,c,o,d){this._+="Q"+ +S+","+ +c+","+(this._x1=+o)+","+(this._y1=+d)},bezierCurveTo:function(S,c,o,d,w,A){this._+="C"+ +S+","+ +c+","+ +o+","+ +d+","+(this._x1=+w)+","+(this._y1=+A)},arcTo:function(S,c,o,d,w){S=+S,c=+c,o=+o,d=+d,w=+w;var A=this._x1,C=this._y1,m=o-S,E=d-c,b=A-S,s=C-c,L=b*b+s*s;if(w<0)throw new Error("negative radius: "+w);if(this._x1===null)this._+="M"+(this._x1=S)+","+(this._y1=c);else if(L>a)if(!(Math.abs(s*m-E*b)>a)||!w)this._+="L"+(this._x1=S)+","+(this._y1=c);else{var T=o-A,k=d-C,_=m*m+E*E,B=T*T+k*k,F=Math.sqrt(_),O=Math.sqrt(L),N=w*Math.tan((g-Math.acos((_+L-B)/(2*F*O)))/2),z=N/O,V=N/F;Math.abs(z-1)>a&&(this._+="L"+(S+z*b)+","+(c+z*s)),this._+="A"+w+","+w+",0,0,"+ +(s*T>b*k)+","+(this._x1=S+V*m)+","+(this._y1=c+V*E)}},arc:function(S,c,o,d,w,A){S=+S,c=+c,o=+o,A=!!A;var C=o*Math.cos(d),m=o*Math.sin(d),E=S+C,b=c+m,s=1^A,L=A?d-w:w-d;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+E+","+b:(Math.abs(this._x1-E)>a||Math.abs(this._y1-b)>a)&&(this._+="L"+E+","+b),o&&(L<0&&(L=L%P+P),L>x?this._+="A"+o+","+o+",0,1,"+s+","+(S-C)+","+(c-m)+"A"+o+","+o+",0,1,"+s+","+(this._x1=E)+","+(this._y1=b):L>a&&(this._+="A"+o+","+o+",0,"+ +(L>=g)+","+s+","+(this._x1=S+o*Math.cos(w))+","+(this._y1=c+o*Math.sin(w))))},rect:function(S,c,o,d){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+c)+"h"+ +o+"v"+ +d+"h"+-o+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(S){return function(){return S}}function i(S){return S[0]}function n(S){return S[1]}function u(S){return S.source}function f(S){return S.target}function l(S){var c=u,o=f,d=i,w=n,A=null;function C(){var m,E=r.call(arguments),b=c.apply(this,E),s=o.apply(this,E);if(A||(A=m=p()),S(A,+d.apply(this,(E[0]=b,E)),+w.apply(this,E),+d.apply(this,(E[0]=s,E)),+w.apply(this,E)),m)return A=null,m+""||null}return C.source=function(m){return arguments.length?(c=m,C):c},C.target=function(m){return arguments.length?(o=m,C):o},C.x=function(m){return arguments.length?(d=typeof m=="function"?m:t(+m),C):d},C.y=function(m){return arguments.length?(w=typeof m=="function"?m:t(+m),C):w},C.context=function(m){return arguments.length?(A=m??null,C):A},C}function y(S,c,o,d,w){S.moveTo(c,o),S.bezierCurveTo(c=(c+d)/2,o,c,w,d,w)}function h(){return l(y)}},94336:function(j,H,e){e.d(H,{Yn:function(){return Ve},m_:function(){return i},E9:function(){return Ze}});var g=e(8208),P=e(58931),a=e(46192),x=e(68936),M=e(32171),v=e(53528);function p(Ie){if(0<=Ie.y&&Ie.y<100){var be=new Date(-1,Ie.m,Ie.d,Ie.H,Ie.M,Ie.S,Ie.L);return be.setFullYear(Ie.y),be}return new Date(Ie.y,Ie.m,Ie.d,Ie.H,Ie.M,Ie.S,Ie.L)}function r(Ie){if(0<=Ie.y&&Ie.y<100){var be=new Date(Date.UTC(-1,Ie.m,Ie.d,Ie.H,Ie.M,Ie.S,Ie.L));return be.setUTCFullYear(Ie.y),be}return new Date(Date.UTC(Ie.y,Ie.m,Ie.d,Ie.H,Ie.M,Ie.S,Ie.L))}function t(Ie,be,me){return{y:Ie,m:be,d:me,H:0,M:0,S:0,L:0}}function i(Ie){var be=Ie.dateTime,me=Ie.date,Me=Ie.time,Te=Ie.periods,Oe=Ie.days,Ke=Ie.shortDays,nt=Ie.months,pt=Ie.shortMonths,yt=S(Te),Yt=c(Te),Xt=S(Oe),St=c(Oe),kt=S(Ke),Kt=c(Ke),mr=S(nt),mt=c(nt),Zt=S(pt),Qt=c(pt),yr={a:Ye,A:je,b:zt,B:Ft,c:null,d:$,e:$,f:X,H:re,I:ne,j:ue,L:J,m:oe,M:Y,p:Jt,q:tr,Q:At,s:et,S:q,u:se,U:Q,V:K,w:le,W:ie,x:null,X:null,y:ce,Y:ye,Z:Ce,"%":vt},sr={a:ur,A:nr,b:Nt,B:hr,c:null,d:Ae,e:Ae,f:Pe,H:ke,I:we,j:Ee,L:xe,m:Ue,M:Be,p:gr,q:br,Q:At,s:et,S:Ne,u:Xe,U:ut,V:dt,w:at,W:We,x:null,X:null,y:rt,Y:st,Z:ht,"%":vt},bt={a:Dt,A:Vt,b:Bt,B:$t,c:fr,d:T,e:T,f:N,H:_,I:_,j:k,L:O,m:L,M:B,p:It,q:s,Q:V,s:W,S:F,u:d,U:w,V:A,w:o,W:C,x:cr,X:dr,y:E,Y:m,Z:b,"%":z};yr.x=lt(me,yr),yr.X=lt(Me,yr),yr.c=lt(be,yr),sr.x=lt(me,sr),sr.X=lt(Me,sr),sr.c=lt(be,sr);function lt(vr,Gr){return function(Dr){var _r=[],hn=-1,nn=0,Pn=vr.length,Cn,Ar,Pr;for(Dr instanceof Date||(Dr=new Date(+Dr));++hn<Pn;)vr.charCodeAt(hn)===37&&(_r.push(vr.slice(nn,hn)),(Ar=n[Cn=vr.charAt(++hn)])!=null?Cn=vr.charAt(++hn):Ar=Cn==="e"?" ":"0",(Pr=Gr[Cn])&&(Cn=Pr(Dr,Ar)),_r.push(Cn),nn=hn+1);return _r.push(vr.slice(nn,hn)),_r.join("")}}function Tt(vr,Gr){return function(Dr){var _r=t(1900,void 0,1),hn=Ct(_r,vr,Dr+="",0),nn,Pn;if(hn!=Dr.length)return null;if("Q"in _r)return new Date(_r.Q);if("s"in _r)return new Date(_r.s*1e3+("L"in _r?_r.L:0));if(Gr&&!("Z"in _r)&&(_r.Z=0),"p"in _r&&(_r.H=_r.H%12+_r.p*12),_r.m===void 0&&(_r.m="q"in _r?_r.q:0),"V"in _r){if(_r.V<1||_r.V>53)return null;"w"in _r||(_r.w=1),"Z"in _r?(nn=r(t(_r.y,0,1)),Pn=nn.getUTCDay(),nn=Pn>4||Pn===0?g.ot.ceil(nn):(0,g.ot)(nn),nn=P.c.offset(nn,(_r.V-1)*7),_r.y=nn.getUTCFullYear(),_r.m=nn.getUTCMonth(),_r.d=nn.getUTCDate()+(_r.w+6)%7):(nn=p(t(_r.y,0,1)),Pn=nn.getDay(),nn=Pn>4||Pn===0?a.qT.ceil(nn):(0,a.qT)(nn),nn=x.c.offset(nn,(_r.V-1)*7),_r.y=nn.getFullYear(),_r.m=nn.getMonth(),_r.d=nn.getDate()+(_r.w+6)%7)}else("W"in _r||"U"in _r)&&("w"in _r||(_r.w="u"in _r?_r.u%7:"W"in _r?1:0),Pn="Z"in _r?r(t(_r.y,0,1)).getUTCDay():p(t(_r.y,0,1)).getDay(),_r.m=0,_r.d="W"in _r?(_r.w+6)%7+_r.W*7-(Pn+5)%7:_r.w+_r.U*7-(Pn+6)%7);return"Z"in _r?(_r.H+=_r.Z/100|0,_r.M+=_r.Z%100,r(_r)):p(_r)}}function Ct(vr,Gr,Dr,_r){for(var hn=0,nn=Gr.length,Pn=Dr.length,Cn,Ar;hn<nn;){if(_r>=Pn)return-1;if(Cn=Gr.charCodeAt(hn++),Cn===37){if(Cn=Gr.charAt(hn++),Ar=bt[Cn in n?Gr.charAt(hn++):Cn],!Ar||(_r=Ar(vr,Dr,_r))<0)return-1}else if(Cn!=Dr.charCodeAt(_r++))return-1}return _r}function It(vr,Gr,Dr){var _r=yt.exec(Gr.slice(Dr));return _r?(vr.p=Yt[_r[0].toLowerCase()],Dr+_r[0].length):-1}function Dt(vr,Gr,Dr){var _r=kt.exec(Gr.slice(Dr));return _r?(vr.w=Kt[_r[0].toLowerCase()],Dr+_r[0].length):-1}function Vt(vr,Gr,Dr){var _r=Xt.exec(Gr.slice(Dr));return _r?(vr.w=St[_r[0].toLowerCase()],Dr+_r[0].length):-1}function Bt(vr,Gr,Dr){var _r=Zt.exec(Gr.slice(Dr));return _r?(vr.m=Qt[_r[0].toLowerCase()],Dr+_r[0].length):-1}function $t(vr,Gr,Dr){var _r=mr.exec(Gr.slice(Dr));return _r?(vr.m=mt[_r[0].toLowerCase()],Dr+_r[0].length):-1}function fr(vr,Gr,Dr){return Ct(vr,be,Gr,Dr)}function cr(vr,Gr,Dr){return Ct(vr,me,Gr,Dr)}function dr(vr,Gr,Dr){return Ct(vr,Me,Gr,Dr)}function Ye(vr){return Ke[vr.getDay()]}function je(vr){return Oe[vr.getDay()]}function zt(vr){return pt[vr.getMonth()]}function Ft(vr){return nt[vr.getMonth()]}function Jt(vr){return Te[+(vr.getHours()>=12)]}function tr(vr){return 1+~~(vr.getMonth()/3)}function ur(vr){return Ke[vr.getUTCDay()]}function nr(vr){return Oe[vr.getUTCDay()]}function Nt(vr){return pt[vr.getUTCMonth()]}function hr(vr){return nt[vr.getUTCMonth()]}function gr(vr){return Te[+(vr.getUTCHours()>=12)]}function br(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Gr=lt(vr+="",yr);return Gr.toString=function(){return vr},Gr},parse:function(vr){var Gr=Tt(vr+="",!1);return Gr.toString=function(){return vr},Gr},utcFormat:function(vr){var Gr=lt(vr+="",sr);return Gr.toString=function(){return vr},Gr},utcParse:function(vr){var Gr=Tt(vr+="",!0);return Gr.toString=function(){return vr},Gr}}}var n={"-":"",_:" ",0:"0"},u=/^\s*\d+/,f=/^%/,l=/[\\^$*+?|[\]().{}]/g;function y(Ie,be,me){var Me=Ie<0?"-":"",Te=(Me?-Ie:Ie)+"",Oe=Te.length;return Me+(Oe<me?new Array(me-Oe+1).join(be)+Te:Te)}function h(Ie){return Ie.replace(l,"\\$&")}function S(Ie){return new RegExp("^(?:"+Ie.map(h).join("|")+")","i")}function c(Ie){for(var be={},me=-1,Me=Ie.length;++me<Me;)be[Ie[me].toLowerCase()]=me;return be}function o(Ie,be,me){var Me=u.exec(be.slice(me,me+1));return Me?(Ie.w=+Me[0],me+Me[0].length):-1}function d(Ie,be,me){var Me=u.exec(be.slice(me,me+1));return Me?(Ie.u=+Me[0],me+Me[0].length):-1}function w(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.U=+Me[0],me+Me[0].length):-1}function A(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.V=+Me[0],me+Me[0].length):-1}function C(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.W=+Me[0],me+Me[0].length):-1}function m(Ie,be,me){var Me=u.exec(be.slice(me,me+4));return Me?(Ie.y=+Me[0],me+Me[0].length):-1}function E(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.y=+Me[0]+(+Me[0]>68?1900:2e3),me+Me[0].length):-1}function b(Ie,be,me){var Me=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(be.slice(me,me+6));return Me?(Ie.Z=Me[1]?0:-(Me[2]+(Me[3]||"00")),me+Me[0].length):-1}function s(Ie,be,me){var Me=u.exec(be.slice(me,me+1));return Me?(Ie.q=Me[0]*3-3,me+Me[0].length):-1}function L(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.m=Me[0]-1,me+Me[0].length):-1}function T(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.d=+Me[0],me+Me[0].length):-1}function k(Ie,be,me){var Me=u.exec(be.slice(me,me+3));return Me?(Ie.m=0,Ie.d=+Me[0],me+Me[0].length):-1}function _(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.H=+Me[0],me+Me[0].length):-1}function B(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.M=+Me[0],me+Me[0].length):-1}function F(Ie,be,me){var Me=u.exec(be.slice(me,me+2));return Me?(Ie.S=+Me[0],me+Me[0].length):-1}function O(Ie,be,me){var Me=u.exec(be.slice(me,me+3));return Me?(Ie.L=+Me[0],me+Me[0].length):-1}function N(Ie,be,me){var Me=u.exec(be.slice(me,me+6));return Me?(Ie.L=Math.floor(Me[0]/1e3),me+Me[0].length):-1}function z(Ie,be,me){var Me=f.exec(be.slice(me,me+1));return Me?me+Me[0].length:-1}function V(Ie,be,me){var Me=u.exec(be.slice(me));return Me?(Ie.Q=+Me[0],me+Me[0].length):-1}function W(Ie,be,me){var Me=u.exec(be.slice(me));return Me?(Ie.s=+Me[0],me+Me[0].length):-1}function $(Ie,be){return y(Ie.getDate(),be,2)}function re(Ie,be){return y(Ie.getHours(),be,2)}function ne(Ie,be){return y(Ie.getHours()%12||12,be,2)}function ue(Ie,be){return y(1+x.c.count((0,M.c)(Ie),Ie),be,3)}function J(Ie,be){return y(Ie.getMilliseconds(),be,3)}function X(Ie,be){return J(Ie,be)+"000"}function oe(Ie,be){return y(Ie.getMonth()+1,be,2)}function Y(Ie,be){return y(Ie.getMinutes(),be,2)}function q(Ie,be){return y(Ie.getSeconds(),be,2)}function se(Ie){var be=Ie.getDay();return be===0?7:be}function Q(Ie,be){return y(a.uU.count((0,M.c)(Ie)-1,Ie),be,2)}function K(Ie,be){var me=Ie.getDay();return Ie=me>=4||me===0?(0,a.kD)(Ie):a.kD.ceil(Ie),y(a.kD.count((0,M.c)(Ie),Ie)+((0,M.c)(Ie).getDay()===4),be,2)}function le(Ie){return Ie.getDay()}function ie(Ie,be){return y(a.qT.count((0,M.c)(Ie)-1,Ie),be,2)}function ce(Ie,be){return y(Ie.getFullYear()%100,be,2)}function ye(Ie,be){return y(Ie.getFullYear()%1e4,be,4)}function Ce(Ie){var be=Ie.getTimezoneOffset();return(be>0?"-":(be*=-1,"+"))+y(be/60|0,"0",2)+y(be%60,"0",2)}function Ae(Ie,be){return y(Ie.getUTCDate(),be,2)}function ke(Ie,be){return y(Ie.getUTCHours(),be,2)}function we(Ie,be){return y(Ie.getUTCHours()%12||12,be,2)}function Ee(Ie,be){return y(1+P.c.count((0,v.c)(Ie),Ie),be,3)}function xe(Ie,be){return y(Ie.getUTCMilliseconds(),be,3)}function Pe(Ie,be){return xe(Ie,be)+"000"}function Ue(Ie,be){return y(Ie.getUTCMonth()+1,be,2)}function Be(Ie,be){return y(Ie.getUTCMinutes(),be,2)}function Ne(Ie,be){return y(Ie.getUTCSeconds(),be,2)}function Xe(Ie){var be=Ie.getUTCDay();return be===0?7:be}function ut(Ie,be){return y(g.EV.count((0,v.c)(Ie)-1,Ie),be,2)}function dt(Ie,be){var me=Ie.getUTCDay();return Ie=me>=4||me===0?(0,g.yA)(Ie):g.yA.ceil(Ie),y(g.yA.count((0,v.c)(Ie),Ie)+((0,v.c)(Ie).getUTCDay()===4),be,2)}function at(Ie){return Ie.getUTCDay()}function We(Ie,be){return y(g.ot.count((0,v.c)(Ie)-1,Ie),be,2)}function rt(Ie,be){return y(Ie.getUTCFullYear()%100,be,2)}function st(Ie,be){return y(Ie.getUTCFullYear()%1e4,be,4)}function ht(){return"+0000"}function vt(){return"%"}function At(Ie){return+Ie}function et(Ie){return Math.floor(+Ie/1e3)}var _e,Ve,Ze;He({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function He(Ie){return _e=i(Ie),Ve=_e.format,_e.parse,Ze=_e.utcFormat,_e.utcParse,_e}},68936:function(j,H,e){e.d(H,{m:function(){return x}});var g=e(81628),P=e(69792),a=(0,g.c)(function(M){M.setHours(0,0,0,0)},function(M,v){M.setDate(M.getDate()+v)},function(M,v){return(v-M-(v.getTimezoneOffset()-M.getTimezoneOffset())*P.iy)/P.SK},function(M){return M.getDate()-1});H.c=a;var x=a.range},69792:function(j,H,e){e.d(H,{KK:function(){return M},SK:function(){return x},cg:function(){return a},iy:function(){return P},yc:function(){return g}});var g=1e3,P=6e4,a=36e5,x=864e5,M=6048e5},73220:function(j,H,e){e.r(H),e.d(H,{timeDay:function(){return y.c},timeDays:function(){return y.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return f},timeHours:function(){return l},timeInterval:function(){return g.c},timeMillisecond:function(){return a},timeMilliseconds:function(){return x},timeMinute:function(){return i},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return o},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return L.od},utcFridays:function(){return L.iG},utcHour:function(){return E},utcHours:function(){return b},utcMillisecond:function(){return a},utcMilliseconds:function(){return x},utcMinute:function(){return A},utcMinutes:function(){return C},utcMonday:function(){return L.ot},utcMondays:function(){return L.iO},utcMonth:function(){return k},utcMonths:function(){return _},utcSaturday:function(){return L.Ad},utcSaturdays:function(){return L.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return L.EV},utcSundays:function(){return L.Wq},utcThursday:function(){return L.yA},utcThursdays:function(){return L.ob},utcTuesday:function(){return L.sG},utcTuesdays:function(){return L.kl},utcWednesday:function(){return L._6},utcWednesdays:function(){return L.W_},utcWeek:function(){return L.EV},utcWeeks:function(){return L.Wq},utcYear:function(){return B.c},utcYears:function(){return B.i}});var g=e(81628),P=(0,g.c)(function(){},function(F,O){F.setTime(+F+O)},function(F,O){return O-F});P.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,g.c)(function(O){O.setTime(Math.floor(O/F)*F)},function(O,N){O.setTime(+O+N*F)},function(O,N){return(N-O)/F}):P};var a=P,x=P.range,M=e(69792),v=(0,g.c)(function(F){F.setTime(F-F.getMilliseconds())},function(F,O){F.setTime(+F+O*M.yc)},function(F,O){return(O-F)/M.yc},function(F){return F.getUTCSeconds()}),p=v,r=v.range,t=(0,g.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.yc)},function(F,O){F.setTime(+F+O*M.iy)},function(F,O){return(O-F)/M.iy},function(F){return F.getMinutes()}),i=t,n=t.range,u=(0,g.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.yc-F.getMinutes()*M.iy)},function(F,O){F.setTime(+F+O*M.cg)},function(F,O){return(O-F)/M.cg},function(F){return F.getHours()}),f=u,l=u.range,y=e(68936),h=e(46192),S=(0,g.c)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,O){F.setMonth(F.getMonth()+O)},function(F,O){return O.getMonth()-F.getMonth()+(O.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),c=S,o=S.range,d=e(32171),w=(0,g.c)(function(F){F.setUTCSeconds(0,0)},function(F,O){F.setTime(+F+O*M.iy)},function(F,O){return(O-F)/M.iy},function(F){return F.getUTCMinutes()}),A=w,C=w.range,m=(0,g.c)(function(F){F.setUTCMinutes(0,0,0)},function(F,O){F.setTime(+F+O*M.cg)},function(F,O){return(O-F)/M.cg},function(F){return F.getUTCHours()}),E=m,b=m.range,s=e(58931),L=e(8208),T=(0,g.c)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,O){F.setUTCMonth(F.getUTCMonth()+O)},function(F,O){return O.getUTCMonth()-F.getUTCMonth()+(O.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),k=T,_=T.range,B=e(53528)},81628:function(j,H,e){e.d(H,{c:function(){return a}});var g=new Date,P=new Date;function a(x,M,v,p){function r(t){return x(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return x(t=new Date(+t)),t},r.ceil=function(t){return x(t=new Date(t-1)),M(t,1),x(t),t},r.round=function(t){var i=r(t),n=r.ceil(t);return t-i<n-t?i:n},r.offset=function(t,i){return M(t=new Date(+t),i==null?1:Math.floor(i)),t},r.range=function(t,i,n){var u=[],f;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<i)||!(n>0))return u;do u.push(f=new Date(+t)),M(t,n),x(t);while(f<t&&t<i);return u},r.filter=function(t){return a(function(i){if(i>=i)for(;x(i),!t(i);)i.setTime(i-1)},function(i,n){if(i>=i)if(n<0)for(;++n<=0;)for(;M(i,-1),!t(i););else for(;--n>=0;)for(;M(i,1),!t(i););})},v&&(r.count=function(t,i){return g.setTime(+t),P.setTime(+i),x(g),x(P),Math.floor(v(g,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(i){return p(i)%t===0}:function(i){return r.count(0,i)%t===0}):r}),r}},58931:function(j,H,e){e.d(H,{o:function(){return x}});var g=e(81628),P=e(69792),a=(0,g.c)(function(M){M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCDate(M.getUTCDate()+v)},function(M,v){return(v-M)/P.SK},function(M){return M.getUTCDate()-1});H.c=a;var x=a.range},8208:function(j,H,e){e.d(H,{Ad:function(){return i},EV:function(){return x},K8:function(){return S},W_:function(){return l},Wq:function(){return n},_6:function(){return p},iG:function(){return h},iO:function(){return u},kl:function(){return f},ob:function(){return y},od:function(){return t},ot:function(){return M},sG:function(){return v},yA:function(){return r}});var g=e(81628),P=e(69792);function a(c){return(0,g.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-c)%7),o.setUTCHours(0,0,0,0)},function(o,d){o.setUTCDate(o.getUTCDate()+d*7)},function(o,d){return(d-o)/P.KK})}var x=a(0),M=a(1),v=a(2),p=a(3),r=a(4),t=a(5),i=a(6),n=x.range,u=M.range,f=v.range,l=p.range,y=r.range,h=t.range,S=i.range},53528:function(j,H,e){e.d(H,{i:function(){return a}});var g=e(81628),P=(0,g.c)(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,M){x.setUTCFullYear(x.getUTCFullYear()+M)},function(x,M){return M.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});P.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:(0,g.c)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/x)*x),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCFullYear(M.getUTCFullYear()+v*x)})},H.c=P;var a=P.range},46192:function(j,H,e){e.d(H,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return f},QP:function(){return u},Wc:function(){return i},aI:function(){return S},eC:function(){return y},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return M},sJ:function(){return h},sn:function(){return l},uU:function(){return x}});var g=e(81628),P=e(69792);function a(c){return(0,g.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-c)%7),o.setHours(0,0,0,0)},function(o,d){o.setDate(o.getDate()+d*7)},function(o,d){return(d-o-(d.getTimezoneOffset()-o.getTimezoneOffset())*P.iy)/P.KK})}var x=a(0),M=a(1),v=a(2),p=a(3),r=a(4),t=a(5),i=a(6),n=x.range,u=M.range,f=v.range,l=p.range,y=r.range,h=t.range,S=i.range},32171:function(j,H,e){e.d(H,{Q:function(){return a}});var g=e(81628),P=(0,g.c)(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,M){x.setFullYear(x.getFullYear()+M)},function(x,M){return M.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});P.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:(0,g.c)(function(M){M.setFullYear(Math.floor(M.getFullYear()/x)*x),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,v){M.setFullYear(M.getFullYear()+v*x)})},H.c=P;var a=P.range},64348:function(j,H,e){var g=e(39640)(),P=e(53664),a=g&&P("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var x=P("%SyntaxError%"),M=P("%TypeError%"),v=e(2304);j.exports=function(r,t,i){if(!r||typeof r!="object"&&typeof r!="function")throw new M("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new M("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new M("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new M("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new M("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new M("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,y=!!v&&v(r,t);if(a)a(r,t,{configurable:f===null&&y?y.configurable:!f,enumerable:n===null&&y?y.enumerable:!n,value:i,writable:u===null&&y?y.writable:!u});else if(l||!n&&!u&&!f)r[t]=i;else throw new x("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(j,H,e){var g=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,x=Array.prototype.concat,M=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},p=e(39640)(),r=M&&p,t=function(n,u,f,l){if(u in n){if(l===!0){if(n[u]===f)return}else if(!v(l)||!l())return}r?M(n,u,{configurable:!0,enumerable:!1,value:f,writable:!0}):n[u]=f},i=function(n,u){var f=arguments.length>2?arguments[2]:{},l=g(u);P&&(l=x.call(l,Object.getOwnPropertySymbols(u)));for(var y=0;y<l.length;y+=1)t(n,l[y],u[l[y]],f[l[y]])};i.supportsDescriptors=!!r,j.exports=i},31264:function(j){j.exports=function(){for(var H=0;H<arguments.length;H++)if(arguments[H]!==void 0)return arguments[H]}},63768:function(j){j.exports=P;var H=P.canvas=document.createElement("canvas"),e=H.getContext("2d"),g=a([32,126]);P.createPairs=a,P.ascii=g;function P(x,M){Array.isArray(x)&&(x=x.join(", "));var v={},p,r=16,t=.05;M&&(M.length===2&&typeof M[0]=="number"?p=a(M):Array.isArray(M)?p=M:(M.o?p=a(M.o):M.pairs&&(p=M.pairs),M.fontSize&&(r=M.fontSize),M.threshold!=null&&(t=M.threshold))),p||(p=g),e.font=r+"px "+x;for(var i=0;i<p.length;i++){var n=p[i],u=e.measureText(n[0]).width+e.measureText(n[1]).width,f=e.measureText(n).width;if(Math.abs(u-f)>r*t){var l=(f-u)/r;v[n]=l*1e3}}return v}function a(x){for(var M=[],v=x[0];v<=x[1];v++)for(var p=String.fromCharCode(v),r=x[0];r<x[1];r++){var t=String.fromCharCode(r),i=p+t;M.push(i)}return M}},22235:function(j,H,e){var g=e(49972),P=e(48816),a={M:"moveTo",C:"bezierCurveTo"};j.exports=function(x,M){x.beginPath(),P(g(M)).forEach(function(v){var p=v[0],r=v.slice(1);x[a[p]].apply(x,r)}),x.closePath()}},72512:function(j){j.exports=function(H){switch(H){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(j){function H(P,a,x){var M=P[x]|0;if(M<=0)return[];var v=new Array(M),p;if(x===P.length-1)for(p=0;p<M;++p)v[p]=a;else for(p=0;p<M;++p)v[p]=H(P,a,x+1);return v}function e(P,a){var x,M;for(x=new Array(P),M=0;M<P;++M)x[M]=a;return x}function g(P,a){switch(typeof a>"u"&&(a=0),typeof P){case"number":if(P>0)return e(P|0,a);break;case"object":if(typeof P.length=="number")return H(P,a,0);break}return[]}j.exports=g},28912:function(j){j.exports=H,j.exports.default=H;function H(_,B,F){F=F||2;var O=B&&B.length,N=O?B[0]*F:_.length,z=e(_,0,N,F,!0),V=[];if(!z||z.next===z.prev)return V;var W,$,re,ne,ue,J,X;if(O&&(z=p(_,B,z,F)),_.length>80*F){W=re=_[0],$=ne=_[1];for(var oe=F;oe<N;oe+=F)ue=_[oe],J=_[oe+1],ue<W&&(W=ue),J<$&&($=J),ue>re&&(re=ue),J>ne&&(ne=J);X=Math.max(re-W,ne-$),X=X!==0?1/X:0}return P(z,V,F,W,$,X),V}function e(_,B,F,O,N){var z,V;if(N===k(_,B,F,O)>0)for(z=B;z<F;z+=O)V=s(z,_[z],_[z+1],V);else for(z=F-O;z>=B;z-=O)V=s(z,_[z],_[z+1],V);return V&&o(V,V.next)&&(L(V),V=V.next),V}function g(_,B){if(!_)return _;B||(B=_);var F=_,O;do if(O=!1,!F.steiner&&(o(F,F.next)||c(F.prev,F,F.next)===0)){if(L(F),F=B=F.prev,F===F.next)break;O=!0}else F=F.next;while(O||F!==B);return B}function P(_,B,F,O,N,z,V){if(_){!V&&z&&u(_,O,N,z);for(var W=_,$,re;_.prev!==_.next;){if($=_.prev,re=_.next,z?x(_,O,N,z):a(_)){B.push($.i/F),B.push(_.i/F),B.push(re.i/F),L(_),_=re.next,W=re.next;continue}if(_=re,_===W){V?V===1?(_=M(g(_),B,F),P(_,B,F,O,N,z,2)):V===2&&v(_,B,F,O,N,z):P(g(_),B,F,O,N,z,1);break}}}}function a(_){var B=_.prev,F=_,O=_.next;if(c(B,F,O)>=0)return!1;for(var N=_.next.next;N!==_.prev;){if(h(B.x,B.y,F.x,F.y,O.x,O.y,N.x,N.y)&&c(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function x(_,B,F,O){var N=_.prev,z=_,V=_.next;if(c(N,z,V)>=0)return!1;for(var W=N.x<z.x?N.x<V.x?N.x:V.x:z.x<V.x?z.x:V.x,$=N.y<z.y?N.y<V.y?N.y:V.y:z.y<V.y?z.y:V.y,re=N.x>z.x?N.x>V.x?N.x:V.x:z.x>V.x?z.x:V.x,ne=N.y>z.y?N.y>V.y?N.y:V.y:z.y>V.y?z.y:V.y,ue=l(W,$,B,F,O),J=l(re,ne,B,F,O),X=_.prevZ,oe=_.nextZ;X&&X.z>=ue&&oe&&oe.z<=J;){if(X!==_.prev&&X!==_.next&&h(N.x,N.y,z.x,z.y,V.x,V.y,X.x,X.y)&&c(X.prev,X,X.next)>=0||(X=X.prevZ,oe!==_.prev&&oe!==_.next&&h(N.x,N.y,z.x,z.y,V.x,V.y,oe.x,oe.y)&&c(oe.prev,oe,oe.next)>=0))return!1;oe=oe.nextZ}for(;X&&X.z>=ue;){if(X!==_.prev&&X!==_.next&&h(N.x,N.y,z.x,z.y,V.x,V.y,X.x,X.y)&&c(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;oe&&oe.z<=J;){if(oe!==_.prev&&oe!==_.next&&h(N.x,N.y,z.x,z.y,V.x,V.y,oe.x,oe.y)&&c(oe.prev,oe,oe.next)>=0)return!1;oe=oe.nextZ}return!0}function M(_,B,F){var O=_;do{var N=O.prev,z=O.next.next;!o(N,z)&&d(N,O,O.next,z)&&m(N,z)&&m(z,N)&&(B.push(N.i/F),B.push(O.i/F),B.push(z.i/F),L(O),L(O.next),O=_=z),O=O.next}while(O!==_);return g(O)}function v(_,B,F,O,N,z){var V=_;do{for(var W=V.next.next;W!==V.prev;){if(V.i!==W.i&&S(V,W)){var $=b(V,W);V=g(V,V.next),$=g($,$.next),P(V,B,F,O,N,z),P($,B,F,O,N,z);return}W=W.next}V=V.next}while(V!==_)}function p(_,B,F,O){var N=[],z,V,W,$,re;for(z=0,V=B.length;z<V;z++)W=B[z]*O,$=z<V-1?B[z+1]*O:_.length,re=e(_,W,$,O,!1),re===re.next&&(re.steiner=!0),N.push(y(re));for(N.sort(r),z=0;z<N.length;z++)t(N[z],F),F=g(F,F.next);return F}function r(_,B){return _.x-B.x}function t(_,B){if(B=i(_,B),B){var F=b(B,_);g(B,B.next),g(F,F.next)}}function i(_,B){var F=B,O=_.x,N=_.y,z=-1/0,V;do{if(N<=F.y&&N>=F.next.y&&F.next.y!==F.y){var W=F.x+(N-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(W<=O&&W>z){if(z=W,W===O){if(N===F.y)return F;if(N===F.next.y)return F.next}V=F.x<F.next.x?F:F.next}}F=F.next}while(F!==B);if(!V)return null;if(O===z)return V;var $=V,re=V.x,ne=V.y,ue=1/0,J;F=V;do O>=F.x&&F.x>=re&&O!==F.x&&h(N<ne?O:z,N,re,ne,N<ne?z:O,N,F.x,F.y)&&(J=Math.abs(N-F.y)/(O-F.x),m(F,_)&&(J<ue||J===ue&&(F.x>V.x||F.x===V.x&&n(V,F)))&&(V=F,ue=J)),F=F.next;while(F!==$);return V}function n(_,B){return c(_.prev,_,B.prev)<0&&c(B.next,_,_.next)<0}function u(_,B,F,O){var N=_;do N.z===null&&(N.z=l(N.x,N.y,B,F,O)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==_);N.prevZ.nextZ=null,N.prevZ=null,f(N)}function f(_){var B,F,O,N,z,V,W,$,re=1;do{for(F=_,_=null,z=null,V=0;F;){for(V++,O=F,W=0,B=0;B<re&&(W++,O=O.nextZ,!!O);B++);for($=re;W>0||$>0&&O;)W!==0&&($===0||!O||F.z<=O.z)?(N=F,F=F.nextZ,W--):(N=O,O=O.nextZ,$--),z?z.nextZ=N:_=N,N.prevZ=z,z=N;F=O}z.nextZ=null,re*=2}while(V>1);return _}function l(_,B,F,O,N){return _=32767*(_-F)*N,B=32767*(B-O)*N,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,_|B<<1}function y(_){var B=_,F=_;do(B.x<F.x||B.x===F.x&&B.y<F.y)&&(F=B),B=B.next;while(B!==_);return F}function h(_,B,F,O,N,z,V,W){return(N-V)*(B-W)-(_-V)*(z-W)>=0&&(_-V)*(O-W)-(F-V)*(B-W)>=0&&(F-V)*(z-W)-(N-V)*(O-W)>=0}function S(_,B){return _.next.i!==B.i&&_.prev.i!==B.i&&!C(_,B)&&(m(_,B)&&m(B,_)&&E(_,B)&&(c(_.prev,_,B.prev)||c(_,B.prev,B))||o(_,B)&&c(_.prev,_,_.next)>0&&c(B.prev,B,B.next)>0)}function c(_,B,F){return(B.y-_.y)*(F.x-B.x)-(B.x-_.x)*(F.y-B.y)}function o(_,B){return _.x===B.x&&_.y===B.y}function d(_,B,F,O){var N=A(c(_,B,F)),z=A(c(_,B,O)),V=A(c(F,O,_)),W=A(c(F,O,B));return!!(N!==z&&V!==W||N===0&&w(_,F,B)||z===0&&w(_,O,B)||V===0&&w(F,_,O)||W===0&&w(F,B,O))}function w(_,B,F){return B.x<=Math.max(_.x,F.x)&&B.x>=Math.min(_.x,F.x)&&B.y<=Math.max(_.y,F.y)&&B.y>=Math.min(_.y,F.y)}function A(_){return _>0?1:_<0?-1:0}function C(_,B){var F=_;do{if(F.i!==_.i&&F.next.i!==_.i&&F.i!==B.i&&F.next.i!==B.i&&d(F,F.next,_,B))return!0;F=F.next}while(F!==_);return!1}function m(_,B){return c(_.prev,_,_.next)<0?c(_,B,_.next)>=0&&c(_,_.prev,B)>=0:c(_,B,_.prev)<0||c(_,_.next,B)<0}function E(_,B){var F=_,O=!1,N=(_.x+B.x)/2,z=(_.y+B.y)/2;do F.y>z!=F.next.y>z&&F.next.y!==F.y&&N<(F.next.x-F.x)*(z-F.y)/(F.next.y-F.y)+F.x&&(O=!O),F=F.next;while(F!==_);return O}function b(_,B){var F=new T(_.i,_.x,_.y),O=new T(B.i,B.x,B.y),N=_.next,z=B.prev;return _.next=B,B.prev=_,F.next=N,N.prev=F,O.next=F,F.prev=O,z.next=O,O.prev=z,O}function s(_,B,F,O){var N=new T(_,B,F);return O?(N.next=O.next,N.prev=O,O.next.prev=N,O.next=N):(N.prev=N,N.next=N),N}function L(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function T(_,B,F){this.i=_,this.x=B,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}H.deviation=function(_,B,F,O){var N=B&&B.length,z=N?B[0]*F:_.length,V=Math.abs(k(_,0,z,F));if(N)for(var W=0,$=B.length;W<$;W++){var re=B[W]*F,ne=W<$-1?B[W+1]*F:_.length;V-=Math.abs(k(_,re,ne,F))}var ue=0;for(W=0;W<O.length;W+=3){var J=O[W]*F,X=O[W+1]*F,oe=O[W+2]*F;ue+=Math.abs((_[J]-_[oe])*(_[X+1]-_[J+1])-(_[J]-_[X])*(_[oe+1]-_[J+1]))}return V===0&&ue===0?0:Math.abs((ue-V)/V)};function k(_,B,F,O){for(var N=0,z=B,V=F-O;z<F;z+=O)N+=(_[V]-_[z])*(_[z+1]+_[V+1]),V=z;return N}H.flatten=function(_){for(var B=_[0][0].length,F={vertices:[],holes:[],dimensions:B},O=0,N=0;N<_.length;N++){for(var z=0;z<_[N].length;z++)for(var V=0;V<B;V++)F.vertices.push(_[N][z][V]);N>0&&(O+=_[N-1].length,F.holes.push(O))}return F}},6688:function(j,H,e){var g=e(78484);j.exports=function(a,x){var M=[],v=[],p=[],r={},t=[],i;function n(w){p[w]=!1,r.hasOwnProperty(w)&&Object.keys(r[w]).forEach(function(A){delete r[w][A],p[A]&&n(A)})}function u(w){var A=!1;v.push(w),p[w]=!0;var C,m;for(C=0;C<t[w].length;C++)m=t[w][C],m===i?(f(i,v),A=!0):p[m]||(A=u(m));if(A)n(w);else for(C=0;C<t[w].length;C++){m=t[w][C];var E=r[m];E||(E={},r[m]=E),E[m]=!0}return v.pop(),A}function f(w,A){var C=[].concat(A).concat(w);x?x(u):M.push(C)}function l(w){for(var A=0;A<a.length;A++)A<w&&(a[A]=[]),a[A]=a[A].filter(function(C){return C>=w})}function y(w){l(w);for(var A=a,C=g(A),m=C.components.filter(function(_){return _.length>1}),E=1/0,b,s=0;s<m.length;s++)for(var L=0;L<m[s].length;L++)m[s][L]<E&&(E=m[s][L],b=s);var T=m[b];if(!T)return!1;var k=a.map(function(_,B){return T.indexOf(B)===-1?[]:_.filter(function(F){return T.indexOf(F)!==-1})});return{leastVertex:E,adjList:k}}i=0;for(var h=a.length;i<h;){var S=y(i);if(i=S.leastVertex,t=S.adjList,t){for(var c=0;c<t.length;c++)for(var o=0;o<t[c].length;o++){var d=t[c][o];p[+d]=!1,r[d]={}}u(i),i=i+1}else i=h}if(!x)return M}},41476:function(j,H,e){var g=e(9252);j.exports=function(){return g(this).length=0,this}},74772:function(j,H,e){j.exports=e(44716)()?Array.from:e(80816)},44716:function(j){j.exports=function(){var H=Array.from,e,g;return typeof H!="function"?!1:(e=["raz","dwa"],g=H(e),!!(g&&g!==e&&g[1]==="dwa"))}},80816:function(j,H,e){var g=e(92664).iterator,P=e(60948),a=e(17024),x=e(81304),M=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,i=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},u=Object.defineProperty;j.exports=function(f){var l=arguments[1],y=arguments[2],h,S,c,o,d,w,A,C,m,E;if(f=Object(v(f)),p(l)&&M(l),!this||this===Array||!a(this)){if(!l){if(P(f))return d=f.length,d!==1?Array.apply(null,f):(o=new Array(1),o[0]=f[0],o);if(t(f)){for(o=new Array(d=f.length),S=0;S<d;++S)o[S]=f[S];return o}}o=[]}else h=this;if(!t(f)){if((m=f[g])!==void 0){for(A=M(m).call(f),h&&(o=new h),C=A.next(),S=0;!C.done;)E=l?i.call(l,y,C.value,S):C.value,h?(n.value=E,u(o,S,n)):o[S]=E,C=A.next(),++S;d=S}else if(r(f)){for(d=f.length,h&&(o=new h),S=0,c=0;S<d;++S)E=f[S],S+1<d&&(w=E.charCodeAt(0),w>=55296&&w<=56319&&(E+=f[++S])),E=l?i.call(l,y,E,c):E,h?(n.value=E,u(o,c,n)):o[c]=E,++c;d=c}}if(d===void 0)for(d=x(f.length),h&&(o=new h(d)),S=0;S<d;++S)E=l?i.call(l,y,f[S],S):f[S],h?(n.value=E,u(o,S,n)):o[S]=E;return h&&(n.value=null,o.length=d),o}},60948:function(j){var H=Object.prototype.toString,e=H.call(function(){return arguments}());j.exports=function(g){return H.call(g)===e}},17024:function(j){var H=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);j.exports=function(g){return typeof g=="function"&&e(H.call(g))}},33208:function(j){j.exports=function(){}},85608:function(j,H,e){j.exports=e(37328)()?Math.sign:e(92928)},37328:function(j){j.exports=function(){var H=Math.sign;return typeof H!="function"?!1:H(10)===1&&H(-20)===-1}},92928:function(j){j.exports=function(H){return H=Number(H),isNaN(H)||H===0?H:H>0?1:-1}},96936:function(j,H,e){var g=e(85608),P=Math.abs,a=Math.floor;j.exports=function(x){return isNaN(x)?0:(x=Number(x),x===0||!isFinite(x)?x:g(x)*a(P(x)))}},81304:function(j,H,e){var g=e(96936),P=Math.max;j.exports=function(a){return P(0,g(a))}},14428:function(j,H,e){var g=e(34044),P=e(9252),a=Function.prototype.bind,x=Function.prototype.call,M=Object.keys,v=Object.prototype.propertyIsEnumerable;j.exports=function(p,r){return function(t,i){var n,u=arguments[2],f=arguments[3];return t=Object(P(t)),g(i),n=M(t),f&&n.sort(typeof f=="function"?a.call(f,t):void 0),typeof p!="function"&&(p=n[p]),x.call(p,n,function(l,y){return v.call(t,l)?x.call(i,u,t[l],l,t,y):r})}}},38452:function(j,H,e){j.exports=e(96276)()?Object.assign:e(81892)},96276:function(j){j.exports=function(){var H=Object.assign,e;return typeof H!="function"?!1:(e={foo:"raz"},H(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(j,H,e){var g=e(54768),P=e(9252),a=Math.max;j.exports=function(x,M){var v,p,r=a(arguments.length,2),t;for(x=Object(P(x)),t=function(i){try{x[i]=M[i]}catch(n){v||(v=n)}},p=1;p<r;++p)M=arguments[p],g(M).forEach(t);if(v!==void 0)throw v;return x}},95920:function(j,H,e){var g=e(74772),P=e(38452),a=e(9252);j.exports=function(x){var M=Object(a(x)),v=arguments[1],p=Object(arguments[2]);if(M!==x&&!v)return M;var r={};return v?g(v,function(t){(p.ensure||t in x)&&(r[t]=x[t])}):P(r,x),r}},14452:function(j,H,e){var g=Object.create,P;e(63092)()||(P=e(8672)),j.exports=function(){var a,x,M;return!P||P.level!==1?g:(a={},x={},M={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){x[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}x[v]=M}),Object.defineProperties(a,x),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,p){return g(v===null?a:v,p)})}()},42748:function(j,H,e){j.exports=e(14428)("forEach")},69127:function(j,H,e){var g=e(42584),P={function:!0,object:!0};j.exports=function(a){return g(a)&&P[typeof a]||!1}},42584:function(j,H,e){var g=e(33208)();j.exports=function(P){return P!==g&&P!==null}},54768:function(j,H,e){j.exports=e(87888)()?Object.keys:e(89592)},87888:function(j){j.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(j,H,e){var g=e(42584),P=Object.keys;j.exports=function(a){return P(g(a)?Object(a):a)}},84323:function(j,H,e){var g=e(34044),P=e(42748),a=Function.prototype.call;j.exports=function(x,M){var v={},p=arguments[2];return g(M),P(x,function(r,t,i,n){v[t]=a.call(M,p,r,t,i,n)}),v}},50868:function(j,H,e){var g=e(42584),P=Array.prototype.forEach,a=Object.create,x=function(M,v){var p;for(p in M)v[p]=M[p]};j.exports=function(M){var v=a(null);return P.call(arguments,function(p){g(p)&&x(Object(p),v)}),v}},69932:function(j,H,e){j.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(j){var H=Object.create,e=Object.getPrototypeOf,g={};j.exports=function(){var P=Object.setPrototypeOf,a=arguments[0]||H;return typeof P!="function"?!1:e(P(a(null),g))===g}},8672:function(j,H,e){var g=e(69127),P=e(9252),a=Object.prototype.isPrototypeOf,x=Object.defineProperty,M={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||g(r))return p;throw new TypeError("Prototype must be null or an object")},j.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(i,n){return t.call(v(i,n),n),i}):r=function(i,n){return v(i,n).__proto__=n,i}:r=function i(n,u){var f;return v(n,u),f=a.call(i.nullPolyfill,n),f&&delete i.nullPolyfill.__proto__,u===null&&(u=i.nullPolyfill),n.__proto__=u,f&&x(i.nullPolyfill,"__proto__",M),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{t=i.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(j){j.exports=function(H){if(typeof H!="function")throw new TypeError(H+" is not a function");return H}},92584:function(j,H,e){var g=e(69127);j.exports=function(P){if(!g(P))throw new TypeError(P+" is not an Object");return P}},9252:function(j,H,e){var g=e(42584);j.exports=function(P){if(!g(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(j,H,e){j.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(j){var H="razdwatrzy";j.exports=function(){return typeof H.contains!="function"?!1:H.contains("dwa")===!0&&H.contains("foo")===!1}},93040:function(j){var H=String.prototype.indexOf;j.exports=function(e){return H.call(this,e,arguments[1])>-1}},29768:function(j){var H=Object.prototype.toString,e=H.call("");j.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||H.call(g)===e)||!1}},82252:function(j){var H=Object.create(null),e=Math.random;j.exports=function(){var g;do g=e().toString(36).slice(2);while(H[g]);return g}},52104:function(j,H,e){var g=e(69932),P=e(71056),a=e(21092),x=e(92664),M=e(85512),v=Object.defineProperty,p;p=j.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");M.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",a("",t))},g&&g(p,M),delete p.prototype.constructor,p.prototype=Object.create(M.prototype,{_resolve:a(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,x.toStringTag,a("c","Array Iterator"))},76024:function(j,H,e){var g=e(60948),P=e(34044),a=e(29768),x=e(76252),M=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;j.exports=function(r,t){var i,n=arguments[2],u,f,l,y,h,S,c;if(M(r)||g(r)?i="array":a(r)?i="string":r=x(r),P(t),f=function(){l=!0},i==="array"){p.call(r,function(o){return v.call(t,n,o,f),l});return}if(i==="string"){for(h=r.length,y=0;y<h&&(S=r[y],y+1<h&&(c=S.charCodeAt(0),c>=55296&&c<=56319&&(S+=r[++y])),v.call(t,n,S,f),!l);++y);return}for(u=r.next();!u.done;){if(v.call(t,n,u.value,f),l)return;u=r.next()}}},76252:function(j,H,e){var g=e(60948),P=e(29768),a=e(52104),x=e(80940),M=e(52891),v=e(92664).iterator;j.exports=function(p){return typeof M(p)[v]=="function"?p[v]():g(p)?new a(p):P(p)?new x(p):new a(p)}},85512:function(j,H,e){var g=e(41476),P=e(38452),a=e(34044),x=e(9252),M=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,i;j.exports=i=function(n,u){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");t(this,{__list__:M("w",x(n)),__context__:M("w",u),__nextIndex__:M("w",0)}),u&&(a(u.on),u.on("_add",this._onAdd),u.on("_delete",this._onDelete),u.on("_clear",this._onClear))},delete i.prototype.constructor,t(i.prototype,P({_next:M(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:M(function(){return this._createResult(this._next())}),_createResult:M(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:M(function(n){return this.__list__[n]}),_unBind:M(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:M(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:M(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",M("c",[n]));return}this.__redo__.forEach(function(u,f){u>=n&&(this.__redo__[f]=++u)},this),this.__redo__.push(n)}}),_onDelete:M(function(n){var u;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(u=this.__redo__.indexOf(n),u!==-1&&this.__redo__.splice(u,1),this.__redo__.forEach(function(f,l){f>n&&(this.__redo__[l]=--f)},this)))}),_onClear:M(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),r(i.prototype,p.iterator,M(function(){return this}))},76368:function(j,H,e){var g=e(60948),P=e(42584),a=e(29768),x=e(92664).iterator,M=Array.isArray;j.exports=function(v){return P(v)?M(v)||a(v)||g(v)?!0:typeof v[x]=="function":!1}},80940:function(j,H,e){var g=e(69932),P=e(21092),a=e(92664),x=e(85512),M=Object.defineProperty,v;v=j.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),x.call(this,p),M(this,"__length__",P("",p.length))},g&&g(v,x),delete v.prototype.constructor,v.prototype=Object.create(x.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),M(v.prototype,a.toStringTag,P("c","String Iterator"))},52891:function(j,H,e){var g=e(76368);j.exports=function(P){if(!g(P))throw new TypeError(P+" is not iterable");return P}},60964:function(j){function H(g,P){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(g),x=1;x<arguments.length;x++){var M=arguments[x];if(M!=null)for(var v=Object.keys(Object(M)),p=0,r=v.length;p<r;p++){var t=v[p],i=Object.getOwnPropertyDescriptor(M,t);i!==void 0&&i.enumerable&&(a[t]=M[t])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:H})}j.exports={assign:H,polyfill:e}},92664:function(j,H,e){j.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(j,H,e){var g=e(12296),P={object:!0,symbol:!0};j.exports=function(){var a=g.Symbol,x;if(typeof a!="function")return!1;x=a("test symbol");try{String(x)}catch{return!1}return!(!P[typeof a.iterator]||!P[typeof a.toPrimitive]||!P[typeof a.toStringTag])}},53908:function(j){j.exports=function(H){return H?typeof H=="symbol"?!0:!H.constructor||H.constructor.name!=="Symbol"?!1:H[H.constructor.toStringTag]==="Symbol":!1}},96863:function(j,H,e){var g=e(21092),P=Object.create,a=Object.defineProperty,x=Object.prototype,M=P(null);j.exports=function(v){for(var p=0,r,t;M[v+(p||"")];)++p;return v+=p||"",M[v]=!0,r="@@"+v,a(x,r,g.gs(null,function(i){t||(t=!0,a(this,r,g(i)),t=!1)})),r}},53540:function(j,H,e){var g=e(21092),P=e(12296).Symbol;j.exports=function(a){return Object.defineProperties(a,{hasInstance:g("",P&&P.hasInstance||a("hasInstance")),isConcatSpreadable:g("",P&&P.isConcatSpreadable||a("isConcatSpreadable")),iterator:g("",P&&P.iterator||a("iterator")),match:g("",P&&P.match||a("match")),replace:g("",P&&P.replace||a("replace")),search:g("",P&&P.search||a("search")),species:g("",P&&P.species||a("species")),split:g("",P&&P.split||a("split")),toPrimitive:g("",P&&P.toPrimitive||a("toPrimitive")),toStringTag:g("",P&&P.toStringTag||a("toStringTag")),unscopables:g("",P&&P.unscopables||a("unscopables"))})}},73852:function(j,H,e){var g=e(21092),P=e(63948),a=Object.create(null);j.exports=function(x){return Object.defineProperties(x,{for:g(function(M){return a[M]?a[M]:a[M]=x(String(M))}),keyFor:g(function(M){var v;P(M);for(v in a)if(a[v]===M)return v})})}},18376:function(j,H,e){var g=e(21092),P=e(63948),a=e(12296).Symbol,x=e(96863),M=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,i,n,u;if(typeof a=="function")try{String(a()),u=!0}catch{}else a=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return i(l)},j.exports=i=function f(l){var y;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return u?a(l):(y=p(n.prototype),l=l===void 0?"":String(l),r(y,{__description__:g("",l),__name__:g("",x(l))}))},M(i),v(i),r(n.prototype,{constructor:g(i),toString:g("",function(){return this.__name__})}),r(i.prototype,{toString:g(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:g(function(){return P(this)})}),t(i.prototype,i.toPrimitive,g("",function(){var f=P(this);return typeof f=="symbol"?f:f.toString()})),t(i.prototype,i.toStringTag,g("c","Symbol")),t(n.prototype,i.toStringTag,g("c",i.prototype[i.toStringTag])),t(n.prototype,i.toPrimitive,g("c",i.prototype[i.toPrimitive]))},63948:function(j,H,e){var g=e(53908);j.exports=function(P){if(!g(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(j,H,e){j.exports=e(96979)()?WeakMap:e(64864)},96979:function(j){j.exports=function(){var H,e;if(typeof WeakMap!="function")return!1;try{H=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(H)!=="[object WeakMap]"||typeof H.set!="function"||H.set({},1)!==H||typeof H.delete!="function"||typeof H.has!="function"||H.get(e)!=="one")}},69876:function(j){j.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(j,H,e){var g=e(42584),P=e(69932),a=e(92584),x=e(9252),M=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,i=e(69876),n=Array.isArray,u=Object.defineProperty,f=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,y;j.exports=y=function(){var h=arguments[0],S;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return S=i&&P&&WeakMap!==y?P(new WeakMap,l(this)):this,g(h)&&(n(h)||(h=p(h))),u(S,"__weakMapData__",v("c","$weakMap$"+M())),h&&r(h,function(c){x(c),S.set(c[0],c[1])}),S},i&&(P&&P(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:v(y)})),Object.defineProperties(y.prototype,{delete:v(function(h){return f.call(a(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(f.call(a(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return f.call(a(h),this.__weakMapData__)}),set:v(function(h,S){return u(a(h),this.__weakMapData__,v("c",S)),this}),toString:v(function(){return"[object WeakMap]"})}),u(y.prototype,t,v("c","WeakMap"))},61252:function(j){var H=typeof Reflect=="object"?Reflect:null,e=H&&typeof H.apply=="function"?H.apply:function(d,w,A){return Function.prototype.apply.call(d,w,A)},g;H&&typeof H.ownKeys=="function"?g=H.ownKeys:Object.getOwnPropertySymbols?g=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:g=function(d){return Object.getOwnPropertyNames(d)};function P(o){console&&console.warn&&console.warn(o)}var a=Number.isNaN||function(d){return d!==d};function x(){x.init.call(this)}j.exports=x,j.exports.once=h,x.EventEmitter=x,x.prototype._events=void 0,x.prototype._eventsCount=0,x.prototype._maxListeners=void 0;var M=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(x,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(o){if(typeof o!="number"||o<0||a(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");M=o}}),x.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},x.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||a(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(o){return o._maxListeners===void 0?x.defaultMaxListeners:o._maxListeners}x.prototype.getMaxListeners=function(){return p(this)},x.prototype.emit=function(d){for(var w=[],A=1;A<arguments.length;A++)w.push(arguments[A]);var C=d==="error",m=this._events;if(m!==void 0)C=C&&m.error===void 0;else if(!C)return!1;if(C){var E;if(w.length>0&&(E=w[0]),E instanceof Error)throw E;var b=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw b.context=E,b}var s=m[d];if(s===void 0)return!1;if(typeof s=="function")e(s,this,w);else for(var L=s.length,T=f(s,L),A=0;A<L;++A)e(T[A],this,w);return!0};function r(o,d,w,A){var C,m,E;if(v(w),m=o._events,m===void 0?(m=o._events=Object.create(null),o._eventsCount=0):(m.newListener!==void 0&&(o.emit("newListener",d,w.listener?w.listener:w),m=o._events),E=m[d]),E===void 0)E=m[d]=w,++o._eventsCount;else if(typeof E=="function"?E=m[d]=A?[w,E]:[E,w]:A?E.unshift(w):E.push(w),C=p(o),C>0&&E.length>C&&!E.warned){E.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=o,b.type=d,b.count=E.length,P(b)}return o}x.prototype.addListener=function(d,w){return r(this,d,w,!1)},x.prototype.on=x.prototype.addListener,x.prototype.prependListener=function(d,w){return r(this,d,w,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(o,d,w){var A={fired:!1,wrapFn:void 0,target:o,type:d,listener:w},C=t.bind(A);return C.listener=w,A.wrapFn=C,C}x.prototype.once=function(d,w){return v(w),this.on(d,i(this,d,w)),this},x.prototype.prependOnceListener=function(d,w){return v(w),this.prependListener(d,i(this,d,w)),this},x.prototype.removeListener=function(d,w){var A,C,m,E,b;if(v(w),C=this._events,C===void 0)return this;if(A=C[d],A===void 0)return this;if(A===w||A.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,A.listener||w));else if(typeof A!="function"){for(m=-1,E=A.length-1;E>=0;E--)if(A[E]===w||A[E].listener===w){b=A[E].listener,m=E;break}if(m<0)return this;m===0?A.shift():l(A,m),A.length===1&&(C[d]=A[0]),C.removeListener!==void 0&&this.emit("removeListener",d,b||w)}return this},x.prototype.off=x.prototype.removeListener,x.prototype.removeAllListeners=function(d){var w,A,C;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[d]),this;if(arguments.length===0){var m=Object.keys(A),E;for(C=0;C<m.length;++C)E=m[C],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=A[d],typeof w=="function")this.removeListener(d,w);else if(w!==void 0)for(C=w.length-1;C>=0;C--)this.removeListener(d,w[C]);return this};function n(o,d,w){var A=o._events;if(A===void 0)return[];var C=A[d];return C===void 0?[]:typeof C=="function"?w?[C.listener||C]:[C]:w?y(C):f(C,C.length)}x.prototype.listeners=function(d){return n(this,d,!0)},x.prototype.rawListeners=function(d){return n(this,d,!1)},x.listenerCount=function(o,d){return typeof o.listenerCount=="function"?o.listenerCount(d):u.call(o,d)},x.prototype.listenerCount=u;function u(o){var d=this._events;if(d!==void 0){var w=d[o];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}x.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function f(o,d){for(var w=new Array(d),A=0;A<d;++A)w[A]=o[A];return w}function l(o,d){for(;d+1<o.length;d++)o[d]=o[d+1];o.pop()}function y(o){for(var d=new Array(o.length),w=0;w<d.length;++w)d[w]=o[w].listener||o[w];return d}function h(o,d){return new Promise(function(w,A){function C(E){o.removeListener(d,m),A(E)}function m(){typeof o.removeListener=="function"&&o.removeListener("error",C),w([].slice.call(arguments))}c(o,d,m,{once:!0}),d!=="error"&&S(o,C,{once:!0})})}function S(o,d,w){typeof o.on=="function"&&c(o,"error",d,w)}function c(o,d,w,A){if(typeof o.on=="function")A.once?o.once(d,w):o.on(d,w);else if(typeof o.addEventListener=="function")o.addEventListener(d,function C(m){A.once&&o.removeEventListener(d,C),w(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},39072:function(j){var H=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};j.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return H()}try{return __global__||H()}finally{delete Object.prototype.__global__}}()},12296:function(j,H,e){j.exports=e(45072)()?globalThis:e(39072)},45072:function(j){j.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(j,H,e){var g=e(94576);j.exports=function(P){var a=typeof P;if(a==="string"){var x=P;if(P=+P,P===0&&g(x))return!1}else if(a!=="number")return!1;return P-P<1}},47520:function(j,H,e){var g=e(72512);j.exports=P;function P(a,x,M){if(!a)throw new TypeError("must specify data as first parameter");if(M=+(M||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,p=a.length*v,r,t,i,n;(!x||typeof x=="string")&&(x=new(g(x||"float32"))(p+M));var u=x.length-M;if(p!==u)throw new Error("source length "+p+" ("+v+"x"+a.length+") does not match destination length "+u);for(r=0,i=M;r<a.length;r++)for(t=0;t<v;t++)x[i++]=a[r][t]===null?NaN:a[r][t]}else if(!x||typeof x=="string"){var f=g(x||"float32");if(Array.isArray(a)||x==="array")for(x=new f(a.length+M),r=0,i=M,n=x.length;i<n;i++,r++)x[i]=a[r]===null?NaN:a[r];else M===0?x=new f(a):(x=new f(a.length+M),x.set(a,M))}else x.set(a,M);return x}},33888:function(j,H,e){var g=e(49395),P=[32,126];j.exports=a;function a(x){x=x||{};var M=x.shape?x.shape:x.canvas?[x.canvas.width,x.canvas.height]:[512,512],v=x.canvas||document.createElement("canvas"),p=x.font,r=typeof x.step=="number"?[x.step,x.step]:x.step||[32,32],t=x.chars||P;if(p&&typeof p!="string"&&(p=g(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],n=t[0],u=0;n<=t[1];n++)i[u++]=String.fromCharCode(n);t=i}M=M.slice(),v.width=M[0],v.height=M[1];var f=v.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,v.width,v.height),f.font=p,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var l=r[0]/2,y=r[1]/2,n=0;n<t.length;n++)f.fillText(t[n],l,y),(l+=r[0])>M[0]-r[0]/2&&(l=r[0]/2,y+=r[1]);return v}},71920:function(j){j.exports=H,H.canvas=document.createElement("canvas"),H.cache={};function H(t,x){x||(x={}),(typeof t=="string"||Array.isArray(t))&&(x.family=t);var M=Array.isArray(x.family)?x.family.join(", "):x.family;if(!M)throw Error("`family` must be defined");var v=x.size||x.fontSize||x.em||48,p=x.weight||x.fontWeight||"",r=x.style||x.fontStyle||"",t=[r,p,v].join(" ")+"px "+M,i=x.origin||"top";if(H.cache[M]&&v<=H.cache[M].em)return e(H.cache[M],i);var n=x.canvas||H.canvas,u=n.getContext("2d"),f={upper:x.upper!==void 0?x.upper:"H",lower:x.lower!==void 0?x.lower:"x",descent:x.descent!==void 0?x.descent:"p",ascent:x.ascent!==void 0?x.ascent:"h",tittle:x.tittle!==void 0?x.tittle:"i",overshoot:x.overshoot!==void 0?x.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,u.font=t;var y="H",h={top:0};u.clearRect(0,0,l,l),u.textBaseline="top",u.fillStyle="black",u.fillText(y,0,0);var S=g(u.getImageData(0,0,l,l));u.clearRect(0,0,l,l),u.textBaseline="bottom",u.fillText(y,0,l);var c=g(u.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+S,u.clearRect(0,0,l,l),u.textBaseline="alphabetic",u.fillText(y,0,l);var o=g(u.getImageData(0,0,l,l)),d=l-o-1+S;h.baseline=h.alphabetic=d,u.clearRect(0,0,l,l),u.textBaseline="middle",u.fillText(y,0,l*.5);var w=g(u.getImageData(0,0,l,l));h.median=h.middle=l-w-1+S-l*.5,u.clearRect(0,0,l,l),u.textBaseline="hanging",u.fillText(y,0,l*.5);var A=g(u.getImageData(0,0,l,l));h.hanging=l-A-1+S-l*.5,u.clearRect(0,0,l,l),u.textBaseline="ideographic",u.fillText(y,0,l);var C=g(u.getImageData(0,0,l,l));if(h.ideographic=l-C-1+S,f.upper&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.upper,0,0),h.upper=g(u.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),f.lower&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.lower,0,0),h.lower=g(u.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),f.tittle&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.tittle,0,0),h.tittle=g(u.getImageData(0,0,l,l))),f.ascent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.ascent,0,0),h.ascent=g(u.getImageData(0,0,l,l))),f.descent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.descent,0,0),h.descent=P(u.getImageData(0,0,l,l))),f.overshoot){u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.overshoot,0,0);var m=P(u.getImageData(0,0,l,l));h.overshoot=m-d}for(var E in h)h[E]/=v;return h.em=v,H.cache[M]=h,e(h,i)}function e(a,x){var M={};typeof x=="string"&&(x=a[x]);for(var v in a)v!=="em"&&(M[v]=a[v]-x);return M}function g(a){for(var x=a.height,M=a.data,v=3;v<M.length;v+=4)if(M[v]!==0)return Math.floor((v-3)*.25/x)}function P(a){for(var x=a.height,M=a.data,v=M.length-1;v>0;v-=4)if(M[v]!==0)return Math.floor((v-3)*.25/x)}},46492:function(j,H,e){var g=e(90720),P=Object.prototype.toString,a=Object.prototype.hasOwnProperty,x=function(t,i,n){for(var u=0,f=t.length;u<f;u++)a.call(t,u)&&(n==null?i(t[u],u,t):i.call(n,t[u],u,t))},M=function(t,i,n){for(var u=0,f=t.length;u<f;u++)n==null?i(t.charAt(u),u,t):i.call(n,t.charAt(u),u,t)},v=function(t,i,n){for(var u in t)a.call(t,u)&&(n==null?i(t[u],u,t):i.call(n,t[u],u,t))},p=function(t,i,n){if(!g(i))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=n),P.call(t)==="[object Array]"?x(t,i,u):typeof t=="string"?M(t,i,u):v(t,i,u)};j.exports=p},74336:function(j){var H="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,g=Math.max,P="[object Function]",a=function(p,r){for(var t=[],i=0;i<p.length;i+=1)t[i]=p[i];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},x=function(p,r){for(var t=[],i=r||0,n=0;i<p.length;i+=1,n+=1)t[n]=p[i];return t},M=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};j.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(H+r);for(var t=x(arguments,1),i,n=function(){if(this instanceof i){var h=r.apply(this,a(t,arguments));return Object(h)===h?h:this}return r.apply(p,a(t,arguments))},u=g(0,r.length-t.length),f=[],l=0;l<u;l++)f[l]="$"+l;if(i=Function("binder","return function ("+M(f,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var y=function(){};y.prototype=r.prototype,i.prototype=new y,y.prototype=null}return i}},8844:function(j,H,e){var g=e(74336);j.exports=Function.prototype.bind||g},13380:function(j){j.exports=H;function H(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var P=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(P.width=g.width),typeof g.height=="number"&&(P.height=g.height);var a=g,x;try{var M=[e];e.indexOf("webgl")===0&&M.push("experimental-"+e);for(var v=0;v<M.length;v++)if(x=P.getContext(M[v],a),x)return x}catch{x=null}return x||null}},53664:function(j,H,e){var g,P=SyntaxError,a=Function,x=TypeError,M=function(T){try{return a('"use strict"; return ('+T+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new x},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),i=e(69572)(),n=Object.getPrototypeOf||(i?function(T){return T.__proto__}:null),u={},f=typeof Uint8Array>"u"||!n?g:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?g:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?g:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):g,"%Symbol%":t?Symbol:g,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":f,"%TypeError%":x,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};if(n)try{null.error}catch(T){var y=n(n(T));l["%Error.prototype%"]=y}var h=function T(k){var _;if(k==="%AsyncFunction%")_=M("async function () {}");else if(k==="%GeneratorFunction%")_=M("function* () {}");else if(k==="%AsyncGeneratorFunction%")_=M("async function* () {}");else if(k==="%AsyncGenerator%"){var B=T("%AsyncGeneratorFunction%");B&&(_=B.prototype)}else if(k==="%AsyncIteratorPrototype%"){var F=T("%AsyncGenerator%");F&&n&&(_=n(F.prototype))}return l[k]=_,_},S={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),o=e(92064),d=c.call(Function.call,Array.prototype.concat),w=c.call(Function.apply,Array.prototype.splice),A=c.call(Function.call,String.prototype.replace),C=c.call(Function.call,String.prototype.slice),m=c.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,b=/\\(\\)?/g,s=function(k){var _=C(k,0,1),B=C(k,-1);if(_==="%"&&B!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(B==="%"&&_!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var F=[];return A(k,E,function(O,N,z,V){F[F.length]=z?A(V,b,"$1"):N||O}),F},L=function(k,_){var B=k,F;if(o(S,B)&&(F=S[B],B="%"+F[0]+"%"),o(l,B)){var O=l[B];if(O===u&&(O=h(B)),typeof O>"u"&&!_)throw new x("intrinsic "+k+" exists, but is not available. Please file an issue!");return{alias:F,name:B,value:O}}throw new P("intrinsic "+k+" does not exist!")};j.exports=function(k,_){if(typeof k!="string"||k.length===0)throw new x("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _!="boolean")throw new x('"allowMissing" argument must be a boolean');if(m(/^%?[^%]*%?$/,k)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var B=s(k),F=B.length>0?B[0]:"",O=L("%"+F+"%",_),N=O.name,z=O.value,V=!1,W=O.alias;W&&(F=W[0],w(B,d([0,1],W)));for(var $=1,re=!0;$<B.length;$+=1){var ne=B[$],ue=C(ne,0,1),J=C(ne,-1);if((ue==='"'||ue==="'"||ue==="`"||J==='"'||J==="'"||J==="`")&&ue!==J)throw new P("property names with quotes must have matching quotes");if((ne==="constructor"||!re)&&(V=!0),F+="."+ne,N="%"+F+"%",o(l,N))z=l[N];else if(z!=null){if(!(ne in z)){if(!_)throw new x("base intrinsic for "+k+" exists, but the property is not available.");return}if(v&&$+1>=B.length){var X=v(z,ne);re=!!X,re&&"get"in X&&!("originalValue"in X.get)?z=X.get:z=z[ne]}else re=o(z,ne),z=z[ne];re&&!V&&(l[N]=z)}}return z}},12408:function(j){j.exports=H;function H(e,g){var P=g[0],a=g[1],x=g[2],M=g[3],v=g[4],p=g[5],r=g[6],t=g[7],i=g[8],n=g[9],u=g[10],f=g[11],l=g[12],y=g[13],h=g[14],S=g[15];return e[0]=p*(u*S-f*h)-n*(r*S-t*h)+y*(r*f-t*u),e[1]=-(a*(u*S-f*h)-n*(x*S-M*h)+y*(x*f-M*u)),e[2]=a*(r*S-t*h)-p*(x*S-M*h)+y*(x*t-M*r),e[3]=-(a*(r*f-t*u)-p*(x*f-M*u)+n*(x*t-M*r)),e[4]=-(v*(u*S-f*h)-i*(r*S-t*h)+l*(r*f-t*u)),e[5]=P*(u*S-f*h)-i*(x*S-M*h)+l*(x*f-M*u),e[6]=-(P*(r*S-t*h)-v*(x*S-M*h)+l*(x*t-M*r)),e[7]=P*(r*f-t*u)-v*(x*f-M*u)+i*(x*t-M*r),e[8]=v*(n*S-f*y)-i*(p*S-t*y)+l*(p*f-t*n),e[9]=-(P*(n*S-f*y)-i*(a*S-M*y)+l*(a*f-M*n)),e[10]=P*(p*S-t*y)-v*(a*S-M*y)+l*(a*t-M*p),e[11]=-(P*(p*f-t*n)-v*(a*f-M*n)+i*(a*t-M*p)),e[12]=-(v*(n*h-u*y)-i*(p*h-r*y)+l*(p*u-r*n)),e[13]=P*(n*h-u*y)-i*(a*h-x*y)+l*(a*u-x*n),e[14]=-(P*(p*h-r*y)-v*(a*h-x*y)+l*(a*r-x*p)),e[15]=P*(p*u-r*n)-v*(a*u-x*n)+i*(a*r-x*p),e}},76860:function(j){j.exports=H;function H(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},64492:function(j){j.exports=H;function H(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},54212:function(j){j.exports=H;function H(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(j){j.exports=H;function H(e){var g=e[0],P=e[1],a=e[2],x=e[3],M=e[4],v=e[5],p=e[6],r=e[7],t=e[8],i=e[9],n=e[10],u=e[11],f=e[12],l=e[13],y=e[14],h=e[15],S=g*v-P*M,c=g*p-a*M,o=g*r-x*M,d=P*p-a*v,w=P*r-x*v,A=a*r-x*p,C=t*l-i*f,m=t*y-n*f,E=t*h-u*f,b=i*y-n*l,s=i*h-u*l,L=n*h-u*y;return S*L-c*s+o*b+d*E-w*m+A*C}},61784:function(j){j.exports=H;function H(e,g){var P=g[0],a=g[1],x=g[2],M=g[3],v=P+P,p=a+a,r=x+x,t=P*v,i=a*v,n=a*p,u=x*v,f=x*p,l=x*r,y=M*v,h=M*p,S=M*r;return e[0]=1-n-l,e[1]=i+S,e[2]=u-h,e[3]=0,e[4]=i-S,e[5]=1-t-l,e[6]=f+y,e[7]=0,e[8]=u+h,e[9]=f-y,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(j){j.exports=H;function H(e,g,P){var a,x,M,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,a=Math.sin(g),x=Math.cos(g),M=1-x,e[0]=v*v*M+x,e[1]=p*v*M+r*a,e[2]=r*v*M-p*a,e[3]=0,e[4]=v*p*M-r*a,e[5]=p*p*M+x,e[6]=r*p*M+v*a,e[7]=0,e[8]=v*r*M+p*a,e[9]=p*r*M-v*a,e[10]=r*r*M+x,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(j){j.exports=H;function H(e,g,P){var a=g[0],x=g[1],M=g[2],v=g[3],p=a+a,r=x+x,t=M+M,i=a*p,n=a*r,u=a*t,f=x*r,l=x*t,y=M*t,h=v*p,S=v*r,c=v*t;return e[0]=1-(f+y),e[1]=n+c,e[2]=u-S,e[3]=0,e[4]=n-c,e[5]=1-(i+y),e[6]=l+h,e[7]=0,e[8]=u+S,e[9]=l-h,e[10]=1-(i+f),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(j){j.exports=H;function H(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(j){j.exports=H;function H(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},21856:function(j){j.exports=H;function H(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(j){j.exports=H;function H(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(j){j.exports=H;function H(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(j){j.exports=H;function H(e,g,P,a,x,M,v){var p=1/(P-g),r=1/(x-a),t=1/(M-v);return e[0]=M*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=M*2*r,e[6]=0,e[7]=0,e[8]=(P+g)*p,e[9]=(x+a)*r,e[10]=(v+M)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*M*2*t,e[15]=0,e}},36635:function(j){j.exports=H;function H(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(j,H,e){j.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(j){j.exports=H;function H(e,g){var P=g[0],a=g[1],x=g[2],M=g[3],v=g[4],p=g[5],r=g[6],t=g[7],i=g[8],n=g[9],u=g[10],f=g[11],l=g[12],y=g[13],h=g[14],S=g[15],c=P*p-a*v,o=P*r-x*v,d=P*t-M*v,w=a*r-x*p,A=a*t-M*p,C=x*t-M*r,m=i*y-n*l,E=i*h-u*l,b=i*S-f*l,s=n*h-u*y,L=n*S-f*y,T=u*S-f*h,k=c*T-o*L+d*s+w*b-A*E+C*m;return k?(k=1/k,e[0]=(p*T-r*L+t*s)*k,e[1]=(x*L-a*T-M*s)*k,e[2]=(y*C-h*A+S*w)*k,e[3]=(u*A-n*C-f*w)*k,e[4]=(r*b-v*T-t*E)*k,e[5]=(P*T-x*b+M*E)*k,e[6]=(h*d-l*C-S*o)*k,e[7]=(i*C-u*d+f*o)*k,e[8]=(v*L-p*b+t*m)*k,e[9]=(a*b-P*L-M*m)*k,e[10]=(l*A-y*d+S*c)*k,e[11]=(n*d-i*A-f*c)*k,e[12]=(p*E-v*s-r*m)*k,e[13]=(P*s-a*E+x*m)*k,e[14]=(y*o-l*w-h*c)*k,e[15]=(i*w-n*o+u*c)*k,e):null}},56508:function(j,H,e){var g=e(36635);j.exports=P;function P(a,x,M,v){var p,r,t,i,n,u,f,l,y,h,S=x[0],c=x[1],o=x[2],d=v[0],w=v[1],A=v[2],C=M[0],m=M[1],E=M[2];return Math.abs(S-C)<1e-6&&Math.abs(c-m)<1e-6&&Math.abs(o-E)<1e-6?g(a):(f=S-C,l=c-m,y=o-E,h=1/Math.sqrt(f*f+l*l+y*y),f*=h,l*=h,y*=h,p=w*y-A*l,r=A*f-d*y,t=d*l-w*f,h=Math.sqrt(p*p+r*r+t*t),h?(h=1/h,p*=h,r*=h,t*=h):(p=0,r=0,t=0),i=l*t-y*r,n=y*p-f*t,u=f*r-l*p,h=Math.sqrt(i*i+n*n+u*u),h?(h=1/h,i*=h,n*=h,u*=h):(i=0,n=0,u=0),a[0]=p,a[1]=i,a[2]=f,a[3]=0,a[4]=r,a[5]=n,a[6]=l,a[7]=0,a[8]=t,a[9]=u,a[10]=y,a[11]=0,a[12]=-(p*S+r*c+t*o),a[13]=-(i*S+n*c+u*o),a[14]=-(f*S+l*c+y*o),a[15]=1,a)}},80944:function(j){j.exports=H;function H(e,g,P){var a=g[0],x=g[1],M=g[2],v=g[3],p=g[4],r=g[5],t=g[6],i=g[7],n=g[8],u=g[9],f=g[10],l=g[11],y=g[12],h=g[13],S=g[14],c=g[15],o=P[0],d=P[1],w=P[2],A=P[3];return e[0]=o*a+d*p+w*n+A*y,e[1]=o*x+d*r+w*u+A*h,e[2]=o*M+d*t+w*f+A*S,e[3]=o*v+d*i+w*l+A*c,o=P[4],d=P[5],w=P[6],A=P[7],e[4]=o*a+d*p+w*n+A*y,e[5]=o*x+d*r+w*u+A*h,e[6]=o*M+d*t+w*f+A*S,e[7]=o*v+d*i+w*l+A*c,o=P[8],d=P[9],w=P[10],A=P[11],e[8]=o*a+d*p+w*n+A*y,e[9]=o*x+d*r+w*u+A*h,e[10]=o*M+d*t+w*f+A*S,e[11]=o*v+d*i+w*l+A*c,o=P[12],d=P[13],w=P[14],A=P[15],e[12]=o*a+d*p+w*n+A*y,e[13]=o*x+d*r+w*u+A*h,e[14]=o*M+d*t+w*f+A*S,e[15]=o*v+d*i+w*l+A*c,e}},97688:function(j){j.exports=H;function H(e,g,P,a,x,M,v){var p=1/(g-P),r=1/(a-x),t=1/(M-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(g+P)*p,e[13]=(x+a)*r,e[14]=(v+M)*t,e[15]=1,e}},51296:function(j){j.exports=H;function H(e,g,P,a,x){var M=1/Math.tan(g/2),v=1/(a-x);return e[0]=M/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=M,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(x+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*x*a*v,e[15]=0,e}},63688:function(j){j.exports=H;function H(e,g,P,a){var x=Math.tan(g.upDegrees*Math.PI/180),M=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),p=Math.tan(g.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(x+M);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(x-M)*t*.5,e[10]=a/(P-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*P/(P-a),e[15]=0,e}},30016:function(j){j.exports=H;function H(e,g,P,a){var x=a[0],M=a[1],v=a[2],p=Math.sqrt(x*x+M*M+v*v),r,t,i,n,u,f,l,y,h,S,c,o,d,w,A,C,m,E,b,s,L,T,k,_;return Math.abs(p)<1e-6?null:(p=1/p,x*=p,M*=p,v*=p,r=Math.sin(P),t=Math.cos(P),i=1-t,n=g[0],u=g[1],f=g[2],l=g[3],y=g[4],h=g[5],S=g[6],c=g[7],o=g[8],d=g[9],w=g[10],A=g[11],C=x*x*i+t,m=M*x*i+v*r,E=v*x*i-M*r,b=x*M*i-v*r,s=M*M*i+t,L=v*M*i+x*r,T=x*v*i+M*r,k=M*v*i-x*r,_=v*v*i+t,e[0]=n*C+y*m+o*E,e[1]=u*C+h*m+d*E,e[2]=f*C+S*m+w*E,e[3]=l*C+c*m+A*E,e[4]=n*b+y*s+o*L,e[5]=u*b+h*s+d*L,e[6]=f*b+S*s+w*L,e[7]=l*b+c*s+A*L,e[8]=n*T+y*k+o*_,e[9]=u*T+h*k+d*_,e[10]=f*T+S*k+w*_,e[11]=l*T+c*k+A*_,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},15456:function(j){j.exports=H;function H(e,g,P){var a=Math.sin(P),x=Math.cos(P),M=g[4],v=g[5],p=g[6],r=g[7],t=g[8],i=g[9],n=g[10],u=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=M*x+t*a,e[5]=v*x+i*a,e[6]=p*x+n*a,e[7]=r*x+u*a,e[8]=t*x-M*a,e[9]=i*x-v*a,e[10]=n*x-p*a,e[11]=u*x-r*a,e}},64840:function(j){j.exports=H;function H(e,g,P){var a=Math.sin(P),x=Math.cos(P),M=g[0],v=g[1],p=g[2],r=g[3],t=g[8],i=g[9],n=g[10],u=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=M*x-t*a,e[1]=v*x-i*a,e[2]=p*x-n*a,e[3]=r*x-u*a,e[8]=M*a+t*x,e[9]=v*a+i*x,e[10]=p*a+n*x,e[11]=r*a+u*x,e}},4192:function(j){j.exports=H;function H(e,g,P){var a=Math.sin(P),x=Math.cos(P),M=g[0],v=g[1],p=g[2],r=g[3],t=g[4],i=g[5],n=g[6],u=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=M*x+t*a,e[1]=v*x+i*a,e[2]=p*x+n*a,e[3]=r*x+u*a,e[4]=t*x-M*a,e[5]=i*x-v*a,e[6]=n*x-p*a,e[7]=u*x-r*a,e}},68152:function(j){j.exports=H;function H(e,g,P){var a=P[0],x=P[1],M=P[2];return e[0]=g[0]*a,e[1]=g[1]*a,e[2]=g[2]*a,e[3]=g[3]*a,e[4]=g[4]*x,e[5]=g[5]*x,e[6]=g[6]*x,e[7]=g[7]*x,e[8]=g[8]*M,e[9]=g[9]*M,e[10]=g[10]*M,e[11]=g[11]*M,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},89412:function(j){j.exports=H;function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(j){j.exports=H;function H(e,g,P){var a=P[0],x=P[1],M=P[2],v,p,r,t,i,n,u,f,l,y,h,S;return g===e?(e[12]=g[0]*a+g[4]*x+g[8]*M+g[12],e[13]=g[1]*a+g[5]*x+g[9]*M+g[13],e[14]=g[2]*a+g[6]*x+g[10]*M+g[14],e[15]=g[3]*a+g[7]*x+g[11]*M+g[15]):(v=g[0],p=g[1],r=g[2],t=g[3],i=g[4],n=g[5],u=g[6],f=g[7],l=g[8],y=g[9],h=g[10],S=g[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=i,e[5]=n,e[6]=u,e[7]=f,e[8]=l,e[9]=y,e[10]=h,e[11]=S,e[12]=v*a+i*x+l*M+g[12],e[13]=p*a+n*x+y*M+g[13],e[14]=r*a+u*x+h*M+g[14],e[15]=t*a+f*x+S*M+g[15]),e}},86520:function(j){j.exports=H;function H(e,g){if(e===g){var P=g[1],a=g[2],x=g[3],M=g[6],v=g[7],p=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=P,e[6]=g[9],e[7]=g[13],e[8]=a,e[9]=M,e[11]=g[14],e[12]=x,e[13]=v,e[14]=p}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},23352:function(j,H,e){var g=e(42771),P=e(55616),a=e(28624),x=e(55212),M=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),i=e(58908),n=e(65819),u=e(23464),f=e(63768),l=e(50896),y=e(71920),h=e(47520),S=e(308),c=S.nextPow2,o=new M,d=!1;if(document.body){var w=document.body.appendChild(document.createElement("div"));w.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(w).fontStretch&&(d=!0),document.body.removeChild(w)}var A=function(E){C(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=x(E),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(i(E)?E:{})};A.prototype.createShader=function(){var E=this.regl,b=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(L,T){return[T.atlas.width,T.atlas.height]},atlasDim:function(L,T){return[T.atlas.cols,T.atlas.rows]},atlas:function(L,T){return T.atlas.texture},charStep:function(L,T){return T.atlas.step},em:function(L,T){return T.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:E,draw:b,atlas:s}},A.prototype.update=function(E){var b=this;if(typeof E=="string")E={text:E};else if(!E)return;E=P(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(Ne){return parseFloat(Ne)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=t(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=h(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=A.baseFontSize+"px sans-serif");var s=!1,L=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(Ne,Xe){if(typeof Ne=="string")try{Ne=g.parse(Ne)}catch{Ne=g.parse(A.baseFontSize+"px "+Ne)}else Ne=g.parse(g.stringify(Ne));var ut=g.stringify({size:A.baseFontSize,family:Ne.family,stretch:d?Ne.stretch:void 0,variant:Ne.variant,weight:Ne.weight,style:Ne.style}),dt=n(Ne.size),at=Math.round(dt[0]*u(dt[1]));if(at!==b.fontSize[Xe]&&(L=!0,b.fontSize[Xe]=at),(!b.font[Xe]||ut!=b.font[Xe].baseString)&&(s=!0,b.font[Xe]=A.fonts[ut],!b.font[Xe])){var We=Ne.family.join(", "),rt=[Ne.style];Ne.style!=Ne.variant&&rt.push(Ne.variant),Ne.variant!=Ne.weight&&rt.push(Ne.weight),d&&Ne.weight!=Ne.stretch&&rt.push(Ne.stretch),b.font[Xe]={baseString:ut,family:We,weight:Ne.weight,stretch:Ne.stretch,style:Ne.style,variant:Ne.variant,width:{},kerning:{},metrics:y(We,{origin:"top",fontSize:A.baseFontSize,fontStyle:rt.join(" ")})},A.fonts[ut]=b.font[Xe]}}),(s||L)&&this.font.forEach(function(Ne,Xe){var ut=g.stringify({size:b.fontSize[Xe],family:Ne.family,stretch:d?Ne.stretch:void 0,variant:Ne.variant,weight:Ne.weight,style:Ne.style});if(b.fontAtlas[Xe]=b.shader.atlas[ut],!b.fontAtlas[Xe]){var dt=Ne.metrics;b.shader.atlas[ut]=b.fontAtlas[Xe]={fontString:ut,step:Math.ceil(b.fontSize[Xe]*dt.bottom*.5)*2,em:b.fontSize[Xe],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:b.regl.texture()}}E.text==null&&(E.text=b.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var T=Array(E.position.length*.5),k=0;k<T.length;k++)T[k]=E.text;E.text=T}var _;if(E.text!=null||s){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var B=1;B<E.text.length;B++)this.textOffsets[B]=this.textOffsets[B-1]+E.text[B-1].length,this.count+=E.text[B].length,this.counts.push(E.text[B].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(Ne,Xe){A.atlasContext.font=Ne.baseString;for(var ut=b.fontAtlas[Xe],dt=0;dt<b.text.length;dt++){var at=b.text.charAt(dt);if(ut.ids[at]==null&&(ut.ids[at]=ut.chars.length,ut.chars.push(at),_.push(at)),Ne.width[at]==null&&(Ne.width[at]=A.atlasContext.measureText(at).width/A.baseFontSize,b.kerning)){var We=[];for(var rt in Ne.width)We.push(rt+at,at+rt);l(Ne.kerning,f(Ne.family,{pairs:We}))}}})}if(E.position)if(E.position.length>2){for(var F=!E.position[0].length,O=r.mallocFloat(this.count*2),N=0,z=0;N<this.counts.length;N++){var V=this.counts[N];if(F)for(var W=0;W<V;W++)O[z++]=E.position[N*2],O[z++]=E.position[N*2+1];else for(var $=0;$<V;$++)O[z++]=E.position[N][0],O[z++]=E.position[N][1]}this.position.call?this.position({type:"float",data:O}):this.position=this.regl.buffer({type:"float",data:O}),r.freeFloat(O)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||s){var re=r.mallocUint8(this.count),ne=r.mallocFloat(this.count*2);this.textWidth=[];for(var ue=0,J=0;ue<this.counts.length;ue++){for(var X=this.counts[ue],oe=this.font[ue]||this.font[0],Y=this.fontAtlas[ue]||this.fontAtlas[0],q=0;q<X;q++){var se=this.text.charAt(J),Q=this.text.charAt(J-1);if(re[J]=Y.ids[se],ne[J*2]=oe.width[se],q){var K=ne[J*2-2],le=ne[J*2],ie=ne[J*2-1],ce=ie+K*.5+le*.5;if(this.kerning){var ye=oe.kerning[Q+se];ye&&(ce+=ye*.001)}ne[J*2+1]=ce}else ne[J*2+1]=ne[J*2]*.5;J++}this.textWidth.push(ne.length?ne[J*2-2]*.5+ne[J*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:re,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ne,type:"float",usage:"stream"}),r.freeUint8(re),r.freeFloat(ne),_.length&&this.font.forEach(function(Ne,Xe){var ut=b.fontAtlas[Xe],dt=ut.step,at=Math.floor(A.maxAtlasSize/dt),We=Math.min(at,ut.chars.length),rt=Math.ceil(ut.chars.length/We),st=c(We*dt),ht=c(rt*dt);ut.width=st,ut.height=ht,ut.rows=rt,ut.cols=We,ut.em&&ut.texture({data:p({canvas:A.atlasCanvas,font:ut.fontString,chars:ut.chars,shape:[st,ht],step:[dt,dt]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(Ne,Xe){var ut=Array.isArray(b.align)?b.align.length>1?b.align[Xe]:b.align[0]:b.align;if(typeof ut=="number")return ut;switch(ut){case"right":case"end":return-Ne;case"center":case"centre":case"middle":return-Ne*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Ne,Xe){var ut=(b.font[Xe]||b.font[0]).metrics,dt=0;return dt+=ut.bottom*.5,typeof Ne=="number"?dt+=Ne-ut.baseline:dt+=-ut[Ne],dt*=-1,dt})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=v(E.color,"uint8");else{var Ce;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Ae=E.color.length;Ce=r.mallocUint8(Ae);for(var ke=(E.color.subarray||E.color.slice).bind(E.color),we=0;we<Ae;we+=4)Ce.set(v(ke(we,we+4),"uint8"),we)}else{var Ee=E.color.length;Ce=r.mallocUint8(Ee*4);for(var xe=0;xe<Ee;xe++)Ce.set(v(E.color[xe]||0,"uint8"),xe*4)}this.color=Ce}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Pe=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Pe){var Ue=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ue);for(var Be=0;Be<this.batch.length;Be++)this.batch[Be]={count:this.counts.length>1?this.counts[Be]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Be]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Be*4,Be*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Be]:this.opacity,baseline:this.baselineOffset[Be]!=null?this.baselineOffset[Be]:this.baselineOffset[0],align:this.align?this.alignOffset[Be]!=null?this.alignOffset[Be]:this.alignOffset[0]:0,atlas:this.fontAtlas[Be]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Be*2,Be*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function C(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}j.exports=A},55212:function(j,H,e){var g=e(55616);j.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},a(r)?r={container:r}:x(r)?r={container:r}:M(r)?r={gl:r}:r=g(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}a(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{r.gl=r.canvas.getContext(i,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function a(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function x(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function M(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(j){j.exports=function(H){typeof H=="string"&&(H=[H]);for(var e=[].slice.call(arguments,1),g=[],P=0;P<H.length-1;P++)g.push(H[P],e[P]||"");return g.push(H[P]),g.join("")}},2304:function(j,H,e){var g=e(53664),P=g("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}j.exports=P},52264:function(j,H,e){var g=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=g,j.exports=P},89184:function(j,H,e){var g=e(24200);function P(){var a=!1;try{var x=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,x),window.removeEventListener("test",null,x)}catch{a=!1}return a}j.exports=g&&P()},39640:function(j,H,e){var g=e(53664),P=g("%Object.defineProperty%",!0),a=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},j.exports=a},69572:function(j){var H={foo:{}},e=Object;j.exports=function(){return{__proto__:H}.foo===H.foo&&!({__proto__:null}instanceof e)}},71080:function(j,H,e){var g=typeof Symbol<"u"&&Symbol,P=e(89320);j.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(j){j.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),P=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var a=42;e[g]=a;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var x=Object.getOwnPropertySymbols(e);if(x.length!==1||x[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var M=Object.getOwnPropertyDescriptor(e,g);if(M.value!==a||M.enumerable!==!0)return!1}return!0}},46672:function(j,H,e){var g=e(89320);j.exports=function(){return g()&&!!Symbol.toStringTag}},92064:function(j,H,e){var g=Function.prototype.call,P=Object.prototype.hasOwnProperty,a=e(8844);j.exports=a.call(g,P)},35984:function(j,H){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */H.read=function(e,g,P,a,x){var M,v,p=x*8-a-1,r=(1<<p)-1,t=r>>1,i=-7,n=P?x-1:0,u=P?-1:1,f=e[g+n];for(n+=u,M=f&(1<<-i)-1,f>>=-i,i+=p;i>0;M=M*256+e[g+n],n+=u,i-=8);for(v=M&(1<<-i)-1,M>>=-i,i+=a;i>0;v=v*256+e[g+n],n+=u,i-=8);if(M===0)M=1-t;else{if(M===r)return v?NaN:(f?-1:1)*(1/0);v=v+Math.pow(2,a),M=M-t}return(f?-1:1)*v*Math.pow(2,M-a)},H.write=function(e,g,P,a,x,M){var v,p,r,t=M*8-x-1,i=(1<<t)-1,n=i>>1,u=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:M-1,l=a?1:-1,y=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(p=isNaN(g)?1:0,v=i):(v=Math.floor(Math.log(g)/Math.LN2),g*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?g+=u/r:g+=u*Math.pow(2,1-n),g*r>=2&&(v++,r/=2),v+n>=i?(p=0,v=i):v+n>=1?(p=(g*r-1)*Math.pow(2,x),v=v+n):(p=g*Math.pow(2,n-1)*Math.pow(2,x),v=0));x>=8;e[P+f]=p&255,f+=l,p/=256,x-=8);for(v=v<<x|p,t+=x;t>0;e[P+f]=v&255,f+=l,v/=256,t-=8);e[P+f-l]|=y*128}},6768:function(j){typeof Object.create=="function"?j.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:j.exports=function(e,g){if(g){e.super_=g;var P=function(){};P.prototype=g.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(j,H,e){var g=e(46672)(),P=e(99676),a=P("Object.prototype.toString"),x=function(r){return g&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:a(r)==="[object Arguments]"},M=function(r){return x(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&a(r)!=="[object Array]"&&a(r.callee)==="[object Function]"},v=function(){return x(arguments)}();x.isLegacyArguments=M,j.exports=v?x:M},24200:function(j){j.exports=!0},90720:function(j){var H=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,g)}catch(S){S!==P&&(e=null)}else e=null;var a=/^\s*class\b/,x=function(c){try{var o=H.call(c);return a.test(o)}catch{return!1}},M=function(c){try{return x(c)?!1:(H.call(c),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",i="[object HTMLAllCollection]",n="[object HTML document.all class]",u="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(y=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var o=v.call(c);return(o===i||o===n||o===u||o===p)&&c("")==null}catch{}return!1})}j.exports=e?function(c){if(y(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,g)}catch(o){if(o!==P)return!1}return!x(c)&&M(c)}:function(c){if(y(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(f)return M(c);if(x(c))return!1;var o=v.call(c);return o!==r&&o!==t&&!/^\[object HTML/.test(o)?!1:M(c)}},84420:function(j,H,e){var g=Object.prototype.toString,P=Function.prototype.toString,a=/^\s*(?:function)?\*/,x=e(46672)(),M=Object.getPrototypeOf,v=function(){if(!x)return!1;try{return Function("return function*() {}")()}catch{}},p;j.exports=function(t){if(typeof t!="function")return!1;if(a.test(P.call(t)))return!0;if(!x){var i=g.call(t);return i==="[object GeneratorFunction]"}if(!M)return!1;if(typeof p>"u"){var n=v();p=n?M(n):!1}return M(t)===p}},96604:function(j){j.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(j){j.exports=function(e){return e!==e}},1560:function(j,H,e){var g=e(57916),P=e(81288),a=e(85992),x=e(57740),M=e(59736),v=g(x(),Number);P(v,{getPolyfill:x,implementation:a,shim:M}),j.exports=v},57740:function(j,H,e){var g=e(85992);j.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},59736:function(j,H,e){var g=e(81288),P=e(57740);j.exports=function(){var x=P();return g(Number,{isNaN:x},{isNaN:function(){return Number.isNaN!==x}}),x}},18400:function(j){j.exports=function(H){var e=typeof H;return H!==null&&(e==="object"||e==="function")}},58908:function(j){var H=Object.prototype.toString;j.exports=function(e){var g;return H.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},94576:function(j){j.exports=function(H){for(var e=H.length,g,P=0;P<e;P++)if(g=H.charCodeAt(P),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},53520:function(j){j.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(j,H,e){var g=e(46492),P=e(63436),a=e(99676),x=a("Object.prototype.toString"),M=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=a("Array.prototype.indexOf",!0)||function(y,h){for(var S=0;S<y.length;S+=1)if(y[S]===h)return S;return-1},i=a("String.prototype.slice"),n={},u=Object.getPrototypeOf;M&&v&&u&&g(r,function(l){var y=new p[l];if(Symbol.toStringTag in y){var h=u(y),S=v(h,Symbol.toStringTag);if(!S){var c=u(h);S=v(c,Symbol.toStringTag)}n[l]=S.get}});var f=function(y){var h=!1;return g(n,function(S,c){if(!h)try{h=S.call(y)===c}catch{}}),h};j.exports=function(y){if(!y||typeof y!="object")return!1;if(!M||!(Symbol.toStringTag in y)){var h=i(x(y),8,-1);return t(r,h)>-1}return v?f(y):!1}},76244:function(j){j.exports=Math.log2||function(H){return Math.log(H)*Math.LOG2E}},62644:function(j,H,e){j.exports=P;var g=e(93784);function P(a,x){x||(x=a,a=window);var M=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(w){var A=!1;return"altKey"in w&&(A=A||w.altKey!==r.alt,r.alt=!!w.altKey),"shiftKey"in w&&(A=A||w.shiftKey!==r.shift,r.shift=!!w.shiftKey),"ctrlKey"in w&&(A=A||w.ctrlKey!==r.control,r.control=!!w.ctrlKey),"metaKey"in w&&(A=A||w.metaKey!==r.meta,r.meta=!!w.metaKey),A}function n(w,A){var C=g.x(A),m=g.y(A);"buttons"in A&&(w=A.buttons|0),(w!==M||C!==v||m!==p||i(A))&&(M=w|0,v=C||0,p=m||0,x&&x(M,v,p,r))}function u(w){n(0,w)}function f(){(M||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,M=0,r.shift=r.alt=r.control=r.meta=!1,x&&x(0,0,0,r))}function l(w){i(w)&&x&&x(M,v,p,r)}function y(w){g.buttons(w)===0?n(0,w):n(M,w)}function h(w){n(M|g.buttons(w),w)}function S(w){n(M&~g.buttons(w),w)}function c(){t||(t=!0,a.addEventListener("mousemove",y),a.addEventListener("mousedown",h),a.addEventListener("mouseup",S),a.addEventListener("mouseleave",u),a.addEventListener("mouseenter",u),a.addEventListener("mouseout",u),a.addEventListener("mouseover",u),a.addEventListener("blur",f),a.addEventListener("keyup",l),a.addEventListener("keydown",l),a.addEventListener("keypress",l),a!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function o(){t&&(t=!1,a.removeEventListener("mousemove",y),a.removeEventListener("mousedown",h),a.removeEventListener("mouseup",S),a.removeEventListener("mouseleave",u),a.removeEventListener("mouseenter",u),a.removeEventListener("mouseout",u),a.removeEventListener("mouseover",u),a.removeEventListener("blur",f),a.removeEventListener("keyup",l),a.removeEventListener("keydown",l),a.removeEventListener("keypress",l),a!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var d={element:a};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(w){w?c():o()},enumerable:!0},buttons:{get:function(){return M},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(j){var H={left:0,top:0};j.exports=e;function e(P,a,x){a=a||P.currentTarget||P.srcElement,Array.isArray(x)||(x=[0,0]);var M=P.clientX||0,v=P.clientY||0,p=g(a);return x[0]=M-p.left,x[1]=v-p.top,x}function g(P){return P===window||P===document||P===document.body?H:P.getBoundingClientRect()}},93784:function(j,H){function e(x){if(typeof x=="object"){if("buttons"in x)return x.buttons;if("which"in x){var M=x.which;if(M===2)return 4;if(M===3)return 2;if(M>0)return 1<<M-1}else if("button"in x){var M=x.button;if(M===1)return 4;if(M===2)return 2;if(M>=0)return 1<<M}}return 0}H.buttons=e;function g(x){return x.target||x.srcElement||window}H.element=g;function P(x){if(typeof x=="object"){if("offsetX"in x)return x.offsetX;var M=g(x),v=M.getBoundingClientRect();return x.clientX-v.left}return 0}H.x=P;function a(x){if(typeof x=="object"){if("offsetY"in x)return x.offsetY;var M=g(x),v=M.getBoundingClientRect();return x.clientY-v.top}return 0}H.y=a},97264:function(j,H,e){var g=e(23464);j.exports=P;function P(a,x,M){typeof a=="function"&&(M=!!x,x=a,a=window);var v=g("ex",a),p=function(r){M&&r.preventDefault();var t=r.deltaX||0,i=r.deltaY||0,n=r.deltaZ||0,u=r.deltaMode,f=1;switch(u){case 1:f=v;break;case 2:f=window.innerHeight;break}if(t*=f,i*=f,n*=f,t||i||n)return x(t,i,n,r)};return a.addEventListener("wheel",p),p}},88324:function(j,H,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,x,M){x[a]=x[a]||M(),j.exports?j.exports=x[a]:(g=(function(){return x[a]}).call(H,e,H,j),g!==void 0&&(j.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,x,M,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(d,w,A,C){return Object.defineProperty(d,w,{value:A,writable:!0,configurable:C!==!1})}}catch{a=function(w,A,C){return w[A]=C,w}}M=function(){var d,w,A;function C(m,E){this.fn=m,this.self=E,this.next=void 0}return{add:function(E,b){A=new C(E,b),w?w.next=A:d=A,w=A,A=void 0},drain:function(){var E=d;for(d=w=x=void 0;E;)E.fn.call(E.self),E=E.next}}}();function r(o,d){M.add(o,d),x||(x=p(M.drain))}function t(o){var d,w=typeof o;return o!=null&&(w=="object"||w=="function")&&(d=o.then),typeof d=="function"?d:!1}function i(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,d,w){var A,C;try{d===!1?w.reject(o.msg):(d===!0?A=o.msg:A=d.call(void 0,o.msg),A===w.promise?w.reject(TypeError("Promise-chain cycle")):(C=t(A))?C.call(A,w.resolve,w.reject):w.resolve(A))}catch(m){w.reject(m)}}function u(o){var d,w=this;if(!w.triggered){w.triggered=!0,w.def&&(w=w.def);try{(d=t(o))?r(function(){var A=new y(w);try{d.call(o,function(){u.apply(A,arguments)},function(){f.apply(A,arguments)})}catch(C){f.call(A,C)}}):(w.msg=o,w.state=1,w.chain.length>0&&r(i,w))}catch(A){f.call(new y(w),A)}}}function f(o){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=o,d.state=2,d.chain.length>0&&r(i,d))}function l(o,d,w,A){for(var C=0;C<d.length;C++)(function(E){o.resolve(d[E]).then(function(s){w(E,s)},A)})(C)}function y(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function S(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(A,C){var m={success:typeof A=="function"?A:!0,failure:typeof C=="function"?C:!1};return m.promise=new this.constructor(function(b,s){if(typeof b!="function"||typeof s!="function")throw TypeError("Not a function");m.resolve=b,m.reject=s}),d.chain.push(m),d.state!==0&&r(i,d),m.promise},this.catch=function(A){return this.then(void 0,A)};try{o.call(void 0,function(A){u.call(d,A)},function(A){f.call(d,A)})}catch(w){f.call(d,w)}}var c=a({},"constructor",S,!1);return S.prototype=c,a(c,"__NPO__",0,!1),a(S,"resolve",function(d){var w=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new w(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");C(d)})}),a(S,"reject",function(d){return new this(function(A,C){if(typeof A!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),a(S,"all",function(d){var w=this;return v.call(d)!="[object Array]"?w.reject(TypeError("Not an array")):d.length===0?w.resolve([]):new w(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");var E=d.length,b=Array(E),s=0;l(w,d,function(T,k){b[T]=k,++s===E&&C(b)},m)})}),a(S,"race",function(d){var w=this;return v.call(d)!="[object Array]"?w.reject(TypeError("Not an array")):new w(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");l(w,d,function(b,s){C(s)},m)})}),S})},48816:function(j){var H=Math.PI,e=v(120);j.exports=g;function g(p){for(var r,t=[],i=0,n=0,u=0,f=0,l=null,y=null,h=0,S=0,c=0,o=p.length;c<o;c++){var d=p[c],w=d[0];switch(w){case"M":u=d[1],f=d[2];break;case"A":d=x(h,S,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var A=h,C=S;(r=="C"||r=="S")&&(A+=A-i,C+=C-n),d=["C",A,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,y=S*2-y):(l=h,y=S),d=a(h,S,l,y,d[1],d[2]);break;case"Q":l=d[1],y=d[2],d=a(h,S,d[1],d[2],d[3],d[4]);break;case"L":d=P(h,S,d[1],d[2]);break;case"H":d=P(h,S,d[1],S);break;case"V":d=P(h,S,h,d[1]);break;case"Z":d=P(h,S,u,f);break}r=w,h=d[d.length-2],S=d[d.length-1],d.length>4?(i=d[d.length-4],n=d[d.length-3]):(i=h,n=S),t.push(d)}return t}function P(p,r,t,i){return["C",p,r,t,i,t,i]}function a(p,r,t,i,n,u){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*i,n/3+.6666666666666666*t,u/3+.6666666666666666*i,n,u]}function x(p,r,t,i,n,u,f,l,y,h){if(h)b=h[0],s=h[1],m=h[2],E=h[3];else{var S=M(p,r,-n);p=S.x,r=S.y,S=M(l,y,-n),l=S.x,y=S.y;var c=(p-l)/2,o=(r-y)/2,d=c*c/(t*t)+o*o/(i*i);d>1&&(d=Math.sqrt(d),t=d*t,i=d*i);var w=t*t,A=i*i,C=(u==f?-1:1)*Math.sqrt(Math.abs((w*A-w*o*o-A*c*c)/(w*o*o+A*c*c)));C==1/0&&(C=1);var m=C*t*o/i+(p+l)/2,E=C*-i*c/t+(r+y)/2,b=Math.asin(((r-E)/i).toFixed(9)),s=Math.asin(((y-E)/i).toFixed(9));b=p<m?H-b:b,s=l<m?H-s:s,b<0&&(b=H*2+b),s<0&&(s=H*2+s),f&&b>s&&(b=b-H*2),!f&&s>b&&(s=s-H*2)}if(Math.abs(s-b)>e){var L=s,T=l,k=y;s=b+e*(f&&s>b?1:-1),l=m+t*Math.cos(s),y=E+i*Math.sin(s);var _=x(l,y,t,i,n,0,f,T,k,[s,L,m,E])}var B=Math.tan((s-b)/4),F=4/3*t*B,O=4/3*i*B,N=[2*p-(p+F*Math.sin(b)),2*r-(r-O*Math.cos(b)),l+F*Math.sin(s),y-O*Math.cos(s),l,y];if(h)return N;_&&(N=N.concat(_));for(var z=0;z<N.length;){var V=M(N[z],N[z+1],n);N[z++]=V.x,N[z++]=V.y}return N}function M(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(H/180)}},50896:function(j){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function P(x){if(x==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(x)}function a(){try{if(!Object.assign)return!1;var x=new String("abc");if(x[5]="de",Object.getOwnPropertyNames(x)[0]==="5")return!1;for(var M={},v=0;v<10;v++)M["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(M).map(function(t){return M[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}j.exports=a()?Object.assign:function(x,M){for(var v,p=P(x),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var i in v)e.call(v,i)&&(p[i]=v[i]);if(H){r=H(v);for(var n=0;n<r.length;n++)g.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(j){var H=function(e){return e!==e};j.exports=function(g,P){return g===0&&P===0?1/g===1/P:!!(g===P||H(g)&&H(P))}},39896:function(j,H,e){var g=e(81288),P=e(57916),a=e(76835),x=e(66148),M=e(16408),v=P(x(),Object);g(v,{getPolyfill:x,implementation:a,shim:M}),j.exports=v},66148:function(j,H,e){var g=e(76835);j.exports=function(){return typeof Object.is=="function"?Object.is:g}},16408:function(j,H,e){var g=e(66148),P=e(81288);j.exports=function(){var x=g();return P(Object,{is:x},{is:function(){return Object.is!==x}}),x}},32764:function(j,H,e){var g;if(!Object.keys){var P=Object.prototype.hasOwnProperty,a=Object.prototype.toString,x=e(97344),M=Object.prototype.propertyIsEnumerable,v=!M.call({toString:null},"toString"),p=M.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(f){var l=f.constructor;return l&&l.prototype===f},i={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!i["$"+f]&&P.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{t(window[f])}catch{return!0}}catch{return!0}return!1}(),u=function(f){if(typeof window>"u"||!n)return t(f);try{return t(f)}catch{return!1}};g=function(l){var y=l!==null&&typeof l=="object",h=a.call(l)==="[object Function]",S=x(l),c=y&&a.call(l)==="[object String]",o=[];if(!y&&!h&&!S)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(c&&l.length>0&&!P.call(l,0))for(var w=0;w<l.length;++w)o.push(String(w));if(S&&l.length>0)for(var A=0;A<l.length;++A)o.push(String(A));else for(var C in l)!(d&&C==="prototype")&&P.call(l,C)&&o.push(String(C));if(v)for(var m=u(l),E=0;E<r.length;++E)!(m&&r[E]==="constructor")&&P.call(l,r[E])&&o.push(r[E]);return o}}j.exports=g},41820:function(j,H,e){var g=Array.prototype.slice,P=e(97344),a=Object.keys,x=a?function(p){return a(p)}:e(32764),M=Object.keys;x.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?M(g.call(t)):M(t)})}else Object.keys=x;return Object.keys||x},j.exports=x},97344:function(j){var H=Object.prototype.toString;j.exports=function(g){var P=H.call(g),a=P==="[object Arguments]";return a||(a=P!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&H.call(g.callee)==="[object Function]"),a}},32868:function(j){function H(P,a){if(typeof P!="string")return[P];var x=[P];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var M=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",p=!!a.flat;M.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),u=[];function f(l,y,h){var S=x.push(l.slice(i[0].length,-i[1].length))-1;return u.push(S),v+S+v}x.forEach(function(l,y){for(var h,S=0;l!=h;)if(h=l,l=l.replace(n,f),S++>1e4)throw Error("References have circular dependency. Please, check them.");x[y]=l}),u=u.reverse(),x=x.map(function(l){return u.forEach(function(y){l=l.replace(new RegExp("(\\"+v+y+"\\"+v+")","g"),i[0]+"$1"+i[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(i,n,u){for(var f=[],l,y=0;l=r.exec(i);){if(y++>1e4)throw Error("Circular references in parenthesis");f.push(i.slice(0,l.index)),f.push(t(n[l[1]],n)),i=i.slice(l.index+l[0].length)}return f.push(i),f}return p?x:t(x[0],x)}function e(P,a){if(a&&a.flat){var x=a&&a.escape||"___",M=P[0],v;if(!M)return"";for(var p=new RegExp("\\"+x+"([0-9]+)\\"+x),r=0;M!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=M,M=M.replace(p,t)}return M}return P.reduce(function i(n,u){return Array.isArray(u)&&(u=u.reduce(i,"")),n+u},"");function t(i,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function g(P,a){return Array.isArray(P)?e(P,a):H(P,a)}g.parse=H,g.stringify=e,j.exports=g},51160:function(j,H,e){var g=e(55616);j.exports=P;function P(a){var x;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?x={width:a[0],height:a[0],x:0,y:0}:a.length===2?x={width:a[0],height:a[1],x:0,y:0}:x={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=g(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),x={x:a.left||0,y:a.top||0},a.width==null?a.right?x.width=a.right-x.x:x.width=0:x.width=a.width,a.height==null?a.bottom?x.height=a.bottom-x.y:x.height=0:x.height=a.height),x}},21984:function(j){j.exports=g;var H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(x){var M=[];return x.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=a(r),t=="m"&&r.length>2&&(M.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==H[t])return r.unshift(p),M.push(r);if(r.length<H[t])throw new Error("malformed path data");M.push([p].concat(r.splice(0,H[t])))}}),M}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(x){var M=x.match(P);return M?M.map(Number):[]}},65819:function(j){j.exports=function(e,g){g||(g=[0,""]),e=String(e);var P=parseFloat(e,10);return g[0]=P,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},41984:function(j,H,e){var g=e(4168);(function(){var P,a,x,M,v,p;typeof performance<"u"&&performance!==null&&performance.now?j.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(j.exports=function(){return(P()-v)/1e6},a=g.hrtime,P=function(){var r;return r=a(),r[0]*1e9+r[1]},M=P(),p=g.uptime()*1e9,v=M-p):Date.now?(j.exports=function(){return Date.now()-x},x=Date.now()):(j.exports=function(){return new Date().getTime()-x},x=new Date().getTime())}).call(this)},55616:function(j){j.exports=function(P,a,x){var M={},v,p;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var r={};for(p=0;p<a.length;p++)r[a[p]]=!0;a=r}for(v in a)a[v]=e(a[v]);var t={};for(v in a){var i=a[v];if(Array.isArray(i))for(p=0;p<i.length;p++){var n=i[p];if(x&&(t[n]=!0),n in P){if(M[v]=P[n],x)for(var u=p;u<i.length;u++)t[i[u]]=!0;break}}else v in P&&(a[v]&&(M[v]=P[v]),x&&(t[v]=!0))}if(x)for(v in P)t[v]||(M[v]=P[v]);return M};var H={};function e(g){return H[g]?H[g]:(typeof g=="string"&&(g=H[g]=g.split(/\s*,\s*|\s+/)),g)}},61456:function(j){j.exports=function(e,g,P,a){var x=e[0],M=e[1],v=!1;P===void 0&&(P=0),a===void 0&&(a=g.length);for(var p=a-P,r=0,t=p-1;r<p;t=r++){var i=g[r+P][0],n=g[r+P][1],u=g[t+P][0],f=g[t+P][1],l=n>M!=f>M&&x<(u-i)*(M-n)/(f-n)+i;l&&(v=!v)}return v}},14756:function(j,H,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(7688),P=e(28648),a=e(72200),x=e(11403),M=e(82368),v=e(17792),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=g():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var u=a(!0,r,p);return n.regions.forEach(u.addRegion),{segments:u.calculate(n.inverted),inverted:n.inverted}},combine:function(n,u){var f=a(!1,r,p);return{combined:f.calculate(n.segments,n.inverted,u.segments,u.inverted),inverted1:n.inverted,inverted2:u.inverted}},selectUnion:function(n){return{segments:M.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:M.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:M.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:M.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:M.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:x(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,u){return i(n,u,t.selectUnion)},intersect:function(n,u){return i(n,u,t.selectIntersect)},difference:function(n,u){return i(n,u,t.selectDifference)},differenceRev:function(n,u){return i(n,u,t.selectDifferenceRev)},xor:function(n,u){return i(n,u,t.selectXor)}};function i(n,u,f){var l=t.segments(n),y=t.segments(u),h=t.combine(l,y),S=f(h);return t.polygon(S)}typeof window=="object"&&(window.PolyBool=t),j.exports=t},7688:function(j){function H(){var e,g=0,P=!1;function a(x,M){return e.list.push({type:x,data:M?JSON.parse(JSON.stringify(M)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(x,M){return a("check",{seg1:x,seg2:M})},segmentChop:function(x,M){return a("div_seg",{seg:x,pt:M}),a("chop",{seg:x,pt:M})},statusRemove:function(x){return a("pop_seg",{seg:x})},segmentUpdate:function(x){return a("seg_update",{seg:x})},segmentNew:function(x,M){return a("new_seg",{seg:x,primary:M})},segmentRemove:function(x){return a("rem_seg",{seg:x})},tempStatus:function(x,M,v){return a("temp_status",{seg:x,above:M,below:v})},rewind:function(x){return a("rewind",{seg:x})},status:function(x,M,v){return a("status",{seg:x,above:M,below:v})},vert:function(x){return x===P?e:(P=x,a("vert",{x}))},log:function(x){return typeof x!="string"&&(x=JSON.stringify(x,!1,"  ")),a("log",{txt:x})},reset:function(){return a("reset")},selected:function(x){return a("selected",{segs:x})},chainStart:function(x){return a("chain_start",{seg:x})},chainRemoveHead:function(x,M){return a("chain_rem_head",{index:x,pt:M})},chainRemoveTail:function(x,M){return a("chain_rem_tail",{index:x,pt:M})},chainNew:function(x,M){return a("chain_new",{pt1:x,pt2:M})},chainMatch:function(x){return a("chain_match",{index:x})},chainClose:function(x){return a("chain_close",{index:x})},chainAddHead:function(x,M){return a("chain_add_head",{index:x,pt:M})},chainAddTail:function(x,M){return a("chain_add_tail",{index:x,pt:M})},chainConnect:function(x,M){return a("chain_con",{index1:x,index2:M})},chainReverse:function(x){return a("chain_rev",{index:x})},chainJoin:function(x,M){return a("chain_join",{index1:x,index2:M})},done:function(){return a("done")}},e}j.exports=H},28648:function(j){function H(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,a,x){var M=a[0],v=a[1],p=x[0],r=x[1],t=P[0],i=P[1];return(p-M)*(i-v)-(r-v)*(t-M)>=-e},pointBetween:function(P,a,x){var M=P[1]-a[1],v=x[0]-a[0],p=P[0]-a[0],r=x[1]-a[1],t=p*v+M*r;if(t<e)return!1;var i=v*v+r*r;return!(t-i>-e)},pointsSameX:function(P,a){return Math.abs(P[0]-a[0])<e},pointsSameY:function(P,a){return Math.abs(P[1]-a[1])<e},pointsSame:function(P,a){return g.pointsSameX(P,a)&&g.pointsSameY(P,a)},pointsCompare:function(P,a){return g.pointsSameX(P,a)?g.pointsSameY(P,a)?0:P[1]<a[1]?-1:1:P[0]<a[0]?-1:1},pointsCollinear:function(P,a,x){var M=P[0]-a[0],v=P[1]-a[1],p=a[0]-x[0],r=a[1]-x[1];return Math.abs(M*r-p*v)<e},linesIntersect:function(P,a,x,M){var v=a[0]-P[0],p=a[1]-P[1],r=M[0]-x[0],t=M[1]-x[1],i=v*t-p*r;if(Math.abs(i)<e)return!1;var n=P[0]-x[0],u=P[1]-x[1],f=(r*u-t*n)/i,l=(v*u-p*n)/i,y={alongA:0,alongB:0,pt:[P[0]+f*v,P[1]+f*p]};return f<=-e?y.alongA=-2:f<e?y.alongA=-1:f-1<=-e?y.alongA=0:f-1<e?y.alongA=1:y.alongA=2,l<=-e?y.alongB=-2:l<e?y.alongB=-1:l-1<=-e?y.alongB=0:l-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(P,a){for(var x=P[0],M=P[1],v=a[a.length-1][0],p=a[a.length-1][1],r=!1,t=0;t<a.length;t++){var i=a[t][0],n=a[t][1];n-M>e!=p-M>e&&(v-i)*(M-n)/(p-n)+i-x>e&&(r=!r),v=i,p=n}return r}};return g}j.exports=H},17792:function(j){var H={toPolygon:function(e,g){function P(M){if(M.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var i=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[i]})}for(var p=v(M[0]),r=1;r<M.length;r++)p=e.selectDifference(e.combine(p,v(M[r])));return p}if(g.type==="Polygon")return e.polygon(P(g.coordinates));if(g.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),x=0;x<g.coordinates.length;x++)a=e.selectUnion(e.combine(a,P(g.coordinates[x])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,P){P=e.polygon(e.segments(P));function a(f,l){return g.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],l)}function x(f){return{region:f,children:[]}}var M=x(null);function v(f,l){for(var y=0;y<f.children.length;y++){var h=f.children[y];if(a(l,h.region)){v(h,l);return}}for(var S=x(l),y=0;y<f.children.length;y++){var h=f.children[y];a(h.region,l)&&(S.children.push(h),f.children.splice(y,1),y--)}f.children.push(S)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(M,r)}function t(f,l){for(var y=0,h=f[f.length-1][0],S=f[f.length-1][1],c=[],o=0;o<f.length;o++){var d=f[o][0],w=f[o][1];c.push([d,w]),y+=w*h-d*S,h=d,S=w}var A=y<0;return A!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var i=[];function n(f){var l=[t(f.region,!1)];i.push(l);for(var y=0;y<f.children.length;y++)l.push(u(f.children[y]))}function u(f){for(var l=0;l<f.children.length;l++)n(f.children[l]);return t(f.region,!0)}for(var p=0;p<M.children.length;p++)n(M.children[p]);return i.length<=0?{type:"Polygon",coordinates:[]}:i.length==1?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}};j.exports=H},72200:function(j,H,e){var g=e(48088);function P(a,x,M){function v(S,c){return{id:M?M.segmentId():-1,start:S,end:c,myFill:{above:null,below:null},otherFill:null}}function p(S,c,o){return{id:M?M.segmentId():-1,start:S,end:c,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=g.create();function t(S,c,o,d,w,A){var C=x.pointsCompare(c,w);return C!==0?C:x.pointsSame(o,A)?0:S!==d?S?1:-1:x.pointAboveOrOnLine(o,d?w:A,d?A:w)?1:-1}function i(S,c){r.insertBefore(S,function(o){var d=t(S.isStart,S.pt,c,o.isStart,o.pt,o.other.pt);return d<0})}function n(S,c){var o=g.node({isStart:!0,pt:S.start,seg:S,primary:c,other:null,status:null});return i(o,S.end),o}function u(S,c,o){var d=g.node({isStart:!1,pt:c.end,seg:c,primary:o,other:S,status:null});S.other=d,i(d,S.pt)}function f(S,c){var o=n(S,c);return u(o,S,c),o}function l(S,c){M&&M.segmentChop(S.seg,c),S.other.remove(),S.seg.end=c,S.other.pt=c,i(S.other,S.pt)}function y(S,c){var o=p(c,S.seg.end,S.seg);return l(S,c),f(o,S.primary)}function h(S,c){var o=g.create();function d(O,N){var z=O.seg.start,V=O.seg.end,W=N.seg.start,$=N.seg.end;return x.pointsCollinear(z,W,$)?x.pointsCollinear(V,W,$)||x.pointAboveOrOnLine(V,W,$)?1:-1:x.pointAboveOrOnLine(z,W,$)?1:-1}function w(O){return o.findTransition(function(N){var z=d(O,N.ev);return z>0})}function A(O,N){var z=O.seg,V=N.seg,W=z.start,$=z.end,re=V.start,ne=V.end;M&&M.checkIntersection(z,V);var ue=x.linesIntersect(W,$,re,ne);if(ue===!1){if(!x.pointsCollinear(W,$,re)||x.pointsSame(W,ne)||x.pointsSame($,re))return!1;var J=x.pointsSame(W,re),X=x.pointsSame($,ne);if(J&&X)return N;var oe=!J&&x.pointBetween(W,re,ne),Y=!X&&x.pointBetween($,re,ne);if(J)return Y?y(N,$):y(O,ne),N;oe&&(X||(Y?y(N,$):y(O,ne)),y(N,W))}else ue.alongA===0&&(ue.alongB===-1?y(O,re):ue.alongB===0?y(O,ue.pt):ue.alongB===1&&y(O,ne)),ue.alongB===0&&(ue.alongA===-1?y(N,W):ue.alongA===0?y(N,ue.pt):ue.alongA===1&&y(N,$));return!1}for(var C=[];!r.isEmpty();){var m=r.getHead();if(M&&M.vert(m.pt[0]),m.isStart){let O=function(){if(b){var N=A(m,b);if(N)return N}return s?A(m,s):!1};var F=O;M&&M.segmentNew(m.seg,m.primary);var E=w(m),b=E.before?E.before.ev:null,s=E.after?E.after.ev:null;M&&M.tempStatus(m.seg,b?b.seg:!1,s?s.seg:!1);var L=O();if(L){if(a){var T;m.seg.myFill.below===null?T=!0:T=m.seg.myFill.above!==m.seg.myFill.below,T&&(L.seg.myFill.above=!L.seg.myFill.above)}else L.seg.otherFill=m.seg.myFill;M&&M.segmentUpdate(L.seg),m.other.remove(),m.remove()}if(r.getHead()!==m){M&&M.rewind(m.seg);continue}if(a){var T;m.seg.myFill.below===null?T=!0:T=m.seg.myFill.above!==m.seg.myFill.below,s?m.seg.myFill.below=s.seg.myFill.above:m.seg.myFill.below=S,T?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var k;s?m.primary===s.primary?k=s.seg.otherFill.above:k=s.seg.myFill.above:k=m.primary?c:S,m.seg.otherFill={above:k,below:k}}M&&M.status(m.seg,b?b.seg:!1,s?s.seg:!1),m.other.status=E.insert(g.node({ev:m}))}else{var _=m.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(_.prev)&&o.exists(_.next)&&A(_.prev.ev,_.next.ev),M&&M.statusRemove(_.ev.seg),_.remove(),!m.primary){var B=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=B}C.push(m.seg)}r.getHead().remove()}return M&&M.done(),C}return a?{addRegion:function(S){for(var c,o=S[S.length-1],d=0;d<S.length;d++){c=o,o=S[d];var w=x.pointsCompare(c,o);w!==0&&f(v(w<0?c:o,w<0?o:c),!0)}},calculate:function(S){return h(S,!1)}}:{calculate:function(S,c,o,d){return S.forEach(function(w){f(p(w.start,w.end,w),!0)}),o.forEach(function(w){f(p(w.start,w.end,w),!1)}),h(c,d)}}}j.exports=P},48088:function(j){var H={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,P){for(var a=e.root,x=e.root.next;x!==null;){if(P(x)){g.prev=x.prev,g.next=x,x.prev.next=g,x.prev=g;return}a=x,x=x.next}a.next=g,g.prev=a,g.next=null},findTransition:function(g){for(var P=e.root,a=e.root.next;a!==null&&!g(a);)P=a,a=a.next;return{before:P===e.root?null:P,after:a,insert:function(x){return x.prev=P,x.next=a,P.next=x,a!==null&&(a.prev=x),x}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};j.exports=H},11403:function(j){function H(e,g,P){var a=[],x=[];return e.forEach(function(M){var v=M.start,p=M.end;if(g.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(M);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=r;function n(L,T,k){return i.index=L,i.matches_head=T,i.matches_pt1=k,i===r?(i=t,!1):(i=null,!0)}for(var u=0;u<a.length;u++){var f=a[u],l=f[0];f[1];var y=f[f.length-1];if(f[f.length-2],g.pointsSame(l,v)){if(n(u,!0,!0))break}else if(g.pointsSame(l,p)){if(n(u,!0,!1))break}else if(g.pointsSame(y,v)){if(n(u,!1,!0))break}else if(g.pointsSame(y,p)&&n(u,!1,!1))break}if(i===r){a.push([v,p]),P&&P.chainNew(v,p);return}if(i===t){P&&P.chainMatch(r.index);var h=r.index,S=r.matches_pt1?p:v,c=r.matches_head,f=a[h],o=c?f[0]:f[f.length-1],d=c?f[1]:f[f.length-2],w=c?f[f.length-1]:f[0],A=c?f[f.length-2]:f[1];if(g.pointsCollinear(d,o,S)&&(c?(P&&P.chainRemoveHead(r.index,S),f.shift()):(P&&P.chainRemoveTail(r.index,S),f.pop()),o=d),g.pointsSame(w,S)){a.splice(h,1),g.pointsCollinear(A,w,o)&&(c?(P&&P.chainRemoveTail(r.index,o),f.pop()):(P&&P.chainRemoveHead(r.index,o),f.shift())),P&&P.chainClose(r.index),x.push(f);return}c?(P&&P.chainAddHead(r.index,S),f.unshift(S)):(P&&P.chainAddTail(r.index,S),f.push(S));return}function C(L){P&&P.chainReverse(L),a[L].reverse()}function m(L,T){var k=a[L],_=a[T],B=k[k.length-1],F=k[k.length-2],O=_[0],N=_[1];g.pointsCollinear(F,B,O)&&(P&&P.chainRemoveTail(L,B),k.pop(),B=F),g.pointsCollinear(B,O,N)&&(P&&P.chainRemoveHead(T,O),_.shift()),P&&P.chainJoin(L,T),a[L]=k.concat(_),a.splice(T,1)}var E=r.index,b=t.index;P&&P.chainConnect(E,b);var s=a[E].length<a[b].length;r.matches_head?t.matches_head?s?(C(E),m(E,b)):(C(b),m(b,E)):m(b,E):t.matches_head?m(E,b):s?(C(E),m(b,E)):(C(b),m(E,b))}),x}j.exports=H},82368:function(j){function H(g,P,a){var x=[];return g.forEach(function(M){var v=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);P[v]!==0&&x.push({id:a?a.segmentId():-1,start:M.start,end:M.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),a&&a.selected(x),x}var e={union:function(g,P){return H(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(g,P){return H(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(g,P){return H(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(g,P){return H(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(g,P){return H(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};j.exports=e},9696:function(j,H,e){var g=e(29936).Transform,P=e(55619);function a(){g.call(this,{readableObjectMode:!0})}a.prototype=Object.create(g.prototype),a.prototype.constructor=a,P(a.prototype),H.gS=function(M,v,p){for(var r=v,t=0;t<p.length;)if(M[r++]!==p[t++])return!1;return!0},H.wR=function(M,v){var p=[],r=0;if(v&&v==="hex")for(;r<M.length;)p.push(parseInt(M.slice(r,r+2),16)),r+=2;else for(;r<M.length;r++)p.push(M.charCodeAt(r)&255);return p},H.Bz=function(M,v){return M[v]|M[v+1]<<8},H.eW=function(M,v){return M[v+1]|M[v]<<8},H.st=function(M,v){return M[v]|M[v+1]<<8|M[v+2]<<16|M[v+3]*16777216},H.eI=function(M,v){return M[v+3]|M[v+2]<<8|M[v+1]<<16|M[v]*16777216};function x(M,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=M,v&&(this.code=v),p&&(this.statusCode=p)}x.prototype=Object.create(Error.prototype),x.prototype.constructor=x},11688:function(j){function H(P,a){var x=new Error(P);return x.code=a,x}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function g(P,a,x){this.input=P.subarray(a,x),this.start=a;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if(M!=="II*\0"&&M!=="MM\0*")throw H("invalid TIFF signature","EBADDATA");this.big_endian=M[0]==="M"}g.prototype.each=function(P){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var x=this.ifds_to_read.shift();x.offset&&this.scan_ifd(x.id,x.offset,P)}},g.prototype.read_uint16=function(P){var a=this.input;if(P+2>a.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?a[P]*256+a[P+1]:a[P]+a[P+1]*256},g.prototype.read_uint32=function(P){var a=this.input;if(P+4>a.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?a[P]*16777216+a[P+1]*65536+a[P+2]*256+a[P+3]:a[P]+a[P+1]*256+a[P+2]*65536+a[P+3]*16777216},g.prototype.is_subifd_link=function(P,a){return P===0&&a===34665||P===0&&a===34853||P===34665&&a===40965},g.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(P,a){var x;switch(P){case 1:case 2:return x=this.input[a],x;case 6:return x=this.input[a],x|(x&128)*33554430;case 3:return x=this.read_uint16(a),x;case 8:return x=this.read_uint16(a),x|(x&32768)*131070;case 4:return x=this.read_uint32(a),x;case 9:return x=this.read_uint32(a),x|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(P,a,x){var M=this.read_uint16(a);a+=2;for(var v=0;v<M;v++){var p=this.read_uint16(a),r=this.read_uint16(a+2),t=this.read_uint32(a+4),i=this.exif_format_length(r),n=t*i,u=n<=4?a+8:this.read_uint32(a+8),f=!1;if(u+n>this.input.length)throw H("unexpected EOF","EBADDATA");for(var l=[],y=u,h=0;h<t;h++,y+=i){var S=this.exif_format_read(r,y);if(S===null){l=null;break}l.push(S)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),f=!0);var c={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:a+this.start,data_length:n,data_offset:u+this.start,value:l,is_subifd_link:f};if(x(c)===!1){this.aborted=!0;return}a+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},j.exports.ExifParser=g,j.exports.get_orientation=function(P){var a=0;try{return new g(P,0,P.length).each(function(x){if(x.ifd===0&&x.tag===274&&Array.isArray(x.value))return a=x.value[0],!1}),a}catch{return-1}}},44600:function(j,H,e){var g=e(9696).eW,P=e(9696).eI;function a(n,u){if(n.length<4+u)return null;var f=P(n,u);return n.length<f+u||f<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(u+4,u+8)),data:n.slice(u+8,u+f),end:u+f}}j.exports.unbox=a;function x(n,u){for(var f=0;;){var l=a(n,f);if(!l)break;switch(l.boxtype){case"ispe":u.sizes.push({width:P(l.data,4),height:P(l.data,8)});break;case"irot":u.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":u.transforms.push({type:"imir",value:l.data[0]&1});break}f=l.end}}function M(n,u,f){for(var l=0,y=0;y<f;y++)l=l*256+(n[u+y]||0);return l}function v(n,u){for(var f=n[4]>>4&15,l=n[4]&15,y=n[5]>>4&15,h=g(n,6),S=8,c=0;c<h;c++){var o=g(n,S);S+=2;var d=g(n,S);S+=2;var w=M(n,S,y);S+=y;var A=g(n,S);if(S+=2,d===0&&A===1){var C=M(n,S,f),m=M(n,S+f,l);u.item_loc[o]={length:m,offset:C+w}}S+=A*(f+l)}}function p(n,u){for(var f=g(n,4),l=6,y=0;y<f;y++){var h=a(n,l);if(!h)break;if(h.boxtype==="infe"){for(var S=g(h.data,4),c="",o=8;o<h.data.length&&h.data[o];o++)c+=String.fromCharCode(h.data[o]);u.item_inf[c]=S}l=h.end}}function r(n,u){for(var f=0;;){var l=a(n,f);if(!l)break;l.boxtype==="ipco"&&x(l.data,u),f=l.end}}function t(n,u){for(var f=4;;){var l=a(n,f);if(!l)break;l.boxtype==="iprp"&&r(l.data,u),l.boxtype==="iloc"&&v(l.data,u),l.boxtype==="iinf"&&p(l.data,u),f=l.end}}function i(n){var u=n.reduce(function(y,h){return y.width>h.width||y.width===h.width&&y.height>h.height?y:h}),f=n.reduce(function(y,h){return y.height>h.height||y.height===h.height&&y.width>h.width?y:h}),l;return u.width>f.height||u.width===f.height&&u.height>f.width?l=u:l=f,l}j.exports.readSizeFromMeta=function(n){var u={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,u),!!u.sizes.length){var f=i(u.sizes),l=1;u.transforms.forEach(function(h){var S={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=S[l],l=S[l])),h.type==="irot")for(var o=0;o<h.value;o++)l=S[l]});var y=null;return u.item_inf.Exif&&(y=u.item_loc[u.item_inf.Exif]),{width:f.width,height:f.height,orientation:u.transforms.length?l:null,variants:u.sizes,exif_location:y}}},j.exports.getMimeType=function(n){var u=String.fromCharCode.apply(null,n.slice(0,4)),f={};f[u]=!0;for(var l=8;l<n.length;l+=4)f[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return u==="avif"||u==="avis"||u==="avio"?{type:"avif",mime:"image/avif"}:u==="heic"||u==="heix"?{type:"heic",mime:"image/heic"}:u==="hevc"||u==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(j,H,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,x=e(44600),M=e(11688),v=g("ftyp");j.exports=function(p){if(P(p,4,v)){var r=x.unbox(p,0);if(r){var t=x.getMimeType(r.data);if(t){for(var i,n=r.end;;){var u=x.unbox(p,n);if(!u)break;if(n=u.end,u.boxtype==="mdat")return;if(u.boxtype==="meta"){i=u.data;break}}if(i){var f=x.readSizeFromMeta(i);if(f){var l={width:f.width,height:f.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(l.variants=f.variants),f.orientation&&(l.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=p.length){var y=a(p,f.exif_location.offset),h=p.slice(f.exif_location.offset+y+4,f.exif_location.offset+f.exif_location.length),S=M.get_orientation(h);S>0&&(l.orientation=S)}return l}}}}}}},38728:function(j,H,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,x=g("BM");j.exports=function(M){if(!(M.length<26)&&P(M,0,x))return{width:a(M,18),height:a(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(j,H,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,x=g("GIF87a"),M=g("GIF89a");j.exports=function(v){if(!(v.length<10)&&!(!P(v,0,x)&&!P(v,0,M)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(j,H,e){var g=e(9696).Bz,P=0,a=1,x=16;j.exports=function(M){var v=g(M,0),p=g(M,2),r=g(M,4);if(!(v!==P||p!==a||!r)){for(var t=[],i={width:0,height:0},n=0;n<r;n++){var u=M[6+x*n]||256,f=M[6+x*n+1]||256,l={width:u,height:f};t.push(l),(u>i.width||f>i.height)&&(i=l)}return{width:i.width,height:i.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(j,H,e){var g=e(9696).eW,P=e(9696).wR,a=e(9696).gS,x=e(11688),M=P("Exif\0\0");j.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=g(v,p)-2,p+=2}else return;if(r===217||r===218)return;var i;if(r===225&&t>=10&&a(v,p,M)&&(i=x.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:g(v,p+3),height:g(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}p+=t}}},37276:function(j,H,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,x=g(`PNG\r

`),M=g("IHDR");j.exports=function(v){if(!(v.length<24)&&P(v,0,x)&&P(v,12,M))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(j,H,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,x=g("8BPS\0");j.exports=function(M){if(!(M.length<22)&&P(M,0,x))return{width:a(M,18),height:a(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(j){function H(i){return i===32||i===9||i===13||i===10}function e(i){return typeof i=="number"&&isFinite(i)&&i>0}function g(i){var n=0,u=i.length;for(i[0]===239&&i[1]===187&&i[2]===191&&(n=3);n<u&&H(i[n]);)n++;return n===u?!1:i[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,x=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,M=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(i){var n=i.match(x),u=i.match(M),f=i.match(v);return{width:n&&(n[1]||n[2]),height:u&&(u[1]||u[2]),viewbox:f&&(f[1]||f[2])}}function t(i){return p.test(i)?i.match(p)[0]:"px"}j.exports=function(i){if(g(i)){for(var n="",u=0;u<i.length;u++)n+=String.fromCharCode(i[u]);var f=(n.match(P)||[""])[0];if(a.test(f)){var l=r(f),y=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(y)||!e(h)?void 0:{width:y,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var S=(l.viewbox||"").split(" "),c={width:S[2],height:S[3]},o=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(o)||!e(d))&&t(c.width)===t(c.height)){var w=o/d;return l.width?e(y)?{width:y,height:y/w,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*w,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:o,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(j,H,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,x=e(9696).eW,M=e(9696).st,v=e(9696).eI,p=g("II*\0"),r=g("MM\0*");function t(u,f,l){return l?x(u,f):a(u,f)}function i(u,f,l){return l?v(u,f):M(u,f)}function n(u,f,l){var y=t(u,f+2,l),h=i(u,f+4,l);return h!==1||y!==3&&y!==4?null:y===3?t(u,f+8,l):i(u,f+8,l)}j.exports=function(u){if(!(u.length<8)&&!(!P(u,0,p)&&!P(u,0,r))){var f=u[0]===77,l=i(u,4,f)-8;if(!(l<0)){var y=l+8;if(!(u.length-y<2)){var h=t(u,y+0,f)*12;if(!(h<=0)&&(y+=2,!(u.length-y<h))){var S,c,o,d;for(S=0;S<h;S+=12)d=t(u,y+S,f),d===256?c=n(u,y+S,f):d===257&&(o=n(u,y+S,f));if(c&&o)return{width:c,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(j,H,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,x=e(9696).st,M=e(11688),v=g("RIFF"),p=g("WEBP");function r(n,u){if(!(n[u+3]!==157||n[u+4]!==1||n[u+5]!==42))return{width:a(n,u+6)&16383,height:a(n,u+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,u){if(n[u]===47){var f=x(n,u+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function i(n,u){return{width:(n[u+6]<<16|n[u+5]<<8|n[u+4])+1,height:(n[u+9]<<u|n[u+8]<<8|n[u+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}j.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var u=12,f=null,l=0,y=x(n,4)+8;if(!(y>n.length)){for(;u+8<y;){if(n[u]===0){u++;continue}var h=String.fromCharCode.apply(null,n.slice(u,u+4)),S=x(n,u+4);h==="VP8 "&&S>=10?f=f||r(n,u+8):h==="VP8L"&&S>=9?f=f||t(n,u+8):h==="VP8X"&&S>=10?f=f||i(n,u+8):h==="EXIF"&&(l=M.get_orientation(n.slice(u+8,u+8+S)),u=1/0),u+=8+S}if(f)return l>0&&(f.orientation=l),f}}}},87480:function(j,H,e){j.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(j,H,e){var g=e(87480);function P(a){for(var x=Object.keys(g),M=0;M<x.length;M++){var v=g[x[M]](a);if(v)return v}return null}j.exports=function(x){return P(x)},j.exports.parsers=g},4168:function(j){var H=j.exports={},e,g;function P(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?g=clearTimeout:g=a}catch{g=a}})();function x(l){if(e===setTimeout)return setTimeout(l,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function M(l){if(g===clearTimeout)return clearTimeout(l);if((g===a||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(l);try{return g(l)}catch{try{return g.call(null,l)}catch{return g.call(this,l)}}}var v=[],p=!1,r,t=-1;function i(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var l=x(i);p=!0;for(var y=v.length;y;){for(r=v,v=[];++t<y;)r&&r[t].run();t=-1,y=v.length}r=null,p=!1,M(l)}}H.nextTick=function(l){var y=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)y[h-1]=arguments[h];v.push(new u(l,y)),v.length===1&&!p&&x(n)};function u(l,y){this.fun=l,this.array=y}u.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={};function f(){}H.on=f,H.addListener=f,H.once=f,H.off=f,H.removeListener=f,H.removeAllListeners=f,H.emit=f,H.prependListener=f,H.prependOnceListener=f,H.listeners=function(l){return[]},H.binding=function(l){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(l){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},3951:function(j,H,e){for(var g=e(41984),P=typeof window>"u"?e.g:window,a=["moz","webkit"],x="AnimationFrame",M=P["request"+x],v=P["cancel"+x]||P["cancelRequest"+x],p=0;!M&&p<a.length;p++)M=P[a[p]+"Request"+x],v=P[a[p]+"Cancel"+x]||P[a[p]+"CancelRequest"+x];if(!M||!v){var r=0,t=0,i=[],n=1e3/60;M=function(u){if(i.length===0){var f=g(),l=Math.max(0,n-(f-r));r=l+f,setTimeout(function(){var y=i.slice(0);i.length=0;for(var h=0;h<y.length;h++)if(!y[h].cancelled)try{y[h].callback(r)}catch(S){setTimeout(function(){throw S},0)}},Math.round(l))}return i.push({handle:++t,callback:u,cancelled:!1}),t},v=function(u){for(var f=0;f<i.length;f++)i[f].handle===u&&(i[f].cancelled=!0)}}j.exports=function(u){return M.call(P,u)},j.exports.cancel=function(){v.apply(P,arguments)},j.exports.polyfill=function(u){u||(u=P),u.requestAnimationFrame=M,u.cancelAnimationFrame=v}},24544:function(j,H,e){var g=e(76752),P=e(72160),a=e(45223),x=e(55616),M=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;j.exports=n;var i=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(u,f){if(typeof u=="function"?(f||(f={}),f.regl=u):f=u,f.length&&(f.positions=f),u=f.regl,!u.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=u._gl,y,h,S,c,o,d,w={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return c=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),S=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=u.buffer({usage:"static",type:"float",data:i}),b(f),y=u({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:function(L,T){return[T.viewport.x,T.viewport.y,L.viewportWidth,L.viewportHeight]}},attributes:{color:{buffer:c,offset:function(L,T){return T.offset*4},divisor:1},position:{buffer:h,offset:function(L,T){return T.offset*8},divisor:1},positionFract:{buffer:S,offset:function(L,T){return T.offset*8},divisor:1},error:{buffer:o,offset:function(L,T){return T.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:i.length}),M(C,{update:b,draw:m,destroy:s,regl:u,gl:l,canvas:l.canvas,groups:A}),C;function C(L){L?b(L):L===null&&s(),m()}function m(L){if(typeof L=="number")return E(L);L&&!Array.isArray(L)&&(L=[L]),u._refresh(),A.forEach(function(T,k){if(T){if(L&&(L[k]?T.draw=!0:T.draw=!1),!T.draw){T.draw=!0;return}E(k)}})}function E(L){typeof L=="number"&&(L=A[L]),L!=null&&L&&L.count&&L.color&&L.opacity&&L.positions&&L.positions.length>1&&(L.scaleRatio=[L.scale[0]*L.viewport.width,L.scale[1]*L.viewport.height],y(L),L.after&&L.after(L))}function b(L){if(L){L.length!=null?typeof L[0]=="number"&&(L=[{positions:L}]):Array.isArray(L)||(L=[L]);var T=0,k=0;if(C.groups=A=L.map(function(V,W){var $=A[W];if(V)typeof V=="function"?V={after:V}:typeof V[0]=="number"&&(V={positions:V});else return $;return V=x(V,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),$||(A[W]=$={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},V=M({},w,V)),a($,V,[{lineWidth:function(re){return+re*.5},capSize:function(re){return+re*.5},opacity:parseFloat,errors:function(re){return re=v(re),k+=re.length,re},positions:function(re,ne){return re=v(re,"float64"),ne.count=Math.floor(re.length/2),ne.bounds=g(re,2),ne.offset=T,T+=ne.count,re}},{color:function(re,ne){var ue=ne.count;if(re||(re="transparent"),!Array.isArray(re)||typeof re[0]=="number"){var J=re;re=Array(ue);for(var X=0;X<ue;X++)re[X]=J}if(re.length<ue)throw Error("Not enough colors");for(var oe=new Uint8Array(ue*4),Y=0;Y<ue;Y++){var q=P(re[Y],"uint8");oe.set(q,Y*4)}return oe},range:function(re,ne,ue){var J=ne.bounds;return re||(re=J),ne.scale=[1/(re[2]-re[0]),1/(re[3]-re[1])],ne.translate=[-re[0],-re[1]],ne.scaleFract=t(ne.scale),ne.translateFract=t(ne.translate),re},viewport:function(re){var ne;return Array.isArray(re)?ne={x:re[0],y:re[1],width:re[2]-re[0],height:re[3]-re[1]}:re?(ne={x:re.x||re.left||0,y:re.y||re.top||0},re.right?ne.width=re.right-ne.x:ne.width=re.w||re.width||0,re.bottom?ne.height=re.bottom-ne.y:ne.height=re.h||re.height||0):ne={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ne}}]),$}),T||k){var _=A.reduce(function(V,W,$){return V+(W?W.count:0)},0),B=new Float64Array(_*2),F=new Uint8Array(_*4),O=new Float32Array(_*4);A.forEach(function(V,W){if(V){var $=V.positions,re=V.count,ne=V.offset,ue=V.color,J=V.errors;re&&(F.set(ue,ne*4),O.set(J,ne*4),B.set($,ne*2))}});var N=r(B);h(N);var z=t(B,N);S(z),c(F),o(O)}}}function s(){h.destroy(),S.destroy(),c.destroy(),o.destroy(),d.destroy()}}},13472:function(j,H,e){var g=e(72160),P=e(76752),a=e(50896),x=e(55616),M=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,i=r.fract32,n=e(60463),u=e(51160),f=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,y=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,S=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,o=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;j.exports=d;function d(w,A){if(!(this instanceof d))return new d(w,A);if(typeof w=="function"?(A||(A={}),A.regl=w):A=w,A.length&&(A.positions=A),w=A.regl,!w.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=w._gl,this.regl=w,this.passes=[],this.shaders=d.shaders.has(w)?d.shaders.get(w):d.shaders.set(w,d.createShaders(w)).get(w),this.update(A)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(w){var A=w.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),C={primitive:"triangle strip",instances:w.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,L){return L.join==="round"?2:1},miterLimit:w.prop("miterLimit"),scale:w.prop("scale"),scaleFract:w.prop("scaleFract"),translateFract:w.prop("translateFract"),translate:w.prop("translate"),thickness:w.prop("thickness"),dashTexture:w.prop("dashTexture"),opacity:w.prop("opacity"),pixelRatio:w.context("pixelRatio"),id:w.prop("id"),dashLength:w.prop("dashLength"),viewport:function(s,L){return[L.viewport.x,L.viewport.y,s.viewportWidth,s.viewportHeight]},depth:w.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,L){return!L.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:w.prop("viewport")},viewport:w.prop("viewport")},m=w(a({vert:l,frag:y,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:w.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},C)),E;try{E=w(a({cull:{enable:!0,face:"back"},vert:c,frag:o,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:w.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:w.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},C))}catch{E=m}var b=w({primitive:"triangle",elements:function(s,L){return L.triangles},offset:0,vert:h,frag:S,uniforms:{scale:w.prop("scale"),color:w.prop("fill"),scaleFract:w.prop("scaleFract"),translateFract:w.prop("translateFract"),translate:w.prop("translate"),opacity:w.prop("opacity"),pixelRatio:w.context("pixelRatio"),id:w.prop("id"),viewport:function(s,L){return[L.viewport.x,L.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:w.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:8}},blend:C.blend,depth:{enable:!1},scissor:C.scissor,stencil:C.stencil,viewport:C.viewport});return{fill:b,rect:m,miter:E}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var w,A=[],C=arguments.length;C--;)A[C]=arguments[C];A.length&&(w=this).update.apply(w,A),this.draw()},d.prototype.draw=function(){for(var w=this,A=[],C=arguments.length;C--;)A[C]=arguments[C];return(A.length?A:this.passes).forEach(function(m,E){var b;if(m&&Array.isArray(m))return(b=w).draw.apply(b,m);typeof m=="number"&&(m=w.passes[m]),m&&m.count>1&&m.opacity&&(w.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&w.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>d.precisionThreshold||m.scale[1]*m.viewport.height>d.precisionThreshold||m.join==="rect"||!m.join&&(m.thickness<=2||m.count>=d.maxPoints)?w.shaders.rect(m):w.shaders.miter(m)))}),this},d.prototype.update=function(w){var A=this;if(w){w.length!=null?typeof w[0]=="number"&&(w=[{positions:w}]):Array.isArray(w)||(w=[w]);var C=this,m=C.regl,E=C.gl;if(w.forEach(function(k,_){var B=A.passes[_];if(k!==void 0){if(k===null){A.passes[_]=null;return}if(typeof k[0]=="number"&&(k={positions:k}),k=x(k,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),B||(A.passes[_]=B={id:_,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},k=a({},d.defaults,k)),k.thickness!=null&&(B.thickness=parseFloat(k.thickness)),k.opacity!=null&&(B.opacity=parseFloat(k.opacity)),k.miterLimit!=null&&(B.miterLimit=parseFloat(k.miterLimit)),k.overlay!=null&&(B.overlay=!!k.overlay,_<d.maxLines&&(B.depth=2*(d.maxLines-1-_%d.maxLines)/d.maxLines-1)),k.join!=null&&(B.join=k.join),k.hole!=null&&(B.hole=k.hole),k.fill!=null&&(B.fill=k.fill?g(k.fill,"uint8"):null),k.viewport!=null&&(B.viewport=u(k.viewport)),B.viewport||(B.viewport=u([E.drawingBufferWidth,E.drawingBufferHeight])),k.close!=null&&(B.close=k.close),k.positions===null&&(k.positions=[]),k.positions){var F,O;if(k.positions.x&&k.positions.y){var N=k.positions.x,z=k.positions.y;O=B.count=Math.max(N.length,z.length),F=new Float64Array(O*2);for(var V=0;V<O;V++)F[V*2]=N[V],F[V*2+1]=z[V]}else F=M(k.positions,"float64"),O=B.count=Math.floor(F.length/2);var W=B.bounds=P(F,2);if(B.fill){for(var $=[],re={},ne=0,ue=0,J=0,X=B.count;ue<X;ue++){var oe=F[ue*2],Y=F[ue*2+1];isNaN(oe)||isNaN(Y)||oe==null||Y==null?(oe=F[ne*2],Y=F[ne*2+1],re[ue]=ne):ne=ue,$[J++]=oe,$[J++]=Y}if(k.splitNull){B.count-1 in re||(re[B.count]=B.count-1);var q=Object.keys(re).map(Number).sort(function(Te,Oe){return Te-Oe}),se=[],Q=0,K=B.hole!=null?B.hole[0]:null;if(K!=null){var le=f(q,function(Te){return Te>=K});q=q.slice(0,le),q.push(K)}for(var ie=function(Te){var Oe=$.slice(Q*2,q[Te]*2).concat(K?$.slice(K*2):[]),Ke=(B.hole||[]).map(function(pt){return pt-K+(q[Te]-Q)}),nt=v(Oe,Ke);nt=nt.map(function(pt){return pt+Q+(pt+Q<q[Te]?0:K-q[Te])}),se.push.apply(se,nt),Q=q[Te]+1},ce=0;ce<q.length;ce++)ie(ce);for(var ye=0,Ce=se.length;ye<Ce;ye++)re[se[ye]]!=null&&(se[ye]=re[se[ye]]);B.triangles=se}else{for(var Ae=v($,B.hole||[]),ke=0,we=Ae.length;ke<we;ke++)re[Ae[ke]]!=null&&(Ae[ke]=re[Ae[ke]]);B.triangles=Ae}}var Ee=new Float64Array(F);p(Ee,2,W);var xe=new Float64Array(O*2+6);B.close?F[0]===F[O*2-2]&&F[1]===F[O*2-1]?(xe[0]=Ee[O*2-4],xe[1]=Ee[O*2-3]):(xe[0]=Ee[O*2-2],xe[1]=Ee[O*2-1]):(xe[0]=Ee[0],xe[1]=Ee[1]),xe.set(Ee,2),B.close?F[0]===F[O*2-2]&&F[1]===F[O*2-1]?(xe[O*2+2]=Ee[2],xe[O*2+3]=Ee[3],B.count-=1):(xe[O*2+2]=Ee[0],xe[O*2+3]=Ee[1],xe[O*2+4]=Ee[2],xe[O*2+5]=Ee[3]):(xe[O*2+2]=Ee[O*2-2],xe[O*2+3]=Ee[O*2-1],xe[O*2+4]=Ee[O*2-2],xe[O*2+5]=Ee[O*2-1]);var Pe=t(xe);B.positionBuffer(Pe);var Ue=i(xe,Pe);B.positionFractBuffer(Ue)}if(k.range?B.range=k.range:B.range||(B.range=B.bounds),(k.range||k.positions)&&B.count){var Be=B.bounds,Ne=Be[2]-Be[0],Xe=Be[3]-Be[1],ut=B.range[2]-B.range[0],dt=B.range[3]-B.range[1];B.scale=[Ne/ut,Xe/dt],B.translate=[-B.range[0]/ut+Be[0]/ut||0,-B.range[1]/dt+Be[1]/dt||0],B.scaleFract=i(B.scale),B.translateFract=i(B.translate)}if(k.dashes){var at=0,We;if(!k.dashes||k.dashes.length<2)at=1,We=new Uint8Array([255,255,255,255,255,255,255,255]);else{at=0;for(var rt=0;rt<k.dashes.length;++rt)at+=k.dashes[rt];We=new Uint8Array(at*d.dashMult);for(var st=0,ht=255,vt=0;vt<2;vt++)for(var At=0;At<k.dashes.length;++At){for(var et=0,_e=k.dashes[At]*d.dashMult*.5;et<_e;++et)We[st++]=ht;ht^=255}}B.dashLength=at,B.dashTexture({channels:1,data:We,width:We.length,height:1,mag:"linear",min:"linear"},0,0)}if(k.color){var Ve=B.count,Ze=k.color;Ze||(Ze="transparent");var He=new Uint8Array(Ve*4+4);if(!Array.isArray(Ze)||typeof Ze[0]=="number")for(var Ie=g(Ze,"uint8"),be=0;be<Ve+1;be++)He.set(Ie,be*4);else{for(var me=0;me<Ve;me++){var Me=g(Ze[me],"uint8");He.set(Me,me*4)}He.set(g(Ze[0],"uint8"),Ve*4)}B.colorBuffer({usage:"dynamic",type:"uint8",data:He})}}}),w.length<this.passes.length){for(var b=w.length;b<this.passes.length;b++){var s=this.passes[b];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=w.length}for(var L=[],T=0;T<this.passes.length;T++)this.passes[T]!==null&&L.push(this.passes[T]);return this.passes=L,this}},d.prototype.destroy=function(){return this.passes.forEach(function(w){w.colorBuffer.destroy(),w.positionBuffer.destroy(),w.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(j,H,e){function g(s,L){var T=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(T!=null){var k,_,B,F,O=[],N=!0,z=!1;try{if(B=(T=T.call(s)).next,L===0){if(Object(T)!==T)return;N=!1}else for(;!(N=(k=B.call(T)).done)&&(O.push(k.value),O.length!==L);N=!0);}catch(V){z=!0,_=V}finally{try{if(!N&&T.return!=null&&(F=T.return(),Object(F)!==F))return}finally{if(z)throw _}}return O}}function P(s,L){return M(s)||g(s,L)||p(s,L)||i()}function a(s){return x(s)||v(s)||p(s)||t()}function x(s){if(Array.isArray(s))return r(s)}function M(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function p(s,L){if(s){if(typeof s=="string")return r(s,L);var T=Object.prototype.toString.call(s).slice(8,-1);if(T==="Object"&&s.constructor&&(T=s.constructor.name),T==="Map"||T==="Set")return Array.from(s);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return r(s,L)}}function r(s,L){(L==null||L>s.length)&&(L=s.length);for(var T=0,k=new Array(L);T<L;T++)k[T]=s[T];return k}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),u=e(76752),f=e(3808),l=e(3108),y=e(50896),h=e(26444),S=e(55616),c=e(45223),o=e(47520),d=e(96604),w=e(37816),A=e(51160),C=m;function m(s,L){var T=this;if(!(this instanceof m))return new m(s,L);typeof s=="function"?(L||(L={}),L.regl=s):(L=s,s=null),L&&L.length&&(L.positions=L),s=L.regl;var k=s._gl,_,B=[],F={},O=[],N=[null],z=[null],V=255,W=100;this.tooManyColors=d,_=s.texture({data:new Uint8Array(V*4),width:V,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:s,gl:k,groups:O,markerCache:z,markerTextures:N,palette:B,paletteIds:F,paletteTexture:_,maxColors:V,maxSize:W,canvas:k.canvas}),this.update(L);var $={uniforms:{constPointSize:!!L.constPointSize,opacity:s.prop("opacity"),paletteSize:function(J,X){return[T.tooManyColors?0:V,_.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:_},attributes:{x:function(J,X){return X.xAttr||{buffer:X.positionBuffer,stride:8,offset:0}},y:function(J,X){return X.yAttr||{buffer:X.positionBuffer,stride:8,offset:4}},xFract:function(J,X){return X.xAttr?{constant:[0,0]}:{buffer:X.positionFractBuffer,stride:8,offset:0}},yFract:function(J,X){return X.yAttr?{constant:[0,0]}:{buffer:X.positionFractBuffer,stride:8,offset:4}},size:function(J,X){return X.size.length?{buffer:X.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(X.size*255/T.maxSize)]}},borderSize:function(J,X){return X.borderSize.length?{buffer:X.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(X.borderSize*255/T.maxSize)]}},colorId:function(J,X){return X.color.length?{buffer:X.colorBuffer,stride:T.tooManyColors?8:4,offset:0}:{constant:T.tooManyColors?B.slice(X.color*4,X.color*4+4):[X.color]}},borderColorId:function(J,X){return X.borderColor.length?{buffer:X.colorBuffer,stride:T.tooManyColors?8:4,offset:T.tooManyColors?4:2}:{constant:T.tooManyColors?B.slice(X.borderColor*4,X.borderColor*4+4):[X.borderColor]}},isActive:function(J,X){return X.activation===!0?{constant:[1]}:X.activation?X.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},re=y({},$);re.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),re.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(re);var ne=y({},$);ne.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ne.frag=ne.frag.replace("smoothstep","smoothStep"),re.frag=re.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(ne)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var s=this,L=arguments.length,T=new Array(L),k=0;k<L;k++)T[k]=arguments[k];var _=this.groups;if(T.length===1&&Array.isArray(T[0])&&(T[0][0]===null||Array.isArray(T[0][0]))&&(T=T[0]),this.regl._refresh(),T.length)for(var B=0;B<T.length;B++)this.drawItem(B,T[B]);else _.forEach(function(F,O){s.drawItem(O)});return this},m.prototype.drawItem=function(s,L){var T=this.groups,k=T[s];if(typeof L=="number"&&(s=L,k=T[L],L=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,L));for(var _=[],B=1;B<k.activation.length;B++)!k.activation[B]||k.activation[B]!==!0&&!k.activation[B].data.length||_.push.apply(_,a(this.getMarkerDrawOptions(B,k,L)));_.length&&this.drawMarker(_)}},m.prototype.getMarkerDrawOptions=function(s,L,T){var k=L.range,_=L.tree,B=L.viewport,F=L.activation,O=L.selectionBuffer,N=L.count;if(this.regl,!_)return T?[y({},L,{markerTexture:this.markerTextures[s],activation:F[s],count:T.length,elements:T,offset:0})]:[y({},L,{markerTexture:this.markerTextures[s],activation:F[s],offset:0})];var z=[],V=_.range(k,{lod:!0,px:[(k[2]-k[0])/B.width,(k[3]-k[1])/B.height]});if(T){for(var W=F[s],$=W.data,re=new Uint8Array(N),ne=0;ne<T.length;ne++){var ue=T[ne];re[ue]=$?$[ue]:1}O.subdata(re)}for(var J=V.length;J--;){var X=P(V[J],2),oe=X[0],Y=X[1];z.push(y({},L,{markerTexture:this.markerTextures[s],activation:T?O:F[s],offset:oe,count:Y-oe}))}return z},m.prototype.update=function(){for(var s=this,L=arguments.length,T=new Array(L),k=0;k<L;k++)T[k]=arguments[k];if(T.length){T.length===1&&Array.isArray(T[0])&&(T=T[0]);var _=this.groups,B=this.gl,F=this.regl,O=this.maxSize,N=this.maxColors,z=this.palette;this.groups=_=T.map(function(V,W){var $=_[W];if(V===void 0)return $;V===null?V={positions:null}:typeof V=="function"?V={ondraw:V}:typeof V[0]=="number"&&(V={positions:V}),V=S(V,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),V.positions===null&&(V.positions=[]),V.tooManyColors!=null&&(s.tooManyColors=V.tooManyColors),$||(_[W]=$={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},V=y({},m.defaults,V)),V.positions&&!("marker"in V)&&(V.marker=$.marker,delete $.marker),V.marker&&!("positions"in V)&&(V.positions=$.positions,delete $.positions);var re=0,ne=0;if(c($,V,[{snap:!0,size:function(xe,Pe){return xe==null&&(xe=m.defaults.size),re+=xe&&xe.length?1:0,xe},borderSize:function(xe,Pe){return xe==null&&(xe=m.defaults.borderSize),re+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,Pe){return xe==null&&(xe=m.defaults.color),xe=s.updateColor(xe),ne++,xe},borderColor:function(xe,Pe){return xe==null&&(xe=m.defaults.borderColor),xe=s.updateColor(xe),ne++,xe},bounds:function(xe,Pe,Ue){return"range"in Ue||(Ue.range=null),xe},positions:function(xe,Pe,Ue){var Be=Pe.snap,Ne=Pe.positionBuffer,Xe=Pe.positionFractBuffer,ut=Pe.selectionBuffer;if(xe.x||xe.y)return xe.x.length?Pe.xAttr={buffer:F.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:Pe.xAttr={buffer:xe.x.buffer,offset:xe.x.offset*4||0,stride:(xe.x.stride||1)*4,count:xe.x.count},xe.y.length?Pe.yAttr={buffer:F.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:Pe.yAttr={buffer:xe.y.buffer,offset:xe.y.offset*4||0,stride:(xe.y.stride||1)*4,count:xe.y.count},Pe.count=Math.max(Pe.xAttr.count,Pe.yAttr.count),xe;xe=o(xe,"float64");var dt=Pe.count=Math.floor(xe.length/2),at=Pe.bounds=dt?u(xe,2):null;if(!Ue.range&&!Pe.range&&(delete Pe.range,Ue.range=at),!Ue.marker&&!Pe.marker&&(delete Pe.marker,Ue.marker=null),Be&&(Be===!0||dt>Be)?Pe.tree=l(xe,{bounds:at}):Be&&Be.length&&(Pe.tree=Be),Pe.tree){var We={primitive:"points",usage:"static",data:Pe.tree,type:"uint32"};Pe.elements?Pe.elements(We):Pe.elements=F.elements(We)}var rt=w.float32(xe);Ne({data:rt,usage:"dynamic"});var st=w.fract32(xe,rt);return Xe({data:st,usage:"dynamic"}),ut({data:new Uint8Array(dt),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,Pe,Ue){var Be=Pe.activation;if(Be.forEach(function(st){return st&&st.destroy&&st.destroy()}),Be.length=0,!xe||typeof xe[0]=="number"){var Ne=s.addMarker(xe);Be[Ne]=!0}else{for(var Xe=[],ut=0,dt=Math.min(xe.length,Pe.count);ut<dt;ut++){var at=s.addMarker(xe[ut]);Xe[at]||(Xe[at]=new Uint8Array(Pe.count)),Xe[at][ut]=1}for(var We=0;We<Xe.length;We++)if(Xe[We]){var rt={data:Xe[We],type:"uint8",usage:"static"};Be[We]?Be[We](rt):Be[We]=F.buffer(rt),Be[We].data=Xe[We]}}return xe},range:function(xe,Pe,Ue){var Be=Pe.bounds;if(Be)return xe||(xe=Be),Pe.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],Pe.translate=[-xe[0],-xe[1]],Pe.scaleFract=w.fract(Pe.scale),Pe.translateFract=w.fract(Pe.translate),xe},viewport:function(xe){var Pe=A(xe||[B.drawingBufferWidth,B.drawingBufferHeight]);return Pe}}]),re){var ue=$,J=ue.count,X=ue.size,oe=ue.borderSize,Y=ue.sizeBuffer,q=new Uint8Array(J*2);if(X.length||oe.length)for(var se=0;se<J;se++)q[se*2]=Math.round((X[se]==null?X:X[se])*255/O),q[se*2+1]=Math.round((oe[se]==null?oe:oe[se])*255/O);Y({data:q,usage:"dynamic"})}if(ne){var Q=$,K=Q.count,le=Q.color,ie=Q.borderColor,ce=Q.colorBuffer,ye;if(s.tooManyColors){if(le.length||ie.length){ye=new Uint8Array(K*8);for(var Ce=0;Ce<K;Ce++){var Ae=le[Ce];ye[Ce*8]=z[Ae*4],ye[Ce*8+1]=z[Ae*4+1],ye[Ce*8+2]=z[Ae*4+2],ye[Ce*8+3]=z[Ae*4+3];var ke=ie[Ce];ye[Ce*8+4]=z[ke*4],ye[Ce*8+5]=z[ke*4+1],ye[Ce*8+6]=z[ke*4+2],ye[Ce*8+7]=z[ke*4+3]}}}else if(le.length||ie.length){ye=new Uint8Array(K*4+2);for(var we=0;we<K;we++)le[we]!=null&&(ye[we*4]=le[we]%N,ye[we*4+1]=Math.floor(le[we]/N)),ie[we]!=null&&(ye[we*4+2]=ie[we]%N,ye[we*4+3]=Math.floor(ie[we]/N))}ce({data:ye||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return $})}},m.prototype.addMarker=function(s){var L=this.markerTextures,T=this.regl,k=this.markerCache,_=s==null?0:k.indexOf(s);if(_>=0)return _;var B;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)B=s;else{B=new Uint8Array(s.length);for(var F=0,O=s.length;F<O;F++)B[F]=s[F]*255}var N=Math.floor(Math.sqrt(B.length));return _=L.length,k.push(s),L.push(T.texture({channels:1,data:B,radius:N,mag:"linear",min:"linear"})),_},m.prototype.updateColor=function(s){var L=this.paletteIds,T=this.palette,k=this.maxColors;Array.isArray(s)||(s=[s]);var _=[];if(typeof s[0]=="number"){var B=[];if(Array.isArray(s))for(var F=0;F<s.length;F+=4)B.push(s.slice(F,F+4));else for(var O=0;O<s.length;O+=4)B.push(s.subarray(O,O+4));s=B}for(var N=0;N<s.length;N++){var z=s[N];z=n(z,"uint8");var V=f(z,!1);if(L[V]==null){var W=T.length;L[V]=Math.floor(W/4),T[W]=z[0],T[W+1]=z[1],T[W+2]=z[2],T[W+3]=z[3]}_[N]=L[V]}return!this.tooManyColors&&T.length>k*4&&(this.tooManyColors=!0),this.updatePalette(T),_.length===1?_[0]:_},m.prototype.updatePalette=function(s){if(!this.tooManyColors){var L=this.maxColors,T=this.paletteTexture,k=Math.ceil(s.length*.25/L);if(k>1){s=s.slice();for(var _=s.length*.25%L;_<k*L;_++)s.push(0,0,0,0)}T.height<k&&T.resize(L,k),T.subimage({width:Math.min(s.length*.25,L),height:k,data:s},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(L){return L&&L.destroy&&L.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var E=e(50896),b=function(L,T){var k=new C(L,T),_=k.render.bind(k);return E(_,{render:_,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),_};j.exports=b},55795:function(j,H,e){var g=e(38540),P=e(55616),a=e(76752),x=e(3951),M=e(67752),v=e(51160),p=e(47520);j.exports=r;function r(u,f){if(!(this instanceof r))return new r(u);this.traces=[],this.passes={},this.regl=u,this.scatter=g(u),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var u=this,f,l=[],y=arguments.length;y--;)l[y]=arguments[y];return l.length&&(f=this).update.apply(f,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=x(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,x(function(){u.dirty=!1})),this)},r.prototype.update=function(){for(var u,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(f.length){for(var y=0;y<f.length;y++)this.updateItem(y,f[y]);this.traces=this.traces.filter(Boolean);for(var h=[],S=0,c=0;c<this.traces.length;c++){for(var o=this.traces[c],d=this.traces[c].passes,w=0;w<d.length;w++)h.push(this.passes[d[w]]);o.passOffset=S,S+=o.passes.length}return(u=this.scatter).update.apply(u,h),this}},r.prototype.updateItem=function(u,f){var l=this,y=l.regl;if(f===null)return this.traces[u]=null,this;if(!f)return this;var h=P(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),S=this.traces[u]||(this.traces[u]={id:u,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(S.color=h.color),h.size!=null&&(S.size=h.size),h.marker!=null&&(S.marker=h.marker),h.borderColor!=null&&(S.borderColor=h.borderColor),h.borderSize!=null&&(S.borderSize=h.borderSize),h.opacity!=null&&(S.opacity=h.opacity),h.viewport&&(S.viewport=v(h.viewport)),h.diagonal!=null&&(S.diagonal=h.diagonal),h.upper!=null&&(S.upper=h.upper),h.lower!=null&&(S.lower=h.lower),h.data){S.buffer(p(h.data)),S.columns=h.data.length,S.count=h.data[0].length,S.bounds=[];for(var c=0;c<S.columns;c++)S.bounds[c]=a(h.data[c],1)}var o;h.range&&(S.range=h.range,o=S.range&&typeof S.range[0]!="number"),h.domain&&(S.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===S.columns&&typeof h.padding[h.padding.length-1]=="number"?(S.padding=h.padding.map(n),d=!0):S.padding=n(h.padding));var w=S.columns,A=S.count,C=S.viewport.width,m=S.viewport.height,E=S.viewport.x,b=S.viewport.y,s=C/w,L=m/w;S.passes=[];for(var T=0;T<w;T++)for(var k=0;k<w;k++)if(!(!S.diagonal&&k===T)&&!(!S.upper&&T>k)&&!(!S.lower&&T<k)){var _=t(S.id,T,k),B=this.passes[_]||(this.passes[_]={});if(h.data&&(h.transpose?B.positions={x:{buffer:S.buffer,offset:k,count:A,stride:w},y:{buffer:S.buffer,offset:T,count:A,stride:w}}:B.positions={x:{buffer:S.buffer,offset:k*A,count:A},y:{buffer:S.buffer,offset:T*A,count:A}},B.bounds=i(S.bounds,T,k)),h.domain||h.viewport||h.data){var F=d?i(S.padding,T,k):S.padding;if(S.domain){var O=i(S.domain,T,k),N=O[0],z=O[1],V=O[2],W=O[3];B.viewport=[E+N*C+F[0],b+z*m+F[1],E+V*C-F[2],b+W*m-F[3]]}else B.viewport=[E+k*s+s*F[0],b+T*L+L*F[1],E+(k+1)*s-s*F[2],b+(T+1)*L-L*F[3]]}h.color&&(B.color=S.color),h.size&&(B.size=S.size),h.marker&&(B.marker=S.marker),h.borderSize&&(B.borderSize=S.borderSize),h.borderColor&&(B.borderColor=S.borderColor),h.opacity&&(B.opacity=S.opacity),h.range&&(B.range=o?i(S.range,T,k):S.range||B.bounds),S.passes.push(_)}return this},r.prototype.draw=function(){for(var u,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(!f.length)this.scatter.draw();else{for(var y=[],h=0;h<f.length;h++)if(typeof f[h]=="number"){var S=this.traces[f[h]],c=S.passes,o=S.passOffset;y.push.apply(y,M(o,o+c.length))}else if(f[h].length){var d=f[h],w=this.traces[h],A=w.passes,C=w.passOffset;A=A.map(function(m,E){y[C+E]=d})}(u=this.scatter).draw.apply(u,y)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(u){u.buffer&&u.buffer.destroy&&u.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(u,f,l){var y=u.id!=null?u.id:u,h=f,S=l,c=y<<16|(h&255)<<8|S&255;return c}function i(u,f,l){var y,h,S,c,o=u[f],d=u[l];return o.length>2?(o[0],o[2],y=o[1],h=o[3]):o.length?(y=o[0],h=o[1]):(o.x,y=o.y,o.x+o.width,h=o.y+o.height),d.length>2?(S=d[0],c=d[2],d[1],d[3]):d.length?(S=d[0],c=d[1]):(S=d.x,d.y,c=d.x+d.width,d.y+d.height),[S,y,c,h]}function n(u){if(typeof u=="number")return[u,u,u,u];if(u.length===2)return[u[0],u[1],u[0],u[1]];var f=v(u);return[f.x,f.y,f.x+f.width,f.y+f.height]}},28624:function(j){(function(H,e){j.exports=e()})(this,function(){function H(mt,Zt){this.id=ce++,this.type=mt,this.data=Zt}function e(mt){if(mt.length===0)return[];var Zt=mt.charAt(0),Qt=mt.charAt(mt.length-1);if(1<mt.length&&Zt===Qt&&(Zt==='"'||Zt==="'"))return['"'+mt.substr(1,mt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Zt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(mt))return e(mt.substr(0,Zt.index)).concat(e(Zt[1])).concat(e(mt.substr(Zt.index+Zt[0].length)));if(Zt=mt.split("."),Zt.length===1)return['"'+mt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(mt=[],Qt=0;Qt<Zt.length;++Qt)mt=mt.concat(e(Zt[Qt]));return mt}function g(mt){return"["+e(mt).join("][")+"]"}function P(mt,Zt){if(typeof mt=="function")return new H(0,mt);if(typeof mt=="number"||typeof mt=="boolean")return new H(5,mt);if(Array.isArray(mt))return new H(6,mt.map(function(Qt,yr){return P(Qt)}));if(mt instanceof H)return mt}function a(){var mt={"":0},Zt=[""];return{id:function(Qt){var yr=mt[Qt];return yr||(yr=mt[Qt]=Zt.length,Zt.push(Qt),yr)},str:function(Qt){return Zt[Qt]}}}function x(mt,Zt,Qt){function yr(){var lt=window.innerWidth,Tt=window.innerHeight;mt!==document.body&&(Tt=sr.getBoundingClientRect(),lt=Tt.right-Tt.left,Tt=Tt.bottom-Tt.top),sr.width=Qt*lt,sr.height=Qt*Tt}var sr=document.createElement("canvas");ie(sr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),mt.appendChild(sr),mt===document.body&&(sr.style.position="absolute",ie(mt.style,{margin:0,padding:0}));var bt;return mt!==document.body&&typeof ResizeObserver=="function"?(bt=new ResizeObserver(function(){setTimeout(yr)}),bt.observe(mt)):window.addEventListener("resize",yr,!1),yr(),{canvas:sr,onDestroy:function(){bt?bt.disconnect():window.removeEventListener("resize",yr),mt.removeChild(sr)}}}function M(mt,Zt){function Qt(yr){try{return mt.getContext(yr,Zt)}catch{return null}}return Qt("webgl")||Qt("experimental-webgl")||Qt("webgl-experimental")}function v(mt){return typeof mt=="string"?mt.split():mt}function p(mt){return typeof mt=="string"?document.querySelector(mt):mt}function r(mt){var Zt=mt||{},Qt,yr,sr,bt;mt={};var lt=[],Tt=[],Ct=typeof window>"u"?1:window.devicePixelRatio,It=!1,Dt={},Vt=function($t){},Bt=function(){};if(typeof Zt=="string"?Qt=document.querySelector(Zt):typeof Zt=="object"&&(typeof Zt.nodeName=="string"&&typeof Zt.appendChild=="function"&&typeof Zt.getBoundingClientRect=="function"?Qt=Zt:typeof Zt.drawArrays=="function"||typeof Zt.drawElements=="function"?(bt=Zt,sr=bt.canvas):("gl"in Zt?bt=Zt.gl:"canvas"in Zt?sr=p(Zt.canvas):"container"in Zt&&(yr=p(Zt.container)),"attributes"in Zt&&(mt=Zt.attributes),"extensions"in Zt&&(lt=v(Zt.extensions)),"optionalExtensions"in Zt&&(Tt=v(Zt.optionalExtensions)),"onDone"in Zt&&(Vt=Zt.onDone),"profile"in Zt&&(It=!!Zt.profile),"pixelRatio"in Zt&&(Ct=+Zt.pixelRatio),"cachedCode"in Zt&&(Dt=Zt.cachedCode))),Qt&&(Qt.nodeName.toLowerCase()==="canvas"?sr=Qt:yr=Qt),!bt){if(!sr){if(Qt=x(yr||document.body,Vt,Ct),!Qt)return null;sr=Qt.canvas,Bt=Qt.onDestroy}mt.premultipliedAlpha===void 0&&(mt.premultipliedAlpha=!0),bt=M(sr,mt)}return bt?{gl:bt,canvas:sr,container:yr,extensions:lt,optionalExtensions:Tt,pixelRatio:Ct,profile:It,cachedCode:Dt,onDone:Vt,onDestroy:Bt}:(Bt(),Vt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(mt,Zt){function Qt(lt){lt=lt.toLowerCase();var Tt;try{Tt=yr[lt]=mt.getExtension(lt)}catch{}return!!Tt}for(var yr={},sr=0;sr<Zt.extensions.length;++sr){var bt=Zt.extensions[sr];if(!Qt(bt))return Zt.onDestroy(),Zt.onDone('"'+bt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Zt.optionalExtensions.forEach(Qt),{extensions:yr,restore:function(){Object.keys(yr).forEach(function(lt){if(yr[lt]&&!Qt(lt))throw Error("(regl): error restoring extension "+lt)})}}}function i(mt,Zt){for(var Qt=Array(mt),yr=0;yr<mt;++yr)Qt[yr]=Zt(yr);return Qt}function n(mt){var Zt,Qt;return Zt=(65535<mt)<<4,mt>>>=Zt,Qt=(255<mt)<<3,mt>>>=Qt,Zt|=Qt,Qt=(15<mt)<<2,mt>>>=Qt,Zt|=Qt,Qt=(3<mt)<<1,Zt|Qt|mt>>>Qt>>1}function u(){function mt(yr){e:{for(var sr=16;268435456>=sr;sr*=16)if(yr<=sr){yr=sr;break e}yr=0}return sr=Qt[n(yr)>>2],0<sr.length?sr.pop():new ArrayBuffer(yr)}function Zt(yr){Qt[n(yr.byteLength)>>2].push(yr)}var Qt=i(8,function(){return[]});return{alloc:mt,free:Zt,allocType:function(yr,sr){var bt=null;switch(yr){case 5120:bt=new Int8Array(mt(sr),0,sr);break;case 5121:bt=new Uint8Array(mt(sr),0,sr);break;case 5122:bt=new Int16Array(mt(2*sr),0,sr);break;case 5123:bt=new Uint16Array(mt(2*sr),0,sr);break;case 5124:bt=new Int32Array(mt(4*sr),0,sr);break;case 5125:bt=new Uint32Array(mt(4*sr),0,sr);break;case 5126:bt=new Float32Array(mt(4*sr),0,sr);break;default:return null}return bt.length!==sr?bt.subarray(0,sr):bt},freeType:function(yr){Zt(yr.buffer)}}}function f(mt){return!!mt&&typeof mt=="object"&&Array.isArray(mt.shape)&&Array.isArray(mt.stride)&&typeof mt.offset=="number"&&mt.shape.length===mt.stride.length&&(Array.isArray(mt.data)||Ee(mt.data))}function l(mt,Zt,Qt,yr,sr,bt){for(var lt=0;lt<Zt;++lt)for(var Tt=mt[lt],Ct=0;Ct<Qt;++Ct)for(var It=Tt[Ct],Dt=0;Dt<yr;++Dt)sr[bt++]=It[Dt]}function y(mt,Zt,Qt,yr,sr){for(var bt=1,lt=Qt+1;lt<Zt.length;++lt)bt*=Zt[lt];var Tt=Zt[Qt];if(Zt.length-Qt===4){var Ct=Zt[Qt+1],It=Zt[Qt+2];for(Zt=Zt[Qt+3],lt=0;lt<Tt;++lt)l(mt[lt],Ct,It,Zt,yr,sr),sr+=bt}else for(lt=0;lt<Tt;++lt)y(mt[lt],Zt,Qt+1,yr,sr),sr+=bt}function h(mt){return Ue[Object.prototype.toString.call(mt)]|0}function S(mt,Zt){for(var Qt=0;Qt<Zt.length;++Qt)mt[Qt]=Zt[Qt]}function c(mt,Zt,Qt,yr,sr,bt,lt){for(var Tt=0,Ct=0;Ct<Qt;++Ct)for(var It=0;It<yr;++It)mt[Tt++]=Zt[sr*Ct+bt*It+lt]}function o(mt,Zt,Qt,yr){function sr(Vt){this.id=Ct++,this.buffer=mt.createBuffer(),this.type=Vt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Qt.profile&&(this.stats={size:0})}function bt(Vt,Bt,$t){Vt.byteLength=Bt.byteLength,mt.bufferData(Vt.type,Bt,$t)}function lt(Vt,Bt,$t,fr,cr,dr){if(Vt.usage=$t,Array.isArray(Bt)){if(Vt.dtype=fr||5126,0<Bt.length)if(Array.isArray(Bt[0])){cr=ut(Bt);for(var Ye=fr=1;Ye<cr.length;++Ye)fr*=cr[Ye];Vt.dimension=fr,Bt=Xe(Bt,cr,Vt.dtype),bt(Vt,Bt,$t),dr?Vt.persistentData=Bt:ke.freeType(Bt)}else typeof Bt[0]=="number"?(Vt.dimension=cr,cr=ke.allocType(Vt.dtype,Bt.length),S(cr,Bt),bt(Vt,cr,$t),dr?Vt.persistentData=cr:ke.freeType(cr)):Ee(Bt[0])&&(Vt.dimension=Bt[0].length,Vt.dtype=fr||h(Bt[0])||5126,Bt=Xe(Bt,[Bt.length,Bt[0].length],Vt.dtype),bt(Vt,Bt,$t),dr?Vt.persistentData=Bt:ke.freeType(Bt))}else if(Ee(Bt))Vt.dtype=fr||h(Bt),Vt.dimension=cr,bt(Vt,Bt,$t),dr&&(Vt.persistentData=new Uint8Array(new Uint8Array(Bt.buffer)));else if(f(Bt)){cr=Bt.shape;var je=Bt.stride,Ye=Bt.offset,zt=0,Ft=0,Jt=0,tr=0;cr.length===1?(zt=cr[0],Ft=1,Jt=je[0],tr=0):cr.length===2&&(zt=cr[0],Ft=cr[1],Jt=je[0],tr=je[1]),Vt.dtype=fr||h(Bt.data)||5126,Vt.dimension=Ft,cr=ke.allocType(Vt.dtype,zt*Ft),c(cr,Bt.data,zt,Ft,Jt,tr,Ye),bt(Vt,cr,$t),dr?Vt.persistentData=cr:ke.freeType(cr)}else Bt instanceof ArrayBuffer&&(Vt.dtype=5121,Vt.dimension=cr,bt(Vt,Bt,$t),dr&&(Vt.persistentData=new Uint8Array(new Uint8Array(Bt))))}function Tt(Vt){Zt.bufferCount--,yr(Vt),mt.deleteBuffer(Vt.buffer),Vt.buffer=null,delete It[Vt.id]}var Ct=0,It={};sr.prototype.bind=function(){mt.bindBuffer(this.type,this.buffer)},sr.prototype.destroy=function(){Tt(this)};var Dt=[];return Qt.profile&&(Zt.getTotalBufferSize=function(){var Vt=0;return Object.keys(It).forEach(function(Bt){Vt+=It[Bt].stats.size}),Vt}),{create:function(Vt,Bt,$t,fr){function cr(Ye){var je=35044,zt=null,Ft=0,Jt=0,tr=1;return Array.isArray(Ye)||Ee(Ye)||f(Ye)||Ye instanceof ArrayBuffer?zt=Ye:typeof Ye=="number"?Ft=Ye|0:Ye&&("data"in Ye&&(zt=Ye.data),"usage"in Ye&&(je=Ne[Ye.usage]),"type"in Ye&&(Jt=Be[Ye.type]),"dimension"in Ye&&(tr=Ye.dimension|0),"length"in Ye&&(Ft=Ye.length|0)),dr.bind(),zt?lt(dr,zt,je,Jt,tr,fr):(Ft&&mt.bufferData(dr.type,Ft,je),dr.dtype=Jt||5121,dr.usage=je,dr.dimension=tr,dr.byteLength=Ft),Qt.profile&&(dr.stats.size=dr.byteLength*dt[dr.dtype]),cr}Zt.bufferCount++;var dr=new sr(Bt);return It[dr.id]=dr,$t||cr(Vt),cr._reglType="buffer",cr._buffer=dr,cr.subdata=function(Ye,je){var zt=(je||0)|0,Ft;if(dr.bind(),Ee(Ye)||Ye instanceof ArrayBuffer)mt.bufferSubData(dr.type,zt,Ye);else if(Array.isArray(Ye)){if(0<Ye.length)if(typeof Ye[0]=="number"){var Jt=ke.allocType(dr.dtype,Ye.length);S(Jt,Ye),mt.bufferSubData(dr.type,zt,Jt),ke.freeType(Jt)}else(Array.isArray(Ye[0])||Ee(Ye[0]))&&(Ft=ut(Ye),Jt=Xe(Ye,Ft,dr.dtype),mt.bufferSubData(dr.type,zt,Jt),ke.freeType(Jt))}else if(f(Ye)){Ft=Ye.shape;var tr=Ye.stride,ur=Jt=0,nr=0,Nt=0;Ft.length===1?(Jt=Ft[0],ur=1,nr=tr[0],Nt=0):Ft.length===2&&(Jt=Ft[0],ur=Ft[1],nr=tr[0],Nt=tr[1]),Ft=Array.isArray(Ye.data)?dr.dtype:h(Ye.data),Ft=ke.allocType(Ft,Jt*ur),c(Ft,Ye.data,Jt,ur,nr,Nt,Ye.offset),mt.bufferSubData(dr.type,zt,Ft),ke.freeType(Ft)}return cr},Qt.profile&&(cr.stats=dr.stats),cr.destroy=function(){Tt(dr)},cr},createStream:function(Vt,Bt){var $t=Dt.pop();return $t||($t=new sr(Vt)),$t.bind(),lt($t,Bt,35040,0,1,!1),$t},destroyStream:function(Vt){Dt.push(Vt)},clear:function(){xe(It).forEach(Tt),Dt.forEach(Tt)},getBuffer:function(Vt){return Vt&&Vt._buffer instanceof sr?Vt._buffer:null},restore:function(){xe(It).forEach(function(Vt){Vt.buffer=mt.createBuffer(),mt.bindBuffer(Vt.type,Vt.buffer),mt.bufferData(Vt.type,Vt.persistentData||Vt.byteLength,Vt.usage)})},_initBuffer:lt}}function d(mt,Zt,Qt,yr){function sr(Vt){this.id=Ct++,Tt[this.id]=this,this.buffer=Vt,this.primType=4,this.type=this.vertCount=0}function bt(Vt,Bt,$t,fr,cr,dr,Ye){Vt.buffer.bind();var je;if(Bt?((je=Ye)||Ee(Bt)&&(!f(Bt)||Ee(Bt.data))||(je=Zt.oes_element_index_uint?5125:5123),Qt._initBuffer(Vt.buffer,Bt,$t,je,3)):(mt.bufferData(34963,dr,$t),Vt.buffer.dtype=je||5121,Vt.buffer.usage=$t,Vt.buffer.dimension=3,Vt.buffer.byteLength=dr),je=Ye,!Ye){switch(Vt.buffer.dtype){case 5121:case 5120:je=5121;break;case 5123:case 5122:je=5123;break;case 5125:case 5124:je=5125}Vt.buffer.dtype=je}Vt.type=je,Bt=cr,0>Bt&&(Bt=Vt.buffer.byteLength,je===5123?Bt>>=1:je===5125&&(Bt>>=2)),Vt.vertCount=Bt,Bt=fr,0>fr&&(Bt=4,fr=Vt.buffer.dimension,fr===1&&(Bt=0),fr===2&&(Bt=1),fr===3&&(Bt=4)),Vt.primType=Bt}function lt(Vt){yr.elementsCount--,delete Tt[Vt.id],Vt.buffer.destroy(),Vt.buffer=null}var Tt={},Ct=0,It={uint8:5121,uint16:5123};Zt.oes_element_index_uint&&(It.uint32=5125),sr.prototype.bind=function(){this.buffer.bind()};var Dt=[];return{create:function(Vt,Bt){function $t(dr){if(dr)if(typeof dr=="number")fr(dr),cr.primType=4,cr.vertCount=dr|0,cr.type=5121;else{var Ye=null,je=35044,zt=-1,Ft=-1,Jt=0,tr=0;Array.isArray(dr)||Ee(dr)||f(dr)?Ye=dr:("data"in dr&&(Ye=dr.data),"usage"in dr&&(je=Ne[dr.usage]),"primitive"in dr&&(zt=at[dr.primitive]),"count"in dr&&(Ft=dr.count|0),"type"in dr&&(tr=It[dr.type]),"length"in dr?Jt=dr.length|0:(Jt=Ft,tr===5123||tr===5122?Jt*=2:(tr===5125||tr===5124)&&(Jt*=4))),bt(cr,Ye,je,zt,Ft,Jt,tr)}else fr(),cr.primType=4,cr.vertCount=0,cr.type=5121;return $t}var fr=Qt.create(null,34963,!0),cr=new sr(fr._buffer);return yr.elementsCount++,$t(Vt),$t._reglType="elements",$t._elements=cr,$t.subdata=function(dr,Ye){return fr.subdata(dr,Ye),$t},$t.destroy=function(){lt(cr)},$t},createStream:function(Vt){var Bt=Dt.pop();return Bt||(Bt=new sr(Qt.create(null,34963,!0,!1)._buffer)),bt(Bt,Vt,35040,-1,-1,0,0),Bt},destroyStream:function(Vt){Dt.push(Vt)},getElements:function(Vt){return typeof Vt=="function"&&Vt._elements instanceof sr?Vt._elements:null},clear:function(){xe(Tt).forEach(lt)}}}function w(mt){for(var Zt=ke.allocType(5123,mt.length),Qt=0;Qt<mt.length;++Qt)if(isNaN(mt[Qt]))Zt[Qt]=65535;else if(mt[Qt]===1/0)Zt[Qt]=31744;else if(mt[Qt]===-1/0)Zt[Qt]=64512;else{We[0]=mt[Qt];var bt=rt[0],yr=bt>>>31<<15,sr=(bt<<1>>>24)-127,bt=bt>>13&1023;Zt[Qt]=-24>sr?yr:-14>sr?yr+(bt+1024>>-14-sr):15<sr?yr+31744:yr+(sr+15<<10)+bt}return Zt}function A(mt){return Array.isArray(mt)||Ee(mt)}function C(mt){return"[object "+mt+"]"}function m(mt){return Array.isArray(mt)&&(mt.length===0||typeof mt[0]=="number")}function E(mt){return!!(Array.isArray(mt)&&mt.length!==0&&A(mt[0]))}function b(mt){return Object.prototype.toString.call(mt)}function s(mt){if(!mt)return!1;var Zt=b(mt);return 0<=Ie.indexOf(Zt)?!0:m(mt)||E(mt)||f(mt)}function L(mt,Zt){mt.type===36193?(mt.data=w(Zt),ke.freeType(Zt)):mt.data=Zt}function T(mt,Zt,Qt,yr,sr,bt){if(mt=typeof me[mt]<"u"?me[mt]:vt[mt]*be[Zt],bt&&(mt*=6),sr){for(yr=0;1<=Qt;)yr+=mt*Qt*Qt,Qt/=2;return yr}return mt*Qt*yr}function k(mt,Zt,Qt,yr,sr,bt,lt){function Tt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ct(Tr,an){Tr.internalformat=an.internalformat,Tr.format=an.format,Tr.type=an.type,Tr.compressed=an.compressed,Tr.premultiplyAlpha=an.premultiplyAlpha,Tr.flipY=an.flipY,Tr.unpackAlignment=an.unpackAlignment,Tr.colorSpace=an.colorSpace,Tr.width=an.width,Tr.height=an.height,Tr.channels=an.channels}function It(Tr,an){if(typeof an=="object"&&an){"premultiplyAlpha"in an&&(Tr.premultiplyAlpha=an.premultiplyAlpha),"flipY"in an&&(Tr.flipY=an.flipY),"alignment"in an&&(Tr.unpackAlignment=an.alignment),"colorSpace"in an&&(Tr.colorSpace=hn[an.colorSpace]),"type"in an&&(Tr.type=nn[an.type]);var qr=Tr.width,pn=Tr.height,jn=Tr.channels,An=!1;"shape"in an?(qr=an.shape[0],pn=an.shape[1],an.shape.length===3&&(jn=an.shape[2],An=!0)):("radius"in an&&(qr=pn=an.radius),"width"in an&&(qr=an.width),"height"in an&&(pn=an.height),"channels"in an&&(jn=an.channels,An=!0)),Tr.width=qr|0,Tr.height=pn|0,Tr.channels=jn|0,qr=!1,"format"in an&&(qr=an.format,pn=Tr.internalformat=Pn[qr],Tr.format=Ln[pn],qr in nn&&!("type"in an)&&(Tr.type=nn[qr]),qr in Cn&&(Tr.compressed=!0),qr=!0),!An&&qr?Tr.channels=vt[Tr.format]:An&&!qr&&Tr.channels!==ht[Tr.format]&&(Tr.format=Tr.internalformat=ht[Tr.channels])}}function Dt(Tr){mt.pixelStorei(37440,Tr.flipY),mt.pixelStorei(37441,Tr.premultiplyAlpha),mt.pixelStorei(37443,Tr.colorSpace),mt.pixelStorei(3317,Tr.unpackAlignment)}function Vt(){Tt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Bt(Tr,an){var qr=null;if(s(an)?qr=an:an&&(It(Tr,an),"x"in an&&(Tr.xOffset=an.x|0),"y"in an&&(Tr.yOffset=an.y|0),s(an.data)&&(qr=an.data)),an.copy){var pn=sr.viewportWidth,jn=sr.viewportHeight;Tr.width=Tr.width||pn-Tr.xOffset,Tr.height=Tr.height||jn-Tr.yOffset,Tr.needsCopy=!0}else if(!qr)Tr.width=Tr.width||1,Tr.height=Tr.height||1,Tr.channels=Tr.channels||4;else if(Ee(qr))Tr.channels=Tr.channels||4,Tr.data=qr,"type"in an||Tr.type!==5121||(Tr.type=Ue[Object.prototype.toString.call(qr)]|0);else if(m(qr)){switch(Tr.channels=Tr.channels||4,pn=qr,jn=pn.length,Tr.type){case 5121:case 5123:case 5125:case 5126:jn=ke.allocType(Tr.type,jn),jn.set(pn),Tr.data=jn;break;case 36193:Tr.data=w(pn)}Tr.alignment=1,Tr.needsFree=!0}else if(f(qr)){pn=qr.data,Array.isArray(pn)||Tr.type!==5121||(Tr.type=Ue[Object.prototype.toString.call(pn)]|0);var jn=qr.shape,An=qr.stride,Sn,Un,$n,ya;jn.length===3?($n=jn[2],ya=An[2]):ya=$n=1,Sn=jn[0],Un=jn[1],jn=An[0],An=An[1],Tr.alignment=1,Tr.width=Sn,Tr.height=Un,Tr.channels=$n,Tr.format=Tr.internalformat=ht[$n],Tr.needsFree=!0,Sn=ya,qr=qr.offset,$n=Tr.width,ya=Tr.height,Un=Tr.channels;for(var _a=ke.allocType(Tr.type===36193?5126:Tr.type,$n*ya*Un),Er=0,zr=0;zr<ya;++zr)for(var Sr=0;Sr<$n;++Sr)for(var Nr=0;Nr<Un;++Nr)_a[Er++]=pn[jn*Sr+An*zr+Sn*Nr+qr];L(Tr,_a)}else if(b(qr)===At||b(qr)===et||b(qr)===_e)b(qr)===At||b(qr)===et?Tr.element=qr:Tr.element=qr.canvas,Tr.width=Tr.element.width,Tr.height=Tr.element.height,Tr.channels=4;else if(b(qr)===Ve)Tr.element=qr,Tr.width=qr.width,Tr.height=qr.height,Tr.channels=4;else if(b(qr)===Ze)Tr.element=qr,Tr.width=qr.naturalWidth,Tr.height=qr.naturalHeight,Tr.channels=4;else if(b(qr)===He)Tr.element=qr,Tr.width=qr.videoWidth,Tr.height=qr.videoHeight,Tr.channels=4;else if(E(qr)){for(pn=Tr.width||qr[0].length,jn=Tr.height||qr.length,An=Tr.channels,An=A(qr[0][0])?An||qr[0][0].length:An||1,Sn=Pe.shape(qr),$n=1,ya=0;ya<Sn.length;++ya)$n*=Sn[ya];$n=ke.allocType(Tr.type===36193?5126:Tr.type,$n),Pe.flatten(qr,Sn,"",$n),L(Tr,$n),Tr.alignment=1,Tr.width=pn,Tr.height=jn,Tr.channels=An,Tr.format=Tr.internalformat=ht[An],Tr.needsFree=!0}}function $t(Tr,an,qr,pn,jn){var An=Tr.element,Sn=Tr.data,Un=Tr.internalformat,$n=Tr.format,ya=Tr.type,_a=Tr.width,Er=Tr.height;Dt(Tr),An?mt.texSubImage2D(an,jn,qr,pn,$n,ya,An):Tr.compressed?mt.compressedTexSubImage2D(an,jn,qr,pn,Un,_a,Er,Sn):Tr.needsCopy?(yr(),mt.copyTexSubImage2D(an,jn,qr,pn,Tr.xOffset,Tr.yOffset,_a,Er)):mt.texSubImage2D(an,jn,qr,pn,_a,Er,$n,ya,Sn)}function fr(){return zn.pop()||new Vt}function cr(Tr){Tr.needsFree&&ke.freeType(Tr.data),Vt.call(Tr),zn.push(Tr)}function dr(){Tt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ye(Tr,an,qr){var pn=Tr.images[0]=fr();Tr.mipmask=1,pn.width=Tr.width=an,pn.height=Tr.height=qr,pn.channels=Tr.channels=4}function je(Tr,an){var qr=null;if(s(an))qr=Tr.images[0]=fr(),Ct(qr,Tr),Bt(qr,an),Tr.mipmask=1;else if(It(Tr,an),Array.isArray(an.mipmap))for(var pn=an.mipmap,jn=0;jn<pn.length;++jn)qr=Tr.images[jn]=fr(),Ct(qr,Tr),qr.width>>=jn,qr.height>>=jn,Bt(qr,pn[jn]),Tr.mipmask|=1<<jn;else qr=Tr.images[0]=fr(),Ct(qr,Tr),Bt(qr,an),Tr.mipmask=1;Ct(Tr,Tr.images[0])}function zt(Tr,an){for(var qr=Tr.images,pn=0;pn<qr.length&&qr[pn];++pn){var jn=qr[pn],An=an,Sn=pn,Un=jn.element,$n=jn.data,ya=jn.internalformat,_a=jn.format,Er=jn.type,zr=jn.width,Sr=jn.height;Dt(jn),Un?mt.texImage2D(An,Sn,_a,_a,Er,Un):jn.compressed?mt.compressedTexImage2D(An,Sn,ya,zr,Sr,0,$n):jn.needsCopy?(yr(),mt.copyTexImage2D(An,Sn,_a,jn.xOffset,jn.yOffset,zr,Sr,0)):mt.texImage2D(An,Sn,_a,zr,Sr,0,_a,Er,$n||null)}}function Ft(){var Tr=aa.pop()||new dr;Tt.call(Tr);for(var an=Tr.mipmask=0;16>an;++an)Tr.images[an]=null;return Tr}function Jt(Tr){for(var an=Tr.images,qr=0;qr<an.length;++qr)an[qr]&&cr(an[qr]),an[qr]=null;aa.push(Tr)}function tr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ur(Tr,an){"min"in an&&(Tr.minFilter=_r[an.min],0<=st.indexOf(Tr.minFilter)&&!("faces"in an)&&(Tr.genMipmaps=!0)),"mag"in an&&(Tr.magFilter=Dr[an.mag]);var qr=Tr.wrapS,pn=Tr.wrapT;if("wrap"in an){var jn=an.wrap;typeof jn=="string"?qr=pn=Gr[jn]:Array.isArray(jn)&&(qr=Gr[jn[0]],pn=Gr[jn[1]])}else"wrapS"in an&&(qr=Gr[an.wrapS]),"wrapT"in an&&(pn=Gr[an.wrapT]);if(Tr.wrapS=qr,Tr.wrapT=pn,"anisotropic"in an&&(Tr.anisotropic=an.anisotropic),"mipmap"in an){switch(qr=!1,typeof an.mipmap){case"string":Tr.mipmapHint=vr[an.mipmap],qr=Tr.genMipmaps=!0;break;case"boolean":qr=Tr.genMipmaps=an.mipmap;break;case"object":Tr.genMipmaps=!1,qr=!0}!qr||"min"in an||(Tr.minFilter=9984)}}function nr(Tr,an){mt.texParameteri(an,10241,Tr.minFilter),mt.texParameteri(an,10240,Tr.magFilter),mt.texParameteri(an,10242,Tr.wrapS),mt.texParameteri(an,10243,Tr.wrapT),Zt.ext_texture_filter_anisotropic&&mt.texParameteri(an,34046,Tr.anisotropic),Tr.genMipmaps&&(mt.hint(33170,Tr.mipmapHint),mt.generateMipmap(an))}function Nt(Tr){Tt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ha++,this.refCount=1,this.target=Tr,this.texture=mt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new tr,lt.profile&&(this.stats={size:0})}function hr(Tr){mt.activeTexture(33984),mt.bindTexture(Tr.target,Tr.texture)}function gr(){var Tr=na[0];Tr?mt.bindTexture(Tr.target,Tr.texture):mt.bindTexture(3553,null)}function br(Tr){var an=Tr.texture,qr=Tr.unit,pn=Tr.target;0<=qr&&(mt.activeTexture(33984+qr),mt.bindTexture(pn,null),na[qr]=null),mt.deleteTexture(an),Tr.texture=null,Tr.params=null,Tr.pixels=null,Tr.refCount=0,delete pa[Tr.id],bt.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Gr={repeat:10497,clamp:33071,mirror:33648},Dr={nearest:9728,linear:9729},_r=ie({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Dr),hn={none:0,browser:37444},nn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Pn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Cn={};Zt.ext_srgb&&(Pn.srgb=35904,Pn.srgba=35906),Zt.oes_texture_float&&(nn.float32=nn.float=5126),Zt.oes_texture_half_float&&(nn.float16=nn["half float"]=36193),Zt.webgl_depth_texture&&(ie(Pn,{depth:6402,"depth stencil":34041}),ie(nn,{uint16:5123,uint32:5125,"depth stencil":34042})),Zt.webgl_compressed_texture_s3tc&&ie(Cn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Zt.webgl_compressed_texture_atc&&ie(Cn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Zt.webgl_compressed_texture_pvrtc&&ie(Cn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Zt.webgl_compressed_texture_etc1&&(Cn["rgb etc1"]=36196);var Ar=Array.prototype.slice.call(mt.getParameter(34467));Object.keys(Cn).forEach(function(Tr){var an=Cn[Tr];0<=Ar.indexOf(an)&&(Pn[Tr]=an)});var Pr=Object.keys(Pn);Qt.textureFormats=Pr;var Wr=[];Object.keys(Pn).forEach(function(Tr){Wr[Pn[Tr]]=Tr});var Vr=[];Object.keys(nn).forEach(function(Tr){Vr[nn[Tr]]=Tr});var on=[];Object.keys(Dr).forEach(function(Tr){on[Dr[Tr]]=Tr});var yn=[];Object.keys(_r).forEach(function(Tr){yn[_r[Tr]]=Tr});var mn=[];Object.keys(Gr).forEach(function(Tr){mn[Gr[Tr]]=Tr});var Ln=Pr.reduce(function(Tr,an){var qr=Pn[an];return qr===6409||qr===6406||qr===6409||qr===6410||qr===6402||qr===34041||Zt.ext_srgb&&(qr===35904||qr===35906)?Tr[qr]=qr:qr===32855||0<=an.indexOf("rgba")?Tr[qr]=6408:Tr[qr]=6407,Tr},{}),zn=[],aa=[],ha=0,pa={},ua=Qt.maxTextureUnits,na=Array(ua).map(function(){return null});return ie(Nt.prototype,{bind:function(){this.bindCount+=1;var Tr=this.unit;if(0>Tr){for(var an=0;an<ua;++an){var qr=na[an];if(qr){if(0<qr.bindCount)continue;qr.unit=-1}na[an]=this,Tr=an;break}lt.profile&&bt.maxTextureUnits<Tr+1&&(bt.maxTextureUnits=Tr+1),this.unit=Tr,mt.activeTexture(33984+Tr),mt.bindTexture(this.target,this.texture)}return Tr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&br(this)}}),lt.profile&&(bt.getTotalTextureSize=function(){var Tr=0;return Object.keys(pa).forEach(function(an){Tr+=pa[an].stats.size}),Tr}),{create2D:function(Tr,an){function qr(jn,An){var Sn=pn.texInfo;tr.call(Sn);var Un=Ft();return typeof jn=="number"?typeof An=="number"?Ye(Un,jn|0,An|0):Ye(Un,jn|0,jn|0):jn?(ur(Sn,jn),je(Un,jn)):Ye(Un,1,1),Sn.genMipmaps&&(Un.mipmask=(Un.width<<1)-1),pn.mipmask=Un.mipmask,Ct(pn,Un),pn.internalformat=Un.internalformat,qr.width=Un.width,qr.height=Un.height,hr(pn),zt(Un,3553),nr(Sn,3553),gr(),Jt(Un),lt.profile&&(pn.stats.size=T(pn.internalformat,pn.type,Un.width,Un.height,Sn.genMipmaps,!1)),qr.format=Wr[pn.internalformat],qr.type=Vr[pn.type],qr.mag=on[Sn.magFilter],qr.min=yn[Sn.minFilter],qr.wrapS=mn[Sn.wrapS],qr.wrapT=mn[Sn.wrapT],qr}var pn=new Nt(3553);return pa[pn.id]=pn,bt.textureCount++,qr(Tr,an),qr.subimage=function(jn,An,Sn,Un){An|=0,Sn|=0,Un|=0;var $n=fr();return Ct($n,pn),$n.width=0,$n.height=0,Bt($n,jn),$n.width=$n.width||(pn.width>>Un)-An,$n.height=$n.height||(pn.height>>Un)-Sn,hr(pn),$t($n,3553,An,Sn,Un),gr(),cr($n),qr},qr.resize=function(jn,An){var Sn=jn|0,Un=An|0||Sn;if(Sn===pn.width&&Un===pn.height)return qr;qr.width=pn.width=Sn,qr.height=pn.height=Un,hr(pn);for(var $n=0;pn.mipmask>>$n;++$n){var ya=Sn>>$n,_a=Un>>$n;if(!ya||!_a)break;mt.texImage2D(3553,$n,pn.format,ya,_a,0,pn.format,pn.type,null)}return gr(),lt.profile&&(pn.stats.size=T(pn.internalformat,pn.type,Sn,Un,!1,!1)),qr},qr._reglType="texture2d",qr._texture=pn,lt.profile&&(qr.stats=pn.stats),qr.destroy=function(){pn.decRef()},qr},createCube:function(Tr,an,qr,pn,jn,An){function Sn(ya,_a,Er,zr,Sr,Nr){var wn,kn=Un.texInfo;for(tr.call(kn),wn=0;6>wn;++wn)$n[wn]=Ft();if(typeof ya=="number"||!ya)for(ya=ya|0||1,wn=0;6>wn;++wn)Ye($n[wn],ya,ya);else if(typeof ya=="object")if(_a)je($n[0],ya),je($n[1],_a),je($n[2],Er),je($n[3],zr),je($n[4],Sr),je($n[5],Nr);else if(ur(kn,ya),It(Un,ya),"faces"in ya)for(ya=ya.faces,wn=0;6>wn;++wn)Ct($n[wn],Un),je($n[wn],ya[wn]);else for(wn=0;6>wn;++wn)je($n[wn],ya);for(Ct(Un,$n[0]),Un.mipmask=kn.genMipmaps?($n[0].width<<1)-1:$n[0].mipmask,Un.internalformat=$n[0].internalformat,Sn.width=$n[0].width,Sn.height=$n[0].height,hr(Un),wn=0;6>wn;++wn)zt($n[wn],34069+wn);for(nr(kn,34067),gr(),lt.profile&&(Un.stats.size=T(Un.internalformat,Un.type,Sn.width,Sn.height,kn.genMipmaps,!0)),Sn.format=Wr[Un.internalformat],Sn.type=Vr[Un.type],Sn.mag=on[kn.magFilter],Sn.min=yn[kn.minFilter],Sn.wrapS=mn[kn.wrapS],Sn.wrapT=mn[kn.wrapT],wn=0;6>wn;++wn)Jt($n[wn]);return Sn}var Un=new Nt(34067);pa[Un.id]=Un,bt.cubeCount++;var $n=Array(6);return Sn(Tr,an,qr,pn,jn,An),Sn.subimage=function(ya,_a,Er,zr,Sr){Er|=0,zr|=0,Sr|=0;var Nr=fr();return Ct(Nr,Un),Nr.width=0,Nr.height=0,Bt(Nr,_a),Nr.width=Nr.width||(Un.width>>Sr)-Er,Nr.height=Nr.height||(Un.height>>Sr)-zr,hr(Un),$t(Nr,34069+ya,Er,zr,Sr),gr(),cr(Nr),Sn},Sn.resize=function(ya){if(ya|=0,ya!==Un.width){Sn.width=Un.width=ya,Sn.height=Un.height=ya,hr(Un);for(var _a=0;6>_a;++_a)for(var Er=0;Un.mipmask>>Er;++Er)mt.texImage2D(34069+_a,Er,Un.format,ya>>Er,ya>>Er,0,Un.format,Un.type,null);return gr(),lt.profile&&(Un.stats.size=T(Un.internalformat,Un.type,Sn.width,Sn.height,!1,!0)),Sn}},Sn._reglType="textureCube",Sn._texture=Un,lt.profile&&(Sn.stats=Un.stats),Sn.destroy=function(){Un.decRef()},Sn},clear:function(){for(var Tr=0;Tr<ua;++Tr)mt.activeTexture(33984+Tr),mt.bindTexture(3553,null),na[Tr]=null;xe(pa).forEach(br),bt.cubeCount=0,bt.textureCount=0},getTexture:function(Tr){return null},restore:function(){for(var Tr=0;Tr<ua;++Tr){var an=na[Tr];an&&(an.bindCount=0,an.unit=-1,na[Tr]=null)}xe(pa).forEach(function(qr){qr.texture=mt.createTexture(),mt.bindTexture(qr.target,qr.texture);for(var pn=0;32>pn;++pn)if(qr.mipmask&1<<pn)if(qr.target===3553)mt.texImage2D(3553,pn,qr.internalformat,qr.width>>pn,qr.height>>pn,0,qr.internalformat,qr.type,null);else for(var jn=0;6>jn;++jn)mt.texImage2D(34069+jn,pn,qr.internalformat,qr.width>>pn,qr.height>>pn,0,qr.internalformat,qr.type,null);nr(qr.texInfo,qr.target)})},refresh:function(){for(var Tr=0;Tr<ua;++Tr){var an=na[Tr];an&&(an.bindCount=0,an.unit=-1,na[Tr]=null),mt.activeTexture(33984+Tr),mt.bindTexture(3553,null),mt.bindTexture(34067,null)}}}}function _(mt,Zt,Qt,yr,sr,bt){function lt(Nt,hr,gr){this.target=Nt,this.texture=hr,this.renderbuffer=gr;var br=Nt=0;hr?(Nt=hr.width,br=hr.height):gr&&(Nt=gr.width,br=gr.height),this.width=Nt,this.height=br}function Tt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function Ct(Nt,hr,gr){Nt&&(Nt.texture?Nt.texture._texture.refCount+=1:Nt.renderbuffer._renderbuffer.refCount+=1)}function It(Nt,hr){hr&&(hr.texture?mt.framebufferTexture2D(36160,Nt,hr.target,hr.texture._texture.texture,0):mt.framebufferRenderbuffer(36160,Nt,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function Dt(Nt){var hr=3553,gr=null,br=null,vr=Nt;return typeof Nt=="object"&&(vr=Nt.data,"target"in Nt&&(hr=Nt.target|0)),Nt=vr._reglType,Nt==="texture2d"||Nt==="textureCube"?gr=vr:Nt==="renderbuffer"&&(br=vr,hr=36161),new lt(hr,gr,br)}function Vt(Nt,hr,gr,br,vr){return gr?(Nt=yr.create2D({width:Nt,height:hr,format:br,type:vr}),Nt._texture.refCount=0,new lt(3553,Nt,null)):(Nt=sr.create({width:Nt,height:hr,format:br}),Nt._renderbuffer.refCount=0,new lt(36161,null,Nt))}function Bt(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function $t(Nt,hr,gr){Nt&&(Nt.texture?Nt.texture.resize(hr,gr):Nt.renderbuffer&&Nt.renderbuffer.resize(hr,gr),Nt.width=hr,Nt.height=gr)}function fr(){this.id=ur++,nr[this.id]=this,this.framebuffer=mt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Nt){Nt.colorAttachments.forEach(Tt),Tt(Nt.depthAttachment),Tt(Nt.stencilAttachment),Tt(Nt.depthStencilAttachment)}function dr(Nt){mt.deleteFramebuffer(Nt.framebuffer),Nt.framebuffer=null,bt.framebufferCount--,delete nr[Nt.id]}function Ye(Nt){var hr;mt.bindFramebuffer(36160,Nt.framebuffer);var gr=Nt.colorAttachments;for(hr=0;hr<gr.length;++hr)It(36064+hr,gr[hr]);for(hr=gr.length;hr<Qt.maxColorAttachments;++hr)mt.framebufferTexture2D(36160,36064+hr,3553,null,0);mt.framebufferTexture2D(36160,33306,3553,null,0),mt.framebufferTexture2D(36160,36096,3553,null,0),mt.framebufferTexture2D(36160,36128,3553,null,0),It(36096,Nt.depthAttachment),It(36128,Nt.stencilAttachment),It(33306,Nt.depthStencilAttachment),mt.checkFramebufferStatus(36160),mt.isContextLost(),mt.bindFramebuffer(36160,zt.next?zt.next.framebuffer:null),zt.cur=zt.next,mt.getError()}function je(Nt,hr){function gr(vr,Gr){var Dr,_r=0,hn=0,nn=!0,Pn=!0;Dr=null;var Cn=!0,Ar="rgba",Pr="uint8",Wr=1,Vr=null,on=null,yn=null,mn=!1;typeof vr=="number"?(_r=vr|0,hn=Gr|0||_r):vr?("shape"in vr?(hn=vr.shape,_r=hn[0],hn=hn[1]):("radius"in vr&&(_r=hn=vr.radius),"width"in vr&&(_r=vr.width),"height"in vr&&(hn=vr.height)),("color"in vr||"colors"in vr)&&(Dr=vr.color||vr.colors),Dr||("colorCount"in vr&&(Wr=vr.colorCount|0),"colorTexture"in vr&&(Cn=!!vr.colorTexture,Ar="rgba4"),"colorType"in vr&&(Pr=vr.colorType,!Cn)&&(Pr==="half float"||Pr==="float16"?Ar="rgba16f":(Pr==="float"||Pr==="float32")&&(Ar="rgba32f")),"colorFormat"in vr&&(Ar=vr.colorFormat,0<=Ft.indexOf(Ar)?Cn=!0:0<=Jt.indexOf(Ar)&&(Cn=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(mn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?nn=vr.depth:(Vr=vr.depth,Pn=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?Pn=vr.stencil:(on=vr.stencil,nn=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?nn=Pn=vr.depthStencil:(yn=vr.depthStencil,Pn=nn=!1))):_r=hn=1;var Ln=null,zn=null,aa=null,ha=null;if(Array.isArray(Dr))Ln=Dr.map(Dt);else if(Dr)Ln=[Dt(Dr)];else for(Ln=Array(Wr),Dr=0;Dr<Wr;++Dr)Ln[Dr]=Vt(_r,hn,Cn,Ar,Pr);for(_r=_r||Ln[0].width,hn=hn||Ln[0].height,Vr?zn=Dt(Vr):nn&&!Pn&&(zn=Vt(_r,hn,mn,"depth","uint32")),on?aa=Dt(on):Pn&&!nn&&(aa=Vt(_r,hn,!1,"stencil","uint8")),yn?ha=Dt(yn):!Vr&&!on&&Pn&&nn&&(ha=Vt(_r,hn,mn,"depth stencil","depth stencil")),nn=null,Dr=0;Dr<Ln.length;++Dr)Ct(Ln[Dr]),Ln[Dr]&&Ln[Dr].texture&&(Pn=Oe[Ln[Dr].texture._texture.format]*Ke[Ln[Dr].texture._texture.type],nn===null&&(nn=Pn));return Ct(zn),Ct(aa),Ct(ha),cr(br),br.width=_r,br.height=hn,br.colorAttachments=Ln,br.depthAttachment=zn,br.stencilAttachment=aa,br.depthStencilAttachment=ha,gr.color=Ln.map(Bt),gr.depth=Bt(zn),gr.stencil=Bt(aa),gr.depthStencil=Bt(ha),gr.width=br.width,gr.height=br.height,Ye(br),gr}var br=new fr;return bt.framebufferCount++,gr(Nt,hr),ie(gr,{resize:function(vr,Gr){var Dr=Math.max(vr|0,1),_r=Math.max(Gr|0||Dr,1);if(Dr===br.width&&_r===br.height)return gr;for(var hn=br.colorAttachments,nn=0;nn<hn.length;++nn)$t(hn[nn],Dr,_r);return $t(br.depthAttachment,Dr,_r),$t(br.stencilAttachment,Dr,_r),$t(br.depthStencilAttachment,Dr,_r),br.width=gr.width=Dr,br.height=gr.height=_r,Ye(br),gr},_reglType:"framebuffer",_framebuffer:br,destroy:function(){dr(br),cr(br)},use:function(vr){zt.setFBO({framebuffer:gr},vr)}})}var zt={cur:null,next:null,dirty:!1,setFBO:null},Ft=["rgba"],Jt=["rgba4","rgb565","rgb5 a1"];Zt.ext_srgb&&Jt.push("srgba"),Zt.ext_color_buffer_half_float&&Jt.push("rgba16f","rgb16f"),Zt.webgl_color_buffer_float&&Jt.push("rgba32f");var tr=["uint8"];Zt.oes_texture_half_float&&tr.push("half float","float16"),Zt.oes_texture_float&&tr.push("float","float32");var ur=0,nr={};return ie(zt,{getFramebuffer:function(Nt){return typeof Nt=="function"&&Nt._reglType==="framebuffer"&&(Nt=Nt._framebuffer,Nt instanceof fr)?Nt:null},create:je,createCube:function(Nt){function hr(br){var vr,Gr={color:null},Dr=0,_r=null;vr="rgba";var hn="uint8",nn=1;if(typeof br=="number"?Dr=br|0:br?("shape"in br?Dr=br.shape[0]:("radius"in br&&(Dr=br.radius|0),"width"in br?Dr=br.width|0:"height"in br&&(Dr=br.height|0)),("color"in br||"colors"in br)&&(_r=br.color||br.colors),_r||("colorCount"in br&&(nn=br.colorCount|0),"colorType"in br&&(hn=br.colorType),"colorFormat"in br&&(vr=br.colorFormat)),"depth"in br&&(Gr.depth=br.depth),"stencil"in br&&(Gr.stencil=br.stencil),"depthStencil"in br&&(Gr.depthStencil=br.depthStencil)):Dr=1,_r)if(Array.isArray(_r))for(br=[],vr=0;vr<_r.length;++vr)br[vr]=_r[vr];else br=[_r];else for(br=Array(nn),_r={radius:Dr,format:vr,type:hn},vr=0;vr<nn;++vr)br[vr]=yr.createCube(_r);for(Gr.color=Array(br.length),vr=0;vr<br.length;++vr)nn=br[vr],Dr=Dr||nn.width,Gr.color[vr]={target:34069,data:br[vr]};for(vr=0;6>vr;++vr){for(nn=0;nn<br.length;++nn)Gr.color[nn].target=34069+vr;0<vr&&(Gr.depth=gr[0].depth,Gr.stencil=gr[0].stencil,Gr.depthStencil=gr[0].depthStencil),gr[vr]?gr[vr](Gr):gr[vr]=je(Gr)}return ie(hr,{width:Dr,height:Dr,color:br})}var gr=Array(6);return hr(Nt),ie(hr,{faces:gr,resize:function(br){var vr=br|0;if(vr===hr.width)return hr;var Gr=hr.color;for(br=0;br<Gr.length;++br)Gr[br].resize(vr);for(br=0;6>br;++br)gr[br].resize(vr);return hr.width=hr.height=vr,hr},_reglType:"framebufferCube",destroy:function(){gr.forEach(function(br){br.destroy()})}})},clear:function(){xe(nr).forEach(dr)},restore:function(){zt.cur=null,zt.next=null,zt.dirty=!0,xe(nr).forEach(function(Nt){Nt.framebuffer=mt.createFramebuffer(),Ye(Nt)})}})}function B(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(mt,Zt,Qt,yr,sr,bt,lt){function Tt(Ye){if(Ye!==dr.currentVAO){var je=Zt.oes_vertex_array_object;Ye?je.bindVertexArrayOES(Ye.vao):je.bindVertexArrayOES(null),dr.currentVAO=Ye}}function Ct(Ye){if(Ye!==dr.currentVAO){if(Ye)Ye.bindAttrs();else{for(var je=Zt.angle_instanced_arrays,zt=0;zt<$t.length;++zt){var Ft=$t[zt];Ft.buffer?(mt.enableVertexAttribArray(zt),Ft.buffer.bind(),mt.vertexAttribPointer(zt,Ft.size,Ft.type,Ft.normalized,Ft.stride,Ft.offfset),je&&Ft.divisor&&je.vertexAttribDivisorANGLE(zt,Ft.divisor)):(mt.disableVertexAttribArray(zt),mt.vertexAttrib4f(zt,Ft.x,Ft.y,Ft.z,Ft.w))}lt.elements?mt.bindBuffer(34963,lt.elements.buffer.buffer):mt.bindBuffer(34963,null)}dr.currentVAO=Ye}}function It(){xe(cr).forEach(function(Ye){Ye.destroy()})}function Dt(){this.id=++fr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ye=Zt.oes_vertex_array_object;this.vao=Ye?Ye.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function Vt(){Zt.oes_vertex_array_object&&xe(cr).forEach(function(Ye){Ye.refresh()})}var Bt=Qt.maxAttributes,$t=Array(Bt);for(Qt=0;Qt<Bt;++Qt)$t[Qt]=new B;var fr=0,cr={},dr={Record:B,scope:{},state:$t,currentVAO:null,targetVAO:null,restore:Zt.oes_vertex_array_object?Vt:function(){},createVAO:function(Ye){function je(Ft){var Jt;Array.isArray(Ft)?(Jt=Ft,zt.elements&&zt.ownsElements&&zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1,zt.offset=0,zt.count=0,zt.instances=-1,zt.primitive=4):(Ft.elements?(Jt=Ft.elements,zt.ownsElements?(typeof Jt=="function"&&Jt._reglType==="elements"?zt.elements.destroy():zt.elements(Jt),zt.ownsElements=!1):bt.getElements(Ft.elements)?(zt.elements=Ft.elements,zt.ownsElements=!1):(zt.elements=bt.create(Ft.elements),zt.ownsElements=!0)):(zt.elements=null,zt.ownsElements=!1),Jt=Ft.attributes,zt.offset=0,zt.count=-1,zt.instances=-1,zt.primitive=4,zt.elements&&(zt.count=zt.elements._elements.vertCount,zt.primitive=zt.elements._elements.primType),"offset"in Ft&&(zt.offset=Ft.offset|0),"count"in Ft&&(zt.count=Ft.count|0),"instances"in Ft&&(zt.instances=Ft.instances|0),"primitive"in Ft&&(zt.primitive=at[Ft.primitive])),Ft={};var tr=zt.attributes;tr.length=Jt.length;for(var ur=0;ur<Jt.length;++ur){var nr=Jt[ur],Nt=tr[ur]=new B,hr=nr.data||nr;if(Array.isArray(hr)||Ee(hr)||f(hr)){var gr;zt.buffers[ur]&&(gr=zt.buffers[ur],Ee(hr)&&gr._buffer.byteLength>=hr.byteLength?gr.subdata(hr):(gr.destroy(),zt.buffers[ur]=null)),zt.buffers[ur]||(gr=zt.buffers[ur]=sr.create(nr,34962,!1,!0)),Nt.buffer=sr.getBuffer(gr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1,Ft[ur]=1}else sr.getBuffer(nr)?(Nt.buffer=sr.getBuffer(nr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1):sr.getBuffer(nr.buffer)?(Nt.buffer=sr.getBuffer(nr.buffer),Nt.size=(+nr.size||Nt.buffer.dimension)|0,Nt.normalized=!!nr.normalized||!1,Nt.type="type"in nr?Be[nr.type]:Nt.buffer.dtype,Nt.offset=(nr.offset||0)|0,Nt.stride=(nr.stride||0)|0,Nt.divisor=(nr.divisor||0)|0,Nt.state=1):"x"in nr&&(Nt.x=+nr.x||0,Nt.y=+nr.y||0,Nt.z=+nr.z||0,Nt.w=+nr.w||0,Nt.state=2)}for(gr=0;gr<zt.buffers.length;++gr)!Ft[gr]&&zt.buffers[gr]&&(zt.buffers[gr].destroy(),zt.buffers[gr]=null);return zt.refresh(),je}var zt=new Dt;return yr.vaoCount+=1,je.destroy=function(){for(var Ft=0;Ft<zt.buffers.length;++Ft)zt.buffers[Ft]&&zt.buffers[Ft].destroy();zt.buffers.length=0,zt.ownsElements&&(zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1),zt.destroy()},je._vao=zt,je._reglType="vao",je(Ye)},getVAO:function(Ye){return typeof Ye=="function"&&Ye._vao?Ye._vao:null},destroyBuffer:function(Ye){for(var je=0;je<$t.length;++je){var zt=$t[je];zt.buffer===Ye&&(mt.disableVertexAttribArray(je),zt.buffer=null)}},setVAO:Zt.oes_vertex_array_object?Tt:Ct,clear:Zt.oes_vertex_array_object?It:function(){}};return Dt.prototype.bindAttrs=function(){for(var Ye=Zt.angle_instanced_arrays,je=this.attributes,zt=0;zt<je.length;++zt){var Ft=je[zt];Ft.buffer?(mt.enableVertexAttribArray(zt),mt.bindBuffer(34962,Ft.buffer.buffer),mt.vertexAttribPointer(zt,Ft.size,Ft.type,Ft.normalized,Ft.stride,Ft.offset),Ye&&Ft.divisor&&Ye.vertexAttribDivisorANGLE(zt,Ft.divisor)):(mt.disableVertexAttribArray(zt),mt.vertexAttrib4f(zt,Ft.x,Ft.y,Ft.z,Ft.w))}for(Ye=je.length;Ye<Bt;++Ye)mt.disableVertexAttribArray(Ye);(Ye=bt.getElements(this.elements))?mt.bindBuffer(34963,Ye.buffer.buffer):mt.bindBuffer(34963,null)},Dt.prototype.refresh=function(){var Ye=Zt.oes_vertex_array_object;Ye&&(Ye.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,Ye.bindVertexArrayOES(null))},Dt.prototype.destroy=function(){if(this.vao){var Ye=Zt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,Ye.bindVertexArrayOES(null)),Ye.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--yr.vaoCount)},dr}function O(mt,Zt,Qt,yr){function sr(fr,cr,dr,Ye){this.name=fr,this.id=cr,this.location=dr,this.info=Ye}function bt(fr,cr){for(var dr=0;dr<fr.length;++dr)if(fr[dr].id===cr.id){fr[dr].location=cr.location;return}fr.push(cr)}function lt(fr,cr,dr){dr=fr===35632?It:Dt;var Ye=dr[cr];if(!Ye){var je=Zt.str(cr),Ye=mt.createShader(fr);mt.shaderSource(Ye,je),mt.compileShader(Ye),dr[cr]=Ye}return Ye}function Tt(fr,cr){this.id=$t++,this.fragId=fr,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,yr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ct(fr,cr,dr){var Ye;Ye=lt(35632,fr.fragId);var je=lt(35633,fr.vertId);if(cr=fr.program=mt.createProgram(),mt.attachShader(cr,Ye),mt.attachShader(cr,je),dr)for(Ye=0;Ye<dr.length;++Ye)je=dr[Ye],mt.bindAttribLocation(cr,je[0],je[1]);mt.linkProgram(cr),je=mt.getProgramParameter(cr,35718),yr.profile&&(fr.stats.uniformsCount=je);var zt=fr.uniforms;for(Ye=0;Ye<je;++Ye)if(dr=mt.getActiveUniform(cr,Ye))if(1<dr.size)for(var Ft=0;Ft<dr.size;++Ft){var Jt=dr.name.replace("[0]","["+Ft+"]");bt(zt,new sr(Jt,Zt.id(Jt),mt.getUniformLocation(cr,Jt),dr))}else bt(zt,new sr(dr.name,Zt.id(dr.name),mt.getUniformLocation(cr,dr.name),dr));for(je=mt.getProgramParameter(cr,35721),yr.profile&&(fr.stats.attributesCount=je),fr=fr.attributes,Ye=0;Ye<je;++Ye)(dr=mt.getActiveAttrib(cr,Ye))&&bt(fr,new sr(dr.name,Zt.id(dr.name),mt.getAttribLocation(cr,dr.name),dr))}var It={},Dt={},Vt={},Bt=[],$t=0;return yr.profile&&(Qt.getMaxUniformsCount=function(){var fr=0;return Bt.forEach(function(cr){cr.stats.uniformsCount>fr&&(fr=cr.stats.uniformsCount)}),fr},Qt.getMaxAttributesCount=function(){var fr=0;return Bt.forEach(function(cr){cr.stats.attributesCount>fr&&(fr=cr.stats.attributesCount)}),fr}),{clear:function(){var fr=mt.deleteShader.bind(mt);xe(It).forEach(fr),It={},xe(Dt).forEach(fr),Dt={},Bt.forEach(function(cr){mt.deleteProgram(cr.program)}),Bt.length=0,Vt={},Qt.shaderCount=0},program:function(fr,cr,dr,Ye){var je=Vt[cr];je||(je=Vt[cr]={});var zt=je[fr];if(zt&&(zt.refCount++,!Ye))return zt;var Ft=new Tt(cr,fr);return Qt.shaderCount++,Ct(Ft,dr,Ye),zt||(je[fr]=Ft),Bt.push(Ft),ie(Ft,{destroy:function(){if(Ft.refCount--,0>=Ft.refCount){mt.deleteProgram(Ft.program);var Jt=Bt.indexOf(Ft);Bt.splice(Jt,1),Qt.shaderCount--}0>=je[Ft.vertId].refCount&&(mt.deleteShader(Dt[Ft.vertId]),delete Dt[Ft.vertId],delete Vt[Ft.fragId][Ft.vertId]),Object.keys(Vt[Ft.fragId]).length||(mt.deleteShader(It[Ft.fragId]),delete It[Ft.fragId],delete Vt[Ft.fragId])}})},restore:function(){It={},Dt={};for(var fr=0;fr<Bt.length;++fr)Ct(Bt[fr],null,Bt[fr].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:lt,frag:-1,vert:-1}}function N(mt,Zt,Qt,yr,sr,bt,lt){function Tt(It){var Dt;Dt=Zt.next===null?5121:Zt.next.colorAttachments[0].texture._texture.type;var Vt=0,Bt=0,$t=yr.framebufferWidth,fr=yr.framebufferHeight,cr=null;return Ee(It)?cr=It:It&&(Vt=It.x|0,Bt=It.y|0,$t=(It.width||yr.framebufferWidth-Vt)|0,fr=(It.height||yr.framebufferHeight-Bt)|0,cr=It.data||null),Qt(),It=$t*fr*4,cr||(Dt===5121?cr=new Uint8Array(It):Dt===5126&&(cr=cr||new Float32Array(It))),mt.pixelStorei(3333,4),mt.readPixels(Vt,Bt,$t,fr,6408,Dt,cr),cr}function Ct(It){var Dt;return Zt.setFBO({framebuffer:It.framebuffer},function(){Dt=Tt(It)}),Dt}return function(It){return It&&"framebuffer"in It?Ct(It):Tt(It)}}function z(mt){for(var Zt=Array(mt.length>>2),yr=0;yr<Zt.length;yr++)Zt[yr]=0;for(yr=0;yr<8*mt.length;yr+=8)Zt[yr>>5]|=(mt.charCodeAt(yr/8)&255)<<24-yr%32;var Qt=8*mt.length;mt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var yr=Array(64),sr,bt,lt,Tt,Ct,It,Dt,Vt,Bt,$t,fr;for(Zt[Qt>>5]|=128<<24-Qt%32,Zt[(Qt+64>>9<<4)+15]=Qt,Vt=0;Vt<Zt.length;Vt+=16){for(Qt=mt[0],sr=mt[1],bt=mt[2],lt=mt[3],Tt=mt[4],Ct=mt[5],It=mt[6],Dt=mt[7],Bt=0;64>Bt;Bt++){if(16>Bt)yr[Bt]=Zt[Bt+Vt];else{$t=Bt,fr=yr[Bt-2],fr=$(fr,17)^$(fr,19)^fr>>>10,fr=re(fr,yr[Bt-7]);var cr;cr=yr[Bt-15],cr=$(cr,7)^$(cr,18)^cr>>>3,yr[$t]=re(re(fr,cr),yr[Bt-16])}$t=Tt,$t=$($t,6)^$($t,11)^$($t,25),$t=re(re(re(re(Dt,$t),Tt&Ct^~Tt&It),nt[Bt]),yr[Bt]),Dt=Qt,Dt=$(Dt,2)^$(Dt,13)^$(Dt,22),fr=re(Dt,Qt&sr^Qt&bt^sr&bt),Dt=It,It=Ct,Ct=Tt,Tt=re(lt,$t),lt=bt,bt=sr,sr=Qt,Qt=re($t,fr)}mt[0]=re(Qt,mt[0]),mt[1]=re(sr,mt[1]),mt[2]=re(bt,mt[2]),mt[3]=re(lt,mt[3]),mt[4]=re(Tt,mt[4]),mt[5]=re(Ct,mt[5]),mt[6]=re(It,mt[6]),mt[7]=re(Dt,mt[7])}for(Zt="",yr=0;yr<32*mt.length;yr+=8)Zt+=String.fromCharCode(mt[yr>>5]>>>24-yr%32&255);return Zt}function V(mt){for(var Zt="",Qt,yr=0;yr<mt.length;yr++)Qt=mt.charCodeAt(yr),Zt+="0123456789abcdef".charAt(Qt>>>4&15)+"0123456789abcdef".charAt(Qt&15);return Zt}function W(mt){for(var Zt="",Qt=-1,yr,sr;++Qt<mt.length;)yr=mt.charCodeAt(Qt),sr=Qt+1<mt.length?mt.charCodeAt(Qt+1):0,55296<=yr&&56319>=yr&&56320<=sr&&57343>=sr&&(yr=65536+((yr&1023)<<10)+(sr&1023),Qt++),127>=yr?Zt+=String.fromCharCode(yr):2047>=yr?Zt+=String.fromCharCode(192|yr>>>6&31,128|yr&63):65535>=yr?Zt+=String.fromCharCode(224|yr>>>12&15,128|yr>>>6&63,128|yr&63):2097151>=yr&&(Zt+=String.fromCharCode(240|yr>>>18&7,128|yr>>>12&63,128|yr>>>6&63,128|yr&63));return Zt}function $(mt,Zt){return mt>>>Zt|mt<<32-Zt}function re(mt,Zt){var Qt=(mt&65535)+(Zt&65535);return(mt>>16)+(Zt>>16)+(Qt>>16)<<16|Qt&65535}function ne(mt){return Array.prototype.slice.call(mt)}function ue(mt){return ne(mt).join("")}function J(mt){function Zt(){var Dt=[],Vt=[];return ie(function(){Dt.push.apply(Dt,ne(arguments))},{def:function(){var Bt="v"+sr++;return Vt.push(Bt),0<arguments.length&&(Dt.push(Bt,"="),Dt.push.apply(Dt,ne(arguments)),Dt.push(";")),Bt},toString:function(){return ue([0<Vt.length?"var "+Vt.join(",")+";":"",ue(Dt)])}})}function Qt(){function Dt(cr,dr){Bt(cr,dr,"=",Vt.def(cr,dr),";")}var Vt=Zt(),Bt=Zt(),$t=Vt.toString,fr=Bt.toString;return ie(function(){Vt.apply(Vt,ne(arguments))},{def:Vt.def,entry:Vt,exit:Bt,save:Dt,set:function(cr,dr,Ye){Dt(cr,dr),Vt(cr,dr,"=",Ye,";")},toString:function(){return $t()+fr()}})}var yr=mt&&mt.cache,sr=0,bt=[],lt=[],Tt=[],Ct=Zt(),It={};return{global:Ct,link:function(Dt,Vt){var Bt=Vt&&Vt.stable;if(!Bt){for(var $t=0;$t<lt.length;++$t)if(lt[$t]===Dt&&!Tt[$t])return bt[$t]}return $t="g"+sr++,bt.push($t),lt.push(Dt),Tt.push(Bt),$t},block:Zt,proc:function(Dt,Vt){function Bt(){var dr="a"+$t.length;return $t.push(dr),dr}var $t=[];Vt=Vt||0;for(var fr=0;fr<Vt;++fr)Bt();var fr=Qt(),cr=fr.toString;return It[Dt]=ie(fr,{arg:Bt,toString:function(){return ue(["function(",$t.join(),"){",cr(),"}"])}})},scope:Qt,cond:function(){var Dt=ue(arguments),Vt=Qt(),Bt=Qt(),$t=Vt.toString,fr=Bt.toString;return ie(Vt,{then:function(){return Vt.apply(Vt,ne(arguments)),this},else:function(){return Bt.apply(Bt,ne(arguments)),this},toString:function(){var cr=fr();return cr&&(cr="else{"+cr+"}"),ue(["if(",Dt,"){",$t(),"}",cr])}})},compile:function(){var Dt=['"use strict";',Ct,"return {"];Object.keys(It).forEach(function($t){Dt.push('"',$t,'":',It[$t].toString(),",")}),Dt.push("}");var Vt=ue(Dt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Bt;return yr&&(Bt=V(z(W(Vt))),yr[Bt])?yr[Bt].apply(null,lt):(Vt=Function.apply(null,bt.concat(Vt)),yr&&(yr[Bt]=Vt),Vt.apply(null,lt))}}}function X(mt){return Array.isArray(mt)||Ee(mt)||f(mt)}function oe(mt){return mt.sort(function(Zt,Qt){return Zt==="viewport"?-1:Qt==="viewport"?1:Zt<Qt?-1:1})}function Y(mt,Zt,Qt,yr){this.thisDep=mt,this.contextDep=Zt,this.propDep=Qt,this.append=yr}function q(mt){return mt&&!(mt.thisDep||mt.contextDep||mt.propDep)}function se(mt){return new Y(!1,!1,!1,mt)}function Q(mt,Zt){var Qt=mt.type;if(Qt===0)return Qt=mt.data.length,new Y(!0,1<=Qt,2<=Qt,Zt);if(Qt===4)return Qt=mt.data,new Y(Qt.thisDep,Qt.contextDep,Qt.propDep,Zt);if(Qt===5)return new Y(!1,!1,!1,Zt);if(Qt===6){for(var yr=Qt=!1,sr=!1,bt=0;bt<mt.data.length;++bt){var lt=mt.data[bt];lt.type===1?sr=!0:lt.type===2?yr=!0:lt.type===3?Qt=!0:lt.type===0?(Qt=!0,lt=lt.data,1<=lt&&(yr=!0),2<=lt&&(sr=!0)):lt.type===4&&(Qt=Qt||lt.data.thisDep,yr=yr||lt.data.contextDep,sr=sr||lt.data.propDep)}return new Y(Qt,yr,sr,Zt)}return new Y(Qt===3,Qt===2,Qt===1,Zt)}function K(mt,Zt,Qt,yr,sr,bt,lt,Tt,Ct,It,Dt,Vt,Bt,$t,fr,cr){function dr(Er){return Er.replace(".","_")}function Ye(Er,zr,Sr){var Nr=dr(Er);An.push(Er),jn[Nr]=pn[Nr]=!!Sr,Sn[Nr]=zr}function je(Er,zr,Sr){var Nr=dr(Er);An.push(Er),Array.isArray(Sr)?(pn[Nr]=Sr.slice(),jn[Nr]=Sr.slice()):pn[Nr]=jn[Nr]=Sr,Un[Nr]=zr}function zt(){var Er=J({cache:fr}),zr=Er.link,Sr=Er.global;Er.id=_a++,Er.batchId="0";var Nr=zr($n),wn=Er.shared={props:"a0"};Object.keys($n).forEach(function(Zr){wn[Zr]=Sr.def(Nr,".",Zr)});var kn=Er.next={},vn=Er.current={};Object.keys(Un).forEach(function(Zr){Array.isArray(pn[Zr])&&(kn[Zr]=Sr.def(wn.next,".",Zr),vn[Zr]=Sr.def(wn.current,".",Zr))});var ln=Er.constants={};Object.keys(ya).forEach(function(Zr){ln[Zr]=Sr.def(JSON.stringify(ya[Zr]))}),Er.invoke=function(Zr,Hr){switch(Hr.type){case 0:var Qr=["this",wn.context,wn.props,Er.batchId];return Zr.def(zr(Hr.data),".call(",Qr.slice(0,Math.max(Hr.data.length+1,4)),")");case 1:return Zr.def(wn.props,Hr.data);case 2:return Zr.def(wn.context,Hr.data);case 3:return Zr.def("this",Hr.data);case 4:return Hr.data.append(Er,Zr),Hr.data.ref;case 5:return Hr.data.toString();case 6:return Hr.data.map(function(Tn){return Er.invoke(Zr,Tn)})}},Er.attribCache={};var Cr={};return Er.scopeAttrib=function(Zr){if(Zr=Zt.id(Zr),Zr in Cr)return Cr[Zr];var Hr=It.scope[Zr];return Hr||(Hr=It.scope[Zr]=new ua),Cr[Zr]=zr(Hr)},Er}function Ft(Er){var zr=Er.static;Er=Er.dynamic;var Sr;if("profile"in zr){var Nr=!!zr.profile;Sr=se(function(kn,vn){return Nr}),Sr.enable=Nr}else if("profile"in Er){var wn=Er.profile;Sr=Q(wn,function(kn,vn){return kn.invoke(vn,wn)})}return Sr}function Jt(Er,zr){var Sr=Er.static,Nr=Er.dynamic;if("framebuffer"in Sr){var wn=Sr.framebuffer;return wn?(wn=Tt.getFramebuffer(wn),se(function(vn,ln){var Cr=vn.link(wn),Zr=vn.shared;return ln.set(Zr.framebuffer,".next",Cr),Zr=Zr.context,ln.set(Zr,".framebufferWidth",Cr+".width"),ln.set(Zr,".framebufferHeight",Cr+".height"),Cr})):se(function(vn,ln){var Cr=vn.shared;return ln.set(Cr.framebuffer,".next","null"),Cr=Cr.context,ln.set(Cr,".framebufferWidth",Cr+".drawingBufferWidth"),ln.set(Cr,".framebufferHeight",Cr+".drawingBufferHeight"),"null"})}if("framebuffer"in Nr){var kn=Nr.framebuffer;return Q(kn,function(vn,ln){var Hr=vn.invoke(ln,kn),Cr=vn.shared,Zr=Cr.framebuffer,Hr=ln.def(Zr,".getFramebuffer(",Hr,")");return ln.set(Zr,".next",Hr),Cr=Cr.context,ln.set(Cr,".framebufferWidth",Hr+"?"+Hr+".width:"+Cr+".drawingBufferWidth"),ln.set(Cr,".framebufferHeight",Hr+"?"+Hr+".height:"+Cr+".drawingBufferHeight"),Hr})}return null}function tr(Er,zr,Sr){function Nr(ln){if(ln in wn){var Cr=wn[ln];ln=!0;var Zr=Cr.x|0,Hr=Cr.y|0,Qr,Tn;return"width"in Cr?Qr=Cr.width|0:ln=!1,"height"in Cr?Tn=Cr.height|0:ln=!1,new Y(!ln&&zr&&zr.thisDep,!ln&&zr&&zr.contextDep,!ln&&zr&&zr.propDep,function(Dn,Vn){var Nn=Dn.shared.context,ma=Qr;"width"in Cr||(ma=Vn.def(Nn,".","framebufferWidth","-",Zr));var oa=Tn;return"height"in Cr||(oa=Vn.def(Nn,".","framebufferHeight","-",Hr)),[Zr,Hr,ma,oa]})}if(ln in kn){var Rn=kn[ln];return ln=Q(Rn,function(Dn,Vn){var Pa=Dn.invoke(Vn,Rn),Nn=Dn.shared.context,ma=Vn.def(Pa,".x|0"),oa=Vn.def(Pa,".y|0"),ga=Vn.def('"width" in ',Pa,"?",Pa,".width|0:","(",Nn,".","framebufferWidth","-",ma,")"),Pa=Vn.def('"height" in ',Pa,"?",Pa,".height|0:","(",Nn,".","framebufferHeight","-",oa,")");return[ma,oa,ga,Pa]}),zr&&(ln.thisDep=ln.thisDep||zr.thisDep,ln.contextDep=ln.contextDep||zr.contextDep,ln.propDep=ln.propDep||zr.propDep),ln}return zr?new Y(zr.thisDep,zr.contextDep,zr.propDep,function(Dn,Vn){var Nn=Dn.shared.context;return[0,0,Vn.def(Nn,".","framebufferWidth"),Vn.def(Nn,".","framebufferHeight")]}):null}var wn=Er.static,kn=Er.dynamic;if(Er=Nr("viewport")){var vn=Er;Er=new Y(Er.thisDep,Er.contextDep,Er.propDep,function(ln,Cr){var Zr=vn.append(ln,Cr),Hr=ln.shared.context;return Cr.set(Hr,".viewportWidth",Zr[2]),Cr.set(Hr,".viewportHeight",Zr[3]),Zr})}return{viewport:Er,scissor_box:Nr("scissor.box")}}function ur(Er,zr){var Sr=Er.static;if(typeof Sr.frag=="string"&&typeof Sr.vert=="string"){if(0<Object.keys(zr.dynamic).length)return null;var Sr=zr.static,Nr=Object.keys(Sr);if(0<Nr.length&&typeof Sr[Nr[0]]=="number"){for(var wn=[],kn=0;kn<Nr.length;++kn)wn.push([Sr[Nr[kn]]|0,Nr[kn]]);return wn}}return null}function nr(Er,zr,Sr){function Nr(Zr){if(Zr in wn){var Hr=Zt.id(wn[Zr]);return Zr=se(function(){return Hr}),Zr.id=Hr,Zr}if(Zr in kn){var Qr=kn[Zr];return Q(Qr,function(Tn,Rn){var Dn=Tn.invoke(Rn,Qr);return Rn.def(Tn.shared.strings,".id(",Dn,")")})}return null}var wn=Er.static,kn=Er.dynamic,vn=Nr("frag"),ln=Nr("vert"),Cr=null;return q(vn)&&q(ln)?(Cr=Dt.program(ln.id,vn.id,null,Sr),Er=se(function(Zr,Hr){return Zr.link(Cr)})):Er=new Y(vn&&vn.thisDep||ln&&ln.thisDep,vn&&vn.contextDep||ln&&ln.contextDep,vn&&vn.propDep||ln&&ln.propDep,function(Zr,Hr){var Qr=Zr.shared.shader,Tn;Tn=vn?vn.append(Zr,Hr):Hr.def(Qr,".","frag");var Rn;return Rn=ln?ln.append(Zr,Hr):Hr.def(Qr,".","vert"),Hr.def(Qr+".program("+Rn+","+Tn+")")}),{frag:vn,vert:ln,progVar:Er,program:Cr}}function Nt(Er,zr){function Sr(Dn,Vn){if(Dn in Nr){var Nn=Nr[Dn]|0;return Vn?kn.offset=Nn:kn.instances=Nn,se(function(oa,ga){return Vn&&(oa.OFFSET=Nn),Nn})}if(Dn in wn){var ma=wn[Dn];return Q(ma,function(oa,ga){var Pa=oa.invoke(ga,ma);return Vn&&(oa.OFFSET=Pa),Pa})}if(Vn){if(Cr)return se(function(oa,ga){return oa.OFFSET=0});if(vn)return new Y(ln.thisDep,ln.contextDep,ln.propDep,function(oa,ga){return ga.def(oa.shared.vao+".currentVAO?"+oa.shared.vao+".currentVAO.offset:0")})}else if(vn)return new Y(ln.thisDep,ln.contextDep,ln.propDep,function(oa,ga){return ga.def(oa.shared.vao+".currentVAO?"+oa.shared.vao+".currentVAO.instances:-1")});return null}var Nr=Er.static,wn=Er.dynamic,kn={},vn=!1,ln=function(){if("vao"in Nr){var Dn=Nr.vao;return Dn!==null&&It.getVAO(Dn)===null&&(Dn=It.createVAO(Dn)),vn=!0,kn.vao=Dn,se(function(Nn){var ma=It.getVAO(Dn);return ma?Nn.link(ma):"null"})}if("vao"in wn){vn=!0;var Vn=wn.vao;return Q(Vn,function(Nn,ma){var oa=Nn.invoke(ma,Vn);return ma.def(Nn.shared.vao+".getVAO("+oa+")")})}return null}(),Cr=!1,Zr=function(){if("elements"in Nr){var Dn=Nr.elements;if(kn.elements=Dn,X(Dn)){var Vn=kn.elements=bt.create(Dn,!0),Dn=bt.getElements(Vn);Cr=!0}else Dn&&(Dn=bt.getElements(Dn),Cr=!0);return Vn=se(function(ma,oa){if(Dn){var ga=ma.link(Dn);return ma.ELEMENTS=ga}return ma.ELEMENTS=null}),Vn.value=Dn,Vn}if("elements"in wn){Cr=!0;var Nn=wn.elements;return Q(Nn,function(ma,oa){var ga=ma.shared,pi=ga.isBufferArgs,ga=ga.elements,ri=ma.invoke(oa,Nn),Pa=oa.def("null"),pi=oa.def(pi,"(",ri,")"),ri=ma.cond(pi).then(Pa,"=",ga,".createStream(",ri,");").else(Pa,"=",ga,".getElements(",ri,");");return oa.entry(ri),oa.exit(ma.cond(pi).then(ga,".destroyStream(",Pa,");")),ma.ELEMENTS=Pa})}return vn?new Y(ln.thisDep,ln.contextDep,ln.propDep,function(ma,oa){return oa.def(ma.shared.vao+".currentVAO?"+ma.shared.elements+".getElements("+ma.shared.vao+".currentVAO.elements):null")}):null}(),Hr=Sr("offset",!0),Qr=function(){if("primitive"in Nr){var Dn=Nr.primitive;return kn.primitive=Dn,se(function(Nn,ma){return at[Dn]})}if("primitive"in wn){var Vn=wn.primitive;return Q(Vn,function(Nn,ma){var oa=Nn.constants.primTypes,ga=Nn.invoke(ma,Vn);return ma.def(oa,"[",ga,"]")})}return Cr?q(Zr)?Zr.value?se(function(Nn,ma){return ma.def(Nn.ELEMENTS,".primType")}):se(function(){return 4}):new Y(Zr.thisDep,Zr.contextDep,Zr.propDep,function(Nn,ma){var oa=Nn.ELEMENTS;return ma.def(oa,"?",oa,".primType:",4)}):vn?new Y(ln.thisDep,ln.contextDep,ln.propDep,function(Nn,ma){return ma.def(Nn.shared.vao+".currentVAO?"+Nn.shared.vao+".currentVAO.primitive:4")}):null}(),Tn=function(){if("count"in Nr){var Dn=Nr.count|0;return kn.count=Dn,se(function(){return Dn})}if("count"in wn){var Vn=wn.count;return Q(Vn,function(Nn,ma){return Nn.invoke(ma,Vn)})}return Cr?q(Zr)?Zr?Hr?new Y(Hr.thisDep,Hr.contextDep,Hr.propDep,function(Nn,ma){return ma.def(Nn.ELEMENTS,".vertCount-",Nn.OFFSET)}):se(function(Nn,ma){return ma.def(Nn.ELEMENTS,".vertCount")}):se(function(){return-1}):new Y(Zr.thisDep||Hr.thisDep,Zr.contextDep||Hr.contextDep,Zr.propDep||Hr.propDep,function(Nn,ma){var oa=Nn.ELEMENTS;return Nn.OFFSET?ma.def(oa,"?",oa,".vertCount-",Nn.OFFSET,":-1"):ma.def(oa,"?",oa,".vertCount:-1")}):vn?new Y(ln.thisDep,ln.contextDep,ln.propDep,function(Nn,ma){return ma.def(Nn.shared.vao,".currentVAO?",Nn.shared.vao,".currentVAO.count:-1")}):null}(),Rn=Sr("instances",!1);return{elements:Zr,primitive:Qr,count:Tn,instances:Rn,offset:Hr,vao:ln,vaoActive:vn,elementsActive:Cr,static:kn}}function hr(Er,zr){var Sr=Er.static,Nr=Er.dynamic,wn={};return An.forEach(function(kn){function vn(Cr,Zr){if(kn in Sr){var Hr=Cr(Sr[kn]);wn[ln]=se(function(){return Hr})}else if(kn in Nr){var Qr=Nr[kn];wn[ln]=Q(Qr,function(Tn,Rn){return Zr(Tn,Rn,Tn.invoke(Rn,Qr))})}}var ln=dr(kn);switch(kn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return vn(function(Cr){return Cr},function(Cr,Zr,Hr){return Hr});case"depth.func":return vn(function(Cr){return Xt[Cr]},function(Cr,Zr,Hr){return Zr.def(Cr.constants.compareFuncs,"[",Hr,"]")});case"depth.range":return vn(function(Cr){return Cr},function(Cr,Zr,Hr){return Cr=Zr.def("+",Hr,"[0]"),Zr=Zr.def("+",Hr,"[1]"),[Cr,Zr]});case"blend.func":return vn(function(Cr){return[Yt["srcRGB"in Cr?Cr.srcRGB:Cr.src],Yt["dstRGB"in Cr?Cr.dstRGB:Cr.dst],Yt["srcAlpha"in Cr?Cr.srcAlpha:Cr.src],Yt["dstAlpha"in Cr?Cr.dstAlpha:Cr.dst]]},function(Cr,Zr,Hr){function Qr(Vn,Nn){return Zr.def('"',Vn,Nn,'" in ',Hr,"?",Hr,".",Vn,Nn,":",Hr,".",Vn)}Cr=Cr.constants.blendFuncs;var Tn=Qr("src","RGB"),Dn=Qr("dst","RGB"),Tn=Zr.def(Cr,"[",Tn,"]"),Rn=Zr.def(Cr,"[",Qr("src","Alpha"),"]"),Dn=Zr.def(Cr,"[",Dn,"]");return Cr=Zr.def(Cr,"[",Qr("dst","Alpha"),"]"),[Tn,Dn,Rn,Cr]});case"blend.equation":return vn(function(Cr){if(typeof Cr=="string")return[na[Cr],na[Cr]];if(typeof Cr=="object")return[na[Cr.rgb],na[Cr.alpha]]},function(Cr,Zr,Hr){var Qr=Cr.constants.blendEquations,Tn=Zr.def(),Rn=Zr.def();return Cr=Cr.cond("typeof ",Hr,'==="string"'),Cr.then(Tn,"=",Rn,"=",Qr,"[",Hr,"];"),Cr.else(Tn,"=",Qr,"[",Hr,".rgb];",Rn,"=",Qr,"[",Hr,".alpha];"),Zr(Cr),[Tn,Rn]});case"blend.color":return vn(function(Cr){return i(4,function(Zr){return+Cr[Zr]})},function(Cr,Zr,Hr){return i(4,function(Qr){return Zr.def("+",Hr,"[",Qr,"]")})});case"stencil.mask":return vn(function(Cr){return Cr|0},function(Cr,Zr,Hr){return Zr.def(Hr,"|0")});case"stencil.func":return vn(function(Cr){return[Xt[Cr.cmp||"keep"],Cr.ref||0,"mask"in Cr?Cr.mask:-1]},function(Cr,Zr,Hr){Cr=Zr.def('"cmp" in ',Hr,"?",Cr.constants.compareFuncs,"[",Hr,".cmp]",":",7680);var Qr=Zr.def(Hr,".ref|0");return Zr=Zr.def('"mask" in ',Hr,"?",Hr,".mask|0:-1"),[Cr,Qr,Zr]});case"stencil.opFront":case"stencil.opBack":return vn(function(Cr){return[kn==="stencil.opBack"?1029:1028,St[Cr.fail||"keep"],St[Cr.zfail||"keep"],St[Cr.zpass||"keep"]]},function(Cr,Zr,Hr){function Qr(Rn){return Zr.def('"',Rn,'" in ',Hr,"?",Tn,"[",Hr,".",Rn,"]:",7680)}var Tn=Cr.constants.stencilOps;return[kn==="stencil.opBack"?1029:1028,Qr("fail"),Qr("zfail"),Qr("zpass")]});case"polygonOffset.offset":return vn(function(Cr){return[Cr.factor|0,Cr.units|0]},function(Cr,Zr,Hr){return Cr=Zr.def(Hr,".factor|0"),Zr=Zr.def(Hr,".units|0"),[Cr,Zr]});case"cull.face":return vn(function(Cr){var Zr=0;return Cr==="front"?Zr=1028:Cr==="back"&&(Zr=1029),Zr},function(Cr,Zr,Hr){return Zr.def(Hr,'==="front"?',1028,":",1029)});case"lineWidth":return vn(function(Cr){return Cr},function(Cr,Zr,Hr){return Hr});case"frontFace":return vn(function(Cr){return kt[Cr]},function(Cr,Zr,Hr){return Zr.def(Hr+'==="cw"?2304:2305')});case"colorMask":return vn(function(Cr){return Cr.map(function(Zr){return!!Zr})},function(Cr,Zr,Hr){return i(4,function(Qr){return"!!"+Hr+"["+Qr+"]"})});case"sample.coverage":return vn(function(Cr){return["value"in Cr?Cr.value:1,!!Cr.invert]},function(Cr,Zr,Hr){return Cr=Zr.def('"value" in ',Hr,"?+",Hr,".value:1"),Zr=Zr.def("!!",Hr,".invert"),[Cr,Zr]})}}),wn}function gr(Er,zr){var Sr=Er.static,Nr=Er.dynamic,wn={};return Object.keys(Sr).forEach(function(kn){var vn=Sr[kn],ln;if(typeof vn=="number"||typeof vn=="boolean")ln=se(function(){return vn});else if(typeof vn=="function"){var Cr=vn._reglType;Cr==="texture2d"||Cr==="textureCube"?ln=se(function(Zr){return Zr.link(vn)}):(Cr==="framebuffer"||Cr==="framebufferCube")&&(ln=se(function(Zr){return Zr.link(vn.color[0])}))}else A(vn)&&(ln=se(function(Zr){return Zr.global.def("[",i(vn.length,function(Hr){return vn[Hr]}),"]")}));ln.value=vn,wn[kn]=ln}),Object.keys(Nr).forEach(function(kn){var vn=Nr[kn];wn[kn]=Q(vn,function(ln,Cr){return ln.invoke(Cr,vn)})}),wn}function br(Er,zr){var Sr=Er.static,Nr=Er.dynamic,wn={};return Object.keys(Sr).forEach(function(kn){var vn=Sr[kn],ln=Zt.id(kn),Cr=new ua;if(X(vn))Cr.state=1,Cr.buffer=sr.getBuffer(sr.create(vn,34962,!1,!0)),Cr.type=0;else{var Zr=sr.getBuffer(vn);if(Zr)Cr.state=1,Cr.buffer=Zr,Cr.type=0;else if("constant"in vn){var Hr=vn.constant;Cr.buffer="null",Cr.state=2,typeof Hr=="number"?Cr.x=Hr:pt.forEach(function(Nn,ma){ma<Hr.length&&(Cr[Nn]=Hr[ma])})}else{var Zr=X(vn.buffer)?sr.getBuffer(sr.create(vn.buffer,34962,!1,!0)):sr.getBuffer(vn.buffer),Qr=vn.offset|0,Tn=vn.stride|0,Rn=vn.size|0,Dn=!!vn.normalized,Vn=0;"type"in vn&&(Vn=Be[vn.type]),vn=vn.divisor|0,Cr.buffer=Zr,Cr.state=1,Cr.size=Rn,Cr.normalized=Dn,Cr.type=Vn||Zr.dtype,Cr.offset=Qr,Cr.stride=Tn,Cr.divisor=vn}}wn[kn]=se(function(Nn,ma){var oa=Nn.attribCache;if(ln in oa)return oa[ln];var ga={isStream:!1};return Object.keys(Cr).forEach(function(Pa){ga[Pa]=Cr[Pa]}),Cr.buffer&&(ga.buffer=Nn.link(Cr.buffer),ga.type=ga.type||ga.buffer+".dtype"),oa[ln]=ga})}),Object.keys(Nr).forEach(function(kn){var vn=Nr[kn];wn[kn]=Q(vn,function(ln,Cr){function Zr(oa){Cr(Dn[oa],"=",Hr,".",oa,"|0;")}var Hr=ln.invoke(Cr,vn),Rn=ln.shared,Qr=ln.constants,Tn=Rn.isBufferArgs,Rn=Rn.buffer,Dn={isStream:Cr.def(!1)},Vn=new ua;Vn.state=1,Object.keys(Vn).forEach(function(oa){Dn[oa]=Cr.def(""+Vn[oa])});var Nn=Dn.buffer,ma=Dn.type;return Cr("if(",Tn,"(",Hr,")){",Dn.isStream,"=true;",Nn,"=",Rn,".createStream(",34962,",",Hr,");",ma,"=",Nn,".dtype;","}else{",Nn,"=",Rn,".getBuffer(",Hr,");","if(",Nn,"){",ma,"=",Nn,".dtype;",'}else if("constant" in ',Hr,"){",Dn.state,"=",2,";","if(typeof "+Hr+'.constant === "number"){',Dn[pt[0]],"=",Hr,".constant;",pt.slice(1).map(function(oa){return Dn[oa]}).join("="),"=0;","}else{",pt.map(function(oa,ga){return Dn[oa]+"="+Hr+".constant.length>"+ga+"?"+Hr+".constant["+ga+"]:0;"}).join(""),"}}else{","if(",Tn,"(",Hr,".buffer)){",Nn,"=",Rn,".createStream(",34962,",",Hr,".buffer);","}else{",Nn,"=",Rn,".getBuffer(",Hr,".buffer);","}",ma,'="type" in ',Hr,"?",Qr.glTypes,"[",Hr,".type]:",Nn,".dtype;",Dn.normalized,"=!!",Hr,".normalized;"),Zr("size"),Zr("offset"),Zr("stride"),Zr("divisor"),Cr("}}"),Cr.exit("if(",Dn.isStream,"){",Rn,".destroyStream(",Nn,");","}"),Dn})}),wn}function vr(Er){var zr=Er.static,Sr=Er.dynamic,Nr={};return Object.keys(zr).forEach(function(wn){var kn=zr[wn];Nr[wn]=se(function(vn,ln){return typeof kn=="number"||typeof kn=="boolean"?""+kn:vn.link(kn)})}),Object.keys(Sr).forEach(function(wn){var kn=Sr[wn];Nr[wn]=Q(kn,function(vn,ln){return vn.invoke(ln,kn)})}),Nr}function Gr(Er,zr,Sr,Nr,wn){function kn(Vn){var Nn=ln[Vn];Nn&&(Zr[Vn]=Nn)}var vn=ur(Er,zr),Tn=Jt(Er),ln=tr(Er,Tn),Cr=Nt(Er),Zr=hr(Er),Hr=nr(Er,wn,vn);kn("viewport"),kn(dr("scissor.box"));var Qr=0<Object.keys(Zr).length,Tn={framebuffer:Tn,draw:Cr,shader:Hr,state:Zr,dirty:Qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Tn.profile=Ft(Er),Tn.uniforms=gr(Sr),Tn.drawVAO=Tn.scopeVAO=Cr.vao,!Tn.drawVAO&&Hr.program&&!vn&&Qt.angle_instanced_arrays&&Cr.static.elements){var Rn=!0;if(Er=Hr.program.attributes.map(function(Vn){return Vn=zr.static[Vn],Rn=Rn&&!!Vn,Vn}),Rn&&0<Er.length){var Dn=It.getVAO(It.createVAO({attributes:Er,elements:Cr.static.elements}));Tn.drawVAO=new Y(null,null,null,function(Vn,Nn){return Vn.link(Dn)}),Tn.useVAO=!0}}return vn?Tn.useVAO=!0:Tn.attributes=br(zr),Tn.context=vr(Nr),Tn}function Dr(Er,zr,Sr){var Nr=Er.shared.context,wn=Er.scope();Object.keys(Sr).forEach(function(kn){zr.save(Nr,"."+kn);var vn=Sr[kn].append(Er,zr);Array.isArray(vn)?wn(Nr,".",kn,"=[",vn.join(),"];"):wn(Nr,".",kn,"=",vn,";")}),zr(wn)}function _r(Er,zr,Sr,Nr){var ln=Er.shared,wn=ln.gl,kn=ln.framebuffer,vn;an&&(vn=zr.def(ln.extensions,".webgl_draw_buffers"));var Cr=Er.constants,ln=Cr.drawBuffer,Cr=Cr.backBuffer;Er=Sr?Sr.append(Er,zr):zr.def(kn,".next"),Nr||zr("if(",Er,"!==",kn,".cur){"),zr("if(",Er,"){",wn,".bindFramebuffer(",36160,",",Er,".framebuffer);"),an&&zr(vn,".drawBuffersWEBGL(",ln,"[",Er,".colorAttachments.length]);"),zr("}else{",wn,".bindFramebuffer(",36160,",null);"),an&&zr(vn,".drawBuffersWEBGL(",Cr,");"),zr("}",kn,".cur=",Er,";"),Nr||zr("}")}function hn(Er,zr,Sr){var Nr=Er.shared,wn=Nr.gl,kn=Er.current,vn=Er.next,ln=Nr.current,Cr=Nr.next,Zr=Er.cond(ln,".dirty");An.forEach(function(Hr){if(Hr=dr(Hr),!(Hr in Sr.state)){var Qr,Tn;if(Hr in vn){Qr=vn[Hr],Tn=kn[Hr];var Rn=i(pn[Hr].length,function(Dn){return Zr.def(Qr,"[",Dn,"]")});Zr(Er.cond(Rn.map(function(Dn,Vn){return Dn+"!=="+Tn+"["+Vn+"]"}).join("||")).then(wn,".",Un[Hr],"(",Rn,");",Rn.map(function(Dn,Vn){return Tn+"["+Vn+"]="+Dn}).join(";"),";"))}else Qr=Zr.def(Cr,".",Hr),Rn=Er.cond(Qr,"!==",ln,".",Hr),Zr(Rn),Hr in Sn?Rn(Er.cond(Qr).then(wn,".enable(",Sn[Hr],");").else(wn,".disable(",Sn[Hr],");"),ln,".",Hr,"=",Qr,";"):Rn(wn,".",Un[Hr],"(",Qr,");",ln,".",Hr,"=",Qr,";")}}),Object.keys(Sr.state).length===0&&Zr(ln,".dirty=false;"),zr(Zr)}function nn(Er,zr,Sr,Nr){var wn=Er.shared,kn=Er.current,vn=wn.current,ln=wn.gl,Cr;oe(Object.keys(Sr)).forEach(function(Zr){var Hr=Sr[Zr];if(!Nr||Nr(Hr)){var Qr=Hr.append(Er,zr);if(Sn[Zr]){var Tn=Sn[Zr];q(Hr)?(Cr=Er.link(Qr,{stable:!0}),zr(Er.cond(Cr).then(ln,".enable(",Tn,");").else(ln,".disable(",Tn,");")),zr(vn,".",Zr,"=",Cr,";")):(zr(Er.cond(Qr).then(ln,".enable(",Tn,");").else(ln,".disable(",Tn,");")),zr(vn,".",Zr,"=",Qr,";"))}else if(A(Qr)){var Rn=kn[Zr];zr(ln,".",Un[Zr],"(",Qr,");",Qr.map(function(Dn,Vn){return Rn+"["+Vn+"]="+Dn}).join(";"),";")}else q(Hr)?(Cr=Er.link(Qr,{stable:!0}),zr(ln,".",Un[Zr],"(",Cr,");",vn,".",Zr,"=",Cr,";")):zr(ln,".",Un[Zr],"(",Qr,");",vn,".",Zr,"=",Qr,";")}})}function Pn(Er,zr){Tr&&(Er.instancing=zr.def(Er.shared.extensions,".angle_instanced_arrays"))}function Cn(Er,zr,Sr,Nr,wn){function kn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function vn(Vn){Rn=zr.def(),Vn(Rn,"=",kn(),";"),typeof wn=="string"?Vn(Hr,".count+=",wn,";"):Vn(Hr,".count++;"),$t&&(Nr?(Dn=zr.def(),Vn(Dn,"=",Tn,".getNumPendingQueries();")):Vn(Tn,".beginQuery(",Hr,");"))}function ln(Vn){Vn(Hr,".cpuTime+=",kn(),"-",Rn,";"),$t&&(Nr?Vn(Tn,".pushScopeStats(",Dn,",",Tn,".getNumPendingQueries(),",Hr,");"):Vn(Tn,".endQuery();"))}function Cr(Vn){var Nn=zr.def(Qr,".profile");zr(Qr,".profile=",Vn,";"),zr.exit(Qr,".profile=",Nn,";")}var Zr=Er.shared,Hr=Er.stats,Qr=Zr.current,Tn=Zr.timer;Sr=Sr.profile;var Rn,Dn;if(Sr){if(q(Sr)){Sr.enable?(vn(zr),ln(zr.exit),Cr("true")):Cr("false");return}Sr=Sr.append(Er,zr),Cr(Sr)}else Sr=zr.def(Qr,".profile");Zr=Er.block(),vn(Zr),zr("if(",Sr,"){",Zr,"}"),Er=Er.block(),ln(Er),zr.exit("if(",Sr,"){",Er,"}")}function Ar(Er,zr,Sr,Nr,wn){function kn(Cr){switch(Cr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function vn(Cr,Zr,Hr){function Qr(){zr("if(!",Vn,".buffer){",Rn,".enableVertexAttribArray(",Dn,");}");var ga=Hr.type,Pa;Pa=Hr.size?zr.def(Hr.size,"||",Zr):Zr,zr("if(",Vn,".type!==",ga,"||",Vn,".size!==",Pa,"||",oa.map(function(pi){return Vn+"."+pi+"!=="+Hr[pi]}).join("||"),"){",Rn,".bindBuffer(",34962,",",Nn,".buffer);",Rn,".vertexAttribPointer(",[Dn,Pa,ga,Hr.normalized,Hr.stride,Hr.offset],");",Vn,".type=",ga,";",Vn,".size=",Pa,";",oa.map(function(pi){return Vn+"."+pi+"="+Hr[pi]+";"}).join(""),"}"),Tr&&(ga=Hr.divisor,zr("if(",Vn,".divisor!==",ga,"){",Er.instancing,".vertexAttribDivisorANGLE(",[Dn,ga],");",Vn,".divisor=",ga,";}"))}function Tn(){zr("if(",Vn,".buffer){",Rn,".disableVertexAttribArray(",Dn,");",Vn,".buffer=null;","}if(",pt.map(function(ga,Pa){return Vn+"."+ga+"!=="+ma[Pa]}).join("||"),"){",Rn,".vertexAttrib4f(",Dn,",",ma,");",pt.map(function(ga,Pa){return Vn+"."+ga+"="+ma[Pa]+";"}).join(""),"}")}var Rn=ln.gl,Dn=zr.def(Cr,".location"),Vn=zr.def(ln.attributes,"[",Dn,"]");Cr=Hr.state;var Nn=Hr.buffer,ma=[Hr.x,Hr.y,Hr.z,Hr.w],oa=["buffer","normalized","offset","stride"];Cr===1?Qr():Cr===2?Tn():(zr("if(",Cr,"===",1,"){"),Qr(),zr("}else{"),Tn(),zr("}"))}var ln=Er.shared;Nr.forEach(function(Cr){var Zr=Cr.name,Hr=Sr.attributes[Zr],Qr;if(Hr){if(!wn(Hr))return;Qr=Hr.append(Er,zr)}else{if(!wn(Kt))return;var Tn=Er.scopeAttrib(Zr);Qr={},Object.keys(new ua).forEach(function(Rn){Qr[Rn]=zr.def(Tn,".",Rn)})}vn(Er.link(Cr),kn(Cr.info.type),Qr)})}function Pr(Er,zr,Sr,Nr,wn,kn){for(var vn=Er.shared,ln=vn.gl,Cr,Zr=0;Zr<Nr.length;++Zr){var Rn=Nr[Zr],Hr=Rn.name,Qr=Rn.info.type,Tn=Sr.uniforms[Hr],Rn=Er.link(Rn)+".location",Dn;if(Tn){if(!wn(Tn))continue;if(q(Tn)){if(Hr=Tn.value,Qr===35678||Qr===35680)Qr=Er.link(Hr._texture||Hr.color[0]._texture),zr(ln,".uniform1i(",Rn,",",Qr+".bind());"),zr.exit(Qr,".unbind();");else if(Qr===35674||Qr===35675||Qr===35676)Hr=Er.global.def("new Float32Array(["+Array.prototype.slice.call(Hr)+"])"),Tn=2,Qr===35675?Tn=3:Qr===35676&&(Tn=4),zr(ln,".uniformMatrix",Tn,"fv(",Rn,",false,",Hr,");");else{switch(Qr){case 5126:Cr="1f";break;case 35664:Cr="2f";break;case 35665:Cr="3f";break;case 35666:Cr="4f";break;case 35670:Cr="1i";break;case 5124:Cr="1i";break;case 35671:Cr="2i";break;case 35667:Cr="2i";break;case 35672:Cr="3i";break;case 35668:Cr="3i";break;case 35673:Cr="4i";break;case 35669:Cr="4i"}zr(ln,".uniform",Cr,"(",Rn,",",A(Hr)?Array.prototype.slice.call(Hr):Hr,");")}continue}else Dn=Tn.append(Er,zr)}else{if(!wn(Kt))continue;Dn=zr.def(vn.uniforms,"[",Zt.id(Hr),"]")}switch(Qr===35678?zr("if(",Dn,"&&",Dn,'._reglType==="framebuffer"){',Dn,"=",Dn,".color[0];","}"):Qr===35680&&zr("if(",Dn,"&&",Dn,'._reglType==="framebufferCube"){',Dn,"=",Dn,".color[0];","}"),Hr=1,Qr){case 35678:case 35680:Qr=zr.def(Dn,"._texture"),zr(ln,".uniform1i(",Rn,",",Qr,".bind());"),zr.exit(Qr,".unbind();");continue;case 5124:case 35670:Cr="1i";break;case 35667:case 35671:Cr="2i",Hr=2;break;case 35668:case 35672:Cr="3i",Hr=3;break;case 35669:case 35673:Cr="4i",Hr=4;break;case 5126:Cr="1f";break;case 35664:Cr="2f",Hr=2;break;case 35665:Cr="3f",Hr=3;break;case 35666:Cr="4f",Hr=4;break;case 35674:Cr="Matrix2fv";break;case 35675:Cr="Matrix3fv";break;case 35676:Cr="Matrix4fv"}if(Cr.charAt(0)==="M"){zr(ln,".uniform",Cr,"(",Rn,",");var Rn=Math.pow(Qr-35674+2,2),Vn=Er.global.def("new Float32Array(",Rn,")");Array.isArray(Dn)?zr("false,(",i(Rn,function(oa){return Vn+"["+oa+"]="+Dn[oa]}),",",Vn,")"):zr("false,(Array.isArray(",Dn,")||",Dn," instanceof Float32Array)?",Dn,":(",i(Rn,function(oa){return Vn+"["+oa+"]="+Dn+"["+oa+"]"}),",",Vn,")"),zr(");")}else{if(1<Hr){for(var Qr=[],Nn=[],Tn=0;Tn<Hr;++Tn)Array.isArray(Dn)?Nn.push(Dn[Tn]):Nn.push(zr.def(Dn+"["+Tn+"]")),kn&&Qr.push(zr.def());kn&&zr("if(!",Er.batchId,"||",Qr.map(function(ma,oa){return ma+"!=="+Nn[oa]}).join("||"),"){",Qr.map(function(ma,oa){return ma+"="+Nn[oa]+";"}).join("")),zr(ln,".uniform",Cr,"(",Rn,",",Nn.join(","),");")}else kn&&(Qr=zr.def(),zr("if(!",Er.batchId,"||",Qr,"!==",Dn,"){",Qr,"=",Dn,";")),zr(ln,".uniform",Cr,"(",Rn,",",Dn,");");kn&&zr("}")}}}function Wr(Er,zr,Sr,Nr){function wn(ga){var Pa=Hr[ga];return Pa?Pa.contextDep&&Nr.contextDynamic||Pa.propDep?Pa.append(Er,Sr):Pa.append(Er,zr):zr.def(Zr,".",ga)}function kn(){function ga(){Sr(Nn,".drawElementsInstancedANGLE(",[Tn,Dn,ma,Rn+"<<(("+ma+"-5121)>>1)",Vn],");")}function Pa(){Sr(Nn,".drawArraysInstancedANGLE(",[Tn,Rn,Dn,Vn],");")}Qr&&Qr!=="null"?oa?ga():(Sr("if(",Qr,"){"),ga(),Sr("}else{"),Pa(),Sr("}")):Pa()}function vn(){function ga(){Sr(Cr+".drawElements("+[Tn,Dn,ma,Rn+"<<(("+ma+"-5121)>>1)"]+");")}function Pa(){Sr(Cr+".drawArrays("+[Tn,Rn,Dn]+");")}Qr&&Qr!=="null"?oa?ga():(Sr("if(",Qr,"){"),ga(),Sr("}else{"),Pa(),Sr("}")):Pa()}var ln=Er.shared,Cr=ln.gl,Zr=ln.draw,Hr=Nr.draw,Qr=function(){var ga=Hr.elements,Pa=zr;return ga?((ga.contextDep&&Nr.contextDynamic||ga.propDep)&&(Pa=Sr),ga=ga.append(Er,Pa),Hr.elementsActive&&Pa("if("+ga+")"+Cr+".bindBuffer(34963,"+ga+".buffer.buffer);")):(ga=Pa.def(),Pa(ga,"=",Zr,".","elements",";","if(",ga,"){",Cr,".bindBuffer(",34963,",",ga,".buffer.buffer);}","else if(",ln.vao,".currentVAO){",ga,"=",Er.shared.elements+".getElements("+ln.vao,".currentVAO.elements);",qr?"":"if("+ga+")"+Cr+".bindBuffer(34963,"+ga+".buffer.buffer);","}")),ga}(),Tn=wn("primitive"),Rn=wn("offset"),Dn=function(){var ga=Hr.count,Pa=zr;return ga?((ga.contextDep&&Nr.contextDynamic||ga.propDep)&&(Pa=Sr),ga=ga.append(Er,Pa)):ga=Pa.def(Zr,".","count"),ga}();if(typeof Dn=="number"){if(Dn===0)return}else Sr("if(",Dn,"){"),Sr.exit("}");var Vn,Nn;Tr&&(Vn=wn("instances"),Nn=Er.instancing);var ma=Qr+".type",oa=Hr.elements&&q(Hr.elements)&&!Hr.vaoActive;Tr&&(typeof Vn!="number"||0<=Vn)?typeof Vn=="string"?(Sr("if(",Vn,">0){"),kn(),Sr("}else if(",Vn,"<0){"),vn(),Sr("}")):kn():vn()}function Vr(Er,zr,Sr,Nr,wn){return zr=zt(),wn=zr.proc("body",wn),Tr&&(zr.instancing=wn.def(zr.shared.extensions,".angle_instanced_arrays")),Er(zr,wn,Sr,Nr),zr.compile().body}function on(Er,zr,Sr,Nr){Pn(Er,zr),Sr.useVAO?Sr.drawVAO?zr(Er.shared.vao,".setVAO(",Sr.drawVAO.append(Er,zr),");"):zr(Er.shared.vao,".setVAO(",Er.shared.vao,".targetVAO);"):(zr(Er.shared.vao,".setVAO(null);"),Ar(Er,zr,Sr,Nr.attributes,function(){return!0})),Pr(Er,zr,Sr,Nr.uniforms,function(){return!0},!1),Wr(Er,zr,zr,Sr)}function yn(Er,zr){var Sr=Er.proc("draw",1);Pn(Er,Sr),Dr(Er,Sr,zr.context),_r(Er,Sr,zr.framebuffer),hn(Er,Sr,zr),nn(Er,Sr,zr.state),Cn(Er,Sr,zr,!1,!0);var Nr=zr.shader.progVar.append(Er,Sr);if(Sr(Er.shared.gl,".useProgram(",Nr,".program);"),zr.shader.program)on(Er,Sr,zr,zr.shader.program);else{Sr(Er.shared.vao,".setVAO(null);");var wn=Er.global.def("{}"),kn=Sr.def(Nr,".id"),vn=Sr.def(wn,"[",kn,"]");Sr(Er.cond(vn).then(vn,".call(this,a0);").else(vn,"=",wn,"[",kn,"]=",Er.link(function(ln){return Vr(on,Er,zr,ln,1)}),"(",Nr,");",vn,".call(this,a0);"))}0<Object.keys(zr.state).length&&Sr(Er.shared.current,".dirty=true;"),Er.shared.vao&&Sr(Er.shared.vao,".setVAO(null);")}function mn(Er,zr,Sr,Nr){function wn(){return!0}Er.batchId="a1",Pn(Er,zr),Ar(Er,zr,Sr,Nr.attributes,wn),Pr(Er,zr,Sr,Nr.uniforms,wn,!1),Wr(Er,zr,zr,Sr)}function Ln(Er,zr,Sr,Nr){function wn(Qr){return Qr.contextDep&&vn||Qr.propDep}function kn(Qr){return!wn(Qr)}Pn(Er,zr);var vn=Sr.contextDep,ln=zr.def(),Cr=zr.def();Er.shared.props=Cr,Er.batchId=ln;var Zr=Er.scope(),Hr=Er.scope();zr(Zr.entry,"for(",ln,"=0;",ln,"<","a1",";++",ln,"){",Cr,"=","a0","[",ln,"];",Hr,"}",Zr.exit),Sr.needsContext&&Dr(Er,Hr,Sr.context),Sr.needsFramebuffer&&_r(Er,Hr,Sr.framebuffer),nn(Er,Hr,Sr.state,wn),Sr.profile&&wn(Sr.profile)&&Cn(Er,Hr,Sr,!1,!0),Nr?(Sr.useVAO?Sr.drawVAO?wn(Sr.drawVAO)?Hr(Er.shared.vao,".setVAO(",Sr.drawVAO.append(Er,Hr),");"):Zr(Er.shared.vao,".setVAO(",Sr.drawVAO.append(Er,Zr),");"):Zr(Er.shared.vao,".setVAO(",Er.shared.vao,".targetVAO);"):(Zr(Er.shared.vao,".setVAO(null);"),Ar(Er,Zr,Sr,Nr.attributes,kn),Ar(Er,Hr,Sr,Nr.attributes,wn)),Pr(Er,Zr,Sr,Nr.uniforms,kn,!1),Pr(Er,Hr,Sr,Nr.uniforms,wn,!0),Wr(Er,Zr,Hr,Sr)):(zr=Er.global.def("{}"),Nr=Sr.shader.progVar.append(Er,Hr),Cr=Hr.def(Nr,".id"),Zr=Hr.def(zr,"[",Cr,"]"),Hr(Er.shared.gl,".useProgram(",Nr,".program);","if(!",Zr,"){",Zr,"=",zr,"[",Cr,"]=",Er.link(function(Qr){return Vr(mn,Er,Sr,Qr,2)}),"(",Nr,");}",Zr,".call(this,a0[",ln,"],",ln,");"))}function zn(Er,zr){function Sr(Zr){return Zr.contextDep&&wn||Zr.propDep}var Nr=Er.proc("batch",2);Er.batchId="0",Pn(Er,Nr);var wn=!1,kn=!0;Object.keys(zr.context).forEach(function(Zr){wn=wn||zr.context[Zr].propDep}),wn||(Dr(Er,Nr,zr.context),kn=!1);var vn=zr.framebuffer,ln=!1;if(vn?(vn.propDep?wn=ln=!0:vn.contextDep&&wn&&(ln=!0),ln||_r(Er,Nr,vn)):_r(Er,Nr,null),zr.state.viewport&&zr.state.viewport.propDep&&(wn=!0),hn(Er,Nr,zr),nn(Er,Nr,zr.state,function(Zr){return!Sr(Zr)}),zr.profile&&Sr(zr.profile)||Cn(Er,Nr,zr,!1,"a1"),zr.contextDep=wn,zr.needsContext=kn,zr.needsFramebuffer=ln,kn=zr.shader.progVar,kn.contextDep&&wn||kn.propDep)Ln(Er,Nr,zr,null);else if(kn=kn.append(Er,Nr),Nr(Er.shared.gl,".useProgram(",kn,".program);"),zr.shader.program)Ln(Er,Nr,zr,zr.shader.program);else{Nr(Er.shared.vao,".setVAO(null);");var vn=Er.global.def("{}"),ln=Nr.def(kn,".id"),Cr=Nr.def(vn,"[",ln,"]");Nr(Er.cond(Cr).then(Cr,".call(this,a0,a1);").else(Cr,"=",vn,"[",ln,"]=",Er.link(function(Qr){return Vr(Ln,Er,zr,Qr,2)}),"(",kn,");",Cr,".call(this,a0,a1);"))}0<Object.keys(zr.state).length&&Nr(Er.shared.current,".dirty=true;"),Er.shared.vao&&Nr(Er.shared.vao,".setVAO(null);")}function aa(Er,zr){function Sr(ln){var Cr=zr.shader[ln];Cr&&(Cr=Cr.append(Er,Nr),isNaN(Cr)?Nr.set(wn.shader,"."+ln,Cr):Nr.set(wn.shader,"."+ln,Er.link(Cr,{stable:!0})))}var Nr=Er.proc("scope",3);Er.batchId="a2";var wn=Er.shared,kn=wn.current;if(Dr(Er,Nr,zr.context),zr.framebuffer&&zr.framebuffer.append(Er,Nr),oe(Object.keys(zr.state)).forEach(function(ln){var Cr=zr.state[ln],Zr=Cr.append(Er,Nr);A(Zr)?Zr.forEach(function(Hr,Qr){isNaN(Hr)?Nr.set(Er.next[ln],"["+Qr+"]",Hr):Nr.set(Er.next[ln],"["+Qr+"]",Er.link(Hr,{stable:!0}))}):q(Cr)?Nr.set(wn.next,"."+ln,Er.link(Zr,{stable:!0})):Nr.set(wn.next,"."+ln,Zr)}),Cn(Er,Nr,zr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(ln){var Cr=zr.draw[ln];Cr&&(Cr=Cr.append(Er,Nr),isNaN(Cr)?Nr.set(wn.draw,"."+ln,Cr):Nr.set(wn.draw,"."+ln,Er.link(Cr),{stable:!0}))}),Object.keys(zr.uniforms).forEach(function(ln){var Cr=zr.uniforms[ln].append(Er,Nr);Array.isArray(Cr)&&(Cr="["+Cr.map(function(Zr){return isNaN(Zr)?Zr:Er.link(Zr,{stable:!0})})+"]"),Nr.set(wn.uniforms,"["+Er.link(Zt.id(ln),{stable:!0})+"]",Cr)}),Object.keys(zr.attributes).forEach(function(ln){var Cr=zr.attributes[ln].append(Er,Nr),Zr=Er.scopeAttrib(ln);Object.keys(new ua).forEach(function(Hr){Nr.set(Zr,"."+Hr,Cr[Hr])})}),zr.scopeVAO){var vn=zr.scopeVAO.append(Er,Nr);isNaN(vn)?Nr.set(wn.vao,".targetVAO",vn):Nr.set(wn.vao,".targetVAO",Er.link(vn,{stable:!0}))}Sr("vert"),Sr("frag"),0<Object.keys(zr.state).length&&(Nr(kn,".dirty=true;"),Nr.exit(kn,".dirty=true;")),Nr("a1(",Er.shared.context,",a0,",Er.batchId,");")}function ha(Er){if(typeof Er=="object"&&!A(Er)){for(var zr=Object.keys(Er),Sr=0;Sr<zr.length;++Sr)if(ye.isDynamic(Er[zr[Sr]]))return!0;return!1}}function pa(Er,zr,Sr){function Nr(Qr,Tn){vn.forEach(function(Rn){var Dn=wn[Rn];ye.isDynamic(Dn)&&(Dn=Qr.invoke(Tn,Dn),Tn(Hr,".",Rn,"=",Dn,";"))})}var wn=zr.static[Sr];if(wn&&ha(wn)){var kn=Er.global,vn=Object.keys(wn),ln=!1,Cr=!1,Zr=!1,Hr=Er.global.def("{}");vn.forEach(function(Qr){var Tn=wn[Qr];if(ye.isDynamic(Tn))typeof Tn=="function"&&(Tn=wn[Qr]=ye.unbox(Tn)),Qr=Q(Tn,null),ln=ln||Qr.thisDep,Zr=Zr||Qr.propDep,Cr=Cr||Qr.contextDep;else{switch(kn(Hr,".",Qr,"="),typeof Tn){case"number":kn(Tn);break;case"string":kn('"',Tn,'"');break;case"object":Array.isArray(Tn)&&kn("[",Tn.join(),"]");break;default:kn(Er.link(Tn))}kn(";")}}),zr.dynamic[Sr]=new ye.DynamicVariable(4,{thisDep:ln,contextDep:Cr,propDep:Zr,ref:Hr,append:Nr}),delete zr.static[Sr]}}var ua=It.Record,na={add:32774,subtract:32778,"reverse subtract":32779};Qt.ext_blend_minmax&&(na.min=32775,na.max=32776);var Tr=Qt.angle_instanced_arrays,an=Qt.webgl_draw_buffers,qr=Qt.oes_vertex_array_object,pn={dirty:!0,profile:cr.profile},jn={},An=[],Sn={},Un={};Ye("dither",3024),Ye("blend.enable",3042),je("blend.color","blendColor",[0,0,0,0]),je("blend.equation","blendEquationSeparate",[32774,32774]),je("blend.func","blendFuncSeparate",[1,0,1,0]),Ye("depth.enable",2929,!0),je("depth.func","depthFunc",513),je("depth.range","depthRange",[0,1]),je("depth.mask","depthMask",!0),je("colorMask","colorMask",[!0,!0,!0,!0]),Ye("cull.enable",2884),je("cull.face","cullFace",1029),je("frontFace","frontFace",2305),je("lineWidth","lineWidth",1),Ye("polygonOffset.enable",32823),je("polygonOffset.offset","polygonOffset",[0,0]),Ye("sample.alpha",32926),Ye("sample.enable",32928),je("sample.coverage","sampleCoverage",[1,!1]),Ye("stencil.enable",2960),je("stencil.mask","stencilMask",-1),je("stencil.func","stencilFunc",[519,0,-1]),je("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),je("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ye("scissor.enable",3089),je("scissor.box","scissor",[0,0,mt.drawingBufferWidth,mt.drawingBufferHeight]),je("viewport","viewport",[0,0,mt.drawingBufferWidth,mt.drawingBufferHeight]);var $n={gl:mt,context:Bt,strings:Zt,next:jn,current:pn,draw:Vt,elements:bt,buffer:sr,shader:Dt,attributes:It.state,vao:It,uniforms:Ct,framebuffer:Tt,extensions:Qt,timer:$t,isBufferArgs:X},ya={primTypes:at,compareFuncs:Xt,blendFuncs:Yt,blendEquations:na,stencilOps:St,glTypes:Be,orientationType:kt};an&&(ya.backBuffer=[1029],ya.drawBuffer=i(yr.maxDrawbuffers,function(Er){return Er===0?[0]:i(Er,function(zr){return 36064+zr})}));var _a=0;return{next:jn,current:pn,procs:function(){var Er=zt(),zr=Er.proc("poll"),Sr=Er.proc("refresh"),Nr=Er.block();zr(Nr),Sr(Nr);var Cr=Er.shared,wn=Cr.gl,kn=Cr.next,vn=Cr.current;Nr(vn,".dirty=false;"),_r(Er,zr),_r(Er,Sr,null,!0);var ln;Tr&&(ln=Er.link(Tr)),Qt.oes_vertex_array_object&&Sr(Er.link(Qt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Cr=Sr.def(Cr.attributes),Zr=Sr.def(0),Hr=Er.cond(Zr,".buffer");Hr.then(wn,".enableVertexAttribArray(i);",wn,".bindBuffer(",34962,",",Zr,".buffer.buffer);",wn,".vertexAttribPointer(i,",Zr,".size,",Zr,".type,",Zr,".normalized,",Zr,".stride,",Zr,".offset);").else(wn,".disableVertexAttribArray(i);",wn,".vertexAttrib4f(i,",Zr,".x,",Zr,".y,",Zr,".z,",Zr,".w);",Zr,".buffer=null;");var Qr=Er.link(yr.maxAttributes,{stable:!0});return Sr("for(var i=0;i<",Qr,";++i){",Zr,"=",Cr,"[i];",Hr,"}"),Tr&&Sr("for(var i=0;i<",Qr,";++i){",ln,".vertexAttribDivisorANGLE(i,",Cr,"[i].divisor);","}"),Sr(Er.shared.vao,".currentVAO=null;",Er.shared.vao,".setVAO(",Er.shared.vao,".targetVAO);"),Object.keys(Sn).forEach(function(Tn){var Rn=Sn[Tn],Dn=Nr.def(kn,".",Tn),Vn=Er.block();Vn("if(",Dn,"){",wn,".enable(",Rn,")}else{",wn,".disable(",Rn,")}",vn,".",Tn,"=",Dn,";"),Sr(Vn),zr("if(",Dn,"!==",vn,".",Tn,"){",Vn,"}")}),Object.keys(Un).forEach(function(Tn){var Rn=Un[Tn],Dn=pn[Tn],Vn,Nn,ma=Er.block();ma(wn,".",Rn,"("),A(Dn)?(Rn=Dn.length,Vn=Er.global.def(kn,".",Tn),Nn=Er.global.def(vn,".",Tn),ma(i(Rn,function(oa){return Vn+"["+oa+"]"}),");",i(Rn,function(oa){return Nn+"["+oa+"]="+Vn+"["+oa+"];"}).join("")),zr("if(",i(Rn,function(oa){return Vn+"["+oa+"]!=="+Nn+"["+oa+"]"}).join("||"),"){",ma,"}")):(Vn=Nr.def(kn,".",Tn),Nn=Nr.def(vn,".",Tn),ma(Vn,");",vn,".",Tn,"=",Vn,";"),zr("if(",Vn,"!==",Nn,"){",ma,"}")),Sr(ma)}),Er.compile()}(),compile:function(Er,zr,Sr,Nr,wn){var kn=zt();kn.stats=kn.link(wn),Object.keys(zr.static).forEach(function(ln){pa(kn,zr,ln)}),yt.forEach(function(ln){pa(kn,Er,ln)});var vn=Gr(Er,zr,Sr,Nr,kn);return vn.shader.program&&(vn.shader.program.attributes.sort(function(ln,Cr){return ln.name<Cr.name?-1:1}),vn.shader.program.uniforms.sort(function(ln,Cr){return ln.name<Cr.name?-1:1})),yn(kn,vn),aa(kn,vn),zn(kn,vn),ie(kn.compile(),{destroy:function(){vn.shader.program.destroy()}})}}}function le(mt,Zt){for(var Qt=0;Qt<mt.length;++Qt)if(mt[Qt]===Zt)return Qt;return-1}var ie=function(mt,Zt){for(var Qt=Object.keys(Zt),yr=0;yr<Qt.length;++yr)mt[Qt[yr]]=Zt[Qt[yr]];return mt},ce=0,ye={DynamicVariable:H,define:function(mt,Zt){return new H(mt,g(Zt+""))},isDynamic:function(mt){return typeof mt=="function"&&!mt._reglType||mt instanceof H},unbox:P,accessor:g},Ce={next:typeof requestAnimationFrame=="function"?function(mt){return requestAnimationFrame(mt)}:function(mt){return setTimeout(mt,16)},cancel:typeof cancelAnimationFrame=="function"?function(mt){return cancelAnimationFrame(mt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ke=u();ke.zero=u();var we=function(mt,Zt){var Qt=1;Zt.ext_texture_filter_anisotropic&&(Qt=mt.getParameter(34047));var yr=1,sr=1;Zt.webgl_draw_buffers&&(yr=mt.getParameter(34852),sr=mt.getParameter(36063));var bt=!!Zt.oes_texture_float;if(bt){bt=mt.createTexture(),mt.bindTexture(3553,bt),mt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=mt.createFramebuffer();if(mt.bindFramebuffer(36160,lt),mt.framebufferTexture2D(36160,36064,3553,bt,0),mt.bindTexture(3553,null),mt.checkFramebufferStatus(36160)!==36053)bt=!1;else{mt.viewport(0,0,1,1),mt.clearColor(1,0,0,1),mt.clear(16384);var Tt=ke.allocType(5126,4);mt.readPixels(0,0,1,1,6408,5126,Tt),mt.getError()?bt=!1:(mt.deleteFramebuffer(lt),mt.deleteTexture(bt),bt=Tt[0]===1),ke.freeType(Tt)}}return Tt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Tt=mt.createTexture(),lt=ke.allocType(5121,36),mt.activeTexture(33984),mt.bindTexture(34067,Tt),mt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),ke.freeType(lt),mt.bindTexture(34067,null),mt.deleteTexture(Tt),Tt=!mt.getError()),{colorBits:[mt.getParameter(3410),mt.getParameter(3411),mt.getParameter(3412),mt.getParameter(3413)],depthBits:mt.getParameter(3414),stencilBits:mt.getParameter(3415),subpixelBits:mt.getParameter(3408),extensions:Object.keys(Zt).filter(function(Ct){return!!Zt[Ct]}),maxAnisotropic:Qt,maxDrawbuffers:yr,maxColorAttachments:sr,pointSizeDims:mt.getParameter(33901),lineWidthDims:mt.getParameter(33902),maxViewportDims:mt.getParameter(3386),maxCombinedTextureUnits:mt.getParameter(35661),maxCubeMapSize:mt.getParameter(34076),maxRenderbufferSize:mt.getParameter(34024),maxTextureUnits:mt.getParameter(34930),maxTextureSize:mt.getParameter(3379),maxAttributes:mt.getParameter(34921),maxVertexUniforms:mt.getParameter(36347),maxVertexTextureUnits:mt.getParameter(35660),maxVaryingVectors:mt.getParameter(36348),maxFragmentUniforms:mt.getParameter(36349),glsl:mt.getParameter(35724),renderer:mt.getParameter(7937),vendor:mt.getParameter(7936),version:mt.getParameter(7938),readFloat:bt,npotTextureCube:Tt}},Ee=function(mt){return mt instanceof Uint8Array||mt instanceof Uint16Array||mt instanceof Uint32Array||mt instanceof Int8Array||mt instanceof Int16Array||mt instanceof Int32Array||mt instanceof Float32Array||mt instanceof Float64Array||mt instanceof Uint8ClampedArray},xe=function(mt){return Object.keys(mt).map(function(Zt){return mt[Zt]})},Pe={shape:function(mt){for(var Zt=[];mt.length;mt=mt[0])Zt.push(mt.length);return Zt},flatten:function(mt,Zt,Qt,yr){var sr=1;if(Zt.length)for(var bt=0;bt<Zt.length;++bt)sr*=Zt[bt];else sr=0;switch(Qt=yr||ke.allocType(Qt,sr),Zt.length){case 0:break;case 1:for(yr=Zt[0],Zt=0;Zt<yr;++Zt)Qt[Zt]=mt[Zt];break;case 2:for(yr=Zt[0],Zt=Zt[1],bt=sr=0;bt<yr;++bt)for(var lt=mt[bt],Tt=0;Tt<Zt;++Tt)Qt[sr++]=lt[Tt];break;case 3:l(mt,Zt[0],Zt[1],Zt[2],Qt,0);break;default:y(mt,Zt,0,Qt,0)}return Qt}},Ue={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Be={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ne={dynamic:35048,stream:35040,static:35044},Xe=Pe.flatten,ut=Pe.shape,dt=[];dt[5120]=1,dt[5122]=2,dt[5124]=4,dt[5121]=1,dt[5123]=2,dt[5125]=4,dt[5126]=4;var at={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},We=new Float32Array(1),rt=new Uint32Array(We.buffer),st=[9984,9986,9985,9987],ht=[0,6409,6410,6407,6408],vt={};vt[6409]=vt[6406]=vt[6402]=1,vt[34041]=vt[6410]=2,vt[6407]=vt[35904]=3,vt[6408]=vt[35906]=4;var At=C("HTMLCanvasElement"),et=C("OffscreenCanvas"),_e=C("CanvasRenderingContext2D"),Ve=C("ImageBitmap"),Ze=C("HTMLImageElement"),He=C("HTMLVideoElement"),Ie=Object.keys(Ue).concat([At,et,_e,Ve,Ze,He]),be=[];be[5121]=1,be[5126]=4,be[36193]=2,be[5123]=2,be[5125]=4;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[34041]=4,me[33776]=.5,me[33777]=.5,me[33778]=1,me[33779]=1,me[35986]=.5,me[35987]=1,me[34798]=1,me[35840]=.5,me[35841]=.25,me[35842]=.5,me[35843]=.25,me[36196]=.5;var Me=[];Me[32854]=2,Me[32855]=2,Me[36194]=2,Me[33189]=2,Me[36168]=1,Me[34041]=4,Me[35907]=4,Me[34836]=16,Me[34842]=8,Me[34843]=6;var Te=function(mt,Zt,Qt,yr,sr){function bt(Vt){this.id=It++,this.refCount=1,this.renderbuffer=Vt,this.format=32854,this.height=this.width=0,sr.profile&&(this.stats={size:0})}function lt(Vt){var Bt=Vt.renderbuffer;mt.bindRenderbuffer(36161,null),mt.deleteRenderbuffer(Bt),Vt.renderbuffer=null,Vt.refCount=0,delete Dt[Vt.id],yr.renderbufferCount--}var Tt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Zt.ext_srgb&&(Tt.srgba=35907),Zt.ext_color_buffer_half_float&&(Tt.rgba16f=34842,Tt.rgb16f=34843),Zt.webgl_color_buffer_float&&(Tt.rgba32f=34836);var Ct=[];Object.keys(Tt).forEach(function(Vt){Ct[Tt[Vt]]=Vt});var It=0,Dt={};return bt.prototype.decRef=function(){0>=--this.refCount&&lt(this)},sr.profile&&(yr.getTotalRenderbufferSize=function(){var Vt=0;return Object.keys(Dt).forEach(function(Bt){Vt+=Dt[Bt].stats.size}),Vt}),{create:function(Vt,Bt){function $t(cr,dr){var Ye=0,je=0,zt=32854;if(typeof cr=="object"&&cr?("shape"in cr?(je=cr.shape,Ye=je[0]|0,je=je[1]|0):("radius"in cr&&(Ye=je=cr.radius|0),"width"in cr&&(Ye=cr.width|0),"height"in cr&&(je=cr.height|0)),"format"in cr&&(zt=Tt[cr.format])):typeof cr=="number"?(Ye=cr|0,je=typeof dr=="number"?dr|0:Ye):cr||(Ye=je=1),Ye!==fr.width||je!==fr.height||zt!==fr.format)return $t.width=fr.width=Ye,$t.height=fr.height=je,fr.format=zt,mt.bindRenderbuffer(36161,fr.renderbuffer),mt.renderbufferStorage(36161,zt,Ye,je),sr.profile&&(fr.stats.size=Me[fr.format]*fr.width*fr.height),$t.format=Ct[fr.format],$t}var fr=new bt(mt.createRenderbuffer());return Dt[fr.id]=fr,yr.renderbufferCount++,$t(Vt,Bt),$t.resize=function(cr,dr){var Ye=cr|0,je=dr|0||Ye;return Ye===fr.width&&je===fr.height||($t.width=fr.width=Ye,$t.height=fr.height=je,mt.bindRenderbuffer(36161,fr.renderbuffer),mt.renderbufferStorage(36161,fr.format,Ye,je),sr.profile&&(fr.stats.size=Me[fr.format]*fr.width*fr.height)),$t},$t._reglType="renderbuffer",$t._renderbuffer=fr,sr.profile&&($t.stats=fr.stats),$t.destroy=function(){fr.decRef()},$t},clear:function(){xe(Dt).forEach(lt)},restore:function(){xe(Dt).forEach(function(Vt){Vt.renderbuffer=mt.createRenderbuffer(),mt.bindRenderbuffer(36161,Vt.renderbuffer),mt.renderbufferStorage(36161,Vt.format,Vt.width,Vt.height)}),mt.bindRenderbuffer(36161,null)}}},Oe=[];Oe[6408]=4,Oe[6407]=3;var Ke=[];Ke[5121]=1,Ke[5126]=4,Ke[36193]=2;var nt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],pt=["x","y","z","w"],yt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Yt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Xt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},St={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},kt={cw:2304,ccw:2305},Kt=new Y(!1,!1,!1,function(){}),mr=function(mt,Zt){function Qt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yr(Dt,Vt,Bt){var $t=lt.pop()||new Qt;$t.startQueryIndex=Dt,$t.endQueryIndex=Vt,$t.sum=0,$t.stats=Bt,Tt.push($t)}if(!Zt.ext_disjoint_timer_query)return null;var sr=[],bt=[],lt=[],Tt=[],Ct=[],It=[];return{beginQuery:function(Dt){var Vt=sr.pop()||Zt.ext_disjoint_timer_query.createQueryEXT();Zt.ext_disjoint_timer_query.beginQueryEXT(35007,Vt),bt.push(Vt),yr(bt.length-1,bt.length,Dt)},endQuery:function(){Zt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yr,update:function(){var Dt,Vt;if(Dt=bt.length,Dt!==0){It.length=Math.max(It.length,Dt+1),Ct.length=Math.max(Ct.length,Dt+1),Ct[0]=0;var Bt=It[0]=0;for(Vt=Dt=0;Vt<bt.length;++Vt){var $t=bt[Vt];Zt.ext_disjoint_timer_query.getQueryObjectEXT($t,34919)?(Bt+=Zt.ext_disjoint_timer_query.getQueryObjectEXT($t,34918),sr.push($t)):bt[Dt++]=$t,Ct[Vt+1]=Bt,It[Vt+1]=Dt}for(bt.length=Dt,Vt=Dt=0;Vt<Tt.length;++Vt){var Bt=Tt[Vt],fr=Bt.startQueryIndex,$t=Bt.endQueryIndex;Bt.sum+=Ct[$t]-Ct[fr],fr=It[fr],$t=It[$t],$t===fr?(Bt.stats.gpuTime+=Bt.sum/1e6,lt.push(Bt)):(Bt.startQueryIndex=fr,Bt.endQueryIndex=$t,Tt[Dt++]=Bt)}Tt.length=Dt}},getNumPendingQueries:function(){return bt.length},clear:function(){sr.push.apply(sr,bt);for(var Dt=0;Dt<sr.length;Dt++)Zt.ext_disjoint_timer_query.deleteQueryEXT(sr[Dt]);bt.length=0,sr.length=0},restore:function(){bt.length=0,sr.length=0}}};return function(mt){function Zt(){if(Cn.length===0)zt&&zt.update(),Vr=null;else{Vr=Ce.next(Zt),Dt();for(var yn=Cn.length-1;0<=yn;--yn){var mn=Cn[yn];mn&&mn(tr,null,0)}$t.flush(),zt&&zt.update()}}function Qt(){!Vr&&0<Cn.length&&(Vr=Ce.next(Zt))}function yr(){Vr&&(Ce.cancel(Zt),Vr=null)}function sr(yn){yn.preventDefault(),yr(),Ar.forEach(function(mn){mn()})}function bt(yn){$t.getError(),cr.restore(),br.restore(),Nt.restore(),vr.restore(),Gr.restore(),Dr.restore(),gr.restore(),zt&&zt.restore(),_r.procs.refresh(),Qt(),Pr.forEach(function(mn){mn()})}function lt(yn){function mn(pn,jn){var An={},Sn={};return Object.keys(pn).forEach(function(Un){var $n=pn[Un];if(ye.isDynamic($n))Sn[Un]=ye.unbox($n,Un);else{if(jn&&Array.isArray($n)){for(var ya=0;ya<$n.length;++ya)if(ye.isDynamic($n[ya])){Sn[Un]=ye.unbox($n,Un);return}}An[Un]=$n}}),{dynamic:Sn,static:An}}function Ln(pn){for(;qr.length<pn;)qr.push(null);return qr}var zn=mn(yn.context||{},!0),aa=mn(yn.uniforms||{},!0),ha=mn(yn.attributes||{},!1);yn=mn(function(pn){function jn(Sn){if(Sn in An){var Un=An[Sn];delete An[Sn],Object.keys(Un).forEach(function($n){An[Sn+"."+$n]=Un[$n]})}}var An=ie({},pn);return delete An.uniforms,delete An.attributes,delete An.context,delete An.vao,"stencil"in An&&An.stencil.op&&(An.stencil.opBack=An.stencil.opFront=An.stencil.op,delete An.stencil.op),jn("blend"),jn("depth"),jn("cull"),jn("stencil"),jn("polygonOffset"),jn("scissor"),jn("sample"),"vao"in pn&&(An.vao=pn.vao),An}(yn),!1);var pa={gpuTime:0,cpuTime:0,count:0},ua=_r.compile(yn,ha,aa,zn,pa),na=ua.draw,Tr=ua.batch,an=ua.scope,qr=[];return ie(function(pn,jn){var An;if(typeof pn=="function")return an.call(this,null,pn,0);if(typeof jn=="function")if(typeof pn=="number")for(An=0;An<pn;++An)an.call(this,null,jn,An);else if(Array.isArray(pn))for(An=0;An<pn.length;++An)an.call(this,pn[An],jn,An);else return an.call(this,pn,jn,0);else if(typeof pn=="number"){if(0<pn)return Tr.call(this,Ln(pn|0),pn|0)}else if(Array.isArray(pn)){if(pn.length)return Tr.call(this,pn,pn.length)}else return na.call(this,pn)},{stats:pa,destroy:function(){ua.destroy()}})}function Tt(yn,mn){var Ln=0;_r.procs.poll();var zn=mn.color;zn&&($t.clearColor(+zn[0]||0,+zn[1]||0,+zn[2]||0,+zn[3]||0),Ln|=16384),"depth"in mn&&($t.clearDepth(+mn.depth),Ln|=256),"stencil"in mn&&($t.clearStencil(mn.stencil|0),Ln|=1024),$t.clear(Ln)}function Ct(yn){return Cn.push(yn),Qt(),{cancel:function(){function mn(){var zn=le(Cn,mn);Cn[zn]=Cn[Cn.length-1],--Cn.length,0>=Cn.length&&yr()}var Ln=le(Cn,yn);Cn[Ln]=mn}}}function It(){var yn=nn.viewport,mn=nn.scissor_box;yn[0]=yn[1]=mn[0]=mn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=yn[2]=mn[2]=$t.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=yn[3]=mn[3]=$t.drawingBufferHeight}function Dt(){tr.tick+=1,tr.time=Bt(),It(),_r.procs.poll()}function Vt(){vr.refresh(),It(),_r.procs.refresh(),zt&&zt.update()}function Bt(){return(Ae()-Ft)/1e3}if(mt=r(mt),!mt)return null;var $t=mt.gl,fr=$t.getContextAttributes();$t.isContextLost();var cr=t($t,mt);if(!cr)return null;var hn=a(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ye=mt.cachedCode||{},je=cr.extensions,zt=mr($t,je),Ft=Ae(),ur=$t.drawingBufferWidth,Jt=$t.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:ur,viewportHeight:Jt,framebufferWidth:ur,framebufferHeight:Jt,drawingBufferWidth:ur,drawingBufferHeight:Jt,pixelRatio:mt.pixelRatio},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},nr=we($t,je),Nt=o($t,dr,mt,function(yn){return gr.destroyBuffer(yn)}),hr=d($t,je,Nt,dr),gr=F($t,je,nr,dr,Nt,hr,ur),br=O($t,hn,dr,mt),vr=k($t,je,nr,function(){_r.procs.poll()},tr,dr,mt),Gr=Te($t,je,nr,dr,mt),Dr=_($t,je,nr,vr,Gr,dr),_r=K($t,hn,je,nr,Nt,hr,vr,Dr,{},gr,br,ur,tr,zt,Ye,mt),hn=N($t,Dr,_r.procs.poll,tr),nn=_r.next,Pn=$t.canvas,Cn=[],Ar=[],Pr=[],Wr=[mt.onDestroy],Vr=null;Pn&&(Pn.addEventListener("webglcontextlost",sr,!1),Pn.addEventListener("webglcontextrestored",bt,!1));var on=Dr.setFBO=lt({framebuffer:ye.define.call(null,1,"framebuffer")});return Vt(),fr=ie(lt,{clear:function(yn){if("framebuffer"in yn)if(yn.framebuffer&&yn.framebuffer_reglType==="framebufferCube")for(var mn=0;6>mn;++mn)on(ie({framebuffer:yn.framebuffer.faces[mn]},yn),Tt);else on(yn,Tt);else Tt(null,yn)},prop:ye.define.bind(null,1),context:ye.define.bind(null,2),this:ye.define.bind(null,3),draw:lt({}),buffer:function(yn){return Nt.create(yn,34962,!1,!1)},elements:function(yn){return hr.create(yn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Gr.create,framebuffer:Dr.create,framebufferCube:Dr.createCube,vao:gr.createVAO,attributes:fr,frame:Ct,on:function(yn,mn){var Ln;switch(yn){case"frame":return Ct(mn);case"lost":Ln=Ar;break;case"restore":Ln=Pr;break;case"destroy":Ln=Wr}return Ln.push(mn),{cancel:function(){for(var zn=0;zn<Ln.length;++zn)if(Ln[zn]===mn){Ln[zn]=Ln[Ln.length-1],Ln.pop();break}}}},limits:nr,hasExtension:function(yn){return 0<=nr.extensions.indexOf(yn.toLowerCase())},read:hn,destroy:function(){Cn.length=0,yr(),Pn&&(Pn.removeEventListener("webglcontextlost",sr),Pn.removeEventListener("webglcontextrestored",bt)),br.clear(),Dr.clear(),Gr.clear(),gr.clear(),vr.clear(),hr.clear(),Nt.clear(),zt&&zt.clear(),Wr.forEach(function(yn){yn()})},_gl:$t,_refresh:Vt,poll:function(){Dt(),zt&&zt.update()},now:Bt,stats:dr,getCachedCode:function(){return Ye},preloadCachedCode:function(yn){Object.entries(yn).forEach(function(mn){Ye[mn[0]]=mn[1]})}}),mt.onDone(null,fr),fr}})},30456:function(j,H,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(33576),P=g.Buffer;function a(M,v){for(var p in M)v[p]=M[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?j.exports=g:(a(g,H),H.Buffer=x);function x(M,v,p){return P(M,v,p)}x.prototype=Object.create(P.prototype),a(P,x),x.from=function(M,v,p){if(typeof M=="number")throw new TypeError("Argument must not be a number");return P(M,v,p)},x.alloc=function(M,v,p){if(typeof M!="number")throw new TypeError("Argument must be a number");var r=P(M);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},x.allocUnsafe=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return P(M)},x.allocUnsafeSlow=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(M)}},14500:function(j,H,e){var g=e(53664),P=e(64348),a=e(39640)(),x=e(2304),M=g("%TypeError%"),v=g("%Math.floor%");j.exports=function(r,t){if(typeof r!="function")throw new M("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new M("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in r&&x){var f=x(r,"length");f&&!f.configurable&&(n=!1),f&&!f.writable&&(u=!1)}return(n||u||!i)&&(a?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(j,H,e){j.exports=a;var g=e(61252).EventEmitter,P=e(6768);P(a,g),a.Readable=e(12348),a.Writable=e(11288),a.Duplex=e(15316),a.Transform=e(22477),a.PassThrough=e(27136),a.finished=e(15932),a.pipeline=e(38180),a.Stream=a;function a(){g.call(this)}a.prototype.pipe=function(x,M){var v=this;function p(l){x.writable&&x.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}x.on("drain",r),!x._isStdio&&(!M||M.end!==!1)&&(v.on("end",i),v.on("close",n));var t=!1;function i(){t||(t=!0,x.end())}function n(){t||(t=!0,typeof x.destroy=="function"&&x.destroy())}function u(l){if(f(),g.listenerCount(this,"error")===0)throw l}v.on("error",u),x.on("error",u);function f(){v.removeListener("data",p),x.removeListener("drain",r),v.removeListener("end",i),v.removeListener("close",n),v.removeListener("error",u),x.removeListener("error",u),v.removeListener("end",f),v.removeListener("close",f),x.removeListener("close",f)}return v.on("end",f),v.on("close",f),x.on("close",f),x.emit("pipe",v),x}},92784:function(j){function H(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function g(v,p,r){r||(r=Error);function t(n,u,f){return typeof p=="string"?p:p(n,u,f)}var i=function(n){H(u,n);function u(f,l,y){return n.call(this,t(f,l,y))||this}return u}(r);i.prototype.name=r.name,i.prototype.code=v,e[v]=i}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function a(v,p,r){return v.substr(!r||r<0?0:+r,p.length)===p}function x(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function M(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&a(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var i;if(x(v," argument"))i="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=M(v,".")?"property":"argument";i='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),j.exports.i=e},15316:function(j,H,e){var g=e(4168),P=Object.keys||function(n){var u=[];for(var f in n)u.push(f);return u};j.exports=r;var a=e(12348),x=e(11288);e(6768)(r,a);for(var M=P(x.prototype),v=0;v<M.length;v++){var p=M[v];r.prototype[p]||(r.prototype[p]=x.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);a.call(this,n),x.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||g.nextTick(i,this)}function i(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},27136:function(j,H,e){j.exports=P;var g=e(22477);e(6768)(P,g);function P(a){if(!(this instanceof P))return new P(a);g.call(this,a)}P.prototype._transform=function(a,x,M){M(null,a)}},12348:function(j,H,e){var g=e(4168);j.exports=s;var P;s.ReadableState=b,e(61252).EventEmitter;var a=function(K,le){return K.listeners(le).length},x=e(4776),M=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p(Q){return M.from(Q)}function r(Q){return M.isBuffer(Q)||Q instanceof v}var t=e(19768),i;t&&t.debuglog?i=t.debuglog("stream"):i=function(){};var n=e(47264),u=e(55324),f=e(24888),l=f.getHighWaterMark,y=e(92784).i,h=y.ERR_INVALID_ARG_TYPE,S=y.ERR_STREAM_PUSH_AFTER_EOF,c=y.ERR_METHOD_NOT_IMPLEMENTED,o=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,w,A;e(6768)(s,x);var C=u.errorOrDestroy,m=["error","close","destroy","pause","resume"];function E(Q,K,le){if(typeof Q.prependListener=="function")return Q.prependListener(K,le);!Q._events||!Q._events[K]?Q.on(K,le):Array.isArray(Q._events[K])?Q._events[K].unshift(le):Q._events[K]=[le,Q._events[K]]}function b(Q,K,le){P=P||e(15316),Q=Q||{},typeof le!="boolean"&&(le=K instanceof P),this.objectMode=!!Q.objectMode,le&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=l(this,Q,"readableHighWaterMark",le),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(d||(d=e(86032).o),this.decoder=new d(Q.encoding),this.encoding=Q.encoding)}function s(Q){if(P=P||e(15316),!(this instanceof s))return new s(Q);var K=this instanceof P;this._readableState=new b(Q,this,K),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),x.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),s.prototype.destroy=u.destroy,s.prototype._undestroy=u.undestroy,s.prototype._destroy=function(Q,K){K(Q)},s.prototype.push=function(Q,K){var le=this._readableState,ie;return le.objectMode?ie=!0:typeof Q=="string"&&(K=K||le.defaultEncoding,K!==le.encoding&&(Q=M.from(Q,K),K=""),ie=!0),L(this,Q,K,!1,ie)},s.prototype.unshift=function(Q){return L(this,Q,null,!0,!1)};function L(Q,K,le,ie,ce){i("readableAddChunk",K);var ye=Q._readableState;if(K===null)ye.reading=!1,O(Q,ye);else{var Ce;if(ce||(Ce=k(ye,K)),Ce)C(Q,Ce);else if(ye.objectMode||K&&K.length>0)if(typeof K!="string"&&!ye.objectMode&&Object.getPrototypeOf(K)!==M.prototype&&(K=p(K)),ie)ye.endEmitted?C(Q,new o):T(Q,ye,K,!0);else if(ye.ended)C(Q,new S);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!le?(K=ye.decoder.write(K),ye.objectMode||K.length!==0?T(Q,ye,K,!1):V(Q,ye)):T(Q,ye,K,!1)}else ie||(ye.reading=!1,V(Q,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function T(Q,K,le,ie){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,Q.emit("data",le)):(K.length+=K.objectMode?1:le.length,ie?K.buffer.unshift(le):K.buffer.push(le),K.needReadable&&N(Q)),V(Q,K)}function k(Q,K){var le;return!r(K)&&typeof K!="string"&&K!==void 0&&!Q.objectMode&&(le=new h("chunk",["string","Buffer","Uint8Array"],K)),le}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(Q){d||(d=e(86032).o);var K=new d(Q);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ie="";le!==null;)ie+=K.write(le.data),le=le.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var _=1073741824;function B(Q){return Q>=_?Q=_:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function F(Q,K){return Q<=0||K.length===0&&K.ended?0:K.objectMode?1:Q!==Q?K.flowing&&K.length?K.buffer.head.data.length:K.length:(Q>K.highWaterMark&&(K.highWaterMark=B(Q)),Q<=K.length?Q:K.ended?K.length:(K.needReadable=!0,0))}s.prototype.read=function(Q){i("read",Q),Q=parseInt(Q,10);var K=this._readableState,le=Q;if(Q!==0&&(K.emittedReadable=!1),Q===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return i("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Y(this):N(this),null;if(Q=F(Q,K),Q===0&&K.ended)return K.length===0&&Y(this),null;var ie=K.needReadable;i("need readable",ie),(K.length===0||K.length-Q<K.highWaterMark)&&(ie=!0,i("length less than watermark",ie)),K.ended||K.reading?(ie=!1,i("reading or ended",ie)):ie&&(i("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(Q=F(le,K)));var ce;return Q>0?ce=oe(Q,K):ce=null,ce===null?(K.needReadable=K.length<=K.highWaterMark,Q=0):(K.length-=Q,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),le!==Q&&K.ended&&Y(this)),ce!==null&&this.emit("data",ce),ce};function O(Q,K){if(i("onEofChunk"),!K.ended){if(K.decoder){var le=K.decoder.end();le&&le.length&&(K.buffer.push(le),K.length+=K.objectMode?1:le.length)}K.ended=!0,K.sync?N(Q):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,z(Q)))}}function N(Q){var K=Q._readableState;i("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(i("emitReadable",K.flowing),K.emittedReadable=!0,g.nextTick(z,Q))}function z(Q){var K=Q._readableState;i("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(Q.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,X(Q)}function V(Q,K){K.readingMore||(K.readingMore=!0,g.nextTick(W,Q,K))}function W(Q,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var le=K.length;if(i("maybeReadMore read 0"),Q.read(0),le===K.length)break}K.readingMore=!1}s.prototype._read=function(Q){C(this,new c("_read()"))},s.prototype.pipe=function(Q,K){var le=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=Q;break;case 1:ie.pipes=[ie.pipes,Q];break;default:ie.pipes.push(Q);break}ie.pipesCount+=1,i("pipe count=%d opts=%j",ie.pipesCount,K);var ce=(!K||K.end!==!1)&&Q!==g.stdout&&Q!==g.stderr,ye=ce?Ae:Ne;ie.endEmitted?g.nextTick(ye):le.once("end",ye),Q.on("unpipe",Ce);function Ce(Xe,ut){i("onunpipe"),Xe===le&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,Ee())}function Ae(){i("onend"),Q.end()}var ke=$(le);Q.on("drain",ke);var we=!1;function Ee(){i("cleanup"),Q.removeListener("close",Ue),Q.removeListener("finish",Be),Q.removeListener("drain",ke),Q.removeListener("error",Pe),Q.removeListener("unpipe",Ce),le.removeListener("end",Ae),le.removeListener("end",Ne),le.removeListener("data",xe),we=!0,ie.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&ke()}le.on("data",xe);function xe(Xe){i("ondata");var ut=Q.write(Xe);i("dest.write",ut),ut===!1&&((ie.pipesCount===1&&ie.pipes===Q||ie.pipesCount>1&&se(ie.pipes,Q)!==-1)&&!we&&(i("false write response, pause",ie.awaitDrain),ie.awaitDrain++),le.pause())}function Pe(Xe){i("onerror",Xe),Ne(),Q.removeListener("error",Pe),a(Q,"error")===0&&C(Q,Xe)}E(Q,"error",Pe);function Ue(){Q.removeListener("finish",Be),Ne()}Q.once("close",Ue);function Be(){i("onfinish"),Q.removeListener("close",Ue),Ne()}Q.once("finish",Be);function Ne(){i("unpipe"),le.unpipe(Q)}return Q.emit("pipe",le),ie.flowing||(i("pipe resume"),le.resume()),Q};function $(Q){return function(){var le=Q._readableState;i("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&a(Q,"data")&&(le.flowing=!0,X(Q))}}s.prototype.unpipe=function(Q){var K=this._readableState,le={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return Q&&Q!==K.pipes?this:(Q||(Q=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,Q&&Q.emit("unpipe",this,le),this);if(!Q){var ie=K.pipes,ce=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var ye=0;ye<ce;ye++)ie[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ce=se(K.pipes,Q);return Ce===-1?this:(K.pipes.splice(Ce,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),Q.emit("unpipe",this,le),this)},s.prototype.on=function(Q,K){var le=x.prototype.on.call(this,Q,K),ie=this._readableState;return Q==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):Q==="readable"&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,i("on readable",ie.length,ie.reading),ie.length?N(this):ie.reading||g.nextTick(ne,this)),le},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(Q,K){var le=x.prototype.removeListener.call(this,Q,K);return Q==="readable"&&g.nextTick(re,this),le},s.prototype.removeAllListeners=function(Q){var K=x.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&g.nextTick(re,this),K};function re(Q){var K=Q._readableState;K.readableListening=Q.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function ne(Q){i("readable nexttick read 0"),Q.read(0)}s.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(i("resume"),Q.flowing=!Q.readableListening,ue(this,Q)),Q.paused=!1,this};function ue(Q,K){K.resumeScheduled||(K.resumeScheduled=!0,g.nextTick(J,Q,K))}function J(Q,K){i("resume",K.reading),K.reading||Q.read(0),K.resumeScheduled=!1,Q.emit("resume"),X(Q),K.flowing&&!K.reading&&Q.read(0)}s.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(Q){var K=Q._readableState;for(i("flow",K.flowing);K.flowing&&Q.read()!==null;);}s.prototype.wrap=function(Q){var K=this,le=this._readableState,ie=!1;Q.on("end",function(){if(i("wrapped end"),le.decoder&&!le.ended){var Ce=le.decoder.end();Ce&&Ce.length&&K.push(Ce)}K.push(null)}),Q.on("data",function(Ce){if(i("wrapped data"),le.decoder&&(Ce=le.decoder.write(Ce)),!(le.objectMode&&Ce==null)&&!(!le.objectMode&&(!Ce||!Ce.length))){var Ae=K.push(Ce);Ae||(ie=!0,Q.pause())}});for(var ce in Q)this[ce]===void 0&&typeof Q[ce]=="function"&&(this[ce]=function(Ae){return function(){return Q[Ae].apply(Q,arguments)}}(ce));for(var ye=0;ye<m.length;ye++)Q.on(m[ye],this.emit.bind(this,m[ye]));return this._read=function(Ce){i("wrapped _read",Ce),ie&&(ie=!1,Q.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=e(60328)),w(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),s._fromList=oe,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function oe(Q,K){if(K.length===0)return null;var le;return K.objectMode?le=K.buffer.shift():!Q||Q>=K.length?(K.decoder?le=K.buffer.join(""):K.buffer.length===1?le=K.buffer.first():le=K.buffer.concat(K.length),K.buffer.clear()):le=K.buffer.consume(Q,K.decoder),le}function Y(Q){var K=Q._readableState;i("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,g.nextTick(q,K,Q))}function q(Q,K){if(i("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,K.readable=!1,K.emit("end"),Q.autoDestroy)){var le=K._writableState;(!le||le.autoDestroy&&le.finished)&&K.destroy()}}typeof Symbol=="function"&&(s.from=function(Q,K){return A===void 0&&(A=e(90555)),A(s,Q,K)});function se(Q,K){for(var le=0,ie=Q.length;le<ie;le++)if(Q[le]===K)return le;return-1}},22477:function(j,H,e){j.exports=r;var g=e(92784).i,P=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,u){var f=this._transformState;f.transforming=!1;var l=f.writecb;if(l===null)return this.emit("error",new a);f.writechunk=null,f.writecb=null,u!=null&&this.push(u),l(n);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(u,f){i(n,u,f)}):i(this,null,null)}r.prototype.push=function(n,u){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,u)},r.prototype._transform=function(n,u,f){f(new P("_transform()"))},r.prototype._write=function(n,u,f){var l=this._transformState;if(l.writecb=f,l.writechunk=n,l.writeencoding=u,!l.transforming){var y=this._readableState;(l.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},r.prototype._read=function(n){var u=this._transformState;u.writechunk!==null&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},r.prototype._destroy=function(n,u){v.prototype._destroy.call(this,n,function(f){u(f)})};function i(n,u,f){if(u)return n.emit("error",u);if(f!=null&&n.push(f),n._writableState.length)throw new M;if(n._transformState.transforming)throw new x;return n.push(null)}},11288:function(j,H,e){var g=e(4168);j.exports=b;function P(X){var oe=this;this.next=null,this.entry=null,this.finish=function(){J(oe,X)}}var a;b.WritableState=m;var x={deprecate:e(96656)},M=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(X){return v.from(X)}function t(X){return v.isBuffer(X)||X instanceof p}var i=e(55324),n=e(24888),u=n.getHighWaterMark,f=e(92784).i,l=f.ERR_INVALID_ARG_TYPE,y=f.ERR_METHOD_NOT_IMPLEMENTED,h=f.ERR_MULTIPLE_CALLBACK,S=f.ERR_STREAM_CANNOT_PIPE,c=f.ERR_STREAM_DESTROYED,o=f.ERR_STREAM_NULL_VALUES,d=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,A=i.errorOrDestroy;e(6768)(b,M);function C(){}function m(X,oe,Y){a=a||e(15316),X=X||{},typeof Y!="boolean"&&(Y=oe instanceof a),this.objectMode=!!X.objectMode,Y&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=u(this,X,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=X.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){O(oe,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}m.prototype.getBuffer=function(){for(var oe=this.bufferedRequest,Y=[];oe;)Y.push(oe),oe=oe.next;return Y},function(){try{Object.defineProperty(m.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(oe){return E.call(this,oe)?!0:this!==b?!1:oe&&oe._writableState instanceof m}})):E=function(oe){return oe instanceof this};function b(X){a=a||e(15316);var oe=this instanceof a;if(!oe&&!E.call(b,this))return new b(X);this._writableState=new m(X,this,oe),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),M.call(this)}b.prototype.pipe=function(){A(this,new S)};function s(X,oe){var Y=new d;A(X,Y),g.nextTick(oe,Y)}function L(X,oe,Y,q){var se;return Y===null?se=new o:typeof Y!="string"&&!oe.objectMode&&(se=new l("chunk",["string","Buffer"],Y)),se?(A(X,se),g.nextTick(q,se),!1):!0}b.prototype.write=function(X,oe,Y){var q=this._writableState,se=!1,Q=!q.objectMode&&t(X);return Q&&!v.isBuffer(X)&&(X=r(X)),typeof oe=="function"&&(Y=oe,oe=null),Q?oe="buffer":oe||(oe=q.defaultEncoding),typeof Y!="function"&&(Y=C),q.ending?s(this,Y):(Q||L(this,q,X,Y))&&(q.pendingcb++,se=k(this,q,Q,X,oe,Y)),se},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&V(this,X))},b.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((oe+"").toLowerCase())>-1))throw new w(oe);return this._writableState.defaultEncoding=oe,this},Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function T(X,oe,Y){return!X.objectMode&&X.decodeStrings!==!1&&typeof oe=="string"&&(oe=v.from(oe,Y)),oe}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(X,oe,Y,q,se,Q){if(!Y){var K=T(oe,q,se);q!==K&&(Y=!0,se="buffer",q=K)}var le=oe.objectMode?1:q.length;oe.length+=le;var ie=oe.length<oe.highWaterMark;if(ie||(oe.needDrain=!0),oe.writing||oe.corked){var ce=oe.lastBufferedRequest;oe.lastBufferedRequest={chunk:q,encoding:se,isBuf:Y,callback:Q,next:null},ce?ce.next=oe.lastBufferedRequest:oe.bufferedRequest=oe.lastBufferedRequest,oe.bufferedRequestCount+=1}else _(X,oe,!1,le,q,se,Q);return ie}function _(X,oe,Y,q,se,Q,K){oe.writelen=q,oe.writecb=K,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new c("write")):Y?X._writev(se,oe.onwrite):X._write(se,Q,oe.onwrite),oe.sync=!1}function B(X,oe,Y,q,se){--oe.pendingcb,Y?(g.nextTick(se,q),g.nextTick(ne,X,oe),X._writableState.errorEmitted=!0,A(X,q)):(se(q),X._writableState.errorEmitted=!0,A(X,q),ne(X,oe))}function F(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function O(X,oe){var Y=X._writableState,q=Y.sync,se=Y.writecb;if(typeof se!="function")throw new h;if(F(Y),oe)B(X,Y,q,oe,se);else{var Q=W(Y)||X.destroyed;!Q&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&V(X,Y),q?g.nextTick(N,X,Y,Q,se):N(X,Y,Q,se)}}function N(X,oe,Y,q){Y||z(X,oe),oe.pendingcb--,q(),ne(X,oe)}function z(X,oe){oe.length===0&&oe.needDrain&&(oe.needDrain=!1,X.emit("drain"))}function V(X,oe){oe.bufferProcessing=!0;var Y=oe.bufferedRequest;if(X._writev&&Y&&Y.next){var q=oe.bufferedRequestCount,se=new Array(q),Q=oe.corkedRequestsFree;Q.entry=Y;for(var K=0,le=!0;Y;)se[K]=Y,Y.isBuf||(le=!1),Y=Y.next,K+=1;se.allBuffers=le,_(X,oe,!0,oe.length,se,"",Q.finish),oe.pendingcb++,oe.lastBufferedRequest=null,Q.next?(oe.corkedRequestsFree=Q.next,Q.next=null):oe.corkedRequestsFree=new P(oe),oe.bufferedRequestCount=0}else{for(;Y;){var ie=Y.chunk,ce=Y.encoding,ye=Y.callback,Ce=oe.objectMode?1:ie.length;if(_(X,oe,!1,Ce,ie,ce,ye),Y=Y.next,oe.bufferedRequestCount--,oe.writing)break}Y===null&&(oe.lastBufferedRequest=null)}oe.bufferedRequest=Y,oe.bufferProcessing=!1}b.prototype._write=function(X,oe,Y){Y(new y("_write()"))},b.prototype._writev=null,b.prototype.end=function(X,oe,Y){var q=this._writableState;return typeof X=="function"?(Y=X,X=null,oe=null):typeof oe=="function"&&(Y=oe,oe=null),X!=null&&this.write(X,oe),q.corked&&(q.corked=1,this.uncork()),q.ending||ue(this,q,Y),this},Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function $(X,oe){X._final(function(Y){oe.pendingcb--,Y&&A(X,Y),oe.prefinished=!0,X.emit("prefinish"),ne(X,oe)})}function re(X,oe){!oe.prefinished&&!oe.finalCalled&&(typeof X._final=="function"&&!oe.destroyed?(oe.pendingcb++,oe.finalCalled=!0,g.nextTick($,X,oe)):(oe.prefinished=!0,X.emit("prefinish")))}function ne(X,oe){var Y=W(oe);if(Y&&(re(X,oe),oe.pendingcb===0&&(oe.finished=!0,X.emit("finish"),oe.autoDestroy))){var q=X._readableState;(!q||q.autoDestroy&&q.endEmitted)&&X.destroy()}return Y}function ue(X,oe,Y){oe.ending=!0,ne(X,oe),Y&&(oe.finished?g.nextTick(Y):X.once("finish",Y)),oe.ended=!0,X.writable=!1}function J(X,oe,Y){var q=X.entry;for(X.entry=null;q;){var se=q.callback;oe.pendingcb--,se(Y),q=q.next}oe.corkedRequestsFree.next=X}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(oe){this._writableState&&(this._writableState.destroyed=oe)}}),b.prototype.destroy=i.destroy,b.prototype._undestroy=i.undestroy,b.prototype._destroy=function(X,oe){oe(X)}},60328:function(j,H,e){var g=e(4168),P;function a(o,d,w){return d in o?Object.defineProperty(o,d,{value:w,enumerable:!0,configurable:!0,writable:!0}):o[d]=w,o}var x=e(15932),M=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),i=Symbol("handlePromise"),n=Symbol("stream");function u(o,d){return{value:o,done:d}}function f(o){var d=o[M];if(d!==null){var w=o[n].read();w!==null&&(o[t]=null,o[M]=null,o[v]=null,d(u(w,!1)))}}function l(o){g.nextTick(f,o)}function y(o,d){return function(w,A){o.then(function(){if(d[r]){w(u(void 0,!0));return}d[i](w,A)},A)}}var h=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,w=this[p];if(w!==null)return Promise.reject(w);if(this[r])return Promise.resolve(u(void 0,!0));if(this[n].destroyed)return new Promise(function(E,b){g.nextTick(function(){d[p]?b(d[p]):E(u(void 0,!0))})});var A=this[t],C;if(A)C=new Promise(y(A,this));else{var m=this[n].read();if(m!==null)return Promise.resolve(u(m,!1));C=new Promise(this[i])}return this[t]=C,C}},a(P,Symbol.asyncIterator,function(){return this}),a(P,"return",function(){var d=this;return new Promise(function(w,A){d[n].destroy(null,function(C){if(C){A(C);return}w(u(void 0,!0))})})}),P),h),c=function(d){var w,A=Object.create(S,(w={},a(w,n,{value:d,writable:!0}),a(w,M,{value:null,writable:!0}),a(w,v,{value:null,writable:!0}),a(w,p,{value:null,writable:!0}),a(w,r,{value:d._readableState.endEmitted,writable:!0}),a(w,i,{value:function(m,E){var b=A[n].read();b?(A[t]=null,A[M]=null,A[v]=null,m(u(b,!1))):(A[M]=m,A[v]=E)},writable:!0}),w));return A[t]=null,x(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=A[v];m!==null&&(A[t]=null,A[M]=null,A[v]=null,m(C)),A[p]=C;return}var E=A[M];E!==null&&(A[t]=null,A[M]=null,A[v]=null,E(u(void 0,!0))),A[r]=!0}),d.on("readable",l.bind(null,A)),A};j.exports=c},47264:function(j,H,e){function g(f,l){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(f);l&&(h=h.filter(function(S){return Object.getOwnPropertyDescriptor(f,S).enumerable})),y.push.apply(y,h)}return y}function P(f){for(var l=1;l<arguments.length;l++){var y=arguments[l]!=null?arguments[l]:{};l%2?g(Object(y),!0).forEach(function(h){a(f,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):g(Object(y)).forEach(function(h){Object.defineProperty(f,h,Object.getOwnPropertyDescriptor(y,h))})}return f}function a(f,l,y){return l in f?Object.defineProperty(f,l,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[l]=y,f}function x(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function M(f,l){for(var y=0;y<l.length;y++){var h=l[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function v(f,l,y){return l&&M(f.prototype,l),y&&M(f,y),f}var p=e(33576),r=p.Buffer,t=e(21576),i=t.inspect,n=i&&i.custom||"inspect";function u(f,l,y){r.prototype.copy.call(f,l,y)}j.exports=function(){function f(){x(this,f),this.head=null,this.tail=null,this.length=0}return v(f,[{key:"push",value:function(y){var h={data:y,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(y){var h={data:y,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var h=this.head,S=""+h.data;h=h.next;)S+=y+h.data;return S}},{key:"concat",value:function(y){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(y>>>0),S=this.head,c=0;S;)u(S.data,h,c),c+=S.data.length,S=S.next;return h}},{key:"consume",value:function(y,h){var S;return y<this.head.data.length?(S=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?S=this.shift():S=h?this._getString(y):this._getBuffer(y),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var h=this.head,S=1,c=h.data;for(y-=c.length;h=h.next;){var o=h.data,d=y>o.length?o.length:y;if(d===o.length?c+=o:c+=o.slice(0,y),y-=d,y===0){d===o.length?(++S,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(d));break}++S}return this.length-=S,c}},{key:"_getBuffer",value:function(y){var h=r.allocUnsafe(y),S=this.head,c=1;for(S.data.copy(h),y-=S.data.length;S=S.next;){var o=S.data,d=y>o.length?o.length:y;if(o.copy(h,h.length-y,0,d),y-=d,y===0){d===o.length?(++c,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=o.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(y,h){return i(this,P({},h,{depth:0,customInspect:!1}))}}]),f}()},55324:function(j,H,e){var g=e(4168);function P(r,t){var i=this,n=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return n||u?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,r)):g.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(f){!t&&f?i._writableState?i._writableState.errorEmitted?g.nextTick(x,i):(i._writableState.errorEmitted=!0,g.nextTick(a,i,f)):g.nextTick(a,i,f):t?(g.nextTick(x,i),t(f)):g.nextTick(x,i)}),this)}function a(r,t){v(r,t),x(r)}function x(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function M(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var i=r._readableState,n=r._writableState;i&&i.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}j.exports={destroy:P,undestroy:M,errorOrDestroy:p}},15932:function(j,H,e){var g=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];v.apply(this,t)}}}function a(){}function x(v){return v.setHeader&&typeof v.abort=="function"}function M(v,p,r){if(typeof p=="function")return M(v,null,p);p||(p={}),r=P(r||a);var t=p.readable||p.readable!==!1&&v.readable,i=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||f()},u=v._writableState&&v._writableState.finished,f=function(){i=!1,u=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,y=function(){t=!1,l=!0,i||r.call(v)},h=function(d){r.call(v,d)},S=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new g),r.call(v,d);if(i&&!u)return(!v._writableState||!v._writableState.ended)&&(d=new g),r.call(v,d)},c=function(){v.req.on("finish",f)};return x(v)?(v.on("complete",f),v.on("abort",S),v.req?c():v.on("request",c)):i&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",y),v.on("finish",f),p.error!==!1&&v.on("error",h),v.on("close",S),function(){v.removeListener("complete",f),v.removeListener("abort",S),v.removeListener("request",c),v.req&&v.req.removeListener("finish",f),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",f),v.removeListener("end",y),v.removeListener("error",h),v.removeListener("close",S)}}j.exports=M},90555:function(j){j.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(j,H,e){var g;function P(f){var l=!1;return function(){l||(l=!0,f.apply(void 0,arguments))}}var a=e(92784).i,x=a.ERR_MISSING_ARGS,M=a.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function p(f){return f.setHeader&&typeof f.abort=="function"}function r(f,l,y,h){h=P(h);var S=!1;f.on("close",function(){S=!0}),g===void 0&&(g=e(15932)),g(f,{readable:l,writable:y},function(o){if(o)return h(o);S=!0,h()});var c=!1;return function(o){if(!S&&!c){if(c=!0,p(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();h(o||new M("pipe"))}}}function t(f){f()}function i(f,l){return f.pipe(l)}function n(f){return!f.length||typeof f[f.length-1]!="function"?v:f.pop()}function u(){for(var f=arguments.length,l=new Array(f),y=0;y<f;y++)l[y]=arguments[y];var h=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new x("streams");var S,c=l.map(function(o,d){var w=d<l.length-1,A=d>0;return r(o,w,A,function(C){S||(S=C),C&&c.forEach(t),!w&&(c.forEach(t),h(S))})});return l.reduce(i)}j.exports=u},24888:function(j,H,e){var g=e(92784).i.ERR_INVALID_OPT_VALUE;function P(x,M,v){return x.highWaterMark!=null?x.highWaterMark:M?x[v]:null}function a(x,M,v,p){var r=P(M,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new g(t,r)}return Math.floor(r)}return x.objectMode?16:16384}j.exports={getHighWaterMark:a}},4776:function(j,H,e){j.exports=e(61252).EventEmitter},86032:function(j,H,e){var g=e(30456).Buffer,P=g.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(c){if(!c)return"utf8";for(var o;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(o)return;c=(""+c).toLowerCase(),o=!0}}function x(c){var o=a(c);if(typeof o!="string"&&(g.isEncoding===P||!P(c)))throw new Error("Unknown encoding: "+c);return o||c}H.o=M;function M(c){this.encoding=x(c);var o;switch(this.encoding){case"utf16le":this.text=u,this.end=f,o=4;break;case"utf8":this.fillLast=t,o=4;break;case"base64":this.text=l,this.end=y,o=3;break;default:this.write=h,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(o)}M.prototype.write=function(c){if(c.length===0)return"";var o,d;if(this.lastNeed){if(o=this.fillLast(c),o===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?o?o+this.text(c,d):this.text(c,d):o||""},M.prototype.end=n,M.prototype.text=i,M.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function p(c,o,d){var w=o.length-1;if(w<d)return 0;var A=v(o[w]);return A>=0?(A>0&&(c.lastNeed=A-1),A):--w<d||A===-2?0:(A=v(o[w]),A>=0?(A>0&&(c.lastNeed=A-2),A):--w<d||A===-2?0:(A=v(o[w]),A>=0?(A>0&&(A===2?A=0:c.lastNeed=A-3),A):0))}function r(c,o,d){if((o[0]&192)!==128)return c.lastNeed=0,"�";if(c.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return c.lastNeed=1,"�";if(c.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return c.lastNeed=2,"�"}}function t(c){var o=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,o,0,c.length),this.lastNeed-=c.length}function i(c,o){var d=p(this,c,o);if(!this.lastNeed)return c.toString("utf8",o);this.lastTotal=d;var w=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,w),c.toString("utf8",o,w)}function n(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+"�":o}function u(c,o){if((c.length-o)%2===0){var d=c.toString("utf16le",o);if(d){var w=d.charCodeAt(d.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",o,c.length-1)}function f(c){var o=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,d)}return o}function l(c,o){var d=(c.length-o)%3;return d===0?c.toString("base64",o):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",o,c.length-d))}function y(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(c){return c.toString(this.encoding)}function S(c){return c&&c.length?this.write(c):""}},55619:function(j,H,e){var g=e(45408),P=e(86844)("stream-parser");j.exports=p;var a=-1,x=0,M=1,v=2;function p(c){var o=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!o&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),c._bytes=t,c._skipBytes=i,o&&(c._passthrough=n),o?c._transform=f:c._write=u}function r(c){P("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,o){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),P("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=x}function i(c,o){g(!this._parserCallback,'there is already a "callback" set!'),g(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=M}function n(c,o){g(!this._parserCallback,'There is already a "callback" set!'),g(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=v}function u(c,o,d){this._parserInit||r(this),P("write(%o bytes)",c.length),typeof o=="function"&&(d=o),h(this,c,null,d)}function f(c,o,d){this._parserInit||r(this),P("transform(%o bytes)",c.length),typeof o!="function"&&(o=this._parserOutput),h(this,c,o,d)}function l(c,o,d,w){return c._parserBytesLeft<=0?w(new Error("got data but not currently parsing anything")):o.length<=c._parserBytesLeft?function(){return y(c,o,d,w)}:function(){var A=o.slice(0,c._parserBytesLeft);return y(c,A,d,function(C){if(C)return w(C);if(o.length>A.length)return function(){return l(c,o.slice(A.length),d,w)}})}}function y(c,o,d,w){if(c._parserBytesLeft-=o.length,P("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===x?(c._parserBuffers.push(o),c._parserBuffered+=o.length):c._parserState===v&&d(o),c._parserBytesLeft===0){var A=c._parserCallback;if(A&&c._parserState===x&&c._parserBuffers.length>1&&(o=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==x&&(o=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),A){var C=[];o&&C.push(o),d&&C.push(d);var m=A.length>C.length;m&&C.push(S(w));var E=A.apply(c,C);if(!m||w===E)return w}}else return w}var h=S(l);function S(c){return function(){for(var o=c.apply(this,arguments);typeof o=="function";)o=o();return o}}},86844:function(j,H,e){var g=e(4168);H=j.exports=e(89416),H.log=x,H.formatArgs=a,H.save=M,H.load=v,H.useColors=P,H.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),H.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}H.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function a(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+H.humanize(this.diff),!!t){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var n=0,u=0;r[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(n++,f==="%c"&&(u=n))}),r.splice(u,0,i)}}function x(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function M(r){try{r==null?H.storage.removeItem("debug"):H.storage.debug=r}catch{}}function v(){var r;try{r=H.storage.debug}catch{}return!r&&typeof g<"u"&&"env"in g&&(r={}.DEBUG),r}H.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(j,H,e){H=j.exports=a.debug=a.default=a,H.coerce=p,H.disable=M,H.enable=x,H.enabled=v,H.humanize=e(93744),H.names=[],H.skips=[],H.formatters={};var g;function P(r){var t=0,i;for(i in r)t=(t<<5)-t+r.charCodeAt(i),t|=0;return H.colors[Math.abs(t)%H.colors.length]}function a(r){function t(){if(t.enabled){var i=t,n=+new Date,u=n-(g||n);i.diff=u,i.prev=g,i.curr=n,g=n;for(var f=new Array(arguments.length),l=0;l<f.length;l++)f[l]=arguments[l];f[0]=H.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var y=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(S,c){if(S==="%%")return S;y++;var o=H.formatters[c];if(typeof o=="function"){var d=f[y];S=o.call(i,d),f.splice(y,1),y--}return S}),H.formatArgs.call(i,f);var h=t.log||H.log||console.log.bind(console);h.apply(i,f)}}return t.namespace=r,t.enabled=H.enabled(r),t.useColors=H.useColors(),t.color=P(r),typeof H.init=="function"&&H.init(t),t}function x(r){H.save(r),H.names=[],H.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),i=t.length,n=0;n<i;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?H.skips.push(new RegExp("^"+r.substr(1)+"$")):H.names.push(new RegExp("^"+r+"$")))}function M(){H.enable("")}function v(r){var t,i;for(t=0,i=H.skips.length;t<i;t++)if(H.skips[t].test(r))return!1;for(t=0,i=H.names.length;t<i;t++)if(H.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(j){var H=1e3,e=H*60,g=e*60,P=g*24,a=P*365.25;j.exports=function(r,t){t=t||{};var i=typeof r;if(i==="string"&&r.length>0)return x(r);if(i==="number"&&isNaN(r)===!1)return t.long?v(r):M(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function x(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*a;case"days":case"day":case"d":return i*P;case"hours":case"hour":case"hrs":case"hr":case"h":return i*g;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function M(r){return r>=P?Math.round(r/P)+"d":r>=g?Math.round(r/g)+"h":r>=e?Math.round(r/e)+"m":r>=H?Math.round(r/H)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,g,"hour")||p(r,e,"minute")||p(r,H,"second")||r+" ms"}function p(r,t,i){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+i:Math.ceil(r/t)+" "+i+"s"}},39956:function(j,H,e){var g=e(32868);j.exports=function(a,x,M){if(a==null)throw Error("First argument should be a string");if(x==null)throw Error("Separator should be a string or a RegExp");M?(typeof M=="string"||Array.isArray(M))&&(M={ignore:M}):M={},M.escape==null&&(M.escape=!0),M.ignore==null?M.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof M.ignore=="string"&&(M.ignore=[M.ignore]),M.ignore=M.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var v=g.parse(a,{flat:!0,brackets:M.ignore}),p=v[0],r=p.split(x);if(M.escape){for(var t=[],i=0;i<r.length;i++){var n=r[i],u=r[i+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+x+u),i++):t.push(n)}r=t}for(var i=0;i<r.length;i++)v[0]=r[i],r[i]=g.stringify(v,{flat:!0});return r}},78484:function(j){j.exports=H;function H(e){for(var g=e.length,P=new Array(g),a=new Array(g),x=new Array(g),M=new Array(g),v=new Array(g),p=new Array(g),r=0;r<g;++r)P[r]=-1,a[r]=0,x[r]=!1,M[r]=0,v[r]=-1,p[r]=[];var t=0,i=[],n=[];function u(h){var S=[h],c=[h];for(P[h]=a[h]=t,x[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var o=e[h];if(M[h]<o.length){for(var d=M[h];d<o.length;++d){var w=o[d];if(P[w]<0){P[w]=a[w]=t,x[w]=!0,t+=1,S.push(w),c.push(w);break}else x[w]&&(a[h]=Math.min(a[h],a[w])|0);v[w]>=0&&p[h].push(v[w])}M[h]=d}else{if(a[h]===P[h]){for(var A=[],C=[],m=0,d=S.length-1;d>=0;--d){var E=S[d];if(x[E]=!1,A.push(E),C.push(p[E]),m+=p[E].length,v[E]=i.length,E===h){S.length=d;break}}i.push(A);for(var b=new Array(m),d=0;d<C.length;d++)for(var s=0;s<C[d].length;s++)b[--m]=C[d][s];n.push(b)}c.pop()}}}for(var r=0;r<g;++r)P[r]<0&&u(r);for(var f,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(S,c){return S-c}),f=[l[0]];for(var y=1;y<l.length;y++)l[y]!==l[y-1]&&f.push(l[y]);n[r]=f}}return{components:i,adjacencyList:n}}},92848:function(j,H,e){e.r(H);var g=function(){function r(t,i){var n=[],u=!0,f=!1,l=void 0;try{for(var y=t[Symbol.iterator](),h;!(u=(h=y.next()).done)&&(n.push(h.value),!(i&&n.length===i));u=!0);}catch(S){f=!0,l=S}finally{try{!u&&y.return&&y.return()}finally{if(f)throw l}}return n}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,a=function(t,i,n,u,f,l,y){var h=t.x,S=t.y;h*=i,S*=n;var c=u*h-f*S,o=f*h+u*S;return{x:c+l,y:o+y}},x=function(t,i){var n=i===1.5707963267948966?.551915024494:i===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(i/4),u=Math.cos(t),f=Math.sin(t),l=Math.cos(t+i),y=Math.sin(t+i);return[{x:u-f*n,y:f+u*n},{x:l+y*n,y:y-l*n},{x:l,y}]},M=function(t,i,n,u){var f=t*u-i*n<0?-1:1,l=t*n+i*u;return l>1&&(l=1),l<-1&&(l=-1),f*Math.acos(l)},v=function(t,i,n,u,f,l,y,h,S,c,o,d){var w=Math.pow(f,2),A=Math.pow(l,2),C=Math.pow(o,2),m=Math.pow(d,2),E=w*A-w*m-A*C;E<0&&(E=0),E/=w*m+A*C,E=Math.sqrt(E)*(y===h?-1:1);var b=E*f/l*d,s=E*-l/f*o,L=c*b-S*s+(t+n)/2,T=S*b+c*s+(i+u)/2,k=(o-b)/f,_=(d-s)/l,B=(-o-b)/f,F=(-d-s)/l,O=M(1,0,k,_),N=M(k,_,B,F);return h===0&&N>0&&(N-=P),h===1&&N<0&&(N+=P),[L,T,O,N]},p=function(t){var i=t.px,n=t.py,u=t.cx,f=t.cy,l=t.rx,y=t.ry,h=t.xAxisRotation,S=h===void 0?0:h,c=t.largeArcFlag,o=c===void 0?0:c,d=t.sweepFlag,w=d===void 0?0:d,A=[];if(l===0||y===0)return[];var C=Math.sin(S*P/360),m=Math.cos(S*P/360),E=m*(i-u)/2+C*(n-f)/2,b=-C*(i-u)/2+m*(n-f)/2;if(E===0&&b===0)return[];l=Math.abs(l),y=Math.abs(y);var s=Math.pow(E,2)/Math.pow(l,2)+Math.pow(b,2)/Math.pow(y,2);s>1&&(l*=Math.sqrt(s),y*=Math.sqrt(s));var L=v(i,n,u,f,l,y,o,w,C,m,E,b),T=g(L,4),k=T[0],_=T[1],B=T[2],F=T[3],O=Math.abs(F)/(P/4);Math.abs(1-O)<1e-7&&(O=1);var N=Math.max(Math.ceil(O),1);F/=N;for(var z=0;z<N;z++)A.push(x(B,F)),B+=F;return A.map(function(V){var W=a(V[0],l,y,m,C,k,_),$=W.x,re=W.y,ne=a(V[1],l,y,m,C,k,_),ue=ne.x,J=ne.y,X=a(V[2],l,y,m,C,k,_),oe=X.x,Y=X.y;return{x1:$,y1:re,x2:ue,y2:J,x:oe,y:Y}})};H.default=p},74840:function(j,H,e){var g=e(21984),P=e(49972),a=e(41976),x=e(53520),M=e(45408);j.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(M(x(p),"String is not an SVG path."),p=g(p)),M(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=a(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,i=p.length;t<i;t++)for(var n=p[t].slice(1),u=0;u<n.length;u+=2)n[u+0]<r[0]&&(r[0]=n[u+0]),n[u+1]<r[1]&&(r[1]=n[u+1]),n[u+0]>r[2]&&(r[2]=n[u+0]),n[u+1]>r[3]&&(r[3]=n[u+1]);return r}},41976:function(j,H,e){j.exports=P;var g=e(92848);function P(M){for(var v,p=[],r=0,t=0,i=0,n=0,u=null,f=null,l=0,y=0,h=0,S=M.length;h<S;h++){var c=M[h],o=c[0];switch(o){case"M":i=c[1],n=c[2];break;case"A":var d=g({px:l,py:y,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var w=0,A;w<d.length;w++)A=d[w],c=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],w<d.length-1&&p.push(c);break;case"S":var C=l,m=y;(v=="C"||v=="S")&&(C+=C-r,m+=m-t),c=["C",C,m,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(u=l*2-u,f=y*2-f):(u=l,f=y),c=x(l,y,u,f,c[1],c[2]);break;case"Q":u=c[1],f=c[2],c=x(l,y,c[1],c[2],c[3],c[4]);break;case"L":c=a(l,y,c[1],c[2]);break;case"H":c=a(l,y,c[1],y);break;case"V":c=a(l,y,l,c[1]);break;case"Z":c=a(l,y,i,n);break}v=o,l=c[c.length-2],y=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=y),p.push(c)}return p}function a(M,v,p,r){return["C",M,v,p,r,p,r]}function x(M,v,p,r,t,i){return["C",M/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,i/3+.6666666666666666*r,t,i]}},20472:function(j,H,e){var g=e(74840),P=e(21984),a=e(22235),x=e(53520),M=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");j.exports=r;function r(n,u){if(!x(n))throw Error("Argument should be valid svg path string");u||(u={});var f,l;u.shape?(f=u.shape[0],l=u.shape[1]):(f=v.width=u.w||u.width||200,l=v.height=u.h||u.height||200);var y=Math.min(f,l),h=u.stroke||0,S=u.viewbox||u.viewBox||g(n),c=[f/(S[2]-S[0]),l/(S[3]-S[1])],o=Math.min(c[0]||0,c[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,f,l),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(f*.5,l*.5),p.scale(o,o),i()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var w=P(n);a(p,w),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var A=M(p,{cutoff:u.cutoff!=null?u.cutoff:.5,radius:u.radius!=null?u.radius:y*.5});return A}var t;function i(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var u=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(u);var f=n.getImageData(0,0,1,1);return t=f&&f.data&&f.data[3]===255}},49760:function(j,H,e){var g;(function(P){var a=/^\s+/,x=/\s+$/,M=0,v=P.round,p=P.min,r=P.max,t=P.random;function i(K,le){if(K=K||"",le=le||{},K instanceof i)return K;if(!(this instanceof i))return new i(K,le);var ie=n(K);this._originalInput=K,this._r=ie.r,this._g=ie.g,this._b=ie.b,this._a=ie.a,this._roundA=v(100*this._a)/100,this._format=le.format||ie.format,this._gradientType=le.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ie.ok,this._tc_id=M++}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},getLuminance:function(){var K=this.toRgb(),le,ie,ce,ye,Ce,Ae;return le=K.r/255,ie=K.g/255,ce=K.b/255,le<=.03928?ye=le/12.92:ye=P.pow((le+.055)/1.055,2.4),ie<=.03928?Ce=ie/12.92:Ce=P.pow((ie+.055)/1.055,2.4),ce<=.03928?Ae=ce/12.92:Ae=P.pow((ce+.055)/1.055,2.4),.2126*ye+.7152*Ce+.0722*Ae},setAlpha:function(K){return this._a=z(K),this._roundA=v(100*this._a)/100,this},toHsv:function(){var K=y(this._r,this._g,this._b);return{h:K.h*360,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=y(this._r,this._g,this._b),le=v(K.h*360),ie=v(K.s*100),ce=v(K.v*100);return this._a==1?"hsv("+le+", "+ie+"%, "+ce+"%)":"hsva("+le+", "+ie+"%, "+ce+"%, "+this._roundA+")"},toHsl:function(){var K=f(this._r,this._g,this._b);return{h:K.h*360,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=f(this._r,this._g,this._b),le=v(K.h*360),ie=v(K.s*100),ce=v(K.l*100);return this._a==1?"hsl("+le+", "+ie+"%, "+ce+"%)":"hsla("+le+", "+ie+"%, "+ce+"%, "+this._roundA+")"},toHex:function(K){return S(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(K){return c(this._r,this._g,this._b,this._a,K)},toHex8String:function(K){return"#"+this.toHex8(K)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(V(this._r,255)*100)+"%",g:v(V(this._g,255)*100)+"%",b:v(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%)":"rgba("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:O[S(this._r,this._g,this._b,!0)]||!1},toFilter:function(K){var le="#"+o(this._r,this._g,this._b,this._a),ie=le,ce=this._gradientType?"GradientType = 1, ":"";if(K){var ye=i(K);ie="#"+o(ye._r,ye._g,ye._b,ye._a)}return"progid:DXImageTransform.Microsoft.gradient("+ce+"startColorstr="+le+",endColorstr="+ie+")"},toString:function(K){var le=!!K;K=K||this._format;var ie=!1,ce=this._a<1&&this._a>=0,ye=!le&&ce&&(K==="hex"||K==="hex6"||K==="hex3"||K==="hex4"||K==="hex8"||K==="name");return ye?K==="name"&&this._a===0?this.toName():this.toRgbString():(K==="rgb"&&(ie=this.toRgbString()),K==="prgb"&&(ie=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(ie=this.toHexString()),K==="hex3"&&(ie=this.toHexString(!0)),K==="hex4"&&(ie=this.toHex8String(!0)),K==="hex8"&&(ie=this.toHex8String()),K==="name"&&(ie=this.toName()),K==="hsl"&&(ie=this.toHslString()),K==="hsv"&&(ie=this.toHsvString()),ie||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(K,le){var ie=K.apply(null,[this].concat([].slice.call(le)));return this._r=ie._r,this._g=ie._g,this._b=ie._b,this.setAlpha(ie._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(K,le){return K.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},i.fromRatio=function(K,le){if(typeof K=="object"){var ie={};for(var ce in K)K.hasOwnProperty(ce)&&(ce==="a"?ie[ce]=K[ce]:ie[ce]=J(K[ce]));K=ie}return i(K,le)};function n(K){var le={r:0,g:0,b:0},ie=1,ce=null,ye=null,Ce=null,Ae=!1,ke=!1;return typeof K=="string"&&(K=se(K)),typeof K=="object"&&(q(K.r)&&q(K.g)&&q(K.b)?(le=u(K.r,K.g,K.b),Ae=!0,ke=String(K.r).substr(-1)==="%"?"prgb":"rgb"):q(K.h)&&q(K.s)&&q(K.v)?(ce=J(K.s),ye=J(K.v),le=h(K.h,ce,ye),Ae=!0,ke="hsv"):q(K.h)&&q(K.s)&&q(K.l)&&(ce=J(K.s),Ce=J(K.l),le=l(K.h,ce,Ce),Ae=!0,ke="hsl"),K.hasOwnProperty("a")&&(ie=K.a)),ie=z(ie),{ok:Ae,format:K.format||ke,r:p(255,r(le.r,0)),g:p(255,r(le.g,0)),b:p(255,r(le.b,0)),a:ie}}function u(K,le,ie){return{r:V(K,255)*255,g:V(le,255)*255,b:V(ie,255)*255}}function f(K,le,ie){K=V(K,255),le=V(le,255),ie=V(ie,255);var ce=r(K,le,ie),ye=p(K,le,ie),Ce,Ae,ke=(ce+ye)/2;if(ce==ye)Ce=Ae=0;else{var we=ce-ye;switch(Ae=ke>.5?we/(2-ce-ye):we/(ce+ye),ce){case K:Ce=(le-ie)/we+(le<ie?6:0);break;case le:Ce=(ie-K)/we+2;break;case ie:Ce=(K-le)/we+4;break}Ce/=6}return{h:Ce,s:Ae,l:ke}}function l(K,le,ie){var ce,ye,Ce;K=V(K,360),le=V(le,100),ie=V(ie,100);function Ae(Ee,xe,Pe){return Pe<0&&(Pe+=1),Pe>1&&(Pe-=1),Pe<.16666666666666666?Ee+(xe-Ee)*6*Pe:Pe<.5?xe:Pe<.6666666666666666?Ee+(xe-Ee)*(.6666666666666666-Pe)*6:Ee}if(le===0)ce=ye=Ce=ie;else{var ke=ie<.5?ie*(1+le):ie+le-ie*le,we=2*ie-ke;ce=Ae(we,ke,K+.3333333333333333),ye=Ae(we,ke,K),Ce=Ae(we,ke,K-.3333333333333333)}return{r:ce*255,g:ye*255,b:Ce*255}}function y(K,le,ie){K=V(K,255),le=V(le,255),ie=V(ie,255);var ce=r(K,le,ie),ye=p(K,le,ie),Ce,Ae,ke=ce,we=ce-ye;if(Ae=ce===0?0:we/ce,ce==ye)Ce=0;else{switch(ce){case K:Ce=(le-ie)/we+(le<ie?6:0);break;case le:Ce=(ie-K)/we+2;break;case ie:Ce=(K-le)/we+4;break}Ce/=6}return{h:Ce,s:Ae,v:ke}}function h(K,le,ie){K=V(K,360)*6,le=V(le,100),ie=V(ie,100);var ce=P.floor(K),ye=K-ce,Ce=ie*(1-le),Ae=ie*(1-ye*le),ke=ie*(1-(1-ye)*le),we=ce%6,Ee=[ie,Ae,Ce,Ce,ke,ie][we],xe=[ke,ie,ie,Ae,Ce,Ce][we],Pe=[Ce,Ce,ke,ie,ie,Ae][we];return{r:Ee*255,g:xe*255,b:Pe*255}}function S(K,le,ie,ce){var ye=[ue(v(K).toString(16)),ue(v(le).toString(16)),ue(v(ie).toString(16))];return ce&&ye[0].charAt(0)==ye[0].charAt(1)&&ye[1].charAt(0)==ye[1].charAt(1)&&ye[2].charAt(0)==ye[2].charAt(1)?ye[0].charAt(0)+ye[1].charAt(0)+ye[2].charAt(0):ye.join("")}function c(K,le,ie,ce,ye){var Ce=[ue(v(K).toString(16)),ue(v(le).toString(16)),ue(v(ie).toString(16)),ue(X(ce))];return ye&&Ce[0].charAt(0)==Ce[0].charAt(1)&&Ce[1].charAt(0)==Ce[1].charAt(1)&&Ce[2].charAt(0)==Ce[2].charAt(1)&&Ce[3].charAt(0)==Ce[3].charAt(1)?Ce[0].charAt(0)+Ce[1].charAt(0)+Ce[2].charAt(0)+Ce[3].charAt(0):Ce.join("")}function o(K,le,ie,ce){var ye=[ue(X(ce)),ue(v(K).toString(16)),ue(v(le).toString(16)),ue(v(ie).toString(16))];return ye.join("")}i.equals=function(K,le){return!K||!le?!1:i(K).toRgbString()==i(le).toRgbString()},i.random=function(){return i.fromRatio({r:t(),g:t(),b:t()})};function d(K,le){le=le===0?0:le||10;var ie=i(K).toHsl();return ie.s-=le/100,ie.s=W(ie.s),i(ie)}function w(K,le){le=le===0?0:le||10;var ie=i(K).toHsl();return ie.s+=le/100,ie.s=W(ie.s),i(ie)}function A(K){return i(K).desaturate(100)}function C(K,le){le=le===0?0:le||10;var ie=i(K).toHsl();return ie.l+=le/100,ie.l=W(ie.l),i(ie)}function m(K,le){le=le===0?0:le||10;var ie=i(K).toRgb();return ie.r=r(0,p(255,ie.r-v(255*-(le/100)))),ie.g=r(0,p(255,ie.g-v(255*-(le/100)))),ie.b=r(0,p(255,ie.b-v(255*-(le/100)))),i(ie)}function E(K,le){le=le===0?0:le||10;var ie=i(K).toHsl();return ie.l-=le/100,ie.l=W(ie.l),i(ie)}function b(K,le){var ie=i(K).toHsl(),ce=(ie.h+le)%360;return ie.h=ce<0?360+ce:ce,i(ie)}function s(K){var le=i(K).toHsl();return le.h=(le.h+180)%360,i(le)}function L(K){var le=i(K).toHsl(),ie=le.h;return[i(K),i({h:(ie+120)%360,s:le.s,l:le.l}),i({h:(ie+240)%360,s:le.s,l:le.l})]}function T(K){var le=i(K).toHsl(),ie=le.h;return[i(K),i({h:(ie+90)%360,s:le.s,l:le.l}),i({h:(ie+180)%360,s:le.s,l:le.l}),i({h:(ie+270)%360,s:le.s,l:le.l})]}function k(K){var le=i(K).toHsl(),ie=le.h;return[i(K),i({h:(ie+72)%360,s:le.s,l:le.l}),i({h:(ie+216)%360,s:le.s,l:le.l})]}function _(K,le,ie){le=le||6,ie=ie||30;var ce=i(K).toHsl(),ye=360/ie,Ce=[i(K)];for(ce.h=(ce.h-(ye*le>>1)+720)%360;--le;)ce.h=(ce.h+ye)%360,Ce.push(i(ce));return Ce}function B(K,le){le=le||6;for(var ie=i(K).toHsv(),ce=ie.h,ye=ie.s,Ce=ie.v,Ae=[],ke=1/le;le--;)Ae.push(i({h:ce,s:ye,v:Ce})),Ce=(Ce+ke)%1;return Ae}i.mix=function(K,le,ie){ie=ie===0?0:ie||50;var ce=i(K).toRgb(),ye=i(le).toRgb(),Ce=ie/100,Ae={r:(ye.r-ce.r)*Ce+ce.r,g:(ye.g-ce.g)*Ce+ce.g,b:(ye.b-ce.b)*Ce+ce.b,a:(ye.a-ce.a)*Ce+ce.a};return i(Ae)},i.readability=function(K,le){var ie=i(K),ce=i(le);return(P.max(ie.getLuminance(),ce.getLuminance())+.05)/(P.min(ie.getLuminance(),ce.getLuminance())+.05)},i.isReadable=function(K,le,ie){var ce=i.readability(K,le),ye,Ce;switch(Ce=!1,ye=Q(ie),ye.level+ye.size){case"AAsmall":case"AAAlarge":Ce=ce>=4.5;break;case"AAlarge":Ce=ce>=3;break;case"AAAsmall":Ce=ce>=7;break}return Ce},i.mostReadable=function(K,le,ie){var ce=null,ye=0,Ce,Ae,ke,we;ie=ie||{},Ae=ie.includeFallbackColors,ke=ie.level,we=ie.size;for(var Ee=0;Ee<le.length;Ee++)Ce=i.readability(K,le[Ee]),Ce>ye&&(ye=Ce,ce=i(le[Ee]));return i.isReadable(K,ce,{level:ke,size:we})||!Ae?ce:(ie.includeFallbackColors=!1,i.mostReadable(K,["#fff","#000"],ie))};var F=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=i.hexNames=N(F);function N(K){var le={};for(var ie in K)K.hasOwnProperty(ie)&&(le[K[ie]]=ie);return le}function z(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function V(K,le){re(K)&&(K="100%");var ie=ne(K);return K=p(le,r(0,parseFloat(K))),ie&&(K=parseInt(K*le,10)/100),P.abs(K-le)<1e-6?1:K%le/parseFloat(le)}function W(K){return p(1,r(0,K))}function $(K){return parseInt(K,16)}function re(K){return typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1}function ne(K){return typeof K=="string"&&K.indexOf("%")!=-1}function ue(K){return K.length==1?"0"+K:""+K}function J(K){return K<=1&&(K=K*100+"%"),K}function X(K){return P.round(parseFloat(K)*255).toString(16)}function oe(K){return $(K)/255}var Y=function(){var K="[-\\+]?\\d+%?",le="[-\\+]?\\d*\\.\\d+%?",ie="(?:"+le+")|(?:"+K+")",ce="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?",ye="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?";return{CSS_UNIT:new RegExp(ie),rgb:new RegExp("rgb"+ce),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+ce),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+ce),hsva:new RegExp("hsva"+ye),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(K){return!!Y.CSS_UNIT.exec(K)}function se(K){K=K.replace(a,"").replace(x,"").toLowerCase();var le=!1;if(F[K])K=F[K],le=!0;else if(K=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ie;return(ie=Y.rgb.exec(K))?{r:ie[1],g:ie[2],b:ie[3]}:(ie=Y.rgba.exec(K))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=Y.hsl.exec(K))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=Y.hsla.exec(K))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=Y.hsv.exec(K))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=Y.hsva.exec(K))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=Y.hex8.exec(K))?{r:$(ie[1]),g:$(ie[2]),b:$(ie[3]),a:oe(ie[4]),format:le?"name":"hex8"}:(ie=Y.hex6.exec(K))?{r:$(ie[1]),g:$(ie[2]),b:$(ie[3]),format:le?"name":"hex"}:(ie=Y.hex4.exec(K))?{r:$(ie[1]+""+ie[1]),g:$(ie[2]+""+ie[2]),b:$(ie[3]+""+ie[3]),a:oe(ie[4]+""+ie[4]),format:le?"name":"hex8"}:(ie=Y.hex3.exec(K))?{r:$(ie[1]+""+ie[1]),g:$(ie[2]+""+ie[2]),b:$(ie[3]+""+ie[3]),format:le?"name":"hex"}:!1}function Q(K){var le,ie;return K=K||{level:"AA",size:"small"},le=(K.level||"AA").toUpperCase(),ie=(K.size||"small").toLowerCase(),le!=="AA"&&le!=="AAA"&&(le="AA"),ie!=="small"&&ie!=="large"&&(ie="small"),{level:le,size:ie}}j.exports?j.exports=i:(g=(function(){return i}).call(H,e,H,j),g!==void 0&&(j.exports=g))})(Math)},37816:function(j){j.exports=g,j.exports.float32=j.exports.float=g,j.exports.fract32=j.exports.fract=e;var H=new Float32Array(1);function e(P,a){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);a instanceof Float32Array||(a=g(P));for(var x=0,M=a.length;x<M;x++)a[x]=P[x]-a[x];return a}return g(P-g(P))}function g(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(H[0]=P,H[0])}},23464:function(j,H,e){var g=e(65819);j.exports=M;var P=96;function a(v,p){var r=g(getComputedStyle(v).getPropertyValue(p));return r[0]*M(r[1],v)}function x(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=a(r,"font-size")/128;return p.removeChild(r),t}function M(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return x(v,p);case"em":return a(p,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(j,H,e){e.d(H,{NO:function(){return x}});function g(p,r){for(var t,i=p.length,n=i-r;n<--i;)t=p[n],p[n++]=p[i],p[i]=t}function P(p){return p}function a(p){if(p==null)return P;var r,t,i=p.scale[0],n=p.scale[1],u=p.translate[0],f=p.translate[1];return function(l,y){y||(r=t=0);var h=2,S=l.length,c=new Array(S);for(c[0]=(r+=l[0])*i+u,c[1]=(t+=l[1])*n+f;h<S;)c[h]=l[h],++h;return c}}function x(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return M(p,t)})}:M(p,r)}function M(p,r){var t=r.id,i=r.bbox,n=r.properties==null?{}:r.properties,u=v(p,r);return t==null&&i==null?{type:"Feature",properties:n,geometry:u}:i==null?{type:"Feature",id:t,properties:n,geometry:u}:{type:"Feature",id:t,bbox:i,properties:n,geometry:u}}function v(p,r){var t=a(p.transform),i=p.arcs;function n(S,c){c.length&&c.pop();for(var o=i[S<0?~S:S],d=0,w=o.length;d<w;++d)c.push(t(o[d],d));S<0&&g(c,w)}function u(S){return t(S)}function f(S){for(var c=[],o=0,d=S.length;o<d;++o)n(S[o],c);return c.length<2&&c.push(c[0]),c}function l(S){for(var c=f(S);c.length<4;)c.push(c[0]);return c}function y(S){return S.map(l)}function h(S){var c=S.type,o;switch(c){case"GeometryCollection":return{type:c,geometries:S.geometries.map(h)};case"Point":o=u(S.coordinates);break;case"MultiPoint":o=S.coordinates.map(u);break;case"LineString":o=f(S.arcs);break;case"MultiLineString":o=S.arcs.map(f);break;case"Polygon":o=y(S.arcs);break;case"MultiPolygon":o=S.arcs.map(y);break;default:return null}return{type:c,coordinates:o}}return h(r)}},73384:function(j,H,e){var g=e(54612);j.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!g(P)}},57980:function(j,H,e){var g=e(81680),P=e(7328),a=e(33940),x=e(18856),M=function(v,p){return v.replace("%v",x(p))};j.exports=function(v,p,r){if(!P(r))throw new TypeError(M(p,v));if(!g(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=a(r.errorMessage);throw g(t)||(t=p),new TypeError(M(t,v))}},32336:function(j){j.exports=function(H){try{return H.toString()}catch{try{return String(H)}catch{return null}}}},18856:function(j,H,e){var g=e(32336),P=/[\n\r\u2028\u2029]/g;j.exports=function(a){var x=g(a);return x===null?"<Non-coercible to string value>":(x.length>100&&(x=x.slice(0,99)+"…"),x=x.replace(P,function(M){switch(M){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),x)}},7328:function(j,H,e){var g=e(81680),P={object:!0,function:!0,undefined:!0};j.exports=function(a){return g(a)?hasOwnProperty.call(P,typeof a):!1}},87396:function(j,H,e){var g=e(57980),P=e(85488);j.exports=function(a){return P(a)?a:g(a,"%v is not a plain function",arguments[1])}},85488:function(j,H,e){var g=e(73384),P=/^\s*class[\s{/}]/,a=Function.prototype.toString;j.exports=function(x){return!(!g(x)||P.test(a.call(x)))}},54612:function(j,H,e){var g=e(7328);j.exports=function(P){if(!g(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},33940:function(j,H,e){var g=e(81680),P=e(7328),a=Object.prototype.toString;j.exports=function(x){if(!g(x))return null;if(P(x)){var M=x.toString;if(typeof M!="function"||M===a)return null}try{return""+x}catch{return null}}},18496:function(j,H,e){var g=e(57980),P=e(81680);j.exports=function(a){return P(a)?a:g(a,"Cannot use %v",arguments[1])}},81680:function(j){var H=void 0;j.exports=function(e){return e!==H&&e!==null}},14144:function(j,H,e){var g=e(308),P=e(10352),a=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var x=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;H.free=function(s){if(a.isBuffer(s))t[g.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var L=s.length||s.byteLength,T=g.log2(L)|0;r[T].push(s)}};function i(b){if(b){var s=b.length||b.byteLength,L=g.log2(s);r[L].push(b)}}function n(b){i(b.buffer)}H.freeUint8=H.freeUint16=H.freeUint32=H.freeBigUint64=H.freeInt8=H.freeInt16=H.freeInt32=H.freeBigInt64=H.freeFloat32=H.freeFloat=H.freeFloat64=H.freeDouble=H.freeUint8Clamped=H.freeDataView=n,H.freeArrayBuffer=i,H.freeBuffer=function(s){t[g.log2(s.length)].push(s)},H.malloc=function(s,L){if(L===void 0||L==="arraybuffer")return u(s);switch(L){case"uint8":return f(s);case"uint16":return l(s);case"uint32":return y(s);case"int8":return h(s);case"int16":return S(s);case"int32":return c(s);case"float":case"float32":return o(s);case"double":case"float64":return d(s);case"uint8_clamped":return w(s);case"bigint64":return C(s);case"biguint64":return A(s);case"buffer":return E(s);case"data":case"dataview":return m(s);default:return null}return null};function u(s){var s=g.nextPow2(s),L=g.log2(s),T=r[L];return T.length>0?T.pop():new ArrayBuffer(s)}H.mallocArrayBuffer=u;function f(b){return new Uint8Array(u(b),0,b)}H.mallocUint8=f;function l(b){return new Uint16Array(u(2*b),0,b)}H.mallocUint16=l;function y(b){return new Uint32Array(u(4*b),0,b)}H.mallocUint32=y;function h(b){return new Int8Array(u(b),0,b)}H.mallocInt8=h;function S(b){return new Int16Array(u(2*b),0,b)}H.mallocInt16=S;function c(b){return new Int32Array(u(4*b),0,b)}H.mallocInt32=c;function o(b){return new Float32Array(u(4*b),0,b)}H.mallocFloat32=H.mallocFloat=o;function d(b){return new Float64Array(u(8*b),0,b)}H.mallocFloat64=H.mallocDouble=d;function w(b){return x?new Uint8ClampedArray(u(b),0,b):f(b)}H.mallocUint8Clamped=w;function A(b){return M?new BigUint64Array(u(8*b),0,b):null}H.mallocBigUint64=A;function C(b){return v?new BigInt64Array(u(8*b),0,b):null}H.mallocBigInt64=C;function m(b){return new DataView(u(b),0,b)}H.mallocDataView=m;function E(b){b=g.nextPow2(b);var s=g.log2(b),L=t[s];return L.length>0?L.pop():new a(b)}H.mallocBuffer=E,H.clearCache=function(){for(var s=0;s<32;++s)p.UINT8[s].length=0,p.UINT16[s].length=0,p.UINT32[s].length=0,p.INT8[s].length=0,p.INT16[s].length=0,p.INT32[s].length=0,p.FLOAT[s].length=0,p.DOUBLE[s].length=0,p.BIGUINT64[s].length=0,p.BIGINT64[s].length=0,p.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(j){var H=/[\'\"]/;j.exports=function(g){return g?(H.test(g.charAt(0))&&(g=g.substr(1)),H.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},45223:function(j){j.exports=function(e,g,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var a=0,x=P.length;a<x;a++){var M=P[a];for(var v in M)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var p;if(M[v]===!0)p=g[v];else{if(M[v]===!1)continue;if(typeof M[v]=="function"&&(p=M[v](g[v],e,g),p===void 0))continue}e[v]=p}}return e}},96656:function(j,H,e){j.exports=g;function g(a,x){if(P("noDeprecation"))return a;var M=!1;function v(){if(!M){if(P("throwDeprecation"))throw new Error(x);P("traceDeprecation")?console.trace(x):console.warn(x),M=!0}return a.apply(this,arguments)}return v}function P(a){try{if(!e.g.localStorage)return!1}catch{return!1}var x=e.g.localStorage[a];return x==null?!1:String(x).toLowerCase()==="true"}},75272:function(j){j.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(j,H,e){var g=e(91148),P=e(84420),a=e(96632),x=e(7728);function M(Ce){return Ce.call.bind(Ce)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=M(Object.prototype.toString),t=M(Number.prototype.valueOf),i=M(String.prototype.valueOf),n=M(Boolean.prototype.valueOf);if(v)var u=M(BigInt.prototype.valueOf);if(p)var f=M(Symbol.prototype.valueOf);function l(Ce,Ae){if(typeof Ce!="object")return!1;try{return Ae(Ce),!0}catch{return!1}}H.isArgumentsObject=g,H.isGeneratorFunction=P,H.isTypedArray=x;function y(Ce){return typeof Promise<"u"&&Ce instanceof Promise||Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"&&typeof Ce.catch=="function"}H.isPromise=y;function h(Ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ce):x(Ce)||$(Ce)}H.isArrayBufferView=h;function S(Ce){return a(Ce)==="Uint8Array"}H.isUint8Array=S;function c(Ce){return a(Ce)==="Uint8ClampedArray"}H.isUint8ClampedArray=c;function o(Ce){return a(Ce)==="Uint16Array"}H.isUint16Array=o;function d(Ce){return a(Ce)==="Uint32Array"}H.isUint32Array=d;function w(Ce){return a(Ce)==="Int8Array"}H.isInt8Array=w;function A(Ce){return a(Ce)==="Int16Array"}H.isInt16Array=A;function C(Ce){return a(Ce)==="Int32Array"}H.isInt32Array=C;function m(Ce){return a(Ce)==="Float32Array"}H.isFloat32Array=m;function E(Ce){return a(Ce)==="Float64Array"}H.isFloat64Array=E;function b(Ce){return a(Ce)==="BigInt64Array"}H.isBigInt64Array=b;function s(Ce){return a(Ce)==="BigUint64Array"}H.isBigUint64Array=s;function L(Ce){return r(Ce)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function T(Ce){return typeof Map>"u"?!1:L.working?L(Ce):Ce instanceof Map}H.isMap=T;function k(Ce){return r(Ce)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function _(Ce){return typeof Set>"u"?!1:k.working?k(Ce):Ce instanceof Set}H.isSet=_;function B(Ce){return r(Ce)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function F(Ce){return typeof WeakMap>"u"?!1:B.working?B(Ce):Ce instanceof WeakMap}H.isWeakMap=F;function O(Ce){return r(Ce)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function N(Ce){return O(Ce)}H.isWeakSet=N;function z(Ce){return r(Ce)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function V(Ce){return typeof ArrayBuffer>"u"?!1:z.working?z(Ce):Ce instanceof ArrayBuffer}H.isArrayBuffer=V;function W(Ce){return r(Ce)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function $(Ce){return typeof DataView>"u"?!1:W.working?W(Ce):Ce instanceof DataView}H.isDataView=$;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(Ce){return r(Ce)==="[object SharedArrayBuffer]"}function ue(Ce){return typeof re>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new re)),ne.working?ne(Ce):Ce instanceof re)}H.isSharedArrayBuffer=ue;function J(Ce){return r(Ce)==="[object AsyncFunction]"}H.isAsyncFunction=J;function X(Ce){return r(Ce)==="[object Map Iterator]"}H.isMapIterator=X;function oe(Ce){return r(Ce)==="[object Set Iterator]"}H.isSetIterator=oe;function Y(Ce){return r(Ce)==="[object Generator]"}H.isGeneratorObject=Y;function q(Ce){return r(Ce)==="[object WebAssembly.Module]"}H.isWebAssemblyCompiledModule=q;function se(Ce){return l(Ce,t)}H.isNumberObject=se;function Q(Ce){return l(Ce,i)}H.isStringObject=Q;function K(Ce){return l(Ce,n)}H.isBooleanObject=K;function le(Ce){return v&&l(Ce,u)}H.isBigIntObject=le;function ie(Ce){return p&&l(Ce,f)}H.isSymbolObject=ie;function ce(Ce){return se(Ce)||Q(Ce)||K(Ce)||le(Ce)||ie(Ce)}H.isBoxedPrimitive=ce;function ye(Ce){return typeof Uint8Array<"u"&&(V(Ce)||ue(Ce))}H.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ce){Object.defineProperty(H,Ce,{enumerable:!1,value:function(){throw new Error(Ce+" is not supported in userland")}})})},35840:function(j,H,e){var g=e(4168),P=Object.getOwnPropertyDescriptors||function(re){for(var ne=Object.keys(re),ue={},J=0;J<ne.length;J++)ue[ne[J]]=Object.getOwnPropertyDescriptor(re,ne[J]);return ue},a=/%[sdj%]/g;H.format=function($){if(!A($)){for(var re=[],ne=0;ne<arguments.length;ne++)re.push(p(arguments[ne]));return re.join(" ")}for(var ne=1,ue=arguments,J=ue.length,X=String($).replace(a,function(Y){if(Y==="%%")return"%";if(ne>=J)return Y;switch(Y){case"%s":return String(ue[ne++]);case"%d":return Number(ue[ne++]);case"%j":try{return JSON.stringify(ue[ne++])}catch{return"[Circular]"}default:return Y}}),oe=ue[ne];ne<J;oe=ue[++ne])o(oe)||!b(oe)?X+=" "+oe:X+=" "+p(oe);return X},H.deprecate=function($,re){if(typeof g<"u"&&g.noDeprecation===!0)return $;if(typeof g>"u")return function(){return H.deprecate($,re).apply(this,arguments)};var ne=!1;function ue(){if(!ne){if(g.throwDeprecation)throw new Error(re);g.traceDeprecation?console.trace(re):console.error(re),ne=!0}return $.apply(this,arguments)}return ue};var x={},M=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+v+"$","i")}H.debuglog=function($){if($=$.toUpperCase(),!x[$])if(M.test($)){var re=g.pid;x[$]=function(){var ne=H.format.apply(H,arguments);console.error("%s %d: %s",$,re,ne)}}else x[$]=function(){};return x[$]};function p($,re){var ne={seen:[],stylize:t};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),c(re)?ne.showHidden=re:re&&H._extend(ne,re),m(ne.showHidden)&&(ne.showHidden=!1),m(ne.depth)&&(ne.depth=2),m(ne.colors)&&(ne.colors=!1),m(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=r),n(ne,$,ne.depth)}H.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r($,re){var ne=p.styles[re];return ne?"\x1B["+p.colors[ne][0]+"m"+$+"\x1B["+p.colors[ne][1]+"m":$}function t($,re){return $}function i($){var re={};return $.forEach(function(ne,ue){re[ne]=!0}),re}function n($,re,ne){if($.customInspect&&re&&T(re.inspect)&&re.inspect!==H.inspect&&!(re.constructor&&re.constructor.prototype===re)){var ue=re.inspect(ne,$);return A(ue)||(ue=n($,ue,ne)),ue}var J=u($,re);if(J)return J;var X=Object.keys(re),oe=i(X);if($.showHidden&&(X=Object.getOwnPropertyNames(re)),L(re)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return f(re);if(X.length===0){if(T(re)){var Y=re.name?": "+re.name:"";return $.stylize("[Function"+Y+"]","special")}if(E(re))return $.stylize(RegExp.prototype.toString.call(re),"regexp");if(s(re))return $.stylize(Date.prototype.toString.call(re),"date");if(L(re))return f(re)}var q="",se=!1,Q=["{","}"];if(S(re)&&(se=!0,Q=["[","]"]),T(re)){var K=re.name?": "+re.name:"";q=" [Function"+K+"]"}if(E(re)&&(q=" "+RegExp.prototype.toString.call(re)),s(re)&&(q=" "+Date.prototype.toUTCString.call(re)),L(re)&&(q=" "+f(re)),X.length===0&&(!se||re.length==0))return Q[0]+q+Q[1];if(ne<0)return E(re)?$.stylize(RegExp.prototype.toString.call(re),"regexp"):$.stylize("[Object]","special");$.seen.push(re);var le;return se?le=l($,re,ne,oe,X):le=X.map(function(ie){return y($,re,ne,oe,ie,se)}),$.seen.pop(),h(le,q,Q)}function u($,re){if(m(re))return $.stylize("undefined","undefined");if(A(re)){var ne="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(ne,"string")}if(w(re))return $.stylize(""+re,"number");if(c(re))return $.stylize(""+re,"boolean");if(o(re))return $.stylize("null","null")}function f($){return"["+Error.prototype.toString.call($)+"]"}function l($,re,ne,ue,J){for(var X=[],oe=0,Y=re.length;oe<Y;++oe)N(re,String(oe))?X.push(y($,re,ne,ue,String(oe),!0)):X.push("");return J.forEach(function(q){q.match(/^\d+$/)||X.push(y($,re,ne,ue,q,!0))}),X}function y($,re,ne,ue,J,X){var oe,Y,q;if(q=Object.getOwnPropertyDescriptor(re,J)||{value:re[J]},q.get?q.set?Y=$.stylize("[Getter/Setter]","special"):Y=$.stylize("[Getter]","special"):q.set&&(Y=$.stylize("[Setter]","special")),N(ue,J)||(oe="["+J+"]"),Y||($.seen.indexOf(q.value)<0?(o(ne)?Y=n($,q.value,null):Y=n($,q.value,ne-1),Y.indexOf(`
`)>-1&&(X?Y=Y.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(se){return"   "+se}).join(`
`))):Y=$.stylize("[Circular]","special")),m(oe)){if(X&&J.match(/^\d+$/))return Y;oe=JSON.stringify(""+J),oe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(oe=oe.slice(1,-1),oe=$.stylize(oe,"name")):(oe=oe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),oe=$.stylize(oe,"string"))}return oe+": "+Y}function h($,re,ne){var ue=$.reduce(function(J,X){return X.indexOf(`
`)>=0,J+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ue>60?ne[0]+(re===""?"":re+`
 `)+" "+$.join(`,
  `)+" "+ne[1]:ne[0]+re+" "+$.join(", ")+" "+ne[1]}H.types=e(41088);function S($){return Array.isArray($)}H.isArray=S;function c($){return typeof $=="boolean"}H.isBoolean=c;function o($){return $===null}H.isNull=o;function d($){return $==null}H.isNullOrUndefined=d;function w($){return typeof $=="number"}H.isNumber=w;function A($){return typeof $=="string"}H.isString=A;function C($){return typeof $=="symbol"}H.isSymbol=C;function m($){return $===void 0}H.isUndefined=m;function E($){return b($)&&_($)==="[object RegExp]"}H.isRegExp=E,H.types.isRegExp=E;function b($){return typeof $=="object"&&$!==null}H.isObject=b;function s($){return b($)&&_($)==="[object Date]"}H.isDate=s,H.types.isDate=s;function L($){return b($)&&(_($)==="[object Error]"||$ instanceof Error)}H.isError=L,H.types.isNativeError=L;function T($){return typeof $=="function"}H.isFunction=T;function k($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $>"u"}H.isPrimitive=k,H.isBuffer=e(75272);function _($){return Object.prototype.toString.call($)}function B($){return $<10?"0"+$.toString(10):$.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var $=new Date,re=[B($.getHours()),B($.getMinutes()),B($.getSeconds())].join(":");return[$.getDate(),F[$.getMonth()],re].join(" ")}H.log=function(){console.log("%s - %s",O(),H.format.apply(H,arguments))},H.inherits=e(6768),H._extend=function($,re){if(!re||!b(re))return $;for(var ne=Object.keys(re),ue=ne.length;ue--;)$[ne[ue]]=re[ne[ue]];return $};function N($,re){return Object.prototype.hasOwnProperty.call($,re)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;H.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&re[z]){var ne=re[z];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,z,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var ue,J,X=new Promise(function(q,se){ue=q,J=se}),oe=[],Y=0;Y<arguments.length;Y++)oe.push(arguments[Y]);oe.push(function(q,se){q?J(q):ue(se)});try{re.apply(this,oe)}catch(q){J(q)}return X}return Object.setPrototypeOf(ne,Object.getPrototypeOf(re)),z&&Object.defineProperty(ne,z,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,P(re))},H.promisify.custom=z;function V($,re){if(!$){var ne=new Error("Promise was rejected with a falsy value");ne.reason=$,$=ne}return re($)}function W($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var ne=[],ue=0;ue<arguments.length;ue++)ne.push(arguments[ue]);var J=ne.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var X=this,oe=function(){return J.apply(X,arguments)};$.apply(this,ne).then(function(Y){g.nextTick(oe.bind(null,null,Y))},function(Y){g.nextTick(V.bind(null,Y,oe))})}return Object.setPrototypeOf(re,Object.getPrototypeOf($)),Object.defineProperties(re,P($)),re}H.callbackify=W},5408:function(j,H,e){var g=e(13380);j.exports=function(a){return g("webgl",a)}},96632:function(j,H,e){var g=e(46492),P=e(63436),a=e(57916),x=e(99676),M=e(2304),v=x("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=P(),i=x("String.prototype.slice"),n=Object.getPrototypeOf,u=x("Array.prototype.indexOf",!0)||function(S,c){for(var o=0;o<S.length;o+=1)if(S[o]===c)return o;return-1},f={__proto__:null};p&&M&&n?g(t,function(h){var S=new r[h];if(Symbol.toStringTag in S){var c=n(S),o=M(c,Symbol.toStringTag);if(!o){var d=n(c);o=M(d,Symbol.toStringTag)}f["$"+h]=a(o.get)}}):g(t,function(h){var S=new r[h],c=S.slice||S.set;c&&(f["$"+h]=a(c))});var l=function(S){var c=!1;return g(f,function(o,d){if(!c)try{"$"+o(S)===d&&(c=i(d,1))}catch{}}),c},y=function(S){var c=!1;return g(f,function(o,d){if(!c)try{o(S),c=i(d,1)}catch{}}),c};j.exports=function(S){if(!S||typeof S!="object")return!1;if(!p){var c=i(v(S),8,-1);return u(t,c)>-1?c:c!=="Object"?!1:y(S)}return M?l(S):null}},67020:function(j,H,e){var g=e(38700),P=e(50896),a=g.instance();function x(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}x.prototype=new g.baseCalendar,P(x.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,l){if(typeof f=="string"){var y=f.match(v);return y?y[0]:""}var h=this._validateYear(f),S=f.month(),c=""+this.toChineseMonth(h,S);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,S)&&(c+="i"),c},monthNames:function(f){if(typeof f=="string"){var l=f.match(p);return l?l[0]:""}var y=this._validateYear(f),h=f.month(),S=this.toChineseMonth(y,h),c=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][S-1];return this.isIntercalaryMonth(y,h)&&(c="闰"+c),c},monthNamesShort:function(f){if(typeof f=="string"){var l=f.match(r);return l?l[0]:""}var y=this._validateYear(f),h=f.month(),S=this.toChineseMonth(y,h),c=["一","二","三","四","五","六","七","八","九","十","十一","十二"][S-1];return this.isIntercalaryMonth(y,h)&&(c="闰"+c),c},parseMonth:function(f,l){f=this._validateYear(f);var y=parseInt(l),h;if(isNaN(y))l[0]==="闰"&&(h=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),y=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var S=l[l.length-1];h=S==="i"||S==="I"}var c=this.toMonthIndex(f,y,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,l){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw l.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,l,y){var h=this.intercalaryMonth(f),S=y&&l!==h;if(S||l<1||l>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!y&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var y=this.intercalaryMonth(f),h=y?12:11;if(l<0||l>h)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var S;return y?l<y?S=l+1:S=l:S=l+1,S},intercalaryMonth:function(f){f=this._validateYear(f);var l=t[f-t[0]],y=l>>13;return y},isIntercalaryMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var y=this.intercalaryMonth(f);return!!y&&y===l},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,l,y){var h=this._validateYear(f,g.local.invalidyear),S=i[h-i[0]],c=S>>9&4095,o=S>>5&15,d=S&31,w;w=a.newDate(c,o,d),w.add(4-(w.dayOfWeek()||7),"d");var A=this.toJD(f,l,y)-w.toJD();return 1+Math.floor(A/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,l){f.year&&(l=f.month(),f=f.year()),f=this._validateYear(f);var y=t[f-t[0]],h=y>>13,S=h?12:11;if(l>S)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=y&1<<12-l?30:29;return c},weekDay:function(f,l,y){return(this.dayOfWeek(f,l,y)||7)<6},toJD:function(f,l,y){var h=this._validate(f,c,y,g.local.invalidDate);f=this._validateYear(h.year()),l=h.month(),y=h.day();var S=this.isIntercalaryMonth(f,l),c=this.toChineseMonth(f,l),o=u(f,c,y,S);return a.toJD(o.year,o.month,o.day)},fromJD:function(f){var l=a.fromJD(f),y=n(l.year(),l.month(),l.day()),h=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,h,y.day)},fromString:function(f){var l=f.match(M),y=this._validateYear(+l[1]),h=+l[2],S=!!l[3],c=this.toMonthIndex(y,h,S),o=+l[4];return this.newDate(y,c,o)},add:function(f,l,y){var h=f.year(),S=f.month(),c=this.isIntercalaryMonth(h,S),o=this.toChineseMonth(h,S),d=Object.getPrototypeOf(x.prototype).add.call(this,f,l,y);if(y==="y"){var w=d.year(),A=d.month(),C=this.isIntercalaryMonth(w,o),m=c&&C?this.toMonthIndex(w,o,!0):this.toMonthIndex(w,o,!1);m!==A&&d.month(m)}return d}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;g.calendars.chinese=x;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],i=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(f,l,y,h){var S,c;if(typeof f=="object")S=f,c=l||{};else{var o=typeof f=="number"&&f>=1888&&f<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var w=typeof y=="number"&&y>=1&&y<=31;if(!w)throw new Error("Solar day outside range 1 - 31");S={year:f,month:l,day:y},c=h||{}}var A=i[S.year-i[0]],C=S.year<<9|S.month<<5|S.day;c.year=C>=A?S.year:S.year-1,A=i[c.year-i[0]];var m=A>>9&4095,E=A>>5&15,b=A&31,s,L=new Date(m,E-1,b),T=new Date(S.year,S.month-1,S.day);s=Math.round((T-L)/864e5);var k=t[c.year-t[0]],_;for(_=0;_<13;_++){var B=k&1<<12-_?30:29;if(s<B)break;s-=B}var F=k>>13;return!F||_<F?(c.isIntercalary=!1,c.month=1+_):_===F?(c.isIntercalary=!0,c.month=_):(c.isIntercalary=!1,c.month=_),c.day=1+s,c}function u(f,l,y,h,S){var c,o;if(typeof f=="object")o=f,c=l||{};else{var d=typeof f=="number"&&f>=1888&&f<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var w=typeof l=="number"&&l>=1&&l<=12;if(!w)throw new Error("Lunar month outside range 1 - 12");var A=typeof y=="number"&&y>=1&&y<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,c=h):(C=!!h,c=S||{}),o={year:f,month:l,day:y,isIntercalary:C}}var m;m=o.day-1;var E=t[o.year-t[0]],b=E>>13,s;b&&(o.month>b||o.isIntercalary)?s=o.month:s=o.month-1;for(var L=0;L<s;L++){var T=E&1<<12-L?30:29;m+=T}var k=i[o.year-i[0]],_=k>>9&4095,B=k>>5&15,F=k&31,O=new Date(_,B-1,F+m);return c.year=O.getFullYear(),c.month=1+O.getMonth(),c.day=O.getDate(),c}},89792:function(j,H,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=M.year()+(M.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(x,M,v){var p=this.newDate(x,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(x,M){var v=this._validate(x,M,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(x,M,v){return(this.dayOfWeek(x,M,v)||7)<6},toJD:function(x,M,v){var p=this._validate(x,M,v,g.local.invalidDate);return x=p.year(),x<0&&x++,p.day()+(p.month()-1)*30+(x-1)*365+Math.floor(x/4)+this.jdEpoch-1},fromJD:function(x){var M=Math.floor(x)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(x)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(M/30)+1,r=M-(p-1)*30+1;return this.newDate(v,p,r)}}),g.calendars.coptic=a},55668:function(j,H,e){var g=e(38700),P=e(50896);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,v,p){var r=this._validate(M,v,p,g.local.invalidDate);return(r.day()+1)%8},weekDay:function(M,v,p){var r=this.dayOfWeek(M,v,p);return r>=2&&r<=6},extraInfo:function(M,v,p){var r=this._validate(M,v,p,g.local.invalidDate);return{century:x[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(M,v,p){var r=this._validate(M,v,p,g.local.invalidDate);return M=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(M-1)*400+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(M/400)+1;M-=(v-1)*400,M+=M>15?16:0;var p=Math.floor(M/32)+1,r=M-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var x={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=a},65168:function(j,H,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=M.year()+(M.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(x,M,v){var p=this.newDate(x,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(x,M){var v=this._validate(x,M,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(x,M,v){return(this.dayOfWeek(x,M,v)||7)<6},toJD:function(x,M,v){var p=this._validate(x,M,v,g.local.invalidDate);return x=p.year(),x<0&&x++,p.day()+(p.month()-1)*30+(x-1)*365+Math.floor(x/4)+this.jdEpoch-1},fromJD:function(x){var M=Math.floor(x)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(x)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(M/30)+1,r=M-(p-1)*30+1;return this.newDate(v,p,r)}}),g.calendars.ethiopian=a},2084:function(j,H,e){var g=e(38700),P=e(50896);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(M){return M=M<0?M+1:M,x(M*7+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,g.local.invalidYear);return M=v.year(),this.toJD(M===-1?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,v){return M.year&&(v=M.month(),M=M.year()),this._validate(M,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(M)||v===8&&x(this.daysInYear(M),10)===5?30:v===9&&x(this.daysInYear(M),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==6},extraInfo:function(M,v,p){var r=this._validate(M,v,p,g.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(M,v,p){var r=this._validate(M,v,p,g.local.invalidDate);M=r.year(),v=r.month(),p=r.day();var t=M<=0?M+1:M,i=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(M);n++)i+=this.daysInMonth(M,n);for(var n=1;n<v;n++)i+=this.daysInMonth(M,n)}else for(var n=7;n<v;n++)i+=this.daysInMonth(M,n);return i},_delay1:function(M){var v=Math.floor((235*M-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return x(3*(r+1),7)<3&&r++,r},_delay2:function(M){var v=this._delay1(M-1),p=this._delay1(M),r=this._delay1(M+1);return r-p===356?2:p-v===382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var v=Math.floor((M-this.jdEpoch)*98496/35975351)-1;M>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=M<this.toJD(v,1,1)?7:1;M>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=M-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function x(M,v){return M-v*Math.floor(M/v)}g.calendars.hebrew=a},26368:function(j,H,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(x){var M=this._validate(x,this.minMonth,this.minDay,g.local.invalidYear);return(M.year()*11+14)%30<11},weekOfYear:function(x,M,v){var p=this.newDate(x,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(x){return this.leapYear(x)?355:354},daysInMonth:function(x,M){var v=this._validate(x,M,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(x,M,v){return this.dayOfWeek(x,M,v)!==5},toJD:function(x,M,v){var p=this._validate(x,M,v,g.local.invalidDate);return x=p.year(),M=p.month(),v=p.day(),x=x<=0?x+1:x,v+Math.ceil(29.5*(M-1))+(x-1)*354+Math.floor((3+11*x)/30)+this.jdEpoch-1},fromJD:function(x){x=Math.floor(x)+.5;var M=Math.floor((30*(x-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var v=Math.min(12,Math.ceil((x-29-this.toJD(M,1,1))/29.5)+1),p=x-this.toJD(M,v,1)+1;return this.newDate(M,v,p)}}),g.calendars.islamic=a},24747:function(j,H,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=M.year()<0?M.year()+1:M.year();return v%4===0},weekOfYear:function(x,M,v){var p=this.newDate(x,M,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(x,M){var v=this._validate(x,M,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(x,M,v){return(this.dayOfWeek(x,M,v)||7)<6},toJD:function(x,M,v){var p=this._validate(x,M,v,g.local.invalidDate);return x=p.year(),M=p.month(),v=p.day(),x<0&&x++,M<=2&&(x--,M+=12),Math.floor(365.25*(x+4716))+Math.floor(30.6001*(M+1))+v-1524.5},fromJD:function(x){var M=Math.floor(x+.5),v=M+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),i=t-Math.floor(t<14?1:13),n=p-Math.floor(i>2?4716:4715),u=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,u)}}),g.calendars.julian=a},65616:function(j,H,e){var g=e(38700),P=e(50896);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,g.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate),i=t.toJD(),n=this._toHaab(i),u=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=x(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,x(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[M(v+20,20),M(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function x(v,p){return v-p*Math.floor(v/p)}function M(v,p){return x(v-1,p)+1}g.calendars.mayan=a},30632:function(j,H,e){var g=e(38700),P=e(50896);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar;var x=g.instance("gregorian");P(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return x.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidMonth),t=r.year();t<0&&t++;for(var i=r.day(),n=1;n<r.month();n++)i+=this.daysPerMonth[n-1];return i+x.toJD(t+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var v=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(v+1,1,1);)v++;for(var p=M-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),g.calendars.nanakshahi=a},73040:function(j,H,e){var g=e(38700),P=e(50896);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(x){return this.daysInYear(x)!==this.daysPerYear},weekOfYear:function(x,M,v){var p=this.newDate(x,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(x){var M=this._validate(x,this.minMonth,this.minDay,g.local.invalidYear);if(x=M.year(),typeof this.NEPALI_CALENDAR_DATA[x]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[x][p];return v},daysInMonth:function(x,M){return x.year&&(M=x.month(),x=x.year()),this._validate(x,M,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[x]>"u"?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[x][M]},weekDay:function(x,M,v){return this.dayOfWeek(x,M,v)!==6},toJD:function(x,M,v){var p=this._validate(x,M,v,g.local.invalidDate);x=p.year(),M=p.month(),v=p.day();var r=g.instance(),t=0,i=M,n=x;this._createMissingCalendarData(x);var u=x-(i>9||i===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(M!==9&&(t=v,i--);i!==9;)i<=0&&(i=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][i],i--;return M===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(u))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(u,1,1).add(t,"d").toJD()},fromJD:function(x){var M=g.instance(),v=M.fromJD(x),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][0],u=this.NEPALI_CALENDAR_DATA[t][i]-n+1;r>u;)i++,i>12&&(i=1,t++),u+=this.NEPALI_CALENDAR_DATA[t][i];var f=this.NEPALI_CALENDAR_DATA[t][i]-(u-r);return this.newDate(t,i,f)},_createMissingCalendarData:function(x){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var v=x-1;v<x+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=a},1104:function(j,H,e){var g=e(38700),P=e(50896);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==5},toJD:function(M,v,p){var r=this._validate(M,v,p,g.local.invalidDate);M=r.year(),v=r.month(),p=r.day();var t=M-(M>=0?474:473),i=474+x(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M)+.5;var v=M-this.toJD(475,1,1),p=Math.floor(v/1029983),r=x(v,1029983),t=2820;if(r!==1029982){var i=Math.floor(r/366),n=x(r,366);t=Math.floor((2134*i+2816*n+2815)/1028522)+i+1}var u=t+2820*p+474;u=u<=0?u-1:u;var f=M-this.toJD(u,1,1)+1,l=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),y=M-this.toJD(u,l,1)+1;return this.newDate(u,l,y)}});function x(M,v){return M-v*Math.floor(M/v)}g.calendars.persian=a,g.calendars.jalali=a},51456:function(j,H,e){var g=e(38700),P=e(50896),a=g.instance();function x(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}x.prototype=new g.baseCalendar,P(x.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(M){var v=a.fromJD(M),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),g.calendars.taiwan=x},4592:function(j,H,e){var g=e(38700),P=e(50896),a=g.instance();function x(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}x.prototype=new g.baseCalendar,P(x.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(M){var v=a.fromJD(M),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),g.calendars.thai=x},45348:function(j,H,e){var g=e(38700),P=e(50896);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(M,p);return v},daysInMonth:function(M,v){for(var p=this._validate(M,v,this.minDay,g.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,i=0;i<x.length;i++){if(x[i]>r)return x[t]-x[t-1];t++}return 30},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==5},toJD:function(M,v,p){var r=this._validate(M,v,p,g.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,i=r.day()+x[t-1]-1;return i+24e5-.5},fromJD:function(M){for(var v=M-24e5+.5,p=0,r=0;r<x.length&&!(x[r]>v);r++)p++;var t=p+15292,i=Math.floor((t-1)/12),n=i+1,u=t-12*i,f=v-x[p-1]+1;return this.newDate(n,u,f)},isValid:function(M,v,p){var r=g.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(M=M.year!=null?M.year:M,r=M>=1276&&M<=1500),r},_validate:function(M,v,p,r){var t=g.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),g.calendars.ummalqura=a;var x=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(j,H,e){var g=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var i=this._localCals[r+"-"+t];if(!i&&this.calendars[r]&&(i=new this.calendars[r](t),this._localCals[r+"-"+t]=i),!i)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return i},newDate:function(r,t,i,n,u){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,u):n)||this.instance(),n.newDate(r,t,i)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(i){return r[i]})}},substituteChineseDigits:function(r,t){return function(i){for(var n="",u=0;i>0;){var f=i%10;n=(f===0?"":r[f]+t[u])+n,u++,i=Math.floor(i/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function a(r,t,i,n){if(this._calendar=r,this._year=t,this._month=i,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function x(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}g(a.prototype,{newDate:function(r,t,i){return this._calendar.newDate(r??this,t,i)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,i){if(!this._calendar.isValid(r,t,i))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=i,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+x(Math.abs(this.year()),4)+"-"+x(this.month(),2)+"-"+x(this.day(),2)}});function M(){this.shortYearCutoff="+10"}g(M.prototype,{_validateLevel:0,newDate:function(r,t,i){return r==null?this.today():(r.year&&(this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),i=r.day(),t=r.month(),r=r.year()),new a(this,r,t,i))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+x(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var i=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(i.month()+this.monthsInYear(i)-this.firstMonth)%this.monthsInYear(i)+this.minMonth},fromMonthOfYear:function(r,t){var i=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,i,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),i},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,i){return this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,i){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,i),t,i)},_add:function(r,t,i){if(this._validateLevel++,i==="d"||i==="w"){var n=r.toJD()+t*(i==="w"?this.daysInWeek():1),u=r.calendar().fromJD(n);return this._validateLevel--,[u.year(),u.month(),u.day()]}try{var f=r.year()+(i==="y"?t:0),l=r.monthOfYear()+(i==="m"?t:0),u=r.day(),y=function(c){for(;l<c.minMonth;)f--,l+=c.monthsInYear(f);for(var o=c.monthsInYear(f);l>o-1+c.minMonth;)f++,l-=o,o=c.monthsInYear(f)};i==="y"?(r.month()!==this.fromMonthOfYear(f,l)&&(l=this.newDate(f,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(f)),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,l)))):i==="m"&&(y(this),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,l))));var h=[f,this.fromMonthOfYear(f,l),u];return this._validateLevel--,h}catch(S){throw this._validateLevel--,S}},_correctAdd:function(r,t,i,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var u={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],f=i<0?-1:1;t=this._add(r,i*u[0]+f*u[1],u[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,i){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=i==="y"?t:r.year(),u=i==="m"?t:r.month(),f=i==="d"?t:r.day();return(i==="y"||i==="m")&&(f=Math.min(f,this.daysInMonth(n,u))),r.date(n,u,f)},isValid:function(r,t,i){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var u=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(u)&&i>=this.minDay&&i-this.minDay<this.daysInMonth(u)}return this._validateLevel--,n},toJSDate:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,i,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,i))throw n.replace(/\{0\}/,this.local.name);var u=this.newDate(r,t,i);return this._validateLevel--,u}catch(f){throw this._validateLevel--,f}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new M,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var t=this._validate(i,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),i=t.year()+(t.year()<0?1:0);return i%4===0&&(i%100!==0||i%400===0)},weekOfYear:function(r,t,i){var n=this.newDate(r,t,i);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var i=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(r,t,i){return(this.dayOfWeek(r,t,i)||7)<6},toJD:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),i=n.day(),r<0&&r++,t<3&&(t+=12,r--);var u=Math.floor(r/100),f=2-u+Math.floor(u/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+i+f-1524.5},fromJD:function(r){var t=Math.floor(r+.5),i=Math.floor((t-186721625e-2)/36524.25);i=t+1+i-Math.floor(i/4);var n=i+1524,u=Math.floor((n-122.1)/365.25),f=Math.floor(365.25*u),l=Math.floor((n-f)/30.6001),y=n-f-Math.floor(l*30.6001),h=l-(l>13.5?13:1),S=u-(h>2.5?4716:4715);return S<=0&&S--,this.newDate(S,h,y)},toJSDate:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),u=new Date(n.year(),n.month()-1,n.day());return u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0),u.setHours(u.getHours()>12?u.getHours()+2:0),u},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=j.exports=new P;p.cdate=a,p.baseCalendar=M,p.calendars.gregorian=v},15168:function(j,H,e){var g=e(50896),P=e(38700);g(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],g(P.cdate.prototype,{formatDate:function(a,x){return typeof a!="string"&&(x=a,a=""),this._calendar.formatDate(a||"",this,x)}}),g(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,x,M){if(typeof a!="string"&&(M=x,x=a,a=""),!x)return"";if(x.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,M=M||{};var v=M.dayNamesShort||this.local.dayNamesShort,p=M.dayNames||this.local.dayNames,r=M.monthNumbers||this.local.monthNumbers,t=M.monthNamesShort||this.local.monthNamesShort,i=M.monthNames||this.local.monthNames;M.calculateWeek||this.local.calculateWeek;for(var n=function(A,C){for(var m=1;w+m<a.length&&a.charAt(w+m)===A;)m++;return w+=m-1,Math.floor(m/(C||1))>1},u=function(A,C,m,E){var b=""+C;if(n(A,E))for(;b.length<m;)b="0"+b;return b},f=function(A,C,m,E){return n(A)?E[C]:m[C]},l=this,y=function(A){return typeof r=="function"?r.call(l,A,n("m")):c(u("m",A.month(),2))},h=function(A,C){return C?typeof i=="function"?i.call(l,A):i[A.month()-l.minMonth]:typeof t=="function"?t.call(l,A):t[A.month()-l.minMonth]},S=this.local.digits,c=function(A){return M.localNumbers&&S?S(A):A},o="",d=!1,w=0;w<a.length;w++)if(d)a.charAt(w)==="'"&&!n("'")?d=!1:o+=a.charAt(w);else switch(a.charAt(w)){case"d":o+=c(u("d",x.day(),2));break;case"D":o+=f("D",x.dayOfWeek(),v,p);break;case"o":o+=u("o",x.dayOfYear(),3);break;case"w":o+=u("w",x.weekOfYear(),2);break;case"m":o+=y(x);break;case"M":o+=h(x,n("M"));break;case"y":o+=n("y",2)?x.year():(x.year()%100<10?"0":"")+x.year()%100;break;case"Y":n("Y",2),o+=x.formatYear();break;case"J":o+=x.toJD();break;case"@":o+=(x.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(x.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":d=!0;break;default:o+=a.charAt(w)}return o},parseDate:function(a,x,M){if(x==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(x=typeof x=="object"?x.toString():x+"",x==="")return null;a=a||this.local.dateFormat,M=M||{};var v=M.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=M.dayNamesShort||this.local.dayNamesShort,r=M.dayNames||this.local.dayNames,t=M.parseMonth||this.local.parseMonth,i=M.monthNumbers||this.local.monthNumbers,n=M.monthNamesShort||this.local.monthNamesShort,u=M.monthNames||this.local.monthNames,f=-1,l=-1,y=-1,h=-1,S=-1,c=!1,o=!1,d=function(_,B){for(var F=1;L+F<a.length&&a.charAt(L+F)===_;)F++;return L+=F-1,Math.floor(F/(B||1))>1},w=function(_,B){var F=d(_,B),O=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],N=new RegExp("^-?\\d{1,"+O+"}"),z=x.substring(s).match(N);if(!z)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=z[0].length,parseInt(z[0],10)},A=this,C=function(){if(typeof i=="function"){d("m");var _=i.call(A,x.substring(s));return s+=_.length,_}return w("m")},m=function(_,B,F,O){for(var N=d(_,O)?F:B,z=0;z<N.length;z++)if(x.substr(s,N[z].length).toLowerCase()===N[z].toLowerCase())return s+=N[z].length,z+A.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},E=function(){if(typeof u=="function"){var _=d("M")?u.call(A,x.substring(s)):n.call(A,x.substring(s));return s+=_.length,_}return m("M",n,u)},b=function(){if(x.charAt(s)!==a.charAt(L))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,L=0;L<a.length;L++)if(o)a.charAt(L)==="'"&&!d("'")?o=!1:b();else switch(a.charAt(L)){case"d":h=w("d");break;case"D":m("D",p,r);break;case"o":S=w("o");break;case"w":w("w");break;case"m":y=C();break;case"M":y=E();break;case"y":var T=L;c=!d("y",2),L=T,l=w("y",2);break;case"Y":l=w("Y",2);break;case"J":f=w("J")+.5,x.charAt(s)==="."&&(s++,w("J"));break;case"@":f=w("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=w("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=x.length;break;case"'":d("'")?b():o=!0;break;default:b()}if(s<x.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof y=="string"&&(y=t.call(this,l,y)),S>-1){y=1,h=S;for(var k=this.daysInMonth(l,y);h>k;k=this.daysInMonth(l,y))y++,h-=k}return f>-1?this.fromJD(f):this.newDate(l,y,h)},determineDate:function(a,x,M,v,p){M&&typeof M!="object"&&(p=v,v=M,M=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(i){try{return r.parseDate(v,i,p)}catch{}i=i.toLowerCase();for(var n=(i.match(/^c/)&&M?M.newDate():null)||r.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=u.exec(i);f;)n.add(parseInt(f[1],10),f[2]||"d"),f=u.exec(i);return n};return x=x?x.newDate():null,a=a==null?x:typeof a=="string"?t(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?x:r.today().add(a,"d"):r.newDate(a),a}})},21576:function(){},19768:function(){},63436:function(j,H,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;j.exports=function(){for(var x=[],M=0;M<g.length;M++)typeof P[g[M]]=="function"&&(x[x.length]=g[M]);return x}},67756:function(j,H,e){e.d(H,{qy:function(){return Ee},Gz:function(){return se}});function g(xe,Pe,Ue){xe.prototype=Pe.prototype=Ue,Ue.constructor=xe}function P(xe,Pe){var Ue=Object.create(xe.prototype);for(var Be in Pe)Ue[Be]=Pe[Be];return Ue}function a(){}var x=.7,M=1/x,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,i=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),u=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),f=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),y=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(a,w,{copy:function(Pe){return Object.assign(new this.constructor,this,Pe)},displayable:function(){return this.rgb().displayable()},hex:S,formatHex:S,formatHex8:c,formatHsl:o,formatRgb:d,toString:d});function S(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function o(){return O(this).formatHsl()}function d(){return this.rgb().formatRgb()}function w(xe){var Pe,Ue;return xe=(xe+"").trim().toLowerCase(),(Pe=t.exec(xe))?(Ue=Pe[1].length,Pe=parseInt(Pe[1],16),Ue===6?A(Pe):Ue===3?new b(Pe>>8&15|Pe>>4&240,Pe>>4&15|Pe&240,(Pe&15)<<4|Pe&15,1):Ue===8?C(Pe>>24&255,Pe>>16&255,Pe>>8&255,(Pe&255)/255):Ue===4?C(Pe>>12&15|Pe>>8&240,Pe>>8&15|Pe>>4&240,Pe>>4&15|Pe&240,((Pe&15)<<4|Pe&15)/255):null):(Pe=i.exec(xe))?new b(Pe[1],Pe[2],Pe[3],1):(Pe=n.exec(xe))?new b(Pe[1]*255/100,Pe[2]*255/100,Pe[3]*255/100,1):(Pe=u.exec(xe))?C(Pe[1],Pe[2],Pe[3],Pe[4]):(Pe=f.exec(xe))?C(Pe[1]*255/100,Pe[2]*255/100,Pe[3]*255/100,Pe[4]):(Pe=l.exec(xe))?F(Pe[1],Pe[2]/100,Pe[3]/100,1):(Pe=y.exec(xe))?F(Pe[1],Pe[2]/100,Pe[3]/100,Pe[4]):h.hasOwnProperty(xe)?A(h[xe]):xe==="transparent"?new b(NaN,NaN,NaN,0):null}function A(xe){return new b(xe>>16&255,xe>>8&255,xe&255,1)}function C(xe,Pe,Ue,Be){return Be<=0&&(xe=Pe=Ue=NaN),new b(xe,Pe,Ue,Be)}function m(xe){return xe instanceof a||(xe=w(xe)),xe?(xe=xe.rgb(),new b(xe.r,xe.g,xe.b,xe.opacity)):new b}function E(xe,Pe,Ue,Be){return arguments.length===1?m(xe):new b(xe,Pe,Ue,Be??1)}function b(xe,Pe,Ue,Be){this.r=+xe,this.g=+Pe,this.b=+Ue,this.opacity=+Be}g(b,E,P(a,{brighter:function(Pe){return Pe=Pe==null?M:Math.pow(M,Pe),new b(this.r*Pe,this.g*Pe,this.b*Pe,this.opacity)},darker:function(Pe){return Pe=Pe==null?x:Math.pow(x,Pe),new b(this.r*Pe,this.g*Pe,this.b*Pe,this.opacity)},rgb:function(){return this},clamp:function(){return new b(_(this.r),_(this.g),_(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:L,formatRgb:T,toString:T}));function s(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b))}function L(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b)).concat(B((isNaN(this.opacity)?1:this.opacity)*255))}function T(){var xe=k(this.opacity);return"".concat(xe===1?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(xe===1?")":", ".concat(xe,")"))}function k(xe){return isNaN(xe)?1:Math.max(0,Math.min(1,xe))}function _(xe){return Math.max(0,Math.min(255,Math.round(xe)||0))}function B(xe){return xe=_(xe),(xe<16?"0":"")+xe.toString(16)}function F(xe,Pe,Ue,Be){return Be<=0?xe=Pe=Ue=NaN:Ue<=0||Ue>=1?xe=Pe=NaN:Pe<=0&&(xe=NaN),new z(xe,Pe,Ue,Be)}function O(xe){if(xe instanceof z)return new z(xe.h,xe.s,xe.l,xe.opacity);if(xe instanceof a||(xe=w(xe)),!xe)return new z;if(xe instanceof z)return xe;xe=xe.rgb();var Pe=xe.r/255,Ue=xe.g/255,Be=xe.b/255,Ne=Math.min(Pe,Ue,Be),Xe=Math.max(Pe,Ue,Be),ut=NaN,dt=Xe-Ne,at=(Xe+Ne)/2;return dt?(Pe===Xe?ut=(Ue-Be)/dt+(Ue<Be)*6:Ue===Xe?ut=(Be-Pe)/dt+2:ut=(Pe-Ue)/dt+4,dt/=at<.5?Xe+Ne:2-Xe-Ne,ut*=60):dt=at>0&&at<1?0:ut,new z(ut,dt,at,xe.opacity)}function N(xe,Pe,Ue,Be){return arguments.length===1?O(xe):new z(xe,Pe,Ue,Be??1)}function z(xe,Pe,Ue,Be){this.h=+xe,this.s=+Pe,this.l=+Ue,this.opacity=+Be}g(z,N,P(a,{brighter:function(Pe){return Pe=Pe==null?M:Math.pow(M,Pe),new z(this.h,this.s,this.l*Pe,this.opacity)},darker:function(Pe){return Pe=Pe==null?x:Math.pow(x,Pe),new z(this.h,this.s,this.l*Pe,this.opacity)},rgb:function(){var Pe=this.h%360+(this.h<0)*360,Ue=isNaN(Pe)||isNaN(this.s)?0:this.s,Be=this.l,Ne=Be+(Be<.5?Be:1-Be)*Ue,Xe=2*Be-Ne;return new b($(Pe>=240?Pe-240:Pe+120,Xe,Ne),$(Pe,Xe,Ne),$(Pe<120?Pe+240:Pe-120,Xe,Ne),this.opacity)},clamp:function(){return new z(V(this.h),W(this.s),W(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Pe=k(this.opacity);return"".concat(Pe===1?"hsl(":"hsla(").concat(V(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(Pe===1?")":", ".concat(Pe,")"))}}));function V(xe){return xe=(xe||0)%360,xe<0?xe+360:xe}function W(xe){return Math.max(0,Math.min(1,xe||0))}function $(xe,Pe,Ue){return(xe<60?Pe+(Ue-Pe)*xe/60:xe<180?Ue:xe<240?Pe+(Ue-Pe)*(240-xe)/60:Pe)*255}var re=function(xe){return function(){return xe}};function ne(xe,Pe){return function(Ue){return xe+Ue*Pe}}function ue(xe,Pe,Ue){return xe=Math.pow(xe,Ue),Pe=Math.pow(Pe,Ue)-xe,Ue=1/Ue,function(Be){return Math.pow(xe+Be*Pe,Ue)}}function J(xe){return(xe=+xe)==1?X:function(Pe,Ue){return Ue-Pe?ue(Pe,Ue,xe):re(isNaN(Pe)?Ue:Pe)}}function X(xe,Pe){var Ue=Pe-xe;return Ue?ne(xe,Ue):re(isNaN(xe)?Pe:xe)}var oe=function xe(Pe){var Ue=J(Pe);function Be(Ne,Xe){var ut=Ue((Ne=E(Ne)).r,(Xe=E(Xe)).r),dt=Ue(Ne.g,Xe.g),at=Ue(Ne.b,Xe.b),We=X(Ne.opacity,Xe.opacity);return function(rt){return Ne.r=ut(rt),Ne.g=dt(rt),Ne.b=at(rt),Ne.opacity=We(rt),Ne+""}}return Be.gamma=xe,Be}(1);function Y(xe,Pe){var Ue=Pe?Pe.length:0,Be=xe?Math.min(Ue,xe.length):0,Ne=new Array(Be),Xe=new Array(Ue),ut;for(ut=0;ut<Be;++ut)Ne[ut]=Ee(xe[ut],Pe[ut]);for(;ut<Ue;++ut)Xe[ut]=Pe[ut];return function(dt){for(ut=0;ut<Be;++ut)Xe[ut]=Ne[ut](dt);return Xe}}function q(xe,Pe){var Ue=new Date;return xe=+xe,Pe=+Pe,function(Be){return Ue.setTime(xe*(1-Be)+Pe*Be),Ue}}function se(xe,Pe){return xe=+xe,Pe=+Pe,function(Ue){return xe*(1-Ue)+Pe*Ue}}function Q(xe){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},Q(xe)}function K(xe,Pe){var Ue={},Be={},Ne;(xe===null||Q(xe)!=="object")&&(xe={}),(Pe===null||Q(Pe)!=="object")&&(Pe={});for(Ne in Pe)Ne in xe?Ue[Ne]=Ee(xe[Ne],Pe[Ne]):Be[Ne]=Pe[Ne];return function(Xe){for(Ne in Ue)Be[Ne]=Ue[Ne](Xe);return Be}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(le.source,"g");function ce(xe){return function(){return xe}}function ye(xe){return function(Pe){return xe(Pe)+""}}function Ce(xe,Pe){var Ue=le.lastIndex=ie.lastIndex=0,Be,Ne,Xe,ut=-1,dt=[],at=[];for(xe=xe+"",Pe=Pe+"";(Be=le.exec(xe))&&(Ne=ie.exec(Pe));)(Xe=Ne.index)>Ue&&(Xe=Pe.slice(Ue,Xe),dt[ut]?dt[ut]+=Xe:dt[++ut]=Xe),(Be=Be[0])===(Ne=Ne[0])?dt[ut]?dt[ut]+=Ne:dt[++ut]=Ne:(dt[++ut]=null,at.push({i:ut,x:se(Be,Ne)})),Ue=ie.lastIndex;return Ue<Pe.length&&(Xe=Pe.slice(Ue),dt[ut]?dt[ut]+=Xe:dt[++ut]=Xe),dt.length<2?at[0]?ye(at[0].x):ce(Pe):(Pe=at.length,function(We){for(var rt=0,st;rt<Pe;++rt)dt[(st=at[rt]).i]=st.x(We);return dt.join("")})}function Ae(xe,Pe){Pe||(Pe=[]);var Ue=xe?Math.min(Pe.length,xe.length):0,Be=Pe.slice(),Ne;return function(Xe){for(Ne=0;Ne<Ue;++Ne)Be[Ne]=xe[Ne]*(1-Xe)+Pe[Ne]*Xe;return Be}}function ke(xe){return ArrayBuffer.isView(xe)&&!(xe instanceof DataView)}function we(xe){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},we(xe)}function Ee(xe,Pe){var Ue=we(Pe),Be;return Pe==null||Ue==="boolean"?re(Pe):(Ue==="number"?se:Ue==="string"?(Be=w(Pe))?(Pe=Be,oe):Ce:Pe instanceof w?oe:Pe instanceof Date?q:ke(Pe)?Ae:Array.isArray(Pe)?Y:typeof Pe.valueOf!="function"&&typeof Pe.toString!="function"||isNaN(Pe)?K:se)(xe,Pe)}},30584:function(j){j.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(j){j.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(j){j.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(j){j.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(j){j.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(j){j.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},pe={};function Re(j){var H=pe[j];if(H!==void 0)return H.exports;var e=pe[j]={exports:{}};return ee[j].call(e.exports,e,e.exports,Re),e.exports}(function(){Re.n=function(j){var H=j&&j.__esModule?function(){return j.default}:function(){return j};return Re.d(H,{a:H}),H}})(),function(){Re.d=function(j,H){for(var e in H)Re.o(H,e)&&!Re.o(j,e)&&Object.defineProperty(j,e,{enumerable:!0,get:H[e]})}}(),function(){Re.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Re.o=function(j,H){return Object.prototype.hasOwnProperty.call(j,H)}}(),function(){Re.r=function(j){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(j,"__esModule",{value:!0})}}();var Ge=Re(13792);return Ge}()})})(B6);var ED=B6.exports;(function(R){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var U=pe(F6),ee=pe(ED);function pe(j){return j&&j.__esModule?j:{default:j}}var Re=(0,U.default)(ee.default),Ge=Re;R.default=Ge})(k6);const Lx=Hx(k6);function CD({portfolio:R}){if(R.length<1)return tt.jsx("h2",{children:"No Orders Placed"});const[U,ee]=gn.useState("$"),[pe,Re,Ge]=[[],[],[]];R.forEach(({Date:H,cum_gl:e,cum_ret:g})=>{pe.push(H),Re.push(Number(e)),Ge.push(Number(g)*100)});const j=H=>{ee(H.target.value)};return tt.jsx(tt.Fragment,{children:U=="%"?tt.jsxs(tt.Fragment,{children:[tt.jsx(Lx,{className:"portfolio-chart",data:[{x:pe,y:Ge,line:{color:"green"},type:"line",xaxis:"x",yaxis:"y"}],useResizeHandler:!0,layout:{margin:{t:0,b:0,l:50,r:0},paper_bgcolor:"black",plot_bgcolor:"black",hovermode:"x",xaxis:{color:"white",autorange:!0,rangeslider:{visible:!1},rangeselector:{x:-.02,y:-.1,buttons:[{step:"month",stepmode:"backward",count:1,label:"1M"}]},rangebreaks:[{bounds:["sat","mon"]},{values:["2022-01-17","2022-02-21","2022-04-15","2022-05-30","2022-06-20","2022-07-04","2022-09-05","2022-11-24","2022-12-26","2023-01-16","2023-02-20","2023-04-07","2023-05-29","2023-06-19","2023-07-04","2023-09-04","2023-11-23","2023-12-25","2024-01-01","2024-01-15","2024-02-19","2024-03-29","2024-05-27","2024-06-19","2024-07-04","2024-09-02","2024-11-28","2024-12-25"]}]},yaxis:{ticksuffix:" %",color:"white",autorange:!0,fixedrange:!1,rangemode:"normal"}}}),tt.jsxs("div",{className:"range-selector",children:[tt.jsx("button",{className:U=="%"?"selected":"",value:"%",onClick:H=>j(H),children:"%"}),tt.jsx("button",{className:U=="$"?"selected":"",value:"$",onClick:H=>j(H),children:"$"})]})]}):tt.jsxs(tt.Fragment,{children:[tt.jsx(Lx,{className:"portfolio-chart",data:[{x:pe,y:Re,line:{color:"green"},type:"line",xaxis:"x",yaxis:"y"}],useResizeHandler:!0,layout:{margin:{t:0,b:0,l:50,r:0},paper_bgcolor:"black",plot_bgcolor:"black",hovermode:"x",xaxis:{color:"white",autorange:!0,rangeslider:{visible:!1},rangeselector:{x:-.02,y:-.1,buttons:[{step:"month",stepmode:"backward",count:1,label:"1M"}]},rangebreaks:[{bounds:["sat","mon"]},{values:["2022-01-17","2022-02-21","2022-04-15","2022-05-30","2022-06-20","2022-07-04","2022-09-05","2022-11-24","2022-12-26","2023-01-16","2023-02-20","2023-04-07","2023-05-29","2023-06-19","2023-07-04","2023-09-04","2023-11-23","2023-12-25","2024-01-01","2024-01-15","2024-02-19","2024-03-29","2024-05-27","2024-06-19","2024-07-04","2024-09-02","2024-11-28","2024-12-25"]}]},yaxis:{tickprefix:"$ ",color:"white",autorange:!0,fixedrange:!1,rangemode:"normal"}}}),tt.jsxs("div",{className:"range-selector",children:[tt.jsx("button",{className:U=="%"?"selected":"",value:"%",onClick:H=>j(H),children:"%"}),tt.jsx("button",{className:U=="$"?"selected":"",value:"$",onClick:H=>j(H),children:"$"})]})]})})}function xh(){return tt.jsxs("div",{className:"loading",children:[tt.jsx("h1",{children:"Loading"}),tt.jsx("div",{className:"animation-logo",children:tt.jsx("img",{src:"/favicon.ico",alt:"loading-logo",width:"100px"})})]})}function LD(){const R=mo(),U=$i(H=>H.session.user),ee=$i(H=>H.watchlists),pe=$i(H=>H.portfolio.history),Re=$i(H=>H.markets.markets),[Ge,j]=gn.useState(!1);return document.title="Dashboard | Stonk Trader 3000",gn.useEffect(()=>{(async()=>{await R(J9()),await R(X2()),await R(E6()),await R(zR()),j(!0)})()},[R]),Ge?tt.jsx("div",{className:"dashboard",children:U?pe&&Re&&tt.jsxs(tt.Fragment,{children:[tt.jsxs("div",{className:"dashboard-left",children:[tt.jsxs("div",{className:"portfolio-container",children:[tt.jsx("h2",{children:"Portfolio"}),tt.jsx(CD,{portfolio:pe})]}),tt.jsxs("div",{className:"market-snapshot-container",children:[tt.jsx("h2",{children:"Market Snapshot"}),tt.jsx("div",{className:"market-snapshot-cards",children:Re==null?void 0:Re.map(H=>tt.jsxs("div",{className:"market-snapshot",children:[tt.jsx("h3",{children:H.name}),tt.jsx("p",{className:H.past_day_return>0?"win":"lose",children:H.price}),tt.jsxs("p",{className:H.past_day_return>0?"win":"lose",children:[(H.past_day_return*100).toFixed(2),"%"]})]}))})]})]}),tt.jsx("div",{className:"dashboard-right",children:tt.jsx(_6,{watchlists:ee})})]}):tt.jsx(jy,{to:"/"})}):tt.jsx(xh,{})}function PD(){var a;const{listId:R}=NA(),U=$i(x=>x.session.user),ee=mo(),pe=$i(x=>x.watchlists),Re=pe[R]?pe[R]:null,[Ge,j]=gn.useState(Re==null?void 0:Re.name),[H,e]=gn.useState({}),g=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});gn.useEffect(()=>{ee(X2()),ee(fR(R)).then(j(Re==null?void 0:Re.name))},[ee,R,Re==null?void 0:Re.name]);const P=async x=>{x.preventDefault();const M=await ee(p6({name:Ge,list_number:R}));M!=null&&M.errors&&e(M.errors)};return tt.jsx(tt.Fragment,{children:Re&&U&&tt.jsxs("div",{className:"single-watchlist",children:[tt.jsxs("div",{className:"watchlist-details",children:[tt.jsxs("div",{className:"single-watchlist-header",children:[tt.jsxs("label",{children:[tt.jsx(K2,{}),Re.list_number<2e4?tt.jsx("input",{className:"watchlist-name",type:"text",value:Ge,onChange:x=>j(x.target.value),onBlur:P}):tt.jsx("div",{className:"watchlist-name defaults",children:Re.name})]}),tt.jsxs("div",{children:[Re.stocks.length," Items"]})]}),tt.jsxs("table",{className:"watchlist-stocks",children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{scope:"col",children:"Ticker"}),tt.jsx("th",{scope:"col",children:"Name"}),tt.jsx("th",{scope:"col",children:"Price"}),tt.jsx("th",{scope:"col",children:"Sector"}),tt.jsx("th",{scope:"col",children:"Market Cap"})]})}),tt.jsx("tbody",{children:(a=Re==null?void 0:Re.stocks)==null?void 0:a.map((x,M)=>tt.jsxs("tr",{children:[tt.jsx("th",{scope:"row",children:tt.jsx(Hi,{to:`/stocks/${x==null?void 0:x.ticker}`,children:x==null?void 0:x.ticker})}),tt.jsx("td",{children:x==null?void 0:x.name}),tt.jsx("td",{children:x!=null&&x.price?g.format(x.price):"-"}),tt.jsx("td",{children:x==null?void 0:x.sector}),tt.jsx("td",{children:x!=null&&x.market_cap?g.format(x.market_cap)+"M":"-"})]},M))})]})]}),tt.jsx(_6,{watchlists:pe})]})})}function RD({order:R,cash:U}){const ee=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),pe=mo(),Re=Ah(),{closeModal:Ge}=pu(),j=async H=>{H.preventDefault();const e={stock_ticker:R.ticker,cost_basis:R.price,quantity:R.orderType=="Buy"?R.quantity:-R.quantity},g=await pe(AR(e));g.errors?setErrors(g.errors):(Ge(),window.alert("Order Successfully Placed, Redirecting to Dashboard"),Re("/dashboard"))};return tt.jsxs("div",{className:"preview-order",children:[tt.jsx("h2",{children:"Preview Order"}),tt.jsxs("div",{children:[R.orderType,": ",R.quantity.toFixed(2)," shares of ",R.ticker]}),tt.jsxs("div",{children:["at ",ee.format(R.price)]}),tt.jsxs("div",{children:["Order Total: ",ee.format(R.total)]}),tt.jsxs("div",{children:["Buying Power Before: ",ee.format(U)]}),tt.jsxs("div",{children:["Buying Power After: ",ee.format(U-(R.orderType=="Buy"?R.total:-R.total))]}),tt.jsx("button",{onClick:j,children:"Place Order"})]})}function U6(){const R=mo(),[U,ee]=gn.useState(0),[pe,Re]=gn.useState({}),{closeModal:Ge}=pu(),j=async H=>{if(H.preventDefault(),Re({}),U<=0)return Re({funds:"Amount must be greater than 0"});const e=await R(a6(U));e?Re(e):Ge()};return tt.jsxs(tt.Fragment,{children:[tt.jsx("h1",{children:"Deposit Funds"}),tt.jsxs("label",{children:["Deposit Amount:",tt.jsx("input",{type:"number",value:U,onChange:H=>ee(H.target.value),min:0,required:!0})]}),pe.funds&&tt.jsx("p",{children:pe.funds}),tt.jsx("button",{onClick:j,children:"Deposit"})]})}function DD({stock:R,ownedShares:U}){var l;const ee=mo(),pe=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Re=$i(y=>y.portfolio.purchasing_power),[Ge,j]=gn.useState(""),[H,e]=gn.useState("Shares"),[g,P]=gn.useState(""),[a,x]=gn.useState(0),[M,v]=gn.useState({}),[p,r]=gn.useState({}),t=(y,h)=>{let S=h*R.price;v({}),S>Re&&v({funds:"Not Enough Funds"}),y=="Sell"&&U-h<0&&v({shares:"Not Enough Shares"});const c={orderType:y,ticker:R.ticker,price:R.price,quantity:h,total:S};x(S),r(c)},i=y=>{j(y),P("")},n=y=>{e(y),P(""),t(Ge,0)},u=y=>{let h;H=="Dollars"?h=y/R.price:h=y,P(y),t(Ge,h)},f=y=>{y.preventDefault(),v({})};return gn.useEffect(()=>{ee(n6())},[ee]),tt.jsxs("form",{className:"order-form",onSubmit:f,children:[tt.jsxs("div",{className:"order-header",children:[tt.jsxs("div",{className:"order-info",children:[tt.jsxs("h2",{children:["Trade ",R==null?void 0:R.ticker]}),tt.jsxs("h4",{children:["Price: ",pe.format(R==null?void 0:R.price)]})]}),tt.jsxs("div",{className:"order-buying-power",children:["Buying Power: ",Re?pe.format(Re):"-"]})]}),tt.jsxs("div",{className:"order-types",children:[tt.jsx("div",{className:"order-type-button "+(Ge=="Buy"?"selected":""),onClick:()=>i("Buy"),children:"Buy"}),tt.jsx("div",{className:"order-type-button "+(Ge=="Sell"?"selected":""),onClick:()=>i("Sell"),children:"Sell"})]}),tt.jsx("div",{className:"order-quantity",children:tt.jsxs("div",{className:"order-types",children:[tt.jsx("div",{className:"order-type-button "+(H=="Shares"?"selected":""),onClick:()=>n("Shares"),children:"Shares"}),tt.jsx("div",{className:"order-type-button "+(H=="Dollars"?"selected":""),onClick:()=>n("Dollars"),children:"Dollars"})]})}),tt.jsxs("div",{className:"quantity-inputs",children:[tt.jsxs("label",{children:[H=="Shares"?"# of Shares":"$ Dollars",":",tt.jsx("input",{type:"number",value:g,min:0,max:1e4,onChange:y=>u(Number(y.target.value)),onBlur:y=>y.target.value?u(Number(y.target.value)):u(""),onFocus:()=>u(""),required:!0})]}),tt.jsxs("div",{children:["Shares Owned: ",U]})]}),tt.jsxs("div",{className:"order-value",children:["Estimated Value: $ ",a==null?void 0:a.toFixed(2)]}),(l=Object.keys(M))!=null&&l.length?tt.jsxs("div",{className:"error-funds",children:[Object.values(M).map((y,h)=>tt.jsxs("p",{className:"errors",children:["* ",y]},h)),M.funds&&tt.jsx(mh,{buttonText:"Deposit",modalComponent:tt.jsx(U6,{})})]}):a&&Ge&&g?tt.jsx(mh,{type:"submit",buttonText:"Preview Order",modalComponent:tt.jsx(RD,{order:p,cash:Re})}):null]})}function ID({watchlist:R,lists:U,setLists:ee}){var j;const pe=gn.useRef(null),Re=async H=>{const e=U.indexOf(Number(H.target.value));e!==-1?(U.splice(e,1),ee([...U])):ee([...U,Number(H.target.value)])},Ge=async()=>{const H=pe.current.checked;pe.current.checked=!H;const e=U.indexOf(Number(pe.current.value));e!==-1?(U.splice(e,1),ee([...U])):ee([...U,Number(pe.current.value)])};return tt.jsxs("div",{className:"watchlist-card",children:[tt.jsx("input",{type:"checkbox",ref:pe,value:R.list_number,onChange:Re,checked:U==null?void 0:U.includes(R.list_number)}),tt.jsxs("div",{className:"watchlist-info-card",onClick:Ge,children:[tt.jsx(K2,{}),tt.jsxs("div",{className:"watchlist-info",children:[tt.jsx("div",{className:"watchlist-name",children:R==null?void 0:R.name}),tt.jsxs("div",{className:"watchlist-length",children:[(j=R==null?void 0:R.stocks)==null?void 0:j.length," item(s)"]})]})]})]})}function V6({stock:R,ticker:U}){const ee=mo(),[pe,Re]=gn.useState(!1),[Ge,j]=gn.useState(""),[H,e]=gn.useState({}),{closeModal:g}=pu(),P=$i(n=>n.watchlists),[a,x]=gn.useState(null),[M,v]=gn.useState(null),[p,r]=gn.useState(!1),t=async n=>{n.preventDefault();for(let u of M)if(!a.includes(u)){const f={name:P[u].name,list_number:u,stock_ticker:R.ticker},l=await ee(Qw(f));l!=null&&l.errors&&e(l.errors)}for(let u of a)if(!M.includes(u)){const f={name:P[u].name,list_number:u,stock_ticker:R.ticker},l=await ee(cR(f));l!=null&&l.errors&&e(l.errors)}g()},i=async n=>{n.preventDefault(),e({}),Re(!1);const u=await ee(d6({name:Ge}));if(u!=null&&u.errors)e(u.errors);else{const f={name:u.name,list_number:u.list_number,stock_ticker:R.ticker},l=await ee(Qw(f));l!=null&&l.errors?e(l.errors):(checkedLists.push(f.list_number),v([...M,f.list_number]),j(""))}};return gn.useEffect(()=>{(async()=>{await ee(X2());const u=await ee(lR(U));v([...u]),x([...u]),r(!0)})()},[ee]),!p||M===void 0?tt.jsx(xh,{}):tt.jsxs("div",{className:"add-stock-modal",children:[tt.jsxs("h2",{children:["Add ",R.ticker," to Your Lists"]}),tt.jsxs("div",{className:"create-watchlist "+(pe?"hidden":""),onClick:()=>Re(!0),children:[tt.jsx(Gy,{}),"Create New List"]}),tt.jsx("div",{className:"create-watchlist-form "+(pe?"":"hidden"),children:tt.jsxs("form",{onSubmit:i,onReset:()=>{Re(!1),j("")},children:[tt.jsxs("label",{children:["List name:",tt.jsx("input",{type:"text",value:Ge,onChange:n=>j(n.target.value),required:!0})]}),H.name&&tt.jsx("p",{children:H.name}),tt.jsxs("div",{className:"actions",children:[tt.jsx("button",{type:"reset",children:"Cancel"}),tt.jsx("button",{type:"submit",children:"Create List"})]})]})}),tt.jsx("div",{className:"watchlist-card-container",children:Object.entries(P).map(([n,u],f)=>{if(n<2e4)return tt.jsx(ID,{watchlist:u,lists:M,setLists:v},f)})}),tt.jsx("button",{onClick:t,children:"Save Changes"})]})}function _D({stock:R}){const[U,ee]=gn.useState(1),[pe,Re]=gn.useState(1),Ge=R.history,j=Ge.length*U,H=Ge.slice(Math.floor(Ge.length-j)),[e,g,P,a,x]=[[],[],[],[],[]];H.forEach(({Date:v,Open:p,High:r,Low:t,Close:i})=>{e.push(v),g.push(Number(p)),P.push(Number(r)),a.push(Number(t)),x.push(Number(i))});const M=v=>{Re(v.target.value),ee(1/v.target.value)};return tt.jsxs(tt.Fragment,{children:[tt.jsx(Lx,{className:"stock-chart",data:[{x:e,open:g,high:P,low:a,close:x,increasing:{line:{color:"green"}},decreasing:{line:{color:"red"}},line:{color:"black"},type:"candlestick",xaxis:"x",yaxis:"y"}],useResizeHandler:!0,layout:{margin:{t:0,b:0,l:50,r:0},paper_bgcolor:"black",plot_bgcolor:"black",hovermode:"x",xaxis:{color:"white",autorange:!0,rangeslider:{visible:!1},rangeselector:{x:-.02,y:-.1,buttons:[{step:"month",stepmode:"backward",count:1,label:"1M"}]},rangebreaks:[{bounds:["sat","mon"]},{values:["2022-01-17","2022-02-21","2022-04-15","2022-05-30","2022-06-20","2022-07-04","2022-09-05","2022-11-24","2022-12-26","2023-01-16","2023-02-20","2023-04-07","2023-05-29","2023-06-19","2023-07-04","2023-09-04","2023-11-23","2023-12-25","2024-01-01","2024-01-15","2024-02-19","2024-03-29","2024-05-27","2024-06-19","2024-07-04","2024-09-02","2024-11-28","2024-12-25"]}]},yaxis:{tickprefix:"$ ",color:"white",autorange:!0,fixedrange:!1,rangemode:"normal"}}}),tt.jsxs("div",{className:"range-selector",children:[tt.jsx("button",{className:pe==24?"selected":"",value:24,onClick:v=>M(v),children:"1M"}),tt.jsx("button",{className:pe==8?"selected":"",value:8,onClick:v=>M(v),children:"3M"}),tt.jsx("button",{className:pe==4?"selected":"",value:4,onClick:v=>M(v),children:"6M"}),tt.jsx("button",{className:pe==2?"selected":"",value:2,onClick:v=>M(v),children:"1Y"}),tt.jsx("button",{className:pe==1?"selected":"",value:1,onClick:v=>M(v),children:"MAX"})]})]})}function kD(){var g,P;const{ticker:R}=NA(),U=mo(),ee=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),pe=$i(a=>a.stocks)[R],Ge=$i(a=>a.portfolio)[R],[j,H]=gn.useState(!1),e=gn.useRef(null);return gn.useEffect(()=>{(async()=>{await U(yR(R)),await U(Q9(R)),H(!0)})()},[U,R]),document.title=`${R} - $${pe==null?void 0:pe.price} Stonk Trader 3000`,j?tt.jsx(tt.Fragment,{children:pe&&tt.jsxs("div",{className:"stock-details-page",children:[tt.jsxs("div",{className:"stock-details",ref:e,children:[tt.jsx("h1",{children:pe.name}),tt.jsx("h2",{children:ee.format(pe.price)}),tt.jsx(_D,{stock:pe}),tt.jsxs("div",{className:"stock-about",children:[tt.jsx("h2",{children:"About"}),tt.jsx("div",{className:"stock-about-content",children:pe.info.longBusinessSummary}),tt.jsxs("div",{className:"stock-info",children:[tt.jsxs("div",{className:"stock-info-card",children:[tt.jsx("h3",{children:"CEO"}),tt.jsx("div",{children:pe.info.companyOfficers[0].name})]}),tt.jsxs("div",{className:"stock-info-card",children:[tt.jsx("h3",{children:"Employees"}),tt.jsx("div",{children:(g=pe.info.fullTimeEmployees)==null?void 0:g.toLocaleString()})]}),tt.jsxs("div",{className:"stock-info-card",children:[tt.jsx("h3",{children:"Headquarters"}),tt.jsxs("div",{children:[pe.info.city,", ",pe.info.country]})]}),tt.jsxs("div",{className:"stock-info-card",children:[tt.jsx("h3",{children:"Industry"}),tt.jsx("div",{children:pe.info.industry})]}),tt.jsxs("div",{className:"stock-info-card",children:[tt.jsx("h3",{children:"Sector"}),tt.jsx("div",{children:pe.info.sector})]})]})]}),tt.jsxs("div",{className:"stock-statistics-container",children:[tt.jsx("h2",{children:"Key Statistics"}),tt.jsxs("div",{className:"stock-statistics",children:[tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"Market cap"}),tt.jsxs("div",{children:[ee.format(pe.market_cap/1e3),"B"]})]}),tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"Price-Earnings Ratio"}),tt.jsx("div",{children:(P=pe.info.trailingPE)==null?void 0:P.toFixed(2)})]}),tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"Dividend Yield"}),tt.jsx("div",{children:pe.info.dividendYield?(pe.info.dividendYield*100).toFixed(1)+"%":"-"})]}),tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"Avg Volume"}),tt.jsx("div",{children:pe.info.averageVolume.toLocaleString("en",{minimumFractionDigits:0,maximumFractionDigits:0})})]}),tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"Daily High"}),tt.jsx("div",{children:ee.format(pe.info.dayHigh)})]}),tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"Daily Low"}),tt.jsx("div",{children:ee.format(pe.info.dayLow)})]}),tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"Open Price"}),tt.jsx("div",{children:ee.format(pe.info.open)})]}),tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"52 Week High"}),tt.jsx("div",{children:ee.format(pe.info.fiftyTwoWeekHigh)})]}),tt.jsxs("div",{className:"stock-stat-card",children:[tt.jsx("h3",{children:"52 Week Low"}),tt.jsx("div",{children:ee.format(pe.info.fiftyTwoWeekLow)})]})]})]})]}),tt.jsxs("div",{className:"stock-actions",children:[tt.jsx(DD,{stock:pe,ownedShares:Ge}),tt.jsx(mh,{buttonText:"Add to Watchlist",modalComponent:tt.jsx(V6,{stock:pe,ticker:R})})]})]})}):tt.jsx(xh,{})}var J2={},Wy={},u0=function(R){return R&&R.Math===Math&&R},gu=u0(typeof globalThis=="object"&&globalThis)||u0(typeof window=="object"&&window)||u0(typeof self=="object"&&self)||u0(typeof Dp=="object"&&Dp)||u0(typeof Dp=="object"&&Dp)||function(){return this}()||Function("return this")(),FD={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},n1=typeof document=="object"&&document.all,dl=typeof n1>"u"&&n1!==void 0?function(R){return typeof R=="function"||R===n1}:function(R){return typeof R=="function"},OD=dl,Sh=function(R){return typeof R=="object"?R!==null:OD(R)},zD=gu,r4=Sh,Px=zD.document,ND=r4(Px)&&r4(Px.createElement),$2=function(R){return ND?Px.createElement(R):{}},BD=$2,a1=BD("span").classList,n4=a1&&a1.constructor&&a1.constructor.prototype,UD=n4===Object.prototype?void 0:n4,qu=function(R){try{return!!R()}catch{return!0}},VD=qu,H6=!VD(function(){var R=(function(){}).bind();return typeof R!="function"||R.hasOwnProperty("prototype")}),j6=H6,G6=Function.prototype,Rx=G6.call,HD=j6&&G6.bind.bind(Rx,Rx),yu=j6?HD:function(R){return function(){return Rx.apply(R,arguments)}},W6=yu,jD=W6({}.toString),GD=W6("".slice),Y6=function(R){return GD(jD(R),8,-1)},WD=yu,YD=qu,XD=Y6,i1=Object,ZD=WD("".split),KD=YD(function(){return!i1("z").propertyIsEnumerable(0)})?function(R){return XD(R)==="String"?ZD(R,""):i1(R)}:i1,X6=function(R){return R==null},JD=X6,$D=TypeError,Yy=function(R){if(JD(R))throw new $D("Can't call method on "+R);return R},QD=KD,qD=Yy,tp=function(R){return QD(qD(R))},Z6={exports:{}},a4=gu,eI=Object.defineProperty,Q2=function(R,U){try{eI(a4,R,{value:U,configurable:!0,writable:!0})}catch{a4[R]=U}return U},tI=gu,rI=Q2,i4="__core-js_shared__",o4=Z6.exports=tI[i4]||rI(i4,{});(o4.versions||(o4.versions=[])).push({version:"3.36.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"});var q2=Z6.exports,s4=q2,K6=function(R,U){return s4[R]||(s4[R]=U||{})},nI=Yy,aI=Object,J6=function(R){return aI(nI(R))},iI=yu,oI=J6,sI=iI({}.hasOwnProperty),vc=Object.hasOwn||function(U,ee){return sI(oI(U),ee)},lI=yu,uI=0,fI=Math.random(),cI=lI(1 .toString),$6=function(R){return"Symbol("+(R===void 0?"":R)+")_"+cI(++uI+fI,36)},hI=typeof navigator<"u"&&String(navigator.userAgent)||"",Q6=gu,o1=hI,l4=Q6.process,u4=Q6.Deno,f4=l4&&l4.versions||u4&&u4.version,c4=f4&&f4.v8,Ku,$g;c4&&(Ku=c4.split("."),$g=Ku[0]>0&&Ku[0]<4?1:+(Ku[0]+Ku[1]));!$g&&o1&&(Ku=o1.match(/Edge\/(\d+)/),(!Ku||Ku[1]>=74)&&(Ku=o1.match(/Chrome\/(\d+)/),Ku&&($g=+Ku[1])));var vI=$g,h4=vI,dI=qu,pI=gu,gI=pI.String,q6=!!Object.getOwnPropertySymbols&&!dI(function(){var R=Symbol("symbol detection");return!gI(R)||!(Object(R)instanceof Symbol)||!Symbol.sham&&h4&&h4<41}),yI=q6,eS=yI&&!Symbol.sham&&typeof Symbol.iterator=="symbol",mI=gu,xI=K6,v4=vc,bI=$6,wI=q6,TI=eS,sd=mI.Symbol,s1=xI("wks"),AI=TI?sd.for||sd:sd&&sd.withoutSetter||bI,Mh=function(R){return v4(s1,R)||(s1[R]=wI&&v4(sd,R)?sd[R]:AI("Symbol."+R)),s1[R]},SI=Sh,MI=String,EI=TypeError,Xy=function(R){if(SI(R))return R;throw new EI(MI(R)+" is not an object")},tS={},CI=qu,dc=!CI(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),LI=dc,PI=qu,rS=LI&&PI(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Eh={},RI=dc,DI=qu,II=$2,nS=!RI&&!DI(function(){return Object.defineProperty(II("div"),"a",{get:function(){return 7}}).a!==7}),_I=H6,Kp=Function.prototype.call,Zy=_I?Kp.bind(Kp):function(){return Kp.apply(Kp,arguments)},l1=gu,kI=dl,FI=function(R){return kI(R)?R:void 0},eb=function(R,U){return arguments.length<2?FI(l1[R]):l1[R]&&l1[R][U]},OI=yu,zI=OI({}.isPrototypeOf),NI=eb,BI=dl,UI=zI,VI=eS,HI=Object,aS=VI?function(R){return typeof R=="symbol"}:function(R){var U=NI("Symbol");return BI(U)&&UI(U.prototype,HI(R))},jI=String,GI=function(R){try{return jI(R)}catch{return"Object"}},WI=dl,YI=GI,XI=TypeError,iS=function(R){if(WI(R))return R;throw new XI(YI(R)+" is not a function")},ZI=iS,KI=X6,JI=function(R,U){var ee=R[U];return KI(ee)?void 0:ZI(ee)},u1=Zy,f1=dl,c1=Sh,$I=TypeError,QI=function(R,U){var ee,pe;if(U==="string"&&f1(ee=R.toString)&&!c1(pe=u1(ee,R))||f1(ee=R.valueOf)&&!c1(pe=u1(ee,R))||U!=="string"&&f1(ee=R.toString)&&!c1(pe=u1(ee,R)))return pe;throw new $I("Can't convert object to primitive value")},qI=Zy,d4=Sh,p4=aS,e_=JI,t_=QI,r_=Mh,n_=TypeError,a_=r_("toPrimitive"),i_=function(R,U){if(!d4(R)||p4(R))return R;var ee=e_(R,a_),pe;if(ee){if(U===void 0&&(U="default"),pe=qI(ee,R,U),!d4(pe)||p4(pe))return pe;throw new n_("Can't convert object to primitive value")}return U===void 0&&(U="number"),t_(R,U)},o_=i_,s_=aS,oS=function(R){var U=o_(R,"string");return s_(U)?U:U+""},l_=dc,u_=nS,f_=rS,Jp=Xy,g4=oS,c_=TypeError,h1=Object.defineProperty,h_=Object.getOwnPropertyDescriptor,v1="enumerable",d1="configurable",p1="writable";Eh.f=l_?f_?function(U,ee,pe){if(Jp(U),ee=g4(ee),Jp(pe),typeof U=="function"&&ee==="prototype"&&"value"in pe&&p1 in pe&&!pe[p1]){var Re=h_(U,ee);Re&&Re[p1]&&(U[ee]=pe.value,pe={configurable:d1 in pe?pe[d1]:Re[d1],enumerable:v1 in pe?pe[v1]:Re[v1],writable:!1})}return h1(U,ee,pe)}:h1:function(U,ee,pe){if(Jp(U),ee=g4(ee),Jp(pe),u_)try{return h1(U,ee,pe)}catch{}if("get"in pe||"set"in pe)throw new c_("Accessors not supported");return"value"in pe&&(U[ee]=pe.value),U};var v_=Math.ceil,d_=Math.floor,p_=Math.trunc||function(U){var ee=+U;return(ee>0?d_:v_)(ee)},g_=p_,sS=function(R){var U=+R;return U!==U||U===0?0:g_(U)},y_=sS,m_=Math.max,x_=Math.min,b_=function(R,U){var ee=y_(R);return ee<0?m_(ee+U,0):x_(ee,U)},w_=sS,T_=Math.min,A_=function(R){var U=w_(R);return U>0?T_(U,9007199254740991):0},S_=A_,M_=function(R){return S_(R.length)},E_=tp,C_=b_,L_=M_,y4=function(R){return function(U,ee,pe){var Re=E_(U),Ge=L_(Re);if(Ge===0)return!R&&-1;var j=C_(pe,Ge),H;if(R&&ee!==ee){for(;Ge>j;)if(H=Re[j++],H!==H)return!0}else for(;Ge>j;j++)if((R||j in Re)&&Re[j]===ee)return R||j||0;return!R&&-1}},P_={includes:y4(!0),indexOf:y4(!1)},tb={},R_=yu,g1=vc,D_=tp,I_=P_.indexOf,__=tb,m4=R_([].push),lS=function(R,U){var ee=D_(R),pe=0,Re=[],Ge;for(Ge in ee)!g1(__,Ge)&&g1(ee,Ge)&&m4(Re,Ge);for(;U.length>pe;)g1(ee,Ge=U[pe++])&&(~I_(Re,Ge)||m4(Re,Ge));return Re},rb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],k_=lS,F_=rb,O_=Object.keys||function(U){return k_(U,F_)},z_=dc,N_=rS,B_=Eh,U_=Xy,V_=tp,H_=O_;tS.f=z_&&!N_?Object.defineProperties:function(U,ee){U_(U);for(var pe=V_(ee),Re=H_(ee),Ge=Re.length,j=0,H;Ge>j;)B_.f(U,H=Re[j++],pe[H]);return U};var j_=eb,G_=j_("document","documentElement"),W_=K6,Y_=$6,x4=W_("keys"),nb=function(R){return x4[R]||(x4[R]=Y_(R))},X_=Xy,Z_=tS,b4=rb,K_=tb,J_=G_,$_=$2,Q_=nb,w4=">",T4="<",Dx="prototype",Ix="script",uS=Q_("IE_PROTO"),y1=function(){},fS=function(R){return T4+Ix+w4+R+T4+"/"+Ix+w4},A4=function(R){R.write(fS("")),R.close();var U=R.parentWindow.Object;return R=null,U},q_=function(){var R=$_("iframe"),U="java"+Ix+":",ee;return R.style.display="none",J_.appendChild(R),R.src=String(U),ee=R.contentWindow.document,ee.open(),ee.write(fS("document.F=Object")),ee.close(),ee.F},$p,yg=function(){try{$p=new ActiveXObject("htmlfile")}catch{}yg=typeof document<"u"?document.domain&&$p?A4($p):q_():A4($p);for(var R=b4.length;R--;)delete yg[Dx][b4[R]];return yg()};K_[uS]=!0;var cS=Object.create||function(U,ee){var pe;return U!==null?(y1[Dx]=X_(U),pe=new y1,y1[Dx]=null,pe[uS]=U):pe=yg(),ee===void 0?pe:Z_.f(pe,ee)},ek=Mh,tk=cS,rk=Eh.f,_x=ek("unscopables"),kx=Array.prototype;kx[_x]===void 0&&rk(kx,_x,{configurable:!0,value:tk(null)});var nk=function(R){kx[_x][R]=!0},ab={},ak=gu,ik=dl,S4=ak.WeakMap,ok=ik(S4)&&/native code/.test(String(S4)),ib=function(R,U){return{enumerable:!(R&1),configurable:!(R&2),writable:!(R&4),value:U}},sk=dc,lk=Eh,uk=ib,Ky=sk?function(R,U,ee){return lk.f(R,U,uk(1,ee))}:function(R,U,ee){return R[U]=ee,R},fk=ok,hS=gu,ck=Sh,hk=Ky,m1=vc,x1=q2,vk=nb,dk=tb,M4="Object already initialized",Fx=hS.TypeError,pk=hS.WeakMap,Qg,Z0,qg,gk=function(R){return qg(R)?Z0(R):Qg(R,{})},yk=function(R){return function(U){var ee;if(!ck(U)||(ee=Z0(U)).type!==R)throw new Fx("Incompatible receiver, "+R+" required");return ee}};if(fk||x1.state){var Tf=x1.state||(x1.state=new pk);Tf.get=Tf.get,Tf.has=Tf.has,Tf.set=Tf.set,Qg=function(R,U){if(Tf.has(R))throw new Fx(M4);return U.facade=R,Tf.set(R,U),U},Z0=function(R){return Tf.get(R)||{}},qg=function(R){return Tf.has(R)}}else{var Xv=vk("state");dk[Xv]=!0,Qg=function(R,U){if(m1(R,Xv))throw new Fx(M4);return U.facade=R,hk(R,Xv,U),U},Z0=function(R){return m1(R,Xv)?R[Xv]:{}},qg=function(R){return m1(R,Xv)}}var vS={set:Qg,get:Z0,has:qg,enforce:gk,getterFor:yk},ob={},dS={},pS={}.propertyIsEnumerable,gS=Object.getOwnPropertyDescriptor,mk=gS&&!pS.call({1:2},1);dS.f=mk?function(U){var ee=gS(this,U);return!!ee&&ee.enumerable}:pS;var xk=dc,bk=Zy,wk=dS,Tk=ib,Ak=tp,Sk=oS,Mk=vc,Ek=nS,E4=Object.getOwnPropertyDescriptor;ob.f=xk?E4:function(U,ee){if(U=Ak(U),ee=Sk(ee),Ek)try{return E4(U,ee)}catch{}if(Mk(U,ee))return Tk(!bk(wk.f,U,ee),U[ee])};var yS={exports:{}},Ox=dc,Ck=vc,mS=Function.prototype,Lk=Ox&&Object.getOwnPropertyDescriptor,sb=Ck(mS,"name"),Pk=sb&&(function(){}).name==="something",Rk=sb&&(!Ox||Ox&&Lk(mS,"name").configurable),xS={EXISTS:sb,PROPER:Pk,CONFIGURABLE:Rk},Dk=yu,Ik=dl,zx=q2,_k=Dk(Function.toString);Ik(zx.inspectSource)||(zx.inspectSource=function(R){return _k(R)});var kk=zx.inspectSource,lb=yu,Fk=qu,Ok=dl,Qp=vc,Nx=dc,zk=xS.CONFIGURABLE,Nk=kk,bS=vS,Bk=bS.enforce,Uk=bS.get,C4=String,mg=Object.defineProperty,Vk=lb("".slice),Hk=lb("".replace),jk=lb([].join),Gk=Nx&&!Fk(function(){return mg(function(){},"length",{value:8}).length!==8}),Wk=String(String).split("String"),Yk=yS.exports=function(R,U,ee){Vk(C4(U),0,7)==="Symbol("&&(U="["+Hk(C4(U),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),ee&&ee.getter&&(U="get "+U),ee&&ee.setter&&(U="set "+U),(!Qp(R,"name")||zk&&R.name!==U)&&(Nx?mg(R,"name",{value:U,configurable:!0}):R.name=U),Gk&&ee&&Qp(ee,"arity")&&R.length!==ee.arity&&mg(R,"length",{value:ee.arity});try{ee&&Qp(ee,"constructor")&&ee.constructor?Nx&&mg(R,"prototype",{writable:!1}):R.prototype&&(R.prototype=void 0)}catch{}var pe=Bk(R);return Qp(pe,"source")||(pe.source=jk(Wk,typeof U=="string"?U:"")),R};Function.prototype.toString=Yk(function(){return Ok(this)&&Uk(this).source||Nk(this)},"toString");var Xk=yS.exports,Zk=dl,Kk=Eh,Jk=Xk,$k=Q2,ub=function(R,U,ee,pe){pe||(pe={});var Re=pe.enumerable,Ge=pe.name!==void 0?pe.name:U;if(Zk(ee)&&Jk(ee,Ge,pe),pe.global)Re?R[U]=ee:$k(U,ee);else{try{pe.unsafe?R[U]&&(Re=!0):delete R[U]}catch{}Re?R[U]=ee:Kk.f(R,U,{value:ee,enumerable:!1,configurable:!pe.nonConfigurable,writable:!pe.nonWritable})}return R},wS={},Qk=lS,qk=rb,eF=qk.concat("length","prototype");wS.f=Object.getOwnPropertyNames||function(U){return Qk(U,eF)};var TS={};TS.f=Object.getOwnPropertySymbols;var tF=eb,rF=yu,nF=wS,aF=TS,iF=Xy,oF=rF([].concat),sF=tF("Reflect","ownKeys")||function(U){var ee=nF.f(iF(U)),pe=aF.f;return pe?oF(ee,pe(U)):ee},L4=vc,lF=sF,uF=ob,fF=Eh,cF=function(R,U,ee){for(var pe=lF(U),Re=fF.f,Ge=uF.f,j=0;j<pe.length;j++){var H=pe[j];!L4(R,H)&&!(ee&&L4(ee,H))&&Re(R,H,Ge(U,H))}},hF=qu,vF=dl,dF=/#|\.prototype\./,rp=function(R,U){var ee=gF[pF(R)];return ee===mF?!0:ee===yF?!1:vF(U)?hF(U):!!U},pF=rp.normalize=function(R){return String(R).replace(dF,".").toLowerCase()},gF=rp.data={},yF=rp.NATIVE="N",mF=rp.POLYFILL="P",xF=rp,qp=gu,bF=ob.f,wF=Ky,TF=ub,AF=Q2,SF=cF,MF=xF,AS=function(R,U){var ee=R.target,pe=R.global,Re=R.stat,Ge,j,H,e,g,P;if(pe?j=qp:Re?j=qp[ee]||AF(ee,{}):j=qp[ee]&&qp[ee].prototype,j)for(H in U){if(g=U[H],R.dontCallGetSet?(P=bF(j,H),e=P&&P.value):e=j[H],Ge=MF(pe?H:ee+(Re?".":"#")+H,R.forced),!Ge&&e!==void 0){if(typeof g==typeof e)continue;SF(g,e)}(R.sham||e&&e.sham)&&wF(g,"sham",!0),TF(j,H,g,R)}},EF=qu,CF=!EF(function(){function R(){}return R.prototype.constructor=null,Object.getPrototypeOf(new R)!==R.prototype}),LF=vc,PF=dl,RF=J6,DF=nb,IF=CF,P4=DF("IE_PROTO"),Bx=Object,_F=Bx.prototype,SS=IF?Bx.getPrototypeOf:function(R){var U=RF(R);if(LF(U,P4))return U[P4];var ee=U.constructor;return PF(ee)&&U instanceof ee?ee.prototype:U instanceof Bx?_F:null},kF=qu,FF=dl,OF=Sh,R4=SS,zF=ub,NF=Mh,Ux=NF("iterator"),MS=!1,pv,b1,w1;[].keys&&(w1=[].keys(),"next"in w1?(b1=R4(R4(w1)),b1!==Object.prototype&&(pv=b1)):MS=!0);var BF=!OF(pv)||kF(function(){var R={};return pv[Ux].call(R)!==R});BF&&(pv={});FF(pv[Ux])||zF(pv,Ux,function(){return this});var ES={IteratorPrototype:pv,BUGGY_SAFARI_ITERATORS:MS},UF=Eh.f,VF=vc,HF=Mh,D4=HF("toStringTag"),fb=function(R,U,ee){R&&!ee&&(R=R.prototype),R&&!VF(R,D4)&&UF(R,D4,{configurable:!0,value:U})},jF=ES.IteratorPrototype,GF=cS,WF=ib,YF=fb,XF=ab,ZF=function(){return this},KF=function(R,U,ee,pe){var Re=U+" Iterator";return R.prototype=GF(jF,{next:WF(+!pe,ee)}),YF(R,Re,!1),XF[Re]=ZF,R},JF=yu,$F=iS,QF=function(R,U,ee){try{return JF($F(Object.getOwnPropertyDescriptor(R,U)[ee]))}catch{}},qF=Sh,eO=function(R){return qF(R)||R===null},tO=eO,rO=String,nO=TypeError,aO=function(R){if(tO(R))return R;throw new nO("Can't set "+rO(R)+" as a prototype")},iO=QF,oO=Sh,sO=Yy,lO=aO,uO=Object.setPrototypeOf||("__proto__"in{}?function(){var R=!1,U={},ee;try{ee=iO(Object.prototype,"__proto__","set"),ee(U,[]),R=U instanceof Array}catch{}return function(Re,Ge){return sO(Re),lO(Ge),oO(Re)&&(R?ee(Re,Ge):Re.__proto__=Ge),Re}}():void 0),fO=AS,cO=Zy,CS=xS,hO=dl,vO=KF,I4=SS,_4=uO,dO=fb,pO=Ky,T1=ub,gO=Mh,yO=ab,LS=ES,mO=CS.PROPER,xO=CS.CONFIGURABLE,k4=LS.IteratorPrototype,eg=LS.BUGGY_SAFARI_ITERATORS,f0=gO("iterator"),F4="keys",c0="values",O4="entries",bO=function(){return this},wO=function(R,U,ee,pe,Re,Ge,j){vO(ee,U,pe);var H=function(t){if(t===Re&&x)return x;if(!eg&&t&&t in P)return P[t];switch(t){case F4:return function(){return new ee(this,t)};case c0:return function(){return new ee(this,t)};case O4:return function(){return new ee(this,t)}}return function(){return new ee(this)}},e=U+" Iterator",g=!1,P=R.prototype,a=P[f0]||P["@@iterator"]||Re&&P[Re],x=!eg&&a||H(Re),M=U==="Array"&&P.entries||a,v,p,r;if(M&&(v=I4(M.call(new R)),v!==Object.prototype&&v.next&&(I4(v)!==k4&&(_4?_4(v,k4):hO(v[f0])||T1(v,f0,bO)),dO(v,e,!0))),mO&&Re===c0&&a&&a.name!==c0&&(xO?pO(P,"name",c0):(g=!0,x=function(){return cO(a,this)})),Re)if(p={values:H(c0),keys:Ge?x:H(F4),entries:H(O4)},j)for(r in p)(eg||g||!(r in P))&&T1(P,r,p[r]);else fO({target:U,proto:!0,forced:eg||g},p);return P[f0]!==x&&T1(P,f0,x,{name:Re}),yO[U]=x,p},TO=function(R,U){return{value:R,done:U}},AO=tp,cb=nk,z4=ab,PS=vS,SO=Eh.f,MO=wO,tg=TO,EO=dc,RS="Array Iterator",CO=PS.set,LO=PS.getterFor(RS),PO=MO(Array,"Array",function(R,U){CO(this,{type:RS,target:AO(R),index:0,kind:U})},function(){var R=LO(this),U=R.target,ee=R.index++;if(!U||ee>=U.length)return R.target=void 0,tg(void 0,!0);switch(R.kind){case"keys":return tg(ee,!1);case"values":return tg(U[ee],!1)}return tg([ee,U[ee]],!1)},"values"),N4=z4.Arguments=z4.Array;cb("keys");cb("values");cb("entries");if(EO&&N4.name!=="values")try{SO(N4,"name",{value:"values"})}catch{}var B4=gu,DS=FD,RO=UD,y0=PO,U4=Ky,DO=fb,IO=Mh,A1=IO("iterator"),S1=y0.values,IS=function(R,U){if(R){if(R[A1]!==S1)try{U4(R,A1,S1)}catch{R[A1]=S1}if(DO(R,U,!0),DS[U]){for(var ee in y0)if(R[ee]!==y0[ee])try{U4(R,ee,y0[ee])}catch{R[ee]=y0[ee]}}}};for(var M1 in DS)IS(B4[M1]&&B4[M1].prototype,M1);IS(RO,"DOMTokenList");var _O=Mh,kO=_O("toStringTag"),_S={};_S[kO]="z";var FO=String(_S)==="[object z]",OO=FO,zO=dl,xg=Y6,NO=Mh,BO=NO("toStringTag"),UO=Object,VO=xg(function(){return arguments}())==="Arguments",HO=function(R,U){try{return R[U]}catch{}},jO=OO?xg:function(R){var U,ee,pe;return R===void 0?"Undefined":R===null?"Null":typeof(ee=HO(U=UO(R),BO))=="string"?ee:VO?xg(U):(pe=xg(U))==="Object"&&zO(U.callee)?"Arguments":pe},GO=jO,WO=String,kS=function(R){if(GO(R)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return WO(R)},FS=`	
\v\f\r                　\u2028\u2029\uFEFF`,YO=yu,XO=Yy,ZO=kS,Vx=FS,V4=YO("".replace),KO=RegExp("^["+Vx+"]+"),JO=RegExp("(^|[^"+Vx+"])["+Vx+"]+$"),E1=function(R){return function(U){var ee=ZO(XO(U));return R&1&&(ee=V4(ee,KO,"")),R&2&&(ee=V4(ee,JO,"$1")),ee}},$O={start:E1(1),end:E1(2),trim:E1(3)},OS=gu,QO=qu,qO=yu,ez=kS,tz=$O.trim,rz=FS,nz=qO("".charAt),ey=OS.parseFloat,H4=OS.Symbol,j4=H4&&H4.iterator,az=1/ey(rz+"-0")!==-1/0||j4&&!QO(function(){ey(Object(j4))}),iz=az?function(U){var ee=tz(ez(U)),pe=ey(ee);return pe===0&&nz(ee,0)==="-"?-0:pe}:ey,oz=AS,G4=iz;oz({global:!0,forced:parseFloat!==G4},{parseFloat:G4});function zS(R){var U,ee,pe="";if(typeof R=="string"||typeof R=="number")pe+=R;else if(typeof R=="object")if(Array.isArray(R))for(U=0;U<R.length;U++)R[U]&&(ee=zS(R[U]))&&(pe&&(pe+=" "),pe+=ee);else for(U in R)R[U]&&(pe&&(pe+=" "),pe+=U);return pe}function W4(){for(var R,U,ee=0,pe="";ee<arguments.length;)(R=arguments[ee++])&&(U=zS(R))&&(pe&&(pe+=" "),pe+=U);return pe}const sz=Object.freeze(Object.defineProperty({__proto__:null,clsx:W4,default:W4},Symbol.toStringTag,{value:"Module"})),lz=NE(sz);Object.defineProperty(Wy,"__esModule",{value:!0});Wy.default=void 0;var Pl=cz(gn),uz=fz(lz);function fz(R){return R&&R.__esModule?R:{default:R}}function NS(R){if(typeof WeakMap!="function")return null;var U=new WeakMap,ee=new WeakMap;return(NS=function(Re){return Re?ee:U})(R)}function cz(R,U){if(!U&&R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var ee=NS(U);if(ee&&ee.has(R))return ee.get(R);var pe={},Re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ge in R)if(Ge!=="default"&&Object.prototype.hasOwnProperty.call(R,Ge)){var j=Re?Object.getOwnPropertyDescriptor(R,Ge):null;j&&(j.get||j.set)?Object.defineProperty(pe,Ge,j):pe[Ge]=R[Ge]}return pe.default=R,ee&&ee.set(R,pe),pe}const Y4=Math.abs,C1=parseFloat,h0="min",rg="max",L1="any",X4="vertical",Z4="tabindex",K4="data-lower",J4="data-upper",ng="data-active",$4="data-vertical",ag="data-disabled";class hz extends Pl.PureComponent{constructor(){super(),this.element=(0,Pl.createRef)(),this.input=[(0,Pl.createRef)(),(0,Pl.createRef)()],this.thumb=[(0,Pl.createRef)(),(0,Pl.createRef)()],this.range=(0,Pl.createRef)(),this.options={},this.firstCall=!0,this.isControlled=!1,this.externalInput=!1,this.isComponentMounted=!1,this.lastValueProp=[]}componentDidMount(){this.isComponentMounted||(this.value=this.setMinMaxProps(),this.index=this.setMinMaxProps(0,1),this.thumbWidth=this.setMinMaxProps(),this.thumbHeight=this.setMinMaxProps(),this.rangeLimits=this.setMinMaxProps(),this.sliderValue=this.setMinMaxProps(),this.maxRangeWidth=0,this.rangeWidth=0,this.isDragging=!1,this.thumbDrag=!1,this.startPos=0,this.reset(),this.addNodeEventListener(this.element.current,"pointerdown",U=>{this.elementFocused(U)}),this.thumb.forEach((U,ee)=>{this.addNodeEventListener(U.current,"pointerdown",pe=>{this.initiateThumbDrag(pe,ee,U.current)}),this.addNodeEventListener(U.current,"keydown",pe=>{pe.which>=37&&pe.which<=40&&(pe.preventDefault(),this.stepValue(ee,pe.which))})}),this.addNodeEventListener(this.range.current,"pointerdown",U=>{this.initiateRangeDrag(U)}),this.pointerMoveEvent=U=>{this.drag(U)},this.pointerUpEvent=()=>{this.isDragging&&(this.removeNodeAttribute(this.thumb[0].current,ng),this.removeNodeAttribute(this.thumb[1].current,ng),this.removeNodeAttribute(this.range.current,ng),this.isDragging=!1,this.thumbDrag?this.options.onThumbDragEnd&&this.options.onThumbDragEnd():this.options.onRangeDragEnd&&this.options.onRangeDragEnd())},this.resizeEvent=()=>{this.syncThumbDimensions(),this.updateThumbs(),this.updateRange()},this.addNodeEventListener(document,"pointermove",this.pointerMoveEvent),this.addNodeEventListener(document,"pointerup",this.pointerUpEvent),this.addNodeEventListener(window,"resize",this.resizeEvent),this.isComponentMounted=!0)}componentDidUpdate(){this.reset()}componentWillUnmount(){this.removeNodeEventListener(document,"pointermove",this.pointerMoveEvent),this.removeNodeEventListener(document,"pointerup",this.pointerUpEvent),this.removeNodeEventListener(window,"resize",this.resizeEvent),this.isComponentMounted=!1}reset(){this.isControlled=!!this.props.value,this.isControlled&&((this.firstCall||this.props.value!==this.lastValueProp)&&(this.firstCall=!1,this.externalInput=!0),this.lastValueProp=this.props.value),this.maxRangeWidth=this.options.max-this.options.min,this.updateOrientation(),this.setValue("",!0,!1),this.updateRangeLimits(),this.updateDisabledState(),this.updateThumbsDisabledState(),this.updateTabIndexes()}isNumber(U){return!isNaN(U)&&+U+""==U+""}setMinMaxProps(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{min:U,max:ee}}iterateMinMaxProps(U){[h0,rg].forEach(U)}getSetProps(U,ee,pe){if(U)return ee;pe()}setNodeAttribute(U,ee){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";U.setAttribute(ee,pe)}removeNodeAttribute(U,ee){U.removeAttribute(ee)}addNodeEventListener(U,ee,pe){let Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;U.addEventListener(ee,pe,Re?{passive:!1,capture:!0}:{})}removeNodeEventListener(U,ee,pe){let Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;U.removeEventListener(ee,pe,Re?{passive:!1,capture:!0}:{})}fallbackToDefault(U,ee){this.options[U]=this.props[U]?this.props[U]:ee}ifVerticalElse(U,ee){return this.options.orientation===X4?U:ee}currentIndex(U){return U===1?this.index.max:this.index.min}safeMinMaxValues(){let U=!1;(!this.isNumber(this.options.min)||!this.isNumber(this.options.max))&&(U=!0),this.options.min=U?1:+this.options.min,this.options.max=U?1:+this.options.max}safeThumbsDisabledValues(){this.options.thumbsDisabled instanceof Array?(this.options.thumbsDisabled.length===1&&this.options.thumbsDisabled.push(!1),this.options.thumbsDisabled.length!==1&&this.options.thumbsDisabled.length!==2&&(this.options.thumbsDisabled=[!1,!1])):this.options.thumbsDisabled=[this.options.thumbsDisabled,this.options.thumbsDisabled],this.options.thumbsDisabled[0]=!!this.options.thumbsDisabled[0],this.options.thumbsDisabled[1]=!!this.options.thumbsDisabled[1]}setValue(U){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const Re=this.setMinMaxProps(this.input[0].current.value,this.input[1].current.value);U=U||Re,this.input[this.index.min].current.value=U.min,this.input[this.index.max].current.value=this.thumbDrag||ee?U.max:U.min+this.rangeWidth,this.syncValues(),this.value.min>this.value.max&&(this.index.min=+!this.index.min,this.index.max=+!this.index.max,this.removeNodeAttribute(this.thumb[this.index.min].current,J4),this.removeNodeAttribute(this.thumb[this.index.max].current,K4),this.setNodeAttribute(this.thumb[this.index.min].current,K4),this.setNodeAttribute(this.thumb[this.index.max].current,J4),this.thumbDrag&&(this.thumbDrag=this.thumbDrag===h0?rg:h0),this.syncValues()),this.sliderValue=ee?this.value:U;let Ge=!1;(Re.min!==this.input[0].current.value||ee)&&(Ge=!0),(Re.max!==this.input[1].current.value||ee)&&(Ge=!0),Ge&&(pe&&this.options.onInput&&this.options.onInput([this.value.min,this.value.max]),(!this.isControlled||this.externalInput)&&(this.externalInput=!1,this.syncThumbDimensions(),this.updateThumbs(),this.updateRange(),this.updateAriaValueAttributes()))}syncValues(){this.iterateMinMaxProps(U=>{this.value[U]=+this.input[this.index[U]].current.value})}updateThumbs(){this.iterateMinMaxProps(U=>{this.thumb[this.index[U]].current.style[this.ifVerticalElse("top","left")]="calc(".concat((this.value[U]-this.options.min)/this.maxRangeWidth*100,"% + ").concat((.5-(this.value[U]-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth)[U],"px)")})}updateRange(){const U=this.element.current.getBoundingClientRect(),ee=(.5-(this.value.min-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth).min/this.ifVerticalElse(U.bottom-U.top,U.right-U.left),pe=(.5-(this.value.max-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth).max/this.ifVerticalElse(U.bottom-U.top,U.right-U.left);this.range.current.style[this.ifVerticalElse("top","left")]="".concat(((this.value.min-this.options.min)/this.maxRangeWidth+ee)*100,"%"),this.range.current.style[this.ifVerticalElse("height","width")]="".concat(((this.value.max-this.options.min)/this.maxRangeWidth-(this.value.min-this.options.min)/this.maxRangeWidth-ee+pe)*100,"%")}updateRangeLimits(){this.iterateMinMaxProps((U,ee)=>{this.rangeLimits[U]=this.options.thumbsDisabled[ee]?this.value[U]:this.options[U]})}updateTabIndexes(){this.iterateMinMaxProps((U,ee)=>{!this.options.disabled&&!this.options.thumbsDisabled[ee]?this.setNodeAttribute(this.thumb[this.currentIndex(ee)].current,Z4,0):this.removeNodeAttribute(this.thumb[this.currentIndex(ee)].current,Z4)})}updateAriaValueAttributes(){this.iterateMinMaxProps(U=>{this.setNodeAttribute(this.thumb[this.index[U]].current,"aria-valuemin",this.options.min),this.setNodeAttribute(this.thumb[this.index[U]].current,"aria-valuemax",this.options.max),this.setNodeAttribute(this.thumb[this.index[U]].current,"aria-valuenow",this.value[U]),this.setNodeAttribute(this.thumb[this.index[U]].current,"aria-valuetext",this.value[U])})}updateDisabledState(){this.options.disabled?this.setNodeAttribute(this.element.current,ag):this.removeNodeAttribute(this.element.current,ag)}updateThumbsDisabledState(){this.options.thumbsDisabled.forEach((U,ee)=>{const pe=this.currentIndex(ee);U?(this.setNodeAttribute(this.thumb[pe].current,ag),this.setNodeAttribute(this.thumb[pe].current,"aria-disabled",!0)):(this.removeNodeAttribute(this.thumb[pe].current,ag),this.setNodeAttribute(this.thumb[pe].current,"aria-disabled",!1))})}updateLimits(U){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.options[U]=ee,this.safeMinMaxValues(),this.iterateMinMaxProps(pe=>{this.input[0].current[pe]=this.options[pe],this.input[1].current[pe]=this.options[pe]}),this.maxRangeWidth=this.options.max-this.options.min,this.setValue("",!0),this.updateRangeLimits()}updateOrientation(){this.options.orientation===X4?this.setNodeAttribute(this.element.current,$4):this.removeNodeAttribute(this.element.current,$4),this.range.current.style[this.ifVerticalElse("left","top")]="",this.range.current.style[this.ifVerticalElse("width","height")]="",this.thumb[0].current.style[this.ifVerticalElse("left","top")]="",this.thumb[1].current.style[this.ifVerticalElse("left","top")]=""}syncThumbDimensions(){this.iterateMinMaxProps(U=>{this.thumbWidth[U]=C1(window.getComputedStyle(this.thumb[this.index[U]].current).width),this.thumbHeight[U]=C1(window.getComputedStyle(this.thumb[this.index[U]].current).height)})}currentPosition(U,ee){const pe=this.element.current.getBoundingClientRect(),Re=ee.getBoundingClientRect(),Ge=(this.ifVerticalElse(Re.top-pe.top,Re.left-pe.left)+(U["client".concat(this.ifVerticalElse("Y","X"))]-ee.getBoundingClientRect()[this.ifVerticalElse("top","left")])-(this.thumbDrag?(.5-(this.value[this.thumbDrag]-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth)[this.thumbDrag]:0))/this.ifVerticalElse(pe.bottom-pe.top,pe.right-pe.left)*this.maxRangeWidth+this.options.min;return Ge<this.options.min?this.options.min:Ge>this.options.max?this.options.max:Ge}doesntHaveClassName(U,ee){return!U.target.classList.contains(ee)}elementFocused(U){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,pe=!1;if(!this.options.disabled&&(this.doesntHaveClassName(U,"range-slider__thumb")&&this.doesntHaveClassName(U,"range-slider__range")||this.options.rangeSlideDisabled&&this.doesntHaveClassName(U,"range-slider__thumb"))&&(pe=!0),pe&&this.options.thumbsDisabled[0]&&this.options.thumbsDisabled[1]&&(pe=!1),pe){const Re=this.currentPosition(U,this.range.current),Ge=Y4(this.value.min-Re),j=Y4(this.value.max-Re);if(this.options.thumbsDisabled[0])Re>=this.value.min&&(this.setValue(this.setMinMaxProps(this.value.min,Re),!0,!ee),this.initiateThumbDrag(U,this.index.max,this.thumb[this.index.max].current,!ee));else if(this.options.thumbsDisabled[1])Re<=this.value.max&&(this.setValue(this.setMinMaxProps(Re,this.value.max),!0,!ee),this.initiateThumbDrag(U,this.index.min,this.thumb[this.index.min].current,!ee));else{let H=this.index.max;Ge===j?this.setValue(this.setMinMaxProps(this.value.min,Re),!0,!ee):(this.setValue(this.setMinMaxProps(Ge<j?Re:this.value.min,j<Ge?Re:this.value.max),!0,!ee),H=Ge<j?this.index.min:this.index.max),this.initiateThumbDrag(U,H,this.thumb[H].current,!ee)}ee&&this.elementFocused(U,!1)}}initiateDrag(U,ee){this.syncThumbDimensions(),this.setNodeAttribute(ee,ng),this.startPos=this.currentPosition(U,ee),this.isDragging=!0}initiateThumbDrag(U,ee,pe){let Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;!this.options.disabled&&!this.options.thumbsDisabled[this.currentIndex(ee)]&&(this.initiateDrag(U,pe),this.thumbDrag=this.index.min===ee?h0:rg,Re&&this.options.onThumbDragStart&&this.options.onThumbDragStart())}initiateRangeDrag(U){!this.options.disabled&&!this.options.rangeSlideDisabled&&(this.initiateDrag(U,this.range.current),this.rangeWidth=this.value.max-this.value.min,this.thumbDrag=!1,this.options.onRangeDragStart&&this.options.onRangeDragStart())}drag(U){if(this.isDragging){const ee=this.currentPosition(U,this.range.current),pe=ee-this.startPos;let Re=this.value.min,Ge=this.value.max;const j=this.thumbDrag?this.rangeLimits.min:this.options.min,H=this.thumbDrag?this.rangeLimits.max:this.options.max;(!this.thumbDrag||this.thumbDrag===h0)&&(Re=this.thumbDrag?ee:this.sliderValue.min+pe),(!this.thumbDrag||this.thumbDrag===rg)&&(Ge=this.thumbDrag?ee:this.sliderValue.max+pe),Re>=j&&Re<=H&&Ge>=j&&Ge<=H?(this.setValue({min:Re,max:Ge}),this.startPos=ee):(Re>H&&this.thumbDrag&&(this.setValue(this.setMinMaxProps(H,H)),this.startPos=ee),Ge<j&&this.thumbDrag&&(this.setValue(this.setMinMaxProps(j,j)),this.startPos=ee),Re<j&&(this.thumbDrag?this.setValue(this.setMinMaxProps(j,this.value.max)):this.setValue(this.setMinMaxProps(j,this.value.max-this.value.min+j)),this.startPos=ee),Ge>H&&(this.thumbDrag?this.setValue(this.setMinMaxProps(this.value.min,H)):this.setValue(this.setMinMaxProps(this.value.min-this.value.max+H,H)),this.startPos=ee)),this.thumbDrag||this.updateRangeLimits()}}actualStepValue(){const U=C1(this.input[0].current.step);return this.input[0].current.step===L1?L1:U===0||isNaN(U)?1:U}stepValue(U,ee){const pe=(ee===37||ee===40?-1:1)*this.ifVerticalElse(-1,1);if(!this.options.disabled&&!this.options.thumbsDisabled[this.currentIndex(U)]){let Re=this.actualStepValue();Re=Re===L1?1:Re;let Ge=this.value.min+Re*(this.index.min===U?pe:0),j=this.value.max+Re*(this.index.max===U?pe:0);Ge>this.rangeLimits.max&&(Ge=this.rangeLimits.max),j<this.rangeLimits.min&&(j=this.rangeLimits.min),this.setValue({min:Ge,max:j},!0)}}render(){return this.fallbackToDefault("rangeSlideDisabled",!1),this.fallbackToDefault("thumbsDisabled",[!1,!1]),this.fallbackToDefault("orientation","horizontal"),this.fallbackToDefault("defaultValue",[25,75]),this.fallbackToDefault("disabled",!1),this.fallbackToDefault("onThumbDragStart",!1),this.fallbackToDefault("onRangeDragStart",!1),this.fallbackToDefault("onThumbDragEnd",!1),this.fallbackToDefault("onRangeDragEnd",!1),this.fallbackToDefault("onInput",!1),this.fallbackToDefault("step",1),this.fallbackToDefault("min",0),this.fallbackToDefault("max",100),this.props.value&&this.fallbackToDefault("value",[25,75]),this.safeMinMaxValues(),this.safeThumbsDisabledValues(),Pl.default.createElement("div",{"data-testid":"element",id:this.props.id,ref:this.element,className:(0,uz.default)("range-slider",this.props.className)},Pl.default.createElement("input",{ref:this.input[0],type:"range",min:this.options.min,max:this.options.max,step:this.options.step,value:this.props.value?this.options.value[0]:this.isComponentMounted?this.value.min:this.options.defaultValue[0],onChange:()=>{},disabled:!0}),Pl.default.createElement("input",{ref:this.input[1],type:"range",min:this.options.min,max:this.options.max,step:this.options.step,value:this.props.value?this.options.value[1]:this.isComponentMounted?this.value.max:this.options.defaultValue[1],onChange:()=>{},disabled:!0}),Pl.default.createElement("div",{ref:this.thumb[0],role:"slider",className:"range-slider__thumb","data-lower":!0}),Pl.default.createElement("div",{ref:this.thumb[1],role:"slider",className:"range-slider__thumb","data-upper":!0}),Pl.default.createElement("div",{ref:this.range,className:"range-slider__range"}))}}var vz=hz;Wy.default=vz;Object.defineProperty(J2,"__esModule",{value:!0});var BS=J2.default=void 0,dz=pz(Wy);function pz(R){return R&&R.__esModule?R:{default:R}}var gz=dz.default;BS=J2.default=gz;function Rs({title:R,options:U,callback:ee,filters:pe,setFilters:Re,attr:Ge,setSelected:j,selected:H,setAllStocks:e,allStocks:g,min:P,max:a}){var y,h;const[x,M]=gn.useState(!1),[v,p]=gn.useState((y=H[Ge])==null?void 0:y.startsWith("custom")),[r,t]=gn.useState((h=H[Ge])!=null&&h.startsWith("custom")?[H[Ge].split(" ")[1],H[Ge].split(" ")[2]]:[P,a]),i=()=>M(!x),n=S=>{isNaN(S.target.value)&&(S.target.value!="custom"?(p(!1),t([P,a]),e(g),Re({...pe,[Ge]:ee(S.target.value)}),j({...H,[Ge]:S.target.value})):(j({...H,[Ge]:S.target.value}),p(!0)))},u=S=>{const c=[...r];c[0]=S.target.value,t(c)},f=S=>{const c=[...r];c[1]=S.target.value,t(c)},l=S=>{S.preventDefault(),j({...H,[Ge]:`custom ${r[0]} ${r[1]}`}),Re({...pe,[Ge]:ee(`custom ${r[0]} ${r[1]}`)})};return tt.jsxs("div",{className:"filter-card",children:[tt.jsxs("div",{className:"filter-header",children:[R,tt.jsx("button",{onClick:i,children:x?tt.jsx(I6,{}):tt.jsx(D6,{})})]}),x&&tt.jsxs("fieldset",{onChange:S=>n(S),children:[U,v&&tt.jsxs("div",{className:"custom-actions",children:[tt.jsxs("div",{className:"custom-inputs",children:[tt.jsx("input",{type:"number",value:r[0],onChange:S=>u(S),min:P,max:r[1]}),tt.jsx("input",{type:"number",value:r[1],onChange:S=>f(S),min:P,max:r[0]})]}),tt.jsx(BS,{min:P,max:a,step:(a-P)/100,value:r,onInput:t}),tt.jsx("button",{onClick:S=>l(S),children:"Apply"})]})]})]})}const yz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.avg_volume<U[1];case">":return ee=>ee.avg_volume>U[1];case"custom":return ee=>ee.avg_volume>U[1]&&ee.avg_volume<U[2];default:return ee=>ee}},mz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.price<U[1];case">":return ee=>ee.price>U[1];case"custom":return ee=>ee.price>U[1]&&ee.price<U[2];default:return ee=>ee}},xz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.distance_to_52_low>-U[1]/100;case">":return ee=>ee.distance_to_52_high<U[1]/100;default:return ee=>ee}},bz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.past_day_return<-U[1]/100;case">":return ee=>ee.past_day_return>U[1]/100;case"custom":return ee=>ee.past_day_return>U[1]/100&&ee.past_day_return<U[2]/100;default:return ee=>ee}},wz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.past_month_return<-U[1]/100;case">":return ee=>ee.past_month_return>U[1]/100;case"custom":return ee=>ee.past_month_return>U[1]/100&&ee.past_month_return<U[2]/100;default:return ee=>ee}},Tz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.past_year_return<-U[1]/100;case">":return ee=>ee.past_year_return>U[1]/100;case"custom":return ee=>ee.past_year_return>U[1]/100&&ee.past_year_return<U[2]/100;default:return ee=>ee}},Az=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.past_outperformance<-U[1]/100;case">":return ee=>ee.past_outperformance>U[1]/100;case"custom":return ee=>ee.past_outperformance>U[1]/100&&ee.past_outperformance<U[2]/100;default:return ee=>ee}},Sz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.market_cap<U[1];case">":return ee=>ee.market_cap>U[1];case"[":return ee=>ee.market_cap>U[1]&&ee.market_cap<U[2];case"custom":return ee=>ee.market_cap>U[1]&&ee.market_cap<U[2];default:return ee=>ee}},Mz=R=>R?U=>U.sector==R:U=>U,Ez=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.shares_outstanding<U[1]/1e6;case">":return ee=>ee.shares_outstanding>U[1]/1e6;case"[":return ee=>ee.shares_outstanding>U[1]/1e6&&ee.shares_outstanding<U[2]/1e6;case"custom":return ee=>ee.shares_outstanding>U[1]&&ee.shares_outstanding<U[2];default:return ee=>ee}},Cz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.short_interest<U[1]/100;case">":return ee=>ee.short_interest>U[1]/100;case"custom":return ee=>ee.short_interest>U[1]/100&&ee.short_interest<U[2]/100;default:return ee=>ee}},Lz=R=>R?U=>U.recommendation==R:U=>U,Pz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.dividend_yield<U[1]/100;case">":return ee=>ee.dividend_yield>U[1]/100;case"0":return ee=>!ee.dividend_yield;case"custom":return ee=>ee.dividend_yield>U[1]/100&&ee.dividend_yield<U[2]/100;default:return ee=>ee}},Rz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.trailing_pe<U[1];case">":return ee=>ee.trailing_pe>U[1];case"0":return ee=>!ee.trailing_pe;case"custom":return ee=>ee.trailing_pe>U[1]&&ee.trailing_pe<U[2];default:return ee=>ee}},Dz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.forward_pe<U[1];case">":return ee=>ee.forward_pe>U[1];case"0":return ee=>!ee.forward_pe;case"custom":return ee=>ee.forward_pe>U[1]&&ee.forward_pe<U[2];default:return ee=>ee}},Iz=(R=">")=>{const U=R.split(" ");switch(U[0]){case"<":return ee=>ee.pb<U[1];case">":return ee=>ee.pb>U[1];case"0":return ee=>!ee.pb;case"custom":return ee=>ee.pb>U[1]&&ee.pb<U[2];default:return ee=>ee}};function _z({params:R}){const U=mo(),ee=Ah(),[pe,Re]=gn.useState(""),[Ge,j]=gn.useState({}),{closeModal:H}=pu(),e=async g=>{g.preventDefault();const P=await U(IR({name:pe,params:JSON.stringify(R)}));P!=null&&P.errors?j(P.errors):(H(),ee(`/screener?id=${P.id}`))};return tt.jsxs("div",{className:"login-modal",children:[tt.jsx("h1",{children:"Create Screener"}),tt.jsxs("form",{onSubmit:e,onReset:()=>H(),children:[tt.jsxs("label",{children:["Screener name",tt.jsx("input",{type:"text",value:pe,onChange:g=>Re(g.target.value),required:!0})]}),Ge.name&&tt.jsx("p",{children:Ge.name}),tt.jsxs("div",{className:"params",children:["Parameters:",Object.entries(R).map(([g,P],a)=>tt.jsxs("div",{children:[g,": ",P]},a))]}),Ge.params&&tt.jsx("p",{children:Ge.params}),tt.jsxs("div",{className:"actions",children:[tt.jsx("button",{type:"reset",children:"Cancel"}),tt.jsx("button",{type:"submit",children:"Create Screener"})]})]})]})}function kz(){var u,f,l,y,h,S,c,o,d,w,A,C,m,E;const R=Ah(),U=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),pe=+xv().search.split("id=")[1],Re=$i(b=>b.screeners),Ge=(u=Re==null?void 0:Re.screeners)==null?void 0:u.filter(b=>(b==null?void 0:b.id)==pe)[0],j=Re?Re[+pe]:null,H=$i(b=>b.stocks.sectors),[e,g]=gn.useState(!1),[P,a]=gn.useState({}),[x,M]=gn.useState({}),[v,p]=gn.useState([]),r=$i(b=>b.stocks.stocks),t=(b,s)=>{if(Object.keys(s).length){const L=b==null?void 0:b.filter(T=>Object.values(s).map(k=>k(T)).every(k=>k===!0));p(L)}},i=mo(),n=()=>{M({}),a({}),p(r)};return gn.useEffect(()=>{n()},[pe]),gn.useEffect(()=>{pe?(p(j),M(Ge==null?void 0:Ge.params)):p(r),(Ge||pe==0)&&g(!0)},[r==null?void 0:r.length,pe,j==null?void 0:j.length,Ge==null?void 0:Ge.params]),gn.useEffect(()=>{t(v,P)},[P]),gn.useEffect(()=>{(async()=>{await i(x6()),await i(mR()),await i(DR(pe?+pe:void 0))})()},[i,pe]),e?tt.jsxs("div",{className:"screener-page",children:[tt.jsxs("div",{className:"filters",children:[tt.jsx("h2",{children:"Filters"}),tt.jsxs("div",{className:"filter-container",children:[tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Average Volume"}),attr:"avg_volume",callback:yz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:1e4,max:8e7,options:tt.jsxs(tt.Fragment,{children:[tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"< 50000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 50000"}),"Under 50,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"< 100000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 100000"}),"Under 100,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"< 200000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 200000"}),"Under 200,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"< 500000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 500000"}),"Under 500,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"< 1000000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="< 1000000"}),"Under 1,000,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"> 50000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 50000"}),"Over 50,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"> 100000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 100000"}),"Over 100,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"> 200000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 200000"}),"Over 200,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"> 500000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 500000"}),"Over 500,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"> 1000000",readOnly:!0,checked:(x==null?void 0:x.avg_volume)=="> 1000000"}),"Over 1,000,000"]})}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"avg_volume",value:"custom",readOnly:!0,checked:(f=x==null?void 0:x.avg_volume)==null?void 0:f.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Share Price"}),attr:"price",callback:mz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:2,max:1e4,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"price",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.price)=="< 10"}),"Under $10"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"price",value:"< 50",readOnly:!0,checked:(x==null?void 0:x.price)=="< 50"}),"Under $50"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"price",value:"< 100",readOnly:!0,checked:(x==null?void 0:x.price)=="< 100"}),"Under $100"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"price",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.price)=="> 10"}),"Over $10"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"price",value:"> 50",readOnly:!0,checked:(x==null?void 0:x.price)=="> 50"}),"Over $50"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"price",value:"> 100",readOnly:!0,checked:(x==null?void 0:x.price)=="> 100"}),"Over $100"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"price",value:"custom",readOnly:!0,checked:(l=x==null?void 0:x.price)==null?void 0:l.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"52 Week Range"}),attr:"year_range",callback:xz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"year_range",value:"> 1",readOnly:!0,checked:(x==null?void 0:x.year_range)=="> 1"}),"High near 1%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"year_range",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.year_range)=="> 5"}),"High near 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"year_range",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.year_range)=="> 20"}),"High near 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"year_range",value:"> 40",readOnly:!0,checked:(x==null?void 0:x.year_range)=="> 40"}),"High near 40%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"year_range",value:"< 1",readOnly:!0,checked:(x==null?void 0:x.year_range)=="< 1"}),"Low near 1%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"year_range",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.year_range)=="< 5"}),"Low near 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"year_range",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.year_range)=="< 20"}),"Low near 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"year_range",value:"< 40",readOnly:!0,checked:(x==null?void 0:x.year_range)=="< 40"}),"Low near 40%"]})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Daily % Change"}),attr:"past_day_return",callback:bz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:-100,max:200,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"> 0",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="> 0"}),"Up more than 0%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="> 5"}),"Up more than 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="> 10"}),"Up more than 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="> 20"}),"Up more than 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"< 0",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="< 0"}),"Down more than 0%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="< 5"}),"Down more than 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="< 10"}),"Down more than 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.past_day_return)=="< 20"}),"Down more than 20%"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_day_return",value:"custom",readOnly:!0,checked:(y=x==null?void 0:x.past_day_return)==null?void 0:y.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Monthly % Change"}),attr:"past_month_return",callback:wz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:-100,max:200,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"> 0",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 0"}),"Up more than 0%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 5"}),"Up more than 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 10"}),"Up more than 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 20"}),"Up more than 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"> 30",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="> 30"}),"Up more than 30%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"< 0",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 0"}),"Down more than 0%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 5"}),"Down more than 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 10"}),"Down more than 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 20"}),"Down more than 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"< 30",readOnly:!0,checked:(x==null?void 0:x.past_month_return)=="< 30"}),"Down more than 30%"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_month_return",value:"custom",readOnly:!0,checked:(h=x==null?void 0:x.past_month_return)==null?void 0:h.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Yearly % Change"}),attr:"past_year_return",callback:Tz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:-100,max:500,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"> 0",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 0"}),"Up more than 0%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 5"}),"Up more than 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 10"}),"Up more than 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 20"}),"Up more than 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"> 30",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 30"}),"Up more than 30%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"> 40",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 40"}),"Up more than 40%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"> 50",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="> 50"}),"Up more than 50%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"< 0",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 0"}),"Down more than 0%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 5"}),"Down more than 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 10"}),"Down more than 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 20"}),"Down more than 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"< 30",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 30"}),"Down more than 30%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"< 40",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 40"}),"Down more than 40%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"< 50",readOnly:!0,checked:(x==null?void 0:x.past_year_return)=="< 50"}),"Down more than 50%"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_year_return",value:"custom",readOnly:!0,checked:(S=x==null?void 0:x.past_year_return)==null?void 0:S.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Yearly % Change Over Market"}),attr:"past_outperformance",callback:Az,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:-100,max:200,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"> 0",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 0"}),"Beat by 0%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 5"}),"Beat by 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 10"}),"Beat by 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 20"}),"Beat by 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"> 30",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 30"}),"Beat by 30%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"> 40",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 40"}),"Beat by 40%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"> 50",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="> 50"}),"Beat by 50%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"< 0",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 0"}),"Under by 0%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 5"}),"Under by 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 10"}),"Under by 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"< 20",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 20"}),"Under by 20%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"< 30",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 30"}),"Under by 30%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"< 40",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 40"}),"Under by 40%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"< 50",readOnly:!0,checked:(x==null?void 0:x.past_outperformance)=="< 50"}),"Under by 50%"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"past_outperformance",value:"custom",readOnly:!0,checked:(c=x==null?void 0:x.past_outperformance)==null?void 0:c.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Market Cap"}),attr:"market_cap",callback:Sz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:100,max:2e6,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"market_cap",value:"[ 300 2000 ]",readOnly:!0,checked:(x==null?void 0:x.market_cap)=="[ 300 2000 ]"}),"Small Cap ($300M - $2B)"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"market_cap",value:"[ 2000 10000 ]",readOnly:!0,checked:(x==null?void 0:x.market_cap)=="[ 2000 10000 ]"}),"Mid Cap ($2B - $10B)"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"market_cap",value:"> 10000",readOnly:!0,checked:(x==null?void 0:x.market_cap)=="> 10000"}),"Large Cap ($10B+)"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"market_cap",value:"> 200000",readOnly:!0,checked:(x==null?void 0:x.market_cap)=="> 200000"}),"Mega Cap ($200B+)"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"market_cap",value:"custom",readOnly:!0,checked:(o=x==null?void 0:x.market_cap)==null?void 0:o.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Sector"}),attr:"sector",callback:Mz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,options:tt.jsx(tt.Fragment,{children:H==null?void 0:H.map((b,s)=>tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"sector",value:b,readOnly:!0,checked:(x==null?void 0:x.sector)==b}),b]},s))})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Shares Outstanding"}),attr:"shares_outstanding",callback:Ez,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:3,max:2e4,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 1000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 1000000"}),"Under 1M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 5000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 5000000"}),"Under 5M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 20000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 20000000"}),"Under 20M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 50000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 50000000"}),"Under 50M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"< 100000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="< 100000000"}),"Under 100M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 1000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 1000000"}),"Over 1M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 5000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 5000000"}),"Over 5M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 20000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 20000000"}),"Over 20M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 50000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 50000000"}),"Over 50M"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"> 100000000",readOnly:!0,checked:(x==null?void 0:x.shares_outstanding)=="> 100000000"}),"Over 100M"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"shares_outstanding",value:"custom",readOnly:!0,checked:(d=x==null?void 0:x.shares_outstanding)==null?void 0:d.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Short Interest %"}),attr:"short_interest",callback:Cz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:0,max:50,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"< 1",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="< 1"}),"Under 1%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"< 5",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="< 5"}),"Under 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"< 10",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="< 10"}),"Under 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"> 1",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 1"}),"Over 1%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 5"}),"Over 5%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"> 10",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 10"}),"Over 10%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"> 15",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 15"}),"Over 15%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"> 20",readOnly:!0,checked:(x==null?void 0:x.short_interest)=="> 20"}),"Over 20%"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"short_interest",value:"custom",readOnly:!0,checked:(w=x==null?void 0:x.short_interest)==null?void 0:w.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Analyst Ratings"}),attr:"recommendation",callback:Lz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"recommendation",value:"buy",readOnly:!0,checked:(x==null?void 0:x.recommendation)=="buy"}),"Buy"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"recommendation",value:"hold",readOnly:!0,checked:(x==null?void 0:x.recommendation)=="hold"}),"Hold"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"recommendation",value:"sell",readOnly:!0,checked:(x==null?void 0:x.recommendation)=="sell"}),"Sell"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"recommendation",value:"none",readOnly:!0,checked:(x==null?void 0:x.recommendation)=="none"}),"None"]})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Dividend Yield"}),attr:"dividend_yield",callback:Pz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:0,max:10,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"dividend_yield",value:"0",readOnly:!0,checked:(x==null?void 0:x.dividend_yield)=="0"}),"None"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"dividend_yield",value:"< 2",readOnly:!0,checked:(x==null?void 0:x.dividend_yield)=="< 2"}),"2% or Less"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"dividend_yield",value:"> 2",readOnly:!0,checked:(x==null?void 0:x.dividend_yield)=="> 2"}),"Over 2%"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"dividend_yield",value:"> 5",readOnly:!0,checked:(x==null?void 0:x.dividend_yield)=="> 5"}),"Over 5%"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"dividend_yield",value:"custom",readOnly:!0,checked:(A=x==null?void 0:x.dividend_yield)==null?void 0:A.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Trailing PE Ratio"}),attr:"trailing_pe",callback:Rz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:0,max:100,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"> 5",selected:(x==null?void 0:x.trailing_pe)=="> 5"}),"More than 5"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"> 15",selected:(x==null?void 0:x.trailing_pe)=="> 15"}),"More than 15"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"> 20",selected:(x==null?void 0:x.trailing_pe)=="> 20"}),"More than 20"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"> 50",selected:(x==null?void 0:x.trailing_pe)=="> 50"}),"More than 50"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"< 5",selected:(x==null?void 0:x.trailing_pe)=="< 5"}),"Less than 5"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"< 15",selected:(x==null?void 0:x.trailing_pe)=="< 15"}),"Less than 15"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"< 20",selected:(x==null?void 0:x.trailing_pe)=="< 20"}),"Less than 20"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"< 50",selected:(x==null?void 0:x.trailing_pe)=="< 50"}),"Less than 50"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"trailing_pe",value:"custom",readOnly:!0,checked:(C=x==null?void 0:x.trailing_pe)==null?void 0:C.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Forward PE Ratio"}),attr:"forward_pe",callback:Dz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:0,max:100,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"> 5",selected:(x==null?void 0:x.forward_pe)=="> 5"}),"More than 5"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"> 15",selected:(x==null?void 0:x.forward_pe)=="> 15"}),"More than 15"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"> 20",selected:(x==null?void 0:x.forward_pe)=="> 20"}),"More than 20"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"> 50",selected:(x==null?void 0:x.forward_pe)=="> 50"}),"More than 50"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"< 5",selected:(x==null?void 0:x.forward_pe)=="< 5"}),"Less than 5"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"< 15",selected:(x==null?void 0:x.forward_pe)=="< 15"}),"Less than 15"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"< 20",selected:(x==null?void 0:x.forward_pe)=="< 20"}),"Less than 20"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"< 50",selected:(x==null?void 0:x.forward_pe)=="< 50"}),"Less than 50"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"forward_pe",value:"custom",readOnly:!0,checked:(m=x==null?void 0:x.forward_pe)==null?void 0:m.startsWith("custom")}),"Custom Range"]})})]})}),tt.jsx(Rs,{allStocks:j||r,title:tt.jsx("h3",{children:"Price to Book Ratio"}),attr:"pb",callback:Iz,filters:P,setFilters:a,setSelected:M,selected:x,setAllStocks:p,min:1,max:400,options:tt.jsxs(tt.Fragment,{children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"pb",value:"< 5",selected:(x==null?void 0:x.pb)=="< 5"}),"Less than 5"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"pb",value:"> 5",selected:(x==null?void 0:x.pb)=="> 5"}),"More than 5"]}),tt.jsx("div",{children:tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"pb",value:"custom",readOnly:!0,checked:(E=x==null?void 0:x.pb)==null?void 0:E.startsWith("custom")}),"Custom Range"]})})]})})]}),tt.jsx("button",{onClick:()=>n(),children:"Clear Filters"}),tt.jsx(mh,{buttonText:"Create New Screener",modalComponent:tt.jsx(_z,{params:x})})]}),tt.jsxs("div",{className:"all-stocks",children:[tt.jsxs("div",{className:"screener-header",children:[tt.jsx("h2",{children:(Ge==null?void 0:Ge.name)||"All Stocks"}),tt.jsxs("p",{children:[v==null?void 0:v.length," items"]})]}),tt.jsxs("table",{children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{scope:"col",children:"Ticker"}),tt.jsx("th",{scope:"col",children:"Name"}),tt.jsx("th",{scope:"col",children:"1D % Change"}),tt.jsx("th",{scope:"col",children:"Price"}),tt.jsx("th",{scope:"col",children:"Avg Volume"}),tt.jsx("th",{scope:"col",children:"Mkt Cap"}),tt.jsx("th",{scope:"col",children:"1M % Change"}),tt.jsx("th",{scope:"col",children:"1Y % Change"}),tt.jsx("th",{scope:"col",children:"1Y % Change over Mkt"}),tt.jsx("th",{scope:"col",children:"Watch"})]})}),tt.jsxs("tbody",{children:[!(v!=null&&v.length)&&tt.jsx(xh,{}),v==null?void 0:v.map(b=>{var s,L;return tt.jsxs("tr",{className:"stock-card",onClick:()=>R(`/stocks/${b.ticker}`),children:[tt.jsx("th",{scope:"row",children:b.ticker}),tt.jsx("td",{children:b.name}),tt.jsxs("td",{children:[(b.past_day_return*100).toFixed(2),"%"]}),tt.jsx("td",{children:U.format(b.price)}),tt.jsx("td",{children:(s=b==null?void 0:b.avg_volume)==null?void 0:s.toLocaleString("en",{minimumFractionDigits:0,maximumFractionDigits:0})}),tt.jsxs("td",{children:["$",(L=b==null?void 0:b.market_cap)==null?void 0:L.toLocaleString("en",{minimumFractionDigits:0,maximumFractionDigits:0})," M"]}),tt.jsxs("td",{children:[((b==null?void 0:b.past_month_return)*100).toFixed(2),"%"]}),tt.jsxs("td",{children:[((b==null?void 0:b.past_year_return)*100).toFixed(2),"%"]}),tt.jsxs("td",{children:[((b==null?void 0:b.past_outperformance)*100).toFixed(2),"%"]}),tt.jsx("td",{children:tt.jsx(mh,{buttonText:tt.jsx(Gy,{}),modalComponent:tt.jsx(V6,{stock:b,ticker:b.ticker})})})]},b.ticker)})]})]})]})]}):tt.jsx(xh,{})}function Fz(){return tt.jsxs("ul",{className:"account-navbar",children:[tt.jsx("li",{className:"account-navbar-item",children:tt.jsx(Hi,{to:"positions",children:"Positions"})}),tt.jsx("li",{className:"account-navbar-item",children:tt.jsx(Hi,{to:"transfers",children:"Transfers"})}),tt.jsx("li",{className:"account-navbar-item",children:tt.jsx(Hi,{to:"watchlists",children:"Watchlists"})}),tt.jsx("li",{className:"account-navbar-item",children:tt.jsx(Hi,{to:"screeners",children:"Screeners"})}),tt.jsx("li",{className:"account-navbar-item",children:tt.jsx(Hi,{to:"strategies",children:"Strategies"})}),tt.jsx("li",{className:"account-navbar-item",children:tt.jsx(Hi,{to:"history",children:"History"})})]})}function Oz(){const R=$i(U=>U.session.user);return tt.jsxs("div",{className:"account-page",children:[tt.jsx("h1",{children:R.name}),tt.jsx(Fz,{}),tt.jsx(VA,{})]})}function zz(){const[R,U]=gn.useState(!1),ee=mo(),pe=$i(Ge=>Ge.portfolio.portfolio),Re=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return gn.useEffect(()=>{ee(K9()).then(U(!0))},[ee]),R?tt.jsx("div",{className:"account-summary-page",children:tt.jsxs("table",{children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{scope:"col",children:"Ticker"}),tt.jsx("th",{scope:"col",children:"Stock"}),tt.jsx("th",{scope:"col",children:"Last Price"}),tt.jsx("th",{scope:"col",children:"Quantity"}),tt.jsx("th",{scope:"col",children:"Total $ Change"}),tt.jsx("th",{scope:"col",children:"Total % Change"}),tt.jsx("th",{scope:"col",children:"Current Value"}),tt.jsx("th",{scope:"col",children:"% of Portfolio"}),tt.jsx("th",{scope:"col",children:"Avg Cost Basis"})]})}),tt.jsx("tbody",{children:pe==null?void 0:pe.map((Ge,j)=>tt.jsxs("tr",{children:[tt.jsx("th",{scope:"row",children:Ge.ticker=="-"?Ge.ticker:tt.jsx(Hi,{to:`/stocks/${Ge==null?void 0:Ge.ticker}`,children:Ge.ticker})}),tt.jsx("td",{children:Ge.name}),tt.jsx("td",{children:Ge.price?Re.format(Ge.price):"-"}),tt.jsx("td",{children:Ge.quantity?Ge.quantity.toFixed(2):"-"}),tt.jsx("td",{children:Ge["GL%"]?Re.format(Ge.GL$):"-"}),tt.jsx("td",{children:Ge["GL%"]?(Ge["GL%"]*100).toFixed(2)+"%":"-"}),tt.jsx("td",{children:Re.format(Ge.value)}),tt.jsxs("td",{children:[(Ge.portfolio_weight*100).toFixed(2),"%"]}),tt.jsx("td",{children:Ge.cost_basis?Re.format(Ge.cost_basis):"-"})]},j))})]})}):tt.jsx(xh,{})}function Nz({cash:R}){const U=mo(),ee=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),[pe,Re]=gn.useState(0),[Ge,j]=gn.useState({}),{closeModal:H}=pu(),e=async g=>{if(g.preventDefault(),j({}),pe>R)return j({funds:"Amount exceeds available cash"});if(pe<=0)return j({funds:"Amount must be greater than 0"});const P=await U(a6(-pe));P?j(P):H()};return tt.jsxs(tt.Fragment,{children:[tt.jsx("h1",{children:"Withdraw Funds"}),tt.jsxs("div",{children:["Available Cash: ",ee.format(R)]}),tt.jsxs("label",{children:["Withdrawal Amount:",tt.jsx("input",{type:"number",value:pe,onChange:g=>Re(g.target.value),min:0,required:!0})]}),Ge.funds&&tt.jsx("p",{children:Ge.funds}),tt.jsx("button",{onClick:e,children:"Withdraw"})]})}function Bz(){const R=mo(),U=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),ee=$i(Re=>Re.portfolio.purchasing_power),pe=$i(Re=>Re.portfolio.transfers);return gn.useEffect(()=>{R(n6()),R($9())},[R]),tt.jsxs("div",{className:"transfers-page",children:[tt.jsxs("div",{className:"transfer-actions",children:[tt.jsx("h1",{children:"Start a Transfer"}),tt.jsxs("h2",{children:["Withdrawable Cash: ",U.format(ee)]}),tt.jsxs("div",{className:"actions",children:[tt.jsx(mh,{buttonText:"Deposit",modalComponent:tt.jsx(U6,{})}),tt.jsx(mh,{modalComponent:tt.jsx(Nz,{cash:ee}),buttonText:"Withdraw"})]})]}),tt.jsxs("div",{className:"transfer-history",children:[tt.jsx("h2",{children:"Transfer History"}),tt.jsxs("table",{children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{scope:"col",children:"Transfer Date"}),tt.jsx("th",{scope:"col",children:"Transfer Type"}),tt.jsx("th",{scope:"col",children:"Quantity"})]})}),tt.jsx("tbody",{children:pe==null?void 0:pe.map((Re,Ge)=>tt.jsxs("tr",{children:[tt.jsx("th",{scope:"row",children:Re.placed_on.split(", ")[1].slice(0,11)}),tt.jsx("td",{children:Re.quantity>0?"Deposit":"Withdrawal"}),tt.jsx("td",{children:U.format(Math.abs(Re.quantity))})]},Ge))})]})]})]})}function Uz(){const[R,U]=gn.useState(!1),ee=mo(),pe=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Re=$i(Ge=>Ge.orders.orders);return gn.useEffect(()=>{ee(SR()).then(U(!0))},[ee,U]),R?tt.jsxs(tt.Fragment,{children:[tt.jsx("h1",{children:"Order History"}),tt.jsxs("table",{children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{scope:"col",children:"Order Number"}),tt.jsx("th",{scope:"col",children:"Order Date"}),tt.jsx("th",{scope:"col",children:"Ticker"}),tt.jsx("th",{scope:"col",children:"Cost Basis"}),tt.jsx("th",{scope:"col",children:"Quantity"}),tt.jsx("th",{scope:"col",children:"Total Cost"})]})}),tt.jsx("tbody",{children:Re==null?void 0:Re.map((Ge,j)=>tt.jsxs("tr",{children:[tt.jsx("th",{scope:"row",children:Ge.order_number}),tt.jsx("td",{children:Ge.placed_on.split(", ")[1].slice(0,11)}),tt.jsx("td",{children:Ge.stock_ticker}),tt.jsx("td",{children:pe.format(Ge.cost_basis)}),tt.jsx("td",{children:Ge.quantity}),tt.jsx("td",{children:pe.format(Ge.cost_basis*Ge.quantity)})]},j))})]})]}):tt.jsx(xh,{})}function Vz(){return tt.jsx("h1",{children:"Account Watchlists Page"})}function Hz(){return tt.jsx("h1",{children:"Account Screeners Page"})}const jz=h9([{element:tt.jsx(dD,{}),children:[{path:"/",element:tt.jsx(GR,{})},{path:"login",element:tt.jsx(HR,{})},{path:"signup",element:tt.jsx(jR,{})},{path:"dashboard",element:tt.jsx(LD,{})},{path:"watchlists/:listId",element:tt.jsx(PD,{})},{path:"stocks/:ticker",element:tt.jsx(kD,{})},{path:"screener",element:tt.jsx(kz,{})},{path:"loading",element:tt.jsx(xh,{})},{path:"account",element:tt.jsx(Oz,{}),children:[{path:"positions",element:tt.jsx(zz,{})},{path:"transfers",element:tt.jsx(Bz,{})},{path:"watchlists",element:tt.jsx(Vz,{})},{path:"screeners",element:tt.jsx(Hz,{})},{path:"strategies",element:tt.jsx("h1",{children:"Strategies Coming Soon"})},{path:"history",element:tt.jsx(Uz,{})}]}]}]);const Gz=VR();P1.createRoot(document.getElementById("root")).render(tt.jsx(ac.StrictMode,{children:tt.jsx(QP,{store:Gz,children:tt.jsx(b9,{router:jz})})}));
